

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew_path%3D%252Fburst-statistics%252Ftags%252F1.5.7%26old%3D3049793%26new%3D3049793%26old_path%3D%252Fburst-statistics%252Ftags%252F1.5.6.1)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3049793/burst-statistics/tags/1.5.6.1?old=3049793&old_path=%2Fburst-statistics%2Ftags%2F1.5.7)

---

# Changes from [burst-statistics/tags/1.5.6.1](/browser/burst-statistics/tags/1.5.6.1?rev=3049793 "Show entry in browser") at [r3049793](/changeset/3049793 "Show full changeset") to [burst-statistics/tags/1.5.7](/browser/burst-statistics/tags/1.5.7?rev=3049793 "Show entry in browser") at [r3049793](/changeset/3049793 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[burst-statistics/tags](/browser/burst-statistics/tags?rev=3049793)
Files:

3 deleted
7 edited

* [1.5.7/burst.php](/browser/burst-statistics/tags/1.5.7/burst.php?rev=3049042 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [1.5.7/class-frontend.php](/browser/burst-statistics/tags/1.5.7/class-frontend.php?rev=3049042 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [1.5.7/functions.php](/browser/burst-statistics/tags/1.5.7/functions.php?rev=3049042 "Show entry in browser")
  (modified)
  ([6 diffs](#file4 "Show differences"))
* [1.5.7/readme.txt](/browser/burst-statistics/tags/1.5.7/readme.txt?rev=3049042 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [1.5.6.1/settings/build/44.8a9a17f5b6c0dbfdf6ed.js](/browser/burst-statistics/trunk/settings/build/44.8a9a17f5b6c0dbfdf6ed.js?rev=3037867 "Show what was removed (content at revision 3049793)")
  (deleted)
* [1.5.6.1/settings/build/index.455adab67c6f888ceb8f.asset.php](/browser/burst-statistics/trunk/settings/build/index.455adab67c6f888ceb8f.asset.php?rev=3037867 "Show what was removed (content at revision 3049793)")
  (deleted)
* [1.5.6.1/settings/build/index.455adab67c6f888ceb8f.js](/browser/burst-statistics/trunk/settings/build/index.455adab67c6f888ceb8f.js?rev=3037867 "Show what was removed (content at revision 3049793)")
  (deleted)
* [1.5.7/statistics/class-statistics.php](/browser/burst-statistics/tags/1.5.7/statistics/class-statistics.php?rev=3049042 "Show entry in browser")
  (modified)
  ([4 diffs](#file24 "Show differences"))
* [1.5.7/tracking/tracking.php](/browser/burst-statistics/tags/1.5.7/tracking/tracking.php?rev=3049042 "Show entry in browser")
  (modified)
  ([1 diff](#file25 "Show differences"))
* [1.5.7/uninstall.php](/browser/burst-statistics/tags/1.5.7/uninstall.php?rev=3049042 "Show entry in browser")
  (modified)
  ([1 diff](#file26 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [burst-statistics/tags/1.5.7/burst.php](/changeset/3049042/burst-statistics/tags/1.5.7/burst.php?old=3038515&old_path=burst-statistics%2Ftags%2F1.5.6.1%2Fburst.php "Show the [3049793:3049793] differences restricted to burst-statistics/tags/1.5.7/burst.php")

  | [r3049793](/browser/burst-statistics/tags/1.5.6.1/burst.php?rev=3038515#L4 "Show revision 3049793 of this file in browser") | [r3049793](/browser/burst-statistics/tags/1.5.7/burst.php?rev=3049042#L4 "Show revision 3049793 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: https://www.wordpress.org/plugins/burst-statistics |
  | 5 | 5 | \* Description: Get detailed insights into visitors’ behavior with Burst Statistics, the privacy-friendly analytics dashboard. |
  | 6 |  | \* Version: 1.5.~~6.1~~ |
  |  | 6 | \* Version: 1.5.7 |
  | 7 | 7 | \* Requires at least: 5.8 |
  | 8 | 8 | \* Requires PHP: 7.2 |
  | […](/browser/burst-statistics/tags/1.5.6.1/burst.php?rev=3038515#L97) | […](/browser/burst-statistics/tags/1.5.7/burst.php?rev=3049042#L97) |  |
  | 97 | 97 | define( 'burst\_plugin\_folder', $burst\_plugin ); |
  | 98 | 98 | $debug = ( defined( 'SCRIPT\_DEBUG' ) && SCRIPT\_DEBUG ) ? '#'.time() : ''; |
  | 99 |  | define( 'burst\_version', '1.5.~~6.1~~' . $debug ); |
  |  | 99 | define( 'burst\_version', '1.5.7' . $debug ); |
  | 100 | 100 | define( 'burst\_plugin\_file', \_\_FILE\_\_ ); |
  | 101 | 101 | define( 'burst\_main\_menu\_position', 100 ); |
* ## [burst-statistics/tags/1.5.7/class-frontend.php](/changeset/3049042/burst-statistics/tags/1.5.7/class-frontend.php?old=3037867&old_path=burst-statistics%2Ftrunk%2Fclass-frontend.php "Show the [3049793:3049793] differences restricted to burst-statistics/tags/1.5.7/class-frontend.php")

  | [r3049793](/browser/burst-statistics/trunk/class-frontend.php?rev=3037867#L65 "Show revision 3049793 of this file in browser") | [r3049793](/browser/burst-statistics/tags/1.5.7/class-frontend.php?rev=3049042#L65 "Show revision 3049793 of this file in browser") |  |
  | --- | --- | --- |
  | 65 | 65 | if ( $post && is\_object($post) ) { |
  | 66 | 66 | $post\_id = $post->ID; |
  | 67 |  | $count = get\_post\_meta( $post\_id, 'burst\_total\_pageviews\_count', true ); |
  |  | 67 | $count = (int) get\_post\_meta( $post\_id, 'burst\_total\_pageviews\_count', true ); |
  | 68 | 68 | } else { |
  | 69 | 69 | $count = 0; |
* ## [burst-statistics/tags/1.5.7/functions.php](/changeset/3049042/burst-statistics/tags/1.5.7/functions.php?old=3037867&old_path=burst-statistics%2Ftrunk%2Ffunctions.php "Show the [3049793:3049793] differences restricted to burst-statistics/tags/1.5.7/functions.php")

  | [r3049793](/browser/burst-statistics/trunk/functions.php?rev=3037867#L165 "Show revision 3049793 of this file in browser") | [r3049793](/browser/burst-statistics/tags/1.5.7/functions.php?rev=3049042#L165 "Show revision 3049793 of this file in browser") |  |
  | --- | --- | --- |
  | 165 | 165 | function burst\_admin\_url(){ |
  | 166 | 166 | return is\_multisite() && is\_network\_admin() ? network\_admin\_url('index.php') : admin\_url("index.php"); |
  | 167 |  | ~~}~~ |
  | 168 |  | ~~}~~ |
  | 169 |  |  |
  | 170 |  |  |
  | 171 |  | ~~if ( ! function\_exists('burst\_read\_more' ) ) {~~ |
  | 172 |  | ~~/\*\*~~ |
  | 173 |  | ~~\* Create a generic read more text with link for help texts.~~ |
  | 174 |  | ~~\*~~ |
  | 175 |  | ~~\* @param string $url~~ |
  | 176 |  | ~~\* @param bool   $add\_space~~ |
  | 177 |  | ~~\*~~ |
  | 178 |  | ~~\* @return string~~ |
  | 179 |  | ~~\*/~~ |
  | 180 |  | ~~function burst\_read\_more( $url, $text = '', $add\_space = true ) {~~ |
  | 181 |  | ~~if ($text !== ''){~~ |
  | 182 |  | ~~$html~~ |
  | 183 |  | ~~= burst\_sprintf( $text, '<a target="\_blank" href="' . $url . '">',~~ |
  | 184 |  | ~~'</a>' );~~ |
  | 185 |  | ~~} else {~~ |
  | 186 |  | ~~$html~~ |
  | 187 |  | ~~= burst\_sprintf( \_\_( "For more information on this subject, please read this %sarticle%s", 'burst-statistics' ), '<a target="\_blank" href="' . $url . '">',~~ |
  | 188 |  | ~~'</a>' );~~ |
  | 189 |  | ~~}~~ |
  | 190 |  |  |
  | 191 |  | ~~if ( $add\_space ) {~~ |
  | 192 |  | ~~$html = '&nbsp;' . $html;~~ |
  | 193 |  | ~~}~~ |
  | 194 |  |  |
  | 195 |  | ~~return $html;~~ |
  | 196 |  | ~~}~~ |
  | 197 |  | ~~}~~ |
  | 198 |  |  |
  | 199 |  | ~~if ( ! function\_exists( 'burst\_array\_filter\_multidimensional' ) ) {~~ |
  | 200 |  | ~~function burst\_array\_filter\_multidimensional(~~ |
  | 201 |  | ~~$array, $filter\_key, $filter\_value~~ |
  | 202 |  | ~~) {~~ |
  | 203 |  | ~~return array\_filter( $array,~~ |
  | 204 |  | ~~static function( $var ) use ( $filter\_value, $filter\_key ) {~~ |
  | 205 |  | ~~return isset( $var[ $filter\_key ] ) && $var[ $filter\_key ] === $filter\_value;~~ |
  | 206 |  | ~~} );~~ |
  | 207 | 167 | } |
  | 208 | 168 | } |
  | […](/browser/burst-statistics/trunk/functions.php?rev=3037867#L261) | […](/browser/burst-statistics/tags/1.5.7/functions.php?rev=3049042#L221) |  |
  | 261 | 221 | } |
  | 262 | 222 |  |
  | 263 |  | ~~if ( ! function\_exists( 'burst\_get\_html\_template' ) ) {~~ |
  | 264 |  | ~~/\*\*~~ |
  | 265 |  | ~~\* Get a template based on filename, overridable in theme dir~~ |
  | 266 |  | ~~\*~~ |
  | 267 |  | ~~\* @param $filename~~ |
  | 268 |  | ~~\*~~ |
  | 269 |  | ~~\* @return string~~ |
  | 270 |  | ~~\*/~~ |
  | 271 |  |  |
  | 272 |  | ~~function burst\_get\_html\_template( $filename, $args = array() ) {~~ |
  | 273 |  |  |
  | 274 |  | ~~$file       = trailingslashit( burst\_path ) . 'settings/templates/' . $filename;~~ |
  | 275 |  | ~~$theme\_file = trailingslashit( get\_stylesheet\_directory() )~~ |
  | 276 |  | ~~. trailingslashit( basename( burst\_path ) )~~ |
  | 277 |  | ~~. 'templates/' . $filename;~~ |
  | 278 |  |  |
  | 279 |  | ~~if ( file\_exists( $theme\_file ) ) {~~ |
  | 280 |  | ~~$file = $theme\_file;~~ |
  | 281 |  | ~~}~~ |
  | 282 |  |  |
  | 283 |  | ~~if ( ! file\_exists( $file ) ) {~~ |
  | 284 |  | ~~return false;~~ |
  | 285 |  | ~~}~~ |
  | 286 |  |  |
  | 287 |  | ~~if ( strpos( $file, '.php' ) !== false ) {~~ |
  | 288 |  | ~~ob\_start();~~ |
  | 289 |  | ~~require $file;~~ |
  | 290 |  | ~~$contents = ob\_get\_clean();~~ |
  | 291 |  | ~~} else {~~ |
  | 292 |  | ~~$contents = file\_get\_contents( $file );~~ |
  | 293 |  | ~~}~~ |
  | 294 |  |  |
  | 295 |  | ~~if ( ! empty( $args ) && is\_array( $args ) ) {~~ |
  | 296 |  | ~~foreach ( $args as $fieldname => $value ) {~~ |
  | 297 |  | ~~$contents = str\_replace( '{' . $fieldname . '}', $value, $contents );~~ |
  | 298 |  | ~~}~~ |
  | 299 |  | ~~}~~ |
  | 300 |  |  |
  | 301 |  | ~~return $contents;~~ |
  | 302 |  | ~~}~~ |
  | 303 |  | ~~}~~ |
  | 304 |  |  |
  | 305 | 223 | if ( ! function\_exists( 'burst\_format\_milliseconds\_to\_readable\_time' ) ) { |
  | 306 | 224 | /\*\* |
  | […](/browser/burst-statistics/trunk/functions.php?rev=3037867#L375) | […](/browser/burst-statistics/tags/1.5.7/functions.php?rev=3049042#L293) |  |
  | 375 | 293 | } |
  | 376 | 294 |  |
  | 377 |  | ~~if ( ! function\_exists( 'burst\_get\_current\_post\_type' ) ) {~~ |
  | 378 |  |  |
  | 379 |  | ~~/\*\*~~ |
  | 380 |  | ~~\* Get the current post type~~ |
  | 381 |  | ~~\*~~ |
  | 382 |  | ~~\* @param int $post\_id~~ |
  | 383 |  | ~~\*~~ |
  | 384 |  | ~~\* @return string|bool~~ |
  | 385 |  | ~~\*/~~ |
  | 386 |  |  |
  | 387 |  | ~~function burst\_get\_current\_post\_type( $post\_id = false ) {~~ |
  | 388 |  | ~~if ( ! $post\_id ) {~~ |
  | 389 |  | ~~$post\_id = burst\_get\_current\_post\_id();~~ |
  | 390 |  | ~~}~~ |
  | 391 |  | ~~if ( ! $post\_id ) {~~ |
  | 392 |  | ~~return false;~~ |
  | 393 |  | ~~}~~ |
  | 394 |  |  |
  | 395 |  | ~~$post = get\_post( $post\_id );~~ |
  | 396 |  |  |
  | 397 |  | ~~return $post->post\_type ?? '';~~ |
  | 398 |  | ~~}~~ |
  | 399 |  |  |
  | 400 |  | ~~}~~ |
  | 401 |  |  |
  | 402 |  | ~~if ( ! function\_exists( 'burst\_get\_current\_post\_id' ) ) {~~ |
  | 403 |  |  |
  | 404 |  | ~~/\*\*~~ |
  | 405 |  | ~~\* Get the current post type~~ |
  | 406 |  | ~~\*~~ |
  | 407 |  | ~~\* @return int~~ |
  | 408 |  | ~~\*/~~ |
  | 409 |  |  |
  | 410 |  | ~~function burst\_get\_current\_post\_id() {~~ |
  | 411 |  | ~~$post\_id = get\_the\_ID();~~ |
  | 412 |  |  |
  | 413 |  | ~~if ( ! $post\_id ) {~~ |
  | 414 |  | ~~$post\_id = isset( $\_GET['post'] ) && is\_numeric( $\_GET['post'] ) ? (int) $\_GET['post'] : false;~~ |
  | 415 |  | ~~}~~ |
  | 416 |  |  |
  | 417 |  | ~~return $post\_id;~~ |
  | 418 |  | ~~}~~ |
  | 419 |  | ~~}~~ |
  | 420 |  |  |
  | 421 |  |  |
  | 422 | 295 | /\*\* |
  | 423 | 296 | \* Get a Burst option by name |
  | […](/browser/burst-statistics/trunk/functions.php?rev=3037867#L440) | […](/browser/burst-statistics/tags/1.5.7/functions.php?rev=3049042#L313) |  |
  | 440 | 313 |  |
  | 441 | 314 | return apply\_filters("burst\_option\_$name", $value, $name); |
  | 442 |  | ~~}~~ |
  | 443 |  |  |
  | 444 |  | ~~/\*\*~~ |
  | 445 |  | ~~\* Deprecated: Get a Burst option by name, use burst\_get\_option instead~~ |
  | 446 |  | ~~\* @deprecated 1.3.0~~ |
  | 447 |  | ~~\* @param $name~~ |
  | 448 |  | ~~\* @param $default~~ |
  | 449 |  | ~~\*~~ |
  | 450 |  | ~~\* @return mixed~~ |
  | 451 |  | ~~\*/~~ |
  | 452 |  | ~~function burst\_get\_value( $name, $default = false ) {~~ |
  | 453 |  | ~~return burst\_get\_option( $name, $default );~~ |
  | 454 |  | ~~}~~ |
  | 455 |  |  |
  | 456 |  | ~~if ( ! function\_exists( 'burst\_intro' ) ) {~~ |
  | 457 |  |  |
  | 458 |  | ~~/\*\*~~ |
  | 459 |  | ~~\* @param string $msg~~ |
  | 460 |  | ~~\*~~ |
  | 461 |  | ~~\* @return string|void~~ |
  | 462 |  | ~~\*/~~ |
  | 463 |  |  |
  | 464 |  | ~~function burst\_intro( $msg ) {~~ |
  | 465 |  | ~~if ( $msg == '' ) {~~ |
  | 466 |  | ~~return;~~ |
  | 467 |  | ~~}~~ |
  | 468 |  | ~~$html = "<div class='burst-panel burst-notification burst-intro'>{$msg}</div>";~~ |
  | 469 |  |  |
  | 470 |  | ~~echo esc\_html( $html );~~ |
  | 471 |  |  |
  | 472 |  | ~~}~~ |
  | 473 |  | ~~}~~ |
  | 474 |  |  |
  | 475 |  | ~~if ( ! function\_exists( 'burst\_notice' ) ) {~~ |
  | 476 |  | ~~/\*\*~~ |
  | 477 |  | ~~\* Notification without arrow on the left. Should be used outside notifications center~~ |
  | 478 |  | ~~\*~~ |
  | 479 |  | ~~\* @param string $msg~~ |
  | 480 |  | ~~\* @param string $type notice | warning | success~~ |
  | 481 |  | ~~\* @param bool   $echo~~ |
  | 482 |  | ~~\*~~ |
  | 483 |  | ~~\* @return string|void~~ |
  | 484 |  | ~~\*/~~ |
  | 485 |  | ~~function burst\_notice( $msg, $type = 'notice', $echo = true ) {~~ |
  | 486 |  | ~~if ( $msg == '' ) {~~ |
  | 487 |  | ~~return;~~ |
  | 488 |  | ~~}~~ |
  | 489 |  |  |
  | 490 |  | ~~$html = "<div class='burst-panel-wrap'><div class='burst-panel burst-notification burst-{$type}'><div>{$msg}</div></div></div>";~~ |
  | 491 |  |  |
  | 492 |  | ~~if ( $echo ) {~~ |
  | 493 |  | ~~echo esc\_html( $html );~~ |
  | 494 |  | ~~} else {~~ |
  | 495 |  | ~~return esc\_html( $html );~~ |
  | 496 |  | ~~}~~ |
  | 497 |  | ~~}~~ |
  | 498 |  | ~~}~~ |
  | 499 |  |  |
  | 500 |  | ~~if ( ! function\_exists( 'burst\_admin\_notice' ) ) {~~ |
  | 501 |  | ~~/\*\*~~ |
  | 502 |  | ~~\* @param $msg~~ |
  | 503 |  | ~~\*~~ |
  | 504 |  | ~~\* @return void~~ |
  | 505 |  | ~~\*/~~ |
  | 506 |  | ~~function burst\_admin\_notice( $msg ) {~~ |
  | 507 |  | ~~/\*\*~~ |
  | 508 |  | ~~\* Prevent notice from being shown on Gutenberg page, as it strips off the class we need for the ajax callback.~~ |
  | 509 |  | ~~\*~~ |
  | 510 |  | ~~\* \*/~~ |
  | 511 |  | ~~$screen = get\_current\_screen();~~ |
  | 512 |  | ~~if ( $screen && $screen->parent\_base === 'edit' ) {~~ |
  | 513 |  | ~~return;~~ |
  | 514 |  | ~~}~~ |
  | 515 |  | ~~?>~~ |
  | 516 |  | ~~<div id="message"~~ |
  | 517 |  | ~~class="updated fade notice is-dismissible burst-admin-notice really-simple-plugins"~~ |
  | 518 |  | ~~style="border-left:4px solid #333">~~ |
  | 519 |  | ~~<div class="burst-admin-notice-container">~~ |
  | 520 |  | ~~<div class="burst-logo"><img width=80px"~~ |
  | 521 |  | ~~src="<?php echo esc\_url( burst\_url ) ?>assets/img/icon-logo.svg"~~ |
  | 522 |  | ~~alt="logo">~~ |
  | 523 |  | ~~</div>~~ |
  | 524 |  | ~~<div style="margin-left:30px">~~ |
  | 525 |  | ~~<?php echo wp\_kses\_post( $msg ) ?>~~ |
  | 526 |  | ~~</div>~~ |
  | 527 |  | ~~</div>~~ |
  | 528 |  | ~~</div>~~ |
  | 529 |  | ~~<?php~~ |
  | 530 |  |  |
  | 531 |  | ~~}~~ |
  | 532 |  | ~~}~~ |
  | 533 |  |  |
  | 534 |  | ~~if ( ! function\_exists( 'burst\_panel' ) ) {~~ |
  | 535 |  | ~~/\*\*~~ |
  | 536 |  | ~~\* @param $title~~ |
  | 537 |  | ~~\* @param $html~~ |
  | 538 |  | ~~\* @param $custom\_btn~~ |
  | 539 |  | ~~\* @param $validate~~ |
  | 540 |  | ~~\* @param $echo~~ |
  | 541 |  | ~~\* @param $open~~ |
  | 542 |  | ~~\*~~ |
  | 543 |  | ~~\* @return string|void~~ |
  | 544 |  | ~~\*/~~ |
  | 545 |  | ~~function burst\_panel( $title, $html, $custom\_btn = '', $validate = '', $echo = true, $open = false ) {~~ |
  | 546 |  | ~~if ( $title == '' ) {~~ |
  | 547 |  | ~~return '';~~ |
  | 548 |  | ~~}~~ |
  | 549 |  |  |
  | 550 |  | ~~$open\_class = $open ? 'style="display: block;"' : '';~~ |
  | 551 |  |  |
  | 552 |  | ~~$output = '~~ |
  | 553 |  | ~~<div class="burst-panel burst-slide-panel burst-toggle-active">~~ |
  | 554 |  | ~~<div class="burst-panel-title">~~ |
  | 555 |  |  |
  | 556 |  | ~~<span class="burst-panel-toggle">~~ |
  | 557 |  | ~~' . burst\_icon( 'arrow-right', 'default' ) . '~~ |
  | 558 |  | ~~<span class="burst-title">' . $title . '</span>~~ |
  | 559 |  | ~~</span>~~ |
  | 560 |  | ~~<span>' . $validate . '</span>~~ |
  | 561 |  | ~~<span>' . $custom\_btn . '</span>~~ |
  | 562 |  | ~~</div>~~ |
  | 563 |  | ~~<div class="burst-panel-content" ' . $open\_class . '>~~ |
  | 564 |  | ~~' . $html . '~~ |
  | 565 |  | ~~</div>~~ |
  | 566 |  | ~~</div>';~~ |
  | 567 |  |  |
  | 568 |  | ~~if ( $echo ) {~~ |
  | 569 |  | ~~echo wp\_kses\_post( $output );~~ |
  | 570 |  | ~~} else {~~ |
  | 571 |  | ~~return $output;~~ |
  | 572 |  | ~~}~~ |
  | 573 |  |  |
  | 574 |  | ~~}~~ |
  | 575 | 315 | } |
  | 576 | 316 |  |
  | […](/browser/burst-statistics/trunk/functions.php?rev=3037867#L735) | […](/browser/burst-statistics/tags/1.5.7/functions.php?rev=3049042#L475) |  |
  | 735 | 475 | } |
  | 736 | 476 |  |
  | 737 |  | ~~if ( ! function\_exists( 'burst\_get\_rest\_url' ) ) {~~ |
  | 738 |  | ~~/\*\*~~ |
  | 739 |  | ~~\* Get beacon path~~ |
  | 740 |  | ~~\*~~ |
  | 741 |  | ~~\* @return string~~ |
  | 742 |  | ~~\*/~~ |
  | 743 |  | ~~function burst\_get\_rest\_url(): string {~~ |
  | 744 |  | ~~if ( is\_multisite() && burst\_is\_networkwide\_active() ) {~~ |
  | 745 |  | ~~if ( is\_main\_site() ) {~~ |
  | 746 |  | ~~return get\_rest\_url();~~ |
  | 747 |  | ~~} else {~~ |
  | 748 |  | ~~//replace the subsite url with the main site url in burst\_url~~ |
  | 749 |  | ~~//get main site\_url~~ |
  | 750 |  | ~~return get\_rest\_url(get\_main\_site\_id());~~ |
  | 751 |  | ~~}~~ |
  | 752 |  | ~~}~~ |
  | 753 |  | ~~return burst\_url . 'endpoint.php';~~ |
  | 754 |  | ~~}~~ |
  | 755 |  | ~~}~~ |
  | 756 |  |  |
  | 757 | 477 | if ( ! function\_exists( 'burst\_remote\_file\_exists' ) ) { |
  | 758 | 478 | function burst\_remote\_file\_exists( $url ) { |
  | […](/browser/burst-statistics/trunk/functions.php?rev=3037867#L834) | […](/browser/burst-statistics/tags/1.5.7/functions.php?rev=3049042#L554) |  |
  | 834 | 554 | } |
  | 835 | 555 | } |
  |  | 556 |  |
  |  | 557 | /\*\* |
  |  | 558 | \* Deprecated: Get a Burst option by name, use burst\_get\_option instead |
  |  | 559 | \* @deprecated 1.3.0 |
  |  | 560 | \* @param $name |
  |  | 561 | \* @param $default |
  |  | 562 | \* |
  |  | 563 | \* @return mixed |
  |  | 564 | \*/ |
  |  | 565 | function burst\_get\_value( $name, $default = false ) { |
  |  | 566 | return burst\_get\_option( $name, $default ); |
  |  | 567 | } |
* ## [burst-statistics/tags/1.5.7/readme.txt](/changeset/3049042/burst-statistics/tags/1.5.7/readme.txt?old=3038575&old_path=burst-statistics%2Ftags%2F1.5.6.1%2Freadme.txt "Show the [3049793:3049793] differences restricted to burst-statistics/tags/1.5.7/readme.txt")

  | [r3049793](/browser/burst-statistics/tags/1.5.6.1/readme.txt?rev=3038575#L7 "Show revision 3049793 of this file in browser") | [r3049793](/browser/burst-statistics/tags/1.5.7/readme.txt?rev=3049042#L7 "Show revision 3049793 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Requires PHP: 7.2 |
  | 8 | 8 | Tested up to: 6.4 |
  | 9 |  | Stable tag: 1.5.~~6.1~~ |
  |  | 9 | Stable tag: 1.5.7 |
  | 10 | 10 |  |
  | 11 | 11 | Self-hosted and privacy-friendly analytics for Wordpress. |
  | […](/browser/burst-statistics/tags/1.5.6.1/readme.txt?rev=3038575#L88) | […](/browser/burst-statistics/tags/1.5.7/readme.txt?rev=3049042#L88) |  |
  | 88 | 88 |  |
  | 89 | 89 | == Change log == |
  |  | 90 | = 1.5.7 = |
  |  | 91 | \* Fix: Security issue where a contributor with the ability to add posts and add custom fields, could create a cross-site scripting attack. This has been resolved. props @Webbernaut |
  |  | 92 | \* Fix: Changed key length for page\_url to 191 to prevent issues with MySQL 5.7.7 and lower. |
  |  | 93 | \* Fix: Issue where using [ in a URL would result in a failed tracking request. This has been resolved. props @webwitnl |
  |  | 94 | \* Improvement: Removed legacy code in the functions.php file. |
  |  | 95 |  |
  | 90 | 96 | = 1.5.6.1 = |
  | 91 | 97 | \* Fix: Tracking would only work for users with cookieless tracking, because the burst script was empty due to an error in the build process. This has been resolved. |
* ## [burst-statistics/tags/1.5.7/statistics/class-statistics.php](/changeset/3049042/burst-statistics/tags/1.5.7/statistics/class-statistics.php?old=3037867&old_path=burst-statistics%2Ftrunk%2Fstatistics%2Fclass-statistics.php "Show the [3049793:3049793] differences restricted to burst-statistics/tags/1.5.7/statistics/class-statistics.php")

  | [r3049793](/browser/burst-statistics/trunk/statistics/class-statistics.php?rev=3037867#L46 "Show revision 3049793 of this file in browser") | [r3049793](/browser/burst-statistics/tags/1.5.7/statistics/class-statistics.php?rev=3049042#L46 "Show revision 3049793 of this file in browser") |  |
  | --- | --- | --- |
  | 46 | 46 | 'burst\_tracking\_options', |
  | 47 | 47 | array( |
  | 48 |  | ~~'url'                   => burst\_get\_rest\_url(),~~ |
  | 49 | 48 | 'page\_id'               => get\_queried\_object\_id(), |
  | 50 | 49 | 'cookie\_retention\_days' => 30, |
  | […](/browser/burst-statistics/trunk/statistics/class-statistics.php?rev=3037867#L1456) | […](/browser/burst-statistics/tags/1.5.7/statistics/class-statistics.php?rev=3049042#L1455) |  |
  | 1456 | 1455 | $sql        = "CREATE TABLE $table\_name ( |
  | 1457 | 1456 | `ID` int NOT NULL AUTO\_INCREMENT , |
  | 1458 |  | `page\_url` varchar(~~255~~) NOT NULL, |
  |  | 1457 | `page\_url` varchar(191) NOT NULL, |
  | 1459 | 1458 | `time` int NOT NULL, |
  | 1460 | 1459 | `uid` varchar(255) NOT NULL, |
  | […](/browser/burst-statistics/trunk/statistics/class-statistics.php?rev=3037867#L1485) | […](/browser/burst-statistics/tags/1.5.7/statistics/class-statistics.php?rev=3049042#L1484) |  |
  | 1485 | 1484 | `ID` int NOT NULL AUTO\_INCREMENT , |
  | 1486 | 1485 | `date` DATE NOT NULL, |
  | 1487 |  | `page\_url` varchar(~~255~~) NOT NULL, |
  |  | 1486 | `page\_url` varchar(191) NOT NULL, |
  | 1488 | 1487 | `sessions` int NOT NULL, |
  | 1489 | 1488 | `visitors` int NOT NULL, |
  | […](/browser/burst-statistics/trunk/statistics/class-statistics.php?rev=3037867#L1493) | […](/browser/burst-statistics/tags/1.5.7/statistics/class-statistics.php?rev=3049042#L1492) |  |
  | 1493 | 1492 | `avg\_time\_on\_page` int NOT NULL, |
  | 1494 | 1493 | `completed` tinyint NOT NULL, |
  | 1495 |  | UNIQUE KEY unique\_date\_page\_url (date, page\_url), |
  |  | 1494 | UNIQUE KEY unique\_date\_page\_url (date, page\_url(191)), |
  | 1496 | 1495 | INDEX page\_url\_date\_index (page\_url, date), |
  | 1497 | 1496 | INDEX date\_index (date), |
* ## [burst-statistics/tags/1.5.7/tracking/tracking.php](/changeset/3049042/burst-statistics/tags/1.5.7/tracking/tracking.php?old=3020450&old_path=burst-statistics%2Ftrunk%2Ftracking%2Ftracking.php "Show the [3049793:3049793] differences restricted to burst-statistics/tags/1.5.7/tracking/tracking.php")

  | [r3049793](/browser/burst-statistics/trunk/tracking/tracking.php?rev=3020450#L241 "Show revision 3049793 of this file in browser") | [r3049793](/browser/burst-statistics/tags/1.5.7/tracking/tracking.php?rev=3049042#L241 "Show revision 3049793 of this file in browser") |  |
  | --- | --- | --- |
  | 241 | 241 | return ''; |
  | 242 | 242 | } |
  | 243 |  |  |
  |  | 243 | if ( !function\_exists('wp\_parse\_url')) { |
  |  | 244 | require\_once( ABSPATH . '/wp-includes/http.php' ); |
  |  | 245 | } |
  | 244 | 246 | $url = parse\_url( esc\_url\_raw( $sanitized\_url ) ); |
  | 245 | 247 | if ( isset( $url['host'] ) ) { |
* ## [burst-statistics/tags/1.5.7/uninstall.php](/changeset/3049042/burst-statistics/tags/1.5.7/uninstall.php?old=3025225&old_path=burst-statistics%2Ftrunk%2Funinstall.php "Show the [3049793:3049793] differences restricted to burst-statistics/tags/1.5.7/uninstall.php")

  | [r3049793](/browser/burst-statistics/trunk/uninstall.php?rev=3025225#L4 "Show revision 3049793 of this file in browser") | [r3049793](/browser/burst-statistics/tags/1.5.7/uninstall.php?rev=3049042#L4 "Show revision 3049793 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | exit(); |
  | 5 | 5 | } |
  | 6 |  |  |
  |  | 6 | // get all burst transients |
  | 7 | 7 | global $wpdb; |
  | 8 |  | ~~// get all burst transients~~ |
  | 9 | 8 | $results = $wpdb->get\_results( |
  | 10 | 9 | "SELECT `option\_name` AS `name`, `option\_value` AS `value` |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3049793&old=3049793&new_path=%2Fburst-statistics%2Ftags%2F1.5.7&old_path=%2Fburst-statistics%2Ftags%2F1.5.6.1)
* [Zip Archive](?format=zip&new=3049793&old=3049793&new_path=%2Fburst-statistics%2Ftags%2F1.5.7&old_path=%2Fburst-statistics%2Ftags%2F1.5.6.1)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

