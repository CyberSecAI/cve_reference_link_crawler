

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3075163%2540propertyhive%26old%3D3075163%2540propertyhive)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3068921/propertyhive "Changeset 3068921 for propertyhive")
* [Next Change](/changeset/3075164/propertyhive "Changeset 3075164 for propertyhive") →

---

# Changeset [3075163](/changeset/3075163 "Show full changeset") for [propertyhive](/browser/propertyhive?rev=3075163 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
04/22/2024 04:33:34 PM
([9 months](/timeline?from=2024-04-22T16%3A33%3A34Z&precision=second "See timeline at 04/22/2024 04:33:34 PM") ago)

Author:
PropertyHive
Message:

Update to version 2.0.13

Location:
[propertyhive/trunk](/browser/propertyhive/trunk?rev=3075163)
Files:

20 edited

* [README.txt](/browser/propertyhive/trunk/README.txt?rev=3075163 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [assets/js/admin/meta-boxes.js](/browser/propertyhive/trunk/assets/js/admin/meta-boxes.js?rev=3075163 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [includes/admin/class-ph-admin-applicant-list.php](/browser/propertyhive/trunk/includes/admin/class-ph-admin-applicant-list.php?rev=3075163 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [includes/admin/class-ph-admin-assets.php](/browser/propertyhive/trunk/includes/admin/class-ph-admin-assets.php?rev=3075163 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [includes/admin/post-types/meta-boxes/class-ph-meta-box-property-brochures.php](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-brochures.php?rev=3075163 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [includes/admin/post-types/meta-boxes/class-ph-meta-box-property-epcs.php](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-epcs.php?rev=3075163 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [includes/admin/post-types/meta-boxes/class-ph-meta-box-property-floorplans.php](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-floorplans.php?rev=3075163 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [includes/admin/post-types/meta-boxes/class-ph-meta-box-property-photos.php](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-photos.php?rev=3075163 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [includes/admin/post-types/meta-boxes/class-ph-meta-box-viewing-applicant.php](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-viewing-applicant.php?rev=3075163 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [includes/admin/settings/class-ph-settings-general.php](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=3075163 "Show entry in browser")
  (modified)
  ([6 diffs](#file9 "Show differences"))
* [includes/admin/settings/class-ph-settings-page.php](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-page.php?rev=3075163 "Show entry in browser")
  (modified)
  ([1 diff](#file10 "Show differences"))
* [includes/class-ph-ajax.php](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163 "Show entry in browser")
  (modified)
  ([14 diffs](#file11 "Show differences"))
* [includes/class-ph-form-handler.php](/browser/propertyhive/trunk/includes/class-ph-form-handler.php?rev=3075163 "Show entry in browser")
  (modified)
  ([1 diff](#file12 "Show differences"))
* [includes/class-ph-post-types.php](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163 "Show entry in browser")
  (modified)
  ([14 diffs](#file13 "Show differences"))
* [includes/class-ph-shortcodes.php](/browser/propertyhive/trunk/includes/class-ph-shortcodes.php?rev=3075163 "Show entry in browser")
  (modified)
  ([3 diffs](#file14 "Show differences"))
* [includes/divi-widgets/property-image.php](/browser/propertyhive/trunk/includes/divi-widgets/property-image.php?rev=3075163 "Show entry in browser")
  (modified)
  ([2 diffs](#file15 "Show differences"))
* [includes/divi-widgets/property-negotiator-email-address.php](/browser/propertyhive/trunk/includes/divi-widgets/property-negotiator-email-address.php?rev=3075163 "Show entry in browser")
  (modified)
  ([2 diffs](#file16 "Show differences"))
* [includes/divi-widgets/property-negotiator-telephone-number.php](/browser/propertyhive/trunk/includes/divi-widgets/property-negotiator-telephone-number.php?rev=3075163 "Show entry in browser")
  (modified)
  ([2 diffs](#file17 "Show differences"))
* [includes/ph-template-functions.php](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=3075163 "Show entry in browser")
  (modified)
  ([5 diffs](#file18 "Show differences"))
* [propertyhive.php](/browser/propertyhive/trunk/propertyhive.php?rev=3075163 "Show entry in browser")
  (modified)
  ([3 diffs](#file19 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [propertyhive/trunk/README.txt](/changeset/3075163/propertyhive/trunk/README.txt "Show the changeset 3075163 restricted to propertyhive/trunk/README.txt")

  | [r3068919](/browser/propertyhive/trunk/README.txt?rev=3068919#L4 "Show revision 3068919 of this file in browser") | [r3075163](/browser/propertyhive/trunk/README.txt?rev=3075163#L4 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 5.6 |
  | 5 | 5 | Tested up to: 6.5.2 |
  | 6 |  | Stable tag: 2.0.1~~2~~ |
  |  | 6 | Stable tag: 2.0.13 |
  | 7 | 7 | License: GPLv3 |
  | 8 | 8 | License URI: http://www.gnu.org/licenses/gpl-3.0.html |
  | […](/browser/propertyhive/trunk/README.txt?rev=3068919#L183) | […](/browser/propertyhive/trunk/README.txt?rev=3075163#L183) |  |
  | 183 | 183 | == Changelog == |
  | 184 | 184 |  |
  |  | 185 | = 2.0.13 - 2024-04-22 = |
  |  | 186 | \* Added settings area allowing a CAPTCHA service to be applied to forms |
  |  | 187 | \* Moved media related settings into it's own settings area to make it more prominent |
  |  | 188 | \* Tidied up settings sub menus to be more equally spaced |
  |  | 189 | \* Changed URL placeholders when storing media as URLs to https:// instead of http:// to promote the former |
  |  | 190 | \* Added ability to hyperlink negotiator email address and telephone number in Divi widgets |
  |  | 191 | \* Moved getting of actions into their own functions so they can be called separately |
  |  | 192 | \* Added 'propertyhive\_taxonomy\_args\_{taxonomy}' filters to all registered taxonomies |
  |  | 193 | \* Added tooltip to 'Maximum Price' label of Generate Applicant List screen to clarify how it works |
  |  | 194 | \* Corrected JS error relating to searching viewing applicants |
  |  | 195 | \* Corrected undefined PHP warning from recent work regarding custom fields reordering |
  |  | 196 | \* Various AJAX-related security and sanitisation tweaks |
  |  | 197 |  |
  | 185 | 198 | = 2.0.12 - 2024-04-11 = |
  | 186 | 199 | \* Added ability to re-order custom fields (availability, parking etc) by dragging and dropping. Only applies to custom fields that don't have a child/parent relationship (i.e. types and locations) |
* ## [propertyhive/trunk/assets/js/admin/meta-boxes.js](/changeset/3075163/propertyhive/trunk/assets/js/admin/meta-boxes.js "Show the changeset 3075163 restricted to propertyhive/trunk/assets/js/admin/meta-boxes.js")

  | [r3043521](/browser/propertyhive/trunk/assets/js/admin/meta-boxes.js?rev=3043521#L396 "Show revision 3043521 of this file in browser") | [r3075163](/browser/propertyhive/trunk/assets/js/admin/meta-boxes.js?rev=3075163#L396 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 396 | 396 | action: 'propertyhive\_delete\_key\_date', |
  | 397 | 397 | date\_post\_id: post\_id, |
  |  | 398 | security: propertyhive\_admin\_meta\_boxes.delete\_key\_date\_nonce, |
  | 398 | 399 | }; |
  | 399 | 400 |  |
  | […](/browser/propertyhive/trunk/assets/js/admin/meta-boxes.js?rev=3043521#L486) | […](/browser/propertyhive/trunk/assets/js/admin/meta-boxes.js?rev=3075163#L487) |  |
  | 486 | 487 | type: quick\_edit\_row.find('#date\_type').val(), |
  | 487 | 488 | notes: quick\_edit\_row.find('#date\_notes\_quick\_edit').val(), |
  |  | 489 | security: propertyhive\_admin\_meta\_boxes.save\_key\_date\_nonce, |
  | 488 | 490 | }; |
  | 489 | 491 |  |
* ## [propertyhive/trunk/includes/admin/class-ph-admin-applicant-list.php](/changeset/3075163/propertyhive/trunk/includes/admin/class-ph-admin-applicant-list.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/admin/class-ph-admin-applicant-list.php")

  | [r3043521](/browser/propertyhive/trunk/includes/admin/class-ph-admin-applicant-list.php?rev=3043521#L74 "Show revision 3043521 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/admin/class-ph-admin-applicant-list.php?rev=3075163#L74 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 74 | 74 |  |
  | 75 | 75 | <p class="form-field sales-only"> |
  | 76 |  | <label><?php echo esc\_html\_\_( 'Maximum Price', 'propertyhive' ); ?></label> |
  |  | 76 | <label><?php echo esc\_html\_\_( 'Maximum Price', 'propertyhive' ); ?> <img class="help\_tip" data-tip="This will search the applicant's Match Price Range if one is set and return applicants where the price entered falls into this range. Otherwise it will search the Maximum Price and return applicants that have maximum price higher than the value entered" src="<?php echo PH()->plugin\_url(); ?>/assets/images/help.png" height="16" width="16" /></label> |
  | 77 | 77 | <input type="text" name="maximum\_price" value="<?php if ( isset($\_POST['maximum\_price']) ) { echo esc\_attr( $\_POST['maximum\_price'] ); } ?>"> |
  | 78 | 78 | </p> |
* ## [propertyhive/trunk/includes/admin/class-ph-admin-assets.php](/changeset/3075163/propertyhive/trunk/includes/admin/class-ph-admin-assets.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/admin/class-ph-admin-assets.php")

  | [r3043521](/browser/propertyhive/trunk/includes/admin/class-ph-admin-assets.php?rev=3043521#L254 "Show revision 3043521 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/admin/class-ph-admin-assets.php?rev=3075163#L254 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 254 | 254 | 'viewing\_details\_meta\_nonce'    => wp\_create\_nonce( 'viewing-details-meta-box' ), |
  | 255 | 255 | 'viewing\_actions\_nonce'         => wp\_create\_nonce( 'viewing-actions' ), |
  |  | 256 | 'save\_key\_date\_nonce'         => wp\_create\_nonce( 'save-key-date' ), |
  |  | 257 | 'delete\_key\_date\_nonce'         => wp\_create\_nonce( 'delete-key-date' ), |
  | 256 | 258 | 'enable\_description\_editor'    => apply\_filters('propertyhive\_enable\_description\_editor', false), |
  | 257 | 259 | 'leasehold\_tenures'             => apply\_filters('propertyhive\_leasehold\_tenure\_names', array( 'leasehold', 'share of freehold' ) ), |
* ## [propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-brochures.php](/changeset/3075163/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-brochures.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-brochures.php")

  | [r3068919](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-brochures.php?rev=3068919#L57 "Show revision 3068919 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-brochures.php?rev=3075163#L57 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 57 | 57 | <p class="form-field brochure\_url\_field "> |
  | 58 | 58 | <label for="brochure\_url\_1">Brochure URL</label> |
  | 59 |  | <input type="text" class="short" name="brochure\_url[]" id="" value="" placeholder="http://"> |
  |  | 59 | <input type="text" class="short" name="brochure\_url[]" id="" value="" placeholder="https://"> |
  | 60 | 60 | <a href="" class="button remove\_brochure\_url"><span class="fa fa-trash"></span></a> |
  | 61 | 61 | </p>'; |
* ## [propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-epcs.php](/changeset/3075163/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-epcs.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-epcs.php")

  | [r3068919](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-epcs.php?rev=3068919#L57 "Show revision 3068919 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-epcs.php?rev=3075163#L57 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 57 | 57 | <p class="form-field epc\_url\_field "> |
  | 58 | 58 | <label for="epc\_url\_1">EPC URL</label> |
  | 59 |  | <input type="text" class="short" name="epc\_url[]" id="" value="" placeholder="http://"> |
  |  | 59 | <input type="text" class="short" name="epc\_url[]" id="" value="" placeholder="https://"> |
  | 60 | 60 | <a href="" class="button remove\_epc\_url"><span class="fa fa-trash"></span></a> |
  | 61 | 61 | </p>'; |
* ## [propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-floorplans.php](/changeset/3075163/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-floorplans.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-floorplans.php")

  | [r3068919](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-floorplans.php?rev=3068919#L57 "Show revision 3068919 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-floorplans.php?rev=3075163#L57 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 57 | 57 | <p class="form-field floorplano\_url\_field "> |
  | 58 | 58 | <label for="floorplan\_url\_1">Floorplan URL</label> |
  | 59 |  | <input type="text" class="short" name="floorplan\_url[]" id="" value="" placeholder="http://"> |
  |  | 59 | <input type="text" class="short" name="floorplan\_url[]" id="" value="" placeholder="https://"> |
  | 60 | 60 | <a href="" class="button remove\_floorplan\_url"><span class="fa fa-trash"></span></a> |
  | 61 | 61 | </p>'; |
* ## [propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-photos.php](/changeset/3075163/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-photos.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-photos.php")

  | [r2945514](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-photos.php?rev=2945514#L52 "Show revision 2945514 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-property-photos.php?rev=3075163#L52 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 52 | 52 | <p class="form-field photo\_url\_field "> |
  | 53 | 53 | <label for="photo\_url\_1">Photo URL</label> |
  | 54 |  | <input type="text" class="short" name="photo\_url[]" id="" value="" placeholder="http://"> |
  |  | 54 | <input type="text" class="short" name="photo\_url[]" id="" value="" placeholder="https://"> |
  | 55 | 55 | <a href="" class="button remove\_photo\_url"><span class="fa fa-trash"></span></a> |
  | 56 | 56 | </p>'; |
* ## [propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-viewing-applicant.php](/changeset/3075163/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-viewing-applicant.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-viewing-applicant.php")

  | [r3003785](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-viewing-applicant.php?rev=3003785#L283 "Show revision 3003785 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/admin/post-types/meta-boxes/class-ph-meta-box-viewing-applicant.php?rev=3075163#L283 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 283 | 283 | exclude\_ids:    jQuery('#\_applicant\_contact\_ids').val(), |
  | 284 | 284 | }; |
  | 285 |  | viewing\_search\_~~propertie~~s\_xhr.abort(); // cancel previous request |
  | 286 |  | viewing\_search\_~~propertie~~s\_xhr = jQuery.post( '<?php echo admin\_url('admin-ajax.php'); ?>', data, function(response) |
  |  | 285 | viewing\_search\_applicants\_xhr.abort(); // cancel previous request |
  |  | 286 | viewing\_search\_applicants\_xhr = jQuery.post( '<?php echo admin\_url('admin-ajax.php'); ?>', data, function(response) |
  | 287 | 287 | { |
  | 288 | 288 | if (response == '' || response.length == 0) |
* ## [propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php](/changeset/3075163/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php")

  | [r2945514](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=2945514#L42 "Show revision 2945514 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=3075163#L42 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 42 | 42 | ''              => \_\_( 'General', 'propertyhive' ), |
  | 43 | 43 | 'modules'       => \_\_( 'Modules', 'propertyhive' ), |
  |  | 44 | 'map'           => \_\_( 'Map', 'propertyhive' ), |
  |  | 45 | 'media'         => \_\_( 'Media', 'propertyhive' ), |
  | 44 | 46 | 'international' => \_\_( 'International', 'propertyhive' ), |
  | 45 |  | ~~'map'           => \_\_( 'Map', 'propertyhive' ),~~ |
  | 46 | 47 | 'gdpr'          => \_\_( 'GDPR', 'propertyhive' ), |
  |  | 48 | 'captcha'       => \_\_( 'CAPTCHA', 'propertyhive' ), |
  | 47 | 49 | 'misc'          => \_\_( 'Miscellaneous', 'propertyhive' ), |
  | 48 | 50 | ); |
  | […](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=2945514#L417) | […](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=3075163#L419) |  |
  | 417 | 419 |  |
  | 418 | 420 | /\*\* |
  |  | 421 | \* Get media settings array |
  |  | 422 | \* |
  |  | 423 | \* @return array |
  |  | 424 | \*/ |
  |  | 425 | public function get\_general\_media\_setting() { |
  |  | 426 |  |
  |  | 427 | $settings = array( |
  |  | 428 |  |
  |  | 429 | array( 'title' => \_\_( 'Property Media Storage', 'propertyhive' ), 'type' => 'title', 'desc' => 'By default media attached to properties will be stored in the WordPress media library. If the property media is hosted elsewhere (for example if you import properties from a third party and they allow you to link direct to the files on their server) you can choose to store media as URL\'s. It also means that the images are not downloaded onto your server, thus saving diskspace.<br><br>Note: If you change this you\'ll need to re-add all of the property media for existing properties.<br>Note: Changing this will not delete all existing media or URLs entered.<br>Note: Choosing to store the media as URLs will mean you don\'t benefit from having access to different sized images (i.e. small, medium, large etc).', 'id' => 'media\_storage\_options' ), |
  |  | 430 |  |
  |  | 431 | array( |
  |  | 432 | 'title'   => \_\_( 'Images Stored As', 'propertyhive' ), |
  |  | 433 | 'id'      => 'propertyhive\_images\_stored\_as', |
  |  | 434 | 'type'    => 'select', |
  |  | 435 | 'default' => 'files', |
  |  | 436 | 'options' => array( |
  |  | 437 | 'files' => \_\_( 'Media Files', 'propertyhive' ), |
  |  | 438 | 'urls' => \_\_( 'URLs', 'propertyhive' ), |
  |  | 439 | ), |
  |  | 440 | 'desc'  => '' |
  |  | 441 | ), |
  |  | 442 |  |
  |  | 443 | array( |
  |  | 444 | 'title'   => \_\_( 'Floorplans Stored As', 'propertyhive' ), |
  |  | 445 | 'id'      => 'propertyhive\_floorplans\_stored\_as', |
  |  | 446 | 'type'    => 'select', |
  |  | 447 | 'default' => 'files', |
  |  | 448 | 'options' => array( |
  |  | 449 | 'files' => \_\_( 'Media Files', 'propertyhive' ), |
  |  | 450 | 'urls' => \_\_( 'URLs', 'propertyhive' ), |
  |  | 451 | ), |
  |  | 452 | 'desc'  => '' |
  |  | 453 | ), |
  |  | 454 |  |
  |  | 455 | array( |
  |  | 456 | 'title'   => \_\_( 'Brochures Stored As', 'propertyhive' ), |
  |  | 457 | 'id'      => 'propertyhive\_brochures\_stored\_as', |
  |  | 458 | 'type'    => 'select', |
  |  | 459 | 'default' => 'files', |
  |  | 460 | 'options' => array( |
  |  | 461 | 'files' => \_\_( 'Media Files', 'propertyhive' ), |
  |  | 462 | 'urls' => \_\_( 'URLs', 'propertyhive' ), |
  |  | 463 | ), |
  |  | 464 | 'desc'  => '' |
  |  | 465 | ), |
  |  | 466 |  |
  |  | 467 | array( |
  |  | 468 | 'title'   => \_\_( 'EPCs Stored As', 'propertyhive' ), |
  |  | 469 | 'id'      => 'propertyhive\_epcs\_stored\_as', |
  |  | 470 | 'type'    => 'select', |
  |  | 471 | 'default' => 'files', |
  |  | 472 | 'options' => array( |
  |  | 473 | 'files' => \_\_( 'Media Files', 'propertyhive' ), |
  |  | 474 | 'urls' => \_\_( 'URLs', 'propertyhive' ), |
  |  | 475 | ), |
  |  | 476 | 'desc'  => '' |
  |  | 477 | ), |
  |  | 478 |  |
  |  | 479 | array( 'type' => 'sectionend', 'id' => 'media\_storage\_options') |
  |  | 480 |  |
  |  | 481 | ); |
  |  | 482 |  |
  |  | 483 | return apply\_filters( 'propertyhive\_general\_media\_settings', $settings ); |
  |  | 484 | } |
  |  | 485 |  |
  |  | 486 | /\*\* |
  | 419 | 487 | \* Get GDPR settings array |
  | 420 | 488 | \* |
  | […](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=2945514#L452) | […](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=3075163#L520) |  |
  | 452 | 520 |  |
  | 453 | 521 | ) ); // End general GDPR settings |
  |  | 522 | } |
  |  | 523 |  |
  |  | 524 | /\*\* |
  |  | 525 | \* Get CAPTCHA settings array |
  |  | 526 | \* |
  |  | 527 | \* @return array |
  |  | 528 | \*/ |
  |  | 529 | public function get\_general\_captcha\_setting() { |
  |  | 530 |  |
  |  | 531 | return apply\_filters( 'propertyhive\_general\_captcha\_settings', array( |
  |  | 532 |  |
  |  | 533 | array( 'title' => \_\_( 'CAPTCHA Settings', 'propertyhive' ), 'type' => 'title', 'id' => 'captcha\_options', 'desc' => \_\_( 'Prevent spam and bots on forms provided by Property Hive by signing up to a CAPTCHA service and entering the details below.<br><br>When enabled, a CAPTCHA will be added to the register, property enquiry and send to friend forms.', 'propertyhive' ) ), |
  |  | 534 |  |
  |  | 535 | array( |
  |  | 536 | 'title'   => \_\_( 'CAPTCHA service', 'propertyhive' ), |
  |  | 537 | 'id'      => 'propertyhive\_captcha\_service', |
  |  | 538 | 'type'    => 'radio', |
  |  | 539 | 'options' => array( |
  |  | 540 | '' => \_\_( 'None', 'propertyhive' ), |
  |  | 541 | 'recaptcha' => \_\_( 'Google reCaptcha v2', 'propertyhive' ) . ' (<a href="https://www.google.com/recaptcha/admin/create" target="\_blank">register</a>)', |
  |  | 542 | 'recaptcha-v3' => \_\_( 'Google reCaptcha v3', 'propertyhive' ) . ' (<a href="https://www.google.com/recaptcha/admin/create" target="\_blank">register</a>)', |
  |  | 543 | 'hCaptcha' => \_\_( 'hCaptcha', 'propertyhive' ) . ' (<a href="https://www.hcaptcha.com/" target="\_blank">register</a>)', |
  |  | 544 | ), |
  |  | 545 | ), |
  |  | 546 |  |
  |  | 547 | array( |
  |  | 548 | 'title'   => \_\_( 'Site Key', 'propertyhive' ), |
  |  | 549 | 'id'      => 'propertyhive\_captcha\_site\_key', |
  |  | 550 | 'type'    => 'text', |
  |  | 551 | ), |
  |  | 552 |  |
  |  | 553 | array( |
  |  | 554 | 'title'   => \_\_( 'Secret', 'propertyhive' ), |
  |  | 555 | 'id'      => 'propertyhive\_captcha\_secret', |
  |  | 556 | 'type'    => 'text', |
  |  | 557 | ), |
  |  | 558 |  |
  |  | 559 | array( |
  |  | 560 | //'title'   => \_\_( 'CAPTCHA service', 'propertyhive' ), |
  |  | 561 | 'id'      => 'propertyhive\_captcha\_html', |
  |  | 562 | 'type'    => 'html', |
  |  | 563 | 'html'    => '<script> |
  |  | 564 | jQuery(document).ready(function() |
  |  | 565 | { |
  |  | 566 | jQuery(\'input[name=\\\'propertyhive\_captcha\_service\\\']\').change(function() |
  |  | 567 | { |
  |  | 568 | ph\_captcha\_service\_update(); |
  |  | 569 | }); |
  |  | 570 |  |
  |  | 571 | ph\_captcha\_service\_update(); |
  |  | 572 | }); |
  |  | 573 |  |
  |  | 574 | function ph\_captcha\_service\_update() |
  |  | 575 | { |
  |  | 576 | jQuery(\'#row\_propertyhive\_captcha\_site\_key\').hide(); |
  |  | 577 | jQuery(\'#row\_propertyhive\_captcha\_secret\').hide(); |
  |  | 578 |  |
  |  | 579 | var selected\_captcha\_service = jQuery(\'input[name=\\\'propertyhive\_captcha\_service\\\']:checked\').val(); |
  |  | 580 |  |
  |  | 581 | if ( selected\_captcha\_service != \'\' ) |
  |  | 582 | { |
  |  | 583 | jQuery(\'#row\_propertyhive\_captcha\_site\_key\').show(); |
  |  | 584 | jQuery(\'#row\_propertyhive\_captcha\_secret\').show(); |
  |  | 585 | } |
  |  | 586 | } |
  |  | 587 | </script>', |
  |  | 588 | ), |
  |  | 589 |  |
  |  | 590 | array( 'type' => 'sectionend', 'id' => 'captcha\_options'), |
  |  | 591 |  |
  |  | 592 | ) ); // End general CAPTCHA settings |
  | 454 | 593 | } |
  | 455 | 594 |  |
  | […](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=2945514#L609) | […](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=3075163#L748) |  |
  | 609 | 748 | array( 'type' => 'sectionend', 'id' => 'applicant\_registration\_options'), |
  | 610 | 749 |  |
  | 611 |  | ~~array( 'title' => \_\_( 'Property Media Storage', 'propertyhive' ), 'type' => 'title', 'desc' => 'By default media attached to properties will be stored in the WordPress media library. If the property media is hosted elsewhere (for example if you import properties from a third party and they allow you to link direct to the files on their server) you can choose to store media as URL\'s. It also means that the images are not downloaded onto your server, thus saving diskspace.<br><br>Note: If you change this you\'ll need to re-add all of the property media for existing properties.<br>Note: Changing this will not delete all existing media or URLs entered.<br>Note: Choosing to store the media as URLs will mean you don\'t benefit from having access to different sized images (i.e. small , medium, large etc).', 'id' => 'media\_storage\_options' ),~~ |
  | 612 |  |  |
  | 613 |  | ~~array(~~ |
  | 614 |  | ~~'title'   => \_\_( 'Images Stored As', 'propertyhive' ),~~ |
  | 615 |  | ~~'id'      => 'propertyhive\_images\_stored\_as',~~ |
  | 616 |  | ~~'type'    => 'select',~~ |
  | 617 |  | ~~'default' => 'files',~~ |
  | 618 |  | ~~'options' => array(~~ |
  | 619 |  | ~~'files' => \_\_( 'Media Files', 'propertyhive' ),~~ |
  | 620 |  | ~~'urls' => \_\_( 'URLs', 'propertyhive' ),~~ |
  | 621 |  | ~~),~~ |
  | 622 |  | ~~'desc'  => ''~~ |
  | 623 |  | ~~),~~ |
  | 624 |  |  |
  | 625 |  | ~~array(~~ |
  | 626 |  | ~~'title'   => \_\_( 'Floorplans Stored As', 'propertyhive' ),~~ |
  | 627 |  | ~~'id'      => 'propertyhive\_floorplans\_stored\_as',~~ |
  | 628 |  | ~~'type'    => 'select',~~ |
  | 629 |  | ~~'default' => 'files',~~ |
  | 630 |  | ~~'options' => array(~~ |
  | 631 |  | ~~'files' => \_\_( 'Media Files', 'propertyhive' ),~~ |
  | 632 |  | ~~'urls' => \_\_( 'URLs', 'propertyhive' ),~~ |
  | 633 |  | ~~),~~ |
  | 634 |  | ~~'desc'  => ''~~ |
  | 635 |  | ~~),~~ |
  | 636 |  |  |
  | 637 |  | ~~array(~~ |
  | 638 |  | ~~'title'   => \_\_( 'Brochures Stored As', 'propertyhive' ),~~ |
  | 639 |  | ~~'id'      => 'propertyhive\_brochures\_stored\_as',~~ |
  | 640 |  | ~~'type'    => 'select',~~ |
  | 641 |  | ~~'default' => 'files',~~ |
  | 642 |  | ~~'options' => array(~~ |
  | 643 |  | ~~'files' => \_\_( 'Media Files', 'propertyhive' ),~~ |
  | 644 |  | ~~'urls' => \_\_( 'URLs', 'propertyhive' ),~~ |
  | 645 |  | ~~),~~ |
  | 646 |  | ~~'desc'  => ''~~ |
  | 647 |  | ~~),~~ |
  | 648 |  |  |
  | 649 |  | ~~array(~~ |
  | 650 |  | ~~'title'   => \_\_( 'EPCs Stored As', 'propertyhive' ),~~ |
  | 651 |  | ~~'id'      => 'propertyhive\_epcs\_stored\_as',~~ |
  | 652 |  | ~~'type'    => 'select',~~ |
  | 653 |  | ~~'default' => 'files',~~ |
  | 654 |  | ~~'options' => array(~~ |
  | 655 |  | ~~'files' => \_\_( 'Media Files', 'propertyhive' ),~~ |
  | 656 |  | ~~'urls' => \_\_( 'URLs', 'propertyhive' ),~~ |
  | 657 |  | ~~),~~ |
  | 658 |  | ~~'desc'  => ''~~ |
  | 659 |  | ~~),~~ |
  | 660 |  |  |
  | 661 |  | ~~array( 'type' => 'sectionend', 'id' => 'media\_storage\_options'),~~ |
  | 662 |  |  |
  | 663 | 750 | array( 'title' => \_\_( 'Improve Property Hive', 'propertyhive' ), 'type' => 'title', 'desc' => '', 'id' => 'stat\_tracking\_options' ), |
  | 664 | 751 |  |
  | […](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=2945514#L689) | […](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=3075163#L776) |  |
  | 689 | 776 | case "international": { $settings = $this->get\_general\_international\_setting(); break; } |
  | 690 | 777 | case "map": { $settings = $this->get\_general\_map\_setting(); break; } |
  |  | 778 | case "media": { $settings = $this->get\_general\_media\_setting(); break; } |
  | 691 | 779 | case "gdpr": { $settings = $this->get\_general\_gdpr\_setting(); break; } |
  |  | 780 | case "captcha": { $settings = $this->get\_general\_captcha\_setting(); break; } |
  | 692 | 781 | case "misc": { $settings = $this->get\_general\_misc\_setting(); break; } |
  | 693 | 782 | default: { die("Unknown setting section"); } |
  | […](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=2945514#L770) | […](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-general.php?rev=3075163#L859) |  |
  | 770 | 859 | break; |
  | 771 | 860 | } |
  |  | 861 | case 'media': |
  |  | 862 | { |
  |  | 863 | $settings = $this->get\_general\_media\_setting(); |
  |  | 864 |  |
  |  | 865 | PH\_Admin\_Settings::save\_fields( $settings ); |
  |  | 866 | break; |
  |  | 867 | } |
  | 772 | 868 | case 'gdpr': |
  | 773 | 869 | { |
  | 774 | 870 | $settings = $this->get\_general\_gdpr\_setting(); |
  |  | 871 |  |
  |  | 872 | PH\_Admin\_Settings::save\_fields( $settings ); |
  |  | 873 | break; |
  |  | 874 | } |
  |  | 875 | case 'captcha': |
  |  | 876 | { |
  |  | 877 | $settings = $this->get\_general\_captcha\_setting(); |
  | 775 | 878 |  |
  | 776 | 879 | PH\_Admin\_Settings::save\_fields( $settings ); |
* ## [propertyhive/trunk/includes/admin/settings/class-ph-settings-page.php](/changeset/3075163/propertyhive/trunk/includes/admin/settings/class-ph-settings-page.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/admin/settings/class-ph-settings-page.php")

  | [r1297184](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-page.php?rev=1297184#L64 "Show revision 1297184 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/admin/settings/class-ph-settings-page.php?rev=3075163#L64 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 64 | 64 |  |
  | 65 | 65 | foreach ( $sections as $id => $label ) |
  | 66 |  | echo '<li>~~<a href="' . admin\_url( 'admin.php?page=ph-settings&tab=' . $this->id . '&section=' . sanitize\_title( $id ) ) . '" class="' . ( $current\_section == $id ? 'current' : '' ) . '">' . $label . '</a> ' . ( end( $array\_keys ) == $id ? '' : '|~~' ) . ' </li>'; |
  |  | 66 | echo '<li>&nbsp;<a href="' . admin\_url( 'admin.php?page=ph-settings&tab=' . $this->id . '&section=' . sanitize\_title( $id ) ) . '" class="' . ( $current\_section == $id ? 'current' : '' ) . '">' . $label . '</a> ' . ( end( $array\_keys ) == $id ? '' : '| ' ) . ' </li>'; |
  | 67 | 67 |  |
  | 68 | 68 | echo '</ul><br class="clear" />'; |
* ## [propertyhive/trunk/includes/class-ph-ajax.php](/changeset/3075163/propertyhive/trunk/includes/class-ph-ajax.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/class-ph-ajax.php")

  | [r3068919](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L5737 "Show revision 3068919 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L5737 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 5737 | 5737 | public function get\_property\_sales\_meta\_box() |
  | 5738 | 5738 | { |
  | 5739 |  | $post\_id = $\_POST['post\_id']; |
  |  | 5739 | $post\_id = (int)$\_POST['post\_id']; |
  | 5740 | 5740 |  |
  | 5741 | 5741 | $selected\_status = ''; |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L5755) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L5755) |  |
  | 5755 | 5755 | public function get\_contact\_sales\_meta\_box() |
  | 5756 | 5756 | { |
  | 5757 |  | $post\_id = $\_POST['post\_id']; |
  |  | 5757 | $post\_id = (int)$\_POST['post\_id']; |
  | 5758 | 5758 |  |
  | 5759 | 5759 | $selected\_status = ''; |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L5773) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L5773) |  |
  | 5773 | 5773 | public function get\_property\_enquiries\_meta\_box() |
  | 5774 | 5774 | { |
  | 5775 |  | $post\_id = $\_POST['post\_id']; |
  |  | 5775 | $post\_id = (int)$\_POST['post\_id']; |
  | 5776 | 5776 |  |
  | 5777 | 5777 | $selected\_status = ''; |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L5791) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L5791) |  |
  | 5791 | 5791 | public function get\_contact\_enquiries\_meta\_box() |
  | 5792 | 5792 | { |
  | 5793 |  | $post\_id = $\_POST['post\_id']; |
  |  | 5793 | $post\_id = (int)$\_POST['post\_id']; |
  | 5794 | 5794 |  |
  | 5795 | 5795 | $selected\_status = ''; |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L5869) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L5869) |  |
  | 5869 | 5869 | public function get\_management\_dates\_grid() |
  | 5870 | 5870 | { |
  | 5871 |  | $post\_id = $\_POST['post\_id']; |
  |  | 5871 | $post\_id = (int)$\_POST['post\_id']; |
  | 5872 | 5872 |  |
  | 5873 | 5873 | if ( isset($\_POST['selected\_type\_id']) ) |
  | 5874 | 5874 | { |
  | 5875 |  | $selected\_type\_id = $\_POST['selected\_type\_id']; |
  |  | 5875 | $selected\_type\_id = (int)$\_POST['selected\_type\_id']; |
  | 5876 | 5876 | } |
  | 5877 | 5877 |  |
  | 5878 | 5878 | if ( isset($\_POST['selected\_status']) ) |
  | 5879 | 5879 | { |
  | 5880 |  | $selected\_status = ~~$\_POST['selected\_status']~~; |
  |  | 5880 | $selected\_status = ph\_clean($\_POST['selected\_status']); |
  | 5881 | 5881 | } |
  | 5882 | 5882 |  |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L5889) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L5889) |  |
  | 5889 | 5889 | public function get\_key\_dates\_quick\_edit\_row() |
  | 5890 | 5890 | { |
  | 5891 |  | $post\_id = $\_POST['post\_id']; |
  |  | 5891 | $post\_id = (int)$\_POST['post\_id']; |
  | 5892 | 5892 |  |
  | 5893 | 5893 | include( PH()->plugin\_path() . '/includes/admin/views/html-key-dates-quick-edit.php' ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L5899) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L5899) |  |
  | 5899 | 5899 | public function check\_key\_date\_recurrence() |
  | 5900 | 5900 | { |
  | 5901 |  | $post\_id = $\_POST['post\_id']; |
  |  | 5901 | $post\_id = (int)$\_POST['post\_id']; |
  | 5902 | 5902 |  |
  | 5903 | 5903 | $next\_key\_date = ''; |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L5953) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L5953) |  |
  | 5953 | 5953 | public function save\_key\_date() |
  | 5954 | 5954 | { |
  |  | 5955 | check\_ajax\_referer( 'save-key-date', 'security' ); |
  |  | 5956 |  |
  |  | 5957 | $this->json\_headers(); |
  |  | 5958 |  |
  |  | 5959 | if ( ! current\_user\_can( 'manage\_propertyhive' ) ) |
  |  | 5960 | wp\_send\_json\_error( \_\_( 'You do not have permission to manage key dates', 'propertyhive' ), 403 ); |
  |  | 5961 |  |
  | 5955 | 5962 | $key\_date\_post\_id = (int)$\_POST['post\_id']; |
  | 5956 | 5963 |  |
  | 5957 | 5964 | $args = array( |
  | 5958 | 5965 | 'ID' => $key\_date\_post\_id, |
  | 5959 |  | 'post\_title' => ~~$\_POST['description']~~, |
  |  | 5966 | 'post\_title' => ph\_clean($\_POST['description']), |
  | 5960 | 5967 | ); |
  | 5961 | 5968 | wp\_update\_post( $args ); |
  | 5962 | 5969 |  |
  | 5963 |  | update\_post\_meta( $key\_date\_post\_id, '\_date\_due', ~~$\_POST['due\_date\_time']~~ ); |
  | 5964 |  | update\_post\_meta( $key\_date\_post\_id, '\_key\_date\_status', ~~$\_POST['status']~~ ); |
  | 5965 |  | update\_post\_meta( $key\_date\_post\_id, '\_key\_date\_type\_id', $\_POST['type'] ); |
  |  | 5970 | update\_post\_meta( $key\_date\_post\_id, '\_date\_due', ph\_clean($\_POST['due\_date\_time']) ); |
  |  | 5971 | update\_post\_meta( $key\_date\_post\_id, '\_key\_date\_status', ph\_clean($\_POST['status']) ); |
  |  | 5972 | update\_post\_meta( $key\_date\_post\_id, '\_key\_date\_type\_id', (int)$\_POST['type'] ); |
  | 5966 | 5973 | update\_post\_meta( $key\_date\_post\_id, '\_key\_date\_notes', sanitize\_textarea\_field($\_POST['notes'] )); |
  | 5967 | 5974 |  |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L5970) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L5977) |  |
  | 5970 | 5977 | // Insert next key date record |
  | 5971 | 5978 | $next\_key\_date\_post = array( |
  | 5972 |  | 'post\_title' => ~~$\_POST['description']~~, |
  |  | 5979 | 'post\_title' => ph\_clean($\_POST['description']), |
  | 5973 | 5980 | 'post\_content' => '', |
  | 5974 | 5981 | 'post\_type' => 'key\_date', |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L5988) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L5995) |  |
  | 5988 | 5995 | } |
  | 5989 | 5996 |  |
  | 5990 |  | add\_post\_meta( $next\_key\_date\_post\_id, '\_date\_due', ~~$\_POST['next\_key\_date']~~ ); |
  |  | 5997 | add\_post\_meta( $next\_key\_date\_post\_id, '\_date\_due', ph\_clean($\_POST['next\_key\_date']) ); |
  | 5991 | 5998 | add\_post\_meta( $next\_key\_date\_post\_id, '\_key\_date\_status', 'pending' ); |
  | 5992 |  | add\_post\_meta( $next\_key\_date\_post\_id, '\_key\_date\_type\_id', $\_POST['type'] ); |
  | 5993 |  |  |
  | 5994 |  | if( metadata\_exists('post', $key\_date\_post\_id, '\_property\_id') ) { |
  |  | 5999 | add\_post\_meta( $next\_key\_date\_post\_id, '\_key\_date\_type\_id', (int)$\_POST['type'] ); |
  |  | 6000 |  |
  |  | 6001 | if ( metadata\_exists('post', $key\_date\_post\_id, '\_property\_id') ) { |
  | 5995 | 6002 | add\_post\_meta( $next\_key\_date\_post\_id, '\_property\_id', get\_post\_meta($key\_date\_post\_id, '\_property\_id', true) ); |
  | 5996 | 6003 | } |
  | 5997 | 6004 |  |
  | 5998 |  | if( metadata\_exists('post', $key\_date\_post\_id, '\_tenancy\_id') ) { |
  |  | 6005 | if ( metadata\_exists('post', $key\_date\_post\_id, '\_tenancy\_id') ) { |
  | 5999 | 6006 | add\_post\_meta( $next\_key\_date\_post\_id, '\_tenancy\_id', get\_post\_meta($key\_date\_post\_id, '\_tenancy\_id', true) ); |
  | 6000 | 6007 | } |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L6006) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L6013) |  |
  | 6006 | 6013 | public function delete\_key\_date() |
  | 6007 | 6014 | { |
  |  | 6015 | check\_ajax\_referer( 'delete-key-date', 'security' ); |
  |  | 6016 |  |
  | 6008 | 6017 | $this->json\_headers(); |
  |  | 6018 |  |
  |  | 6019 | if ( ! current\_user\_can( 'manage\_propertyhive' ) ) |
  |  | 6020 | wp\_send\_json\_error( \_\_( 'You do not have permission to manage key dates', 'propertyhive' ), 403 ); |
  | 6009 | 6021 |  |
  | 6010 | 6022 | $date\_post\_id = (int)$\_POST['date\_post\_id']; |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L6020) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L6032) |  |
  | 6020 | 6032 | public function get\_property\_tenancies\_grid() |
  | 6021 | 6033 | { |
  | 6022 |  | $post\_id = $\_POST['post\_id']; |
  |  | 6034 | $post\_id = (int)$\_POST['post\_id']; |
  | 6023 | 6035 |  |
  | 6024 | 6036 | if ( isset($\_POST['selected\_status']) ) |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L6035) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L6047) |  |
  | 6035 | 6047 | public function get\_contact\_tenancies\_grid() |
  | 6036 | 6048 | { |
  | 6037 |  | $post\_id = $\_POST['post\_id']; |
  |  | 6049 | $post\_id = (int)$\_POST['post\_id']; |
  | 6038 | 6050 |  |
  | 6039 | 6051 | if ( isset($\_POST['selected\_status']) ) |
  | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3068919#L6050) | […](/browser/propertyhive/trunk/includes/class-ph-ajax.php?rev=3075163#L6062) |  |
  | 6050 | 6062 | public function get\_contact\_solicitor() |
  | 6051 | 6063 | { |
  | 6052 |  | switch( get\_post\_type($\_POST['post\_id']) ) |
  |  | 6064 | switch( get\_post\_type((int)$\_POST['post\_id']) ) |
  | 6053 | 6065 | { |
  | 6054 | 6066 | case 'contact': |
  | 6055 | 6067 | { |
  | 6056 |  | $contact\_post\_ids = array( $\_POST['post\_id'] ); |
  |  | 6068 | $contact\_post\_ids = array( (int)$\_POST['post\_id'] ); |
  | 6057 | 6069 | break; |
  | 6058 | 6070 | } |
  | 6059 | 6071 | case 'property': |
  | 6060 | 6072 | { |
  | 6061 |  | $owner\_contact\_ids = get\_post\_meta($\_POST['post\_id'], '\_owner\_contact\_id', TRUE); |
  |  | 6073 | $owner\_contact\_ids = get\_post\_meta((int)$\_POST['post\_id'], '\_owner\_contact\_id', TRUE); |
  | 6062 | 6074 | if ( !empty( $owner\_contact\_ids ) ) |
  | 6063 | 6075 | { |
* ## [propertyhive/trunk/includes/class-ph-form-handler.php](/changeset/3075163/propertyhive/trunk/includes/class-ph-form-handler.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/class-ph-form-handler.php")

  | [r1297184](/browser/propertyhive/trunk/includes/class-ph-form-handler.php?rev=1297184#L16 "Show revision 1297184 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/class-ph-form-handler.php?rev=3075163#L16 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | class PH\_Form\_Handler { |
  | 17 | 17 |  |
  | 18 |  | /\*\* |
  | 19 |  | \* Hook in methods |
  | 20 |  | \*/ |
  | 21 |  | public static function init() { |
  | 22 |  | //add\_action( 'init', array( \_\_CLASS\_\_, 'process\_login' ) ); |
  | 23 |  | //add\_action( 'init', array( \_\_CLASS\_\_, 'process\_registration' ) ); |
  |  | 18 | public function \_\_construct() { |
  |  | 19 |  |
  |  | 20 | add\_action( 'init', array( $this, 'add\_captcha\_to\_forms' ) ); |
  |  | 21 |  |
  | 24 | 22 | } |
  | 25 | 23 |  |
  | 26 |  | /\*\* |
  | 27 |  | \* Process the login form. |
  | 28 |  | \*/ |
  | 29 |  | public static function process\_login() { |
  | 30 |  |  |
  |  | 24 | public function add\_captcha\_to\_forms() |
  |  | 25 | { |
  |  | 26 | if ( in\_array(get\_option( 'propertyhive\_captcha\_service', '' ), array('recaptcha', 'recaptcha-v3', 'hCaptcha')) ) |
  |  | 27 | { |
  |  | 28 | add\_filter( 'propertyhive\_property\_enquiry\_form\_fields', array( $this, 'add\_captcha\_to\_form' ) ); |
  |  | 29 | add\_filter( 'propertyhive\_applicant\_registration\_form\_fields', array( $this, 'add\_captcha\_to\_form' ) ); |
  |  | 30 | add\_filter( 'propertyhive\_send\_to\_friend\_form\_fields', array( $this, 'add\_captcha\_to\_form' ) ); |
  |  | 31 | } |
  | 31 | 32 | } |
  | 32 | 33 |  |
  | 33 |  | /\*\* |
  | 34 |  | \* Process the registration form. |
  | 35 |  | \*/ |
  | 36 |  | public static function process\_registration() { |
  | 37 |  |  |
  |  | 34 | public function add\_captcha\_to\_form($fields) |
  |  | 35 | { |
  |  | 36 | $captcha\_service = get\_option( 'propertyhive\_captcha\_service', '' ); |
  |  | 37 |  |
  |  | 38 | switch ( $captcha\_service ) |
  |  | 39 | { |
  |  | 40 | case "recaptcha": |
  |  | 41 | case "recaptcha-v3": |
  |  | 42 | { |
  |  | 43 | $fields['recaptcha'] = array( |
  |  | 44 | 'type' => $captcha\_service, |
  |  | 45 | 'site\_key' => get\_option( 'propertyhive\_captcha\_site\_key', '' ), |
  |  | 46 | 'secret' => get\_option( 'propertyhive\_captcha\_secret', '' ), |
  |  | 47 | ); |
  |  | 48 | break; |
  |  | 49 | } |
  |  | 50 | case "hCaptcha": |
  |  | 51 | { |
  |  | 52 | $fields['hCaptcha'] = array( |
  |  | 53 | 'type' => $captcha\_service, |
  |  | 54 | 'site\_key' => get\_option( 'propertyhive\_captcha\_site\_key', '' ), |
  |  | 55 | 'secret' => get\_option( 'propertyhive\_captcha\_secret', '' ), |
  |  | 56 | ); |
  |  | 57 | break; |
  |  | 58 | } |
  |  | 59 | } |
  |  | 60 |  |
  |  | 61 | return $fields; |
  | 38 | 62 | } |
  | 39 | 63 | } |
  | 40 | 64 |  |
  | 41 |  | ~~PH\_Form\_Handler::init~~(); |
  |  | 65 | new PH\_Form\_Handler(); |
* ## [propertyhive/trunk/includes/class-ph-post-types.php](/changeset/3075163/propertyhive/trunk/includes/class-ph-post-types.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/class-ph-post-types.php")

  | [r3068919](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L49 "Show revision 3068919 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L49 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 49 | 49 |  |
  | 50 | 50 | if ( empty($taxonomies) ) |
  |  | 51 | { |
  |  | 52 | return $terms; |
  |  | 53 | } |
  |  | 54 |  |
  |  | 55 | if ( !isset($query\_vars['fields']) || ( isset($query\_vars['fields']) && $query\_vars['fields'] != 'all' ) ) |
  | 51 | 56 | { |
  | 52 | 57 | return $terms; |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L136) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L141) |  |
  | 136 | 141 | register\_taxonomy( 'availability', |
  | 137 | 142 | apply\_filters( 'propertyhive\_taxonomy\_objects\_availability', array( 'property' ) ), |
  | 138 |  | array( |
  | 139 |  | 'label'                 => \_\_( 'Availabilities', 'propertyhive' ), |
  | 140 |  | 'hierarchical'          => true, |
  | 141 |  | 'show\_ui'               => false, |
  | 142 |  | 'show\_in\_nav\_menus'     => false, |
  | 143 |  | 'query\_var'             => is\_admin(), |
  | 144 |  | 'rewrite'               => false, |
  | 145 |  | 'public'                => true |
  |  | 143 | apply\_filters( |
  |  | 144 | 'propertyhive\_taxonomy\_args\_availability', |
  |  | 145 | array( |
  |  | 146 | 'label'                 => \_\_( 'Availabilities', 'propertyhive' ), |
  |  | 147 | 'hierarchical'          => true, |
  |  | 148 | 'show\_ui'               => false, |
  |  | 149 | 'show\_in\_nav\_menus'     => false, |
  |  | 150 | 'query\_var'             => is\_admin(), |
  |  | 151 | 'rewrite'               => false, |
  |  | 152 | 'public'                => true |
  |  | 153 | ) |
  | 146 | 154 | ) |
  | 147 | 155 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L165) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L173) |  |
  | 165 | 173 | register\_taxonomy( 'commercial\_property\_type', |
  | 166 | 174 | apply\_filters( 'propertyhive\_taxonomy\_objects\_commercial\_property\_type', array( 'property', 'appraisal' ) ), |
  | 167 |  | array( |
  | 168 |  | 'label'                 => \_\_( 'Commercial Property Types', 'propertyhive' ), |
  | 169 |  | 'hierarchical'          => true, |
  | 170 |  | 'show\_ui'               => false, |
  | 171 |  | 'show\_in\_nav\_menus'     => false, |
  | 172 |  | 'query\_var'             => is\_admin(), |
  | 173 |  | 'rewrite'               => false, |
  | 174 |  | 'public'                => true |
  |  | 175 | apply\_filters( |
  |  | 176 | 'propertyhive\_taxonomy\_args\_commercial\_property\_type', |
  |  | 177 | array( |
  |  | 178 | 'label'                 => \_\_( 'Commercial Property Types', 'propertyhive' ), |
  |  | 179 | 'hierarchical'          => true, |
  |  | 180 | 'show\_ui'               => false, |
  |  | 181 | 'show\_in\_nav\_menus'     => false, |
  |  | 182 | 'query\_var'             => is\_admin(), |
  |  | 183 | 'rewrite'               => false, |
  |  | 184 | 'public'                => true |
  |  | 185 | ) |
  | 175 | 186 | ) |
  | 176 | 187 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L178) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L189) |  |
  | 178 | 189 | register\_taxonomy( 'location', |
  | 179 | 190 | apply\_filters( 'propertyhive\_taxonomy\_objects\_location', array( 'property' ) ), |
  | 180 |  | array( |
  | 181 |  | 'label'                 => \_\_( 'Locations', 'propertyhive' ), |
  | 182 |  | 'hierarchical'          => true, |
  | 183 |  | 'show\_ui'               => false, |
  | 184 |  | 'show\_in\_nav\_menus'     => false, |
  | 185 |  | 'query\_var'             => is\_admin(), |
  | 186 |  | 'rewrite'               => false, |
  | 187 |  | 'public'                => true |
  |  | 191 | apply\_filters( |
  |  | 192 | 'propertyhive\_taxonomy\_args\_location', |
  |  | 193 | array( |
  |  | 194 | 'label'                 => \_\_( 'Locations', 'propertyhive' ), |
  |  | 195 | 'hierarchical'          => true, |
  |  | 196 | 'show\_ui'               => false, |
  |  | 197 | 'show\_in\_nav\_menus'     => false, |
  |  | 198 | 'query\_var'             => is\_admin(), |
  |  | 199 | 'rewrite'               => false, |
  |  | 200 | 'public'                => true |
  |  | 201 | ) |
  | 188 | 202 | ) |
  | 189 | 203 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L191) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L205) |  |
  | 191 | 205 | register\_taxonomy( 'parking', |
  | 192 | 206 | apply\_filters( 'propertyhive\_taxonomy\_objects\_parking', array( 'property', 'appraisal' ) ), |
  | 193 |  | array( |
  | 194 |  | 'label'                 => \_\_( 'Parking', 'propertyhive' ), |
  | 195 |  | 'hierarchical'          => true, |
  | 196 |  | 'show\_ui'               => false, |
  | 197 |  | 'show\_in\_nav\_menus'     => false, |
  | 198 |  | 'query\_var'             => is\_admin(), |
  | 199 |  | 'rewrite'               => false, |
  | 200 |  | 'public'                => true |
  |  | 207 | apply\_filters( |
  |  | 208 | 'propertyhive\_taxonomy\_args\_parking', |
  |  | 209 | array( |
  |  | 210 | 'label'                 => \_\_( 'Parking', 'propertyhive' ), |
  |  | 211 | 'hierarchical'          => true, |
  |  | 212 | 'show\_ui'               => false, |
  |  | 213 | 'show\_in\_nav\_menus'     => false, |
  |  | 214 | 'query\_var'             => is\_admin(), |
  |  | 215 | 'rewrite'               => false, |
  |  | 216 | 'public'                => true |
  |  | 217 | ) |
  | 201 | 218 | ) |
  | 202 | 219 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L204) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L221) |  |
  | 204 | 221 | register\_taxonomy( 'outside\_space', |
  | 205 | 222 | apply\_filters( 'propertyhive\_taxonomy\_objects\_outside\_space', array( 'property', 'appraisal' ) ), |
  | 206 |  | array( |
  | 207 |  | 'label'                 => \_\_( 'Outside Spaces', 'propertyhive' ), |
  | 208 |  | 'hierarchical'          => true, |
  | 209 |  | 'show\_ui'               => false, |
  | 210 |  | 'show\_in\_nav\_menus'     => false, |
  | 211 |  | 'query\_var'             => is\_admin(), |
  | 212 |  | 'rewrite'               => false, |
  | 213 |  | 'public'                => true |
  |  | 223 | apply\_filters( |
  |  | 224 | 'propertyhive\_taxonomy\_args\_outside\_space', |
  |  | 225 | array( |
  |  | 226 | 'label'                 => \_\_( 'Outside Spaces', 'propertyhive' ), |
  |  | 227 | 'hierarchical'          => true, |
  |  | 228 | 'show\_ui'               => false, |
  |  | 229 | 'show\_in\_nav\_menus'     => false, |
  |  | 230 | 'query\_var'             => is\_admin(), |
  |  | 231 | 'rewrite'               => false, |
  |  | 232 | 'public'                => true |
  |  | 233 | ) |
  | 214 | 234 | ) |
  | 215 | 235 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L217) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L237) |  |
  | 217 | 237 | register\_taxonomy( 'price\_qualifier', |
  | 218 | 238 | apply\_filters( 'propertyhive\_taxonomy\_objects\_price\_qualifier', array( 'property' ) ), |
  | 219 |  | array( |
  | 220 |  | 'label'                 => \_\_( 'Price Qualifiers', 'propertyhive' ), |
  | 221 |  | 'hierarchical'          => true, |
  | 222 |  | 'show\_ui'               => false, |
  | 223 |  | 'show\_in\_nav\_menus'     => false, |
  | 224 |  | 'query\_var'             => is\_admin(), |
  | 225 |  | 'rewrite'               => false, |
  | 226 |  | 'public'                => true |
  |  | 239 | apply\_filters( |
  |  | 240 | 'propertyhive\_taxonomy\_args\_price\_qualifier', |
  |  | 241 | array( |
  |  | 242 | 'label'                 => \_\_( 'Price Qualifiers', 'propertyhive' ), |
  |  | 243 | 'hierarchical'          => true, |
  |  | 244 | 'show\_ui'               => false, |
  |  | 245 | 'show\_in\_nav\_menus'     => false, |
  |  | 246 | 'query\_var'             => is\_admin(), |
  |  | 247 | 'rewrite'               => false, |
  |  | 248 | 'public'                => true |
  |  | 249 | ) |
  | 227 | 250 | ) |
  | 228 | 251 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L230) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L253) |  |
  | 230 | 253 | register\_taxonomy( 'tenure', |
  | 231 | 254 | apply\_filters( 'propertyhive\_taxonomy\_objects\_tenure', array( 'property' ) ), |
  | 232 |  | array( |
  | 233 |  | 'label'                 => \_\_( 'Tenures', 'propertyhive' ), |
  | 234 |  | 'hierarchical'          => true, |
  | 235 |  | 'show\_ui'               => false, |
  | 236 |  | 'show\_in\_nav\_menus'     => false, |
  | 237 |  | 'query\_var'             => is\_admin(), |
  | 238 |  | 'rewrite'               => false, |
  | 239 |  | 'public'                => true |
  |  | 255 | apply\_filters( |
  |  | 256 | 'propertyhive\_taxonomy\_args\_tenure', |
  |  | 257 | array( |
  |  | 258 | 'label'                 => \_\_( 'Tenures', 'propertyhive' ), |
  |  | 259 | 'hierarchical'          => true, |
  |  | 260 | 'show\_ui'               => false, |
  |  | 261 | 'show\_in\_nav\_menus'     => false, |
  |  | 262 | 'query\_var'             => is\_admin(), |
  |  | 263 | 'rewrite'               => false, |
  |  | 264 | 'public'                => true |
  |  | 265 | ) |
  | 240 | 266 | ) |
  | 241 | 267 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L243) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L269) |  |
  | 243 | 269 | register\_taxonomy( 'commercial\_tenure', |
  | 244 | 270 | apply\_filters( 'propertyhive\_taxonomy\_objects\_commercial\_tenure', array( 'property' ) ), |
  | 245 |  | array( |
  | 246 |  | 'label'                 => \_\_( 'Commercial Tenures', 'propertyhive' ), |
  | 247 |  | 'hierarchical'          => true, |
  | 248 |  | 'show\_ui'               => false, |
  | 249 |  | 'show\_in\_nav\_menus'     => false, |
  | 250 |  | 'query\_var'             => is\_admin(), |
  | 251 |  | 'rewrite'               => false, |
  | 252 |  | 'public'                => true |
  |  | 271 | apply\_filters( |
  |  | 272 | 'propertyhive\_taxonomy\_args\_commercial\_tenure', |
  |  | 273 | array( |
  |  | 274 | 'label'                 => \_\_( 'Commercial Tenures', 'propertyhive' ), |
  |  | 275 | 'hierarchical'          => true, |
  |  | 276 | 'show\_ui'               => false, |
  |  | 277 | 'show\_in\_nav\_menus'     => false, |
  |  | 278 | 'query\_var'             => is\_admin(), |
  |  | 279 | 'rewrite'               => false, |
  |  | 280 | 'public'                => true |
  |  | 281 | ) |
  | 253 | 282 | ) |
  | 254 | 283 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L256) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L285) |  |
  | 256 | 285 | register\_taxonomy( 'sale\_by', |
  | 257 | 286 | apply\_filters( 'propertyhive\_taxonomy\_objects\_sale\_by', array( 'property' ) ), |
  | 258 |  | array( |
  | 259 |  | 'label'                 => \_\_( 'Sale By', 'propertyhive' ), |
  | 260 |  | 'hierarchical'          => true, |
  | 261 |  | 'show\_ui'               => false, |
  | 262 |  | 'show\_in\_nav\_menus'     => false, |
  | 263 |  | 'query\_var'             => is\_admin(), |
  | 264 |  | 'rewrite'               => false, |
  | 265 |  | 'public'                => true |
  |  | 287 | apply\_filters( |
  |  | 288 | 'propertyhive\_taxonomy\_args\_sale\_by', |
  |  | 289 | array( |
  |  | 290 | 'label'                 => \_\_( 'Sale By', 'propertyhive' ), |
  |  | 291 | 'hierarchical'          => true, |
  |  | 292 | 'show\_ui'               => false, |
  |  | 293 | 'show\_in\_nav\_menus'     => false, |
  |  | 294 | 'query\_var'             => is\_admin(), |
  |  | 295 | 'rewrite'               => false, |
  |  | 296 | 'public'                => true |
  |  | 297 | ) |
  | 266 | 298 | ) |
  | 267 | 299 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L269) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L301) |  |
  | 269 | 301 | register\_taxonomy( 'furnished', |
  | 270 | 302 | apply\_filters( 'propertyhive\_taxonomy\_objects\_furnished', array( 'property', 'appraisal' ) ), |
  | 271 |  | array( |
  | 272 |  | 'label'                 => \_\_( 'Furnished', 'propertyhive' ), |
  | 273 |  | 'hierarchical'          => true, |
  | 274 |  | 'show\_ui'               => false, |
  | 275 |  | 'show\_in\_nav\_menus'     => false, |
  | 276 |  | 'query\_var'             => is\_admin(), |
  | 277 |  | 'rewrite'               => false, |
  | 278 |  | 'public'                => true |
  |  | 303 | apply\_filters( |
  |  | 304 | 'propertyhive\_taxonomy\_args\_furnished', |
  |  | 305 | array( |
  |  | 306 | 'label'                 => \_\_( 'Furnished', 'propertyhive' ), |
  |  | 307 | 'hierarchical'          => true, |
  |  | 308 | 'show\_ui'               => false, |
  |  | 309 | 'show\_in\_nav\_menus'     => false, |
  |  | 310 | 'query\_var'             => is\_admin(), |
  |  | 311 | 'rewrite'               => false, |
  |  | 312 | 'public'                => true |
  |  | 313 | ) |
  | 279 | 314 | ) |
  | 280 | 315 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L282) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L317) |  |
  | 282 | 317 | register\_taxonomy( 'marketing\_flag', |
  | 283 | 318 | apply\_filters( 'propertyhive\_taxonomy\_objects\_marketing\_flag', array( 'property' ) ), |
  | 284 |  | array( |
  | 285 |  | 'label'                 => \_\_( 'Marketing Flags', 'propertyhive' ), |
  | 286 |  | 'hierarchical'          => true, |
  | 287 |  | 'show\_ui'               => false, |
  | 288 |  | 'show\_in\_nav\_menus'     => false, |
  | 289 |  | 'query\_var'             => is\_admin(), |
  | 290 |  | 'rewrite'               => false, |
  | 291 |  | 'public'                => true |
  |  | 319 | apply\_filters( |
  |  | 320 | 'propertyhive\_taxonomy\_args\_marketing\_flag', |
  |  | 321 | array( |
  |  | 322 | 'label'                 => \_\_( 'Marketing Flags', 'propertyhive' ), |
  |  | 323 | 'hierarchical'          => true, |
  |  | 324 | 'show\_ui'               => false, |
  |  | 325 | 'show\_in\_nav\_menus'     => false, |
  |  | 326 | 'query\_var'             => is\_admin(), |
  |  | 327 | 'rewrite'               => false, |
  |  | 328 | 'public'                => true |
  |  | 329 | ) |
  | 292 | 330 | ) |
  | 293 | 331 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L295) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L333) |  |
  | 295 | 333 | register\_taxonomy( 'property\_feature', |
  | 296 | 334 | apply\_filters( 'propertyhive\_taxonomy\_objects\_property\_feature', array( 'property' ) ), |
  | 297 |  | array( |
  | 298 |  | 'label'                 => \_\_( 'Property Features', 'propertyhive' ), |
  | 299 |  | 'hierarchical'          => true, |
  | 300 |  | 'show\_ui'               => false, |
  | 301 |  | 'show\_in\_nav\_menus'     => false, |
  | 302 |  | 'query\_var'             => is\_admin(), |
  | 303 |  | 'rewrite'               => false, |
  | 304 |  | 'public'                => true |
  |  | 335 | apply\_filters( |
  |  | 336 | 'propertyhive\_taxonomy\_args\_property\_feature', |
  |  | 337 | array( |
  |  | 338 | 'label'                 => \_\_( 'Property Features', 'propertyhive' ), |
  |  | 339 | 'hierarchical'          => true, |
  |  | 340 | 'show\_ui'               => false, |
  |  | 341 | 'show\_in\_nav\_menus'     => false, |
  |  | 342 | 'query\_var'             => is\_admin(), |
  |  | 343 | 'rewrite'               => false, |
  |  | 344 | 'public'                => true |
  |  | 345 | ) |
  | 305 | 346 | ) |
  | 306 | 347 | ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3068919#L308) | […](/browser/propertyhive/trunk/includes/class-ph-post-types.php?rev=3075163#L349) |  |
  | 308 | 349 | register\_taxonomy( 'management\_key\_date\_type', |
  | 309 | 350 | apply\_filters( 'propertyhive\_taxonomy\_objects\_management\_key\_date\_type', array( 'key\_date' ) ), |
  | 310 |  | array( |
  | 311 |  | 'label'                 => \_\_( 'Management Dates', 'propertyhive' ), |
  | 312 |  | 'hierarchical'          => true, |
  | 313 |  | 'show\_ui'               => false, |
  | 314 |  | 'show\_in\_nav\_menus'     => false, |
  | 315 |  | 'query\_var'             => is\_admin(), |
  | 316 |  | 'rewrite'               => false, |
  | 317 |  | 'public'                => true |
  | 318 |  | ) |
  |  | 351 | apply\_filters( |
  |  | 352 | 'propertyhive\_taxonomy\_args\_management\_key\_date\_type', |
  |  | 353 | array( |
  |  | 354 | 'label'                 => \_\_( 'Management Dates', 'propertyhive' ), |
  |  | 355 | 'hierarchical'          => true, |
  |  | 356 | 'show\_ui'               => false, |
  |  | 357 | 'show\_in\_nav\_menus'     => false, |
  |  | 358 | 'query\_var'             => is\_admin(), |
  |  | 359 | 'rewrite'               => false, |
  |  | 360 | 'public'                => true |
  |  | 361 | ) |
  |  | 362 | ) |
  | 319 | 363 | ); |
  | 320 | 364 |  |
* ## [propertyhive/trunk/includes/class-ph-shortcodes.php](/changeset/3075163/propertyhive/trunk/includes/class-ph-shortcodes.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/class-ph-shortcodes.php")

  | [r3068919](/browser/propertyhive/trunk/includes/class-ph-shortcodes.php?rev=3068919#L634 "Show revision 3068919 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/class-ph-shortcodes.php?rev=3075163#L634 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 634 | 634 | ob\_start(); |
  | 635 | 635 |  |
  |  | 636 | do\_action('propertyhive\_shortcode\_properties\_before\_catalog\_ordering', $atts); |
  |  | 637 |  |
  | 636 | 638 | if ( isset($atts['show\_order']) && $atts['show\_order'] != '' ) |
  | 637 | 639 | { |
  | […](/browser/propertyhive/trunk/includes/class-ph-shortcodes.php?rev=3068919#L640) | […](/browser/propertyhive/trunk/includes/class-ph-shortcodes.php?rev=3075163#L642) |  |
  | 640 | 642 | propertyhive\_catalog\_ordering( $atts['department'], $orderby ); |
  | 641 | 643 | } |
  |  | 644 |  |
  |  | 645 | do\_action('propertyhive\_shortcode\_properties\_after\_catalog\_ordering', $atts); |
  | 642 | 646 |  |
  | 643 | 647 | $args = apply\_filters( 'propertyhive\_properties\_query', $args, $atts ); |
  | […](/browser/propertyhive/trunk/includes/class-ph-shortcodes.php?rev=3068919#L655) | […](/browser/propertyhive/trunk/includes/class-ph-shortcodes.php?rev=3075163#L659) |  |
  | 655 | 659 | propertyhive\_result\_count( $paged, $atts['posts\_per\_page'], $total\_posts, $first, $last); |
  | 656 | 660 | } |
  |  | 661 |  |
  |  | 662 | do\_action('propertyhive\_shortcode\_properties\_after\_result\_count', $atts); |
  | 657 | 663 |  |
  | 658 | 664 | $propertyhive\_loop['columns'] = (int)$atts['columns']; |
* ## [propertyhive/trunk/includes/divi-widgets/property-image.php](/changeset/3075163/propertyhive/trunk/includes/divi-widgets/property-image.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/divi-widgets/property-image.php")

  | [r2973852](/browser/propertyhive/trunk/includes/divi-widgets/property-image.php?rev=2973852#L31 "Show revision 2973852 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/divi-widgets/property-image.php?rev=3075163#L31 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 31 | 31 | 'full' => \_\_( 'Full', 'propertyhive' ), |
  | 32 | 32 | ], |
  |  | 33 | 'default\_on\_front' => 'large', |
  | 33 | 34 | 'toggle\_slug' => 'main\_content', |
  | 34 | 35 | ), |
  | […](/browser/propertyhive/trunk/includes/divi-widgets/property-image.php?rev=2973852#L43) | […](/browser/propertyhive/trunk/includes/divi-widgets/property-image.php?rev=3075163#L44) |  |
  | 43 | 44 | '1:1' => \_\_( 'Square', 'propertyhive' ), |
  | 44 | 45 | ], |
  |  | 46 | 'default\_on\_front' => '', |
  | 45 | 47 | 'toggle\_slug' => 'main\_content', |
  | 46 | 48 | ), |
* ## [propertyhive/trunk/includes/divi-widgets/property-negotiator-email-address.php](/changeset/3075163/propertyhive/trunk/includes/divi-widgets/property-negotiator-email-address.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/divi-widgets/property-negotiator-email-address.php")

  | [r2973852](/browser/propertyhive/trunk/includes/divi-widgets/property-negotiator-email-address.php?rev=2973852#L16 "Show revision 2973852 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/divi-widgets/property-negotiator-email-address.php?rev=3075163#L16 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | public function get\_fields() |
  | 17 | 17 | { |
  | 18 |  | $fields = array(); |
  |  | 18 | $fields = array( |
  |  | 19 | 'hyperlink' => array( |
  |  | 20 | 'label' => \_\_( 'Hyperlink', 'propertyhive' ), |
  |  | 21 | 'type' => 'select', |
  |  | 22 | 'options' => [ |
  |  | 23 | 'yes' => \_\_( 'Yes', 'propertyhive' ), |
  |  | 24 | 'no' => \_\_( 'No', 'propertyhive' ), |
  |  | 25 | ], |
  |  | 26 | 'default\_on\_front' => 'yes', |
  |  | 27 | 'toggle\_slug' => 'main\_content', |
  |  | 28 | ), |
  |  | 29 | ); |
  | 19 | 30 |  |
  | 20 | 31 | return $fields; |
  | […](/browser/propertyhive/trunk/includes/divi-widgets/property-negotiator-email-address.php?rev=2973852#L31) | […](/browser/propertyhive/trunk/includes/divi-widgets/property-negotiator-email-address.php?rev=3075163#L42) |  |
  | 31 | 42 | } |
  | 32 | 43 |  |
  | 33 |  | $return = $property->negotiator\_email\_address; |
  |  | 44 | $return = ''; |
  |  | 45 |  |
  |  | 46 | if ( isset($this->props['hyperlink']) && $this->props['hyperlink'] == 'yes' ) |
  |  | 47 | { |
  |  | 48 | $return .= '<a href="mailto:' . esc\_attr($property->negotiator\_email\_address) . '">'; |
  |  | 49 | } |
  |  | 50 |  |
  |  | 51 | $return .= $property->negotiator\_email\_address; |
  |  | 52 |  |
  |  | 53 | if ( isset($this->props['hyperlink']) && $this->props['hyperlink'] == 'yes' ) |
  |  | 54 | { |
  |  | 55 | $return .= '</a>'; |
  |  | 56 | } |
  | 34 | 57 |  |
  | 35 | 58 | return $this->\_render\_module\_wrapper( $return, $render\_slug ); |
* ## [propertyhive/trunk/includes/divi-widgets/property-negotiator-telephone-number.php](/changeset/3075163/propertyhive/trunk/includes/divi-widgets/property-negotiator-telephone-number.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/divi-widgets/property-negotiator-telephone-number.php")

  | [r2973852](/browser/propertyhive/trunk/includes/divi-widgets/property-negotiator-telephone-number.php?rev=2973852#L16 "Show revision 2973852 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/divi-widgets/property-negotiator-telephone-number.php?rev=3075163#L16 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | public function get\_fields() |
  | 17 | 17 | { |
  | 18 |  | $fields = array(); |
  |  | 18 | $fields = array( |
  |  | 19 | 'hyperlink' => array( |
  |  | 20 | 'label' => \_\_( 'Hyperlink', 'propertyhive' ), |
  |  | 21 | 'type' => 'select', |
  |  | 22 | 'options' => [ |
  |  | 23 | 'yes' => \_\_( 'Yes', 'propertyhive' ), |
  |  | 24 | 'no' => \_\_( 'No', 'propertyhive' ), |
  |  | 25 | ], |
  |  | 26 | 'default\_on\_front' => 'yes', |
  |  | 27 | 'toggle\_slug' => 'main\_content', |
  |  | 28 | ), |
  |  | 29 | ); |
  | 19 | 30 |  |
  | 20 | 31 | return $fields; |
  | […](/browser/propertyhive/trunk/includes/divi-widgets/property-negotiator-telephone-number.php?rev=2973852#L31) | […](/browser/propertyhive/trunk/includes/divi-widgets/property-negotiator-telephone-number.php?rev=3075163#L42) |  |
  | 31 | 42 | } |
  | 32 | 43 |  |
  | 33 |  | $return = $property->negotiator\_telephone\_number; |
  |  | 44 | $return = ''; |
  |  | 45 |  |
  |  | 46 | if ( isset($this->props['hyperlink']) && $this->props['hyperlink'] == 'yes' ) |
  |  | 47 | { |
  |  | 48 | $return .= '<a href="tel:' . esc\_attr($property->negotiator\_telephone\_number) . '">'; |
  |  | 49 | } |
  |  | 50 |  |
  |  | 51 | $return .= $property->negotiator\_telephone\_number; |
  |  | 52 |  |
  |  | 53 | if ( isset($this->props['hyperlink']) && $this->props['hyperlink'] == 'yes' ) |
  |  | 54 | { |
  |  | 55 | $return .= '</a>'; |
  |  | 56 | } |
  | 34 | 57 |  |
  | 35 | 58 | return $this->\_render\_module\_wrapper( $return, $render\_slug ); |
* ## [propertyhive/trunk/includes/ph-template-functions.php](/changeset/3075163/propertyhive/trunk/includes/ph-template-functions.php "Show the changeset 3075163 restricted to propertyhive/trunk/includes/ph-template-functions.php")

  | [r2992405](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=2992405#L913 "Show revision 2992405 of this file in browser") | [r3075163](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=3075163#L913 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 913 | 913 | } |
  | 914 | 914 |  |
  | 915 |  | if ( ! function\_exists( 'propertyhive\_template\_single\_actions' ) ) { |
  | 916 |  |  |
  | 917 |  | /\*\* |
  | 918 |  | \* Output the product actions (make enquiry etc) |
  | 919 |  | \* |
  | 920 |  | \* @access public |
  | 921 |  | \* @subpackage  Property |
  | 922 |  | \* @return void |
  | 923 |  | \*/ |
  | 924 |  | function propertyhive\_template\_single\_actions() { |
  |  | 915 | if ( ! function\_exists( 'propertyhive\_get\_template\_single\_floorplans\_action' ) ) { |
  |  | 916 |  |
  |  | 917 | function propertyhive\_get\_template\_single\_floorplans\_action() { |
  | 925 | 918 |  |
  | 926 | 919 | global $post, $property; |
  | […](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=2992405#L974) | […](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=3075163#L967) |  |
  | 974 | 967 | } |
  | 975 | 968 |  |
  |  | 969 | $actions = apply\_filters( 'propertyhive\_single\_property\_floorplans\_actions', $actions ); |
  |  | 970 |  |
  |  | 971 | return $actions; |
  |  | 972 | } |
  |  | 973 |  |
  |  | 974 | } |
  |  | 975 |  |
  |  | 976 | if ( ! function\_exists( 'propertyhive\_get\_template\_single\_brochures\_action' ) ) { |
  |  | 977 |  |
  |  | 978 | function propertyhive\_get\_template\_single\_brochures\_action() { |
  |  | 979 |  |
  |  | 980 | global $post, $property; |
  |  | 981 |  |
  |  | 982 | $actions = array(); |
  |  | 983 |  |
  | 976 | 984 | if ( get\_option('propertyhive\_brochures\_stored\_as', '') == 'urls' ) |
  | 977 | 985 | { |
  | […](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=2992405#L1010) | […](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=3075163#L1018) |  |
  | 1010 | 1018 | } |
  | 1011 | 1019 | } |
  |  | 1020 |  |
  |  | 1021 | $actions = apply\_filters( 'propertyhive\_single\_property\_brochures\_actions', $actions ); |
  |  | 1022 |  |
  |  | 1023 | return $actions; |
  |  | 1024 | } |
  |  | 1025 |  |
  |  | 1026 | } |
  |  | 1027 |  |
  |  | 1028 | if ( ! function\_exists( 'propertyhive\_get\_template\_single\_epcs\_action' ) ) { |
  |  | 1029 |  |
  |  | 1030 | function propertyhive\_get\_template\_single\_epcs\_action() { |
  |  | 1031 |  |
  |  | 1032 | global $post, $property; |
  |  | 1033 |  |
  |  | 1034 | $actions = array(); |
  | 1012 | 1035 |  |
  | 1013 | 1036 | if ( get\_option('propertyhive\_epcs\_stored\_as', '') == 'urls' ) |
  | […](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=2992405#L1051) | […](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=3075163#L1074) |  |
  | 1051 | 1074 | } |
  | 1052 | 1075 |  |
  |  | 1076 | $actions = apply\_filters( 'propertyhive\_single\_property\_epcs\_actions', $actions ); |
  |  | 1077 |  |
  |  | 1078 | return $actions; |
  |  | 1079 | } |
  |  | 1080 |  |
  |  | 1081 | } |
  |  | 1082 |  |
  |  | 1083 | if ( ! function\_exists( 'propertyhive\_get\_template\_single\_virtual\_tours\_action' ) ) { |
  |  | 1084 |  |
  |  | 1085 | function propertyhive\_get\_template\_single\_virtual\_tours\_action() { |
  |  | 1086 |  |
  |  | 1087 | global $post, $property; |
  |  | 1088 |  |
  |  | 1089 | $actions = array(); |
  |  | 1090 |  |
  | 1053 | 1091 | $virtual\_tours = $property->get\_virtual\_tours(); |
  | 1054 | 1092 | if ( !empty( $virtual\_tours ) ) |
  | […](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=2992405#L1071) | […](/browser/propertyhive/trunk/includes/ph-template-functions.php?rev=3075163#L1109) |  |
  | 1071 | 1109 | } |
  | 1072 | 1110 |  |
  | 1073 |  | /\*$actions[] = array( |
  | 1074 |  | 'href' => '', |
  | 1075 |  | 'label' => \_\_( 'View on Map', 'propertyhive' ), |
  | 1076 |  | 'class' => 'action-map' |
  |  | 1111 | $actions = apply\_filters( 'propertyhive\_single\_property\_virtual\_tours\_actions', $actions ); |
  |  | 1112 |  |
  |  | 1113 | return $actions; |
  |  | 1114 | } |
  |  | 1115 |  |
  |  | 1116 | } |
  |  | 1117 |  |
  |  | 1118 | if ( ! function\_exists( 'propertyhive\_get\_template\_single\_actions' ) ) { |
  |  | 1119 |  |
  |  | 1120 | function propertyhive\_get\_template\_single\_actions() { |
  |  | 1121 |  |
  |  | 1122 | global $post, $property; |
  |  | 1123 |  |
  |  | 1124 | $actions = array\_merge( |
  |  | 1125 | propertyhive\_get\_template\_single\_floorplans\_action(), |
  |  | 1126 | propertyhive\_get\_template\_single\_brochures\_action(), |
  |  | 1127 | propertyhive\_get\_template\_single\_epcs\_action(), |
  |  | 1128 | propertyhive\_get\_template\_single\_virtual\_tours\_action() |
  | 1077 | 1129 | ); |
  | 1078 | 1130 |  |
  | 1079 |  | $actions[] = array( |
  | 1080 |  | 'href' => '', |
  | 1081 |  | 'label' => \_\_( 'Street View', 'propertyhive' ), |
  | 1082 |  | 'class' => 'action-street-view' |
  | 1083 |  | );\*/ |
  | 1084 |  |  |
  |  | 1131 |  |
  | 1085 | 1132 | $actions = apply\_filters( 'propertyhive\_single\_property\_actions', $actions ); |
  |  | 1133 |  |
  |  | 1134 | return $actions; |
  |  | 1135 | } |
  |  | 1136 |  |
  |  | 1137 | } |
  |  | 1138 |  |
  |  | 1139 | if ( ! function\_exists( 'propertyhive\_template\_single\_actions' ) ) { |
  |  | 1140 |  |
  |  | 1141 | /\*\* |
  |  | 1142 | \* Output the product actions (make enquiry etc) |
  |  | 1143 | \* |
  |  | 1144 | \* @access public |
  |  | 1145 | \* @subpackage  Property |
  |  | 1146 | \* @return void |
  |  | 1147 | \*/ |
  |  | 1148 | function propertyhive\_template\_single\_actions() { |
  |  | 1149 |  |
  |  | 1150 | global $post, $property; |
  |  | 1151 |  |
  |  | 1152 | $actions = propertyhive\_get\_template\_single\_actions(); |
  | 1086 | 1153 |  |
  | 1087 | 1154 | ph\_get\_template( 'single-property/actions.php', array( 'actions' => $actions ) ); |
* ## [propertyhive/trunk/propertyhive.php](/changeset/3075163/propertyhive/trunk/propertyhive.php "Show the changeset 3075163 restricted to propertyhive/trunk/propertyhive.php")

  | [r3068919](/browser/propertyhive/trunk/propertyhive.php?rev=3068919#L4 "Show revision 3068919 of this file in browser") | [r3075163](/browser/propertyhive/trunk/propertyhive.php?rev=3075163#L4 "Show revision 3075163 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: https://wordpress.org/plugins/propertyhive/ |
  | 5 | 5 | \* Description: Property Hive has everything you need to build estate agency websites |
  | 6 |  | \* Version: 2.0.1~~2~~ |
  |  | 6 | \* Version: 2.0.13 |
  | 7 | 7 | \* Author: PropertyHive |
  | 8 | 8 | \* Author URI: https://wp-property-hive.com |
  | […](/browser/propertyhive/trunk/propertyhive.php?rev=3068919#L28) | […](/browser/propertyhive/trunk/propertyhive.php?rev=3075163#L28) |  |
  | 28 | 28 | \* |
  | 29 | 29 | \* @class PropertyHive |
  | 30 |  | \* @version 2.0.1~~2~~ |
  |  | 30 | \* @version 2.0.13 |
  | 31 | 31 | \*/ |
  | 32 | 32 | final class PropertyHive { |
  | […](/browser/propertyhive/trunk/propertyhive.php?rev=3068919#L35) | […](/browser/propertyhive/trunk/propertyhive.php?rev=3075163#L35) |  |
  | 35 | 35 | \* @var string |
  | 36 | 36 | \*/ |
  | 37 |  | public $version = '2.0.1~~2~~'; |
  |  | 37 | public $version = '2.0.13'; |
  | 38 | 38 |  |
  | 39 | 39 | /\*\* |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3075163)
* [Zip Archive](?format=zip&new=3075163)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

