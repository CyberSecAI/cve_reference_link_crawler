=== Content from pkg.go.dev_455bc6fe_20250111_144256.html ===


[![Go](/static/shared/logo/go-white.svg)](https://go.dev/)
 [Skip to Main Content](#main-content)

![](/static/shared/icon/search_gm_grey_24dp.svg)

![](/static/shared/icon/search_gm_grey_24dp.svg)

* Why Go
  ![submenu dropdown icon](/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)
  + [Case Studies](https://go.dev/solutions#case-studies)

    Common problems companies solve with Go
  + [Use Cases](https://go.dev/solutions#use-cases)

    Stories about how and why companies use Go
  + [Security Policy](https://go.dev/security/policy/)

    How Go can help keep you secure by default
* [Learn](https://go.dev/learn/)
* Docs
  ![submenu dropdown icon](/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)
  + [Effective Go](https://go.dev/doc/effective_go)

    Tips for writing clear, performant, and idiomatic Go code
  + [Go User Manual](https://go.dev/doc/)

    A complete introduction to building software with Go
  + [Standard library](https://pkg.go.dev/std)

    Reference documentation for Go's standard library
  + [Release Notes](https://go.dev/doc/devel/release)

    Learn what's new in each Go release
* [Packages](/)
* Community
  ![submenu dropdown icon](/static/shared/icon/arrow_drop_down_gm_grey_24dp.svg)
  + [Recorded Talks](https://go.dev/talks/)

    Videos from prior events
  + [Meetups
    *![](/static/shared/icon/launch_gm_grey_24dp.svg)*](https://www.meetup.com/pro/go)

    Meet other local Go developers
  + [Conferences
    *![](/static/shared/icon/launch_gm_grey_24dp.svg)*](https://github.com/golang/go/wiki/Conferences)

    Learn and network with Go developers from around the world
  + [Go blog](https://go.dev/blog)

    The Go project's official blog.
  + [Go project](https://go.dev/help)

    Get help and stay informed from Go
  + Get connected
    [![](/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts "Get connected with google-groups (Opens in new window)")
    [![](/static/shared/logo/social/github.svg)](https://github.com/golang "Get connected with github (Opens in new window)")
    [![](/static/shared/logo/social/twitter.svg)](https://twitter.com/golang "Get connected with twitter (Opens in new window)")
    [![](/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/ "Get connected with reddit (Opens in new window)")
    [![](/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/ "Get connected with slack (Opens in new window)")
    [![](/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go)

[![Go.](/static/shared/logo/go-blue.svg)](https://go.dev/)

* Why Go
  *![](/static/shared/icon/navigate_next_gm_grey_24dp.svg)*
  *![](/static/shared/icon/navigate_before_gm_grey_24dp.svg)*
  Why Go
  + [Case Studies](https://go.dev/solutions#case-studies)
  + [Use Cases](https://go.dev/solutions#use-cases)
  + [Security Policy](https://go.dev/security/policy/)
* [Learn](https://go.dev/learn/)
* Docs
  *![](/static/shared/icon/navigate_next_gm_grey_24dp.svg)*
  *![](/static/shared/icon/navigate_before_gm_grey_24dp.svg)*
  Docs
  + [Effective Go](https://go.dev/doc/effective_go)
  + [Go User Manual](https://go.dev/doc/)
  + [Standard library](https://pkg.go.dev/std)
  + [Release Notes](https://go.dev/doc/devel/release)
* [Packages](/)
* Community
  *![](/static/shared/icon/navigate_next_gm_grey_24dp.svg)*
  *![](/static/shared/icon/navigate_before_gm_grey_24dp.svg)*
  Community
  + [Recorded Talks](https://go.dev/talks/)
  + [Meetups
    *![](/static/shared/icon/launch_gm_grey_24dp.svg)*](https://www.meetup.com/pro/go)
  + [Conferences
    *![](/static/shared/icon/launch_gm_grey_24dp.svg)*](https://github.com/golang/go/wiki/Conferences)
  + [Go blog](https://go.dev/blog)
  + [Go project](https://go.dev/help)
  + Get connected
    [![](/static/shared/logo/social/google-groups.svg)](https://groups.google.com/g/golang-nuts)
    [![](/static/shared/logo/social/github.svg)](https://github.com/golang)
    [![](/static/shared/logo/social/twitter.svg)](https://twitter.com/golang)
    [![](/static/shared/logo/social/reddit.svg)](https://www.reddit.com/r/golang/)
    [![](/static/shared/logo/social/slack.svg)](https://invite.slack.golangbridge.org/)
    [![](/static/shared/logo/social/stack-overflow.svg)](https://stackoverflow.com/collectives/go)

1. [Vulnerability Database](/vuln)
2. [All Reports](/vuln/list)
3. GO-2023-2328

# Vulnerability Report: GO-2023-2328

* CVE-2023-45286, GHSA-xwh9-gc39-5298
* Affects:
  github.com/go-resty/resty/v2
* Published: Nov 27, 2023
* Modified: May 20, 2024

A race condition in go-resty can result in HTTP request body disclosure across requests.
This condition can be triggered by calling sync.Pool.Put with the same \*bytes.Buffer more than once, when request retries are enabled and a retry occurs. The call to sync.Pool.Get will then return a bytes.Buffer that hasn't had bytes.Buffer.Reset called on it. This dirty buffer will contain the HTTP request body from an unrelated request, and go-resty will append the current HTTP request body to it, sending two bodies in one request.
The sync.Pool in question is defined at package level scope, so a completely unrelated server could receive the request body.

## Affected Packages

* Path
  Go Versions
  Symbols
* [github.com/go-resty/resty/v2](/github.com/go-resty/resty/v2)
  from v2.10.0 before v2.11.0
  10 affected symbols
  + [Backoff](/github.com/go-resty/resty/v2#Backoff)
  + [Request.Delete](/github.com/go-resty/resty/v2#Request.Delete)
  + [Request.Execute](/github.com/go-resty/resty/v2#Request.Execute)
  + [Request.Get](/github.com/go-resty/resty/v2#Request.Get)
  + [Request.Head](/github.com/go-resty/resty/v2#Request.Head)
  + [Request.Options](/github.com/go-resty/resty/v2#Request.Options)
  + [Request.Patch](/github.com/go-resty/resty/v2#Request.Patch)
  + [Request.Post](/github.com/go-resty/resty/v2#Request.Post)
  + [Request.Put](/github.com/go-resty/resty/v2#Request.Put)
  + [Request.Send](/github.com/go-resty/resty/v2#Request.Send)

## Aliases

* [CVE-2023-45286](https://www.cve.org/CVERecord?id=CVE-2023-45286)
* [GHSA-xwh9-gc39-5298](https://github.com/advisories/GHSA-xwh9-gc39-5298)

## References

* <https://github.com/go-resty/resty/issues/743>
* <https://github.com/go-resty/resty/issues/739>
* <https://github.com/go-resty/resty/pull/745>
* <https://github.com/go-resty/resty/commit/577fed8730d79f583eb48dfc81674164e1fc471e>
* <https://vuln.go.dev/ID/GO-2023-2328.json>

## Credits

* Logan Attwood (@lattwood)

## Feedback

See anything missing or incorrect?
[Suggest an edit to this report.](https://github.com/golang/vulndb/issues/new?assignees=&labels=Needs+Triage%2CSuggested+Edit&template=suggest_edit.yaml&title=x%2Fvulndb%3A+suggestion+regarding+GO-2023-2328&report=GO-2023-2328)

[Why Go](https://go.dev/solutions)
[Use Cases](https://go.dev/solutions#use-cases)
[Case Studies](https://go.dev/solutions#case-studies)

[Get Started](https://learn.go.dev/)
[Playground](https://play.golang.org)
[Tour](https://tour.golang.org)
[Stack Overflow](https://stackoverflow.com/questions/tagged/go?tab=Newest)
[Help](https://go.dev/help)

[Packages](https://pkg.go.dev)
[Standard Library](/std)
[Sub-repositories](/golang.org/x)
[About Go Packages](https://pkg.go.dev/about)

[About](https://go.dev/project)
[Download](https://go.dev/dl/)
[Blog](https://go.dev/blog)
[Issue Tracker](https://github.com/golang/go/issues)
[Release Notes](https://go.dev/doc/devel/release.html)
[Brand Guidelines](https://blog.golang.org/go-brand)
[Code of Conduct](https://go.dev/conduct)

[Connect](https://www.twitter.com/golang)
[Twitter](https://www.twitter.com/golang)
[GitHub](https://github.com/golang)
[Slack](https://invite.slack.golangbridge.org/)
[r/golang](https://reddit.com/r/golang)
[Meetup](https://www.meetup.com/pro/go)
[Golang Weekly](https://golangweekly.com/)

![Gopher in flight goggles](/static/shared/gopher/pilot-bust-1431x901.svg)

* [Copyright](https://go.dev/copyright)
* [Terms of Service](https://go.dev/tos)
* [Privacy Policy](http://www.google.com/intl/en/policies/privacy/)
* [Report an Issue](https://go.dev/s/pkgsite-feedback)
* ![System theme](/static/shared/icon/brightness_6_gm_grey_24dp.svg)
  ![Dark theme](/static/shared/icon/brightness_2_gm_grey_24dp.svg)
  ![Light theme](/static/shared/icon/light_mode_gm_grey_24dp.svg)

  Theme Toggle
* ![](/static/shared/icon/keyboard_grey_24dp.svg)

  Shortcuts Modal

[![Google logo](/static/shared/logo/google-white.svg)](https://google.com)

## Jump to

![](/static/shared/icon/close_gm_grey_24dp.svg)

Close

## Keyboard shortcuts

![](/static/shared/icon/close_gm_grey_24dp.svg)

| **?** | : This menu |
| --- | --- |
| **/** | : Search site |
| **f** or **F** | : Jump to |
| **y** or **Y** | : Canonical URL |

Close

go.dev uses cookies from Google to deliver and enhance the quality of its services and to
analyze traffic. [Learn more.](https://policies.google.com/technologies/cookies)
Okay



=== Content from github.com_c25a2b75_20250111_144256.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fpull%2F745)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fpull%2F745)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=go-resty%2Fresty)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[go-resty](/go-resty)
/
**[resty](/go-resty/resty)**
Public

* [Notifications](/login?return_to=%2Fgo-resty%2Fresty) You must be signed in to change notification settings
* [Fork
  719](/login?return_to=%2Fgo-resty%2Fresty)
* [Star
   10.4k](/login?return_to=%2Fgo-resty%2Fresty)

* [Code](/go-resty/resty)
* [Issues
  2](/go-resty/resty/issues)
* [Pull requests
  1](/go-resty/resty/pulls)
* [Discussions](/go-resty/resty/discussions)
* [Actions](/go-resty/resty/actions)
* [Security](/go-resty/resty/security)
* [Insights](/go-resty/resty/pulse)

Additional navigation options

* [Code](/go-resty/resty)
* [Issues](/go-resty/resty/issues)
* [Pull requests](/go-resty/resty/pulls)
* [Discussions](/go-resty/resty/discussions)
* [Actions](/go-resty/resty/actions)
* [Security](/go-resty/resty/security)
* [Insights](/go-resty/resty/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgo-resty%2Fresty%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgo-resty%2Fresty%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Security: Don't put the same bytes.Buffer into sync.Pool twice #745

 Merged

[jeevatkm](/jeevatkm)
merged 1 commit into
[go-resty:v2](/go-resty/resty/tree/v2 "go-resty/resty:v2")
from
[lattwood:lattwood/fix\_double\_free](/lattwood/resty/tree/lattwood/fix_double_free "lattwood/resty:lattwood/fix_double_free")

Dec 27, 2023

 Merged

# [Security: Don't put the same bytes.Buffer into sync.Pool twice](#top) #745

[jeevatkm](/jeevatkm)
merged 1 commit into
[go-resty:v2](/go-resty/resty/tree/v2 "go-resty/resty:v2")
from
[lattwood:lattwood/fix\_double\_free](/lattwood/resty/tree/lattwood/fix_double_free "lattwood/resty:lattwood/fix_double_free")

Dec 27, 2023

[Conversation
11](/go-resty/resty/pull/745)
[Commits
1](/go-resty/resty/pull/745/commits)
[Checks
3](/go-resty/resty/pull/745/checks)
[Files changed](/go-resty/resty/pull/745/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![lattwood](https://avatars.githubusercontent.com/u/6198952?s=60&v=4)](/lattwood)

Copy link

Contributor

### @lattwood **[lattwood](/lattwood)** commented [Nov 2, 2023](#issue-1974954763) ‚Ä¢ edited Loading

This fixes [#743](https://github.com/go-resty/resty/issues/743), possibly [#739](https://github.com/go-resty/resty/issues/739).

Discovered this while tracking down an issue in <https://github.com/linode/terraform-provider-linode>.

The removed call to sync.Pool.Put is handled by the request body wrapper that puts the buffer back in the pool when the body is closed.

Sorry, something went wrong.

 üëç
33
 krewenki, zliang-akamai, chkelly, patrikeh, jcallahan-akamai, utsushiiro, koyama-yoshihito, madmuffin1, MaxBreida, weeco, and 23 more reacted with thumbs up emoji

All reactions

* üëç
  33 reactions

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=40&v=4)](/lattwood)

`[Don't put the same bytes.Buffer into sync.Pool twice](/go-resty/resty/pull/745/commits/74e9e135ae0cfd88631ca3b664cee2806c3f7808 "Don't put the same bytes.Buffer into sync.Pool twice")`

`[74e9e13](/go-resty/resty/pull/745/commits/74e9e135ae0cfd88631ca3b664cee2806c3f7808)`

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=40&u=26b4bc5fa032f927d0cc9705b9d7bde56a26efe5&v=4)](/lattwood)
[lattwood](/lattwood)
mentioned this pull request
[Nov 2, 2023](#ref-issue-1974958170)

[[Bug]: go-resty has a use after free causing request body concatenation
linode/terraform-provider-linode#1111](/linode/terraform-provider-linode/issues/1111)

Closed

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=80&u=26b4bc5fa032f927d0cc9705b9d7bde56a26efe5&v=4)](/lattwood)

Copy link

Contributor

Author

### **[lattwood](/lattwood)** commented [Nov 4, 2023](#issuecomment-1793492685)

| This closes [#739](https://github.com/go-resty/resty/issues/739) as well.  Now that I‚Äôm thinking about it, this is a security issue, as it‚Äôs disclosing a HTTP body to an unrelated endpoints/servers. |
| --- |

All reactions

Sorry, something went wrong.

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=40&u=26b4bc5fa032f927d0cc9705b9d7bde56a26efe5&v=4)](/lattwood)
[lattwood](/lattwood)
changed the title
~~Don't put the same bytes.Buffer into sync.Pool twice~~
Security: Don't put the same bytes.Buffer into sync.Pool twice
[Nov 4, 2023](#event-10863207233)

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=40&u=26b4bc5fa032f927d0cc9705b9d7bde56a26efe5&v=4)](/lattwood)
[lattwood](/lattwood)
mentioned this pull request
[Nov 9, 2023](#ref-issue-1986173201)

[x/vulndb: potential Go vuln in github.com/go-resty/resty/v2: CVE-2023-45286
golang/vulndb#2328](/golang/vulndb/issues/2328)

Closed

1 task

[![@jeromedoucet](https://avatars.githubusercontent.com/u/7665949?s=40&v=4)](/jeromedoucet)
[jeromedoucet](/jeromedoucet)
mentioned this pull request
[Nov 28, 2023](#ref-issue-2014138571)

[CVE-2023-45286
#756](/go-resty/resty/issues/756)

Closed

[![@reedloden](https://avatars.githubusercontent.com/u/352251?s=80&u=8ec37a0f743b2d4c0ab12c95a504715d746779f1&v=4)](/reedloden)

Copy link

### **[reedloden](/reedloden)** commented [Nov 30, 2023](#issuecomment-1834175303)

| [@jeevatkm](https://github.com/jeevatkm) Able to take a look here when you have a moment? |
| --- |

All reactions

Sorry, something went wrong.

[![@krystian-panek-vmltech](https://avatars.githubusercontent.com/u/81212505?s=40&v=4)](/krystian-panek-vmltech)
[krystian-panek-vmltech](/krystian-panek-vmltech)
mentioned this pull request
[Dec 1, 2023](#ref-issue-2020427706)

[Upgrade Resty
wttech/aemc#222](/wttech/aemc/issues/222)

Closed

[![@jxsl13](https://avatars.githubusercontent.com/u/371944?s=80&u=b9c9d4f78afd077e9539a9d8fee406fc57371aba&v=4)](/jxsl13)

Copy link

### **[jxsl13](/jxsl13)** commented [Dec 1, 2023](#issuecomment-1836180815)

| [@jeevatkm](https://github.com/jeevatkm) pls merge |
| --- |

All reactions

Sorry, something went wrong.

[![@safaci2000](https://avatars.githubusercontent.com/u/62894?s=80&u=d031da1afdb08add5c809030378de15baa051bf6&v=4)](/safaci2000)

Copy link

### **[safaci2000](/safaci2000)** commented [Dec 6, 2023](#issuecomment-1843278486)

| Any updates on this ticket? |
| --- |

All reactions

Sorry, something went wrong.

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=80&u=26b4bc5fa032f927d0cc9705b9d7bde56a26efe5&v=4)](/lattwood)

Copy link

Contributor

Author

### **[lattwood](/lattwood)** commented [Dec 6, 2023](#issuecomment-1843633488)

| Your best bet is going to be forking this, or moving to a different library, based on how long this issue has been open. |
| --- |

 üëç
5
 niksteff, ghstahl, franchb, vegidio, and zliang-akamai reacted with thumbs up emoji
 üòï
3
 jimvmathews, blizzy78, and vegidio reacted with confused emoji

All reactions

* üëç
  5 reactions
* üòï
  3 reactions

Sorry, something went wrong.

[![@niksteff](https://avatars.githubusercontent.com/u/1012231?s=80&u=50760a6ac8ab9da2ec102feb6f318eb03b0e6100&v=4)](/niksteff)

Copy link

### **[niksteff](/niksteff)** commented [Dec 7, 2023](#issuecomment-1845447127) ‚Ä¢ edited Loading

| Yeah we are moving. Not only is the CVE a big problem, after the update to 2.10 we experienced fun bugs where the json request body of a previous or the same request (could not tell) was copied in the host part of the request URL. This occurred when multiple request were running concurrently and we changed nothing but the resty upgrade. Was fine for two years. I cannot prove it as I could not recreate the bug but a downgrade to 2.9.1 immediately solved the problem.  It could be a side effect of this buffer problem but as i cannot prove it i won't open a new thread. Just wanted to state it if somebody else experiences something different and has more time at hands to test it through.  Here is an example log from our kibana:  ``` 2023/11/28 13:51:16.736214 WARN RESTY parse "{"some very large json request body here"}/oms/customer/v3/users/2133478": first path segment in URL cannot contain colon, Attempt 1  ```  Because of the `WARN RESTY` you can see the warning is logged from the resty code base as this log is hard coded there.  Here is my example gist where i could not recreate the problem and my time budget was done: <https://gist.github.com/niksteff/2fd29672a24372782627d99ba2016031> |
| --- |

All reactions

Sorry, something went wrong.

[![@ncw](https://avatars.githubusercontent.com/u/536803?s=40&v=4)](/ncw)
[ncw](/ncw)
mentioned this pull request
[Dec 7, 2023](#ref-issue-2031256578)

[The lint tests are failing because of a CVE in github.com/go-resty/resty/v2 used by protondrive
rclone/rclone#7491](/rclone/rclone/issues/7491)

Closed

This was referenced Dec 15, 2023

[Random checksum mismatch error with data.artifactory\_file
jfrog/terraform-provider-artifactory#858](/jfrog/terraform-provider-artifactory/issues/858)

Closed

[Downgrade Resty to avoid CVE
jfrog/terraform-provider-artifactory#859](/jfrog/terraform-provider-artifactory/pull/859)
 Merged

[![@Coronon](https://avatars.githubusercontent.com/u/33808743?s=80&u=22cd330179211632b5273a480cef64820277c0b9&v=4)](/Coronon)

Copy link

### **[Coronon](/Coronon)** commented [Dec 17, 2023](#issuecomment-1859164326) ‚Ä¢ edited Loading

| For everyone that needs a quick fix without downgrading to v2.9.1:  ``` replace github.com/go-resty/resty/v2 => github.com/lattwood/resty/v2 v2.0.0-20231102200459-74e9e135ae0c ```  Put the above line into your `go.mod` file to override the resty code with this PR. |
| --- |

All reactions

Sorry, something went wrong.

[![@cfiderer](https://avatars.githubusercontent.com/u/40199723?s=40&v=4)](/cfiderer)
[cfiderer](/cfiderer)
mentioned this pull request
[Dec 21, 2023](#ref-issue-2048275619)

[CVE-2023-45286: HTTP request body disclosure
#764](/go-resty/resty/issues/764)

Closed

[![@vithubati](https://avatars.githubusercontent.com/u/9838121?s=80&u=c845207cbbfbde21c3832246e02e129f57c1f2bd&v=4)](/vithubati)

Copy link

### **[vithubati](/vithubati)** commented [Dec 26, 2023](#issuecomment-1869815389) ‚Ä¢ edited Loading

| Any timeline as to when this PR will be merged? |
| --- |

All reactions

Sorry, something went wrong.

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=80&v=4)](/jeevatkm)

Copy link

Member

### **[jeevatkm](/jeevatkm)** commented [Dec 27, 2023](#issuecomment-1869965464)

| [@lattwood](https://github.com/lattwood) and members on the PR - Thanks for reaching out. I have been traveling on vacation days and will return from vacation in the first week of January. I'm sorry for not checking my emails and notifications properly these days.  Let me merge this PR and make a release. |
| --- |

 üëç
3
 vithubati, maeyama-masahiro, and diegomarangoni reacted with thumbs up emoji

All reactions

* üëç
  3 reactions

Sorry, something went wrong.

[![jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=60&v=4)](/jeevatkm)

**[jeevatkm](/jeevatkm)**
approved these changes
[Dec 27, 2023](#pullrequestreview-1796775773)

 [View reviewed changes](/go-resty/resty/pull/745/files/74e9e135ae0cfd88631ca3b664cee2806c3f7808)

Copy link

Member

### @jeevatkm **[jeevatkm](/jeevatkm)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

[@lattwood](https://github.com/lattwood) Thank you for the PR, appreciated.

Sorry, something went wrong.

All reactions

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=40&v=4)](/jeevatkm)
[jeevatkm](/jeevatkm)
assigned [lattwood](/lattwood)
[Dec 27, 2023](#event-11342473105)

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=40&v=4)](/jeevatkm)
[jeevatkm](/jeevatkm)
added
[bug](/go-resty/resty/labels/bug)
[run-build](/go-resty/resty/labels/run-build)
labels
[Dec 27, 2023](#event-11342473536)

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)
[![Codecov](https://avatars.githubusercontent.com/in/254?s=40&u=c392dd7c2afc51fe2347d4296afa8494ac05772e&v=4)](https://github.com/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Dec 27, 2023](#issuecomment-1869966270)

| [Codecov](https://app.codecov.io/gh/go-resty/resty/pull/745?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=go-resty) Report All modified and coverable lines are covered by tests ‚úÖ  Comparison is base [(`105f718`)](https://app.codecov.io/gh/go-resty/resty/commit/105f7185be505f070bfb19df4c3a4535058e0f84?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=go-resty) 96.51% compared to head [(`74e9e13`)](https://app.codecov.io/gh/go-resty/resty/pull/745?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=go-resty) 96.51%. Additional details and impacted files ``` @@            Coverage Diff             @@ ##               v2     #745      +/-   ## ========================================== - Coverage   96.51%   96.51%   -0.01%      ==========================================   Files          12       12                 Lines        1637     1636       -1      ========================================== - Hits         1580     1579       -1        Misses         36       36                 Partials       21       21               ```   [‚òî View full report in Codecov by Sentry](https://app.codecov.io/gh/go-resty/resty/pull/745?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=go-resty). üì¢ Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=go-resty). |
| --- |

All reactions

Sorry, something went wrong.

 Hide details
View details

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=40&v=4)](/jeevatkm)
[jeevatkm](/jeevatkm)
merged commit [`577fed8`](/go-resty/resty/commit/577fed8730d79f583eb48dfc81674164e1fc471e)
into
go-resty:v2

[Dec 27, 2023](https://github.com/go-resty/resty/pull/745#event-11342477925)
3 checks passed

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=40&v=4)](/jeevatkm)
[jeevatkm](/jeevatkm)
added this to the [v2.11.0 Milestone](/go-resty/resty/milestone/38) milestone
[Dec 27, 2023](#event-11342504744)

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=40&v=4)](/jeevatkm)
[jeevatkm](/jeevatkm)
mentioned this pull request
[Dec 27, 2023](#ref-issue-1961435191)

[DATA RACE in resty's middleware (go-resty/resty/v2.releaseBuffer())
#739](/go-resty/resty/issues/739)

Closed

[![@shanduur](https://avatars.githubusercontent.com/u/32583062?s=40&v=4)](/shanduur)
[shanduur](/shanduur)
mentioned this pull request
[Dec 28, 2023](#ref-pullrequest-2058190226)

[[GHSA-xwh9-gc39-5298] github.com/go-resty/resty/v2 HTTP request body disclosure
github/advisory-database#3221](/github/advisory-database/pull/3221)
 Merged

[![@Bart-vanDongen](https://avatars.githubusercontent.com/u/95855742?s=40&v=4)](/Bart-vanDongen)
[Bart-vanDongen](/Bart-vanDongen)
mentioned this pull request
[Dec 29, 2023](#ref-issue-2059252093)

[x/vulndb: suggestion regarding GO-2023-2328 vulnerability solved in release v2.11.0
golang/vulndb#2427](/golang/vulndb/issues/2427)

Closed

[Michsior14](/Michsior14)
referenced
this pull request
in Michsior14/transmission-gluetun-port-update
[Dec 30, 2023](#ref-commit-b0040e1)
[![@renovate](https://avatars.githubusercontent.com/in/2740?s=40&v=4)](/marketplace/renovate)

`[build(deps): update module github.com/go-resty/resty/v2 to v2.11.0 (](/Michsior14/transmission-gluetun-port-update/commit/b0040e1d83beb3efef5cdbb7492444803d3128b8 "build(deps): update module github.com/go-resty/resty/v2 to v2.11.0 (#6)

[![Mend
Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| [github.com/go-resty/resty/v2](https://togithub.com/go-resty/resty) |
`v2.10.0` -> `v2.11.0` |
[![age](https://developer.mend.io/api/mc/badges/age/go/github.com%2fgo-resty%2fresty%2fv2/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/)
|
[![adoption](https://developer.mend.io/api/mc/badges/adoption/go/github.com%2fgo-resty%2fresty%2fv2/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/)
|
[![passing](https://developer.mend.io/api/mc/badges/compatibility/go/github.com%2fgo-resty%2fresty%2fv2/v2.10.0/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/)
|
[![confidence](https://developer.mend.io/api/mc/badges/confidence/go/github.com%2fgo-resty%2fresty%2fv2/v2.10.0/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/)
|

---

### Release Notes

<details>
<summary>go-resty/resty (github.com/go-resty/resty/v2)</summary>

###
[`v2.11.0`](https://togithub.com/go-resty/resty/releases/tag/v2.11.0):
Release

[Compare
Source](https://togithub.com/go-resty/resty/compare/v2.10.0...v2.11.0)

### Release Notes

#### Bug Fixes

- Security: Don't put the same bytes.Buffer into sync.Pool twice by
[@&#8203;lattwood](https://togithub.com/lattwood) in
[https://github.com/go-resty/resty/pull/745](https://togithub.com/go-resty/resty/pull/745),
[#&#8203;764](https://togithub.com/go-resty/resty/issues/764),
[#&#8203;756](https://togithub.com/go-resty/resty/issues/756)
- fix: Improve Digest WWW-Authenticate response header parsing
compatibility by [@&#8203;bearki](https://togithub.com/bearki) in
[https://github.com/go-resty/resty/pull/735](https://togithub.com/go-resty/resty/pull/735)

#### New Contributors

- [@&#8203;lattwood](https://togithub.com/lattwood) made their first
contribution in
[https://github.com/go-resty/resty/pull/745](https://togithub.com/go-resty/resty/pull/745)
- [@&#8203;bearki](https://togithub.com/bearki) made their first
contribution in
[https://github.com/go-resty/resty/pull/735](https://togithub.com/go-resty/resty/pull/735)

**Full Changelog**:
https://github.com/go-resty/resty/compare/v2.10.0...v2.11.0

</details>

---

### Configuration

üìÖ **Schedule**: Branch creation - At any time (no schedule defined),
Automerge - At any time (no schedule defined).

üö¶ **Automerge**: Disabled by config. Please merge this manually once you
are satisfied.

‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the
rebase/retry checkbox.

üîï **Ignore**: Close this PR and you won't be reminded about this update
again.

---

- [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check
this box

---

This PR has been generated by [Mend
Renovate](https://www.mend.io/free-developer-tools/renovate/). View
repository job log
[here](https://developer.mend.io/github/Michsior14/transmission-gluetun-port-update).

<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xMDMuMSIsInVwZGF0ZWRJblZlciI6IjM3LjEwMy4xIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>")[#6](https://github.com/Michsior14/transmission-gluetun-port-update/pull/6)[)](/Michsior14/transmission-gluetun-port-update/commit/b0040e1d83beb3efef5cdbb7492444803d3128b8 "build(deps): update module github.com/go-resty/resty/v2 to v2.11.0 (#6)

[![Mend
Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| [github.com/go-resty/resty/v2](https://togithub.com/go-resty/resty) |
`v2.10.0` -> `v2.11.0` |
[![age](https://developer.mend.io/api/mc/badges/age/go/github.com%2fgo-resty%2fresty%2fv2/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/)
|
[![adoption](https://developer.mend.io/api/mc/badges/adoption/go/github.com%2fgo-resty%2fresty%2fv2/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/)
|
[![passing](https://developer.mend.io/api/mc/badges/compatibility/go/github.com%2fgo-resty%2fresty%2fv2/v2.10.0/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/)
|
[![confidence](https://developer.mend.io/api/mc/badges/confidence/go/github.com%2fgo-resty%2fresty%2fv2/v2.10.0/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/)
|

---

### Release Notes

<details>
<summary>go-resty/resty (github.com/go-resty/resty/v2)</summary>

###
[`v2.11.0`](https://togithub.com/go-resty/resty/releases/tag/v2.11.0):
Release

[Compare
Source](https://togithub.com/go-resty/resty/compare/v2.10.0...v2.11.0)

### Release Notes

#### Bug Fixes

- Security: Don't put the same bytes.Buffer into sync.Pool twice by
[@&#8203;lattwood](https://togithub.com/lattwood) in
[https://github.com/go-resty/resty/pull/745](https://togithub.com/go-resty/resty/pull/745),
[#&#8203;764](https://togithub.com/go-resty/resty/issues/764),
[#&#8203;756](https://togithub.com/go-resty/resty/issues/756)
- fix: Improve Digest WWW-Authenticate response header parsing
compatibility by [@&#8203;bearki](https://togithub.com/bearki) in
[https://github.com/go-resty/resty/pull/735](https://togithub.com/go-resty/resty/pull/735)

#### New Contributors

- [@&#8203;lattwood](https://togithub.com/lattwood) made their first
contribution in
[https://github.com/go-resty/resty/pull/745](https://togithub.com/go-resty/resty/pull/745)
- [@&#8203;bearki](https://togithub.com/bearki) made their first
contribution in
[https://github.com/go-resty/resty/pull/735](https://togithub.com/go-resty/resty/pull/735)

**Full Changelog**:
https://github.com/go-resty/resty/compare/v2.10.0...v2.11.0

</details>

---

### Configuration

üìÖ **Schedule**: Branch creation - At any time (no schedule defined),
Automerge - At any time (no schedule defined).

üö¶ **Automerge**: Disabled by config. Please merge this manually once you
are satisfied.

‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the
rebase/retry checkbox.

üîï **Ignore**: Close this PR and you won't be reminded about this update
again.

---

- [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check
this box

---

This PR has been generated by [Mend
Renovate](https://www.mend.io/free-developer-tools/renovate/). View
repository job log
[here](https://developer.mend.io/github/Michsior14/transmission-gluetun-port-update).

<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xMDMuMSIsInVwZGF0ZWRJblZlciI6IjM3LjEwMy4xIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>")`
‚Ä¶

`[b0040e1](/Michsior14/transmission-gluetun-port-update/commit/b0040e1d83beb3efef5cdbb7492444803d3128b8)`

```
[![Mend
Renovate]([https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com](https://app.renovatebot.com/images/banner.svg%29%5D%28https%3A//renovatebot.com))

This PR contains the following updates:

| Package | Change | Age | Adoption | Passing | Confidence |
|---|---|---|---|---|---|
| [github.com/go-resty/resty/v2](<https://togithub.com/go-resty/resty>) |
`v2.10.0` -> `v2.11.0` |
[![age]([https://developer.mend.io/api/mc/badges/age/go/github.com%2fgo-resty%2fresty%2fv2/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/](https://developer.mend.io/api/mc/badges/age/go/github.com/go-resty/resty/v2/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/))
|
[![adoption]([https://developer.mend.io/api/mc/badges/adoption/go/github.com%2fgo-resty%2fresty%2fv2/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/](https://developer.mend.io/api/mc/badges/adoption/go/github.com/go-resty/resty/v2/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/))
|
[![passing]([https://developer.mend.io/api/mc/badges/compatibility/go/github.com%2fgo-resty%2fresty%2fv2/v2.10.0/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/](https://developer.mend.io/api/mc/badges/compatibility/go/github.com/go-resty/resty/v2/v2.10.0/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/))
|
[![confidence]([https://developer.mend.io/api/mc/badges/confidence/go/github.com%2fgo-resty%2fresty%2fv2/v2.10.0/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/](https://developer.mend.io/api/mc/badges/confidence/go/github.com/go-resty/resty/v2/v2.10.0/v2.11.0?slim=true)](https://docs.renovatebot.com/merge-confidence/))
|

---

### Release Notes

<details>
<summary>go-resty/resty (github.com/go-resty/resty/v2)</summary>

###
[`v2.11.0`](<https://togithub.com/go-resty/resty/releases/tag/v2.11.0>):
Release

[Compare
Source](<https://togithub.com/go-resty/resty/compare/v2.10.0...v2.11.0>)

### Release Notes

#### Bug Fixes

- Security: Don't put the same bytes.Buffer into sync.Pool twice by
[@&#8203;lattwood](<https://togithub.com/lattwood>) in
[[https://github.com/go-resty/resty/pull/745](https://togithub.com/go-resty/resty/pull/745)](https://github.com/go-resty/resty/pull/745%5D%28https%3A//togithub.com/go-resty/resty/pull/745%29),
[#&#8203;764](<https://togithub.com/go-resty/resty/issues/764>),
[#&#8203;756](<https://togithub.com/go-resty/resty/issues/756>)
- fix: Improve Digest WWW-Authenticate response header parsing
compatibility by [@&#8203;bearki](<https://togithub.com/bearki>) in
[[https://github.com/go-resty/resty/pull/735](https://togithub.com/go-resty/resty/pull/735)](https://github.com/go-resty/resty/pull/735%5D%28https%3A//togithub.com/go-resty/resty/pull/735%29)

#### New Contributors

- [@&#8203;lattwood](<https://togithub.com/lattwood>) made their first
contribution in
[[https://github.com/go-resty/resty/pull/745](https://togithub.com/go-resty/resty/pull/745)](https://github.com/go-resty/resty/pull/745%5D%28https%3A//togithub.com/go-resty/resty/pull/745%29)
- [@&#8203;bearki](<https://togithub.com/bearki>) made their first
contribution in
[[https://github.com/go-resty/resty/pull/735](https://togithub.com/go-resty/resty/pull/735)](https://github.com/go-resty/resty/pull/735%5D%28https%3A//togithub.com/go-resty/resty/pull/735%29)

**Full Changelog**:
[go-resty/resty@v2.10.0...v2.11.0](https://github.com/go-resty/resty/compare/v2.10.0...v2.11.0)

</details>

---

### Configuration

üìÖ **Schedule**: Branch creation - At any time (no schedule defined),
Automerge - At any time (no schedule defined).

üö¶ **Automerge**: Disabled by config. Please merge this manually once you
are satisfied.

‚ôª **Rebasing**: Whenever PR becomes conflicted, or you tick the
rebase/retry checkbox.

üîï **Ignore**: Close this PR and you won't be reminded about this update
again.

---

- [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check
this box

---

This PR has been generated by [Mend
Renovate](<https://www.mend.io/free-developer-tools/renovate/>). View
repository job log
[here](<https://developer.mend.io/github/Michsior14/transmission-gluetun-port-update>).

<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4xMDMuMSIsInVwZGF0ZWRJblZlciI6IjM3LjEwMy4xIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->

Co-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>
```

[![@stonelgh](https://avatars.githubusercontent.com/u/14085758?s=40&v=4)](/stonelgh)
[stonelgh](/stonelgh)
mentioned this pull request
[Nov 19, 2024](#ref-issue-2671070650)

[Unexpected buffer sharing caused request body concatenated or replaced
#917](/go-resty/resty/issues/917)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fpull%2F745)

Reviewers

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=40&v=4)](/jeevatkm) [jeevatkm](/jeevatkm)

jeevatkm approved these changes

Assignees

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=40&v=4)](/lattwood) [lattwood](/lattwood)

Labels

[bug](/go-resty/resty/labels/bug)
[run-build](/go-resty/resty/labels/run-build)

Milestone

 [**v2.11.0 Milestone**](/go-resty/resty/milestone/38 "v2.11.0 Milestone")

Development

Successfully merging this pull request may close these issues.

 [Request body is written multiple times](https://github.com/go-resty/resty/issues/743)

8 participants

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=52&v=4)](/lattwood) [![@reedloden](https://avatars.githubusercontent.com/u/352251?s=52&v=4)](/reedloden) [![@jxsl13](https://avatars.githubusercontent.com/u/371944?s=52&v=4)](/jxsl13) [![@safaci2000](https://avatars.githubusercontent.com/u/62894?s=52&v=4)](/safaci2000) [![@niksteff](https://avatars.githubusercontent.com/u/1012231?s=52&v=4)](/niksteff) [![@Coronon](https://avatars.githubusercontent.com/u/33808743?s=52&v=4)](/Coronon) [![@vithubati](https://avatars.githubusercontent.com/u/9838121?s=52&v=4)](/vithubati) [![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=52&v=4)](/jeevatkm)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_427141a8_20250111_144254.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fissues%2F743)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fissues%2F743)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=go-resty%2Fresty)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[go-resty](/go-resty)
/
**[resty](/go-resty/resty)**
Public

* [Notifications](/login?return_to=%2Fgo-resty%2Fresty) You must be signed in to change notification settings
* [Fork
  719](/login?return_to=%2Fgo-resty%2Fresty)
* [Star
   10.4k](/login?return_to=%2Fgo-resty%2Fresty)

* [Code](/go-resty/resty)
* [Issues
  2](/go-resty/resty/issues)
* [Pull requests
  1](/go-resty/resty/pulls)
* [Discussions](/go-resty/resty/discussions)
* [Actions](/go-resty/resty/actions)
* [Security](/go-resty/resty/security)
* [Insights](/go-resty/resty/pulse)

Additional navigation options

* [Code](/go-resty/resty)
* [Issues](/go-resty/resty/issues)
* [Pull requests](/go-resty/resty/pulls)
* [Discussions](/go-resty/resty/discussions)
* [Actions](/go-resty/resty/actions)
* [Security](/go-resty/resty/security)
* [Insights](/go-resty/resty/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgo-resty%2Fresty%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgo-resty%2Fresty%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Request body is written multiple times #743

Closed

[patrikeh](/patrikeh) opened this issue
Oct 30, 2023
¬∑ 2 comments
 ¬∑ Fixed by [#745](https://github.com/go-resty/resty/pull/745)

Closed

# [Request body is written multiple times](#top) #743

[patrikeh](/patrikeh) opened this issue
Oct 30, 2023
¬∑ 2 comments
 ¬∑ Fixed by [#745](https://github.com/go-resty/resty/pull/745)

## Comments

[![@patrikeh](https://avatars.githubusercontent.com/u/11718936?s=80&u=71ba545fac966958e52788de499fde504d7b33f7&v=4)](/patrikeh)

Copy link

### **[patrikeh](/patrikeh)** commented [Oct 30, 2023](#issue-1968036476) ‚Ä¢ edited Loading

| In v2.10.0, I've observed an issue where the request body passed to `.SetBody(...)` is intermittently written multiple times under certain conditions.  From what I gather, it is somehow related to the retry mechanism, or at the very least I was only able to reproduce by triggering that.  [In the repro here](https://github.com/patrikeh/resty-request-body-issue), I ping an httptest mock endpoint triggering the retry mechanism, and observe the JSON request body being written multiple consecutive times e.g.  ``` { <some-json> }{ <some-json> }  ```  This issue does not occur in v2.9.1. |
| --- |
| The text was updated successfully, but these errors were encountered: |

 üëç
9
 marc1404, arugaz, Loveason, iporer, lattwood, zliang-akamai, shihr-mx, shanduur, and niksteff reacted with thumbs up emoji

All reactions

* üëç
  9 reactions

[![@iporer](https://avatars.githubusercontent.com/u/8085344?s=80&u=3b35c97dc9ad8b09fc0a4cb2835c0511f16b9f0e&v=4)](/iporer)

Copy link

### **[iporer](/iporer)** commented [Nov 2, 2023](#issuecomment-1789909313) ‚Ä¢ edited Loading

| My projcet recurred this bug. Hope fix. For more information, we tried all versions 2.8.0-2.10.0 and recurred in those versions. |
| --- |

All reactions

Sorry, something went wrong.

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=40&u=26b4bc5fa032f927d0cc9705b9d7bde56a26efe5&v=4)](/lattwood)
[lattwood](/lattwood)
mentioned this issue
[Nov 2, 2023](#ref-pullrequest-1974954763)

[Security: Don't put the same bytes.Buffer into sync.Pool twice
#745](/go-resty/resty/pull/745)
 Merged

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=80&u=26b4bc5fa032f927d0cc9705b9d7bde56a26efe5&v=4)](/lattwood)

Copy link

Contributor

### **[lattwood](/lattwood)** commented [Nov 2, 2023](#issuecomment-1791506744)

| [@patrikeh](https://github.com/patrikeh) thanks for throwing that test case together, really helped with tracking the issue down |
| --- |

 ‚ù§Ô∏è
1
 patrikeh reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

This was referenced Nov 2, 2023

[Downgrade `resty` to v2.9.1
linode/linodego#416](/linode/linodego/pull/416)
 Merged

[Downgrade resty to v2.9.1
linode/terraform-provider-linode#1113](/linode/terraform-provider-linode/pull/1113)
 Merged

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=40&u=26b4bc5fa032f927d0cc9705b9d7bde56a26efe5&v=4)](/lattwood)
[lattwood](/lattwood)
mentioned this issue
[Nov 9, 2023](#ref-issue-1986173201)

[x/vulndb: potential Go vuln in github.com/go-resty/resty/v2: CVE-2023-45286
golang/vulndb#2328](/golang/vulndb/issues/2328)

Closed

1 task

[![@zliang-akamai](https://avatars.githubusercontent.com/u/121905282?s=40&v=4)](/zliang-akamai)
[zliang-akamai](/zliang-akamai)
mentioned this issue
[Nov 28, 2023](#ref-pullrequest-2015117011)

[Downgrade resty to 2.9.1
linode/packer-plugin-linode#165](/linode/packer-plugin-linode/pull/165)
 Merged

[![@zmotso](https://avatars.githubusercontent.com/u/10484729?s=40&v=4)](/zmotso)
[zmotso](/zmotso)
mentioned this issue
[Dec 7, 2023](#ref-issue-2030339259)

[Fix github.com/go-resty/resty/v2 HTTP request body disclosure
epam/edp-nexus-operator#15](/epam/edp-nexus-operator/issues/15)

Closed

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=40&v=4)](/jeevatkm)
[jeevatkm](/jeevatkm)
closed this as [completed](/go-resty/resty/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#745](/go-resty/resty/pull/745)
[Dec 27, 2023](#event-11342478068)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fissues%2F743)

Assignees

No one assigned

Labels

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [Security: Don't put the same bytes.Buffer into sync.Pool twice](/go-resty/resty/pull/745)
 [lattwood/resty](/lattwood/resty)

3 participants

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=52&v=4)](/lattwood) [![@iporer](https://avatars.githubusercontent.com/u/8085344?s=52&v=4)](/iporer) [![@patrikeh](https://avatars.githubusercontent.com/u/11718936?s=52&v=4)](/patrikeh)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_d54043e5_20250111_144254.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fissues%2F739)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fissues%2F739)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=go-resty%2Fresty)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[go-resty](/go-resty)
/
**[resty](/go-resty/resty)**
Public

* [Notifications](/login?return_to=%2Fgo-resty%2Fresty) You must be signed in to change notification settings
* [Fork
  719](/login?return_to=%2Fgo-resty%2Fresty)
* [Star
   10.4k](/login?return_to=%2Fgo-resty%2Fresty)

* [Code](/go-resty/resty)
* [Issues
  2](/go-resty/resty/issues)
* [Pull requests
  1](/go-resty/resty/pulls)
* [Discussions](/go-resty/resty/discussions)
* [Actions](/go-resty/resty/actions)
* [Security](/go-resty/resty/security)
* [Insights](/go-resty/resty/pulse)

Additional navigation options

* [Code](/go-resty/resty)
* [Issues](/go-resty/resty/issues)
* [Pull requests](/go-resty/resty/pulls)
* [Discussions](/go-resty/resty/discussions)
* [Actions](/go-resty/resty/actions)
* [Security](/go-resty/resty/security)
* [Insights](/go-resty/resty/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgo-resty%2Fresty%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgo-resty%2Fresty%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# DATA RACE in resty's middleware (go-resty/resty/v2.releaseBuffer()) #739

Closed

[1713266](/1713266) opened this issue
Oct 25, 2023
¬∑ 2 comments

Closed

# [DATA RACE in resty's middleware (go-resty/resty/v2.releaseBuffer())](#top) #739

[1713266](/1713266) opened this issue
Oct 25, 2023
¬∑ 2 comments

Labels
[bug](/go-resty/resty/labels/bug)

## Comments

[![@1713266](https://avatars.githubusercontent.com/u/33344203?s=80&v=4)](/1713266)

Copy link

### **[1713266](/1713266)** commented [Oct 25, 2023](#issue-1961435191)

| We detected a data race in resty's middleware when releasing/resetting the buffer. Please check.  Go Version: 1.21.1 Resty Version: v2.10.0  ``` ================== WARNING: DATA RACE Read at 0x00c001e91ce0 by goroutine 537694:   bytes.(*Buffer).Reset()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/bytes/buffer.go:107 +0x46   github.com/go-resty/resty/v2.releaseBuffer()       /testDirectory/vendor/github.com/go-resty/resty/v2/util.go:298 +0x41   github.com/go-resty/resty/v2.handleRequestBody()       /testDirectory/vendor/github.com/go-resty/resty/v2/middleware.go:484 +0x6e   github.com/go-resty/resty/v2.parseRequestBody()       /testDirectory/vendor/github.com/go-resty/resty/v2/middleware.go:193 +0x290   github.com/go-resty/resty/v2.(*Client).execute()       /testDirectory/vendor/github.com/go-resty/resty/v2/client.go:1164 +0x550   github.com/go-resty/resty/v2.(*Request).Execute.func2()      /testDirectory/vendor/github.com/go-resty/resty/v2/request.go:947 +0x179   github.com/go-resty/resty/v2.Backoff()      /testDirectory/vendor/github.com/go-resty/resty/v2/retry.go:115 +0x1d5   github.com/go-resty/resty/v2.(*Request).Execute()       /testDirectory/vendor/github.com/go-resty/resty/v2/request.go:941 +0xac4   github.com/go-resty/resty/v2.(*Request).Post()       /testDirectory/vendor/github.com/go-resty/resty/v2/request.go:862 +0x344   github.wdf.sap.corp/ift/sl-core/pkg/slp/client.sumHandler.sendUserInput()       /testDirectory/vendor/github.wdf.sap.corp/ift/sl-core/pkg/slp/client/sum_handler.go:69 +0x2cf   github.wdf.sap.corp/ift/sl-core/pkg/slp/client.(*sumHandler).sendUserInput()       <autogenerated>:1 +0x84   github.wdf.sap.corp/ift/sl-core/pkg/slp/client.(*Client).SendUserInput()       /testDirectory/vendor/github.wdf.sap.corp/ift/sl-core/pkg/slp/client/slp_client.go:536 +0x119e   github.wdf.sap.corp/ift/slocon/pkg/task/slpclient.FinishedResponse.evaluate()       /testDirectory/pkg/task/slpclient/onstatefinished.go:160 +0x10a2   github.wdf.sap.corp/ift/slocon/pkg/task/slpclient.(*dialogHandler).evaluateResponses()       /testDirectory/pkg/task/slpclient/dialogHandler.go:685 +0x977   github.wdf.sap.corp/ift/slocon/pkg/task/slpclient.(*dialogHandler).onMessagebox()       /testDirectory/pkg/task/slpclient/dialogHandler.go:615 +0x3cb   github.wdf.sap.corp/ift/slocon/pkg/task/slpclient.(*dialogHandler).OnStateDialog()       /testDirectory/pkg/task/slpclient/dialogHandler.go:592 +0x2cd   github.wdf.sap.corp/ift/sl-core/pkg/slp/client.(*Loop).Poll()       /testDirectory/vendor/github.wdf.sap.corp/ift/sl-core/pkg/slp/client/loop.go:319 +0x1f85   github.wdf.sap.corp/ift/sl-core/pkg/slp/client.(*Loop).Run.func1()       /testDirectory/vendor/github.wdf.sap.corp/ift/sl-core/pkg/slp/client/loop.go:191 +0x107  Previous write at 0x00c001e91ce0 by goroutine 537693:   bytes.(*Buffer).Reset()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/bytes/buffer.go:107 +0x50   github.com/go-resty/resty/v2.releaseBuffer()       /testDirectory/vendor/github.com/go-resty/resty/v2/util.go:298 +0x41   github.com/go-resty/resty/v2.(*requestBodyReleaser).Close.func1()       /testDirectory/vendor/github.com/go-resty/resty/v2/util.go:325 +0x45   sync.(*Once).doSlow()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/sync/once.go:74 +0xf0   sync.(*Once).Do()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/sync/once.go:65 +0x44   github.com/go-resty/resty/v2.(*requestBodyReleaser).Close()       /testDirectory/vendor/github.com/go-resty/resty/v2/util.go:324 +0x7d   net/http.(*readTrackingBody).Close()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/net/http/transport.go:658 +0x4f   net/http.(*transferWriter).writeBody.func1()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/net/http/transfer.go:343 +0x9a   runtime.deferreturn()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/runtime/panic.go:477 +0x30   net/http.(*Request).write()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/net/http/request.go:738 +0x12cc   net/http.(*persistConn).writeLoop()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/net/http/transport.go:2424 +0x312   net/http.(*Transport).dialConn.func6()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/net/http/transport.go:1777 +0x33  Goroutine 537694 (running) created at:   github.wdf.sap.corp/ift/sl-core/pkg/slp/client.(*Loop).Run()       /testDirectory/vendor/github.wdf.sap.corp/ift/sl-core/pkg/slp/client/loop.go:173 +0x164   github.wdf.sap.corp/ift/slocon/pkg/task/slpclient.slpClientClass.Run()       /testDirectory/pkg/task/slpclient/slpclient.go:163 +0x970   github.wdf.sap.corp/ift/slocon/pkg/task/slpclient.(*slpClientClass).Run()       <autogenerated>:1 +0x95   github.wdf.sap.corp/ift/slocon/pkg/task.(*Task).start.func3()       /testDirectory/pkg/task/task.go:595 +0x1d4  Goroutine 537693 (finished) created at:   net/http.(*Transport).dialConn()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/net/http/transport.go:1777 +0x256a   net/http.(*Transport).dialConnFor()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/net/http/transport.go:1467 +0x129   net/http.(*Transport).queueForDial.func1()       /home/fwkadmin/.ift/import/content/go-1.21.1-bin-linuxx86_64/go/src/net/http/transport.go:1436 +0x44 ==================  ``` |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

This was referenced Nov 4, 2023

[Security: Don't put the same bytes.Buffer into sync.Pool twice
#745](/go-resty/resty/pull/745)
 Merged

[x/vulndb: potential Go vuln in github.com/go-resty/resty/v2: CVE-2023-45286
golang/vulndb#2328](/golang/vulndb/issues/2328)

Closed

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=40&v=4)](/jeevatkm)
[jeevatkm](/jeevatkm)
added
the
[bug](/go-resty/resty/labels/bug)
label
[Dec 27, 2023](#event-11342519715)

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=40&v=4)](/jeevatkm)
[jeevatkm](/jeevatkm)
added this to the [v2.11.0 Milestone](/go-resty/resty/milestone/38) milestone
[Dec 27, 2023](#event-11342519881)

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=80&v=4)](/jeevatkm)

Copy link

Member

### **[jeevatkm](/jeevatkm)** commented [Dec 27, 2023](#issuecomment-1869973115)

| [@1713266](https://github.com/1713266) I think, possibly, the data race is caused by the release buffer method; it has been fixed in [#745](https://github.com/go-resty/resty/pull/745); could you please check and let me know the outcome? |
| --- |

All reactions

Sorry, something went wrong.

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=40&v=4)](/jeevatkm)
[jeevatkm](/jeevatkm)
removed this from the [v2.11.0 Milestone](/go-resty/resty/milestone/38) milestone
[Dec 27, 2023](#event-11342528030)

[![@1713266](https://avatars.githubusercontent.com/u/33344203?s=80&v=4)](/1713266)

Copy link

Author

### **[1713266](/1713266)** commented [Jan 11, 2024](#issuecomment-1886783631)

| [@jeevatkm](https://github.com/jeevatkm) Since our upgrade to Resty 2.11.0, nothing like this has been observed again. I will close the issue. |
| --- |

All reactions

Sorry, something went wrong.

[![@1713266](https://avatars.githubusercontent.com/u/33344203?s=40&v=4)](/1713266)
[1713266](/1713266)
closed this as [completed](/go-resty/resty/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Jan 11, 2024](#event-11454422528)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fissues%2F739)

Assignees

No one assigned

Labels

[bug](/go-resty/resty/labels/bug)

Milestone

No milestone

Development

No branches or pull requests

2 participants

[![@jeevatkm](https://avatars.githubusercontent.com/u/1175977?s=52&v=4)](/jeevatkm) [![@1713266](https://avatars.githubusercontent.com/u/33344203?s=52&v=4)](/1713266)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_6f11e9f9_20250111_144253.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fcommit%2F577fed8730d79f583eb48dfc81674164e1fc471e)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fcommit%2F577fed8730d79f583eb48dfc81674164e1fc471e)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=go-resty%2Fresty)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[go-resty](/go-resty)
/
**[resty](/go-resty/resty)**
Public

* [Notifications](/login?return_to=%2Fgo-resty%2Fresty) You must be signed in to change notification settings
* [Fork
  719](/login?return_to=%2Fgo-resty%2Fresty)
* [Star
   10.4k](/login?return_to=%2Fgo-resty%2Fresty)

* [Code](/go-resty/resty)
* [Issues
  2](/go-resty/resty/issues)
* [Pull requests
  1](/go-resty/resty/pulls)
* [Discussions](/go-resty/resty/discussions)
* [Actions](/go-resty/resty/actions)
* [Security](/go-resty/resty/security)
* [Insights](/go-resty/resty/pulse)

Additional navigation options

* [Code](/go-resty/resty)
* [Issues](/go-resty/resty/issues)
* [Pull requests](/go-resty/resty/pulls)
* [Discussions](/go-resty/resty/discussions)
* [Actions](/go-resty/resty/actions)
* [Security](/go-resty/resty/security)
* [Insights](/go-resty/resty/pulse)

## Commit

[Permalink](/go-resty/resty/commit/577fed8730d79f583eb48dfc81674164e1fc471e)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Don't put the same bytes.Buffer into sync.Pool twice ([#745](https://github.com/go-resty/resty/pull/745))

[Browse files](/go-resty/resty/tree/577fed8730d79f583eb48dfc81674164e1fc471e)
Browse the repository at this point in the history

* Loading branch information

[![@lattwood](https://avatars.githubusercontent.com/u/6198952?s=40&v=4)](/lattwood)

[lattwood](/go-resty/resty/commits?author=lattwood "View all commits by lattwood")
authored
Dec 27, 2023

1 parent
[105f718](/go-resty/resty/commit/105f7185be505f070bfb19df4c3a4535058e0f84)

commit 577fed8

Showing
**1 changed file**
with
**0 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

1 change: 0 additions & 1 deletion

1
[middleware.go](#diff-02f50901140d6057da6310a106670552aa766a093efbc2200fb34c099b762131 "middleware.go")

Show comments

[View file](/go-resty/resty/blob/577fed8730d79f583eb48dfc81674164e1fc471e/middleware.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -481,7 +481,6 @@ func handleContentType(c \*Client, r \*Request) { |
|  |  |  |
|  |  | func handleRequestBody(c \*Client, r \*Request) error { |
|  |  | var bodyBytes []byte |
|  |  | releaseBuffer(r.bodyBuf) |
|  |  | r.bodyBuf = nil |
|  |  |  |
|  |  | switch body := r.Body.(type) { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `577fed8`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgo-resty%2Fresty%2Fcommit%2F577fed8730d79f583eb48dfc81674164e1fc471e) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.


