
[Log in / Register](https://bugs.launchpad.net/oslo.utils/%2Bbug/1949623/%2Blogin)

[![](/@@/product-logo)](https://launchpad.net/oslo.utils)

## [oslo.utils](https://launchpad.net/oslo.utils)

* [Overview](https://launchpad.net/oslo.utils)
* [Code](https://code.launchpad.net/oslo.utils)
* [Bugs](https://bugs.launchpad.net/oslo.utils)
* [Blueprints](https://blueprints.launchpad.net/oslo.utils)
* [Translations](https://translations.launchpad.net/oslo.utils)
* [Answers](https://answers.launchpad.net/oslo.utils)

# mask\_passwords doesn't mask characters following a quote or double quote

Bug #1949623 reported by
[Herve Beraud](https://launchpad.net/~herveberaud)
on 2021-11-03

[6](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [oslo.utils](https://bugs.launchpad.net/oslo.utils) | Fix Released | Undecided | [Herve Beraud](https://launchpad.net/~herveberaud) |  |

### Bug Description

Description of problem:

mask\_passwords doesn't mask characters following a " so if a user has a password containing a " in the middle such as pass"word , we would see \*\*\*"word in the debug output.

It looks like something's wrong with this:

\_FORMAT\_PATTERNS\_1 = [r'(%(key)s[0-9]\*\s\*[=]\s\*)[^\s^\'^\"]+']

\_FORMAT\_PATTERNS\_2 = [r'(%(key)s[0-9]\*\s\*[=]\s\*[\"\'])[^\"\']\*([\"\'])',

                      r'(%(key)s[0-9]\*\s+[\"\'])[^\"\']\*([\"\'])',

                      r'([-]{2}%(key)s[0-9]\*\s+)[^\'^\"^=^\s]+([\s]\*)',

                      r'(<%(key)s[0-9]\*>)[^<]\*(</%(key)s[0-9]\*>)',

                      r'([\"\']%(key)s[0-9]\*[\"\']\s\*:\s\*[\"\'])[^\"\']\*'

                      r'([\"\'])',

                      r'([\'"][^"\']\*%(key)s[0-9]\*[\'"]\s\*:\s\*u?[\'"])[^\"\']\*'

                      r'([\'"])',

                      r'([\'"][^\'"]\*%(key)s[0-9]\*[\'"]\s\*,\s\*\'--?[A-z]+'

                      r'\'\s\*,\s\*u?[\'"])[^\"\']\*([\'"])',

                      r'(%(key)s[0-9]\*\s\*--?[A-z]+\s\*)\S+(\s\*)']

Version-Release number of selected component (if applicable):

All

How reproducible:

Always

Steps to Reproduce:

1. Set a password containing a " somewhere in it

2. Use openstack --debug CLI

3.

Actual results:

Password are not fully hidden

Expected results:

No password should leak in debug output

Additional informations:

We can also reproduce it by adding a dedicated unit tests:

```

        payload = 'test = "original\_password" : "aaaaa"aaaa"'

        expected = 'test = "original\_password" : "\*\*\*"'

        self.assertEqual(expected, strutils.mask\_password(payload))

```

It will provide the following outcome:

```oslo\_utils.tests.test\_strutils.MaskPasswordTestCase.test\_mask\_password

----------------------------------------------------------------------

Captured traceback:

~~~~~~~~~~~~~~~~~~~

    Traceback (most recent call last):

File "/home/hberaud/dev/oslo/oslo.utils/oslo\_utils/tests/test\_strutils.py", line 612, in test\_mask\_password

    self.assertEqual(expected, strutils.mask\_password(payload))

File "/home/hberaud/dev/oslo.utils/.tox/py38/lib/python3.8/site-packages/testtools/testcase.py", line 393, in assertEqual

    self.assertThat(observed, matcher, message)

File "/home/hberaud/dev/oslo.utils/.tox/py38/lib/python3.8/site-packages/testtools/testcase.py", line 480, in assertThat

    raise mismatch\_error

testtools.matchers.\_impl.MismatchError: !=:

reference = 'test = "original\_password" : "\*\*\*"'

actual = 'test = "original\_password" : "\*\*\*"aaaa"'

```

I'll debug the regex to see how we can fix that.

Tags:

[in-stable-train](/oslo.utils/%2Bbugs?field.tag=in-stable-train)
[in-stable-ussuri](/oslo.utils/%2Bbugs?field.tag=in-stable-ussuri)
[in-stable-victoria](/oslo.utils/%2Bbugs?field.tag=in-stable-victoria)
[in-stable-wallaby](/oslo.utils/%2Bbugs?field.tag=in-stable-wallaby)
[in-stable-xena](/oslo.utils/%2Bbugs?field.tag=in-stable-xena)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-11-03:  [**Fix proposed to oslo.utils (master)**](/oslo.utils/%2Bbug/1949623/comments/1) |  |  | [#1](/oslo.utils/%2Bbug/1949623/comments/1) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: [https://review.opendev.org/c/openstack/oslo.utils/+/816544](https://review.opendev.org/c/openstack/oslo.utils/%2B/816544)

Fix proposed to branch: master
Review: https://review.opendev.org/c/openstack/oslo.utils/+/816544

| Changed in oslo.utils: | |
| --- | --- |
| **status**: | New → In Progress |

[Herve Beraud (herveberaud)](https://launchpad.net/~herveberaud)
on 2021-11-04

| Changed in oslo.utils: | |
| --- | --- |
| **assignee**: | nobody → Herve Beraud (herveberaud) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-12:  [**Fix merged to oslo.utils (master)**](/oslo.utils/%2Bbug/1949623/comments/2) |  |  | [#2](/oslo.utils/%2Bbug/1949623/comments/2) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/oslo.utils/+/816544](https://review.opendev.org/c/openstack/oslo.utils/%2B/816544)

Committed: <https://opendev.org/openstack/oslo.utils/commit/6e17ae1f7959c64dfd20a5f67edf422e702426aa>

Submitter: "Zuul (22348)"

Branch: master

commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa

Author: Hervé Beraud <email address hidden>

Date: Wed Nov 3 17:16:50 2021 +0100

Fix regex used to mask password

Some use cases are poorly handled by the regex used

    to mask password. Indeed when the password contains

    quotes or double quotes in the middle such as `pass"word`,

    the mask\_password method will return `\*\*\*"word`.

For more details please see

    [https://bugs.launchpad.net/oslo.utils/+bug/1949623](https://bugs.launchpad.net/oslo.utils/%2Bbug/1949623)

Closes-Bug: #1949623

    Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2

Reviewed: https://review.opendev.org/c/openstack/oslo.utils/+/816544
Committed: https://opendev.org/openstack/oslo.utils/commit/6e17ae1f7959c64dfd20a5f67edf422e702426aa
Submitter: "Zuul (22348)"
Branch: master
commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa
Author: Hervé Beraud <hberaud@redhat.com>
Date: Wed Nov 3 17:16:50 2021 +0100
Fix regex used to mask password
Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass"word`,
the mask\_password method will return `\*\*\*"word`.
For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623
Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2

| Changed in oslo.utils: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-13:  [**Fix proposed to oslo.utils (stable/xena)**](/oslo.utils/%2Bbug/1949623/comments/3) |  |  | [#3](/oslo.utils/%2Bbug/1949623/comments/3) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/xena

Review: [https://review.opendev.org/c/openstack/oslo.utils/+/824510](https://review.opendev.org/c/openstack/oslo.utils/%2B/824510)

Fix proposed to branch: stable/xena
Review: https://review.opendev.org/c/openstack/oslo.utils/+/824510

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-14:  [**Fix merged to oslo.utils (stable/xena)**](/oslo.utils/%2Bbug/1949623/comments/4) |  |  | [#4](/oslo.utils/%2Bbug/1949623/comments/4) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/oslo.utils/+/824510](https://review.opendev.org/c/openstack/oslo.utils/%2B/824510)

Committed: <https://opendev.org/openstack/oslo.utils/commit/5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba>

Submitter: "Zuul (22348)"

Branch: stable/xena

commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba

Author: Hervé Beraud <email address hidden>

Date: Wed Nov 3 17:16:50 2021 +0100

Fix regex used to mask password

Some use cases are poorly handled by the regex used

    to mask password. Indeed when the password contains

    quotes or double quotes in the middle such as `pass"word`,

    the mask\_password method will return `\*\*\*"word`.

For more details please see

    [https://bugs.launchpad.net/oslo.utils/+bug/1949623](https://bugs.launchpad.net/oslo.utils/%2Bbug/1949623)

Closes-Bug: #1949623

    Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2

    (cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)

Reviewed: https://review.opendev.org/c/openstack/oslo.utils/+/824510
Committed: https://opendev.org/openstack/oslo.utils/commit/5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba
Submitter: "Zuul (22348)"
Branch: stable/xena
commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba
Author: Hervé Beraud <hberaud@redhat.com>
Date: Wed Nov 3 17:16:50 2021 +0100
Fix regex used to mask password
Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass"word`,
the mask\_password method will return `\*\*\*"word`.
For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623
Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)

| **tags**: | added: in-stable-xena |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-14:  [**Fix proposed to oslo.utils (stable/wallaby)**](/oslo.utils/%2Bbug/1949623/comments/5) |  |  | [#5](/oslo.utils/%2Bbug/1949623/comments/5) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/wallaby

Review: [https://review.opendev.org/c/openstack/oslo.utils/+/824703](https://review.opendev.org/c/openstack/oslo.utils/%2B/824703)

Fix proposed to branch: stable/wallaby
Review: https://review.opendev.org/c/openstack/oslo.utils/+/824703

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-14:  [**Fix merged to oslo.utils (stable/wallaby)**](/oslo.utils/%2Bbug/1949623/comments/6) |  |  | [#6](/oslo.utils/%2Bbug/1949623/comments/6) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/oslo.utils/+/824703](https://review.opendev.org/c/openstack/oslo.utils/%2B/824703)

Committed: <https://opendev.org/openstack/oslo.utils/commit/143d3fbfa1e04778884de5acc08fa6f7fdabb265>

Submitter: "Zuul (22348)"

Branch: stable/wallaby

commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265

Author: Hervé Beraud <email address hidden>

Date: Wed Nov 3 17:16:50 2021 +0100

Fix regex used to mask password

Some use cases are poorly handled by the regex used

    to mask password. Indeed when the password contains

    quotes or double quotes in the middle such as `pass"word`,

    the mask\_password method will return `\*\*\*"word`.

For more details please see

    [https://bugs.launchpad.net/oslo.utils/+bug/1949623](https://bugs.launchpad.net/oslo.utils/%2Bbug/1949623)

Closes-Bug: #1949623

    Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2

    (cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)

    (cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)

Reviewed: https://review.opendev.org/c/openstack/oslo.utils/+/824703
Committed: https://opendev.org/openstack/oslo.utils/commit/143d3fbfa1e04778884de5acc08fa6f7fdabb265
Submitter: "Zuul (22348)"
Branch: stable/wallaby
commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265
Author: Hervé Beraud <hberaud@redhat.com>
Date: Wed Nov 3 17:16:50 2021 +0100
Fix regex used to mask password
Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass"word`,
the mask\_password method will return `\*\*\*"word`.
For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623
Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)
(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)

| **tags**: | added: in-stable-wallaby |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-17:  [**Fix proposed to oslo.utils (stable/victoria)**](/oslo.utils/%2Bbug/1949623/comments/7) |  |  | [#7](/oslo.utils/%2Bbug/1949623/comments/7) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/victoria

Review: [https://review.opendev.org/c/openstack/oslo.utils/+/824912](https://review.opendev.org/c/openstack/oslo.utils/%2B/824912)

Fix proposed to branch: stable/victoria
Review: https://review.opendev.org/c/openstack/oslo.utils/+/824912

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-18:  [**Fix included in openstack/oslo.utils 4.10.1**](/oslo.utils/%2Bbug/1949623/comments/8) |  |  | [#8](/oslo.utils/%2Bbug/1949623/comments/8) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/oslo.utils 4.10.1 release.

This issue was fixed in the openstack/oslo.utils 4.10.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-20:  [**Fix included in openstack/oslo.utils 4.12.1**](/oslo.utils/%2Bbug/1949623/comments/9) |  |  | [#9](/oslo.utils/%2Bbug/1949623/comments/9) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/oslo.utils 4.12.1 release.

This issue was fixed in the openstack/oslo.utils 4.12.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-27:  [**Fix merged to oslo.utils (stable/victoria)**](/oslo.utils/%2Bbug/1949623/comments/10) |  |  | [#10](/oslo.utils/%2Bbug/1949623/comments/10) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/oslo.utils/+/824912](https://review.opendev.org/c/openstack/oslo.utils/%2B/824912)

Committed: <https://opendev.org/openstack/oslo.utils/commit/65aa4226d4bf286468da6df6759e364c1eb3e049>

Submitter: "Zuul (22348)"

Branch: stable/victoria

commit 65aa4226d4bf286468da6df6759e364c1eb3e049

Author: Hervé Beraud <email address hidden>

Date: Wed Nov 3 17:16:50 2021 +0100

Fix regex used to mask password

Some use cases are poorly handled by the regex used

    to mask password. Indeed when the password contains

    quotes or double quotes in the middle such as `pass"word`,

    the mask\_password method will return `\*\*\*"word`.

For more details please see

    [https://bugs.launchpad.net/oslo.utils/+bug/1949623](https://bugs.launchpad.net/oslo.utils/%2Bbug/1949623)

Closes-Bug: #1949623

    Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2

    (cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)

    (cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)

    (cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)

Reviewed: https://review.opendev.org/c/openstack/oslo.utils/+/824912
Committed: https://opendev.org/openstack/oslo.utils/commit/65aa4226d4bf286468da6df6759e364c1eb3e049
Submitter: "Zuul (22348)"
Branch: stable/victoria
commit 65aa4226d4bf286468da6df6759e364c1eb3e049
Author: Hervé Beraud <hberaud@redhat.com>
Date: Wed Nov 3 17:16:50 2021 +0100
Fix regex used to mask password
Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass"word`,
the mask\_password method will return `\*\*\*"word`.
For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623
Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)
(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)
(cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)

| **tags**: | added: in-stable-victoria |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-31:  [**Fix proposed to oslo.utils (stable/ussuri)**](/oslo.utils/%2Bbug/1949623/comments/11) |  |  | [#11](/oslo.utils/%2Bbug/1949623/comments/11) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/ussuri

Review: [https://review.opendev.org/c/openstack/oslo.utils/+/827041](https://review.opendev.org/c/openstack/oslo.utils/%2B/827041)

Fix proposed to branch: stable/ussuri
Review: https://review.opendev.org/c/openstack/oslo.utils/+/827041

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-02-03:  [**Fix merged to oslo.utils (stable/ussuri)**](/oslo.utils/%2Bbug/1949623/comments/12) |  |  | [#12](/oslo.utils/%2Bbug/1949623/comments/12) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/oslo.utils/+/827041](https://review.opendev.org/c/openstack/oslo.utils/%2B/827041)

Committed: <https://opendev.org/openstack/oslo.utils/commit/5e9dfa3408a6fac7e870a9b86ee774b5fd71a595>

Submitter: "Zuul (22348)"

Branch: stable/ussuri

commit 5e9dfa3408a6fac7e870a9b86ee774b5fd71a595

Author: Hervé Beraud <email address hidden>

Date: Wed Nov 3 17:16:50 2021 +0100

Fix regex used to mask password

Some use cases are poorly handled by the regex used

    to mask password. Indeed when the password contains

    quotes or double quotes in the middle such as `pass"word`,

    the mask\_password method will return `\*\*\*"word`.

For more details please see

    [https://bugs.launchpad.net/oslo.utils/+bug/1949623](https://bugs.launchpad.net/oslo.utils/%2Bbug/1949623)

Closes-Bug: #1949623

    Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2

    (cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)

    (cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)

    (cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)

    (cherry picked from commit 65aa4226d4bf286468da6df6759e364c1eb3e049)

Reviewed: https://review.opendev.org/c/openstack/oslo.utils/+/827041
Committed: https://opendev.org/openstack/oslo.utils/commit/5e9dfa3408a6fac7e870a9b86ee774b5fd71a595
Submitter: "Zuul (22348)"
Branch: stable/ussuri
commit 5e9dfa3408a6fac7e870a9b86ee774b5fd71a595
Author: Hervé Beraud <hberaud@redhat.com>
Date: Wed Nov 3 17:16:50 2021 +0100
Fix regex used to mask password
Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass"word`,
the mask\_password method will return `\*\*\*"word`.
For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623
Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)
(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)
(cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)
(cherry picked from commit 65aa4226d4bf286468da6df6759e364c1eb3e049)

| **tags**: | added: in-stable-ussuri |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-02-04:  [**Fix proposed to oslo.utils (stable/train)**](/oslo.utils/%2Bbug/1949623/comments/13) |  |  | [#13](/oslo.utils/%2Bbug/1949623/comments/13) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/train

Review: [https://review.opendev.org/c/openstack/oslo.utils/+/827830](https://review.opendev.org/c/openstack/oslo.utils/%2B/827830)

Fix proposed to branch: stable/train
Review: https://review.opendev.org/c/openstack/oslo.utils/+/827830

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-02-07:  [**Fix included in openstack/oslo.utils 4.6.1**](/oslo.utils/%2Bbug/1949623/comments/14) |  |  | [#14](/oslo.utils/%2Bbug/1949623/comments/14) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/oslo.utils 4.6.1 release.

This issue was fixed in the openstack/oslo.utils 4.6.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-02-07:  [**Fix merged to oslo.utils (stable/train)**](/oslo.utils/%2Bbug/1949623/comments/15) |  |  | [#15](/oslo.utils/%2Bbug/1949623/comments/15) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/oslo.utils/+/827830](https://review.opendev.org/c/openstack/oslo.utils/%2B/827830)

Committed: <https://opendev.org/openstack/oslo.utils/commit/473f300b07641d79d5253208a4058e773857bec5>

Submitter: "Zuul (22348)"

Branch: stable/train

commit 473f300b07641d79d5253208a4058e773857bec5

Author: Hervé Beraud <email address hidden>

Date: Wed Nov 3 17:16:50 2021 +0100

Fix regex used to mask password

Some use cases are poorly handled by the regex used

    to mask password. Indeed when the password contains

    quotes or double quotes in the middle such as `pass"word`,

    the mask\_password method will return `\*\*\*"word`.

For more details please see

    [https://bugs.launchpad.net/oslo.utils/+bug/1949623](https://bugs.launchpad.net/oslo.utils/%2Bbug/1949623)

Closes-Bug: #1949623

    Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2

    (cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)

    (cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)

    (cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)

    (cherry picked from commit 65aa4226d4bf286468da6df6759e364c1eb3e049)

    (cherry picked from commit 5e9dfa3408a6fac7e870a9b86ee774b5fd71a595)

Reviewed: https://review.opendev.org/c/openstack/oslo.utils/+/827830
Committed: https://opendev.org/openstack/oslo.utils/commit/473f300b07641d79d5253208a4058e773857bec5
Submitter: "Zuul (22348)"
Branch: stable/train
commit 473f300b07641d79d5253208a4058e773857bec5
Author: Hervé Beraud <hberaud@redhat.com>
Date: Wed Nov 3 17:16:50 2021 +0100
Fix regex used to mask password
Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass"word`,
the mask\_password method will return `\*\*\*"word`.
For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623
Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)
(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)
(cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)
(cherry picked from commit 65aa4226d4bf286468da6df6759e364c1eb3e049)
(cherry picked from commit 5e9dfa3408a6fac7e870a9b86ee774b5fd71a595)

| **tags**: | added: in-stable-train |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-02-21:  [**Fix included in openstack/oslo.utils 4.8.1**](/oslo.utils/%2Bbug/1949623/comments/16) |  |  | [#16](/oslo.utils/%2Bbug/1949623/comments/16) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/oslo.utils 4.8.1 release.

This issue was fixed in the openstack/oslo.utils 4.8.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-04-13:  [**Fix proposed to oslo.utils (stable/queens)**](/oslo.utils/%2Bbug/1949623/comments/17) |  |  | [#17](/oslo.utils/%2Bbug/1949623/comments/17) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/queens

Review: [https://review.opendev.org/c/openstack/oslo.utils/+/837676](https://review.opendev.org/c/openstack/oslo.utils/%2B/837676)

Fix proposed to branch: stable/queens
Review: https://review.opendev.org/c/openstack/oslo.utils/+/837676

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-04-13:  [**Change abandoned on oslo.utils (stable/queens)**](/oslo.utils/%2Bbug/1949623/comments/18) |  |  | [#18](/oslo.utils/%2Bbug/1949623/comments/18) |
| --- | --- | --- | --- |

Change abandoned by "Roman Lubianyi <email address hidden>" on branch: stable/queens

Review: [https://review.opendev.org/c/openstack/oslo.utils/+/837676](https://review.opendev.org/c/openstack/oslo.utils/%2B/837676)

Change abandoned by "Roman Lubianyi <rlubianyi@mirantis.com>" on branch: stable/queens
Review: https://review.opendev.org/c/openstack/oslo.utils/+/837676

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-05-11:  [**Fix proposed to oslo.utils (stable/stein)**](/oslo.utils/%2Bbug/1949623/comments/19) |  |  | [#19](/oslo.utils/%2Bbug/1949623/comments/19) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/stein

Review: [https://review.opendev.org/c/openstack/oslo.utils/+/841408](https://review.opendev.org/c/openstack/oslo.utils/%2B/841408)

Fix proposed to branch: stable/stein
Review: https://review.opendev.org/c/openstack/oslo.utils/+/841408

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2023-02-17:  [**Change abandoned on oslo.utils (stable/stein)**](/oslo.utils/%2Bbug/1949623/comments/20) |  |  | [#20](/oslo.utils/%2Bbug/1949623/comments/20) |
| --- | --- | --- | --- |

Change abandoned by "Stephen Finucane <email address hidden>" on branch: stable/stein

Review: [https://review.opendev.org/c/openstack/oslo.utils/+/841408](https://review.opendev.org/c/openstack/oslo.utils/%2B/841408)

Reason: The CI is badly broken at this point and tbh this branch is likely to be moved to EOL soon enough. Time to close this, I think

Change abandoned by "Stephen Finucane <stephenfin@redhat.com>" on branch: stable/stein
Review: https://review.opendev.org/c/openstack/oslo.utils/+/841408
Reason: The CI is badly broken at this point and tbh this branch is likely to be moved to EOL soon enough. Time to close this, I think

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2023-12-21:  [**Fix included in openstack/oslo.utils train-eol**](/oslo.utils/%2Bbug/1949623/comments/21) |  |  | [#21](/oslo.utils/%2Bbug/1949623/comments/21) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/oslo.utils train-eol release.

This issue was fixed in the openstack/oslo.utils train-eol release.

[See full activity log](https://bugs.launchpad.net/oslo.utils/%2Bbug/1949623/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/oslo.utils/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/oslo.utils/%2Bbug/1949623/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/oslo.utils/%2Bbug/1949623/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/oslo.utils/%2Bbug/1949623/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))

