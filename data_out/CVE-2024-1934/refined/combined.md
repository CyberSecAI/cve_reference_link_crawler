=== Content from plugins.trac.wordpress.org_7c0d3084_20250111_101214.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwp-compress-image-optimizer%2Ftags%2F6.10.35%2Faddons%2Flegacy%2Fcompress.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/wp-compress-image-optimizer/tags/6.10.35/addons/legacy/compress.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/wp-compress-image-optimizer/tags/6.10.35/addons/legacy/compress.php)

---

# [source:](/browser?order=name "Go to repository root") [wp-compress-image-optimizer](/browser/wp-compress-image-optimizer?order=name "View wp-compress-image-optimizer")/[tags](/browser/wp-compress-image-optimizer/tags?order=name "View tags")/[6.10.35](/browser/wp-compress-image-optimizer/tags/6.10.35?order=name "View 6.10.35")/[addons](/browser/wp-compress-image-optimizer/tags/6.10.35/addons?order=name "View addons")/[legacy](/browser/wp-compress-image-optimizer/tags/6.10.35/addons/legacy?order=name "View legacy")/[compress.php](/browser/wp-compress-image-optimizer/tags/6.10.35/addons/legacy/compress.php?order=name "View compress.php")

View diff against:

View revision:

| [Last change](/changeset/3035261/wp-compress-image-optimizer/tags/6.10.35/addons/legacy/compress.php "View differences") on this file was [3035261](/changeset/3035261/ "View changeset 3035261"), checked in by smartersite, [11 months ago](/timeline?from=2024-02-13T20%3A15%3A28Z&precision=second "See timeline at 02/13/2024 08:15:28 PM") |
| --- |
| 6.11.01  * Security Patch * Added Smart Optimization for Posts & Products * Improved Critical CSS * Improved Inline CSS * New Delay JS * Added Field for Skipping Lazy Images * Fixed Page Preload * Fixed Combine CSS * Fixed Fonts Delay * Added Lazy Loading for Google Tag Manager * Improved LCP Optimization |
| **File size:** 46.5 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Local Compress |
| [4](#L4) | \* @since 5.00.59 |
| [5](#L5) | \*/ |
| [6](#L6) |  |
| [7](#L7) |  |
| [8](#L8) | class wps\_local\_compress |
| [9](#L9) | { |
| [10](#L10) |  |
| [11](#L11) | private static $allowed\_types; |
| [12](#L12) | private static $apiURL; |
| [13](#L13) | private static $siteUrl; |
| [14](#L14) | private static $apiParams; |
| [15](#L15) | private static $settings; |
| [16](#L16) | private static $options; |
| [17](#L17) | private static $zone\_name; |
| [18](#L18) | private static $backup\_directory; |
| [19](#L19) | public $webp\_sizes; |
| [20](#L20) | public $sizes; |
| [21](#L21) | public $total\_sizes; |
| [22](#L22) | public $compressed\_list; |
| [23](#L23) |  |
| [24](#L24) | public $enabledLog; |
| [25](#L25) | public $logFile; |
| [26](#L26) |  |
| [27](#L27) |  |
| [28](#L28) | public function \_\_construct() |
| [29](#L29) | { |
| [30](#L30) | global $wps\_ic; |
| [31](#L31) | global $wpc\_filesystem; |
| [32](#L32) |  |
| [33](#L33) | $this->enabledLog = 'true'; |
| [34](#L34) |  |
| [35](#L35) | $this->logFilePath = WPS\_IC\_DIR . 'compress-log.txt'; |
| [36](#L36) | $this->logFile = fopen($this->logFilePath, 'a'); |
| [37](#L37) |  |
| [38](#L38) | $this->get\_filesystem(); |
| [39](#L39) |  |
| [40](#L40) | $this->total\_sizes = count(get\_intermediate\_image\_sizes()); |
| [41](#L41) | $this->sizes = $this->getAllThumbSizes(); |
| [42](#L42) | $this->webp\_sizes = get\_intermediate\_image\_sizes(); |
| [43](#L43) | $uploads\_dir = wp\_upload\_dir(); |
| [44](#L44) |  |
| [45](#L45) | self::$allowed\_types = array('jpg' => 'jpg', 'jpeg' => 'jpeg', 'gif' => 'gif', 'png' => 'png'); |
| [46](#L46) | self::$backup\_directory = $uploads\_dir['basedir'] . '/wp-compress-backups'; |
| [47](#L47) | self::$settings = get\_option(WPS\_IC\_SETTINGS); |
| [48](#L48) | self::$options = get\_option(WPS\_IC\_OPTIONS); |
| [49](#L49) | self::$siteUrl = site\_url(); |
| [50](#L50) |  |
| [51](#L51) | /\*\* |
| [52](#L52) | \* If backup directories don't exist, create them |
| [53](#L53) | \*/ |
| [54](#L54) | if (!file\_exists(self::$backup\_directory)) { |
| [55](#L55) | $made\_dir = mkdir(self::$backup\_directory, 0755); |
| [56](#L56) | if (!$made\_dir) { |
| [57](#L57) | update\_option('wpc\_errors', array('unable-to-create-backup-dir' => self::$backup\_directory)); |
| [58](#L58) | } else { |
| [59](#L59) | delete\_option('wpc\_errors'); |
| [60](#L60) | } |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | add\_action('delete\_attachment', array($this, 'on\_delete')); |
| [64](#L64) |  |
| [65](#L65) | if (!empty(self::$settings['on-upload']) && self::$settings['on-upload'] == '1' && empty($\_GET['restoreImage'])) { |
| [66](#L66) | /\* |
| [67](#L67) | \* This works but uploads a full sized image to storage for every size variation |
| [68](#L68) | \*/ |
| [69](#L69) |  |
| [70](#L70) | add\_filter('wp\_generate\_attachment\_metadata', array($this, 'on\_upload'), PHP\_INT\_MAX, 2); |
| [71](#L71) | // TODO: Causing problems with showing 0% saved, while actually compressed |
| [72](#L72) | } |
| [73](#L73) |  |
| [74](#L74) | if (empty(self::$settings['cname']) || !self::$settings['cname']) { |
| [75](#L75) | self::$zone\_name = get\_option('ic\_cdn\_zone\_name'); |
| [76](#L76) | } else { |
| [77](#L77) | self::$zone\_name = get\_option('ic\_custom\_cname'); |
| [78](#L78) | } |
| [79](#L79) |  |
| [80](#L80) | $location = get\_option('wps\_ic\_geo\_locate'); |
| [81](#L81) | if (empty($location)) { |
| [82](#L82) | $location = $this->geoLocate(); |
| [83](#L83) | } |
| [84](#L84) |  |
| [85](#L85) | if (is\_object($location)) { |
| [86](#L86) | $location = (array)$location; |
| [87](#L87) | } |
| [88](#L88) |  |
| [89](#L89) | $options = get\_option(WPS\_IC\_OPTIONS); |
| [90](#L90) | $apikey = $options['api\_key']; |
| [91](#L91) | $apiVersion = 'v4'; |
| [92](#L92) |  |
| [93](#L93) | if (!empty($\_GET['force\_region'])) { |
| [94](#L94) | $location = get\_option('wps\_ic\_geo\_locate'); |
| [95](#L95) | $location->continent = $\_GET['force\_region']; |
| [96](#L96) | $location->custom\_server = $\_GET['custom\_server']; |
| [97](#L97) | $location = (array)$location; |
| [98](#L98) | update\_option('wps\_ic\_geo\_locate', $location); |
| [99](#L99) | } |
| [100](#L100) |  |
| [101](#L101) | if (!empty($\_GET['reset\_region'])) { |
| [102](#L102) | $call = wp\_remote\_get('https://cdn.zapwp.net/?action=geo\_locate&domain=' . urlencode(site\_url()), ['timeout' => 30, 'sslverify' => false, 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0']); |
| [103](#L103) |  |
| [104](#L104) | if (wp\_remote\_retrieve\_response\_code($call) == 200) { |
| [105](#L105) | $body = wp\_remote\_retrieve\_body($call); |
| [106](#L106) | $body = json\_decode($body); |
| [107](#L107) |  |
| [108](#L108) | if ($body->success) { |
| [109](#L109) | update\_option('wps\_ic\_geo\_locate', $body->data); |
| [110](#L110) | } else { |
| [111](#L111) | update\_option('wps\_ic\_geo\_locate', ['country' => 'EU', 'server' => 'frankfurt.zapwp.net']); |
| [112](#L112) | } |
| [113](#L113) | } else { |
| [114](#L114) | update\_option('wps\_ic\_geo\_locate', ['country' => 'EU', 'server' => 'frankfurt.zapwp.net']); |
| [115](#L115) | } |
| [116](#L116) | } |
| [117](#L117) |  |
| [118](#L118) | if (isset($location) && !empty($location)) { |
| [119](#L119) | if (is\_array($location) && !empty($location['server'])) { |
| [120](#L120) |  |
| [121](#L121) | if (empty($location['continent'])) { |
| [122](#L122) | $location['continent'] = ''; |
| [123](#L123) | } |
| [124](#L124) |  |
| [125](#L125) | if ($location['continent'] == 'CUSTOM') { |
| [126](#L126) | self::$apiURL = 'https://' . $location['custom\_server'] . '.zapwp.net/local/' . $apiVersion . '/'; |
| [127](#L127) | } elseif ($location['continent'] == 'AS' || $location['continent'] == 'IN') { |
| [128](#L128) | self::$apiURL = 'https://singapore.zapwp.net/local/' . $apiVersion . '/'; |
| [129](#L129) | } elseif ($location['continent'] == 'EU') { |
| [130](#L130) | self::$apiURL = 'https://germany.zapwp.net/local/' . $apiVersion . '/'; |
| [131](#L131) | } elseif ($location['continent'] == 'OC') { |
| [132](#L132) | self::$apiURL = 'https://sydney.zapwp.net/local/' . $apiVersion . '/'; |
| [133](#L133) | } elseif ($location['continent'] == 'US' || $location['continent'] == 'NA' || $location['continent'] == 'SA') { |
| [134](#L134) | self::$apiURL = 'https://nyc.zapwp.net/local/' . $apiVersion . '/'; |
| [135](#L135) | } else { |
| [136](#L136) | self::$apiURL = 'https://germany.zapwp.net/local/' . $apiVersion . '/'; |
| [137](#L137) | } |
| [138](#L138) | } else { |
| [139](#L139) | self::$apiURL = 'https://' . $location->server . '/local/' . $apiVersion . '/'; |
| [140](#L140) | } |
| [141](#L141) | } else { |
| [142](#L142) | self::$apiURL = 'https://germany.zapwp.net/local/' . $apiVersion . '/'; |
| [143](#L143) | } |
| [144](#L144) |  |
| [145](#L145) | $local\_server = get\_option('wps\_ic\_force\_local\_server'); |
| [146](#L146) | if ($local\_server !== false && $local\_server !== 'auto'){ |
| [147](#L147) | self::$apiURL = 'https://' . $local\_server . '/local/' . $apiVersion . '/'; |
| [148](#L148) | } |
| [149](#L149) |  |
| [150](#L150) | // Setup paraams for POST to API |
| [151](#L151) | self::$apiParams = array(); |
| [152](#L152) | self::$apiParams['apikey'] = $apikey; |
| [153](#L153) | self::$apiParams['quality'] = self::$settings['optimization']; |
| [154](#L154) | self::$apiParams['retina'] = 'false'; |
| [155](#L155) | self::$apiParams['webp'] = 'false'; |
| [156](#L156) | self::$apiParams['width'] = 'false'; |
| [157](#L157) | self::$apiParams['url'] = ''; |
| [158](#L158) | } |
| [159](#L159) |  |
| [160](#L160) | public function get\_filesystem() |
| [161](#L161) | { |
| [162](#L162) | require\_once(ABSPATH . 'wp-admin/includes/class-wp-filesystem-base.php'); |
| [163](#L163) | require\_once(ABSPATH . 'wp-admin/includes/class-wp-filesystem-direct.php'); |
| [164](#L164) | global $wpc\_filesystem; |
| [165](#L165) |  |
| [166](#L166) | if (!defined('FS\_CHMOD\_DIR')) { |
| [167](#L167) | define('FS\_CHMOD\_DIR', (fileperms(ABSPATH) & 0777 | 0755)); |
| [168](#L168) | } |
| [169](#L169) |  |
| [170](#L170) | if (!defined('FS\_CHMOD\_FILE')) { |
| [171](#L171) | define('FS\_CHMOD\_FILE', (fileperms(ABSPATH . 'index.php') & 0777 | 0644)); |
| [172](#L172) | } |
| [173](#L173) |  |
| [174](#L174) | if (!isset($wpc\_filesystem) || !is\_object($wpc\_filesystem)) { |
| [175](#L175) | $wpc\_filesystem = new WP\_Filesystem\_Direct(''); |
| [176](#L176) | } |
| [177](#L177) | } |
| [178](#L178) |  |
| [179](#L179) | public function getAllThumbSizes() |
| [180](#L180) | { |
| [181](#L181) | global $\_wp\_additional\_image\_sizes; |
| [182](#L182) |  |
| [183](#L183) | $default\_image\_sizes = get\_intermediate\_image\_sizes(); |
| [184](#L184) |  |
| [185](#L185) | foreach ($default\_image\_sizes as $size) { |
| [186](#L186) | $image\_sizes[$size]['width'] = intval(get\_option("{$size}\_size\_w")); |
| [187](#L187) | $image\_sizes[$size]['height'] = intval(get\_option("{$size}\_size\_h")); |
| [188](#L188) | $image\_sizes[$size]['crop'] = get\_option("{$size}\_crop") ? get\_option("{$size}\_crop") : false; |
| [189](#L189) | } |
| [190](#L190) |  |
| [191](#L191) | if (isset($\_wp\_additional\_image\_sizes) && count($\_wp\_additional\_image\_sizes)) { |
| [192](#L192) | $image\_sizes = array\_merge($image\_sizes, $\_wp\_additional\_image\_sizes); |
| [193](#L193) | } |
| [194](#L194) |  |
| [195](#L195) | $AdditionalSizes = array('full'); |
| [196](#L196) | foreach ($AdditionalSizes as $size) { |
| [197](#L197) | $image\_sizes[$size]['width'] = 'full'; |
| [198](#L198) | } |
| [199](#L199) |  |
| [200](#L200) | $image\_sizes['original']['width'] = 'original'; |
| [201](#L201) |  |
| [202](#L202) | return $image\_sizes; |
| [203](#L203) | } |
| [204](#L204) |  |
| [205](#L205) | public function geoLocate() |
| [206](#L206) | { |
| [207](#L207) | $force\_location = get\_option('wpc-ic-force-location'); |
| [208](#L208) | if (!empty($force\_location)) { |
| [209](#L209) | return $force\_location; |
| [210](#L210) | } |
| [211](#L211) |  |
| [212](#L212) | $call = wp\_remote\_get('https://cdn.zapwp.net/?action=geo\_locate&domain=' . urlencode(site\_url()), array('timeout' => 30, 'sslverify' => false, 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0')); |
| [213](#L213) | if (wp\_remote\_retrieve\_response\_code($call) == 200) { |
| [214](#L214) | $body = wp\_remote\_retrieve\_body($call); |
| [215](#L215) | $body = json\_decode($body); |
| [216](#L216) |  |
| [217](#L217) | if ($body->success) { |
| [218](#L218) | update\_option('wps\_ic\_geo\_locate', $body->data); |
| [219](#L219) |  |
| [220](#L220) | return $body->data; |
| [221](#L221) | } else { |
| [222](#L222) | update\_option('wps\_ic\_geo\_locate', array('country' => 'EU', 'server' => 'frankfurt.zapwp.net')); |
| [223](#L223) |  |
| [224](#L224) | return array('country' => 'EU', 'server' => 'frankfurt.zapwp.net'); |
| [225](#L225) | } |
| [226](#L226) | } else { |
| [227](#L227) | update\_option('wps\_ic\_geo\_locate', array('country' => 'EU', 'server' => 'frankfurt.zapwp.net')); |
| [228](#L228) |  |
| [229](#L229) | return array('country' => 'EU', 'server' => 'frankfurt.zapwp.net'); |
| [230](#L230) | } |
| [231](#L231) | } |
| [232](#L232) |  |
| [233](#L233) | public function on\_delete($post\_id) |
| [234](#L234) | { |
| [235](#L235) | // Delete webP if exists |
| [236](#L236) | $imagesCompressed = get\_post\_meta($post\_id, 'wpc\_images\_compressed', true); |
| [237](#L237) | if (!empty($imagesCompressed) && is\_array($imagesCompressed)) { |
| [238](#L238) | foreach ($imagesCompressed as $image => $data) { |
| [239](#L239) | if (file\_exists($data['webp\_path'])) { |
| [240](#L240) | unlink($data['webp\_path']); |
| [241](#L241) | } |
| [242](#L242) | } |
| [243](#L243) | } |
| [244](#L244) | } |
| [245](#L245) |  |
| [246](#L246) | public function on\_upload\_gutenber($meta, $id) |
| [247](#L247) | { |
| [248](#L248) | global $wpc\_filesystem; |
| [249](#L249) |  |
| [250](#L250) | if (!$this->is\_supported($id)) { |
| [251](#L251) | return $meta; |
| [252](#L252) | } |
| [253](#L253) |  |
| [254](#L254) | $attachment\_id = $id; |
| [255](#L255) | wp\_raise\_memory\_limit('image'); |
| [256](#L256) |  |
| [257](#L257) | $this->backup\_image($attachment\_id); |
| [258](#L258) |  |
| [259](#L259) | $image = wp\_get\_attachment\_image\_src($attachment\_id, 'full'); |
| [260](#L260) | $file\_path = get\_attached\_file($attachment\_id); |
| [261](#L261) | $file\_basename = basename($image[0]); |
| [262](#L262) |  |
| [263](#L263) | // Figure out image type |
| [264](#L264) | $exif = exif\_imagetype($file\_path); |
| [265](#L265) | $mime = image\_type\_to\_mime\_type($exif); |
| [266](#L266) |  |
| [267](#L267) | // Fetch the image content |
| [268](#L268) | $file\_content = $wpc\_filesystem->get\_contents($file\_path); |
| [269](#L269) |  |
| [270](#L270) | $post\_fields = array('action' => 'compress', 'imageID' => $attachment\_id, 'filename' => $file\_basename, 'apikey' => self::$apiParams['apikey'], 'key' => self::$apiParams['apikey'], 'image' => $image[0], 'url' => $image[0], 'exif' => $exif, 'mime' => $mime, 'content' => base64\_encode($file\_content), 'quality' => self::$apiParams['quality'], 'retina' => self::$apiParams['retina'], 'webp' => self::$apiParams['webp'], 'count\_thumbs' => $this->total\_sizes); |
| [271](#L271) |  |
| [272](#L272) | $tmp\_location = $file\_path . '\_tmp'; |
| [273](#L273) | $file\_location = $file\_path; |
| [274](#L274) | $original\_filesize = filesize($file\_path); |
| [275](#L275) | $response = wp\_remote\_post(self::$apiURL, array('timeout' => 300, 'method' => 'POST', 'sslverify' => false, 'body' => $post\_fields, 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0')); |
| [276](#L276) |  |
| [277](#L277) | if (wp\_remote\_retrieve\_response\_code($response) == 200) { |
| [278](#L278) | $body = wp\_remote\_retrieve\_body($response); |
| [279](#L279) | clearstatcache(); |
| [280](#L280) |  |
| [281](#L281) | if (!empty($body)) { |
| [282](#L282) | file\_put\_contents($tmp\_location, $body); |
| [283](#L283) | unset($body); |
| [284](#L284) |  |
| [285](#L285) | // Check if compressed image is smaller than original image from backup |
| [286](#L286) | $compressed\_filesize = filesize($tmp\_location); |
| [287](#L287) |  |
| [288](#L288) | if ($compressed\_filesize >= $original\_filesize) { |
| [289](#L289) | // Do Nothing |
| [290](#L290) | } else { |
| [291](#L291) | unlink($file\_location); |
| [292](#L292) | copy($tmp\_location, $file\_location); |
| [293](#L293) | unlink($tmp\_location); |
| [294](#L294) |  |
| [295](#L295) | $stats['full']['original']['size'] = $original\_filesize; |
| [296](#L296) | $stats['full']['compressed']['size'] = $compressed\_filesize; |
| [297](#L297) |  |
| [298](#L298) | update\_post\_meta($attachment\_id, 'ic\_status', 'compressed'); |
| [299](#L299) | update\_post\_meta($attachment\_id, 'ic\_stats', $stats); |
| [300](#L300) | } |
| [301](#L301) | } |
| [302](#L302) | } |
| [303](#L303) |  |
| [304](#L304) | update\_post\_meta($attachment\_id, 'is\_uploaded', 'true'); |
| [305](#L305) |  |
| [306](#L306) | return $meta; |
| [307](#L307) | } |
| [308](#L308) |  |
| [309](#L309) | public function is\_supported($imageID) |
| [310](#L310) | { |
| [311](#L311) | $file\_data = get\_attached\_file($imageID); |
| [312](#L312) | $type = wp\_check\_filetype($file\_data); |
| [313](#L313) |  |
| [314](#L314) | // Is file extension allowed |
| [315](#L315) | if (!in\_array(strtolower($type['ext']), self::$allowed\_types)) { |
| [316](#L316) | return false; |
| [317](#L317) | } else { |
| [318](#L318) | return true; |
| [319](#L319) | } |
| [320](#L320) | } |
| [321](#L321) |  |
| [322](#L322) | public function backup\_image($imageID) |
| [323](#L323) | { |
| [324](#L324) | wp\_raise\_memory\_limit('image'); |
| [325](#L325) |  |
| [326](#L326) | if (empty(self::$settings['backup']['local'] || self::$settings['backup']['local'] === '0')) { |
| [327](#L327) | return true; |
| [328](#L328) | } |
| [329](#L329) |  |
| [330](#L330) | // Image Backup Exists |
| [331](#L331) | if ($this->backup\_exists($imageID)) { |
| [332](#L332) | return true; |
| [333](#L333) | } |
| [334](#L334) |  |
| [335](#L335) | // Setup Image Stats |
| [336](#L336) | $stats = array(); |
| [337](#L337) | $backup\_list = array(); |
| [338](#L338) |  |
| [339](#L339) | // Create backup directory |
| [340](#L340) | $this->create\_backup\_directory(); |
| [341](#L341) |  |
| [342](#L342) | // Get filename |
| [343](#L343) | $image = wp\_get\_original\_image\_url($imageID); |
| [344](#L344) | $image\_url = $image; |
| [345](#L345) | $parsed\_url = parse\_url($image\_url); |
| [346](#L346) | $parsed\_url['path'] = ltrim($parsed\_url['path'], '/'); |
| [347](#L347) | $filename = basename($parsed\_url['path']); |
| [348](#L348) | $backup\_folders = str\_replace($filename, '', $parsed\_url['path']); |
| [349](#L349) | $backup\_folders = rtrim($backup\_folders, '/'); |
| [350](#L350) | $backup\_folders = explode('/', $backup\_folders); |
| [351](#L351) |  |
| [352](#L352) | $backup\_dir = self::$backup\_directory; |
| [353](#L353) | if (is\_array($backup\_folders)) { |
| [354](#L354) | foreach ($backup\_folders as $i => $folder) { |
| [355](#L355) | $backup\_dir .= '/' . $folder; |
| [356](#L356) | if (!file\_exists($backup\_dir)) { |
| [357](#L357) | $made\_dir = mkdir($backup\_dir, 0755); |
| [358](#L358) | } |
| [359](#L359) | } |
| [360](#L360) | } |
| [361](#L361) |  |
| [362](#L362) | if (empty($image) || empty($image\_url)) { |
| [363](#L363) | return false; |
| [364](#L364) | } |
| [365](#L365) |  |
| [366](#L366) | // Define original / backup file paths |
| [367](#L367) | $original\_file\_location = ABSPATH . $parsed\_url['path']; |
| [368](#L368) |  |
| [369](#L369) | // Where is backup saved? |
| [370](#L370) | $backup\_file\_location = $backup\_dir . '/' . $filename; |
| [371](#L371) |  |
| [372](#L372) | // Stats |
| [373](#L373) | $stats['original']['original']['size'] = filesize($original\_file\_location); |
| [374](#L374) |  |
| [375](#L375) | copy($original\_file\_location, $backup\_file\_location); |
| [376](#L376) |  |
| [377](#L377) | $backup\_list['original'] = $backup\_file\_location; |
| [378](#L378) |  |
| [379](#L379) | if (!file\_exists($backup\_file\_location)) { |
| [380](#L380) | // TODO: What then |
| [381](#L381) | //wp\_send\_json\_error('failed-to-create-backup'); |
| [382](#L382) | } |
| [383](#L383) |  |
| [384](#L384) | update\_post\_meta($imageID, 'ic\_stats', $stats); |
| [385](#L385) | update\_post\_meta($imageID, 'ic\_backup\_images', $backup\_list); |
| [386](#L386) | update\_post\_meta($imageID, 'ic\_original\_stats', $stats); |
| [387](#L387) | } |
| [388](#L388) |  |
| [389](#L389) |  |
| [390](#L390) | public function backup\_exists($imageID) |
| [391](#L391) | { |
| [392](#L392) | $backup\_exists = get\_post\_meta($imageID, 'ic\_backup\_images', true); |
| [393](#L393) | if (!empty($backup\_exists) && is\_array($backup\_exists)) { |
| [394](#L394) | foreach ($backup\_exists as $filename => $backup\_location) { |
| [395](#L395) | if (!empty($backup\_location)) { |
| [396](#L396) | // If backup file exists |
| [397](#L397) | if (file\_exists($backup\_location)) { |
| [398](#L398) | return $backup\_location; |
| [399](#L399) | } else { |
| [400](#L400) | return false; |
| [401](#L401) | } |
| [402](#L402) | } |
| [403](#L403) | } |
| [404](#L404) |  |
| [405](#L405) | return true; |
| [406](#L406) | } else { |
| [407](#L407) | return false; |
| [408](#L408) | } |
| [409](#L409) | } |
| [410](#L410) |  |
| [411](#L411) |  |
| [412](#L412) | public function create\_backup\_directory() |
| [413](#L413) | { |
| [414](#L414) | if (!file\_exists(self::$backup\_directory)) { |
| [415](#L415) | mkdir(self::$backup\_directory, 0755); |
| [416](#L416) | } |
| [417](#L417) | } |
| [418](#L418) |  |
| [419](#L419) | public function on\_upload($data, $attachment\_id) |
| [420](#L420) | { |
| [421](#L421) | $imageID = $attachment\_id; |
| [422](#L422) |  |
| [423](#L423) | // Is the image type supported |
| [424](#L424) | if (!$this->is\_supported($imageID)) { |
| [425](#L425) | $this->writeLog('Image not supported ' . $imageID); |
| [426](#L426) | return $data; |
| [427](#L427) | } |
| [428](#L428) |  |
| [429](#L429) | // Is the image already Compressed |
| [430](#L430) | if ($this->is\_already\_compressed($imageID)) { |
| [431](#L431) | $this->writeLog('Image not supported ' . $imageID); |
| [432](#L432) | return $data; |
| [433](#L433) | } |
| [434](#L434) |  |
| [435](#L435) | update\_post\_meta($imageID, 'wpc\_old\_meta', $data); |
| [436](#L436) |  |
| [437](#L437) | set\_transient('wps\_ic\_compress\_' . $attachment\_id, ['imageID' => $attachment\_id, 'status' => 'compressing'], 30); |
| [438](#L438) | set\_transient('wps\_ic\_queue\_' . $attachment\_id, ['imageID' => $attachment\_id, 'status' => 'waiting'], 30); |
| [439](#L439) |  |
| [440](#L440) | $this->singleCompressV4($imageID, false); |
| [441](#L441) |  |
| [442](#L442) | return $data; |
| [443](#L443) | } |
| [444](#L444) |  |
| [445](#L445) | public function writeLog($message) |
| [446](#L446) | { |
| [447](#L447) | if ($this->enabledLog == 'true') { |
| [448](#L448) | fwrite($this->logFile, "[" . date('d.m.Y H:i:s') . "] " . $message . "\r\n"); |
| [449](#L449) | } |
| [450](#L450) | } |
| [451](#L451) |  |
| [452](#L452) | public function is\_already\_compressed($imageID) |
| [453](#L453) | { |
| [454](#L454) | $backup\_exists = get\_post\_meta($imageID, 'ic\_status', true); |
| [455](#L455) | if (!empty($backup\_exists) && $backup\_exists == 'compressed') { |
| [456](#L456) | return true; |
| [457](#L457) | } else { |
| [458](#L458) | return false; |
| [459](#L459) | } |
| [460](#L460) | } |
| [461](#L461) |  |
| [462](#L462) | public function generate\_webp($arg, $type = 'click') |
| [463](#L463) | { |
| [464](#L464) | global $wpc\_filesystem; |
| [465](#L465) |  |
| [466](#L466) | $upload\_dir = wp\_upload\_dir(); |
| [467](#L467) | $imageID = $arg; |
| [468](#L468) | $return = array(); |
| [469](#L469) | $compressed = array(); |
| [470](#L470) | $extension = ''; |
| [471](#L471) | $stats = array(); |
| [472](#L472) |  |
| [473](#L473) | $image\_url\_full = wp\_get\_attachment\_image\_src($imageID, 'full'); |
| [474](#L474) | $image\_url\_full = $image\_url\_full[0]; |
| [475](#L475) | $image\_filename = basename($image\_url\_full); |
| [476](#L476) |  |
| [477](#L477) | if (strpos($image\_filename, '.jpg') !== false) { |
| [478](#L478) | $extension = 'jpg'; |
| [479](#L479) | } elseif (strpos($image\_filename, '.jpeg') !== false) { |
| [480](#L480) | $extension = 'jpeg'; |
| [481](#L481) | } elseif (strpos($image\_filename, '.gif') !== false) { |
| [482](#L482) | $extension = 'gif'; |
| [483](#L483) | } elseif (strpos($image\_filename, '.png') !== false) { |
| [484](#L484) | $extension = 'png'; |
| [485](#L485) | } |
| [486](#L486) |  |
| [487](#L487) | foreach ($this->webp\_sizes as $i => $size) { |
| [488](#L488) | if ($size == 'full') { |
| [489](#L489) | $image = wp\_get\_attachment\_image\_src($imageID, $size); |
| [490](#L490) | if ($image) { |
| [491](#L491) | $image\_url = $image[0]; |
| [492](#L492) | } |
| [493](#L493) | } else { |
| [494](#L494) | $image = wp\_get\_attachment\_image\_src($imageID, $size); |
| [495](#L495) | if ($image) { |
| [496](#L496) | $image\_url = $image[0]; |
| [497](#L497) | } |
| [498](#L498) | } |
| [499](#L499) |  |
| [500](#L500) | if (empty($image\_url)) { |
| [501](#L501) | continue; |
| [502](#L502) | } |
| [503](#L503) |  |
| [504](#L504) | if (!isset($image['path']) && !empty($image)) { |
| [505](#L505) | $image['path'] = $image; |
| [506](#L506) | } |
| [507](#L507) |  |
| [508](#L508) | $image['path'] = str\_replace($upload\_dir['baseurl'] . '/', '', $image[0]); |
| [509](#L509) | $image['path'] = str\_replace('./', '', $image['path']); |
| [510](#L510) |  |
| [511](#L511) | /\*\* |
| [512](#L512) | \* Figure out the actual file path |
| [513](#L513) | \*/ |
| [514](#L514) | $file\_path = get\_attached\_file($imageID); |
| [515](#L515) | $file\_basename = basename($image[0]); |
| [516](#L516) |  |
| [517](#L517) | // Setup POST Params |
| [518](#L518) | $headers = array('timeout' => 300, 'httpversion' => '1.0', 'blocking' => true,); |
| [519](#L519) |  |
| [520](#L520) | // Figure out image type |
| [521](#L521) | $exif = exif\_imagetype($file\_path); |
| [522](#L522) | $mime = image\_type\_to\_mime\_type($exif); |
| [523](#L523) |  |
| [524](#L524) | $file\_location = WPS\_IC\_UPLOADS\_DIR . '/' . $image['path']; |
| [525](#L525) |  |
| [526](#L526) | // Fetch the image content |
| [527](#L527) | $file\_content = $wpc\_filesystem->get\_contents($file\_path); |
| [528](#L528) |  |
| [529](#L529) | $post\_fields = array('action' => 'compress', 'imageID' => $imageID, 'filename' => $file\_basename, 'apikey' => self::$apiParams['apikey'], 'key' => self::$apiParams['apikey'], 'image' => $image[0], 'url' => $image[0], 'exif' => $exif, 'mime' => $mime, 'content' => base64\_encode($file\_content), 'quality' => self::$apiParams['quality'], 'width' => '1', 'retina' => 'false', 'webp' => 'true'); |
| [530](#L530) |  |
| [531](#L531) | if (!empty($size)) { |
| [532](#L532) | if ($size == 'full') { |
| [533](#L533) | $post\_fields['width'] = '1'; |
| [534](#L534) | } else { |
| [535](#L535) | if (empty($image['width'])) { |
| [536](#L536) | $post\_fields['width'] = '1'; |
| [537](#L537) | } else { |
| [538](#L538) | $post\_fields['width'] = $image['width']; |
| [539](#L539) | } |
| [540](#L540) | } |
| [541](#L541) | } |
| [542](#L542) |  |
| [543](#L543) | // WebP File Path |
| [544](#L544) | $webp\_file\_location = str\_replace('.' . $extension, '.webp', $file\_location); |
| [545](#L545) | $call = wp\_remote\_post(self::$apiURL, array('timeout' => 300, 'method' => 'POST', 'headers' => $headers, 'sslverify' => false, 'body' => $post\_fields, 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0')); |
| [546](#L546) |  |
| [547](#L547) | if (wp\_remote\_retrieve\_response\_code($call) == 200) { |
| [548](#L548) | $body = wp\_remote\_retrieve\_body($call); |
| [549](#L549) | if (!empty($body)) { |
| [550](#L550) | file\_put\_contents($webp\_file\_location, $body); |
| [551](#L551) | clearstatcache(); |
| [552](#L552) |  |
| [553](#L553) | $stats[$size . '-webp']['compressed']['size'] = filesize($webp\_file\_location); |
| [554](#L554) | $compressed[$size . '-webp'] = $webp\_file\_location; |
| [555](#L555) | } |
| [556](#L556) | } |
| [557](#L557) | } |
| [558](#L558) |  |
| [559](#L559) | $return['stats'] = $stats; |
| [560](#L560) | $return['compressed'] = $compressed; |
| [561](#L561) |  |
| [562](#L562) | $stats = get\_post\_meta($imageID, 'ic\_stats', true); |
| [563](#L563) | $stats = array\_merge($stats, $return['stats']); |
| [564](#L564) | update\_post\_meta($imageID, 'ic\_stats', $stats); |
| [565](#L565) |  |
| [566](#L566) | if ($type == 'click') { |
| [567](#L567) | $compressed = get\_post\_meta($imageID, 'ic\_compressed\_images', true); |
| [568](#L568) | $compressed = array\_merge($compressed, $return['compressed']); |
| [569](#L569) | update\_post\_meta($imageID, 'ic\_compressed\_images', $compressed); |
| [570](#L570) | } |
| [571](#L571) |  |
| [572](#L572) | return $return; |
| [573](#L573) | } |
| [574](#L574) |  |
| [575](#L575) | public function restoreV4($imageID) { |
| [576](#L576) |  |
| [577](#L577) | if ( ! function\_exists( 'download\_url' ) ) { |
| [578](#L578) | require\_once( ABSPATH . "wp-admin" . '/includes/image.php' ); |
| [579](#L579) | require\_once( ABSPATH . "wp-admin" . '/includes/file.php' ); |
| [580](#L580) | require\_once( ABSPATH . "wp-admin" . '/includes/media.php' ); |
| [581](#L581) | } |
| [582](#L582) |  |
| [583](#L583) | if ( ! function\_exists( 'update\_option' ) ) { |
| [584](#L584) | require\_once( ABSPATH . "wp-includes" . '/option.php' ); |
| [585](#L585) | } |
| [586](#L586) |  |
| [587](#L587) | $output = array(); |
| [588](#L588) |  |
| [589](#L589) | wp\_raise\_memory\_limit( 'image' ); |
| [590](#L590) | ini\_set( 'memory\_limit', '1024M' ); |
| [591](#L591) |  |
| [592](#L592) | $olderVersionBackup = $this->olderBackup( $imageID ); |
| [593](#L593) | if ( $olderVersionBackup ) { |
| [594](#L594) | return true; |
| [595](#L595) | } |
| [596](#L596) |  |
| [597](#L597) | // Is the image in process |
| [598](#L598) | $inProcess = get\_post\_meta( $imageID, 'ic\_bulk\_running', true ); |
| [599](#L599) | // Remote backup? |
| [600](#L600) |  |
| [601](#L601) | //check api for original |
| [602](#L602) | $params = array( 'timeout'    => 300, |
| [603](#L603) | 'method'     => 'POST', |
| [604](#L604) | 'sslverify'  => false, |
| [605](#L605) | 'body'       => [ |
| [606](#L606) | 'action'   => 'restoreSingleImage', |
| [607](#L607) | 'apikey'      => self::$apiParams['apikey'], |
| [608](#L608) | 'imageID'     => $imageID |
| [609](#L609) | ], |
| [610](#L610) | 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0' |
| [611](#L611) | ); |
| [612](#L612) |  |
| [613](#L613) | $call = wp\_remote\_post( self::$apiURL, $params ); |
| [614](#L614) | //file\_put\_contents( WPS\_IC\_CACHE . 'test3.txt', print\_r( $call, true ) ); |
| [615](#L615) | $this->writeLog( 'Started Image ID ' . $imageID ); |
| [616](#L616) |  |
| [617](#L617) | if ( wp\_remote\_retrieve\_response\_code( $call ) == 200 ) { |
| [618](#L618) | $response = wp\_remote\_retrieve\_body( $call ); |
| [619](#L619) | $response = json\_decode( $response, true ); |
| [620](#L620) |  |
| [621](#L621) | $this->writeLog( 'API Response IS 200' ); |
| [622](#L622) | $this->writeLog( print\_r( wp\_remote\_retrieve\_body( $call ), true ) ); |
| [623](#L623) |  |
| [624](#L624) | if ( $response['success'] == 'true' ) { |
| [625](#L625) | if ( ! empty( $response['data'] ) ) { |
| [626](#L626) |  |
| [627](#L627) | $alreadyRestored = []; |
| [628](#L628) | $oldMeta         = get\_post\_meta( $imageID, 'wpc\_old\_meta', true ); |
| [629](#L629) |  |
| [630](#L630) | if ( ! empty( $response['data']['imageURL'] ) ) { |
| [631](#L631) | $imageUrl  = $response['data']['imageURL']; |
| [632](#L632) | $imagePath = wp\_get\_original\_image\_path( $imageID ); |
| [633](#L633) |  |
| [634](#L634) | $downloadImage = download\_url( $imageUrl ); |
| [635](#L635) |  |
| [636](#L636) | if ( is\_wp\_error( $downloadImage ) ) { |
| [637](#L637) | $this->writeLog( 'Unable to download Image' ); |
| [638](#L638) | $this->writeLog( $imageUrl ); |
| [639](#L639) | $this->writeLog( $downloadImage ); |
| [640](#L640) |  |
| [641](#L641) | $this->writeLog( 'Ended Image ID - failed to get backup ' . $imageID ); |
| [642](#L642) |  |
| [643](#L643) | if ( $output == 'json' ) { |
| [644](#L644) | wp\_send\_json\_error( array( |
| [645](#L645) | 'msg'     => 'failed-to-get-backup', |
| [646](#L646) | 'apiUrl'  => self::$apiURL, |
| [647](#L647) | 'apikey'  => self::$apiParams['apikey'], |
| [648](#L648) | 'imageID' => $imageID, |
| [649](#L649) | 'url'     => $downloadImage |
| [650](#L650) | ) ); |
| [651](#L651) | } |
| [652](#L652) |  |
| [653](#L653) | return false; |
| [654](#L654) | } |
| [655](#L655) |  |
| [656](#L656) | if ( file\_exists( $imagePath ) ) { |
| [657](#L657) | unlink( $imagePath ); |
| [658](#L658) | } |
| [659](#L659) |  |
| [660](#L660) | copy( $downloadImage, $imagePath ); |
| [661](#L661) | unset( $downloadImage ); |
| [662](#L662) |  |
| [663](#L663) | // Delete webP if exists |
| [664](#L664) | $imagesCompressed = get\_post\_meta($imageID, 'wpc\_images\_compressed', true); |
| [665](#L665) | foreach ($imagesCompressed as $image => $data){ |
| [666](#L666) | if ( file\_exists( $data['webp\_path'] ) ) { |
| [667](#L667) | unlink( $data['webp\_path'] ); |
| [668](#L668) | } |
| [669](#L669) | } |
| [670](#L670) |  |
| [671](#L671) |  |
| [672](#L672) | // Remove meta tags |
| [673](#L673) | delete\_post\_meta( $imageID, 'wpc\_images\_compressed' ); |
| [674](#L674) | delete\_post\_meta( $imageID, 'ic\_stats' ); |
| [675](#L675) | delete\_post\_meta( $imageID, 'ic\_compressed\_images' ); |
| [676](#L676) | delete\_post\_meta( $imageID, 'ic\_compressed\_thumbs' ); |
| [677](#L677) | delete\_post\_meta( $imageID, 'ic\_backup\_images' ); |
| [678](#L678) | update\_post\_meta( $imageID, 'ic\_status', 'restored' ); |
| [679](#L679) | delete\_post\_meta( $imageID, 'ic\_bulk\_running' ); |
| [680](#L680) | delete\_transient( 'wps\_ic\_compress\_' . $imageID ); |
| [681](#L681) |  |
| [682](#L682) | $originalFilePath = wp\_get\_original\_image\_path( $imageID ); |
| [683](#L683) | remove\_filter('wp\_generate\_attachment\_metadata', array($this, 'on\_upload'), PHP\_INT\_MAX); |
| [684](#L684) | $oldMeta          = wp\_generate\_attachment\_metadata( $imageID, $originalFilePath ); |
| [685](#L685) | wp\_update\_attachment\_metadata( $imageID, $oldMeta ); |
| [686](#L686) | // Add for heartbeat to pickup |
| [687](#L687) | set\_transient( 'wps\_ic\_heartbeat\_' . $imageID, array( 'imageID' => $imageID, 'status' => 'restored' ), 60 ); |
| [688](#L688) |  |
| [689](#L689) | $this->writeLog( 'Ended Image ID - restored ' . $imageID ); |
| [690](#L690) |  |
| [691](#L691) | if ( $output == 'json' ) { |
| [692](#L692) | wp\_send\_json\_success( array( 'msg' => 'backup-restored' ) ); |
| [693](#L693) | } |
| [694](#L694) |  |
| [695](#L695) | } |
| [696](#L696) | } |
| [697](#L697) | } |
| [698](#L698) | }  else { |
| [699](#L699) | $this->writeLog( 'API Response not 200' ); |
| [700](#L700) | $this->writeLog( print\_r( wp\_remote\_retrieve\_body( $call ), true ) ); |
| [701](#L701) | $this->writeLog( 'Ended Image ID ' . $imageID ); |
| [702](#L702) |  |
| [703](#L703) | // Failure to contact API |
| [704](#L704) | if ( $output == 'json' ) { |
| [705](#L705) | wp\_send\_json\_error( array( 'msg' => 'unable-to-contact-api' ) ); |
| [706](#L706) | } |
| [707](#L707) | } |
| [708](#L708) | } |
| [709](#L709) |  |
| [710](#L710) | public function restore($imageID, $output = 'json') |
| [711](#L711) | { |
| [712](#L712) | if (!function\_exists('download\_url')) { |
| [713](#L713) | require\_once(ABSPATH . "wp-admin" . '/includes/image.php'); |
| [714](#L714) | require\_once(ABSPATH . "wp-admin" . '/includes/file.php'); |
| [715](#L715) | require\_once(ABSPATH . "wp-admin" . '/includes/media.php'); |
| [716](#L716) | } |
| [717](#L717) |  |
| [718](#L718) | if (!function\_exists('update\_option')) { |
| [719](#L719) | require\_once(ABSPATH . "wp-includes" . '/option.php'); |
| [720](#L720) | } |
| [721](#L721) |  |
| [722](#L722) | $output = array(); |
| [723](#L723) |  |
| [724](#L724) | wp\_raise\_memory\_limit('image'); |
| [725](#L725) | ini\_set('memory\_limit', '1024M'); |
| [726](#L726) |  |
| [727](#L727) | $olderVersionBackup = $this->olderBackup($imageID); |
| [728](#L728) | if ($olderVersionBackup) { |
| [729](#L729) | return true; |
| [730](#L730) | } |
| [731](#L731) |  |
| [732](#L732) | // Is the image in process |
| [733](#L733) | $inProcess = get\_post\_meta($imageID, 'ic\_bulk\_running', true); |
| [734](#L734) | if ($inProcess && $inProcess == 'true') { |
| [735](#L735) | } |
| [736](#L736) |  |
| [737](#L737) | // Remote backup? |
| [738](#L738) |  |
| [739](#L739) | //check api for original |
| [740](#L740) | $params = array('timeout' => 300, 'method' => 'POST', 'sslverify' => false, 'body' => ['getS3Backup' => true, 'apikey' => self::$apiParams['apikey'], 'imageID' => $imageID], 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0'); |
| [741](#L741) |  |
| [742](#L742) | $call = wp\_remote\_post(self::$apiURL, $params); |
| [743](#L743) |  |
| [744](#L744) | $this->writeLog('Started Image ID ' . $imageID); |
| [745](#L745) |  |
| [746](#L746) | if (wp\_remote\_retrieve\_response\_code($call) == 200) { |
| [747](#L747) | $response = wp\_remote\_retrieve\_body($call); |
| [748](#L748) | $response = json\_decode($response, true); |
| [749](#L749) |  |
| [750](#L750) |  |
| [751](#L751) | $this->writeLog('API Response IS 200'); |
| [752](#L752) | $this->writeLog(print\_r(wp\_remote\_retrieve\_body($call), true)); |
| [753](#L753) |  |
| [754](#L754) | if ($response['success'] == 'true') { |
| [755](#L755) | if (!empty($response['data'])) { |
| [756](#L756) |  |
| [757](#L757) | $alreadyRestored = []; |
| [758](#L758) | $oldMeta = get\_post\_meta($imageID, 'wpc\_old\_meta', true); |
| [759](#L759) |  |
| [760](#L760) | if (!empty($response['data']['url']['original']['local'])) { |
| [761](#L761) | $imageUrl = $response['data']['url']['original']['local']; |
| [762](#L762) | $imagePath = wp\_get\_original\_image\_path($imageID); |
| [763](#L763) |  |
| [764](#L764) | $downloadImage = download\_url($imageUrl); |
| [765](#L765) |  |
| [766](#L766) | if (is\_wp\_error($downloadImage)) { |
| [767](#L767) | $this->writeLog('Unable to download Image'); |
| [768](#L768) | $this->writeLog($imageUrl); |
| [769](#L769) | $this->writeLog($downloadImage); |
| [770](#L770) |  |
| [771](#L771) | $this->writeLog('Ended Image ID - failed to get backup ' . $imageID); |
| [772](#L772) |  |
| [773](#L773) | if ($output == 'json') { |
| [774](#L774) | wp\_send\_json\_error(array('msg' => 'failed-to-get-backup', 'apiUrl' => self::$apiURL, 'apikey' => self::$apiParams['apikey'], 'imageID' => $imageID, 'url' => $downloadImage)); |
| [775](#L775) | } |
| [776](#L776) |  |
| [777](#L777) | return false; |
| [778](#L778) | } |
| [779](#L779) |  |
| [780](#L780) | if (file\_exists($imagePath)) { |
| [781](#L781) | unlink($imagePath); |
| [782](#L782) | } |
| [783](#L783) |  |
| [784](#L784) | copy($downloadImage, $imagePath); |
| [785](#L785) | unset($downloadImage); |
| [786](#L786) |  |
| [787](#L787) |  |
| [788](#L788) | // Remove meta tags |
| [789](#L789) | delete\_post\_meta($imageID, 'wpc\_images\_compressed'); |
| [790](#L790) | delete\_post\_meta($imageID, 'ic\_stats'); |
| [791](#L791) | delete\_post\_meta($imageID, 'ic\_compressed\_images'); |
| [792](#L792) | delete\_post\_meta($imageID, 'ic\_compressed\_thumbs'); |
| [793](#L793) | delete\_post\_meta($imageID, 'ic\_backup\_images'); |
| [794](#L794) | update\_post\_meta($imageID, 'ic\_status', 'restored'); |
| [795](#L795) | delete\_post\_meta($imageID, 'ic\_bulk\_running'); |
| [796](#L796) | delete\_transient('wps\_ic\_compress\_' . $imageID); |
| [797](#L797) |  |
| [798](#L798) | $originalFilePath = wp\_get\_original\_image\_path($imageID); |
| [799](#L799) | remove\_filter('wp\_generate\_attachment\_metadata', array($this, 'on\_upload'), PHP\_INT\_MAX); |
| [800](#L800) | $oldMeta = wp\_generate\_attachment\_metadata($imageID, $originalFilePath); |
| [801](#L801) | wp\_update\_attachment\_metadata($imageID, $oldMeta); |
| [802](#L802) |  |
| [803](#L803) | // Add for heartbeat to pickup |
| [804](#L804) | set\_transient('wps\_ic\_heartbeat\_' . $imageID, array('imageID' => $imageID, 'status' => 'restored'), 60); |
| [805](#L805) |  |
| [806](#L806) | $this->writeLog('Ended Image ID - restored ' . $imageID); |
| [807](#L807) |  |
| [808](#L808) | if ($output == 'json') { |
| [809](#L809) | wp\_send\_json\_success(array('msg' => 'backup-restored')); |
| [810](#L810) | } |
| [811](#L811) |  |
| [812](#L812) | return true; |
| [813](#L813) | } |
| [814](#L814) |  |
| [815](#L815) | foreach ($response['data']['url'] as $imageSize => $imageUrl) { |
| [816](#L816) |  |
| [817](#L817) | $imageUrl = $imageUrl['s3']; |
| [818](#L818) |  |
| [819](#L819) | // Image URL was already restored |
| [820](#L820) | if (in\_array($imageUrl, $alreadyRestored)) { |
| [821](#L821) | $this->writeLog('Image was already restored'); |
| [822](#L822) | $this->writeLog($imageUrl); |
| [823](#L823) | continue; |
| [824](#L824) | } |
| [825](#L825) |  |
| [826](#L826) | if ($imageSize == 'original') { |
| [827](#L827) | $imagePath = wp\_get\_original\_image\_path($imageID); |
| [828](#L828) | } else { |
| [829](#L829) | $originalFilePath = wp\_get\_original\_image\_path($imageID); |
| [830](#L830) | $originalFilename = wp\_basename($originalFilePath); |
| [831](#L831) | $this->pathToDir = str\_replace($originalFilename, '', $originalFilePath); |
| [832](#L832) | // |
| [833](#L833) | $imagePath = wp\_get\_attachment\_image\_src($imageID, $imageSize); |
| [834](#L834) | $imagePath = wp\_basename($imagePath[0]); |
| [835](#L835) | $imagePath = $this->pathToDir . $imagePath; |
| [836](#L836) | } |
| [837](#L837) |  |
| [838](#L838) | // Local Filename |
| [839](#L839) | $localFilename = wp\_basename($imagePath); |
| [840](#L840) |  |
| [841](#L841) | // Filename from API |
| [842](#L842) | $sentFilename = wp\_basename($imageUrl); |
| [843](#L843) | $sentFilename = explode('?', $sentFilename); |
| [844](#L844) | $sentFilename = $sentFilename[0]; |
| [845](#L845) |  |
| [846](#L846) | if ($sentFilename !== $localFilename) { |
| [847](#L847) | // Filename not matching?! Error! |
| [848](#L848) | $sentFilename = explode('-', $sentFilename); |
| [849](#L849) | $removed = array\_shift($sentFilename); |
| [850](#L850) | $sentFilename = implode('-', $sentFilename); |
| [851](#L851) | } |
| [852](#L852) |  |
| [853](#L853) | if ($sentFilename !== $localFilename) { |
| [854](#L854) | // Still not a match |
| [855](#L855) | } else { |
| [856](#L856) | $downloadImage = download\_url($imageUrl); |
| [857](#L857) |  |
| [858](#L858) | if (is\_wp\_error($downloadImage)) { |
| [859](#L859) | $this->writeLog('Unable to download Image'); |
| [860](#L860) | $this->writeLog($imageUrl); |
| [861](#L861) | $this->writeLog($downloadImage); |
| [862](#L862) |  |
| [863](#L863) | $alreadyRestored[] = $imageUrl; |
| [864](#L864) | continue; |
| [865](#L865) | } |
| [866](#L866) |  |
| [867](#L867) | if (file\_exists($imagePath)) { |
| [868](#L868) | unlink($imagePath); |
| [869](#L869) | } |
| [870](#L870) |  |
| [871](#L871) | copy($downloadImage, $imagePath); |
| [872](#L872) | unset($downloadImage); |
| [873](#L873) |  |
| [874](#L874) | // Delete webP if exists |
| [875](#L875) | $imagesCompressed = get\_post\_meta($imageID, 'wpc\_images\_compressed', true); |
| [876](#L876) | foreach ($imagesCompressed as $image => $data){ |
| [877](#L877) | if ( file\_exists( $data['webp\_path'] ) ) { |
| [878](#L878) | unlink( $data['webp\_path'] ); |
| [879](#L879) | } |
| [880](#L880) | } |
| [881](#L881) |  |
| [882](#L882) | $this->writeLog('WebP path ' . $data['webp\_path']); |
| [883](#L883) | $this->writeLog('WebP path exists ' . file\_exists($data['webp\_path'])); |
| [884](#L884) |  |
| [885](#L885) | } |
| [886](#L886) | } |
| [887](#L887) |  |
| [888](#L888) | $originalFilePath = wp\_get\_original\_image\_path($imageID); |
| [889](#L889) | $oldMeta = wp\_generate\_attachment\_metadata($imageID, $originalFilePath); |
| [890](#L890) |  |
| [891](#L891) | wp\_update\_attachment\_metadata($imageID, $oldMeta); |
| [892](#L892) |  |
| [893](#L893) | // Remove meta tags |
| [894](#L894) | delete\_post\_meta($imageID, 'wpc\_images\_compressed'); |
| [895](#L895) | delete\_post\_meta($imageID, 'ic\_stats'); |
| [896](#L896) | delete\_post\_meta($imageID, 'ic\_compressed\_images'); |
| [897](#L897) | delete\_post\_meta($imageID, 'ic\_compressed\_thumbs'); |
| [898](#L898) | delete\_post\_meta($imageID, 'ic\_backup\_images'); |
| [899](#L899) | update\_post\_meta($imageID, 'ic\_status', 'restored'); |
| [900](#L900) | delete\_post\_meta($imageID, 'ic\_bulk\_running'); |
| [901](#L901) | delete\_transient('wps\_ic\_compress\_' . $imageID); |
| [902](#L902) |  |
| [903](#L903) | // Add for heartbeat to pickup |
| [904](#L904) | set\_transient('wps\_ic\_heartbeat\_' . $imageID, array('imageID' => $imageID, 'status' => 'restored'), 60); |
| [905](#L905) |  |
| [906](#L906) | $this->writeLog('Ended Image ID - restored ' . $imageID); |
| [907](#L907) |  |
| [908](#L908) | if ($output == 'json') { |
| [909](#L909) | wp\_send\_json\_success(array('msg' => 'backup-restored')); |
| [910](#L910) | } |
| [911](#L911) | } |
| [912](#L912) | } else { |
| [913](#L913) | $this->writeLog('Ended Image ID - failed to get backup ' . $imageID); |
| [914](#L914) | if ($output == 'json') { |
| [915](#L915) | wp\_send\_json\_error(array('msg' => 'failed-to-get-backup', 'apiUrl' => self::$apiURL, 'apikey' => self::$apiParams['apikey'], 'imageID' => $imageID)); |
| [916](#L916) | } |
| [917](#L917) | } |
| [918](#L918) |  |
| [919](#L919) | } else { |
| [920](#L920) | $this->writeLog('API Response not 200'); |
| [921](#L921) | $this->writeLog(print\_r(wp\_remote\_retrieve\_body($call), true)); |
| [922](#L922) | $this->writeLog('Ended Image ID ' . $imageID); |
| [923](#L923) |  |
| [924](#L924) | // Failure to contact API |
| [925](#L925) | if ($output == 'json') { |
| [926](#L926) | wp\_send\_json\_error(array('msg' => 'unable-to-contact-api')); |
| [927](#L927) | } |
| [928](#L928) | } |
| [929](#L929) | } |
| [930](#L930) |  |
| [931](#L931) | public function olderBackup($imageID) |
| [932](#L932) | { |
| [933](#L933) | $backup\_images = get\_post\_meta($imageID, 'ic\_backup\_images', true); |
| [934](#L934) |  |
| [935](#L935) | if (!empty($backup\_images) && is\_array($backup\_images)) { |
| [936](#L936) | $compressed\_images = get\_post\_meta($imageID, 'ic\_compressed\_images', true); |
| [937](#L937) |  |
| [938](#L938) | // Remove Generated Images |
| [939](#L939) | if (!empty($compressed\_images)) { |
| [940](#L940) |  |
| [941](#L941) | foreach ($compressed\_images as $index => $path) { |
| [942](#L942) | if (strpos($index, 'webp') !== false) { |
| [943](#L943) | if (file\_exists($path)) { |
| [944](#L944) | unlink($path); |
| [945](#L945) | } |
| [946](#L946) | } |
| [947](#L947) | } |
| [948](#L948) |  |
| [949](#L949) | } |
| [950](#L950) |  |
| [951](#L951) | $upload\_dir = wp\_get\_upload\_dir(); |
| [952](#L952) | $sizes = get\_intermediate\_image\_sizes(); |
| [953](#L953) | foreach ($sizes as $i => $size) { |
| [954](#L954) | clearstatcache(); |
| [955](#L955) | $image = image\_get\_intermediate\_size($imageID, $size); |
| [956](#L956) | if ($image['path']) { |
| [957](#L957) | $path = $upload\_dir['basedir'] . '/' . $image['path']; |
| [958](#L958) | if (file\_exists($path)) { |
| [959](#L959) | unlink($path); |
| [960](#L960) | } |
| [961](#L961) | } |
| [962](#L962) | } |
| [963](#L963) |  |
| [964](#L964) | $path\_to\_image = get\_attached\_file($imageID); |
| [965](#L965) |  |
| [966](#L966) | // Restore only full |
| [967](#L967) | $restore\_image\_path = $backup\_images['full']; |
| [968](#L968) |  |
| [969](#L969) | // If backup file exists |
| [970](#L970) | if (file\_exists($restore\_image\_path)) { |
| [971](#L971) | unlink($path\_to\_image); |
| [972](#L972) |  |
| [973](#L973) | // Restore from local backups |
| [974](#L974) | $copy = copy($restore\_image\_path, $path\_to\_image); |
| [975](#L975) |  |
| [976](#L976) | // Delete the backup |
| [977](#L977) | unlink($restore\_image\_path); |
| [978](#L978) | } |
| [979](#L979) |  |
| [980](#L980) | clearstatcache(); |
| [981](#L981) |  |
| [982](#L982) | wp\_update\_attachment\_metadata($imageID, wp\_generate\_attachment\_metadata($imageID, $path\_to\_image)); |
| [983](#L983) |  |
| [984](#L984) | // Remove meta tags |
| [985](#L985) | delete\_post\_meta($imageID, 'ic\_stats'); |
| [986](#L986) | delete\_post\_meta($imageID, 'ic\_compressed\_images'); |
| [987](#L987) | delete\_post\_meta($imageID, 'ic\_compressed\_thumbs'); |
| [988](#L988) | delete\_post\_meta($imageID, 'ic\_backup\_images'); |
| [989](#L989) | update\_post\_meta($imageID, 'ic\_status', 'restored'); |
| [990](#L990) |  |
| [991](#L991) | return true; |
| [992](#L992) | } |
| [993](#L993) |  |
| [994](#L994) | return false; |
| [995](#L995) | } |
| [996](#L996) |  |
| [997](#L997) | public function disable\_scaling() |
| [998](#L998) | { |
| [999](#L999) | return false; |
| [1000](#L1000) | } |
| [1001](#L1001) |  |
| [1002](#L1002) | public function singleCompressV4($imageID, $output = 'json') |
| [1003](#L1003) | { |
| [1004](#L1004) | wp\_raise\_memory\_limit('image'); |
| [1005](#L1005) |  |
| [1006](#L1006) | // Is the image type supported |
| [1007](#L1007) | if (!$this->is\_supported($imageID)) { |
| [1008](#L1008) | if ($output == 'json') { |
| [1009](#L1009) | wp\_send\_json\_error(array('msg' => 'file-not-supported')); |
| [1010](#L1010) | } else { |
| [1011](#L1011) | return 'file-not-supported'; |
| [1012](#L1012) | } |
| [1013](#L1013) | } |
| [1014](#L1014) |  |
| [1015](#L1015) | // Is the image already Compressed |
| [1016](#L1016) | if ($this->is\_already\_compressed($imageID)) { |
| [1017](#L1017) | $media\_library = new wps\_ic\_media\_library\_live(); |
| [1018](#L1018) | $html = $media\_library->compress\_details($imageID); |
| [1019](#L1019) |  |
| [1020](#L1020) | if ($output == 'json') { |
| [1021](#L1021) | wp\_send\_json\_error(array('msg' => 'file-already-compressed', 'imageID' => $imageID, 'html' => $html)); |
| [1022](#L1022) | } else { |
| [1023](#L1023) | return 'file-already-compressed'; |
| [1024](#L1024) | } |
| [1025](#L1025) | } |
| [1026](#L1026) |  |
| [1027](#L1027) | // Set the image status |
| [1028](#L1028) | set\_transient('wps\_ic\_compress\_' . $imageID, ['imageID' => $imageID, 'status' => 'compressing'], 60); |
| [1029](#L1029) |  |
| [1030](#L1030) | // Save OLD post meta for restore usage |
| [1031](#L1031) | if (!get\_post\_meta($imageID, 'wpc\_old\_meta')) { |
| [1032](#L1032) | $oldMeta = wp\_get\_attachment\_metadata($imageID); |
| [1033](#L1033) | update\_post\_meta($imageID, 'wpc\_old\_meta', $oldMeta); |
| [1034](#L1034) | } |
| [1035](#L1035) |  |
| [1036](#L1036) | // Prepare the request params |
| [1037](#L1037) | $post\_fields = array('action' => 'doSingleImage', 'apikey' => self::$apiParams['apikey'], 'imageID' => $imageID, 'siteurl' => self::$siteUrl, 'parameters' => json\_encode(['maxWidth' => WPS\_IC\_MAXWIDTH, 'quality' => self::$apiParams['quality'], 'retina' => self::$apiParams['retina'], 'webp' => self::$apiParams['webp']])); |
| [1038](#L1038) |  |
| [1039](#L1039) | // Notify API to queue to queue the request |
| [1040](#L1040) | $notify = wp\_remote\_post(self::$apiURL, ['timeout' => 90, 'blocking' => true, 'body' => $post\_fields, 'sslverify' => |
| [1041](#L1041) | false, 'user-agent' => WPS\_IC\_API\_USERAGENT]); |
| [1042](#L1042) |  |
| [1043](#L1043) | if (wp\_remote\_retrieve\_response\_code($notify) == 200) { |
| [1044](#L1044) | // All good, let's wait for queue |
| [1045](#L1045) | if ($output == 'json') { |
| [1046](#L1046) | wp\_send\_json\_success( array('waiting-queue','call' => print\_r( $notify, true )) ); |
| [1047](#L1047) | } |
| [1048](#L1048) | } else { |
| [1049](#L1049) | delete\_transient('wps\_ic\_compress\_' . $imageID); |
| [1050](#L1050) | // We were unable to contact API |
| [1051](#L1051) | if ($output == 'json') { |
| [1052](#L1052) | wp\_send\_json\_error( array( 'msg' => 'unable-to-contact-api' , 'call' => print\_r( $notify, true )) ); |
| [1053](#L1053) | } |
| [1054](#L1054) | } |
| [1055](#L1055) | } |
| [1056](#L1056) |  |
| [1057](#L1057) | public function singleCompressV3($imageID, $output = 'json') |
| [1058](#L1058) | { |
| [1059](#L1059) | wp\_raise\_memory\_limit('image'); |
| [1060](#L1060) | $settings = get\_option(WPS\_IC\_SETTINGS); |
| [1061](#L1061) |  |
| [1062](#L1062) | // Is the image type supported |
| [1063](#L1063) | if (!$this->is\_supported($imageID)) { |
| [1064](#L1064) | if ($output == 'json') { |
| [1065](#L1065) | wp\_send\_json\_error(array('msg' => 'file-not-supported')); |
| [1066](#L1066) | } else { |
| [1067](#L1067) | return 'file-not-supported'; |
| [1068](#L1068) | } |
| [1069](#L1069) | } |
| [1070](#L1070) |  |
| [1071](#L1071) | // Is the image already Compressed |
| [1072](#L1072) | if ($this->is\_already\_compressed($imageID)) { |
| [1073](#L1073) | $media\_library = new wps\_ic\_media\_library\_live(); |
| [1074](#L1074) | $html = $media\_library->compress\_details($imageID); |
| [1075](#L1075) |  |
| [1076](#L1076) | if ($output == 'json') { |
| [1077](#L1077) | wp\_send\_json\_error(array('msg' => 'file-already-compressed', 'imageID' => $imageID, 'html' => $html)); |
| [1078](#L1078) | } else { |
| [1079](#L1079) | return 'file-already-compressed'; |
| [1080](#L1080) | } |
| [1081](#L1081) | } |
| [1082](#L1082) |  |
| [1083](#L1083) | // Set the image status |
| [1084](#L1084) | set\_transient('wps\_ic\_compress\_' . $imageID, ['imageID' => $imageID, 'status' => 'compressing'], 60); |
| [1085](#L1085) |  |
| [1086](#L1086) | // Save OLD post meta for restore usage |
| [1087](#L1087) | if (!get\_post\_meta($imageID, 'wpc\_old\_meta')) { |
| [1088](#L1088) | $oldMeta = wp\_get\_attachment\_metadata($imageID); |
| [1089](#L1089) | update\_post\_meta($imageID, 'wpc\_old\_meta', $oldMeta); |
| [1090](#L1090) | } |
| [1091](#L1091) |  |
| [1092](#L1092) | // Prepare the request params |
| [1093](#L1093) | $post\_fields = array( |
| [1094](#L1094) | 'action'     => 'queueSingleImage', |
| [1095](#L1095) | 'imageID'    => $imageID, |
| [1096](#L1096) | 'siteUrl'    => self::$siteUrl, |
| [1097](#L1097) | 'apikey'   => self::$apiParams['apikey'], |
| [1098](#L1098) | 'parameters' => [ |
| [1099](#L1099) | 'maxWidth' => WPS\_IC\_MAXWIDTH, |
| [1100](#L1100) | 'quality'  => self::$apiParams['quality'], |
| [1101](#L1101) | 'retina'   => self::$apiParams['retina'], |
| [1102](#L1102) | 'webp'     => self::$apiParams['webp'] |
| [1103](#L1103) | ], |
| [1104](#L1104) | ); |
| [1105](#L1105) |  |
| [1106](#L1106) | // Notify API to queue to queue the request |
| [1107](#L1107) | $notify = wp\_remote\_post(self::$apiURL . 'queueManager.php', array('timeout' => 60, 'method' => 'POST', 'sslverify' => false, 'body' => $post\_fields, 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0')); |
| [1108](#L1108) |  |
| [1109](#L1109) | if (wp\_remote\_retrieve\_response\_code($notify) == 200) { |
| [1110](#L1110) | // All good, let's wait for queue |
| [1111](#L1111) | wp\_send\_json\_success('waiting-queue'); |
| [1112](#L1112) | } else { |
| [1113](#L1113) | delete\_transient('wps\_ic\_compress\_' . $imageID); |
| [1114](#L1114) | // We were unable to contact API |
| [1115](#L1115) | wp\_send\_json\_error(array('msg' => 'unable-to-contact-api')); |
| [1116](#L1116) | } |
| [1117](#L1117) | } |
| [1118](#L1118) |  |
| [1119](#L1119) | public function compress\_image($imageID, $bulk = true, $retina = true, $webp = true, $just\_thumbs = false, $regenerate = true, $output = 'json') |
| [1120](#L1120) | { |
| [1121](#L1121) | global $wpc\_filesystem; |
| [1122](#L1122) | wp\_raise\_memory\_limit('image'); |
| [1123](#L1123) |  |
| [1124](#L1124) | $bulkStats = get\_transient('wps\_ic\_bulk\_stats'); |
| [1125](#L1125) |  |
| [1126](#L1126) | // Is the image type supported |
| [1127](#L1127) | if (!$this->is\_supported($imageID)) { |
| [1128](#L1128) | if (!$bulk) { |
| [1129](#L1129) | if ($output == 'json') { |
| [1130](#L1130) | wp\_send\_json\_error(array('msg' => 'file-not-supported')); |
| [1131](#L1131) | } else { |
| [1132](#L1132) | return 'file-not-supported'; |
| [1133](#L1133) | } |
| [1134](#L1134) | } |
| [1135](#L1135) |  |
| [1136](#L1136) | return $bulkStats; |
| [1137](#L1137) | } |
| [1138](#L1138) |  |
| [1139](#L1139) | // Is the image already Compressed |
| [1140](#L1140) | if ($this->is\_already\_compressed($imageID)) { |
| [1141](#L1141) | if (!$bulk) { |
| [1142](#L1142) | $media\_library = new wps\_ic\_media\_library\_live(); |
| [1143](#L1143) | $html = $media\_library->compress\_details($imageID); |
| [1144](#L1144) |  |
| [1145](#L1145) | if ($output == 'json') { |
| [1146](#L1146) | wp\_send\_json\_error(array('msg' => 'file-already-compressed', 'imageID' => $imageID, 'html' => $html)); |
| [1147](#L1147) | } else { |
| [1148](#L1148) | return 'file-already-compressed'; |
| [1149](#L1149) | } |
| [1150](#L1150) | } |
| [1151](#L1151) |  |
| [1152](#L1152) | return $bulkStats; |
| [1153](#L1153) | } |
| [1154](#L1154) |  |
| [1155](#L1155) | // Is the image in process |
| [1156](#L1156) | $inProcess = get\_post\_meta($imageID, 'ic\_bulk\_running', true); |
| [1157](#L1157) | if ($inProcess && $inProcess == 'true') { |
| [1158](#L1158) | if ($output == 'json') { |
| [1159](#L1159) | wp\_send\_json\_error(array('msg' => 'file-in-bulk', 'imageID' => $imageID)); |
| [1160](#L1160) | } else { |
| [1161](#L1161) | return 'file-in-bulk'; |
| [1162](#L1162) | } |
| [1163](#L1163) | } |
| [1164](#L1164) |  |
| [1165](#L1165) | set\_transient('wps\_ic\_compress\_' . $imageID, ['imageID' => $imageID, 'status' => 'compressing'], 30); |
| [1166](#L1166) |  |
| [1167](#L1167) | if (!get\_post\_meta($imageID, 'wpc\_old\_meta')) { |
| [1168](#L1168) | $oldMeta = wp\_get\_attachment\_metadata($imageID); |
| [1169](#L1169) | update\_post\_meta($imageID, 'wpc\_old\_meta', $oldMeta); |
| [1170](#L1170) | } |
| [1171](#L1171) |  |
| [1172](#L1172) | $stats = get\_post\_meta($imageID, 'ic\_stats', true); |
| [1173](#L1173) | if (empty($stats) || !$stats) { |
| [1174](#L1174) | $stats = array(); |
| [1175](#L1175) | } |
| [1176](#L1176) |  |
| [1177](#L1177) | $post\_fields = array('action' => 'compressArray', 'imageID' => $imageID, 'siteUrl' => self::$siteUrl, 'maxWidth' => WPS\_IC\_MAXWIDTH, 'apikey' => self::$apiParams['apikey'], 'quality' => self::$apiParams['quality'], 'retina' => self::$apiParams['retina'], 'webp' => self::$apiParams['webp'],); |
| [1178](#L1178) |  |
| [1179](#L1179) | $response = wp\_remote\_post(self::$apiURL, array('timeout' => 60, 'method' => 'POST', 'sslverify' => false, 'body' => $post\_fields, 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0')); |
| [1180](#L1180) |  |
| [1181](#L1181) | if (wp\_remote\_retrieve\_response\_code($response) == 200) { |
| [1182](#L1182) | set\_transient('wps\_ic\_compress\_' . $imageID, 'sent-to-api', 30); |
| [1183](#L1183) |  |
| [1184](#L1184) | $body = wp\_remote\_retrieve\_body($response); |
| [1185](#L1185) | $body = json\_decode($body); |
| [1186](#L1186) |  |
| [1187](#L1187) | if ($body->success == 'true') { |
| [1188](#L1188) | // All good |
| [1189](#L1189) | if ($output == 'json') { |
| [1190](#L1190) | wp\_send\_json\_success(array(self::$apiURL, $post\_fields, $body)); |
| [1191](#L1191) | } else { |
| [1192](#L1192) | return 'done'; |
| [1193](#L1193) | } |
| [1194](#L1194) | } else { |
| [1195](#L1195) | delete\_transient('wps\_ic\_compress\_' . $imageID); |
| [1196](#L1196) |  |
| [1197](#L1197) | // Error? |
| [1198](#L1198) | if ($output == 'json') { |
| [1199](#L1199) | wp\_send\_json\_error(array('msg' => $body->data->msg, 'server' => $body->data->server)); |
| [1200](#L1200) | } else { |
| [1201](#L1201) | return 'done'; |
| [1202](#L1202) | } |
| [1203](#L1203) | } |
| [1204](#L1204) |  |
| [1205](#L1205) | } else { |
| [1206](#L1206) | delete\_transient('wps\_ic\_compress\_' . $imageID); |
| [1207](#L1207) |  |
| [1208](#L1208) | // We were unable to contact API |
| [1209](#L1209) | wp\_send\_json\_error(array('msg' => 'unable-to-contact-api')); |
| [1210](#L1210) | } |
| [1211](#L1211) | } |
| [1212](#L1212) |  |
| [1213](#L1213) | public function debug\_msg($attachmentID, $mesage) |
| [1214](#L1214) | { |
| [1215](#L1215) | if (defined('WPS\_IC\_DEBUG') && WPS\_IC\_DEBUG == 'true') { |
| [1216](#L1216) | $debug\_log = get\_post\_meta($attachmentID, 'ic\_debug', true); |
| [1217](#L1217) | if (!$debug\_log) { |
| [1218](#L1218) | $debug\_log = array(); |
| [1219](#L1219) | } |
| [1220](#L1220) | $debug\_log[] = $mesage; |
| [1221](#L1221) | update\_post\_meta($attachmentID, 'ic\_debug', $debug\_log); |
| [1222](#L1222) | } |
| [1223](#L1223) | } |
| [1224](#L1224) |  |
| [1225](#L1225) | public function generate\_retina($arg) |
| [1226](#L1226) | { |
| [1227](#L1227) | $imageID = $arg; |
| [1228](#L1228) | $return = array(); |
| [1229](#L1229) | $compressed = array(); |
| [1230](#L1230) | $filename = ''; |
| [1231](#L1231) |  |
| [1232](#L1232) | $image = $image\_url = wp\_get\_attachment\_image\_src($imageID, 'full'); |
| [1233](#L1233) | $image\_url = $image\_url[0]; |
| [1234](#L1234) |  |
| [1235](#L1235) | if ($filename == '') { |
| [1236](#L1236) | if (strpos($image\_url, '.jpg') !== false) { |
| [1237](#L1237) | $extension = 'jpg'; |
| [1238](#L1238) | } elseif (strpos($image\_url, '.jpeg') !== false) { |
| [1239](#L1239) | $extension = 'jpeg'; |
| [1240](#L1240) | } elseif (strpos($image\_url, '.gif') !== false) { |
| [1241](#L1241) | $extension = 'gif'; |
| [1242](#L1242) | } elseif (strpos($image\_url, '.png') !== false) { |
| [1243](#L1243) | $extension = 'png'; |
| [1244](#L1244) | } else { |
| [1245](#L1245) | return true; |
| [1246](#L1246) | } |
| [1247](#L1247) | } |
| [1248](#L1248) |  |
| [1249](#L1249) | /\*\* |
| [1250](#L1250) | \* Figure out the actual file path |
| [1251](#L1251) | \*/ |
| [1252](#L1252) | $file\_path = get\_attached\_file($imageID); |
| [1253](#L1253) | $file\_basename = basename($image[0]); |
| [1254](#L1254) | $file\_path = str\_replace($file\_basename, '', $file\_path); |
| [1255](#L1255) |  |
| [1256](#L1256) | foreach ($this->sizes as $i => $size) { |
| [1257](#L1257) | if (empty($image\_url)) { |
| [1258](#L1258) | continue; |
| [1259](#L1259) | } |
| [1260](#L1260) |  |
| [1261](#L1261) | $retinaAPIUrl = self::$apiURL . $image\_url; |
| [1262](#L1262) |  |
| [1263](#L1263) | if ($size == 'full') { |
| [1264](#L1264) | continue; |
| [1265](#L1265) | } else { |
| [1266](#L1266) | $image = image\_get\_intermediate\_size($imageID, $size); |
| [1267](#L1267) | $image\_url = $image['url']; |
| [1268](#L1268) | } |
| [1269](#L1269) |  |
| [1270](#L1270) | if (empty($image['width']) || $image['width'] == '') { |
| [1271](#L1271) | continue; |
| [1272](#L1272) | } |
| [1273](#L1273) |  |
| [1274](#L1274) | $file\_location = $file\_path . basename($image\_url); |
| [1275](#L1275) |  |
| [1276](#L1276) | // Retina File Path |
| [1277](#L1277) | $retina\_file\_location = str\_replace('.' . $extension, '-x2.' . $extension, $file\_location); |
| [1278](#L1278) |  |
| [1279](#L1279) | // Enable Retina |
| [1280](#L1280) | $retinaAPIUrl = str\_replace('r:0', 'r:1', $retinaAPIUrl); |
| [1281](#L1281) | $retinaAPIUrl = str\_replace('w:1', 'w:' . $image['width'], $retinaAPIUrl); |
| [1282](#L1282) |  |
| [1283](#L1283) | $call = wp\_remote\_get($retinaAPIUrl, array('timeout' => 60, 'sslverify' => false, 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0')); |
| [1284](#L1284) |  |
| [1285](#L1285) | if (wp\_remote\_retrieve\_response\_code($call) == 200) { |
| [1286](#L1286) | $body = wp\_remote\_retrieve\_body($call); |
| [1287](#L1287) | if (!empty($body)) { |
| [1288](#L1288) | file\_put\_contents($retina\_file\_location, $body); |
| [1289](#L1289) | clearstatcache(); |
| [1290](#L1290) |  |
| [1291](#L1291) | $stats[$size . '-2x']['compressed']['size'] = filesize($retina\_file\_location); |
| [1292](#L1292) | $compressed[$size . '-2x'] = $retina\_file\_location; |
| [1293](#L1293) | } |
| [1294](#L1294) | } |
| [1295](#L1295) | } |
| [1296](#L1296) |  |
| [1297](#L1297) | if (isset ($stats)) { |
| [1298](#L1298) | $return['stats'] = $stats; |
| [1299](#L1299) | } |
| [1300](#L1300) | $return['compressed'] = $compressed; |
| [1301](#L1301) |  |
| [1302](#L1302) | $stats = get\_post\_meta($imageID, 'ic\_stats', true); |
| [1303](#L1303) |  |
| [1304](#L1304) | if (empty($stats)) { |
| [1305](#L1305) | $stats = array(); |
| [1306](#L1306) | } |
| [1307](#L1307) | if (empty($return['stats'])) { |
| [1308](#L1308) | $return['stats'] = array(); |
| [1309](#L1309) | } |
| [1310](#L1310) |  |
| [1311](#L1311) | $stats = array\_merge($stats, $return['stats']); |
| [1312](#L1312) | update\_post\_meta($imageID, 'ic\_stats', $stats); |
| [1313](#L1313) |  |
| [1314](#L1314) | $compressed = get\_post\_meta($imageID, 'ic\_compressed\_images', true); |
| [1315](#L1315) | $compressed = array\_merge($compressed, $return['compressed']); |
| [1316](#L1316) | update\_post\_meta($imageID, 'ic\_compressed\_images', $compressed); |
| [1317](#L1317) |  |
| [1318](#L1318) | return $return; |
| [1319](#L1319) | } |
| [1320](#L1320) |  |
| [1321](#L1321) | public function regenerate\_thumbnails($imageID) |
| [1322](#L1322) | { |
| [1323](#L1323) | wp\_raise\_memory\_limit('image'); |
| [1324](#L1324) | $thumbs = array(); |
| [1325](#L1325) | $thumbs['total']['old'] = 0; |
| [1326](#L1326) | $thumbs['total']['new'] = 0; |
| [1327](#L1327) |  |
| [1328](#L1328) | if (!function\_exists('wp\_generate\_attachment\_metadata')) { |
| [1329](#L1329) | require\_once ABSPATH . 'wp-admin/includes/image.php'; |
| [1330](#L1330) | } |
| [1331](#L1331) |  |
| [1332](#L1332) | if (!function\_exists('download\_url')) { |
| [1333](#L1333) | require\_once(ABSPATH . "wp-admin" . '/includes/image.php'); |
| [1334](#L1334) | require\_once(ABSPATH . "wp-admin" . '/includes/file.php'); |
| [1335](#L1335) | require\_once(ABSPATH . "wp-admin" . '/includes/media.php'); |
| [1336](#L1336) | } |
| [1337](#L1337) |  |
| [1338](#L1338) | // Get all thumb sizes |
| [1339](#L1339) | $upload\_dir = wp\_get\_upload\_dir(); |
| [1340](#L1340) | $sizes = get\_intermediate\_image\_sizes(); |
| [1341](#L1341) | foreach ($sizes as $i => $size) { |
| [1342](#L1342) | clearstatcache(); |
| [1343](#L1343) | $image = image\_get\_intermediate\_size($imageID, $size); |
| [1344](#L1344) | if (!empty($image) && isset($image['path'])) { |
| [1345](#L1345) | $image['path'] = str\_replace('./', '', $image['path']); |
| [1346](#L1346) | $path = $upload\_dir['basedir'] . '/' . $image['path']; |
| [1347](#L1347) | $thumbs[$size]['old'] = filesize($path); |
| [1348](#L1348) | $thumbs['total']['old'] = $thumbs['total']['old'] + filesize($path); |
| [1349](#L1349) | } else if (!empty($image)) { |
| [1350](#L1350) | $image = str\_replace('./', '', $image); |
| [1351](#L1351) | $path = $upload\_dir['basedir'] . '/' . $image; |
| [1352](#L1352) | $thumbs[$size]['old'] = filesize($path); |
| [1353](#L1353) | $thumbs['total']['old'] = $thumbs['total']['old'] + filesize($path); |
| [1354](#L1354) | } |
| [1355](#L1355) | } |
| [1356](#L1356) |  |
| [1357](#L1357) | add\_filter('jpeg\_quality', function ($arg) { |
| [1358](#L1358) | return 70; |
| [1359](#L1359) | }); |
| [1360](#L1360) |  |
| [1361](#L1361) | foreach ($sizes as $i => $size) { |
| [1362](#L1362) | clearstatcache(); |
| [1363](#L1363) | $image = image\_get\_intermediate\_size($imageID, $size); |
| [1364](#L1364) | if (!empty($image) && isset($image['path'])) { |
| [1365](#L1365) | $image['path'] = str\_replace('./', '', $image['path']); |
| [1366](#L1366) | $path = $upload\_dir['basedir'] . '/' . $image['path']; |
| [1367](#L1367) | $thumbs[$size]['new'] = filesize($path); |
| [1368](#L1368) | $thumbs['total']['new'] = $thumbs['total']['new'] + filesize($path); |
| [1369](#L1369) | } else if (!empty($image)) { |
| [1370](#L1370) | $image = str\_replace('./', '', $image); |
| [1371](#L1371) | $path = $upload\_dir['basedir'] . '/' . $image; |
| [1372](#L1372) | $thumbs[$size]['new'] = filesize($path); |
| [1373](#L1373) | $thumbs['total']['new'] = $thumbs['total']['new'] + filesize($path); |
| [1374](#L1374) | } |
| [1375](#L1375) |  |
| [1376](#L1376) | } |
| [1377](#L1377) |  |
| [1378](#L1378) | update\_post\_meta($imageID, 'ic\_compressed\_thumbs', $thumbs); |
| [1379](#L1379) | } |
| [1380](#L1380) |  |
| [1381](#L1381) | public function restartCompressWorker(){ |
| [1382](#L1382) | // Prepare the request params |
| [1383](#L1383) | $post\_fields = array( |
| [1384](#L1384) | 'action'     => 'restartCompressWorker', |
| [1385](#L1385) | 'apikey'     => self::$apiParams['apikey'], |
| [1386](#L1386) | 'siteurl'    => self::$siteUrl, |
| [1387](#L1387) | ); |
| [1388](#L1388) |  |
| [1389](#L1389) | // Notify API to queue to queue the request |
| [1390](#L1390) | $notify = wp\_remote\_post( self::$apiURL, [ |
| [1391](#L1391) | 'timeout'    => 90, |
| [1392](#L1392) | 'blocking'   => true, |
| [1393](#L1393) | 'body'       => $post\_fields, |
| [1394](#L1394) | 'sslverify'  => |
| [1395](#L1395) | false, |
| [1396](#L1396) | 'user-agent' => WPS\_IC\_API\_USERAGENT |
| [1397](#L1397) | ] ); |
| [1398](#L1398) | } |
| [1399](#L1399) |  |
| [1400](#L1400) | public function restartRestoreWorker(){ |
| [1401](#L1401) | // Prepare the request params |
| [1402](#L1402) | $post\_fields = array( |
| [1403](#L1403) | 'action'     => 'restartRestoreWorker', |
| [1404](#L1404) | 'apikey'     => self::$apiParams['apikey'], |
| [1405](#L1405) | 'siteurl'    => self::$siteUrl, |
| [1406](#L1406) | ); |
| [1407](#L1407) |  |
| [1408](#L1408) | // Notify API to queue to queue the request |
| [1409](#L1409) | $notify = wp\_remote\_post( self::$apiURL, [ |
| [1410](#L1410) | 'timeout'    => 90, |
| [1411](#L1411) | 'blocking'   => true, |
| [1412](#L1412) | 'body'       => $post\_fields, |
| [1413](#L1413) | 'sslverify'  => |
| [1414](#L1414) | false, |
| [1415](#L1415) | 'user-agent' => WPS\_IC\_API\_USERAGENT |
| [1416](#L1416) | ] ); |
| [1417](#L1417) | } |
| [1418](#L1418) |  |
| [1419](#L1419) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/wp-compress-image-optimizer/tags/6.10.35/addons/legacy/compress.php?format=txt)
* [Original Format](/export/3220653/wp-compress-image-optimizer/tags/6.10.35/addons/legacy/compress.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_103d34b1_20250111_101230.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# WP Compress – Image Optimizer <= 6.11.08 - Missing Authorization to Unauthenticated CDN Modification

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   WP Compress – Image Optimizer <= 6.11.08 - Missing Authorization to Unauthenticated CDN Modification

7.5

**Missing Authorization**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:H/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:H/A:N)

| CVE | [CVE-2024-1934](https://www.cve.org/CVERecord?id=CVE-2024-1934) |
| --- | --- |
| CVSS | 7.5 (High) |
| Publicly Published | March 21, 2024 |
| Last Updated | July 31, 2024 |
| Researcher | [Krzysztof Zając - CERT PL](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/krzysztof-zajac) |

### Description

The WP Compress – Image Optimizer plugin for WordPress is vulnerable to unauthorized modification of data due to a missing capability check on the 'wps\_local\_compress::\_\_construct' function in all versions up to, and including, 6.11.10. This makes it possible for unauthenticated attackers to reset the CDN region and set a malicious URL to deliver images.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/wp-compress-image-optimizer/tags/6.10.35/addons/legacy/compress.php)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&new=3054445@wp-compress-image-optimizer/trunk&old=3048575@wp-compress-image-optimizer/trunk&sfp_email=&sfph_mail=#file2)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-compress-image-optimizer%2Fwp-compress-image-optimizer-61110-missing-authorization-to-unauthenticated-cdn-modification&t=WP%20Compress%20%E2%80%93%20Image%20Optimizer%20%3C%3D%206.11.08%20-%20Missing%20Authorization%20to%20Unauthenticated%20CDN%20Modification "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-compress-image-optimizer%2Fwp-compress-image-optimizer-61110-missing-authorization-to-unauthenticated-cdn-modification&text=WP%20Compress%20%E2%80%93%20Image%20Optimizer%20%3C%3D%206.11.08%20-%20Missing%20Authorization%20to%20Unauthenticated%20CDN%20Modification "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-compress-image-optimizer%2Fwp-compress-image-optimizer-61110-missing-authorization-to-unauthenticated-cdn-modification "LinkedIn")
Email

## Vulnerability Details for WP Compress – Instant Performance & Speed Optimization

#### [WP Compress – Instant Performance & Speed Optimization](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/wp-compress-image-optimizer)

| Software Type | Plugin |
| --- | --- |
| Software Slug | wp-compress-image-optimizer [(view on wordpress.org)](https://wordpress.org/plugins/wp-compress-image-optimizer) |
| Patched? | Yes |
| Remediation | Update to version 6.11.11, or a newer patched version |
| Affected Version | * <= 6.11.10 |
| Patched Version | * 6.11.11 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_448dc58f_20250111_101229.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3054445%2540wp-compress-image-optimizer%252Ftrunk%26old%3D3048575%2540wp-compress-image-optimizer%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3048575/wp-compress-image-optimizer/trunk?old=3054445&old_path=%2Fwp-compress-image-optimizer%2Ftrunk)

---

# Changes in [wp-compress-image-optimizer/trunk](/browser/wp-compress-image-optimizer/trunk?rev=3054445 "Show entry in browser") [[3048575:3054445]](/log/wp-compress-image-optimizer/trunk?rev=3054445&stop_rev=3048575 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[wp-compress-image-optimizer/trunk](/browser/wp-compress-image-optimizer/trunk?rev=3054445)
Files:

2 added
29 edited

* [addons/cdn/cdn-rewrite.php](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445 "Show entry in browser")
  (modified)
  ([30 diffs](#file0 "Show differences"))
* [addons/cdn/rewriteLogic.php](/browser/wp-compress-image-optimizer/trunk/addons/cdn/rewriteLogic.php?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [addons/legacy/compress.php](/browser/wp-compress-image-optimizer/trunk/addons/legacy/compress.php?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [assets/js/admin/charts/chartsjs.min.js](/browser/wp-compress-image-optimizer/trunk/assets/js/admin/charts/chartsjs.min.js?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [assets/js/admin/charts/chartsjs.min.min.js](/browser/wp-compress-image-optimizer/trunk/assets/js/admin/charts/chartsjs.min.min.js?rev=3054445 "Show entry in browser")
  (added)
* [assets/js/connect.js](/browser/wp-compress-image-optimizer/trunk/assets/js/connect.js?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [assets/js/connect.min.js](/browser/wp-compress-image-optimizer/trunk/assets/js/connect.min.js?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [assets/js/inlined-delay.js](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3054445 "Show entry in browser")
  (modified)
  ([5 diffs](#file7 "Show differences"))
* [assets/js/inlined-delay.min.js](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.min.js?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [assets/tooltip/js/tooltipster.bundle.js](/browser/wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.js?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [assets/tooltip/js/tooltipster.bundle.min.js](/browser/wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.min.js?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file10 "Show differences"))
* [assets/v4/css/style.css](/browser/wp-compress-image-optimizer/trunk/assets/v4/css/style.css?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [assets/v4/css/style.less](/browser/wp-compress-image-optimizer/trunk/assets/v4/css/style.less?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file12 "Show differences"))
* [classes/ajax.class.php](/browser/wp-compress-image-optimizer/trunk/classes/ajax.class.php?rev=3054445 "Show entry in browser")
  (modified)
  ([3 diffs](#file13 "Show differences"))
* [classes/combine\_css.class.php](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3054445 "Show entry in browser")
  (modified)
  ([6 diffs](#file14 "Show differences"))
* [classes/enqueues.class.php](/browser/wp-compress-image-optimizer/trunk/classes/enqueues.class.php?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [classes/gui-v4.class.php](/browser/wp-compress-image-optimizer/trunk/classes/gui-v4.class.php?rev=3054445 "Show entry in browser")
  (modified)
  ([2 diffs](#file16 "Show differences"))
* [classes/js\_delay.class.php](/browser/wp-compress-image-optimizer/trunk/classes/js_delay.class.php?rev=3054445 "Show entry in browser")
  (modified)
  ([3 diffs](#file17 "Show differences"))
* [classes/options.class.php](/browser/wp-compress-image-optimizer/trunk/classes/options.class.php?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))
* [classes/requests.class.php](/browser/wp-compress-image-optimizer/trunk/classes/requests.class.php?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file19 "Show differences"))
* [readme.txt](/browser/wp-compress-image-optimizer/trunk/readme.txt?rev=3054445 "Show entry in browser")
  (modified)
  ([2 diffs](#file20 "Show differences"))
* [templates/admin/advanced\_settings\_v4.php](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445 "Show entry in browser")
  (modified)
  ([10 diffs](#file21 "Show differences"))
* [templates/admin/partials/footer-scripts.php](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/footer-scripts.php?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file22 "Show differences"))
* [templates/admin/partials/popups/exclude-inline-css.php](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/popups/exclude-inline-css.php?rev=3054445 "Show entry in browser")
  (added)
* [templates/admin/partials/v4/chart.php](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/chart.php?rev=3054445 "Show entry in browser")
  (modified)
  ([3 diffs](#file24 "Show differences"))
* [templates/admin/partials/v4/footer-scripts.php](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/footer-scripts.php?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file25 "Show differences"))
* [templates/admin/selectModes/popup.php](/browser/wp-compress-image-optimizer/trunk/templates/admin/selectModes/popup.php?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file26 "Show differences"))
* [templates/notices/connect\_api\_message.php](/browser/wp-compress-image-optimizer/trunk/templates/notices/connect_api_message.php?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file27 "Show differences"))
* [traits/excludes.php](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3054445 "Show entry in browser")
  (modified)
  ([9 diffs](#file28 "Show differences"))
* [wp-compress-core.php](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3054445 "Show entry in browser")
  (modified)
  ([7 diffs](#file29 "Show differences"))
* [wp-compress.php](/browser/wp-compress-image-optimizer/trunk/wp-compress.php?rev=3054445 "Show entry in browser")
  (modified)
  ([1 diff](#file30 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php](/changeset/3054445/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Faddons%2Fcdn%2Fcdn-rewrite.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L84 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L84 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 84 | 84 | public static $combineCss; |
  | 85 | 85 | public static $page\_excludes; |
  | 86 |  | public static $post\_id; |
  |  | 86 | public static $post\_id; |
  | 87 | 87 | public static $page\_excludes\_files; |
  | 88 |  | ~~private static $isAmp;~~ |
  | 89 | 88 | public static $isActive; |
  | 90 | 89 | public static $wpcPreloadLinks; |
  |  | 90 | private static $isAmp; |
  | 91 | 91 |  |
  | 92 | 92 | public function \_\_construct() { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L135) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L135) |  |
  | 135 | 135 | } |
  | 136 | 136 | } |
  | 137 |  | ~~}~~ |
  | 138 |  |  |
  | 139 |  |  |
  | 140 |  | ~~public function isActive() {~~ |
  | 141 |  | ~~return self::$isActive;~~ |
  | 142 | 137 | } |
  | 143 | 138 |  |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L295) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L290) |  |
  | 295 | 290 | } |
  | 296 | 291 |  |
  |  | 292 | public function isActive() { |
  |  | 293 | return self::$isActive; |
  |  | 294 | } |
  | 297 | 295 |  |
  | 298 | 296 | function add\_scripts\_inline($tag, $handle, $src) { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L653) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L651) |  |
  | 653 | 651 | $content = file\_get\_contents($href); |
  | 654 | 652 | $content = self::$combineCss->minifyCSS($content); |
  | 655 |  | $return = '<style id="inline-css-'~~.mt\_rand(999,9999).~~'">'; |
  |  | 653 | $return = '<style id="inline-css-' . mt\_rand(999, 9999) . '">'; |
  | 656 | 654 | $return .= $content; |
  | 657 | 655 | $return .= '</style>'; |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L848) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L846) |  |
  | 848 | 846 | } |
  | 849 | 847 |  |
  | 850 |  | $html = preg\_replace\_callback('/<head>(.\*?)<\/head>/si', [$this, 'injectPreloadImages'], $html); |
  |  | 848 | if (!empty($\_GET['debug\_preload\_inject'])){ |
  |  | 849 | $dbg = 'Before:'; |
  |  | 850 | $dbg .= $html; |
  |  | 851 | } |
  |  | 852 |  |
  |  | 853 | $html = preg\_replace\_callback('/<head>/si', [$this, 'injectPreloadImages'], $html); |
  |  | 854 |  |
  |  | 855 | if (!empty($\_GET['debug\_preload\_inject'])){ |
  |  | 856 | $dbg .= 'After:'; |
  |  | 857 | $dbg .= $html; |
  |  | 858 | return $dbg; |
  |  | 859 | } |
  | 851 | 860 |  |
  | 852 | 861 | $combine\_css = new wps\_ic\_combine\_css(); |
  | 853 |  | if (!empty($\_GET['criticalCombine']) || ($this->doCacheCombine() && (isset(self::$settings['css\_combine']) && |
  | 854 |  | self::$settings['css\_combine'] == '1'))) { |
  | 855 |  | if (empty($\_GET['stopCombineCSS'])) { |
  | 856 |  | $html = $combine\_css->maybe\_do\_combine($html); |
  | 857 |  | } |
  | 858 |  | } |
  | 859 |  |  |
  | 860 |  | // Critical CSS Remove from Header |
  | 861 |  | $criticalActive = ! ( isset( self::$page\_excludes['critical\_css'] ) && self::$page\_excludes['critical\_css'] == '0' ) && |
  | 862 |  | ( ( isset( self::$settings['critical']['css'] ) && self::$settings['critical']['css'] == '1' ) || |
  | 863 |  | ( isset( self::$page\_excludes['critical\_css'] ) && self::$page\_excludes['critical\_css'] == '1' ) ); |
  | 864 |  |  |
  | 865 |  | $criticalCSS       = new wps\_criticalCss(); |
  | 866 |  | $criticalCSSExists = $criticalCSS->criticalExists(); |
  | 867 |  |  |
  | 868 |  | if ((empty($\_GET['disableCritical']) && empty($\_GET['generateCriticalAPI'])) && empty($\_GET['criticalCombine'])) { |
  | 869 |  | if ( ! is\_user\_logged\_in() && ! is\_admin\_bar\_showing() ) { |
  | 870 |  |  |
  | 871 |  | if ( $criticalActive && ! self::$preloaderAPI ) { |
  | 872 |  | global $post; |
  | 873 |  |  |
  | 874 |  | if ( ! empty( $\_GET['forceCriticalAjax'] ) ) { |
  | 875 |  | $html = self::$rewriteLogic->runCriticalAjax( $html ); |
  | 876 |  | } else { |
  | 877 |  | if ( empty( $criticalCSSExists ) ) { |
  | 878 |  | $criticalRunning = $criticalCSS->criticalRunning(); |
  | 879 |  | if ( ! $criticalRunning ) { |
  | 880 |  | set\_transient( 'wpc\_critical\_ajax\_' . md5( $\_SERVER['REQUEST\_URI'] ), date( 'd.m.Y H:i:s' ), 60 \* 5 ); |
  | 881 |  | $html = self::$rewriteLogic->runCriticalAjax( $html ); |
  | 882 |  | } |
  | 883 |  | } |
  | 884 |  |  |
  | 885 |  | } |
  | 886 |  | } |
  | 887 |  |  |
  | 888 |  | } |
  | 889 |  | } |
  | 890 |  |  |
  | 891 |  | if (empty($\_GET['criticalCombine'])) { |
  | 892 |  | if (isset(self::$settings['inline-css']) && self::$settings['inline-css'] == '1') { |
  | 893 |  | // TODO: Maybe add something? |
  | 894 |  | if($criticalActive && !empty($criticalCSSExists)) { |
  | 895 |  | //critical exists, dont inline |
  | 896 |  | } else { |
  | 897 |  | $html = $combine\_css->doInline($html); |
  | 898 |  | } |
  | 899 |  | } else { |
  | 900 |  |  |
  | 901 |  | //Combine CSS |
  | 902 |  | if (($this->doCacheCombine() && (isset(self::$settings['css\_combine']) && self::$settings['css\_combine'] == '1')) || $this->criticalCombine) { |
  | 903 |  | if (empty($\_GET['stopCombineCSS'])) { |
  | 904 |  | $html = $combine\_css->maybe\_do\_combine($html); |
  | 905 |  | } |
  | 906 |  | } |
  | 907 |  |  |
  | 908 |  | } |
  | 909 |  | } |
  | 910 |  |  |
  | 911 |  | if ((empty($\_GET['disableCritical']) && empty($\_GET['generateCriticalAPI'])) && empty($\_GET['criticalCombine'])) { |
  | 912 |  | if ( ! is\_user\_logged\_in() && ! is\_admin\_bar\_showing() ) { |
  | 913 |  | if (!empty($\_GET['debugCriticalRunning'])) { |
  | 914 |  | $html .= print\_r(array(self::$settings['critical']['css'], $criticalCSSExists, $criticalRunning), true); |
  | 915 |  | } |
  | 916 |  |  |
  | 917 |  |  |
  | 918 |  | if (!empty($\_GET['debugCritical\_replace'])) { |
  | 919 |  | #global $post; |
  | 920 |  | $criticalCSS = new wps\_criticalCss(); |
  | 921 |  | $criticalCSSExists = $criticalCSS->criticalExists(); |
  | 922 |  | $criticalCSSContent = file\_get\_contents($criticalCSSExists['file']); |
  | 923 |  | return print\_r(array('critActive:' => $criticalActive, 'preloadApi' => self::$preloaderAPI, 'excluded' => self::isURLExcluded('critical\_css'), $criticalCSSExists, $criticalCSSContent), true); |
  | 924 |  | } |
  | 925 |  |  |
  | 926 |  | if (!empty($\_GET['testCritical'])) { |
  | 927 |  | self::$settings['critical']['css'] = '1'; |
  | 928 |  | $html = self::$rewriteLogic->lazyCSS($html); |
  | 929 |  | $html = self::$rewriteLogic->addCritical($html); |
  | 930 |  | } |
  | 931 |  |  |
  | 932 |  | if ($criticalActive && !self::$preloaderAPI) { |
  | 933 |  |  |
  | 934 |  | if (!self::isURLExcluded('critical\_css')) { |
  | 935 |  |  |
  | 936 |  | #global $post; |
  | 937 |  | $criticalCSS = new wps\_criticalCss(); |
  | 938 |  | $criticalCSSExists = $criticalCSS->criticalExists(); |
  | 939 |  |  |
  | 940 |  | if (!empty($criticalCSSExists)) { |
  | 941 |  | $html = self::$rewriteLogic->lazyCSS($html); |
  | 942 |  | $html = self::$rewriteLogic->addCritical($html); |
  | 943 |  | } else { |
  | 944 |  | //this way should be ok for multisite |
  | 945 |  | } |
  | 946 |  | } |
  | 947 |  | } |
  | 948 |  | } |
  | 949 |  | } |
  | 950 |  |  |
  | 951 |  | //Delay JS |
  | 952 |  | if (empty($\_GET['disableDelay']) && empty($\_GET['criticalCombine'])) { |
  | 953 |  | $js\_delay = new wps\_ic\_js\_delay(); |
  | 954 |  |  |
  | 955 |  | $delayActive = ! ( isset( self::$page\_excludes['delay\_js'] ) && self::$page\_excludes['delay\_js'] == '0' ) && |
  | 956 |  | ( ( isset( self::$settings['delay-js'] ) && self::$settings['delay-js'] == '1' ) || |
  | 957 |  | ( isset( self::$page\_excludes['delay\_js'] ) && self::$page\_excludes['delay\_js'] == '1' ) ); |
  | 958 |  |  |
  | 959 |  | if ( empty( $\_GET['disableCritical'] ) && $delayActive && ! current\_user\_can( 'manage\_options' ) && ! self::$delay\_js\_override && ! self::$preloaderAPI ) { |
  | 960 |  | $html = preg\_replace\_callback( '/<script[^>]\*src=[\'"]([^\'"]+)[\'"][^>]\*>/si', [$js\_delay, 'preload\_scripts'], $html ); |
  | 961 |  | $html = preg\_replace\_callback( '/<script\b[^>]\*>(.\*?)<\/script>/si', [$js\_delay, 'delay\_script\_replace'], $html ); |
  | 962 |  | } else { |
  | 963 |  | $html = preg\_replace\_callback( '/<script\b[^>]\*>(.\*?)<\/script>/si', [ $js\_delay, 'removeNoDelay' ], $html ); |
  | 964 |  | } |
  | 965 |  | } |
  |  | 862 | if (!empty($\_GET['criticalCombine']) || ($this->doCacheCombine() && (isset(self::$settings['css\_combine']) && self::$settings['css\_combine'] == '1'))) { |
  |  | 863 | if (empty($\_GET['stopCombineCSS'])) { |
  |  | 864 | $html = $combine\_css->maybe\_do\_combine($html); |
  |  | 865 | } |
  |  | 866 | } |
  |  | 867 |  |
  |  | 868 | // Critical CSS Remove from Header |
  |  | 869 | $criticalActive = !(isset(self::$page\_excludes['critical\_css']) && self::$page\_excludes['critical\_css'] == '0') && ((isset(self::$settings['critical']['css']) && self::$settings['critical']['css'] == '1') || (isset(self::$page\_excludes['critical\_css']) && self::$page\_excludes['critical\_css'] == '1')); |
  |  | 870 |  |
  |  | 871 | $criticalCSS = new wps\_criticalCss(); |
  |  | 872 | $criticalCSSExists = $criticalCSS->criticalExists(); |
  |  | 873 |  |
  |  | 874 | if ((empty($\_GET['disableCritical']) && empty($\_GET['generateCriticalAPI'])) && empty($\_GET['criticalCombine'])) { |
  |  | 875 | if (!is\_user\_logged\_in() && !is\_admin\_bar\_showing()) { |
  |  | 876 |  |
  |  | 877 | if ($criticalActive && !self::$preloaderAPI) { |
  |  | 878 | global $post; |
  |  | 879 |  |
  |  | 880 | if (!empty($\_GET['forceCriticalAjax'])) { |
  |  | 881 | $html = self::$rewriteLogic->runCriticalAjax($html); |
  |  | 882 | } else { |
  |  | 883 | if (empty($criticalCSSExists)) { |
  |  | 884 | $criticalRunning = $criticalCSS->criticalRunning(); |
  |  | 885 | if (!$criticalRunning) { |
  |  | 886 | set\_transient('wpc\_critical\_ajax\_' . md5($\_SERVER['REQUEST\_URI']), date('d.m.Y H:i:s'), 60 \* 5); |
  |  | 887 | $html = self::$rewriteLogic->runCriticalAjax($html); |
  |  | 888 | } |
  |  | 889 | } |
  |  | 890 |  |
  |  | 891 | } |
  |  | 892 | } |
  |  | 893 |  |
  |  | 894 | } |
  |  | 895 | } |
  |  | 896 |  |
  |  | 897 | if (empty($\_GET['criticalCombine'])) { |
  |  | 898 | if (isset(self::$settings['inline-css']) && self::$settings['inline-css'] == '1') { |
  |  | 899 | // TODO: Maybe add something? |
  |  | 900 | if ($criticalActive && !empty($criticalCSSExists)) { |
  |  | 901 | //critical exists, dont inline |
  |  | 902 | } else { |
  |  | 903 | $html = $combine\_css->doInline($html); |
  |  | 904 | } |
  |  | 905 | } else { |
  |  | 906 |  |
  |  | 907 | //Combine CSS |
  |  | 908 | if (($this->doCacheCombine() && (isset(self::$settings['css\_combine']) && self::$settings['css\_combine'] == '1')) || $this->criticalCombine) { |
  |  | 909 | if (empty($\_GET['stopCombineCSS'])) { |
  |  | 910 | $html = $combine\_css->maybe\_do\_combine($html); |
  |  | 911 | } |
  |  | 912 | } |
  |  | 913 |  |
  |  | 914 | } |
  |  | 915 | } |
  |  | 916 |  |
  |  | 917 | if ((empty($\_GET['disableCritical']) && empty($\_GET['generateCriticalAPI'])) && empty($\_GET['criticalCombine'])) { |
  |  | 918 | if (!is\_user\_logged\_in() && !is\_admin\_bar\_showing()) { |
  |  | 919 | if (!empty($\_GET['debugCriticalRunning'])) { |
  |  | 920 | $html .= print\_r(array(self::$settings['critical']['css'], $criticalCSSExists, $criticalRunning), true); |
  |  | 921 | } |
  |  | 922 |  |
  |  | 923 |  |
  |  | 924 | if (!empty($\_GET['debugCritical\_replace'])) { |
  |  | 925 | #global $post; |
  |  | 926 | $criticalCSS = new wps\_criticalCss(); |
  |  | 927 | $criticalCSSExists = $criticalCSS->criticalExists(); |
  |  | 928 | $criticalCSSContent = file\_get\_contents($criticalCSSExists['file']); |
  |  | 929 | return print\_r(array('critActive:' => $criticalActive, 'preloadApi' => self::$preloaderAPI, 'excluded' => self::isURLExcluded('critical\_css'), $criticalCSSExists, $criticalCSSContent), true); |
  |  | 930 | } |
  |  | 931 |  |
  |  | 932 | if (!empty($\_GET['testCritical'])) { |
  |  | 933 | self::$settings['critical']['css'] = '1'; |
  |  | 934 | $html = self::$rewriteLogic->lazyCSS($html); |
  |  | 935 | $html = self::$rewriteLogic->addCritical($html); |
  |  | 936 | } |
  |  | 937 |  |
  |  | 938 | if ($criticalActive && !self::$preloaderAPI) { |
  |  | 939 |  |
  |  | 940 | if (!self::isURLExcluded('critical\_css')) { |
  |  | 941 |  |
  |  | 942 | #global $post; |
  |  | 943 | $criticalCSS = new wps\_criticalCss(); |
  |  | 944 | $criticalCSSExists = $criticalCSS->criticalExists(); |
  |  | 945 |  |
  |  | 946 | if (!empty($criticalCSSExists)) { |
  |  | 947 | $html = self::$rewriteLogic->lazyCSS($html); |
  |  | 948 | $html = self::$rewriteLogic->addCritical($html); |
  |  | 949 | } else { |
  |  | 950 | //this way should be ok for multisite |
  |  | 951 | } |
  |  | 952 | } |
  |  | 953 | } |
  |  | 954 | } |
  |  | 955 | } |
  |  | 956 |  |
  |  | 957 | //Delay JS |
  |  | 958 | if (empty($\_GET['disableDelay']) && empty($\_GET['criticalCombine'])) { |
  |  | 959 | $js\_delay = new wps\_ic\_js\_delay(); |
  |  | 960 |  |
  |  | 961 | $delayActive = !(isset(self::$page\_excludes['delay\_js']) && self::$page\_excludes['delay\_js'] == '0') && ((isset(self::$settings['delay-js']) && self::$settings['delay-js'] == '1') || (isset(self::$page\_excludes['delay\_js']) && self::$page\_excludes['delay\_js'] == '1')); |
  |  | 962 |  |
  |  | 963 | if (empty($\_GET['disableCritical']) && $delayActive && !current\_user\_can('manage\_options') && !self::$delay\_js\_override && !self::$preloaderAPI) { |
  |  | 964 | $html = preg\_replace\_callback('/<script[^>]\*src=[\'"]([^\'"]+)[\'"][^>]\*>/si', [$js\_delay, 'preload\_scripts'], $html); |
  |  | 965 | $html = preg\_replace\_callback('/<script\b[^>]\*>(.\*?)<\/script>/si', [$js\_delay, 'delay\_script\_replace'], $html); |
  |  | 966 | } else { |
  |  | 967 | $html = preg\_replace\_callback('/<script\b[^>]\*>(.\*?)<\/script>/si', [$js\_delay, 'removeNoDelay'], $html); |
  |  | 968 | } |
  |  | 969 | } |
  | 966 | 970 |  |
  | 967 | 971 | // Cache |
  | 968 |  | $cacheActive = !(isset(self::$page\_excludes['advanced\_cache']) && self::$page\_excludes['advanced\_cache'] == '0') && |
  | 969 |  | ((isset(self::$settings['cache']['advanced']) && self::$settings['cache']['advanced'] == '1') || |
  | 970 |  | (isset(self::$page\_excludes['advanced\_cache']) && self::$page\_excludes['advanced\_cache'] == '1')); |
  | 971 |  |  |
  | 972 |  |  |
  | 973 |  | if ($cacheActive) { |
  |  | 972 | $cacheActive = !(isset(self::$page\_excludes['advanced\_cache']) && self::$page\_excludes['advanced\_cache'] == '0') && ((isset(self::$settings['cache']['advanced']) && self::$settings['cache']['advanced'] == '1') || (isset(self::$page\_excludes['advanced\_cache']) && self::$page\_excludes['advanced\_cache'] == '1')); |
  |  | 973 |  |
  |  | 974 |  |
  |  | 975 | /\* |
  |  | 976 | if ($cacheActive) { |
  | 974 | 977 | if ((!self::isExcludedFromCache($html) && $this->doCacheCombine())) { |
  | 975 | 978 | if (!self::is\_mobile()) { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L980) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L983) |  |
  | 980 | 983 | } |
  | 981 | 984 | } |
  |  | 985 | \*/ |
  | 982 | 986 |  |
  | 983 | 987 | return $html; |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L1055) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L1059) |  |
  | 1055 | 1059 | } |
  | 1056 | 1060 |  |
  | 1057 |  | if (!empty($\_GET['pagelayer-live'])) { |
  | 1058 |  | return true; |
  | 1059 |  | } |
  |  | 1061 | if (!empty($\_GET['pagelayer-live'])) { |
  |  | 1062 | return true; |
  |  | 1063 | } |
  | 1060 | 1064 |  |
  | 1061 | 1065 | // Any hide login plugins active? |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L1123) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L1127) |  |
  | 1123 | 1127 | return false; |
  | 1124 | 1128 | } |
  |  | 1129 |  |
  |  | 1130 | if (!empty($\_POST['add-to-cart'])) { |
  |  | 1131 | //woo on some themes slow add to cart fix |
  |  | 1132 | return false; |
  |  | 1133 | } |
  | 1125 | 1134 |  |
  | 1126 | 1135 | if (!empty($\_GET['wc-ajax']) && $\_GET['wc-ajax'] == 'get\_refreshed\_fragments') { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L1225) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L1234) |  |
  | 1225 | 1234 | 'tatsu-footer', //tatsu-footer |
  | 1226 | 1235 | 'tve', //thrive |
  | 1227 |  | 'pagelayer-live' |
  | 1228 |  | ]; |
  |  | 1236 | 'pagelayer-live']; |
  | 1229 | 1237 |  |
  | 1230 | 1238 | if (isset($\_SERVER['REQUEST\_URI']) && strpos($\_SERVER['REQUEST\_URI'], 'cornerstone') !== false) { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L1386) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L1394) |  |
  | 1386 | 1394 | } |
  | 1387 | 1395 |  |
  |  | 1396 |  |
  |  | 1397 | public function checkCache\_plugins\_loaded() { |
  |  | 1398 | if (!empty($\_GET['disableCache']) || !empty($\_GET['forceRecombine'])) { |
  |  | 1399 | return true; |
  |  | 1400 | } |
  |  | 1401 |  |
  |  | 1402 | if (!empty($\_GET['dbg\_checkCache'])) { |
  |  | 1403 | die('Check cache'); |
  |  | 1404 | } |
  |  | 1405 |  |
  |  | 1406 | if (self::dontRunif()) { |
  |  | 1407 | /\*\* |
  |  | 1408 | \* Check for cache first |
  |  | 1409 | \*/ |
  |  | 1410 |  |
  |  | 1411 | if (!empty($\_GET['dontRunCache'])) { |
  |  | 1412 | die('Check cache 23'); |
  |  | 1413 | } |
  |  | 1414 |  |
  |  | 1415 | $isUserLoggedIn = is\_user\_logged\_in(); |
  |  | 1416 | if ($isUserLoggedIn) return; |
  |  | 1417 |  |
  |  | 1418 | $cache = new wps\_cacheHtml(); |
  |  | 1419 | if ($cache->cacheEnabled()) { |
  |  | 1420 |  |
  |  | 1421 | if (!empty($\_GET['cacheDbg2'])) { |
  |  | 1422 | die('x'); |
  |  | 1423 | } |
  |  | 1424 |  |
  |  | 1425 | $mobile = self::is\_mobile(); |
  |  | 1426 | $prefix = ''; |
  |  | 1427 | if ($mobile) $prefix = 'mobile'; |
  |  | 1428 | if ($cache->cacheExists($prefix)) { |
  |  | 1429 | $isCacheExpired = false; |
  |  | 1430 |  |
  |  | 1431 | // Not required as get cache sorts this |
  |  | 1432 | $isCacheValid = true; |
  |  | 1433 |  |
  |  | 1434 | if (!$isCacheExpired && $isCacheValid) { |
  |  | 1435 | $cache->getCache($prefix); |
  |  | 1436 | die(); |
  |  | 1437 | } |
  |  | 1438 |  |
  |  | 1439 | } else { |
  |  | 1440 | ob\_start([$this, 'saveCache']); |
  |  | 1441 | } |
  |  | 1442 | } |
  |  | 1443 |  |
  |  | 1444 | } |
  |  | 1445 | } |
  |  | 1446 |  |
  |  | 1447 |  |
  | 1388 | 1448 | public function buffer\_callback\_v3() { |
  | 1389 | 1449 |  |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L1455) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L1515) |  |
  | 1455 | 1515 | self::$excludes = get\_option('wpc-excludes'); |
  | 1456 | 1516 |  |
  | 1457 |  | ~~if (empty(self::$excludes['cdn']))~~{ |
  | 1458 |  | self::$excludes['cdn'] = []; |
  | 1459 |  | } |
  | 1460 |  | self::$excludes['cdn'][] = '.php'; //pagelayer .php requests fix |
  | 1461 |  | self::$excludes['cdn'][] = '/wp-fastest-cache/'; //icon in admin bugfix |
  |  | 1517 | if (empty(self::$excludes['cdn'])) { |
  |  | 1518 | self::$excludes['cdn'] = []; |
  |  | 1519 | } |
  |  | 1520 | self::$excludes['cdn'][] = '.php'; //pagelayer .php requests fix |
  |  | 1521 | self::$excludes['cdn'][] = '/wp-fastest-cache/'; //icon in admin bugfix |
  | 1462 | 1522 |  |
  | 1463 | 1523 | self::$excludes\_class = new wps\_ic\_excludes(); |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L1469) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L1529) |  |
  | 1469 | 1529 | self::$settings = $this->compatibility->check(self::$settings); |
  | 1470 | 1530 |  |
  | 1471 |  | if ($this->is\_home\_url()) { |
  | 1472 |  | self::$post\_id = 'home'; |
  | 1473 |  | self::$page\_excludes = isset(self::$excludes['page\_excludes']['home']) ? self::$excludes['page\_excludes']['home'] : array(); |
  | 1474 |  | self::$page\_excludes\_files = isset(self::$excludes['page\_excludes\_files']['home']) ? self::$excludes['page\_excludes\_files']['home'] : array(); |
  | 1475 |  | } elseif (!empty(get\_queried\_object\_id())) { |
  | 1476 |  | self::$post\_id = get\_queried\_object\_id(); |
  | 1477 |  | ~~self::$page\_excludes = isset(self::$excludes['page\_excludes'][self::$post\_id ]) ? self::$excludes['page\_excludes'][self::$post\_id~~ ] : array(); |
  | 1478 |  | ~~self::$page\_excludes\_files = isset(self::$excludes['page\_excludes\_files'][self::$post\_id ]) ? self::$excludes['page\_excludes\_files'][self::$post\_id~~ ] : array(); |
  |  | 1531 | if ($this->is\_home\_url()) { |
  |  | 1532 | self::$post\_id = 'home'; |
  |  | 1533 | self::$page\_excludes = isset(self::$excludes['page\_excludes']['home']) ? self::$excludes['page\_excludes']['home'] : array(); |
  |  | 1534 | self::$page\_excludes\_files = isset(self::$excludes['page\_excludes\_files']['home']) ? self::$excludes['page\_excludes\_files']['home'] : array(); |
  |  | 1535 | } elseif (!empty(get\_queried\_object\_id())) { |
  |  | 1536 | self::$post\_id = get\_queried\_object\_id(); |
  |  | 1537 | self::$page\_excludes = isset(self::$excludes['page\_excludes'][self::$post\_id]) ? self::$excludes['page\_excludes'][self::$post\_id] : array(); |
  |  | 1538 | self::$page\_excludes\_files = isset(self::$excludes['page\_excludes\_files'][self::$post\_id]) ? self::$excludes['page\_excludes\_files'][self::$post\_id] : array(); |
  | 1479 | 1539 | } else if (!empty($post->ID)) { |
  | 1480 |  | self::$post\_id = $post->ID; |
  | 1481 |  | ~~self::$page\_excludes = isset(self::$excludes['page\_excludes'][self::$post\_id ]) ? self::$excludes['page\_excludes'][self::$post\_id~~ ] : array(); |
  | 1482 |  | ~~self::$page\_excludes\_files = isset(self::$excludes['page\_excludes\_files'][self::$post\_id ]) ? self::$excludes['page\_excludes\_files'][self::$post\_id~~ ] : array(); |
  | 1483 |  | }else { |
  | 1484 |  | self::$post\_id = false; |
  | 1485 |  | self::$page\_excludes = []; |
  | 1486 |  | self::$page\_excludes\_files = []; |
  | 1487 |  | } |
  |  | 1540 | self::$post\_id = $post->ID; |
  |  | 1541 | self::$page\_excludes = isset(self::$excludes['page\_excludes'][self::$post\_id]) ? self::$excludes['page\_excludes'][self::$post\_id] : array(); |
  |  | 1542 | self::$page\_excludes\_files = isset(self::$excludes['page\_excludes\_files'][self::$post\_id]) ? self::$excludes['page\_excludes\_files'][self::$post\_id] : array(); |
  |  | 1543 | } else { |
  |  | 1544 | self::$post\_id = false; |
  |  | 1545 | self::$page\_excludes = []; |
  |  | 1546 | self::$page\_excludes\_files = []; |
  |  | 1547 | } |
  | 1488 | 1548 |  |
  | 1489 | 1549 | if (isset(self::$page\_excludes['adaptive'])) { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L1630) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L1690) |  |
  | 1630 | 1690 | } |
  | 1631 | 1691 |  |
  |  | 1692 | $allowLive = get\_option('wps\_ic\_allow\_live'); |
  |  | 1693 |  |
  | 1632 | 1694 | self::$cdnEnabled = self::$settings['live-cdn']; |
  | 1633 |  | if (~~isset(self::$page\_excludes['cdn']) && self::$page\_excludes['cdn'] == '0'~~) { |
  | 1634 |  | self::$cdnEnabled = 0; |
  |  | 1695 | if ((isset(self::$page\_excludes['cdn']) && self::$page\_excludes['cdn'] == '0') || !$allowLive) { |
  |  | 1696 | self::$cdnEnabled = 0; |
  | 1635 | 1697 | self::$settings['css'] = 0; |
  | 1636 | 1698 | self::$settings['js'] = 0; |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L1640) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L1702) |  |
  | 1640 | 1702 | self::$settings['serve']['svg'] = 0; |
  | 1641 | 1703 | } else if (isset(self::$page\_excludes['cdn']) && self::$page\_excludes['cdn'] == '1') { |
  | 1642 |  | self::$cdnEnabled = 1; |
  | 1643 |  | self::$settings['css'] = 1; |
  | 1644 |  | self::$settings['js'] = 1; |
  | 1645 |  | self::$settings['serve']['jpg'] = 1; |
  | 1646 |  | self::$settings['serve']['png'] = 1; |
  | 1647 |  | self::$settings['serve']['gif'] = 1; |
  | 1648 |  | self::$settings['serve']['svg'] = 1; |
  |  | 1704 | self::$cdnEnabled = 1; |
  |  | 1705 | self::$settings['css'] = 1; |
  |  | 1706 | self::$settings['js'] = 1; |
  |  | 1707 | self::$settings['serve']['jpg'] = 1; |
  |  | 1708 | self::$settings['serve']['png'] = 1; |
  |  | 1709 | self::$settings['serve']['gif'] = 1; |
  |  | 1710 | self::$settings['serve']['svg'] = 1; |
  | 1649 | 1711 | } |
  | 1650 | 1712 |  |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L1870) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L1932) |  |
  | 1870 | 1932 |  |
  | 1871 | 1933 | //todo: Why are we checking this again? |
  | 1872 |  | if (~~isset(self::$page\_excludes['cdn']) && self::$page\_excludes['cdn'] == '0'~~) { |
  | 1873 |  | self::$cdnEnabled = 0; |
  | 1874 |  | self::$settings['css'] = 0; |
  | 1875 |  | self::$settings['js'] = 0; |
  | 1876 |  | self::$settings['serve']['jpg'] = 0; |
  | 1877 |  | self::$settings['serve']['png'] = 0; |
  | 1878 |  | self::$settings['serve']['gif'] = 0; |
  | 1879 |  | self::$settings['serve']['svg'] = 0; |
  | 1880 |  | } else if (isset(self::$page\_excludes['cdn']) && self::$page\_excludes['cdn'] == '1') { |
  | 1881 |  | self::$cdnEnabled = 1; |
  | 1882 |  | self::$settings['css'] = 1; |
  | 1883 |  | self::$settings['js'] = 1; |
  | 1884 |  | self::$settings['serve']['jpg'] = 1; |
  | 1885 |  | self::$settings['serve']['png'] = 1; |
  | 1886 |  | self::$settings['serve']['gif'] = 1; |
  | 1887 |  | self::$settings['serve']['svg'] = 1; |
  | 1888 |  | } |
  |  | 1934 | if ((isset(self::$page\_excludes['cdn']) && self::$page\_excludes['cdn'] == '0') || !$allowLive) { |
  |  | 1935 | self::$cdnEnabled = 0; |
  |  | 1936 | self::$settings['css'] = 0; |
  |  | 1937 | self::$settings['js'] = 0; |
  |  | 1938 | self::$settings['serve']['jpg'] = 0; |
  |  | 1939 | self::$settings['serve']['png'] = 0; |
  |  | 1940 | self::$settings['serve']['gif'] = 0; |
  |  | 1941 | self::$settings['serve']['svg'] = 0; |
  |  | 1942 | } else if (isset(self::$page\_excludes['cdn']) && self::$page\_excludes['cdn'] == '1') { |
  |  | 1943 | self::$cdnEnabled = 1; |
  |  | 1944 | self::$settings['css'] = 1; |
  |  | 1945 | self::$settings['js'] = 1; |
  |  | 1946 | self::$settings['serve']['jpg'] = 1; |
  |  | 1947 | self::$settings['serve']['png'] = 1; |
  |  | 1948 | self::$settings['serve']['gif'] = 1; |
  |  | 1949 | self::$settings['serve']['svg'] = 1; |
  |  | 1950 | } |
  | 1889 | 1951 |  |
  | 1890 | 1952 | if (self::$settings['css'] == 0 && self::$settings['js'] == 0 && self::$settings['serve']['jpg'] == 0 && self::$settings['serve']['png'] == 0 && self::$settings['serve']['gif'] == 0 && self::$settings['serve']['svg'] == 0) { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L1937) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L1999) |  |
  | 1937 | 1999 | } |
  | 1938 | 2000 |  |
  | 1939 |  |  |
  | 1940 |  | ~~public function preload\_custom\_assetsMobile() {~~ |
  | 1941 |  | ~~$preloads = get\_option('wps\_ic\_preloadsMobile');~~ |
  | 1942 |  |  |
  | 1943 |  | ~~if (!empty($preloads) && is\_array($preloads)) {~~ |
  | 1944 |  | ~~foreach ($preloads as $preload) {~~ |
  | 1945 |  | ~~$ext = pathinfo($preload, PATHINFO\_EXTENSION);~~ |
  | 1946 |  | ~~switch ($ext) {~~ |
  | 1947 |  | ~~case 'css':~~ |
  | 1948 |  | ~~$as = 'style';~~ |
  | 1949 |  | ~~break;~~ |
  | 1950 |  | ~~case 'js':~~ |
  | 1951 |  | ~~$as = 'script';~~ |
  | 1952 |  | ~~break;~~ |
  | 1953 |  | ~~case 'woff':~~ |
  | 1954 |  | ~~case 'woff2':~~ |
  | 1955 |  | ~~case 'ttf':~~ |
  | 1956 |  | ~~case 'otf':~~ |
  | 1957 |  | ~~$as = 'font';~~ |
  | 1958 |  | ~~break;~~ |
  | 1959 |  | ~~case 'jpg':~~ |
  | 1960 |  | ~~case 'jpeg':~~ |
  | 1961 |  | ~~case 'png':~~ |
  | 1962 |  | ~~case 'gif':~~ |
  | 1963 |  | ~~case 'webp':~~ |
  | 1964 |  | ~~case 'svg':~~ |
  | 1965 |  | ~~$as = 'image';~~ |
  | 1966 |  | ~~break;~~ |
  | 1967 |  | ~~default:~~ |
  | 1968 |  | ~~$as = '';~~ |
  | 1969 |  | ~~break;~~ |
  | 1970 |  | ~~}~~ |
  | 1971 |  |  |
  | 1972 |  |  |
  | 1973 |  | ~~if (!empty($as)) {~~ |
  | 1974 |  | ~~echo '<link rel="preload" href="' . esc\_url($preload) . '" as="' . esc\_attr($as) . '">' . "\n";~~ |
  | 1975 |  | ~~}~~ |
  | 1976 |  | ~~}~~ |
  | 1977 |  | ~~}~~ |
  | 1978 |  | ~~}~~ |
  | 1979 |  | ~~public function preload\_custom\_assets() {~~ |
  | 1980 |  | ~~$preloads = get\_option('wps\_ic\_preloads');~~ |
  | 1981 |  |  |
  | 1982 |  | ~~if (!empty($preloads) && is\_array($preloads)) {~~ |
  | 1983 |  | ~~foreach ($preloads as $preload) {~~ |
  | 1984 |  | ~~$ext = pathinfo($preload, PATHINFO\_EXTENSION);~~ |
  | 1985 |  | ~~switch ($ext) {~~ |
  | 1986 |  | ~~case 'css':~~ |
  | 1987 |  | ~~$as = 'style';~~ |
  | 1988 |  | ~~break;~~ |
  | 1989 |  | ~~case 'js':~~ |
  | 1990 |  | ~~$as = 'script';~~ |
  | 1991 |  | ~~break;~~ |
  | 1992 |  | ~~case 'woff':~~ |
  | 1993 |  | ~~case 'woff2':~~ |
  | 1994 |  | ~~case 'ttf':~~ |
  | 1995 |  | ~~case 'otf':~~ |
  | 1996 |  | ~~$as = 'font';~~ |
  | 1997 |  | ~~break;~~ |
  | 1998 |  | ~~case 'jpg':~~ |
  | 1999 |  | ~~case 'jpeg':~~ |
  | 2000 |  | ~~case 'png':~~ |
  | 2001 |  | ~~case 'gif':~~ |
  | 2002 |  | ~~case 'webp':~~ |
  | 2003 |  | ~~case 'svg':~~ |
  | 2004 |  | ~~$as = 'image';~~ |
  | 2005 |  | ~~break;~~ |
  | 2006 |  | ~~default:~~ |
  | 2007 |  | ~~$as = '';~~ |
  | 2008 |  | ~~break;~~ |
  | 2009 |  | ~~}~~ |
  | 2010 |  |  |
  | 2011 |  |  |
  | 2012 |  | ~~if (!empty($as)) {~~ |
  | 2013 |  | ~~echo '<link rel="preload" href="' . esc\_url($preload) . '" as="' . esc\_attr($as) . '">' . "\n";~~ |
  | 2014 |  | ~~}~~ |
  | 2015 |  | ~~}~~ |
  | 2016 |  | ~~}~~ |
  | 2017 |  | ~~}~~ |
  | 2018 |  |  |
  | 2019 | 2001 | public function is\_home\_url() { |
  | 2020 | 2002 | $home\_url = rtrim(home\_url(), '/'); |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2024) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2006) |  |
  | 2024 | 2006 | } |
  | 2025 | 2007 |  |
  |  | 2008 | public function preload\_custom\_assetsMobile() { |
  |  | 2009 | $preloads = get\_option('wps\_ic\_preloadsMobile'); |
  |  | 2010 |  |
  |  | 2011 | if (!empty($preloads) && is\_array($preloads)) { |
  |  | 2012 | foreach ($preloads as $preload) { |
  |  | 2013 | $type = ''; |
  |  | 2014 | $extra = ''; |
  |  | 2015 | $ext = pathinfo($preload, PATHINFO\_EXTENSION); |
  |  | 2016 | switch ($ext) { |
  |  | 2017 | case 'css': |
  |  | 2018 | $as = 'style'; |
  |  | 2019 | $type = 'text/css'; |
  |  | 2020 | break; |
  |  | 2021 | case 'js': |
  |  | 2022 | $as = 'script'; |
  |  | 2023 | $type = 'text/javascript'; |
  |  | 2024 | break; |
  |  | 2025 | case 'woff': |
  |  | 2026 | case 'woff2': |
  |  | 2027 | case 'ttf': |
  |  | 2028 | case 'otf': |
  |  | 2029 | $extra = 'crossorigin'; |
  |  | 2030 | $as = 'font'; |
  |  | 2031 | if ($ext == 'woff' || $ext == 'woff2') { |
  |  | 2032 | $type = 'font/woff'; |
  |  | 2033 | } else { |
  |  | 2034 | $type = 'font/' . $ext; |
  |  | 2035 | } |
  |  | 2036 | break; |
  |  | 2037 | case 'jpg': |
  |  | 2038 | case 'jpeg': |
  |  | 2039 | case 'png': |
  |  | 2040 | case 'gif': |
  |  | 2041 | case 'webp': |
  |  | 2042 | case 'svg': |
  |  | 2043 | $as = 'image'; |
  |  | 2044 | if ($ext == 'jpg' || $ext == 'jpeg') { |
  |  | 2045 | $type = 'image/jgp'; |
  |  | 2046 | } else if ($ext == 'gif') { |
  |  | 2047 | $type = 'image/gif'; |
  |  | 2048 | } else if ($ext == 'png') { |
  |  | 2049 | $type = 'image/png'; |
  |  | 2050 | } else if ($ext == 'webp') { |
  |  | 2051 | $type = 'image/webp'; |
  |  | 2052 | } else if ($ext == 'svg') { |
  |  | 2053 | $type = 'image/svg+xml'; |
  |  | 2054 | } |
  |  | 2055 | break; |
  |  | 2056 | default: |
  |  | 2057 | $as = ''; |
  |  | 2058 | break; |
  |  | 2059 | } |
  |  | 2060 |  |
  |  | 2061 |  |
  |  | 2062 | if (!empty($as)) { |
  |  | 2063 | echo '<link rel="preload" href="' . esc\_url($preload) . '" as="' . esc\_attr($as) . '" type="' . $type . '" fetchpriority="high" '.$extra.'>' . "\n"; |
  |  | 2064 | } |
  |  | 2065 | } |
  |  | 2066 | } |
  |  | 2067 | } |
  |  | 2068 |  |
  |  | 2069 | public function preload\_custom\_assets() { |
  |  | 2070 | $preloads = get\_option('wps\_ic\_preloads'); |
  |  | 2071 |  |
  |  | 2072 | if (!empty($preloads) && is\_array($preloads)) { |
  |  | 2073 | foreach ($preloads as $preload) { |
  |  | 2074 | $extra = ''; |
  |  | 2075 | $type = ''; |
  |  | 2076 | $ext = pathinfo($preload, PATHINFO\_EXTENSION); |
  |  | 2077 | switch ($ext) { |
  |  | 2078 | case 'css': |
  |  | 2079 | $as = 'style'; |
  |  | 2080 | $type = 'text/css'; |
  |  | 2081 | break; |
  |  | 2082 | case 'js': |
  |  | 2083 | $as = 'script'; |
  |  | 2084 | $type = 'text/javascript'; |
  |  | 2085 | break; |
  |  | 2086 | case 'woff': |
  |  | 2087 | case 'woff2': |
  |  | 2088 | case 'ttf': |
  |  | 2089 | case 'otf': |
  |  | 2090 | $extra = 'crossorigin'; |
  |  | 2091 | $as = 'font'; |
  |  | 2092 | if ($ext == 'woff' || $ext == 'woff2') { |
  |  | 2093 | $type = 'font/woff'; |
  |  | 2094 | } else { |
  |  | 2095 | $type = 'font/' . $ext; |
  |  | 2096 | } |
  |  | 2097 | break; |
  |  | 2098 | case 'jpg': |
  |  | 2099 | case 'jpeg': |
  |  | 2100 | case 'png': |
  |  | 2101 | case 'gif': |
  |  | 2102 | case 'webp': |
  |  | 2103 | case 'svg': |
  |  | 2104 | $as = 'image'; |
  |  | 2105 | if ($ext == 'jpg' || $ext == 'jpeg') { |
  |  | 2106 | $type = 'image/jgp'; |
  |  | 2107 | } else if ($ext == 'gif') { |
  |  | 2108 | $type = 'image/gif'; |
  |  | 2109 | } else if ($ext == 'png') { |
  |  | 2110 | $type = 'image/png'; |
  |  | 2111 | } else if ($ext == 'webp') { |
  |  | 2112 | $type = 'image/webp'; |
  |  | 2113 | } else if ($ext == 'svg') { |
  |  | 2114 | $type = 'image/svg+xml'; |
  |  | 2115 | } |
  |  | 2116 | break; |
  |  | 2117 | default: |
  |  | 2118 | $as = ''; |
  |  | 2119 | break; |
  |  | 2120 | } |
  |  | 2121 |  |
  |  | 2122 |  |
  |  | 2123 | if (!empty($as)) { |
  |  | 2124 | echo '<link rel="preload" href="' . esc\_url($preload) . '" as="' . esc\_attr($as) . '" type="' . $type . '" fetchpriority="high" '.$extra.'>' . "\n"; |
  |  | 2125 | } |
  |  | 2126 | } |
  |  | 2127 | } |
  |  | 2128 | } |
  |  | 2129 |  |
  | 2026 | 2130 | public function perfMattersOverride() { |
  | 2027 | 2131 | if (function\_exists('perfmatters\_version\_check')) { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2166) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2270) |  |
  | 2166 | 2270 | } |
  | 2167 | 2271 |  |
  |  | 2272 | public function saveCache($html){ |
  |  | 2273 |  |
  |  | 2274 | $cacheActive = ! (isset(self::$page\_excludes['advanced\_cache']) && self::$page\_excludes['advanced\_cache'] == '0') && ((isset(self::$settings['cache']['advanced']) && self::$settings['cache']['advanced'] == '1') || (isset(self::$page\_excludes['advanced\_cache']) && self::$page\_excludes['advanced\_cache'] == '1')); |
  |  | 2275 |  |
  |  | 2276 | if ($cacheActive){ |
  |  | 2277 | if (( ! self::isExcludedFromCache($html) && $this->doCacheCombine())){ |
  |  | 2278 | if ( ! self::is\_mobile()){ |
  |  | 2279 | return self::$cacheHtml->saveCache($html); |
  |  | 2280 | } else{ |
  |  | 2281 | return self::$cacheHtml->saveCache($html, 'mobile'); |
  |  | 2282 | } |
  |  | 2283 | } |
  |  | 2284 | } |
  |  | 2285 |  |
  |  | 2286 | return $html; |
  |  | 2287 | } |
  |  | 2288 |  |
  | 2168 | 2289 | public function cdnRewriter($html) { |
  | 2169 | 2290 | self::$wpcPreloadLinks = array(); |
  | 2170 |  |  |
  | 2171 | 2291 |  |
  | 2172 | 2292 | $isUserLoggedIn = is\_user\_logged\_in(); |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2276) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2396) |  |
  | 2276 | 2396 |  |
  | 2277 | 2397 |  |
  | 2278 |  | $html = preg\_replace\_callback('/<head>(.\*?)<\/head>/si', [$this, 'injectPreloadImages'], $html); |
  |  | 2398 | if (!empty($\_GET['debug\_preload\_inject'])){ |
  |  | 2399 | $dbg = 'Before:'; |
  |  | 2400 | $dbg .= $html; |
  |  | 2401 | } |
  |  | 2402 |  |
  |  | 2403 | $html = preg\_replace\_callback('/<head>/si', [$this, 'injectPreloadImages'], $html); |
  |  | 2404 |  |
  |  | 2405 | if (!empty($\_GET['debug\_preload\_inject'])){ |
  |  | 2406 | $dbg .= 'After:'; |
  |  | 2407 | $dbg .= $html; |
  |  | 2408 | return $dbg; |
  |  | 2409 | } |
  |  | 2410 |  |
  |  | 2411 |  |
  |  | 2412 | if (!empty($\_GET['stop\_before']) && $\_GET['stop\_before'] == 'wpFontsLocal') { |
  |  | 2413 | return $html; |
  |  | 2414 | } |
  |  | 2415 |  |
  |  | 2416 | if (!empty($\_GET['stop\_before']) && $\_GET['stop\_before'] == 'replaceImageTags0') { |
  |  | 2417 | return $html; |
  |  | 2418 | } |
  |  | 2419 |  |
  |  | 2420 | $html = self::$rewriteLogic->defferFontAwesome($html); |
  |  | 2421 |  |
  |  | 2422 | if (!empty($\_GET['stop\_before']) && $\_GET['stop\_before'] == 'replaceImageTags1') { |
  |  | 2423 | return $html; |
  |  | 2424 | } |
  |  | 2425 |  |
  |  | 2426 | // Replace <img> tags |
  |  | 2427 | $html = self::$rewriteLogic->replaceImageTags($html); |
  |  | 2428 |  |
  |  | 2429 | if (!empty($\_GET['stop\_before']) && $\_GET['stop\_before'] == 'replaceImageTags2') { |
  |  | 2430 | return $html; |
  |  | 2431 | } |
  | 2279 | 2432 |  |
  | 2280 | 2433 | // Find Logo and LCP |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2283) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2436) |  |
  | 2283 | 2436 | $preloadLCP = ''; |
  | 2284 | 2437 | foreach ($foundLCP as $i => $imageUrl) { |
  | 2285 |  | # $preloadLCP .= '<link rel="preload" href="'.$imageUrl.'" as="image">'; |
  | 2286 |  | } |
  |  | 2438 | #$preloadLCP .= '<link rel="preload" href="'.$imageUrl.'" as="image">'; |
  |  | 2439 | } |
  |  | 2440 |  |
  | 2287 | 2441 | $html = str\_replace('<!--WPC\_INSERT\_PRELOAD\_MAIN-->', $preloadLCP, $html); |
  | 2288 |  | ~~}~~ |
  | 2289 |  |  |
  | 2290 |  |  |
  | 2291 |  | ~~if (!empty($\_GET['stop\_before']) && $\_GET['stop\_before'] == 'wpFontsLocal') {~~ |
  | 2292 |  | ~~return $html;~~ |
  | 2293 |  | ~~}~~ |
  | 2294 |  |  |
  | 2295 |  | ~~if (!empty($\_GET['stop\_before']) && $\_GET['stop\_before'] == 'replaceImageTags0') {~~ |
  | 2296 |  | ~~return $html;~~ |
  | 2297 |  | ~~}~~ |
  | 2298 |  |  |
  | 2299 |  | ~~$html = self::$rewriteLogic->defferFontAwesome($html);~~ |
  | 2300 |  |  |
  | 2301 |  | ~~if (!empty($\_GET['stop\_before']) && $\_GET['stop\_before'] == 'replaceImageTags1') {~~ |
  | 2302 |  | ~~return $html;~~ |
  | 2303 |  | ~~}~~ |
  | 2304 |  |  |
  | 2305 |  | ~~// Replace <img> tags~~ |
  | 2306 |  | ~~$html = self::$rewriteLogic->replaceImageTags($html);~~ |
  | 2307 |  |  |
  | 2308 |  | ~~if (!empty($\_GET['stop\_before']) && $\_GET['stop\_before'] == 'replaceImageTags2') {~~ |
  | 2309 |  | ~~return $html;~~ |
  | 2310 | 2442 | } |
  | 2311 | 2443 |  |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2325) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2457) |  |
  | 2325 | 2457 |  |
  | 2326 | 2458 | // Critical CSS Remove from Header |
  | 2327 |  | $criticalActive = ! ( isset( self::$page\_excludes['critical\_css'] ) && self::$page\_excludes['critical\_css'] == '0' ) && |
  | 2328 |  | ( ( isset( self::$settings['critical']['css'] ) && self::$settings['critical']['css'] == '1' ) || |
  | 2329 |  | ( isset( self::$page\_excludes['critical\_css'] ) && self::$page\_excludes['critical\_css'] == '1' ) ); |
  | 2330 |  |  |
  | 2331 |  | $criticalCSS       = new wps\_criticalCss(); |
  | 2332 |  | $criticalCSSExists = $criticalCSS->criticalExists(); |
  |  | 2459 | $criticalActive = !(isset(self::$page\_excludes['critical\_css']) && self::$page\_excludes['critical\_css'] == '0') && ((isset(self::$settings['critical']['css']) && self::$settings['critical']['css'] == '1') || (isset(self::$page\_excludes['critical\_css']) && self::$page\_excludes['critical\_css'] == '1')); |
  |  | 2460 |  |
  |  | 2461 | $criticalCSS = new wps\_criticalCss(); |
  |  | 2462 | $criticalCSSExists = $criticalCSS->criticalExists(); |
  |  | 2463 |  |
  |  | 2464 |  |
  |  | 2465 | //Combine CSS |
  |  | 2466 | if ($criticalCombine || (!empty(self::$settings['css\_combine']) && self::$settings['css\_combine'] == '1')) { |
  |  | 2467 | if (empty($\_GET['stopCombineCSS'])) { |
  |  | 2468 | $html = $combine\_css->maybe\_do\_combine($html); |
  |  | 2469 | } |
  |  | 2470 | } |
  | 2333 | 2471 |  |
  | 2334 | 2472 | if (!$criticalCombine) { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2356) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2494) |  |
  | 2356 | 2494 | } |
  | 2357 | 2495 |  |
  | 2358 |  | ~~//Combine CSS~~ |
  | 2359 |  |  |
  | 2360 |  | ~~if ($criticalCombine) {~~ |
  | 2361 |  | ~~if (empty($\_GET['stopCombineCSS'])) {~~ |
  | 2362 |  | ~~$html = $combine\_css->maybe\_do\_combine($html);~~ |
  | 2363 |  | ~~}~~ |
  | 2364 |  | ~~}~~ |
  | 2365 |  |  |
  | 2366 | 2496 | if (isset(self::$settings['fontawesome-lazy']) && self::$settings['fontawesome-lazy'] == '1') { |
  | 2367 | 2497 | // TODO: Maybe add something? |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2375) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2505) |  |
  | 2375 | 2505 |  |
  | 2376 | 2506 | #if (isset($\_GET['testAnimation'])) { |
  | 2377 |  | #$html = preg\_replace\_callback('/<div[^>]\*\sdata-settings="([^"]\*)"[^>]\*>(.\*?)<\/div>/si', [$this, 'elementorAnimations'], $html); |
  | 2378 |  | #$html = preg\_replace\_callback('/<div\s+class="[^"]\*\belementor-background-overlay\b[^"]\*"[^>]\*>.\*?<\/div>/si', [$this, 'removeBgOverlay'], $html); |
  |  | 2507 | #$html = preg\_replace\_callback('/<div[^>]\*\sdata-settings="([^"]\*)"[^>]\*>(.\*?)<\/div>/si', [$this, 'elementorAnimations'], $html); |
  |  | 2508 | #$html = preg\_replace\_callback('/<div\s+class="[^"]\*\belementor-background-overlay\b[^"]\*"[^>]\*>.\*?<\/div>/si', [$this, 'removeBgOverlay'], $html); |
  | 2379 | 2509 | #} |
  | 2380 | 2510 |  |
  | 2381 | 2511 | if ((empty($\_GET['disableCritical']) && empty($\_GET['generateCriticalAPI'])) && !$this->criticalCombine) { |
  | 2382 |  | if ( ! is\_user\_logged\_in() && ! is\_admin\_bar\_showing() ) { |
  | 2383 |  |  |
  | 2384 |  | if ( $criticalActive && ! self::$preloaderAPI ) { |
  | 2385 |  | global $post; |
  | 2386 |  | if ( ! empty( $\_GET['forceCriticalAjax'] ) ) { |
  | 2387 |  | $html = self::$rewriteLogic->runCriticalAjax( $html ); |
  | 2388 |  | } else { |
  | 2389 |  | if ( empty( $criticalCSSExists ) ) { |
  | 2390 |  | $criticalRunning = $criticalCSS->criticalRunning(); |
  | 2391 |  | if ( ! $criticalRunning ) { |
  | 2392 |  | set\_transient( 'wpc\_critical\_ajax\_' . md5( $\_SERVER['REQUEST\_URI'] ), date( 'd.m.Y H:i:s' ), 60 \* 5 ); |
  | 2393 |  | $html = self::$rewriteLogic->runCriticalAjax( $html ); |
  | 2394 |  | } |
  | 2395 |  | } |
  | 2396 |  |  |
  | 2397 |  | } |
  | 2398 |  | } |
  | 2399 |  |  |
  | 2400 |  | } |
  | 2401 |  | } |
  | 2402 |  |  |
  | 2403 |  | if (empty($\_GET['criticalCombine'])) { |
  | 2404 |  | if (isset(self::$settings['inline-css']) && self::$settings['inline-css'] == '1') { |
  | 2405 |  | //            // TODO: Maybe add something? |
  | 2406 |  | //            if($criticalActive && !empty($criticalCSSExists)) { |
  | 2407 |  | //                  //critical exists, dont inline |
  | 2408 |  | //            } else { |
  | 2409 |  | //                $html = $combine\_css->doInline($html); |
  | 2410 |  | //            } |
  | 2411 |  | } else { |
  | 2412 |  | // Find and Preload Fonts!! |
  | 2413 |  | self::$wpcPreloadLinks = $combine\_css->preparePreloads($html); |
  | 2414 |  | if (!empty(self::$wpcPreloadLinks)) { |
  | 2415 |  | $preloadFonts = ''; |
  | 2416 |  | foreach (self::$wpcPreloadLinks as $i => $fontUrl) { |
  | 2417 |  | $preloadFonts .= $fontUrl; |
  | 2418 |  | } |
  | 2419 |  | $html = str\_replace('<!--WPC\_INSERT\_PRELOAD-->', $preloadFonts, $html); |
  | 2420 |  | } |
  | 2421 |  | } |
  | 2422 |  | } |
  | 2423 |  |  |
  | 2424 |  | if ((empty($\_GET['disableCritical']) && empty($\_GET['generateCriticalAPI'])) && !$this->criticalCombine) { |
  | 2425 |  | if ( ! is\_user\_logged\_in() && ! is\_admin\_bar\_showing() ) { |
  |  | 2512 | if (!is\_user\_logged\_in() && !is\_admin\_bar\_showing()) { |
  |  | 2513 |  |
  |  | 2514 | if ($criticalActive && !self::$preloaderAPI) { |
  |  | 2515 | global $post; |
  |  | 2516 | if (!empty($\_GET['forceCriticalAjax'])) { |
  |  | 2517 | $html = self::$rewriteLogic->runCriticalAjax($html); |
  |  | 2518 | } else { |
  |  | 2519 | if (empty($criticalCSSExists)) { |
  |  | 2520 | $criticalRunning = $criticalCSS->criticalRunning(); |
  |  | 2521 | if (!$criticalRunning) { |
  |  | 2522 | set\_transient('wpc\_critical\_ajax\_' . md5($\_SERVER['REQUEST\_URI']), date('d.m.Y H:i:s'), 60 \* 5); |
  |  | 2523 | $html = self::$rewriteLogic->runCriticalAjax($html); |
  |  | 2524 | } |
  |  | 2525 | } |
  |  | 2526 |  |
  |  | 2527 | } |
  |  | 2528 | } |
  |  | 2529 |  |
  |  | 2530 | } |
  |  | 2531 | } |
  |  | 2532 |  |
  |  | 2533 | if (empty($\_GET['criticalCombine'])) { |
  |  | 2534 | if (isset(self::$settings['inline-css']) && self::$settings['inline-css'] == '1') { |
  |  | 2535 | //            // TODO: Maybe add something? |
  |  | 2536 | //            if($criticalActive && !empty($criticalCSSExists)) { |
  |  | 2537 | //                  //critical exists, dont inline |
  |  | 2538 | //            } else { |
  |  | 2539 | //                $html = $combine\_css->doInline($html); |
  |  | 2540 | //            } |
  |  | 2541 | } else { |
  |  | 2542 | // Find and Preload Fonts!! |
  |  | 2543 | self::$wpcPreloadLinks = $combine\_css->preparePreloads($html); |
  |  | 2544 | if (!empty(self::$wpcPreloadLinks)) { |
  |  | 2545 | $preloadFonts = ''; |
  |  | 2546 | foreach (self::$wpcPreloadLinks as $i => $fontUrl) { |
  |  | 2547 | $preloadFonts .= $fontUrl; |
  |  | 2548 | } |
  |  | 2549 |  |
  |  | 2550 | $html = str\_replace('<!--WPC\_INSERT\_PRELOAD-->', $preloadFonts, $html); |
  |  | 2551 | } |
  |  | 2552 | } |
  |  | 2553 | } |
  |  | 2554 |  |
  |  | 2555 | if ((empty($\_GET['disableCritical']) && empty($\_GET['generateCriticalAPI'])) && !$this->criticalCombine) { |
  |  | 2556 | if (!is\_user\_logged\_in() && !is\_admin\_bar\_showing()) { |
  | 2426 | 2557 | if (!empty($\_GET['debugCriticalRunning'])) { |
  | 2427 | 2558 | $html .= print\_r(array(self::$settings['critical']['css'], $criticalCSSExists, $criticalRunning), true); |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2443) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2574) |  |
  | 2443 | 2574 | } |
  | 2444 | 2575 |  |
  | 2445 |  | if ($criticalActive && !self::$preloaderAPI) { |
  |  | 2576 | if ($criticalActive && !self::$preloaderAPI) { |
  | 2446 | 2577 | if (!self::isURLExcluded('critical\_css')) { |
  | 2447 | 2578 |  |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2517) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2648) |  |
  | 2517 | 2648 | $js\_delay = new wps\_ic\_js\_delay(); |
  | 2518 | 2649 |  |
  | 2519 |  | $delayActive = !(isset(self::$page\_excludes['delay\_js']) && self::$page\_excludes['delay\_js'] == '0') && |
  | 2520 |  | ((isset(self::$settings['delay-js']) && self::$settings['delay-js'] == '1') || |
  | 2521 |  | (isset(self::$page\_excludes['delay\_js']) && self::$page\_excludes['delay\_js'] == '1')); |
  | 2522 |  |  |
  | 2523 |  | if (empty($\_GET['disableCritical']) && $delayActive && !current\_user\_can('manage\_options') && !self::$delay\_js\_override && !self::$preloaderAPI) { |
  |  | 2650 | $delayActive = !(isset(self::$page\_excludes['delay\_js']) && self::$page\_excludes['delay\_js'] == '0') && ((isset(self::$settings['delay-js']) && self::$settings['delay-js'] == '1') || (isset(self::$page\_excludes['delay\_js']) && self::$page\_excludes['delay\_js'] == '1')); |
  |  | 2651 |  |
  |  | 2652 | if (empty($\_GET['disableCritical']) && $delayActive && !current\_user\_can('manage\_options') && !self::$delay\_js\_override && !self::$preloaderAPI) { |
  | 2524 | 2653 | $html = preg\_replace\_callback('/<script[^>]\*src=[\'"]([^\'"]+)[\'"][^>]\*>/si', [$js\_delay, 'preload\_scripts'], $html); |
  | 2525 |  | $html = preg\_replace\_callback('/<script\b[^>]\*>(.\*?)<\/script>/si', [$js\_delay, 'delay\_script\_replace'], $html); |
  | 2526 |  | } else { |
  | 2527 |  | $html = preg\_replace\_callback('/<script\b[^>]\*>(.\*?)<\/script>/si', [$js\_delay, 'removeNoDelay'], $html); |
  | 2528 |  | } |
  |  | 2654 | $html = preg\_replace\_callback('/<script\b[^>]\*>(.\*?)<\/script>/si', [$js\_delay, 'delay\_script\_replace'], $html); |
  |  | 2655 | } else { |
  |  | 2656 | $html = preg\_replace\_callback('/<script\b[^>]\*>(.\*?)<\/script>/si', [$js\_delay, 'removeNoDelay'], $html); |
  |  | 2657 | } |
  | 2529 | 2658 |  |
  | 2530 | 2659 | } |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2564) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2693) |  |
  | 2564 | 2693 |  |
  | 2565 | 2694 |  |
  | 2566 |  | // Cache |
  | 2567 |  | $cacheActive = !(isset(self::$page\_excludes['advanced\_cache']) && self::$page\_excludes['advanced\_cache'] == '0') && |
  | 2568 |  | ((isset(self::$settings['cache']['advanced']) && self::$settings['cache']['advanced'] == '1') || |
  | 2569 |  | (isset(self::$page\_excludes['advanced\_cache']) && self::$page\_excludes['advanced\_cache'] == '1')); |
  | 2570 |  |  |
  | 2571 |  |  |
  |  | 2695 | // Cache |
  |  | 2696 | $cacheActive = !(isset(self::$page\_excludes['advanced\_cache']) && self::$page\_excludes['advanced\_cache'] == '0') && ((isset(self::$settings['cache']['advanced']) && self::$settings['cache']['advanced'] == '1') || (isset(self::$page\_excludes['advanced\_cache']) && self::$page\_excludes['advanced\_cache'] == '1')); |
  |  | 2697 |  |
  |  | 2698 |  |
  |  | 2699 | /\* |
  | 2572 | 2700 | if ($cacheActive) { |
  | 2573 | 2701 | if ((!self::isExcludedFromCache($html) && $this->doCacheCombine())) { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2579) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2707) |  |
  | 2579 | 2707 | } |
  | 2580 | 2708 | } |
  | 2581 |  |  |
  | 2582 |  |  |
  |  | 2709 | \*/ |
  | 2583 | 2710 |  |
  | 2584 | 2711 | if (!empty($\_GET['stop\_before']) && $\_GET['stop\_before'] == 'cache\_mobile') { |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L2618) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L2745) |  |
  | 2618 | 2745 |  |
  | 2619 | 2746 |  |
  | 2620 |  | public function injectPreloadImages(~~$matches~~) { |
  |  | 2747 | public function injectPreloadImages() { |
  | 2621 | 2748 | $inject = '<head>'; |
  | 2622 | 2749 | $inject .= '<!--WPC\_INSERT\_CRITICAL-->'; |
  | 2623 | 2750 | $inject .= '<!--WPC\_INSERT\_PRELOAD\_MAIN-->'; |
  | 2624 | 2751 | $inject .= '<!--WPC\_INSERT\_PRELOAD-->'; |
  | 2625 |  | ~~$inject .= $matches[1];~~ |
  | 2626 |  | ~~$inject .= '</head>';~~ |
  | 2627 | 2752 | return $inject; |
  | 2628 | 2753 | } |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L3331) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L3456) |  |
  | 3331 | 3456 | } |
  | 3332 | 3457 |  |
  | 3333 |  | if (!is\_null($value)) { |
  | 3334 |  | $image\_tag .= $tag . '="' . $value . '" '; |
  | 3335 |  | } else { |
  | 3336 |  | $image\_tag .= $tag . ' '; |
  | 3337 |  | } |
  |  | 3458 | if (!is\_null($value)) { |
  |  | 3459 | $image\_tag .= $tag . '="' . $value . '" '; |
  |  | 3460 | } else { |
  |  | 3461 | $image\_tag .= $tag . ' '; |
  |  | 3462 | } |
  | 3338 | 3463 | } |
  | 3339 | 3464 | } |
  | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3043773#L3345) | […](/browser/wp-compress-image-optimizer/trunk/addons/cdn/cdn-rewrite.php?rev=3054445#L3470) |  |
  | 3345 | 3470 | $found\_tags = array(); |
  | 3346 | 3471 |  |
  | 3347 |  | preg\_match\_all('/(\w+(?:-\w+)\*)(?:\s\*=\s\*(?:"([^"]\*)"|\'([^\']\*)\'|([^>\s]+)))?/', $image, $matches, PREG\_SET\_ORDER); |
  | 3348 |  |  |
  | 3349 |  | $attributes = []; |
  | 3350 |  | unset ($matches[0]); |
  | 3351 |  |  |
  | 3352 |  | foreach ($matches as $match) { |
  | 3353 |  | $attrName = $match[1]; // The attribute name |
  | 3354 |  | // Determine the attribute value based on the capturing group that caught it |
  | 3355 |  | // If no value is present, consider it as null or an empty string |
  | 3356 |  | $attrValue = isset($match[2]) ? $match[2] : (isset($match[3]) ? $match[3] : (isset($match[4]) ? $match[4] : null)); |
  | 3357 |  |  |
  | 3358 |  | // Save the attribute and its value (if any) as key => value pairs in the array |
  | 3359 |  | $attributes[$attrName] = $attrValue; |
  | 3360 |  | } |
  | 3361 |  |  |
  | 3362 |  | if (!empty($\_GET['getAllTags'])) { |
  | 3363 |  | return array($image, $attributes); |
  | 3364 |  | } |
  | 3365 |  |  |
  | 3366 |  | ~~foreach ($attributes as $tag => $value)~~{ |
  | 3367 |  | if (!empty($ignore\_tags) && in\_array($tag, $ignore\_tags)) { |
  | 3368 |  | continue; |
  | 3369 |  | } |
  | 3370 |  |  |
  | 3371 |  | if ($tag == 'data-mk-image-src-set') { |
  | 3372 |  | $value = htmlspecialchars\_decode($value); |
  | 3373 |  | $value = json\_decode($value, true); |
  | 3374 |  | $value = $value['default']; |
  | 3375 |  | } |
  | 3376 |  |  |
  | 3377 |  | $found\_tags[$tag] = $value; |
  | 3378 |  | } |
  |  | 3472 | preg\_match\_all('/(\w+(?:-\w+)\*)(?:\s\*=\s\*(?:"([^"]\*)"|\'([^\']\*)\'|([^>\s]+)))?/', $image, $matches, PREG\_SET\_ORDER); |
  |  | 3473 |  |
  |  | 3474 | $attributes = []; |
  |  | 3475 | unset ($matches[0]); |
  |  | 3476 |  |
  |  | 3477 | foreach ($matches as $match) { |
  |  | 3478 | $attrName = $match[1]; // The attribute name |
  |  | 3479 | // Determine the attribute value based on the capturing group that caught it |
  |  | 3480 | // If no value is present, consider it as null or an empty string |
  |  | 3481 | $attrValue = isset($match[2]) ? $match[2] : (isset($match[3]) ? $match[3] : (isset($match[4]) ? $match[4] : null)); |
  |  | 3482 |  |
  |  | 3483 | // Save the attribute and its value (if any) as key => value pairs in the array |
  |  | 3484 | $attributes[$attrName] = $attrValue; |
  |  | 3485 | } |
  |  | 3486 |  |
  |  | 3487 | if (!empty($\_GET['getAllTags'])) { |
  |  | 3488 | return array($image, $attributes); |
  |  | 3489 | } |
  |  | 3490 |  |
  |  | 3491 | foreach ($attributes as $tag => $value) { |
  |  | 3492 | if (!empty($ignore\_tags) && in\_array($tag, $ignore\_tags)) { |
  |  | 3493 | continue; |
  |  | 3494 | } |
  |  | 3495 |  |
  |  | 3496 | if ($tag == 'data-mk-image-src-set') { |
  |  | 3497 | $value = htmlspecialchars\_decode($value); |
  |  | 3498 | $value = json\_decode($value, true); |
  |  | 3499 | $value = $value['default']; |
  |  | 3500 | } |
  |  | 3501 |  |
  |  | 3502 | $found\_tags[$tag] = $value; |
  |  | 3503 | } |
  | 3379 | 3504 |  |
  | 3380 | 3505 | return $found\_tags; |
* ## [wp-compress-image-optimizer/trunk/addons/cdn/rewriteLogic.php](/changeset/3054445/wp-compress-image-optimizer/trunk/addons/cdn/rewriteLogic.php?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Faddons%2Fcdn%2FrewriteLogic.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/addons/cdn/rewriteLogic.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/addons/cdn/rewriteLogic.php?rev=3043773#L885 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/addons/cdn/rewriteLogic.php?rev=3054445#L885 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 885 | 885 | } |
  | 886 | 886 |  |
  | 887 |  | public function addCriticalCSS($html) { |
  | 888 |  | #$output = '<head>'; |
  | 889 |  | $output = ''; |
  | 890 |  |  |
  | 891 |  | $criticalCSS = new wps\_criticalCss(); |
  | 892 |  | $criticalCSSExists = $criticalCSS->criticalExists(true); |
  | 893 |  |  |
  | 894 |  |  |
  | 895 |  | if (!empty($criticalCSSExists)) { |
  | 896 |  | #$output .= 'CRIT NOT EMPTY ' . print\_r($criticalCSSExists,true); |
  | 897 |  | $criticalCSSContent\_Desktop = $criticalCSSExists['desktop']; |
  | 898 |  | $criticalCSSContent\_Mobile = $criticalCSSExists['mobile']; |
  | 899 |  |  |
  | 900 |  | $criticalCSSContent\_Mobile = file\_get\_contents($criticalCSSContent\_Mobile); |
  | 901 |  | $criticalCSSContent\_Desktop = file\_get\_contents($criticalCSSContent\_Desktop); |
  | 902 |  |  |
  | 903 |  | #$output .= 'CRIT NOT EMPTY - 2'  . $criticalCSSContent\_Desktop . '--'.$criticalCSSContent\_Desktop; |
  | 904 |  |  |
  | 905 |  | $combine = new wps\_ic\_combine\_css(); |
  | 906 |  | $criticalCSSContent\_Desktop = $combine->findFontFace($criticalCSSContent\_Desktop); |
  | 907 |  | $criticalCSSContent\_Mobile = $combine->findFontFace($criticalCSSContent\_Mobile); |
  | 908 |  |  |
  | 909 |  | #$output .= 'CRIT NOT EMPTY - 3'  . $criticalCSSContent\_Desktop; |
  | 910 |  |  |
  | 911 |  | if ($this->isMobile()) { |
  | 912 |  | if (!empty($criticalCSSContent\_Mobile)) { |
  | 913 |  | $output .= "\r\n" . '<style type="text/css" id="wpc-critical-css" class="wpc-critical-css-mobile">' . $criticalCSSContent\_Mobile . '</style>'; |
  | 914 |  | } |
  | 915 |  | } else { |
  | 916 |  | if (!empty($criticalCSSContent\_Desktop)) { |
  | 917 |  | $output .= "\r\n" . '<style type="text/css" id="wpc-critical-css" class=" wpc-critical-css-desktop">' . $criticalCSSContent\_Desktop . '</style>'; |
  | 918 |  | } |
  | 919 |  | } |
  | 920 |  | } |
  | 921 |  |  |
  | 922 |  | #$output .= '</head>'; |
  | 923 |  |  |
  | 924 |  | return $output; |
  | 925 |  | } |
  | 926 |  |  |
  | 927 |  |  |
  | 928 |  | public function optimizeGoogleFonts($html) { |
  |  | 887 | public function addCriticalCSS($html) { |
  |  | 888 | $output = ''; |
  |  | 889 |  |
  |  | 890 | $criticalCSS = new wps\_criticalCss(); |
  |  | 891 | $criticalCSSExists = $criticalCSS->criticalExists(true); |
  |  | 892 |  |
  |  | 893 | if (!empty($criticalCSSExists)) { |
  |  | 894 | $criticalCSSContent\_Desktop = file\_get\_contents($criticalCSSExists['desktop']); |
  |  | 895 | $criticalCSSContent\_Mobile = file\_get\_contents($criticalCSSExists['mobile']); |
  |  | 896 |  |
  |  | 897 | // Adjusted function to create preload links only if the "/\* Preload Fonts \*/" comment is found |
  |  | 898 | $createPreloadLinks = function ($cssContent) { |
  |  | 899 | $preloadLinks = ''; |
  |  | 900 | $commentPos = strpos($cssContent, '/\* Preload Fonts \*/'); |
  |  | 901 |  |
  |  | 902 | // Proceed only if the comment is found |
  |  | 903 | if ($commentPos !== false) { |
  |  | 904 | $relevantContent = substr($cssContent, 0, $commentPos); |
  |  | 905 | $fontPattern = '/url\((\'|")?(.+?\.(woff2?|ttf|otf|eot))\1?\)/i'; |
  |  | 906 | if (preg\_match\_all($fontPattern, $relevantContent, $matches, PREG\_SET\_ORDER)) { |
  |  | 907 | foreach ($matches as $match) { |
  |  | 908 | $fontUrl = $match[2]; |
  |  | 909 | if (strpos($fontUrl, 'icon') !== false) continue; |
  |  | 910 | $preloadLinks .= "<link rel=\"preload\" href=\"$fontUrl\" as=\"font\" type=\"font/woff2\" crossorigin=\"anonymous\">\n"; |
  |  | 911 | } |
  |  | 912 | } |
  |  | 913 | } |
  |  | 914 | return $preloadLinks; |
  |  | 915 | }; |
  |  | 916 |  |
  |  | 917 | // Function to get the CSS content after the "/\* Preload Fonts \*/" comment |
  |  | 918 | $getCSSAfterPreloadComment = function ($cssContent) { |
  |  | 919 | $commentPos = strpos($cssContent, '/\* Preload Fonts \*/'); |
  |  | 920 | return $commentPos !== false ? substr($cssContent, $commentPos + strlen('/\* Preload Fonts \*/')) : $cssContent; |
  |  | 921 | }; |
  |  | 922 |  |
  |  | 923 | $preloadLinks\_Desktop = $createPreloadLinks($criticalCSSContent\_Desktop); |
  |  | 924 | $preloadLinks\_Mobile = $createPreloadLinks($criticalCSSContent\_Mobile); |
  |  | 925 |  |
  |  | 926 | $criticalCSSContent\_Desktop\_After = $getCSSAfterPreloadComment($criticalCSSContent\_Desktop); |
  |  | 927 | $criticalCSSContent\_Mobile\_After = $getCSSAfterPreloadComment($criticalCSSContent\_Mobile); |
  |  | 928 |  |
  |  | 929 | // Append preload links followed by the critical CSS after the preload comment |
  |  | 930 | if ($this->isMobile() && !empty($criticalCSSContent\_Mobile)) { |
  |  | 931 | $output .= "\r\n" . $preloadLinks\_Mobile . '<style type="text/css" id="wpc-critical-css" class="wpc-critical-css-mobile">' . $criticalCSSContent\_Mobile\_After . '</style>'; |
  |  | 932 | } elseif (!empty($criticalCSSContent\_Desktop)) { |
  |  | 933 | $output .= "\r\n" . $preloadLinks\_Desktop . '<style type="text/css" id="wpc-critical-css" class="wpc-critical-css-desktop">' . $criticalCSSContent\_Desktop\_After . '</style>'; |
  |  | 934 | } |
  |  | 935 | } |
  |  | 936 |  |
  |  | 937 | return $output; |
  |  | 938 | } |
  |  | 939 |  |
  |  | 940 |  |
  |  | 941 | public function optimizeGoogleFonts($html) { |
  | 929 | 942 | $pattern = '/<link\s+[^>]\*href=["\']([^"\']\*fonts\.googleapis\.com\/css[^"\']\*)["\'][^>]\*>/i'; |
  | 930 | 943 | $html = preg\_replace\_callback($pattern, [\_\_CLASS\_\_, 'optimizeGoogleFontsRewrite'], $html); |
* ## [wp-compress-image-optimizer/trunk/addons/legacy/compress.php](/changeset/3054445/wp-compress-image-optimizer/trunk/addons/legacy/compress.php?old=3035261&old_path=wp-compress-image-optimizer%2Ftrunk%2Faddons%2Flegacy%2Fcompress.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/addons/legacy/compress.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/addons/legacy/compress.php?rev=3035261#L88 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/addons/legacy/compress.php?rev=3054445#L88 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 88 | 88 |  |
  | 89 | 89 | $apiVersion = 'v4'; |
  | 90 |  |  |
  | 91 |  | ~~if (!empty($\_GET['force\_region'])) {~~ |
  | 92 |  | ~~$location = get\_option('wps\_ic\_geo\_locate');~~ |
  | 93 |  | ~~$location->continent = $\_GET['force\_region'];~~ |
  | 94 |  | ~~$location->custom\_server = $\_GET['custom\_server'];~~ |
  | 95 |  | ~~$location = (array)$location;~~ |
  | 96 |  | ~~update\_option('wps\_ic\_geo\_locate', $location);~~ |
  | 97 |  | ~~}~~ |
  | 98 |  |  |
  | 99 |  | ~~if (!empty($\_GET['reset\_region'])) {~~ |
  | 100 |  | ~~$call = wp\_remote\_get('https://cdn.zapwp.net/?action=geo\_locate&domain=' . urlencode(site\_url()), ['timeout' => 30, 'sslverify' => false, 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0']);~~ |
  | 101 |  |  |
  | 102 |  | ~~if (wp\_remote\_retrieve\_response\_code($call) == 200) {~~ |
  | 103 |  | ~~$body = wp\_remote\_retrieve\_body($call);~~ |
  | 104 |  | ~~$body = json\_decode($body);~~ |
  | 105 |  |  |
  | 106 |  | ~~if ($body->success) {~~ |
  | 107 |  | ~~update\_option('wps\_ic\_geo\_locate', $body->data);~~ |
  | 108 |  | ~~} else {~~ |
  | 109 |  | ~~update\_option('wps\_ic\_geo\_locate', ['country' => 'EU', 'server' => 'frankfurt.zapwp.net']);~~ |
  | 110 |  | ~~}~~ |
  | 111 |  | ~~} else {~~ |
  | 112 |  | ~~update\_option('wps\_ic\_geo\_locate', ['country' => 'EU', 'server' => 'frankfurt.zapwp.net']);~~ |
  | 113 |  | ~~}~~ |
  | 114 |  | ~~}~~ |
  | 115 | 90 |  |
  | 116 | 91 | if (isset($location) && !empty($location)) { |
* ## [wp-compress-image-optimizer/trunk/assets/js/admin/charts/chartsjs.min.js](/changeset/3054445/wp-compress-image-optimizer/trunk/assets/js/admin/charts/chartsjs.min.js?old=2833008&old_path=wp-compress-image-optimizer%2Ftrunk%2Fassets%2Fjs%2Fadmin%2Fcharts%2Fchartsjs.min.js "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/assets/js/admin/charts/chartsjs.min.js")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/assets/js/admin/charts/chartsjs.min.js?rev=2833008#L1 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/assets/js/admin/charts/chartsjs.min.js?rev=3054445#L1 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | !function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=e()}(this,function(){"use strict";function t(){}const e=function(){let t=0;return function(){return t++}}();function i(t){return null==t}function s(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function n(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const o=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function a(t,e){return o(t)?t:e}function r(t,e){return void 0===t?e:t}const l=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:t/e,h=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100\*e:+t;function c(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function d(t,e,i,o){let a,r,l;if(s(t))if(r=t.length,o)for(a=r-1;a>=0;a--)e.call(i,t[a],a);else for(a=0;a<r;a++)e.call(i,t[a],a);else if(n(t))for(l=Object.keys(t),r=l.length,a=0;a<r;a++)e.call(i,t[l[a]],l[a])}function u(t,e){let i,s,n,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(n=t[i],o=e[i],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function f(t){if(s(t))return t.map(f);if(n(t)){const e=Object.create(null),i=Object.keys(t),s=i.length;let n=0;for(;n<s;++n)e[i[n]]=f(t[i[n]]);return e}return t}function g(t){return-1===["\_\_proto\_\_","prototype","constructor"].indexOf(t)}function p(t,e,i,s){if(!g(t))return;const o=e[t],a=i[t];n(o)&&n(a)?m(o,a,s):e[t]=f(a)}function m(t,e,i){const o=s(e)?e:[e],a=o.length;if(!n(t))return t;const r=(i=i||{}).merger||p;for(let s=0;s<a;++s){if(!n(e=o[s]))continue;const a=Object.keys(e);for(let s=0,n=a.length;s<n;++s)r(a[s],t,e,i)}return t}function b(t,e){return m(t,e,{merger:x})}function x(t,e,i){if(!g(t))return;const s=e[t],o=i[t];n(s)&&n(o)?b(s,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=f(o))}const \_={"":t=>t,x:t=>t.x,y:t=>t.y};function y(t,e){const i=\_[e]||(\_[e]=function(t){const e=v(t);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e));return i(t)}function v(t){const e=t.split("."),i=[];let s="";for(const t of e)s+=t,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}function w(t){return t.charAt(0).toUpperCase()+t.slice(1)}const M=t=>void 0!==t,k=t=>"function"==typeof t,S=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function P(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const D=Math.PI,O=2\*D,C=O+D,A=Number.POSITIVE\_INFINITY,T=D/180,L=D/2,E=D/4,R=2\*D/3,I=Math.log10,z=Math.sign;function F(t){const e=Math.round(t);t=N(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(I(t))),s=t/i;return(s<=1?1:s<=2?2:s<=5?5:10)\*i}function V(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s==0&&(e.push(s),e.push(t/s));return i===(0|i)&&e.push(i),e.sort((t,e)=>t-e).pop(),e}function B(t){return!isNaN(parseFloat(t))&&isFinite(t)}function N(t,e,i){return Math.abs(t-e)<i}function W(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function j(t,e,i){let s,n,o;for(s=0,n=t.length;s<n;s++)o=t[s][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function H(t){return t\*(D/180)}function $(t){return t\*(180/D)}function Y(t){if(!o(t))return;let e=1,i=0;for(;Math.round(t\*e)/e!==t;)e\*=10,i++;return i}function U(t,e){const i=e.x-t.x,s=e.y-t.y,n=Math.sqrt(i\*i+s\*s);let o=Math.atan2(s,i);return o<-.5\*D&&(o+=O),{angle:o,distance:n}}function X(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function q(t,e){return(t-e+C)%O-D}function K(t){return(t%O+O)%O}function G(t,e,i,s){const n=K(t),o=K(e),a=K(i),r=K(o-n),l=K(a-n),h=K(n-o),c=K(n-a);return n===o||n===a||s&&o===a||r>l&&h<c}function Z(t,e,i){return Math.max(e,Math.min(i,t))}function J(t){return Z(t,-32768,32767)}function Q(t,e,i,s=1e-6){return t>=Math.min(e,i)-s&&t<=Math.max(e,i)+s}function tt(t,e,i){i=i||(i=>t[i]<e);let s,n=t.length-1,o=0;for(;n-o>1;)s=o+n>>1,i(s)?o=s:n=s;return{lo:o,hi:n}}const et=(t,e,i,s)=>tt(t,i,s?s=>t[s][e]<=i:s=>t[s][e]<i),it=(t,e,i)=>tt(t,i,s=>t[s][e]>=i);function st(t,e,i){let s=0,n=t.length;for(;s<n&&t[s]<e;)s++;for(;n>s&&t[n-1]>i;)n--;return s>0||n<t.length?t.slice(s,n):t}const nt=["push","pop","shift","splice","unshift"];function ot(t,e){t.\_chartjs?t.\_chartjs.listeners.push(e):(Object.defineProperty(t,"\_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),nt.forEach(e=>{const i="\_onData"+w(e),s=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const n=s.apply(this,e);return t.\_chartjs.listeners.forEach(t=>{"function"==typeof t[i]&&t[i](...e)}),n}})}))}function at(t,e){const i=t.\_chartjs;if(!i)return;const s=i.listeners,n=s.indexOf(e);-1!==n&&s.splice(n,1),s.length>0||(nt.forEach(e=>{delete t[e]}),delete t.\_chartjs)}function rt(t){const e=new Set;let i,s;for(i=0,s=t.length;i<s;++i)e.add(t[i]);return e.size===s?t:Array.from(e)}const lt="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function ht(t,e,i){const s=i||(t=>Array.prototype.slice.call(t));let n=!1,o=[];return function(...i){o=s(i),n||(n=!0,lt.call(window,()=>{n=!1,t.apply(e,o)}))}}function ct(t,e){let i;return function(...s){return e?(clearTimeout(i),i=setTimeout(t,e,s)):t.apply(this,s),e}}const dt=t=>"start"===t?"left":"end"===t?"right":"center",ut=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,ft=(t,e,i,s)=>t===(s?"left":"right")?i:"center"===t?(e+i)/2:e;function gt(t,e,i){const s=e.length;let n=0,o=s;if(t.\_sorted){const{iScale:a,\_parsed:r}=t,l=a.axis,{min:h,max:c,minDefined:d,maxDefined:u}=a.getUserBounds();d&&(n=Z(Math.min(et(r,a.axis,h).lo,i?s:et(e,l,a.getPixelForValue(h)).lo),0,s-1)),o=u?Z(Math.max(et(r,a.axis,c,!0).hi+1,i?0:et(e,l,a.getPixelForValue(c),!0).hi+1),n,s)-n:s-n}return{start:n,count:o}}function pt(t){const{xScale:e,yScale:i,\_scaleRanges:s}=t,n={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!s)return t.\_scaleRanges=n,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,n),o}var mt=new class{constructor(){this.\_request=null,this.\_charts=new Map,this.\_running=!1,this.\_lastDate=void 0}\_notify(t,e,i,s){const n=e.listeners[s],o=e.duration;n.forEach(s=>s({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}\_refresh(){this.\_request||(this.\_running=!0,this.\_request=lt.call(window,()=>{this.\_update(),this.\_request=null,this.\_running&&this.\_refresh()}))}\_update(t=Date.now()){let e=0;this.\_charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const n=i.items;let o,a=n.length-1,r=!1;for(;a>=0;--a)o=n[a],o.\_active?(o.\_total>i.duration&&(i.duration=o.\_total),o.tick(t),r=!0):(n[a]=n[n.length-1],n.pop());r&&(s.draw(),this.\_notify(s,i,t,"progress")),n.length||(i.running=!1,this.\_notify(s,i,t,"complete"),i.initial=!1),e+=n.length}),this.\_lastDate=t,0===e&&(this.\_running=!1)}\_getAnims(t){const e=this.\_charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this.\_getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this.\_getAnims(t).items.push(...e)}has(t){return this.\_getAnims(t).items.length>0}start(t){const e=this.\_charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e.\_duration),0),this.\_refresh())}running(t){if(!this.\_running)return!1;const e=this.\_charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this.\_charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this.\_notify(t,e,Date.now(),"complete")}remove(t){return this.\_charts.delete(t)}};function bt(t){return t+.5|0}const xt=(t,e,i)=>Math.max(Math.min(t,i),e);function \_t(t){return xt(bt(2.55\*t),0,255)}function yt(t){return xt(bt(255\*t),0,255)}function vt(t){return xt(bt(t/2.55)/100,0,1)}function wt(t){return xt(bt(100\*t),0,100)}const Mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},kt=[..."0123456789ABCDEF"],St=t=>kt[15&t],Pt=t=>kt[(240&t)>>4]+kt[15&t],Dt=t=>(240&t)>>4==(15&t);function Ot(t){var e=(t=>Dt(t.r)&&Dt(t.g)&&Dt(t.b)&&Dt(t.a))(t)?St:Pt;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Ct=/^(hsla?|hwb|hsv)\(\s\*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s\*\)$/;function At(t,e,i){const s=e\*Math.min(i,1-i),n=(e,n=(e+t/30)%12)=>i-s\*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function Tt(t,e,i){const s=(s,n=(s+t/60)%6)=>i-i\*e\*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function Lt(t,e,i){const s=At(t,1,.5);let n;for(e+i>1&&(n=1/(e+i),e\*=n,i\*=n),n=0;n<3;n++)s[n]\*=1-e-i,s[n]+=e;return s}function Et(t){const e=t.r/255,i=t.g/255,s=t.b/255,n=Math.max(e,i,s),o=Math.min(e,i,s),a=(n+o)/2;let r,l,h;return n!==o&&(h=n-o,l=a>.5?h/(2-n-o):h/(n+o),r=function(t,e,i,s,n){return t===n?(e-i)/s+(e<i?6:0):e===n?(i-t)/s+2:(t-e)/s+4}(e,i,s,h,n),r=60\*r+.5),[0|r,l||0,a]}function Rt(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(yt)}function It(t,e,i){return Rt(At,t,e,i)}function zt(t){return(t%360+360)%360}function Ft(t){const e=Ct.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?\_t(+e[5]):yt(+e[5]));const n=zt(+e[2]),o=+e[3]/100,a=+e[4]/100;return i="hwb"===e[1]?function(t,e,i){return Rt(Lt,t,e,i)}(n,o,a):"hsv"===e[1]?function(t,e,i){return Rt(Tt,t,e,i)}(n,o,a):It(n,o,a),{r:i[0],g:i[1],b:i[2],a:s}}const Vt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Nt;function Wt(t){Nt||(Nt=function(){const t={},e=Object.keys(Bt),i=Object.keys(Vt);let s,n,o,a,r;for(s=0;s<e.length;s++){for(a=r=e[s],n=0;n<i.length;n++)o=i[n],r=r.replace(o,Vt[o]);o=parseInt(Bt[a],16),t[r]=[o>>16&255,o>>8&255,255&o]}return t}(),Nt.transparent=[0,0,0,0]);const e=Nt[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const jt=/^rgba?\(\s\*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s\*\)$/;const Ht=t=>t<=.0031308?12.92\*t:1.055\*Math.pow(t,1/2.4)-.055,$t=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Yt(t,e,i){if(t){let s=Et(t);s[e]=Math.max(0,Math.min(s[e]+s[e]\*i,0===e?360:1)),s=It(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Ut(t,e){return t?Object.assign(e||{},t):t}function Xt(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=yt(t[3]))):(e=Ut(t,{r:0,g:0,b:0,a:1})).a=yt(e.a),e}function qt(t){return"r"===t.charAt(0)?function(t){const e=jt.exec(t);let i,s,n,o=255;if(e){if(e[7]!==i){const t=+e[7];o=e[8]?\_t(t):xt(255\*t,0,255)}return i=+e[1],s=+e[3],n=+e[5],i=255&(e[2]?\_t(i):xt(i,0,255)),s=255&(e[4]?\_t(s):xt(s,0,255)),n=255&(e[6]?\_t(n):xt(n,0,255)),{r:i,g:s,b:n,a:o}}}(t):Ft(t)}class Kt{constructor(t){if(t instanceof Kt)return t;const e=typeof t;let i;var s,n,o;"object"===e?i=Xt(t):"string"===e&&(o=(s=t).length,"#"===s[0]&&(4===o||5===o?n={r:255&17\*Mt[s[1]],g:255&17\*Mt[s[2]],b:255&17\*Mt[s[3]],a:5===o?17\*Mt[s[4]]:255}:7!==o&&9!==o||(n={r:Mt[s[1]]<<4|Mt[s[2]],g:Mt[s[3]]<<4|Mt[s[4]],b:Mt[s[5]]<<4|Mt[s[6]],a:9===o?Mt[s[7]]<<4|Mt[s[8]]:255})),i=n||Wt(t)||qt(t)),this.\_rgb=i,this.\_valid=!!i}get valid(){return this.\_valid}get rgb(){var t=Ut(this.\_rgb);return t&&(t.a=vt(t.a)),t}set rgb(t){this.\_rgb=Xt(t)}rgbString(){return this.\_valid?(t=this.\_rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${vt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this.\_valid?Ot(this.\_rgb):void 0}hslString(){return this.\_valid?function(t){if(!t)return;const e=Et(t),i=e[0],s=wt(e[1]),n=wt(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${n}%, ${vt(t.a)})`:`hsl(${i}, ${s}%, ${n}%)`}(this.\_rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let n;const o=e===n?.5:e,a=2\*o-1,r=i.a-s.a,l=((a\*r==-1?a:(a+r)/(1+a\*r))+1)/2;n=1-l,i.r=255&l\*i.r+n\*s.r+.5,i.g=255&l\*i.g+n\*s.g+.5,i.b=255&l\*i.b+n\*s.b+.5,i.a=o\*i.a+(1-o)\*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this.\_rgb=function(t,e,i){const s=$t(vt(t.r)),n=$t(vt(t.g)),o=$t(vt(t.b));return{r:yt(Ht(s+i\*($t(vt(e.r))-s))),g:yt(Ht(n+i\*($t(vt(e.g))-n))),b:yt(Ht(o+i\*($t(vt(e.b))-o))),a:t.a+i\*(e.a-t.a)}}(this.\_rgb,t.\_rgb,e)),this}clone(){return new Kt(this.rgb)}alpha(t){return this.\_rgb.a=yt(t),this}clearer(t){return this.\_rgb.a\*=1-t,this}greyscale(){const t=this.\_rgb,e=bt(.3\*t.r+.59\*t.g+.11\*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this.\_rgb.a\*=1+t,this}negate(){const t=this.\_rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Yt(this.\_rgb,2,t),this}darken(t){return Yt(this.\_rgb,2,-t),this}saturate(t){return Yt(this.\_rgb,1,t),this}desaturate(t){return Yt(this.\_rgb,1,-t),this}rotate(t){return function(t,e){var i=Et(t);i[0]=zt(i[0]+e),i=It(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this.\_rgb,t),this}}function Gt(t){return new Kt(t)}function Zt(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Jt(t){return Zt(t)?t:Gt(t)}function Qt(t){return Zt(t)?t:Gt(t).saturate(.5).darken(.1).hexString()}const te=Object.create(null),ee=Object.create(null);function ie(t,e){if(!e)return t;const i=e.split(".");for(let e=0,s=i.length;e<s;++e){const s=i[e];t=t[s]||(t[s]=Object.create(null))}return t}function se(t,e,i){return"string"==typeof e?m(ie(t,e),i):m(ie(t,""),e)}var ne=new class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Qt(e.backgroundColor),this.hoverBorderColor=(t,e)=>Qt(e.borderColor),this.hoverColor=(t,e)=>Qt(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return se(this,t,e)}get(t){return ie(this,t)}describe(t,e){return se(ee,t,e)}override(t,e){return se(te,t,e)}route(t,e,i,s){const o=ie(this,t),a=ie(this,i),l="\_"+e;Object.defineProperties(o,{[l]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[l],e=a[s];return n(t)?Object.assign({},e,t):r(t,e)},set(t){this[l]=t}}})}}({\_scriptable:t=>!t.startsWith("on"),\_indexable:t=>"events"!==t,hover:{\_fallback:"interaction"},interaction:{\_scriptable:!1,\_indexable:!1}});function oe(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ae(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function re(t,e,i){let s;return"string"==typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100\*e.parentNode[i])):s=t,s}const le=t=>window.getComputedStyle(t,null);function he(t,e){return le(t).getPropertyValue(e)}const ce=["top","right","bottom","left"];function de(t,e,i){const s={};i=i?"-"+i:"";for(let n=0;n<4;n++){const o=ce[n];s[o]=parseFloat(t[e+"-"+o+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function ue(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:s}=e,n=le(i),o="border-box"===n.boxSizing,a=de(n,"padding"),r=de(n,"border","width"),{x:l,y:h,box:c}=function(t,e){const i=t.touches,s=i&&i.length?i[0]:t,{offsetX:n,offsetY:o}=s;let a,r,l=!1;if(((t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot))(n,o,t.target))a=n,r=o;else{const t=e.getBoundingClientRect();a=s.clientX-t.left,r=s.clientY-t.top,l=!0}return{x:a,y:r,box:l}}(t,i),d=a.left+(c&&r.left),u=a.top+(c&&r.top);let{width:f,height:g}=e;return o&&(f-=a.width+r.width,g-=a.height+r.height),{x:Math.round((l-d)/f\*i.width/s),y:Math.round((h-u)/g\*i.height/s)}}const fe=t=>Math.round(10\*t)/10;function ge(t,e,i,s){const n=le(t),o=de(n,"margin"),a=re(n.maxWidth,t,"clientWidth")||A,r=re(n.maxHeight,t,"clientHeight")||A,l=function(t,e,i){let s,n;if(void 0===e||void 0===i){const o=ae(t);if(o){const t=o.getBoundingClientRect(),a=le(o),r=de(a,"border","width"),l=de(a,"padding");e=t.width-l.width-r.width,i=t.height-l.height-r.height,s=re(a.maxWidth,o,"clientWidth"),n=re(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:s||A,maxHeight:n||A}}(t,e,i);let{width:h,height:c}=l;if("content-box"===n.boxSizing){const t=de(n,"border","width"),e=de(n,"padding");h-=e.width+t.width,c-=e.height+t.height}return h=Math.max(0,h-o.width),c=Math.max(0,s?Math.floor(h/s):c-o.height),h=fe(Math.min(h,a,l.maxWidth)),c=fe(Math.min(c,r,l.maxHeight)),h&&!c&&(c=fe(h/2)),{width:h,height:c}}function pe(t,e,i){const s=e||1,n=Math.floor(t.height\*s),o=Math.floor(t.width\*s);t.height=n/s,t.width=o/s;const a=t.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==s||a.height!==n||a.width!==o)&&(t.currentDevicePixelRatio=s,a.height=n,a.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0)}const me=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function be(t,e){const i=he(t,e),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function xe(t){return!t||i(t.size)||i(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function \_e(t,e,i,s,n){let o=e[n];return o||(o=e[n]=t.measureText(n).width,i.push(n)),o>s&&(s=o),s}function ye(t,e,i,n){let o=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(o=n.data={},a=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let r=0;const l=i.length;let h,c,d,u,f;for(h=0;h<l;h++)if(u=i[h],null!=u&&!0!==s(u))r=\_e(t,o,a,r,u);else if(s(u))for(c=0,d=u.length;c<d;c++)f=u[c],null==f||s(f)||(r=\_e(t,o,a,r,f));t.restore();const g=a.length/2;if(g>i.length){for(h=0;h<g;h++)delete o[a[h]];a.splice(0,g)}return r}function ve(t,e,i){const s=t.currentDevicePixelRatio,n=0!==i?Math.max(i/2,.5):0;return Math.round((e-n)\*s)/s+n}function we(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Me(t,e,i,s){ke(t,e,i,s,null)}function ke(t,e,i,s,n){let o,a,r,l,h,c;const d=e.pointStyle,u=e.rotation,f=e.radius;let g=(u||0)\*T;if(d&&"object"==typeof d&&(o=d.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(i,s),t.rotate(g),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void t.restore();if(!(isNaN(f)||f<=0)){switch(t.beginPath(),d){default:n?t.ellipse(i,s,n/2,f,0,0,O):t.arc(i,s,f,0,O),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(g)\*f,s-Math.cos(g)\*f),g+=R,t.lineTo(i+Math.sin(g)\*f,s-Math.cos(g)\*f),g+=R,t.lineTo(i+Math.sin(g)\*f,s-Math.cos(g)\*f),t.closePath();break;case"rectRounded":h=.516\*f,l=f-h,a=Math.cos(g+E)\*l,r=Math.sin(g+E)\*l,t.arc(i-a,s-r,h,g-D,g-L),t.arc(i+r,s-a,h,g-L,g),t.arc(i+a,s+r,h,g,g+L),t.arc(i-r,s+a,h,g+L,g+D),t.closePath();break;case"rect":if(!u){l=Math.SQRT1\_2\*f,c=n?n/2:l,t.rect(i-c,s-l,2\*c,2\*l);break}g+=E;case"rectRot":a=Math.cos(g)\*f,r=Math.sin(g)\*f,t.moveTo(i-a,s-r),t.lineTo(i+r,s-a),t.lineTo(i+a,s+r),t.lineTo(i-r,s+a),t.closePath();break;case"crossRot":g+=E;case"cross":a=Math.cos(g)\*f,r=Math.sin(g)\*f,t.moveTo(i-a,s-r),t.lineTo(i+a,s+r),t.moveTo(i+r,s-a),t.lineTo(i-r,s+a);break;case"star":a=Math.cos(g)\*f,r=Math.sin(g)\*f,t.moveTo(i-a,s-r),t.lineTo(i+a,s+r),t.moveTo(i+r,s-a),t.lineTo(i-r,s+a),g+=E,a=Math.cos(g)\*f,r=Math.sin(g)\*f,t.moveTo(i-a,s-r),t.lineTo(i+a,s+r),t.moveTo(i+r,s-a),t.lineTo(i-r,s+a);break;case"line":a=n?n/2:Math.cos(g)\*f,r=Math.sin(g)\*f,t.moveTo(i-a,s-r),t.lineTo(i+a,s+r);break;case"dash":t.moveTo(i,s),t.lineTo(i+Math.cos(g)\*f,s+Math.sin(g)\*f)}t.fill(),e.borderWidth>0&&t.stroke()}}function Se(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Pe(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function De(t){t.restore()}function Oe(t,e,i,s,n){if(!e)return t.lineTo(i.x,i.y);if("middle"===n){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else"after"===n!=!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function Ce(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function Ae(t,e,n,o,a,r={}){const l=s(e)?e:[e],h=r.strokeWidth>0&&""!==r.strokeColor;let c,d;for(t.save(),t.font=a.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]);i(e.rotation)||t.rotate(e.rotation);e.color&&(t.fillStyle=e.color);e.textAlign&&(t.textAlign=e.textAlign);e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,r),c=0;c<l.length;++c)d=l[c],h&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),i(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(d,n,o,r.maxWidth)),t.fillText(d,n,o,r.maxWidth),Te(t,n,o,d,r),o+=a.lineHeight;t.restore()}function Te(t,e,i,s,n){if(n.strikethrough||n.underline){const o=t.measureText(s),a=e-o.actualBoundingBoxLeft,r=e+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,h=i+o.actualBoundingBoxDescent,c=n.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(a,c),t.lineTo(r,c),t.stroke()}}function Le(t,e){const{x:i,y:s,w:n,h:o,radius:a}=e;t.arc(i+a.topLeft,s+a.topLeft,a.topLeft,-L,D,!0),t.lineTo(i,s+o-a.bottomLeft),t.arc(i+a.bottomLeft,s+o-a.bottomLeft,a.bottomLeft,D,L,!0),t.lineTo(i+n-a.bottomRight,s+o),t.arc(i+n-a.bottomRight,s+o-a.bottomRight,a.bottomRight,L,0,!0),t.lineTo(i+n,s+a.topRight),t.arc(i+n-a.topRight,s+a.topRight,a.topRight,0,-L,!0),t.lineTo(i+a.topLeft,s)}function Ee(t,e=[""],i=t,s,n=()=>t[0]){M(s)||(s=$e("\_fallback",t));const o={[Symbol.toStringTag]:"Object",\_cacheable:!0,\_scopes:t,\_rootScopes:i,\_fallback:s,\_getTarget:n,override:n=>Ee([n,...t],e,i,s)};return new Proxy(o,{deleteProperty:(e,i)=>(delete e[i],delete e.\_keys,delete t[0][i],!0),get:(i,s)=>Ve(i,s,()=>function(t,e,i,s){let n;for(const o of e)if(n=$e(ze(o,t),i),M(n))return Fe(t,n)?je(i,s,t,n):n}(s,e,t,i)),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t.\_scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Ye(t).includes(e),ownKeys:t=>Ye(t),set(t,e,i){const s=t.\_storage||(t.\_storage=n());return t[e]=s[e]=i,delete t.\_keys,!0}})}function Re(t,e,i,o){const a={\_cacheable:!1,\_proxy:t,\_context:e,\_subProxy:i,\_stack:new Set,\_descriptors:Ie(t,o),setContext:e=>Re(t,e,i,o),override:s=>Re(t.override(s),e,i,o)};return new Proxy(a,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>Ve(t,e,()=>function(t,e,i){const{\_proxy:o,\_context:a,\_subProxy:r,\_descriptors:l}=t;let h=o[e];k(h)&&l.isScriptable(e)&&(h=function(t,e,i,s){const{\_proxy:n,\_context:o,\_subProxy:a,\_stack:r}=i;if(r.has(t))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+t);r.add(t),e=e(o,a||s),r.delete(t),Fe(t,e)&&(e=je(n.\_scopes,n,t,e));return e}(e,h,t,i));s(h)&&h.length&&(h=function(t,e,i,s){const{\_proxy:o,\_context:a,\_subProxy:r,\_descriptors:l}=i;if(M(a.index)&&s(t))e=e[a.index%e.length];else if(n(e[0])){const i=e,s=o.\_scopes.filter(t=>t!==i);e=[];for(const n of i){const i=je(s,o,t,n);e.push(Re(i,a,r&&r[t],l))}}return e}(e,h,t,l.isIndexable));Fe(e,h)&&(h=Re(h,a,r&&r[e],l));return h}(t,e,i)),getOwnPropertyDescriptor:(e,i)=>e.\_descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,s)=>(t[i]=s,delete e[i],!0)})}function Ie(t,e={scriptable:!0,indexable:!0}){const{\_scriptable:i=e.scriptable,\_indexable:s=e.indexable,\_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:i,indexable:s,isScriptable:k(i)?i:()=>i,isIndexable:k(s)?s:()=>s}}const ze=(t,e)=>t?t+w(e):e,Fe=(t,e)=>n(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Ve(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const s=i();return t[e]=s,s}function Be(t,e,i){return k(t)?t(e,i):t}const Ne=(t,e)=>!0===t?e:"string"==typeof t?y(e,t):void 0;function We(t,e,i,s,n){for(const o of e){const e=Ne(i,o);if(e){t.add(e);const o=Be(e.\_fallback,i,n);if(M(o)&&o!==i&&o!==s)return o}else if(!1===e&&M(s)&&i!==s)return null}return!1}function je(t,e,i,o){const a=e.\_rootScopes,r=Be(e.\_fallback,i,o),l=[...t,...a],h=new Set;h.add(o);let c=He(h,l,i,r||i,o);return null!==c&&((!M(r)||r===i||(c=He(h,l,r,c,o),null!==c))&&Ee(Array.from(h),[""],a,r,()=>function(t,e,i){const o=t.\_getTarget();e in o||(o[e]={});const a=o[e];if(s(a)&&n(i))return i;return a}(e,i,o)))}function He(t,e,i,s,n){for(;i;)i=We(t,e,i,s,n);return i}function $e(t,e){for(const i of e){if(!i)continue;const e=i[t];if(M(e))return e}}function Ye(t){let e=t.\_keys;return e||(e=t.\_keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter(t=>!t.startsWith("\_")))e.add(t);return Array.from(e)}(t.\_scopes)),e}function Ue(t,e,i,s){const{iScale:n}=t,{key:o="r"}=this.\_parsing,a=new Array(s);let r,l,h,c;for(r=0,l=s;r<l;++r)h=r+i,c=e[h],a[r]={r:n.parse(y(c,o),h)};return a}const Xe=Number.EPSILON||1e-14,qe=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ke=t=>"x"===t?"y":"x";function Ge(t,e,i,s){const n=t.skip?e:t,o=e,a=i.skip?e:i,r=X(o,n),l=X(a,o);let h=r/(r+l),c=l/(r+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const d=s\*h,u=s\*c;return{previous:{x:o.x-d\*(a.x-n.x),y:o.y-d\*(a.y-n.y)},next:{x:o.x+u\*(a.x-n.x),y:o.y+u\*(a.y-n.y)}}}function Ze(t,e="x"){const i=Ke(e),s=t.length,n=Array(s).fill(0),o=Array(s);let a,r,l,h=qe(t,0);for(a=0;a<s;++a)if(r=l,l=h,h=qe(t,a+1),l){if(h){const t=h[e]-l[e];n[a]=0!==t?(h[i]-l[i])/t:0}o[a]=r?h?z(n[a-1])!==z(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a]}!function(t,e,i){const s=t.length;let n,o,a,r,l,h=qe(t,0);for(let c=0;c<s-1;++c)l=h,h=qe(t,c+1),l&&h&&(N(e[c],0,Xe)?i[c]=i[c+1]=0:(n=i[c]/e[c],o=i[c+1]/e[c],r=Math.pow(n,2)+Math.pow(o,2),r<=9||(a=3/Math.sqrt(r),i[c]=n\*a\*e[c],i[c+1]=o\*a\*e[c])))}(t,n,o),function(t,e,i="x"){const s=Ke(i),n=t.length;let o,a,r,l=qe(t,0);for(let h=0;h<n;++h){if(a=r,r=l,l=qe(t,h+1),!r)continue;const n=r[i],c=r[s];a&&(o=(n-a[i])/3,r[`cp1${i}`]=n-o,r[`cp1${s}`]=c-o\*e[h]),l&&(o=(l[i]-n)/3,r[`cp2${i}`]=n+o,r[`cp2${s}`]=c+o\*e[h])}}(t,o,e)}function Je(t,e,i){return Math.max(Math.min(t,i),e)}function Qe(t,e,i,s,n){let o,a,r,l;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)Ze(t,n);else{let i=s?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)r=t[o],l=Ge(i,r,t[Math.min(o+1,a-(s?0:1))%a],e.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,i=r}e.capBezierPoints&&function(t,e){let i,s,n,o,a,r=Se(t[0],e);for(i=0,s=t.length;i<s;++i)a=o,o=r,r=i<s-1&&Se(t[i+1],e),o&&(n=t[i],a&&(n.cp1x=Je(n.cp1x,e.left,e.right),n.cp1y=Je(n.cp1y,e.top,e.bottom)),r&&(n.cp2x=Je(n.cp2x,e.left,e.right),n.cp2y=Je(n.cp2y,e.top,e.bottom)))}(t,i)}const ti=t=>0===t||1===t,ei=(t,e,i)=>-Math.pow(2,10\*(t-=1))\*Math.sin((t-e)\*O/i),ii=(t,e,i)=>Math.pow(2,-10\*t)\*Math.sin((t-e)\*O/i)+1,si={linear:t=>t,easeInQuad:t=>t\*t,easeOutQuad:t=>-t\*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5\*t\*t:-.5\*(--t\*(t-2)-1),easeInCubic:t=>t\*t\*t,easeOutCubic:t=>(t-=1)\*t\*t+1,easeInOutCubic:t=>(t/=.5)<1?.5\*t\*t\*t:.5\*((t-=2)\*t\*t+2),easeInQuart:t=>t\*t\*t\*t,easeOutQuart:t=>-((t-=1)\*t\*t\*t-1),easeInOutQuart:t=>(t/=.5)<1?.5\*t\*t\*t\*t:-.5\*((t-=2)\*t\*t\*t-2),easeInQuint:t=>t\*t\*t\*t\*t,easeOutQuint:t=>(t-=1)\*t\*t\*t\*t+1,easeInOutQuint:t=>(t/=.5)<1?.5\*t\*t\*t\*t\*t:.5\*((t-=2)\*t\*t\*t\*t+2),easeInSine:t=>1-Math.cos(t\*L),easeOutSine:t=>Math.sin(t\*L),easeInOutSine:t=>-.5\*(Math.cos(D\*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10\*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10\*t),easeInOutExpo:t=>ti(t)?t:t<.5?.5\*Math.pow(2,10\*(2\*t-1)):.5\*(2-Math.pow(2,-10\*(2\*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t\*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)\*t),easeInOutCirc:t=>(t/=.5)<1?-.5\*(Math.sqrt(1-t\*t)-1):.5\*(Math.sqrt(1-(t-=2)\*t)+1),easeInElastic:t=>ti(t)?t:ei(t,.075,.3),easeOutElastic:t=>ti(t)?t:ii(t,.075,.3),easeInOutElastic(t){const e=.1125;return ti(t)?t:t<.5?.5\*ei(2\*t,e,.45):.5+.5\*ii(2\*t-1,e,.45)},easeInBack(t){const e=1.70158;return t\*t\*((e+1)\*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)\*t\*((e+1)\*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t\*t\*((1+(e\*=1.525))\*t-e)\*.5:.5\*((t-=2)\*t\*((1+(e\*=1.525))\*t+e)+2)},easeInBounce:t=>1-si.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e\*t\*t:t<2/i?e\*(t-=1.5/i)\*t+.75:t<2.5/i?e\*(t-=2.25/i)\*t+.9375:e\*(t-=2.625/i)\*t+.984375},easeInOutBounce:t=>t<.5?.5\*si.easeInBounce(2\*t):.5\*si.easeOutBounce(2\*t-1)+.5};function ni(t,e,i,s){return{x:t.x+i\*(e.x-t.x),y:t.y+i\*(e.y-t.y)}}function oi(t,e,i,s){return{x:t.x+i\*(e.x-t.x),y:"middle"===s?i<.5?t.y:e.y:"after"===s?i<1?t.y:e.y:i>0?e.y:t.y}}function ai(t,e,i,s){const n={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=ni(t,n,i),r=ni(n,o,i),l=ni(o,e,i),h=ni(a,r,i),c=ni(r,l,i);return ni(h,c,i)}const ri=new Map;function li(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let s=ri.get(i);return s||(s=new Intl.NumberFormat(t,e),ri.set(i,s)),s}(e,i).format(t)}const hi=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ci=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function di(t,e){const i=(""+t).match(hi);if(!i||"normal"===i[1])return 1.2\*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e\*t}function ui(t,e){const i={},s=n(e),o=s?Object.keys(e):e,a=n(t)?s?i=>r(t[i],t[e[i]]):e=>t[e]:()=>t;for(const t of o)i[t]=+a(t)||0;return i}function fi(t){return ui(t,{top:"y",right:"x",bottom:"y",left:"x"})}function gi(t){return ui(t,["topLeft","topRight","bottomLeft","bottomRight"])}function pi(t){const e=fi(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mi(t,e){t=t||{},e=e||ne.font;let i=r(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let s=r(t.style,e.style);s&&!(""+s).match(ci)&&(console.warn('Invalid font style specified: "'+s+'"'),s="");const n={family:r(t.family,e.family),lineHeight:di(r(t.lineHeight,e.lineHeight),i),size:i,style:s,weight:r(t.weight,e.weight),string:""};return n.string=xe(n),n}function bi(t,e,i,n){let o,a,r,l=!0;for(o=0,a=t.length;o<a;++o)if(r=t[o],void 0!==r&&(void 0!==e&&"function"==typeof r&&(r=r(e),l=!1),void 0!==i&&s(r)&&(r=r[i%r.length],l=!1),void 0!==r))return n&&!l&&(n.cacheable=!1),r}function xi(t,e,i){const{min:s,max:n}=t,o=h(e,(n-s)/2),a=(t,e)=>i&&0===t?0:t+e;return{min:a(s,-Math.abs(o)),max:a(n,o)}}function \_i(t,e){return Object.assign(Object.create(t),e)}function yi(t,e,i){return t?function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,i):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function vi(t,e){let i,s;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=s)}function wi(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Mi(t){return"angle"===t?{between:G,compare:q,normalize:K}:{between:Q,compare:(t,e)=>t-e,normalize:t=>t}}function ki({start:t,end:e,count:i,loop:s,style:n}){return{start:t%i,end:e%i,loop:s&&(e-t+1)%i==0,style:n}}function Si(t,e,i){if(!i)return[t];const{property:s,start:n,end:o}=i,a=e.length,{compare:r,between:l,normalize:h}=Mi(s),{start:c,end:d,loop:u,style:f}=function(t,e,i){const{property:s,start:n,end:o}=i,{between:a,normalize:r}=Mi(s),l=e.length;let h,c,{start:d,end:u,loop:f}=t;if(f){for(d+=l,u+=l,h=0,c=l;h<c&&a(r(e[d%l][s]),n,o);++h)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:f,style:t.style}}(t,e,i),g=[];let p,m,b,x=!1,\_=null;const y=()=>x||l(n,b,p)&&0!==r(n,b),v=()=>!x||0===r(o,p)||l(o,b,p);for(let t=c,i=c;t<=d;++t)m=e[t%a],m.skip||(p=h(m[s]),p!==b&&(x=l(p,n,o),null===\_&&y()&&(\_=0===r(p,n)?t:i),null!==\_&&v()&&(g.push(ki({start:\_,end:t,loop:u,count:a,style:f})),\_=null),i=t,b=p));return null!==\_&&g.push(ki({start:\_,end:d,loop:u,count:a,style:f})),g}function Pi(t,e){const i=[],s=t.segments;for(let n=0;n<s.length;n++){const o=Si(s[n],t.points,e);o.length&&i.push(...o)}return i}function Di(t,e){const i=t.points,s=t.options.spanGaps,n=i.length;if(!n)return[];const o=!!t.\_loop,{start:a,end:r}=function(t,e,i,s){let n=0,o=e-1;if(i&&!s)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,i&&(o+=n);o>n&&t[o%e].skip;)o--;return o%=e,{start:n,end:o}}(i,n,o,s);if(!0===s)return Oi(t,[{start:a,end:r,loop:o}],i,e);return Oi(t,function(t,e,i,s){const n=t.length,o=[];let a,r=e,l=t[e];for(a=e+1;a<=i;++a){const i=t[a%n];i.skip||i.stop?l.skip||(s=!1,o.push({start:e%n,end:(a-1)%n,loop:s}),e=r=i.stop?a:null):(r=a,l.skip&&(e=a)),l=i}return null!==r&&o.push({start:e%n,end:r%n,loop:s}),o}(i,a,r<a?r+n:r,!!t.\_fullLoop&&0===a&&r===n-1),i,e)}function Oi(t,e,i,s){return s&&s.setContext&&i?function(t,e,i,s){const n=t.\_chart.getContext(),o=Ci(t.options),{\_datasetIndex:a,options:{spanGaps:r}}=t,l=i.length,h=[];let c=o,d=e[0].start,u=d;function f(t,e,s,n){const o=r?-1:1;if(t!==e){for(t+=l;i[t%l].skip;)t-=o;for(;i[e%l].skip;)e+=o;t%l!=e%l&&(h.push({start:t%l,end:e%l,loop:s,style:n}),c=n,d=e%l)}}for(const t of e){d=r?d:t.start;let e,o=i[d%l];for(u=d+1;u<=t.end;u++){const r=i[u%l];e=Ci(s.setContext(\_i(n,{type:"segment",p0:o,p1:r,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:a}))),Ai(e,c)&&f(d,u-1,t.loop,c),o=r,c=e}d<u-1&&f(d,u-1,t.loop,c)}return h}(t,e,i,s):e}function Ci(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ai(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}var Ti=Object.freeze({\_\_proto\_\_:null,easingEffects:si,isPatternOrGradient:Zt,color:Jt,getHoverColor:Qt,noop:t,uid:e,isNullOrUndef:i,isArray:s,isObject:n,isFinite:o,finiteOrDefault:a,valueOrDefault:r,toPercentage:l,toDimension:h,callback:c,each:d,\_elementsEqual:u,clone:f,\_merger:p,merge:m,mergeIf:b,\_mergerIf:x,\_deprecated:function(t,e,i,s){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+s+'" instead')},resolveObjectKey:y,\_splitKey:v,\_capitalize:w,defined:M,isFunction:k,setsEqual:S,\_isClickEvent:P,toFontString:xe,\_measureText:\_e,\_longestText:ye,\_alignPixel:ve,clearCanvas:we,drawPoint:Me,drawPointLegend:ke,\_isPointInArea:Se,clipArea:Pe,unclipArea:De,\_steppedLineTo:Oe,\_bezierCurveTo:Ce,renderText:Ae,addRoundedRectPath:Le,\_lookup:tt,\_lookupByKey:et,\_rlookupByKey:it,\_filterBetween:st,listenArrayEvents:ot,unlistenArrayEvents:at,\_arrayUnique:rt,\_createResolver:Ee,\_attachContext:Re,\_descriptors:Ie,\_parseObjectDataRadialScale:Ue,splineCurve:Ge,splineCurveMonotone:Ze,\_updateBezierControlPoints:Qe,\_isDomSupported:oe,\_getParentNode:ae,getStyle:he,getRelativePosition:ue,getMaximumSize:ge,retinaScale:pe,supportsEventListenerOptions:me,readUsedSize:be,fontString:function(t,e,i){return e+" "+t+"px "+i},requestAnimFrame:lt,throttled:ht,debounce:ct,\_toLeftRightCenter:dt,\_alignStartEnd:ut,\_textX:ft,\_getStartAndCountOfVisiblePoints:gt,\_scaleRangesChanged:pt,\_pointInLine:ni,\_steppedInterpolation:oi,\_bezierInterpolation:ai,formatNumber:li,toLineHeight:di,\_readValueToProps:ui,toTRBL:fi,toTRBLCorners:gi,toPadding:pi,toFont:mi,resolve:bi,\_addGrace:xi,createContext:\_i,PI:D,TAU:O,PITAU:C,INFINITY:A,RAD\_PER\_DEG:T,HALF\_PI:L,QUARTER\_PI:E,TWO\_THIRDS\_PI:R,log10:I,sign:z,niceNum:F,\_factorize:V,isNumber:B,almostEquals:N,almostWhole:W,\_setMinAndMaxByKey:j,toRadians:H,toDegrees:$,\_decimalPlaces:Y,getAngleFromPoint:U,distanceBetweenPoints:X,\_angleDiff:q,\_normalizeAngle:K,\_angleBetween:G,\_limitValue:Z,\_int16Range:J,\_isBetween:Q,getRtlAdapter:yi,overrideTextDirection:vi,restoreTextDirection:wi,\_boundSegment:Si,\_boundSegments:Pi,\_computeSegments:Di});function Li(t,e,i,s){const{controller:n,data:o,\_sorted:a}=t,r=n.\_cachedMeta.iScale;if(r&&e===r.axis&&"r"!==e&&a&&o.length){const t=r.\_reversePixels?it:et;if(!s)return t(o,e,i);if(n.\_sharedOptions){const s=o[0],n="function"==typeof s.getRange&&s.getRange(e);if(n){const s=t(o,e,i-n),a=t(o,e,i+n);return{lo:s.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function Ei(t,e,i,s,n){const o=t.getSortedVisibleDatasetMetas(),a=i[e];for(let t=0,i=o.length;t<i;++t){const{index:i,data:r}=o[t],{lo:l,hi:h}=Li(o[t],e,a,n);for(let t=l;t<=h;++t){const e=r[t];e.skip||s(e,i,t)}}}function Ri(t,e,i,s,n){const o=[];if(!n&&!t.isPointInArea(e))return o;return Ei(t,i,e,function(i,a,r){(n||Se(i,t.chartArea,0))&&i.inRange(e.x,e.y,s)&&o.push({element:i,datasetIndex:a,index:r})},!0),o}function Ii(t,e,i,s,n,o){let a=[];const r=function(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,s){const n=e?Math.abs(t.x-s.x):0,o=i?Math.abs(t.y-s.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}}(i);let l=Number.POSITIVE\_INFINITY;return Ei(t,i,e,function(i,h,c){const d=i.inRange(e.x,e.y,n);if(s&&!d)return;const u=i.getCenterPoint(n);if(!(!!o||t.isPointInArea(u))&&!d)return;const f=r(e,u);f<l?(a=[{element:i,datasetIndex:h,index:c}],l=f):f===l&&a.push({element:i,datasetIndex:h,index:c})}),a}function zi(t,e,i,s,n,o){return o||t.isPointInArea(e)?"r"!==i||s?Ii(t,e,i,s,n,o):function(t,e,i,s){let n=[];return Ei(t,i,e,function(t,i,o){const{startAngle:a,endAngle:r}=t.getProps(["startAngle","endAngle"],s),{angle:l}=U(t,{x:e.x,y:e.y});G(l,a,r)&&n.push({element:t,datasetIndex:i,index:o})}),n}(t,e,i,n):[]}function Fi(t,e,i,s,n){const o=[],a="x"===i?"inXRange":"inYRange";let r=!1;return Ei(t,i,e,(t,s,l)=>{t[a](e[i],n)&&(o.push({element:t,datasetIndex:s,index:l}),r=r||t.inRange(e.x,e.y,n))}),s&&!r?[]:o}var Vi={evaluateInteractionItems:Ei,modes:{index(t,e,i,s){const n=ue(e,t),o=i.axis||"x",a=i.includeInvisible||!1,r=i.intersect?Ri(t,n,o,s,a):zi(t,n,o,!1,s,a),l=[];return r.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{const e=r[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})}),l):[]},dataset(t,e,i,s){const n=ue(e,t),o=i.axis||"xy",a=i.includeInvisible||!1;let r=i.intersect?Ri(t,n,o,s,a):zi(t,n,o,!1,s,a);if(r.length>0){const e=r[0].datasetIndex,i=t.getDatasetMeta(e).data;r=[];for(let t=0;t<i.length;++t)r.push({element:i[t],datasetIndex:e,index:t})}return r},point:(t,e,i,s)=>Ri(t,ue(e,t),i.axis||"xy",s,i.includeInvisible||!1),nearest(t,e,i,s){const n=ue(e,t),o=i.axis||"xy",a=i.includeInvisible||!1;return zi(t,n,o,i.intersect,s,a)},x:(t,e,i,s)=>Fi(t,ue(e,t),"x",i.intersect,s),y:(t,e,i,s)=>Fi(t,ue(e,t),"y",i.intersect,s)}};const Bi=["left","top","right","bottom"];function Ni(t,e){return t.filter(t=>t.pos===e)}function Wi(t,e){return t.filter(t=>-1===Bi.indexOf(t.pos)&&t.box.axis===e)}function ji(t,e){return t.sort((t,i)=>{const s=e?i:t,n=e?t:i;return s.weight===n.weight?s.index-n.index:s.weight-n.weight})}function Hi(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:s,stackWeight:n}=i;if(!t||!Bi.includes(s))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=n}return e}(t),{vBoxMaxWidth:s,hBoxMaxHeight:n}=e;let o,a,r;for(o=0,a=t.length;o<a;++o){r=t[o];const{fullSize:a}=r.box,l=i[r.stack],h=l&&r.stackWeight/l.weight;r.horizontal?(r.width=h?h\*s:a&&e.availableWidth,r.height=n):(r.width=s,r.height=h?h\*n:a&&e.availableHeight)}return i}function $i(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function Yi(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Ui(t,e,i,s){const{pos:o,box:a}=i,r=t.maxPadding;if(!n(o)){i.size&&(t[o]-=i.size);const e=s[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?a.height:a.width),i.size=e.size/e.count,t[o]+=i.size}a.getPadding&&Yi(r,a.getPadding());const l=Math.max(0,e.outerWidth-$i(r,t,"left","right")),h=Math.max(0,e.outerHeight-$i(r,t,"top","bottom")),c=l!==t.w,d=h!==t.h;return t.w=l,t.h=h,i.horizontal?{same:c,other:d}:{same:d,other:c}}function Xi(t,e){const i=e.maxPadding;function s(t){const s={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{s[t]=Math.max(e[t],i[t])}),s}return s(t?["left","right"]:["top","bottom"])}function qi(t,e,i,s){const n=[];let o,a,r,l,h,c;for(o=0,a=t.length,h=0;o<a;++o){r=t[o],l=r.box,l.update(r.width||e.w,r.height||e.h,Xi(r.horizontal,e));const{same:a,other:d}=Ui(e,i,r,s);h|=a&&n.length,c=c||d,l.fullSize||n.push(r)}return h&&qi(n,e,i,s)||c}function Ki(t,e,i,s,n){t.top=i,t.left=e,t.right=e+s,t.bottom=i+n,t.width=s,t.height=n}function Gi(t,e,i,s){const n=i.padding;let{x:o,y:a}=e;for(const r of t){const t=r.box,l=s[r.stack]||{count:1,placed:0,weight:1},h=r.stackWeight/l.weight||1;if(r.horizontal){const s=e.w\*h,o=l.size||t.height;M(l.start)&&(a=l.start),t.fullSize?Ki(t,n.left,a,i.outerWidth-n.right-n.left,o):Ki(t,e.left+l.placed,a,s,o),l.start=a,l.placed+=s,a=t.bottom}else{const s=e.h\*h,a=l.size||t.width;M(l.start)&&(o=l.start),t.fullSize?Ki(t,o,n.top,a,i.outerHeight-n.bottom-n.top):Ki(t,o,e.top+l.placed,a,s),l.start=o,l.placed+=s,o=t.right}}e.x=o,e.y=a}ne.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Zi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e.\_layers=e.\_layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,s){if(!t)return;const n=pi(t.options.layout.padding),o=Math.max(e-n.width,0),a=Math.max(i-n.height,0),r=function(t){const e=function(t){const e=[];let i,s,n,o,a,r;for(i=0,s=(t||[]).length;i<s;++i)n=t[i],{position:o,options:{stack:a,stackWeight:r=1}}=n,e.push({index:i,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&o+a,stackWeight:r});return e}(t),i=ji(e.filter(t=>t.box.fullSize),!0),s=ji(Ni(e,"left"),!0),n=ji(Ni(e,"right")),o=ji(Ni(e,"top"),!0),a=ji(Ni(e,"bottom")),r=Wi(e,"x"),l=Wi(e,"y");return{fullSize:i,leftAndTop:s.concat(o),rightAndBottom:n.concat(l).concat(a).concat(r),chartArea:Ni(e,"chartArea"),vertical:s.concat(n).concat(l),horizontal:o.concat(a).concat(r)}}(t.boxes),l=r.vertical,h=r.horizontal;d(t.boxes,t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()});const c=l.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),f=Object.assign({},n);Yi(f,pi(s));const g=Object.assign({maxPadding:f,w:o,h:a,x:n.left,y:n.top},n),p=Hi(l.concat(h),u);qi(r.fullSize,g,u,p),qi(l,g,u,p),qi(h,g,u,p)&&qi(l,g,u,p),function(t){const e=t.maxPadding;function i(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(g),Gi(r.leftAndTop,g,u,p),g.x+=g.w,g.y+=g.h,Gi(r.rightAndBottom,g,u,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},d(r.chartArea,e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Ji{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class Qi extends Ji{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ts={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},es=t=>null===t||""===t;const is=!!me&&{passive:!0};function ss(t,e,i){t.canvas.removeEventListener(e,i,is)}function ns(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function os(t,e,i){const s=t.canvas,n=new MutationObserver(t=>{let e=!1;for(const i of t)e=e||ns(i.addedNodes,s),e=e&&!ns(i.removedNodes,s);e&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}function as(t,e,i){const s=t.canvas,n=new MutationObserver(t=>{let e=!1;for(const i of t)e=e||ns(i.removedNodes,s),e=e&&!ns(i.addedNodes,s);e&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}const rs=new Map;let ls=0;function hs(){const t=window.devicePixelRatio;t!==ls&&(ls=t,rs.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function cs(t,e,i){const s=t.canvas,n=s&&ae(s);if(!n)return;const o=ht((t,e)=>{const s=n.clientWidth;i(t,e),s<n.clientWidth&&i()},window),a=new ResizeObserver(t=>{const e=t[0],i=e.contentRect.width,s=e.contentRect.height;0===i&&0===s||o(i,s)});return a.observe(n),function(t,e){rs.size||window.addEventListener("resize",hs),rs.set(t,e)}(t,o),a}function ds(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){rs.delete(t),rs.size||window.removeEventListener("resize",hs)}(t)}function us(t,e,i){const s=t.canvas,n=ht(e=>{null!==t.ctx&&i(function(t,e){const i=ts[t.type]||t.type,{x:s,y:n}=ue(t,e);return{type:i,chart:e,native:t,x:void 0!==s?s:null,y:void 0!==n?n:null}}(e,t))},t,t=>{const e=t[0];return[e,e.offsetX,e.offsetY]});return function(t,e,i){t.addEventListener(e,i,is)}(s,e,n),n}class fs extends Ji{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){const i=t.style,s=t.getAttribute("height"),n=t.getAttribute("width");if(t.$chartjs={initial:{height:s,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",es(n)){const e=be(t,"width");void 0!==e&&(t.width=e)}if(es(s))if(""===t.style.height)t.height=t.width/(e||2);else{const e=be(t,"height");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e.$chartjs)return!1;const s=e.$chartjs.initial;["height","width"].forEach(t=>{const n=s[t];i(n)?e.removeAttribute(t):e.setAttribute(t,n)});const n=s.style||{};return Object.keys(n).forEach(t=>{e.style[t]=n[t]}),e.width=e.width,delete e.$chartjs,!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),n={attach:os,detach:as,resize:cs}[e]||us;s[e]=n(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:ds,detach:ds,resize:ds}[e]||ss)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return ge(t,e,i,s)}isAttached(t){const e=ae(t);return!(!e||!e.isConnected)}}function gs(t){return!oe()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Qi:fs}var ps=Object.freeze({\_\_proto\_\_:null,\_detectPlatform:gs,BasePlatform:Ji,BasicPlatform:Qi,DomPlatform:fs});const ms="transparent",bs={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const s=Jt(t||ms),n=s.valid&&Jt(e||ms);return n&&n.valid?n.mix(s,i).hexString():e},number:(t,e,i)=>t+(e-t)\*i};class xs{constructor(t,e,i,s){const n=e[i];s=bi([t.to,s,n,t.from]);const o=bi([t.from,n,s]);this.\_active=!0,this.\_fn=t.fn||bs[t.type||typeof o],this.\_easing=si[t.easing]||si.linear,this.\_start=Math.floor(Date.now()+(t.delay||0)),this.\_duration=this.\_total=Math.floor(t.duration),this.\_loop=!!t.loop,this.\_target=e,this.\_prop=i,this.\_from=o,this.\_to=s,this.\_promises=void 0}active(){return this.\_active}update(t,e,i){if(this.\_active){this.\_notify(!1);const s=this.\_target[this.\_prop],n=i-this.\_start,o=this.\_duration-n;this.\_start=i,this.\_duration=Math.floor(Math.max(o,t.duration)),this.\_total+=n,this.\_loop=!!t.loop,this.\_to=bi([t.to,e,s,t.from]),this.\_from=bi([t.from,s,e])}}cancel(){this.\_active&&(this.tick(Date.now()),this.\_active=!1,this.\_notify(!1))}tick(t){const e=t-this.\_start,i=this.\_duration,s=this.\_prop,n=this.\_from,o=this.\_loop,a=this.\_to;let r;if(this.\_active=n!==a&&(o||e<i),!this.\_active)return this.\_target[s]=a,void this.\_notify(!0);e<0?this.\_target[s]=n:(r=e/i%2,r=o&&r>1?2-r:r,r=this.\_easing(Math.min(1,Math.max(0,r))),this.\_target[s]=this.\_fn(n,a,r))}wait(){const t=this.\_promises||(this.\_promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}\_notify(t){const e=t?"res":"rej",i=this.\_promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}ne.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const \_s=Object.keys(ne.animation);ne.describe("animation",{\_fallback:!1,\_indexable:!1,\_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),ne.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),ne.describe("animations",{\_fallback:"animation"}),ne.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class ys{constructor(t,e){this.\_chart=t,this.\_properties=new Map,this.configure(e)}configure(t){if(!n(t))return;const e=this.\_properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!n(o))return;const a={};for(const t of \_s)a[t]=o[t];(s(o.properties)&&o.properties||[i]).forEach(t=>{t!==i&&e.has(t)||e.set(t,a)})})}\_animateOptions(t,e){const i=e.options,s=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!s)return[];const n=this.\_createAnimations(s,i);return i.$shared&&function(t,e){const i=[],s=Object.keys(e);for(let e=0;e<s.length;e++){const n=t[s[e]];n&&n.active()&&i.push(n.wait())}return Promise.all(i)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),n}\_createAnimations(t,e){const i=this.\_properties,s=[],n=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let r;for(r=o.length-1;r>=0;--r){const l=o[r];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this.\_animateOptions(t,e));continue}const h=e[l];let c=n[l];const d=i.get(l);if(c){if(d&&c.active()){c.update(d,h,a);continue}c.cancel()}d&&d.duration?(n[l]=c=new xs(d,t,l,h),s.push(c)):t[l]=h}return s}update(t,e){if(0===this.\_properties.size)return void Object.assign(t,e);const i=this.\_createAnimations(t,e);return i.length?(mt.add(this.\_chart,i),!0):void 0}}function vs(t,e){const i=t&&t.options||{},s=i.reverse,n=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:s?o:n,end:s?n:o}}function ws(t,e){const i=[],s=t.\_getSortedDatasetMetas(e);let n,o;for(n=0,o=s.length;n<o;++n)i.push(s[n].index);return i}function Ms(t,e,i,s={}){const n=t.keys,a="single"===s.mode;let r,l,h,c;if(null!==e){for(r=0,l=n.length;r<l;++r){if(h=+n[r],h===i){if(s.all)continue;break}c=t.values[h],o(c)&&(a||0===e||z(e)===z(c))&&(e+=c)}return e}}function ks(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function Ss(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function Ps(t,e,i,s){for(const n of e.getMatchingVisibleMetas(s).reverse()){const e=t[n.index];if(i&&e>0||!i&&e<0)return n.index}return null}function Ds(t,e){const{chart:i,\_cachedMeta:s}=t,n=i.\_stacks||(i.\_stacks={}),{iScale:o,vScale:a,index:r}=s,l=o.axis,h=a.axis,c=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(o,a,s),d=e.length;let u;for(let t=0;t<d;++t){const i=e[t],{[l]:o,[h]:d}=i;u=(i.\_stacks||(i.\_stacks={}))[h]=Ss(n,c,o),u[r]=d,u.\_top=Ps(u,a,!0,s.type),u.\_bottom=Ps(u,a,!1,s.type)}}function Os(t,e){const i=t.scales;return Object.keys(i).filter(t=>i[t].axis===e).shift()}function Cs(t,e){const i=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t.\_parsed;for(const t of e){const e=t.\_stacks;if(!e||void 0===e[s]||void 0===e[s][i])return;delete e[s][i]}}}const As=t=>"reset"===t||"none"===t,Ts=(t,e)=>e?t:Object.assign({},t);class Ls{constructor(t,e){this.chart=t,this.\_ctx=t.ctx,this.index=e,this.\_cachedDataOpts={},this.\_cachedMeta=this.getMeta(),this.\_type=this.\_cachedMeta.type,this.options=void 0,this.\_parsing=!1,this.\_data=void 0,this.\_objectData=void 0,this.\_sharedOptions=void 0,this.\_drawStart=void 0,this.\_drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this.\_syncList=[],this.initialize()}initialize(){const t=this.\_cachedMeta;this.configure(),this.linkScales(),t.\_stacked=ks(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Cs(this.\_cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this.\_cachedMeta,i=this.getDataset(),s=(t,e,i,s)=>"x"===t?e:"r"===t?s:i,n=e.xAxisID=r(i.xAxisID,Os(t,"x")),o=e.yAxisID=r(i.yAxisID,Os(t,"y")),a=e.rAxisID=r(i.rAxisID,Os(t,"r")),l=e.indexAxis,h=e.iAxisID=s(l,n,o,a),c=e.vAxisID=s(l,o,n,a);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}\_getOtherScale(t){const e=this.\_cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this.\_update("reset")}\_destroy(){const t=this.\_cachedMeta;this.\_data&&at(this.\_data,this),t.\_stacked&&Cs(t)}\_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this.\_data;if(n(e))this.\_data=function(t){const e=Object.keys(t),i=new Array(e.length);let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s],i[s]={x:o,y:t[o]};return i}(e);else if(i!==e){if(i){at(i,this);const t=this.\_cachedMeta;Cs(t),t.\_parsed=[]}e&&Object.isExtensible(e)&&ot(e,this),this.\_syncList=[],this.\_data=e}}addElements(){const t=this.\_cachedMeta;this.\_dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this.\_cachedMeta,i=this.getDataset();let s=!1;this.\_dataCheck();const n=e.\_stacked;e.\_stacked=ks(e.vScale,e),e.stack!==i.stack&&(s=!0,Cs(e),e.stack=i.stack),this.\_resyncElements(t),(s||n!==e.\_stacked)&&Ds(this,e.\_parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this.\_type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this.\_parsing=this.options.parsing,this.\_cachedDataOpts={}}parse(t,e){const{\_cachedMeta:i,\_data:o}=this,{iScale:a,\_stacked:r}=i,l=a.axis;let h,c,d,u=0===t&&e===o.length||i.\_sorted,f=t>0&&i.\_parsed[t-1];if(!1===this.\_parsing)i.\_parsed=o,i.\_sorted=!0,d=o;else{d=s(o[t])?this.parseArrayData(i,o,t,e):n(o[t])?this.parseObjectData(i,o,t,e):this.parsePrimitiveData(i,o,t,e);const a=()=>null===c[l]||f&&c[l]<f[l];for(h=0;h<e;++h)i.\_parsed[h+t]=c=d[h],u&&(a()&&(u=!1),f=c);i.\_sorted=u}r&&Ds(this,d)}parsePrimitiveData(t,e,i,s){const{iScale:n,vScale:o}=t,a=n.axis,r=o.axis,l=n.getLabels(),h=n===o,c=new Array(s);let d,u,f;for(d=0,u=s;d<u;++d)f=d+i,c[d]={[a]:h||n.parse(l[f],f),[r]:o.parse(e[f],f)};return c}parseArrayData(t,e,i,s){const{xScale:n,yScale:o}=t,a=new Array(s);let r,l,h,c;for(r=0,l=s;r<l;++r)h=r+i,c=e[h],a[r]={x:n.parse(c[0],h),y:o.parse(c[1],h)};return a}parseObjectData(t,e,i,s){const{xScale:n,yScale:o}=t,{xAxisKey:a="x",yAxisKey:r="y"}=this.\_parsing,l=new Array(s);let h,c,d,u;for(h=0,c=s;h<c;++h)d=h+i,u=e[d],l[h]={x:n.parse(y(u,a),d),y:o.parse(y(u,r),d)};return l}getParsed(t){return this.\_cachedMeta.\_parsed[t]}getDataElement(t){return this.\_cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,n=this.\_cachedMeta,o=e[t.axis];return Ms({keys:ws(s,!0),values:e.\_stacks[t.axis]},o,n.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const n=i[e.axis];let o=null===n?NaN:n;const a=s&&i.\_stacks[e.axis];s&&a&&(s.values=a,o=Ms(s,n,this.\_cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this.\_cachedMeta,s=i.\_parsed,n=i.\_sorted&&t===i.iScale,a=s.length,r=this.\_getOtherScale(t),l=((t,e,i)=>t&&!e.hidden&&e.\_stacked&&{keys:ws(i,!0),values:null})(e,i,this.chart),h={min:Number.POSITIVE\_INFINITY,max:Number.NEGATIVE\_INFINITY},{min:c,max:d}=function(t){const{min:e,max:i,minDefined:s,maxDefined:n}=t.getUserBounds();return{min:s?e:Number.NEGATIVE\_INFINITY,max:n?i:Number.POSITIVE\_INFINITY}}(r);let u,f;function g(){f=s[u];const e=f[r.axis];return!o(f[t.axis])||c>e||d<e}for(u=0;u<a&&(g()||(this.updateRangeFromParsed(h,t,f,l),!n));++u);if(n)for(u=a-1;u>=0;--u)if(!g()){this.updateRangeFromParsed(h,t,f,l);break}return h}getAllParsedValues(t){const e=this.\_cachedMeta.\_parsed,i=[];let s,n,a;for(s=0,n=e.length;s<n;++s)a=e[s][t.axis],o(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this.\_cachedMeta,i=e.iScale,s=e.vScale,n=this.getParsed(t);return{label:i?""+i.getLabelForValue(n[i.axis]):"",value:s?""+s.getLabelForValue(n[s.axis]):""}}\_update(t){const e=this.\_cachedMeta;this.update(t||"default"),e.\_clip=function(t){let e,i,s,o;return n(t)?(e=t.top,i=t.right,s=t.bottom,o=t.left):e=i=s=o=t,{top:e,right:i,bottom:s,left:o,disabled:!1===t}}(r(this.options.clip,function(t,e,i){if(!1===i)return!1;const s=vs(t,i),n=vs(e,i);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this.\_ctx,e=this.chart,i=this.\_cachedMeta,s=i.data||[],n=e.chartArea,o=[],a=this.\_drawStart||0,r=this.\_drawCount||s.length-a,l=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,n,a,r),h=a;h<a+r;++h){const e=s[h];e.hidden||(e.active&&l?o.push(e):e.draw(t,n))}for(h=0;h<o.length;++h)o[h].draw(t,n)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this.\_cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let n;if(t>=0&&t<this.\_cachedMeta.data.length){const e=this.\_cachedMeta.data[t];n=e.$context||(e.$context=function(t,e,i){return \_i(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),n.parsed=this.getParsed(t),n.raw=s.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=function(t,e){return \_i(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=s,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=i,n}resolveDatasetElementOptions(t){return this.\_resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this.\_resolveElementOptions(this.dataElementType.id,e,t)}\_resolveElementOptions(t,e="default",i){const s="active"===e,n=this.\_cachedDataOpts,o=t+"-"+e,a=n[o],r=this.enableOptionSharing&&M(i);if(a)return Ts(a,r);const l=this.chart.config,h=l.datasetElementScopeKeys(this.\_type,t),c=s?[`${t}Hover`,"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),h),u=Object.keys(ne.elements[t]),f=l.resolveNamedOptions(d,u,()=>this.getContext(i,s),c);return f.$shared&&(f.$shared=r,n[o]=Object.freeze(Ts(f,r))),f}\_resolveAnimations(t,e,i){const s=this.chart,n=this.\_cachedDataOpts,o=`animation-${e}`,a=n[o];if(a)return a;let r;if(!1!==s.options.animation){const s=this.chart.config,n=s.datasetAnimationScopeKeys(this.\_type,e),o=s.getOptionScopes(this.getDataset(),n);r=s.createResolver(o,this.getContext(t,i,e))}const l=new ys(s,r&&r.animations);return r&&r.\_cacheable&&(n[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this.\_sharedOptions||(this.\_sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||As(t)||this.chart.\_animationsDisabled}\_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this.\_sharedOptions,n=this.getSharedOptions(i),o=this.includeOptions(e,n)||n!==s;return this.updateSharedOptions(n,e,i),{sharedOptions:n,includeOptions:o}}updateElement(t,e,i,s){As(s)?Object.assign(t,i):this.\_resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!As(e)&&this.\_resolveAnimations(void 0,e).update(t,i)}\_setStyle(t,e,i,s){t.active=s;const n=this.getStyle(e,s);this.\_resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(n)||n})}removeHoverStyle(t,e,i){this.\_setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this.\_setStyle(t,i,"active",!0)}\_removeDatasetHoverStyle(){const t=this.\_cachedMeta.dataset;t&&this.\_setStyle(t,void 0,"active",!1)}\_setDatasetHoverStyle(){const t=this.\_cachedMeta.dataset;t&&this.\_setStyle(t,void 0,"active",!0)}\_resyncElements(t){const e=this.\_data,i=this.\_cachedMeta.data;for(const[t,e,i]of this.\_syncList)this[t](e,i);this.\_syncList=[];const s=i.length,n=e.length,o=Math.min(n,s);o&&this.parse(0,o),n>s?this.\_insertElements(s,n-s,t):n<s&&this.\_removeElements(n,s-n)}\_insertElements(t,e,i=!0){const s=this.\_cachedMeta,n=s.data,o=t+e;let a;const r=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(r(n),a=t;a<o;++a)n[a]=new this.dataElementType;this.\_parsing&&r(s.\_parsed),this.parse(t,e),i&&this.updateElements(n,t,e,"reset")}updateElements(t,e,i,s){}\_removeElements(t,e){const i=this.\_cachedMeta;if(this.\_parsing){const s=i.\_parsed.splice(t,e);i.\_stacked&&Cs(i,s)}i.data.splice(t,e)}\_sync(t){if(this.\_parsing)this.\_syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart.\_dataChanges.push([this.index,...t])}\_onDataPush(){const t=arguments.length;this.\_sync(["\_insertElements",this.getDataset().data.length-t,t])}\_onDataPop(){this.\_sync(["\_removeElements",this.\_cachedMeta.data.length-1,1])}\_onDataShift(){this.\_sync(["\_removeElements",0,1])}\_onDataSplice(t,e){e&&this.\_sync(["\_removeElements",t,e]);const i=arguments.length-2;i&&this.\_sync(["\_insertElements",t,i])}\_onDataUnshift(){this.\_sync(["\_insertElements",0,arguments.length])}}Ls.defaults={},Ls.prototype.datasetElementType=null,Ls.prototype.dataElementType=null;class Es{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return B(this.x)&&B(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(t=>{s[t]=i[t]&&i[t].active()?i[t].\_to:this[t]}),s}}Es.defaults={},Es.defaultRoutes=void 0;const Rs={values:t=>s(t)?t:""+t,numeric(t,e,i){if(0===t)return"0";const s=this.chart.options.locale;let n,o=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(n="scientific"),o=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}const a=I(Math.abs(o)),r=Math.max(Math.min(-1\*Math.floor(a),20),0),l={notation:n,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),li(t,s,l)},logarithmic(t,e,i){if(0===t)return"0";const s=t/Math.pow(10,Math.floor(I(t)));return 1===s||2===s||5===s?Rs.numeric.call(this,t,e,i):""}};var Is={formatters:Rs};function zs(t,e){const s=t.options.ticks,n=s.maxTicksLimit||function(t){const e=t.options.offset,i=t.\_tickSize(),s=t.\_length/i+(e?0:1),n=t.\_maxLength/i;return Math.floor(Math.min(s,n))}(t),o=s.major.enabled?function(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}(e):[],a=o.length,r=o[0],l=o[a-1],h=[];if(a>n)return function(t,e,i,s){let n,o=0,a=i[0];for(s=Math.ceil(s),n=0;n<t.length;n++)n===a&&(e.push(t[n]),o++,a=i[o\*s])}(e,h,o,a/n),h;const c=function(t,e,i){const s=function(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}(t),n=e.length/i;if(!s)return Math.max(n,1);const o=V(s);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>n)return e}return Math.max(n,1)}(o,e,n);if(a>0){let t,s;const n=a>1?Math.round((l-r)/(a-1)):null;for(Fs(e,h,c,i(n)?0:r-n,r),t=0,s=a-1;t<s;t++)Fs(e,h,c,o[t],o[t+1]);return Fs(e,h,c,l,i(n)?e.length:l+n),h}return Fs(e,h,c),h}function Fs(t,e,i,s,n){const o=r(s,0),a=Math.min(r(n,t.length),t.length);let l,h,c,d=0;for(i=Math.ceil(i),n&&(l=n-s,i=l/Math.floor(l/i)),c=o;c<0;)d++,c=Math.round(o+d\*i);for(h=Math.max(o,0);h<a;h++)h===c&&(e.push(t[h]),d++,c=Math.round(o+d\*i))}ne.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Is.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),ne.route("scale.ticks","color","","color"),ne.route("scale.grid","color","","borderColor"),ne.route("scale.grid","borderColor","","borderColor"),ne.route("scale.title","color","","color"),ne.describe("scale",{\_fallback:!1,\_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,\_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),ne.describe("scales",{\_fallback:"scale"}),ne.describe("scale.ticks",{\_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,\_indexable:t=>"backdropPadding"!==t});const Vs=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i;function Bs(t,e){const i=[],s=t.length/e,n=t.length;let o=0;for(;o<n;o+=s)i.push(t[Math.floor(o)]);return i}function Ns(t,e,i){const s=t.ticks.length,n=Math.min(e,s-1),o=t.\_startPixel,a=t.\_endPixel,r=1e-6;let l,h=t.getPixelForTick(n);if(!(i&&(l=1===s?Math.max(h-o,a-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(n-1))/2,h+=n<e?l:-l,h<o-r||h>a+r)))return h}function Ws(t){return t.drawTicks?t.tickLength:0}function js(t,e){if(!t.display)return 0;const i=mi(t.font,e),n=pi(t.padding);return(s(t.text)?t.text.length:1)\*i.lineHeight+n.height}function Hs(t,e,i){let s=dt(t);return(i&&"right"!==e||!i&&"right"===e)&&(s=(t=>"left"===t?"right":"right"===t?"left":t)(s)),s}class $s extends Es{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.\_margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this.\_range=void 0,this.ticks=[],this.\_gridLineItems=null,this.\_labelItems=null,this.\_labelSizes=null,this.\_length=0,this.\_maxLength=0,this.\_longestTextCache={},this.\_startPixel=void 0,this.\_endPixel=void 0,this.\_reversePixels=!1,this.\_userMax=void 0,this.\_userMin=void 0,this.\_suggestedMax=void 0,this.\_suggestedMin=void 0,this.\_ticksLength=0,this.\_borderValue=0,this.\_cache={},this.\_dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this.\_userMin=this.parse(t.min),this.\_userMax=this.parse(t.max),this.\_suggestedMin=this.parse(t.suggestedMin),this.\_suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{\_userMin:t,\_userMax:e,\_suggestedMin:i,\_suggestedMax:s}=this;return t=a(t,Number.POSITIVE\_INFINITY),e=a(e,Number.NEGATIVE\_INFINITY),i=a(i,Number.POSITIVE\_INFINITY),s=a(s,Number.NEGATIVE\_INFINITY),{min:a(t,i),max:a(e,s),minDefined:o(t),maxDefined:o(e)}}getMinMax(t){let e,{min:i,max:s,minDefined:n,maxDefined:o}=this.getUserBounds();if(n&&o)return{min:i,max:s};const r=this.getMatchingVisibleMetas();for(let a=0,l=r.length;a<l;++a)e=r[a].controller.getMinMax(this,t),n||(i=Math.min(i,e.min)),o||(s=Math.max(s,e.max));return i=o&&i>s?s:i,s=n&&i>s?i:s,{min:a(i,a(s,i)),max:a(s,a(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this.\_cache={},this.\_dataLimitsCached=!1}beforeUpdate(){c(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:n,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this.\_margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this.\_labelSizes=null,this.\_gridLineItems=null,this.\_labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.\_maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this.\_dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.\_range=xi(this,n,s),this.\_dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=a<this.ticks.length;this.\_convertTicksToLabels(r?Bs(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=zs(this,this.ticks),this.\_labelSizes=null,this.afterAutoSkip()),r&&this.\_convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this.\_startPixel=t,this.\_endPixel=e,this.\_reversePixels=i,this.\_length=e-t,this.\_alignToPixels=this.options.alignToPixels}afterUpdate(){c(this.options.afterUpdate,[this])}beforeSetDimensions(){c(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){c(this.options.afterSetDimensions,[this])}\_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),c(this.options[t],[this])}beforeDataLimits(){this.\_callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this.\_callHooks("afterDataLimits")}beforeBuildTicks(){this.\_callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this.\_callHooks("afterBuildTicks")}beforeTickToLabelConversion(){c(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,n;for(i=0,s=t.length;i<s;i++)n=t[i],n.label=c(e.callback,[n.value,i,t],this)}afterTickToLabelConversion(){c(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){c(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,s=e.minRotation||0,n=e.maxRotation;let o,a,r,l=s;if(!this.\_isVisible()||!e.display||s>=n||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const h=this.\_getLabelSizes(),c=h.widest.width,d=h.highest.height,u=Z(this.chart.width-c,0,this.maxWidth);o=t.offset?this.maxWidth/i:u/(i-1),c+6>o&&(o=u/(i-(t.offset?.5:1)),a=this.maxHeight-Ws(t.grid)-e.padding-js(t.title,this.chart.options.font),r=Math.sqrt(c\*c+d\*d),l=$(Math.min(Math.asin(Z((h.highest.height+6)/o,-1,1)),Math.asin(Z(a/r,-1,1))-Math.asin(Z(d/r,-1,1)))),l=Math.max(s,Math.min(n,l))),this.labelRotation=l}afterCalculateLabelRotation(){c(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){c(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:n}}=this,o=this.\_isVisible(),a=this.isHorizontal();if(o){const o=js(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=Ws(n)+o):(t.height=this.maxHeight,t.width=Ws(n)+o),i.display&&this.ticks.length){const{first:e,last:s,widest:n,highest:o}=this.\_getLabelSizes(),r=2\*i.padding,l=H(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(a){const e=i.mirror?0:c\*n.width+h\*o.height;t.height=Math.min(this.maxHeight,t.height+e+r)}else{const e=i.mirror?0:h\*n.width+c\*o.height;t.width=Math.min(this.maxWidth,t.width+e+r)}this.\_calculatePadding(e,s,c,h)}}this.\_handleMargins(),a?(this.width=this.\_length=e.width-this.\_margins.left-this.\_margins.right,this.height=t.height):(this.width=t.width,this.height=this.\_length=e.height-this.\_margins.top-this.\_margins.bottom)}\_calculatePadding(t,e,i,s){const{ticks:{align:n,padding:o},position:a}=this.options,r=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;r?l?(c=s\*t.width,d=i\*e.height):(c=i\*t.height,d=s\*e.width):"start"===n?d=e.width:"end"===n?c=t.width:"inner"!==n&&(c=t.width/2,d=e.width/2),this.paddingLeft=Math.max((c-a+o)\*this.width/(this.width-a),0),this.paddingRight=Math.max((d-h+o)\*this.width/(this.width-h),0)}else{let i=e.height/2,s=t.height/2;"start"===n?(i=0,s=t.height):"end"===n&&(i=e.height,s=0),this.paddingTop=i+o,this.paddingBottom=s+o}}\_handleMargins(){this.\_margins&&(this.\_margins.left=Math.max(this.paddingLeft,this.\_margins.left),this.\_margins.top=Math.max(this.paddingTop,this.\_margins.top),this.\_margins.right=Math.max(this.paddingRight,this.\_margins.right),this.\_margins.bottom=Math.max(this.paddingBottom,this.\_margins.bottom))}afterFit(){c(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}\_convertTicksToLabels(t){let e,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,s=t.length;e<s;e++)i(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}\_getLabelSizes(){let t=this.\_labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Bs(i,e)),this.\_labelSizes=t=this.\_computeLabelSizes(i,i.length)}return t}\_computeLabelSizes(t,e){const{ctx:n,\_longestTextCache:o}=this,a=[],r=[];let l,h,c,u,f,g,p,m,b,x,\_,y=0,v=0;for(l=0;l<e;++l){if(u=t[l].label,f=this.\_resolveTickFontOptions(l),n.font=g=f.string,p=o[g]=o[g]||{data:{},gc:[]},m=f.lineHeight,b=x=0,i(u)||s(u)){if(s(u))for(h=0,c=u.length;h<c;++h)\_=u[h],i(\_)||s(\_)||(b=\_e(n,p.data,p.gc,b,\_),x+=m)}else b=\_e(n,p.data,p.gc,b,u),x=m;a.push(b),r.push(x),y=Math.max(b,y),v=Math.max(x,v)}!function(t,e){d(t,t=>{const i=t.gc,s=i.length/2;let n;if(s>e){for(n=0;n<s;++n)delete t.data[i[n]];i.splice(0,s)}})}(o,e);const w=a.indexOf(y),M=r.indexOf(v),k=t=>({width:a[t]||0,height:r[t]||0});return{first:k(0),last:k(e-1),widest:k(w),highest:k(M),widths:a,heights:r}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this.\_reversePixels&&(t=1-t);const e=this.\_startPixel+t\*this.\_length;return J(this.\_alignToPixels?ve(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this.\_startPixel)/this.\_length;return this.\_reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return \_i(t,{tick:i,index:e,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=\_i(this.chart.getContext(),{scale:this,type:"scale"}))}\_tickSize(){const t=this.options.ticks,e=H(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),n=this.\_getLabelSizes(),o=t.autoSkipPadding||0,a=n?n.widest.width+o:0,r=n?n.highest.height+o:0;return this.isHorizontal()?r\*i>a\*s?a/i:r/s:r\*s<a\*i?r/i:a/s}\_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}\_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:o,position:a}=s,l=o.offset,h=this.isHorizontal(),c=this.ticks.length+(l?1:0),d=Ws(o),u=[],f=o.setContext(this.getContext()),g=f.drawBorder?f.borderWidth:0,p=g/2,m=function(t){return ve(i,t,g)};let b,x,\_,y,v,w,M,k,S,P,D,O;if("top"===a)b=m(this.bottom),w=this.bottom-d,k=b-p,P=m(t.top)+p,O=t.bottom;else if("bottom"===a)b=m(this.top),P=t.top,O=m(t.bottom)-p,w=b+p,k=this.top+d;else if("left"===a)b=m(this.right),v=this.right-d,M=b-p,S=m(t.left)+p,D=t.right;else if("right"===a)b=m(this.left),S=t.left,D=m(t.right)-p,v=b+p,M=this.left+d;else if("x"===e){if("center"===a)b=m((t.top+t.bottom)/2+.5);else if(n(a)){const t=Object.keys(a)[0],e=a[t];b=m(this.chart.scales[t].getPixelForValue(e))}P=t.top,O=t.bottom,w=b+p,k=w+d}else if("y"===e){if("center"===a)b=m((t.left+t.right)/2);else if(n(a)){const t=Object.keys(a)[0],e=a[t];b=m(this.chart.scales[t].getPixelForValue(e))}v=b-p,M=v-d,S=t.left,D=t.right}const C=r(s.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/C));for(x=0;x<c;x+=A){const t=o.setContext(this.getContext(x)),e=t.lineWidth,s=t.color,n=t.borderDash||[],a=t.borderDashOffset,r=t.tickWidth,c=t.tickColor,d=t.tickBorderDash||[],f=t.tickBorderDashOffset;\_=Ns(this,x,l),void 0!==\_&&(y=ve(i,\_,e),h?v=M=S=D=y:w=k=P=O=y,u.push({tx1:v,ty1:w,tx2:M,ty2:k,x1:S,y1:P,x2:D,y2:O,width:e,color:s,borderDash:n,borderDashOffset:a,tickWidth:r,tickColor:c,tickBorderDash:d,tickBorderDashOffset:f}))}return this.\_ticksLength=c,this.\_borderValue=b,u}\_computeLabelItems(t){const e=this.axis,i=this.options,{position:o,ticks:a}=i,r=this.isHorizontal(),l=this.ticks,{align:h,crossAlign:c,padding:d,mirror:u}=a,f=Ws(i.grid),g=f+d,p=u?-d:g,m=-H(this.labelRotation),b=[];let x,\_,y,v,w,M,k,S,P,D,O,C,A="middle";if("top"===o)M=this.bottom-p,k=this.\_getXAxisLabelAlignment();else if("bottom"===o)M=this.top+p,k=this.\_getXAxisLabelAlignment();else if("left"===o){const t=this.\_getYAxisLabelAlignment(f);k=t.textAlign,w=t.x}else if("right"===o){const t=this.\_getYAxisLabelAlignment(f);k=t.textAlign,w=t.x}else if("x"===e){if("center"===o)M=(t.top+t.bottom)/2+g;else if(n(o)){const t=Object.keys(o)[0],e=o[t];M=this.chart.scales[t].getPixelForValue(e)+g}k=this.\_getXAxisLabelAlignment()}else if("y"===e){if("center"===o)w=(t.left+t.right)/2-g;else if(n(o)){const t=Object.keys(o)[0],e=o[t];w=this.chart.scales[t].getPixelForValue(e)}k=this.\_getYAxisLabelAlignment(f).textAlign}"y"===e&&("start"===h?A="top":"end"===h&&(A="bottom"));const T=this.\_getLabelSizes();for(x=0,\_=l.length;x<\_;++x){y=l[x],v=y.label;const t=a.setContext(this.getContext(x));S=this.getPixelForTick(x)+a.labelOffset,P=this.\_resolveTickFontOptions(x),D=P.lineHeight,O=s(v)?v.length:1;const e=O/2,i=t.color,n=t.textStrokeColor,h=t.textStrokeWidth;let d,f=k;if(r?(w=S,"inner"===k&&(f=x===\_-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),C="top"===o?"near"===c||0!==m?-O\*D+D/2:"center"===c?-T.highest.height/2-e\*D+D:-T.highest.height+D/2:"near"===c||0!==m?D/2:"center"===c?T.highest.height/2-e\*D:T.highest.height-O\*D,u&&(C\*=-1)):(M=S,C=(1-O)\*D/2),t.showLabelBackdrop){const e=pi(t.backdropPadding),i=T.heights[x],s=T.widths[x];let n=M+C-e.top,o=w-e.left;switch(A){case"middle":n-=i/2;break;case"bottom":n-=i}switch(k){case"center":o-=s/2;break;case"right":o-=s}d={left:o,top:n,width:s+e.width,height:i+e.height,color:t.backdropColor}}b.push({rotation:m,label:v,font:P,color:i,strokeColor:n,strokeWidth:h,textOffset:C,textAlign:f,textBaseline:A,translation:[w,M],backdrop:d})}return b}\_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-H(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}\_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:n}}=this.options,o=t+n,a=this.\_getLabelSizes().widest.width;let r,l;return"left"===e?s?(l=this.right+n,"near"===i?r="left":"center"===i?(r="center",l+=a/2):(r="right",l+=a)):(l=this.right-o,"near"===i?r="right":"center"===i?(r="center",l-=a/2):(r="left",l=this.left)):"right"===e?s?(l=this.left+n,"near"===i?r="right":"center"===i?(r="center",l-=a/2):(r="left",l-=a)):(l=this.left+o,"near"===i?r="left":"center"===i?(r="center",l+=a/2):(r="right",l=this.right)):r="right",{textAlign:r,x:l}}\_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:n,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,n,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this.\_isVisible()||!e.display)return 0;const i=this.ticks.findIndex(e=>e.value===t);if(i>=0){return e.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this.\_gridLineItems||(this.\_gridLineItems=this.\_computeGridLineItems(t));let n,o;const a=(t,e,s)=>{s.width&&s.color&&(i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.setLineDash(s.borderDash||[]),i.lineDashOffset=s.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(n=0,o=s.length;n<o;++n){const t=s[n];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,s=i.setContext(this.getContext()),n=i.drawBorder?s.borderWidth:0;if(!n)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this.\_borderValue;let r,l,h,c;this.isHorizontal()?(r=ve(t,this.left,n)-n/2,l=ve(t,this.right,o)+o/2,h=c=a):(h=ve(t,this.top,n)-n/2,c=ve(t,this.bottom,o)+o/2,r=l=a),e.save(),e.lineWidth=s.borderWidth,e.strokeStyle=s.borderColor,e.beginPath(),e.moveTo(r,h),e.lineTo(l,c),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this.\_computeLabelArea();i&&Pe(e,i);const s=this.\_labelItems||(this.\_labelItems=this.\_computeLabelItems(t));let n,o;for(n=0,o=s.length;n<o;++n){const t=s[n],i=t.font,o=t.label;t.backdrop&&(e.fillStyle=t.backdrop.color,e.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height)),Ae(e,o,0,t.textOffset,i,t)}i&&De(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:o}}=this;if(!i.display)return;const a=mi(i.font),r=pi(i.padding),l=i.align;let h=a.lineHeight/2;"bottom"===e||"center"===e||n(e)?(h+=r.bottom,s(i.text)&&(h+=a.lineHeight\*(i.text.length-1))):h+=r.top;const{titleX:c,titleY:d,maxWidth:u,rotation:f}=function(t,e,i,s){const{top:o,left:a,bottom:r,right:l,chart:h}=t,{chartArea:c,scales:d}=h;let u,f,g,p=0;const m=r-o,b=l-a;if(t.isHorizontal()){if(f=ut(s,a,l),n(i)){const t=Object.keys(i)[0],s=i[t];g=d[t].getPixelForValue(s)+m-e}else g="center"===i?(c.bottom+c.top)/2+m-e:Vs(t,i,e);u=l-a}else{if(n(i)){const t=Object.keys(i)[0],s=i[t];f=d[t].getPixelForValue(s)-b+e}else f="center"===i?(c.left+c.right)/2-b+e:Vs(t,i,e);g=ut(s,r,o),p="left"===i?-L:L}return{titleX:f,titleY:g,maxWidth:u,rotation:p}}(this,h,e,l);Ae(t,i.text,0,0,a,{color:i.color,maxWidth:u,rotation:f,textAlign:Hs(l,e,o),textBaseline:"middle",translation:[c,d]})}draw(t){this.\_isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}\_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=r(t.grid&&t.grid.z,-1);return this.\_isVisible()&&this.draw===$s.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let n,o;for(n=0,o=e.length;n<o;++n){const o=e[n];o[i]!==this.id||t&&o.type!==t||s.push(o)}return s}\_resolveTickFontOptions(t){return mi(this.options.ticks.setContext(this.getContext(t)).font)}\_maxDigits(){const t=this.\_resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ys{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const s=this.items,n=t.id,o=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);return n in s||(s[n]=t,function(t,e,i){const s=m(Object.create(null),[i?ne.get(i):{},ne.get(e),t.defaults]);ne.set(e,s),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(i=>{const s=i.split("."),n=s.pop(),o=[t].concat(s).join("."),a=e[i].split("."),r=a.pop(),l=a.join(".");ne.route(o,n,l,r)})}(e,t.defaultRoutes);t.descriptors&&ne.describe(e,t.descriptors)}(t,o,i),this.override&&ne.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in ne[s]&&(delete ne[s][i],this.override&&delete te[i])}}var Us=new class{constructor(){this.controllers=new Ys(Ls,"datasets",!0),this.elements=new Ys(Es,"elements"),this.plugins=new Ys(Object,"plugins"),this.scales=new Ys($s,"scales"),this.\_typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this.\_each("register",t)}remove(...t){this.\_each("unregister",t)}addControllers(...t){this.\_each("register",t,this.controllers)}addElements(...t){this.\_each("register",t,this.elements)}addPlugins(...t){this.\_each("register",t,this.plugins)}addScales(...t){this.\_each("register",t,this.scales)}getController(t){return this.\_get(t,this.controllers,"controller")}getElement(t){return this.\_get(t,this.elements,"element")}getPlugin(t){return this.\_get(t,this.plugins,"plugin")}getScale(t){return this.\_get(t,this.scales,"scale")}removeControllers(...t){this.\_each("unregister",t,this.controllers)}removeElements(...t){this.\_each("unregister",t,this.elements)}removePlugins(...t){this.\_each("unregister",t,this.plugins)}removeScales(...t){this.\_each("unregister",t,this.scales)}\_each(t,e,i){[...e].forEach(e=>{const s=i||this.\_getRegistryForType(e);i||s.isForType(e)||s===this.plugins&&e.id?this.\_exec(t,s,e):d(e,e=>{const s=i||this.\_getRegistryForType(e);this.\_exec(t,s,e)})})}\_exec(t,e,i){const s=w(t);c(i["before"+s],[],i),e[t](i),c(i["after"+s],[],i)}\_getRegistryForType(t){for(let e=0;e<this.\_typedRegistries.length;e++){const i=this.\_typedRegistries[e];if(i.isForType(t))return i}return this.plugins}\_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}};class Xs{constructor(){this.\_init=[]}notify(t,e,i,s){"beforeInit"===e&&(this.\_init=this.\_createDescriptors(t,!0),this.\_notify(this.\_init,t,"install"));const n=s?this.\_descriptors(t).filter(s):this.\_descriptors(t),o=this.\_notify(n,t,e,i);return"afterDestroy"===e&&(this.\_notify(n,t,"stop"),this.\_notify(this.\_init,t,"uninstall")),o}\_notify(t,e,i,s){s=s||{};for(const n of t){const t=n.plugin;if(!1===c(t[i],[e,s,n.options],t)&&s.cancelable)return!1}return!0}invalidate(){i(this.\_cache)||(this.\_oldCache=this.\_cache,this.\_cache=void 0)}\_descriptors(t){if(this.\_cache)return this.\_cache;const e=this.\_cache=this.\_createDescriptors(t);return this.\_notifyStateChanges(t),e}\_createDescriptors(t,e){const i=t&&t.config,s=r(i.options&&i.options.plugins,{}),n=function(t){const e={},i=[],s=Object.keys(Us.plugins.items);for(let t=0;t<s.length;t++)i.push(Us.getPlugin(s[t]));const n=t.plugins||[];for(let t=0;t<n.length;t++){const s=n[t];-1===i.indexOf(s)&&(i.push(s),e[s.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==s||e?function(t,{plugins:e,localIds:i},s,n){const o=[],a=t.getContext();for(const r of e){const e=r.id,l=qs(s[e],n);null!==l&&o.push({plugin:r,options:Ks(t.config,{plugin:r,local:i[e]},l,a)})}return o}(t,n,s,e):[]}\_notifyStateChanges(t){const e=this.\_oldCache||[],i=this.\_cache,s=(t,e)=>t.filter(t=>!e.some(e=>t.plugin.id===e.plugin.id));this.\_notify(s(e,i),t,"stop"),this.\_notify(s(i,e),t,"start")}}function qs(t,e){return e||!1!==t?!0===t?{}:t:null}function Ks(t,{plugin:e,local:i},s,n){const o=t.pluginScopeKeys(e),a=t.getOptionScopes(s,o);return i&&e.defaults&&a.push(e.defaults),t.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Gs(t,e){const i=ne.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function Zs(t,e){return"x"===t||"y"===t?t:e.axis||("top"===(i=e.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.charAt(0).toLowerCase();var i}function Js(t){const e=t.options||(t.options={});e.plugins=r(e.plugins,{}),e.scales=function(t,e){const i=te[t.type]||{scales:{}},s=e.scales||{},o=Gs(t.type,e),a=Object.create(null),r=Object.create(null);return Object.keys(s).forEach(t=>{const e=s[t];if(!n(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e.\_proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const l=Zs(t,e),h=function(t,e){return t===e?"\_index\_":"\_value\_"}(l,o),c=i.scales||{};a[l]=a[l]||t,r[t]=b(Object.create(null),[{axis:l},e,c[l],c[h]])}),t.data.datasets.forEach(i=>{const n=i.type||t.type,o=i.indexAxis||Gs(n,e),l=(te[n]||{}).scales||{};Object.keys(l).forEach(t=>{const e=function(t,e){let i=t;return"\_index\_"===t?i=e:"\_value\_"===t&&(i="x"===e?"y":"x"),i}(t,o),n=i[e+"AxisID"]||a[e]||e;r[n]=r[n]||Object.create(null),b(r[n],[{axis:e},s[n],l[t]])})}),Object.keys(r).forEach(t=>{const e=r[t];b(e,[ne.scales[e.type],ne.scale])}),r}(t,e)}function Qs(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const tn=new Map,en=new Set;function sn(t,e){let i=tn.get(t);return i||(i=e(),tn.set(t,i),en.add(i)),i}const nn=(t,e,i)=>{const s=y(e,i);void 0!==s&&t.add(s)};class on{constructor(t){this.\_config=function(t){return(t=t||{}).data=Qs(t.data),Js(t),t}(t),this.\_scopeCache=new Map,this.\_resolverCache=new Map}get platform(){return this.\_config.platform}get type(){return this.\_config.type}set type(t){this.\_config.type=t}get data(){return this.\_config.data}set data(t){this.\_config.data=Qs(t)}get options(){return this.\_config.options}set options(t){this.\_config.options=t}get plugins(){return this.\_config.plugins}update(){const t=this.\_config;this.clearCache(),Js(t)}clearCache(){this.\_scopeCache.clear(),this.\_resolverCache.clear()}datasetScopeKeys(t){return sn(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return sn(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return sn(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return sn(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}\_cachedScopes(t,e){const i=this.\_scopeCache;let s=i.get(t);return s&&!e||(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:n}=this,o=this.\_cachedScopes(t,i),a=o.get(e);if(a)return a;const r=new Set;e.forEach(e=>{t&&(r.add(t),e.forEach(e=>nn(r,t,e))),e.forEach(t=>nn(r,s,t)),e.forEach(t=>nn(r,te[n]||{},t)),e.forEach(t=>nn(r,ne,t)),e.forEach(t=>nn(r,ee,t))});const l=Array.from(r);return 0===l.length&&l.push(Object.create(null)),en.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,te[e]||{},ne.datasets[e]||{},{type:e},ne,ee]}resolveNamedOptions(t,e,i,n=[""]){const o={$shared:!0},{resolver:a,subPrefixes:r}=an(this.\_resolverCache,t,n);let l=a;if(function(t,e){const{isScriptable:i,isIndexable:n}=Ie(t);for(const o of e){const e=i(o),a=n(o),r=(a||e)&&t[o];if(e&&(k(r)||rn(r))||a&&s(r))return!0}return!1}(a,e)){o.$shared=!1;l=Re(a,i=k(i)?i():i,this.createResolver(t,i,r))}for(const t of e)o[t]=l[t];return o}createResolver(t,e,i=[""],s){const{resolver:o}=an(this.\_resolverCache,t,i);return n(e)?Re(o,e,void 0,s):o}}function an(t,e,i){let s=t.get(e);s||(s=new Map,t.set(e,s));const n=i.join();let o=s.get(n);if(!o){o={resolver:Ee(e,i),subPrefixes:i.filter(t=>!t.toLowerCase().includes("hover"))},s.set(n,o)}return o}const rn=t=>n(t)&&Object.getOwnPropertyNames(t).reduce((e,i)=>e||k(t[i]),!1);const ln=["top","bottom","left","right","chartArea"];function hn(t,e){return"top"===t||"bottom"===t||-1===ln.indexOf(t)&&"x"===e}function cn(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function dn(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),c(i&&i.onComplete,[t],e)}function un(t){const e=t.chart,i=e.options.animation;c(i&&i.onProgress,[t],e)}function fn(t){return oe()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const gn={},pn=t=>{const e=fn(t);return Object.values(gn).filter(t=>t.canvas===e).pop()};function mn(t,e,i){const s=Object.keys(t);for(const n of s){const s=+n;if(s>=e){const o=t[n];delete t[n],(i>0||s>e)&&(t[s+i]=o)}}}class bn{constructor(t,i){const s=this.config=new on(i),n=fn(t),o=pn(n);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||gs(n)),this.platform.updateConfig(s);const r=this.platform.acquireContext(n,a.aspectRatio),l=r&&r.canvas,h=l&&l.height,c=l&&l.width;this.id=e(),this.ctx=r,this.canvas=l,this.width=c,this.height=h,this.\_options=a,this.\_aspectRatio=this.aspectRatio,this.\_layers=[],this.\_metasets=[],this.\_stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this.\_active=[],this.\_lastEvent=void 0,this.\_listeners={},this.\_responsiveListeners=void 0,this.\_sortedMetasets=[],this.scales={},this.\_plugins=new Xs,this.$proxies={},this.\_hiddenIndices={},this.attached=!1,this.\_animationsDisabled=void 0,this.$context=void 0,this.\_doResize=ct(t=>this.update(t),a.resizeDelay||0),this.\_dataChanges=[],gn[this.id]=this,r&&l?(mt.listen(this,"complete",dn),mt.listen(this,"progress",un),this.\_initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:n,\_aspectRatio:o}=this;return i(t)?e&&o?o:n?s/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this.\_options}set options(t){this.config.options=t}\_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():pe(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return we(this.canvas,this.ctx),this}stop(){return mt.stop(this),this}resize(t,e){mt.running(this)?this.\_resizeBeforeDraw={width:t,height:e}:this.\_resize(t,e)}\_resize(t,e){const i=this.options,s=this.canvas,n=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,n),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this.\_aspectRatio=this.aspectRatio,pe(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),c(i.onResize,[this,o],this),this.attached&&this.\_doResize(r)&&this.render())}ensureScalesHaveIDs(){d(this.options.scales||{},(t,e)=>{t.id=e})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((t,e)=>(t[e]=!1,t),{});let n=[];e&&(n=n.concat(Object.keys(e).map(t=>{const i=e[t],s=Zs(t,i),n="r"===s,o="x"===s;return{options:i,dposition:n?"chartArea":o?"bottom":"left",dtype:n?"radialLinear":o?"category":"linear"}}))),d(n,e=>{const n=e.options,o=n.id,a=Zs(o,n),l=r(n.type,e.dtype);void 0!==n.position&&hn(n.position,a)===hn(e.dposition)||(n.position=e.dposition),s[o]=!0;let h=null;if(o in i&&i[o].type===l)h=i[o];else{h=new(Us.getScale(l))({id:o,type:l,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(n,t)}),d(s,(t,e)=>{t||delete i[e]}),d(i,t=>{Zi.configure(this,t,t.options),Zi.addBox(this,t)})}\_updateMetasets(){const t=this.\_metasets,e=this.data.datasets.length,i=t.length;if(t.sort((t,e)=>t.index-e.index),i>e){for(let t=e;t<i;++t)this.\_destroyDatasetMeta(t);t.splice(e,i-e)}this.\_sortedMetasets=t.slice(0).sort(cn("order","index"))}\_removeUnreferencedMetasets(){const{\_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this.\_stacks,t.forEach((t,i)=>{0===e.filter(e=>e===t.\_dataset).length&&this.\_destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this.\_removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const s=e[i];let n=this.getDatasetMeta(i);const o=s.type||this.config.type;if(n.type&&n.type!==o&&(this.\_destroyDatasetMeta(i),n=this.getDatasetMeta(i)),n.type=o,n.indexAxis=s.indexAxis||Gs(o,this.options),n.order=s.order||0,n.index=i,n.label=""+s.label,n.visible=this.isDatasetVisible(i),n.controller)n.controller.updateIndex(i),n.controller.linkScales();else{const e=Us.getController(o),{datasetElementType:s,dataElementType:a}=ne.datasets[o];Object.assign(e.prototype,{dataElementType:Us.getElement(a),datasetElementType:s&&Us.getElement(s)}),n.controller=new e(this,i),t.push(n.controller)}}return this.\_updateMetasets(),t}\_resetElements(){d(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this.\_resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this.\_options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this.\_animationsDisabled=!i.animation;if(this.\_updateScales(),this.\_checkEventBindings(),this.\_updateHiddenIndices(),this.\_plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),i=!s&&-1===n.indexOf(e);e.buildOrUpdateElements(i),o=Math.max(+e.getMaxOverflow(),o)}o=this.\_minPadding=i.layout.autoPadding?o:0,this.\_updateLayout(o),s||d(n,t=>{t.reset()}),this.\_updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this.\_layers.sort(cn("z","\_idx"));const{\_active:a,\_lastEvent:r}=this;r?this.\_eventHandler(r,!0):a.length&&this.\_updateHoverStyles(a,a,!0),this.render()}\_updateScales(){d(this.scales,t=>{Zi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}\_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this.\_listeners)),i=new Set(t.events);S(e,i)&&!!this.\_responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}\_updateHiddenIndices(){const{\_hiddenIndices:t}=this,e=this.\_getUniformDataChanges()||[];for(const{method:i,start:s,count:n}of e){mn(t,s,"\_removeElements"===i?-n:n)}}\_getUniformDataChanges(){const t=this.\_dataChanges;if(!t||!t.length)return;this.\_dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),s=i(0);for(let t=1;t<e;t++)if(!S(s,i(t)))return;return Array.from(s).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}\_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Zi.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this.\_layers=[],d(this.boxes,t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this.\_layers.push(...t.\_layers()))},this),this.\_layers.forEach((t,e)=>{t.\_idx=e}),this.notifyPlugins("afterLayout")}\_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this.\_updateDataset(e,k(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}\_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller.\_update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(mt.has(this)?this.attached&&!mt.running(this)&&mt.start(this):(this.draw(),dn({chart:this})))}draw(){let t;if(this.\_resizeBeforeDraw){const{width:t,height:e}=this.\_resizeBeforeDraw;this.\_resize(t,e),this.\_resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this.\_layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this.\_drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}\_getSortedDatasetMetas(t){const e=this.\_sortedMetasets,i=[];let s,n;for(s=0,n=e.length;s<n;++s){const n=e[s];t&&!n.visible||i.push(n)}return i}getSortedVisibleDatasetMetas(){return this.\_getSortedDatasetMetas(!0)}\_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this.\_drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}\_drawDataset(t){const e=this.ctx,i=t.\_clip,s=!i.disabled,n=this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(s&&Pe(e,{left:!1===i.left?0:n.left-i.left,right:!1===i.right?this.width:n.right+i.right,top:!1===i.top?0:n.top-i.top,bottom:!1===i.bottom?this.height:n.bottom+i.bottom}),t.controller.draw(),s&&De(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Se(t,this.chartArea,this.\_minPadding)}getElementsAtEventForMode(t,e,i,s){const n=Vi.modes[e];return"function"==typeof n?n(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this.\_metasets;let s=i.filter(t=>t&&t.\_dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,\_dataset:e,\_parsed:[],\_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=\_i(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this.\_hiddenIndices[t]=!this.\_hiddenIndices[t]}getDataVisibility(t){return!this.\_hiddenIndices[t]}\_updateVisibility(t,e,i){const s=i?"show":"hide",n=this.getDatasetMeta(t),o=n.controller.\_resolveAnimations(void 0,s);M(e)?(n.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(n,{visible:i}),this.update(e=>e.datasetIndex===t?s:void 0))}hide(t,e){this.\_updateVisibility(t,e,!1)}show(t,e){this.\_updateVisibility(t,e,!0)}\_destroyDatasetMeta(t){const e=this.\_metasets[t];e&&e.controller&&e.controller.\_destroy(),delete this.\_metasets[t]}\_stop(){let t,e;for(this.stop(),mt.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this.\_destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this.\_stop(),this.config.clearCache(),t&&(this.unbindEvents(),we(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete gn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this.\_listeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this.\_eventHandler(t)};d(this.options.events,t=>i(t,s))}bindResponsiveEvents(){this.\_responsiveListeners||(this.\_responsiveListeners={});const t=this.\_responsiveListeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(i,s)=>{t[i]&&(e.removeEventListener(this,i,s),delete t[i])},n=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",n),i("detach",o)};o=()=>{this.attached=!1,s("resize",n),this.\_stop(),this.\_resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){d(this.\_listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this.\_listeners={},d(this.\_responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this.\_responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let n,o,a,r;for("dataset"===e&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["\_"+s+"DatasetHoverStyle"]()),a=0,r=t.length;a<r;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this.\_active||[]}setActiveElements(t){const e=this.\_active||[],i=t.map(({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}});!u(i,e)&&(this.\_active=i,this.\_lastEvent=null,this.\_updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this.\_plugins.notify(this,t,e,i)}\_updateHoverStyles(t,e,i){const s=this.options.hover,n=(t,e)=>t.filter(t=>!e.some(e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)),o=n(e,t),a=i?t:n(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}\_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const n=this.\_handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(n||i.changed)&&this.render(),this}\_handleEvent(t,e,i){const{\_active:s=[],options:n}=this,o=e,a=this.\_getActiveElements(t,s,i,o),r=P(t),l=function(t,e,i,s){return i&&"mouseout"!==t.type?s?e:t:null}(t,this.\_lastEvent,i,r);i&&(this.\_lastEvent=null,c(n.onHover,[t,a,this],this),r&&c(n.onClick,[t,a,this],this));const h=!u(a,s);return(h||e)&&(this.\_active=a,this.\_updateHoverStyles(a,s,e)),this.\_lastEvent=l,h}\_getActiveElements(t,e,i,s){if("mouseout"===t.type)return[];if(!i)return e;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,s)}}const xn=()=>d(bn.instances,t=>t.\_plugins.invalidate()),\_n=!0;function yn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Object.defineProperties(bn,{defaults:{enumerable:\_n,value:ne},instances:{enumerable:\_n,value:gn},overrides:{enumerable:\_n,value:te},registry:{enumerable:\_n,value:Us},version:{enumerable:\_n,value:"3.9.1"},getChart:{enumerable:\_n,value:pn},register:{enumerable:\_n,value:(...t)=>{Us.add(...t),xn()}},unregister:{enumerable:\_n,value:(...t)=>{Us.remove(...t),xn()}}});class vn{constructor(t){this.options=t||{}}init(t){}formats(){return yn()}parse(t,e){return yn()}format(t,e){return yn()}add(t,e,i){return yn()}diff(t,e,i){return yn()}startOf(t,e,i){return yn()}endOf(t,e){return yn()}}vn.override=function(t){Object.assign(vn.prototype,t)};var wn={\_date:vn};function Mn(t){const e=t.iScale,i=function(t,e){if(!t.\_cache.$bar){const i=t.getMatchingVisibleMetas(e);let s=[];for(let e=0,n=i.length;e<n;e++)s=s.concat(i[e].controller.getAllParsedValues(t));t.\_cache.$bar=rt(s.sort((t,e)=>t-e))}return t.\_cache.$bar}(e,t.type);let s,n,o,a,r=e.\_length;const l=()=>{32767!==o&&-32768!==o&&(M(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,n=i.length;s<n;++s)o=e.getPixelForValue(i[s]),l();for(a=void 0,s=0,n=e.ticks.length;s<n;++s)o=e.getPixelForTick(s),l();return r}function kn(t,e,i,n){return s(t)?function(t,e,i,s){const n=i.parse(t[0],s),o=i.parse(t[1],s),a=Math.min(n,o),r=Math.max(n,o);let l=a,h=r;Math.abs(a)>Math.abs(r)&&(l=r,h=a),e[i.axis]=h,e.\_custom={barStart:l,barEnd:h,start:n,end:o,min:a,max:r}}(t,e,i,n):e[i.axis]=i.parse(t,n),e}function Sn(t,e,i,s){const n=t.iScale,o=t.vScale,a=n.getLabels(),r=n===o,l=[];let h,c,d,u;for(h=i,c=i+s;h<c;++h)u=e[h],d={},d[n.axis]=r||n.parse(a[h],h),l.push(kn(u,d,o,h));return l}function Pn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Dn(t,e,i,s){let n=e.borderSkipped;const o={};if(!n)return void(t.borderSkipped=o);if(!0===n)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:r,reverse:l,top:h,bottom:c}=function(t){let e,i,s,n,o;return t.horizontal?(e=t.base>t.x,i="left",s="right"):(e=t.base<t.y,i="bottom",s="top"),e?(n="end",o="start"):(n="start",o="end"),{start:i,end:s,reverse:e,top:n,bottom:o}}(t);"middle"===n&&i&&(t.enableBorderRadius=!0,(i.\_top||0)===s?n=h:(i.\_bottom||0)===s?n=c:(o[On(c,a,r,l)]=!0,n=h)),o[On(n,a,r,l)]=!0,t.borderSkipped=o}function On(t,e,i,s){var n,o,a;return s?(a=i,t=Cn(t=(n=t)===(o=e)?a:n===a?o:n,i,e)):t=Cn(t,e,i),t}function Cn(t,e,i){return"start"===t?e:"end"===t?i:t}function An(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}class Tn extends Ls{parsePrimitiveData(t,e,i,s){return Sn(t,e,i,s)}parseArrayData(t,e,i,s){return Sn(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:n,vScale:o}=t,{xAxisKey:a="x",yAxisKey:r="y"}=this.\_parsing,l="x"===n.axis?a:r,h="x"===o.axis?a:r,c=[];let d,u,f,g;for(d=i,u=i+s;d<u;++d)g=e[d],f={},f[n.axis]=n.parse(y(g,l),d),c.push(kn(y(g,h),f,o,d));return c}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const n=i.\_custom;n&&e===this.\_cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this.\_cachedMeta,{iScale:i,vScale:s}=e,n=this.getParsed(t),o=n.\_custom,a=Pn(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(n[s.axis]);return{label:""+i.getLabelForValue(n[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this.\_cachedMeta.stack=this.getDataset().stack}update(t){const e=this.\_cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,n){const o="reset"===n,{index:a,\_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),h=r.isHorizontal(),c=this.\_getRuler(),{sharedOptions:d,includeOptions:u}=this.\_getSharedOptions(e,n);for(let f=e;f<e+s;f++){const e=this.getParsed(f),s=o||i(e[r.axis])?{base:l,head:l}:this.\_calculateBarValuePixels(f),g=this.\_calculateBarIndexPixels(f,c),p=(e.\_stacks||{})[r.axis],m={horizontal:h,base:s.base,enableBorderRadius:!p||Pn(e.\_custom)||a===p.\_top||a===p.\_bottom,x:h?s.head:g.center,y:h?g.center:s.head,height:h?g.size:Math.abs(s.size),width:h?Math.abs(s.size):g.size};u&&(m.options=d||this.resolveDataElementOptions(f,t[f].active?"active":n));const b=m.options||t[f].options;Dn(m,b,p,a),An(m,b,c.ratio),this.updateElement(t[f],f,m,n)}}\_getStacks(t,e){const{iScale:s}=this.\_cachedMeta,n=s.getMatchingVisibleMetas(this.\_type).filter(t=>t.controller.options.grouped),o=s.options.stacked,a=[],r=t=>{const s=t.controller.getParsed(e),n=s&&s[t.vScale.axis];if(i(n)||isNaN(n))return!0};for(const i of n)if((void 0===e||!r(i))&&((!1===o||-1===a.indexOf(i.stack)||void 0===o&&void 0===i.stack)&&a.push(i.stack),i.index===t))break;return a.length||a.push(void 0),a}\_getStackCount(t){return this.\_getStacks(void 0,t).length}\_getStackIndex(t,e,i){const s=this.\_getStacks(t,i),n=void 0!==e?s.indexOf(e):-1;return-1===n?s.length-1:n}\_getRuler(){const t=this.options,e=this.\_cachedMeta,i=e.iScale,s=[];let n,o;for(n=0,o=e.data.length;n<o;++n)s.push(i.getPixelForValue(this.getParsed(n)[i.axis],n));const a=t.barThickness;return{min:a||Mn(e),pixels:s,start:i.\_startPixel,end:i.\_endPixel,stackCount:this.\_getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage\*t.barPercentage}}\_calculateBarValuePixels(t){const{\_cachedMeta:{vScale:e,\_stacked:s},options:{base:n,minBarLength:o}}=this,a=n||0,r=this.getParsed(t),l=r.\_custom,h=Pn(l);let c,d,u=r[e.axis],f=0,g=s?this.applyStack(e,r,s):u;g!==u&&(f=g-u,g=u),h&&(u=l.barStart,g=l.barEnd-l.barStart,0!==u&&z(u)!==z(l.barEnd)&&(f=0),f+=u);const p=i(n)||h?f:n;let m=e.getPixelForValue(p);if(c=this.chart.getDataVisibility(t)?e.getPixelForValue(f+g):m,d=c-m,Math.abs(d)<o){d=function(t,e,i){return 0!==t?z(t):(e.isHorizontal()?1:-1)\*(e.min>=i?1:-1)}(d,e,a)\*o,u===a&&(m-=d/2);const t=e.getPixelForDecimal(0),i=e.getPixelForDecimal(1),s=Math.min(t,i),n=Math.max(t,i);m=Math.max(Math.min(m,n),s),c=m+d}if(m===e.getPixelForValue(a)){const t=z(d)\*e.getLineWidthForValue(a)/2;m+=t,d-=t}return{size:d,base:m,head:c,center:c+d/2}}\_calculateBarIndexPixels(t,e){const s=e.scale,n=this.options,o=n.skipNull,a=r(n.maxBarThickness,1/0);let l,h;if(e.grouped){const s=o?this.\_getStackCount(t):e.stackCount,r="flex"===n.barThickness?function(t,e,i,s){const n=e.pixels,o=n[t];let a=t>0?n[t-1]:null,r=t<n.length-1?n[t+1]:null;const l=i.categoryPercentage;null===a&&(a=o-(null===r?e.end-e.start:r-o)),null===r&&(r=o+o-a);const h=o-(o-Math.min(a,r))/2\*l;return{chunk:Math.abs(r-a)/2\*l/s,ratio:i.barPercentage,start:h}}(t,e,n,s):function(t,e,s,n){const o=s.barThickness;let a,r;return i(o)?(a=e.min\*s.categoryPercentage,r=s.barPercentage):(a=o\*n,r=1),{chunk:a/n,ratio:r,start:e.pixels[t]-a/2}}(t,e,n,s),c=this.\_getStackIndex(this.index,this.\_cachedMeta.stack,o?t:void 0);l=r.start+r.chunk\*c+r.chunk/2,h=Math.min(a,r.chunk\*r.ratio)}else l=s.getPixelForValue(this.getParsed(t)[s.axis],t),h=Math.min(a,e.min\*e.ratio);return{base:l-h/2,head:l+h/2,center:l,size:h}}draw(){const t=this.\_cachedMeta,e=t.vScale,i=t.data,s=i.length;let n=0;for(;n<s;++n)null!==this.getParsed(n)[e.axis]&&i[n].draw(this.\_ctx)}}Tn.id="bar",Tn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Tn.overrides={scales:{\_index\_:{type:"category",offset:!0,grid:{offset:!0}},\_value\_:{type:"linear",beginAtZero:!0}}};class Ln extends Ls{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const n=super.parsePrimitiveData(t,e,i,s);for(let t=0;t<n.length;t++)n[t].\_custom=this.resolveDataElementOptions(t+i).radius;return n}parseArrayData(t,e,i,s){const n=super.parseArrayData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t].\_custom=r(s[2],this.resolveDataElementOptions(t+i).radius)}return n}parseObjectData(t,e,i,s){const n=super.parseObjectData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t].\_custom=r(s&&s.r&&+s.r,this.resolveDataElementOptions(t+i).radius)}return n}getMaxOverflow(){const t=this.\_cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this.\_cachedMeta,{xScale:i,yScale:s}=e,n=this.getParsed(t),o=i.getLabelForValue(n.x),a=s.getLabelForValue(n.y),r=n.\_custom;return{label:e.label,value:"("+o+", "+a+(r?", "+r:"")+")"}}update(t){const e=this.\_cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const n="reset"===s,{iScale:o,vScale:a}=this.\_cachedMeta,{sharedOptions:r,includeOptions:l}=this.\_getSharedOptions(e,s),h=o.axis,c=a.axis;for(let d=e;d<e+i;d++){const e=t[d],i=!n&&this.getParsed(d),u={},f=u[h]=n?o.getPixelForDecimal(.5):o.getPixelForValue(i[h]),g=u[c]=n?a.getBasePixel():a.getPixelForValue(i[c]);u.skip=isNaN(f)||isNaN(g),l&&(u.options=r||this.resolveDataElementOptions(d,e.active?"active":s),n&&(u.options.radius=0)),this.updateElement(e,d,u,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const n=s.radius;return"active"!==e&&(s.radius=0),s.radius+=r(i&&i.\_custom,n),s}}Ln.id="bubble",Ln.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Ln.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class En extends Ls{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this.\_cachedMeta;if(!1===this.\_parsing)s.\_parsed=i;else{let o,a,r=t=>+i[t];if(n(i[t])){const{key:t="value"}=this.\_parsing;r=e=>+y(i[e],t)}for(o=t,a=t+e;o<a;++o)s.\_parsed[o]=r(o)}}\_getRotation(){return H(this.options.rotation-90)}\_getCircumference(){return H(this.options.circumference)}\_getRotationExtents(){let t=O,e=-O;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,n=s.\_getRotation(),o=s.\_getCircumference();t=Math.min(t,n),e=Math.max(e,n+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this.\_cachedMeta,n=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),r=Math.min(l(this.options.cutout,a),1),c=this.\_getRingWeight(this.index),{circumference:d,rotation:u}=this.\_getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:m}=function(t,e,i){let s=1,n=1,o=0,a=0;if(e<O){const r=t,l=r+e,h=Math.cos(r),c=Math.sin(r),d=Math.cos(l),u=Math.sin(l),f=(t,e,s)=>G(t,r,l,!0)?1:Math.max(e,e\*i,s,s\*i),g=(t,e,s)=>G(t,r,l,!0)?-1:Math.min(e,e\*i,s,s\*i),p=f(0,h,d),m=f(L,c,u),b=g(D,h,d),x=g(D+L,c,u);s=(p-b)/2,n=(m-x)/2,o=-(p+b)/2,a=-(m+x)/2}return{ratioX:s,ratioY:n,offsetX:o,offsetY:a}}(u,d,r),b=(i.width-o)/f,x=(i.height-o)/g,\_=Math.max(Math.min(b,x)/2,0),y=h(this.options.radius,\_),v=(y-Math.max(y\*r,0))/this.\_getVisibleDatasetWeightTotal();this.offsetX=p\*y,this.offsetY=m\*y,s.total=this.calculateTotal(),this.outerRadius=y-v\*this.\_getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v\*c,0),this.updateElements(n,0,n.length,t)}\_circumference(t,e){const i=this.options,s=this.\_cachedMeta,n=this.\_getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s.\_parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s.\_parsed[t]\*n/O)}updateElements(t,e,i,s){const n="reset"===s,o=this.chart,a=o.chartArea,r=o.options.animation,l=(a.left+a.right)/2,h=(a.top+a.bottom)/2,c=n&&r.animateScale,d=c?0:this.innerRadius,u=c?0:this.outerRadius,{sharedOptions:f,includeOptions:g}=this.\_getSharedOptions(e,s);let p,m=this.\_getRotation();for(p=0;p<e;++p)m+=this.\_circumference(p,n);for(p=e;p<e+i;++p){const e=this.\_circumference(p,n),i=t[p],o={x:l+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:u,innerRadius:d};g&&(o.options=f||this.resolveDataElementOptions(p,i.active?"active":s)),m+=e,this.updateElement(i,p,o,s)}}calculateTotal(){const t=this.\_cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const n=t.\_parsed[i];null===n||isNaN(n)||!this.chart.getDataVisibility(i)||e[i].hidden||(s+=Math.abs(n))}return s}calculateCircumference(t){const e=this.\_cachedMeta.total;return e>0&&!isNaN(t)?O\*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this.\_cachedMeta,i=this.chart,s=i.data.labels||[],n=li(e.\_parsed[t],i.options.locale);return{label:s[t]||"",value:n}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,n,o,a,r;if(!t)for(s=0,n=i.data.datasets.length;s<n;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}if(!t)return 0;for(s=0,n=t.length;s<n;++s)r=a.resolveDataElementOptions(s),"inner"!==r.borderAlign&&(e=Math.max(e,r.borderWidth||0,r.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}\_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this.\_getRingWeight(i));return e}\_getRingWeight(t){return Math.max(r(this.chart.data.datasets[t].weight,1),0)}\_getVisibleDatasetWeightTotal(){return this.\_getRingWeightOffset(this.chart.data.datasets.length)||1}}En.id="doughnut",En.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},En.descriptors={\_scriptable:t=>"spacing"!==t,\_indexable:t=>"spacing"!==t},En.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((e,s)=>{const n=t.getDatasetMeta(0).controller.getStyle(s);return{text:e,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return s(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}};class Rn extends Ls{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this.\_cachedMeta,{dataset:i,data:s=[],\_dataset:n}=e,o=this.chart.\_animationsDisabled;let{start:a,count:r}=gt(e,s,o);this.\_drawStart=a,this.\_drawCount=r,pt(e)&&(a=0,r=s.length),i.\_chart=this.chart,i.\_datasetIndex=this.index,i.\_decimated=!!n.\_decimated,i.points=s;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:l},t),this.updateElements(s,a,r,t)}updateElements(t,e,s,n){const o="reset"===n,{iScale:a,vScale:r,\_stacked:l,\_dataset:h}=this.\_cachedMeta,{sharedOptions:c,includeOptions:d}=this.\_getSharedOptions(e,n),u=a.axis,f=r.axis,{spanGaps:g,segment:p}=this.options,m=B(g)?g:Number.POSITIVE\_INFINITY,b=this.chart.\_animationsDisabled||o||"none"===n;let x=e>0&&this.getParsed(e-1);for(let g=e;g<e+s;++g){const e=t[g],s=this.getParsed(g),\_=b?e:{},y=i(s[f]),v=\_[u]=a.getPixelForValue(s[u],g),w=\_[f]=o||y?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,s,l):s[f],g);\_.skip=isNaN(v)||isNaN(w)||y,\_.stop=g>0&&Math.abs(s[u]-x[u])>m,p&&(\_.parsed=s,\_.raw=h.data[g]),d&&(\_.options=c||this.resolveDataElementOptions(g,e.active?"active":n)),b||this.updateElement(e,g,\_,n),x=s}}getMaxOverflow(){const t=this.\_cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const n=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,n,o)/2}draw(){const t=this.\_cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Rn.id="line",Rn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Rn.overrides={scales:{\_index\_:{type:"category"},\_value\_:{type:"linear"}}};class In extends Ls{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this.\_cachedMeta,i=this.chart,s=i.data.labels||[],n=li(e.\_parsed[t].r,i.options.locale);return{label:s[t]||"",value:n}}parseObjectData(t,e,i,s){return Ue.bind(this)(t,e,i,s)}update(t){const e=this.\_cachedMeta.data;this.\_updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this.\_cachedMeta,e={min:Number.POSITIVE\_INFINITY,max:Number.NEGATIVE\_INFINITY};return t.data.forEach((t,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}\_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),n=Math.max(s/2,0),o=(n-Math.max(i.cutoutPercentage?n/100\*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=n-o\*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,i,s){const n="reset"===s,o=this.chart,a=o.options.animation,r=this.\_cachedMeta.rScale,l=r.xCenter,h=r.yCenter,c=r.getIndexAngle(0)-.5\*D;let d,u=c;const f=360/this.countVisibleElements();for(d=0;d<e;++d)u+=this.\_computeAngle(d,s,f);for(d=e;d<e+i;d++){const e=t[d];let i=u,g=u+this.\_computeAngle(d,s,f),p=o.getDataVisibility(d)?r.getDistanceFromCenterForValue(this.getParsed(d).r):0;u=g,n&&(a.animateScale&&(p=0),a.animateRotate&&(i=g=c));const m={x:l,y:h,innerRadius:0,outerRadius:p,startAngle:i,endAngle:g,options:this.resolveDataElementOptions(d,e.active?"active":s)};this.updateElement(e,d,m,s)}}countVisibleElements(){const t=this.\_cachedMeta;let e=0;return t.data.forEach((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}\_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?H(this.resolveDataElementOptions(t,e).angle||i):0}}In.id="polarArea",In.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},In.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((e,s)=>{const n=t.getDatasetMeta(0).controller.getStyle(s);return{text:e,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class zn extends En{}zn.id="pie",zn.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Fn extends Ls{getLabelAndValue(t){const e=this.\_cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return Ue.bind(this)(t,e,i,s)}update(t){const e=this.\_cachedMeta,i=e.dataset,s=e.data||[],n=e.iScale.getLabels();if(i.points=s,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={\_loop:!0,\_fullLoop:n.length===s.length,options:e};this.updateElement(i,void 0,o,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const n=this.\_cachedMeta.rScale,o="reset"===s;for(let a=e;a<e+i;a++){const e=t[a],i=this.resolveDataElementOptions(a,e.active?"active":s),r=n.getPointPositionForValue(a,this.getParsed(a).r),l=o?n.xCenter:r.x,h=o?n.yCenter:r.y,c={x:l,y:h,angle:r.angle,skip:isNaN(l)||isNaN(h),options:i};this.updateElement(e,a,c,s)}}}Fn.id="radar",Fn.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Fn.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Vn extends Ls{update(t){const e=this.\_cachedMeta,{data:i=[]}=e,s=this.chart.\_animationsDisabled;let{start:n,count:o}=gt(e,i,s);if(this.\_drawStart=n,this.\_drawCount=o,pt(e)&&(n=0,o=i.length),this.options.showLine){const{dataset:n,\_dataset:o}=e;n.\_chart=this.chart,n.\_datasetIndex=this.index,n.\_decimated=!!o.\_decimated,n.points=i;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:a},t)}this.updateElements(i,n,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=Us.getElement("line")),super.addElements()}updateElements(t,e,s,n){const o="reset"===n,{iScale:a,vScale:r,\_stacked:l,\_dataset:h}=this.\_cachedMeta,c=this.resolveDataElementOptions(e,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),f=a.axis,g=r.axis,{spanGaps:p,segment:m}=this.options,b=B(p)?p:Number.POSITIVE\_INFINITY,x=this.chart.\_animationsDisabled||o||"none"===n;let \_=e>0&&this.getParsed(e-1);for(let c=e;c<e+s;++c){const e=t[c],s=this.getParsed(c),p=x?e:{},y=i(s[g]),v=p[f]=a.getPixelForValue(s[f],c),w=p[g]=o||y?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,s,l):s[g],c);p.skip=isNaN(v)||isNaN(w)||y,p.stop=c>0&&Math.abs(s[f]-\_[f])>b,m&&(p.parsed=s,p.raw=h.data[c]),u&&(p.options=d||this.resolveDataElementOptions(c,e.active?"active":n)),x||this.updateElement(e,c,p,n),\_=s}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const t=this.\_cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const n=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,n,o)/2}}Vn.id="scatter",Vn.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Vn.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Bn=Object.freeze({\_\_proto\_\_:null,BarController:Tn,BubbleController:Ln,DoughnutController:En,LineController:Rn,PolarAreaController:In,PieController:zn,RadarController:Fn,ScatterController:Vn});function Nn(t,e,i){const{startAngle:s,pixelMargin:n,x:o,y:a,outerRadius:r,innerRadius:l}=e;let h=n/r;t.beginPath(),t.arc(o,a,r,s-h,i+h),l>n?(h=n/l,t.arc(o,a,l,i+h,s-h,!0)):t.arc(o,a,n,i+L,s-L),t.closePath(),t.clip()}function Wn(t,e,i,s){const n=ui(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(i-e)/2,a=Math.min(o,s\*e/2),r=t=>{const e=(i-Math.min(o,t))\*s/2;return Z(t,0,Math.min(o,e))};return{outerStart:r(n.outerStart),outerEnd:r(n.outerEnd),innerStart:Z(n.innerStart,0,a),innerEnd:Z(n.innerEnd,0,a)}}function jn(t,e,i,s){return{x:i+t\*Math.cos(e),y:s+t\*Math.sin(e)}}function Hn(t,e,i,s,n,o){const{x:a,y:r,startAngle:l,pixelMargin:h,innerRadius:c}=e,d=Math.max(e.outerRadius+s+i-h,0),u=c>0?c+s+i+h:0;let f=0;const g=n-l;if(s){const t=((c>0?c-s:0)+(d>0?d-s:0))/2;f=(g-(0!==t?g\*t/(t+s):g))/2}const p=(g-Math.max(.001,g\*d-i/D)/d)/2,m=l+p+f,b=n-p-f,{outerStart:x,outerEnd:\_,innerStart:y,innerEnd:v}=Wn(e,u,d,b-m),w=d-x,M=d-\_,k=m+x/w,S=b-\_/M,P=u+y,O=u+v,C=m+y/P,A=b-v/O;if(t.beginPath(),o){if(t.arc(a,r,d,k,S),\_>0){const e=jn(M,S,a,r);t.arc(e.x,e.y,\_,S,b+L)}const e=jn(O,b,a,r);if(t.lineTo(e.x,e.y),v>0){const e=jn(O,A,a,r);t.arc(e.x,e.y,v,b+L,A+Math.PI)}if(t.arc(a,r,u,b-v/u,m+y/u,!0),y>0){const e=jn(P,C,a,r);t.arc(e.x,e.y,y,C+Math.PI,m-L)}const i=jn(w,m,a,r);if(t.lineTo(i.x,i.y),x>0){const e=jn(w,k,a,r);t.arc(e.x,e.y,x,m-L,k)}}else{t.moveTo(a,r);const e=Math.cos(k)\*d+a,i=Math.sin(k)\*d+r;t.lineTo(e,i);const s=Math.cos(S)\*d+a,n=Math.sin(S)\*d+r;t.lineTo(s,n)}t.closePath()}function $n(t,e,i,s,n,o){const{options:a}=e,{borderWidth:r,borderJoinStyle:l}=a,h="inner"===a.borderAlign;r&&(h?(t.lineWidth=2\*r,t.lineJoin=l||"round"):(t.lineWidth=r,t.lineJoin=l||"bevel"),e.fullCircles&&function(t,e,i){const{x:s,y:n,startAngle:o,pixelMargin:a,fullCircles:r}=e,l=Math.max(e.outerRadius-a,0),h=e.innerRadius+a;let c;for(i&&Nn(t,e,o+O),t.beginPath(),t.arc(s,n,h,o+O,o,!0),c=0;c<r;++c)t.stroke();for(t.beginPath(),t.arc(s,n,l,o,o+O),c=0;c<r;++c)t.stroke()}(t,e,h),h&&Nn(t,e,n),Hn(t,e,i,s,n,o),t.stroke())}class Yn extends Es{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:n,distance:o}=U(s,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:h,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=this.options.spacing/2,f=r(d,l-a)>=O||G(n,a,l),g=Q(o,h+u,c+u);return f&&g}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:n,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:r,spacing:l}=this.options,h=(s+n)/2,c=(o+a+l+r)/2;return{x:e+Math.cos(h)\*c,y:i+Math.sin(h)\*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/2,n=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>O?Math.floor(i/O):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(s){a=s/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)\*a,Math.sin(e)\*a),this.circumference>=D&&(a=s)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const r=function(t,e,i,s,n){const{fullCircles:o,startAngle:a,circumference:r}=e;let l=e.endAngle;if(o){Hn(t,e,i,s,a+O,n);for(let e=0;e<o;++e)t.fill();isNaN(r)||(l=a+r%O,r%O==0&&(l+=O))}return Hn(t,e,i,s,l,n),t.fill(),l}(t,this,a,n,o);$n(t,this,a,n,r,o),t.restore()}}function Un(t,e,i=e){t.lineCap=r(i.borderCapStyle,e.borderCapStyle),t.setLineDash(r(i.borderDash,e.borderDash)),t.lineDashOffset=r(i.borderDashOffset,e.borderDashOffset),t.lineJoin=r(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=r(i.borderWidth,e.borderWidth),t.strokeStyle=r(i.borderColor,e.borderColor)}function Xn(t,e,i){t.lineTo(i.x,i.y)}function qn(t,e,i={}){const s=t.length,{start:n=0,end:o=s-1}=i,{start:a,end:r}=e,l=Math.max(n,a),h=Math.min(o,r),c=n<a&&o<a||n>r&&o>r;return{count:s,start:l,loop:e.loop,ilen:h<l&&!c?s+h-l:h-l}}function Kn(t,e,i,s){const{points:n,options:o}=e,{count:a,start:r,loop:l,ilen:h}=qn(n,i,s),c=function(t){return t.stepped?Oe:t.tension||"monotone"===t.cubicInterpolationMode?Ce:Xn}(o);let d,u,f,{move:g=!0,reverse:p}=s||{};for(d=0;d<=h;++d)u=n[(r+(p?h-d:d))%a],u.skip||(g?(t.moveTo(u.x,u.y),g=!1):c(t,f,u,p,o.stepped),f=u);return l&&(u=n[(r+(p?h:0))%a],c(t,f,u,p,o.stepped)),!!l}function Gn(t,e,i,s){const n=e.points,{count:o,start:a,ilen:r}=qn(n,i,s),{move:l=!0,reverse:h}=s||{};let c,d,u,f,g,p,m=0,b=0;const x=t=>(a+(h?r-t:t))%o,\_=()=>{f!==g&&(t.lineTo(m,g),t.lineTo(m,f),t.lineTo(m,p))};for(l&&(d=n[x(0)],t.moveTo(d.x,d.y)),c=0;c<=r;++c){if(d=n[x(c)],d.skip)continue;const e=d.x,i=d.y,s=0|e;s===u?(i<f?f=i:i>g&&(g=i),m=(b\*m+e)/++b):(\_(),t.lineTo(e,i),u=s,b=0,f=g=i),p=i}\_()}function Zn(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!(t.\_decimated||t.\_loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i)?Gn:Kn}Yn.id="arc",Yn.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Yn.defaultRoutes={backgroundColor:"backgroundColor"};const Jn="function"==typeof Path2D;function Qn(t,e,i,s){Jn&&!e.options.segment?function(t,e,i,s){let n=e.\_path;n||(n=e.\_path=new Path2D,e.path(n,i,s)&&n.closePath()),Un(t,e.options),t.stroke(n)}(t,e,i,s):function(t,e,i,s){const{segments:n,options:o}=e,a=Zn(e);for(const r of n)Un(t,o,r.style),t.beginPath(),a(t,e,r,{start:i,end:i+s-1})&&t.closePath(),t.stroke()}(t,e,i,s)}class to extends Es{constructor(t){super(),this.animated=!0,this.options=void 0,this.\_chart=void 0,this.\_loop=void 0,this.\_fullLoop=void 0,this.\_path=void 0,this.\_points=void 0,this.\_segments=void 0,this.\_decimated=!1,this.\_pointsUpdated=!1,this.\_datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this.\_pointsUpdated){const s=i.spanGaps?this.\_loop:this.\_fullLoop;Qe(this.\_points,i,t,s,e),this.\_pointsUpdated=!0}}set points(t){this.\_points=t,delete this.\_segments,delete this.\_path,this.\_pointsUpdated=!1}get points(){return this.\_points}get segments(){return this.\_segments||(this.\_segments=Di(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],n=this.points,o=Pi(this,{property:e,start:s,end:s});if(!o.length)return;const a=[],r=function(t){return t.stepped?oi:t.tension||"monotone"===t.cubicInterpolationMode?ai:ni}(i);let l,h;for(l=0,h=o.length;l<h;++l){const{start:h,end:c}=o[l],d=n[h],u=n[c];if(d===u){a.push(d);continue}const f=r(d,u,Math.abs((s-d[e])/(u[e]-d[e])),i.stepped);f[e]=t[e],a.push(f)}return 1===a.length?a[0]:a}pathSegment(t,e,i){return Zn(this)(t,this,e,i)}path(t,e,i){const s=this.segments,n=Zn(this);let o=this.\_loop;e=e||0,i=i||this.points.length-e;for(const a of s)o&=n(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,s){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),Qn(t,this,i,s),t.restore()),this.animated&&(this.\_pointsUpdated=!1,this.\_path=void 0)}}function eo(t,e,i,s){const n=t.options,{[i]:o}=t.getProps([i],s);return Math.abs(e-o)<n.radius+n.hitRadius}to.id="line",to.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},to.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},to.descriptors={\_scriptable:!0,\_indexable:t=>"borderDash"!==t&&"fill"!==t};class io extends Es{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:n,y:o}=this.getProps(["x","y"],i);return Math.pow(t-n,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return eo(this,t,"x",e)}inYRange(t,e){return eo(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2\*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Se(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Me(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function so(t,e){const{x:i,y:s,base:n,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let r,l,h,c,d;return t.horizontal?(d=a/2,r=Math.min(i,n),l=Math.max(i,n),h=s-d,c=s+d):(d=o/2,r=i-d,l=i+d,h=Math.min(s,n),c=Math.max(s,n)),{left:r,top:h,right:l,bottom:c}}function no(t,e,i,s){return t?0:Z(e,i,s)}function oo(t){const e=so(t),i=e.right-e.left,s=e.bottom-e.top,o=function(t,e,i){const s=t.options.borderWidth,n=t.borderSkipped,o=fi(s);return{t:no(n.top,o.top,0,i),r:no(n.right,o.right,0,e),b:no(n.bottom,o.bottom,0,i),l:no(n.left,o.left,0,e)}}(t,i/2,s/2),a=function(t,e,i){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,a=gi(o),r=Math.min(e,i),l=t.borderSkipped,h=s||n(o);return{topLeft:no(!h||l.top||l.left,a.topLeft,0,r),topRight:no(!h||l.top||l.right,a.topRight,0,r),bottomLeft:no(!h||l.bottom||l.left,a.bottomLeft,0,r),bottomRight:no(!h||l.bottom||l.right,a.bottomRight,0,r)}}(t,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s,radius:a},inner:{x:e.left+o.l,y:e.top+o.t,w:i-o.l-o.r,h:s-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function ao(t,e,i,s){const n=null===e,o=null===i,a=t&&!(n&&o)&&so(t,s);return a&&(n||Q(e,a.left,a.right))&&(o||Q(i,a.top,a.bottom))}function ro(t,e){t.rect(e.x,e.y,e.w,e.h)}function lo(t,e,i={}){const s=t.x!==i.x?-e:0,n=t.y!==i.y?-e:0,o=(t.x+t.w!==i.x+i.w?e:0)-s,a=(t.y+t.h!==i.y+i.h?e:0)-n;return{x:t.x+s,y:t.y+n,w:t.w+o,h:t.h+a,radius:t.radius}}io.id="point",io.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},io.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class ho extends Es{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:n,outer:o}=oo(this),a=(r=o.radius).topLeft||r.topRight||r.bottomLeft||r.bottomRight?Le:ro;var r;t.save(),o.w===n.w&&o.h===n.h||(t.beginPath(),a(t,lo(o,e,n)),t.clip(),a(t,lo(n,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,lo(n,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return ao(this,t,e,i)}inXRange(t,e){return ao(this,t,null,e)}inYRange(t,e){return ao(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(e+s)/2:e,y:n?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}ho.id="bar",ho.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},ho.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var co=Object.freeze({\_\_proto\_\_:null,ArcElement:Yn,LineElement:to,PointElement:io,BarElement:ho});function uo(t){if(t.\_decimated){const e=t.\_data;delete t.\_decimated,delete t.\_data,Object.defineProperty(t,"data",{value:e})}}function fo(t){t.data.datasets.forEach(t=>{uo(t)})}var go={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,s)=>{if(!s.enabled)return void fo(t);const n=t.width;t.data.datasets.forEach((e,o)=>{const{\_data:a,indexAxis:r}=e,l=t.getDatasetMeta(o),h=a||e.data;if("y"===bi([r,t.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const c=t.scales[l.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:d,count:u}=function(t,e){const i=e.length;let s,n=0;const{iScale:o}=t,{min:a,max:r,minDefined:l,maxDefined:h}=o.getUserBounds();return l&&(n=Z(et(e,o.axis,a).lo,0,i-1)),s=h?Z(et(e,o.axis,r).hi+1,n,i)-n:i-n,{start:n,count:s}}(l,h);if(u<=(s.threshold||4\*n))return void uo(e);let f;switch(i(a)&&(e.\_data=h,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this.\_decimated},set:function(t){this.\_data=t}})),s.algorithm){case"lttb":f=function(t,e,i,s,n){const o=n.samples||s;if(o>=i)return t.slice(e,e+i);const a=[],r=(i-2)/(o-2);let l=0;const h=e+i-1;let c,d,u,f,g,p=e;for(a[l++]=t[p],c=0;c<o-2;c++){let s,n=0,o=0;const h=Math.floor((c+1)\*r)+1+e,m=Math.min(Math.floor((c+2)\*r)+1,i)+e,b=m-h;for(s=h;s<m;s++)n+=t[s].x,o+=t[s].y;n/=b,o/=b;const x=Math.floor(c\*r)+1+e,\_=Math.min(Math.floor((c+1)\*r)+1,i)+e,{x:y,y:v}=t[p];for(u=f=-1,s=x;s<\_;s++)f=.5\*Math.abs((y-n)\*(t[s].y-v)-(y-t[s].x)\*(o-v)),f>u&&(u=f,d=t[s],g=s);a[l++]=d,p=g}return a[l++]=t[h],a}(h,d,u,n,s);break;case"min-max":f=function(t,e,s,n){let o,a,r,l,h,c,d,u,f,g,p=0,m=0;const b=[],x=e+s-1,\_=t[e].x,y=t[x].x-\_;for(o=e;o<e+s;++o){a=t[o],r=(a.x-\_)/y\*n,l=a.y;const e=0|r;if(e===h)l<f?(f=l,c=o):l>g&&(g=l,d=o),p=(m\*p+a.x)/++m;else{const s=o-1;if(!i(c)&&!i(d)){const e=Math.min(c,d),i=Math.max(c,d);e!==u&&e!==s&&b.push({...t[e],x:p}),i!==u&&i!==s&&b.push({...t[i],x:p})}o>0&&s!==u&&b.push(t[s]),b.push(a),h=e,m=0,f=g=l,c=d=u=o}}return b}(h,d,u,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}e.\_decimated=f})},destroy(t){fo(t)}};function po(t,e,i,s){if(s)return;let n=e[t],o=i[t];return"angle"===t&&(n=K(n),o=K(o)),{property:t,start:n,end:o}}function mo(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function bo(t,e,i,s){return t&&e?s(t[i],e[i]):t?t[i]:e?e[i]:0}function xo(t,e){let i=[],n=!1;return s(t)?(n=!0,i=t):i=function(t,e){const{x:i=null,y:s=null}=t||{},n=e.points,o=[];return e.segments.forEach(({start:t,end:e})=>{e=mo(t,e,n);const a=n[t],r=n[e];null!==s?(o.push({x:a.x,y:s}),o.push({x:r.x,y:s})):null!==i&&(o.push({x:i,y:a.y}),o.push({x:i,y:r.y}))}),o}(t,e),i.length?new to({points:i,options:{tension:0},\_loop:n,\_fullLoop:n}):null}function \_o(t){return t&&!1!==t.fill}function yo(t,e,i){let s=t[e].fill;const n=[e];let a;if(!i)return s;for(;!1!==s&&-1===n.indexOf(s);){if(!o(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;n.push(s),s=a.fill}return!1}function vo(t,e,i){const s=function(t){const e=t.options,i=e.fill;let s=r(i&&i.target,i);void 0===s&&(s=!!e.backgroundColor);if(!1===s||null===s)return!1;if(!0===s)return"origin";return s}(t);if(n(s))return!isNaN(s.value)&&s;let a=parseFloat(s);return o(a)&&Math.floor(a)===a?function(t,e,i,s){"-"!==t&&"+"!==t||(i=e+i);if(i===e||i<0||i>=s)return!1;return i}(s[0],e,a,i):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function wo(t,e,i){const s=[];for(let n=0;n<i.length;n++){const o=i[n],{first:a,last:r,point:l}=Mo(o,e,"x");if(!(!l||a&&r))if(a)s.unshift(l);else if(t.push(l),!r)break}t.push(...s)}function Mo(t,e,i){const s=t.interpolate(e,i);if(!s)return{};const n=s[i],o=t.segments,a=t.points;let r=!1,l=!1;for(let t=0;t<o.length;t++){const e=o[t],s=a[e.start][i],h=a[e.end][i];if(Q(n,s,h)){r=n===s,l=n===h;break}}return{first:r,last:l,point:s}}class ko{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:n,radius:o}=this;return e=e||{start:0,end:O},t.arc(s,n,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,n=t.angle;return{x:e+Math.cos(n)\*s,y:i+Math.sin(n)\*s,angle:n}}}function So(t){const{chart:e,fill:i,line:s}=t;if(o(i))return function(t,e){const i=t.getDatasetMeta(e);return i&&t.isDatasetVisible(e)?i.dataset:null}(e,i);if("stack"===i)return function(t){const{scale:e,index:i,line:s}=t,n=[],o=s.segments,a=s.points,r=function(t,e){const i=[],s=t.getMatchingVisibleMetas("line");for(let t=0;t<s.length;t++){const n=s[t];if(n.index===e)break;n.hidden||i.unshift(n.dataset)}return i}(e,i);r.push(xo({x:null,y:e.bottom},s));for(let t=0;t<o.length;t++){const e=o[t];for(let t=e.start;t<=e.end;t++)wo(n,a[t],r)}return new to({points:n,options:{}})}(t);if("shape"===i)return!0;const a=function(t){if((t.scale||{}).getPointPositionForValue)return function(t){const{scale:e,fill:i}=t,s=e.options,o=e.getLabels().length,a=s.reverse?e.max:e.min,r=function(t,e,i){let s;return s="start"===t?i:"end"===t?e.options.reverse?e.min:e.max:n(t)?t.value:e.getBaseValue(),s}(i,e,a),l=[];if(s.grid.circular){const t=e.getPointPositionForValue(0,a);return new ko({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(r)})}for(let t=0;t<o;++t)l.push(e.getPointPositionForValue(t,r));return l}(t);return function(t){const{scale:e={},fill:i}=t,s=function(t,e){let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:n(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}(i,e);if(o(s)){const t=e.isHorizontal();return{x:t?s:null,y:t?null:s}}return null}(t)}(t);return a instanceof ko?a:xo(a,s)}function Po(t,e,i){const s=So(e),{line:n,scale:o,axis:a}=e,r=n.options,l=r.fill,h=r.backgroundColor,{above:c=h,below:d=h}=l||{};s&&n.points.length&&(Pe(t,i),function(t,e){const{line:i,target:s,above:n,below:o,area:a,scale:r}=e,l=i.\_loop?"angle":e.axis;t.save(),"x"===l&&o!==n&&(Do(t,s,a.top),Oo(t,{line:i,target:s,color:n,scale:r,property:l}),t.restore(),t.save(),Do(t,s,a.bottom));Oo(t,{line:i,target:s,color:o,scale:r,property:l}),t.restore()}(t,{line:n,target:s,above:c,below:d,area:i,scale:o,axis:a}),De(t))}function Do(t,e,i){const{segments:s,points:n}=e;let o=!0,a=!1;t.beginPath();for(const r of s){const{start:s,end:l}=r,h=n[s],c=n[mo(s,l,n)];o?(t.moveTo(h.x,h.y),o=!1):(t.lineTo(h.x,i),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,r,{move:a}),a?t.closePath():t.lineTo(c.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function Oo(t,e){const{line:i,target:s,property:n,color:o,scale:a}=e,r=function(t,e,i){const s=t.segments,n=t.points,o=e.points,a=[];for(const t of s){let{start:s,end:r}=t;r=mo(s,r,n);const l=po(i,n[s],n[r],t.loop);if(!e.segments){a.push({source:t,target:l,start:n[s],end:n[r]});continue}const h=Pi(e,l);for(const e of h){const s=po(i,o[e.start],o[e.end],e.loop),r=Si(t,n,s);for(const t of r)a.push({source:t,target:e,start:{[i]:bo(l,s,"start",Math.max)},end:{[i]:bo(l,s,"end",Math.min)}})}}return a}(i,s,n);for(const{source:e,target:l,start:h,end:c}of r){const{style:{backgroundColor:r=o}={}}=e,d=!0!==s;t.save(),t.fillStyle=r,Co(t,a,d&&po(n,h,c)),t.beginPath();const u=!!i.pathSegment(t,e);let f;if(d){u?t.closePath():Ao(t,s,c,n);const e=!!s.pathSegment(t,l,{move:u,reverse:!0});f=u&&e,f||Ao(t,s,h,n)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function Co(t,e,i){const{top:s,bottom:n}=e.chart.chartArea,{property:o,start:a,end:r}=i||{};"x"===o&&(t.beginPath(),t.rect(a,s,r-a,n-s),t.clip())}function Ao(t,e,i,s){const n=e.interpolate(i,s);n&&t.lineTo(n.x,n.y)}var To={id:"filler",afterDatasetsUpdate(t,e,i){const s=(t.data.datasets||[]).length,n=[];let o,a,r,l;for(a=0;a<s;++a)o=t.getDatasetMeta(a),r=o.dataset,l=null,r&&r.options&&r instanceof to&&(l={visible:t.isDatasetVisible(a),index:a,fill:vo(r,a,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:r}),o.$filler=l,n.push(l);for(a=0;a<s;++a)l=n[a],l&&!1!==l.fill&&(l.fill=yo(n,a,i.propagate))},beforeDraw(t,e,i){const s="beforeDraw"===i.drawTime,n=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let e=n.length-1;e>=0;--e){const i=n[e].$filler;i&&(i.line.updateControlPoints(o,i.axis),s&&i.fill&&Po(t.ctx,i,o))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;const s=t.getSortedVisibleDatasetMetas();for(let e=s.length-1;e>=0;--e){const i=s[e].$filler;\_o(i)&&Po(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){const s=e.meta.$filler;\_o(s)&&"beforeDatasetDraw"===i.drawTime&&Po(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Lo=(t,e)=>{let{boxHeight:i=e,boxWidth:s=e}=t;return t.usePointStyle&&(i=Math.min(i,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(e,i)}};class Eo extends Es{constructor(t){super(),this.\_added=!1,this.legendHitBoxes=[],this.\_hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this.\_margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this.\_margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this.\_margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this.\_margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=c(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(e=>t.filter(e,this.chart.data))),t.sort&&(e=e.sort((e,i)=>t.sort(e,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,s=mi(i.font),n=s.size,o=this.\_computeTitleHeight(),{boxWidth:a,itemHeight:r}=Lo(i,n);let l,h;e.font=s.string,this.isHorizontal()?(l=this.maxWidth,h=this.\_fitRows(o,n,a,r)+10):(h=this.maxHeight,l=this.\_fitCols(o,n,a,r)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}\_fitRows(t,e,i,s){const{ctx:n,maxWidth:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.lineWidths=[0],h=s+a;let c=t;n.textAlign="left",n.textBaseline="middle";let d=-1,u=-h;return this.legendItems.forEach((t,f)=>{const g=i+e/2+n.measureText(t.text).width;(0===f||l[l.length-1]+g+2\*a>o)&&(c+=h,l[l.length-(f>0?0:1)]=0,u+=h,d++),r[f]={left:0,top:u,row:d,width:g,height:s},l[l.length-1]+=g+a}),c}\_fitCols(t,e,i,s){const{ctx:n,maxHeight:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.columnSizes=[],h=o-t;let c=a,d=0,u=0,f=0,g=0;return this.legendItems.forEach((t,o)=>{const p=i+e/2+n.measureText(t.text).width;o>0&&u+s+2\*a>h&&(c+=d+a,l.push({width:d,height:u}),f+=d+a,g++,d=u=0),r[o]={left:f,top:u,col:g,width:p,height:s},d=Math.max(d,p),u+=s+a}),c+=d,l.push({width:d,height:u}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this.\_computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:n}}=this,o=yi(n,this.left,this.width);if(this.isHorizontal()){let n=0,a=ut(i,this.left+s,this.right-this.lineWidths[n]);for(const r of e)n!==r.row&&(n=r.row,a=ut(i,this.left+s,this.right-this.lineWidths[n])),r.top+=this.top+t+s,r.left=o.leftForLtr(o.x(a),r.width),a+=r.width+s}else{let n=0,a=ut(i,this.top+t+s,this.bottom-this.columnSizes[n].height);for(const r of e)r.col!==n&&(n=r.col,a=ut(i,this.top+t+s,this.bottom-this.columnSizes[n].height)),r.top=a,r.left+=this.left+s,r.left=o.leftForLtr(o.x(r.left),r.width),a+=r.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Pe(t,this),this.\_draw(),De(t)}}\_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:n,labels:o}=t,a=ne.color,l=yi(t.rtl,this.left,this.width),h=mi(o.font),{color:c,padding:d}=o,u=h.size,f=u/2;let g;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:p,boxHeight:m,itemHeight:b}=Lo(o,u),x=this.isHorizontal(),\_=this.\_computeTitleHeight();g=x?{x:ut(n,this.left+d,this.right-i[0]),y:this.top+d+\_,line:0}:{x:this.left+d,y:ut(n,this.top+\_+d,this.bottom-e[0].height),line:0},vi(this.ctx,t.textDirection);const y=b+d;this.legendItems.forEach((v,w)=>{s.strokeStyle=v.fontColor||c,s.fillStyle=v.fontColor||c;const M=s.measureText(v.text).width,k=l.textAlign(v.textAlign||(v.textAlign=o.textAlign)),S=p+f+M;let P=g.x,D=g.y;l.setWidth(this.width),x?w>0&&P+S+d>this.right&&(D=g.y+=y,g.line++,P=g.x=ut(n,this.left+d,this.right-i[g.line])):w>0&&D+y>this.bottom&&(P=g.x=P+e[g.line].width+d,g.line++,D=g.y=ut(n,this.top+\_+d,this.bottom-e[g.line].height));!function(t,e,i){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;s.save();const n=r(i.lineWidth,1);if(s.fillStyle=r(i.fillStyle,a),s.lineCap=r(i.lineCap,"butt"),s.lineDashOffset=r(i.lineDashOffset,0),s.lineJoin=r(i.lineJoin,"miter"),s.lineWidth=n,s.strokeStyle=r(i.strokeStyle,a),s.setLineDash(r(i.lineDash,[])),o.usePointStyle){const a={radius:m\*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},r=l.xPlus(t,p/2);ke(s,a,r,e+f,o.pointStyleWidth&&p)}else{const o=e+Math.max((u-m)/2,0),a=l.leftForLtr(t,p),r=gi(i.borderRadius);s.beginPath(),Object.values(r).some(t=>0!==t)?Le(s,{x:a,y:o,w:p,h:m,radius:r}):s.rect(a,o,p,m),s.fill(),0!==n&&s.stroke()}s.restore()}(l.x(P),D,v),P=ft(k,P+p+f,x?P+S:this.right,t.rtl),function(t,e,i){Ae(s,i.text,t,e+b/2,h,{strikethrough:i.hidden,textAlign:l.textAlign(i.textAlign)})}(l.x(P),D,v),x?g.x+=S+d:g.y+=y}),wi(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=mi(e.font),s=pi(e.padding);if(!e.display)return;const n=yi(t.rtl,this.left,this.width),o=this.ctx,a=e.position,r=i.size/2,l=s.top+r;let h,c=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+l,c=ut(t.align,c,this.right-d);else{const e=this.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);h=l+ut(t.align,this.top,this.bottom-e-t.labels.padding-this.\_computeTitleHeight())}const u=ut(a,c,c+d);o.textAlign=n.textAlign(dt(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Ae(o,e.text,u,h,i)}\_computeTitleHeight(){const t=this.options.title,e=mi(t.font),i=pi(t.padding);return t.display?e.lineHeight+i.height:0}\_getLegendItemAt(t,e){let i,s,n;if(Q(t,this.left,this.right)&&Q(e,this.top,this.bottom))for(n=this.legendHitBoxes,i=0;i<n.length;++i)if(s=n[i],Q(t,s.left,s.left+s.width)&&Q(e,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const i=this.\_getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this.\_hoveredItem,a=(n=i,null!==(s=o)&&null!==n&&s.datasetIndex===n.datasetIndex&&s.index===n.index);o&&!a&&c(e.onLeave,[t,o,this],this),this.\_hoveredItem=i,i&&!a&&c(e.onHover,[t,i,this],this)}else i&&c(e.onClick,[t,i,this],this);var s,n}}var Ro={id:"legend",\_element:Eo,start(t,e,i){const s=t.legend=new Eo({ctx:t.ctx,options:i,chart:t});Zi.configure(t,s,i),Zi.addBox(t,s)},stop(t){Zi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const s=t.legend;Zi.configure(t,s,i),s.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const s=e.datasetIndex,n=i.chart;n.isDatasetVisible(s)?(n.hide(s),e.hidden=!0):(n.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:n,color:o}}=t.legend.options;return t.\_getSortedDatasetMetas().map(t=>{const a=t.controller.getStyle(i?0:void 0),r=pi(a.borderWidth);return{text:e[t.index].label,fillStyle:a.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(r.width+r.height)/4,strokeStyle:a.borderColor,pointStyle:s||a.pointStyle,rotation:a.rotation,textAlign:n||a.textAlign,borderRadius:0,datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{\_scriptable:t=>!t.startsWith("on"),labels:{\_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Io extends Es{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.\_padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const n=s(i.text)?i.text.length:1;this.\_padding=pi(i.padding);const o=n\*mi(i.font).lineHeight+this.\_padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}\_drawArgs(t){const{top:e,left:i,bottom:s,right:n,options:o}=this,a=o.align;let r,l,h,c=0;return this.isHorizontal()?(l=ut(a,i,n),h=e+t,r=n-i):("left"===o.position?(l=i+t,h=ut(a,s,e),c=-.5\*D):(l=n-t,h=ut(a,e,s),c=.5\*D),r=s-e),{titleX:l,titleY:h,maxWidth:r,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=mi(e.font),s=i.lineHeight/2+this.\_padding.top,{titleX:n,titleY:o,maxWidth:a,rotation:r}=this.\_drawArgs(s);Ae(t,e.text,0,0,i,{color:e.color,maxWidth:a,rotation:r,textAlign:dt(e.align),textBaseline:"middle",translation:[n,o]})}}var zo={id:"title",\_element:Io,start(t,e,i){!function(t,e){const i=new Io({ctx:t.ctx,options:e,chart:t});Zi.configure(t,i,e),Zi.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;Zi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const s=t.titleBlock;Zi.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{\_scriptable:!0,\_indexable:!1}};const Fo=new WeakMap;var Vo={id:"subtitle",start(t,e,i){const s=new Io({ctx:t.ctx,options:i,chart:t});Zi.configure(t,s,i),Zi.addBox(t,s),Fo.set(t,s)},stop(t){Zi.removeBox(t,Fo.get(t)),Fo.delete(t)},beforeUpdate(t,e,i){const s=Fo.get(t);Zi.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{\_scriptable:!0,\_indexable:!1}};const Bo={average(t){if(!t.length)return!1;let e,i,s=0,n=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();s+=t.x,n+=t.y,++o}}return{x:s/o,y:n/o}},nearest(t,e){if(!t.length)return!1;let i,s,n,o=e.x,a=e.y,r=Number.POSITIVE\_INFINITY;for(i=0,s=t.length;i<s;++i){const s=t[i].element;if(s&&s.hasValue()){const t=X(e,s.getCenterPoint());t<r&&(r=t,n=s)}}if(n){const t=n.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function No(t,e){return e&&(s(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Wo(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function jo(t,e){const{element:i,datasetIndex:s,index:n}=e,o=t.getDatasetMeta(s).controller,{label:a,value:r}=o.getLabelAndValue(n);return{chart:t,label:a,parsed:o.getParsed(n),raw:t.data.datasets[s].data[n],formattedValue:r,dataset:o.getDataset(),dataIndex:n,datasetIndex:s,element:i}}function Ho(t,e){const i=t.chart.ctx,{body:s,footer:n,title:o}=t,{boxWidth:a,boxHeight:r}=e,l=mi(e.bodyFont),h=mi(e.titleFont),c=mi(e.footerFont),u=o.length,f=n.length,g=s.length,p=pi(e.padding);let m=p.height,b=0,x=s.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,u&&(m+=u\*h.lineHeight+(u-1)\*e.titleSpacing+e.titleMarginBottom),x){m+=g\*(e.displayColors?Math.max(r,l.lineHeight):l.lineHeight)+(x-g)\*l.lineHeight+(x-1)\*e.bodySpacing}f&&(m+=e.footerMarginTop+f\*c.lineHeight+(f-1)\*e.footerSpacing);let \_=0;const y=function(t){b=Math.max(b,i.measureText(t).width+\_)};return i.save(),i.font=h.string,d(t.title,y),i.font=l.string,d(t.beforeBody.concat(t.afterBody),y),\_=e.displayColors?a+2+e.boxPadding:0,d(s,t=>{d(t.before,y),d(t.lines,y),d(t.after,y)}),\_=0,i.font=c.string,d(t.footer,y),i.restore(),b+=p.width,{width:b,height:m}}function $o(t,e,i,s){const{x:n,width:o}=i,{width:a,chartArea:{left:r,right:l}}=t;let h="center";return"center"===s?h=n<=(r+l)/2?"left":"right":n<=o/2?h="left":n>=a-o/2&&(h="right"),function(t,e,i,s){const{x:n,width:o}=s,a=i.caretSize+i.caretPadding;return"left"===t&&n+o+a>e.width||"right"===t&&n-o-a<0||void 0}(h,t,e,i)&&(h="center"),h}function Yo(t,e,i){const s=i.yAlign||e.yAlign||function(t,e){const{y:i,height:s}=e;return i<s/2?"top":i>t.height-s/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||$o(t,e,i,s),yAlign:s}}function Uo(t,e,i,s){const{caretSize:n,caretPadding:o,cornerRadius:a}=t,{xAlign:r,yAlign:l}=i,h=n+o,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=gi(a);let g=function(t,e){let{x:i,width:s}=t;return"right"===e?i-=s:"center"===e&&(i-=s/2),i}(e,r);const p=function(t,e,i){let{y:s,height:n}=t;return"top"===e?s+=i:s-="bottom"===e?n+i:n/2,s}(e,l,h);return"center"===l?"left"===r?g+=h:"right"===r&&(g-=h):"left"===r?g-=Math.max(c,u)+n:"right"===r&&(g+=Math.max(d,f)+n),{x:Z(g,0,s.width-e.width),y:Z(p,0,s.height-e.height)}}function Xo(t,e,i){const s=pi(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-s.right:t.x+s.left}function qo(t){return No([],Wo(t))}function Ko(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}class Go extends Es{constructor(t){super(),this.opacity=0,this.\_active=[],this.\_eventPosition=void 0,this.\_size=void 0,this.\_cachedAnimations=void 0,this.\_tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t.\_chart,this.\_chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this.\_cachedAnimations=void 0,this.$context=void 0}\_resolveAnimations(){const t=this.\_cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,n=new ys(this.chart,s);return s.\_cacheable&&(this.\_cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,i=this.\_tooltipItems,\_i(t,{tooltip:e,tooltipItems:i,type:"tooltip"})));var t,e,i}getTitle(t,e){const{callbacks:i}=e,s=i.beforeTitle.apply(this,[t]),n=i.title.apply(this,[t]),o=i.afterTitle.apply(this,[t]);let a=[];return a=No(a,Wo(s)),a=No(a,Wo(n)),a=No(a,Wo(o)),a}getBeforeBody(t,e){return qo(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:i}=e,s=[];return d(t,t=>{const e={before:[],lines:[],after:[]},n=Ko(i,t);No(e.before,Wo(n.beforeLabel.call(this,t))),No(e.lines,n.label.call(this,t)),No(e.after,Wo(n.afterLabel.call(this,t))),s.push(e)}),s}getAfterBody(t,e){return qo(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:i}=e,s=i.beforeFooter.apply(this,[t]),n=i.footer.apply(this,[t]),o=i.afterFooter.apply(this,[t]);let a=[];return a=No(a,Wo(s)),a=No(a,Wo(n)),a=No(a,Wo(o)),a}\_createItems(t){const e=this.\_active,i=this.chart.data,s=[],n=[],o=[];let a,r,l=[];for(a=0,r=e.length;a<r;++a)l.push(jo(this.chart,e[a]));return t.filter&&(l=l.filter((e,s,n)=>t.filter(e,s,n,i))),t.itemSort&&(l=l.sort((e,s)=>t.itemSort(e,s,i))),d(l,e=>{const i=Ko(t.callbacks,e);s.push(i.labelColor.call(this,e)),n.push(i.labelPointStyle.call(this,e)),o.push(i.labelTextColor.call(this,e))}),this.labelColors=s,this.labelPointStyles=n,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),s=this.\_active;let n,o=[];if(s.length){const t=Bo[i.position].call(this,s,this.\_eventPosition);o=this.\_createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const e=this.\_size=Ho(this,i),a=Object.assign({},t,e),r=Yo(this.chart,i,a),l=Uo(i,a,r,this.chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,n={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(n={opacity:0});this.\_tooltipItems=o,this.$context=void 0,n&&this.\_resolveAnimations().update(this,n),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const n=this.getCaretPosition(t,i,s);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:n}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:r,topRight:l,bottomLeft:h,bottomRight:c}=gi(a),{x:d,y:u}=t,{width:f,height:g}=e;let p,m,b,x,\_,y;return"center"===n?(\_=u+g/2,"left"===s?(p=d,m=p-o,x=\_+o,y=\_-o):(p=d+f,m=p+o,x=\_-o,y=\_+o),b=p):(m="left"===s?d+Math.max(r,h)+o:"right"===s?d+f-Math.max(l,c)-o:this.caretX,"top"===n?(x=u,\_=x-o,p=m-o,b=m+o):(x=u+g,\_=x+o,p=m+o,b=m-o),y=x),{x1:p,x2:m,x3:b,y1:x,y2:\_,y3:y}}drawTitle(t,e,i){const s=this.title,n=s.length;let o,a,r;if(n){const l=yi(i.rtl,this.x,this.width);for(t.x=Xo(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",o=mi(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,r=0;r<n;++r)e.fillText(s[r],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,r+1===n&&(t.y+=i.titleMarginBottom-a)}}\_drawColorBox(t,e,i,s,o){const a=this.labelColors[i],r=this.labelPointStyles[i],{boxHeight:l,boxWidth:h,boxPadding:c}=o,d=mi(o.bodyFont),u=Xo(this,"left",o),f=s.x(u),g=l<d.lineHeight?(d.lineHeight-l)/2:0,p=e.y+g;if(o.usePointStyle){const e={radius:Math.min(h,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},i=s.leftForLtr(f,h)+h/2,n=p+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Me(t,e,i,n),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Me(t,e,i,n)}else{t.lineWidth=n(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const e=s.leftForLtr(f,h-c),i=s.leftForLtr(s.xPlus(f,1),h-c-2),r=gi(a.borderRadius);Object.values(r).some(t=>0!==t)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Le(t,{x:e,y:p,w:h,h:l,radius:r}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Le(t,{x:i,y:p+1,w:h-2,h:l-2,radius:r}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(e,p,h,l),t.strokeRect(e,p,h,l),t.fillStyle=a.backgroundColor,t.fillRect(i,p+1,h-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:n,bodyAlign:o,displayColors:a,boxHeight:r,boxWidth:l,boxPadding:h}=i,c=mi(i.bodyFont);let u=c.lineHeight,f=0;const g=yi(i.rtl,this.x,this.width),p=function(i){e.fillText(i,g.x(t.x+f),t.y+u/2),t.y+=u+n},m=g.textAlign(o);let b,x,\_,y,v,w,M;for(e.textAlign=o,e.textBaseline="middle",e.font=c.string,t.x=Xo(this,m,i),e.fillStyle=i.bodyColor,d(this.beforeBody,p),f=a&&"right"!==m?"center"===o?l/2+h:l+2+h:0,y=0,w=s.length;y<w;++y){for(b=s[y],x=this.labelTextColors[y],e.fillStyle=x,d(b.before,p),\_=b.lines,a&&\_.length&&(this.\_drawColorBox(e,t,y,g,i),u=Math.max(c.lineHeight,r)),v=0,M=\_.length;v<M;++v)p(\_[v]),u=c.lineHeight;d(b.after,p)}f=0,u=c.lineHeight,d(this.afterBody,p),t.y-=n}drawFooter(t,e,i){const s=this.footer,n=s.length;let o,a;if(n){const r=yi(i.rtl,this.x,this.width);for(t.x=Xo(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=r.textAlign(i.footerAlign),e.textBaseline="middle",o=mi(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<n;++a)e.fillText(s[a],r.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:n,yAlign:o}=this,{x:a,y:r}=t,{width:l,height:h}=i,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=gi(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+c,r),"top"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+l-d,r),e.quadraticCurveTo(a+l,r,a+l,r+d),"center"===o&&"right"===n&&this.drawCaret(t,e,i,s),e.lineTo(a+l,r+h-f),e.quadraticCurveTo(a+l,r+h,a+l-f,r+h),"bottom"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+u,r+h),e.quadraticCurveTo(a,r+h,a,r+h-u),"center"===o&&"left"===n&&this.drawCaret(t,e,i,s),e.lineTo(a,r+c),e.quadraticCurveTo(a,r,a+c,r),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}\_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,n=i&&i.y;if(s||n){const i=Bo[t.position].call(this,this.\_active,this.\_eventPosition);if(!i)return;const o=this.\_size=Ho(this,t),a=Object.assign({},i,this.\_size),r=Yo(e,t,a),l=Uo(t,a,r,e);s.\_to===l.x&&n.\_to===l.y||(this.xAlign=r.xAlign,this.yAlign=r.yAlign,this.width=o.width,this.height=o.height,this.caretX=i.x,this.caretY=i.y,this.\_resolveAnimations().update(this,l))}}\_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this.\_updateAnimationTarget(e);const s={width:this.width,height:this.height},n={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=pi(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(n,t,s,e),vi(t,e.textDirection),n.y+=o.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),wi(t,e.textDirection),t.restore())}getActiveElements(){return this.\_active||[]}setActiveElements(t,e){const i=this.\_active,s=t.map(({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}),n=!u(i,s),o=this.\_positionChanged(s,e);(n||o)&&(this.\_active=s,this.\_eventPosition=e,this.\_ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this.\_ignoreReplayEvents)return!1;this.\_ignoreReplayEvents=!1;const s=this.options,n=this.\_active||[],o=this.\_getActiveElements(t,n,e,i),a=this.\_positionChanged(o,t),r=e||!u(o,n)||a;return r&&(this.\_active=o,(s.enabled||s.external)&&(this.\_eventPosition={x:t.x,y:t.y},this.update(!0,e))),r}\_getActiveElements(t,e,i,s){const n=this.options;if("mouseout"===t.type)return[];if(!s)return e;const o=this.chart.getElementsAtEventForMode(t,n.mode,n,i);return n.reverse&&o.reverse(),o}\_positionChanged(t,e){const{caretX:i,caretY:s,options:n}=this,o=Bo[n.position].call(this,t,e);return!1!==o&&(i!==o.x||s!==o.y)}}Go.positioners=Bo;var Zo={id:"tooltip",\_element:Go,positioners:Bo,afterInit(t,e,i){i&&(t.tooltip=new Go({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e.\_willRender()){const i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",i))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:t,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,s=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return i[e.dataIndex]}return""},afterTitle:t,beforeBody:t,beforeLabel:t,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return i(s)||(e+=s),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:t,afterBody:t,beforeFooter:t,footer:t,afterFooter:t}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{\_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,\_indexable:!1,callbacks:{\_scriptable:!1,\_indexable:!1},animation:{\_fallback:!1},animations:{\_fallback:"animation"}},additionalOptionScopes:["interaction"]},Jo=Object.freeze({\_\_proto\_\_:null,Decimation:go,Filler:To,Legend:Ro,SubTitle:Vo,Title:zo,Tooltip:Zo});function Qo(t,e,i,s){const n=t.indexOf(e);if(-1===n)return((t,e,i,s)=>("string"==typeof e?(i=t.push(e)-1,s.unshift({index:i,label:e})):isNaN(e)&&(i=null),i))(t,e,i,s);return n!==t.lastIndexOf(e)?i:n}class ta extends $s{constructor(t){super(t),this.\_startValue=void 0,this.\_valueRange=0,this.\_addedLabels=[]}init(t){const e=this.\_addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:s}of e)t[i]===s&&t.splice(i,1);this.\_addedLabels=[]}super.init(t)}parse(t,e){if(i(t))return null;const s=this.getLabels();return((t,e)=>null===t?null:Z(Math.round(t),0,e))(e=isFinite(e)&&s[e]===t?e:Qo(s,t,r(e,t),this.\_addedLabels),s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let n=this.getLabels();n=0===t&&e===n.length-1?n:n.slice(t,e+1),this.\_valueRange=Math.max(n.length-(i?0:1),1),this.\_startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)s.push({value:i});return s}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this.\_reversePixels=!this.\_reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this.\_startValue)/this.\_valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this.\_startValue+this.getDecimalForPixel(t)\*this.\_valueRange)}getBasePixel(){return this.bottom}}function ea(t,e,{horizontal:i,minRotation:s}){const n=H(s),o=(i?Math.sin(n):Math.cos(n))||.001,a=.75\*e\*(""+t).length;return Math.min(e/o,a)}ta.id="category",ta.defaults={ticks:{callback:ta.prototype.getLabelForValue}};class ia extends $s{constructor(t){super(t),this.start=void 0,this.end=void 0,this.\_startValue=void 0,this.\_endValue=void 0,this.\_valueRange=0}parse(t,e){return i(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:n}=this;const o=t=>s=e?s:t,a=t=>n=i?n:t;if(t){const t=z(s),e=z(n);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(s===n){let e=1;(n>=Number.MAX\_SAFE\_INTEGER||s<=Number.MIN\_SAFE\_INTEGER)&&(e=Math.abs(.05\*n)),a(n+e),t||o(s-e)}this.min=s,this.max=n}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:s}=t;return s?(e=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE\_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n=function(t,e){const s=[],{bounds:n,step:o,min:a,max:r,precision:l,count:h,maxTicks:c,maxDigits:d,includeBounds:u}=t,f=o||1,g=c-1,{min:p,max:m}=e,b=!i(a),x=!i(r),\_=!i(h),y=(m-p)/(d+1);let v,w,M,k,S=F((m-p)/g/f)\*f;if(S<1e-14&&!b&&!x)return[{value:p},{value:m}];k=Math.ceil(m/S)-Math.floor(p/S),k>g&&(S=F(k\*S/g/f)\*f),i(l)||(v=Math.pow(10,l),S=Math.ceil(S\*v)/v),"ticks"===n?(w=Math.floor(p/S)\*S,M=Math.ceil(m/S)\*S):(w=p,M=m),b&&x&&o&&W((r-a)/o,S/1e3)?(k=Math.round(Math.min((r-a)/S,c)),S=(r-a)/k,w=a,M=r):\_?(w=b?a:w,M=x?r:M,k=h-1,S=(M-w)/k):(k=(M-w)/S,k=N(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const P=Math.max(Y(S),Y(w));v=Math.pow(10,i(l)?P:l),w=Math.round(w\*v)/v,M=Math.round(M\*v)/v;let D=0;for(b&&(u&&w!==a?(s.push({value:a}),w<a&&D++,N(Math.round((w+D\*S)\*v)/v,a,ea(a,y,t))&&D++):w<a&&D++);D<k;++D)s.push({value:Math.round((w+D\*S)\*v)/v});return x&&u&&M!==r?s.length&&N(s[s.length-1].value,r,ea(r,y,t))?s[s.length-1].value=r:s.push({value:r}):x&&M!==r||s.push({value:M}),s}({maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this.\_maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this.\_range||this);return"ticks"===t.bounds&&j(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this.\_startValue=e,this.\_endValue=i,this.\_valueRange=i-e}getLabelForValue(t){return li(t,this.chart.options.locale,this.options.ticks.format)}}class sa extends ia{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=o(t)?t:0,this.max=o(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=H(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,n=this.\_resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,n.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this.\_startValue)/this.\_valueRange)}getValueForPixel(t){return this.\_startValue+this.getDecimalForPixel(t)\*this.\_valueRange}}function na(t){return 1===t/Math.pow(10,Math.floor(I(t)))}sa.id="linear",sa.defaults={ticks:{callback:Is.formatters.numeric}};class oa extends $s{constructor(t){super(t),this.start=void 0,this.end=void 0,this.\_startValue=void 0,this.\_valueRange=0}parse(t,e){const i=ia.prototype.parse.apply(this,[t,e]);if(0!==i)return o(i)&&i>0?i:null;this.\_zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=o(t)?Math.max(0,t):null,this.max=o(e)?Math.max(0,e):null,this.options.beginAtZero&&(this.\_zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const n=e=>i=t?i:e,o=t=>s=e?s:t,a=(t,e)=>Math.pow(10,Math.floor(I(t))+e);i===s&&(i<=0?(n(1),o(10)):(n(a(i,-1)),o(a(s,1)))),i<=0&&n(a(s,-1)),s<=0&&o(a(i,1)),this.\_zero&&this.min!==this.\_suggestedMin&&i===a(this.min,0)&&n(a(i,-1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e=function(t,e){const i=Math.floor(I(e.max)),s=Math.ceil(e.max/Math.pow(10,i)),n=[];let o=a(t.min,Math.pow(10,Math.floor(I(e.min)))),r=Math.floor(I(o)),l=Math.floor(o/Math.pow(10,r)),h=r<0?Math.pow(10,Math.abs(r)):1;do{n.push({value:o,major:na(o)}),++l,10===l&&(l=1,++r,h=r>=0?1:h),o=Math.round(l\*Math.pow(10,r)\*h)/h}while(r<i||r===i&&l<s);const c=a(t.max,o);return n.push({value:c,major:na(o)}),n}({min:this.\_userMin,max:this.\_userMax},this);return"ticks"===t.bounds&&j(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":li(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this.\_startValue=I(t),this.\_valueRange=I(this.max)-I(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(I(t)-this.\_startValue)/this.\_valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this.\_startValue+e\*this.\_valueRange)}}function aa(t){const e=t.ticks;if(e.display&&t.display){const t=pi(e.backdropPadding);return r(e.font&&e.font.size,ne.font.size)+t.height}return 0}function ra(t,e,i,s,n){return t===s||t===n?{start:e-i/2,end:e+i/2}:t<s||t>n?{start:e-i,end:e}:{start:e,end:e+i}}function la(t){const e={l:t.left+t.\_padding.left,r:t.right-t.\_padding.right,t:t.top+t.\_padding.top,b:t.bottom-t.\_padding.bottom},i=Object.assign({},e),n=[],o=[],a=t.\_pointLabels.length,r=t.options.pointLabels,l=r.centerPointLabels?D/a:0;for(let u=0;u<a;u++){const a=r.setContext(t.getPointLabelContext(u));o[u]=a.padding;const f=t.getPointPosition(u,t.drawingArea+o[u],l),g=mi(a.font),p=(h=t.ctx,c=g,d=s(d=t.\_pointLabels[u])?d:[d],{w:ye(h,c.string,d),h:d.length\*c.lineHeight});n[u]=p;const m=K(t.getIndexAngle(u)+l),b=Math.round($(m));ha(i,e,m,ra(b,f.x,p.w,0,180),ra(b,f.y,p.h,90,270))}var h,c,d;t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t.\_pointLabelItems=function(t,e,i){const s=[],n=t.\_pointLabels.length,o=t.options,a=aa(o)/2,r=t.drawingArea,l=o.pointLabels.centerPointLabels?D/n:0;for(let o=0;o<n;o++){const n=t.getPointPosition(o,r+a+i[o],l),h=Math.round($(K(n.angle+L))),c=e[o],d=ua(n.y,c.h,h),u=ca(h),f=da(n.x,c.w,u);s.push({x:n.x,y:d,textAlign:u,left:f,top:d,right:f+c.w,bottom:d+c.h})}return s}(t,n,o)}function ha(t,e,i,s,n){const o=Math.abs(Math.sin(i)),a=Math.abs(Math.cos(i));let r=0,l=0;s.start<e.l?(r=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-r)):s.end>e.r&&(r=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+r)),n.start<e.t?(l=(e.t-n.start)/a,t.t=Math.min(t.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function ca(t){return 0===t||180===t?"center":t<180?"left":"right"}function da(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function ua(t,e,i){return 90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e),t}function fa(t,e,i,s){const{ctx:n}=t;if(i)n.arc(t.xCenter,t.yCenter,e,0,O);else{let i=t.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=t.getPointPosition(o,e),n.lineTo(i.x,i.y)}}oa.id="logarithmic",oa.defaults={ticks:{callback:Is.formatters.logarithmic,major:{enabled:!0}}};class ga extends ia{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this.\_pointLabels=[],this.\_pointLabelItems=[]}setDimensions(){const t=this.\_padding=pi(aa(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=o(t)&&!isNaN(t)?t:0,this.max=o(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/aa(this.options))}generateTickLabels(t){ia.prototype.generateTickLabels.call(this,t),this.\_pointLabels=this.getLabels().map((t,e)=>{const i=c(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){const t=this.options;t.display&&t.pointLabels.display?la(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){return K(t\*(O/(this.\_pointLabels.length||1))+H(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(i(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)\*e:(t-this.min)\*e}getValueForDistanceFromCenter(t){if(i(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this.\_pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(t,e,i){return \_i(t,{label:i,index:e,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-L+i;return{x:Math.cos(s)\*e+this.xCenter,y:Math.sin(s)\*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:n}=this.\_pointLabelItems[t];return{left:e,top:i,right:s,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),fa(this,this.getDistanceFromCenterForValue(this.\_endValue),e,this.\_pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:s,grid:n}=e,o=this.\_pointLabels.length;let a,r,l;if(e.pointLabels.display&&function(t,e){const{ctx:s,options:{pointLabels:n}}=t;for(let o=e-1;o>=0;o--){const e=n.setContext(t.getPointLabelContext(o)),a=mi(e.font),{x:r,y:l,textAlign:h,left:c,top:d,right:u,bottom:f}=t.\_pointLabelItems[o],{backdropColor:g}=e;if(!i(g)){const t=gi(e.borderRadius),i=pi(e.backdropPadding);s.fillStyle=g;const n=c-i.left,o=d-i.top,a=u-c+i.width,r=f-d+i.height;Object.values(t).some(t=>0!==t)?(s.beginPath(),Le(s,{x:n,y:o,w:a,h:r,radius:t}),s.fill()):s.fillRect(n,o,a,r)}Ae(s,t.\_pointLabels[o],r,l+a.lineHeight/2,a,{color:e.color,textAlign:h,textBaseline:"middle"})}}(this,o),n.display&&this.ticks.forEach((t,e)=>{if(0!==e){r=this.getDistanceFromCenterForValue(t.value);!function(t,e,i,s){const n=t.ctx,o=e.circular,{color:a,lineWidth:r}=e;!o&&!s||!a||!r||i<0||(n.save(),n.strokeStyle=a,n.lineWidth=r,n.setLineDash(e.borderDash),n.lineDashOffset=e.borderDashOffset,n.beginPath(),fa(t,i,o,s),n.closePath(),n.stroke(),n.restore())}(this,n.setContext(this.getContext(e-1)),r,o)}}),s.display){for(t.save(),a=o-1;a>=0;a--){const i=s.setContext(this.getPointLabelContext(a)),{color:n,lineWidth:o}=i;o&&n&&(t.lineWidth=o,t.strokeStyle=n,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,r=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,r),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let n,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((s,a)=>{if(0===a&&!e.reverse)return;const r=i.setContext(this.getContext(a)),l=mi(r.font);if(n=this.getDistanceFromCenterForValue(this.ticks[a].value),r.showLabelBackdrop){t.font=l.string,o=t.measureText(s.label).width,t.fillStyle=r.backdropColor;const e=pi(r.backdropPadding);t.fillRect(-o/2-e.left,-n-l.size/2-e.top,o+e.width,l.size+e.height)}Ae(t,s.label,0,-n,l,{color:r.color})}),t.restore()}drawTitle(){}}ga.id="radialLinear",ga.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Is.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},ga.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ga.descriptors={angleLines:{\_fallback:"grid"}};const pa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ma=Object.keys(pa);function ba(t,e){return t-e}function xa(t,e){if(i(e))return null;const s=t.\_adapter,{parser:n,round:a,isoWeekday:r}=t.\_parseOpts;let l=e;return"function"==typeof n&&(l=n(l)),o(l)||(l="string"==typeof n?s.parse(l,n):s.parse(l)),null===l?null:(a&&(l="week"!==a||!B(r)&&!0!==r?s.startOf(l,a):s.startOf(l,"isoWeek",r)),+l)}function \_a(t,e,i,s){const n=ma.length;for(let o=ma.indexOf(t);o<n-1;++o){const t=pa[ma[o]],n=t.steps?t.steps:Number.MAX\_SAFE\_INTEGER;if(t.common&&Math.ceil((i-e)/(n\*t.size))<=s)return ma[o]}return ma[n-1]}function ya(t,e,i){if(i){if(i.length){const{lo:s,hi:n}=tt(i,e);t[i[s]>=e?i[s]:i[n]]=!0}}else t[e]=!0}function va(t,e,i){const s=[],n={},o=e.length;let a,r;for(a=0;a<o;++a)r=e[a],n[r]=a,s.push({value:r,major:!1});return 0!==o&&i?function(t,e,i,s){const n=t.\_adapter,o=+n.startOf(e[0].value,s),a=e[e.length-1].value;let r,l;for(r=o;r<=a;r=+n.add(r,1,s))l=i[r],l>=0&&(e[l].major=!0);return e}(t,s,n,i):s}class wa extends $s{constructor(t){super(t),this.\_cache={data:[],labels:[],all:[]},this.\_unit="day",this.\_majorUnit=void 0,this.\_offsets={},this.\_normalized=!1,this.\_parseOpts=void 0}init(t,e){const i=t.time||(t.time={}),s=this.\_adapter=new wn.\_date(t.adapters.date);s.init(e),b(i.displayFormats,s.formats()),this.\_parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this.\_normalized=e.normalized}parse(t,e){return void 0===t?null:xa(this,t)}beforeLayout(){super.beforeLayout(),this.\_cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this.\_adapter,i=t.time.unit||"day";let{min:s,max:n,minDefined:a,maxDefined:r}=this.getUserBounds();function l(t){a||isNaN(t.min)||(s=Math.min(s,t.min)),r||isNaN(t.max)||(n=Math.max(n,t.max))}a&&r||(l(this.\_getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||l(this.getMinMax(!1))),s=o(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),n=o(n)&&!isNaN(n)?n:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,n-1),this.max=Math.max(s+1,n)}\_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE\_INFINITY,i=Number.NEGATIVE\_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s="labels"===i.source?this.getLabelTimestamps():this.\_generate();"ticks"===t.bounds&&s.length&&(this.min=this.\_userMin||s[0],this.max=this.\_userMax||s[s.length-1]);const n=this.min,o=st(s,n,this.max);return this.\_unit=e.unit||(i.autoSkip?\_a(e.minUnit,this.min,this.max,this.\_getLabelCapacity(n)):function(t,e,i,s,n){for(let o=ma.length-1;o>=ma.indexOf(i);o--){const i=ma[o];if(pa[i].common&&t.\_adapter.diff(n,s,i)>=e-1)return i}return ma[i?ma.indexOf(i):0]}(this,o.length,e.minUnit,this.min,this.max)),this.\_majorUnit=i.major.enabled&&"year"!==this.\_unit?function(t){for(let e=ma.indexOf(t)+1,i=ma.length;e<i;++e)if(pa[ma[e]].common)return ma[e]}(this.\_unit):void 0,this.initOffsets(s),t.reverse&&o.reverse(),va(this,o,this.\_majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let e,i,s=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),s=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),n=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=Z(s,0,o),n=Z(n,0,o),this.\_offsets={start:s,end:n,factor:1/(s+1+n)}}\_generate(){const t=this.\_adapter,e=this.min,i=this.max,s=this.options,n=s.time,o=n.unit||\_a(n.minUnit,e,i,this.\_getLabelCapacity(e)),a=r(n.stepSize,1),l="week"===o&&n.isoWeekday,h=B(l)||!0===l,c={};let d,u,f=e;if(h&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,h?"day":o),t.diff(i,e,o)>1e5\*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g="data"===s.ticks.source&&this.getDataTimestamps();for(d=f,u=0;d<i;d=+t.add(d,a,o),u++)ya(c,d,g);return d!==i&&"ticks"!==s.bounds&&1!==u||ya(c,d,g),Object.keys(c).sort((t,e)=>t-e).map(t=>+t)}getLabelForValue(t){const e=this.\_adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}\_tickFormatFunction(t,e,i,s){const n=this.options,o=n.time.displayFormats,a=this.\_unit,r=this.\_majorUnit,l=a&&o[a],h=r&&o[r],d=i[e],u=r&&h&&d&&d.major,f=this.\_adapter.format(t,s||(u?h:l)),g=n.ticks.callback;return g?c(g,[f,e,i],this):f}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this.\_tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this.\_offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)\*e.factor)}getValueForPixel(t){const e=this.\_offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i\*(this.max-this.min)}\_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=H(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(s),o=Math.sin(s),a=this.\_resolveTickFontOptions(0).size;return{w:i\*n+a\*o,h:i\*o+a\*n}}\_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,n=this.\_tickFormatFunction(t,0,va(this,[t],this.\_majorUnit),s),o=this.\_getLabelSize(n),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,i=this.\_cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this.\_normalized&&s.length)return this.\_cache.data=s[0].controller.getAllParsedValues(this);for(t=0,e=s.length;t<e;++t)i=i.concat(s[t].controller.getAllParsedValues(this));return this.\_cache.data=this.normalize(i)}getLabelTimestamps(){const t=this.\_cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(xa(this,s[e]));return this.\_cache.labels=this.\_normalized?t:this.normalize(t)}normalize(t){return rt(t.sort(ba))}}function Ma(t,e,i){let s,n,o,a,r=0,l=t.length-1;i?(e>=t[r].pos&&e<=t[l].pos&&({lo:r,hi:l}=et(t,"pos",e)),{pos:s,time:o}=t[r],{pos:n,time:a}=t[l]):(e>=t[r].time&&e<=t[l].time&&({lo:r,hi:l}=et(t,"time",e)),{time:s,pos:o}=t[r],{time:n,pos:a}=t[l]);const h=n-s;return h?o+(a-o)\*(e-s)/h:o}wa.id="time",wa.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class ka extends wa{constructor(t){super(t),this.\_table=[],this.\_minPos=void 0,this.\_tableRange=void 0}initOffsets(){const t=this.\_getTimestampsForTable(),e=this.\_table=this.buildLookupTable(t);this.\_minPos=Ma(e,this.min),this.\_tableRange=Ma(e,this.max)-this.\_minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],n=[];let o,a,r,l,h;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=i&&s.push(l);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],r=s[o-1],l=s[o],Math.round((h+r)/2)!==l&&n.push({time:l,pos:o/(a-1)});return n}\_getTimestampsForTable(){let t=this.\_cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this.\_cache.all=t,t}getDecimalForValue(t){return(Ma(this.\_table,t)-this.\_minPos)/this.\_tableRange}getValueForPixel(t){const e=this.\_offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Ma(this.\_table,i\*this.\_tableRange+this.\_minPos,!0)}}ka.id="timeseries",ka.defaults=wa.defaults;var Sa=Object.freeze({\_\_proto\_\_:null,CategoryScale:ta,LinearScale:sa,LogarithmicScale:oa,RadialLinearScale:ga,TimeScale:wa,TimeSeriesScale:ka});return bn.register(Bn,Sa,co,Jo),bn.helpers={...Ti},bn.\_adapters=wn,bn.Animation=xs,bn.Animations=ys,bn.animator=mt,bn.controllers=Us.controllers.items,bn.DatasetController=Ls,bn.Element=Es,bn.elements=co,bn.Interaction=Vi,bn.layouts=Zi,bn.platforms=ps,bn.Scale=$s,bn.Ticks=Is,Object.assign(bn,Bn,Sa,co,Jo,ps),bn.Chart=bn,"undefined"!=typeof window&&(window.Chart=bn),bn}); |
  |  | 1 | !function (t, e) { |
  |  | 2 | "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = "undefined" != typeof globalThis ? globalThis : t || self).Chartwpc = e() |
  |  | 3 | }(this, function () { |
  |  | 4 | "use strict"; |
  |  | 5 |  |
  |  | 6 | function t() { |
  |  | 7 | } |
  |  | 8 |  |
  |  | 9 | const e = function () { |
  |  | 10 | let t = 0; |
  |  | 11 | return function () { |
  |  | 12 | return t++ |
  |  | 13 | } |
  |  | 14 | }(); |
  |  | 15 |  |
  |  | 16 | function i(t) { |
  |  | 17 | return null == t |
  |  | 18 | } |
  |  | 19 |  |
  |  | 20 | function s(t) { |
  |  | 21 | if (Array.isArray && Array.isArray(t)) return !0; |
  |  | 22 | const e = Object.prototype.toString.call(t); |
  |  | 23 | return "[object" === e.slice(0, 7) && "Array]" === e.slice(-6) |
  |  | 24 | } |
  |  | 25 |  |
  |  | 26 | function n(t) { |
  |  | 27 | return null !== t && "[object Object]" === Object.prototype.toString.call(t) |
  |  | 28 | } |
  |  | 29 |  |
  |  | 30 | const o = t => ("number" == typeof t || t instanceof Number) && isFinite(+t); |
  |  | 31 |  |
  |  | 32 | function a(t, e) { |
  |  | 33 | return o(t) ? t : e |
  |  | 34 | } |
  |  | 35 |  |
  |  | 36 | function r(t, e) { |
  |  | 37 | return void 0 === t ? e : t |
  |  | 38 | } |
  |  | 39 |  |
  |  | 40 | const l = (t, e) => "string" == typeof t && t.endsWith("%") ? parseFloat(t) / 100 : t / e, |
  |  | 41 | h = (t, e) => "string" == typeof t && t.endsWith("%") ? parseFloat(t) / 100 \* e : +t; |
  |  | 42 |  |
  |  | 43 | function c(t, e, i) { |
  |  | 44 | if (t && "function" == typeof t.call) return t.apply(i, e) |
  |  | 45 | } |
  |  | 46 |  |
  |  | 47 | function d(t, e, i, o) { |
  |  | 48 | let a, r, l; |
  |  | 49 | if (s(t)) if (r = t.length, o) for (a = r - 1; a >= 0; a--) e.call(i, t[a], a); else for (a = 0; a < r; a++) e.call(i, t[a], a); else if (n(t)) for (l = Object.keys(t), r = l.length, a = 0; a < r; a++) e.call(i, t[l[a]], l[a]) |
  |  | 50 | } |
  |  | 51 |  |
  |  | 52 | function u(t, e) { |
  |  | 53 | let i, s, n, o; |
  |  | 54 | if (!t || !e || t.length !== e.length) return !1; |
  |  | 55 | for (i = 0, s = t.length; i < s; ++i) if (n = t[i], o = e[i], n.datasetIndex !== o.datasetIndex || n.index !== o.index) return !1; |
  |  | 56 | return !0 |
  |  | 57 | } |
  |  | 58 |  |
  |  | 59 | function f(t) { |
  |  | 60 | if (s(t)) return t.map(f); |
  |  | 61 | if (n(t)) { |
  |  | 62 | const e = Object.create(null), i = Object.keys(t), s = i.length; |
  |  | 63 | let n = 0; |
  |  | 64 | for (; n < s; ++n) e[i[n]] = f(t[i[n]]); |
  |  | 65 | return e |
  |  | 66 | } |
  |  | 67 | return t |
  |  | 68 | } |
  |  | 69 |  |
  |  | 70 | function g(t) { |
  |  | 71 | return -1 === ["\_\_proto\_\_", "prototype", "constructor"].indexOf(t) |
  |  | 72 | } |
  |  | 73 |  |
  |  | 74 | function p(t, e, i, s) { |
  |  | 75 | if (!g(t)) return; |
  |  | 76 | const o = e[t], a = i[t]; |
  |  | 77 | n(o) && n(a) ? m(o, a, s) : e[t] = f(a) |
  |  | 78 | } |
  |  | 79 |  |
  |  | 80 | function m(t, e, i) { |
  |  | 81 | const o = s(e) ? e : [e], a = o.length; |
  |  | 82 | if (!n(t)) return t; |
  |  | 83 | const r = (i = i || {}).merger || p; |
  |  | 84 | for (let s = 0; s < a; ++s) { |
  |  | 85 | if (!n(e = o[s])) continue; |
  |  | 86 | const a = Object.keys(e); |
  |  | 87 | for (let s = 0, n = a.length; s < n; ++s) r(a[s], t, e, i) |
  |  | 88 | } |
  |  | 89 | return t |
  |  | 90 | } |
  |  | 91 |  |
  |  | 92 | function b(t, e) { |
  |  | 93 | return m(t, e, {merger: x}) |
  |  | 94 | } |
  |  | 95 |  |
  |  | 96 | function x(t, e, i) { |
  |  | 97 | if (!g(t)) return; |
  |  | 98 | const s = e[t], o = i[t]; |
  |  | 99 | n(s) && n(o) ? b(s, o) : Object.prototype.hasOwnProperty.call(e, t) || (e[t] = f(o)) |
  |  | 100 | } |
  |  | 101 |  |
  |  | 102 | const \_ = {"": t => t, x: t => t.x, y: t => t.y}; |
  |  | 103 |  |
  |  | 104 | function y(t, e) { |
  |  | 105 | const i = \_[e] || (\_[e] = function (t) { |
  |  | 106 | const e = v(t); |
  |  | 107 | return t => { |
  |  | 108 | for (const i of e) { |
  |  | 109 | if ("" === i) break; |
  |  | 110 | t = t && t[i] |
  |  | 111 | } |
  |  | 112 | return t |
  |  | 113 | } |
  |  | 114 | }(e)); |
  |  | 115 | return i(t) |
  |  | 116 | } |
  |  | 117 |  |
  |  | 118 | function v(t) { |
  |  | 119 | const e = t.split("."), i = []; |
  |  | 120 | let s = ""; |
  |  | 121 | for (const t of e) s += t, s.endsWith("\\") ? s = s.slice(0, -1) + "." : (i.push(s), s = ""); |
  |  | 122 | return i |
  |  | 123 | } |
  |  | 124 |  |
  |  | 125 | function w(t) { |
  |  | 126 | return t.charAt(0).toUpperCase() + t.slice(1) |
  |  | 127 | } |
  |  | 128 |  |
  |  | 129 | const M = t => void 0 !== t, k = t => "function" == typeof t, S = (t, e) => { |
  |  | 130 | if (t.size !== e.size) return !1; |
  |  | 131 | for (const i of t) if (!e.has(i)) return !1; |
  |  | 132 | return !0 |
  |  | 133 | }; |
  |  | 134 |  |
  |  | 135 | function P(t) { |
  |  | 136 | return "mouseup" === t.type || "click" === t.type || "contextmenu" === t.type |
  |  | 137 | } |
  |  | 138 |  |
  |  | 139 | const D = Math.PI, O = 2 \* D, C = O + D, A = Number.POSITIVE\_INFINITY, T = D / 180, L = D / 2, E = D / 4, |
  |  | 140 | R = 2 \* D / 3, I = Math.log10, z = Math.sign; |
  |  | 141 |  |
  |  | 142 | function F(t) { |
  |  | 143 | const e = Math.round(t); |
  |  | 144 | t = N(t, e, t / 1e3) ? e : t; |
  |  | 145 | const i = Math.pow(10, Math.floor(I(t))), s = t / i; |
  |  | 146 | return (s <= 1 ? 1 : s <= 2 ? 2 : s <= 5 ? 5 : 10) \* i |
  |  | 147 | } |
  |  | 148 |  |
  |  | 149 | function V(t) { |
  |  | 150 | const e = [], i = Math.sqrt(t); |
  |  | 151 | let s; |
  |  | 152 | for (s = 1; s < i; s++) t % s == 0 && (e.push(s), e.push(t / s)); |
  |  | 153 | return i === (0 | i) && e.push(i), e.sort((t, e) => t - e).pop(), e |
  |  | 154 | } |
  |  | 155 |  |
  |  | 156 | function B(t) { |
  |  | 157 | return !isNaN(parseFloat(t)) && isFinite(t) |
  |  | 158 | } |
  |  | 159 |  |
  |  | 160 | function N(t, e, i) { |
  |  | 161 | return Math.abs(t - e) < i |
  |  | 162 | } |
  |  | 163 |  |
  |  | 164 | function W(t, e) { |
  |  | 165 | const i = Math.round(t); |
  |  | 166 | return i - e <= t && i + e >= t |
  |  | 167 | } |
  |  | 168 |  |
  |  | 169 | function j(t, e, i) { |
  |  | 170 | let s, n, o; |
  |  | 171 | for (s = 0, n = t.length; s < n; s++) o = t[s][i], isNaN(o) || (e.min = Math.min(e.min, o), e.max = Math.max(e.max, o)) |
  |  | 172 | } |
  |  | 173 |  |
  |  | 174 | function H(t) { |
  |  | 175 | return t \* (D / 180) |
  |  | 176 | } |
  |  | 177 |  |
  |  | 178 | function $(t) { |
  |  | 179 | return t \* (180 / D) |
  |  | 180 | } |
  |  | 181 |  |
  |  | 182 | function Y(t) { |
  |  | 183 | if (!o(t)) return; |
  |  | 184 | let e = 1, i = 0; |
  |  | 185 | for (; Math.round(t \* e) / e !== t;) e \*= 10, i++; |
  |  | 186 | return i |
  |  | 187 | } |
  |  | 188 |  |
  |  | 189 | function U(t, e) { |
  |  | 190 | const i = e.x - t.x, s = e.y - t.y, n = Math.sqrt(i \* i + s \* s); |
  |  | 191 | let o = Math.atan2(s, i); |
  |  | 192 | return o < -.5 \* D && (o += O), {angle: o, distance: n} |
  |  | 193 | } |
  |  | 194 |  |
  |  | 195 | function X(t, e) { |
  |  | 196 | return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)) |
  |  | 197 | } |
  |  | 198 |  |
  |  | 199 | function q(t, e) { |
  |  | 200 | return (t - e + C) % O - D |
  |  | 201 | } |
  |  | 202 |  |
  |  | 203 | function K(t) { |
  |  | 204 | return (t % O + O) % O |
  |  | 205 | } |
  |  | 206 |  |
  |  | 207 | function G(t, e, i, s) { |
  |  | 208 | const n = K(t), o = K(e), a = K(i), r = K(o - n), l = K(a - n), h = K(n - o), c = K(n - a); |
  |  | 209 | return n === o || n === a || s && o === a || r > l && h < c |
  |  | 210 | } |
  |  | 211 |  |
  |  | 212 | function Z(t, e, i) { |
  |  | 213 | return Math.max(e, Math.min(i, t)) |
  |  | 214 | } |
  |  | 215 |  |
  |  | 216 | function J(t) { |
  |  | 217 | return Z(t, -32768, 32767) |
  |  | 218 | } |
  |  | 219 |  |
  |  | 220 | function Q(t, e, i, s = 1e-6) { |
  |  | 221 | return t >= Math.min(e, i) - s && t <= Math.max(e, i) + s |
  |  | 222 | } |
  |  | 223 |  |
  |  | 224 | function tt(t, e, i) { |
  |  | 225 | i = i || (i => t[i] < e); |
  |  | 226 | let s, n = t.length - 1, o = 0; |
  |  | 227 | for (; n - o > 1;) s = o + n >> 1, i(s) ? o = s : n = s; |
  |  | 228 | return {lo: o, hi: n} |
  |  | 229 | } |
  |  | 230 |  |
  |  | 231 | const et = (t, e, i, s) => tt(t, i, s ? s => t[s][e] <= i : s => t[s][e] < i), |
  |  | 232 | it = (t, e, i) => tt(t, i, s => t[s][e] >= i); |
  |  | 233 |  |
  |  | 234 | function st(t, e, i) { |
  |  | 235 | let s = 0, n = t.length; |
  |  | 236 | for (; s < n && t[s] < e;) s++; |
  |  | 237 | for (; n > s && t[n - 1] > i;) n--; |
  |  | 238 | return s > 0 || n < t.length ? t.slice(s, n) : t |
  |  | 239 | } |
  |  | 240 |  |
  |  | 241 | const nt = ["push", "pop", "shift", "splice", "unshift"]; |
  |  | 242 |  |
  |  | 243 | function ot(t, e) { |
  |  | 244 | t.\_chartjs ? t.\_chartjs.listeners.push(e) : (Object.defineProperty(t, "\_chartjs", { |
  |  | 245 | configurable: !0, |
  |  | 246 | enumerable: !1, |
  |  | 247 | value: {listeners: [e]} |
  |  | 248 | }), nt.forEach(e => { |
  |  | 249 | const i = "\_onData" + w(e), s = t[e]; |
  |  | 250 | Object.defineProperty(t, e, { |
  |  | 251 | configurable: !0, enumerable: !1, value(...e) { |
  |  | 252 | const n = s.apply(this, e); |
  |  | 253 | return t.\_chartjs.listeners.forEach(t => { |
  |  | 254 | "function" == typeof t[i] && t[i](...e) |
  |  | 255 | }), n |
  |  | 256 | } |
  |  | 257 | }) |
  |  | 258 | })) |
  |  | 259 | } |
  |  | 260 |  |
  |  | 261 | function at(t, e) { |
  |  | 262 | const i = t.\_chartjs; |
  |  | 263 | if (!i) return; |
  |  | 264 | const s = i.listeners, n = s.indexOf(e); |
  |  | 265 | -1 !== n && s.splice(n, 1), s.length > 0 || (nt.forEach(e => { |
  |  | 266 | delete t[e] |
  |  | 267 | }), delete t.\_chartjs) |
  |  | 268 | } |
  |  | 269 |  |
  |  | 270 | function rt(t) { |
  |  | 271 | const e = new Set; |
  |  | 272 | let i, s; |
  |  | 273 | for (i = 0, s = t.length; i < s; ++i) e.add(t[i]); |
  |  | 274 | return e.size === s ? t : Array.from(e) |
  |  | 275 | } |
  |  | 276 |  |
  |  | 277 | const lt = "undefined" == typeof window ? function (t) { |
  |  | 278 | return t() |
  |  | 279 | } : window.requestAnimationFrame; |
  |  | 280 |  |
  |  | 281 | function ht(t, e, i) { |
  |  | 282 | const s = i || (t => Array.prototype.slice.call(t)); |
  |  | 283 | let n = !1, o = []; |
  |  | 284 | return function (...i) { |
  |  | 285 | o = s(i), n || (n = !0, lt.call(window, () => { |
  |  | 286 | n = !1, t.apply(e, o) |
  |  | 287 | })) |
  |  | 288 | } |
  |  | 289 | } |
  |  | 290 |  |
  |  | 291 | function ct(t, e) { |
  |  | 292 | let i; |
  |  | 293 | return function (...s) { |
  |  | 294 | return e ? (clearTimeout(i), i = setTimeout(t, e, s)) : t.apply(this, s), e |
  |  | 295 | } |
  |  | 296 | } |
  |  | 297 |  |
  |  | 298 | const dt = t => "start" === t ? "left" : "end" === t ? "right" : "center", |
  |  | 299 | ut = (t, e, i) => "start" === t ? e : "end" === t ? i : (e + i) / 2, |
  |  | 300 | ft = (t, e, i, s) => t === (s ? "left" : "right") ? i : "center" === t ? (e + i) / 2 : e; |
  |  | 301 |  |
  |  | 302 | function gt(t, e, i) { |
  |  | 303 | const s = e.length; |
  |  | 304 | let n = 0, o = s; |
  |  | 305 | if (t.\_sorted) { |
  |  | 306 | const {iScale: a, \_parsed: r} = t, l = a.axis, { |
  |  | 307 | min: h, |
  |  | 308 | max: c, |
  |  | 309 | minDefined: d, |
  |  | 310 | maxDefined: u |
  |  | 311 | } = a.getUserBounds(); |
  |  | 312 | d && (n = Z(Math.min(et(r, a.axis, h).lo, i ? s : et(e, l, a.getPixelForValue(h)).lo), 0, s - 1)), o = u ? Z(Math.max(et(r, a.axis, c, !0).hi + 1, i ? 0 : et(e, l, a.getPixelForValue(c), !0).hi + 1), n, s) - n : s - n |
  |  | 313 | } |
  |  | 314 | return {start: n, count: o} |
  |  | 315 | } |
  |  | 316 |  |
  |  | 317 | function pt(t) { |
  |  | 318 | const {xScale: e, yScale: i, \_scaleRanges: s} = t, n = {xmin: e.min, xmax: e.max, ymin: i.min, ymax: i.max}; |
  |  | 319 | if (!s) return t.\_scaleRanges = n, !0; |
  |  | 320 | const o = s.xmin !== e.min || s.xmax !== e.max || s.ymin !== i.min || s.ymax !== i.max; |
  |  | 321 | return Object.assign(s, n), o |
  |  | 322 | } |
  |  | 323 |  |
  |  | 324 | var mt = new class { |
  |  | 325 | constructor() { |
  |  | 326 | this.\_request = null, this.\_charts = new Map, this.\_running = !1, this.\_lastDate = void 0 |
  |  | 327 | } |
  |  | 328 |  |
  |  | 329 | \_notify(t, e, i, s) { |
  |  | 330 | const n = e.listeners[s], o = e.duration; |
  |  | 331 | n.forEach(s => s({chart: t, initial: e.initial, numSteps: o, currentStep: Math.min(i - e.start, o)})) |
  |  | 332 | } |
  |  | 333 |  |
  |  | 334 | \_refresh() { |
  |  | 335 | this.\_request || (this.\_running = !0, this.\_request = lt.call(window, () => { |
  |  | 336 | this.\_update(), this.\_request = null, this.\_running && this.\_refresh() |
  |  | 337 | })) |
  |  | 338 | } |
  |  | 339 |  |
  |  | 340 | \_update(t = Date.now()) { |
  |  | 341 | let e = 0; |
  |  | 342 | this.\_charts.forEach((i, s) => { |
  |  | 343 | if (!i.running || !i.items.length) return; |
  |  | 344 | const n = i.items; |
  |  | 345 | let o, a = n.length - 1, r = !1; |
  |  | 346 | for (; a >= 0; --a) o = n[a], o.\_active ? (o.\_total > i.duration && (i.duration = o.\_total), o.tick(t), r = !0) : (n[a] = n[n.length - 1], n.pop()); |
  |  | 347 | r && (s.draw(), this.\_notify(s, i, t, "progress")), n.length || (i.running = !1, this.\_notify(s, i, t, "complete"), i.initial = !1), e += n.length |
  |  | 348 | }), this.\_lastDate = t, 0 === e && (this.\_running = !1) |
  |  | 349 | } |
  |  | 350 |  |
  |  | 351 | \_getAnims(t) { |
  |  | 352 | const e = this.\_charts; |
  |  | 353 | let i = e.get(t); |
  |  | 354 | return i || (i = { |
  |  | 355 | running: !1, |
  |  | 356 | initial: !0, |
  |  | 357 | items: [], |
  |  | 358 | listeners: {complete: [], progress: []} |
  |  | 359 | }, e.set(t, i)), i |
  |  | 360 | } |
  |  | 361 |  |
  |  | 362 | listen(t, e, i) { |
  |  | 363 | this.\_getAnims(t).listeners[e].push(i) |
  |  | 364 | } |
  |  | 365 |  |
  |  | 366 | add(t, e) { |
  |  | 367 | e && e.length && this.\_getAnims(t).items.push(...e) |
  |  | 368 | } |
  |  | 369 |  |
  |  | 370 | has(t) { |
  |  | 371 | return this.\_getAnims(t).items.length > 0 |
  |  | 372 | } |
  |  | 373 |  |
  |  | 374 | start(t) { |
  |  | 375 | const e = this.\_charts.get(t); |
  |  | 376 | e && (e.running = !0, e.start = Date.now(), e.duration = e.items.reduce((t, e) => Math.max(t, e.\_duration), 0), this.\_refresh()) |
  |  | 377 | } |
  |  | 378 |  |
  |  | 379 | running(t) { |
  |  | 380 | if (!this.\_running) return !1; |
  |  | 381 | const e = this.\_charts.get(t); |
  |  | 382 | return !!(e && e.running && e.items.length) |
  |  | 383 | } |
  |  | 384 |  |
  |  | 385 | stop(t) { |
  |  | 386 | const e = this.\_charts.get(t); |
  |  | 387 | if (!e || !e.items.length) return; |
  |  | 388 | const i = e.items; |
  |  | 389 | let s = i.length - 1; |
  |  | 390 | for (; s >= 0; --s) i[s].cancel(); |
  |  | 391 | e.items = [], this.\_notify(t, e, Date.now(), "complete") |
  |  | 392 | } |
  |  | 393 |  |
  |  | 394 | remove(t) { |
  |  | 395 | return this.\_charts.delete(t) |
  |  | 396 | } |
  |  | 397 | }; |
  |  | 398 |  |
  |  | 399 | function bt(t) { |
  |  | 400 | return t + .5 | 0 |
  |  | 401 | } |
  |  | 402 |  |
  |  | 403 | const xt = (t, e, i) => Math.max(Math.min(t, i), e); |
  |  | 404 |  |
  |  | 405 | function \_t(t) { |
  |  | 406 | return xt(bt(2.55 \* t), 0, 255) |
  |  | 407 | } |
  |  | 408 |  |
  |  | 409 | function yt(t) { |
  |  | 410 | return xt(bt(255 \* t), 0, 255) |
  |  | 411 | } |
  |  | 412 |  |
  |  | 413 | function vt(t) { |
  |  | 414 | return xt(bt(t / 2.55) / 100, 0, 1) |
  |  | 415 | } |
  |  | 416 |  |
  |  | 417 | function wt(t) { |
  |  | 418 | return xt(bt(100 \* t), 0, 100) |
  |  | 419 | } |
  |  | 420 |  |
  |  | 421 | const Mt = { |
  |  | 422 | 0: 0, |
  |  | 423 | 1: 1, |
  |  | 424 | 2: 2, |
  |  | 425 | 3: 3, |
  |  | 426 | 4: 4, |
  |  | 427 | 5: 5, |
  |  | 428 | 6: 6, |
  |  | 429 | 7: 7, |
  |  | 430 | 8: 8, |
  |  | 431 | 9: 9, |
  |  | 432 | A: 10, |
  |  | 433 | B: 11, |
  |  | 434 | C: 12, |
  |  | 435 | D: 13, |
  |  | 436 | E: 14, |
  |  | 437 | F: 15, |
  |  | 438 | a: 10, |
  |  | 439 | b: 11, |
  |  | 440 | c: 12, |
  |  | 441 | d: 13, |
  |  | 442 | e: 14, |
  |  | 443 | f: 15 |
  |  | 444 | }, kt = [..."0123456789ABCDEF"], St = t => kt[15 & t], Pt = t => kt[(240 & t) >> 4] + kt[15 & t], |
  |  | 445 | Dt = t => (240 & t) >> 4 == (15 & t); |
  |  | 446 |  |
  |  | 447 | function Ot(t) { |
  |  | 448 | var e = (t => Dt(t.r) && Dt(t.g) && Dt(t.b) && Dt(t.a))(t) ? St : Pt; |
  |  | 449 | return t ? "#" + e(t.r) + e(t.g) + e(t.b) + ((t, e) => t < 255 ? e(t) : "")(t.a, e) : void 0 |
  |  | 450 | } |
  |  | 451 |  |
  |  | 452 | const Ct = /^(hsla?|hwb|hsv)\(\s\*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s\*\)$/; |
  |  | 453 |  |
  |  | 454 | function At(t, e, i) { |
  |  | 455 | const s = e \* Math.min(i, 1 - i), |
  |  | 456 | n = (e, n = (e + t / 30) % 12) => i - s \* Math.max(Math.min(n - 3, 9 - n, 1), -1); |
  |  | 457 | return [n(0), n(8), n(4)] |
  |  | 458 | } |
  |  | 459 |  |
  |  | 460 | function Tt(t, e, i) { |
  |  | 461 | const s = (s, n = (s + t / 60) % 6) => i - i \* e \* Math.max(Math.min(n, 4 - n, 1), 0); |
  |  | 462 | return [s(5), s(3), s(1)] |
  |  | 463 | } |
  |  | 464 |  |
  |  | 465 | function Lt(t, e, i) { |
  |  | 466 | const s = At(t, 1, .5); |
  |  | 467 | let n; |
  |  | 468 | for (e + i > 1 && (n = 1 / (e + i), e \*= n, i \*= n), n = 0; n < 3; n++) s[n] \*= 1 - e - i, s[n] += e; |
  |  | 469 | return s |
  |  | 470 | } |
  |  | 471 |  |
  |  | 472 | function Et(t) { |
  |  | 473 | const e = t.r / 255, i = t.g / 255, s = t.b / 255, n = Math.max(e, i, s), o = Math.min(e, i, s), |
  |  | 474 | a = (n + o) / 2; |
  |  | 475 | let r, l, h; |
  |  | 476 | return n !== o && (h = n - o, l = a > .5 ? h / (2 - n - o) : h / (n + o), r = function (t, e, i, s, n) { |
  |  | 477 | return t === n ? (e - i) / s + (e < i ? 6 : 0) : e === n ? (i - t) / s + 2 : (t - e) / s + 4 |
  |  | 478 | }(e, i, s, h, n), r = 60 \* r + .5), [0 | r, l || 0, a] |
  |  | 479 | } |
  |  | 480 |  |
  |  | 481 | function Rt(t, e, i, s) { |
  |  | 482 | return (Array.isArray(e) ? t(e[0], e[1], e[2]) : t(e, i, s)).map(yt) |
  |  | 483 | } |
  |  | 484 |  |
  |  | 485 | function It(t, e, i) { |
  |  | 486 | return Rt(At, t, e, i) |
  |  | 487 | } |
  |  | 488 |  |
  |  | 489 | function zt(t) { |
  |  | 490 | return (t % 360 + 360) % 360 |
  |  | 491 | } |
  |  | 492 |  |
  |  | 493 | function Ft(t) { |
  |  | 494 | const e = Ct.exec(t); |
  |  | 495 | let i, s = 255; |
  |  | 496 | if (!e) return; |
  |  | 497 | e[5] !== i && (s = e[6] ? \_t(+e[5]) : yt(+e[5])); |
  |  | 498 | const n = zt(+e[2]), o = +e[3] / 100, a = +e[4] / 100; |
  |  | 499 | return i = "hwb" === e[1] ? function (t, e, i) { |
  |  | 500 | return Rt(Lt, t, e, i) |
  |  | 501 | }(n, o, a) : "hsv" === e[1] ? function (t, e, i) { |
  |  | 502 | return Rt(Tt, t, e, i) |
  |  | 503 | }(n, o, a) : It(n, o, a), {r: i[0], g: i[1], b: i[2], a: s} |
  |  | 504 | } |
  |  | 505 |  |
  |  | 506 | const Vt = { |
  |  | 507 | x: "dark", |
  |  | 508 | Z: "light", |
  |  | 509 | Y: "re", |
  |  | 510 | X: "blu", |
  |  | 511 | W: "gr", |
  |  | 512 | V: "medium", |
  |  | 513 | U: "slate", |
  |  | 514 | A: "ee", |
  |  | 515 | T: "ol", |
  |  | 516 | S: "or", |
  |  | 517 | B: "ra", |
  |  | 518 | C: "lateg", |
  |  | 519 | D: "ights", |
  |  | 520 | R: "in", |
  |  | 521 | Q: "turquois", |
  |  | 522 | E: "hi", |
  |  | 523 | P: "ro", |
  |  | 524 | O: "al", |
  |  | 525 | N: "le", |
  |  | 526 | M: "de", |
  |  | 527 | L: "yello", |
  |  | 528 | F: "en", |
  |  | 529 | K: "ch", |
  |  | 530 | G: "arks", |
  |  | 531 | H: "ea", |
  |  | 532 | I: "ightg", |
  |  | 533 | J: "wh" |
  |  | 534 | }, Bt = { |
  |  | 535 | OiceXe: "f0f8ff", |
  |  | 536 | antiquewEte: "faebd7", |
  |  | 537 | aqua: "ffff", |
  |  | 538 | aquamarRe: "7fffd4", |
  |  | 539 | azuY: "f0ffff", |
  |  | 540 | beige: "f5f5dc", |
  |  | 541 | bisque: "ffe4c4", |
  |  | 542 | black: "0", |
  |  | 543 | blanKedOmond: "ffebcd", |
  |  | 544 | Xe: "ff", |
  |  | 545 | XeviTet: "8a2be2", |
  |  | 546 | bPwn: "a52a2a", |
  |  | 547 | burlywood: "deb887", |
  |  | 548 | caMtXe: "5f9ea0", |
  |  | 549 | KartYuse: "7fff00", |
  |  | 550 | KocTate: "d2691e", |
  |  | 551 | cSO: "ff7f50", |
  |  | 552 | cSnflowerXe: "6495ed", |
  |  | 553 | cSnsilk: "fff8dc", |
  |  | 554 | crimson: "dc143c", |
  |  | 555 | cyan: "ffff", |
  |  | 556 | xXe: "8b", |
  |  | 557 | xcyan: "8b8b", |
  |  | 558 | xgTMnPd: "b8860b", |
  |  | 559 | xWay: "a9a9a9", |
  |  | 560 | xgYF: "6400", |
  |  | 561 | xgYy: "a9a9a9", |
  |  | 562 | xkhaki: "bdb76b", |
  |  | 563 | xmagFta: "8b008b", |
  |  | 564 | xTivegYF: "556b2f", |
  |  | 565 | xSange: "ff8c00", |
  |  | 566 | xScEd: "9932cc", |
  |  | 567 | xYd: "8b0000", |
  |  | 568 | xsOmon: "e9967a", |
  |  | 569 | xsHgYF: "8fbc8f", |
  |  | 570 | xUXe: "483d8b", |
  |  | 571 | xUWay: "2f4f4f", |
  |  | 572 | xUgYy: "2f4f4f", |
  |  | 573 | xQe: "ced1", |
  |  | 574 | xviTet: "9400d3", |
  |  | 575 | dAppRk: "ff1493", |
  |  | 576 | dApskyXe: "bfff", |
  |  | 577 | dimWay: "696969", |
  |  | 578 | dimgYy: "696969", |
  |  | 579 | dodgerXe: "1e90ff", |
  |  | 580 | fiYbrick: "b22222", |
  |  | 581 | flSOwEte: "fffaf0", |
  |  | 582 | foYstWAn: "228b22", |
  |  | 583 | fuKsia: "ff00ff", |
  |  | 584 | gaRsbSo: "dcdcdc", |
  |  | 585 | ghostwEte: "f8f8ff", |
  |  | 586 | gTd: "ffd700", |
  |  | 587 | gTMnPd: "daa520", |
  |  | 588 | Way: "808080", |
  |  | 589 | gYF: "8000", |
  |  | 590 | gYFLw: "adff2f", |
  |  | 591 | gYy: "808080", |
  |  | 592 | honeyMw: "f0fff0", |
  |  | 593 | hotpRk: "ff69b4", |
  |  | 594 | RdianYd: "cd5c5c", |
  |  | 595 | Rdigo: "4b0082", |
  |  | 596 | ivSy: "fffff0", |
  |  | 597 | khaki: "f0e68c", |
  |  | 598 | lavFMr: "e6e6fa", |
  |  | 599 | lavFMrXsh: "fff0f5", |
  |  | 600 | lawngYF: "7cfc00", |
  |  | 601 | NmoncEffon: "fffacd", |
  |  | 602 | ZXe: "add8e6", |
  |  | 603 | ZcSO: "f08080", |
  |  | 604 | Zcyan: "e0ffff", |
  |  | 605 | ZgTMnPdLw: "fafad2", |
  |  | 606 | ZWay: "d3d3d3", |
  |  | 607 | ZgYF: "90ee90", |
  |  | 608 | ZgYy: "d3d3d3", |
  |  | 609 | ZpRk: "ffb6c1", |
  |  | 610 | ZsOmon: "ffa07a", |
  |  | 611 | ZsHgYF: "20b2aa", |
  |  | 612 | ZskyXe: "87cefa", |
  |  | 613 | ZUWay: "778899", |
  |  | 614 | ZUgYy: "778899", |
  |  | 615 | ZstAlXe: "b0c4de", |
  |  | 616 | ZLw: "ffffe0", |
  |  | 617 | lime: "ff00", |
  |  | 618 | limegYF: "32cd32", |
  |  | 619 | lRF: "faf0e6", |
  |  | 620 | magFta: "ff00ff", |
  |  | 621 | maPon: "800000", |
  |  | 622 | VaquamarRe: "66cdaa", |
  |  | 623 | VXe: "cd", |
  |  | 624 | VScEd: "ba55d3", |
  |  | 625 | VpurpN: "9370db", |
  |  | 626 | VsHgYF: "3cb371", |
  |  | 627 | VUXe: "7b68ee", |
  |  | 628 | VsprRggYF: "fa9a", |
  |  | 629 | VQe: "48d1cc", |
  |  | 630 | VviTetYd: "c71585", |
  |  | 631 | midnightXe: "191970", |
  |  | 632 | mRtcYam: "f5fffa", |
  |  | 633 | mistyPse: "ffe4e1", |
  |  | 634 | moccasR: "ffe4b5", |
  |  | 635 | navajowEte: "ffdead", |
  |  | 636 | navy: "80", |
  |  | 637 | Tdlace: "fdf5e6", |
  |  | 638 | Tive: "808000", |
  |  | 639 | TivedBb: "6b8e23", |
  |  | 640 | Sange: "ffa500", |
  |  | 641 | SangeYd: "ff4500", |
  |  | 642 | ScEd: "da70d6", |
  |  | 643 | pOegTMnPd: "eee8aa", |
  |  | 644 | pOegYF: "98fb98", |
  |  | 645 | pOeQe: "afeeee", |
  |  | 646 | pOeviTetYd: "db7093", |
  |  | 647 | papayawEp: "ffefd5", |
  |  | 648 | pHKpuff: "ffdab9", |
  |  | 649 | peru: "cd853f", |
  |  | 650 | pRk: "ffc0cb", |
  |  | 651 | plum: "dda0dd", |
  |  | 652 | powMrXe: "b0e0e6", |
  |  | 653 | purpN: "800080", |
  |  | 654 | YbeccapurpN: "663399", |
  |  | 655 | Yd: "ff0000", |
  |  | 656 | Psybrown: "bc8f8f", |
  |  | 657 | PyOXe: "4169e1", |
  |  | 658 | saddNbPwn: "8b4513", |
  |  | 659 | sOmon: "fa8072", |
  |  | 660 | sandybPwn: "f4a460", |
  |  | 661 | sHgYF: "2e8b57", |
  |  | 662 | sHshell: "fff5ee", |
  |  | 663 | siFna: "a0522d", |
  |  | 664 | silver: "c0c0c0", |
  |  | 665 | skyXe: "87ceeb", |
  |  | 666 | UXe: "6a5acd", |
  |  | 667 | UWay: "708090", |
  |  | 668 | UgYy: "708090", |
  |  | 669 | snow: "fffafa", |
  |  | 670 | sprRggYF: "ff7f", |
  |  | 671 | stAlXe: "4682b4", |
  |  | 672 | tan: "d2b48c", |
  |  | 673 | teO: "8080", |
  |  | 674 | tEstN: "d8bfd8", |
  |  | 675 | tomato: "ff6347", |
  |  | 676 | Qe: "40e0d0", |
  |  | 677 | viTet: "ee82ee", |
  |  | 678 | JHt: "f5deb3", |
  |  | 679 | wEte: "ffffff", |
  |  | 680 | wEtesmoke: "f5f5f5", |
  |  | 681 | Lw: "ffff00", |
  |  | 682 | LwgYF: "9acd32" |
  |  | 683 | }; |
  |  | 684 | let Nt; |
  |  | 685 |  |
  |  | 686 | function Wt(t) { |
  |  | 687 | Nt || (Nt = function () { |
  |  | 688 | const t = {}, e = Object.keys(Bt), i = Object.keys(Vt); |
  |  | 689 | let s, n, o, a, r; |
  |  | 690 | for (s = 0; s < e.length; s++) { |
  |  | 691 | for (a = r = e[s], n = 0; n < i.length; n++) o = i[n], r = r.replace(o, Vt[o]); |
  |  | 692 | o = parseInt(Bt[a], 16), t[r] = [o >> 16 & 255, o >> 8 & 255, 255 & o] |
  |  | 693 | } |
  |  | 694 | return t |
  |  | 695 | }(), Nt.transparent = [0, 0, 0, 0]); |
  |  | 696 | const e = Nt[t.toLowerCase()]; |
  |  | 697 | return e && {r: e[0], g: e[1], b: e[2], a: 4 === e.length ? e[3] : 255} |
  |  | 698 | } |
  |  | 699 |  |
  |  | 700 | const jt = /^rgba?\(\s\*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s\*\)$/; |
  |  | 701 | const Ht = t => t <= .0031308 ? 12.92 \* t : 1.055 \* Math.pow(t, 1 / 2.4) - .055, |
  |  | 702 | $t = t => t <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4); |
  |  | 703 |  |
  |  | 704 | function Yt(t, e, i) { |
  |  | 705 | if (t) { |
  |  | 706 | let s = Et(t); |
  |  | 707 | s[e] = Math.max(0, Math.min(s[e] + s[e] \* i, 0 === e ? 360 : 1)), s = It(s), t.r = s[0], t.g = s[1], t.b = s[2] |
  |  | 708 | } |
  |  | 709 | } |
  |  | 710 |  |
  |  | 711 | function Ut(t, e) { |
  |  | 712 | return t ? Object.assign(e || {}, t) : t |
  |  | 713 | } |
  |  | 714 |  |
  |  | 715 | function Xt(t) { |
  |  | 716 | var e = {r: 0, g: 0, b: 0, a: 255}; |
  |  | 717 | return Array.isArray(t) ? t.length >= 3 && (e = { |
  |  | 718 | r: t[0], |
  |  | 719 | g: t[1], |
  |  | 720 | b: t[2], |
  |  | 721 | a: 255 |
  |  | 722 | }, t.length > 3 && (e.a = yt(t[3]))) : (e = Ut(t, {r: 0, g: 0, b: 0, a: 1})).a = yt(e.a), e |
  |  | 723 | } |
  |  | 724 |  |
  |  | 725 | function qt(t) { |
  |  | 726 | return "r" === t.charAt(0) ? function (t) { |
  |  | 727 | const e = jt.exec(t); |
  |  | 728 | let i, s, n, o = 255; |
  |  | 729 | if (e) { |
  |  | 730 | if (e[7] !== i) { |
  |  | 731 | const t = +e[7]; |
  |  | 732 | o = e[8] ? \_t(t) : xt(255 \* t, 0, 255) |
  |  | 733 | } |
  |  | 734 | return i = +e[1], s = +e[3], n = +e[5], i = 255 & (e[2] ? \_t(i) : xt(i, 0, 255)), s = 255 & (e[4] ? \_t(s) : xt(s, 0, 255)), n = 255 & (e[6] ? \_t(n) : xt(n, 0, 255)), { |
  |  | 735 | r: i, |
  |  | 736 | g: s, |
  |  | 737 | b: n, |
  |  | 738 | a: o |
  |  | 739 | } |
  |  | 740 | } |
  |  | 741 | }(t) : Ft(t) |
  |  | 742 | } |
  |  | 743 |  |
  |  | 744 | class Kt { |
  |  | 745 | constructor(t) { |
  |  | 746 | if (t instanceof Kt) return t; |
  |  | 747 | const e = typeof t; |
  |  | 748 | let i; |
  |  | 749 | var s, n, o; |
  |  | 750 | "object" === e ? i = Xt(t) : "string" === e && (o = (s = t).length, "#" === s[0] && (4 === o || 5 === o ? n = { |
  |  | 751 | r: 255 & 17 \* Mt[s[1]], |
  |  | 752 | g: 255 & 17 \* Mt[s[2]], |
  |  | 753 | b: 255 & 17 \* Mt[s[3]], |
  |  | 754 | a: 5 === o ? 17 \* Mt[s[4]] : 255 |
  |  | 755 | } : 7 !== o && 9 !== o || (n = { |
  |  | 756 | r: Mt[s[1]] << 4 | Mt[s[2]], |
  |  | 757 | g: Mt[s[3]] << 4 | Mt[s[4]], |
  |  | 758 | b: Mt[s[5]] << 4 | Mt[s[6]], |
  |  | 759 | a: 9 === o ? Mt[s[7]] << 4 | Mt[s[8]] : 255 |
  |  | 760 | })), i = n || Wt(t) || qt(t)), this.\_rgb = i, this.\_valid = !!i |
  |  | 761 | } |
  |  | 762 |  |
  |  | 763 | get valid() { |
  |  | 764 | return this.\_valid |
  |  | 765 | } |
  |  | 766 |  |
  |  | 767 | get rgb() { |
  |  | 768 | var t = Ut(this.\_rgb); |
  |  | 769 | return t && (t.a = vt(t.a)), t |
  |  | 770 | } |
  |  | 771 |  |
  |  | 772 | set rgb(t) { |
  |  | 773 | this.\_rgb = Xt(t) |
  |  | 774 | } |
  |  | 775 |  |
  |  | 776 | rgbString() { |
  |  | 777 | return this.\_valid ? (t = this.\_rgb) && (t.a < 255 ? `rgba(${t.r}, ${t.g}, ${t.b}, ${vt(t.a)})` : `rgb(${t.r}, ${t.g}, ${t.b})`) : void 0; |
  |  | 778 | var t |
  |  | 779 | } |
  |  | 780 |  |
  |  | 781 | hexString() { |
  |  | 782 | return this.\_valid ? Ot(this.\_rgb) : void 0 |
  |  | 783 | } |
  |  | 784 |  |
  |  | 785 | hslString() { |
  |  | 786 | return this.\_valid ? function (t) { |
  |  | 787 | if (!t) return; |
  |  | 788 | const e = Et(t), i = e[0], s = wt(e[1]), n = wt(e[2]); |
  |  | 789 | return t.a < 255 ? `hsla(${i}, ${s}%, ${n}%, ${vt(t.a)})` : `hsl(${i}, ${s}%, ${n}%)` |
  |  | 790 | }(this.\_rgb) : void 0 |
  |  | 791 | } |
  |  | 792 |  |
  |  | 793 | mix(t, e) { |
  |  | 794 | if (t) { |
  |  | 795 | const i = this.rgb, s = t.rgb; |
  |  | 796 | let n; |
  |  | 797 | const o = e === n ? .5 : e, a = 2 \* o - 1, r = i.a - s.a, |
  |  | 798 | l = ((a \* r == -1 ? a : (a + r) / (1 + a \* r)) + 1) / 2; |
  |  | 799 | n = 1 - l, i.r = 255 & l \* i.r + n \* s.r + .5, i.g = 255 & l \* i.g + n \* s.g + .5, i.b = 255 & l \* i.b + n \* s.b + .5, i.a = o \* i.a + (1 - o) \* s.a, this.rgb = i |
  |  | 800 | } |
  |  | 801 | return this |
  |  | 802 | } |
  |  | 803 |  |
  |  | 804 | interpolate(t, e) { |
  |  | 805 | return t && (this.\_rgb = function (t, e, i) { |
  |  | 806 | const s = $t(vt(t.r)), n = $t(vt(t.g)), o = $t(vt(t.b)); |
  |  | 807 | return { |
  |  | 808 | r: yt(Ht(s + i \* ($t(vt(e.r)) - s))), |
  |  | 809 | g: yt(Ht(n + i \* ($t(vt(e.g)) - n))), |
  |  | 810 | b: yt(Ht(o + i \* ($t(vt(e.b)) - o))), |
  |  | 811 | a: t.a + i \* (e.a - t.a) |
  |  | 812 | } |
  |  | 813 | }(this.\_rgb, t.\_rgb, e)), this |
  |  | 814 | } |
  |  | 815 |  |
  |  | 816 | clone() { |
  |  | 817 | return new Kt(this.rgb) |
  |  | 818 | } |
  |  | 819 |  |
  |  | 820 | alpha(t) { |
  |  | 821 | return this.\_rgb.a = yt(t), this |
  |  | 822 | } |
  |  | 823 |  |
  |  | 824 | clearer(t) { |
  |  | 825 | return this.\_rgb.a \*= 1 - t, this |
  |  | 826 | } |
  |  | 827 |  |
  |  | 828 | greyscale() { |
  |  | 829 | const t = this.\_rgb, e = bt(.3 \* t.r + .59 \* t.g + .11 \* t.b); |
  |  | 830 | return t.r = t.g = t.b = e, this |
  |  | 831 | } |
  |  | 832 |  |
  |  | 833 | opaquer(t) { |
  |  | 834 | return this.\_rgb.a \*= 1 + t, this |
  |  | 835 | } |
  |  | 836 |  |
  |  | 837 | negate() { |
  |  | 838 | const t = this.\_rgb; |
  |  | 839 | return t.r = 255 - t.r, t.g = 255 - t.g, t.b = 255 - t.b, this |
  |  | 840 | } |
  |  | 841 |  |
  |  | 842 | lighten(t) { |
  |  | 843 | return Yt(this.\_rgb, 2, t), this |
  |  | 844 | } |
  |  | 845 |  |
  |  | 846 | darken(t) { |
  |  | 847 | return Yt(this.\_rgb, 2, -t), this |
  |  | 848 | } |
  |  | 849 |  |
  |  | 850 | saturate(t) { |
  |  | 851 | return Yt(this.\_rgb, 1, t), this |
  |  | 852 | } |
  |  | 853 |  |
  |  | 854 | desaturate(t) { |
  |  | 855 | return Yt(this.\_rgb, 1, -t), this |
  |  | 856 | } |
  |  | 857 |  |
  |  | 858 | rotate(t) { |
  |  | 859 | return function (t, e) { |
  |  | 860 | var i = Et(t); |
  |  | 861 | i[0] = zt(i[0] + e), i = It(i), t.r = i[0], t.g = i[1], t.b = i[2] |
  |  | 862 | }(this.\_rgb, t), this |
  |  | 863 | } |
  |  | 864 | } |
  |  | 865 |  |
  |  | 866 | function Gt(t) { |
  |  | 867 | return new Kt(t) |
  |  | 868 | } |
  |  | 869 |  |
  |  | 870 | function Zt(t) { |
  |  | 871 | if (t && "object" == typeof t) { |
  |  | 872 | const e = t.toString(); |
  |  | 873 | return "[object CanvasPattern]" === e || "[object CanvasGradient]" === e |
  |  | 874 | } |
  |  | 875 | return !1 |
  |  | 876 | } |
  |  | 877 |  |
  |  | 878 | function Jt(t) { |
  |  | 879 | return Zt(t) ? t : Gt(t) |
  |  | 880 | } |
  |  | 881 |  |
  |  | 882 | function Qt(t) { |
  |  | 883 | return Zt(t) ? t : Gt(t).saturate(.5).darken(.1).hexString() |
  |  | 884 | } |
  |  | 885 |  |
  |  | 886 | const te = Object.create(null), ee = Object.create(null); |
  |  | 887 |  |
  |  | 888 | function ie(t, e) { |
  |  | 889 | if (!e) return t; |
  |  | 890 | const i = e.split("."); |
  |  | 891 | for (let e = 0, s = i.length; e < s; ++e) { |
  |  | 892 | const s = i[e]; |
  |  | 893 | t = t[s] || (t[s] = Object.create(null)) |
  |  | 894 | } |
  |  | 895 | return t |
  |  | 896 | } |
  |  | 897 |  |
  |  | 898 | function se(t, e, i) { |
  |  | 899 | return "string" == typeof e ? m(ie(t, e), i) : m(ie(t, ""), e) |
  |  | 900 | } |
  |  | 901 |  |
  |  | 902 | var ne = new class { |
  |  | 903 | constructor(t) { |
  |  | 904 | this.animation = void 0, this.backgroundColor = "rgba(0,0,0,0.1)", this.borderColor = "rgba(0,0,0,0.1)", this.color = "#666", this.datasets = {}, this.devicePixelRatio = t => t.chart.platform.getDevicePixelRatio(), this.elements = {}, this.events = ["mousemove", "mouseout", "click", "touchstart", "touchmove"], this.font = { |
  |  | 905 | family: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif", |
  |  | 906 | size: 12, |
  |  | 907 | style: "normal", |
  |  | 908 | lineHeight: 1.2, |
  |  | 909 | weight: null |
  |  | 910 | }, this.hover = {}, this.hoverBackgroundColor = (t, e) => Qt(e.backgroundColor), this.hoverBorderColor = (t, e) => Qt(e.borderColor), this.hoverColor = (t, e) => Qt(e.color), this.indexAxis = "x", this.interaction = { |
  |  | 911 | mode: "nearest", |
  |  | 912 | intersect: !0, |
  |  | 913 | includeInvisible: !1 |
  |  | 914 | }, this.maintainAspectRatio = !0, this.onHover = null, this.onClick = null, this.parsing = !0, this.plugins = {}, this.responsive = !0, this.scale = void 0, this.scales = {}, this.showLine = !0, this.drawActiveElementsOnTop = !0, this.describe(t) |
  |  | 915 | } |
  |  | 916 |  |
  |  | 917 | set(t, e) { |
  |  | 918 | return se(this, t, e) |
  |  | 919 | } |
  |  | 920 |  |
  |  | 921 | get(t) { |
  |  | 922 | return ie(this, t) |
  |  | 923 | } |
  |  | 924 |  |
  |  | 925 | describe(t, e) { |
  |  | 926 | return se(ee, t, e) |
  |  | 927 | } |
  |  | 928 |  |
  |  | 929 | override(t, e) { |
  |  | 930 | return se(te, t, e) |
  |  | 931 | } |
  |  | 932 |  |
  |  | 933 | route(t, e, i, s) { |
  |  | 934 | const o = ie(this, t), a = ie(this, i), l = "\_" + e; |
  |  | 935 | Object.defineProperties(o, { |
  |  | 936 | [l]: {value: o[e], writable: !0}, [e]: { |
  |  | 937 | enumerable: !0, get() { |
  |  | 938 | const t = this[l], e = a[s]; |
  |  | 939 | return n(t) ? Object.assign({}, e, t) : r(t, e) |
  |  | 940 | }, set(t) { |
  |  | 941 | this[l] = t |
  |  | 942 | } |
  |  | 943 | } |
  |  | 944 | }) |
  |  | 945 | } |
  |  | 946 | }({ |
  |  | 947 | \_scriptable: t => !t.startsWith("on"), |
  |  | 948 | \_indexable: t => "events" !== t, |
  |  | 949 | hover: {\_fallback: "interaction"}, |
  |  | 950 | interaction: {\_scriptable: !1, \_indexable: !1} |
  |  | 951 | }); |
  |  | 952 |  |
  |  | 953 | function oe() { |
  |  | 954 | return "undefined" != typeof window && "undefined" != typeof document |
  |  | 955 | } |
  |  | 956 |  |
  |  | 957 | function ae(t) { |
  |  | 958 | let e = t.parentNode; |
  |  | 959 | return e && "[object ShadowRoot]" === e.toString() && (e = e.host), e |
  |  | 960 | } |
  |  | 961 |  |
  |  | 962 | function re(t, e, i) { |
  |  | 963 | let s; |
  |  | 964 | return "string" == typeof t ? (s = parseInt(t, 10), -1 !== t.indexOf("%") && (s = s / 100 \* e.parentNode[i])) : s = t, s |
  |  | 965 | } |
  |  | 966 |  |
  |  | 967 | const le = t => window.getComputedStyle(t, null); |
  |  | 968 |  |
  |  | 969 | function he(t, e) { |
  |  | 970 | return le(t).getPropertyValue(e) |
  |  | 971 | } |
  |  | 972 |  |
  |  | 973 | const ce = ["top", "right", "bottom", "left"]; |
  |  | 974 |  |
  |  | 975 | function de(t, e, i) { |
  |  | 976 | const s = {}; |
  |  | 977 | i = i ? "-" + i : ""; |
  |  | 978 | for (let n = 0; n < 4; n++) { |
  |  | 979 | const o = ce[n]; |
  |  | 980 | s[o] = parseFloat(t[e + "-" + o + i]) || 0 |
  |  | 981 | } |
  |  | 982 | return s.width = s.left + s.right, s.height = s.top + s.bottom, s |
  |  | 983 | } |
  |  | 984 |  |
  |  | 985 | function ue(t, e) { |
  |  | 986 | if ("native" in t) return t; |
  |  | 987 | const {canvas: i, currentDevicePixelRatio: s} = e, n = le(i), o = "border-box" === n.boxSizing, |
  |  | 988 | a = de(n, "padding"), r = de(n, "border", "width"), {x: l, y: h, box: c} = function (t, e) { |
  |  | 989 | const i = t.touches, s = i && i.length ? i[0] : t, {offsetX: n, offsetY: o} = s; |
  |  | 990 | let a, r, l = !1; |
  |  | 991 | if (((t, e, i) => (t > 0 || e > 0) && (!i || !i.shadowRoot))(n, o, t.target)) a = n, r = o; else { |
  |  | 992 | const t = e.getBoundingClientRect(); |
  |  | 993 | a = s.clientX - t.left, r = s.clientY - t.top, l = !0 |
  |  | 994 | } |
  |  | 995 | return {x: a, y: r, box: l} |
  |  | 996 | }(t, i), d = a.left + (c && r.left), u = a.top + (c && r.top); |
  |  | 997 | let {width: f, height: g} = e; |
  |  | 998 | return o && (f -= a.width + r.width, g -= a.height + r.height), { |
  |  | 999 | x: Math.round((l - d) / f \* i.width / s), |
  |  | 1000 | y: Math.round((h - u) / g \* i.height / s) |
  |  | 1001 | } |
  |  | 1002 | } |
  |  | 1003 |  |
  |  | 1004 | const fe = t => Math.round(10 \* t) / 10; |
  |  | 1005 |  |
  |  | 1006 | function ge(t, e, i, s) { |
  |  | 1007 | const n = le(t), o = de(n, "margin"), a = re(n.maxWidth, t, "clientWidth") || A, |
  |  | 1008 | r = re(n.maxHeight, t, "clientHeight") || A, l = function (t, e, i) { |
  |  | 1009 | let s, n; |
  |  | 1010 | if (void 0 === e || void 0 === i) { |
  |  | 1011 | const o = ae(t); |
  |  | 1012 | if (o) { |
  |  | 1013 | const t = o.getBoundingClientRect(), a = le(o), r = de(a, "border", "width"), l = de(a, "padding"); |
  |  | 1014 | e = t.width - l.width - r.width, i = t.height - l.height - r.height, s = re(a.maxWidth, o, "clientWidth"), n = re(a.maxHeight, o, "clientHeight") |
  |  | 1015 | } else e = t.clientWidth, i = t.clientHeight |
  |  | 1016 | } |
  |  | 1017 | return {width: e, height: i, maxWidth: s || A, maxHeight: n || A} |
  |  | 1018 | }(t, e, i); |
  |  | 1019 | let {width: h, height: c} = l; |
  |  | 1020 | if ("content-box" === n.boxSizing) { |
  |  | 1021 | const t = de(n, "border", "width"), e = de(n, "padding"); |
  |  | 1022 | h -= e.width + t.width, c -= e.height + t.height |
  |  | 1023 | } |
  |  | 1024 | return h = Math.max(0, h - o.width), c = Math.max(0, s ? Math.floor(h / s) : c - o.height), h = fe(Math.min(h, a, l.maxWidth)), c = fe(Math.min(c, r, l.maxHeight)), h && !c && (c = fe(h / 2)), { |
  |  | 1025 | width: h, |
  |  | 1026 | height: c |
  |  | 1027 | } |
  |  | 1028 | } |
  |  | 1029 |  |
  |  | 1030 | function pe(t, e, i) { |
  |  | 1031 | const s = e || 1, n = Math.floor(t.height \* s), o = Math.floor(t.width \* s); |
  |  | 1032 | t.height = n / s, t.width = o / s; |
  |  | 1033 | const a = t.canvas; |
  |  | 1034 | return a.style && (i || !a.style.height && !a.style.width) && (a.style.height = `${t.height}px`, a.style.width = `${t.width}px`), (t.currentDevicePixelRatio !== s || a.height !== n || a.width !== o) && (t.currentDevicePixelRatio = s, a.height = n, a.width = o, t.ctx.setTransform(s, 0, 0, s, 0, 0), !0) |
  |  | 1035 | } |
  |  | 1036 |  |
  |  | 1037 | const me = function () { |
  |  | 1038 | let t = !1; |
  |  | 1039 | try { |
  |  | 1040 | const e = { |
  |  | 1041 | get passive() { |
  |  | 1042 | return t = !0, !1 |
  |  | 1043 | } |
  |  | 1044 | }; |
  |  | 1045 | window.addEventListener("test", null, e), window.removeEventListener("test", null, e) |
  |  | 1046 | } catch (t) { |
  |  | 1047 | } |
  |  | 1048 | return t |
  |  | 1049 | }(); |
  |  | 1050 |  |
  |  | 1051 | function be(t, e) { |
  |  | 1052 | const i = he(t, e), s = i && i.match(/^(\d+)(\.\d+)?px$/); |
  |  | 1053 | return s ? +s[1] : void 0 |
  |  | 1054 | } |
  |  | 1055 |  |
  |  | 1056 | function xe(t) { |
  |  | 1057 | return !t || i(t.size) || i(t.family) ? null : (t.style ? t.style + " " : "") + (t.weight ? t.weight + " " : "") + t.size + "px " + t.family |
  |  | 1058 | } |
  |  | 1059 |  |
  |  | 1060 | function \_e(t, e, i, s, n) { |
  |  | 1061 | let o = e[n]; |
  |  | 1062 | return o || (o = e[n] = t.measureText(n).width, i.push(n)), o > s && (s = o), s |
  |  | 1063 | } |
  |  | 1064 |  |
  |  | 1065 | function ye(t, e, i, n) { |
  |  | 1066 | let o = (n = n || {}).data = n.data || {}, a = n.garbageCollect = n.garbageCollect || []; |
  |  | 1067 | n.font !== e && (o = n.data = {}, a = n.garbageCollect = [], n.font = e), t.save(), t.font = e; |
  |  | 1068 | let r = 0; |
  |  | 1069 | const l = i.length; |
  |  | 1070 | let h, c, d, u, f; |
  |  | 1071 | for (h = 0; h < l; h++) if (u = i[h], null != u && !0 !== s(u)) r = \_e(t, o, a, r, u); else if (s(u)) for (c = 0, d = u.length; c < d; c++) f = u[c], null == f || s(f) || (r = \_e(t, o, a, r, f)); |
  |  | 1072 | t.restore(); |
  |  | 1073 | const g = a.length / 2; |
  |  | 1074 | if (g > i.length) { |
  |  | 1075 | for (h = 0; h < g; h++) delete o[a[h]]; |
  |  | 1076 | a.splice(0, g) |
  |  | 1077 | } |
  |  | 1078 | return r |
  |  | 1079 | } |
  |  | 1080 |  |
  |  | 1081 | function ve(t, e, i) { |
  |  | 1082 | const s = t.currentDevicePixelRatio, n = 0 !== i ? Math.max(i / 2, .5) : 0; |
  |  | 1083 | return Math.round((e - n) \* s) / s + n |
  |  | 1084 | } |
  |  | 1085 |  |
  |  | 1086 | function we(t, e) { |
  |  | 1087 | (e = e || t.getContext("2d")).save(), e.resetTransform(), e.clearRect(0, 0, t.width, t.height), e.restore() |
  |  | 1088 | } |
  |  | 1089 |  |
  |  | 1090 | function Me(t, e, i, s) { |
  |  | 1091 | ke(t, e, i, s, null) |
  |  | 1092 | } |
  |  | 1093 |  |
  |  | 1094 | function ke(t, e, i, s, n) { |
  |  | 1095 | let o, a, r, l, h, c; |
  |  | 1096 | const d = e.pointStyle, u = e.rotation, f = e.radius; |
  |  | 1097 | let g = (u || 0) \* T; |
  |  | 1098 | if (d && "object" == typeof d && (o = d.toString(), "[object HTMLImageElement]" === o || "[object HTMLCanvasElement]" === o)) return t.save(), t.translate(i, s), t.rotate(g), t.drawImage(d, -d.width / 2, -d.height / 2, d.width, d.height), void t.restore(); |
  |  | 1099 | if (!(isNaN(f) || f <= 0)) { |
  |  | 1100 | switch (t.beginPath(), d) { |
  |  | 1101 | default: |
  |  | 1102 | n ? t.ellipse(i, s, n / 2, f, 0, 0, O) : t.arc(i, s, f, 0, O), t.closePath(); |
  |  | 1103 | break; |
  |  | 1104 | case"triangle": |
  |  | 1105 | t.moveTo(i + Math.sin(g) \* f, s - Math.cos(g) \* f), g += R, t.lineTo(i + Math.sin(g) \* f, s - Math.cos(g) \* f), g += R, t.lineTo(i + Math.sin(g) \* f, s - Math.cos(g) \* f), t.closePath(); |
  |  | 1106 | break; |
  |  | 1107 | case"rectRounded": |
  |  | 1108 | h = .516 \* f, l = f - h, a = Math.cos(g + E) \* l, r = Math.sin(g + E) \* l, t.arc(i - a, s - r, h, g - D, g - L), t.arc(i + r, s - a, h, g - L, g), t.arc(i + a, s + r, h, g, g + L), t.arc(i - r, s + a, h, g + L, g + D), t.closePath(); |
  |  | 1109 | break; |
  |  | 1110 | case"rect": |
  |  | 1111 | if (!u) { |
  |  | 1112 | l = Math.SQRT1\_2 \* f, c = n ? n / 2 : l, t.rect(i - c, s - l, 2 \* c, 2 \* l); |
  |  | 1113 | break |
  |  | 1114 | } |
  |  | 1115 | g += E; |
  |  | 1116 | case"rectRot": |
  |  | 1117 | a = Math.cos(g) \* f, r = Math.sin(g) \* f, t.moveTo(i - a, s - r), t.lineTo(i + r, s - a), t.lineTo(i + a, s + r), t.lineTo(i - r, s + a), t.closePath(); |
  |  | 1118 | break; |
  |  | 1119 | case"crossRot": |
  |  | 1120 | g += E; |
  |  | 1121 | case"cross": |
  |  | 1122 | a = Math.cos(g) \* f, r = Math.sin(g) \* f, t.moveTo(i - a, s - r), t.lineTo(i + a, s + r), t.moveTo(i + r, s - a), t.lineTo(i - r, s + a); |
  |  | 1123 | break; |
  |  | 1124 | case"star": |
  |  | 1125 | a = Math.cos(g) \* f, r = Math.sin(g) \* f, t.moveTo(i - a, s - r), t.lineTo(i + a, s + r), t.moveTo(i + r, s - a), t.lineTo(i - r, s + a), g += E, a = Math.cos(g) \* f, r = Math.sin(g) \* f, t.moveTo(i - a, s - r), t.lineTo(i + a, s + r), t.moveTo(i + r, s - a), t.lineTo(i - r, s + a); |
  |  | 1126 | break; |
  |  | 1127 | case"line": |
  |  | 1128 | a = n ? n / 2 : Math.cos(g) \* f, r = Math.sin(g) \* f, t.moveTo(i - a, s - r), t.lineTo(i + a, s + r); |
  |  | 1129 | break; |
  |  | 1130 | case"dash": |
  |  | 1131 | t.moveTo(i, s), t.lineTo(i + Math.cos(g) \* f, s + Math.sin(g) \* f) |
  |  | 1132 | } |
  |  | 1133 | t.fill(), e.borderWidth > 0 && t.stroke() |
  |  | 1134 | } |
  |  | 1135 | } |
  |  | 1136 |  |
  |  | 1137 | function Se(t, e, i) { |
  |  | 1138 | return i = i || .5, !e || t && t.x > e.left - i && t.x < e.right + i && t.y > e.top - i && t.y < e.bottom + i |
  |  | 1139 | } |
  |  | 1140 |  |
  |  | 1141 | function Pe(t, e) { |
  |  | 1142 | t.save(), t.beginPath(), t.rect(e.left, e.top, e.right - e.left, e.bottom - e.top), t.clip() |
  |  | 1143 | } |
  |  | 1144 |  |
  |  | 1145 | function De(t) { |
  |  | 1146 | t.restore() |
  |  | 1147 | } |
  |  | 1148 |  |
  |  | 1149 | function Oe(t, e, i, s, n) { |
  |  | 1150 | if (!e) return t.lineTo(i.x, i.y); |
  |  | 1151 | if ("middle" === n) { |
  |  | 1152 | const s = (e.x + i.x) / 2; |
  |  | 1153 | t.lineTo(s, e.y), t.lineTo(s, i.y) |
  |  | 1154 | } else "after" === n != !!s ? t.lineTo(e.x, i.y) : t.lineTo(i.x, e.y); |
  |  | 1155 | t.lineTo(i.x, i.y) |
  |  | 1156 | } |
  |  | 1157 |  |
  |  | 1158 | function Ce(t, e, i, s) { |
  |  | 1159 | if (!e) return t.lineTo(i.x, i.y); |
  |  | 1160 | t.bezierCurveTo(s ? e.cp1x : e.cp2x, s ? e.cp1y : e.cp2y, s ? i.cp2x : i.cp1x, s ? i.cp2y : i.cp1y, i.x, i.y) |
  |  | 1161 | } |
  |  | 1162 |  |
  |  | 1163 | function Ae(t, e, n, o, a, r = {}) { |
  |  | 1164 | const l = s(e) ? e : [e], h = r.strokeWidth > 0 && "" !== r.strokeColor; |
  |  | 1165 | let c, d; |
  |  | 1166 | for (t.save(), t.font = a.string, function (t, e) { |
  |  | 1167 | e.translation && t.translate(e.translation[0], e.translation[1]); |
  |  | 1168 | i(e.rotation) || t.rotate(e.rotation); |
  |  | 1169 | e.color && (t.fillStyle = e.color); |
  |  | 1170 | e.textAlign && (t.textAlign = e.textAlign); |
  |  | 1171 | e.textBaseline && (t.textBaseline = e.textBaseline) |
  |  | 1172 | }(t, r), c = 0; c < l.length; ++c) d = l[c], h && (r.strokeColor && (t.strokeStyle = r.strokeColor), i(r.strokeWidth) || (t.lineWidth = r.strokeWidth), t.strokeText(d, n, o, r.maxWidth)), t.fillText(d, n, o, r.maxWidth), Te(t, n, o, d, r), o += a.lineHeight; |
  |  | 1173 | t.restore() |
  |  | 1174 | } |
  |  | 1175 |  |
  |  | 1176 | function Te(t, e, i, s, n) { |
  |  | 1177 | if (n.strikethrough || n.underline) { |
  |  | 1178 | const o = t.measureText(s), a = e - o.actualBoundingBoxLeft, r = e + o.actualBoundingBoxRight, |
  |  | 1179 | l = i - o.actualBoundingBoxAscent, h = i + o.actualBoundingBoxDescent, |
  |  | 1180 | c = n.strikethrough ? (l + h) / 2 : h; |
  |  | 1181 | t.strokeStyle = t.fillStyle, t.beginPath(), t.lineWidth = n.decorationWidth || 2, t.moveTo(a, c), t.lineTo(r, c), t.stroke() |
  |  | 1182 | } |
  |  | 1183 | } |
  |  | 1184 |  |
  |  | 1185 | function Le(t, e) { |
  |  | 1186 | const {x: i, y: s, w: n, h: o, radius: a} = e; |
  |  | 1187 | t.arc(i + a.topLeft, s + a.topLeft, a.topLeft, -L, D, !0), t.lineTo(i, s + o - a.bottomLeft), t.arc(i + a.bottomLeft, s + o - a.bottomLeft, a.bottomLeft, D, L, !0), t.lineTo(i + n - a.bottomRight, s + o), t.arc(i + n - a.bottomRight, s + o - a.bottomRight, a.bottomRight, L, 0, !0), t.lineTo(i + n, s + a.topRight), t.arc(i + n - a.topRight, s + a.topRight, a.topRight, 0, -L, !0), t.lineTo(i + a.topLeft, s) |
  |  | 1188 | } |
  |  | 1189 |  |
  |  | 1190 | function Ee(t, e = [""], i = t, s, n = () => t[0]) { |
  |  | 1191 | M(s) || (s = $e("\_fallback", t)); |
  |  | 1192 | const o = { |
  |  | 1193 | [Symbol.toStringTag]: "Object", |
  |  | 1194 | \_cacheable: !0, |
  |  | 1195 | \_scopes: t, |
  |  | 1196 | \_rootScopes: i, |
  |  | 1197 | \_fallback: s, |
  |  | 1198 | \_getTarget: n, |
  |  | 1199 | override: n => Ee([n, ...t], e, i, s) |
  |  | 1200 | }; |
  |  | 1201 | return new Proxy(o, { |
  |  | 1202 | deleteProperty: (e, i) => (delete e[i], delete e.\_keys, delete t[0][i], !0), |
  |  | 1203 | get: (i, s) => Ve(i, s, () => function (t, e, i, s) { |
  |  | 1204 | let n; |
  |  | 1205 | for (const o of e) if (n = $e(ze(o, t), i), M(n)) return Fe(t, n) ? je(i, s, t, n) : n |
  |  | 1206 | }(s, e, t, i)), |
  |  | 1207 | getOwnPropertyDescriptor: (t, e) => Reflect.getOwnPropertyDescriptor(t.\_scopes[0], e), |
  |  | 1208 | getPrototypeOf: () => Reflect.getPrototypeOf(t[0]), |
  |  | 1209 | has: (t, e) => Ye(t).includes(e), |
  |  | 1210 | ownKeys: t => Ye(t), |
  |  | 1211 | set(t, e, i) { |
  |  | 1212 | const s = t.\_storage || (t.\_storage = n()); |
  |  | 1213 | return t[e] = s[e] = i, delete t.\_keys, !0 |
  |  | 1214 | } |
  |  | 1215 | }) |
  |  | 1216 | } |
  |  | 1217 |  |
  |  | 1218 | function Re(t, e, i, o) { |
  |  | 1219 | const a = { |
  |  | 1220 | \_cacheable: !1, |
  |  | 1221 | \_proxy: t, |
  |  | 1222 | \_context: e, |
  |  | 1223 | \_subProxy: i, |
  |  | 1224 | \_stack: new Set, |
  |  | 1225 | \_descriptors: Ie(t, o), |
  |  | 1226 | setContext: e => Re(t, e, i, o), |
  |  | 1227 | override: s => Re(t.override(s), e, i, o) |
  |  | 1228 | }; |
  |  | 1229 | return new Proxy(a, { |
  |  | 1230 | deleteProperty: (e, i) => (delete e[i], delete t[i], !0), |
  |  | 1231 | get: (t, e, i) => Ve(t, e, () => function (t, e, i) { |
  |  | 1232 | const {\_proxy: o, \_context: a, \_subProxy: r, \_descriptors: l} = t; |
  |  | 1233 | let h = o[e]; |
  |  | 1234 | k(h) && l.isScriptable(e) && (h = function (t, e, i, s) { |
  |  | 1235 | const {\_proxy: n, \_context: o, \_subProxy: a, \_stack: r} = i; |
  |  | 1236 | if (r.has(t)) throw new Error("Recursion detected: " + Array.from(r).join("->") + "->" + t); |
  |  | 1237 | r.add(t), e = e(o, a || s), r.delete(t), Fe(t, e) && (e = je(n.\_scopes, n, t, e)); |
  |  | 1238 | return e |
  |  | 1239 | }(e, h, t, i)); |
  |  | 1240 | s(h) && h.length && (h = function (t, e, i, s) { |
  |  | 1241 | const {\_proxy: o, \_context: a, \_subProxy: r, \_descriptors: l} = i; |
  |  | 1242 | if (M(a.index) && s(t)) e = e[a.index % e.length]; else if (n(e[0])) { |
  |  | 1243 | const i = e, s = o.\_scopes.filter(t => t !== i); |
  |  | 1244 | e = []; |
  |  | 1245 | for (const n of i) { |
  |  | 1246 | const i = je(s, o, t, n); |
  |  | 1247 | e.push(Re(i, a, r && r[t], l)) |
  |  | 1248 | } |
  |  | 1249 | } |
  |  | 1250 | return e |
  |  | 1251 | }(e, h, t, l.isIndexable)); |
  |  | 1252 | Fe(e, h) && (h = Re(h, a, r && r[e], l)); |
  |  | 1253 | return h |
  |  | 1254 | }(t, e, i)), |
  |  | 1255 | getOwnPropertyDescriptor: (e, i) => e.\_descriptors.allKeys ? Reflect.has(t, i) ? { |
  |  | 1256 | enumerable: !0, |
  |  | 1257 | configurable: !0 |
  |  | 1258 | } : void 0 : Reflect.getOwnPropertyDescriptor(t, i), |
  |  | 1259 | getPrototypeOf: () => Reflect.getPrototypeOf(t), |
  |  | 1260 | has: (e, i) => Reflect.has(t, i), |
  |  | 1261 | ownKeys: () => Reflect.ownKeys(t), |
  |  | 1262 | set: (e, i, s) => (t[i] = s, delete e[i], !0) |
  |  | 1263 | }) |
  |  | 1264 | } |
  |  | 1265 |  |
  |  | 1266 | function Ie(t, e = {scriptable: !0, indexable: !0}) { |
  |  | 1267 | const {\_scriptable: i = e.scriptable, \_indexable: s = e.indexable, \_allKeys: n = e.allKeys} = t; |
  |  | 1268 | return { |
  |  | 1269 | allKeys: n, |
  |  | 1270 | scriptable: i, |
  |  | 1271 | indexable: s, |
  |  | 1272 | isScriptable: k(i) ? i : () => i, |
  |  | 1273 | isIndexable: k(s) ? s : () => s |
  |  | 1274 | } |
  |  | 1275 | } |
  |  | 1276 |  |
  |  | 1277 | const ze = (t, e) => t ? t + w(e) : e, |
  |  | 1278 | Fe = (t, e) => n(e) && "adapters" !== t && (null === Object.getPrototypeOf(e) || e.constructor === Object); |
  |  | 1279 |  |
  |  | 1280 | function Ve(t, e, i) { |
  |  | 1281 | if (Object.prototype.hasOwnProperty.call(t, e)) return t[e]; |
  |  | 1282 | const s = i(); |
  |  | 1283 | return t[e] = s, s |
  |  | 1284 | } |
  |  | 1285 |  |
  |  | 1286 | function Be(t, e, i) { |
  |  | 1287 | return k(t) ? t(e, i) : t |
  |  | 1288 | } |
  |  | 1289 |  |
  |  | 1290 | const Ne = (t, e) => !0 === t ? e : "string" == typeof t ? y(e, t) : void 0; |
  |  | 1291 |  |
  |  | 1292 | function We(t, e, i, s, n) { |
  |  | 1293 | for (const o of e) { |
  |  | 1294 | const e = Ne(i, o); |
  |  | 1295 | if (e) { |
  |  | 1296 | t.add(e); |
  |  | 1297 | const o = Be(e.\_fallback, i, n); |
  |  | 1298 | if (M(o) && o !== i && o !== s) return o |
  |  | 1299 | } else if (!1 === e && M(s) && i !== s) return null |
  |  | 1300 | } |
  |  | 1301 | return !1 |
  |  | 1302 | } |
  |  | 1303 |  |
  |  | 1304 | function je(t, e, i, o) { |
  |  | 1305 | const a = e.\_rootScopes, r = Be(e.\_fallback, i, o), l = [...t, ...a], h = new Set; |
  |  | 1306 | h.add(o); |
  |  | 1307 | let c = He(h, l, i, r || i, o); |
  |  | 1308 | return null !== c && ((!M(r) || r === i || (c = He(h, l, r, c, o), null !== c)) && Ee(Array.from(h), [""], a, r, () => function (t, e, i) { |
  |  | 1309 | const o = t.\_getTarget(); |
  |  | 1310 | e in o || (o[e] = {}); |
  |  | 1311 | const a = o[e]; |
  |  | 1312 | if (s(a) && n(i)) return i; |
  |  | 1313 | return a |
  |  | 1314 | }(e, i, o))) |
  |  | 1315 | } |
  |  | 1316 |  |
  |  | 1317 | function He(t, e, i, s, n) { |
  |  | 1318 | for (; i;) i = We(t, e, i, s, n); |
  |  | 1319 | return i |
  |  | 1320 | } |
  |  | 1321 |  |
  |  | 1322 | function $e(t, e) { |
  |  | 1323 | for (const i of e) { |
  |  | 1324 | if (!i) continue; |
  |  | 1325 | const e = i[t]; |
  |  | 1326 | if (M(e)) return e |
  |  | 1327 | } |
  |  | 1328 | } |
  |  | 1329 |  |
  |  | 1330 | function Ye(t) { |
  |  | 1331 | let e = t.\_keys; |
  |  | 1332 | return e || (e = t.\_keys = function (t) { |
  |  | 1333 | const e = new Set; |
  |  | 1334 | for (const i of t) for (const t of Object.keys(i).filter(t => !t.startsWith("\_"))) e.add(t); |
  |  | 1335 | return Array.from(e) |
  |  | 1336 | }(t.\_scopes)), e |
  |  | 1337 | } |
  |  | 1338 |  |
  |  | 1339 | function Ue(t, e, i, s) { |
  |  | 1340 | const {iScale: n} = t, {key: o = "r"} = this.\_parsing, a = new Array(s); |
  |  | 1341 | let r, l, h, c; |
  |  | 1342 | for (r = 0, l = s; r < l; ++r) h = r + i, c = e[h], a[r] = {r: n.parse(y(c, o), h)}; |
  |  | 1343 | return a |
  |  | 1344 | } |
  |  | 1345 |  |
  |  | 1346 | const Xe = Number.EPSILON || 1e-14, qe = (t, e) => e < t.length && !t[e].skip && t[e], |
  |  | 1347 | Ke = t => "x" === t ? "y" : "x"; |
  |  | 1348 |  |
  |  | 1349 | function Ge(t, e, i, s) { |
  |  | 1350 | const n = t.skip ? e : t, o = e, a = i.skip ? e : i, r = X(o, n), l = X(a, o); |
  |  | 1351 | let h = r / (r + l), c = l / (r + l); |
  |  | 1352 | h = isNaN(h) ? 0 : h, c = isNaN(c) ? 0 : c; |
  |  | 1353 | const d = s \* h, u = s \* c; |
  |  | 1354 | return { |
  |  | 1355 | previous: {x: o.x - d \* (a.x - n.x), y: o.y - d \* (a.y - n.y)}, |
  |  | 1356 | next: {x: o.x + u \* (a.x - n.x), y: o.y + u \* (a.y - n.y)} |
  |  | 1357 | } |
  |  | 1358 | } |
  |  | 1359 |  |
  |  | 1360 | function Ze(t, e = "x") { |
  |  | 1361 | const i = Ke(e), s = t.length, n = Array(s).fill(0), o = Array(s); |
  |  | 1362 | let a, r, l, h = qe(t, 0); |
  |  | 1363 | for (a = 0; a < s; ++a) if (r = l, l = h, h = qe(t, a + 1), l) { |
  |  | 1364 | if (h) { |
  |  | 1365 | const t = h[e] - l[e]; |
  |  | 1366 | n[a] = 0 !== t ? (h[i] - l[i]) / t : 0 |
  |  | 1367 | } |
  |  | 1368 | o[a] = r ? h ? z(n[a - 1]) !== z(n[a]) ? 0 : (n[a - 1] + n[a]) / 2 : n[a - 1] : n[a] |
  |  | 1369 | } |
  |  | 1370 | !function (t, e, i) { |
  |  | 1371 | const s = t.length; |
  |  | 1372 | let n, o, a, r, l, h = qe(t, 0); |
  |  | 1373 | for (let c = 0; c < s - 1; ++c) l = h, h = qe(t, c + 1), l && h && (N(e[c], 0, Xe) ? i[c] = i[c + 1] = 0 : (n = i[c] / e[c], o = i[c + 1] / e[c], r = Math.pow(n, 2) + Math.pow(o, 2), r <= 9 || (a = 3 / Math.sqrt(r), i[c] = n \* a \* e[c], i[c + 1] = o \* a \* e[c]))) |
  |  | 1374 | }(t, n, o), function (t, e, i = "x") { |
  |  | 1375 | const s = Ke(i), n = t.length; |
  |  | 1376 | let o, a, r, l = qe(t, 0); |
  |  | 1377 | for (let h = 0; h < n; ++h) { |
  |  | 1378 | if (a = r, r = l, l = qe(t, h + 1), !r) continue; |
  |  | 1379 | const n = r[i], c = r[s]; |
  |  | 1380 | a && (o = (n - a[i]) / 3, r[`cp1${i}`] = n - o, r[`cp1${s}`] = c - o \* e[h]), l && (o = (l[i] - n) / 3, r[`cp2${i}`] = n + o, r[`cp2${s}`] = c + o \* e[h]) |
  |  | 1381 | } |
  |  | 1382 | }(t, o, e) |
  |  | 1383 | } |
  |  | 1384 |  |
  |  | 1385 | function Je(t, e, i) { |
  |  | 1386 | return Math.max(Math.min(t, i), e) |
  |  | 1387 | } |
  |  | 1388 |  |
  |  | 1389 | function Qe(t, e, i, s, n) { |
  |  | 1390 | let o, a, r, l; |
  |  | 1391 | if (e.spanGaps && (t = t.filter(t => !t.skip)), "monotone" === e.cubicInterpolationMode) Ze(t, n); else { |
  |  | 1392 | let i = s ? t[t.length - 1] : t[0]; |
  |  | 1393 | for (o = 0, a = t.length; o < a; ++o) r = t[o], l = Ge(i, r, t[Math.min(o + 1, a - (s ? 0 : 1)) % a], e.tension), r.cp1x = l.previous.x, r.cp1y = l.previous.y, r.cp2x = l.next.x, r.cp2y = l.next.y, i = r |
  |  | 1394 | } |
  |  | 1395 | e.capBezierPoints && function (t, e) { |
  |  | 1396 | let i, s, n, o, a, r = Se(t[0], e); |
  |  | 1397 | for (i = 0, s = t.length; i < s; ++i) a = o, o = r, r = i < s - 1 && Se(t[i + 1], e), o && (n = t[i], a && (n.cp1x = Je(n.cp1x, e.left, e.right), n.cp1y = Je(n.cp1y, e.top, e.bottom)), r && (n.cp2x = Je(n.cp2x, e.left, e.right), n.cp2y = Je(n.cp2y, e.top, e.bottom))) |
  |  | 1398 | }(t, i) |
  |  | 1399 | } |
  |  | 1400 |  |
  |  | 1401 | const ti = t => 0 === t || 1 === t, ei = (t, e, i) => -Math.pow(2, 10 \* (t -= 1)) \* Math.sin((t - e) \* O / i), |
  |  | 1402 | ii = (t, e, i) => Math.pow(2, -10 \* t) \* Math.sin((t - e) \* O / i) + 1, si = { |
  |  | 1403 | linear: t => t, |
  |  | 1404 | easeInQuad: t => t \* t, |
  |  | 1405 | easeOutQuad: t => -t \* (t - 2), |
  |  | 1406 | easeInOutQuad: t => (t /= .5) < 1 ? .5 \* t \* t : -.5 \* (--t \* (t - 2) - 1), |
  |  | 1407 | easeInCubic: t => t \* t \* t, |
  |  | 1408 | easeOutCubic: t => (t -= 1) \* t \* t + 1, |
  |  | 1409 | easeInOutCubic: t => (t /= .5) < 1 ? .5 \* t \* t \* t : .5 \* ((t -= 2) \* t \* t + 2), |
  |  | 1410 | easeInQuart: t => t \* t \* t \* t, |
  |  | 1411 | easeOutQuart: t => -((t -= 1) \* t \* t \* t - 1), |
  |  | 1412 | easeInOutQuart: t => (t /= .5) < 1 ? .5 \* t \* t \* t \* t : -.5 \* ((t -= 2) \* t \* t \* t - 2), |
  |  | 1413 | easeInQuint: t => t \* t \* t \* t \* t, |
  |  | 1414 | easeOutQuint: t => (t -= 1) \* t \* t \* t \* t + 1, |
  |  | 1415 | easeInOutQuint: t => (t /= .5) < 1 ? .5 \* t \* t \* t \* t \* t : .5 \* ((t -= 2) \* t \* t \* t \* t + 2), |
  |  | 1416 | easeInSine: t => 1 - Math.cos(t \* L), |
  |  | 1417 | easeOutSine: t => Math.sin(t \* L), |
  |  | 1418 | easeInOutSine: t => -.5 \* (Math.cos(D \* t) - 1), |
  |  | 1419 | easeInExpo: t => 0 === t ? 0 : Math.pow(2, 10 \* (t - 1)), |
  |  | 1420 | easeOutExpo: t => 1 === t ? 1 : 1 - Math.pow(2, -10 \* t), |
  |  | 1421 | easeInOutExpo: t => ti(t) ? t : t < .5 ? .5 \* Math.pow(2, 10 \* (2 \* t - 1)) : .5 \* (2 - Math.pow(2, -10 \* (2 \* t - 1))), |
  |  | 1422 | easeInCirc: t => t >= 1 ? t : -(Math.sqrt(1 - t \* t) - 1), |
  |  | 1423 | easeOutCirc: t => Math.sqrt(1 - (t -= 1) \* t), |
  |  | 1424 | easeInOutCirc: t => (t /= .5) < 1 ? -.5 \* (Math.sqrt(1 - t \* t) - 1) : .5 \* (Math.sqrt(1 - (t -= 2) \* t) + 1), |
  |  | 1425 | easeInElastic: t => ti(t) ? t : ei(t, .075, .3), |
  |  | 1426 | easeOutElastic: t => ti(t) ? t : ii(t, .075, .3), |
  |  | 1427 | easeInOutElastic(t) { |
  |  | 1428 | const e = .1125; |
  |  | 1429 | return ti(t) ? t : t < .5 ? .5 \* ei(2 \* t, e, .45) : .5 + .5 \* ii(2 \* t - 1, e, .45) |
  |  | 1430 | }, |
  |  | 1431 | easeInBack(t) { |
  |  | 1432 | const e = 1.70158; |
  |  | 1433 | return t \* t \* ((e + 1) \* t - e) |
  |  | 1434 | }, |
  |  | 1435 | easeOutBack(t) { |
  |  | 1436 | const e = 1.70158; |
  |  | 1437 | return (t -= 1) \* t \* ((e + 1) \* t + e) + 1 |
  |  | 1438 | }, |
  |  | 1439 | easeInOutBack(t) { |
  |  | 1440 | let e = 1.70158; |
  |  | 1441 | return (t /= .5) < 1 ? t \* t \* ((1 + (e \*= 1.525)) \* t - e) \* .5 : .5 \* ((t -= 2) \* t \* ((1 + (e \*= 1.525)) \* t + e) + 2) |
  |  | 1442 | }, |
  |  | 1443 | easeInBounce: t => 1 - si.easeOutBounce(1 - t), |
  |  | 1444 | easeOutBounce(t) { |
  |  | 1445 | const e = 7.5625, i = 2.75; |
  |  | 1446 | return t < 1 / i ? e \* t \* t : t < 2 / i ? e \* (t -= 1.5 / i) \* t + .75 : t < 2.5 / i ? e \* (t -= 2.25 / i) \* t + .9375 : e \* (t -= 2.625 / i) \* t + .984375 |
  |  | 1447 | }, |
  |  | 1448 | easeInOutBounce: t => t < .5 ? .5 \* si.easeInBounce(2 \* t) : .5 \* si.easeOutBounce(2 \* t - 1) + .5 |
  |  | 1449 | }; |
  |  | 1450 |  |
  |  | 1451 | function ni(t, e, i, s) { |
  |  | 1452 | return {x: t.x + i \* (e.x - t.x), y: t.y + i \* (e.y - t.y)} |
  |  | 1453 | } |
  |  | 1454 |  |
  |  | 1455 | function oi(t, e, i, s) { |
  |  | 1456 | return { |
  |  | 1457 | x: t.x + i \* (e.x - t.x), |
  |  | 1458 | y: "middle" === s ? i < .5 ? t.y : e.y : "after" === s ? i < 1 ? t.y : e.y : i > 0 ? e.y : t.y |
  |  | 1459 | } |
  |  | 1460 | } |
  |  | 1461 |  |
  |  | 1462 | function ai(t, e, i, s) { |
  |  | 1463 | const n = {x: t.cp2x, y: t.cp2y}, o = {x: e.cp1x, y: e.cp1y}, a = ni(t, n, i), r = ni(n, o, i), l = ni(o, e, i), |
  |  | 1464 | h = ni(a, r, i), c = ni(r, l, i); |
  |  | 1465 | return ni(h, c, i) |
  |  | 1466 | } |
  |  | 1467 |  |
  |  | 1468 | const ri = new Map; |
  |  | 1469 |  |
  |  | 1470 | function li(t, e, i) { |
  |  | 1471 | return function (t, e) { |
  |  | 1472 | e = e || {}; |
  |  | 1473 | const i = t + JSON.stringify(e); |
  |  | 1474 | let s = ri.get(i); |
  |  | 1475 | return s || (s = new Intl.NumberFormat(t, e), ri.set(i, s)), s |
  |  | 1476 | }(e, i).format(t) |
  |  | 1477 | } |
  |  | 1478 |  |
  |  | 1479 | const hi = new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/), |
  |  | 1480 | ci = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/); |
  |  | 1481 |  |
  |  | 1482 | function di(t, e) { |
  |  | 1483 | const i = ("" + t).match(hi); |
  |  | 1484 | if (!i || "normal" === i[1]) return 1.2 \* e; |
  |  | 1485 | switch (t = +i[2], i[3]) { |
  |  | 1486 | case"px": |
  |  | 1487 | return t; |
  |  | 1488 | case"%": |
  |  | 1489 | t /= 100 |
  |  | 1490 | } |
  |  | 1491 | return e \* t |
  |  | 1492 | } |
  |  | 1493 |  |
  |  | 1494 | function ui(t, e) { |
  |  | 1495 | const i = {}, s = n(e), o = s ? Object.keys(e) : e, a = n(t) ? s ? i => r(t[i], t[e[i]]) : e => t[e] : () => t; |
  |  | 1496 | for (const t of o) i[t] = +a(t) || 0; |
  |  | 1497 | return i |
  |  | 1498 | } |
  |  | 1499 |  |
  |  | 1500 | function fi(t) { |
  |  | 1501 | return ui(t, {top: "y", right: "x", bottom: "y", left: "x"}) |
  |  | 1502 | } |
  |  | 1503 |  |
  |  | 1504 | function gi(t) { |
  |  | 1505 | return ui(t, ["topLeft", "topRight", "bottomLeft", "bottomRight"]) |
  |  | 1506 | } |
  |  | 1507 |  |
  |  | 1508 | function pi(t) { |
  |  | 1509 | const e = fi(t); |
  |  | 1510 | return e.width = e.left + e.right, e.height = e.top + e.bottom, e |
  |  | 1511 | } |
  |  | 1512 |  |
  |  | 1513 | function mi(t, e) { |
  |  | 1514 | t = t || {}, e = e || ne.font; |
  |  | 1515 | let i = r(t.size, e.size); |
  |  | 1516 | "string" == typeof i && (i = parseInt(i, 10)); |
  |  | 1517 | let s = r(t.style, e.style); |
  |  | 1518 | s && !("" + s).match(ci) && (console.warn('Invalid font style specified: "' + s + '"'), s = ""); |
  |  | 1519 | const n = { |
  |  | 1520 | family: r(t.family, e.family), |
  |  | 1521 | lineHeight: di(r(t.lineHeight, e.lineHeight), i), |
  |  | 1522 | size: i, |
  |  | 1523 | style: s, |
  |  | 1524 | weight: r(t.weight, e.weight), |
  |  | 1525 | string: "" |
  |  | 1526 | }; |
  |  | 1527 | return n.string = xe(n), n |
  |  | 1528 | } |
  |  | 1529 |  |
  |  | 1530 | function bi(t, e, i, n) { |
  |  | 1531 | let o, a, r, l = !0; |
  |  | 1532 | for (o = 0, a = t.length; o < a; ++o) if (r = t[o], void 0 !== r && (void 0 !== e && "function" == typeof r && (r = r(e), l = !1), void 0 !== i && s(r) && (r = r[i % r.length], l = !1), void 0 !== r)) return n && !l && (n.cacheable = !1), r |
  |  | 1533 | } |
  |  | 1534 |  |
  |  | 1535 | function xi(t, e, i) { |
  |  | 1536 | const {min: s, max: n} = t, o = h(e, (n - s) / 2), a = (t, e) => i && 0 === t ? 0 : t + e; |
  |  | 1537 | return {min: a(s, -Math.abs(o)), max: a(n, o)} |
  |  | 1538 | } |
  |  | 1539 |  |
  |  | 1540 | function \_i(t, e) { |
  |  | 1541 | return Object.assign(Object.create(t), e) |
  |  | 1542 | } |
  |  | 1543 |  |
  |  | 1544 | function yi(t, e, i) { |
  |  | 1545 | return t ? function (t, e) { |
  |  | 1546 | return { |
  |  | 1547 | x: i => t + t + e - i, |
  |  | 1548 | setWidth(t) { |
  |  | 1549 | e = t |
  |  | 1550 | }, |
  |  | 1551 | textAlign: t => "center" === t ? t : "right" === t ? "left" : "right", |
  |  | 1552 | xPlus: (t, e) => t - e, |
  |  | 1553 | leftForLtr: (t, e) => t - e |
  |  | 1554 | } |
  |  | 1555 | }(e, i) : { |
  |  | 1556 | x: t => t, setWidth(t) { |
  |  | 1557 | }, textAlign: t => t, xPlus: (t, e) => t + e, leftForLtr: (t, e) => t |
  |  | 1558 | } |
  |  | 1559 | } |
  |  | 1560 |  |
  |  | 1561 | function vi(t, e) { |
  |  | 1562 | let i, s; |
  |  | 1563 | "ltr" !== e && "rtl" !== e || (i = t.canvas.style, s = [i.getPropertyValue("direction"), i.getPropertyPriority("direction")], i.setProperty("direction", e, "important"), t.prevTextDirection = s) |
  |  | 1564 | } |
  |  | 1565 |  |
  |  | 1566 | function wi(t, e) { |
  |  | 1567 | void 0 !== e && (delete t.prevTextDirection, t.canvas.style.setProperty("direction", e[0], e[1])) |
  |  | 1568 | } |
  |  | 1569 |  |
  |  | 1570 | function Mi(t) { |
  |  | 1571 | return "angle" === t ? {between: G, compare: q, normalize: K} : { |
  |  | 1572 | between: Q, |
  |  | 1573 | compare: (t, e) => t - e, |
  |  | 1574 | normalize: t => t |
  |  | 1575 | } |
  |  | 1576 | } |
  |  | 1577 |  |
  |  | 1578 | function ki({start: t, end: e, count: i, loop: s, style: n}) { |
  |  | 1579 | return {start: t % i, end: e % i, loop: s && (e - t + 1) % i == 0, style: n} |
  |  | 1580 | } |
  |  | 1581 |  |
  |  | 1582 | function Si(t, e, i) { |
  |  | 1583 | if (!i) return [t]; |
  |  | 1584 | const {property: s, start: n, end: o} = i, a = e.length, { |
  |  | 1585 | compare: r, |
  |  | 1586 | between: l, |
  |  | 1587 | normalize: h |
  |  | 1588 | } = Mi(s), {start: c, end: d, loop: u, style: f} = function (t, e, i) { |
  |  | 1589 | const {property: s, start: n, end: o} = i, {between: a, normalize: r} = Mi(s), l = e.length; |
  |  | 1590 | let h, c, {start: d, end: u, loop: f} = t; |
  |  | 1591 | if (f) { |
  |  | 1592 | for (d += l, u += l, h = 0, c = l; h < c && a(r(e[d % l][s]), n, o); ++h) d--, u--; |
  |  | 1593 | d %= l, u %= l |
  |  | 1594 | } |
  |  | 1595 | return u < d && (u += l), {start: d, end: u, loop: f, style: t.style} |
  |  | 1596 | }(t, e, i), g = []; |
  |  | 1597 | let p, m, b, x = !1, \_ = null; |
  |  | 1598 | const y = () => x || l(n, b, p) && 0 !== r(n, b), v = () => !x || 0 === r(o, p) || l(o, b, p); |
  |  | 1599 | for (let t = c, i = c; t <= d; ++t) m = e[t % a], m.skip || (p = h(m[s]), p !== b && (x = l(p, n, o), null === \_ && y() && (\_ = 0 === r(p, n) ? t : i), null !== \_ && v() && (g.push(ki({ |
  |  | 1600 | start: \_, |
  |  | 1601 | end: t, |
  |  | 1602 | loop: u, |
  |  | 1603 | count: a, |
  |  | 1604 | style: f |
  |  | 1605 | })), \_ = null), i = t, b = p)); |
  |  | 1606 | return null !== \_ && g.push(ki({start: \_, end: d, loop: u, count: a, style: f})), g |
  |  | 1607 | } |
  |  | 1608 |  |
  |  | 1609 | function Pi(t, e) { |
  |  | 1610 | const i = [], s = t.segments; |
  |  | 1611 | for (let n = 0; n < s.length; n++) { |
  |  | 1612 | const o = Si(s[n], t.points, e); |
  |  | 1613 | o.length && i.push(...o) |
  |  | 1614 | } |
  |  | 1615 | return i |
  |  | 1616 | } |
  |  | 1617 |  |
  |  | 1618 | function Di(t, e) { |
  |  | 1619 | const i = t.points, s = t.options.spanGaps, n = i.length; |
  |  | 1620 | if (!n) return []; |
  |  | 1621 | const o = !!t.\_loop, {start: a, end: r} = function (t, e, i, s) { |
  |  | 1622 | let n = 0, o = e - 1; |
  |  | 1623 | if (i && !s) for (; n < e && !t[n].skip;) n++; |
  |  | 1624 | for (; n < e && t[n].skip;) n++; |
  |  | 1625 | for (n %= e, i && (o += n); o > n && t[o % e].skip;) o--; |
  |  | 1626 | return o %= e, {start: n, end: o} |
  |  | 1627 | }(i, n, o, s); |
  |  | 1628 | if (!0 === s) return Oi(t, [{start: a, end: r, loop: o}], i, e); |
  |  | 1629 | return Oi(t, function (t, e, i, s) { |
  |  | 1630 | const n = t.length, o = []; |
  |  | 1631 | let a, r = e, l = t[e]; |
  |  | 1632 | for (a = e + 1; a <= i; ++a) { |
  |  | 1633 | const i = t[a % n]; |
  |  | 1634 | i.skip || i.stop ? l.skip || (s = !1, o.push({ |
  |  | 1635 | start: e % n, |
  |  | 1636 | end: (a - 1) % n, |
  |  | 1637 | loop: s |
  |  | 1638 | }), e = r = i.stop ? a : null) : (r = a, l.skip && (e = a)), l = i |
  |  | 1639 | } |
  |  | 1640 | return null !== r && o.push({start: e % n, end: r % n, loop: s}), o |
  |  | 1641 | }(i, a, r < a ? r + n : r, !!t.\_fullLoop && 0 === a && r === n - 1), i, e) |
  |  | 1642 | } |
  |  | 1643 |  |
  |  | 1644 | function Oi(t, e, i, s) { |
  |  | 1645 | return s && s.setContext && i ? function (t, e, i, s) { |
  |  | 1646 | const n = t.\_chart.getContext(), o = Ci(t.options), {\_datasetIndex: a, options: {spanGaps: r}} = t, |
  |  | 1647 | l = i.length, h = []; |
  |  | 1648 | let c = o, d = e[0].start, u = d; |
  |  | 1649 |  |
  |  | 1650 | function f(t, e, s, n) { |
  |  | 1651 | const o = r ? -1 : 1; |
  |  | 1652 | if (t !== e) { |
  |  | 1653 | for (t += l; i[t % l].skip;) t -= o; |
  |  | 1654 | for (; i[e % l].skip;) e += o; |
  |  | 1655 | t % l != e % l && (h.push({start: t % l, end: e % l, loop: s, style: n}), c = n, d = e % l) |
  |  | 1656 | } |
  |  | 1657 | } |
  |  | 1658 |  |
  |  | 1659 | for (const t of e) { |
  |  | 1660 | d = r ? d : t.start; |
  |  | 1661 | let e, o = i[d % l]; |
  |  | 1662 | for (u = d + 1; u <= t.end; u++) { |
  |  | 1663 | const r = i[u % l]; |
  |  | 1664 | e = Ci(s.setContext(\_i(n, { |
  |  | 1665 | type: "segment", |
  |  | 1666 | p0: o, |
  |  | 1667 | p1: r, |
  |  | 1668 | p0DataIndex: (u - 1) % l, |
  |  | 1669 | p1DataIndex: u % l, |
  |  | 1670 | datasetIndex: a |
  |  | 1671 | }))), Ai(e, c) && f(d, u - 1, t.loop, c), o = r, c = e |
  |  | 1672 | } |
  |  | 1673 | d < u - 1 && f(d, u - 1, t.loop, c) |
  |  | 1674 | } |
  |  | 1675 | return h |
  |  | 1676 | }(t, e, i, s) : e |
  |  | 1677 | } |
  |  | 1678 |  |
  |  | 1679 | function Ci(t) { |
  |  | 1680 | return { |
  |  | 1681 | backgroundColor: t.backgroundColor, |
  |  | 1682 | borderCapStyle: t.borderCapStyle, |
  |  | 1683 | borderDash: t.borderDash, |
  |  | 1684 | borderDashOffset: t.borderDashOffset, |
  |  | 1685 | borderJoinStyle: t.borderJoinStyle, |
  |  | 1686 | borderWidth: t.borderWidth, |
  |  | 1687 | borderColor: t.borderColor |
  |  | 1688 | } |
  |  | 1689 | } |
  |  | 1690 |  |
  |  | 1691 | function Ai(t, e) { |
  |  | 1692 | return e && JSON.stringify(t) !== JSON.stringify(e) |
  |  | 1693 | } |
  |  | 1694 |  |
  |  | 1695 | var Ti = Object.freeze({ |
  |  | 1696 | \_\_proto\_\_: null, |
  |  | 1697 | easingEffects: si, |
  |  | 1698 | isPatternOrGradient: Zt, |
  |  | 1699 | color: Jt, |
  |  | 1700 | getHoverColor: Qt, |
  |  | 1701 | noop: t, |
  |  | 1702 | uid: e, |
  |  | 1703 | isNullOrUndef: i, |
  |  | 1704 | isArray: s, |
  |  | 1705 | isObject: n, |
  |  | 1706 | isFinite: o, |
  |  | 1707 | finiteOrDefault: a, |
  |  | 1708 | valueOrDefault: r, |
  |  | 1709 | toPercentage: l, |
  |  | 1710 | toDimension: h, |
  |  | 1711 | callback: c, |
  |  | 1712 | each: d, |
  |  | 1713 | \_elementsEqual: u, |
  |  | 1714 | clone: f, |
  |  | 1715 | \_merger: p, |
  |  | 1716 | merge: m, |
  |  | 1717 | mergeIf: b, |
  |  | 1718 | \_mergerIf: x, |
  |  | 1719 | \_deprecated: function (t, e, i, s) { |
  |  | 1720 | void 0 !== e && console.warn(t + ': "' + i + '" is deprecated. Please use "' + s + '" instead') |
  |  | 1721 | }, |
  |  | 1722 | resolveObjectKey: y, |
  |  | 1723 | \_splitKey: v, |
  |  | 1724 | \_capitalize: w, |
  |  | 1725 | defined: M, |
  |  | 1726 | isFunction: k, |
  |  | 1727 | setsEqual: S, |
  |  | 1728 | \_isClickEvent: P, |
  |  | 1729 | toFontString: xe, |
  |  | 1730 | \_measureText: \_e, |
  |  | 1731 | \_longestText: ye, |
  |  | 1732 | \_alignPixel: ve, |
  |  | 1733 | clearCanvas: we, |
  |  | 1734 | drawPoint: Me, |
  |  | 1735 | drawPointLegend: ke, |
  |  | 1736 | \_isPointInArea: Se, |
  |  | 1737 | clipArea: Pe, |
  |  | 1738 | unclipArea: De, |
  |  | 1739 | \_steppedLineTo: Oe, |
  |  | 1740 | \_bezierCurveTo: Ce, |
  |  | 1741 | renderText: Ae, |
  |  | 1742 | addRoundedRectPath: Le, |
  |  | 1743 | \_lookup: tt, |
  |  | 1744 | \_lookupByKey: et, |
  |  | 1745 | \_rlookupByKey: it, |
  |  | 1746 | \_filterBetween: st, |
  |  | 1747 | listenArrayEvents: ot, |
  |  | 1748 | unlistenArrayEvents: at, |
  |  | 1749 | \_arrayUnique: rt, |
  |  | 1750 | \_createResolver: Ee, |
  |  | 1751 | \_attachContext: Re, |
  |  | 1752 | \_descriptors: Ie, |
  |  | 1753 | \_parseObjectDataRadialScale: Ue, |
  |  | 1754 | splineCurve: Ge, |
  |  | 1755 | splineCurveMonotone: Ze, |
  |  | 1756 | \_updateBezierControlPoints: Qe, |
  |  | 1757 | \_isDomSupported: oe, |
  |  | 1758 | \_getParentNode: ae, |
  |  | 1759 | getStyle: he, |
  |  | 1760 | getRelativePosition: ue, |
  |  | 1761 | getMaximumSize: ge, |
  |  | 1762 | retinaScale: pe, |
  |  | 1763 | supportsEventListenerOptions: me, |
  |  | 1764 | readUsedSize: be, |
  |  | 1765 | fontString: function (t, e, i) { |
  |  | 1766 | return e + " " + t + "px " + i |
  |  | 1767 | }, |
  |  | 1768 | requestAnimFrame: lt, |
  |  | 1769 | throttled: ht, |
  |  | 1770 | debounce: ct, |
  |  | 1771 | \_toLeftRightCenter: dt, |
  |  | 1772 | \_alignStartEnd: ut, |
  |  | 1773 | \_textX: ft, |
  |  | 1774 | \_getStartAndCountOfVisiblePoints: gt, |
  |  | 1775 | \_scaleRangesChanged: pt, |
  |  | 1776 | \_pointInLine: ni, |
  |  | 1777 | \_steppedInterpolation: oi, |
  |  | 1778 | \_bezierInterpolation: ai, |
  |  | 1779 | formatNumber: li, |
  |  | 1780 | toLineHeight: di, |
  |  | 1781 | \_readValueToProps: ui, |
  |  | 1782 | toTRBL: fi, |
  |  | 1783 | toTRBLCorners: gi, |
  |  | 1784 | toPadding: pi, |
  |  | 1785 | toFont: mi, |
  |  | 1786 | resolve: bi, |
  |  | 1787 | \_addGrace: xi, |
  |  | 1788 | createContext: \_i, |
  |  | 1789 | PI: D, |
  |  | 1790 | TAU: O, |
  |  | 1791 | PITAU: C, |
  |  | 1792 | INFINITY: A, |
  |  | 1793 | RAD\_PER\_DEG: T, |
  |  | 1794 | HALF\_PI: L, |
  |  | 1795 | QUARTER\_PI: E, |
  |  | 1796 | TWO\_THIRDS\_PI: R, |
  |  | 1797 | log10: I, |
  |  | 1798 | sign: z, |
  |  | 1799 | niceNum: F, |
  |  | 1800 | \_factorize: V, |
  |  | 1801 | isNumber: B, |
  |  | 1802 | almostEquals: N, |
  |  | 1803 | almostWhole: W, |
  |  | 1804 | \_setMinAndMaxByKey: j, |
  |  | 1805 | toRadians: H, |
  |  | 1806 | toDegrees: $, |
  |  | 1807 | \_decimalPlaces: Y, |
  |  | 1808 | getAngleFromPoint: U, |
  |  | 1809 | distanceBetweenPoints: X, |
  |  | 1810 | \_angleDiff: q, |
  |  | 1811 | \_normalizeAngle: K, |
  |  | 1812 | \_angleBetween: G, |
  |  | 1813 | \_limitValue: Z, |
  |  | 1814 | \_int16Range: J, |
  |  | 1815 | \_isBetween: Q, |
  |  | 1816 | getRtlAdapter: yi, |
  |  | 1817 | overrideTextDirection: vi, |
  |  | 1818 | restoreTextDirection: wi, |
  |  | 1819 | \_boundSegment: Si, |
  |  | 1820 | \_boundSegments: Pi, |
  |  | 1821 | \_computeSegments: Di |
  |  | 1822 | }); |
  |  | 1823 |  |
  |  | 1824 | function Li(t, e, i, s) { |
  |  | 1825 | const {controller: n, data: o, \_sorted: a} = t, r = n.\_cachedMeta.iScale; |
  |  | 1826 | if (r && e === r.axis && "r" !== e && a && o.length) { |
  |  | 1827 | const t = r.\_reversePixels ? it : et; |
  |  | 1828 | if (!s) return t(o, e, i); |
  |  | 1829 | if (n.\_sharedOptions) { |
  |  | 1830 | const s = o[0], n = "function" == typeof s.getRange && s.getRange(e); |
  |  | 1831 | if (n) { |
  |  | 1832 | const s = t(o, e, i - n), a = t(o, e, i + n); |
  |  | 1833 | return {lo: s.lo, hi: a.hi} |
  |  | 1834 | } |
  |  | 1835 | } |
  |  | 1836 | } |
  |  | 1837 | return {lo: 0, hi: o.length - 1} |
  |  | 1838 | } |
  |  | 1839 |  |
  |  | 1840 | function Ei(t, e, i, s, n) { |
  |  | 1841 | const o = t.getSortedVisibleDatasetMetas(), a = i[e]; |
  |  | 1842 | for (let t = 0, i = o.length; t < i; ++t) { |
  |  | 1843 | const {index: i, data: r} = o[t], {lo: l, hi: h} = Li(o[t], e, a, n); |
  |  | 1844 | for (let t = l; t <= h; ++t) { |
  |  | 1845 | const e = r[t]; |
  |  | 1846 | e.skip || s(e, i, t) |
  |  | 1847 | } |
  |  | 1848 | } |
  |  | 1849 | } |
  |  | 1850 |  |
  |  | 1851 | function Ri(t, e, i, s, n) { |
  |  | 1852 | const o = []; |
  |  | 1853 | if (!n && !t.isPointInArea(e)) return o; |
  |  | 1854 | return Ei(t, i, e, function (i, a, r) { |
  |  | 1855 | (n || Se(i, t.chartArea, 0)) && i.inRange(e.x, e.y, s) && o.push({element: i, datasetIndex: a, index: r}) |
  |  | 1856 | }, !0), o |
  |  | 1857 | } |
  |  | 1858 |  |
  |  | 1859 | function Ii(t, e, i, s, n, o) { |
  |  | 1860 | let a = []; |
  |  | 1861 | const r = function (t) { |
  |  | 1862 | const e = -1 !== t.indexOf("x"), i = -1 !== t.indexOf("y"); |
  |  | 1863 | return function (t, s) { |
  |  | 1864 | const n = e ? Math.abs(t.x - s.x) : 0, o = i ? Math.abs(t.y - s.y) : 0; |
  |  | 1865 | return Math.sqrt(Math.pow(n, 2) + Math.pow(o, 2)) |
  |  | 1866 | } |
  |  | 1867 | }(i); |
  |  | 1868 | let l = Number.POSITIVE\_INFINITY; |
  |  | 1869 | return Ei(t, i, e, function (i, h, c) { |
  |  | 1870 | const d = i.inRange(e.x, e.y, n); |
  |  | 1871 | if (s && !d) return; |
  |  | 1872 | const u = i.getCenterPoint(n); |
  |  | 1873 | if (!(!!o || t.isPointInArea(u)) && !d) return; |
  |  | 1874 | const f = r(e, u); |
  |  | 1875 | f < l ? (a = [{element: i, datasetIndex: h, index: c}], l = f) : f === l && a.push({ |
  |  | 1876 | element: i, |
  |  | 1877 | datasetIndex: h, |
  |  | 1878 | index: c |
  |  | 1879 | }) |
  |  | 1880 | }), a |
  |  | 1881 | } |
  |  | 1882 |  |
  |  | 1883 | function zi(t, e, i, s, n, o) { |
  |  | 1884 | return o || t.isPointInArea(e) ? "r" !== i || s ? Ii(t, e, i, s, n, o) : function (t, e, i, s) { |
  |  | 1885 | let n = []; |
  |  | 1886 | return Ei(t, i, e, function (t, i, o) { |
  |  | 1887 | const { |
  |  | 1888 | startAngle: a, |
  |  | 1889 | endAngle: r |
  |  | 1890 | } = t.getProps(["startAngle", "endAngle"], s), {angle: l} = U(t, {x: e.x, y: e.y}); |
  |  | 1891 | G(l, a, r) && n.push({element: t, datasetIndex: i, index: o}) |
  |  | 1892 | }), n |
  |  | 1893 | }(t, e, i, n) : [] |
  |  | 1894 | } |
  |  | 1895 |  |
  |  | 1896 | function Fi(t, e, i, s, n) { |
  |  | 1897 | const o = [], a = "x" === i ? "inXRange" : "inYRange"; |
  |  | 1898 | let r = !1; |
  |  | 1899 | return Ei(t, i, e, (t, s, l) => { |
  |  | 1900 | t[a](e[i], n) && (o.push({element: t, datasetIndex: s, index: l}), r = r || t.inRange(e.x, e.y, n)) |
  |  | 1901 | }), s && !r ? [] : o |
  |  | 1902 | } |
  |  | 1903 |  |
  |  | 1904 | var Vi = { |
  |  | 1905 | evaluateInteractionItems: Ei, modes: { |
  |  | 1906 | index(t, e, i, s) { |
  |  | 1907 | const n = ue(e, t), o = i.axis || "x", a = i.includeInvisible || !1, |
  |  | 1908 | r = i.intersect ? Ri(t, n, o, s, a) : zi(t, n, o, !1, s, a), l = []; |
  |  | 1909 | return r.length ? (t.getSortedVisibleDatasetMetas().forEach(t => { |
  |  | 1910 | const e = r[0].index, i = t.data[e]; |
  |  | 1911 | i && !i.skip && l.push({element: i, datasetIndex: t.index, index: e}) |
  |  | 1912 | }), l) : [] |
  |  | 1913 | }, |
  |  | 1914 | dataset(t, e, i, s) { |
  |  | 1915 | const n = ue(e, t), o = i.axis || "xy", a = i.includeInvisible || !1; |
  |  | 1916 | let r = i.intersect ? Ri(t, n, o, s, a) : zi(t, n, o, !1, s, a); |
  |  | 1917 | if (r.length > 0) { |
  |  | 1918 | const e = r[0].datasetIndex, i = t.getDatasetMeta(e).data; |
  |  | 1919 | r = []; |
  |  | 1920 | for (let t = 0; t < i.length; ++t) r.push({element: i[t], datasetIndex: e, index: t}) |
  |  | 1921 | } |
  |  | 1922 | return r |
  |  | 1923 | }, |
  |  | 1924 | point: (t, e, i, s) => Ri(t, ue(e, t), i.axis || "xy", s, i.includeInvisible || !1), |
  |  | 1925 | nearest(t, e, i, s) { |
  |  | 1926 | const n = ue(e, t), o = i.axis || "xy", a = i.includeInvisible || !1; |
  |  | 1927 | return zi(t, n, o, i.intersect, s, a) |
  |  | 1928 | }, |
  |  | 1929 | x: (t, e, i, s) => Fi(t, ue(e, t), "x", i.intersect, s), |
  |  | 1930 | y: (t, e, i, s) => Fi(t, ue(e, t), "y", i.intersect, s) |
  |  | 1931 | } |
  |  | 1932 | }; |
  |  | 1933 | const Bi = ["left", "top", "right", "bottom"]; |
  |  | 1934 |  |
  |  | 1935 | function Ni(t, e) { |
  |  | 1936 | return t.filter(t => t.pos === e) |
  |  | 1937 | } |
  |  | 1938 |  |
  |  | 1939 | function Wi(t, e) { |
  |  | 1940 | return t.filter(t => -1 === Bi.indexOf(t.pos) && t.box.axis === e) |
  |  | 1941 | } |
  |  | 1942 |  |
  |  | 1943 | function ji(t, e) { |
  |  | 1944 | return t.sort((t, i) => { |
  |  | 1945 | const s = e ? i : t, n = e ? t : i; |
  |  | 1946 | return s.weight === n.weight ? s.index - n.index : s.weight - n.weight |
  |  | 1947 | }) |
  |  | 1948 | } |
  |  | 1949 |  |
  |  | 1950 | function Hi(t, e) { |
  |  | 1951 | const i = function (t) { |
  |  | 1952 | const e = {}; |
  |  | 1953 | for (const i of t) { |
  |  | 1954 | const {stack: t, pos: s, stackWeight: n} = i; |
  |  | 1955 | if (!t || !Bi.includes(s)) continue; |
  |  | 1956 | const o = e[t] || (e[t] = {count: 0, placed: 0, weight: 0, size: 0}); |
  |  | 1957 | o.count++, o.weight += n |
  |  | 1958 | } |
  |  | 1959 | return e |
  |  | 1960 | }(t), {vBoxMaxWidth: s, hBoxMaxHeight: n} = e; |
  |  | 1961 | let o, a, r; |
  |  | 1962 | for (o = 0, a = t.length; o < a; ++o) { |
  |  | 1963 | r = t[o]; |
  |  | 1964 | const {fullSize: a} = r.box, l = i[r.stack], h = l && r.stackWeight / l.weight; |
  |  | 1965 | r.horizontal ? (r.width = h ? h \* s : a && e.availableWidth, r.height = n) : (r.width = s, r.height = h ? h \* n : a && e.availableHeight) |
  |  | 1966 | } |
  |  | 1967 | return i |
  |  | 1968 | } |
  |  | 1969 |  |
  |  | 1970 | function $i(t, e, i, s) { |
  |  | 1971 | return Math.max(t[i], e[i]) + Math.max(t[s], e[s]) |
  |  | 1972 | } |
  |  | 1973 |  |
  |  | 1974 | function Yi(t, e) { |
  |  | 1975 | t.top = Math.max(t.top, e.top), t.left = Math.max(t.left, e.left), t.bottom = Math.max(t.bottom, e.bottom), t.right = Math.max(t.right, e.right) |
  |  | 1976 | } |
  |  | 1977 |  |
  |  | 1978 | function Ui(t, e, i, s) { |
  |  | 1979 | const {pos: o, box: a} = i, r = t.maxPadding; |
  |  | 1980 | if (!n(o)) { |
  |  | 1981 | i.size && (t[o] -= i.size); |
  |  | 1982 | const e = s[i.stack] || {size: 0, count: 1}; |
  |  | 1983 | e.size = Math.max(e.size, i.horizontal ? a.height : a.width), i.size = e.size / e.count, t[o] += i.size |
  |  | 1984 | } |
  |  | 1985 | a.getPadding && Yi(r, a.getPadding()); |
  |  | 1986 | const l = Math.max(0, e.outerWidth - $i(r, t, "left", "right")), |
  |  | 1987 | h = Math.max(0, e.outerHeight - $i(r, t, "top", "bottom")), c = l !== t.w, d = h !== t.h; |
  |  | 1988 | return t.w = l, t.h = h, i.horizontal ? {same: c, other: d} : {same: d, other: c} |
  |  | 1989 | } |
  |  | 1990 |  |
  |  | 1991 | function Xi(t, e) { |
  |  | 1992 | const i = e.maxPadding; |
  |  | 1993 |  |
  |  | 1994 | function s(t) { |
  |  | 1995 | const s = {left: 0, top: 0, right: 0, bottom: 0}; |
  |  | 1996 | return t.forEach(t => { |
  |  | 1997 | s[t] = Math.max(e[t], i[t]) |
  |  | 1998 | }), s |
  |  | 1999 | } |
  |  | 2000 |  |
  |  | 2001 | return s(t ? ["left", "right"] : ["top", "bottom"]) |
  |  | 2002 | } |
  |  | 2003 |  |
  |  | 2004 | function qi(t, e, i, s) { |
  |  | 2005 | const n = []; |
  |  | 2006 | let o, a, r, l, h, c; |
  |  | 2007 | for (o = 0, a = t.length, h = 0; o < a; ++o) { |
  |  | 2008 | r = t[o], l = r.box, l.update(r.width || e.w, r.height || e.h, Xi(r.horizontal, e)); |
  |  | 2009 | const {same: a, other: d} = Ui(e, i, r, s); |
  |  | 2010 | h |= a && n.length, c = c || d, l.fullSize || n.push(r) |
  |  | 2011 | } |
  |  | 2012 | return h && qi(n, e, i, s) || c |
  |  | 2013 | } |
  |  | 2014 |  |
  |  | 2015 | function Ki(t, e, i, s, n) { |
  |  | 2016 | t.top = i, t.left = e, t.right = e + s, t.bottom = i + n, t.width = s, t.height = n |
  |  | 2017 | } |
  |  | 2018 |  |
  |  | 2019 | function Gi(t, e, i, s) { |
  |  | 2020 | const n = i.padding; |
  |  | 2021 | let {x: o, y: a} = e; |
  |  | 2022 | for (const r of t) { |
  |  | 2023 | const t = r.box, l = s[r.stack] || {count: 1, placed: 0, weight: 1}, h = r.stackWeight / l.weight || 1; |
  |  | 2024 | if (r.horizontal) { |
  |  | 2025 | const s = e.w \* h, o = l.size || t.height; |
  |  | 2026 | M(l.start) && (a = l.start), t.fullSize ? Ki(t, n.left, a, i.outerWidth - n.right - n.left, o) : Ki(t, e.left + l.placed, a, s, o), l.start = a, l.placed += s, a = t.bottom |
  |  | 2027 | } else { |
  |  | 2028 | const s = e.h \* h, a = l.size || t.width; |
  |  | 2029 | M(l.start) && (o = l.start), t.fullSize ? Ki(t, o, n.top, a, i.outerHeight - n.bottom - n.top) : Ki(t, o, e.top + l.placed, a, s), l.start = o, l.placed += s, o = t.right |
  |  | 2030 | } |
  |  | 2031 | } |
  |  | 2032 | e.x = o, e.y = a |
  |  | 2033 | } |
  |  | 2034 |  |
  |  | 2035 | ne.set("layout", {autoPadding: !0, padding: {top: 0, right: 0, bottom: 0, left: 0}}); |
  |  | 2036 | var Zi = { |
  |  | 2037 | addBox(t, e) { |
  |  | 2038 | t.boxes || (t.boxes = []), e.fullSize = e.fullSize || !1, e.position = e.position || "top", e.weight = e.weight || 0, e.\_layers = e.\_layers || function () { |
  |  | 2039 | return [{ |
  |  | 2040 | z: 0, draw(t) { |
  |  | 2041 | e.draw(t) |
  |  | 2042 | } |
  |  | 2043 | }] |
  |  | 2044 | }, t.boxes.push(e) |
  |  | 2045 | }, removeBox(t, e) { |
  |  | 2046 | const i = t.boxes ? t.boxes.indexOf(e) : -1; |
  |  | 2047 | -1 !== i && t.boxes.splice(i, 1) |
  |  | 2048 | }, configure(t, e, i) { |
  |  | 2049 | e.fullSize = i.fullSize, e.position = i.position, e.weight = i.weight |
  |  | 2050 | }, update(t, e, i, s) { |
  |  | 2051 | if (!t) return; |
  |  | 2052 | const n = pi(t.options.layout.padding), o = Math.max(e - n.width, 0), a = Math.max(i - n.height, 0), |
  |  | 2053 | r = function (t) { |
  |  | 2054 | const e = function (t) { |
  |  | 2055 | const e = []; |
  |  | 2056 | let i, s, n, o, a, r; |
  |  | 2057 | for (i = 0, s = (t || []).length; i < s; ++i) n = t[i], { |
  |  | 2058 | position: o, |
  |  | 2059 | options: {stack: a, stackWeight: r = 1} |
  |  | 2060 | } = n, e.push({ |
  |  | 2061 | index: i, |
  |  | 2062 | box: n, |
  |  | 2063 | pos: o, |
  |  | 2064 | horizontal: n.isHorizontal(), |
  |  | 2065 | weight: n.weight, |
  |  | 2066 | stack: a && o + a, |
  |  | 2067 | stackWeight: r |
  |  | 2068 | }); |
  |  | 2069 | return e |
  |  | 2070 | }(t), i = ji(e.filter(t => t.box.fullSize), !0), s = ji(Ni(e, "left"), !0), n = ji(Ni(e, "right")), |
  |  | 2071 | o = ji(Ni(e, "top"), !0), a = ji(Ni(e, "bottom")), r = Wi(e, "x"), l = Wi(e, "y"); |
  |  | 2072 | return { |
  |  | 2073 | fullSize: i, |
  |  | 2074 | leftAndTop: s.concat(o), |
  |  | 2075 | rightAndBottom: n.concat(l).concat(a).concat(r), |
  |  | 2076 | chartArea: Ni(e, "chartArea"), |
  |  | 2077 | vertical: s.concat(n).concat(l), |
  |  | 2078 | horizontal: o.concat(a).concat(r) |
  |  | 2079 | } |
  |  | 2080 | }(t.boxes), l = r.vertical, h = r.horizontal; |
  |  | 2081 | d(t.boxes, t => { |
  |  | 2082 | "function" == typeof t.beforeLayout && t.beforeLayout() |
  |  | 2083 | }); |
  |  | 2084 | const c = l.reduce((t, e) => e.box.options && !1 === e.box.options.display ? t : t + 1, 0) || 1, |
  |  | 2085 | u = Object.freeze({ |
  |  | 2086 | outerWidth: e, |
  |  | 2087 | outerHeight: i, |
  |  | 2088 | padding: n, |
  |  | 2089 | availableWidth: o, |
  |  | 2090 | availableHeight: a, |
  |  | 2091 | vBoxMaxWidth: o / 2 / c, |
  |  | 2092 | hBoxMaxHeight: a / 2 |
  |  | 2093 | }), f = Object.assign({}, n); |
  |  | 2094 | Yi(f, pi(s)); |
  |  | 2095 | const g = Object.assign({maxPadding: f, w: o, h: a, x: n.left, y: n.top}, n), p = Hi(l.concat(h), u); |
  |  | 2096 | qi(r.fullSize, g, u, p), qi(l, g, u, p), qi(h, g, u, p) && qi(l, g, u, p), function (t) { |
  |  | 2097 | const e = t.maxPadding; |
  |  | 2098 |  |
  |  | 2099 | function i(i) { |
  |  | 2100 | const s = Math.max(e[i] - t[i], 0); |
  |  | 2101 | return t[i] += s, s |
  |  | 2102 | } |
  |  | 2103 |  |
  |  | 2104 | t.y += i("top"), t.x += i("left"), i("right"), i("bottom") |
  |  | 2105 | }(g), Gi(r.leftAndTop, g, u, p), g.x += g.w, g.y += g.h, Gi(r.rightAndBottom, g, u, p), t.chartArea = { |
  |  | 2106 | left: g.left, |
  |  | 2107 | top: g.top, |
  |  | 2108 | right: g.left + g.w, |
  |  | 2109 | bottom: g.top + g.h, |
  |  | 2110 | height: g.h, |
  |  | 2111 | width: g.w |
  |  | 2112 | }, d(r.chartArea, e => { |
  |  | 2113 | const i = e.box; |
  |  | 2114 | Object.assign(i, t.chartArea), i.update(g.w, g.h, {left: 0, top: 0, right: 0, bottom: 0}) |
  |  | 2115 | }) |
  |  | 2116 | } |
  |  | 2117 | }; |
  |  | 2118 |  |
  |  | 2119 | class Ji { |
  |  | 2120 | acquireContext(t, e) { |
  |  | 2121 | } |
  |  | 2122 |  |
  |  | 2123 | releaseContext(t) { |
  |  | 2124 | return !1 |
  |  | 2125 | } |
  |  | 2126 |  |
  |  | 2127 | addEventListener(t, e, i) { |
  |  | 2128 | } |
  |  | 2129 |  |
  |  | 2130 | removeEventListener(t, e, i) { |
  |  | 2131 | } |
  |  | 2132 |  |
  |  | 2133 | getDevicePixelRatio() { |
  |  | 2134 | return 1 |
  |  | 2135 | } |
  |  | 2136 |  |
  |  | 2137 | getMaximumSize(t, e, i, s) { |
  |  | 2138 | return e = Math.max(0, e || t.width), i = i || t.height, { |
  |  | 2139 | width: e, |
  |  | 2140 | height: Math.max(0, s ? Math.floor(e / s) : i) |
  |  | 2141 | } |
  |  | 2142 | } |
  |  | 2143 |  |
  |  | 2144 | isAttached(t) { |
  |  | 2145 | return !0 |
  |  | 2146 | } |
  |  | 2147 |  |
  |  | 2148 | updateConfig(t) { |
  |  | 2149 | } |
  |  | 2150 | } |
  |  | 2151 |  |
  |  | 2152 | class Qi extends Ji { |
  |  | 2153 | acquireContext(t) { |
  |  | 2154 | return t && t.getContext && t.getContext("2d") || null |
  |  | 2155 | } |
  |  | 2156 |  |
  |  | 2157 | updateConfig(t) { |
  |  | 2158 | t.options.animation = !1 |
  |  | 2159 | } |
  |  | 2160 | } |
  |  | 2161 |  |
  |  | 2162 | const ts = { |
  |  | 2163 | touchstart: "mousedown", |
  |  | 2164 | touchmove: "mousemove", |
  |  | 2165 | touchend: "mouseup", |
  |  | 2166 | pointerenter: "mouseenter", |
  |  | 2167 | pointerdown: "mousedown", |
  |  | 2168 | pointermove: "mousemove", |
  |  | 2169 | pointerup: "mouseup", |
  |  | 2170 | pointerleave: "mouseout", |
  |  | 2171 | pointerout: "mouseout" |
  |  | 2172 | }, es = t => null === t || "" === t; |
  |  | 2173 | const is = !!me && {passive: !0}; |
  |  | 2174 |  |
  |  | 2175 | function ss(t, e, i) { |
  |  | 2176 | t.canvas.removeEventListener(e, i, is) |
  |  | 2177 | } |
  |  | 2178 |  |
  |  | 2179 | function ns(t, e) { |
  |  | 2180 | for (const i of t) if (i === e || i.contains(e)) return !0 |
  |  | 2181 | } |
  |  | 2182 |  |
  |  | 2183 | function os(t, e, i) { |
  |  | 2184 | const s = t.canvas, n = new MutationObserver(t => { |
  |  | 2185 | let e = !1; |
  |  | 2186 | for (const i of t) e = e || ns(i.addedNodes, s), e = e && !ns(i.removedNodes, s); |
  |  | 2187 | e && i() |
  |  | 2188 | }); |
  |  | 2189 | return n.observe(document, {childList: !0, subtree: !0}), n |
  |  | 2190 | } |
  |  | 2191 |  |
  |  | 2192 | function as(t, e, i) { |
  |  | 2193 | const s = t.canvas, n = new MutationObserver(t => { |
  |  | 2194 | let e = !1; |
  |  | 2195 | for (const i of t) e = e || ns(i.removedNodes, s), e = e && !ns(i.addedNodes, s); |
  |  | 2196 | e && i() |
  |  | 2197 | }); |
  |  | 2198 | return n.observe(document, {childList: !0, subtree: !0}), n |
  |  | 2199 | } |
  |  | 2200 |  |
  |  | 2201 | const rs = new Map; |
  |  | 2202 | let ls = 0; |
  |  | 2203 |  |
  |  | 2204 | function hs() { |
  |  | 2205 | const t = window.devicePixelRatio; |
  |  | 2206 | t !== ls && (ls = t, rs.forEach((e, i) => { |
  |  | 2207 | i.currentDevicePixelRatio !== t && e() |
  |  | 2208 | })) |
  |  | 2209 | } |
  |  | 2210 |  |
  |  | 2211 | function cs(t, e, i) { |
  |  | 2212 | const s = t.canvas, n = s && ae(s); |
  |  | 2213 | if (!n) return; |
  |  | 2214 | const o = ht((t, e) => { |
  |  | 2215 | const s = n.clientWidth; |
  |  | 2216 | i(t, e), s < n.clientWidth && i() |
  |  | 2217 | }, window), a = new ResizeObserver(t => { |
  |  | 2218 | const e = t[0], i = e.contentRect.width, s = e.contentRect.height; |
  |  | 2219 | 0 === i && 0 === s || o(i, s) |
  |  | 2220 | }); |
  |  | 2221 | return a.observe(n), function (t, e) { |
  |  | 2222 | rs.size || window.addEventListener("resize", hs), rs.set(t, e) |
  |  | 2223 | }(t, o), a |
  |  | 2224 | } |
  |  | 2225 |  |
  |  | 2226 | function ds(t, e, i) { |
  |  | 2227 | i && i.disconnect(), "resize" === e && function (t) { |
  |  | 2228 | rs.delete(t), rs.size || window.removeEventListener("resize", hs) |
  |  | 2229 | }(t) |
  |  | 2230 | } |
  |  | 2231 |  |
  |  | 2232 | function us(t, e, i) { |
  |  | 2233 | const s = t.canvas, n = ht(e => { |
  |  | 2234 | null !== t.ctx && i(function (t, e) { |
  |  | 2235 | const i = ts[t.type] || t.type, {x: s, y: n} = ue(t, e); |
  |  | 2236 | return {type: i, chart: e, native: t, x: void 0 !== s ? s : null, y: void 0 !== n ? n : null} |
  |  | 2237 | }(e, t)) |
  |  | 2238 | }, t, t => { |
  |  | 2239 | const e = t[0]; |
  |  | 2240 | return [e, e.offsetX, e.offsetY] |
  |  | 2241 | }); |
  |  | 2242 | return function (t, e, i) { |
  |  | 2243 | t.addEventListener(e, i, is) |
  |  | 2244 | }(s, e, n), n |
  |  | 2245 | } |
  |  | 2246 |  |
  |  | 2247 | class fs extends Ji { |
  |  | 2248 | acquireContext(t, e) { |
  |  | 2249 | const i = t && t.getContext && t.getContext("2d"); |
  |  | 2250 | return i && i.canvas === t ? (function (t, e) { |
  |  | 2251 | const i = t.style, s = t.getAttribute("height"), n = t.getAttribute("width"); |
  |  | 2252 | if (t.$chartjs = { |
  |  | 2253 | initial: { |
  |  | 2254 | height: s, |
  |  | 2255 | width: n, |
  |  | 2256 | style: {display: i.display, height: i.height, width: i.width} |
  |  | 2257 | } |
  |  | 2258 | }, i.display = i.display || "block", i.boxSizing = i.boxSizing || "border-box", es(n)) { |
  |  | 2259 | const e = be(t, "width"); |
  |  | 2260 | void 0 !== e && (t.width = e) |
  |  | 2261 | } |
  |  | 2262 | if (es(s)) if ("" === t.style.height) t.height = t.width / (e || 2); else { |
  |  | 2263 | const e = be(t, "height"); |
  |  | 2264 | void 0 !== e && (t.height = e) |
  |  | 2265 | } |
  |  | 2266 | }(t, e), i) : null |
  |  | 2267 | } |
  |  | 2268 |  |
  |  | 2269 | releaseContext(t) { |
  |  | 2270 | const e = t.canvas; |
  |  | 2271 | if (!e.$chartjs) return !1; |
  |  | 2272 | const s = e.$chartjs.initial; |
  |  | 2273 | ["height", "width"].forEach(t => { |
  |  | 2274 | const n = s[t]; |
  |  | 2275 | i(n) ? e.removeAttribute(t) : e.setAttribute(t, n) |
  |  | 2276 | }); |
  |  | 2277 | const n = s.style || {}; |
  |  | 2278 | return Object.keys(n).forEach(t => { |
  |  | 2279 | e.style[t] = n[t] |
  |  | 2280 | }), e.width = e.width, delete e.$chartjs, !0 |
  |  | 2281 | } |
  |  | 2282 |  |
  |  | 2283 | addEventListener(t, e, i) { |
  |  | 2284 | this.removeEventListener(t, e); |
  |  | 2285 | const s = t.$proxies || (t.$proxies = {}), n = {attach: os, detach: as, resize: cs}[e] || us; |
  |  | 2286 | s[e] = n(t, e, i) |
  |  | 2287 | } |
  |  | 2288 |  |
  |  | 2289 | removeEventListener(t, e) { |
  |  | 2290 | const i = t.$proxies || (t.$proxies = {}), s = i[e]; |
  |  | 2291 | if (!s) return; |
  |  | 2292 | ({attach: ds, detach: ds, resize: ds}[e] || ss)(t, e, s), i[e] = void 0 |
  |  | 2293 | } |
  |  | 2294 |  |
  |  | 2295 | getDevicePixelRatio() { |
  |  | 2296 | return window.devicePixelRatio |
  |  | 2297 | } |
  |  | 2298 |  |
  |  | 2299 | getMaximumSize(t, e, i, s) { |
  |  | 2300 | return ge(t, e, i, s) |
  |  | 2301 | } |
  |  | 2302 |  |
  |  | 2303 | isAttached(t) { |
  |  | 2304 | const e = ae(t); |
  |  | 2305 | return !(!e || !e.isConnected) |
  |  | 2306 | } |
  |  | 2307 | } |
  |  | 2308 |  |
  |  | 2309 | function gs(t) { |
  |  | 2310 | return !oe() || "undefined" != typeof OffscreenCanvas && t instanceof OffscreenCanvas ? Qi : fs |
  |  | 2311 | } |
  |  | 2312 |  |
  |  | 2313 | var ps = Object.freeze({ |
  |  | 2314 | \_\_proto\_\_: null, |
  |  | 2315 | \_detectPlatform: gs, |
  |  | 2316 | BasePlatform: Ji, |
  |  | 2317 | BasicPlatform: Qi, |
  |  | 2318 | DomPlatform: fs |
  |  | 2319 | }); |
  |  | 2320 | const ms = "transparent", bs = { |
  |  | 2321 | boolean: (t, e, i) => i > .5 ? e : t, color(t, e, i) { |
  |  | 2322 | const s = Jt(t || ms), n = s.valid && Jt(e || ms); |
  |  | 2323 | return n && n.valid ? n.mix(s, i).hexString() : e |
  |  | 2324 | }, number: (t, e, i) => t + (e - t) \* i |
  |  | 2325 | }; |
  |  | 2326 |  |
  |  | 2327 | class xs { |
  |  | 2328 | constructor(t, e, i, s) { |
  |  | 2329 | const n = e[i]; |
  |  | 2330 | s = bi([t.to, s, n, t.from]); |
  |  | 2331 | const o = bi([t.from, n, s]); |
  |  | 2332 | this.\_active = !0, this.\_fn = t.fn || bs[t.type || typeof o], this.\_easing = si[t.easing] || si.linear, this.\_start = Math.floor(Date.now() + (t.delay || 0)), this.\_duration = this.\_total = Math.floor(t.duration), this.\_loop = !!t.loop, this.\_target = e, this.\_prop = i, this.\_from = o, this.\_to = s, this.\_promises = void 0 |
  |  | 2333 | } |
  |  | 2334 |  |
  |  | 2335 | active() { |
  |  | 2336 | return this.\_active |
  |  | 2337 | } |
  |  | 2338 |  |
  |  | 2339 | update(t, e, i) { |
  |  | 2340 | if (this.\_active) { |
  |  | 2341 | this.\_notify(!1); |
  |  | 2342 | const s = this.\_target[this.\_prop], n = i - this.\_start, o = this.\_duration - n; |
  |  | 2343 | this.\_start = i, this.\_duration = Math.floor(Math.max(o, t.duration)), this.\_total += n, this.\_loop = !!t.loop, this.\_to = bi([t.to, e, s, t.from]), this.\_from = bi([t.from, s, e]) |
  |  | 2344 | } |
  |  | 2345 | } |
  |  | 2346 |  |
  |  | 2347 | cancel() { |
  |  | 2348 | this.\_active && (this.tick(Date.now()), this.\_active = !1, this.\_notify(!1)) |
  |  | 2349 | } |
  |  | 2350 |  |
  |  | 2351 | tick(t) { |
  |  | 2352 | const e = t - this.\_start, i = this.\_duration, s = this.\_prop, n = this.\_from, o = this.\_loop, a = this.\_to; |
  |  | 2353 | let r; |
  |  | 2354 | if (this.\_active = n !== a && (o || e < i), !this.\_active) return this.\_target[s] = a, void this.\_notify(!0); |
  |  | 2355 | e < 0 ? this.\_target[s] = n : (r = e / i % 2, r = o && r > 1 ? 2 - r : r, r = this.\_easing(Math.min(1, Math.max(0, r))), this.\_target[s] = this.\_fn(n, a, r)) |
  |  | 2356 | } |
  |  | 2357 |  |
  |  | 2358 | wait() { |
  |  | 2359 | const t = this.\_promises || (this.\_promises = []); |
  |  | 2360 | return new Promise((e, i) => { |
  |  | 2361 | t.push({res: e, rej: i}) |
  |  | 2362 | }) |
  |  | 2363 | } |
  |  | 2364 |  |
  |  | 2365 | \_notify(t) { |
  |  | 2366 | const e = t ? "res" : "rej", i = this.\_promises || []; |
  |  | 2367 | for (let t = 0; t < i.length; t++) i[t][e]() |
  |  | 2368 | } |
  |  | 2369 | } |
  |  | 2370 |  |
  |  | 2371 | ne.set("animation", { |
  |  | 2372 | delay: void 0, |
  |  | 2373 | duration: 1e3, |
  |  | 2374 | easing: "easeOutQuart", |
  |  | 2375 | fn: void 0, |
  |  | 2376 | from: void 0, |
  |  | 2377 | loop: void 0, |
  |  | 2378 | to: void 0, |
  |  | 2379 | type: void 0 |
  |  | 2380 | }); |
  |  | 2381 | const \_s = Object.keys(ne.animation); |
  |  | 2382 | ne.describe("animation", { |
  |  | 2383 | \_fallback: !1, |
  |  | 2384 | \_indexable: !1, |
  |  | 2385 | \_scriptable: t => "onProgress" !== t && "onComplete" !== t && "fn" !== t |
  |  | 2386 | }), ne.set("animations", { |
  |  | 2387 | colors: {type: "color", properties: ["color", "borderColor", "backgroundColor"]}, |
  |  | 2388 | numbers: {type: "number", properties: ["x", "y", "borderWidth", "radius", "tension"]} |
  |  | 2389 | }), ne.describe("animations", {\_fallback: "animation"}), ne.set("transitions", { |
  |  | 2390 | active: {animation: {duration: 400}}, |
  |  | 2391 | resize: {animation: {duration: 0}}, |
  |  | 2392 | show: {animations: {colors: {from: "transparent"}, visible: {type: "boolean", duration: 0}}}, |
  |  | 2393 | hide: {animations: {colors: {to: "transparent"}, visible: {type: "boolean", easing: "linear", fn: t => 0 | t}}} |
  |  | 2394 | }); |
  |  | 2395 |  |
  |  | 2396 | class ys { |
  |  | 2397 | constructor(t, e) { |
  |  | 2398 | this.\_chart = t, this.\_properties = new Map, this.configure(e) |
  |  | 2399 | } |
  |  | 2400 |  |
  |  | 2401 | configure(t) { |
  |  | 2402 | if (!n(t)) return; |
  |  | 2403 | const e = this.\_properties; |
  |  | 2404 | Object.getOwnPropertyNames(t).forEach(i => { |
  |  | 2405 | const o = t[i]; |
  |  | 2406 | if (!n(o)) return; |
  |  | 2407 | const a = {}; |
  |  | 2408 | for (const t of \_s) a[t] = o[t]; |
  |  | 2409 | (s(o.properties) && o.properties || [i]).forEach(t => { |
  |  | 2410 | t !== i && e.has(t) || e.set(t, a) |
  |  | 2411 | }) |
  |  | 2412 | }) |
  |  | 2413 | } |
  |  | 2414 |  |
  |  | 2415 | \_animateOptions(t, e) { |
  |  | 2416 | const i = e.options, s = function (t, e) { |
  |  | 2417 | if (!e) return; |
  |  | 2418 | let i = t.options; |
  |  | 2419 | if (!i) return void (t.options = e); |
  |  | 2420 | i.$shared && (t.options = i = Object.assign({}, i, {$shared: !1, $animations: {}})); |
  |  | 2421 | return i |
  |  | 2422 | }(t, i); |
  |  | 2423 | if (!s) return []; |
  |  | 2424 | const n = this.\_createAnimations(s, i); |
  |  | 2425 | return i.$shared && function (t, e) { |
  |  | 2426 | const i = [], s = Object.keys(e); |
  |  | 2427 | for (let e = 0; e < s.length; e++) { |
  |  | 2428 | const n = t[s[e]]; |
  |  | 2429 | n && n.active() && i.push(n.wait()) |
  |  | 2430 | } |
  |  | 2431 | return Promise.all(i) |
  |  | 2432 | }(t.options.$animations, i).then(() => { |
  |  | 2433 | t.options = i |
  |  | 2434 | }, () => { |
  |  | 2435 | }), n |
  |  | 2436 | } |
  |  | 2437 |  |
  |  | 2438 | \_createAnimations(t, e) { |
  |  | 2439 | const i = this.\_properties, s = [], n = t.$animations || (t.$animations = {}), o = Object.keys(e), |
  |  | 2440 | a = Date.now(); |
  |  | 2441 | let r; |
  |  | 2442 | for (r = o.length - 1; r >= 0; --r) { |
  |  | 2443 | const l = o[r]; |
  |  | 2444 | if ("$" === l.charAt(0)) continue; |
  |  | 2445 | if ("options" === l) { |
  |  | 2446 | s.push(...this.\_animateOptions(t, e)); |
  |  | 2447 | continue |
  |  | 2448 | } |
  |  | 2449 | const h = e[l]; |
  |  | 2450 | let c = n[l]; |
  |  | 2451 | const d = i.get(l); |
  |  | 2452 | if (c) { |
  |  | 2453 | if (d && c.active()) { |
  |  | 2454 | c.update(d, h, a); |
  |  | 2455 | continue |
  |  | 2456 | } |
  |  | 2457 | c.cancel() |
  |  | 2458 | } |
  |  | 2459 | d && d.duration ? (n[l] = c = new xs(d, t, l, h), s.push(c)) : t[l] = h |
  |  | 2460 | } |
  |  | 2461 | return s |
  |  | 2462 | } |
  |  | 2463 |  |
  |  | 2464 | update(t, e) { |
  |  | 2465 | if (0 === this.\_properties.size) return void Object.assign(t, e); |
  |  | 2466 | const i = this.\_createAnimations(t, e); |
  |  | 2467 | return i.length ? (mt.add(this.\_chart, i), !0) : void 0 |
  |  | 2468 | } |
  |  | 2469 | } |
  |  | 2470 |  |
  |  | 2471 | function vs(t, e) { |
  |  | 2472 | const i = t && t.options || {}, s = i.reverse, n = void 0 === i.min ? e : 0, o = void 0 === i.max ? e : 0; |
  |  | 2473 | return {start: s ? o : n, end: s ? n : o} |
  |  | 2474 | } |
  |  | 2475 |  |
  |  | 2476 | function ws(t, e) { |
  |  | 2477 | const i = [], s = t.\_getSortedDatasetMetas(e); |
  |  | 2478 | let n, o; |
  |  | 2479 | for (n = 0, o = s.length; n < o; ++n) i.push(s[n].index); |
  |  | 2480 | return i |
  |  | 2481 | } |
  |  | 2482 |  |
  |  | 2483 | function Ms(t, e, i, s = {}) { |
  |  | 2484 | const n = t.keys, a = "single" === s.mode; |
  |  | 2485 | let r, l, h, c; |
  |  | 2486 | if (null !== e) { |
  |  | 2487 | for (r = 0, l = n.length; r < l; ++r) { |
  |  | 2488 | if (h = +n[r], h === i) { |
  |  | 2489 | if (s.all) continue; |
  |  | 2490 | break |
  |  | 2491 | } |
  |  | 2492 | c = t.values[h], o(c) && (a || 0 === e || z(e) === z(c)) && (e += c) |
  |  | 2493 | } |
  |  | 2494 | return e |
  |  | 2495 | } |
  |  | 2496 | } |
  |  | 2497 |  |
  |  | 2498 | function ks(t, e) { |
  |  | 2499 | const i = t && t.options.stacked; |
  |  | 2500 | return i || void 0 === i && void 0 !== e.stack |
  |  | 2501 | } |
  |  | 2502 |  |
  |  | 2503 | function Ss(t, e, i) { |
  |  | 2504 | const s = t[e] || (t[e] = {}); |
  |  | 2505 | return s[i] || (s[i] = {}) |
  |  | 2506 | } |
  |  | 2507 |  |
  |  | 2508 | function Ps(t, e, i, s) { |
  |  | 2509 | for (const n of e.getMatchingVisibleMetas(s).reverse()) { |
  |  | 2510 | const e = t[n.index]; |
  |  | 2511 | if (i && e > 0 || !i && e < 0) return n.index |
  |  | 2512 | } |
  |  | 2513 | return null |
  |  | 2514 | } |
  |  | 2515 |  |
  |  | 2516 | function Ds(t, e) { |
  |  | 2517 | const {chart: i, \_cachedMeta: s} = t, n = i.\_stacks || (i.\_stacks = {}), {iScale: o, vScale: a, index: r} = s, |
  |  | 2518 | l = o.axis, h = a.axis, c = function (t, e, i) { |
  |  | 2519 | return `${t.id}.${e.id}.${i.stack || i.type}` |
  |  | 2520 | }(o, a, s), d = e.length; |
  |  | 2521 | let u; |
  |  | 2522 | for (let t = 0; t < d; ++t) { |
  |  | 2523 | const i = e[t], {[l]: o, [h]: d} = i; |
  |  | 2524 | u = (i.\_stacks || (i.\_stacks = {}))[h] = Ss(n, c, o), u[r] = d, u.\_top = Ps(u, a, !0, s.type), u.\_bottom = Ps(u, a, !1, s.type) |
  |  | 2525 | } |
  |  | 2526 | } |
  |  | 2527 |  |
  |  | 2528 | function Os(t, e) { |
  |  | 2529 | const i = t.scales; |
  |  | 2530 | return Object.keys(i).filter(t => i[t].axis === e).shift() |
  |  | 2531 | } |
  |  | 2532 |  |
  |  | 2533 | function Cs(t, e) { |
  |  | 2534 | const i = t.controller.index, s = t.vScale && t.vScale.axis; |
  |  | 2535 | if (s) { |
  |  | 2536 | e = e || t.\_parsed; |
  |  | 2537 | for (const t of e) { |
  |  | 2538 | const e = t.\_stacks; |
  |  | 2539 | if (!e || void 0 === e[s] || void 0 === e[s][i]) return; |
  |  | 2540 | delete e[s][i] |
  |  | 2541 | } |
  |  | 2542 | } |
  |  | 2543 | } |
  |  | 2544 |  |
  |  | 2545 | const As = t => "reset" === t || "none" === t, Ts = (t, e) => e ? t : Object.assign({}, t); |
  |  | 2546 |  |
  |  | 2547 | class Ls { |
  |  | 2548 | constructor(t, e) { |
  |  | 2549 | this.chart = t, this.\_ctx = t.ctx, this.index = e, this.\_cachedDataOpts = {}, this.\_cachedMeta = this.getMeta(), this.\_type = this.\_cachedMeta.type, this.options = void 0, this.\_parsing = !1, this.\_data = void 0, this.\_objectData = void 0, this.\_sharedOptions = void 0, this.\_drawStart = void 0, this.\_drawCount = void 0, this.enableOptionSharing = !1, this.supportsDecimation = !1, this.$context = void 0, this.\_syncList = [], this.initialize() |
  |  | 2550 | } |
  |  | 2551 |  |
  |  | 2552 | initialize() { |
  |  | 2553 | const t = this.\_cachedMeta; |
  |  | 2554 | this.configure(), this.linkScales(), t.\_stacked = ks(t.vScale, t), this.addElements() |
  |  | 2555 | } |
  |  | 2556 |  |
  |  | 2557 | updateIndex(t) { |
  |  | 2558 | this.index !== t && Cs(this.\_cachedMeta), this.index = t |
  |  | 2559 | } |
  |  | 2560 |  |
  |  | 2561 | linkScales() { |
  |  | 2562 | const t = this.chart, e = this.\_cachedMeta, i = this.getDataset(), |
  |  | 2563 | s = (t, e, i, s) => "x" === t ? e : "r" === t ? s : i, n = e.xAxisID = r(i.xAxisID, Os(t, "x")), |
  |  | 2564 | o = e.yAxisID = r(i.yAxisID, Os(t, "y")), a = e.rAxisID = r(i.rAxisID, Os(t, "r")), l = e.indexAxis, |
  |  | 2565 | h = e.iAxisID = s(l, n, o, a), c = e.vAxisID = s(l, o, n, a); |
  |  | 2566 | e.xScale = this.getScaleForId(n), e.yScale = this.getScaleForId(o), e.rScale = this.getScaleForId(a), e.iScale = this.getScaleForId(h), e.vScale = this.getScaleForId(c) |
  |  | 2567 | } |
  |  | 2568 |  |
  |  | 2569 | getDataset() { |
  |  | 2570 | return this.chart.data.datasets[this.index] |
  |  | 2571 | } |
  |  | 2572 |  |
  |  | 2573 | getMeta() { |
  |  | 2574 | return this.chart.getDatasetMeta(this.index) |
  |  | 2575 | } |
  |  | 2576 |  |
  |  | 2577 | getScaleForId(t) { |
  |  | 2578 | return this.chart.scales[t] |
  |  | 2579 | } |
  |  | 2580 |  |
  |  | 2581 | \_getOtherScale(t) { |
  |  | 2582 | const e = this.\_cachedMeta; |
  |  | 2583 | return t === e.iScale ? e.vScale : e.iScale |
  |  | 2584 | } |
  |  | 2585 |  |
  |  | 2586 | reset() { |
  |  | 2587 | this.\_update("reset") |
  |  | 2588 | } |
  |  | 2589 |  |
  |  | 2590 | \_destroy() { |
  |  | 2591 | const t = this.\_cachedMeta; |
  |  | 2592 | this.\_data && at(this.\_data, this), t.\_stacked && Cs(t) |
  |  | 2593 | } |
  |  | 2594 |  |
  |  | 2595 | \_dataCheck() { |
  |  | 2596 | const t = this.getDataset(), e = t.data || (t.data = []), i = this.\_data; |
  |  | 2597 | if (n(e)) this.\_data = function (t) { |
  |  | 2598 | const e = Object.keys(t), i = new Array(e.length); |
  |  | 2599 | let s, n, o; |
  |  | 2600 | for (s = 0, n = e.length; s < n; ++s) o = e[s], i[s] = {x: o, y: t[o]}; |
  |  | 2601 | return i |
  |  | 2602 | }(e); else if (i !== e) { |
  |  | 2603 | if (i) { |
  |  | 2604 | at(i, this); |
  |  | 2605 | const t = this.\_cachedMeta; |
  |  | 2606 | Cs(t), t.\_parsed = [] |
  |  | 2607 | } |
  |  | 2608 | e && Object.isExtensible(e) && ot(e, this), this.\_syncList = [], this.\_data = e |
  |  | 2609 | } |
  |  | 2610 | } |
  |  | 2611 |  |
  |  | 2612 | addElements() { |
  |  | 2613 | const t = this.\_cachedMeta; |
  |  | 2614 | this.\_dataCheck(), this.datasetElementType && (t.dataset = new this.datasetElementType) |
  |  | 2615 | } |
  |  | 2616 |  |
  |  | 2617 | buildOrUpdateElements(t) { |
  |  | 2618 | const e = this.\_cachedMeta, i = this.getDataset(); |
  |  | 2619 | let s = !1; |
  |  | 2620 | this.\_dataCheck(); |
  |  | 2621 | const n = e.\_stacked; |
  |  | 2622 | e.\_stacked = ks(e.vScale, e), e.stack !== i.stack && (s = !0, Cs(e), e.stack = i.stack), this.\_resyncElements(t), (s || n !== e.\_stacked) && Ds(this, e.\_parsed) |
  |  | 2623 | } |
  |  | 2624 |  |
  |  | 2625 | configure() { |
  |  | 2626 | const t = this.chart.config, e = t.datasetScopeKeys(this.\_type), |
  |  | 2627 | i = t.getOptionScopes(this.getDataset(), e, !0); |
  |  | 2628 | this.options = t.createResolver(i, this.getContext()), this.\_parsing = this.options.parsing, this.\_cachedDataOpts = {} |
  |  | 2629 | } |
  |  | 2630 |  |
  |  | 2631 | parse(t, e) { |
  |  | 2632 | const {\_cachedMeta: i, \_data: o} = this, {iScale: a, \_stacked: r} = i, l = a.axis; |
  |  | 2633 | let h, c, d, u = 0 === t && e === o.length || i.\_sorted, f = t > 0 && i.\_parsed[t - 1]; |
  |  | 2634 | if (!1 === this.\_parsing) i.\_parsed = o, i.\_sorted = !0, d = o; else { |
  |  | 2635 | d = s(o[t]) ? this.parseArrayData(i, o, t, e) : n(o[t]) ? this.parseObjectData(i, o, t, e) : this.parsePrimitiveData(i, o, t, e); |
  |  | 2636 | const a = () => null === c[l] || f && c[l] < f[l]; |
  |  | 2637 | for (h = 0; h < e; ++h) i.\_parsed[h + t] = c = d[h], u && (a() && (u = !1), f = c); |
  |  | 2638 | i.\_sorted = u |
  |  | 2639 | } |
  |  | 2640 | r && Ds(this, d) |
  |  | 2641 | } |
  |  | 2642 |  |
  |  | 2643 | parsePrimitiveData(t, e, i, s) { |
  |  | 2644 | const {iScale: n, vScale: o} = t, a = n.axis, r = o.axis, l = n.getLabels(), h = n === o, c = new Array(s); |
  |  | 2645 | let d, u, f; |
  |  | 2646 | for (d = 0, u = s; d < u; ++d) f = d + i, c[d] = {[a]: h || n.parse(l[f], f), [r]: o.parse(e[f], f)}; |
  |  | 2647 | return c |
  |  | 2648 | } |
  |  | 2649 |  |
  |  | 2650 | parseArrayData(t, e, i, s) { |
  |  | 2651 | const {xScale: n, yScale: o} = t, a = new Array(s); |
  |  | 2652 | let r, l, h, c; |
  |  | 2653 | for (r = 0, l = s; r < l; ++r) h = r + i, c = e[h], a[r] = {x: n.parse(c[0], h), y: o.parse(c[1], h)}; |
  |  | 2654 | return a |
  |  | 2655 | } |
  |  | 2656 |  |
  |  | 2657 | parseObjectData(t, e, i, s) { |
  |  | 2658 | const {xScale: n, yScale: o} = t, {xAxisKey: a = "x", yAxisKey: r = "y"} = this.\_parsing, l = new Array(s); |
  |  | 2659 | let h, c, d, u; |
  |  | 2660 | for (h = 0, c = s; h < c; ++h) d = h + i, u = e[d], l[h] = {x: n.parse(y(u, a), d), y: o.parse(y(u, r), d)}; |
  |  | 2661 | return l |
  |  | 2662 | } |
  |  | 2663 |  |
  |  | 2664 | getParsed(t) { |
  |  | 2665 | return this.\_cachedMeta.\_parsed[t] |
  |  | 2666 | } |
  |  | 2667 |  |
  |  | 2668 | getDataElement(t) { |
  |  | 2669 | return this.\_cachedMeta.data[t] |
  |  | 2670 | } |
  |  | 2671 |  |
  |  | 2672 | applyStack(t, e, i) { |
  |  | 2673 | const s = this.chart, n = this.\_cachedMeta, o = e[t.axis]; |
  |  | 2674 | return Ms({keys: ws(s, !0), values: e.\_stacks[t.axis]}, o, n.index, {mode: i}) |
  |  | 2675 | } |
  |  | 2676 |  |
  |  | 2677 | updateRangeFromParsed(t, e, i, s) { |
  |  | 2678 | const n = i[e.axis]; |
  |  | 2679 | let o = null === n ? NaN : n; |
  |  | 2680 | const a = s && i.\_stacks[e.axis]; |
  |  | 2681 | s && a && (s.values = a, o = Ms(s, n, this.\_cachedMeta.index)), t.min = Math.min(t.min, o), t.max = Math.max(t.max, o) |
  |  | 2682 | } |
  |  | 2683 |  |
  |  | 2684 | getMinMax(t, e) { |
  |  | 2685 | const i = this.\_cachedMeta, s = i.\_parsed, n = i.\_sorted && t === i.iScale, a = s.length, |
  |  | 2686 | r = this.\_getOtherScale(t), |
  |  | 2687 | l = ((t, e, i) => t && !e.hidden && e.\_stacked && {keys: ws(i, !0), values: null})(e, i, this.chart), |
  |  | 2688 | h = {min: Number.POSITIVE\_INFINITY, max: Number.NEGATIVE\_INFINITY}, {min: c, max: d} = function (t) { |
  |  | 2689 | const {min: e, max: i, minDefined: s, maxDefined: n} = t.getUserBounds(); |
  |  | 2690 | return {min: s ? e : Number.NEGATIVE\_INFINITY, max: n ? i : Number.POSITIVE\_INFINITY} |
  |  | 2691 | }(r); |
  |  | 2692 | let u, f; |
  |  | 2693 |  |
  |  | 2694 | function g() { |
  |  | 2695 | f = s[u]; |
  |  | 2696 | const e = f[r.axis]; |
  |  | 2697 | return !o(f[t.axis]) || c > e || d < e |
  |  | 2698 | } |
  |  | 2699 |  |
  |  | 2700 | for (u = 0; u < a && (g() || (this.updateRangeFromParsed(h, t, f, l), !n)); ++u) ; |
  |  | 2701 | if (n) for (u = a - 1; u >= 0; --u) if (!g()) { |
  |  | 2702 | this.updateRangeFromParsed(h, t, f, l); |
  |  | 2703 | break |
  |  | 2704 | } |
  |  | 2705 | return h |
  |  | 2706 | } |
  |  | 2707 |  |
  |  | 2708 | getAllParsedValues(t) { |
  |  | 2709 | const e = this.\_cachedMeta.\_parsed, i = []; |
  |  | 2710 | let s, n, a; |
  |  | 2711 | for (s = 0, n = e.length; s < n; ++s) a = e[s][t.axis], o(a) && i.push(a); |
  |  | 2712 | return i |
  |  | 2713 | } |
  |  | 2714 |  |
  |  | 2715 | getMaxOverflow() { |
  |  | 2716 | return !1 |
  |  | 2717 | } |
  |  | 2718 |  |
  |  | 2719 | getLabelAndValue(t) { |
  |  | 2720 | const e = this.\_cachedMeta, i = e.iScale, s = e.vScale, n = this.getParsed(t); |
  |  | 2721 | return { |
  |  | 2722 | label: i ? "" + i.getLabelForValue(n[i.axis]) : "", |
  |  | 2723 | value: s ? "" + s.getLabelForValue(n[s.axis]) : "" |
  |  | 2724 | } |
  |  | 2725 | } |
  |  | 2726 |  |
  |  | 2727 | \_update(t) { |
  |  | 2728 | const e = this.\_cachedMeta; |
  |  | 2729 | this.update(t || "default"), e.\_clip = function (t) { |
  |  | 2730 | let e, i, s, o; |
  |  | 2731 | return n(t) ? (e = t.top, i = t.right, s = t.bottom, o = t.left) : e = i = s = o = t, { |
  |  | 2732 | top: e, |
  |  | 2733 | right: i, |
  |  | 2734 | bottom: s, |
  |  | 2735 | left: o, |
  |  | 2736 | disabled: !1 === t |
  |  | 2737 | } |
  |  | 2738 | }(r(this.options.clip, function (t, e, i) { |
  |  | 2739 | if (!1 === i) return !1; |
  |  | 2740 | const s = vs(t, i), n = vs(e, i); |
  |  | 2741 | return {top: n.end, right: s.end, bottom: n.start, left: s.start} |
  |  | 2742 | }(e.xScale, e.yScale, this.getMaxOverflow()))) |
  |  | 2743 | } |
  |  | 2744 |  |
  |  | 2745 | update(t) { |
  |  | 2746 | } |
  |  | 2747 |  |
  |  | 2748 | draw() { |
  |  | 2749 | const t = this.\_ctx, e = this.chart, i = this.\_cachedMeta, s = i.data || [], n = e.chartArea, o = [], |
  |  | 2750 | a = this.\_drawStart || 0, r = this.\_drawCount || s.length - a, l = this.options.drawActiveElementsOnTop; |
  |  | 2751 | let h; |
  |  | 2752 | for (i.dataset && i.dataset.draw(t, n, a, r), h = a; h < a + r; ++h) { |
  |  | 2753 | const e = s[h]; |
  |  | 2754 | e.hidden || (e.active && l ? o.push(e) : e.draw(t, n)) |
  |  | 2755 | } |
  |  | 2756 | for (h = 0; h < o.length; ++h) o[h].draw(t, n) |
  |  | 2757 | } |
  |  | 2758 |  |
  |  | 2759 | getStyle(t, e) { |
  |  | 2760 | const i = e ? "active" : "default"; |
  |  | 2761 | return void 0 === t && this.\_cachedMeta.dataset ? this.resolveDatasetElementOptions(i) : this.resolveDataElementOptions(t || 0, i) |
  |  | 2762 | } |
  |  | 2763 |  |
  |  | 2764 | getContext(t, e, i) { |
  |  | 2765 | const s = this.getDataset(); |
  |  | 2766 | let n; |
  |  | 2767 | if (t >= 0 && t < this.\_cachedMeta.data.length) { |
  |  | 2768 | const e = this.\_cachedMeta.data[t]; |
  |  | 2769 | n = e.$context || (e.$context = function (t, e, i) { |
  |  | 2770 | return \_i(t, { |
  |  | 2771 | active: !1, |
  |  | 2772 | dataIndex: e, |
  |  | 2773 | parsed: void 0, |
  |  | 2774 | raw: void 0, |
  |  | 2775 | element: i, |
  |  | 2776 | index: e, |
  |  | 2777 | mode: "default", |
  |  | 2778 | type: "data" |
  |  | 2779 | }) |
  |  | 2780 | }(this.getContext(), t, e)), n.parsed = this.getParsed(t), n.raw = s.data[t], n.index = n.dataIndex = t |
  |  | 2781 | } else n = this.$context || (this.$context = function (t, e) { |
  |  | 2782 | return \_i(t, {active: !1, dataset: void 0, datasetIndex: e, index: e, mode: "default", type: "dataset"}) |
  |  | 2783 | }(this.chart.getContext(), this.index)), n.dataset = s, n.index = n.datasetIndex = this.index; |
  |  | 2784 | return n.active = !!e, n.mode = i, n |
  |  | 2785 | } |
  |  | 2786 |  |
  |  | 2787 | resolveDatasetElementOptions(t) { |
  |  | 2788 | return this.\_resolveElementOptions(this.datasetElementType.id, t) |
  |  | 2789 | } |
  |  | 2790 |  |
  |  | 2791 | resolveDataElementOptions(t, e) { |
  |  | 2792 | return this.\_resolveElementOptions(this.dataElementType.id, e, t) |
  |  | 2793 | } |
  |  | 2794 |  |
  |  | 2795 | \_resolveElementOptions(t, e = "default", i) { |
  |  | 2796 | const s = "active" === e, n = this.\_cachedDataOpts, o = t + "-" + e, a = n[o], |
  |  | 2797 | r = this.enableOptionSharing && M(i); |
  |  | 2798 | if (a) return Ts(a, r); |
  |  | 2799 | const l = this.chart.config, h = l.datasetElementScopeKeys(this.\_type, t), |
  |  | 2800 | c = s ? [`${t}Hover`, "hover", t, ""] : [t, ""], d = l.getOptionScopes(this.getDataset(), h), |
  |  | 2801 | u = Object.keys(ne.elements[t]), f = l.resolveNamedOptions(d, u, () => this.getContext(i, s), c); |
  |  | 2802 | return f.$shared && (f.$shared = r, n[o] = Object.freeze(Ts(f, r))), f |
  |  | 2803 | } |
  |  | 2804 |  |
  |  | 2805 | \_resolveAnimations(t, e, i) { |
  |  | 2806 | const s = this.chart, n = this.\_cachedDataOpts, o = `animation-${e}`, a = n[o]; |
  |  | 2807 | if (a) return a; |
  |  | 2808 | let r; |
  |  | 2809 | if (!1 !== s.options.animation) { |
  |  | 2810 | const s = this.chart.config, n = s.datasetAnimationScopeKeys(this.\_type, e), |
  |  | 2811 | o = s.getOptionScopes(this.getDataset(), n); |
  |  | 2812 | r = s.createResolver(o, this.getContext(t, i, e)) |
  |  | 2813 | } |
  |  | 2814 | const l = new ys(s, r && r.animations); |
  |  | 2815 | return r && r.\_cacheable && (n[o] = Object.freeze(l)), l |
  |  | 2816 | } |
  |  | 2817 |  |
  |  | 2818 | getSharedOptions(t) { |
  |  | 2819 | if (t.$shared) return this.\_sharedOptions || (this.\_sharedOptions = Object.assign({}, t)) |
  |  | 2820 | } |
  |  | 2821 |  |
  |  | 2822 | includeOptions(t, e) { |
  |  | 2823 | return !e || As(t) || this.chart.\_animationsDisabled |
  |  | 2824 | } |
  |  | 2825 |  |
  |  | 2826 | \_getSharedOptions(t, e) { |
  |  | 2827 | const i = this.resolveDataElementOptions(t, e), s = this.\_sharedOptions, n = this.getSharedOptions(i), |
  |  | 2828 | o = this.includeOptions(e, n) || n !== s; |
  |  | 2829 | return this.updateSharedOptions(n, e, i), {sharedOptions: n, includeOptions: o} |
  |  | 2830 | } |
  |  | 2831 |  |
  |  | 2832 | updateElement(t, e, i, s) { |
  |  | 2833 | As(s) ? Object.assign(t, i) : this.\_resolveAnimations(e, s).update(t, i) |
  |  | 2834 | } |
  |  | 2835 |  |
  |  | 2836 | updateSharedOptions(t, e, i) { |
  |  | 2837 | t && !As(e) && this.\_resolveAnimations(void 0, e).update(t, i) |
  |  | 2838 | } |
  |  | 2839 |  |
  |  | 2840 | \_setStyle(t, e, i, s) { |
  |  | 2841 | t.active = s; |
  |  | 2842 | const n = this.getStyle(e, s); |
  |  | 2843 | this.\_resolveAnimations(e, i, s).update(t, {options: !s && this.getSharedOptions(n) || n}) |
  |  | 2844 | } |
  |  | 2845 |  |
  |  | 2846 | removeHoverStyle(t, e, i) { |
  |  | 2847 | this.\_setStyle(t, i, "active", !1) |
  |  | 2848 | } |
  |  | 2849 |  |
  |  | 2850 | setHoverStyle(t, e, i) { |
  |  | 2851 | this.\_setStyle(t, i, "active", !0) |
  |  | 2852 | } |
  |  | 2853 |  |
  |  | 2854 | \_removeDatasetHoverStyle() { |
  |  | 2855 | const t = this.\_cachedMeta.dataset; |
  |  | 2856 | t && this.\_setStyle(t, void 0, "active", !1) |
  |  | 2857 | } |
  |  | 2858 |  |
  |  | 2859 | \_setDatasetHoverStyle() { |
  |  | 2860 | const t = this.\_cachedMeta.dataset; |
  |  | 2861 | t && this.\_setStyle(t, void 0, "active", !0) |
  |  | 2862 | } |
  |  | 2863 |  |
  |  | 2864 | \_resyncElements(t) { |
  |  | 2865 | const e = this.\_data, i = this.\_cachedMeta.data; |
  |  | 2866 | for (const [t, e, i] of this.\_syncList) this[t](e, i); |
  |  | 2867 | this.\_syncList = []; |
  |  | 2868 | const s = i.length, n = e.length, o = Math.min(n, s); |
  |  | 2869 | o && this.parse(0, o), n > s ? this.\_insertElements(s, n - s, t) : n < s && this.\_removeElements(n, s - n) |
  |  | 2870 | } |
  |  | 2871 |  |
  |  | 2872 | \_insertElements(t, e, i = !0) { |
  |  | 2873 | const s = this.\_cachedMeta, n = s.data, o = t + e; |
  |  | 2874 | let a; |
  |  | 2875 | const r = t => { |
  |  | 2876 | for (t.length += e, a = t.length - 1; a >= o; a--) t[a] = t[a - e] |
  |  | 2877 | }; |
  |  | 2878 | for (r(n), a = t; a < o; ++a) n[a] = new this.dataElementType; |
  |  | 2879 | this.\_parsing && r(s.\_parsed), this.parse(t, e), i && this.updateElements(n, t, e, "reset") |
  |  | 2880 | } |
  |  | 2881 |  |
  |  | 2882 | updateElements(t, e, i, s) { |
  |  | 2883 | } |
  |  | 2884 |  |
  |  | 2885 | \_removeElements(t, e) { |
  |  | 2886 | const i = this.\_cachedMeta; |
  |  | 2887 | if (this.\_parsing) { |
  |  | 2888 | const s = i.\_parsed.splice(t, e); |
  |  | 2889 | i.\_stacked && Cs(i, s) |
  |  | 2890 | } |
  |  | 2891 | i.data.splice(t, e) |
  |  | 2892 | } |
  |  | 2893 |  |
  |  | 2894 | \_sync(t) { |
  |  | 2895 | if (this.\_parsing) this.\_syncList.push(t); else { |
  |  | 2896 | const [e, i, s] = t; |
  |  | 2897 | this[e](i, s) |
  |  | 2898 | } |
  |  | 2899 | this.chart.\_dataChanges.push([this.index, ...t]) |
  |  | 2900 | } |
  |  | 2901 |  |
  |  | 2902 | \_onDataPush() { |
  |  | 2903 | const t = arguments.length; |
  |  | 2904 | this.\_sync(["\_insertElements", this.getDataset().data.length - t, t]) |
  |  | 2905 | } |
  |  | 2906 |  |
  |  | 2907 | \_onDataPop() { |
  |  | 2908 | this.\_sync(["\_removeElements", this.\_cachedMeta.data.length - 1, 1]) |
  |  | 2909 | } |
  |  | 2910 |  |
  |  | 2911 | \_onDataShift() { |
  |  | 2912 | this.\_sync(["\_removeElements", 0, 1]) |
  |  | 2913 | } |
  |  | 2914 |  |
  |  | 2915 | \_onDataSplice(t, e) { |
  |  | 2916 | e && this.\_sync(["\_removeElements", t, e]); |
  |  | 2917 | const i = arguments.length - 2; |
  |  | 2918 | i && this.\_sync(["\_insertElements", t, i]) |
  |  | 2919 | } |
  |  | 2920 |  |
  |  | 2921 | \_onDataUnshift() { |
  |  | 2922 | this.\_sync(["\_insertElements", 0, arguments.length]) |
  |  | 2923 | } |
  |  | 2924 | } |
  |  | 2925 |  |
  |  | 2926 | Ls.defaults = {}, Ls.prototype.datasetElementType = null, Ls.prototype.dataElementType = null; |
  |  | 2927 |  |
  |  | 2928 | class Es { |
  |  | 2929 | constructor() { |
  |  | 2930 | this.x = void 0, this.y = void 0, this.active = !1, this.options = void 0, this.$animations = void 0 |
  |  | 2931 | } |
  |  | 2932 |  |
  |  | 2933 | tooltipPosition(t) { |
  |  | 2934 | const {x: e, y: i} = this.getProps(["x", "y"], t); |
  |  | 2935 | return {x: e, y: i} |
  |  | 2936 | } |
  |  | 2937 |  |
  |  | 2938 | hasValue() { |
  |  | 2939 | return B(this.x) && B(this.y) |
  |  | 2940 | } |
  |  | 2941 |  |
  |  | 2942 | getProps(t, e) { |
  |  | 2943 | const i = this.$animations; |
  |  | 2944 | if (!e || !i) return this; |
  |  | 2945 | const s = {}; |
  |  | 2946 | return t.forEach(t => { |
  |  | 2947 | s[t] = i[t] && i[t].active() ? i[t].\_to : this[t] |
  |  | 2948 | }), s |
  |  | 2949 | } |
  |  | 2950 | } |
  |  | 2951 |  |
  |  | 2952 | Es.defaults = {}, Es.defaultRoutes = void 0; |
  |  | 2953 | const Rs = { |
  |  | 2954 | values: t => s(t) ? t : "" + t, numeric(t, e, i) { |
  |  | 2955 | if (0 === t) return "0"; |
  |  | 2956 | const s = this.chart.options.locale; |
  |  | 2957 | let n, o = t; |
  |  | 2958 | if (i.length > 1) { |
  |  | 2959 | const e = Math.max(Math.abs(i[0].value), Math.abs(i[i.length - 1].value)); |
  |  | 2960 | (e < 1e-4 || e > 1e15) && (n = "scientific"), o = function (t, e) { |
  |  | 2961 | let i = e.length > 3 ? e[2].value - e[1].value : e[1].value - e[0].value; |
  |  | 2962 | Math.abs(i) >= 1 && t !== Math.floor(t) && (i = t - Math.floor(t)); |
  |  | 2963 | return i |
  |  | 2964 | }(t, i) |
  |  | 2965 | } |
  |  | 2966 | const a = I(Math.abs(o)), r = Math.max(Math.min(-1 \* Math.floor(a), 20), 0), |
  |  | 2967 | l = {notation: n, minimumFractionDigits: r, maximumFractionDigits: r}; |
  |  | 2968 | return Object.assign(l, this.options.ticks.format), li(t, s, l) |
  |  | 2969 | }, logarithmic(t, e, i) { |
  |  | 2970 | if (0 === t) return "0"; |
  |  | 2971 | const s = t / Math.pow(10, Math.floor(I(t))); |
  |  | 2972 | return 1 === s || 2 === s || 5 === s ? Rs.numeric.call(this, t, e, i) : "" |
  |  | 2973 | } |
  |  | 2974 | }; |
  |  | 2975 | var Is = {formatters: Rs}; |
  |  | 2976 |  |
  |  | 2977 | function zs(t, e) { |
  |  | 2978 | const s = t.options.ticks, n = s.maxTicksLimit || function (t) { |
  |  | 2979 | const e = t.options.offset, i = t.\_tickSize(), s = t.\_length / i + (e ? 0 : 1), n = t.\_maxLength / i; |
  |  | 2980 | return Math.floor(Math.min(s, n)) |
  |  | 2981 | }(t), o = s.major.enabled ? function (t) { |
  |  | 2982 | const e = []; |
  |  | 2983 | let i, s; |
  |  | 2984 | for (i = 0, s = t.length; i < s; i++) t[i].major && e.push(i); |
  |  | 2985 | return e |
  |  | 2986 | }(e) : [], a = o.length, r = o[0], l = o[a - 1], h = []; |
  |  | 2987 | if (a > n) return function (t, e, i, s) { |
  |  | 2988 | let n, o = 0, a = i[0]; |
  |  | 2989 | for (s = Math.ceil(s), n = 0; n < t.length; n++) n === a && (e.push(t[n]), o++, a = i[o \* s]) |
  |  | 2990 | }(e, h, o, a / n), h; |
  |  | 2991 | const c = function (t, e, i) { |
  |  | 2992 | const s = function (t) { |
  |  | 2993 | const e = t.length; |
  |  | 2994 | let i, s; |
  |  | 2995 | if (e < 2) return !1; |
  |  | 2996 | for (s = t[0], i = 1; i < e; ++i) if (t[i] - t[i - 1] !== s) return !1; |
  |  | 2997 | return s |
  |  | 2998 | }(t), n = e.length / i; |
  |  | 2999 | if (!s) return Math.max(n, 1); |
  |  | 3000 | const o = V(s); |
  |  | 3001 | for (let t = 0, e = o.length - 1; t < e; t++) { |
  |  | 3002 | const e = o[t]; |
  |  | 3003 | if (e > n) return e |
  |  | 3004 | } |
  |  | 3005 | return Math.max(n, 1) |
  |  | 3006 | }(o, e, n); |
  |  | 3007 | if (a > 0) { |
  |  | 3008 | let t, s; |
  |  | 3009 | const n = a > 1 ? Math.round((l - r) / (a - 1)) : null; |
  |  | 3010 | for (Fs(e, h, c, i(n) ? 0 : r - n, r), t = 0, s = a - 1; t < s; t++) Fs(e, h, c, o[t], o[t + 1]); |
  |  | 3011 | return Fs(e, h, c, l, i(n) ? e.length : l + n), h |
  |  | 3012 | } |
  |  | 3013 | return Fs(e, h, c), h |
  |  | 3014 | } |
  |  | 3015 |  |
  |  | 3016 | function Fs(t, e, i, s, n) { |
  |  | 3017 | const o = r(s, 0), a = Math.min(r(n, t.length), t.length); |
  |  | 3018 | let l, h, c, d = 0; |
  |  | 3019 | for (i = Math.ceil(i), n && (l = n - s, i = l / Math.floor(l / i)), c = o; c < 0;) d++, c = Math.round(o + d \* i); |
  |  | 3020 | for (h = Math.max(o, 0); h < a; h++) h === c && (e.push(t[h]), d++, c = Math.round(o + d \* i)) |
  |  | 3021 | } |
  |  | 3022 |  |
  |  | 3023 | ne.set("scale", { |
  |  | 3024 | display: !0, |
  |  | 3025 | offset: !1, |
  |  | 3026 | reverse: !1, |
  |  | 3027 | beginAtZero: !1, |
  |  | 3028 | bounds: "ticks", |
  |  | 3029 | grace: 0, |
  |  | 3030 | grid: { |
  |  | 3031 | display: !0, |
  |  | 3032 | lineWidth: 1, |
  |  | 3033 | drawBorder: !0, |
  |  | 3034 | drawOnChartArea: !0, |
  |  | 3035 | drawTicks: !0, |
  |  | 3036 | tickLength: 8, |
  |  | 3037 | tickWidth: (t, e) => e.lineWidth, |
  |  | 3038 | tickColor: (t, e) => e.color, |
  |  | 3039 | offset: !1, |
  |  | 3040 | borderDash: [], |
  |  | 3041 | borderDashOffset: 0, |
  |  | 3042 | borderWidth: 1 |
  |  | 3043 | }, |
  |  | 3044 | title: {display: !1, text: "", padding: {top: 4, bottom: 4}}, |
  |  | 3045 | ticks: { |
  |  | 3046 | minRotation: 0, |
  |  | 3047 | maxRotation: 50, |
  |  | 3048 | mirror: !1, |
  |  | 3049 | textStrokeWidth: 0, |
  |  | 3050 | textStrokeColor: "", |
  |  | 3051 | padding: 3, |
  |  | 3052 | display: !0, |
  |  | 3053 | autoSkip: !0, |
  |  | 3054 | autoSkipPadding: 3, |
  |  | 3055 | labelOffset: 0, |
  |  | 3056 | callback: Is.formatters.values, |
  |  | 3057 | minor: {}, |
  |  | 3058 | major: {}, |
  |  | 3059 | align: "center", |
  |  | 3060 | crossAlign: "near", |
  |  | 3061 | showLabelBackdrop: !1, |
  |  | 3062 | backdropColor: "rgba(255, 255, 255, 0.75)", |
  |  | 3063 | backdropPadding: 2 |
  |  | 3064 | } |
  |  | 3065 | }), ne.route("scale.ticks", "color", "", "color"), ne.route("scale.grid", "color", "", "borderColor"), ne.route("scale.grid", "borderColor", "", "borderColor"), ne.route("scale.title", "color", "", "color"), ne.describe("scale", { |
  |  | 3066 | \_fallback: !1, |
  |  | 3067 | \_scriptable: t => !t.startsWith("before") && !t.startsWith("after") && "callback" !== t && "parser" !== t, |
  |  | 3068 | \_indexable: t => "borderDash" !== t && "tickBorderDash" !== t |
  |  | 3069 | }), ne.describe("scales", {\_fallback: "scale"}), ne.describe("scale.ticks", { |
  |  | 3070 | \_scriptable: t => "backdropPadding" !== t && "callback" !== t, |
  |  | 3071 | \_indexable: t => "backdropPadding" !== t |
  |  | 3072 | }); |
  |  | 3073 | const Vs = (t, e, i) => "top" === e || "left" === e ? t[e] + i : t[e] - i; |
  |  | 3074 |  |
  |  | 3075 | function Bs(t, e) { |
  |  | 3076 | const i = [], s = t.length / e, n = t.length; |
  |  | 3077 | let o = 0; |
  |  | 3078 | for (; o < n; o += s) i.push(t[Math.floor(o)]); |
  |  | 3079 | return i |
  |  | 3080 | } |
  |  | 3081 |  |
  |  | 3082 | function Ns(t, e, i) { |
  |  | 3083 | const s = t.ticks.length, n = Math.min(e, s - 1), o = t.\_startPixel, a = t.\_endPixel, r = 1e-6; |
  |  | 3084 | let l, h = t.getPixelForTick(n); |
  |  | 3085 | if (!(i && (l = 1 === s ? Math.max(h - o, a - h) : 0 === e ? (t.getPixelForTick(1) - h) / 2 : (h - t.getPixelForTick(n - 1)) / 2, h += n < e ? l : -l, h < o - r || h > a + r))) return h |
  |  | 3086 | } |
  |  | 3087 |  |
  |  | 3088 | function Ws(t) { |
  |  | 3089 | return t.drawTicks ? t.tickLength : 0 |
  |  | 3090 | } |
  |  | 3091 |  |
  |  | 3092 | function js(t, e) { |
  |  | 3093 | if (!t.display) return 0; |
  |  | 3094 | const i = mi(t.font, e), n = pi(t.padding); |
  |  | 3095 | return (s(t.text) ? t.text.length : 1) \* i.lineHeight + n.height |
  |  | 3096 | } |
  |  | 3097 |  |
  |  | 3098 | function Hs(t, e, i) { |
  |  | 3099 | let s = dt(t); |
  |  | 3100 | return (i && "right" !== e || !i && "right" === e) && (s = (t => "left" === t ? "right" : "right" === t ? "left" : t)(s)), s |
  |  | 3101 | } |
  |  | 3102 |  |
  |  | 3103 | class $s extends Es { |
  |  | 3104 | constructor(t) { |
  |  | 3105 | super(), this.id = t.id, this.type = t.type, this.options = void 0, this.ctx = t.ctx, this.chart = t.chart, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.width = void 0, this.height = void 0, this.\_margins = { |
  |  | 3106 | left: 0, |
  |  | 3107 | right: 0, |
  |  | 3108 | top: 0, |
  |  | 3109 | bottom: 0 |
  |  | 3110 | }, this.maxWidth = void 0, this.maxHeight = void 0, this.paddingTop = void 0, this.paddingBottom = void 0, this.paddingLeft = void 0, this.paddingRight = void 0, this.axis = void 0, this.labelRotation = void 0, this.min = void 0, this.max = void 0, this.\_range = void 0, this.ticks = [], this.\_gridLineItems = null, this.\_labelItems = null, this.\_labelSizes = null, this.\_length = 0, this.\_maxLength = 0, this.\_longestTextCache = {}, this.\_startPixel = void 0, this.\_endPixel = void 0, this.\_reversePixels = !1, this.\_userMax = void 0, this.\_userMin = void 0, this.\_suggestedMax = void 0, this.\_suggestedMin = void 0, this.\_ticksLength = 0, this.\_borderValue = 0, this.\_cache = {}, this.\_dataLimitsCached = !1, this.$context = void 0 |
  |  | 3111 | } |
  |  | 3112 |  |
  |  | 3113 | init(t) { |
  |  | 3114 | this.options = t.setContext(this.getContext()), this.axis = t.axis, this.\_userMin = this.parse(t.min), this.\_userMax = this.parse(t.max), this.\_suggestedMin = this.parse(t.suggestedMin), this.\_suggestedMax = this.parse(t.suggestedMax) |
  |  | 3115 | } |
  |  | 3116 |  |
  |  | 3117 | parse(t, e) { |
  |  | 3118 | return t |
  |  | 3119 | } |
  |  | 3120 |  |
  |  | 3121 | getUserBounds() { |
  |  | 3122 | let {\_userMin: t, \_userMax: e, \_suggestedMin: i, \_suggestedMax: s} = this; |
  |  | 3123 | return t = a(t, Number.POSITIVE\_INFINITY), e = a(e, Number.NEGATIVE\_INFINITY), i = a(i, Number.POSITIVE\_INFINITY), s = a(s, Number.NEGATIVE\_INFINITY), { |
  |  | 3124 | min: a(t, i), |
  |  | 3125 | max: a(e, s), |
  |  | 3126 | minDefined: o(t), |
  |  | 3127 | maxDefined: o(e) |
  |  | 3128 | } |
  |  | 3129 | } |
  |  | 3130 |  |
  |  | 3131 | getMinMax(t) { |
  |  | 3132 | let e, {min: i, max: s, minDefined: n, maxDefined: o} = this.getUserBounds(); |
  |  | 3133 | if (n && o) return {min: i, max: s}; |
  |  | 3134 | const r = this.getMatchingVisibleMetas(); |
  |  | 3135 | for (let a = 0, l = r.length; a < l; ++a) e = r[a].controller.getMinMax(this, t), n || (i = Math.min(i, e.min)), o || (s = Math.max(s, e.max)); |
  |  | 3136 | return i = o && i > s ? s : i, s = n && i > s ? i : s, {min: a(i, a(s, i)), max: a(s, a(i, s))} |
  |  | 3137 | } |
  |  | 3138 |  |
  |  | 3139 | getPadding() { |
  |  | 3140 | return { |
  |  | 3141 | left: this.paddingLeft || 0, |
  |  | 3142 | top: this.paddingTop || 0, |
  |  | 3143 | right: this.paddingRight || 0, |
  |  | 3144 | bottom: this.paddingBottom || 0 |
  |  | 3145 | } |
  |  | 3146 | } |
  |  | 3147 |  |
  |  | 3148 | getTicks() { |
  |  | 3149 | return this.ticks |
  |  | 3150 | } |
  |  | 3151 |  |
  |  | 3152 | getLabels() { |
  |  | 3153 | const t = this.chart.data; |
  |  | 3154 | return this.options.labels || (this.isHorizontal() ? t.xLabels : t.yLabels) || t.labels || [] |
  |  | 3155 | } |
  |  | 3156 |  |
  |  | 3157 | beforeLayout() { |
  |  | 3158 | this.\_cache = {}, this.\_dataLimitsCached = !1 |
  |  | 3159 | } |
  |  | 3160 |  |
  |  | 3161 | beforeUpdate() { |
  |  | 3162 | c(this.options.beforeUpdate, [this]) |
  |  | 3163 | } |
  |  | 3164 |  |
  |  | 3165 | update(t, e, i) { |
  |  | 3166 | const {beginAtZero: s, grace: n, ticks: o} = this.options, a = o.sampleSize; |
  |  | 3167 | this.beforeUpdate(), this.maxWidth = t, this.maxHeight = e, this.\_margins = i = Object.assign({ |
  |  | 3168 | left: 0, |
  |  | 3169 | right: 0, |
  |  | 3170 | top: 0, |
  |  | 3171 | bottom: 0 |
  |  | 3172 | }, i), this.ticks = null, this.\_labelSizes = null, this.\_gridLineItems = null, this.\_labelItems = null, this.beforeSetDimensions(), this.setDimensions(), this.afterSetDimensions(), this.\_maxLength = this.isHorizontal() ? this.width + i.left + i.right : this.height + i.top + i.bottom, this.\_dataLimitsCached || (this.beforeDataLimits(), this.determineDataLimits(), this.afterDataLimits(), this.\_range = xi(this, n, s), this.\_dataLimitsCached = !0), this.beforeBuildTicks(), this.ticks = this.buildTicks() || [], this.afterBuildTicks(); |
  |  | 3173 | const r = a < this.ticks.length; |
  |  | 3174 | this.\_convertTicksToLabels(r ? Bs(this.ticks, a) : this.ticks), this.configure(), this.beforeCalculateLabelRotation(), this.calculateLabelRotation(), this.afterCalculateLabelRotation(), o.display && (o.autoSkip || "auto" === o.source) && (this.ticks = zs(this, this.ticks), this.\_labelSizes = null, this.afterAutoSkip()), r && this.\_convertTicksToLabels(this.ticks), this.beforeFit(), this.fit(), this.afterFit(), this.afterUpdate() |
  |  | 3175 | } |
  |  | 3176 |  |
  |  | 3177 | configure() { |
  |  | 3178 | let t, e, i = this.options.reverse; |
  |  | 3179 | this.isHorizontal() ? (t = this.left, e = this.right) : (t = this.top, e = this.bottom, i = !i), this.\_startPixel = t, this.\_endPixel = e, this.\_reversePixels = i, this.\_length = e - t, this.\_alignToPixels = this.options.alignToPixels |
  |  | 3180 | } |
  |  | 3181 |  |
  |  | 3182 | afterUpdate() { |
  |  | 3183 | c(this.options.afterUpdate, [this]) |
  |  | 3184 | } |
  |  | 3185 |  |
  |  | 3186 | beforeSetDimensions() { |
  |  | 3187 | c(this.options.beforeSetDimensions, [this]) |
  |  | 3188 | } |
  |  | 3189 |  |
  |  | 3190 | setDimensions() { |
  |  | 3191 | this.isHorizontal() ? (this.width = this.maxWidth, this.left = 0, this.right = this.width) : (this.height = this.maxHeight, this.top = 0, this.bottom = this.height), this.paddingLeft = 0, this.paddingTop = 0, this.paddingRight = 0, this.paddingBottom = 0 |
  |  | 3192 | } |
  |  | 3193 |  |
  |  | 3194 | afterSetDimensions() { |
  |  | 3195 | c(this.options.afterSetDimensions, [this]) |
  |  | 3196 | } |
  |  | 3197 |  |
  |  | 3198 | \_callHooks(t) { |
  |  | 3199 | this.chart.notifyPlugins(t, this.getContext()), c(this.options[t], [this]) |
  |  | 3200 | } |
  |  | 3201 |  |
  |  | 3202 | beforeDataLimits() { |
  |  | 3203 | this.\_callHooks("beforeDataLimits") |
  |  | 3204 | } |
  |  | 3205 |  |
  |  | 3206 | determineDataLimits() { |
  |  | 3207 | } |
  |  | 3208 |  |
  |  | 3209 | afterDataLimits() { |
  |  | 3210 | this.\_callHooks("afterDataLimits") |
  |  | 3211 | } |
  |  | 3212 |  |
  |  | 3213 | beforeBuildTicks() { |
  |  | 3214 | this.\_callHooks("beforeBuildTicks") |
  |  | 3215 | } |
  |  | 3216 |  |
  |  | 3217 | buildTicks() { |
  |  | 3218 | return [] |
  |  | 3219 | } |
  |  | 3220 |  |
  |  | 3221 | afterBuildTicks() { |
  |  | 3222 | this.\_callHooks("afterBuildTicks") |
  |  | 3223 | } |
  |  | 3224 |  |
  |  | 3225 | beforeTickToLabelConversion() { |
  |  | 3226 | c(this.options.beforeTickToLabelConversion, [this]) |
  |  | 3227 | } |
  |  | 3228 |  |
  |  | 3229 | generateTickLabels(t) { |
  |  | 3230 | const e = this.options.ticks; |
  |  | 3231 | let i, s, n; |
  |  | 3232 | for (i = 0, s = t.length; i < s; i++) n = t[i], n.label = c(e.callback, [n.value, i, t], this) |
  |  | 3233 | } |
  |  | 3234 |  |
  |  | 3235 | afterTickToLabelConversion() { |
  |  | 3236 | c(this.options.afterTickToLabelConversion, [this]) |
  |  | 3237 | } |
  |  | 3238 |  |
  |  | 3239 | beforeCalculateLabelRotation() { |
  |  | 3240 | c(this.options.beforeCalculateLabelRotation, [this]) |
  |  | 3241 | } |
  |  | 3242 |  |
  |  | 3243 | calculateLabelRotation() { |
  |  | 3244 | const t = this.options, e = t.ticks, i = this.ticks.length, s = e.minRotation || 0, n = e.maxRotation; |
  |  | 3245 | let o, a, r, l = s; |
  |  | 3246 | if (!this.\_isVisible() || !e.display || s >= n || i <= 1 || !this.isHorizontal()) return void (this.labelRotation = s); |
  |  | 3247 | const h = this.\_getLabelSizes(), c = h.widest.width, d = h.highest.height, |
  |  | 3248 | u = Z(this.chart.width - c, 0, this.maxWidth); |
  |  | 3249 | o = t.offset ? this.maxWidth / i : u / (i - 1), c + 6 > o && (o = u / (i - (t.offset ? .5 : 1)), a = this.maxHeight - Ws(t.grid) - e.padding - js(t.title, this.chart.options.font), r = Math.sqrt(c \* c + d \* d), l = $(Math.min(Math.asin(Z((h.highest.height + 6) / o, -1, 1)), Math.asin(Z(a / r, -1, 1)) - Math.asin(Z(d / r, -1, 1)))), l = Math.max(s, Math.min(n, l))), this.labelRotation = l |
  |  | 3250 | } |
  |  | 3251 |  |
  |  | 3252 | afterCalculateLabelRotation() { |
  |  | 3253 | c(this.options.afterCalculateLabelRotation, [this]) |
  |  | 3254 | } |
  |  | 3255 |  |
  |  | 3256 | afterAutoSkip() { |
  |  | 3257 | } |
  |  | 3258 |  |
  |  | 3259 | beforeFit() { |
  |  | 3260 | c(this.options.beforeFit, [this]) |
  |  | 3261 | } |
  |  | 3262 |  |
  |  | 3263 | fit() { |
  |  | 3264 | const t = {width: 0, height: 0}, {chart: e, options: {ticks: i, title: s, grid: n}} = this, |
  |  | 3265 | o = this.\_isVisible(), a = this.isHorizontal(); |
  |  | 3266 | if (o) { |
  |  | 3267 | const o = js(s, e.options.font); |
  |  | 3268 | if (a ? (t.width = this.maxWidth, t.height = Ws(n) + o) : (t.height = this.maxHeight, t.width = Ws(n) + o), i.display && this.ticks.length) { |
  |  | 3269 | const {first: e, last: s, widest: n, highest: o} = this.\_getLabelSizes(), r = 2 \* i.padding, |
  |  | 3270 | l = H(this.labelRotation), h = Math.cos(l), c = Math.sin(l); |
  |  | 3271 | if (a) { |
  |  | 3272 | const e = i.mirror ? 0 : c \* n.width + h \* o.height; |
  |  | 3273 | t.height = Math.min(this.maxHeight, t.height + e + r) |
  |  | 3274 | } else { |
  |  | 3275 | const e = i.mirror ? 0 : h \* n.width + c \* o.height; |
  |  | 3276 | t.width = Math.min(this.maxWidth, t.width + e + r) |
  |  | 3277 | } |
  |  | 3278 | this.\_calculatePadding(e, s, c, h) |
  |  | 3279 | } |
  |  | 3280 | } |
  |  | 3281 | this.\_handleMargins(), a ? (this.width = this.\_length = e.width - this.\_margins.left - this.\_margins.right, this.height = t.height) : (this.width = t.width, this.height = this.\_length = e.height - this.\_margins.top - this.\_margins.bottom) |
  |  | 3282 | } |
  |  | 3283 |  |
  |  | 3284 | \_calculatePadding(t, e, i, s) { |
  |  | 3285 | const {ticks: {align: n, padding: o}, position: a} = this.options, r = 0 !== this.labelRotation, |
  |  | 3286 | l = "top" !== a && "x" === this.axis; |
  |  | 3287 | if (this.isHorizontal()) { |
  |  | 3288 | const a = this.getPixelForTick(0) - this.left, |
  |  | 3289 | h = this.right - this.getPixelForTick(this.ticks.length - 1); |
  |  | 3290 | let c = 0, d = 0; |
  |  | 3291 | r ? l ? (c = s \* t.width, d = i \* e.height) : (c = i \* t.height, d = s \* e.width) : "start" === n ? d = e.width : "end" === n ? c = t.width : "inner" !== n && (c = t.width / 2, d = e.width / 2), this.paddingLeft = Math.max((c - a + o) \* this.width / (this.width - a), 0), this.paddingRight = Math.max((d - h + o) \* this.width / (this.width - h), 0) |
  |  | 3292 | } else { |
  |  | 3293 | let i = e.height / 2, s = t.height / 2; |
  |  | 3294 | "start" === n ? (i = 0, s = t.height) : "end" === n && (i = e.height, s = 0), this.paddingTop = i + o, this.paddingBottom = s + o |
  |  | 3295 | } |
  |  | 3296 | } |
  |  | 3297 |  |
  |  | 3298 | \_handleMargins() { |
  |  | 3299 | this.\_margins && (this.\_margins.left = Math.max(this.paddingLeft, this.\_margins.left), this.\_margins.top = Math.max(this.paddingTop, this.\_margins.top), this.\_margins.right = Math.max(this.paddingRight, this.\_margins.right), this.\_margins.bottom = Math.max(this.paddingBottom, this.\_margins.bottom)) |
  |  | 3300 | } |
  |  | 3301 |  |
  |  | 3302 | afterFit() { |
  |  | 3303 | c(this.options.afterFit, [this]) |
  |  | 3304 | } |
  |  | 3305 |  |
  |  | 3306 | isHorizontal() { |
  |  | 3307 | const {axis: t, position: e} = this.options; |
  |  | 3308 | return "top" === e || "bottom" === e || "x" === t |
  |  | 3309 | } |
  |  | 3310 |  |
  |  | 3311 | isFullSize() { |
  |  | 3312 | return this.options.fullSize |
  |  | 3313 | } |
  |  | 3314 |  |
  |  | 3315 | \_convertTicksToLabels(t) { |
  |  | 3316 | let e, s; |
  |  | 3317 | for (this.beforeTickToLabelConversion(), this.generateTickLabels(t), e = 0, s = t.length; e < s; e++) i(t[e].label) && (t.splice(e, 1), s--, e--); |
  |  | 3318 | this.afterTickToLabelConversion() |
  |  | 3319 | } |
  |  | 3320 |  |
  |  | 3321 | \_getLabelSizes() { |
  |  | 3322 | let t = this.\_labelSizes; |
  |  | 3323 | if (!t) { |
  |  | 3324 | const e = this.options.ticks.sampleSize; |
  |  | 3325 | let i = this.ticks; |
  |  | 3326 | e < i.length && (i = Bs(i, e)), this.\_labelSizes = t = this.\_computeLabelSizes(i, i.length) |
  |  | 3327 | } |
  |  | 3328 | return t |
  |  | 3329 | } |
  |  | 3330 |  |
  |  | 3331 | \_computeLabelSizes(t, e) { |
  |  | 3332 | const {ctx: n, \_longestTextCache: o} = this, a = [], r = []; |
  |  | 3333 | let l, h, c, u, f, g, p, m, b, x, \_, y = 0, v = 0; |
  |  | 3334 | for (l = 0; l < e; ++l) { |
  |  | 3335 | if (u = t[l].label, f = this.\_resolveTickFontOptions(l), n.font = g = f.string, p = o[g] = o[g] || { |
  |  | 3336 | data: {}, |
  |  | 3337 | gc: [] |
  |  | 3338 | }, m = f.lineHeight, b = x = 0, i(u) || s(u)) { |
  |  | 3339 | if (s(u)) for (h = 0, c = u.length; h < c; ++h) \_ = u[h], i(\_) || s(\_) || (b = \_e(n, p.data, p.gc, b, \_), x += m) |
  |  | 3340 | } else b = \_e(n, p.data, p.gc, b, u), x = m; |
  |  | 3341 | a.push(b), r.push(x), y = Math.max(b, y), v = Math.max(x, v) |
  |  | 3342 | } |
  |  | 3343 | !function (t, e) { |
  |  | 3344 | d(t, t => { |
  |  | 3345 | const i = t.gc, s = i.length / 2; |
  |  | 3346 | let n; |
  |  | 3347 | if (s > e) { |
  |  | 3348 | for (n = 0; n < s; ++n) delete t.data[i[n]]; |
  |  | 3349 | i.splice(0, s) |
  |  | 3350 | } |
  |  | 3351 | }) |
  |  | 3352 | }(o, e); |
  |  | 3353 | const w = a.indexOf(y), M = r.indexOf(v), k = t => ({width: a[t] || 0, height: r[t] || 0}); |
  |  | 3354 | return {first: k(0), last: k(e - 1), widest: k(w), highest: k(M), widths: a, heights: r} |
  |  | 3355 | } |
  |  | 3356 |  |
  |  | 3357 | getLabelForValue(t) { |
  |  | 3358 | return t |
  |  | 3359 | } |
  |  | 3360 |  |
  |  | 3361 | getPixelForValue(t, e) { |
  |  | 3362 | return NaN |
  |  | 3363 | } |
  |  | 3364 |  |
  |  | 3365 | getValueForPixel(t) { |
  |  | 3366 | } |
  |  | 3367 |  |
  |  | 3368 | getPixelForTick(t) { |
  |  | 3369 | const e = this.ticks; |
  |  | 3370 | return t < 0 || t > e.length - 1 ? null : this.getPixelForValue(e[t].value) |
  |  | 3371 | } |
  |  | 3372 |  |
  |  | 3373 | getPixelForDecimal(t) { |
  |  | 3374 | this.\_reversePixels && (t = 1 - t); |
  |  | 3375 | const e = this.\_startPixel + t \* this.\_length; |
  |  | 3376 | return J(this.\_alignToPixels ? ve(this.chart, e, 0) : e) |
  |  | 3377 | } |
  |  | 3378 |  |
  |  | 3379 | getDecimalForPixel(t) { |
  |  | 3380 | const e = (t - this.\_startPixel) / this.\_length; |
  |  | 3381 | return this.\_reversePixels ? 1 - e : e |
  |  | 3382 | } |
  |  | 3383 |  |
  |  | 3384 | getBasePixel() { |
  |  | 3385 | return this.getPixelForValue(this.getBaseValue()) |
  |  | 3386 | } |
  |  | 3387 |  |
  |  | 3388 | getBaseValue() { |
  |  | 3389 | const {min: t, max: e} = this; |
  |  | 3390 | return t < 0 && e < 0 ? e : t > 0 && e > 0 ? t : 0 |
  |  | 3391 | } |
  |  | 3392 |  |
  |  | 3393 | getContext(t) { |
  |  | 3394 | const e = this.ticks || []; |
  |  | 3395 | if (t >= 0 && t < e.length) { |
  |  | 3396 | const i = e[t]; |
  |  | 3397 | return i.$context || (i.$context = function (t, e, i) { |
  |  | 3398 | return \_i(t, {tick: i, index: e, type: "tick"}) |
  |  | 3399 | }(this.getContext(), t, i)) |
  |  | 3400 | } |
  |  | 3401 | return this.$context || (this.$context = \_i(this.chart.getContext(), {scale: this, type: "scale"})) |
  |  | 3402 | } |
  |  | 3403 |  |
  |  | 3404 | \_tickSize() { |
  |  | 3405 | const t = this.options.ticks, e = H(this.labelRotation), i = Math.abs(Math.cos(e)), |
  |  | 3406 | s = Math.abs(Math.sin(e)), n = this.\_getLabelSizes(), o = t.autoSkipPadding || 0, |
  |  | 3407 | a = n ? n.widest.width + o : 0, r = n ? n.highest.height + o : 0; |
  |  | 3408 | return this.isHorizontal() ? r \* i > a \* s ? a / i : r / s : r \* s < a \* i ? r / i : a / s |
  |  | 3409 | } |
  |  | 3410 |  |
  |  | 3411 | \_isVisible() { |
  |  | 3412 | const t = this.options.display; |
  |  | 3413 | return "auto" !== t ? !!t : this.getMatchingVisibleMetas().length > 0 |
  |  | 3414 | } |
  |  | 3415 |  |
  |  | 3416 | \_computeGridLineItems(t) { |
  |  | 3417 | const e = this.axis, i = this.chart, s = this.options, {grid: o, position: a} = s, l = o.offset, |
  |  | 3418 | h = this.isHorizontal(), c = this.ticks.length + (l ? 1 : 0), d = Ws(o), u = [], |
  |  | 3419 | f = o.setContext(this.getContext()), g = f.drawBorder ? f.borderWidth : 0, p = g / 2, m = function (t) { |
  |  | 3420 | return ve(i, t, g) |
  |  | 3421 | }; |
  |  | 3422 | let b, x, \_, y, v, w, M, k, S, P, D, O; |
  |  | 3423 | if ("top" === a) b = m(this.bottom), w = this.bottom - d, k = b - p, P = m(t.top) + p, O = t.bottom; else if ("bottom" === a) b = m(this.top), P = t.top, O = m(t.bottom) - p, w = b + p, k = this.top + d; else if ("left" === a) b = m(this.right), v = this.right - d, M = b - p, S = m(t.left) + p, D = t.right; else if ("right" === a) b = m(this.left), S = t.left, D = m(t.right) - p, v = b + p, M = this.left + d; else if ("x" === e) { |
  |  | 3424 | if ("center" === a) b = m((t.top + t.bottom) / 2 + .5); else if (n(a)) { |
  |  | 3425 | const t = Object.keys(a)[0], e = a[t]; |
  |  | 3426 | b = m(this.chart.scales[t].getPixelForValue(e)) |
  |  | 3427 | } |
  |  | 3428 | P = t.top, O = t.bottom, w = b + p, k = w + d |
  |  | 3429 | } else if ("y" === e) { |
  |  | 3430 | if ("center" === a) b = m((t.left + t.right) / 2); else if (n(a)) { |
  |  | 3431 | const t = Object.keys(a)[0], e = a[t]; |
  |  | 3432 | b = m(this.chart.scales[t].getPixelForValue(e)) |
  |  | 3433 | } |
  |  | 3434 | v = b - p, M = v - d, S = t.left, D = t.right |
  |  | 3435 | } |
  |  | 3436 | const C = r(s.ticks.maxTicksLimit, c), A = Math.max(1, Math.ceil(c / C)); |
  |  | 3437 | for (x = 0; x < c; x += A) { |
  |  | 3438 | const t = o.setContext(this.getContext(x)), e = t.lineWidth, s = t.color, n = t.borderDash || [], |
  |  | 3439 | a = t.borderDashOffset, r = t.tickWidth, c = t.tickColor, d = t.tickBorderDash || [], |
  |  | 3440 | f = t.tickBorderDashOffset; |
  |  | 3441 | \_ = Ns(this, x, l), void 0 !== \_ && (y = ve(i, \_, e), h ? v = M = S = D = y : w = k = P = O = y, u.push({ |
  |  | 3442 | tx1: v, |
  |  | 3443 | ty1: w, |
  |  | 3444 | tx2: M, |
  |  | 3445 | ty2: k, |
  |  | 3446 | x1: S, |
  |  | 3447 | y1: P, |
  |  | 3448 | x2: D, |
  |  | 3449 | y2: O, |
  |  | 3450 | width: e, |
  |  | 3451 | color: s, |
  |  | 3452 | borderDash: n, |
  |  | 3453 | borderDashOffset: a, |
  |  | 3454 | tickWidth: r, |
  |  | 3455 | tickColor: c, |
  |  | 3456 | tickBorderDash: d, |
  |  | 3457 | tickBorderDashOffset: f |
  |  | 3458 | })) |
  |  | 3459 | } |
  |  | 3460 | return this.\_ticksLength = c, this.\_borderValue = b, u |
  |  | 3461 | } |
  |  | 3462 |  |
  |  | 3463 | \_computeLabelItems(t) { |
  |  | 3464 | const e = this.axis, i = this.options, {position: o, ticks: a} = i, r = this.isHorizontal(), |
  |  | 3465 | l = this.ticks, {align: h, crossAlign: c, padding: d, mirror: u} = a, f = Ws(i.grid), g = f + d, |
  |  | 3466 | p = u ? -d : g, m = -H(this.labelRotation), b = []; |
  |  | 3467 | let x, \_, y, v, w, M, k, S, P, D, O, C, A = "middle"; |
  |  | 3468 | if ("top" === o) M = this.bottom - p, k = this.\_getXAxisLabelAlignment(); else if ("bottom" === o) M = this.top + p, k = this.\_getXAxisLabelAlignment(); else if ("left" === o) { |
  |  | 3469 | const t = this.\_getYAxisLabelAlignment(f); |
  |  | 3470 | k = t.textAlign, w = t.x |
  |  | 3471 | } else if ("right" === o) { |
  |  | 3472 | const t = this.\_getYAxisLabelAlignment(f); |
  |  | 3473 | k = t.textAlign, w = t.x |
  |  | 3474 | } else if ("x" === e) { |
  |  | 3475 | if ("center" === o) M = (t.top + t.bottom) / 2 + g; else if (n(o)) { |
  |  | 3476 | const t = Object.keys(o)[0], e = o[t]; |
  |  | 3477 | M = this.chart.scales[t].getPixelForValue(e) + g |
  |  | 3478 | } |
  |  | 3479 | k = this.\_getXAxisLabelAlignment() |
  |  | 3480 | } else if ("y" === e) { |
  |  | 3481 | if ("center" === o) w = (t.left + t.right) / 2 - g; else if (n(o)) { |
  |  | 3482 | const t = Object.keys(o)[0], e = o[t]; |
  |  | 3483 | w = this.chart.scales[t].getPixelForValue(e) |
  |  | 3484 | } |
  |  | 3485 | k = this.\_getYAxisLabelAlignment(f).textAlign |
  |  | 3486 | } |
  |  | 3487 | "y" === e && ("start" === h ? A = "top" : "end" === h && (A = "bottom")); |
  |  | 3488 | const T = this.\_getLabelSizes(); |
  |  | 3489 | for (x = 0, \_ = l.length; x < \_; ++x) { |
  |  | 3490 | y = l[x], v = y.label; |
  |  | 3491 | const t = a.setContext(this.getContext(x)); |
  |  | 3492 | S = this.getPixelForTick(x) + a.labelOffset, P = this.\_resolveTickFontOptions(x), D = P.lineHeight, O = s(v) ? v.length : 1; |
  |  | 3493 | const e = O / 2, i = t.color, n = t.textStrokeColor, h = t.textStrokeWidth; |
  |  | 3494 | let d, f = k; |
  |  | 3495 | if (r ? (w = S, "inner" === k && (f = x === \_ - 1 ? this.options.reverse ? "left" : "right" : 0 === x ? this.options.reverse ? "right" : "left" : "center"), C = "top" === o ? "near" === c || 0 !== m ? -O \* D + D / 2 : "center" === c ? -T.highest.height / 2 - e \* D + D : -T.highest.height + D / 2 : "near" === c || 0 !== m ? D / 2 : "center" === c ? T.highest.height / 2 - e \* D : T.highest.height - O \* D, u && (C \*= -1)) : (M = S, C = (1 - O) \* D / 2), t.showLabelBackdrop) { |
  |  | 3496 | const e = pi(t.backdropPadding), i = T.heights[x], s = T.widths[x]; |
  |  | 3497 | let n = M + C - e.top, o = w - e.left; |
  |  | 3498 | switch (A) { |
  |  | 3499 | case"middle": |
  |  | 3500 | n -= i / 2; |
  |  | 3501 | break; |
  |  | 3502 | case"bottom": |
  |  | 3503 | n -= i |
  |  | 3504 | } |
  |  | 3505 | switch (k) { |
  |  | 3506 | case"center": |
  |  | 3507 | o -= s / 2; |
  |  | 3508 | break; |
  |  | 3509 | case"right": |
  |  | 3510 | o -= s |
  |  | 3511 | } |
  |  | 3512 | d = {left: o, top: n, width: s + e.width, height: i + e.height, color: t.backdropColor} |
  |  | 3513 | } |
  |  | 3514 | b.push({ |
  |  | 3515 | rotation: m, |
  |  | 3516 | label: v, |
  |  | 3517 | font: P, |
  |  | 3518 | color: i, |
  |  | 3519 | strokeColor: n, |
  |  | 3520 | strokeWidth: h, |
  |  | 3521 | textOffset: C, |
  |  | 3522 | textAlign: f, |
  |  | 3523 | textBaseline: A, |
  |  | 3524 | translation: [w, M], |
  |  | 3525 | backdrop: d |
  |  | 3526 | }) |
  |  | 3527 | } |
  |  | 3528 | return b |
  |  | 3529 | } |
  |  | 3530 |  |
  |  | 3531 | \_getXAxisLabelAlignment() { |
  |  | 3532 | const {position: t, ticks: e} = this.options; |
  |  | 3533 | if (-H(this.labelRotation)) return "top" === t ? "left" : "right"; |
  |  | 3534 | let i = "center"; |
  |  | 3535 | return "start" === e.align ? i = "left" : "end" === e.align ? i = "right" : "inner" === e.align && (i = "inner"), i |
  |  | 3536 | } |
  |  | 3537 |  |
  |  | 3538 | \_getYAxisLabelAlignment(t) { |
  |  | 3539 | const {position: e, ticks: {crossAlign: i, mirror: s, padding: n}} = this.options, o = t + n, |
  |  | 3540 | a = this.\_getLabelSizes().widest.width; |
  |  | 3541 | let r, l; |
  |  | 3542 | return "left" === e ? s ? (l = this.right + n, "near" === i ? r = "left" : "center" === i ? (r = "center", l += a / 2) : (r = "right", l += a)) : (l = this.right - o, "near" === i ? r = "right" : "center" === i ? (r = "center", l -= a / 2) : (r = "left", l = this.left)) : "right" === e ? s ? (l = this.left + n, "near" === i ? r = "right" : "center" === i ? (r = "center", l -= a / 2) : (r = "left", l -= a)) : (l = this.left + o, "near" === i ? r = "left" : "center" === i ? (r = "center", l += a / 2) : (r = "right", l = this.right)) : r = "right", { |
  |  | 3543 | textAlign: r, |
  |  | 3544 | x: l |
  |  | 3545 | } |
  |  | 3546 | } |
  |  | 3547 |  |
  |  | 3548 | \_computeLabelArea() { |
  |  | 3549 | if (this.options.ticks.mirror) return; |
  |  | 3550 | const t = this.chart, e = this.options.position; |
  |  | 3551 | return "left" === e || "right" === e ? { |
  |  | 3552 | top: 0, |
  |  | 3553 | left: this.left, |
  |  | 3554 | bottom: t.height, |
  |  | 3555 | right: this.right |
  |  | 3556 | } : "top" === e || "bottom" === e ? {top: this.top, left: 0, bottom: this.bottom, right: t.width} : void 0 |
  |  | 3557 | } |
  |  | 3558 |  |
  |  | 3559 | drawBackground() { |
  |  | 3560 | const {ctx: t, options: {backgroundColor: e}, left: i, top: s, width: n, height: o} = this; |
  |  | 3561 | e && (t.save(), t.fillStyle = e, t.fillRect(i, s, n, o), t.restore()) |
  |  | 3562 | } |
  |  | 3563 |  |
  |  | 3564 | getLineWidthForValue(t) { |
  |  | 3565 | const e = this.options.grid; |
  |  | 3566 | if (!this.\_isVisible() || !e.display) return 0; |
  |  | 3567 | const i = this.ticks.findIndex(e => e.value === t); |
  |  | 3568 | if (i >= 0) { |
  |  | 3569 | return e.setContext(this.getContext(i)).lineWidth |
  |  | 3570 | } |
  |  | 3571 | return 0 |
  |  | 3572 | } |
  |  | 3573 |  |
  |  | 3574 | drawGrid(t) { |
  |  | 3575 | const e = this.options.grid, i = this.ctx, |
  |  | 3576 | s = this.\_gridLineItems || (this.\_gridLineItems = this.\_computeGridLineItems(t)); |
  |  | 3577 | let n, o; |
  |  | 3578 | const a = (t, e, s) => { |
  |  | 3579 | s.width && s.color && (i.save(), i.lineWidth = s.width, i.strokeStyle = s.color, i.setLineDash(s.borderDash || []), i.lineDashOffset = s.borderDashOffset, i.beginPath(), i.moveTo(t.x, t.y), i.lineTo(e.x, e.y), i.stroke(), i.restore()) |
  |  | 3580 | }; |
  |  | 3581 | if (e.display) for (n = 0, o = s.length; n < o; ++n) { |
  |  | 3582 | const t = s[n]; |
  |  | 3583 | e.drawOnChartArea && a({x: t.x1, y: t.y1}, {x: t.x2, y: t.y2}, t), e.drawTicks && a({ |
  |  | 3584 | x: t.tx1, |
  |  | 3585 | y: t.ty1 |
  |  | 3586 | }, {x: t.tx2, y: t.ty2}, { |
  |  | 3587 | color: t.tickColor, |
  |  | 3588 | width: t.tickWidth, |
  |  | 3589 | borderDash: t.tickBorderDash, |
  |  | 3590 | borderDashOffset: t.tickBorderDashOffset |
  |  | 3591 | }) |
  |  | 3592 | } |
  |  | 3593 | } |
  |  | 3594 |  |
  |  | 3595 | drawBorder() { |
  |  | 3596 | const {chart: t, ctx: e, options: {grid: i}} = this, s = i.setContext(this.getContext()), |
  |  | 3597 | n = i.drawBorder ? s.borderWidth : 0; |
  |  | 3598 | if (!n) return; |
  |  | 3599 | const o = i.setContext(this.getContext(0)).lineWidth, a = this.\_borderValue; |
  |  | 3600 | let r, l, h, c; |
  |  | 3601 | this.isHorizontal() ? (r = ve(t, this.left, n) - n / 2, l = ve(t, this.right, o) + o / 2, h = c = a) : (h = ve(t, this.top, n) - n / 2, c = ve(t, this.bottom, o) + o / 2, r = l = a), e.save(), e.lineWidth = s.borderWidth, e.strokeStyle = s.borderColor, e.beginPath(), e.moveTo(r, h), e.lineTo(l, c), e.stroke(), e.restore() |
  |  | 3602 | } |
  |  | 3603 |  |
  |  | 3604 | drawLabels(t) { |
  |  | 3605 | if (!this.options.ticks.display) return; |
  |  | 3606 | const e = this.ctx, i = this.\_computeLabelArea(); |
  |  | 3607 | i && Pe(e, i); |
  |  | 3608 | const s = this.\_labelItems || (this.\_labelItems = this.\_computeLabelItems(t)); |
  |  | 3609 | let n, o; |
  |  | 3610 | for (n = 0, o = s.length; n < o; ++n) { |
  |  | 3611 | const t = s[n], i = t.font, o = t.label; |
  |  | 3612 | t.backdrop && (e.fillStyle = t.backdrop.color, e.fillRect(t.backdrop.left, t.backdrop.top, t.backdrop.width, t.backdrop.height)), Ae(e, o, 0, t.textOffset, i, t) |
  |  | 3613 | } |
  |  | 3614 | i && De(e) |
  |  | 3615 | } |
  |  | 3616 |  |
  |  | 3617 | drawTitle() { |
  |  | 3618 | const {ctx: t, options: {position: e, title: i, reverse: o}} = this; |
  |  | 3619 | if (!i.display) return; |
  |  | 3620 | const a = mi(i.font), r = pi(i.padding), l = i.align; |
  |  | 3621 | let h = a.lineHeight / 2; |
  |  | 3622 | "bottom" === e || "center" === e || n(e) ? (h += r.bottom, s(i.text) && (h += a.lineHeight \* (i.text.length - 1))) : h += r.top; |
  |  | 3623 | const {titleX: c, titleY: d, maxWidth: u, rotation: f} = function (t, e, i, s) { |
  |  | 3624 | const {top: o, left: a, bottom: r, right: l, chart: h} = t, {chartArea: c, scales: d} = h; |
  |  | 3625 | let u, f, g, p = 0; |
  |  | 3626 | const m = r - o, b = l - a; |
  |  | 3627 | if (t.isHorizontal()) { |
  |  | 3628 | if (f = ut(s, a, l), n(i)) { |
  |  | 3629 | const t = Object.keys(i)[0], s = i[t]; |
  |  | 3630 | g = d[t].getPixelForValue(s) + m - e |
  |  | 3631 | } else g = "center" === i ? (c.bottom + c.top) / 2 + m - e : Vs(t, i, e); |
  |  | 3632 | u = l - a |
  |  | 3633 | } else { |
  |  | 3634 | if (n(i)) { |
  |  | 3635 | const t = Object.keys(i)[0], s = i[t]; |
  |  | 3636 | f = d[t].getPixelForValue(s) - b + e |
  |  | 3637 | } else f = "center" === i ? (c.left + c.right) / 2 - b + e : Vs(t, i, e); |
  |  | 3638 | g = ut(s, r, o), p = "left" === i ? -L : L |
  |  | 3639 | } |
  |  | 3640 | return {titleX: f, titleY: g, maxWidth: u, rotation: p} |
  |  | 3641 | }(this, h, e, l); |
  |  | 3642 | Ae(t, i.text, 0, 0, a, { |
  |  | 3643 | color: i.color, |
  |  | 3644 | maxWidth: u, |
  |  | 3645 | rotation: f, |
  |  | 3646 | textAlign: Hs(l, e, o), |
  |  | 3647 | textBaseline: "middle", |
  |  | 3648 | translation: [c, d] |
  |  | 3649 | }) |
  |  | 3650 | } |
  |  | 3651 |  |
  |  | 3652 | draw(t) { |
  |  | 3653 | this.\_isVisible() && (this.drawBackground(), this.drawGrid(t), this.drawBorder(), this.drawTitle(), this.drawLabels(t)) |
  |  | 3654 | } |
  |  | 3655 |  |
  |  | 3656 | \_layers() { |
  |  | 3657 | const t = this.options, e = t.ticks && t.ticks.z || 0, i = r(t.grid && t.grid.z, -1); |
  |  | 3658 | return this.\_isVisible() && this.draw === $s.prototype.draw ? [{ |
  |  | 3659 | z: i, draw: t => { |
  |  | 3660 | this.drawBackground(), this.drawGrid(t), this.drawTitle() |
  |  | 3661 | } |
  |  | 3662 | }, { |
  |  | 3663 | z: i + 1, draw: () => { |
  |  | 3664 | this.drawBorder() |
  |  | 3665 | } |
  |  | 3666 | }, { |
  |  | 3667 | z: e, draw: t => { |
  |  | 3668 | this.drawLabels(t) |
  |  | 3669 | } |
  |  | 3670 | }] : [{ |
  |  | 3671 | z: e, draw: t => { |
  |  | 3672 | this.draw(t) |
  |  | 3673 | } |
  |  | 3674 | }] |
  |  | 3675 | } |
  |  | 3676 |  |
  |  | 3677 | getMatchingVisibleMetas(t) { |
  |  | 3678 | const e = this.chart.getSortedVisibleDatasetMetas(), i = this.axis + "AxisID", s = []; |
  |  | 3679 | let n, o; |
  |  | 3680 | for (n = 0, o = e.length; n < o; ++n) { |
  |  | 3681 | const o = e[n]; |
  |  | 3682 | o[i] !== this.id || t && o.type !== t || s.push(o) |
  |  | 3683 | } |
  |  | 3684 | return s |
  |  | 3685 | } |
  |  | 3686 |  |
  |  | 3687 | \_resolveTickFontOptions(t) { |
  |  | 3688 | return mi(this.options.ticks.setContext(this.getContext(t)).font) |
  |  | 3689 | } |
  |  | 3690 |  |
  |  | 3691 | \_maxDigits() { |
  |  | 3692 | const t = this.\_resolveTickFontOptions(0).lineHeight; |
  |  | 3693 | return (this.isHorizontal() ? this.width : this.height) / t |
  |  | 3694 | } |
  |  | 3695 | } |
  |  | 3696 |  |
  |  | 3697 | class Ys { |
  |  | 3698 | constructor(t, e, i) { |
  |  | 3699 | this.type = t, this.scope = e, this.override = i, this.items = Object.create(null) |
  |  | 3700 | } |
  |  | 3701 |  |
  |  | 3702 | isForType(t) { |
  |  | 3703 | return Object.prototype.isPrototypeOf.call(this.type.prototype, t.prototype) |
  |  | 3704 | } |
  |  | 3705 |  |
  |  | 3706 | register(t) { |
  |  | 3707 | const e = Object.getPrototypeOf(t); |
  |  | 3708 | let i; |
  |  | 3709 | (function (t) { |
  |  | 3710 | return "id" in t && "defaults" in t |
  |  | 3711 | })(e) && (i = this.register(e)); |
  |  | 3712 | const s = this.items, n = t.id, o = this.scope + "." + n; |
  |  | 3713 | if (!n) throw new Error("class does not have id: " + t); |
  |  | 3714 | return n in s || (s[n] = t, function (t, e, i) { |
  |  | 3715 | const s = m(Object.create(null), [i ? ne.get(i) : {}, ne.get(e), t.defaults]); |
  |  | 3716 | ne.set(e, s), t.defaultRoutes && function (t, e) { |
  |  | 3717 | Object.keys(e).forEach(i => { |
  |  | 3718 | const s = i.split("."), n = s.pop(), o = [t].concat(s).join("."), a = e[i].split("."), |
  |  | 3719 | r = a.pop(), l = a.join("."); |
  |  | 3720 | ne.route(o, n, l, r) |
  |  | 3721 | }) |
  |  | 3722 | }(e, t.defaultRoutes); |
  |  | 3723 | t.descriptors && ne.describe(e, t.descriptors) |
  |  | 3724 | }(t, o, i), this.override && ne.override(t.id, t.overrides)), o |
  |  | 3725 | } |
  |  | 3726 |  |
  |  | 3727 | get(t) { |
  |  | 3728 | return this.items[t] |
  |  | 3729 | } |
  |  | 3730 |  |
  |  | 3731 | unregister(t) { |
  |  | 3732 | const e = this.items, i = t.id, s = this.scope; |
  |  | 3733 | i in e && delete e[i], s && i in ne[s] && (delete ne[s][i], this.override && delete te[i]) |
  |  | 3734 | } |
  |  | 3735 | } |
  |  | 3736 |  |
  |  | 3737 | var Us = new class { |
  |  | 3738 | constructor() { |
  |  | 3739 | this.controllers = new Ys(Ls, "datasets", !0), this.elements = new Ys(Es, "elements"), this.plugins = new Ys(Object, "plugins"), this.scales = new Ys($s, "scales"), this.\_typedRegistries = [this.controllers, this.scales, this.elements] |
  |  | 3740 | } |
  |  | 3741 |  |
  |  | 3742 | add(...t) { |
  |  | 3743 | this.\_each("register", t) |
  |  | 3744 | } |
  |  | 3745 |  |
  |  | 3746 | remove(...t) { |
  |  | 3747 | this.\_each("unregister", t) |
  |  | 3748 | } |
  |  | 3749 |  |
  |  | 3750 | addControllers(...t) { |
  |  | 3751 | this.\_each("register", t, this.controllers) |
  |  | 3752 | } |
  |  | 3753 |  |
  |  | 3754 | addElements(...t) { |
  |  | 3755 | this.\_each("register", t, this.elements) |
  |  | 3756 | } |
  |  | 3757 |  |
  |  | 3758 | addPlugins(...t) { |
  |  | 3759 | this.\_each("register", t, this.plugins) |
  |  | 3760 | } |
  |  | 3761 |  |
  |  | 3762 | addScales(...t) { |
  |  | 3763 | this.\_each("register", t, this.scales) |
  |  | 3764 | } |
  |  | 3765 |  |
  |  | 3766 | getController(t) { |
  |  | 3767 | return this.\_get(t, this.controllers, "controller") |
  |  | 3768 | } |
  |  | 3769 |  |
  |  | 3770 | getElement(t) { |
  |  | 3771 | return this.\_get(t, this.elements, "element") |
  |  | 3772 | } |
  |  | 3773 |  |
  |  | 3774 | getPlugin(t) { |
  |  | 3775 | return this.\_get(t, this.plugins, "plugin") |
  |  | 3776 | } |
  |  | 3777 |  |
  |  | 3778 | getScale(t) { |
  |  | 3779 | return this.\_get(t, this.scales, "scale") |
  |  | 3780 | } |
  |  | 3781 |  |
  |  | 3782 | removeControllers(...t) { |
  |  | 3783 | this.\_each("unregister", t, this.controllers) |
  |  | 3784 | } |
  |  | 3785 |  |
  |  | 3786 | removeElements(...t) { |
  |  | 3787 | this.\_each("unregister", t, this.elements) |
  |  | 3788 | } |
  |  | 3789 |  |
  |  | 3790 | removePlugins(...t) { |
  |  | 3791 | this.\_each("unregister", t, this.plugins) |
  |  | 3792 | } |
  |  | 3793 |  |
  |  | 3794 | removeScales(...t) { |
  |  | 3795 | this.\_each("unregister", t, this.scales) |
  |  | 3796 | } |
  |  | 3797 |  |
  |  | 3798 | \_each(t, e, i) { |
  |  | 3799 | [...e].forEach(e => { |
  |  | 3800 | const s = i || this.\_getRegistryForType(e); |
  |  | 3801 | i || s.isForType(e) || s === this.plugins && e.id ? this.\_exec(t, s, e) : d(e, e => { |
  |  | 3802 | const s = i || this.\_getRegistryForType(e); |
  |  | 3803 | this.\_exec(t, s, e) |
  |  | 3804 | }) |
  |  | 3805 | }) |
  |  | 3806 | } |
  |  | 3807 |  |
  |  | 3808 | \_exec(t, e, i) { |
  |  | 3809 | const s = w(t); |
  |  | 3810 | c(i["before" + s], [], i), e[t](i), c(i["after" + s], [], i) |
  |  | 3811 | } |
  |  | 3812 |  |
  |  | 3813 | \_getRegistryForType(t) { |
  |  | 3814 | for (let e = 0; e < this.\_typedRegistries.length; e++) { |
  |  | 3815 | const i = this.\_typedRegistries[e]; |
  |  | 3816 | if (i.isForType(t)) return i |
  |  | 3817 | } |
  |  | 3818 | return this.plugins |
  |  | 3819 | } |
  |  | 3820 |  |
  |  | 3821 | \_get(t, e, i) { |
  |  | 3822 | const s = e.get(t); |
  |  | 3823 | if (void 0 === s) throw new Error('"' + t + '" is not a registered ' + i + "."); |
  |  | 3824 | return s |
  |  | 3825 | } |
  |  | 3826 | }; |
  |  | 3827 |  |
  |  | 3828 | class Xs { |
  |  | 3829 | constructor() { |
  |  | 3830 | this.\_init = [] |
  |  | 3831 | } |
  |  | 3832 |  |
  |  | 3833 | notify(t, e, i, s) { |
  |  | 3834 | "beforeInit" === e && (this.\_init = this.\_createDescriptors(t, !0), this.\_notify(this.\_init, t, "install")); |
  |  | 3835 | const n = s ? this.\_descriptors(t).filter(s) : this.\_descriptors(t), o = this.\_notify(n, t, e, i); |
  |  | 3836 | return "afterDestroy" === e && (this.\_notify(n, t, "stop"), this.\_notify(this.\_init, t, "uninstall")), o |
  |  | 3837 | } |
  |  | 3838 |  |
  |  | 3839 | \_notify(t, e, i, s) { |
  |  | 3840 | s = s || {}; |
  |  | 3841 | for (const n of t) { |
  |  | 3842 | const t = n.plugin; |
  |  | 3843 | if (!1 === c(t[i], [e, s, n.options], t) && s.cancelable) return !1 |
  |  | 3844 | } |
  |  | 3845 | return !0 |
  |  | 3846 | } |
  |  | 3847 |  |
  |  | 3848 | invalidate() { |
  |  | 3849 | i(this.\_cache) || (this.\_oldCache = this.\_cache, this.\_cache = void 0) |
  |  | 3850 | } |
  |  | 3851 |  |
  |  | 3852 | \_descriptors(t) { |
  |  | 3853 | if (this.\_cache) return this.\_cache; |
  |  | 3854 | const e = this.\_cache = this.\_createDescriptors(t); |
  |  | 3855 | return this.\_notifyStateChanges(t), e |
  |  | 3856 | } |
  |  | 3857 |  |
  |  | 3858 | \_createDescriptors(t, e) { |
  |  | 3859 | const i = t && t.config, s = r(i.options && i.options.plugins, {}), n = function (t) { |
  |  | 3860 | const e = {}, i = [], s = Object.keys(Us.plugins.items); |
  |  | 3861 | for (let t = 0; t < s.length; t++) i.push(Us.getPlugin(s[t])); |
  |  | 3862 | const n = t.plugins || []; |
  |  | 3863 | for (let t = 0; t < n.length; t++) { |
  |  | 3864 | const s = n[t]; |
  |  | 3865 | -1 === i.indexOf(s) && (i.push(s), e[s.id] = !0) |
  |  | 3866 | } |
  |  | 3867 | return {plugins: i, localIds: e} |
  |  | 3868 | }(i); |
  |  | 3869 | return !1 !== s || e ? function (t, {plugins: e, localIds: i}, s, n) { |
  |  | 3870 | const o = [], a = t.getContext(); |
  |  | 3871 | for (const r of e) { |
  |  | 3872 | const e = r.id, l = qs(s[e], n); |
  |  | 3873 | null !== l && o.push({plugin: r, options: Ks(t.config, {plugin: r, local: i[e]}, l, a)}) |
  |  | 3874 | } |
  |  | 3875 | return o |
  |  | 3876 | }(t, n, s, e) : [] |
  |  | 3877 | } |
  |  | 3878 |  |
  |  | 3879 | \_notifyStateChanges(t) { |
  |  | 3880 | const e = this.\_oldCache || [], i = this.\_cache, |
  |  | 3881 | s = (t, e) => t.filter(t => !e.some(e => t.plugin.id === e.plugin.id)); |
  |  | 3882 | this.\_notify(s(e, i), t, "stop"), this.\_notify(s(i, e), t, "start") |
  |  | 3883 | } |
  |  | 3884 | } |
  |  | 3885 |  |
  |  | 3886 | function qs(t, e) { |
  |  | 3887 | return e || !1 !== t ? !0 === t ? {} : t : null |
  |  | 3888 | } |
  |  | 3889 |  |
  |  | 3890 | function Ks(t, {plugin: e, local: i}, s, n) { |
  |  | 3891 | const o = t.pluginScopeKeys(e), a = t.getOptionScopes(s, o); |
  |  | 3892 | return i && e.defaults && a.push(e.defaults), t.createResolver(a, n, [""], { |
  |  | 3893 | scriptable: !1, |
  |  | 3894 | indexable: !1, |
  |  | 3895 | allKeys: !0 |
  |  | 3896 | }) |
  |  | 3897 | } |
  |  | 3898 |  |
  |  | 3899 | function Gs(t, e) { |
  |  | 3900 | const i = ne.datasets[t] || {}; |
  |  | 3901 | return ((e.datasets || {})[t] || {}).indexAxis || e.indexAxis || i.indexAxis || "x" |
  |  | 3902 | } |
  |  | 3903 |  |
  |  | 3904 | function Zs(t, e) { |
  |  | 3905 | return "x" === t || "y" === t ? t : e.axis || ("top" === (i = e.position) || "bottom" === i ? "x" : "left" === i || "right" === i ? "y" : void 0) || t.charAt(0).toLowerCase(); |
  |  | 3906 | var i |
  |  | 3907 | } |
  |  | 3908 |  |
  |  | 3909 | function Js(t) { |
  |  | 3910 | const e = t.options || (t.options = {}); |
  |  | 3911 | e.plugins = r(e.plugins, {}), e.scales = function (t, e) { |
  |  | 3912 | const i = te[t.type] || {scales: {}}, s = e.scales || {}, o = Gs(t.type, e), a = Object.create(null), |
  |  | 3913 | r = Object.create(null); |
  |  | 3914 | return Object.keys(s).forEach(t => { |
  |  | 3915 | const e = s[t]; |
  |  | 3916 | if (!n(e)) return console.error(`Invalid scale configuration for scale: ${t}`); |
  |  | 3917 | if (e.\_proxy) return console.warn(`Ignoring resolver passed as options for scale: ${t}`); |
  |  | 3918 | const l = Zs(t, e), h = function (t, e) { |
  |  | 3919 | return t === e ? "\_index\_" : "\_value\_" |
  |  | 3920 | }(l, o), c = i.scales || {}; |
  |  | 3921 | a[l] = a[l] || t, r[t] = b(Object.create(null), [{axis: l}, e, c[l], c[h]]) |
  |  | 3922 | }), t.data.datasets.forEach(i => { |
  |  | 3923 | const n = i.type || t.type, o = i.indexAxis || Gs(n, e), l = (te[n] || {}).scales || {}; |
  |  | 3924 | Object.keys(l).forEach(t => { |
  |  | 3925 | const e = function (t, e) { |
  |  | 3926 | let i = t; |
  |  | 3927 | return "\_index\_" === t ? i = e : "\_value\_" === t && (i = "x" === e ? "y" : "x"), i |
  |  | 3928 | }(t, o), n = i[e + "AxisID"] || a[e] || e; |
  |  | 3929 | r[n] = r[n] || Object.create(null), b(r[n], [{axis: e}, s[n], l[t]]) |
  |  | 3930 | }) |
  |  | 3931 | }), Object.keys(r).forEach(t => { |
  |  | 3932 | const e = r[t]; |
  |  | 3933 | b(e, [ne.scales[e.type], ne.scale]) |
  |  | 3934 | }), r |
  |  | 3935 | }(t, e) |
  |  | 3936 | } |
  |  | 3937 |  |
  |  | 3938 | function Qs(t) { |
  |  | 3939 | return (t = t || {}).datasets = t.datasets || [], t.labels = t.labels || [], t |
  |  | 3940 | } |
  |  | 3941 |  |
  |  | 3942 | const tn = new Map, en = new Set; |
  |  | 3943 |  |
  |  | 3944 | function sn(t, e) { |
  |  | 3945 | let i = tn.get(t); |
  |  | 3946 | return i || (i = e(), tn.set(t, i), en.add(i)), i |
  |  | 3947 | } |
  |  | 3948 |  |
  |  | 3949 | const nn = (t, e, i) => { |
  |  | 3950 | const s = y(e, i); |
  |  | 3951 | void 0 !== s && t.add(s) |
  |  | 3952 | }; |
  |  | 3953 |  |
  |  | 3954 | class on { |
  |  | 3955 | constructor(t) { |
  |  | 3956 | this.\_config = function (t) { |
  |  | 3957 | return (t = t || {}).data = Qs(t.data), Js(t), t |
  |  | 3958 | }(t), this.\_scopeCache = new Map, this.\_resolverCache = new Map |
  |  | 3959 | } |
  |  | 3960 |  |
  |  | 3961 | get platform() { |
  |  | 3962 | return this.\_config.platform |
  |  | 3963 | } |
  |  | 3964 |  |
  |  | 3965 | get type() { |
  |  | 3966 | return this.\_config.type |
  |  | 3967 | } |
  |  | 3968 |  |
  |  | 3969 | set type(t) { |
  |  | 3970 | this.\_config.type = t |
  |  | 3971 | } |
  |  | 3972 |  |
  |  | 3973 | get data() { |
  |  | 3974 | return this.\_config.data |
  |  | 3975 | } |
  |  | 3976 |  |
  |  | 3977 | set data(t) { |
  |  | 3978 | this.\_config.data = Qs(t) |
  |  | 3979 | } |
  |  | 3980 |  |
  |  | 3981 | get options() { |
  |  | 3982 | return this.\_config.options |
  |  | 3983 | } |
  |  | 3984 |  |
  |  | 3985 | set options(t) { |
  |  | 3986 | this.\_config.options = t |
  |  | 3987 | } |
  |  | 3988 |  |
  |  | 3989 | get plugins() { |
  |  | 3990 | return this.\_config.plugins |
  |  | 3991 | } |
  |  | 3992 |  |
  |  | 3993 | update() { |
  |  | 3994 | const t = this.\_config; |
  |  | 3995 | this.clearCache(), Js(t) |
  |  | 3996 | } |
  |  | 3997 |  |
  |  | 3998 | clearCache() { |
  |  | 3999 | this.\_scopeCache.clear(), this.\_resolverCache.clear() |
  |  | 4000 | } |
  |  | 4001 |  |
  |  | 4002 | datasetScopeKeys(t) { |
  |  | 4003 | return sn(t, () => [[`datasets.${t}`, ""]]) |
  |  | 4004 | } |
  |  | 4005 |  |
  |  | 4006 | datasetAnimationScopeKeys(t, e) { |
  |  | 4007 | return sn(`${t}.transition.${e}`, () => [[`datasets.${t}.transitions.${e}`, `transitions.${e}`], [`datasets.${t}`, ""]]) |
  |  | 4008 | } |
  |  | 4009 |  |
  |  | 4010 | datasetElementScopeKeys(t, e) { |
  |  | 4011 | return sn(`${t}-${e}`, () => [[`datasets.${t}.elements.${e}`, `datasets.${t}`, `elements.${e}`, ""]]) |
  |  | 4012 | } |
  |  | 4013 |  |
  |  | 4014 | pluginScopeKeys(t) { |
  |  | 4015 | const e = t.id; |
  |  | 4016 | return sn(`${this.type}-plugin-${e}`, () => [[`plugins.${e}`, ...t.additionalOptionScopes || []]]) |
  |  | 4017 | } |
  |  | 4018 |  |
  |  | 4019 | \_cachedScopes(t, e) { |
  |  | 4020 | const i = this.\_scopeCache; |
  |  | 4021 | let s = i.get(t); |
  |  | 4022 | return s && !e || (s = new Map, i.set(t, s)), s |
  |  | 4023 | } |
  |  | 4024 |  |
  |  | 4025 | getOptionScopes(t, e, i) { |
  |  | 4026 | const {options: s, type: n} = this, o = this.\_cachedScopes(t, i), a = o.get(e); |
  |  | 4027 | if (a) return a; |
  |  | 4028 | const r = new Set; |
  |  | 4029 | e.forEach(e => { |
  |  | 4030 | t && (r.add(t), e.forEach(e => nn(r, t, e))), e.forEach(t => nn(r, s, t)), e.forEach(t => nn(r, te[n] || {}, t)), e.forEach(t => nn(r, ne, t)), e.forEach(t => nn(r, ee, t)) |
  |  | 4031 | }); |
  |  | 4032 | const l = Array.from(r); |
  |  | 4033 | return 0 === l.length && l.push(Object.create(null)), en.has(e) && o.set(e, l), l |
  |  | 4034 | } |
  |  | 4035 |  |
  |  | 4036 | chartOptionScopes() { |
  |  | 4037 | const {options: t, type: e} = this; |
  |  | 4038 | return [t, te[e] || {}, ne.datasets[e] || {}, {type: e}, ne, ee] |
  |  | 4039 | } |
  |  | 4040 |  |
  |  | 4041 | resolveNamedOptions(t, e, i, n = [""]) { |
  |  | 4042 | const o = {$shared: !0}, {resolver: a, subPrefixes: r} = an(this.\_resolverCache, t, n); |
  |  | 4043 | let l = a; |
  |  | 4044 | if (function (t, e) { |
  |  | 4045 | const {isScriptable: i, isIndexable: n} = Ie(t); |
  |  | 4046 | for (const o of e) { |
  |  | 4047 | const e = i(o), a = n(o), r = (a || e) && t[o]; |
  |  | 4048 | if (e && (k(r) || rn(r)) || a && s(r)) return !0 |
  |  | 4049 | } |
  |  | 4050 | return !1 |
  |  | 4051 | }(a, e)) { |
  |  | 4052 | o.$shared = !1; |
  |  | 4053 | l = Re(a, i = k(i) ? i() : i, this.createResolver(t, i, r)) |
  |  | 4054 | } |
  |  | 4055 | for (const t of e) o[t] = l[t]; |
  |  | 4056 | return o |
  |  | 4057 | } |
  |  | 4058 |  |
  |  | 4059 | createResolver(t, e, i = [""], s) { |
  |  | 4060 | const {resolver: o} = an(this.\_resolverCache, t, i); |
  |  | 4061 | return n(e) ? Re(o, e, void 0, s) : o |
  |  | 4062 | } |
  |  | 4063 | } |
  |  | 4064 |  |
  |  | 4065 | function an(t, e, i) { |
  |  | 4066 | let s = t.get(e); |
  |  | 4067 | s || (s = new Map, t.set(e, s)); |
  |  | 4068 | const n = i.join(); |
  |  | 4069 | let o = s.get(n); |
  |  | 4070 | if (!o) { |
  |  | 4071 | o = {resolver: Ee(e, i), subPrefixes: i.filter(t => !t.toLowerCase().includes("hover"))}, s.set(n, o) |
  |  | 4072 | } |
  |  | 4073 | return o |
  |  | 4074 | } |
  |  | 4075 |  |
  |  | 4076 | const rn = t => n(t) && Object.getOwnPropertyNames(t).reduce((e, i) => e || k(t[i]), !1); |
  |  | 4077 | const ln = ["top", "bottom", "left", "right", "chartArea"]; |
  |  | 4078 |  |
  |  | 4079 | function hn(t, e) { |
  |  | 4080 | return "top" === t || "bottom" === t || -1 === ln.indexOf(t) && "x" === e |
  |  | 4081 | } |
  |  | 4082 |  |
  |  | 4083 | function cn(t, e) { |
  |  | 4084 | return function (i, s) { |
  |  | 4085 | return i[t] === s[t] ? i[e] - s[e] : i[t] - s[t] |
  |  | 4086 | } |
  |  | 4087 | } |
  |  | 4088 |  |
  |  | 4089 | function dn(t) { |
  |  | 4090 | const e = t.chart, i = e.options.animation; |
  |  | 4091 | e.notifyPlugins("afterRender"), c(i && i.onComplete, [t], e) |
  |  | 4092 | } |
  |  | 4093 |  |
  |  | 4094 | function un(t) { |
  |  | 4095 | const e = t.chart, i = e.options.animation; |
  |  | 4096 | c(i && i.onProgress, [t], e) |
  |  | 4097 | } |
  |  | 4098 |  |
  |  | 4099 | function fn(t) { |
  |  | 4100 | return oe() && "string" == typeof t ? t = document.getElementById(t) : t && t.length && (t = t[0]), t && t.canvas && (t = t.canvas), t |
  |  | 4101 | } |
  |  | 4102 |  |
  |  | 4103 | const gn = {}, pn = t => { |
  |  | 4104 | const e = fn(t); |
  |  | 4105 | return Object.values(gn).filter(t => t.canvas === e).pop() |
  |  | 4106 | }; |
  |  | 4107 |  |
  |  | 4108 | function mn(t, e, i) { |
  |  | 4109 | const s = Object.keys(t); |
  |  | 4110 | for (const n of s) { |
  |  | 4111 | const s = +n; |
  |  | 4112 | if (s >= e) { |
  |  | 4113 | const o = t[n]; |
  |  | 4114 | delete t[n], (i > 0 || s > e) && (t[s + i] = o) |
  |  | 4115 | } |
  |  | 4116 | } |
  |  | 4117 | } |
  |  | 4118 |  |
  |  | 4119 | class bn { |
  |  | 4120 | constructor(t, i) { |
  |  | 4121 | const s = this.config = new on(i), n = fn(t), o = pn(n); |
  |  | 4122 | if (o) throw new Error("Canvas is already in use. Chart with ID '" + o.id + "' must be destroyed before the canvas with ID '" + o.canvas.id + "' can be reused."); |
  |  | 4123 | const a = s.createResolver(s.chartOptionScopes(), this.getContext()); |
  |  | 4124 | this.platform = new (s.platform || gs(n)), this.platform.updateConfig(s); |
  |  | 4125 | const r = this.platform.acquireContext(n, a.aspectRatio), l = r && r.canvas, h = l && l.height, |
  |  | 4126 | c = l && l.width; |
  |  | 4127 | this.id = e(), this.ctx = r, this.canvas = l, this.width = c, this.height = h, this.\_options = a, this.\_aspectRatio = this.aspectRatio, this.\_layers = [], this.\_metasets = [], this.\_stacks = void 0, this.boxes = [], this.currentDevicePixelRatio = void 0, this.chartArea = void 0, this.\_active = [], this.\_lastEvent = void 0, this.\_listeners = {}, this.\_responsiveListeners = void 0, this.\_sortedMetasets = [], this.scales = {}, this.\_plugins = new Xs, this.$proxies = {}, this.\_hiddenIndices = {}, this.attached = !1, this.\_animationsDisabled = void 0, this.$context = void 0, this.\_doResize = ct(t => this.update(t), a.resizeDelay || 0), this.\_dataChanges = [], gn[this.id] = this, r && l ? (mt.listen(this, "complete", dn), mt.listen(this, "progress", un), this.\_initialize(), this.attached && this.update()) : console.error("Failed to create chart: can't acquire context from the given item") |
  |  | 4128 | } |
  |  | 4129 |  |
  |  | 4130 | get aspectRatio() { |
  |  | 4131 | const {options: {aspectRatio: t, maintainAspectRatio: e}, width: s, height: n, \_aspectRatio: o} = this; |
  |  | 4132 | return i(t) ? e && o ? o : n ? s / n : null : t |
  |  | 4133 | } |
  |  | 4134 |  |
  |  | 4135 | get data() { |
  |  | 4136 | return this.config.data |
  |  | 4137 | } |
  |  | 4138 |  |
  |  | 4139 | set data(t) { |
  |  | 4140 | this.config.data = t |
  |  | 4141 | } |
  |  | 4142 |  |
  |  | 4143 | get options() { |
  |  | 4144 | return this.\_options |
  |  | 4145 | } |
  |  | 4146 |  |
  |  | 4147 | set options(t) { |
  |  | 4148 | this.config.options = t |
  |  | 4149 | } |
  |  | 4150 |  |
  |  | 4151 | \_initialize() { |
  |  | 4152 | return this.notifyPlugins("beforeInit"), this.options.responsive ? this.resize() : pe(this, this.options.devicePixelRatio), this.bindEvents(), this.notifyPlugins("afterInit"), this |
  |  | 4153 | } |
  |  | 4154 |  |
  |  | 4155 | clear() { |
  |  | 4156 | return we(this.canvas, this.ctx), this |
  |  | 4157 | } |
  |  | 4158 |  |
  |  | 4159 | stop() { |
  |  | 4160 | return mt.stop(this), this |
  |  | 4161 | } |
  |  | 4162 |  |
  |  | 4163 | resize(t, e) { |
  |  | 4164 | mt.running(this) ? this.\_resizeBeforeDraw = {width: t, height: e} : this.\_resize(t, e) |
  |  | 4165 | } |
  |  | 4166 |  |
  |  | 4167 | \_resize(t, e) { |
  |  | 4168 | const i = this.options, s = this.canvas, n = i.maintainAspectRatio && this.aspectRatio, |
  |  | 4169 | o = this.platform.getMaximumSize(s, t, e, n), |
  |  | 4170 | a = i.devicePixelRatio || this.platform.getDevicePixelRatio(), r = this.width ? "resize" : "attach"; |
  |  | 4171 | this.width = o.width, this.height = o.height, this.\_aspectRatio = this.aspectRatio, pe(this, a, !0) && (this.notifyPlugins("resize", {size: o}), c(i.onResize, [this, o], this), this.attached && this.\_doResize(r) && this.render()) |
  |  | 4172 | } |
  |  | 4173 |  |
  |  | 4174 | ensureScalesHaveIDs() { |
  |  | 4175 | d(this.options.scales || {}, (t, e) => { |
  |  | 4176 | t.id = e |
  |  | 4177 | }) |
  |  | 4178 | } |
  |  | 4179 |  |
  |  | 4180 | buildOrUpdateScales() { |
  |  | 4181 | const t = this.options, e = t.scales, i = this.scales, |
  |  | 4182 | s = Object.keys(i).reduce((t, e) => (t[e] = !1, t), {}); |
  |  | 4183 | let n = []; |
  |  | 4184 | e && (n = n.concat(Object.keys(e).map(t => { |
  |  | 4185 | const i = e[t], s = Zs(t, i), n = "r" === s, o = "x" === s; |
  |  | 4186 | return { |
  |  | 4187 | options: i, |
  |  | 4188 | dposition: n ? "chartArea" : o ? "bottom" : "left", |
  |  | 4189 | dtype: n ? "radialLinear" : o ? "category" : "linear" |
  |  | 4190 | } |
  |  | 4191 | }))), d(n, e => { |
  |  | 4192 | const n = e.options, o = n.id, a = Zs(o, n), l = r(n.type, e.dtype); |
  |  | 4193 | void 0 !== n.position && hn(n.position, a) === hn(e.dposition) || (n.position = e.dposition), s[o] = !0; |
  |  | 4194 | let h = null; |
  |  | 4195 | if (o in i && i[o].type === l) h = i[o]; else { |
  |  | 4196 | h = new (Us.getScale(l))({id: o, type: l, ctx: this.ctx, chart: this}), i[h.id] = h |
  |  | 4197 | } |
  |  | 4198 | h.init(n, t) |
  |  | 4199 | }), d(s, (t, e) => { |
  |  | 4200 | t || delete i[e] |
  |  | 4201 | }), d(i, t => { |
  |  | 4202 | Zi.configure(this, t, t.options), Zi.addBox(this, t) |
  |  | 4203 | }) |
  |  | 4204 | } |
  |  | 4205 |  |
  |  | 4206 | \_updateMetasets() { |
  |  | 4207 | const t = this.\_metasets, e = this.data.datasets.length, i = t.length; |
  |  | 4208 | if (t.sort((t, e) => t.index - e.index), i > e) { |
  |  | 4209 | for (let t = e; t < i; ++t) this.\_destroyDatasetMeta(t); |
  |  | 4210 | t.splice(e, i - e) |
  |  | 4211 | } |
  |  | 4212 | this.\_sortedMetasets = t.slice(0).sort(cn("order", "index")) |
  |  | 4213 | } |
  |  | 4214 |  |
  |  | 4215 | \_removeUnreferencedMetasets() { |
  |  | 4216 | const {\_metasets: t, data: {datasets: e}} = this; |
  |  | 4217 | t.length > e.length && delete this.\_stacks, t.forEach((t, i) => { |
  |  | 4218 | 0 === e.filter(e => e === t.\_dataset).length && this.\_destroyDatasetMeta(i) |
  |  | 4219 | }) |
  |  | 4220 | } |
  |  | 4221 |  |
  |  | 4222 | buildOrUpdateControllers() { |
  |  | 4223 | const t = [], e = this.data.datasets; |
  |  | 4224 | let i, s; |
  |  | 4225 | for (this.\_removeUnreferencedMetasets(), i = 0, s = e.length; i < s; i++) { |
  |  | 4226 | const s = e[i]; |
  |  | 4227 | let n = this.getDatasetMeta(i); |
  |  | 4228 | const o = s.type || this.config.type; |
  |  | 4229 | if (n.type && n.type !== o && (this.\_destroyDatasetMeta(i), n = this.getDatasetMeta(i)), n.type = o, n.indexAxis = s.indexAxis || Gs(o, this.options), n.order = s.order || 0, n.index = i, n.label = "" + s.label, n.visible = this.isDatasetVisible(i), n.controller) n.controller.updateIndex(i), n.controller.linkScales(); else { |
  |  | 4230 | const e = Us.getController(o), {datasetElementType: s, dataElementType: a} = ne.datasets[o]; |
  |  | 4231 | Object.assign(e.prototype, { |
  |  | 4232 | dataElementType: Us.getElement(a), |
  |  | 4233 | datasetElementType: s && Us.getElement(s) |
  |  | 4234 | }), n.controller = new e(this, i), t.push(n.controller) |
  |  | 4235 | } |
  |  | 4236 | } |
  |  | 4237 | return this.\_updateMetasets(), t |
  |  | 4238 | } |
  |  | 4239 |  |
  |  | 4240 | \_resetElements() { |
  |  | 4241 | d(this.data.datasets, (t, e) => { |
  |  | 4242 | this.getDatasetMeta(e).controller.reset() |
  |  | 4243 | }, this) |
  |  | 4244 | } |
  |  | 4245 |  |
  |  | 4246 | reset() { |
  |  | 4247 | this.\_resetElements(), this.notifyPlugins("reset") |
  |  | 4248 | } |
  |  | 4249 |  |
  |  | 4250 | update(t) { |
  |  | 4251 | const e = this.config; |
  |  | 4252 | e.update(); |
  |  | 4253 | const i = this.\_options = e.createResolver(e.chartOptionScopes(), this.getContext()), |
  |  | 4254 | s = this.\_animationsDisabled = !i.animation; |
  |  | 4255 | if (this.\_updateScales(), this.\_checkEventBindings(), this.\_updateHiddenIndices(), this.\_plugins.invalidate(), !1 === this.notifyPlugins("beforeUpdate", { |
  |  | 4256 | mode: t, |
  |  | 4257 | cancelable: !0 |
  |  | 4258 | })) return; |
  |  | 4259 | const n = this.buildOrUpdateControllers(); |
  |  | 4260 | this.notifyPlugins("beforeElementsUpdate"); |
  |  | 4261 | let o = 0; |
  |  | 4262 | for (let t = 0, e = this.data.datasets.length; t < e; t++) { |
  |  | 4263 | const {controller: e} = this.getDatasetMeta(t), i = !s && -1 === n.indexOf(e); |
  |  | 4264 | e.buildOrUpdateElements(i), o = Math.max(+e.getMaxOverflow(), o) |
  |  | 4265 | } |
  |  | 4266 | o = this.\_minPadding = i.layout.autoPadding ? o : 0, this.\_updateLayout(o), s || d(n, t => { |
  |  | 4267 | t.reset() |
  |  | 4268 | }), this.\_updateDatasets(t), this.notifyPlugins("afterUpdate", {mode: t}), this.\_layers.sort(cn("z", "\_idx")); |
  |  | 4269 | const {\_active: a, \_lastEvent: r} = this; |
  |  | 4270 | r ? this.\_eventHandler(r, !0) : a.length && this.\_updateHoverStyles(a, a, !0), this.render() |
  |  | 4271 | } |
  |  | 4272 |  |
  |  | 4273 | \_updateScales() { |
  |  | 4274 | d(this.scales, t => { |
  |  | 4275 | Zi.removeBox(this, t) |
  |  | 4276 | }), this.ensureScalesHaveIDs(), this.buildOrUpdateScales() |
  |  | 4277 | } |
  |  | 4278 |  |
  |  | 4279 | \_checkEventBindings() { |
  |  | 4280 | const t = this.options, e = new Set(Object.keys(this.\_listeners)), i = new Set(t.events); |
  |  | 4281 | S(e, i) && !!this.\_responsiveListeners === t.responsive || (this.unbindEvents(), this.bindEvents()) |
  |  | 4282 | } |
  |  | 4283 |  |
  |  | 4284 | \_updateHiddenIndices() { |
  |  | 4285 | const {\_hiddenIndices: t} = this, e = this.\_getUniformDataChanges() || []; |
  |  | 4286 | for (const {method: i, start: s, count: n} of e) { |
  |  | 4287 | mn(t, s, "\_removeElements" === i ? -n : n) |
  |  | 4288 | } |
  |  | 4289 | } |
  |  | 4290 |  |
  |  | 4291 | \_getUniformDataChanges() { |
  |  | 4292 | const t = this.\_dataChanges; |
  |  | 4293 | if (!t || !t.length) return; |
  |  | 4294 | this.\_dataChanges = []; |
  |  | 4295 | const e = this.data.datasets.length, |
  |  | 4296 | i = e => new Set(t.filter(t => t[0] === e).map((t, e) => e + "," + t.splice(1).join(","))), s = i(0); |
  |  | 4297 | for (let t = 1; t < e; t++) if (!S(s, i(t))) return; |
  |  | 4298 | return Array.from(s).map(t => t.split(",")).map(t => ({method: t[1], start: +t[2], count: +t[3]})) |
  |  | 4299 | } |
  |  | 4300 |  |
  |  | 4301 | \_updateLayout(t) { |
  |  | 4302 | if (!1 === this.notifyPlugins("beforeLayout", {cancelable: !0})) return; |
  |  | 4303 | Zi.update(this, this.width, this.height, t); |
  |  | 4304 | const e = this.chartArea, i = e.width <= 0 || e.height <= 0; |
  |  | 4305 | this.\_layers = [], d(this.boxes, t => { |
  |  | 4306 | i && "chartArea" === t.position || (t.configure && t.configure(), this.\_layers.push(...t.\_layers())) |
  |  | 4307 | }, this), this.\_layers.forEach((t, e) => { |
  |  | 4308 | t.\_idx = e |
  |  | 4309 | }), this.notifyPlugins("afterLayout") |
  |  | 4310 | } |
  |  | 4311 |  |
  |  | 4312 | \_updateDatasets(t) { |
  |  | 4313 | if (!1 !== this.notifyPlugins("beforeDatasetsUpdate", {mode: t, cancelable: !0})) { |
  |  | 4314 | for (let t = 0, e = this.data.datasets.length; t < e; ++t) this.getDatasetMeta(t).controller.configure(); |
  |  | 4315 | for (let e = 0, i = this.data.datasets.length; e < i; ++e) this.\_updateDataset(e, k(t) ? t({datasetIndex: e}) : t); |
  |  | 4316 | this.notifyPlugins("afterDatasetsUpdate", {mode: t}) |
  |  | 4317 | } |
  |  | 4318 | } |
  |  | 4319 |  |
  |  | 4320 | \_updateDataset(t, e) { |
  |  | 4321 | const i = this.getDatasetMeta(t), s = {meta: i, index: t, mode: e, cancelable: !0}; |
  |  | 4322 | !1 !== this.notifyPlugins("beforeDatasetUpdate", s) && (i.controller.\_update(e), s.cancelable = !1, this.notifyPlugins("afterDatasetUpdate", s)) |
  |  | 4323 | } |
  |  | 4324 |  |
  |  | 4325 | render() { |
  |  | 4326 | !1 !== this.notifyPlugins("beforeRender", {cancelable: !0}) && (mt.has(this) ? this.attached && !mt.running(this) && mt.start(this) : (this.draw(), dn({chart: this}))) |
  |  | 4327 | } |
  |  | 4328 |  |
  |  | 4329 | draw() { |
  |  | 4330 | let t; |
  |  | 4331 | if (this.\_resizeBeforeDraw) { |
  |  | 4332 | const {width: t, height: e} = this.\_resizeBeforeDraw; |
  |  | 4333 | this.\_resize(t, e), this.\_resizeBeforeDraw = null |
  |  | 4334 | } |
  |  | 4335 | if (this.clear(), this.width <= 0 || this.height <= 0) return; |
  |  | 4336 | if (!1 === this.notifyPlugins("beforeDraw", {cancelable: !0})) return; |
  |  | 4337 | const e = this.\_layers; |
  |  | 4338 | for (t = 0; t < e.length && e[t].z <= 0; ++t) e[t].draw(this.chartArea); |
  |  | 4339 | for (this.\_drawDatasets(); t < e.length; ++t) e[t].draw(this.chartArea); |
  |  | 4340 | this.notifyPlugins("afterDraw") |
  |  | 4341 | } |
  |  | 4342 |  |
  |  | 4343 | \_getSortedDatasetMetas(t) { |
  |  | 4344 | const e = this.\_sortedMetasets, i = []; |
  |  | 4345 | let s, n; |
  |  | 4346 | for (s = 0, n = e.length; s < n; ++s) { |
  |  | 4347 | const n = e[s]; |
  |  | 4348 | t && !n.visible || i.push(n) |
  |  | 4349 | } |
  |  | 4350 | return i |
  |  | 4351 | } |
  |  | 4352 |  |
  |  | 4353 | getSortedVisibleDatasetMetas() { |
  |  | 4354 | return this.\_getSortedDatasetMetas(!0) |
  |  | 4355 | } |
  |  | 4356 |  |
  |  | 4357 | \_drawDatasets() { |
  |  | 4358 | if (!1 === this.notifyPlugins("beforeDatasetsDraw", {cancelable: !0})) return; |
  |  | 4359 | const t = this.getSortedVisibleDatasetMetas(); |
  |  | 4360 | for (let e = t.length - 1; e >= 0; --e) this.\_drawDataset(t[e]); |
  |  | 4361 | this.notifyPlugins("afterDatasetsDraw") |
  |  | 4362 | } |
  |  | 4363 |  |
  |  | 4364 | \_drawDataset(t) { |
  |  | 4365 | const e = this.ctx, i = t.\_clip, s = !i.disabled, n = this.chartArea, |
  |  | 4366 | o = {meta: t, index: t.index, cancelable: !0}; |
  |  | 4367 | !1 !== this.notifyPlugins("beforeDatasetDraw", o) && (s && Pe(e, { |
  |  | 4368 | left: !1 === i.left ? 0 : n.left - i.left, |
  |  | 4369 | right: !1 === i.right ? this.width : n.right + i.right, |
  |  | 4370 | top: !1 === i.top ? 0 : n.top - i.top, |
  |  | 4371 | bottom: !1 === i.bottom ? this.height : n.bottom + i.bottom |
  |  | 4372 | }), t.controller.draw(), s && De(e), o.cancelable = !1, this.notifyPlugins("afterDatasetDraw", o)) |
  |  | 4373 | } |
  |  | 4374 |  |
  |  | 4375 | isPointInArea(t) { |
  |  | 4376 | return Se(t, this.chartArea, this.\_minPadding) |
  |  | 4377 | } |
  |  | 4378 |  |
  |  | 4379 | getElementsAtEventForMode(t, e, i, s) { |
  |  | 4380 | const n = Vi.modes[e]; |
  |  | 4381 | return "function" == typeof n ? n(this, t, i, s) : [] |
  |  | 4382 | } |
  |  | 4383 |  |
  |  | 4384 | getDatasetMeta(t) { |
  |  | 4385 | const e = this.data.datasets[t], i = this.\_metasets; |
  |  | 4386 | let s = i.filter(t => t && t.\_dataset === e).pop(); |
  |  | 4387 | return s || (s = { |
  |  | 4388 | type: null, |
  |  | 4389 | data: [], |
  |  | 4390 | dataset: null, |
  |  | 4391 | controller: null, |
  |  | 4392 | hidden: null, |
  |  | 4393 | xAxisID: null, |
  |  | 4394 | yAxisID: null, |
  |  | 4395 | order: e && e.order || 0, |
  |  | 4396 | index: t, |
  |  | 4397 | \_dataset: e, |
  |  | 4398 | \_parsed: [], |
  |  | 4399 | \_sorted: !1 |
  |  | 4400 | }, i.push(s)), s |
  |  | 4401 | } |
  |  | 4402 |  |
  |  | 4403 | getContext() { |
  |  | 4404 | return this.$context || (this.$context = \_i(null, {chart: this, type: "chart"})) |
  |  | 4405 | } |
  |  | 4406 |  |
  |  | 4407 | getVisibleDatasetCount() { |
  |  | 4408 | return this.getSortedVisibleDatasetMetas().length |
  |  | 4409 | } |
  |  | 4410 |  |
  |  | 4411 | isDatasetVisible(t) { |
  |  | 4412 | const e = this.data.datasets[t]; |
  |  | 4413 | if (!e) return !1; |
  |  | 4414 | const i = this.getDatasetMeta(t); |
  |  | 4415 | return "boolean" == typeof i.hidden ? !i.hidden : !e.hidden |
  |  | 4416 | } |
  |  | 4417 |  |
  |  | 4418 | setDatasetVisibility(t, e) { |
  |  | 4419 | this.getDatasetMeta(t).hidden = !e |
  |  | 4420 | } |
  |  | 4421 |  |
  |  | 4422 | toggleDataVisibility(t) { |
  |  | 4423 | this.\_hiddenIndices[t] = !this.\_hiddenIndices[t] |
  |  | 4424 | } |
  |  | 4425 |  |
  |  | 4426 | getDataVisibility(t) { |
  |  | 4427 | return !this.\_hiddenIndices[t] |
  |  | 4428 | } |
  |  | 4429 |  |
  |  | 4430 | \_updateVisibility(t, e, i) { |
  |  | 4431 | const s = i ? "show" : "hide", n = this.getDatasetMeta(t), o = n.controller.\_resolveAnimations(void 0, s); |
  |  | 4432 | M(e) ? (n.data[e].hidden = !i, this.update()) : (this.setDatasetVisibility(t, i), o.update(n, {visible: i}), this.update(e => e.datasetIndex === t ? s : void 0)) |
  |  | 4433 | } |
  |  | 4434 |  |
  |  | 4435 | hide(t, e) { |
  |  | 4436 | this.\_updateVisibility(t, e, !1) |
  |  | 4437 | } |
  |  | 4438 |  |
  |  | 4439 | show(t, e) { |
  |  | 4440 | this.\_updateVisibility(t, e, !0) |
  |  | 4441 | } |
  |  | 4442 |  |
  |  | 4443 | \_destroyDatasetMeta(t) { |
  |  | 4444 | const e = this.\_metasets[t]; |
  |  | 4445 | e && e.controller && e.controller.\_destroy(), delete this.\_metasets[t] |
  |  | 4446 | } |
  |  | 4447 |  |
  |  | 4448 | \_stop() { |
  |  | 4449 | let t, e; |
  |  | 4450 | for (this.stop(), mt.remove(this), t = 0, e = this.data.datasets.length; t < e; ++t) this.\_destroyDatasetMeta(t) |
  |  | 4451 | } |
  |  | 4452 |  |
  |  | 4453 | destroy() { |
  |  | 4454 | this.notifyPlugins("beforeDestroy"); |
  |  | 4455 | const {canvas: t, ctx: e} = this; |
  |  | 4456 | this.\_stop(), this.config.clearCache(), t && (this.unbindEvents(), we(t, e), this.platform.releaseContext(e), this.canvas = null, this.ctx = null), this.notifyPlugins("destroy"), delete gn[this.id], this.notifyPlugins("afterDestroy") |
  |  | 4457 | } |
  |  | 4458 |  |
  |  | 4459 | toBase64Image(...t) { |
  |  | 4460 | return this.canvas.toDataURL(...t) |
  |  | 4461 | } |
  |  | 4462 |  |
  |  | 4463 | bindEvents() { |
  |  | 4464 | this.bindUserEvents(), this.options.responsive ? this.bindResponsiveEvents() : this.attached = !0 |
  |  | 4465 | } |
  |  | 4466 |  |
  |  | 4467 | bindUserEvents() { |
  |  | 4468 | const t = this.\_listeners, e = this.platform, i = (i, s) => { |
  |  | 4469 | e.addEventListener(this, i, s), t[i] = s |
  |  | 4470 | }, s = (t, e, i) => { |
  |  | 4471 | t.offsetX = e, t.offsetY = i, this.\_eventHandler(t) |
  |  | 4472 | }; |
  |  | 4473 | d(this.options.events, t => i(t, s)) |
  |  | 4474 | } |
  |  | 4475 |  |
  |  | 4476 | bindResponsiveEvents() { |
  |  | 4477 | this.\_responsiveListeners || (this.\_responsiveListeners = {}); |
  |  | 4478 | const t = this.\_responsiveListeners, e = this.platform, i = (i, s) => { |
  |  | 4479 | e.addEventListener(this, i, s), t[i] = s |
  |  | 4480 | }, s = (i, s) => { |
  |  | 4481 | t[i] && (e.removeEventListener(this, i, s), delete t[i]) |
  |  | 4482 | }, n = (t, e) => { |
  |  | 4483 | this.canvas && this.resize(t, e) |
  |  | 4484 | }; |
  |  | 4485 | let o; |
  |  | 4486 | const a = () => { |
  |  | 4487 | s("attach", a), this.attached = !0, this.resize(), i("resize", n), i("detach", o) |
  |  | 4488 | }; |
  |  | 4489 | o = () => { |
  |  | 4490 | this.attached = !1, s("resize", n), this.\_stop(), this.\_resize(0, 0), i("attach", a) |
  |  | 4491 | }, e.isAttached(this.canvas) ? a() : o() |
  |  | 4492 | } |
  |  | 4493 |  |
  |  | 4494 | unbindEvents() { |
  |  | 4495 | d(this.\_listeners, (t, e) => { |
  |  | 4496 | this.platform.removeEventListener(this, e, t) |
  |  | 4497 | }), this.\_listeners = {}, d(this.\_responsiveListeners, (t, e) => { |
  |  | 4498 | this.platform.removeEventListener(this, e, t) |
  |  | 4499 | }), this.\_responsiveListeners = void 0 |
  |  | 4500 | } |
  |  | 4501 |  |
  |  | 4502 | updateHoverStyle(t, e, i) { |
  |  | 4503 | const s = i ? "set" : "remove"; |
  |  | 4504 | let n, o, a, r; |
  |  | 4505 | for ("dataset" === e && (n = this.getDatasetMeta(t[0].datasetIndex), n.controller["\_" + s + "DatasetHoverStyle"]()), a = 0, r = t.length; a < r; ++a) { |
  |  | 4506 | o = t[a]; |
  |  | 4507 | const e = o && this.getDatasetMeta(o.datasetIndex).controller; |
  |  | 4508 | e && e[s + "HoverStyle"](o.element, o.datasetIndex, o.index) |
  |  | 4509 | } |
  |  | 4510 | } |
  |  | 4511 |  |
  |  | 4512 | getActiveElements() { |
  |  | 4513 | return this.\_active || [] |
  |  | 4514 | } |
  |  | 4515 |  |
  |  | 4516 | setActiveElements(t) { |
  |  | 4517 | const e = this.\_active || [], i = t.map(({datasetIndex: t, index: e}) => { |
  |  | 4518 | const i = this.getDatasetMeta(t); |
  |  | 4519 | if (!i) throw new Error("No dataset found at index " + t); |
  |  | 4520 | return {datasetIndex: t, element: i.data[e], index: e} |
  |  | 4521 | }); |
  |  | 4522 | !u(i, e) && (this.\_active = i, this.\_lastEvent = null, this.\_updateHoverStyles(i, e)) |
  |  | 4523 | } |
  |  | 4524 |  |
  |  | 4525 | notifyPlugins(t, e, i) { |
  |  | 4526 | return this.\_plugins.notify(this, t, e, i) |
  |  | 4527 | } |
  |  | 4528 |  |
  |  | 4529 | \_updateHoverStyles(t, e, i) { |
  |  | 4530 | const s = this.options.hover, |
  |  | 4531 | n = (t, e) => t.filter(t => !e.some(e => t.datasetIndex === e.datasetIndex && t.index === e.index)), |
  |  | 4532 | o = n(e, t), a = i ? t : n(t, e); |
  |  | 4533 | o.length && this.updateHoverStyle(o, s.mode, !1), a.length && s.mode && this.updateHoverStyle(a, s.mode, !0) |
  |  | 4534 | } |
  |  | 4535 |  |
  |  | 4536 | \_eventHandler(t, e) { |
  |  | 4537 | const i = {event: t, replay: e, cancelable: !0, inChartArea: this.isPointInArea(t)}, |
  |  | 4538 | s = e => (e.options.events || this.options.events).includes(t.native.type); |
  |  | 4539 | if (!1 === this.notifyPlugins("beforeEvent", i, s)) return; |
  |  | 4540 | const n = this.\_handleEvent(t, e, i.inChartArea); |
  |  | 4541 | return i.cancelable = !1, this.notifyPlugins("afterEvent", i, s), (n || i.changed) && this.render(), this |
  |  | 4542 | } |
  |  | 4543 |  |
  |  | 4544 | \_handleEvent(t, e, i) { |
  |  | 4545 | const {\_active: s = [], options: n} = this, o = e, a = this.\_getActiveElements(t, s, i, o), r = P(t), |
  |  | 4546 | l = function (t, e, i, s) { |
  |  | 4547 | return i && "mouseout" !== t.type ? s ? e : t : null |
  |  | 4548 | }(t, this.\_lastEvent, i, r); |
  |  | 4549 | i && (this.\_lastEvent = null, c(n.onHover, [t, a, this], this), r && c(n.onClick, [t, a, this], this)); |
  |  | 4550 | const h = !u(a, s); |
  |  | 4551 | return (h || e) && (this.\_active = a, this.\_updateHoverStyles(a, s, e)), this.\_lastEvent = l, h |
  |  | 4552 | } |
  |  | 4553 |  |
  |  | 4554 | \_getActiveElements(t, e, i, s) { |
  |  | 4555 | if ("mouseout" === t.type) return []; |
  |  | 4556 | if (!i) return e; |
  |  | 4557 | const n = this.options.hover; |
  |  | 4558 | return this.getElementsAtEventForMode(t, n.mode, n, s) |
  |  | 4559 | } |
  |  | 4560 | } |
  |  | 4561 |  |
  |  | 4562 | const xn = () => d(bn.instances, t => t.\_plugins.invalidate()), \_n = !0; |
  |  | 4563 |  |
  |  | 4564 | function yn() { |
  |  | 4565 | throw new Error("This method is not implemented: Check that a complete date adapter is provided.") |
  |  | 4566 | } |
  |  | 4567 |  |
  |  | 4568 | Object.defineProperties(bn, { |
  |  | 4569 | defaults: {enumerable: \_n, value: ne}, |
  |  | 4570 | instances: {enumerable: \_n, value: gn}, |
  |  | 4571 | overrides: {enumerable: \_n, value: te}, |
  |  | 4572 | registry: {enumerable: \_n, value: Us}, |
  |  | 4573 | version: {enumerable: \_n, value: "3.9.1"}, |
  |  | 4574 | getChart: {enumerable: \_n, value: pn}, |
  |  | 4575 | register: { |
  |  | 4576 | enumerable: \_n, value: (...t) => { |
  |  | 4577 | Us.add(...t), xn() |
  |  | 4578 | } |
  |  | 4579 | }, |
  |  | 4580 | unregister: { |
  |  | 4581 | enumerable: \_n, value: (...t) => { |
  |  | 4582 | Us.remove(...t), xn() |
  |  | 4583 | } |
  |  | 4584 | } |
  |  | 4585 | }); |
  |  | 4586 |  |
  |  | 4587 | class vn { |
  |  | 4588 | constructor(t) { |
  |  | 4589 | this.options = t || {} |
  |  | 4590 | } |
  |  | 4591 |  |
  |  | 4592 | init(t) { |
  |  | 4593 | } |
  |  | 4594 |  |
  |  | 4595 | formats() { |
  |  | 4596 | return yn() |
  |  | 4597 | } |
  |  | 4598 |  |
  |  | 4599 | parse(t, e) { |
  |  | 4600 | return yn() |
  |  | 4601 | } |
  |  | 4602 |  |
  |  | 4603 | format(t, e) { |
  |  | 4604 | return yn() |
  |  | 4605 | } |
  |  | 4606 |  |
  |  | 4607 | add(t, e, i) { |
  |  | 4608 | return yn() |
  |  | 4609 | } |
  |  | 4610 |  |
  |  | 4611 | diff(t, e, i) { |
  |  | 4612 | return yn() |
  |  | 4613 | } |
  |  | 4614 |  |
  |  | 4615 | startOf(t, e, i) { |
  |  | 4616 | return yn() |
  |  | 4617 | } |
  |  | 4618 |  |
  |  | 4619 | endOf(t, e) { |
  |  | 4620 | return yn() |
  |  | 4621 | } |
  |  | 4622 | } |
  |  | 4623 |  |
  |  | 4624 | vn.override = function (t) { |
  |  | 4625 | Object.assign(vn.prototype, t) |
  |  | 4626 | }; |
  |  | 4627 | var wn = {\_date: vn}; |
  |  | 4628 |  |
  |  | 4629 | function Mn(t) { |
  |  | 4630 | const e = t.iScale, i = function (t, e) { |
  |  | 4631 | if (!t.\_cache.$bar) { |
  |  | 4632 | const i = t.getMatchingVisibleMetas(e); |
  |  | 4633 | let s = []; |
  |  | 4634 | for (let e = 0, n = i.length; e < n; e++) s = s.concat(i[e].controller.getAllParsedValues(t)); |
  |  | 4635 | t.\_cache.$bar = rt(s.sort((t, e) => t - e)) |
  |  | 4636 | } |
  |  | 4637 | return t.\_cache.$bar |
  |  | 4638 | }(e, t.type); |
  |  | 4639 | let s, n, o, a, r = e.\_length; |
  |  | 4640 | const l = () => { |
  |  | 4641 | 32767 !== o && -32768 !== o && (M(a) && (r = Math.min(r, Math.abs(o - a) || r)), a = o) |
  |  | 4642 | }; |
  |  | 4643 | for (s = 0, n = i.length; s < n; ++s) o = e.getPixelForValue(i[s]), l(); |
  |  | 4644 | for (a = void 0, s = 0, n = e.ticks.length; s < n; ++s) o = e.getPixelForTick(s), l(); |
  |  | 4645 | return r |
  |  | 4646 | } |
  |  | 4647 |  |
  |  | 4648 | function kn(t, e, i, n) { |
  |  | 4649 | return s(t) ? function (t, e, i, s) { |
  |  | 4650 | const n = i.parse(t[0], s), o = i.parse(t[1], s), a = Math.min(n, o), r = Math.max(n, o); |
  |  | 4651 | let l = a, h = r; |
  |  | 4652 | Math.abs(a) > Math.abs(r) && (l = r, h = a), e[i.axis] = h, e.\_custom = { |
  |  | 4653 | barStart: l, |
  |  | 4654 | barEnd: h, |
  |  | 4655 | start: n, |
  |  | 4656 | end: o, |
  |  | 4657 | min: a, |
  |  | 4658 | max: r |
  |  | 4659 | } |
  |  | 4660 | }(t, e, i, n) : e[i.axis] = i.parse(t, n), e |
  |  | 4661 | } |
  |  | 4662 |  |
  |  | 4663 | function Sn(t, e, i, s) { |
  |  | 4664 | const n = t.iScale, o = t.vScale, a = n.getLabels(), r = n === o, l = []; |
  |  | 4665 | let h, c, d, u; |
  |  | 4666 | for (h = i, c = i + s; h < c; ++h) u = e[h], d = {}, d[n.axis] = r || n.parse(a[h], h), l.push(kn(u, d, o, h)); |
  |  | 4667 | return l |
  |  | 4668 | } |
  |  | 4669 |  |
  |  | 4670 | function Pn(t) { |
  |  | 4671 | return t && void 0 !== t.barStart && void 0 !== t.barEnd |
  |  | 4672 | } |
  |  | 4673 |  |
  |  | 4674 | function Dn(t, e, i, s) { |
  |  | 4675 | let n = e.borderSkipped; |
  |  | 4676 | const o = {}; |
  |  | 4677 | if (!n) return void (t.borderSkipped = o); |
  |  | 4678 | if (!0 === n) return void (t.borderSkipped = {top: !0, right: !0, bottom: !0, left: !0}); |
  |  | 4679 | const {start: a, end: r, reverse: l, top: h, bottom: c} = function (t) { |
  |  | 4680 | let e, i, s, n, o; |
  |  | 4681 | return t.horizontal ? (e = t.base > t.x, i = "left", s = "right") : (e = t.base < t.y, i = "bottom", s = "top"), e ? (n = "end", o = "start") : (n = "start", o = "end"), { |
  |  | 4682 | start: i, |
  |  | 4683 | end: s, |
  |  | 4684 | reverse: e, |
  |  | 4685 | top: n, |
  |  | 4686 | bottom: o |
  |  | 4687 | } |
  |  | 4688 | }(t); |
  |  | 4689 | "middle" === n && i && (t.enableBorderRadius = !0, (i.\_top || 0) === s ? n = h : (i.\_bottom || 0) === s ? n = c : (o[On(c, a, r, l)] = !0, n = h)), o[On(n, a, r, l)] = !0, t.borderSkipped = o |
  |  | 4690 | } |
  |  | 4691 |  |
  |  | 4692 | function On(t, e, i, s) { |
  |  | 4693 | var n, o, a; |
  |  | 4694 | return s ? (a = i, t = Cn(t = (n = t) === (o = e) ? a : n === a ? o : n, i, e)) : t = Cn(t, e, i), t |
  |  | 4695 | } |
  |  | 4696 |  |
  |  | 4697 | function Cn(t, e, i) { |
  |  | 4698 | return "start" === t ? e : "end" === t ? i : t |
  |  | 4699 | } |
  |  | 4700 |  |
  |  | 4701 | function An(t, {inflateAmount: e}, i) { |
  |  | 4702 | t.inflateAmount = "auto" === e ? 1 === i ? .33 : 0 : e |
  |  | 4703 | } |
  |  | 4704 |  |
  |  | 4705 | class Tn extends Ls { |
  |  | 4706 | parsePrimitiveData(t, e, i, s) { |
  |  | 4707 | return Sn(t, e, i, s) |
  |  | 4708 | } |
  |  | 4709 |  |
  |  | 4710 | parseArrayData(t, e, i, s) { |
  |  | 4711 | return Sn(t, e, i, s) |
  |  | 4712 | } |
  |  | 4713 |  |
  |  | 4714 | parseObjectData(t, e, i, s) { |
  |  | 4715 | const {iScale: n, vScale: o} = t, {xAxisKey: a = "x", yAxisKey: r = "y"} = this.\_parsing, |
  |  | 4716 | l = "x" === n.axis ? a : r, h = "x" === o.axis ? a : r, c = []; |
  |  | 4717 | let d, u, f, g; |
  |  | 4718 | for (d = i, u = i + s; d < u; ++d) g = e[d], f = {}, f[n.axis] = n.parse(y(g, l), d), c.push(kn(y(g, h), f, o, d)); |
  |  | 4719 | return c |
  |  | 4720 | } |
  |  | 4721 |  |
  |  | 4722 | updateRangeFromParsed(t, e, i, s) { |
  |  | 4723 | super.updateRangeFromParsed(t, e, i, s); |
  |  | 4724 | const n = i.\_custom; |
  |  | 4725 | n && e === this.\_cachedMeta.vScale && (t.min = Math.min(t.min, n.min), t.max = Math.max(t.max, n.max)) |
  |  | 4726 | } |
  |  | 4727 |  |
  |  | 4728 | getMaxOverflow() { |
  |  | 4729 | return 0 |
  |  | 4730 | } |
  |  | 4731 |  |
  |  | 4732 | getLabelAndValue(t) { |
  |  | 4733 | const e = this.\_cachedMeta, {iScale: i, vScale: s} = e, n = this.getParsed(t), o = n.\_custom, |
  |  | 4734 | a = Pn(o) ? "[" + o.start + ", " + o.end + "]" : "" + s.getLabelForValue(n[s.axis]); |
  |  | 4735 | return {label: "" + i.getLabelForValue(n[i.axis]), value: a} |
  |  | 4736 | } |
  |  | 4737 |  |
  |  | 4738 | initialize() { |
  |  | 4739 | this.enableOptionSharing = !0, super.initialize(); |
  |  | 4740 | this.\_cachedMeta.stack = this.getDataset().stack |
  |  | 4741 | } |
  |  | 4742 |  |
  |  | 4743 | update(t) { |
  |  | 4744 | const e = this.\_cachedMeta; |
  |  | 4745 | this.updateElements(e.data, 0, e.data.length, t) |
  |  | 4746 | } |
  |  | 4747 |  |
  |  | 4748 | updateElements(t, e, s, n) { |
  |  | 4749 | const o = "reset" === n, {index: a, \_cachedMeta: {vScale: r}} = this, l = r.getBasePixel(), |
  |  | 4750 | h = r.isHorizontal(), c = this.\_getRuler(), { |
  |  | 4751 | sharedOptions: d, |
  |  | 4752 | includeOptions: u |
  |  | 4753 | } = this.\_getSharedOptions(e, n); |
  |  | 4754 | for (let f = e; f < e + s; f++) { |
  |  | 4755 | const e = this.getParsed(f), |
  |  | 4756 | s = o || i(e[r.axis]) ? {base: l, head: l} : this.\_calculateBarValuePixels(f), |
  |  | 4757 | g = this.\_calculateBarIndexPixels(f, c), p = (e.\_stacks || {})[r.axis], m = { |
  |  | 4758 | horizontal: h, |
  |  | 4759 | base: s.base, |
  |  | 4760 | enableBorderRadius: !p || Pn(e.\_custom) || a === p.\_top || a === p.\_bottom, |
  |  | 4761 | x: h ? s.head : g.center, |
  |  | 4762 | y: h ? g.center : s.head, |
  |  | 4763 | height: h ? g.size : Math.abs(s.size), |
  |  | 4764 | width: h ? Math.abs(s.size) : g.size |
  |  | 4765 | }; |
  |  | 4766 | u && (m.options = d || this.resolveDataElementOptions(f, t[f].active ? "active" : n)); |
  |  | 4767 | const b = m.options || t[f].options; |
  |  | 4768 | Dn(m, b, p, a), An(m, b, c.ratio), this.updateElement(t[f], f, m, n) |
  |  | 4769 | } |
  |  | 4770 | } |
  |  | 4771 |  |
  |  | 4772 | \_getStacks(t, e) { |
  |  | 4773 | const {iScale: s} = this.\_cachedMeta, |
  |  | 4774 | n = s.getMatchingVisibleMetas(this.\_type).filter(t => t.controller.options.grouped), |
  |  | 4775 | o = s.options.stacked, a = [], r = t => { |
  |  | 4776 | const s = t.controller.getParsed(e), n = s && s[t.vScale.axis]; |
  |  | 4777 | if (i(n) || isNaN(n)) return !0 |
  |  | 4778 | }; |
  |  | 4779 | for (const i of n) if ((void 0 === e || !r(i)) && ((!1 === o || -1 === a.indexOf(i.stack) || void 0 === o && void 0 === i.stack) && a.push(i.stack), i.index === t)) break; |
  |  | 4780 | return a.length || a.push(void 0), a |
  |  | 4781 | } |
  |  | 4782 |  |
  |  | 4783 | \_getStackCount(t) { |
  |  | 4784 | return this.\_getStacks(void 0, t).length |
  |  | 4785 | } |
  |  | 4786 |  |
  |  | 4787 | \_getStackIndex(t, e, i) { |
  |  | 4788 | const s = this.\_getStacks(t, i), n = void 0 !== e ? s.indexOf(e) : -1; |
  |  | 4789 | return -1 === n ? s.length - 1 : n |
  |  | 4790 | } |
  |  | 4791 |  |
  |  | 4792 | \_getRuler() { |
  |  | 4793 | const t = this.options, e = this.\_cachedMeta, i = e.iScale, s = []; |
  |  | 4794 | let n, o; |
  |  | 4795 | for (n = 0, o = e.data.length; n < o; ++n) s.push(i.getPixelForValue(this.getParsed(n)[i.axis], n)); |
  |  | 4796 | const a = t.barThickness; |
  |  | 4797 | return { |
  |  | 4798 | min: a || Mn(e), |
  |  | 4799 | pixels: s, |
  |  | 4800 | start: i.\_startPixel, |
  |  | 4801 | end: i.\_endPixel, |
  |  | 4802 | stackCount: this.\_getStackCount(), |
  |  | 4803 | scale: i, |
  |  | 4804 | grouped: t.grouped, |
  |  | 4805 | ratio: a ? 1 : t.categoryPercentage \* t.barPercentage |
  |  | 4806 | } |
  |  | 4807 | } |
  |  | 4808 |  |
  |  | 4809 | \_calculateBarValuePixels(t) { |
  |  | 4810 | const {\_cachedMeta: {vScale: e, \_stacked: s}, options: {base: n, minBarLength: o}} = this, a = n || 0, |
  |  | 4811 | r = this.getParsed(t), l = r.\_custom, h = Pn(l); |
  |  | 4812 | let c, d, u = r[e.axis], f = 0, g = s ? this.applyStack(e, r, s) : u; |
  |  | 4813 | g !== u && (f = g - u, g = u), h && (u = l.barStart, g = l.barEnd - l.barStart, 0 !== u && z(u) !== z(l.barEnd) && (f = 0), f += u); |
  |  | 4814 | const p = i(n) || h ? f : n; |
  |  | 4815 | let m = e.getPixelForValue(p); |
  |  | 4816 | if (c = this.chart.getDataVisibility(t) ? e.getPixelForValue(f + g) : m, d = c - m, Math.abs(d) < o) { |
  |  | 4817 | d = function (t, e, i) { |
  |  | 4818 | return 0 !== t ? z(t) : (e.isHorizontal() ? 1 : -1) \* (e.min >= i ? 1 : -1) |
  |  | 4819 | }(d, e, a) \* o, u === a && (m -= d / 2); |
  |  | 4820 | const t = e.getPixelForDecimal(0), i = e.getPixelForDecimal(1), s = Math.min(t, i), n = Math.max(t, i); |
  |  | 4821 | m = Math.max(Math.min(m, n), s), c = m + d |
  |  | 4822 | } |
  |  | 4823 | if (m === e.getPixelForValue(a)) { |
  |  | 4824 | const t = z(d) \* e.getLineWidthForValue(a) / 2; |
  |  | 4825 | m += t, d -= t |
  |  | 4826 | } |
  |  | 4827 | return {size: d, base: m, head: c, center: c + d / 2} |
  |  | 4828 | } |
  |  | 4829 |  |
  |  | 4830 | \_calculateBarIndexPixels(t, e) { |
  |  | 4831 | const s = e.scale, n = this.options, o = n.skipNull, a = r(n.maxBarThickness, 1 / 0); |
  |  | 4832 | let l, h; |
  |  | 4833 | if (e.grouped) { |
  |  | 4834 | const s = o ? this.\_getStackCount(t) : e.stackCount, |
  |  | 4835 | r = "flex" === n.barThickness ? function (t, e, i, s) { |
  |  | 4836 | const n = e.pixels, o = n[t]; |
  |  | 4837 | let a = t > 0 ? n[t - 1] : null, r = t < n.length - 1 ? n[t + 1] : null; |
  |  | 4838 | const l = i.categoryPercentage; |
  |  | 4839 | null === a && (a = o - (null === r ? e.end - e.start : r - o)), null === r && (r = o + o - a); |
  |  | 4840 | const h = o - (o - Math.min(a, r)) / 2 \* l; |
  |  | 4841 | return {chunk: Math.abs(r - a) / 2 \* l / s, ratio: i.barPercentage, start: h} |
  |  | 4842 | }(t, e, n, s) : function (t, e, s, n) { |
  |  | 4843 | const o = s.barThickness; |
  |  | 4844 | let a, r; |
  |  | 4845 | return i(o) ? (a = e.min \* s.categoryPercentage, r = s.barPercentage) : (a = o \* n, r = 1), { |
  |  | 4846 | chunk: a / n, |
  |  | 4847 | ratio: r, |
  |  | 4848 | start: e.pixels[t] - a / 2 |
  |  | 4849 | } |
  |  | 4850 | }(t, e, n, s), c = this.\_getStackIndex(this.index, this.\_cachedMeta.stack, o ? t : void 0); |
  |  | 4851 | l = r.start + r.chunk \* c + r.chunk / 2, h = Math.min(a, r.chunk \* r.ratio) |
  |  | 4852 | } else l = s.getPixelForValue(this.getParsed(t)[s.axis], t), h = Math.min(a, e.min \* e.ratio); |
  |  | 4853 | return {base: l - h / 2, head: l + h / 2, center: l, size: h} |
  |  | 4854 | } |
  |  | 4855 |  |
  |  | 4856 | draw() { |
  |  | 4857 | const t = this.\_cachedMeta, e = t.vScale, i = t.data, s = i.length; |
  |  | 4858 | let n = 0; |
  |  | 4859 | for (; n < s; ++n) null !== this.getParsed(n)[e.axis] && i[n].draw(this.\_ctx) |
  |  | 4860 | } |
  |  | 4861 | } |
  |  | 4862 |  |
  |  | 4863 | Tn.id = "bar", Tn.defaults = { |
  |  | 4864 | datasetElementType: !1, |
  |  | 4865 | dataElementType: "bar", |
  |  | 4866 | categoryPercentage: .8, |
  |  | 4867 | barPercentage: .9, |
  |  | 4868 | grouped: !0, |
  |  | 4869 | animations: {numbers: {type: "number", properties: ["x", "y", "base", "width", "height"]}} |
  |  | 4870 | }, Tn.overrides = { |
  |  | 4871 | scales: { |
  |  | 4872 | \_index\_: {type: "category", offset: !0, grid: {offset: !0}}, |
  |  | 4873 | \_value\_: {type: "linear", beginAtZero: !0} |
  |  | 4874 | } |
  |  | 4875 | }; |
  |  | 4876 |  |
  |  | 4877 | class Ln extends Ls { |
  |  | 4878 | initialize() { |
  |  | 4879 | this.enableOptionSharing = !0, super.initialize() |
  |  | 4880 | } |
  |  | 4881 |  |
  |  | 4882 | parsePrimitiveData(t, e, i, s) { |
  |  | 4883 | const n = super.parsePrimitiveData(t, e, i, s); |
  |  | 4884 | for (let t = 0; t < n.length; t++) n[t].\_custom = this.resolveDataElementOptions(t + i).radius; |
  |  | 4885 | return n |
  |  | 4886 | } |
  |  | 4887 |  |
  |  | 4888 | parseArrayData(t, e, i, s) { |
  |  | 4889 | const n = super.parseArrayData(t, e, i, s); |
  |  | 4890 | for (let t = 0; t < n.length; t++) { |
  |  | 4891 | const s = e[i + t]; |
  |  | 4892 | n[t].\_custom = r(s[2], this.resolveDataElementOptions(t + i).radius) |
  |  | 4893 | } |
  |  | 4894 | return n |
  |  | 4895 | } |
  |  | 4896 |  |
  |  | 4897 | parseObjectData(t, e, i, s) { |
  |  | 4898 | const n = super.parseObjectData(t, e, i, s); |
  |  | 4899 | for (let t = 0; t < n.length; t++) { |
  |  | 4900 | const s = e[i + t]; |
  |  | 4901 | n[t].\_custom = r(s && s.r && +s.r, this.resolveDataElementOptions(t + i).radius) |
  |  | 4902 | } |
  |  | 4903 | return n |
  |  | 4904 | } |
  |  | 4905 |  |
  |  | 4906 | getMaxOverflow() { |
  |  | 4907 | const t = this.\_cachedMeta.data; |
  |  | 4908 | let e = 0; |
  |  | 4909 | for (let i = t.length - 1; i >= 0; --i) e = Math.max(e, t[i].size(this.resolveDataElementOptions(i)) / 2); |
  |  | 4910 | return e > 0 && e |
  |  | 4911 | } |
  |  | 4912 |  |
  |  | 4913 | getLabelAndValue(t) { |
  |  | 4914 | const e = this.\_cachedMeta, {xScale: i, yScale: s} = e, n = this.getParsed(t), o = i.getLabelForValue(n.x), |
  |  | 4915 | a = s.getLabelForValue(n.y), r = n.\_custom; |
  |  | 4916 | return {label: e.label, value: "(" + o + ", " + a + (r ? ", " + r : "") + ")"} |
  |  | 4917 | } |
  |  | 4918 |  |
  |  | 4919 | update(t) { |
  |  | 4920 | const e = this.\_cachedMeta.data; |
  |  | 4921 | this.updateElements(e, 0, e.length, t) |
  |  | 4922 | } |
  |  | 4923 |  |
  |  | 4924 | updateElements(t, e, i, s) { |
  |  | 4925 | const n = "reset" === s, {iScale: o, vScale: a} = this.\_cachedMeta, { |
  |  | 4926 | sharedOptions: r, |
  |  | 4927 | includeOptions: l |
  |  | 4928 | } = this.\_getSharedOptions(e, s), h = o.axis, c = a.axis; |
  |  | 4929 | for (let d = e; d < e + i; d++) { |
  |  | 4930 | const e = t[d], i = !n && this.getParsed(d), u = {}, |
  |  | 4931 | f = u[h] = n ? o.getPixelForDecimal(.5) : o.getPixelForValue(i[h]), |
  |  | 4932 | g = u[c] = n ? a.getBasePixel() : a.getPixelForValue(i[c]); |
  |  | 4933 | u.skip = isNaN(f) || isNaN(g), l && (u.options = r || this.resolveDataElementOptions(d, e.active ? "active" : s), n && (u.options.radius = 0)), this.updateElement(e, d, u, s) |
  |  | 4934 | } |
  |  | 4935 | } |
  |  | 4936 |  |
  |  | 4937 | resolveDataElementOptions(t, e) { |
  |  | 4938 | const i = this.getParsed(t); |
  |  | 4939 | let s = super.resolveDataElementOptions(t, e); |
  |  | 4940 | s.$shared && (s = Object.assign({}, s, {$shared: !1})); |
  |  | 4941 | const n = s.radius; |
  |  | 4942 | return "active" !== e && (s.radius = 0), s.radius += r(i && i.\_custom, n), s |
  |  | 4943 | } |
  |  | 4944 | } |
  |  | 4945 |  |
  |  | 4946 | Ln.id = "bubble", Ln.defaults = { |
  |  | 4947 | datasetElementType: !1, |
  |  | 4948 | dataElementType: "point", |
  |  | 4949 | animations: {numbers: {type: "number", properties: ["x", "y", "borderWidth", "radius"]}} |
  |  | 4950 | }, Ln.overrides = { |
  |  | 4951 | scales: {x: {type: "linear"}, y: {type: "linear"}}, |
  |  | 4952 | plugins: {tooltip: {callbacks: {title: () => ""}}} |
  |  | 4953 | }; |
  |  | 4954 |  |
  |  | 4955 | class En extends Ls { |
  |  | 4956 | constructor(t, e) { |
  |  | 4957 | super(t, e), this.enableOptionSharing = !0, this.innerRadius = void 0, this.outerRadius = void 0, this.offsetX = void 0, this.offsetY = void 0 |
  |  | 4958 | } |
  |  | 4959 |  |
  |  | 4960 | linkScales() { |
  |  | 4961 | } |
  |  | 4962 |  |
  |  | 4963 | parse(t, e) { |
  |  | 4964 | const i = this.getDataset().data, s = this.\_cachedMeta; |
  |  | 4965 | if (!1 === this.\_parsing) s.\_parsed = i; else { |
  |  | 4966 | let o, a, r = t => +i[t]; |
  |  | 4967 | if (n(i[t])) { |
  |  | 4968 | const {key: t = "value"} = this.\_parsing; |
  |  | 4969 | r = e => +y(i[e], t) |
  |  | 4970 | } |
  |  | 4971 | for (o = t, a = t + e; o < a; ++o) s.\_parsed[o] = r(o) |
  |  | 4972 | } |
  |  | 4973 | } |
  |  | 4974 |  |
  |  | 4975 | \_getRotation() { |
  |  | 4976 | return H(this.options.rotation - 90) |
  |  | 4977 | } |
  |  | 4978 |  |
  |  | 4979 | \_getCircumference() { |
  |  | 4980 | return H(this.options.circumference) |
  |  | 4981 | } |
  |  | 4982 |  |
  |  | 4983 | \_getRotationExtents() { |
  |  | 4984 | let t = O, e = -O; |
  |  | 4985 | for (let i = 0; i < this.chart.data.datasets.length; ++i) if (this.chart.isDatasetVisible(i)) { |
  |  | 4986 | const s = this.chart.getDatasetMeta(i).controller, n = s.\_getRotation(), o = s.\_getCircumference(); |
  |  | 4987 | t = Math.min(t, n), e = Math.max(e, n + o) |
  |  | 4988 | } |
  |  | 4989 | return {rotation: t, circumference: e - t} |
  |  | 4990 | } |
  |  | 4991 |  |
  |  | 4992 | update(t) { |
  |  | 4993 | const e = this.chart, {chartArea: i} = e, s = this.\_cachedMeta, n = s.data, |
  |  | 4994 | o = this.getMaxBorderWidth() + this.getMaxOffset(n) + this.options.spacing, |
  |  | 4995 | a = Math.max((Math.min(i.width, i.height) - o) / 2, 0), r = Math.min(l(this.options.cutout, a), 1), |
  |  | 4996 | c = this.\_getRingWeight(this.index), { |
  |  | 4997 | circumference: d, |
  |  | 4998 | rotation: u |
  |  | 4999 | } = this.\_getRotationExtents(), {ratioX: f, ratioY: g, offsetX: p, offsetY: m} = function (t, e, i) { |
  |  | 5000 | let s = 1, n = 1, o = 0, a = 0; |
  |  | 5001 | if (e < O) { |
  |  | 5002 | const r = t, l = r + e, h = Math.cos(r), c = Math.sin(r), d = Math.cos(l), u = Math.sin(l), |
  |  | 5003 | f = (t, e, s) => G(t, r, l, !0) ? 1 : Math.max(e, e \* i, s, s \* i), |
  |  | 5004 | g = (t, e, s) => G(t, r, l, !0) ? -1 : Math.min(e, e \* i, s, s \* i), p = f(0, h, d), |
  |  | 5005 | m = f(L, c, u), b = g(D, h, d), x = g(D + L, c, u); |
  |  | 5006 | s = (p - b) / 2, n = (m - x) / 2, o = -(p + b) / 2, a = -(m + x) / 2 |
  |  | 5007 | } |
  |  | 5008 | return {ratioX: s, ratioY: n, offsetX: o, offsetY: a} |
  |  | 5009 | }(u, d, r), b = (i.width - o) / f, x = (i.height - o) / g, \_ = Math.max(Math.min(b, x) / 2, 0), |
  |  | 5010 | y = h(this.options.radius, \_), v = (y - Math.max(y \* r, 0)) / this.\_getVisibleDatasetWeightTotal(); |
  |  | 5011 | this.offsetX = p \* y, this.offsetY = m \* y, s.total = this.calculateTotal(), this.outerRadius = y - v \* this.\_getRingWeightOffset(this.index), this.innerRadius = Math.max(this.outerRadius - v \* c, 0), this.updateElements(n, 0, n.length, t) |
  |  | 5012 | } |
  |  | 5013 |  |
  |  | 5014 | \_circumference(t, e) { |
  |  | 5015 | const i = this.options, s = this.\_cachedMeta, n = this.\_getCircumference(); |
  |  | 5016 | return e && i.animation.animateRotate || !this.chart.getDataVisibility(t) || null === s.\_parsed[t] || s.data[t].hidden ? 0 : this.calculateCircumference(s.\_parsed[t] \* n / O) |
  |  | 5017 | } |
  |  | 5018 |  |
  |  | 5019 | updateElements(t, e, i, s) { |
  |  | 5020 | const n = "reset" === s, o = this.chart, a = o.chartArea, r = o.options.animation, |
  |  | 5021 | l = (a.left + a.right) / 2, h = (a.top + a.bottom) / 2, c = n && r.animateScale, |
  |  | 5022 | d = c ? 0 : this.innerRadius, u = c ? 0 : this.outerRadius, { |
  |  | 5023 | sharedOptions: f, |
  |  | 5024 | includeOptions: g |
  |  | 5025 | } = this.\_getSharedOptions(e, s); |
  |  | 5026 | let p, m = this.\_getRotation(); |
  |  | 5027 | for (p = 0; p < e; ++p) m += this.\_circumference(p, n); |
  |  | 5028 | for (p = e; p < e + i; ++p) { |
  |  | 5029 | const e = this.\_circumference(p, n), i = t[p], o = { |
  |  | 5030 | x: l + this.offsetX, |
  |  | 5031 | y: h + this.offsetY, |
  |  | 5032 | startAngle: m, |
  |  | 5033 | endAngle: m + e, |
  |  | 5034 | circumference: e, |
  |  | 5035 | outerRadius: u, |
  |  | 5036 | innerRadius: d |
  |  | 5037 | }; |
  |  | 5038 | g && (o.options = f || this.resolveDataElementOptions(p, i.active ? "active" : s)), m += e, this.updateElement(i, p, o, s) |
  |  | 5039 | } |
  |  | 5040 | } |
  |  | 5041 |  |
  |  | 5042 | calculateTotal() { |
  |  | 5043 | const t = this.\_cachedMeta, e = t.data; |
  |  | 5044 | let i, s = 0; |
  |  | 5045 | for (i = 0; i < e.length; i++) { |
  |  | 5046 | const n = t.\_parsed[i]; |
  |  | 5047 | null === n || isNaN(n) || !this.chart.getDataVisibility(i) || e[i].hidden || (s += Math.abs(n)) |
  |  | 5048 | } |
  |  | 5049 | return s |
  |  | 5050 | } |
  |  | 5051 |  |
  |  | 5052 | calculateCircumference(t) { |
  |  | 5053 | const e = this.\_cachedMeta.total; |
  |  | 5054 | return e > 0 && !isNaN(t) ? O \* (Math.abs(t) / e) : 0 |
  |  | 5055 | } |
  |  | 5056 |  |
  |  | 5057 | getLabelAndValue(t) { |
  |  | 5058 | const e = this.\_cachedMeta, i = this.chart, s = i.data.labels || [], n = li(e.\_parsed[t], i.options.locale); |
  |  | 5059 | return {label: s[t] || "", value: n} |
  |  | 5060 | } |
  |  | 5061 |  |
  |  | 5062 | getMaxBorderWidth(t) { |
  |  | 5063 | let e = 0; |
  |  | 5064 | const i = this.chart; |
  |  | 5065 | let s, n, o, a, r; |
  |  | 5066 | if (!t) for (s = 0, n = i.data.datasets.length; s < n; ++s) if (i.isDatasetVisible(s)) { |
  |  | 5067 | o = i.getDatasetMeta(s), t = o.data, a = o.controller; |
  |  | 5068 | break |
  |  | 5069 | } |
  |  | 5070 | if (!t) return 0; |
  |  | 5071 | for (s = 0, n = t.length; s < n; ++s) r = a.resolveDataElementOptions(s), "inner" !== r.borderAlign && (e = Math.max(e, r.borderWidth || 0, r.hoverBorderWidth || 0)); |
  |  | 5072 | return e |
  |  | 5073 | } |
  |  | 5074 |  |
  |  | 5075 | getMaxOffset(t) { |
  |  | 5076 | let e = 0; |
  |  | 5077 | for (let i = 0, s = t.length; i < s; ++i) { |
  |  | 5078 | const t = this.resolveDataElementOptions(i); |
  |  | 5079 | e = Math.max(e, t.offset || 0, t.hoverOffset || 0) |
  |  | 5080 | } |
  |  | 5081 | return e |
  |  | 5082 | } |
  |  | 5083 |  |
  |  | 5084 | \_getRingWeightOffset(t) { |
  |  | 5085 | let e = 0; |
  |  | 5086 | for (let i = 0; i < t; ++i) this.chart.isDatasetVisible(i) && (e += this.\_getRingWeight(i)); |
  |  | 5087 | return e |
  |  | 5088 | } |
  |  | 5089 |  |
  |  | 5090 | \_getRingWeight(t) { |
  |  | 5091 | return Math.max(r(this.chart.data.datasets[t].weight, 1), 0) |
  |  | 5092 | } |
  |  | 5093 |  |
  |  | 5094 | \_getVisibleDatasetWeightTotal() { |
  |  | 5095 | return this.\_getRingWeightOffset(this.chart.data.datasets.length) || 1 |
  |  | 5096 | } |
  |  | 5097 | } |
  |  | 5098 |  |
  |  | 5099 | En.id = "doughnut", En.defaults = { |
  |  | 5100 | datasetElementType: !1, |
  |  | 5101 | dataElementType: "arc", |
  |  | 5102 | animation: {animateRotate: !0, animateScale: !1}, |
  |  | 5103 | animations: { |
  |  | 5104 | numbers: { |
  |  | 5105 | type: "number", |
  |  | 5106 | properties: ["circumference", "endAngle", "innerRadius", "outerRadius", "startAngle", "x", "y", "offset", "borderWidth", "spacing"] |
  |  | 5107 | } |
  |  | 5108 | }, |
  |  | 5109 | cutout: "50%", |
  |  | 5110 | rotation: 0, |
  |  | 5111 | circumference: 360, |
  |  | 5112 | radius: "100%", |
  |  | 5113 | spacing: 0, |
  |  | 5114 | indexAxis: "r" |
  |  | 5115 | }, En.descriptors = { |
  |  | 5116 | \_scriptable: t => "spacing" !== t, |
  |  | 5117 | \_indexable: t => "spacing" !== t |
  |  | 5118 | }, En.overrides = { |
  |  | 5119 | aspectRatio: 1, plugins: { |
  |  | 5120 | legend: { |
  |  | 5121 | labels: { |
  |  | 5122 | generateLabels(t) { |
  |  | 5123 | const e = t.data; |
  |  | 5124 | if (e.labels.length && e.datasets.length) { |
  |  | 5125 | const {labels: {pointStyle: i}} = t.legend.options; |
  |  | 5126 | return e.labels.map((e, s) => { |
  |  | 5127 | const n = t.getDatasetMeta(0).controller.getStyle(s); |
  |  | 5128 | return { |
  |  | 5129 | text: e, |
  |  | 5130 | fillStyle: n.backgroundColor, |
  |  | 5131 | strokeStyle: n.borderColor, |
  |  | 5132 | lineWidth: n.borderWidth, |
  |  | 5133 | pointStyle: i, |
  |  | 5134 | hidden: !t.getDataVisibility(s), |
  |  | 5135 | index: s |
  |  | 5136 | } |
  |  | 5137 | }) |
  |  | 5138 | } |
  |  | 5139 | return [] |
  |  | 5140 | } |
  |  | 5141 | }, onClick(t, e, i) { |
  |  | 5142 | i.chart.toggleDataVisibility(e.index), i.chart.update() |
  |  | 5143 | } |
  |  | 5144 | }, tooltip: { |
  |  | 5145 | callbacks: { |
  |  | 5146 | title: () => "", label(t) { |
  |  | 5147 | let e = t.label; |
  |  | 5148 | const i = ": " + t.formattedValue; |
  |  | 5149 | return s(e) ? (e = e.slice(), e[0] += i) : e += i, e |
  |  | 5150 | } |
  |  | 5151 | } |
  |  | 5152 | } |
  |  | 5153 | } |
  |  | 5154 | }; |
  |  | 5155 |  |
  |  | 5156 | class Rn extends Ls { |
  |  | 5157 | initialize() { |
  |  | 5158 | this.enableOptionSharing = !0, this.supportsDecimation = !0, super.initialize() |
  |  | 5159 | } |
  |  | 5160 |  |
  |  | 5161 | update(t) { |
  |  | 5162 | const e = this.\_cachedMeta, {dataset: i, data: s = [], \_dataset: n} = e, o = this.chart.\_animationsDisabled; |
  |  | 5163 | let {start: a, count: r} = gt(e, s, o); |
  |  | 5164 | this.\_drawStart = a, this.\_drawCount = r, pt(e) && (a = 0, r = s.length), i.\_chart = this.chart, i.\_datasetIndex = this.index, i.\_decimated = !!n.\_decimated, i.points = s; |
  |  | 5165 | const l = this.resolveDatasetElementOptions(t); |
  |  | 5166 | this.options.showLine || (l.borderWidth = 0), l.segment = this.options.segment, this.updateElement(i, void 0, { |
  |  | 5167 | animated: !o, |
  |  | 5168 | options: l |
  |  | 5169 | }, t), this.updateElements(s, a, r, t) |
  |  | 5170 | } |
  |  | 5171 |  |
  |  | 5172 | updateElements(t, e, s, n) { |
  |  | 5173 | const o = "reset" === n, { |
  |  | 5174 | iScale: a, |
  |  | 5175 | vScale: r, |
  |  | 5176 | \_stacked: l, |
  |  | 5177 | \_dataset: h |
  |  | 5178 | } = this.\_cachedMeta, {sharedOptions: c, includeOptions: d} = this.\_getSharedOptions(e, n), u = a.axis, |
  |  | 5179 | f = r.axis, {spanGaps: g, segment: p} = this.options, m = B(g) ? g : Number.POSITIVE\_INFINITY, |
  |  | 5180 | b = this.chart.\_animationsDisabled || o || "none" === n; |
  |  | 5181 | let x = e > 0 && this.getParsed(e - 1); |
  |  | 5182 | for (let g = e; g < e + s; ++g) { |
  |  | 5183 | const e = t[g], s = this.getParsed(g), \_ = b ? e : {}, y = i(s[f]), |
  |  | 5184 | v = \_[u] = a.getPixelForValue(s[u], g), |
  |  | 5185 | w = \_[f] = o || y ? r.getBasePixel() : r.getPixelForValue(l ? this.applyStack(r, s, l) : s[f], g); |
  |  | 5186 | \_.skip = isNaN(v) || isNaN(w) || y, \_.stop = g > 0 && Math.abs(s[u] - x[u]) > m, p && (\_.parsed = s, \_.raw = h.data[g]), d && (\_.options = c || this.resolveDataElementOptions(g, e.active ? "active" : n)), b || this.updateElement(e, g, \_, n), x = s |
  |  | 5187 | } |
  |  | 5188 | } |
  |  | 5189 |  |
  |  | 5190 | getMaxOverflow() { |
  |  | 5191 | const t = this.\_cachedMeta, e = t.dataset, i = e.options && e.options.borderWidth || 0, s = t.data || []; |
  |  | 5192 | if (!s.length) return i; |
  |  | 5193 | const n = s[0].size(this.resolveDataElementOptions(0)), |
  |  | 5194 | o = s[s.length - 1].size(this.resolveDataElementOptions(s.length - 1)); |
  |  | 5195 | return Math.max(i, n, o) / 2 |
  |  | 5196 | } |
  |  | 5197 |  |
  |  | 5198 | draw() { |
  |  | 5199 | const t = this.\_cachedMeta; |
  |  | 5200 | t.dataset.updateControlPoints(this.chart.chartArea, t.iScale.axis), super.draw() |
  |  | 5201 | } |
  |  | 5202 | } |
  |  | 5203 |  |
  |  | 5204 | Rn.id = "line", Rn.defaults = { |
  |  | 5205 | datasetElementType: "line", |
  |  | 5206 | dataElementType: "point", |
  |  | 5207 | showLine: !0, |
  |  | 5208 | spanGaps: !1 |
  |  | 5209 | }, Rn.overrides = {scales: {\_index\_: {type: "category"}, \_value\_: {type: "linear"}}}; |
  |  | 5210 |  |
  |  | 5211 | class In extends Ls { |
  |  | 5212 | constructor(t, e) { |
  |  | 5213 | super(t, e), this.innerRadius = void 0, this.outerRadius = void 0 |
  |  | 5214 | } |
  |  | 5215 |  |
  |  | 5216 | getLabelAndValue(t) { |
  |  | 5217 | const e = this.\_cachedMeta, i = this.chart, s = i.data.labels || [], |
  |  | 5218 | n = li(e.\_parsed[t].r, i.options.locale); |
  |  | 5219 | return {label: s[t] || "", value: n} |
  |  | 5220 | } |
  |  | 5221 |  |
  |  | 5222 | parseObjectData(t, e, i, s) { |
  |  | 5223 | return Ue.bind(this)(t, e, i, s) |
  |  | 5224 | } |
  |  | 5225 |  |
  |  | 5226 | update(t) { |
  |  | 5227 | const e = this.\_cachedMeta.data; |
  |  | 5228 | this.\_updateRadius(), this.updateElements(e, 0, e.length, t) |
  |  | 5229 | } |
  |  | 5230 |  |
  |  | 5231 | getMinMax() { |
  |  | 5232 | const t = this.\_cachedMeta, e = {min: Number.POSITIVE\_INFINITY, max: Number.NEGATIVE\_INFINITY}; |
  |  | 5233 | return t.data.forEach((t, i) => { |
  |  | 5234 | const s = this.getParsed(i).r; |
  |  | 5235 | !isNaN(s) && this.chart.getDataVisibility(i) && (s < e.min && (e.min = s), s > e.max && (e.max = s)) |
  |  | 5236 | }), e |
  |  | 5237 | } |
  |  | 5238 |  |
  |  | 5239 | \_updateRadius() { |
  |  | 5240 | const t = this.chart, e = t.chartArea, i = t.options, s = Math.min(e.right - e.left, e.bottom - e.top), |
  |  | 5241 | n = Math.max(s / 2, 0), |
  |  | 5242 | o = (n - Math.max(i.cutoutPercentage ? n / 100 \* i.cutoutPercentage : 1, 0)) / t.getVisibleDatasetCount(); |
  |  | 5243 | this.outerRadius = n - o \* this.index, this.innerRadius = this.outerRadius - o |
  |  | 5244 | } |
  |  | 5245 |  |
  |  | 5246 | updateElements(t, e, i, s) { |
  |  | 5247 | const n = "reset" === s, o = this.chart, a = o.options.animation, r = this.\_cachedMeta.rScale, |
  |  | 5248 | l = r.xCenter, h = r.yCenter, c = r.getIndexAngle(0) - .5 \* D; |
  |  | 5249 | let d, u = c; |
  |  | 5250 | const f = 360 / this.countVisibleElements(); |
  |  | 5251 | for (d = 0; d < e; ++d) u += this.\_computeAngle(d, s, f); |
  |  | 5252 | for (d = e; d < e + i; d++) { |
  |  | 5253 | const e = t[d]; |
  |  | 5254 | let i = u, g = u + this.\_computeAngle(d, s, f), |
  |  | 5255 | p = o.getDataVisibility(d) ? r.getDistanceFromCenterForValue(this.getParsed(d).r) : 0; |
  |  | 5256 | u = g, n && (a.animateScale && (p = 0), a.animateRotate && (i = g = c)); |
  |  | 5257 | const m = { |
  |  | 5258 | x: l, |
  |  | 5259 | y: h, |
  |  | 5260 | innerRadius: 0, |
  |  | 5261 | outerRadius: p, |
  |  | 5262 | startAngle: i, |
  |  | 5263 | endAngle: g, |
  |  | 5264 | options: this.resolveDataElementOptions(d, e.active ? "active" : s) |
  |  | 5265 | }; |
  |  | 5266 | this.updateElement(e, d, m, s) |
  |  | 5267 | } |
  |  | 5268 | } |
  |  | 5269 |  |
  |  | 5270 | countVisibleElements() { |
  |  | 5271 | const t = this.\_cachedMeta; |
  |  | 5272 | let e = 0; |
  |  | 5273 | return t.data.forEach((t, i) => { |
  |  | 5274 | !isNaN(this.getParsed(i).r) && this.chart.getDataVisibility(i) && e++ |
  |  | 5275 | }), e |
  |  | 5276 | } |
  |  | 5277 |  |
  |  | 5278 | \_computeAngle(t, e, i) { |
  |  | 5279 | return this.chart.getDataVisibility(t) ? H(this.resolveDataElementOptions(t, e).angle || i) : 0 |
  |  | 5280 | } |
  |  | 5281 | } |
  |  | 5282 |  |
  |  | 5283 | In.id = "polarArea", In.defaults = { |
  |  | 5284 | dataElementType: "arc", |
  |  | 5285 | animation: {animateRotate: !0, animateScale: !0}, |
  |  | 5286 | animations: { |
  |  | 5287 | numbers: { |
  |  | 5288 | type: "number", |
  |  | 5289 | properties: ["x", "y", "startAngle", "endAngle", "innerRadius", "outerRadius"] |
  |  | 5290 | } |
  |  | 5291 | }, |
  |  | 5292 | indexAxis: "r", |
  |  | 5293 | startAngle: 0 |
  |  | 5294 | }, In.overrides = { |
  |  | 5295 | aspectRatio: 1, |
  |  | 5296 | plugins: { |
  |  | 5297 | legend: { |
  |  | 5298 | labels: { |
  |  | 5299 | generateLabels(t) { |
  |  | 5300 | const e = t.data; |
  |  | 5301 | if (e.labels.length && e.datasets.length) { |
  |  | 5302 | const {labels: {pointStyle: i}} = t.legend.options; |
  |  | 5303 | return e.labels.map((e, s) => { |
  |  | 5304 | const n = t.getDatasetMeta(0).controller.getStyle(s); |
  |  | 5305 | return { |
  |  | 5306 | text: e, |
  |  | 5307 | fillStyle: n.backgroundColor, |
  |  | 5308 | strokeStyle: n.borderColor, |
  |  | 5309 | lineWidth: n.borderWidth, |
  |  | 5310 | pointStyle: i, |
  |  | 5311 | hidden: !t.getDataVisibility(s), |
  |  | 5312 | index: s |
  |  | 5313 | } |
  |  | 5314 | }) |
  |  | 5315 | } |
  |  | 5316 | return [] |
  |  | 5317 | } |
  |  | 5318 | }, onClick(t, e, i) { |
  |  | 5319 | i.chart.toggleDataVisibility(e.index), i.chart.update() |
  |  | 5320 | } |
  |  | 5321 | }, |
  |  | 5322 | tooltip: { |
  |  | 5323 | callbacks: { |
  |  | 5324 | title: () => "", |
  |  | 5325 | label: t => t.chart.data.labels[t.dataIndex] + ": " + t.formattedValue |
  |  | 5326 | } |
  |  | 5327 | } |
  |  | 5328 | }, |
  |  | 5329 | scales: { |
  |  | 5330 | r: { |
  |  | 5331 | type: "radialLinear", |
  |  | 5332 | angleLines: {display: !1}, |
  |  | 5333 | beginAtZero: !0, |
  |  | 5334 | grid: {circular: !0}, |
  |  | 5335 | pointLabels: {display: !1}, |
  |  | 5336 | startAngle: 0 |
  |  | 5337 | } |
  |  | 5338 | } |
  |  | 5339 | }; |
  |  | 5340 |  |
  |  | 5341 | class zn extends En { |
  |  | 5342 | } |
  |  | 5343 |  |
  |  | 5344 | zn.id = "pie", zn.defaults = {cutout: 0, rotation: 0, circumference: 360, radius: "100%"}; |
  |  | 5345 |  |
  |  | 5346 | class Fn extends Ls { |
  |  | 5347 | getLabelAndValue(t) { |
  |  | 5348 | const e = this.\_cachedMeta.vScale, i = this.getParsed(t); |
  |  | 5349 | return {label: e.getLabels()[t], value: "" + e.getLabelForValue(i[e.axis])} |
  |  | 5350 | } |
  |  | 5351 |  |
  |  | 5352 | parseObjectData(t, e, i, s) { |
  |  | 5353 | return Ue.bind(this)(t, e, i, s) |
  |  | 5354 | } |
  |  | 5355 |  |
  |  | 5356 | update(t) { |
  |  | 5357 | const e = this.\_cachedMeta, i = e.dataset, s = e.data || [], n = e.iScale.getLabels(); |
  |  | 5358 | if (i.points = s, "resize" !== t) { |
  |  | 5359 | const e = this.resolveDatasetElementOptions(t); |
  |  | 5360 | this.options.showLine || (e.borderWidth = 0); |
  |  | 5361 | const o = {\_loop: !0, \_fullLoop: n.length === s.length, options: e}; |
  |  | 5362 | this.updateElement(i, void 0, o, t) |
  |  | 5363 | } |
  |  | 5364 | this.updateElements(s, 0, s.length, t) |
  |  | 5365 | } |
  |  | 5366 |  |
  |  | 5367 | updateElements(t, e, i, s) { |
  |  | 5368 | const n = this.\_cachedMeta.rScale, o = "reset" === s; |
  |  | 5369 | for (let a = e; a < e + i; a++) { |
  |  | 5370 | const e = t[a], i = this.resolveDataElementOptions(a, e.active ? "active" : s), |
  |  | 5371 | r = n.getPointPositionForValue(a, this.getParsed(a).r), l = o ? n.xCenter : r.x, |
  |  | 5372 | h = o ? n.yCenter : r.y, c = {x: l, y: h, angle: r.angle, skip: isNaN(l) || isNaN(h), options: i}; |
  |  | 5373 | this.updateElement(e, a, c, s) |
  |  | 5374 | } |
  |  | 5375 | } |
  |  | 5376 | } |
  |  | 5377 |  |
  |  | 5378 | Fn.id = "radar", Fn.defaults = { |
  |  | 5379 | datasetElementType: "line", |
  |  | 5380 | dataElementType: "point", |
  |  | 5381 | indexAxis: "r", |
  |  | 5382 | showLine: !0, |
  |  | 5383 | elements: {line: {fill: "start"}} |
  |  | 5384 | }, Fn.overrides = {aspectRatio: 1, scales: {r: {type: "radialLinear"}}}; |
  |  | 5385 |  |
  |  | 5386 | class Vn extends Ls { |
  |  | 5387 | update(t) { |
  |  | 5388 | const e = this.\_cachedMeta, {data: i = []} = e, s = this.chart.\_animationsDisabled; |
  |  | 5389 | let {start: n, count: o} = gt(e, i, s); |
  |  | 5390 | if (this.\_drawStart = n, this.\_drawCount = o, pt(e) && (n = 0, o = i.length), this.options.showLine) { |
  |  | 5391 | const {dataset: n, \_dataset: o} = e; |
  |  | 5392 | n.\_chart = this.chart, n.\_datasetIndex = this.index, n.\_decimated = !!o.\_decimated, n.points = i; |
  |  | 5393 | const a = this.resolveDatasetElementOptions(t); |
  |  | 5394 | a.segment = this.options.segment, this.updateElement(n, void 0, {animated: !s, options: a}, t) |
  |  | 5395 | } |
  |  | 5396 | this.updateElements(i, n, o, t) |
  |  | 5397 | } |
  |  | 5398 |  |
  |  | 5399 | addElements() { |
  |  | 5400 | const {showLine: t} = this.options; |
  |  | 5401 | !this.datasetElementType && t && (this.datasetElementType = Us.getElement("line")), super.addElements() |
  |  | 5402 | } |
  |  | 5403 |  |
  |  | 5404 | updateElements(t, e, s, n) { |
  |  | 5405 | const o = "reset" === n, {iScale: a, vScale: r, \_stacked: l, \_dataset: h} = this.\_cachedMeta, |
  |  | 5406 | c = this.resolveDataElementOptions(e, n), d = this.getSharedOptions(c), u = this.includeOptions(n, d), |
  |  | 5407 | f = a.axis, g = r.axis, {spanGaps: p, segment: m} = this.options, |
  |  | 5408 | b = B(p) ? p : Number.POSITIVE\_INFINITY, x = this.chart.\_animationsDisabled || o || "none" === n; |
  |  | 5409 | let \_ = e > 0 && this.getParsed(e - 1); |
  |  | 5410 | for (let c = e; c < e + s; ++c) { |
  |  | 5411 | const e = t[c], s = this.getParsed(c), p = x ? e : {}, y = i(s[g]), |
  |  | 5412 | v = p[f] = a.getPixelForValue(s[f], c), |
  |  | 5413 | w = p[g] = o || y ? r.getBasePixel() : r.getPixelForValue(l ? this.applyStack(r, s, l) : s[g], c); |
  |  | 5414 | p.skip = isNaN(v) || isNaN(w) || y, p.stop = c > 0 && Math.abs(s[f] - \_[f]) > b, m && (p.parsed = s, p.raw = h.data[c]), u && (p.options = d || this.resolveDataElementOptions(c, e.active ? "active" : n)), x || this.updateElement(e, c, p, n), \_ = s |
  |  | 5415 | } |
  |  | 5416 | this.updateSharedOptions(d, n, c) |
  |  | 5417 | } |
  |  | 5418 |  |
  |  | 5419 | getMaxOverflow() { |
  |  | 5420 | const t = this.\_cachedMeta, e = t.data || []; |
  |  | 5421 | if (!this.options.showLine) { |
  |  | 5422 | let t = 0; |
  |  | 5423 | for (let i = e.length - 1; i >= 0; --i) t = Math.max(t, e[i].size(this.resolveDataElementOptions(i)) / 2); |
  |  | 5424 | return t > 0 && t |
  |  | 5425 | } |
  |  | 5426 | const i = t.dataset, s = i.options && i.options.borderWidth || 0; |
  |  | 5427 | if (!e.length) return s; |
  |  | 5428 | const n = e[0].size(this.resolveDataElementOptions(0)), |
  |  | 5429 | o = e[e.length - 1].size(this.resolveDataElementOptions(e.length - 1)); |
  |  | 5430 | return Math.max(s, n, o) / 2 |
  |  | 5431 | } |
  |  | 5432 | } |
  |  | 5433 |  |
  |  | 5434 | Vn.id = "scatter", Vn.defaults = { |
  |  | 5435 | datasetElementType: !1, |
  |  | 5436 | dataElementType: "point", |
  |  | 5437 | showLine: !1, |
  |  | 5438 | fill: !1 |
  |  | 5439 | }, Vn.overrides = { |
  |  | 5440 | interaction: {mode: "point"}, |
  |  | 5441 | plugins: {tooltip: {callbacks: {title: () => "", label: t => "(" + t.label + ", " + t.formattedValue + ")"}}}, |
  |  | 5442 | scales: {x: {type: "linear"}, y: {type: "linear"}} |
  |  | 5443 | }; |
  |  | 5444 | var Bn = Object.freeze({ |
  |  | 5445 | \_\_proto\_\_: null, |
  |  | 5446 | BarController: Tn, |
  |  | 5447 | BubbleController: Ln, |
  |  | 5448 | DoughnutController: En, |
  |  | 5449 | LineController: Rn, |
  |  | 5450 | PolarAreaController: In, |
  |  | 5451 | PieController: zn, |
  |  | 5452 | RadarController: Fn, |
  |  | 5453 | ScatterController: Vn |
  |  | 5454 | }); |
  |  | 5455 |  |
  |  | 5456 | function Nn(t, e, i) { |
  |  | 5457 | const {startAngle: s, pixelMargin: n, x: o, y: a, outerRadius: r, innerRadius: l} = e; |
  |  | 5458 | let h = n / r; |
  |  | 5459 | t.beginPath(), t.arc(o, a, r, s - h, i + h), l > n ? (h = n / l, t.arc(o, a, l, i + h, s - h, !0)) : t.arc(o, a, n, i + L, s - L), t.closePath(), t.clip() |
  |  | 5460 | } |
  |  | 5461 |  |
  |  | 5462 | function Wn(t, e, i, s) { |
  |  | 5463 | const n = ui(t.options.borderRadius, ["outerStart", "outerEnd", "innerStart", "innerEnd"]); |
  |  | 5464 | const o = (i - e) / 2, a = Math.min(o, s \* e / 2), r = t => { |
  |  | 5465 | const e = (i - Math.min(o, t)) \* s / 2; |
  |  | 5466 | return Z(t, 0, Math.min(o, e)) |
  |  | 5467 | }; |
  |  | 5468 | return { |
  |  | 5469 | outerStart: r(n.outerStart), |
  |  | 5470 | outerEnd: r(n.outerEnd), |
  |  | 5471 | innerStart: Z(n.innerStart, 0, a), |
  |  | 5472 | innerEnd: Z(n.innerEnd, 0, a) |
  |  | 5473 | } |
  |  | 5474 | } |
  |  | 5475 |  |
  |  | 5476 | function jn(t, e, i, s) { |
  |  | 5477 | return {x: i + t \* Math.cos(e), y: s + t \* Math.sin(e)} |
  |  | 5478 | } |
  |  | 5479 |  |
  |  | 5480 | function Hn(t, e, i, s, n, o) { |
  |  | 5481 | const {x: a, y: r, startAngle: l, pixelMargin: h, innerRadius: c} = e, |
  |  | 5482 | d = Math.max(e.outerRadius + s + i - h, 0), u = c > 0 ? c + s + i + h : 0; |
  |  | 5483 | let f = 0; |
  |  | 5484 | const g = n - l; |
  |  | 5485 | if (s) { |
  |  | 5486 | const t = ((c > 0 ? c - s : 0) + (d > 0 ? d - s : 0)) / 2; |
  |  | 5487 | f = (g - (0 !== t ? g \* t / (t + s) : g)) / 2 |
  |  | 5488 | } |
  |  | 5489 | const p = (g - Math.max(.001, g \* d - i / D) / d) / 2, m = l + p + f, b = n - p - f, { |
  |  | 5490 | outerStart: x, |
  |  | 5491 | outerEnd: \_, |
  |  | 5492 | innerStart: y, |
  |  | 5493 | innerEnd: v |
  |  | 5494 | } = Wn(e, u, d, b - m), w = d - x, M = d - \_, k = m + x / w, S = b - \_ / M, P = u + y, O = u + v, C = m + y / P, |
  |  | 5495 | A = b - v / O; |
  |  | 5496 | if (t.beginPath(), o) { |
  |  | 5497 | if (t.arc(a, r, d, k, S), \_ > 0) { |
  |  | 5498 | const e = jn(M, S, a, r); |
  |  | 5499 | t.arc(e.x, e.y, \_, S, b + L) |
  |  | 5500 | } |
  |  | 5501 | const e = jn(O, b, a, r); |
  |  | 5502 | if (t.lineTo(e.x, e.y), v > 0) { |
  |  | 5503 | const e = jn(O, A, a, r); |
  |  | 5504 | t.arc(e.x, e.y, v, b + L, A + Math.PI) |
  |  | 5505 | } |
  |  | 5506 | if (t.arc(a, r, u, b - v / u, m + y / u, !0), y > 0) { |
  |  | 5507 | const e = jn(P, C, a, r); |
  |  | 5508 | t.arc(e.x, e.y, y, C + Math.PI, m - L) |
  |  | 5509 | } |
  |  | 5510 | const i = jn(w, m, a, r); |
  |  | 5511 | if (t.lineTo(i.x, i.y), x > 0) { |
  |  | 5512 | const e = jn(w, k, a, r); |
  |  | 5513 | t.arc(e.x, e.y, x, m - L, k) |
  |  | 5514 | } |
  |  | 5515 | } else { |
  |  | 5516 | t.moveTo(a, r); |
  |  | 5517 | const e = Math.cos(k) \* d + a, i = Math.sin(k) \* d + r; |
  |  | 5518 | t.lineTo(e, i); |
  |  | 5519 | const s = Math.cos(S) \* d + a, n = Math.sin(S) \* d + r; |
  |  | 5520 | t.lineTo(s, n) |
  |  | 5521 | } |
  |  | 5522 | t.closePath() |
  |  | 5523 | } |
  |  | 5524 |  |
  |  | 5525 | function $n(t, e, i, s, n, o) { |
  |  | 5526 | const {options: a} = e, {borderWidth: r, borderJoinStyle: l} = a, h = "inner" === a.borderAlign; |
  |  | 5527 | r && (h ? (t.lineWidth = 2 \* r, t.lineJoin = l || "round") : (t.lineWidth = r, t.lineJoin = l || "bevel"), e.fullCircles && function (t, e, i) { |
  |  | 5528 | const {x: s, y: n, startAngle: o, pixelMargin: a, fullCircles: r} = e, l = Math.max(e.outerRadius - a, 0), |
  |  | 5529 | h = e.innerRadius + a; |
  |  | 5530 | let c; |
  |  | 5531 | for (i && Nn(t, e, o + O), t.beginPath(), t.arc(s, n, h, o + O, o, !0), c = 0; c < r; ++c) t.stroke(); |
  |  | 5532 | for (t.beginPath(), t.arc(s, n, l, o, o + O), c = 0; c < r; ++c) t.stroke() |
  |  | 5533 | }(t, e, h), h && Nn(t, e, n), Hn(t, e, i, s, n, o), t.stroke()) |
  |  | 5534 | } |
  |  | 5535 |  |
  |  | 5536 | class Yn extends Es { |
  |  | 5537 | constructor(t) { |
  |  | 5538 | super(), this.options = void 0, this.circumference = void 0, this.startAngle = void 0, this.endAngle = void 0, this.innerRadius = void 0, this.outerRadius = void 0, this.pixelMargin = 0, this.fullCircles = 0, t && Object.assign(this, t) |
  |  | 5539 | } |
  |  | 5540 |  |
  |  | 5541 | inRange(t, e, i) { |
  |  | 5542 | const s = this.getProps(["x", "y"], i), {angle: n, distance: o} = U(s, {x: t, y: e}), { |
  |  | 5543 | startAngle: a, |
  |  | 5544 | endAngle: l, |
  |  | 5545 | innerRadius: h, |
  |  | 5546 | outerRadius: c, |
  |  | 5547 | circumference: d |
  |  | 5548 | } = this.getProps(["startAngle", "endAngle", "innerRadius", "outerRadius", "circumference"], i), |
  |  | 5549 | u = this.options.spacing / 2, f = r(d, l - a) >= O || G(n, a, l), g = Q(o, h + u, c + u); |
  |  | 5550 | return f && g |
  |  | 5551 | } |
  |  | 5552 |  |
  |  | 5553 | getCenterPoint(t) { |
  |  | 5554 | const { |
  |  | 5555 | x: e, |
  |  | 5556 | y: i, |
  |  | 5557 | startAngle: s, |
  |  | 5558 | endAngle: n, |
  |  | 5559 | innerRadius: o, |
  |  | 5560 | outerRadius: a |
  |  | 5561 | } = this.getProps(["x", "y", "startAngle", "endAngle", "innerRadius", "outerRadius", "circumference"], t), { |
  |  | 5562 | offset: r, |
  |  | 5563 | spacing: l |
  |  | 5564 | } = this.options, h = (s + n) / 2, c = (o + a + l + r) / 2; |
  |  | 5565 | return {x: e + Math.cos(h) \* c, y: i + Math.sin(h) \* c} |
  |  | 5566 | } |
  |  | 5567 |  |
  |  | 5568 | tooltipPosition(t) { |
  |  | 5569 | return this.getCenterPoint(t) |
  |  | 5570 | } |
  |  | 5571 |  |
  |  | 5572 | draw(t) { |
  |  | 5573 | const {options: e, circumference: i} = this, s = (e.offset || 0) / 2, n = (e.spacing || 0) / 2, |
  |  | 5574 | o = e.circular; |
  |  | 5575 | if (this.pixelMargin = "inner" === e.borderAlign ? .33 : 0, this.fullCircles = i > O ? Math.floor(i / O) : 0, 0 === i || this.innerRadius < 0 || this.outerRadius < 0) return; |
  |  | 5576 | t.save(); |
  |  | 5577 | let a = 0; |
  |  | 5578 | if (s) { |
  |  | 5579 | a = s / 2; |
  |  | 5580 | const e = (this.startAngle + this.endAngle) / 2; |
  |  | 5581 | t.translate(Math.cos(e) \* a, Math.sin(e) \* a), this.circumference >= D && (a = s) |
  |  | 5582 | } |
  |  | 5583 | t.fillStyle = e.backgroundColor, t.strokeStyle = e.borderColor; |
  |  | 5584 | const r = function (t, e, i, s, n) { |
  |  | 5585 | const {fullCircles: o, startAngle: a, circumference: r} = e; |
  |  | 5586 | let l = e.endAngle; |
  |  | 5587 | if (o) { |
  |  | 5588 | Hn(t, e, i, s, a + O, n); |
  |  | 5589 | for (let e = 0; e < o; ++e) t.fill(); |
  |  | 5590 | isNaN(r) || (l = a + r % O, r % O == 0 && (l += O)) |
  |  | 5591 | } |
  |  | 5592 | return Hn(t, e, i, s, l, n), t.fill(), l |
  |  | 5593 | }(t, this, a, n, o); |
  |  | 5594 | $n(t, this, a, n, r, o), t.restore() |
  |  | 5595 | } |
  |  | 5596 | } |
  |  | 5597 |  |
  |  | 5598 | function Un(t, e, i = e) { |
  |  | 5599 | t.lineCap = r(i.borderCapStyle, e.borderCapStyle), t.setLineDash(r(i.borderDash, e.borderDash)), t.lineDashOffset = r(i.borderDashOffset, e.borderDashOffset), t.lineJoin = r(i.borderJoinStyle, e.borderJoinStyle), t.lineWidth = r(i.borderWidth, e.borderWidth), t.strokeStyle = r(i.borderColor, e.borderColor) |
  |  | 5600 | } |
  |  | 5601 |  |
  |  | 5602 | function Xn(t, e, i) { |
  |  | 5603 | t.lineTo(i.x, i.y) |
  |  | 5604 | } |
  |  | 5605 |  |
  |  | 5606 | function qn(t, e, i = {}) { |
  |  | 5607 | const s = t.length, {start: n = 0, end: o = s - 1} = i, {start: a, end: r} = e, l = Math.max(n, a), |
  |  | 5608 | h = Math.min(o, r), c = n < a && o < a || n > r && o > r; |
  |  | 5609 | return {count: s, start: l, loop: e.loop, ilen: h < l && !c ? s + h - l : h - l} |
  |  | 5610 | } |
  |  | 5611 |  |
  |  | 5612 | function Kn(t, e, i, s) { |
  |  | 5613 | const {points: n, options: o} = e, {count: a, start: r, loop: l, ilen: h} = qn(n, i, s), c = function (t) { |
  |  | 5614 | return t.stepped ? Oe : t.tension || "monotone" === t.cubicInterpolationMode ? Ce : Xn |
  |  | 5615 | }(o); |
  |  | 5616 | let d, u, f, {move: g = !0, reverse: p} = s || {}; |
  |  | 5617 | for (d = 0; d <= h; ++d) u = n[(r + (p ? h - d : d)) % a], u.skip || (g ? (t.moveTo(u.x, u.y), g = !1) : c(t, f, u, p, o.stepped), f = u); |
  |  | 5618 | return l && (u = n[(r + (p ? h : 0)) % a], c(t, f, u, p, o.stepped)), !!l |
  |  | 5619 | } |
  |  | 5620 |  |
  |  | 5621 | function Gn(t, e, i, s) { |
  |  | 5622 | const n = e.points, {count: o, start: a, ilen: r} = qn(n, i, s), {move: l = !0, reverse: h} = s || {}; |
  |  | 5623 | let c, d, u, f, g, p, m = 0, b = 0; |
  |  | 5624 | const x = t => (a + (h ? r - t : t)) % o, \_ = () => { |
  |  | 5625 | f !== g && (t.lineTo(m, g), t.lineTo(m, f), t.lineTo(m, p)) |
  |  | 5626 | }; |
  |  | 5627 | for (l && (d = n[x(0)], t.moveTo(d.x, d.y)), c = 0; c <= r; ++c) { |
  |  | 5628 | if (d = n[x(c)], d.skip) continue; |
  |  | 5629 | const e = d.x, i = d.y, s = 0 | e; |
  |  | 5630 | s === u ? (i < f ? f = i : i > g && (g = i), m = (b \* m + e) / ++b) : (\_(), t.lineTo(e, i), u = s, b = 0, f = g = i), p = i |
  |  | 5631 | } |
  |  | 5632 | \_() |
  |  | 5633 | } |
  |  | 5634 |  |
  |  | 5635 | function Zn(t) { |
  |  | 5636 | const e = t.options, i = e.borderDash && e.borderDash.length; |
  |  | 5637 | return !(t.\_decimated || t.\_loop || e.tension || "monotone" === e.cubicInterpolationMode || e.stepped || i) ? Gn : Kn |
  |  | 5638 | } |
  |  | 5639 |  |
  |  | 5640 | Yn.id = "arc", Yn.defaults = { |
  |  | 5641 | borderAlign: "center", |
  |  | 5642 | borderColor: "#fff", |
  |  | 5643 | borderJoinStyle: void 0, |
  |  | 5644 | borderRadius: 0, |
  |  | 5645 | borderWidth: 2, |
  |  | 5646 | offset: 0, |
  |  | 5647 | spacing: 0, |
  |  | 5648 | angle: void 0, |
  |  | 5649 | circular: !0 |
  |  | 5650 | }, Yn.defaultRoutes = {backgroundColor: "backgroundColor"}; |
  |  | 5651 | const Jn = "function" == typeof Path2D; |
  |  | 5652 |  |
  |  | 5653 | function Qn(t, e, i, s) { |
  |  | 5654 | Jn && !e.options.segment ? function (t, e, i, s) { |
  |  | 5655 | let n = e.\_path; |
  |  | 5656 | n || (n = e.\_path = new Path2D, e.path(n, i, s) && n.closePath()), Un(t, e.options), t.stroke(n) |
  |  | 5657 | }(t, e, i, s) : function (t, e, i, s) { |
  |  | 5658 | const {segments: n, options: o} = e, a = Zn(e); |
  |  | 5659 | for (const r of n) Un(t, o, r.style), t.beginPath(), a(t, e, r, { |
  |  | 5660 | start: i, |
  |  | 5661 | end: i + s - 1 |
  |  | 5662 | }) && t.closePath(), t.stroke() |
  |  | 5663 | }(t, e, i, s) |
  |  | 5664 | } |
  |  | 5665 |  |
  |  | 5666 | class to extends Es { |
  |  | 5667 | constructor(t) { |
  |  | 5668 | super(), this.animated = !0, this.options = void 0, this.\_chart = void 0, this.\_loop = void 0, this.\_fullLoop = void 0, this.\_path = void 0, this.\_points = void 0, this.\_segments = void 0, this.\_decimated = !1, this.\_pointsUpdated = !1, this.\_datasetIndex = void 0, t && Object.assign(this, t) |
  |  | 5669 | } |
  |  | 5670 |  |
  |  | 5671 | updateControlPoints(t, e) { |
  |  | 5672 | const i = this.options; |
  |  | 5673 | if ((i.tension || "monotone" === i.cubicInterpolationMode) && !i.stepped && !this.\_pointsUpdated) { |
  |  | 5674 | const s = i.spanGaps ? this.\_loop : this.\_fullLoop; |
  |  | 5675 | Qe(this.\_points, i, t, s, e), this.\_pointsUpdated = !0 |
  |  | 5676 | } |
  |  | 5677 | } |
  |  | 5678 |  |
  |  | 5679 | set points(t) { |
  |  | 5680 | this.\_points = t, delete this.\_segments, delete this.\_path, this.\_pointsUpdated = !1 |
  |  | 5681 | } |
  |  | 5682 |  |
  |  | 5683 | get points() { |
  |  | 5684 | return this.\_points |
  |  | 5685 | } |
  |  | 5686 |  |
  |  | 5687 | get segments() { |
  |  | 5688 | return this.\_segments || (this.\_segments = Di(this, this.options.segment)) |
  |  | 5689 | } |
  |  | 5690 |  |
  |  | 5691 | first() { |
  |  | 5692 | const t = this.segments, e = this.points; |
  |  | 5693 | return t.length && e[t[0].start] |
  |  | 5694 | } |
  |  | 5695 |  |
  |  | 5696 | last() { |
  |  | 5697 | const t = this.segments, e = this.points, i = t.length; |
  |  | 5698 | return i && e[t[i - 1].end] |
  |  | 5699 | } |
  |  | 5700 |  |
  |  | 5701 | interpolate(t, e) { |
  |  | 5702 | const i = this.options, s = t[e], n = this.points, o = Pi(this, {property: e, start: s, end: s}); |
  |  | 5703 | if (!o.length) return; |
  |  | 5704 | const a = [], r = function (t) { |
  |  | 5705 | return t.stepped ? oi : t.tension || "monotone" === t.cubicInterpolationMode ? ai : ni |
  |  | 5706 | }(i); |
  |  | 5707 | let l, h; |
  |  | 5708 | for (l = 0, h = o.length; l < h; ++l) { |
  |  | 5709 | const {start: h, end: c} = o[l], d = n[h], u = n[c]; |
  |  | 5710 | if (d === u) { |
  |  | 5711 | a.push(d); |
  |  | 5712 | continue |
  |  | 5713 | } |
  |  | 5714 | const f = r(d, u, Math.abs((s - d[e]) / (u[e] - d[e])), i.stepped); |
  |  | 5715 | f[e] = t[e], a.push(f) |
  |  | 5716 | } |
  |  | 5717 | return 1 === a.length ? a[0] : a |
  |  | 5718 | } |
  |  | 5719 |  |
  |  | 5720 | pathSegment(t, e, i) { |
  |  | 5721 | return Zn(this)(t, this, e, i) |
  |  | 5722 | } |
  |  | 5723 |  |
  |  | 5724 | path(t, e, i) { |
  |  | 5725 | const s = this.segments, n = Zn(this); |
  |  | 5726 | let o = this.\_loop; |
  |  | 5727 | e = e || 0, i = i || this.points.length - e; |
  |  | 5728 | for (const a of s) o &= n(t, this, a, {start: e, end: e + i - 1}); |
  |  | 5729 | return !!o |
  |  | 5730 | } |
  |  | 5731 |  |
  |  | 5732 | draw(t, e, i, s) { |
  |  | 5733 | const n = this.options || {}; |
  |  | 5734 | (this.points || []).length && n.borderWidth && (t.save(), Qn(t, this, i, s), t.restore()), this.animated && (this.\_pointsUpdated = !1, this.\_path = void 0) |
  |  | 5735 | } |
  |  | 5736 | } |
  |  | 5737 |  |
  |  | 5738 | function eo(t, e, i, s) { |
  |  | 5739 | const n = t.options, {[i]: o} = t.getProps([i], s); |
  |  | 5740 | return Math.abs(e - o) < n.radius + n.hitRadius |
  |  | 5741 | } |
  |  | 5742 |  |
  |  | 5743 | to.id = "line", to.defaults = { |
  |  | 5744 | borderCapStyle: "butt", |
  |  | 5745 | borderDash: [], |
  |  | 5746 | borderDashOffset: 0, |
  |  | 5747 | borderJoinStyle: "miter", |
  |  | 5748 | borderWidth: 3, |
  |  | 5749 | capBezierPoints: !0, |
  |  | 5750 | cubicInterpolationMode: "default", |
  |  | 5751 | fill: !1, |
  |  | 5752 | spanGaps: !1, |
  |  | 5753 | stepped: !1, |
  |  | 5754 | tension: 0 |
  |  | 5755 | }, to.defaultRoutes = { |
  |  | 5756 | backgroundColor: "backgroundColor", |
  |  | 5757 | borderColor: "borderColor" |
  |  | 5758 | }, to.descriptors = {\_scriptable: !0, \_indexable: t => "borderDash" !== t && "fill" !== t}; |
  |  | 5759 |  |
  |  | 5760 | class io extends Es { |
  |  | 5761 | constructor(t) { |
  |  | 5762 | super(), this.options = void 0, this.parsed = void 0, this.skip = void 0, this.stop = void 0, t && Object.assign(this, t) |
  |  | 5763 | } |
  |  | 5764 |  |
  |  | 5765 | inRange(t, e, i) { |
  |  | 5766 | const s = this.options, {x: n, y: o} = this.getProps(["x", "y"], i); |
  |  | 5767 | return Math.pow(t - n, 2) + Math.pow(e - o, 2) < Math.pow(s.hitRadius + s.radius, 2) |
  |  | 5768 | } |
  |  | 5769 |  |
  |  | 5770 | inXRange(t, e) { |
  |  | 5771 | return eo(this, t, "x", e) |
  |  | 5772 | } |
  |  | 5773 |  |
  |  | 5774 | inYRange(t, e) { |
  |  | 5775 | return eo(this, t, "y", e) |
  |  | 5776 | } |
  |  | 5777 |  |
  |  | 5778 | getCenterPoint(t) { |
  |  | 5779 | const {x: e, y: i} = this.getProps(["x", "y"], t); |
  |  | 5780 | return {x: e, y: i} |
  |  | 5781 | } |
  |  | 5782 |  |
  |  | 5783 | size(t) { |
  |  | 5784 | let e = (t = t || this.options || {}).radius || 0; |
  |  | 5785 | e = Math.max(e, e && t.hoverRadius || 0); |
  |  | 5786 | return 2 \* (e + (e && t.borderWidth || 0)) |
  |  | 5787 | } |
  |  | 5788 |  |
  |  | 5789 | draw(t, e) { |
  |  | 5790 | const i = this.options; |
  |  | 5791 | this.skip || i.radius < .1 || !Se(this, e, this.size(i) / 2) || (t.strokeStyle = i.borderColor, t.lineWidth = i.borderWidth, t.fillStyle = i.backgroundColor, Me(t, i, this.x, this.y)) |
  |  | 5792 | } |
  |  | 5793 |  |
  |  | 5794 | getRange() { |
  |  | 5795 | const t = this.options || {}; |
  |  | 5796 | return t.radius + t.hitRadius |
  |  | 5797 | } |
  |  | 5798 | } |
  |  | 5799 |  |
  |  | 5800 | function so(t, e) { |
  |  | 5801 | const {x: i, y: s, base: n, width: o, height: a} = t.getProps(["x", "y", "base", "width", "height"], e); |
  |  | 5802 | let r, l, h, c, d; |
  |  | 5803 | return t.horizontal ? (d = a / 2, r = Math.min(i, n), l = Math.max(i, n), h = s - d, c = s + d) : (d = o / 2, r = i - d, l = i + d, h = Math.min(s, n), c = Math.max(s, n)), { |
  |  | 5804 | left: r, |
  |  | 5805 | top: h, |
  |  | 5806 | right: l, |
  |  | 5807 | bottom: c |
  |  | 5808 | } |
  |  | 5809 | } |
  |  | 5810 |  |
  |  | 5811 | function no(t, e, i, s) { |
  |  | 5812 | return t ? 0 : Z(e, i, s) |
  |  | 5813 | } |
  |  | 5814 |  |
  |  | 5815 | function oo(t) { |
  |  | 5816 | const e = so(t), i = e.right - e.left, s = e.bottom - e.top, o = function (t, e, i) { |
  |  | 5817 | const s = t.options.borderWidth, n = t.borderSkipped, o = fi(s); |
  |  | 5818 | return { |
  |  | 5819 | t: no(n.top, o.top, 0, i), |
  |  | 5820 | r: no(n.right, o.right, 0, e), |
  |  | 5821 | b: no(n.bottom, o.bottom, 0, i), |
  |  | 5822 | l: no(n.left, o.left, 0, e) |
  |  | 5823 | } |
  |  | 5824 | }(t, i / 2, s / 2), a = function (t, e, i) { |
  |  | 5825 | const {enableBorderRadius: s} = t.getProps(["enableBorderRadius"]), o = t.options.borderRadius, a = gi(o), |
  |  | 5826 | r = Math.min(e, i), l = t.borderSkipped, h = s || n(o); |
  |  | 5827 | return { |
  |  | 5828 | topLeft: no(!h || l.top || l.left, a.topLeft, 0, r), |
  |  | 5829 | topRight: no(!h || l.top || l.right, a.topRight, 0, r), |
  |  | 5830 | bottomLeft: no(!h || l.bottom || l.left, a.bottomLeft, 0, r), |
  |  | 5831 | bottomRight: no(!h || l.bottom || l.right, a.bottomRight, 0, r) |
  |  | 5832 | } |
  |  | 5833 | }(t, i / 2, s / 2); |
  |  | 5834 | return { |
  |  | 5835 | outer: {x: e.left, y: e.top, w: i, h: s, radius: a}, |
  |  | 5836 | inner: { |
  |  | 5837 | x: e.left + o.l, |
  |  | 5838 | y: e.top + o.t, |
  |  | 5839 | w: i - o.l - o.r, |
  |  | 5840 | h: s - o.t - o.b, |
  |  | 5841 | radius: { |
  |  | 5842 | topLeft: Math.max(0, a.topLeft - Math.max(o.t, o.l)), |
  |  | 5843 | topRight: Math.max(0, a.topRight - Math.max(o.t, o.r)), |
  |  | 5844 | bottomLeft: Math.max(0, a.bottomLeft - Math.max(o.b, o.l)), |
  |  | 5845 | bottomRight: Math.max(0, a.bottomRight - Math.max(o.b, o.r)) |
  |  | 5846 | } |
  |  | 5847 | } |
  |  | 5848 | } |
  |  | 5849 | } |
  |  | 5850 |  |
  |  | 5851 | function ao(t, e, i, s) { |
  |  | 5852 | const n = null === e, o = null === i, a = t && !(n && o) && so(t, s); |
  |  | 5853 | return a && (n || Q(e, a.left, a.right)) && (o || Q(i, a.top, a.bottom)) |
  |  | 5854 | } |
  |  | 5855 |  |
  |  | 5856 | function ro(t, e) { |
  |  | 5857 | t.rect(e.x, e.y, e.w, e.h) |
  |  | 5858 | } |
  |  | 5859 |  |
  |  | 5860 | function lo(t, e, i = {}) { |
  |  | 5861 | const s = t.x !== i.x ? -e : 0, n = t.y !== i.y ? -e : 0, o = (t.x + t.w !== i.x + i.w ? e : 0) - s, |
  |  | 5862 | a = (t.y + t.h !== i.y + i.h ? e : 0) - n; |
  |  | 5863 | return {x: t.x + s, y: t.y + n, w: t.w + o, h: t.h + a, radius: t.radius} |
  |  | 5864 | } |
  |  | 5865 |  |
  |  | 5866 | io.id = "point", io.defaults = { |
  |  | 5867 | borderWidth: 1, |
  |  | 5868 | hitRadius: 1, |
  |  | 5869 | hoverBorderWidth: 1, |
  |  | 5870 | hoverRadius: 4, |
  |  | 5871 | pointStyle: "circle", |
  |  | 5872 | radius: 3, |
  |  | 5873 | rotation: 0 |
  |  | 5874 | }, io.defaultRoutes = {backgroundColor: "backgroundColor", borderColor: "borderColor"}; |
  |  | 5875 |  |
  |  | 5876 | class ho extends Es { |
  |  | 5877 | constructor(t) { |
  |  | 5878 | super(), this.options = void 0, this.horizontal = void 0, this.base = void 0, this.width = void 0, this.height = void 0, this.inflateAmount = void 0, t && Object.assign(this, t) |
  |  | 5879 | } |
  |  | 5880 |  |
  |  | 5881 | draw(t) { |
  |  | 5882 | const {inflateAmount: e, options: {borderColor: i, backgroundColor: s}} = this, { |
  |  | 5883 | inner: n, |
  |  | 5884 | outer: o |
  |  | 5885 | } = oo(this), a = (r = o.radius).topLeft || r.topRight || r.bottomLeft || r.bottomRight ? Le : ro; |
  |  | 5886 | var r; |
  |  | 5887 | t.save(), o.w === n.w && o.h === n.h || (t.beginPath(), a(t, lo(o, e, n)), t.clip(), a(t, lo(n, -e, o)), t.fillStyle = i, t.fill("evenodd")), t.beginPath(), a(t, lo(n, e)), t.fillStyle = s, t.fill(), t.restore() |
  |  | 5888 | } |
  |  | 5889 |  |
  |  | 5890 | inRange(t, e, i) { |
  |  | 5891 | return ao(this, t, e, i) |
  |  | 5892 | } |
  |  | 5893 |  |
  |  | 5894 | inXRange(t, e) { |
  |  | 5895 | return ao(this, t, null, e) |
  |  | 5896 | } |
  |  | 5897 |  |
  |  | 5898 | inYRange(t, e) { |
  |  | 5899 | return ao(this, null, t, e) |
  |  | 5900 | } |
  |  | 5901 |  |
  |  | 5902 | getCenterPoint(t) { |
  |  | 5903 | const {x: e, y: i, base: s, horizontal: n} = this.getProps(["x", "y", "base", "horizontal"], t); |
  |  | 5904 | return {x: n ? (e + s) / 2 : e, y: n ? i : (i + s) / 2} |
  |  | 5905 | } |
  |  | 5906 |  |
  |  | 5907 | getRange(t) { |
  |  | 5908 | return "x" === t ? this.width / 2 : this.height / 2 |
  |  | 5909 | } |
  |  | 5910 | } |
  |  | 5911 |  |
  |  | 5912 | ho.id = "bar", ho.defaults = { |
  |  | 5913 | borderSkipped: "start", |
  |  | 5914 | borderWidth: 0, |
  |  | 5915 | borderRadius: 0, |
  |  | 5916 | inflateAmount: "auto", |
  |  | 5917 | pointStyle: void 0 |
  |  | 5918 | }, ho.defaultRoutes = {backgroundColor: "backgroundColor", borderColor: "borderColor"}; |
  |  | 5919 | var co = Object.freeze({\_\_proto\_\_: null, ArcElement: Yn, LineElement: to, PointElement: io, BarElement: ho}); |
  |  | 5920 |  |
  |  | 5921 | function uo(t) { |
  |  | 5922 | if (t.\_decimated) { |
  |  | 5923 | const e = t.\_data; |
  |  | 5924 | delete t.\_decimated, delete t.\_data, Object.defineProperty(t, "data", {value: e}) |
  |  | 5925 | } |
  |  | 5926 | } |
  |  | 5927 |  |
  |  | 5928 | function fo(t) { |
  |  | 5929 | t.data.datasets.forEach(t => { |
  |  | 5930 | uo(t) |
  |  | 5931 | }) |
  |  | 5932 | } |
  |  | 5933 |  |
  |  | 5934 | var go = { |
  |  | 5935 | id: "decimation", defaults: {algorithm: "min-max", enabled: !1}, beforeElementsUpdate: (t, e, s) => { |
  |  | 5936 | if (!s.enabled) return void fo(t); |
  |  | 5937 | const n = t.width; |
  |  | 5938 | t.data.datasets.forEach((e, o) => { |
  |  | 5939 | const {\_data: a, indexAxis: r} = e, l = t.getDatasetMeta(o), h = a || e.data; |
  |  | 5940 | if ("y" === bi([r, t.options.indexAxis])) return; |
  |  | 5941 | if (!l.controller.supportsDecimation) return; |
  |  | 5942 | const c = t.scales[l.xAxisID]; |
  |  | 5943 | if ("linear" !== c.type && "time" !== c.type) return; |
  |  | 5944 | if (t.options.parsing) return; |
  |  | 5945 | let {start: d, count: u} = function (t, e) { |
  |  | 5946 | const i = e.length; |
  |  | 5947 | let s, n = 0; |
  |  | 5948 | const {iScale: o} = t, {min: a, max: r, minDefined: l, maxDefined: h} = o.getUserBounds(); |
  |  | 5949 | return l && (n = Z(et(e, o.axis, a).lo, 0, i - 1)), s = h ? Z(et(e, o.axis, r).hi + 1, n, i) - n : i - n, { |
  |  | 5950 | start: n, |
  |  | 5951 | count: s |
  |  | 5952 | } |
  |  | 5953 | }(l, h); |
  |  | 5954 | if (u <= (s.threshold || 4 \* n)) return void uo(e); |
  |  | 5955 | let f; |
  |  | 5956 | switch (i(a) && (e.\_data = h, delete e.data, Object.defineProperty(e, "data", { |
  |  | 5957 | configurable: !0, |
  |  | 5958 | enumerable: !0, |
  |  | 5959 | get: function () { |
  |  | 5960 | return this.\_decimated |
  |  | 5961 | }, |
  |  | 5962 | set: function (t) { |
  |  | 5963 | this.\_data = t |
  |  | 5964 | } |
  |  | 5965 | })), s.algorithm) { |
  |  | 5966 | case"lttb": |
  |  | 5967 | f = function (t, e, i, s, n) { |
  |  | 5968 | const o = n.samples || s; |
  |  | 5969 | if (o >= i) return t.slice(e, e + i); |
  |  | 5970 | const a = [], r = (i - 2) / (o - 2); |
  |  | 5971 | let l = 0; |
  |  | 5972 | const h = e + i - 1; |
  |  | 5973 | let c, d, u, f, g, p = e; |
  |  | 5974 | for (a[l++] = t[p], c = 0; c < o - 2; c++) { |
  |  | 5975 | let s, n = 0, o = 0; |
  |  | 5976 | const h = Math.floor((c + 1) \* r) + 1 + e, |
  |  | 5977 | m = Math.min(Math.floor((c + 2) \* r) + 1, i) + e, b = m - h; |
  |  | 5978 | for (s = h; s < m; s++) n += t[s].x, o += t[s].y; |
  |  | 5979 | n /= b, o /= b; |
  |  | 5980 | const x = Math.floor(c \* r) + 1 + e, |
  |  | 5981 | \_ = Math.min(Math.floor((c + 1) \* r) + 1, i) + e, {x: y, y: v} = t[p]; |
  |  | 5982 | for (u = f = -1, s = x; s < \_; s++) f = .5 \* Math.abs((y - n) \* (t[s].y - v) - (y - t[s].x) \* (o - v)), f > u && (u = f, d = t[s], g = s); |
  |  | 5983 | a[l++] = d, p = g |
  |  | 5984 | } |
  |  | 5985 | return a[l++] = t[h], a |
  |  | 5986 | }(h, d, u, n, s); |
  |  | 5987 | break; |
  |  | 5988 | case"min-max": |
  |  | 5989 | f = function (t, e, s, n) { |
  |  | 5990 | let o, a, r, l, h, c, d, u, f, g, p = 0, m = 0; |
  |  | 5991 | const b = [], x = e + s - 1, \_ = t[e].x, y = t[x].x - \_; |
  |  | 5992 | for (o = e; o < e + s; ++o) { |
  |  | 5993 | a = t[o], r = (a.x - \_) / y \* n, l = a.y; |
  |  | 5994 | const e = 0 | r; |
  |  | 5995 | if (e === h) l < f ? (f = l, c = o) : l > g && (g = l, d = o), p = (m \* p + a.x) / ++m; else { |
  |  | 5996 | const s = o - 1; |
  |  | 5997 | if (!i(c) && !i(d)) { |
  |  | 5998 | const e = Math.min(c, d), i = Math.max(c, d); |
  |  | 5999 | e !== u && e !== s && b.push({ |
  |  | 6000 | ...t[e], |
  |  | 6001 | x: p |
  |  | 6002 | }), i !== u && i !== s && b.push({...t[i], x: p}) |
  |  | 6003 | } |
  |  | 6004 | o > 0 && s !== u && b.push(t[s]), b.push(a), h = e, m = 0, f = g = l, c = d = u = o |
  |  | 6005 | } |
  |  | 6006 | } |
  |  | 6007 | return b |
  |  | 6008 | }(h, d, u, n); |
  |  | 6009 | break; |
  |  | 6010 | default: |
  |  | 6011 | throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`) |
  |  | 6012 | } |
  |  | 6013 | e.\_decimated = f |
  |  | 6014 | }) |
  |  | 6015 | }, destroy(t) { |
  |  | 6016 | fo(t) |
  |  | 6017 | } |
  |  | 6018 | }; |
  |  | 6019 |  |
  |  | 6020 | function po(t, e, i, s) { |
  |  | 6021 | if (s) return; |
  |  | 6022 | let n = e[t], o = i[t]; |
  |  | 6023 | return "angle" === t && (n = K(n), o = K(o)), {property: t, start: n, end: o} |
  |  | 6024 | } |
  |  | 6025 |  |
  |  | 6026 | function mo(t, e, i) { |
  |  | 6027 | for (; e > t; e--) { |
  |  | 6028 | const t = i[e]; |
  |  | 6029 | if (!isNaN(t.x) && !isNaN(t.y)) break |
  |  | 6030 | } |
  |  | 6031 | return e |
  |  | 6032 | } |
  |  | 6033 |  |
  |  | 6034 | function bo(t, e, i, s) { |
  |  | 6035 | return t && e ? s(t[i], e[i]) : t ? t[i] : e ? e[i] : 0 |
  |  | 6036 | } |
  |  | 6037 |  |
  |  | 6038 | function xo(t, e) { |
  |  | 6039 | let i = [], n = !1; |
  |  | 6040 | return s(t) ? (n = !0, i = t) : i = function (t, e) { |
  |  | 6041 | const {x: i = null, y: s = null} = t || {}, n = e.points, o = []; |
  |  | 6042 | return e.segments.forEach(({start: t, end: e}) => { |
  |  | 6043 | e = mo(t, e, n); |
  |  | 6044 | const a = n[t], r = n[e]; |
  |  | 6045 | null !== s ? (o.push({x: a.x, y: s}), o.push({x: r.x, y: s})) : null !== i && (o.push({ |
  |  | 6046 | x: i, |
  |  | 6047 | y: a.y |
  |  | 6048 | }), o.push({x: i, y: r.y})) |
  |  | 6049 | }), o |
  |  | 6050 | }(t, e), i.length ? new to({points: i, options: {tension: 0}, \_loop: n, \_fullLoop: n}) : null |
  |  | 6051 | } |
  |  | 6052 |  |
  |  | 6053 | function \_o(t) { |
  |  | 6054 | return t && !1 !== t.fill |
  |  | 6055 | } |
  |  | 6056 |  |
  |  | 6057 | function yo(t, e, i) { |
  |  | 6058 | let s = t[e].fill; |
  |  | 6059 | const n = [e]; |
  |  | 6060 | let a; |
  |  | 6061 | if (!i) return s; |
  |  | 6062 | for (; !1 !== s && -1 === n.indexOf(s);) { |
  |  | 6063 | if (!o(s)) return s; |
  |  | 6064 | if (a = t[s], !a) return !1; |
  |  | 6065 | if (a.visible) return s; |
  |  | 6066 | n.push(s), s = a.fill |
  |  | 6067 | } |
  |  | 6068 | return !1 |
  |  | 6069 | } |
  |  | 6070 |  |
  |  | 6071 | function vo(t, e, i) { |
  |  | 6072 | const s = function (t) { |
  |  | 6073 | const e = t.options, i = e.fill; |
  |  | 6074 | let s = r(i && i.target, i); |
  |  | 6075 | void 0 === s && (s = !!e.backgroundColor); |
  |  | 6076 | if (!1 === s || null === s) return !1; |
  |  | 6077 | if (!0 === s) return "origin"; |
  |  | 6078 | return s |
  |  | 6079 | }(t); |
  |  | 6080 | if (n(s)) return !isNaN(s.value) && s; |
  |  | 6081 | let a = parseFloat(s); |
  |  | 6082 | return o(a) && Math.floor(a) === a ? function (t, e, i, s) { |
  |  | 6083 | "-" !== t && "+" !== t || (i = e + i); |
  |  | 6084 | if (i === e || i < 0 || i >= s) return !1; |
  |  | 6085 | return i |
  |  | 6086 | }(s[0], e, a, i) : ["origin", "start", "end", "stack", "shape"].indexOf(s) >= 0 && s |
  |  | 6087 | } |
  |  | 6088 |  |
  |  | 6089 | function wo(t, e, i) { |
  |  | 6090 | const s = []; |
  |  | 6091 | for (let n = 0; n < i.length; n++) { |
  |  | 6092 | const o = i[n], {first: a, last: r, point: l} = Mo(o, e, "x"); |
  |  | 6093 | if (!(!l || a && r)) if (a) s.unshift(l); else if (t.push(l), !r) break |
  |  | 6094 | } |
  |  | 6095 | t.push(...s) |
  |  | 6096 | } |
  |  | 6097 |  |
  |  | 6098 | function Mo(t, e, i) { |
  |  | 6099 | const s = t.interpolate(e, i); |
  |  | 6100 | if (!s) return {}; |
  |  | 6101 | const n = s[i], o = t.segments, a = t.points; |
  |  | 6102 | let r = !1, l = !1; |
  |  | 6103 | for (let t = 0; t < o.length; t++) { |
  |  | 6104 | const e = o[t], s = a[e.start][i], h = a[e.end][i]; |
  |  | 6105 | if (Q(n, s, h)) { |
  |  | 6106 | r = n === s, l = n === h; |
  |  | 6107 | break |
  |  | 6108 | } |
  |  | 6109 | } |
  |  | 6110 | return {first: r, last: l, point: s} |
  |  | 6111 | } |
  |  | 6112 |  |
  |  | 6113 | class ko { |
  |  | 6114 | constructor(t) { |
  |  | 6115 | this.x = t.x, this.y = t.y, this.radius = t.radius |
  |  | 6116 | } |
  |  | 6117 |  |
  |  | 6118 | pathSegment(t, e, i) { |
  |  | 6119 | const {x: s, y: n, radius: o} = this; |
  |  | 6120 | return e = e || {start: 0, end: O}, t.arc(s, n, o, e.end, e.start, !0), !i.bounds |
  |  | 6121 | } |
  |  | 6122 |  |
  |  | 6123 | interpolate(t) { |
  |  | 6124 | const {x: e, y: i, radius: s} = this, n = t.angle; |
  |  | 6125 | return {x: e + Math.cos(n) \* s, y: i + Math.sin(n) \* s, angle: n} |
  |  | 6126 | } |
  |  | 6127 | } |
  |  | 6128 |  |
  |  | 6129 | function So(t) { |
  |  | 6130 | const {chart: e, fill: i, line: s} = t; |
  |  | 6131 | if (o(i)) return function (t, e) { |
  |  | 6132 | const i = t.getDatasetMeta(e); |
  |  | 6133 | return i && t.isDatasetVisible(e) ? i.dataset : null |
  |  | 6134 | }(e, i); |
  |  | 6135 | if ("stack" === i) return function (t) { |
  |  | 6136 | const {scale: e, index: i, line: s} = t, n = [], o = s.segments, a = s.points, r = function (t, e) { |
  |  | 6137 | const i = [], s = t.getMatchingVisibleMetas("line"); |
  |  | 6138 | for (let t = 0; t < s.length; t++) { |
  |  | 6139 | const n = s[t]; |
  |  | 6140 | if (n.index === e) break; |
  |  | 6141 | n.hidden || i.unshift(n.dataset) |
  |  | 6142 | } |
  |  | 6143 | return i |
  |  | 6144 | }(e, i); |
  |  | 6145 | r.push(xo({x: null, y: e.bottom}, s)); |
  |  | 6146 | for (let t = 0; t < o.length; t++) { |
  |  | 6147 | const e = o[t]; |
  |  | 6148 | for (let t = e.start; t <= e.end; t++) wo(n, a[t], r) |
  |  | 6149 | } |
  |  | 6150 | return new to({points: n, options: {}}) |
  |  | 6151 | }(t); |
  |  | 6152 | if ("shape" === i) return !0; |
  |  | 6153 | const a = function (t) { |
  |  | 6154 | if ((t.scale || {}).getPointPositionForValue) return function (t) { |
  |  | 6155 | const {scale: e, fill: i} = t, s = e.options, o = e.getLabels().length, a = s.reverse ? e.max : e.min, |
  |  | 6156 | r = function (t, e, i) { |
  |  | 6157 | let s; |
  |  | 6158 | return s = "start" === t ? i : "end" === t ? e.options.reverse ? e.min : e.max : n(t) ? t.value : e.getBaseValue(), s |
  |  | 6159 | }(i, e, a), l = []; |
  |  | 6160 | if (s.grid.circular) { |
  |  | 6161 | const t = e.getPointPositionForValue(0, a); |
  |  | 6162 | return new ko({x: t.x, y: t.y, radius: e.getDistanceFromCenterForValue(r)}) |
  |  | 6163 | } |
  |  | 6164 | for (let t = 0; t < o; ++t) l.push(e.getPointPositionForValue(t, r)); |
  |  | 6165 | return l |
  |  | 6166 | }(t); |
  |  | 6167 | return function (t) { |
  |  | 6168 | const {scale: e = {}, fill: i} = t, s = function (t, e) { |
  |  | 6169 | let i = null; |
  |  | 6170 | return "start" === t ? i = e.bottom : "end" === t ? i = e.top : n(t) ? i = e.getPixelForValue(t.value) : e.getBasePixel && (i = e.getBasePixel()), i |
  |  | 6171 | }(i, e); |
  |  | 6172 | if (o(s)) { |
  |  | 6173 | const t = e.isHorizontal(); |
  |  | 6174 | return {x: t ? s : null, y: t ? null : s} |
  |  | 6175 | } |
  |  | 6176 | return null |
  |  | 6177 | }(t) |
  |  | 6178 | }(t); |
  |  | 6179 | return a instanceof ko ? a : xo(a, s) |
  |  | 6180 | } |
  |  | 6181 |  |
  |  | 6182 | function Po(t, e, i) { |
  |  | 6183 | const s = So(e), {line: n, scale: o, axis: a} = e, r = n.options, l = r.fill, |
  |  | 6184 | h = r.backgroundColor, {above: c = h, below: d = h} = l || {}; |
  |  | 6185 | s && n.points.length && (Pe(t, i), function (t, e) { |
  |  | 6186 | const {line: i, target: s, above: n, below: o, area: a, scale: r} = e, l = i.\_loop ? "angle" : e.axis; |
  |  | 6187 | t.save(), "x" === l && o !== n && (Do(t, s, a.top), Oo(t, { |
  |  | 6188 | line: i, |
  |  | 6189 | target: s, |
  |  | 6190 | color: n, |
  |  | 6191 | scale: r, |
  |  | 6192 | property: l |
  |  | 6193 | }), t.restore(), t.save(), Do(t, s, a.bottom)); |
  |  | 6194 | Oo(t, {line: i, target: s, color: o, scale: r, property: l}), t.restore() |
  |  | 6195 | }(t, {line: n, target: s, above: c, below: d, area: i, scale: o, axis: a}), De(t)) |
  |  | 6196 | } |
  |  | 6197 |  |
  |  | 6198 | function Do(t, e, i) { |
  |  | 6199 | const {segments: s, points: n} = e; |
  |  | 6200 | let o = !0, a = !1; |
  |  | 6201 | t.beginPath(); |
  |  | 6202 | for (const r of s) { |
  |  | 6203 | const {start: s, end: l} = r, h = n[s], c = n[mo(s, l, n)]; |
  |  | 6204 | o ? (t.moveTo(h.x, h.y), o = !1) : (t.lineTo(h.x, i), t.lineTo(h.x, h.y)), a = !!e.pathSegment(t, r, {move: a}), a ? t.closePath() : t.lineTo(c.x, i) |
  |  | 6205 | } |
  |  | 6206 | t.lineTo(e.first().x, i), t.closePath(), t.clip() |
  |  | 6207 | } |
  |  | 6208 |  |
  |  | 6209 | function Oo(t, e) { |
  |  | 6210 | const {line: i, target: s, property: n, color: o, scale: a} = e, r = function (t, e, i) { |
  |  | 6211 | const s = t.segments, n = t.points, o = e.points, a = []; |
  |  | 6212 | for (const t of s) { |
  |  | 6213 | let {start: s, end: r} = t; |
  |  | 6214 | r = mo(s, r, n); |
  |  | 6215 | const l = po(i, n[s], n[r], t.loop); |
  |  | 6216 | if (!e.segments) { |
  |  | 6217 | a.push({source: t, target: l, start: n[s], end: n[r]}); |
  |  | 6218 | continue |
  |  | 6219 | } |
  |  | 6220 | const h = Pi(e, l); |
  |  | 6221 | for (const e of h) { |
  |  | 6222 | const s = po(i, o[e.start], o[e.end], e.loop), r = Si(t, n, s); |
  |  | 6223 | for (const t of r) a.push({ |
  |  | 6224 | source: t, |
  |  | 6225 | target: e, |
  |  | 6226 | start: {[i]: bo(l, s, "start", Math.max)}, |
  |  | 6227 | end: {[i]: bo(l, s, "end", Math.min)} |
  |  | 6228 | }) |
  |  | 6229 | } |
  |  | 6230 | } |
  |  | 6231 | return a |
  |  | 6232 | }(i, s, n); |
  |  | 6233 | for (const {source: e, target: l, start: h, end: c} of r) { |
  |  | 6234 | const {style: {backgroundColor: r = o} = {}} = e, d = !0 !== s; |
  |  | 6235 | t.save(), t.fillStyle = r, Co(t, a, d && po(n, h, c)), t.beginPath(); |
  |  | 6236 | const u = !!i.pathSegment(t, e); |
  |  | 6237 | let f; |
  |  | 6238 | if (d) { |
  |  | 6239 | u ? t.closePath() : Ao(t, s, c, n); |
  |  | 6240 | const e = !!s.pathSegment(t, l, {move: u, reverse: !0}); |
  |  | 6241 | f = u && e, f || Ao(t, s, h, n) |
  |  | 6242 | } |
  |  | 6243 | t.closePath(), t.fill(f ? "evenodd" : "nonzero"), t.restore() |
  |  | 6244 | } |
  |  | 6245 | } |
  |  | 6246 |  |
  |  | 6247 | function Co(t, e, i) { |
  |  | 6248 | const {top: s, bottom: n} = e.chart.chartArea, {property: o, start: a, end: r} = i || {}; |
  |  | 6249 | "x" === o && (t.beginPath(), t.rect(a, s, r - a, n - s), t.clip()) |
  |  | 6250 | } |
  |  | 6251 |  |
  |  | 6252 | function Ao(t, e, i, s) { |
  |  | 6253 | const n = e.interpolate(i, s); |
  |  | 6254 | n && t.lineTo(n.x, n.y) |
  |  | 6255 | } |
  |  | 6256 |  |
  |  | 6257 | var To = { |
  |  | 6258 | id: "filler", afterDatasetsUpdate(t, e, i) { |
  |  | 6259 | const s = (t.data.datasets || []).length, n = []; |
  |  | 6260 | let o, a, r, l; |
  |  | 6261 | for (a = 0; a < s; ++a) o = t.getDatasetMeta(a), r = o.dataset, l = null, r && r.options && r instanceof to && (l = { |
  |  | 6262 | visible: t.isDatasetVisible(a), |
  |  | 6263 | index: a, |
  |  | 6264 | fill: vo(r, a, s), |
  |  | 6265 | chart: t, |
  |  | 6266 | axis: o.controller.options.indexAxis, |
  |  | 6267 | scale: o.vScale, |
  |  | 6268 | line: r |
  |  | 6269 | }), o.$filler = l, n.push(l); |
  |  | 6270 | for (a = 0; a < s; ++a) l = n[a], l && !1 !== l.fill && (l.fill = yo(n, a, i.propagate)) |
  |  | 6271 | }, beforeDraw(t, e, i) { |
  |  | 6272 | const s = "beforeDraw" === i.drawTime, n = t.getSortedVisibleDatasetMetas(), o = t.chartArea; |
  |  | 6273 | for (let e = n.length - 1; e >= 0; --e) { |
  |  | 6274 | const i = n[e].$filler; |
  |  | 6275 | i && (i.line.updateControlPoints(o, i.axis), s && i.fill && Po(t.ctx, i, o)) |
  |  | 6276 | } |
  |  | 6277 | }, beforeDatasetsDraw(t, e, i) { |
  |  | 6278 | if ("beforeDatasetsDraw" !== i.drawTime) return; |
  |  | 6279 | const s = t.getSortedVisibleDatasetMetas(); |
  |  | 6280 | for (let e = s.length - 1; e >= 0; --e) { |
  |  | 6281 | const i = s[e].$filler; |
  |  | 6282 | \_o(i) && Po(t.ctx, i, t.chartArea) |
  |  | 6283 | } |
  |  | 6284 | }, beforeDatasetDraw(t, e, i) { |
  |  | 6285 | const s = e.meta.$filler; |
  |  | 6286 | \_o(s) && "beforeDatasetDraw" === i.drawTime && Po(t.ctx, s, t.chartArea) |
  |  | 6287 | }, defaults: {propagate: !0, drawTime: "beforeDatasetDraw"} |
  |  | 6288 | }; |
  |  | 6289 | const Lo = (t, e) => { |
  |  | 6290 | let {boxHeight: i = e, boxWidth: s = e} = t; |
  |  | 6291 | return t.usePointStyle && (i = Math.min(i, e), s = t.pointStyleWidth || Math.min(s, e)), { |
  |  | 6292 | boxWidth: s, |
  |  | 6293 | boxHeight: i, |
  |  | 6294 | itemHeight: Math.max(e, i) |
  |  | 6295 | } |
  |  | 6296 | }; |
  |  | 6297 |  |
  |  | 6298 | class Eo extends Es { |
  |  | 6299 | constructor(t) { |
  |  | 6300 | super(), this.\_added = !1, this.legendHitBoxes = [], this.\_hoveredItem = null, this.doughnutMode = !1, this.chart = t.chart, this.options = t.options, this.ctx = t.ctx, this.legendItems = void 0, this.columnSizes = void 0, this.lineWidths = void 0, this.maxHeight = void 0, this.maxWidth = void 0, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.height = void 0, this.width = void 0, this.\_margins = void 0, this.position = void 0, this.weight = void 0, this.fullSize = void 0 |
  |  | 6301 | } |
  |  | 6302 |  |
  |  | 6303 | update(t, e, i) { |
  |  | 6304 | this.maxWidth = t, this.maxHeight = e, this.\_margins = i, this.setDimensions(), this.buildLabels(), this.fit() |
  |  | 6305 | } |
  |  | 6306 |  |
  |  | 6307 | setDimensions() { |
  |  | 6308 | this.isHorizontal() ? (this.width = this.maxWidth, this.left = this.\_margins.left, this.right = this.width) : (this.height = this.maxHeight, this.top = this.\_margins.top, this.bottom = this.height) |
  |  | 6309 | } |
  |  | 6310 |  |
  |  | 6311 | buildLabels() { |
  |  | 6312 | const t = this.options.labels || {}; |
  |  | 6313 | let e = c(t.generateLabels, [this.chart], this) || []; |
  |  | 6314 | t.filter && (e = e.filter(e => t.filter(e, this.chart.data))), t.sort && (e = e.sort((e, i) => t.sort(e, i, this.chart.data))), this.options.reverse && e.reverse(), this.legendItems = e |
  |  | 6315 | } |
  |  | 6316 |  |
  |  | 6317 | fit() { |
  |  | 6318 | const {options: t, ctx: e} = this; |
  |  | 6319 | if (!t.display) return void (this.width = this.height = 0); |
  |  | 6320 | const i = t.labels, s = mi(i.font), n = s.size, o = this.\_computeTitleHeight(), { |
  |  | 6321 | boxWidth: a, |
  |  | 6322 | itemHeight: r |
  |  | 6323 | } = Lo(i, n); |
  |  | 6324 | let l, h; |
  |  | 6325 | e.font = s.string, this.isHorizontal() ? (l = this.maxWidth, h = this.\_fitRows(o, n, a, r) + 10) : (h = this.maxHeight, l = this.\_fitCols(o, n, a, r) + 10), this.width = Math.min(l, t.maxWidth || this.maxWidth), this.height = Math.min(h, t.maxHeight || this.maxHeight) |
  |  | 6326 | } |
  |  | 6327 |  |
  |  | 6328 | \_fitRows(t, e, i, s) { |
  |  | 6329 | const {ctx: n, maxWidth: o, options: {labels: {padding: a}}} = this, r = this.legendHitBoxes = [], |
  |  | 6330 | l = this.lineWidths = [0], h = s + a; |
  |  | 6331 | let c = t; |
  |  | 6332 | n.textAlign = "left", n.textBaseline = "middle"; |
  |  | 6333 | let d = -1, u = -h; |
  |  | 6334 | return this.legendItems.forEach((t, f) => { |
  |  | 6335 | const g = i + e / 2 + n.measureText(t.text).width; |
  |  | 6336 | (0 === f || l[l.length - 1] + g + 2 \* a > o) && (c += h, l[l.length - (f > 0 ? 0 : 1)] = 0, u += h, d++), r[f] = { |
  |  | 6337 | left: 0, |
  |  | 6338 | top: u, |
  |  | 6339 | row: d, |
  |  | 6340 | width: g, |
  |  | 6341 | height: s |
  |  | 6342 | }, l[l.length - 1] += g + a |
  |  | 6343 | }), c |
  |  | 6344 | } |
  |  | 6345 |  |
  |  | 6346 | \_fitCols(t, e, i, s) { |
  |  | 6347 | const {ctx: n, maxHeight: o, options: {labels: {padding: a}}} = this, r = this.legendHitBoxes = [], |
  |  | 6348 | l = this.columnSizes = [], h = o - t; |
  |  | 6349 | let c = a, d = 0, u = 0, f = 0, g = 0; |
  |  | 6350 | return this.legendItems.forEach((t, o) => { |
  |  | 6351 | const p = i + e / 2 + n.measureText(t.text).width; |
  |  | 6352 | o > 0 && u + s + 2 \* a > h && (c += d + a, l.push({ |
  |  | 6353 | width: d, |
  |  | 6354 | height: u |
  |  | 6355 | }), f += d + a, g++, d = u = 0), r[o] = { |
  |  | 6356 | left: f, |
  |  | 6357 | top: u, |
  |  | 6358 | col: g, |
  |  | 6359 | width: p, |
  |  | 6360 | height: s |
  |  | 6361 | }, d = Math.max(d, p), u += s + a |
  |  | 6362 | }), c += d, l.push({width: d, height: u}), c |
  |  | 6363 | } |
  |  | 6364 |  |
  |  | 6365 | adjustHitBoxes() { |
  |  | 6366 | if (!this.options.display) return; |
  |  | 6367 | const t = this.\_computeTitleHeight(), { |
  |  | 6368 | legendHitBoxes: e, |
  |  | 6369 | options: {align: i, labels: {padding: s}, rtl: n} |
  |  | 6370 | } = this, o = yi(n, this.left, this.width); |
  |  | 6371 | if (this.isHorizontal()) { |
  |  | 6372 | let n = 0, a = ut(i, this.left + s, this.right - this.lineWidths[n]); |
  |  | 6373 | for (const r of e) n !== r.row && (n = r.row, a = ut(i, this.left + s, this.right - this.lineWidths[n])), r.top += this.top + t + s, r.left = o.leftForLtr(o.x(a), r.width), a += r.width + s |
  |  | 6374 | } else { |
  |  | 6375 | let n = 0, a = ut(i, this.top + t + s, this.bottom - this.columnSizes[n].height); |
  |  | 6376 | for (const r of e) r.col !== n && (n = r.col, a = ut(i, this.top + t + s, this.bottom - this.columnSizes[n].height)), r.top = a, r.left += this.left + s, r.left = o.leftForLtr(o.x(r.left), r.width), a += r.height + s |
  |  | 6377 | } |
  |  | 6378 | } |
  |  | 6379 |  |
  |  | 6380 | isHorizontal() { |
  |  | 6381 | return "top" === this.options.position || "bottom" === this.options.position |
  |  | 6382 | } |
  |  | 6383 |  |
  |  | 6384 | draw() { |
  |  | 6385 | if (this.options.display) { |
  |  | 6386 | const t = this.ctx; |
  |  | 6387 | Pe(t, this), this.\_draw(), De(t) |
  |  | 6388 | } |
  |  | 6389 | } |
  |  | 6390 |  |
  |  | 6391 | \_draw() { |
  |  | 6392 | const {options: t, columnSizes: e, lineWidths: i, ctx: s} = this, {align: n, labels: o} = t, a = ne.color, |
  |  | 6393 | l = yi(t.rtl, this.left, this.width), h = mi(o.font), {color: c, padding: d} = o, u = h.size, f = u / 2; |
  |  | 6394 | let g; |
  |  | 6395 | this.drawTitle(), s.textAlign = l.textAlign("left"), s.textBaseline = "middle", s.lineWidth = .5, s.font = h.string; |
  |  | 6396 | const {boxWidth: p, boxHeight: m, itemHeight: b} = Lo(o, u), x = this.isHorizontal(), |
  |  | 6397 | \_ = this.\_computeTitleHeight(); |
  |  | 6398 | g = x ? {x: ut(n, this.left + d, this.right - i[0]), y: this.top + d + \_, line: 0} : { |
  |  | 6399 | x: this.left + d, |
  |  | 6400 | y: ut(n, this.top + \_ + d, this.bottom - e[0].height), |
  |  | 6401 | line: 0 |
  |  | 6402 | }, vi(this.ctx, t.textDirection); |
  |  | 6403 | const y = b + d; |
  |  | 6404 | this.legendItems.forEach((v, w) => { |
  |  | 6405 | s.strokeStyle = v.fontColor || c, s.fillStyle = v.fontColor || c; |
  |  | 6406 | const M = s.measureText(v.text).width, k = l.textAlign(v.textAlign || (v.textAlign = o.textAlign)), |
  |  | 6407 | S = p + f + M; |
  |  | 6408 | let P = g.x, D = g.y; |
  |  | 6409 | l.setWidth(this.width), x ? w > 0 && P + S + d > this.right && (D = g.y += y, g.line++, P = g.x = ut(n, this.left + d, this.right - i[g.line])) : w > 0 && D + y > this.bottom && (P = g.x = P + e[g.line].width + d, g.line++, D = g.y = ut(n, this.top + \_ + d, this.bottom - e[g.line].height)); |
  |  | 6410 | !function (t, e, i) { |
  |  | 6411 | if (isNaN(p) || p <= 0 || isNaN(m) || m < 0) return; |
  |  | 6412 | s.save(); |
  |  | 6413 | const n = r(i.lineWidth, 1); |
  |  | 6414 | if (s.fillStyle = r(i.fillStyle, a), s.lineCap = r(i.lineCap, "butt"), s.lineDashOffset = r(i.lineDashOffset, 0), s.lineJoin = r(i.lineJoin, "miter"), s.lineWidth = n, s.strokeStyle = r(i.strokeStyle, a), s.setLineDash(r(i.lineDash, [])), o.usePointStyle) { |
  |  | 6415 | const a = { |
  |  | 6416 | radius: m \* Math.SQRT2 / 2, |
  |  | 6417 | pointStyle: i.pointStyle, |
  |  | 6418 | rotation: i.rotation, |
  |  | 6419 | borderWidth: n |
  |  | 6420 | }, r = l.xPlus(t, p / 2); |
  |  | 6421 | ke(s, a, r, e + f, o.pointStyleWidth && p) |
  |  | 6422 | } else { |
  |  | 6423 | const o = e + Math.max((u - m) / 2, 0), a = l.leftForLtr(t, p), r = gi(i.borderRadius); |
  |  | 6424 | s.beginPath(), Object.values(r).some(t => 0 !== t) ? Le(s, { |
  |  | 6425 | x: a, |
  |  | 6426 | y: o, |
  |  | 6427 | w: p, |
  |  | 6428 | h: m, |
  |  | 6429 | radius: r |
  |  | 6430 | }) : s.rect(a, o, p, m), s.fill(), 0 !== n && s.stroke() |
  |  | 6431 | } |
  |  | 6432 | s.restore() |
  |  | 6433 | }(l.x(P), D, v), P = ft(k, P + p + f, x ? P + S : this.right, t.rtl), function (t, e, i) { |
  |  | 6434 | Ae(s, i.text, t, e + b / 2, h, {strikethrough: i.hidden, textAlign: l.textAlign(i.textAlign)}) |
  |  | 6435 | }(l.x(P), D, v), x ? g.x += S + d : g.y += y |
  |  | 6436 | }), wi(this.ctx, t.textDirection) |
  |  | 6437 | } |
  |  | 6438 |  |
  |  | 6439 | drawTitle() { |
  |  | 6440 | const t = this.options, e = t.title, i = mi(e.font), s = pi(e.padding); |
  |  | 6441 | if (!e.display) return; |
  |  | 6442 | const n = yi(t.rtl, this.left, this.width), o = this.ctx, a = e.position, r = i.size / 2, l = s.top + r; |
  |  | 6443 | let h, c = this.left, d = this.width; |
  |  | 6444 | if (this.isHorizontal()) d = Math.max(...this.lineWidths), h = this.top + l, c = ut(t.align, c, this.right - d); else { |
  |  | 6445 | const e = this.columnSizes.reduce((t, e) => Math.max(t, e.height), 0); |
  |  | 6446 | h = l + ut(t.align, this.top, this.bottom - e - t.labels.padding - this.\_computeTitleHeight()) |
  |  | 6447 | } |
  |  | 6448 | const u = ut(a, c, c + d); |
  |  | 6449 | o.textAlign = n.textAlign(dt(a)), o.textBaseline = "middle", o.strokeStyle = e.color, o.fillStyle = e.color, o.font = i.string, Ae(o, e.text, u, h, i) |
  |  | 6450 | } |
  |  | 6451 |  |
  |  | 6452 | \_computeTitleHeight() { |
  |  | 6453 | const t = this.options.title, e = mi(t.font), i = pi(t.padding); |
  |  | 6454 | return t.display ? e.lineHeight + i.height : 0 |
  |  | 6455 | } |
  |  | 6456 |  |
  |  | 6457 | \_getLegendItemAt(t, e) { |
  |  | 6458 | let i, s, n; |
  |  | 6459 | if (Q(t, this.left, this.right) && Q(e, this.top, this.bottom)) for (n = this.legendHitBoxes, i = 0; i < n.length; ++i) if (s = n[i], Q(t, s.left, s.left + s.width) && Q(e, s.top, s.top + s.height)) return this.legendItems[i]; |
  |  | 6460 | return null |
  |  | 6461 | } |
  |  | 6462 |  |
  |  | 6463 | handleEvent(t) { |
  |  | 6464 | const e = this.options; |
  |  | 6465 | if (!function (t, e) { |
  |  | 6466 | if (("mousemove" === t || "mouseout" === t) && (e.onHover || e.onLeave)) return !0; |
  |  | 6467 | if (e.onClick && ("click" === t || "mouseup" === t)) return !0; |
  |  | 6468 | return !1 |
  |  | 6469 | }(t.type, e)) return; |
  |  | 6470 | const i = this.\_getLegendItemAt(t.x, t.y); |
  |  | 6471 | if ("mousemove" === t.type || "mouseout" === t.type) { |
  |  | 6472 | const o = this.\_hoveredItem, |
  |  | 6473 | a = (n = i, null !== (s = o) && null !== n && s.datasetIndex === n.datasetIndex && s.index === n.index); |
  |  | 6474 | o && !a && c(e.onLeave, [t, o, this], this), this.\_hoveredItem = i, i && !a && c(e.onHover, [t, i, this], this) |
  |  | 6475 | } else i && c(e.onClick, [t, i, this], this); |
  |  | 6476 | var s, n |
  |  | 6477 | } |
  |  | 6478 | } |
  |  | 6479 |  |
  |  | 6480 | var Ro = { |
  |  | 6481 | id: "legend", |
  |  | 6482 | \_element: Eo, |
  |  | 6483 | start(t, e, i) { |
  |  | 6484 | const s = t.legend = new Eo({ctx: t.ctx, options: i, chart: t}); |
  |  | 6485 | Zi.configure(t, s, i), Zi.addBox(t, s) |
  |  | 6486 | }, |
  |  | 6487 | stop(t) { |
  |  | 6488 | Zi.removeBox(t, t.legend), delete t.legend |
  |  | 6489 | }, |
  |  | 6490 | beforeUpdate(t, e, i) { |
  |  | 6491 | const s = t.legend; |
  |  | 6492 | Zi.configure(t, s, i), s.options = i |
  |  | 6493 | }, |
  |  | 6494 | afterUpdate(t) { |
  |  | 6495 | const e = t.legend; |
  |  | 6496 | e.buildLabels(), e.adjustHitBoxes() |
  |  | 6497 | }, |
  |  | 6498 | afterEvent(t, e) { |
  |  | 6499 | e.replay || t.legend.handleEvent(e.event) |
  |  | 6500 | }, |
  |  | 6501 | defaults: { |
  |  | 6502 | display: !0, |
  |  | 6503 | position: "top", |
  |  | 6504 | align: "center", |
  |  | 6505 | fullSize: !0, |
  |  | 6506 | reverse: !1, |
  |  | 6507 | weight: 1e3, |
  |  | 6508 | onClick(t, e, i) { |
  |  | 6509 | const s = e.datasetIndex, n = i.chart; |
  |  | 6510 | n.isDatasetVisible(s) ? (n.hide(s), e.hidden = !0) : (n.show(s), e.hidden = !1) |
  |  | 6511 | }, |
  |  | 6512 | onHover: null, |
  |  | 6513 | onLeave: null, |
  |  | 6514 | labels: { |
  |  | 6515 | color: t => t.chart.options.color, boxWidth: 40, padding: 10, generateLabels(t) { |
  |  | 6516 | const e = t.data.datasets, { |
  |  | 6517 | labels: { |
  |  | 6518 | usePointStyle: i, |
  |  | 6519 | pointStyle: s, |
  |  | 6520 | textAlign: n, |
  |  | 6521 | color: o |
  |  | 6522 | } |
  |  | 6523 | } = t.legend.options; |
  |  | 6524 | return t.\_getSortedDatasetMetas().map(t => { |
  |  | 6525 | const a = t.controller.getStyle(i ? 0 : void 0), r = pi(a.borderWidth); |
  |  | 6526 | return { |
  |  | 6527 | text: e[t.index].label, |
  |  | 6528 | fillStyle: a.backgroundColor, |
  |  | 6529 | fontColor: o, |
  |  | 6530 | hidden: !t.visible, |
  |  | 6531 | lineCap: a.borderCapStyle, |
  |  | 6532 | lineDash: a.borderDash, |
  |  | 6533 | lineDashOffset: a.borderDashOffset, |
  |  | 6534 | lineJoin: a.borderJoinStyle, |
  |  | 6535 | lineWidth: (r.width + r.height) / 4, |
  |  | 6536 | strokeStyle: a.borderColor, |
  |  | 6537 | pointStyle: s || a.pointStyle, |
  |  | 6538 | rotation: a.rotation, |
  |  | 6539 | textAlign: n || a.textAlign, |
  |  | 6540 | borderRadius: 0, |
  |  | 6541 | datasetIndex: t.index |
  |  | 6542 | } |
  |  | 6543 | }, this) |
  |  | 6544 | } |
  |  | 6545 | }, |
  |  | 6546 | title: {color: t => t.chart.options.color, display: !1, position: "center", text: ""} |
  |  | 6547 | }, |
  |  | 6548 | descriptors: { |
  |  | 6549 | \_scriptable: t => !t.startsWith("on"), |
  |  | 6550 | labels: {\_scriptable: t => !["generateLabels", "filter", "sort"].includes(t)} |
  |  | 6551 | } |
  |  | 6552 | }; |
  |  | 6553 |  |
  |  | 6554 | class Io extends Es { |
  |  | 6555 | constructor(t) { |
  |  | 6556 | super(), this.chart = t.chart, this.options = t.options, this.ctx = t.ctx, this.\_padding = void 0, this.top = void 0, this.bottom = void 0, this.left = void 0, this.right = void 0, this.width = void 0, this.height = void 0, this.position = void 0, this.weight = void 0, this.fullSize = void 0 |
  |  | 6557 | } |
  |  | 6558 |  |
  |  | 6559 | update(t, e) { |
  |  | 6560 | const i = this.options; |
  |  | 6561 | if (this.left = 0, this.top = 0, !i.display) return void (this.width = this.height = this.right = this.bottom = 0); |
  |  | 6562 | this.width = this.right = t, this.height = this.bottom = e; |
  |  | 6563 | const n = s(i.text) ? i.text.length : 1; |
  |  | 6564 | this.\_padding = pi(i.padding); |
  |  | 6565 | const o = n \* mi(i.font).lineHeight + this.\_padding.height; |
  |  | 6566 | this.isHorizontal() ? this.height = o : this.width = o |
  |  | 6567 | } |
  |  | 6568 |  |
  |  | 6569 | isHorizontal() { |
  |  | 6570 | const t = this.options.position; |
  |  | 6571 | return "top" === t || "bottom" === t |
  |  | 6572 | } |
  |  | 6573 |  |
  |  | 6574 | \_drawArgs(t) { |
  |  | 6575 | const {top: e, left: i, bottom: s, right: n, options: o} = this, a = o.align; |
  |  | 6576 | let r, l, h, c = 0; |
  |  | 6577 | return this.isHorizontal() ? (l = ut(a, i, n), h = e + t, r = n - i) : ("left" === o.position ? (l = i + t, h = ut(a, s, e), c = -.5 \* D) : (l = n - t, h = ut(a, e, s), c = .5 \* D), r = s - e), { |
  |  | 6578 | titleX: l, |
  |  | 6579 | titleY: h, |
  |  | 6580 | maxWidth: r, |
  |  | 6581 | rotation: c |
  |  | 6582 | } |
  |  | 6583 | } |
  |  | 6584 |  |
  |  | 6585 | draw() { |
  |  | 6586 | const t = this.ctx, e = this.options; |
  |  | 6587 | if (!e.display) return; |
  |  | 6588 | const i = mi(e.font), s = i.lineHeight / 2 + this.\_padding.top, { |
  |  | 6589 | titleX: n, |
  |  | 6590 | titleY: o, |
  |  | 6591 | maxWidth: a, |
  |  | 6592 | rotation: r |
  |  | 6593 | } = this.\_drawArgs(s); |
  |  | 6594 | Ae(t, e.text, 0, 0, i, { |
  |  | 6595 | color: e.color, |
  |  | 6596 | maxWidth: a, |
  |  | 6597 | rotation: r, |
  |  | 6598 | textAlign: dt(e.align), |
  |  | 6599 | textBaseline: "middle", |
  |  | 6600 | translation: [n, o] |
  |  | 6601 | }) |
  |  | 6602 | } |
  |  | 6603 | } |
  |  | 6604 |  |
  |  | 6605 | var zo = { |
  |  | 6606 | id: "title", |
  |  | 6607 | \_element: Io, |
  |  | 6608 | start(t, e, i) { |
  |  | 6609 | !function (t, e) { |
  |  | 6610 | const i = new Io({ctx: t.ctx, options: e, chart: t}); |
  |  | 6611 | Zi.configure(t, i, e), Zi.addBox(t, i), t.titleBlock = i |
  |  | 6612 | }(t, i) |
  |  | 6613 | }, |
  |  | 6614 | stop(t) { |
  |  | 6615 | const e = t.titleBlock; |
  |  | 6616 | Zi.removeBox(t, e), delete t.titleBlock |
  |  | 6617 | }, |
  |  | 6618 | beforeUpdate(t, e, i) { |
  |  | 6619 | const s = t.titleBlock; |
  |  | 6620 | Zi.configure(t, s, i), s.options = i |
  |  | 6621 | }, |
  |  | 6622 | defaults: { |
  |  | 6623 | align: "center", |
  |  | 6624 | display: !1, |
  |  | 6625 | font: {weight: "bold"}, |
  |  | 6626 | fullSize: !0, |
  |  | 6627 | padding: 10, |
  |  | 6628 | position: "top", |
  |  | 6629 | text: "", |
  |  | 6630 | weight: 2e3 |
  |  | 6631 | }, |
  |  | 6632 | defaultRoutes: {color: "color"}, |
  |  | 6633 | descriptors: {\_scriptable: !0, \_indexable: !1} |
  |  | 6634 | }; |
  |  | 6635 | const Fo = new WeakMap; |
  |  | 6636 | var Vo = { |
  |  | 6637 | id: "subtitle", |
  |  | 6638 | start(t, e, i) { |
  |  | 6639 | const s = new Io({ctx: t.ctx, options: i, chart: t}); |
  |  | 6640 | Zi.configure(t, s, i), Zi.addBox(t, s), Fo.set(t, s) |
  |  | 6641 | }, |
  |  | 6642 | stop(t) { |
  |  | 6643 | Zi.removeBox(t, Fo.get(t)), Fo.delete(t) |
  |  | 6644 | }, |
  |  | 6645 | beforeUpdate(t, e, i) { |
  |  | 6646 | const s = Fo.get(t); |
  |  | 6647 | Zi.configure(t, s, i), s.options = i |
  |  | 6648 | }, |
  |  | 6649 | defaults: { |
  |  | 6650 | align: "center", |
  |  | 6651 | display: !1, |
  |  | 6652 | font: {weight: "normal"}, |
  |  | 6653 | fullSize: !0, |
  |  | 6654 | padding: 0, |
  |  | 6655 | position: "top", |
  |  | 6656 | text: "", |
  |  | 6657 | weight: 1500 |
  |  | 6658 | }, |
  |  | 6659 | defaultRoutes: {color: "color"}, |
  |  | 6660 | descriptors: {\_scriptable: !0, \_indexable: !1} |
  |  | 6661 | }; |
  |  | 6662 | const Bo = { |
  |  | 6663 | average(t) { |
  |  | 6664 | if (!t.length) return !1; |
  |  | 6665 | let e, i, s = 0, n = 0, o = 0; |
  |  | 6666 | for (e = 0, i = t.length; e < i; ++e) { |
  |  | 6667 | const i = t[e].element; |
  |  | 6668 | if (i && i.hasValue()) { |
  |  | 6669 | const t = i.tooltipPosition(); |
  |  | 6670 | s += t.x, n += t.y, ++o |
  |  | 6671 | } |
  |  | 6672 | } |
  |  | 6673 | return {x: s / o, y: n / o} |
  |  | 6674 | }, nearest(t, e) { |
  |  | 6675 | if (!t.length) return !1; |
  |  | 6676 | let i, s, n, o = e.x, a = e.y, r = Number.POSITIVE\_INFINITY; |
  |  | 6677 | for (i = 0, s = t.length; i < s; ++i) { |
  |  | 6678 | const s = t[i].element; |
  |  | 6679 | if (s && s.hasValue()) { |
  |  | 6680 | const t = X(e, s.getCenterPoint()); |
  |  | 6681 | t < r && (r = t, n = s) |
  |  | 6682 | } |
  |  | 6683 | } |
  |  | 6684 | if (n) { |
  |  | 6685 | const t = n.tooltipPosition(); |
  |  | 6686 | o = t.x, a = t.y |
  |  | 6687 | } |
  |  | 6688 | return {x: o, y: a} |
  |  | 6689 | } |
  |  | 6690 | }; |
  |  | 6691 |  |
  |  | 6692 | function No(t, e) { |
  |  | 6693 | return e && (s(e) ? Array.prototype.push.apply(t, e) : t.push(e)), t |
  |  | 6694 | } |
  |  | 6695 |  |
  |  | 6696 | function Wo(t) { |
  |  | 6697 | return ("string" == typeof t || t instanceof String) && t.indexOf("\n") > -1 ? t.split("\n") : t |
  |  | 6698 | } |
  |  | 6699 |  |
  |  | 6700 | function jo(t, e) { |
  |  | 6701 | const {element: i, datasetIndex: s, index: n} = e, o = t.getDatasetMeta(s).controller, { |
  |  | 6702 | label: a, |
  |  | 6703 | value: r |
  |  | 6704 | } = o.getLabelAndValue(n); |
  |  | 6705 | return { |
  |  | 6706 | chart: t, |
  |  | 6707 | label: a, |
  |  | 6708 | parsed: o.getParsed(n), |
  |  | 6709 | raw: t.data.datasets[s].data[n], |
  |  | 6710 | formattedValue: r, |
  |  | 6711 | dataset: o.getDataset(), |
  |  | 6712 | dataIndex: n, |
  |  | 6713 | datasetIndex: s, |
  |  | 6714 | element: i |
  |  | 6715 | } |
  |  | 6716 | } |
  |  | 6717 |  |
  |  | 6718 | function Ho(t, e) { |
  |  | 6719 | const i = t.chart.ctx, {body: s, footer: n, title: o} = t, {boxWidth: a, boxHeight: r} = e, l = mi(e.bodyFont), |
  |  | 6720 | h = mi(e.titleFont), c = mi(e.footerFont), u = o.length, f = n.length, g = s.length, p = pi(e.padding); |
  |  | 6721 | let m = p.height, b = 0, x = s.reduce((t, e) => t + e.before.length + e.lines.length + e.after.length, 0); |
  |  | 6722 | if (x += t.beforeBody.length + t.afterBody.length, u && (m += u \* h.lineHeight + (u - 1) \* e.titleSpacing + e.titleMarginBottom), x) { |
  |  | 6723 | m += g \* (e.displayColors ? Math.max(r, l.lineHeight) : l.lineHeight) + (x - g) \* l.lineHeight + (x - 1) \* e.bodySpacing |
  |  | 6724 | } |
  |  | 6725 | f && (m += e.footerMarginTop + f \* c.lineHeight + (f - 1) \* e.footerSpacing); |
  |  | 6726 | let \_ = 0; |
  |  | 6727 | const y = function (t) { |
  |  | 6728 | b = Math.max(b, i.measureText(t).width + \_) |
  |  | 6729 | }; |
  |  | 6730 | return i.save(), i.font = h.string, d(t.title, y), i.font = l.string, d(t.beforeBody.concat(t.afterBody), y), \_ = e.displayColors ? a + 2 + e.boxPadding : 0, d(s, t => { |
  |  | 6731 | d(t.before, y), d(t.lines, y), d(t.after, y) |
  |  | 6732 | }), \_ = 0, i.font = c.string, d(t.footer, y), i.restore(), b += p.width, {width: b, height: m} |
  |  | 6733 | } |
  |  | 6734 |  |
  |  | 6735 | function $o(t, e, i, s) { |
  |  | 6736 | const {x: n, width: o} = i, {width: a, chartArea: {left: r, right: l}} = t; |
  |  | 6737 | let h = "center"; |
  |  | 6738 | return "center" === s ? h = n <= (r + l) / 2 ? "left" : "right" : n <= o / 2 ? h = "left" : n >= a - o / 2 && (h = "right"), function (t, e, i, s) { |
  |  | 6739 | const {x: n, width: o} = s, a = i.caretSize + i.caretPadding; |
  |  | 6740 | return "left" === t && n + o + a > e.width || "right" === t && n - o - a < 0 || void 0 |
  |  | 6741 | }(h, t, e, i) && (h = "center"), h |
  |  | 6742 | } |
  |  | 6743 |  |
  |  | 6744 | function Yo(t, e, i) { |
  |  | 6745 | const s = i.yAlign || e.yAlign || function (t, e) { |
  |  | 6746 | const {y: i, height: s} = e; |
  |  | 6747 | return i < s / 2 ? "top" : i > t.height - s / 2 ? "bottom" : "center" |
  |  | 6748 | }(t, i); |
  |  | 6749 | return {xAlign: i.xAlign || e.xAlign || $o(t, e, i, s), yAlign: s} |
  |  | 6750 | } |
  |  | 6751 |  |
  |  | 6752 | function Uo(t, e, i, s) { |
  |  | 6753 | const {caretSize: n, caretPadding: o, cornerRadius: a} = t, {xAlign: r, yAlign: l} = i, h = n + o, { |
  |  | 6754 | topLeft: c, |
  |  | 6755 | topRight: d, |
  |  | 6756 | bottomLeft: u, |
  |  | 6757 | bottomRight: f |
  |  | 6758 | } = gi(a); |
  |  | 6759 | let g = function (t, e) { |
  |  | 6760 | let {x: i, width: s} = t; |
  |  | 6761 | return "right" === e ? i -= s : "center" === e && (i -= s / 2), i |
  |  | 6762 | }(e, r); |
  |  | 6763 | const p = function (t, e, i) { |
  |  | 6764 | let {y: s, height: n} = t; |
  |  | 6765 | return "top" === e ? s += i : s -= "bottom" === e ? n + i : n / 2, s |
  |  | 6766 | }(e, l, h); |
  |  | 6767 | return "center" === l ? "left" === r ? g += h : "right" === r && (g -= h) : "left" === r ? g -= Math.max(c, u) + n : "right" === r && (g += Math.max(d, f) + n), { |
  |  | 6768 | x: Z(g, 0, s.width - e.width), |
  |  | 6769 | y: Z(p, 0, s.height - e.height) |
  |  | 6770 | } |
  |  | 6771 | } |
  |  | 6772 |  |
  |  | 6773 | function Xo(t, e, i) { |
  |  | 6774 | const s = pi(i.padding); |
  |  | 6775 | return "center" === e ? t.x + t.width / 2 : "right" === e ? t.x + t.width - s.right : t.x + s.left |
  |  | 6776 | } |
  |  | 6777 |  |
  |  | 6778 | function qo(t) { |
  |  | 6779 | return No([], Wo(t)) |
  |  | 6780 | } |
  |  | 6781 |  |
  |  | 6782 | function Ko(t, e) { |
  |  | 6783 | const i = e && e.dataset && e.dataset.tooltip && e.dataset.tooltip.callbacks; |
  |  | 6784 | return i ? t.override(i) : t |
  |  | 6785 | } |
  |  | 6786 |  |
  |  | 6787 | class Go extends Es { |
  |  | 6788 | constructor(t) { |
  |  | 6789 | super(), this.opacity = 0, this.\_active = [], this.\_eventPosition = void 0, this.\_size = void 0, this.\_cachedAnimations = void 0, this.\_tooltipItems = [], this.$animations = void 0, this.$context = void 0, this.chart = t.chart || t.\_chart, this.\_chart = this.chart, this.options = t.options, this.dataPoints = void 0, this.title = void 0, this.beforeBody = void 0, this.body = void 0, this.afterBody = void 0, this.footer = void 0, this.xAlign = void 0, this.yAlign = void 0, this.x = void 0, this.y = void 0, this.height = void 0, this.width = void 0, this.caretX = void 0, this.caretY = void 0, this.labelColors = void 0, this.labelPointStyles = void 0, this.labelTextColors = void 0 |
  |  | 6790 | } |
  |  | 6791 |  |
  |  | 6792 | initialize(t) { |
  |  | 6793 | this.options = t, this.\_cachedAnimations = void 0, this.$context = void 0 |
  |  | 6794 | } |
  |  | 6795 |  |
  |  | 6796 | \_resolveAnimations() { |
  |  | 6797 | const t = this.\_cachedAnimations; |
  |  | 6798 | if (t) return t; |
  |  | 6799 | const e = this.chart, i = this.options.setContext(this.getContext()), |
  |  | 6800 | s = i.enabled && e.options.animation && i.animations, n = new ys(this.chart, s); |
  |  | 6801 | return s.\_cacheable && (this.\_cachedAnimations = Object.freeze(n)), n |
  |  | 6802 | } |
  |  | 6803 |  |
  |  | 6804 | getContext() { |
  |  | 6805 | return this.$context || (this.$context = (t = this.chart.getContext(), e = this, i = this.\_tooltipItems, \_i(t, { |
  |  | 6806 | tooltip: e, |
  |  | 6807 | tooltipItems: i, |
  |  | 6808 | type: "tooltip" |
  |  | 6809 | }))); |
  |  | 6810 | var t, e, i |
  |  | 6811 | } |
  |  | 6812 |  |
  |  | 6813 | getTitle(t, e) { |
  |  | 6814 | const {callbacks: i} = e, s = i.beforeTitle.apply(this, [t]), n = i.title.apply(this, [t]), |
  |  | 6815 | o = i.afterTitle.apply(this, [t]); |
  |  | 6816 | let a = []; |
  |  | 6817 | return a = No(a, Wo(s)), a = No(a, Wo(n)), a = No(a, Wo(o)), a |
  |  | 6818 | } |
  |  | 6819 |  |
  |  | 6820 | getBeforeBody(t, e) { |
  |  | 6821 | return qo(e.callbacks.beforeBody.apply(this, [t])) |
  |  | 6822 | } |
  |  | 6823 |  |
  |  | 6824 | getBody(t, e) { |
  |  | 6825 | const {callbacks: i} = e, s = []; |
  |  | 6826 | return d(t, t => { |
  |  | 6827 | const e = {before: [], lines: [], after: []}, n = Ko(i, t); |
  |  | 6828 | No(e.before, Wo(n.beforeLabel.call(this, t))), No(e.lines, n.label.call(this, t)), No(e.after, Wo(n.afterLabel.call(this, t))), s.push(e) |
  |  | 6829 | }), s |
  |  | 6830 | } |
  |  | 6831 |  |
  |  | 6832 | getAfterBody(t, e) { |
  |  | 6833 | return qo(e.callbacks.afterBody.apply(this, [t])) |
  |  | 6834 | } |
  |  | 6835 |  |
  |  | 6836 | getFooter(t, e) { |
  |  | 6837 | const {callbacks: i} = e, s = i.beforeFooter.apply(this, [t]), n = i.footer.apply(this, [t]), |
  |  | 6838 | o = i.afterFooter.apply(this, [t]); |
  |  | 6839 | let a = []; |
  |  | 6840 | return a = No(a, Wo(s)), a = No(a, Wo(n)), a = No(a, Wo(o)), a |
  |  | 6841 | } |
  |  | 6842 |  |
  |  | 6843 | \_createItems(t) { |
  |  | 6844 | const e = this.\_active, i = this.chart.data, s = [], n = [], o = []; |
  |  | 6845 | let a, r, l = []; |
  |  | 6846 | for (a = 0, r = e.length; a < r; ++a) l.push(jo(this.chart, e[a])); |
  |  | 6847 | return t.filter && (l = l.filter((e, s, n) => t.filter(e, s, n, i))), t.itemSort && (l = l.sort((e, s) => t.itemSort(e, s, i))), d(l, e => { |
  |  | 6848 | const i = Ko(t.callbacks, e); |
  |  | 6849 | s.push(i.labelColor.call(this, e)), n.push(i.labelPointStyle.call(this, e)), o.push(i.labelTextColor.call(this, e)) |
  |  | 6850 | }), this.labelColors = s, this.labelPointStyles = n, this.labelTextColors = o, this.dataPoints = l, l |
  |  | 6851 | } |
  |  | 6852 |  |
  |  | 6853 | update(t, e) { |
  |  | 6854 | const i = this.options.setContext(this.getContext()), s = this.\_active; |
  |  | 6855 | let n, o = []; |
  |  | 6856 | if (s.length) { |
  |  | 6857 | const t = Bo[i.position].call(this, s, this.\_eventPosition); |
  |  | 6858 | o = this.\_createItems(i), this.title = this.getTitle(o, i), this.beforeBody = this.getBeforeBody(o, i), this.body = this.getBody(o, i), this.afterBody = this.getAfterBody(o, i), this.footer = this.getFooter(o, i); |
  |  | 6859 | const e = this.\_size = Ho(this, i), a = Object.assign({}, t, e), r = Yo(this.chart, i, a), |
  |  | 6860 | l = Uo(i, a, r, this.chart); |
  |  | 6861 | this.xAlign = r.xAlign, this.yAlign = r.yAlign, n = { |
  |  | 6862 | opacity: 1, |
  |  | 6863 | x: l.x, |
  |  | 6864 | y: l.y, |
  |  | 6865 | width: e.width, |
  |  | 6866 | height: e.height, |
  |  | 6867 | caretX: t.x, |
  |  | 6868 | caretY: t.y |
  |  | 6869 | } |
  |  | 6870 | } else 0 !== this.opacity && (n = {opacity: 0}); |
  |  | 6871 | this.\_tooltipItems = o, this.$context = void 0, n && this.\_resolveAnimations().update(this, n), t && i.external && i.external.call(this, { |
  |  | 6872 | chart: this.chart, |
  |  | 6873 | tooltip: this, |
  |  | 6874 | replay: e |
  |  | 6875 | }) |
  |  | 6876 | } |
  |  | 6877 |  |
  |  | 6878 | drawCaret(t, e, i, s) { |
  |  | 6879 | const n = this.getCaretPosition(t, i, s); |
  |  | 6880 | e.lineTo(n.x1, n.y1), e.lineTo(n.x2, n.y2), e.lineTo(n.x3, n.y3) |
  |  | 6881 | } |
  |  | 6882 |  |
  |  | 6883 | getCaretPosition(t, e, i) { |
  |  | 6884 | const {xAlign: s, yAlign: n} = this, {caretSize: o, cornerRadius: a} = i, { |
  |  | 6885 | topLeft: r, |
  |  | 6886 | topRight: l, |
  |  | 6887 | bottomLeft: h, |
  |  | 6888 | bottomRight: c |
  |  | 6889 | } = gi(a), {x: d, y: u} = t, {width: f, height: g} = e; |
  |  | 6890 | let p, m, b, x, \_, y; |
  |  | 6891 | return "center" === n ? (\_ = u + g / 2, "left" === s ? (p = d, m = p - o, x = \_ + o, y = \_ - o) : (p = d + f, m = p + o, x = \_ - o, y = \_ + o), b = p) : (m = "left" === s ? d + Math.max(r, h) + o : "right" === s ? d + f - Math.max(l, c) - o : this.caretX, "top" === n ? (x = u, \_ = x - o, p = m - o, b = m + o) : (x = u + g, \_ = x + o, p = m + o, b = m - o), y = x), { |
  |  | 6892 | x1: p, |
  |  | 6893 | x2: m, |
  |  | 6894 | x3: b, |
  |  | 6895 | y1: x, |
  |  | 6896 | y2: \_, |
  |  | 6897 | y3: y |
  |  | 6898 | } |
  |  | 6899 | } |
  |  | 6900 |  |
  |  | 6901 | drawTitle(t, e, i) { |
  |  | 6902 | const s = this.title, n = s.length; |
  |  | 6903 | let o, a, r; |
  |  | 6904 | if (n) { |
  |  | 6905 | const l = yi(i.rtl, this.x, this.width); |
  |  | 6906 | for (t.x = Xo(this, i.titleAlign, i), e.textAlign = l.textAlign(i.titleAlign), e.textBaseline = "middle", o = mi(i.titleFont), a = i.titleSpacing, e.fillStyle = i.titleColor, e.font = o.string, r = 0; r < n; ++r) e.fillText(s[r], l.x(t.x), t.y + o.lineHeight / 2), t.y += o.lineHeight + a, r + 1 === n && (t.y += i.titleMarginBottom - a) |
  |  | 6907 | } |
  |  | 6908 | } |
  |  | 6909 |  |
  |  | 6910 | \_drawColorBox(t, e, i, s, o) { |
  |  | 6911 | const a = this.labelColors[i], r = this.labelPointStyles[i], {boxHeight: l, boxWidth: h, boxPadding: c} = o, |
  |  | 6912 | d = mi(o.bodyFont), u = Xo(this, "left", o), f = s.x(u), |
  |  | 6913 | g = l < d.lineHeight ? (d.lineHeight - l) / 2 : 0, p = e.y + g; |
  |  | 6914 | if (o.usePointStyle) { |
  |  | 6915 | const e = {radius: Math.min(h, l) / 2, pointStyle: r.pointStyle, rotation: r.rotation, borderWidth: 1}, |
  |  | 6916 | i = s.leftForLtr(f, h) + h / 2, n = p + l / 2; |
  |  | 6917 | t.strokeStyle = o.multiKeyBackground, t.fillStyle = o.multiKeyBackground, Me(t, e, i, n), t.strokeStyle = a.borderColor, t.fillStyle = a.backgroundColor, Me(t, e, i, n) |
  |  | 6918 | } else { |
  |  | 6919 | t.lineWidth = n(a.borderWidth) ? Math.max(...Object.values(a.borderWidth)) : a.borderWidth || 1, t.strokeStyle = a.borderColor, t.setLineDash(a.borderDash || []), t.lineDashOffset = a.borderDashOffset || 0; |
  |  | 6920 | const e = s.leftForLtr(f, h - c), i = s.leftForLtr(s.xPlus(f, 1), h - c - 2), r = gi(a.borderRadius); |
  |  | 6921 | Object.values(r).some(t => 0 !== t) ? (t.beginPath(), t.fillStyle = o.multiKeyBackground, Le(t, { |
  |  | 6922 | x: e, |
  |  | 6923 | y: p, |
  |  | 6924 | w: h, |
  |  | 6925 | h: l, |
  |  | 6926 | radius: r |
  |  | 6927 | }), t.fill(), t.stroke(), t.fillStyle = a.backgroundColor, t.beginPath(), Le(t, { |
  |  | 6928 | x: i, |
  |  | 6929 | y: p + 1, |
  |  | 6930 | w: h - 2, |
  |  | 6931 | h: l - 2, |
  |  | 6932 | radius: r |
  |  | 6933 | }), t.fill()) : (t.fillStyle = o.multiKeyBackground, t.fillRect(e, p, h, l), t.strokeRect(e, p, h, l), t.fillStyle = a.backgroundColor, t.fillRect(i, p + 1, h - 2, l - 2)) |
  |  | 6934 | } |
  |  | 6935 | t.fillStyle = this.labelTextColors[i] |
  |  | 6936 | } |
  |  | 6937 |  |
  |  | 6938 | drawBody(t, e, i) { |
  |  | 6939 | const {body: s} = this, { |
  |  | 6940 | bodySpacing: n, |
  |  | 6941 | bodyAlign: o, |
  |  | 6942 | displayColors: a, |
  |  | 6943 | boxHeight: r, |
  |  | 6944 | boxWidth: l, |
  |  | 6945 | boxPadding: h |
  |  | 6946 | } = i, c = mi(i.bodyFont); |
  |  | 6947 | let u = c.lineHeight, f = 0; |
  |  | 6948 | const g = yi(i.rtl, this.x, this.width), p = function (i) { |
  |  | 6949 | e.fillText(i, g.x(t.x + f), t.y + u / 2), t.y += u + n |
  |  | 6950 | }, m = g.textAlign(o); |
  |  | 6951 | let b, x, \_, y, v, w, M; |
  |  | 6952 | for (e.textAlign = o, e.textBaseline = "middle", e.font = c.string, t.x = Xo(this, m, i), e.fillStyle = i.bodyColor, d(this.beforeBody, p), f = a && "right" !== m ? "center" === o ? l / 2 + h : l + 2 + h : 0, y = 0, w = s.length; y < w; ++y) { |
  |  | 6953 | for (b = s[y], x = this.labelTextColors[y], e.fillStyle = x, d(b.before, p), \_ = b.lines, a && \_.length && (this.\_drawColorBox(e, t, y, g, i), u = Math.max(c.lineHeight, r)), v = 0, M = \_.length; v < M; ++v) p(\_[v]), u = c.lineHeight; |
  |  | 6954 | d(b.after, p) |
  |  | 6955 | } |
  |  | 6956 | f = 0, u = c.lineHeight, d(this.afterBody, p), t.y -= n |
  |  | 6957 | } |
  |  | 6958 |  |
  |  | 6959 | drawFooter(t, e, i) { |
  |  | 6960 | const s = this.footer, n = s.length; |
  |  | 6961 | let o, a; |
  |  | 6962 | if (n) { |
  |  | 6963 | const r = yi(i.rtl, this.x, this.width); |
  |  | 6964 | for (t.x = Xo(this, i.footerAlign, i), t.y += i.footerMarginTop, e.textAlign = r.textAlign(i.footerAlign), e.textBaseline = "middle", o = mi(i.footerFont), e.fillStyle = i.footerColor, e.font = o.string, a = 0; a < n; ++a) e.fillText(s[a], r.x(t.x), t.y + o.lineHeight / 2), t.y += o.lineHeight + i.footerSpacing |
  |  | 6965 | } |
  |  | 6966 | } |
  |  | 6967 |  |
  |  | 6968 | drawBackground(t, e, i, s) { |
  |  | 6969 | const {xAlign: n, yAlign: o} = this, {x: a, y: r} = t, {width: l, height: h} = i, { |
  |  | 6970 | topLeft: c, |
  |  | 6971 | topRight: d, |
  |  | 6972 | bottomLeft: u, |
  |  | 6973 | bottomRight: f |
  |  | 6974 | } = gi(s.cornerRadius); |
  |  | 6975 | e.fillStyle = s.backgroundColor, e.strokeStyle = s.borderColor, e.lineWidth = s.borderWidth, e.beginPath(), e.moveTo(a + c, r), "top" === o && this.drawCaret(t, e, i, s), e.lineTo(a + l - d, r), e.quadraticCurveTo(a + l, r, a + l, r + d), "center" === o && "right" === n && this.drawCaret(t, e, i, s), e.lineTo(a + l, r + h - f), e.quadraticCurveTo(a + l, r + h, a + l - f, r + h), "bottom" === o && this.drawCaret(t, e, i, s), e.lineTo(a + u, r + h), e.quadraticCurveTo(a, r + h, a, r + h - u), "center" === o && "left" === n && this.drawCaret(t, e, i, s), e.lineTo(a, r + c), e.quadraticCurveTo(a, r, a + c, r), e.closePath(), e.fill(), s.borderWidth > 0 && e.stroke() |
  |  | 6976 | } |
  |  | 6977 |  |
  |  | 6978 | \_updateAnimationTarget(t) { |
  |  | 6979 | const e = this.chart, i = this.$animations, s = i && i.x, n = i && i.y; |
  |  | 6980 | if (s || n) { |
  |  | 6981 | const i = Bo[t.position].call(this, this.\_active, this.\_eventPosition); |
  |  | 6982 | if (!i) return; |
  |  | 6983 | const o = this.\_size = Ho(this, t), a = Object.assign({}, i, this.\_size), r = Yo(e, t, a), |
  |  | 6984 | l = Uo(t, a, r, e); |
  |  | 6985 | s.\_to === l.x && n.\_to === l.y || (this.xAlign = r.xAlign, this.yAlign = r.yAlign, this.width = o.width, this.height = o.height, this.caretX = i.x, this.caretY = i.y, this.\_resolveAnimations().update(this, l)) |
  |  | 6986 | } |
  |  | 6987 | } |
  |  | 6988 |  |
  |  | 6989 | \_willRender() { |
  |  | 6990 | return !!this.opacity |
  |  | 6991 | } |
  |  | 6992 |  |
  |  | 6993 | draw(t) { |
  |  | 6994 | const e = this.options.setContext(this.getContext()); |
  |  | 6995 | let i = this.opacity; |
  |  | 6996 | if (!i) return; |
  |  | 6997 | this.\_updateAnimationTarget(e); |
  |  | 6998 | const s = {width: this.width, height: this.height}, n = {x: this.x, y: this.y}; |
  |  | 6999 | i = Math.abs(i) < .001 ? 0 : i; |
  |  | 7000 | const o = pi(e.padding), |
  |  | 7001 | a = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length; |
  |  | 7002 | e.enabled && a && (t.save(), t.globalAlpha = i, this.drawBackground(n, t, s, e), vi(t, e.textDirection), n.y += o.top, this.drawTitle(n, t, e), this.drawBody(n, t, e), this.drawFooter(n, t, e), wi(t, e.textDirection), t.restore()) |
  |  | 7003 | } |
  |  | 7004 |  |
  |  | 7005 | getActiveElements() { |
  |  | 7006 | return this.\_active || [] |
  |  | 7007 | } |
  |  | 7008 |  |
  |  | 7009 | setActiveElements(t, e) { |
  |  | 7010 | const i = this.\_active, s = t.map(({datasetIndex: t, index: e}) => { |
  |  | 7011 | const i = this.chart.getDatasetMeta(t); |
  |  | 7012 | if (!i) throw new Error("Cannot find a dataset at index " + t); |
  |  | 7013 | return {datasetIndex: t, element: i.data[e], index: e} |
  |  | 7014 | }), n = !u(i, s), o = this.\_positionChanged(s, e); |
  |  | 7015 | (n || o) && (this.\_active = s, this.\_eventPosition = e, this.\_ignoreReplayEvents = !0, this.update(!0)) |
  |  | 7016 | } |
  |  | 7017 |  |
  |  | 7018 | handleEvent(t, e, i = !0) { |
  |  | 7019 | if (e && this.\_ignoreReplayEvents) return !1; |
  |  | 7020 | this.\_ignoreReplayEvents = !1; |
  |  | 7021 | const s = this.options, n = this.\_active || [], o = this.\_getActiveElements(t, n, e, i), |
  |  | 7022 | a = this.\_positionChanged(o, t), r = e || !u(o, n) || a; |
  |  | 7023 | return r && (this.\_active = o, (s.enabled || s.external) && (this.\_eventPosition = { |
  |  | 7024 | x: t.x, |
  |  | 7025 | y: t.y |
  |  | 7026 | }, this.update(!0, e))), r |
  |  | 7027 | } |
  |  | 7028 |  |
  |  | 7029 | \_getActiveElements(t, e, i, s) { |
  |  | 7030 | const n = this.options; |
  |  | 7031 | if ("mouseout" === t.type) return []; |
  |  | 7032 | if (!s) return e; |
  |  | 7033 | const o = this.chart.getElementsAtEventForMode(t, n.mode, n, i); |
  |  | 7034 | return n.reverse && o.reverse(), o |
  |  | 7035 | } |
  |  | 7036 |  |
  |  | 7037 | \_positionChanged(t, e) { |
  |  | 7038 | const {caretX: i, caretY: s, options: n} = this, o = Bo[n.position].call(this, t, e); |
  |  | 7039 | return !1 !== o && (i !== o.x || s !== o.y) |
  |  | 7040 | } |
  |  | 7041 | } |
  |  | 7042 |  |
  |  | 7043 | Go.positioners = Bo; |
  |  | 7044 | var Zo = { |
  |  | 7045 | id: "tooltip", |
  |  | 7046 | \_element: Go, |
  |  | 7047 | positioners: Bo, |
  |  | 7048 | afterInit(t, e, i) { |
  |  | 7049 | i && (t.tooltip = new Go({chart: t, options: i})) |
  |  | 7050 | }, |
  |  | 7051 | beforeUpdate(t, e, i) { |
  |  | 7052 | t.tooltip && t.tooltip.initialize(i) |
  |  | 7053 | }, |
  |  | 7054 | reset(t, e, i) { |
  |  | 7055 | t.tooltip && t.tooltip.initialize(i) |
  |  | 7056 | }, |
  |  | 7057 | afterDraw(t) { |
  |  | 7058 | const e = t.tooltip; |
  |  | 7059 | if (e && e.\_willRender()) { |
  |  | 7060 | const i = {tooltip: e}; |
  |  | 7061 | if (!1 === t.notifyPlugins("beforeTooltipDraw", i)) return; |
  |  | 7062 | e.draw(t.ctx), t.notifyPlugins("afterTooltipDraw", i) |
  |  | 7063 | } |
  |  | 7064 | }, |
  |  | 7065 | afterEvent(t, e) { |
  |  | 7066 | if (t.tooltip) { |
  |  | 7067 | const i = e.replay; |
  |  | 7068 | t.tooltip.handleEvent(e.event, i, e.inChartArea) && (e.changed = !0) |
  |  | 7069 | } |
  |  | 7070 | }, |
  |  | 7071 | defaults: { |
  |  | 7072 | enabled: !0, |
  |  | 7073 | external: null, |
  |  | 7074 | position: "average", |
  |  | 7075 | backgroundColor: "rgba(0,0,0,0.8)", |
  |  | 7076 | titleColor: "#fff", |
  |  | 7077 | titleFont: {weight: "bold"}, |
  |  | 7078 | titleSpacing: 2, |
  |  | 7079 | titleMarginBottom: 6, |
  |  | 7080 | titleAlign: "left", |
  |  | 7081 | bodyColor: "#fff", |
  |  | 7082 | bodySpacing: 2, |
  |  | 7083 | bodyFont: {}, |
  |  | 7084 | bodyAlign: "left", |
  |  | 7085 | footerColor: "#fff", |
  |  | 7086 | footerSpacing: 2, |
  |  | 7087 | footerMarginTop: 6, |
  |  | 7088 | footerFont: {weight: "bold"}, |
  |  | 7089 | footerAlign: "left", |
  |  | 7090 | padding: 6, |
  |  | 7091 | caretPadding: 2, |
  |  | 7092 | caretSize: 5, |
  |  | 7093 | cornerRadius: 6, |
  |  | 7094 | boxHeight: (t, e) => e.bodyFont.size, |
  |  | 7095 | boxWidth: (t, e) => e.bodyFont.size, |
  |  | 7096 | multiKeyBackground: "#fff", |
  |  | 7097 | displayColors: !0, |
  |  | 7098 | boxPadding: 0, |
  |  | 7099 | borderColor: "rgba(0,0,0,0)", |
  |  | 7100 | borderWidth: 0, |
  |  | 7101 | animation: {duration: 400, easing: "easeOutQuart"}, |
  |  | 7102 | animations: { |
  |  | 7103 | numbers: {type: "number", properties: ["x", "y", "width", "height", "caretX", "caretY"]}, |
  |  | 7104 | opacity: {easing: "linear", duration: 200} |
  |  | 7105 | }, |
  |  | 7106 | callbacks: { |
  |  | 7107 | beforeTitle: t, title(t) { |
  |  | 7108 | if (t.length > 0) { |
  |  | 7109 | const e = t[0], i = e.chart.data.labels, s = i ? i.length : 0; |
  |  | 7110 | if (this && this.options && "dataset" === this.options.mode) return e.dataset.label || ""; |
  |  | 7111 | if (e.label) return e.label; |
  |  | 7112 | if (s > 0 && e.dataIndex < s) return i[e.dataIndex] |
  |  | 7113 | } |
  |  | 7114 | return "" |
  |  | 7115 | }, afterTitle: t, beforeBody: t, beforeLabel: t, label(t) { |
  |  | 7116 | if (this && this.options && "dataset" === this.options.mode) return t.label + ": " + t.formattedValue || t.formattedValue; |
  |  | 7117 | let e = t.dataset.label || ""; |
  |  | 7118 | e && (e += ": "); |
  |  | 7119 | const s = t.formattedValue; |
  |  | 7120 | return i(s) || (e += s), e |
  |  | 7121 | }, labelColor(t) { |
  |  | 7122 | const e = t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex); |
  |  | 7123 | return { |
  |  | 7124 | borderColor: e.borderColor, |
  |  | 7125 | backgroundColor: e.backgroundColor, |
  |  | 7126 | borderWidth: e.borderWidth, |
  |  | 7127 | borderDash: e.borderDash, |
  |  | 7128 | borderDashOffset: e.borderDashOffset, |
  |  | 7129 | borderRadius: 0 |
  |  | 7130 | } |
  |  | 7131 | }, labelTextColor() { |
  |  | 7132 | return this.options.bodyColor |
  |  | 7133 | }, labelPointStyle(t) { |
  |  | 7134 | const e = t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex); |
  |  | 7135 | return {pointStyle: e.pointStyle, rotation: e.rotation} |
  |  | 7136 | }, afterLabel: t, afterBody: t, beforeFooter: t, footer: t, afterFooter: t |
  |  | 7137 | } |
  |  | 7138 | }, |
  |  | 7139 | defaultRoutes: {bodyFont: "font", footerFont: "font", titleFont: "font"}, |
  |  | 7140 | descriptors: { |
  |  | 7141 | \_scriptable: t => "filter" !== t && "itemSort" !== t && "external" !== t, |
  |  | 7142 | \_indexable: !1, |
  |  | 7143 | callbacks: {\_scriptable: !1, \_indexable: !1}, |
  |  | 7144 | animation: {\_fallback: !1}, |
  |  | 7145 | animations: {\_fallback: "animation"} |
  |  | 7146 | }, |
  |  | 7147 | additionalOptionScopes: ["interaction"] |
  |  | 7148 | }, Jo = Object.freeze({ |
  |  | 7149 | \_\_proto\_\_: null, |
  |  | 7150 | Decimation: go, |
  |  | 7151 | Filler: To, |
  |  | 7152 | Legend: Ro, |
  |  | 7153 | SubTitle: Vo, |
  |  | 7154 | Title: zo, |
  |  | 7155 | Tooltip: Zo |
  |  | 7156 | }); |
  |  | 7157 |  |
  |  | 7158 | function Qo(t, e, i, s) { |
  |  | 7159 | const n = t.indexOf(e); |
  |  | 7160 | if (-1 === n) return ((t, e, i, s) => ("string" == typeof e ? (i = t.push(e) - 1, s.unshift({ |
  |  | 7161 | index: i, |
  |  | 7162 | label: e |
  |  | 7163 | })) : isNaN(e) && (i = null), i))(t, e, i, s); |
  |  | 7164 | return n !== t.lastIndexOf(e) ? i : n |
  |  | 7165 | } |
  |  | 7166 |  |
  |  | 7167 | class ta extends $s { |
  |  | 7168 | constructor(t) { |
  |  | 7169 | super(t), this.\_startValue = void 0, this.\_valueRange = 0, this.\_addedLabels = [] |
  |  | 7170 | } |
  |  | 7171 |  |
  |  | 7172 | init(t) { |
  |  | 7173 | const e = this.\_addedLabels; |
  |  | 7174 | if (e.length) { |
  |  | 7175 | const t = this.getLabels(); |
  |  | 7176 | for (const {index: i, label: s} of e) t[i] === s && t.splice(i, 1); |
  |  | 7177 | this.\_addedLabels = [] |
  |  | 7178 | } |
  |  | 7179 | super.init(t) |
  |  | 7180 | } |
  |  | 7181 |  |
  |  | 7182 | parse(t, e) { |
  |  | 7183 | if (i(t)) return null; |
  |  | 7184 | const s = this.getLabels(); |
  |  | 7185 | return ((t, e) => null === t ? null : Z(Math.round(t), 0, e))(e = isFinite(e) && s[e] === t ? e : Qo(s, t, r(e, t), this.\_addedLabels), s.length - 1) |
  |  | 7186 | } |
  |  | 7187 |  |
  |  | 7188 | determineDataLimits() { |
  |  | 7189 | const {minDefined: t, maxDefined: e} = this.getUserBounds(); |
  |  | 7190 | let {min: i, max: s} = this.getMinMax(!0); |
  |  | 7191 | "ticks" === this.options.bounds && (t || (i = 0), e || (s = this.getLabels().length - 1)), this.min = i, this.max = s |
  |  | 7192 | } |
  |  | 7193 |  |
  |  | 7194 | buildTicks() { |
  |  | 7195 | const t = this.min, e = this.max, i = this.options.offset, s = []; |
  |  | 7196 | let n = this.getLabels(); |
  |  | 7197 | n = 0 === t && e === n.length - 1 ? n : n.slice(t, e + 1), this.\_valueRange = Math.max(n.length - (i ? 0 : 1), 1), this.\_startValue = this.min - (i ? .5 : 0); |
  |  | 7198 | for (let i = t; i <= e; i++) s.push({value: i}); |
  |  | 7199 | return s |
  |  | 7200 | } |
  |  | 7201 |  |
  |  | 7202 | getLabelForValue(t) { |
  |  | 7203 | const e = this.getLabels(); |
  |  | 7204 | return t >= 0 && t < e.length ? e[t] : t |
  |  | 7205 | } |
  |  | 7206 |  |
  |  | 7207 | configure() { |
  |  | 7208 | super.configure(), this.isHorizontal() || (this.\_reversePixels = !this.\_reversePixels) |
  |  | 7209 | } |
  |  | 7210 |  |
  |  | 7211 | getPixelForValue(t) { |
  |  | 7212 | return "number" != typeof t && (t = this.parse(t)), null === t ? NaN : this.getPixelForDecimal((t - this.\_startValue) / this.\_valueRange) |
  |  | 7213 | } |
  |  | 7214 |  |
  |  | 7215 | getPixelForTick(t) { |
  |  | 7216 | const e = this.ticks; |
  |  | 7217 | return t < 0 || t > e.length - 1 ? null : this.getPixelForValue(e[t].value) |
  |  | 7218 | } |
  |  | 7219 |  |
  |  | 7220 | getValueForPixel(t) { |
  |  | 7221 | return Math.round(this.\_startValue + this.getDecimalForPixel(t) \* this.\_valueRange) |
  |  | 7222 | } |
  |  | 7223 |  |
  |  | 7224 | getBasePixel() { |
  |  | 7225 | return this.bottom |
  |  | 7226 | } |
  |  | 7227 | } |
  |  | 7228 |  |
  |  | 7229 | function ea(t, e, {horizontal: i, minRotation: s}) { |
  |  | 7230 | const n = H(s), o = (i ? Math.sin(n) : Math.cos(n)) || .001, a = .75 \* e \* ("" + t).length; |
  |  | 7231 | return Math.min(e / o, a) |
  |  | 7232 | } |
  |  | 7233 |  |
  |  | 7234 | ta.id = "category", ta.defaults = {ticks: {callback: ta.prototype.getLabelForValue}}; |
  |  | 7235 |  |
  |  | 7236 | class ia extends $s { |
  |  | 7237 | constructor(t) { |
  |  | 7238 | super(t), this.start = void 0, this.end = void 0, this.\_startValue = void 0, this.\_endValue = void 0, this.\_valueRange = 0 |
  |  | 7239 | } |
  |  | 7240 |  |
  |  | 7241 | parse(t, e) { |
  |  | 7242 | return i(t) || ("number" == typeof t || t instanceof Number) && !isFinite(+t) ? null : +t |
  |  | 7243 | } |
  |  | 7244 |  |
  |  | 7245 | handleTickRangeOptions() { |
  |  | 7246 | const {beginAtZero: t} = this.options, {minDefined: e, maxDefined: i} = this.getUserBounds(); |
  |  | 7247 | let {min: s, max: n} = this; |
  |  | 7248 | const o = t => s = e ? s : t, a = t => n = i ? n : t; |
  |  | 7249 | if (t) { |
  |  | 7250 | const t = z(s), e = z(n); |
  |  | 7251 | t < 0 && e < 0 ? a(0) : t > 0 && e > 0 && o(0) |
  |  | 7252 | } |
  |  | 7253 | if (s === n) { |
  |  | 7254 | let e = 1; |
  |  | 7255 | (n >= Number.MAX\_SAFE\_INTEGER || s <= Number.MIN\_SAFE\_INTEGER) && (e = Math.abs(.05 \* n)), a(n + e), t || o(s - e) |
  |  | 7256 | } |
  |  | 7257 | this.min = s, this.max = n |
  |  | 7258 | } |
  |  | 7259 |  |
  |  | 7260 | getTickLimit() { |
  |  | 7261 | const t = this.options.ticks; |
  |  | 7262 | let e, {maxTicksLimit: i, stepSize: s} = t; |
  |  | 7263 | return s ? (e = Math.ceil(this.max / s) - Math.floor(this.min / s) + 1, e > 1e3 && (console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${e} ticks. Limiting to 1000.`), e = 1e3)) : (e = this.computeTickLimit(), i = i || 11), i && (e = Math.min(i, e)), e |
  |  | 7264 | } |
  |  | 7265 |  |
  |  | 7266 | computeTickLimit() { |
  |  | 7267 | return Number.POSITIVE\_INFINITY |
  |  | 7268 | } |
  |  | 7269 |  |
  |  | 7270 | buildTicks() { |
  |  | 7271 | const t = this.options, e = t.ticks; |
  |  | 7272 | let s = this.getTickLimit(); |
  |  | 7273 | s = Math.max(2, s); |
  |  | 7274 | const n = function (t, e) { |
  |  | 7275 | const s = [], { |
  |  | 7276 | bounds: n, |
  |  | 7277 | step: o, |
  |  | 7278 | min: a, |
  |  | 7279 | max: r, |
  |  | 7280 | precision: l, |
  |  | 7281 | count: h, |
  |  | 7282 | maxTicks: c, |
  |  | 7283 | maxDigits: d, |
  |  | 7284 | includeBounds: u |
  |  | 7285 | } = t, f = o || 1, g = c - 1, {min: p, max: m} = e, b = !i(a), x = !i(r), \_ = !i(h), |
  |  | 7286 | y = (m - p) / (d + 1); |
  |  | 7287 | let v, w, M, k, S = F((m - p) / g / f) \* f; |
  |  | 7288 | if (S < 1e-14 && !b && !x) return [{value: p}, {value: m}]; |
  |  | 7289 | k = Math.ceil(m / S) - Math.floor(p / S), k > g && (S = F(k \* S / g / f) \* f), i(l) || (v = Math.pow(10, l), S = Math.ceil(S \* v) / v), "ticks" === n ? (w = Math.floor(p / S) \* S, M = Math.ceil(m / S) \* S) : (w = p, M = m), b && x && o && W((r - a) / o, S / 1e3) ? (k = Math.round(Math.min((r - a) / S, c)), S = (r - a) / k, w = a, M = r) : \_ ? (w = b ? a : w, M = x ? r : M, k = h - 1, S = (M - w) / k) : (k = (M - w) / S, k = N(k, Math.round(k), S / 1e3) ? Math.round(k) : Math.ceil(k)); |
  |  | 7290 | const P = Math.max(Y(S), Y(w)); |
  |  | 7291 | v = Math.pow(10, i(l) ? P : l), w = Math.round(w \* v) / v, M = Math.round(M \* v) / v; |
  |  | 7292 | let D = 0; |
  |  | 7293 | for (b && (u && w !== a ? (s.push({value: a}), w < a && D++, N(Math.round((w + D \* S) \* v) / v, a, ea(a, y, t)) && D++) : w < a && D++); D < k; ++D) s.push({value: Math.round((w + D \* S) \* v) / v}); |
  |  | 7294 | return x && u && M !== r ? s.length && N(s[s.length - 1].value, r, ea(r, y, t)) ? s[s.length - 1].value = r : s.push({value: r}) : x && M !== r || s.push({value: M}), s |
  |  | 7295 | }({ |
  |  | 7296 | maxTicks: s, |
  |  | 7297 | bounds: t.bounds, |
  |  | 7298 | min: t.min, |
  |  | 7299 | max: t.max, |
  |  | 7300 | precision: e.precision, |
  |  | 7301 | step: e.stepSize, |
  |  | 7302 | count: e.count, |
  |  | 7303 | maxDigits: this.\_maxDigits(), |
  |  | 7304 | horizontal: this.isHorizontal(), |
  |  | 7305 | minRotation: e.minRotation || 0, |
  |  | 7306 | includeBounds: !1 !== e.includeBounds |
  |  | 7307 | }, this.\_range || this); |
  |  | 7308 | return "ticks" === t.bounds && j(n, this, "value"), t.reverse ? (n.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), n |
  |  | 7309 | } |
  |  | 7310 |  |
  |  | 7311 | configure() { |
  |  | 7312 | const t = this.ticks; |
  |  | 7313 | let e = this.min, i = this.max; |
  |  | 7314 | if (super.configure(), this.options.offset && t.length) { |
  |  | 7315 | const s = (i - e) / Math.max(t.length - 1, 1) / 2; |
  |  | 7316 | e -= s, i += s |
  |  | 7317 | } |
  |  | 7318 | this.\_startValue = e, this.\_endValue = i, this.\_valueRange = i - e |
  |  | 7319 | } |
  |  | 7320 |  |
  |  | 7321 | getLabelForValue(t) { |
  |  | 7322 | return li(t, this.chart.options.locale, this.options.ticks.format) |
  |  | 7323 | } |
  |  | 7324 | } |
  |  | 7325 |  |
  |  | 7326 | class sa extends ia { |
  |  | 7327 | determineDataLimits() { |
  |  | 7328 | const {min: t, max: e} = this.getMinMax(!0); |
  |  | 7329 | this.min = o(t) ? t : 0, this.max = o(e) ? e : 1, this.handleTickRangeOptions() |
  |  | 7330 | } |
  |  | 7331 |  |
  |  | 7332 | computeTickLimit() { |
  |  | 7333 | const t = this.isHorizontal(), e = t ? this.width : this.height, i = H(this.options.ticks.minRotation), |
  |  | 7334 | s = (t ? Math.sin(i) : Math.cos(i)) || .001, n = this.\_resolveTickFontOptions(0); |
  |  | 7335 | return Math.ceil(e / Math.min(40, n.lineHeight / s)) |
  |  | 7336 | } |
  |  | 7337 |  |
  |  | 7338 | getPixelForValue(t) { |
  |  | 7339 | return null === t ? NaN : this.getPixelForDecimal((t - this.\_startValue) / this.\_valueRange) |
  |  | 7340 | } |
  |  | 7341 |  |
  |  | 7342 | getValueForPixel(t) { |
  |  | 7343 | return this.\_startValue + this.getDecimalForPixel(t) \* this.\_valueRange |
  |  | 7344 | } |
  |  | 7345 | } |
  |  | 7346 |  |
  |  | 7347 | function na(t) { |
  |  | 7348 | return 1 === t / Math.pow(10, Math.floor(I(t))) |
  |  | 7349 | } |
  |  | 7350 |  |
  |  | 7351 | sa.id = "linear", sa.defaults = {ticks: {callback: Is.formatters.numeric}}; |
  |  | 7352 |  |
  |  | 7353 | class oa extends $s { |
  |  | 7354 | constructor(t) { |
  |  | 7355 | super(t), this.start = void 0, this.end = void 0, this.\_startValue = void 0, this.\_valueRange = 0 |
  |  | 7356 | } |
  |  | 7357 |  |
  |  | 7358 | parse(t, e) { |
  |  | 7359 | const i = ia.prototype.parse.apply(this, [t, e]); |
  |  | 7360 | if (0 !== i) return o(i) && i > 0 ? i : null; |
  |  | 7361 | this.\_zero = !0 |
  |  | 7362 | } |
  |  | 7363 |  |
  |  | 7364 | determineDataLimits() { |
  |  | 7365 | const {min: t, max: e} = this.getMinMax(!0); |
  |  | 7366 | this.min = o(t) ? Math.max(0, t) : null, this.max = o(e) ? Math.max(0, e) : null, this.options.beginAtZero && (this.\_zero = !0), this.handleTickRangeOptions() |
  |  | 7367 | } |
  |  | 7368 |  |
  |  | 7369 | handleTickRangeOptions() { |
  |  | 7370 | const {minDefined: t, maxDefined: e} = this.getUserBounds(); |
  |  | 7371 | let i = this.min, s = this.max; |
  |  | 7372 | const n = e => i = t ? i : e, o = t => s = e ? s : t, a = (t, e) => Math.pow(10, Math.floor(I(t)) + e); |
  |  | 7373 | i === s && (i <= 0 ? (n(1), o(10)) : (n(a(i, -1)), o(a(s, 1)))), i <= 0 && n(a(s, -1)), s <= 0 && o(a(i, 1)), this.\_zero && this.min !== this.\_suggestedMin && i === a(this.min, 0) && n(a(i, -1)), this.min = i, this.max = s |
  |  | 7374 | } |
  |  | 7375 |  |
  |  | 7376 | buildTicks() { |
  |  | 7377 | const t = this.options, e = function (t, e) { |
  |  | 7378 | const i = Math.floor(I(e.max)), s = Math.ceil(e.max / Math.pow(10, i)), n = []; |
  |  | 7379 | let o = a(t.min, Math.pow(10, Math.floor(I(e.min)))), r = Math.floor(I(o)), |
  |  | 7380 | l = Math.floor(o / Math.pow(10, r)), h = r < 0 ? Math.pow(10, Math.abs(r)) : 1; |
  |  | 7381 | do { |
  |  | 7382 | n.push({ |
  |  | 7383 | value: o, |
  |  | 7384 | major: na(o) |
  |  | 7385 | }), ++l, 10 === l && (l = 1, ++r, h = r >= 0 ? 1 : h), o = Math.round(l \* Math.pow(10, r) \* h) / h |
  |  | 7386 | } while (r < i || r === i && l < s); |
  |  | 7387 | const c = a(t.max, o); |
  |  | 7388 | return n.push({value: c, major: na(o)}), n |
  |  | 7389 | }({min: this.\_userMin, max: this.\_userMax}, this); |
  |  | 7390 | return "ticks" === t.bounds && j(e, this, "value"), t.reverse ? (e.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), e |
  |  | 7391 | } |
  |  | 7392 |  |
  |  | 7393 | getLabelForValue(t) { |
  |  | 7394 | return void 0 === t ? "0" : li(t, this.chart.options.locale, this.options.ticks.format) |
  |  | 7395 | } |
  |  | 7396 |  |
  |  | 7397 | configure() { |
  |  | 7398 | const t = this.min; |
  |  | 7399 | super.configure(), this.\_startValue = I(t), this.\_valueRange = I(this.max) - I(t) |
  |  | 7400 | } |
  |  | 7401 |  |
  |  | 7402 | getPixelForValue(t) { |
  |  | 7403 | return void 0 !== t && 0 !== t || (t = this.min), null === t || isNaN(t) ? NaN : this.getPixelForDecimal(t === this.min ? 0 : (I(t) - this.\_startValue) / this.\_valueRange) |
  |  | 7404 | } |
  |  | 7405 |  |
  |  | 7406 | getValueForPixel(t) { |
  |  | 7407 | const e = this.getDecimalForPixel(t); |
  |  | 7408 | return Math.pow(10, this.\_startValue + e \* this.\_valueRange) |
  |  | 7409 | } |
  |  | 7410 | } |
  |  | 7411 |  |
  |  | 7412 | function aa(t) { |
  |  | 7413 | const e = t.ticks; |
  |  | 7414 | if (e.display && t.display) { |
  |  | 7415 | const t = pi(e.backdropPadding); |
  |  | 7416 | return r(e.font && e.font.size, ne.font.size) + t.height |
  |  | 7417 | } |
  |  | 7418 | return 0 |
  |  | 7419 | } |
  |  | 7420 |  |
  |  | 7421 | function ra(t, e, i, s, n) { |
  |  | 7422 | return t === s || t === n ? {start: e - i / 2, end: e + i / 2} : t < s || t > n ? { |
  |  | 7423 | start: e - i, |
  |  | 7424 | end: e |
  |  | 7425 | } : {start: e, end: e + i} |
  |  | 7426 | } |
  |  | 7427 |  |
  |  | 7428 | function la(t) { |
  |  | 7429 | const e = { |
  |  | 7430 | l: t.left + t.\_padding.left, |
  |  | 7431 | r: t.right - t.\_padding.right, |
  |  | 7432 | t: t.top + t.\_padding.top, |
  |  | 7433 | b: t.bottom - t.\_padding.bottom |
  |  | 7434 | }, i = Object.assign({}, e), n = [], o = [], a = t.\_pointLabels.length, r = t.options.pointLabels, |
  |  | 7435 | l = r.centerPointLabels ? D / a : 0; |
  |  | 7436 | for (let u = 0; u < a; u++) { |
  |  | 7437 | const a = r.setContext(t.getPointLabelContext(u)); |
  |  | 7438 | o[u] = a.padding; |
  |  | 7439 | const f = t.getPointPosition(u, t.drawingArea + o[u], l), g = mi(a.font), |
  |  | 7440 | p = (h = t.ctx, c = g, d = s(d = t.\_pointLabels[u]) ? d : [d], { |
  |  | 7441 | w: ye(h, c.string, d), |
  |  | 7442 | h: d.length \* c.lineHeight |
  |  | 7443 | }); |
  |  | 7444 | n[u] = p; |
  |  | 7445 | const m = K(t.getIndexAngle(u) + l), b = Math.round($(m)); |
  |  | 7446 | ha(i, e, m, ra(b, f.x, p.w, 0, 180), ra(b, f.y, p.h, 90, 270)) |
  |  | 7447 | } |
  |  | 7448 | var h, c, d; |
  |  | 7449 | t.setCenterPoint(e.l - i.l, i.r - e.r, e.t - i.t, i.b - e.b), t.\_pointLabelItems = function (t, e, i) { |
  |  | 7450 | const s = [], n = t.\_pointLabels.length, o = t.options, a = aa(o) / 2, r = t.drawingArea, |
  |  | 7451 | l = o.pointLabels.centerPointLabels ? D / n : 0; |
  |  | 7452 | for (let o = 0; o < n; o++) { |
  |  | 7453 | const n = t.getPointPosition(o, r + a + i[o], l), h = Math.round($(K(n.angle + L))), c = e[o], |
  |  | 7454 | d = ua(n.y, c.h, h), u = ca(h), f = da(n.x, c.w, u); |
  |  | 7455 | s.push({x: n.x, y: d, textAlign: u, left: f, top: d, right: f + c.w, bottom: d + c.h}) |
  |  | 7456 | } |
  |  | 7457 | return s |
  |  | 7458 | }(t, n, o) |
  |  | 7459 | } |
  |  | 7460 |  |
  |  | 7461 | function ha(t, e, i, s, n) { |
  |  | 7462 | const o = Math.abs(Math.sin(i)), a = Math.abs(Math.cos(i)); |
  |  | 7463 | let r = 0, l = 0; |
  |  | 7464 | s.start < e.l ? (r = (e.l - s.start) / o, t.l = Math.min(t.l, e.l - r)) : s.end > e.r && (r = (s.end - e.r) / o, t.r = Math.max(t.r, e.r + r)), n.start < e.t ? (l = (e.t - n.start) / a, t.t = Math.min(t.t, e.t - l)) : n.end > e.b && (l = (n.end - e.b) / a, t.b = Math.max(t.b, e.b + l)) |
  |  | 7465 | } |
  |  | 7466 |  |
  |  | 7467 | function ca(t) { |
  |  | 7468 | return 0 === t || 180 === t ? "center" : t < 180 ? "left" : "right" |
  |  | 7469 | } |
  |  | 7470 |  |
  |  | 7471 | function da(t, e, i) { |
  |  | 7472 | return "right" === i ? t -= e : "center" === i && (t -= e / 2), t |
  |  | 7473 | } |
  |  | 7474 |  |
  |  | 7475 | function ua(t, e, i) { |
  |  | 7476 | return 90 === i || 270 === i ? t -= e / 2 : (i > 270 || i < 90) && (t -= e), t |
  |  | 7477 | } |
  |  | 7478 |  |
  |  | 7479 | function fa(t, e, i, s) { |
  |  | 7480 | const {ctx: n} = t; |
  |  | 7481 | if (i) n.arc(t.xCenter, t.yCenter, e, 0, O); else { |
  |  | 7482 | let i = t.getPointPosition(0, e); |
  |  | 7483 | n.moveTo(i.x, i.y); |
  |  | 7484 | for (let o = 1; o < s; o++) i = t.getPointPosition(o, e), n.lineTo(i.x, i.y) |
  |  | 7485 | } |
  |  | 7486 | } |
  |  | 7487 |  |
  |  | 7488 | oa.id = "logarithmic", oa.defaults = {ticks: {callback: Is.formatters.logarithmic, major: {enabled: !0}}}; |
  |  | 7489 |  |
  |  | 7490 | class ga extends ia { |
  |  | 7491 | constructor(t) { |
  |  | 7492 | super(t), this.xCenter = void 0, this.yCenter = void 0, this.drawingArea = void 0, this.\_pointLabels = [], this.\_pointLabelItems = [] |
  |  | 7493 | } |
  |  | 7494 |  |
  |  | 7495 | setDimensions() { |
  |  | 7496 | const t = this.\_padding = pi(aa(this.options) / 2), e = this.width = this.maxWidth - t.width, |
  |  | 7497 | i = this.height = this.maxHeight - t.height; |
  |  | 7498 | this.xCenter = Math.floor(this.left + e / 2 + t.left), this.yCenter = Math.floor(this.top + i / 2 + t.top), this.drawingArea = Math.floor(Math.min(e, i) / 2) |
  |  | 7499 | } |
  |  | 7500 |  |
  |  | 7501 | determineDataLimits() { |
  |  | 7502 | const {min: t, max: e} = this.getMinMax(!1); |
  |  | 7503 | this.min = o(t) && !isNaN(t) ? t : 0, this.max = o(e) && !isNaN(e) ? e : 0, this.handleTickRangeOptions() |
  |  | 7504 | } |
  |  | 7505 |  |
  |  | 7506 | computeTickLimit() { |
  |  | 7507 | return Math.ceil(this.drawingArea / aa(this.options)) |
  |  | 7508 | } |
  |  | 7509 |  |
  |  | 7510 | generateTickLabels(t) { |
  |  | 7511 | ia.prototype.generateTickLabels.call(this, t), this.\_pointLabels = this.getLabels().map((t, e) => { |
  |  | 7512 | const i = c(this.options.pointLabels.callback, [t, e], this); |
  |  | 7513 | return i || 0 === i ? i : "" |
  |  | 7514 | }).filter((t, e) => this.chart.getDataVisibility(e)) |
  |  | 7515 | } |
  |  | 7516 |  |
  |  | 7517 | fit() { |
  |  | 7518 | const t = this.options; |
  |  | 7519 | t.display && t.pointLabels.display ? la(this) : this.setCenterPoint(0, 0, 0, 0) |
  |  | 7520 | } |
  |  | 7521 |  |
  |  | 7522 | setCenterPoint(t, e, i, s) { |
  |  | 7523 | this.xCenter += Math.floor((t - e) / 2), this.yCenter += Math.floor((i - s) / 2), this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(t, e, i, s)) |
  |  | 7524 | } |
  |  | 7525 |  |
  |  | 7526 | getIndexAngle(t) { |
  |  | 7527 | return K(t \* (O / (this.\_pointLabels.length || 1)) + H(this.options.startAngle || 0)) |
  |  | 7528 | } |
  |  | 7529 |  |
  |  | 7530 | getDistanceFromCenterForValue(t) { |
  |  | 7531 | if (i(t)) return NaN; |
  |  | 7532 | const e = this.drawingArea / (this.max - this.min); |
  |  | 7533 | return this.options.reverse ? (this.max - t) \* e : (t - this.min) \* e |
  |  | 7534 | } |
  |  | 7535 |  |
  |  | 7536 | getValueForDistanceFromCenter(t) { |
  |  | 7537 | if (i(t)) return NaN; |
  |  | 7538 | const e = t / (this.drawingArea / (this.max - this.min)); |
  |  | 7539 | return this.options.reverse ? this.max - e : this.min + e |
  |  | 7540 | } |
  |  | 7541 |  |
  |  | 7542 | getPointLabelContext(t) { |
  |  | 7543 | const e = this.\_pointLabels || []; |
  |  | 7544 | if (t >= 0 && t < e.length) { |
  |  | 7545 | const i = e[t]; |
  |  | 7546 | return function (t, e, i) { |
  |  | 7547 | return \_i(t, {label: i, index: e, type: "pointLabel"}) |
  |  | 7548 | }(this.getContext(), t, i) |
  |  | 7549 | } |
  |  | 7550 | } |
  |  | 7551 |  |
  |  | 7552 | getPointPosition(t, e, i = 0) { |
  |  | 7553 | const s = this.getIndexAngle(t) - L + i; |
  |  | 7554 | return {x: Math.cos(s) \* e + this.xCenter, y: Math.sin(s) \* e + this.yCenter, angle: s} |
  |  | 7555 | } |
  |  | 7556 |  |
  |  | 7557 | getPointPositionForValue(t, e) { |
  |  | 7558 | return this.getPointPosition(t, this.getDistanceFromCenterForValue(e)) |
  |  | 7559 | } |
  |  | 7560 |  |
  |  | 7561 | getBasePosition(t) { |
  |  | 7562 | return this.getPointPositionForValue(t || 0, this.getBaseValue()) |
  |  | 7563 | } |
  |  | 7564 |  |
  |  | 7565 | getPointLabelPosition(t) { |
  |  | 7566 | const {left: e, top: i, right: s, bottom: n} = this.\_pointLabelItems[t]; |
  |  | 7567 | return {left: e, top: i, right: s, bottom: n} |
  |  | 7568 | } |
  |  | 7569 |  |
  |  | 7570 | drawBackground() { |
  |  | 7571 | const {backgroundColor: t, grid: {circular: e}} = this.options; |
  |  | 7572 | if (t) { |
  |  | 7573 | const i = this.ctx; |
  |  | 7574 | i.save(), i.beginPath(), fa(this, this.getDistanceFromCenterForValue(this.\_endValue), e, this.\_pointLabels.length), i.closePath(), i.fillStyle = t, i.fill(), i.restore() |
  |  | 7575 | } |
  |  | 7576 | } |
  |  | 7577 |  |
  |  | 7578 | drawGrid() { |
  |  | 7579 | const t = this.ctx, e = this.options, {angleLines: s, grid: n} = e, o = this.\_pointLabels.length; |
  |  | 7580 | let a, r, l; |
  |  | 7581 | if (e.pointLabels.display && function (t, e) { |
  |  | 7582 | const {ctx: s, options: {pointLabels: n}} = t; |
  |  | 7583 | for (let o = e - 1; o >= 0; o--) { |
  |  | 7584 | const e = n.setContext(t.getPointLabelContext(o)), a = mi(e.font), { |
  |  | 7585 | x: r, |
  |  | 7586 | y: l, |
  |  | 7587 | textAlign: h, |
  |  | 7588 | left: c, |
  |  | 7589 | top: d, |
  |  | 7590 | right: u, |
  |  | 7591 | bottom: f |
  |  | 7592 | } = t.\_pointLabelItems[o], {backdropColor: g} = e; |
  |  | 7593 | if (!i(g)) { |
  |  | 7594 | const t = gi(e.borderRadius), i = pi(e.backdropPadding); |
  |  | 7595 | s.fillStyle = g; |
  |  | 7596 | const n = c - i.left, o = d - i.top, a = u - c + i.width, r = f - d + i.height; |
  |  | 7597 | Object.values(t).some(t => 0 !== t) ? (s.beginPath(), Le(s, { |
  |  | 7598 | x: n, |
  |  | 7599 | y: o, |
  |  | 7600 | w: a, |
  |  | 7601 | h: r, |
  |  | 7602 | radius: t |
  |  | 7603 | }), s.fill()) : s.fillRect(n, o, a, r) |
  |  | 7604 | } |
  |  | 7605 | Ae(s, t.\_pointLabels[o], r, l + a.lineHeight / 2, a, { |
  |  | 7606 | color: e.color, |
  |  | 7607 | textAlign: h, |
  |  | 7608 | textBaseline: "middle" |
  |  | 7609 | }) |
  |  | 7610 | } |
  |  | 7611 | }(this, o), n.display && this.ticks.forEach((t, e) => { |
  |  | 7612 | if (0 !== e) { |
  |  | 7613 | r = this.getDistanceFromCenterForValue(t.value); |
  |  | 7614 | !function (t, e, i, s) { |
  |  | 7615 | const n = t.ctx, o = e.circular, {color: a, lineWidth: r} = e; |
  |  | 7616 | !o && !s || !a || !r || i < 0 || (n.save(), n.strokeStyle = a, n.lineWidth = r, n.setLineDash(e.borderDash), n.lineDashOffset = e.borderDashOffset, n.beginPath(), fa(t, i, o, s), n.closePath(), n.stroke(), n.restore()) |
  |  | 7617 | }(this, n.setContext(this.getContext(e - 1)), r, o) |
  |  | 7618 | } |
  |  | 7619 | }), s.display) { |
  |  | 7620 | for (t.save(), a = o - 1; a >= 0; a--) { |
  |  | 7621 | const i = s.setContext(this.getPointLabelContext(a)), {color: n, lineWidth: o} = i; |
  |  | 7622 | o && n && (t.lineWidth = o, t.strokeStyle = n, t.setLineDash(i.borderDash), t.lineDashOffset = i.borderDashOffset, r = this.getDistanceFromCenterForValue(e.ticks.reverse ? this.min : this.max), l = this.getPointPosition(a, r), t.beginPath(), t.moveTo(this.xCenter, this.yCenter), t.lineTo(l.x, l.y), t.stroke()) |
  |  | 7623 | } |
  |  | 7624 | t.restore() |
  |  | 7625 | } |
  |  | 7626 | } |
  |  | 7627 |  |
  |  | 7628 | drawBorder() { |
  |  | 7629 | } |
  |  | 7630 |  |
  |  | 7631 | drawLabels() { |
  |  | 7632 | const t = this.ctx, e = this.options, i = e.ticks; |
  |  | 7633 | if (!i.display) return; |
  |  | 7634 | const s = this.getIndexAngle(0); |
  |  | 7635 | let n, o; |
  |  | 7636 | t.save(), t.translate(this.xCenter, this.yCenter), t.rotate(s), t.textAlign = "center", t.textBaseline = "middle", this.ticks.forEach((s, a) => { |
  |  | 7637 | if (0 === a && !e.reverse) return; |
  |  | 7638 | const r = i.setContext(this.getContext(a)), l = mi(r.font); |
  |  | 7639 | if (n = this.getDistanceFromCenterForValue(this.ticks[a].value), r.showLabelBackdrop) { |
  |  | 7640 | t.font = l.string, o = t.measureText(s.label).width, t.fillStyle = r.backdropColor; |
  |  | 7641 | const e = pi(r.backdropPadding); |
  |  | 7642 | t.fillRect(-o / 2 - e.left, -n - l.size / 2 - e.top, o + e.width, l.size + e.height) |
  |  | 7643 | } |
  |  | 7644 | Ae(t, s.label, 0, -n, l, {color: r.color}) |
  |  | 7645 | }), t.restore() |
  |  | 7646 | } |
  |  | 7647 |  |
  |  | 7648 | drawTitle() { |
  |  | 7649 | } |
  |  | 7650 | } |
  |  | 7651 |  |
  |  | 7652 | ga.id = "radialLinear", ga.defaults = { |
  |  | 7653 | display: !0, |
  |  | 7654 | animate: !0, |
  |  | 7655 | position: "chartArea", |
  |  | 7656 | angleLines: {display: !0, lineWidth: 1, borderDash: [], borderDashOffset: 0}, |
  |  | 7657 | grid: {circular: !1}, |
  |  | 7658 | startAngle: 0, |
  |  | 7659 | ticks: {showLabelBackdrop: !0, callback: Is.formatters.numeric}, |
  |  | 7660 | pointLabels: { |
  |  | 7661 | backdropColor: void 0, |
  |  | 7662 | backdropPadding: 2, |
  |  | 7663 | display: !0, |
  |  | 7664 | font: {size: 10}, |
  |  | 7665 | callback: t => t, |
  |  | 7666 | padding: 5, |
  |  | 7667 | centerPointLabels: !1 |
  |  | 7668 | } |
  |  | 7669 | }, ga.defaultRoutes = { |
  |  | 7670 | "angleLines.color": "borderColor", |
  |  | 7671 | "pointLabels.color": "color", |
  |  | 7672 | "ticks.color": "color" |
  |  | 7673 | }, ga.descriptors = {angleLines: {\_fallback: "grid"}}; |
  |  | 7674 | const pa = { |
  |  | 7675 | millisecond: {common: !0, size: 1, steps: 1e3}, |
  |  | 7676 | second: {common: !0, size: 1e3, steps: 60}, |
  |  | 7677 | minute: {common: !0, size: 6e4, steps: 60}, |
  |  | 7678 | hour: {common: !0, size: 36e5, steps: 24}, |
  |  | 7679 | day: {common: !0, size: 864e5, steps: 30}, |
  |  | 7680 | week: {common: !1, size: 6048e5, steps: 4}, |
  |  | 7681 | month: {common: !0, size: 2628e6, steps: 12}, |
  |  | 7682 | quarter: {common: !1, size: 7884e6, steps: 4}, |
  |  | 7683 | year: {common: !0, size: 3154e7} |
  |  | 7684 | }, ma = Object.keys(pa); |
  |  | 7685 |  |
  |  | 7686 | function ba(t, e) { |
  |  | 7687 | return t - e |
  |  | 7688 | } |
  |  | 7689 |  |
  |  | 7690 | function xa(t, e) { |
  |  | 7691 | if (i(e)) return null; |
  |  | 7692 | const s = t.\_adapter, {parser: n, round: a, isoWeekday: r} = t.\_parseOpts; |
  |  | 7693 | let l = e; |
  |  | 7694 | return "function" == typeof n && (l = n(l)), o(l) || (l = "string" == typeof n ? s.parse(l, n) : s.parse(l)), null === l ? null : (a && (l = "week" !== a || !B(r) && !0 !== r ? s.startOf(l, a) : s.startOf(l, "isoWeek", r)), +l) |
  |  | 7695 | } |
  |  | 7696 |  |
  |  | 7697 | function \_a(t, e, i, s) { |
  |  | 7698 | const n = ma.length; |
  |  | 7699 | for (let o = ma.indexOf(t); o < n - 1; ++o) { |
  |  | 7700 | const t = pa[ma[o]], n = t.steps ? t.steps : Number.MAX\_SAFE\_INTEGER; |
  |  | 7701 | if (t.common && Math.ceil((i - e) / (n \* t.size)) <= s) return ma[o] |
  |  | 7702 | } |
  |  | 7703 | return ma[n - 1] |
  |  | 7704 | } |
  |  | 7705 |  |
  |  | 7706 | function ya(t, e, i) { |
  |  | 7707 | if (i) { |
  |  | 7708 | if (i.length) { |
  |  | 7709 | const {lo: s, hi: n} = tt(i, e); |
  |  | 7710 | t[i[s] >= e ? i[s] : i[n]] = !0 |
  |  | 7711 | } |
  |  | 7712 | } else t[e] = !0 |
  |  | 7713 | } |
  |  | 7714 |  |
  |  | 7715 | function va(t, e, i) { |
  |  | 7716 | const s = [], n = {}, o = e.length; |
  |  | 7717 | let a, r; |
  |  | 7718 | for (a = 0; a < o; ++a) r = e[a], n[r] = a, s.push({value: r, major: !1}); |
  |  | 7719 | return 0 !== o && i ? function (t, e, i, s) { |
  |  | 7720 | const n = t.\_adapter, o = +n.startOf(e[0].value, s), a = e[e.length - 1].value; |
  |  | 7721 | let r, l; |
  |  | 7722 | for (r = o; r <= a; r = +n.add(r, 1, s)) l = i[r], l >= 0 && (e[l].major = !0); |
  |  | 7723 | return e |
  |  | 7724 | }(t, s, n, i) : s |
  |  | 7725 | } |
  |  | 7726 |  |
  |  | 7727 | class wa extends $s { |
  |  | 7728 | constructor(t) { |
  |  | 7729 | super(t), this.\_cache = { |
  |  | 7730 | data: [], |
  |  | 7731 | labels: [], |
  |  | 7732 | all: [] |
  |  | 7733 | }, this.\_unit = "day", this.\_majorUnit = void 0, this.\_offsets = {}, this.\_normalized = !1, this.\_parseOpts = void 0 |
  |  | 7734 | } |
  |  | 7735 |  |
  |  | 7736 | init(t, e) { |
  |  | 7737 | const i = t.time || (t.time = {}), s = this.\_adapter = new wn.\_date(t.adapters.date); |
  |  | 7738 | s.init(e), b(i.displayFormats, s.formats()), this.\_parseOpts = { |
  |  | 7739 | parser: i.parser, |
  |  | 7740 | round: i.round, |
  |  | 7741 | isoWeekday: i.isoWeekday |
  |  | 7742 | }, super.init(t), this.\_normalized = e.normalized |
  |  | 7743 | } |
  |  | 7744 |  |
  |  | 7745 | parse(t, e) { |
  |  | 7746 | return void 0 === t ? null : xa(this, t) |
  |  | 7747 | } |
  |  | 7748 |  |
  |  | 7749 | beforeLayout() { |
  |  | 7750 | super.beforeLayout(), this.\_cache = {data: [], labels: [], all: []} |
  |  | 7751 | } |
  |  | 7752 |  |
  |  | 7753 | determineDataLimits() { |
  |  | 7754 | const t = this.options, e = this.\_adapter, i = t.time.unit || "day"; |
  |  | 7755 | let {min: s, max: n, minDefined: a, maxDefined: r} = this.getUserBounds(); |
  |  | 7756 |  |
  |  | 7757 | function l(t) { |
  |  | 7758 | a || isNaN(t.min) || (s = Math.min(s, t.min)), r || isNaN(t.max) || (n = Math.max(n, t.max)) |
  |  | 7759 | } |
  |  | 7760 |  |
  |  | 7761 | a && r || (l(this.\_getLabelBounds()), "ticks" === t.bounds && "labels" === t.ticks.source || l(this.getMinMax(!1))), s = o(s) && !isNaN(s) ? s : +e.startOf(Date.now(), i), n = o(n) && !isNaN(n) ? n : +e.endOf(Date.now(), i) + 1, this.min = Math.min(s, n - 1), this.max = Math.max(s + 1, n) |
  |  | 7762 | } |
  |  | 7763 |  |
  |  | 7764 | \_getLabelBounds() { |
  |  | 7765 | const t = this.getLabelTimestamps(); |
  |  | 7766 | let e = Number.POSITIVE\_INFINITY, i = Number.NEGATIVE\_INFINITY; |
  |  | 7767 | return t.length && (e = t[0], i = t[t.length - 1]), {min: e, max: i} |
  |  | 7768 | } |
  |  | 7769 |  |
  |  | 7770 | buildTicks() { |
  |  | 7771 | const t = this.options, e = t.time, i = t.ticks, |
  |  | 7772 | s = "labels" === i.source ? this.getLabelTimestamps() : this.\_generate(); |
  |  | 7773 | "ticks" === t.bounds && s.length && (this.min = this.\_userMin || s[0], this.max = this.\_userMax || s[s.length - 1]); |
  |  | 7774 | const n = this.min, o = st(s, n, this.max); |
  |  | 7775 | return this.\_unit = e.unit || (i.autoSkip ? \_a(e.minUnit, this.min, this.max, this.\_getLabelCapacity(n)) : function (t, e, i, s, n) { |
  |  | 7776 | for (let o = ma.length - 1; o >= ma.indexOf(i); o--) { |
  |  | 7777 | const i = ma[o]; |
  |  | 7778 | if (pa[i].common && t.\_adapter.diff(n, s, i) >= e - 1) return i |
  |  | 7779 | } |
  |  | 7780 | return ma[i ? ma.indexOf(i) : 0] |
  |  | 7781 | }(this, o.length, e.minUnit, this.min, this.max)), this.\_majorUnit = i.major.enabled && "year" !== this.\_unit ? function (t) { |
  |  | 7782 | for (let e = ma.indexOf(t) + 1, i = ma.length; e < i; ++e) if (pa[ma[e]].common) return ma[e] |
  |  | 7783 | }(this.\_unit) : void 0, this.initOffsets(s), t.reverse && o.reverse(), va(this, o, this.\_majorUnit) |
  |  | 7784 | } |
  |  | 7785 |  |
  |  | 7786 | afterAutoSkip() { |
  |  | 7787 | this.options.offsetAfterAutoskip && this.initOffsets(this.ticks.map(t => +t.value)) |
  |  | 7788 | } |
  |  | 7789 |  |
  |  | 7790 | initOffsets(t) { |
  |  | 7791 | let e, i, s = 0, n = 0; |
  |  | 7792 | this.options.offset && t.length && (e = this.getDecimalForValue(t[0]), s = 1 === t.length ? 1 - e : (this.getDecimalForValue(t[1]) - e) / 2, i = this.getDecimalForValue(t[t.length - 1]), n = 1 === t.length ? i : (i - this.getDecimalForValue(t[t.length - 2])) / 2); |
  |  | 7793 | const o = t.length < 3 ? .5 : .25; |
  |  | 7794 | s = Z(s, 0, o), n = Z(n, 0, o), this.\_offsets = {start: s, end: n, factor: 1 / (s + 1 + n)} |
  |  | 7795 | } |
  |  | 7796 |  |
  |  | 7797 | \_generate() { |
  |  | 7798 | const t = this.\_adapter, e = this.min, i = this.max, s = this.options, n = s.time, |
  |  | 7799 | o = n.unit || \_a(n.minUnit, e, i, this.\_getLabelCapacity(e)), a = r(n.stepSize, 1), |
  |  | 7800 | l = "week" === o && n.isoWeekday, h = B(l) || !0 === l, c = {}; |
  |  | 7801 | let d, u, f = e; |
  |  | 7802 | if (h && (f = +t.startOf(f, "isoWeek", l)), f = +t.startOf(f, h ? "day" : o), t.diff(i, e, o) > 1e5 \* a) throw new Error(e + " and " + i + " are too far apart with stepSize of " + a + " " + o); |
  |  | 7803 | const g = "data" === s.ticks.source && this.getDataTimestamps(); |
  |  | 7804 | for (d = f, u = 0; d < i; d = +t.add(d, a, o), u++) ya(c, d, g); |
  |  | 7805 | return d !== i && "ticks" !== s.bounds && 1 !== u || ya(c, d, g), Object.keys(c).sort((t, e) => t - e).map(t => +t) |
  |  | 7806 | } |
  |  | 7807 |  |
  |  | 7808 | getLabelForValue(t) { |
  |  | 7809 | const e = this.\_adapter, i = this.options.time; |
  |  | 7810 | return i.tooltipFormat ? e.format(t, i.tooltipFormat) : e.format(t, i.displayFormats.datetime) |
  |  | 7811 | } |
  |  | 7812 |  |
  |  | 7813 | \_tickFormatFunction(t, e, i, s) { |
  |  | 7814 | const n = this.options, o = n.time.displayFormats, a = this.\_unit, r = this.\_majorUnit, l = a && o[a], |
  |  | 7815 | h = r && o[r], d = i[e], u = r && h && d && d.major, f = this.\_adapter.format(t, s || (u ? h : l)), |
  |  | 7816 | g = n.ticks.callback; |
  |  | 7817 | return g ? c(g, [f, e, i], this) : f |
  |  | 7818 | } |
  |  | 7819 |  |
  |  | 7820 | generateTickLabels(t) { |
  |  | 7821 | let e, i, s; |
  |  | 7822 | for (e = 0, i = t.length; e < i; ++e) s = t[e], s.label = this.\_tickFormatFunction(s.value, e, t) |
  |  | 7823 | } |
  |  | 7824 |  |
  |  | 7825 | getDecimalForValue(t) { |
  |  | 7826 | return null === t ? NaN : (t - this.min) / (this.max - this.min) |
  |  | 7827 | } |
  |  | 7828 |  |
  |  | 7829 | getPixelForValue(t) { |
  |  | 7830 | const e = this.\_offsets, i = this.getDecimalForValue(t); |
  |  | 7831 | return this.getPixelForDecimal((e.start + i) \* e.factor) |
  |  | 7832 | } |
  |  | 7833 |  |
  |  | 7834 | getValueForPixel(t) { |
  |  | 7835 | const e = this.\_offsets, i = this.getDecimalForPixel(t) / e.factor - e.end; |
  |  | 7836 | return this.min + i \* (this.max - this.min) |
  |  | 7837 | } |
  |  | 7838 |  |
  |  | 7839 | \_getLabelSize(t) { |
  |  | 7840 | const e = this.options.ticks, i = this.ctx.measureText(t).width, |
  |  | 7841 | s = H(this.isHorizontal() ? e.maxRotation : e.minRotation), n = Math.cos(s), o = Math.sin(s), |
  |  | 7842 | a = this.\_resolveTickFontOptions(0).size; |
  |  | 7843 | return {w: i \* n + a \* o, h: i \* o + a \* n} |
  |  | 7844 | } |
  |  | 7845 |  |
  |  | 7846 | \_getLabelCapacity(t) { |
  |  | 7847 | const e = this.options.time, i = e.displayFormats, s = i[e.unit] || i.millisecond, |
  |  | 7848 | n = this.\_tickFormatFunction(t, 0, va(this, [t], this.\_majorUnit), s), o = this.\_getLabelSize(n), |
  |  | 7849 | a = Math.floor(this.isHorizontal() ? this.width / o.w : this.height / o.h) - 1; |
  |  | 7850 | return a > 0 ? a : 1 |
  |  | 7851 | } |
  |  | 7852 |  |
  |  | 7853 | getDataTimestamps() { |
  |  | 7854 | let t, e, i = this.\_cache.data || []; |
  |  | 7855 | if (i.length) return i; |
  |  | 7856 | const s = this.getMatchingVisibleMetas(); |
  |  | 7857 | if (this.\_normalized && s.length) return this.\_cache.data = s[0].controller.getAllParsedValues(this); |
  |  | 7858 | for (t = 0, e = s.length; t < e; ++t) i = i.concat(s[t].controller.getAllParsedValues(this)); |
  |  | 7859 | return this.\_cache.data = this.normalize(i) |
  |  | 7860 | } |
  |  | 7861 |  |
  |  | 7862 | getLabelTimestamps() { |
  |  | 7863 | const t = this.\_cache.labels || []; |
  |  | 7864 | let e, i; |
  |  | 7865 | if (t.length) return t; |
  |  | 7866 | const s = this.getLabels(); |
  |  | 7867 | for (e = 0, i = s.length; e < i; ++e) t.push(xa(this, s[e])); |
  |  | 7868 | return this.\_cache.labels = this.\_normalized ? t : this.normalize(t) |
  |  | 7869 | } |
  |  | 7870 |  |
  |  | 7871 | normalize(t) { |
  |  | 7872 | return rt(t.sort(ba)) |
  |  | 7873 | } |
  |  | 7874 | } |
  |  | 7875 |  |
  |  | 7876 | function Ma(t, e, i) { |
  |  | 7877 | let s, n, o, a, r = 0, l = t.length - 1; |
  |  | 7878 | i ? (e >= t[r].pos && e <= t[l].pos && ({lo: r, hi: l} = et(t, "pos", e)), {pos: s, time: o} = t[r], { |
  |  | 7879 | pos: n, |
  |  | 7880 | time: a |
  |  | 7881 | } = t[l]) : (e >= t[r].time && e <= t[l].time && ({lo: r, hi: l} = et(t, "time", e)), { |
  |  | 7882 | time: s, |
  |  | 7883 | pos: o |
  |  | 7884 | } = t[r], {time: n, pos: a} = t[l]); |
  |  | 7885 | const h = n - s; |
  |  | 7886 | return h ? o + (a - o) \* (e - s) / h : o |
  |  | 7887 | } |
  |  | 7888 |  |
  |  | 7889 | wa.id = "time", wa.defaults = { |
  |  | 7890 | bounds: "data", |
  |  | 7891 | adapters: {}, |
  |  | 7892 | time: {parser: !1, unit: !1, round: !1, isoWeekday: !1, minUnit: "millisecond", displayFormats: {}}, |
  |  | 7893 | ticks: {source: "auto", major: {enabled: !1}} |
  |  | 7894 | }; |
  |  | 7895 |  |
  |  | 7896 | class ka extends wa { |
  |  | 7897 | constructor(t) { |
  |  | 7898 | super(t), this.\_table = [], this.\_minPos = void 0, this.\_tableRange = void 0 |
  |  | 7899 | } |
  |  | 7900 |  |
  |  | 7901 | initOffsets() { |
  |  | 7902 | const t = this.\_getTimestampsForTable(), e = this.\_table = this.buildLookupTable(t); |
  |  | 7903 | this.\_minPos = Ma(e, this.min), this.\_tableRange = Ma(e, this.max) - this.\_minPos, super.initOffsets(t) |
  |  | 7904 | } |
  |  | 7905 |  |
  |  | 7906 | buildLookupTable(t) { |
  |  | 7907 | const {min: e, max: i} = this, s = [], n = []; |
  |  | 7908 | let o, a, r, l, h; |
  |  | 7909 | for (o = 0, a = t.length; o < a; ++o) l = t[o], l >= e && l <= i && s.push(l); |
  |  | 7910 | if (s.length < 2) return [{time: e, pos: 0}, {time: i, pos: 1}]; |
  |  | 7911 | for (o = 0, a = s.length; o < a; ++o) h = s[o + 1], r = s[o - 1], l = s[o], Math.round((h + r) / 2) !== l && n.push({ |
  |  | 7912 | time: l, |
  |  | 7913 | pos: o / (a - 1) |
  |  | 7914 | }); |
  |  | 7915 | return n |
  |  | 7916 | } |
  |  | 7917 |  |
  |  | 7918 | \_getTimestampsForTable() { |
  |  | 7919 | let t = this.\_cache.all || []; |
  |  | 7920 | if (t.length) return t; |
  |  | 7921 | const e = this.getDataTimestamps(), i = this.getLabelTimestamps(); |
  |  | 7922 | return t = e.length && i.length ? this.normalize(e.concat(i)) : e.length ? e : i, t = this.\_cache.all = t, t |
  |  | 7923 | } |
  |  | 7924 |  |
  |  | 7925 | getDecimalForValue(t) { |
  |  | 7926 | return (Ma(this.\_table, t) - this.\_minPos) / this.\_tableRange |
  |  | 7927 | } |
  |  | 7928 |  |
  |  | 7929 | getValueForPixel(t) { |
  |  | 7930 | const e = this.\_offsets, i = this.getDecimalForPixel(t) / e.factor - e.end; |
  |  | 7931 | return Ma(this.\_table, i \* this.\_tableRange + this.\_minPos, !0) |
  |  | 7932 | } |
  |  | 7933 | } |
  |  | 7934 |  |
  |  | 7935 | ka.id = "timeseries", ka.defaults = wa.defaults; |
  |  | 7936 | var Sa = Object.freeze({ |
  |  | 7937 | \_\_proto\_\_: null, |
  |  | 7938 | CategoryScale: ta, |
  |  | 7939 | LinearScale: sa, |
  |  | 7940 | LogarithmicScale: oa, |
  |  | 7941 | RadialLinearScale: ga, |
  |  | 7942 | TimeScale: wa, |
  |  | 7943 | TimeSeriesScale: ka |
  |  | 7944 | }); |
  |  | 7945 | return bn.register(Bn, Sa, co, Jo), bn.helpers = {...Ti}, bn.\_adapters = wn, bn.Animation = xs, bn.Animations = ys, bn.animator = mt, bn.controllers = Us.controllers.items, bn.DatasetController = Ls, bn.Element = Es, bn.elements = co, bn.Interaction = Vi, bn.layouts = Zi, bn.platforms = ps, bn.Scale = $s, bn.Ticks = Is, Object.assign(bn, Bn, Sa, co, Jo, ps), bn.Chartwpc = bn, "undefined" != typeof window && (window.Chartwpc = bn), bn |
  |  | 7946 | }); |
* ## [wp-compress-image-optimizer/trunk/assets/js/connect.js](/changeset/3054445/wp-compress-image-optimizer/trunk/assets/js/connect.js?old=3035261&old_path=wp-compress-image-optimizer%2Ftrunk%2Fassets%2Fjs%2Fconnect.js "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/assets/js/connect.js")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/assets/js/connect.js?rev=3035261#L177 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/assets/js/connect.js?rev=3054445#L177 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 177 | 177 | action: 'wps\_ic\_live\_connect', |
  | 178 | 178 | apikey: apikey, |
  | 179 |  | nonce: nonce |
  |  | 179 | nonce: nonce, |
  |  | 180 | timeout: 20000 |
  | 180 | 181 | }, function (response) { |
  | 181 | 182 | if (response.success) { |
* ## [wp-compress-image-optimizer/trunk/assets/js/connect.min.js](/changeset/3054445/wp-compress-image-optimizer/trunk/assets/js/connect.min.js?old=3035261&old_path=wp-compress-image-optimizer%2Ftrunk%2Fassets%2Fjs%2Fconnect.min.js "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/assets/js/connect.min.js")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/assets/js/connect.min.js?rev=3035261#L1 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/assets/js/connect.min.js?rev=3054445#L1 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | jQuery(document).ready(function($){function popupModes(){Swal.fire({title:"",position:"center",html:jQuery("#select-mode").html(),width:1050,showCloseButton:false,showCancelButton:false,showConfirmButton:false,allowOutsideClick:true,customClass:{container:"no-padding-popup-bottom-bg switch-legacy-popup"},onOpen:function(){var modes\_popup=$(".swal2-container .ajax-settings-popup");selectModesTrigger();hookCheckbox();saveMode(modes\_popup)},onClose:function(){}})}function saveMode(modes\_popup){var save=$(".cdn-popup-save-btn",modes\_popup);var loading=$(".cdn-popup-loading",modes\_popup);var content=$(".cdn-popup-content",modes\_popup);var nonce=$('input[name="wpc\_save\_mode\_nonce"]',modes\_popup).val();$(save).on("click",function(e){e.preventDefault();$(content).hide();$(loading).show();var selected\_mode=$("div.wpc-active",modes\_popup).data("mode");var cdn=$(".form-check-input",modes\_popup).prop("checked");$.post(wps\_ic\_vars.ajaxurl,{action:"wps\_ic\_save\_mode",mode:selected\_mode,cdn:cdn,nonce:nonce},function(response){if(response.success){location.reload()}else{}});return false})}function hookCheckbox(){$("label",".swal2-content").on("click",function(){var parent=$(this).parent();var checkbox=$('input[type="checkbox"]',parent);$(checkbox).prop("checked",!$(checkbox).prop("checked"));console.log($(checkbox).prop("checked"))});$('input[type="checkbox"]',".swal2-content").on("change",function(){var checkbox=$(this);var beforeValue=$(checkbox).attr("checked");console.log(checkbox);console.log(beforeValue);if(beforeValue=="checked"){$(this).removeAttr("checked").prop("checked",false);$(parent).removeClass("active")}else{$(this).attr("checked","checked").prop("checked",true);$(parent).addClass("active")}})}function selectModesTrigger(){$(".wpc-popup-column",".swal2-container").on("click",function(e){e.preventDefault();var parent=$(".wpc-popup-columns",".swal2-container");var selectBar=$(".wpc-select-bar .wpc-select-bar-inner",".swal2-container");var selectBarValue=$(this).data("slider-bar");var modeSelect=$(this).data("mode");$(selectBar).removeClass("wpc-select-bar-width-1 wpc-select-bar-width-2 wpc-select-bar-width-3");$(selectBar).addClass("wpc-select-bar-width-"+selectBarValue);$(".wpc-popup-column",parent).removeClass("wpc-active");$(this).addClass("wpc-active");var checked=$(".form-check-input",".wpc-popup-option-checkbox").is(":checked");console.log(checked);if(modeSelect=="safe"){$(".form-check-input",".wpc-popup-option-checkbox").removeAttr("checked").prop("checked",false)}else{if(!checked){$(".form-check-input",".wpc-popup-option-checkbox").attr("checked","checked").prop("checked",true)}}return false})}var swalFunc=function open\_connect\_popup(){Swal.fire({title:"",showClass:{popup:"in"},html:jQuery(".wps-ic-connect-form").html(),width:700,position:"center",customClass:{container:"in",popup:"wps-ic-connect-popup"},showCloseButton:false,showCancelButton:false,showConfirmButton:false,allowOutsideClick:false,onOpen:function(){$(".wps-ic-connect-retry").on("click",function(e){e.preventDefault();swalFunc();return false});var swal\_container=$(".swal2-container");var form=$("#wps-ic-connect-form",swal\_container);$("#wps-ic-connect-form",swal\_container).on("submit",function(e){e.preventDefault();var form\_container=$(".wps-ic-form-container",swal\_container);var success\_message=$(".wps-ic-success-message-container",swal\_container);var error\_message\_container=$(".wps-ic-error-message-container",swal\_container);var error\_message\_text=$(".wps-ic-error-message-container-text",swal\_container);var already\_connected=$(".wps-ic-error-already-connected",swal\_container);var success\_message\_text=$(".wps-ic-success-message-container-text",swal\_container);var success\_message\_choice\_text=$(".wps-ic-success-message-choice-container-text",swal\_container);var success\_message\_buttons=$(".wps-ic-success-message-choice-container-text a",swal\_container);var finishing=$(".wps-ic-finishing-container",swal\_container);var nonce=$('input[name="nonce"]',swal\_container).val();var loader=$(".wps-ic-loading-container",swal\_container);var tests=$(".wps-ic-tests-container",swal\_container);var init=$(".wps-ic-init-container",swal\_container);$(already\_connected).hide();$(error\_message\_text).hide();$(success\_message\_text).hide();$(error\_message\_container).hide();$(init,swal\_container).hide();$(form\_container).hide();$(loader).show();$(tests).hide();var apikey=$('input[name="apikey"]',form\_container).val();$.post(ajaxurl,{action:"wps\_ic\_live\_connect",apikey:apikey,nonce:nonce},function(response){if(response.success){$(".wps-ic-connect-inner").addClass("padded");Swal.close();popupModes();if(response.data.liveMode=="0"){var liveBtn=$(".wpc-live-btn",".wpc-select-mode-containers");var liveBtnText=$(".wpc-live-btn-text",liveBtn);$(liveBtn).addClass("wpc-disabled-option");$(liveBtnText).addClass("wpc-disabled-button");$(liveBtnText).html("Disabled")}if(response.data.localMode=="0"){var localBtn=$(".wpc-local-btn",".wpc-select-mode-containers");var localBtnText=$(".wpc-local-btn-text",localBtn);$(localBtn).addClass("wpc-disabled-option");$(localBtnText).addClass("wpc-disabled-button");$(localBtnText).html("Disabled")}$(".wpc-live-btn",success\_message\_choice\_text).on("click",function(e){e.preventDefault();var btn=$(this);if($(btn).hasClass("wpc-disabled-option")){return false}$.post(ajaxurl,{action:"wpc\_ic\_set\_mode",value:"recommended"},function(response){$(loader).hide();$(tests).hide();setTimeout(function(){window.location.reload()},1e3)})});$(".wpc-local-btn",success\_message\_choice\_text).on("click",function(e){e.preventDefault();var btn=$(this);if($(btn).hasClass("wpc-disabled-option")){return false}$.post(ajaxurl,{action:"wpc\_ic\_set\_mode",value:"safe"},function(response){$(loader).hide();$(tests).hide();setTimeout(function(){window.location.reload()},1e3)})});$(success\_message\_buttons).on("click",function(e){e.preventDefault();var btn=$(this);if($(btn).hasClass("wpc-disabled-option")){return false}$(finishing).show();$(success\_message).hide();$(success\_message\_choice\_text).hide();setTimeout(function(){$(loader).hide();$(tests).hide()},2e3)});$(loader).hide();$(tests).hide()}else{if(response.data.msg=="site-already-connected"){$(already\_connected).show();$(error\_message\_container).show();$(error\_message\_text).hide();$(success\_message\_choice\_text).hide();$(success\_message\_text).hide();$(success\_message).hide();$(loader).hide();$(tests).hide()}else{$(error\_message\_text).show();$(error\_message\_container).show();$(success\_message\_text).hide();$(success\_message\_choice\_text).hide();$(success\_message).hide();$(loader).hide();$(tests).hide()}}});return false})}})};swalFunc()}); |
  |  | 1 | jQuery(document).ready(function($){function popupModes(){Swal.fire({title:"",position:"center",html:jQuery("#select-mode").html(),width:1050,showCloseButton:false,showCancelButton:false,showConfirmButton:false,allowOutsideClick:true,customClass:{container:"no-padding-popup-bottom-bg switch-legacy-popup"},onOpen:function(){var modes\_popup=$(".swal2-container .ajax-settings-popup");selectModesTrigger();hookCheckbox();saveMode(modes\_popup)},onClose:function(){}})}function saveMode(modes\_popup){var save=$(".cdn-popup-save-btn",modes\_popup);var loading=$(".cdn-popup-loading",modes\_popup);var content=$(".cdn-popup-content",modes\_popup);var nonce=$('input[name="wpc\_save\_mode\_nonce"]',modes\_popup).val();$(save).on("click",function(e){e.preventDefault();$(content).hide();$(loading).show();var selected\_mode=$("div.wpc-active",modes\_popup).data("mode");var cdn=$(".form-check-input",modes\_popup).prop("checked");$.post(wps\_ic\_vars.ajaxurl,{action:"wps\_ic\_save\_mode",mode:selected\_mode,cdn:cdn,nonce:nonce},function(response){if(response.success){location.reload()}else{}});return false})}function hookCheckbox(){$("label",".swal2-content").on("click",function(){var parent=$(this).parent();var checkbox=$('input[type="checkbox"]',parent);$(checkbox).prop("checked",!$(checkbox).prop("checked"));console.log($(checkbox).prop("checked"))});$('input[type="checkbox"]',".swal2-content").on("change",function(){var checkbox=$(this);var beforeValue=$(checkbox).attr("checked");console.log(checkbox);console.log(beforeValue);if(beforeValue=="checked"){$(this).removeAttr("checked").prop("checked",false);$(parent).removeClass("active")}else{$(this).attr("checked","checked").prop("checked",true);$(parent).addClass("active")}})}function selectModesTrigger(){$(".wpc-popup-column",".swal2-container").on("click",function(e){e.preventDefault();var parent=$(".wpc-popup-columns",".swal2-container");var selectBar=$(".wpc-select-bar .wpc-select-bar-inner",".swal2-container");var selectBarValue=$(this).data("slider-bar");var modeSelect=$(this).data("mode");$(selectBar).removeClass("wpc-select-bar-width-1 wpc-select-bar-width-2 wpc-select-bar-width-3");$(selectBar).addClass("wpc-select-bar-width-"+selectBarValue);$(".wpc-popup-column",parent).removeClass("wpc-active");$(this).addClass("wpc-active");var checked=$(".form-check-input",".wpc-popup-option-checkbox").is(":checked");console.log(checked);if(modeSelect=="safe"){$(".form-check-input",".wpc-popup-option-checkbox").removeAttr("checked").prop("checked",false)}else{if(!checked){$(".form-check-input",".wpc-popup-option-checkbox").attr("checked","checked").prop("checked",true)}}return false})}var swalFunc=function open\_connect\_popup(){Swal.fire({title:"",showClass:{popup:"in"},html:jQuery(".wps-ic-connect-form").html(),width:700,position:"center",customClass:{container:"in",popup:"wps-ic-connect-popup"},showCloseButton:false,showCancelButton:false,showConfirmButton:false,allowOutsideClick:false,onOpen:function(){$(".wps-ic-connect-retry").on("click",function(e){e.preventDefault();swalFunc();return false});var swal\_container=$(".swal2-container");var form=$("#wps-ic-connect-form",swal\_container);$("#wps-ic-connect-form",swal\_container).on("submit",function(e){e.preventDefault();var form\_container=$(".wps-ic-form-container",swal\_container);var success\_message=$(".wps-ic-success-message-container",swal\_container);var error\_message\_container=$(".wps-ic-error-message-container",swal\_container);var error\_message\_text=$(".wps-ic-error-message-container-text",swal\_container);var already\_connected=$(".wps-ic-error-already-connected",swal\_container);var success\_message\_text=$(".wps-ic-success-message-container-text",swal\_container);var success\_message\_choice\_text=$(".wps-ic-success-message-choice-container-text",swal\_container);var success\_message\_buttons=$(".wps-ic-success-message-choice-container-text a",swal\_container);var finishing=$(".wps-ic-finishing-container",swal\_container);var nonce=$('input[name="nonce"]',swal\_container).val();var loader=$(".wps-ic-loading-container",swal\_container);var tests=$(".wps-ic-tests-container",swal\_container);var init=$(".wps-ic-init-container",swal\_container);$(already\_connected).hide();$(error\_message\_text).hide();$(success\_message\_text).hide();$(error\_message\_container).hide();$(init,swal\_container).hide();$(form\_container).hide();$(loader).show();$(tests).hide();var apikey=$('input[name="apikey"]',form\_container).val();$.post(ajaxurl,{action:"wps\_ic\_live\_connect",apikey:apikey,nonce:nonce,timeout:2e4},function(response){if(response.success){$(".wps-ic-connect-inner").addClass("padded");Swal.close();popupModes();if(response.data.liveMode=="0"){var liveBtn=$(".wpc-live-btn",".wpc-select-mode-containers");var liveBtnText=$(".wpc-live-btn-text",liveBtn);$(liveBtn).addClass("wpc-disabled-option");$(liveBtnText).addClass("wpc-disabled-button");$(liveBtnText).html("Disabled")}if(response.data.localMode=="0"){var localBtn=$(".wpc-local-btn",".wpc-select-mode-containers");var localBtnText=$(".wpc-local-btn-text",localBtn);$(localBtn).addClass("wpc-disabled-option");$(localBtnText).addClass("wpc-disabled-button");$(localBtnText).html("Disabled")}$(".wpc-live-btn",success\_message\_choice\_text).on("click",function(e){e.preventDefault();var btn=$(this);if($(btn).hasClass("wpc-disabled-option")){return false}$.post(ajaxurl,{action:"wpc\_ic\_set\_mode",value:"recommended"},function(response){$(loader).hide();$(tests).hide();setTimeout(function(){window.location.reload()},1e3)})});$(".wpc-local-btn",success\_message\_choice\_text).on("click",function(e){e.preventDefault();var btn=$(this);if($(btn).hasClass("wpc-disabled-option")){return false}$.post(ajaxurl,{action:"wpc\_ic\_set\_mode",value:"safe"},function(response){$(loader).hide();$(tests).hide();setTimeout(function(){window.location.reload()},1e3)})});$(success\_message\_buttons).on("click",function(e){e.preventDefault();var btn=$(this);if($(btn).hasClass("wpc-disabled-option")){return false}$(finishing).show();$(success\_message).hide();$(success\_message\_choice\_text).hide();setTimeout(function(){$(loader).hide();$(tests).hide()},2e3)});$(loader).hide();$(tests).hide()}else{if(response.data.msg=="site-already-connected"){$(already\_connected).show();$(error\_message\_container).show();$(error\_message\_text).hide();$(success\_message\_choice\_text).hide();$(success\_message\_text).hide();$(success\_message).hide();$(loader).hide();$(tests).hide()}else{$(error\_message\_text).show();$(error\_message\_container).show();$(success\_message\_text).hide();$(success\_message\_choice\_text).hide();$(success\_message).hide();$(loader).hide();$(tests).hide()}}});return false})}})};swalFunc()}); |
* ## [wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js](/changeset/3054445/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Fassets%2Fjs%2Finlined-delay.js "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3043773#L1 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3054445#L1 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | var preloading = false; |
  | 2 | 2 | var allScripts = []; |
  |  | 3 | var allFonts = []; |
  | 3 | 4 | var isTouchDevice = 'ontouchstart' in window || navigator.msMaxTouchPoints; |
  | 4 | 5 | var preloadRunned = false; |
  | […](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3043773#L130) | […](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3054445#L131) |  |
  | 130 | 131 | }); |
  | 131 | 132 |  |
  | 132 |  |  |
  | 133 | 133 | // Remove Preloader |
  | 134 | 134 | const aFPreloader = document.getElementById('af-preloader'); |
  | […](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3043773#L140) | […](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3054445#L140) |  |
  | 140 | 140 | loadJs(); |
  | 141 | 141 | } |
  |  | 142 |  |
  | 142 | 143 | preload(); |
  | 143 | 144 | } |
  | […](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3043773#L153) | […](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3054445#L154) |  |
  | 153 | 154 |  |
  | 154 | 155 | window.removeEventListener('DOMContentLoaded', preloadScriptsFunc); |
  |  | 156 |  |
  |  | 157 | allFonts = [].slice.call(document.querySelectorAll('link[rel="wpc-lazy-font"]')); |
  |  | 158 | loadFonts(); |
  | 155 | 159 |  |
  | 156 | 160 | if (allScripts.length > 0) { |
  | […](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3043773#L273) | […](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.js?rev=3054445#L277) |  |
  | 273 | 277 | document.body.appendChild(newElement); |
  | 274 | 278 | } |
  |  | 279 | } |
  |  | 280 |  |
  |  | 281 | function loadFonts() { |
  |  | 282 | allFonts.forEach((element) => { |
  |  | 283 | const elementAs = element.as; |
  |  | 284 | const elementType = element.type; |
  |  | 285 | const fontHref = element.getAttribute('href'); |
  |  | 286 |  |
  |  | 287 | // Only preload external scripts |
  |  | 288 | if (fontHref) { |
  |  | 289 | const link = document.createElement('link'); |
  |  | 290 | link.rel = 'preload'; |
  |  | 291 | link.href = fontHref; |
  |  | 292 | link.as = elementAs; |
  |  | 293 | link.setAttribute('crossorigin', ''); |
  |  | 294 | link.type = elementType; // Optional: Assign the same ID for reference |
  |  | 295 | document.head.appendChild(link); |
  |  | 296 | element.remove(); |
  |  | 297 | } |
  |  | 298 | }); |
  | 275 | 299 | } |
  | 276 | 300 |  |
* ## [wp-compress-image-optimizer/trunk/assets/js/inlined-delay.min.js](/changeset/3054445/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.min.js?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Fassets%2Fjs%2Finlined-delay.min.js "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/assets/js/inlined-delay.min.js")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.min.js?rev=3043773#L1 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/assets/js/inlined-delay.min.js?rev=3054445#L1 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | var preloading=false;var allScripts=[];var ~~isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints;var preloadRunned=false;var triggerDomEvent=n489D\_vars.triggerDomEvent;var delayOn=n489D\_vars.delayOn;var scrollTriggered=false;window.addEventListener("load",function(){var scrollTop=window.scrollY;if(scrollTop>60){scrollTriggered=true;mouseMoveFun();preload()}setTimeout(function(){if(!scrollTriggered){scrollTriggered=true;var scrollTop=window.scrollY;if(scrollTop>60){mouseMoveFun();preload()}}},100)});function preload(){if(!preloading){preloading=true}else{return}var iframes=[].slice.call(document.querySelectorAll("iframe.wpc-iframe-delay"));var styles=[].slice.call(document.querySelectorAll('[rel="wpc-stylesheet"],[type="wpc-stylesheet"]'));var mobileStyles=[].slice.call(document.querySelectorAll('[rel="wpc-mobile-stylesheet"],[type="wpc-mobile-stylesheet"]'));var customPromiseFlag=[];styles.forEach(function(element,index){var promise=new Promise(function(resolve,reject){if(element.tagName.toLowerCase()==="link"){element.setAttribute("rel","stylesheet")}element.setAttribute("type","text/css");element.addEventListener("load",function(){resolve()});element.addEventListener("error",function(){reject()})});customPromiseFlag.push(promise)});styles=[];iframes.forEach(function(element,index){var promise=new Promise(function(resolve,reject){var iframeUrl=element.getAttribute("data-src");element.setAttribute("src",iframeUrl);element.addEventListener("load",function(){resolve()});element.addEventListener("error",function(){reject()})});customPromiseFlag.push(promise)});iframes=[];mobileStyles.forEach(function(element,index){var promise=new Promise(function(resolve,reject){if(element.tagName.toLowerCase()==="link"){element.setAttribute("rel","stylesheet")}element.setAttribute("type","text/css");element.addEventListener("load",function(){resolve()});element.addEventListener("error",function(){reject()})});customPromiseFlag.push(promise)});mobileStyles=[];Promise.all(customPromiseFlag).then(function(){preloading=false;iframes=[].slice.call(document.querySelectorAll("iframe.wpc-iframe-delay"));styles=[].slice.call(document.querySelectorAll('[rel="wpc-stylesheet"],[type="wpc-stylesheet"]'));mobileStyles=[].slice.call(document.querySelectorAll('[rel="wpc-mobile-stylesheet"],[type="wpc-mobile-stylesheet"]'));if(iframes.length!==0||styles.length!==0||mobileStyles.length!==0){preload()}var criticalCss=document.querySelector("#wpc-critical-css");if(criticalCss){criticalCss.remove()}}).catch(function(){styles.forEach(function(element,index){if(element.tagName.toLowerCase()==="link"){element.setAttribute("rel","stylesheet")}element.setAttribute("type","text/css")})});window.removeEventListener("load",preload)}function mouseMoveFun(){window.removeEventListener("mousemove",mouseMoveFun);allScripts=[].slice.call(document.querySelectorAll('script[type="wpc-delay-script"]')).filter(function(script){return!/-before$|-after$|-extra$/.test(script.id)});const aFPreloader=document.getElementById("af-preloader");if(aFPreloader){aFPreloader.remove()}if(allScripts.length>0){loadJs()}preload()}window.addEventListener("mousemove",mouseMoveFun);if(isTouchDevice){window.addEventListener("touchstart",mouseMoveFun)}function preloadScriptsFunc(){allScripts=[].slice.call(document.querySelectorAll('script[type="wpc-delay-script"]'));window.removeEventListener("DOMContentLoaded",preloadScriptsFunc);if(allScripts.length>0){startPreloading()}}preloadScriptsFunc();function startPreloadingNext(){setTimeout(function(){startPreloading()},10);return}function startPreloading(){if(allScripts.length===0){return true}element=allScripts[0];allScripts.splice(0,1);if(!element.hasAttribute("src")&&!element.id.includes("-before")&&!element.id.includes("-after")&&!element.id.includes("-extra")){}else{if(element!==null){var src=element.getAttribute("src");if(src!==null){if(!src.includes("gtag")&&!src.includes("googletag")){var new\_element=document.createElement("link");new\_element.setAttribute("rel","preload");new\_element.setAttribute("href",src);new\_element.setAttribute("as","script");document.head.appendChild(new\_element)}else{element.setAttribute("type","text/javascript");element.defer=true;element.async=false;allScripts.shift()}}}}startPreloadingNext();return true}var loadJsRunning=false;var dispatchedEvents=false;function loadJsNext(){if(allScripts.length===0){allScripts=[].slice.call(document.querySelectorAll('script[type="wpc-delay-script"]')).filter(function(script){return!/-before$|-after$|-extra$/.test(script.id)});const aFPreloader=document.getElementById("af-preloader");if(aFPreloader){aFPreloader.remove()}if(allScripts.length>0){loadJs();return}if(!dispatchedEvents){dispatchedEvents=true;if(typeof triggerDomEvent!=="undefined"&&triggerDomEvent!=="false"){window.document.dispatchEvent(new Event("DOMContentLoaded"));window.document.dispatchEvent(new Event("resize"));window.dispatchEvent(new Event("load"))}if(typeof elementorFrontend!=="undefined"&&delayOn!=="false"){elementorFrontend.init()}}setTimeout(function(){var slider=document.getElementsByClassName("banner-image");if(slider!==null&&slider.length!==0&&slider!==undefined){for(var i=0;i<slider.length;i++){slider[i].style.display="block"}}var gForm=document.getElementsByClassName("gform\_wrapper");if(gForm!==null&&gForm.length!==0&&gForm!==undefined){for(var i=0;i<gForm.length;i++){gForm[i].style.display="block"}}},300)}else{loadJs()}}function whereToAppend(originalElement,newElement){var isInHead=false;if(isInHead){}else{document.body.appendChild(newElement)}~~}var dispatchedEventsLoadJs=false;function loadJs(){allScripts.forEach(element=>{const elementID=element.id;const scriptSrc=element.getAttribute("src");if(scriptSrc){const link=document.createElement("link");link.rel="preload";link.href=scriptSrc;link.as="script";link.id=elementID;document.head.appendChild(link)}});return new Promise(resolve=>{if(allScripts.length===0){if(!dispatchedEventsLoadJs){dispatchedEventsLoadJs=true;if(typeof triggerDomEvent!=="undefined"&&triggerDomEvent!=="false"){window.document.dispatchEvent(new Event("DOMContentLoaded"));window.document.dispatchEvent(new Event("resize"));window.dispatchEvent(new Event("load"));console.log("Dom Triggered")}else{console.log("Dom Not Triggered")}}resolve(true);return}var element=allScripts[0];var elementID=element.id;allScripts.splice(0,1);var jsBefore=document.getElementById(elementID+"-before");var jsAfter=document.getElementById(elementID+"-after");var jsExtra=document.getElementById(elementID+"-extra");function loadScript(newElement,source,id){var scriptSrc=source?source.getAttribute("src"):null;return new Promise(resolveScript=>{if(scriptSrc){newElement.onload=()=>{resolveScript()};newElement.onerror=()=>{console.error("Error loading script "+scriptSrc);resolveScript()};document.head.insertBefore(newElement,document.head.firstChild);source.remove()}else if(source){newElement.textContent=source.textContent;document.head.insertBefore(newElement,document.head.firstChild);source.remove();resolveScript()}else{resolveScript()}})}Promise.all([loadScript(createScript(jsBefore),jsBefore,elementID+"-before"),loadScript(createScript(jsExtra),jsExtra,elementID+"-extra")]).then(()=>{var new\_element=createScript(element);loadScript(new\_element,element,elementID).then(()=>{loadScript(createScript(jsAfter),jsAfter,elementID+"-after"),loadJsNext();resolve(true)})}).catch(error=>{console.error(error)})})}function createScript(sourceElement){if(sourceElement!==null){var newElement=document.createElement("script");newElement.setAttribute("type","text/javascript");newElement.setAttribute("id",sourceElement.getAttribute("id"));newElement.setAttribute("data-loaded","createdScript");newElement.async=false;if(sourceElement!==null){if(sourceElement.getAttribute("src")!==null){newElement.setAttribute("src",sourceElement.getAttribute("src"))}else{newElement.textContent=sourceElement.textContent}}return newElement}} |
  |  | 1 | var preloading=false;var allScripts=[];var allFonts=[];var isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints;var preloadRunned=false;var triggerDomEvent=n489D\_vars.triggerDomEvent;var delayOn=n489D\_vars.delayOn;var scrollTriggered=false;window.addEventListener("load",function(){var scrollTop=window.scrollY;if(scrollTop>60){scrollTriggered=true;mouseMoveFun();preload()}setTimeout(function(){if(!scrollTriggered){scrollTriggered=true;var scrollTop=window.scrollY;if(scrollTop>60){mouseMoveFun();preload()}}},100)});function preload(){if(!preloading){preloading=true}else{return}var iframes=[].slice.call(document.querySelectorAll("iframe.wpc-iframe-delay"));var styles=[].slice.call(document.querySelectorAll('[rel="wpc-stylesheet"],[type="wpc-stylesheet"]'));var mobileStyles=[].slice.call(document.querySelectorAll('[rel="wpc-mobile-stylesheet"],[type="wpc-mobile-stylesheet"]'));var customPromiseFlag=[];styles.forEach(function(element,index){var promise=new Promise(function(resolve,reject){if(element.tagName.toLowerCase()==="link"){element.setAttribute("rel","stylesheet")}element.setAttribute("type","text/css");element.addEventListener("load",function(){resolve()});element.addEventListener("error",function(){reject()})});customPromiseFlag.push(promise)});styles=[];iframes.forEach(function(element,index){var promise=new Promise(function(resolve,reject){var iframeUrl=element.getAttribute("data-src");element.setAttribute("src",iframeUrl);element.addEventListener("load",function(){resolve()});element.addEventListener("error",function(){reject()})});customPromiseFlag.push(promise)});iframes=[];mobileStyles.forEach(function(element,index){var promise=new Promise(function(resolve,reject){if(element.tagName.toLowerCase()==="link"){element.setAttribute("rel","stylesheet")}element.setAttribute("type","text/css");element.addEventListener("load",function(){resolve()});element.addEventListener("error",function(){reject()})});customPromiseFlag.push(promise)});mobileStyles=[];Promise.all(customPromiseFlag).then(function(){preloading=false;iframes=[].slice.call(document.querySelectorAll("iframe.wpc-iframe-delay"));styles=[].slice.call(document.querySelectorAll('[rel="wpc-stylesheet"],[type="wpc-stylesheet"]'));mobileStyles=[].slice.call(document.querySelectorAll('[rel="wpc-mobile-stylesheet"],[type="wpc-mobile-stylesheet"]'));if(iframes.length!==0||styles.length!==0||mobileStyles.length!==0){preload()}var criticalCss=document.querySelector("#wpc-critical-css");if(criticalCss){criticalCss.remove()}}).catch(function(){styles.forEach(function(element,index){if(element.tagName.toLowerCase()==="link"){element.setAttribute("rel","stylesheet")}element.setAttribute("type","text/css")})});window.removeEventListener("load",preload)}function mouseMoveFun(){window.removeEventListener("mousemove",mouseMoveFun);allScripts=[].slice.call(document.querySelectorAll('script[type="wpc-delay-script"]')).filter(function(script){return!/-before$|-after$|-extra$/.test(script.id)});const aFPreloader=document.getElementById("af-preloader");if(aFPreloader){aFPreloader.remove()}if(allScripts.length>0){loadJs()}preload()}window.addEventListener("mousemove",mouseMoveFun);if(isTouchDevice){window.addEventListener("touchstart",mouseMoveFun)}function preloadScriptsFunc(){allScripts=[].slice.call(document.querySelectorAll('script[type="wpc-delay-script"]'));window.removeEventListener("DOMContentLoaded",preloadScriptsFunc);allFonts=[].slice.call(document.querySelectorAll('link[rel="wpc-lazy-font"]'));loadFonts();if(allScripts.length>0){startPreloading()}}preloadScriptsFunc();function startPreloadingNext(){setTimeout(function(){startPreloading()},10);return}function startPreloading(){if(allScripts.length===0){return true}element=allScripts[0];allScripts.splice(0,1);if(!element.hasAttribute("src")&&!element.id.includes("-before")&&!element.id.includes("-after")&&!element.id.includes("-extra")){}else{if(element!==null){var src=element.getAttribute("src");if(src!==null){if(!src.includes("gtag")&&!src.includes("googletag")){var new\_element=document.createElement("link");new\_element.setAttribute("rel","preload");new\_element.setAttribute("href",src);new\_element.setAttribute("as","script");document.head.appendChild(new\_element)}else{element.setAttribute("type","text/javascript");element.defer=true;element.async=false;allScripts.shift()}}}}startPreloadingNext();return true}var loadJsRunning=false;var dispatchedEvents=false;function loadJsNext(){if(allScripts.length===0){allScripts=[].slice.call(document.querySelectorAll('script[type="wpc-delay-script"]')).filter(function(script){return!/-before$|-after$|-extra$/.test(script.id)});const aFPreloader=document.getElementById("af-preloader");if(aFPreloader){aFPreloader.remove()}if(allScripts.length>0){loadJs();return}if(!dispatchedEvents){dispatchedEvents=true;if(typeof triggerDomEvent!=="undefined"&&triggerDomEvent!=="false"){window.document.dispatchEvent(new Event("DOMContentLoaded"));window.document.dispatchEvent(new Event("resize"));window.dispatchEvent(new Event("load"))}if(typeof elementorFrontend!=="undefined"&&delayOn!=="false"){elementorFrontend.init()}}setTimeout(function(){var slider=document.getElementsByClassName("banner-image");if(slider!==null&&slider.length!==0&&slider!==undefined){for(var i=0;i<slider.length;i++){slider[i].style.display="block"}}var gForm=document.getElementsByClassName("gform\_wrapper");if(gForm!==null&&gForm.length!==0&&gForm!==undefined){for(var i=0;i<gForm.length;i++){gForm[i].style.display="block"}}},300)}else{loadJs()}}function whereToAppend(originalElement,newElement){var isInHead=false;if(isInHead){}else{document.body.appendChild(newElement)}}function loadFonts(){allFonts.forEach(element=>{const elementAs=element.as;const elementType=element.type;const fontHref=element.getAttribute("href");if(fontHref){const link=document.createElement("link");link.rel="preload";link.href=fontHref;link.as=elementAs;link.setAttribute("crossorigin","");link.type=elementType;document.head.appendChild(link);element.remove()}})}var dispatchedEventsLoadJs=false;function loadJs(){allScripts.forEach(element=>{const elementID=element.id;const scriptSrc=element.getAttribute("src");if(scriptSrc){const link=document.createElement("link");link.rel="preload";link.href=scriptSrc;link.as="script";link.id=elementID;document.head.appendChild(link)}});return new Promise(resolve=>{if(allScripts.length===0){if(!dispatchedEventsLoadJs){dispatchedEventsLoadJs=true;if(typeof triggerDomEvent!=="undefined"&&triggerDomEvent!=="false"){window.document.dispatchEvent(new Event("DOMContentLoaded"));window.document.dispatchEvent(new Event("resize"));window.dispatchEvent(new Event("load"));console.log("Dom Triggered")}else{console.log("Dom Not Triggered")}}resolve(true);return}var element=allScripts[0];var elementID=element.id;allScripts.splice(0,1);var jsBefore=document.getElementById(elementID+"-before");var jsAfter=document.getElementById(elementID+"-after");var jsExtra=document.getElementById(elementID+"-extra");function loadScript(newElement,source,id){var scriptSrc=source?source.getAttribute("src"):null;return new Promise(resolveScript=>{if(scriptSrc){newElement.onload=()=>{resolveScript()};newElement.onerror=()=>{console.error("Error loading script "+scriptSrc);resolveScript()};document.head.insertBefore(newElement,document.head.firstChild);source.remove()}else if(source){newElement.textContent=source.textContent;document.head.insertBefore(newElement,document.head.firstChild);source.remove();resolveScript()}else{resolveScript()}})}Promise.all([loadScript(createScript(jsBefore),jsBefore,elementID+"-before"),loadScript(createScript(jsExtra),jsExtra,elementID+"-extra")]).then(()=>{var new\_element=createScript(element);loadScript(new\_element,element,elementID).then(()=>{loadScript(createScript(jsAfter),jsAfter,elementID+"-after"),loadJsNext();resolve(true)})}).catch(error=>{console.error(error)})})}function createScript(sourceElement){if(sourceElement!==null){var newElement=document.createElement("script");newElement.setAttribute("type","text/javascript");newElement.setAttribute("id",sourceElement.getAttribute("id"));newElement.setAttribute("data-loaded","createdScript");newElement.async=false;if(sourceElement!==null){if(sourceElement.getAttribute("src")!==null){newElement.setAttribute("src",sourceElement.getAttribute("src"))}else{newElement.textContent=sourceElement.textContent}}return newElement}} |
* ## [wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.js](/changeset/3054445/wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.js?old=2813778&old_path=wp-compress-image-optimizer%2Ftrunk%2Fassets%2Ftooltip%2Fjs%2Ftooltipster.bundle.js "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.js")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.js?rev=2813778#L3026 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.js?rev=3054445#L3026 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 3026 | 3026 | } |
  | 3027 | 3027 | else if (debug) { |
  | 3028 |  | console.log('Tooltipster: one or more tooltips are already attached to the element below. Ignoring.'); |
  | 3029 |  | console.log(this); |
  |  | 3028 | //console.log('Tooltipster: one or more tooltips are already attached to the element below. Ignoring.'); |
  |  | 3029 | //console.log(this); |
  | 3030 | 3030 | } |
  | 3031 | 3031 |  |
* ## [wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.min.js](/changeset/3054445/wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.min.js?old=2450023&old_path=wp-compress-image-optimizer%2Ftrunk%2Fassets%2Ftooltip%2Fjs%2Ftooltipster.bundle.min.js "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.min.js")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.min.js?rev=2450023#L1 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/assets/tooltip/js/tooltipster.bundle.min.js?rev=3054445#L1 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (function(root,factory){if(typeof define==="function"&&define.amd){define(["jquery"],function(a0){return factory(a0)})}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(this,function($){var defaults={animation:"fade",animationDuration:350,content:null,contentAsHTML:false,contentCloning:false,debug:true,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:false,multiple:false,parent:null,plugins:["sideTip"],repositionOnScroll:false,restoration:"none",selfDestruction:true,theme:[],timer:0,trackerInterval:500,trackOrigin:false,trackTooltip:false,trigger:"hover",triggerClose:{click:false,mouseleave:false,originClick:false,scroll:false,tap:false,touchleave:false},triggerOpen:{click:false,mouseenter:false,tap:false,touchstart:false},updateAnimation:"rotate",zIndex:9999999},win=typeof window!="undefined"?window:null,env={hasTouchCapability:!!(win&&("ontouchstart"in win||win.DocumentTouch&&win.document instanceof win.DocumentTouch||win.navigator.maxTouchPoints)),hasTransitions:transitionSupport(),IE:false,semVer:"4.2.6",window:win},core=function(){this.\_\_$emitterPrivate=$({});this.\_\_$emitterPublic=$({});this.\_\_instancesLatestArr=[];this.\_\_plugins={};this.\_env=env};core.prototype={\_\_bridge:function(constructor,obj,pluginName){if(!obj[pluginName]){var fn=function(){};fn.prototype=constructor;var pluginInstance=new fn;if(pluginInstance.\_\_init){pluginInstance.\_\_init(obj)}$.each(constructor,function(methodName,fn){if(methodName.indexOf("\_\_")!=0){if(!obj[methodName]){obj[methodName]=function(){return pluginInstance[methodName].apply(pluginInstance,Array.prototype.slice.apply(arguments))};obj[methodName].bridged=pluginInstance}else if(defaults.debug){console.log("The "+methodName+" method of the "+pluginName+" plugin conflicts with another plugin or native methods")}}});obj[pluginName]=pluginInstance}return this},\_\_setWindow:function(window){env.window=window;return this},\_getRuler:function($tooltip){return new Ruler($tooltip)},\_off:function(){this.\_\_$emitterPrivate.off.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_on:function(){this.\_\_$emitterPrivate.on.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_one:function(){this.\_\_$emitterPrivate.one.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_plugin:function(plugin){var self=this;if(typeof plugin=="string"){var pluginName=plugin,p=null;if(pluginName.indexOf(".")>0){p=self.\_\_plugins[pluginName]}else{$.each(self.\_\_plugins,function(i,plugin){if(plugin.name.substring(plugin.name.length-pluginName.length-1)=="."+pluginName){p=plugin;return false}})}return p}else{if(plugin.name.indexOf(".")<0){throw new Error("Plugins must be namespaced")}self.\_\_plugins[plugin.name]=plugin;if(plugin.core){self.\_\_bridge(plugin.core,self,plugin.name)}return this}},\_trigger:function(){var args=Array.prototype.slice.apply(arguments);if(typeof args[0]=="string"){args[0]={type:args[0]}}this.\_\_$emitterPrivate.trigger.apply(this.\_\_$emitterPrivate,args);this.\_\_$emitterPublic.trigger.apply(this.\_\_$emitterPublic,args);return this},instances:function(selector){var instances=[],sel=selector||".tooltipstered";$(sel).each(function(){var $this=$(this),ns=$this.data("tooltipster-ns");if(ns){$.each(ns,function(i,namespace){instances.push($this.data(namespace))})}});return instances},instancesLatest:function(){return this.\_\_instancesLatestArr},off:function(){this.\_\_$emitterPublic.off.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments));return this},on:function(){this.\_\_$emitterPublic.on.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments));return this},one:function(){this.\_\_$emitterPublic.one.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments));return this},origins:function(selector){var sel=selector?selector+" ":"";return $(sel+".tooltipstered").toArray()},setDefaults:function(d){$.extend(defaults,d);return this},triggerHandler:function(){this.\_\_$emitterPublic.triggerHandler.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments));return this}};$.tooltipster=new core;$.Tooltipster=function(element,options){this.\_\_callbacks={close:[],open:[]};this.\_\_closingTime;this.\_\_Content;this.\_\_contentBcr;this.\_\_destroyed=false;this.\_\_$emitterPrivate=$({});this.\_\_$emitterPublic=$({});this.\_\_enabled=true;this.\_\_garbageCollector;this.\_\_Geometry;this.\_\_lastPosition;this.\_\_namespace="tooltipster-"+Math.round(Math.random()\*1e6);this.\_\_options;this.\_\_$originParents;this.\_\_pointerIsOverOrigin=false;this.\_\_previousThemes=[];this.\_\_state="closed";this.\_\_timeouts={close:[],open:null};this.\_\_touchEvents=[];this.\_\_tracker=null;this.\_$origin;this.\_$tooltip;this.\_\_init(element,options)};$.Tooltipster.prototype={\_\_init:function(origin,options){var self=this;self.\_$origin=$(origin);self.\_\_options=$.extend(true,{},defaults,options);self.\_\_optionsFormat();if(!env.IE||env.IE>=self.\_\_options.IEmin){var initialTitle=null;if(self.\_$origin.data("tooltipster-initialTitle")===undefined){initialTitle=self.\_$origin.attr("title");if(initialTitle===undefined)initialTitle=null;self.\_$origin.data("tooltipster-initialTitle",initialTitle)}if(self.\_\_options.content!==null){self.\_\_contentSet(self.\_\_options.content)}else{var selector=self.\_$origin.attr("data-tooltip-content"),$el;if(selector){$el=$(selector)}if($el&&$el[0]){self.\_\_contentSet($el.first())}else{self.\_\_contentSet(initialTitle)}}self.\_$origin.removeAttr("title").addClass("tooltipstered");self.\_\_prepareOrigin();self.\_\_prepareGC();$.each(self.\_\_options.plugins,function(i,pluginName){self.\_plug(pluginName)});if(env.hasTouchCapability){$(env.window.document.body).on("touchmove."+self.\_\_namespace+"-triggerOpen",function(event){self.\_touchRecordEvent(event)})}self.\_on("created",function(){self.\_\_prepareTooltip()}).\_on("repositioned",function(e){self.\_\_lastPosition=e.position})}else{self.\_\_options.disabled=true}},\_\_contentInsert:function(){var self=this,$el=self.\_$tooltip.find(".tooltipster-content"),formattedContent=self.\_\_Content,format=function(content){formattedContent=content};self.\_trigger({type:"format",content:self.\_\_Content,format:format});if(self.\_\_options.functionFormat){formattedContent=self.\_\_options.functionFormat.call(self,self,{origin:self.\_$origin[0]},self.\_\_Content)}if(typeof formattedContent==="string"&&!self.\_\_options.contentAsHTML){$el.text(formattedContent)}else{$el.empty().append(formattedContent)}return self},\_\_contentSet:function(content){if(content instanceof $&&this.\_\_options.contentCloning){content=content.clone(true)}this.\_\_Content=content;this.\_trigger({type:"updated",content:content});return this},\_\_destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},\_\_geometry:function(){var self=this,$target=self.\_$origin,originIsArea=self.\_$origin.is("area");if(originIsArea){var mapName=self.\_$origin.parent().attr("name");$target=$('img[usemap="#'+mapName+'"]')}var bcr=$target[0].getBoundingClientRect(),$document=$(env.window.document),$window=$(env.window),$parent=$target,geo={available:{document:null,window:null},document:{size:{height:$document.height(),width:$document.width()}},window:{scroll:{left:env.window.scrollX||env.window.document.documentElement.scrollLeft,top:env.window.scrollY||env.window.document.documentElement.scrollTop},size:{height:$window.height(),width:$window.width()}},origin:{fixedLineage:false,offset:{},size:{height:bcr.bottom-bcr.top,width:bcr.right-bcr.left},usemapImage:originIsArea?$target[0]:null,windowOffset:{bottom:bcr.bottom,left:bcr.left,right:bcr.right,top:bcr.top}}},geoFixed=false;if(originIsArea){var shape=self.\_$origin.attr("shape"),coords=self.\_$origin.attr("coords");if(coords){coords=coords.split(",");$.map(coords,function(val,i){coords[i]=parseInt(val)})}if(shape!="default"){switch(shape){case"circle":var circleCenterLeft=coords[0],circleCenterTop=coords[1],circleRadius=coords[2],areaTopOffset=circleCenterTop-circleRadius,areaLeftOffset=circleCenterLeft-circleRadius;geo.origin.size.height=circleRadius\*2;geo.origin.size.width=geo.origin.size.height;geo.origin.windowOffset.left+=areaLeftOffset;geo.origin.windowOffset.top+=areaTopOffset;break;case"rect":var areaLeft=coords[0],areaTop=coords[1],areaRight=coords[2],areaBottom=coords[3];geo.origin.size.height=areaBottom-areaTop;geo.origin.size.width=areaRight-areaLeft;geo.origin.windowOffset.left+=areaLeft;geo.origin.windowOffset.top+=areaTop;break;case"poly":var areaSmallestX=0,areaSmallestY=0,areaGreatestX=0,areaGreatestY=0,arrayAlternate="even";for(var i=0;i<coords.length;i++){var areaNumber=coords[i];if(arrayAlternate=="even"){if(areaNumber>areaGreatestX){areaGreatestX=areaNumber;if(i===0){areaSmallestX=areaGreatestX}}if(areaNumber<areaSmallestX){areaSmallestX=areaNumber}arrayAlternate="odd"}else{if(areaNumber>areaGreatestY){areaGreatestY=areaNumber;if(i==1){areaSmallestY=areaGreatestY}}if(areaNumber<areaSmallestY){areaSmallestY=areaNumber}arrayAlternate="even"}}geo.origin.size.height=areaGreatestY-areaSmallestY;geo.origin.size.width=areaGreatestX-areaSmallestX;geo.origin.windowOffset.left+=areaSmallestX;geo.origin.windowOffset.top+=areaSmallestY;break}}}var edit=function(r){geo.origin.size.height=r.height,geo.origin.windowOffset.left=r.left,geo.origin.windowOffset.top=r.top,geo.origin.size.width=r.width};self.\_trigger({type:"geometry",edit:edit,geometry:{height:geo.origin.size.height,left:geo.origin.windowOffset.left,top:geo.origin.windowOffset.top,width:geo.origin.size.width}});geo.origin.windowOffset.right=geo.origin.windowOffset.left+geo.origin.size.width;geo.origin.windowOffset.bottom=geo.origin.windowOffset.top+geo.origin.size.height;geo.origin.offset.left=geo.origin.windowOffset.left+geo.window.scroll.left;geo.origin.offset.top=geo.origin.windowOffset.top+geo.window.scroll.top;geo.origin.offset.bottom=geo.origin.offset.top+geo.origin.size.height;geo.origin.offset.right=geo.origin.offset.left+geo.origin.size.width;geo.available.document={bottom:{height:geo.document.size.height-geo.origin.offset.bottom,width:geo.document.size.width},left:{height:geo.document.size.height,width:geo.origin.offset.left},right:{height:geo.document.size.height,width:geo.document.size.width-geo.origin.offset.right},top:{height:geo.origin.offset.top,width:geo.document.size.width}};geo.available.window={bottom:{height:Math.max(geo.window.size.height-Math.max(geo.origin.windowOffset.bottom,0),0),width:geo.window.size.width},left:{height:geo.window.size.height,width:Math.max(geo.origin.windowOffset.left,0)},right:{height:geo.window.size.height,width:Math.max(geo.window.size.width-Math.max(geo.origin.windowOffset.right,0),0)},top:{height:Math.max(geo.origin.windowOffset.top,0),width:geo.window.size.width}};while($parent[0].tagName.toLowerCase()!="html"){if($parent.css("position")=="fixed"){geo.origin.fixedLineage=true;break}$parent=$parent.parent()}return geo},\_\_optionsFormat:function(){if(typeof this.\_\_options.animationDuration=="number"){this.\_\_options.animationDuration=[this.\_\_options.animationDuration,this.\_\_options.animationDuration]}if(typeof this.\_\_options.delay=="number"){this.\_\_options.delay=[this.\_\_options.delay,this.\_\_options.delay]}if(typeof this.\_\_options.delayTouch=="number"){this.\_\_options.delayTouch=[this.\_\_options.delayTouch,this.\_\_options.delayTouch]}if(typeof this.\_\_options.theme=="string"){this.\_\_options.theme=[this.\_\_options.theme]}if(this.\_\_options.parent===null){this.\_\_options.parent=$(env.window.document.body)}else if(typeof this.\_\_options.parent=="string"){this.\_\_options.parent=$(this.\_\_options.parent)}if(this.\_\_options.trigger=="hover"){this.\_\_options.triggerOpen={mouseenter:true,touchstart:true};this.\_\_options.triggerClose={mouseleave:true,originClick:true,touchleave:true}}else if(this.\_\_options.trigger=="click"){this.\_\_options.triggerOpen={click:true,tap:true};this.\_\_options.triggerClose={click:true,tap:true}}this.\_trigger("options");return this},\_\_prepareGC:function(){var self=this;if(self.\_\_options.selfDestruction){self.\_\_garbageCollector=setInterval(function(){var now=(new Date).getTime();self.\_\_touchEvents=$.grep(self.\_\_touchEvents,function(event,i){return now-event.time>6e4});if(!bodyContains(self.\_$origin)){self.close(function(){self.destroy()})}},2e4)}else{clearInterval(self.\_\_garbageCollector)}return self},\_\_prepareOrigin:function(){var self=this;self.\_$origin.off("."+self.\_\_namespace+"-triggerOpen");if(env.hasTouchCapability){self.\_$origin.on("touchstart."+self.\_\_namespace+"-triggerOpen "+"touchend."+self.\_\_namespace+"-triggerOpen "+"touchcancel."+self.\_\_namespace+"-triggerOpen",function(event){self.\_touchRecordEvent(event)})}if(self.\_\_options.triggerOpen.click||self.\_\_options.triggerOpen.tap&&env.hasTouchCapability){var eventNames="";if(self.\_\_options.triggerOpen.click){eventNames+="click."+self.\_\_namespace+"-triggerOpen "}if(self.\_\_options.triggerOpen.tap&&env.hasTouchCapability){eventNames+="touchend."+self.\_\_namespace+"-triggerOpen"}self.\_$origin.on(eventNames,function(event){if(self.\_touchIsMeaningfulEvent(event)){self.\_open(event)}})}if(self.\_\_options.triggerOpen.mouseenter||self.\_\_options.triggerOpen.touchstart&&env.hasTouchCapability){var eventNames="";if(self.\_\_options.triggerOpen.mouseenter){eventNames+="mouseenter."+self.\_\_namespace+"-triggerOpen "}if(self.\_\_options.triggerOpen.touchstart&&env.hasTouchCapability){eventNames+="touchstart."+self.\_\_namespace+"-triggerOpen"}self.\_$origin.on(eventNames,function(event){if(self.\_touchIsTouchEvent(event)||!self.\_touchIsEmulatedEvent(event)){self.\_\_pointerIsOverOrigin=true;self.\_openShortly(event)}})}if(self.\_\_options.triggerClose.mouseleave||self.\_\_options.triggerClose.touchleave&&env.hasTouchCapability){var eventNames="";if(self.\_\_options.triggerClose.mouseleave){eventNames+="mouseleave."+self.\_\_namespace+"-triggerOpen "}if(self.\_\_options.triggerClose.touchleave&&env.hasTouchCapability){eventNames+="touchend."+self.\_\_namespace+"-triggerOpen touchcancel."+self.\_\_namespace+"-triggerOpen"}self.\_$origin.on(eventNames,function(event){if(self.\_touchIsMeaningfulEvent(event)){self.\_\_pointerIsOverOrigin=false}})}return self},\_\_prepareTooltip:function(){var self=this,p=self.\_\_options.interactive?"auto":"";self.\_$tooltip.attr("id",self.\_\_namespace).css({"pointer-events":p,zIndex:self.\_\_options.zIndex});$.each(self.\_\_previousThemes,function(i,theme){self.\_$tooltip.removeClass(theme)});$.each(self.\_\_options.theme,function(i,theme){self.\_$tooltip.addClass(theme)});self.\_\_previousThemes=$.merge([],self.\_\_options.theme);return self},\_\_scrollHandler:function(event){var self=this;if(self.\_\_options.triggerClose.scroll){self.\_close(event)}else{if(bodyContains(self.\_$origin)&&bodyContains(self.\_$tooltip)){var geo=null;if(event.target===env.window.document){if(!self.\_\_Geometry.origin.fixedLineage){if(self.\_\_options.repositionOnScroll){self.reposition(event)}}}else{geo=self.\_\_geometry();var overflows=false;if(self.\_$origin.css("position")!="fixed"){self.\_\_$originParents.each(function(i,el){var $el=$(el),overflowX=$el.css("overflow-x"),overflowY=$el.css("overflow-y");if(overflowX!="visible"||overflowY!="visible"){var bcr=el.getBoundingClientRect();if(overflowX!="visible"){if(geo.origin.windowOffset.left<bcr.left||geo.origin.windowOffset.right>bcr.right){overflows=true;return false}}if(overflowY!="visible"){if(geo.origin.windowOffset.top<bcr.top||geo.origin.windowOffset.bottom>bcr.bottom){overflows=true;return false}}}if($el.css("position")=="fixed"){return false}})}if(overflows){self.\_$tooltip.css("visibility","hidden")}else{self.\_$tooltip.css("visibility","visible");if(self.\_\_options.repositionOnScroll){self.reposition(event)}else{var offsetLeft=geo.origin.offset.left-self.\_\_Geometry.origin.offset.left,offsetTop=geo.origin.offset.top-self.\_\_Geometry.origin.offset.top;self.\_$tooltip.css({left:self.\_\_lastPosition.coord.left+offsetLeft,top:self.\_\_lastPosition.coord.top+offsetTop})}}}self.\_trigger({type:"scroll",event:event,geo:geo})}}return self},\_\_stateSet:function(state){this.\_\_state=state;this.\_trigger({type:"state",state:state});return this},\_\_timeoutsClear:function(){clearTimeout(this.\_\_timeouts.open);this.\_\_timeouts.open=null;$.each(this.\_\_timeouts.close,function(i,timeout){clearTimeout(timeout)});this.\_\_timeouts.close=[];return this},\_\_trackerStart:function(){var self=this,$content=self.\_$tooltip.find(".tooltipster-content");if(self.\_\_options.trackTooltip){self.\_\_contentBcr=$content[0].getBoundingClientRect()}self.\_\_tracker=setInterval(function(){if(!bodyContains(self.\_$origin)||!bodyContains(self.\_$tooltip)){self.\_close()}else{if(self.\_\_options.trackOrigin){var g=self.\_\_geometry(),identical=false;if(areEqual(g.origin.size,self.\_\_Geometry.origin.size)){if(self.\_\_Geometry.origin.fixedLineage){if(areEqual(g.origin.windowOffset,self.\_\_Geometry.origin.windowOffset)){identical=true}}else{if(areEqual(g.origin.offset,self.\_\_Geometry.origin.offset)){identical=true}}}if(!identical){if(self.\_\_options.triggerClose.mouseleave){self.\_close()}else{self.reposition()}}}if(self.\_\_options.trackTooltip){var currentBcr=$content[0].getBoundingClientRect();if(currentBcr.height!==self.\_\_contentBcr.height||currentBcr.width!==self.\_\_contentBcr.width){self.reposition();self.\_\_contentBcr=currentBcr}}}},self.\_\_options.trackerInterval);return self},\_close:function(event,callback,force){var self=this,ok=true;self.\_trigger({type:"close",event:event,stop:function(){ok=false}});if(ok||force){if(callback)self.\_\_callbacks.close.push(callback);self.\_\_callbacks.open=[];self.\_\_timeoutsClear();var finishCallbacks=function(){$.each(self.\_\_callbacks.close,function(i,c){c.call(self,self,{event:event,origin:self.\_$origin[0]})});self.\_\_callbacks.close=[]};if(self.\_\_state!="closed"){var necessary=true,d=new Date,now=d.getTime(),newClosingTime=now+self.\_\_options.animationDuration[1];if(self.\_\_state=="disappearing"){if(newClosingTime>self.\_\_closingTime&&self.\_\_options.animationDuration[1]>0){necessary=false}}if(necessary){self.\_\_closingTime=newClosingTime;if(self.\_\_state!="disappearing"){self.\_\_stateSet("disappearing")}var finish=function(){clearInterval(self.\_\_tracker);self.\_trigger({type:"closing",event:event});self.\_$tooltip.off("."+self.\_\_namespace+"-triggerClose").removeClass("tooltipster-dying");$(env.window).off("."+self.\_\_namespace+"-triggerClose");self.\_\_$originParents.each(function(i,el){$(el).off("scroll."+self.\_\_namespace+"-triggerClose")});self.\_\_$originParents=null;$(env.window.document.body).off("."+self.\_\_namespace+"-triggerClose");self.\_$origin.off("."+self.\_\_namespace+"-triggerClose");self.\_off("dismissable");self.\_\_stateSet("closed");self.\_trigger({type:"after",event:event});if(self.\_\_options.functionAfter){self.\_\_options.functionAfter.call(self,self,{event:event,origin:self.\_$origin[0]})}finishCallbacks()};if(env.hasTransitions){self.\_$tooltip.css({"-moz-animation-duration":self.\_\_options.animationDuration[1]+"ms","-ms-animation-duration":self.\_\_options.animationDuration[1]+"ms","-o-animation-duration":self.\_\_options.animationDuration[1]+"ms","-webkit-animation-duration":self.\_\_options.animationDuration[1]+"ms","animation-duration":self.\_\_options.animationDuration[1]+"ms","transition-duration":self.\_\_options.animationDuration[1]+"ms"});self.\_$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying");if(self.\_\_options.animationDuration[1]>0){self.\_$tooltip.delay(self.\_\_options.animationDuration[1])}self.\_$tooltip.queue(finish)}else{self.\_$tooltip.stop().fadeOut(self.\_\_options.animationDuration[1],finish)}}}else{finishCallbacks()}}return self},\_off:function(){this.\_\_$emitterPrivate.off.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_on:function(){this.\_\_$emitterPrivate.on.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_one:function(){this.\_\_$emitterPrivate.one.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_open:function(event,callback){var self=this;if(!self.\_\_destroying){if(bodyContains(self.\_$origin)&&self.\_\_enabled){var ok=true;if(self.\_\_state=="closed"){self.\_trigger({type:"before",event:event,stop:function(){ok=false}});if(ok&&self.\_\_options.functionBefore){ok=self.\_\_options.functionBefore.call(self,self,{event:event,origin:self.\_$origin[0]})}}if(ok!==false){if(self.\_\_Content!==null){if(callback){self.\_\_callbacks.open.push(callback)}self.\_\_callbacks.close=[];self.\_\_timeoutsClear();var extraTime,finish=function(){if(self.\_\_state!="stable"){self.\_\_stateSet("stable")}$.each(self.\_\_callbacks.open,function(i,c){c.call(self,self,{origin:self.\_$origin[0],tooltip:self.\_$tooltip[0]})});self.\_\_callbacks.open=[]};if(self.\_\_state!=="closed"){extraTime=0;if(self.\_\_state==="disappearing"){self.\_\_stateSet("appearing");if(env.hasTransitions){self.\_$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show");if(self.\_\_options.animationDuration[0]>0){self.\_$tooltip.delay(self.\_\_options.animationDuration[0])}self.\_$tooltip.queue(finish)}else{self.\_$tooltip.stop().fadeIn(finish)}}else if(self.\_\_state=="stable"){finish()}}else{self.\_\_stateSet("appearing");extraTime=self.\_\_options.animationDuration[0];self.\_\_contentInsert();self.reposition(event,true);if(env.hasTransitions){self.\_$tooltip.addClass("tooltipster-"+self.\_\_options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":self.\_\_options.animationDuration[0]+"ms","-ms-animation-duration":self.\_\_options.animationDuration[0]+"ms","-o-animation-duration":self.\_\_options.animationDuration[0]+"ms","-webkit-animation-duration":self.\_\_options.animationDuration[0]+"ms","animation-duration":self.\_\_options.animationDuration[0]+"ms","transition-duration":self.\_\_options.animationDuration[0]+"ms"});setTimeout(function(){if(self.\_\_state!="closed"){self.\_$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial");if(self.\_\_options.animationDuration[0]>0){self.\_$tooltip.delay(self.\_\_options.animationDuration[0])}self.\_$tooltip.queue(finish)}},0)}else{self.\_$tooltip.css("display","none").fadeIn(self.\_\_options.animationDuration[0],finish)}self.\_\_trackerStart();$(env.window).on("resize."+self.\_\_namespace+"-triggerClose",function(e){var $ae=$(document.activeElement);if(!$ae.is("input")&&!$ae.is("textarea")||!$.contains(self.\_$tooltip[0],$ae[0])){self.reposition(e)}}).on("scroll."+self.\_\_namespace+"-triggerClose",function(e){self.\_\_scrollHandler(e)});self.\_\_$originParents=self.\_$origin.parents();self.\_\_$originParents.each(function(i,parent){$(parent).on("scroll."+self.\_\_namespace+"-triggerClose",function(e){self.\_\_scrollHandler(e)})});if(self.\_\_options.triggerClose.mouseleave||self.\_\_options.triggerClose.touchleave&&env.hasTouchCapability){self.\_on("dismissable",function(event){if(event.dismissable){if(event.delay){timeout=setTimeout(function(){self.\_close(event.event)},event.delay);self.\_\_timeouts.close.push(timeout)}else{self.\_close(event)}}else{clearTimeout(timeout)}});var $elements=self.\_$origin,eventNamesIn="",eventNamesOut="",timeout=null;if(self.\_\_options.interactive){$elements=$elements.add(self.\_$tooltip)}if(self.\_\_options.triggerClose.mouseleave){eventNamesIn+="mouseenter."+self.\_\_namespace+"-triggerClose ";eventNamesOut+="mouseleave."+self.\_\_namespace+"-triggerClose "}if(self.\_\_options.triggerClose.touchleave&&env.hasTouchCapability){eventNamesIn+="touchstart."+self.\_\_namespace+"-triggerClose";eventNamesOut+="touchend."+self.\_\_namespace+"-triggerClose touchcancel."+self.\_\_namespace+"-triggerClose"}$elements.on(eventNamesOut,function(event){if(self.\_touchIsTouchEvent(event)||!self.\_touchIsEmulatedEvent(event)){var delay=event.type=="mouseleave"?self.\_\_options.delay:self.\_\_options.delayTouch;self.\_trigger({delay:delay[1],dismissable:true,event:event,type:"dismissable"})}}).on(eventNamesIn,function(event){if(self.\_touchIsTouchEvent(event)||!self.\_touchIsEmulatedEvent(event)){self.\_trigger({dismissable:false,event:event,type:"dismissable"})}})}if(self.\_\_options.triggerClose.originClick){self.\_$origin.on("click."+self.\_\_namespace+"-triggerClose",function(event){if(!self.\_touchIsTouchEvent(event)&&!self.\_touchIsEmulatedEvent(event)){self.\_close(event)}})}if(self.\_\_options.triggerClose.click||self.\_\_options.triggerClose.tap&&env.hasTouchCapability){setTimeout(function(){if(self.\_\_state!="closed"){var eventNames="",$body=$(env.window.document.body);if(self.\_\_options.triggerClose.click){eventNames+="click."+self.\_\_namespace+"-triggerClose "}if(self.\_\_options.triggerClose.tap&&env.hasTouchCapability){eventNames+="touchend."+self.\_\_namespace+"-triggerClose"}$body.on(eventNames,function(event){if(self.\_touchIsMeaningfulEvent(event)){self.\_touchRecordEvent(event);if(!self.\_\_options.interactive||!$.contains(self.\_$tooltip[0],event.target)){self.\_close(event)}}});if(self.\_\_options.triggerClose.tap&&env.hasTouchCapability){$body.on("touchstart."+self.\_\_namespace+"-triggerClose",function(event){self.\_touchRecordEvent(event)})}}},0)}self.\_trigger("ready");if(self.\_\_options.functionReady){self.\_\_options.functionReady.call(self,self,{origin:self.\_$origin[0],tooltip:self.\_$tooltip[0]})}}if(self.\_\_options.timer>0){var timeout=setTimeout(function(){self.\_close()},self.\_\_options.timer+extraTime);self.\_\_timeouts.close.push(timeout)}}}}}return self},\_openShortly:function(event){var self=this,ok=true;if(self.\_\_state!="stable"&&self.\_\_state!="appearing"){if(!self.\_\_timeouts.open){self.\_trigger({type:"start",event:event,stop:function(){ok=false}});if(ok){var delay=event.type.indexOf("touch")==0?self.\_\_options.delayTouch:self.\_\_options.delay;if(delay[0]){self.\_\_timeouts.open=setTimeout(function(){self.\_\_timeouts.open=null;if(self.\_\_pointerIsOverOrigin&&self.\_touchIsMeaningfulEvent(event)){self.\_trigger("startend");self.\_open(event)}else{self.\_trigger("startcancel")}},delay[0])}else{self.\_trigger("startend");self.\_open(event)}}}}return self},\_optionsExtract:function(pluginName,defaultOptions){var self=this,options=$.extend(true,{},defaultOptions);var pluginOptions=self.\_\_options[pluginName];if(!pluginOptions){pluginOptions={};$.each(defaultOptions,function(optionName,value){var o=self.\_\_options[optionName];if(o!==undefined){pluginOptions[optionName]=o}})}$.each(options,function(optionName,value){if(pluginOptions[optionName]!==undefined){if(typeof value=="object"&&!(value instanceof Array)&&value!=null&&(typeof pluginOptions[optionName]=="object"&&!(pluginOptions[optionName]instanceof Array)&&pluginOptions[optionName]!=null)){$.extend(options[optionName],pluginOptions[optionName])}else{options[optionName]=pluginOptions[optionName]}}});return options},\_plug:function(pluginName){var plugin=$.tooltipster.\_plugin(pluginName);if(plugin){if(plugin.instance){$.tooltipster.\_\_bridge(plugin.instance,this,plugin.name)}}else{throw new Error('The "'+pluginName+'" plugin is not defined')}return this},\_touchIsEmulatedEvent:function(event){var isEmulated=false,now=(new Date).getTime();for(var i=this.\_\_touchEvents.length-1;i>=0;i--){var e=this.\_\_touchEvents[i];if(now-e.time<500){if(e.target===event.target){isEmulated=true}}else{break}}return isEmulated},\_touchIsMeaningfulEvent:function(event){return this.\_touchIsTouchEvent(event)&&!this.\_touchSwiped(event.target)||!this.\_touchIsTouchEvent(event)&&!this.\_touchIsEmulatedEvent(event)},\_touchIsTouchEvent:function(event){return event.type.indexOf("touch")==0},\_touchRecordEvent:function(event){if(this.\_touchIsTouchEvent(event)){event.time=(new Date).getTime();this.\_\_touchEvents.push(event)}return this},\_touchSwiped:function(target){var swiped=false;for(var i=this.\_\_touchEvents.length-1;i>=0;i--){var e=this.\_\_touchEvents[i];if(e.type=="touchmove"){swiped=true;break}else if(e.type=="touchstart"&&target===e.target){break}}return swiped},\_trigger:function(){var args=Array.prototype.slice.apply(arguments);if(typeof args[0]=="string"){args[0]={type:args[0]}}args[0].instance=this;args[0].origin=this.\_$origin?this.\_$origin[0]:null;args[0].tooltip=this.\_$tooltip?this.\_$tooltip[0]:null;this.\_\_$emitterPrivate.trigger.apply(this.\_\_$emitterPrivate,args);$.tooltipster.\_trigger.apply($.tooltipster,args);this.\_\_$emitterPublic.trigger.apply(this.\_\_$emitterPublic,args);return this},\_unplug:function(pluginName){var self=this;if(self[pluginName]){var plugin=$.tooltipster.\_plugin(pluginName);if(plugin.instance){$.each(plugin.instance,function(methodName,fn){if(self[methodName]&&self[methodName].bridged===self[pluginName]){delete self[methodName]}})}if(self[pluginName].\_\_destroy){self[pluginName].\_\_destroy()}delete self[pluginName]}return self},close:function(callback){if(!this.\_\_destroyed){this.\_close(null,callback)}else{this.\_\_destroyError()}return this},content:function(content){var self=this;if(content===undefined){return self.\_\_Content}else{if(!self.\_\_destroyed){self.\_\_contentSet(content);if(self.\_\_Content!==null){if(self.\_\_state!=="closed"){self.\_\_contentInsert();self.reposition();if(self.\_\_options.updateAnimation){if(env.hasTransitions){var animation=self.\_\_options.updateAnimation;self.\_$tooltip.addClass("tooltipster-update-"+animation);setTimeout(function(){if(self.\_\_state!="closed"){self.\_$tooltip.removeClass("tooltipster-update-"+animation)}},1e3)}else{self.\_$tooltip.fadeTo(200,.5,function(){if(self.\_\_state!="closed"){self.\_$tooltip.fadeTo(200,1)}})}}}}else{self.\_close()}}else{self.\_\_destroyError()}return self}},destroy:function(){var self=this;if(!self.\_\_destroyed){if(self.\_\_state!="closed"){self.option("animationDuration",0).\_close(null,null,true)}else{self.\_\_timeoutsClear()}self.\_trigger("destroy");self.\_\_destroyed=true;self.\_$origin.removeData(self.\_\_namespace).off("."+self.\_\_namespace+"-triggerOpen");$(env.window.document.body).off("."+self.\_\_namespace+"-triggerOpen");var ns=self.\_$origin.data("tooltipster-ns");if(ns){if(ns.length===1){var title=null;if(self.\_\_options.restoration=="previous"){title=self.\_$origin.data("tooltipster-initialTitle")}else if(self.\_\_options.restoration=="current"){title=typeof self.\_\_Content=="string"?self.\_\_Content:$("<div></div>").append(self.\_\_Content).html()}if(title){self.\_$origin.attr("title",title)}self.\_$origin.removeClass("tooltipstered");self.\_$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else{ns=$.grep(ns,function(el,i){return el!==self.\_\_namespace});self.\_$origin.data("tooltipster-ns",ns)}}self.\_trigger("destroyed");self.\_off();self.off();self.\_\_Content=null;self.\_\_$emitterPrivate=null;self.\_\_$emitterPublic=null;self.\_\_options.parent=null;self.\_$origin=null;self.\_$tooltip=null;$.tooltipster.\_\_instancesLatestArr=$.grep($.tooltipster.\_\_instancesLatestArr,function(el,i){return self!==el});clearInterval(self.\_\_garbageCollector)}else{self.\_\_destroyError()}return self},disable:function(){if(!this.\_\_destroyed){this.\_close();this.\_\_enabled=false;return this}else{this.\_\_destroyError()}return this},elementOrigin:function(){if(!this.\_\_destroyed){return this.\_$origin[0]}else{this.\_\_destroyError()}},elementTooltip:function(){return this.\_$tooltip?this.\_$tooltip[0]:null},enable:function(){this.\_\_enabled=true;return this},hide:function(callback){return this.close(callback)},instance:function(){return this},off:function(){if(!this.\_\_destroyed){this.\_\_$emitterPublic.off.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments))}return this},on:function(){if(!this.\_\_destroyed){this.\_\_$emitterPublic.on.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments))}else{this.\_\_destroyError()}return this},one:function(){if(!this.\_\_destroyed){this.\_\_$emitterPublic.one.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments))}else{this.\_\_destroyError()}return this},open:function(callback){if(!this.\_\_destroyed){this.\_open(null,callback)}else{this.\_\_destroyError()}return this},option:function(o,val){if(val===undefined){return this.\_\_options[o]}else{if(!this.\_\_destroyed){this.\_\_options[o]=val;this.\_\_optionsFormat();if($.inArray(o,["trigger","triggerClose","triggerOpen"])>=0){this.\_\_prepareOrigin()}if(o==="selfDestruction"){this.\_\_prepareGC()}}else{this.\_\_destroyError()}return this}},reposition:function(event,tooltipIsDetached){var self=this;if(!self.\_\_destroyed){if(self.\_\_state!="closed"&&bodyContains(self.\_$origin)){if(tooltipIsDetached||bodyContains(self.\_$tooltip)){if(!tooltipIsDetached){self.\_$tooltip.detach()}self.\_\_Geometry=self.\_\_geometry();self.\_trigger({type:"reposition",event:event,helper:{geo:self.\_\_Geometry}})}}}else{self.\_\_destroyError()}return self},show:function(callback){return this.open(callback)},status:function(){return{destroyed:this.\_\_destroyed,enabled:this.\_\_enabled,open:this.\_\_state!=="closed",state:this.\_\_state}},triggerHandler:function(){if(!this.\_\_destroyed){this.\_\_$emitterPublic.triggerHandler.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments))}else{this.\_\_destroyError()}return this}};$.fn.tooltipster=function(){var args=Array.prototype.slice.apply(arguments),contentCloningWarning="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(this.length===0){return this}else{if(typeof args[0]==="string"){var v="#\*$~&";this.each(function(){var ns=$(this).data("tooltipster-ns"),self=ns?$(this).data(ns[0]):null;if(self){if(typeof self[args[0]]==="function"){if(this.length>1&&args[0]=="content"&&(args[1]instanceof $||typeof args[1]=="object"&&args[1]!=null&&args[1].tagName)&&!self.\_\_options.contentCloning&&self.\_\_options.debug){console.log(contentCloningWarning)}var resp=self[args[0]](args[1],args[2])}else{throw new Error('Unknown method "'+args[0]+'"')}if(resp!==self||args[0]==="instance"){v=resp;return false}}else{throw new Error("You called Tooltipster's \""+args[0]+'" method on an uninitialized element')}});return v!=="#\*$~&"?v:this}else{$.tooltipster.\_\_instancesLatestArr=[];var multipleIsSet=args[0]&&args[0].multiple!==undefined,multiple=multipleIsSet&&args[0].multiple||!multipleIsSet&&defaults.multiple,contentIsSet=args[0]&&args[0].content!==undefined,content=contentIsSet&&args[0].content||!contentIsSet&&defaults.content,contentCloningIsSet=args[0]&&args[0].contentCloning!==undefined,contentCloning=contentCloningIsSet&&args[0].contentCloning||!contentCloningIsSet&&defaults.contentCloning,debugIsSet=args[0]&&args[0].debug!==undefined,debug=debugIsSet&&args[0].debug||!debugIsSet&&defaults.debug;if(this.length>1&&(content instanceof $||typeof content=="object"&&content!=null&&content.tagName)&&!contentCloning&&debug){console.log(contentCloningWarning)}this.each(function(){var go=false,$this=$(this),ns=$this.data("tooltipster-ns"),obj=null;if(!ns){go=true}else if(multiple){go=true}else if(debug){~~console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring.");console.log(this)~~}if(go){obj=new $.Tooltipster(this,args[0]);if(!ns)ns=[];ns.push(obj.\_\_namespace);$this.data("tooltipster-ns",ns);$this.data(obj.\_\_namespace,obj);if(obj.\_\_options.functionInit){obj.\_\_options.functionInit.call(obj,obj,{origin:this})}obj.\_trigger("init")}$.tooltipster.\_\_instancesLatestArr.push(obj)});return this}}};function Ruler($tooltip){this.$container;this.constraints=null;this.\_\_$tooltip;this.\_\_init($tooltip)}Ruler.prototype={\_\_init:function($tooltip){this.\_\_$tooltip=$tooltip;this.\_\_$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=$('<div class="tooltipster-ruler"></div>').append(this.\_\_$tooltip).appendTo(env.window.document.body)},\_\_forceRedraw:function(){var $p=this.\_\_$tooltip.parent();this.\_\_$tooltip.detach();this.\_\_$tooltip.appendTo($p)},constrain:function(width,height){this.constraints={width:width,height:height};this.\_\_$tooltip.css({display:"block",height:"",overflow:"auto",width:width});return this},destroy:function(){this.\_\_$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""});this.$container.remove()},free:function(){this.constraints=null;this.\_\_$tooltip.css({display:"",height:"",overflow:"visible",width:""});return this},measure:function(){this.\_\_forceRedraw();var tooltipBcr=this.\_\_$tooltip[0].getBoundingClientRect(),result={size:{height:tooltipBcr.height||tooltipBcr.bottom-tooltipBcr.top,width:tooltipBcr.width||tooltipBcr.right-tooltipBcr.left}};if(this.constraints){var $content=this.\_\_$tooltip.find(".tooltipster-content"),height=this.\_\_$tooltip.outerHeight(),contentBcr=$content[0].getBoundingClientRect(),fits={height:height<=this.constraints.height,width:tooltipBcr.width<=this.constraints.width&&contentBcr.width>=$content[0].scrollWidth-1};result.fits=fits.height&&fits.width}if(env.IE&&env.IE<=11&&result.size.width!==env.window.document.documentElement.clientWidth){result.size.width=Math.ceil(result.size.width)+1}return result}};function areEqual(a,b){var same=true;$.each(a,function(i,\_){if(b[i]===undefined||a[i]!==b[i]){same=false;return false}});return same}function bodyContains($obj){var id=$obj.attr("id"),el=id?env.window.document.getElementById(id):null;return el?el===$obj[0]:$.contains(env.window.document.body,$obj[0])}var uA=navigator.userAgent.toLowerCase();if(uA.indexOf("msie")!=-1)env.IE=parseInt(uA.split("msie")[1]);else if(uA.toLowerCase().indexOf("trident")!==-1&&uA.indexOf(" rv:11")!==-1)env.IE=11;else if(uA.toLowerCase().indexOf("edge/")!=-1)env.IE=parseInt(uA.toLowerCase().split("edge/")[1]);function transitionSupport(){if(!win)return false;var b=win.document.body||win.document.documentElement,s=b.style,p="transition",v=["Moz","Webkit","Khtml","O","ms"];if(typeof s[p]=="string"){return true}p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++){if(typeof s[v[i]+p]=="string"){return true}}return false}var pluginName="tooltipster.sideTip";$.tooltipster.\_plugin({name:pluginName,instance:{\_\_defaults:function(){return{arrow:true,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:true}},\_\_init:function(instance){var self=this;self.\_\_instance=instance;self.\_\_namespace="tooltipster-sideTip-"+Math.round(Math.random()\*1e6);self.\_\_previousState="closed";self.\_\_options;self.\_\_optionsFormat();self.\_\_instance.\_on("state."+self.\_\_namespace,function(event){if(event.state=="closed"){self.\_\_close()}else if(event.state=="appearing"&&self.\_\_previousState=="closed"){self.\_\_create()}self.\_\_previousState=event.state});self.\_\_instance.\_on("options."+self.\_\_namespace,function(){self.\_\_optionsFormat()});self.\_\_instance.\_on("reposition."+self.\_\_namespace,function(e){self.\_\_reposition(e.event,e.helper)})},\_\_close:function(){if(this.\_\_instance.content()instanceof $){this.\_\_instance.content().detach()}this.\_\_instance.\_$tooltip.remove();this.\_\_instance.\_$tooltip=null},\_\_create:function(){var $html=$('<div class="tooltipster-base tooltipster-sidetip">'+'<div class="tooltipster-box">'+'<div class="tooltipster-content"></div>'+"</div>"+'<div class="tooltipster-arrow">'+'<div class="tooltipster-arrow-uncropped">'+'<div class="tooltipster-arrow-border"></div>'+'<div class="tooltipster-arrow-background"></div>'+"</div>"+"</div>"+"</div>");if(!this.\_\_options.arrow){$html.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide()}if(this.\_\_options.minWidth){$html.css("min-width",this.\_\_options.minWidth+"px")}if(this.\_\_options.maxWidth){$html.css("max-width",this.\_\_options.maxWidth+"px")}this.\_\_instance.\_$tooltip=$html;this.\_\_instance.\_trigger("created")},\_\_destroy:function(){this.\_\_instance.\_off("."+self.\_\_namespace)},\_\_optionsFormat:function(){var self=this;self.\_\_options=self.\_\_instance.\_optionsExtract(pluginName,self.\_\_defaults());if(self.\_\_options.position){self.\_\_options.side=self.\_\_options.position}if(typeof self.\_\_options.distance!="object"){self.\_\_options.distance=[self.\_\_options.distance]}if(self.\_\_options.distance.length<4){if(self.\_\_options.distance[1]===undefined)self.\_\_options.distance[1]=self.\_\_options.distance[0];if(self.\_\_options.distance[2]===undefined)self.\_\_options.distance[2]=self.\_\_options.distance[0];if(self.\_\_options.distance[3]===undefined)self.\_\_options.distance[3]=self.\_\_options.distance[1];self.\_\_options.distance={top:self.\_\_options.distance[0],right:self.\_\_options.distance[1],bottom:self.\_\_options.distance[2],left:self.\_\_options.distance[3]}}if(typeof self.\_\_options.side=="string"){var opposites={top:"bottom",right:"left",bottom:"top",left:"right"};self.\_\_options.side=[self.\_\_options.side,opposites[self.\_\_options.side]];if(self.\_\_options.side[0]=="left"||self.\_\_options.side[0]=="right"){self.\_\_options.side.push("top","bottom")}else{self.\_\_options.side.push("right","left")}}if($.tooltipster.\_env.IE===6&&self.\_\_options.arrow!==true){self.\_\_options.arrow=false}},\_\_reposition:function(event,helper){var self=this,finalResult,targets=self.\_\_targetFind(helper),testResults=[];self.\_\_instance.\_$tooltip.detach();var $clone=self.\_\_instance.\_$tooltip.clone(),ruler=$.tooltipster.\_getRuler($clone),satisfied=false,animation=self.\_\_instance.option("animation");if(animation){$clone.removeClass("tooltipster-"+animation)}$.each(["window","document"],function(i,container){var takeTest=null;self.\_\_instance.\_trigger({container:container,helper:helper,satisfied:satisfied,takeTest:function(bool){takeTest=bool},results:testResults,type:"positionTest"});if(takeTest==true||takeTest!=false&&satisfied==false&&(container!="window"||self.\_\_options.viewportAware)){for(var i=0;i<self.\_\_options.side.length;i++){var distance={horizontal:0,vertical:0},side=self.\_\_options.side[i];if(side=="top"||side=="bottom"){distance.vertical=self.\_\_options.distance[side]}else{distance.horizontal=self.\_\_options.distance[side]}self.\_\_sideChange($clone,side);$.each(["natural","constrained"],function(i,mode){takeTest=null;self.\_\_instance.\_trigger({container:container,event:event,helper:helper,mode:mode,results:testResults,satisfied:satisfied,side:side,takeTest:function(bool){takeTest=bool},type:"positionTest"});if(takeTest==true||takeTest!=false&&satisfied==false){var testResult={container:container,distance:distance,fits:null,mode:mode,outerSize:null,side:side,size:null,target:targets[side],whole:null};var rulerConfigured=mode=="natural"?ruler.free():ruler.constrain(helper.geo.available[container][side].width-distance.horizontal,helper.geo.available[container][side].height-distance.vertical),rulerResults=rulerConfigured.measure();testResult.size=rulerResults.size;testResult.outerSize={height:rulerResults.size.height+distance.vertical,width:rulerResults.size.width+distance.horizontal};if(mode=="natural"){if(helper.geo.available[container][side].width>=testResult.outerSize.width&&helper.geo.available[container][side].height>=testResult.outerSize.height){testResult.fits=true}else{testResult.fits=false}}else{testResult.fits=rulerResults.fits}if(container=="window"){if(!testResult.fits){testResult.whole=false}else{if(side=="top"||side=="bottom"){testResult.whole=helper.geo.origin.windowOffset.right>=self.\_\_options.minIntersection&&helper.geo.window.size.width-helper.geo.origin.windowOffset.left>=self.\_\_options.minIntersection}else{testResult.whole=helper.geo.origin.windowOffset.bottom>=self.\_\_options.minIntersection&&helper.geo.window.size.height-helper.geo.origin.windowOffset.top>=self.\_\_options.minIntersection}}}testResults.push(testResult);if(testResult.whole){satisfied=true}else{if(testResult.mode=="natural"&&(testResult.fits||testResult.size.width<=helper.geo.available[container][side].width)){return false}}}})}}});self.\_\_instance.\_trigger({edit:function(r){testResults=r},event:event,helper:helper,results:testResults,type:"positionTested"});testResults.sort(function(a,b){if(a.whole&&!b.whole){return-1}else if(!a.whole&&b.whole){return 1}else if(a.whole&&b.whole){var ai=self.\_\_options.side.indexOf(a.side),bi=self.\_\_options.side.indexOf(b.side);if(ai<bi){return-1}else if(ai>bi){return 1}else{return a.mode=="natural"?-1:1}}else{if(a.fits&&!b.fits){return-1}else if(!a.fits&&b.fits){return 1}else if(a.fits&&b.fits){var ai=self.\_\_options.side.indexOf(a.side),bi=self.\_\_options.side.indexOf(b.side);if(ai<bi){return-1}else if(ai>bi){return 1}else{return a.mode=="natural"?-1:1}}else{if(a.container=="document"&&a.side=="bottom"&&a.mode=="natural"){return-1}else{return 1}}}});finalResult=testResults[0];finalResult.coord={};switch(finalResult.side){case"left":case"right":finalResult.coord.top=Math.floor(finalResult.target-finalResult.size.height/2);break;case"bottom":case"top":finalResult.coord.left=Math.floor(finalResult.target-finalResult.size.width/2);break}switch(finalResult.side){case"left":finalResult.coord.left=helper.geo.origin.windowOffset.left-finalResult.outerSize.width;break;case"right":finalResult.coord.left=helper.geo.origin.windowOffset.right+finalResult.distance.horizontal;break;case"top":finalResult.coord.top=helper.geo.origin.windowOffset.top-finalResult.outerSize.height;break;case"bottom":finalResult.coord.top=helper.geo.origin.windowOffset.bottom+finalResult.distance.vertical;break}if(finalResult.container=="window"){if(finalResult.side=="top"||finalResult.side=="bottom"){if(finalResult.coord.left<0){if(helper.geo.origin.windowOffset.right-this.\_\_options.minIntersection>=0){finalResult.coord.left=0}else{finalResult.coord.left=helper.geo.origin.windowOffset.right-this.\_\_options.minIntersection-1}}else if(finalResult.coord.left>helper.geo.window.size.width-finalResult.size.width){if(helper.geo.origin.windowOffset.left+this.\_\_options.minIntersection<=helper.geo.window.size.width){finalResult.coord.left=helper.geo.window.size.width-finalResult.size.width}else{finalResult.coord.left=helper.geo.origin.windowOffset.left+this.\_\_options.minIntersection+1-finalResult.size.width}}}else{if(finalResult.coord.top<0){if(helper.geo.origin.windowOffset.bottom-this.\_\_options.minIntersection>=0){finalResult.coord.top=0}else{finalResult.coord.top=helper.geo.origin.windowOffset.bottom-this.\_\_options.minIntersection-1}}else if(finalResult.coord.top>helper.geo.window.size.height-finalResult.size.height){if(helper.geo.origin.windowOffset.top+this.\_\_options.minIntersection<=helper.geo.window.size.height){finalResult.coord.top=helper.geo.window.size.height-finalResult.size.height}else{finalResult.coord.top=helper.geo.origin.windowOffset.top+this.\_\_options.minIntersection+1-finalResult.size.height}}}}else{if(finalResult.coord.left>helper.geo.window.size.width-finalResult.size.width){finalResult.coord.left=helper.geo.window.size.width-finalResult.size.width}if(finalResult.coord.left<0){finalResult.coord.left=0}}self.\_\_sideChange($clone,finalResult.side);helper.tooltipClone=$clone[0];helper.tooltipParent=self.\_\_instance.option("parent").parent[0];helper.mode=finalResult.mode;helper.whole=finalResult.whole;helper.origin=self.\_\_instance.\_$origin[0];helper.tooltip=self.\_\_instance.\_$tooltip[0];delete finalResult.container;delete finalResult.fits;delete finalResult.mode;delete finalResult.outerSize;delete finalResult.whole;finalResult.distance=finalResult.distance.horizontal||finalResult.distance.vertical;var finalResultClone=$.extend(true,{},finalResult);self.\_\_instance.\_trigger({edit:function(result){finalResult=result},event:event,helper:helper,position:finalResultClone,type:"position"});if(self.\_\_options.functionPosition){var result=self.\_\_options.functionPosition.call(self,self.\_\_instance,helper,finalResultClone);if(result)finalResult=result}ruler.destroy();var arrowCoord,maxVal;if(finalResult.side=="top"||finalResult.side=="bottom"){arrowCoord={prop:"left",val:finalResult.target-finalResult.coord.left};maxVal=finalResult.size.width-this.\_\_options.minIntersection}else{arrowCoord={prop:"top",val:finalResult.target-finalResult.coord.top};maxVal=finalResult.size.height-this.\_\_options.minIntersection}if(arrowCoord.val<this.\_\_options.minIntersection){arrowCoord.val=this.\_\_options.minIntersection}else if(arrowCoord.val>maxVal){arrowCoord.val=maxVal}var originParentOffset;if(helper.geo.origin.fixedLineage){originParentOffset=helper.geo.origin.windowOffset}else{originParentOffset={left:helper.geo.origin.windowOffset.left+helper.geo.window.scroll.left,top:helper.geo.origin.windowOffset.top+helper.geo.window.scroll.top}}finalResult.coord={left:originParentOffset.left+(finalResult.coord.left-helper.geo.origin.windowOffset.left),top:originParentOffset.top+(finalResult.coord.top-helper.geo.origin.windowOffset.top)};self.\_\_sideChange(self.\_\_instance.\_$tooltip,finalResult.side);if(helper.geo.origin.fixedLineage){self.\_\_instance.\_$tooltip.css("position","fixed")}else{self.\_\_instance.\_$tooltip.css("position","")}self.\_\_instance.\_$tooltip.css({left:finalResult.coord.left,top:finalResult.coord.top,height:finalResult.size.height,width:finalResult.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(arrowCoord.prop,arrowCoord.val);self.\_\_instance.\_$tooltip.appendTo(self.\_\_instance.option("parent"));self.\_\_instance.\_trigger({type:"repositioned",event:event,position:finalResult})},\_\_sideChange:function($obj,side){$obj.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+side)},\_\_targetFind:function(helper){var target={},rects=this.\_\_instance.\_$origin[0].getClientRects();if(rects.length>1){var opacity=this.\_\_instance.\_$origin.css("opacity");if(opacity==1){this.\_\_instance.\_$origin.css("opacity",.99);rects=this.\_\_instance.\_$origin[0].getClientRects();this.\_\_instance.\_$origin.css("opacity",1)}}if(rects.length<2){target.top=Math.floor(helper.geo.origin.windowOffset.left+helper.geo.origin.size.width/2);target.bottom=target.top;target.left=Math.floor(helper.geo.origin.windowOffset.top+helper.geo.origin.size.height/2);target.right=target.left}else{var targetRect=rects[0];target.top=Math.floor(targetRect.left+(targetRect.right-targetRect.left)/2);if(rects.length>2){targetRect=rects[Math.ceil(rects.length/2)-1]}else{targetRect=rects[0]}target.right=Math.floor(targetRect.top+(targetRect.bottom-targetRect.top)/2);targetRect=rects[rects.length-1];target.bottom=Math.floor(targetRect.left+(targetRect.right-targetRect.left)/2);if(rects.length>2){targetRect=rects[Math.ceil((rects.length+1)/2)-1]}else{targetRect=rects[rects.length-1]}target.left=Math.floor(targetRect.top+(targetRect.bottom-targetRect.top)/2)}return target}}});return $}); |
  |  | 1 | (function(root,factory){if(typeof define==="function"&&define.amd){define(["jquery"],function(a0){return factory(a0)})}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(this,function($){var defaults={animation:"fade",animationDuration:350,content:null,contentAsHTML:false,contentCloning:false,debug:true,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:false,multiple:false,parent:null,plugins:["sideTip"],repositionOnScroll:false,restoration:"none",selfDestruction:true,theme:[],timer:0,trackerInterval:500,trackOrigin:false,trackTooltip:false,trigger:"hover",triggerClose:{click:false,mouseleave:false,originClick:false,scroll:false,tap:false,touchleave:false},triggerOpen:{click:false,mouseenter:false,tap:false,touchstart:false},updateAnimation:"rotate",zIndex:9999999},win=typeof window!="undefined"?window:null,env={hasTouchCapability:!!(win&&("ontouchstart"in win||win.DocumentTouch&&win.document instanceof win.DocumentTouch||win.navigator.maxTouchPoints)),hasTransitions:transitionSupport(),IE:false,semVer:"4.2.6",window:win},core=function(){this.\_\_$emitterPrivate=$({});this.\_\_$emitterPublic=$({});this.\_\_instancesLatestArr=[];this.\_\_plugins={};this.\_env=env};core.prototype={\_\_bridge:function(constructor,obj,pluginName){if(!obj[pluginName]){var fn=function(){};fn.prototype=constructor;var pluginInstance=new fn;if(pluginInstance.\_\_init){pluginInstance.\_\_init(obj)}$.each(constructor,function(methodName,fn){if(methodName.indexOf("\_\_")!=0){if(!obj[methodName]){obj[methodName]=function(){return pluginInstance[methodName].apply(pluginInstance,Array.prototype.slice.apply(arguments))};obj[methodName].bridged=pluginInstance}else if(defaults.debug){console.log("The "+methodName+" method of the "+pluginName+" plugin conflicts with another plugin or native methods")}}});obj[pluginName]=pluginInstance}return this},\_\_setWindow:function(window){env.window=window;return this},\_getRuler:function($tooltip){return new Ruler($tooltip)},\_off:function(){this.\_\_$emitterPrivate.off.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_on:function(){this.\_\_$emitterPrivate.on.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_one:function(){this.\_\_$emitterPrivate.one.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_plugin:function(plugin){var self=this;if(typeof plugin=="string"){var pluginName=plugin,p=null;if(pluginName.indexOf(".")>0){p=self.\_\_plugins[pluginName]}else{$.each(self.\_\_plugins,function(i,plugin){if(plugin.name.substring(plugin.name.length-pluginName.length-1)=="."+pluginName){p=plugin;return false}})}return p}else{if(plugin.name.indexOf(".")<0){throw new Error("Plugins must be namespaced")}self.\_\_plugins[plugin.name]=plugin;if(plugin.core){self.\_\_bridge(plugin.core,self,plugin.name)}return this}},\_trigger:function(){var args=Array.prototype.slice.apply(arguments);if(typeof args[0]=="string"){args[0]={type:args[0]}}this.\_\_$emitterPrivate.trigger.apply(this.\_\_$emitterPrivate,args);this.\_\_$emitterPublic.trigger.apply(this.\_\_$emitterPublic,args);return this},instances:function(selector){var instances=[],sel=selector||".tooltipstered";$(sel).each(function(){var $this=$(this),ns=$this.data("tooltipster-ns");if(ns){$.each(ns,function(i,namespace){instances.push($this.data(namespace))})}});return instances},instancesLatest:function(){return this.\_\_instancesLatestArr},off:function(){this.\_\_$emitterPublic.off.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments));return this},on:function(){this.\_\_$emitterPublic.on.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments));return this},one:function(){this.\_\_$emitterPublic.one.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments));return this},origins:function(selector){var sel=selector?selector+" ":"";return $(sel+".tooltipstered").toArray()},setDefaults:function(d){$.extend(defaults,d);return this},triggerHandler:function(){this.\_\_$emitterPublic.triggerHandler.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments));return this}};$.tooltipster=new core;$.Tooltipster=function(element,options){this.\_\_callbacks={close:[],open:[]};this.\_\_closingTime;this.\_\_Content;this.\_\_contentBcr;this.\_\_destroyed=false;this.\_\_$emitterPrivate=$({});this.\_\_$emitterPublic=$({});this.\_\_enabled=true;this.\_\_garbageCollector;this.\_\_Geometry;this.\_\_lastPosition;this.\_\_namespace="tooltipster-"+Math.round(Math.random()\*1e6);this.\_\_options;this.\_\_$originParents;this.\_\_pointerIsOverOrigin=false;this.\_\_previousThemes=[];this.\_\_state="closed";this.\_\_timeouts={close:[],open:null};this.\_\_touchEvents=[];this.\_\_tracker=null;this.\_$origin;this.\_$tooltip;this.\_\_init(element,options)};$.Tooltipster.prototype={\_\_init:function(origin,options){var self=this;self.\_$origin=$(origin);self.\_\_options=$.extend(true,{},defaults,options);self.\_\_optionsFormat();if(!env.IE||env.IE>=self.\_\_options.IEmin){var initialTitle=null;if(self.\_$origin.data("tooltipster-initialTitle")===undefined){initialTitle=self.\_$origin.attr("title");if(initialTitle===undefined)initialTitle=null;self.\_$origin.data("tooltipster-initialTitle",initialTitle)}if(self.\_\_options.content!==null){self.\_\_contentSet(self.\_\_options.content)}else{var selector=self.\_$origin.attr("data-tooltip-content"),$el;if(selector){$el=$(selector)}if($el&&$el[0]){self.\_\_contentSet($el.first())}else{self.\_\_contentSet(initialTitle)}}self.\_$origin.removeAttr("title").addClass("tooltipstered");self.\_\_prepareOrigin();self.\_\_prepareGC();$.each(self.\_\_options.plugins,function(i,pluginName){self.\_plug(pluginName)});if(env.hasTouchCapability){$(env.window.document.body).on("touchmove."+self.\_\_namespace+"-triggerOpen",function(event){self.\_touchRecordEvent(event)})}self.\_on("created",function(){self.\_\_prepareTooltip()}).\_on("repositioned",function(e){self.\_\_lastPosition=e.position})}else{self.\_\_options.disabled=true}},\_\_contentInsert:function(){var self=this,$el=self.\_$tooltip.find(".tooltipster-content"),formattedContent=self.\_\_Content,format=function(content){formattedContent=content};self.\_trigger({type:"format",content:self.\_\_Content,format:format});if(self.\_\_options.functionFormat){formattedContent=self.\_\_options.functionFormat.call(self,self,{origin:self.\_$origin[0]},self.\_\_Content)}if(typeof formattedContent==="string"&&!self.\_\_options.contentAsHTML){$el.text(formattedContent)}else{$el.empty().append(formattedContent)}return self},\_\_contentSet:function(content){if(content instanceof $&&this.\_\_options.contentCloning){content=content.clone(true)}this.\_\_Content=content;this.\_trigger({type:"updated",content:content});return this},\_\_destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},\_\_geometry:function(){var self=this,$target=self.\_$origin,originIsArea=self.\_$origin.is("area");if(originIsArea){var mapName=self.\_$origin.parent().attr("name");$target=$('img[usemap="#'+mapName+'"]')}var bcr=$target[0].getBoundingClientRect(),$document=$(env.window.document),$window=$(env.window),$parent=$target,geo={available:{document:null,window:null},document:{size:{height:$document.height(),width:$document.width()}},window:{scroll:{left:env.window.scrollX||env.window.document.documentElement.scrollLeft,top:env.window.scrollY||env.window.document.documentElement.scrollTop},size:{height:$window.height(),width:$window.width()}},origin:{fixedLineage:false,offset:{},size:{height:bcr.bottom-bcr.top,width:bcr.right-bcr.left},usemapImage:originIsArea?$target[0]:null,windowOffset:{bottom:bcr.bottom,left:bcr.left,right:bcr.right,top:bcr.top}}},geoFixed=false;if(originIsArea){var shape=self.\_$origin.attr("shape"),coords=self.\_$origin.attr("coords");if(coords){coords=coords.split(",");$.map(coords,function(val,i){coords[i]=parseInt(val)})}if(shape!="default"){switch(shape){case"circle":var circleCenterLeft=coords[0],circleCenterTop=coords[1],circleRadius=coords[2],areaTopOffset=circleCenterTop-circleRadius,areaLeftOffset=circleCenterLeft-circleRadius;geo.origin.size.height=circleRadius\*2;geo.origin.size.width=geo.origin.size.height;geo.origin.windowOffset.left+=areaLeftOffset;geo.origin.windowOffset.top+=areaTopOffset;break;case"rect":var areaLeft=coords[0],areaTop=coords[1],areaRight=coords[2],areaBottom=coords[3];geo.origin.size.height=areaBottom-areaTop;geo.origin.size.width=areaRight-areaLeft;geo.origin.windowOffset.left+=areaLeft;geo.origin.windowOffset.top+=areaTop;break;case"poly":var areaSmallestX=0,areaSmallestY=0,areaGreatestX=0,areaGreatestY=0,arrayAlternate="even";for(var i=0;i<coords.length;i++){var areaNumber=coords[i];if(arrayAlternate=="even"){if(areaNumber>areaGreatestX){areaGreatestX=areaNumber;if(i===0){areaSmallestX=areaGreatestX}}if(areaNumber<areaSmallestX){areaSmallestX=areaNumber}arrayAlternate="odd"}else{if(areaNumber>areaGreatestY){areaGreatestY=areaNumber;if(i==1){areaSmallestY=areaGreatestY}}if(areaNumber<areaSmallestY){areaSmallestY=areaNumber}arrayAlternate="even"}}geo.origin.size.height=areaGreatestY-areaSmallestY;geo.origin.size.width=areaGreatestX-areaSmallestX;geo.origin.windowOffset.left+=areaSmallestX;geo.origin.windowOffset.top+=areaSmallestY;break}}}var edit=function(r){geo.origin.size.height=r.height,geo.origin.windowOffset.left=r.left,geo.origin.windowOffset.top=r.top,geo.origin.size.width=r.width};self.\_trigger({type:"geometry",edit:edit,geometry:{height:geo.origin.size.height,left:geo.origin.windowOffset.left,top:geo.origin.windowOffset.top,width:geo.origin.size.width}});geo.origin.windowOffset.right=geo.origin.windowOffset.left+geo.origin.size.width;geo.origin.windowOffset.bottom=geo.origin.windowOffset.top+geo.origin.size.height;geo.origin.offset.left=geo.origin.windowOffset.left+geo.window.scroll.left;geo.origin.offset.top=geo.origin.windowOffset.top+geo.window.scroll.top;geo.origin.offset.bottom=geo.origin.offset.top+geo.origin.size.height;geo.origin.offset.right=geo.origin.offset.left+geo.origin.size.width;geo.available.document={bottom:{height:geo.document.size.height-geo.origin.offset.bottom,width:geo.document.size.width},left:{height:geo.document.size.height,width:geo.origin.offset.left},right:{height:geo.document.size.height,width:geo.document.size.width-geo.origin.offset.right},top:{height:geo.origin.offset.top,width:geo.document.size.width}};geo.available.window={bottom:{height:Math.max(geo.window.size.height-Math.max(geo.origin.windowOffset.bottom,0),0),width:geo.window.size.width},left:{height:geo.window.size.height,width:Math.max(geo.origin.windowOffset.left,0)},right:{height:geo.window.size.height,width:Math.max(geo.window.size.width-Math.max(geo.origin.windowOffset.right,0),0)},top:{height:Math.max(geo.origin.windowOffset.top,0),width:geo.window.size.width}};while($parent[0].tagName.toLowerCase()!="html"){if($parent.css("position")=="fixed"){geo.origin.fixedLineage=true;break}$parent=$parent.parent()}return geo},\_\_optionsFormat:function(){if(typeof this.\_\_options.animationDuration=="number"){this.\_\_options.animationDuration=[this.\_\_options.animationDuration,this.\_\_options.animationDuration]}if(typeof this.\_\_options.delay=="number"){this.\_\_options.delay=[this.\_\_options.delay,this.\_\_options.delay]}if(typeof this.\_\_options.delayTouch=="number"){this.\_\_options.delayTouch=[this.\_\_options.delayTouch,this.\_\_options.delayTouch]}if(typeof this.\_\_options.theme=="string"){this.\_\_options.theme=[this.\_\_options.theme]}if(this.\_\_options.parent===null){this.\_\_options.parent=$(env.window.document.body)}else if(typeof this.\_\_options.parent=="string"){this.\_\_options.parent=$(this.\_\_options.parent)}if(this.\_\_options.trigger=="hover"){this.\_\_options.triggerOpen={mouseenter:true,touchstart:true};this.\_\_options.triggerClose={mouseleave:true,originClick:true,touchleave:true}}else if(this.\_\_options.trigger=="click"){this.\_\_options.triggerOpen={click:true,tap:true};this.\_\_options.triggerClose={click:true,tap:true}}this.\_trigger("options");return this},\_\_prepareGC:function(){var self=this;if(self.\_\_options.selfDestruction){self.\_\_garbageCollector=setInterval(function(){var now=(new Date).getTime();self.\_\_touchEvents=$.grep(self.\_\_touchEvents,function(event,i){return now-event.time>6e4});if(!bodyContains(self.\_$origin)){self.close(function(){self.destroy()})}},2e4)}else{clearInterval(self.\_\_garbageCollector)}return self},\_\_prepareOrigin:function(){var self=this;self.\_$origin.off("."+self.\_\_namespace+"-triggerOpen");if(env.hasTouchCapability){self.\_$origin.on("touchstart."+self.\_\_namespace+"-triggerOpen "+"touchend."+self.\_\_namespace+"-triggerOpen "+"touchcancel."+self.\_\_namespace+"-triggerOpen",function(event){self.\_touchRecordEvent(event)})}if(self.\_\_options.triggerOpen.click||self.\_\_options.triggerOpen.tap&&env.hasTouchCapability){var eventNames="";if(self.\_\_options.triggerOpen.click){eventNames+="click."+self.\_\_namespace+"-triggerOpen "}if(self.\_\_options.triggerOpen.tap&&env.hasTouchCapability){eventNames+="touchend."+self.\_\_namespace+"-triggerOpen"}self.\_$origin.on(eventNames,function(event){if(self.\_touchIsMeaningfulEvent(event)){self.\_open(event)}})}if(self.\_\_options.triggerOpen.mouseenter||self.\_\_options.triggerOpen.touchstart&&env.hasTouchCapability){var eventNames="";if(self.\_\_options.triggerOpen.mouseenter){eventNames+="mouseenter."+self.\_\_namespace+"-triggerOpen "}if(self.\_\_options.triggerOpen.touchstart&&env.hasTouchCapability){eventNames+="touchstart."+self.\_\_namespace+"-triggerOpen"}self.\_$origin.on(eventNames,function(event){if(self.\_touchIsTouchEvent(event)||!self.\_touchIsEmulatedEvent(event)){self.\_\_pointerIsOverOrigin=true;self.\_openShortly(event)}})}if(self.\_\_options.triggerClose.mouseleave||self.\_\_options.triggerClose.touchleave&&env.hasTouchCapability){var eventNames="";if(self.\_\_options.triggerClose.mouseleave){eventNames+="mouseleave."+self.\_\_namespace+"-triggerOpen "}if(self.\_\_options.triggerClose.touchleave&&env.hasTouchCapability){eventNames+="touchend."+self.\_\_namespace+"-triggerOpen touchcancel."+self.\_\_namespace+"-triggerOpen"}self.\_$origin.on(eventNames,function(event){if(self.\_touchIsMeaningfulEvent(event)){self.\_\_pointerIsOverOrigin=false}})}return self},\_\_prepareTooltip:function(){var self=this,p=self.\_\_options.interactive?"auto":"";self.\_$tooltip.attr("id",self.\_\_namespace).css({"pointer-events":p,zIndex:self.\_\_options.zIndex});$.each(self.\_\_previousThemes,function(i,theme){self.\_$tooltip.removeClass(theme)});$.each(self.\_\_options.theme,function(i,theme){self.\_$tooltip.addClass(theme)});self.\_\_previousThemes=$.merge([],self.\_\_options.theme);return self},\_\_scrollHandler:function(event){var self=this;if(self.\_\_options.triggerClose.scroll){self.\_close(event)}else{if(bodyContains(self.\_$origin)&&bodyContains(self.\_$tooltip)){var geo=null;if(event.target===env.window.document){if(!self.\_\_Geometry.origin.fixedLineage){if(self.\_\_options.repositionOnScroll){self.reposition(event)}}}else{geo=self.\_\_geometry();var overflows=false;if(self.\_$origin.css("position")!="fixed"){self.\_\_$originParents.each(function(i,el){var $el=$(el),overflowX=$el.css("overflow-x"),overflowY=$el.css("overflow-y");if(overflowX!="visible"||overflowY!="visible"){var bcr=el.getBoundingClientRect();if(overflowX!="visible"){if(geo.origin.windowOffset.left<bcr.left||geo.origin.windowOffset.right>bcr.right){overflows=true;return false}}if(overflowY!="visible"){if(geo.origin.windowOffset.top<bcr.top||geo.origin.windowOffset.bottom>bcr.bottom){overflows=true;return false}}}if($el.css("position")=="fixed"){return false}})}if(overflows){self.\_$tooltip.css("visibility","hidden")}else{self.\_$tooltip.css("visibility","visible");if(self.\_\_options.repositionOnScroll){self.reposition(event)}else{var offsetLeft=geo.origin.offset.left-self.\_\_Geometry.origin.offset.left,offsetTop=geo.origin.offset.top-self.\_\_Geometry.origin.offset.top;self.\_$tooltip.css({left:self.\_\_lastPosition.coord.left+offsetLeft,top:self.\_\_lastPosition.coord.top+offsetTop})}}}self.\_trigger({type:"scroll",event:event,geo:geo})}}return self},\_\_stateSet:function(state){this.\_\_state=state;this.\_trigger({type:"state",state:state});return this},\_\_timeoutsClear:function(){clearTimeout(this.\_\_timeouts.open);this.\_\_timeouts.open=null;$.each(this.\_\_timeouts.close,function(i,timeout){clearTimeout(timeout)});this.\_\_timeouts.close=[];return this},\_\_trackerStart:function(){var self=this,$content=self.\_$tooltip.find(".tooltipster-content");if(self.\_\_options.trackTooltip){self.\_\_contentBcr=$content[0].getBoundingClientRect()}self.\_\_tracker=setInterval(function(){if(!bodyContains(self.\_$origin)||!bodyContains(self.\_$tooltip)){self.\_close()}else{if(self.\_\_options.trackOrigin){var g=self.\_\_geometry(),identical=false;if(areEqual(g.origin.size,self.\_\_Geometry.origin.size)){if(self.\_\_Geometry.origin.fixedLineage){if(areEqual(g.origin.windowOffset,self.\_\_Geometry.origin.windowOffset)){identical=true}}else{if(areEqual(g.origin.offset,self.\_\_Geometry.origin.offset)){identical=true}}}if(!identical){if(self.\_\_options.triggerClose.mouseleave){self.\_close()}else{self.reposition()}}}if(self.\_\_options.trackTooltip){var currentBcr=$content[0].getBoundingClientRect();if(currentBcr.height!==self.\_\_contentBcr.height||currentBcr.width!==self.\_\_contentBcr.width){self.reposition();self.\_\_contentBcr=currentBcr}}}},self.\_\_options.trackerInterval);return self},\_close:function(event,callback,force){var self=this,ok=true;self.\_trigger({type:"close",event:event,stop:function(){ok=false}});if(ok||force){if(callback)self.\_\_callbacks.close.push(callback);self.\_\_callbacks.open=[];self.\_\_timeoutsClear();var finishCallbacks=function(){$.each(self.\_\_callbacks.close,function(i,c){c.call(self,self,{event:event,origin:self.\_$origin[0]})});self.\_\_callbacks.close=[]};if(self.\_\_state!="closed"){var necessary=true,d=new Date,now=d.getTime(),newClosingTime=now+self.\_\_options.animationDuration[1];if(self.\_\_state=="disappearing"){if(newClosingTime>self.\_\_closingTime&&self.\_\_options.animationDuration[1]>0){necessary=false}}if(necessary){self.\_\_closingTime=newClosingTime;if(self.\_\_state!="disappearing"){self.\_\_stateSet("disappearing")}var finish=function(){clearInterval(self.\_\_tracker);self.\_trigger({type:"closing",event:event});self.\_$tooltip.off("."+self.\_\_namespace+"-triggerClose").removeClass("tooltipster-dying");$(env.window).off("."+self.\_\_namespace+"-triggerClose");self.\_\_$originParents.each(function(i,el){$(el).off("scroll."+self.\_\_namespace+"-triggerClose")});self.\_\_$originParents=null;$(env.window.document.body).off("."+self.\_\_namespace+"-triggerClose");self.\_$origin.off("."+self.\_\_namespace+"-triggerClose");self.\_off("dismissable");self.\_\_stateSet("closed");self.\_trigger({type:"after",event:event});if(self.\_\_options.functionAfter){self.\_\_options.functionAfter.call(self,self,{event:event,origin:self.\_$origin[0]})}finishCallbacks()};if(env.hasTransitions){self.\_$tooltip.css({"-moz-animation-duration":self.\_\_options.animationDuration[1]+"ms","-ms-animation-duration":self.\_\_options.animationDuration[1]+"ms","-o-animation-duration":self.\_\_options.animationDuration[1]+"ms","-webkit-animation-duration":self.\_\_options.animationDuration[1]+"ms","animation-duration":self.\_\_options.animationDuration[1]+"ms","transition-duration":self.\_\_options.animationDuration[1]+"ms"});self.\_$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying");if(self.\_\_options.animationDuration[1]>0){self.\_$tooltip.delay(self.\_\_options.animationDuration[1])}self.\_$tooltip.queue(finish)}else{self.\_$tooltip.stop().fadeOut(self.\_\_options.animationDuration[1],finish)}}}else{finishCallbacks()}}return self},\_off:function(){this.\_\_$emitterPrivate.off.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_on:function(){this.\_\_$emitterPrivate.on.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_one:function(){this.\_\_$emitterPrivate.one.apply(this.\_\_$emitterPrivate,Array.prototype.slice.apply(arguments));return this},\_open:function(event,callback){var self=this;if(!self.\_\_destroying){if(bodyContains(self.\_$origin)&&self.\_\_enabled){var ok=true;if(self.\_\_state=="closed"){self.\_trigger({type:"before",event:event,stop:function(){ok=false}});if(ok&&self.\_\_options.functionBefore){ok=self.\_\_options.functionBefore.call(self,self,{event:event,origin:self.\_$origin[0]})}}if(ok!==false){if(self.\_\_Content!==null){if(callback){self.\_\_callbacks.open.push(callback)}self.\_\_callbacks.close=[];self.\_\_timeoutsClear();var extraTime,finish=function(){if(self.\_\_state!="stable"){self.\_\_stateSet("stable")}$.each(self.\_\_callbacks.open,function(i,c){c.call(self,self,{origin:self.\_$origin[0],tooltip:self.\_$tooltip[0]})});self.\_\_callbacks.open=[]};if(self.\_\_state!=="closed"){extraTime=0;if(self.\_\_state==="disappearing"){self.\_\_stateSet("appearing");if(env.hasTransitions){self.\_$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show");if(self.\_\_options.animationDuration[0]>0){self.\_$tooltip.delay(self.\_\_options.animationDuration[0])}self.\_$tooltip.queue(finish)}else{self.\_$tooltip.stop().fadeIn(finish)}}else if(self.\_\_state=="stable"){finish()}}else{self.\_\_stateSet("appearing");extraTime=self.\_\_options.animationDuration[0];self.\_\_contentInsert();self.reposition(event,true);if(env.hasTransitions){self.\_$tooltip.addClass("tooltipster-"+self.\_\_options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":self.\_\_options.animationDuration[0]+"ms","-ms-animation-duration":self.\_\_options.animationDuration[0]+"ms","-o-animation-duration":self.\_\_options.animationDuration[0]+"ms","-webkit-animation-duration":self.\_\_options.animationDuration[0]+"ms","animation-duration":self.\_\_options.animationDuration[0]+"ms","transition-duration":self.\_\_options.animationDuration[0]+"ms"});setTimeout(function(){if(self.\_\_state!="closed"){self.\_$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial");if(self.\_\_options.animationDuration[0]>0){self.\_$tooltip.delay(self.\_\_options.animationDuration[0])}self.\_$tooltip.queue(finish)}},0)}else{self.\_$tooltip.css("display","none").fadeIn(self.\_\_options.animationDuration[0],finish)}self.\_\_trackerStart();$(env.window).on("resize."+self.\_\_namespace+"-triggerClose",function(e){var $ae=$(document.activeElement);if(!$ae.is("input")&&!$ae.is("textarea")||!$.contains(self.\_$tooltip[0],$ae[0])){self.reposition(e)}}).on("scroll."+self.\_\_namespace+"-triggerClose",function(e){self.\_\_scrollHandler(e)});self.\_\_$originParents=self.\_$origin.parents();self.\_\_$originParents.each(function(i,parent){$(parent).on("scroll."+self.\_\_namespace+"-triggerClose",function(e){self.\_\_scrollHandler(e)})});if(self.\_\_options.triggerClose.mouseleave||self.\_\_options.triggerClose.touchleave&&env.hasTouchCapability){self.\_on("dismissable",function(event){if(event.dismissable){if(event.delay){timeout=setTimeout(function(){self.\_close(event.event)},event.delay);self.\_\_timeouts.close.push(timeout)}else{self.\_close(event)}}else{clearTimeout(timeout)}});var $elements=self.\_$origin,eventNamesIn="",eventNamesOut="",timeout=null;if(self.\_\_options.interactive){$elements=$elements.add(self.\_$tooltip)}if(self.\_\_options.triggerClose.mouseleave){eventNamesIn+="mouseenter."+self.\_\_namespace+"-triggerClose ";eventNamesOut+="mouseleave."+self.\_\_namespace+"-triggerClose "}if(self.\_\_options.triggerClose.touchleave&&env.hasTouchCapability){eventNamesIn+="touchstart."+self.\_\_namespace+"-triggerClose";eventNamesOut+="touchend."+self.\_\_namespace+"-triggerClose touchcancel."+self.\_\_namespace+"-triggerClose"}$elements.on(eventNamesOut,function(event){if(self.\_touchIsTouchEvent(event)||!self.\_touchIsEmulatedEvent(event)){var delay=event.type=="mouseleave"?self.\_\_options.delay:self.\_\_options.delayTouch;self.\_trigger({delay:delay[1],dismissable:true,event:event,type:"dismissable"})}}).on(eventNamesIn,function(event){if(self.\_touchIsTouchEvent(event)||!self.\_touchIsEmulatedEvent(event)){self.\_trigger({dismissable:false,event:event,type:"dismissable"})}})}if(self.\_\_options.triggerClose.originClick){self.\_$origin.on("click."+self.\_\_namespace+"-triggerClose",function(event){if(!self.\_touchIsTouchEvent(event)&&!self.\_touchIsEmulatedEvent(event)){self.\_close(event)}})}if(self.\_\_options.triggerClose.click||self.\_\_options.triggerClose.tap&&env.hasTouchCapability){setTimeout(function(){if(self.\_\_state!="closed"){var eventNames="",$body=$(env.window.document.body);if(self.\_\_options.triggerClose.click){eventNames+="click."+self.\_\_namespace+"-triggerClose "}if(self.\_\_options.triggerClose.tap&&env.hasTouchCapability){eventNames+="touchend."+self.\_\_namespace+"-triggerClose"}$body.on(eventNames,function(event){if(self.\_touchIsMeaningfulEvent(event)){self.\_touchRecordEvent(event);if(!self.\_\_options.interactive||!$.contains(self.\_$tooltip[0],event.target)){self.\_close(event)}}});if(self.\_\_options.triggerClose.tap&&env.hasTouchCapability){$body.on("touchstart."+self.\_\_namespace+"-triggerClose",function(event){self.\_touchRecordEvent(event)})}}},0)}self.\_trigger("ready");if(self.\_\_options.functionReady){self.\_\_options.functionReady.call(self,self,{origin:self.\_$origin[0],tooltip:self.\_$tooltip[0]})}}if(self.\_\_options.timer>0){var timeout=setTimeout(function(){self.\_close()},self.\_\_options.timer+extraTime);self.\_\_timeouts.close.push(timeout)}}}}}return self},\_openShortly:function(event){var self=this,ok=true;if(self.\_\_state!="stable"&&self.\_\_state!="appearing"){if(!self.\_\_timeouts.open){self.\_trigger({type:"start",event:event,stop:function(){ok=false}});if(ok){var delay=event.type.indexOf("touch")==0?self.\_\_options.delayTouch:self.\_\_options.delay;if(delay[0]){self.\_\_timeouts.open=setTimeout(function(){self.\_\_timeouts.open=null;if(self.\_\_pointerIsOverOrigin&&self.\_touchIsMeaningfulEvent(event)){self.\_trigger("startend");self.\_open(event)}else{self.\_trigger("startcancel")}},delay[0])}else{self.\_trigger("startend");self.\_open(event)}}}}return self},\_optionsExtract:function(pluginName,defaultOptions){var self=this,options=$.extend(true,{},defaultOptions);var pluginOptions=self.\_\_options[pluginName];if(!pluginOptions){pluginOptions={};$.each(defaultOptions,function(optionName,value){var o=self.\_\_options[optionName];if(o!==undefined){pluginOptions[optionName]=o}})}$.each(options,function(optionName,value){if(pluginOptions[optionName]!==undefined){if(typeof value=="object"&&!(value instanceof Array)&&value!=null&&(typeof pluginOptions[optionName]=="object"&&!(pluginOptions[optionName]instanceof Array)&&pluginOptions[optionName]!=null)){$.extend(options[optionName],pluginOptions[optionName])}else{options[optionName]=pluginOptions[optionName]}}});return options},\_plug:function(pluginName){var plugin=$.tooltipster.\_plugin(pluginName);if(plugin){if(plugin.instance){$.tooltipster.\_\_bridge(plugin.instance,this,plugin.name)}}else{throw new Error('The "'+pluginName+'" plugin is not defined')}return this},\_touchIsEmulatedEvent:function(event){var isEmulated=false,now=(new Date).getTime();for(var i=this.\_\_touchEvents.length-1;i>=0;i--){var e=this.\_\_touchEvents[i];if(now-e.time<500){if(e.target===event.target){isEmulated=true}}else{break}}return isEmulated},\_touchIsMeaningfulEvent:function(event){return this.\_touchIsTouchEvent(event)&&!this.\_touchSwiped(event.target)||!this.\_touchIsTouchEvent(event)&&!this.\_touchIsEmulatedEvent(event)},\_touchIsTouchEvent:function(event){return event.type.indexOf("touch")==0},\_touchRecordEvent:function(event){if(this.\_touchIsTouchEvent(event)){event.time=(new Date).getTime();this.\_\_touchEvents.push(event)}return this},\_touchSwiped:function(target){var swiped=false;for(var i=this.\_\_touchEvents.length-1;i>=0;i--){var e=this.\_\_touchEvents[i];if(e.type=="touchmove"){swiped=true;break}else if(e.type=="touchstart"&&target===e.target){break}}return swiped},\_trigger:function(){var args=Array.prototype.slice.apply(arguments);if(typeof args[0]=="string"){args[0]={type:args[0]}}args[0].instance=this;args[0].origin=this.\_$origin?this.\_$origin[0]:null;args[0].tooltip=this.\_$tooltip?this.\_$tooltip[0]:null;this.\_\_$emitterPrivate.trigger.apply(this.\_\_$emitterPrivate,args);$.tooltipster.\_trigger.apply($.tooltipster,args);this.\_\_$emitterPublic.trigger.apply(this.\_\_$emitterPublic,args);return this},\_unplug:function(pluginName){var self=this;if(self[pluginName]){var plugin=$.tooltipster.\_plugin(pluginName);if(plugin.instance){$.each(plugin.instance,function(methodName,fn){if(self[methodName]&&self[methodName].bridged===self[pluginName]){delete self[methodName]}})}if(self[pluginName].\_\_destroy){self[pluginName].\_\_destroy()}delete self[pluginName]}return self},close:function(callback){if(!this.\_\_destroyed){this.\_close(null,callback)}else{this.\_\_destroyError()}return this},content:function(content){var self=this;if(content===undefined){return self.\_\_Content}else{if(!self.\_\_destroyed){self.\_\_contentSet(content);if(self.\_\_Content!==null){if(self.\_\_state!=="closed"){self.\_\_contentInsert();self.reposition();if(self.\_\_options.updateAnimation){if(env.hasTransitions){var animation=self.\_\_options.updateAnimation;self.\_$tooltip.addClass("tooltipster-update-"+animation);setTimeout(function(){if(self.\_\_state!="closed"){self.\_$tooltip.removeClass("tooltipster-update-"+animation)}},1e3)}else{self.\_$tooltip.fadeTo(200,.5,function(){if(self.\_\_state!="closed"){self.\_$tooltip.fadeTo(200,1)}})}}}}else{self.\_close()}}else{self.\_\_destroyError()}return self}},destroy:function(){var self=this;if(!self.\_\_destroyed){if(self.\_\_state!="closed"){self.option("animationDuration",0).\_close(null,null,true)}else{self.\_\_timeoutsClear()}self.\_trigger("destroy");self.\_\_destroyed=true;self.\_$origin.removeData(self.\_\_namespace).off("."+self.\_\_namespace+"-triggerOpen");$(env.window.document.body).off("."+self.\_\_namespace+"-triggerOpen");var ns=self.\_$origin.data("tooltipster-ns");if(ns){if(ns.length===1){var title=null;if(self.\_\_options.restoration=="previous"){title=self.\_$origin.data("tooltipster-initialTitle")}else if(self.\_\_options.restoration=="current"){title=typeof self.\_\_Content=="string"?self.\_\_Content:$("<div></div>").append(self.\_\_Content).html()}if(title){self.\_$origin.attr("title",title)}self.\_$origin.removeClass("tooltipstered");self.\_$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else{ns=$.grep(ns,function(el,i){return el!==self.\_\_namespace});self.\_$origin.data("tooltipster-ns",ns)}}self.\_trigger("destroyed");self.\_off();self.off();self.\_\_Content=null;self.\_\_$emitterPrivate=null;self.\_\_$emitterPublic=null;self.\_\_options.parent=null;self.\_$origin=null;self.\_$tooltip=null;$.tooltipster.\_\_instancesLatestArr=$.grep($.tooltipster.\_\_instancesLatestArr,function(el,i){return self!==el});clearInterval(self.\_\_garbageCollector)}else{self.\_\_destroyError()}return self},disable:function(){if(!this.\_\_destroyed){this.\_close();this.\_\_enabled=false;return this}else{this.\_\_destroyError()}return this},elementOrigin:function(){if(!this.\_\_destroyed){return this.\_$origin[0]}else{this.\_\_destroyError()}},elementTooltip:function(){return this.\_$tooltip?this.\_$tooltip[0]:null},enable:function(){this.\_\_enabled=true;return this},hide:function(callback){return this.close(callback)},instance:function(){return this},off:function(){if(!this.\_\_destroyed){this.\_\_$emitterPublic.off.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments))}return this},on:function(){if(!this.\_\_destroyed){this.\_\_$emitterPublic.on.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments))}else{this.\_\_destroyError()}return this},one:function(){if(!this.\_\_destroyed){this.\_\_$emitterPublic.one.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments))}else{this.\_\_destroyError()}return this},open:function(callback){if(!this.\_\_destroyed){this.\_open(null,callback)}else{this.\_\_destroyError()}return this},option:function(o,val){if(val===undefined){return this.\_\_options[o]}else{if(!this.\_\_destroyed){this.\_\_options[o]=val;this.\_\_optionsFormat();if($.inArray(o,["trigger","triggerClose","triggerOpen"])>=0){this.\_\_prepareOrigin()}if(o==="selfDestruction"){this.\_\_prepareGC()}}else{this.\_\_destroyError()}return this}},reposition:function(event,tooltipIsDetached){var self=this;if(!self.\_\_destroyed){if(self.\_\_state!="closed"&&bodyContains(self.\_$origin)){if(tooltipIsDetached||bodyContains(self.\_$tooltip)){if(!tooltipIsDetached){self.\_$tooltip.detach()}self.\_\_Geometry=self.\_\_geometry();self.\_trigger({type:"reposition",event:event,helper:{geo:self.\_\_Geometry}})}}}else{self.\_\_destroyError()}return self},show:function(callback){return this.open(callback)},status:function(){return{destroyed:this.\_\_destroyed,enabled:this.\_\_enabled,open:this.\_\_state!=="closed",state:this.\_\_state}},triggerHandler:function(){if(!this.\_\_destroyed){this.\_\_$emitterPublic.triggerHandler.apply(this.\_\_$emitterPublic,Array.prototype.slice.apply(arguments))}else{this.\_\_destroyError()}return this}};$.fn.tooltipster=function(){var args=Array.prototype.slice.apply(arguments),contentCloningWarning="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(this.length===0){return this}else{if(typeof args[0]==="string"){var v="#\*$~&";this.each(function(){var ns=$(this).data("tooltipster-ns"),self=ns?$(this).data(ns[0]):null;if(self){if(typeof self[args[0]]==="function"){if(this.length>1&&args[0]=="content"&&(args[1]instanceof $||typeof args[1]=="object"&&args[1]!=null&&args[1].tagName)&&!self.\_\_options.contentCloning&&self.\_\_options.debug){console.log(contentCloningWarning)}var resp=self[args[0]](args[1],args[2])}else{throw new Error('Unknown method "'+args[0]+'"')}if(resp!==self||args[0]==="instance"){v=resp;return false}}else{throw new Error("You called Tooltipster's \""+args[0]+'" method on an uninitialized element')}});return v!=="#\*$~&"?v:this}else{$.tooltipster.\_\_instancesLatestArr=[];var multipleIsSet=args[0]&&args[0].multiple!==undefined,multiple=multipleIsSet&&args[0].multiple||!multipleIsSet&&defaults.multiple,contentIsSet=args[0]&&args[0].content!==undefined,content=contentIsSet&&args[0].content||!contentIsSet&&defaults.content,contentCloningIsSet=args[0]&&args[0].contentCloning!==undefined,contentCloning=contentCloningIsSet&&args[0].contentCloning||!contentCloningIsSet&&defaults.contentCloning,debugIsSet=args[0]&&args[0].debug!==undefined,debug=debugIsSet&&args[0].debug||!debugIsSet&&defaults.debug;if(this.length>1&&(content instanceof $||typeof content=="object"&&content!=null&&content.tagName)&&!contentCloning&&debug){console.log(contentCloningWarning)}this.each(function(){var go=false,$this=$(this),ns=$this.data("tooltipster-ns"),obj=null;if(!ns){go=true}else if(multiple){go=true}else if(debug){}if(go){obj=new $.Tooltipster(this,args[0]);if(!ns)ns=[];ns.push(obj.\_\_namespace);$this.data("tooltipster-ns",ns);$this.data(obj.\_\_namespace,obj);if(obj.\_\_options.functionInit){obj.\_\_options.functionInit.call(obj,obj,{origin:this})}obj.\_trigger("init")}$.tooltipster.\_\_instancesLatestArr.push(obj)});return this}}};function Ruler($tooltip){this.$container;this.constraints=null;this.\_\_$tooltip;this.\_\_init($tooltip)}Ruler.prototype={\_\_init:function($tooltip){this.\_\_$tooltip=$tooltip;this.\_\_$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=$('<div class="tooltipster-ruler"></div>').append(this.\_\_$tooltip).appendTo(env.window.document.body)},\_\_forceRedraw:function(){var $p=this.\_\_$tooltip.parent();this.\_\_$tooltip.detach();this.\_\_$tooltip.appendTo($p)},constrain:function(width,height){this.constraints={width:width,height:height};this.\_\_$tooltip.css({display:"block",height:"",overflow:"auto",width:width});return this},destroy:function(){this.\_\_$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""});this.$container.remove()},free:function(){this.constraints=null;this.\_\_$tooltip.css({display:"",height:"",overflow:"visible",width:""});return this},measure:function(){this.\_\_forceRedraw();var tooltipBcr=this.\_\_$tooltip[0].getBoundingClientRect(),result={size:{height:tooltipBcr.height||tooltipBcr.bottom-tooltipBcr.top,width:tooltipBcr.width||tooltipBcr.right-tooltipBcr.left}};if(this.constraints){var $content=this.\_\_$tooltip.find(".tooltipster-content"),height=this.\_\_$tooltip.outerHeight(),contentBcr=$content[0].getBoundingClientRect(),fits={height:height<=this.constraints.height,width:tooltipBcr.width<=this.constraints.width&&contentBcr.width>=$content[0].scrollWidth-1};result.fits=fits.height&&fits.width}if(env.IE&&env.IE<=11&&result.size.width!==env.window.document.documentElement.clientWidth){result.size.width=Math.ceil(result.size.width)+1}return result}};function areEqual(a,b){var same=true;$.each(a,function(i,\_){if(b[i]===undefined||a[i]!==b[i]){same=false;return false}});return same}function bodyContains($obj){var id=$obj.attr("id"),el=id?env.window.document.getElementById(id):null;return el?el===$obj[0]:$.contains(env.window.document.body,$obj[0])}var uA=navigator.userAgent.toLowerCase();if(uA.indexOf("msie")!=-1)env.IE=parseInt(uA.split("msie")[1]);else if(uA.toLowerCase().indexOf("trident")!==-1&&uA.indexOf(" rv:11")!==-1)env.IE=11;else if(uA.toLowerCase().indexOf("edge/")!=-1)env.IE=parseInt(uA.toLowerCase().split("edge/")[1]);function transitionSupport(){if(!win)return false;var b=win.document.body||win.document.documentElement,s=b.style,p="transition",v=["Moz","Webkit","Khtml","O","ms"];if(typeof s[p]=="string"){return true}p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++){if(typeof s[v[i]+p]=="string"){return true}}return false}var pluginName="tooltipster.sideTip";$.tooltipster.\_plugin({name:pluginName,instance:{\_\_defaults:function(){return{arrow:true,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:true}},\_\_init:function(instance){var self=this;self.\_\_instance=instance;self.\_\_namespace="tooltipster-sideTip-"+Math.round(Math.random()\*1e6);self.\_\_previousState="closed";self.\_\_options;self.\_\_optionsFormat();self.\_\_instance.\_on("state."+self.\_\_namespace,function(event){if(event.state=="closed"){self.\_\_close()}else if(event.state=="appearing"&&self.\_\_previousState=="closed"){self.\_\_create()}self.\_\_previousState=event.state});self.\_\_instance.\_on("options."+self.\_\_namespace,function(){self.\_\_optionsFormat()});self.\_\_instance.\_on("reposition."+self.\_\_namespace,function(e){self.\_\_reposition(e.event,e.helper)})},\_\_close:function(){if(this.\_\_instance.content()instanceof $){this.\_\_instance.content().detach()}this.\_\_instance.\_$tooltip.remove();this.\_\_instance.\_$tooltip=null},\_\_create:function(){var $html=$('<div class="tooltipster-base tooltipster-sidetip">'+'<div class="tooltipster-box">'+'<div class="tooltipster-content"></div>'+"</div>"+'<div class="tooltipster-arrow">'+'<div class="tooltipster-arrow-uncropped">'+'<div class="tooltipster-arrow-border"></div>'+'<div class="tooltipster-arrow-background"></div>'+"</div>"+"</div>"+"</div>");if(!this.\_\_options.arrow){$html.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide()}if(this.\_\_options.minWidth){$html.css("min-width",this.\_\_options.minWidth+"px")}if(this.\_\_options.maxWidth){$html.css("max-width",this.\_\_options.maxWidth+"px")}this.\_\_instance.\_$tooltip=$html;this.\_\_instance.\_trigger("created")},\_\_destroy:function(){this.\_\_instance.\_off("."+self.\_\_namespace)},\_\_optionsFormat:function(){var self=this;self.\_\_options=self.\_\_instance.\_optionsExtract(pluginName,self.\_\_defaults());if(self.\_\_options.position){self.\_\_options.side=self.\_\_options.position}if(typeof self.\_\_options.distance!="object"){self.\_\_options.distance=[self.\_\_options.distance]}if(self.\_\_options.distance.length<4){if(self.\_\_options.distance[1]===undefined)self.\_\_options.distance[1]=self.\_\_options.distance[0];if(self.\_\_options.distance[2]===undefined)self.\_\_options.distance[2]=self.\_\_options.distance[0];if(self.\_\_options.distance[3]===undefined)self.\_\_options.distance[3]=self.\_\_options.distance[1];self.\_\_options.distance={top:self.\_\_options.distance[0],right:self.\_\_options.distance[1],bottom:self.\_\_options.distance[2],left:self.\_\_options.distance[3]}}if(typeof self.\_\_options.side=="string"){var opposites={top:"bottom",right:"left",bottom:"top",left:"right"};self.\_\_options.side=[self.\_\_options.side,opposites[self.\_\_options.side]];if(self.\_\_options.side[0]=="left"||self.\_\_options.side[0]=="right"){self.\_\_options.side.push("top","bottom")}else{self.\_\_options.side.push("right","left")}}if($.tooltipster.\_env.IE===6&&self.\_\_options.arrow!==true){self.\_\_options.arrow=false}},\_\_reposition:function(event,helper){var self=this,finalResult,targets=self.\_\_targetFind(helper),testResults=[];self.\_\_instance.\_$tooltip.detach();var $clone=self.\_\_instance.\_$tooltip.clone(),ruler=$.tooltipster.\_getRuler($clone),satisfied=false,animation=self.\_\_instance.option("animation");if(animation){$clone.removeClass("tooltipster-"+animation)}$.each(["window","document"],function(i,container){var takeTest=null;self.\_\_instance.\_trigger({container:container,helper:helper,satisfied:satisfied,takeTest:function(bool){takeTest=bool},results:testResults,type:"positionTest"});if(takeTest==true||takeTest!=false&&satisfied==false&&(container!="window"||self.\_\_options.viewportAware)){for(var i=0;i<self.\_\_options.side.length;i++){var distance={horizontal:0,vertical:0},side=self.\_\_options.side[i];if(side=="top"||side=="bottom"){distance.vertical=self.\_\_options.distance[side]}else{distance.horizontal=self.\_\_options.distance[side]}self.\_\_sideChange($clone,side);$.each(["natural","constrained"],function(i,mode){takeTest=null;self.\_\_instance.\_trigger({container:container,event:event,helper:helper,mode:mode,results:testResults,satisfied:satisfied,side:side,takeTest:function(bool){takeTest=bool},type:"positionTest"});if(takeTest==true||takeTest!=false&&satisfied==false){var testResult={container:container,distance:distance,fits:null,mode:mode,outerSize:null,side:side,size:null,target:targets[side],whole:null};var rulerConfigured=mode=="natural"?ruler.free():ruler.constrain(helper.geo.available[container][side].width-distance.horizontal,helper.geo.available[container][side].height-distance.vertical),rulerResults=rulerConfigured.measure();testResult.size=rulerResults.size;testResult.outerSize={height:rulerResults.size.height+distance.vertical,width:rulerResults.size.width+distance.horizontal};if(mode=="natural"){if(helper.geo.available[container][side].width>=testResult.outerSize.width&&helper.geo.available[container][side].height>=testResult.outerSize.height){testResult.fits=true}else{testResult.fits=false}}else{testResult.fits=rulerResults.fits}if(container=="window"){if(!testResult.fits){testResult.whole=false}else{if(side=="top"||side=="bottom"){testResult.whole=helper.geo.origin.windowOffset.right>=self.\_\_options.minIntersection&&helper.geo.window.size.width-helper.geo.origin.windowOffset.left>=self.\_\_options.minIntersection}else{testResult.whole=helper.geo.origin.windowOffset.bottom>=self.\_\_options.minIntersection&&helper.geo.window.size.height-helper.geo.origin.windowOffset.top>=self.\_\_options.minIntersection}}}testResults.push(testResult);if(testResult.whole){satisfied=true}else{if(testResult.mode=="natural"&&(testResult.fits||testResult.size.width<=helper.geo.available[container][side].width)){return false}}}})}}});self.\_\_instance.\_trigger({edit:function(r){testResults=r},event:event,helper:helper,results:testResults,type:"positionTested"});testResults.sort(function(a,b){if(a.whole&&!b.whole){return-1}else if(!a.whole&&b.whole){return 1}else if(a.whole&&b.whole){var ai=self.\_\_options.side.indexOf(a.side),bi=self.\_\_options.side.indexOf(b.side);if(ai<bi){return-1}else if(ai>bi){return 1}else{return a.mode=="natural"?-1:1}}else{if(a.fits&&!b.fits){return-1}else if(!a.fits&&b.fits){return 1}else if(a.fits&&b.fits){var ai=self.\_\_options.side.indexOf(a.side),bi=self.\_\_options.side.indexOf(b.side);if(ai<bi){return-1}else if(ai>bi){return 1}else{return a.mode=="natural"?-1:1}}else{if(a.container=="document"&&a.side=="bottom"&&a.mode=="natural"){return-1}else{return 1}}}});finalResult=testResults[0];finalResult.coord={};switch(finalResult.side){case"left":case"right":finalResult.coord.top=Math.floor(finalResult.target-finalResult.size.height/2);break;case"bottom":case"top":finalResult.coord.left=Math.floor(finalResult.target-finalResult.size.width/2);break}switch(finalResult.side){case"left":finalResult.coord.left=helper.geo.origin.windowOffset.left-finalResult.outerSize.width;break;case"right":finalResult.coord.left=helper.geo.origin.windowOffset.right+finalResult.distance.horizontal;break;case"top":finalResult.coord.top=helper.geo.origin.windowOffset.top-finalResult.outerSize.height;break;case"bottom":finalResult.coord.top=helper.geo.origin.windowOffset.bottom+finalResult.distance.vertical;break}if(finalResult.container=="window"){if(finalResult.side=="top"||finalResult.side=="bottom"){if(finalResult.coord.left<0){if(helper.geo.origin.windowOffset.right-this.\_\_options.minIntersection>=0){finalResult.coord.left=0}else{finalResult.coord.left=helper.geo.origin.windowOffset.right-this.\_\_options.minIntersection-1}}else if(finalResult.coord.left>helper.geo.window.size.width-finalResult.size.width){if(helper.geo.origin.windowOffset.left+this.\_\_options.minIntersection<=helper.geo.window.size.width){finalResult.coord.left=helper.geo.window.size.width-finalResult.size.width}else{finalResult.coord.left=helper.geo.origin.windowOffset.left+this.\_\_options.minIntersection+1-finalResult.size.width}}}else{if(finalResult.coord.top<0){if(helper.geo.origin.windowOffset.bottom-this.\_\_options.minIntersection>=0){finalResult.coord.top=0}else{finalResult.coord.top=helper.geo.origin.windowOffset.bottom-this.\_\_options.minIntersection-1}}else if(finalResult.coord.top>helper.geo.window.size.height-finalResult.size.height){if(helper.geo.origin.windowOffset.top+this.\_\_options.minIntersection<=helper.geo.window.size.height){finalResult.coord.top=helper.geo.window.size.height-finalResult.size.height}else{finalResult.coord.top=helper.geo.origin.windowOffset.top+this.\_\_options.minIntersection+1-finalResult.size.height}}}}else{if(finalResult.coord.left>helper.geo.window.size.width-finalResult.size.width){finalResult.coord.left=helper.geo.window.size.width-finalResult.size.width}if(finalResult.coord.left<0){finalResult.coord.left=0}}self.\_\_sideChange($clone,finalResult.side);helper.tooltipClone=$clone[0];helper.tooltipParent=self.\_\_instance.option("parent").parent[0];helper.mode=finalResult.mode;helper.whole=finalResult.whole;helper.origin=self.\_\_instance.\_$origin[0];helper.tooltip=self.\_\_instance.\_$tooltip[0];delete finalResult.container;delete finalResult.fits;delete finalResult.mode;delete finalResult.outerSize;delete finalResult.whole;finalResult.distance=finalResult.distance.horizontal||finalResult.distance.vertical;var finalResultClone=$.extend(true,{},finalResult);self.\_\_instance.\_trigger({edit:function(result){finalResult=result},event:event,helper:helper,position:finalResultClone,type:"position"});if(self.\_\_options.functionPosition){var result=self.\_\_options.functionPosition.call(self,self.\_\_instance,helper,finalResultClone);if(result)finalResult=result}ruler.destroy();var arrowCoord,maxVal;if(finalResult.side=="top"||finalResult.side=="bottom"){arrowCoord={prop:"left",val:finalResult.target-finalResult.coord.left};maxVal=finalResult.size.width-this.\_\_options.minIntersection}else{arrowCoord={prop:"top",val:finalResult.target-finalResult.coord.top};maxVal=finalResult.size.height-this.\_\_options.minIntersection}if(arrowCoord.val<this.\_\_options.minIntersection){arrowCoord.val=this.\_\_options.minIntersection}else if(arrowCoord.val>maxVal){arrowCoord.val=maxVal}var originParentOffset;if(helper.geo.origin.fixedLineage){originParentOffset=helper.geo.origin.windowOffset}else{originParentOffset={left:helper.geo.origin.windowOffset.left+helper.geo.window.scroll.left,top:helper.geo.origin.windowOffset.top+helper.geo.window.scroll.top}}finalResult.coord={left:originParentOffset.left+(finalResult.coord.left-helper.geo.origin.windowOffset.left),top:originParentOffset.top+(finalResult.coord.top-helper.geo.origin.windowOffset.top)};self.\_\_sideChange(self.\_\_instance.\_$tooltip,finalResult.side);if(helper.geo.origin.fixedLineage){self.\_\_instance.\_$tooltip.css("position","fixed")}else{self.\_\_instance.\_$tooltip.css("position","")}self.\_\_instance.\_$tooltip.css({left:finalResult.coord.left,top:finalResult.coord.top,height:finalResult.size.height,width:finalResult.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(arrowCoord.prop,arrowCoord.val);self.\_\_instance.\_$tooltip.appendTo(self.\_\_instance.option("parent"));self.\_\_instance.\_trigger({type:"repositioned",event:event,position:finalResult})},\_\_sideChange:function($obj,side){$obj.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+side)},\_\_targetFind:function(helper){var target={},rects=this.\_\_instance.\_$origin[0].getClientRects();if(rects.length>1){var opacity=this.\_\_instance.\_$origin.css("opacity");if(opacity==1){this.\_\_instance.\_$origin.css("opacity",.99);rects=this.\_\_instance.\_$origin[0].getClientRects();this.\_\_instance.\_$origin.css("opacity",1)}}if(rects.length<2){target.top=Math.floor(helper.geo.origin.windowOffset.left+helper.geo.origin.size.width/2);target.bottom=target.top;target.left=Math.floor(helper.geo.origin.windowOffset.top+helper.geo.origin.size.height/2);target.right=target.left}else{var targetRect=rects[0];target.top=Math.floor(targetRect.left+(targetRect.right-targetRect.left)/2);if(rects.length>2){targetRect=rects[Math.ceil(rects.length/2)-1]}else{targetRect=rects[0]}target.right=Math.floor(targetRect.top+(targetRect.bottom-targetRect.top)/2);targetRect=rects[rects.length-1];target.bottom=Math.floor(targetRect.left+(targetRect.right-targetRect.left)/2);if(rects.length>2){targetRect=rects[Math.ceil((rects.length+1)/2)-1]}else{targetRect=rects[rects.length-1]}target.left=Math.floor(targetRect.top+(targetRect.bottom-targetRect.top)/2)}return target}}});return $}); |
* ## [wp-compress-image-optimizer/trunk/assets/v4/css/style.css](/changeset/3054445/wp-compress-image-optimizer/trunk/assets/v4/css/style.css?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Fassets%2Fv4%2Fcss%2Fstyle.css "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/assets/v4/css/style.css")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/assets/v4/css/style.css?rev=3043773#L1 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/assets/v4/css/style.css?rev=3054445#L1 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | @font-face{font-family:'proxima\_light';src:url('../../fonts/proxima/ProximaNovaLight.woff2') format('woff');font-weight:normal;font-style:normal}@font-face{font-family:'proxima\_regular';src:url('../../fonts/proxima/ProximaNovaRegular.woff2') format('woff2');font-weight:normal;font-style:normal}@font-face{font-family:'proxima\_semibold';src:url('../../fonts/proxima/ProximaNovaSemibold.woff2') format('woff2');font-weight:normal;font-style:normal}@font-face{font-family:'proxima\_bold';src:url('../../fonts/proxima/ProximaNovaBold.woff2') format('woff2');font-weight:normal;font-style:normal}.wpc-locked .wpc-box-content .circle-check::before{background:#cfd7e0 !important}.wpc-locked h2,.wpc-locked h3,.wpc-locked h4,.wpc-locked p{color:#cfd7e0 !important}.wpc-box-check .wps-ic-configure-popup{width:auto !important;height:auto !important;display:inline-block;color:#fff;background:#e8f1ff;border:none;border-radius:25px;font-size:13px;padding:6px 20px;text-decoration:none;transition:all .2s ease-out}.wpc-box-check .wps-ic-configure-popup:hover{color:#fff !important;transform:scale(1.1)}.wpc-box-check .wps-ic-configure-popup.LockedTooltip{background:#C5D3E3 !important}.wpc-box-check .wps-ic-configure-popup img{width:100%;filter:brightness(0) saturate(100%) invert(76%) sepia(13%) saturate(263%) hue-rotate(179deg) brightness(88%) contrast(90%)}.wpc-sparkle-icon{display:inline-block;background-image:url(../images/optimize-sparkle.svg) !important;background-position:center center;background-size:15px 15px;background-color:transparent !important;width:20px !important;height:20px !important;background-repeat:no-repeat;margin-right:6px}.wpc-tooltip-html .pop-text{display:flex}.settings-locked{display:flex !important;align-content:center !important;justify-content:center !important;line-height:20px !important;background:#E9EDF0 !important;color:#BBC8CD !important}i.wpc-locked{width:20px;height:20px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxMCAxMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcuNDk5OTYgMy4zMzQ2NEg3LjA4MzI5VjIuNTAxM0M3LjA4MzI5IDEuMzUxMyA2LjE0OTk2IDAuNDE3OTY5IDQuOTk5OTYgMC40MTc5NjlDMy44NDk5NiAwLjQxNzk2OSAyLjkxNjYzIDEuMzUxMyAyLjkxNjYzIDIuNTAxM1YzLjMzNDY0SDIuNDk5OTZDMi4wNDE2MyAzLjMzNDY0IDEuNjY2NjMgMy43MDk2NCAxLjY2NjYzIDQuMTY3OTdWOC4zMzQ2NEMxLjY2NjYzIDguNzkyOTcgMi4wNDE2MyA5LjE2Nzk3IDIuNDk5OTYgOS4xNjc5N0g3LjQ5OTk2QzcuOTU4MjkgOS4xNjc5NyA4LjMzMzI5IDguNzkyOTcgOC4zMzMyOSA4LjMzNDY0VjQuMTY3OTdDOC4zMzMyOSAzLjcwOTY0IDcuOTU4MjkgMy4zMzQ2NCA3LjQ5OTk2IDMuMzM0NjRaTTQuOTk5OTYgNy4wODQ2NEM0LjU0MTYzIDcuMDg0NjQgNC4xNjY2MyA2LjcwOTY0IDQuMTY2NjMgNi4yNTEzQzQuMTY2NjMgNS43OTI5NyA0LjU0MTYzIDUuNDE3OTcgNC45OTk5NiA1LjQxNzk3QzUuNDU4MjkgNS40MTc5NyA1LjgzMzI5IDUuNzkyOTcgNS44MzMyOSA2LjI1MTNDNS44MzMyOSA2LjcwOTY0IDUuNDU4MjkgNy4wODQ2NCA0Ljk5OTk2IDcuMDg0NjRaTTMuNzQ5OTYgMy4zMzQ2NFYyLjUwMTNDMy43NDk5NiAxLjgwOTY0IDQuMzA4MjkgMS4yNTEzIDQuOTk5OTYgMS4yNTEzQzUuNjkxNjMgMS4yNTEzIDYuMjQ5OTYgMS44MDk2NCA2LjI0OTk2IDIuNTAxM1YzLjMzNDY0SDMuNzQ5OTZaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K");background-position:center center;background-size:15px 15px;background-color:transparent !important;background-repeat:no-repeat;display:inline-block;color:#BBC8CD !important;margin-right:10px}.icon-progress-bar-after{display:inline-block}.icon-progress-bar-after:before{font-family:'fontello';content:'\e848';font-size:13px;color:#57a2e5}.icon-progress-bar-before{display:inline-block;position:absolute;left:-23px}.icon-progress-bar-before:before{font-family:'fontello';content:'\e849';font-size:13px;color:#b1bac2}.settings\_page\_wpcompress .swal2-container .swal2-popup{max-width:95% !important}.settings\_page\_wpcompress .swal2-container{z-index:9999 !important}.fw-500{font-weight:500}.fw-600{font-weight:600}.text-secondary-400{color:#9199A6}.fw-400{font-weight:400}.fs-300{font-size:13px}.fs-400{font-size:14px}.fs-500{font-size:16px}.bp-10{padding-bottom:10px}.wps-ic-stop-bulk-compress,.wps-ic-stop-bulk-restore{text-decoration:none;line-height:20px;font-weight:600 !important;position:relative;color:#ef5a5a !important;padding-left:18px}.wps-ic-stop-bulk-compress:active,.wps-ic-stop-bulk-restore:active,.wps-ic-stop-bulk-compress:focus,.wps-ic-stop-bulk-restore:focus{outline:none !important;box-shadow:none !important}.wps-ic-service-status{text-decoration:none;cursor:pointer !important;line-height:20px;font-weight:600 !important;position:relative}.wps-ic-service-status.active{color:#3ad591 !important}.wps-ic-service-status.active::before{content:'';vertical-align:middle;display:inline-block;border-radius:50px;width:12px;height:12px;overflow:hidden;background:#3ad591;margin-right:10px}.wps-ic-service-status.paused{color:#ef5a5a !important;padding-left:18px}.wps-ic-service-status.paused::after{position:absolute;left:0;top:2px;content:'';vertical-align:middle;display:inline-block;border-radius:0px;width:3px;height:12px;overflow:hidden;background:#ef5a5a;margin-right:10px}.wps-ic-service-status.paused::before{content:'';position:absolute;left:6px;top:2px;vertical-align:middle;display:inline-block;border-radius:0px;width:3px;height:12px;overflow:hidden;background:#ef5a5a;margin-right:10px}.icon-gray{background-image:url("../images/icon-gray.svg");background-repeat:no-repeat;display:inline-block;width:17px;height:17px;margin-bottom:-5px}.tooltipster-base .tooltipster-box{background:#ffffff !important;border:1px solid #fff;box-shadow:0 0 3px 1px rgba(0,0,0,0.25)}.tooltipster-base .tooltipster-box p{margin:0}.tooltipster-base .tooltipster-content{color:#333}.tooltipster-noir.tooltipster-base .tooltipster-box{background:#252A32 !important;border:1px solid #252A32 !important;box-shadow:0 0 3px 1px rgba(0,0,0,0.25) !important}.tooltipster-noir.tooltipster-base .tooltipster-box p{margin:0}.tooltipster-noir.tooltipster-base .tooltipster-content{color:#fff !important}.tooltipster-noir.tooltipster-base .tooltipster-arrow-border{border-top-color:#252A32 !important}.tooltipster-noir.tooltipster-base .tooltipster-arrow-background{border-top-color:#252A32 !important}.wpc-tooltip-html{padding:5px}.wpc-tooltip-html .desc{font-size:11px;color:#333}.wpc-tooltip-html .wpc-tooltip-title{display:flex;flex-direction:row;padding-bottom:0px}.wpc-tooltip-html .wpc-tooltip-title span{flex:1}.wpc-tooltip-html .wpc-tooltip-title span.title{flex:2;font-weight:500}.wpc-tooltip-html .wpc-tooltip-title span.status{flex:1;text-align:right}.wpc-tooltip-html .wpc-tooltip-title span.status.active{font-weight:500;color:#559ee5}.wpc-tooltip-html .wpc-tooltip-title span.status.disabled{font-weight:500;color:#a2a2a2 !important}.wpc-tooltip-html .wpc-tooltip-icon-cache{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMCAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuMzI4ODQgMS4yNDc1M0M5LjMyNTI3IDEuMjMwMjUgOS4zMTY4NiAxLjIxNDM1IDkuMzA0NTggMS4yMDE2OUM5LjI5MjMgMS4xODkwMyA5LjI3NjY2IDEuMTgwMTMgOS4yNTk1IDEuMTc2MDRDOC4xMTU1NiAwLjg5NjM1NiA1LjQ3MjM5IDEuODkzMDQgNC4wNDAzNiAzLjMyNDQ4QzMuNzg0OTUgMy41Nzc4MyAzLjU1MjEgMy44NTI5NiAzLjM0NDQ2IDQuMTQ2NzVDMi45MDI4NiA0LjEwNzY4IDIuNDYxMjYgNC4xNDAzIDIuMDg0ODkgNC4zMDQzNkMxLjAyMjk4IDQuNzcxNzUgMC43MTM4IDUuOTkxMjggMC42Mjc2NjggNi41MTU4OUMwLjYyMjc4MiA2LjU0NDYgMC42MjQ2MjUgNi41NzQwNiAwLjYzMzA1MSA2LjYwMTk0QzAuNjQxNDc3IDYuNjI5ODIgMC42NTYyNTggNi42NTUzNyAwLjY3NjIyOSA2LjY3NjU3QzAuNjk2MiA2LjY5Nzc3IDAuNzIwODE4IDYuNzE0MDUgMC43NDgxNDYgNi43MjQxMkMwLjc3NTQ3NCA2LjczNDIgMC44MDQ3NjggNi43Mzc4IDAuODMzNzIyIDYuNzM0NjRMMi41MzkgNi41NDY1NUMyLjU0MDIxIDYuNjc1MTIgMi41NDc5NyA2LjgwMzU0IDIuNTYyMjQgNi45MzEzMkMyLjU3MDgyIDcuMDIwMDUgMi42MTAyMSA3LjEwMjk4IDIuNjczNTcgNy4xNjU2OUwzLjMzMzkyIDcuODI0NDhDMy4zOTY2OSA3Ljg4Nzc2IDMuNDc5NTkgNy45MjcxMyAzLjU2ODI5IDcuOTM1ODFDMy42OTUzNiA3Ljk1MDAyIDMuODIzMDYgNy45NTc3OCAzLjk1MDkxIDcuOTU5MDVMMy43NjM4IDkuNjYyMThDMy43NjA2OCA5LjY5MTEyIDMuNzY0MzEgOS43MjA0IDMuNzc0NCA5Ljc0NzcxQzMuNzg0NDkgOS43NzUwMSAzLjgwMDc3IDkuNzk5NjEgMy44MjE5NiA5LjgxOTU4QzMuODQzMTUgOS44Mzk1NCAzLjg2ODY4IDkuODU0MzIgMy44OTY1NCA5Ljg2Mjc2QzMuOTI0NCA5Ljg3MTIgMy45NTM4NCA5Ljg3MzA4IDMuOTgyNTUgOS44NjgyM0M0LjUwNjE4IDkuNzg0MjUgNS43Mjc4NiA5LjQ3NTA3IDYuMTkyNTEgOC40MTMxNUM2LjM1NjU3IDguMDM2NzkgNi4zOTAxNyA3LjU5NzMzIDYuMzUyMjggNy4xNTc4OEM2LjY0Njc3IDYuOTUwMjMgNi45MjI2MiA2LjcxNzMyIDcuMTc2NjkgNi40NjE3OUM4LjYxMzIxIDUuMDMyNDkgOS42MDQyMyAyLjQ0ODMxIDkuMzI4ODQgMS4yNDc1M1pNNS43NDM0OSA0Ljc1NjcxQzUuNjEyMzEgNC42MjU2MiA1LjUyMjk3IDQuNDU4NTcgNS40ODY3NCA0LjI3NjdDNS40NTA1MiA0LjA5NDgzIDUuNDY5MDUgMy45MDYzIDUuNTM5OTkgMy43MzQ5NUM1LjYxMDkzIDMuNTYzNjEgNS43MzEwOSAzLjQxNzE2IDUuODg1MjcgMy4zMTQxMkM2LjAzOTQ2IDMuMjExMDggNi4yMjA3NCAzLjE1NjA4IDYuNDA2MTggMy4xNTYwOEM2LjU5MTYzIDMuMTU2MDggNi43NzI5MSAzLjIxMTA4IDYuOTI3MDkgMy4zMTQxMkM3LjA4MTI4IDMuNDE3MTYgNy4yMDE0NCAzLjU2MzYxIDcuMjcyMzggMy43MzQ5NUM3LjM0MzMyIDMuOTA2MyA3LjM2MTg1IDQuMDk0ODMgNy4zMjU2MiA0LjI3NjdDNy4yODk0IDQuNDU4NTcgNy4yMDAwNSA0LjYyNTYyIDcuMDY4ODggNC43NTY3MUM2Ljk4MTkgNC44NDM4MSA2Ljg3ODYgNC45MTI5MiA2Ljc2NDg4IDQuOTYwMDdDNi42NTExNyA1LjAwNzIxIDYuNTI5MjggNS4wMzE0OCA2LjQwNjE4IDUuMDMxNDhDNi4yODMwOCA1LjAzMTQ4IDYuMTYxMTkgNS4wMDcyMSA2LjA0NzQ4IDQuOTYwMDdDNS45MzM3NyA0LjkxMjkyIDUuODMwNDcgNC44NDM4MSA1Ljc0MzQ5IDQuNzU2NzFaIiBmaWxsPSIjMzE0QjcyIi8+CjxwYXRoIGQ9Ik0zLjI4OTA2IDguMzAxMzdDMy4xODIwMyA4LjQwODU5IDMuMDEwMzUgOC40NTAzOSAyLjgwMzcxIDguNDg2MTNDMi4zMzk0NSA4LjU2NTI0IDEuOTI5NDkgOC4xNjQwNiAyLjAxMjg5IDcuNjk0NzNDMi4wNDQ3MyA3LjUxNjggMi4xMzg4NyA3LjI2NzM4IDIuMTk3NDYgNy4yMDg3OUMyLjIxMDI3IDcuMTk2MjMgMi4yMTg3OSA3LjE3OTk1IDIuMjIxODIgNy4xNjIyN0MyLjIyNDg1IDcuMTQ0NTkgMi4yMjIyNCA3LjEyNjQxIDIuMjE0MzUgNy4xMTAzQzIuMjA2NDUgNy4wOTQxOSAyLjE5MzY5IDcuMDgwOTggMi4xNzc4NiA3LjA3MjU0QzIuMTYyMDMgNy4wNjQxIDIuMTQzOTUgNy4wNjA4NiAyLjEyNjE3IDcuMDYzMjhDMS44NjY1NSA3LjA5NTA1IDEuNjI1MDMgNy4yMTI3NSAxLjQ0MDA0IDcuMzk3NjZDMC45ODA4NTkgNy44NTcyMyAwLjkzNzUgOS41NjI1IDAuOTM3NSA5LjU2MjVDMC45Mzc1IDkuNTYyNSAyLjY0Mzc1IDkuNTE5MTQgMy4xMDI5MyA5LjA1OTU3QzMuMjg4NDEgOC44NzQ3MyAzLjQwNjI2IDguNjMyODQgMy40Mzc1IDguMzcyODVDMy40NDQ3MyA4LjI5MTIxIDMuMzQ1MzEgOC4yNDI1OCAzLjI4OTA2IDguMzAxMzdaIiBmaWxsPSIjMzE0QjcyIi8+Cjwvc3ZnPgo=");max-width:20px;background-repeat:no-repeat;background-size:15px 15px}.wpc-tooltip-html .wpc-tooltip-icon-adaptive{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMCAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMi4zNzVDMCAxLjY4NTU1IDAuNTYwNTQ3IDEuMTI1IDEuMjUgMS4xMjVIOC43NUM5LjQzOTQ1IDEuMTI1IDEwIDEuNjg1NTUgMTAgMi4zNzVWOC42MjVDMTAgOS4zMTQ0NSA5LjQzOTQ1IDkuODc1IDguNzUgOS44NzVIMS4yNUMwLjU2MDU0NyA5Ljg3NSAwIDkuMzE0NDUgMCA4LjYyNVYyLjM3NVpNNi4zMjQyMiA0LjQ1NTA4QzYuMjM2MzMgNC4zMjYxNyA2LjA5MTggNC4yNSA1LjkzNzUgNC4yNUM1Ljc4MzIgNC4yNSA1LjYzNjcyIDQuMzI2MTcgNS41NTA3OCA0LjQ1NTA4TDMuODUxNTYgNi45NDcyN0wzLjMzMzk4IDYuMzAwNzhDMy4yNDQxNCA2LjE4OTQ1IDMuMTA5MzggNi4xMjUgMi45Njg3NSA2LjEyNUMyLjgyODEyIDYuMTI1IDIuNjkxNDEgNi4xODk0NSAyLjYwMzUyIDYuMzAwNzhMMS4zNTM1MiA3Ljg2MzI4QzEuMjQwMjMgOC4wMDM5MSAxLjIxODc1IDguMTk3MjcgMS4yOTY4OCA4LjM1OTM4QzEuMzc1IDguNTIxNDggMS41MzkwNiA4LjYyNSAxLjcxODc1IDguNjI1SDguMjgxMjVDOC40NTUwOCA4LjYyNSA4LjYxNTIzIDguNTI5MyA4LjY5NTMxIDguMzc1QzguNzc1MzkgOC4yMjA3IDguNzY1NjIgOC4wMzUxNiA4LjY2Nzk3IDcuODkyNThMNi4zMjQyMiA0LjQ1NTA4Wk0yLjE4NzUgNC4yNUMyLjQzNjE0IDQuMjUgMi42NzQ2IDQuMTUxMjMgMi44NTA0MSAzLjk3NTQxQzMuMDI2MjMgMy43OTk2IDMuMTI1IDMuNTYxMTQgMy4xMjUgMy4zMTI1QzMuMTI1IDMuMDYzODYgMy4wMjYyMyAyLjgyNTQgMi44NTA0MSAyLjY0OTU5QzIuNjc0NiAyLjQ3Mzc3IDIuNDM2MTQgMi4zNzUgMi4xODc1IDIuMzc1QzEuOTM4ODYgMi4zNzUgMS43MDA0IDIuNDczNzcgMS41MjQ1OSAyLjY0OTU5QzEuMzQ4NzcgMi44MjU0IDEuMjUgMy4wNjM4NiAxLjI1IDMuMzEyNUMxLjI1IDMuNTYxMTQgMS4zNDg3NyAzLjc5OTYgMS41MjQ1OSAzLjk3NTQxQzEuNzAwNCA0LjE1MTIzIDEuOTM4ODYgNC4yNSAyLjE4NzUgNC4yNVoiIGZpbGw9IiNGRkI5NEYiLz4KPC9zdmc+Cg==");max-width:20px;background-repeat:no-repeat;background-size:15px 15px}.wpc-tooltip-html .wpc-tooltip-icon-css{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMCAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE0MzJfMjY3KSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMC4wODc4MzU0IDEuMTA4NjFDMC4xMTkwMjggMS4wNzQ0MiAwLjE1Njk0IDEuMDQ3MTEgMC4xOTkxNzEgMS4wMjg0MUMwLjI0MTQwMyAxLjAwOTcyIDAuMjg3MDM0IDEuMDAwMDQgMC4zMzMxNzcgMUg5LjY2NjgxQzkuNzEyOTMgMS4wMDAwMiA5Ljc1ODU1IDEuMDA5NjcgOS44MDA3NyAxLjAyODMzQzkuODQzIDEuMDQ2OTkgOS44ODA5MSAxLjA3NDI2IDkuOTEyMTIgMS4xMDg0MUM5Ljk0MzMyIDEuMTQyNTcgOS45NjcxNCAxLjE4Mjg2IDkuOTgyMDcgMS4yMjY3NUM5Ljk5Njk5IDEuMjcwNjQgMTAuMDAyNyAxLjMxNzE2IDkuOTk4ODIgMS4zNjMzOEw5LjMzMjEzIDkuMzUyMzJDOS4zMjY2MiA5LjQxNzU5IDkuMzAyMjIgOS40Nzk4IDkuMjYxOTMgOS41MzEyN0M5LjIyMTY1IDkuNTgyNzQgOS4xNjcyNSA5LjYyMTIyIDkuMTA1NDYgOS42NDE5NUw1LjEwNTMzIDEwLjk4MjhDNS4wMzY5NSAxMS4wMDU3IDQuOTYzMDMgMTEuMDA1NyA0Ljg5NDY2IDEwLjk4MjhMMC44OTQ1MjggOS42NDE5NUMwLjgzMjczOCA5LjYyMTIyIDAuNzc4MzQxIDkuNTgyNzQgMC43MzgwNTYgOS41MzEyN0MwLjY5Nzc3MiA5LjQ3OTggMC42NzMzNjYgOS40MTc1OSAwLjY2Nzg1NCA5LjM1MjMyTDAuMDAxMTY1OTYgMS4zNjMzOEMtMC4wMDI2ODUyNSAxLjMxNzE5IDAuMDAzMDI4MzYgMS4yNzA3MSAwLjAxNzk0NTkgMS4yMjY4NkMwLjAzMjg2MzUgMS4xODMwMSAwLjA1NjY2MSAxLjE0Mjc0IDAuMDg3ODM1NCAxLjEwODYxWk03LjMzMzQgMy4wMTEzMUgyLjY2NjU5VjMuNjgxNzVINi42NjY3MVY1LjAyMjYzSDMuOTk5OTZWNS42OTMwN0g2LjY2NjcxVjcuMTI3OEw0Ljk5OTk5IDcuNjg2MjhMMy4zMzMyNyA3LjEyNzhWNi4zNjM1SDIuNjY2NTlWNy42MTA1Mkw0Ljk5OTk5IDguMzkyOTJMNy4zMzM0IDcuNjEwNTJWMy4wMTEzMVoiIGZpbGw9IiNDNzRGRkYiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xNDMyXzI2NyI+CjxyZWN0IHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMC41KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=");max-width:20px;background-repeat:no-repeat;background-size:15px 15px}.wpc-tooltip-html .wpc-tooltip-icon-js{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMCAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUuMDAxMyAzLjgzMzAxVjEuMzMzMDFIMi41MDEzQzIuMjgwMjkgMS4zMzMwMSAyLjA2ODMzIDEuNDIwODEgMS45MTIwNSAxLjU3NzA5QzEuNzU1NzcgMS43MzMzNyAxLjY2Nzk3IDEuOTQ1MzMgMS42Njc5NyAyLjE2NjM0VjYuMzQwNTFDMS44MTY5MiA2LjMxODk3IDEuOTY4ODkgNi4zNDQwNSAyLjEwMzAyIDYuNDEyMzFDMi4yMzcxNSA2LjQ4MDU3IDIuMzQ2ODcgNi41ODg2NiAyLjQxNzE0IDYuNzIxNzZDMi41MzE5NSA2LjU5ODkzIDIuNjcwOCA2LjUwMTA0IDIuODI1MDUgNi40MzQxNkMyLjk3OTMxIDYuMzY3MjggMy4xNDU2NyA2LjMzMjg1IDMuMzEzOCA2LjMzMzAxSDMuMzU1NDdDMy42ODE0NiA2LjMzMzAxIDMuOTk0MTEgNi40NjI1MSA0LjIyNDYyIDYuNjkzMDJDNC40NTUxMyA2LjkyMzU0IDQuNTg0NjQgNy4yMzYxOCA0LjU4NDY0IDcuNTYyMTdWNy41ODMwMUM0LjU4NDY0IDcuNzcwNTEgNC41MTM4IDcuOTQxMzQgNC4zOTcxNCA4LjA3MDUxQzQuNTE3MTQgOC4yNTM0MiA0LjU4NDY0IDguNDcwNTEgNC41ODQ2NCA4LjY5ODQyVjguODUzODRDNC41ODQ2NCA5LjE2NTA5IDQuNDY4OCA5LjQ0OTY3IDQuMjc3OTcgOS42NjYzNEg3LjUwMTNDNy43MjIzMiA5LjY2NjM0IDcuOTM0MjggOS41Nzg1NCA4LjA5MDU2IDkuNDIyMjZDOC4yNDY4NCA5LjI2NTk4IDguMzM0NjQgOS4wNTQwMiA4LjMzNDY0IDguODMzMDFWNC42NjYzNEg1LjgzNDY0QzUuNjEzNjIgNC42NjYzNCA1LjQwMTY2IDQuNTc4NTQgNS4yNDUzOCA0LjQyMjI2QzUuMDg5MSA0LjI2NTk4IDUuMDAxMyA0LjA1NDAyIDUuMDAxMyAzLjgzMzAxWk01LjYyNjMgMy44MzMwMVYxLjU0MTM0TDguMTI2MyA0LjA0MTM0SDUuODM0NjRDNS43NzkzOCA0LjA0MTM0IDUuNzI2MzkgNC4wMTkzOSA1LjY4NzMyIDMuOTgwMzJDNS42NDgyNSAzLjk0MTI1IDUuNjI2MyAzLjg4ODI2IDUuNjI2MyAzLjgzMzAxWk0xLjc3MjE0IDYuNzQ5NjdDMS44NTUwMiA2Ljc0OTY3IDEuOTM0NSA2Ljc4MjYgMS45OTMxMSA2Ljg0MTJDMi4wNTE3MSA2Ljg5OTgxIDIuMDg0NjQgNi45NzkyOSAyLjA4NDY0IDcuMDYyMTdWOC44MzMwMUMyLjA4NDY0IDkuMDU0MDIgMS45OTY4NCA5LjI2NTk4IDEuODQwNTYgOS40MjIyNkMxLjY4NDI4IDkuNTc4NTQgMS40NzIzMiA5LjY2NjM0IDEuMjUxMyA5LjY2NjM0QzEuMDMwMjkgOS42NjYzNCAwLjgxODMyNyA5LjU3ODU0IDAuNjYyMDQ2IDkuNDIyMjZDMC41MDU3NjYgOS4yNjU5OCAwLjQxNzk2OSA5LjA1NDAyIDAuNDE3OTY5IDguODMzMDFWOC43Mjg4NEMwLjQxNzk2OSA4LjY0NTk2IDAuNDUwODkzIDguNTY2NDcgMC41MDk0OTggOC41MDc4N0MwLjU2ODEwMyA4LjQ0OTI2IDAuNjQ3NTg5IDguNDE2MzQgMC43MzA0NjkgOC40MTYzNEMwLjgxMzM0OSA4LjQxNjM0IDAuODkyODM1IDguNDQ5MjYgMC45NTE0NCA4LjUwNzg3QzEuMDEwMDQgOC41NjY0NyAxLjA0Mjk3IDguNjQ1OTYgMS4wNDI5NyA4LjcyODg0VjguODMzMDFDMS4wNDI5NyA4Ljg4ODI2IDEuMDY0OTIgOC45NDEyNSAxLjEwMzk5IDguOTgwMzJDMS4xNDMwNiA5LjAxOTM5IDEuMTk2MDUgOS4wNDEzNCAxLjI1MTMgOS4wNDEzNEMxLjMwNjU2IDkuMDQxMzQgMS4zNTk1NSA5LjAxOTM5IDEuMzk4NjIgOC45ODAzMkMxLjQzNzY5IDguOTQxMjUgMS40NTk2NCA4Ljg4ODI2IDEuNDU5NjQgOC44MzMwMVY3LjA2MjE3QzEuNDU5NjQgNi45NzkyOSAxLjQ5MjU2IDYuODk5ODEgMS41NTExNiA2Ljg0MTJDMS42MDk3NyA2Ljc4MjYgMS42ODkyNiA2Ljc0OTY3IDEuNzcyMTQgNi43NDk2N1pNMy4zMTM4IDYuNzQ5NjdDMy4wOTgzMSA2Ljc0OTY3IDIuODkxNjUgNi44MzUyOCAyLjczOTI4IDYuOTg3NjVDMi41ODY5IDcuMTQwMDIgMi41MDEzIDcuMzQ2NjkgMi41MDEzIDcuNTYyMTdWNy42NTk2N0MyLjUwMTMgNy45MTU1MSAyLjYzNTg5IDguMTUzMDEgMi44NTU0NyA4LjI4NDY3TDMuNDkyNTUgOC42NjcxN0MzLjUwNzkzIDguNjc2NDMgMy41MjA2NCA4LjY4OTUxIDMuNTI5NDggOC43MDUxM0MzLjUzODMxIDguNzIwNzYgMy41NDI5NiA4LjczODM5IDMuNTQyOTcgOC43NTYzNFY4Ljg1Mzg0QzMuNTQyOTcgOC45MDM1NyAzLjUyMzIxIDguOTUxMjYgMy40ODgwNSA4Ljk4NjQyQzMuNDUyODkgOS4wMjE1OSAzLjQwNTIgOS4wNDEzNCAzLjM1NTQ3IDkuMDQxMzRIMy4zMTM4QzMuMjY0MDcgOS4wNDEzNCAzLjIxNjM4IDkuMDIxNTkgMy4xODEyMiA4Ljk4NjQyQzMuMTQ2MDYgOC45NTEyNiAzLjEyNjMgOC45MDM1NyAzLjEyNjMgOC44NTM4NFY4LjgzMzAxQzMuMTI2MyA4Ljc1MDEzIDMuMDkzMzggOC42NzA2NCAzLjAzNDc3IDguNjEyMDRDMi45NzYxNyA4LjU1MzQzIDIuODk2NjggOC41MjA1MSAyLjgxMzggOC41MjA1MUMyLjczMDkyIDguNTIwNTEgMi42NTE0NCA4LjU1MzQzIDIuNTkyODMgOC42MTIwNEMyLjUzNDIzIDguNjcwNjQgMi41MDEzIDguNzUwMTMgMi41MDEzIDguODMzMDFWOC44NTM4NEMyLjUwMTMgOS4wNjkzMyAyLjU4NjkgOS4yNzU5OSAyLjczOTI4IDkuNDI4MzZDMi44OTE2NSA5LjU4MDc0IDMuMDk4MzEgOS42NjYzNCAzLjMxMzggOS42NjYzNEgzLjM1NTQ3QzMuNTcwOTYgOS42NjYzNCAzLjc3NzYyIDkuNTgwNzQgMy45Mjk5OSA5LjQyODM2QzQuMDgyMzcgOS4yNzU5OSA0LjE2Nzk3IDkuMDY5MzMgNC4xNjc5NyA4Ljg1Mzg0VjguNzU2MzRDNC4xNjc5MSA4LjYzMDQ1IDQuMTM1MjYgOC41MDY3MyA0LjA3MzE5IDguMzk3MkM0LjAxMTEzIDguMjg3NjcgMy45MjE3NyA4LjE5NjA4IDMuODEzOCA4LjEzMTM0TDMuMTc2NzIgNy43NDg4NEMzLjE2MTM1IDcuNzM5NTggMy4xNDg2MyA3LjcyNjUgMy4xMzk3OSA3LjcxMDg4QzMuMTMwOTYgNy42OTUyNiAzLjEyNjMxIDcuNjc3NjIgMy4xMjYzIDcuNjU5NjdWNy41NjIxN0MzLjEyNjMgNy41MTI0NSAzLjE0NjA2IDcuNDY0NzUgMy4xODEyMiA3LjQyOTU5QzMuMjE2MzggNy4zOTQ0MyAzLjI2NDA3IDcuMzc0NjcgMy4zMTM4IDcuMzc0NjdIMy4zNTU0N0MzLjQwNTIgNy4zNzQ2NyAzLjQ1Mjg5IDcuMzk0NDMgMy40ODgwNSA3LjQyOTU5QzMuNTIzMjEgNy40NjQ3NSAzLjU0Mjk3IDcuNTEyNDUgMy41NDI5NyA3LjU2MjE3VjcuNTgzMDFDMy41NDI5NyA3LjY2NTg5IDMuNTc1ODkgNy43NDUzNyAzLjYzNDUgNy44MDM5OEMzLjY5MzEgNy44NjI1OCAzLjc3MjU5IDcuODk1NTEgMy44NTU0NyA3Ljg5NTUxQzMuOTM4MzUgNy44OTU1MSA0LjAxNzgzIDcuODYyNTggNC4wNzY0NCA3LjgwMzk4QzQuMTM1MDQgNy43NDUzNyA0LjE2Nzk3IDcuNjY1ODkgNC4xNjc5NyA3LjU4MzAxVjcuNTYyMTdDNC4xNjc5NyA3LjM0NjY5IDQuMDgyMzcgNy4xNDAwMiAzLjkyOTk5IDYuOTg3NjVDMy43Nzc2MiA2LjgzNTI4IDMuNTcwOTYgNi43NDk2NyAzLjM1NTQ3IDYuNzQ5NjdIMy4zMTM4WiIgZmlsbD0iIzIyQjczQSIvPgo8L3N2Zz4K");max-width:20px;background-repeat:no-repeat;background-size:15px 15px}.wpc-tooltip-html .wpc-tooltip-icon-cdn{max-width:20px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMCAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQuMTY4NTMgMy41NzM3MUMzLjk5NjY2IDMuMjI0MTMgMy40OTg2MiAzLjIyNDEzIDMuMzI2NzUgMy41NzM3MUwyLjQyMjQ4IDUuNDA5NDlMMC40MDEwNDcgNS43MDQzOEMwLjAxODI0NDcgNS43NTkwNiAtMC4xMzYwNDggNi4yMzE2OCAwLjE0MTI4OCA2LjUwMzE0TDEuNjA0MTQgNy45MzI3TDEuMjYwNCA5Ljk1MDExQzEuMTk0IDEwLjMzMjkgMS41OTYzMyAxMC42MjU4IDEuOTQwMDcgMTAuNDQ0MkwzLjc0ODYyIDkuNDkxMTZMNS41NTcxNiAxMC40NDQyQzUuOTAwOSAxMC42MjU4IDYuMzAzMjQgMTAuMzMyOSA2LjIzNjgzIDkuOTUwMTFMNS44OTExNCA3LjkzMjdMNy4zNTM5OSA2LjUwMzE0QzcuNjMxMzMgNi4yMzE2OCA3LjQ3ODk5IDUuNzU5MDYgNy4wOTQyMyA1LjcwNDM4TDUuMDcyOCA1LjQwOTQ5TDQuMTY4NTMgMy41NzM3MVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xNDMyXzIzMSkiLz4KPHBhdGggZD0iTTYuMDkzNzIgMi41MzEwN0w2LjM2MzI1IDMuNDc0MzVDNi4zODg2NCAzLjU2NDE5IDYuNDcwNjYgMy42MjQ3MyA2LjU2MjQ2IDMuNjI0NzNDNi42NTQyNSAzLjYyNDczIDYuNzM2MjggMy41NjQxOSA2Ljc2MTY3IDMuNDc0MzVMNy4wMzEyIDIuNTMxMDdMNy45NzQ1MyAyLjI2MTU3QzguMDY0MzcgMi4yMzYxOCA4LjEyNDkyIDIuMTU0MTUgOC4xMjQ5MiAyLjA2MjM2QzguMTI0OTIgMS45NzA1OCA4LjA2NDM3IDEuODg4NTUgNy45NzQ1MyAxLjg2MzE2TDcuMDMxMiAxLjU5MzY1TDYuNzYxNjcgMC42NTAzNzhDNi43MzYyOCAwLjU2MDU0MiA2LjY1NDI1IDAuNSA2LjU2MjQ2IDAuNUM2LjQ3MDY2IDAuNSA2LjM4ODY0IDAuNTYwNTQyIDYuMzYzMjUgMC42NTAzNzhMNi4wOTM3MiAxLjU5MzY1TDUuMTUwMzkgMS44NjMxNkM1LjA2MDU1IDEuODg4NTUgNSAxLjk3MDU4IDUgMi4wNjIzNkM1IDIuMTU0MTUgNS4wNjA1NSAyLjIzNjE4IDUuMTUwMzkgMi4yNjE1N0w2LjA5MzcyIDIuNTMxMDdaTTguMzc0OTEgNS4yNDk1OUw4LjU4OTc1IDYuMDAzNDNDOC42MDkyOCA2LjA3MzczIDguNjc1NjkgNi4xMjQ1MSA4Ljc0OTkgNi4xMjQ1MUM4LjgyNDEyIDYuMTI0NTEgOC44ODg1NyA2LjA3NTY5IDguOTEwMDUgNi4wMDM0M0w5LjEyNDg5IDUuMjQ5NTlMOS44Nzg3OCA1LjAzNDc2QzkuOTQ5MDkgNS4wMTUyMyA5Ljk5OTg3IDQuOTQ4ODMgOS45OTk4NyA0Ljg3NDYyQzkuOTk5ODcgNC44MDA0MSA5Ljk1MTA0IDQuNzM1OTYgOS44Nzg3OCA0LjcxNDQ4TDkuMTI0ODkgNC40OTk2NUw4LjkxMDA1IDMuNzQ1ODFDOC44OTA1MiAzLjY3NTUgOC44MjQxMiAzLjYyNDczIDguNzQ5OSAzLjYyNDczQzguNjc1NjkgMy42MjQ3MyA4LjYxMTIzIDMuNjczNTUgOC41ODk3NSAzLjc0NTgxTDguMzc0OTEgNC40OTk2NUw3LjYyMTAzIDQuNzE0NDhDNy41NTA3MSA0LjczNDAxIDcuNDk5OTMgNC44MDA0MSA3LjQ5OTkzIDQuODc0NjJDNy40OTk5MyA0Ljk0ODgzIDcuNTQ4NzYgNS4wMTMyOCA3LjYyMTAzIDUuMDM0NzZMOC4zNzQ5MSA1LjI0OTU5WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzE0MzJfMjMxKSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzE0MzJfMjMxIiB4MT0iNy4yMjUzZS0wNyIgeTE9IjEyLjA4MzciIHgyPSI4LjY2Mzk3IiB5Mj0iMTAuNzE3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM1OUE4RTMiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNDI3M0YwIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQxX2xpbmVhcl8xNDMyXzIzMSIgeDE9IjUiIHkxPSI3LjM2NDI0IiB4Mj0iMTAuODE3NyIgeTI9IjYuNTgxOTEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzU5QThFMyIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM0MjczRjAiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K");background-repeat:no-repeat;background-size:15px 15px}.tooltipster-sidetip.tooltipster-top .tooltipster-arrow-background{border-top-color:#ffffff}.tooltipster-sidetip.tooltipster-top .tooltipster-arrow-border{border-top-color:#ffffff}.wpc-plain-btn{display:inline-flex;justify-content:center;align-content:center;padding:10px;margin-right:15px;text-decoration:none;color:#5CB1FF}.wpc-plain-btn:focus{outline:none;box-shadow:none}.wpc-plain-btn img{margin-right:10px}.wpc-popup-options{margin-top:50px}.wpc-popup-option{border:1px solid #5CB1FF;display:flex;flex-wrap:wrap;justify-content:space-between;max-width:5~~2~~0px;margin:0 auto;border-radius:10px;overflow:hidden}.wpc-popup-option>div{height:70px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;color:white;font-size:20px}.wpc-popup-option .wpc-popup-option-icon{flex:1 0 calc(15% - 10px);background-color:#E8F1FF}.wpc-popup-option .wpc-popup-option-description{flex:1 0 calc(70% - 10px);background-color:#fff;color:#333;flex-direction:column;justify-content:center;align-items:flex-start;padding:10px 5px 10px 15px}.wpc-popup-option .wpc-popup-option-description h4{text-align:left;margin:0 0 2px 0px;font-size:14px;color:#595959 !important}.wpc-popup-option .wpc-popup-option-description p{text-align:left;margin:0;color:#9199A6 !important}.wpc-popup-option .wpc-popup-option-checkbox{flex:1 0 calc(15% - 10px);background-color:#fff}#select-mode-popup-inner{margin-bottom:25px !important}#select-mode-popup-inner .inline-heading h3{font-size:30px;color:#314B72;margin-bottom:5px}#select-mode-popup-inner .inline-heading p{margin-top:0 !important;margin-bottom:20px !important;font-size:13px;color:#9199A6}#select-mode-popup-inner .checkbox{margin:0px !important;border:0px !important;min-width:0px !important;min-height:0px !important;border-radius:0px !important;outline:none !important;box-shadow:none !important}#select-mode-popup-inner .checkbox:checked{background-color:#5CB1FF;border-color:#5CB1FF;background-image:url("../assets/images/check.svg") !important;background-size:auto !important;background-position:center;box-shadow:none}#select-mode-popup-inner .checkbox:focus{box-shadow:none}#select-mode-popup-inner .checkbox:checked:before{content:"" !important}#select-mode-popup-inner .wpc-box-check,#select-mode-popup-inner .wpc-iconcheckbox-toggle,#select-mode-popup-inner input[type='checkbox']{cursor:pointer}#select-mode-popup-inner input[type='checkbox']{height:0;width:0;position:absolute;pointer-events:none}#select-mode-popup-inner input[type='checkbox']+label{padding:20px;position:relative;display:flex;align-items:center;color:#9e9e9e;transition:color 200ms cubic-bezier(.4, 0, .23, 1)}#select-mode-popup-inner input[type='checkbox']+label.with-label>div{width:65px;padding-right:10px;font-size:11px;text-align:right}#select-mode-popup-inner input[type='checkbox']+label>span{display:flex;justify-content:center;align-items:center;width:24px;height:24px;background:transparent;border:1px solid rgba(0,0,0,0.25);border-radius:.25em;cursor:pointer;transition:all 200ms cubic-bezier(.4, 0, .23, 1)}#select-mode-popup-inner input[type='checkbox']+label:hover>span,#select-mode-popup-inner input[type='checkbox']:focus+label>span{background:rgba(255,255,255,0.1)}#select-mode-popup-inner input[type='checkbox']:checked+label>span{height:0 !important;width:0 !important;border:13px solid #5CB1FF !important;animation:shrink-bounce 200ms cubic-bezier(.4, 0, .23, 1) !important}#select-mode-popup-inner input[type='checkbox']:checked+label.with-label>span{position:relative !important}#select-mode-popup-inner input[type='checkbox']:checked+label.with-label>span:before{top:-10px !important;left:-5px !important}#select-mode-popup-inner input[type='checkbox']:checked+label>span:before{content:"";position:absolute !important;top:22px !important;left:27px !important;height:9px !important;width:4px !important;border-right:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(45deg) !important;transform-origin:0% 100% !important;animation:checkbox-check 125ms 200ms cubic-bezier(.4, 0, .23, 1) forwards !important}#select-mode-popup-inner input[type='checkbox'].wpc-locked-checkbox:not(:checked)+label>span:after{position:absolute;content:'' !important;background-color:transparent !important}#select-mode-popup-inner input[type='checkbox'].wpc-locked-checkbox:not(:checked)+label>span:before{border:4px solid #C5D3E3;border-radius:3px;background:#C5D3E3;position:absolute;transform:rotate(0deg) !important;content:'' !important;background-image:url('../images/option-locked.svg') !important;background-position:center center;background-size:15px 15px;width:20px !important;height:20px !important;background-repeat:no-repeat}@keyframes shrink-bounce{0%{transform:scale(1)}33%{transform:scale(.85)}100%{transform:scale(1)}}@keyframes checkbox-check{0%{width:0;height:0;border-color:white;transform:translate3d(0, 0, 0) rotate(45deg)}33%{width:4px;height:0;transform:translate3d(0, 0, 0) rotate(45deg)}100%{width:4px;height:8px;border-color:white;transform:translate3d(0, -0.4em, 0) rotate(45deg)}}.wpc-popup-select-bar-container{width:70%;margin:0 auto}.wpc-popup-select-bar-container .wpc-select-bar{position:relative}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter{display:inline-block;height:5px;width:100%;border-radius:5px;background:#E9E9E9;transition:all .3s ease-in-out}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter .wpc-select-bar-inner{position:absolute;left:0;display:inline-block;height:5px;border-radius:5px;background:#0a9bd6;transition:all .3s ease-in-out}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter .wpc-select-bar-inner:before{content:'';display:inline-block;width:10px;height:10px;border:3px solid #0a9bd6;background:#fff;border-radius:50%;position:absolute;right:0;top:-5px}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter .wpc-select-bar-inner.wpc-select-bar-width-1{width:9%}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter .wpc-select-bar-inner.wpc-select-bar-width-2{width:50%}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter .wpc-select-bar-inner.wpc-select-bar-width-3{width:100%}.cdn-popup-save-btn{margin-top:30px;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;border-radius:4px;color:#fff !important;font-weight:normal;text-align:center;padding:15px 65px;text-decoration:none;transition:transform .3s ease-in-out;justify-content:center;align-items:center;display:inline-flex;font-size:15px}.cdn-popup-save-btn img{margin-right:15px}.cdn-popup-save-btn:hover{transform:scale(1.1)}.wpc-popup-columns{display:inline-flex;flex-direction:row;flex-wrap:wrap;width:86%;gap:25px;justify-content:space-between;align-items:stretch}.wpc-popup-columns.wpc-three-columns .wpc-popup-column{flex:1}.wpc-popup-columns.wpc-three-columns .wpc-popup-column .wpc-column-heading{padding:20px 10px}.wpc-popup-columns.wpc-three-columns .wpc-popup-column .wpc-column-heading h3{color:#A2A2A2;margin-bottom:10px;font-size:16px;font-weight:normal}.wpc-popup-columns.wpc-three-columns .wpc-popup-column .wpc-column-heading p{color:#9199A6;margin-bottom:10px;font-size:13px}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul{list-style:none;padding:0;margin:0;border-radius:10px;border:1px solid #E9E9E9;padding:20px;transition:transform .3s ease-in-out}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul:hover{transform:scale(1.05);cursor:pointer}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul li{padding:4px;font-size:14px;text-align:left;color:#c5c5c5}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul li:before{content:'';display:inline-block;border-radius:50%;width:8px;height:8px;background:#E9E9E9;margin-right:10px}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul li.wpc-active{color:#595959}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul li.wpc-active:before{background-color:#5CB1FF}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active .wpc-column-heading{padding:20px 10px}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active .wpc-column-heading h3{color:#595959;margin-bottom:10px;font-size:16px;font-weight:bold}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active .wpc-column-heading p{color:#9199A6;margin-bottom:10px;font-size:13px}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active ul{transform:scale(1.05);background:#171A32 !important}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active ul li{color:#c5c5c5 !important}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active ul li:before{background-color:#c5c5c5}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active ul li.wpc-active{color:#fff !important}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active ul li.wpc-active:before{background-color:#00F0FF !important}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-darker ul{background:#fff}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-darker ul li{color:#595959}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-darker ul li:before{background-color:#5CB1FF}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-darker.wpc-active li.wpc-active{color:#fff !important}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-darker.wpc-active li.wpc-active:before{background-color:#00F0FF !important}.wpc-pull-stats-container{display:flex;justify-content:left;align-items:center}.wpc-pull-stats-container img.wpc-pull-stats-icon{filter:invert(100%) sepia(0%) saturate(7495%) hue-rotate(251deg) brightness(99%) contrast(98%);width:15px}.wpc-pull-stats-container img{margin-left:0px;margin-right:10px}.wpc-pull-stats-container h3{margin:0}.wpc-pull-stats-container h3 a{display:inline-flex !important;vertical-align:middle !important;margin-left:15px !important;border-radius:50px !important;border:0px !important;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;padding:5px 20px !important}.wpc-input-holder span{display:inline-block;padding:0px 10px}.wpc-input-holder input{display:inline-block;padding:0px 10px;border:1px solid #ececec !important;width:80px;text-align:right}.wpc-optimizer-running{vertical-align:middle}.wpc-optimizer-running img{vertical-align:middle}.wps\_ic\_settings\_page{font-family:'proxima\_regular',sans-serif}.wpc-btn-return{border-radius:24px !important;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;display:inline-block !important;justify-content:center !important;align-items:center !important;padding:15px 25px !important;font-weight:bold !important;font-size:13px !important;color:#fff !important}.wp-compress-bulk-area .wp-compress-bulk-split{display:flex;flex-direction:row;column-gap:20px}.wp-compress-bulk-area .wp-compress-bulk-split .bulk-split-side{flex:1;text-align:center}.wpc-popup-custom-padding .swal2-popup{padding:0px}.swal2-popup .cdn-popup-footer-info{border-bottom-left-radius:5px;border-bottom-right-radius:5px;overflow:hidden;background:#E5E7E9}.swal2-popup .cdn-popup-footer-info a{display:inline-block;text-decoration:none;margin:1em 0;font-size:13px;color:#A8AFBB}.swal2-popup .cdn-popup-footer-info a img{width:14px;margin-right:10px}.wpc-compatibility-popup{padding:35px}.wpc-compatibility-popup .cdn-popup-top-left{text-align:left}.wpc-compatibility-popup .cdn-popup-top-left img{max-height:135px}.wpc-compatibility-popup .cdn-popup-buttons button{display:inline-flex}.wpc-compatibility-popup .cdn-popup-buttons button .wpc-button-icon{display:inline-block;width:18px;height:18px;margin-right:10px}.wpc-compatibility-popup .cdn-popup-buttons button.wpc-popup-confirm .wpc-button-icon{background:url("../images/popups/alert-icon.svg") center center no-repeat;background-size:contain}.wpc-compatibility-popup .cdn-popup-buttons button.wpc-popup-confirm:hover .wpc-button-icon{filter:invert(65%) sepia(47%) saturate(1056%) hue-rotate(178deg) brightness(92%) contrast(93%)}.wpc-compatibility-popup .cdn-popup-buttons button.wpc-get-support .wpc-button-icon{background:url("../images/popups/support-btn.svg") center center no-repeat;background-size:contain}.wpc-compatibility-popup .cdn-popup-buttons button.wpc-get-support:hover .wpc-button-icon{filter:brightness(0) invert(1)}.wpc-compatibility-popup .wpc-popup-confirm{background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%);border-radius:4px;display:inline-block;padding:12px 25px;border:1px solid #59A8E3;color:#fff;font-family:'proxima\_semibold';font-size:16px;line-height:20px}.wpc-compatibility-popup .wpc-popup-confirm:hover{cursor:pointer;background:transparent !important;color:#467CEF}.wpc-compatibility-popup .wpc-get-support{background:transparent !important;border-radius:4px;display:inline-block;padding:12px 25px;border:1px solid #59A8E3;color:#467CEF;font-family:'proxima\_semibold';font-size:16px;line-height:20px}.wpc-compatibility-popup .wpc-get-support:hover{cursor:pointer;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;color:#fff}.wpc-compatibility-popup .cdn-popup-content h3{font-family:'proxima\_semibold';text-align:left;line-height:30px;font-size:20px;color:#0A0641;font-weight:400}.wpc-compatibility-popup .cdn-popup-content p{font-family:'proxima\_light';text-align:left;font-weight:300;font-size:16px;line-height:24px;color:#A8AFBB}#cdn-popup-inner \*{max-width:100%}#cdn-popup-inner .cdn-popup-bottom-border{height:10px;background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;width:100%;content:'';position:absolute;left:0;bottom:0;right:0}.wpc-loading-spinner{display:flex;flex:1;justify-content:flex-end;align-items:center}.wpc-loading-spinner .snippet{position:relative;border-radius:0;width:100%;max-width:200px}.wpc-loading-spinner .stage{height:50px;display:flex;justify-content:center;align-items:center;position:relative;overflow:hidden}.wpc-loading-spinner .dot-pulse{position:relative;left:-9999px;width:10px;height:10px;border-radius:5px;background-color:#5CB1FF;color:#5CB1FF;box-shadow:9999px 0 0 -5px #5CB1FF;animation:dotPulse 1.5s infinite linear;animation-delay:.25s}.wpc-loading-spinner .dot-pulse::before,.wpc-loading-spinner .dot-pulse::after{content:'';display:inline-block;position:absolute;top:0;width:10px;height:10px;border-radius:5px;background-color:#5CB1FF;color:#5CB1FF}.wpc-loading-spinner .dot-pulse::before{box-shadow:9984px 0 0 -5px #5CB1FF;animation:dotPulseBefore 1.5s infinite linear;animation-delay:0s}.wpc-loading-spinner .dot-pulse::after{box-shadow:10014px 0 0 -5px #5CB1FF;animation:dotPulseAfter 1.5s infinite linear;animation-delay:.5s}@keyframes dotPulseBefore{0%{box-shadow:9984px 0 0 -5px #5CB1FF}30%{box-shadow:9984px 0 0 2px #5CB1FF}60%,100%{box-shadow:9984px 0 0 -5px #5CB1FF}}@keyframes dotPulse{0%{box-shadow:9999px 0 0 -5px #5CB1FF}30%{box-shadow:9999px 0 0 2px #5CB1FF}60%,100%{box-shadow:9999px 0 0 -5px #5CB1FF}}@keyframes dotPulseAfter{0%{box-shadow:10014px 0 0 -5px #5CB1FF}30%{box-shadow:10014px 0 0 2px #5CB1FF}60%,100%{box-shadow:10014px 0 0 -5px #5CB1FF}}.wpc-list-item-ul{list-style:none !important}.wpc-list-item-ul li{padding:5px}.wpc-bulk-list h3,.wpc-bulk-list h4{display:block;width:100%}.custom-cdn-error-message{color:#ff0000;display:inline-block;font-size:13px;border-radius:5px;padding:10px;background:#ffd6d6}.wpc-check-cdn-link{margin-top:20px;margin-bottom:20px;display:inline-block;text-decoration:none;color:#000;border:1px solid #c7c7c7;padding:10px 29px;border-radius:40px;font-size:13px;font-weight:bold;background:#f3f3f3}.wpc-advanced-settings-container-v4{margin:40px auto 0px auto;max-width:1300px;width:100%}.wpc-advanced-settings-container-v4 .wpc-dropdown{min-width:300px;text-align:right;position:relative;display:inline-block}.wpc-advanced-settings-container-v4 .wpc-dropdown.wpc-dropdown-left{text-align:left !important;margin-left:30px;min-width:200px !important}.wpc-advanced-settings-container-v4 .wpc-dropdown.wpc-dropdown-left .wpc-dropdown-menu{left:5px !important}.wpc-advanced-settings-container-v4 .wpc-dropdown button{min-width:170px;appearance:none;border:0;border-radius:40px !important;outline:0;font:inherit;font-size:13px;font-weight:500;height:auto;padding:12px 40px 12px 20px;background:url(../images/caret-down-v2.svg) no-repeat right 20px center,linear-gradient(to left, #EFF7FF 3em, #EFF7FF 3em);color:#314B72;cursor:pointer}.wpc-advanced-settings-container-v4 .wpc-dropdown button:hover,.wpc-advanced-settings-container-v4 .wpc-dropdown button:focus{background:url(../images/caret-down-v2.svg) no-repeat right 20px center,linear-gradient(to left, #EFF7FF 3em, #EFF7FF 3em) !important;color:#314B72 !important}.wpc-advanced-settings-container-v4 .wpc-dropdown .wpc-dropdown-menu{width:170px;position:absolute;transform:translate3d(0, 38px, 0);top:0px;right:0px;will-change:transform;z-index:1000;display:none;float:left;min-width:10rem;padding:0 0;margin:.125rem 0 0;font-size:13px;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,0.15);border-radius:.25rem}.wpc-advanced-settings-container-v4 .wpc-dropdown .wpc-dropdown-menu .dropdown-item{cursor:pointer;display:inline-block;width:100%;box-sizing:border-box;padding:8px 15px;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0;text-decoration:none}.wpc-advanced-settings-container-v4 .wpc-dropdown .wpc-dropdown-menu .dropdown-item:focus,.wpc-advanced-settings-container-v4 .wpc-dropdown .wpc-dropdown-menu .dropdown-item:hover{font-weight:500;color:#16181b;text-decoration:none;background-color:#f8f9fa}.wpc-advanced-settings-container-v4 .wps-critical-table{border-spacing:0;border-collapse:collapse}.wpc-advanced-settings-container-v4 .wps-critical-table .wpc-critical-page-name{font-weight:500}.wpc-advanced-settings-container-v4 .wps-critical-table thead th{padding:8px 12px;text-align:left}.wpc-advanced-settings-container-v4 .wps-critical-table tbody tr:nth-child(odd){background:#5cb1ff0f}.wpc-advanced-settings-container-v4 .wps-critical-table tbody td{padding:8px 12px}.wpc-advanced-settings-container-v4 .wps-critical-table a{color:#19335b}.wpc-advanced-settings-container-v4 .wpc-warning-icon{width:32px;height:32px;margin-right:10px;background:#5CB1FF;display:flex;justify-content:center;align-items:center;float:left;border-radius:50%}.wpc-advanced-settings-container-v4 .wpc-warning-icon:before{content:'';width:15px;height:15px;background:url('../images/warning.svg');background-size:99% 99%}.wpc-advanced-settings-container-v4 .action-buttons{display:flex;flex:1;justify-content:right}.wpc-advanced-settings-container-v4 .btn{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:all .2s ease-out}.wpc-advanced-settings-container-v4 .btn:hover{background:#2271b1 !important;transform:scale(1.1)}.wpc-advanced-settings-container-v4 .btn.btn-radius{border-radius:25px;font-size:13px;padding:13px 40px}.wpc-advanced-settings-container-v4 .btn.btn-gradient{color:#fff;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;font-weight:500;border:none}.wpc-advanced-settings-container-v4 .btn.btn-flex{display:flex}.wpc-advanced-settings-container-v4 .btn span{display:flex;margin-right:10px}.wpc-advanced-settings-container-v4 .btn span img{width:21px;filter:brightness(0) saturate(100%) invert(96%) sepia(4%) saturate(14%) hue-rotate(154deg) brightness(105%) contrast(106%)}.wpc-advanced-settings-container-v4 .addon-buttons{display:flex;margin-left:30px;justify-content:flex-end;align-items:center}.wpc-advanced-settings-container-v4 .addon-buttons .btn{display:flex;justify-content:center;align-items:center;padding:13px 20px;font-weight:500}.wpc-advanced-settings-container-v4 .addon-buttons .btn.btn-gradient{background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important}.wpc-advanced-settings-container-v4 .addon-buttons .btn.btn-radius{border-radius:24px}.wpc-advanced-settings-container-v4 .addon-buttons .btn span{display:flex;margin-right:10px}.wpc-advanced-settings-container-v4 .addon-buttons .btn span img{width:21px;filter:brightness(0) saturate(100%) invert(96%) sepia(4%) saturate(14%) hue-rotate(154deg) brightness(105%) contrast(106%)}.wpc-advanced-settings-container-v4 .save-button{display:flex;flex:3}.wpc-advanced-settings-container-v4 .save-button .save-notification{flex:1;display:flex;justify-content:left;align-content:center;flex-grow:2}.wpc-advanced-settings-container-v4 .save-button .save-notification .save-notification-inside{padding:3px 8px !important;background:rgba(70,123,239,0.05);border:1px solid #C2E1FE;border-radius:100px;text-align:left;display:flex;align-items:center;width:100%;margin-right:15px}.wpc-advanced-settings-container-v4 .save-button .save-notification .save-notification-inside p{margin:0;padding:2px 0px;font-style:normal;font-weight:500;font-size:13px;display:flex;align-items:center;letter-spacing:-0.1px;color:#5CB1FF}.wpc-advanced-settings-container-v4 .save-button .save-button-inside{display:flex;justify-content:right;align-content:center}.wpc-advanced-settings-container-v4 .save-button .save-button-inside input{width:135px;padding:14px 20px;background:#5CB1FF;border-radius:100px;border:0px solid transparent;font-style:normal;font-weight:300;font-size:14px;color:#FFFFFF}.wpc-advanced-settings-container-v4 .save-button-inside button{display:flex;align-items:center}.wpc-advanced-settings-container-v4 .wpc-save-button-icon{margin-right:10px;content:'';background:url('../images/floppy.svg');background-size:100% auto;width:16px;height:16px;display:inline-block}.wpc-advanced-settings-container-v4 .wpc-header{display:flex;flex-direction:row;column-gap:30px;margin-bottom:15px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-pro-site{display:inline-block;margin-left:20px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-pro-site span{display:inline-block;padding:4px 10px;border-radius:5px;background:#5CB1FF;color:#fff;font-family:'proxima\_regular' !important;letter-spacing:.3px;font-size:12px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-left{width:100%;max-width:300px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-left img{width:100%;max-width:180px;padding:6px 0px 3px 0px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-right{flex:1}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-right .wpc-header-right-inner{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-logo{display:inline-block;vertical-align:middle;margin-left:15px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-logo img{max-height:50px}.wpc-advanced-settings-container-v4 .wpc-critical-circle{display:inline-block;content:'';width:10px;height:10px;margin-right:10px;background:#A0AAB6;border-radius:100%}.wpc-advanced-settings-container-v4 .wpc-critical-circle.wpc-done{background:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-critical-circle.wpc-error{background:#ec0012}.wpc-advanced-settings-container-v4 .wpc-critical-circle.wpc-unknown{background:#d9e2ed}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container{display:flex;align-items:center;justify-content:space-between}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner{display:flex;align-items:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-title{flex:3;flex-direction:column;display:flex;justify-content:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-dropdown-container{flex:1;text-align:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-dropdown-container select{appearance:none;border:0;border-radius:40px !important;outline:0;font:inherit;font-size:13px;font-weight:500;height:auto;padding:12px 40px 12px 20px;background:url('../images/caret-down-v2.svg') no-repeat right 20px center,linear-gradient(to left, #EFF7FF 3em, #EFF7FF 3em);color:#314B72;cursor:pointer}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-dropdown-container select option{color:inherit;background-color:#320a28}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-dropdown-container select:focus{outline:none;box-shadow:none !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-dropdown-container select::-ms-expand{display:none}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs{display:flex;flex-direction:row;column-gap:30px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-list{width:100%;max-width:260px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content{flex:1;display:flex;justify-content:flex-start;align-items:flex-start;max-width:1320px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-beta-badge{display:inline-block;padding:3px 10px;background:#19335B;color:#fff;border-radius:5px;font-size:10px;margin-left:10px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wps-ic-configure-popup{width:16px;height:16px;display:inline-block}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wps-ic-configure-popup.LockedTooltip{background:#E9EDF0 !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wps-ic-configure-popup img{width:100%;filter:brightness(0) saturate(100%) invert(76%) sepia(13%) saturate(263%) hue-rotate(179deg) brightness(88%) contrast(90%)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-cname h4{font-family:'proxima\_semibold' !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-cname .wps-ic-configure-popup{width:auto !important;height:auto !important;display:inline-block;color:#5CB1FF;background:#e8f1ff;border:none;border-radius:25px;font-size:13px;padding:11px 30px;text-decoration:none;transition:all .2s ease-out}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-cname .wps-ic-configure-popup:hover{transform:scale(1.1)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-cname .wps-ic-configure-popup img{width:16px;filter:brightness(0) saturate(100%) invert(76%) sepia(13%) saturate(263%) hue-rotate(179deg) brightness(88%) contrast(90%)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-checkbox-title-holder{margin-bottom:10px;display:flex;align-items:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-checkbox-title-holder h4{font-size:1.1em;padding-left:10px !important;display:flex;margin:0;align-items:center;font-family:'proxima\_semibold' !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-checkbox-title-holder h4 .wps-ic-configure-popup{margin-left:10px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-settings-tab-content-inner{display:flex;flex:1;align-items:start;justify-content:start}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content{flex:1;display:flex;flex-direction:column}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label>span{height:0;width:0;border:13px solid #C5D3E3;background:#C5D3E3}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label.with-label>span{position:relative}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label.with-label>span:before{top:-5px;left:-5px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label>span:before,.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label>span:after{position:absolute;content:' ';height:13px;width:2px;background-color:#fff}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label>span:before{transform:rotate(45deg)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label>span:after{transform:rotate(-45deg)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox'].wpc-locked-checkbox:not(:checked)+label>span:after{position:absolute;content:'' !important;background-color:transparent !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox'].wpc-locked-checkbox:not(:checked)+label>span:before{position:absolute;transform:rotate(0deg) !important;content:'' !important;background-image:url('../images/option-locked.svg') !important;background-position:center center;background-size:15px 15px;background-color:transparent !important;width:20px !important;height:20px !important;background-repeat:no-repeat}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box{background:#fff !important;border-radius:4px;flex:1;padding:20px 20px;margin-bottom:15px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box #pagination{text-align:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .optimization-status-pagination-link{display:inline-block;margin:0 5px;padding:5px 10px;text-decoration:none;color:#007bff;border:1px solid #ddd;border-radius:4px;background-color:#f8f9fa;transition:background-color .3s,color .3s}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .optimization-status-pagination-link:hover{color:#fff;background-color:#007bff;text-decoration:none}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .optimization-status-pagination-link.active{color:#fff;background-color:#0056b3;border-color:#0056b3}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wp-compress-settings-row-blank{margin:0px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wp-compress-settings-row-blank .pre-inner{margin:0px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wp-compress-settings-row-blank .youve-saved{padding:0px;text-align:left}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wp-compress-settings-row-blank .youve-saved h3{margin:0;margin-left:8px;margin-bottom:10px;display:block;font-size:14px;font-weight:400;line-height:normal !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wp-compress-settings-row-blank .youve-saved h4{margin:0;margin-left:3px;margin-top:5px;margin-bottom:-5px;display:block;font-size:20px !important;font-weight:500}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .stats-boxes .stats-box-single{flex:none !important;padding:15px 20px;text-align:left}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .stats-boxes .stats-box-single .stats-box-icon-holder{margin-right:15px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .stats-boxes .stats-box-single h3{text-align:left;font-size:14px;font-weight:600}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .stats-boxes .stats-box-single h5{text-align:left;font-size:11px;font-weight:400}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box p{color:#9199A6}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal{display:flex;flex-direction:row}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-tab-title{position:relative;padding-right:30px;margin-right:30px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-tab-title:before{position:absolute;right:0;content:'';width:1px;height:90%;background:#E9E9E9}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-checkbox-description{padding-right:0px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-tab-content-inner{display:flex;justify-content:left;align-items:center;flex:1}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-checkbox-description .wpc-checkbox-description-inner{width:100%;display:flex;flex-direction:row;justify-content:left;align-items:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-checkbox-description .wpc-checkbox-description-inner input[type='checkbox']+label{padding:0 10px 0px 0px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-checkbox-description h4{flex:1;display:flex}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wpc-tab-content-inner.wpc-vertical{flex-direction:column}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wpc-tab-content-inner.wpc-vertical .wpc-items-list-row{display:flex;flex-direction:column}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wpc-spacer{height:1px;width:100%;background:#E9E9E9;margin:10px 0px 15px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wpc-checkbox-description-outer-v1 .wpc-checkbox-description h4{margin:0px;font-family:'proxima\_semibold' !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wpc-checkbox-description-outer-v1 .wpc-checkbox-description p{margin:0}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box{display:flex;flex-direction:row;align-items:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box .wpc-checkbox-icon{flex:1;text-align:center;max-width:120px;padding-right:10px;justify-content:center;align-items:center;display:flex}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box .wpc-checkbox-icon img{transition:all .2s ease-out;max-width:90%}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box:hover .wpc-checkbox-icon img{transform:scale(1.1)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box .wpc-checkbox-description{flex:2;display:flex;justify-content:center;align-items:flex-start;flex-direction:column}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box .wpc-checkbox-description p{color:#9199A6;width:100%;display:block;margin:0px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box .form-check{flex:1;max-width:60px;display:flex;align-items:center;justify-content:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box.optimization-level .form-check{max-width:400px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box.optimization-level .form-check .wpc-slider{width:100%}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox{display:flex;flex-direction:row}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-switch{margin-top:10px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-icon img{height:72px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-description{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;margin-left:5px;margin-bottom:17px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-description h4{font-weight:600;font-family:'proxima\_semibold' !important;margin-top:10px;margin-bottom:5px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-description p{margin:0px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-icon{flex:1;text-align:center;max-width:120px;padding-right:0px;justify-content:center;align-items:center;display:flex}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-icon img{max-width:90%}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-description{flex:2}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .form-check{flex:1;max-width:80px;display:flex;align-items:center;justify-content:right;padding:0px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-usage-stats-width-wider .stats-boxes .stats-box-single{flex:1 !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-usage-stats-width-wider .stats-boxes .stats-box-single h5{font-size:14px;margin-bottom:6px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-usage-stats-width-wider .stats-boxes .stats-box-single h3{margin:5px 0px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul{padding:0;margin:0}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li{padding-bottom:5px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a{text-decoration:none;display:flex;align-items:center;padding:15px 40px 15px 15px;color:#A2AAB8;font-size:14px;border-radius:4px;outline:none !important;box-shadow:none !important;font-family:'proxima\_semibold' !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a:focus{outline:none !important;box-shadow:none !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a .wpc-icon-container{min-width:35px;display:inline-block}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a .wpc-icon{text-align:center;display:inline-block;padding:5px;border-radius:4px;line-height:12px;margin-right:5px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a .wpc-icon img{height:15px;filter:brightness(0) saturate(100%) invert(76%) sepia(13%) saturate(263%) hue-rotate(179deg) brightness(88%) contrast(90%)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a:hover{font-weight:700;color:#314B72}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a:hover .wpc-icon img{filter:brightness(0) saturate(100%) invert(27%) sepia(21%) saturate(1093%) hue-rotate(177deg) brightness(99%) contrast(98%)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a .wpc-title{display:inline-block;line-height:35px;vertical-align:top}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a.active{background:#ECF2FD;color:#314B72;font-weight:700}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a.active .wpc-icon{background:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a.active .wpc-icon img{filter:brightness(0) saturate(100%) invert(96%) sepia(4%) saturate(14%) hue-rotate(154deg) brightness(105%) contrast(106%)}.wpc-advanced-settings-container-v4 .checkbox{margin:0px !important;border:0px !important;min-width:0px !important;min-height:0px !important;border-radius:0px !important;outline:none !important;box-shadow:none !important}.wpc-advanced-settings-container-v4 .checkbox:checked{background-color:#5CB1FF;border-color:#5CB1FF;background-image:url("../assets/images/check.svg") !important;background-size:auto !important;background-position:center;box-shadow:none}.wpc-advanced-settings-container-v4 .checkbox:focus{box-shadow:none}.wpc-advanced-settings-container-v4 .checkbox:checked:before{content:"" !important}.wpc-advanced-settings-container-v4 .wpc-box-check,.wpc-advanced-settings-container-v4 .wpc-iconcheckbox-toggle,.wpc-advanced-settings-container-v4 input[type='checkbox']{cursor:pointer}.wpc-advanced-settings-container-v4 input[type='checkbox']{height:0;width:0;position:absolute;pointer-events:none}.wpc-advanced-settings-container-v4 input[type='checkbox']+label{padding:20px;position:relative;display:flex;align-items:center;color:#9e9e9e;transition:color 200ms cubic-bezier(.4, 0, .23, 1)}.wpc-advanced-settings-container-v4 input[type='checkbox']+label.with-label>div{width:65px;padding-right:10px;font-size:11px;text-align:right}.wpc-advanced-settings-container-v4 input[type='checkbox']+label>span{display:flex;justify-content:center;align-items:center;width:24px;height:24px;background:transparent;border:1px solid rgba(0,0,0,0.25);border-radius:.25em;cursor:pointer;transition:all 200ms cubic-bezier(.4, 0, .23, 1)}.wpc-advanced-settings-container-v4 input[type='checkbox'].wpc-locked-checkbox+label>span{height:0;width:0;border:13px solid #C5D3E3;background:#C5D3E3}.wpc-advanced-settings-container-v4 input[type='checkbox'].wpc-locked-checkbox+label>span:before{position:absolute;transform:rotate(0deg) !important;content:'' !important;background-image:url(../images/option-locked.svg) !important;background-position:center center;background-size:15px 15px;background-color:transparent !important;width:20px !important;height:20px !important;background-repeat:no-repeat}.wpc-advanced-settings-container-v4 input[type='checkbox']+label:hover>span,.wpc-advanced-settings-container-v4 input[type='checkbox']:focus+label>span{background:rgba(255,255,255,0.1)}.wpc-advanced-settings-container-v4 input[type='checkbox']:checked+label>span{height:0 !important;width:0 !important;border:13px solid #5CB1FF !important;animation:shrink-bounce 200ms cubic-bezier(.4, 0, .23, 1) !important}.wpc-advanced-settings-container-v4 input[type='checkbox']:checked+label.with-label>span{position:relative !important}.wpc-advanced-settings-container-v4 input[type='checkbox']:checked+label.with-label>span:before{top:-10px !important;left:-5px !important}.wpc-advanced-settings-container-v4 input[type='checkbox']:checked+label>span:before{content:"";position:absolute !important;top:22px !important;left:27px !important;height:9px !important;width:4px !important;border-right:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(45deg) !important;transform-origin:0% 100% !important;animation:checkbox-check 125ms 200ms cubic-bezier(.4, 0, .23, 1) forwards !important}@keyframes shrink-bounce{0%{transform:scale(1)}33%{transform:scale(.85)}100%{transform:scale(1)}}@keyframes checkbox-check{0%{width:0;height:0;border-color:white;transform:translate3d(0, 0, 0) rotate(45deg)}33%{width:4px;height:0;transform:translate3d(0, 0, 0) rotate(45deg)}100%{width:4px;height:8px;border-color:white;transform:translate3d(0, -0.4em, 0) rotate(45deg)}}.wpc-advanced-settings-container-v4 .wpc-items-list-row{display:flex;flex-direction:row;justify-content:left;flex-wrap:wrap;gap:22px}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox{border:1px solid #E9E9E9;display:flex;flex:50%;flex-direction:row;max-width:260px;width:100%;border-radius:4px}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox:hover{cursor:pointer}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox:hover .wpc-iconcheckbox-icon img{transform:scale(1.1)}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox .wpc-iconcheckbox-icon{flex:1;padding:20px 10px;max-width:60px;background:#fafafa;text-align:center}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox .wpc-iconcheckbox-icon img{transition:all .2s ease-out;filter:brightness(0) saturate(100%) invert(93%) sepia(2%) saturate(5592%) hue-rotate(181deg) brightness(95%) contrast(87%)}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox .wpc-iconcheckbox-title{flex:2;justify-content:left;align-items:center;display:flex;padding-left:20px}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox .wpc-iconcheckbox-toggle{flex:1;max-width:70px;justify-content:left;align-items:center;display:flex;padding-left:0px}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox.active{border:1px solid #C2D9FF}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox.active .wpc-iconcheckbox-icon{background:#E8F1FF}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox.active .wpc-iconcheckbox-icon img{filter:brightness(0) saturate(100%) invert(52%) sepia(96%) saturate(327%) hue-rotate(171deg) brightness(94%) contrast(90%)}.wpc-advanced-settings-container-v4 .mb-10{margin-bottom:10px}.wpc-advanced-settings-container-v4 .mb-20{margin-bottom:20px}.wpc-advanced-settings-container-v4 .wpc-switch-holder{display:flex;justify-content:center;align-items:center}.wpc-advanced-settings-container-v4 .wpc-switch{position:relative;display:inline-block;width:60px;height:34px}.wpc-advanced-settings-container-v4 .wpc-switch input{opacity:0;width:0;height:0}.wpc-advanced-settings-container-v4 .wpc-switch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#F5F9FE;-webkit-transition:.4s;transition:.4s}.wpc-advanced-settings-container-v4 .wpc-switch-slider:before{position:absolute;height:26px;width:26px;line-height:26px;left:4px;bottom:4px;flex-wrap:wrap;background-color:#C5D3E3;-webkit-transition:.4s;transition:.4s;display:flex;justify-content:center;align-content:center;content:url('../images/x.svg')}.wpc-advanced-settings-container-v4 input:checked+.wpc-switch-slider{background-color:#EFF7FF}.wpc-advanced-settings-container-v4 input:focus+.wpc-switch-slider{box-shadow:0 0 1px #EFF7FF}.wpc-advanced-settings-container-v4 input:checked+.wpc-switch-slider:before{background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%);-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px);display:flex;flex-wrap:wrap;justify-content:center;align-content:center;content:url('../images/check.svg')}.wpc-advanced-settings-container-v4 .wpc-switch-slider.wpc-switch-round{border-radius:34px}.wpc-advanced-settings-container-v4 .wpc-switch-slider.wpc-switch-round:before{border-radius:50%}.wpc-advanced-settings-container-v4 .wpc-box-for-input,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox{flex:1;border:1px solid #E9E9E9;border-radius:4px;padding:18px;position:relative}.wpc-advanced-settings-container-v4 .wpc-box-for-input:hover,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox:hover{cursor:pointer}.wpc-advanced-settings-container-v4 .wpc-box-for-input.no-description .wpc-checkbox-title-holder,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox.no-description .wpc-checkbox-title-holder{margin-bottom:0px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-input.no-description .wpc-box-content h4,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox.no-description .wpc-box-content h4{margin:0px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-input.no-description .wpc-box-check,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox.no-description .wpc-box-check{padding:10px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content{padding-right:60px}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content h4,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content h4{margin:0px 0px 10px 0px;padding-left:25px}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content p,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content p{padding-left:20px;margin:0px;font-size:13px;color:#9199A6}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content .circle-check,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content .circle-check{float:left;color:#A0AAB6;transform:scale(.9);transition:all 250ms cubic-bezier(.4, 0, .23, 1)}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content .circle-check::before,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content .circle-check::before{display:inline-block;content:'';width:10px;height:10px;background:#A0AAB6;border-radius:100%}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content .circle-check.active,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content .circle-check.active{transform:scale(1);color:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content .circle-check.active::before,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content .circle-check.active::before{animation:pop .3s linear 1;background:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-button a,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-button a{width:auto !important;display:inline-block !important;height:auto !important;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;border-radius:24px !important;justify-content:center;text-decoration:none;align-items:center;padding:6px 20px;font-weight:500;color:#fff}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-button,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-button,.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-check,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-check{position:absolute;padding:15px;top:0;right:0}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-textarea textarea,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-textarea textarea{width:100%;resize:none}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea{flex:1;border:1px solid #E9E9E9;border-radius:4px;padding:18px;position:relative}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea.no-description .wpc-checkbox-title-holder{margin-bottom:0px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea.no-description .wpc-box-content h4{margin:0px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea.no-description .wpc-box-check{padding:10px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content{padding-right:60px}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content h4{margin:0px 0px 10px 0px;padding-left:25px}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content p{padding-left:20px;padding-bottom:20px;margin:0px;font-size:13px;color:#9199A6}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content .circle-check{float:left;color:#A0AAB6;transform:scale(.9);transition:all 250ms cubic-bezier(.4, 0, .23, 1)}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content .circle-check::before{display:inline-block;content:'';width:10px;height:10px;background:#A0AAB6;border-radius:100%}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content .circle-check.active{transform:scale(1);color:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content .circle-check.active::before{animation:pop .3s linear 1;background:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-check{position:absolute;padding:15px;top:0;right:0}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-textarea textarea{height:150px;width:100%;resize:none}.wpc-advanced-settings-container-v4 .wpc-slider-text{margin-top:10px;align-items:center !important;justify-content:space-between !important;display:flex}.wpc-advanced-settings-container-v4 .wpc-slider-text>div{transition:all .2s ease-out}.wpc-advanced-settings-container-v4 .wpc-slider-text>div:hover{transform:scale(1.1)}.wpc-advanced-settings-container-v4 .wpc-slider-text>\*{cursor:pointer;width:70px}.wpc-advanced-settings-container-v4 .wpc-slider-text .text-middle{text-align:center}.wpc-advanced-settings-container-v4 .wpc-slider-text .text-max{text-align:right}.wpc-advanced-settings-container-v4 .option-box{position:relative}.wpc-advanced-settings-container-v4 .option-box .left-col{width:100%}.wpc-advanced-settings-container-v4 .wpc-range-slider{width:100%;margin:0 auto;position:relative}.wpc-advanced-settings-container-v4 #optimizationLevel{-webkit-appearance:none;width:100%}.wpc-advanced-settings-container-v4 #optimizationLevel:focus{outline:none}.wpc-advanced-settings-container-v4 #optimizationLevel::before,.wpc-advanced-settings-container-v4 #optimizationLevel::after{position:absolute;top:2rem;color:#333;font-size:14px;line-height:1;padding:3px 5px;background-color:rgba(0,0,0,0.1);border-radius:10px;opacity:0}.wpc-advanced-settings-container-v4 #optimizationLevel::before{left:0;content:attr(data-min)}.wpc-advanced-settings-container-v4 #optimizationLevel::after{right:0;content:attr(data-max)}.wpc-advanced-settings-container-v4 #optimizationLevel::-moz-range-track{background:linear-gradient(90deg, #5498F9 var(--range-progress), #E7F4FE var(--range-progress))}.wpc-advanced-settings-container-v4 #optimizationLevel::-webkit-slider-runnable-track{width:100%;height:8px;cursor:pointer;animate:.2s;background:linear-gradient(90deg, #5498F9 var(--range-progress), #E7F4FE var(--range-progress));border-radius:1rem}.wpc-advanced-settings-container-v4 #optimizationLevel::-webkit-slider-thumb{-webkit-appearance:none;border:4px solid #5498F9;border-radius:100%;background:#fff;cursor:pointer;height:20px;width:20px;margin-top:-5px}.wpc-advanced-settings-container-v4 #optimizationLevel\_img{-webkit-appearance:none;width:100%}.wpc-advanced-settings-container-v4 #optimizationLevel\_img:focus{outline:none}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::before,.wpc-advanced-settings-container-v4 #optimizationLevel\_img::after{position:absolute;top:2rem;color:#333;font-size:14px;line-height:1;padding:3px 5px;background-color:rgba(0,0,0,0.1);border-radius:10px;opacity:0}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::before{left:0;content:attr(data-min)}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::after{right:0;content:attr(data-max)}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::-moz-range-track{background:linear-gradient(90deg, #5498F9 var(--range-progress), #E7F4FE var(--range-progress))}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::-webkit-slider-runnable-track{width:100%;height:8px;cursor:pointer;animate:.2s;background:linear-gradient(90deg, #5498F9 var(--range-progress), #E7F4FE var(--range-progress));border-radius:1rem}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::-webkit-slider-thumb{-webkit-appearance:none;border:4px solid #5498F9;border-radius:100%;background:#fff;cursor:pointer;height:20px;width:20px;margin-top:-5px}.cdn-popup-inner .custom-cdn-steps{margin-bottom:0px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2{padding-top:0px;padding-bottom:0px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry ul,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1 ul{margin:30px 45px 15px 45px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry{padding-bottom:30px !important}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry form{padding-bottom:0px !important}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2 img{padding:0px 45px;margin-bottom:40px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2 h3{margin-bottom:20px !important}.cdn-popup-inner .custom-cdn-steps h3{margin:0 !important}.cdn-popup-inner .custom-cdn-steps ul{margin:0;text-align:left}.cdn-popup-inner .custom-cdn-steps ul li{padding:10px 0px;margin:0;font-size:14px}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input{display:inline-block;vertical-align:middle}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input[type="text"]{padding:5px 20px;border-radius:2px !important;border:1px solid #e6e6e6;width:350px}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input[type="submit"]{background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;padding:12px 30px;border-radius:2px !important;border:0px;font-size:13px;box-shadow:none;color:#fff}.cdn-popup-inner .wps-example-list{display:block;margin-bottom:20px}.cdn-popup-inner .wps-example-list>div{display:flex;align-items:center;justify-content:center}.cdn-popup-inner .wps-example-list>div h3{margin:0 !important;color:#6A717D !important;font-family:'proxima\_semibold',sans-serif;font-size:18px;padding-right:30px}.cdn-popup-inner .wps-example-list>div div{text-align:left;padding-left:20px;margin-left:20px;position:relative}.cdn-popup-inner .wps-example-list>div div:after{content:'';width:1px;background:#cecece;position:absolute;top:8px;left:-10px;bottom:0px}.cdn-popup-inner .wps-example-list>div div p{text-align:left;padding-bottom:0px;margin:0}.cdn-popup-inner .inline-heading{display:flex;justify-content:center;align-content:center;margin-bottom:35px;margin-top:15px}.cdn-popup-inner textarea{width:90%;min-height:200px;background:#F4F8FC;border-radius:5px;resize:none !important;border:0px !important;padding:20px;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.cdn-popup-inner.bottom-border{overflow:hidden;border-radius:5px !important;position:relative}.cdn-popup-inner .btn-primary{border:1px solid #549DE6;color:#549DE6;border-radius:2px;padding:15px 45px;text-decoration:none;display:inline-block;font-weight:400;line-height:1.5}.cdn-popup-inner .btn-active{background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;color:#fff !important}.cdn-popup-inner.custom-cname-popup .btn-primary{border:1px solid #549DE6;color:#549DE6;border-radius:30px;padding:12px 25px;font-size:14px;text-decoration:none;width:auto !important;height:auto !important}.cdn-popup-inner.custom-cname-popup .btn-active{background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;color:#fff !important}.cdn-popup-inner .wps-empty-row{height:25px;width:100%;display:inline-block}.cdn-popup-inner .inline-heading-icon{text-align:left}.cdn-popup-inner .inline-heading-icon img{display:inline-block;vertical-align:middle;padding-right:20px}.cdn-popup-inner .inline-heading-icon h3{font-size:16px;display:inline-block;margin:0 !important}.cdn-popup-inner .custom-cdn-steps{margin-bottom:0px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2{padding-top:30px;padding-bottom:30px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry ul,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1 ul{margin:30px 45px 15px 45px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry{padding-bottom:30px !important}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry form{padding-bottom:0px !important}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2 img{padding:0px 45px;margin-bottom:40px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2 h3{margin-bottom:20px !important}.cdn-popup-inner .custom-cdn-steps h3{margin:0 !important}.cdn-popup-inner .custom-cdn-steps ul{margin:0;text-align:left}.cdn-popup-inner .custom-cdn-steps ul li{padding:10px 0px;margin:0;font-size:14px}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input{display:inline-block;vertical-align:middle}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input[type="text"]{padding:5px 20px;border-radius:2px !important;border:1px solid #e6e6e6;width:350px}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input[type="submit"]{background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;padding:12px 30px;border-radius:2px !important;border:0px;font-size:13px;box-shadow:none;color:#fff}.cdn-popup-inner.custom-cname-popup .popup-icon{padding:20px 0px 0px 0px !important}.cdn-popup-inner.custom-cname-popup textarea{width:100%;min-height:200px;background:#F4F8FC;border-radius:5px;resize:none !important;border:0px !important;padding:20px}.cdn-popup-inner.custom-cname-popup .cdn-popup-content{padding:10px 25px !important}.cdn-popup-inner.custom-cname-popup .cdn-popup-content p{margin:0}.cdn-popup-inner.custom-cname-popup form{padding:20px 0px;margin-bottom:20px;text-align:center}.cdn-popup-inner.custom-cname-popup form select{padding:10px;display:block;width:100%;margin:0 auto 15px auto}.cdn-popup-inner.custom-cname-popup form a{display:inline-block}.cdn-popup-inner .cdn-popup-bottom-border{height:10px;background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;width:100%;content:'';position:absolute;left:0;bottom:0;right:0}.cdn-popup-inner .cdn-popup-top{min-height:275px;padding-top:0;margin-top:0px;padding-bottom:0px;position:relative}.cdn-popup-inner .popup-icon{width:320px;position:absolute;left:25%;bottom:-20px}.cdn-popup-inner .cdn-popup-content.with-background{min-height:125px;background:url(../../images/legacy/popup-bottom-background.png) no-repeat top center;background-size:cover;padding:30px 0px 10px 0px !important;margin-top:0px;position:relative;max-width:100%;width:100%;margin:0 !important}.cdn-popup-inner.ajax-settings-popup p{color:#626e80;font-weight:400}.cdn-popup-inner.ajax-settings-popup .cdn-popup-content h3{font-weight:400;margin:50px 0px 20px 0px}.cdn-popup-inner.ajax-settings-popup .cdn-popup-top{min-height:50px !important;margin:0px 45px 0px 45px}.cdn-popup-inner.ajax-settings-popup .cdn-popup-top h3{margin-top:0px !important;font-size:26px !important;color:#333 !important;font-family:'proxima\_semibold',sans-serif}.cdn-popup-inner.ajax-settings-popup .popup-icon{padding:50px 0px 30px 0px;width:180px !important;position:relative !important;left:0px !important;bottom:auto !important}.cdn-popup-inner.ajax-settings-saved-popup .cdn-popup-content h3{font-weight:400;margin:20px 0px 20px 0px}.cdn-popup-inner.ajax-settings-saved-popup .cdn-popup-top{min-height:50px !important}.cdn-popup-inner.ajax-settings-saved-popup .popup-icon{padding:50px 0px 30px 0px;width:180px !important;position:relative !important;left:0px !important;bottom:auto !important}.cdn-popup-inner .wps-default-excludes-container{display:flex;padding:10px 50px;flex-wrap:wrap;flex-direction:row}.cdn-popup-inner .wps-default-excludes-enabled-checkbox-container{display:flex;align-items:center;padding-left:30px;padding-top:10px;height:30px;position:relative;width:50%;flex-basis:calc(50% - 40px)}.cdn-popup-inner .wps-default-excludes-enabled-checkbox{outline:none !important;box-shadow:none !important;position:relative !important;pointer-events:all !important;display:flex !important;justify-content:center !important;align-items:center !important;width:24px !important;height:24px !important;background:rgba(0,0,0,0) !important;border:1px solid rgba(0,0,0,0.25) !important;border-radius:.25em !important;cursor:pointer !important;transition:all 250ms cubic-bezier(.4, 0, .23, 1) !important}.cdn-popup-inner .wps-default-excludes-enabled-checkbox:checked:before{content:"" !important;position:absolute !important;top:-2px !important;left:2px !important;border-right:2px solid rgba(0,0,0,0);border-bottom:2px solid rgba(0,0,0,0);transform:rotate(45deg) !important;animation:checkbox-check 125ms 250ms cubic-bezier(.4, 0, .23, 1) forwards !important}.cdn-popup-inner .wps-default-excludes-enabled-checkbox:checked{height:1.3125rem !important;width:1.3125rem !important;border:12px solid #5cb1ff !important;animation:shrink-bounce 200ms cubic-bezier(.4, 0, .23, 1) !important}.wpc-popup-saving-logo-container{margin:0 auto;display:inline-block}.wpc-popup-saving-logo-container .wpc-popup-saving-preparing-logo{position:relative;display:flex;justify-content:center;align-items:center;width:200px;height:200px;margin-bottom:15px}.wpc-popup-saving-logo-container .wpc-popup-saving-preparing-logo .wpc-ic-popup-logo-saving{z-index:9999;width:40px;top:75px}.wpc-popup-saving-logo-container .wpc-popup-saving-preparing-logo .wpc-ic-popup-logo-saving-loader{position:absolute;top:0;left:0;width:200px}.wp-compress-pre-subheader{padding:0px;background:#fff;text-align:center;border-top-left-radius:5px;border-top-right-radius:5px}.wp-compress-pre-subheader a{display:inline-block}.wp-compress-pre-subheader a img{padding-right:10px;vertical-align:middle;height:20px}.wp-compress-pre-subheader h3{font-weight:500;display:inline-block;vertical-align:middle}.wp-compress-pre-subheader .legend-original{width:15px;height:15px;display:inline-block;background:#09a8fc;margin-right:8px;vertical-align:middle;border-radius:2px}.wp-compress-pre-subheader .legend-after{width:15px;height:15px;display:inline-block;background:#404fd7;margin-right:8px;vertical-align:middle;border-radius:2px}.wp-compress-pre-subheader .col-6{text-align:left;width:49%;display:inline-block;vertical-align:top}.wp-compress-pre-subheader .col-6.last{text-align:right}.wp-compress-pre-subheader ul{list-style:none;margin:0px !important}.wp-compress-pre-subheader ul li{list-style:none;vertical-align:top;display:inline-block;padding:0px 10px;font-weight:500;margin:0px;line-height:47px !important}.wp-compress-pre-subheader ul li h3{margin:0px;font-size:19px}.wp-compress-pre-subheader ul li a{display:inline-block;color:#333;font-weight:bold;text-decoration:none;font-size:13px}.wp-compress-pre-subheader .button.button-primary{font-weight:normal !important;font-size:12px !important;border-radius:5px !important;color:#fff !important}.wp-compress-pre-subheader .button-sample-data{vertical-align:middle;font-weight:500;text-transform:uppercase;font-size:12px;background:linear-gradient(25deg, #1c87f1 0%, #3c4cdf 100%) !important;color:#fff;display:inline-block;text-shadow:none !important;padding:5px 20px;border:0px !important;border-radius:40px;box-shadow:none;line-height:normal}.image-credits-remaining{margin-top:20px}.user-account-circle{position:relative;margin-left:20px;margin-right:20px}.user-account-circle .dashboard-account-circle-text{position:absolute;top:65px;left:0;right:0;bottom:0;width:160px}.user-account-circle .dashboard-account-circle-text h5{font-size:18px !important;text-align:center;margin:0;font-weight:bold}.user-account-circle .dashboard-account-circle-text h4{font-size:13px !important;text-align:center;margin:0}.page-stats-circle{position:relative;margin-left:5px;margin-right:5px;width:50px}.page-stats-circle .stats-circle-text{font-family:'proxima\_bold',sans-serif;position:absolute;top:31%;left:0;right:0;bottom:0;width:100%}.page-stats-circle .stats-circle-text h5{font-size:15px !important;text-align:center;margin:0;font-weight:bolder}.page-stats-circle .stats-circle-text h4{font-size:13px !important;text-align:center;margin:0}.wp-compress-settings-row-blank{display:flex;flex-direction:row;justify-content:space-between;background:transparent;border-radius:5px;margin-bottom:20px;margin-top:20px;padding:0px}.wp-compress-settings-row-blank .col-9{flex:0 100%}.wp-compress-settings-row-blank .col-3{flex:0 30%}.wp-compress-settings-row-blank .inner{display:flex}.wp-compress-settings-row-blank .inner .fourth-width{flex:0 25%}.wp-compress-settings-row-blank .inner .third-width{flex:0 33%}.wp-compress-settings-row-blank .inner .half-width{flex:0 50%}.wp-compress-settings-row-blank .button-primary{background:#09a8fc !important;background:linear-gradient(25deg, #1c87f1 0%, #3c4cdf 100%) !important}.wp-compress-settings-row-blank .col-9.margin-right .pre-inner,.wp-compress-settings-row-blank .col-3.margin-right .pre-inner{margin-right:20px}.wp-compress-settings-row-blank .col-9 .pre-inner,.wp-compress-settings-row-blank .col-3 .pre-inner{height:100%}.wp-compress-settings-row-blank .col-9 .inner,.wp-compress-settings-row-blank .col-3 .inner{height:100%;box-sizing:border-box;display:flex;justify-content:center;align-items:center;background:#fff;text-align:left !important;vertical-align:top !important}.stats-boxes{width:100%;margin:0 auto;display:flex;justify-content:center;text-align:center}.stats-boxes.smaller{width:80%}.stats-boxes .stats-box-single{flex:1;position:relative;background:#fff;border:1px solid #efefef;padding:15px 10px;text-align:center;display:inline-block;border-radius:5px;margin-right:15px;display:flex;align-items:center}.stats-boxes .stats-box-single .stats-box-icon-holder{width:40px}.stats-boxes .stats-box-single .stats-box-icon-holder img{width:100%;vertical-align:bottom;display:inline-block}.stats-boxes .stats-box-single .stats-box-text-holder{flex:1}.stats-boxes .stats-box-single span{border-radius:50%;background:#3fc3ee;text-align:center;width:40px;height:40px;color:#fff;font-size:10px;position:absolute;top:-15px;right:-15px;line-height:40px;font-weight:bold}.stats-boxes .stats-box-single h3{margin:0}.stats-boxes .stats-box-single h5{margin:0}.stats-boxes .stats-box-single:last-child{margin-right:0px !important}.left-side-box{flex:1;display:flex;justify-content:left;align-items:center}.left-side-box .user-account-circle{flex:1}.left-side-box .youve-saved{flex:1}.left-side-box .youve-saved .button-primary{background:gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%);border-radius:30px;text-transform:none !important;padding:4px 20px}.left-side-box .youve-saved .button-primary h5{font-size:11px !important;font-weight:400;text-transform:none !important;letter-spacing:.35px;display:inline-block;margin:0;padding:0}.left-side-box .dashboard-account-circle-text{position:absolute;top:45px;left:0;right:0;bottom:0;width:125px}.left-side-box .dashboard-account-circle-text h4{font-size:12px !important;text-align:center;margin:0}.left-side-box .dashboard-account-circle-text h5{font-size:14px !important;text-align:center;margin:0;font-weight:bold}.right-side-box{flex:2;display:flex;justify-content:left;align-items:center}.youve-saved{padding:30px;width:100%;box-sizing:border-box;display:inline-block;text-align:center;vertical-align:top}.youve-saved \*{vertical-align:middle}.youve-saved .image-credits-remaining{display:inline-block}.youve-saved .button-primary{font-weight:600;text-transform:uppercase;font-size:12px;background:#404fd7;display:inline-block}.youve-saved h3{color:#797a7a;margin:0px;font-weight:600;font-size:18px;display:inline-block;line-height:40px}.youve-saved h4{color:#333;font-weight:600;font-size:28px !important;margin:0 20px;display:inline-block}.youve-saved h5{font-size:10px !important;font-weight:600;text-transform:uppercase;letter-spacing:1px;display:inline-block;margin:0;padding:0}.wps-ic-connect-popup{padding:0px 0px !important;text-align:center !important}.wps-ic-connect-popup #swal2-content{text-align:center !important}.wps-ic-notice-connect{border-bottom:4px solid #61a7f9 !important}.wps-ic-connect-inner.padded{padding:0px 70px}.wps-ic-connect-inner img{max-width:280px;padding-top:30px}.wps-ic-connect-inner h1{font-family:'proxima\_bold','Helvetica Neue',sans-serif;font-weight:600;font-size:27px;margin:0}.wps-ic-connect-inner h2{font-family:'proxima\_semibold',sans-serif;margin:0;font-size:16px;font-weight:400;color:#23282d;margin-bottom:22.5px;margin-top:2.5px}.wps-ic-connect-inner h3{font-family:'proxima\_bold',sans-serif;font-size:14px;font-weight:400;color:#787d86;line-height:2em;max-width:450px;margin:1em auto}.wps-ic-connect-inner .wps-ic-form-container{background:url("../images/background.png") no-repeat top center;background-size:cover;min-height:250px;padding-top:75px;margin-top:50px;padding-bottom:30px}.wps-ic-connect-inner .wps-ic-form-field label{text-align:center;font-weight:600;font-family:'proxima\_bold','Helvetica Neue',sans-serif;color:#3c444c;font-size:20px}.wps-ic-connect-inner .wps-ic-form-field input{width:400px;margin:20px auto 0px auto;display:block;padding:10px;border:1px solid #b2e0ff !important;border-radius:5px;text-align:center;box-shadow:none !important;outline:none !important}.wps-ic-connect-inner .wps-ic-submit-field{margin-top:30px}.wps-ic-connect-inner .wps-ic-submit-field input{cursor:pointer;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;color:#fff;text-transform:uppercase;text-align:center;border-radius:50px;padding:15px 45px;border:0px !important;box-shadow:none !important;outline:none !important;font-weight:600;letter-spacing:2px;font-size:20px}.wps-ic-connect-inner .wps-ic-form-other-options{margin-top:20px;margin-bottom:30px}.wps-ic-connect-inner .wps-ic-form-other-options a{color:#acc3dc;font-weight:300;font-size:16px;letter-spacing:1px}.wps-ic-success-message-choice-container-text h3{font-size:15px !important;margin:2.5px 10px 10px 2.5px !important;max-width:100%;font-family:'proxima\_semibold',sans-serif !important}.wps-ic-connect-inner .wps-ic-loading-container h2,.wps-ic-connect-inner .wps-ic-init-container h2{font-family:'proxima\_regular',sans-serif !important;margin:0 !important;font-size:17px !important;font-weight:400 !important;color:#23282d !important;margin-bottom:22.5px !important;margin-top:2.5px !important;letter-spacing:.25px !important}.wps-ic-error-already-connected,.wps-ic-error-message-container-text{background:url("../images/background.png") no-repeat top center;background-size:cover;min-height:150px;padding-top:75px;margin-top:0px;padding-bottom:30px}.wps-ic-success-message-container-text{min-height:150px;padding-bottom:22.5px;max-width:85%;margin:0 auto}.wps-ic-dashboard-btn{font-family:'proxima\_bold',sans-serif;display:inline-block;border:0;text-decoration:none;margin-top:20px;position:relative;background:#467ee2;border-radius:5px !important;border:2px solid #467ee2 !important;color:#fff !important;font-weight:400;font-size:14px;padding:10px 50px}.wps-ic-dashboard-btn:hover{color:#467ee2 !important;text-decoration:none;background:#fff;border:2px solid #467ee2 !important}.wps-ic-connect-retry{margin-top:30px;display:inline-block;background:#4ea8f9;color:#ffffff;border-radius:50px;overflow:hidden;border:0;padding:10px 55px;font-weight:bold;text-decoration:none;letter-spacing:1px;text-transform:uppercase}.wps-ic-connect-retry:hover{color:#fff;text-decoration:none}.wps-ic-success-message-container img{max-width:550px;padding-top:30px;margin-bottom:25px}.wps-ic-success-message-container h1{font-family:'proxima\_bold',sans-serif;font-weight:600;font-size:32px;margin:0}.wps-ic-success-message-container h2{font-family:'proxima\_bold',sans-serif;font-weight:600;font-size:24px;margin:0}.wps-ic-error-message-container img{max-width:290px;padding-top:30px}.wps-ic-error-message-container h1{font-family:'proxima\_bold',sans-serif;font-weight:600;font-size:32px;margin:0}.wps-ic-error-message-container h2{font-family:'proxima\_bold',sans-serif;font-weight:600;font-size:24px;margin:0}.wps-ic-loading-container h1{font-size:28px}.wps-ic-loading-container h2{font-size:16px;font-weight:300}.wps-ic-finishing-container .wps-ic-bulk-loading-logo{position:relative}.wps-ic-finishing-container .wps-ic-bulk-loading-logo .loading-logo{position:absolute;top:85px;left:246px;padding-top:0;width:70px}.wps-ic-finishing-container .wps-ic-bulk-loading-logo .loading-circle{padding-top:0;width:250px}.wps-ic-loading-container{text-align:center;display:inline-block;width:100%;padding-bottom:50px}.wps-ic-loading-container img{width:100px;padding:50px 0px !important}.wps-ic-success-message-choice-container-text p{color:#7C7F84;font-size:12.5px}.wps-ic-success-message-choice-container-text .btn.btn-primary{background:linear-gradient(25deg, #1c87f1 0%, #3c4cdf 100%) !important;border-radius:25px;border:0px !important;padding:12px 30px;margin-top:10px;display:inline-block;color:#fff;font-size:12.5px;font-family:'proxima\_semibold',sans-serif;letter-spacing:1px}.flex-link-container{display:flex;flex-direction:row;margin-bottom:25px}.flex-link-container a{width:auto;flex:0 50%}.flex-link-container a:first-child{margin-right:30px}.wps-big-button-with-icon{display:block;padding:30px 15px;border-radius:10px;border:1px solid #DDE2FA;width:300px;margin:30px auto;vertical-align:top;text-decoration:none}.wps-big-button-with-icon img{height:60px;display:block;margin:0 auto;padding:0px 0px 20px 0px !important}.wps-big-button-with-icon.wpc-live-btn img{height:67px}.wps-big-button-with-icon.wpc-local-btn img{height:67px}.wps-big-button-with-icon span{font-weight:bold;color:#0A0641;padding-left:0px;display:inline-block;line-height:30px;vertical-align:top;font-size:17px}.wps-big-button-with-icon:hover,.wps-big-button-with-icon.active{border:1px solid #6CB3F0;background:#F3F9FF}.wps-big-button-with-icon.wpc-disabled-option:focus,.wps-big-button-with-icon.wpc-disabled-option.active,.wps-big-button-with-icon.wpc-disabled-option:hover{border:1px solid #ececec;background:#f7f7f7;box-shadow:0 0 0 1px #ffffff,0 0 2px 1px rgba(249,249,249,0.05) !important}.wps-ic-success-message-choice-container-text .btn.btn-primary.wpc-disabled-button{background:linear-gradient(25deg, #bcbcbc 0%, #dddddd 100%) !important;cursor:default !important}@media only screen and (max-width:1500px){ul li a .wpc-title{line-height:normal !important}.settings\_page\_wpcompress #wpbody{padding-right:20px !important}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox{flex:30% !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-list{max-width:200px}}@media only screen and (max-width:1400px){.wpc-advanced-settings-container-v4{max-width:1150px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs{column-gap:0 !important}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-left{max-width:200px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-left li>a{padding-right:10px !important}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-left li>a .wpc-title{display:none}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-list{max-width:55px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-list li>a{padding-right:10px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-list li>a .wpc-title{display:none}.wpc-settings-tab-content{padding-right:20px !important}.wpc-header{padding-right:20px !important}ul li a .wpc-title{line-height:normal !important}}@media only screen and (max-width:1050px){.wpc-advanced-settings-container-v4 .wpc-iconcheckbox{flex:50% !important}.wpc-box-for-checkbox{flex:50% !important}.wpc-iconcheckbox .wpc-box-for-checkbox{flex:50% !important}}.wpc-custom-tooltip{display:inline-block;line-height:normal !important;vertical-align:middle;margin-left:8px}.wpc-custom-tooltip i.tooltip-icon{color:#3fc3ee}.wpc-custom-tooltip .tooltip-icon{display:inline-block;width:15px;height:15px;content:'';background-image:url(../../images/i\_icon.svg);background-size:cover}.command-prompt{width:100%;max-width:900px;height:400px;background-color:black;color:green;border:2px solid gray;padding:10px;overflow-y:scroll;font-family:'Courier New',Courier,monospace;font-size:14px;white-space:pre-line;box-shadow:5px 5px 10px rgba(0,0,0,0.5)}.command-prompt::-webkit-scrollbar{width:10px}.command-prompt::-webkit-scrollbar-thumb{background-color:darkgray;border-radius:5px}.command-prompt::-webkit-scrollbar-track{background-color:lightgray}#optimizationTable{width:100%}#optimizationTable .optimization\_excludes{border-bottom:1px solid #F7F7F7;padding-bottom:10px}#optimizationTable .row{display:flex;align-items:center}#optimizationTable .wpc\_page\_title{font-weight:bold}#optimizationTable .exclude\_dropdown\_anchor{transition:transform .3s ease;width:40px;height:40px}#optimizationTable .exclude\_dropdown\_anchor:hover{cursor:pointer;transform:scale(1.15)}#optimizationTable .dropdown-menu{display:none;position:absolute;background-color:#f9f9f9;box-shadow:0 8px 16px rgba(0,0,0,0.2);z-index:1000}#optimizationTable .dropdown-menu .dropdown-item{padding:8px 20px;text-decoration:none;display:block;color:#333;text-align:left}#optimizationTable .dropdown-menu .dropdown-item:hover{background-color:#f1f1f1}#optimizationTable .dropdown-menu .icon{margin-right:8px;display:none}#optimizationTable .advanced\_cache .page\_not\_generated{background-image:url(../../images/optimization\_page\_icons/cache\_not\_generated.svg);background-size:cover}#optimizationTable .advanced\_cache .page\_excluded{background-image:url(../../images/optimization\_page\_icons/cache\_exclude.svg);background-size:cover}#optimizationTable .advanced\_cache .page\_ready{background-image:url(../../images/optimization\_page\_icons/cache\_fully\_active.svg);background-size:cover}#optimizationTable .advanced\_cache .page\_off{background-image:url(../../images/optimization\_page\_icons/cache\_off.svg);background-size:cover}#optimizationTable .critical\_css .page\_not\_generated{background-image:url(../../images/optimization\_page\_icons/css\_not\_generated.svg);background-size:cover}#optimizationTable .critical\_css .page\_excluded{background-image:url(../../images/optimization\_page\_icons/css\_exclude.svg);background-size:cover}#optimizationTable .critical\_css .page\_ready{background-image:url(../../images/optimization\_page\_icons/css\_fully\_active.svg);background-size:cover}#optimizationTable .critical\_css .page\_off{background-image:url(../../images/optimization\_page\_icons/css\_off.svg);background-size:cover}#optimizationTable .cdn .page\_not\_generated{background-image:url(../../images/optimization\_page\_icons/cdn\_not\_generated.svg);background-size:cover}#optimizationTable .cdn .page\_excluded{background-image:url(../../images/optimization\_page\_icons/cdn\_exclude.svg);background-size:cover}#optimizationTable .cdn .page\_ready{background-image:url(../../images/optimization\_page\_icons/cdn\_fully\_active.svg);background-size:cover}#optimizationTable .cdn .page\_off{background-image:url(../../images/optimization\_page\_icons/cdn\_off.svg);background-size:cover}#optimizationTable .delay\_js .page\_not\_generated{background-image:url(../../images/optimization\_page\_icons/js\_not\_generated.svg);background-size:cover}#optimizationTable .delay\_js .page\_excluded{background-image:url(../../images/optimization\_page\_icons/js\_exclude.svg);background-size:cover}#optimizationTable .delay\_js .page\_ready{background-image:url(../../images/optimization\_page\_icons/js\_fully\_active.svg);background-size:cover}#optimizationTable .delay\_js .page\_off{background-image:url(../../images/optimization\_page\_icons/js\_off.svg);background-size:cover}#optimizationTable .adaptive .page\_not\_generated{background-image:url(../../images/optimization\_page\_icons/images\_not\_generated.svg);background-size:cover}#optimizationTable .adaptive .page\_excluded{background-image:url(../../images/optimization\_page\_icons/images\_exclude.svg);background-size:cover}#optimizationTable .adaptive .page\_ready{background-image:url(../../images/optimization\_page\_icons/images\_fully\_active.svg);background-size:cover}#optimizationTable .adaptive .page\_off{background-image:url(../../images/optimization\_page\_icons/images\_off.svg);background-size:cover}.wpc-infobox-badge{border-radius:3px;background:#EFF7FF;color:#5CB1FF;padding:5px 10px;font-size:13px;font-weight:bold}.wpc-infobox-badge span{font-size:10px;margin:0 3px 0px 0px;display:inline-block}.wpc-infobox-badge span.wpc-less{transform:rotate(180deg);-webkit-transform:rotateX(180deg)}.wpc-infobox-badge span.wpc-less:before{vertical-align:middle}.wpc-infobox-badge span.wpc-smaller{transform:rotate(180deg);-webkit-transform:rotateX(180deg)}.wpc-infobox-badge span.wpc-smaller:before{vertical-align:middle}.wpc-tab-inner-flex{display:flex;flex-direction:row}.wpc-tab-inner-flex .wpc-tab-inner-container-bigger{flex:2}.wpc-tab-inner-flex .wpc-tab-inner-container{flex:1;max-width:200px;text-align:right;vertical-align:middle;justify-content:end;align-items:center;display:flex}.wpc-optimization-button-optimized{display:inline-block;padding:10px 20px 10px 15px;border-radius:50px;background:#effbf1;text-decoration:none;font-weight:bold;color:#23b739;font-size:13px;font-family:'proxima\_semibold'}.wpc-optimization-button-optimized:hover,.wpc-optimization-button-optimized:focus{background:#effbf1;text-decoration:none;font-weight:bold;font-size:15px;color:#23b739}.wpc-optimization-button-optimized i{color:#fff;background-color:#23b739;margin-right:5px;border-radius:50%;padding:3px;height:18px;width:18px;display:inline-block;line-height:20px;font-size:12px}.test-is-running{margin:15px 0px;background:transparent;width:100%;display:flex;text-align:center;justify-content:center;align-items:center;flex-direction:column}.test-is-running p{text-align:center;padding:15px 0px 15px 0px;margin:7px 0px 0px 0px;flex:1;color:#333 !important;border-top:1px solid #dcdcdc}.wpc-test-redo{flex:1;max-width:20px;background:transparent;color:#fff !important;font-weight:bold;border-radius:0px;padding:0;border:0px !important;cursor:pointer;margin-left:15px}.wpc-test-redo:before{content:'\e81f';font-family:"fontello";font-size:16px;color:#333}.test-not-runned{margin:15px 0px;background:transparent;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.test-not-runned p{padding:15px 0px 15px 0px;margin:7px 0px 0px 0px;flex:1;color:#333 !important;border-top:1px solid #dcdcdc}.test-not-runned button{flex:1;background:#5297E8;color:#fff !important;font-weight:bold;border-radius:5px;padding:7px 20px;border:0px !important;cursor:pointer}.wpc-dropdown-row{border:1px solid #DDE3E6;border-radius:3px;padding:20px;display:block;width:100%}.wpc-dropdown-row .wpc-dropdown-progress-bar{display:flex;height:3px;width:100%;background:#fff;position:relative;margin-bottom:20px;justify-content:space-between}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-green{border-radius:20px;height:4px;flex-basis:63%;background:#5ECB74}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-green .circle-container{left:30%}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-green .circle-container>span.circle{background:#5ECB74;border:1px solid #fff}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-orange{flex-basis:20%;border-radius:20px;height:4px;background:#F2A83B}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-red{flex-basis:15%;border-radius:20px;height:4px;background:#EC5C4D}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-red .circle-container{left:0%}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-red .circle-container>span.circle{background:#EC5C4D;border:1px solid #fff}.wpc-dropdown-row .wpc-dropdown-progress-bar>div{position:relative}.wpc-dropdown-row .wpc-dropdown-progress-bar>div .circle-container{position:absolute;top:-4px;text-align:right;display:flex;align-items:center;flex-direction:column}.wpc-dropdown-row .wpc-dropdown-progress-bar>div .circle-container>span.circle{content:'';border-radius:50%;height:10px;width:10px;margin-bottom:5px}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-end{position:absolute;right:-10px;top:-4px;text-align:right;display:flex;align-items:center;flex-direction:column}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-end span.text{position:relative;font-size:13px}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-end span.text:before{content:'';position:absolute;left:-20px;top:2px;width:15px;height:15px;background-size:contain;background-image:url('../icons/turtle-icon.svg');background-position:left center;background-repeat:no-repeat}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-end span.circle{content:'';background:#cee7ff;border-radius:50%;height:10px;width:10px;margin-bottom:5px}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-status{background:#5cb1ff;width:30%;height:3px;position:relative}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-status span.circle{content:'';background:#5cb1ff;border-radius:50%;height:10px;width:10px;margin-bottom:5px}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-status span.text{position:relative;font-size:13px}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-status span.text:before{content:'';position:absolute;left:-15px;top:2px;width:15px;height:15px;background-size:contain;background-image:url('../icons/thunder-icon.svg');background-position:left center;background-repeat:no-repeat}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-status span.circle-container{position:absolute;right:-20px;top:-4px;text-align:right;display:flex;align-items:center;flex-direction:column}.wpc-dropdown-row .wpc-page-status{min-width:90px;border-radius:50px;background:#ebf7ed;color:#22b73a;padding:5px 10px 5px 5px;display:inline-block;margin:0px 8px}.wpc-dropdown-row .wpc-page-status.pending{background:#eceff1;color:#19335b}.wpc-dropdown-row .wpc-page-status-gray{border-radius:50px;background:#f1f1f1;color:#969696;padding:5px 10px 5px 5px;display:inline-block;margin:0px 8px}.wpc-dropdown-row .wpc-page-status-gray.pending{background:#eceff1;color:#19335b}.wpc-dropdown-row .wpc-dropdown-row-arrow{display:inline-block}.wpc-dropdown-row .wpc-dropdown-row-arrow i{font-size:18px}.wpc-dropdown-row ul{list-style:none;padding:0;margin:0;display:inline-block}.wpc-dropdown-row ul li{display:inline-block;padding:0 5px;margin:0}.wpc-dropdown-row .wpc-dropdown-infobox{margin:15px 0px;flex:1}.wpc-dropdown-row .wpc-dropdown-infobox-header{display:flex;flex-direction:row;justify-content:left;align-items:center;margin-bottom:10px}.wpc-dropdown-row .wpc-dropdown-infobox-header .wpc-dropdown-infobox-icon{flex-basis:20px;padding-right:10px}.wpc-dropdown-row .wpc-dropdown-infobox-header .wpc-dropdown-infobox-icon .wpc-server-icon{background-image:url(../icons/server-icon.svg)}.wpc-dropdown-row .wpc-dropdown-infobox-header .wpc-dropdown-infobox-icon .wpc-folder-icon{background-image:url(../icons/folder-icon.svg)}.wpc-dropdown-row .wpc-dropdown-infobox-header .wpc-dropdown-infobox-icon .wpc-time-icon{background-image:url(../icons/time-icon.svg)}.wpc-dropdown-row .wpc-dropdown-infobox-header i{flex-basis:20px}.wpc-dropdown-row .wpc-dropdown-infobox-header h5{flex:1;margin:0;font-size:13px}.wpc-dropdown-row .wpc-dropdown-row-header{display:flex;cursor:pointer;align-items:center}.wpc-dropdown-row .wpc-dropdown-row-header .wpc-dropdown-row-left-side{flex:1;font-weight:bold;font-family:'proxima\_semibold' !important;color:#19335b;display:flex;align-items:center}.wpc-dropdown-row .wpc-dropdown-row-header .wpc-dropdown-row-left-side .lds-ring{margin-left:-10px;height:22px !important;width:22px !important}.wpc-dropdown-row .wpc-dropdown-row-header .wpc-dropdown-row-right-side{flex:1;text-align:right}.wpc-dropdown-row .wpc-dropdown-row-data{display:flex;padding-top:15px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-bigger{flex:0 0 26%;padding:0px 12px;display:flex;align-items:center}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller{flex:1;display:flex;max-width:130px;margin-left:10px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller .progress-bar-container{flex:0 0 50%;margin:0 0px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller .progress-bar-container:first-of-type{margin-right:5px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller .progress-bar-container .wpc-mobile-icon{display:block;width:100%;height:30px;background:url('../icons/mobile-score.svg') no-repeat;background-size:20px;background-position:18px 5px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller .progress-bar-container .wpc-desktop-icon{display:block;width:100%;height:30px;background:url('../icons/desktop-score.svg') no-repeat;background-size:20px;background-position:18px 5px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller .progress-bar-container h2{font-size:13px;text-align:center;margin:0px 0px 5px 0px}.wpc-dropdown-row .per-page-settings-cog{display:block;width:40px;height:40px;background:url(../images/three-dots.svg) no-repeat;background-size:30px 30px;background-position:center;filter:brightness(0) saturate(100%) invert(90%) sepia(0%) saturate(0%) hue-rotate(180deg) brightness(.8) contrast(.9);float:inline-end;margin-left:10px}.wpc-dropdown-row .per-page-settings-cog:hover{filter:none}.per\_page\_lazy\_skip{width:50px;height:30px;-webkit-appearance:none;-moz-appearance:textfield}.per\_page\_lazy\_skip::-webkit-outer-spin-button,.per\_page\_lazy\_skip::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.optimization-progress-outter{display:flex;flex-direction:column;flex:1;margin-right:20px}.optimization-progress-outter .optimizations-progress-bar-text{flex:1;font-weight:bold;font-family:'proxima\_semibold' !important;color:#19335b;align-items:flex-start;justify-content:center;display:flex;flex-direction:row}.optimization-progress-outter .optimizations-progress-bar-text .lds-ring{margin-right:10px}.optimization-progress-outter .optimizations-progress-bar-text p{color:#19335b !important;flex:1;margin:0;line-height:25px}.optimization-progress-outter .optimizations-progress-bar-text p span{font-family:'proxima\_bold',sans-serif;font-weight:bold}.optimization-progress-outter .optimizations-progress-bar-container{flex:1}.wpc-stop-page-optimizations{line-height:20px;font-weight:600 !important;position:relative;color:#ef5a5a !important;padding-right:18px;cursor:pointer}.wpc-optimization-page-button{display:flex;align-items:center}.wpc-optimization-status{border:1px solid #DDE3E6;border-radius:3px;padding-left:20px;padding-bottom:20px;padding-top:20px;display:block}.wpc-optimization-status .wpc-page-title{font-family:'proxima\_bold';font-weight:normal;font-style:normal;flex:0 0 auto}.wpc-optimization-status .optimization-text{padding-left:20px;width:100px;border-right:1px solid #DDE3E6;padding-right:20px;margin-right:20px;min-height:35px }.wpc-optimization-status .optimization-text .optimized-pages-text{font-weight:bold;font-size:16px}.wpc-optimization-status .optimization-text .optimized-pages-bottom-text{font-size:12px;color:gray;min-width:90px}.wpc-optimization-status .optimizations-progress-bar-container{width:100%;background-color:#e0e0e0;border-radius:4px;margin-top:10px;margin-right:20px}.wpc-optimization-status .optimization-image{width:35px;height:35px}.wpc-optimization-status .optimizations-progress-bar{height:8px;background:linear-gradient(270deg, #59A8E3 -2.9%, #4273F0 100%) !important;border-radius:5px}.circle-progress-bar canvas{width:100% !important}.wpc-circle-status{display:inline-block;width:30px;text-align:center}.wpc-status-message{flex:0 0 auto !important;font-weight:normal !important;font-family:'proxima\_regular'}.lds-ring{display:inline-block;position:relative;width:25px;height:25px;flex:0 0 auto}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:21px;height:21px;margin:2px;border:2px solid #59A8E3;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5, 0, .5, 1) infinite;border-color:#59A8E3 transparent transparent transparent}.lds-ring div:nth-child(1){animation-delay:-0.45s}.lds-ring div:nth-child(2){animation-delay:-0.3s}.lds-ring div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes fadeInDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeOutDown{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}.wpc-message-enter{animation:fadeInDown .5s ease forwards}.wpc-message-exit{animation:fadeOutDown .5s ease forwards}.wpc-disable-clickable{pointer-events:none}.wpc-optimization-percentage{text-align:end;width:15%;color:#808080;font-size:15px;font-family:'proxima\_bolder',sans-serif}.wpc-tab-content-box .dropdown-container{width:100%;display:flex;justify-content:flex-end;padding-bottom:10px}.wpc-tab-content-box .dropdown-container #live-search{margin-right:auto;font-weight:bold;font-family:'proxima\_semibold' !important;color:#19335b;padding:3px 3px 3px 30px;border:1px solid #DDE3E6;border-radius:5px;background-color:#fff;background-image:url('../icons/magnifying-glass-solid.svg');background-repeat:no-repeat;background-position:8px 50%;background-size:14px;width:200px}.wpc-tab-content-box .dropdown-container:focus{border:1px solid #DDE3E6 !important;outline:none !important}.wpc-tab-content-box .dropdown-container .dropdown{position:relative;margin-left:10px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-header{font-weight:bold;font-family:'proxima\_semibold' !important;color:#19335b;padding:8px 12px;border:1px solid #DDE3E6;border-radius:5px;background-color:#fff;cursor:pointer;width:110px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-header .wpc-dropdown-row-arrow{display:inline-block;float:right}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-header .wpc-dropdown-row-arrow i{font-size:18px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu{margin-top:10px;display:none;position:absolute;background-color:#f9f9f9;box-shadow:0 8px 16px rgba(0,0,0,0.2);z-index:1000;right:0}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item{padding:8px 8px;color:#333;cursor:pointer;width:110px;text-align:left;position:relative}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item.icon-pages:before{content:url('../icons/select\_pages\_icon.svg');display:inline-block;vertical-align:middle;margin-right:8px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item.icon-posts:before{content:url('../icons/select\_posts\_icon.svg');display:inline-block;vertical-align:middle;margin-right:8px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item.icon-products:before{content:url('../icons/select\_product\_icon.svg');display:inline-block;vertical-align:middle;margin-right:8px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item:after{content:'';display:inline-block;width:8px;height:8px;background-color:transparent;border-radius:50%;position:absolute;right:8px;top:50%;transform:translateY(-50%)}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item.selected:after{background-color:#5CB1FF}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item:hover{background-color:#f1f1f1}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item.selected{color:black}.wpc-switch-disabled:before{content:'';background-image:url('../images/option-locked.svg') !important;background-size:15px 15px;background-position:center center;background-repeat:no-repeat}.wpc-gray-lock{display:block;float:inline-start;height:15px;width:15px;content:'';background-image:url(../images/option-locked-gray.svg) !important;background-size:15px 15px;background-position:center center;background-repeat:no-repeat;margin-right:10px}.wpc-locked-configure-popup{background:#E9EDF0 !important;color:#BBC8CD !important}.wpc-locked-setting{color:#9199A6}.wpc-locked-setting .wpc-popup-option{border-color:#E9E9E9}.wpc-locked-setting .wpc-popup-option-icon{background:#fafafa}.wpc-locked-setting img{filter:brightness(0) saturate(100%) invert(93%) sepia(2%) saturate(5592%) hue-rotate(181deg) brightness(95%) contrast(87%)}/\*# sourceMappingURL=style.css.map \*/ |
  |  | 1 | @font-face{font-family:'proxima\_light';src:url('../../fonts/proxima/ProximaNovaLight.woff2') format('woff');font-weight:normal;font-style:normal}@font-face{font-family:'proxima\_regular';src:url('../../fonts/proxima/ProximaNovaRegular.woff2') format('woff2');font-weight:normal;font-style:normal}@font-face{font-family:'proxima\_semibold';src:url('../../fonts/proxima/ProximaNovaSemibold.woff2') format('woff2');font-weight:normal;font-style:normal}@font-face{font-family:'proxima\_bold';src:url('../../fonts/proxima/ProximaNovaBold.woff2') format('woff2');font-weight:normal;font-style:normal}.wpc-locked .wpc-box-content .circle-check::before{background:#cfd7e0 !important}.wpc-locked h2,.wpc-locked h3,.wpc-locked h4,.wpc-locked p{color:#cfd7e0 !important}.wpc-box-check .wps-ic-configure-popup{width:auto !important;height:auto !important;display:inline-block;color:#fff;background:#e8f1ff;border:none;border-radius:25px;font-size:13px;padding:6px 20px;text-decoration:none;transition:all .2s ease-out}.wpc-box-check .wps-ic-configure-popup:hover{color:#fff !important;transform:scale(1.1)}.wpc-box-check .wps-ic-configure-popup.LockedTooltip{background:#C5D3E3 !important}.wpc-box-check .wps-ic-configure-popup img{width:100%;filter:brightness(0) saturate(100%) invert(76%) sepia(13%) saturate(263%) hue-rotate(179deg) brightness(88%) contrast(90%)}.wpc-sparkle-icon{display:inline-block;background-image:url(../images/optimize-sparkle.svg) !important;background-position:center center;background-size:15px 15px;background-color:transparent !important;width:20px !important;height:20px !important;background-repeat:no-repeat;margin-right:6px}.wpc-tooltip-html .pop-text{display:flex}.settings-locked{display:flex !important;align-content:center !important;justify-content:center !important;line-height:20px !important;background:#E9EDF0 !important;color:#BBC8CD !important}i.wpc-locked{width:20px;height:20px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxMCAxMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcuNDk5OTYgMy4zMzQ2NEg3LjA4MzI5VjIuNTAxM0M3LjA4MzI5IDEuMzUxMyA2LjE0OTk2IDAuNDE3OTY5IDQuOTk5OTYgMC40MTc5NjlDMy44NDk5NiAwLjQxNzk2OSAyLjkxNjYzIDEuMzUxMyAyLjkxNjYzIDIuNTAxM1YzLjMzNDY0SDIuNDk5OTZDMi4wNDE2MyAzLjMzNDY0IDEuNjY2NjMgMy43MDk2NCAxLjY2NjYzIDQuMTY3OTdWOC4zMzQ2NEMxLjY2NjYzIDguNzkyOTcgMi4wNDE2MyA5LjE2Nzk3IDIuNDk5OTYgOS4xNjc5N0g3LjQ5OTk2QzcuOTU4MjkgOS4xNjc5NyA4LjMzMzI5IDguNzkyOTcgOC4zMzMyOSA4LjMzNDY0VjQuMTY3OTdDOC4zMzMyOSAzLjcwOTY0IDcuOTU4MjkgMy4zMzQ2NCA3LjQ5OTk2IDMuMzM0NjRaTTQuOTk5OTYgNy4wODQ2NEM0LjU0MTYzIDcuMDg0NjQgNC4xNjY2MyA2LjcwOTY0IDQuMTY2NjMgNi4yNTEzQzQuMTY2NjMgNS43OTI5NyA0LjU0MTYzIDUuNDE3OTcgNC45OTk5NiA1LjQxNzk3QzUuNDU4MjkgNS40MTc5NyA1LjgzMzI5IDUuNzkyOTcgNS44MzMyOSA2LjI1MTNDNS44MzMyOSA2LjcwOTY0IDUuNDU4MjkgNy4wODQ2NCA0Ljk5OTk2IDcuMDg0NjRaTTMuNzQ5OTYgMy4zMzQ2NFYyLjUwMTNDMy43NDk5NiAxLjgwOTY0IDQuMzA4MjkgMS4yNTEzIDQuOTk5OTYgMS4yNTEzQzUuNjkxNjMgMS4yNTEzIDYuMjQ5OTYgMS44MDk2NCA2LjI0OTk2IDIuNTAxM1YzLjMzNDY0SDMuNzQ5OTZaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K");background-position:center center;background-size:15px 15px;background-color:transparent !important;background-repeat:no-repeat;display:inline-block;color:#BBC8CD !important;margin-right:10px}.icon-progress-bar-after{display:inline-block}.icon-progress-bar-after:before{font-family:'fontello';content:'\e848';font-size:13px;color:#57a2e5}.icon-progress-bar-before{display:inline-block;position:absolute;left:-23px}.icon-progress-bar-before:before{font-family:'fontello';content:'\e849';font-size:13px;color:#b1bac2}.settings\_page\_wpcompress .swal2-container .swal2-popup{max-width:95% !important}.settings\_page\_wpcompress .swal2-container{z-index:9999 !important}.fw-500{font-weight:500}.fw-600{font-weight:600}.text-secondary-400{color:#9199A6}.fw-400{font-weight:400}.fs-300{font-size:13px}.fs-400{font-size:14px}.fs-500{font-size:16px}.bp-10{padding-bottom:10px}.wps-ic-stop-bulk-compress,.wps-ic-stop-bulk-restore{text-decoration:none;line-height:20px;font-weight:600 !important;position:relative;color:#ef5a5a !important;padding-left:18px}.wps-ic-stop-bulk-compress:active,.wps-ic-stop-bulk-restore:active,.wps-ic-stop-bulk-compress:focus,.wps-ic-stop-bulk-restore:focus{outline:none !important;box-shadow:none !important}.wps-ic-service-status{text-decoration:none;cursor:pointer !important;line-height:20px;font-weight:600 !important;position:relative}.wps-ic-service-status.active{color:#3ad591 !important}.wps-ic-service-status.active::before{content:'';vertical-align:middle;display:inline-block;border-radius:50px;width:12px;height:12px;overflow:hidden;background:#3ad591;margin-right:10px}.wps-ic-service-status.paused{color:#ef5a5a !important;padding-left:18px}.wps-ic-service-status.paused::after{position:absolute;left:0;top:2px;content:'';vertical-align:middle;display:inline-block;border-radius:0px;width:3px;height:12px;overflow:hidden;background:#ef5a5a;margin-right:10px}.wps-ic-service-status.paused::before{content:'';position:absolute;left:6px;top:2px;vertical-align:middle;display:inline-block;border-radius:0px;width:3px;height:12px;overflow:hidden;background:#ef5a5a;margin-right:10px}.icon-gray{background-image:url("../images/icon-gray.svg");background-repeat:no-repeat;display:inline-block;width:17px;height:17px;margin-bottom:-5px}.tooltipster-base .tooltipster-box{background:#ffffff !important;border:1px solid #fff;box-shadow:0 0 3px 1px rgba(0,0,0,0.25)}.tooltipster-base .tooltipster-box p{margin:0}.tooltipster-base .tooltipster-content{color:#333}.tooltipster-noir.tooltipster-base .tooltipster-box{background:#252A32 !important;border:1px solid #252A32 !important;box-shadow:0 0 3px 1px rgba(0,0,0,0.25) !important}.tooltipster-noir.tooltipster-base .tooltipster-box p{margin:0}.tooltipster-noir.tooltipster-base .tooltipster-content{color:#fff !important}.tooltipster-noir.tooltipster-base .tooltipster-arrow-border{border-top-color:#252A32 !important}.tooltipster-noir.tooltipster-base .tooltipster-arrow-background{border-top-color:#252A32 !important}.wpc-tooltip-html{padding:5px}.wpc-tooltip-html .desc{font-size:11px;color:#333}.wpc-tooltip-html .wpc-tooltip-title{display:flex;flex-direction:row;padding-bottom:0px}.wpc-tooltip-html .wpc-tooltip-title span{flex:1}.wpc-tooltip-html .wpc-tooltip-title span.title{flex:2;font-weight:500}.wpc-tooltip-html .wpc-tooltip-title span.status{flex:1;text-align:right}.wpc-tooltip-html .wpc-tooltip-title span.status.active{font-weight:500;color:#559ee5}.wpc-tooltip-html .wpc-tooltip-title span.status.disabled{font-weight:500;color:#a2a2a2 !important}.wpc-tooltip-html .wpc-tooltip-icon-cache{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMCAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuMzI4ODQgMS4yNDc1M0M5LjMyNTI3IDEuMjMwMjUgOS4zMTY4NiAxLjIxNDM1IDkuMzA0NTggMS4yMDE2OUM5LjI5MjMgMS4xODkwMyA5LjI3NjY2IDEuMTgwMTMgOS4yNTk1IDEuMTc2MDRDOC4xMTU1NiAwLjg5NjM1NiA1LjQ3MjM5IDEuODkzMDQgNC4wNDAzNiAzLjMyNDQ4QzMuNzg0OTUgMy41Nzc4MyAzLjU1MjEgMy44NTI5NiAzLjM0NDQ2IDQuMTQ2NzVDMi45MDI4NiA0LjEwNzY4IDIuNDYxMjYgNC4xNDAzIDIuMDg0ODkgNC4zMDQzNkMxLjAyMjk4IDQuNzcxNzUgMC43MTM4IDUuOTkxMjggMC42Mjc2NjggNi41MTU4OUMwLjYyMjc4MiA2LjU0NDYgMC42MjQ2MjUgNi41NzQwNiAwLjYzMzA1MSA2LjYwMTk0QzAuNjQxNDc3IDYuNjI5ODIgMC42NTYyNTggNi42NTUzNyAwLjY3NjIyOSA2LjY3NjU3QzAuNjk2MiA2LjY5Nzc3IDAuNzIwODE4IDYuNzE0MDUgMC43NDgxNDYgNi43MjQxMkMwLjc3NTQ3NCA2LjczNDIgMC44MDQ3NjggNi43Mzc4IDAuODMzNzIyIDYuNzM0NjRMMi41MzkgNi41NDY1NUMyLjU0MDIxIDYuNjc1MTIgMi41NDc5NyA2LjgwMzU0IDIuNTYyMjQgNi45MzEzMkMyLjU3MDgyIDcuMDIwMDUgMi42MTAyMSA3LjEwMjk4IDIuNjczNTcgNy4xNjU2OUwzLjMzMzkyIDcuODI0NDhDMy4zOTY2OSA3Ljg4Nzc2IDMuNDc5NTkgNy45MjcxMyAzLjU2ODI5IDcuOTM1ODFDMy42OTUzNiA3Ljk1MDAyIDMuODIzMDYgNy45NTc3OCAzLjk1MDkxIDcuOTU5MDVMMy43NjM4IDkuNjYyMThDMy43NjA2OCA5LjY5MTEyIDMuNzY0MzEgOS43MjA0IDMuNzc0NCA5Ljc0NzcxQzMuNzg0NDkgOS43NzUwMSAzLjgwMDc3IDkuNzk5NjEgMy44MjE5NiA5LjgxOTU4QzMuODQzMTUgOS44Mzk1NCAzLjg2ODY4IDkuODU0MzIgMy44OTY1NCA5Ljg2Mjc2QzMuOTI0NCA5Ljg3MTIgMy45NTM4NCA5Ljg3MzA4IDMuOTgyNTUgOS44NjgyM0M0LjUwNjE4IDkuNzg0MjUgNS43Mjc4NiA5LjQ3NTA3IDYuMTkyNTEgOC40MTMxNUM2LjM1NjU3IDguMDM2NzkgNi4zOTAxNyA3LjU5NzMzIDYuMzUyMjggNy4xNTc4OEM2LjY0Njc3IDYuOTUwMjMgNi45MjI2MiA2LjcxNzMyIDcuMTc2NjkgNi40NjE3OUM4LjYxMzIxIDUuMDMyNDkgOS42MDQyMyAyLjQ0ODMxIDkuMzI4ODQgMS4yNDc1M1pNNS43NDM0OSA0Ljc1NjcxQzUuNjEyMzEgNC42MjU2MiA1LjUyMjk3IDQuNDU4NTcgNS40ODY3NCA0LjI3NjdDNS40NTA1MiA0LjA5NDgzIDUuNDY5MDUgMy45MDYzIDUuNTM5OTkgMy43MzQ5NUM1LjYxMDkzIDMuNTYzNjEgNS43MzEwOSAzLjQxNzE2IDUuODg1MjcgMy4zMTQxMkM2LjAzOTQ2IDMuMjExMDggNi4yMjA3NCAzLjE1NjA4IDYuNDA2MTggMy4xNTYwOEM2LjU5MTYzIDMuMTU2MDggNi43NzI5MSAzLjIxMTA4IDYuOTI3MDkgMy4zMTQxMkM3LjA4MTI4IDMuNDE3MTYgNy4yMDE0NCAzLjU2MzYxIDcuMjcyMzggMy43MzQ5NUM3LjM0MzMyIDMuOTA2MyA3LjM2MTg1IDQuMDk0ODMgNy4zMjU2MiA0LjI3NjdDNy4yODk0IDQuNDU4NTcgNy4yMDAwNSA0LjYyNTYyIDcuMDY4ODggNC43NTY3MUM2Ljk4MTkgNC44NDM4MSA2Ljg3ODYgNC45MTI5MiA2Ljc2NDg4IDQuOTYwMDdDNi42NTExNyA1LjAwNzIxIDYuNTI5MjggNS4wMzE0OCA2LjQwNjE4IDUuMDMxNDhDNi4yODMwOCA1LjAzMTQ4IDYuMTYxMTkgNS4wMDcyMSA2LjA0NzQ4IDQuOTYwMDdDNS45MzM3NyA0LjkxMjkyIDUuODMwNDcgNC44NDM4MSA1Ljc0MzQ5IDQuNzU2NzFaIiBmaWxsPSIjMzE0QjcyIi8+CjxwYXRoIGQ9Ik0zLjI4OTA2IDguMzAxMzdDMy4xODIwMyA4LjQwODU5IDMuMDEwMzUgOC40NTAzOSAyLjgwMzcxIDguNDg2MTNDMi4zMzk0NSA4LjU2NTI0IDEuOTI5NDkgOC4xNjQwNiAyLjAxMjg5IDcuNjk0NzNDMi4wNDQ3MyA3LjUxNjggMi4xMzg4NyA3LjI2NzM4IDIuMTk3NDYgNy4yMDg3OUMyLjIxMDI3IDcuMTk2MjMgMi4yMTg3OSA3LjE3OTk1IDIuMjIxODIgNy4xNjIyN0MyLjIyNDg1IDcuMTQ0NTkgMi4yMjIyNCA3LjEyNjQxIDIuMjE0MzUgNy4xMTAzQzIuMjA2NDUgNy4wOTQxOSAyLjE5MzY5IDcuMDgwOTggMi4xNzc4NiA3LjA3MjU0QzIuMTYyMDMgNy4wNjQxIDIuMTQzOTUgNy4wNjA4NiAyLjEyNjE3IDcuMDYzMjhDMS44NjY1NSA3LjA5NTA1IDEuNjI1MDMgNy4yMTI3NSAxLjQ0MDA0IDcuMzk3NjZDMC45ODA4NTkgNy44NTcyMyAwLjkzNzUgOS41NjI1IDAuOTM3NSA5LjU2MjVDMC45Mzc1IDkuNTYyNSAyLjY0Mzc1IDkuNTE5MTQgMy4xMDI5MyA5LjA1OTU3QzMuMjg4NDEgOC44NzQ3MyAzLjQwNjI2IDguNjMyODQgMy40Mzc1IDguMzcyODVDMy40NDQ3MyA4LjI5MTIxIDMuMzQ1MzEgOC4yNDI1OCAzLjI4OTA2IDguMzAxMzdaIiBmaWxsPSIjMzE0QjcyIi8+Cjwvc3ZnPgo=");max-width:20px;background-repeat:no-repeat;background-size:15px 15px}.wpc-tooltip-html .wpc-tooltip-icon-adaptive{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMCAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMi4zNzVDMCAxLjY4NTU1IDAuNTYwNTQ3IDEuMTI1IDEuMjUgMS4xMjVIOC43NUM5LjQzOTQ1IDEuMTI1IDEwIDEuNjg1NTUgMTAgMi4zNzVWOC42MjVDMTAgOS4zMTQ0NSA5LjQzOTQ1IDkuODc1IDguNzUgOS44NzVIMS4yNUMwLjU2MDU0NyA5Ljg3NSAwIDkuMzE0NDUgMCA4LjYyNVYyLjM3NVpNNi4zMjQyMiA0LjQ1NTA4QzYuMjM2MzMgNC4zMjYxNyA2LjA5MTggNC4yNSA1LjkzNzUgNC4yNUM1Ljc4MzIgNC4yNSA1LjYzNjcyIDQuMzI2MTcgNS41NTA3OCA0LjQ1NTA4TDMuODUxNTYgNi45NDcyN0wzLjMzMzk4IDYuMzAwNzhDMy4yNDQxNCA2LjE4OTQ1IDMuMTA5MzggNi4xMjUgMi45Njg3NSA2LjEyNUMyLjgyODEyIDYuMTI1IDIuNjkxNDEgNi4xODk0NSAyLjYwMzUyIDYuMzAwNzhMMS4zNTM1MiA3Ljg2MzI4QzEuMjQwMjMgOC4wMDM5MSAxLjIxODc1IDguMTk3MjcgMS4yOTY4OCA4LjM1OTM4QzEuMzc1IDguNTIxNDggMS41MzkwNiA4LjYyNSAxLjcxODc1IDguNjI1SDguMjgxMjVDOC40NTUwOCA4LjYyNSA4LjYxNTIzIDguNTI5MyA4LjY5NTMxIDguMzc1QzguNzc1MzkgOC4yMjA3IDguNzY1NjIgOC4wMzUxNiA4LjY2Nzk3IDcuODkyNThMNi4zMjQyMiA0LjQ1NTA4Wk0yLjE4NzUgNC4yNUMyLjQzNjE0IDQuMjUgMi42NzQ2IDQuMTUxMjMgMi44NTA0MSAzLjk3NTQxQzMuMDI2MjMgMy43OTk2IDMuMTI1IDMuNTYxMTQgMy4xMjUgMy4zMTI1QzMuMTI1IDMuMDYzODYgMy4wMjYyMyAyLjgyNTQgMi44NTA0MSAyLjY0OTU5QzIuNjc0NiAyLjQ3Mzc3IDIuNDM2MTQgMi4zNzUgMi4xODc1IDIuMzc1QzEuOTM4ODYgMi4zNzUgMS43MDA0IDIuNDczNzcgMS41MjQ1OSAyLjY0OTU5QzEuMzQ4NzcgMi44MjU0IDEuMjUgMy4wNjM4NiAxLjI1IDMuMzEyNUMxLjI1IDMuNTYxMTQgMS4zNDg3NyAzLjc5OTYgMS41MjQ1OSAzLjk3NTQxQzEuNzAwNCA0LjE1MTIzIDEuOTM4ODYgNC4yNSAyLjE4NzUgNC4yNVoiIGZpbGw9IiNGRkI5NEYiLz4KPC9zdmc+Cg==");max-width:20px;background-repeat:no-repeat;background-size:15px 15px}.wpc-tooltip-html .wpc-tooltip-icon-css{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMCAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE0MzJfMjY3KSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMC4wODc4MzU0IDEuMTA4NjFDMC4xMTkwMjggMS4wNzQ0MiAwLjE1Njk0IDEuMDQ3MTEgMC4xOTkxNzEgMS4wMjg0MUMwLjI0MTQwMyAxLjAwOTcyIDAuMjg3MDM0IDEuMDAwMDQgMC4zMzMxNzcgMUg5LjY2NjgxQzkuNzEyOTMgMS4wMDAwMiA5Ljc1ODU1IDEuMDA5NjcgOS44MDA3NyAxLjAyODMzQzkuODQzIDEuMDQ2OTkgOS44ODA5MSAxLjA3NDI2IDkuOTEyMTIgMS4xMDg0MUM5Ljk0MzMyIDEuMTQyNTcgOS45NjcxNCAxLjE4Mjg2IDkuOTgyMDcgMS4yMjY3NUM5Ljk5Njk5IDEuMjcwNjQgMTAuMDAyNyAxLjMxNzE2IDkuOTk4ODIgMS4zNjMzOEw5LjMzMjEzIDkuMzUyMzJDOS4zMjY2MiA5LjQxNzU5IDkuMzAyMjIgOS40Nzk4IDkuMjYxOTMgOS41MzEyN0M5LjIyMTY1IDkuNTgyNzQgOS4xNjcyNSA5LjYyMTIyIDkuMTA1NDYgOS42NDE5NUw1LjEwNTMzIDEwLjk4MjhDNS4wMzY5NSAxMS4wMDU3IDQuOTYzMDMgMTEuMDA1NyA0Ljg5NDY2IDEwLjk4MjhMMC44OTQ1MjggOS42NDE5NUMwLjgzMjczOCA5LjYyMTIyIDAuNzc4MzQxIDkuNTgyNzQgMC43MzgwNTYgOS41MzEyN0MwLjY5Nzc3MiA5LjQ3OTggMC42NzMzNjYgOS40MTc1OSAwLjY2Nzg1NCA5LjM1MjMyTDAuMDAxMTY1OTYgMS4zNjMzOEMtMC4wMDI2ODUyNSAxLjMxNzE5IDAuMDAzMDI4MzYgMS4yNzA3MSAwLjAxNzk0NTkgMS4yMjY4NkMwLjAzMjg2MzUgMS4xODMwMSAwLjA1NjY2MSAxLjE0Mjc0IDAuMDg3ODM1NCAxLjEwODYxWk03LjMzMzQgMy4wMTEzMUgyLjY2NjU5VjMuNjgxNzVINi42NjY3MVY1LjAyMjYzSDMuOTk5OTZWNS42OTMwN0g2LjY2NjcxVjcuMTI3OEw0Ljk5OTk5IDcuNjg2MjhMMy4zMzMyNyA3LjEyNzhWNi4zNjM1SDIuNjY2NTlWNy42MTA1Mkw0Ljk5OTk5IDguMzkyOTJMNy4zMzM0IDcuNjEwNTJWMy4wMTEzMVoiIGZpbGw9IiNDNzRGRkYiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xNDMyXzI2NyI+CjxyZWN0IHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMC41KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=");max-width:20px;background-repeat:no-repeat;background-size:15px 15px}.wpc-tooltip-html .wpc-tooltip-icon-js{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMCAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUuMDAxMyAzLjgzMzAxVjEuMzMzMDFIMi41MDEzQzIuMjgwMjkgMS4zMzMwMSAyLjA2ODMzIDEuNDIwODEgMS45MTIwNSAxLjU3NzA5QzEuNzU1NzcgMS43MzMzNyAxLjY2Nzk3IDEuOTQ1MzMgMS42Njc5NyAyLjE2NjM0VjYuMzQwNTFDMS44MTY5MiA2LjMxODk3IDEuOTY4ODkgNi4zNDQwNSAyLjEwMzAyIDYuNDEyMzFDMi4yMzcxNSA2LjQ4MDU3IDIuMzQ2ODcgNi41ODg2NiAyLjQxNzE0IDYuNzIxNzZDMi41MzE5NSA2LjU5ODkzIDIuNjcwOCA2LjUwMTA0IDIuODI1MDUgNi40MzQxNkMyLjk3OTMxIDYuMzY3MjggMy4xNDU2NyA2LjMzMjg1IDMuMzEzOCA2LjMzMzAxSDMuMzU1NDdDMy42ODE0NiA2LjMzMzAxIDMuOTk0MTEgNi40NjI1MSA0LjIyNDYyIDYuNjkzMDJDNC40NTUxMyA2LjkyMzU0IDQuNTg0NjQgNy4yMzYxOCA0LjU4NDY0IDcuNTYyMTdWNy41ODMwMUM0LjU4NDY0IDcuNzcwNTEgNC41MTM4IDcuOTQxMzQgNC4zOTcxNCA4LjA3MDUxQzQuNTE3MTQgOC4yNTM0MiA0LjU4NDY0IDguNDcwNTEgNC41ODQ2NCA4LjY5ODQyVjguODUzODRDNC41ODQ2NCA5LjE2NTA5IDQuNDY4OCA5LjQ0OTY3IDQuMjc3OTcgOS42NjYzNEg3LjUwMTNDNy43MjIzMiA5LjY2NjM0IDcuOTM0MjggOS41Nzg1NCA4LjA5MDU2IDkuNDIyMjZDOC4yNDY4NCA5LjI2NTk4IDguMzM0NjQgOS4wNTQwMiA4LjMzNDY0IDguODMzMDFWNC42NjYzNEg1LjgzNDY0QzUuNjEzNjIgNC42NjYzNCA1LjQwMTY2IDQuNTc4NTQgNS4yNDUzOCA0LjQyMjI2QzUuMDg5MSA0LjI2NTk4IDUuMDAxMyA0LjA1NDAyIDUuMDAxMyAzLjgzMzAxWk01LjYyNjMgMy44MzMwMVYxLjU0MTM0TDguMTI2MyA0LjA0MTM0SDUuODM0NjRDNS43NzkzOCA0LjA0MTM0IDUuNzI2MzkgNC4wMTkzOSA1LjY4NzMyIDMuOTgwMzJDNS42NDgyNSAzLjk0MTI1IDUuNjI2MyAzLjg4ODI2IDUuNjI2MyAzLjgzMzAxWk0xLjc3MjE0IDYuNzQ5NjdDMS44NTUwMiA2Ljc0OTY3IDEuOTM0NSA2Ljc4MjYgMS45OTMxMSA2Ljg0MTJDMi4wNTE3MSA2Ljg5OTgxIDIuMDg0NjQgNi45NzkyOSAyLjA4NDY0IDcuMDYyMTdWOC44MzMwMUMyLjA4NDY0IDkuMDU0MDIgMS45OTY4NCA5LjI2NTk4IDEuODQwNTYgOS40MjIyNkMxLjY4NDI4IDkuNTc4NTQgMS40NzIzMiA5LjY2NjM0IDEuMjUxMyA5LjY2NjM0QzEuMDMwMjkgOS42NjYzNCAwLjgxODMyNyA5LjU3ODU0IDAuNjYyMDQ2IDkuNDIyMjZDMC41MDU3NjYgOS4yNjU5OCAwLjQxNzk2OSA5LjA1NDAyIDAuNDE3OTY5IDguODMzMDFWOC43Mjg4NEMwLjQxNzk2OSA4LjY0NTk2IDAuNDUwODkzIDguNTY2NDcgMC41MDk0OTggOC41MDc4N0MwLjU2ODEwMyA4LjQ0OTI2IDAuNjQ3NTg5IDguNDE2MzQgMC43MzA0NjkgOC40MTYzNEMwLjgxMzM0OSA4LjQxNjM0IDAuODkyODM1IDguNDQ5MjYgMC45NTE0NCA4LjUwNzg3QzEuMDEwMDQgOC41NjY0NyAxLjA0Mjk3IDguNjQ1OTYgMS4wNDI5NyA4LjcyODg0VjguODMzMDFDMS4wNDI5NyA4Ljg4ODI2IDEuMDY0OTIgOC45NDEyNSAxLjEwMzk5IDguOTgwMzJDMS4xNDMwNiA5LjAxOTM5IDEuMTk2MDUgOS4wNDEzNCAxLjI1MTMgOS4wNDEzNEMxLjMwNjU2IDkuMDQxMzQgMS4zNTk1NSA5LjAxOTM5IDEuMzk4NjIgOC45ODAzMkMxLjQzNzY5IDguOTQxMjUgMS40NTk2NCA4Ljg4ODI2IDEuNDU5NjQgOC44MzMwMVY3LjA2MjE3QzEuNDU5NjQgNi45NzkyOSAxLjQ5MjU2IDYuODk5ODEgMS41NTExNiA2Ljg0MTJDMS42MDk3NyA2Ljc4MjYgMS42ODkyNiA2Ljc0OTY3IDEuNzcyMTQgNi43NDk2N1pNMy4zMTM4IDYuNzQ5NjdDMy4wOTgzMSA2Ljc0OTY3IDIuODkxNjUgNi44MzUyOCAyLjczOTI4IDYuOTg3NjVDMi41ODY5IDcuMTQwMDIgMi41MDEzIDcuMzQ2NjkgMi41MDEzIDcuNTYyMTdWNy42NTk2N0MyLjUwMTMgNy45MTU1MSAyLjYzNTg5IDguMTUzMDEgMi44NTU0NyA4LjI4NDY3TDMuNDkyNTUgOC42NjcxN0MzLjUwNzkzIDguNjc2NDMgMy41MjA2NCA4LjY4OTUxIDMuNTI5NDggOC43MDUxM0MzLjUzODMxIDguNzIwNzYgMy41NDI5NiA4LjczODM5IDMuNTQyOTcgOC43NTYzNFY4Ljg1Mzg0QzMuNTQyOTcgOC45MDM1NyAzLjUyMzIxIDguOTUxMjYgMy40ODgwNSA4Ljk4NjQyQzMuNDUyODkgOS4wMjE1OSAzLjQwNTIgOS4wNDEzNCAzLjM1NTQ3IDkuMDQxMzRIMy4zMTM4QzMuMjY0MDcgOS4wNDEzNCAzLjIxNjM4IDkuMDIxNTkgMy4xODEyMiA4Ljk4NjQyQzMuMTQ2MDYgOC45NTEyNiAzLjEyNjMgOC45MDM1NyAzLjEyNjMgOC44NTM4NFY4LjgzMzAxQzMuMTI2MyA4Ljc1MDEzIDMuMDkzMzggOC42NzA2NCAzLjAzNDc3IDguNjEyMDRDMi45NzYxNyA4LjU1MzQzIDIuODk2NjggOC41MjA1MSAyLjgxMzggOC41MjA1MUMyLjczMDkyIDguNTIwNTEgMi42NTE0NCA4LjU1MzQzIDIuNTkyODMgOC42MTIwNEMyLjUzNDIzIDguNjcwNjQgMi41MDEzIDguNzUwMTMgMi41MDEzIDguODMzMDFWOC44NTM4NEMyLjUwMTMgOS4wNjkzMyAyLjU4NjkgOS4yNzU5OSAyLjczOTI4IDkuNDI4MzZDMi44OTE2NSA5LjU4MDc0IDMuMDk4MzEgOS42NjYzNCAzLjMxMzggOS42NjYzNEgzLjM1NTQ3QzMuNTcwOTYgOS42NjYzNCAzLjc3NzYyIDkuNTgwNzQgMy45Mjk5OSA5LjQyODM2QzQuMDgyMzcgOS4yNzU5OSA0LjE2Nzk3IDkuMDY5MzMgNC4xNjc5NyA4Ljg1Mzg0VjguNzU2MzRDNC4xNjc5MSA4LjYzMDQ1IDQuMTM1MjYgOC41MDY3MyA0LjA3MzE5IDguMzk3MkM0LjAxMTEzIDguMjg3NjcgMy45MjE3NyA4LjE5NjA4IDMuODEzOCA4LjEzMTM0TDMuMTc2NzIgNy43NDg4NEMzLjE2MTM1IDcuNzM5NTggMy4xNDg2MyA3LjcyNjUgMy4xMzk3OSA3LjcxMDg4QzMuMTMwOTYgNy42OTUyNiAzLjEyNjMxIDcuNjc3NjIgMy4xMjYzIDcuNjU5NjdWNy41NjIxN0MzLjEyNjMgNy41MTI0NSAzLjE0NjA2IDcuNDY0NzUgMy4xODEyMiA3LjQyOTU5QzMuMjE2MzggNy4zOTQ0MyAzLjI2NDA3IDcuMzc0NjcgMy4zMTM4IDcuMzc0NjdIMy4zNTU0N0MzLjQwNTIgNy4zNzQ2NyAzLjQ1Mjg5IDcuMzk0NDMgMy40ODgwNSA3LjQyOTU5QzMuNTIzMjEgNy40NjQ3NSAzLjU0Mjk3IDcuNTEyNDUgMy41NDI5NyA3LjU2MjE3VjcuNTgzMDFDMy41NDI5NyA3LjY2NTg5IDMuNTc1ODkgNy43NDUzNyAzLjYzNDUgNy44MDM5OEMzLjY5MzEgNy44NjI1OCAzLjc3MjU5IDcuODk1NTEgMy44NTU0NyA3Ljg5NTUxQzMuOTM4MzUgNy44OTU1MSA0LjAxNzgzIDcuODYyNTggNC4wNzY0NCA3LjgwMzk4QzQuMTM1MDQgNy43NDUzNyA0LjE2Nzk3IDcuNjY1ODkgNC4xNjc5NyA3LjU4MzAxVjcuNTYyMTdDNC4xNjc5NyA3LjM0NjY5IDQuMDgyMzcgNy4xNDAwMiAzLjkyOTk5IDYuOTg3NjVDMy43Nzc2MiA2LjgzNTI4IDMuNTcwOTYgNi43NDk2NyAzLjM1NTQ3IDYuNzQ5NjdIMy4zMTM4WiIgZmlsbD0iIzIyQjczQSIvPgo8L3N2Zz4K");max-width:20px;background-repeat:no-repeat;background-size:15px 15px}.wpc-tooltip-html .wpc-tooltip-icon-cdn{max-width:20px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCAxMCAxMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQuMTY4NTMgMy41NzM3MUMzLjk5NjY2IDMuMjI0MTMgMy40OTg2MiAzLjIyNDEzIDMuMzI2NzUgMy41NzM3MUwyLjQyMjQ4IDUuNDA5NDlMMC40MDEwNDcgNS43MDQzOEMwLjAxODI0NDcgNS43NTkwNiAtMC4xMzYwNDggNi4yMzE2OCAwLjE0MTI4OCA2LjUwMzE0TDEuNjA0MTQgNy45MzI3TDEuMjYwNCA5Ljk1MDExQzEuMTk0IDEwLjMzMjkgMS41OTYzMyAxMC42MjU4IDEuOTQwMDcgMTAuNDQ0MkwzLjc0ODYyIDkuNDkxMTZMNS41NTcxNiAxMC40NDQyQzUuOTAwOSAxMC42MjU4IDYuMzAzMjQgMTAuMzMyOSA2LjIzNjgzIDkuOTUwMTFMNS44OTExNCA3LjkzMjdMNy4zNTM5OSA2LjUwMzE0QzcuNjMxMzMgNi4yMzE2OCA3LjQ3ODk5IDUuNzU5MDYgNy4wOTQyMyA1LjcwNDM4TDUuMDcyOCA1LjQwOTQ5TDQuMTY4NTMgMy41NzM3MVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xNDMyXzIzMSkiLz4KPHBhdGggZD0iTTYuMDkzNzIgMi41MzEwN0w2LjM2MzI1IDMuNDc0MzVDNi4zODg2NCAzLjU2NDE5IDYuNDcwNjYgMy42MjQ3MyA2LjU2MjQ2IDMuNjI0NzNDNi42NTQyNSAzLjYyNDczIDYuNzM2MjggMy41NjQxOSA2Ljc2MTY3IDMuNDc0MzVMNy4wMzEyIDIuNTMxMDdMNy45NzQ1MyAyLjI2MTU3QzguMDY0MzcgMi4yMzYxOCA4LjEyNDkyIDIuMTU0MTUgOC4xMjQ5MiAyLjA2MjM2QzguMTI0OTIgMS45NzA1OCA4LjA2NDM3IDEuODg4NTUgNy45NzQ1MyAxLjg2MzE2TDcuMDMxMiAxLjU5MzY1TDYuNzYxNjcgMC42NTAzNzhDNi43MzYyOCAwLjU2MDU0MiA2LjY1NDI1IDAuNSA2LjU2MjQ2IDAuNUM2LjQ3MDY2IDAuNSA2LjM4ODY0IDAuNTYwNTQyIDYuMzYzMjUgMC42NTAzNzhMNi4wOTM3MiAxLjU5MzY1TDUuMTUwMzkgMS44NjMxNkM1LjA2MDU1IDEuODg4NTUgNSAxLjk3MDU4IDUgMi4wNjIzNkM1IDIuMTU0MTUgNS4wNjA1NSAyLjIzNjE4IDUuMTUwMzkgMi4yNjE1N0w2LjA5MzcyIDIuNTMxMDdaTTguMzc0OTEgNS4yNDk1OUw4LjU4OTc1IDYuMDAzNDNDOC42MDkyOCA2LjA3MzczIDguNjc1NjkgNi4xMjQ1MSA4Ljc0OTkgNi4xMjQ1MUM4LjgyNDEyIDYuMTI0NTEgOC44ODg1NyA2LjA3NTY5IDguOTEwMDUgNi4wMDM0M0w5LjEyNDg5IDUuMjQ5NTlMOS44Nzg3OCA1LjAzNDc2QzkuOTQ5MDkgNS4wMTUyMyA5Ljk5OTg3IDQuOTQ4ODMgOS45OTk4NyA0Ljg3NDYyQzkuOTk5ODcgNC44MDA0MSA5Ljk1MTA0IDQuNzM1OTYgOS44Nzg3OCA0LjcxNDQ4TDkuMTI0ODkgNC40OTk2NUw4LjkxMDA1IDMuNzQ1ODFDOC44OTA1MiAzLjY3NTUgOC44MjQxMiAzLjYyNDczIDguNzQ5OSAzLjYyNDczQzguNjc1NjkgMy42MjQ3MyA4LjYxMTIzIDMuNjczNTUgOC41ODk3NSAzLjc0NTgxTDguMzc0OTEgNC40OTk2NUw3LjYyMTAzIDQuNzE0NDhDNy41NTA3MSA0LjczNDAxIDcuNDk5OTMgNC44MDA0MSA3LjQ5OTkzIDQuODc0NjJDNy40OTk5MyA0Ljk0ODgzIDcuNTQ4NzYgNS4wMTMyOCA3LjYyMTAzIDUuMDM0NzZMOC4zNzQ5MSA1LjI0OTU5WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzE0MzJfMjMxKSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzE0MzJfMjMxIiB4MT0iNy4yMjUzZS0wNyIgeTE9IjEyLjA4MzciIHgyPSI4LjY2Mzk3IiB5Mj0iMTAuNzE3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM1OUE4RTMiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNDI3M0YwIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQxX2xpbmVhcl8xNDMyXzIzMSIgeDE9IjUiIHkxPSI3LjM2NDI0IiB4Mj0iMTAuODE3NyIgeTI9IjYuNTgxOTEiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzU5QThFMyIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM0MjczRjAiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K");background-repeat:no-repeat;background-size:15px 15px}.tooltipster-sidetip.tooltipster-top .tooltipster-arrow-background{border-top-color:#ffffff}.tooltipster-sidetip.tooltipster-top .tooltipster-arrow-border{border-top-color:#ffffff}.wpc-plain-btn{display:inline-flex;justify-content:center;align-content:center;padding:10px;margin-right:15px;text-decoration:none;color:#5CB1FF}.wpc-plain-btn:focus{outline:none;box-shadow:none}.wpc-plain-btn img{margin-right:10px}.wpc-popup-options{margin-top:50px}.wpc-popup-option{border:1px solid #5CB1FF;display:flex;flex-wrap:wrap;justify-content:space-between;max-width:550px;margin:0 auto;border-radius:10px;overflow:hidden}.wpc-popup-option>div{height:70px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;color:white;font-size:20px}.wpc-popup-option .wpc-popup-option-icon{flex:1 0 calc(15% - 10px);background-color:#E8F1FF}.wpc-popup-option .wpc-popup-option-description{flex:1 0 calc(70% - 10px);background-color:#fff;color:#333;flex-direction:column;justify-content:center;align-items:flex-start;padding:10px 5px 10px 15px}.wpc-popup-option .wpc-popup-option-description h4{text-align:left;margin:0 0 2px 0px;font-size:14px;color:#595959 !important}.wpc-popup-option .wpc-popup-option-description p{text-align:left;margin:0;color:#9199A6 !important}.wpc-popup-option .wpc-popup-option-checkbox{flex:1 0 calc(15% - 10px);background-color:#fff}#select-mode-popup-inner{margin-bottom:25px !important}#select-mode-popup-inner .inline-heading h3{font-size:30px;color:#314B72;margin-bottom:5px}#select-mode-popup-inner .inline-heading p{margin-top:0 !important;margin-bottom:20px !important;font-size:13px;color:#9199A6}#select-mode-popup-inner .checkbox{margin:0px !important;border:0px !important;min-width:0px !important;min-height:0px !important;border-radius:0px !important;outline:none !important;box-shadow:none !important}#select-mode-popup-inner .checkbox:checked{background-color:#5CB1FF;border-color:#5CB1FF;background-image:url("../assets/images/check.svg") !important;background-size:auto !important;background-position:center;box-shadow:none}#select-mode-popup-inner .checkbox:focus{box-shadow:none}#select-mode-popup-inner .checkbox:checked:before{content:"" !important}#select-mode-popup-inner .wpc-box-check,#select-mode-popup-inner .wpc-iconcheckbox-toggle,#select-mode-popup-inner input[type='checkbox']{cursor:pointer}#select-mode-popup-inner input[type='checkbox']{height:0;width:0;position:absolute;pointer-events:none}#select-mode-popup-inner input[type='checkbox']+label{padding:20px;position:relative;display:flex;align-items:center;color:#9e9e9e;transition:color 200ms cubic-bezier(.4, 0, .23, 1)}#select-mode-popup-inner input[type='checkbox']+label.with-label>div{width:65px;padding-right:10px;font-size:11px;text-align:right}#select-mode-popup-inner input[type='checkbox']+label>span{display:flex;justify-content:center;align-items:center;width:24px;height:24px;background:transparent;border:1px solid rgba(0,0,0,0.25);border-radius:.25em;cursor:pointer;transition:all 200ms cubic-bezier(.4, 0, .23, 1)}#select-mode-popup-inner input[type='checkbox']+label:hover>span,#select-mode-popup-inner input[type='checkbox']:focus+label>span{background:rgba(255,255,255,0.1)}#select-mode-popup-inner input[type='checkbox']:checked+label>span{height:0 !important;width:0 !important;border:13px solid #5CB1FF !important;animation:shrink-bounce 200ms cubic-bezier(.4, 0, .23, 1) !important}#select-mode-popup-inner input[type='checkbox']:checked+label.with-label>span{position:relative !important}#select-mode-popup-inner input[type='checkbox']:checked+label.with-label>span:before{top:-10px !important;left:-5px !important}#select-mode-popup-inner input[type='checkbox']:checked+label>span:before{content:"";position:absolute !important;top:22px !important;left:27px !important;height:9px !important;width:4px !important;border-right:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(45deg) !important;transform-origin:0% 100% !important;animation:checkbox-check 125ms 200ms cubic-bezier(.4, 0, .23, 1) forwards !important}#select-mode-popup-inner input[type='checkbox'].wpc-locked-checkbox:not(:checked)+label>span:after{position:absolute;content:'' !important;background-color:transparent !important}#select-mode-popup-inner input[type='checkbox'].wpc-locked-checkbox:not(:checked)+label>span:before{border:4px solid #C5D3E3;border-radius:3px;background:#C5D3E3;position:absolute;transform:rotate(0deg) !important;content:'' !important;background-image:url('../images/option-locked.svg') !important;background-position:center center;background-size:15px 15px;width:20px !important;height:20px !important;background-repeat:no-repeat}@keyframes shrink-bounce{0%{transform:scale(1)}33%{transform:scale(.85)}100%{transform:scale(1)}}@keyframes checkbox-check{0%{width:0;height:0;border-color:white;transform:translate3d(0, 0, 0) rotate(45deg)}33%{width:4px;height:0;transform:translate3d(0, 0, 0) rotate(45deg)}100%{width:4px;height:8px;border-color:white;transform:translate3d(0, -0.4em, 0) rotate(45deg)}}.wpc-popup-select-bar-container{width:70%;margin:0 auto}.wpc-popup-select-bar-container .wpc-select-bar{position:relative}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter{display:inline-block;height:5px;width:100%;border-radius:5px;background:#E9E9E9;transition:all .3s ease-in-out}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter .wpc-select-bar-inner{position:absolute;left:0;display:inline-block;height:5px;border-radius:5px;background:#0a9bd6;transition:all .3s ease-in-out}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter .wpc-select-bar-inner:before{content:'';display:inline-block;width:10px;height:10px;border:3px solid #0a9bd6;background:#fff;border-radius:50%;position:absolute;right:0;top:-5px}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter .wpc-select-bar-inner.wpc-select-bar-width-1{width:9%}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter .wpc-select-bar-inner.wpc-select-bar-width-2{width:50%}.wpc-popup-select-bar-container .wpc-select-bar .wpc-select-bar-outter .wpc-select-bar-inner.wpc-select-bar-width-3{width:100%}.cdn-popup-save-btn{margin-top:30px;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;border-radius:4px;color:#fff !important;font-weight:normal;text-align:center;padding:15px 65px;text-decoration:none;transition:transform .3s ease-in-out;justify-content:center;align-items:center;display:inline-flex;font-size:15px}.cdn-popup-save-btn img{margin-right:15px}.cdn-popup-save-btn:hover{transform:scale(1.1)}.wpc-popup-columns{display:inline-flex;flex-direction:row;flex-wrap:wrap;width:86%;gap:25px;justify-content:space-between;align-items:stretch}.wpc-popup-columns.wpc-three-columns .wpc-popup-column{flex:1}.wpc-popup-columns.wpc-three-columns .wpc-popup-column .wpc-column-heading{padding:20px 10px}.wpc-popup-columns.wpc-three-columns .wpc-popup-column .wpc-column-heading h3{color:#A2A2A2;margin-bottom:10px;font-size:16px;font-weight:normal}.wpc-popup-columns.wpc-three-columns .wpc-popup-column .wpc-column-heading p{color:#9199A6;margin-bottom:10px;font-size:13px}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul{list-style:none;padding:0;margin:0;border-radius:10px;border:1px solid #E9E9E9;padding:20px;transition:transform .3s ease-in-out}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul:hover{transform:scale(1.05);cursor:pointer}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul li{padding:4px;font-size:14px;text-align:left;color:#c5c5c5}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul li:before{content:'';display:inline-block;border-radius:50%;width:8px;height:8px;background:#E9E9E9;margin-right:10px}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul li.wpc-active{color:#595959}.wpc-popup-columns.wpc-three-columns .wpc-popup-column ul li.wpc-active:before{background-color:#5CB1FF}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active .wpc-column-heading{padding:20px 10px}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active .wpc-column-heading h3{color:#595959;margin-bottom:10px;font-size:16px;font-weight:bold}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active .wpc-column-heading p{color:#9199A6;margin-bottom:10px;font-size:13px}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active ul{transform:scale(1.05);background:#171A32 !important}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active ul li{color:#c5c5c5 !important}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active ul li:before{background-color:#c5c5c5}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active ul li.wpc-active{color:#fff !important}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-active ul li.wpc-active:before{background-color:#00F0FF !important}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-darker ul{background:#fff}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-darker ul li{color:#595959}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-darker ul li:before{background-color:#5CB1FF}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-darker.wpc-active li.wpc-active{color:#fff !important}.wpc-popup-columns.wpc-three-columns .wpc-popup-column.wpc-darker.wpc-active li.wpc-active:before{background-color:#00F0FF !important}.wpc-pull-stats-container{display:flex;justify-content:left;align-items:center}.wpc-pull-stats-container img.wpc-pull-stats-icon{filter:invert(100%) sepia(0%) saturate(7495%) hue-rotate(251deg) brightness(99%) contrast(98%);width:15px}.wpc-pull-stats-container img{margin-left:0px;margin-right:10px}.wpc-pull-stats-container h3{margin:0}.wpc-pull-stats-container h3 a{display:inline-flex !important;vertical-align:middle !important;margin-left:15px !important;border-radius:50px !important;border:0px !important;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;padding:5px 20px !important}.wpc-input-holder span{display:inline-block;padding:0px 10px}.wpc-input-holder input{display:inline-block;padding:0px 10px;border:1px solid #ececec !important;width:80px;text-align:right}.wpc-optimizer-running{vertical-align:middle}.wpc-optimizer-running img{vertical-align:middle}.wps\_ic\_settings\_page{font-family:'proxima\_regular',sans-serif}.wpc-btn-return{border-radius:24px !important;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;display:inline-block !important;justify-content:center !important;align-items:center !important;padding:15px 25px !important;font-weight:bold !important;font-size:13px !important;color:#fff !important}.wp-compress-bulk-area .wp-compress-bulk-split{display:flex;flex-direction:row;column-gap:20px}.wp-compress-bulk-area .wp-compress-bulk-split .bulk-split-side{flex:1;text-align:center}.wpc-popup-custom-padding .swal2-popup{padding:0px}.swal2-popup .cdn-popup-footer-info{border-bottom-left-radius:5px;border-bottom-right-radius:5px;overflow:hidden;background:#E5E7E9}.swal2-popup .cdn-popup-footer-info a{display:inline-block;text-decoration:none;margin:1em 0;font-size:13px;color:#A8AFBB}.swal2-popup .cdn-popup-footer-info a img{width:14px;margin-right:10px}.wpc-compatibility-popup{padding:35px}.wpc-compatibility-popup .cdn-popup-top-left{text-align:left}.wpc-compatibility-popup .cdn-popup-top-left img{max-height:135px}.wpc-compatibility-popup .cdn-popup-buttons button{display:inline-flex}.wpc-compatibility-popup .cdn-popup-buttons button .wpc-button-icon{display:inline-block;width:18px;height:18px;margin-right:10px}.wpc-compatibility-popup .cdn-popup-buttons button.wpc-popup-confirm .wpc-button-icon{background:url("../images/popups/alert-icon.svg") center center no-repeat;background-size:contain}.wpc-compatibility-popup .cdn-popup-buttons button.wpc-popup-confirm:hover .wpc-button-icon{filter:invert(65%) sepia(47%) saturate(1056%) hue-rotate(178deg) brightness(92%) contrast(93%)}.wpc-compatibility-popup .cdn-popup-buttons button.wpc-get-support .wpc-button-icon{background:url("../images/popups/support-btn.svg") center center no-repeat;background-size:contain}.wpc-compatibility-popup .cdn-popup-buttons button.wpc-get-support:hover .wpc-button-icon{filter:brightness(0) invert(1)}.wpc-compatibility-popup .wpc-popup-confirm{background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%);border-radius:4px;display:inline-block;padding:12px 25px;border:1px solid #59A8E3;color:#fff;font-family:'proxima\_semibold';font-size:16px;line-height:20px}.wpc-compatibility-popup .wpc-popup-confirm:hover{cursor:pointer;background:transparent !important;color:#467CEF}.wpc-compatibility-popup .wpc-get-support{background:transparent !important;border-radius:4px;display:inline-block;padding:12px 25px;border:1px solid #59A8E3;color:#467CEF;font-family:'proxima\_semibold';font-size:16px;line-height:20px}.wpc-compatibility-popup .wpc-get-support:hover{cursor:pointer;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;color:#fff}.wpc-compatibility-popup .cdn-popup-content h3{font-family:'proxima\_semibold';text-align:left;line-height:30px;font-size:20px;color:#0A0641;font-weight:400}.wpc-compatibility-popup .cdn-popup-content p{font-family:'proxima\_light';text-align:left;font-weight:300;font-size:16px;line-height:24px;color:#A8AFBB}#cdn-popup-inner \*{max-width:100%}#cdn-popup-inner .cdn-popup-bottom-border{height:10px;background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;width:100%;content:'';position:absolute;left:0;bottom:0;right:0}.wpc-loading-spinner{display:flex;flex:1;justify-content:flex-end;align-items:center}.wpc-loading-spinner .snippet{position:relative;border-radius:0;width:100%;max-width:200px}.wpc-loading-spinner .stage{height:50px;display:flex;justify-content:center;align-items:center;position:relative;overflow:hidden}.wpc-loading-spinner .dot-pulse{position:relative;left:-9999px;width:10px;height:10px;border-radius:5px;background-color:#5CB1FF;color:#5CB1FF;box-shadow:9999px 0 0 -5px #5CB1FF;animation:dotPulse 1.5s infinite linear;animation-delay:.25s}.wpc-loading-spinner .dot-pulse::before,.wpc-loading-spinner .dot-pulse::after{content:'';display:inline-block;position:absolute;top:0;width:10px;height:10px;border-radius:5px;background-color:#5CB1FF;color:#5CB1FF}.wpc-loading-spinner .dot-pulse::before{box-shadow:9984px 0 0 -5px #5CB1FF;animation:dotPulseBefore 1.5s infinite linear;animation-delay:0s}.wpc-loading-spinner .dot-pulse::after{box-shadow:10014px 0 0 -5px #5CB1FF;animation:dotPulseAfter 1.5s infinite linear;animation-delay:.5s}@keyframes dotPulseBefore{0%{box-shadow:9984px 0 0 -5px #5CB1FF}30%{box-shadow:9984px 0 0 2px #5CB1FF}60%,100%{box-shadow:9984px 0 0 -5px #5CB1FF}}@keyframes dotPulse{0%{box-shadow:9999px 0 0 -5px #5CB1FF}30%{box-shadow:9999px 0 0 2px #5CB1FF}60%,100%{box-shadow:9999px 0 0 -5px #5CB1FF}}@keyframes dotPulseAfter{0%{box-shadow:10014px 0 0 -5px #5CB1FF}30%{box-shadow:10014px 0 0 2px #5CB1FF}60%,100%{box-shadow:10014px 0 0 -5px #5CB1FF}}.wpc-list-item-ul{list-style:none !important}.wpc-list-item-ul li{padding:5px}.wpc-bulk-list h3,.wpc-bulk-list h4{display:block;width:100%}.custom-cdn-error-message{color:#ff0000;display:inline-block;font-size:13px;border-radius:5px;padding:10px;background:#ffd6d6}.wpc-check-cdn-link{margin-top:20px;margin-bottom:20px;display:inline-block;text-decoration:none;color:#000;border:1px solid #c7c7c7;padding:10px 29px;border-radius:40px;font-size:13px;font-weight:bold;background:#f3f3f3}.wpc-advanced-settings-container-v4{margin:40px auto 0px auto;max-width:1300px;width:100%}.wpc-advanced-settings-container-v4 .wpc-dropdown{min-width:300px;text-align:right;position:relative;display:inline-block}.wpc-advanced-settings-container-v4 .wpc-dropdown.wpc-dropdown-left{text-align:left !important;margin-left:30px;min-width:200px !important}.wpc-advanced-settings-container-v4 .wpc-dropdown.wpc-dropdown-left .wpc-dropdown-menu{left:5px !important}.wpc-advanced-settings-container-v4 .wpc-dropdown button{min-width:170px;appearance:none;border:0;border-radius:40px !important;outline:0;font:inherit;font-size:13px;font-weight:500;height:auto;padding:12px 40px 12px 20px;background:url(../images/caret-down-v2.svg) no-repeat right 20px center,linear-gradient(to left, #EFF7FF 3em, #EFF7FF 3em);color:#314B72;cursor:pointer}.wpc-advanced-settings-container-v4 .wpc-dropdown button:hover,.wpc-advanced-settings-container-v4 .wpc-dropdown button:focus{background:url(../images/caret-down-v2.svg) no-repeat right 20px center,linear-gradient(to left, #EFF7FF 3em, #EFF7FF 3em) !important;color:#314B72 !important}.wpc-advanced-settings-container-v4 .wpc-dropdown .wpc-dropdown-menu{width:170px;position:absolute;transform:translate3d(0, 38px, 0);top:0px;right:0px;will-change:transform;z-index:1000;display:none;float:left;min-width:10rem;padding:0 0;margin:.125rem 0 0;font-size:13px;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,0.15);border-radius:.25rem}.wpc-advanced-settings-container-v4 .wpc-dropdown .wpc-dropdown-menu .dropdown-item{cursor:pointer;display:inline-block;width:100%;box-sizing:border-box;padding:8px 15px;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0;text-decoration:none}.wpc-advanced-settings-container-v4 .wpc-dropdown .wpc-dropdown-menu .dropdown-item:focus,.wpc-advanced-settings-container-v4 .wpc-dropdown .wpc-dropdown-menu .dropdown-item:hover{font-weight:500;color:#16181b;text-decoration:none;background-color:#f8f9fa}.wpc-advanced-settings-container-v4 .wps-critical-table{border-spacing:0;border-collapse:collapse}.wpc-advanced-settings-container-v4 .wps-critical-table .wpc-critical-page-name{font-weight:500}.wpc-advanced-settings-container-v4 .wps-critical-table thead th{padding:8px 12px;text-align:left}.wpc-advanced-settings-container-v4 .wps-critical-table tbody tr:nth-child(odd){background:#5cb1ff0f}.wpc-advanced-settings-container-v4 .wps-critical-table tbody td{padding:8px 12px}.wpc-advanced-settings-container-v4 .wps-critical-table a{color:#19335b}.wpc-advanced-settings-container-v4 .wpc-warning-icon{width:32px;height:32px;margin-right:10px;background:#5CB1FF;display:flex;justify-content:center;align-items:center;float:left;border-radius:50%}.wpc-advanced-settings-container-v4 .wpc-warning-icon:before{content:'';width:15px;height:15px;background:url('../images/warning.svg');background-size:99% 99%}.wpc-advanced-settings-container-v4 .action-buttons{display:flex;flex:1;justify-content:right}.wpc-advanced-settings-container-v4 .btn{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:all .2s ease-out}.wpc-advanced-settings-container-v4 .btn:hover{background:#2271b1 !important;transform:scale(1.1)}.wpc-advanced-settings-container-v4 .btn.btn-radius{border-radius:25px;font-size:13px;padding:13px 40px}.wpc-advanced-settings-container-v4 .btn.btn-gradient{color:#fff;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;font-weight:500;border:none}.wpc-advanced-settings-container-v4 .btn.btn-flex{display:flex}.wpc-advanced-settings-container-v4 .btn span{display:flex;margin-right:10px}.wpc-advanced-settings-container-v4 .btn span img{width:21px;filter:brightness(0) saturate(100%) invert(96%) sepia(4%) saturate(14%) hue-rotate(154deg) brightness(105%) contrast(106%)}.wpc-advanced-settings-container-v4 .addon-buttons{display:flex;margin-left:30px;justify-content:flex-end;align-items:center}.wpc-advanced-settings-container-v4 .addon-buttons .btn{display:flex;justify-content:center;align-items:center;padding:13px 20px;font-weight:500}.wpc-advanced-settings-container-v4 .addon-buttons .btn.btn-gradient{background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important}.wpc-advanced-settings-container-v4 .addon-buttons .btn.btn-radius{border-radius:24px}.wpc-advanced-settings-container-v4 .addon-buttons .btn span{display:flex;margin-right:10px}.wpc-advanced-settings-container-v4 .addon-buttons .btn span img{width:21px;filter:brightness(0) saturate(100%) invert(96%) sepia(4%) saturate(14%) hue-rotate(154deg) brightness(105%) contrast(106%)}.wpc-advanced-settings-container-v4 .save-button{display:flex;flex:3}.wpc-advanced-settings-container-v4 .save-button .save-notification{flex:1;display:flex;justify-content:left;align-content:center;flex-grow:2}.wpc-advanced-settings-container-v4 .save-button .save-notification .save-notification-inside{padding:3px 8px !important;background:rgba(70,123,239,0.05);border:1px solid #C2E1FE;border-radius:100px;text-align:left;display:flex;align-items:center;width:100%;margin-right:15px}.wpc-advanced-settings-container-v4 .save-button .save-notification .save-notification-inside p{margin:0;padding:2px 0px;font-style:normal;font-weight:500;font-size:13px;display:flex;align-items:center;letter-spacing:-0.1px;color:#5CB1FF}.wpc-advanced-settings-container-v4 .save-button .save-button-inside{display:flex;justify-content:right;align-content:center}.wpc-advanced-settings-container-v4 .save-button .save-button-inside input{width:135px;padding:14px 20px;background:#5CB1FF;border-radius:100px;border:0px solid transparent;font-style:normal;font-weight:300;font-size:14px;color:#FFFFFF}.wpc-advanced-settings-container-v4 .save-button-inside button{display:flex;align-items:center}.wpc-advanced-settings-container-v4 .wpc-save-button-icon{margin-right:10px;content:'';background:url('../images/floppy.svg');background-size:100% auto;width:16px;height:16px;display:inline-block}.wpc-advanced-settings-container-v4 .wpc-header{display:flex;flex-direction:row;column-gap:30px;margin-bottom:15px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-pro-site{display:inline-block;margin-left:20px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-pro-site span{display:inline-block;padding:4px 10px;border-radius:5px;background:#5CB1FF;color:#fff;font-family:'proxima\_regular' !important;letter-spacing:.3px;font-size:12px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-left{width:100%;max-width:300px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-left img{width:100%;max-width:180px;padding:6px 0px 3px 0px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-right{flex:1}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-right .wpc-header-right-inner{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-logo{display:inline-block;vertical-align:middle;margin-left:15px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-logo img{max-height:50px}.wpc-advanced-settings-container-v4 .wpc-critical-circle{display:inline-block;content:'';width:10px;height:10px;margin-right:10px;background:#A0AAB6;border-radius:100%}.wpc-advanced-settings-container-v4 .wpc-critical-circle.wpc-done{background:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-critical-circle.wpc-error{background:#ec0012}.wpc-advanced-settings-container-v4 .wpc-critical-circle.wpc-unknown{background:#d9e2ed}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container{display:flex;align-items:center;justify-content:space-between}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner{display:flex;align-items:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-title{flex:3;flex-direction:column;display:flex;justify-content:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-dropdown-container{flex:1;text-align:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-dropdown-container select{appearance:none;border:0;border-radius:40px !important;outline:0;font:inherit;font-size:13px;font-weight:500;height:auto;padding:12px 40px 12px 20px;background:url('../images/caret-down-v2.svg') no-repeat right 20px center,linear-gradient(to left, #EFF7FF 3em, #EFF7FF 3em);color:#314B72;cursor:pointer}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-dropdown-container select option{color:inherit;background-color:#320a28}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-dropdown-container select:focus{outline:none;box-shadow:none !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-preset-modes-container .wpc-preset-modes-container-inner .wpc-preset-mode-dropdown-container select::-ms-expand{display:none}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs{display:flex;flex-direction:row;column-gap:30px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-list{width:100%;max-width:260px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content{flex:1;display:flex;justify-content:flex-start;align-items:flex-start;max-width:1320px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-beta-badge{display:inline-block;padding:3px 10px;background:#19335B;color:#fff;border-radius:5px;font-size:10px;margin-left:10px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wps-ic-configure-popup{width:16px;height:16px;display:inline-block}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wps-ic-configure-popup.LockedTooltip{background:#E9EDF0 !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wps-ic-configure-popup img{width:100%;filter:brightness(0) saturate(100%) invert(76%) sepia(13%) saturate(263%) hue-rotate(179deg) brightness(88%) contrast(90%)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-cname h4{font-family:'proxima\_semibold' !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-cname .wps-ic-configure-popup{width:auto !important;height:auto !important;display:inline-block;color:#5CB1FF;background:#e8f1ff;border:none;border-radius:25px;font-size:13px;padding:11px 30px;text-decoration:none;transition:all .2s ease-out}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-cname .wps-ic-configure-popup:hover{transform:scale(1.1)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-cname .wps-ic-configure-popup img{width:16px;filter:brightness(0) saturate(100%) invert(76%) sepia(13%) saturate(263%) hue-rotate(179deg) brightness(88%) contrast(90%)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-checkbox-title-holder{margin-bottom:10px;display:flex;align-items:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-checkbox-title-holder h4{font-size:1.1em;padding-left:10px !important;display:flex;margin:0;align-items:center;font-family:'proxima\_semibold' !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-checkbox-title-holder h4 .wps-ic-configure-popup{margin-left:10px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-settings-tab-content-inner{display:flex;flex:1;align-items:start;justify-content:start}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content{flex:1;display:flex;flex-direction:column}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label>span{height:0;width:0;border:13px solid #C5D3E3;background:#C5D3E3}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label.with-label>span{position:relative}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label.with-label>span:before{top:-5px;left:-5px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label>span:before,.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label>span:after{position:absolute;content:' ';height:13px;width:2px;background-color:#fff}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label>span:before{transform:rotate(45deg)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox']:not(:checked)+label>span:after{transform:rotate(-45deg)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox'].wpc-locked-checkbox:not(:checked)+label>span:after{position:absolute;content:'' !important;background-color:transparent !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .real-time-optimization input[type='checkbox'].wpc-locked-checkbox:not(:checked)+label>span:before{position:absolute;transform:rotate(0deg) !important;content:'' !important;background-image:url('../images/option-locked.svg') !important;background-position:center center;background-size:15px 15px;background-color:transparent !important;width:20px !important;height:20px !important;background-repeat:no-repeat}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box{background:#fff !important;border-radius:4px;flex:1;padding:20px 20px;margin-bottom:15px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box #pagination{text-align:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .optimization-status-pagination-link{display:inline-block;margin:0 5px;padding:5px 10px;text-decoration:none;color:#007bff;border:1px solid #ddd;border-radius:4px;background-color:#f8f9fa;transition:background-color .3s,color .3s}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .optimization-status-pagination-link:hover{color:#fff;background-color:#007bff;text-decoration:none}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .optimization-status-pagination-link.active{color:#fff;background-color:#0056b3;border-color:#0056b3}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wp-compress-settings-row-blank{margin:0px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wp-compress-settings-row-blank .pre-inner{margin:0px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wp-compress-settings-row-blank .youve-saved{padding:0px;text-align:left}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wp-compress-settings-row-blank .youve-saved h3{margin:0;margin-left:8px;margin-bottom:10px;display:block;font-size:14px;font-weight:400;line-height:normal !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wp-compress-settings-row-blank .youve-saved h4{margin:0;margin-left:3px;margin-top:5px;margin-bottom:-5px;display:block;font-size:20px !important;font-weight:500}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .stats-boxes .stats-box-single{flex:none !important;padding:15px 20px;text-align:left}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .stats-boxes .stats-box-single .stats-box-icon-holder{margin-right:15px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .stats-boxes .stats-box-single h3{text-align:left;font-size:14px;font-weight:600}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .stats-boxes .stats-box-single h5{text-align:left;font-size:11px;font-weight:400}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box p{color:#9199A6}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal{display:flex;flex-direction:row}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-tab-title{position:relative;padding-right:30px;margin-right:30px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-tab-title:before{position:absolute;right:0;content:'';width:1px;height:90%;background:#E9E9E9}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-checkbox-description{padding-right:0px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-tab-content-inner{display:flex;justify-content:left;align-items:center;flex:1}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-checkbox-description .wpc-checkbox-description-inner{width:100%;display:flex;flex-direction:row;justify-content:left;align-items:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-checkbox-description .wpc-checkbox-description-inner input[type='checkbox']+label{padding:0 10px 0px 0px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-horizontal .wpc-checkbox-description h4{flex:1;display:flex}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wpc-tab-content-inner.wpc-vertical{flex-direction:column}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wpc-tab-content-inner.wpc-vertical .wpc-items-list-row{display:flex;flex-direction:column}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wpc-spacer{height:1px;width:100%;background:#E9E9E9;margin:10px 0px 15px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wpc-checkbox-description-outer-v1 .wpc-checkbox-description h4{margin:0px;font-family:'proxima\_semibold' !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .wpc-checkbox-description-outer-v1 .wpc-checkbox-description p{margin:0}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box{display:flex;flex-direction:row;align-items:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box .wpc-checkbox-icon{flex:1;text-align:center;max-width:120px;padding-right:10px;justify-content:center;align-items:center;display:flex}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box .wpc-checkbox-icon img{transition:all .2s ease-out;max-width:90%}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box:hover .wpc-checkbox-icon img{transform:scale(1.1)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box .wpc-checkbox-description{flex:2;display:flex;justify-content:center;align-items:flex-start;flex-direction:column}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box .wpc-checkbox-description p{color:#9199A6;width:100%;display:block;margin:0px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box .form-check{flex:1;max-width:60px;display:flex;align-items:center;justify-content:center}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box.optimization-level .form-check{max-width:400px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .option-box.optimization-level .form-check .wpc-slider{width:100%}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox{display:flex;flex-direction:row}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-switch{margin-top:10px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-icon img{height:72px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-description{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;margin-left:5px;margin-bottom:17px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-description h4{font-weight:600;font-family:'proxima\_semibold' !important;margin-top:10px;margin-bottom:5px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-description p{margin:0px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-icon{flex:1;text-align:center;max-width:120px;padding-right:0px;justify-content:center;align-items:center;display:flex}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-icon img{max-width:90%}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .wpc-checkbox-description{flex:2}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box .tab-title-checkbox .form-check{flex:1;max-width:80px;display:flex;align-items:center;justify-content:right;padding:0px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-usage-stats-width-wider .stats-boxes .stats-box-single{flex:1 !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-usage-stats-width-wider .stats-boxes .stats-box-single h5{font-size:14px;margin-bottom:6px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-content .wpc-tab-content-box.wpc-usage-stats-width-wider .stats-boxes .stats-box-single h3{margin:5px 0px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul{padding:0;margin:0}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li{padding-bottom:5px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a{text-decoration:none;display:flex;align-items:center;padding:15px 40px 15px 15px;color:#A2AAB8;font-size:14px;border-radius:4px;outline:none !important;box-shadow:none !important;font-family:'proxima\_semibold' !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a:focus{outline:none !important;box-shadow:none !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a .wpc-icon-container{min-width:35px;display:inline-block}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a .wpc-icon{text-align:center;display:inline-block;padding:5px;border-radius:4px;line-height:12px;margin-right:5px}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a .wpc-icon img{height:15px;filter:brightness(0) saturate(100%) invert(76%) sepia(13%) saturate(263%) hue-rotate(179deg) brightness(88%) contrast(90%)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a:hover{font-weight:700;color:#314B72}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a:hover .wpc-icon img{filter:brightness(0) saturate(100%) invert(27%) sepia(21%) saturate(1093%) hue-rotate(177deg) brightness(99%) contrast(98%)}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a .wpc-title{display:inline-block;line-height:35px;vertical-align:top}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a.active{background:#ECF2FD;color:#314B72;font-weight:700}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a.active .wpc-icon{background:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tab-list ul li a.active .wpc-icon img{filter:brightness(0) saturate(100%) invert(96%) sepia(4%) saturate(14%) hue-rotate(154deg) brightness(105%) contrast(106%)}.wpc-advanced-settings-container-v4 .checkbox{margin:0px !important;border:0px !important;min-width:0px !important;min-height:0px !important;border-radius:0px !important;outline:none !important;box-shadow:none !important}.wpc-advanced-settings-container-v4 .checkbox:checked{background-color:#5CB1FF;border-color:#5CB1FF;background-image:url("../assets/images/check.svg") !important;background-size:auto !important;background-position:center;box-shadow:none}.wpc-advanced-settings-container-v4 .checkbox:focus{box-shadow:none}.wpc-advanced-settings-container-v4 .checkbox:checked:before{content:"" !important}.wpc-advanced-settings-container-v4 .wpc-box-check,.wpc-advanced-settings-container-v4 .wpc-iconcheckbox-toggle,.wpc-advanced-settings-container-v4 input[type='checkbox']{cursor:pointer}.wpc-advanced-settings-container-v4 input[type='checkbox']{height:0;width:0;position:absolute;pointer-events:none}.wpc-advanced-settings-container-v4 input[type='checkbox']+label{padding:20px;position:relative;display:flex;align-items:center;color:#9e9e9e;transition:color 200ms cubic-bezier(.4, 0, .23, 1)}.wpc-advanced-settings-container-v4 input[type='checkbox']+label.with-label>div{width:65px;padding-right:10px;font-size:11px;text-align:right}.wpc-advanced-settings-container-v4 input[type='checkbox']+label>span{display:flex;justify-content:center;align-items:center;width:24px;height:24px;background:transparent;border:1px solid rgba(0,0,0,0.25);border-radius:.25em;cursor:pointer;transition:all 200ms cubic-bezier(.4, 0, .23, 1)}.wpc-advanced-settings-container-v4 input[type='checkbox'].wpc-locked-checkbox+label>span{height:0;width:0;border:13px solid #C5D3E3;background:#C5D3E3}.wpc-advanced-settings-container-v4 input[type='checkbox'].wpc-locked-checkbox+label>span:before{position:absolute;transform:rotate(0deg) !important;content:'' !important;background-image:url(../images/option-locked.svg) !important;background-position:center center;background-size:15px 15px;background-color:transparent !important;width:20px !important;height:20px !important;background-repeat:no-repeat}.wpc-advanced-settings-container-v4 input[type='checkbox']+label:hover>span,.wpc-advanced-settings-container-v4 input[type='checkbox']:focus+label>span{background:rgba(255,255,255,0.1)}.wpc-advanced-settings-container-v4 input[type='checkbox']:checked+label>span{height:0 !important;width:0 !important;border:13px solid #5CB1FF !important;animation:shrink-bounce 200ms cubic-bezier(.4, 0, .23, 1) !important}.wpc-advanced-settings-container-v4 input[type='checkbox']:checked+label.with-label>span{position:relative !important}.wpc-advanced-settings-container-v4 input[type='checkbox']:checked+label.with-label>span:before{top:-10px !important;left:-5px !important}.wpc-advanced-settings-container-v4 input[type='checkbox']:checked+label>span:before{content:"";position:absolute !important;top:22px !important;left:27px !important;height:9px !important;width:4px !important;border-right:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(45deg) !important;transform-origin:0% 100% !important;animation:checkbox-check 125ms 200ms cubic-bezier(.4, 0, .23, 1) forwards !important}@keyframes shrink-bounce{0%{transform:scale(1)}33%{transform:scale(.85)}100%{transform:scale(1)}}@keyframes checkbox-check{0%{width:0;height:0;border-color:white;transform:translate3d(0, 0, 0) rotate(45deg)}33%{width:4px;height:0;transform:translate3d(0, 0, 0) rotate(45deg)}100%{width:4px;height:8px;border-color:white;transform:translate3d(0, -0.4em, 0) rotate(45deg)}}.wpc-advanced-settings-container-v4 .wpc-items-list-row{display:flex;flex-direction:row;justify-content:left;flex-wrap:wrap;gap:22px}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox{border:1px solid #E9E9E9;display:flex;flex:50%;flex-direction:row;max-width:260px;width:100%;border-radius:4px}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox:hover{cursor:pointer}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox:hover .wpc-iconcheckbox-icon img{transform:scale(1.1)}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox .wpc-iconcheckbox-icon{flex:1;padding:20px 10px;max-width:60px;background:#fafafa;text-align:center}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox .wpc-iconcheckbox-icon img{transition:all .2s ease-out;filter:brightness(0) saturate(100%) invert(93%) sepia(2%) saturate(5592%) hue-rotate(181deg) brightness(95%) contrast(87%)}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox .wpc-iconcheckbox-title{flex:2;justify-content:left;align-items:center;display:flex;padding-left:20px}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox .wpc-iconcheckbox-toggle{flex:1;max-width:70px;justify-content:left;align-items:center;display:flex;padding-left:0px}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox.active{border:1px solid #C2D9FF}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox.active .wpc-iconcheckbox-icon{background:#E8F1FF}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox.active .wpc-iconcheckbox-icon img{filter:brightness(0) saturate(100%) invert(52%) sepia(96%) saturate(327%) hue-rotate(171deg) brightness(94%) contrast(90%)}.wpc-advanced-settings-container-v4 .mb-10{margin-bottom:10px}.wpc-advanced-settings-container-v4 .mb-20{margin-bottom:20px}.wpc-advanced-settings-container-v4 .wpc-switch-holder{display:flex;justify-content:center;align-items:center}.wpc-advanced-settings-container-v4 .wpc-switch{position:relative;display:inline-block;width:60px;height:34px}.wpc-advanced-settings-container-v4 .wpc-switch input{opacity:0;width:0;height:0}.wpc-advanced-settings-container-v4 .wpc-switch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#F5F9FE;-webkit-transition:.4s;transition:.4s}.wpc-advanced-settings-container-v4 .wpc-switch-slider:before{position:absolute;height:26px;width:26px;line-height:26px;left:4px;bottom:4px;flex-wrap:wrap;background-color:#C5D3E3;-webkit-transition:.4s;transition:.4s;display:flex;justify-content:center;align-content:center;content:url('../images/x.svg')}.wpc-advanced-settings-container-v4 input:checked+.wpc-switch-slider{background-color:#EFF7FF}.wpc-advanced-settings-container-v4 input:focus+.wpc-switch-slider{box-shadow:0 0 1px #EFF7FF}.wpc-advanced-settings-container-v4 input:checked+.wpc-switch-slider:before{background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%);-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px);display:flex;flex-wrap:wrap;justify-content:center;align-content:center;content:url('../images/check.svg')}.wpc-advanced-settings-container-v4 .wpc-switch-slider.wpc-switch-round{border-radius:34px}.wpc-advanced-settings-container-v4 .wpc-switch-slider.wpc-switch-round:before{border-radius:50%}.wpc-advanced-settings-container-v4 .wpc-box-for-input,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox{flex:1;border:1px solid #E9E9E9;border-radius:4px;padding:18px;position:relative}.wpc-advanced-settings-container-v4 .wpc-box-for-input:hover,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox:hover{cursor:pointer}.wpc-advanced-settings-container-v4 .wpc-box-for-input.no-description .wpc-checkbox-title-holder,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox.no-description .wpc-checkbox-title-holder{margin-bottom:0px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-input.no-description .wpc-box-content h4,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox.no-description .wpc-box-content h4{margin:0px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-input.no-description .wpc-box-check,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox.no-description .wpc-box-check{padding:10px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content{padding-right:60px}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content h4,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content h4{margin:0px 0px 10px 0px;padding-left:25px}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content p,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content p{padding-left:20px;margin:0px;font-size:13px;color:#9199A6}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content .circle-check,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content .circle-check{float:left;color:#A0AAB6;transform:scale(.9);transition:all 250ms cubic-bezier(.4, 0, .23, 1)}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content .circle-check::before,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content .circle-check::before{display:inline-block;content:'';width:10px;height:10px;background:#A0AAB6;border-radius:100%}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content .circle-check.active,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content .circle-check.active{transform:scale(1);color:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-content .circle-check.active::before,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-content .circle-check.active::before{animation:pop .3s linear 1;background:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-button a,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-button a{width:auto !important;display:inline-block !important;height:auto !important;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;border-radius:24px !important;justify-content:center;text-decoration:none;align-items:center;padding:6px 20px;font-weight:500;color:#fff}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-button,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-button,.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-check,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-check{position:absolute;padding:15px;top:0;right:0}.wpc-advanced-settings-container-v4 .wpc-box-for-input .wpc-box-textarea textarea,.wpc-advanced-settings-container-v4 .wpc-box-for-checkbox .wpc-box-textarea textarea{width:100%;resize:none}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea{flex:1;border:1px solid #E9E9E9;border-radius:4px;padding:18px;position:relative}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea.no-description .wpc-checkbox-title-holder{margin-bottom:0px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea.no-description .wpc-box-content h4{margin:0px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea.no-description .wpc-box-check{padding:10px !important}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content{padding-right:60px}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content h4{margin:0px 0px 10px 0px;padding-left:25px}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content p{padding-left:20px;padding-bottom:20px;margin:0px;font-size:13px;color:#9199A6}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content .circle-check{float:left;color:#A0AAB6;transform:scale(.9);transition:all 250ms cubic-bezier(.4, 0, .23, 1)}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content .circle-check::before{display:inline-block;content:'';width:10px;height:10px;background:#A0AAB6;border-radius:100%}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content .circle-check.active{transform:scale(1);color:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-content .circle-check.active::before{animation:pop .3s linear 1;background:#5CB1FF}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-check{position:absolute;padding:15px;top:0;right:0}.wpc-advanced-settings-container-v4 .wpc-box-for-textarea .wpc-box-textarea textarea{height:150px;width:100%;resize:none}.wpc-advanced-settings-container-v4 .wpc-slider-text{margin-top:10px;align-items:center !important;justify-content:space-between !important;display:flex}.wpc-advanced-settings-container-v4 .wpc-slider-text>div{transition:all .2s ease-out}.wpc-advanced-settings-container-v4 .wpc-slider-text>div:hover{transform:scale(1.1)}.wpc-advanced-settings-container-v4 .wpc-slider-text>\*{cursor:pointer;width:70px}.wpc-advanced-settings-container-v4 .wpc-slider-text .text-middle{text-align:center}.wpc-advanced-settings-container-v4 .wpc-slider-text .text-max{text-align:right}.wpc-advanced-settings-container-v4 .option-box{position:relative}.wpc-advanced-settings-container-v4 .option-box .left-col{width:100%}.wpc-advanced-settings-container-v4 .wpc-range-slider{width:100%;margin:0 auto;position:relative}.wpc-advanced-settings-container-v4 #optimizationLevel{-webkit-appearance:none;width:100%}.wpc-advanced-settings-container-v4 #optimizationLevel:focus{outline:none}.wpc-advanced-settings-container-v4 #optimizationLevel::before,.wpc-advanced-settings-container-v4 #optimizationLevel::after{position:absolute;top:2rem;color:#333;font-size:14px;line-height:1;padding:3px 5px;background-color:rgba(0,0,0,0.1);border-radius:10px;opacity:0}.wpc-advanced-settings-container-v4 #optimizationLevel::before{left:0;content:attr(data-min)}.wpc-advanced-settings-container-v4 #optimizationLevel::after{right:0;content:attr(data-max)}.wpc-advanced-settings-container-v4 #optimizationLevel::-moz-range-track{background:linear-gradient(90deg, #5498F9 var(--range-progress), #E7F4FE var(--range-progress))}.wpc-advanced-settings-container-v4 #optimizationLevel::-webkit-slider-runnable-track{width:100%;height:8px;cursor:pointer;animate:.2s;background:linear-gradient(90deg, #5498F9 var(--range-progress), #E7F4FE var(--range-progress));border-radius:1rem}.wpc-advanced-settings-container-v4 #optimizationLevel::-webkit-slider-thumb{-webkit-appearance:none;border:4px solid #5498F9;border-radius:100%;background:#fff;cursor:pointer;height:20px;width:20px;margin-top:-5px}.wpc-advanced-settings-container-v4 #optimizationLevel\_img{-webkit-appearance:none;width:100%}.wpc-advanced-settings-container-v4 #optimizationLevel\_img:focus{outline:none}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::before,.wpc-advanced-settings-container-v4 #optimizationLevel\_img::after{position:absolute;top:2rem;color:#333;font-size:14px;line-height:1;padding:3px 5px;background-color:rgba(0,0,0,0.1);border-radius:10px;opacity:0}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::before{left:0;content:attr(data-min)}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::after{right:0;content:attr(data-max)}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::-moz-range-track{background:linear-gradient(90deg, #5498F9 var(--range-progress), #E7F4FE var(--range-progress))}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::-webkit-slider-runnable-track{width:100%;height:8px;cursor:pointer;animate:.2s;background:linear-gradient(90deg, #5498F9 var(--range-progress), #E7F4FE var(--range-progress));border-radius:1rem}.wpc-advanced-settings-container-v4 #optimizationLevel\_img::-webkit-slider-thumb{-webkit-appearance:none;border:4px solid #5498F9;border-radius:100%;background:#fff;cursor:pointer;height:20px;width:20px;margin-top:-5px}.cdn-popup-inner .custom-cdn-steps{margin-bottom:0px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2{padding-top:0px;padding-bottom:0px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry ul,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1 ul{margin:30px 45px 15px 45px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry{padding-bottom:30px !important}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry form{padding-bottom:0px !important}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2 img{padding:0px 45px;margin-bottom:40px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2 h3{margin-bottom:20px !important}.cdn-popup-inner .custom-cdn-steps h3{margin:0 !important}.cdn-popup-inner .custom-cdn-steps ul{margin:0;text-align:left}.cdn-popup-inner .custom-cdn-steps ul li{padding:10px 0px;margin:0;font-size:14px}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input{display:inline-block;vertical-align:middle}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input[type="text"]{padding:5px 20px;border-radius:2px !important;border:1px solid #e6e6e6;width:350px}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input[type="submit"]{background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;padding:12px 30px;border-radius:2px !important;border:0px;font-size:13px;box-shadow:none;color:#fff}.cdn-popup-inner .wps-example-list{display:block;margin-bottom:20px}.cdn-popup-inner .wps-example-list>div{display:flex;align-items:center;justify-content:center}.cdn-popup-inner .wps-example-list>div h3{margin:0 !important;color:#6A717D !important;font-family:'proxima\_semibold',sans-serif;font-size:18px;padding-right:30px}.cdn-popup-inner .wps-example-list>div div{text-align:left;padding-left:20px;margin-left:20px;position:relative}.cdn-popup-inner .wps-example-list>div div:after{content:'';width:1px;background:#cecece;position:absolute;top:8px;left:-10px;bottom:0px}.cdn-popup-inner .wps-example-list>div div p{text-align:left;padding-bottom:0px;margin:0}.cdn-popup-inner .inline-heading{display:flex;justify-content:center;align-content:center;margin-bottom:35px;margin-top:15px}.cdn-popup-inner textarea{width:90%;min-height:200px;background:#F4F8FC;border-radius:5px;resize:none !important;border:0px !important;padding:20px;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.cdn-popup-inner.bottom-border{overflow:hidden;border-radius:5px !important;position:relative}.cdn-popup-inner .btn-primary{border:1px solid #549DE6;color:#549DE6;border-radius:2px;padding:15px 45px;text-decoration:none;display:inline-block;font-weight:400;line-height:1.5}.cdn-popup-inner .btn-active{background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;color:#fff !important}.cdn-popup-inner.custom-cname-popup .btn-primary{border:1px solid #549DE6;color:#549DE6;border-radius:30px;padding:12px 25px;font-size:14px;text-decoration:none;width:auto !important;height:auto !important}.cdn-popup-inner.custom-cname-popup .btn-active{background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;color:#fff !important}.cdn-popup-inner .wps-empty-row{height:25px;width:100%;display:inline-block}.cdn-popup-inner .inline-heading-icon{text-align:left}.cdn-popup-inner .inline-heading-icon img{display:inline-block;vertical-align:middle;padding-right:20px}.cdn-popup-inner .inline-heading-icon h3{font-size:16px;display:inline-block;margin:0 !important}.cdn-popup-inner .custom-cdn-steps{margin-bottom:0px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2{padding-top:30px;padding-bottom:30px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry ul,.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1 ul{margin:30px 45px 15px 45px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry{padding-bottom:30px !important}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-1-retry form{padding-bottom:0px !important}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2 img{padding:0px 45px;margin-bottom:40px}.cdn-popup-inner .custom-cdn-steps .custom-cdn-step-2 h3{margin-bottom:20px !important}.cdn-popup-inner .custom-cdn-steps h3{margin:0 !important}.cdn-popup-inner .custom-cdn-steps ul{margin:0;text-align:left}.cdn-popup-inner .custom-cdn-steps ul li{padding:10px 0px;margin:0;font-size:14px}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input{display:inline-block;vertical-align:middle}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input[type="text"]{padding:5px 20px;border-radius:2px !important;border:1px solid #e6e6e6;width:350px}.cdn-popup-inner .custom-cdn-steps form.wpc-form-inline input[type="submit"]{background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;padding:12px 30px;border-radius:2px !important;border:0px;font-size:13px;box-shadow:none;color:#fff}.cdn-popup-inner.custom-cname-popup .popup-icon{padding:20px 0px 0px 0px !important}.cdn-popup-inner.custom-cname-popup textarea{width:100%;min-height:200px;background:#F4F8FC;border-radius:5px;resize:none !important;border:0px !important;padding:20px}.cdn-popup-inner.custom-cname-popup .cdn-popup-content{padding:10px 25px !important}.cdn-popup-inner.custom-cname-popup .cdn-popup-content p{margin:0}.cdn-popup-inner.custom-cname-popup form{padding:20px 0px;margin-bottom:20px;text-align:center}.cdn-popup-inner.custom-cname-popup form select{padding:10px;display:block;width:100%;margin:0 auto 15px auto}.cdn-popup-inner.custom-cname-popup form a{display:inline-block}.cdn-popup-inner .cdn-popup-bottom-border{height:10px;background:linear-gradient(25deg, #5CB1FF 0, #1376D1 100%) !important;width:100%;content:'';position:absolute;left:0;bottom:0;right:0}.cdn-popup-inner .cdn-popup-top{min-height:275px;padding-top:0;margin-top:0px;padding-bottom:0px;position:relative}.cdn-popup-inner .popup-icon{width:320px;position:absolute;left:25%;bottom:-20px}.cdn-popup-inner .cdn-popup-content.with-background{min-height:125px;background:url(../../images/legacy/popup-bottom-background.png) no-repeat top center;background-size:cover;padding:30px 0px 10px 0px !important;margin-top:0px;position:relative;max-width:100%;width:100%;margin:0 !important}.cdn-popup-inner.ajax-settings-popup p{color:#626e80;font-weight:400}.cdn-popup-inner.ajax-settings-popup .cdn-popup-content h3{font-weight:400;margin:50px 0px 20px 0px}.cdn-popup-inner.ajax-settings-popup .cdn-popup-top{min-height:50px !important;margin:0px 45px 0px 45px}.cdn-popup-inner.ajax-settings-popup .cdn-popup-top h3{margin-top:0px !important;font-size:26px !important;color:#333 !important;font-family:'proxima\_semibold',sans-serif}.cdn-popup-inner.ajax-settings-popup .popup-icon{padding:50px 0px 30px 0px;width:180px !important;position:relative !important;left:0px !important;bottom:auto !important}.cdn-popup-inner.ajax-settings-saved-popup .cdn-popup-content h3{font-weight:400;margin:20px 0px 20px 0px}.cdn-popup-inner.ajax-settings-saved-popup .cdn-popup-top{min-height:50px !important}.cdn-popup-inner.ajax-settings-saved-popup .popup-icon{padding:50px 0px 30px 0px;width:180px !important;position:relative !important;left:0px !important;bottom:auto !important}.cdn-popup-inner .wps-default-excludes-container{display:flex;padding:10px 50px;flex-wrap:wrap;flex-direction:row}.cdn-popup-inner .wps-default-excludes-enabled-checkbox-container{display:flex;align-items:center;padding-left:30px;padding-top:10px;height:30px;position:relative;width:50%;flex-basis:calc(50% - 40px)}.cdn-popup-inner .wps-default-excludes-enabled-checkbox{outline:none !important;box-shadow:none !important;position:relative !important;pointer-events:all !important;display:flex !important;justify-content:center !important;align-items:center !important;width:24px !important;height:24px !important;background:rgba(0,0,0,0) !important;border:1px solid rgba(0,0,0,0.25) !important;border-radius:.25em !important;cursor:pointer !important;transition:all 250ms cubic-bezier(.4, 0, .23, 1) !important}.cdn-popup-inner .wps-default-excludes-enabled-checkbox:checked:before{content:"" !important;position:absolute !important;top:-2px !important;left:2px !important;border-right:2px solid rgba(0,0,0,0);border-bottom:2px solid rgba(0,0,0,0);transform:rotate(45deg) !important;animation:checkbox-check 125ms 250ms cubic-bezier(.4, 0, .23, 1) forwards !important}.cdn-popup-inner .wps-default-excludes-enabled-checkbox:checked{height:1.3125rem !important;width:1.3125rem !important;border:12px solid #5cb1ff !important;animation:shrink-bounce 200ms cubic-bezier(.4, 0, .23, 1) !important}.wpc-popup-saving-logo-container{margin:0 auto;display:inline-block}.wpc-popup-saving-logo-container .wpc-popup-saving-preparing-logo{position:relative;display:flex;justify-content:center;align-items:center;width:200px;height:200px;margin-bottom:15px}.wpc-popup-saving-logo-container .wpc-popup-saving-preparing-logo .wpc-ic-popup-logo-saving{z-index:9999;width:40px;top:75px}.wpc-popup-saving-logo-container .wpc-popup-saving-preparing-logo .wpc-ic-popup-logo-saving-loader{position:absolute;top:0;left:0;width:200px}.wp-compress-pre-subheader{padding:0px;background:#fff;text-align:center;border-top-left-radius:5px;border-top-right-radius:5px}.wp-compress-pre-subheader a{display:inline-block}.wp-compress-pre-subheader a img{padding-right:10px;vertical-align:middle;height:20px}.wp-compress-pre-subheader h3{font-weight:500;display:inline-block;vertical-align:middle}.wp-compress-pre-subheader .legend-original{width:15px;height:15px;display:inline-block;background:#09a8fc;margin-right:8px;vertical-align:middle;border-radius:2px}.wp-compress-pre-subheader .legend-after{width:15px;height:15px;display:inline-block;background:#404fd7;margin-right:8px;vertical-align:middle;border-radius:2px}.wp-compress-pre-subheader .col-6{text-align:left;width:49%;display:inline-block;vertical-align:top}.wp-compress-pre-subheader .col-6.last{text-align:right}.wp-compress-pre-subheader ul{list-style:none;margin:0px !important}.wp-compress-pre-subheader ul li{list-style:none;vertical-align:top;display:inline-block;padding:0px 10px;font-weight:500;margin:0px;line-height:47px !important}.wp-compress-pre-subheader ul li h3{margin:0px;font-size:19px}.wp-compress-pre-subheader ul li a{display:inline-block;color:#333;font-weight:bold;text-decoration:none;font-size:13px}.wp-compress-pre-subheader .button.button-primary{font-weight:normal !important;font-size:12px !important;border-radius:5px !important;color:#fff !important}.wp-compress-pre-subheader .button-sample-data{vertical-align:middle;font-weight:500;text-transform:uppercase;font-size:12px;background:linear-gradient(25deg, #1c87f1 0%, #3c4cdf 100%) !important;color:#fff;display:inline-block;text-shadow:none !important;padding:5px 20px;border:0px !important;border-radius:40px;box-shadow:none;line-height:normal}.image-credits-remaining{margin-top:20px}.user-account-circle{position:relative;margin-left:20px;margin-right:20px}.user-account-circle .dashboard-account-circle-text{position:absolute;top:65px;left:0;right:0;bottom:0;width:160px}.user-account-circle .dashboard-account-circle-text h5{font-size:18px !important;text-align:center;margin:0;font-weight:bold}.user-account-circle .dashboard-account-circle-text h4{font-size:13px !important;text-align:center;margin:0}.page-stats-circle{position:relative;margin-left:5px;margin-right:5px;width:50px}.page-stats-circle .stats-circle-text{font-family:'proxima\_bold',sans-serif;position:absolute;top:31%;left:0;right:0;bottom:0;width:100%}.page-stats-circle .stats-circle-text h5{font-size:15px !important;text-align:center;margin:0;font-weight:bolder}.page-stats-circle .stats-circle-text h4{font-size:13px !important;text-align:center;margin:0}.wp-compress-settings-row-blank{display:flex;flex-direction:row;justify-content:space-between;background:transparent;border-radius:5px;margin-bottom:20px;margin-top:20px;padding:0px}.wp-compress-settings-row-blank .col-9{flex:0 100%}.wp-compress-settings-row-blank .col-3{flex:0 30%}.wp-compress-settings-row-blank .inner{display:flex}.wp-compress-settings-row-blank .inner .fourth-width{flex:0 25%}.wp-compress-settings-row-blank .inner .third-width{flex:0 33%}.wp-compress-settings-row-blank .inner .half-width{flex:0 50%}.wp-compress-settings-row-blank .button-primary{background:#09a8fc !important;background:linear-gradient(25deg, #1c87f1 0%, #3c4cdf 100%) !important}.wp-compress-settings-row-blank .col-9.margin-right .pre-inner,.wp-compress-settings-row-blank .col-3.margin-right .pre-inner{margin-right:20px}.wp-compress-settings-row-blank .col-9 .pre-inner,.wp-compress-settings-row-blank .col-3 .pre-inner{height:100%}.wp-compress-settings-row-blank .col-9 .inner,.wp-compress-settings-row-blank .col-3 .inner{height:100%;box-sizing:border-box;display:flex;justify-content:center;align-items:center;background:#fff;text-align:left !important;vertical-align:top !important}.stats-boxes{width:100%;margin:0 auto;display:flex;justify-content:center;text-align:center}.stats-boxes.smaller{width:80%}.stats-boxes .stats-box-single{flex:1;position:relative;background:#fff;border:1px solid #efefef;padding:15px 10px;text-align:center;display:inline-block;border-radius:5px;margin-right:15px;display:flex;align-items:center}.stats-boxes .stats-box-single .stats-box-icon-holder{width:40px}.stats-boxes .stats-box-single .stats-box-icon-holder img{width:100%;vertical-align:bottom;display:inline-block}.stats-boxes .stats-box-single .stats-box-text-holder{flex:1}.stats-boxes .stats-box-single span{border-radius:50%;background:#3fc3ee;text-align:center;width:40px;height:40px;color:#fff;font-size:10px;position:absolute;top:-15px;right:-15px;line-height:40px;font-weight:bold}.stats-boxes .stats-box-single h3{margin:0}.stats-boxes .stats-box-single h5{margin:0}.stats-boxes .stats-box-single:last-child{margin-right:0px !important}.left-side-box{flex:1;display:flex;justify-content:left;align-items:center}.left-side-box .user-account-circle{flex:1}.left-side-box .youve-saved{flex:1}.left-side-box .youve-saved .button-primary{background:gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%);border-radius:30px;text-transform:none !important;padding:4px 20px}.left-side-box .youve-saved .button-primary h5{font-size:11px !important;font-weight:400;text-transform:none !important;letter-spacing:.35px;display:inline-block;margin:0;padding:0}.left-side-box .dashboard-account-circle-text{position:absolute;top:45px;left:0;right:0;bottom:0;width:125px}.left-side-box .dashboard-account-circle-text h4{font-size:12px !important;text-align:center;margin:0}.left-side-box .dashboard-account-circle-text h5{font-size:14px !important;text-align:center;margin:0;font-weight:bold}.right-side-box{flex:2;display:flex;justify-content:left;align-items:center}.youve-saved{padding:30px;width:100%;box-sizing:border-box;display:inline-block;text-align:center;vertical-align:top}.youve-saved \*{vertical-align:middle}.youve-saved .image-credits-remaining{display:inline-block}.youve-saved .button-primary{font-weight:600;text-transform:uppercase;font-size:12px;background:#404fd7;display:inline-block}.youve-saved h3{color:#797a7a;margin:0px;font-weight:600;font-size:18px;display:inline-block;line-height:40px}.youve-saved h4{color:#333;font-weight:600;font-size:28px !important;margin:0 20px;display:inline-block}.youve-saved h5{font-size:10px !important;font-weight:600;text-transform:uppercase;letter-spacing:1px;display:inline-block;margin:0;padding:0}.wps-ic-connect-popup{padding:0px 0px !important;text-align:center !important}.wps-ic-connect-popup #swal2-content{text-align:center !important}.wps-ic-notice-connect{border-bottom:4px solid #61a7f9 !important}.wps-ic-connect-inner.padded{padding:0px 70px}.wps-ic-connect-inner img{max-width:280px;padding-top:30px}.wps-ic-connect-inner h1{font-family:'proxima\_bold','Helvetica Neue',sans-serif;font-weight:600;font-size:27px;margin:0}.wps-ic-connect-inner h2{font-family:'proxima\_semibold',sans-serif;margin:0;font-size:16px;font-weight:400;color:#23282d;margin-bottom:22.5px;margin-top:2.5px}.wps-ic-connect-inner h3{font-family:'proxima\_bold',sans-serif;font-size:14px;font-weight:400;color:#787d86;line-height:2em;max-width:450px;margin:1em auto}.wps-ic-connect-inner .wps-ic-form-container{background:url("../images/background.png") no-repeat top center;background-size:cover;min-height:250px;padding-top:75px;margin-top:50px;padding-bottom:30px}.wps-ic-connect-inner .wps-ic-form-field label{text-align:center;font-weight:600;font-family:'proxima\_bold','Helvetica Neue',sans-serif;color:#3c444c;font-size:20px}.wps-ic-connect-inner .wps-ic-form-field input{width:400px;margin:20px auto 0px auto;display:block;padding:10px;border:1px solid #b2e0ff !important;border-radius:5px;text-align:center;box-shadow:none !important;outline:none !important}.wps-ic-connect-inner .wps-ic-submit-field{margin-top:30px}.wps-ic-connect-inner .wps-ic-submit-field input{cursor:pointer;background:linear-gradient(81.4deg, #59A8E3 -2.9%, #4273F0 100%) !important;color:#fff;text-transform:uppercase;text-align:center;border-radius:50px;padding:15px 45px;border:0px !important;box-shadow:none !important;outline:none !important;font-weight:600;letter-spacing:2px;font-size:20px}.wps-ic-connect-inner .wps-ic-form-other-options{margin-top:20px;margin-bottom:30px}.wps-ic-connect-inner .wps-ic-form-other-options a{color:#acc3dc;font-weight:300;font-size:16px;letter-spacing:1px}.wps-ic-success-message-choice-container-text h3{font-size:15px !important;margin:2.5px 10px 10px 2.5px !important;max-width:100%;font-family:'proxima\_semibold',sans-serif !important}.wps-ic-connect-inner .wps-ic-loading-container h2,.wps-ic-connect-inner .wps-ic-init-container h2{font-family:'proxima\_regular',sans-serif !important;margin:0 !important;font-size:17px !important;font-weight:400 !important;color:#23282d !important;margin-bottom:22.5px !important;margin-top:2.5px !important;letter-spacing:.25px !important}.wps-ic-error-already-connected,.wps-ic-error-message-container-text{background:url("../images/background.png") no-repeat top center;background-size:cover;min-height:150px;padding-top:75px;margin-top:0px;padding-bottom:30px}.wps-ic-success-message-container-text{min-height:150px;padding-bottom:22.5px;max-width:85%;margin:0 auto}.wps-ic-dashboard-btn{font-family:'proxima\_bold',sans-serif;display:inline-block;border:0;text-decoration:none;margin-top:20px;position:relative;background:#467ee2;border-radius:5px !important;border:2px solid #467ee2 !important;color:#fff !important;font-weight:400;font-size:14px;padding:10px 50px}.wps-ic-dashboard-btn:hover{color:#467ee2 !important;text-decoration:none;background:#fff;border:2px solid #467ee2 !important}.wps-ic-connect-retry{margin-top:30px;display:inline-block;background:#4ea8f9;color:#ffffff;border-radius:50px;overflow:hidden;border:0;padding:10px 55px;font-weight:bold;text-decoration:none;letter-spacing:1px;text-transform:uppercase}.wps-ic-connect-retry:hover{color:#fff;text-decoration:none}.wps-ic-success-message-container img{max-width:550px;padding-top:30px;margin-bottom:25px}.wps-ic-success-message-container h1{font-family:'proxima\_bold',sans-serif;font-weight:600;font-size:32px;margin:0}.wps-ic-success-message-container h2{font-family:'proxima\_bold',sans-serif;font-weight:600;font-size:24px;margin:0}.wps-ic-error-message-container img{max-width:290px;padding-top:30px}.wps-ic-error-message-container h1{font-family:'proxima\_bold',sans-serif;font-weight:600;font-size:32px;margin:0}.wps-ic-error-message-container h2{font-family:'proxima\_bold',sans-serif;font-weight:600;font-size:24px;margin:0}.wps-ic-loading-container h1{font-size:28px}.wps-ic-loading-container h2{font-size:16px;font-weight:300}.wps-ic-finishing-container .wps-ic-bulk-loading-logo{position:relative}.wps-ic-finishing-container .wps-ic-bulk-loading-logo .loading-logo{position:absolute;top:85px;left:246px;padding-top:0;width:70px}.wps-ic-finishing-container .wps-ic-bulk-loading-logo .loading-circle{padding-top:0;width:250px}.wps-ic-loading-container{text-align:center;display:inline-block;width:100%;padding-bottom:50px}.wps-ic-loading-container img{width:100px;padding:50px 0px !important}.wps-ic-success-message-choice-container-text p{color:#7C7F84;font-size:12.5px}.wps-ic-success-message-choice-container-text .btn.btn-primary{background:linear-gradient(25deg, #1c87f1 0%, #3c4cdf 100%) !important;border-radius:25px;border:0px !important;padding:12px 30px;margin-top:10px;display:inline-block;color:#fff;font-size:12.5px;font-family:'proxima\_semibold',sans-serif;letter-spacing:1px}.flex-link-container{display:flex;flex-direction:row;margin-bottom:25px}.flex-link-container a{width:auto;flex:0 50%}.flex-link-container a:first-child{margin-right:30px}.wps-big-button-with-icon{display:block;padding:30px 15px;border-radius:10px;border:1px solid #DDE2FA;width:300px;margin:30px auto;vertical-align:top;text-decoration:none}.wps-big-button-with-icon img{height:60px;display:block;margin:0 auto;padding:0px 0px 20px 0px !important}.wps-big-button-with-icon.wpc-live-btn img{height:67px}.wps-big-button-with-icon.wpc-local-btn img{height:67px}.wps-big-button-with-icon span{font-weight:bold;color:#0A0641;padding-left:0px;display:inline-block;line-height:30px;vertical-align:top;font-size:17px}.wps-big-button-with-icon:hover,.wps-big-button-with-icon.active{border:1px solid #6CB3F0;background:#F3F9FF}.wps-big-button-with-icon.wpc-disabled-option:focus,.wps-big-button-with-icon.wpc-disabled-option.active,.wps-big-button-with-icon.wpc-disabled-option:hover{border:1px solid #ececec;background:#f7f7f7;box-shadow:0 0 0 1px #ffffff,0 0 2px 1px rgba(249,249,249,0.05) !important}.wps-ic-success-message-choice-container-text .btn.btn-primary.wpc-disabled-button{background:linear-gradient(25deg, #bcbcbc 0%, #dddddd 100%) !important;cursor:default !important}@media only screen and (max-width:1500px){ul li a .wpc-title{line-height:normal !important}.settings\_page\_wpcompress #wpbody{padding-right:20px !important}.wpc-advanced-settings-container-v4 .wpc-iconcheckbox{flex:30% !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-list{max-width:200px}}@media only screen and (max-width:1400px){.wpc-advanced-settings-container-v4{max-width:1150px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs{column-gap:0 !important}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-left{max-width:200px}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-left li>a{padding-right:10px !important}.wpc-advanced-settings-container-v4 .wpc-header .wpc-header-left li>a .wpc-title{display:none}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-list{max-width:55px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-list li>a{padding-right:10px !important}.wpc-advanced-settings-container-v4 .wpc-settings-body .wpc-settings-tabs .wpc-settings-tab-list li>a .wpc-title{display:none}.wpc-settings-tab-content{padding-right:20px !important}.wpc-header{padding-right:20px !important}ul li a .wpc-title{line-height:normal !important}}@media only screen and (max-width:1050px){.wpc-advanced-settings-container-v4 .wpc-iconcheckbox{flex:50% !important}.wpc-box-for-checkbox{flex:50% !important}.wpc-iconcheckbox .wpc-box-for-checkbox{flex:50% !important}}.wpc-custom-tooltip{display:inline-block;line-height:normal !important;vertical-align:middle;margin-left:8px}.wpc-custom-tooltip i.tooltip-icon{color:#3fc3ee}.wpc-custom-tooltip .tooltip-icon{display:inline-block;width:15px;height:15px;content:'';background-image:url(../../images/i\_icon.svg);background-size:cover}.command-prompt{width:100%;max-width:900px;height:400px;background-color:black;color:green;border:2px solid gray;padding:10px;overflow-y:scroll;font-family:'Courier New',Courier,monospace;font-size:14px;white-space:pre-line;box-shadow:5px 5px 10px rgba(0,0,0,0.5)}.command-prompt::-webkit-scrollbar{width:10px}.command-prompt::-webkit-scrollbar-thumb{background-color:darkgray;border-radius:5px}.command-prompt::-webkit-scrollbar-track{background-color:lightgray}#optimizationTable{width:100%}#optimizationTable .optimization\_excludes{border-bottom:1px solid #F7F7F7;padding-bottom:10px}#optimizationTable .row{display:flex;align-items:center}#optimizationTable .wpc\_page\_title{font-weight:bold}#optimizationTable .exclude\_dropdown\_anchor{transition:transform .3s ease;width:40px;height:40px}#optimizationTable .exclude\_dropdown\_anchor:hover{cursor:pointer;transform:scale(1.15)}#optimizationTable .dropdown-menu{display:none;position:absolute;background-color:#f9f9f9;box-shadow:0 8px 16px rgba(0,0,0,0.2);z-index:1000}#optimizationTable .dropdown-menu .dropdown-item{padding:8px 20px;text-decoration:none;display:block;color:#333;text-align:left}#optimizationTable .dropdown-menu .dropdown-item:hover{background-color:#f1f1f1}#optimizationTable .dropdown-menu .icon{margin-right:8px;display:none}#optimizationTable .advanced\_cache .page\_not\_generated{background-image:url(../../images/optimization\_page\_icons/cache\_not\_generated.svg);background-size:cover}#optimizationTable .advanced\_cache .page\_excluded{background-image:url(../../images/optimization\_page\_icons/cache\_exclude.svg);background-size:cover}#optimizationTable .advanced\_cache .page\_ready{background-image:url(../../images/optimization\_page\_icons/cache\_fully\_active.svg);background-size:cover}#optimizationTable .advanced\_cache .page\_off{background-image:url(../../images/optimization\_page\_icons/cache\_off.svg);background-size:cover}#optimizationTable .critical\_css .page\_not\_generated{background-image:url(../../images/optimization\_page\_icons/css\_not\_generated.svg);background-size:cover}#optimizationTable .critical\_css .page\_excluded{background-image:url(../../images/optimization\_page\_icons/css\_exclude.svg);background-size:cover}#optimizationTable .critical\_css .page\_ready{background-image:url(../../images/optimization\_page\_icons/css\_fully\_active.svg);background-size:cover}#optimizationTable .critical\_css .page\_off{background-image:url(../../images/optimization\_page\_icons/css\_off.svg);background-size:cover}#optimizationTable .cdn .page\_not\_generated{background-image:url(../../images/optimization\_page\_icons/cdn\_not\_generated.svg);background-size:cover}#optimizationTable .cdn .page\_excluded{background-image:url(../../images/optimization\_page\_icons/cdn\_exclude.svg);background-size:cover}#optimizationTable .cdn .page\_ready{background-image:url(../../images/optimization\_page\_icons/cdn\_fully\_active.svg);background-size:cover}#optimizationTable .cdn .page\_off{background-image:url(../../images/optimization\_page\_icons/cdn\_off.svg);background-size:cover}#optimizationTable .delay\_js .page\_not\_generated{background-image:url(../../images/optimization\_page\_icons/js\_not\_generated.svg);background-size:cover}#optimizationTable .delay\_js .page\_excluded{background-image:url(../../images/optimization\_page\_icons/js\_exclude.svg);background-size:cover}#optimizationTable .delay\_js .page\_ready{background-image:url(../../images/optimization\_page\_icons/js\_fully\_active.svg);background-size:cover}#optimizationTable .delay\_js .page\_off{background-image:url(../../images/optimization\_page\_icons/js\_off.svg);background-size:cover}#optimizationTable .adaptive .page\_not\_generated{background-image:url(../../images/optimization\_page\_icons/images\_not\_generated.svg);background-size:cover}#optimizationTable .adaptive .page\_excluded{background-image:url(../../images/optimization\_page\_icons/images\_exclude.svg);background-size:cover}#optimizationTable .adaptive .page\_ready{background-image:url(../../images/optimization\_page\_icons/images\_fully\_active.svg);background-size:cover}#optimizationTable .adaptive .page\_off{background-image:url(../../images/optimization\_page\_icons/images\_off.svg);background-size:cover}.wpc-infobox-badge{border-radius:3px;background:#EFF7FF;color:#5CB1FF;padding:5px 10px;font-size:13px;font-weight:bold}.wpc-infobox-badge span{font-size:10px;margin:0 3px 0px 0px;display:inline-block}.wpc-infobox-badge span.wpc-less{transform:rotate(180deg);-webkit-transform:rotateX(180deg)}.wpc-infobox-badge span.wpc-less:before{vertical-align:middle}.wpc-infobox-badge span.wpc-smaller{transform:rotate(180deg);-webkit-transform:rotateX(180deg)}.wpc-infobox-badge span.wpc-smaller:before{vertical-align:middle}.wpc-tab-inner-flex{display:flex;flex-direction:row}.wpc-tab-inner-flex .wpc-tab-inner-container-bigger{flex:2}.wpc-tab-inner-flex .wpc-tab-inner-container{flex:1;max-width:200px;text-align:right;vertical-align:middle;justify-content:end;align-items:center;display:flex}.wpc-optimization-button-optimized{display:inline-block;padding:10px 20px 10px 15px;border-radius:50px;background:#effbf1;text-decoration:none;font-weight:bold;color:#23b739;font-size:13px;font-family:'proxima\_semibold'}.wpc-optimization-button-optimized:hover,.wpc-optimization-button-optimized:focus{background:#effbf1;text-decoration:none;font-weight:bold;font-size:15px;color:#23b739}.wpc-optimization-button-optimized i{color:#fff;background-color:#23b739;margin-right:5px;border-radius:50%;padding:3px;height:18px;width:18px;display:inline-block;line-height:20px;font-size:12px}.test-is-running{margin:15px 0px;background:transparent;width:100%;display:flex;text-align:center;justify-content:center;align-items:center;flex-direction:column}.test-is-running p{text-align:center;padding:15px 0px 15px 0px;margin:7px 0px 0px 0px;flex:1;color:#333 !important;border-top:1px solid #dcdcdc}.wpc-test-redo{flex:1;max-width:20px;background:transparent;color:#fff !important;font-weight:bold;border-radius:0px;padding:0;border:0px !important;cursor:pointer;margin-left:15px}.wpc-test-redo:before{content:'\e81f';font-family:"fontello";font-size:16px;color:#333}.test-not-runned{margin:15px 0px;background:transparent;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.test-not-runned p{padding:15px 0px 15px 0px;margin:7px 0px 0px 0px;flex:1;color:#333 !important;border-top:1px solid #dcdcdc}.test-not-runned button{flex:1;background:#5297E8;color:#fff !important;font-weight:bold;border-radius:5px;padding:7px 20px;border:0px !important;cursor:pointer}.wpc-dropdown-row{border:1px solid #DDE3E6;border-radius:3px;padding:20px;display:block;width:100%}.wpc-dropdown-row .wpc-dropdown-progress-bar{display:flex;height:3px;width:100%;background:#fff;position:relative;margin-bottom:20px;justify-content:space-between}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-green{border-radius:20px;height:4px;flex-basis:63%;background:#5ECB74}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-green .circle-container{left:30%}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-green .circle-container>span.circle{background:#5ECB74;border:1px solid #fff}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-orange{flex-basis:20%;border-radius:20px;height:4px;background:#F2A83B}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-red{flex-basis:15%;border-radius:20px;height:4px;background:#EC5C4D}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-red .circle-container{left:0%}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-bar-red .circle-container>span.circle{background:#EC5C4D;border:1px solid #fff}.wpc-dropdown-row .wpc-dropdown-progress-bar>div{position:relative}.wpc-dropdown-row .wpc-dropdown-progress-bar>div .circle-container{position:absolute;top:-4px;text-align:right;display:flex;align-items:center;flex-direction:column}.wpc-dropdown-row .wpc-dropdown-progress-bar>div .circle-container>span.circle{content:'';border-radius:50%;height:10px;width:10px;margin-bottom:5px}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-end{position:absolute;right:-10px;top:-4px;text-align:right;display:flex;align-items:center;flex-direction:column}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-end span.text{position:relative;font-size:13px}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-end span.text:before{content:'';position:absolute;left:-20px;top:2px;width:15px;height:15px;background-size:contain;background-image:url('../icons/turtle-icon.svg');background-position:left center;background-repeat:no-repeat}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-end span.circle{content:'';background:#cee7ff;border-radius:50%;height:10px;width:10px;margin-bottom:5px}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-status{background:#5cb1ff;width:30%;height:3px;position:relative}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-status span.circle{content:'';background:#5cb1ff;border-radius:50%;height:10px;width:10px;margin-bottom:5px}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-status span.text{position:relative;font-size:13px}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-status span.text:before{content:'';position:absolute;left:-15px;top:2px;width:15px;height:15px;background-size:contain;background-image:url('../icons/thunder-icon.svg');background-position:left center;background-repeat:no-repeat}.wpc-dropdown-row .wpc-dropdown-progress-bar .wpc-dropdown-progress-status span.circle-container{position:absolute;right:-20px;top:-4px;text-align:right;display:flex;align-items:center;flex-direction:column}.wpc-dropdown-row .wpc-page-status{min-width:90px;border-radius:50px;background:#ebf7ed;color:#22b73a;padding:5px 10px 5px 5px;display:inline-block;margin:0px 8px}.wpc-dropdown-row .wpc-page-status.pending{background:#eceff1;color:#19335b}.wpc-dropdown-row .wpc-page-status-gray{border-radius:50px;background:#f1f1f1;color:#969696;padding:5px 10px 5px 5px;display:inline-block;margin:0px 8px}.wpc-dropdown-row .wpc-page-status-gray.pending{background:#eceff1;color:#19335b}.wpc-dropdown-row .wpc-dropdown-row-arrow{display:inline-block}.wpc-dropdown-row .wpc-dropdown-row-arrow i{font-size:18px}.wpc-dropdown-row ul{list-style:none;padding:0;margin:0;display:inline-block}.wpc-dropdown-row ul li{display:inline-block;padding:0 5px;margin:0}.wpc-dropdown-row .wpc-dropdown-infobox{margin:15px 0px;flex:1}.wpc-dropdown-row .wpc-dropdown-infobox-header{display:flex;flex-direction:row;justify-content:left;align-items:center;margin-bottom:10px}.wpc-dropdown-row .wpc-dropdown-infobox-header .wpc-dropdown-infobox-icon{flex-basis:20px;padding-right:10px}.wpc-dropdown-row .wpc-dropdown-infobox-header .wpc-dropdown-infobox-icon .wpc-server-icon{background-image:url(../icons/server-icon.svg)}.wpc-dropdown-row .wpc-dropdown-infobox-header .wpc-dropdown-infobox-icon .wpc-folder-icon{background-image:url(../icons/folder-icon.svg)}.wpc-dropdown-row .wpc-dropdown-infobox-header .wpc-dropdown-infobox-icon .wpc-time-icon{background-image:url(../icons/time-icon.svg)}.wpc-dropdown-row .wpc-dropdown-infobox-header i{flex-basis:20px}.wpc-dropdown-row .wpc-dropdown-infobox-header h5{flex:1;margin:0;font-size:13px}.wpc-dropdown-row .wpc-dropdown-row-header{display:flex;cursor:pointer;align-items:center}.wpc-dropdown-row .wpc-dropdown-row-header .wpc-dropdown-row-left-side{flex:1;font-weight:bold;font-family:'proxima\_semibold' !important;color:#19335b;display:flex;align-items:center}.wpc-dropdown-row .wpc-dropdown-row-header .wpc-dropdown-row-left-side .lds-ring{margin-left:-10px;height:22px !important;width:22px !important}.wpc-dropdown-row .wpc-dropdown-row-header .wpc-dropdown-row-right-side{flex:1;text-align:right}.wpc-dropdown-row .wpc-dropdown-row-data{display:flex;padding-top:15px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-bigger{flex:0 0 26%;padding:0px 12px;display:flex;align-items:center}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller{flex:1;display:flex;max-width:130px;margin-left:10px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller .progress-bar-container{flex:0 0 50%;margin:0 0px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller .progress-bar-container:first-of-type{margin-right:5px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller .progress-bar-container .wpc-mobile-icon{display:block;width:100%;height:30px;background:url('../icons/mobile-score.svg') no-repeat;background-size:20px;background-position:18px 5px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller .progress-bar-container .wpc-desktop-icon{display:block;width:100%;height:30px;background:url('../icons/desktop-score.svg') no-repeat;background-size:20px;background-position:18px 5px}.wpc-dropdown-row .wpc-dropdown-row-data .wpc-dropdown-box-smaller .progress-bar-container h2{font-size:13px;text-align:center;margin:0px 0px 5px 0px}.wpc-dropdown-row .per-page-settings-cog{display:block;width:40px;height:40px;background:url(../images/three-dots.svg) no-repeat;background-size:30px 30px;background-position:center;filter:brightness(0) saturate(100%) invert(90%) sepia(0%) saturate(0%) hue-rotate(180deg) brightness(.8) contrast(.9);float:inline-end;margin-left:10px}.wpc-dropdown-row .per-page-settings-cog:hover{filter:none}.per\_page\_lazy\_skip{width:50px;height:30px;-webkit-appearance:none;-moz-appearance:textfield}.per\_page\_lazy\_skip::-webkit-outer-spin-button,.per\_page\_lazy\_skip::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.optimization-progress-outter{display:flex;flex-direction:column;flex:1;margin-right:20px}.optimization-progress-outter .optimizations-progress-bar-text{flex:1;font-weight:bold;font-family:'proxima\_semibold' !important;color:#19335b;align-items:flex-start;justify-content:center;display:flex;flex-direction:row}.optimization-progress-outter .optimizations-progress-bar-text .lds-ring{margin-right:10px}.optimization-progress-outter .optimizations-progress-bar-text p{color:#19335b !important;flex:1;margin:0;line-height:25px}.optimization-progress-outter .optimizations-progress-bar-text p span{font-family:'proxima\_bold',sans-serif;font-weight:bold}.optimization-progress-outter .optimizations-progress-bar-container{flex:1}.wpc-stop-page-optimizations{line-height:20px;font-weight:600 !important;position:relative;color:#ef5a5a !important;padding-right:18px;cursor:pointer}.wpc-optimization-page-button{display:flex;align-items:center}.wpc-optimization-status{border:1px solid #DDE3E6;border-radius:3px;padding-left:20px;padding-bottom:20px;padding-top:20px;display:block}.wpc-optimization-status .wpc-page-title{font-family:'proxima\_bold';font-weight:normal;font-style:normal;flex:0 0 auto}.wpc-optimization-status .optimization-text{padding-left:20px;width:100px;border-right:1px solid #DDE3E6;padding-right:20px;margin-right:20px;min-height:35px }.wpc-optimization-status .optimization-text .optimized-pages-text{font-weight:bold;font-size:16px}.wpc-optimization-status .optimization-text .optimized-pages-bottom-text{font-size:12px;color:gray;min-width:90px}.wpc-optimization-status .optimizations-progress-bar-container{width:100%;background-color:#e0e0e0;border-radius:4px;margin-top:10px;margin-right:20px}.wpc-optimization-status .optimization-image{width:35px;height:35px}.wpc-optimization-status .optimizations-progress-bar{height:8px;background:linear-gradient(270deg, #59A8E3 -2.9%, #4273F0 100%) !important;border-radius:5px}.circle-progress-bar canvas{width:100% !important}.wpc-circle-status{display:inline-block;width:30px;text-align:center}.wpc-status-message{flex:0 0 auto !important;font-weight:normal !important;font-family:'proxima\_regular'}.lds-ring{display:inline-block;position:relative;width:25px;height:25px;flex:0 0 auto}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:21px;height:21px;margin:2px;border:2px solid #59A8E3;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5, 0, .5, 1) infinite;border-color:#59A8E3 transparent transparent transparent}.lds-ring div:nth-child(1){animation-delay:-0.45s}.lds-ring div:nth-child(2){animation-delay:-0.3s}.lds-ring div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes fadeInDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeOutDown{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}.wpc-message-enter{animation:fadeInDown .5s ease forwards}.wpc-message-exit{animation:fadeOutDown .5s ease forwards}.wpc-disable-clickable{pointer-events:none}.wpc-optimization-percentage{text-align:end;width:15%;color:#808080;font-size:15px;font-family:'proxima\_bolder',sans-serif}.wpc-tab-content-box .dropdown-container{width:100%;display:flex;justify-content:flex-end;padding-bottom:10px}.wpc-tab-content-box .dropdown-container #live-search{margin-right:auto;font-weight:bold;font-family:'proxima\_semibold' !important;color:#19335b;padding:3px 3px 3px 30px;border:1px solid #DDE3E6;border-radius:5px;background-color:#fff;background-image:url('../icons/magnifying-glass-solid.svg');background-repeat:no-repeat;background-position:8px 50%;background-size:14px;width:200px}.wpc-tab-content-box .dropdown-container:focus{border:1px solid #DDE3E6 !important;outline:none !important}.wpc-tab-content-box .dropdown-container .dropdown{position:relative;margin-left:10px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-header{font-weight:bold;font-family:'proxima\_semibold' !important;color:#19335b;padding:8px 12px;border:1px solid #DDE3E6;border-radius:5px;background-color:#fff;cursor:pointer;width:110px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-header .wpc-dropdown-row-arrow{display:inline-block;float:right}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-header .wpc-dropdown-row-arrow i{font-size:18px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu{margin-top:10px;display:none;position:absolute;background-color:#f9f9f9;box-shadow:0 8px 16px rgba(0,0,0,0.2);z-index:1000;right:0}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item{padding:8px 8px;color:#333;cursor:pointer;width:110px;text-align:left;position:relative}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item.icon-pages:before{content:url('../icons/select\_pages\_icon.svg');display:inline-block;vertical-align:middle;margin-right:8px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item.icon-posts:before{content:url('../icons/select\_posts\_icon.svg');display:inline-block;vertical-align:middle;margin-right:8px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item.icon-products:before{content:url('../icons/select\_product\_icon.svg');display:inline-block;vertical-align:middle;margin-right:8px}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item:after{content:'';display:inline-block;width:8px;height:8px;background-color:transparent;border-radius:50%;position:absolute;right:8px;top:50%;transform:translateY(-50%)}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item.selected:after{background-color:#5CB1FF}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item:hover{background-color:#f1f1f1}.wpc-tab-content-box .dropdown-container .dropdown .dropdown-menu .dropdown-item.selected{color:black}.wpc-switch-disabled:before{content:'';background-image:url('../images/option-locked.svg') !important;background-size:15px 15px;background-position:center center;background-repeat:no-repeat}.wpc-gray-lock{display:block;float:inline-start;height:15px;width:15px;content:'';background-image:url(../images/option-locked-gray.svg) !important;background-size:15px 15px;background-position:center center;background-repeat:no-repeat;margin-right:10px}.wpc-locked-configure-popup{background:#E9EDF0 !important;color:#BBC8CD !important}.wpc-locked-setting{color:#9199A6}.wpc-locked-setting .wpc-popup-option{border-color:#E9E9E9}.wpc-locked-setting .wpc-popup-option-icon{background:#fafafa}.wpc-locked-setting img{filter:brightness(0) saturate(100%) invert(93%) sepia(2%) saturate(5592%) hue-rotate(181deg) brightness(95%) contrast(87%)}/\*# sourceMappingURL=style.css.map \*/ |
* ## [wp-compress-image-optimizer/trunk/assets/v4/css/style.less](/changeset/3054445/wp-compress-image-optimizer/trunk/assets/v4/css/style.less?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Fassets%2Fv4%2Fcss%2Fstyle.less "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/assets/v4/css/style.less")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/assets/v4/css/style.less?rev=3043773#L408 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/assets/v4/css/style.less?rev=3054445#L408 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 408 | 408 | flex-wrap: wrap; |
  | 409 | 409 | justify-content: space-between; |
  | 410 |  | max-width: 5~~2~~0px; |
  |  | 410 | max-width: 550px; |
  | 411 | 411 | margin:0 auto; |
  | 412 | 412 | border-radius:10px; |
* ## [wp-compress-image-optimizer/trunk/classes/ajax.class.php](/changeset/3054445/wp-compress-image-optimizer/trunk/classes/ajax.class.php?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Fclasses%2Fajax.class.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/classes/ajax.class.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/classes/ajax.class.php?rev=3043773#L1042 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/classes/ajax.class.php?rev=3054445#L1042 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 1042 | 1042 | wp\_send\_json\_error(['uri' => $uri]); |
  | 1043 | 1043 | } else { |
  | 1044 |  | wp\_send\_json\_error(['Cannot Call API', $uri]); |
  |  | 1044 | wp\_send\_json\_error(['Cannot Call API', $uri, $call]); |
  | 1045 | 1045 | } |
  | 1046 | 1046 |  |
  | […](/browser/wp-compress-image-optimizer/trunk/classes/ajax.class.php?rev=3043773#L2145) | […](/browser/wp-compress-image-optimizer/trunk/classes/ajax.class.php?rev=3054445#L2145) |  |
  | 2145 | 2145 | if ($cdn == 'true') { |
  | 2146 | 2146 | $settings['live-cdn'] = '1'; |
  | 2147 |  | $settings['serve'] = ['jpg' => '1', 'png' => '1', 'gif' => '1', 'svg' => '1', 'css' => '1', 'js' => '1', 'fonts' => '~~0~~']; |
  |  | 2147 | $settings['serve'] = ['jpg' => '1', 'png' => '1', 'gif' => '1', 'svg' => '1', 'css' => '1', 'js' => '1', 'fonts' => '1']; |
  | 2148 | 2148 | $settings['css'] = 1; |
  | 2149 | 2149 | $settings['js'] = 1; |
  | […](/browser/wp-compress-image-optimizer/trunk/classes/ajax.class.php?rev=3043773#L2154) | […](/browser/wp-compress-image-optimizer/trunk/classes/ajax.class.php?rev=3054445#L2154) |  |
  | 2154 | 2154 | } else { |
  | 2155 | 2155 | $settings['live-cdn'] = '0'; |
  | 2156 |  | $settings['serve'] = ['jpg' => '0', 'png' => '0', 'gif' => '0', 'svg' => '0', 'css' => '0', 'js' => '0', 'fonts' => '~~0~~']; |
  |  | 2156 | $settings['serve'] = ['jpg' => '0', 'png' => '0', 'gif' => '0', 'svg' => '0', 'css' => '0', 'js' => '0', 'fonts' => '1']; |
  | 2157 | 2157 | $settings['css'] = 0; |
  | 2158 | 2158 | $settings['js'] = 0; |
* ## [wp-compress-image-optimizer/trunk/classes/combine\_css.class.php](/changeset/3054445/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Fclasses%2Fcombine_css.class.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/classes/combine_css.class.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3043773#L31 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3054445#L31 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 31 | 31 | #$this->filesize\_cap           = '500000'; //in bytes |
  | 32 | 32 | $this->filesize\_cap = '100000000000'; //in bytes |
  | 33 |  | $this->combine\_inline\_scripts = ~~fals~~e; |
  |  | 33 | $this->combine\_inline\_scripts = true; |
  | 34 | 34 | $this->combine\_external = false; |
  | 35 | 35 | $this->allExcludes = self::$excludes->combineCSSExcludes(); |
  | […](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3043773#L261) | […](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3054445#L261) |  |
  | 261 | 261 | } |
  | 262 | 262 |  |
  |  | 263 |  |
  |  | 264 | public function figurePreloadType($preloadUrl) { |
  |  | 265 | $type = ''; |
  |  | 266 | $extra = ''; |
  |  | 267 | $ext = pathinfo($preloadUrl, PATHINFO\_EXTENSION); |
  |  | 268 | switch ($ext) { |
  |  | 269 | case 'css': |
  |  | 270 | $as = 'style'; |
  |  | 271 | $type = 'text/css'; |
  |  | 272 | break; |
  |  | 273 | case 'js': |
  |  | 274 | $as = 'script'; |
  |  | 275 | $type = 'text/javascript'; |
  |  | 276 | break; |
  |  | 277 | case 'woff': |
  |  | 278 | case 'woff2': |
  |  | 279 | case 'ttf': |
  |  | 280 | case 'otf': |
  |  | 281 | $extra = 'crossorigin'; |
  |  | 282 | $as = 'font'; |
  |  | 283 | if ($ext == 'woff') { |
  |  | 284 | $type = 'font/woff'; |
  |  | 285 | } else if($ext == 'woff2') { |
  |  | 286 | $type = 'font/woff2'; |
  |  | 287 | } else { |
  |  | 288 | $type = 'font/' . $ext; |
  |  | 289 | } |
  |  | 290 | break; |
  |  | 291 | case 'jpg': |
  |  | 292 | case 'jpeg': |
  |  | 293 | case 'png': |
  |  | 294 | case 'gif': |
  |  | 295 | case 'webp': |
  |  | 296 | case 'svg': |
  |  | 297 | $as = 'image'; |
  |  | 298 | if ($ext == 'jpg' || $ext == 'jpeg') { |
  |  | 299 | $type = 'image/jgp'; |
  |  | 300 | } else if ($ext == 'gif') { |
  |  | 301 | $type = 'image/gif'; |
  |  | 302 | } else if ($ext == 'png') { |
  |  | 303 | $type = 'image/png'; |
  |  | 304 | } else if ($ext == 'webp') { |
  |  | 305 | $type = 'image/webp'; |
  |  | 306 | } else if ($ext == 'svg') { |
  |  | 307 | $type = 'image/svg+xml'; |
  |  | 308 | } |
  |  | 309 | break; |
  |  | 310 | default: |
  |  | 311 | $as = ''; |
  |  | 312 | break; |
  |  | 313 | } |
  |  | 314 |  |
  |  | 315 | return array('as' => $as, 'type' => $type, 'extra' => $extra); |
  |  | 316 | } |
  |  | 317 |  |
  | 263 | 318 | public function doInline($html) { |
  | 264 | 319 | $wpcPreloads = array(); |
  | […](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3043773#L269) | […](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3054445#L324) |  |
  | 269 | 324 | } |
  | 270 | 325 |  |
  | 271 |  | if (!empty($matches[2])) { |
  | 272 |  | foreach ($matches[2] as $k => $href) { |
  |  | 326 | $excludes\_class = new wps\_ic\_excludes(); |
  |  | 327 |  |
  |  | 328 | if (!empty($matches[2])) { |
  |  | 329 | foreach ($matches[2] as $k => $href) { |
  |  | 330 |  |
  |  | 331 | if ($excludes\_class->strInArray($matches[0][$k], $excludes\_class->inlineCSSExcludes())) { |
  |  | 332 | continue; |
  |  | 333 | } |
  | 273 | 334 |  |
  | 274 | 335 | if (!empty($\_GET['dbgStyleInline2'])) { |
  | […](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3043773#L332) | […](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3054445#L393) |  |
  | 332 | 393 |  |
  | 333 | 394 | // Find All The Fonts |
  | 334 |  | ~~#~~$foundFonts = $this->findFonts($content); |
  |  | 395 | $foundFonts = $this->findFonts($content); |
  | 335 | 396 | if (!empty($foundFonts)) { |
  | 336 | 397 | $AlreadyLoaded = []; |
  | […](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3043773#L338) | […](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3054445#L399) |  |
  | 338 | 399 | if (!in\_array($font, $AlreadyLoaded)) { |
  | 339 | 400 | $AlreadyLoaded[] = $font; |
  | 340 |  | #$wpcPreloads[] = "<link rel='preload' href='" . $font . "' as='font' />"; |
  |  | 401 |  |
  |  | 402 | #$content = str\_replace('src:url("'.$font.'") format("woff2");', '', $content); |
  |  | 403 | #$content = str\_replace("src:url('".$font."') format('woff2');", '', $content); |
  |  | 404 |  |
  |  | 405 | if (strpos($font, 'icon') !== false) continue; |
  |  | 406 | $figurePreloadType = $this->figurePreloadType($font); |
  |  | 407 | $wpcPreloads[] = "<link rel='wpc-lazy-font' href='" . $font . "' as='".$figurePreloadType['as']."' type='".$figurePreloadType['type']."' ".$figurePreloadType['extra'].">"; |
  | 341 | 408 | } |
  | 342 | 409 | } |
  | […](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3043773#L355) | […](/browser/wp-compress-image-optimizer/trunk/classes/combine_css.class.php?rev=3054445#L422) |  |
  | 355 | 422 | if (!in\_array($bg, $AlreadyLoaded)) { |
  | 356 | 423 | $AlreadyLoaded[] = $bg; |
  | 357 |  | #$wpcPreloads[] = "<link rel='preload' href='" . $bg . "' as='image' />"; |
  |  | 424 | $figurePreloadType = $this->figurePreloadType($bg); |
  |  | 425 | $wpcPreloads[] = "<link rel='preload' href='" . $bg . "' as='".$figurePreloadType['as']."' type='".$figurePreloadType['type']."'>"; |
  | 358 | 426 | } |
  | 359 | 427 | } |
* ## [wp-compress-image-optimizer/trunk/classes/enqueues.class.php](/changeset/3054445/wp-compress-image-optimizer/trunk/classes/enqueues.class.php?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Fclasses%2Fenqueues.class.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/classes/enqueues.class.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/classes/enqueues.class.php?rev=3043773#L272 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/classes/enqueues.class.php?rev=3054445#L272 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 272 | 272 |  |
  | 273 | 273 | $delayActive = ! ( isset( $page\_excludes['delay\_js'] ) && $page\_excludes['delay\_js'] == '0' ) && |
  | 274 |  | ( ( isset( ~~$settings['delay-js'] ) &&~~ $settings['delay-js'] == '1' ) || |
  |  | 274 | ( ( isset( self::$settings['delay-js'] ) && self::$settings['delay-js'] == '1' ) || |
  | 275 | 275 | ( isset( $page\_excludes['delay\_js'] ) && $page\_excludes['delay\_js'] == '1' ) ); |
  | 276 | 276 |  |
* ## [wp-compress-image-optimizer/trunk/classes/gui-v4.class.php](/changeset/3054445/wp-compress-image-optimizer/trunk/classes/gui-v4.class.php?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Fclasses%2Fgui-v4.class.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/classes/gui-v4.class.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/classes/gui-v4.class.php?rev=3043773#L1228 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/classes/gui-v4.class.php?rev=3054445#L1228 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 1228 | 1228 |  |
  | 1229 | 1229 | if ($locked) { |
  | 1230 |  | $html .= '<div class="wpc-iconcheckbox-toggle LockedTooltip" data-pop-text="<i class=\'wpc-sparkle-icon\'></i> Optimiz~~e Plan~~ Required"> |
  |  | 1230 | $html .= '<div class="wpc-iconcheckbox-toggle LockedTooltip" data-pop-text="<i class=\'wpc-sparkle-icon\'></i> Optimization Credits Required"> |
  | 1231 | 1231 | <input class="form-check-input checkbox mt-0 wpc-ic-settings-v4-iconcheckbox wpc-locked-checkbox" data-option-name="' . $optionName . '" type="checkbox" value="0" id="' . $optionName . '" name="' . $optionName . '" |
  | 1232 | 1232 | data-recommended="' . $default . '" data-safe="' . $safe . '">'; |
  | […](/browser/wp-compress-image-optimizer/trunk/classes/gui-v4.class.php?rev=3043773#L1552) | […](/browser/wp-compress-image-optimizer/trunk/classes/gui-v4.class.php?rev=3054445#L1552) |  |
  | 1552 | 1552 | include WPS\_IC\_DIR . 'templates/admin/partials/v4/stats.php'; |
  | 1553 | 1553 | } |
  | 1554 |  |  |
  | 1555 |  | ~~include WPS\_IC\_DIR . 'templates/admin/partials/v4/footer-scripts.php';~~ |
  | 1556 | 1554 | } |
  | 1557 | 1555 |  |
* ## [wp-compress-image-optimizer/trunk/classes/js\_delay.class.php](/changeset/3054445/wp-compress-image-optimizer/trunk/classes/js_delay.class.php?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Fclasses%2Fjs_delay.class.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/classes/js_delay.class.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/classes/js_delay.class.php?rev=3043773#L87 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/classes/js_delay.class.php?rev=3054445#L87 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 87 | 87 | $tagLower = strtolower($tag); |
  | 88 | 88 |  |
  | 89 |  |  |
  | 90 |  | ~~if (self::$excludes->excludedFromDelay($tag)) {~~ |
  | 91 |  | ~~return $tag;~~ |
  | 92 |  | ~~}~~ |
  | 93 |  |  |
  | 94 | 89 | if (strpos($tagLower, 'n489d\_vars') !== false) { |
  | 95 | 90 | $tag = str\_replace('type="text/javascript-no-delay"', 'type="text/javascript"', $tag); |
  | […](/browser/wp-compress-image-optimizer/trunk/classes/js_delay.class.php?rev=3043773#L113) | […](/browser/wp-compress-image-optimizer/trunk/classes/js_delay.class.php?rev=3054445#L108) |  |
  | 113 | 108 | $tag = preg\_replace( '/<script/i', '<script type="wpc-delay-script"', $tag, 1 ); |
  | 114 | 109 | } else { |
  | 115 |  | $tag = str\_replace( [ 'type="text/javascript"', "type='text/javascript'" ], 'type="wpc-delay-script"', $tag ); |
  |  | 110 | $tag = str\_replace( [ 'type="text/javascript"', "type='text/javascript'", 'type="application/javascript"', "type='application/javascript'" ], 'type="wpc-delay-script"', $tag ); |
  | 116 | 111 | } |
  | 117 | 112 | } else { |
  | […](/browser/wp-compress-image-optimizer/trunk/classes/js_delay.class.php?rev=3043773#L124) | […](/browser/wp-compress-image-optimizer/trunk/classes/js_delay.class.php?rev=3054445#L119) |  |
  | 124 | 119 | $tag = str\_replace('type="text/javascript"', 'type="wpc-delay-script"', $tag); |
  | 125 | 120 | $tag = str\_replace("type='text/javascript'", "type='wpc-delay-script'", $tag); |
  |  | 121 | $tag = str\_replace('type="application/javascript"', 'type="wpc-delay-script"', $tag); |
  |  | 122 | $tag = str\_replace("type='application/javascript'", "type='wpc-delay-script'", $tag); |
  | 126 | 123 | } |
  | 127 | 124 |  |
* ## [wp-compress-image-optimizer/trunk/classes/options.class.php](/changeset/3054445/wp-compress-image-optimizer/trunk/classes/options.class.php?old=3035297&old_path=wp-compress-image-optimizer%2Ftrunk%2Fclasses%2Foptions.class.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/classes/options.class.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/classes/options.class.php?rev=3035297#L156 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/classes/options.class.php?rev=3054445#L156 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 156 | 156 | 'css' => '1', |
  | 157 | 157 | 'js' => '1', |
  | 158 |  | 'fonts' => '~~0~~' |
  |  | 158 | 'fonts' => '1' |
  | 159 | 159 | ], |
  | 160 | 160 | 'css' => 1, |
* ## [wp-compress-image-optimizer/trunk/classes/requests.class.php](/changeset/3054445/wp-compress-image-optimizer/trunk/classes/requests.class.php?old=3035261&old_path=wp-compress-image-optimizer%2Ftrunk%2Fclasses%2Frequests.class.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/classes/requests.class.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/classes/requests.class.php?rev=3035261#L55 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/classes/requests.class.php?rev=3054445#L55 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 55 | 55 | } |
  | 56 | 56 |  |
  | 57 |  | public function GET($baseUrl, $params, $configParams = ['timeout' => 30]) { |
  |  | 57 | public function GET($baseUrl, $params, $configParams = ['timeout' => 30, 'sslverify' => false, 'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:20.0) Gecko/20100101 Firefox/20.0']) { |
  | 58 | 58 |  |
  | 59 | 59 | // Append parameters to the URL |
  | 60 | 60 | $url = add\_query\_arg($params, $baseUrl); |
  |  | 61 |  |
  |  | 62 | if (!isset($configParams['timeout']) || $configParams['timeout'] == '0') { |
  |  | 63 | $configParams['timeout'] = 30; |
  |  | 64 | } |
  | 61 | 65 |  |
  | 62 | 66 | $call = wp\_remote\_get($url, $configParams); |
* ## [wp-compress-image-optimizer/trunk/readme.txt](/changeset/3054445/wp-compress-image-optimizer/trunk/readme.txt?old=3048575&old_path=wp-compress-image-optimizer%2Ftrunk%2Freadme.txt "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/readme.txt")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/readme.txt?rev=3048575#L2 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/readme.txt?rev=3054445#L2 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | Contributors: aresit |
  | 3 | 3 | Donate link: |
  | 4 |  | Tags: ~~adaptive images, image optimizer, wpcompress, webp, CDN,optimise, optimisation, optimization, image optimizer, image compression, jpg, png~~, reduce image size, wp compress |
  |  | 4 | Tags:  cache, caching, performance cache, page speed, adaptive images, image optimizer, webp, CDN,optimise, optimisation, optimization, image optimizer, image compression, reduce image size, wp compress |
  | 5 | 5 | Requires PHP: 7.0 |
  | 6 | 6 | Requires at least: 5.6 |
  | […](/browser/wp-compress-image-optimizer/trunk/readme.txt?rev=3048575#L212) | […](/browser/wp-compress-image-optimizer/trunk/readme.txt?rev=3054445#L212) |  |
  | 212 | 212 |  |
  | 213 | 213 | == Changelog == |
  |  | 214 |  |
  |  | 215 | = 6.11.11 = |
  |  | 216 | \* Improved Page Speed Optimization Process |
  |  | 217 | \* Improved DelayJS |
  |  | 218 | \* Automatic Smart Preloading of Fonts |
  |  | 219 | \* Improved Critical CSS |
  |  | 220 | \* Increased Timeout for API Key Verification |
  |  | 221 | \* Improved Overall Plugin Security |
  | 214 | 222 |  |
  | 215 | 223 | = 6.11.10 = |
* ## [wp-compress-image-optimizer/trunk/templates/admin/advanced\_settings\_v4.php](/changeset/3054445/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Ftemplates%2Fadmin%2Fadvanced_settings_v4.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3043773#L182 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445#L182 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 182 | 182 | $optimize = ['page', 'post']; |
  | 183 | 183 | update\_option('wpc-warmup-selector', $optimize); |
  |  | 184 | } |
  |  | 185 |  |
  |  | 186 | $cdnEnabled = $gui::isFeatureEnabled('cdn'); |
  |  | 187 | $cdnLocked = false; |
  |  | 188 | if (!$cdnEnabled) { |
  |  | 189 | $cdnLocked = true; |
  |  | 190 | } |
  |  | 191 |  |
  |  | 192 | $localEnabled = $gui::isFeatureEnabled('local'); |
  |  | 193 | $localLocked = false; |
  |  | 194 | if (!$localEnabled) { |
  |  | 195 | $localLocked = true; |
  | 184 | 196 | } |
  | 185 | 197 | ?> |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3043773#L508) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445#L520) |  |
  | 508 | 520 | </div> |
  | 509 | 521 |  |
  |  | 522 | <?php |
  |  | 523 | if (($localEnabled || $cdnEnabled) && ($allowLive || $allowLocal)){ |
  |  | 524 | ?> |
  | 510 | 525 | <div class="wpc-tab-content-box wpc-usage-stats-width-<?php |
  | 511 | 526 | echo $usageStatsWidth; ?>"> |
  | 512 | 527 | <?php |
  | 513 |  | echo $gui::usageStats(); ?> |
  | 514 |  | </div> |
  |  | 528 | echo $gui::usageStats(); |
  |  | 529 | ?> |
  |  | 530 | </div> |
  |  | 531 | <?php } |
  |  | 532 |  |
  |  | 533 | include WPS\_IC\_DIR . 'templates/admin/partials/v4/footer-scripts.php'; |
  |  | 534 | ?> |
  | 515 | 535 |  |
  | 516 | 536 | <?php |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3043773#L529) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445#L549) |  |
  | 529 | 549 | <?php |
  | 530 | 550 |  |
  | 531 |  | ~~$cdnEnabled = $gui::isFeatureEnabled('cdn');~~ |
  | 532 |  | ~~$cdnLocked = false;~~ |
  | 533 |  | ~~if (!$cdnEnabled) {~~ |
  | 534 |  | ~~$cdnLocked = true;~~ |
  | 535 |  | ~~}~~ |
  | 536 |  |  |
  | 537 | 551 | echo $gui::checkboxTabTitleCheckbox('Real-Time Optimization + CDN', 'Optimize your images & scripts in real-time via our top-rated global CDN.', 'tab-icons/real-time.svg', '', 'cdn-delivery-options', $cdnLocked, '', 'exclude-cdn-popup'); ?> |
  | 538 | 552 |  |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3043773#L647) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445#L661) |  |
  | 647 | 661 | <?php |
  | 648 | 662 |  |
  | 649 |  | ~~$localEnabled = $gui::isFeatureEnabled('local');~~ |
  | 650 |  | ~~$localLocked = false;~~ |
  | 651 |  | ~~if (!$localEnabled) {~~ |
  | 652 |  | ~~$localLocked = true;~~ |
  | 653 |  | ~~}~~ |
  | 654 |  |  |
  | 655 | 663 | if (!empty($allowLocal)) { ?> |
  | 656 | 664 | <div class="wpc-tab-content-box"> |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3043773#L780) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445#L788) |  |
  | 780 | 788 |  |
  | 781 | 789 | <?php |
  | 782 |  | echo $gui::checkboxDescription\_v4('Inline CSS', 'Insert CSS files directly into your page.', false, '0', 'inline-css', $cssLocked, 'right'); ?> |
  | 783 |  |  |
  | 784 |  | <?php |
  | 785 |  | #echo $gui::checkboxDescription\_v4('Combine CSS', 'Merge CSS files to minimize HTTP requests.', false, 'combine-css', 'css\_combine', false, 'right', 'exclude-css-combine'); ?> |
  | 786 |  |  |
  | 787 |  | </div> |
  | 788 |  | <div class="wpc-items-list-row mb-0" style="display: none;"> |
  |  | 790 | echo $gui::checkboxDescription\_v4('Inline CSS', 'Insert CSS files directly into your page.', false, '0', 'inline-css', $cssLocked, 'right', 'exclude-inline-css'); ?> |
  |  | 791 |  |
  |  | 792 |  |
  |  | 793 | </div> |
  |  | 794 |  |
  |  | 795 | <div class="wpc-spacer"></div> |
  |  | 796 |  |
  |  | 797 | <div class="wpc-items-list-row mb-0"> |
  |  | 798 |  |
  |  | 799 | <?php |
  |  | 800 | echo $gui::checkboxDescription\_v4('Combine CSS', 'Merge CSS files to minimize HTTP requests.', false, 'combine-css', 'css\_combine', false, 'right', 'exclude-css-combine'); ?> |
  | 789 | 801 |  |
  | 790 | 802 | <?php |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3043773#L794) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445#L806) |  |
  | 794 | 806 | #echo $gui::checkboxDescription\_v4('Minify CSS', 'Reduce CSS file sizes for faster loading.', false, '0', 'css\_minify', false, 'right', 'exclude-css-minify'); ?> |
  | 795 | 807 |  |
  | 796 |  | ~~<?php~~ |
  | 797 |  | ~~#echo $gui::checkboxDescription\_v4('Inline CSS', 'Insert CSS files directly into your page.', false, '0', 'inline-css', false, 'right'); ?>~~ |
  | 798 | 808 | <?php |
  | 799 | 809 | #echo $gui::checkboxDescription\_v4( 'Remove Render Blocking', 'Insert CSS files directly into your page.', false, '0', 'remove-render-blocking', false, 'right' ); ?> |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3043773#L910) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445#L920) |  |
  | 910 | 920 |  |
  | 911 | 921 | <?php |
  | 912 |  | echo $gui::checkboxDescription\_v4('~~Remove srcset', '', false, '0', 'remove-srcset~~', false, 'right'); ?> |
  |  | 922 | echo $gui::checkboxDescription\_v4('Lazy Load Fonts', '', false, '0', 'fonts-lazy', false, 'right'); ?> |
  | 913 | 923 |  |
  | 914 | 924 | </div> |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3043773#L918) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445#L928) |  |
  | 918 | 928 | <?php |
  | 919 | 929 | echo $gui::checkboxDescription\_v4('Disable onLoad Event Trigger', 'Disables event triggers in the rare case of duplicated content or images.', false, false, 'disable-trigger-dom-event', false, 'right', false, false, '', true); ?> |
  |  | 930 |  |
  |  | 931 | <?php |
  |  | 932 | echo $gui::checkboxDescription\_v4('Remove srcset', 'Required on some themes to get better results on Google Page Speed.', false, '0', 'remove-srcset', false, 'right'); ?> |
  | 920 | 933 |  |
  | 921 | 934 | </div> |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3043773#L1187) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445#L1200) |  |
  | 1187 | 1200 | include 'partials/popups/exclude-adaptive.php'; |
  | 1188 | 1201 | include 'partials/popups/exclude-critical-css.php'; |
  |  | 1202 | include 'partials/popups/exclude-inline-css.php'; |
  | 1189 | 1203 |  |
  | 1190 | 1204 | // HTML Optimizations |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3043773#L1192) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/advanced_settings_v4.php?rev=3054445#L1206) |  |
  | 1192 | 1206 | include 'partials/popups/exclude-simple-caching.php'; |
  | 1193 | 1207 | include 'partials/popups/exclude-advanced-caching.php'; |
  | 1194 |  | ~~include 'partials/popups/exclude-critical-css.php';~~ |
  | 1195 | 1208 |  |
  | 1196 | 1209 | // JS Optimizations |
* ## [wp-compress-image-optimizer/trunk/templates/admin/partials/footer-scripts.php](/changeset/3054445/wp-compress-image-optimizer/trunk/templates/admin/partials/footer-scripts.php?old=2813778&old_path=wp-compress-image-optimizer%2Ftrunk%2Ftemplates%2Fadmin%2Fpartials%2Ffooter-scripts.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/templates/admin/partials/footer-scripts.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/footer-scripts.php?rev=2813778#L300 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/footer-scripts.php?rev=3054445#L300 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 300 | 300 | <?php if (! empty($labels) && ! empty($stats)) { ?> |
  | 301 | 301 | setTimeout(function () { |
  | 302 |  | if ($('#canvas').length) { |
  | 303 |  | var ctx = document.getElementById("canvas").getContext("2d"); |
  | 304 |  | window.myLine = new Chart(ctx, config); |
  |  | 302 | if ($('#wpc-canvas').length) { |
  |  | 303 | var ctx = document.getElementById("wpc-canvas").getContext("2d"); |
  |  | 304 | window.myLine = new Chartwpc(ctx, config); |
  | 305 | 305 | } |
  | 306 | 306 | }, 200); |
* ## [wp-compress-image-optimizer/trunk/templates/admin/partials/v4/chart.php](/changeset/3054445/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/chart.php?old=2853470&old_path=wp-compress-image-optimizer%2Ftrunk%2Ftemplates%2Fadmin%2Fpartials%2Fv4%2Fchart.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/templates/admin/partials/v4/chart.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/chart.php?rev=2853470#L10 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/chart.php?rev=3054445#L10 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 |  |
  | 11 | 11 | if (empty(self::$stats\_local)) { |
  | 12 |  | echo '<li><span class="button-sample-data ic-tooltip" title="Chart will update when usage data is available.">Sample Data</span></li>'; |
  |  | 12 | echo '<li><span class="button-sample-data ic-tooltip LockedTooltip" data-pop-text="<i class=\'wpc-sparkle-icon\'></i> Optimize Plan Required" title="Chart will update when usage data is available.">Sample Data</span></li>'; |
  | 13 | 13 | } else { |
  | 14 | 14 | echo '<li><span class="button-sample-data ic-tooltip" title="Chart data for Local Compression">Local</span></li>'; |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/chart.php?rev=2853470#L17) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/chart.php?rev=3054445#L17) |  |
  | 17 | 17 | // Live Stats |
  | 18 | 18 | if (empty(self::$stats\_live)) { |
  | 19 |  | echo '<li><span class="button-sample-data ic-tooltip" title="Chart will update when usage data is available.">Sample Data</span></li>'; |
  |  | 19 | echo '<li><span class="button-sample-data ic-tooltip LockedTooltip" data-pop-text="<i class=\'wpc-sparkle-icon\'></i> Optimize Plan Required" title="Chart will update when usage data is available.">Sample Data</span></li>'; |
  | 20 | 20 | } else { |
  | 21 | 21 | echo '<li><span class="button-sample-data ic-tooltip" title="Chart data for Live Compression">Live</span></li>'; |
  | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/chart.php?rev=2853470#L35) | […](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/chart.php?rev=3054445#L35) |  |
  | 35 | 35 |  |
  | 36 | 36 | <div class="wp-compress-chart" style="height: 400px;"> |
  | 37 |  | <canvas id="canvas"></canvas> |
  |  | 37 | <canvas id="wpc-canvas"></canvas> |
  | 38 | 38 | </div> |
  | 39 | 39 |  |
* ## [wp-compress-image-optimizer/trunk/templates/admin/partials/v4/footer-scripts.php](/changeset/3054445/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/footer-scripts.php?old=2890060&old_path=wp-compress-image-optimizer%2Ftrunk%2Ftemplates%2Fadmin%2Fpartials%2Fv4%2Ffooter-scripts.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/templates/admin/partials/v4/footer-scripts.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/footer-scripts.php?rev=2890060#L387 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/templates/admin/partials/v4/footer-scripts.php?rev=3054445#L387 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 387 | 387 | <?php if (!empty($labels) && !empty($stats)) { ?> |
  | 388 | 388 | setTimeout(function () { |
  | 389 |  | if ($('#canvas').length) { |
  | 390 |  | var ctx = document.getElementById("canvas").getContext("2d"); |
  | 391 |  | window.myLine = new Chart(ctx, config); |
  |  | 389 | if ($('#wpc-canvas').length) { |
  |  | 390 | var ctx = document.getElementById("wpc-canvas").getContext("2d"); |
  |  | 391 | window.myLine = new Chartwpc(ctx, config); |
  | 392 | 392 | } |
  | 393 | 393 | }, 200); |
* ## [wp-compress-image-optimizer/trunk/templates/admin/selectModes/popup.php](/changeset/3054445/wp-compress-image-optimizer/trunk/templates/admin/selectModes/popup.php?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Ftemplates%2Fadmin%2FselectModes%2Fpopup.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/templates/admin/selectModes/popup.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/templates/admin/selectModes/popup.php?rev=3043773#L126 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/templates/admin/selectModes/popup.php?rev=3054445#L126 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 126 | 126 | </div> |
  | 127 | 127 | </div> |
  | 128 |  | <div class="wpc-popup-options <?php echo $lockedClass; ?> "> |
  |  | 128 |  |
  |  | 129 | <?php |
  |  | 130 | $allowLive = get\_option('wps\_ic\_allow\_live'); |
  |  | 131 | $hidden = ''; |
  |  | 132 | if (!$allowLive){ |
  |  | 133 | $hidden = 'style="display:none"'; |
  |  | 134 | } |
  |  | 135 | ?> |
  |  | 136 |  |
  |  | 137 | <div class="wpc-popup-options <?php echo $lockedClass; ?> "  <?php echo $hidden; ?> > |
  | 129 | 138 | <div class="wpc-popup-option"> |
  | 130 | 139 | <div class="wpc-popup-option-icon"> |
* ## [wp-compress-image-optimizer/trunk/templates/notices/connect\_api\_message.php](/changeset/3054445/wp-compress-image-optimizer/trunk/templates/notices/connect_api_message.php?old=2974550&old_path=wp-compress-image-optimizer%2Ftrunk%2Ftemplates%2Fnotices%2Fconnect_api_message.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/templates/notices/connect_api_message.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/templates/notices/connect_api_message.php?rev=2974550#L16 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/templates/notices/connect_api_message.php?rev=3054445#L16 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | <div class="wp-compress-logo wp-ic-half"> |
  | 17 | 17 | <div class="wp-ic-logo-inner text-right"> |
  | 18 |  | <a href="<?php echo admin\_url('options-general.php?page=' . $wps\_ic::$slug); ?>" class="button-get-started">Get Started</a> |
  |  | 18 | <a href="<?php echo admin\_url('options-general.php?page=' . $wps\_ic::$slug); ?>" |
  |  | 19 | class="button-get-started" style="display:flex;justify-content:flex-end;width:120px;float:inline-end;"><i class='wpc-sparkle-icon'></i>Get Started</a> |
  | 19 | 20 | </div> |
  | 20 | 21 | </div> |
* ## [wp-compress-image-optimizer/trunk/traits/excludes.php](/changeset/3054445/wp-compress-image-optimizer/trunk/traits/excludes.php?old=3043773&old_path=wp-compress-image-optimizer%2Ftrunk%2Ftraits%2Fexcludes.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/traits/excludes.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3043773#L4 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3054445#L4 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | { |
  | 5 | 5 |  |
  | 6 |  | private static $defaultDelayJSExcludes; |
  | 7 |  | private static $defaultCombineJSExcludes; |
  | 8 |  | private static $defaultCombineCSSExcludes; |
  | 9 |  | private static $defaultCriticalCSSExcludes; |
  |  | 6 | private static $defaultDelayJSExcludes; |
  |  | 7 | private static $defaultCombineJSExcludes; |
  |  | 8 | private static $defaultCombineCSSExcludes; |
  |  | 9 | private static $defaultCriticalCSSExcludes; |
  |  | 10 | private static $defaultInlineCSSExcludes; |
  | 10 | 11 | private static $defaultLazyExcludes; |
  | 11 | 12 | private static $defaultWebpExcludes; |
  | 12 | 13 | private static $defaultAdaptiveExcludes; |
  | 13 |  | private static $excludesDelayJSOption; |
  | 14 |  | private static $excludesCombineJSOption; |
  | 15 |  | private static $excludesCombineCSSOption; |
  |  | 14 | private static $excludesDelayJSOption; |
  |  | 15 | private static $excludesCombineJSOption; |
  |  | 16 | private static $excludesCombineCSSOption; |
  | 16 | 17 | private static $excludesToFooterOption; |
  | 17 | 18 | private static $excludesLazyOption; |
  | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3043773#L21) | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3054445#L22) |  |
  | 21 | 22 |  |
  | 22 | 23 |  |
  | 23 |  | // New |
  | 24 |  | private static $excludesCriticalCSSOption; |
  | 25 |  | private static $excludesOption; |
  | 26 |  |  |
  | 27 |  | public function \_\_construct() |
  | 28 |  | { |
  |  | 24 | // New |
  |  | 25 | private static $excludesCriticalCSSOption; |
  |  | 26 | private static $excludesInlineCSSOption; |
  |  | 27 | private static $excludesOption; |
  |  | 28 |  |
  |  | 29 | public function \_\_construct() |
  |  | 30 | { |
  | 29 | 31 | global $post; |
  | 30 |  | self::$excludesOption = get\_option('wpc-excludes'); |
  |  | 32 | self::$excludesOption = get\_option('wpc-excludes'); |
  | 31 | 33 | self::$settings = wps\_ic::$settings; |
  | 32 | 34 |  |
  | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3043773#L49) | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3054445#L51) |  |
  | 49 | 51 | self::$excludesCombineCSSOption = ! empty( self::$excludesOption['css\_combine'] ) ? self::$excludesOption['css\_combine'] : []; |
  | 50 | 52 | self::$excludesCriticalCSSOption = ! empty( self::$excludesOption['critical\_css'] ) ? self::$excludesOption['critical\_css'] : []; |
  |  | 53 | self::$excludesInlineCSSOption = ! empty( self::$excludesOption['inline\_css'] ) ? self::$excludesOption['inline\_css'] : []; |
  | 51 | 54 | self::$excludesToFooterOption = ! empty( self::$excludesOption['exclude-scripts-to-footer'] ) ? self::$excludesOption['exclude-scripts-to-footer'] : []; |
  | 52 | 55 | self::$excludesLazyOption = ! empty( self::$excludesOption['lazy'] ) ? self::$excludesOption['lazy'] : []; |
  | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3043773#L58) | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3054445#L61) |  |
  | 58 | 61 | self::$excludesCombineCSSOption = []; |
  | 59 | 62 | self::$excludesCriticalCSSOption = []; |
  |  | 63 | self::$excludesInlineCSSOption = []; |
  | 60 | 64 | self::$excludesToFooterOption = []; |
  | 61 | 65 | self::$excludesLazyOption = []; |
  | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3043773#L65) | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3054445#L69) |  |
  | 65 | 69 |  |
  | 66 | 70 |  |
  | 67 |  | self::$defaultLazyExcludes = [ |
  |  | 71 | self::$defaultLazyExcludes = [ |
  | 68 | 72 | 'show-on-hover' |
  | 69 |  | ]; |
  | 70 |  |  |
  | 71 |  | self::$defaultAdaptiveExcludes = [ |
  | 72 |  |  |
  | 73 |  | ]; |
  | 74 |  |  |
  | 75 |  | self::$defaultWebpExcludes = [ |
  | 76 |  |  |
  | 77 |  | ]; |
  | 78 |  |  |
  | 79 |  | self::$defaultDelayJSExcludes = []; |
  | 80 |  |  |
  | 81 |  |  |
  | 82 |  | self::$defaultDelayJSExcludes = [ |
  | 83 |  | 'wp-swiper' |
  | 84 |  | ]; |
  | 85 |  |  |
  | 86 |  |  |
  | 87 |  | self::$defaultCombineJSExcludes = []; |
  | 88 |  |  |
  | 89 |  | /\* |
  | 90 |  | self::$defaultCombineJSExcludes = [ |
  |  | 73 | ]; |
  |  | 74 |  |
  |  | 75 | self::$defaultAdaptiveExcludes = [ |
  |  | 76 |  |
  |  | 77 | ]; |
  |  | 78 |  |
  |  | 79 | self::$defaultWebpExcludes = [ |
  |  | 80 |  |
  |  | 81 | ]; |
  |  | 82 |  |
  |  | 83 | self::$defaultDelayJSExcludes = [ |
  |  | 84 | //Our excludes |
  |  | 85 | 'cloudflare', |
  |  | 86 | 'cursus', |
  |  | 87 | 'jqueryParams', |
  |  | 88 | 'initMap', |
  |  | 89 | 'maps', |
  |  | 90 | 'slick', |
  |  | 91 | 'no-delay', |
  |  | 92 | '\_N2', |
  |  | 93 | 'core', |
  |  | 94 | 'slide', |
  |  | 95 | 'swipe', |
  |  | 96 | 'react', |
  |  | 97 | 'dom', |
  |  | 98 | 'imagesloaded', |
  |  | 99 | 'woo', |
  |  | 100 | 'jquery-core', |
  |  | 101 | 'jquery-ui-core', |
  |  | 102 | #'jquery-migrate', |
  |  | 103 | 'fontawesome', |
  |  | 104 | 'plus-addon', |
  |  | 105 | 'jquery.min.js', |
  |  | 106 | 'jquery.js', |
  |  | 107 | 'lazy.min.js', |
  |  | 108 | 'hooks', |
  |  | 109 | 'lazy', |
  |  | 110 | 'wp-i18', |
  |  | 111 | 'wp.i18', |
  |  | 112 | 'i18', |
  |  | 113 | 'delay-js', |
  |  | 114 | #'tweenmax', |
  |  | 115 | 'delay-js-script', |
  |  | 116 | 'optimizer', |
  |  | 117 | //Imported excludes |
  |  | 118 | 'nowprocket', |
  |  | 119 | '/wp-includes/js/wp-embed.min.js', |
  |  | 120 | 'lazyLoadOptions', |
  |  | 121 | 'lazyLoadThumb', |
  |  | 122 | 'wp-rocket/assets/js/lazyload/', |
  |  | 123 | 'et\_core\_page\_resource\_fallback', |
  |  | 124 | 'window.\$us === undefined', |
  |  | 125 | 'js-extra', |
  |  | 126 | 'fusionNavIsCollapsed', |
  |  | 127 | '/assets/js/smush-lazy-load', // Smush & Smush Pro. |
  |  | 128 | 'eio\_lazy\_vars', |
  |  | 129 | '\/lazysizes(\.min|-pre|-post)?\.js', // lazyload library (used in EWWW, Autoptimize, Avada). |
  |  | 130 | 'document\.body\.classList\.remove\("no-js"\)', |
  |  | 131 | 'document\.documentElement\.className\.replace\( \'no-js\', \'js\' \)', |
  |  | 132 | 'et\_animation\_data', |
  |  | 133 | 'wpforms\_settings', |
  |  | 134 | 'var nfForms', |
  |  | 135 | '//stats.wp.com', // Jetpack Stats. |
  |  | 136 | '\_stq.push', // Jetpack Stats. |
  |  | 137 | 'fluent\_form\_ff\_form\_instance\_', // Fluent Forms. |
  |  | 138 | 'cpLoadCSS', // Convert Pro. |
  |  | 139 | 'ninja\_column\_', // Ninja Tables. |
  |  | 140 | 'var rbs\_gallery\_', // Robo Gallery. |
  |  | 141 | 'var lepopup\_', // Green Popup. |
  |  | 142 | 'var billing\_additional\_field', // Woo Autocomplete Nish. |
  |  | 143 | 'var gtm4wp', |
  |  | 144 | 'var dataLayer\_content', |
  |  | 145 | '/ewww-image-optimizer/includes/load', // EWWW WebP rewrite external script. |
  |  | 146 | '/ewww-image-optimizer/includes/check-webp', // EWWW WebP check external script. |
  |  | 147 | 'ewww\_webp\_supported', // EWWW WebP inline scripts. |
  |  | 148 | '/dist/js/browser-redirect/app.js', // WPML browser redirect script. |
  |  | 149 | '/perfmatters/js/lazyload.min.js', |
  |  | 150 | 'lazyLoadInstance', |
  |  | 151 | 'scripts.mediavine.com/tags/', // allows mediavine-video schema to be accessible by search engines. |
  |  | 152 | 'initCubePortfolio', // Cube Portfolio show images. |
  |  | 153 | 'simpli.fi', // simpli.fi Advertising Platform scripts. |
  |  | 154 | 'gforms\_recaptcha\_', // Gravity Forms recaptcha. |
  |  | 155 | '/jetpack-boost/vendor/automattic/jetpack-lazy-images/', // Jetpack Boost plugin lazyload. |
  |  | 156 | 'jetpack-lazy-images-js-enabled',  // Jetpack Boost plugin lazyload. |
  |  | 157 | 'jetpack-boost-critical-css', // Jetpack Boost plugin critical CSS. |
  |  | 158 | 'wpformsRecaptchaCallback', // WPForms reCAPTCHA v2. |
  |  | 159 | 'booking-suedtirol-js', // bookingsuedtirol.com widgets. |
  |  | 160 | 'wpcp\_css\_disable\_selection', // WP Content Copy Protection & No Right Click. |
  |  | 161 | '/gravityforms/js/conditional\_logic.min.js', // Gravity forms conditions. |
  |  | 162 | 'statcounter.com/counter/counter.js', // StatsCounter. |
  |  | 163 | 'var sc\_project', // Statscounter. |
  |  | 164 | '/jetpack/jetpack\_vendor/automattic/jetpack-lazy-images/', // Jetpack plugin lazyload. |
  |  | 165 | '/themify-builder/themify/js/modules/fallback', |
  |  | 166 | 'handlePixMessage', |
  |  | 167 | 'var corner\_video', |
  |  | 168 | 'cdn.pixfuture.com/hb\_v2.js', |
  |  | 169 | 'cdn.pixfuture.com/pbix.js', |
  |  | 170 | 'served-by.pixfuture.com/www/delivery/ads.js', |
  |  | 171 | 'served-by.pixfuture.com/www/delivery/headerbid\_sticky\_refresh.js', |
  |  | 172 | 'serv-vdo.pixfuture.com/vpaid/ads.js', |
  |  | 173 | 'wprRemoveCPCSS', |
  |  | 174 | 'window.jdgmSettings', // Judge.me plugin. |
  |  | 175 | '/photonic/include/js/front-end/nomodule/photonic-baguettebox.min.js', // Photonic plugin. |
  |  | 176 | '/photonic/include/ext/baguettebox/baguettebox.min.js', // Photonic plugin. |
  |  | 177 | 'window.wsf\_form\_json\_config', // WSF Form plugin |
  |  | 178 | 'amelia-booking' |
  |  | 179 | ]; |
  |  | 180 |  |
  |  | 181 | self::$defaultCombineJSExcludes = [ |
  | 91 | 182 | 'visitor\_mode.min.js', |
  | 92 |  | 'jquery.min.js', |
  | 93 |  | 'jquery.js', |
  | 94 |  | 'jquery-migrate', |
  | 95 |  | 'lazy.min.js', |
  | 96 |  | 'wp-i18', |
  | 97 |  | 'wp.i18', |
  | 98 |  | 'dashicon', |
  | 99 |  | 'i18', |
  | 100 |  | 'hooks', |
  | 101 |  | 'lazy', |
  | 102 |  | 'all', |
  | 103 |  | 'optimizer', |
  | 104 |  | 'delay-js', |
  | 105 |  | 'application/ld+json' |
  | 106 |  | ]; |
  | 107 |  | \*/ |
  | 108 |  | self::$defaultCombineCSSExcludes = [ |
  | 109 |  | #'responsive', //responsive stuff |
  | 110 |  | 'dashicons', |
  | 111 |  | 'wps-inline', //our inline CSS option |
  | 112 |  | 'wpc-critical-css', //our critical |
  | 113 |  | 'wpc-critical-css-mobile', //our mobile critical |
  | 114 |  | 'rs-plugin', // revolution slider causing JS errors if inline is missing |
  | 115 |  | 'rs-plugin-settings-inline-css', // revolution slider causing JS errors if inline is missing |
  | 116 |  | 'media="print"', 'media=\'print\'' //styles only for printing |
  | 117 |  | ]; |
  | 118 |  |  |
  | 119 |  | self::$defaultCriticalCSSExcludes = [ |
  | 120 |  | ]; |
  | 121 |  |  |
  | 122 |  | //Check if default excludes are disabled |
  | 123 |  | if (!empty(self::$excludesOption['delay\_js\_default\_excludes\_disabled']) && self::$excludesOption['delay\_js\_default\_excludes\_disabled'] == '1') { |
  | 124 |  | self::$defaultDelayJSExcludes = array(); |
  | 125 |  | } |
  | 126 |  |  |
  | 127 |  | if (!empty(self::$excludesOption['js\_combine\_default\_excludes\_disabled']) && self::$excludesOption['js\_combine\_default\_excludes\_disabled'] == '1') { |
  | 128 |  | self::$defaultCombineJSExcludes = array(); |
  | 129 |  | } |
  | 130 |  | if (!empty(self::$excludesOption['css\_combine\_default\_excludes\_disabled']) && self::$excludesOption['css\_combine\_default\_excludes\_disabled'] == '1') { |
  | 131 |  | self::$defaultCombineCSSExcludes = array(); |
  | 132 |  | } |
  | 133 |  |  |
  | 134 |  | if (!empty(self::$excludesOption['critical\_css\_default\_excludes\_disabled']) && self::$excludesOption['critical\_css\_default\_excludes\_disabled'] == '1') { |
  | 135 |  | self::$defaultCriticalCSSExcludes = array(); |
  | 136 |  | } |
  | 137 |  | } |
  |  | 183 | 'jquery.min.js', |
  |  | 184 | 'jquery.js', |
  |  | 185 | 'jquery-migrate', |
  |  | 186 | 'lazy.min.js', |
  |  | 187 | 'wp-i18', |
  |  | 188 | 'wp.i18', |
  |  | 189 | 'dashicon', |
  |  | 190 | 'i18', |
  |  | 191 | 'hooks', |
  |  | 192 | 'lazy', |
  |  | 193 | 'all', |
  |  | 194 | 'optimizer', |
  |  | 195 | 'delay-js', |
  |  | 196 | 'application/ld+json' |
  |  | 197 | ]; |
  |  | 198 |  |
  |  | 199 | self::$defaultCombineCSSExcludes = [ |
  |  | 200 | #'responsive', //responsive stuff |
  |  | 201 | 'dashicons', |
  |  | 202 | 'wps-inline', //our inline CSS option |
  |  | 203 | 'wpc-critical-css', //our critical |
  |  | 204 | 'wpc-critical-css-mobile', //our mobile critical |
  |  | 205 | 'rs-plugin', // revolution slider causing JS errors if inline is missing |
  |  | 206 | 'rs-plugin-settings-inline-css', // revolution slider causing JS errors if inline is missing |
  |  | 207 | 'media="print"', 'media=\'print\'' //styles only for printing |
  |  | 208 | ]; |
  |  | 209 |  |
  |  | 210 | self::$defaultCriticalCSSExcludes = [ |
  |  | 211 | ]; |
  |  | 212 |  |
  |  | 213 | self::$defaultInlineCSSExcludes = [ |
  |  | 214 | ]; |
  |  | 215 |  |
  |  | 216 | //Check if default excludes are disabled |
  |  | 217 | if (!empty(self::$excludesOption['delay\_js\_default\_excludes\_disabled']) && self::$excludesOption['delay\_js\_default\_excludes\_disabled'] == '1') { |
  |  | 218 | self::$defaultDelayJSExcludes = array(); |
  |  | 219 | } |
  |  | 220 |  |
  |  | 221 | if (!empty(self::$excludesOption['js\_combine\_default\_excludes\_disabled']) && self::$excludesOption['js\_combine\_default\_excludes\_disabled'] == '1') { |
  |  | 222 | self::$defaultCombineJSExcludes = array(); |
  |  | 223 | } |
  |  | 224 | if (!empty(self::$excludesOption['css\_combine\_default\_excludes\_disabled']) && self::$excludesOption['css\_combine\_default\_excludes\_disabled'] == '1') { |
  |  | 225 | self::$defaultCombineCSSExcludes = array(); |
  |  | 226 | } |
  |  | 227 |  |
  |  | 228 | if (!empty(self::$excludesOption['critical\_css\_default\_excludes\_disabled']) && self::$excludesOption['critical\_css\_default\_excludes\_disabled'] == '1') { |
  |  | 229 | self::$defaultCriticalCSSExcludes = array(); |
  |  | 230 | } |
  |  | 231 |  |
  |  | 232 | if (!empty(self::$excludesOption['inline\_css\_default\_excludes\_disabled']) && self::$excludesOption['inline\_css\_default\_excludes\_disabled'] == '1') { |
  |  | 233 | self::$defaultInlineCSSExcludes = array(); |
  |  | 234 | } |
  |  | 235 | } |
  | 138 | 236 |  |
  | 139 | 237 | public function scriptsToFooterExcludes() |
  | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3043773#L151) | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3054445#L249) |  |
  | 151 | 249 |  |
  | 152 | 250 |  |
  | 153 |  | public function criticalCSSExcludes() |
  | 154 |  | { |
  | 155 |  |  |
  | 156 |  | self::$defaultCriticalCSSExcludes = array\_merge( |
  | 157 |  | isset(self::$defaultCriticalCSSExcludes) ? self::$defaultCriticalCSSExcludes : [], |
  | 158 |  | isset(self::$excludesCriticalCSSOption) ? self::$excludesCriticalCSSOption : [], |
  | 159 |  | isset(self::$pageExcludesFiles['critical\_css']) ? self::$pageExcludesFiles['critical\_css'] : [] |
  | 160 |  | ); |
  | 161 |  |  |
  | 162 |  |  |
  | 163 |  | if (!empty(self::$excludesOption['critical\_css\_exclude\_themes']) && |
  | 164 |  | self::$excludesOption['critical\_css\_exclude\_themes'] == '1')  { |
  | 165 |  | self::$defaultCriticalCSSExcludes[] = 'wp-content/themes'; |
  | 166 |  | } |
  | 167 |  |  |
  | 168 |  | if (!empty(self::$excludesOption['critical\_css\_exclude\_plugins']) && |
  | 169 |  | self::$excludesOption['critical\_css\_exclude\_plugins'] == '1')  { |
  | 170 |  | self::$defaultCriticalCSSExcludes[] = 'wp-content/plugins'; |
  | 171 |  | } |
  | 172 |  |  |
  | 173 |  | if (!empty(self::$excludesOption['critical\_css\_exclude\_wp']) && |
  | 174 |  | self::$excludesOption['critical\_css\_exclude\_wp'] == '1')  { |
  | 175 |  | self::$defaultCriticalCSSExcludes[] = 'wp-includes'; |
  | 176 |  | } |
  | 177 |  |  |
  | 178 |  | return self::$defaultCriticalCSSExcludes; |
  | 179 |  | } |
  | 180 |  |  |
  | 181 |  |  |
  | 182 |  | public function delayJSExcludes() |
  | 183 |  | { |
  | 184 |  |  |
  | 185 |  | self::$defaultDelayJSExcludes = array\_merge( |
  | 186 |  | isset(self::$defaultDelayJSExcludes) ? self::$defaultDelayJSExcludes : [], |
  | 187 |  | isset(self::$excludesDelayJSOption) ? self::$excludesDelayJSOption : [], |
  | 188 |  | isset(self::$pageExcludesFiles['delay\_js']) ? self::$pageExcludesFiles['delay\_js'] : [] |
  | 189 |  | ); |
  | 190 |  |  |
  | 191 |  | if (!empty(self::$excludesOption['delay\_js\_exclude\_themes']) && |
  | 192 |  | self::$excludesOption['delay\_js\_exclude\_themes'] == '1')  { |
  | 193 |  | self::$defaultDelayJSExcludes[] = 'wp-content/themes'; |
  | 194 |  | } |
  | 195 |  |  |
  | 196 |  | if (!empty(self::$excludesOption['delay\_js\_exclude\_plugins']) && |
  | 197 |  | self::$excludesOption['delay\_js\_exclude\_plugins'] == '1')  { |
  | 198 |  | self::$defaultDelayJSExcludes[] = 'wp-content/plugins'; |
  | 199 |  | } |
  | 200 |  |  |
  | 201 |  | if (!empty(self::$excludesOption['delay\_js\_exclude\_wp']) && |
  | 202 |  | self::$excludesOption['delay\_js\_exclude\_wp'] == '1')  { |
  | 203 |  | self::$defaultDelayJSExcludes[] = 'wp-includes'; |
  | 204 |  | } |
  | 205 |  |  |
  | 206 |  | return self::$defaultDelayJSExcludes; |
  | 207 |  | } |
  | 208 |  |  |
  | 209 |  | public function combineCSSExcludes() |
  | 210 |  | { |
  | 211 |  | if (is\_array(self::$excludesCombineCSSOption)) { |
  | 212 |  | self::$defaultCombineCSSExcludes = array\_merge(self::$defaultCombineCSSExcludes , self::$excludesCombineCSSOption); |
  | 213 |  | } |
  | 214 |  |  |
  | 215 |  | if (!empty(self::$excludesOption['combine\_css\_exclude\_themes']) && |
  | 216 |  | self::$excludesOption['combine\_css\_exclude\_themes'] == '1')  { |
  | 217 |  | self::$defaultCombineCSSExcludes[] = 'wp-content/themes'; |
  | 218 |  | } |
  | 219 |  |  |
  | 220 |  | if (!empty(self::$excludesOption['combine\_css\_exclude\_plugins']) && |
  | 221 |  | self::$excludesOption['combine\_css\_exclude\_plugins'] == '1')  { |
  | 222 |  | self::$defaultCombineCSSExcludes[] = 'wp-content/plugins'; |
  | 223 |  | } |
  | 224 |  |  |
  | 225 |  | if (!empty(self::$excludesOption['combine\_css\_exclude\_wp']) && |
  | 226 |  | self::$excludesOption['combine\_css\_exclude\_wp'] == '1')  { |
  | 227 |  | self::$defaultCombineCSSExcludes[] = 'wp-includes'; |
  | 228 |  | } |
  | 229 |  |  |
  | 230 |  | if ( ! empty( self::$settings['critical']['css'] ) && self::$settings['critical']['css'] == '1' ) { |
  |  | 251 | public function criticalCSSExcludes() |
  |  | 252 | { |
  |  | 253 |  |
  |  | 254 | self::$defaultCriticalCSSExcludes = array\_merge( |
  |  | 255 | isset(self::$defaultCriticalCSSExcludes) ? self::$defaultCriticalCSSExcludes : [], |
  |  | 256 | isset(self::$excludesCriticalCSSOption) ? self::$excludesCriticalCSSOption : [], |
  |  | 257 | isset(self::$pageExcludesFiles['critical\_css']) ? self::$pageExcludesFiles['critical\_css'] : [] |
  |  | 258 | ); |
  |  | 259 |  |
  |  | 260 |  |
  |  | 261 | if (!empty(self::$excludesOption['critical\_css\_exclude\_themes']) && |
  |  | 262 | self::$excludesOption['critical\_css\_exclude\_themes'] == '1')  { |
  |  | 263 | self::$defaultCriticalCSSExcludes[] = 'wp-content/themes'; |
  |  | 264 | } |
  |  | 265 |  |
  |  | 266 | if (!empty(self::$excludesOption['critical\_css\_exclude\_plugins']) && |
  |  | 267 | self::$excludesOption['critical\_css\_exclude\_plugins'] == '1')  { |
  |  | 268 | self::$defaultCriticalCSSExcludes[] = 'wp-content/plugins'; |
  |  | 269 | } |
  |  | 270 |  |
  |  | 271 | if (!empty(self::$excludesOption['critical\_css\_exclude\_wp']) && |
  |  | 272 | self::$excludesOption['critical\_css\_exclude\_wp'] == '1')  { |
  |  | 273 | self::$defaultCriticalCSSExcludes[] = 'wp-includes'; |
  |  | 274 | } |
  |  | 275 |  |
  |  | 276 | return self::$defaultCriticalCSSExcludes; |
  |  | 277 | } |
  |  | 278 |  |
  |  | 279 |  |
  |  | 280 | public function inlineCSSExcludes() |
  |  | 281 | { |
  |  | 282 |  |
  |  | 283 | self::$defaultInlineCSSExcludes = array\_merge( |
  |  | 284 | isset(self::$defaultInlineCSSExcludes) ? self::$defaultInlineCSSExcludes : [], |
  |  | 285 | isset(self::$excludesInlineCSSOption) ? self::$excludesInlineCSSOption : [], |
  |  | 286 | isset(self::$pageExcludesFiles['inline\_css']) ? self::$pageExcludesFiles['inline\_css'] : [] |
  |  | 287 | ); |
  |  | 288 |  |
  |  | 289 |  |
  |  | 290 | if (!empty(self::$excludesOption['inline\_css\_exclude\_themes']) && |
  |  | 291 | self::$excludesOption['inline\_css\_exclude\_themes'] == '1')  { |
  |  | 292 | self::$defaultInlineCSSExcludes[] = 'wp-content/themes'; |
  |  | 293 | } |
  |  | 294 |  |
  |  | 295 | if (!empty(self::$excludesOption['inline\_css\_exclude\_plugins']) && |
  |  | 296 | self::$excludesOption['inline\_css\_exclude\_plugins'] == '1')  { |
  |  | 297 | self::$defaultInlineCSSExcludes[] = 'wp-content/plugins'; |
  |  | 298 | } |
  |  | 299 |  |
  |  | 300 | if (!empty(self::$excludesOption['inline\_css\_exclude\_wp']) && |
  |  | 301 | self::$excludesOption['inline\_css\_exclude\_wp'] == '1')  { |
  |  | 302 | self::$defaultInlineCSSExcludes[] = 'wp-includes'; |
  |  | 303 | } |
  |  | 304 |  |
  |  | 305 | return self::$defaultInlineCSSExcludes; |
  |  | 306 | } |
  |  | 307 |  |
  |  | 308 |  |
  |  | 309 | public function delayJSExcludes() |
  |  | 310 | { |
  |  | 311 |  |
  |  | 312 | self::$defaultDelayJSExcludes = array\_merge( |
  |  | 313 | isset(self::$defaultDelayJSExcludes) ? self::$defaultDelayJSExcludes : [], |
  |  | 314 | isset(self::$excludesDelayJSOption) ? self::$excludesDelayJSOption : [], |
  |  | 315 | isset(self::$pageExcludesFiles['delay\_js']) ? self::$pageExcludesFiles['delay\_js'] : [] |
  |  | 316 | ); |
  |  | 317 |  |
  |  | 318 | if (!empty(self::$excludesOption['delay\_js\_exclude\_themes']) && |
  |  | 319 | self::$excludesOption['delay\_js\_exclude\_themes'] == '1')  { |
  |  | 320 | self::$defaultDelayJSExcludes[] = 'wp-content/themes'; |
  |  | 321 | } |
  |  | 322 |  |
  |  | 323 | if (!empty(self::$excludesOption['delay\_js\_exclude\_plugins']) && |
  |  | 324 | self::$excludesOption['delay\_js\_exclude\_plugins'] == '1')  { |
  |  | 325 | self::$defaultDelayJSExcludes[] = 'wp-content/plugins'; |
  |  | 326 | } |
  |  | 327 |  |
  |  | 328 | if (!empty(self::$excludesOption['delay\_js\_exclude\_wp']) && |
  |  | 329 | self::$excludesOption['delay\_js\_exclude\_wp'] == '1')  { |
  |  | 330 | self::$defaultDelayJSExcludes[] = 'wp-includes'; |
  |  | 331 | } |
  |  | 332 |  |
  |  | 333 | return self::$defaultDelayJSExcludes; |
  |  | 334 | } |
  |  | 335 |  |
  |  | 336 | public function combineCSSExcludes() |
  |  | 337 | { |
  |  | 338 | if (is\_array(self::$excludesCombineCSSOption)) { |
  |  | 339 | self::$defaultCombineCSSExcludes = array\_merge(self::$defaultCombineCSSExcludes , self::$excludesCombineCSSOption); |
  |  | 340 | } |
  |  | 341 |  |
  |  | 342 | if (!empty(self::$excludesOption['combine\_css\_exclude\_themes']) && |
  |  | 343 | self::$excludesOption['combine\_css\_exclude\_themes'] == '1')  { |
  |  | 344 | self::$defaultCombineCSSExcludes[] = 'wp-content/themes'; |
  |  | 345 | } |
  |  | 346 |  |
  |  | 347 | if (!empty(self::$excludesOption['combine\_css\_exclude\_plugins']) && |
  |  | 348 | self::$excludesOption['combine\_css\_exclude\_plugins'] == '1')  { |
  |  | 349 | self::$defaultCombineCSSExcludes[] = 'wp-content/plugins'; |
  |  | 350 | } |
  |  | 351 |  |
  |  | 352 | if (!empty(self::$excludesOption['combine\_css\_exclude\_wp']) && |
  |  | 353 | self::$excludesOption['combine\_css\_exclude\_wp'] == '1')  { |
  |  | 354 | self::$defaultCombineCSSExcludes[] = 'wp-includes'; |
  |  | 355 | } |
  |  | 356 |  |
  |  | 357 | if ( ! empty( self::$settings['critical']['css'] ) && self::$settings['critical']['css'] == '1' ) { |
  | 231 | 358 | //if excluded from crit, it should not be delayed, so it should not be combined either |
  | 232 |  | self::$defaultCombineCSSExcludes = array\_merge(self::$defaultCombineCSSExcludes, $this->criticalCSSExcludes()); |
  | 233 |  | } |
  | 234 |  |  |
  | 235 |  | return self::$defaultCombineCSSExcludes; |
  | 236 |  | } |
  | 237 |  |  |
  | 238 |  | public function combineJSExcludes() |
  | 239 |  | { |
  | 240 |  | if (is\_array(self::$excludesCombineJSOption)) { |
  | 241 |  | self::$defaultCombineJSExcludes = array\_merge(self::$defaultCombineJSExcludes, self::$excludesCombineJSOption); |
  | 242 |  | } |
  | 243 |  |  |
  | 244 |  | if (!empty(self::$excludesOption['combine\_js\_exclude\_themes']) && |
  | 245 |  | self::$excludesOption['combine\_js\_exclude\_themes'] == '1')  { |
  | 246 |  | self::$defaultCombineJSExcludes[] = 'wp-content/themes'; |
  | 247 |  | } |
  | 248 |  |  |
  | 249 |  | if (!empty(self::$excludesOption['combine\_js\_exclude\_plugins']) && |
  | 250 |  | self::$excludesOption['combine\_js\_exclude\_plugins'] == '1')  { |
  | 251 |  | self::$defaultCombineJSExcludes[] = 'wp-content/plugins'; |
  | 252 |  | } |
  | 253 |  |  |
  | 254 |  | if (!empty(self::$excludesOption['combine\_js\_exclude\_wp']) && |
  | 255 |  | self::$excludesOption['combine\_js\_exclude\_wp'] == '1')  { |
  | 256 |  | self::$defaultCombineJSExcludes[] = 'wp-includes'; |
  | 257 |  | } |
  | 258 |  |  |
  | 259 |  | return self::$defaultCombineJSExcludes; |
  | 260 |  | } |
  | 261 |  |  |
  | 262 |  | public function renderBlockingCSSExcludes() |
  | 263 |  | { |
  | 264 |  | $excludes = ['wps\_inline']; |
  | 265 |  | $combine\_css\_excludes = get\_option('wpc-excludes'); |
  | 266 |  | $combine\_css\_excludes = $combine\_css\_excludes['css\_render\_blocking']; |
  | 267 |  |  |
  | 268 |  | if (is\_array($combine\_css\_excludes)) { |
  | 269 |  | $excludes = array\_merge($excludes, $combine\_css\_excludes); |
  | 270 |  | } |
  | 271 |  |  |
  | 272 |  | return $excludes; |
  | 273 |  | } |
  |  | 359 | self::$defaultCombineCSSExcludes = array\_merge(self::$defaultCombineCSSExcludes, $this->criticalCSSExcludes()); |
  |  | 360 | } |
  |  | 361 |  |
  |  | 362 | return self::$defaultCombineCSSExcludes; |
  |  | 363 | } |
  |  | 364 |  |
  |  | 365 | public function combineJSExcludes() |
  |  | 366 | { |
  |  | 367 | if (is\_array(self::$excludesCombineJSOption)) { |
  |  | 368 | self::$defaultCombineJSExcludes = array\_merge(self::$defaultCombineJSExcludes, self::$excludesCombineJSOption); |
  |  | 369 | } |
  |  | 370 |  |
  |  | 371 | if (!empty(self::$excludesOption['combine\_js\_exclude\_themes']) && |
  |  | 372 | self::$excludesOption['combine\_js\_exclude\_themes'] == '1')  { |
  |  | 373 | self::$defaultCombineJSExcludes[] = 'wp-content/themes'; |
  |  | 374 | } |
  |  | 375 |  |
  |  | 376 | if (!empty(self::$excludesOption['combine\_js\_exclude\_plugins']) && |
  |  | 377 | self::$excludesOption['combine\_js\_exclude\_plugins'] == '1')  { |
  |  | 378 | self::$defaultCombineJSExcludes[] = 'wp-content/plugins'; |
  |  | 379 | } |
  |  | 380 |  |
  |  | 381 | if (!empty(self::$excludesOption['combine\_js\_exclude\_wp']) && |
  |  | 382 | self::$excludesOption['combine\_js\_exclude\_wp'] == '1')  { |
  |  | 383 | self::$defaultCombineJSExcludes[] = 'wp-includes'; |
  |  | 384 | } |
  |  | 385 |  |
  |  | 386 | return self::$defaultCombineJSExcludes; |
  |  | 387 | } |
  |  | 388 |  |
  |  | 389 | public function renderBlockingCSSExcludes() |
  |  | 390 | { |
  |  | 391 | $excludes = ['wps\_inline']; |
  |  | 392 | $combine\_css\_excludes = get\_option('wpc-excludes'); |
  |  | 393 | $combine\_css\_excludes = $combine\_css\_excludes['css\_render\_blocking']; |
  |  | 394 |  |
  |  | 395 | if (is\_array($combine\_css\_excludes)) { |
  |  | 396 | $excludes = array\_merge($excludes, $combine\_css\_excludes); |
  |  | 397 | } |
  |  | 398 |  |
  |  | 399 | return $excludes; |
  |  | 400 | } |
  | 274 | 401 |  |
  | 275 | 402 | public function isAdaptiveExcluded($image\_src, $class){ |
  | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3043773#L299) | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3054445#L426) |  |
  | 299 | 426 |  |
  | 300 | 427 |  |
  | 301 |  | if (!empty(self::$excludesAdaptiveOption)) { |
  | 302 |  | foreach (self::$excludesAdaptiveOption as $exclude) { |
  | 303 |  | if (strpos($exclude, '#') === 0 && strpos($class, str\_replace('#', '', $exclude)) !== false) { |
  | 304 |  | //user exclude for class |
  | 305 |  | return true; |
  | 306 |  | } |
  | 307 |  | } |
  | 308 |  | } |
  |  | 428 | if (!empty(self::$excludesAdaptiveOption)) { |
  |  | 429 | foreach (self::$excludesAdaptiveOption as $exclude) { |
  |  | 430 | if (strpos($exclude, '#') === 0 && strpos($class, str\_replace('#', '', $exclude)) !== false) { |
  |  | 431 | //user exclude for class |
  |  | 432 | return true; |
  |  | 433 | } |
  |  | 434 | } |
  |  | 435 | } |
  | 309 | 436 | return false; |
  | 310 | 437 | } |
  | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3043773#L323) | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3054445#L450) |  |
  | 323 | 450 | } |
  | 324 | 451 |  |
  | 325 |  | if (!empty(self::$excludesWebpOption)) { |
  | 326 |  | foreach (self::$excludesWebpOption as $exclude) { |
  | 327 |  | if (strpos($exclude, '#') === 0 && strpos($class, str\_replace('#', '', $exclude)) !== false) { |
  | 328 |  | //user exclude for class |
  | 329 |  | return true; |
  | 330 |  | } |
  | 331 |  | } |
  | 332 |  | } |
  |  | 452 | if (!empty(self::$excludesWebpOption)) { |
  |  | 453 | foreach (self::$excludesWebpOption as $exclude) { |
  |  | 454 | if (strpos($exclude, '#') === 0 && strpos($class, str\_replace('#', '', $exclude)) !== false) { |
  |  | 455 | //user exclude for class |
  |  | 456 | return true; |
  |  | 457 | } |
  |  | 458 | } |
  |  | 459 | } |
  | 333 | 460 |  |
  | 334 | 461 | return false; |
  | 335 | 462 | } |
  |  | 463 |  |
  | 336 | 464 |  |
  | 337 | 465 | public function isLazyExcluded($image\_src, $class){ |
  | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3043773#L349) | […](/browser/wp-compress-image-optimizer/trunk/traits/excludes.php?rev=3054445#L477) |  |
  | 349 | 477 |  |
  | 350 | 478 |  |
  | 351 |  | if (!empty(self::$excludesLazyOption)) { |
  | 352 |  | foreach (self::$excludesLazyOption as $exclude) { |
  | 353 |  | if (strpos($exclude, '#') === 0 && strpos($class, str\_replace('#', '', $exclude)) !== false) { |
  | 354 |  | //user exclude for class |
  | 355 |  | return true; |
  | 356 |  | } |
  | 357 |  | } |
  | 358 |  | } |
  |  | 479 | if (!empty(self::$excludesLazyOption)) { |
  |  | 480 | foreach (self::$excludesLazyOption as $exclude) { |
  |  | 481 | if (strpos($exclude, '#') === 0 && strpos($class, str\_replace('#', '', $exclude)) !== false) { |
  |  | 482 | //user exclude for class |
  |  | 483 | return true; |
  |  | 484 | } |
  |  | 485 | } |
  |  | 486 | } |
  | 359 | 487 | return false; |
  | 360 | 488 | } |
  | 361 | 489 |  |
  | 362 |  | public function excludedFromDelay($tag){ |
  | 363 |  |  |
  | 364 |  | if($this->strInArray($tag, $this->delayJSExcludes())){ |
  | 365 |  | return true; |
  | 366 |  | } |
  | 367 |  |  |
  | 368 |  | if (!empty(self::$excludesOption['delay\_js\_exclude\_third']) && self::$excludesOption['delay\_js\_exclude\_third'] == '1' && $this->is\_external($tag) === true)  { |
  | 369 |  | return true; |
  |  | 490 | public function strInArray($haystack, $needles = []) |
  |  | 491 | { |
  |  | 492 |  |
  |  | 493 | if (empty($needles)) { |
  |  | 494 | return false; |
  |  | 495 | } |
  |  | 496 |  |
  |  | 497 | $haystack = strtolower($haystack); |
  |  | 498 |  |
  |  | 499 | foreach ($needles as $needle) { |
  |  | 500 | $needle = strtolower(trim($needle)); |
  |  | 501 |  |
  |  | 502 | if (empty($needle)) continue; |
  |  | 503 |  |
  |  | 504 | $res = strpos($haystack, $needle); |
  |  | 505 | if ($res !== false) { |
  |  | 506 | return true; |
  |  | 507 | } |
  | 370 | 508 | } |
  | 371 | 509 |  |
  | 372 | 510 | return false; |
  | 373 | 511 | } |
  | 374 |  |  |
  | 375 |  | ~~public function is\_external($tag){~~ |
  | 376 |  |  |
  | 377 |  | ~~if (preg\_match('/<script[^>]\*>/i', $tag, $matches) && strpos($matches[0], 'src=') !== false) {~~ |
  | 378 |  | ~~if (preg\_match('/src=["\']([^"\']+)["\']/', $matches[0], $urlMatches)) {~~ |
  | 379 |  | ~~$url = $urlMatches[1];~~ |
  | 380 |  | ~~} else {~~ |
  | 381 |  | ~~return false;~~ |
  | 382 |  | ~~}~~ |
  | 383 |  | ~~} else {~~ |
  | 384 |  | ~~return false;~~ |
  | 385 |  | ~~}~~ |
  | 386 |  |  |
  | 387 |  | ~~$site\_url = home\_url();~~ |
  | 388 |  | ~~$url = str\_replace(['https://', 'http://'], '', $url);~~ |
  | 389 |  | ~~$site\_url = str\_replace(['https://', 'http://'], '', $site\_url);~~ |
  | 390 |  |  |
  | 391 |  | ~~if (strpos($url, '/') === 0 && strpos($url, '//') === false ){~~ |
  | 392 |  | ~~// Image on site~~ |
  | 393 |  | ~~return false;~~ |
  | 394 |  | ~~} else if (strpos($url, $site\_url) === false || strpos($url, '//') === 0) {~~ |
  | 395 |  | ~~// Image not on site~~ |
  | 396 |  | ~~return true;~~ |
  | 397 |  | ~~} else {~~ |
  | 398 |  | ~~// Image on site~~ |
  | 399 |  | ~~return false;~~ |
  | 400 |  | ~~}~~ |
  | 401 |  | ~~}~~ |
  | 402 |  |  |
  | 403 |  | ~~public function strInArray($haystack, $needles = [])~~ |
  | 404 |  | ~~{~~ |
  | 405 |  |  |
  | 406 |  | ~~if (empty($needles)) {~~ |
  | 407 |  | ~~return false;~~ |
  | 408 |  | ~~}~~ |
  | 409 |  |  |
  | 410 |  | ~~$haystack = strtolower($haystack);~~ |
  | 411 |  |  |
  | 412 |  | ~~foreach ($needles as $needle) {~~ |
  | 413 |  | ~~$needle = strtolower(trim($needle));~~ |
  | 414 |  |  |
  | 415 |  | ~~if (empty($needle)) continue;~~ |
  | 416 |  |  |
  | 417 |  | ~~$res = strpos($haystack, $needle);~~ |
  | 418 |  | ~~if ($res !== false) {~~ |
  | 419 |  | ~~return true;~~ |
  | 420 |  | ~~}~~ |
  | 421 |  | ~~}~~ |
  | 422 |  |  |
  | 423 |  | ~~return false;~~ |
  | 424 |  | ~~}~~ |
  | 425 | 512 | } |
* ## [wp-compress-image-optimizer/trunk/wp-compress-core.php](/changeset/3054445/wp-compress-image-optimizer/trunk/wp-compress-core.php?old=3048575&old_path=wp-compress-image-optimizer%2Ftrunk%2Fwp-compress-core.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/wp-compress-core.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3048575#L75 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3054445#L75 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 75 | 75 | // Basic plugin info |
  | 76 | 76 | self::$slug = 'wpcompress'; |
  | 77 |  | self::$version = '6.11.1~~0~~'; |
  |  | 77 | self::$version = '6.11.11'; |
  | 78 | 78 | $wps\_ic = $this; |
  | 79 | 79 |  |
  | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3048575#L366) | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3054445#L366) |  |
  | 366 | 366 |  |
  | 367 | 367 | // Account Status Transient |
  | 368 |  | set\_transient('wps\_ic\_account\_status', $body->data, ~~3~~0); |
  |  | 368 | set\_transient('wps\_ic\_account\_status', $body->data, 5\*60); |
  | 369 | 369 | return $body->data; |
  | 370 | 370 | } |
  | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3048575#L379) | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3054445#L379) |  |
  | 379 | 379 |  |
  | 380 | 380 | // Account Status Transient |
  | 381 |  | set\_transient('wps\_ic\_account\_status', $body, ~~12~~0); |
  |  | 381 | set\_transient('wps\_ic\_account\_status', $body, 5\*60); |
  | 382 | 382 |  |
  | 383 | 383 | // Allow Local |
  | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3048575#L401) | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3054445#L401) |  |
  | 401 | 401 | if (!empty($packageConfig)) { |
  | 402 | 402 | foreach ($packageConfig as $key => $value){ |
  | 403 |  | set\_transient($key . 'Enabled', $value, ~~12 \* 60 \* 60);~~ |
  |  | 403 | set\_transient($key . 'Enabled', $value, 5 \* 60); // 5 Minutes |
  | 404 | 404 |  |
  | 405 | 405 | if ($value == '0'){ |
  | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3048575#L515) | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3054445#L515) |  |
  | 515 | 515 |  |
  | 516 | 516 | // Account Status Transient |
  | 517 |  | set\_transient('wps\_ic\_account\_status', $body->data, ~~3~~0); |
  |  | 517 | set\_transient('wps\_ic\_account\_status', $body->data, 5\*60); |
  | 518 | 518 |  |
  | 519 | 519 | update\_option('wps\_ic\_allow\_local', false); |
  | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3048575#L1875) | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3054445#L1875) |  |
  | 1875 | 1875 | } |
  | 1876 | 1876 |  |
  |  | 1877 |  |
  | 1877 | 1878 | // TODO: maybe set in if (lazy\_enabled==1) |
  | 1878 | 1879 | add\_filter('wp\_lazy\_loading\_enabled', '\_\_return\_false', 1); |
  | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3048575#L1886) | […](/browser/wp-compress-image-optimizer/trunk/wp-compress-core.php?rev=3054445#L1887) |  |
  | 1886 | 1887 | $cdn = new wps\_cdn\_rewrite(); |
  | 1887 | 1888 | if ($cdn->isActive()) { |
  | 1888 |  | add\_action('plugins\_loaded', [$cdn, 'checkCache'], 1); |
  |  | 1889 | add\_action('plugins\_loaded', [$cdn, 'checkCache\_plugins\_loaded'], 1); |
  | 1889 | 1890 | add\_action('init', [$cdn, 'checkCache'], 1); |
  | 1890 | 1891 | add\_action('wp', [$cdn, 'buffer\_callback\_v3'], 1); |
* ## [wp-compress-image-optimizer/trunk/wp-compress.php](/changeset/3054445/wp-compress-image-optimizer/trunk/wp-compress.php?old=3048575&old_path=wp-compress-image-optimizer%2Ftrunk%2Fwp-compress.php "Show the [3048575:3054445] differences restricted to wp-compress-image-optimizer/trunk/wp-compress.php")

  | [r3048575](/browser/wp-compress-image-optimizer/trunk/wp-compress.php?rev=3048575#L5 "Show revision 3048575 of this file in browser") | [r3054445](/browser/wp-compress-image-optimizer/trunk/wp-compress.php?rev=3054445#L5 "Show revision 3054445 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Author: WP Compress |
  | 6 | 6 | \* Author URI: https://www.wpcompress.com |
  | 7 |  | \* Version: 6.11.1~~0~~ |
  |  | 7 | \* Version: 6.11.11 |
  | 8 | 8 | \* Description: Automatically compress and optimize images to shrink image file size, improve  times and boost SEO ranks - all without lifting a finger after setup. |
  | 9 | 9 | \* Text Domain: wp-compress |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3054445&old=3048575&new_path=%2Fwp-compress-image-optimizer%2Ftrunk&old_path=%2Fwp-compress-image-optimizer%2Ftrunk)
* [Zip Archive](?format=zip&new=3054445&old=3048575&new_path=%2Fwp-compress-image-optimizer%2Ftrunk&old_path=%2Fwp-compress-image-optimizer%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


