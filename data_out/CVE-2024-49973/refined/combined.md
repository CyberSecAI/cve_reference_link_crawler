=== Content from git.kernel.org_5422dc1e_20250111_150230.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Heiner Kallweit <hkallweit1@gmail.com> | 2024-09-17 23:04:46 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-10 12:04:15 +0200 |
| commit | [585c048d15ed559f20cb94c8fa2f30077efa4fbc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc)) | |
| tree | [96ed11357800b5c47f6111d3db5085c804bad593](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc) | |
| parent | [634561352b47b45f967175925e4c18566f7b89cb](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=634561352b47b45f967175925e4c18566f7b89cb) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc&id2=634561352b47b45f967175925e4c18566f7b89cb)) | |
| download | [linux-585c048d15ed559f20cb94c8fa2f30077efa4fbc.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-585c048d15ed559f20cb94c8fa2f30077efa4fbc.tar.gz) | |

r8169: add tally counter fields added with RTL8125[ Upstream commit ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a ]
RTL8125 added fields to the tally counter, what may result in the chip
dma'ing these new fields to unallocated memory. Therefore make sure
that the allocated memory area is big enough to hold all of the
tally counter values, even if we use only parts of it.
Fixes: f1bce4ad2f1c ("r8169: add support for RTL8125")
Cc: stable@vger.kernel.org
Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5@gmail.com](https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5%40gmail.com)
Signed-off-by: Paolo Abeni <pabeni@redhat.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc)

| -rw-r--r-- | [drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/realtek/r8169_main.c?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 27 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/realtek/r8169\_main.c b/drivers/net/ethernet/realtek/r8169\_main.cindex 4c22e6f602702d..01e18f645c0eda 100644--- a/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=634561352b47b45f967175925e4c18566f7b89cb)+++ b/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=585c048d15ed559f20cb94c8fa2f30077efa4fbc)@@ -577,6 +577,33 @@ struct rtl8169\_counters { \_\_le32 rx\_multicast; \_\_le16 tx\_aborted; \_\_le16 tx\_underrun;+ /\* new since RTL8125 \*/+ \_\_le64 tx\_octets;+ \_\_le64 rx\_octets;+ \_\_le64 rx\_multicast64;+ \_\_le64 tx\_unicast64;+ \_\_le64 tx\_broadcast64;+ \_\_le64 tx\_multicast64;+ \_\_le32 tx\_pause\_on;+ \_\_le32 tx\_pause\_off;+ \_\_le32 tx\_pause\_all;+ \_\_le32 tx\_deferred;+ \_\_le32 tx\_late\_collision;+ \_\_le32 tx\_all\_collision;+ \_\_le32 tx\_aborted32;+ \_\_le32 align\_errors32;+ \_\_le32 rx\_frame\_too\_long;+ \_\_le32 rx\_runt;+ \_\_le32 rx\_pause\_on;+ \_\_le32 rx\_pause\_off;+ \_\_le32 rx\_pause\_all;+ \_\_le32 rx\_unknown\_opcode;+ \_\_le32 rx\_mac\_error;+ \_\_le32 tx\_underrun32;+ \_\_le32 rx\_mac\_missed;+ \_\_le32 rx\_tcam\_dropped;+ \_\_le32 tdu;+ \_\_le32 rdu; };  struct rtl8169\_tc\_offsets { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 15:01:08 +0000



=== Content from git.kernel.org_a273f57f_20250111_150231.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=64648ae8c97ec5a3165021627f5a1658ebe081ca)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=64648ae8c97ec5a3165021627f5a1658ebe081ca)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=64648ae8c97ec5a3165021627f5a1658ebe081ca)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=64648ae8c97ec5a3165021627f5a1658ebe081ca)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Heiner Kallweit <hkallweit1@gmail.com> | 2024-09-17 23:04:46 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:20:43 +0100 |
| commit | [64648ae8c97ec5a3165021627f5a1658ebe081ca](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=64648ae8c97ec5a3165021627f5a1658ebe081ca) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=64648ae8c97ec5a3165021627f5a1658ebe081ca)) | |
| tree | [88625877f63b73102f0b868319d367b706af2ec5](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=64648ae8c97ec5a3165021627f5a1658ebe081ca) | |
| parent | [c2d43f222110edd0016a04b65ec96441bd563740](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c2d43f222110edd0016a04b65ec96441bd563740) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=64648ae8c97ec5a3165021627f5a1658ebe081ca&id2=c2d43f222110edd0016a04b65ec96441bd563740)) | |
| download | [linux-64648ae8c97ec5a3165021627f5a1658ebe081ca.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-64648ae8c97ec5a3165021627f5a1658ebe081ca.tar.gz) | |

r8169: add tally counter fields added with RTL8125[ Upstream commit ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a ]
RTL8125 added fields to the tally counter, what may result in the chip
dma'ing these new fields to unallocated memory. Therefore make sure
that the allocated memory area is big enough to hold all of the
tally counter values, even if we use only parts of it.
Fixes: f1bce4ad2f1c ("r8169: add support for RTL8125")
Cc: stable@vger.kernel.org
Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5@gmail.com](https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5%40gmail.com)
Signed-off-by: Paolo Abeni <pabeni@redhat.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=64648ae8c97ec5a3165021627f5a1658ebe081ca)

| -rw-r--r-- | [drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/realtek/r8169_main.c?id=64648ae8c97ec5a3165021627f5a1658ebe081ca) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 27 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/realtek/r8169\_main.c b/drivers/net/ethernet/realtek/r8169\_main.cindex e354b8c99f62f5..bb5f70ce63b3db 100644--- a/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=c2d43f222110edd0016a04b65ec96441bd563740)+++ b/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=64648ae8c97ec5a3165021627f5a1658ebe081ca)@@ -624,6 +624,33 @@ struct rtl8169\_counters { \_\_le32 rx\_multicast; \_\_le16 tx\_aborted; \_\_le16 tx\_underrun;+ /\* new since RTL8125 \*/+ \_\_le64 tx\_octets;+ \_\_le64 rx\_octets;+ \_\_le64 rx\_multicast64;+ \_\_le64 tx\_unicast64;+ \_\_le64 tx\_broadcast64;+ \_\_le64 tx\_multicast64;+ \_\_le32 tx\_pause\_on;+ \_\_le32 tx\_pause\_off;+ \_\_le32 tx\_pause\_all;+ \_\_le32 tx\_deferred;+ \_\_le32 tx\_late\_collision;+ \_\_le32 tx\_all\_collision;+ \_\_le32 tx\_aborted32;+ \_\_le32 align\_errors32;+ \_\_le32 rx\_frame\_too\_long;+ \_\_le32 rx\_runt;+ \_\_le32 rx\_pause\_on;+ \_\_le32 rx\_pause\_off;+ \_\_le32 rx\_pause\_all;+ \_\_le32 rx\_unknown\_opcode;+ \_\_le32 rx\_mac\_error;+ \_\_le32 tx\_underrun32;+ \_\_le32 rx\_mac\_missed;+ \_\_le32 rx\_tcam\_dropped;+ \_\_le32 tdu;+ \_\_le32 rdu; };  struct rtl8169\_tc\_offsets { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 15:01:08 +0000



=== Content from git.kernel.org_2253b708_20250111_150232.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Heiner Kallweit <hkallweit1@gmail.com> | 2024-09-17 23:04:46 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:22:07 +0200 |
| commit | [fe44b3bfbf0c74df5712f44458689d0eccccf47d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d)) | |
| tree | [f5185c6a0e6209d0ef33e61f36655a55a73a54c3](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d) | |
| parent | [affd54d4f4842d32d0655db944fca7ff335f8c1e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=affd54d4f4842d32d0655db944fca7ff335f8c1e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d&id2=affd54d4f4842d32d0655db944fca7ff335f8c1e)) | |
| download | [linux-fe44b3bfbf0c74df5712f44458689d0eccccf47d.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-fe44b3bfbf0c74df5712f44458689d0eccccf47d.tar.gz) | |

r8169: add tally counter fields added with RTL8125[ Upstream commit ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a ]
RTL8125 added fields to the tally counter, what may result in the chip
dma'ing these new fields to unallocated memory. Therefore make sure
that the allocated memory area is big enough to hold all of the
tally counter values, even if we use only parts of it.
Fixes: f1bce4ad2f1c ("r8169: add support for RTL8125")
Cc: stable@vger.kernel.org
Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5@gmail.com](https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5%40gmail.com)
Signed-off-by: Paolo Abeni <pabeni@redhat.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d)

| -rw-r--r-- | [drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/realtek/r8169_main.c?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 27 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/realtek/r8169\_main.c b/drivers/net/ethernet/realtek/r8169\_main.cindex beebb2dcd00f58..8b35e14fba3a80 100644--- a/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=affd54d4f4842d32d0655db944fca7ff335f8c1e)+++ b/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=fe44b3bfbf0c74df5712f44458689d0eccccf47d)@@ -564,6 +564,33 @@ struct rtl8169\_counters { \_\_le32 rx\_multicast; \_\_le16 tx\_aborted; \_\_le16 tx\_underrun;+ /\* new since RTL8125 \*/+ \_\_le64 tx\_octets;+ \_\_le64 rx\_octets;+ \_\_le64 rx\_multicast64;+ \_\_le64 tx\_unicast64;+ \_\_le64 tx\_broadcast64;+ \_\_le64 tx\_multicast64;+ \_\_le32 tx\_pause\_on;+ \_\_le32 tx\_pause\_off;+ \_\_le32 tx\_pause\_all;+ \_\_le32 tx\_deferred;+ \_\_le32 tx\_late\_collision;+ \_\_le32 tx\_all\_collision;+ \_\_le32 tx\_aborted32;+ \_\_le32 align\_errors32;+ \_\_le32 rx\_frame\_too\_long;+ \_\_le32 rx\_runt;+ \_\_le32 rx\_pause\_on;+ \_\_le32 rx\_pause\_off;+ \_\_le32 rx\_pause\_all;+ \_\_le32 rx\_unknown\_opcode;+ \_\_le32 rx\_mac\_error;+ \_\_le32 tx\_underrun32;+ \_\_le32 rx\_mac\_missed;+ \_\_le32 rx\_tcam\_dropped;+ \_\_le32 tdu;+ \_\_le32 rdu; };  struct rtl8169\_tc\_offsets { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 15:01:10 +0000



=== Content from git.kernel.org_d58a7d02_20250111_150231.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Heiner Kallweit <hkallweit1@gmail.com> | 2024-09-17 23:04:46 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-10 12:01:12 +0200 |
| commit | [92bc8647b4d65f4d4bf8afdb206321c1bc55a486](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486)) | |
| tree | [c4901e2547e976c0c8c007c8172dea123f601012](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486) | |
| parent | [865310fc5b57d3c6cbd4d66e5bc7db86a0eaf147](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=865310fc5b57d3c6cbd4d66e5bc7db86a0eaf147) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486&id2=865310fc5b57d3c6cbd4d66e5bc7db86a0eaf147)) | |
| download | [linux-92bc8647b4d65f4d4bf8afdb206321c1bc55a486.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-92bc8647b4d65f4d4bf8afdb206321c1bc55a486.tar.gz) | |

r8169: add tally counter fields added with RTL8125[ Upstream commit ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a ]
RTL8125 added fields to the tally counter, what may result in the chip
dma'ing these new fields to unallocated memory. Therefore make sure
that the allocated memory area is big enough to hold all of the
tally counter values, even if we use only parts of it.
Fixes: f1bce4ad2f1c ("r8169: add support for RTL8125")
Cc: stable@vger.kernel.org
Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5@gmail.com](https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5%40gmail.com)
Signed-off-by: Paolo Abeni <pabeni@redhat.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486)

| -rw-r--r-- | [drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/realtek/r8169_main.c?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 27 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/realtek/r8169\_main.c b/drivers/net/ethernet/realtek/r8169\_main.cindex aa6a73882f9141..f5396aafe9ab62 100644--- a/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=865310fc5b57d3c6cbd4d66e5bc7db86a0eaf147)+++ b/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=92bc8647b4d65f4d4bf8afdb206321c1bc55a486)@@ -577,6 +577,33 @@ struct rtl8169\_counters { \_\_le32 rx\_multicast; \_\_le16 tx\_aborted; \_\_le16 tx\_underrun;+ /\* new since RTL8125 \*/+ \_\_le64 tx\_octets;+ \_\_le64 rx\_octets;+ \_\_le64 rx\_multicast64;+ \_\_le64 tx\_unicast64;+ \_\_le64 tx\_broadcast64;+ \_\_le64 tx\_multicast64;+ \_\_le32 tx\_pause\_on;+ \_\_le32 tx\_pause\_off;+ \_\_le32 tx\_pause\_all;+ \_\_le32 tx\_deferred;+ \_\_le32 tx\_late\_collision;+ \_\_le32 tx\_all\_collision;+ \_\_le32 tx\_aborted32;+ \_\_le32 align\_errors32;+ \_\_le32 rx\_frame\_too\_long;+ \_\_le32 rx\_runt;+ \_\_le32 rx\_pause\_on;+ \_\_le32 rx\_pause\_off;+ \_\_le32 rx\_pause\_all;+ \_\_le32 rx\_unknown\_opcode;+ \_\_le32 rx\_mac\_error;+ \_\_le32 tx\_underrun32;+ \_\_le32 rx\_mac\_missed;+ \_\_le32 rx\_tcam\_dropped;+ \_\_le32 tdu;+ \_\_le32 rdu; };  struct rtl8169\_tc\_offsets { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 15:01:08 +0000



=== Content from git.kernel.org_d5e9199a_20250111_150232.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Heiner Kallweit <hkallweit1@gmail.com> | 2024-09-17 23:04:46 +0200 |
| --- | --- | --- |
| committer | Paolo Abeni <pabeni@redhat.com> | 2024-09-24 11:16:54 +0200 |
| commit | [ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a)) | |
| tree | [048483d0278fb799d100311e48ab911a88ef68d2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a) | |
| parent | [6f9defaf99122d1af9c2562181c77bc99be0672d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6f9defaf99122d1af9c2562181c77bc99be0672d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a&id2=6f9defaf99122d1af9c2562181c77bc99be0672d)) | |
| download | [linux-ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a.tar.gz) | |

r8169: add tally counter fields added with RTL8125RTL8125 added fields to the tally counter, what may result in the chip
dma'ing these new fields to unallocated memory. Therefore make sure
that the allocated memory area is big enough to hold all of the
tally counter values, even if we use only parts of it.
Fixes: f1bce4ad2f1c ("r8169: add support for RTL8125")
Cc: stable@vger.kernel.org
Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5@gmail.com](https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5%40gmail.com)
Signed-off-by: Paolo Abeni <pabeni@redhat.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a)

| -rw-r--r-- | [drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/realtek/r8169_main.c?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 27 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/realtek/r8169\_main.c b/drivers/net/ethernet/realtek/r8169\_main.cindex 45ac8befba2925..3ddba7aa4914b5 100644--- a/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=6f9defaf99122d1af9c2562181c77bc99be0672d)+++ b/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a)@@ -579,6 +579,33 @@ struct rtl8169\_counters { \_\_le32 rx\_multicast; \_\_le16 tx\_aborted; \_\_le16 tx\_underrun;+ /\* new since RTL8125 \*/+ \_\_le64 tx\_octets;+ \_\_le64 rx\_octets;+ \_\_le64 rx\_multicast64;+ \_\_le64 tx\_unicast64;+ \_\_le64 tx\_broadcast64;+ \_\_le64 tx\_multicast64;+ \_\_le32 tx\_pause\_on;+ \_\_le32 tx\_pause\_off;+ \_\_le32 tx\_pause\_all;+ \_\_le32 tx\_deferred;+ \_\_le32 tx\_late\_collision;+ \_\_le32 tx\_all\_collision;+ \_\_le32 tx\_aborted32;+ \_\_le32 align\_errors32;+ \_\_le32 rx\_frame\_too\_long;+ \_\_le32 rx\_runt;+ \_\_le32 rx\_pause\_on;+ \_\_le32 rx\_pause\_off;+ \_\_le32 rx\_pause\_all;+ \_\_le32 rx\_unknown\_opcode;+ \_\_le32 rx\_mac\_error;+ \_\_le32 tx\_underrun32;+ \_\_le32 rx\_mac\_missed;+ \_\_le32 rx\_tcam\_dropped;+ \_\_le32 tdu;+ \_\_le32 rdu; };  struct rtl8169\_tc\_offsets { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 15:01:09 +0000



=== Content from git.kernel.org_c6d24128_20250111_150230.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=21950321ad33d7613b1453f4c503d7b1871deb61)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=21950321ad33d7613b1453f4c503d7b1871deb61)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=21950321ad33d7613b1453f4c503d7b1871deb61)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=21950321ad33d7613b1453f4c503d7b1871deb61)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Heiner Kallweit <hkallweit1@gmail.com> | 2024-09-17 23:04:46 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:11:46 +0200 |
| commit | [21950321ad33d7613b1453f4c503d7b1871deb61](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=21950321ad33d7613b1453f4c503d7b1871deb61) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=21950321ad33d7613b1453f4c503d7b1871deb61)) | |
| tree | [c6cee9db91e0444ca8ea199c4200fd1f0f3f89f7](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=21950321ad33d7613b1453f4c503d7b1871deb61) | |
| parent | [e36d8907f3212123c4b9dff14a318cb44ff49941](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e36d8907f3212123c4b9dff14a318cb44ff49941) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=21950321ad33d7613b1453f4c503d7b1871deb61&id2=e36d8907f3212123c4b9dff14a318cb44ff49941)) | |
| download | [linux-21950321ad33d7613b1453f4c503d7b1871deb61.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-21950321ad33d7613b1453f4c503d7b1871deb61.tar.gz) | |

r8169: add tally counter fields added with RTL8125[ Upstream commit ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a ]
RTL8125 added fields to the tally counter, what may result in the chip
dma'ing these new fields to unallocated memory. Therefore make sure
that the allocated memory area is big enough to hold all of the
tally counter values, even if we use only parts of it.
Fixes: f1bce4ad2f1c ("r8169: add support for RTL8125")
Cc: stable@vger.kernel.org
Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5@gmail.com](https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5%40gmail.com)
Signed-off-by: Paolo Abeni <pabeni@redhat.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=21950321ad33d7613b1453f4c503d7b1871deb61)

| -rw-r--r-- | [drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/realtek/r8169_main.c?id=21950321ad33d7613b1453f4c503d7b1871deb61) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 27 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/realtek/r8169\_main.c b/drivers/net/ethernet/realtek/r8169\_main.cindex f6e0424bf83d5e..7ce11c9529c587 100644--- a/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=e36d8907f3212123c4b9dff14a318cb44ff49941)+++ b/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=21950321ad33d7613b1453f4c503d7b1871deb61)@@ -576,6 +576,33 @@ struct rtl8169\_counters { \_\_le32 rx\_multicast; \_\_le16 tx\_aborted; \_\_le16 tx\_underrun;+ /\* new since RTL8125 \*/+ \_\_le64 tx\_octets;+ \_\_le64 rx\_octets;+ \_\_le64 rx\_multicast64;+ \_\_le64 tx\_unicast64;+ \_\_le64 tx\_broadcast64;+ \_\_le64 tx\_multicast64;+ \_\_le32 tx\_pause\_on;+ \_\_le32 tx\_pause\_off;+ \_\_le32 tx\_pause\_all;+ \_\_le32 tx\_deferred;+ \_\_le32 tx\_late\_collision;+ \_\_le32 tx\_all\_collision;+ \_\_le32 tx\_aborted32;+ \_\_le32 align\_errors32;+ \_\_le32 rx\_frame\_too\_long;+ \_\_le32 rx\_runt;+ \_\_le32 rx\_pause\_on;+ \_\_le32 rx\_pause\_off;+ \_\_le32 rx\_pause\_all;+ \_\_le32 rx\_unknown\_opcode;+ \_\_le32 rx\_mac\_error;+ \_\_le32 tx\_underrun32;+ \_\_le32 rx\_mac\_missed;+ \_\_le32 rx\_tcam\_dropped;+ \_\_le32 tdu;+ \_\_le32 rdu; };  struct rtl8169\_tc\_offsets { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 15:01:07 +0000



=== Content from git.kernel.org_d2a42374_20250111_150229.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1c723d785adb711496bc64c24240f952f4faaabf)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1c723d785adb711496bc64c24240f952f4faaabf)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1c723d785adb711496bc64c24240f952f4faaabf)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1c723d785adb711496bc64c24240f952f4faaabf)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Heiner Kallweit <hkallweit1@gmail.com> | 2024-09-17 23:04:46 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-10 11:58:05 +0200 |
| commit | [1c723d785adb711496bc64c24240f952f4faaabf](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1c723d785adb711496bc64c24240f952f4faaabf) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1c723d785adb711496bc64c24240f952f4faaabf)) | |
| tree | [0256ec7ccc42de50f3fdb0be41487b6a2881a27a](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1c723d785adb711496bc64c24240f952f4faaabf) | |
| parent | [f02fcb7283b1c25f7e3ae07d7a2c830e06eb1a62](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f02fcb7283b1c25f7e3ae07d7a2c830e06eb1a62) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1c723d785adb711496bc64c24240f952f4faaabf&id2=f02fcb7283b1c25f7e3ae07d7a2c830e06eb1a62)) | |
| download | [linux-1c723d785adb711496bc64c24240f952f4faaabf.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1c723d785adb711496bc64c24240f952f4faaabf.tar.gz) | |

r8169: add tally counter fields added with RTL8125[ Upstream commit ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a ]
RTL8125 added fields to the tally counter, what may result in the chip
dma'ing these new fields to unallocated memory. Therefore make sure
that the allocated memory area is big enough to hold all of the
tally counter values, even if we use only parts of it.
Fixes: f1bce4ad2f1c ("r8169: add support for RTL8125")
Cc: stable@vger.kernel.org
Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5@gmail.com](https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5%40gmail.com)
Signed-off-by: Paolo Abeni <pabeni@redhat.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1c723d785adb711496bc64c24240f952f4faaabf)

| -rw-r--r-- | [drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/realtek/r8169_main.c?id=1c723d785adb711496bc64c24240f952f4faaabf) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 27 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/realtek/r8169\_main.c b/drivers/net/ethernet/realtek/r8169\_main.cindex 382ba8b04cbfa4..b499d8ea6d216f 100644--- a/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=f02fcb7283b1c25f7e3ae07d7a2c830e06eb1a62)+++ b/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=1c723d785adb711496bc64c24240f952f4faaabf)@@ -567,6 +567,33 @@ struct rtl8169\_counters { \_\_le32 rx\_multicast; \_\_le16 tx\_aborted; \_\_le16 tx\_underrun;+ /\* new since RTL8125 \*/+ \_\_le64 tx\_octets;+ \_\_le64 rx\_octets;+ \_\_le64 rx\_multicast64;+ \_\_le64 tx\_unicast64;+ \_\_le64 tx\_broadcast64;+ \_\_le64 tx\_multicast64;+ \_\_le32 tx\_pause\_on;+ \_\_le32 tx\_pause\_off;+ \_\_le32 tx\_pause\_all;+ \_\_le32 tx\_deferred;+ \_\_le32 tx\_late\_collision;+ \_\_le32 tx\_all\_collision;+ \_\_le32 tx\_aborted32;+ \_\_le32 align\_errors32;+ \_\_le32 rx\_frame\_too\_long;+ \_\_le32 rx\_runt;+ \_\_le32 rx\_pause\_on;+ \_\_le32 rx\_pause\_off;+ \_\_le32 rx\_pause\_all;+ \_\_le32 rx\_unknown\_opcode;+ \_\_le32 rx\_mac\_error;+ \_\_le32 tx\_underrun32;+ \_\_le32 rx\_mac\_missed;+ \_\_le32 rx\_tcam\_dropped;+ \_\_le32 tdu;+ \_\_le32 rdu; };  struct rtl8169\_tc\_offsets { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 15:01:07 +0000



=== Content from git.kernel.org_a6900268_20250111_150232.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=991e8b0bab669b7d06927c3e442b3352532e8581)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=991e8b0bab669b7d06927c3e442b3352532e8581)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=991e8b0bab669b7d06927c3e442b3352532e8581)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=991e8b0bab669b7d06927c3e442b3352532e8581)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Heiner Kallweit <hkallweit1@gmail.com> | 2024-09-17 23:04:46 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:08:27 +0200 |
| commit | [991e8b0bab669b7d06927c3e442b3352532e8581](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=991e8b0bab669b7d06927c3e442b3352532e8581) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=991e8b0bab669b7d06927c3e442b3352532e8581)) | |
| tree | [bedb90f9db916831ed047a310a39e294e1fb119f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=991e8b0bab669b7d06927c3e442b3352532e8581) | |
| parent | [238d5c541e7f16631b493fff57f8ad8181ededc3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=238d5c541e7f16631b493fff57f8ad8181ededc3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=991e8b0bab669b7d06927c3e442b3352532e8581&id2=238d5c541e7f16631b493fff57f8ad8181ededc3)) | |
| download | [linux-991e8b0bab669b7d06927c3e442b3352532e8581.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-991e8b0bab669b7d06927c3e442b3352532e8581.tar.gz) | |

r8169: add tally counter fields added with RTL8125[ Upstream commit ced8e8b8f40accfcce4a2bbd8b150aa76d5eff9a ]
RTL8125 added fields to the tally counter, what may result in the chip
dma'ing these new fields to unallocated memory. Therefore make sure
that the allocated memory area is big enough to hold all of the
tally counter values, even if we use only parts of it.
Fixes: f1bce4ad2f1c ("r8169: add support for RTL8125")
Cc: stable@vger.kernel.org
Signed-off-by: Heiner Kallweit <hkallweit1@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5@gmail.com](https://patch.msgid.link/741d26a9-2b2b-485d-91d9-ecb302e345b5%40gmail.com)
Signed-off-by: Paolo Abeni <pabeni@redhat.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=991e8b0bab669b7d06927c3e442b3352532e8581)

| -rw-r--r-- | [drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/realtek/r8169_main.c?id=991e8b0bab669b7d06927c3e442b3352532e8581) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 27 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/realtek/r8169\_main.c b/drivers/net/ethernet/realtek/r8169\_main.cindex 6017682536e0e7..e9296d63450d85 100644--- a/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=238d5c541e7f16631b493fff57f8ad8181ededc3)+++ b/[drivers/net/ethernet/realtek/r8169\_main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/realtek/r8169_main.c?id=991e8b0bab669b7d06927c3e442b3352532e8581)@@ -570,6 +570,33 @@ struct rtl8169\_counters { \_\_le32 rx\_multicast; \_\_le16 tx\_aborted; \_\_le16 tx\_underrun;+ /\* new since RTL8125 \*/+ \_\_le64 tx\_octets;+ \_\_le64 rx\_octets;+ \_\_le64 rx\_multicast64;+ \_\_le64 tx\_unicast64;+ \_\_le64 tx\_broadcast64;+ \_\_le64 tx\_multicast64;+ \_\_le32 tx\_pause\_on;+ \_\_le32 tx\_pause\_off;+ \_\_le32 tx\_pause\_all;+ \_\_le32 tx\_deferred;+ \_\_le32 tx\_late\_collision;+ \_\_le32 tx\_all\_collision;+ \_\_le32 tx\_aborted32;+ \_\_le32 align\_errors32;+ \_\_le32 rx\_frame\_too\_long;+ \_\_le32 rx\_runt;+ \_\_le32 rx\_pause\_on;+ \_\_le32 rx\_pause\_off;+ \_\_le32 rx\_pause\_all;+ \_\_le32 rx\_unknown\_opcode;+ \_\_le32 rx\_mac\_error;+ \_\_le32 tx\_underrun32;+ \_\_le32 rx\_mac\_missed;+ \_\_le32 rx\_tcam\_dropped;+ \_\_le32 tdu;+ \_\_le32 rdu; };  struct rtl8169\_tc\_offsets { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 15:01:09 +0000


