<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>KeePassXC Memory Security â€“ KeePassXC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="KeePassXC Password Manager">
    <meta name="author" content="KeePassXC Team">
    <meta name="theme-color" content="#417e29">
    <link rel="canonical" href="https://keepassxc.org/blog/2019-02-21-memory-security/">
    <link rel="shortcut icon" href="https://keepassxc.org/favicon.ico" type="image/x-icon">
    <link rel="icon" href="https://keepassxc.org/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" href="https://keepassxc.org/assets/img/apple-touch-icon-precomposed.png" sizes="192x192">
    <link rel="mask-icon" href="https://keepassxc.org/assets/img/safari-pinned-tab.svg" color="#45862b">
    <link href="/assets/css/style.68a689216f29b2a7940d5f22d43cb48d5ffdc4fca261b11a84fdd41d88f8e620.css" rel="stylesheet">
    <script type="module" src="/js/copyable.83c432a23b82d5d93dc59798ba0030e3dbfa6c06c009059a50b54d9b75c65898.js"></script>
    <noscript>
    <link href="/assets/css/noscript.19d79cc98ae89212683f33b29f9bc0bd9cf83c84d92ff8e6fe16266e9456fb77.css" rel="stylesheet">
    </noscript>
    <script src="/assets/js/uikit.min.3cf9703af17e87512e00d57b5fdb3858bf6e8094a04e53226abfb49191cd7caf.js"></script>
    <script type="module" src="/assets/js/jquery.min.fc9a93dd241f6b045cbff0481cf4e1901becd0e12fb45166a8f17f95823f0b1a.js"></script>
</head>
<body>

<div id="offcanvas-navigation" uk-offcanvas="flip: true; mode: reveal">
    <nav class="uk-offcanvas-bar uk-padding-large" aria-label="Main">
        <button class="uk-offcanvas-close" type="button" uk-close></button>
        <ul class="uk-nav uk-nav-primary uk-margin-large-top">
        <li><a href="/download/">Download</a></li>
        <li class="uk-active"><a href="/blog/">Blog</a></li>
        <li><a href="/screenshots/">Screenshots</a></li>
        <li><a href="/docs/">Docs / FAQ</a></li>
        <li><a href="/team/">The Team</a></li>
        </ul>
    </nav>
</div>

<div uk-sticky="start: 10; animation: uk-animation-fade; sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky uk-light; cls-inactive: uk-navbar-transparent">
    <nav class="uk-navbar uk-navbar-container" uk-navbar aria-label="Main">
        <div class="uk-navbar-left">
            <a class="uk-navbar-item uk-logo" href="https://keepassxc.org/">
                <img src="https://keepassxc.org/assets/img/keepassxc.svg" alt="">
                <span>KeePassXC</span>
            </a>
        </div>
        <div class="uk-navbar-right">
            <ul class="uk-navbar-nav uk-visible@l">
        <li><a href="/download/">Download</a></li>
        <li class="uk-active"><a href="/blog/">Blog</a></li>
        <li><a href="/screenshots/">Screenshots</a></li>
        <li><a href="/docs/">Docs / FAQ</a></li>
        <li><a href="/team/">The Team</a></li>
            </ul>

            <button class="uk-navbar-toggle uk-hidden@l" uk-navbar-toggle-icon uk-toggle="target: #offcanvas-navigation" type="button"></button>
        </div>
        <a aria-label="View on Github" class="github-corner uk-visible@l uk-position-absolute uk-position-top-right" href="https://github.com/keepassxreboot/keepassxc">
	<svg aria-hidden="true" height="50" viewbox="0 0 250 250" width="50">
		<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
		<path class="octo-arm" d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;"></path>
		<path class="octo-body" d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor"></path>
	</svg>
</a>

    </nav>
</div>

<main uk-height-viewport="expand: true">
<div class="uk-section blog">
    
<div class="uk-container">
    <nav aria-label="Breadcrumb">
        <ol class="uk-breadcrumb">
                <li><a href="https://keepassxc.org/blog/">KeePassXC Blog</a></li>
            <li class="uk-active" aria-current="page">
                <a href="https://keepassxc.org/blog/2019-02-21-memory-security/">KeePassXC Memory Security</a>
            </li>
        </ol>
    </nav>
    <hr>
</div>



    <article class="uk-article uk-container uk-margin-medium">
        <h1 class="uk-margin-remove-bottom uk-article-title">KeePassXC Memory Security</h1>
        <header class="uk-article-meta">
    <span class="uk-text-nowrap">By <em class="p-author"><i class="fa-solid fa-circle-user"></i> Jonathan White</em></span>
    <br>

    <span class="uk-text-nowrap">Posted on <time datetime="2019-02-21T17:00:00-05:00" class="dt-published">
        <i class="fa-solid fa-clock"></i> 21 February 2019, 17:00</time></span>
        <span class="uk-text-nowrap">&nbsp;in <em class="blog-category"><i class="fa-solid fa-tags"></i> Security</em></span>
</header>

        <hr>

        <div class="uk-margin-medium-top">
            <p>Some of you may have seen the <a href="https://www.securityevaluators.com/casestudies/password-manager-hacking/">recent vulnerability report from ISE</a> that details various memory attacks against 1Password and KeePass, among others. Although KeePassXC was not mentioned, we have thoroughly reviewed the report and address some questions it raises below.</p>
<h2 id="how-does-keepassxc-protect-my-data">How does KeePassXC protect my data?</h2>
<p>Similar to KeePass, we protect all data &ldquo;at rest&rdquo; (that is, when it is saved in the password database file *.kdbx). Aside from non-sensitive header data (such as initialization information for the encryption algorithms), your entire database (usernames, passwords, notes, etc) is encrypted using industry standard methods.</p>
<p>However, unlike KeePass, KeePassXC is a cross-platform application written in C++ using the Qt framework. We have worked very hard to be consistent across Windows, Linux, and MacOS platforms in terms of user experience and security. Each of these operating systems have different methods of handling memory that must be taken into account. This is a very complex topic with a lot of nuance. The following is a succinct breakdown of our security across the three platforms.</p>
<p>Please Note: memory attacks are generally not possible unless an attacker has (physical) access to your machine or a malicious application is running. If your computer is compromised in this way, then there is very little a program can do to protect its data. Your best defense against this threat is to follow general digital hygiene, keeping your computer physically secure, and (maybe) having an up-to-date virus scanner. Nonetheless, here are the techniques KeePassXC uses to protect your data:</p>
<h3 id="windows-memory-protection">Windows Memory Protection</h3>
<p>KeePassXC uses modern Windows memory security techniques available to all processes. None of the other password managers featured in the ISE report have implemented this security. If they had, the ISE attacks would have failed outright! We specifically disable reading the memory of KeePassXC. (Note: it is not possible to prevent an administrator from accessing memory) We also disable &ldquo;core dumps&rdquo; which can expose secrets if the application crashes. Our memory protections can be readily tested by using <a href="https://processhacker.sourceforge.io/">Process Hacker</a> as shown in the following screenshots comparing KeePassXC to KeePass:</p>
<div class="uk-grid uk-child-width-1-2@m" uk-grid uk-lightbox>
<figure >
    <a href="https://keepassxc.org/blog/images/process_hacker_kpxc.png">
        <img style="max-width: 100%; max-height: 500px;" alt="Process Hacker KeePassXC" src="https://keepassxc.org/blog/images/process_hacker_kpxc.png">
    </a>
    <figcaption>Process Hacker KeePassXC</figcaption>
</figure>

<figure >
    <a href="https://keepassxc.org/blog/images/process_hacker_keepass.png">
        <img style="max-width: 100%; max-height: 500px;" alt="Process Hacker KeePass" src="https://keepassxc.org/blog/images/process_hacker_keepass.png">
    </a>
    <figcaption>Process Hacker KeePass</figcaption>
</figure>

</div>
<p>KeePassXC currently does not encrypt data in memory, but we do explicitly clear sensitive data from deleted data structures (so far as the operating system&rsquo;s memory management allows). KeePassXC also cannot prevent data extraction from a hibernation file which stores your computer&rsquo;s memory to disk when going to sleep.</p>
<h3 id="linux-memory-protection">Linux Memory Protection</h3>
<p>KeePassXC prevents the use of ptrace and generation of core dumps. This prevents anyone, except the root user, from accessing the memory of the process. Due to the significant variety in different Linux distributions, we encourage you to ensure their kernel is compiled and run with sufficient protections to process memory.</p>
<p>The <a href="https://snapcraft.io/keepassxc">Snap</a> and <a href="https://flathub.org/apps/details/org.keepassxc.KeePassXC">Flatpak</a> distributions of KeePassXC run in their own sandbox (on Ubuntu) which significantly increases their memory security. The AppImage distribution can be further secured by running it in <a href="https://firejail.wordpress.com/">FireJail</a>. If you are concerned with memory attacks, we recommend using these distributions.</p>
<h3 id="macos-memory-protection">MacOS Memory Protection</h3>
<p>MacOS has similar protections to Linux: disabling the use of ptrace and core dumps. MacOS does have support for sandboxed applications, but KeePassXC currently does not take advantage of this. We are looking into this possibility for the future.</p>
<h2 id="how-can-we-be-more-secure">How can we be more secure?</h2>
<p>We are currently exploring these methods to enhance memory security:</p>
<ul>
<li>Use sandboxing on platforms where supported</li>
<li>Investigate Trusted Platform Module (TPM) to encrypt/decrypt sensitive memory</li>
<li>Investigate Intel SGX (encrypted memory enclaves); only available for Windows and Linux (unofficial)</li>
</ul>
<h2 id="details-for-the-curious">Details for the curious</h2>
<p>Since KeePassXC is an open source application, we encourage everyone with the appropriate knowledge to review our code. The above memory protection techniques are all applied during the initial Bootstrap process before any data is loaded in to the application. You can see the code for this here: <a href="https://github.com/keepassxreboot/keepassxc/blob/develop/src/core/Bootstrap.cpp#L45">src/core/Bootstrap.cpp#L45</a></p>

            <h2>Feedback</h2>
            <p>
            Please report any bugs you encounter at our <a href="https://github.com/keepassxreboot/keepassxc/issues">GitHub issue tracker</a>.
            We are also <a href="https://matrix.to/#/#keepassxc-community:mozilla.org">available on Matrix</a> for real-time feedback and
            discussions. See our <a href="/team/#contact">contact page</a> for further options.
            </p>
        </div>
    </article>
</div>

</main>
<footer class="uk-section uk-light global-footer uk-text-small" role="contentinfo">
    <div class="uk-container">
        <div class="uk-grid" uk-grid>
            <div class="uk-width-expand">
                <div class="uk-margin-large-bottom">
                    <img src="https://keepassxc.org/assets/img/keepassxc.svg" class="footer-logo uk-text-middle" alt="">
                    <strong><a href="https://keepassxc.org/">KeePassXC</a> Password Manager</strong>
                </div>
                <div class="copyright uk-margin-small-bottom">
                    <div class="uk-margin-small-bottom uk-text-muted">KeePassXC is released under the GPLv3.</div>
                    <div class="uk-text-muted">&copy; 2016 &ndash; 2024 KeePassXC Team</div>
                </div>
            </div>
            <div class="uk-width-2-5@s">
                <nav class="uk-grid uk-child-width-expand uk-grid-large" uk-grid aria-label="Footer">
                    <ul class="uk-list">
                            <li><a href="/donate/">Donate</a></li>
                            <li><a href="/blog/">Blog</a></li>
                            <li><a href="/privacy/">Privacy</a></li>
                        <li><a href="https://keepassxc.org/team#contact">Contact</a>
                        <li><a href="https://keepassxc.org/team#legal">Legal Info / Impressum</a>
                    </ul>
                    <ul class="uk-list">
                        <li><i class="fa-brands fa-github" aria-hidden="true"></i> <a rel="me" href="https://github.com/keepassxreboot/keepassxc">GitHub</a>
                        <li><i class="fa-brands fa-bluesky" aria-hidden="true"></i> <a rel="me" href="https://bsky.app/profile/keepassxc.org">Bluesky</a>
                        <li><i class="fa-brands fa-mastodon" aria-hidden="true"></i> <a rel="me" href="https://fosstodon.org/@keepassxc">Mastodon</a>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</footer>

<script async>
    let _paq = window._paq = window._paq || [];
     
    _paq.push(["setCookieDomain", "*.keepassxc.org"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
        let u="https://analytics.keepassxc.org/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '4']);
        let d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
</script>
<noscript><p><img src="https://analytics.keepassxc.org/matomo.php?idsite=4&amp;rec=1" style="border:0;" alt="" /></p></noscript>



<!-- Cloudflare Pages Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "98a8c528eee543cb82abc5a29dfa259a"}'></script><!-- Cloudflare Pages Analytics --></body>
</html>
