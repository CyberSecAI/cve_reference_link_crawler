=== Content from dev.arvados.org_ff208ab4_20250108_124723.html ===


⚲

### Project

### General

### Profile

* [Sign in](/login)
* [Register](/account/register)

* [Home](/)
* [Projects](/projects)
* [Documentation](https://doc.arvados.org/)
* [Help](https://www.redmine.org/guide)

[Search](/projects/arvados/search?scope=subprojects):

 Arvados[All Projects](/projects?jump=issues)
# Arvados

* [Activity](/projects/arvados/activity)
* [Roadmap](/projects/arvados/roadmap)
* [Backlogs](/rb/master_backlog/arvados)
* [Issues](/projects/arvados/issues)
* [Wiki](/projects/arvados/wiki)
* [Repository](/projects/arvados/repository)
* [Documentation](https://doc.arvados.org)

### Custom queries

* [All assigned issues](/projects/arvados/issues?query_id=27)
* [All issues assigned for grooming](/projects/arvados/issues?query_id=28)
* [My issues for grooming](/projects/arvados/issues?query_id=24)
* [My issues for grooming (no story pts)](/projects/arvados/issues?query_id=23)
* [Prioritized open issues](/projects/arvados/issues?query_id=1)

Actions
Copy link
## Bug #19316

closed
![](https://www.gravatar.com/avatar/008463ff8531232eb35ef465cce8b06a?rating=PG&size=50&default=identicon "Author: Peter Amstutz")
![](https://www.gravatar.com/avatar/54a5e4d9cf9984f2c3d2e138d846249f?rating=PG&size=22&default=identicon "Assigned To: Tom Clegg")

### Audit usage of Oj gem & make sure to use safe\_load or replace with different gem

Added by [Peter Amstutz](/users/47) [over 2 years](/projects/arvados/activity?from=2022-08-03 "08/03/2022 04:48 PM") ago.
Updated [over 2 years](/projects/arvados/activity?from=2022-08-04 "08/04/2022 08:06 PM") ago.

Status:ResolvedPriority:NormalAssigned To:[Tom Clegg](/users/3)Category:WorkbenchTarget version:[2022-08-17 sprint](/rb/sprint/364 "08/17/2022")
Story points:-Release:[Arvados 2.4.2](/rb/release/52)Release relationship:Auto

---

**Subtasks**
[1](/issues?parent_id=~19316&set_filter=true&status_id=%2A) (0 open — [1 closed](/issues?parent_id=~19316&set_filter=true&status_id=c))

|  | [Task #19326](/issues/19326): Review 19316-oj-safe-load | Resolved | [Peter Amstutz](/users/47) | 08/04/2022 |  |  | Actions |
| --- | --- | --- | --- | --- | --- | --- | --- |

* [History](/issues/19316?tab=history)
* [Notes](/issues/19316?tab=notes)
* [Property changes](/issues/19316?tab=properties)

ActionsCopy link
[#1](#note-1)
#### Updated by [Peter Amstutz](/users/47) [over 2 years](/projects/arvados/activity?from=2022-08-03 "08/03/2022 05:10 PM") ago

* **Assigned To** set to *Tom Clegg*

ActionsCopy link
[#2](#note-2)
#### Updated by [Tom Clegg](/users/3) [over 2 years](/projects/arvados/activity?from=2022-08-03 "08/03/2022 05:18 PM") ago

* **Status** changed from *New* to *In Progress*

ActionsCopy link
[#3](#note-3)
#### Updated by [Tom Clegg](/users/3) [over 2 years](/projects/arvados/activity?from=2022-08-03 "08/03/2022 05:37 PM") ago

Safe versions are:

* Oj.safe\_load(json)
* Oj.strict\_load(json, options)

19316-oj-safe-load @ [80b2655dbb69a4ceacce0a7f58845b3ee7fb5853](/projects/arvados/repository/arvados/revisions/80b2655dbb69a4ceacce0a7f58845b3ee7fb5853 "19316: Change wb1 and sdk/cli to Oj.safe_load / strict_load. Arvados-DCO-1.1-Signed-off-by: Tom ...") -- [developer-run-tests: #3256 ![](https://ci.arvados.org/buildStatus/icon?job=developer-run-tests&build=3256)](https://ci.arvados.org/job/developer-run-tests/3256/)

19316-oj-safe-load @ [80b2655dbb69a4ceacce0a7f58845b3ee7fb5853](/projects/arvados/repository/arvados/revisions/80b2655dbb69a4ceacce0a7f58845b3ee7fb5853 "19316: Change wb1 and sdk/cli to Oj.safe_load / strict_load. Arvados-DCO-1.1-Signed-off-by: Tom ...") -- [developer-run-tests: #3257 ![](https://ci.arvados.org/buildStatus/icon?job=developer-run-tests&build=3257)](https://ci.arvados.org/job/developer-run-tests/3257/)

ActionsCopy link
[#4](#note-4)
#### Updated by [Peter Amstutz](/users/47) [over 2 years](/projects/arvados/activity?from=2022-08-03 "08/03/2022 08:19 PM") ago

* **Release** set to *52*

ActionsCopy link
[#5](#note-5)
#### Updated by [Tom Clegg](/users/3) [over 2 years](/projects/arvados/activity?from=2022-08-04 "08/04/2022 05:45 PM") ago

* **Status** changed from *In Progress* to *Resolved*

Applied in changeset arvados-private:commit:arvados|1cbf8cd312dd019809b060d83999c677e94dbe7e.

Actions
Copy link

Also available in: [Atom](/issues/19316.atom)
[PDF](/issues/19316.pdf)

Powered by [Redmine](https://www.redmine.org/) © 2006-2024 Jean-Philippe Lang

Loading...

![](//piwik.arvados.org/piwik.php?idsite=2)



=== Content from arvados.org_f8107e59_20250108_124723.html ===


* [Skip to primary navigation](#nav-primary)
* [Skip to main content](#main)
* [Skip to footer](#site-footer)

* [Home](/)
* About
  + [Technology](/technology)
  + [Regulatory Compliance](/compliance)
  + [Standards](/standards)
  + [Releases](/releases)
* Development
  + [Developer Site](https://dev.arvados.org/)
  + [GitHub](https://github.com/arvados/arvados)
* [Community](/community)
* [Documentation](https://doc.arvados.org/)
* [Blog](/blog)

[![Arvados Logo](/images/arvados/logo.png)](/)

[![Arvados Logo](/images/arvados/logo.png)](/)

* [Home](/)
* About
  + [Technology](/technology)
  + [Regulatory Compliance](/compliance)
  + [Standards](/standards)
  + [Releases](/releases)
* Development
  + [Developer Site](https://dev.arvados.org/)
  + [GitHub](https://github.com/arvados/arvados)
* [Community](/community)
* [Documentation](https://doc.arvados.org/)
* [Blog](/blog)

# Arvados 2.4.2 Release Notes

## August 9, 2022

The Arvados team is pleased to announce Arvados 2.4.2.

This release includes a critical security update to address
vulnerability GHSL-2022-063, described below. We strongly recommend
that *all* installations of Arvados, especially those accessible via the
public Internet, upgrade to 2.4.2 as soon as possible. See
[Upgrading Arvados](https://doc.arvados.org/v2.4/admin/upgrading.html) for
upgrade instructions.

In addition, this release includes several performance improvements,
usability improvements, and bug fixes.

## Security updates

### GHSL-2022-063

GitHub Security Lab (GHSL) reported a remote code execution (RCE)
vulnerability in the Arvados Workbench that allows authenticated attackers
to execute arbitrary code via specially crafted JSON payloads.

This vulnerability is fixed in 2.4.2 ([#19316](https://dev.arvados.org/issues/19316))

It is likely that this vulnerability exists in all versions of Arvados up to 2.4.1.

This vulnerability is specific to the Ruby on Rails Workbench
application (âWorkbench 1â). We do not believe any other Arvados
components, including the TypesScript browser-based Workbench
application (âWorkbench 2â) or API Server, are vulnerable to this
attack.

### CVE-2022-31163 and CVE-2022-32224

As a precaution, Arvados 2.4.2 has includes security updates for Ruby
on Rails and the TZInfo Ruby gem. However, there are no known
exploits in Arvados based on these CVEs.

## New Features

[#18984](https://dev.arvados.org/issues/18984)

The âTypeâ column filters in the Workbench 2 Projects view are now
expanded by default, and intermediate workflow steps are now hidden by
default.

[#18203](https://dev.arvados.org/issues/18203)

In Workbench 2, after adding a metadata element to a Project or
Collection, the âkeyâ is not cleared and focus remains on the âvalueâ
field, making it easier to enter multiple values for the same key.

[#19177](https://dev.arvados.org/issues/19177)

There is now a configuration option for admins to disable the user
interface for the âsharing linkâ feature (URLs which can be sent to
users to access the data in a specific collection in Arvados without
an Arvados account), for organizations where sharing links violate
their data sharing policy.

[#18975](https://dev.arvados.org/issues/18975)

Workflow logs on Workbench 2 now show âMain logsâ by default, which is
a combination of the crunch-run, stdout and stderr logs. Following
scrolling has also been improved.

[#16070](https://dev.arvados.org/issues/16070)

Workbench 2 now features a new panel showing the command line used to
invoke a workflow or workflow step.

[#19231](https://dev.arvados.org/issues/19231)

Workbench 2 now has options for smaller page sizes (10 and 20 items)
to speed up loading project contents.

[#19282](https://dev.arvados.org/issues/19282)
[#19220](https://dev.arvados.org/issues/19220)

Added new method to the Java SDK to upload files via Keep Web API. The
Java SDK uses config parameter to fetch api token in KeepClient.

## Bug Fixes

[#19192](https://dev.arvados.org/issues/19192)

Fixed an internal, silent failure in `keep-web` that would prevent use
of the manifest cache after `keep-web` was running for a while,
resulting in poor performance accessing files in Keep via HTTP, WebDAV
and S3 APIs until the service was restarted. `keep-web` now correctly
uses the cache and maintains consistent performance.

[#19153](https://dev.arvados.org/issues/19153)

In the Workbench 2 collection file browser, following the URL
resulting from âCopy to clipboardâ will now open the file content in
the browser, instead of forcing a file download.

[#19297](https://dev.arvados.org/issues/19297)

Workbench 2 advanced search by metadata property now works as intended, instead of returning an error.

[#19305](https://dev.arvados.org/issues/19305)

When using the âbreadcrumbs barâ to edit Project properties, the
existing metadata properties are now loaded correctly.

[#19296](https://dev.arvados.org/issues/19296)

Fixed Python SDK bug in `Collection.remove` where the `recursive` flag
was not propagated, preventing removal of more than one level of
directories. Recursively removing deep directory trees in Collections
now works as intended.

[#18965](https://dev.arvados.org/issues/18965)

When navigating to destination on Workbench 2 but not logged in, the
user is redirected to a login page, and after logging in, now
correctly navigated back to the page they intended to visit.

[#19142](https://dev.arvados.org/issues/19142)

Workbench 2 âAll processesâ and âSubprocessesâ panels now load faster
by limiting which fields of the container record are requested.

[#19321](https://dev.arvados.org/issues/19321)

When launching a workflow on Workbench 1, workflow inputs with âenumâ type are now displayed and set correctly.

[#19280](https://dev.arvados.org/issues/19280)

When submitting very large workflows with `arvados-cwl-runner`,
particularly those defined entirely in a single file, the time spent
in initialization (before the first workflow step is submitted) has
been greatly reduced.

## Arvados

* [About](/about/)
* [Development](https://github.com/arvados/arvados)
* [Community](/community/)
* [Documentation](https://doc.arvados.org/)
* [Blog](/blog/)

[![Link to Arvados Github](/images/social/github.svg "Github icon")](https://github.com/arvados/arvados)
[![Link to Arvados Twitter](/images/social/twitter.svg "Twitter icon")](https://twitter.com/arvados)

Â©2024 Arvados Project. Unless otherwise noted, site content licensed under Creative Commons Attribution-ShareAlike 4.0 International licensed.

[Privacy Policy](/privacy)



=== Content from github.com_cb738da1_20250108_124724.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Farvados%2Farvados%2Fsecurity%2Fadvisories%2FGHSA-8867-q4xf-cqgm)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Farvados%2Farvados%2Fsecurity%2Fadvisories%2FGHSA-8867-q4xf-cqgm)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=arvados%2Farvados)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[arvados](/arvados)
/
**[arvados](/arvados/arvados)**
Public

* [Notifications](/login?return_to=%2Farvados%2Farvados) You must be signed in to change notification settings
* [Fork
  119](/login?return_to=%2Farvados%2Farvados)
* [Star
   400](/login?return_to=%2Farvados%2Farvados)

* [Code](/arvados/arvados)
* [Pull requests
  18](/arvados/arvados/pulls)
* [Actions](/arvados/arvados/actions)
* [Security](/arvados/arvados/security)
* [Insights](/arvados/arvados/pulse)

Additional navigation options

* [Code](/arvados/arvados)
* [Pull requests](/arvados/arvados/pulls)
* [Actions](/arvados/arvados/actions)
* [Security](/arvados/arvados/security)
* [Insights](/arvados/arvados/pulse)

# Authenticated remote code execution due to insecure deserialization (GHSL-2022-063)

Critical

[tetron](/tetron)
published
GHSA-8867-q4xf-cqgm
Aug 12, 2022

## Package

arvados
(arvados)

## Affected versions

< 2.4.1

## Patched versions

2.4.2

## Description

# Summary

A remote code execution (RCE) vulnerability in the Arvados Workbench allows authenticated attackers to execute arbitrary code via specially crafted JSON payloads. This exists in all versions up to 2.4.1 and is fixed in 2.4.2.

This vulnerability is specific to the Ruby on Rails Workbench application (“Workbench 1”). We do not believe any other Arvados components, including the TypesScript browser-based Workbench application (“Workbench 2”) or API Server, are vulnerable to this attack.

# Impact

This issue may lead to Remote Code Execution (RCE)

# Workaround

For versions of Arvados earlier than 2.4.2: remove the Ruby-based "Workbench 1" app ("apt-get remove arvados-workbench") from your installation.

Use the TypeScript browser-based "Workbench 2" application, or command line tools.

# Credit

This issue was discovered and reported by GHSL team member [@p- (Peter Stöckli)](https://github.com/p-).

### Severity

Critical

### CVE ID

CVE-2022-36006

### Weaknesses

[CWE-502](/advisories?query=cwe%3A502)

### Credits

* [![@p-](https://avatars.githubusercontent.com/u/176818?s=40&v=4)](/p-)
  [p-](/p-)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


