
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fshevek%2Flibspf2%2Ftree%2F8131fe140704eaae695e76b5cd09e39bd1dd220b)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fshevek%2Flibspf2%2Ftree%2F8131fe140704eaae695e76b5cd09e39bd1dd220b)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&source=header-repo&source_repo=shevek%2Flibspf2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[shevek](/shevek)
/
**[libspf2](/shevek/libspf2)**
Public

* [Notifications](/login?return_to=%2Fshevek%2Flibspf2) You must be signed in to change notification settings
* [Fork
  32](/login?return_to=%2Fshevek%2Flibspf2)
* [Star
   37](/login?return_to=%2Fshevek%2Flibspf2)

Implementation of the Sender Policy Framework for SMTP authorization

[www.libspf2.net/](http://www.libspf2.net/ "http://www.libspf2.net/")

[37
stars](/shevek/libspf2/stargazers) [32
forks](/shevek/libspf2/forks) [Branches](/shevek/libspf2/branches) [Tags](/shevek/libspf2/tags) [Activity](/shevek/libspf2/activity)
 [Star](/login?return_to=%2Fshevek%2Flibspf2)

 [Notifications](/login?return_to=%2Fshevek%2Flibspf2) You must be signed in to change notification settings

* [Code](/shevek/libspf2)
* [Issues
  26](/shevek/libspf2/issues)
* [Pull requests
  15](/shevek/libspf2/pulls)
* [Actions](/shevek/libspf2/actions)
* [Projects
  0](/shevek/libspf2/projects)
* [Wiki](/shevek/libspf2/wiki)
* [Security](/shevek/libspf2/security)
* [Insights](/shevek/libspf2/pulse)

Additional navigation options

* [Code](/shevek/libspf2)
* [Issues](/shevek/libspf2/issues)
* [Pull requests](/shevek/libspf2/pulls)
* [Actions](/shevek/libspf2/actions)
* [Projects](/shevek/libspf2/projects)
* [Wiki](/shevek/libspf2/wiki)
* [Security](/shevek/libspf2/security)
* [Insights](/shevek/libspf2/pulse)

# shevek/libspf2

    8131fe1[Branches](/shevek/libspf2/branches)[Tags](/shevek/libspf2/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[197 Commits](/shevek/libspf2/commits/8131fe140704eaae695e76b5cd09e39bd1dd220b/) | | |
| [config](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/config "config") | | [config](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/config "config") |  |  |
| [docs](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/docs "docs") | | [docs](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/docs "docs") |  |  |
| [perl](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/perl "perl") | | [perl](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/perl "perl") |  |  |
| [src](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/src "src") | | [src](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/src "src") |  |  |
| [tests](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/tests "tests") | | [tests](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/tests "tests") |  |  |
| [win32](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/win32 "win32") | | [win32](/shevek/libspf2/tree/8131fe140704eaae695e76b5cd09e39bd1dd220b/win32 "win32") |  |  |
| [.gitignore](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/.gitignore ".gitignore") | | [.gitignore](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/.gitignore ".gitignore") |  |  |
| [Doxyfile.in](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/Doxyfile.in "Doxyfile.in") | | [Doxyfile.in](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/Doxyfile.in "Doxyfile.in") |  |  |
| [INSTALL](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/INSTALL "INSTALL") | | [INSTALL](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/INSTALL "INSTALL") |  |  |
| [LICENSES](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/LICENSES "LICENSES") | | [LICENSES](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/LICENSES "LICENSES") |  |  |
| [Makefile.am](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/Makefile.am "Makefile.am") | | [Makefile.am](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/Makefile.am "Makefile.am") |  |  |
| [Makefile.in](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/Makefile.in "Makefile.in") | | [Makefile.in](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/Makefile.in "Makefile.in") |  |  |
| [README](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/README "README") | | [README](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/README "README") |  |  |
| [TODO](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/TODO "TODO") | | [TODO](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/TODO "TODO") |  |  |
| [aclocal.m4](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/aclocal.m4 "aclocal.m4") | | [aclocal.m4](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/aclocal.m4 "aclocal.m4") |  |  |
| [bootstrap](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/bootstrap "bootstrap") | | [bootstrap](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/bootstrap "bootstrap") |  |  |
| [config.h.in](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/config.h.in "config.h.in") | | [config.h.in](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/config.h.in "config.h.in") |  |  |
| [configure](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/configure "configure") | | [configure](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/configure "configure") |  |  |
| [configure.ac](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/configure.ac "configure.ac") | | [configure.ac](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/configure.ac "configure.ac") |  |  |
| [install-sh](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/install-sh "install-sh") | | [install-sh](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/install-sh "install-sh") |  |  |
| [missing](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/missing "missing") | | [missing](/shevek/libspf2/blob/8131fe140704eaae695e76b5cd09e39bd1dd220b/missing "missing") |  |  |
| View all files | | |

## Repository files navigation

* README
```
/**
 * @file
 * @brief Description of libspf2
 * The contents of this file is extracted by the documentation
 * generator, and forms the front matter and introductory text to this
 * manual. The documentation for this file is, therefore, apparently
 * empty.
 */

/**
 * @mainpage Introduction to libspf2

 * @par Recipes

An example client implementation is in spf_example.c with a little
more error checking. The basic cases are as follows:

The SPF server is reusable, and thread-safe. It must be freed using
SPF_server_free.

@code
	SPF_server_t	*spf_server = SPF_server_new(SPF_DNS_CACHE, 0);
@endcode

Create a request, and set the relevant fields in it. Each setter
method returns an SPF_errcode_t, which will inform you of error
conditions, such as out-of-memory or invalid argument.

@code
	SPF_request_t	*spf_request = SPF_request_new(spf_server);
	SPF_request_set_ipv4_str(spf_request, "123.45.6.7");
	SPF_request_set_env_from(spf_request, "clientdomain.com");
@endcode

Now that we have built a query, we may execute it. It will use the
SPF_server_t which was passed to the query constructor. As usual, the
SPF_request_query_mailfrom method returns an error code, although
much richer errors are returned inside the SPF_response_t - see
spf_response.h for more details of that API.

@code
	SPF_response_t	*spf_response = NULL;
	SPF_request_query_mailfrom(spf_request, &spf_response);
	printf("Result is %s\n",
			SPF_strresult(SPF_response_result(spf_response)));
@endcode

When we have finished with the response, we must free it and the
request.

@code
	SPF_response_free(spf_response);
	SPF_request_free(spf_request);
@endcode

We can execute many requests in parallel threads on the same server,
but before the program exits, we must free the server.

@code
	SPF_server_free(spf_server);
@endcode

 * @par Authors

 - Current maintainer: Shevek <libspf2@anarres.org>
 - Contributors: Magnus Holmgren, Julian Mehnle, Scott Kitterman
 - Contributors: Dan Kaminsky, Ben Chelf, Hannah Schroeter
 - Contributors: Martin Braine, Manish Raje, Stuart Gathman
 - Original author, 1.0 series: Wayne Schlitt <wayne@midwestcs.com>

 * @par License

This program is free software; you can redistribute it and/or modify
it under the terms of either:

  a) the GNU Lesser General Public License as published by the Free
     Software Foundation; either version 2.1, or (at your option) any
     later version, or

  OR

  b) The two-clause BSD license.

Some code in the 'replace' subdirectory was obtained form other sources
and have different, but compatible, licenses. These routines are
used only when the native libraries for the OS do not contain these
functions.  You should review the licenses and copyright statments
in these functions if you are using an OS that needs these functions.

 * @par Original README from Wayne Schlitt

Libspf2 is an implementation of the SPF specification as found at
<http://www.ietf.org/internet-drafts/draft-mengwong-spf-00.txt>
or doc/draft-mengwong-spf-00.txt

Libspf2 is in beta testing and should only be used in production
systems with caution.  It has not been widely compiled and tested on
machines with different operating systems, CPU architectures, or
network configurations.  It has not been audited for security errors.

While libspf2 is beta code, a lot of effort has been put into
making it secure by design, and a great deal of effort has been put
into the regression tests.  Functions such as sprintf() are never
used, things like snprintf() are used instead.  There are few fixed
sized buffers/arrays, instead, most data structures are dynamically
allocated with the allocation sized recorded so I can check to make
sure the buffer isn't overflowed.  The return values from malloc() and
other system calls are checked and handled as gracefully as I can.
The valgrind program is regularly run to make sure that there are no
memory leaks and reads/writes to invalid memory.

This code has been compiled and passed its regression tests on Debian
Linux (sid/testing) on the x86, FreeBSD 4.3 (x86), FreeBSD 4.9
(x86??), NetBSD 1.62 (x86?), SunOS 5.8 on the ultrasparc, and a few
others.  It uses the autotools (autoconfig, libtools, automake, etc.)
to try and make things more portable, so it will likely work on other
systems also.

-wayne

 */

```

## About

Implementation of the Sender Policy Framework for SMTP authorization

[www.libspf2.net/](http://www.libspf2.net/ "http://www.libspf2.net/")

### Resources

[Readme](#readme-ov-file)

[Activity](/shevek/libspf2/activity)
### Stars

[**37**
stars](/shevek/libspf2/stargazers)
### Watchers

[**19**
watching](/shevek/libspf2/watchers)
### Forks

[**32**
forks](/shevek/libspf2/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fshevek%2Flibspf2&report=shevek+%28user%29)

## [Releases](/shevek/libspf2/releases)

No releases published

## [Packages 0](/users/shevek/packages?repo_name=libspf2)

No packages published

## [Contributors 7](/shevek/libspf2/graphs/contributors)

## Languages

* [C
  41.6%](/shevek/libspf2/search?l=c)
* [Shell
  34.3%](/shevek/libspf2/search?l=shell)
* [Makefile
  21.1%](/shevek/libspf2/search?l=makefile)
* [Perl
  1.2%](/shevek/libspf2/search?l=perl)
* [XS
  1.0%](/shevek/libspf2/search?l=xs)
* [M4
  0.8%](/shevek/libspf2/search?l=m4)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

