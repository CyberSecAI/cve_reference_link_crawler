
[Skip to main content](#main-content-start)

[Get help](/help/)
[Documentation](/doc/en/)

[Release Note](https://www.tuleap.org/resources/release-notes/tuleap-16-3/?utm_source=tuleap&utm_medium=forge&utm_campaign=tuleap-forge-icon-help-RN-link)

[API](/api/explorer/)
[Terms](/tos/tos.php)
[Contact](/contact.php)
Shortcuts

# Keyboard shortcuts

| Description | Shortcut |
| --- | --- |

Close

[Login](/account/login.php?return_to=%2Fplugins%2Fgit%2Ftuleap%2Ftuleap%2Fstable%3Fa%3Dcommit%26h%3Da06cb42d55c840d61a484472ed6b169ab23853ac "Login")
[New User](/account/register.php "New User")

# Public

Project privacy set to public. By default, its content is available to everyone (authenticated or not). Please note that more restrictive permissions might exist on some items.

[ðŸŒ· Tuleap](/projects/tuleap "Tuleap")

[Git repositories](/plugins/git/tuleap/ "Git repositories")

[Fork repositories](/plugins/git/?group_id=101&action=fork_repositories "Fork repositories")

[tuleap/stable](/plugins/git/tuleap/tuleap/stable "tuleap/stable")

# stable

Clone

# Clone or download

HTTPS (Default)
Read-only

SSH

[Files](/plugins/git/tuleap/tuleap/stable?a=tree&hb=a06cb42d55c840d61a484472ed6b169ab23853ac)
[Commits](/plugins/git/tuleap/tuleap/stable?a=commit&h=a06cb42d55c840d61a484472ed6b169ab23853ac)
[Pull requests
0](/plugins/git/?action=pull-requests&repo_id=58&group_id=101&tab=homepage)

## fix!: GitLab repository branch prefix can be updated by any user

[Download](?a=commitdiff_plain&h=a06cb42d55c840d61a484472ed6b169ab23853ac&noheader=1 "Download commit as plain text file")
[Browse](?a=tree&hb=a06cb42d55c840d61a484472ed6b169ab23853ac "Browse repository at this commit")

This closes [request #28848](https://tuleap.net/goto?key=request&val=28848&group_id=101 "Artefact - Bugs") GitLab repository branch prefix can be updated by any user
Any user is able to update the branch prefix of any GitLab repository integration
using the REST route PATCH /gitlab\_repositories/{id}.
This is wrong, only Git adminsitrators must be allowed to do that.
Change-Id: I70febc7cc3b49d5687d8f6a3f1a061710f6cf5ef

+68
âˆ’7

Author
[![](https://tuleap.net/users/rossettoy/avatar-4d474c3409a601810664edcbee1c716e0b91d07548f3251e4ea7039376464aee.png)
Yannis ROSSETTO (rossettoy)](/users/rossettoy)
 2022-09-20 16:46

Committer
[![](https://tuleap.net/users/rossettoy/avatar-4d474c3409a601810664edcbee1c716e0b91d07548f3251e4ea7039376464aee.png)
Yannis ROSSETTO (rossettoy)](/users/rossettoy)
 2022-09-20 16:46

Hash
a06cb42d55c840d61a484472ed6b169ab23853ac

Parent
[ee5b4e1ba2d95bcbce16efa1c49c96b567b1b776](?a=commit&h=ee5b4e1ba2d95bcbce16efa1c49c96b567b1b776)

Reference
git #tuleap/stable/a06cb42d55c840d61a484472ed6b169ab23853ac

## Modified Files

 List

[Side by side diff](?a=commitdiff&h=a06cb42d55c840d61a484472ed6b169ab23853ac&o=side-by-side)

[Inline diff](?a=commitdiff&h=a06cb42d55c840d61a484472ed6b169ab23853ac)

|  | Name |  |  |  |
| --- | --- | --- | --- | --- |
| M | plugins/gitlab/include/Artifact/Action/CreateBranchPrefixUpdater.php | +11 | âˆ’1 | [Go to diff](?a=blobdiff&h=c94831cf38ef5c0eec7a4d7234265a1587aaf7e3&hp=00151094438f9701ef7a8e33b016c185878ac64f&hb=a06cb42d55c840d61a484472ed6b169ab23853ac&f=plugins%2Fgitlab%2Finclude%2FArtifact%2FAction%2FCreateBranchPrefixUpdater.php)  [View file](?a=blob&h=c94831cf38ef5c0eec7a4d7234265a1587aaf7e3&hb=a06cb42d55c840d61a484472ed6b169ab23853ac&f=plugins/gitlab/include/Artifact/Action/CreateBranchPrefixUpdater.php) |
| M | plugins/gitlab/include/REST/v1/GitlabRepositoryResource.php | +6 | âˆ’2 | [Go to diff](?a=blobdiff&h=383ceff051882950e836b60e76a88a4993e2b555&hp=38424a7214bb457ca3eb8bac8dacfe82636599d8&hb=a06cb42d55c840d61a484472ed6b169ab23853ac&f=plugins%2Fgitlab%2Finclude%2FREST%2Fv1%2FGitlabRepositoryResource.php)  [View file](?a=blob&h=383ceff051882950e836b60e76a88a4993e2b555&hb=a06cb42d55c840d61a484472ed6b169ab23853ac&f=plugins/gitlab/include/REST/v1/GitlabRepositoryResource.php) |
| M | plugins/gitlab/tests/unit/Artifact/Action/CreateBranchPrefixUpdaterTest.php | +51 | âˆ’4 | [Go to diff](?a=blobdiff&h=8bc3d6881ae82a2afbb80ee53f04ffdd9611e013&hp=97fe93d0a62f542a61ab6340321791f3e12a4474&hb=a06cb42d55c840d61a484472ed6b169ab23853ac&f=plugins%2Fgitlab%2Ftests%2Funit%2FArtifact%2FAction%2FCreateBranchPrefixUpdaterTest.php)  [View file](?a=blob&h=8bc3d6881ae82a2afbb80ee53f04ffdd9611e013&hb=a06cb42d55c840d61a484472ed6b169ab23853ac&f=plugins/gitlab/tests/unit/Artifact/Action/CreateBranchPrefixUpdaterTest.php) |

