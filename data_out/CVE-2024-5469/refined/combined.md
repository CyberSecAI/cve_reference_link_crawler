=== Content from gitlab.com_29ba564f_20250110_205750.html ===


[Skip to content](#content-body)
GitLab
[Next](https://next.gitlab.com)

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

# Missing agentk request validation could cause KAS to panic

With a change made during [%17.0](/groups/gitlab-org/-/milestones/87) (removing to send `AgentMeta` with the `GetConfiguration` gRPC call in [Remove unused AgentMeta (gitlab-org/cluster-integration/gitlab-agent!1483 - merged)](https://gitlab.com/gitlab-org/cluster-integration/gitlab-agent/-/merge_requests/1483 "Remove unused AgentMeta")) we've discovered a potential DOS vulnerability. The issue is that we are missing a validation call to check if the data send by the agentk is valid. That missing validation call and in case of invalid data KAS panics and crashes. This behavior can be abused to DOS KAS.

Validation is missing since the introduction of the `GetConfiguration()` gRPC call back in 2020. It only became a problem in [%16.10](/groups/gitlab-org/-/milestones/97) with [Keep track of active agent versions (gitlab-org/cluster-integration/gitlab-agent!1285 - merged)](https://gitlab.com/gitlab-org/cluster-integration/gitlab-agent/-/merge_requests/1285 "Keep track of active agent versions").

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.


