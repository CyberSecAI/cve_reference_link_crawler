Based on the provided information, here's an analysis of the vulnerability:

**Root Cause:**

*   The vulnerability stems from the UJCMS application's method of retrieving the client IP address. It relies on the `X-Forwarded-For` header, which can be easily manipulated by an attacker. The application retrieves all IPs from the header, and then gets the last IP using `getRemoteAddr()`. This method will retrieve the original IP from the request, which is usually the server itself. Finally, it finds the IP from right to left in the list, picking the attacker-controlled IP.

**Weaknesses/Vulnerabilities:**

*   **Reliance on IP Address for Authentication (CWE-291):** The application incorrectly trusts the `X-Forwarded-For` header, which can be spoofed. This header is intended to identify the originating IP of a client connecting through a proxy or load balancer, but it should not be used for authentication purposes.
*   **IP Spoofing:** The application does not validate or sanitize the IP addresses obtained from the `X-Forwarded-For` header, allowing an attacker to inject arbitrary IP addresses.

**Impact of Exploitation:**

*   **Log Manipulation:** An attacker can spoof their IP address in the application's logs, making it difficult to track their activity or identify the true source of malicious requests. This could hinder incident response and forensic investigations.
*   **Potential Bypass of IP-Based Access Controls:** If the application relies on IP addresses for access control or other security mechanisms, this vulnerability could allow an attacker to bypass these controls and gain unauthorized access.

**Attack Vectors:**

*   The attack vector is through the `X-Forwarded-For` HTTP header.
*   An attacker can send a crafted HTTP request to the vulnerable UJCMS application.
*   The request will contain a `X-Forwarded-For` header with a spoofed IP address.
*   The application will incorrectly identify the spoofed IP address as the client's IP.

**Required Attacker Capabilities/Position:**

*   The attacker needs the ability to send HTTP requests to the UJCMS application.
*   No special privileges or access to the application are required to exploit this vulnerability.
*   The attacker can be an external user of the application.

**Technical Details:**

*   The vulnerable code is located in `src/main/java/com/ujcms/commons/web/Servlets.java`.
*   The application retrieves the client IP address by first checking `X-Forwarded-For`, adding the `getRemoteAddr()` value, and taking the first IP from left to right.
*   If an attacker adds `X-Forwarded-For: 1.1.1.1` to the header, the resulting IP list will be `1.1.1.1, 127.0.0.1` and it will finally pick 1.1.1.1 as the client IP.

This vulnerability is present in Ujcms version 8.0.2 and likely other versions that use the same IP address retrieval method.