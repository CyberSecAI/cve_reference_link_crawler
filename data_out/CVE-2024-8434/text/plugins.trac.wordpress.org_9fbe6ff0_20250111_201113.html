

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3156084%2Fthemehunk-megamenu-plus%2Ftags%2F1.1.0%2Finc%2Fmegamenu-setting.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/2844419/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php "Changeset 2844419 for themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php")
* Next Change →

---

# Changeset [3156084](/changeset/3156084 "Show full changeset") for [themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
09/23/2024 06:20:13 AM
([4 months](/timeline?from=2024-09-23T06%3A20%3A13Z&precision=second "See timeline at 09/23/2024 06:20:13 AM") ago)

Author:
themehunk
Message:

version 1.1.0 updated

Location:
[themehunk-megamenu-plus/tags/1.1.0](/browser/themehunk-megamenu-plus/tags/1.1.0?rev=3156084)
Files:

1 edited
1 copied

* [.](/browser/themehunk-megamenu-plus/tags/1.1.0?rev=3156084 "Show entry in browser")
  (copied)
  *(copied from [themehunk-megamenu-plus/trunk](/browser/themehunk-megamenu-plus/trunk?rev=3045589 "Show original file (revision 3156081)"))*
* [inc/megamenu-setting.php](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084 "Show entry in browser")
  (modified)
  ([13 diffs](#file1 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php](/changeset/3156084/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php "Show the changeset 3156084 restricted to themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php")

  | [r2844419](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L142 "Show revision 2844419 of this file in browser") | [r3156084](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L142 "Show revision 3156084 of this file in browser") |  |
  | --- | --- | --- |
  | 142 | 142 | public function save\_theme($is\_ajax = false){ |
  | 143 | 143 |  |
  |  | 144 | if ( ! current\_user\_can( 'administrator' ) ) { |
  |  | 145 |  |
  |  | 146 | wp\_die( - 1, 403 ); |
  |  | 147 |  |
  |  | 148 | } |
  |  | 149 |  |
  | 144 | 150 | check\_admin\_referer('themehunk\_megamenu\_save\_setting' ); |
  | 145 | 151 |  |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L175) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L181) |  |
  | 175 | 181 | \*/ |
  | 176 | 182 | public function ajax\_save\_theme(){ |
  |  | 183 |  |
  |  | 184 | if ( ! current\_user\_can( 'administrator' ) ) { |
  |  | 185 |  |
  |  | 186 | wp\_die( - 1, 403 ); |
  |  | 187 |  |
  |  | 188 | } |
  | 177 | 189 |  |
  | 178 | 190 | check\_ajax\_referer( 'themehunk\_megamenu\_save\_setting' ); |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L863) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L875) |  |
  | 863 | 875 | echo "<a class='mega-tab nav-tab {$active}' data-tab='mega-tab-content-{$section\_id}'>".esc\_html($section['title']) . "</a>"; |
  | 864 | 876 |  |
  | 865 |  | } |
  | 866 |  | echo "</h2>"; |
  | 867 |  | foreach ( $settings as $section\_id => $section ) { |
  | 868 |  | $is\_first = true; |
  | 869 |  | if ($is\_first) { |
  | 870 |  | $display = 'block'; |
  | 871 |  | $is\_first = false; |
  | 872 |  | } else { |
  | 873 |  | $display = 'none'; |
  | 874 |  | } |
  | 875 |  |  |
  | 876 |  | echo " <div class='mega-tab-content mega-tab-content-{$section\_id}' style='display: {$display}'>"; |
  | 877 |  | echo " <table class='{$section\_id}'>"; |
  | 878 |  |  |
  | 879 |  | // order the fields by priority |
  | 880 |  | uasort( $section['settings'], array( $this, "themehunk\_megamenu\_compare\_elems" ) ); |
  | 881 |  |  |
  | 882 |  | foreach ( $section['settings'] as $group\_id => $group ) { |
  | 883 |  |  |
  | 884 |  | echo "<tr class='mega-{$group\_id}'>"; |
  | 885 |  |  |
  | 886 |  | if ( isset( $group['settings'] ) ) { |
  | 887 |  |  |
  | 888 |  | echo "<td class='mega-name'>" . $group['title'] . "<div class='mega-description'>" . $group['description'] . "</div></td>"; |
  | 889 |  | echo "<td class='mega-value'>"; |
  | 890 |  |  |
  | 891 |  | foreach ( $group['settings'] as $setting\_id => $setting ) { |
  | 892 |  |  |
  | 893 |  | if ( isset( $setting['validation'] ) ) { |
  | 894 |  | echo "<label class='mega-{$setting['key']}' data-validation='{$setting['validation']}'>"; |
  |  | 877 | }?> |
  |  | 878 | </h2> |
  |  | 879 | <?php foreach ( $settings as $section\_id => $section ) : |
  |  | 880 | $is\_first = true; |
  |  | 881 | $display = $is\_first ? 'block' : 'none'; |
  |  | 882 | $is\_first = false; |
  |  | 883 | ?> |
  |  | 884 |  |
  |  | 885 | <div class="mega-tab-content mega-tab-content-<?php echo esc\_attr($section\_id); ?>" style="display: <?php echo esc\_attr($display); ?>"> |
  |  | 886 | <table class="<?php echo esc\_attr($section\_id); ?>"> |
  |  | 887 |  |
  |  | 888 | <?php |
  |  | 889 | // order the fields by priority |
  |  | 890 | uasort( $section['settings'], array( $this, "themehunk\_megamenu\_compare\_elems" ) ); |
  |  | 891 |  |
  |  | 892 | foreach ( $section['settings'] as $group\_id => $group ) : ?> |
  |  | 893 |  |
  |  | 894 | <tr class="mega-<?php echo esc\_attr($group\_id); ?>"> |
  |  | 895 |  |
  |  | 896 | <?php if ( isset( $group['settings'] ) ) : ?> |
  |  | 897 | <td class="mega-name"> |
  |  | 898 | <?php echo esc\_html($group['title']); ?> |
  |  | 899 | <div class="mega-description"><?php echo esc\_html($group['description']); ?></div> |
  |  | 900 | </td> |
  |  | 901 | <td class="mega-value"> |
  |  | 902 |  |
  |  | 903 | <?php foreach ( $group['settings'] as $setting\_id => $setting ) : ?> |
  |  | 904 | <label class="mega-<?php echo esc\_attr($setting['key']); ?>" <?php if ( isset( $setting['validation'] ) ) : ?>data-validation="<?php echo esc\_attr($setting['validation']); ?>"<?php endif; ?>> |
  |  | 905 | <span class="mega-short-desc"><?php echo esc\_html($setting['title']); ?></span> |
  |  | 906 | <?php switch ( $setting['type'] ) : |
  |  | 907 | case "freetext": |
  |  | 908 | $this->themehunk\_megamenu\_print\_theme\_freetext\_option( $setting['key'] ); |
  |  | 909 | break; |
  |  | 910 | case "number": |
  |  | 911 | $this->themehunk\_megamenu\_print\_theme\_number\_option( $setting['key'] ); |
  |  | 912 | break; |
  |  | 913 | case "textarea": |
  |  | 914 | $this->themehunk\_megamenu\_print\_theme\_textarea\_option( $setting['key'] ); |
  |  | 915 | break; |
  |  | 916 | case "align": |
  |  | 917 | $this->themehunk\_megamenu\_print\_theme\_align\_option( $setting['key'] ); |
  |  | 918 | break; |
  |  | 919 | case "checkbox": |
  |  | 920 | $this->themehunk\_megamenu\_print\_theme\_checkbox\_option( $setting['key'] ); |
  |  | 921 | break; |
  |  | 922 | case "arrow": |
  |  | 923 | $this->themehunk\_megamenu\_print\_theme\_arrow\_option( $setting['key'] ); |
  |  | 924 | break; |
  |  | 925 | case "toggleicon": |
  |  | 926 | $this->themehunk\_megamenu\_print\_theme\_toggle\_icon\_option( $setting['key'] ); |
  |  | 927 | break; |
  |  | 928 | case "color": |
  |  | 929 | $this->themehunk\_megamenu\_print\_theme\_color\_option( $setting['key'] ); |
  |  | 930 | break; |
  |  | 931 | case "weight": |
  |  | 932 | $this->print\_theme\_weight\_option( $setting['key'] ); |
  |  | 933 | break; |
  |  | 934 | case "font": |
  |  | 935 | $this->print\_theme\_font\_option( $setting['key'] ); |
  |  | 936 | break; |
  |  | 937 | case "transform": |
  |  | 938 | $this->print\_theme\_transform\_option( $setting['key'] ); |
  |  | 939 | break; |
  |  | 940 | case "decoration": |
  |  | 941 | $this->print\_theme\_text\_decoration\_option( $setting['key'] ); |
  |  | 942 | break; |
  |  | 943 | case "mobile\_columns": |
  |  | 944 | $this->print\_theme\_mobile\_columns\_option( $setting['key'] ); |
  |  | 945 | break; |
  |  | 946 | case "copy\_color": |
  |  | 947 | $this->print\_theme\_copy\_color\_option( $setting['key'] ); |
  |  | 948 | break; |
  |  | 949 | default: |
  |  | 950 | do\_action( "megamenu\_print\_theme\_option\_{$setting['type']}", $setting['key'], $this->id ); |
  |  | 951 | break; |
  |  | 952 | endswitch; ?> |
  |  | 953 |  |
  |  | 954 | </label> |
  |  | 955 | <?php endforeach; ?> |
  |  | 956 |  |
  |  | 957 | <?php if ( isset( $group['info'] ) ) : |
  |  | 958 | foreach ( $group['info'] as $paragraph ) : ?> |
  |  | 959 | <div class="mega-info"><?php echo esc\_html($paragraph); ?></div> |
  |  | 960 | <?php endforeach; |
  |  | 961 | endif; ?> |
  |  | 962 |  |
  |  | 963 | <?php foreach ( $group['settings'] as $setting\_id => $setting ) : |
  |  | 964 | if ( isset( $setting['validation'] ) ) : ?> |
  |  | 965 | <div class="mega-validation-message mega-validation-message-mega-<?php echo esc\_attr($setting['key']); ?>"> |
  |  | 966 | <?php |
  |  | 967 | if ( $setting['validation'] == 'int' ) { |
  |  | 968 | $message = \_\_("Enter a whole number (e.g. 1, 5, 100, 999)"); |
  |  | 969 | } elseif ( $setting['validation'] == 'px' ) { |
  |  | 970 | $message = \_\_("Enter a value including a unit (e.g. 10px, 10rem, 10%)"); |
  |  | 971 | } elseif ( $setting['validation'] == 'numb' ) { |
  |  | 972 | $message = \_\_("Enter a value including an Integer or Float type"); |
  |  | 973 | } elseif ( $setting['validation'] == 'float' ) { |
  |  | 974 | $message = \_\_("Enter a valid number (e.g. 0.1, 1, 10, 999)"); |
  |  | 975 | } |
  |  | 976 | if ( strlen( $setting['title'] ) ) { |
  |  | 977 | echo esc\_html($setting['title'] . ": " . $message); |
  | 895 | 978 | } else { |
  | 896 |  | echo ~~"<label class='mega-{$setting['key']}'>"~~; |
  |  | 979 | echo esc\_html($message); |
  | 897 | 980 | } |
  | 898 |  | echo "<span class='mega-short-desc'>{$setting['title']}</span>"; |
  | 899 |  |  |
  | 900 |  | switch ( $setting['type'] ) { |
  | 901 |  | case "freetext": |
  | 902 |  | $this->themehunk\_megamenu\_print\_theme\_freetext\_option( $setting['key'] ); |
  | 903 |  | break; |
  | 904 |  | case "number": |
  | 905 |  | $this->themehunk\_megamenu\_print\_theme\_number\_option( $setting['key'] ); |
  | 906 |  | break; |
  | 907 |  | case "textarea": |
  | 908 |  | $this->themehunk\_megamenu\_print\_theme\_textarea\_option( $setting['key'] ); |
  | 909 |  | break; |
  | 910 |  | case "align": |
  | 911 |  | $this->themehunk\_megamenu\_print\_theme\_align\_option( $setting['key'] ); |
  | 912 |  | break; |
  | 913 |  | case "checkbox": |
  | 914 |  | $this->themehunk\_megamenu\_print\_theme\_checkbox\_option( $setting['key'] ); |
  | 915 |  | break; |
  | 916 |  | case "arrow": |
  | 917 |  | $this->themehunk\_megamenu\_print\_theme\_arrow\_option( $setting['key'] ); |
  | 918 |  | break; |
  | 919 |  | case "toggleicon": |
  | 920 |  | $this->themehunk\_megamenu\_print\_theme\_toggle\_icon\_option( $setting['key'] ); |
  | 921 |  | break; |
  | 922 |  | case "color": |
  | 923 |  | $this->themehunk\_megamenu\_print\_theme\_color\_option( $setting['key'] ); |
  | 924 |  | break; |
  | 925 |  | case "weight": |
  | 926 |  | $this->print\_theme\_weight\_option( $setting['key'] ); |
  | 927 |  | break; |
  | 928 |  | case "font": |
  | 929 |  | $this->print\_theme\_font\_option( $setting['key'] ); |
  | 930 |  | break; |
  | 931 |  | case "transform": |
  | 932 |  | $this->print\_theme\_transform\_option( $setting['key'] ); |
  | 933 |  | break; |
  | 934 |  | case "decoration": |
  | 935 |  | $this->print\_theme\_text\_decoration\_option( $setting['key'] ); |
  | 936 |  | break; |
  | 937 |  | case "mobile\_columns": |
  | 938 |  | $this->print\_theme\_mobile\_columns\_option( $setting['key'] ); |
  | 939 |  | break; |
  | 940 |  | case "copy\_color": |
  | 941 |  | $this->print\_theme\_copy\_color\_option( $setting['key'] ); |
  | 942 |  | break; |
  | 943 |  | default: |
  | 944 |  | do\_action("megamenu\_print\_theme\_option\_{$setting['type']}", $setting['key'], $this->id ); |
  | 945 |  | break; |
  | 946 |  | } |
  | 947 |  |  |
  | 948 |  | echo "</label>"; |
  | 949 |  |  |
  | 950 |  | } |
  | 951 |  |  |
  | 952 |  | if ( isset( $group['info'] ) ) { |
  | 953 |  | foreach ( $group['info'] as $paragraph ) { |
  | 954 |  | echo "<div class='mega-info'>{$paragraph}</div>"; |
  | 955 |  | } |
  | 956 |  | } |
  | 957 |  |  |
  | 958 |  | foreach ( $group['settings'] as $setting\_id => $setting ) { |
  | 959 |  | if ( isset( $setting['validation'] ) ) { |
  | 960 |  |  |
  | 961 |  | echo "<div class='mega-validation-message mega-validation-message-mega-{$setting['key']}'>"; |
  | 962 |  |  |
  | 963 |  | if ( $setting['validation'] == 'int' ) { |
  | 964 |  | $message = \_\_("Enter a whole number (e.g. 1, 5, 100, 999)"); |
  | 965 |  | } |
  | 966 |  |  |
  | 967 |  | if ( $setting['validation'] == 'px' ) { |
  | 968 |  | $message = \_\_("Enter a value including a unit (e.g. 10px, 10rem, 10%)"); |
  | 969 |  | } |
  | 970 |  | if ( $setting['validation'] == 'numb' ) { |
  | 971 |  | $message = \_\_("Enter a value including a Integer or Float type"); |
  | 972 |  | } |
  | 973 |  |  |
  | 974 |  | if ( $setting['validation'] == 'float' ) { |
  | 975 |  | $message = \_\_("Enter a valid number (e.g. 0.1, 1, 10, 999)"); |
  | 976 |  | } |
  | 977 |  |  |
  | 978 |  | if ( strlen( $setting['title'] ) ) { |
  | 979 |  | echo $setting['title'] . ": " . $message; |
  | 980 |  | } else { |
  | 981 |  | echo $message; |
  | 982 |  | } |
  | 983 |  |  |
  | 984 |  | echo "</div>"; |
  | 985 |  | } |
  | 986 |  | } |
  | 987 |  |  |
  | 988 |  | echo "</td>"; |
  | 989 |  | } else { |
  | 990 |  | echo "<td colspan='2'><h5>{$group['title']}</h5></td>"; |
  | 991 |  | } |
  | 992 |  |  |
  | 993 |  | echo "</tr>"; |
  | 994 |  |  |
  | 995 |  | } |
  | 996 |  |  |
  | 997 |  | echo "</table>"; |
  | 998 |  | echo "</div>"; |
  | 999 |  | } |
  | 1000 |  |  |
  | 1001 |  | ?> |
  |  | 981 | ?> |
  |  | 982 | </div> |
  |  | 983 | <?php endif; |
  |  | 984 | endforeach; ?> |
  |  | 985 | </td> |
  |  | 986 | <?php else : ?> |
  |  | 987 | <td colspan="2"><h5><?php echo esc\_attr($group['title']); ?></h5></td> |
  |  | 988 | <?php endif; ?> |
  |  | 989 |  |
  |  | 990 | </tr> |
  |  | 991 | <?php endforeach; ?> |
  |  | 992 | </table> |
  |  | 993 | </div> |
  |  | 994 | <?php endforeach; ?> |
  |  | 995 |  |
  | 1002 | 996 | <div class='megamenu\_submit'> |
  | 1003 | 997 | <div class='mega\_left'> |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L1005) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L999) |  |
  | 1005 | 999 | </div> |
  | 1006 | 1000 | <div class='mega\_right'> |
  | 1007 |  | <a class='reset confirm' href='<?php echo ~~$reset\_url~~; ?>'><?php \_e("Reset Option", "themehunk-megamenu"); ?></a> |
  |  | 1001 | <a class='reset confirm' href='<?php echo esc\_url($reset\_url); ?>'><?php \_e("Reset Option", "themehunk-megamenu"); ?></a> |
  | 1008 | 1002 | </div> |
  | 1009 | 1003 | </div> |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L1035) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L1029) |  |
  | 1035 | 1029 | <ul class='ul-disc'> |
  | 1036 | 1030 | <?php |
  | 1037 |  | foreach ( $active\_plugins as $name ) { |
  | 1038 |  | ~~echo "<li>" . $name . "</li>";~~ |
  | 1039 |  | } |
  |  | 1031 | foreach ( $active\_plugins as $name ) {?> |
  |  | 1032 | <li><?php echo esc\_html($name);?></li> |
  |  | 1033 | <?php  } |
  | 1040 | 1034 | ?> |
  | 1041 | 1035 | </ul> |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L1079) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L1073) |  |
  | 1079 | 1073 |  |
  | 1080 | 1074 | $value = $this->active\_theme[$key]; |
  | 1081 |  |  |
  | 1082 |  | echo "<input class='mega-setting-{$key}' type='text' name='settings[$key]' value='{$value}' />"; |
  | 1083 |  |  |
  | 1084 |  | } |
  |  | 1075 |  |
  |  | 1076 | ?> |
  |  | 1077 |  |
  |  | 1078 | <input class='mega-setting-<?php echo esc\_attr($key); ?>' type='text' name='settings[<?php echo esc\_attr($key); ?>]' value='<?php echo esc\_attr($value); ?>' /> |
  |  | 1079 |  |
  |  | 1080 | <?php } |
  | 1085 | 1081 | /\*\* |
  | 1086 | 1082 | \* Print a number input |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L1093) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L1089) |  |
  | 1093 | 1089 |  |
  | 1094 | 1090 | $value = $this->active\_theme[$key]; |
  | 1095 |  |  |
  | 1096 |  | echo "<input class='mega-setting-{$key}' type='number' name='settings[$key]' value='{$value}' />"; |
  | 1097 |  |  |
  | 1098 |  | } |
  |  | 1091 | ?> |
  |  | 1092 |  |
  |  | 1093 | <input class='mega-setting-<?php echo esc\_attr($key); ?>' type='number' name='settings[<?php echo esc\_attr($key); ?>]' value='<?php echo esc\_attr($value); ?>' /> |
  |  | 1094 |  |
  |  | 1095 | <?php  } |
  | 1099 | 1096 | /\*\* |
  | 1100 | 1097 | \* Print a colorpicker |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L1118) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L1115) |  |
  | 1118 | 1115 | } |
  | 1119 | 1116 |  |
  | 1120 |  | echo "<input type='text' class='color\_picker' name='settings[$key]' value='{$value}' style='background:{$value}' />"; |
  | 1121 |  |  |
  | 1122 |  | } |
  |  | 1117 | ?> |
  |  | 1118 | <input type='text' class='color\_picker' name='settings[<?php echo esc\_attr($key); ?>]' value='<?php echo esc\_attr($value); ?>' style='background:<?php echo esc\_attr($value); ?>' /> |
  |  | 1119 |  |
  |  | 1120 | <?php } |
  | 1123 | 1121 | /\*\* |
  | 1124 | 1122 | \* Print a select dropdown with left, center and right options |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L1155) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L1153) |  |
  | 1155 | 1153 | ?> |
  | 1156 | 1154 |  |
  | 1157 |  | <input type='hidden' name='checkboxes[<?php echo ~~$key~~ ?>]' /> |
  | 1158 |  | <input type='checkbox' name='settings[<?php echo ~~$key~~ ?>]' <?php checked( $value, 'on' ); ?> /> |
  |  | 1155 | <input type='hidden' name='checkboxes[<?php echo esc\_attr($key); ?>]' /> |
  |  | 1156 | <input type='checkbox' name='settings[<?php echo esc\_attr($key); ?>]' <?php checked( $value, 'on' ); ?> /> |
  | 1159 | 1157 |  |
  | 1160 | 1158 | <?php |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L1171) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L1169) |  |
  | 1171 | 1169 | $value = $this->active\_theme[$key]; |
  | 1172 | 1170 | ?> |
  | 1173 |  | <textarea id='codemirror' name='settings[<?php echo ~~$key~~ ?>]'><?php echo stripslashes( $value ) ?></textarea> |
  |  | 1171 | <textarea id='codemirror' name='settings[<?php echo esc\_attr($key); ?>]'><?php echo stripslashes( $value ) ?></textarea> |
  | 1174 | 1172 | <?php |
  | 1175 | 1173 | } |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L1220) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L1218) |  |
  | 1220 | 1218 |  |
  | 1221 | 1219 | ?> |
  | 1222 |  | <select class='icon\_dropdown' name='settings[<?php echo $key ?>]'> |
  | 1223 |  | <?php |
  | 1224 |  |  |
  | 1225 |  | echo "<option value='disabled'>" . \_\_("Disabled", "themehunk-megamenu") . "</option>"; |
  | 1226 |  | foreach ($themehunk\_megamenu\_arrow\_icons as $code => $class) { |
  |  | 1220 | <select class='icon\_dropdown' name='settings[<?php echo esc\_attr($key); ?>]'> |
  |  | 1221 | <option value='disabled'><?php \_\_("Disabled", "themehunk-megamenu");?></option> |
  |  | 1222 | <?php foreach ($themehunk\_megamenu\_arrow\_icons as $code => $class) { |
  | 1227 | 1223 | $name = str\_replace('dashicons-', '', $class); |
  | 1228 |  | $name = ucwords(str\_replace(array('-','arrow'), ' ', $name)); |
  | 1229 |  | echo "<option data-class='{$class}' value='{$code}' " . selected( $value, $code, false ) . ">" . $name . "</option>"; |
  | 1230 |  | } |
  | 1231 |  |  |
  | 1232 |  | ?> |
  |  | 1224 | $name = ucwords(str\_replace(array('-','arrow'), ' ', $name));?> |
  |  | 1225 | <option data-class='<?php echo esc\_attr($class);?>' value='<?php echo esc\_attr($code);?>'<?php echo selected( $value, $code, false );?>><?php echo esc\_html($name); ?></option> |
  |  | 1226 | <?php }?> |
  | 1233 | 1227 | </select> |
  | 1234 |  |  |
  | 1235 | 1228 | <?php |
  | 1236 | 1229 | } |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L1274) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L1267) |  |
  | 1274 | 1267 | ?> |
  | 1275 | 1268 | <select class='icon\_dropdown' name='settings[<?php echo esc\_attr($key); ?>]'> |
  | 1276 |  | <?php |
  | 1277 |  |  |
  | 1278 |  | echo "<option value='disabled'>" . \_\_("Disabled", "themehunk-megamenu") . "</option>"; |
  | 1279 |  | foreach ($themehunk\_megamenu\_toggle\_icons as $code => $class) { |
  |  | 1269 | <option value='disabled'><?php \_\_("Disabled", "themehunk-megamenu");?></option> |
  |  | 1270 | <?php foreach ($themehunk\_megamenu\_toggle\_icons as $code => $class) { |
  | 1280 | 1271 | $name = str\_replace('dashicons-', '', $class); |
  | 1281 |  | $name = ucwords(str\_replace(array('-','icon'), ' ', $name)); |
  | 1282 |  | echo "<option data-class='{$class}' value='{$code}' " . selected( $value, $code, false ) . ">" . $name . "</option>"; |
  | 1283 |  | } |
  | 1284 |  |  |
  |  | 1272 | $name = ucwords(str\_replace(array('-','icon'), ' ', $name));?> |
  |  | 1273 | <option data-class='<?php echo esc\_attr($class);?>' value='<?php echo esc\_attr($code);?>' <?php echo selected( $value, $code, false );?>><?php echo esc\_html($name);?></option> |
  |  | 1274 | <?php  } |
  | 1285 | 1275 | ?> |
  | 1286 | 1276 | </select> |
  | 1287 |  |  |
  | 1288 | 1277 | <?php |
  | 1289 | 1278 | } |
  | […](/browser/themehunk-megamenu-plus/trunk/inc/megamenu-setting.php?rev=2844419#L1298) | […](/browser/themehunk-megamenu-plus/tags/1.1.0/inc/megamenu-setting.php?rev=3156084#L1287) |  |
  | 1298 | 1287 | \*/ |
  | 1299 | 1288 | private function themehunk\_megamenu\_compare\_elems( $elem1, $elem2 ) { |
  | 1300 |  |  |
  | 1301 |  | return $elem1['priority'] > $elem2['priority']; |
  | 1302 |  |  |
  |  | 1289 | if ( $elem1['priority'] == $elem2['priority'] ) { |
  |  | 1290 | return 0; |
  |  | 1291 | } |
  |  | 1292 | return ( $elem1['priority'] > $elem2['priority'] ) ? 1 : -1; |
  | 1303 | 1293 | } |
  | 1304 | 1294 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3156084)
* [Zip Archive](?format=zip&new=3156084)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

