
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FeProsima%2FFast-DDS%2Fissues%2F3236)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FeProsima%2FFast-DDS%2Fissues%2F3236)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=eProsima%2FFast-DDS)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[eProsima](/eProsima)
/
**[Fast-DDS](/eProsima/Fast-DDS)**
Public

* [Notifications](/login?return_to=%2FeProsima%2FFast-DDS) You must be signed in to change notification settings
* [Fork
  787](/login?return_to=%2FeProsima%2FFast-DDS)
* [Star
   2.3k](/login?return_to=%2FeProsima%2FFast-DDS)

* [Code](/eProsima/Fast-DDS)
* [Issues
  48](/eProsima/Fast-DDS/issues)
* [Pull requests
  78](/eProsima/Fast-DDS/pulls)
* [Discussions](/eProsima/Fast-DDS/discussions)
* [Actions](/eProsima/Fast-DDS/actions)
* [Projects
  0](/eProsima/Fast-DDS/projects)
* [Security](/eProsima/Fast-DDS/security)
* [Insights](/eProsima/Fast-DDS/pulse)

Additional navigation options

* [Code](/eProsima/Fast-DDS)
* [Issues](/eProsima/Fast-DDS/issues)
* [Pull requests](/eProsima/Fast-DDS/pulls)
* [Discussions](/eProsima/Fast-DDS/discussions)
* [Actions](/eProsima/Fast-DDS/actions)
* [Projects](/eProsima/Fast-DDS/projects)
* [Security](/eProsima/Fast-DDS/security)
* [Insights](/eProsima/Fast-DDS/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FeProsima%2FFast-DDS%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FeProsima%2FFast-DDS%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Assertion failure in SequenceNumber.h via malformed SPDP packet only when compiled in logging-enabled (Debug) mode #3236

Closed

1 task done

[squizz617](/squizz617) opened this issue
Jan 19, 2023
· 5 comments
 · Fixed by [#3274](https://github.com/eProsima/Fast-DDS/pull/3274)

Closed

1 task done

# [Assertion failure in SequenceNumber.h via malformed SPDP packet only when compiled in logging-enabled (Debug) mode](#top) #3236

[squizz617](/squizz617) opened this issue
Jan 19, 2023
· 5 comments
 · Fixed by [#3274](https://github.com/eProsima/Fast-DDS/pull/3274)

Labels
[bug](/eProsima/Fast-DDS/labels/bug)
Issue to report a bug

## Comments

[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=80&v=4)](/squizz617)

Copy link

Contributor

### **[squizz617](/squizz617)** commented [Jan 19, 2023](#issue-1550082318) • edited Loading

| Is there an already existing issue for this?  * I have searched the existing issues  Expected behavior Malformed submessages handled gracefully. Current behavior I came across two following issues.   1. An SPDP payload with a malformed heartbeat submessage triggers an assertion failure at `fastrtps/include/fastdds/rtps/common/SequenceNumber.h:247`. 2. This only happens when fastrtps is compiled with the following CMake arguments for logging:  ``` --cmake-args -DCMAKE_BUILD_TYPE=Debug -DLOG_NO_INFO=OFF -DINTERNAL_DEBUG=ON -DLOG_CONSUMER_DEFAULT=STDOUT -DLOG_NO_WARNING=OFF -DLOG_NO_ERROR=OFF  ``` Steps to reproduce  1. Build fastdds v2.9.0 and HelloWorldExample with logging (Debug mode)  ``` mkdir -p ~/fastdds-log/src cd ~/fastdds-log wget https://raw.githubusercontent.com/eProsima/Fast-DDS/v2.9.0/fastrtps.repos vcs import src < fastrtps.repos colcon build --cmake-args -DCMAKE_BUILD_TYPE=Debug -DLOG_NO_INFO=OFF -DINTERNAL_DEBUG=ON -DLOG_CONSUMER_DEFAULT=STDOUT -DLOG_NO_WARNING=OFF -DLOG_NO_ERROR=OFF source install/setup.sh cd src/fastrtps/examples/cpp/dds/HelloWorldExample cmake . make  ```  2. Build fastdds v2.9.0 and HelloWorldExample without logging  ``` mkdir -p ~/fastdds-nolog/src cd ~/fastdds-nolog wget https://raw.githubusercontent.com/eProsima/Fast-DDS/v2.9.0/fastrtps.repos vcs import src < fastrtps.repos colcon build source install/setup.sh cd src/fastrtps/examples/cpp/dds/HelloWorldExample cmake . make  ```  3. Launch `DDSHelloWorldExample` with logging and send the malformed packet     * Launching:    ```    source ~/fastdds-log/install/setup.sh && ~/fastdds-log/src/fastrtps/examples/cpp/dds/HelloWorldExample/DDSHelloWorldExample publisher        ```    * Hexdump of the SPDP packet to send (to `239.255.0.1:7400`):    ```    0000  45 00 00 68 00 01 40 00 40 11 D9 76 80 3D F0 CF  E..h..@.@..v.=..    0010  EF FF 00 01 05 39 1C E8 00 54 08 B9 52 54 50 53  .....9...T..RTPS    0020  02 04 01 0F 01 03 02 42 AC 11 00 02 45 E5 E2 FD  .......B....E...    0030  07 BF 34 00 00 00 10 00 00 00 00 00 00 01 00 C2  ..4.............    0040  00 00 00 00 A7 9B EA 8C BE ED DC CB 00 03 00 00  ................    0050  77 00 04 00 00 00 00 00 00 00 00 00 00 00 00 00  w...............    0060  00 00 00 00 00 00 00 00                          ........        ```    * Result after sending the packet:    ```    Starting     Publisher running 10 samples.    DDSHelloWorldExample: /home/seulbae/fastdds-log/src/fastrtps/include/fastdds/rtps/common/SequenceNumber.h:247: eprosima::fastrtps::rtps::SequenceNumber_t eprosima::fastrtps::rtps::operator-(const eprosima::fastrtps::rtps::SequenceNumber_t&, uint32_t): Assertion `0 < res.high' failed.    [1]    3561127 abort       publisher        ```     Assertion failure has been triggered! 4. Launch `DDSHelloWorldExample` without logging and send the malformed packet     * Launching:    ```    source ~/fastdds-nolog/install/setup.sh && ~/fastdds-nolog/src/fastrtps/examples/cpp/dds/HelloWorldExample/DDSHelloWorldExample publisher        ```    * Send the same SPDP packet    * Result after sending:    ```    Starting     Publisher running 10 samples.        ```     No assertion failure this time..  Fast DDS version/commit Tag v2.9.0 ([4c55488](https://github.com/eProsima/Fast-DDS/commit/4c55488d6225283b2e2114438a1bd726411876e7)) Platform/Architecture Ubuntu Focal 20.04 amd64 Transport layer Default configuration, UDPv4 & SHM Additional context Alternatively, you can directly use [this PoC](https://gist.github.com/squizz617/e558b28c1005c6ad96db1856f49d8263) to quickly test the behavior. But make sure to compile this with an afl compiler (e.g., `afl-clang-fast++`) or manually enable the `FUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION` flag to keep `participantGuidPrefix` uninitialized.  Thank you. XML configuration file *No response* Relevant log output *No response* Network traffic capture *No response* |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617)
[squizz617](/squizz617)
added
the
[triage](/eProsima/Fast-DDS/labels/triage)
Issue pending classification
label
[Jan 19, 2023](#event-8316997695)

[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=80&v=4)](/squizz617)

Copy link

Contributor

Author

### **[squizz617](/squizz617)** commented [Jan 20, 2023](#issuecomment-1398619273)

| [Update] sharing my analysis. Seems like the culprit is the compiler optimization.  The heartbeat submessage has bad sequence numbers, i.e.,  ``` firstSN.high = 0xc2000100 // -1040187136 firstSN.low = 0x00  lastSN.high = 0x8cea9ba7 lastSN.low = 0xcbdcedbe  ```  The sanity check line at [MessageReceiver.cpp:1057](https://github.com/eProsima/Fast-DDS/blob/v2.9.0/src/cpp/rtps/messages/MessageReceiver.cpp#L1059), invokes the `-` operator (`firstSN - 1`):  ``` inline SequenceNumber_t operator -(         const SequenceNumber_t& seq,         const uint32_t inc) noexcept {     SequenceNumber_t res(seq.high, seq.low - inc);      if (inc > seq.low)     {         // Being the type of the parameter an 'uint32_t', the decrement of 'high' will be as much as 1.         assert(0 < res.high);         --res.high;     }      return res; }  ```  in which `inc (== 1) > seq.low (== 0)` is `false` and the assert() inside is triggered as `0 < res.high (== -1040187136)` is `false`.  However, when built with default config using `colcon` and `cmake`, which sets -O2 or -O3, the check is replaced with other instructions and the block is never executed, hence no assertion failure. More info about this is [here](https://docs.google.com/presentation/d/1PJFdG4h-NOe2xpVVqw7CRxDXx53i8W0PHR4i2M36AWQ/edit?usp=sharing) (pages 5-9). |
| --- |

All reactions

Sorry, something went wrong.

[![@MiguelCompany](https://avatars.githubusercontent.com/u/36661117?s=40&u=ce8c3186cb89acbd67321779ec0265209da35c6c&v=4)](/MiguelCompany)
[MiguelCompany](/MiguelCompany)
added
[bug](/eProsima/Fast-DDS/labels/bug)
Issue to report a bug
and removed
[triage](/eProsima/Fast-DDS/labels/triage)
Issue pending classification
labels
[Jan 31, 2023](#event-8400380510)

[![@MiguelCompany](https://avatars.githubusercontent.com/u/36661117?s=80&u=ce8c3186cb89acbd67321779ec0265209da35c6c&v=4)](/MiguelCompany)

Copy link

Member

### **[MiguelCompany](/MiguelCompany)** commented [Jan 31, 2023](#issuecomment-1410509275)

| [@squizz617](https://github.com/squizz617) Thank you for the report and the analysis.  We will try to have a regression test and a fix.  I think that MessageReceiver should first check that the received sequences are valid (i.e. they have a positive high part), and then check for `(lastSN + 1) != firstSN`, to avoid calling the substraction operand. |
| --- |

All reactions

Sorry, something went wrong.

[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=80&v=4)](/squizz617)

Copy link

Contributor

Author

### **[squizz617](/squizz617)** commented [Jan 31, 2023](#issuecomment-1410643257)

| Hi [@MiguelCompany](https://github.com/MiguelCompany), thank you for your reply.  I think that MessageReceiver should first check that the received sequences are valid  I agree. Having a validity check on `firstSN.value` is also congruent with what's stated in section 8.3.8.6.3 of [the RTPS specification](https://www.omg.org/spec/DDSI-RTPS/2.5/PDF):  "the submessage is invalid if firstSN.value is zero or negative" |
| --- |

All reactions

Sorry, something went wrong.

[squizz617](/squizz617)
added a commit
to squizz617/Fast-DDS
that referenced
this issue
[Feb 7, 2023](#ref-commit-60c15ed)
[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617)

`[Implement a validity check for firstSN](/squizz617/Fast-DDS/commit/60c15edf9e5ddf813d3ea25fa3ef2ccdae4e11a6 "Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>")`
…

`[60c15ed](/squizz617/Fast-DDS/commit/60c15edf9e5ddf813d3ea25fa3ef2ccdae4e11a6)`

```
Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue [eProsima#3236](https://github.com/eProsima/Fast-DDS/issues/3236).

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
```

[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617)
[squizz617](/squizz617)
mentioned this issue
[Feb 7, 2023](#ref-pullrequest-1573512678)

[Implement a validity check for firstSN
#3274](/eProsima/Fast-DDS/pull/3274)
 Merged

7 tasks

[squizz617](/squizz617)
added a commit
to squizz617/Fast-DDS
that referenced
this issue
[Mar 15, 2023](#ref-commit-ffac167)
[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617)

`[add test input for issue](/squizz617/Fast-DDS/commit/ffac167859455ba450c2bcd029ec9a5f01553a65 "add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>") [eProsima#3236](https://github.com/eProsima/Fast-DDS/issues/3236) [(pr](/squizz617/Fast-DDS/commit/ffac167859455ba450c2bcd029ec9a5f01553a65 "add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>") [eProsima#3274](https://github.com/eProsima/Fast-DDS/pull/3274)[)](/squizz617/Fast-DDS/commit/ffac167859455ba450c2bcd029ec9a5f01553a65 "add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>")`
…

`[ffac167](/squizz617/Fast-DDS/commit/ffac167859455ba450c2bcd029ec9a5f01553a65)`

```
Signed-off-by: Seulbae Kim <squizz617@gmail.com>
```

[![@MiguelCompany](https://avatars.githubusercontent.com/u/36661117?s=40&u=ce8c3186cb89acbd67321779ec0265209da35c6c&v=4)](/MiguelCompany)
[MiguelCompany](/MiguelCompany)
closed this as [completed](/eProsima/Fast-DDS/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#3274](/eProsima/Fast-DDS/pull/3274)
[Mar 16, 2023](#event-8768920989)

[MiguelCompany](/MiguelCompany)
pushed a commit
that referenced
this issue
[Mar 16, 2023](#ref-commit-3aa3ee0)
[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617)

`[Implement a validity check for firstSN (](/eProsima/Fast-DDS/commit/3aa3ee0259deaebe3d578e0ec200947bdfe7d06f "Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>")[#3274](https://github.com/eProsima/Fast-DDS/pull/3274)[)](/eProsima/Fast-DDS/commit/3aa3ee0259deaebe3d578e0ec200947bdfe7d06f "Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>")`
…

`[3aa3ee0](/eProsima/Fast-DDS/commit/3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)`

```
* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236).

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236) (pr [#3274](https://github.com/eProsima/Fast-DDS/pull/3274))

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
```

[mergify](/apps/mergify) bot
pushed a commit
that referenced
this issue
[Mar 16, 2023](#ref-commit-749e2a1)
[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617) [![@mergify](https://avatars.githubusercontent.com/in/10562?s=40&v=4)](/marketplace/mergify)

`[Implement a validity check for firstSN (](/eProsima/Fast-DDS/commit/749e2a161d1caeb3c126f8e3fd15995c6a0d360b "Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)")[#3274](https://github.com/eProsima/Fast-DDS/pull/3274)[)](/eProsima/Fast-DDS/commit/749e2a161d1caeb3c126f8e3fd15995c6a0d360b "Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)")`
…

`[749e2a1](/eProsima/Fast-DDS/commit/749e2a161d1caeb3c126f8e3fd15995c6a0d360b)`

```
* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236).

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236) (pr [#3274](https://github.com/eProsima/Fast-DDS/pull/3274))

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit [3aa3ee0](https://github.com/eProsima/Fast-DDS/commit/3aa3ee0259deaebe3d578e0ec200947bdfe7d06f))
```

[mergify](/apps/mergify) bot
pushed a commit
that referenced
this issue
[Mar 16, 2023](#ref-commit-083e082)
[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617) [![@mergify](https://avatars.githubusercontent.com/in/10562?s=40&v=4)](/marketplace/mergify)

`[Implement a validity check for firstSN (](/eProsima/Fast-DDS/commit/083e0826d9413cde74a291359155e98ccc851716 "Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)")[#3274](https://github.com/eProsima/Fast-DDS/pull/3274)[)](/eProsima/Fast-DDS/commit/083e0826d9413cde74a291359155e98ccc851716 "Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)")`
…

`[083e082](/eProsima/Fast-DDS/commit/083e0826d9413cde74a291359155e98ccc851716)`

```
* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236).

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236) (pr [#3274](https://github.com/eProsima/Fast-DDS/pull/3274))

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit [3aa3ee0](https://github.com/eProsima/Fast-DDS/commit/3aa3ee0259deaebe3d578e0ec200947bdfe7d06f))
```

[mergify](/apps/mergify) bot
pushed a commit
that referenced
this issue
[Mar 16, 2023](#ref-commit-ab754a8)
[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617) [![@mergify](https://avatars.githubusercontent.com/in/10562?s=40&v=4)](/marketplace/mergify)

`[Implement a validity check for firstSN (](/eProsima/Fast-DDS/commit/ab754a8623e5d6b5f551a5b5ef41f1acc9b4651e "Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)")[#3274](https://github.com/eProsima/Fast-DDS/pull/3274)[)](/eProsima/Fast-DDS/commit/ab754a8623e5d6b5f551a5b5ef41f1acc9b4651e "Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)")`
…

`[ab754a8](/eProsima/Fast-DDS/commit/ab754a8623e5d6b5f551a5b5ef41f1acc9b4651e)`

```
* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236).

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236) (pr [#3274](https://github.com/eProsima/Fast-DDS/pull/3274))

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit [3aa3ee0](https://github.com/eProsima/Fast-DDS/commit/3aa3ee0259deaebe3d578e0ec200947bdfe7d06f))
```

[MiguelCompany](/MiguelCompany)
pushed a commit
that referenced
this issue
[Mar 22, 2023](#ref-commit-6bc2f80)
[![@mergify](https://avatars.githubusercontent.com/in/10562?s=40&v=4)](/marketplace/mergify) [![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617)

`[Implement a validity check for firstSN (](/eProsima/Fast-DDS/commit/6bc2f8048eb9760dcbd148bdb73492e58da8eb1e "Implement a validity check for firstSN (#3382)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)

Co-authored-by: Seulbae Kim <squizz617@gmail.com>")[#3382](https://github.com/eProsima/Fast-DDS/pull/3382)[)](/eProsima/Fast-DDS/commit/6bc2f8048eb9760dcbd148bdb73492e58da8eb1e "Implement a validity check for firstSN (#3382)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)

Co-authored-by: Seulbae Kim <squizz617@gmail.com>")`
…

`[6bc2f80](/eProsima/Fast-DDS/commit/6bc2f8048eb9760dcbd148bdb73492e58da8eb1e)`

```
* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236).

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236) (pr [#3274](https://github.com/eProsima/Fast-DDS/pull/3274))

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit [3aa3ee0](https://github.com/eProsima/Fast-DDS/commit/3aa3ee0259deaebe3d578e0ec200947bdfe7d06f))

Co-authored-by: Seulbae Kim <squizz617@gmail.com>
```

[MiguelCompany](/MiguelCompany)
pushed a commit
that referenced
this issue
[Mar 24, 2023](#ref-commit-e02775a)
[![@mergify](https://avatars.githubusercontent.com/in/10562?s=40&v=4)](/marketplace/mergify) [![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617) [![@Mario-DL](https://avatars.githubusercontent.com/u/116071334?s=40&u=ec089747c3f33adaff62732a4589230c804dd887&v=4)](/Mario-DL)

`[Implement a validity check for firstSN (](/eProsima/Fast-DDS/commit/e02775af226692379e6797907e143fec407d4783 "Implement a validity check for firstSN (#3383)

* Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)

* Refs #17717: Logging Macro fix

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

---------

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>
Co-authored-by: Seulbae Kim <squizz617@gmail.com>
Co-authored-by: Mario Dominguez <mariodominguez@eprosima.com>")[#3383](https://github.com/eProsima/Fast-DDS/pull/3383)[)](/eProsima/Fast-DDS/commit/e02775af226692379e6797907e143fec407d4783 "Implement a validity check for firstSN (#3383)

* Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)

* Refs #17717: Logging Macro fix

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

---------

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>
Co-authored-by: Seulbae Kim <squizz617@gmail.com>
Co-authored-by: Mario Dominguez <mariodominguez@eprosima.com>")`
…

`[e02775a](/eProsima/Fast-DDS/commit/e02775af226692379e6797907e143fec407d4783)`

```
* Implement a validity check for firstSN ([#3274](https://github.com/eProsima/Fast-DDS/pull/3274))

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236).

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236) (pr [#3274](https://github.com/eProsima/Fast-DDS/pull/3274))

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit [3aa3ee0](https://github.com/eProsima/Fast-DDS/commit/3aa3ee0259deaebe3d578e0ec200947bdfe7d06f))

* Refs #17717: Logging Macro fix

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

---------

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>
Co-authored-by: Seulbae Kim <squizz617@gmail.com>
Co-authored-by: Mario Dominguez <mariodominguez@eprosima.com>
```

[JLBuenoLopez](/JLBuenoLopez)
pushed a commit
that referenced
this issue
[Apr 11, 2023](#ref-commit-141fa03)
[![@mergify](https://avatars.githubusercontent.com/in/10562?s=40&v=4)](/marketplace/mergify) [![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=40&v=4)](/squizz617) [![@Mario-DL](https://avatars.githubusercontent.com/u/116071334?s=40&u=ec089747c3f33adaff62732a4589230c804dd887&v=4)](/Mario-DL)

`[Implement a validity check for firstSN (backport](/eProsima/Fast-DDS/commit/141fa03097c2f0485e80a6ec980ef6d2e1f2f972 "Implement a validity check for firstSN (backport #3274) (#3384)

* Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)

* Refs #17717: Logging Macro fix

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

---------

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>
Co-authored-by: Seulbae Kim <squizz617@gmail.com>
Co-authored-by: Mario Dominguez <mariodominguez@eprosima.com>") [#3274](https://github.com/eProsima/Fast-DDS/pull/3274)[) (](/eProsima/Fast-DDS/commit/141fa03097c2f0485e80a6ec980ef6d2e1f2f972 "Implement a validity check for firstSN (backport #3274) (#3384)

* Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)

* Refs #17717: Logging Macro fix

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

---------

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>
Co-authored-by: Seulbae Kim <squizz617@gmail.com>
Co-authored-by: Mario Dominguez <mariodominguez@eprosima.com>")[#3384](https://github.com/eProsima/Fast-DDS/pull/3384)[)](/eProsima/Fast-DDS/commit/141fa03097c2f0485e80a6ec980ef6d2e1f2f972 "Implement a validity check for firstSN (backport #3274) (#3384)

* Implement a validity check for firstSN (#3274)

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue #3236.

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue #3236 (pr #3274)

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit 3aa3ee0259deaebe3d578e0ec200947bdfe7d06f)

* Refs #17717: Logging Macro fix

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

---------

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>
Co-authored-by: Seulbae Kim <squizz617@gmail.com>
Co-authored-by: Mario Dominguez <mariodominguez@eprosima.com>")`
…

`[141fa03](/eProsima/Fast-DDS/commit/141fa03097c2f0485e80a6ec980ef6d2e1f2f972)`

```
* Implement a validity check for firstSN ([#3274](https://github.com/eProsima/Fast-DDS/pull/3274))

* Implement a validity check for firstSN

Following 8.3.8.6.3 of DDS-RTPS 2.5.
This fixes issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236).

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* fix typo

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

* add test input for issue [#3236](https://github.com/eProsima/Fast-DDS/issues/3236) (pr [#3274](https://github.com/eProsima/Fast-DDS/pull/3274))

Signed-off-by: Seulbae Kim <squizz617@gmail.com>

---------

Signed-off-by: Seulbae Kim <squizz617@gmail.com>
(cherry picked from commit [3aa3ee0](https://github.com/eProsima/Fast-DDS/commit/3aa3ee0259deaebe3d578e0ec200947bdfe7d06f))

* Refs #17717: Logging Macro fix

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

---------

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>
Co-authored-by: Seulbae Kim <squizz617@gmail.com>
Co-authored-by: Mario Dominguez <mariodominguez@eprosima.com>
```

[![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=80&v=4)](/squizz617)

Copy link

Contributor

Author

### **[squizz617](/squizz617)** commented [May 19, 2023](#issuecomment-1554520051)

| Hi [@MiguelCompany](https://github.com/MiguelCompany), could you assign a CVE ID for this issue? A relevant CWE would be CWE-617: Reachable Assertion. |
| --- |

All reactions

Sorry, something went wrong.

[![@carnil](https://avatars.githubusercontent.com/u/773068?s=80&u=54a9fd1cfc2b1abb34a487f17e07eb8a03cecdae&v=4)](/carnil)

Copy link

### **[carnil](/carnil)** commented [Aug 11, 2023](#issuecomment-1675384985)

| CVE-2023-39949 appears to have been assigned for this issue. |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FeProsima%2FFast-DDS%2Fissues%2F3236)

Assignees

No one assigned

Labels

[bug](/eProsima/Fast-DDS/labels/bug)
Issue to report a bug

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [Implement a validity check for firstSN](/eProsima/Fast-DDS/pull/3274)
 [squizz617/Fast-DDS](/squizz617/Fast-DDS)

3 participants

[![@carnil](https://avatars.githubusercontent.com/u/773068?s=52&v=4)](/carnil) [![@squizz617](https://avatars.githubusercontent.com/u/10861633?s=52&v=4)](/squizz617) [![@MiguelCompany](https://avatars.githubusercontent.com/u/36661117?s=52&v=4)](/MiguelCompany)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

