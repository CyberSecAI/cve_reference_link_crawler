Based on the provided content, here's an analysis of CVE-2024-47528:

**Root Cause of Vulnerability:**
The vulnerability stems from insufficient sanitization of SVG files uploaded as custom map backgrounds. Specifically, the application does not properly sanitize SVG files allowing for the inclusion of malicious JavaScript within the uploaded file.

**Weaknesses/Vulnerabilities Present:**
- Stored Cross-Site Scripting (XSS) vulnerability
- Improper sanitization of user-supplied SVG files
- Unrestricted file upload of SVG files with potential malicious content

**Impact of Exploitation:**
- An attacker can execute arbitrary JavaScript code within the context of the application.
- This could lead to various malicious actions, including:
  - Cookie theft
  - Session hijacking
  - Defacement of the application
  - Phishing attacks

**Attack Vectors:**
- Uploading a crafted SVG file containing malicious JavaScript as a custom map background.
- Directly accessing the URL of the uploaded SVG background image.

**Required Attacker Capabilities/Position:**
- The attacker must have an "admin" role within the application to upload custom map backgrounds.
- The attacker needs to be able to craft a malicious SVG file with embedded JavaScript (e.g., using an onload event).
- Access to the URL of the uploaded SVG file is needed to trigger the exploit.

**Additional Details:**
- The vulnerability is present in LibreNMS versions up to 24.6.0.
- The vulnerability is fixed in version 24.9.0
- The provided commit `d959bf1b366319eda16e3cd6dfda8a22beb203be` introduces a fix to sanitize the SVG by utilizing the `enshrined/svg-sanitize` library
- The exploit requires a user to directly visit the background image URL to trigger the XSS because the vulnerable code is located in background image API and not directly used in UI.
- The vulnerability is rated as "Moderate" in severity.
- Only Admin and Global Read role users are affected by the vulnerability.