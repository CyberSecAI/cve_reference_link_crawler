=== Content from www.juniper.net_3ab69132_20250111_103027.html ===


X

![](https://junipernetworks.allegiancetech.com/surveys/images/MRVCXM/juniper_logo.jpg)

Help us improve your experience.

Let us know what you think.

Do you have time for a two-minute survey?

Yes

Maybe Later

Â
##### ON THIS PAGE

* [Syntax](#id-13340801__d890956e30)
* [Hierarchy Level](#id-13340801__d890956e50)
* [Description](#id-13340801__d890956e156)
* [Default](#id-13340801__d890956e167)
* [Options](#id-13340801__d890956e184)
* [Required Privilege Level](#id-13340801__d890956e513)
* [Release Information](#id-13340801__d890956e520)
Â
# traceoptions (Protocols BGP)

## Syntax

```
traceoptions {
    file filename <filesÂ number> <sizeÂ size> <world-readableÂ | no-world-readable>;
    flag flag <flag-modifier> <disable>;
}

```

## Hierarchy Level

```
[edit logical-systems logical-system-name protocols bgp],
[edit logical-systems logical-system-name protocols bgp [group](group-edit-protocols-bgp.html) group-name],
[edit logical-systems logical-system-name protocols bgp [group](group-edit-protocols-bgp.html) group-name neighbor address],
[edit logical-systems logical-system-name routing-instances routing-instance-name protocols bgp],
[edit logical-systems logical-system-name routing-instances routing-instance-name protocols bgp [group](group-edit-protocols-bgp.html) group-name],
[edit logical-systems logical-system-name routing-instances routing-instance-name protocols bgp group group-name [neighbor](neighbor-edit-protocols-bgp.html) address],
[edit protocols bgp],
[edit protocols bgp [group](group-edit-protocols-bgp.html) group-name],
[editÂ protocolsÂ bgpÂ group group-name [neighbor](neighbor-edit-protocols-bgp.html) address],
[edit routing-instances routing-instance-name protocols bgp],
[edit routing-instances routing-instance-name protocols bgp [group](group-edit-protocols-bgp.html) group-name],
[editÂ routing-instances routing-instance-name protocols bgp group group-name [neighbor](neighbor-edit-protocols-bgp.html) address]

```

## Description

Configure BGP protocol-level tracing options. To
specify more than one tracing operation, include multiple flag statements.

Note:

The `traceoptions` statement is not supported
on QFabric systems.

## Default

The default BGP protocol-level tracing options are
inherited from the routing protocols `traceoptions` statement
included at the `[edit routing-options]` hierarchy level.
The default group-level trace options are inherited from the BGP protocol-level `traceoptions` statement. The default peer-level trace options
are inherited from the group-level `traceoptions` statement.

## Options

`disable`â(Optional) Disable
the tracing operation. You can use this option to disable a single
operation when you have defined a broad group of tracing operations,
such as `all`.

`file name`âName of the
file to receive the output of the tracing operation. Enclose the name
within quotation marks. All files are placed in the directory /var/log. We recommend that you place BGP tracing
output in the file bgp-log.

`files number`â(Optional)
Maximum number of trace files. When a trace file named trace-file.0 reaches its maximum
size, it is renamed trace-file.0, then trace-file.1, and so on, until the maximum number of trace
files is reached. Then, the oldest trace file is overwritten. If you
specify a maximum number of files, you must also specify a maximum
file size with the `size` option.

* **Range:** 2 through 1000Â files

* **Default:** 10Â files

`flag`âTracing operation
to perform. To specify more than one tracing operation, include multiple `flag` statements.

BGP Tracing Flags

* `4byte-as`â4-byte AS events.
* `bfd`âBFD protocol events.
* `damping`âDamping operations.
* `graceful-restart`âGraceful restart events.
* `ipsec`âEvents related to IPsec support for BGP peers when the
  IPsec is configured.
* `keepalive`âBGP keepalive messages. If you enable the the BGP
  `update` flag only, received keepalive messages do not
  generate a trace message.
* `nsr-synchronization`âNonstop routing synchronization
  events.
* `open`âOpen packets. These packets are sent between peers when
  they are establishing a connection.
* `packets`âAll BGP protocol packets.
* `refresh`âBGP refresh packets.
* `update`âUpdate packets. These packets provide routing updates
  to BGP systems. If you enable only this flag, received keepalive messages do
  not generate a trace message. Use the `keepalive` flag to
  generate a trace message for keepalive messages.

Global Tracing Flags

* `all`âAll tracing operations
* `general`âA combination of the `normal` and `route` trace operations
* `normal`âAll normal operations

* **Default:** If you do not specify this option, only unusual
  or abnormal operations are traced.

* `policy`âPolicy operations and actions
* `route`âRouting table changes
* `state`âState transitions
* `task`âRouting protocol task processing
* `timer`âRouting protocol timer processing

`flag-modifier`â(Optional)
Modifier for the tracing flag. You can specify one or more of these
modifiers:

* `detail`âProvide detailed trace information.
* `filter`âProvide filter trace information.
  Applies only to `route`, `damping`, and `update` tracing flags.
* `receive`âTrace the packets being received.
* `send`âTrace the packets being transmitted.

`no-world-readable`â(Optional) Prevent any user
from reading the log file.

`size size`â(Optional) Maximum
size of each trace file, inÂ kilobytes (KB),Â megabytes (MB),
orÂ gigabytes (GB). When a trace file named trace-file reaches this size, it is renamed trace-file.0. When the trace-file again reaches its
maximum size, trace-file.0 is renamed trace-file.1 and trace-file is renamed trace-file.0. This renaming scheme continues until the maximum number of trace
files is reached. Then, the oldest trace file is overwritten. If you
specify a maximum file size, you also must specify a maximum number
of trace files with the `files` option.

* **Syntax:** `xk` to specifyÂ KB, `xm` to specifyÂ MB, or `xg` to specifyÂ GB

* **Range:** 10Â KB through the maximum file size supported
  on your system

* **Default:** 128Â KB

`world-readable`â(Optional) Allow any user to
read the log file.

## Required Privilege Level

routing and traceâTo view this statement
in the configuration.

routing-control and trace-controlâTo add this statement
to the configuration.

## Release Information

Statement introduced before Junos OS ReleaseÂ 7.4.

`4byte-as` statement introduced in Junos OS ReleaseÂ 9.2.

`4byte-as` statement introduced in Junos OS Release 9.2 for EX Series
switches.

`ipsec` statement introduced in Junos OS Evolved Release 21.3R1.

### Related Documentation

* [log-updown](log-updown-edit-protocols-bgp.html)
* [Tracing Nonstop Active Routing
  Synchronization Events](../../../../high-availability/topics/task/nsr-synchronization-events-tracing.html)
* [Understanding Trace Operations for BGP Protocol
  Traffic](../../../../bgp/topics/topic-map/bgp-monitoring-protocol.html#id-understanding-trace-operations-for-bgp-protocol-traffic)
* [Configuring OSPF Refresh and Flooding Reduction
  in Stable Topologies](../../../../ospf/topics/topic-map/configuring-ospf-route-control.html#id-configuring-ospf-refresh-and-flooding-reduction-in-stable-topologies)
Â Â

=== Content from supportportal.juniper.net_36138c5b_20250111_103026.html ===
Loading×Sorry to interruptCSS ErrorRefresh
