

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3046066)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3046065 "Changeset 3046065")
* [Next Changeset](/changeset/3046067 "Changeset 3046067") →

---

# Changeset 3046066

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
03/06/2024 05:03:48 AM
([10 months](/timeline?from=2024-03-06T05%3A03%3A48Z&precision=second "See timeline at 03/06/2024 05:03:48 AM") ago)

Author:
CRMPerks
Message:

releasing 1.3.4

Location:
[contact-form-entries/trunk](/browser/contact-form-entries/trunk?rev=3046066)
Files:

4 edited

* [contact-form-entries.php](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3046066 "Show entry in browser")
  (modified)
  ([6 diffs](#file0 "Show differences"))
* [readme.txt](/browser/contact-form-entries/trunk/readme.txt?rev=3046066 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [templates/leads-table.php](/browser/contact-form-entries/trunk/templates/leads-table.php?rev=3046066 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [templates/view.php](/browser/contact-form-entries/trunk/templates/view.php?rev=3046066 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [contact-form-entries/trunk/contact-form-entries.php](/changeset/3046066/contact-form-entries/trunk/contact-form-entries.php "Show the changeset 3046066 restricted to contact-form-entries/trunk/contact-form-entries.php")

  | [r3028640](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3028640#L3 "Show revision 3028640 of this file in browser") | [r3046066](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3046066#L3 "Show revision 3046066 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \* Plugin Name: Contact Form Entries |
  | 4 | 4 | \* Description: Save form submissions to the database from <a href="https://wordpress.org/plugins/contact-form-7/">Contact Form 7</a>, <a href="https://wordpress.org/plugins/ninja-forms/">Ninja Forms</a>, <a href="https://elementor.com/widgets/form-widget/">Elementor Forms</a> and <a href="https://wordpress.org/plugins/wpforms-lite/">WP Forms</a>. |
  | 5 |  | \* Version: 1.3.~~3~~ |
  |  | 5 | \* Version: 1.3.4 |
  | 6 | 6 | \* Requires at least: 3.8 |
  | 7 | 7 | \* Tested up to: 6.4 |
  | […](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3028640#L27) | […](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3046066#L27) |  |
  | 27 | 27 | public static $path = ''; |
  | 28 | 28 |  |
  | 29 |  | public static  $version = '1.3.~~3~~'; |
  |  | 29 | public static  $version = '1.3.4'; |
  | 30 | 30 | public static $upload\_folder = 'crm\_perks\_uploads'; |
  | 31 | 31 | public static $db\_version=''; |
  | […](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3028640#L264) | […](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3046066#L264) |  |
  | 264 | 264 | $table\_id=''; |
  | 265 | 265 | if(!empty($atts['id'])){ |
  | 266 |  | $table\_id='id="'.esc\_attr($atts['~~font-size~~']).'"'; |
  |  | 266 | $table\_id='id="'.esc\_attr($atts['id']).'"'; |
  | 267 | 267 | } |
  | 268 | 268 | //var\_dump($fields); |
  | […](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3028640#L693) | […](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3046066#L693) |  |
  | 693 | 693 | $post\_data=$submission->get\_posted\_data(); |
  | 694 | 694 | //var\_dump($post\_data); die(); |
  | 695 |  | $lead=array(); |
  |  | 695 | $lead=array(); |
  | 696 | 696 | if(is\_array($post\_data)){ |
  | 697 | 697 | foreach($post\_data as $k=>$val){ |
  | […](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3028640#L706) | […](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3046066#L706) |  |
  | 706 | 706 | } |
  | 707 | 707 |  |
  | 708 |  | if( !empty($val) && isset($v['basetype']) && $v['basetype'] == 'mfile' && function\_exists('dnd\_get\_upload\_dir') ){ |
  |  | 708 | //disabled it @feb-2024 , dnd plugin now uses correct file urls |
  |  | 709 | /\*  if( !empty($val) && isset($v['type\_']) && $v['type\_'] == 'mfile' && function\_exists('dnd\_get\_upload\_dir') ){ |
  | 709 | 710 | $dir=dnd\_get\_upload\_dir(); |
  | 710 | 711 | $f\_arr=array(); |
  | 711 | 712 | foreach($val as $file){ |
  | 712 | 713 | $file\_name=explode('/',$file); |
  | 713 |  | if(count($file\_name)>1){ |
  |  | 714 | if(count($file\_name)>1){ var\_dump($file\_name,$file); |
  | 714 | 715 | $f\_arr[]=$dir['upload\_url'].'/'.$file\_name[1]; |
  | 715 | 716 | } |
  | 716 | 717 | } |
  | 717 |  |  |
  |  | 718 |  |
  | 718 | 719 | $val=$f\_arr; |
  | 719 |  | } |
  |  | 720 | }\*/ |
  |  | 721 |  |
  | 720 | 722 | if(!isset($uploaded\_files[$name])){ |
  | 721 | 723 | $val=wp\_unslash($val); |
  | […](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3028640#L1989) | […](/browser/contact-form-entries/trunk/contact-form-entries.php?rev=3046066#L1991) |  |
  | 1989 | 1991 | $field['type\_']=$tag['type']; |
  | 1990 | 1992 | $field['type']=$tag['basetype']; |
  |  | 1993 | if($tag['basetype'] == 'mfile'){ $field['type']='file'; } |
  | 1991 | 1994 | $field['req']=strpos($tag['type'],'\*') !==false ? 'true' : ''; |
  | 1992 | 1995 |  |
* ## [contact-form-entries/trunk/readme.txt](/changeset/3046066/contact-form-entries/trunk/readme.txt "Show the changeset 3046066 restricted to contact-form-entries/trunk/readme.txt")

  | [r3028640](/browser/contact-form-entries/trunk/readme.txt?rev=3028640#L4 "Show revision 3028640 of this file in browser") | [r3046066](/browser/contact-form-entries/trunk/readme.txt?rev=3046066#L4 "Show revision 3046066 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 3.8 |
  | 5 | 5 | Tested up to: 6.4 |
  | 6 |  | Stable tag: 1.3.~~3~~ |
  | 7 |  | Version: 1.3.~~3~~ |
  |  | 6 | Stable tag: 1.3.4 |
  |  | 7 | Version: 1.3.4 |
  | 8 | 8 | Requires PHP: 5.3 |
  | 9 | 9 | License: GPLv3 |
  | […](/browser/contact-form-entries/trunk/readme.txt?rev=3028640#L167) | […](/browser/contact-form-entries/trunk/readme.txt?rev=3046066#L167) |  |
  | 167 | 167 | == Changelog == |
  | 168 | 168 |  |
  |  | 169 | = 1.3.4 = |
  |  | 170 | \* fixed "xss issue with font-size attribute of table". |
  |  | 171 |  |
  | 169 | 172 | = 1.3.3 = |
  | 170 | 173 | \* fixed "ninja forms hidden fields" issue. |
* ## [contact-form-entries/trunk/templates/leads-table.php](/changeset/3046066/contact-form-entries/trunk/templates/leads-table.php "Show the changeset 3046066 restricted to contact-form-entries/trunk/templates/leads-table.php")

  | [r2793027](/browser/contact-form-entries/trunk/templates/leads-table.php?rev=2793027#L19 "Show revision 2793027 of this file in browser") | [r3046066](/browser/contact-form-entries/trunk/templates/leads-table.php?rev=3046066#L19 "Show revision 3046066 of this file in browser") |  |
  | --- | --- | --- |
  | 19 | 19 | $thumb\_width='70';  if(!empty($atts['thumb-width'])){ $thumb\_width=$atts['thumb-width']; } |
  | 20 | 20 | ?> |
  | 21 |  | <table <?php echo $class.' '.$css ?> cellspacing="0" <?php echo ~~esc\_html~~($table\_id) ?>> |
  |  | 21 | <table <?php echo $class.' '.$css ?> cellspacing="0" <?php echo wp\_kses\_post($table\_id) ?>> |
  | 22 | 22 | <thead> |
  | 23 | 23 | <tr> |
* ## [contact-form-entries/trunk/templates/view.php](/changeset/3046066/contact-form-entries/trunk/templates/view.php "Show the changeset 3046066 restricted to contact-form-entries/trunk/templates/view.php")

  | [r2975127](/browser/contact-form-entries/trunk/templates/view.php?rev=2975127#L433 "Show revision 2975127 of this file in browser") | [r3046066](/browser/contact-form-entries/trunk/templates/view.php?rev=3046066#L433 "Show revision 3046066 of this file in browser") |  |
  | --- | --- | --- |
  | 433 | 433 | } |
  | 434 | 434 | } |
  | 435 |  | foreach($fields as $field){ //var\_dump($field['~~base~~type']); |
  |  | 435 | foreach($fields as $field){ //var\_dump($field['type']); |
  | 436 | 436 |  |
  | 437 | 437 | if(!isset($field['name']) || !empty($field['vx\_skip\_edit'])){  continue; } |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3046066)
* [Zip Archive](?format=zip&new=3046066)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

