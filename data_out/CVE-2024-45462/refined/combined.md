=== Content from www.openwall.com_42813938_20250110_151351.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <594420de-814f-b8cb-a4fc-1375fc3914d5@apache.org>
Date: Tue, 15 Oct 2024 18:31:07 +0000
From: Daniel Augusto Veronezi Salvador <gutoveronezi@...che.org>
To: oss-security@...ts.openwall.com
Subject: CVE-2024-45462: Apache CloudStack: Incomplete session invalidation
 on web interface logout

Severity: moderate

Affected versions:

- Apache CloudStack 4.15.1.0 through 4.18.2.3
- Apache CloudStack 4.19.0.0 through 4.19.1.1

Description:

The logout operation in the CloudStack web interface does not expire the user session completely which is valid until expiry by time or restart of the backend service. An attacker that has access to a user's browser can use an unexpired session to gain access to resources owned by the logged out user account. This issue affects Apache CloudStack from 4.15.1.0 through 4.18.2.3; and from 4.19.0.0 through 4.19.1.1.

Users are recommended to upgrade to Apache CloudStack 4.18.2.4 or 4.19.1.2, or later, which addresses this issue.

Credit:

Arthur Souza (reporter)
Felipe Olivaes (reporter)

References:

<https://cloudstack.apache.org/blog/security-release-advisory-4.18.2.4-4.19.1.2>
<https://lists.apache.org/thread/ktsfjcnj22x4kg49ctock3d9tq7jnvlo>
<https://cloudstack.apache.org/>
<https://www.cve.org/CVERecord?id=CVE-2024-45462>

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from lists.apache.org_1ce209f1_20250110_151353.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from cloudstack.apache.org_4deb32d5_20250110_151352.html ===

[Skip to main content](#__docusaurus_skipToContent_fallback)[![apache-cloudstack](/img/navlogo.png)![apache-cloudstack](/img/navlogo.png)](/)About

* [About](/about)
* [History](/history)
* [Features](/features)
* [Who We Are](/who)
* [Community Bylaws](/bylaws)
* [Trademark Guidelines](/trademark-guidelines)
* [Security](/security)
Community

* [Get Involved](/contribute)
* [Developer Resources](/developers)
* [Join Mailing Lists](/mailing-lists)
* [Issues Tracker](https://github.com/apache/cloudstack/issues)
* [Community Slack](https://join.slack.com/t/apachecloudstack/shared_invite/zt-1u8qwbivp-u16HRI~LWioLmF1G2D3Iyg)
* [Events and Meetups](/events)
* [Collab Conference](https://www.cloudstackcollab.org/)
Use Cases

* [Cloud Builders](/cloud-builders)
* [Kubernetes](/kubernetes)
* [Integrations](/integrations)
Users

* [Known Users](/users)
* [Case Studies](/blog/tags/case-studies)
* [Take Survey](https://docs.google.com/forms/d/e/1FAIpQLScPHIRetdt-pxPT62IesXMoQUmhQ8ATGKcYZa507mB9uwzn-Q/viewform)
Documentation

* [CloudStack Documentation](https://docs.cloudstack.apache.org)
* [Project Wiki](https://cwiki.apache.org/confluence/display/CLOUDSTACK/Home)
* [CloudStack Books](https://cwiki.apache.org/confluence/display/CLOUDSTACK/CloudStack%2BBooks)
* [API Documentation](/api/)
[Download](/downloads)[Blog](/blog)`ctrl``K`ASF

* [Foundation](https://www.apache.org/)
* [License](https://www.apache.org/licenses/)
* [Events](https://www.apache.org/events/current-event)
* [Sponsorship](https://www.apache.org/foundation/sponsorship.html)
* [Privacy](https://www.apache.org/foundation/policies/privacy.html)
* [Thanks](https://www.apache.org/foundation/thanks.html)
CloudStack Blog

* [All Posts](/blog)
* [News](/blog/tags/news)
* [Announcements](/blog/tags/announcement)
* [Past Events](/blog/tags/roundup)
* [Case Studies & Integrations](/blog/tags/case-studies)
* [Meet the Community](/blog/tags/community)
# [ADVISORY] Apache CloudStack LTS Security Releases 4.18.2.4 and 4.19.1.2

October 15, 2024[![Daniel Augusto Veronezi Salvador](https://github.com/gutoveronezi.png)](https://github.com/gutoveronezi)[Daniel Augusto Veronezi Salvador](https://github.com/gutoveronezi)PMC Member

[![](/assets/images/banner-7dcc6a308781378075fe899fd9ffe99b.png "Apache CloudStack LTS Security Releases 4.18.2.4 and 4.19.1.2")](/blog/security-release-advisory-4.18.2.4-4.19.1.2)

The Apache CloudStack project announces the release of LTS security releases [4.18.2.4](https://github.com/apache/cloudstack/releases/tag/4.18.2.4) and [4.19.1.2](https://github.com/apache/cloudstack/releases/tag/4.19.1.2) that address the following security issues:

* CVE-2024-45219 (severity 'Important')
* CVE-2024-45461 (severity 'Moderate')
* CVE-2024-45462 (severity 'Moderate')
* CVE-2024-45693 (severity 'Important')

## [CVE-2024-45219](https://www.cve.org/CVERecord?id=CVE-2024-45219): Uploaded and registered templates and volumes can be used to abuse KVM-based infrastructure[â](#cve-2024-45219-uploaded-and-registered-templates-and-volumes-can-be-used-to-abuse-kvm-based-infrastructure "Direct link to cve-2024-45219-uploaded-and-registered-templates-and-volumes-can-be-used-to-abuse-kvm-based-infrastructure")

Account users in Apache CloudStack by default are allowed to upload and register templates for deploying instances and volumes for attaching them as data disks to their existing instances. Due to missing validation checks for KVM-compatible templates or volumes in CloudStack 4.0.0 through 4.18.2.3 and 4.19.0.0 through 4.19.1.1, an attacker that can upload or register templates and volumes, can use them to deploy malicious instances or attach uploaded volumes to their existing instances on KVM-based environments and exploit this to gain access to the host filesystems that could result in the compromise of resource integrity and confidentiality, data loss, denial of service, and availability of KVM-based infrastructure managed by CloudStack.

Users are recommended to upgrade to Apache CloudStack 4.18.2.4 or 4.19.1.2, or later, which addresses this issue.

Additionally, all user-uploaded or registered KVM-compatible templates and volumes can be scanned and checked that they are flat files that should not be using any additional or unnecessary features. For example, operators can run this on their secondary storage(s) and inspect output. An empty output for the disk being validated means it has no references to the host filesystems; on the other hand, if the output for the disk being validated is not empty, it might indicate a compromised disk.

```
for file in $(find /path/to/storage/ -type f -regex [a-f0-9\-]*.*); do echo "Retrieving file [$file] info. If the output is not empty, that might indicate a compromised disk; check it carefully."; qemu-img info -U $file | grep file: ; printf "\n\n"; done

```

The command can also be run for the file-based primary storages; however, bear in mind that (i) volumes created from templates will have references for the templates at first and (ii) volumes can be consolidated while migrating, losing their references to the templates. Therefore, the command execution for the primary storages can show both false positives and false negatives.

For checking the whole template/volume features of each disk, operators can run the following command:

```
for file in $(find /path/to/storage/ -type f -regex [a-f0-9\-]*.*); do echo "Retrieving file [$file] info."; qemu-img info -U $file; printf "\n\n"; done

```
## [CVE-2024-45461](https://www.cve.org/CVERecord?id=CVE-2024-45461): Access checks not enforced in Quota[â](#cve-2024-45461-access-checks-not-enforced-in-quota "Direct link to cve-2024-45461-access-checks-not-enforced-in-quota")

The CloudStack Quota feature allows cloud administrators to implement a quota or usage limit system for cloud resources, and is disabled by default. In environments where the feature is enabled, due to missing access check enforcements, non-administrative CloudStack user accounts are able to access and modify quota-related configurations and data. This issue affects Apache CloudStack from 4.7.0 through 4.18.2.3; and from 4.19.0.0 through 4.19.1.1, where the Quota feature is enabled.

Users are recommended to upgrade to Apache CloudStack 4.18.2.4 or 4.19.1.2, or later, which addresses this issue. Alternatively, users that do not use the Quota feature are advised to disabled the plugin by setting the global setting "quota.enable.service" to "false".

## [CVE-2024-45462](https://www.cve.org/CVERecord?id=CVE-2024-45462): Incomplete session invalidation on web interface logout[â](#cve-2024-45462-incomplete-session-invalidation-on-web-interface-logout "Direct link to cve-2024-45462-incomplete-session-invalidation-on-web-interface-logout")

The logout operation in the CloudStack web interface does not expire the user session completely which is valid until expiry by time or restart of the backend service. An attacker that has access to a user's browser can use an unexpired session to gain access to resources owned by the logged out user account. This issue affects Apache CloudStack from 4.15.1.0 through 4.18.2.3; and from 4.19.0.0 through 4.19.1.1.

Users are recommended to upgrade to Apache CloudStack 4.18.2.4 or 4.19.1.2, or later, which addresses this issue.

## [CVE-2024-45693](https://www.cve.org/CVERecord?id=CVE-2024-45693): Request origin validation bypass makes account takeover possible[â](#cve-2024-45693-request-origin-validation-bypass-makes-account-takeover-possible "Direct link to cve-2024-45693-request-origin-validation-bypass-makes-account-takeover-possible")

Users logged into the Apache CloudStack's web interface can be tricked to submit malicious CSRF requests due to missing validation of the origin of the requests. This can allow an attacker to gain privileges and access to resources of the authenticated users and may lead to account takeover, disruption, exposure of sensitive data and compromise integrity of the resources owned by the user account that are managed by the platform.

This issue affects Apache CloudStack from 4.15.1.0 through 4.18.2.3 and 4.19.0.0 through 4.19.1.1

Users are recommended to upgrade to Apache CloudStack 4.18.2.4 or 4.19.1.2, or later, which addresses this issue.

## Credits[â](#credits "Direct link to Credits")

The CVEs are credited to the following reporters:

* CVE-2024-45219:

  + Daniel Augusto Veronezi Salvador (gutoveronezi@apache.org)
* CVE-2024-45461:

  + FabrÃ­cio Duarte (fabricio.duarte.jr@gmail.com)
* CVE-2024-45462:

  + Arthur Souza
  + Felipe Olivaes
* CVE-2024-45693:

  + Arthur Souza
  + Felipe Olivaes

## Affected versions:[â](#affected-versions "Direct link to Affected versions:")

* CVE-2024-45219:

  + Apache CloudStack 4.0.0 through 4.18.2.3
  + Apache CloudStack 4.0.0 through 4.19.1.1
* CVE-2024-45461:

  + Apache CloudStack 4.7.0 through 4.18.2.3
  + Apache CloudStack 4.7.0 through 4.19.1.1
* CVE-2024-45462:

  + Apache CloudStack 4.15.1.0 through 4.18.2.3
  + Apache CloudStack 4.15.1.0 through 4.19.1.1
* CVE-2024-45693:

  + Apache CloudStack 4.15.1.0 through 4.18.2.3
  + Apache CloudStack 4.15.1.0 through 4.19.1.1

## Resolution[â](#resolution "Direct link to Resolution")

Users are recommended to upgrade to version 4.18.2.4, 4.19.1.2 or later, which addresses these issues. Additionally, users on a version older than 4.19.1.0 are advised to skip 4.19.1.0 and upgrade to 4.19.1.2 instead.

## Downloads and Documentation[â](#downloads-and-documentation "Direct link to Downloads and Documentation")

The official source code for the 4.18.2.4 and 4.19.1.2 releases can be downloaded from the project downloads page:

<https://cloudstack.apache.org/downloads>

The 4.18.2.4 and 4.19.1.2 release notes can be found at:

* <https://docs.cloudstack.apache.org/en/4.18.2.4/releasenotes/about.html>
* <https://docs.cloudstack.apache.org/en/4.19.1.2/releasenotes/about.html>

In addition to the official source code release, individual contributors have also made release packages available on the Apache CloudStack download page, and available at:

* <https://download.cloudstack.org/el/7/>
* <https://download.cloudstack.org/el/8/>
* <https://download.cloudstack.org/el/9/>
* <https://download.cloudstack.org/suse/15/>
* <https://download.cloudstack.org/ubuntu/dists/>
* <https://www.shapeblue.com/cloudstack-packages/>
**Tags:**

* [announcement](/blog/tags/announcement)
[Edit this page](https://github.com/apache/cloudstack-www/tree/main/blog/2024-10-15-security-release-advisory-4.18.2.4-4.19.1.2/index.md)[Newer PostAgenda Released: CloudStack Collaboration Conference 2024](/blog/ccc2024-agenda-revealed)[Older PostCloudStack European User Group 2024 Roundup](/blog/cseug-2024-roundup)

* [CVE-2024-45219: Uploaded and registered templates and volumes can be used to abuse KVM-based infrastructure](#cve-2024-45219-uploaded-and-registered-templates-and-volumes-can-be-used-to-abuse-kvm-based-infrastructure)
* [CVE-2024-45461: Access checks not enforced in Quota](#cve-2024-45461-access-checks-not-enforced-in-quota)
* [CVE-2024-45462: Incomplete session invalidation on web interface logout](#cve-2024-45462-incomplete-session-invalidation-on-web-interface-logout)
* [CVE-2024-45693: Request origin validation bypass makes account takeover possible](#cve-2024-45693-request-origin-validation-bypass-makes-account-takeover-possible)
* [Credits](#credits)
* [Affected versions:](#affected-versions)
* [Resolution](#resolution)
* [Downloads and Documentation](#downloads-and-documentation)
[![Apache CloudStack logo](/img/ACS_logo_slogan.svg)![Apache CloudStack logo](/img/ACS_logo_slogan.svg)](https://cloudstack.apache.org/)
![](/img/mail_mini_icon.svg)
[![](/img/slack_mini_icon.svg)](https://join.slack.com/t/apachecloudstack/shared_invite/zt-2aegc22z7-tPCxpptfcebTBtd59qcZSQ)
[![](/img/git_mini_icon.svg)](https://github.com/apache/cloudstack)
[![](/img/twitter_X_mini_icon.svg)](https://twitter.com/CloudStack)
[![](/img/reddit_icon.svg)](https://www.reddit.com/r/ApacheCloudStack/)
[![](/img/youtube_mini_icon.svg)](https://www.youtube.com/%40ApacheCloudStack)
[![](/img/linkedin_icon.svg)](https://www.linkedin.com/company/apachecloudstack/posts/)

Copyright Â© 2012 - 2024 The Apache
Software Foundation, Licensed under the Apache License, Version 2.0.
âApacheâ, âCloudStackâ, âApache CloudStackâ, the Apache CloudStack logo,
the Apache CloudStack Cloud Monkey logo and the Apache feather logos
are registered trademarks or trademarks of The Apache Software
Foundation.

[Apache CloudStack Trademark Usage](/trademark-guidelines) - [Apache CloudStack Community ByLaws](/bylaws) - [Website Source Code](https://github.com/apache/cloudstack-www)


