

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3150715%2Fwpcodefactory-helper%2Ftags%2F1.7.1%2Fincludes%2Fclass-alg-wpcodefactory-helper-site-key-manager.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3144663/wpcodefactory-helper/trunk/includes/class-alg-wpcodefactory-helper-site-key-manager.php "Changeset 3144663 for wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php")
* Next Change →

---

# Changeset [3150715](/changeset/3150715 "Show full changeset") for [wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php](/browser/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3150715 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
09/12/2024 10:03:01 AM
([4 months](/timeline?from=2024-09-12T10%3A03%3A01Z&precision=second "See timeline at 09/12/2024 10:03:01 AM") ago)

Author:
wpcodefactory
Message:

Update to version 1.7.1 from GitHub

Location:
[wpcodefactory-helper/tags/1.7.1](/browser/wpcodefactory-helper/tags/1.7.1?rev=3150715)
Files:

1 edited
1 copied

* [.](/browser/wpcodefactory-helper/tags/1.7.1?rev=3150715 "Show entry in browser")
  (copied)
  *(copied from [wpcodefactory-helper/trunk](/browser/wpcodefactory-helper/trunk?rev=3144663 "Show original file (revision 3150714)"))*
* [includes/class-alg-wpcodefactory-helper-site-key-manager.php](/browser/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3150715 "Show entry in browser")
  (modified)
  ([8 diffs](#file1 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php](/changeset/3150715/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php "Show the changeset 3150715 restricted to wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php")

  | [r3144663](/browser/wpcodefactory-helper/trunk/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3144663#L3 "Show revision 3144663 of this file in browser") | [r3150715](/browser/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3150715#L3 "Show revision 3150715 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \* WPFactory Helper - Admin Site Key Manager |
  | 4 | 4 | \* |
  | 5 |  | \* @version 1.~~6.0~~ |
  |  | 5 | \* @version 1.7.1 |
  | 6 | 6 | \* @since   1.0.0 |
  | 7 | 7 | \* |
  | […](/browser/wpcodefactory-helper/trunk/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3144663#L244) | […](/browser/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3150715#L244) |  |
  | 244 | 244 | } |
  | 245 | 245 | ?> |
  | 246 |  | <table class="form-table" role="presentation"> |
  | 247 |  | <tbody> |
  | 248 |  | <tr> |
  | 249 |  | <th scope="row"> |
  | 250 |  | <label for="alg\_site\_key"> |
  |  | 246 | <table class="form-table" role="presentation"> |
  |  | 247 | <tbody> |
  |  | 248 | <tr> |
  |  | 249 | <th scope="row"> |
  |  | 250 | <label for="alg\_site\_key"> |
  | 251 | 251 | <?php echo sprintf( esc\_html\_\_( '%s key', 'wpcodefactory-helper' ), $item\_type\_label ); ?> |
  | 252 |  | </label> |
  | 253 |  | </th> |
  | 254 |  | <td> |
  | 255 |  | <form method="post"> |
  | 256 |  | <input style="min-width:300px;" type="text" name="alg\_site\_key" id="alg\_site\_key" |
  | 257 |  | value="<?php echo esc\_attr( $key ); ?>"> |
  | 258 |  | <input type="hidden" name="alg\_item\_slug" value="<?php echo esc\_attr( $item\_slug ); ?>"> |
  | 259 |  | <input class="button-primary" type="submit" name="alg\_set\_site\_key" |
  | 260 |  | value="<?php echo esc\_attr\_\_( 'Set key', 'wpcodefactory-helper' ); ?>"> |
  | 261 |  | <input class="button-primary" type="submit" name="alg\_set\_site\_key\_all" |
  | 262 |  | value="<?php echo esc\_attr\_\_( 'Set this key for all items', 'wpcodefactory-helper' ); ?>" |
  | 263 |  | title="<?php echo esc\_attr\_\_( 'Useful for the &quot;All Plugins Access&quot; users.', 'wpcodefactory-helper' ); ?>" |
  | 264 |  | onclick="return confirm('<?php echo esc\_html\_\_( 'Are you sure?', 'wpcodefactory-helper' ); ?>');"> |
  | 265 |  | <p class="description"> |
  |  | 252 | </label> |
  |  | 253 | </th> |
  |  | 254 | <td> |
  |  | 255 | <form method="post"> |
  |  | 256 | <input style="min-width:300px;" type="text" name="alg\_site\_key" id="alg\_site\_key" |
  |  | 257 | value="<?php echo esc\_attr( $key ); ?>"> |
  |  | 258 | <input type="hidden" name="alg\_item\_slug" value="<?php echo esc\_attr( $item\_slug ); ?>"> |
  |  | 259 | <input class="button-primary" type="submit" name="alg\_set\_site\_key" |
  |  | 260 | value="<?php echo esc\_attr\_\_( 'Set key', 'wpcodefactory-helper' ); ?>"> |
  |  | 261 | <input class="button-primary" type="submit" name="alg\_set\_site\_key\_all" |
  |  | 262 | value="<?php echo esc\_attr\_\_( 'Set this key for all items', 'wpcodefactory-helper' ); ?>" |
  |  | 263 | title="<?php echo esc\_attr\_\_( 'Useful for the &quot;All Plugins Access&quot; users.', 'wpcodefactory-helper' ); ?>" |
  |  | 264 | onclick="return confirm('<?php echo esc\_html\_\_( 'Are you sure?', 'wpcodefactory-helper' ); ?>');"> |
  |  | 265 | <p class="description"> |
  | 266 | 266 | <?php echo sprintf( |
  | 267 | 267 | \_\_( 'Key for %s %s' ), |
  | […](/browser/wpcodefactory-helper/trunk/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3144663#L269) | […](/browser/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3150715#L269) |  |
  | 269 | 269 | esc\_html( strtolower( $item\_type\_label ) ) |
  | 270 | 270 | ); ?> |
  | 271 |  | </p> |
  | 272 |  | </form> |
  | 273 |  | </td> |
  | 274 |  | </tr> |
  | 275 |  | </tbody> |
  | 276 |  | </table> |
  |  | 271 | </p> |
  |  | 272 | </form> |
  |  | 273 | </td> |
  |  | 274 | </tr> |
  |  | 275 | </tbody> |
  |  | 276 | </table> |
  | 277 | 277 | <?php |
  | 278 | 278 | } |
  | […](/browser/wpcodefactory-helper/trunk/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3144663#L286) | […](/browser/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3150715#L286) |  |
  | 286 | 286 | \* output\_admin\_menu. |
  | 287 | 287 | \* |
  | 288 |  | \* @version 1.~~6.0~~ |
  |  | 288 | \* @version 1.7.1 |
  | 289 | 289 | \* @since   1.0.0 |
  | 290 | 290 | \* |
  | […](/browser/wpcodefactory-helper/trunk/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3144663#L298) | […](/browser/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3150715#L298) |  |
  | 298 | 298 | $html = ''; |
  | 299 | 299 | $html .= '<div class="wrap">'; |
  | 300 |  | $html .= '<h2>' . \_\_( 'WPFactory Helper', 'wpcodefactory-helper' ) . '</h2>'; |
  |  | 300 | $html .= '<h2>' . esc\_html\_\_( 'WPFactory Helper', 'wpcodefactory-helper' ) . '</h2>'; |
  | 301 | 301 | $html .= $this->get\_site\_url\_html(); |
  | 302 |  | $html .= apply\_filters(~~'wpfactory\_helper\_plugins\_table\_html\_before',''~~); |
  |  | 302 | $html .= apply\_filters( 'wpfactory\_helper\_plugins\_table\_html\_before', '' ); |
  | 303 | 303 | $html .= $this->get\_key\_setting\_input\_html( $all\_plugins, $all\_themes ); |
  | 304 |  | $html .= '<h2 style="margin-bottom:23px;">' . \_\_( 'WPFactory items', 'wpcodefactory-helper' ) . '</h2>'; |
  |  | 304 | $html .= '<h2 style="margin-bottom:23px;">' . esc\_html\_\_( 'WPFactory items', 'wpcodefactory-helper' ) . '</h2>'; |
  | 305 | 305 |  |
  | 306 | 306 | $table\_data = array(); |
  | […](/browser/wpcodefactory-helper/trunk/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3144663#L310) | […](/browser/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3150715#L310) |  |
  | 310 | 310 | $item\_site\_key = alg\_wpcfh\_get\_site\_key( $plugin\_slug ); |
  | 311 | 311 | $table\_data[]  = array( |
  | 312 |  | \_\_( 'Plugin', 'wpcodefactory-helper' ), |
  | 313 |  | ( isset( $all\_plugins[ $plugin\_file ]['Name'] ) ? $all\_plugins[ $plugin\_file ]['Name'] : $plugin\_slug ), |
  |  | 312 | esc\_html\_\_( 'Plugin', 'wpcodefactory-helper' ), |
  |  | 313 | ( isset( $all\_plugins[ $plugin\_file ]['Name'] ) ? |
  |  | 314 | $all\_plugins[ $plugin\_file ]['Name'] : |
  |  | 315 | $plugin\_slug |
  |  | 316 | ), |
  | 314 | 317 | $this->get\_site\_item\_key\_column( $item\_site\_key, $plugin\_slug ), |
  | 315 |  | '<a class="button button-primary" href="' . add\_query\_arg( array( 'item\_slug' => $plugin\_slug, 'item\_type' => 'plugin' ) ) . '">' . |
  | 316 |  | \_\_( 'Set key', 'wpcodefactory-helper' ) . '</a>' . |
  | 317 |  | ( '' != $item\_site\_key ? ' ' . '<a class="button button-secondary" href="' . add\_query\_arg( array( 'alg\_check\_item\_site\_key' => $plugin\_slug ) ) . '">' . |
  | 318 |  | \_\_( 'Check key', 'wpcodefactory-helper' ) . '</a>' : '' ), |
  |  | 318 | sprintf( |
  |  | 319 | '<a class="button button-primary" href="%s">%s</a>', |
  |  | 320 | esc\_url( add\_query\_arg( array( 'item\_slug' => $plugin\_slug, 'item\_type' => 'plugin' ) ) ), |
  |  | 321 | esc\_html\_\_( 'Set key', 'wpcodefactory-helper' ) |
  |  | 322 | ) . |
  |  | 323 | ( '' != $item\_site\_key ? |
  |  | 324 | ' ' . sprintf( |
  |  | 325 | '<a class="button button-secondary" href="%s">%s</a>', |
  |  | 326 | esc\_url( add\_query\_arg( array( 'alg\_check\_item\_site\_key' => $plugin\_slug ) ) ), |
  |  | 327 | esc\_html\_\_( 'Check key', 'wpcodefactory-helper' ) |
  |  | 328 | ) : |
  |  | 329 | '' |
  |  | 330 | ), |
  | 319 | 331 | ); |
  | 320 | 332 | } |
  | […](/browser/wpcodefactory-helper/trunk/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3144663#L323) | […](/browser/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3150715#L335) |  |
  | 323 | 335 | $item\_site\_key = alg\_wpcfh\_get\_site\_key( $theme\_slug ); |
  | 324 | 336 | $table\_data[]  = array( |
  | 325 |  | \_\_( 'Theme', 'wpcodefactory-helper' ), |
  | 326 |  | ( '' != $all\_themes[ $theme\_slug ]->get( 'Name' ) ? $all\_themes[ $theme\_slug ]->get( 'Name' ) : $theme\_slug ), |
  |  | 337 | esc\_html\_\_( 'Theme', 'wpcodefactory-helper' ), |
  |  | 338 | ( '' != $all\_themes[ $theme\_slug ]->get( 'Name' ) ? |
  |  | 339 | $all\_themes[ $theme\_slug ]->get( 'Name' ) : |
  |  | 340 | $theme\_slug |
  |  | 341 | ), |
  | 327 | 342 | $this->get\_site\_item\_key\_column( $item\_site\_key, $theme\_slug ), |
  | 328 |  | '<a class="button button-primary" href="' . add\_query\_arg( array( 'item\_slug' => $theme\_slug, 'item\_type' => 'theme' ) ) . '">' . |
  | 329 |  | \_\_( 'Set key', 'wpcodefactory-helper' ) . '</a>' . |
  | 330 |  | ( '' != $item\_site\_key ? ' ' . '<a class="button button-secondary" href="' . add\_query\_arg( array( 'alg\_check\_item\_site\_key' => $theme\_slug ) ) . '">' . |
  | 331 |  | \_\_( 'Check key', 'wpcodefactory-helper' ) . '</a>' : '' ), |
  |  | 343 | sprintf( |
  |  | 344 | '<a class="button button-primary" href="%s">%s</a>', |
  |  | 345 | esc\_url( add\_query\_arg( array( 'item\_slug' => $theme\_slug, 'item\_type' => 'theme' ) ) ), |
  |  | 346 | esc\_html\_\_( 'Set key', 'wpcodefactory-helper' ) |
  |  | 347 | ) . |
  |  | 348 | ( '' != $item\_site\_key ? |
  |  | 349 | ' ' . sprintf( |
  |  | 350 | '<a class="button button-secondary" href="%s">%s</a>', |
  |  | 351 | esc\_url( add\_query\_arg( array( 'alg\_check\_item\_site\_key' => $theme\_slug ) ) ), |
  |  | 352 | esc\_html\_\_( 'Check key', 'wpcodefactory-helper' ) |
  |  | 353 | ) : |
  |  | 354 | '' |
  |  | 355 | ), |
  | 332 | 356 | ); |
  | 333 | 357 | } |
  | […](/browser/wpcodefactory-helper/trunk/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3144663#L336) | […](/browser/wpcodefactory-helper/tags/1.7.1/includes/class-alg-wpcodefactory-helper-site-key-manager.php?rev=3150715#L360) |  |
  | 336 | 360 | $table\_data = array\_merge( |
  | 337 | 361 | array( array( |
  | 338 |  | \_\_( 'Type', 'wpcodefactory-helper' ), |
  | 339 |  | \_\_( 'Item', 'wpcodefactory-helper' ), |
  | 340 |  | \_\_( 'Key', 'wpcodefactory-helper' ), |
  | 341 |  | \_\_( 'Actions', 'wpcodefactory-helper' ) ) ), |
  |  | 362 | esc\_html\_\_( 'Type', 'wpcodefactory-helper' ), |
  |  | 363 | esc\_html\_\_( 'Item', 'wpcodefactory-helper' ), |
  |  | 364 | esc\_html\_\_( 'Key', 'wpcodefactory-helper' ), |
  |  | 365 | esc\_html\_\_( 'Actions', 'wpcodefactory-helper' ) ) ), |
  | 342 | 366 | $table\_data |
  | 343 | 367 | ); |
  | 344 |  | $html .= '<div class="wrap">' . $this->get\_table\_html( $table\_data, array( 'table\_class' => 'widefat striped' ) ) . '</div>'; |
  |  | 368 | $html .= '<div class="wrap">' . |
  |  | 369 | $this->get\_table\_html( $table\_data, array( 'table\_class' => 'widefat striped' ) ) . |
  |  | 370 | '</div>'; |
  | 345 | 371 | } else { |
  | 346 |  | $html .= '<p style="font-style:italic;">' . sprintf( \_\_( 'You have no items from %s installed.', 'wpcodefactory-helper' ), |
  | 347 |  | '<a target="\_blank" href="' . alg\_wpcodefactory\_helper()->update\_server . '">' . alg\_wpcodefactory\_helper()->update\_server\_text . '</a>' ) . '</p>'; |
  |  | 372 | $html .= '<p style="font-style:italic;">' . |
  |  | 373 | sprintf( |
  |  | 374 | \_\_( 'You have no items from %s installed.', 'wpcodefactory-helper' ), |
  |  | 375 | '<a target="\_blank" href="' . alg\_wpcodefactory\_helper()->update\_server . '">' . |
  |  | 376 | alg\_wpcodefactory\_helper()->update\_server\_text . |
  |  | 377 | '</a>' |
  |  | 378 | ) . |
  |  | 379 | '</p>'; |
  | 348 | 380 | } |
  | 349 | 381 |  |
  | 350 | 382 | $html .= '<p>' . |
  | 351 |  | '<a class="button button-secondary" style="margin-top:18px;" href="' . add\_query\_arg( array( 'alg\_update\_item\_list' => '1' ) ) . '">' . |
  | 352 |  | \_\_( 'Update item list manually', 'wpcodefactory-helper' ) . |
  | 353 |  | '</a>'; |
  |  | 383 | sprintf( |
  |  | 384 | '<a class="button button-secondary" style="margin-top:18px;" href="%s">%s</a>', |
  |  | 385 | esc\_url( add\_query\_arg( array( 'alg\_update\_item\_list' => '1' ) ) ), |
  |  | 386 | esc\_html\_\_( 'Update item list manually', 'wpcodefactory-helper' ) |
  |  | 387 | ) . |
  |  | 388 | '</p>'; |
  |  | 389 |  |
  | 354 | 390 | $html .= '</div>'; |
  | 355 | 391 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3150715)
* [Zip Archive](?format=zip&new=3150715)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

