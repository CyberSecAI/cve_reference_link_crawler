

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3035169%2540wp-stateless%26old%3D3035169%2540wp-stateless)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3035165/wp-stateless "Changeset 3035165 for wp-stateless")
* [Next Change](/changeset/3064868/wp-stateless "Changeset 3064868 for wp-stateless") →

---

# Changeset [3035169](/changeset/3035169 "Show full changeset") for [wp-stateless](/browser/wp-stateless?rev=3035169 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
02/13/2024 03:19:14 PM
([11 months](/timeline?from=2024-02-13T15%3A19%3A14Z&precision=second "See timeline at 02/13/2024 03:19:14 PM") ago)

Author:
obolgun
Message:

release 3.4.1

Location:
[wp-stateless/trunk](/browser/wp-stateless/trunk?rev=3035169)
Files:

19 edited

* [changelog.txt](/browser/wp-stateless/trunk/changelog.txt?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [changes.md](/browser/wp-stateless/trunk/changes.md?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [lib/classes/class-ajax.php](/browser/wp-stateless/trunk/lib/classes/class-ajax.php?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [lib/classes/class-bootstrap.php](/browser/wp-stateless/trunk/lib/classes/class-bootstrap.php?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [lib/classes/class-errors.php](/browser/wp-stateless/trunk/lib/classes/class-errors.php?rev=3035169 "Show entry in browser")
  (modified)
  ([3 diffs](#file4 "Show differences"))
* [readme.txt](/browser/wp-stateless/trunk/readme.txt?rev=3035169 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [static/scripts/error-notice.js](/browser/wp-stateless/trunk/static/scripts/error-notice.js?rev=3035169 "Show entry in browser")
  (modified)
  ([2 diffs](#file6 "Show differences"))
* [static/scripts/wp-stateless-uploads.js](/browser/wp-stateless/trunk/static/scripts/wp-stateless-uploads.js?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [vendor/composer/installed.json](/browser/wp-stateless/trunk/vendor/composer/installed.json?rev=3035169 "Show entry in browser")
  (modified)
  ([2 diffs](#file8 "Show differences"))
* [vendor/composer/installed.php](/browser/wp-stateless/trunk/vendor/composer/installed.php?rev=3035169 "Show entry in browser")
  (modified)
  ([4 diffs](#file9 "Show differences"))
* [vendor/udx/lib-ud-api-client/changes.md](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/changes.md?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file10 "Show differences"))
* [vendor/udx/lib-ud-api-client/gruntfile.js](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/gruntfile.js?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [vendor/udx/lib-ud-api-client/lib/classes/class-bootstrap.php](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-bootstrap.php?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file12 "Show differences"))
* [vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169 "Show entry in browser")
  (modified)
  ([17 diffs](#file13 "Show differences"))
* [vendor/udx/lib-ud-api-client/package.json](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/package.json?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file14 "Show differences"))
* [vendor/udx/lib-wp-bootstrap/changes.md](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/changes.md?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php?rev=3035169 "Show entry in browser")
  (modified)
  ([4 diffs](#file16 "Show differences"))
* [vendor/udx/lib-wp-bootstrap/static/scripts/ud-dismiss.js](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/static/scripts/ud-dismiss.js?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file17 "Show differences"))
* [wp-stateless-media.php](/browser/wp-stateless/trunk/wp-stateless-media.php?rev=3035169 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wp-stateless/trunk/changelog.txt](/changeset/3035169/wp-stateless/trunk/changelog.txt "Show the changeset 3035169 restricted to wp-stateless/trunk/changelog.txt")

  | [r3023726](/browser/wp-stateless/trunk/changelog.txt?rev=3023726#L1 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/changelog.txt?rev=3035169#L1 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | == Changelog == |
  |  | 2 | = 3.4.1 = |
  |  | 3 | FIX - improve security while processing AJAX requests in Admin Panel |
  |  | 4 |  |
  | 2 | 5 | = 3.4.0 = |
  | 3 | 6 | \* ENHANCEMENT - removed `udx/lib-settings` package dependency for security reasons. |
* ## [wp-stateless/trunk/changes.md](/changeset/3035169/wp-stateless/trunk/changes.md "Show the changeset 3035169 restricted to wp-stateless/trunk/changes.md")

  | [r3023726](/browser/wp-stateless/trunk/changes.md?rev=3023726#L1 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/changes.md?rev=3035169#L1 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | #### 3.4.1 |
  |  | 2 | FIX - improve security while processing AJAX requests in Admin Panel |
  |  | 3 |  |
  | 1 | 4 | #### 3.4.0 |
  | 2 | 5 | \* ENHANCEMENT - removed `udx/lib-settings` package dependency for security reasons. |
* ## [wp-stateless/trunk/lib/classes/class-ajax.php](/changeset/3035169/wp-stateless/trunk/lib/classes/class-ajax.php "Show the changeset 3035169 restricted to wp-stateless/trunk/lib/classes/class-ajax.php")

  | [r2724810](/browser/wp-stateless/trunk/lib/classes/class-ajax.php?rev=2724810#L49 "Show revision 2724810 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/lib/classes/class-ajax.php?rev=3035169#L49 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 49 | 49 | \*/ |
  | 50 | 50 | public function request() { |
  |  | 51 | check\_ajax\_referer('sm\_inline\_sync'); |
  |  | 52 |  |
  | 51 | 53 | global $doing\_manual\_sync; |
  | 52 | 54 |  |
* ## [wp-stateless/trunk/lib/classes/class-bootstrap.php](/changeset/3035169/wp-stateless/trunk/lib/classes/class-bootstrap.php "Show the changeset 3035169 restricted to wp-stateless/trunk/lib/classes/class-bootstrap.php")

  | [r3023726](/browser/wp-stateless/trunk/lib/classes/class-bootstrap.php?rev=3023726#L1217 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/lib/classes/class-bootstrap.php?rev=3035169#L1217 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 1217 | 1217 | /\* Attachment or upload page \*/ |
  | 1218 | 1218 | wp\_register\_script('wp-stateless-uploads-js', $this->path('static/scripts/wp-stateless-uploads.js', 'url'), array('jquery'), self::$version); |
  |  | 1219 | wp\_localize\_script('wp-stateless-uploads-js', 'stateless\_upload', [ |
  |  | 1220 | 'inline\_sync\_nonce' => wp\_create\_nonce('sm\_inline\_sync'), |
  |  | 1221 | ]); |
  | 1219 | 1222 |  |
  | 1220 | 1223 | /\* Setup wizard styles. \*/ |
* ## [wp-stateless/trunk/lib/classes/class-errors.php](/changeset/3035169/wp-stateless/trunk/lib/classes/class-errors.php "Show the changeset 3035169 restricted to wp-stateless/trunk/lib/classes/class-errors.php")

  | [r3023726](/browser/wp-stateless/trunk/lib/classes/class-errors.php?rev=3023726#L182 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/lib/classes/class-errors.php?rev=3035169#L182 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 182 | 182 | "ajaxurl" => admin\_url( 'admin-ajax.php' ), |
  | 183 | 183 | ) ); |
  | 184 |  |  |
  |  | 184 | wp\_localize\_script( "sateless-error-notice-js", "stateless\_error\_notice\_vars", array( |
  |  | 185 | "dismiss\_nonce" => wp\_create\_nonce( 'stateless\_notice\_dismiss' ), |
  |  | 186 | "enable\_action\_nonce" => wp\_create\_nonce( 'stateless\_enable\_notice\_button\_action' ), |
  |  | 187 | ) ); |
  | 185 | 188 |  |
  | 186 | 189 | //\*\* Don't show the message if the user has no enough permissions. \*/ |
  | […](/browser/wp-stateless/trunk/lib/classes/class-errors.php?rev=3023726#L249) | […](/browser/wp-stateless/trunk/lib/classes/class-errors.php?rev=3035169#L252) |  |
  | 249 | 252 | \* @throws \Exception |
  | 250 | 253 | \*/ |
  | 251 |  | public function dismiss\_notices(){ |
  |  | 254 | public function dismiss\_notices() { |
  |  | 255 | check\_ajax\_referer('stateless\_notice\_dismiss'); |
  |  | 256 |  |
  | 252 | 257 | $response = array( |
  | 253 | 258 | 'success' => '0', |
  | 254 | 259 | 'error' => \_\_( 'There was an error in request.', $this->domain ), |
  | 255 | 260 | ); |
  |  | 261 |  |
  | 256 | 262 | $error = false; |
  | 257 | 263 |  |
  | 258 |  | if( empty($\_POST['key']) && strpos($\_POST['key'], 'dismissed\_notice\_') !== false ) { |
  |  | 264 | $option\_key = isset($\_POST['key']) ? sanitize\_key($\_POST['key']) : ''; |
  |  | 265 |  |
  |  | 266 | if ( strpos($option\_key, 'dismissed\_') !== 0 ) { |
  | 259 | 267 | $response['error'] = \_\_( 'Invalid key', $this->domain ); |
  | 260 | 268 | $error = true; |
  | 261 | 269 | } |
  | 262 |  | else { |
  | 263 |  | $option\_key = sanitize\_key($\_POST['key']); |
  | 264 |  | update\_option( $option\_key, time() ); |
  |  | 270 |  |
  |  | 271 | if ( !$error && update\_option( $option\_key, time() ) ) { |
  | 265 | 272 | $response['success'] = '1'; |
  | 266 | 273 | $response['error'] = null; |
  | […](/browser/wp-stateless/trunk/lib/classes/class-errors.php?rev=3023726#L275) | […](/browser/wp-stateless/trunk/lib/classes/class-errors.php?rev=3035169#L282) |  |
  | 275 | 282 | \*/ |
  | 276 | 283 | public function stateless\_enable\_notice\_button\_action(){ |
  |  | 284 | check\_ajax\_referer('stateless\_enable\_notice\_button\_action'); |
  |  | 285 |  |
  | 277 | 286 | $response = array( |
  | 278 | 287 | 'success' => '1', |
* ## [wp-stateless/trunk/readme.txt](/changeset/3035169/wp-stateless/trunk/readme.txt "Show the changeset 3035169 restricted to wp-stateless/trunk/readme.txt")

  | [r3023726](/browser/wp-stateless/trunk/readme.txt?rev=3023726#L6 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/readme.txt?rev=3035169#L6 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Requires PHP: 8.0 |
  | 7 | 7 | Requires at least: 5.0 |
  | 8 |  | Tested up to: 6.4.~~2~~ |
  | 9 |  | Stable tag: 3.4.~~0~~ |
  |  | 8 | Tested up to: 6.4.3 |
  |  | 9 | Stable tag: 3.4.1 |
  | 10 | 10 |  |
  | 11 | 11 | Upload and serve your WordPress media files from Google Cloud Storage. |
  | […](/browser/wp-stateless/trunk/readme.txt?rev=3023726#L113) | […](/browser/wp-stateless/trunk/readme.txt?rev=3035169#L113) |  |
  | 113 | 113 |  |
  | 114 | 114 | == Changelog == |
  |  | 115 | = 3.4.1 = |
  |  | 116 | FIX - improve security while processing AJAX requests in Admin Panel |
  |  | 117 |  |
  | 115 | 118 | = 3.4.0 = |
  | 116 | 119 | \* ENHANCEMENT - removed `udx/lib-settings` package dependency for security reasons. |
* ## [wp-stateless/trunk/static/scripts/error-notice.js](/changeset/3035169/wp-stateless/trunk/static/scripts/error-notice.js "Show the changeset 3035169 restricted to wp-stateless/trunk/static/scripts/error-notice.js")

  | [r2378210](/browser/wp-stateless/trunk/static/scripts/error-notice.js?rev=2378210#L16 "Show revision 2378210 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/static/scripts/error-notice.js?rev=3035169#L16 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | action: 'stateless\_enable\_notice\_button\_action', |
  | 17 | 17 | key: \_this.data('key'), |
  |  | 18 | \_ajax\_nonce: stateless\_error\_notice\_vars.enable\_action\_nonce ?? '', |
  | 18 | 19 | } |
  | 19 | 20 |  |
  | […](/browser/wp-stateless/trunk/static/scripts/error-notice.js?rev=2378210#L42) | […](/browser/wp-stateless/trunk/static/scripts/error-notice.js?rev=3035169#L43) |  |
  | 42 | 43 | action: 'stateless\_notice\_dismiss', |
  | 43 | 44 | key: \_this.data('key'), |
  |  | 45 | \_ajax\_nonce: stateless\_error\_notice\_vars.dismiss\_nonce ?? '', |
  | 44 | 46 | } |
  | 45 | 47 |  |
* ## [wp-stateless/trunk/static/scripts/wp-stateless-uploads.js](/changeset/3035169/wp-stateless/trunk/static/scripts/wp-stateless-uploads.js "Show the changeset 3035169 restricted to wp-stateless/trunk/static/scripts/wp-stateless-uploads.js")

  | [r2378210](/browser/wp-stateless/trunk/static/scripts/wp-stateless-uploads.js?rev=2378210#L20 "Show revision 2378210 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/static/scripts/wp-stateless-uploads.js?rev=3035169#L20 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 20 | 20 | action: that.data('type') == 'image' ? "stateless\_process\_image" : "stateless\_process\_file", |
  | 21 | 21 | id: that.data('id'), |
  | 22 |  | size: that.data('size') |
  |  | 22 | size: that.data('size'), |
  |  | 23 | \_ajax\_nonce: stateless\_upload.inline\_sync\_nonce ?? '', |
  | 23 | 24 | } |
  | 24 | 25 | }) |
* ## [wp-stateless/trunk/vendor/composer/installed.json](/changeset/3035169/wp-stateless/trunk/vendor/composer/installed.json "Show the changeset 3035169 restricted to wp-stateless/trunk/vendor/composer/installed.json")

  | [r3023726](/browser/wp-stateless/trunk/vendor/composer/installed.json?rev=3023726#L265 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/vendor/composer/installed.json?rev=3035169#L265 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 265 | 265 | { |
  | 266 | 266 | "name": "udx/lib-ud-api-client", |
  | 267 |  | "version": "1.2.~~2~~", |
  | 268 |  | "version\_normalized": "1.2.~~2~~.0", |
  |  | 267 | "version": "1.2.3", |
  |  | 268 | "version\_normalized": "1.2.3.0", |
  | 269 | 269 | "source": { |
  | 270 | 270 | "type": "git", |
  | 271 | 271 | "url": "git@github.com:udx/lib-ud-api-client", |
  | 272 |  | "reference": "1.2.~~2~~" |
  | 273 |  | }, |
  | 274 |  | "dist": { |
  | 275 |  | "type": "zip", |
  | 276 |  | "url": "https://github.com/udx/lib-ud-api-client/archive/1.2.~~2~~.zip" |
  |  | 272 | "reference": "1.2.3" |
  |  | 273 | }, |
  |  | 274 | "dist": { |
  |  | 275 | "type": "zip", |
  |  | 276 | "url": "https://github.com/udx/lib-ud-api-client/archive/1.2.3.zip" |
  | 277 | 277 | }, |
  | 278 | 278 | "require": { |
  | […](/browser/wp-stateless/trunk/vendor/composer/installed.json?rev=3023726#L311) | […](/browser/wp-stateless/trunk/vendor/composer/installed.json?rev=3035169#L311) |  |
  | 311 | 311 | { |
  | 312 | 312 | "name": "udx/lib-wp-bootstrap", |
  | 313 |  | "version": "1.3.~~1~~", |
  | 314 |  | "version\_normalized": "1.3.~~1~~.0", |
  |  | 313 | "version": "1.3.2", |
  |  | 314 | "version\_normalized": "1.3.2.0", |
  | 315 | 315 | "source": { |
  | 316 | 316 | "type": "git", |
  | 317 | 317 | "url": "git@github.com:udx/lib-wp-bootstrap", |
  | 318 |  | "reference": "1.3.~~1~~" |
  | 319 |  | }, |
  | 320 |  | "dist": { |
  | 321 |  | "type": "zip", |
  | 322 |  | "url": "https://github.com/udx/lib-wp-bootstrap/archive/1.3.~~1~~.zip" |
  |  | 318 | "reference": "1.3.2" |
  |  | 319 | }, |
  |  | 320 | "dist": { |
  |  | 321 | "type": "zip", |
  |  | 322 | "url": "https://github.com/udx/lib-wp-bootstrap/archive/1.3.2.zip" |
  | 323 | 323 | }, |
  | 324 | 324 | "require": { |
* ## [wp-stateless/trunk/vendor/composer/installed.php](/changeset/3035169/wp-stateless/trunk/vendor/composer/installed.php "Show the changeset 3035169 restricted to wp-stateless/trunk/vendor/composer/installed.php")

  | [r3023726](/browser/wp-stateless/trunk/vendor/composer/installed.php?rev=3023726#L4 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/vendor/composer/installed.php?rev=3035169#L4 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | 'pretty\_version' => 'dev-latest', |
  | 5 | 5 | 'version' => 'dev-latest', |
  | 6 |  | 'reference' => '4~~e811ffcf935c543ab66a31c9562301a405d988d~~', |
  |  | 6 | 'reference' => '4485e93b09271c7d1d632d20406de711e4d8b391', |
  | 7 | 7 | 'type' => 'wordpress-plugin', |
  | 8 | 8 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | […](/browser/wp-stateless/trunk/vendor/composer/installed.php?rev=3023726#L51) | […](/browser/wp-stateless/trunk/vendor/composer/installed.php?rev=3035169#L51) |  |
  | 51 | 51 | ), |
  | 52 | 52 | 'udx/lib-ud-api-client' => array( |
  | 53 |  | 'pretty\_version' => '1.2.~~2~~', |
  | 54 |  | 'version' => '1.2.~~2~~.0', |
  | 55 |  | 'reference' => '1.2.~~2~~', |
  |  | 53 | 'pretty\_version' => '1.2.3', |
  |  | 54 | 'version' => '1.2.3.0', |
  |  | 55 | 'reference' => '1.2.3', |
  | 56 | 56 | 'type' => 'library', |
  | 57 | 57 | 'install\_path' => \_\_DIR\_\_ . '/../udx/lib-ud-api-client', |
  | […](/browser/wp-stateless/trunk/vendor/composer/installed.php?rev=3023726#L60) | […](/browser/wp-stateless/trunk/vendor/composer/installed.php?rev=3035169#L60) |  |
  | 60 | 60 | ), |
  | 61 | 61 | 'udx/lib-wp-bootstrap' => array( |
  | 62 |  | 'pretty\_version' => '1.3.~~1~~', |
  | 63 |  | 'version' => '1.3.~~1~~.0', |
  | 64 |  | 'reference' => '1.3.~~1~~', |
  |  | 62 | 'pretty\_version' => '1.3.2', |
  |  | 63 | 'version' => '1.3.2.0', |
  |  | 64 | 'reference' => '1.3.2', |
  | 65 | 65 | 'type' => 'library', |
  | 66 | 66 | 'install\_path' => \_\_DIR\_\_ . '/../udx/lib-wp-bootstrap', |
  | […](/browser/wp-stateless/trunk/vendor/composer/installed.php?rev=3023726#L71) | […](/browser/wp-stateless/trunk/vendor/composer/installed.php?rev=3035169#L71) |  |
  | 71 | 71 | 'pretty\_version' => 'dev-latest', |
  | 72 | 72 | 'version' => 'dev-latest', |
  | 73 |  | 'reference' => '4~~e811ffcf935c543ab66a31c9562301a405d988d~~', |
  |  | 73 | 'reference' => '4485e93b09271c7d1d632d20406de711e4d8b391', |
  | 74 | 74 | 'type' => 'wordpress-plugin', |
  | 75 | 75 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
* ## [wp-stateless/trunk/vendor/udx/lib-ud-api-client/changes.md](/changeset/3035169/wp-stateless/trunk/vendor/udx/lib-ud-api-client/changes.md "Show the changeset 3035169 restricted to wp-stateless/trunk/vendor/udx/lib-ud-api-client/changes.md")

  | [r3023726](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/changes.md?rev=3023726#L1 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/changes.md?rev=3035169#L1 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | ### 1.2.3 |
  |  | 2 |  |
  |  | 3 | \* Improve security while processing AJAX requests in Admin Panel. |
  |  | 4 |  |
  | 1 | 5 | ### 1.2.2 |
  | 2 | 6 |  |
* ## [wp-stateless/trunk/vendor/udx/lib-ud-api-client/gruntfile.js](/changeset/3035169/wp-stateless/trunk/vendor/udx/lib-ud-api-client/gruntfile.js "Show the changeset 3035169 restricted to wp-stateless/trunk/vendor/udx/lib-ud-api-client/gruntfile.js")

  | [r3023726](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/gruntfile.js?rev=3023726#L3 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/gruntfile.js?rev=3035169#L3 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \* |
  | 4 | 4 | \* @author potanin@UD |
  | 5 |  | \* @version 1.2.~~2~~ |
  |  | 5 | \* @version 1.2.3 |
  | 6 | 6 | \* @param grunt |
  | 7 | 7 | \*/ |
* ## [wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-bootstrap.php](/changeset/3035169/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-bootstrap.php "Show the changeset 3035169 restricted to wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-bootstrap.php")

  | [r3023726](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-bootstrap.php?rev=3023726#L19 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-bootstrap.php?rev=3035169#L19 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 19 | 19 | \* |
  | 20 | 20 | \*/ |
  | 21 |  | public static $version = '1.2.~~2~~'; |
  |  | 21 | public static $version = '1.2.3'; |
  | 22 | 22 |  |
  | 23 | 23 | /\*\* |
* ## [wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php](/changeset/3035169/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php "Show the changeset 3035169 restricted to wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php")

  | [r3011578](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L350 "Show revision 3011578 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L350 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 350 | 350 | $plugins = get\_plugins(); |
  | 351 | 351 | $name = isset( $plugins[$this->name] ) ? $plugins[$this->name]['Name'] : $this->name; |
  |  | 352 | $nonce = wp\_create\_nonce( 'ud\_api\_dismiss' ); |
  | 352 | 353 |  |
  | 353 | 354 | if ( isset( $response->errors['no\_key'] ) && $response->errors['no\_key'] == 'no\_key' && isset( $response->errors['no\_subscription'] ) && $response->errors['no\_subscription'] == 'no\_subscription' ) { |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L356) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L357) |  |
  | 356 | 357 | $show\_no\_key\_error = $this->check\_dismiss\_time( $no\_key\_dismissed ); |
  | 357 | 358 | if( $show\_no\_key\_error ) { |
  | 358 |  | $this->errors[] = sprintf( \_\_( 'A license key for %s could not be found. Maybe you forgot to enter a license key when setting up %s, or the key was deactivated in your account. You can reactivate or purchase a license key from your account <a href="%s" target="\_blank">Licences</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_no\_key" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ); |
  |  | 359 | $this->errors[] = sprintf( \_\_( 'A license key for %s could not be found. Maybe you forgot to enter a license key when setting up %s, or the key was deactivated in your account. You can reactivate or purchase a license key from your account <a href="%s" target="\_blank">Licences</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_no\_key" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ); |
  | 359 | 360 | } |
  | 360 | 361 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L362) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L363) |  |
  | 362 | 363 | $show\_no\_subscription\_error = $this->check\_dismiss\_time( $no\_subscription\_dismissed ); |
  | 363 | 364 | if( $show\_no\_subscription\_error ) { |
  | 364 |  | $this->errors[] = sprintf( \_\_( 'A subscription for %s could not be found. You can purchase a subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_no\_subscription" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ); |
  |  | 365 | $this->errors[] = sprintf( \_\_( 'A subscription for %s could not be found. You can purchase a subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_no\_subscription" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ); |
  | 365 | 366 | } |
  | 366 | 367 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L370) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L371) |  |
  | 370 | 371 | $show\_exp\_license\_error = $this->check\_dismiss\_time( $exp\_license\_dismissed ); |
  | 371 | 372 | if( $show\_exp\_license\_error ) { |
  | 372 |  | $this->errors[] = sprintf( \_\_( 'The license key for %s has expired. You can reactivate or get a license key from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_exp\_license" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ); |
  |  | 373 | $this->errors[] = sprintf( \_\_( 'The license key for %s has expired. You can reactivate or get a license key from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_exp\_license" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ); |
  | 373 | 374 | } |
  | 374 | 375 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L378) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L379) |  |
  | 378 | 379 | $show\_hold\_subscription\_error = $this->check\_dismiss\_time( $hold\_subscription\_dismissed ); |
  | 379 | 380 | if( $show\_hold\_subscription\_error ) { |
  | 380 |  | $this->errors[] = sprintf( \_\_( 'The subscription for %s is on-hold. You can reactivate the subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_hold\_subscription" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ); |
  |  | 381 | $this->errors[] = sprintf( \_\_( 'The subscription for %s is on-hold. You can reactivate the subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_hold\_subscription" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ); |
  | 381 | 382 | } |
  | 382 | 383 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L386) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L387) |  |
  | 386 | 387 | $show\_cancelled\_subscription\_error = $this->check\_dismiss\_time( $cancelled\_subscription\_dismissed ); |
  | 387 | 388 | if( $show\_cancelled\_subscription\_error ) { |
  | 388 |  | $this->errors[] = sprintf( \_\_( 'The subscription for %s has been cancelled. You can renew the subscription from your account <a href="%s" target="\_blank">dashboard</a>. A new license key will be emailed to you after your order has been completed. <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_cancelled\_subscription" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ); |
  |  | 389 | $this->errors[] = sprintf( \_\_( 'The subscription for %s has been cancelled. You can renew the subscription from your account <a href="%s" target="\_blank">dashboard</a>. A new license key will be emailed to you after your order has been completed. <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_cancelled\_subscription" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ); |
  | 389 | 390 | } |
  | 390 | 391 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L394) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L395) |  |
  | 394 | 395 | $show\_exp\_subscription\_error = $this->check\_dismiss\_time( $exp\_subscription\_dismissed ); |
  | 395 | 396 | if( $show\_exp\_subscription\_error ) { |
  | 396 |  | $this->errors[] = sprintf( \_\_( 'The subscription for %s has expired. You can reactivate the subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_exp\_subscription" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ) ; |
  |  | 397 | $this->errors[] = sprintf( \_\_( 'The subscription for %s has expired. You can reactivate the subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_exp\_subscription" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ) ; |
  | 397 | 398 | } |
  | 398 | 399 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L402) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L403) |  |
  | 402 | 403 | $show\_suspended\_subscription\_error = $this->check\_dismiss\_time( $suspended\_subscription\_dismissed ); |
  | 403 | 404 | if( $show\_suspended\_subscription\_error ) { |
  | 404 |  | $this->errors[] = sprintf( \_\_( 'The subscription for %s has been suspended. You can reactivate the subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_suspended\_subscription" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ) ; |
  |  | 405 | $this->errors[] = sprintf( \_\_( 'The subscription for %s has been suspended. You can reactivate the subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_suspended\_subscription" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ) ; |
  | 405 | 406 | } |
  | 406 | 407 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L410) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L411) |  |
  | 410 | 411 | $show\_pending\_subscription\_error = $this->check\_dismiss\_time( $pending\_subscription\_dismissed ); |
  | 411 | 412 | if( $show\_pending\_subscription\_error ) { |
  | 412 |  | $this->errors[] = sprintf( \_\_( 'The subscription for %s is still pending. You can check on the status of the subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_pending\_subscription" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ) ; |
  |  | 413 | $this->errors[] = sprintf( \_\_( 'The subscription for %s is still pending. You can check on the status of the subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_pending\_subscription" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ) ; |
  | 413 | 414 | } |
  | 414 | 415 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L418) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L419) |  |
  | 418 | 419 | $show\_trash\_subscription\_error = $this->check\_dismiss\_time( $trash\_subscription\_dismissed ); |
  | 419 | 420 | if( $show\_trash\_subscription\_error ) { |
  | 420 |  | $this->errors[] = sprintf( \_\_( 'The subscription for %s has been placed in the trash and will be deleted soon. You can get a new subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_trash\_subscription" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ) ; |
  |  | 421 | $this->errors[] = sprintf( \_\_( 'The subscription for %s has been placed in the trash and will be deleted soon. You can get a new subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_trash\_subscription" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ) ; |
  | 421 | 422 | } |
  | 422 | 423 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L426) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L427) |  |
  | 426 | 427 | $show\_no\_subscription\_error = $this->check\_dismiss\_time( $no\_subscription\_dismissed ); |
  | 427 | 428 | if( $show\_no\_subscription\_error ) { |
  | 428 |  | $this->errors[] = sprintf( \_\_( 'A subscription for %s could not be found. You can get a subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_no\_subscription" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ); |
  |  | 429 | $this->errors[] = sprintf( \_\_( 'A subscription for %s could not be found. You can get a subscription from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_no\_subscription" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ); |
  | 429 | 430 | } |
  | 430 | 431 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L434) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L435) |  |
  | 434 | 435 | $show\_no\_activation\_error = $this->check\_dismiss\_time( $no\_activation\_dismissed ); |
  | 435 | 436 | if( $show\_no\_activation\_error ) { |
  | 436 |  | $this->errors[] = sprintf( \_\_( '%s has not been activated. Go to the settings page and enter the license key and license email to activate %s. <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_no\_activation" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $name, sanitize\_key( $name )~~ ) ; |
  |  | 437 | $this->errors[] = sprintf( \_\_( '%s has not been activated. Go to the settings page and enter the license key and license email to activate %s. <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_no\_activation" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $name, sanitize\_key( $name ), $nonce ) ; |
  | 437 | 438 | } |
  | 438 | 439 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L442) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L443) |  |
  | 442 | 443 | $show\_no\_key\_error = $this->check\_dismiss\_time( $no\_key\_dismissed ); |
  | 443 | 444 | if( $show\_no\_key\_error ) { |
  | 444 |  | $this->errors[] = sprintf( \_\_( 'A license key for %s could not be found. Maybe you forgot to enter a license key when setting up %s, or the key was deactivated in your account. You can reactivate or get a license key from your account <a href="%s" target="\_blank">Licences</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_no\_key" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ); |
  |  | 445 | $this->errors[] = sprintf( \_\_( 'A license key for %s could not be found. Maybe you forgot to enter a license key when setting up %s, or the key was deactivated in your account. You can reactivate or get a license key from your account <a href="%s" target="\_blank">Licences</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_no\_key" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ); |
  | 445 | 446 | } |
  | 446 | 447 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L450) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L451) |  |
  | 450 | 451 | $show\_download\_revoked\_error = $this->check\_dismiss\_time( $download\_revoked\_dismissed ); |
  | 451 | 452 | if( $show\_download\_revoked\_error ) { |
  | 452 |  | $this->errors[] = sprintf( \_\_( 'Download permission for %s has been revoked possibly due to a license key or subscription expiring. You can reactivate or get a license key from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_download\_revoked" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ) ; |
  |  | 453 | $this->errors[] = sprintf( \_\_( 'Download permission for %s has been revoked possibly due to a license key or subscription expiring. You can reactivate or get a license key from your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_download\_revoked" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ) ; |
  | 453 | 454 | } |
  | 454 | 455 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L458) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L459) |  |
  | 458 | 459 | $show\_switched\_subscription\_error = $this->check\_dismiss\_time( $switched\_subscription\_dismissed ); |
  | 459 | 460 | if( $show\_switched\_subscription\_error ) { |
  | 460 |  | $this->errors[] = sprintf( \_\_( 'You changed the subscription for %s, so you will need to enter your new API License Key in the settings page. The License Key should have arrived in your email inbox, if not you can get it by logging into your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_switched\_subscription" ~~href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name )~~ ) ; |
  |  | 461 | $this->errors[] = sprintf( \_\_( 'You changed the subscription for %s, so you will need to enter your new API License Key in the settings page. The License Key should have arrived in your email inbox, if not you can get it by logging into your account <a href="%s" target="\_blank">dashboard</a> | <a class="dismiss-error dismiss" data-key="dismissed\_error\_%s\_switched\_subscription" data-nonce="%s" href="#">dismiss</a>.', $this->text\_domain ), $name, $this->renew\_license\_url, sanitize\_key( $name ), $nonce ) ; |
  | 461 | 462 | } |
  | 462 | 463 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L500) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L501) |  |
  | 500 | 501 | action: 'ud\_api\_dismiss', |
  | 501 | 502 | key: \_this.data('key'), |
  |  | 503 | \_ajax\_nonce: \_this.data('nonce'), |
  | 502 | 504 | } |
  | 503 | 505 |  |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3011578#L542) | […](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/lib/classes/class-update-checker.php?rev=3035169#L544) |  |
  | 542 | 544 | \*/ |
  | 543 | 545 | public function dismiss\_notices(){ |
  |  | 546 | check\_ajax\_referer('ud\_api\_dismiss'); |
  |  | 547 |  |
  | 544 | 548 | $response = array( |
  | 545 | 549 | 'success' => '0', |
  | 546 | 550 | 'error' => \_\_( 'There was an error in request.', $this->text\_domain ), |
  | 547 | 551 | ); |
  |  | 552 |  |
  | 548 | 553 | $error = false; |
  | 549 | 554 |  |
  | 550 |  | if( empty($\_POST['key']) ) { |
  | 551 |  | $response['error'] = \_\_( 'Invalid key', $this->text\_domain ); |
  |  | 555 | $option\_key = isset($\_POST['key']) ? sanitize\_key($\_POST['key']) : ''; |
  |  | 556 |  |
  |  | 557 | if ( strpos($option\_key, 'dismissed\_') !== 0 ) { |
  |  | 558 | $response['error'] = \_\_( 'Invalid key', $this->domain ); |
  | 552 | 559 | $error = true; |
  | 553 | 560 | } |
  | 554 |  |  |
  | 555 |  | if ( !~~$error && update\_option( ( $\_POST['key'] )~~, time() ) ) { |
  |  | 561 |  |
  |  | 562 | if ( !$error && update\_option( $option\_key, time() ) ) { |
  | 556 | 563 | $response['success'] = '1'; |
  | 557 |  | } |
  | 558 |  |  |
  |  | 564 | $response['error'] = null; |
  |  | 565 | } |
  |  | 566 |  |
  | 559 | 567 | wp\_send\_json( $response ); |
  | 560 | 568 | } |
* ## [wp-stateless/trunk/vendor/udx/lib-ud-api-client/package.json](/changeset/3035169/wp-stateless/trunk/vendor/udx/lib-ud-api-client/package.json "Show the changeset 3035169 restricted to wp-stateless/trunk/vendor/udx/lib-ud-api-client/package.json")

  | [r3023726](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/package.json?rev=3023726#L1 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/vendor/udx/lib-ud-api-client/package.json?rev=3035169#L1 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | { |
  | 2 | 2 | "name": "lib-ud-api-client", |
  | 3 |  | "version": "1.2.~~2~~", |
  |  | 3 | "version": "1.2.3", |
  | 4 | 4 | "description": "UD Client for WooCommerce API Manager", |
  | 5 | 5 | "repository": { |
* ## [wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/changes.md](/changeset/3035169/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/changes.md "Show the changeset 3035169 restricted to wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/changes.md")

  | [r3023726](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/changes.md?rev=3023726#L1 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/changes.md?rev=3035169#L1 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | ### 1.3.2 |
  |  | 2 |  |
  |  | 3 | \* Improve security while processing AJAX requests in Admin Panel. |
  |  | 4 |  |
  | 1 | 5 | ### 1.3.1 |
  | 2 | 6 |  |
* ## [wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php](/changeset/3035169/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php "Show the changeset 3035169 restricted to wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php")

  | [r3011578](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php?rev=3011578#L157 "Show revision 3011578 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php?rev=3035169#L157 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 157 | 157 | $messages = apply\_filters( 'ud:messages:admin\_notices', $this->messages, $this->args ); |
  | 158 | 158 | $warnings = apply\_filters( 'ud:warnings:admin\_notices', $this->warnings, $this->args ); |
  |  | 159 |  |
  |  | 160 | $nonce = wp\_create\_nonce('ud\_dismiss'); |
  | 159 | 161 |  |
  | 160 | 162 | if( !empty( $errors ) || !empty( $messages ) || !empty( $warnings ) ) { |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php?rev=3011578#L180) | […](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php?rev=3035169#L182) |  |
  | 180 | 182 | $message = sprintf( \_\_( '<p><b>%s</b> has the following warnings:</p> %s', $this->domain ), $this->name, $message ); |
  | 181 | 183 | if( $this->dismiss ) { |
  | 182 |  | $this->action\_links[ 'warnings' ][] = '<a class="dismiss-warning dismiss" data-key="dismissed\_warning\_' . sanitize\_key( $this->name ).'" href="#">' . \_\_( 'Dismiss this warning', $this->domain ) . '</a>'; |
  |  | 184 | $this->action\_links[ 'warnings' ][] = |
  |  | 185 | '<a class="dismiss-warning dismiss" ' . |
  |  | 186 | 'data-key="dismissed\_warning\_' . sanitize\_key( $this->name ) . |
  |  | 187 | '" data-nonce="' . $nonce . '" href="#">' . |
  |  | 188 | \_\_( 'Dismiss this warning', $this->domain ) . '</a>'; |
  | 183 | 189 | } |
  | 184 | 190 | if( !empty( $this->action\_links[ 'warnings' ] ) && is\_array( $this->action\_links[ 'warnings' ] ) ) { |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php?rev=3011578#L200) | […](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php?rev=3035169#L206) |  |
  | 200 | 206 | } |
  | 201 | 207 | if( $this->dismiss ) { |
  | 202 |  | $this->action\_links[ 'messages' ][] = '<a class="dismiss-notice dismiss" data-key="dismissed\_notice\_' . sanitize\_key( $this->name ).'" href="#">' . \_\_( 'Dismiss this notice', $this->domain ) . '</a>'; |
  |  | 208 | $this->action\_links[ 'messages' ][] = |
  |  | 209 | '<a class="dismiss-notice dismiss" ' . |
  |  | 210 | 'data-key="dismissed\_notice\_' . sanitize\_key( $this->name ).'" ' . |
  |  | 211 | 'data-nonce="' . $nonce . '" href="#">' . |
  |  | 212 | \_\_( 'Dismiss this notice', $this->domain ) . '</a>'; |
  | 203 | 213 | } |
  | 204 | 214 | $message .= '<p>' . implode( ' | ', $this->action\_links[ 'messages' ] ) . '</p>'; |
  | […](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php?rev=3011578#L222) | […](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/lib/classes/class-errors.php?rev=3035169#L232) |  |
  | 222 | 232 | \* @throws \Exception |
  | 223 | 233 | \*/ |
  | 224 |  | public function dismiss\_notices(){ |
  |  | 234 | public function dismiss\_notices() { |
  |  | 235 | check\_ajax\_referer('ud\_dismiss'); |
  |  | 236 |  |
  | 225 | 237 | $response = array( |
  | 226 | 238 | 'success' => '0', |
  | 227 | 239 | 'error' => \_\_( 'There was an error in request.', $this->domain ), |
  | 228 | 240 | ); |
  |  | 241 |  |
  | 229 | 242 | $error = false; |
  | 230 | 243 |  |
  | 231 |  | if( empty($\_POST['key']) ) { |
  |  | 244 | $option\_key = isset($\_POST['key']) ? sanitize\_key($\_POST['key']) : ''; |
  |  | 245 |  |
  |  | 246 | if ( strpos($option\_key, 'dismissed\_') !== 0 ) { |
  | 232 | 247 | $response['error'] = \_\_( 'Invalid key', $this->domain ); |
  | 233 | 248 | $error = true; |
  | 234 | 249 | } |
  | 235 | 250 |  |
  | 236 |  | if ( !~~$error && update\_option( ( $\_POST['key'] )~~, time() ) ) { |
  |  | 251 | if ( !$error && update\_option( $option\_key, time() ) ) { |
  | 237 | 252 | $response['success'] = '1'; |
  |  | 253 | $response['error'] = null; |
  | 238 | 254 | } |
  | 239 | 255 |  |
* ## [wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/static/scripts/ud-dismiss.js](/changeset/3035169/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/static/scripts/ud-dismiss.js "Show the changeset 3035169 restricted to wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/static/scripts/ud-dismiss.js")

  | [r2013894](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/static/scripts/ud-dismiss.js?rev=2013894#L12 "Show revision 2013894 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/vendor/udx/lib-wp-bootstrap/static/scripts/ud-dismiss.js?rev=3035169#L12 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 12 | 12 | action: 'ud\_dismiss', |
  | 13 | 13 | key: \_this.data('key'), |
  |  | 14 | \_ajax\_nonce: \_this.data('nonce'), |
  | 14 | 15 | } |
  | 15 | 16 |  |
* ## [wp-stateless/trunk/wp-stateless-media.php](/changeset/3035169/wp-stateless/trunk/wp-stateless-media.php "Show the changeset 3035169 restricted to wp-stateless/trunk/wp-stateless-media.php")

  | [r3023726](/browser/wp-stateless/trunk/wp-stateless-media.php?rev=3023726#L5 "Show revision 3023726 of this file in browser") | [r3035169](/browser/wp-stateless/trunk/wp-stateless-media.php?rev=3035169#L5 "Show revision 3035169 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Description: Upload and serve your WordPress media files from Google Cloud Storage. |
  | 6 | 6 | \* Author: UDX |
  | 7 |  | \* Version: 3.4.~~0~~ |
  |  | 7 | \* Version: 3.4.1 |
  | 8 | 8 | \* Text Domain: stateless-media |
  | 9 | 9 | \* Author URI: https://www.udx.io |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3035169)
* [Zip Archive](?format=zip&new=3035169)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

