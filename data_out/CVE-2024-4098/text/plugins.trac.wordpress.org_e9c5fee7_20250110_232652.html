

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3103137)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3103136 "Changeset 3103136")
* [Next Changeset](/changeset/3103138 "Changeset 3103138") →

---

# Changeset 3103137

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
06/15/2024 05:03:05 PM
([7 months](/timeline?from=2024-06-15T17%3A03%3A05Z&precision=second "See timeline at 06/15/2024 05:03:05 PM") ago)

Author:
3UU
Message:

removed Reddit from the share counts; fix to avoid unauthenticated local file inclusion (with many thanks to haidv35)

Location:
[shariff](/browser/shariff?rev=3103137)
Files:

3 edited
35 copied

* [tags/4.6.14](/browser/shariff/tags/4.6.14?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk](/browser/shariff/trunk?rev=3061031 "Show original file (revision 3061031)"))*
* [tags/4.6.14/admin/admin-menu.php](/browser/shariff/tags/4.6.14/admin/admin-menu.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/admin/admin-menu.php](/browser/shariff/trunk/admin/admin-menu.php?rev=3069111 "Show original file (revision 3069111)"))*
  ([1 diff](#file1 "Show differences"))
* [tags/4.6.14/admin/admin-metabox.php](/browser/shariff/tags/4.6.14/admin/admin-metabox.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/admin/admin-metabox.php](/browser/shariff/trunk/admin/admin-metabox.php?rev=1851328 "Show original file (revision 3061026)"))*
* [tags/4.6.14/admin/admin-notices.php](/browser/shariff/tags/4.6.14/admin/admin-notices.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/admin/admin-notices.php](/browser/shariff/trunk/admin/admin-notices.php?rev=2127344 "Show original file (revision 3061026)"))*
* [tags/4.6.14/bitcoin.php](/browser/shariff/tags/4.6.14/bitcoin.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/bitcoin.php](/browser/shariff/trunk/bitcoin.php?rev=2058462 "Show original file (revision 3061026)"))*
* [tags/4.6.14/changelog.txt](/browser/shariff/tags/4.6.14/changelog.txt?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/changelog.txt](/browser/shariff/trunk/changelog.txt?rev=3047668 "Show original file (revision 3061026)"))*
* [tags/4.6.14/css/shariff.css](/browser/shariff/tags/4.6.14/css/shariff.css?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/css/shariff.css](/browser/shariff/trunk/css/shariff.css?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/css/shariff.min.css](/browser/shariff/tags/4.6.14/css/shariff.min.css?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/css/shariff.min.css](/browser/shariff/trunk/css/shariff.min.css?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/images/borderradius.png](/browser/shariff/tags/4.6.14/images/borderradius.png?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/images/borderradius.png](/browser/shariff/trunk/images/borderradius.png?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/images/defaultHint.png](/browser/shariff/tags/4.6.14/images/defaultHint.png?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/images/defaultHint.png](/browser/shariff/trunk/images/defaultHint.png?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/images/shariff\_designs.png](/browser/shariff/tags/4.6.14/images/shariff_designs.png?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/images/shariff\_designs.png](/browser/shariff/trunk/images/shariff_designs.png?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/includes/class-shariff-widget.php](/browser/shariff/tags/4.6.14/includes/class-shariff-widget.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/includes/class-shariff-widget.php](/browser/shariff/trunk/includes/class-shariff-widget.php?rev=2836757 "Show original file (revision 3061026)"))*
* [tags/4.6.14/includes/phpqrcode.php](/browser/shariff/tags/4.6.14/includes/phpqrcode.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/includes/phpqrcode.php](/browser/shariff/trunk/includes/phpqrcode.php?rev=1851328 "Show original file (revision 3061026)"))*
* [tags/4.6.14/js/shariff-media.js](/browser/shariff/tags/4.6.14/js/shariff-media.js?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/js/shariff-media.js](/browser/shariff/trunk/js/shariff-media.js?rev=1851328 "Show original file (revision 3061026)"))*
* [tags/4.6.14/js/shariff-media.min.js](/browser/shariff/tags/4.6.14/js/shariff-media.min.js?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/js/shariff-media.min.js](/browser/shariff/trunk/js/shariff-media.min.js?rev=1851328 "Show original file (revision 3061026)"))*
* [tags/4.6.14/js/shariff-popup.js](/browser/shariff/tags/4.6.14/js/shariff-popup.js?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/js/shariff-popup.js](/browser/shariff/trunk/js/shariff-popup.js?rev=1858506 "Show original file (revision 3061026)"))*
* [tags/4.6.14/js/shariff-popup.min.js](/browser/shariff/tags/4.6.14/js/shariff-popup.min.js?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/js/shariff-popup.min.js](/browser/shariff/trunk/js/shariff-popup.min.js?rev=1858506 "Show original file (revision 3061026)"))*
* [tags/4.6.14/js/shariff.js](/browser/shariff/tags/4.6.14/js/shariff.js?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/js/shariff.js](/browser/shariff/trunk/js/shariff.js?rev=1851328 "Show original file (revision 3061026)"))*
* [tags/4.6.14/js/shariff.min.js](/browser/shariff/tags/4.6.14/js/shariff.min.js?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/js/shariff.min.js](/browser/shariff/trunk/js/shariff.min.js?rev=1851328 "Show original file (revision 3061026)"))*
* [tags/4.6.14/license.txt](/browser/shariff/tags/4.6.14/license.txt?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/license.txt](/browser/shariff/trunk/license.txt?rev=1851328 "Show original file (revision 3061026)"))*
* [tags/4.6.14/readme.txt](/browser/shariff/tags/4.6.14/readme.txt?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/readme.txt](/browser/shariff/trunk/readme.txt?rev=3069111 "Show original file (revision 3069111)"))*
  ([2 diffs](#file20 "Show differences"))
* [tags/4.6.14/services/shariff-bitcoin.php](/browser/shariff/tags/4.6.14/services/shariff-bitcoin.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/services/shariff-bitcoin.php](/browser/shariff/trunk/services/shariff-bitcoin.php?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/services/shariff-info.php](/browser/shariff/tags/4.6.14/services/shariff-info.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/services/shariff-info.php](/browser/shariff/trunk/services/shariff-info.php?rev=3030487 "Show original file (revision 3061026)"))*
* [tags/4.6.14/services/shariff-mailto.php](/browser/shariff/tags/4.6.14/services/shariff-mailto.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/services/shariff-mailto.php](/browser/shariff/trunk/services/shariff-mailto.php?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/services/shariff-patreon.php](/browser/shariff/tags/4.6.14/services/shariff-patreon.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/services/shariff-patreon.php](/browser/shariff/trunk/services/shariff-patreon.php?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/services/shariff-paypal.php](/browser/shariff/tags/4.6.14/services/shariff-paypal.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/services/shariff-paypal.php](/browser/shariff/trunk/services/shariff-paypal.php?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/services/shariff-paypalme.php](/browser/shariff/tags/4.6.14/services/shariff-paypalme.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/services/shariff-paypalme.php](/browser/shariff/trunk/services/shariff-paypalme.php?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/services/shariff-pocket.php](/browser/shariff/tags/4.6.14/services/shariff-pocket.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/services/shariff-pocket.php](/browser/shariff/trunk/services/shariff-pocket.php?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/services/shariff-printer.php](/browser/shariff/tags/4.6.14/services/shariff-printer.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/services/shariff-printer.php](/browser/shariff/trunk/services/shariff-printer.php?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/services/shariff-rss.php](/browser/shariff/tags/4.6.14/services/shariff-rss.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/services/shariff-rss.php](/browser/shariff/trunk/services/shariff-rss.php?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/services/shariff-wallabag.php](/browser/shariff/tags/4.6.14/services/shariff-wallabag.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/services/shariff-wallabag.php](/browser/shariff/trunk/services/shariff-wallabag.php?rev=2035136 "Show original file (revision 3061026)"))*
* [tags/4.6.14/shariff.php](/browser/shariff/tags/4.6.14/shariff.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/shariff.php](/browser/shariff/trunk/shariff.php?rev=3069111 "Show original file (revision 3069111)"))*
  ([4 diffs](#file31 "Show differences"))
* [tags/4.6.14/uninstall.php](/browser/shariff/tags/4.6.14/uninstall.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/uninstall.php](/browser/shariff/trunk/uninstall.php?rev=2006308 "Show original file (revision 3061026)"))*
* [tags/4.6.14/updates.php](/browser/shariff/tags/4.6.14/updates.php?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/updates.php](/browser/shariff/trunk/updates.php?rev=3069111 "Show original file (revision 3069111)"))*
* [tags/4.6.14/wpml-config.xml](/browser/shariff/tags/4.6.14/wpml-config.xml?rev=3103137 "Show entry in browser")
  (copied)
  *(copied from [shariff/trunk/wpml-config.xml](/browser/shariff/trunk/wpml-config.xml?rev=2836757 "Show original file (revision 3061026)"))*
* [trunk/admin/admin-menu.php](/browser/shariff/trunk/admin/admin-menu.php?rev=3103137 "Show entry in browser")
  (modified)
  ([1 diff](#file35 "Show differences"))
* [trunk/readme.txt](/browser/shariff/trunk/readme.txt?rev=3103137 "Show entry in browser")
  (modified)
  ([2 diffs](#file36 "Show differences"))
* [trunk/shariff.php](/browser/shariff/trunk/shariff.php?rev=3103137 "Show entry in browser")
  (modified)
  ([4 diffs](#file37 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [shariff/tags/4.6.14/admin/admin-menu.php](/changeset/3103137/shariff/tags/4.6.14/admin/admin-menu.php "Show the changeset 3103137 restricted to shariff/tags/4.6.14/admin/admin-menu.php")

  | [r3069111](/browser/shariff/trunk/admin/admin-menu.php?rev=3069111#L13 "Show revision 3069111 of this file in browser") | [r3103137](/browser/shariff/tags/4.6.14/admin/admin-menu.php?rev=3103137#L13 "Show revision 3103137 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 |  |
  | 14 | 14 | // Set services that have a share count API / backend. |
  | 15 |  | $shariff3uu\_services\_backend = array( 'facebook', 'pinterest', 'reddit', 'tumblr', 'vk', 'odnoklassniki', 'buffer' ); |
  |  | 15 | #$shariff3uu\_services\_backend = array( 'facebook', 'pinterest', 'reddit', 'tumblr', 'vk', 'odnoklassniki', 'buffer' ); |
  |  | 16 | $shariff3uu\_services\_backend = array( 'facebook', 'pinterest', 'tumblr', 'vk', 'odnoklassniki', 'buffer' ); |
  | 16 | 17 |  |
  | 17 | 18 | // Adds the actions for the admin page. |
* ## [shariff/tags/4.6.14/readme.txt](/changeset/3103137/shariff/tags/4.6.14/readme.txt "Show the changeset 3103137 restricted to shariff/tags/4.6.14/readme.txt")

  | [r3069111](/browser/shariff/trunk/readme.txt?rev=3069111#L5 "Show revision 3069111 of this file in browser") | [r3103137](/browser/shariff/tags/4.6.14/readme.txt?rev=3103137#L5 "Show revision 3103137 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires PHP: 7.4 |
  | 6 | 6 | Tested up to: 6.5 |
  | 7 |  | Stable tag: 4.6.1~~3~~ |
  |  | 7 | Stable tag: 4.6.14 |
  | 8 | 8 | License: MIT |
  | 9 | 9 | License URI: http://opensource.org/licenses/mit |
  | […](/browser/shariff/trunk/readme.txt?rev=3069111#L145) | […](/browser/shariff/tags/4.6.14/readme.txt?rev=3103137#L145) |  |
  | 145 | 145 |  |
  | 146 | 146 | == Changelog == |
  |  | 147 | = 4.6.14 = |
  |  | 148 | - removed Reddit from the share counts because requests without API keys are |
  |  | 149 | blocked now |
  |  | 150 | - fix to avoid unauthenticated local file inclusion. Many thanks to haidv35 |
  |  | 151 |  |
  | 147 | 152 | = 4.6.13 = |
  | 148 | 153 | - cleanup code (please check the basic options menu. We changed some |
* ## [shariff/tags/4.6.14/shariff.php](/changeset/3103137/shariff/tags/4.6.14/shariff.php "Show the changeset 3103137 restricted to shariff/tags/4.6.14/shariff.php")

  | [r3069111](/browser/shariff/trunk/shariff.php?rev=3069111#L35 "Show revision 3069111 of this file in browser") | [r3103137](/browser/shariff/tags/4.6.14/shariff.php?rev=3103137#L35 "Show revision 3103137 of this file in browser") |  |
  | --- | --- | --- |
  | 35 | 35 | function shariff3uu\_update() { |
  | 36 | 36 | // Adjust code version. |
  | 37 |  | $code\_version = '4.6.1~~3~~'; |
  |  | 37 | $code\_version = '4.6.14'; |
  | 38 | 38 |  |
  | 39 | 39 | // Get basic options. |
  | […](/browser/shariff/trunk/shariff.php?rev=3069111#L403) | […](/browser/shariff/tags/4.6.14/shariff.php?rev=3103137#L403) |  |
  | 403 | 403 | $share\_counts = array(); |
  | 404 | 404 |  |
  |  | 405 | // what are valid service names for the include? |
  |  | 406 | $valid\_services= explode( '|', $shariff3uu['services'] ); |
  |  | 407 |  |
  | 405 | 408 | // Loop through all desired services. |
  | 406 | 409 | foreach ( $service\_array as $service ) { |
  |  | 410 | // include/execute only valid services |
  |  | 411 | if ( !in\_array( $service , $valid\_services, true )===true ) continue; |
  |  | 412 |  |
  | 407 | 413 | // Only include services that are not disabled. |
  | 408 | 414 | if ( ! empty( $service ) && ( ! isset( $shariff3uu['disable'][ $service ] ) || ( isset( $shariff3uu['disable'][ $service ] ) && 0 === $shariff3uu['disable'][ $service ] ) ) ) { |
  | […](/browser/shariff/trunk/shariff.php?rev=3069111#L531) | […](/browser/shariff/tags/4.6.14/shariff.php?rev=3103137#L537) |  |
  | 531 | 537 |  |
  | 532 | 538 | /\*\* Registers activation hook to start cron job after an update. \*/ |
  | 533 |  | register\_activation\_hook( \_\_FILE\_\_, 'shariff3uu\_fill\_cache\_schedule' ); |
  |  | 539 | register\_activation\_hook( \_\_FILE\_\_ , 'shariff3uu\_fill\_cache\_schedule' ); |
  | 534 | 540 |  |
  | 535 | 541 | /\*\* |
  | […](/browser/shariff/trunk/shariff.php?rev=3069111#L1587) | […](/browser/shariff/tags/4.6.14/shariff.php?rev=3103137#L1593) |  |
  | 1587 | 1593 | } |
  | 1588 | 1594 | } |
  | 1589 |  | register\_deactivation\_hook( \_\_FILE\_\_, 'shariff3uu\_deactivate' ); |
  |  | 1595 | register\_deactivation\_hook( \_\_FILE\_\_ , 'shariff3uu\_deactivate' ); |
  | 1590 | 1596 |  |
  | 1591 | 1597 | /\*\* |
* ## [shariff/trunk/admin/admin-menu.php](/changeset/3103137/shariff/trunk/admin/admin-menu.php "Show the changeset 3103137 restricted to shariff/trunk/admin/admin-menu.php")

  | [r3069111](/browser/shariff/trunk/admin/admin-menu.php?rev=3069111#L13 "Show revision 3069111 of this file in browser") | [r3103137](/browser/shariff/trunk/admin/admin-menu.php?rev=3103137#L13 "Show revision 3103137 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 |  |
  | 14 | 14 | // Set services that have a share count API / backend. |
  | 15 |  | $shariff3uu\_services\_backend = array( 'facebook', 'pinterest', 'reddit', 'tumblr', 'vk', 'odnoklassniki', 'buffer' ); |
  |  | 15 | #$shariff3uu\_services\_backend = array( 'facebook', 'pinterest', 'reddit', 'tumblr', 'vk', 'odnoklassniki', 'buffer' ); |
  |  | 16 | $shariff3uu\_services\_backend = array( 'facebook', 'pinterest', 'tumblr', 'vk', 'odnoklassniki', 'buffer' ); |
  | 16 | 17 |  |
  | 17 | 18 | // Adds the actions for the admin page. |
* ## [shariff/trunk/readme.txt](/changeset/3103137/shariff/trunk/readme.txt "Show the changeset 3103137 restricted to shariff/trunk/readme.txt")

  | [r3069111](/browser/shariff/trunk/readme.txt?rev=3069111#L5 "Show revision 3069111 of this file in browser") | [r3103137](/browser/shariff/trunk/readme.txt?rev=3103137#L5 "Show revision 3103137 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires PHP: 7.4 |
  | 6 | 6 | Tested up to: 6.5 |
  | 7 |  | Stable tag: 4.6.1~~3~~ |
  |  | 7 | Stable tag: 4.6.14 |
  | 8 | 8 | License: MIT |
  | 9 | 9 | License URI: http://opensource.org/licenses/mit |
  | […](/browser/shariff/trunk/readme.txt?rev=3069111#L145) | […](/browser/shariff/trunk/readme.txt?rev=3103137#L145) |  |
  | 145 | 145 |  |
  | 146 | 146 | == Changelog == |
  |  | 147 | = 4.6.14 = |
  |  | 148 | - removed Reddit from the share counts because requests without API keys are |
  |  | 149 | blocked now |
  |  | 150 | - fix to avoid unauthenticated local file inclusion. Many thanks to haidv35 |
  |  | 151 |  |
  | 147 | 152 | = 4.6.13 = |
  | 148 | 153 | - cleanup code (please check the basic options menu. We changed some |
* ## [shariff/trunk/shariff.php](/changeset/3103137/shariff/trunk/shariff.php "Show the changeset 3103137 restricted to shariff/trunk/shariff.php")

  | [r3069111](/browser/shariff/trunk/shariff.php?rev=3069111#L35 "Show revision 3069111 of this file in browser") | [r3103137](/browser/shariff/trunk/shariff.php?rev=3103137#L35 "Show revision 3103137 of this file in browser") |  |
  | --- | --- | --- |
  | 35 | 35 | function shariff3uu\_update() { |
  | 36 | 36 | // Adjust code version. |
  | 37 |  | $code\_version = '4.6.1~~3~~'; |
  |  | 37 | $code\_version = '4.6.14'; |
  | 38 | 38 |  |
  | 39 | 39 | // Get basic options. |
  | […](/browser/shariff/trunk/shariff.php?rev=3069111#L403) | […](/browser/shariff/trunk/shariff.php?rev=3103137#L403) |  |
  | 403 | 403 | $share\_counts = array(); |
  | 404 | 404 |  |
  |  | 405 | // what are valid service names for the include? |
  |  | 406 | $valid\_services= explode( '|', $shariff3uu['services'] ); |
  |  | 407 |  |
  | 405 | 408 | // Loop through all desired services. |
  | 406 | 409 | foreach ( $service\_array as $service ) { |
  |  | 410 | // include/execute only valid services |
  |  | 411 | if ( !in\_array( $service , $valid\_services, true )===true ) continue; |
  |  | 412 |  |
  | 407 | 413 | // Only include services that are not disabled. |
  | 408 | 414 | if ( ! empty( $service ) && ( ! isset( $shariff3uu['disable'][ $service ] ) || ( isset( $shariff3uu['disable'][ $service ] ) && 0 === $shariff3uu['disable'][ $service ] ) ) ) { |
  | […](/browser/shariff/trunk/shariff.php?rev=3069111#L531) | […](/browser/shariff/trunk/shariff.php?rev=3103137#L537) |  |
  | 531 | 537 |  |
  | 532 | 538 | /\*\* Registers activation hook to start cron job after an update. \*/ |
  | 533 |  | register\_activation\_hook( \_\_FILE\_\_, 'shariff3uu\_fill\_cache\_schedule' ); |
  |  | 539 | register\_activation\_hook( \_\_FILE\_\_ , 'shariff3uu\_fill\_cache\_schedule' ); |
  | 534 | 540 |  |
  | 535 | 541 | /\*\* |
  | […](/browser/shariff/trunk/shariff.php?rev=3069111#L1587) | […](/browser/shariff/trunk/shariff.php?rev=3103137#L1593) |  |
  | 1587 | 1593 | } |
  | 1588 | 1594 | } |
  | 1589 |  | register\_deactivation\_hook( \_\_FILE\_\_, 'shariff3uu\_deactivate' ); |
  |  | 1595 | register\_deactivation\_hook( \_\_FILE\_\_ , 'shariff3uu\_deactivate' ); |
  | 1590 | 1596 |  |
  | 1591 | 1597 | /\*\* |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3103137)
* [Zip Archive](?format=zip&new=3103137)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

