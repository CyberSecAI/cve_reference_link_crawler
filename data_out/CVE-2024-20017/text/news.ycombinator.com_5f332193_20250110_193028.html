

| |  | **[Hacker News](news)** [new](newest) | [past](front) | [comments](newcomments) | <ask> | <show> | <jobs> | <submit> | [login](login?goto=item%3Fid%3D41605680) | | --- | --- | --- | |
| --- | --- | --- | --- |
|
| |  |  | [Critical Exploit in MediaTek Wi-Fi Chipsets: Zero-Click Vulnerability](https://blog.coffinsec.com/0day/2024/08/30/exploiting-CVE-2024-20017-four-different-ways.html) ([coffinsec.com](from?site=coffinsec.com)) | | --- | --- | --- | |  | | 259 points by [pjf](user?id=pjf) [3 months ago](item?id=41605680)  | [hide](hide?id=41605680&goto=item%3Fid%3D41605680) | [past](https://hn.algolia.com/?query=Critical%20Exploit%20in%20MediaTek%20Wi-Fi%20Chipsets%3A%20Zero-Click%20Vulnerability&type=story&dateRange=all&sort=byDate&storyText=false&prefix&page=0) | [favorite](fave?id=41605680&auth=8d85255473eea221388386915c8ea654dc8286be) | [103 comments](item?id=41605680) |  | |  |  | [Namidairo](user?id=Namidairo) [3 months ago](item?id=41607030)   | [next](#41609001) [–]  Not too surprising given what I've seen of their vendor sdk driver source code, compared to mt76. (Messy would be kind assessment) Unfortunately, there are also some running aftermarket firmware builds with the vendor driver, due to it having an edge in throughput over mt76. Mediatek and their WiSoC division luckily have a few engineers that are enthusiastic about engaging with the FOSS community, while also maintaining their own little OpenWrt fork running mt76.[1] [1] [https://git01.mediatek.com/plugins/gitiles/openwrt/feeds/mtk...](https://git01.mediatek.com/plugins/gitiles/openwrt/feeds/mtk-openwrt-feeds/) | | --- | --- | --- | | | --- | --- | --- | --- | | |  |  | [dylan604](user?id=dylan604) [3 months ago](item?id=41607523)   | [parent](#41607030) | [next](#41607209) [–]  Why is it so much of this hardware/firmware feels so much like deploying a PoC to production? Why can't they hire someone that actually knows what they are doing? | | --- | --- | --- | | | |  |  | [jdietrich](user?id=jdietrich) [3 months ago](item?id=41608501)   | [root](#41607030) | [parent](#41607523) | [next](#41608841) [–]  The consumer space is brutally competitive - you're working on tight margins and designs become obsolete very quickly. MediaTek's business is built on selling chips with the latest features at the lowest possible price. Everything has to be done at a breakneck pace that is dictated by the silicon. You start writing firmware as soon as the hardware design is finalised; it needs to be ready as soon as the chips are ready to ship. These conditions are not at all suited to good software engineering. In an ideal world, consumers would be happy to pay a premium for a device that's a generation behind in terms of features but has really good firmware. In the real world, only Apple have the kind of brand and market power to even attempt that. | | --- | --- | --- | | | |  |  | [AnthonyMouse](user?id=AnthonyMouse) [3 months ago](item?id=41613050)   | [root](#41607030) | [parent](#41608501) | [next](#41609395) [–]  > you're working on tight margins and designs become obsolete very quickly. This seems like the exact place where open source is a competitive advantage. Step 1, open source your existing firmware for the previous generation hardware. The people who have the hardware now fix problems you didn't have the resources to fix. Step 2, fork the public firmware for the previous generation hardware when developing the next generation. It has those bug fixes in it and 90% of the code is going to be the same anyway. Publish the new source code on the day the hardware ships in volume but not before. By then it doesn't matter if competitors can see it because "designs become obsolete very quickly" and it's too late for them to use it for their hardware/firmware in this generation. They don't get to see your next generation code until that generation is already shipping. Firmware tricks that span generations and have significant value can't be kept secret anyway because any significant firmware-based advantage would be reverse engineered by competitors for the next generation regardless of whether they have the source code. Now your development costs are lower than competitors' because you didn't have to pay to fix any bugs that one of your customers fixed first, and more people buy your hardware because your firmware is less broken than the competition. | | --- | --- | --- | | | |  |  | [AlotOfReading](user?id=AlotOfReading) [3 months ago](item?id=41613301)   | [root](#41607030) | [parent](#41613050) | [next](#41609395) [–]  What happens in that case is that competitors copy your hardware and throw the open source firmware on it to undercut you. Consumers don't know how to differentiate your products without marketing/segmentation and OEMs mostly care about the BOM cost. It doesn't matter much that your competitors are 2-6 months behind because they're still killing the long tail sales that sustain a company. Note that I'm still pro-open source, but I've seen this cycle play out in the real world enough times to understand why manufacturers are paranoid about releasing *anything* that might help a competitor, even if it benefits their customers. | | --- | --- | --- | | | |  |  | [AnthonyMouse](user?id=AnthonyMouse) [3 months ago](item?id=41641738)   | [root](#41607030) | [parent](#41613301) | [next](#41609395) [–]  > What happens in that case is that competitors copy your hardware and throw the open source firmware on it to undercut you. The entire premise of firmware is that it's specific to the hardware. By the time they "copy your hardware" it's already obsolete. Also, that's the thing you're actually selling. Your firmware sucks. Nobody wants your firmware unless they have your hardware. People are paying you for the hardware, which is the thing cheap competitors can't make as well as you or you're already screwed. | | --- | --- | --- | | | |  |  | [mschuster91](user?id=mschuster91) [3 months ago](item?id=41609395)   | [root](#41607030) | [parent](#41608501) | [prev](#41613050) | [next](#41608887) [–]  > You start writing firmware as soon as the hardware design is finalised; it needs to be ready as soon as the chips are ready to ship. On top of that, there's *bound to* be errors in the hardware design, no modern technology even comes close to being formally proven correct, it's just too damn complex/large. Only after the first tapeout of an ASIC you can actually test it and determine what you need to correct and where to correct it (microcode, EC firmware, OS or application layer). | | --- | --- | --- | | | |  |  | [JonChesterfield](user?id=JonChesterfield) [3 months ago](item?id=41608887)   | [root](#41607030) | [parent](#41608501) | [prev](#41609395) | [next](#41608841) [–]  Intel networking used to have the expensive and works traits. Not confident their current products would be as good. | | --- | --- | --- | | | |  |  | [phil21](user?id=phil21) [3 months ago](item?id=41610003)   | [root](#41607030) | [parent](#41608887) | [next](#41610485) [–]  Indeed. A friend who is more plugged into such things me told me 4-5 years ago they laid off most of the senior Intel network driver team. Basically the only edge they had. I can’t imagine things are any better these days. Inertia is a hell of a thing, but you are starting to see the cracks form. I just don’t know if there is an alternative. | | --- | --- | --- | | | |  |  | [sofixa](user?id=sofixa) [3 months ago](item?id=41610485)   | [root](#41607030) | [parent](#41608887) | [prev](#41610003) | [next](#41608841) [–]  When? The Intel X710 series of network cards was released in 2014, and it wasn't until ~2018 that it became actually usable (end of 2018? I don't recall really, but when I stumbled upon it it had already been a public problem for more than a year, and it took a few more months for patches to come). I'm talking things like full OS crashes while doing absolutely nothing, no traffic whatsoever *or* even better, silently starting to drop all network traffic (relatively silently, just an error message in the logs, but otherwise no indication, the interface still shows up as fine and up in the OS). It was all a driver issue (although both Intel drivers didn't work, so not only) that was later fixed. After that, it was rock solid. But the fact that there was a high class network card sold for lots of money, on hardware compatibility lists at various vendors, which didn't work at all for pretty much everyone for more than a few years is disgusting. | | --- | --- | --- | | | |  |  | [to11mtm](user?id=to11mtm) [3 months ago](item?id=41612232)   | [root](#41607030) | [parent](#41610485) | [next](#41611336) [–]  Back at the start of the century, Intel networking cards were the 'Best reliability for the dollar' and for some reason had a grudge against Linksys even before the Cisco buyout [0]. Same for most of their B/G Wireless stuff. [0] - That came up once. | | --- | --- | --- | | | |  |  | [tuetuopay](user?id=tuetuopay) [3 months ago](item?id=41611336)   | [root](#41607030) | [parent](#41610485) | [prev](#41612232) | [next](#41608841) [–]  you'd be glad to hear the e810 series is not better in this regard. at least the out-of-tree driver somewhat works, and supports more than 1 queue. | | --- | --- | --- | | | |  |  | [Rinzler89](user?id=Rinzler89) [3 months ago](item?id=41608841)   | [root](#41607030) | [parent](#41607523) | [prev](#41608501) | [next](#41607766) [–]  *>Why can't they hire someone that actually knows what they are doing?* Because those employees cost a lot of money and these commodity widgets have razor thin margins that don't enable them to pay high salaries while also making enough profit to stay in business. You can pay more to hire better people and put the extra cost in the price of the product but then HP, Lenovo, Dell, et-al aren't gonna buy your product anymore, they're gonna buy instead from your competition who's maybe worse but provides lower prices which is what's most important for them because the average end user of the laptop won't notice the difference between network cards but they do check the sticker price of the machine on Amazon/Walmart and make the purchasing decision on that and stuff like the CPU and GPU not on the network card in the spec sheet. | | --- | --- | --- | | | |  |  | [ta988](user?id=ta988) [3 months ago](item?id=41607766)   | [root](#41607030) | [parent](#41607523) | [prev](#41608841) | [next](#41608210) [–]  Because you have to over pay all those executives and shareholders. | | --- | --- | --- | | | |  |  | [fragmede](user?id=fragmede) [3 months ago](item?id=41608210)   | [root](#41607030) | [parent](#41607523) | [prev](#41607766) | [next](#41609761) [–]  Hardware companies are bad at making software, and the corollary, software companies are bad at making hardware. | | --- | --- | --- | | | |  |  | [perching\_aix](user?id=perching_aix) [3 months ago](item?id=41608415)   | [root](#41607030) | [parent](#41608210) | [next](#41609260) [–]  I feel like there's an opportunity for a joke here somewhere along the lines of hardware companies being really terrible at writing software, while software companies being just a normal amount of terrible at writing software. | | --- | --- | --- | | | |  |  | [a\_dabbler](user?id=a_dabbler) [3 months ago](item?id=41608431)   | [root](#41607030) | [parent](#41608415) | [next](#41609260) [–]  A few attempts with chstgpt managed it: "Hardware companies writing software is like watching a train wreck in slow motion. Software companies? They just crash at regular speed." | | --- | --- | --- | | | |  |  | [dist-epoch](user?id=dist-epoch) [3 months ago](item?id=41609260)   | [root](#41607030) | [parent](#41608210) | [prev](#41608415) | [next](#41608260) [–]  Which is why NVIDIA is king of the world, they are good at both hardware and software. | | --- | --- | --- | | | |  |  | [therein](user?id=therein) [3 months ago](item?id=41608260)   | [root](#41607030) | [parent](#41608210) | [prev](#41609260) | [next](#41609761) [–]  In the middle you have Apple that is getting better at making certain kinds of hardware, worse at some hardware and definitely worse in software. | | --- | --- | --- | | | |  |  | [layer8](user?id=layer8) [3 months ago](item?id=41609761)   | [root](#41607030) | [parent](#41607523) | [prev](#41608210) | [next](#41607700) [–]  Hardware manufacturers see software as a cost center, it’s often made as cheaply as possible. And hardware engineers aren’t necessarily good software developers. It isn’t their main expertise. | | --- | --- | --- | | | |  |  | [dboreham](user?id=dboreham) [3 months ago](item?id=41607700)   | [root](#41607030) | [parent](#41607523) | [prev](#41609761) | [next](#41607209) [–]  Because money | | --- | --- | --- | | | |  |  | [molticrystal](user?id=molticrystal) [3 months ago](item?id=41607209)   | [parent](#41607030) | [prev](#41607523) | [next](#41609001) [–]  Is there any news releases or other information about that program, such as their goals, how much of the feed is merged upstream, etc? | | --- | --- | --- | | | |  |  | [qhwudbebd](user?id=qhwudbebd) [3 months ago](item?id=41609001)   | [prev](#41607030) | [next](#41606990) [–]  The wording of the headline is a bit misleading here. I followed the link thinking it might be a firmware or silicon bug as I have a couple of routers at home with mt76 wifi, but was relieved to find it's just a bug in the vendor's 'sdk' shovelware. I'm baffled that anyone even thought about using that, given there's such good mt76 support from mainline kernels with hostapd. | | --- | --- | --- | | | |  |  | [Terretta](user?id=Terretta) [3 months ago](item?id=41610266)   | [parent](#41609001) | [next](#41611396) [–]  > *relieved to find it's just a bug in the vendor's 'sdk' shovelware* Vendors plural to worry about: *“…driver bundles used in products from various manufacturers, including [but not limited to] Ubiquiti, Xiaomi and Netgear.”* That said, vendors (plural) say no products use this, e.g. Ubiquiti: [https://community.ui.com/questions/CVE-2024-20017/b3f1a425-d...](https://community.ui.com/questions/CVE-2024-20017/b3f1a425-d7cc-4fce-9218-c930ce4fa35f) | | --- | --- | --- | | | |  |  | [qhwudbebd](user?id=qhwudbebd) [3 months ago](item?id=41610931)   | [root](#41609001) | [parent](#41610266) | [next](#41611396) [–]  Sorry, yes, my use of 'vendor' here was ambiguous. I meant Mediatek, the chipset vendor. | | --- | --- | --- | | | |  |  | [vesinisa](user?id=vesinisa) [3 months ago](item?id=41611396)   | [parent](#41609001) | [prev](#41610266) | [next](#41606990) [–]  > I'm baffled that anyone even thought about using that, given there's such good mt76 support from mainline kernels with hostapd. Not sure if you noticed but the OpenWRT 21.02.x series (based on mainline kernel 5.4 series) is affected, and these guys generally know their game when it comes to wireless on Linux. So much so that I think the mainline kernel mt76 driver is actually maintained by an OpenWRT developer. | | --- | --- | --- | | | |  |  | [mbilker](user?id=mbilker) [3 months ago](item?id=41611803)   | [root](#41609001) | [parent](#41611396) | [next](#41606990) [–]  Upstream OpenWrt does not use `wappd` so it should not be affected. | | --- | --- | --- | | | |  |  | [vesinisa](user?id=vesinisa) [3 months ago](item?id=41612458)   | [root](#41609001) | [parent](#41611803) | [next](#41606990) [–]  Interesting. The bulletin lists "OpenWrt 19.07, 21.02 (for MT6890)" as vulnerable, but OpenWRT had indeed no security advisory out for this: <https://openwrt.org/advisory/start> Maybe MediaTek has shipped some modified versions of OpenWRT using this "wappd" thing to their B2B customers (as part of the SDK perhaps?) and are now advertising those as vulnerable. | | --- | --- | --- | | | |  |  | [qhwudbebd](user?id=qhwudbebd) [3 months ago](item?id=41613024)   | [root](#41609001) | [parent](#41612458) | [next](#41606990) [–]  Yes, I'm assuming that's exactly why OpenWrt is mentioned but it's very misleading. The OpenWrt folks generally have good enough taste not to ship any drivers or userspace junk from vendor SDKs, though they do have a fair-sized set of backport patches on top of the (somewhat elderly) mainline kernels they do ship. I'm running up-to-date mainline on my routers, not OpenWrt kernels. The mt76 support in 6.11 (and previously in 6.9 and 6.10) is complete enough that I don't need to carry any patches at all over what's in Linus' tree. | | --- | --- | --- | | | |  |  | [hunter-gatherer](user?id=hunter-gatherer) [3 months ago](item?id=41606990)   | [prev](#41609001) | [next](#41609733) [–]  Original blog: [https://blog.coffinsec.com/0day/2024/08/30/exploiting-CVE-20...](https://blog.coffinsec.com/0day/2024/08/30/exploiting-CVE-2024-20017-four-different-ways.html) | | --- | --- | --- | | | |  |  | [userbinator](user?id=userbinator) [3 months ago](item?id=41607189)   | [parent](#41606990) | [next](#41609733) [–]  *The wappd service is primarily used to configure and coordinate the operations of wireless interfaces and access points using Hotspot 2.0 and related technologies. The structure of the application is a bit complex but it’s essentially composed of this network service, a set of local services which interact with the wireless interfaces on the device, and communication channels between the various components, using Unix domain sockets.* On the bright side, it doesn't sound like this is in baseband firmware but instead in a "value add" service that isn't 100% necessary to the functioning of the WNIC itself. This reminds me of how some devices come with driver packages that include not just the actual driver software that's usually tiny and unobtrusive, but several orders of magnitude larger bloatware for features that 99% of users don't need nor want. Printers and GPUs are particularly guilty of this. | | --- | --- | --- | | | |  |  | [dvh](user?id=dvh) [3 months ago](item?id=41608564)   | [root](#41606990) | [parent](#41607189) | [next](#41609733) [–]  > The structure of the application is a bit complex I've done some Android development so let me translate that for you: "layers upon layers of dog shit APIs" | | --- | --- | --- | | | |  |  | [userbinator](user?id=userbinator) [3 months ago](item?id=41609119)   | [root](#41606990) | [parent](#41608564) | [next](#41609733) [–]  I've done some Android RE and agree with you. It's basically Enterprise Java culture. | | --- | --- | --- | | | |  |  | [Retr0id](user?id=Retr0id) [3 months ago](item?id=41609733)   | [prev](#41606990) | [next](#41607163) [–]  Is there some logic to MediaTek's naming conventions, or all their devices just MTxxxx where x is some incremented/random number? I have a device with a mt6631 wifi chip and I'd *assume* it's unaffected just because it's not mentioned as affected anywhere, but it's hard to tell where it might fit into the lineup. | | --- | --- | --- | | | |  |  | [kam](user?id=kam) [3 months ago](item?id=41607163)   | [prev](#41609733) | [next](#41607867) [–]  They say that OpenWrt 19.07 and 21.02 are affected, but as far as I can tell, official builds of OpenWrt only use the mt76 driver and not the Mediatek SDK. | | --- | --- | --- | | | |  |  | [hedora](user?id=hedora) [3 months ago](item?id=41607511)   | [parent](#41607163) | [next](#41607867) [–]  It’s similar for Ubiquti: [https://community.ui.com/questions/CVE-2024-20017/b3f1a425-d...](https://community.ui.com/questions/CVE-2024-20017/b3f1a425-d7cc-4fce-9218-c930ce4fa35f) There are vulnerable drivers for some chipsets used by UBNT hardware, but they have zero products that use those drivers. | | --- | --- | --- | | | |  |  | [RedShift1](user?id=RedShift1) [3 months ago](item?id=41607867)   | [prev](#41607163) | [next](#41607642) [–]  I've been buying laptops with AMD CPU's but they always come with these trash MediaTek RZ616 Wi-Fi cards, why is that? I've been replacing them with Intel Wi-Fi cards, now I have a pile of RZ616 cards ready to become future microplastics :-( | | --- | --- | --- | | | |  |  | [zekica](user?id=zekica) [3 months ago](item?id=41610204)   | [parent](#41607867) | [next](#41609704) [–]  Intel sells two versions of their WiFi cards: ones ending in 1 use CNVI protocol and work only with Intel chips. These are sold really cheap to OEMs; ones ending in 0 use standard PCIe and are sold to OEMs for ~$10 more. AMD decided to brand Mediatek's MT7921 and MT7922 as RZ608 and RZ616 to have something to sell to OEMs at the same price point as Intel's xx1 chips. | | --- | --- | --- | | | |  |  | [heffer](user?id=heffer) [3 months ago](item?id=41609704)   | [parent](#41607867) | [prev](#41610204) | [next](#41608617) [–]  Lenovo grew unhappy with MediaTek as well and started soldering down Qualcomm chips for WLAN on their AMD platforms only to be burned by buggy firmware/driver interactions on Linux (which they officially sell and support). And Qualcomm stretches themselves rather thin on the mainline kernel side once a chipset generation is no longer the latest. It takes a tremendous amount of vendor pressure to make Qualcomm do anything these days. | | --- | --- | --- | | | |  |  | [zokier](user?id=zokier) [3 months ago](item?id=41608617)   | [parent](#41607867) | [prev](#41609704) | [next](#41611400) [–]  iwlwifi has its own set of problems, biggest being no AP mode (on 5 Ghz). Also intels firmware license is more restrictive than mediateks, and being fullmac the firmware does lot more of the heavy lifting; I personally prefer softmac more. There simply aren't that many great options out there, gone are the golden days of ath9k. | | --- | --- | --- | | | |  |  | [tuetuopay](user?id=tuetuopay) [3 months ago](item?id=41611400)   | [parent](#41607867) | [prev](#41608617) | [next](#41609522) [–]  Have you tried them further than "I don't trust MediaTek"? I've had sequentially an Intel and an AMD ThinkPad for work (I killed the first one). Turns out, the wifi is much much better on the AMD one with the MediaTek chipset than on the Intel one with the Intel chipset. On the latter, I had very frequent disconnects from the network (severals per hour) along with atrocious latency even on 5GHz. And by atrocious latency, I mean atrocious as in "it is more than noticeable when using ssh". The current one has been rock solid for the past two or three years. So yeah, I guess it really depends. The specific chipset I have is a MT7921 and I'm running Linux, YMMV. And it also may depend on the laptop itself. | | --- | --- | --- | | | |  |  | [RedShift1](user?id=RedShift1) [3 months ago](item?id=41612311)   | [root](#41607867) | [parent](#41611400) | [next](#41609522) [–]  The laptops run Windows. It's not about trust, they just don't work well. They take a long time to connect, particularly after returning from sleep. Many times I have to disconnect and reconnect manually after returning from sleep. I replace them with Intel Wi-Fi ones and it just works. I'd really rather just replace them than face user complaints. | | --- | --- | --- | | | |  |  | [tuetuopay](user?id=tuetuopay) [3 months ago](item?id=41616928)   | [root](#41607867) | [parent](#41612311) | [next](#41609522) [–]  Urgh. Kudos to you, that’s no easy task. And this might explain a lot, I’ve never liked the WiFi experience in windows. I find Linux with IWD to be stable as hell | | --- | --- | --- | | | |  |  | [0points](user?id=0points) [3 months ago](item?id=41609522)   | [parent](#41607867) | [prev](#41611400) | [next](#41608322) [–]  You get what you pay for. | | --- | --- | --- | | | |  |  | [smilespray](user?id=smilespray) [3 months ago](item?id=41608322)   | [parent](#41607867) | [prev](#41609522) | [next](#41607642) [–]  You know why. Price. | | --- | --- | --- | | | |  |  | [usr1106](user?id=usr1106) [3 months ago](item?id=41607642)   | [prev](#41607867) | [next](#41607130) [–]  IIRC my phone uses a MediaTek chipset. And I vaguely remember the vendor has moved away from MediaTek since because of the ahem quality of those products... No idea how WiFi is done on a phone though. Is there a way to find out whether the phone is affected? I hardly ever use WiFi because I have unlimited cellular data and good coverage, but would still be good to know. | | --- | --- | --- | | | |  |  | [tetris11](user?id=tetris11) [3 months ago](item?id=41608882)   | [parent](#41607642) | [next](#41607130) [–]  termux -> "sudo su" and then ```     ls /sys/module  ``` (it gives an output similar to lsmod) | | --- | --- | --- | | | |  |  | [AStonesThrow](user?id=AStonesThrow) [3 months ago](item?id=41611376)   | [root](#41607642) | [parent](#41608882) | [next](#41612457) [–]  Back in the day, shell coders would receive the "Useless Use Of Cat" award. <https://news.ycombinator.com/item?id=23341711> Today it's giving way to "useless use of su" where admins aren't aware of sudo(8) options like "-s" or "-i" | | --- | --- | --- | | | |  |  | [Retr0id](user?id=Retr0id) [3 months ago](item?id=41612315)   | [root](#41607642) | [parent](#41611376) | [next](#41611700) [–]  And anyone who points that out still gets to receive the "useless use of code golfing" award. | | --- | --- | --- | | | |  |  | [AStonesThrow](user?id=AStonesThrow) [3 months ago](item?id=41612359)   | [root](#41607642) | [parent](#41612315) | [next](#41622319) [–]  Sure, it's annoying and pedantic to nitpick someone's helpful answers and snippets. But sometimes the goal is to foster a better understanding, and reduce superstition and cargo-culting. "sync<CR>sync<CR>sync<CR>reboot<CR>" became an idiom for various reasons. Then it became "sync; sync; sync; reboot" and deemed equivalent, which was missing the point that physically pressing "enter" introduced some human-length pauses into the process. Then "reboot(8)" incorporated those syncs, and "shutdown(8)" provided more flexibility, but the idiom persisted. And to this day, the tier-1 support script says to clear your cookies and cache, try a different browser, factory reset your phone, disable firewall, disable AV, reboot your router, bypass your switch and plug in one device directly, wait 15 minutes and try again, and we've abandoned all attempts to understand, diagnose, or find root causes when the underlying systems are too diverse and complex to understand or keep your tech's expertise up-to-date. | | --- | --- | --- | | | |  |  | [Retr0id](user?id=Retr0id) [3 months ago](item?id=41612585)   | [root](#41607642) | [parent](#41612359) | [next](#41622319) [–]  Not memorizing all of sudo's flags isn't cargo culting, and neither is using cat to improve clarity. | | --- | --- | --- | | | |  |  | [AStonesThrow](user?id=AStonesThrow) [3 months ago](item?id=41613105)   | [root](#41607642) | [parent](#41612585) | [next](#41622319) [–]  Strawman--nobody said that. All I suggest is that if you wish to accomplish a particular task, then read the manual at that point, and find relevant ways to invoke the command. The options I've memorized over the years are the ones I've used the most often, and this inertia can lead to ignorance, unless I periodically revisit the manual page to see what else can be done. Every IT/CS instructor will tell you that your source of truth is the vendor's documentation. Don't waste your time Googling Stackexchange when the manual pages are available right on the system, on a website, or however. The manual pages are written by the developers and tech writers to specifically tell you how to use these commands. You can either "cat for clarity" for the rest of your career, or you can learn new methods like shell redirects, "tee(1)", "exec <file; while read var; do cmd; done". I wouldn't be surprised if people start their careers thinking that "cat" is just for starting up a pipeline. Other students may be taught that "cat" is an elementary way to just put file contents on their terminal screen, and then they'll subsequently learn how "more(1)" is superior in this regard. "When all you have is a hammer, everything looks like a nail." | | --- | --- | --- | | | |  |  | [Woodi](user?id=Woodi) [3 months ago](item?id=41622319)   | [root](#41607642) | [parent](#41612315) | [prev](#41612359) | [next](#41611700) [–]  'sudo su' is pure absurd but then how name naming it a "golf" ?? :))) So maybe Perl is not so write-only after all ? ;) | | --- | --- | --- | | | |  |  | [tetris11](user?id=tetris11) [3 months ago](item?id=41611700)   | [root](#41607642) | [parent](#41611376) | [prev](#41612315) | [next](#41612457) [–]  So with termux there is an actual root password set, but it differs from the phone password so it's often forgotten. The termux developers, knowing this, set it such that the default termix user can invoke sudo without a password. It might seem lazy, but its very useful | | --- | --- | --- | | | |  |  | [AStonesThrow](user?id=AStonesThrow) [3 months ago](item?id=41612052)   | [root](#41607642) | [parent](#41611700) | [next](#41612457) [–]  I am not sure how passwords are relevant to the pointless chaining of two distinct commands, rather than invoking a straightforward "sudo -s". People writing "sudo su" are simply imitating a common StackExchange idiom without knowing why. "su" requires passwords unless invoked by root. "sudo" may be configured to permit/deny specific commands. So if you write that, then you're saying 'become root via the sudoers(5) config and then fork, exec, become root again via the setuid binary "su", in order to run an interactive shell.' It's a poor habit to be promoting, because it assumes things about the configuration and suggests that "su" is equal to other particular "sudo" maintenance commands, when the point is simply to drop into a root shell, which is a facility provided directly by "sudo", if you'd only read the manual page and learn its options. Nothing will stop you from invoking "sudo -s" without a password, without another fork/exec, without another suid utility carrying a significantly different authentication model. | | --- | --- | --- | | | |  |  | [tetris11](user?id=tetris11) [3 months ago](item?id=41612250)   | [root](#41607642) | [parent](#41612052) | [next](#41612457) [–]  Doesn't "sudo -s" keep the current user's environment variables as opposed to "sudo su"? I admit that in the context of doing "ls /sys/module" it's likely not a huge problem, but I do (in my gut) feel that for running an elevated command, it's cleaner to just drop in as actual root, instead of masquerading as root. | | --- | --- | --- | | | |  |  | [AStonesThrow](user?id=AStonesThrow) [3 months ago](item?id=41612283)   | [root](#41607642) | [parent](#41612250) | [next](#41612457) [–]  > if you'd only read the manual page and learn its options. | | --- | --- | --- | | | |  |  | [tetris11](user?id=tetris11) [3 months ago](item?id=41612915)   | [root](#41607642) | [parent](#41612283) | [next](#41612457) [–]  > Depending on the security policy, the user's PATH environment variable may be modified, replaced, or passed unchanged to the program that sudo executes. Essentially a "maybe, depending on what your OS policy is", proving that your comments are less than helpful. | | --- | --- | --- | | | |  |  | [AStonesThrow](user?id=AStonesThrow) [3 months ago](item?id=41613039)   | [root](#41607642) | [parent](#41612915) | [next](#41612457) [–]  Well, you are moving the goalposts like crazy, considering you were just executing a simple command with your original example, but let me search it and demonstrate the rest of it, rather than your Ctrl-F find one option in question: [https://manpages.ubuntu.com/manpages/noble/en/man8/sudo.8.ht...](https://manpages.ubuntu.com/manpages/noble/en/man8/sudo.8.html#description) ```      -E, --preserve-env       --preserve-env=list       -H, --set-home       -i, --login       -s, --shell   The sudoers policy subjects environment variables passed as options to the same restrictions as existing environment variables with one important difference.  If the setenv option is set in sudoers, the command to be run has the SETENV tag set or the command matched is ALL, the user may set variables that would otherwise be forbidden.  ``` I am not sure what is meant by "masquerading as root" -- effective UID rather than real UID? "sudo" should set both to the target; there is no masquerading, even if you end up in a root shell with features of the invoking user's environment, those relevant variables should've been adjusted in the process. So what you're proposing to do is to escalate privilege using "sudo"s security model and configuration, which may add, suppress, or alter environment variables, as well as SELinux and resource limits and cgroups or whatever, and then have a second go-round through "su" may alter the environment further, making for an unpredictable interaction. Hopefully it's all harmonized through PAM, but all you wanted is an interactive shell. Why try to justify this copy-paste idiom? In fact, I could rewrite your original snippet as ```   sudo ls /sys/module  ``` Why are you even opening an interactive shell to do one simple command? If that's all you want, then learn and use the appropriate idiom for it. "sudo(8)" was originally designed to run one-off commands without invoking that shell. In fact, security experts will tell you not to leave root shells open at any time. If you can run a "sudo command" and return to your user shell, then that is best practice. | | --- | --- | --- | | | |  |  | [tetris11](user?id=tetris11) [3 months ago](item?id=41613360)   | [root](#41607642) | [parent](#41613039) | [next](#41612457) [–]  Hey, thanks for the one extremely useful comment! | | --- | --- | --- | | | |  |  | [usr1106](user?id=usr1106) [3 months ago](item?id=41612457)   | [root](#41607642) | [parent](#41608882) | [prev](#41611376) | [next](#41607130) [–]  Thanks! I had thought about mentioning my phone is not rooted, but then I skipped it because that should be the default... | | --- | --- | --- | | | |  |  | [1oooqooq](user?id=1oooqooq) [3 months ago](item?id=41607130)   | [prev](#41607642) | [next](#41609896) [–]  i still cannot fathom why in this day and age where people buy any silicon that's available, these C tier vendors don't adopt the PC strategy and completely open their firmwares for open source community. | | --- | --- | --- | | | |  |  | [userbinator](user?id=userbinator) [3 months ago](item?id=41607142)   | [parent](#41607130) | [next](#41609896) [–]  FCC regulations around not making it easy to transmit outside of the licensed band tend to cause this. | | --- | --- | --- | | | |  |  | [hakfoo](user?id=hakfoo) [3 months ago](item?id=41632533)   | [root](#41607130) | [parent](#41607142) | [next](#41607151) [–]  It feels like they're using software as a solution to a hardware problem. No matter what the software says, or what keys it has set, the hardware should still be hard-configured to honour regional power output limits. This could be something like a block of DIP switches under the cover, so if a user unbolts the case, finds the switch, and toggles it to some country with looser requirements, it's obviously going against manufacturer advice and washes their hands of liability. | | --- | --- | --- | | | |  |  | [vlovich123](user?id=vlovich123) [3 months ago](item?id=41607151)   | [root](#41607130) | [parent](#41607142) | [prev](#41632533) | [next](#41610556) [–]  Making the code available doesn’t necessarily mean that you can actually flash the image since it can be cryptographically locked down. Or even you support flashing but only let you do certain trusted operations from a signed image. | | --- | --- | --- | | | |  |  | [fn-mote](user?id=fn-mote) [3 months ago](item?id=41607191)   | [root](#41607130) | [parent](#41607151) | [next](#41610572) [–]  I feel like I'm missing something here. Honestly, if you can't update the firmware you're in the same situation... knowing that you have a critical vulnerability and unable to fix it. Enforcing trusted operations is definitely more work than they are going to do (if it's even possible to "do this right"). In a semi-ideal world, I would look for a vendor that permits only certain ops from a flashed image and hope that their crappy "restriction enforcing" code is also riddled with vulnerabilites so it's really just "follow the rules please". | | --- | --- | --- | | | |  |  | [1oooqooq](user?id=1oooqooq) [3 months ago](item?id=41610572)   | [root](#41607130) | [parent](#41607151) | [prev](#41607191) | [next](#41610556) [–]  you managed to completely miss the point. going the pc route is fully embracing your hardware accept whatever software the user wants. not throw unbuildable source somewhere and make it impossible to use. that's the faux open source we have today when someone must comply with the gpl or something | | --- | --- | --- | | | |  |  | [vlovich123](user?id=vlovich123) [3 months ago](item?id=41611481)   | [root](#41607130) | [parent](#41610572) | [next](#41610556) [–]  I think you happened to miss the point about regulatory requirements that make this difficult/impossible to accomplish for the radio vendor. I think the proliferation of SDR is the only hope to change the broader regulatory culture but until that happens you're not going to see a shift. I think it's also rich calling GPL compliance faux open source. There really is no true Scotsman. | | --- | --- | --- | | | |  |  | [ImPostingOnHN](user?id=ImPostingOnHN) [3 months ago](item?id=41622806)   | [root](#41607130) | [parent](#41611481) | [next](#41610556) [–]  What are those regulatory requirements, and what do they say? Thank you. | | --- | --- | --- | | | |  |  | [vlovich123](user?id=vlovich123) [3 months ago](item?id=41627521)   | [root](#41607130) | [parent](#41622806) | [next](#41610556) [–]  [https://apps.fcc.gov/kdb/GetAttachment.html?id=zXtrctoj6zH7o...](https://apps.fcc.gov/kdb/GetAttachment.html?id=zXtrctoj6zH7oNEOO6De6g%3D%3D&desc=594280%20D02%20U-NII%20Device%20Security%20v01r03&tracking_number=39498) Manufacturers of radios have to prevent the ability to behave in a non-compliant manner. One way of accomplishing that is preventing the user from updating software to non-official versions. Another is to prevent the small subset of functionality to be updated by non-official versions. This isn't a new requirement and has been around since forever. | | --- | --- | --- | | | |  |  | [1oooqooq](user?id=1oooqooq) [3 months ago](item?id=41610556)   | [root](#41607130) | [parent](#41607142) | [prev](#41607151) | [next](#41611798) [–]  that point is completely bogus since hardware oscillators limit the range. and even multi range devices let the driver decide the region, so even with closed source you can already offend fcc regulations (pro tip set your wifi region to cuba for extra channels) | | --- | --- | --- | | | |  |  | [eqvinox](user?id=eqvinox) [3 months ago](item?id=41610729)   | [root](#41607130) | [parent](#41610556) | [next](#41611798) [–]  Hardware oscillators don't limit anything, PLL ranges and amplifier band characteristics do, and they have soft falloffs. Please stop making claims you have little knowledge around. (no, a PLL is not considered a "hardware oscillator" in any practical sense by anyone working in this area, that's "tomatoes in a fruit salad" category) | | --- | --- | --- | | | |  |  | [anthk](user?id=anthk) [3 months ago](item?id=41611798)   | [root](#41607130) | [parent](#41607142) | [prev](#41610556) | [next](#41609896) [–]  ath9k. | | --- | --- | --- | | | |  |  | [eqvinox](user?id=eqvinox) [3 months ago](item?id=41609896)   | [prev](#41607130) | [next](#41611809) [–]  > The affected versions include MediaTek SDK versions 7.4.0.1 and earlier, as well as OpenWrt 19.07 and 21.02. > The vulnerability resides in wappd, a network daemon included in the MediaTek MT7622/MT7915 SDK and RTxxxx SoftAP driver bundle. OpenWRT doesn't seem to use wappd though? | | --- | --- | --- | | | |  |  | [zekica](user?id=zekica) [3 months ago](item?id=41609941)   | [parent](#41609896) | [next](#41610379) [–]  As a contributor to OpenWrt it makes me wonder why don't people differentiate between OpenWrt and various proprietary vendor SDKs. No one would have referenced Fedora if there was a bug in Nobara. | | --- | --- | --- | | | |  |  | [caconym\_](user?id=caconym_) [3 months ago](item?id=41610379)   | [parent](#41609896) | [prev](#41609941) | [next](#41611809) [–]  Came here wondering this, as I have several Netgear APs running OpenWRT on my home network. Sounds like I'm in the clear? | | --- | --- | --- | | | |  |  | [eqvinox](user?id=eqvinox) [3 months ago](item?id=41610715)   | [root](#41609896) | [parent](#41610379) | [next](#41611809) [–]  If it's a clean upstream OpenWRT, yes. For vendored OpenWRT, all bets are off. | | --- | --- | --- | | | |  |  | [anthk](user?id=anthk) [3 months ago](item?id=41611809)   | [prev](#41609896) | [next](#41606773) [–]  That's why we need free firmware. I'm tired of Broadcom and Ralink. | | --- | --- | --- | | | |  |  | [shadowpho](user?id=shadowpho) [3 months ago](item?id=41606773)   | [prev](#41611809) | [next](#41609361) [–]  Exploit is hard to distinguish between a back door here. | | --- | --- | --- | | | |  |  | [saagarjha](user?id=saagarjha) [3 months ago](item?id=41607111)   | [parent](#41606773) | [next](#41609361) [–]  Posting claims of it being such is pretty easy, though. | | --- | --- | --- | | | |  |  | [pixl97](user?id=pixl97) [3 months ago](item?id=41607169)   | [root](#41606773) | [parent](#41607111) | [next](#41609361) [–]  There is a better middle ground here by saying the company that made it may not have known, but nation state threat actors most likely do. When you see actors at this level set up manufacturing thousands of explosive filled devices at very high production quality, inserting some compromised things like printers or routers in a company network wouldn't be and shouldn't be a surprise. | | --- | --- | --- | | | |  |  | [hedora](user?id=hedora) [3 months ago](item?id=41607471)   | [root](#41606773) | [parent](#41607169) | [next](#41609361) [–]  If the nation state actors did intentionally backdoor it, then they would have wanted to make it look like incompetence. Here’s a link to the Simple Sabotage Field Manual from the US. It worked well in occupied Europe during WWII: <https://archive.org/details/SimpleSabotageFieldManual> | | --- | --- | --- | | | |  |  | [justmarc](user?id=justmarc) [3 months ago](item?id=41609361)   | [prev](#41606773) | [next](#41607883) [–]  Welcome back to the 90s. | | --- | --- | --- | | | |  |  | [mmsc](user?id=mmsc) [3 months ago](item?id=41607883)   | [prev](#41609361) | [next](#41609211) [–]  Can the OP's link be changed to the original source, not the advertisement it currently links to? The exploit is documented [https://blog.coffinsec.com/0day/2024/08/30/exploiting-CVE-20...](https://blog.coffinsec.com/0day/2024/08/30/exploiting-CVE-2024-20017-four-different-ways.html) | | --- | --- | --- | | | |  |  | [armada651](user?id=armada651) [3 months ago](item?id=41608475)   | [parent](#41607883) | [next](#41609785) [–]  I don't think that link is necessarily better just because it's the original source. The linked article gives a concise overview, while the blog post spends the first paragraph talking about moving and starting a new job. | | --- | --- | --- | | | |  |  | [mmsc](user?id=mmsc) [3 months ago](item?id=41608517)   | [root](#41607883) | [parent](#41608475) | [next](#41609785) [–]  In general, I would wager that HN prefers intellectual curiosity over overviews. Submission guidelines infer that by stating "Please submit the original source. If a post reports on something found on another site, submit the latter." | | --- | --- | --- | | | |  |  | [codethief](user?id=codethief) [3 months ago](item?id=41609003)   | [root](#41607883) | [parent](#41608517) | [next](#41609785) [–]  Sure, though I'd argue in the case of vulnerabilities an overview is particularly valuable. Not everyone wants to dive into the details; in my case what I'm most interested in is whether I (or anyone else at my day job) might be affected. | | --- | --- | --- | | | |  |  | [freedomben](user?id=freedomben) [3 months ago](item?id=41609462)   | [root](#41607883) | [parent](#41609003) | [next](#41609785) [–]  I would agree. I would also say that when the secondary article contains a lot of value added above, the original, such as is the case here, the secondary source is better because it is easy to follow its link to the original if that's what you'd like to see. I definitely agree with the guideline around favoring original sources, but this seems like a good time to deviate. | | --- | --- | --- | | | |  |  | [Retr0id](user?id=Retr0id) [3 months ago](item?id=41609785)   | [parent](#41607883) | [prev](#41608475) | [next](#41609211) [–]  Their exploit development process is interesting, and I like to think I'd have done something similar (that is, compiling an easier-to-exploit version of the application and gradually working up to the real thing) | | --- | --- | --- | | | |  |  | [q3k](user?id=q3k) [3 months ago](item?id=41609211)  [flagged]  | [prev](#41607883) | [next](#41608140) [12 more]  "No way to prevent this" say users of only language where this regularly happens | | --- | --- | --- | | | |  |  | [dang](user?id=dang) [3 months ago](item?id=41613582)   | [parent](#41609211) | [next](#41609276) [–]  "*Don't be snarky. [...] Omit internet tropes.*" <https://news.ycombinator.com/newsguidelines.html> | | --- | --- | --- | | | |  |  | [happosai](user?id=happosai) [3 months ago](item?id=41609276)   | [parent](#41609211) | [prev](#41613582) | [next](#41610704) [–]  Well it was solved decades ago in Java yet Java apps have proven no more secure in general. It is a broader ecosystem problem that there almost no incentive to write secure code. Security is an afterthought like documentation. | | --- | --- | --- | | | |  |  | [stavros](user?id=stavros) [3 months ago](item?id=41609341)   | [root](#41609211) | [parent](#41609276) | [next](#41610704) [–]  > Java apps have proven no more secure in general Really? I think an extraordinary claim like "eliminating a whole class of problems makes applications no more secure in general" should also come with extraordinary evidence. | | --- | --- | --- | | | |  |  | [petee](user?id=petee) [3 months ago](item?id=41609433)   | [root](#41609211) | [parent](#41609341) | [next](#41610704) [–]  I think Java's CVE list should say enough. Point being humans can muck anything up, regardless of safeguards | | --- | --- | --- | | | |  |  | [Clamchop](user?id=Clamchop) [3 months ago](item?id=41609708)   | [root](#41609211) | [parent](#41609433) | [next](#41609458) [–]  The point of the person you're replying to is that JVM software has far fewer vulnerabilities than it would have otherwise. The number of CVEs reveals that there is a lot of Java software and that there's a strong culture of importing dependencies. But we also care about the nature of them, the normalized relative frequency of very serious flaws like RCE exploits. | | --- | --- | --- | | | |  |  | [stavros](user?id=stavros) [3 months ago](item?id=41609458)   | [root](#41609211) | [parent](#41609433) | [prev](#41609708) | [next](#41609503) [–]  A CVE list says nothing. I made my own language which has no CVEs, that obviously doesn't mean it's secure. The relevant metric is "CVEs per unit of functionality". | | --- | --- | --- | | | |  |  | [sedatk](user?id=sedatk) [3 months ago](item?id=41609672)   | [root](#41609211) | [parent](#41609458) | [next](#41609503) [–]  Also, popularity directly affects the number of CVEs. | | --- | --- | --- | | | |  |  | [bastawhiz](user?id=bastawhiz) [3 months ago](item?id=41609503)   | [root](#41609211) | [parent](#41609433) | [prev](#41609458) | [next](#41610704) [–]  This is a nonsense statement unless you note the Java runtime. Java is a language. The runtime is the software that runs the Java code. There's more than one runtime. | | --- | --- | --- | | | |  |  | [eqvinox](user?id=eqvinox) [3 months ago](item?id=41610704)   | [parent](#41609211) | [prev](#41609276) | [next](#41611826) [–]  C, C++ and assembly are 3 languages where this regularly happens. Can we stop with the snide comments now please? They're not helpful. | | --- | --- | --- | | | |  |  | [asveikau](user?id=asveikau) [3 months ago](item?id=41611826)   | [parent](#41609211) | [prev](#41610704) | [next](#41611788) [–]  My anecdotal experience with mediatek wifi is it's a very flakey, low quality brand. That might be more of the reason. The firmware is probably unpolished, rushed, not maintained by competent people. | | --- | --- | --- | | | |  |  | [anthk](user?id=anthk) [3 months ago](item?id=41611788)   | [parent](#41609211) | [prev](#41611826) | [next](#41608140) [–]  Not an issue with ath9k. Guess why. Hint: not Rust related. | | --- | --- | --- | | | |  |  | [xtanx](user?id=xtanx) [3 months ago](item?id=41608140)   | [prev](#41609211) [–]  I would like to remind people of the 2016 Adups backdoor: > According to Kryptowire, Adups engineers would have been able to collect data such as SMS messages, call logs, contact lists, geo-location data, IMSI and IMEI identifiers, and would have been able to forcibly install other apps or execute root commands on all devices. [https://www.bleepingcomputer.com/news/security/android-adups...](https://www.bleepingcomputer.com/news/security/android-adups-backdoor-became-active-5-months-affected-43-phone-vendors/) | | --- | --- | --- | | | |  |  | [phh](user?id=phh) [3 months ago](item?id=41608592)   | [parent](#41608140) [–]  How is this relevant? | | --- | --- | --- | | |
| |  | | --- |   [Guidelines](newsguidelines.html) | [FAQ](newsfaq.html) | [Lists](lists) | [API](https://github.com/HackerNews/API) | [Security](security.html) | [Legal](https://www.ycombinator.com/legal/) | [Apply to YC](https://www.ycombinator.com/apply/) | Contact Search: |

