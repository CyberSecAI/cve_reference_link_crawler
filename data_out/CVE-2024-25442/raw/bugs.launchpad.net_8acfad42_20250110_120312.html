<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/hugin/+bug/2025032/+index" />

    <meta charset="UTF-8" />
    <title>Bug #2025032 “Heap-buffer-overflow when adding an image in Hugin...” : Bugs : Hugin</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/@@/apple-touch-icon.png?v=2022" />
    <link rel="icon" type="image/png" sizes="32x32" href="/@@/favicon-32x32.png?v=2022" />
    <link rel="icon" type="image/png" sizes="16x16" href="/@@/favicon-16x16.png?v=2022" />
    <link rel="manifest" href="/@@/site.webmanifest?v=2022" />
    <link rel="mask-icon" href="/@@/safari-pinned-tab.svg?v=2022" color="#e9531f" />
    <link rel="shortcut icon" href="/@@/favicon.ico?v=2022" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="msapplication-config" content="/@@/browserconfig.xml?v=2022" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/2025032" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/2025032/bug.atom" title="Bug 2025032 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev6394e03793719e8d73f5a60b5439440e693c92f1/combo.css" />


    

    
      <meta name="description" content="Hi there

We want to share that the latest version (2022.0.0) of pto_merge causes heap-buffer-overflow.

The invalid memory allocation may attribute to the excessive values in function parameters to the HuginBase::PanoramaMemento::loadPTScript.

Here is the output of program with address sanitizer attached.

### Bug Report
=================================================================
==3616==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000003800 at pc 0x7f3098044709 bp 0x..." />
      <meta property="og:description" content="Hi there

We want to share that the latest version (2022.0.0) of pto_merge causes heap-buffer-overflow.

The invalid memory allocation may attribute to the excessive values in function parameters to the HuginBase::PanoramaMemento::loadPTScript.

Here is the output of program with address sanitizer attached.

### Bug Report
=================================================================
==3616==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000003800 at pc 0x7f3098044709 bp 0x..." />
    

    
    
      <meta property="og:title" content="Bug #2025032 “Heap-buffer-overflow when adding an image in Hugin...” : Bugs : Hugin" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad-og-image.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/2025032" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?lp/',
                    comboBase: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["assistant", "celeste", "controlpoint", "cpfind", "enblend", "gpu", "gsoc", "hugin", "installer", "linux", "nona", "osx", "patch", "preference", "preview", "ptbatcher", "stitching", "usability", "windows"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/hugin/+bug/2025032/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/hugin"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/59421458/logo.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/hugin">Hugin</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/hugin">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/hugin">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/hugin">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/hugin">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/hugin">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/hugin">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    Heap-buffer-overflow when adding an image in HuginBase::PanoramaMemento::loadPTScript
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #2025032 reported by
      <a href="https://launchpad.net/~3den5eo" class="sprite person">Heewon Park</a>
      <time title="2023-06-26 08:47:52 UTC" datetime="2023-06-26T08:47:52.881461+00:00">on 2023-06-26</time>
      
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">256</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary3040009">
    <td>
      
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary3040009">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/hugin">Hugin</a>
        </span>
        
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusFIXRELEASED">Fix Released</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3040009">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href="https://launchpad.net/hugin/+milestone/2023.0beta1">Hugin 2023.0beta1</a>
        
      </div>
    </td>

    
  </tr>

  


        
      </tbody>

    </table>








      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>Hi there</p>
<p>We want to share that the latest version (2022.0.0) of pto_merge causes heap-buffer-<wbr />overflow.</p>
<p>The invalid memory allocation may attribute to the excessive values in function parameters to the HuginBase:<wbr />:PanoramaMement<wbr />o::loadPTScript<wbr />.</p>
<p>Here is the output of program with address sanitizer attached.</p>
<p>### <a href="/bugs/3616" class="bug-link">Bug Report<br />
=================================================================<br />
==3616</a>==ERROR: AddressSanitizer: heap-buffer-<wbr />overflow on address 0x602000003800 at pc 0x7f3098044709 bp 0x7ffe486d8200 sp 0x7ffe486d81f0<br />
READ of size 8 at 0x602000003800 thread T0<br />
&nbsp;&nbsp;&nbsp;&nbsp;#0 0x7f3098044708 in HuginBase:<wbr />:PanoramaMement<wbr />o::loadPTScript<wbr />(std::istream&amp;<wbr />, int&amp;, std::__<wbr />cxx11::<wbr />basic_string&lt;<wbr />char, std::char_<wbr />traits&lt;<wbr />char&gt;, std::allocator&lt;<wbr />char&gt; &gt; const&amp;) /home/ubuntu/<wbr />targets/<wbr />hugin-2022.<wbr />0.0_original/<wbr />src/hugin_<wbr />base/panodata/<wbr />image_variables<wbr />.h:100<br />
&nbsp;&nbsp;&nbsp;&nbsp;#1 0x7f3098052618 in HuginBase:<wbr />:Panorama:<wbr />:readData(<wbr />std::istream&amp;<wbr />, std::__<wbr />cxx11::<wbr />basic_string&lt;<wbr />char, std::char_<wbr />traits&lt;<wbr />char&gt;, std::allocator&lt;<wbr />char&gt; &gt;) /home/ubuntu/<wbr />targets/<wbr />hugin-2022.<wbr />0.0_original/<wbr />src/hugin_<wbr />base/panodata/<wbr />Panorama.<wbr />cpp:2178<br />
&nbsp;&nbsp;&nbsp;&nbsp;#2 0x55cfccdd8975 in main /home/ubuntu/<wbr />targets/<wbr />hugin-2022.<wbr />0.0_original/<wbr />src/tools/<wbr />pto_merge.<wbr />cpp:99<br />
&nbsp;&nbsp;&nbsp;&nbsp;#3 0x7f3095746082 in __libc_start_main ../csu/<wbr />libc-start.<wbr />c:308<br />
&nbsp;&nbsp;&nbsp;&nbsp;#4 0x55cfccdd9c5d in _start (/home/<wbr />ubuntu/<wbr />targets/<wbr />hugin-2022.<wbr />0.0_original/<wbr />build/src/<wbr />tools/pto_<wbr />merge+0xbc5d)</p>
<p>0x602000003800 is located 0 bytes to the right of 16-byte region [0x6020000037f0<wbr />,0x602000003800<wbr />)<br />
allocated by thread T0 here:<br />
&nbsp;&nbsp;&nbsp;&nbsp;#0 0x7f30984f0587 in operator new(unsigned long) ../../.<wbr />./../src/<wbr />libsanitizer/<wbr />asan/asan_<wbr />new_delete.<wbr />cc:104<br />
&nbsp;&nbsp;&nbsp;&nbsp;#1 0x7f309802e9a9 in __gnu_cxx:<wbr />:new_allocator&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />&gt;::allocate(<wbr />unsigned long, void const*) /usr/include/<wbr />c++/9/ext/<wbr />new_allocator.<wbr />h:114<br />
&nbsp;&nbsp;&nbsp;&nbsp;#2 0x7f309802e9a9 in std::allocator_<wbr />traits&lt;<wbr />std::allocator&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />&gt; &gt;::allocate(<wbr />std::allocator&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />&gt;&amp;, unsigned long) /usr/include/<wbr />c++/9/bits/<wbr />alloc_traits.<wbr />h:443<br />
&nbsp;&nbsp;&nbsp;&nbsp;#3 0x7f309802e9a9 in std::_Vector_<wbr />base&lt;HuginBase:<wbr />:SrcPanoImage*<wbr />, std::allocator&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />&gt; &gt;::_M_allocate(<wbr />unsigned long) /usr/include/<wbr />c++/9/bits/<wbr />stl_vector.<wbr />h:343<br />
&nbsp;&nbsp;&nbsp;&nbsp;#4 0x7f309802e9a9 in void std::vector&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />, std::allocator&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />&gt; &gt;::_M_realloc_<wbr />insert&lt;<wbr />HuginBase:<wbr />:SrcPanoImage* const&amp;&gt;<wbr />(__gnu_<wbr />cxx::__<wbr />normal_<wbr />iterator&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />*, std::vector&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />, std::allocator&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />&gt; &gt; &gt;, HuginBase:<wbr />:SrcPanoImage* const&amp;) /usr/include/<wbr />c++/9/bits/<wbr />vector.<wbr />tcc:440<br />
&nbsp;&nbsp;&nbsp;&nbsp;#5 0x7f309802e9a9 in std::vector&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />, std::allocator&lt;<wbr />HuginBase:<wbr />:SrcPanoImage*<wbr />&gt; &gt;::push_<wbr />back(HuginBase:<wbr />:SrcPanoImage* const&amp;) /usr/include/<wbr />c++/9/bits/<wbr />stl_vector.<wbr />h:1195<br />
&nbsp;&nbsp;&nbsp;&nbsp;#6 0x7f309802e9a9 in HuginBase:<wbr />:PanoramaMement<wbr />o::loadPTScript<wbr />(std::istream&amp;<wbr />, int&amp;, std::__<wbr />cxx11::<wbr />basic_string&lt;<wbr />char, std::char_<wbr />traits&lt;<wbr />char&gt;, std::allocator&lt;<wbr />char&gt; &gt; const&amp;) /home/ubuntu/<wbr />targets/<wbr />hugin-2022.<wbr />0.0_original/<wbr />src/hugin_<wbr />base/panodata/<wbr />Panorama.<wbr />cpp:3130<br />
&nbsp;&nbsp;&nbsp;&nbsp;#7 0x7f3098052618 in HuginBase:<wbr />:Panorama:<wbr />:readData(<wbr />std::istream&amp;<wbr />, std::__<wbr />cxx11::<wbr />basic_string&lt;<wbr />char, std::char_<wbr />traits&lt;<wbr />char&gt;, std::allocator&lt;<wbr />char&gt; &gt;) /home/ubuntu/<wbr />targets/<wbr />hugin-2022.<wbr />0.0_original/<wbr />src/hugin_<wbr />base/panodata/<wbr />Panorama.<wbr />cpp:2178<br />
&nbsp;&nbsp;&nbsp;&nbsp;#8 0x55cfccdd8975 in main /home/ubuntu/<wbr />targets/<wbr />hugin-2022.<wbr />0.0_original/<wbr />src/tools/<wbr />pto_merge.<wbr />cpp:99<br />
&nbsp;&nbsp;&nbsp;&nbsp;#9 0x7f3095746082 in __libc_start_main ../csu/<wbr />libc-start.<wbr />c:308</p>
<p>SUMMARY: AddressSanitizer: heap-buffer-<wbr />overflow /home/ubuntu/<wbr />targets/<wbr />hugin-2022.<wbr />0.0_original/<wbr />src/hugin_<wbr />base/panodata/<wbr />image_variables<wbr />.h:100 in HuginBase:<wbr />:PanoramaMement<wbr />o::loadPTScript<wbr />(std::istream&amp;<wbr />, int&amp;, std::__<wbr />cxx11::<wbr />basic_string&lt;<wbr />char, std::char_<wbr />traits&lt;<wbr />char&gt;, std::allocator&lt;<wbr />char&gt; &gt; const&amp;)<br />
Shadow bytes around the buggy address:<br />
&nbsp;&nbsp;0x0c047fff86b0: fa fa 00 00 fa fa 00 00 fa fa 04 fa fa fa 00 00<br />
&nbsp;&nbsp;0x0c047fff86c0: fa fa 01 fa fa fa 04 fa fa fa 00 00 fa fa 00 fa<br />
&nbsp;&nbsp;0x0c047fff86d0: fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa<br />
&nbsp;&nbsp;0x0c047fff86e0: fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 04 fa<br />
&nbsp;&nbsp;0x0c047fff86f0: fa fa 00 fa fa fa 00 fa fa fa 01 fa fa fa 00 00<br />
=&gt;0x0c047fff870<wbr />0:[fa]fa fd fa fa fa 00 fa fa fa 04 fa fa fa 00 fa<br />
&nbsp;&nbsp;0x0c047fff8710: fa fa 00 fa fa fa 04 fa fa fa 00 fa fa fa 00 fa<br />
&nbsp;&nbsp;0x0c047fff8720: fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa<br />
&nbsp;&nbsp;0x0c047fff8730: fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa<br />
&nbsp;&nbsp;0x0c047fff8740: fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 00<br />
&nbsp;&nbsp;0x0c047fff8750: fa fa 00 00 fa fa 04 fa fa fa 00 00 fa fa 01 fa<br />
Shadow byte legend (one shadow byte represents 8 application bytes):<br />
&nbsp;&nbsp;Addressable: 00<br />
&nbsp;&nbsp;Partially addressable: 01 02 03 04 05 06 07<br />
&nbsp;&nbsp;Heap left redzone: fa<br />
&nbsp;&nbsp;Freed heap region: fd<br />
&nbsp;&nbsp;Stack left redzone: f1<br />
&nbsp;&nbsp;Stack mid redzone: f2<br />
&nbsp;&nbsp;Stack right redzone: f3<br />
&nbsp;&nbsp;Stack after return: f5<br />
&nbsp;&nbsp;Stack use after scope: f8<br />
&nbsp;&nbsp;Global redzone: f9<br />
&nbsp;&nbsp;Global init order: f6<br />
&nbsp;&nbsp;Poisoned by user: f7<br />
&nbsp;&nbsp;Container overflow: fc<br />
&nbsp;&nbsp;Array cookie: ac<br />
&nbsp;&nbsp;Intra object redzone: bb<br />
&nbsp;&nbsp;ASan internal: fe<br />
&nbsp;&nbsp;Left alloca redzone: ca<br />
&nbsp;&nbsp;Right alloca redzone: cb<br />
&nbsp;&nbsp;Shadow gap: cc<br />
==3616==ABORTING</p>
<p>### Envionment<br />
OS: Ubuntu 20.04.5 LTS x86_64<br />
Release: hugin 2022.0.0<br />
Program: pto_merge<br />
libhuginbase: 2020.0.0 (retrieved and compiled from source code)<br />
libpano13: 2.9.19<br />
To reproduce the problem, we need to build hugin:<br />
sudo cmake -DCMAKE_<wbr />C_FLAGS=<wbr />&quot;-g&quot; -DCMAKE_<wbr />CXX_FLAGS=<wbr />&quot;-g&quot; ..</p>
<p>### How to reproduce<br />
$ pto_merge poc-file *.jpg<br />
(*.jpg any name of jpg file including asterisk(*))<br />
poc-file is attached.</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          <span>See <a href="comments/0">original description</a></span>
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            
          </span>
          <span id="tag-list">
          </span>
          
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2024-25442" title="An issue in the HuginBase::PanoramaMe...">2024-25442</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/hugin/+bug/2025032/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~3den5eo" class="sprite person">Heewon Park (3den5eo)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-06-26T08:47:52.881461+00:00" title="2023-06-26 08:47:52 UTC">on 2023-06-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/hugin/+bug/2025032/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/hugin/+bug/2025032/+attachment/5682006/+files/poc-file.txt" class="sprite download-icon">poc-file.txt</a>
        <a class="sprite edit action-icon" href="/hugin/+bug/2025032/+attachment/5682006">Edit</a>
        
        (451 bytes,
        text/plain)
        
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~3den5eo" class="sprite person">Heewon Park (3den5eo)</a>
    
    <time title="2023-06-26 09:07:17 UTC" datetime="2023-06-26T09:07:17.455322+00:00">on 2023-06-26</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/hugin/+bug/2025032/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tmodes" class="sprite person">tmodes (tmodes)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-06-29T17:21:01.900767+00:00" title="2023-06-29 17:21:01 UTC">on 2023-06-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/hugin/+bug/2025032/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fixed in repository.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fixed in repository.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in hugin: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>milestone</b>:
      </td>
      <td>
        none &#8594; 2023.0beta1
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Fix Committed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~3den5eo" class="sprite person">Heewon Park (3den5eo)</a>
    
    <time title="2023-06-30 02:28:14 UTC" datetime="2023-06-30T02:28:14.442924+00:00">on 2023-06-30</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~tmodes" class="sprite person">tmodes (tmodes)</a>
    
    <time title="2023-09-23 07:38:56 UTC" datetime="2023-09-23T07:38:56.456104+00:00">on 2023-09-23</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in hugin: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Fix Committed &#8594; Fix Released
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/hugin/+bug/2025032/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~3den5eo" class="sprite person">Heewon Park (3den5eo)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-27T05:26:24.631465+00:00" title="2023-12-27 05:26:24 UTC">on 2023-12-27</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2023-12-27T06:23:04.252359+00:00" title="2023-12-27 06:23:04 UTC">on 2023-12-27</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/hugin/+bug/2025032/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi there. I am Heewon, and I am writing to you regarding the recent vulnerabilities that our security team identified in Hugin. I appreciate your prompt attention to these matters, and I am pleased that the vulnerabilities have been confirmed and successfully patched by your development team.</p>
<p>To provide a standardized reference for these vulnerabilities within the cybersecurity community, we would like to request the assignment of Common Vulnerabilities and Exposures (CVE) identifiers. These identifiers will help streamline communication and information sharing among security professionals.</p>
<p>Below is a brief summary of the vulnerabilities along with the relevant details:</p>
<p>### CVE-2023-XXX1: [Description of Vulnerability 1]</p>
<p>- Confirmation: Fixed in Hugin 2022.0.0<br />
- Patch:  2023.0beta1 on  2023-06-29 by tmodes user<br />
- url: <a rel="nofollow" href="https://bugs.launchpad.net/hugin/+bug/2025032">https:/<wbr />/bugs.launchpad<wbr />.net/hugin/<wbr />+bug/2025032</a></p>
<p>### CVE-2023-XXX2: [Description of Vulnerability 2]</p>
<p>- Confirmation: Fixed in Hugin 2022.0.0<br />
- Patch:  2023.0beta1 on  2023-06-29 by tmodes user<br />
- url: <a rel="nofollow" href="https://bugs.launchpad.net/hugin/+bug/2025035">https:/<wbr />/bugs.launchpad<wbr />.net/hugin/<wbr />+bug/2025035</a></p>
<p>### CVE-2023-XXX3: [Description of Vulnerability 3]</p>
<p>- Confirmation: Fixed in Hugin 2022.0.0<br />
- Patch:  2023.0beta1 on  2023-06-29 by tmodes user<br />
- url: <a rel="nofollow" href="https://bugs.launchpad.net/hugin/+bug/2025036">https:/<wbr />/bugs.launchpad<wbr />.net/hugin/<wbr />+bug/2025036</a></p>
<p>### CVE-2023-XXX4: [Description of Vulnerability 4]</p>
<p>- Confirmation: Fixed in Hugin 2022.0.0<br />
- Patch:  2023.0beta1 on  2023-06-29 by tmodes user<br />
- url: <a rel="nofollow" href="https://bugs.launchpad.net/hugin/+bug/2025037">https:/<wbr />/bugs.launchpad<wbr />.net/hugin/<wbr />+bug/2025037</a></p>
<p>### CVE-2023-XXX5: [Description of Vulnerability 5]</p>
<p>- Confirmation: Fixed in Hugin 2022.0.0<br />
- Patch:  2023.0beta1 on  2023-06-29 by tmodes user<br />
- url: <a rel="nofollow" href="https://bugs.launchpad.net/hugin/+bug/2025038">https:/<wbr />/bugs.launchpad<wbr />.net/hugin/<wbr />+bug/2025038</a></p>
<p>We kindly request that you forward this information to the appropriate party responsible for CVE assignments within your organization. If your organization has a designated CVE Numbering Authority (CNA), please let us know the preferred process for CVE assignment.</p>
<p>Additionally, we have submitted the same request to MITRE Corporation and CERT/CC, the primary CVE Numbering Authority, for their consideration. However, CERT/CC asked us to refer to you for CVE assignments. Please work on this case and let us know which steps to take.</p>
<p>Thank you for your cooperation and commitment to addressing security issues promptly. If you require any further information or clarification, please do not hesitate to reach out.</p>
<p>We look forward to continuing a collaborative approach to enhancing the security of Hugin and appreciate your ongoing dedication to the security and well-being of your users.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi there. I am Heewon, and I am writing to you regarding the recent vulnerabilities that our security team identified in Hugin. I appreciate your prompt attention to these matters, and I am pleased that the vulnerabilities have been confirmed and successfully patched by your development team.

To provide a standardized reference for these vulnerabilities within the cybersecurity community, we would like to request the assignment of Common Vulnerabilities and Exposures (CVE) identifiers. These identifiers will help streamline communication and information sharing among security professionals.

Below is a brief summary of the vulnerabilities along with the relevant details:

### CVE-2023-XXX1: [Description of Vulnerability 1]

- Confirmation: Fixed in Hugin 2022.0.0
- Patch:  2023.0beta1 on  2023-06-29 by tmodes user
- url: https://bugs.launchpad.net/hugin/+bug/2025032

### CVE-2023-XXX2: [Description of Vulnerability 2]

- Confirmation: Fixed in Hugin 2022.0.0
- Patch:  2023.0beta1 on  2023-06-29 by tmodes user
- url: https://bugs.launchpad.net/hugin/+bug/2025035

### CVE-2023-XXX3: [Description of Vulnerability 3]

- Confirmation: Fixed in Hugin 2022.0.0
- Patch:  2023.0beta1 on  2023-06-29 by tmodes user
- url: https://bugs.launchpad.net/hugin/+bug/2025036

### CVE-2023-XXX4: [Description of Vulnerability 4]

- Confirmation: Fixed in Hugin 2022.0.0
- Patch:  2023.0beta1 on  2023-06-29 by tmodes user
- url: https://bugs.launchpad.net/hugin/+bug/2025037

### CVE-2023-XXX5: [Description of Vulnerability 5]

- Confirmation: Fixed in Hugin 2022.0.0
- Patch:  2023.0beta1 on  2023-06-29 by tmodes user
- url: https://bugs.launchpad.net/hugin/+bug/2025038

We kindly request that you forward this information to the appropriate party responsible for CVE assignments within your organization. If your organization has a designated CVE Numbering Authority (CNA), please let us know the preferred process for CVE assignment.

Additionally, we have submitted the same request to MITRE Corporation and CERT/CC, the primary CVE Numbering Authority, for their consideration. However, CERT/CC asked us to refer to you for CVE assignments. Please work on this case and let us know which steps to take.

Thank you for your cooperation and commitment to addressing security issues promptly. If you require any further information or clarification, please do not hesitate to reach out.

We look forward to continuing a collaborative approach to enhancing the security of Hugin and appreciate your ongoing dedication to the security and well-being of your users.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/hugin/+bug/2025032/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~3den5eo" class="sprite person">Heewon Park (3den5eo)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-05-22T13:34:40.765252+00:00" title="2024-05-22 13:34:40 UTC">on 2024-05-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/hugin/+bug/2025032/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The vulnerability was published as CVE-2024-25442.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The vulnerability was published as CVE-2024-25442.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/hugin/+bug/2025032/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/hugin/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    
    
    
    
    
    
    
  </ul>
  <ul id="lock-status-actions">
    
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/hugin/+bug/2025032/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/hugin/+bug/2025032/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/hugin/+bug/2025032/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/hugin/+bug/2025032/+attachment/5682006/+files/poc-file.txt" class="sprite download-icon">poc-file.txt</a>
        <a class="sprite edit action-icon" title="Change attachment details" href="/hugin/+bug/2025032/+attachment/5682006">Edit</a>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/hugin/+bug/2025032/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      <div class="portlet" id="portlet-watches">
  <h2>Remote bug watches</h2>
  <ul>
  </ul>
  <p>Bug watches keep track of this bug in other bug trackers.</p>
</div>

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-footer-logo.svg" alt="Launchpad" width="65" height="18" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://ubuntu.social/@launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        6394e03
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"related_features": {}, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/2025032", "web_link": "https://bugs.launchpad.net/bugs/2025032", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 2025032, "private": false, "information_type": "Public Security", "name": null, "title": "Heap-buffer-overflow when adding an image in HuginBase::PanoramaMemento::loadPTScript", "description": "Hi there\n\nWe want to share that the latest version (2022.0.0) of pto_merge causes heap-buffer-overflow.\n\nThe invalid memory allocation may attribute to the excessive values in function parameters to the HuginBase::PanoramaMemento::loadPTScript.\n\nHere is the output of program with address sanitizer attached.\n\n### Bug Report\n=================================================================\n==3616==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x602000003800 at pc 0x7f3098044709 bp 0x7ffe486d8200 sp 0x7ffe486d81f0\nREAD of size 8 at 0x602000003800 thread T0\n\u00a0\u00a0\u00a0\u00a0#0 0x7f3098044708 in HuginBase::PanoramaMemento::loadPTScript(std::istream\u0026, int\u0026, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026) /home/ubuntu/targets/hugin-2022.0.0_original/src/hugin_base/panodata/image_variables.h:100\n\u00a0\u00a0\u00a0\u00a0#1 0x7f3098052618 in HuginBase::Panorama::readData(std::istream\u0026, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e) /home/ubuntu/targets/hugin-2022.0.0_original/src/hugin_base/panodata/Panorama.cpp:2178\n\u00a0\u00a0\u00a0\u00a0#2 0x55cfccdd8975 in main /home/ubuntu/targets/hugin-2022.0.0_original/src/tools/pto_merge.cpp:99\n\u00a0\u00a0\u00a0\u00a0#3 0x7f3095746082 in __libc_start_main ../csu/libc-start.c:308\n\u00a0\u00a0\u00a0\u00a0#4 0x55cfccdd9c5d in _start (/home/ubuntu/targets/hugin-2022.0.0_original/build/src/tools/pto_merge+0xbc5d)\n\n0x602000003800 is located 0 bytes to the right of 16-byte region [0x6020000037f0,0x602000003800)\nallocated by thread T0 here:\n\u00a0\u00a0\u00a0\u00a0#0 0x7f30984f0587 in operator new(unsigned long) ../../../../src/libsanitizer/asan/asan_new_delete.cc:104\n\u00a0\u00a0\u00a0\u00a0#1 0x7f309802e9a9 in __gnu_cxx::new_allocator\u003cHuginBase::SrcPanoImage*\u003e::allocate(unsigned long, void const*) /usr/include/c++/9/ext/new_allocator.h:114\n\u00a0\u00a0\u00a0\u00a0#2 0x7f309802e9a9 in std::allocator_traits\u003cstd::allocator\u003cHuginBase::SrcPanoImage*\u003e \u003e::allocate(std::allocator\u003cHuginBase::SrcPanoImage*\u003e\u0026, unsigned long) /usr/include/c++/9/bits/alloc_traits.h:443\n\u00a0\u00a0\u00a0\u00a0#3 0x7f309802e9a9 in std::_Vector_base\u003cHuginBase::SrcPanoImage*, std::allocator\u003cHuginBase::SrcPanoImage*\u003e \u003e::_M_allocate(unsigned long) /usr/include/c++/9/bits/stl_vector.h:343\n\u00a0\u00a0\u00a0\u00a0#4 0x7f309802e9a9 in void std::vector\u003cHuginBase::SrcPanoImage*, std::allocator\u003cHuginBase::SrcPanoImage*\u003e \u003e::_M_realloc_insert\u003cHuginBase::SrcPanoImage* const\u0026\u003e(__gnu_cxx::__normal_iterator\u003cHuginBase::SrcPanoImage**, std::vector\u003cHuginBase::SrcPanoImage*, std::allocator\u003cHuginBase::SrcPanoImage*\u003e \u003e \u003e, HuginBase::SrcPanoImage* const\u0026) /usr/include/c++/9/bits/vector.tcc:440\n\u00a0\u00a0\u00a0\u00a0#5 0x7f309802e9a9 in std::vector\u003cHuginBase::SrcPanoImage*, std::allocator\u003cHuginBase::SrcPanoImage*\u003e \u003e::push_back(HuginBase::SrcPanoImage* const\u0026) /usr/include/c++/9/bits/stl_vector.h:1195\n\u00a0\u00a0\u00a0\u00a0#6 0x7f309802e9a9 in HuginBase::PanoramaMemento::loadPTScript(std::istream\u0026, int\u0026, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026) /home/ubuntu/targets/hugin-2022.0.0_original/src/hugin_base/panodata/Panorama.cpp:3130\n\u00a0\u00a0\u00a0\u00a0#7 0x7f3098052618 in HuginBase::Panorama::readData(std::istream\u0026, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e) /home/ubuntu/targets/hugin-2022.0.0_original/src/hugin_base/panodata/Panorama.cpp:2178\n\u00a0\u00a0\u00a0\u00a0#8 0x55cfccdd8975 in main /home/ubuntu/targets/hugin-2022.0.0_original/src/tools/pto_merge.cpp:99\n\u00a0\u00a0\u00a0\u00a0#9 0x7f3095746082 in __libc_start_main ../csu/libc-start.c:308\n\nSUMMARY: AddressSanitizer: heap-buffer-overflow /home/ubuntu/targets/hugin-2022.0.0_original/src/hugin_base/panodata/image_variables.h:100 in HuginBase::PanoramaMemento::loadPTScript(std::istream\u0026, int\u0026, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026)\nShadow bytes around the buggy address:\n\u00a0\u00a00x0c047fff86b0: fa fa 00 00 fa fa 00 00 fa fa 04 fa fa fa 00 00\n\u00a0\u00a00x0c047fff86c0: fa fa 01 fa fa fa 04 fa fa fa 00 00 fa fa 00 fa\n\u00a0\u00a00x0c047fff86d0: fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa\n\u00a0\u00a00x0c047fff86e0: fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 04 fa\n\u00a0\u00a00x0c047fff86f0: fa fa 00 fa fa fa 00 fa fa fa 01 fa fa fa 00 00\n=\u003e0x0c047fff8700:[fa]fa fd fa fa fa 00 fa fa fa 04 fa fa fa 00 fa\n\u00a0\u00a00x0c047fff8710: fa fa 00 fa fa fa 04 fa fa fa 00 fa fa fa 00 fa\n\u00a0\u00a00x0c047fff8720: fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa\n\u00a0\u00a00x0c047fff8730: fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 fa\n\u00a0\u00a00x0c047fff8740: fa fa 00 fa fa fa 00 fa fa fa 00 fa fa fa 00 00\n\u00a0\u00a00x0c047fff8750: fa fa 00 00 fa fa 04 fa fa fa 00 00 fa fa 01 fa\nShadow byte legend (one shadow byte represents 8 application bytes):\n\u00a0\u00a0Addressable: 00\n\u00a0\u00a0Partially addressable: 01 02 03 04 05 06 07\n\u00a0\u00a0Heap left redzone: fa\n\u00a0\u00a0Freed heap region: fd\n\u00a0\u00a0Stack left redzone: f1\n\u00a0\u00a0Stack mid redzone: f2\n\u00a0\u00a0Stack right redzone: f3\n\u00a0\u00a0Stack after return: f5\n\u00a0\u00a0Stack use after scope: f8\n\u00a0\u00a0Global redzone: f9\n\u00a0\u00a0Global init order: f6\n\u00a0\u00a0Poisoned by user: f7\n\u00a0\u00a0Container overflow: fc\n\u00a0\u00a0Array cookie: ac\n\u00a0\u00a0Intra object redzone: bb\n\u00a0\u00a0ASan internal: fe\n\u00a0\u00a0Left alloca redzone: ca\n\u00a0\u00a0Right alloca redzone: cb\n\u00a0\u00a0Shadow gap: cc\n==3616==ABORTING\n\n### Envionment\nOS: Ubuntu 20.04.5 LTS x86_64\nRelease: hugin 2022.0.0\nProgram: pto_merge\nlibhuginbase: 2020.0.0 (retrieved and compiled from source code)\nlibpano13: 2.9.19\nTo reproduce the problem, we need to build hugin:\nsudo cmake -DCMAKE_C_FLAGS=\"-g\" -DCMAKE_CXX_FLAGS=\"-g\" ..\n\n\n### How to reproduce\n$ pto_merge poc-file *.jpg\n(*.jpg any name of jpg file including asterisk(*))\npoc-file is attached.", "owner_link": "https://bugs.launchpad.net/api/devel/~3den5eo", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/bug_tasks", "duplicate_of_link": null, "date_created": "2023-06-26T08:47:52.881461+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/subscriptions", "date_last_updated": "2024-05-22T13:34:41.428969+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 256, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/cves", "vulnerabilities_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/vulnerabilities", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/attachments", "security_related": true, "latest_patch_uploaded": null, "tags": [], "date_last_message": "2024-05-22T13:34:40.765252+00:00", "number_of_duplicates": 0, "message_count": 5, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/messages", "lock_status": "Unlocked", "lock_reason": null, "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2025032/linked_merge_proposals", "http_etag": "\"1466d553c3140eb4ea598c3c43d49d247809097b-fa547819b63af0555a117437962e39d612fb34b2\""}, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/2025032", "self_link": "https://bugs.launchpad.net/api/devel/bugs/2025032"}, "total_comments_and_activity": 11, "initial_comment_batch_offset": 41, "first visible_recent_comment": -36, "bugtask_data": {"3040009": {"id": 3040009, "row_id": "tasksummary3040009", "form_row_id": "task3040009", "bugtask_path": "/hugin/+bug/2025032", "prefix": "hugin", "targetname": "Hugin", "bug_title": "Heap-buffer-overflow when adding an image in HuginBase::PanoramaMemento::loadPTScript", "assignee_value": null, "assignee_is_team": null, "assignee_vocabulary": "AllUserTeamsParticipation", "assignee_vocabulary_filters": [], "hide_assignee_team_selection": true, "user_can_unassign": false, "user_can_delete": false, "delete_link": "https://bugs.launchpad.net/hugin/+bug/2025032/+delete", "target_is_product": true, "status_widget_items": [{"name": "Fix Released", "value": "Fix Released", "description": "The fix was released.\n", "description_css_class": "choice-description", "style": "", "help": "", "disabled": false, "css_class": "statusFIXRELEASED"}], "status_value": "Fix Released", "importance_widget_items": "[]", "importance_value": "Undecided", "milestone_widget_items": "[]", "milestone_value": "https://bugs.launchpad.net/api/devel/hugin/+milestone/2023.0beta1", "user_can_edit_assignee": false, "user_can_edit_milestone": false, "user_can_edit_status": false, "user_can_edit_importance": false}}, "information_type_data": {"PUBLIC": {"value": "PUBLIC", "description": "Everyone can see this information.\n", "name": "Public", "order": 0, "is_private": false, "description_css_class": "choice-description"}, "PUBLICSECURITY": {"value": "PUBLICSECURITY", "description": "Everyone can see this security related information.\n", "name": "Public Security", "order": 1, "is_private": false, "description_css_class": "choice-description"}, "PRIVATESECURITY": {"value": "PRIVATESECURITY", "description": "Only the security group can see this information.\n ", "name": "Private Security", "order": 2, "is_private": true, "description_css_class": "choice-description"}, "USERDATA": {"value": "USERDATA", "description": "Only shared with users permitted to see private user information.\n", "name": "Private", "order": 3, "is_private": true, "description_css_class": "choice-description"}}, "bug_is_private": false, "context": {"self_link": "https://bugs.launchpad.net/api/devel/hugin/+bug/2025032", "web_link": "https://bugs.launchpad.net/hugin/+bug/2025032", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/2025032", "milestone_link": "https://bugs.launchpad.net/api/devel/hugin/+milestone/2023.0beta1", "status": "Fix Released", "status_explanation": null, "importance": "Undecided", "importance_explanation": null, "assignee_link": null, "bug_target_display_name": "Hugin", "bug_target_name": "hugin", "bug_watch_link": null, "date_assigned": null, "date_created": "2023-06-26T08:47:52.881461+00:00", "date_confirmed": "2023-06-29T17:21:02.260490+00:00", "date_incomplete": null, "date_in_progress": "2023-06-29T17:21:02.260490+00:00", "date_closed": "2023-09-23T07:38:56.582432+00:00", "date_left_new": "2023-06-29T17:21:02.260490+00:00", "date_triaged": "2023-06-29T17:21:02.260490+00:00", "date_fix_committed": "2023-06-29T17:21:02.260490+00:00", "date_fix_released": "2023-09-23T07:38:56.582432+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~3den5eo", "target_link": "https://bugs.launchpad.net/api/devel/hugin", "title": "Bug #2025032 in Hugin: \"Heap-buffer-overflow when adding an image in HuginBase::PanoramaMemento::loadPTScript\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/hugin/+bug/2025032/related_tasks", "is_complete": true, "http_etag": "\"1e822bd7a9f6533532d9b704f2b1ebc45ef88a3b-91d7c22c06e20d7d6852fa979a8e00c73f25c62e\""}};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 50 queries/external actions issued in 0.61 seconds

    Features: {'profiling.enabled': None, 'hard_timeout': '9000', 'app.mainsite_only.canonical_url': None, 'js.yui_version': None, 'app.maintenance_message': None, 'bugs.affected_count_includes_dupes.disabled': None, 'baselayout.careers_link.disabled': None, 'visible_render_time': None}

    r6394e03

    -->

</html>

