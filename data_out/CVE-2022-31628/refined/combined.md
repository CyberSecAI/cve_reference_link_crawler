=== Content from github.com_6f10f9fe_20250108_161629.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fblob%2F2f5295692fde289f99aa9701528dcde4c78b780f%2Fext%2Fphar%2Fphar.c)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fblob%2F2f5295692fde289f99aa9701528dcde4c78b780f%2Fext%2Fphar%2Fphar.c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=php%2Fphp-src)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[php](/php)
/
**[php-src](/php/php-src)**
Public

* [Notifications](/login?return_to=%2Fphp%2Fphp-src) You must be signed in to change notification settings
* [Fork
  7.8k](/login?return_to=%2Fphp%2Fphp-src)
* [Star
   38.5k](/login?return_to=%2Fphp%2Fphp-src)

* [Code](/php/php-src)
* [Issues
  742](/php/php-src/issues)
* [Pull requests
  559](/php/php-src/pulls)
* [Actions](/php/php-src/actions)
* [Security](/php/php-src/security)
* [Insights](/php/php-src/pulse)

Additional navigation options

* [Code](/php/php-src)
* [Issues](/php/php-src/issues)
* [Pull requests](/php/php-src/pulls)
* [Actions](/php/php-src/actions)
* [Security](/php/php-src/security)
* [Insights](/php/php-src/pulse)

## Files

 2f52956
## Breadcrumbs

1. [php-src](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f)
2. /[ext](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f/ext)
3. /[phar](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar)
/
# phar.c

 Blame  Blame
## Latest commit

## History

[History](/php/php-src/commits/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar/phar.c)3637 lines (3139 loc) · 104 KB 2f52956
## Breadcrumbs

1. [php-src](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f)
2. /[ext](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f/ext)
3. /[phar](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar)
/
# phar.c

Top
## File metadata and controls

* Code
* Blame

3637 lines (3139 loc) · 104 KB[Raw](https://github.com/php/php-src/raw/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar/phar.c)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000/\* +----------------------------------------------------------------------+ | phar php single-file executable PHP extension | +----------------------------------------------------------------------+ | Copyright (c) The PHP Group | +----------------------------------------------------------------------+ | This source file is subject to version 3.01 of the PHP license, | | that is bundled with this package in the file LICENSE, and is | | available through the world-wide-web at the following url: | | https://www.php.net/license/3\_01.txt | | If you did not receive a copy of the PHP license and are unable to | | obtain it through the world-wide-web, please send a note to | | license@php.net so we can mail you a copy immediately. | +----------------------------------------------------------------------+ | Authors: Gregory Beaver <cellog@php.net> | | Marcus Boerger <helly@php.net> | +----------------------------------------------------------------------+\*/
#define PHAR\_MAIN 1#include "phar\_internal.h"#include "SAPI.h"#include "func\_interceptors.h"#include "ext/standard/php\_var.h"
static void destroy\_phar\_data(zval \*zv);
ZEND\_DECLARE\_MODULE\_GLOBALS(phar)static zend\_string \*(\*phar\_save\_resolve\_path)(zend\_string \*filename);
/\*\* \* set's phar->is\_writeable based on the current INI value \*/static int phar\_set\_writeable\_bit(zval \*zv, void \*argument) /\* {{{ \*/{ bool keep = \*(bool \*)argument; phar\_archive\_data \*phar = (phar\_archive\_data \*)Z\_PTR\_P(zv);
 if (!phar->is\_data) { phar->is\_writeable = !keep; }
 return ZEND\_HASH\_APPLY\_KEEP;}/\* }}} \*/
/\* if the original value is 0 (disabled), then allow setting/unsetting at will. Otherwise only allow 1 (enabled), and error on disabling \*/ZEND\_INI\_MH(phar\_ini\_modify\_handler) /\* {{{ \*/{ bool old, ini;
 if (ZSTR\_LEN(entry->name) == sizeof("phar.readonly")-1) { old = PHAR\_G(readonly\_orig); } else { old = PHAR\_G(require\_hash\_orig); }
 ini = zend\_ini\_parse\_bool(new\_value);
 /\* do not allow unsetting in runtime \*/ if (stage == ZEND\_INI\_STAGE\_STARTUP) { if (ZSTR\_LEN(entry->name) == sizeof("phar.readonly")-1) { PHAR\_G(readonly\_orig) = ini; } else { PHAR\_G(require\_hash\_orig) = ini; } } else if (old && !ini) { return FAILURE; }
 if (ZSTR\_LEN(entry->name) == sizeof("phar.readonly")-1) { PHAR\_G(readonly) = ini; if (PHAR\_G(request\_init) && HT\_IS\_INITIALIZED(&PHAR\_G(phar\_fname\_map))) { zend\_hash\_apply\_with\_argument(&(PHAR\_G(phar\_fname\_map)), phar\_set\_writeable\_bit, (void \*)&ini); } } else { PHAR\_G(require\_hash) = ini; }
 return SUCCESS;}/\* }}}\*/
/\* this global stores the global cached pre-parsed manifests \*/HashTable cached\_phars;HashTable cached\_alias;
static void phar\_split\_cache\_list(void) /\* {{{ \*/{ char \*tmp; char \*key, \*lasts, \*end; char ds[2]; phar\_archive\_data \*phar; uint32\_t i = 0;
 if (!PHAR\_G(cache\_list) || !(PHAR\_G(cache\_list)[0])) { return; }
 ds[0] = DEFAULT\_DIR\_SEPARATOR; ds[1] = '\0'; tmp = estrdup(PHAR\_G(cache\_list));
 /\* fake request startup \*/ PHAR\_G(request\_init) = 1; zend\_init\_rsrc\_list(); EG(regular\_list).nNextFreeElement=1; /\* we don't want resource id 0 \*/
 PHAR\_G(has\_bz2) = zend\_hash\_str\_exists(&module\_registry, "bz2", sizeof("bz2")-1); PHAR\_G(has\_zlib) = zend\_hash\_str\_exists(&module\_registry, "zlib", sizeof("zlib")-1); /\* these two are dummies and will be destroyed later \*/ zend\_hash\_init(&cached\_phars, sizeof(phar\_archive\_data\*), zend\_get\_hash\_value, destroy\_phar\_data, 1); zend\_hash\_init(&cached\_alias, sizeof(phar\_archive\_data\*), zend\_get\_hash\_value, NULL, 1); /\* these two are real and will be copied over cached\_phars/cached\_alias later \*/ zend\_hash\_init(&(PHAR\_G(phar\_fname\_map)), sizeof(phar\_archive\_data\*), zend\_get\_hash\_value, destroy\_phar\_data, 1); zend\_hash\_init(&(PHAR\_G(phar\_alias\_map)), sizeof(phar\_archive\_data\*), zend\_get\_hash\_value, NULL, 1); PHAR\_G(manifest\_cached) = 1; PHAR\_G(persist) = 1;
 for (key = php\_strtok\_r(tmp, ds, &lasts); key; key = php\_strtok\_r(NULL, ds, &lasts)) { size\_t len; end = strchr(key, DEFAULT\_DIR\_SEPARATOR); if (end) { len = end - key; } else { len = strlen(key); }
 if (SUCCESS == phar\_open\_from\_filename(key, len, NULL, 0, 0, &phar, NULL)) { phar->phar\_pos = i++; php\_stream\_close(phar->fp); phar->fp = NULL; } else { PHAR\_G(persist) = 0; PHAR\_G(manifest\_cached) = 0; efree(tmp); zend\_hash\_destroy(&(PHAR\_G(phar\_fname\_map))); HT\_INVALIDATE(&PHAR\_G(phar\_fname\_map)); zend\_hash\_destroy(&(PHAR\_G(phar\_alias\_map))); HT\_INVALIDATE(&PHAR\_G(phar\_alias\_map)); zend\_hash\_destroy(&cached\_phars); zend\_hash\_destroy(&cached\_alias); zend\_hash\_graceful\_reverse\_destroy(&EG(regular\_list)); memset(&EG(regular\_list), 0, sizeof(HashTable)); /\* free cached manifests \*/ PHAR\_G(request\_init) = 0; return; } }
 PHAR\_G(persist) = 0; PHAR\_G(request\_init) = 0; /\* destroy dummy values from before \*/ zend\_hash\_destroy(&cached\_phars); zend\_hash\_destroy(&cached\_alias); cached\_phars = PHAR\_G(phar\_fname\_map); cached\_alias = PHAR\_G(phar\_alias\_map); HT\_INVALIDATE(&PHAR\_G(phar\_fname\_map)); HT\_INVALIDATE(&PHAR\_G(phar\_alias\_map)); zend\_hash\_graceful\_reverse\_destroy(&EG(regular\_list)); memset(&EG(regular\_list), 0, sizeof(HashTable)); efree(tmp);}/\* }}} \*/
ZEND\_INI\_MH(phar\_ini\_cache\_list) /\* {{{ \*/{ PHAR\_G(cache\_list) = ZSTR\_VAL(new\_value);
 if (stage == ZEND\_INI\_STAGE\_STARTUP) { phar\_split\_cache\_list(); }
 return SUCCESS;}/\* }}} \*/
PHP\_INI\_BEGIN() STD\_PHP\_INI\_BOOLEAN("phar.readonly", "1", PHP\_INI\_ALL, phar\_ini\_modify\_handler, readonly, zend\_phar\_globals, phar\_globals) STD\_PHP\_INI\_BOOLEAN("phar.require\_hash", "1", PHP\_INI\_ALL, phar\_ini\_modify\_handler, require\_hash, zend\_phar\_globals, phar\_globals) STD\_PHP\_INI\_ENTRY("phar.cache\_list", "", PHP\_INI\_SYSTEM, phar\_ini\_cache\_list, cache\_list, zend\_phar\_globals, phar\_globals)PHP\_INI\_END()
/\*\* \* When all uses of a phar have been concluded, this frees the manifest \* and the phar slot \*/void phar\_destroy\_phar\_data(phar\_archive\_data \*phar) /\* {{{ \*/{ if (phar->alias && phar->alias != phar->fname) { pefree(phar->alias, phar->is\_persistent); phar->alias = NULL; }
 if (phar->fname) { pefree(phar->fname, phar->is\_persistent); phar->fname = NULL; }
 if (phar->signature) { pefree(phar->signature, phar->is\_persistent); phar->signature = NULL; }
 if (HT\_IS\_INITIALIZED(&phar->manifest)) { zend\_hash\_destroy(&phar->manifest); HT\_INVALIDATE(&phar->manifest); }
 if (HT\_IS\_INITIALIZED(&phar->mounted\_dirs)) { zend\_hash\_destroy(&phar->mounted\_dirs); HT\_INVALIDATE(&phar->mounted\_dirs); }
 if (HT\_IS\_INITIALIZED(&phar->virtual\_dirs)) { zend\_hash\_destroy(&phar->virtual\_dirs); HT\_INVALIDATE(&phar->virtual\_dirs); }
 phar\_metadata\_tracker\_free(&phar->metadata\_tracker, phar->is\_persistent);
 if (phar->fp) { php\_stream\_close(phar->fp); phar->fp = 0; }
 if (phar->ufp) { php\_stream\_close(phar->ufp); phar->ufp = 0; }
 pefree(phar, phar->is\_persistent);}/\* }}}\*/
/\*\* \* Delete refcount and destruct if needed. On destruct return 1 else 0. \*/int phar\_archive\_delref(phar\_archive\_data \*phar) /\* {{{ \*/{ if (phar->is\_persistent) { return 0; }
 if (--phar->refcount < 0) { if (PHAR\_G(request\_done) || zend\_hash\_str\_del(&(PHAR\_G(phar\_fname\_map)), phar->fname, phar->fname\_len) != SUCCESS) { phar\_destroy\_phar\_data(phar); } return 1; } else if (!phar->refcount) { /\* invalidate phar cache \*/ PHAR\_G(last\_phar) = NULL; PHAR\_G(last\_phar\_name) = PHAR\_G(last\_alias) = NULL;
 if (phar->fp && (!(phar->flags & PHAR\_FILE\_COMPRESSION\_MASK) || !phar->alias)) { /\* close open file handle - allows removal or rename of the file on windows, which has greedy locking only close if the archive was not already compressed. If it was compressed, then the fp does not refer to the original file. We're also closing compressed files to save resources, but only if the archive isn't aliased. \*/ php\_stream\_close(phar->fp); phar->fp = NULL; }
 if (!zend\_hash\_num\_elements(&phar->manifest)) { /\* this is a new phar that has perhaps had an alias/metadata set, but has never been flushed \*/ if (zend\_hash\_str\_del(&(PHAR\_G(phar\_fname\_map)), phar->fname, phar->fname\_len) != SUCCESS) { phar\_destroy\_phar\_data(phar); } return 1; } } return 0;}/\* }}}\*/
/\*\* \* Destroy phar's in shutdown, here we don't care about aliases \*/static void destroy\_phar\_data\_only(zval \*zv) /\* {{{ \*/{ phar\_archive\_data \*phar\_data = (phar\_archive\_data \*) Z\_PTR\_P(zv);
 if (EG(exception) || --phar\_data->refcount < 0) { phar\_destroy\_phar\_data(phar\_data); }}/\* }}}\*/
/\*\* \* Delete aliases to phar's that got kicked out of the global table \*/static int phar\_unalias\_apply(zval \*zv, void \*argument) /\* {{{ \*/{ return Z\_PTR\_P(zv) == argument ? ZEND\_HASH\_APPLY\_REMOVE : ZEND\_HASH\_APPLY\_KEEP;}/\* }}} \*/
/\*\* \* Delete aliases to phar's that got kicked out of the global table \*/static int phar\_tmpclose\_apply(zval \*zv) /\* {{{ \*/{ phar\_entry\_info \*entry = (phar\_entry\_info \*) Z\_PTR\_P(zv);
 if (entry->fp\_type != PHAR\_TMP) { return ZEND\_HASH\_APPLY\_KEEP; }
 if (entry->fp && !entry->fp\_refcount) { php\_stream\_close(entry->fp); entry->fp = NULL; }
 return ZEND\_HASH\_APPLY\_KEEP;}/\* }}} \*/
/\*\* \* Filename map destructor \*/static void destroy\_phar\_data(zval \*zv) /\* {{{ \*/{ phar\_archive\_data \*phar\_data = (phar\_archive\_data \*)Z\_PTR\_P(zv);
 if (PHAR\_G(request\_ends)) { /\* first, iterate over the manifest and close all PHAR\_TMP entry fp handles, this prevents unnecessary unfreed stream resources \*/ zend\_hash\_apply(&(phar\_data->manifest), phar\_tmpclose\_apply); destroy\_phar\_data\_only(zv); return; }
 zend\_hash\_apply\_with\_argument(&(PHAR\_G(phar\_alias\_map)), phar\_unalias\_apply, phar\_data);
 if (--phar\_data->refcount < 0) { phar\_destroy\_phar\_data(phar\_data); }}/\* }}}\*/
/\*\* \* destructor for the manifest hash, frees each file's entry \*/void destroy\_phar\_manifest\_entry\_int(phar\_entry\_info \*entry) /\* {{{ \*/{
 if (entry->cfp) { php\_stream\_close(entry->cfp); entry->cfp = 0; }
 if (entry->fp) { php\_stream\_close(entry->fp); entry->fp = 0; }
 phar\_metadata\_tracker\_free(&entry->metadata\_tracker, entry->is\_persistent);
 pefree(entry->filename, entry->is\_persistent);
 if (entry->link) { pefree(entry->link, entry->is\_persistent); entry->link = 0; }
 if (entry->tmp) { pefree(entry->tmp, entry->is\_persistent); entry->tmp = 0; }}/\* }}} \*/
void destroy\_phar\_manifest\_entry(zval \*zv) /\* {{{ \*/{ phar\_entry\_info \*entry = Z\_PTR\_P(zv); destroy\_phar\_manifest\_entry\_int(entry); pefree(entry, entry->is\_persistent);}/\* }}} \*/
int phar\_entry\_delref(phar\_entry\_data \*idata) /\* {{{ \*/{ int ret = 0;
 if (idata->internal\_file && !idata->internal\_file->is\_persistent) { if (--idata->internal\_file->fp\_refcount < 0) { idata->internal\_file->fp\_refcount = 0; }
 if (idata->fp && idata->fp != idata->phar->fp && idata->fp != idata->phar->ufp && idata->fp != idata->internal\_file->fp) { php\_stream\_close(idata->fp); } /\* if phar\_get\_or\_create\_entry\_data returns a sub-directory, we have to free it \*/ if (idata->internal\_file->is\_temp\_dir) { destroy\_phar\_manifest\_entry\_int(idata->internal\_file); efree(idata->internal\_file); } }
 phar\_archive\_delref(idata->phar); efree(idata); return ret;}/\* }}} \*/
/\*\* \* Removes an entry, either by actually removing it or by marking it. \*/void phar\_entry\_remove(phar\_entry\_data \*idata, char \*\*error) /\* {{{ \*/{ phar\_archive\_data \*phar;
 phar = idata->phar;
 if (idata->internal\_file->fp\_refcount < 2) { if (idata->fp && idata->fp != idata->phar->fp && idata->fp != idata->phar->ufp && idata->fp != idata->internal\_file->fp) { php\_stream\_close(idata->fp); } zend\_hash\_str\_del(&idata->phar->manifest, idata->internal\_file->filename, idata->internal\_file->filename\_len); idata->phar->refcount--; efree(idata); } else { idata->internal\_file->is\_deleted = 1; phar\_entry\_delref(idata); }
 if (!phar->donotflush) { phar\_flush(phar, 0, 0, 0, error); }}/\* }}} \*/
#define MAPPHAR\_ALLOC\_FAIL(msg) \ if (fp) {\ php\_stream\_close(fp);\ }\ if (error) {\ spprintf(error, 0, msg, fname);\ }\ return FAILURE;
#define MAPPHAR\_FAIL(msg) \ efree(savebuf);\ if (mydata) {\ phar\_destroy\_phar\_data(mydata);\ }\ if (signature) {\ pefree(signature, PHAR\_G(persist));\ }\ MAPPHAR\_ALLOC\_FAIL(msg)
#ifdef WORDS\_BIGENDIAN# define PHAR\_GET\_32(buffer, var) \ var = ((((unsigned char\*)(buffer))[3]) << 24) \ | ((((unsigned char\*)(buffer))[2]) << 16) \ | ((((unsigned char\*)(buffer))[1]) << 8) \ | (((unsigned char\*)(buffer))[0]); \ (buffer) += 4# define PHAR\_GET\_16(buffer, var) \ var = ((((unsigned char\*)(buffer))[1]) << 8) \ | (((unsigned char\*)(buffer))[0]); \ (buffer) += 2#else# define PHAR\_GET\_32(buffer, var) \ memcpy(&var, buffer, sizeof(var)); \ buffer += 4# define PHAR\_GET\_16(buffer, var) \ var = \*(uint16\_t\*)(buffer); \ buffer += 2#endif#define PHAR\_ZIP\_16(var) ((uint16\_t)((((uint16\_t)var[0]) & 0xff) | \ (((uint16\_t)var[1]) & 0xff) << 8))#define PHAR\_ZIP\_32(var) ((uint32\_t)((((uint32\_t)var[0]) & 0xff) | \ (((uint32\_t)var[1]) & 0xff) << 8 | \ (((uint32\_t)var[2]) & 0xff) << 16 | \ (((uint32\_t)var[3]) & 0xff) << 24))
/\*\* \* Open an already loaded phar \*/int phar\_open\_parsed\_phar(char \*fname, size\_t fname\_len, char \*alias, size\_t alias\_len, bool is\_data, uint32\_t options, phar\_archive\_data\*\* pphar, char \*\*error) /\* {{{ \*/{ phar\_archive\_data \*phar;#ifdef PHP\_WIN32 char \*save\_fname; ALLOCA\_FLAG(fname\_use\_heap)#endif
 if (error) { \*error = NULL; }#ifdef PHP\_WIN32 save\_fname = fname; if (memchr(fname, '\\', fname\_len)) { fname = do\_alloca(fname\_len + 1, fname\_use\_heap); memcpy(fname, save\_fname, fname\_len); fname[fname\_len] = '\0'; phar\_unixify\_path\_separators(fname, fname\_len); }#endif if (SUCCESS == phar\_get\_archive(&phar, fname, fname\_len, alias, alias\_len, error) && ((alias && fname\_len == phar->fname\_len && !strncmp(fname, phar->fname, fname\_len)) || !alias) ) { phar\_entry\_info \*stub;#ifdef PHP\_WIN32 if (fname != save\_fname) { free\_alloca(fname, fname\_use\_heap); fname = save\_fname; }#endif /\* logic above is as follows: If an explicit alias was requested, ensure the filename passed in matches the phar's filename. If no alias was passed in, then it can match either and be valid \*/
 if (!is\_data) { /\* prevent any ".phar" without a stub getting through \*/ if (!phar->halt\_offset && !phar->is\_brandnew && (phar->is\_tar || phar->is\_zip)) { if (PHAR\_G(readonly) && NULL == (stub = zend\_hash\_str\_find\_ptr(&(phar->manifest), ".phar/stub.php", sizeof(".phar/stub.php")-1))) { if (error) { spprintf(error, 0, "'%s' is not a phar archive. Use PharData::\_\_construct() for a standard zip or tar archive", fname); } return FAILURE; } } }
 if (pphar) { \*pphar = phar; }
 return SUCCESS; } else {#ifdef PHP\_WIN32 if (fname != save\_fname) { free\_alloca(fname, fname\_use\_heap); fname = save\_fname; }#endif if (pphar) { \*pphar = NULL; }
 if (phar && error && !(options & REPORT\_ERRORS)) { efree(error); }
 return FAILURE; }}/\* }}}\*/
/\*\* \* Attempt to serialize the data. \* Callers are responsible for handling EG(exception) if one occurs. \*/void phar\_metadata\_tracker\_try\_ensure\_has\_serialized\_data(phar\_metadata\_tracker \*tracker, int persistent) /\* {{{ \*/{ php\_serialize\_data\_t metadata\_hash; smart\_str metadata\_str = {0}; if (tracker->str || Z\_ISUNDEF(tracker->val)) { /\* Already has serialized the value or there is no value \*/ return; } /\* Assert it should not be possible to create raw zvals in a persistent phar (i.e. from cache\_list) \*/ ZEND\_ASSERT(!persistent);
 PHP\_VAR\_SERIALIZE\_INIT(metadata\_hash); php\_var\_serialize(&metadata\_str, &tracker->val, &metadata\_hash); PHP\_VAR\_SERIALIZE\_DESTROY(metadata\_hash); if (!metadata\_str.s) { return; } tracker->str = metadata\_str.s;}/\* }}} \*/
/\*\* \* Parse out metadata when phar\_metadata\_tracker\_has\_data is true. \* \* Precondition: phar\_metadata\_tracker\_has\_data is true \*/int phar\_metadata\_tracker\_unserialize\_or\_copy(phar\_metadata\_tracker \*tracker, zval \*metadata, int persistent, HashTable \*unserialize\_options, const char\* method\_name) /\* {{{ \*/{ const bool has\_unserialize\_options = unserialize\_options != NULL && zend\_hash\_num\_elements(unserialize\_options) > 0; /\* It should be impossible to create a zval in a persistent phar/entry. \*/ ZEND\_ASSERT(!persistent || Z\_ISUNDEF(tracker->val));
 if (Z\_ISUNDEF(tracker->val) || has\_unserialize\_options) { if (EG(exception)) { /\* Because other parts of the phar code haven't been updated to check for exceptions after doing something that may throw, \* check for exceptions before potentially serializing/unserializing instead. \*/ return FAILURE; } /\* Persistent phars should always be unserialized. \*/ const char \*start; /\* Assert it should not be possible to create raw data in a persistent phar (i.e. from cache\_list) \*/
 /\* Precondition: This has serialized data, either from setMetadata or the phar file. \*/ ZEND\_ASSERT(tracker->str != NULL); ZVAL\_NULL(metadata); start = ZSTR\_VAL(tracker->str);
 php\_unserialize\_with\_options(metadata, start, ZSTR\_LEN(tracker->str), unserialize\_options, method\_name); if (EG(exception)) { zval\_ptr\_dtor(metadata); ZVAL\_UNDEF(metadata); return FAILURE; } return SUCCESS; } else { /\* TODO: what is the current/expected behavior when fetching an object set with setMetadata then getting it \* with getMetadata() and modifying a property? Previously, it was underdefined, and probably unimportant to support. \*/ ZVAL\_COPY(metadata, &tracker->val); }
 return SUCCESS;}/\* }}}\*/
/\*\* \* Check if this has any data, serialized or as a raw value. \*/bool phar\_metadata\_tracker\_has\_data(const phar\_metadata\_tracker \*tracker, int persistent) /\* {{{ \*/{ ZEND\_ASSERT(!persistent || Z\_ISUNDEF(tracker->val)); return !Z\_ISUNDEF(tracker->val) || tracker->str != NULL;}/\* }}} \*/
/\*\* \* Free memory used to track the metadata and set all fields to be null/undef. \*/void phar\_metadata\_tracker\_free(phar\_metadata\_tracker \*tracker, int persistent) /\* {{{ \*/{ /\* Free the string before the zval in case the zval's destructor modifies the metadata \*/ if (tracker->str) { zend\_string\_release(tracker->str); tracker->str = NULL; } if (!Z\_ISUNDEF(tracker->val)) { /\* Here, copy the original zval to a different pointer without incrementing the refcount in case something uses the original while it's being freed. \*/ zval zval\_copy;
 ZEND\_ASSERT(!persistent); ZVAL\_COPY\_VALUE(&zval\_copy, &tracker->val); ZVAL\_UNDEF(&tracker->val); zval\_ptr\_dtor(&zval\_copy); }}/\* }}} \*/
/\*\* \* Free memory used to track the metadata and set all fields to be null/undef. \*/void phar\_metadata\_tracker\_copy(phar\_metadata\_tracker \*dest, const phar\_metadata\_tracker \*source, int persistent) /\* {{{ \*/{ ZEND\_ASSERT(dest != source); phar\_metadata\_tracker\_free(dest, persistent);
 if (!Z\_ISUNDEF(source->val)) { ZEND\_ASSERT(!persistent); ZVAL\_COPY(&dest->val, &source->val); } if (source->str) { dest->str = zend\_string\_copy(source->str); }}/\* }}} \*/
/\*\* \* Copy constructor for a non-persistent clone. \*/void phar\_metadata\_tracker\_clone(phar\_metadata\_tracker \*tracker) /\* {{{ \*/{ Z\_TRY\_ADDREF\_P(&tracker->val); if (tracker->str) { /\* Duplicate the string, as the original may have been persistent. \*/ tracker->str = zend\_string\_dup(tracker->str, false); }}/\* }}} \*/
/\*\* \* Parse out metadata from the manifest for a single file, saving it into a string. \* \* Meta-data is in this format: \* [len32][data...] \* \* data is the serialized zval \*/void phar\_parse\_metadata\_lazy(const char \*buffer, phar\_metadata\_tracker \*tracker, uint32\_t zip\_metadata\_len, int persistent) /\* {{{ \*/{ phar\_metadata\_tracker\_free(tracker, persistent); if (zip\_metadata\_len) { /\* lazy init metadata \*/ tracker->str = zend\_string\_init(buffer, zip\_metadata\_len, persistent); }}/\* }}}\*/
/\*\* \* Size of fixed fields in the manifest. \* See: http://php.net/manual/en/phar.fileformat.phar.php \*/#define MANIFEST\_FIXED\_LEN 18
#define SAFE\_PHAR\_GET\_32(buffer, endbuffer, var) \ if (UNEXPECTED(buffer + 4 > endbuffer)) { \ MAPPHAR\_FAIL("internal corruption of phar \"%s\" (truncated manifest header)"); \ } \ PHAR\_GET\_32(buffer, var);
/\*\* \* Does not check for a previously opened phar in the cache. \* \* Parse a new one and add it to the cache, returning either SUCCESS or \* FAILURE, and setting pphar to the pointer to the manifest entry \* \* This is used by phar\_open\_from\_filename to process the manifest, but can be called \* directly. \*/static int phar\_parse\_pharfile(php\_stream \*fp, char \*fname, size\_t fname\_len, char \*alias, size\_t alias\_len, zend\_long halt\_offset, phar\_archive\_data\*\* pphar, uint32\_t compression, char \*\*error) /\* {{{ \*/{ char b32[4], \*buffer, \*endbuffer, \*savebuf; phar\_archive\_data \*mydata = NULL; phar\_entry\_info entry; uint32\_t manifest\_len, manifest\_count, manifest\_flags, manifest\_index, tmp\_len, sig\_flags; uint16\_t manifest\_ver; uint32\_t len; zend\_long offset; size\_t sig\_len; int register\_alias = 0, temp\_alias = 0; char \*signature = NULL; zend\_string \*str;
 if (pphar) { \*pphar = NULL; }
 if (error) { \*error = NULL; }
 /\* check for ?>\n and increment accordingly \*/ if (-1 == php\_stream\_seek(fp, halt\_offset, SEEK\_SET)) { MAPPHAR\_ALLOC\_FAIL("cannot seek to \_\_HALT\_COMPILER(); location in phar \"%s\"") }
 buffer = b32;
 if (3 != php\_stream\_read(fp, buffer, 3)) { MAPPHAR\_ALLOC\_FAIL("internal corruption of phar \"%s\" (truncated manifest at stub end)") }
 if ((\*buffer == ' ' || \*buffer == '\n') && \*(buffer + 1) == '?' && \*(buffer + 2) == '>') { int nextchar; halt\_offset += 3; if (EOF == (nextchar = php\_stream\_getc(fp))) { MAPPHAR\_ALLOC\_FAIL("internal corruption of phar \"%s\" (truncated manifest at stub end)") }
 if ((char) nextchar == '\r') { /\* if we have an \r we require an \n as well \*/ if (EOF == (nextchar = php\_stream\_getc(fp)) || (char)nextchar != '\n') { MAPPHAR\_ALLOC\_FAIL("internal corruption of phar \"%s\" (truncated manifest at stub end)") } ++halt\_offset; }
 if ((char) nextchar == '\n') { ++halt\_offset; } }
 /\* make sure we are at the right location to read the manifest \*/ if (-1 == php\_stream\_seek(fp, halt\_offset, SEEK\_SET)) { MAPPHAR\_ALLOC\_FAIL("cannot seek to \_\_HALT\_COMPILER(); location in phar \"%s\"") }
 /\* read in manifest \*/ buffer = b32;
 if (4 != php\_stream\_read(fp, buffer, 4)) { MAPPHAR\_ALLOC\_FAIL("internal corruption of phar \"%s\" (truncated manifest at manifest length)") }
 PHAR\_GET\_32(buffer, manifest\_len);
 if (manifest\_len > 1048576 \* 100) { /\* prevent serious memory issues by limiting manifest to at most 100 MB in length \*/ MAPPHAR\_ALLOC\_FAIL("manifest cannot be larger than 100 MB in phar \"%s\"") }
 buffer = (char \*)emalloc(manifest\_len); savebuf = buffer; endbuffer = buffer + manifest\_len;
 if (manifest\_len < MANIFEST\_FIXED\_LEN || manifest\_len != php\_stream\_read(fp, buffer, manifest\_len)) { MAPPHAR\_FAIL("internal corruption of phar \"%s\" (truncated manifest header)") }
 /\* extract the number of entries \*/ SAFE\_PHAR\_GET\_32(buffer, endbuffer, manifest\_count);
 if (manifest\_count == 0) { MAPPHAR\_FAIL("in phar \"%s\", manifest claims to have zero entries. Phars must have at least 1 entry"); }
 /\* extract API version, lowest nibble currently unused \*/ manifest\_ver = (((unsigned char)buffer[0]) << 8) + ((unsigned char)buffer[1]); buffer += 2;
 if ((manifest\_ver & PHAR\_API\_VER\_MASK) < PHAR\_API\_MIN\_READ) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" is API version %1.u.%1.u.%1.u, and cannot be processed", fname, manifest\_ver >> 12, (manifest\_ver >> 8) & 0xF, (manifest\_ver >> 4) & 0x0F); } return FAILURE; }
 SAFE\_PHAR\_GET\_32(buffer, endbuffer, manifest\_flags);
 manifest\_flags &= ~PHAR\_HDR\_COMPRESSION\_MASK; manifest\_flags &= ~PHAR\_FILE\_COMPRESSION\_MASK; /\* remember whether this entire phar was compressed with gz/bzip2 \*/ manifest\_flags |= compression;
 /\* The lowest nibble contains the phar wide flags. The compression flags can \*/ /\* be ignored on reading because it is being generated anyways. \*/ if (manifest\_flags & PHAR\_HDR\_SIGNATURE) { char sig\_buf[8], \*sig\_ptr = sig\_buf; zend\_off\_t read\_len; size\_t end\_of\_phar;
 if (-1 == php\_stream\_seek(fp, -8, SEEK\_END) || (read\_len = php\_stream\_tell(fp)) < 20 || 8 != php\_stream\_read(fp, sig\_buf, 8) || memcmp(sig\_buf+4, "GBMB", 4)) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" has a broken signature", fname); } return FAILURE; }
 PHAR\_GET\_32(sig\_ptr, sig\_flags);
 switch(sig\_flags) { case PHAR\_SIG\_OPENSSL\_SHA512: case PHAR\_SIG\_OPENSSL\_SHA256: case PHAR\_SIG\_OPENSSL: { uint32\_t signature\_len; char \*sig; zend\_off\_t whence;
 /\* we store the signature followed by the signature length \*/ if (-1 == php\_stream\_seek(fp, -12, SEEK\_CUR) || 4 != php\_stream\_read(fp, sig\_buf, 4)) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" openssl signature length could not be read", fname); } return FAILURE; }
 sig\_ptr = sig\_buf; PHAR\_GET\_32(sig\_ptr, signature\_len); sig = (char \*) emalloc(signature\_len); whence = signature\_len + 4; whence = -whence;
 if (-1 == php\_stream\_seek(fp, whence, SEEK\_CUR) || !(end\_of\_phar = php\_stream\_tell(fp)) || signature\_len != php\_stream\_read(fp, sig, signature\_len)) { efree(savebuf); efree(sig); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" openssl signature could not be read", fname); } return FAILURE; }
 if (FAILURE == phar\_verify\_signature(fp, end\_of\_phar, sig\_flags, sig, signature\_len, fname, &signature, &sig\_len, error)) { efree(savebuf); efree(sig); php\_stream\_close(fp); if (error) { char \*save = \*error; spprintf(error, 0, "phar \"%s\" openssl signature could not be verified: %s", fname, \*error); efree(save); } return FAILURE; } efree(sig); } break; case PHAR\_SIG\_SHA512: { unsigned char digest[64];
 php\_stream\_seek(fp, -(8 + 64), SEEK\_END); read\_len = php\_stream\_tell(fp);
 if (php\_stream\_read(fp, (char\*)digest, sizeof(digest)) != sizeof(digest)) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" has a broken signature", fname); } return FAILURE; }
 if (FAILURE == phar\_verify\_signature(fp, read\_len, PHAR\_SIG\_SHA512, (char \*)digest, 64, fname, &signature, &sig\_len, error)) { efree(savebuf); php\_stream\_close(fp); if (error) { char \*save = \*error; spprintf(error, 0, "phar \"%s\" SHA512 signature could not be verified: %s", fname, \*error); efree(save); } return FAILURE; } break; } case PHAR\_SIG\_SHA256: { unsigned char digest[32];
 php\_stream\_seek(fp, -(8 + 32), SEEK\_END); read\_len = php\_stream\_tell(fp);
 if (php\_stream\_read(fp, (char\*)digest, sizeof(digest)) != sizeof(digest)) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" has a broken signature", fname); } return FAILURE; }
 if (FAILURE == phar\_verify\_signature(fp, read\_len, PHAR\_SIG\_SHA256, (char \*)digest, 32, fname, &signature, &sig\_len, error)) { efree(savebuf); php\_stream\_close(fp); if (error) { char \*save = \*error; spprintf(error, 0, "phar \"%s\" SHA256 signature could not be verified: %s", fname, \*error); efree(save); } return FAILURE; } break; } case PHAR\_SIG\_SHA1: { unsigned char digest[20];
 php\_stream\_seek(fp, -(8 + 20), SEEK\_END); read\_len = php\_stream\_tell(fp);
 if (php\_stream\_read(fp, (char\*)digest, sizeof(digest)) != sizeof(digest)) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" has a broken signature", fname); } return FAILURE; }
 if (FAILURE == phar\_verify\_signature(fp, read\_len, PHAR\_SIG\_SHA1, (char \*)digest, 20, fname, &signature, &sig\_len, error)) { efree(savebuf); php\_stream\_close(fp); if (error) { char \*save = \*error; spprintf(error, 0, "phar \"%s\" SHA1 signature could not be verified: %s", fname, \*error); efree(save); } return FAILURE; } break; } case PHAR\_SIG\_MD5: { unsigned char digest[16];
 php\_stream\_seek(fp, -(8 + 16), SEEK\_END); read\_len = php\_stream\_tell(fp);
 if (php\_stream\_read(fp, (char\*)digest, sizeof(digest)) != sizeof(digest)) { efree(savebuf); php\_stream\_close(fp);[View remainder of file in raw view](https://github.com/php/php-src/raw/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar/phar.c)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_feb1b9ee_20250108_140208.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2L5SUVYGAKSWODUQPZFBUB3AL6E6CSEV/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2L5SUVYGAKSWODUQPZFBUB3AL6E6CSEV/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2L5SUVYGAKSWODUQPZFBUB3AL6E6CSEV/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/2L5SUVYGAKSWODUQPZFBUB3AL6E6CSEV/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-2L5SUVYGAKSWODUQPZFBUB3AL6E6CSEV.mbox.gz?message=2L5SUVYGAKSWODUQPZFBUB3AL6E6CSEV "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/2L5SUVYGAKSWODUQPZFBUB3AL6E6CSEV/#2L5SUVYGAKSWODUQPZFBUB3AL6E6CSEV)

# [SECURITY] Fedora 37 Update: php-8.1.12-1.fc37

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

10 Nov
2022

10 Nov
'22

10:53 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2022-f204e1d0ed
2022-11-10 22:04:44.634259
--------------------------------------------------------------------------------

Name : php
Product : Fedora 37
Version : 8.1.12
Release : 1.fc37
URL : <http://www.php.net/>
Summary : PHP scripting language for creating dynamic web sites
Description :
PHP is an HTML-embedded scripting language. PHP attempts to make it
easy for developers to write dynamically generated web pages. PHP also
offers built-in database integration for several commercial and
non-commercial database management systems, so writing a
database-enabled webpage with PHP is fairly simple. The most common
use of PHP coding is probably as a replacement for CGI scripts.

--------------------------------------------------------------------------------
Update Information:

\*\*PHP version 8.1.12\*\* (27 Oct 2022) \*\*Core:\*\* \* Fixes segfault with Fiber on
FreeBSD i386 architecture. (David Carlier) \*\*Fileinfo:\*\* \* Fixed bug
[GH-8805](<https://github.com/php/php-src/issues/8805>) (finfo returns wrong mime
type for woff/woff2 files). (Anatol) \*\*GD:\*\* \* Fixed bug php#81739: OOB read
due to insufficient input validation in imageloadfont(). (\*\*CVE-2022-31630\*\*)
(cmb) \*\*Hash:\*\* \* Fixed bug php#81738: buffer overflow in hash\_update() on
long parameter. (\*\*CVE-2022-37454\*\*) (nicky at mouha dot be) \*\*MBString:\*\* -
Fixed bug [GH-9683](<https://github.com/php/php-src/issues/9683>) (Problem when
ISO-2022-JP-MS is specified in mb\_ encode\_mimeheader). (Alex Dowad)
\*\*Opcache:\*\* \* Added indirect call reduction for jit on x86 architectures.
(wxue1) \*\*Session:\*\* \* Fixed bug [GH-9583](<https://github.com/php/php->
src/issues/9583) (session\_create\_id() fails with user defined save handler that
doesn't have a validateId() method). (Girgias) \*\*Streams:\*\* \* Fixed bug
[GH-9590](<https://github.com/php/php-src/issues/9590>) (stream\_select does not
abort upon exception or empty valid fd set). (Arnaud) ---- \*\*PHP version
8.1.11\*\* (29 Sep 2022) \*\*Core:\*\* \* Fixed bug php#81726: phar wrapper: DOS when
using quine gzip file. (\*\*CVE-2022-31628\*\*). (cmb) \* Fixed bug php#81727: Don't
mangle HTTP variable names that clash with ones that have a specific semantic
meaning. (\*\*CVE-2022-31629\*\*). (Derick) \* Fixed bug
[GH-9323](<https://github.com/php/php-src/issues/9323>) (Crash in
ZEND\_RETURN/GC/zend\_call\_function) (Tim Starling) \* Fixed bug
[GH-9361](<https://github.com/php/php-src/issues/9361>) (Segmentation fault on
script exit php#9379). (cmb, Christian Schneider) \* Fixed bug
[GH-9447](<https://github.com/php/php-src/issues/9447>) (Invalid class FQN emitted
by AST dump for new and class constants in constant expressions). (ilutov)
\*\*DOM:\*\* \* Fixed bug php#79451 (DOMDocument->replaceChild on doctype causes
double free). (Nathan Freeman) \*\*FPM:\*\* \* Fixed bug
[GH-8885](<https://github.com/php/php-src/issues/8885>) (FPM access.log with
stderr begins to write logs to error\_log after daemon reload). (Dmitry
Menshikov) \* Fixed bug php#77780 ("Headers already sent..." when previous
connection was aborted). (Jakub Zelenka) \*\*GMP\*\* \* Fixed bug
[GH-9308](<https://github.com/php/php-src/issues/9308>) (GMP throws the wrong
error when a GMP object is passed to gmp\_init()). (Girgias) \*\*Intl\*\* \* Fixed
bug [GH-9421](<https://github.com/php/php-src/issues/9421>) (Incorrect argument
number for ValueError in NumberFormatter). (Girgias) \*\*PCRE:\*\* \* Fixed
pcre.jit on Apple Silicon. (Niklas Keller) \*\*PDO\_PGSQL:\*\* \* Fixed bug
[GH-9411](<https://github.com/php/php-src/issues/9411>) (PgSQL large object
resource is incorrectly closed). (Yurunsoft) \*\*Reflection:\*\* \* Fixed bug
[GH-8932](<https://github.com/php/php-src/issues/8932>) (ReflectionFunction
provides no way to get the called class of a Closure). (cmb, Nicolas Grekas)
\*\*Streams:\*\* \* Fixed bug [GH-9316](<https://github.com/php/php-src/issues/9316>)
($http\_response\_header is wrong for long status line). (cmb, timwolla)
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Oct 26 2022 Remi Collet remi@remirepo.net - 8.1.12-1
- Update to 8.1.12 - <http://www.php.net/releases/8_1_12.php>
\* Wed Sep 28 2022 Remi Collet remi@remirepo.net - 8.1.11-1
- Update to 8.1.11 - <http://www.php.net/releases/8_1_11.php>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2022-f204e1d0ed' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/2L5SUVYGAKSWODUQPZFBUB3AL6E6CSEV/#2L5SUVYGAKSWODUQPZFBUB3AL6E6CSEV)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.fedoraproject.org_1ec43c4a_20250108_140209.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/VI3E6A3ZTH2RP7OMLJHSVFIEQBIFM6RF/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/VI3E6A3ZTH2RP7OMLJHSVFIEQBIFM6RF/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/VI3E6A3ZTH2RP7OMLJHSVFIEQBIFM6RF/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/VI3E6A3ZTH2RP7OMLJHSVFIEQBIFM6RF/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-VI3E6A3ZTH2RP7OMLJHSVFIEQBIFM6RF.mbox.gz?message=VI3E6A3ZTH2RP7OMLJHSVFIEQBIFM6RF "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/VI3E6A3ZTH2RP7OMLJHSVFIEQBIFM6RF/#VI3E6A3ZTH2RP7OMLJHSVFIEQBIFM6RF)

# [SECURITY] Fedora 35 Update: php-8.0.24-1.fc35

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

7 Oct
2022

7 Oct
'22

8:13 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2022-afdea1c747
2022-10-07 13:13:03.413575
--------------------------------------------------------------------------------

Name : php
Product : Fedora 35
Version : 8.0.24
Release : 1.fc35
URL : <http://www.php.net/>
Summary : PHP scripting language for creating dynamic web sites
Description :
PHP is an HTML-embedded scripting language. PHP attempts to make it
easy for developers to write dynamically generated web pages. PHP also
offers built-in database integration for several commercial and
non-commercial database management systems, so writing a
database-enabled webpage with PHP is fairly simple. The most common
use of PHP coding is probably as a replacement for CGI scripts.

--------------------------------------------------------------------------------
Update Information:

\*\*PHP version 8.0.24\*\* (29 Sep 2022) \*\*Core:\*\* \* Fixed bug
[GH-9323](<https://github.com/php/php-src/issues/9323>) (Crash in
ZEND\_RETURN/GC/zend\_call\_function) (Tim Starling) \* Fixed bug
[GH-9361](<https://github.com/php/php-src/issues/9361>) (Segmentation fault on
script exit php#9379). (cmb, Christian Schneider) \* Fixed bug
[GH-9407](<https://github.com/php/php-src/issues/9407>) (LSP error in eval'd code
refers to wrong class for static type). (ilutov) \* Fixed bug php#81727: Don't
mangle HTTP variable names that clash with ones that have a specific semantic
meaning. (\*\*CVE-2022-31629\*\*). (Derick) \*\*DOM:\*\* \* Fixed bug php#79451
(DOMDocument->replaceChild on doctype causes double free). (Nathan Freeman)
\*\*FPM:\*\* \* Fixed bug [GH-8885](<https://github.com/php/php-src/issues/8885>) (FPM
access.log with stderr begins to write logs to error\_log after daemon reload).
(Dmitry Menshikov) \* Fixed bug php#77780 ("Headers already sent..." when
previous connection was aborted). (Jakub Zelenka) \*\*GMP\*\* \* Fixed bug
[GH-9308](<https://github.com/php/php-src/issues/9308>) (GMP throws the wrong
error when a GMP object is passed to gmp\_init()). (Girgias) \*\*Intl\*\* \* Fixed
bug [GH-9421](<https://github.com/php/php-src/issues/9421>) (Incorrect argument
number for ValueError in NumberFormatter). (Girgias) \*\*Phar:\*\* \* Fixed bug
php#81726: phar wrapper: DOS when using quine gzip file. (\*\*CVE-2022-31628\*\*).
(cmb) \*\*PDO\_PGSQL:\*\* \* Fixed bug [GH-9411](<https://github.com/php/php->
src/issues/9411) (PgSQL large object resource is incorrectly closed).
(Yurunsoft) \*\*Reflection:\*\* \* Fixed bug [GH-8932](<https://github.com/php/php->
src/issues/8932) (ReflectionFunction provides no way to get the called class of
a Closure). (cmb, Nicolas Grekas) \* Fixed bug
[GH-9409](<https://github.com/php/php-src/issues/9409>) (Private method is
incorrectly dumped as "overwrites"). (ilutov) \*\*Streams:\*\* \* Fixed bug
[GH-9316](<https://github.com/php/php-src/issues/9316>) ($http\_response\_header is
wrong for long status line). (cmb, timwolla)
--------------------------------------------------------------------------------
ChangeLog:

\* Thu Sep 29 2022 Remi Collet remi@remirepo.net - 8.0.24-1
- Update to 8.0.24 - <http://www.php.net/releases/8_0_24.php>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2022-afdea1c747' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/VI3E6A3ZTH2RP7OMLJHSVFIEQBIFM6RF/#VI3E6A3ZTH2RP7OMLJHSVFIEQBIFM6RF)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from people.php.net_5d3072de_20250108_161630.html ===


[![php](//php.net/images/logo.php?people)people](/)

* [Manage](https://main.php.net/manage/users.php)
* [Help](https://wiki.php.net/web/people)

No such user

﻿

* [Copyright © 2001-2025 The PHP Group](//php.net/copyright)
* [Other PHP.net sites](//php.net/sites)
* [Privacy policy](//php.net/privacy)



=== Content from gist.github.com_500f1ab3_20250108_161631.html ===

[Skip to content](#start-of-content)

[All gists](/discover)
[Back to GitHub](https://github.com)
[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fcmb69%2F77ad17bf57c6ef35785476d5328b4b74)
[Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2Fcmb69%2F77ad17bf57c6ef35785476d5328b4b74&source=header-gist)

[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fcmb69%2F77ad17bf57c6ef35785476d5328b4b74) [Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2Fcmb69%2F77ad17bf57c6ef35785476d5328b4b74&source=header-gist)

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

Instantly share code, notes, and snippets.

[![@cmb69](https://avatars.githubusercontent.com/u/2306138?s=64&v=4)](/cmb69)

# [cmb69](/cmb69)/**[0001-Fix-81726-phar-wrapper-DOS-when-using-quine-gzip-fil.patch](/cmb69/77ad17bf57c6ef35785476d5328b4b74)** Secret

Created
July 25, 2022 14:00

Show Gist options

* [Download ZIP](/cmb69/77ad17bf57c6ef35785476d5328b4b74/archive/316c4e750fd6969b743aeed10aa371906f455f65.zip)

* [Star
  (1)
  1](/login?return_to=https%3A%2F%2Fgist.github.com%2Fcmb69%2F77ad17bf57c6ef35785476d5328b4b74)You must be signed in to star a gist
* [Fork
  (0)
  0](/login?return_to=https%3A%2F%2Fgist.github.com%2Fcmb69%2F77ad17bf57c6ef35785476d5328b4b74)You must be signed in to fork a gist

* Embed

  + Embed
     Embed this gist in your website.
  + Share
     Copy sharable link for this gist.
  + Clone via HTTPS
     Clone using the web URL.
  + [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

  Clone this repository at &lt;script src=&quot;https://gist.github.com/cmb69/77ad17bf57c6ef35785476d5328b4b74.js&quot;&gt;&lt;/script&gt;
* Save cmb69/77ad17bf57c6ef35785476d5328b4b74 to your computer and use it in GitHub Desktop.

[Code](/cmb69/77ad17bf57c6ef35785476d5328b4b74)
[Revisions
1](/cmb69/77ad17bf57c6ef35785476d5328b4b74/revisions)
[Stars
1](/cmb69/77ad17bf57c6ef35785476d5328b4b74/stargazers)

Embed

* Embed
   Embed this gist in your website.
* Share
   Copy sharable link for this gist.
* Clone via HTTPS
   Clone using the web URL.
* [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone this repository at &lt;script src=&quot;https://gist.github.com/cmb69/77ad17bf57c6ef35785476d5328b4b74.js&quot;&gt;&lt;/script&gt;

Save cmb69/77ad17bf57c6ef35785476d5328b4b74 to your computer and use it in GitHub Desktop.

[Download ZIP](/cmb69/77ad17bf57c6ef35785476d5328b4b74/archive/316c4e750fd6969b743aeed10aa371906f455f65.zip)

Suggested patch for PHP bug #81726

 [Raw](/cmb69/77ad17bf57c6ef35785476d5328b4b74/raw/316c4e750fd6969b743aeed10aa371906f455f65/0001-Fix-81726-phar-wrapper-DOS-when-using-quine-gzip-fil.patch)

[**0001-Fix-81726-phar-wrapper-DOS-when-using-quine-gzip-fil.patch**](#file-0001-fix-81726-phar-wrapper-dos-when-using-quine-gzip-fil-patch)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

|  | From 0976bf346d6e4565ac9c3dfca8d431487601b6d0 Mon Sep 17 00:00:00 2001 |
| --- | --- |
|  | From: "Christoph M. Becker" <cmbecker69@gmx.de> |
|  | Date: Mon, 25 Jul 2022 15:58:59 +0200 |
|  | Subject: [PATCH] Fix #81726: phar wrapper: DOS when using quine gzip file |
|  |  |
|  | The phar wrapper needs to uncompress the file; the uncompressed file |
|  | might be compressed, so the wrapper implementation loops. This raises |
|  | potential DOS issues regarding too deep or even infinite recursion (the |
|  | latter are called compressed file quines[1]). We avoid that by |
|  | introducing a recursion limit; we choose the somewhat arbitrary limit |
|  | `100`. |
|  |  |
|  | This issue has been reported by real\_as3617 and gPayl0ad. |
|  |  |
|  | [1] <https://honno.dev/gzip-quine/> |
|  | --- |
|  | ext/phar/phar.c | 16 +++++++++++----- |
|  | ext/phar/tests/bug81726.gz | Bin 0 -> 204 bytes |
|  | ext/phar/tests/bug81726.phpt | 14 ++++++++++++++ |
|  | 3 files changed, 25 insertions(+), 5 deletions(-) |
|  | create mode 100644 ext/phar/tests/bug81726.gz |
|  | create mode 100644 ext/phar/tests/bug81726.phpt |
|  |  |
|  | diff --git a/ext/phar/phar.c b/ext/phar/phar.c |
|  | index 7cb1b06363..d3e6225d16 100644 |
|  | --- a/ext/phar/phar.c |
|  | +++ b/ext/phar/phar.c |
|  | @@ -1584,7 +1584,8 @@ static int phar\_open\_from\_fp(php\_stream\* fp, char \*fname, size\_t fname\_len, char |
|  | const char zip\_magic[] = "PK\x03\x04"; |
|  | const char gz\_magic[] = "\x1f\x8b\x08"; |
|  | const char bz\_magic[] = "BZh"; |
|  | - char \*pos, test = '\0'; |
|  | + char \*pos; |
|  | + int recursion\_count = 100; // arbitrary limit to avoid too deep or even infinite recursion |
|  | const int window\_size = 1024; |
|  | char buffer[1024 + sizeof(token)]; /\* a 1024 byte window + the size of the halt\_compiler token (moving window) \*/ |
|  | const zend\_long readsize = sizeof(buffer) - sizeof(token); |
|  | @@ -1612,8 +1613,7 @@ static int phar\_open\_from\_fp(php\_stream\* fp, char \*fname, size\_t fname\_len, char |
|  | MAPPHAR\_ALLOC\_FAIL("internal corruption of phar \"%s\" (truncated entry)") |
|  | } |
|  |  |
|  | - if (!test) { |
|  | - test = '\1'; |
|  | + if (recursion\_count) { |
|  | pos = buffer+tokenlen; |
|  | if (!memcmp(pos, gz\_magic, 3)) { |
|  | char err = 0; |
|  | @@ -1673,7 +1673,10 @@ static int phar\_open\_from\_fp(php\_stream\* fp, char \*fname, size\_t fname\_len, char |
|  | compression = PHAR\_FILE\_COMPRESSED\_GZ; |
|  |  |
|  | /\* now, start over \*/ |
|  | - test = '\0'; |
|  | + if (!--recursion\_count) { |
|  | + MAPPHAR\_ALLOC\_FAIL("unable to decompress gzipped phar archive \"%s\""); |
|  | + break; |
|  | + } |
|  | continue; |
|  | } else if (!memcmp(pos, bz\_magic, 3)) { |
|  | php\_stream\_filter \*filter; |
|  | @@ -1711,7 +1714,10 @@ static int phar\_open\_from\_fp(php\_stream\* fp, char \*fname, size\_t fname\_len, char |
|  | compression = PHAR\_FILE\_COMPRESSED\_BZ2; |
|  |  |
|  | /\* now, start over \*/ |
|  | - test = '\0'; |
|  | + if (!--recursion\_count) { |
|  | + MAPPHAR\_ALLOC\_FAIL("unable to decompress bzipped phar archive \"%s\""); |
|  | + break; |
|  | + } |
|  | continue; |
|  | } |
|  |  |
|  | diff --git a/ext/phar/tests/bug81726.gz b/ext/phar/tests/bug81726.gz |
|  | new file mode 100644 |
|  | index 0000000000000000000000000000000000000000..67b41ba3b6567fb242296fbb5db1504dd562c285 |
|  | GIT binary patch |
|  | literal 204 |
|  | zcmb2|=HOref&Yc2nR%&t=~WC25)9A(%i|Dt5\_1=0XJBRc^&i0ka~VV!USk\*QP&~o\_ |
|  | nktKo!bjW{@YyLCvGJN{)1lEBn)?BbahT(tZ|CMKe>QFcU?\_ozX |
|  |  |
|  | literal 0 |
|  | HcmV?d00001 |
|  |  |
|  | diff --git a/ext/phar/tests/bug81726.phpt b/ext/phar/tests/bug81726.phpt |
|  | new file mode 100644 |
|  | index 0000000000..11a148c28e |
|  | --- /dev/null |
|  | +++ b/ext/phar/tests/bug81726.phpt |
|  | @@ -0,0 +1,14 @@ |
|  | +--TEST-- |
|  | +Bug #81726 (phar wrapper: DOS when using quine gzip file) |
|  | +--SKIPIF-- |
|  | +<?php |
|  | +if (!extension\_loaded("phar")) die("skip phar extension not available"); |
|  | +if (!extension\_loaded("zlib")) die("skip zlib extension not available"); |
|  | +?> |
|  | +--FILE-- |
|  | +<?php |
|  | +var\_dump(fopen("phar://" . \_\_DIR\_\_ . "/bug81726.gz", "r")); |
|  | +?> |
|  | +--EXPECTF-- |
|  | +Warning: fopen(phar://%s): failed to open stream: unable to decompress gzipped phar archive "%s" in %s on line %d |
|  | +bool(false) |
|  | -- |
|  | 2.37.1.windows.1 |
|  |  |

[Sign up for free](/join?source=comment-gist)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgist.github.com%2Fcmb69%2F77ad17bf57c6ef35785476d5328b4b74)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_8359cd44_20250108_161623.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fweb-doc%2Fpull%2F18)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fweb-doc%2Fpull%2F18)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=php%2Fweb-doc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[php](/php)
/
**[web-doc](/php/web-doc)**
Public

* [Notifications](/login?return_to=%2Fphp%2Fweb-doc) You must be signed in to change notification settings
* [Fork
  85](/login?return_to=%2Fphp%2Fweb-doc)
* [Star
   34](/login?return_to=%2Fphp%2Fweb-doc)

* [Code](/php/web-doc)
* [Issues
  1](/php/web-doc/issues)
* [Pull requests
  0](/php/web-doc/pulls)
* [Actions](/php/web-doc/actions)
* [Projects
  0](/php/web-doc/projects)
* [Security](/php/web-doc/security)
* [Insights](/php/web-doc/pulse)

Additional navigation options

* [Code](/php/web-doc)
* [Issues](/php/web-doc/issues)
* [Pull requests](/php/web-doc/pulls)
* [Actions](/php/web-doc/actions)
* [Projects](/php/web-doc/projects)
* [Security](/php/web-doc/security)
* [Insights](/php/web-doc/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fphp%2Fweb-doc%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fphp%2Fweb-doc%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fix some grammatical errors on home page #18

 Closed

[zors1](/zors1)
wants to merge
1
commit into
[php:master](/php/web-doc/tree/master "php/web-doc:master")
from
[zors1:fix-homepage](/zors1/web-doc/tree/fix-homepage "zors1/web-doc:fix-homepage")

 Closed

# [Fix some grammatical errors on home page](#top) #18

[zors1](/zors1)
wants to merge
1
commit into
[php:master](/php/web-doc/tree/master "php/web-doc:master")
from
[zors1:fix-homepage](/zors1/web-doc/tree/fix-homepage "zors1/web-doc:fix-homepage")

[Conversation
2](/php/web-doc/pull/18)
[Commits
1](/php/web-doc/pull/18/commits)
[Checks
0](/php/web-doc/pull/18/checks)
[Files changed](/php/web-doc/pull/18/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![zors1](https://avatars.githubusercontent.com/u/78965690?s=60&v=4)](/zors1)

Copy link

Member

### @zors1 **[zors1](/zors1)** commented [Aug 4, 2021](#issue-960467005)

There might be more, but I'm not sure.

Sorry, something went wrong.

All reactions

[![@zors1](https://avatars.githubusercontent.com/u/78965690?s=40&v=4)](/zors1)

`[Fix some grammatical errors on home page](/php/web-doc/pull/18/commits/bca716d503d63362887ac81cf8681073432b18a8 "Fix some grammatical errors on home page")`

`[bca716d](/php/web-doc/pull/18/commits/bca716d503d63362887ac81cf8681073432b18a8)`

[![tiffany-taylor](https://avatars.githubusercontent.com/u/3333510?s=60&v=4)](/tiffany-taylor)

**[tiffany-taylor](/tiffany-taylor)**
reviewed
[May 5, 2022](#pullrequestreview-963856409)

 [View reviewed changes](/php/web-doc/pull/18/files/bca716d503d63362887ac81cf8681073432b18a8)

[www/index.php](/php/web-doc/pull/18/files/bca716d503d63362887ac81cf8681073432b18a8#diff-dd5994ad5ac3e6d23c6eff3d43beb5fda9350869b6ce3f6a4514bee3e20c6136)

|  |  | @@ -29,8 +29,8 @@ | |
| --- | --- | --- | --- |
|  |  | translations have separate mailing lists.</p> |
|  |  |  |
|  |  | <h2>Latest News!</h2> |
|  |  | <p>On March 2014 site was almost totally rebuilded. Now it uses same design as |
|  |  | new php.net pages. Many of tools and features has been removed, because they weren't used. |
|  |  | <p>In March 2014 site was almost totally rebuilt. Now it uses same design as |

Copy link

Member

### @tiffany-taylor **[tiffany-taylor](/tiffany-taylor)** [May 5, 2022](#discussion_r866246286) • edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

"On March 2014" is correct. Though it could be further improved with "On March 2014, the site was rebuilt."

Other wording fixes are correct. An additional improvement is changing the wording for "Many of tools and features" to "Many of the tools and features".

Sorry, something went wrong.

All reactions

[![@jimwins](https://avatars.githubusercontent.com/u/329264?s=80&v=4)](/jimwins)

Copy link

Member

### **[jimwins](/jimwins)** commented [Oct 22, 2024](#issuecomment-2430106408)

| This text was removed. |
| --- |

All reactions

Sorry, something went wrong.

[![@jimwins](https://avatars.githubusercontent.com/u/329264?s=40&v=4)](/jimwins)
[jimwins](/jimwins)
closed this
[Oct 22, 2024](#event-14791655403)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fweb-doc%2Fpull%2F18)

Reviewers

[![@tiffany-taylor](https://avatars.githubusercontent.com/u/3333510?s=40&v=4)](/tiffany-taylor) [tiffany-taylor](/tiffany-taylor)

tiffany-taylor left review comments

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@zors1](https://avatars.githubusercontent.com/u/78965690?s=52&v=4)](/zors1) [![@jimwins](https://avatars.githubusercontent.com/u/329264?s=52&v=4)](/jimwins) [![@tiffany-taylor](https://avatars.githubusercontent.com/u/3333510?s=52&v=4)](/tiffany-taylor)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_aeb9f844_20250108_161628.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fweb-windows%2Fpull%2F21)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fweb-windows%2Fpull%2F21)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=php%2Fweb-windows)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[php](/php)
/
**[web-windows](/php/web-windows)**
Public

* [Notifications](/login?return_to=%2Fphp%2Fweb-windows) You must be signed in to change notification settings
* [Fork
  25](/login?return_to=%2Fphp%2Fweb-windows)
* [Star
   24](/login?return_to=%2Fphp%2Fweb-windows)

* [Code](/php/web-windows)
* [Issues
  0](/php/web-windows/issues)
* [Pull requests
  2](/php/web-windows/pulls)
* [Actions](/php/web-windows/actions)
* [Projects
  0](/php/web-windows/projects)
* [Security](/php/web-windows/security)
* [Insights](/php/web-windows/pulse)

Additional navigation options

* [Code](/php/web-windows)
* [Issues](/php/web-windows/issues)
* [Pull requests](/php/web-windows/pulls)
* [Actions](/php/web-windows/actions)
* [Projects](/php/web-windows/projects)
* [Security](/php/web-windows/security)
* [Insights](/php/web-windows/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fphp%2Fweb-windows%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fphp%2Fweb-windows%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Ignore externally managed and generated files #21

 Open

[arueckauer](/arueckauer)
wants to merge
1
commit into
[php:master](/php/web-windows/tree/master "php/web-windows:master")
*base:*
master

Choose a base branch

Branches
Tags

Could not load branches

Branch not found: **{{ refName }}**

 Loading

{{ refName }}
default

Could not load tags

Nothing to show

{{ refName }}
default

 Loading

### Are you sure you want to change the base?

Some commits from the old base branch may be removed from the timeline,
and old review comments may become outdated.

 Loading

Change base

from
arueckauer:change/update-gitignore

 Open

# [Ignore externally managed and generated files](#top) #21

[arueckauer](/arueckauer)
wants to merge
1
commit into
[php:master](/php/web-windows/tree/master "php/web-windows:master")
from
arueckauer:change/update-gitignore

[Conversation
0](/php/web-windows/pull/21)
[Commits
1](/php/web-windows/pull/21/commits)
[Checks
0](/php/web-windows/pull/21/checks)
[Files changed](/php/web-windows/pull/21/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![arueckauer](https://avatars.githubusercontent.com/u/1815979?s=60&v=4)](/arueckauer)

Copy link

### @arueckauer **[arueckauer](/arueckauer)** commented [Aug 8, 2019](#issue-478253383)

 *No description provided.*

Sorry, something went wrong.

All reactions

`[Ignore externally managed and generated files](/php/web-windows/pull/21/commits/c65ceaea9bf3ebe0fc41c3ad7d087f0d97f6c5b4 "Ignore externally managed and generated files")`

`[c65ceae](/php/web-windows/pull/21/commits/c65ceaea9bf3ebe0fc41c3ad7d087f0d97f6c5b4)`

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fweb-windows%2Fpull%2F21)

Reviewers

No reviews

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

1 participant

[![@arueckauer](https://avatars.githubusercontent.com/u/1815979?s=52&v=4)](/arueckauer)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from honno.dev_aafc8864_20250108_161631.html ===

[The Blorg](/gzip-quine/)

# How to make compressed file quines, step by step

![quine_gz](https://matthewbarber.io/gzip-quine//images/posts/quine_gz.png)

 Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
|
000 <<<============================= Header ====================== > | 000
|
020 < =======>>> <<<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 020
|
040 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 040
|
060 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 060
|
100 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 100
|
120 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 120
|
140 < ~~~~~~~~~~~~~~~~~~~~~~~ Compressed data ~~~~~~~~~~~~~~~~~~~~~~~ > | 140
|
160 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 160
|
200 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 200
|
220 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 220
|
240 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 240
|
260 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 260
|
300 < ~~~~~~~~~~~>>> <<<======= Trailer =======>>> | 300
|
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
|
000 <<<============================= Header ====================== > | 000
|
020 < =======>>> <<<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 020
|
040 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 040
|
060 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 060
|
100 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 100
|
120 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 120
|
140 < ~~~~~~~~~~~~~~~~~~~~~~~ Compressed data ~~~~~~~~~~~~~~~~~~~~~~~ > | 140
|
160 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 160
|
200 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 200
|
220 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 220
|
240 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 240
|
260 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ > | 260
|
300 < ~~~~~~~~~~~>>> <<<======= Trailer =======>>> | 300
|
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ |
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ |
020 < | | 020
+---+---+---+ |
040 | 040
|
060 | 060
|
100 | 100
|
120 | 120
|
140 | 140
|
160 | 160
|
200 | 200
|
220 | 220
|
240 | 240
|
260 | 260
+---+---+---+---+---+---+---+---+ |
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ |
060 | 060
|
100 | 100
|
120 | 120
|
140 | 140
|
160 | 160
|
200 | 200
|
220 | 220
|
240 | 240
|
260 | 260
+---+---+---+---+---+---+---+---+ |
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | | 060
+---+---+---+---+---+ |
100 | 100
|
120 | 120
|
140 | 140
|
160 | 160
|
200 | 200
|
220 | 220
|
240 | 240
|
260 | 260
+---+---+---+---+---+---+---+---+ |
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | | 060 | Repeat 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+
100 | 100
|
120 | 120
|
140 | 140
|
160 | 160
|
200 | 200
|
220 | 220
|
240 | 240
|
260 | 260
+---+---+---+---+---+---+---+---+ |
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | | 100
+---+---+---+---+---+---+---+---+---+ |
120 | 120
|
140 | 140
|
160 | 160
|
200 | 200
|
220 | 220
|
240 | 240
|
260 | 260
+---+---+---+---+---+---+---+---+ |
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ |
140 < | | 140
+---+---+ |
160 | 160
|
200 | 200
|
220 | 220
|
240 | 240
|
260 | 260
+---+---+---+---+---+---+---+---+ |
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120 < Repeat 24 | Print 5 | Print 5 | Print 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < | Repeat 20 | | 140 < |
+---+---+---+---+---+---+---+ | +---+---+
160 | 160
|
200 | 200
|
220 | 220
|
240 | 240
|
260 | 260
+---+---+---+---+---+---+---+---+ |
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120 < Repeat 24 | Print 5 | Print 5 | Print 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < | Repeat 20 | Print 20 | Repeat 20 > | 140 < | Repeat 20 | Print 20 | Repeat 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 < | Print 20 | Repeat 20 | Print 20 | | 160 < | Print 20 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+
200 | 200
|
220 | 220
|
240 | 240
|
260 | 260
+---+---+---+---+---+---+---+---+ |
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120 < Repeat 24 | Print 5 | Print 5 | Print 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < | Repeat 20 | Print 20 | Repeat 20 > | 140 < | Repeat 20 | Print 20 | Repeat 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 < | Print 20 | Repeat 20 | Print 20 | | 160 < | Print 20 | Repeat 20 | Print 20 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
200 | Repeat 20 | | 200 | Repeat 20 | Print 20 |
+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+
220 | 220
|
240 | 240
|
260 | 260
+---+---+---+---+---+---+---+---+ |
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120 < Repeat 24 | Print 5 | Print 5 | Print 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < | Repeat 20 | Print 20 | Repeat 20 > | 140 < | Repeat 20 | Print 20 | Repeat 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 < | Print 20 | Repeat 20 | Print 20 | | 160 < | Print 20 | Repeat 20 | Print 20 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
200 | Repeat 20 | Print 20 | Repeat 20 | > | 200 | Repeat 20 | Print 20 | Repeat 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
220 < Print 0 | Print 0 | Print 13 | | 220 < Print 0 | Print 0 | Print 13 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+
240 | 240
|
260 | 260
+---+---+---+---+---+---+---+---+ |
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120 < Repeat 24 | Print 5 | Print 5 | Print 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < | Repeat 20 | Print 20 | Repeat 20 > | 140 < | Repeat 20 | Print 20 | Repeat 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 < | Print 20 | Repeat 20 | Print 20 | | 160 < | Print 20 | Repeat 20 | Print 20 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
200 | Repeat 20 | Print 20 | Repeat 20 | > | 200 | Repeat 20 | Print 20 | Repeat 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
220 < Print 0 | Print 0 | Print 13 | > | 220 < Print 0 | Print 0 | Print 13 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
240 < Repeat 20 | | 240 < Repeat 20 | Print 0 | Print 0 | Print 13 >
+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
260 | 260 < |
+---+---+---+---+---+---+---+---+ | +---+---+
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120 < Repeat 24 | Print 5 | Print 5 | Print 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < | Repeat 20 | Print 20 | Repeat 20 > | 140 < | Repeat 20 | Print 20 | Repeat 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 < | Print 20 | Repeat 20 | Print 20 | | 160 < | Print 20 | Repeat 20 | Print 20 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
200 | Repeat 20 | Print 20 | Repeat 20 | > | 200 | Repeat 20 | Print 20 | Repeat 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
220 < Print 0 | Print 0 | Print 13 | > | 220 < Print 0 | Print 0 | Print 13 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
240 < Repeat 20 | Print 0 | | 240 < Repeat 20 | Print 0 | Print 0 | Print 13 >
+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
260 | 260 < |
+---+---+---+---+---+---+---+---+ | +---+---+
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120 < Repeat 24 | Print 5 | Print 5 | Print 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < | Repeat 20 | Print 20 | Repeat 20 > | 140 < | Repeat 20 | Print 20 | Repeat 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 < | Print 20 | Repeat 20 | Print 20 | | 160 < | Print 20 | Repeat 20 | Print 20 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
200 | Repeat 20 | Print 20 | Repeat 20 | > | 200 | Repeat 20 | Print 20 | Repeat 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
220 < Print 0 | Print 0 | Print 13 | > | 220 < Print 0 | Print 0 | Print 13 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
240 < Repeat 20 | Print 0 | Print 0 | | 240 < Repeat 20 | Print 0 | Print 0 | Print 13 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
260 | 260 < |
+---+---+---+---+---+---+---+---+ | +---+---+
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120 < Repeat 24 | Print 5 | Print 5 | Print 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < | Repeat 20 | Print 20 | Repeat 20 > | 140 < | Repeat 20 | Print 20 | Repeat 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 < | Print 20 | Repeat 20 | Print 20 | | 160 < | Print 20 | Repeat 20 | Print 20 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
200 | Repeat 20 | Print 20 | Repeat 20 | > | 200 | Repeat 20 | Print 20 | Repeat 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
220 < Print 0 | Print 0 | Print 13 | > | 220 < Print 0 | Print 0 | Print 13 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
240 < Repeat 20 | Print 0 | Print 0 | Print 13 > | 240 < Repeat 20 | Print 0 | Print 0 | Print 13 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
260 < | Repeat 13 (F) | CRC32 | ISIZE | | 260 < | Repeat 13 (F) | CRC32 | ISIZE |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
300 | CRC32 | ISIZE | | 300
+---+---+---+---+---+---+---+---+ |
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120 < Repeat 24 | Print 5 | Print 5 | Print 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < | Repeat 20 | Print 20 | Repeat 20 > | 140 < | Repeat 20 | Print 20 | Repeat 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 < | Print 20 | Repeat 20 | Print 20 | | 160 < | Print 20 | Repeat 20 | Print 20 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
200 | Repeat 20 | Print 20 | Repeat 20 | > | 200 | Repeat 20 | Print 20 | Repeat 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
220 < Print 0 | Print 0 | Print 13 | > | 220 < Print 0 | Print 0 | Print 13 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
240 < Repeat 20 | Print 0 | Print 0 | Print 13 > | 240 < Repeat 20 | Print 0 | Print 0 | Print 13 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
260 < | Repeat 13 (F) | CRC32 | ISIZE | > | 260 < | Repeat 13 (F) | CRC32 | ISIZE | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
300 < Repeat 13 (F) | CRC32 | ISIZE | | 300 < Repeat 13 (F) | CRC32 | ISIZE |
+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+
~~~~~
Infile | Outfile
|
0 1 2 3 4 5 6 7 8 9 A B C D E F | 0 1 2 3 4 5 6 7 8 9 A B C D E F
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" > | 000 |ID1|ID2|CM |FLG| MTIME |XFL|OS | FNAME := "quine.gz" >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < | Print 24 |ID1|ID2|CM |FLG| MTIME | | 020 < | Print 24 |ID1|ID2|CM |FLG| MTIME |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 |XFL|OS | FNAME := "quine.gz" | Print 24 | | 040 |XFL|OS | FNAME := "quine.gz" | Print 24 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 | Repeat 24 | Print 5 | Repeat 24 | > | 060 | Repeat 24 | Print 5 | Repeat 24 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5 | Print 5 | Print 20 | > | 100 < Print 5 | Print 5 | Print 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24 | Print 5 | Print 5 | Print 20 > | 120 < Repeat 24 | Print 5 | Print 5 | Print 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < | Repeat 20 | Print 20 | Repeat 20 > | 140 < | Repeat 20 | Print 20 | Repeat 20 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 < | Print 20 | Repeat 20 | Print 20 | | 160 < | Print 20 | Repeat 20 | Print 20 |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
200 | Repeat 20 | Print 20 | Repeat 20 | > | 200 | Repeat 20 | Print 20 | Repeat 20 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
220 < Print 0 | Print 0 | Print 13 | > | 220 < Print 0 | Print 0 | Print 13 | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
240 < Repeat 20 | Print 0 | Print 0 | Print 13 > | 240 < Repeat 20 | Print 0 | Print 0 | Print 13 >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
260 < | Repeat 13 (F) | CRC32 | ISIZE | > | 260 < | Repeat 13 (F) | CRC32 | ISIZE | >
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
300 < Repeat 13 (F) | CRC32 | ISIZE | | 300 < Repeat 13 (F) | CRC32 | ISIZE |
+---+---+---+---+---+---+---+---+---+---+---+---+ | +---+---+---+---+---+---+---+---+---+---+---+---+

You may have come across a compressed archive file (`.zip`, `.tar.gz`, `.rar` etc.) that [infinitely contains itself](https://alf.nu/ZipQuine) and thought that looks neat.

You might even want to make your own—that is, if you have suspiciously too much time on your hands and like to jump into black holes of pointless endeavours. Let me welcome you comrade. This post will explore everything you need to know to be on your merry way creating these quines.

Much of the credit goes to folks much smarter than myself (they will be introduced); this tutorial is meant to curate previous work and literature as much as it is for myself to educate you. The goal here is to allow for any curious, technically-minded newcomer to make sense of all the concepts involved in creating compression quines.

Particular thanks goes to Russ Cox who [wrote on the subject of compressed files quines](https://research.swtch.com/zip). This post is essentially a more unassuming approach then his; nonetheless I would encourage reading both articles.

A word of warning for those inexperienced in Lempel-Ziv and Huffman Codes, compressed archive specs like DEFLATE, and editing files on a binary-level—**there is a lot to learn, understand and work through**. Although a very educational process (and I think a lot of fun), there is little direct practical achievement here. For example, I took more than a month to just create the petty 204-byte [quine.gz](https://github.com/Honno/gzip-quine/raw/main/quine.gz).

**A GZIP quine will be the main subject of this article.** It will be the easiest format to create a quine with, as the GZIP format does not concern itself with archiving a collection of files like ZIP does. Once you’ve learnt how to make a GZIP quine, you will feel confident to explore other formats and specifications.

Also mind, GZIP is well-supported on popular Linux distributions. About Windows and Mac—I don’t know, but I’m sure there’ll be tools available if you search around.

Without further ado, let’s get started!

* [Understanding quines](#understanding-quines)
* [GZIP file structure: Part 1](#gzip-file-structure-part-1)
* [Compressed data as a program](#how-is-a-compressed-file-like-a-program)
* [Compressed files as a program](#compressed-files-as-a-program)
* [GZIP file structure: Part 2](#gzip-file-structure-part-2)
  + [Header](#header)
  + [DEFLATE-compressed data stream](#deflate-compressed-data-stream)
    - [Block types](#block-types)
    - [Print](#print)
    - [Repeat](#repeat)
  + [Bringing it all together](#bringing-it-all-together)
  + [Finding the checksum](#finding-the-checksum)
* [Conclusion](#conclusion)

## Understanding quines

**Compressed archive files can be considered as *programs*.** We’ll get back to how that is soon, but first you need to know that most programming languages can be used to create self-replicating programs. So when the source program executes, it will produce an exact copy of it’s own source.

Never written one yourself? I implore you to try making a quine using your programming language of choice and come back here when you’re done. It can take a while so don’t feel bad if you struggle to get there.

Waiting
~~~~~
Waiting.
~~~~~
Waiting..
~~~~~
Waiting...

It can be fun and educational to discover things completely by yourself, but it’s certainly not paramount. So a few hours later when you’re banging your head against the keyboard, feel free to cheat a bit and check out [this Rosetta Code page](https://rosettacode.org/wiki/Quine), which provides examples in many languages. Excellent further reading could be [this extensive look at quines](http://www.madore.org/~david/computers/quine.html) by David Madore.

## GZIP file structure: Part 1

In a literal sense, a file consists of ones and zeroes; it’s up to the software that’s reading the file to translate those bytes into useful information.

Here the binary representation of [quine.gz](https://github.com/Honno/gzip-quine/raw/main/quine.gz):

```

0000000 1f 8b 08 08 00 00 00 00 00 ff 71 75 69 6e 65 2e
0000020 67 7a 00 00 18 00 e7 ff 1f 8b 08 08 00 00 00 00
0000040 00 ff 71 75 69 6e 65 2e 67 7a 00 00 18 00 e7 ff
0000060 42 16 47 16 07 00 05 00 fa ff 42 16 47 16 07 00
0000100 05 00 fa ff 00 05 00 fa ff 00 14 00 eb ff 42 16
0000120 47 16 07 00 05 00 fa ff 00 05 00 fa ff 00 14 00
0000140 eb ff 42 88 21 c4 00 00 14 00 eb ff 42 88 21 c4
0000160 00 00 14 00 eb ff 42 88 21 c4 00 00 14 00 eb ff
0000200 42 88 21 c4 00 00 14 00 eb ff 42 88 21 c4 00 00
0000220 00 00 ff ff 00 00 00 ff ff 00 0d 00 f2 ff 42 88
0000240 21 c4 00 00 00 00 ff ff 00 00 00 ff ff 00 0d 00
0000260 f2 ff 83 70 a0 1c 00 ff 79 ff a9 cc 00 00 00 83
0000300 70 a0 1c 00 ff 79 ff a9 cc 00 00 00

```

That’s utter nonesense at this point, so don’t worry; the endgame of this article is to reconstruct the above. We’re going to abstract the information (metadata) and instructions (*print* & *repeat* opcodes) of GZIP files before encoding them.

Software that decompresses a GZIP file assumes a specification has been followed by the software that originally compressed the original file to create it so that the file’s bits become meaningful. [RFC 1952](https://tools.ietf.org/html/rfc1952) is the specification that should be strictly adhered to (although bear in mind that it’s not uncommon to see minor deviations).

GZIP files comprise of metadata in a header and trailer, with compressed data in-between.

The composition of the header/data/trailer would look something like this:

```

       0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000  | <<<============================= Header ====================== >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 < =======>>> | <<<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 < ~~~~~~~~~~~~~~~~~~~~~~~ Compressed data ~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
200 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
220 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
240 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
260 < ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
300 < ~~~~~~~~~~~>>> | <<<======= Trailer =======>>> |
     +---+---+---+---+---+---+---+---+---+---+---+---+

```

If that’s a bit confusing, let me explain (feel free to [skip](#how-is-a-compressed-file-like-a-program)).

* Bytes are ordered left-to-right, then loops at the left again, moving a line down. Just like reading English.
* Each row truncates at 16 bytes.
* The x-axis (represented in *hex*) indicates how many bytes away from the row’s starting byte-position the byte is.
* The y-axis (represented in *octal*) indicates the row’s starting byte-position, i.e:
  + The first row’s y value is `0o000`, as 0 bytes preceed it.
  + The second row’s y value is `0o020`, as 16 bytes preceed it.
  + The fifth row’s y value is `0o100`, as 64 bytes preceed it.

So in the above example:

* The header occupies `(0, 000) -> (2, 020)` (19 bytes)
* The compressed data occupies `(3, 020) -> (3, 300)` (177 bytes)
* The trailer occupies `(4, 300) -> (B, 300)` (8 bytes)

## Compressed data as a program

The Collins Dictionary definition of a “program” is as follows:

> A set of instructions for a computer to perform some task.

Compressed data found in GZIP files *is a program* in this regard. It comprises of two instruction types:

1. *Print (X)*

   Print the following X amount of *input* to the *output*.
2. *Repeat (X, Y)*

   Starting from Y amount away from the end of the *output*, repeat the following X amount of *output* to the *output*.

I hear you muttering “huh?”—to better understand the nature of these commands, **please try out [this excellent interactive demo](https://wgreenberg.github.io/quine.zip/)** by Will Greenberg.

Go create a quine with these two instructions (it rather simplifies things).

Waiting
~~~~~
Waiting.
~~~~~
Waiting..
~~~~~
Waiting...

Here’s a solution by Russ Cox:

Show
```

 Code           | Output
----------------|----------------
 P0             |
 P0             |
 P0             |
 P4 P0 P0 P0 P4 | P0 P0 P0 P4
 R4             | P0 P0 P0 P4
 P4 R4 P4 R4 P4 | R4 P4 R4 P4
 R4             | R4 P4 R4 P4
 P4 P0 P0 P0 P0 | P0 P0 P0 P0

```

We’re using the short hand `P` for *Print*, and `R` for *Repeat*. Repeat arguements are given a single arguement (`i`), which denotes we’re repeating the `i` amount of *output* from `i` amount away from the end of the *output*—basically it’s the `X` *and* `Y` value.

So we can write compressed data that executes (rather, decompresses) to itself—a quine! But how about *expanding* into a fully-formed file; how can compressed data output both itself *and* the metadata of a GZIP file?

## Compressed files as a program

Cox notes the above example contains a *6-step* sequence that prints a larger *8-step* sequence:

```

 P4 P0 P0 P0 P4 | P0 P0 P0 P4
 R4             | P0 P0 P0 P4

```

He explains it’s **critical for a sequence like the above to exist for compressed file quines to be possible**. Output lags behind the input before the last instruction (the `R4`), only to jump ahead of the input. This demonstrates that arbitary data, such as a header and trailer of a GZIP file, could be purposely outputted at the head and tail ends of the compressed data.

The `P0`—“print nothing” instruction—used in Cox’s compressed data quine can actually be swapped for a header and trailer. Cox thus creates a quine-ish program that “expands” itself with an arbitary prefix `aa bb cc` (the header) and suffix `xx yy zz` (the trailer):

```

 Code            | Output
-----------------|-----------------
 P4 aa bb cc P4  | aa bb cc P4
 R4              | aa bb cc P4
 P4 R4 P4 R4 P4  | R4 P4 R4 P4
 R4              | R4 P4 R4 P4
 P4 R4 xx yy zz  | R4 xx yy zz
 R4              | R4 xx yy zz

```

A framework for a self-expanding compressed file! Nearly at least, as headers and trailer tend to be of varying lengths.

A generalised program that will work for any sized header and any sized trailer would be extremely useful. It would certainly be possible with variable arguments to `P` and `R` instructions. For example, the start of the file quine could look like this:

```

..H..           |
Lh+1 ..H.. Lh+1 | ..H.. Lh+1

```

Where `..H..` is a header of variable length and `h` is the length of the header.

So yes, I am going to ask you to try create one yourself. “You can do it!” And if you can’t, don’t sweat it.

Waiting
~~~~~
Waiting.
~~~~~
Waiting..
~~~~~
Waiting...

Cox’s solution is as follows:

Show
```

  Infile          | Outfile
------------------|----------------
 ..H..            |
 Lh+1 ..H.. Lh+1  | ..H.. Lh+1
 Rh+1             | ..H.. Lh+1
 L1 Rh+1          | Rh+1
 L1 L1            | L1
 L4 Rh+1 L1 L1 L4 | Rh+1 L1 L1 L4
 R4               | Rh+1 L1 L1 L4
 L4 R4 L4 R4 L4   | R4 L4 R4 L4
 R4               | R4 L4 R4 L4
 L4 R4 L0 L0 Lt+1 | R4 L0 L0 Lt+1
 R4               | R4 L0 L0 Lt+1
 L0               |
 L0               |
 Lt+1 Rt+1 ..T..  | Rt+1 ..T..
 Rt+1             | Rt+1 ..T..
 ..T..            |

```

And there you have it. Translate something like this into GZIP-compliant binary and you’re done!

But hold on hotshot ‘coz there’s a ways to go yet. Probably a good time to [make yourself a cuppa](https://www.youtube.com/watch?v=lNO_v8L2vI4).

## GZIP file structure: Part 2

We’re going to deep dive on the GZIP specification, [RFC 1952](https://tools.ietf.org/html/rfc1952), and the DEFLATE specification (we’ll get to that in a sec) it refers to, [RFC 1951](https://www.ietf.org/rfc/rfc1951.txt). You’ll want to open these up for heavy reference. I’m basically asking you to recreate [quine.gz](https://github.com/Honno/gzip-quine/raw/main/quine.gz).

We’ll be hex editing files, for which there are various solutions available; using the Unix tool [tweak](https://www.chiark.greenend.org.uk/~sgtatham/tweak/) worked well on my end. Emacs users can enjoy `hexl-mode`. Anything you can find for your OS should do—there’s not a great deal of features needed for a hex editing tool anyway.

**I highly recommend setting up the [infgen tool](https://github.com/madler/infgen) by compression king Mark Adler**, which is a DEFLATE decompresser that outputs to a readable format (it was kindly made just for educational purposes). I found it extremely useful as I could verify my manual DEFLATE coding was working as intended, which gets important especially for the awkward method of writing *Repeat* instructions we’ll be employing.

Also, maybe try reading Adler’s [puff.c](https://github.com/madler/zlib/blob/master/contrib/puff/puff.c) DEFLATE-inflater. It was written to employ simple logic so folk could understand how DEFLATE works.

### Header

Section 2.3 of RFC 1952 (or `GZIP:2.3`, which is how I’ll denote sections like so from now on) states the members available in a GZIP file header. The base header looks like this:

```

       0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
     +---+---+---+---+---+---+---+---+---+---+
000  |ID1|ID2|CM |FLG|     MTIME     |XFL|OS |
     +---+---+---+---+---+---+---+---+---+---+

```

That could just be it for our quine. However, I would add a `FNAME` attribute so the decompressed outfile that the decompressing tool generates is of the same name as the origianl infile. My `quine.gz` is encoded like so:

```

       0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000  |ID1|ID2|CM |FLG|     MTIME     |XFL|OS |    FNAME := "quine.gz" >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 <            |
     +---+---+---+

```

Read up on the GZIP spec and translate the above to the respective binary!

I would suggest writing/typing in seperated 8-bit/1-byte blocks (using with the left-most bit as the [MSB](https://en.wikipedia.org/wiki/Bit_numbering#Most_significant_bit)), and then converting to hexadecimal.

Let me give you some values for a few fields:

* `CM` value of 8 as it denotes the DEFLATE compression method we’ll use.
* `MTIME` value of 0 as it says no timestamp is available.
* `XFL` value of 0 because it’s not really meaningful.
* `OS` value of 255 because who cares ¯\*(ツ)*/¯

Waiting
~~~~~
Waiting.
~~~~~
Waiting..
~~~~~
Waiting...

The solution:

Show
```

0000000 1f 8b 08 08 00 00 00 00 00 ff 71 75 69 6e 65 2e
0000020 67 7a 00

```

We have a header! Note that I’ll be using the above in my examples from now on.

We can’t quite determine the trailer yet, as it’s two set fields—`CRC32` and `ISIZE`—are both determined by the contents of the “original, uncompressed file”—yes, that input file is also the output file. So essentially writing the trailer will have to come once we know everything else about the quine we’re writing (spoiler: it will get confusing).

### DEFLATE-compressed data stream

As mentioned, compressed data can be boiled down to just of *print* and *repeat* instructions. But to get to that level of abstraction, we need to understand what it really is—a *DEFLATE* data stream .

And even them I’m fudging it a bit, because *technically* it can be any compression method you like (denoted by the `CM` block in the GZIP header). For modern GZIP compressors and decompressors (tools tend to do both), I believe most programs just expect use of DEFLATE anyway, so that’s what we are caring about today. DEFLATE is not ubiquitous in the wider world of “compressing stuff”, but it’s concepts are shared by many modern compression efforts.

Right! So before we “code” in DEFLATE, we need to understand it’s intended use—loseless-ly compressing files to save up on space. It’s beauty is in how it harmonizes two effective algorithms in “reducing redundancy” in a set of information (in DEFLATE’s case, binary files):

* Dictionary-based compression (by way of Lempel-Ziv)
* Entropy-based compression (by way of Huffman coding)

(You should be somewhat familiar with Lempel-Ziv, as the *Print* & *Repeat* opcodes are essentially the end result of LZ algorithms.)

I’m not going to teach you about the design choices for DEFLATE here, so if you have no idea how it works in the broad-stokes, maybe check out the following:

1. A little article titled [“The Elegance of Deflate”](http://www.codersnotes.com/notes/elegance-of-deflate/) by Richard Mitton, which aptly explains *why* DEFLATE is so effective.
2. Educator-extraordinaire Prof. David Brailsford explaining the compression concepts [Lempel-Ziv](https://www.youtube.com/watch?v=goOa3DGezUA) and [Huffman coding](https://www.youtube.com/watch?v=umTbivyJoiI).

#### Block types

Blocks are the container for the instructions and arguments of a set of data, starting with a `BFINAL` bit that denotes if it’s the last block in the compressed data stream, and is followed by two bits that denote the `BTYPE` (block type) of the block, as explained in `DEFLATE:3.2.3.`.

There are three `BTYPE` blocks in DEFLATE:

* Stored block (`BTYPE=00`)

  The *Print (X)* command. Also referred to as the “literal” block, as it really says “treat the next `X`-length bytes literally, not as instructions”.
* Compressed blocks

  For our purposes, these can basically be the *Repeat (X, Y)* command. The important distinction here is that **the instructions are Huffman coded**. There are two kinds of compressed blocks:

  + Fixed (`BTYPE=01`)

    A Huffman tree pre-built into the DEFLATE specification is used.
  + Dynamic (`BTYPE=10`)

    A compressor-defined Huffman tree is first defined, to be used with subsequent compressed data.

We’ll just parallel the *Repeat (X, X)* instructions (like used in the [original compressed data quine example above](#shorthand)) with fixed compressed blocks. We don’t want to bother with defining a Huffman tree like with a dynamic block, at least when manually writing a quine.

#### Print

Our first print sequence comes from the top of the Cox quine:

```

..H..           |
Lh+1 ..H.. Lh+1 | ..H.. Lh+1

```

For us that comes out to the following:

```

       0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000  |ID1|ID2|CM |FLG|     MTIME     |XFL|OS |    FNAME := "quine.gz" >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 <            |     Print 24      |ID1|ID2|CM |FLG|     MTIME     |
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040  |XFL|OS |        FNAME := "quine.gz"        |     Print 24      |
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+

```

The 24 argument for the *Print* instruction is the number we desire: the header is 19-bytes long, and 5-bytes long `Print 24`. All literal blocks start with 5 bytes:

```

  0   1   2   3   4   5...
+---+---+---+---+---+================================+
| B |  LEN  | NLEN  |... LEN bytes of literal data...|
+---+---+---+---+---+================================+

B: BFINAL + BTYPE + Zero padding to byte boundary
LEN: Length of literal data
NLEN:  Bit flipped LEN

```

Read `DEFLATE:3.2.4.` and write the corresponding hex.

Waiting
~~~~~
Waiting.
~~~~~
Waiting..
~~~~~
Waiting...

Show
```

0x 00 18 00 e7 ff

```

Did you mess up the byte order? `DEFLATE:3.1.1.` states how DEFLATE packs it’s bytes.

… but honestly it’s contents still confuse me. For literal blocks, I just think of writing an unsigned integer in bits, with padding to the left to fit the 2-byte boundary. It’s in a little-endian byte order, and if you have no idea what that is, maybe [Dr. Steve Bagley can help you out](https://www.youtube.com/watch?v=NcaiHcBvDR4)?

```

       Big-endian         |       Little-endian
                          |
      0           1       |       0           1
+-----------+-----------+ | +-----------+-----------+
| 0000 0000 | 0001 0000 | | | 0001 1000 | 0000 0000 |
+-----------+-----------+ | +-----------+-----------+
                          |
        0x 00 18          |          0x 18 00

```

Here’s what our file should look like:

```

0000000 1f 8b 08 08 00 00 00 00 00 ff 71 75 69 6e 65 2e
0000020 67 7a 00 00 18 00 e7 ff 1f 8b 08 08 00 00 00 00
0000040 00 ff 71 75 69 6e 65 2e 67 7a 00 00 18 00 e7 ff

```
#### Repeat

***Repeat (24, 24)***

Up next is our realization of the Coxian `Rh+1` command:

```

       0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000  |ID1|ID2|CM |FLG|     MTIME     |XFL|OS |    FNAME := "quine.gz" >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 <            |     Print 24      |ID1|ID2|CM |FLG|     MTIME     |
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040  |XFL|OS |        FNAME := "quine.gz"        |     Print 24      |
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060  |     Repeat 24     |
     +---+---+---+---+---+

```

To “print the following 24 bytes from 24 bytes back the output”, you can simply write the following:

```

      0           1          2
+-----------+-----------+-----------+
| 1100 0010 | 0010 1001 | 0000 1110 |
+-----------+-----------+-----------+

             0x c2 29 0e

```

Let me unpack that for you:

```

            +-- Literal codes between 256..279 are 7 bits long
            |
            |             +-- All distance codes in BTYPE=01 blocks are 5 bits long
          __|__          _|_
         /     \        /   \
0 + 01 + 0001110[+01] + 01000[+111] + 0000
^   ^       ^     ^       ^     ^      ^
|   |       |     |       |     |      |
|   |       |     |       |     |      +-- Zero padding to byte boundary
|   |       |     |       |     |
|   |       |     |       |     +-- Add 7 to length base 17 => 24
|   |       |     |       |
|   |       |     |       +-- Distance code 8 (length base: 17, extra bits: 3)
|   |       |     |
|   |       |     +-- Add 1 to length base 23 => 24
|   |       |
|   |       +-- Literal code 270 (length base: 23, extra bits: 2)
|   |
|   +-- BTYPE=01 (block is compressed using DEFLATE's pre-built Huffman table)
|
+-- BFINAL=0 (not the final block)

```

If you have no idea how DEFLATE’s fixed Huffman codes work, you may want to read [this excellent DEFLATE reference](http://calmarius.net/?lang=en&page=programming%2Fzlib_deflate_quick_reference) by Calmarius. He importantly offers a clear explanation of how the DEFLATE alphabet works (needed for literal/length & distance codes), as well as the specification generally. Don’t mind the ZLIB stuff.

Take your time~

***Repeat (12, 24) (12, 24)***

Anywho, of course I’m not going to give you the actual solution just like that. The problem with this `R (24, 24)` is that only 3 bytes long, which messes up the Coxian quine that presumes the same size for all *Print* & *Repeat* instructions.

As the *Print* commands always start with 5 bytes, we’ll use that as the constant “unit” of our program, i.e. the `1` in `Ph+1` & `Rh+1` is 5 bytes.

Fortunately, we can write a different representation of `R (24,24)` in the way of `R (12, 24) R (12, 24)`. Spoiler: it comes to 5 bytes. You can infact fudge all the Coxian *Repeat* instructions like this.

You know what your task is. I’ll give you a little template to help you out:

```

0 + 01 + ..L12..[+..L12x..] + ..D24..[+..D24x..] + ..L12..[+..L12x..] + ..D24..[+..D24x..] + 00000

```

Waiting
~~~~~
Waiting.
~~~~~
Waiting..
~~~~~
Waiting...

And so, your quine should look like this:

Show
```

0000000 1f 8b 08 08 00 00 00 00 00 ff 71 75 69 6e 65 2e
0000020 67 7a 00 00 18 00 e7 ff 1f 8b 08 08 00 00 00 00
0000040 00 ff 71 75 69 6e 65 2e 67 7a 00 00 18 00 e7 ff
0000060 42 16 47 16 07

```

Now you’re set, at least until…

***Repeat (13, 13)***

A translation of the Coxian `Rt+1` for us will be R `(13, 13)`, seeing that GZIP trailers are always 8 bytes and we’ve established “1” is 5 bytes. This means we can’t neatly split this into two of the same literal & distance pairs.

No fret, because something like `Repeat (6, 13) (7, 13)` works just as well!

### Bringing it all together

```

       0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
000  |ID1|ID2|CM |FLG|     MTIME     |XFL|OS |    FNAME := "quine.gz" >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
020 <            |     Print 24      |ID1|ID2|CM |FLG|     MTIME     |
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
040  |XFL|OS |        FNAME := "quine.gz"        |     Print 24      |
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
060  |     Repeat 24     |      Print 5      |     Repeat 24     |    >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
100 < Print 5        |      Print 5      |     Print 20      |        >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
120 < Repeat 24  |      Print 5      |      Print 5      |   Print 20 >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
140 <        |     Repeat 20     |     Print 20      |      Repeat 20 >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
160 <    |     Print 20      |     Repeat 20     |     Print 20      |
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
200  |     Repeat 20     |     Print 20      |     Repeat 20     |    >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
220 < Print 0        |      Print 0      |     Print 13      |        >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
240 < Repeat 20  |      Print 0      |      Print 0      |   Print 13 >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
260 <        |   Repeat 13 (F)   |     CRC32     |     ISIZE     |    >
     +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
300 < Repeat 13 (F)  |     CRC32     |     ISIZE     |
     +---+---+---+---+---+---+---+---+---+---+---+---+

```

You should be able to translate everything here, except for the CRC32 field (which we’ll get to soon!), so… go do that.

Waiting
~~~~~
Waiting.
~~~~~
Waiting..
~~~~~
Waiting...

Here you go. Mind I’ve replaced the 4-byte CRC with the `** ** ** **` placeholder.

Show
```

0000000 1f 8b 08 08 00 00 00 00 00 ff 71 75 69 6e 65 2e
0000020 67 7a 00 00 18 00 e7 ff 1f 8b 08 08 00 00 00 00
0000040 00 ff 71 75 69 6e 65 2e 67 7a 00 00 18 00 e7 ff
0000060 42 16 47 16 07 00 05 00 fa ff 42 16 47 16 07 00
0000100 05 00 fa ff 00 05 00 fa ff 00 14 00 eb ff 42 16
0000120 47 16 07 00 05 00 fa ff 00 05 00 fa ff 00 14 00
0000140 eb ff 42 88 21 c4 00 00 14 00 eb ff 42 88 21 c4
0000160 00 00 14 00 eb ff 42 88 21 c4 00 00 14 00 eb ff
0000200 42 88 21 c4 00 00 14 00 eb ff 42 88 21 c4 00 00
0000220 00 00 ff ff 00 00 00 ff ff 00 0d 00 f2 ff 42 88
0000240 21 c4 00 00 00 00 ff ff 00 00 00 ff ff 00 0d 00
0000260 f2 ff 83 70 a0 1c 00 ** ** ** ** cc 00 00 00 83
0000300 70 a0 1c 00 ** ** ** ** cc 00 00 00

```

### Finding the checksum

Actually, at this point your quine will work on a lot of popular decompressors (if they have options to not verify the checksum). Congratulations!

… I wasn’t quite satisfied with that, so I decided to see about finding a CRC32 that, when found in both in quoted and actual part of the GZIP quine, will work. A self referential checksum, so to speak.

I won’t get into how a cyclic redundancy check works—you can read [these succinct notes](http://heather.cs.ucdavis.edu/matloff/public_html/Networks/CRC/Old/ErrChkCorr.html) by Prof. Norman Matloff—but for all intents and purposes you can simply bruteforce all possible values until something works.

For the 32 bits of CRC32, there are 2^32 (over 4 billion) permutations you can test. For modern tech that ain’t too much of an effort, so I wrote a [dirty Python script utilizing multi-processing](https://gist.github.com/Honno/4e6e4790e14c43bf5d6fa822fb56b6ea). It works by embedding a given CRC32 value into defined quoted & actual positions in a provided template file, checking if the CRC32 checksum of the modified template matches the given CRC32 value.

I plonked it on a Google Cloud server to run on (they offer more than enough free credit), so as not to see my not-so-modern Pentium CPU bleed to death. If you were going to use it on a basic computer, you’ll likely want to modify the script to add appropriate sleep instructions if you don’t want to repurpose your processor as a frying pan.

Oh yeah and, I’m not a mathematician, so maybe this is overkill. Can someone tell me if there’s some algebra involving modulus or whatever that could actually solve for a self-referential CRC32 answer?

Anyway, if you haven’t been cheating all this time with the `quine.gz` source code, I’ll save you the hassle and tell you the CRC32 value that we want for our quine: `0x ff 79 ff a9`.

## Conclusion

I’ve got actually useful work to get on with, so I’m leaving the challenge of writing a programmatic solution for the creation of compressed file/archive quines with variable arguments to y’all. Have some fun with it, but make sure it’s in Python ;)

Of course, Russ Cox actually has already done this by way of `rgzip.go` (search his *[“Zip Files All The Way Down”](https://research.swtch.com/zip)* post for it), though mind it’s in some old version of Go that is hard comprehend at this point. Take note that he utilizes dynamic compressed blocks!

Infact, check the comment section of his post to see some fascinating explorations of compression quines.

… just ignore the user Misi, who exclaims that you can create fodder bytes in your quine to manipulate the CRC value to be whatever you want—making my ridiculous brute-forcing methods a rather useless affair. At least having a self referential CRC is kind-of cool, right?

---

Anyway, feel free to contact me wherever about any questions you have, or something cool you’d like to share. I hope this tutorial has helped you out but it’s probably a bit strange, so if you’ve got any concept you’d explored more/differently then definitely tell me. This is a new Jekyll blog I’ve set up, and I have haphazardly written the scripting/styling/ASCII charts, so do point out any errors or accessibility issue if you could.

I really can’t thank the following folk enough for the amazing educational resources they’ve provided free of charge!

* [Russ Cox](https://swtch.com/~rsc/)
* [David Madore](http://www.madore.org/~david/)
* [Will Greenberg](https://github.com/wgreenberg)
* [Richard Mitton](http://www.codersnotes.com/)
* [Prof. David Brailsford](http://www.cs.nott.ac.uk/~psadb1/)
* [Prof. Steven Bagley](http://www.cs.nott.ac.uk/~pszsrb/)
* All of [Computerphile](https://www.youtube.com/channel/UC9-y-6csu5WGm29I7JiwpnA)
* [Calmarius](http://calmarius.net)
* [Prof. Norman Matloff](https://faculty.engineering.ucdavis.edu/matloff/)
* [Mark Adler](https://madler.net/madler/)

Thanks for reading, and happy hacking!

![](https://matthewbarber.io/gzip-quine//images/me.jpg)

## About

*Matthew Barber* is a nerdy dude with opinions on the internet, which offers a refreshing change of pace for online spaces everywhere. Being not the renaissance man he thinks he is so much as a vexatious dilettante, he compulsively dabbles in things of questionable practicality, and shares tales of his "adventures" on this not award winning blog.

* [Portfolio](https://matthewbarber.io/)
* Email
* [Twitter](https://twitter.com/WhoStoleHonno)
* [GitHub](https://github.com/Honno)

[![Creative Commons License](https://i.creativecommons.org/l/by/4.0/80x15.png)](http://creativecommons.org/licenses/by/4.0/)
*The Blorg* contents licensed under [CC BY 4.0](https://matthewbarber.io/gzip-quine/licenses/cc-by-4.txt)

Website [source](https://github.com/Honno/gzip-quine-tutorial) mostly licensed under [MIT](https://matthewbarber.io/gzip-quine/licenses/mit.txt)

[all-licenses.txt](https://matthewbarber.io/gzip-quine/licenses/all-licenses.txt)



=== Content from github.com_d023a302_20250108_161630.html ===
From 411c41db7c5b9595570761302ae9da018223c95f Mon Sep 17 00:00:00 2001
From: "Christoph M. Becker"
Date: Mon, 9 Nov 2020 14:06:22 +0100
Subject: [PATCH] Prepare for longer commit hashes
The 7 digit hashes can produce collisions, so we're planning to use
10 digit hashes in the future. This change prepares for that, although
that code is currently dead code, since `$force` is always true (see
the respective code comment).
---
script/generate\_snap\_page.php | 2 +-
1 file changed, 1 insertion(+), 1 deletion(-)
diff --git a/script/generate\_snap\_page.php b/script/generate\_snap\_page.php
index 3b33d28..ccdae02 100644
--- a/script/generate\_snap\_page.php
+++ b/script/generate\_snap\_page.php
@@ -105,7 +105,7 @@ function parse\_meta($path)
/\* Currently we always regenerate the snaps page completely. Alternatively, some more data might need
to be checked, for the case the script execution were caught at unlucky point where some build
upload is in the incomplete state. Both methods have their up and down sides. \*/
- if ($force || substr($new['revision\_last'], 0, 7) != substr($data[$branch\_name]['revision\_last'], 1)) {
+ if ($force || substr($new['revision\_last'], 0, 10) != substr($data[$branch\_name]['revision\_last'], 1)) {
echo "new revision\n";
$has\_new\_revision = true;
$data[$branch\_name] = $new;


=== Content from www.php.net_c82a6b55_20250108_161627.html ===

[![](/images/logos/php-logo-white.svg)](/)

* [Downloads](/downloads.php)
* [Documentation](/docs.php)
* [Get Involved](/get-involved.php)
* [Help](/support.php)
* [![PHP 8.4](/images/php8/logo_php8_4.svg)](/releases/8.4/index.php)

 Search docs

[Getting Started](/manual/en/getting-started.php)
[Introduction](/manual/en/introduction.php)
[A simple tutorial](/manual/en/tutorial.php)
[Language Reference](/manual/en/langref.php)
[Basic syntax](/manual/en/language.basic-syntax.php)
[Types](/manual/en/language.types.php)
[Variables](/manual/en/language.variables.php)
[Constants](/manual/en/language.constants.php)
[Expressions](/manual/en/language.expressions.php)
[Operators](/manual/en/language.operators.php)
[Control Structures](/manual/en/language.control-structures.php)
[Functions](/manual/en/language.functions.php)
[Classes and Objects](/manual/en/language.oop5.php)
[Namespaces](/manual/en/language.namespaces.php)
[Enumerations](/manual/en/language.enumerations.php)
[Errors](/manual/en/language.errors.php)
[Exceptions](/manual/en/language.exceptions.php)
[Fibers](/manual/en/language.fibers.php)
[Generators](/manual/en/language.generators.php)
[Attributes](/manual/en/language.attributes.php)
[References Explained](/manual/en/language.references.php)
[Predefined Variables](/manual/en/reserved.variables.php)
[Predefined Exceptions](/manual/en/reserved.exceptions.php)
[Predefined Interfaces and Classes](/manual/en/reserved.interfaces.php)
[Predefined Attributes](/manual/en/reserved.attributes.php)
[Context options and parameters](/manual/en/context.php)
[Supported Protocols and Wrappers](/manual/en/wrappers.php)

[Security](/manual/en/security.php)
[Introduction](/manual/en/security.intro.php)
[General considerations](/manual/en/security.general.php)
[Installed as CGI binary](/manual/en/security.cgi-bin.php)
[Installed as an Apache module](/manual/en/security.apache.php)
[Session Security](/manual/en/security.sessions.php)
[Filesystem Security](/manual/en/security.filesystem.php)
[Database Security](/manual/en/security.database.php)
[Error Reporting](/manual/en/security.errors.php)
[User Submitted Data](/manual/en/security.variables.php)
[Hiding PHP](/manual/en/security.hiding.php)
[Keeping Current](/manual/en/security.current.php)
[Features](/manual/en/features.php)
[HTTP authentication with PHP](/manual/en/features.http-auth.php)
[Cookies](/manual/en/features.cookies.php)
[Sessions](/manual/en/features.sessions.php)
[Handling file uploads](/manual/en/features.file-upload.php)
[Using remote files](/manual/en/features.remote-files.php)
[Connection handling](/manual/en/features.connection-handling.php)
[Persistent Database Connections](/manual/en/features.persistent-connections.php)
[Command line usage](/manual/en/features.commandline.php)
[Garbage Collection](/manual/en/features.gc.php)
[DTrace Dynamic Tracing](/manual/en/features.dtrace.php)

[Function Reference](/manual/en/funcref.php)
[Affecting PHP's Behaviour](/manual/en/refs.basic.php.php)
[Audio Formats Manipulation](/manual/en/refs.utilspec.audio.php)
[Authentication Services](/manual/en/refs.remote.auth.php)
[Command Line Specific Extensions](/manual/en/refs.utilspec.cmdline.php)
[Compression and Archive Extensions](/manual/en/refs.compression.php)
[Cryptography Extensions](/manual/en/refs.crypto.php)
[Database Extensions](/manual/en/refs.database.php)
[Date and Time Related Extensions](/manual/en/refs.calendar.php)
[File System Related Extensions](/manual/en/refs.fileprocess.file.php)
[Human Language and Character Encoding Support](/manual/en/refs.international.php)
[Image Processing and Generation](/manual/en/refs.utilspec.image.php)
[Mail Related Extensions](/manual/en/refs.remote.mail.php)
[Mathematical Extensions](/manual/en/refs.math.php)
[Non-Text MIME Output](/manual/en/refs.utilspec.nontext.php)
[Process Control Extensions](/manual/en/refs.fileprocess.process.php)
[Other Basic Extensions](/manual/en/refs.basic.other.php)
[Other Services](/manual/en/refs.remote.other.php)
[Search Engine Extensions](/manual/en/refs.search.php)
[Server Specific Extensions](/manual/en/refs.utilspec.server.php)
[Session Extensions](/manual/en/refs.basic.session.php)
[Text Processing](/manual/en/refs.basic.text.php)
[Variable and Type Related Extensions](/manual/en/refs.basic.vartype.php)
[Web Services](/manual/en/refs.webservice.php)
[Windows Only Extensions](/manual/en/refs.utilspec.windows.php)
[XML Manipulation](/manual/en/refs.xml.php)
[GUI Extensions](/manual/en/refs.ui.php)

Keyboard Shortcuts?
This help
j
Next menu item
k
Previous menu item
g p
Previous man page
g n
Next man page
G
Scroll to bottom
g g
Scroll to top
g h
Goto homepage
g s
Goto search
(current page)
/
Focus search box

# Downloads & Installation Instructions

[Installing PHP](/manual/install.general.php) is covered
thoroughly in the PHP documentation.

## Binaries

[Binaries are available for
Microsoft Windows](https://windows.php.net/download/). The PHP project does not currently release binary packages
for other platforms such as Linux or macOS, but they are packaged by distributions
and other providers. For more information, see:

* [Installation instructions for Unix systems](/manual/install.unix.php)
* [Installation instructions for macOS](/manual/install.macosx.php)

## Source Code

### Current Stable PHP 8.4.2 ([Changelog](/ChangeLog-8.php#8.4.2))

* [php-8.4.2.tar.gz](/distributions/php-8.4.2.tar.gz) [(sig)](/distributions/php-8.4.2.tar.gz.asc) [21,187Kb] 19 Dec 2024
  5d3cf82a7f4cafdcfc4f3d98f3e3ee81077ae57c709a5613cbff5834d78a7747
* [php-8.4.2.tar.bz2](/distributions/php-8.4.2.tar.bz2) [(sig)](/distributions/php-8.4.2.tar.bz2.asc) [17,108Kb] 19 Dec 2024
  ef4fe9921b885ce3b047792ab60260eaf657e22812be511d19d0e45edf984783
* [php-8.4.2.tar.xz](/distributions/php-8.4.2.tar.xz) [(sig)](/distributions/php-8.4.2.tar.xz.asc) [13,242Kb] 19 Dec 2024
  92636453210f7f2174d6ee6df17a5811368f556a6c2c2cbcf019321e36456e01
* [Windows downloads](https://windows.php.net/download#php-8.4)

[GPG Keys for PHP 8.4](#gpg-8.4)
### Old Stable PHP 8.3.15 ([Changelog](/ChangeLog-8.php#8.3.15))

* [php-8.3.15.tar.gz](/distributions/php-8.3.15.tar.gz) [(sig)](/distributions/php-8.3.15.tar.gz.asc) [19,412Kb] 19 Dec 2024
  67073c3c9c56c86461e0715d9e1806af5ddffe8e6e2eb9781f7923bbb5bd67fa
* [php-8.3.15.tar.bz2](/distributions/php-8.3.15.tar.bz2) [(sig)](/distributions/php-8.3.15.tar.bz2.asc) [15,549Kb] 19 Dec 2024
  b1675a4ff730b5811b8e6a7687488c42e835e156a99776aa3e6f017abda3be98
* [php-8.3.15.tar.xz](/distributions/php-8.3.15.tar.xz) [(sig)](/distributions/php-8.3.15.tar.xz.asc) [12,231Kb] 19 Dec 2024
  3df5d45637283f759eef8fc3ce03de829ded3e200c3da278936a684955d2f94f
* [Windows downloads](https://windows.php.net/download#php-8.3)

[GPG Keys for PHP 8.3](#gpg-8.3)
### Old Stable PHP 8.2.27 ([Changelog](/ChangeLog-8.php#8.2.27))

* [php-8.2.27.tar.gz](/distributions/php-8.2.27.tar.gz) [(sig)](/distributions/php-8.2.27.tar.gz.asc) [18,797Kb] 19 Dec 2024
  179cc901760d478ffd545d10702ebc2a1270d8c13471bdda729d20055140809a
* [php-8.2.27.tar.bz2](/distributions/php-8.2.27.tar.bz2) [(sig)](/distributions/php-8.2.27.tar.bz2.asc) [15,090Kb] 19 Dec 2024
  6e57dbaf769a7f3deb4f0f48b8c535e671cc0a18022ed7f6ff23b50e941d4b60
* [php-8.2.27.tar.xz](/distributions/php-8.2.27.tar.xz) [(sig)](/distributions/php-8.2.27.tar.xz.asc) [11,866Kb] 19 Dec 2024
  3eec91294d8c09b3df80b39ec36d574ed9b05de4c8afcb25fa215d48f9ecbc6b
* [Windows downloads](https://windows.php.net/download#php-8.2)

[GPG Keys for PHP 8.2](#gpg-8.2)
### Old Stable PHP 8.1.31 ([Changelog](/ChangeLog-8.php#8.1.31))

* [php-8.1.31.tar.gz](/distributions/php-8.1.31.tar.gz) [(sig)](/distributions/php-8.1.31.tar.gz.asc) [19,423Kb] 21 Nov 2024
  618923b407c4575bfee085f00c4aaa16a5cc86d4b1eb893c0f352d61541bbfb1
* [php-8.1.31.tar.bz2](/distributions/php-8.1.31.tar.bz2) [(sig)](/distributions/php-8.1.31.tar.bz2.asc) [15,256Kb] 21 Nov 2024
  0b39828b345151caf1b795d9f4b923c9887231776c33076dfc9d90a44390d0dc
* [php-8.1.31.tar.xz](/distributions/php-8.1.31.tar.xz) [(sig)](/distributions/php-8.1.31.tar.xz.asc) [11,637Kb] 21 Nov 2024
  c4f244d46ba51c72f7d13d4f66ce6a9e9a8d6b669c51be35e01765ba58e7afca
* [Windows downloads](https://windows.php.net/download#php-8.1)

[GPG Keys for PHP 8.1](#gpg-8.1)

---

## GPG Keys

The releases are tagged and signed in the [PHP Git Repository](git.php).
The following official GnuPG keys of the current PHP Release Manager can be used
to verify the tags:

### PHP 8.4

```

pub   rsa4096 2016-11-25 [SC]
      AFD8 691F DAED F03B DF6E  4605 63F1 5A9B 7153 76CA
uid           [ultimate] Eric A Mann <eric@sixthree.me>
uid           [ultimate] Eric A Mann <eric@eamann.com>
uid           [ultimate] Eric A Mann <eric@eam.me>
uid           [ultimate] Eric Mann <ericmann@php.net>
sub   rsa4096 2016-11-25 [S]
sub   rsa4096 2016-11-25 [E]
sub   rsa4096 2016-11-25 [A]

pub   ed25519 2024-04-17 [SC]
      9D7F 99A0 CB8F 05C8 A695  8D62 56A9 7AF7 600A 39A6
uid           [ultimate] Calvin Buckley (PHP) <calvinb@php.net>
sub   cv25519 2024-04-17 [E]

pub   rsa4096 2024-05-20 [SC]
      0616 E93D 95AF 4712 43E2  6761 7704 26E1 7EBB B3DD
uid           [ultimate] Saki Takamachi (for php.net) <saki@php.net>
sub   rsa4096 2024-05-20 [E]

```
### PHP 8.3

```

pub   rsa4096 2021-04-01 [SC]
      1198 C011 7593 497A 5EC5  C199 286A F1F9 8974 69DC
uid           [ultimate] Pierrick Charron <pierrick@php.net>
sub   rsa4096 2021-04-01 [E]

pub   rsa4096 2016-11-25 [SC]
      AFD8 691F DAED F03B DF6E  4605 63F1 5A9B 7153 76CA
uid           [ultimate] Eric A Mann <eric@sixthree.me>
uid           [ultimate] Eric A Mann <eric@eamann.com>
uid           [ultimate] Eric A Mann <eric@eam.me>
uid           [ultimate] Eric Mann <ericmann@php.net>
sub   rsa4096 2016-11-25 [S]
sub   rsa4096 2016-11-25 [E]
sub   rsa4096 2016-11-25 [A]

pub   ed25519 2021-04-10 [SC]
      C28D937575603EB4ABB725861C0779DC5C0A9DE4
uid           [ultimate] Jakub Zelenka <bukka@php.net>
uid           [ultimate] Jakub Zelenka <jakub.openssl@gmail.com>
uid           [ultimate] Jakub Zelenka <jakub.zelenka@gmail.com>
sub   cv25519 2021-04-10 [E]

```
### PHP 8.2

```

pub   rsa4096 2021-04-01 [SC]
      1198 C011 7593 497A 5EC5  C199 286A F1F9 8974 69DC
uid           [ultimate] Pierrick Charron <pierrick@php.net>
sub   rsa4096 2021-04-01 [E]

pub   rsa4096 2021-04-26 [SC] [expires: 2025-11-24]
      39B6 4134 3D8C 104B 2B14  6DC3 F9C3 9DC0 B969 8544
uid           [ultimate] Ben Ramsey <ramsey@php.net>
sub   rsa4096 2021-04-26 [E] [expires: 2025-11-24]

pub   rsa4096 2021-03-26 [SC] [expires: 2030-03-26]
      E609 13E4 DF20 9907 D8E3  0D96 659A 97C9 CF2A 795A
uid           [ultimate] Sergey Panteleev <sergey@php.net>
uid           [ultimate] Sergey Panteleev <sergey@s-panteleev.ru>
uid           [ultimate] Sergey Panteleev <sergey@sergeypanteleev.com>
sub   rsa4096 2021-03-26 [E] [expires: 2025-03-26]

```
### PHP 8.1

```

pub   2048R/31CBD89E 2016-12-08
      Key fingerprint = 5289 95BF EDFB A719 1D46  839E F9BA 0ADA 31CB D89E
uid                  Joe Watkins <krakjoe@php.net>

pub   rsa4096 2021-04-26 [SC] [expires: 2025-11-24]
      39B6 4134 3D8C 104B 2B14  6DC3 F9C3 9DC0 B969 8544
uid           [ultimate] Ben Ramsey <ramsey@php.net>
sub   rsa4096 2021-04-26 [E] [expires: 2025-11-24]

pub   rsa4096 2021-04-01 [SC]
      F1F6 9223 8FBC 1666 E5A5  CCD4 199F 9DFE F6FF BAFD
uid           [ultimate] Patrick Allaert <patrickallaert@php.net>
sub   rsa4096 2021-04-01 [E]

```

[A full list of GPG keys used for current and older releases is also
available.](gpg-keys.php)

[Supported Versions](/supported-versions.php)
Check the [supported versions](/supported-versions.php) page for
more information on the support lifetime of each version of PHP.

[Documentation download](download-docs.php)

[PHP logos](download-logos.php)

[Development sources (git)](/git.php)

[Old archives](/releases/)

* [Copyright © 2001-2025 The PHP Group](/copyright.php)
* [My PHP.net](/my.php)
* [Contact](/contact.php)
* [Other PHP.net sites](/sites.php)
* [Privacy policy](/privacy.php)
* [View Source](https://github.com/php/web-php/blob/master/downloads.php)

![To Top](/images/to-top@2x.png)

`↑` and `↓` to navigate •
`Enter` to select •
`Esc` to close

Press `Enter` without
selection to search using Google



=== Content from security.netapp.com_ce6f8fb8_20250108_140210.html ===

[Skip to main content](#n-main-content)

* [NetApp.com](https://www.netapp.com/)
* [Support](https://mysupport.netapp.com)
* [Community](https://community.netapp.com)
* [Training](https://www.netapp.com/support-and-training/netapp-learning-services/)

* [Contact Us](https://www.netapp.com/company/contact-us/)

English
æ¥æ¬èª

[netapp-mark

NetApp

## Product Security](https://security.netapp.com)

Search

Search

* Search

Search

Search

* [Home](https://security.netapp.com/en)
* [Advisories](https://security.netapp.com/advisory/)
* [Bulletins](https://security.netapp.com/bulletins/)
* [Contact](https://security.netapp.com/contact/)
* [Policy](https://security.netapp.com/policy/)
* [Resources](https://security.netapp.com/resources/)
* [Certifications](https://security.netapp.com/certs/)

* [Home](https://security.netapp.com/en)
* [Advisory](https://security.netapp.com/advisory)
* [September 2022 PHP Vulnerabilities in NetApp Products](https://security.netapp.com/advisory/ntap-20221209-0001)

## September 2022 PHP Vulnerabilities in NetApp Products

circle-check-alt

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

close ×

#### Subscribe to NTAP-20221209-0001 updates

Email

Yes, please send me emails when NetApp Security Advisories are posted or updated.

 By filling and submitting this form, I understand and agree with the [NetApp privacy policy](https://www.netapp.com/company/legal/privacy-policy/ "Privacy Policy") and understand that I can unsubscribe from NetApp Security Advisory communications at any time.

Subscribe

#### Subscribe to NTAP-20221209-0001 advisory updates

OTP

Confirm

ionicons-v5-e

Confirmed your subscription to advisory alerts

close ×

#### Unsubscribe from NTAP-20221209-0001 advisory updates

Email

Unsubscribe

#### Unsubscribe from NTAP-20221209-0001 advisory updates

Email

Confirm

ionicons-v5-e

Unsubscribed successfully from advisory alerts

Subscribe to receive email updates

**Advisory ID:** NTAP-20221209-0001
**Version:**
2.0

**Last updated:**
12/21/2022

**Status:**
Final.

**CVEs:** CVE-2022-31628, CVE-2022-31629

Overview
#### Summary

Multiple NetApp products incorporate PHP. PHP versions prior to 7.4.31, 8.0.24, and 8.1.11 are susceptible to vulnerabilities which when successfully exploited could lead to addition or modification of data or Denial of Service (DoS).

#### Impact

Successful exploitation of these vulnerabilities could lead to addition or modification of data or Denial of Service (DoS).

#### Vulnerability Scoring Details

| **CVE** | **Score** | **Vector** |
| --- | --- | --- |
| [CVE-2022-31628](https://nvd.nist.gov/vuln/detail/CVE-2022-31628) | 5.5 (MEDIUM) | CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H |
| [CVE-2022-31629](https://nvd.nist.gov/vuln/detail/CVE-2022-31629) | 6.5 (MEDIUM) | CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:H/A:N |

#### Exploitation and Public Announcements

NetApp is aware of public discussion of this vulnerability.

#### References

* <https://bugs.php.net/bug.php?id=81726>
* <https://bugs.php.net/bug.php?id=81727>

Affected Products
#### Affected Products

None.

#### Products Not Affected

* 7-Mode Transition Tool
* AFF Baseboard Management Controller (BMC) - A700s
* ATTO FibreBridge - 7500N
* ATTO FibreBridge - 7600N
* Active IQ Unified Manager for Linux
* Active IQ Unified Manager for Microsoft Windows
* Active IQ Unified Manager for VMware vSphere
* Active IQ mobile app
* Astra Control Center
* Astra Control Center - NetApp Kubernetes Monitoring Operator
* Astra Trident
* Astra Trident Autosupport
* BeeGFS CSI Driver
* Brocade Fabric Operating System Firmware
* Brocade SAN Navigator (SANnav)
* Cloud Data Sense
* Cloud Insights Acquisition Unit
* Cloud Insights Telegraf Agent
* Cloud Secure Agent
* Cloud Volumes ONTAP Mediator
* E-Series BIOS
* E-Series SANtricity OS Controller Software 11.x
* E-Series SANtricity Storage Manager
* E-Series SANtricity Unified Manager and Web Services Proxy
* Element .NET SDK
* Element HealthTools
* Element JAVA SDK
* Element Plug-in for vCenter Server
* Element Powershell Tools
* Element Python SDK
* FAS/AFF BIOS - 2554/2552/2520
* FAS/AFF BIOS - 8080/8060/8040/8020
* FAS/AFF BIOS - 8300/8700/A400
* FAS/AFF BIOS - A250/500f
* FAS/AFF BIOS - A300/8200/A200/2650/2620/C190/A220/2720/2750
* FAS/AFF BIOS - A320
* FAS/AFF BIOS - A700/9000
* FAS/AFF BIOS - A700s
* FAS/AFF BIOS - A800
* FAS/AFF BIOS - A900/9500
* FAS/AFF Baseboard Management Controller (BMC) - 8300/8700/A400
* FAS/AFF Baseboard Management Controller (BMC) - A250/500f
* FAS/AFF Baseboard Management Controller (BMC) - A320/C190/A220/FAS2720/FAS2750/A800
* FAS/AFF Baseboard Management Controller (BMC) - A900/9500
* FAS/AFF Service Processor - 2554/2552/2520
* FAS/AFF Service Processor - 8080/8060/8040/8020
* FAS/AFF Service Processor - A300/8200/A200/2650/2620
* FAS/AFF Service Processor - A700/9000
* Global File Cache
* Host Utilities - SAN for Linux
* Host Utilities - SAN for Windows
* Interoperability Matrix Tool
* Inventory Collect Tool
* Management Services for Element Software and NetApp HCI
* MetroCluster Tiebreaker for clustered Data ONTAP
* Multipath I/O (SANtricity DSM for Windows MPIO)
* NetApp BlueXP
* NetApp Cloud Backup OST Plug-in (formerly AltaVault OST Plug-in)
* NetApp Converged Systems Advisor Agent
* NetApp E-Series BeeGFS Collection
* NetApp E-Series Host Collection
* NetApp E-Series Performance Analyzer
* NetApp E-Series SANtricity Collection
* NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H410S
* NetApp HCI Baseboard Management Controller (BMC) - H410C
* NetApp HCI Baseboard Management Controller (BMC) - H610C
* NetApp HCI Baseboard Management Controller (BMC) - H610S
* NetApp HCI Baseboard Management Controller (BMC) - H615C
* NetApp HCI Compute Node (Bootstrap OS)
* NetApp HCI Compute Node BIOS
* NetApp HCI Storage Node BIOS
* NetApp Kubernetes Monitoring Operator
* NetApp Manageability SDK
* NetApp NFS Plug-in for VMware VAAI
* NetApp SMI-S Provider
* NetApp SolidFire & HCI Management Node
* NetApp SolidFire & HCI Storage Node (Element Software)
* NetApp SolidFire Plug-in for vRealize Orchestrator (SolidFire vRO)
* NetApp Virtual Desktop Service (VDS)
* NetApp XCP NFS
* NetApp XCP SMB
* ONTAP 9 (formerly Clustered Data ONTAP)
* ONTAP Antivirus Connector
* ONTAP Mediator
* ONTAP Select Deploy administration utility
* ONTAP tools for VMware vSphere
* OnCommand Insight
* OnCommand Workflow Automation
* SANtricity Storage Plugin for vCenter
* SAS Firmware
* SRA Plugin for Linux
* SRA Plugin for Windows
* Single Mailbox Recovery
* Snap Creator Framework
* SnapCenter
* SnapCenter Plug-in for VMware vSphere
* SnapManager for Hyper-V
* SolidFire Storage Replication Adapter
* Spot PC
* Storage Services Connector
* StorageGRID (formerly StorageGRID Webscale)
* StorageGRID BIOS SG1000/SG100
* StorageGRID BIOS SG5660/SG5612/SG5760/SG5712
* StorageGRID BIOS SG6060/SGF6024
* StorageGRID Baseboard Management Controller (BMC)
* System Manager 9.x

Remediation
#### Software Versions and Fixes

None.

This section will be updated as patches are released.

#### Workarounds

None at this time.

#### Obtaining Software Fixes

Software fixes will be made available through the NetApp Support website in the Software Download section.

<https://mysupport.netapp.com/site/downloads/>

Customers who do not have access to the Support website should contact Technical Support at the number below to obtain the patches.

#### Contact Information

Check <http://mysupport.netapp.com> for further
updates.

For questions, contact NetApp at:

**Technical Support**

mysupport.netapp.com

1 888 4 NETAPP (1 888 463 8277) (U.S. and Canada)

+00 800 44 638277 (EMEA/Europe)

+800 800 80 800 (Asia/Pacific)

Revision History
#### Status of This Notice

**Final.**

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

This advisory is posted at the following link:

<https://security.netapp.com/advisory/NTAP-20221209-0001>
#### Revision History

| **Revision #** | **Date** | **Comments** |
| --- | --- | --- |
| 1.0 | 20221209 | Initial Public Release |
| 2.0 | 20221221 | ONTAP 9 (formerly Clustered Data ONTAP) moved to Products Not Affected, Final status |

This document is provided solely for informational purposes. All information is based upon NetAppâs current knowledge and understanding of the hardware and software products tested by NetApp, and the methodology and assumptions used by NetApp. NetApp is not responsible for any errors or omissions that may be contained herein, and no warranty, representation, or other legal commitment or obligation is being provided by NetApp. Â© 2025 NetApp, Inc. All rights reserved. No portions of this document may be reproduced without prior written consent of NetApp, Inc.

 ©  NetApp

Have feedback for our website?
[Let us know](https://www.netapp.com/forms/site-feedback/)



=== Content from www.debian.org_e32db1f7_20250108_140210.html ===


---

[[Date Prev](msg00246.html)][[Date Next](msg00248.html)]
[[Thread Prev](msg00246.html)][[Thread Next](msg00248.html)]
[[Date Index](maillist.html#00247)]
[[Thread Index](threads.html#00247)]

# [SECURITY] [DSA 5277-1] php7.4 security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 5277-1] php7.4 security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Sun, 13 Nov 2022 18:52:43 +0000
* *Message-id*: <[[🔎]](/msgid-search/Y3E8%2B0l0MNKu6SCi%40seger.debian.org) [Y3E8+0l0MNKu6SCi@seger.debian.org](msg00247.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-5277-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
November 13, 2022                     <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : php7.4
CVE ID         : CVE-2022-31630 CVE-2022-37454 CVE-2022-31629 CVE-2022-31628

Multiple security issues were discovered in PHP, a widely-used open
source general purpose scripting language which could result an denial
of service, information disclosure, insecure cooking handling or
potentially the execution of arbitrary code.

For the stable distribution (bullseye), these problems have been fixed in
version 7.4.33-1+deb11u1.

We recommend that you upgrade your php7.4 packages.

For the detailed security status of php7.4 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/php7.4>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAmNxOm0ACgkQEMKTtsN8
TjYZ7xAAspdPvtpc+Sq8l2NsZlKUew50JSsTb0UbwAYH0G8prnYzEQK898syuP2e
aZsbPHec/aqClyvFfrhnWsrGyWUAwHtQIHmG0lIPXAZuCMawbud95MY3sFY7lidK
+6UvTFxBCx3hbYaZE/Xz+3Zsx6qX3L+eSQSEdVKy4lV4CbZtVBM3iVlg+lB+EXZq
FjdZZsoDSbK5K8pYRD2HQBMa7RMFau/zYc7ZZpcwRjcojUvrLB+2xQHitcCZLxNt
J4IpNqKr3BmDfIe+h9mzY9q22sdTC5H29u9p+s2XssYgNfkS9h6IxBfYbYQAwxZL
fBIDJ3inbmAnHz/OBTEcmt/OufdaBUt0V4otddaZHT/6nhaY/0Hhdd9f5F40ohKG
R4R4nv5zFKVLB9/fONxPjKARj7X81PsBhB7GFzKbrdQtpK+tTek/sxDJTW5TSvN+
tvRtAPBTxzEbvzl+duscIZr7eVlIqfd/tLuspnc/iaeOxBWup1ekx8Eu5voHcC3S
FnLJCFeSdqfA9/qiG8Gj/FYA4a8/S2D7mWH+xQlT1aWVU33b9bgJkzdg1WYj79Dv
6K9Yg64T22CIy0w8EOpQXSJcKlILd6gP6cdz3P5WfCt/51VhBQAJb/+qd4w98c5L
Ahoet75dSWVIbynja1asPTMZ1RhJvIWpYud3LmfOAO8Q/NFGYtc=
=MMQt
-----END PGP SIGNATURE-----

```

---



=== Content from lists.fedoraproject.org_c6a262f4_20250108_140209.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/XNIEABBH5XCXLFWWZYIDE457SPEDZTXV/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/XNIEABBH5XCXLFWWZYIDE457SPEDZTXV/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/XNIEABBH5XCXLFWWZYIDE457SPEDZTXV/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/XNIEABBH5XCXLFWWZYIDE457SPEDZTXV/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-XNIEABBH5XCXLFWWZYIDE457SPEDZTXV.mbox.gz?message=XNIEABBH5XCXLFWWZYIDE457SPEDZTXV "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/XNIEABBH5XCXLFWWZYIDE457SPEDZTXV/#XNIEABBH5XCXLFWWZYIDE457SPEDZTXV)

# [SECURITY] Fedora 36 Update: php-8.1.11-1.fc36

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

6 Oct
2022

6 Oct
'22

5:15 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2022-0b77fbd9e7
2022-10-06 15:14:17.857856
--------------------------------------------------------------------------------

Name : php
Product : Fedora 36
Version : 8.1.11
Release : 1.fc36
URL : <http://www.php.net/>
Summary : PHP scripting language for creating dynamic web sites
Description :
PHP is an HTML-embedded scripting language. PHP attempts to make it
easy for developers to write dynamically generated web pages. PHP also
offers built-in database integration for several commercial and
non-commercial database management systems, so writing a
database-enabled webpage with PHP is fairly simple. The most common
use of PHP coding is probably as a replacement for CGI scripts.

--------------------------------------------------------------------------------
Update Information:

\*\*PHP version 8.1.11\*\* (29 Sep 2022) \*\*Core:\*\* \* Fixed bug php#81726: phar
wrapper: DOS when using quine gzip file. (\*\*CVE-2022-31628\*\*). (cmb) \* Fixed bug
php#81727: Don't mangle HTTP variable names that clash with ones that have a
specific semantic meaning. (\*\*CVE-2022-31629\*\*). (Derick) \* Fixed bug
[GH-9323](<https://github.com/php/php-src/issues/9323>) (Crash in
ZEND\_RETURN/GC/zend\_call\_function) (Tim Starling) \* Fixed bug
[GH-9361](<https://github.com/php/php-src/issues/9361>) (Segmentation fault on
script exit php#9379). (cmb, Christian Schneider) \* Fixed bug
[GH-9447](<https://github.com/php/php-src/issues/9447>) (Invalid class FQN emitted
by AST dump for new and class constants in constant expressions). (ilutov)
\*\*DOM:\*\* \* Fixed bug php#79451 (DOMDocument->replaceChild on doctype causes
double free). (Nathan Freeman) \*\*FPM:\*\* \* Fixed bug
[GH-8885](<https://github.com/php/php-src/issues/8885>) (FPM access.log with
stderr begins to write logs to error\_log after daemon reload). (Dmitry
Menshikov) \* Fixed bug php#77780 ("Headers already sent..." when previous
connection was aborted). (Jakub Zelenka) \*\*GMP\*\* \* Fixed bug
[GH-9308](<https://github.com/php/php-src/issues/9308>) (GMP throws the wrong
error when a GMP object is passed to gmp\_init()). (Girgias) \*\*Intl\*\* \* Fixed
bug [GH-9421](<https://github.com/php/php-src/issues/9421>) (Incorrect argument
number for ValueError in NumberFormatter). (Girgias) \*\*PCRE:\*\* \* Fixed
pcre.jit on Apple Silicon. (Niklas Keller) \*\*PDO\_PGSQL:\*\* \* Fixed bug
[GH-9411](<https://github.com/php/php-src/issues/9411>) (PgSQL large object
resource is incorrectly closed). (Yurunsoft) \*\*Reflection:\*\* \* Fixed bug
[GH-8932](<https://github.com/php/php-src/issues/8932>) (ReflectionFunction
provides no way to get the called class of a Closure). (cmb, Nicolas Grekas)
\*\*Streams:\*\* \* Fixed bug [GH-9316](<https://github.com/php/php-src/issues/9316>)
($http\_response\_header is wrong for long status line). (cmb, timwolla)
--------------------------------------------------------------------------------
ChangeLog:

\* Wed Sep 28 2022 Remi Collet remi@remirepo.net - 8.1.11-1
- Update to 8.1.11 - <http://www.php.net/releases/8_1_11.php>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2022-0b77fbd9e7' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/XNIEABBH5XCXLFWWZYIDE457SPEDZTXV/#XNIEABBH5XCXLFWWZYIDE457SPEDZTXV)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.debian.org_676f5326_20250108_140208.html ===


---

[[Date Prev](msg00029.html)][[Date Next](msg00031.html)]
[[Thread Prev](msg00029.html)][[Thread Next](msg00031.html)]
[[Date Index](maillist.html#00030)]
[[Thread Index](threads.html#00030)]

# [SECURITY] [DLA 3243-1] php7.3 security update

---

* *To*: <debian-lts-announce@lists.debian.org>
* *Subject*: [SECURITY] [DLA 3243-1] php7.3 security update
* *From*: Emilio Pozuelo Monfort <pochu@debian.org>
* *Date*: Thu, 15 Dec 2022 19:33:17 +0100 (CET)
* *Message-id*: <[[🔎]](/msgid-search/20221215183317.213B62A1C7C%40andromeda) [20221215183317.213B62A1C7C@andromeda](msg00030.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-3243-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>               Emilio Pozuelo Monfort
December 15, 2022                             <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : php7.3
Version        : 7.3.31-1~deb10u2
CVE ID         : CVE-2021-21707 CVE-2022-31625 CVE-2022-31626 CVE-2022-31628
                 CVE-2022-31629 CVE-2022-37454

Multiple security issues were discovered in PHP, a widely-used open
source general purpose scripting language which could result in denial
of service, information disclosure, insecure cooking handling or
potentially the execution of arbitrary code.

For Debian 10 buster, these problems have been fixed in version
7.3.31-1~deb10u2.

We recommend that you upgrade your php7.3 packages.

For the detailed security status of php7.3 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/php7.3>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEcJymx+vmJZxd92Q+nUbEiOQ2gwIFAmObaG0ACgkQnUbEiOQ2
gwJZcg/+JVv9Ruiz87zbJEmHXLopOT9Lge5xFczBp2yxjBueEYoWGr9kynSp7ycO
qXrMk7GJKbn+KO8ZOpWpysVELgHs1c2jd13cI6Y821Q9nqj7+fuFszyqLealbRm+
6AIsuEOybDQVsIvz+uuzpD+w0gyN+65Ijjz6f+gFnpj9HZRCtBNqAmZMYBeOGL7I
KpL+M0albGNTLt4fZa1Sd3bc7tjVXc5D1cF+BUvX7lsd7AmzUfJ5gUltpIe4GZER
hUv7VJOEj9EixwYarcDCQRSez+UepvNqgP3/vRD3L1LgV/IeKHw1DpYE5TC35W2g
ewosBEhngHceuu9Gt+fW+8R5ZJIdTRNrMbRRvk1jD0Oa9JNaeBanlLoRxH+9z1e4
HSHyO3SHJwVZkBS3R2AWnL4GAyMfvbT01APrlFutQtUVzobsbUX+HbbXNb9QNVTH
lN2bJ5hb810PGr0+wz9uZgNQ1Aqg/qYDxBEs+DgildvDzuurioOkrog7J6x+rGLR
Qb5MWHSbHaOZ1v1raD3RMcx6ZVSBdEDHuc7xMx/KEG+7aQoPFECc+3eTocgDenEl
ceftzDtIeDJvkOGoJxqr+t1ZTE3enLyqik7982eOy+jC4JSJaR1b9D9ce0/j4Bt7
jyZPhePdxFpwGZ2b9dWOdLwpjES8t9l+T6/OsnkxsvZ9tzK1HQA=
=wQv4
-----END PGP SIGNATURE-----

```

---



=== Content from bugs.php.net_b6192db2_20250108_161623.html ===


| [Bugs](/) | [php.net](https://php.net/) |  [support](https://php.net/support.php) |  [documentation](https://php.net/docs.php) |  [report a bug](report.php) |  [advanced search](search.php) |  [search howto](search-howto.php) |  [statistics](stats.php) |  [random bug](random) |  [login](login.php) |
| --- | --- |
| go to bug id or search bugs for | |

| | [Sec Bug](bug.php?id=79797) #79797 | Use of freed hash key in the phar\_parse\_zipfile function | | | | | | --- | --- | --- | --- | --- | --- | | Submitted: | 2020-07-06 03:38 UTC | Modified: | 2020-08-03 08:08 UTC |  | | From: | grigoritchy at gmail dot com | Assigned: | [stas](search.php?cmd=display&assign=stas) ([profile](https://people.php.net/stas)) | | Status: | Closed | Package: | [PHAR related](search.php?cmd=display&package_name[]=PHAR+related) | | PHP Version: | 7.2.32 | OS: | Linux | | Private report: | No | CVE-ID: | [2020-7068](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-7068) |   View [Developer](bug.php?id=79797&edit=1) [Edit](bug.php?id=79797&edit=2)   **[2020-07-06 03:38 UTC] grigoritchy at gmail dot com** ``` Description: ------------ he phar_parse_zipfile function had use-after-free vulnerability because of mishandling of the actual_alias variable.  ----- ext/phar/zip.c ----- int phar_parse_zipfile(php_stream *fp, char *fname, size_t fname_len, char *alias, size_t alias_len, phar_archive_data** pphar, char **error) /* {{{ */ { 	...  	mydata->alias = entry.is_persistent ? pestrndup(actual_alias, mydata->alias_len, 1) : actual_alias;  	if (entry.is_persistent) { 		efree(actual_alias); 	}  	zend_hash_str_add_ptr(&(PHAR_G(phar_alias_map)), actual_alias, mydata->alias_len, mydata);  	... ---------------------------  `actual_alias` variable is allocated by estrndup function, which string is part of data of the zip file.  The above code snippet `mydata->alias` is assigned by `pestrndup(actual_alias, mydata->alias_len, 1)` if entry.is_persistent is true. Or `mydata->alias` is assigned by `actual_alias` variable. And if `entry.is_persistent` is true, `actual_alias` variable is freed by invoke efree function. `actual_alias` variable is used invoke of zend_hash_str_add_ptr function as 2nd argument.  Problem is that `actual_alias` variable is freed if `entry.is_persistent` is true, the key of `phar_alias_map` will use freed memory. `entry.is_persistent` is true if `phar.cache_list` fields is defined in php.ini file.   So if `phar.cache_list` is defined with target phar path so that `entry.is_persistent` is true, then it can be that `phar_alias_map` hash key would use sensitive freed memory data such as heap addresses that addresses set via linked list after invoke the efree function. You can see details debugging information at Actual result.   Test script: --------------- download poc.phar file at <http://149.248.44.196/08b54c110a83ff5f9499da1882dbeeb2/poc.phar>  ----- php.ini ----- + phar.cache_list =/path/poc.phar -------------------  After setting php.ini file, execute php cli.  Expected result: ---------------- "AAAAA" is `actual_alias` data. zend_hash_str_add function use "AAAAA" string as hash key.   Actual result: -------------- "AAAAA" is `actual_alias` data. After invoke of efree function, `actual_alias` data is "0x00007ffff3a02008". Then zend_hash_str_add function use "0x00007ffff3a02008" string as hash key.   # gdb `which php` (gdb) b *phar_parse_zipfile+11046 (gdb) r Starting program: /usr/local/bin/php ... (gdb) x/i $pc => 0x5555557817a6 <phar_parse_zipfile+11046>:	callq  0x5555558cd0a0 <_efree> (gdb) x/32gx $rdi 0x7ffff3a02000:	0x0000004141414141	0x00007ffff3a02010 0x7ffff3a02010:	0x00007ffff3a02018	0x00007ffff3a02020 0x7ffff3a02020:	0x00007ffff3a02028	0x00007ffff3a02030 0x7ffff3a02030:	0x00007ffff3a02038	0x00007ffff3a02040 0x7ffff3a02040:	0x00007ffff3a02048	0x00007ffff3a02050 0x7ffff3a02050:	0x00007ffff3a02058	0x00007ffff3a02060 0x7ffff3a02060:	0x00007ffff3a02068	0x00007ffff3a02070 0x7ffff3a02070:	0x00007ffff3a02078	0x00007ffff3a02080 0x7ffff3a02080:	0x00007ffff3a02088	0x00007ffff3a02090 0x7ffff3a02090:	0x00007ffff3a02098	0x00007ffff3a020a0 0x7ffff3a020a0:	0x00007ffff3a020a8	0x00007ffff3a020b0 0x7ffff3a020b0:	0x00007ffff3a020b8	0x00007ffff3a020c0 0x7ffff3a020c0:	0x00007ffff3a020c8	0x00007ffff3a020d0 0x7ffff3a020d0:	0x00007ffff3a020d8	0x00007ffff3a020e0 0x7ffff3a020e0:	0x00007ffff3a020e8	0x00007ffff3a020f0 0x7ffff3a020f0:	0x00007ffff3a020f8	0x00007ffff3a02100 (gdb) ni ... (gdb) x/i $pc => 0x55555578176e <phar_parse_zipfile+10990>:	callq  0x555555900f10 <zend_hash_str_add> (gdb) x/32gx $rsi 0x7ffff3a02000:	0x00007ffff3a02008	0x00007ffff3a02010 0x7ffff3a02010:	0x00007ffff3a02018	0x00007ffff3a02020 0x7ffff3a02020:	0x00007ffff3a02028	0x00007ffff3a02030 0x7ffff3a02030:	0x00007ffff3a02038	0x00007ffff3a02040 0x7ffff3a02040:	0x00007ffff3a02048	0x00007ffff3a02050 0x7ffff3a02050:	0x00007ffff3a02058	0x00007ffff3a02060 0x7ffff3a02060:	0x00007ffff3a02068	0x00007ffff3a02070 0x7ffff3a02070:	0x00007ffff3a02078	0x00007ffff3a02080 0x7ffff3a02080:	0x00007ffff3a02088	0x00007ffff3a02090 0x7ffff3a02090:	0x00007ffff3a02098	0x00007ffff3a020a0 0x7ffff3a020a0:	0x00007ffff3a020a8	0x00007ffff3a020b0 0x7ffff3a020b0:	0x00007ffff3a020b8	0x00007ffff3a020c0 0x7ffff3a020c0:	0x00007ffff3a020c8	0x00007ffff3a020d0 0x7ffff3a020d0:	0x00007ffff3a020d8	0x00007ffff3a020e0 0x7ffff3a020e0:	0x00007ffff3a020e8	0x00007ffff3a020f0 0x7ffff3a020f0:	0x00007ffff3a020f8	0x00007ffff3a02100  (gdb) bt #0  0x000055555578176e in zend_hash_str_add_ptr (pData=0x55555647da30, len=5, str=0x7ffff3a02000 "\b \240\363\377\177", ht=<optimized out>) at /home/ubuntu/php-7.4.7/Zend/zend_hash.h:619 #1  phar_parse_zipfile (fp=fp@entry=0x7ffff3a07000, fname=fname@entry=0x7ffff3a0b018 "/home/ubuntu/poc.phar", fname_len=fname_len@entry=21, alias=alias@entry=0x0, alias_len=alias_len@entry=0, pphar=pphar@entry=0x7fffffffcde8,     error=<optimized out>) at /home/ubuntu/php-7.4.7/ext/phar/zip.c:715 #2  0x000055555578c72d in phar_open_from_fp (fp=0x7ffff3a07000, fname=fname@entry=0x7ffff3a0b018 "/home/ubuntu/poc.phar", fname_len=fname_len@entry=21, alias=alias@entry=0x0, alias_len=alias_len@entry=0,     pphar=pphar@entry=0x7fffffffcde8, is_data=0, error=0x0, options=0) at /home/ubuntu/php-7.4.7/ext/phar/phar.c:1720 #3  0x000055555578efd7 in phar_open_from_filename (fname=0x7ffff3a0b018 "/home/ubuntu/poc.phar", fname@entry=0x7ffff3a03018 "/home/ubuntu/poc.phar", fname_len=21, alias=alias@entry=0x0, alias_len=alias_len@entry=0,     options=options@entry=0, pphar=pphar@entry=0x7fffffffcde8, error=0x0) at /home/ubuntu/php-7.4.7/ext/phar/phar.c:1537 #4  0x000055555578f25e in phar_split_cache_list () at /home/ubuntu/php-7.4.7/ext/phar/phar.c:141 #5  phar_ini_cache_list (entry=<optimized out>, new_value=<optimized out>, mh_arg1=<optimized out>, mh_arg2=<optimized out>, mh_arg3=<optimized out>, stage=<optimized out>) at /home/ubuntu/php-7.4.7/ext/phar/phar.c:183 #6  0x000055555590d423 in zend_register_ini_entries (ini_entry=0x55555634b640 <ini_entries+128>, ini_entry@entry=0x55555634b5c0 <ini_entries>, module_number=18) at /home/ubuntu/php-7.4.7/Zend/zend_ini.c:252 #7  0x000055555578b6e0 in zm_startup_phar (type=<optimized out>, module_number=<optimized out>) at /home/ubuntu/php-7.4.7/ext/phar/phar.c:3399 #8  0x00005555558f64a3 in zend_startup_module_ex (module=0x5555563bfdd0) at /home/ubuntu/php-7.4.7/Zend/zend_API.c:1860 #9  0x00005555558f654c in zend_startup_module_zval (zv=<optimized out>) at /home/ubuntu/php-7.4.7/Zend/zend_API.c:1875 #10 0x0000555555903f32 in zend_hash_apply (ht=ht@entry=0x555556373900 <module_registry>, apply_func=apply_func@entry=0x5555558f6540 <zend_startup_module_zval>) at /home/ubuntu/php-7.4.7/Zend/zend_hash.c:1812 #11 0x00005555558f683a in zend_startup_modules () at /home/ubuntu/php-7.4.7/Zend/zend_API.c:1986 #12 0x00005555558913d3 in php_module_startup (sf=<optimized out>, additional_modules=<optimized out>, num_additional_modules=<optimized out>) at /home/ubuntu/php-7.4.7/main/main.c:2332 #13 0x000055555597f2ed in php_cli_startup (sapi_module=<optimized out>) at /home/ubuntu/php-7.4.7/sapi/cli/php_cli.c:407 #14 0x00005555556623c7 in main (argc=1, argv=0x5555563899d0) at /home/ubuntu/php-7.4.7/sapi/cli/php_cli.c:1323   ``` PatchesPull RequestsHistoryAllCommentsChangesGit/SVN commitsRelated reports  **[2020-07-14 15:07 UTC] [cmb@php.net](//people.php.net/cmb)** -Assigned To: +Assigned To: stas **[2020-07-14 15:07 UTC] [cmb@php.net](//people.php.net/cmb)** ``` Suggested fix including regression test: <<https://gist.github.com/cmb69/dec5400fbdf619195015a696c3ed136d>>  Stas, could you please handle this?  ``` **[2020-08-03 06:44 UTC] [stas@php.net](//people.php.net/stas)** -CVE-ID: +CVE-ID: 2020-7068 **[2020-08-03 06:45 UTC] [stas@php.net](//people.php.net/stas)** -PHP Version: 7.4.7 +PHP Version: 7.2.32 **[2020-08-03 08:09 UTC] [stas@php.net](//people.php.net/stas)** ``` Automatic comment on behalf of cmbecker69@gmx.de Revision: <http://git.php.net/?p=php-src.git;a=commit;h=7355ab81763a3d6a04ac11660e6a16d58838d187> Log: Fix #79797: Use of freed hash key in the phar_parse_zipfile function  ``` **[2020-08-03 08:09 UTC] [stas@php.net](//people.php.net/stas)** -Status: Assigned +Status: Closed **[2020-08-03 08:09 UTC] [stas@php.net](//people.php.net/stas)** ``` Automatic comment on behalf of cmbecker69@gmx.de Revision: <http://git.php.net/?p=php-src.git;a=commit;h=7355ab81763a3d6a04ac11660e6a16d58838d187> Log: Fix #79797: Use of freed hash key in the phar_parse_zipfile function  ``` **[2020-08-03 08:09 UTC] [stas@php.net](//people.php.net/stas)** ``` Automatic comment on behalf of cmbecker69@gmx.de Revision: <http://git.php.net/?p=php-src.git;a=commit;h=9c3171f019d07b4271c5929478dddba0861e92af> Log: Fix #79797: Use of freed hash key in the phar_parse_zipfile function  ``` **[2020-08-03 08:10 UTC] [stas@php.net](//people.php.net/stas)** ``` Automatic comment on behalf of cmbecker69@gmx.de Revision: <http://git.php.net/?p=php-src.git;a=commit;h=775385df0e954f8cf9b5046bebc8e40ce26e601b> Log: Fix #79797: Use of freed hash key in the phar_parse_zipfile function  ``` **[2020-08-03 09:05 UTC] [cmb@php.net](//people.php.net/cmb)** ``` Automatic comment on behalf of cmbecker69@gmx.de Revision: <http://git.php.net/?p=php-src.git;a=commit;h=f57a99937967ed010c6c57b339b703a3fff5eaa6> Log: Fix #79797: Use of freed hash key in the phar_parse_zipfile function  ``` **[2020-08-03 09:16 UTC] [cmb@php.net](//people.php.net/cmb)** ``` Automatic comment on behalf of cmbecker69@gmx.de Revision: <http://git.php.net/?p=php-src.git;a=commit;h=7355ab81763a3d6a04ac11660e6a16d58838d187> Log: Fix #79797: Use of freed hash key in the phar_parse_zipfile function  ``` **[2020-08-03 09:16 UTC] [cmb@php.net](//people.php.net/cmb)** ``` Automatic comment on behalf of cmbecker69@gmx.de Revision: <http://git.php.net/?p=php-src.git;a=commit;h=9c3171f019d07b4271c5929478dddba0861e92af> Log: Fix #79797: Use of freed hash key in the phar_parse_zipfile function  ``` |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

|  | |
| --- | --- |
| [PHP](https://php.net/) [Copyright © 2001-2025 The PHP Group](https://php.net/copyright.php) All rights reserved. | Last updated: Wed Jan 08 16:01:30 2025 UTC |



=== Content from github.com_f188cf69_20250108_161623.html ===
From bca716d503d63362887ac81cf8681073432b18a8 Mon Sep 17 00:00:00 2001
From: zors1 <78965690+zors1@users.noreply.github.com>
Date: Wed, 4 Aug 2021 16:33:40 +0300
Subject: [PATCH] Fix some grammatical errors on home page
---
www/index.php | 4 ++--
1 file changed, 2 insertions(+), 2 deletions(-)
diff --git a/www/index.php b/www/index.php
index fd982ce..468b301 100644
--- a/www/index.php
+++ b/www/index.php
@@ -29,8 +29,8 @@
translations have separate mailing lists.
## Latest News!

-

On March 2014 site was almost totally rebuilded. Now it uses same design as
-new php.net pages. Many of tools and features has been removed, because they weren't used.
+

In March 2014 site was almost totally rebuilt. Now it uses same design as
+new php.net pages. Many of tools and features have been removed, because they weren't used.
If you think that site is lacking some of them, please contact us on `php.webmaster`
mailing list.



=== Content from github.com_012a14c9_20250108_161626.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fblob%2F2f5295692fde289f99aa9701528dcde4c78b780f%2Fext%2Fphar%2Fphar.c)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fphp-src%2Fblob%2F2f5295692fde289f99aa9701528dcde4c78b780f%2Fext%2Fphar%2Fphar.c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=php%2Fphp-src)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[php](/php)
/
**[php-src](/php/php-src)**
Public

* [Notifications](/login?return_to=%2Fphp%2Fphp-src) You must be signed in to change notification settings
* [Fork
  7.8k](/login?return_to=%2Fphp%2Fphp-src)
* [Star
   38.5k](/login?return_to=%2Fphp%2Fphp-src)

* [Code](/php/php-src)
* [Issues
  742](/php/php-src/issues)
* [Pull requests
  559](/php/php-src/pulls)
* [Actions](/php/php-src/actions)
* [Security](/php/php-src/security)
* [Insights](/php/php-src/pulse)

Additional navigation options

* [Code](/php/php-src)
* [Issues](/php/php-src/issues)
* [Pull requests](/php/php-src/pulls)
* [Actions](/php/php-src/actions)
* [Security](/php/php-src/security)
* [Insights](/php/php-src/pulse)

## Files

 2f52956
## Breadcrumbs

1. [php-src](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f)
2. /[ext](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f/ext)
3. /[phar](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar)
/
# phar.c

 Blame  Blame
## Latest commit

## History

[History](/php/php-src/commits/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar/phar.c)3637 lines (3139 loc) · 104 KB 2f52956
## Breadcrumbs

1. [php-src](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f)
2. /[ext](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f/ext)
3. /[phar](/php/php-src/tree/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar)
/
# phar.c

Top
## File metadata and controls

* Code
* Blame

3637 lines (3139 loc) · 104 KB[Raw](https://github.com/php/php-src/raw/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar/phar.c)1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991001011021031041051061071081091101111121131141151161171181191201211221231241251261271281291301311321331341351361371381391401411421431441451461471481491501511521531541551561571581591601611621631641651661671681691701711721731741751761771781791801811821831841851861871881891901911921931941951961971981992002012022032042052062072082092102112122132142152162172182192202212222232242252262272282292302312322332342352362372382392402412422432442452462472482492502512522532542552562572582592602612622632642652662672682692702712722732742752762772782792802812822832842852862872882892902912922932942952962972982993003013023033043053063073083093103113123133143153163173183193203213223233243253263273283293303313323333343353363373383393403413423433443453463473483493503513523533543553563573583593603613623633643653663673683693703713723733743753763773783793803813823833843853863873883893903913923933943953963973983994004014024034044054064074084094104114124134144154164174184194204214224234244254264274284294304314324334344354364374384394404414424434444454464474484494504514524534544554564574584594604614624634644654664674684694704714724734744754764774784794804814824834844854864874884894904914924934944954964974984995005015025035045055065075085095105115125135145155165175185195205215225235245255265275285295305315325335345355365375385395405415425435445455465475485495505515525535545555565575585595605615625635645655665675685695705715725735745755765775785795805815825835845855865875885895905915925935945955965975985996006016026036046056066076086096106116126136146156166176186196206216226236246256266276286296306316326336346356366376386396406416426436446456466476486496506516526536546556566576586596606616626636646656666676686696706716726736746756766776786796806816826836846856866876886896906916926936946956966976986997007017027037047057067077087097107117127137147157167177187197207217227237247257267277287297307317327337347357367377387397407417427437447457467477487497507517527537547557567577587597607617627637647657667677687697707717727737747757767777787797807817827837847857867877887897907917927937947957967977987998008018028038048058068078088098108118128138148158168178188198208218228238248258268278288298308318328338348358368378388398408418428438448458468478488498508518528538548558568578588598608618628638648658668678688698708718728738748758768778788798808818828838848858868878888898908918928938948958968978988999009019029039049059069079089099109119129139149159169179189199209219229239249259269279289299309319329339349359369379389399409419429439449459469479489499509519529539549559569579589599609619629639649659669679689699709719729739749759769779789799809819829839849859869879889899909919929939949959969979989991000/\* +----------------------------------------------------------------------+ | phar php single-file executable PHP extension | +----------------------------------------------------------------------+ | Copyright (c) The PHP Group | +----------------------------------------------------------------------+ | This source file is subject to version 3.01 of the PHP license, | | that is bundled with this package in the file LICENSE, and is | | available through the world-wide-web at the following url: | | https://www.php.net/license/3\_01.txt | | If you did not receive a copy of the PHP license and are unable to | | obtain it through the world-wide-web, please send a note to | | license@php.net so we can mail you a copy immediately. | +----------------------------------------------------------------------+ | Authors: Gregory Beaver <cellog@php.net> | | Marcus Boerger <helly@php.net> | +----------------------------------------------------------------------+\*/
#define PHAR\_MAIN 1#include "phar\_internal.h"#include "SAPI.h"#include "func\_interceptors.h"#include "ext/standard/php\_var.h"
static void destroy\_phar\_data(zval \*zv);
ZEND\_DECLARE\_MODULE\_GLOBALS(phar)static zend\_string \*(\*phar\_save\_resolve\_path)(zend\_string \*filename);
/\*\* \* set's phar->is\_writeable based on the current INI value \*/static int phar\_set\_writeable\_bit(zval \*zv, void \*argument) /\* {{{ \*/{ bool keep = \*(bool \*)argument; phar\_archive\_data \*phar = (phar\_archive\_data \*)Z\_PTR\_P(zv);
 if (!phar->is\_data) { phar->is\_writeable = !keep; }
 return ZEND\_HASH\_APPLY\_KEEP;}/\* }}} \*/
/\* if the original value is 0 (disabled), then allow setting/unsetting at will. Otherwise only allow 1 (enabled), and error on disabling \*/ZEND\_INI\_MH(phar\_ini\_modify\_handler) /\* {{{ \*/{ bool old, ini;
 if (ZSTR\_LEN(entry->name) == sizeof("phar.readonly")-1) { old = PHAR\_G(readonly\_orig); } else { old = PHAR\_G(require\_hash\_orig); }
 ini = zend\_ini\_parse\_bool(new\_value);
 /\* do not allow unsetting in runtime \*/ if (stage == ZEND\_INI\_STAGE\_STARTUP) { if (ZSTR\_LEN(entry->name) == sizeof("phar.readonly")-1) { PHAR\_G(readonly\_orig) = ini; } else { PHAR\_G(require\_hash\_orig) = ini; } } else if (old && !ini) { return FAILURE; }
 if (ZSTR\_LEN(entry->name) == sizeof("phar.readonly")-1) { PHAR\_G(readonly) = ini; if (PHAR\_G(request\_init) && HT\_IS\_INITIALIZED(&PHAR\_G(phar\_fname\_map))) { zend\_hash\_apply\_with\_argument(&(PHAR\_G(phar\_fname\_map)), phar\_set\_writeable\_bit, (void \*)&ini); } } else { PHAR\_G(require\_hash) = ini; }
 return SUCCESS;}/\* }}}\*/
/\* this global stores the global cached pre-parsed manifests \*/HashTable cached\_phars;HashTable cached\_alias;
static void phar\_split\_cache\_list(void) /\* {{{ \*/{ char \*tmp; char \*key, \*lasts, \*end; char ds[2]; phar\_archive\_data \*phar; uint32\_t i = 0;
 if (!PHAR\_G(cache\_list) || !(PHAR\_G(cache\_list)[0])) { return; }
 ds[0] = DEFAULT\_DIR\_SEPARATOR; ds[1] = '\0'; tmp = estrdup(PHAR\_G(cache\_list));
 /\* fake request startup \*/ PHAR\_G(request\_init) = 1; zend\_init\_rsrc\_list(); EG(regular\_list).nNextFreeElement=1; /\* we don't want resource id 0 \*/
 PHAR\_G(has\_bz2) = zend\_hash\_str\_exists(&module\_registry, "bz2", sizeof("bz2")-1); PHAR\_G(has\_zlib) = zend\_hash\_str\_exists(&module\_registry, "zlib", sizeof("zlib")-1); /\* these two are dummies and will be destroyed later \*/ zend\_hash\_init(&cached\_phars, sizeof(phar\_archive\_data\*), zend\_get\_hash\_value, destroy\_phar\_data, 1); zend\_hash\_init(&cached\_alias, sizeof(phar\_archive\_data\*), zend\_get\_hash\_value, NULL, 1); /\* these two are real and will be copied over cached\_phars/cached\_alias later \*/ zend\_hash\_init(&(PHAR\_G(phar\_fname\_map)), sizeof(phar\_archive\_data\*), zend\_get\_hash\_value, destroy\_phar\_data, 1); zend\_hash\_init(&(PHAR\_G(phar\_alias\_map)), sizeof(phar\_archive\_data\*), zend\_get\_hash\_value, NULL, 1); PHAR\_G(manifest\_cached) = 1; PHAR\_G(persist) = 1;
 for (key = php\_strtok\_r(tmp, ds, &lasts); key; key = php\_strtok\_r(NULL, ds, &lasts)) { size\_t len; end = strchr(key, DEFAULT\_DIR\_SEPARATOR); if (end) { len = end - key; } else { len = strlen(key); }
 if (SUCCESS == phar\_open\_from\_filename(key, len, NULL, 0, 0, &phar, NULL)) { phar->phar\_pos = i++; php\_stream\_close(phar->fp); phar->fp = NULL; } else { PHAR\_G(persist) = 0; PHAR\_G(manifest\_cached) = 0; efree(tmp); zend\_hash\_destroy(&(PHAR\_G(phar\_fname\_map))); HT\_INVALIDATE(&PHAR\_G(phar\_fname\_map)); zend\_hash\_destroy(&(PHAR\_G(phar\_alias\_map))); HT\_INVALIDATE(&PHAR\_G(phar\_alias\_map)); zend\_hash\_destroy(&cached\_phars); zend\_hash\_destroy(&cached\_alias); zend\_hash\_graceful\_reverse\_destroy(&EG(regular\_list)); memset(&EG(regular\_list), 0, sizeof(HashTable)); /\* free cached manifests \*/ PHAR\_G(request\_init) = 0; return; } }
 PHAR\_G(persist) = 0; PHAR\_G(request\_init) = 0; /\* destroy dummy values from before \*/ zend\_hash\_destroy(&cached\_phars); zend\_hash\_destroy(&cached\_alias); cached\_phars = PHAR\_G(phar\_fname\_map); cached\_alias = PHAR\_G(phar\_alias\_map); HT\_INVALIDATE(&PHAR\_G(phar\_fname\_map)); HT\_INVALIDATE(&PHAR\_G(phar\_alias\_map)); zend\_hash\_graceful\_reverse\_destroy(&EG(regular\_list)); memset(&EG(regular\_list), 0, sizeof(HashTable)); efree(tmp);}/\* }}} \*/
ZEND\_INI\_MH(phar\_ini\_cache\_list) /\* {{{ \*/{ PHAR\_G(cache\_list) = ZSTR\_VAL(new\_value);
 if (stage == ZEND\_INI\_STAGE\_STARTUP) { phar\_split\_cache\_list(); }
 return SUCCESS;}/\* }}} \*/
PHP\_INI\_BEGIN() STD\_PHP\_INI\_BOOLEAN("phar.readonly", "1", PHP\_INI\_ALL, phar\_ini\_modify\_handler, readonly, zend\_phar\_globals, phar\_globals) STD\_PHP\_INI\_BOOLEAN("phar.require\_hash", "1", PHP\_INI\_ALL, phar\_ini\_modify\_handler, require\_hash, zend\_phar\_globals, phar\_globals) STD\_PHP\_INI\_ENTRY("phar.cache\_list", "", PHP\_INI\_SYSTEM, phar\_ini\_cache\_list, cache\_list, zend\_phar\_globals, phar\_globals)PHP\_INI\_END()
/\*\* \* When all uses of a phar have been concluded, this frees the manifest \* and the phar slot \*/void phar\_destroy\_phar\_data(phar\_archive\_data \*phar) /\* {{{ \*/{ if (phar->alias && phar->alias != phar->fname) { pefree(phar->alias, phar->is\_persistent); phar->alias = NULL; }
 if (phar->fname) { pefree(phar->fname, phar->is\_persistent); phar->fname = NULL; }
 if (phar->signature) { pefree(phar->signature, phar->is\_persistent); phar->signature = NULL; }
 if (HT\_IS\_INITIALIZED(&phar->manifest)) { zend\_hash\_destroy(&phar->manifest); HT\_INVALIDATE(&phar->manifest); }
 if (HT\_IS\_INITIALIZED(&phar->mounted\_dirs)) { zend\_hash\_destroy(&phar->mounted\_dirs); HT\_INVALIDATE(&phar->mounted\_dirs); }
 if (HT\_IS\_INITIALIZED(&phar->virtual\_dirs)) { zend\_hash\_destroy(&phar->virtual\_dirs); HT\_INVALIDATE(&phar->virtual\_dirs); }
 phar\_metadata\_tracker\_free(&phar->metadata\_tracker, phar->is\_persistent);
 if (phar->fp) { php\_stream\_close(phar->fp); phar->fp = 0; }
 if (phar->ufp) { php\_stream\_close(phar->ufp); phar->ufp = 0; }
 pefree(phar, phar->is\_persistent);}/\* }}}\*/
/\*\* \* Delete refcount and destruct if needed. On destruct return 1 else 0. \*/int phar\_archive\_delref(phar\_archive\_data \*phar) /\* {{{ \*/{ if (phar->is\_persistent) { return 0; }
 if (--phar->refcount < 0) { if (PHAR\_G(request\_done) || zend\_hash\_str\_del(&(PHAR\_G(phar\_fname\_map)), phar->fname, phar->fname\_len) != SUCCESS) { phar\_destroy\_phar\_data(phar); } return 1; } else if (!phar->refcount) { /\* invalidate phar cache \*/ PHAR\_G(last\_phar) = NULL; PHAR\_G(last\_phar\_name) = PHAR\_G(last\_alias) = NULL;
 if (phar->fp && (!(phar->flags & PHAR\_FILE\_COMPRESSION\_MASK) || !phar->alias)) { /\* close open file handle - allows removal or rename of the file on windows, which has greedy locking only close if the archive was not already compressed. If it was compressed, then the fp does not refer to the original file. We're also closing compressed files to save resources, but only if the archive isn't aliased. \*/ php\_stream\_close(phar->fp); phar->fp = NULL; }
 if (!zend\_hash\_num\_elements(&phar->manifest)) { /\* this is a new phar that has perhaps had an alias/metadata set, but has never been flushed \*/ if (zend\_hash\_str\_del(&(PHAR\_G(phar\_fname\_map)), phar->fname, phar->fname\_len) != SUCCESS) { phar\_destroy\_phar\_data(phar); } return 1; } } return 0;}/\* }}}\*/
/\*\* \* Destroy phar's in shutdown, here we don't care about aliases \*/static void destroy\_phar\_data\_only(zval \*zv) /\* {{{ \*/{ phar\_archive\_data \*phar\_data = (phar\_archive\_data \*) Z\_PTR\_P(zv);
 if (EG(exception) || --phar\_data->refcount < 0) { phar\_destroy\_phar\_data(phar\_data); }}/\* }}}\*/
/\*\* \* Delete aliases to phar's that got kicked out of the global table \*/static int phar\_unalias\_apply(zval \*zv, void \*argument) /\* {{{ \*/{ return Z\_PTR\_P(zv) == argument ? ZEND\_HASH\_APPLY\_REMOVE : ZEND\_HASH\_APPLY\_KEEP;}/\* }}} \*/
/\*\* \* Delete aliases to phar's that got kicked out of the global table \*/static int phar\_tmpclose\_apply(zval \*zv) /\* {{{ \*/{ phar\_entry\_info \*entry = (phar\_entry\_info \*) Z\_PTR\_P(zv);
 if (entry->fp\_type != PHAR\_TMP) { return ZEND\_HASH\_APPLY\_KEEP; }
 if (entry->fp && !entry->fp\_refcount) { php\_stream\_close(entry->fp); entry->fp = NULL; }
 return ZEND\_HASH\_APPLY\_KEEP;}/\* }}} \*/
/\*\* \* Filename map destructor \*/static void destroy\_phar\_data(zval \*zv) /\* {{{ \*/{ phar\_archive\_data \*phar\_data = (phar\_archive\_data \*)Z\_PTR\_P(zv);
 if (PHAR\_G(request\_ends)) { /\* first, iterate over the manifest and close all PHAR\_TMP entry fp handles, this prevents unnecessary unfreed stream resources \*/ zend\_hash\_apply(&(phar\_data->manifest), phar\_tmpclose\_apply); destroy\_phar\_data\_only(zv); return; }
 zend\_hash\_apply\_with\_argument(&(PHAR\_G(phar\_alias\_map)), phar\_unalias\_apply, phar\_data);
 if (--phar\_data->refcount < 0) { phar\_destroy\_phar\_data(phar\_data); }}/\* }}}\*/
/\*\* \* destructor for the manifest hash, frees each file's entry \*/void destroy\_phar\_manifest\_entry\_int(phar\_entry\_info \*entry) /\* {{{ \*/{
 if (entry->cfp) { php\_stream\_close(entry->cfp); entry->cfp = 0; }
 if (entry->fp) { php\_stream\_close(entry->fp); entry->fp = 0; }
 phar\_metadata\_tracker\_free(&entry->metadata\_tracker, entry->is\_persistent);
 pefree(entry->filename, entry->is\_persistent);
 if (entry->link) { pefree(entry->link, entry->is\_persistent); entry->link = 0; }
 if (entry->tmp) { pefree(entry->tmp, entry->is\_persistent); entry->tmp = 0; }}/\* }}} \*/
void destroy\_phar\_manifest\_entry(zval \*zv) /\* {{{ \*/{ phar\_entry\_info \*entry = Z\_PTR\_P(zv); destroy\_phar\_manifest\_entry\_int(entry); pefree(entry, entry->is\_persistent);}/\* }}} \*/
int phar\_entry\_delref(phar\_entry\_data \*idata) /\* {{{ \*/{ int ret = 0;
 if (idata->internal\_file && !idata->internal\_file->is\_persistent) { if (--idata->internal\_file->fp\_refcount < 0) { idata->internal\_file->fp\_refcount = 0; }
 if (idata->fp && idata->fp != idata->phar->fp && idata->fp != idata->phar->ufp && idata->fp != idata->internal\_file->fp) { php\_stream\_close(idata->fp); } /\* if phar\_get\_or\_create\_entry\_data returns a sub-directory, we have to free it \*/ if (idata->internal\_file->is\_temp\_dir) { destroy\_phar\_manifest\_entry\_int(idata->internal\_file); efree(idata->internal\_file); } }
 phar\_archive\_delref(idata->phar); efree(idata); return ret;}/\* }}} \*/
/\*\* \* Removes an entry, either by actually removing it or by marking it. \*/void phar\_entry\_remove(phar\_entry\_data \*idata, char \*\*error) /\* {{{ \*/{ phar\_archive\_data \*phar;
 phar = idata->phar;
 if (idata->internal\_file->fp\_refcount < 2) { if (idata->fp && idata->fp != idata->phar->fp && idata->fp != idata->phar->ufp && idata->fp != idata->internal\_file->fp) { php\_stream\_close(idata->fp); } zend\_hash\_str\_del(&idata->phar->manifest, idata->internal\_file->filename, idata->internal\_file->filename\_len); idata->phar->refcount--; efree(idata); } else { idata->internal\_file->is\_deleted = 1; phar\_entry\_delref(idata); }
 if (!phar->donotflush) { phar\_flush(phar, 0, 0, 0, error); }}/\* }}} \*/
#define MAPPHAR\_ALLOC\_FAIL(msg) \ if (fp) {\ php\_stream\_close(fp);\ }\ if (error) {\ spprintf(error, 0, msg, fname);\ }\ return FAILURE;
#define MAPPHAR\_FAIL(msg) \ efree(savebuf);\ if (mydata) {\ phar\_destroy\_phar\_data(mydata);\ }\ if (signature) {\ pefree(signature, PHAR\_G(persist));\ }\ MAPPHAR\_ALLOC\_FAIL(msg)
#ifdef WORDS\_BIGENDIAN# define PHAR\_GET\_32(buffer, var) \ var = ((((unsigned char\*)(buffer))[3]) << 24) \ | ((((unsigned char\*)(buffer))[2]) << 16) \ | ((((unsigned char\*)(buffer))[1]) << 8) \ | (((unsigned char\*)(buffer))[0]); \ (buffer) += 4# define PHAR\_GET\_16(buffer, var) \ var = ((((unsigned char\*)(buffer))[1]) << 8) \ | (((unsigned char\*)(buffer))[0]); \ (buffer) += 2#else# define PHAR\_GET\_32(buffer, var) \ memcpy(&var, buffer, sizeof(var)); \ buffer += 4# define PHAR\_GET\_16(buffer, var) \ var = \*(uint16\_t\*)(buffer); \ buffer += 2#endif#define PHAR\_ZIP\_16(var) ((uint16\_t)((((uint16\_t)var[0]) & 0xff) | \ (((uint16\_t)var[1]) & 0xff) << 8))#define PHAR\_ZIP\_32(var) ((uint32\_t)((((uint32\_t)var[0]) & 0xff) | \ (((uint32\_t)var[1]) & 0xff) << 8 | \ (((uint32\_t)var[2]) & 0xff) << 16 | \ (((uint32\_t)var[3]) & 0xff) << 24))
/\*\* \* Open an already loaded phar \*/int phar\_open\_parsed\_phar(char \*fname, size\_t fname\_len, char \*alias, size\_t alias\_len, bool is\_data, uint32\_t options, phar\_archive\_data\*\* pphar, char \*\*error) /\* {{{ \*/{ phar\_archive\_data \*phar;#ifdef PHP\_WIN32 char \*save\_fname; ALLOCA\_FLAG(fname\_use\_heap)#endif
 if (error) { \*error = NULL; }#ifdef PHP\_WIN32 save\_fname = fname; if (memchr(fname, '\\', fname\_len)) { fname = do\_alloca(fname\_len + 1, fname\_use\_heap); memcpy(fname, save\_fname, fname\_len); fname[fname\_len] = '\0'; phar\_unixify\_path\_separators(fname, fname\_len); }#endif if (SUCCESS == phar\_get\_archive(&phar, fname, fname\_len, alias, alias\_len, error) && ((alias && fname\_len == phar->fname\_len && !strncmp(fname, phar->fname, fname\_len)) || !alias) ) { phar\_entry\_info \*stub;#ifdef PHP\_WIN32 if (fname != save\_fname) { free\_alloca(fname, fname\_use\_heap); fname = save\_fname; }#endif /\* logic above is as follows: If an explicit alias was requested, ensure the filename passed in matches the phar's filename. If no alias was passed in, then it can match either and be valid \*/
 if (!is\_data) { /\* prevent any ".phar" without a stub getting through \*/ if (!phar->halt\_offset && !phar->is\_brandnew && (phar->is\_tar || phar->is\_zip)) { if (PHAR\_G(readonly) && NULL == (stub = zend\_hash\_str\_find\_ptr(&(phar->manifest), ".phar/stub.php", sizeof(".phar/stub.php")-1))) { if (error) { spprintf(error, 0, "'%s' is not a phar archive. Use PharData::\_\_construct() for a standard zip or tar archive", fname); } return FAILURE; } } }
 if (pphar) { \*pphar = phar; }
 return SUCCESS; } else {#ifdef PHP\_WIN32 if (fname != save\_fname) { free\_alloca(fname, fname\_use\_heap); fname = save\_fname; }#endif if (pphar) { \*pphar = NULL; }
 if (phar && error && !(options & REPORT\_ERRORS)) { efree(error); }
 return FAILURE; }}/\* }}}\*/
/\*\* \* Attempt to serialize the data. \* Callers are responsible for handling EG(exception) if one occurs. \*/void phar\_metadata\_tracker\_try\_ensure\_has\_serialized\_data(phar\_metadata\_tracker \*tracker, int persistent) /\* {{{ \*/{ php\_serialize\_data\_t metadata\_hash; smart\_str metadata\_str = {0}; if (tracker->str || Z\_ISUNDEF(tracker->val)) { /\* Already has serialized the value or there is no value \*/ return; } /\* Assert it should not be possible to create raw zvals in a persistent phar (i.e. from cache\_list) \*/ ZEND\_ASSERT(!persistent);
 PHP\_VAR\_SERIALIZE\_INIT(metadata\_hash); php\_var\_serialize(&metadata\_str, &tracker->val, &metadata\_hash); PHP\_VAR\_SERIALIZE\_DESTROY(metadata\_hash); if (!metadata\_str.s) { return; } tracker->str = metadata\_str.s;}/\* }}} \*/
/\*\* \* Parse out metadata when phar\_metadata\_tracker\_has\_data is true. \* \* Precondition: phar\_metadata\_tracker\_has\_data is true \*/int phar\_metadata\_tracker\_unserialize\_or\_copy(phar\_metadata\_tracker \*tracker, zval \*metadata, int persistent, HashTable \*unserialize\_options, const char\* method\_name) /\* {{{ \*/{ const bool has\_unserialize\_options = unserialize\_options != NULL && zend\_hash\_num\_elements(unserialize\_options) > 0; /\* It should be impossible to create a zval in a persistent phar/entry. \*/ ZEND\_ASSERT(!persistent || Z\_ISUNDEF(tracker->val));
 if (Z\_ISUNDEF(tracker->val) || has\_unserialize\_options) { if (EG(exception)) { /\* Because other parts of the phar code haven't been updated to check for exceptions after doing something that may throw, \* check for exceptions before potentially serializing/unserializing instead. \*/ return FAILURE; } /\* Persistent phars should always be unserialized. \*/ const char \*start; /\* Assert it should not be possible to create raw data in a persistent phar (i.e. from cache\_list) \*/
 /\* Precondition: This has serialized data, either from setMetadata or the phar file. \*/ ZEND\_ASSERT(tracker->str != NULL); ZVAL\_NULL(metadata); start = ZSTR\_VAL(tracker->str);
 php\_unserialize\_with\_options(metadata, start, ZSTR\_LEN(tracker->str), unserialize\_options, method\_name); if (EG(exception)) { zval\_ptr\_dtor(metadata); ZVAL\_UNDEF(metadata); return FAILURE; } return SUCCESS; } else { /\* TODO: what is the current/expected behavior when fetching an object set with setMetadata then getting it \* with getMetadata() and modifying a property? Previously, it was underdefined, and probably unimportant to support. \*/ ZVAL\_COPY(metadata, &tracker->val); }
 return SUCCESS;}/\* }}}\*/
/\*\* \* Check if this has any data, serialized or as a raw value. \*/bool phar\_metadata\_tracker\_has\_data(const phar\_metadata\_tracker \*tracker, int persistent) /\* {{{ \*/{ ZEND\_ASSERT(!persistent || Z\_ISUNDEF(tracker->val)); return !Z\_ISUNDEF(tracker->val) || tracker->str != NULL;}/\* }}} \*/
/\*\* \* Free memory used to track the metadata and set all fields to be null/undef. \*/void phar\_metadata\_tracker\_free(phar\_metadata\_tracker \*tracker, int persistent) /\* {{{ \*/{ /\* Free the string before the zval in case the zval's destructor modifies the metadata \*/ if (tracker->str) { zend\_string\_release(tracker->str); tracker->str = NULL; } if (!Z\_ISUNDEF(tracker->val)) { /\* Here, copy the original zval to a different pointer without incrementing the refcount in case something uses the original while it's being freed. \*/ zval zval\_copy;
 ZEND\_ASSERT(!persistent); ZVAL\_COPY\_VALUE(&zval\_copy, &tracker->val); ZVAL\_UNDEF(&tracker->val); zval\_ptr\_dtor(&zval\_copy); }}/\* }}} \*/
/\*\* \* Free memory used to track the metadata and set all fields to be null/undef. \*/void phar\_metadata\_tracker\_copy(phar\_metadata\_tracker \*dest, const phar\_metadata\_tracker \*source, int persistent) /\* {{{ \*/{ ZEND\_ASSERT(dest != source); phar\_metadata\_tracker\_free(dest, persistent);
 if (!Z\_ISUNDEF(source->val)) { ZEND\_ASSERT(!persistent); ZVAL\_COPY(&dest->val, &source->val); } if (source->str) { dest->str = zend\_string\_copy(source->str); }}/\* }}} \*/
/\*\* \* Copy constructor for a non-persistent clone. \*/void phar\_metadata\_tracker\_clone(phar\_metadata\_tracker \*tracker) /\* {{{ \*/{ Z\_TRY\_ADDREF\_P(&tracker->val); if (tracker->str) { /\* Duplicate the string, as the original may have been persistent. \*/ tracker->str = zend\_string\_dup(tracker->str, false); }}/\* }}} \*/
/\*\* \* Parse out metadata from the manifest for a single file, saving it into a string. \* \* Meta-data is in this format: \* [len32][data...] \* \* data is the serialized zval \*/void phar\_parse\_metadata\_lazy(const char \*buffer, phar\_metadata\_tracker \*tracker, uint32\_t zip\_metadata\_len, int persistent) /\* {{{ \*/{ phar\_metadata\_tracker\_free(tracker, persistent); if (zip\_metadata\_len) { /\* lazy init metadata \*/ tracker->str = zend\_string\_init(buffer, zip\_metadata\_len, persistent); }}/\* }}}\*/
/\*\* \* Size of fixed fields in the manifest. \* See: http://php.net/manual/en/phar.fileformat.phar.php \*/#define MANIFEST\_FIXED\_LEN 18
#define SAFE\_PHAR\_GET\_32(buffer, endbuffer, var) \ if (UNEXPECTED(buffer + 4 > endbuffer)) { \ MAPPHAR\_FAIL("internal corruption of phar \"%s\" (truncated manifest header)"); \ } \ PHAR\_GET\_32(buffer, var);
/\*\* \* Does not check for a previously opened phar in the cache. \* \* Parse a new one and add it to the cache, returning either SUCCESS or \* FAILURE, and setting pphar to the pointer to the manifest entry \* \* This is used by phar\_open\_from\_filename to process the manifest, but can be called \* directly. \*/static int phar\_parse\_pharfile(php\_stream \*fp, char \*fname, size\_t fname\_len, char \*alias, size\_t alias\_len, zend\_long halt\_offset, phar\_archive\_data\*\* pphar, uint32\_t compression, char \*\*error) /\* {{{ \*/{ char b32[4], \*buffer, \*endbuffer, \*savebuf; phar\_archive\_data \*mydata = NULL; phar\_entry\_info entry; uint32\_t manifest\_len, manifest\_count, manifest\_flags, manifest\_index, tmp\_len, sig\_flags; uint16\_t manifest\_ver; uint32\_t len; zend\_long offset; size\_t sig\_len; int register\_alias = 0, temp\_alias = 0; char \*signature = NULL; zend\_string \*str;
 if (pphar) { \*pphar = NULL; }
 if (error) { \*error = NULL; }
 /\* check for ?>\n and increment accordingly \*/ if (-1 == php\_stream\_seek(fp, halt\_offset, SEEK\_SET)) { MAPPHAR\_ALLOC\_FAIL("cannot seek to \_\_HALT\_COMPILER(); location in phar \"%s\"") }
 buffer = b32;
 if (3 != php\_stream\_read(fp, buffer, 3)) { MAPPHAR\_ALLOC\_FAIL("internal corruption of phar \"%s\" (truncated manifest at stub end)") }
 if ((\*buffer == ' ' || \*buffer == '\n') && \*(buffer + 1) == '?' && \*(buffer + 2) == '>') { int nextchar; halt\_offset += 3; if (EOF == (nextchar = php\_stream\_getc(fp))) { MAPPHAR\_ALLOC\_FAIL("internal corruption of phar \"%s\" (truncated manifest at stub end)") }
 if ((char) nextchar == '\r') { /\* if we have an \r we require an \n as well \*/ if (EOF == (nextchar = php\_stream\_getc(fp)) || (char)nextchar != '\n') { MAPPHAR\_ALLOC\_FAIL("internal corruption of phar \"%s\" (truncated manifest at stub end)") } ++halt\_offset; }
 if ((char) nextchar == '\n') { ++halt\_offset; } }
 /\* make sure we are at the right location to read the manifest \*/ if (-1 == php\_stream\_seek(fp, halt\_offset, SEEK\_SET)) { MAPPHAR\_ALLOC\_FAIL("cannot seek to \_\_HALT\_COMPILER(); location in phar \"%s\"") }
 /\* read in manifest \*/ buffer = b32;
 if (4 != php\_stream\_read(fp, buffer, 4)) { MAPPHAR\_ALLOC\_FAIL("internal corruption of phar \"%s\" (truncated manifest at manifest length)") }
 PHAR\_GET\_32(buffer, manifest\_len);
 if (manifest\_len > 1048576 \* 100) { /\* prevent serious memory issues by limiting manifest to at most 100 MB in length \*/ MAPPHAR\_ALLOC\_FAIL("manifest cannot be larger than 100 MB in phar \"%s\"") }
 buffer = (char \*)emalloc(manifest\_len); savebuf = buffer; endbuffer = buffer + manifest\_len;
 if (manifest\_len < MANIFEST\_FIXED\_LEN || manifest\_len != php\_stream\_read(fp, buffer, manifest\_len)) { MAPPHAR\_FAIL("internal corruption of phar \"%s\" (truncated manifest header)") }
 /\* extract the number of entries \*/ SAFE\_PHAR\_GET\_32(buffer, endbuffer, manifest\_count);
 if (manifest\_count == 0) { MAPPHAR\_FAIL("in phar \"%s\", manifest claims to have zero entries. Phars must have at least 1 entry"); }
 /\* extract API version, lowest nibble currently unused \*/ manifest\_ver = (((unsigned char)buffer[0]) << 8) + ((unsigned char)buffer[1]); buffer += 2;
 if ((manifest\_ver & PHAR\_API\_VER\_MASK) < PHAR\_API\_MIN\_READ) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" is API version %1.u.%1.u.%1.u, and cannot be processed", fname, manifest\_ver >> 12, (manifest\_ver >> 8) & 0xF, (manifest\_ver >> 4) & 0x0F); } return FAILURE; }
 SAFE\_PHAR\_GET\_32(buffer, endbuffer, manifest\_flags);
 manifest\_flags &= ~PHAR\_HDR\_COMPRESSION\_MASK; manifest\_flags &= ~PHAR\_FILE\_COMPRESSION\_MASK; /\* remember whether this entire phar was compressed with gz/bzip2 \*/ manifest\_flags |= compression;
 /\* The lowest nibble contains the phar wide flags. The compression flags can \*/ /\* be ignored on reading because it is being generated anyways. \*/ if (manifest\_flags & PHAR\_HDR\_SIGNATURE) { char sig\_buf[8], \*sig\_ptr = sig\_buf; zend\_off\_t read\_len; size\_t end\_of\_phar;
 if (-1 == php\_stream\_seek(fp, -8, SEEK\_END) || (read\_len = php\_stream\_tell(fp)) < 20 || 8 != php\_stream\_read(fp, sig\_buf, 8) || memcmp(sig\_buf+4, "GBMB", 4)) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" has a broken signature", fname); } return FAILURE; }
 PHAR\_GET\_32(sig\_ptr, sig\_flags);
 switch(sig\_flags) { case PHAR\_SIG\_OPENSSL\_SHA512: case PHAR\_SIG\_OPENSSL\_SHA256: case PHAR\_SIG\_OPENSSL: { uint32\_t signature\_len; char \*sig; zend\_off\_t whence;
 /\* we store the signature followed by the signature length \*/ if (-1 == php\_stream\_seek(fp, -12, SEEK\_CUR) || 4 != php\_stream\_read(fp, sig\_buf, 4)) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" openssl signature length could not be read", fname); } return FAILURE; }
 sig\_ptr = sig\_buf; PHAR\_GET\_32(sig\_ptr, signature\_len); sig = (char \*) emalloc(signature\_len); whence = signature\_len + 4; whence = -whence;
 if (-1 == php\_stream\_seek(fp, whence, SEEK\_CUR) || !(end\_of\_phar = php\_stream\_tell(fp)) || signature\_len != php\_stream\_read(fp, sig, signature\_len)) { efree(savebuf); efree(sig); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" openssl signature could not be read", fname); } return FAILURE; }
 if (FAILURE == phar\_verify\_signature(fp, end\_of\_phar, sig\_flags, sig, signature\_len, fname, &signature, &sig\_len, error)) { efree(savebuf); efree(sig); php\_stream\_close(fp); if (error) { char \*save = \*error; spprintf(error, 0, "phar \"%s\" openssl signature could not be verified: %s", fname, \*error); efree(save); } return FAILURE; } efree(sig); } break; case PHAR\_SIG\_SHA512: { unsigned char digest[64];
 php\_stream\_seek(fp, -(8 + 64), SEEK\_END); read\_len = php\_stream\_tell(fp);
 if (php\_stream\_read(fp, (char\*)digest, sizeof(digest)) != sizeof(digest)) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" has a broken signature", fname); } return FAILURE; }
 if (FAILURE == phar\_verify\_signature(fp, read\_len, PHAR\_SIG\_SHA512, (char \*)digest, 64, fname, &signature, &sig\_len, error)) { efree(savebuf); php\_stream\_close(fp); if (error) { char \*save = \*error; spprintf(error, 0, "phar \"%s\" SHA512 signature could not be verified: %s", fname, \*error); efree(save); } return FAILURE; } break; } case PHAR\_SIG\_SHA256: { unsigned char digest[32];
 php\_stream\_seek(fp, -(8 + 32), SEEK\_END); read\_len = php\_stream\_tell(fp);
 if (php\_stream\_read(fp, (char\*)digest, sizeof(digest)) != sizeof(digest)) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" has a broken signature", fname); } return FAILURE; }
 if (FAILURE == phar\_verify\_signature(fp, read\_len, PHAR\_SIG\_SHA256, (char \*)digest, 32, fname, &signature, &sig\_len, error)) { efree(savebuf); php\_stream\_close(fp); if (error) { char \*save = \*error; spprintf(error, 0, "phar \"%s\" SHA256 signature could not be verified: %s", fname, \*error); efree(save); } return FAILURE; } break; } case PHAR\_SIG\_SHA1: { unsigned char digest[20];
 php\_stream\_seek(fp, -(8 + 20), SEEK\_END); read\_len = php\_stream\_tell(fp);
 if (php\_stream\_read(fp, (char\*)digest, sizeof(digest)) != sizeof(digest)) { efree(savebuf); php\_stream\_close(fp); if (error) { spprintf(error, 0, "phar \"%s\" has a broken signature", fname); } return FAILURE; }
 if (FAILURE == phar\_verify\_signature(fp, read\_len, PHAR\_SIG\_SHA1, (char \*)digest, 20, fname, &signature, &sig\_len, error)) { efree(savebuf); php\_stream\_close(fp); if (error) { char \*save = \*error; spprintf(error, 0, "phar \"%s\" SHA1 signature could not be verified: %s", fname, \*error); efree(save); } return FAILURE; } break; } case PHAR\_SIG\_MD5: { unsigned char digest[16];
 php\_stream\_seek(fp, -(8 + 16), SEEK\_END); read\_len = php\_stream\_tell(fp);
 if (php\_stream\_read(fp, (char\*)digest, sizeof(digest)) != sizeof(digest)) { efree(savebuf); php\_stream\_close(fp);[View remainder of file in raw view](https://github.com/php/php-src/raw/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar/phar.c)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_e0a3cdcb_20250108_161551.html ===
From c65ceaea9bf3ebe0fc41c3ad7d087f0d97f6c5b4 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andi=20R=C3=BCckauer?=
Date: Thu, 8 Aug 2019 07:07:21 +0200
Subject: [PATCH] Ignore externally managed and generated files
---
.gitignore | 4 +++-
1 file changed, 3 insertions(+), 1 deletion(-)
diff --git a/.gitignore b/.gitignore
index 612b0dd..cc14d37 100644
--- a/.gitignore
+++ b/.gitignore
@@ -2,6 +2,9 @@ data/\*.json
logs/\*.log
logs/\*/\*.log
docroot/snapshot.html
+docroot/snaps.json
+docroot/downloads/\*.zip
+docroot/downloads/\*.txt
docroot/downloads/pecl/
docroot/downloads/php-sdk/
docroot/downloads/pickle/
@@ -9,4 +12,3 @@ docroot/downloads/qa/
docroot/downloads/releases/
docroot/downloads/snaps/
docroot/downloads/nano/
-


=== Content from github.com_496a0573_20250108_161627.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fweb-windows%2Fpull%2F24)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fweb-windows%2Fpull%2F24)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=php%2Fweb-windows)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[php](/php)
/
**[web-windows](/php/web-windows)**
Public

* [Notifications](/login?return_to=%2Fphp%2Fweb-windows) You must be signed in to change notification settings
* [Fork
  25](/login?return_to=%2Fphp%2Fweb-windows)
* [Star
   24](/login?return_to=%2Fphp%2Fweb-windows)

* [Code](/php/web-windows)
* [Issues
  0](/php/web-windows/issues)
* [Pull requests
  2](/php/web-windows/pulls)
* [Actions](/php/web-windows/actions)
* [Projects
  0](/php/web-windows/projects)
* [Security](/php/web-windows/security)
* [Insights](/php/web-windows/pulse)

Additional navigation options

* [Code](/php/web-windows)
* [Issues](/php/web-windows/issues)
* [Pull requests](/php/web-windows/pulls)
* [Actions](/php/web-windows/actions)
* [Projects](/php/web-windows/projects)
* [Security](/php/web-windows/security)
* [Insights](/php/web-windows/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fphp%2Fweb-windows%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fphp%2Fweb-windows%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Prepare for longer commit hashes #24

 Open

[cmb69](/cmb69)
wants to merge
1
commit into
[php:master](/php/web-windows/tree/master "php/web-windows:master")
*base:*
master

Choose a base branch

Branches
Tags

Could not load branches

Branch not found: **{{ refName }}**

 Loading

{{ refName }}
default

Could not load tags

Nothing to show

{{ refName }}
default

 Loading

### Are you sure you want to change the base?

Some commits from the old base branch may be removed from the timeline,
and old review comments may become outdated.

 Loading

Change base

from
[cmb69:cmb/hashes-10](/cmb69/web-windows/tree/cmb/hashes-10 "cmb69/web-windows:cmb/hashes-10")

 Open

# [Prepare for longer commit hashes](#top) #24

[cmb69](/cmb69)
wants to merge
1
commit into
[php:master](/php/web-windows/tree/master "php/web-windows:master")
from
[cmb69:cmb/hashes-10](/cmb69/web-windows/tree/cmb/hashes-10 "cmb69/web-windows:cmb/hashes-10")

[Conversation
0](/php/web-windows/pull/24)
[Commits
1](/php/web-windows/pull/24/commits)
[Checks
0](/php/web-windows/pull/24/checks)
[Files changed](/php/web-windows/pull/24/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![cmb69](https://avatars.githubusercontent.com/u/2306138?s=60&v=4)](/cmb69)

Copy link

Member

### @cmb69 **[cmb69](/cmb69)** commented [Nov 9, 2020](#issue-739013729)

The 7 digit hashes can produce collisions, so we're planning to use

10 digit hashes in the future. This change prepares for that, although

that code is currently dead code, since `$force` is always true (see

the respective code comment).

Sorry, something went wrong.

All reactions

[![@cmb69](https://avatars.githubusercontent.com/u/2306138?s=40&v=4)](/cmb69)

`[Prepare for longer commit hashes](/php/web-windows/pull/24/commits/411c41db7c5b9595570761302ae9da018223c95f "Prepare for longer commit hashes

The 7 digit hashes can produce collisions, so we're planning to use
10 digit hashes in the future.  This change prepares for that, although
that code is currently dead code, since `$force` is always true (see
the respective code comment).")`
 …

`[411c41d](/php/web-windows/pull/24/commits/411c41db7c5b9595570761302ae9da018223c95f)`

```
The 7 digit hashes can produce collisions, so we're planning to use
10 digit hashes in the future.  This change prepares for that, although
that code is currently dead code, since `$force` is always true (see
the respective code comment).
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fphp%2Fweb-windows%2Fpull%2F24)

Reviewers

No reviews

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

1 participant

[![@cmb69](https://avatars.githubusercontent.com/u/2306138?s=52&v=4)](/cmb69)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from bugs.php.net_a6009b9e_20250108_140207.html ===


| [Bugs](/) | [php.net](https://php.net/) |  [support](https://php.net/support.php) |  [documentation](https://php.net/docs.php) |  [report a bug](report.php) |  [advanced search](search.php) |  [search howto](search-howto.php) |  [statistics](stats.php) |  [random bug](random) |  [login](login.php) |
| --- | --- |
| go to bug id or search bugs for | |

| | [Sec Bug](bug.php?id=81726) #81726 | phar wrapper can occur dos when using quine gzip file | | | | | | --- | --- | --- | --- | --- | --- | | Submitted: | 2022-07-19 14:30 UTC | Modified: | 2022-09-29 18:58 UTC |  | | From: | ohseungju5 at gmail dot com | Assigned: | [stas](search.php?cmd=display&assign=stas) ([profile](https://people.php.net/stas)) | | Status: | Closed | Package: | [PHAR related](search.php?cmd=display&package_name[]=PHAR+related) | | PHP Version: | 7.4.30 | OS: | ubuntu-20.04 | | Private report: | No | CVE-ID: | [2022-31628](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-31628) |   View [Developer](bug.php?id=81726&edit=1) [Edit](bug.php?id=81726&edit=2)   **[2022-07-19 14:30 UTC] ohseungju5 at gmail dot com** ``` Description: ------------ follow below url <https://github.com/php/php-src/blob/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar/phar.c#L1623>  in line 1652, php execute while statement until the file pointer returns eof.  while(!php_stream_eof(fp)) { 		if ((got = php_stream_read(fp, buffer+tokenlen, readsize)) < (size_t) tokenlen) { 			MAPPHAR_ALLOC_FAIL("internal corruption of phar \"%s\" (truncated entry)") 		}  after entering the while statement, value of test variable is set to \1. However, we can set value of test variable to \0 after passing if statements in line 1660, 1720. <https://github.com/php/php-src/blob/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar/phar.c#L1718> <https://github.com/php/php-src/blob/2f5295692fde289f99aa9701528dcde4c78b780f/ext/phar/phar.c#L1756>  If we can constantly set value of test variable to \0, then we can make php fall into an infinite loop.  Of course, we have to upload a gzip payload for the attack on the victim's server. However, this is not a problem because many php servers support upload.    Test script: --------------- test_dos.php  <?php file_exists($_GET['file']); ?>  exploit.py  import requests  SERVER = "" while True:     try:         requests.get(SERVER+"/test_dos.php?file=phar://2xq.gz",timeout=1)     except:         pass  2xq.gz  hxxp://ssrf.kr/2xq.gz  Expected result: ---------------- I don't know correct result of this. Maybe, there is no problem with the implementation. But no one would have expected that decompressing gzip file could make strange file that would return gzip file again.  Actual result: -------------- An infinite loop occurs in all files with php extensions   ``` PatchesPull Requests Pull requests:  * [Fix some grammatical errors on home page](https://github.com/php/web-doc/pull/18)   (web-doc/18) * [Prepare for longer commit hashes](https://github.com/php/web-windows/pull/24)   (web-windows/24) * [Ignore externally managed and generated files](https://github.com/php/web-windows/pull/21)   (web-windows/21) HistoryAllCommentsChangesGit/SVN commitsRelated reports  **[2022-07-19 14:34 UTC] ohseungju5 at gmail dot com** ``` Reporter Credit: @real_as3617, @gPayl0ad  ``` **[2022-07-20 09:59 UTC] ohseungju5 at gmail dot com** ``` file() filetime() filectime() fileatime() file_put_contents() fileinode() file_exists() filegroup() fileowner() file_get_contents() fopen() fileperms() is_dir() is_readable() is_executable() is_writable() is_writeable() is_file() is_link() parse_ini_file() copy() unlink() stat() readfile()  dos can occur in all functions where phar wrapper is available  ``` **[2022-07-20 10:32 UTC] ohseungju5 at gmail dot com** ``` Also, since the code of phar.c has rarely been updated, it is expected to work the same in latest version of php.  ``` **[2022-07-25 14:09 UTC] [cmb@php.net](//people.php.net/cmb)** -Assigned To: +Assigned To: stas **[2022-07-25 14:09 UTC] [cmb@php.net](//people.php.net/cmb)** ``` Thank you for reporting this issue!  I was not aware of compressed file quines[1], but indeed, these would cause an infinite loop with all relevant PHP versions.  Suggested patch: <<https://gist.github.com/cmb69/77ad17bf57c6ef35785476d5328b4b74>>.  Stas, what do you think?  [1] <<https://honno.dev/gzip-quine/>>  ``` **[2022-08-01 04:48 UTC] [remi@php.net](//people.php.net/remi)** ``` phar are mostly code archive  So if you allow phar from untrusted sources, of course this may raise lot of issues.  IMHO this should be manage as (at most) "low" security (and thus go thru next RC without a need for a CVE)  ``` **[2022-08-01 05:44 UTC] [stas@php.net](//people.php.net/stas)** ``` I'm not sure what's going on here - why would phar try repeatedly to decompress the same archive? Isn't once enough?  ``` **[2022-08-01 05:55 UTC] [stas@php.net](//people.php.net/stas)** ``` The code in example is obviously insecure (you can force it to work as open proxy, or do other nasty stuff with various wrappers) but if it has problems with phar:// on something as simple as file_exists, it still can be a problem, because inspecting phars doesn't seem to be an inherently insecure operation. I don't think it'd execute the stub when inspecting it, or something like that?  ``` **[2022-08-01 05:56 UTC] [stas@php.net](//people.php.net/stas)** -Assigned To: stas +Assigned To: cmb **[2022-08-01 09:17 UTC] ohseungju5 at gmail dot com** ``` Of course, allowing phar wrapper can cause many security problems, but I don't think this bug has a low severity. The important thing about this bug is that all php workers fall infinite loop in just a few requests. And that poc is the most extreme example. The same bug occurs when using the poc of CVE-2020-7068.  ----- ----- php.ini ----- + + phar.cache_list =/path/2xq.gz -------------------  <https://bugs.php.net/bug.php?id=79797> Of course, this bug was published with a cve.  ``` **[2022-08-01 09:21 UTC] ohseungju5 at gmail dot com** ``` And, I agree with stats. just once is enough.  ``` **[2022-08-01 09:39 UTC] ohseungju5 at gmail dot com** ``` oh sorry. not stats but stas  ``` **[2022-08-01 13:56 UTC] [cmb@php.net](//people.php.net/cmb)** -Assigned To: cmb +Assigned To: stas **[2022-08-01 13:56 UTC] [cmb@php.net](//people.php.net/cmb)** ``` To clarify, this issue does not only affect the phar stream wrapper, but also the PharData class, which is not supposed to cause such issues, and is likely not rarely used to deal with .tgz files.  A simple      new PharData(__DIR__ . "/quine.tgz");  causes an infinite loop.  > Isn't once enough?  Maybe, but at least wrt. backwards compatibility I wouldn't disallow multiple passes for now; after all, a gzip compressed file might have been gzip compressed again (maybe accidentially), and that is handled fine.  ``` **[2022-08-01 15:15 UTC] [stas@php.net](//people.php.net/stas)** ``` > a gzip compressed file might have been gzip compressed again (maybe accidentially), and that is handled fine.  What do you mean here by "handled fine"? If you gzip a gzipped file again, then nobody I think expects that after you run "gzip -d" on it, it'd try to decompress it infinitely until it gets to the "original" - the expectation would be it runs decompression once. I don't see why the expectation for phar should be any different.  ``` **[2022-08-02 09:11 UTC] [cmb@php.net](//people.php.net/cmb)** ``` > the expectation would be it runs decompression once  Fair enough.  Still, for BC reasons we probably should not change that in a stable version, at least not in PHP 7.4.  ``` **[2022-09-22 05:17 UTC] ohseungju5 at gmail dot com** ``` any progress?  ``` **[2022-09-23 11:58 UTC] [cmb@php.net](//people.php.net/cmb)** ``` This issue is scheduled to be fixed with the next GA releases (2022-09-29).  A slight variation of my suggested patch will be used (with recursion_count = 3 instead of 100).  ``` **[2022-09-26 04:08 UTC] ohseungju5 at gmail dot com** ``` can i get cve?  ``` **[2022-09-27 13:08 UTC] [derick@php.net](//people.php.net/derick)** -CVE-ID: +CVE-ID: 2022-31628 **[2022-09-27 13:54 UTC] [derick@php.net](//people.php.net/derick)** -Status: Assigned +Status: Closed **[2022-09-27 13:54 UTC] [derick@php.net](//people.php.net/derick)** ``` Thank you for your bug report. This issue has already been fixed in the latest released version of PHP, which you can download at <http://www.php.net/downloads.php>    ``` **[2024-02-02 06:14 UTC] chenyongjun at bufang dot com** ``` The following pull request has been associated:  Patch Name: Fix some grammatical errors on home page On GitHub:  <https://github.com/php/web-doc/pull/18> Patch:      <https://github.com/php/web-doc/pull/18.patch>  ``` **[2024-04-23 06:31 UTC] 156190772 at qq dot com** ``` The following pull request has been associated:  Patch Name: Ignore externally managed and generated files On GitHub:  <https://github.com/php/web-windows/pull/21> Patch:      <https://github.com/php/web-windows/pull/21.patch>  ``` **[2024-04-23 06:31 UTC] 156190772 at qq dot com** ``` The following pull request has been associated:  Patch Name: Prepare for longer commit hashes On GitHub:  <https://github.com/php/web-windows/pull/24> Patch:      <https://github.com/php/web-windows/pull/24.patch>  ``` |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

|  | |
| --- | --- |
| [PHP](https://php.net/) [Copyright © 2001-2025 The PHP Group](https://php.net/copyright.php) All rights reserved. | Last updated: Wed Jan 08 14:01:28 2025 UTC |



=== Content from security.gentoo.org_be7f6896_20250108_140209.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# PHP: Multiple Vulnerabilities — GLSA **202211-03**

Multiple vulnerabilities have been found in PHP, the worst of which could result in arbitrary code execution.

### Affected packages

| Package | **dev-lang/php** on all architectures |
| --- | --- |
| Affected versions | < **8.1.12**< **8.0.25**< **7.4.33** |
| Unaffected versions | >= **8.1.12**>= **8.0.25**>= **7.4.33** |

### Background

PHP is a widely-used general-purpose scripting language that is especially suited for Web development and can be embedded into HTML.

### Description

Multiple vulnerabilities have been discovered in PHP. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All PHP 7.4 users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-lang/php-7.4.33"

```

All PHP 8.0 users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-lang/php-8.0.25"

```

All PHP 8.1 users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-lang/php-8.1.12"

```
### References

* [CVE-2022-31628](https://nvd.nist.gov/vuln/detail/CVE-2022-31628)
* [CVE-2022-31629](https://nvd.nist.gov/vuln/detail/CVE-2022-31629)
* [CVE-2022-31630](https://nvd.nist.gov/vuln/detail/CVE-2022-31630)
* [CVE-2022-37454](https://nvd.nist.gov/vuln/detail/CVE-2022-37454)

**Release date**

November 19, 2022

**Latest revision**

November 19, 2022: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [867913](https://bugs.gentoo.org/show_bug.cgi?id=867913)
* [873376](https://bugs.gentoo.org/show_bug.cgi?id=873376)
* [877853](https://bugs.gentoo.org/show_bug.cgi?id=877853)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**


