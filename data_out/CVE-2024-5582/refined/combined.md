=== Content from plugins.trac.wordpress.org_b36dea24_20250111_003809.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fschema-and-structured-data-for-wp%2Ftrunk%2Fmodules%2Felementor%2Fwidgets%2Fclass-qanda-block.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/schema-and-structured-data-for-wp/trunk/modules/elementor/widgets/class-qanda-block.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/schema-and-structured-data-for-wp/trunk/modules/elementor/widgets/class-qanda-block.php)

---

# [source:](/browser?order=name "Go to repository root") [schema-and-structured-data-for-wp](/browser/schema-and-structured-data-for-wp?order=name "View schema-and-structured-data-for-wp")/[trunk](/browser/schema-and-structured-data-for-wp/trunk?order=name "View trunk")/[modules](/browser/schema-and-structured-data-for-wp/trunk/modules?order=name "View modules")/[elementor](/browser/schema-and-structured-data-for-wp/trunk/modules/elementor?order=name "View elementor")/[widgets](/browser/schema-and-structured-data-for-wp/trunk/modules/elementor/widgets?order=name "View widgets")/[class-qanda-block.php](/browser/schema-and-structured-data-for-wp/trunk/modules/elementor/widgets/class-qanda-block.php?order=name "View class-qanda-block.php")

View diff against:

View revision:

| [Last change](/changeset/3118943/schema-and-structured-data-for-wp/trunk/modules/elementor/widgets/class-qanda-block.php "View differences") on this file was [3118943](/changeset/3118943/ "View changeset 3118943"), checked in by magazine3, [6 months ago](/timeline?from=2024-07-16T08%3A06%3A05Z&precision=second "See timeline at 07/16/2024 08:06:05 AM") |
| --- |
| Released version 1.34 |
| **File size:** 13.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | namespace SASWPElementorModule\Widgets; |
| [3](#L3) |  |
| [4](#L4) | use Elementor\Repeater; |
| [5](#L5) | use Elementor\Widget\_Base; |
| [6](#L6) | use Elementor\Controls\_Manager; |
| [7](#L7) |  |
| [8](#L8) | if ( ! defined( 'ABSPATH' ) ) exit; // Exit if accessed directly |
| [9](#L9) |  |
| [10](#L10) |  |
| [11](#L11) | class Qanda\_Block extends Widget\_Base { |
| [12](#L12) |  |
| [13](#L13) | public function get\_name() { |
| [14](#L14) | return 'saswp-qanda-block'; |
| [15](#L15) | } |
| [16](#L16) |  |
| [17](#L17) | public function get\_title() { |
| [18](#L18) | return esc\_html\_\_( 'Q&A Block', 'schema-and-structured-data-for-wp' ); |
| [19](#L19) | } |
| [20](#L20) | public function get\_keywords() { |
| [21](#L21) | return [ 'Q&A', 'Q&A schema','qanda schema', 'schema', 'structured data' ]; |
| [22](#L22) | } |
| [23](#L23) | public function get\_icon() { |
| [24](#L24) | return 'eicon-text'; |
| [25](#L25) | } |
| [26](#L26) |  |
| [27](#L27) | protected function register\_controls() { |
| [28](#L28) |  |
| [29](#L29) | //Question section starts here |
| [30](#L30) |  |
| [31](#L31) | $this->start\_controls\_section( |
| [32](#L32) | 'question\_section', |
| [33](#L33) | [ |
| [34](#L34) | 'label' => esc\_html\_\_( 'Question', 'schema-and-structured-data-for-wp' ), |
| [35](#L35) | 'tab' => Controls\_Manager::TAB\_CONTENT, |
| [36](#L36) | ] |
| [37](#L37) | ); |
| [38](#L38) |  |
| [39](#L39) | $this->add\_control( |
| [40](#L40) | 'question\_name', |
| [41](#L41) | [ |
| [42](#L42) | 'label'            => esc\_html\_\_( 'Name', 'schema-and-structured-data-for-wp' ), |
| [43](#L43) | 'type'             =>   Controls\_Manager::TEXT, |
| [44](#L44) | 'placeholder'      =>  esc\_html\_\_( 'Enter Question Name', 'schema-and-structured-data-for-wp' ), |
| [45](#L45) | ] |
| [46](#L46) | ); |
| [47](#L47) |  |
| [48](#L48) | $this->add\_control( |
| [49](#L49) | 'question\_text', |
| [50](#L50) | [ |
| [51](#L51) | 'label'            => esc\_html\_\_( 'Text', 'schema-and-structured-data-for-wp' ), |
| [52](#L52) | 'type'             =>   Controls\_Manager::TEXTAREA, |
| [53](#L53) | 'placeholder'      =>  esc\_html\_\_( 'Enter Question Description', 'schema-and-structured-data-for-wp' ), |
| [54](#L54) | ] |
| [55](#L55) | ); |
| [56](#L56) |  |
| [57](#L57) | $this->add\_control( |
| [58](#L58) | 'question\_vote', |
| [59](#L59) | [ |
| [60](#L60) | 'label'            => esc\_html\_\_( 'Vote', 'schema-and-structured-data-for-wp' ), |
| [61](#L61) | 'type'             =>   Controls\_Manager::NUMBER, |
| [62](#L62) | ] |
| [63](#L63) | ); |
| [64](#L64) |  |
| [65](#L65) | $this->add\_control( |
| [66](#L66) | 'question\_author', |
| [67](#L67) | [ |
| [68](#L68) | 'label'            => esc\_html\_\_( 'Author', 'schema-and-structured-data-for-wp' ), |
| [69](#L69) | 'type'             =>   Controls\_Manager::TEXT, |
| [70](#L70) | 'placeholder'      =>  esc\_html\_\_( 'Enter author name', 'schema-and-structured-data-for-wp' ), |
| [71](#L71) | ] |
| [72](#L72) | ); |
| [73](#L73) |  |
| [74](#L74) | $this->add\_control( |
| [75](#L75) | 'question\_date', |
| [76](#L76) | [ |
| [77](#L77) | 'label'            => esc\_html\_\_( 'Date', 'schema-and-structured-data-for-wp' ), |
| [78](#L78) | 'type'             =>   Controls\_Manager::DATE\_TIME, |
| [79](#L79) | ] |
| [80](#L80) | ); |
| [81](#L81) |  |
| [82](#L82) | $this->end\_controls\_section(); |
| [83](#L83) |  |
| [84](#L84) |  |
| [85](#L85) | //Question section ends here |
| [86](#L86) |  |
| [87](#L87) | //Accepted Ansesers section starts here |
| [88](#L88) | $this->start\_controls\_section( |
| [89](#L89) | 'accepted\_answers\_section', |
| [90](#L90) | [ |
| [91](#L91) | 'label' => esc\_html\_\_( 'Accepted Answers', 'schema-and-structured-data-for-wp' ), |
| [92](#L92) | 'tab' => Controls\_Manager::TAB\_CONTENT, |
| [93](#L93) | ] |
| [94](#L94) | ); |
| [95](#L95) |  |
| [96](#L96) | $accepted\_repeater = new Repeater(); |
| [97](#L97) |  |
| [98](#L98) | $accepted\_repeater->add\_control( |
| [99](#L99) | 'text', [ |
| [100](#L100) | 'label' => esc\_html\_\_( 'Text', 'schema-and-structured-data-for-wp' ), |
| [101](#L101) | 'type' => Controls\_Manager::TEXTAREA, |
| [102](#L102) | 'label\_block' => true |
| [103](#L103) | ] |
| [104](#L104) | ); |
| [105](#L105) |  |
| [106](#L106) | $accepted\_repeater->add\_control( |
| [107](#L107) | 'vote', [ |
| [108](#L108) | 'label' => esc\_html\_\_( 'Vote', 'schema-and-structured-data-for-wp' ), |
| [109](#L109) | 'type' => Controls\_Manager::NUMBER, |
| [110](#L110) | 'show\_label' => true |
| [111](#L111) | ] |
| [112](#L112) | ); |
| [113](#L113) | $accepted\_repeater->add\_control( |
| [114](#L114) | 'url', [ |
| [115](#L115) | 'label' => esc\_html\_\_( 'URL', 'schema-and-structured-data-for-wp' ), |
| [116](#L116) | 'type' => Controls\_Manager::URL, |
| [117](#L117) | 'show\_label' => true |
| [118](#L118) | ] |
| [119](#L119) | ); |
| [120](#L120) | $accepted\_repeater->add\_control( |
| [121](#L121) | 'author', [ |
| [122](#L122) | 'label' => esc\_html\_\_( 'Author', 'schema-and-structured-data-for-wp' ), |
| [123](#L123) | 'type' => Controls\_Manager::TEXT, |
| [124](#L124) | 'show\_label' => true |
| [125](#L125) | ] |
| [126](#L126) | ); |
| [127](#L127) | $accepted\_repeater->add\_control( |
| [128](#L128) | 'date', [ |
| [129](#L129) | 'label' => esc\_html\_\_( 'Date Created', 'schema-and-structured-data-for-wp' ), |
| [130](#L130) | 'type' => Controls\_Manager::DATE\_TIME, |
| [131](#L131) | 'show\_label' => true |
| [132](#L132) | ] |
| [133](#L133) | ); |
| [134](#L134) |  |
| [135](#L135) | $this->add\_control( |
| [136](#L136) | 'accepted\_answers', |
| [137](#L137) | [ |
| [138](#L138) | 'label' => esc\_html\_\_( 'Accepted Answers List', 'schema-and-structured-data-for-wp' ), |
| [139](#L139) | 'type' => Controls\_Manager::REPEATER, |
| [140](#L140) | 'fields' => $accepted\_repeater->get\_controls(), |
| [141](#L141) | 'title\_field' => '{{{ text }}}', |
| [142](#L142) | ] |
| [143](#L143) | ); |
| [144](#L144) |  |
| [145](#L145) | $this->end\_controls\_section(); |
| [146](#L146) | //Accepted answers section ends here |
| [147](#L147) |  |
| [148](#L148) | //suggested Ansesers section starts here |
| [149](#L149) | $this->start\_controls\_section( |
| [150](#L150) | 'suggested\_answers\_section', |
| [151](#L151) | [ |
| [152](#L152) | 'label' => esc\_html\_\_( 'Suggested Answers', 'schema-and-structured-data-for-wp' ), |
| [153](#L153) | 'tab' => Controls\_Manager::TAB\_CONTENT, |
| [154](#L154) | ] |
| [155](#L155) | ); |
| [156](#L156) |  |
| [157](#L157) | $suggested\_repeater = new Repeater(); |
| [158](#L158) |  |
| [159](#L159) | $suggested\_repeater->add\_control( |
| [160](#L160) | 'text', [ |
| [161](#L161) | 'label' => esc\_html\_\_( 'Text', 'schema-and-structured-data-for-wp' ), |
| [162](#L162) | 'type' => Controls\_Manager::TEXTAREA, |
| [163](#L163) | 'label\_block' => true |
| [164](#L164) | ] |
| [165](#L165) | ); |
| [166](#L166) |  |
| [167](#L167) | $suggested\_repeater->add\_control( |
| [168](#L168) | 'vote', [ |
| [169](#L169) | 'label' => esc\_html\_\_( 'Vote', 'schema-and-structured-data-for-wp' ), |
| [170](#L170) | 'type' => Controls\_Manager::NUMBER, |
| [171](#L171) | 'show\_label' => true |
| [172](#L172) | ] |
| [173](#L173) | ); |
| [174](#L174) | $suggested\_repeater->add\_control( |
| [175](#L175) | 'url', [ |
| [176](#L176) | 'label' => esc\_html\_\_( 'URL', 'schema-and-structured-data-for-wp' ), |
| [177](#L177) | 'type' => Controls\_Manager::URL, |
| [178](#L178) | 'show\_label' => true |
| [179](#L179) | ] |
| [180](#L180) | ); |
| [181](#L181) | $suggested\_repeater->add\_control( |
| [182](#L182) | 'author', [ |
| [183](#L183) | 'label' => esc\_html\_\_( 'Author', 'schema-and-structured-data-for-wp' ), |
| [184](#L184) | 'type' => Controls\_Manager::TEXT, |
| [185](#L185) | 'show\_label' => true |
| [186](#L186) | ] |
| [187](#L187) | ); |
| [188](#L188) | $suggested\_repeater->add\_control( |
| [189](#L189) | 'date', [ |
| [190](#L190) | 'label' => esc\_html\_\_( 'Date Created', 'schema-and-structured-data-for-wp' ), |
| [191](#L191) | 'type' => Controls\_Manager::DATE\_TIME, |
| [192](#L192) | 'show\_label' => true |
| [193](#L193) | ] |
| [194](#L194) | ); |
| [195](#L195) |  |
| [196](#L196) | $this->add\_control( |
| [197](#L197) | 'suggested\_answers', |
| [198](#L198) | [ |
| [199](#L199) | 'label' => esc\_html\_\_( 'suggested Answers List', 'schema-and-structured-data-for-wp' ), |
| [200](#L200) | 'type' => Controls\_Manager::REPEATER, |
| [201](#L201) | 'fields' => $suggested\_repeater->get\_controls(), |
| [202](#L202) | 'title\_field' => '{{{ text }}}', |
| [203](#L203) | ] |
| [204](#L204) | ); |
| [205](#L205) |  |
| [206](#L206) | $this->end\_controls\_section(); |
| [207](#L207) | //suggested answers section ends here |
| [208](#L208) |  |
| [209](#L209) | } |
| [210](#L210) |  |
| [211](#L211) | protected function render() { |
| [212](#L212) |  |
| [213](#L213) | global $saswp\_elementor\_qanda; |
| [214](#L214) |  |
| [215](#L215) | $attributes            = $this->get\_settings\_for\_display(); |
| [216](#L216) | $saswp\_elementor\_qanda =  $attributes; |
| [217](#L217) | $response              = ''; |
| [218](#L218) | $accepted\_answers      = ''; |
| [219](#L219) | $suggested\_answers     = ''; |
| [220](#L220) | $question              = ''; |
| [221](#L221) | ?> |
| [222](#L222) | <div class="saswp-qanda-block-html"> |
| [223](#L223) | <?php echo '<div class="saswp-qanda-block-question"> |
| [224](#L224) | <h3>'.esc\_html( $attributes['question\_name']).'</h3> |
| [225](#L225) | <span class="saswp-qand-date">'.esc\_html( $attributes['question\_date']).' '. esc\_html\_\_( 'Accepted Answers', 'schema-and-structured-data-for-wp' ).' '.esc\_html( $attributes['question\_author']).'</span> |
| [226](#L226) | <p>'.esc\_html( $attributes['question\_text']).'</p> |
| [227](#L227) | '.esc\_html\_\_( 'Vote', 'schema-and-structured-data-for-wp' ).' <span class="dashicons dashicons-thumbs-up"></span> ('.esc\_html( $attributes['question\_vote']).') |
| [228](#L228) | </div>'; |
| [229](#L229) | ?> |
| [230](#L230) | <div class="saswp-qanda-block-answer"><h3><?php echo esc\_html\_\_( 'Accepted Answers', 'schema-and-structured-data-for-wp' ); ?></h3> |
| [231](#L231) | <?php |
| [232](#L232) | if ( isset( $attributes['accepted\_answers']) && !empty($attributes['accepted\_answers']) ) { |
| [233](#L233) |  |
| [234](#L234) | foreach( $attributes['accepted\_answers'] as $answer){ |
| [235](#L235) |  |
| [236](#L236) | $ans\_url = ''; |
| [237](#L237) | if ( is\_array( $answer) && isset($answer['url']) && isset($answer['url']['url']) ) { |
| [238](#L238) | $ans\_url = $answer['url']['url']; |
| [239](#L239) | } |
| [240](#L240) |  |
| [241](#L241) | echo '<li> |
| [242](#L242) | <a href="'. esc\_url( $ans\_url).'"> |
| [243](#L243) | <p>'.esc\_html( $answer['text']).'</p> |
| [244](#L244) | </a> |
| [245](#L245) | <span class="saswp-qand-date">'.esc\_html( $answer['date']).' '.esc\_html\_\_( 'By', 'schema-and-structured-data-for-wp' ).' <strong>'.esc\_html( $answer['author']).'</strong></span> |
| [246](#L246) | <br> '. esc\_html\_\_( 'Vote', 'schema-and-structured-data-for-wp' ).' <span class="dashicons dashicons-thumbs-up"></span> ('.esc\_html( $answer['vote']).') |
| [247](#L247) | </li>'; |
| [248](#L248) |  |
| [249](#L249) | } |
| [250](#L250) |  |
| [251](#L251) | } |
| [252](#L252) | ?> |
| [253](#L253) | </div> <!-- saswp-qanda-block-answer div end --> |
| [254](#L254) |  |
| [255](#L255) | <div class="saswp-qanda-block-answer"><h3><?php echo esc\_html\_\_( 'Suggested Answers', 'schema-and-structured-data-for-wp' ); ?></h3> |
| [256](#L256) | <?php |
| [257](#L257) | if ( isset( $attributes['suggested\_answers']) && !empty($attributes['suggested\_answers']) ) { |
| [258](#L258) |  |
| [259](#L259) | foreach( $attributes['suggested\_answers'] as $answer){ |
| [260](#L260) |  |
| [261](#L261) | $ans\_url = ''; |
| [262](#L262) | if ( is\_array( $answer) && isset($answer['url']) && isset($answer['url']['url']) ) { |
| [263](#L263) | $ans\_url = $answer['url']['url']; |
| [264](#L264) | } |
| [265](#L265) |  |
| [266](#L266) | echo '<li> |
| [267](#L267) | <a href="'. esc\_url( $ans\_url).'"> |
| [268](#L268) | <p>'.esc\_html( $answer['text']).'</p> |
| [269](#L269) | </a> |
| [270](#L270) | <span class="saswp-qand-date">'.esc\_html( $answer['date']).' '.esc\_html\_\_( 'by', 'schema-and-structured-data-for-wp' ).' <strong>'.esc\_html( $answer['author']).'</strong></span> |
| [271](#L271) | <br> '.esc\_html\_\_( 'vote', 'schema-and-structured-data-for-wp' ).' <span class="dashicons dashicons-thumbs-up"></span> ('.esc\_html( $answer['vote']).') |
| [272](#L272) | </li>'; |
| [273](#L273) | } |
| [274](#L274) |  |
| [275](#L275) | } |
| [276](#L276) | //Escaping has been done above for all below html |
| [277](#L277) | ?> |
| [278](#L278) | </div><!-- saswp-qanda-block-answer div end --> |
| [279](#L279) | </div> <!-- saswp-qanda-block-html div end --> |
| [280](#L280) | <?php |
| [281](#L281) | } |
| [282](#L282) |  |
| [283](#L283) | protected function content\_template() { |
| [284](#L284) | ?> |
| [285](#L285) |  |
| [286](#L286) | <# |
| [287](#L287) |  |
| [288](#L288) | if ( settings.question\_name) { |
| [289](#L289) | #> |
| [290](#L290) | <h3>{{{settings.question\_name}}}</h3> |
| [291](#L291) | <p>{{{settings.question\_text}}}</p> |
| [292](#L292) | <# |
| [293](#L293) |  |
| [294](#L294) | var q\_date = new Date(settings.question\_date); |
| [295](#L295) |  |
| [296](#L296) | if(q\_date.getDate() ) { |
| [297](#L297) | #> |
| [298](#L298) | <span class="saswp-qand-date">{{{q\_date.getDate()}}}-{{{q\_date.getMonth()}}}-{{{q\_date.getFullYear()}}}  {{{q\_date.getHours()}}}:{{{q\_date.getMinutes()}}}:{{{q\_date.getSeconds()}}}</span> |
| [299](#L299) | <# |
| [300](#L300) | } |
| [301](#L301) |  |
| [302](#L302) | if(settings.question\_author){ |
| [303](#L303) | #> |
| [304](#L304) | by <strong>{{{settings.question\_author}}}</strong> |
| [305](#L305) | <# |
| [306](#L306) | } |
| [307](#L307) |  |
| [308](#L308) | if(settings.question\_vote){ |
| [309](#L309) | #> |
| [310](#L310) | <br> Vote <span class="dashicons dashicons-thumbs-up"></span> ({{{ settings.question\_vote }}}) |
| [311](#L311) | <# |
| [312](#L312) | } |
| [313](#L313) |  |
| [314](#L314) | } |
| [315](#L315) | if ( settings.accepted\_answers.length ) { |
| [316](#L316) |  |
| [317](#L317) | #> |
| [318](#L318) | <h3><?php echo esc\_html\_\_( 'Accepted Answers', 'schema-and-structured-data-for-wp' ); ?></h3> |
| [319](#L319) | <ul> |
| [320](#L320) | <# \_.each( settings.accepted\_answers, function( item, index ) { |
| [321](#L321) |  |
| [322](#L322) | var date = new Date( item.date ); |
| [323](#L323) |  |
| [324](#L324) | if(item.text){ |
| [325](#L325) |  |
| [326](#L326) | #> |
| [327](#L327) | <li class="elementor-repeater-item-{{ item.\_id }}"> |
| [328](#L328) | <a href="{{ \_.escape(item.url.url) }}"> |
| [329](#L329) | <p>{{{ item.text }}}</p> |
| [330](#L330) | </a> |
| [331](#L331) | <# |
| [332](#L332) | if(date.getDate() ) { |
| [333](#L333) | #> |
| [334](#L334) | <span class="saswp-qand-date">{{{date.getDate()}}}-{{{date.getMonth()}}}-{{{date.getFullYear()}}}  {{{date.getHours()}}}:{{{date.getMinutes()}}}:{{{date.getSeconds()}}} </span> |
| [335](#L335) | <# |
| [336](#L336) | } |
| [337](#L337) | if(item.author){ |
| [338](#L338) | #> |
| [339](#L339) | by <strong>{{{item.author}}}</strong> |
| [340](#L340) | <# |
| [341](#L341) | } |
| [342](#L342) |  |
| [343](#L343) | if(item.vote){ |
| [344](#L344) | #> |
| [345](#L345) | <br> <?php echo esc\_html\_\_( 'Vote', 'schema-and-structured-data-for-wp' ); ?> <span class="dashicons dashicons-thumbs-up"></span> ({{{ item.vote }}}) |
| [346](#L346) | <# |
| [347](#L347) | } |
| [348](#L348) | #> |
| [349](#L349) |  |
| [350](#L350) | </li> |
| [351](#L351) |  |
| [352](#L352) | <# } }); #> |
| [353](#L353) | </ul> |
| [354](#L354) | <# } #> |
| [355](#L355) |  |
| [356](#L356) | <# if ( settings.suggested\_answers.length ) { |
| [357](#L357) |  |
| [358](#L358) | #> |
| [359](#L359) | <h3><?php echo esc\_html\_\_( 'Suggested Answers', 'schema-and-structured-data-for-wp' ); ?></h3> |
| [360](#L360) | <ul> |
| [361](#L361) | <# \_.each( settings.suggested\_answers, function( item, index ) { |
| [362](#L362) |  |
| [363](#L363) | var date = new Date( item.date ); |
| [364](#L364) |  |
| [365](#L365) | if(item.text){ |
| [366](#L366) |  |
| [367](#L367) | #> |
| [368](#L368) | <li class="elementor-repeater-item-{{ item.\_id }}"> |
| [369](#L369) | <a href="{{ \_.escape(item.url.url) }}"> |
| [370](#L370) | <p>{{{ item.text }}}</p> |
| [371](#L371) | </a> |
| [372](#L372) | <# |
| [373](#L373) | if(date.getDate() ) { |
| [374](#L374) | #> |
| [375](#L375) | <span class="saswp-qand-date">{{{date.getDate()}}}-{{{date.getMonth()}}}-{{{date.getFullYear()}}}  {{{date.getHours()}}}:{{{date.getMinutes()}}}:{{{date.getSeconds()}}} </span> |
| [376](#L376) | <# |
| [377](#L377) | } |
| [378](#L378) | if(item.author){ |
| [379](#L379) | #> |
| [380](#L380) | by <strong>{{{item.author}}}</strong> |
| [381](#L381) | <# |
| [382](#L382) | } |
| [383](#L383) |  |
| [384](#L384) | if(item.vote){ |
| [385](#L385) | #> |
| [386](#L386) | <br> <?php echo esc\_html\_\_( 'Vote', 'schema-and-structured-data-for-wp' ); ?> <span class="dashicons dashicons-thumbs-up"></span> ({{{ item.vote }}}) |
| [387](#L387) | <# |
| [388](#L388) | } |
| [389](#L389) | #> |
| [390](#L390) |  |
| [391](#L391) | </li> |
| [392](#L392) |  |
| [393](#L393) | <# } }); #> |
| [394](#L394) | </ul> |
| [395](#L395) | <# } #> |
| [396](#L396) |  |
| [397](#L397) | <?php |
| [398](#L398) | } |
| [399](#L399) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/schema-and-structured-data-for-wp/trunk/modules/elementor/widgets/class-qanda-block.php?format=txt)
* [Original Format](/export/3220496/schema-and-structured-data-for-wp/trunk/modules/elementor/widgets/class-qanda-block.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from wordpress.org_c02c5bb5_20250111_003809.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

Schema & Structured Data for WP & AMP

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fschema-and-structured-data-for-wp&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fschema-and-structured-data-for-wp&locale=en_US)

Search plugins

![](https://ps.w.org/schema-and-structured-data-for-wp/assets/banner-772x250.png?rev=1929177)
![](https://ps.w.org/schema-and-structured-data-for-wp/assets/icon-256x256.png?rev=1922284)
# Schema & Structured Data for WP & AMP

By [Magazine3](http://structured-data-for-wp.com/)

[Download](https://downloads.wordpress.org/plugin/schema-and-structured-data-for-wp.1.39.zip)

* [Details](https://wordpress.org/plugins/schema-and-structured-data-for-wp/#description)
* [Reviews](https://wordpress.org/plugins/schema-and-structured-data-for-wp/#reviews)
* [Development](https://wordpress.org/plugins/schema-and-structured-data-for-wp/#developers)

[Support](https://wordpress.org/support/plugin/schema-and-structured-data-for-wp/)

## Description

Schema & Structured Data for WP & AMP adds Google Rich Snippets markup according to Schema.org guidelines to structure your site for SEO. (AMP Compatible)

### Features

* **Schema Types**: Currently, We have more than 35 schema types such as Blog Posting, News article, Local Business, Web page, Article, Recipe, Product, and Video Object [view all](https://structured-data-for-wp.com/docs/article/how-many-schema-types-do-we-support/). We are going to add all the schema types in the future. You can request the one you want and we will add it for you!
* **Schema Templates**: Create a predefined set of schema markups and use them in main schema types [learn more](https://structured-data-for-wp.com/docs/article/how-to-use-schema-templates-in-schema-structured-data-for-wp-amp/).
* **Conditional Display Fields**: Meaning you include or exclude any posts, pages, post types, taxonomies and more!
* **Knowlegde Base Support**: Recognize the content based on the organization or a person via data type option.
* **Full AMP Compatiblity**: Supports the AMP for WP and AMP by Automattic plugins.
* **Advanced Settings**: Play with output of schema markup using these options (Defragment, Add in Footer, Pretty Print, MicroData CleanUp etc.)
* **Migration**: Import the data from other schema plugins such as (SEO Pressor, WP SEO Schema, Schema Plugin etc )
* **Compatibility**: Generate the schema markup for the plugins. We have provided schema support for them. Few of them are – kk Star Ratings, WP-PostRatings, bbPress
* **Google Review**: Display your business google reviews and its schema markup on your website.
* **[Premium]** Reviews ( [Fetch](https://structured-data-for-wp.com/reviews-for-schema) reviews from 75+ platforms ).
* **[Premium]** Priority Support. [Get it](https://structured-data-for-wp.com/priority-support/) We get more than 100 technical queries a day but the Priority support plan will help you skip that and get the help from a dedicated team.
* **Review Module**: Create your own review rating box with pros and cons and its schema markup
* **Schema Type Blocks in Gutenberg**: Create your own content with the blocks and json schema markup will be added automatically
* **Unlimited Custom Post Types**: You can control to represent the Rich Snippets data in the google search console using unlimited custom post types.
* **Easy to use** with Minimal Settings
* **Archive Page Listing** Support
* **JSON-LD** Format
* **Easy to use** Setup Wizard
* **Breadcrumbs** Listing Support
* **Comments** Post comments Support
* **Constant Development & New Features**: We’ll be releasing the constant updates along with the more handy features as soon as we get the feedback from the users.

### Supported Schema Types

* Apartment
* House
* SingleFamilyResidence
* Article
* Blogposting
* Book
* Course
* DiscussionForumPosting,
* DataFeed
* HowTo
* NewsArticle
* QAPage
* Review
* Recipe
* TVSeries
* SoftwareApplication
* MobileApplication
* SpecialAnnouncement (Related to Coronavirus)
* TechArticle
* WebPage
* Event
* VideoGame
* JobPosting
* Service
* Trip
* AudioObject
* VideoObject
* MedicalCondition
* MusicPlaylist
* MusicAlbum
* LocalBusiness with all the sub categories
* Product
* ProductGroup
* TouristAttraction
* TouristDestination
* LandmarksOrHistoricalBuildings
* HinduTemple
* Church
* Mosque
* Person
* [View All](https://structured-data-for-wp.com/docs/article/how-many-schema-types-do-we-support/)

### Extensions

Some useful extensions to extend Schema & Structured Data for WP & AMP features, check [Woocommerce Compatibility For Schema](https://structured-data-for-wp.com/extensions/woocommerce-compatibility-for-schema/), [Cooked Compatibility For Schema](https://structured-data-for-wp.com/extensions/cooked-compatibility-for-schema/) and We are going to add more.

### Support

We try our best to provide support on WordPress.org forums. However, We have a special [team support](https://structured-data-for-wp.com/contact-us/) where you can ask us questions and get help. Delivering a good user experience means a lot to us and so we try our best to reply each and every question that gets asked.

### Bug Reports

Bug reports for Schema & Structured Data for WP & AMP are [welcomed on GitHub](https://github.com/ahmedkaludi/schema-and-structured-data-for-wp/issues). Please note GitHub is not a support forum, and issues that aren’t properly qualified as bugs will be closed.

### Credits

* Select2 used https://github.com/select2/select2 – License URI: https://github.com/select2/select2/blob/develop/LICENSE.md,
* Merlin WP used https://github.com/richtabor/MerlinWP – License URI: https://github.com/richtabor/MerlinWP/blob/master/LICENSE,
* jquery-timepicker used https://github.com/jonthornton/jquery-timepicker
* Rate Yo! used https://github.com/prrashi/rateYo – License URI: https://github.com/prrashi/rateYo/commit/f3812fe96c38b08627d209795176053550fb1427
* Aqua Resizer used http://aquagraphite.com – License URI: WTFPL – http://sam.zoy.org/wtfpl/

## Screenshots

* [![](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-1.png?rev=2102249)](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-1.png?rev=2102249)
* [![](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-2.png?rev=2102249)](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-2.png?rev=2102249)
* [![](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-3.png?rev=2102249)](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-3.png?rev=2102249)
* [![](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-4.png?rev=2102249)](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-4.png?rev=2102249)
* [![](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-5.png?rev=2102249)](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-5.png?rev=2102249)
* [![](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-6.png?rev=2102249)](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-6.png?rev=2102249)
* [![](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-7.png?rev=2102249)](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-7.png?rev=2102249)
* [![](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-8.png?rev=2102249)](https://ps.w.org/schema-and-structured-data-for-wp/assets/screenshot-8.png?rev=2102249)

## Blocks

This plugin provides 10 blocks.

* Job (SASWP)
* Event (SASWP)
* Course (SASWP)
* FAQ (SASWP)
* Recipe (SASWP)
* How To (SASWP)
* Location (SASWP)
* Reviews Collections (SASWP)
* Q&A (SASWP)
* Book (SASWP)

## FAQ

### How to install and use this Schema plugin?

After you Active this plugin, just go to Dashboard > Structured data > Settings, and then setup the default settings, after that, just go back to ‘Structured Data’ click on Add New and add any data that you like!

### How do I report bugs and suggest new features?

You can report the bugs for this Schema plugin [here](https://github.com/ahmedkaludi/schema-and-structured-data-for-wp/issues)

### Will you include features to my request?

Yes, Absolutely! We would suggest you send your feature request by creating an issue in [Github](https://github.com/ahmedkaludi/schema-and-structured-data-for-wp/issues/new/) . It helps us organize the feedback easily.

### How do I get in touch?

You can contact us from [here](http://structured-data-for-wp.com/contact-us/)

## Reviews

![](https://secure.gravatar.com/avatar/f9e7cc1a7c6f4154dab8f1928022f8a875ebb3e03a6ec548f5197af487a6bc2c?s=60&d=retro&r=g)
### [Great Support Team](https://wordpress.org/support/topic/great-support-team-191/)

[mitchs21](https://profiles.wordpress.org/mitchs21/ "Posts by mitchs21")
November 18, 2024

Support was able to help me figure out some RealtyPress updates so that my schema would turn out beautifully. Great job!

![](https://secure.gravatar.com/avatar/2c975d780e5ecbf85ea93ba104a5a7c5009a70eba73c3b164965b1607697df04?s=60&d=retro&r=g)
### [I have a problem with knowledge i want to use yoast seo knowledge graph not this](https://wordpress.org/support/topic/i-have-a-problem-with-knowledge-i-want-to-use-yoast-seo-knowledge-graph-not-this/)

[adf12344](https://profiles.wordpress.org/adf12344/ "Posts by adf12344")
October 21, 2024
1 reply

I have a problem with knowledge graph. i want to use yoast seo knowledge graph and want to disable this knowledge graph because yoast seo can show discription but not this let me know how i can do that

![](https://secure.gravatar.com/avatar/6e6d1a2e78da04ad582c1fd68bb8d1bd3ceb86b90aa163a5939ea968a1893544?s=60&d=retro&r=g)
### [Great plugin and easy to use](https://wordpress.org/support/topic/great-plugin-and-easy-to-use-89/)

[harsh](https://profiles.wordpress.org/jadolya/ "Posts by harsh")
October 4, 2024

Quick set up and great support

![](https://secure.gravatar.com/avatar/7e3a8994384f3a9f632aa571ac9f193cc3625efbfa6468db54f58a099b600906?s=60&d=retro&r=g)
### [All recommendations for this plugin.](https://wordpress.org/support/topic/all-recommendations-for-this-plugin/)

[dejanjankovic](https://profiles.wordpress.org/dejanjankovic/ "Posts by dejanjankovic")
May 7, 2024

An honest recommendation for this plugin, along with the support that assisted me.

![](https://secure.gravatar.com/avatar/1f37577e07467d7f7b272088dd17555b828be9f2afe1f6100987863e495baf64?s=60&d=retro&r=g)
### [Great Support and Plugin](https://wordpress.org/support/topic/great-support-and-plugin-141/)

[luc12345](https://profiles.wordpress.org/luc12345/ "Posts by luc12345")
April 27, 2024

This plugin works really well and the customer service is excellent. They respond quickly and have solutions that meet all my needs. I’m very impressed with their professionalism.

![](https://secure.gravatar.com/avatar/a92476bb8faad7a2521d6c7ce43d8d7a5cf214bb223d64cb27c5d757779cbf13?s=60&d=retro&r=g)
### [Álvaro Picho’s review](https://wordpress.org/support/topic/alvaro-pichos-review/)

[Álvaro Pichó](https://profiles.wordpress.org/pichonauta/ "Posts by Álvaro Pichó")
March 14, 2024

After searching several Schema Plugins, I found Schema & Structured Data for WP & AMP. The main thing I was seeking was to introduce custom Schema in WooCommerce Categories to fill it with semantic associations as About & Mentions, very important for me and aligned with what I understand about Semantic Web: to drive machine’s interpretation. I like to do by myself JSON-LD, I’m an always learner and I don’t want to automate all, so this plugin is perfect. But there’s more, with this plugin, Google could see more Products Schema on the ecommerce I work for, I don’t know why… And also more reviews. This has been an unexpected feature I loved much more this plugin. And Plus+++, I ask them for a little feature, I explained it and they did it! So we are facing a great team and kind people.

[Read all 239 reviews](https://wordpress.org/support/plugin/schema-and-structured-data-for-wp/reviews/)
## Contributors & Developers

“Schema & Structured Data for WP & AMP” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/0169ecfdb88b59ca6a2398c92ddfe17b45ce6d06b95296354aee275452d673b9?s=32&d=mm&r=g) [Magazine3](https://profiles.wordpress.org/magazine3/)

“Schema & Structured Data for WP & AMP” has been translated into 3 locales. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/schema-and-structured-data-for-wp/contributors) for their contributions.

[Translate “Schema & Structured Data for WP & AMP” into your language.](https://translate.wordpress.org/projects/wp-plugins/schema-and-structured-data-for-wp)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/schema-and-structured-data-for-wp/), check out the [SVN repository](https://plugins.svn.wordpress.org/schema-and-structured-data-for-wp/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/schema-and-structured-data-for-wp/) by [RSS](https://plugins.trac.wordpress.org/log/schema-and-structured-data-for-wp/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 1.39 (04 December 2024)

* Major Feature: Schema Template Builder #2138
* Feature: Added Genre and Actor fields for TVSeries schema #2207
* Fixed: Tested with new version of wordpress i.e. 6.7v #2209
* Fixed: Fixed issue with FAQ repeater field #2215
* Enhancement: Added some modification in VideoObject schema #2218
* Fixed: PHP translation notices on WordPress 6.7 #2219
* Fixed: PHP Notice releated to comment id #2220
* Enhancement: Added hasCourseInatance attribute for LearnPress plugin compatibility #2224

#### 1.38.1 (06 November 2024)

* Enhancement: Rankmath keyword issue with Category and Tag for WebPage schema #2201
* Enhancement: Primary image size was not reflected properly in Schema #2213

#### 1.38 (02 November 2024)

* Feature: Added ProductGroup Schema Type #2071
* Feature: Added option to show/hide schema markup inside elementor widget #2171
* Enhancement: Fixed issue of correct image in ImageObject schema #2188
* Enhancement: Schema meta fields should not be appeared inside custom fields. #2189
* Feature: Automated the faqs data added manually in classic editor #2193
* Fixed: Code improvement #2194
* Fixed: ACF time picker conflict issue in block editor #2195
* Enhancement: Schema markup shown for the AMP pages showing the same markup as non-AMP #2199
* Enhancement: Rankmath keyword issue with Category and Tag for WebPage schema #2201
* Enhancement: Added FAQ compatibility with Elementor accordian #2202
* Feature: Added Compatibility with wpForo plugin #2204
* Enhancement: Issue with adding a live YouTube video to post #2205
* Feature: Added compatibility with the plugin RealtyPress Premium #2206

#### 1.37 (09 October 2024)

* Fixed: Avatars are disabled still they are being added to the schema markup #2184
* Feature: Added compatibility with Discout Rules plugin #2190
* Fixed: Issue with Taxonomy placement setup #2191
* Fixed: ACF time picker conflict issue in block editor #2195

#### 1.36 (18 September 2024)

* Feature: Added URL Parameter placement to targer URL’s #2117
* Enhancement: Categories text appears in headline fields #2155
* Fixed: Conflict between the DiscussionForumPosting schema placement and the wpForo plugin #2157
* Enhancement: Removed the Article type from webpages schema #2158
* Feature: Added missing field in car schema #2159
* Feature: Jackrabbit compatibility with course and event schema #2163
* Feature: Added compatibility with the WP Job Board Pro plugin #2166
* Fixed: Warnings appearing on user end #2167
* Fixed: Time picker issue with plugin Advanced Custom Fields in the Admin mode #2173
* Feature: Added compatability for ACF CPT with JobPosting schema #2174
* Enhancement: Delete files after importing settings #2176
* Enhancement: Fixed GTIN12 issue with the product schema for variable products #2180
* Fixed: Comments was not appears in Recipes #2182

#### 1.35 (02 August 2024)

* Enhancement: Added new properties in LodgingBusiness > Hotel schema #2105
* Fixed: Feature image size duplicate issue in schema markup #2140
* Fixed: Issue with country field missing in the schema markup while modifying the schema output (Local Business) #2147
* Fixed: A fatal error issue in the latest update of 1.34.2 #2148
* Fixed: FAQ Block not working on Divi Builder #2149
* Fixed: PHP warnings on schema types page #2150
* Fixed: ACF fields are unclickable when the plugin is activated and an error appears in the Console #2152
* Fixed: The ReturnFeesCustomerResponsibility field is missing in the product schema #2153

#### 1.34.2 (18 July 2024)

* Fixed: Error after version 1.34.1 update #2144
* Fixed: Tested with new version of wordpress i.e. 6.6v #2145

#### 1.34.1 (16 July 2024)

* Fixed: Fatal error after recent update #2142

#### 1.34 (16 July 2024)

* Bug: Fixed vulnerability repoted by Wordfence

#### 1.33 (27 June 2024)

* Enhancement: Schema markup is being added to the post types even if set to “Draft” #2118
* Feature: Added an option to enable only custom schema #2121
* Fixed: Warning messages when trying to preview pages after making changes #2126
* Fixed: Warning of Realestate Schema #2127
* Fixed: Conflict issues with WP-Multilang Plugin #2128
* Enhancement: Added an educationalAlignment property to Learning Resource Schema. #2131
* Enhancement: Added Event Schedule repeater property to Event Schema #2133
* Fixed: A warning Undefined array key “saswp\_product\_schema\_rp\_country\_code” #2134

#### 1.32 (01 June 2024)

* Fixed: Fix PHP warning #2111
* Fixed: Line Breaks issue in schema using FAQ block #2112
* Fixed: Mapping issue with ACF Google Map type for VacationalRental Schema type #2113
* Fixed: Issue with comments url in schema #2114
* Feature: Added compatibility with EventPrime #2115
* Fixed: Issue with HotelRoom Schema #2116
* Fixed: Issue with LocalBusiness schema #2120
* Feature: Added compatibility with the plugin Joli FAQ SEO #2122
* Enhancement: Added changes related to Product schema Return Policy #2124

#### 1.31 (29 April 2024)

* Fixed: Warning appearing on the website #2089
* Feature: Added compatibility with dreams.co.uk to fetch reviews #2102
* Feature: Added schema markup compatibility with attachments #2103
* Fixed: PHP warning appearing in extension manager #2104
* Fixed: A  **HTML tag appears on the frontend while using FAQ Block #2106**

#### 1.30 (16 April 2024)

* Fixed: Security vulnerability issues raised by Wordfence

#### 1.29 (29 March 2024)

* Fixed: PHP warning is showing on the user’s end #2080
* Fixed: Conflict issue with Widget Options plugin #2087
* Fixed: Product reviews compatibility issue #2092
* Fixed: Fatal error for collection review #2094
* Fixed: PHP Warning on schema settings Review tab #2095
* Fixed: Test with new version of wordpress i.e. 6.5v #2096
* Fixed: Issue with Import/export option #2098

#### 1.28 (29 Feb 2024)

* Enhancement: Implemented new LearningResource schema type #1789
* Enhancement: Implemented new Vacationrental schema type #2068
* Enhancement: Remove articleBody property from schema markup when it is empty #2070
* Fixed: Resolved problem with DOM after filling data in the product schema #2073
* Fixed: Added field “@id” in itemlist #2074
* Fixed: Ratingbox Warning that appeared after latest update #2079
* Enhacement: Author url is missing in QandA schema #2081
* Fixed: Q&A Schema is not getting enabled and disabled on post page #2082
* Fixed: Custom Schema markup breakage #2083
* Fixed: Review collection PHP error on the user end #2084

#### 1.27 (17 Feb 2024)

* Feature: Added an option to edit/modify star rating box #1930
* Fixed: Shopify Reviews fetching issue #1944
* Feature: Added an option of custom CSS for review collection #2025
* Feature: “@type”:”Course” is Missing fields “hasCourseInstance” & “offers” (Critical Issue – Rich Results Checker) #2042
* Enhancement: Resolved course schema generated errors in rich result test #2057
* Feature: Changed H2 Font Size in FAQ Scheme Code Without Changing SEO Structure #2060
* Enhancement: Resolved warning appearing in the GSC #2064
* Feature: Automated the instructions and ingrediencies from gutenberg list block #2066
* Fixed: Resolved warning appearing on the wp-admin dashboard #2067
* Fixed: Resolved placement issue while adding multiple placements for schema type with and condition #2069
* Feature: Added the custom schema support in WPGraphQL #2072
* Fixed: Users Unable to Edit Publish Date/Time for Schema Type #2075
* Enhancement: Saved reCaptcha details in options table #2077
* Fixed: Security vulnerability issues raised by Wordfence

#### 1.26 (10 Jan 2024)

* Fixed: Event schema automation issues #2058
* Fixed: PHP warnings #2059
* Fixed: Cross Site Scripting (XSS) vulnerability reported by patchstack.com

#### 1.25 (16 Dec 2023)

* Enhancement: Added ‘acceptedAnswer’ and ‘suggestedAnswer’ globally in Q&A schema #1967
* Feature: Added TouristTrip schema type #2023
* Feature: Added “hasCourseInstance” & “offers” properties to Course schema type #2042
* Enhancement: Removed UTM parameters and # from menus url #2047
* Fixed: PHP warnings and errors #2051
* Fixed: PHP 8.1 Fatal Error : Unsupported Operand Types: int + string in Schema Plugin #2052
* Fixed: Conflict with Mobile Menu premium plugin #2053
* Enhancement: Added returnShippingFeesAmount property for product schema #2054

All changelog available on [GitHub](https://github.com/ahmedkaludi/schema-and-structured-data-for-wp/releases).

## Meta

* Version **1.39**
* Last updated **1 month ago**
* Active installations **100,000+**
* WordPress version **4.5 or higher**
* Tested up to **6.7.1**
* PHP version **5.6.20 or higher**
* Languages
  See all 4

  Close

  [Chinese (Taiwan)](https://tw.wordpress.org/plugins/schema-and-structured-data-for-wp/), [Dutch](https://nl.wordpress.org/plugins/schema-and-structured-data-for-wp/), [English (US)](https://wordpress.org/plugins/schema-and-structured-data-for-wp/), and [French (France)](https://fr.wordpress.org/plugins/schema-and-structured-data-for-wp/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/schema-and-structured-data-for-wp)
* Tags [amp](https://wordpress.org/plugins/tags/amp/)[rich snippets](https://wordpress.org/plugins/tags/rich-snippets/)[schema](https://wordpress.org/plugins/tags/schema/)[seo](https://wordpress.org/plugins/tags/seo/)[structured data](https://wordpress.org/plugins/tags/structured-data/)
* [Advanced View](https://wordpress.org/plugins/schema-and-structured-data-for-wp/advanced/)

## Ratings

4.6 out of 5 stars.

* [206 5-star reviews
  5 stars

  206](https://wordpress.org/support/plugin/schema-and-structured-data-for-wp/reviews/?filter=5)
* [10 4-star reviews
  4 stars

  10](https://wordpress.org/support/plugin/schema-and-structured-data-for-wp/reviews/?filter=4)
* [3 3-star reviews
  3 stars

  3](https://wordpress.org/support/plugin/schema-and-structured-data-for-wp/reviews/?filter=3)
* [2 2-star reviews
  2 stars

  2](https://wordpress.org/support/plugin/schema-and-structured-data-for-wp/reviews/?filter=2)
* [18 1-star reviews
  1 star

  18](https://wordpress.org/support/plugin/schema-and-structured-data-for-wp/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/schema-and-structured-data-for-wp/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/schema-and-structured-data-for-wp/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/0169ecfdb88b59ca6a2398c92ddfe17b45ce6d06b95296354aee275452d673b9?s=32&d=mm&r=g) [Magazine3](https://profiles.wordpress.org/magazine3/)
## Support

Issues resolved in last two months:

5 out of 10

[View support forum](https://wordpress.org/support/plugin/schema-and-structured-data-for-wp/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_f8b5fb2e_20250111_003803.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fschema-and-structured-data-for-wp%2Ftags%2F1.31%2Fmodules%2Felementor%2Fwidgets%2Fqanda-block.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/schema-and-structured-data-for-wp/tags/1.31/modules/elementor/widgets/qanda-block.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/schema-and-structured-data-for-wp/tags/1.31/modules/elementor/widgets/qanda-block.php)

---

# [source:](/browser?order=name "Go to repository root") [schema-and-structured-data-for-wp](/browser/schema-and-structured-data-for-wp?order=name "View schema-and-structured-data-for-wp")/[tags](/browser/schema-and-structured-data-for-wp/tags?order=name "View tags")/[1.31](/browser/schema-and-structured-data-for-wp/tags/1.31?order=name "View 1.31")/[modules](/browser/schema-and-structured-data-for-wp/tags/1.31/modules?order=name "View modules")/[elementor](/browser/schema-and-structured-data-for-wp/tags/1.31/modules/elementor?order=name "View elementor")/[widgets](/browser/schema-and-structured-data-for-wp/tags/1.31/modules/elementor/widgets?order=name "View widgets")/[qanda-block.php](/browser/schema-and-structured-data-for-wp/tags/1.31/modules/elementor/widgets/qanda-block.php?order=name "View qanda-block.php")

View diff against:

View revision:

| [Last change](/changeset/3078623/schema-and-structured-data-for-wp/tags/1.31/modules/elementor/widgets/qanda-block.php "View differences") on this file was [3078623](/changeset/3078623/ "View changeset 3078623"), checked in by magazine3, [9 months ago](/timeline?from=2024-04-29T11%3A18%3A14Z&precision=second "See timeline at 04/29/2024 11:18:14 AM") |
| --- |
| Released version 1.31 |
| **File size:** 12.1 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | namespace SASWPElementorModule\Widgets; |
| [3](#L3) |  |
| [4](#L4) | use Elementor\Repeater; |
| [5](#L5) | use Elementor\Widget\_Base; |
| [6](#L6) | use Elementor\Controls\_Manager; |
| [7](#L7) |  |
| [8](#L8) | if ( ! defined( 'ABSPATH' ) ) exit; // Exit if accessed directly |
| [9](#L9) |  |
| [10](#L10) |  |
| [11](#L11) | class Qanda\_Block extends Widget\_Base { |
| [12](#L12) |  |
| [13](#L13) | public function get\_name() { |
| [14](#L14) | return 'saswp-qanda-block'; |
| [15](#L15) | } |
| [16](#L16) |  |
| [17](#L17) | public function get\_title() { |
| [18](#L18) | return \_\_( 'Q&A Block', 'elementor' ); |
| [19](#L19) | } |
| [20](#L20) | public function get\_keywords() { |
| [21](#L21) | return [ 'Q&A', 'Q&A schema','qanda schema', 'schema', 'structured data' ]; |
| [22](#L22) | } |
| [23](#L23) | public function get\_icon() { |
| [24](#L24) | return 'eicon-text'; |
| [25](#L25) | } |
| [26](#L26) |  |
| [27](#L27) | protected function register\_controls() { |
| [28](#L28) |  |
| [29](#L29) | //Question section starts here |
| [30](#L30) |  |
| [31](#L31) | $this->start\_controls\_section( |
| [32](#L32) | 'question\_section', |
| [33](#L33) | [ |
| [34](#L34) | 'label' => \_\_( 'Question', 'schema-and-structured-data-for-wp' ), |
| [35](#L35) | 'tab' => Controls\_Manager::TAB\_CONTENT, |
| [36](#L36) | ] |
| [37](#L37) | ); |
| [38](#L38) |  |
| [39](#L39) | $this->add\_control( |
| [40](#L40) | 'question\_name', |
| [41](#L41) | [ |
| [42](#L42) | 'label'            => \_\_( 'Name', 'schema-and-structured-data-for-wp' ), |
| [43](#L43) | 'type'             =>   Controls\_Manager::TEXT, |
| [44](#L44) | 'placeholder'      =>  \_\_( 'Enter Question Name', 'schema-and-structured-data-for-wp' ), |
| [45](#L45) | ] |
| [46](#L46) | ); |
| [47](#L47) |  |
| [48](#L48) | $this->add\_control( |
| [49](#L49) | 'question\_text', |
| [50](#L50) | [ |
| [51](#L51) | 'label'            => \_\_( 'Text', 'schema-and-structured-data-for-wp' ), |
| [52](#L52) | 'type'             =>   Controls\_Manager::TEXTAREA, |
| [53](#L53) | 'placeholder'      =>  \_\_( 'Enter Question Description', 'schema-and-structured-data-for-wp' ), |
| [54](#L54) | ] |
| [55](#L55) | ); |
| [56](#L56) |  |
| [57](#L57) | $this->add\_control( |
| [58](#L58) | 'question\_vote', |
| [59](#L59) | [ |
| [60](#L60) | 'label'            => \_\_( 'Vote', 'schema-and-structured-data-for-wp' ), |
| [61](#L61) | 'type'             =>   Controls\_Manager::NUMBER, |
| [62](#L62) | ] |
| [63](#L63) | ); |
| [64](#L64) |  |
| [65](#L65) | $this->add\_control( |
| [66](#L66) | 'question\_author', |
| [67](#L67) | [ |
| [68](#L68) | 'label'            => \_\_( 'Author', 'schema-and-structured-data-for-wp' ), |
| [69](#L69) | 'type'             =>   Controls\_Manager::TEXT, |
| [70](#L70) | 'placeholder'      =>  \_\_( 'Enter author name', 'schema-and-structured-data-for-wp' ), |
| [71](#L71) | ] |
| [72](#L72) | ); |
| [73](#L73) |  |
| [74](#L74) | $this->add\_control( |
| [75](#L75) | 'question\_date', |
| [76](#L76) | [ |
| [77](#L77) | 'label'            => \_\_( 'Date', 'schema-and-structured-data-for-wp' ), |
| [78](#L78) | 'type'             =>   Controls\_Manager::DATE\_TIME, |
| [79](#L79) | ] |
| [80](#L80) | ); |
| [81](#L81) |  |
| [82](#L82) | $this->end\_controls\_section(); |
| [83](#L83) |  |
| [84](#L84) |  |
| [85](#L85) | //Question section ends here |
| [86](#L86) |  |
| [87](#L87) | //Accepted Ansesers section starts here |
| [88](#L88) | $this->start\_controls\_section( |
| [89](#L89) | 'accepted\_answers\_section', |
| [90](#L90) | [ |
| [91](#L91) | 'label' => \_\_( 'Accepted Answers', 'schema-and-structured-data-for-wp' ), |
| [92](#L92) | 'tab' => Controls\_Manager::TAB\_CONTENT, |
| [93](#L93) | ] |
| [94](#L94) | ); |
| [95](#L95) |  |
| [96](#L96) | $accepted\_repeater = new Repeater(); |
| [97](#L97) |  |
| [98](#L98) | $accepted\_repeater->add\_control( |
| [99](#L99) | 'text', [ |
| [100](#L100) | 'label' => \_\_( 'Text', 'schema-and-structured-data-for-wp' ), |
| [101](#L101) | 'type' => Controls\_Manager::TEXTAREA, |
| [102](#L102) | 'label\_block' => true |
| [103](#L103) | ] |
| [104](#L104) | ); |
| [105](#L105) |  |
| [106](#L106) | $accepted\_repeater->add\_control( |
| [107](#L107) | 'vote', [ |
| [108](#L108) | 'label' => \_\_( 'Vote', 'schema-and-structured-data-for-wp' ), |
| [109](#L109) | 'type' => Controls\_Manager::NUMBER, |
| [110](#L110) | 'show\_label' => true |
| [111](#L111) | ] |
| [112](#L112) | ); |
| [113](#L113) | $accepted\_repeater->add\_control( |
| [114](#L114) | 'url', [ |
| [115](#L115) | 'label' => \_\_( 'URL', 'schema-and-structured-data-for-wp' ), |
| [116](#L116) | 'type' => Controls\_Manager::TEXT, |
| [117](#L117) | 'show\_label' => true |
| [118](#L118) | ] |
| [119](#L119) | ); |
| [120](#L120) | $accepted\_repeater->add\_control( |
| [121](#L121) | 'author', [ |
| [122](#L122) | 'label' => \_\_( 'Author', 'schema-and-structured-data-for-wp' ), |
| [123](#L123) | 'type' => Controls\_Manager::TEXT, |
| [124](#L124) | 'show\_label' => true |
| [125](#L125) | ] |
| [126](#L126) | ); |
| [127](#L127) | $accepted\_repeater->add\_control( |
| [128](#L128) | 'date', [ |
| [129](#L129) | 'label' => \_\_( 'Date Created', 'schema-and-structured-data-for-wp' ), |
| [130](#L130) | 'type' => Controls\_Manager::DATE\_TIME, |
| [131](#L131) | 'show\_label' => true |
| [132](#L132) | ] |
| [133](#L133) | ); |
| [134](#L134) |  |
| [135](#L135) | $this->add\_control( |
| [136](#L136) | 'accepted\_answers', |
| [137](#L137) | [ |
| [138](#L138) | 'label' => \_\_( 'Accepted Answers List', 'schema-and-structured-data-for-wp' ), |
| [139](#L139) | 'type' => Controls\_Manager::REPEATER, |
| [140](#L140) | 'fields' => $accepted\_repeater->get\_controls(), |
| [141](#L141) | 'title\_field' => '{{{ text }}}', |
| [142](#L142) | ] |
| [143](#L143) | ); |
| [144](#L144) |  |
| [145](#L145) | $this->end\_controls\_section(); |
| [146](#L146) | //Accepted answers section ends here |
| [147](#L147) |  |
| [148](#L148) | //suggested Ansesers section starts here |
| [149](#L149) | $this->start\_controls\_section( |
| [150](#L150) | 'suggested\_answers\_section', |
| [151](#L151) | [ |
| [152](#L152) | 'label' => \_\_( 'Suggested Answers', 'schema-and-structured-data-for-wp' ), |
| [153](#L153) | 'tab' => Controls\_Manager::TAB\_CONTENT, |
| [154](#L154) | ] |
| [155](#L155) | ); |
| [156](#L156) |  |
| [157](#L157) | $suggested\_repeater = new Repeater(); |
| [158](#L158) |  |
| [159](#L159) | $suggested\_repeater->add\_control( |
| [160](#L160) | 'text', [ |
| [161](#L161) | 'label' => \_\_( 'Text', 'schema-and-structured-data-for-wp' ), |
| [162](#L162) | 'type' => Controls\_Manager::TEXTAREA, |
| [163](#L163) | 'label\_block' => true |
| [164](#L164) | ] |
| [165](#L165) | ); |
| [166](#L166) |  |
| [167](#L167) | $suggested\_repeater->add\_control( |
| [168](#L168) | 'vote', [ |
| [169](#L169) | 'label' => \_\_( 'Vote', 'schema-and-structured-data-for-wp' ), |
| [170](#L170) | 'type' => Controls\_Manager::NUMBER, |
| [171](#L171) | 'show\_label' => true |
| [172](#L172) | ] |
| [173](#L173) | ); |
| [174](#L174) | $suggested\_repeater->add\_control( |
| [175](#L175) | 'url', [ |
| [176](#L176) | 'label' => \_\_( 'URL', 'schema-and-structured-data-for-wp' ), |
| [177](#L177) | 'type' => Controls\_Manager::TEXT, |
| [178](#L178) | 'show\_label' => true |
| [179](#L179) | ] |
| [180](#L180) | ); |
| [181](#L181) | $suggested\_repeater->add\_control( |
| [182](#L182) | 'author', [ |
| [183](#L183) | 'label' => \_\_( 'Author', 'schema-and-structured-data-for-wp' ), |
| [184](#L184) | 'type' => Controls\_Manager::TEXT, |
| [185](#L185) | 'show\_label' => true |
| [186](#L186) | ] |
| [187](#L187) | ); |
| [188](#L188) | $suggested\_repeater->add\_control( |
| [189](#L189) | 'date', [ |
| [190](#L190) | 'label' => \_\_( 'Date Created', 'schema-and-structured-data-for-wp' ), |
| [191](#L191) | 'type' => Controls\_Manager::DATE\_TIME, |
| [192](#L192) | 'show\_label' => true |
| [193](#L193) | ] |
| [194](#L194) | ); |
| [195](#L195) |  |
| [196](#L196) | $this->add\_control( |
| [197](#L197) | 'suggested\_answers', |
| [198](#L198) | [ |
| [199](#L199) | 'label' => \_\_( 'suggested Answers List', 'schema-and-structured-data-for-wp' ), |
| [200](#L200) | 'type' => Controls\_Manager::REPEATER, |
| [201](#L201) | 'fields' => $suggested\_repeater->get\_controls(), |
| [202](#L202) | 'title\_field' => '{{{ text }}}', |
| [203](#L203) | ] |
| [204](#L204) | ); |
| [205](#L205) |  |
| [206](#L206) | $this->end\_controls\_section(); |
| [207](#L207) | //suggested answers section ends here |
| [208](#L208) |  |
| [209](#L209) | } |
| [210](#L210) |  |
| [211](#L211) | protected function render() { |
| [212](#L212) |  |
| [213](#L213) | global $saswp\_elementor\_qanda; |
| [214](#L214) |  |
| [215](#L215) | $attributes            = $this->get\_settings\_for\_display(); |
| [216](#L216) | $saswp\_elementor\_qanda =  $attributes; |
| [217](#L217) | $response              = ''; |
| [218](#L218) | $accepted\_answers      = ''; |
| [219](#L219) | $suggested\_answers     = ''; |
| [220](#L220) | $question              = ''; |
| [221](#L221) |  |
| [222](#L222) | $question  = '<div class="saswp-qanda-block-question"> |
| [223](#L223) | <h3>'.esc\_html($attributes['question\_name']).'</h3> |
| [224](#L224) | <span class="saswp-qand-date">'.esc\_html($attributes['question\_date']).' '. \_\_( 'Accepted Answers', 'schema-and-structured-data-for-wp' ).' '.esc\_html($attributes['question\_author']).'</span> |
| [225](#L225) | <p>'.esc\_html($attributes['question\_text']).'</p> |
| [226](#L226) | '.\_\_( 'Vote', 'schema-and-structured-data-for-wp' ).' <span class="dashicons dashicons-thumbs-up"></span> ('.esc\_html($attributes['question\_vote']).') |
| [227](#L227) | </div>'; |
| [228](#L228) |  |
| [229](#L229) | if(isset($attributes['accepted\_answers']) && !empty($attributes['accepted\_answers'])){ |
| [230](#L230) |  |
| [231](#L231) | foreach($attributes['accepted\_answers'] as $answer){ |
| [232](#L232) |  |
| [233](#L233) | $accepted\_answers .= '<li> |
| [234](#L234) | <a href="'.esc\_url($answer['url']).'"> |
| [235](#L235) | <p>'.esc\_html($answer['text']).'</p> |
| [236](#L236) | </a> |
| [237](#L237) | <span class="saswp-qand-date">'.esc\_html($answer['date']).' '.\_\_( 'By', 'schema-and-structured-data-for-wp' ).' <strong>'.esc\_html($answer['author']).'</strong></span> |
| [238](#L238) | <br> '. \_\_( 'Vote', 'schema-and-structured-data-for-wp' ).' <span class="dashicons dashicons-thumbs-up"></span> ('.esc\_html($answer['vote']).') |
| [239](#L239) | </li>'; |
| [240](#L240) |  |
| [241](#L241) | } |
| [242](#L242) |  |
| [243](#L243) | } |
| [244](#L244) |  |
| [245](#L245) | if(isset($attributes['suggested\_answers']) && !empty($attributes['suggested\_answers'])){ |
| [246](#L246) |  |
| [247](#L247) | foreach($attributes['suggested\_answers'] as $answer){ |
| [248](#L248) |  |
| [249](#L249) | $suggested\_answers .= '<li> |
| [250](#L250) | <a href="'.esc\_url($answer['url']).'"> |
| [251](#L251) | <p>'.esc\_html($answer['text']).'</p> |
| [252](#L252) | </a> |
| [253](#L253) | <span class="saswp-qand-date">'.esc\_html($answer['date']).' '.\_\_( 'by', 'schema-and-structured-data-for-wp' ).' <strong>'.esc\_html($answer['author']).'</strong></span> |
| [254](#L254) | <br> '.\_\_( 'vote', 'schema-and-structured-data-for-wp' ).' <span class="dashicons dashicons-thumbs-up"></span> ('.esc\_html($answer['vote']).') |
| [255](#L255) | </li>'; |
| [256](#L256) | } |
| [257](#L257) |  |
| [258](#L258) | } |
| [259](#L259) | //Escaping has been done above for all below html |
| [260](#L260) | $response = '<div class="saswp-qanda-block-html"> |
| [261](#L261) | '.$question.' |
| [262](#L262) | <div class="saswp-qanda-block-answer"><h3>'.\_\_( 'Accepted Answers', 'schema-and-structured-data-for-wp' ).'</h3>'.$accepted\_answers.'</div> |
| [263](#L263) | <div class="saswp-qanda-block-answer"><h3>'.\_\_( 'Suggested Answers', 'schema-and-structured-data-for-wp' ).'</h3>'.$suggested\_answers.'</div> |
| [264](#L264) | </div>'; |
| [265](#L265) |  |
| [266](#L266) | echo $response; |
| [267](#L267) | } |
| [268](#L268) |  |
| [269](#L269) | protected function content\_template() { |
| [270](#L270) | ?> |
| [271](#L271) |  |
| [272](#L272) | <# |
| [273](#L273) |  |
| [274](#L274) | if ( settings.question\_name) { |
| [275](#L275) | #> |
| [276](#L276) | <h3>{{{settings.question\_name}}}</h3> |
| [277](#L277) | <p>{{{settings.question\_text}}}</p> |
| [278](#L278) | <# |
| [279](#L279) |  |
| [280](#L280) | var q\_date = new Date(settings.question\_date); |
| [281](#L281) |  |
| [282](#L282) | if(q\_date.getDate()){ |
| [283](#L283) | #> |
| [284](#L284) | <span class="saswp-qand-date">{{{q\_date.getDate()}}}-{{{q\_date.getMonth()}}}-{{{q\_date.getFullYear()}}}  {{{q\_date.getHours()}}}:{{{q\_date.getMinutes()}}}:{{{q\_date.getSeconds()}}}</span> |
| [285](#L285) | <# |
| [286](#L286) | } |
| [287](#L287) |  |
| [288](#L288) | if(settings.question\_author){ |
| [289](#L289) | #> |
| [290](#L290) | by <strong>{{{settings.question\_author}}}</strong> |
| [291](#L291) | <# |
| [292](#L292) | } |
| [293](#L293) |  |
| [294](#L294) | if(settings.question\_vote){ |
| [295](#L295) | #> |
| [296](#L296) | <br> Vote <span class="dashicons dashicons-thumbs-up"></span> ({{{ settings.question\_vote }}}) |
| [297](#L297) | <# |
| [298](#L298) | } |
| [299](#L299) |  |
| [300](#L300) | } |
| [301](#L301) | if ( settings.accepted\_answers.length ) { |
| [302](#L302) |  |
| [303](#L303) | #> |
| [304](#L304) | <h3><?php echo \_\_( 'Accepted Answers', 'schema-and-structured-data-for-wp' ); ?></h3> |
| [305](#L305) | <ul> |
| [306](#L306) | <# \_.each( settings.accepted\_answers, function( item, index ) { |
| [307](#L307) |  |
| [308](#L308) | var date = new Date( item.date ); |
| [309](#L309) |  |
| [310](#L310) | if(item.text){ |
| [311](#L311) |  |
| [312](#L312) | #> |
| [313](#L313) | <li class="elementor-repeater-item-{{ item.\_id }}"> |
| [314](#L314) | <a href="{{ item.url }}"> |
| [315](#L315) | <p>{{{ item.text }}}</p> |
| [316](#L316) | </a> |
| [317](#L317) | <# |
| [318](#L318) | if(date.getDate()){ |
| [319](#L319) | #> |
| [320](#L320) | <span class="saswp-qand-date">{{{date.getDate()}}}-{{{date.getMonth()}}}-{{{date.getFullYear()}}}  {{{date.getHours()}}}:{{{date.getMinutes()}}}:{{{date.getSeconds()}}} </span> |
| [321](#L321) | <# |
| [322](#L322) | } |
| [323](#L323) | if(item.author){ |
| [324](#L324) | #> |
| [325](#L325) | by <strong>{{{item.author}}}</strong> |
| [326](#L326) | <# |
| [327](#L327) | } |
| [328](#L328) |  |
| [329](#L329) | if(item.vote){ |
| [330](#L330) | #> |
| [331](#L331) | <br> <?php echo \_\_( 'Vote', 'schema-and-structured-data-for-wp' ); ?> <span class="dashicons dashicons-thumbs-up"></span> ({{{ item.vote }}}) |
| [332](#L332) | <# |
| [333](#L333) | } |
| [334](#L334) | #> |
| [335](#L335) |  |
| [336](#L336) | </li> |
| [337](#L337) |  |
| [338](#L338) | <# } }); #> |
| [339](#L339) | </ul> |
| [340](#L340) | <# } #> |
| [341](#L341) |  |
| [342](#L342) | <# if ( settings.suggested\_answers.length ) { |
| [343](#L343) |  |
| [344](#L344) | #> |
| [345](#L345) | <h3><?php echo \_\_( 'Suggested Answers', 'schema-and-structured-data-for-wp' ); ?></h3> |
| [346](#L346) | <ul> |
| [347](#L347) | <# \_.each( settings.suggested\_answers, function( item, index ) { |
| [348](#L348) |  |
| [349](#L349) | var date = new Date( item.date ); |
| [350](#L350) |  |
| [351](#L351) | if(item.text){ |
| [352](#L352) |  |
| [353](#L353) | #> |
| [354](#L354) | <li class="elementor-repeater-item-{{ item.\_id }}"> |
| [355](#L355) | <a href="{{ item.url }}"> |
| [356](#L356) | <p>{{{ item.text }}}</p> |
| [357](#L357) | </a> |
| [358](#L358) | <# |
| [359](#L359) | if(date.getDate()){ |
| [360](#L360) | #> |
| [361](#L361) | <span class="saswp-qand-date">{{{date.getDate()}}}-{{{date.getMonth()}}}-{{{date.getFullYear()}}}  {{{date.getHours()}}}:{{{date.getMinutes()}}}:{{{date.getSeconds()}}} </span> |
| [362](#L362) | <# |
| [363](#L363) | } |
| [364](#L364) | if(item.author){ |
| [365](#L365) | #> |
| [366](#L366) | by <strong>{{{item.author}}}</strong> |
| [367](#L367) | <# |
| [368](#L368) | } |
| [369](#L369) |  |
| [370](#L370) | if(item.vote){ |
| [371](#L371) | #> |
| [372](#L372) | <br> <?php echo \_\_( 'Vote', 'schema-and-structured-data-for-wp' ); ?> <span class="dashicons dashicons-thumbs-up"></span> ({{{ item.vote }}}) |
| [373](#L373) | <# |
| [374](#L374) | } |
| [375](#L375) | #> |
| [376](#L376) |  |
| [377](#L377) | </li> |
| [378](#L378) |  |
| [379](#L379) | <# } }); #> |
| [380](#L380) | </ul> |
| [381](#L381) | <# } #> |
| [382](#L382) |  |
| [383](#L383) | <?php |
| [384](#L384) | } |
| [385](#L385) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/schema-and-structured-data-for-wp/tags/1.31/modules/elementor/widgets/qanda-block.php?format=txt)
* [Original Format](/export/3220496/schema-and-structured-data-for-wp/tags/1.31/modules/elementor/widgets/qanda-block.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_0f519c14_20250111_003810.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Schema & Structured Data for WP & AMP <= 1.33 - Authenticated (Contributor+) Stored Cross-Site Scripting via url Attribute

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Schema & Structured Data for WP & AMP <= 1.33 - Authenticated (Contributor+) Stored Cross-Site Scripting via url Attribute

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-5582](https://www.cve.org/CVERecord?id=CVE-2024-5582) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | July 16, 2024 |
| Last Updated | July 17, 2024 |
| Researcher | [wesley (wcraft)](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/wesley-jhon) |

### Description

The Schema & Structured Data for WP & AMP plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the plugin's 'url' attribute within the Q&A Block widget in all versions up to, and including, 1.33 due to insufficient input sanitization and output escaping on user supplied attributes. This makes it possible for authenticated attackers, with contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/schema-and-structured-data-for-wp/tags/1.31/modules/elementor/widgets/qanda-block.php#L355)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/schema-and-structured-data-for-wp/trunk/modules/elementor/widgets/class-qanda-block.php#L369)
* [wordpress.org](https://wordpress.org/plugins/schema-and-structured-data-for-wp/#developers)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fschema-and-structured-data-for-wp%2Fschema-structured-data-for-wp-amp-133-authenticated-contributor-stored-cross-site-scripting-via-url-attribute&t=Schema%20%26%20Structured%20Data%20for%20WP%20%26%20AMP%20%3C%3D%201.33%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20url%20Attribute "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fschema-and-structured-data-for-wp%2Fschema-structured-data-for-wp-amp-133-authenticated-contributor-stored-cross-site-scripting-via-url-attribute&text=Schema%20%26%20Structured%20Data%20for%20WP%20%26%20AMP%20%3C%3D%201.33%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20url%20Attribute "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fschema-and-structured-data-for-wp%2Fschema-structured-data-for-wp-amp-133-authenticated-contributor-stored-cross-site-scripting-via-url-attribute "LinkedIn")
Email

## Vulnerability Details for Schema & Structured Data for WP & AMP

#### [Schema & Structured Data for WP & AMP](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/schema-and-structured-data-for-wp)

| Software Type | Plugin |
| --- | --- |
| Software Slug | schema-and-structured-data-for-wp [(view on wordpress.org)](https://wordpress.org/plugins/schema-and-structured-data-for-wp) |
| Patched? | Yes |
| Remediation | Update to version 1.34.1, or a newer patched version |
| Affected Version | * <= 1.33 |
| Patched Version | * 1.34.1 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation


