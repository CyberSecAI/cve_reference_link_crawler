

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Juergen Gross <jgross@suse.com> | 2021-01-20 14:55:45 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-25 16:19:05 +0200 |
| commit | [1424ab4bb386df9cc590c73afa55f13e9b00dea2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)) | |
| tree | [a7f4f9319865a2aff94b37f47e3c2295539cee09](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | |
| parent | [8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2&id2=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)) | |
| download | [linux-1424ab4bb386df9cc590c73afa55f13e9b00dea2.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1424ab4bb386df9cc590c73afa55f13e9b00dea2.tar.gz) | |

x86/xen: Drop USERGS\_SYSRET64 paravirt callcommit afd30525a659ac0ae0904f0cb4a2ca75522c3123 upstream.
USERGS\_SYSRET64 is used to return from a syscall via SYSRET, but
a Xen PV guest will nevertheless use the IRET hypercall, as there
is no sysret PV hypercall defined.
So instead of testing all the prerequisites for doing a sysret and
then mangling the stack for Xen PV again for doing an iret just use
the iret exit from the beginning.
This can easily be done via an ALTERNATIVE like it is done for the
sysenter compat case already.
It should be noted that this drops the optimization in Xen for not
restoring a few registers when returning to user mode, but it seems
as if the saved instructions in the kernel more than compensate for
this drop (a kernel build in a Xen PV guest was slightly faster with
this patch applied).
While at it remove the stale sysret32 remnants.
[ pawan: Brad Spengler and Salvatore Bonaccorso <carnil@debian.org>
reported a problem with the 5.10 backport commit edc702b4a820
("x86/entry\_64: Add VERW just before userspace transition").
When CONFIG\_PARAVIRT\_XXL=y, CLEAR\_CPU\_BUFFERS is not executed in
syscall\_return\_via\_sysret path as USERGS\_SYSRET64 is runtime
patched to:
.cpu\_usergs\_sysret64 = { 0x0f, 0x01, 0xf8,
0x48, 0x0f, 0x07 }, // swapgs; sysretq
which is missing CLEAR\_CPU\_BUFFERS. It turns out dropping
USERGS\_SYSRET64 simplifies the code, allowing CLEAR\_CPU\_BUFFERS
to be explicitly added to syscall\_return\_via\_sysret path. Below
is with CONFIG\_PARAVIRT\_XXL=y and this patch applied:
syscall\_return\_via\_sysret:
...
<+342>: swapgs
<+345>: xchg %ax,%ax
<+347>: verw -0x1a2(%rip) <------
<+354>: sysretq
]
Signed-off-by: Juergen Gross <jgross@suse.com>
Signed-off-by: Borislav Petkov <bp@suse.de>
Signed-off-by: Pawan Gupta <pawan.kumar.gupta@linux.intel.com>
Link: [https://lkml.kernel.org/r/20210120135555.32594-6-jgross@suse.com](https://lkml.kernel.org/r/20210120135555.32594-6-jgross%40suse.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)

| -rw-r--r-- | [arch/x86/entry/entry\_64.S](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/x86/entry/entry_64.S?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | 17 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [arch/x86/include/asm/irqflags.h](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/x86/include/asm/irqflags.h?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | 7 | |  |  |  | | --- | --- | --- | |
| -rw-r--r-- | [arch/x86/include/asm/paravirt.h](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/x86/include/asm/paravirt.h?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | 5 | |  |  |  | | --- | --- | --- | |
| -rw-r--r-- | [arch/x86/include/asm/paravirt\_types.h](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/x86/include/asm/paravirt_types.h?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | 8 | |  |  |  | | --- | --- | --- | |
| -rw-r--r-- | [arch/x86/kernel/asm-offsets\_64.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/x86/kernel/asm-offsets_64.c?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | 2 | |  |  |  | | --- | --- | --- | |
| -rw-r--r-- | [arch/x86/kernel/paravirt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/x86/kernel/paravirt.c?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | 5 | |  |  |  | | --- | --- | --- | |
| -rw-r--r-- | [arch/x86/kernel/paravirt\_patch.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/x86/kernel/paravirt_patch.c?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | 4 | |  |  |  | | --- | --- | --- | |
| -rw-r--r-- | [arch/x86/xen/enlighten\_pv.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/x86/xen/enlighten_pv.c?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | 1 | |  |  |  | | --- | --- | --- | |
| -rw-r--r-- | [arch/x86/xen/xen-asm.S](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/x86/xen/xen-asm.S?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | 21 | |  |  |  | | --- | --- | --- | |
| -rw-r--r-- | [arch/x86/xen/xen-ops.h](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/x86/xen/xen-ops.h?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2) | 2 | |  |  |  | | --- | --- | --- | |

10 files changed, 9 insertions, 63 deletions

| diff --git a/arch/x86/entry/entry\_64.S b/arch/x86/entry/entry\_64.Sindex 1631a9a1566e3e..bd785386d62911 100644--- a/[arch/x86/entry/entry\_64.S](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/entry/entry_64.S?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)+++ b/[arch/x86/entry/entry\_64.S](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/entry/entry_64.S?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)@@ -46,14 +46,6 @@ .code64 .section .entry.text, "ax" -#ifdef CONFIG\_PARAVIRT\_XXL-SYM\_CODE\_START(native\_usergs\_sysret64)- UNWIND\_HINT\_EMPTY- swapgs- sysretq-SYM\_CODE\_END(native\_usergs\_sysret64)-#endif /\* CONFIG\_PARAVIRT\_XXL \*/- /\* \* 64-bit SYSCALL instruction entry. Up to 6 arguments in registers. \*@@ -128,7 +120,12 @@ SYM\_INNER\_LABEL(entry\_SYSCALL\_64\_after\_hwframe, SYM\_L\_GLOBAL) \* Try to use SYSRET instead of IRET if we're returning to \* a completely clean 64-bit userspace context. If we're not, \* go to the slow exit path.+ \* In the Xen PV case we must use iret anyway. \*/++ ALTERNATIVE "", "jmp swapgs\_restore\_regs\_and\_return\_to\_usermode", \+ X86\_FEATURE\_XENPV+ movq RCX(%rsp), %rcx movq RIP(%rsp), %r11 @@ -220,7 +217,9 @@ syscall\_return\_via\_sysret:  popq %rdi popq %rsp- USERGS\_SYSRET64+ swapgs+ CLEAR\_CPU\_BUFFERS+ sysretq SYM\_CODE\_END(entry\_SYSCALL\_64)  /\*diff --git a/arch/x86/include/asm/irqflags.h b/arch/x86/include/asm/irqflags.hindex f40dea50dfbf38..e585a4705b8ddc 100644--- a/[arch/x86/include/asm/irqflags.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/include/asm/irqflags.h?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)+++ b/[arch/x86/include/asm/irqflags.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/include/asm/irqflags.h?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)@@ -132,13 +132,6 @@ static \_\_always\_inline unsigned long arch\_local\_irq\_save(void) #endif  #define INTERRUPT\_RETURN jmp native\_iret-#define USERGS\_SYSRET64 \- swapgs; \- CLEAR\_CPU\_BUFFERS; \- sysretq;-#define USERGS\_SYSRET32 \- swapgs; \- sysretl  #else #define INTERRUPT\_RETURN iretdiff --git a/arch/x86/include/asm/paravirt.h b/arch/x86/include/asm/paravirt.hindex 4a32b0d343762d..3c89c1f648719d 100644--- a/[arch/x86/include/asm/paravirt.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/include/asm/paravirt.h?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)+++ b/[arch/x86/include/asm/paravirt.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/include/asm/paravirt.h?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)@@ -776,11 +776,6 @@ extern void default\_banner(void);  #ifdef CONFIG\_X86\_64 #ifdef CONFIG\_PARAVIRT\_XXL-#define USERGS\_SYSRET64 \- PARA\_SITE(PARA\_PATCH(PV\_CPU\_usergs\_sysret64), \- ANNOTATE\_RETPOLINE\_SAFE; \- jmp PARA\_INDIRECT(pv\_ops+PV\_CPU\_usergs\_sysret64);)- #ifdef CONFIG\_DEBUG\_ENTRY #define SAVE\_FLAGS(clobbers) \ PARA\_SITE(PARA\_PATCH(PV\_IRQ\_save\_fl), \diff --git a/arch/x86/include/asm/paravirt\_types.h b/arch/x86/include/asm/paravirt\_types.hindex 903d71884fa25d..55d8b7950e61f4 100644--- a/[arch/x86/include/asm/paravirt\_types.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/include/asm/paravirt_types.h?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)+++ b/[arch/x86/include/asm/paravirt\_types.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/include/asm/paravirt_types.h?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)@@ -157,14 +157,6 @@ struct pv\_cpu\_ops {  u64 (\*read\_pmc)(int counter); - /\*- \* Switch to usermode gs and return to 64-bit usermode using- \* sysret. Only used in 64-bit kernels to return to 64-bit- \* processes. Usermode register state, including %rsp, must- \* already be restored.- \*/- void (\*usergs\_sysret64)(void);- /\* Normal iret. Jump to this with the standard iret stack frame set up. \*/ void (\*iret)(void);diff --git a/arch/x86/kernel/asm-offsets\_64.c b/arch/x86/kernel/asm-offsets\_64.cindex 1354bc30614d7e..b14533af767625 100644--- a/[arch/x86/kernel/asm-offsets\_64.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/kernel/asm-offsets_64.c?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)+++ b/[arch/x86/kernel/asm-offsets\_64.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/kernel/asm-offsets_64.c?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)@@ -13,8 +13,6 @@ int main(void) { #ifdef CONFIG\_PARAVIRT #ifdef CONFIG\_PARAVIRT\_XXL- OFFSET(PV\_CPU\_usergs\_sysret64, paravirt\_patch\_template,- cpu.usergs\_sysret64); #ifdef CONFIG\_DEBUG\_ENTRY OFFSET(PV\_IRQ\_save\_fl, paravirt\_patch\_template, irq.save\_fl); #endifdiff --git a/arch/x86/kernel/paravirt.c b/arch/x86/kernel/paravirt.cindex f0e4ad8595ca74..9d91061b862c9c 100644--- a/[arch/x86/kernel/paravirt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/kernel/paravirt.c?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)+++ b/[arch/x86/kernel/paravirt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/kernel/paravirt.c?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)@@ -124,8 +124,7 @@ unsigned paravirt\_patch\_default(u8 type, void \*insn\_buff, else if (opfunc == \_paravirt\_ident\_64) ret = paravirt\_patch\_ident\_64(insn\_buff, len); - else if (type == PARAVIRT\_PATCH(cpu.iret) ||- type == PARAVIRT\_PATCH(cpu.usergs\_sysret64))+ else if (type == PARAVIRT\_PATCH(cpu.iret)) /\* If operation requires a jmp, then jmp \*/ ret = paravirt\_patch\_jmp(insn\_buff, opfunc, addr, len); #endif@@ -159,7 +158,6 @@ static u64 native\_steal\_clock(int cpu)  /\* These are in entry.S \*/ extern void native\_iret(void);-extern void native\_usergs\_sysret64(void);  static struct resource reserve\_ioports = { .start = 0,@@ -299,7 +297,6 @@ struct paravirt\_patch\_template pv\_ops = {  .cpu.load\_sp0 = native\_load\_sp0, - .cpu.usergs\_sysret64 = native\_usergs\_sysret64, .cpu.iret = native\_iret,  #ifdef CONFIG\_X86\_IOPL\_IOPERMdiff --git a/arch/x86/kernel/paravirt\_patch.c b/arch/x86/kernel/paravirt\_patch.cindex 7c518b08aa3c5c..2fada2c347c98e 100644--- a/[arch/x86/kernel/paravirt\_patch.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/kernel/paravirt_patch.c?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)+++ b/[arch/x86/kernel/paravirt\_patch.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/kernel/paravirt_patch.c?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)@@ -27,7 +27,6 @@ struct patch\_xxl { const unsigned char mmu\_write\_cr3[3]; const unsigned char irq\_restore\_fl[2]; const unsigned char cpu\_wbinvd[2];- const unsigned char cpu\_usergs\_sysret64[6]; const unsigned char mov64[3]; }; @@ -40,8 +39,6 @@ static const struct patch\_xxl patch\_data\_xxl = { .mmu\_write\_cr3 = { 0x0f, 0x22, 0xdf }, // mov %rdi, %cr3 .irq\_restore\_fl = { 0x57, 0x9d }, // push %rdi; popfq .cpu\_wbinvd = { 0x0f, 0x09 }, // wbinvd- .cpu\_usergs\_sysret64 = { 0x0f, 0x01, 0xf8,- 0x48, 0x0f, 0x07 }, // swapgs; sysretq .mov64 = { 0x48, 0x89, 0xf8 }, // mov %rdi, %rax }; @@ -83,7 +80,6 @@ unsigned int native\_patch(u8 type, void \*insn\_buff, unsigned long addr, PATCH\_CASE(mmu, read\_cr3, xxl, insn\_buff, len); PATCH\_CASE(mmu, write\_cr3, xxl, insn\_buff, len); - PATCH\_CASE(cpu, usergs\_sysret64, xxl, insn\_buff, len); PATCH\_CASE(cpu, wbinvd, xxl, insn\_buff, len); #endif diff --git a/arch/x86/xen/enlighten\_pv.c b/arch/x86/xen/enlighten\_pv.cindex 94804670caab83..b1efc4b4f42ad5 100644--- a/[arch/x86/xen/enlighten\_pv.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/xen/enlighten_pv.c?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)+++ b/[arch/x86/xen/enlighten\_pv.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/xen/enlighten_pv.c?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)@@ -1059,7 +1059,6 @@ static const struct pv\_cpu\_ops xen\_cpu\_ops \_\_initconst = { .read\_pmc = xen\_read\_pmc,  .iret = xen\_iret,- .usergs\_sysret64 = xen\_sysret64,  .load\_tr\_desc = paravirt\_nop, .set\_ldt = xen\_set\_ldt,diff --git a/arch/x86/xen/xen-asm.S b/arch/x86/xen/xen-asm.Sindex e3031afcb10399..3a33713cf449fb 100644--- a/[arch/x86/xen/xen-asm.S](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/xen/xen-asm.S?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)+++ b/[arch/x86/xen/xen-asm.S](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/xen/xen-asm.S?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)@@ -220,27 +220,6 @@ SYM\_CODE\_START(xen\_iret) jmp hypercall\_iret SYM\_CODE\_END(xen\_iret) -SYM\_CODE\_START(xen\_sysret64)- UNWIND\_HINT\_EMPTY- /\*- \* We're already on the usermode stack at this point, but- \* still with the kernel gs, so we can easily switch back.- \*- \* tss.sp2 is scratch space.- \*/- movq %rsp, PER\_CPU\_VAR(cpu\_tss\_rw + TSS\_sp2)- movq PER\_CPU\_VAR(cpu\_current\_top\_of\_stack), %rsp-- pushq $\_\_USER\_DS- pushq PER\_CPU\_VAR(cpu\_tss\_rw + TSS\_sp2)- pushq %r11- pushq $\_\_USER\_CS- pushq %rcx-- pushq $VGCF\_in\_syscall- jmp hypercall\_iret-SYM\_CODE\_END(xen\_sysret64)- /\* \* XEN pv doesn't use trampoline stack, PER\_CPU\_VAR(cpu\_tss\_rw + TSS\_sp0) is \* also the kernel stack. Reusing swapgs\_restore\_regs\_and\_return\_to\_usermode()diff --git a/arch/x86/xen/xen-ops.h b/arch/x86/xen/xen-ops.hindex 8695809b88f08b..98242430d07e7c 100644--- a/[arch/x86/xen/xen-ops.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/xen/xen-ops.h?id=8869c2916dc1f5b4f823f1ebaa9ca465689e9c9e)+++ b/[arch/x86/xen/xen-ops.h](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/x86/xen/xen-ops.h?id=1424ab4bb386df9cc590c73afa55f13e9b00dea2)@@ -138,8 +138,6 @@ \_\_visible unsigned long xen\_read\_cr2\_direct(void);  /\* These are not functions, and cannot be called normally \*/ \_\_visible void xen\_iret(void);-\_\_visible void xen\_sysret32(void);-\_\_visible void xen\_sysret64(void);  extern int xen\_panic\_handler\_init(void); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 12:50:05 +0000

