<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/magnum/+bug/2047690/+index" />

    <meta charset="UTF-8" />
    <title>Bug #2047690 “time-of-check to time-of-use (TOCTOU) attack” : Bugs : Magnum</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/@@/apple-touch-icon.png?v=2022" />
    <link rel="icon" type="image/png" sizes="32x32" href="/@@/favicon-32x32.png?v=2022" />
    <link rel="icon" type="image/png" sizes="16x16" href="/@@/favicon-16x16.png?v=2022" />
    <link rel="manifest" href="/@@/site.webmanifest?v=2022" />
    <link rel="mask-icon" href="/@@/safari-pinned-tab.svg?v=2022" color="#e9531f" />
    <link rel="shortcut icon" href="/@@/favicon.ico?v=2022" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="msapplication-config" content="/@@/browserconfig.xml?v=2022" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/2047690" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/2047690/bug.atom" title="Bug 2047690 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev6394e03793719e8d73f5a60b5439440e693c92f1/combo.css" />


    

    
      <meta name="description" content="At https://github.com/openstack/magnum/blob/537e69aeb8df7af480e6af11a98687179d4dd89c/magnum/conductor/handlers/common/cert_manager.py#L185
, we first write ca_file,key_file cert_file , then we chmod mode them.

```
 ca_file = open(cached_ca_file, &quot;w+&quot;)
            ca_file.write(encodeutils.safe_decode(ca_cert.get_certificate()))
            ca_file.flush()

            key_file = open(cached_key_file, &quot;w+&quot;)
            key_file.write(encodeutils.safe_decode(
                magnum_cert.get_de..." />
      <meta property="og:description" content="At https://github.com/openstack/magnum/blob/537e69aeb8df7af480e6af11a98687179d4dd89c/magnum/conductor/handlers/common/cert_manager.py#L185
, we first write ca_file,key_file cert_file , then we chmod mode them.

```
 ca_file = open(cached_ca_file, &quot;w+&quot;)
            ca_file.write(encodeutils.safe_decode(ca_cert.get_certificate()))
            ca_file.flush()

            key_file = open(cached_key_file, &quot;w+&quot;)
            key_file.write(encodeutils.safe_decode(
                magnum_cert.get_de..." />
    

    
    
      <meta property="og:title" content="Bug #2047690 “time-of-check to time-of-use (TOCTOU) attack” : Bugs : Magnum" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad-og-image.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/2047690" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?lp/',
                    comboBase: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = [];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/magnum/+bug/2047690/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/magnum"><img alt="" width="64" height="64" src="/@@/product-logo" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/magnum">Magnum</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/magnum">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/magnum">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/magnum">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/magnum">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/magnum">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/magnum">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    time-of-check to time-of-use (TOCTOU) attack
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #2047690 reported by
      <a href="https://launchpad.net/~lujiefsi" class="sprite person">lujiefsi</a>
      <time title="2023-12-29 11:01:58 UTC" datetime="2023-12-29T11:01:58.772060+00:00">on 2023-12-29</time>
      
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">256</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary3124158">
    <td>
      
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary3124158">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/magnum">Magnum</a>
        </span>
        
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusFIXRELEASED">Fix Released</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3124158">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~lujiefsi">lujiefsi</a>
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
      </tbody>

    </table>








      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>At <a rel="nofollow" href="https://github.com/openstack/magnum/blob/537e69aeb8df7af480e6af11a98687179d4dd89c/magnum/conductor/handlers/common/cert_manager.py#L185">https:/<wbr />/github.<wbr />com/openstack/<wbr />magnum/<wbr />blob/537e69aeb8<wbr />df7af480e6af11a<wbr />98687179d4dd89c<wbr />/magnum/<wbr />conductor/<wbr />handlers/<wbr />common/<wbr />cert_manager.<wbr />py#L185</a><br />
, we first write ca_file,key_file cert_file , then we chmod mode them.</p>
<p>```<br />
&nbsp;ca_file = open(cached_<wbr />ca_file, &quot;w+&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ca_<wbr />file.write(<wbr />encodeutils.<wbr />safe_decode(<wbr />ca_cert.<wbr />get_certificate<wbr />()))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ca_<wbr />file.flush(<wbr />)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key_<wbr />file = open(cached_<wbr />key_file, &quot;w+&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key_<wbr />file.write(<wbr />encodeutils.<wbr />safe_decode(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;magnum_<wbr />cert.get_<wbr />decrypted_<wbr />private_<wbr />key()))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key_<wbr />file.flush(<wbr />)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cert_<wbr />file = open(cached_<wbr />cert_file, &quot;w+&quot;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cert_<wbr />file.write(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;encodeutils.<wbr />safe_decode(<wbr />magnum_<wbr />cert.get_<wbr />certificate(<wbr />)))<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cert_<wbr />file.flush(<wbr />)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os.<wbr />chmod(cached_<wbr />ca_file, 0o600)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os.<wbr />chmod(cached_<wbr />key_file, 0o600)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<wbr />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os.<wbr />chmod(cached_<wbr />cert_file, 0o600)</p>
<p>```</p>
<p>When a file is first written and then its permissions are later changed using chmod, there exists a potential security risk known as a time-of-check to time-of-use (TOCTOU) attack. In this type of attack, an attacker exploits the time window between when the file is initially written and when its permissions are modified. During this time window, the attacker may gain access to the file.</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          <span>See <a href="comments/0">original description</a></span>
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="unofficial-tag" href="/magnum/+bugs?field.tag=in-stable-yoga">in-stable-yoga</a>
            <a class="unofficial-tag" href="/magnum/+bugs?field.tag=in-stable-zed">in-stable-zed</a>
          </span>
          
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~lujiefsi" class="sprite person">lujiefsi (lujiefsi)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-29T11:04:16.975556+00:00" title="2023-12-29 11:04:16 UTC">on 2023-12-29</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2023-12-29T11:05:13.731957+00:00" title="2023-12-29 11:05:13 UTC">on 2023-12-29</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>we shoud chmod first, then write, like</p>
<p><a rel="nofollow" href="https://github.com/openstack/openstack-ansible/blob/5f9173cb753f87eeec5a87716115dbc9670a03ce/scripts/pw-token-gen.py#L200">https:/<wbr />/github.<wbr />com/openstack/<wbr />openstack-<wbr />ansible/<wbr />blob/5f9173cb75<wbr />3f87eeec5a87716<wbr />115dbc9670a03ce<wbr />/scripts/<wbr />pw-token-<wbr />gen.py#<wbr />L200</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">we shoud chmod first, then write, like

https://github.com/openstack/openstack-ansible/blob/5f9173cb753f87eeec5a87716115dbc9670a03ce/scripts/pw-token-gen.py#L200</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~lujiefsi" class="sprite person">lujiefsi (lujiefsi)</a>
    
    <time title="2023-12-29 14:30:49 UTC" datetime="2023-12-29T14:30:49.682856+00:00">on 2023-12-29</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~lujiefsi" class="sprite person">lujiefsi (lujiefsi)</a>
    
    <time title="2023-12-29 14:42:35 UTC" datetime="2023-12-29T14:42:35.186783+00:00">on 2023-12-29</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - wrong order between write and chmod<br />+ time-of-check to time-of-use (TOCTOU) attack
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~lujiefsi" class="sprite person">lujiefsi (lujiefsi)</a>
    
    <time title="2023-12-30 13:04:40 UTC" datetime="2023-12-30T13:04:40.158298+00:00">on 2023-12-30</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~lujiefsi" class="sprite person">lujiefsi (lujiefsi)</a>
    
    <time title="2024-01-19 13:17:20 UTC" datetime="2024-01-19T13:17:20.331488+00:00">on 2024-01-19</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-19T13:32:19.449086+00:00" title="2024-01-19 13:32:19 UTC">on 2024-01-19</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/2">
                <strong>Fix proposed to magnum (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: master<br />
Review: <a rel="nofollow" href="https://review.opendev.org/c/openstack/magnum/+/906108">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/magnum/<wbr />+/906108</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: master
Review: https://review.opendev.org/c/openstack/magnum/+/906108</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in magnum: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~lujiefsi" class="sprite person">lujiefsi (lujiefsi)</a>
    
    <time title="2024-01-22 02:18:18 UTC" datetime="2024-01-22T02:18:18.896765+00:00">on 2024-01-22</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in magnum: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; lujiefsi (lujiefsi)
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-31T09:23:29.110152+00:00" title="2024-01-31 09:23:29 UTC">on 2024-01-31</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/3">
                <strong>Fix merged to magnum (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/c/openstack/magnum/+/906108">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/magnum/<wbr />+/906108</a><br />
Committed: <a rel="nofollow" href="https://opendev.org/openstack/magnum/commit/cb71d19382eef6bea273075a3287a952c40f8a3b">https:/<wbr />/opendev.<wbr />org/openstack/<wbr />magnum/<wbr />commit/<wbr />cb71d19382eef6b<wbr />ea273075a3287a9<wbr />52c40f8a3b</a><br />
Submitter: &quot;Zuul (22348)&quot;<br />
Branch:    master</p>
<p>commit cb71d19382eef6b<wbr />ea273075a3287a9<wbr />52c40f8a3b<br />
Author: lujie &lt;email address hidden&gt;<br />
Date:   Fri Jan 19 21:23:04 2024 +0800</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Move the chmod function before the write and flush functions to prevent sensitive information leakage.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: #2047690<br />
&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I2b88a14cc67a4f<wbr />ba35fcfc187a917<wbr />71e1d714844</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/c/openstack/magnum/+/906108
Committed: https://opendev.org/openstack/magnum/commit/cb71d19382eef6bea273075a3287a952c40f8a3b
Submitter: "Zuul (22348)"
Branch:    master

commit cb71d19382eef6bea273075a3287a952c40f8a3b
Author: lujie &lt;lujie@ict.ac.cn&gt;
Date:   Fri Jan 19 21:23:04 2024 +0800

    Move the chmod function before the write and flush functions to prevent sensitive information leakage.
    
    Closes-Bug: #2047690
    Change-Id: I2b88a14cc67a4fba35fcfc187a91771e1d714844
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in magnum: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-31T10:31:14.919642+00:00" title="2024-01-31 10:31:14 UTC">on 2024-01-31</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/4">
                <strong>Fix proposed to magnum (stable/2023.2)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/2023.2<br />
Review: <a rel="nofollow" href="https://review.opendev.org/c/openstack/magnum/+/907302">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/magnum/<wbr />+/907302</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/2023.2
Review: https://review.opendev.org/c/openstack/magnum/+/907302</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-31T10:31:55.685407+00:00" title="2024-01-31 10:31:55 UTC">on 2024-01-31</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/5">
                <strong>Fix proposed to magnum (stable/2023.1)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/2023.1<br />
Review: <a rel="nofollow" href="https://review.opendev.org/c/openstack/magnum/+/907303">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/magnum/<wbr />+/907303</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/2023.1
Review: https://review.opendev.org/c/openstack/magnum/+/907303</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-31T10:33:09.483640+00:00" title="2024-01-31 10:33:09 UTC">on 2024-01-31</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/6">
                <strong>Fix proposed to magnum (stable/zed)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/zed<br />
Review: <a rel="nofollow" href="https://review.opendev.org/c/openstack/magnum/+/907304">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/magnum/<wbr />+/907304</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/zed
Review: https://review.opendev.org/c/openstack/magnum/+/907304</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-31T10:33:57.207899+00:00" title="2024-01-31 10:33:57 UTC">on 2024-01-31</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/7">
                <strong>Fix proposed to magnum (stable/yoga)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: stable/yoga<br />
Review: <a rel="nofollow" href="https://review.opendev.org/c/openstack/magnum/+/907305">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/magnum/<wbr />+/907305</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: stable/yoga
Review: https://review.opendev.org/c/openstack/magnum/+/907305</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-01T08:52:35.509439+00:00" title="2024-02-01 08:52:35 UTC">on 2024-02-01</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/8">
                <strong>Fix merged to magnum (stable/2023.2)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/c/openstack/magnum/+/907302">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/magnum/<wbr />+/907302</a><br />
Committed: <a rel="nofollow" href="https://opendev.org/openstack/magnum/commit/272fd686d8c8bf5954e9e7d3bc991ff27e46184d">https:/<wbr />/opendev.<wbr />org/openstack/<wbr />magnum/<wbr />commit/<wbr />272fd686d8c8bf5<wbr />954e9e7d3bc991f<wbr />f27e46184d</a><br />
Submitter: &quot;Zuul (22348)&quot;<br />
Branch:    stable/2023.2</p>
<p>commit 272fd686d8c8bf5<wbr />954e9e7d3bc991f<wbr />f27e46184d<br />
Author: lujie &lt;email address hidden&gt;<br />
Date:   Fri Jan 19 21:23:04 2024 +0800</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Move the chmod function before the write and flush functions to prevent sensitive information leakage.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: #2047690<br />
&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I2b88a14cc67a4f<wbr />ba35fcfc187a917<wbr />71e1d714844<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit cb71d19382eef6b<wbr />ea273075a3287a9<wbr />52c40f8a3b)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/c/openstack/magnum/+/907302
Committed: https://opendev.org/openstack/magnum/commit/272fd686d8c8bf5954e9e7d3bc991ff27e46184d
Submitter: "Zuul (22348)"
Branch:    stable/2023.2

commit 272fd686d8c8bf5954e9e7d3bc991ff27e46184d
Author: lujie &lt;lujie@ict.ac.cn&gt;
Date:   Fri Jan 19 21:23:04 2024 +0800

    Move the chmod function before the write and flush functions to prevent sensitive information leakage.
    
    Closes-Bug: #2047690
    Change-Id: I2b88a14cc67a4fba35fcfc187a91771e1d714844
    (cherry picked from commit cb71d19382eef6bea273075a3287a952c40f8a3b)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-01T08:52:38.912348+00:00" title="2024-02-01 08:52:38 UTC">on 2024-02-01</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/9">
                <strong>Fix merged to magnum (stable/2023.1)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/c/openstack/magnum/+/907303">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/magnum/<wbr />+/907303</a><br />
Committed: <a rel="nofollow" href="https://opendev.org/openstack/magnum/commit/883b40b5b0ecfc5f78758143c0d3c754458f12b7">https:/<wbr />/opendev.<wbr />org/openstack/<wbr />magnum/<wbr />commit/<wbr />883b40b5b0ecfc5<wbr />f78758143c0d3c7<wbr />54458f12b7</a><br />
Submitter: &quot;Zuul (22348)&quot;<br />
Branch:    stable/2023.1</p>
<p>commit 883b40b5b0ecfc5<wbr />f78758143c0d3c7<wbr />54458f12b7<br />
Author: lujie &lt;email address hidden&gt;<br />
Date:   Fri Jan 19 21:23:04 2024 +0800</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Move the chmod function before the write and flush functions to prevent sensitive information leakage.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: #2047690<br />
&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I2b88a14cc67a4f<wbr />ba35fcfc187a917<wbr />71e1d714844<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit cb71d19382eef6b<wbr />ea273075a3287a9<wbr />52c40f8a3b)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 272fd686d8c8bf5<wbr />954e9e7d3bc991f<wbr />f27e46184d)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/c/openstack/magnum/+/907303
Committed: https://opendev.org/openstack/magnum/commit/883b40b5b0ecfc5f78758143c0d3c754458f12b7
Submitter: "Zuul (22348)"
Branch:    stable/2023.1

commit 883b40b5b0ecfc5f78758143c0d3c754458f12b7
Author: lujie &lt;lujie@ict.ac.cn&gt;
Date:   Fri Jan 19 21:23:04 2024 +0800

    Move the chmod function before the write and flush functions to prevent sensitive information leakage.
    
    Closes-Bug: #2047690
    Change-Id: I2b88a14cc67a4fba35fcfc187a91771e1d714844
    (cherry picked from commit cb71d19382eef6bea273075a3287a952c40f8a3b)
    (cherry picked from commit 272fd686d8c8bf5954e9e7d3bc991ff27e46184d)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-02T01:58:12.151883+00:00" title="2024-02-02 01:58:12 UTC">on 2024-02-02</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/10">
                <strong>Fix merged to magnum (stable/zed)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/c/openstack/magnum/+/907304">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/magnum/<wbr />+/907304</a><br />
Committed: <a rel="nofollow" href="https://opendev.org/openstack/magnum/commit/e79907c521149872c1b495355a3a7b3a0c7e3479">https:/<wbr />/opendev.<wbr />org/openstack/<wbr />magnum/<wbr />commit/<wbr />e79907c52114987<wbr />2c1b495355a3a7b<wbr />3a0c7e3479</a><br />
Submitter: &quot;Zuul (22348)&quot;<br />
Branch:    stable/zed</p>
<p>commit e79907c52114987<wbr />2c1b495355a3a7b<wbr />3a0c7e3479<br />
Author: lujie &lt;email address hidden&gt;<br />
Date:   Fri Jan 19 21:23:04 2024 +0800</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Move the chmod function before the write and flush functions to prevent sensitive information leakage.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: #2047690<br />
&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I2b88a14cc67a4f<wbr />ba35fcfc187a917<wbr />71e1d714844<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit cb71d19382eef6b<wbr />ea273075a3287a9<wbr />52c40f8a3b)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 272fd686d8c8bf5<wbr />954e9e7d3bc991f<wbr />f27e46184d)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 883b40b5b0ecfc5<wbr />f78758143c0d3c7<wbr />54458f12b7)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/c/openstack/magnum/+/907304
Committed: https://opendev.org/openstack/magnum/commit/e79907c521149872c1b495355a3a7b3a0c7e3479
Submitter: "Zuul (22348)"
Branch:    stable/zed

commit e79907c521149872c1b495355a3a7b3a0c7e3479
Author: lujie &lt;lujie@ict.ac.cn&gt;
Date:   Fri Jan 19 21:23:04 2024 +0800

    Move the chmod function before the write and flush functions to prevent sensitive information leakage.
    
    Closes-Bug: #2047690
    Change-Id: I2b88a14cc67a4fba35fcfc187a91771e1d714844
    (cherry picked from commit cb71d19382eef6bea273075a3287a952c40f8a3b)
    (cherry picked from commit 272fd686d8c8bf5954e9e7d3bc991ff27e46184d)
    (cherry picked from commit 883b40b5b0ecfc5f78758143c0d3c754458f12b7)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-zed
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-02T10:31:56.006910+00:00" title="2024-02-02 10:31:56 UTC">on 2024-02-02</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/11">
                <strong>Fix merged to magnum (stable/yoga)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/c/openstack/magnum/+/907305">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/magnum/<wbr />+/907305</a><br />
Committed: <a rel="nofollow" href="https://opendev.org/openstack/magnum/commit/312aa6a86ac8e62f6ed4f1e9473fdabbbb7a4b1e">https:/<wbr />/opendev.<wbr />org/openstack/<wbr />magnum/<wbr />commit/<wbr />312aa6a86ac8e62<wbr />f6ed4f1e9473fda<wbr />bbbb7a4b1e</a><br />
Submitter: &quot;Zuul (22348)&quot;<br />
Branch:    stable/yoga</p>
<p>commit 312aa6a86ac8e62<wbr />f6ed4f1e9473fda<wbr />bbbb7a4b1e<br />
Author: lujie &lt;email address hidden&gt;<br />
Date:   Fri Jan 19 21:23:04 2024 +0800</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Move the chmod function before the write and flush functions to prevent sensitive information leakage.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: #2047690<br />
&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: I2b88a14cc67a4f<wbr />ba35fcfc187a917<wbr />71e1d714844<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit cb71d19382eef6b<wbr />ea273075a3287a9<wbr />52c40f8a3b)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 272fd686d8c8bf5<wbr />954e9e7d3bc991f<wbr />f27e46184d)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit 883b40b5b0ecfc5<wbr />f78758143c0d3c7<wbr />54458f12b7)<br />
&nbsp;&nbsp;&nbsp;&nbsp;(cherry picked from commit e79907c52114987<wbr />2c1b495355a3a7b<wbr />3a0c7e3479)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/c/openstack/magnum/+/907305
Committed: https://opendev.org/openstack/magnum/commit/312aa6a86ac8e62f6ed4f1e9473fdabbbb7a4b1e
Submitter: "Zuul (22348)"
Branch:    stable/yoga

commit 312aa6a86ac8e62f6ed4f1e9473fdabbbb7a4b1e
Author: lujie &lt;lujie@ict.ac.cn&gt;
Date:   Fri Jan 19 21:23:04 2024 +0800

    Move the chmod function before the write and flush functions to prevent sensitive information leakage.
    
    Closes-Bug: #2047690
    Change-Id: I2b88a14cc67a4fba35fcfc187a91771e1d714844
    (cherry picked from commit cb71d19382eef6bea273075a3287a952c40f8a3b)
    (cherry picked from commit 272fd686d8c8bf5954e9e7d3bc991ff27e46184d)
    (cherry picked from commit 883b40b5b0ecfc5f78758143c0d3c754458f12b7)
    (cherry picked from commit e79907c521149872c1b495355a3a7b3a0c7e3479)
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: in-stable-yoga
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-08T14:31:48.372105+00:00" title="2024-02-08 14:31:48 UTC">on 2024-02-08</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/12">
                <strong>Fix included in openstack/magnum 16.0.2</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This issue was fixed in the openstack/magnum 16.0.2  release.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This issue was fixed in the openstack/magnum 16.0.2  release.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-08T14:32:04.378539+00:00" title="2024-02-08 14:32:04 UTC">on 2024-02-08</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/13">
                <strong>Fix included in openstack/magnum 17.0.2</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This issue was fixed in the openstack/magnum 17.0.2  release.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This issue was fixed in the openstack/magnum 17.0.2  release.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-16T11:03:52.093484+00:00" title="2024-02-16 11:03:52 UTC">on 2024-02-16</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/14">
                <strong>Fix included in openstack/magnum 14.1.2</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This issue was fixed in the openstack/magnum 14.1.2  release.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This issue was fixed in the openstack/magnum 14.1.2  release.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-16T11:13:20.064198+00:00" title="2024-02-16 11:13:20 UTC">on 2024-02-16</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/15">
                <strong>Fix included in openstack/magnum 15.0.2</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This issue was fixed in the openstack/magnum 15.0.2  release.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This issue was fixed in the openstack/magnum 15.0.2  release.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/magnum/+bug/2047690/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-12T17:23:14.661770+00:00" title="2024-03-12 17:23:14 UTC">on 2024-03-12</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/magnum/+bug/2047690/comments/16">
                <strong>Fix included in openstack/magnum 18.0.0.0rc1</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/magnum/+bug/2047690/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This issue was fixed in the openstack/magnum 18.0.0.0rc1  release candidate.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This issue was fixed in the openstack/magnum 18.0.0.0rc1  release candidate.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/magnum/+bug/2047690/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/magnum/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    
    
    
    
    
    
    
  </ul>
  <ul id="lock-status-actions">
    
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/magnum/+bug/2047690/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/magnum/+bug/2047690/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/magnum/+bug/2047690/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  
  


      <div class="portlet" id="portlet-watches">
  <h2>Remote bug watches</h2>
  <ul>
  </ul>
  <p>Bug watches keep track of this bug in other bug trackers.</p>
</div>

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-footer-logo.svg" alt="Launchpad" width="65" height="18" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://ubuntu.social/@launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        6394e03
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"related_features": {}, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/2047690", "web_link": "https://bugs.launchpad.net/bugs/2047690", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 2047690, "private": false, "information_type": "Public Security", "name": null, "title": "time-of-check to time-of-use (TOCTOU) attack", "description": "At https://github.com/openstack/magnum/blob/537e69aeb8df7af480e6af11a98687179d4dd89c/magnum/conductor/handlers/common/cert_manager.py#L185\n, we first write ca_file,key_file cert_file , then we chmod mode them.\n\n```\n\u00a0ca_file = open(cached_ca_file, \"w+\")\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ca_file.write(encodeutils.safe_decode(ca_cert.get_certificate()))\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ca_file.flush()\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key_file = open(cached_key_file, \"w+\")\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key_file.write(encodeutils.safe_decode(\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0magnum_cert.get_decrypted_private_key()))\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0key_file.flush()\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cert_file = open(cached_cert_file, \"w+\")\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cert_file.write(\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0encodeutils.safe_decode(magnum_cert.get_certificate()))\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0cert_file.flush()\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0os.chmod(cached_ca_file, 0o600)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0os.chmod(cached_key_file, 0o600)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0os.chmod(cached_cert_file, 0o600)\n\n```\n\nWhen a file is first written and then its permissions are later changed using chmod, there exists a potential security risk known as a time-of-check to time-of-use (TOCTOU) attack. In this type of attack, an attacker exploits the time window between when the file is initially written and when its permissions are modified. During this time window, the attacker may gain access to the file.", "owner_link": "https://bugs.launchpad.net/api/devel/~lujiefsi", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/bug_tasks", "duplicate_of_link": null, "date_created": "2023-12-29T11:01:58.772060+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/subscriptions", "date_last_updated": "2024-03-12T17:23:14.983504+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 256, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/cves", "vulnerabilities_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/vulnerabilities", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/attachments", "security_related": true, "latest_patch_uploaded": null, "tags": ["in-stable-yoga", "in-stable-zed"], "date_last_message": "2024-03-12T17:23:14.661770+00:00", "number_of_duplicates": 0, "message_count": 17, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/messages", "lock_status": "Unlocked", "lock_reason": null, "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2047690/linked_merge_proposals", "http_etag": "\"43adecce2b37fd0ecefe5850929d47e03db55a52-ad86b502d1c7270d3a2b9e6378dbc48830d50f7e\""}, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/2047690", "self_link": "https://bugs.launchpad.net/api/devel/bugs/2047690"}, "total_comments_and_activity": 25, "initial_comment_batch_offset": 41, "first visible_recent_comment": -24, "bugtask_data": {"3124158": {"id": 3124158, "row_id": "tasksummary3124158", "form_row_id": "task3124158", "bugtask_path": "/magnum/+bug/2047690", "prefix": "magnum", "targetname": "Magnum", "bug_title": "time-of-check to time-of-use (TOCTOU) attack", "assignee_value": "lujiefsi", "assignee_is_team": false, "assignee_vocabulary": "AllUserTeamsParticipation", "assignee_vocabulary_filters": [], "hide_assignee_team_selection": true, "user_can_unassign": false, "user_can_delete": false, "delete_link": "https://bugs.launchpad.net/magnum/+bug/2047690/+delete", "target_is_product": true, "status_widget_items": [{"name": "Fix Released", "value": "Fix Released", "description": "The fix was released.\n", "description_css_class": "choice-description", "style": "", "help": "", "disabled": false, "css_class": "statusFIXRELEASED"}], "status_value": "Fix Released", "importance_widget_items": "[]", "importance_value": "Undecided", "milestone_widget_items": "[]", "milestone_value": null, "user_can_edit_assignee": false, "user_can_edit_milestone": false, "user_can_edit_status": false, "user_can_edit_importance": false}}, "information_type_data": {"PUBLIC": {"value": "PUBLIC", "description": "Everyone can see this information.\n", "name": "Public", "order": 0, "is_private": false, "description_css_class": "choice-description"}, "PUBLICSECURITY": {"value": "PUBLICSECURITY", "description": "Everyone can see this security related information.\n", "name": "Public Security", "order": 1, "is_private": false, "description_css_class": "choice-description"}, "PRIVATESECURITY": {"value": "PRIVATESECURITY", "description": "Only the security group can see this information.\n ", "name": "Private Security", "order": 2, "is_private": true, "description_css_class": "choice-description"}, "USERDATA": {"value": "USERDATA", "description": "Only shared with users permitted to see private user information.\n", "name": "Private", "order": 3, "is_private": true, "description_css_class": "choice-description"}}, "bug_is_private": false, "context": {"self_link": "https://bugs.launchpad.net/api/devel/magnum/+bug/2047690", "web_link": "https://bugs.launchpad.net/magnum/+bug/2047690", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/2047690", "milestone_link": null, "status": "Fix Released", "status_explanation": null, "importance": "Undecided", "importance_explanation": null, "assignee_link": "https://bugs.launchpad.net/api/devel/~lujiefsi", "bug_target_display_name": "Magnum", "bug_target_name": "magnum", "bug_watch_link": null, "date_assigned": "2024-01-22T02:18:19.174399+00:00", "date_created": "2023-12-29T11:01:58.772060+00:00", "date_confirmed": "2024-01-19T13:32:18.956202+00:00", "date_incomplete": null, "date_in_progress": "2024-01-19T13:32:18.956202+00:00", "date_closed": "2024-01-31T09:23:28.249147+00:00", "date_left_new": "2024-01-19T13:32:18.956202+00:00", "date_triaged": "2024-01-19T13:32:18.956202+00:00", "date_fix_committed": "2024-01-31T09:23:28.249147+00:00", "date_fix_released": "2024-01-31T09:23:28.249147+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~lujiefsi", "target_link": "https://bugs.launchpad.net/api/devel/magnum", "title": "Bug #2047690 in Magnum: \"time-of-check to time-of-use (TOCTOU) attack\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/magnum/+bug/2047690/related_tasks", "is_complete": true, "http_etag": "\"7adffaec25a3f973c13a9c6cc0a66c62811ae5ec-c0ca4554b56f2a23fe3cc325da7bf3dc46657dc7\""}};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 45 queries/external actions issued in 0.86 seconds

    Features: {'profiling.enabled': None, 'hard_timeout': '9000', 'app.mainsite_only.canonical_url': None, 'js.yui_version': None, 'app.maintenance_message': None, 'bugs.affected_count_includes_dupes.disabled': None, 'baselayout.careers_link.disabled': None, 'visible_render_time': None}

    r6394e03

    -->

</html>

