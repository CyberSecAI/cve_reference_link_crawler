

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Michal Wajdeczko <michal.wajdeczko@intel.com> | 2024-04-09 12:51:06 +0200 |
| --- | --- | --- |
| committer | Michal Wajdeczko <michal.wajdeczko@intel.com> | 2024-04-10 11:21:48 +0200 |
| commit | [a918e771e6fbe1fa68932af5b0cdf473e23090cc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc)) | |
| tree | [08c02f5873e85969943662f863c2f2a7f7ae10d7](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc) | |
| parent | [5d6678882da71491768c6d272199360b16d2e1f6](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5d6678882da71491768c6d272199360b16d2e1f6) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc&id2=5d6678882da71491768c6d272199360b16d2e1f6)) | |
| download | [linux-a918e771e6fbe1fa68932af5b0cdf473e23090cc.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a918e771e6fbe1fa68932af5b0cdf473e23090cc.tar.gz) | |

drm/xe: Check pat.ops before dumping PAT settingsWe may leave pat.ops unset when running on brand new platform or
when running as a VF. While the former is unlikely, the latter
is valid (future) use case and will cause NPD when someone will
try to dump PAT settings by debugfs.
It's better to check pointer to pat.ops instead of specific .dump
hook, as we have this hook always defined for every .ops variant.
Signed-off-by: Michal Wajdeczko <michal.wajdeczko@intel.com>
Reviewed-by: Piotr Pi√≥rkowski <piotr.piorkowski@intel.com>
Link: [https://patchwork.freedesktop.org/patch/msgid/20240409105106.1067-2-michal.wajdeczko@intel.com](https://patchwork.freedesktop.org/patch/msgid/20240409105106.1067-2-michal.wajdeczko%40intel.com)
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc)

| -rw-r--r-- | [drivers/gpu/drm/xe/xe\_pat.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/xe/xe_pat.c?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/gpu/drm/xe/xe\_pat.c b/drivers/gpu/drm/xe/xe\_pat.cindex d76831a4e5d1d1..d5b516f115ade9 100644--- a/[drivers/gpu/drm/xe/xe\_pat.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/xe/xe_pat.c?id=5d6678882da71491768c6d272199360b16d2e1f6)+++ b/[drivers/gpu/drm/xe/xe\_pat.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/xe/xe_pat.c?id=a918e771e6fbe1fa68932af5b0cdf473e23090cc)@@ -458,7 +458,7 @@ void xe\_pat\_dump(struct xe\_gt \*gt, struct drm\_printer \*p) { struct xe\_device \*xe = gt\_to\_xe(gt); - if (!xe->pat.ops->dump)+ if (!xe->pat.ops) return;  xe->pat.ops->dump(gt, p); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 13:35:02 +0000

