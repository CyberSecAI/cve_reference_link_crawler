<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" />
<meta name="description" content="Configure BGP protocol-level tracing options. To specify more than one tracing operation, include multiple flag statements." /><meta name="topicid" content="xi293744" /><meta name="branchId" content="1" /><meta name="jdoc-content-type" content="dita-topic" /><meta name="release" content="junos 24.4" /><script type="application/ld+json">{"@context": "http://schema.org","@type": "WebPage","name": "traceoptions (Protocols BGP) | Junos OS | Juniper Networks","@id": "https://www.juniper.net/documentation/us/en/software/junos24.4/cli-reference/topics/ref/statement/traceoptions-edit-protocols-bgp.html#WebPage","url": "https://www.juniper.net/documentation/us/en/software/junos24.4/cli-reference/topics/ref/statement/traceoptions-edit-protocols-bgp.html"}</script><title>traceoptions (Protocols BGP) | Junos OS | Juniper Networks</title><link rel="preload" href="/documentation/webstatic/fonts/swmaterialicon.woff" as="font" crossorigin="anonymous"><link href="/documentation/webstatic/css/dita.90495aef56907600efccad0901bbc454.css" rel="stylesheet"><script src="https://www.juniper.net/etc.clientlibs/clientlibs/granite/jquery.min.js"></script><link href="https://www.juniper.net/assets/styles/custom/juniper-survey.css" rel="stylesheet" type="text/css"><!--IXF: JavaScript begin-->
<script class="trustecm" trackertype="functional">
    /*
    --LICENSE--
    Access to and use of BrightEdge Link Equity Manager is governed by the 
    Infrastructure Product Terms located at: www.brightedge.com/infrastructure-product-terms. 
    Customer acknowledges and agrees it has read, understands and agrees to be bound by the 
    Infrastructure Product Terms.
    */

    function startBESDK() {
        var be_sdk_options = {
            'api.endpoint': 'https://ixf2-api.bc0a.com',
            'sdk.account': 'f00000000063367',
            'requestparameters.caseinsensitive': true,
            'whitelist.parameter.list': 'ixf'
        };
        BEJSSDK.construct(be_sdk_options);
    }
    (function () {
        var sdkjs = document.createElement('script');
        sdkjs.type = 'text/javascript';
        sdkjs.async = true;
        sdkjs.src = document.location.protocol + '//cdn.bc0a.com/be_ixf_js_sdk.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(sdkjs, s);
        if (document.addEventListener) {
            sdkjs.addEventListener('load', startBESDK);
        } else {
            sdkjs.onreadystatechange = startBESDK;
        }
    })();
</script>
<!--IXF: JavaScript end-->
<script>
    function insertcanonical() {
        var canonicalexists = !!document.querySelector("link[rel='canonical']");
        if (!canonicalexists) {
            var tag = document.createElement("link");
            var pathname = location.pathname;
            var pattern = /\/$/;
            if(pattern.test(pathname)){
                pathname = pathname.replace(pattern,"/index.html");
            }
            // check if last character is slash else add / to be consistent
            var href = "https://www.juniper.net" + pathname;
            tag.setAttribute("rel", "canonical");
            tag.setAttribute("href", href);
            document.head.appendChild(tag);
        }
    }
    insertcanonical();
</script><link rel="preload" as="script" href="/documentation/webstatic/js/manifest.040909899afb9a37f7a6.js"><link rel="preload" as="script" href="/documentation/webstatic/js/vendor.bb155d7fb4b6c28b5e8b.js"><link rel="preload" as="script" href="/documentation/webstatic/js/dita.f1166e0ee37e5335bb2f.js"><link rel="preload" href="https://www.juniper.net/fonts/Lato-Black.woff2" as="font" type="font/woff2" crossorigin="anonymous"><link rel="preload" href="https://www.juniper.net/etc.clientlibs/juniper/clientlibs/clientlib-external-navigation.css" as="style" /><link rel="preload" as="image" href="https://juniper-prod.scene7.com/is/image/junipernetworks/juniper_black-rgb-header"/><script src="https://assets.adobedtm.com/998b2d6d4944658536fe36266a249b07e626b86d/satelliteLib-6d05b7c7a99e1cbbdcac4fcfe7005e6bee80a0e9.js"></script><script type="text/javascript" src="../../../__toc.js" basepath="../../../" id="tocscript"></script></head>
<body id="id-13340801" style="visibility:hidden;">
<!--[if lte IE 9]>
	<div class="message-warning"> You are using unsupported version of Internet Explorer. Please upgrade your browser to latest version.</div>
<![endif]-->
<!-- Start survey script MaritzCX -->
<script type="text/javascript" class="trustecm" trackertype="functional"
	src="https://siteintercept.allegiancetech.com/dist/jn1si001/MCX_Juniper2.js"></script>
<script type="text/javascript" class="trustecm" trackertype="functional"
	src="https://siteintercept.allegiancetech.com/InterceptScripts/mcxSiteIntercept-1.9.1.js"></script>
<div id="mcxInvitationModal">
	<div id="mcxFloating">
		<div id="mcxInfo2">
			<div id="mcxNoButton">
				<button id="mcxNo" onclick="McxSiteInterceptOnExit.declineSurvey();mcxDisplay();">X</button>
			</div>
			<div id="mcxLogos">
				<img src="https://junipernetworks.allegiancetech.com/surveys/images/MRVCXM/juniper_logo.jpg">
			</div>
			<div class="clearfix">
				<p id="mcxHeading">Help us improve your experience.</p>
				<p id="mcxText1">Let us know what you think. </p>
				<p id="mcxText2">Do you have time for a two-minute survey?</p>
			</div>
			<div id="mcxYesButton" onClick="McxSiteInterceptOnExit.acceptSurvey();mcxDisplay();" class="clearfix">
				<button id="mcxYes">Yes</button>
			</div>
			<div>
				<button id="noLater" onclick="McxSiteInterceptOnExit.declineSurvey();mcxDisplay();">Maybe Later</button>
			</div>
		</div>
	</div>
</div>
<script>
	window.addEventListener('message', function (e) {
		var key = e.message ? 'message' : 'data';
		var data = e[key];
		if (data === 'MaritzCX Survey Close') {
			McxSiteInterceptOnExit.closeSurveyModal(); //close iframe
		}
	}, false);
</script>
<!-- End survey script MaritzCX --><script type="application/ld+json">
  {
"@context": "http://schema.org",
"@type": "Organization",
"name": "Juniper Networks",
"url": "https://www.juniper.net/us/en/",
"logo": "https://www.juniper.net/assets/svg/jnpr-logo.svg",
"sameAs": ["https://en.wikipedia.org/wiki/Juniper_Networks",
  "https://www.facebook.com/JuniperNetworks/",
  "https://twitter.com/JuniperNetworks/",
  "https://www.linkedin.com/company/juniper-networks",
  "https://www.youtube.com/junipernetworks",
  "https://www.instagram.com/junipernetworks/"
  ]
}
</script>

<script type="application/ld+json">
{
"@context": "http://schema.org",
"@id": "https://www.juniper.net/us/en/#website",
"@type": "WebSite",
"url": "https://www.juniper.net/us/en/",
"name": "Juniper Networks",
"alternateName": "Juniper, Juniper Networks Inc.",
"publisher": {
  "@type": "Corporation",
  "name": "Juniper Networks"
  }
}
</script><div id="app"><sw-app inline-template=""><div><sw-header></sw-header><sw-change-widget></sw-change-widget><div class="main wrapper"><sw-leftnav>Â </sw-leftnav><sw-rightnav><div class="minitoc desktop-only"><h5>ON THIS PAGE</h5><ul v-scrollspy=""><li><p><a href="#id-13340801__d890956e30">Syntax</a></p></li><li><p><a href="#id-13340801__d890956e50">Hierarchy Level</a></p></li><li><p><a href="#id-13340801__d890956e156">Description</a></p></li><li><p><a href="#id-13340801__d890956e167">Default</a></p></li><li><p><a href="#id-13340801__d890956e184">Options</a></p></li><li><p><a href="#id-13340801__d890956e513">Required Privilege Level</a></p></li><li><p><a href="#id-13340801__d890956e520">Release Information</a></p></li></ul></div></sw-rightnav><div class="l-body"><div class="page-options clearfix"><sw-breadcrumb>Â </sw-breadcrumb></div><div class="topicBody"><div id="topic-content">

<h1 class="title topictitle1" id="ariaid-title1">traceoptions (Protocols BGP)</h1>
<sw-topic-details date="2023-11-20"></sw-topic-details><div class="body refbody"><div class="section" id="id-13340801__d890956e30"><h2 class="title sectiontitle">Syntax</h2><sw-code><template v-pre=""><pre>traceoptions {
    file <var class="keyword varname">filename</var> &lt;filesÂ <var class="keyword varname">number</var>&gt; &lt;sizeÂ <var class="keyword varname">size</var>&gt; &lt;world-readableÂ | no-world-readable&gt;;
    flag <var class="keyword varname">flag</var> &lt;<var class="keyword varname">flag-modifier</var>&gt; &lt;disable&gt;;
}
</pre></template></sw-code></div>
<div class="section" id="id-13340801__d890956e50"><h2 class="title sectiontitle">Hierarchy Level</h2><sw-code><template v-pre=""><pre>[edit logical-systems <var class="keyword varname">logical-system-name</var> protocols bgp],
[edit logical-systems <var class="keyword varname">logical-system-name</var> protocols bgp <a class="xref" href="group-edit-protocols-bgp.html">group</a> <var class="keyword varname">group-name</var>],
[edit logical-systems <var class="keyword varname">logical-system-name</var> protocols bgp <a class="xref" href="group-edit-protocols-bgp.html">group</a> <var class="keyword varname">group-name</var> neighbor <var class="keyword varname">address</var>],
[edit logical-systems <var class="keyword varname">logical-system-name</var> routing-instances <var class="keyword varname">routing-instance-name</var> protocols bgp],
[edit logical-systems <var class="keyword varname">logical-system-name</var> routing-instances <var class="keyword varname">routing-instance-name</var> protocols bgp <a class="xref" href="group-edit-protocols-bgp.html">group</a> <var class="keyword varname">group-name</var>],
[edit logical-systems <var class="keyword varname">logical-system-name</var> routing-instances <var class="keyword varname">routing-instance-name</var> protocols bgp group <var class="keyword varname">group-name</var> <a class="xref" href="neighbor-edit-protocols-bgp.html">neighbor</a> <var class="keyword varname">address</var>],
[edit protocols bgp],
[edit protocols bgp <a class="xref" href="group-edit-protocols-bgp.html">group</a> <var class="keyword varname">group-name</var>],
[editÂ protocolsÂ bgpÂ group <var class="keyword varname">group-name</var> <a class="xref" href="neighbor-edit-protocols-bgp.html">neighbor</a> <var class="keyword varname">address</var>],
[edit routing-instances <var class="keyword varname">routing-instance-name</var> protocols bgp],
[edit routing-instances <var class="keyword varname">routing-instance-name</var> protocols bgp <a class="xref" href="group-edit-protocols-bgp.html">group</a> <var class="keyword varname">group-name</var>],
[editÂ routing-instances <var class="keyword varname">routing-instance-name</var> protocols bgp group <var class="keyword varname">group-name</var> <a class="xref" href="neighbor-edit-protocols-bgp.html">neighbor</a> <var class="keyword varname">address</var>]
</pre></template></sw-code></div>
<div class="section" id="id-13340801__d890956e156"><h2 class="title sectiontitle">Description</h2><p class="p">Configure BGP protocol-level tracing options. To
specify more than one tracing operation, include multiple flag statements.</p>
<sw-admonition name=""><div class="note"><span class="notetitle">Note:</span> <p class="p">The <code class="ph codeph">traceoptions</code> statement is not supported
on QFabric systems.</p>
</div>
</sw-admonition></div>
<div class="section" id="id-13340801__d890956e167"><h2 class="title sectiontitle">Default</h2><p class="p">The default BGP protocol-level tracing options are
inherited from the routing protocols <code class="ph codeph">traceoptions</code> statement
included at the <code class="ph codeph">[edit routing-options]</code> hierarchy level.
The default group-level trace options are inherited from the BGP protocol-level <code class="ph codeph">traceoptions</code> statement. The default peer-level trace options
are inherited from the group-level <code class="ph codeph">traceoptions</code> statement.</p>
</div>
<div class="section" id="id-13340801__d890956e184"><h2 class="title sectiontitle">Options</h2><p class="p"><code class="ph codeph">disable</code>â(Optional) Disable
the tracing operation. You can use this option to disable a single
operation when you have defined a broad group of tracing operations,
such as <code class="ph codeph">all</code>.</p>
<p class="p"><code class="ph codeph">file <var class="keyword varname">name</var></code>âName of the
file to receive the output of the tracing operation. Enclose the name
within quotation marks. All files are placed in the directory <span class="ph filepath">/var/log</span>. We recommend that you place BGP tracing
output in the file <span class="ph filepath">bgp-log</span>.</p>
<p class="p"><code class="ph codeph">files <var class="keyword varname">number</var></code>â(Optional)
Maximum number of trace files. When a trace file named <span class="ph filepath"><var class="keyword varname">trace-file</var>.0</span> reaches its maximum
size, it is renamed <span class="ph filepath"><var class="keyword varname">trace-file</var>.0</span>, then <span class="ph filepath"><var class="keyword varname">trace-file</var>.1</span>, and so on, until the maximum number of trace
files is reached. Then, the oldest trace file is overwritten. If you
specify a maximum number of files, you must also specify a maximum
file size with the <code class="ph codeph">size</code> option.</p>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Range: </strong>2 through 1000Â files</p>
</li>
</ul>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Default: </strong>10Â files</p>
</li>
</ul>
<p class="p"><code class="ph codeph"><var class="keyword varname">flag</var></code>âTracing operation
to perform. To specify more than one tracing operation, include multiple <code class="ph codeph">flag</code> statements. </p>
<p class="p">BGP Tracing Flags</p>
<ul class="ul"><li class="li">
                    <p class="p"><code class="ph codeph">4byte-as</code>â4-byte AS events.</p>

                </li>
<li class="li">
                    <p class="p"><code class="ph codeph">bfd</code>âBFD protocol events.</p>

                </li>
<li class="li">
                    <p class="p"><code class="ph codeph">damping</code>âDamping operations.</p>

                </li>
<li class="li">
                    <p class="p"><code class="ph codeph">graceful-restart</code>âGraceful restart events.</p>

                </li>
<li class="li">
                    <p class="p"><code class="ph codeph">ipsec</code>âEvents related to IPsec support for BGP peers when the
                        IPsec is configured.</p>

                </li>
<li class="li">
                    <p class="p"><code class="ph codeph">keepalive</code>âBGP keepalive messages. If you enable the the BGP
                            <code class="ph codeph">update</code> flag only, received keepalive messages do not
                        generate a trace message.</p>

                </li>
<li class="li">
                    <p class="p"><code class="ph codeph">nsr-synchronization</code>âNonstop routing synchronization
                        events.</p>

                </li>
<li class="li">
                    <p class="p"><code class="ph codeph">open</code>âOpen packets. These packets are sent between peers when
                        they are establishing a connection. </p>

                </li>
<li class="li">
                    <p class="p"><code class="ph codeph">packets</code>âAll BGP protocol packets.</p>

                </li>
<li class="li">
                    <p class="p"><code class="ph codeph">refresh</code>âBGP refresh packets.</p>

                </li>
<li class="li">
                    <p class="p"><code class="ph codeph">update</code>âUpdate packets. These packets provide routing updates
                        to BGP systems. If you enable only this flag, received keepalive messages do
                        not generate a trace message. Use the <code class="ph codeph">keepalive</code> flag to
                        generate a trace message for keepalive messages.</p>

                </li>
</ul>
<p class="p">Global Tracing Flags</p>
<ul class="ul"><li class="li"><p class="p"><code class="ph codeph">all</code>âAll tracing operations</p>
</li>
<li class="li"><p class="p"><code class="ph codeph">general</code>âA combination of the <code class="ph codeph">normal</code> and <code class="ph codeph">route</code> trace operations</p>
</li>
<li class="li"><p class="p"><code class="ph codeph">normal</code>âAll normal operations</p>
</li>
</ul>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Default: </strong>If you do not specify this option, only unusual
or abnormal operations are traced.</p>
</li>
</ul>
<ul class="ul"><li class="li"><p class="p"><code class="ph codeph">policy</code>âPolicy operations and actions</p>
</li>
<li class="li"><p class="p"><code class="ph codeph">route</code>âRouting table changes</p>
</li>
<li class="li"><p class="p"><code class="ph codeph">state</code>âState transitions</p>
</li>
<li class="li"><p class="p"><code class="ph codeph">task</code>âRouting protocol task processing</p>
</li>
<li class="li"><p class="p"><code class="ph codeph">timer</code>âRouting protocol timer processing</p>
</li>
</ul>
<p class="p"><code class="ph codeph"><var class="keyword varname">flag-modifier</var></code>â(Optional)
Modifier for the tracing flag. You can specify one or more of these
modifiers:</p>
<ul class="ul"><li class="li"><p class="p"><code class="ph codeph">detail</code>âProvide detailed trace information.</p>
</li>
<li class="li"><p class="p"><code class="ph codeph">filter</code>âProvide filter trace information.
Applies only to <code class="ph codeph">route</code>, <code class="ph codeph">damping</code>, and <code class="ph codeph">update</code> tracing flags.</p>
</li>
<li class="li"><p class="p"><code class="ph codeph">receive</code>âTrace the packets being received. </p>
</li>
<li class="li"><p class="p"><code class="ph codeph">send</code>âTrace the packets being transmitted. </p>
</li>
</ul>
<p class="p"><code class="ph codeph">no-world-readable</code>â(Optional) Prevent any user
from reading the log file.</p>
<p class="p"><code class="ph codeph">size <var class="keyword varname">size</var></code>â(Optional) Maximum
size of each trace file, inÂ kilobytes (KB),Â megabytes (MB),
orÂ gigabytes (GB). When a trace file named <span class="ph filepath"><var class="keyword varname">trace-file</var></span> reaches this size, it is renamed <span class="ph filepath"><var class="keyword varname">trace-file</var>.0</span>. When the <span class="ph filepath"><var class="keyword varname">trace-file</var></span> again reaches its
maximum size, <span class="ph filepath"><var class="keyword varname">trace-file</var>.0</span> is renamed <span class="ph filepath"><var class="keyword varname">trace-file</var>.1</span> and <span class="ph filepath"><var class="keyword varname">trace-file</var></span> is renamed <span class="ph filepath"><var class="keyword varname">trace-file</var>.0</span>. This renaming scheme continues until the maximum number of trace
files is reached. Then, the oldest trace file is overwritten. If you
specify a maximum file size, you also must specify a maximum number
of trace files with the <code class="ph codeph">files</code> option.</p>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Syntax: </strong><code class="ph codeph"><var class="keyword varname">x</var>k</code> to specifyÂ KB, <code class="ph codeph"><var class="keyword varname">x</var>m</code> to specifyÂ MB, or <code class="ph codeph"><var class="keyword varname">x</var>g</code> to specifyÂ GB</p>
</li>
</ul>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Range: </strong>10Â KB through the maximum file size supported
on your system</p>
</li>
</ul>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Default: </strong>128Â KB</p>
</li>
</ul>
<p class="p"><code class="ph codeph">world-readable</code>â(Optional) Allow any user to
read the log file.</p>
</div>
<div class="section" id="id-13340801__d890956e513"><h2 class="title sectiontitle">Required Privilege Level</h2><p class="p">routing and traceâTo view this statement
in the configuration.</p>
<p class="p">routing-control and trace-controlâTo add this statement
to the configuration.</p>
</div>
<div class="section" id="id-13340801__d890956e520"><h2 class="title sectiontitle">Release Information</h2>
            
            <p class="p">Statement introduced before Junos OS ReleaseÂ 7.4.</p>

            <p class="p"><code class="ph codeph">4byte-as</code> statement introduced in Junos OS ReleaseÂ 9.2.</p>

            <p class="p"><code class="ph codeph">4byte-as</code> statement introduced in Junos OS Release 9.2 for EX Series
                switches.</p>

            
            <p class="p"><code class="ph codeph">ipsec</code> statement introduced in Junos OS Evolved Release 21.3R1.</p>

            
        </div>
</div>
<div class="l-aside-box related-documentation"><h3 class="related-links-title">Related Documentation</h3><div class="related-links-body"><ul><li><div><a class="link" href="log-updown-edit-protocols-bgp.html">log-updown</a></div>
</li><li><div><a class="link" href="../../../../high-availability/topics/task/nsr-synchronization-events-tracing.html">Tracing Nonstop Active Routing
Synchronization Events</a></div>
</li><li><div><a class="link" href="../../../../bgp/topics/topic-map/bgp-monitoring-protocol.html#id-understanding-trace-operations-for-bgp-protocol-traffic">Understanding Trace Operations for BGP Protocol
Traffic</a></div>
</li><li><div><a class="link" href="../../../../ospf/topics/topic-map/configuring-ospf-route-control.html#id-configuring-ospf-refresh-and-flooding-reduction-in-stable-topologies">Configuring OSPF Refresh and Flooding Reduction
in Stable Topologies</a></div>
</li></ul></div></div></div><sw-prev-next>Â </sw-prev-next></div><sw-comments>Â </sw-comments></div></div><sw-pop-over></sw-pop-over><sw-footer></sw-footer></div></sw-app></div><script type="text/javascript" src="/documentation/webstatic/js/manifest.040909899afb9a37f7a6.js"></script><script type="text/javascript" src="/documentation/webstatic/js/vendor.bb155d7fb4b6c28b5e8b.js"></script><script type="text/javascript" src="/documentation/webstatic/js/dita.f1166e0ee37e5335bb2f.js"></script><script type="text/javascript" src="/assets/scripts/custom/cookie-consent.js"></script><script type="text/javascript">_satellite.pageBottom();</script></body>
</html>