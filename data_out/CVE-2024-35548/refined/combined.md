=== Content from github.com_5e5b4e51_20250110_170418.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbaomidou%2Fmybatis-plus%2Fissues%2F6167)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbaomidou%2Fmybatis-plus%2Fissues%2F6167)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=baomidou%2Fmybatis-plus)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[baomidou](/baomidou)
/
**[mybatis-plus](/baomidou/mybatis-plus)**
Public

* [Notifications](/login?return_to=%2Fbaomidou%2Fmybatis-plus) You must be signed in to change notification settings
* [Fork
  4.3k](/login?return_to=%2Fbaomidou%2Fmybatis-plus)
* [Star
   16.6k](/login?return_to=%2Fbaomidou%2Fmybatis-plus)

* [Code](/baomidou/mybatis-plus)
* [Issues
  73](/baomidou/mybatis-plus/issues)
* [Pull requests
  11](/baomidou/mybatis-plus/pulls)
* [Actions](/baomidou/mybatis-plus/actions)
* [Projects
  0](/baomidou/mybatis-plus/projects)
* [Security](/baomidou/mybatis-plus/security)
* [Insights](/baomidou/mybatis-plus/pulse)

Additional navigation options

* [Code](/baomidou/mybatis-plus)
* [Issues](/baomidou/mybatis-plus/issues)
* [Pull requests](/baomidou/mybatis-plus/pulls)
* [Actions](/baomidou/mybatis-plus/actions)
* [Projects](/baomidou/mybatis-plus/projects)
* [Security](/baomidou/mybatis-plus/security)
* [Insights](/baomidou/mybatis-plus/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fbaomidou%2Fmybatis-plus%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fbaomidou%2Fmybatis-plus%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# close issues #6167

Closed

[cangkuai](/cangkuai) opened this issue
May 15, 2024
· 19 comments

Closed

# [close issues](#top) #6167

[cangkuai](/cangkuai) opened this issue
May 15, 2024
· 19 comments

## Comments

[![@cangkuai](https://avatars.githubusercontent.com/u/33569578?s=80&u=cd7e028af26b11ac599484d93a506a158a82dfe3&v=4)](/cangkuai)

Copy link

### **[cangkuai](/cangkuai)** commented [May 15, 2024](#issue-2296784840) • edited Loading

| *No description provided.* |
| --- |
| The text was updated successfully, but these errors were encountered: |

 👎
6
 aooohan, 1638234804, chencu5958, zhangbohun, ran222, and bigbug-gg reacted with thumbs down emoji

All reactions

* 👎
  6 reactions

[![@cangkuai](https://avatars.githubusercontent.com/u/33569578?s=40&u=cd7e028af26b11ac599484d93a506a158a82dfe3&v=4)](/cangkuai)
[cangkuai](/cangkuai)
changed the title
~~update CRUD可能存在布尔盲注漏洞~~
Possible Boolean Blind Vulnerability in update CRUD
[May 15, 2024](#event-12810684728)

[![@miemieYaho](https://avatars.githubusercontent.com/u/28334419?s=40&u=524fb7e09092037e357a6aad5501cf92e5d30563&v=4)](/miemieYaho)
[miemieYaho](/miemieYaho)
closed this as [completed](/baomidou/mybatis-plus/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[May 15, 2024](#event-12811139674)

[![@VampireAchao](https://avatars.githubusercontent.com/u/52746628?s=80&u=3e7f85e2ba0f2f45491e27235f8980a767a8c38c&v=4)](/VampireAchao)

Copy link

Contributor

### **[VampireAchao](/VampireAchao)** commented [May 15, 2024](#issuecomment-2111756517)

| 不要这么用 |
| --- |

 👍
9
 clinker, whcrow, VampireAchao, mikodream, 786744873, sheep-recursion, qq418745, hwc0919, and ran222 reacted with thumbs up emoji
 👎
1
 dexterleslie1 reacted with thumbs down emoji

All reactions

* 👍
  9 reactions
* 👎
  1 reaction

Sorry, something went wrong.

[![@miemieYaho](https://avatars.githubusercontent.com/u/28334419?s=80&u=524fb7e09092037e357a6aad5501cf92e5d30563&v=4)](/miemieYaho)

Copy link

Member

### **[miemieYaho](/miemieYaho)** commented [May 29, 2024](#issuecomment-2136429956)

| 笑死个仙人了 |
| --- |

 👎
7
 dexterleslie1, duan130196, hwc0919, ran222, tantalate, leetom, and dqget reacted with thumbs down emoji

All reactions

* 👎
  7 reactions

Sorry, something went wrong.

[![@cangkuai](https://avatars.githubusercontent.com/u/33569578?s=40&u=cd7e028af26b11ac599484d93a506a158a82dfe3&v=4)](/cangkuai)
[cangkuai](/cangkuai)
changed the title
~~Possible Boolean Blind Vulnerability in update CRUD~~
close issues
[May 29, 2024](#event-12965532129)

[![@jinceon](https://avatars.githubusercontent.com/u/1641265?s=80&u=cf29a4de3b2d6909998cfc7371e3779f1860d2d7&v=4)](/jinceon)

Copy link

### **[jinceon](/jinceon)** commented [May 29, 2024](#issuecomment-2136949134)

| 顺着公众号的声明来的，特意来看看这个issue怎么回事。 说实话，一开始我的观点是赞同mybatis-plus声明里评论的观点的。 就好比 mybatis 的 `#{}` 和 `${}` ，你不能用了 `${}` 还要从前端传入任意参数。  但是看到楼上2个回复的用户还挂着 contributor 和 member 的徽章，我觉得你们官方的问题更大。  评论1的问题：网友竟然来提问了，大概率就是个小白，你回复个【不要这么用】还不如别回复。 可以回复一句，就好比mybatis的`#{}`和`${}` ，mybatis-plus提供了 LambdaUpdateWrapper 和 UpdateWrapper 。 而且这么多的issue里类似的回复不是一次两次，有些issue是直接关闭，你们是有issue的kpi考核吗？  ``` // #{column}=#{value}      ==>      `name`="张三"          其中 `name`带转义 new LambdaUpdateWrapper<user>().eq(true, user::getName, "张三")    //  ${column} = #{value}    ==>    name = "张三"   其中name就是纯字符串拼接 new UpdateWrapper<user>().eq(true, "name", "张三") ```  其实说白了就是mybatis-plus官方假定了你使用UpdateWrapper的时候，一定是后端写死的column的。 但是它又不像mybatis那样反复强调 # 和 $的区别。 所以拿这个来和mybatis举例也不恰当，因为几乎所有人都知道#和$的区别。 但是出于目前框架几乎都处理了sql injection的时代背景，有人不理解为什么没对column做处理很正常。  评论2的问题：【笑死个仙人了】我都不想吐槽了。 如果你只是个网友，回复了就回复了，好歹挂着个【Member】的徽章，一点影响都不注意的吗？ |
| --- |

 👍
45
 refeccd, ka1n4t, ZhangYuanSheng1217, tydhot, g00dfe11ow, ESCATS, iioSnail, wkgcass, lensferno, imi4u36d, and 35 more reacted with thumbs up emoji
 👎
15
 clinker, litian-98, VampireAchao, hanhuafeng, 2486095992, mikodream, 786744873, slowpz, 1imoonlight, YY-Me, and 5 more reacted with thumbs down emoji

All reactions

* 👍
  45 reactions
* 👎
  15 reactions

Sorry, something went wrong.

[![@miemieYaho](https://avatars.githubusercontent.com/u/28334419?s=80&u=524fb7e09092037e357a6aad5501cf92e5d30563&v=4)](/miemieYaho)

Copy link

Member

### **[miemieYaho](/miemieYaho)** commented [May 29, 2024](#issuecomment-2136973172)

| 注意什么? 作为一个合格的开发column还能前端传什么你都直接用,那更适合去工地搬砖,搬砖几乎不需要动脑子 |
| --- |

 👍
15
 clinker, whcrow, litian-98, 2486095992, 666jinli, ran222, mikodream, slowpz, TaoShen2018, YY-Me, and 5 more reacted with thumbs up emoji
 👎
39
 g00dfe11ow, iioSnail, wkgcass, dmankill, imi4u36d, JackieJK, cangkuai, franticn, github20220907, sola1tmy, and 29 more reacted with thumbs down emoji

All reactions

* 👍
  15 reactions
* 👎
  39 reactions

Sorry, something went wrong.

[![@jinceon](https://avatars.githubusercontent.com/u/1641265?s=80&u=cf29a4de3b2d6909998cfc7371e3779f1860d2d7&v=4)](/jinceon)

Copy link

### **[jinceon](/jinceon)** commented [May 29, 2024](#issuecomment-2137055534) via email

| 嗯，框架就不该解决sql注入。 毕竟作为一个合格的开发，连sql注入这种低级问题都不能解决，就应该去搬砖，搬砖不用脑子。 发自我的iPhone … ------------------ Original ------------------ From: miemieYaho \*\*\*@\*\*\*.\*\*\*&gt; Date: Wed,May 29,2024 5:34 PM To: baomidou/mybatis-plus \*\*\*@\*\*\*.\*\*\*&gt; Cc: JinCeon \*\*\*@\*\*\*.\*\*\*&gt;, Comment \*\*\*@\*\*\*.\*\*\*&gt; Subject: Re: [baomidou/mybatis-plus] close issues (Issue [#6167](https://github.com/baomidou/mybatis-plus/issues/6167)) 注意什么? 作为一个合格的开发column还能前端传什么你都直接用,那更适合去工地搬砖,搬砖几乎不需要动脑子 — Reply to this email directly, view it on GitHub, or unsubscribe. You are receiving this because you commented.Message ID: \*\*\*@\*\*\*.\*\*\*&gt; |
| --- |

 👍
8
 whcrow, JackieJK, cangkuai, sheep-recursion, TAKETODAY, dexterleslie1, kvsl0, and Mino9526 reacted with thumbs up emoji
 👎
7
 clinker, litian-98, ravenmk3, 2486095992, IXBOB, ran222, and zx865321679 reacted with thumbs down emoji

All reactions

* 👍
  8 reactions
* 👎
  7 reactions

Sorry, something went wrong.

[![@foyaga](https://avatars.githubusercontent.com/u/62537001?s=40&v=4)](/foyaga)
[foyaga](/foyaga)
mentioned this issue
[May 30, 2024](#ref-issue-2324568129)

[MyBatis Plus<=3.5.6 存在SQL注入漏洞
foyaga/blog-timeline#249](/foyaga/blog-timeline/issues/249)

Open

[![@lesper](https://avatars.githubusercontent.com/u/22119288?s=80&u=042d905e9167aa35c4c03bf8ccde2a6bc06ede5d&v=4)](/lesper)

Copy link

### **[lesper](/lesper)** commented [Jun 3, 2024](#issuecomment-2144119953)

| 嗯，框架就不该解决sql注入。 毕竟作为一个合格的开发，连sql注入这种低级问题都不能解决，就应该去搬砖，搬砖不用脑子。 发自我的iPhone … ------------------ Original ------------------ From: miemieYaho ***@***.***> Date: Wed,May 29,2024 5:34 PM To: baomidou/mybatis-plus ***@***.***> Cc: JinCeon ***@***.***>, Comment ***@***.***> Subject: Re: [baomidou/mybatis-plus] close issues (Issue [#6167](https://github.com/baomidou/mybatis-plus/issues/6167)) 注意什么? 作为一个合格的开发column还能前端传什么你都直接用,那更适合去工地搬砖,搬砖几乎不需要动脑子 — Reply to this email directly, view it on GitHub, or unsubscribe. You are receiving this because you commented.Message ID: ***@***.\*\*\*>  《合格的开发》《前端传什么用什么》要不后端直接引入apijson或者开个sql执行接口，前端想要什么数据自己写SQL，出了问题也是前端的。 |
| --- |

 👍
2
 JackieJK and LinFf2394 reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

Sorry, something went wrong.

[![@lly-ke](https://avatars.githubusercontent.com/u/28623614?s=80&u=3992f8e6e589baa51675d6acefba2d59cbce5d6f&v=4)](/lly-ke)

Copy link

### **[lly-ke](/lly-ke)** commented [Jun 3, 2024](#issuecomment-2144157596) • edited Loading

| [#1207](https://github.com/baomidou/mybatis-plus/issues/1207)  和我之前提的类似, 3.5.3.2 加了checkSqlInjection, 只解决了QueryWrapper 中的sql注入, 其他类使用姿势不会还是会被sql注入  既然这个框架不全局处理sql注入, 加checkSqlInjection有什么意义呢??? |
| --- |

All reactions

Sorry, something went wrong.

[![@floydmd2x](https://avatars.githubusercontent.com/u/120371447?s=80&v=4)](/floydmd2x)

Copy link

### **[floydmd2x](/floydmd2x)** commented [Jun 3, 2024](#issuecomment-2144170552)

| [@miemieYaho](https://github.com/miemieYaho) 你的头像很符合我对你的第一感觉, 眼神里面充满睿智 |
| --- |

 👍
6
 karl-chanel, TAKETODAY, kvsl0, leetom, tantalate, and cutefanfan reacted with thumbs up emoji
 👎
6
 mikodream, iseki0, ouuan, slysnight, lonelyman0108, and hwc0919 reacted with thumbs down emoji

All reactions

* 👍
  6 reactions
* 👎
  6 reactions

Sorry, something went wrong.

[![@miemieYaho](https://avatars.githubusercontent.com/u/28334419?s=80&u=524fb7e09092037e357a6aad5501cf92e5d30563&v=4)](/miemieYaho)

Copy link

Member

### **[miemieYaho](/miemieYaho)** commented [Jun 3, 2024](#issuecomment-2144217570)

| [@miemieYaho](https://github.com/miemieYaho) 你的头像很符合我对你的第一感觉, 眼神里面充满睿智  拿头像说事你他娘的还真是个人才 |
| --- |

 👎
2
 leetom and tantalate reacted with thumbs down emoji

All reactions

* 👎
  2 reactions

Sorry, something went wrong.

[![@VampireAchao](https://avatars.githubusercontent.com/u/52746628?s=80&u=3e7f85e2ba0f2f45491e27235f8980a767a8c38c&v=4)](/VampireAchao)

Copy link

Contributor

### **[VampireAchao](/VampireAchao)** commented [Jun 3, 2024](#issuecomment-2144229098)

| 顺着公众号的声明来的，特意来看看这个issue怎么回事。 说实话，一开始我的观点是赞同mybatis-plus声明里评论的观点的。 就好比 mybatis 的 `#{}` 和 `${}` ，你不能用了 `${}` 还要从前端传入任意参数。  但是看到楼上2个回复的用户还挂着 contributor 和 member 的徽章，我觉得你们官方的问题更大。  评论1的问题：网友竟然来提问了，大概率就是个小白，你回复个【不要这么用】还不如别回复。 可以回复一句，就好比mybatis的`#{}`和`${}` ，mybatis-plus提供了 LambdaUpdateWrapper 和 UpdateWrapper 。 而且这么多的issue里类似的回复不是一次两次，有些issue是直接关闭，你们是有issue的kpi考核吗？  ``` // #{column}=#{value}      ==>      `name`="张三"          其中 `name`带转义 new LambdaUpdateWrapper<user>().eq(true, user::getName, "张三")    //  ${column} = #{value}    ==>    name = "张三"   其中name就是纯字符串拼接 new UpdateWrapper<user>().eq(true, "name", "张三") ```  其实说白了就是mybatis-plus官方假定了你使用UpdateWrapper的时候，一定是后端写死的column的。 但是它又不像mybatis那样反复强调 # 和 $的区别。 所以拿这个来和mybatis举例也不恰当，因为几乎所有人都知道#和$的区别。 但是出于目前框架几乎都处理了sql injection的时代背景，有人不理解为什么没对column做处理很正常。  评论2的问题：【笑死个仙人了】我都不想吐槽了。 如果你只是个网友，回复了就回复了，好歹挂着个【Member】的徽章，一点影响都不注意的吗？  **不要这么讲**  【Member】的徽章，只代表持续对该项目的贡献得到了认可，同时也给予维护开源项目代码、进行社区issue回复的责任，这并不意味着可以被道德绑架要求每一次回复都“尽善尽美”。做开源完全是“为爱发电”，但最近越来越让我感觉像是在做服务行业。开源本身是一件伟大的事，将自己的经验所得，分享给全世界，并且接受让所有人看到、参与的义举。如果您觉得我回复的简短，实际上我们已经反复、再三强调如何处理、预防该问题。甚至单独拿出一页官方文档说明： <https://baomidou.com/reference/about-cve/>  如果您觉得我个人德不配位，我虚心接受，尽量以后在回复您的issue时三思而后行，也感谢您对MP的关注，和指出我个人的不足  这里我对您衷心道歉，也希望大家引以为戒，不要再像我一样，在为生计奔波的同时，抽出个人时间用爱发电，还不认真发电 |
| --- |

 👍
25
 hanhuafeng, VampireAchao, Egoist-Chaos, hltj, 2486095992, 666jinli, fjtianyu, oomeow, wouijvziqy, 786744873, and 15 more reacted with thumbs up emoji
 👎
4
 ouuan, DeH40, qubicllj, and leetom reacted with thumbs down emoji
 😄
1
 786744873 reacted with laugh emoji
 🎉
1
 786744873 reacted with hooray emoji
 ❤️
3
 786744873, TAKETODAY, and hwc0919 reacted with heart emoji
 🚀
1
 786744873 reacted with rocket emoji

All reactions

* 👍
  25 reactions
* 👎
  4 reactions
* 😄
  1 reaction
* 🎉
  1 reaction
* ❤️
  3 reactions
* 🚀
  1 reaction

Sorry, something went wrong.

[![@jinceon](https://avatars.githubusercontent.com/u/1641265?s=80&u=cf29a4de3b2d6909998cfc7371e3779f1860d2d7&v=4)](/jinceon)

Copy link

### **[jinceon](/jinceon)** commented [Jun 4, 2024](#issuecomment-2147258764)

| [@VampireAchao](https://github.com/VampireAchao)  尽量以后在回复您的issue时三思而后行  我都不知道该说啥了，发个狗头表情🐶保命 |
| --- |

All reactions

Sorry, something went wrong.

[![@jinceon](https://avatars.githubusercontent.com/u/1641265?s=80&u=cf29a4de3b2d6909998cfc7371e3779f1860d2d7&v=4)](/jinceon)

Copy link

### **[jinceon](/jinceon)** commented [Jun 4, 2024](#issuecomment-2147259855) • edited Loading

| 好多人还是拿其他orm和前端传参来说事。  我想再说下文档。  就拿mybatis的文档来说，官方非常清晰地介绍了 #{} 和 ${} 的使用场景。  你会非常清晰地理解两者的区别。  [mybatis – MyBatis 3 | XML 映射器](https://mybatis.org/mybatis-3/zh_CN/sqlmap-xml.html#parameters) [image](https://private-user-images.githubusercontent.com/1641265/336424330-ef5553a0-4a9e-4ab1-8e7f-3416e37929e4.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1Mjg5NTcsIm5iZiI6MTczNjUyODY1NywicGF0aCI6Ii8xNjQxMjY1LzMzNjQyNDMzMC1lZjU1NTNhMC00YTllLTRhYjEtOGU3Zi0zNDE2ZTM3OTI5ZTQucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTBUMTcwNDE3WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZWZhMjk0MDRlZDU0YjU2ZTA5NGMyNzJhMDM4MWY3ZGNhOThlZGIwNDNjMTdmNDljZWI3OGVlYzQwODhhYjJkNSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.Td_tOCALs-xg_z39PyzTSXFbJ-zMQRR3hICAS9X15AQ) 但是mybatis-plus呢？你完全感受不到普通wrapper和lambda wrapper的差异。  它还特意告诉你，普通wrapper和lambda wrapper生成的sql相同。  ``` QueryWrapper<User> queryWrapper = new QueryWrapper<>(); queryWrapper.eq("name", "老王"); ```  对于用户来说，"name"和"老王"都是字符串，结果底层实现的时候"name"是字符串拼接，"老王"却是做了处理的。  谁能想到？  因为在用mybatis的时候，#{}和${}是用户自己写的，而用mybatis-plus的queryWrapper的时候，相当于mybatis-plus替用户写了#{}和${}，mybatis-plus对用户屏蔽了细节。  如果由我设计，我会类似mybatis一样，强烈推荐用User::getName来做column字段，这样也可以在字段名重命名的时候立马就发现了，方便全局重构。  用"name"这种字符串唯一的场景，就是需要（前端）动态传入。  [image](https://private-user-images.githubusercontent.com/1641265/336424413-9df9d0ce-3d93-46bd-9bbf-039744336244.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1Mjg5NTcsIm5iZiI6MTczNjUyODY1NywicGF0aCI6Ii8xNjQxMjY1LzMzNjQyNDQxMy05ZGY5ZDBjZS0zZDkzLTQ2YmQtOWJiZi0wMzk3NDQzMzYyNDQucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTBUMTcwNDE3WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OWE5OGY0ODYzNWEwNWNiMWY3MzFhYmNkZDZlMzFjMTdjY2U0NDA3NjU3MGYzMWQwOWUyZDgxYjg4ZDRmMTY1YSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.9OdKn6ss-Kxx4SpdHYHH2GRiEw8su3aUo9zgSPv5kA0) |
| --- |

 👍
7
 ShiinaKin, sheep-recursion, greatyy, ouuan, kvsl0, DeH40, and 1Jack2 reacted with thumbs up emoji
 👎
4
 2486095992, ran222, mikodream, and YuXuanXia9966 reacted with thumbs down emoji
 😕
2
 VampireAchao and YuXuanXia9966 reacted with confused emoji

All reactions

* 👍
  7 reactions
* 👎
  4 reactions
* 😕
  2 reactions

Sorry, something went wrong.

[![@iseki0](https://avatars.githubusercontent.com/u/13687964?s=80&u=1918f375a38a742ac3e37edea92a5e35bac9e670&v=4)](/iseki0)

Copy link

### **[iseki0](/iseki0)** commented [Jun 6, 2024](#issuecomment-2151160994) • edited Loading

| 提供这个 API 是没问题的，但 MyBatisPlus 官方应该注意下自己的文档质量问题，至少所有的 public 成员都要有 API 文档。 这个 API 是很有必要的，举个例子 `eq("to_lower(username)", username)` 这里就是要拼接 SQL。不是说不能有一个 `Clause.toLower(User::username)` 这样的东西，而是说在大多数情况下，这样成本有点高。 至于有人指出的在方法名中加 unsafe 这不可取，在到处都是 unsafe 的情况下，增加这个描述只会造成视觉污染，无益于解决问题。 |
| --- |

 👍
3
 DeH40, hunterlee01123, and leetom reacted with thumbs up emoji

All reactions

* 👍
  3 reactions

Sorry, something went wrong.

[![@lghcode](https://avatars.githubusercontent.com/u/36762378?s=80&u=35791e24d56b58287f42b5b1217c346f0af6efc9&v=4)](/lghcode)

Copy link

### **[lghcode](/lghcode)** commented [Jun 6, 2024](#issuecomment-2151451573)

| 你们有人利用这个SQL注入成功删除数据么，我没复现出来 |
| --- |

All reactions

Sorry, something went wrong.

[![@leetom](https://avatars.githubusercontent.com/u/25026330?s=80&u=784b4442028a48d5d6d5826c37ca87aaa93b6587&v=4)](/leetom)

Copy link

### **[leetom](/leetom)** commented [Jul 12, 2024](#issuecomment-2224937057)

| 笑死个仙人了  你这个沙雕终于被人挂了 原来不是MP有问题，只是因为到处都有这老鼠屎 |
| --- |

All reactions

Sorry, something went wrong.

[![@miemieYaho](https://avatars.githubusercontent.com/u/28334419?s=80&u=524fb7e09092037e357a6aad5501cf92e5d30563&v=4)](/miemieYaho)

Copy link

Member

### **[miemieYaho](/miemieYaho)** commented [Jul 12, 2024](#issuecomment-2225183348)

| 笑死个仙人了  你这个沙雕终于被人挂了 原来不是MP有问题，只是因为到处都有这老鼠屎  你个臭傻逼在说什么jb |
| --- |

 👎
1
 tantalate reacted with thumbs down emoji

All reactions

* 👎
  1 reaction

Sorry, something went wrong.

[![@tantalate](https://avatars.githubusercontent.com/u/1206216?s=80&v=4)](/tantalate)

Copy link

### **[tantalate](/tantalate)** commented [Jul 31, 2024](#issuecomment-2259642151)

| 顺着公众号的声明来的，特意来看看这个issue怎么回事。 说实话，一开始我的观点是赞同mybatis-plus声明里评论的观点的。 就好比 mybatis 的 `#{}` 和 `${}` ，你不能用了 `${}` 还要从前端传入任意参数。 但是看到楼上2个回复的用户还挂着 contributor 和 member 的徽章，我觉得你们官方的问题更大。 评论1的问题：网友竟然来提问了，大概率就是个小白，你回复个【不要这么用】还不如别回复。 可以回复一句，就好比mybatis的`#{}`和`${}` ，mybatis-plus提供了 LambdaUpdateWrapper 和 UpdateWrapper 。 而且这么多的issue里类似的回复不是一次两次，有些issue是直接关闭，你们是有issue的kpi考核吗？  ``` // #{column}=#{value}      ==>      `name`="张三"          其中 `name`带转义 new LambdaUpdateWrapper<user>().eq(true, user::getName, "张三")    //  ${column} = #{value}    ==>    name = "张三"   其中name就是纯字符串拼接 new UpdateWrapper<user>().eq(true, "name", "张三") ```  其实说白了就是mybatis-plus官方假定了你使用UpdateWrapper的时候，一定是后端写死的column的。 但是它又不像mybatis那样反复强调 # 和 You can't use 'macro parameter character #' in math mode  ```     $的区别。 所以拿这个来和mybatis举例也不恰当，因为几乎所有人都知道#和$的区别。 但是出于目前框架几乎都处理了sql injection的时代背景，有人不理解为什么没对column做处理很正常。  ```  评论2的问题：【笑死个仙人了】我都不想吐槽了。 如果你只是个网友，回复了就回复了，好歹挂着个【Member】的徽章，一点影响都不注意的吗？  **不要这么讲**  【Member】的徽章，只代表持续对该项目的贡献得到了认可，同时也给予维护开源项目代码、进行社区issue回复的责任，这并不意味着可以被道德绑架要求每一次回复都“尽善尽美”。做开源完全是“为爱发电”，但最近越来越让我感觉像是在做服务行业。开源本身是一件伟大的事，将自己的经验所得，分享给全世界，并且接受让所有人看到、参与的义举。如果您觉得我回复的简短，实际上我们已经反复、再三强调如何处理、预防该问题。甚至单独拿出一页官方文档说明： <https://baomidou.com/reference/about-cve/>  如果您觉得我个人德不配位，我虚心接受，尽量以后在回复您的issue时三思而后行，也感谢您对MP的关注，和指出我个人的不足  这里我对您衷心道歉，也希望大家引以为戒，不要再像我一样，在为生计奔波的同时，抽出个人时间用爱发电，还不认真发电  给开源项目提issue也是做贡献，如果提的不合适直接close就好了，有些人非得进行冷嘲热讽甚至出口成脏，只能说明有些人的素质真的是非常低。你做为项目负责人，觉得他对项目有贡献，所以他骂人也没关系，这种想法合适吗？ |
| --- |

All reactions

Sorry, something went wrong.

[![@miemieYaho](https://avatars.githubusercontent.com/u/28334419?s=80&u=524fb7e09092037e357a6aad5501cf92e5d30563&v=4)](/miemieYaho)

Copy link

Member

### **[miemieYaho](/miemieYaho)** commented [Jul 31, 2024](#issuecomment-2259815225)

| [@tantalate](https://github.com/tantalate) <https://mp.weixin.qq.com/s?__biz=MzA4NzgyMTI0MA==&mid=2649526788&idx=1&sn=5f4cfbe92097cdd45fa8db72e5b9c1f1&chksm=882bacd3bf5c25c5407d6251f4fa6a7ad444c1fcfba5830636cb217b7ffd37324f15bea0000d&token=72916232&lang=zh_CN#rd> 爬去缕缕时间线,下次别瞎吃瓜,当心噎死你 |
| --- |

All reactions

Sorry, something went wrong.

[![@iseki0](https://avatars.githubusercontent.com/u/13687964?s=80&u=1918f375a38a742ac3e37edea92a5e35bac9e670&v=4)](/iseki0)

Copy link

### **[iseki0](/iseki0)** commented [Aug 2, 2024](#issuecomment-2265094386)

| [@miemieYaho](https://github.com/miemieYaho) 大家对项目维护者和 CVE 小鬼的期待当然是不一样的 |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fbaomidou%2Fmybatis-plus%2Fissues%2F6167)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

12 participants

[![@tantalate](https://avatars.githubusercontent.com/u/1206216?s=52&v=4)](/tantalate) [![@jinceon](https://avatars.githubusercontent.com/u/1641265?s=52&v=4)](/jinceon) [![@iseki0](https://avatars.githubusercontent.com/u/13687964?s=52&v=4)](/iseki0) [![@lesper](https://avatars.githubusercontent.com/u/22119288?s=52&v=4)](/lesper) [![@leetom](https://avatars.githubusercontent.com/u/25026330?s=52&v=4)](/leetom) [![@miemieYaho](https://avatars.githubusercontent.com/u/28334419?s=52&v=4)](/miemieYaho) [![@lly-ke](https://avatars.githubusercontent.com/u/28623614?s=52&v=4)](/lly-ke) [![@cangkuai](https://avatars.githubusercontent.com/u/33569578?s=52&v=4)](/cangkuai) [![@lghcode](https://avatars.githubusercontent.com/u/36762378?s=52&v=4)](/lghcode) [![@VampireAchao](https://avatars.githubusercontent.com/u/52746628?s=52&v=4)](/VampireAchao) [![@floydmd2x](https://avatars.githubusercontent.com/u/120371447?s=52&v=4)](/floydmd2x) and others

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from baomidou.com_0c5756ad_20250110_170417.html ===
 [跳转到内容](#_top)     [![](/assets/asset.cIbiVTt_.svg)  MyBatis-Plus](/)       搜索      取消           [GitHub](https://github.com/baomidou/mybatis-plus)     选择主题   深色浅色自动        ×

我们的广告服务商并不跟踪您的隐私，为了支持本站的长期运营，请将我们的网站加入广告拦截器的白名单，谢谢！

[查看隐私声明](https://wwads.cn/page/end-user-privacy) [查看加入白名单教程](https://wwads.cn/page/whitelist-wwads)          展

* [简介](/introduce)
* 从这里开始
  + [快速开始](/getting-started/)
  + [安装](/getting-started/install/)
  + [配置](/getting-started/config/)
  + [单元测试](/getting-started/test/)
  + [开源🎁周边](/getting-started/product/)
* 指南
  + [代码生成器 New](/guides/new-code-generator/)
  + [代码生成器](/guides/code-generator/)
  + [持久层接口](/guides/data-interface/)
  + [条件构造器](/guides/wrapper/)
  + [流式查询](/guides/stream-query/)
  + [批量操作](/guides/batch-operation/)
  + [自动映射枚举](/guides/auto-convert-enum/)
  + [自动填充字段](/guides/auto-fill-field/)
  + [自动维护DDL](/guides/auto-ddl/)
  + [主键生成策略](/guides/key-generator/)
  + [自定义ID生成器](/guides/id-generator/)
  + [逻辑删除支持](/guides/logic-delete/)
  + [多数据源支持](/guides/dynamic-datasource/)
  + [SQL分析与打印](/guides/p6spy/)
  + [数据安全保护](/guides/security/)
  + [SQL注入器](/guides/sql-injector/)
  + [字段类型处理器](/guides/type-handler/)
  + [高级特性](/guides/advanced-features/)
  + [Mybatis X 插件](/guides/mybatis-x/)
* 插件
  + [插件主体](/plugins/)
  + [分页插件](/plugins/pagination/)
  + [乐观锁插件](/plugins/optimistic-locker/)
  + [多租户插件](/plugins/tenant/)
  + [数据权限插件](/plugins/data-permission/)
  + [动态表名插件](/plugins/dynamic-table-name/)
  + [数据变动记录插件](/plugins/data-change-recorder/)
  + [非法SQL拦截插件](/plugins/illegal-sql-intercept/)
  + [防全表更新与删除插件](/plugins/block-attack/)
* 参考
  + [使用配置](/reference/)
  + [注解配置](/reference/annotation/)
  + [代码生成器配置 New](/reference/new-code-generator-configuration/)
  + [代码生成器配置](/reference/code-generator-configuration/)
  + [预防安全漏洞](/reference/about-cve/)
  + [常见问题](/reference/question/)
* 资源
  + [开源生态](/resources/eco-system/)
  + [企业级生态](/resources/enterprise-eco-system/)
  + [支持与赞助](/resources/support/)

   [GitHub](https://github.com/baomidou/mybatis-plus)     选择主题   深色浅色自动                本页内容

* [概述](#_top)
* [什么是漏洞？](#什么是漏洞)
* [如何预防漏洞](#如何预防漏洞)
  + [表字段部分](#表字段部分)
  + [字段参数/变量部分](#字段参数变量部分)
  + [使用工具类预防](#使用工具类预防)
* [关于恶意漏洞的说明](#关于恶意漏洞的说明)
  + [CVE-2024-35548](#cve-2024-35548)
  + [CVE-2023-25330](#cve-2023-25330)
  + [CVE-2022-25517](#cve-2022-25517)
## 本页内容

* [概述](#_top)
* [什么是漏洞？](#什么是漏洞)
* [如何预防漏洞](#如何预防漏洞)
  + [表字段部分](#表字段部分)
  + [字段参数/变量部分](#字段参数变量部分)
  + [使用工具类预防](#使用工具类预防)
* [关于恶意漏洞的说明](#关于恶意漏洞的说明)
  + [CVE-2024-35548](#cve-2024-35548)
  + [CVE-2023-25330](#cve-2023-25330)
  + [CVE-2022-25517](#cve-2022-25517)

# 预防安全漏洞

软件漏洞可以对系统造成严重危害，如果被人恶意利用，会导致病毒感染、数据泄漏或损坏的风险，还可能面临直接或间接的经济损失。那么，我们应该如何预防这些漏洞呢？在深入探讨漏洞问题之前，首先需要明确什么是漏洞。

## 什么是漏洞？

漏洞是指软件、系统或网络中存在的安全弱点或错误，这些弱点可能导致系统遭受攻击或被不当使用。在计算机安全领域，漏洞通常源于编程错误、设计缺陷或配置失误。

对于对象关系映射（ORM）框架来说，漏洞通常指的是设计或实施中的安全问题，这些问题可能让应用程序面临SQL注入攻击的风险。

SQL 注入漏洞

如果ORM框架在执行SQL操作时没有正确过滤或转义用户输入，攻击者可以利用输入的恶意数据来执行未经授权的数据库操作，从而造成数据泄露、损坏或篡改。

什么情况下会引起 SQL 注入攻击呢？通常是在以下情况：

* 表结构部分：通常包含表字段、表名等固定内容。
* 表字段参数/变量部分：通过包含各种动态 SQL 参数。

通常 ORM 中 SQL 注入漏洞的发生都是因为以上两个部分允许从前台传参导致的。

## 如何预防漏洞

明白漏洞产生的主要原因，那么我们只需要控制好表结构、参数相关的数据，避免他们暴露到前端既可避免漏洞攻击。

### 表字段部分

对于表字段部分通常来说应该由后端控制，但有些系统为了保持足够大的灵活性，允许前端动态传入数据库字段名称。这种做法虽然满足了系统的灵活性要求，却面临着极大的 SQL 注入风险。

如果想要规避风险，就必须要求系统设计者或开发人员自行控制字段的安全性，绝对不能让前端任意传入字符串直接转换为 SQL 字段，应通过字段映射逻辑来阻断攻击，避免前端接口传入的字段内容直接进入 SQL 编译阶段中生成最终 SQL。

### 字段参数/变量部分

对于字段参数部分，ORM 框架通常有做预编译防止 SQL 注入攻击的逻辑，在 MyBatis 中，通过使用 `#` 占位符，而不是 `$` 占位符来避免 SQL 注入攻击。

MyBatis-Plus 在生成相关的 SQL 时底层能力同样来自 MyBatis，所以一样的可以是用 `#` 占位符来避免攻击，只不过这一个步骤由 MyBatis-Plus 自动完成了。

### 使用工具类预防

一般来说，通过上面的处理就可以避免 SQL 注入攻击了，如果您还不放心，可以使用 MyBatis-Plus 提供的工具类 `SqlInjectionUtils.check(内容)` 来验证字符串是否存在 SQL 注入，如果存在则会抛出对应的异常，

```
// 开启自动检查 SQL 注入 (3.5.3.2+ 版本支持Wrappers.query().checkSqlInjection().orderByDesc("任意前端传入字段，我们推荐最好是白名单处理，因为可能存在检查覆盖不全情况")​// 手动校验方式 (3.4.3.2+ 版本支持)SqlInjectionUtils.check("任意前端传入字段，我们推荐最好是白名单处理，因为可能存在检查覆盖不全情况")
```

注意

最好的预防方式仍旧是不允许**任何SQL片段**由前端传到后台，我们强烈建议不要开放给前端太多的动态 SQL，这样最安全。

## 关于恶意漏洞的说明

MyBatis-Plus 相关的代码和 Jar 包被别有用心的人提交了 CVE 漏洞，下面对这些漏洞进行一下官方的声明。

提醒！ `请您注意这种不被官方认可的 "CVE 漏洞"`  对框架本身、对用户、对项目的交付都会产生非常大的影响，您的 `损人不利己的行为` 给别人带来非常大的经济损失。

如果是不安全的设计，最好的办法是 `issue 或 pull request` 协助官方尽快修复。

官方文档也 `一而再 再而三` 的强调 `SQL 片段` 必须检查安全，任何 `ORM 框架，包括 JDBC` 都是允许 `字符串直接拼接SQL` 的情况，因此，我们建议最好不要允许前端传入 SQL 片段。

### CVE-2024-35548

详情链接：[CVE-2024-35548](https://www.cve.org/CVERecord?id=CVE-2024-35548)

该“漏洞”也是前端端传入 `SQL 片段` 导致 SQL 注入攻击。框架 `QueryWrapper` `UpdateWrapper` 字段部分是允许子查询的因此不能人为允许前端传入 SQL 片段。

如果使用者有这种需求，可以使用 `SqlInjectionUtils.check(内容)` 或 `xxWrapper.checkSqlInjection()` 方法来检查，如果检查通过，则不会抛出异常。

框架也提供了非常严格的条件构造器 `LambdaQueryWrapper` `LambdaUpdateWrapper` 推荐使用。

### CVE-2023-25330

详情链接：[CVE-2023-25330](https://nvd.nist.gov/vuln/detail/CVE-2023-25330)

该“漏洞”描述了一个所谓的多租户插件引起的漏洞，说多租户插件会引起 SQL 注入攻击。让我们看看这是怎么操作的？

该“漏洞”提交者恶意暴露租户 ID 给前端，允许前端传入租户 ID，并保持在上下文中，在插件运行阶段直接读取并使用。

如果我们做过租户隔离相关的需求，就明白我们通常的做法都是用户登录了之后，后端自己查询用户所对应的租户，并自行保持上下文，保障多租户插件的正常运行。

即便要做切换租户的操作，前端传入的切换租户的 ID 也不可能说直接就拿给插件用了，而是要检测能不能切的。

如果硬要说是问题，那这也是由于使用的时候考虑不当引起的，作为一个底层框架是无法约束使用者到底怎么去使用这些功能，如果什么都需要底层框架去兜底，那人人都去当伸手党吧，别搞什么开源了。

### CVE-2022-25517

详情链接：[CVE-2022-25517](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-25517)，由于原漏洞仓库已经被删除，可以[点此观看详情分析](https://mp.weixin.qq.com/s/NdtCuDFK-aTgaQUADtdfnA)

该“漏洞”更加搞笑，把表字段作为前端可以传入的一部分直接拿去拼接，然后硬说这个是漏洞。理由是因为 MyBatis-Plus 开放了 String 类型的字段参数，就可以拿去传递 SQL 攻击脚本。

我们都知道 MyBatis-Plus 提供了 LamdbaQueryWrapper，可以用 LamdbaQueryWrapper 执行 Type-Safe 的查询，我们相信绝大多数人也是这样去使用的，即便用了普通的 QueryWrapper，有 String 类型的字段，也绝对不是前端传递给我们的，那字段都由前端来传，还要后端干啥？干脆让前端直接写 SQL 得了。

---

如果是真正的漏洞问题，我们一定积极修正，但是上面两个如此低级的错误，在没跟我们预先进行沟通的情况下，直接提交了 CVE 漏洞申请，很难让我们相信这些漏洞是好心人善意的提醒，在我们看来，这就是存粹的坏心思。

    [编辑此页](https://github.com/baomidou/mybatis-plus-doc/edit/master/src/content/docs/reference/about-cve.md)

最近更新： 2024年8月12日

   [上一页
 代码生成器配置](/reference/code-generator-configuration/)   [下一页
 常见问题](/reference/question/)       [![Baomidou](/images/logo/baomidou.png)](https://github.com/baomidou)

© 2016-2025 Baomidou™. All Rights Reserved.

Power by [Astro Starlight](https://starlight.astro.build) |
Sponsored by [JetBrains](https://www.jetbrains.com)

[渝ICP备2021000141号-1](https://beian.miit.gov.cn/) |
[渝公网安备50011302222097](https://beian.mps.gov.cn/#/query/webSearch?code=50011302222097)


