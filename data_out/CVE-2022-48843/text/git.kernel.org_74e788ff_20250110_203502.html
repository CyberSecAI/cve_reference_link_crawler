

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=941e8bcd2b2ba95490738e33dfeca27168452779)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=941e8bcd2b2ba95490738e33dfeca27168452779)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=941e8bcd2b2ba95490738e33dfeca27168452779)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=941e8bcd2b2ba95490738e33dfeca27168452779)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Manasi Navare <manasi.d.navare@intel.com> | 2022-02-24 17:30:54 -0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-03-19 13:40:17 +0100 |
| commit | [941e8bcd2b2ba95490738e33dfeca27168452779](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=941e8bcd2b2ba95490738e33dfeca27168452779) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=941e8bcd2b2ba95490738e33dfeca27168452779)) | |
| tree | [f1c05f721f4b792382c884c3d84dbc92fc2123b2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=941e8bcd2b2ba95490738e33dfeca27168452779) | |
| parent | [6becb057247e6d5fbe771d9b3bdfd8308c8e130e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6becb057247e6d5fbe771d9b3bdfd8308c8e130e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=941e8bcd2b2ba95490738e33dfeca27168452779&id2=6becb057247e6d5fbe771d9b3bdfd8308c8e130e)) | |
| download | [linux-941e8bcd2b2ba95490738e33dfeca27168452779.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-941e8bcd2b2ba95490738e33dfeca27168452779.tar.gz) | |

drm/vrr: Set VRR capable prop only if it is attached to connector[ Upstream commit 62929726ef0ec72cbbe9440c5d125d4278b99894 ]
VRR capable property is not attached by default to the connector
It is attached only if VRR is supported.
So if the driver tries to call drm core set prop function without
it being attached that causes NULL dereference.
Cc: Jani Nikula <jani.nikula@intel.com>
Cc: Ville Syrj채l채 <ville.syrjala@linux.intel.com>
Cc: dri-devel@lists.freedesktop.org
Signed-off-by: Manasi Navare <manasi.d.navare@intel.com>
Reviewed-by: Ville Syrj채l채 <ville.syrjala@linux.intel.com>
Link: [https://patchwork.freedesktop.org/patch/msgid/20220225013055.9282-1-manasi.d.navare@intel.com](https://patchwork.freedesktop.org/patch/msgid/20220225013055.9282-1-manasi.d.navare%40intel.com)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=941e8bcd2b2ba95490738e33dfeca27168452779)

| -rw-r--r-- | [drivers/gpu/drm/drm\_connector.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/drm_connector.c?id=941e8bcd2b2ba95490738e33dfeca27168452779) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/drivers/gpu/drm/drm\_connector.c b/drivers/gpu/drm/drm\_connector.cindex 2337b3827e6a4d..11a81e8ba9639b 100644--- a/[drivers/gpu/drm/drm\_connector.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/drm_connector.c?id=6becb057247e6d5fbe771d9b3bdfd8308c8e130e)+++ b/[drivers/gpu/drm/drm\_connector.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/drm_connector.c?id=941e8bcd2b2ba95490738e33dfeca27168452779)@@ -1984,6 +1984,9 @@ EXPORT\_SYMBOL(drm\_connector\_attach\_max\_bpc\_property); void drm\_connector\_set\_vrr\_capable\_property( struct drm\_connector \*connector, bool capable) {+ if (!connector->vrr\_capable\_property)+ return;+ drm\_object\_property\_set\_value(&connector->base, connector->vrr\_capable\_property, capable); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 20:33:40 +0000

