<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>2a452b7e2562cba32b8a17bc91dc5abb531f0a1c - mediawiki/skins/Vector - Gitiles</title><link rel="stylesheet" type="text/css" href="/r/plugins/gitiles/+static/base.css"><link rel="stylesheet" type="text/css" href="/r/plugins/gitiles/+static/doc.css"><link rel="stylesheet" type="text/css" href="/r/plugins/gitiles/+static/prettify/prettify.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><!-- default customHeader --><div class="Header-title">Gitiles</div><div class="Header-menu"> <a class="Header-menuItem" href="https://gerrit.wikimedia.org/r/">Code Review</a> <a class="Header-menuItem" href="https://gerrit.wikimedia.org/r/login/plugins%2Fgitiles%2Fmediawiki%2Fskins%2FVector%2F%2B%2F2a452b7e2562cba32b8a17bc91dc5abb531f0a1c">Sign In</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/r/plugins/gitiles/?format=HTML">gerrit.wikimedia.org</a> / <a class="Breadcrumbs-crumb" href="/r/plugins/gitiles/mediawiki/">mediawiki</a> / <a class="Breadcrumbs-crumb" href="/r/plugins/gitiles/mediawiki/skins/">skins</a> / <a class="Breadcrumbs-crumb" href="/r/plugins/gitiles/mediawiki/skins/Vector/">Vector</a> / <span class="Breadcrumbs-crumb">2a452b7e2562cba32b8a17bc91dc5abb531f0a1c</span></div><div class="u-monospace Metadata"><table><tr><th class="Metadata-title">commit</th><td>2a452b7e2562cba32b8a17bc91dc5abb531f0a1c</td><td><span>[<a href="/r/plugins/gitiles/mediawiki/skins/Vector/+log/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c">log</a>]</span> <span>[<a href="/r/plugins/gitiles/mediawiki/skins/Vector/+archive/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c.tar.gz">tgz</a>]</span></td></tr><tr><th class="Metadata-title">author</th><td>Lucas Werkmeister &lt;lucas.werkmeister@wikimedia.de&gt;</td><td>Wed Jun 28 16:20:06 2023 +0200</td></tr><tr><th class="Metadata-title">committer</th><td>James D. Forrester &lt;jforrester@wikimedia.org&gt;</td><td>Thu Sep 28 20:51:56 2023 -0400</td></tr><tr><th class="Metadata-title">tree</th><td><a href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/">1c9c17eb193e5416d319288e19c292484670c76f</a></td></tr><tr><th class="Metadata-title">parent</th><td><a href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c%5E">c999dff13aebaf8775a7b04044be54d5604f8d2f</a> <span>[<a href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c%5E%21/">diff</a>]</span></td></tr></table></div><pre class="u-pre u-monospace MetadataMessage">SECURITY: Catch MalformedTitleException from vector-intro-page

CVE-2023-PENDING

If the vector-intro-page message doesnâ€™t parse as a valid title, skip
customizing the menu entry label instead of crashing. (Optionally, this
could maybe log a warning or something later.)

Bug: T340220
Change-Id: <a href="https://gerrit.wikimedia.org/r/#/q/I2769c1f3115898bbe697ebe9c9c0eaf0ddc0d251">I2769c1f3115898bbe697ebe9c9c0eaf0ddc0d251</a>
</pre><ul class="DiffTree"><li><a href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/includes/Components/VectorComponentUserLinks.php">includes/Components/VectorComponentUserLinks.php</a><span class="DiffTree-action DiffTree-action--modify">[<a href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c%5E%21/#F0">diff</a>]</span></li></ul><div class="DiffSummary">1 file changed</div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: 1c9c17eb193e5416d319288e19c292484670c76f</div><ol class="FileList"><li class="FileList-item FileList-item--gitTree" title="Tree - .phan/"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.phan/">.phan/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - .storybook/"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.storybook/">.storybook/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - dev-scripts/"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/dev-scripts/">dev-scripts/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - i18n/"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/i18n/">i18n/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - includes/"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/includes/">includes/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - resources/"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/resources/">resources/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - screenshots/"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/screenshots/">screenshots/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - skinStyles/"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/skinStyles/">skinStyles/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - stories/"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/stories/">stories/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - tests/"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/tests/">tests/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .eslintignore"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.eslintignore">.eslintignore</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .eslintrc.json"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.eslintrc.json">.eslintrc.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .eslintrcEs6.json"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.eslintrcEs6.json">.eslintrcEs6.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .gitignore"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.gitignore">.gitignore</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .gitreview"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.gitreview">.gitreview</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .nvmrc"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.nvmrc">.nvmrc</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .phpcs.xml"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.phpcs.xml">.phpcs.xml</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .stylelintignore"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.stylelintignore">.stylelintignore</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .stylelintrc.json"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.stylelintrc.json">.stylelintrc.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .svgo.config.js"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/.svgo.config.js">.svgo.config.js</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - bundlesize.config.json"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/bundlesize.config.json">bundlesize.config.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - CODE_OF_CONDUCT.md"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/CODE_OF_CONDUCT.md">CODE_OF_CONDUCT.md</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - composer.json"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/composer.json">composer.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - COPYING"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/COPYING">COPYING</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - Doxyfile"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/Doxyfile">Doxyfile</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - jest.config.js"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/jest.config.js">jest.config.js</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - jest.setup.js"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/jest.setup.js">jest.setup.js</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - jsdoc.json"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/jsdoc.json">jsdoc.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - package-lock.json"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/package-lock.json">package-lock.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - package.json"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/package.json">package.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - README.md"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/README.md">README.md</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - skin.json"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/skin.json">skin.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - tsconfig.json"><a class="FileList-itemLink" href="/r/plugins/gitiles/mediawiki/skins/Vector/+/2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/tsconfig.json">tsconfig.json</a></li></ol><div class="InlineReadme"><div class="InlineReadme-path">README.md</div><div class="doc"><h1><a class="h" name="Vector-Skin" href="#Vector-Skin"><span></span></a><a class="h" name="vector-skin" href="#vector-skin"><span></span></a>Vector Skin</h1><h2><a class="h" name="Installation" href="#Installation"><span></span></a><a class="h" name="installation" href="#installation"><span></span></a>Installation</h2><p>See <a href="https://www.mediawiki.org/wiki/Skin:Vector">https://www.mediawiki.org/wiki/Skin:Vector</a>.</p><h3><a class="h" name="Configuration-options" href="#Configuration-options"><span></span></a><a class="h" name="configuration-options" href="#configuration-options"><span></span></a>Configuration options</h3><p>See <a href="2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/skin.json">skin.json</a>.</p><h2><a class="h" name="Development" href="#Development"><span></span></a><a class="h" name="development" href="#development"><span></span></a>Development</h2><h3><a class="h" name="Node-version" href="#Node-version"><span></span></a><a class="h" name="node-version" href="#node-version"><span></span></a>Node version</h3><p>It is recommended to use <a href="https://github.com/nvm-sh/nvm">nvm</a> to use the version of node defined in <code class="code">.nvmrc</code> during local development. This ensures consistency amongst development environments.</p><h3><a class="h" name="Coding-conventions" href="#Coding-conventions"><span></span></a><a class="h" name="coding-conventions" href="#coding-conventions"><span></span></a>Coding conventions</h3><p>We strive for compliance with MediaWiki conventions:</p><p><a href="https://www.mediawiki.org/wiki/Manual:Coding_conventions">https://www.mediawiki.org/wiki/Manual:Coding_conventions</a></p><p>Additions and deviations from those conventions that are more tailored to this project are noted at:</p><p><a href="https://www.mediawiki.org/wiki/Reading/Web/Coding_conventions">https://www.mediawiki.org/wiki/Reading/Web/Coding_conventions</a></p><h3><a class="h" name="Pre_commit-tests" href="#Pre_commit-tests"><span></span></a><a class="h" name="pre_commit-tests" href="#pre_commit-tests"><span></span></a>Pre-commit tests</h3><p>A pre-commit hook is installed when executing <code class="code">npm install</code>. By default, it runs <code class="code">npm test</code> which is useful for automatically validating everything that can be in a reasonable amount of time. If you wish to defer these tests to be executed by continuous integration only, set the <code class="code">PRE_COMMIT</code> environment variable to <code class="code">0</code>:</p><pre class="code"><span class="pln">$ export PRE_COMMIT</span><span class="pun">=</span><span class="lit">0</span><span class="pln">
$ git commit
</span></pre><p>Or more succinctly:</p><pre class="code"><span class="pln">$ PRE_COMMIT</span><span class="pun">=</span><span class="lit">0</span><span class="pln"> git commit
</span></pre><p>Skipping the pre-commit tests has no impact on Gerrit change identifier hooks.</p><h3><a class="h" name="Hooks" href="#Hooks"><span></span></a><a class="h" name="hooks" href="#hooks"><span></span></a>Hooks</h3><p>See <a href="2a452b7e2562cba32b8a17bc91dc5abb531f0a1c/hooks.txt">hooks.txt</a>.</p></div></div></div></div> <!-- Container --></div> <!-- Site-content --><!-- default customFooter --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>