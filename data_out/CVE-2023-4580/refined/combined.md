=== Content from www.mozilla.org_61f780b1_20250110_160858.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    #### Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [#### Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    #### Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    #### Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    #### Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    #### Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    #### MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    #### Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    #### Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [#### About Mozilla](/en-US/about/)
  + [#### The Mozilla Manifesto](/en-US/about/manifesto/)
  + [#### Get Involved](/en-US/contribute/)
  + [#### Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [#### Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2023-34

## Security Vulnerabilities fixed in Firefox 117

Announced
August 29, 2023
Impact
high
Products
Firefox
Fixed in

* Firefox 117

This advisory was updated October 24, 2023 to add CVE-2023-5732 which was included in the original release of Firefox 117, but did not appear in the advisory published at that time.

#### [#CVE-2023-4573: Memory corruption in IPC CanvasTranslator](#CVE-2023-4573)

Reporter
sonakkbi
Impact
high
##### Description

When receiving rendering data over IPC `mStream` could have been destroyed when initialized, which could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846687](https://bugzilla.mozilla.org/show_bug.cgi?id=1846687)

#### [#CVE-2023-4574: Memory corruption in IPC ColorPickerShownCallback](#CVE-2023-4574)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the Color Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846688](https://bugzilla.mozilla.org/show_bug.cgi?id=1846688)

#### [#CVE-2023-4575: Memory corruption in IPC FilePickerShownCallback](#CVE-2023-4575)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the File Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846689](https://bugzilla.mozilla.org/show_bug.cgi?id=1846689)

#### [#CVE-2023-4576: Integer Overflow in RecordedSourceSurfaceCreation](#CVE-2023-4576)

Reporter
fffvr
Impact
high
##### Description

On Windows, an integer overflow could occur in `RecordedSourceSurfaceCreation` which resulted in a heap buffer overflow potentially leaking sensitive data that could have led to a sandbox escape.
*This bug only affects Firefox on Windows. Other operating systems are unaffected.*

##### References

* [Bug 1846694](https://bugzilla.mozilla.org/show_bug.cgi?id=1846694)

#### [#CVE-2023-4577: Memory corruption in JIT UpdateRegExpStatics](#CVE-2023-4577)

Reporter
Lukas Bernhard
Impact
high
##### Description

When `UpdateRegExpStatics` attempted to access `initialStringHeap` it could already have been garbage collected prior to entering the function, which could potentially have led to an exploitable crash.

##### References

* [Bug 1847397](https://bugzilla.mozilla.org/show_bug.cgi?id=1847397)

#### [#CVE-2023-5732: Address bar spoofing via bidirectional characters](#CVE-2023-5732)

Reporter
Armin Ebert
Impact
moderate
##### Description

An attacker could have created a malicious link using bidirectional characters to spoof the location in the address bar when visited.

##### References

* [Bug 1690979](https://bugzilla.mozilla.org/show_bug.cgi?id=1690979)
* [Bug 1836962](https://bugzilla.mozilla.org/show_bug.cgi?id=1836962)

#### [#CVE-2023-4578: Error reporting methods in SpiderMonkey could have triggered an Out of Memory Exception](#CVE-2023-4578)

Reporter
Irvan Kurniawan (@sourc7)
Impact
moderate
##### Description

When calling `JS::CheckRegExpSyntax` a Syntax Error could have been set which would end in calling `convertToRuntimeErrorAndClear`. A path in the function could attempt to allocate memory when none is available which would have caused a newly created Out of Memory exception to be mishandled as a Syntax Error.

##### References

* [Bug 1839007](https://bugzilla.mozilla.org/show_bug.cgi?id=1839007)

#### [#CVE-2023-4579: Persisted search terms were formatted as URLs](#CVE-2023-4579)

Reporter
Malte Jürgens
Impact
moderate
##### Description

Search queries in the default search engine could appear to have been the currently navigated URL if the search query itself was a well formed URL. This could have led to a site spoofing another if it had been maliciously set as the default search engine.

##### References

* [Bug 1842766](https://bugzilla.mozilla.org/show_bug.cgi?id=1842766)

#### [#CVE-2023-4580: Push notifications saved to disk unencrypted](#CVE-2023-4580)

Reporter
Harveer Singh
Impact
moderate
##### Description

Push notifications stored on disk in private browsing mode were not being encrypted potentially allowing the leak of sensitive information.

##### References

* [Bug 1843046](https://bugzilla.mozilla.org/show_bug.cgi?id=1843046)

#### [#CVE-2023-4581: XLL file extensions were downloadable without warnings](#CVE-2023-4581)

Reporter
Umar Farooq (@Puf)
Impact
moderate
##### Description

Excel `.xll` add-in files did not have a blocklist entry in Firefox's executable blocklist which allowed them to be downloaded without any warning of their potential harm.

##### References

* [Bug 1843758](https://bugzilla.mozilla.org/show_bug.cgi?id=1843758)

#### [#CVE-2023-4582: Buffer Overflow in WebGL glGetProgramiv](#CVE-2023-4582)

Reporter
Dohyun Lee (@l33d0hyun) of SSD-Disclosure Labs & DNSLab, Korea Univ.
Impact
low
##### Description

Due to large allocation checks in Angle for glsl shaders being too lenient a buffer overflow could have occured when allocating too much private shader memory on mac OS.
*This bug only affects Firefox on macOS. Other operating systems are unaffected.*

##### References

* [Bug 1773874](https://bugzilla.mozilla.org/show_bug.cgi?id=1773874)

#### [#CVE-2023-4583: Browsing Context potentially not cleared when closing Private Window](#CVE-2023-4583)

Reporter
Thejaka Maldeniya
Impact
low
##### Description

When checking if the Browsing Context had been discarded in `HttpBaseChannel`, if the load group was not available then it was assumed to have already been discarded which was not always the case for private channels after the private session had ended.

##### References

* [Bug 1842030](https://bugzilla.mozilla.org/show_bug.cgi?id=1842030)

#### [#CVE-2023-4584: Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](#CVE-2023-4584)

Reporter
Randell Jesup, Andrew McCreight, the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 102.14, Firefox ESR 115.1, Thunderbird 102.14, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1843968%2C1845205%2C1846080%2C1846526%2C1847529)

#### [#CVE-2023-4585: Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](#CVE-2023-4585)

Reporter
Donal Meehan, Sebastian Hengst, and the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 115.1, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1751583%2C1841082%2C1847904%2C1848999)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_d77eadf9_20250110_160857.html ===


![](/static/v20250108.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1843046)
* [XML](/show_bug.cgi?ctype=xml&id=1843046)

Closed
[Bug 1843046](/show_bug.cgi?id=1843046)
(CVE-2023-4580)

Opened 2 years ago
Closed 1 year ago

# push notifications saved to disk in Private Browsing mode (Toggle off push notifications in Private Browsing mode)

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

push notifications saved to disk in Private Browsing mode (Toggle off push notifications in Private Browsing mode)

## Categories

### (Core :: DOM: Push Subscriptions, defect, P2)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=DOM%3A%20Push%20Subscriptions#DOM%3A%20Push%20Subscriptions)

DOM: Push Subscriptions
▾

Core :: DOM: Push Subscriptions
Subscribing push using PushManager and waking up the corresponding service worker when a remote server sends a push message.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Push%20Subscriptions&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=DOM%3A%20Push%20Subscriptions&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=DOM%3A%20Push%20Subscriptions)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P2

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

S3

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

VERIFIED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

118 Branch

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Accessibility Severity | --- |
| --- | --- |
| a11y-review | --- |
| Performance Impact | --- |
| Webcompat Priority | --- |
| Webcompat Score | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr102 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=wontfix) |
| firefox-esr115 | [117+](/buglist.cgi?f1=cf_tracking_firefox_esr115&o1=equals&v1=117%2B) | [verified](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=verified) |
| firefox116 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox116&o1=equals&v1=wontfix) |
| firefox117 | [+](/buglist.cgi?f1=cf_tracking_firefox117&o1=equals&v1=%2B) | [verified](/buglist.cgi?f1=cf_status_firefox117&o1=equals&v1=verified) |
| firefox118 | [+](/buglist.cgi?f1=cf_tracking_firefox118&o1=equals&v1=%2B) | [verified](/buglist.cgi?f1=cf_status_firefox118&o1=equals&v1=verified) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr102 |  | wontfix |
| firefox-esr115 | 117+ | verified |
| firefox-esr128 | --- | --- |
| firefox116 |  | wontfix |
| firefox117 | + | verified |
| firefox118 | + | verified |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: hsingh, Assigned: hsingh)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/53a89b8d24636f7d6172eefd328684dc?d=mm&size=40)  [hsingh](/user_profile?user_id=704280)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/53a89b8d24636f7d6172eefd328684dc?d=mm&size=40)  [hsingh](/user_profile?user_id=704280)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/2b84b1a415615d22d7afc6554020d164?d=mm&size=40)  [jjalkanen](/user_profile?user_id=689836)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

13 people

## References

### (Regressed 1 open bug)

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

[1852438](/show_bug.cgi?id=1852438 "NEW - Notifications silently stopped working in permanent private browsing mode even when explicitly allowed")

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[1882176](/show_bug.cgi?id=1882176 "RESOLVED FIXED - Supporting notifications in PBM")

## Details

### (Keywords: csectype-disclosure, privacy, sec-moderate, Whiteboard: [adv-main117+] [adv-esr115.2+])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2023-4580

[Keywords:](/describekeywords.cgi)

[csectype-disclosure](/buglist.cgi?keywords=csectype-disclosure&resolution=---),
[privacy](/buglist.cgi?keywords=privacy&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main117+] [adv-esr115.2+]

QA Whiteboard:

[post-critsmash-triage] [qa-triaged]

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |
|  | qe-verify |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (3 files)

| [Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers](/attachment.cgi?id=9344756)  [1 years ago](#c2)  [Harveer Singh](/user_profile?user_id=704280)   48 bytes, text/x-phabricator-request | RyanVM : [approval-mozilla-beta+](#c18 "1 year ago")  RyanVM : [approval-mozilla-esr115+](#c18 "1 year ago") | [Details](/attachment.cgi?id=9344756&action=edit) | [Review](/attachment.cgi?id=9344756) |
| --- | --- | --- |
| [Bug 1843046: Ignored a android kt private notification test.r=#geckoview-reviewers](/attachment.cgi?id=9348190)  [1 year ago](#c5)  [Harveer Singh](/user_profile?user_id=704280)   48 bytes, text/x-phabricator-request | RyanVM : [approval-mozilla-beta+](#a3123996_75935 "1 year ago")  RyanVM : [approval-mozilla-esr115+](#a3123996_75935 "1 year ago") | [Details](/attachment.cgi?id=9348190&action=edit) | [Review](/attachment.cgi?id=9348190) |
| [advisory.txt](/attachment.cgi?id=9350228)  [1 year ago](#c25)  [June Wilde (she/her) [:jewilde]](/user_profile?user_id=626341)   200 bytes, text/plain |  | [Details](/attachment.cgi?id=9350228&action=edit) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1843046#c0)• 2 years ago |
|  | |

As it has surfaced here (<https://bugzilla.mozilla.org/show_bug.cgi?id=1823752>), notifications store is not encrypted on disk in private browsing mode and it could leak sensitive information. There would be a follow up bug to properly encrypt and lifetime notifications store but for now, we want to disable notifications in PBM.

|  | [Jens Stutte [:jstutte]](/user_profile?user_id=646284) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a161_646284)• 2 years ago |

Group: core-security

|  | [Andrew McCreight [:mccr8]](/user_profile?user_id=406194) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a25200_406194)• 1 years ago |

Group: core-security → dom-core-security

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1843046#c1)• 1 years ago |
|  | |

The original bug was describing two security problems that could be solved independently, so I'm turning this task bug into one of those security problems. (expiring old notifications might solve the unbounded growth in the other bug, but wouldn't solve this privacy issue)

Type: task → defectKeywords: [csectype-disclosure](/buglist.cgi?keywords=csectype-disclosure&resolution=---),
[privacy](/buglist.cgi?keywords=privacy&resolution=---),
[sec-moderate](/buglist.cgi?keywords=sec-moderate&resolution=---)Summary: Toggle off push notifications in Private Browsing mode → push notifications saved to disk in Private Browsing mode (Toggle off push notifications in Private Browsing mode)

|  | [Andrew Sutherland [:asuth] (he/him)](/user_profile?user_id=151407) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a115483_151407)• 1 years ago |

Severity: -- → S3Priority: -- → P2

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1843046#c2)• 1 years ago |
|  | |

Attached file
[Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers](attachment.cgi?id=9344756)
— [Details](attachment.cgi?id=9344756&action=edit)

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1843046#c3)• 1 years ago |
|  | |

Pushed by hsingh@mozilla.com:
<https://hg.mozilla.org/integration/autoland/rev/b21c8906db6d>
Do not allow notifications in private window.r=saschanaz

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1843046#c4)• 1 years ago |
|  | |

Backed out for causing gv-junit failures in WebNotificationTest:

<https://hg.mozilla.org/integration/autoland/rev/b93c29f308f934add5aea90aa94080e1c76036ee>

[Push with failures](https://treeherder.mozilla.org/jobs?repo=autoland&selectedTaskRun=DY1X_jJCReCkWFekCGjWWA.0&group_state=expanded&resultStatus=testfailed%2Cbusted%2Cexception%2Crunnable&revision=b21c8906db6d0a7e0fbae7e609d90da9cf977fbb)

[Failure log](https://treeherder.mozilla.org/logviewer?job_id=424650151&repo=autoland)

> TEST-UNEXPECTED-FAIL | org.mozilla.geckoview.test.WebNotificationTest#onShowNotification | org.mozilla.geckoview.test.util.UiThreadUtils$TimeoutException: Timed out after 30000ms

Flags: needinfo?(hsingh)

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a1902817_704280)• 1 years ago |

Flags: needinfo?(hsingh)

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a1989476_704280)• 1 years ago |

Status: NEW → ASSIGNED

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1843046#c5)• 1 year ago |
|  | |

Attached file
[Bug 1843046: Ignored a android kt private notification test.r=#geckoview-reviewers](attachment.cgi?id=9348190)
— [Details](attachment.cgi?id=9348190&action=edit)

Depends on D184064

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1843046#c6)• 1 year ago |
|  | |

Pushed by hsingh@mozilla.com:
<https://hg.mozilla.org/integration/autoland/rev/308fde20a1b1>
Do not allow notifications in private window.r=saschanaz

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1843046#c7)• 1 year ago |
|  | |

Backed out for causing geckoview-junit failures related to notifications:

<https://hg.mozilla.org/integration/autoland/rev/ffeee9d4fb53c4a78cc804ac8282b86eee9e6c72>

[Push with failures](https://treeherder.mozilla.org/jobs?repo=autoland&group_state=expanded&resultStatus=pending%2Crunning%2Csuccess%2Ctestfailed%2Cbusted%2Cexception%2Crunnable&searchStr=gv-junit&revision=308fde20a1b1f20706ad2040b000d9a5de5c7463&selectedTaskRun=Y_Xq4iykTNOS-M7pi79LSg.0)

[Failure log](https://treeherder.mozilla.org/logviewer?job_id=425905573&repo=autoland)

> TEST-UNEXPECTED-FAIL | org.mozilla.geckoview.test.WebNotificationTest#onShowNotification | org.mozilla.geckoview.test.util.UiThreadUtils$TimeoutException: Timed out after 30000ms
>
> TEST-UNEXPECTED-FAIL | org.mozilla.geckoview.test.WebNotificationTest#clickPrivateNotificationParceled | org.mozilla.geckoview.test.util.UiThreadUtils$TimeoutException: Timed out after 30000ms

Flags: needinfo?(hsingh)

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1843046#c8)• 1 year ago |
|  | |

Pushed by hsingh@mozilla.com:
<https://hg.mozilla.org/integration/autoland/rev/5e8b64d6b91a>
Do not allow notifications in private window.r=saschanaz
<https://hg.mozilla.org/integration/autoland/rev/31e28d290422>
Ignored a android kt private notification test.r=geckoview-reviewers,owlish

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1843046#c9)• 1 year ago |
|  | |

Backed out for linting failure:

<https://hg.mozilla.org/integration/autoland/rev/e9f4fc15eeeaa49d6f27e920e22a961b173dfa3b>

[Failure log](https://treeherder.mozilla.org/logviewer?job_id=425909534&repo=autoland)

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1843046#c10)• 1 year ago |
|  | |

Also still had a [junit failure](https://treeherder.mozilla.org/logviewer?job_id=425912827&repo=autoland&lineNumber=21999)

> TEST-UNEXPECTED-FAIL | org.mozilla.geckoview.test.WebNotificationTest#onShowNotification | org.mozilla.geckoview.test.util.UiThreadUtils$TimeoutException: Timed out after 30000ms

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1843046#c11)• 1 year ago |
|  | |

seems like the failing test is an intermittent wich is tracked here? <https://bugzilla.mozilla.org/show_bug.cgi?id=1766739>

Flags: needinfo?(hsingh) → needinfo?(aryx.bugmail)

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1843046#c12)• 1 year ago |
|  | |

oh I see that the failure reason is different than the one shown in the intermittent. I will investigate this.

Flags: needinfo?(aryx.bugmail)

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1843046#c13)• 1 year ago |
|  | |

Pushed by hsingh@mozilla.com:
<https://hg.mozilla.org/integration/autoland/rev/ffeb6d319aa9>
Do not allow notifications in private window.r=saschanaz
<https://hg.mozilla.org/integration/autoland/rev/5038cbc4c1b3>
Ignored a android kt private notification test.r=geckoview-reviewers,owlish

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1843046#c14)• 1 year ago |
|  | |

<https://hg.mozilla.org/mozilla-central/rev/ffeb6d319aa9>

<https://hg.mozilla.org/mozilla-central/rev/5038cbc4c1b3>

Group: dom-core-security → core-security-releaseStatus: ASSIGNED → RESOLVEDClosed: 1 year ago
[status-firefox118](/buglist.cgi?f1=cf_status_firefox118&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox118&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → 118 Branch

|  | [Donal Meehan [:dmeehan]](/user_profile?user_id=695136) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a3025463_695136)• 1 year ago |

[status-firefox116](/buglist.cgi?f1=cf_status_firefox116&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox116&o1=equals&v1=wontfix)
[status-firefox117](/buglist.cgi?f1=cf_status_firefox117&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox117&o1=equals&v1=affected)
[status-firefox-esr102](/buglist.cgi?f1=cf_status_firefox_esr102&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox_esr102&o1=equals&v1=wontfix)
[status-firefox-esr115](/buglist.cgi?f1=cf_status_firefox_esr115&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=affected)
[tracking-firefox117](/buglist.cgi?f1=cf_tracking_firefox117&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox117&o1=equals&v1=%2B)
[tracking-firefox118](/buglist.cgi?f1=cf_tracking_firefox118&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox118&o1=equals&v1=%2B)
[tracking-firefox-esr115](/buglist.cgi?f1=cf_tracking_firefox_esr115&o1=isnotempty):
--- → [117+](/buglist.cgi?f1=cf_tracking_firefox_esr115&o1=equals&v1=117%2B)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1843046#c15)• 1 year ago |
|  | |

Please nominate this for Beta and ESR115 approval.

Flags: needinfo?(hsingh)

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1843046#c16)• 1 year ago |
|  | |

Comment on [attachment 9344756](/attachment.cgi?id=9344756 "Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers") [[details]](/attachment.cgi?id=9344756&action=edit "Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers")

[Bug 1843046](/show_bug.cgi?id=1843046 "VERIFIED FIXED - push notifications saved to disk in Private Browsing mode (Toggle off push notifications in Private Browsing mode)"): Do not allow notifications in private window.r=#dom-storage-reviewers

### ESR Uplift Approval Request

* **If this is not a sec:{high,crit} bug, please state case for ESR consideration**: Currently, notifications are stored as a raw data on disk even for private browsing mode which is against firefox's security and privacy promise so we are disabling notifications in private browsing mode entirely such that we could get more time to properly implement private notifications.
* **User impact if declined**: Firefox would continue to store notifications in raw format on user machines in private session.
* **Fix Landed on Version**: 117+
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**: Code changes are not too complicated to apply and changes are only contained within notifications area only.

### Beta/Release Uplift Approval Request

* **User impact if declined**: Currently, notifications are stored as a raw data on disk even for private browsing mode which is against firefox's security and privacy promise so we are disabling notifications in private browsing mode entirely such that we could get more time to properly implement private notifications.
* **Is this code covered by automated tests?**: Yes
* **Has the fix been verified in Nightly?**: Yes
* **Needs manual test from QE?**: Yes
* **If yes, steps to reproduce**: 1. Load a website which would generate notifications.

2. Allow permissions to get notifications (permission dialog wouldn't be generated in private session).
3. notifications are not delivered in private browsing session while they continue to deliver in non-private browsing session.

* **List of other uplifts needed**: None
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**: Code changes are not too complicated to apply and changes are only contained within notifications area only.
* **String changes made/needed**:
* **Is Android affected?**: Unknown
Flags: needinfo?(hsingh)
[Attachment #9344756](/attachment.cgi?id=9344756&action=edit "Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers") -
Flags: approval-mozilla-esr115?
[Attachment #9344756](/attachment.cgi?id=9344756&action=edit "Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers") -
Flags: approval-mozilla-beta?

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a3123899_704280)• 1 year ago |

[Attachment #9348190](/attachment.cgi?id=9348190&action=edit "Bug 1843046: Ignored a android kt private notification test.r=#geckoview-reviewers") -
Flags: approval-mozilla-esr115?

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1843046#c17)• 1 year ago |
|  | |

Comment on [attachment 9348190](/attachment.cgi?id=9348190 "Bug 1843046: Ignored a android kt private notification test.r=#geckoview-reviewers") [[details]](/attachment.cgi?id=9348190&action=edit "Bug 1843046: Ignored a android kt private notification test.r=#geckoview-reviewers")

[Bug 1843046](/show_bug.cgi?id=1843046 "VERIFIED FIXED - push notifications saved to disk in Private Browsing mode (Toggle off push notifications in Private Browsing mode)"): Ignored a android kt private notification test.r=#geckoview-reviewers

### Beta/Release Uplift Approval Request

* **User impact if declined**:
* **Is this code covered by automated tests?**: Yes
* **Has the fix been verified in Nightly?**: Yes
* **Needs manual test from QE?**: Yes
* **If yes, steps to reproduce**:
* **List of other uplifts needed**: None
* **Risk to taking this patch**: Low
* **Why is the change risky/not risky? (and alternatives if risky)**:
* **String changes made/needed**:
* **Is Android affected?**: Yes
[Attachment #9348190](/attachment.cgi?id=9348190&action=edit "Bug 1843046: Ignored a android kt private notification test.r=#geckoview-reviewers") -
Flags: approval-mozilla-beta?

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1843046#c18)• 1 year ago |
|  | |

Comment on [attachment 9344756](/attachment.cgi?id=9344756 "Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers") [[details]](/attachment.cgi?id=9344756&action=edit "Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers")

[Bug 1843046](/show_bug.cgi?id=1843046 "VERIFIED FIXED - push notifications saved to disk in Private Browsing mode (Toggle off push notifications in Private Browsing mode)"): Do not allow notifications in private window.r=#dom-storage-reviewers

Approved for 117.0b9 and 115.2esr.

[Attachment #9344756](/attachment.cgi?id=9344756&action=edit "Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers") -
Flags: approval-mozilla-esr115?
[Attachment #9344756](/attachment.cgi?id=9344756&action=edit "Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers") -
Flags: approval-mozilla-esr115+
[Attachment #9344756](/attachment.cgi?id=9344756&action=edit "Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers") -
Flags: approval-mozilla-beta?
[Attachment #9344756](/attachment.cgi?id=9344756&action=edit "Bug 1843046: Do not allow notifications in private window.r=#dom-storage-reviewers") -
Flags: approval-mozilla-beta+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a3123996_75935)• 1 year ago |

[Attachment #9348190](/attachment.cgi?id=9348190&action=edit "Bug 1843046: Ignored a android kt private notification test.r=#geckoview-reviewers") -
Flags: approval-mozilla-esr115?
[Attachment #9348190](/attachment.cgi?id=9348190&action=edit "Bug 1843046: Ignored a android kt private notification test.r=#geckoview-reviewers") -
Flags: approval-mozilla-esr115+
[Attachment #9348190](/attachment.cgi?id=9348190&action=edit "Bug 1843046: Ignored a android kt private notification test.r=#geckoview-reviewers") -
Flags: approval-mozilla-beta?
[Attachment #9348190](/attachment.cgi?id=9348190&action=edit "Bug 1843046: Ignored a android kt private notification test.r=#geckoview-reviewers") -
Flags: approval-mozilla-beta+

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1843046#c19)• 1 year ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-beta/rev/80796db900e6>
<https://hg.mozilla.org/releases/mozilla-beta/rev/bf609d109343>

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a3125252_75935)• 1 year ago |

[status-firefox117](/buglist.cgi?f1=cf_status_firefox117&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox117&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox117&o1=equals&v1=fixed)

|  | [Camelia Badau [:cbadau], Desktop Test Engineering](/user_profile?user_id=500622) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a3170524_500622)• 1 year ago |

Flags: qe-verify+

|  | [Andrei Vaida [:avaida]](/user_profile?user_id=488993) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a3173041_488993)• 1 year ago |

QA Whiteboard: [post-critsmash-triage]

|  | [Camelia Badau [:cbadau], Desktop Test Engineering](/user_profile?user_id=500622) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a3179560_500622)• 1 year ago |

QA Whiteboard: [post-critsmash-triage] → [post-critsmash-triage] [qa-triaged]

|  | [Bogdan Maris, Desktop Test Engineering [PTO until 13 Jan]](/user_profile?user_id=458188) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1843046#c20)• 1 year ago |
|  | |

Do you have an example of a website with a notification on which I can test that this is fixed? Or is the one I used bellow good enough?

I tried a few push notification sample websites like <https://cleverpush.com/en/test-notifications/> or <https://pushalert.co/demo> but using an old Nightly build before the fix (2023-07-12) no notification is shown in Private Window. Same with Firefox 117.0b9 which has the fix.

I also ran into this demo website <https://www.bennish.net/web-notifications.html> where I saw the following:

* If I open the demo in a private window in the old Nightly build and click on Authorize and then Show, I will get a notification. I will also have data in about:cache?storage=disk from the website.

The output of the console from the demo website:

`Permission to display: granted`

`Notification #1 queued for display`

`Notification #1 showed`

* If I open the demo in a private window in Firefox 117.0b9 build and click on Authorize and then Show, I will **NOT get the notification**. I will have **NO data** in about:cache?storage=disk from the website.

The output of the console from the demo website:

`Permission to display: denied`

`Notification #1 queued for display`

`Notification #1 errored`

Flags: needinfo?(hsingh)

|  | [Harveer Singh](/user_profile?user_id=704280)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1843046#c21)• 1 year ago |
|  | |

Yes, <https://www.bennish.net/web-notifications.html> is the correct one to use for testing.

<https://cleverpush.com/en/test-notifications/> website explicitly disables notifications in private session.

Flags: needinfo?(hsingh)

|  | [Bogdan Maris, Desktop Test Engineering [PTO until 13 Jan]](/user_profile?user_id=458188) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1843046#c22)• 1 year ago |
|  | |

(In reply to Harveer Singh from [comment #21](/show_bug.cgi?id=1843046#c21 "VERIFIED FIXED - push notifications saved to disk in Private Browsing mode (Toggle off push notifications in Private Browsing mode)"))

> Yes, <https://www.bennish.net/web-notifications.html> is the correct one to use for testing.
>
> <https://cleverpush.com/en/test-notifications/> website explicitly disables notifications in private session.

Thanks, I verified the behavior described in [comment 20](/show_bug.cgi?id=1843046#c20 "VERIFIED FIXED - push notifications saved to disk in Private Browsing mode (Toggle off push notifications in Private Browsing mode)") using Latest Nightly 118.0a1 and Firefox 117.0b9 across platforms (Windows 10, macOS 13 and Ubuntu 22.04) on bennish.net website as a demo page, that the notification is disabled in private browsing and no data is stored on disk.

[status-firefox117](/buglist.cgi?f1=cf_status_firefox117&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox117&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox117&o1=equals&v1=verified)
[status-firefox118](/buglist.cgi?f1=cf_status_firefox118&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox118&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox118&o1=equals&v1=verified)Flags: qe-verify+

|  | [Pulsebot](/user_profile?user_id=510726) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1843046#c23)• 1 year ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr115/rev/27e84a0d49de>
<https://hg.mozilla.org/releases/mozilla-esr115/rev/2d8400b399ed>

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a3382988_75935)• 1 year ago |

[status-firefox-esr115](/buglist.cgi?f1=cf_status_firefox_esr115&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=fixed)

|  | [Bogdan Maris, Desktop Test Engineering [PTO until 13 Jan]](/user_profile?user_id=458188) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1843046#c24)• 1 year ago |
|  | |

Also verified as fixed using Firefox 115 esr across platforms (Windows 10, macOS 13 and Ubuntu 22.04).

Status: RESOLVED → VERIFIED
[status-firefox-esr115](/buglist.cgi?f1=cf_status_firefox_esr115&o1=isnotempty):
[fixed](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=fixed) → [verified](/buglist.cgi?f1=cf_status_firefox_esr115&o1=equals&v1=verified)

|  | [June Wilde (she/her) [:jewilde]](/user_profile?user_id=626341) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1843046#c25)• 1 year ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9350228)
— [Details](attachment.cgi?id=9350228&action=edit)

|  | [June Wilde (she/her) [:jewilde]](/user_profile?user_id=626341) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a3778221_626341)• 1 year ago |

Whiteboard: [adv-main117+]

|  | [June Wilde (she/her) [:jewilde]](/user_profile?user_id=626341) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a3780025_626341)• 1 year ago |

Whiteboard: [adv-main117+] → [adv-main117+] [adv-esr115.2+]

|  | [Donal Meehan [:dmeehan]](/user_profile?user_id=695136) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a5364559_695136)• 1 year ago |

Regressions: [1852438](/show_bug.cgi?id=1852438 "NEW - Notifications silently stopped working in permanent private browsing mode even when explicitly allowed")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a15187240_1689)• 1 year ago |

Group: core-security-release

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a15193005_1689)• 1 year ago |

Alias: CVE-2023-4580

|  | [Jens Stutte [:jstutte]](/user_profile?user_id=646284) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1843046#a27643874_646284)• 8 months ago |

See Also: → [1882176](/show_bug.cgi?id=1882176 "RESOLVED FIXED - Supporting notifications in PBM")
You need to [log in](/show_bug.cgi?id=1843046&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Harveer Singh](/user_profile?user_id=704280)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_e6b091cb_20250110_160858.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    #### Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [#### Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    #### Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    #### Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    #### Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    #### Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    #### MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    #### Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    #### Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [#### About Mozilla](/en-US/about/)
  + [#### The Mozilla Manifesto](/en-US/about/manifesto/)
  + [#### Get Involved](/en-US/contribute/)
  + [#### Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [#### Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2023-36

## Security Vulnerabilities fixed in Firefox ESR 115.2

Announced
August 29, 2023
Impact
high
Products
Firefox ESR
Fixed in

* Firefox ESR 115.2

#### [#CVE-2023-4573: Memory corruption in IPC CanvasTranslator](#CVE-2023-4573)

Reporter
sonakkbi
Impact
high
##### Description

When receiving rendering data over IPC `mStream` could have been destroyed when initialized, which could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846687](https://bugzilla.mozilla.org/show_bug.cgi?id=1846687)

#### [#CVE-2023-4574: Memory corruption in IPC ColorPickerShownCallback](#CVE-2023-4574)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the Color Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846688](https://bugzilla.mozilla.org/show_bug.cgi?id=1846688)

#### [#CVE-2023-4575: Memory corruption in IPC FilePickerShownCallback](#CVE-2023-4575)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the File Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846689](https://bugzilla.mozilla.org/show_bug.cgi?id=1846689)

#### [#CVE-2023-4576: Integer Overflow in RecordedSourceSurfaceCreation](#CVE-2023-4576)

Reporter
fffvr
Impact
high
##### Description

On Windows, an integer overflow could occur in `RecordedSourceSurfaceCreation` which resulted in a heap buffer overflow potentially leaking sensitive data that could have led to a sandbox escape.
*This bug only affects Firefox on Windows. Other operating systems are unaffected.*

##### References

* [Bug 1846694](https://bugzilla.mozilla.org/show_bug.cgi?id=1846694)

#### [#CVE-2023-4577: Memory corruption in JIT UpdateRegExpStatics](#CVE-2023-4577)

Reporter
Lukas Bernhard
Impact
high
##### Description

When `UpdateRegExpStatics` attempted to access `initialStringHeap` it could already have been garbage collected prior to entering the function, which could potentially have led to an exploitable crash.

##### References

* [Bug 1847397](https://bugzilla.mozilla.org/show_bug.cgi?id=1847397)

#### [#CVE-2023-4051: Full screen notification obscured by file open dialog](#CVE-2023-4051)

Reporter
Hafiizh
Impact
moderate
##### Description

A website could have obscured the full screen notification by using the file open dialog. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1821884](https://bugzilla.mozilla.org/show_bug.cgi?id=1821884)

#### [#CVE-2023-4578: Error reporting methods in SpiderMonkey could have triggered an Out of Memory Exception](#CVE-2023-4578)

Reporter
Irvan Kurniawan (@sourc7)
Impact
moderate
##### Description

When calling `JS::CheckRegExpSyntax` a Syntax Error could have been set which would end in calling `convertToRuntimeErrorAndClear`. A path in the function could attempt to allocate memory when none is available which would have caused a newly created Out of Memory exception to be mishandled as a Syntax Error.

##### References

* [Bug 1839007](https://bugzilla.mozilla.org/show_bug.cgi?id=1839007)

#### [#CVE-2023-4053: Full screen notification obscured by external program](#CVE-2023-4053)

Reporter
Umar Farooq
Impact
moderate
##### Description

A website could have obscured the full screen notification by using a URL with a scheme handled by an external program, such as a mailto URL. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1839079](https://bugzilla.mozilla.org/show_bug.cgi?id=1839079)

#### [#CVE-2023-4580: Push notifications saved to disk unencrypted](#CVE-2023-4580)

Reporter
Harveer Singh
Impact
moderate
##### Description

Push notifications stored on disk in private browsing mode were not being encrypted potentially allowing the leak of sensitive information.

##### References

* [Bug 1843046](https://bugzilla.mozilla.org/show_bug.cgi?id=1843046)

#### [#CVE-2023-4581: XLL file extensions were downloadable without warnings](#CVE-2023-4581)

Reporter
Umar Farooq (@Puf)
Impact
moderate
##### Description

Excel `.xll` add-in files did not have a blocklist entry in Firefox's executable blocklist which allowed them to be downloaded without any warning of their potential harm.

##### References

* [Bug 1843758](https://bugzilla.mozilla.org/show_bug.cgi?id=1843758)

#### [#CVE-2023-4582: Buffer Overflow in WebGL glGetProgramiv](#CVE-2023-4582)

Reporter
Dohyun Lee (@l33d0hyun) of SSD-Disclosure Labs & DNSLab, Korea Univ.
Impact
low
##### Description

Due to large allocation checks in Angle for glsl shaders being too lenient a buffer overflow could have occured when allocating too much private shader memory on mac OS.
*This bug only affects Firefox on macOS. Other operating systems are unaffected.*

##### References

* [Bug 1773874](https://bugzilla.mozilla.org/show_bug.cgi?id=1773874)

#### [#CVE-2023-4583: Browsing Context potentially not cleared when closing Private Window](#CVE-2023-4583)

Reporter
Thejaka Maldeniya
Impact
low
##### Description

When checking if the Browsing Context had been discarded in `HttpBaseChannel`, if the load group was not available then it was assumed to have already been discarded which was not always the case for private channels after the private session had ended.

##### References

* [Bug 1842030](https://bugzilla.mozilla.org/show_bug.cgi?id=1842030)

#### [#CVE-2023-4584: Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](#CVE-2023-4584)

Reporter
Randell Jesup, Andrew McCreight, the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 102.14, Firefox ESR 115.1, Thunderbird 102.14, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1843968%2C1845205%2C1846080%2C1846526%2C1847529)

#### [#CVE-2023-4585: Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](#CVE-2023-4585)

Reporter
Donal Meehan, Sebastian Hengst, and the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 115.1, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1751583%2C1833504%2C1841082%2C1847904%2C1848999)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from www.mozilla.org_8ea4e939_20250110_160859.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    #### Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    #### Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [#### Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    #### Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    #### Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    #### Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    #### Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    #### MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    #### Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    #### Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [#### About Mozilla](/en-US/about/)
  + [#### The Mozilla Manifesto](/en-US/about/manifesto/)
  + [#### Get Involved](/en-US/contribute/)
  + [#### Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [#### Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [#### Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2023-38

## Security Vulnerabilities fixed in Thunderbird 115.2

Announced
August 29, 2023
Impact
high
Products
Thunderbird
Fixed in

* Thunderbird 115.2

*In general, these flaws cannot be exploited through email in the Thunderbird product because scripting is disabled when reading mail, but are potentially risks in browser or browser-like contexts.*

#### [#CVE-2023-4573: Memory corruption in IPC CanvasTranslator](#CVE-2023-4573)

Reporter
sonakkbi
Impact
high
##### Description

When receiving rendering data over IPC `mStream` could have been destroyed when initialized, which could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846687](https://bugzilla.mozilla.org/show_bug.cgi?id=1846687)

#### [#CVE-2023-4574: Memory corruption in IPC ColorPickerShownCallback](#CVE-2023-4574)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the Color Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846688](https://bugzilla.mozilla.org/show_bug.cgi?id=1846688)

#### [#CVE-2023-4575: Memory corruption in IPC FilePickerShownCallback](#CVE-2023-4575)

Reporter
sonakkbi
Impact
high
##### Description

When creating a callback over IPC for showing the File Picker window, multiple of the same callbacks could have been created at a time and eventually all simultaneously destroyed as soon as one of the callbacks finished. This could have led to a use-after-free causing a potentially exploitable crash.

##### References

* [Bug 1846689](https://bugzilla.mozilla.org/show_bug.cgi?id=1846689)

#### [#CVE-2023-4576: Integer Overflow in RecordedSourceSurfaceCreation](#CVE-2023-4576)

Reporter
fffvr
Impact
high
##### Description

On Windows, an integer overflow could occur in `RecordedSourceSurfaceCreation` which resulted in a heap buffer overflow potentially leaking sensitive data that could have led to a sandbox escape.
*This bug only affects Firefox on Windows. Other operating systems are unaffected.*

##### References

* [Bug 1846694](https://bugzilla.mozilla.org/show_bug.cgi?id=1846694)

#### [#CVE-2023-4577: Memory corruption in JIT UpdateRegExpStatics](#CVE-2023-4577)

Reporter
Lukas Bernhard
Impact
high
##### Description

When `UpdateRegExpStatics` attempted to access `initialStringHeap` it could already have been garbage collected prior to entering the function, which could potentially have led to an exploitable crash.

##### References

* [Bug 1847397](https://bugzilla.mozilla.org/show_bug.cgi?id=1847397)

#### [#CVE-2023-4051: Full screen notification obscured by file open dialog](#CVE-2023-4051)

Reporter
Hafiizh
Impact
moderate
##### Description

A website could have obscured the full screen notification by using the file open dialog. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1821884](https://bugzilla.mozilla.org/show_bug.cgi?id=1821884)

#### [#CVE-2023-4578: Error reporting methods in SpiderMonkey could have triggered an Out of Memory Exception](#CVE-2023-4578)

Reporter
Irvan Kurniawan (@sourc7)
Impact
moderate
##### Description

When calling `JS::CheckRegExpSyntax` a Syntax Error could have been set which would end in calling `convertToRuntimeErrorAndClear`. A path in the function could attempt to allocate memory when none is available which would have caused a newly created Out of Memory exception to be mishandled as a Syntax Error.

##### References

* [Bug 1839007](https://bugzilla.mozilla.org/show_bug.cgi?id=1839007)

#### [#CVE-2023-4053: Full screen notification obscured by external program](#CVE-2023-4053)

Reporter
Umar Farooq
Impact
moderate
##### Description

A website could have obscured the full screen notification by using a URL with a scheme handled by an external program, such as a mailto URL. This could have led to user confusion and possible spoofing attacks.

##### References

* [Bug 1839079](https://bugzilla.mozilla.org/show_bug.cgi?id=1839079)

#### [#CVE-2023-4580: Push notifications saved to disk unencrypted](#CVE-2023-4580)

Reporter
Harveer Singh
Impact
moderate
##### Description

Push notifications stored on disk in private browsing mode were not being encrypted potentially allowing the leak of sensitive information.

##### References

* [Bug 1843046](https://bugzilla.mozilla.org/show_bug.cgi?id=1843046)

#### [#CVE-2023-4581: XLL file extensions were downloadable without warnings](#CVE-2023-4581)

Reporter
Umar Farooq (@Puf)
Impact
moderate
##### Description

Excel `.xll` add-in files did not have a blocklist entry in Firefox's executable blocklist which allowed them to be downloaded without any warning of their potential harm.

##### References

* [Bug 1843758](https://bugzilla.mozilla.org/show_bug.cgi?id=1843758)

#### [#CVE-2023-4582: Buffer Overflow in WebGL glGetProgramiv](#CVE-2023-4582)

Reporter
Dohyun Lee (@l33d0hyun) of SSD-Disclosure Labs & DNSLab, Korea Univ.
Impact
low
##### Description

Due to large allocation checks in Angle for glsl shaders being too lenient a buffer overflow could have occured when allocating too much private shader memory on mac OS.
*This bug only affects Firefox on macOS. Other operating systems are unaffected.*

##### References

* [Bug 1773874](https://bugzilla.mozilla.org/show_bug.cgi?id=1773874)

#### [#CVE-2023-4583: Browsing Context potentially not cleared when closing Private Window](#CVE-2023-4583)

Reporter
Thejaka Maldeniya
Impact
low
##### Description

When checking if the Browsing Context had been discarded in `HttpBaseChannel`, if the load group was not available then it was assumed to have already been discarded which was not always the case for private channels after the private session had ended.

##### References

* [Bug 1842030](https://bugzilla.mozilla.org/show_bug.cgi?id=1842030)

#### [#CVE-2023-4584: Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](#CVE-2023-4584)

Reporter
Randell Jesup, Andrew McCreight, the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 102.14, Firefox ESR 115.1, Thunderbird 102.14, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 102.15, Firefox ESR 115.2, Thunderbird 102.15, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1843968%2C1845205%2C1846080%2C1846526%2C1847529)

#### [#CVE-2023-4585: Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](#CVE-2023-4585)

Reporter
Donal Meehan, Sebastian Hengst, and the Mozilla Fuzzing Team
Impact
high
##### Description

Memory safety bugs present in Firefox 116, Firefox ESR 115.1, and Thunderbird 115.1. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 117, Firefox ESR 115.2, and Thunderbird 115.2](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1751583%2C1833504%2C1841082%2C1847904%2C1848999)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)


