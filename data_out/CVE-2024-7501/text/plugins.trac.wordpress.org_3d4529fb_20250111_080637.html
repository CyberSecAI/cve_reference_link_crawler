

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3136231%2Fdownload-plugins-dashboard%2Ftags%2F1.8.8%2Fincludes%2Fclass-alg-download-plugins-core.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3066463/download-plugins-dashboard/trunk/includes/class-alg-download-plugins-core.php "Changeset 3066463 for download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php")
* Next Change →

---

# Changeset [3136231](/changeset/3136231 "Show full changeset") for [download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php](/browser/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php?rev=3136231 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
08/15/2024 04:07:39 PM
([5 months](/timeline?from=2024-08-15T16%3A07%3A39Z&precision=second "See timeline at 08/15/2024 04:07:39 PM") ago)

Author:
wpcodefactory
Message:

Update to version 1.8.8 from GitHub

Location:
[download-plugins-dashboard/tags/1.8.8](/browser/download-plugins-dashboard/tags/1.8.8?rev=3136231)
Files:

1 edited
1 copied

* [.](/browser/download-plugins-dashboard/tags/1.8.8?rev=3136231 "Show entry in browser")
  (copied)
  *(copied from [download-plugins-dashboard/trunk](/browser/download-plugins-dashboard/trunk?rev=3087667 "Show original file (revision 3136230)"))*
* [includes/class-alg-download-plugins-core.php](/browser/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php?rev=3136231 "Show entry in browser")
  (modified)
  ([8 diffs](#file1 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php](/changeset/3136231/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php "Show the changeset 3136231 restricted to download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php")

  | [r3066463](/browser/download-plugins-dashboard/trunk/includes/class-alg-download-plugins-core.php?rev=3066463#L3 "Show revision 3066463 of this file in browser") | [r3136231](/browser/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php?rev=3136231#L3 "Show revision 3136231 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \* Download Plugins and Themes from Dashboard - Core Class |
  | 4 | 4 | \* |
  | 5 |  | \* @version 1.8.~~6~~ |
  |  | 5 | \* @version 1.8.8 |
  | 6 | 6 | \* @since   1.2.0 |
  | 7 | 7 | \* |
  | […](/browser/download-plugins-dashboard/trunk/includes/class-alg-download-plugins-core.php?rev=3066463#L65) | […](/browser/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php?rev=3136231#L65) |  |
  | 65 | 65 | \* add\_theme\_download\_links. |
  | 66 | 66 | \* |
  | 67 |  | \* @version 1.~~7.1~~ |
  |  | 67 | \* @version 1.8.8 |
  | 68 | 68 | \* @since   1.1.0 |
  | 69 | 69 | \* |
  | […](/browser/download-plugins-dashboard/trunk/includes/class-alg-download-plugins-core.php?rev=3066463#L77) | […](/browser/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php?rev=3136231#L77) |  |
  | 77 | 77 | true |
  | 78 | 78 | ); |
  | 79 |  | wp\_localize\_script( 'alg-theme-download-links', 'alg\_object', array( |
  |  | 79 | wp\_localize\_script( 'alg-theme-download-links', 'alg\_localize\_object', array( |
  | 80 | 80 | 'download\_link\_text' => \_\_( 'Download ZIP', 'download-plugins-dashboard' ), |
  | 81 | 81 | ) ); |
  |  | 82 | wp\_add\_inline\_script( 'alg-theme-download-links', 'let alg\_object = ' . json\_encode( array( |
  |  | 83 | 'ajaxUrl'    => admin\_url( 'admin-ajax.php' ), |
  |  | 84 | 'themes\_url' => admin\_url( 'themes.php' ), |
  |  | 85 | 'nonce'      => array( 'param' => 'alg\_nonce', 'value' => wp\_create\_nonce( 'alg\_download\_item' ) ) |
  |  | 86 | ) ), 'before' |
  |  | 87 | ); |
  | 82 | 88 | } |
  | 83 | 89 |  |
  | […](/browser/download-plugins-dashboard/trunk/includes/class-alg-download-plugins-core.php?rev=3066463#L85) | […](/browser/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php?rev=3136231#L91) |  |
  | 85 | 91 | \* Show action links on the plugin screen. |
  | 86 | 92 | \* |
  | 87 |  | \* @version 1.~~5.0~~ |
  |  | 93 | \* @version 1.8.8 |
  | 88 | 94 | \* @since   1.0.0 |
  | 89 | 95 | \*/ |
  | […](/browser/download-plugins-dashboard/trunk/includes/class-alg-download-plugins-core.php?rev=3066463#L93) | […](/browser/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php?rev=3136231#L99) |  |
  | 93 | 99 | $extra\_params = ( isset( $\_GET['plugin\_status'] ) && in\_array( $\_GET['plugin\_status'], array( 'mustuse', 'dropins' ) ) ? |
  | 94 | 100 | '&alg\_download\_plugin\_status=' . $\_GET['plugin\_status'] : '' ); |
  |  | 101 | $link = add\_query\_arg( array( |
  |  | 102 | 'alg\_download\_plugin' => $plugin\_file[0] . $extra\_params, |
  |  | 103 | 'alg\_nonce'           => wp\_create\_nonce( 'alg\_download\_item' ) |
  |  | 104 | ), admin\_url( 'plugins.php' ) ); |
  | 95 | 105 | $actions = array\_merge( $actions, array( |
  | 96 |  | '<a href="' . ~~admin\_url( 'plugins.php?alg\_download\_plugin=' . $plugin\_file[0] . $extra\_params )~~ . '">' . |
  |  | 106 | '<a href="' . $link . '">' . |
  | 97 | 107 | \_\_( 'Download ZIP', 'download-plugins-dashboard' ) . '</a>' ) |
  | 98 | 108 | ); |
  | […](/browser/download-plugins-dashboard/trunk/includes/class-alg-download-plugins-core.php?rev=3066463#L413) | […](/browser/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php?rev=3136231#L423) |  |
  | 413 | 423 | \* download\_theme. |
  | 414 | 424 | \* |
  | 415 |  | \* @version 1.8.~~6~~ |
  |  | 425 | \* @version 1.8.8 |
  | 416 | 426 | \* @since   1.1.0 |
  | 417 | 427 | \* |
  | […](/browser/download-plugins-dashboard/trunk/includes/class-alg-download-plugins-core.php?rev=3066463#L419) | […](/browser/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php?rev=3136231#L429) |  |
  | 419 | 429 | \*/ |
  | 420 | 430 | function download\_theme() { |
  | 421 |  | if ( isset( $\_GET['alg\_download\_theme'] ) && is\_user\_logged\_in() && current\_user\_can( 'switch\_themes' ) ) { |
  |  | 431 | if ( |
  |  | 432 | isset( $\_GET['alg\_download\_theme'] ) && |
  |  | 433 | is\_user\_logged\_in() && |
  |  | 434 | current\_user\_can( 'switch\_themes' ) && |
  |  | 435 | isset( $\_GET['alg\_nonce'] ) && wp\_verify\_nonce( $\_GET['alg\_nonce'], 'alg\_download\_item' ) |
  |  | 436 | ) { |
  | 422 | 437 | if ( |
  | 423 | 438 | '' != ( $theme\_name = basename( sanitize\_text\_field( $\_GET['alg\_download\_theme'] ) ) ) && |
  | […](/browser/download-plugins-dashboard/trunk/includes/class-alg-download-plugins-core.php?rev=3066463#L486) | […](/browser/download-plugins-dashboard/tags/1.8.8/includes/class-alg-download-plugins-core.php?rev=3136231#L501) |  |
  | 486 | 501 | \* download\_plugin. |
  | 487 | 502 | \* |
  | 488 |  | \* @version 1.8.~~6~~ |
  |  | 503 | \* @version 1.8.8 |
  | 489 | 504 | \* @since   1.0.0 |
  | 490 | 505 | \*/ |
  | 491 | 506 | function download\_plugin() { |
  | 492 |  | if ( isset( $\_GET['alg\_download\_plugin'] ) && is\_user\_logged\_in() && current\_user\_can( 'activate\_plugins' ) ) { |
  |  | 507 | if ( |
  |  | 508 | isset( $\_GET['alg\_download\_plugin'] ) && |
  |  | 509 | is\_user\_logged\_in() && |
  |  | 510 | current\_user\_can( 'activate\_plugins' ) && |
  |  | 511 | isset( $\_GET['alg\_nonce'] ) && wp\_verify\_nonce( $\_GET['alg\_nonce'], 'alg\_download\_item' ) |
  |  | 512 | ) { |
  | 493 | 513 | if ( '' != ( $plugin\_name = basename( sanitize\_text\_field( $\_GET['alg\_download\_plugin'] ) ) ) ) { |
  | 494 | 514 | $all\_plugins = $this->get\_plugins(); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3136231)
* [Zip Archive](?format=zip&new=3136231)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

