
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FInternationalColorConsortium%2FDemoIccMAX%2Fissues%2F54)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FInternationalColorConsortium%2FDemoIccMAX%2Fissues%2F54)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=InternationalColorConsortium%2FDemoIccMAX)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[InternationalColorConsortium](/InternationalColorConsortium)
/
**[DemoIccMAX](/InternationalColorConsortium/DemoIccMAX)**
Public

* [Notifications](/login?return_to=%2FInternationalColorConsortium%2FDemoIccMAX) You must be signed in to change notification settings
* [Fork
  37](/login?return_to=%2FInternationalColorConsortium%2FDemoIccMAX)
* [Star
   120](/login?return_to=%2FInternationalColorConsortium%2FDemoIccMAX)

* [Code](/InternationalColorConsortium/DemoIccMAX)
* [Issues
  7](/InternationalColorConsortium/DemoIccMAX/issues)
* [Pull requests
  0](/InternationalColorConsortium/DemoIccMAX/pulls)
* [Discussions](/InternationalColorConsortium/DemoIccMAX/discussions)
* [Actions](/InternationalColorConsortium/DemoIccMAX/actions)
* [Projects
  0](/InternationalColorConsortium/DemoIccMAX/projects)
* [Security](/InternationalColorConsortium/DemoIccMAX/security)
* [Insights](/InternationalColorConsortium/DemoIccMAX/pulse)

Additional navigation options

* [Code](/InternationalColorConsortium/DemoIccMAX)
* [Issues](/InternationalColorConsortium/DemoIccMAX/issues)
* [Pull requests](/InternationalColorConsortium/DemoIccMAX/pulls)
* [Discussions](/InternationalColorConsortium/DemoIccMAX/discussions)
* [Actions](/InternationalColorConsortium/DemoIccMAX/actions)
* [Projects](/InternationalColorConsortium/DemoIccMAX/projects)
* [Security](/InternationalColorConsortium/DemoIccMAX/security)
* [Insights](/InternationalColorConsortium/DemoIccMAX/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FInternationalColorConsortium%2FDemoIccMAX%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FInternationalColorConsortium%2FDemoIccMAX%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Bugs from Fuzzing #54

Closed

[xsscx](/xsscx) opened this issue
Oct 26, 2023
· 0 comments

Closed

# [Bugs from Fuzzing](#top) #54

[xsscx](/xsscx) opened this issue
Oct 26, 2023
· 0 comments

## Comments

[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=80&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

Copy link

Collaborator

### **[xsscx](/xsscx)** commented [Oct 26, 2023](#issue-1964174295) • edited Loading

| Bug 1 - Heap Buffer Overflow in CIccCLUT::Interp3d | [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866")Patch in PR [#64](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/64) Severity: Reference Implementation | High Description A heap buffer overflow has been identified in the CIccCLUT::Interp3d method. This vulnerability can lead to potential crashes or undefined behavior when certain conditions are met. Steps to Reproduce Utilize the CIccCLUT::Interp3d method on a CIccCLUT object under conditions where m\_nNumPoints \* m\_nOutput equals 0. Attempt to access indices beyond the allocated size of the m\_pData array. Debug Session ``` (lldb) fr se 5 frame #5: 0x0000000100e8c982 libIccProfLib2.2.dylib`CIccCLUT::Interp3d(this=0x0000614000000440, destPixel=0x00007ff7bfefde80, srcPixel=0x00007ff7bfefde80) const at IccTagLut.cpp:2594:27    2591	               return;    2592	           }    2593 -> 2594	           destPixel[i] = p[n000] * dF0 + p[n001] * dF1 + p[n010] * dF2 + p[n011] * dF3 +    2595	                          p[n100] * dF4 + p[n101] * dF5 + p[n110] * dF6 + p[n111] * dF7;    2596	       }    2597	   } (lldb) frame variable (CIccCLUT *) this = 0x0000614000000440 (icFloatNumber *) destPixel = 0x00007ff7bfefde80 (const icFloatNumber *) srcPixel = 0x00007ff7bfefde80 (icUInt8Number) mx = '\xff' (icUInt8Number) my = '\xff' (icUInt8Number) mz = '\xff' (icFloatNumber) x = 0 (icFloatNumber) y = 0 (icFloatNumber) z = 0 (icUInt32Number) ix = 0 (icUInt32Number) iy = 0 (icUInt32Number) iz = 0 (icFloatNumber) u = 0 (icFloatNumber) t = 0 (icFloatNumber) s = 0 (icFloatNumber) ns = 1 (icFloatNumber) nt = 1 (icFloatNumber) nu = 1 (icFloatNumber) dF0 = 1 (icFloatNumber) dF1 = 0 (icFloatNumber) dF2 = 0 (icFloatNumber) dF3 = 0 (icFloatNumber) dF4 = 0 (icFloatNumber) dF5 = 0 (icFloatNumber) dF6 = 0 (icFloatNumber) dF7 = 0 (icUInt32Number) maxIndex = 50331647 (icFloatNumber *) pStart = 0x00006020000002d0 (int) i = 0 (icFloatNumber *) p = 0x00006020000002d0 (lldb) dis -s $pc-32 -c 24 libIccProfLib2.2.dylib`CIccCLUT::Interp3d:     0x100e8c962 <+2978>: loopne 0x100e8c961               ; <+2977> at IccTagLut.cpp  ``` Symptoms  * The program crashes with an AddressSanitizer report indicating a heap-buffer-overflow in CIccCLUT::Interp3d. * The value of m\_nNumPoints \* m\_nOutput is 0, indicating that the m\_pData array might not have been allocated or is of size 0. * Attempts are made to access indices as high as 3 and potentially up to 50331647 (as indicated by the maxIndex variable).  Potential Causes  * Improper initialization or setup of the CIccCLUT object. * Possible errors in the copy constructor or assignment operator of CIccCLUT.   -The m\_pData array might be reallocated with a different size elsewhere in the code.   -Invalid or corrupt input data affecting the CIccCLUT object's construction.  Bug 2 - Segmentation Fault in CIccXformMatrixTRC::GetCurve | [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") Severity: Reference Implementation | High Description A segmentation fault (SEGV) has been identified in the CIccXformMatrixTRC::GetCurve method within the IccCmm.cpp file, specifically at line 5240. The crash appears to be due to a read memory access at the zero address, suggesting a potential null pointer dereference. Steps to Reproduce Invoke the CIccXformMatrixTRC::GetCurve method with specific input that triggers the SEGV. The exact input causing this behavior needs further investigation. Observe the crash due to a segmentation fault. Crash Details ``` AddressSanitizer:DEADLYSIGNAL ================================================================= ==59095==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000000 (pc 0x000104511cd4 bp 0x7ff7bc556550 sp 0x7ff7bc556500 T0) ==59095==The signal is caused by a READ memory access. ==59095==Hint: address points to the zero page.     #0 0x104511cd4 in CIccXformMatrixTRC::GetCurve(unsigned int) const IccCmm.cpp:5240     #1 0x10451107a in CIccXformMatrixTRC::Begin() IccCmm.cpp:5100     #2 0x1045394a8 in CIccCmm::Begin(bool, bool) IccCmm.cpp:8297     #3 0x1045905a4 in CIccEvalCompare::EvaluateProfile(CIccProfile*, unsigned char, icRenderingIntent, icXformInterp, bool) IccEval.cpp:110     #4 0x104591419 in CIccEvalCompare::EvaluateProfile(char const*, unsigned char, icRenderingIntent, icXformInterp, bool) IccEval.cpp:197     #5 0x1039ae0d2 in main iccRoundTrip.cpp:168     #6 0x7ff80dee53a5 in start+0x795 (dyld:x86_64+0xfffffffffff5c3a5)  ==59095==Register values: rax = 0x0000000000000000  rbx = 0x00007ff7bc556900  rcx = 0x0000100000000000  rdx = 0x0000000000000000 rdi = 0x00007ff7bc5562c0  rsi = 0x00007ff7bc556320  rbp = 0x00007ff7bc556550  rsp = 0x00007ff7bc556500  r8 = 0x0000604000001610   r9 = 0xf3f3f300f1f1f100  r10 = 0x00007fffffffffff  r11 = 0xffffffffffffff20 r12 = 0x00007ff7bc557590  r13 = 0x0000000000000000  r14 = 0x00000001039addb0  r15 = 0x00007ff7bc557710 AddressSanitizer can not provide additional info. SUMMARY: AddressSanitizer: SEGV IccCmm.cpp:5240 in CIccXformMatrixTRC::GetCurve(unsigned int) const  ``` Symptoms The program crashes with an AddressSanitizer report indicating a SEGV in CIccXformMatrixTRC::GetCurve. The memory access causing the SEGV is a read operation from address 0x000000000000, which points to the zero page. The crash occurs specifically at line IccCmm.cpp:5240. Potential Causes Dereferencing a null pointer or uninitialized pointer in the CIccXformMatrixTRC::GetCurve method. An invalid curve index or parameter passed to the method, leading to out-of-bounds memory access. Memory corruption elsewhere in the application affecting the behavior of the CIccXformMatrixTRC::GetCurve method. Bugs 3 - 6 Bug Report: Undefined Behavior in IccTagLut.cpp and IccProfileXml.cpp  Severity: Reference Implementation | High  The UndefinedBehaviorSanitizer tool has identified multiple instances of undefined behavior within the IccTagLut.cpp and IccProfileXml.cpp files. Bug 3 Description File: IccTagLut.cpp Line: 1798 Issue: Index -1 is being used to access an array of type icUInt32Number[16], which results in out-of-bounds access. Bug 4 Description File: IccTagLut.cpp Line: 1799 Issue: Index -1 is being used to access an array of type icUInt8Number[16], which results in out-of-bounds access. Bug 5 Description File: IccProfileXml.cpp Line: 128 Issue: Loading a value 2543294359 which is not a valid value for the type icPlatformSignature. Bug 6 Description File: IccProfileXml.cpp Line: 129 Issue: Loading a value 2543294359 which is not a valid value for the type icPlatformSignature. Bug 7 - Heap Buffer Overflow in CIccXmlArrayType::ParseText | [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") Severity: Reference Implementation | High Description A heap buffer overflow has been identified in the function CIccXmlArrayType::ParseText at IccUtilXml.cpp:1003:10. This function is designed to parse text into an array, with a specific instantiation for unsigned short. The buffer overflow occurs during the parsing process, specifically in a loop condition where a buffer bound check fails, leading to an out-of-bounds read.  Variables at Crash Time: pBuf: A pointer to the buffer where parsed data is stored. nSize: The size of the buffer (4096). szText: A pointer to the text being parsed. n: Counter variable, which is also 4096 at the time of the crash. Crash Location in Code:  The crash occurs in the loop: while (\*szText && n<nSize) {. The error indicates that when n equals nSize, the loop still attempts to read \*szText, which is beyond the allocated buffer. Steps to ReproducePoC ``` Testing % ./iccFromXML mcs/17ChanWithSpots-MVIS.xml mcs/17ChanWithSpots-MVIS.icc  ``` Crash Details ``` mcs % ../iccFromXML 17ChanWithSpots-MVIS.xml 17ChanWithSpots-MVIS.icc ... SUMMARY: AddressSanitizer: heap-buffer-overflow IccUtilXml.cpp:1003 in CIccXmlArrayType<unsigned short, (icTagTypeSignature)1969828150>::ParseText(unsigned short*, unsigned int, char const*)  ``` Bug 8 - Floating Point Error in iccSpecSepToTiff.cpp at line 120 Patch in PR [#64](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/64) Reproduction ``` ./iccSpecSepToTiff out.tif 0 0 Overprint/17ChanData.txt 1 2 ~/Documents/2225-original.icc  ``` Description Arithmetic Error:  The crashing line (-> 0x100006251 <+1585>: idivl 0x230(%rbx)) suggests a division operation. The corresponding source code line (120 n = (end-start)/step + 1;) is performing a division operation. If step is zero, this operation will cause a division by zero error, leading to an FPE. Bug 9 SUMMARY: AddressSanitizer: heap-buffer-overflow IccUtilXml.cpp:1062 in CIccXmlArrayType<float, (icTagTypeSignature)1717793824>::ParseText(float\*, unsigned int, char const\*) ``` mcs % lldb -- ../../Build/Tools/IccFromXml/iccFromXML 18ChanWithSpots-MVIS.xml 18ChanWithSpots-MVIS.icc (lldb) target create "../../Build/Tools/IccFromXml/iccFromXML" Current executable set to 'DemoIccMAX-master/Build/Tools/IccFromXml/iccFromXML' (x86_64). (lldb) settings set -- target.run-args  "18ChanWithSpots-MVIS.xml" "18ChanWithSpots-MVIS.icc" (lldb) r Process 79070 launched: 'DemoIccMAX-master/Build/Tools/IccFromXml/iccFromXML' (x86_64) ================================================================= ==79070==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x00010040340c at pc 0x000100990dc5 bp 0x7ff7bfefac70 sp 0x7ff7bfefac68 READ of size 1 at 0x00010040340c thread T0     #0 0x100990dc4 in CIccXmlArrayType<float, (icTagTypeSignature)1717793824>::ParseText(float*, unsigned int, char const*) IccUtilXml.cpp:1062     #1 0x100992462 in CIccXmlArrayType<float, (icTagTypeSignature)1717793824>::ParseTextArrayNum(char const*, unsigned int, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccUtilXml.cpp:818     #2 0x10094e784 in icCLutFromXml(_xmlNode*, int, int, icConvertType, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccTagXml.cpp:3544     #3 0x1008b46ff in CIccMpeXmlExtCLUT::ParseXml(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccMpeXml.cpp:1935     #4 0x1008bf990 in CIccMpeXmlCalculator::ParseImport(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccMpeXml.cpp:2577     #5 0x1008d170f in CIccMpeXmlCalculator::ParseXml(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccMpeXml.cpp:3094     #6 0x10095561d in CIccTagXmlMultiProcessElement::ParseElement(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccTagXml.cpp:4081     #7 0x1009567b9 in CIccTagXmlMultiProcessElement::ParseXml(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccTagXml.cpp:4141     #8 0x10090b119 in CIccProfileXml::ParseTag(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccProfileXml.cpp:711     #9 0x10090c924 in CIccProfileXml::ParseXml(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccProfileXml.cpp:820     #10 0x10090cd5b in CIccProfileXml::LoadXml(char const*, char const*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>*) IccProfileXml.cpp:877     #11 0x10000406c in main IccFromXml.cpp:68     #12 0x7ff816e9f365 in start+0x795 (dyld:x86_64+0xfffffffffff5c365)  0x00010040340c is located 0 bytes after 2259980-byte region [0x0001001db800,0x00010040340c) allocated by thread T0 here:     #0 0x101743a20 in wrap_malloc+0xa0 (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0xdca20)     #1 0x10094d4f1 in icCLutFromXml(_xmlNode*, int, int, icConvertType, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccTagXml.cpp:3439     #2 0x1008b46ff in CIccMpeXmlExtCLUT::ParseXml(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccMpeXml.cpp:1935     #3 0x1008bf990 in CIccMpeXmlCalculator::ParseImport(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccMpeXml.cpp:2577     #4 0x1008d170f in CIccMpeXmlCalculator::ParseXml(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccMpeXml.cpp:3094     #5 0x10095561d in CIccTagXmlMultiProcessElement::ParseElement(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccTagXml.cpp:4081     #6 0x1009567b9 in CIccTagXmlMultiProcessElement::ParseXml(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccTagXml.cpp:4141     #7 0x10090b119 in CIccProfileXml::ParseTag(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccProfileXml.cpp:711     #8 0x10090c924 in CIccProfileXml::ParseXml(_xmlNode*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>&) IccProfileXml.cpp:820     #9 0x10090cd5b in CIccProfileXml::LoadXml(char const*, char const*, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>*) IccProfileXml.cpp:877     #10 0x10000406c in main IccFromXml.cpp:68     #11 0x7ff816e9f365 in start+0x795 (dyld:x86_64+0xfffffffffff5c365)  SUMMARY: AddressSanitizer: heap-buffer-overflow IccUtilXml.cpp:1062 in CIccXmlArrayType<float, (icTagTypeSignature)1717793824>::ParseText(float*, unsigned int, char const*) Shadow bytes around the buggy address:   0x000100403180: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x000100403200: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x000100403280: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x000100403300: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x000100403380: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 =>0x000100403400: 00[04]fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x000100403480: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x000100403500: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x000100403580: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x000100403600: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x000100403680: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa Shadow byte legend (one shadow byte represents 8 application bytes):   Addressable:           00   Partially addressable: 01 02 03 04 05 06 07   Heap left redzone:       fa   Freed heap region:       fd   Stack left redzone:      f1   Stack mid redzone:       f2   Stack right redzone:     f3   Stack after return:      f5   Stack use after scope:   f8   Global redzone:          f9   Global init order:       f6   Poisoned by user:        f7   Container overflow:      fc   Array cookie:            ac   Intra object redzone:    bb   ASan internal:           fe   Left alloca redzone:     ca   Right alloca redzone:    cb ==79070==ABORTING  ``` Clang Static Analyzer ReportLogic error Assigned value is garbage or undefined 2 Called C++ object pointer is null 3 Dereference of null pointer 13 Garbage return value 1 Result of operation is garbage or undefined 4 Uninitialized argument value 6 Unix API 4 Memory error Bad deallocator 7 Double free 2 Memory leak 10 Use-after-free 8 Unix API Allocator sizeof operand mismatch 1 Unused code Dead assignment 28 Dead increment 3 Dead initialization 20 Dead nested assignment 1 Knowledgebase <https://bugs.chromium.org/p/project-zero/issues/detail?id=2225> <https://bugs.chromium.org/p/project-zero/issues/detail?id=2226> <https://srd.cx/cve-2022-26730/> <https://srd.cx/cve-2023-32443/> Clang Static Analyzer Report <https://xss.cx/2023/10/29/src/demomax-clang-static-analysis/> Pull Request [#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53) icFixXml function [[CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602")] CIccPRMG::GetChroma function [[CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603")] Debugging AidsBuild ``` cmake -DCMAKE_INSTALL_PREFIX=$HOME/.local \       -DCMAKE_BUILD_TYPE=Debug \       -DCMAKE_CXX_FLAGS="-g -fsanitize=address -fno-omit-frame-pointer -Wall -std=c++17 -fprofile-instr-generate -fcoverage-mapping" \       ../Build/Cmake make  ``` Other Overflow Examples ``` DemoIccMAX-master/Build/Tools/IccFromXml/iccFromXml DemoIccMAX-master/Testing/CMYK-3DLUTs/CMYK-3DLUTs2.xml DemoIccMAX-master/Testing/CMYK-3DLUTs/CMYK-3DLUTs2.icc DemoIccMAX-master/Build/Tools/IccFromXml/iccFromXml DemoIccMAX-master/Testing/ICS/Rec2100HlgFull-Part1.xml DemoIccMAX-master/Testing/ICS/Rec2100HlgFull-Part1.icc DemoIccMAX-master/Build/Tools/IccFromXml/iccFromXml DemoIccMAX-master/Testing/ICS/Rec2100HlgFull-Part2.xml DemoIccMAX-master/Testing/ICS/Rec2100HlgFull-Part2.icc DemoIccMAX-master/Build/Tools/IccFromXml/iccFromXml DemoIccMAX-master/Testing/Overprint/17ChanPart1.xml DemoIccMAX-master/Testing/Overprint/17ChanPart1.icc  ``` IccEval.cpp at Line 139 - 172 ```     //  * Modified by @h02332 | David Hoyt     // determine granularity     if (!nGran) {       CIccTag* tag = pProfile->FindTag(icSigAToB0Tag + (nIntent == icAbsoluteColorimetric ? icRelativeColorimetric : nIntent));        if (!tag) {           std::cerr << "Tag is nullptr!" << std::endl;           return icCmmStatColorNotFound;       }              try {           if (dynamic_cast<CIccTagLut16*>(tag) != nullptr) {               std::cerr << "Unexpected object type detected!" << std::endl;               // If there's a method to get more details about the tag, use it. If not, skip this line.               // std::cerr << "Tag details: " << tag->GetDetails() << std::endl;               std::cerr << "Actual object type: " << typeid(*tag).name() << std::endl;           } else {               std::cerr << "Tag is not of expected type!" << std::endl;               std::cerr << "Actual object type: " << typeid(*tag).name() << std::endl;           }       } catch (const std::bad_typeid& e) {           std::cerr << "Caught bad_typeid exception: " << e.what() << std::endl;           return icCmmStatBadLutType;       }        CIccTagLutAtoB* pTag = dynamic_cast<CIccTagLutAtoB*>(tag);        // Check if pTag is valid. If it's not, we set nGran to default value and skip further checks.       if (!pTag || ndim == 3) {           nGran = 33;       } else {           CIccCLUT* pClut = pTag->GetCLUT();           nGran = pClut ? (pClut->GridPoints() + 2) : 33;       }     }  ``` IccTagLut.cpp at Line 2523 - 2666 ``` /**  ******************************************************************************  * Name: CIccCLUT::Interp3d  *   * Purpose: Three dimensional interpolation function  *  * Args:  *  Pixel = Pixel value to be found in the CLUT. Also used to store the result.  * Modified by @h02332 | David Hoyt  *******************************************************************************  */ void CIccCLUT::Interp3d(icFloatNumber *destPixel, const icFloatNumber *srcPixel) const {     icUInt8Number mx = m_MaxGridPoint[0];     icUInt8Number my = m_MaxGridPoint[1];     icUInt8Number mz = m_MaxGridPoint[2];      icFloatNumber x = UnitClip(srcPixel[0]) * mx;     icFloatNumber y = UnitClip(srcPixel[1]) * my;     icFloatNumber z = UnitClip(srcPixel[2]) * mz;      icUInt32Number ix = (icUInt32Number)x;     icUInt32Number iy = (icUInt32Number)y;     icUInt32Number iz = (icUInt32Number)z;      icFloatNumber u = x - ix;     icFloatNumber t = y - iy;     icFloatNumber s = z - iz;      if (ix == mx) {         ix--;         u = 1.0;     }     if (iy == my) {         iy--;         t = 1.0;     }     if (iz == mz) {         iz--;         s = 1.0;     }      icFloatNumber ns = (icFloatNumber)(1.0 - s);     icFloatNumber nt = (icFloatNumber)(1.0 - t);     icFloatNumber nu = (icFloatNumber)(1.0 - u);      icUInt32Number maxIndex = (mx + 1) * (my + 1) * (mz + 1) * m_nOutput - 1;      icFloatNumber dF0 = ns * nt * nu;     icFloatNumber dF1 = ns * nt * u;     icFloatNumber dF2 = ns * t * nu;     icFloatNumber dF3 = ns * t * u;     icFloatNumber dF4 = s * nt * nu;     icFloatNumber dF5 = s * nt * u;     icFloatNumber dF6 = s * t * nu;     icFloatNumber dF7 = s * t * u;       icFloatNumber *pStart = &m_pData[ix * n001 + iy * n010 + iz * n100];       for (int i = 0; i < m_nOutput; i++) {          icFloatNumber *p = pStart + i;           // Logging statements before the problematic line:               std::cout << "Pointer p: " << p << std::endl;               std::cout << "n000: " << n000 << ", Value: " << p[n000] << std::endl;               std::cout << "n001: " << n001 << ", Value: " << p[n001] << std::endl;               std::cout << "n010: " << n010 << ", Value: " << p[n010] << std::endl;               std::cout << "n011: " << n011 << ", Value: " << p[n011] << std::endl;               std::cout << "n100: " << n100 << ", Value: " << p[n100] << std::endl;               std::cout << "n101: " << n101 << ", Value: " << p[n101] << std::endl;               std::cout << "n110: " << n110 << ", Value: " << p[n110] << std::endl;               std::cout << "n111: " << n111 << ", Value: " << p[n111] << std::endl;                     // ... Similarly for other indices ...                    // Log the maximum possible index and the current index          std::cout << "Max Index: " << maxIndex << ", Current Index: " << (p + n111 - m_pData) << std::endl;           if (p + n111 > m_pData + maxIndex) {              std::cerr << "Potential overflow detected. Aborting." << std::endl;              return;          }           // Try to safely access the value at p[n000]          if (p + n000 > m_pData + maxIndex) {              std::cerr << "Potential overflow detected. Aborting." << std::endl;              return;          } else {              std::cout << "Value at (p + n000): " << p[n000] << std::endl;          }           if ((p + n001) >= (m_pData + maxIndex)) {              std::cerr << "Out-of-bounds access detected for n001." << std::endl;          }           if ((p + n010) >= (m_pData + maxIndex)) {              std::cerr << "Out-of-bounds access detected for n010." << std::endl;          }           if ((p + n011) >= (m_pData + maxIndex)) {              std::cerr << "Out-of-bounds access detected for n011." << std::endl;          }                    if ((p + n100) >= (m_pData + maxIndex)) {              std::cerr << "Out-of-bounds access detected for n100." << std::endl;          }                   if ((p + n101) >= (m_pData + maxIndex)) {              std::cerr << "Out-of-bounds access detected for n101." << std::endl;          }                    if ((p + n110) >= (m_pData + maxIndex)) {              std::cerr << "Out-of-bounds access detected for n110." << std::endl;          }                    if ((p + n111) >= (m_pData + maxIndex)) {              std::cerr << "Out-of-bounds access detected for n111." << std::endl;          }          // Add logging statements before the problematic line:           std::cout << "n000: " << n000 << std::endl;           std::cout << "n001: " << n001 << std::endl;           std::cout << "n010: " << n010 << std::endl;           std::cout << "n011: " << n011 << std::endl;           std::cout << "n100: " << n100 << std::endl;           std::cout << "n101: " << n101 << std::endl;           std::cout << "n110: " << n110 << std::endl;           std::cout << "n111: " << n111 << std::endl;          std::cout << "ix: " << ix << std::endl;              std::cout << "iy: " << iy << std::endl;              std::cout << "iz: " << iz << std::endl;              std::cout << "n001: " << n001 << std::endl;              std::cout << "n010: " << n010 << std::endl;              std::cout << "n100: " << n100 << std::endl;              std::cout << "pStart address: " << pStart << std::endl;                    // Before the problematic line          std::cout << "Pointer p: " << p << std::endl;          std::cout << "n000: " << n000 << std::endl;          std::cout << "Address (p + n000): " << p + n000 << std::endl;                     destPixel[i] = p[n000] * dF0 + p[n001] * dF1 + p[n010] * dF2 + p[n011] * dF3 +                         p[n100] * dF4 + p[n101] * dF5 + p[n110] * dF6 + p[n111] * dF7;      }  }  ``` IccUtilXml.cpp at Line 421 - 491 ``` //  * Modified by @h02332 | David Hoyt class CIccDumpXmlCLUT : public IIccCLUTExec { public:   CIccDumpXmlCLUT(std::string *xml, icConvertType nType, std::string blanks, icUInt16Number nSamples, icUInt8Number nPixelsPerRow)   {     m_xml = xml;     m_nType = nType;     m_blanks = blanks;     m_nSamples = nSamples;     m_nPixelsPerRow = nPixelsPerRow;     m_nCurPixel = 0;   }      virtual void PixelOp(icFloatNumber* pGridAdr, icFloatNumber* pData)     {         if (!pData) {             std::cerr << "Error: pData is nullptr." << std::endl;             return;  // Early return if pData is null         }          int i;         char buf[128];          if (!(m_nCurPixel % m_nPixelsPerRow))             *m_xml += m_blanks;          switch(m_nType) {             case icConvert8Bit:                 for (i=0; i<m_nSamples; i++) {                     if (&pData[i] == nullptr) {  // Check if accessing pData[i] is valid                         std::cerr << "Error: pData[i] is out of bounds." << std::endl;                         return;                     }                     sprintf(buf, " %3d", (icUInt8Number)(pData[i]*255.0 + 0.5));                     *m_xml += buf;                 }                 break;             case icConvert16Bit:                 for (i=0; i<m_nSamples; i++) {                     sprintf(buf, " %5d", (icUInt16Number)(pData[i]*65535.0 + 0.5));                     *m_xml += buf;                 }                 break;             case icConvertFloat:             default:                 for (i=0; i<m_nSamples; i++) {                     sprintf(buf, " %13.8f", pData[i]);                     *m_xml += buf;                 }                 break;         }         m_nCurPixel++;         if (!(m_nCurPixel % m_nPixelsPerRow)) {             *m_xml += "\n";         }     }      void Finish()     {         if (m_nCurPixel % m_nPixelsPerRow) {             *m_xml += "\n";         }     }      std::string *m_xml;     icConvertType m_nType;     std::string m_blanks;     icUInt16Number m_nSamples;     icUInt8Number m_nPixelsPerRow;     icUInt32Number m_nCurPixel; };  ``` DORKs for IccXmlLib or IccProfLib ``` intext:"libiccxml" OR intext:"iccproflib" "International Color Consortium" filetype:pdf OR filetype:txt OR filetype:md OR filetype:xml OR filetype:txt OR filetype:cpp "Libiccxml" OR "iccproflib" "iccxmllib" OR "iccproflib"  ``` |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)
[xsscx](/xsscx)
mentioned this issue
[Nov 13, 2023](#ref-pullrequest-1989660154)

[Patch for CIccCLUT::Interp2d and Interp3d in IccTagLut.cpp
#58](/InternationalColorConsortium/DemoIccMAX/pull/58)
 Closed

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Dec 20, 2023](#ref-commit-3d59d3a)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md](/xsscx/macos-research/commit/3d59d3a75f45b3355548386e06a1b7d927247b55 "Update Readme.md

# Samples Crashes | Trophy Case
- CVE-2023-46602
- CVE-2023-46603
- CVE-2023-46866
- CVE-2023-46867
- CVE-2023-47249
- CVE-2023-48736
## References
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58")`
…

`[3d59d3a](/xsscx/macos-research/commit/3d59d3a75f45b3355548386e06a1b7d927247b55)`

```
# Samples Crashes | Trophy Case
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602")
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603")
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866")
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867")
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249")
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736")
## References
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)
```

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Dec 20, 2023](#ref-commit-b2617e1)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md](/xsscx/macos-research/commit/b2617e1c7af6ebf66bd576b863342b5864a2d0b7 "Update Readme.md

# Samples Crashes | Trophy Case
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736
## References
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58")`
…

`[b2617e1](/xsscx/macos-research/commit/b2617e1c7af6ebf66bd576b863342b5864a2d0b7)`

```
# Samples Crashes | Trophy Case
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>
## References
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)
```

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Dec 20, 2023](#ref-commit-c25d0c9)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md](/xsscx/macos-research/commit/c25d0c9b6999233c99f416a44b94f78f15fd407a "Update Readme.md

# Samples Crashes | Trophy Case
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736
## References
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58")`
…

`[c25d0c9](/xsscx/macos-research/commit/c25d0c9b6999233c99f416a44b94f78f15fd407a)`

```
# Samples Crashes | Trophy Case
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>
## References
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)
```

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Dec 20, 2023](#ref-commit-3247cba)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md](/xsscx/macos-research/commit/3247cba22d2ed3265aec15c512e61d9396ecffd1 "Update Readme.md

Sample Crashes | Trophy Case
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736
- libAppleEXR - Abort() in RBG Channel Sub Sampling
## References
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58
- https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt")`
…

`[3247cba](/xsscx/macos-research/commit/3247cba22d2ed3265aec15c512e61d9396ecffd1)`

```
Sample Crashes | Trophy Case
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>
- libAppleEXR - Abort() in RBG Channel Sub Sampling
## References
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)
- <https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt>
```

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Feb 18, 2024](#ref-commit-4c6c5c6)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md](/xsscx/macos-research/commit/4c6c5c68a60ab2ae40683201fc516580d476f9e9 "Update Readme.md

# iOS PoC Image Fuzzer

Last Updated: February 18, 2024, 0000Z

This code is a stand-alone Image Fuzzer for XNU Research.

- This was built as a Cross Check for various Pixel functions
- Stand alone iOS App, command line with a default storyboard
- Xcode Project .. ready to compile...

## Trophy Case
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736
- libAppleEXR - Abort()  https://github.com/xsscx/macos-research/blob/main/code/imageio/crashes/libAppleEXR-discussion-analysis.md
## References
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58
- https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt

## Thanks
```
Argyll CMS change log
Version 3.0.3
-------------

* Changed ICC profile serialization of pure ASCII text tags
  emit a warning rather than error if they are fed non-ASCII utf8 input.

* Made icc code a little more robust against bad profiles.
  (Thanks to David Hoyt).

Version 3.0.2  23 October 2023
```
## Background
I had been using Jackalope for Fuzzing and to confirm that it could find easy to identify Bugs.  Looking deeper I found AUF, OOB, NPTR and other issues that concealed Bugs.

This code provides the basis for anyone to take and begin their own exploration of the XNU Image & Video Handling Code, whihc offer a massicve opportunity to find Bugs that may not yet be known to Apple :-)

Have Fun!!!")`
…

`[4c6c5c6](/xsscx/macos-research/commit/4c6c5c68a60ab2ae40683201fc516580d476f9e9)`

```
# iOS PoC Image Fuzzer

Last Updated: February 18, 2024, 0000Z

This code is a stand-alone Image Fuzzer for XNU Research.

- This was built as a Cross Check for various Pixel functions
- Stand alone iOS App, command line with a default storyboard
- Xcode Project .. ready to compile...

## Trophy Case
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>
- libAppleEXR - Abort()  <https://github.com/xsscx/macos-research/blob/main/code/imageio/crashes/libAppleEXR-discussion-analysis.md>
## References
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)
- <https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt>

## Thanks
```
Argyll CMS change log
Version 3.0.3
-------------

* Changed ICC profile serialization of pure ASCII text tags
  emit a warning rather than error if they are fed non-ASCII utf8 input.

* Made icc code a little more robust against bad profiles.
  (Thanks to David Hoyt).

Version 3.0.2  23 October 2023
```
## Background
I had been using Jackalope for Fuzzing and to confirm that it could find easy to identify Bugs.  Looking deeper I found AUF, OOB, NPTR and other issues that concealed Bugs.

This code provides the basis for anyone to take and begin their own exploration of the XNU Image & Video Handling Code, whihc offer a massicve opportunity to find Bugs that may not yet be known to Apple :-)

Have Fun!!!
```

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Feb 25, 2024](#ref-commit-18b4403)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md with Ballistic & Random PNG Image Generator Links](/xsscx/macos-research/commit/18b44035a8553a46e349896478a2aafcb1563ad4 "Update Readme.md with Ballistic & Random PNG Image Generator Links

## Trophy Case
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736
- libAppleEXR - Abort()  https://github.com/xsscx/macos-research/blob/main/code/imageio/crashes/libAppleEXR-discussion-analysis.md

## References
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58
- https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt

## Companions
### XNU Image Fuzzer
- iOS App Proof of Concept https://github.com/xsscx/xnuimagefuzzer
- Generate Fuzzed Images At Scale https://github.com/xsscx/macos-research/tree/main/code/iOSOnMac
- Generate Ballistic and Random PNG Images for Fuzzing
  - https://github.com/xsscx/macos-research/tree/main/code/png")`
…

`[18b4403](/xsscx/macos-research/commit/18b44035a8553a46e349896478a2aafcb1563ad4)`

```
## Trophy Case
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>
- libAppleEXR - Abort()  <https://github.com/xsscx/macos-research/blob/main/code/imageio/crashes/libAppleEXR-discussion-analysis.md>

## References
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)
- <https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt>

## Companions
### XNU Image Fuzzer
- iOS App Proof of Concept <https://github.com/xsscx/xnuimagefuzzer>
- Generate Fuzzed Images At Scale <https://github.com/xsscx/macos-research/tree/main/code/iOSOnMac>
- Generate Ballistic and Random PNG Images for Fuzzing
  - <https://github.com/xsscx/macos-research/tree/main/code/png>
```

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Feb 25, 2024](#ref-commit-a9534af)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md with Ballistic & Random Image Source Link for Image …](/xsscx/macos-research/commit/a9534af05f00c5c53ee7a8db1563bdbaee0e6411 "Update Readme.md with Ballistic & Random Image Source Link for Image Generation

## Trophy Case
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736
- libAppleEXR - Abort()  https://github.com/xsscx/macos-research/blob/main/code/imageio/crashes/libAppleEXR-discussion-analysis.md

## References
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58
- https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt

## Companions
### XNU Image Fuzzer
- iOS App Proof of Concept https://github.com/xsscx/xnuimagefuzzer
- Generate Fuzzed Images At Scale https://github.com/xsscx/macos-research/tree/main/code/iOSOnMac
- Generate Ballistic and Random PNG Images for Fuzzing
  - https://github.com/xsscx/macos-research/tree/main/code/png")`
…

`[a9534af](/xsscx/macos-research/commit/a9534af05f00c5c53ee7a8db1563bdbaee0e6411)`

```
…Generation

## Trophy Case
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>
- libAppleEXR - Abort()  <https://github.com/xsscx/macos-research/blob/main/code/imageio/crashes/libAppleEXR-discussion-analysis.md>

## References
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)
- <https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt>

## Companions
### XNU Image Fuzzer
- iOS App Proof of Concept <https://github.com/xsscx/xnuimagefuzzer>
- Generate Fuzzed Images At Scale <https://github.com/xsscx/macos-research/tree/main/code/iOSOnMac>
- Generate Ballistic and Random PNG Images for Fuzzing
  - <https://github.com/xsscx/macos-research/tree/main/code/png>
```

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Feb 25, 2024](#ref-commit-6b2ccb3)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md with xnuimagefuzzer Link](/xsscx/macos-research/commit/6b2ccb3706c60e2b97910e0b5269ac58a101afbe "Update Readme.md with xnuimagefuzzer Link

## Trophy Case
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736
- libAppleEXR - Abort()  https://github.com/xsscx/macos-research/blob/main/code/imageio/crashes/libAppleEXR-discussion-analysis.md

## References
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58
- https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt

## Companions
### XNU Image Fuzzer
- iOS App Proof of Concept https://github.com/xsscx/xnuimagefuzzer
- Generate Fuzzed Images At Scale https://github.com/xsscx/macos-research/tree/main/code/iOSOnMac
- Generate Ballistic and Random PNG Images for Fuzzing
  - https://github.com/xsscx/macos-research/tree/main/code/png")`
…

`[6b2ccb3](/xsscx/macos-research/commit/6b2ccb3706c60e2b97910e0b5269ac58a101afbe)`

```
## Trophy Case
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>
- libAppleEXR - Abort()  <https://github.com/xsscx/macos-research/blob/main/code/imageio/crashes/libAppleEXR-discussion-analysis.md>

## References
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)
- <https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt>

## Companions
### XNU Image Fuzzer
- iOS App Proof of Concept <https://github.com/xsscx/xnuimagefuzzer>
- Generate Fuzzed Images At Scale <https://github.com/xsscx/macos-research/tree/main/code/iOSOnMac>
- Generate Ballistic and Random PNG Images for Fuzzing
  - <https://github.com/xsscx/macos-research/tree/main/code/png>
```

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Feb 26, 2024](#ref-commit-8b58b84)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md](/xsscx/macos-research/commit/8b58b8434d2bc733f6c585f0188ddddf6e6874fc "Update Readme.md

Last Updated: February 18, 2024, 0000Z
# Trophy Case
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736
- libAppleEXR - Abort() in RBG Channel Sub Sampling
## References
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58
- https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt

## Thanks
```
Argyll CMS change log
Version 3.0.3
-------------

* Changed ICC profile serialization of pure ASCII text tags
  emit a warning rather than error if they are fed non-ASCII utf8 input.

* Made icc code a little more robust against bad profiles.
  (Thanks to David Hoyt).

Version 3.0.2  23 October 2023
```")`
…

`[8b58b84](/xsscx/macos-research/commit/8b58b8434d2bc733f6c585f0188ddddf6e6874fc)`

```
Last Updated: February 18, 2024, 0000Z
# Trophy Case
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>
- libAppleEXR - Abort() in RBG Channel Sub Sampling
## References
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)
- <https://raw.githubusercontent.com/xsscx/macos-research/main/code/imageio/crashes/crash-function-YCCAtoRGBA-libappleexr-sample-001.txt>

## Thanks
```
Argyll CMS change log
Version 3.0.3
-------------

* Changed ICC profile serialization of pure ASCII text tags
  emit a warning rather than error if they are fed non-ASCII utf8 input.

* Made icc code a little more robust against bad profiles.
  (Thanks to David Hoyt).

Version 3.0.2  23 October 2023
```
```

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Mar 5, 2024](#ref-commit-e6d356a)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md Add Bugs Identified with XNU Image Fuzzer](/xsscx/macos-research/commit/e6d356aa5a606d2755033e9fb03c8b9ae8c004e1 "Update Readme.md Add Bugs Identified with XNU Image Fuzzer

Last Updated: March 5, 2024, 1400Z

# Bugs Identified with XNU Image Fuzzer
- A sample of Bugs found

## CVE
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736
- libAppleEXR - Abort() in RBG Channel Sub Sampling

## DemoIccMax Bug Reports & Pull Requests
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58

## Apple Image dylib Crash Samples
- libAppleEXR in Function YCCAtoRGBA()
- AppleJPEG in Function decode_get_chroma_subsampling()

## Thanks
```
Argyll CMS change log
Version 3.0.3
-------------
* Made icc code a little more robust against bad profiles.
  (Thanks to David Hoyt).

Version 3.0.2  23 October 2023
```")`
…

`[e6d356a](/xsscx/macos-research/commit/e6d356aa5a606d2755033e9fb03c8b9ae8c004e1)`

```
Last Updated: March 5, 2024, 1400Z

# Bugs Identified with XNU Image Fuzzer
- A sample of Bugs found

## CVE
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>
- libAppleEXR - Abort() in RBG Channel Sub Sampling

## DemoIccMax Bug Reports & Pull Requests
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)

## Apple Image dylib Crash Samples
- libAppleEXR in Function YCCAtoRGBA()
- AppleJPEG in Function decode_get_chroma_subsampling()

## Thanks
```
Argyll CMS change log
Version 3.0.3
-------------
* Made icc code a little more robust against bad profiles.
  (Thanks to David Hoyt).

Version 3.0.2  23 October 2023
```
```

[xsscx](/xsscx)
added a commit
to xsscx/macos-research
that referenced
this issue
[Mar 5, 2024](#ref-commit-831e73c)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update Readme.md Add Crashing Functions](/xsscx/macos-research/commit/831e73ce7e8ceff3b47631df015377a769bbd213 "Update Readme.md Add Crashing Functions

Last Updated: March 5, 2024, 1400Z

# Bugs Identified with XNU Image Fuzzer
- A sample of Bugs found

## CVE
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736

## DemoIccMax Bug Reports & Pull Requests
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58

## Apple Image dylib Crash Samples
- libAppleEXR in Function YCCAtoRGBA()
- AppleJPEG in Function decode_get_chroma_subsampling()
- MediaToolbox in Function 0x18f3c9000 + 6396752

## Thanks
```
Argyll CMS change log
Version 3.0.3
-------------
* Made icc code a little more robust against bad profiles.
  (Thanks to David Hoyt).

Version 3.0.2  23 October 2023
```")`
…

`[831e73c](/xsscx/macos-research/commit/831e73ce7e8ceff3b47631df015377a769bbd213)`

```
Last Updated: March 5, 2024, 1400Z

# Bugs Identified with XNU Image Fuzzer
- A sample of Bugs found

## CVE
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>

## DemoIccMax Bug Reports & Pull Requests
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)

## Apple Image dylib Crash Samples
- libAppleEXR in Function YCCAtoRGBA()
- AppleJPEG in Function decode_get_chroma_subsampling()
- MediaToolbox in Function 0x18f3c9000 + 6396752

## Thanks
```
Argyll CMS change log
Version 3.0.3
-------------
* Made icc code a little more robust against bad profiles.
  (Thanks to David Hoyt).

Version 3.0.2  23 October 2023
```
```

[xsscx](/xsscx)
added a commit
to xsscx/xnuimagefuzzer
that referenced
this issue
[Mar 5, 2024](#ref-commit-1f3d3b1)
[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)

`[Update README.md Add Bug Reports](/xsscx/xnuimagefuzzer/commit/1f3d3b13c9e8c52c63f07d0f45fc32022b1ed133 "Update README.md Add Bug Reports

## Bugs Identified with XNU Image Fuzzer
- A sample of Bugs found

### CVE
- CVE-2023-46602 https://nvd.nist.gov/vuln/detail/CVE-2023-46602
- CVE-2023-46603 https://nvd.nist.gov/vuln/detail/CVE-2023-46603
- CVE-2023-46866 https://nvd.nist.gov/vuln/detail/CVE-2023-46866
- CVE-2023-46867 https://nvd.nist.gov/vuln/detail/CVE-2023-46867
- CVE-2023-47249 https://nvd.nist.gov/vuln/detail/CVE-2023-47249
- CVE-2023-48736 https://nvd.nist.gov/vuln/detail/CVE-2023-48736

### DemoIccMax Bug Reports & Pull Requests
- https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54
- https://github.com/InternationalColorConsortium/DemoIccMAX/issues/58

### Apple Image dylib Crash Samples
- libAppleEXR in Function YCCAtoRGBA()
- AppleJPEG in Function decode_get_chroma_subsampling()
- MediaToolbox in Function 0x18f3c9000 + 6396752

### Thanks
```
Argyll CMS change log
Version 3.0.3
-------------
* Made icc code a little more robust against bad profiles.
  (Thanks to David Hoyt).

Version 3.0.2  23 October 2023
```")`
…

`[1f3d3b1](/xsscx/xnuimagefuzzer/commit/1f3d3b13c9e8c52c63f07d0f45fc32022b1ed133)`

```
## Bugs Identified with XNU Image Fuzzer
- A sample of Bugs found

### CVE
- [CVE-2023-46602](https://github.com/advisories/GHSA-2q9m-8wj3-95xg "CVE-2023-46602") <https://nvd.nist.gov/vuln/detail/CVE-2023-46602>
- [CVE-2023-46603](https://github.com/advisories/GHSA-fjc9-jw7g-7732 "CVE-2023-46603") <https://nvd.nist.gov/vuln/detail/CVE-2023-46603>
- [CVE-2023-46866](https://github.com/advisories/GHSA-8vr5-2c4m-8x5v "CVE-2023-46866") <https://nvd.nist.gov/vuln/detail/CVE-2023-46866>
- [CVE-2023-46867](https://github.com/advisories/GHSA-h35g-gh47-w446 "CVE-2023-46867") <https://nvd.nist.gov/vuln/detail/CVE-2023-46867>
- [CVE-2023-47249](https://github.com/advisories/GHSA-j8pv-hfpr-q8pc "CVE-2023-47249") <https://nvd.nist.gov/vuln/detail/CVE-2023-47249>
- [CVE-2023-48736](https://github.com/advisories/GHSA-mqjf-65x6-cv76 "CVE-2023-48736") <https://nvd.nist.gov/vuln/detail/CVE-2023-48736>

### DemoIccMax Bug Reports & Pull Requests
- [InternationalColorConsortium/DemoIccMAX#53](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/53)
- [InternationalColorConsortium/DemoIccMAX#54](https://github.com/InternationalColorConsortium/DemoIccMAX/issues/54)
- [InternationalColorConsortium/DemoIccMAX#58](https://github.com/InternationalColorConsortium/DemoIccMAX/pull/58)

### Apple Image dylib Crash Samples
- libAppleEXR in Function YCCAtoRGBA()
- AppleJPEG in Function decode_get_chroma_subsampling()
- MediaToolbox in Function 0x18f3c9000 + 6396752

### Thanks
```
Argyll CMS change log
Version 3.0.3
-------------
* Made icc code a little more robust against bad profiles.
  (Thanks to David Hoyt).

Version 3.0.2  23 October 2023
```
```

[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)
[xsscx](/xsscx)
mentioned this issue
[May 4, 2024](#ref-pullrequest-2279076178)

[Patches for Security Issues, Build System Updates
#64](/InternationalColorConsortium/DemoIccMAX/pull/64)
 Closed

[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=40&u=718c74872b8e42580879503d8763527eec54855c&v=4)](/xsscx)
[xsscx](/xsscx)
closed this as [completed](/InternationalColorConsortium/DemoIccMAX/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[May 9, 2024](#event-12751546236)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FInternationalColorConsortium%2FDemoIccMAX%2Fissues%2F54)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

1 participant

[![@xsscx](https://avatars.githubusercontent.com/u/10790582?s=52&v=4)](/xsscx)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

