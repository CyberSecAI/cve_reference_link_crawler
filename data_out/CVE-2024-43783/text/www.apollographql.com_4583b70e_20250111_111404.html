        [Docs](/docs)          Search Apollo content (Cmd+K or /)             [Launch GraphOS Studio](https://studio.apollographql.com/signup?referrer=docs)        [Home Home](/docs/)  [Get Started Get Started](/docs/graphos/get-started)  [GraphOS Platform GraphOS Platform](/docs/graphos/platform)  [Schema Design Schema Design](/docs/graphos/schema-design)  [Routing Routing](/docs/graphos/routing)  [Reference Reference](/docs/graphos/reference)      Developer Tools Developer Tools          [Rover CLI](https://www.apollographql.com/docs/rover)[Apollo Sandbox](https://www.apollographql.com/docs/apollo-sandbox)[Apollo Client (Web)](https://www.apollographql.com/docs/react)[Apollo iOS](https://www.apollographql.com/docs/ios)[Apollo Kotlin](https://www.apollographql.com/docs/kotlin)[Apollo Server](https://www.apollographql.com/docs/apollo-server)[Apollo Router Core](https://github.com/apollographql/router)[VS Code Extension](https://www.apollographql.com/docs/vs-code-extension)                     [Overview](https://www.apollographql.com/docs/graphos/reference)[Changelogs](https://www.apollographql.com/docs/graphos/reference/changelog)[Glossary](https://www.apollographql.com/docs/graphos/reference/glossary)[Examples and Resources](https://www.apollographql.com/docs/graphos/reference/solutions)
### Release Policies

[Apollo Feature Launch Stages](https://www.apollographql.com/docs/graphos/reference/feature-launch-stages)[GraphOS Router Release Lifecycle](https://www.apollographql.com/docs/graphos/reference/router-release-lifecycle)[Apollo Client Library Release Lifecycle](https://www.apollographql.com/docs/graphos/reference/client-library-release-lifecycle)
### Architecture

[Reference Architecture](https://www.apollographql.com/docs/graphos/reference/architecture)
### Supergraph Architecture Framework

[Overview](https://www.apollographql.com/docs/graphos/reference/saf)[Operational Excellence](https://www.apollographql.com/docs/graphos/reference/saf/operational-excellence)[Security](https://www.apollographql.com/docs/graphos/reference/saf/security)[Reliability](https://www.apollographql.com/docs/graphos/reference/saf/reliability)[Performance](https://www.apollographql.com/docs/graphos/reference/saf/performance)[Developer Experience](https://www.apollographql.com/docs/graphos/reference/saf/developer-experience)
### Federation Reference

[Federation Versions](https://www.apollographql.com/docs/graphos/reference/federation/versions)[Federated Directives](https://www.apollographql.com/docs/graphos/reference/federation/directives)[Composition Rules](https://www.apollographql.com/docs/graphos/reference/federation/composition-rules)
### Subgraph Reference

[Federation Subgraphs Specification](https://www.apollographql.com/docs/graphos/reference/federation/subgraph-spec)[Subgraph Specific Fields](https://www.apollographql.com/docs/graphos/reference/federation/subgraph-specific-fields)[Compatible Subgraph Libraries](https://www.apollographql.com/docs/graphos/reference/federation/compatible-subgraphs)
### Development and Debugging

[Query Plans](https://www.apollographql.com/docs/graphos/reference/federation/query-plans)[Composition Hints](https://www.apollographql.com/docs/graphos/reference/federation/hints)[Errors](https://www.apollographql.com/docs/graphos/reference/federation/errors)[Federation v1](https://www.apollographql.com/docs/graphos/reference/federation/v1)
### Router Reference

[Self-Hosted Installation](https://www.apollographql.com/docs/graphos/reference/router/self-hosted-install)[Configuration](https://www.apollographql.com/docs/graphos/reference/router/configuration)[GraphOS Router Features](https://www.apollographql.com/docs/graphos/reference/router/graphos-features)[Rhai API](https://www.apollographql.com/docs/graphos/reference/router/rhai)[Federation Version Support](https://www.apollographql.com/docs/graphos/reference/router/federation-version-support)[Errors](https://www.apollographql.com/docs/graphos/reference/router/errors)
### Router Telemetry

### Log Exporters

[Overview](https://www.apollographql.com/docs/graphos/reference/router/telemetry/log-exporters/overview)[Stdout](https://www.apollographql.com/docs/graphos/reference/router/telemetry/log-exporters/stdout)
### Metrics Exporters

[Overview](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/overview)[Datadog](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/datadog)[Dynatrace](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/dynatrace)[New Relic](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/new-relic)[OTLP](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/otlp)[Prometheus](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/prometheus)
### Trace Exporters

[Overview](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/overview)[Datadog](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/datadog)[Dynatrace](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/dynatrace)[Jaeger](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/jaeger)[New Relic](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/new-relic)[OTLP](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/otlp)[Zipkin](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/zipkin)
### Instrumentation

[Instruments](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/instruments)[Events](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/events)[Conditions](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/conditions)[Spans](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/spans)[Selectors](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/selectors)[Standard Attributes](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/standard-attributes)[Standard Instruments](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/standard-instruments)
### Migration Guides

[From Router v1.x to v2.x](https://www.apollographql.com/docs/graphos/reference/migration/from-router-v1)[From Router v0.x to v1.x](https://www.apollographql.com/docs/graphos/reference/migration/from-router-version-0.x)[From @apollo/gateway to Router](https://www.apollographql.com/docs/graphos/reference/migration/from-gateway)[From Federation 1 to 2](https://www.apollographql.com/docs/graphos/reference/migration/to-federation-version-2)[Federation 2 Backwards Compatibility](https://www.apollographql.com/docs/graphos/reference/migration/backward-compatibility)[From a Monolith](https://www.apollographql.com/docs/graphos/reference/migration/from-monolith)[From Schema Stitching](https://www.apollographql.com/docs/graphos/reference/migration/from-schema-stitching)
### GraphQL Adoption Guides

[GraphQL Adoption Patterns](https://www.apollographql.com/docs/graphos/reference/guides/graphql-adoption-patterns)[Using GraphQL for Abstraction](https://www.apollographql.com/docs/graphos/reference/guides/using-graphql-for-abstraction)[Supergraph Stewardship](https://www.apollographql.com/docs/graphos/reference/guides/supergraph-stewardship)Navigation controls
## Get Started

[Overview](https://www.apollographql.com/docs/graphos/get-started)
### Quickstarts

[Start with a GraphQL API](https://www.apollographql.com/docs/graphos/get-started/guides/quickstart)[Connect a REST API](https://www.apollographql.com/docs/graphos/get-started/guides/rest-quickstart)
### Concepts

[GraphQL](https://www.apollographql.com/docs/graphos/get-started/concepts/graphql)[Graph Types](https://www.apollographql.com/docs/graphos/get-started/concepts/graphs)[GraphOS Platform](https://www.apollographql.com/docs/graphos/get-started/concepts/graphos)
## GraphOS Platform

[Overview](https://www.apollographql.com/docs/graphos/platform)
### Schema Management

[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management)
### Schema Delivery

[Publish](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/publish)[Launch](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/launch)
### Contracts

[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/contracts/overview)[Create](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/contracts/create)[Usage Patterns](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/contracts/usage-patterns)[Reference](https://www.apollographql.com/docs/graphos/platform/schema-management/delivery/contracts/reference)
### Schema Checks

[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management/checks)[Run Checks](https://www.apollographql.com/docs/graphos/platform/schema-management/checks/run)[Custom Checks](https://www.apollographql.com/docs/graphos/platform/schema-management/checks/custom)[Checks Configuration](https://www.apollographql.com/docs/graphos/platform/schema-management/checks/configure)[GitHub Integration](https://www.apollographql.com/docs/graphos/platform/schema-management/checks/github-integration)[Checks Reference](https://www.apollographql.com/docs/graphos/platform/schema-management/checks/reference)
### Schema Linting

[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management/linting)[Linter Rules](https://www.apollographql.com/docs/graphos/platform/schema-management/linting/rules)
### Schema Proposals

[Overview](https://www.apollographql.com/docs/graphos/platform/schema-management/proposals)[Configure](https://www.apollographql.com/docs/graphos/platform/schema-management/proposals/configure)[Create](https://www.apollographql.com/docs/graphos/platform/schema-management/proposals/create)[Review](https://www.apollographql.com/docs/graphos/platform/schema-management/proposals/review)[Implement](https://www.apollographql.com/docs/graphos/platform/schema-management/proposals/implement)
### Explorer IDE

[Overview](https://www.apollographql.com/docs/graphos/platform/explorer)[Connect and Authenticate](https://www.apollographql.com/docs/graphos/platform/explorer/connect)[Operation Collections](https://www.apollographql.com/docs/graphos/platform/explorer/operation-collections)[Subscription Support](https://www.apollographql.com/docs/graphos/platform/explorer/subscription-support)[Embed](https://www.apollographql.com/docs/graphos/platform/explorer/embed)[Scripting](https://www.apollographql.com/docs/graphos/platform/explorer/scripting)[Additional Features](https://www.apollographql.com/docs/graphos/platform/explorer/additional-features)
### Graph Security

[Overview](https://www.apollographql.com/docs/graphos/platform/security/overview)[Persisted Queries](https://www.apollographql.com/docs/graphos/platform/security/persisted-queries)
### Metrics and Insights

[Overview](https://www.apollographql.com/docs/graphos/platform/insights)
### Metrics Collection and Forwarding

[Sending Metrics to GraphOS](https://www.apollographql.com/docs/graphos/platform/insights/sending-operation-metrics)[Operation Signatures](https://www.apollographql.com/docs/graphos/platform/insights/operation-signatures)[Datadog Forwarding](https://www.apollographql.com/docs/graphos/platform/insights/datadog-forwarding)
### Insights and Analysis

[Operation Metrics](https://www.apollographql.com/docs/graphos/platform/insights/operation-metrics)[Field Usage](https://www.apollographql.com/docs/graphos/platform/insights/field-usage)[Segmenting by Client](https://www.apollographql.com/docs/graphos/platform/insights/client-segmentation)
### Notifications and Alerts

[Overview](https://www.apollographql.com/docs/graphos/platform/insights/notifications)[Daily Reports](https://www.apollographql.com/docs/graphos/platform/insights/notifications/daily-reports)[Schema Changes](https://www.apollographql.com/docs/graphos/platform/insights/notifications/schema-changes)[Schema Proposals](https://www.apollographql.com/docs/graphos/platform/insights/notifications/schema-proposals)[Performance Alerts](https://www.apollographql.com/docs/graphos/platform/insights/notifications/performance-alerts)[Build Status](https://www.apollographql.com/docs/graphos/platform/insights/notifications/build-status)
### Access Management

[Organizations](https://www.apollographql.com/docs/graphos/platform/access-management/org)[API Keys](https://www.apollographql.com/docs/graphos/platform/access-management/api-keys)[Members, Roles, and Permissions](https://www.apollographql.com/docs/graphos/platform/access-management/member-roles)[Audit Logs](https://www.apollographql.com/docs/graphos/platform/access-management/audit-log)
### SSO

[Overview](https://www.apollographql.com/docs/graphos/platform/access-management/sso/overview)[Multi-Organization](https://www.apollographql.com/docs/graphos/platform/access-management/sso/multi-organization)
### SAML

[Okta](https://www.apollographql.com/docs/graphos/platform/access-management/sso/saml-okta)[Microsoft Entra ID](https://www.apollographql.com/docs/graphos/platform/access-management/sso/saml-microsoft-entra-id)[Generic SAML Setup](https://www.apollographql.com/docs/graphos/platform/access-management/sso/saml-integration-guide)
### OIDC

[Okta](https://www.apollographql.com/docs/graphos/platform/access-management/sso/oidc-okta)[Microsoft Entra ID](https://www.apollographql.com/docs/graphos/platform/access-management/sso/oidc-microsoft-entra-id)[Generic OIDC Setup](https://www.apollographql.com/docs/graphos/platform/access-management/sso/oidc-integration-guide)
### Graph Management

[Using Variants](https://www.apollographql.com/docs/graphos/platform/graph-management/variants)[Adding Subgraphs](https://www.apollographql.com/docs/graphos/platform/graph-management/add-subgraphs)[Managing Subgraphs](https://www.apollographql.com/docs/graphos/platform/graph-management/manage-subgraphs)[Updating Graph Components](https://www.apollographql.com/docs/graphos/platform/graph-management/updates)
### Production Readiness

[Production Readiness Checklist](https://www.apollographql.com/docs/graphos/platform/production-readiness/checklist)
### Testing and Load Management

[Overload Protection](https://www.apollographql.com/docs/graphos/platform/production-readiness/overload-protection)[Load Testing](https://www.apollographql.com/docs/graphos/platform/production-readiness/load-testing)[Testing with Federation](https://www.apollographql.com/docs/graphos/platform/production-readiness/testing-with-apollo-federation)
### Environment and Deployment

[Environment Best Practices](https://www.apollographql.com/docs/graphos/platform/production-readiness/environment-best-practices)[Schema Change Management](https://www.apollographql.com/docs/graphos/platform/production-readiness/change-management)[Updating Client Schema](https://www.apollographql.com/docs/graphos/platform/production-readiness/updating-client-schema)[Deployment Best Practices](https://www.apollographql.com/docs/graphos/platform/production-readiness/deployment-best-practices)[GraphOS Platform API](https://www.apollographql.com/docs/graphos/platform/platform-api)
## Schema Design

[Overview](https://www.apollographql.com/docs/graphos/schema-design)
### Federated Schemas

[Apollo Federation](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/federation)[Schema Types](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/schema-types)[Schema Composition](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/composition)[Sharing Types (Value Types)](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/sharing-types)[IDE Support](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/ide-support)
### Entities

[Introduction](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/intro)[Define Keys](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/define-keys)[Contribute Fields](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/contribute-fields)[Resolve Another Subgraph's Fields](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/resolve-another-subgraphs-fields)[Use Contexts](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/use-contexts)[Interfaces](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/interfaces)[Migrate Fields](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/migrate-fields)[Enforce Ownership](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/enforce-ownership)[Entity Best Practices](https://www.apollographql.com/docs/graphos/schema-design/federated-schemas/entities/best-practices)
### Apollo Connectors

[Overview](https://www.apollographql.com/docs/graphos/schema-design/connectors)[Common Patterns](https://www.apollographql.com/docs/graphos/schema-design/connectors/guides)
### Connectors Guides

[Making HTTP Requests](https://www.apollographql.com/docs/graphos/schema-design/connectors/http)[Working with Federation](https://www.apollographql.com/docs/graphos/schema-design/connectors/federation)[Working with Router](https://www.apollographql.com/docs/graphos/schema-design/connectors/router)[Selection Mapping](https://www.apollographql.com/docs/graphos/schema-design/connectors/selection)[Observability](https://www.apollographql.com/docs/graphos/schema-design/connectors/observability)[Troubleshooting](https://www.apollographql.com/docs/graphos/schema-design/connectors/troubleshooting)
### IDE Support

[Visual Studio Code](https://www.apollographql.com/docs/graphos/schema-design/connectors/vs-code)[Vim/NeoVim](https://www.apollographql.com/docs/graphos/schema-design/connectors/vim)
### Connectors Reference

[Directives](https://www.apollographql.com/docs/graphos/schema-design/connectors/directives)[Limitations](https://www.apollographql.com/docs/graphos/schema-design/connectors/limitations)[Changelog](https://www.apollographql.com/docs/graphos/schema-design/connectors/changelog)
### Schema Design Guides

[Handling the N+1 Problem](https://www.apollographql.com/docs/graphos/schema-design/guides/handling-n-plus-one)
### Schema Design Principles

[Schema Naming Conventions](https://www.apollographql.com/docs/graphos/schema-design/guides/naming-conventions)[Namespacing](https://www.apollographql.com/docs/graphos/schema-design/guides/namespacing-by-separation-of-concerns)[Mocking to Unblock Development](https://www.apollographql.com/docs/graphos/schema-design/guides/mocking)[Demand Oriented Schema Design](https://www.apollographql.com/docs/graphos/schema-design/guides/demand-oriented-schema-design)[Aggregating Data](https://www.apollographql.com/docs/graphos/schema-design/guides/aggregating-data-across-subgraphs)[Nullability](https://www.apollographql.com/docs/graphos/schema-design/guides/nullability)[Errors as Data](https://www.apollographql.com/docs/graphos/schema-design/guides/errors-as-data-explained)[Deprecations](https://www.apollographql.com/docs/graphos/schema-design/guides/deprecations)
### Advanced Schema Techniques

[Interfaces](https://www.apollographql.com/docs/graphos/schema-design/guides/interfaces)[Response Type Pattern](https://www.apollographql.com/docs/graphos/schema-design/guides/response-type-pattern)[Graph Identities](https://www.apollographql.com/docs/graphos/schema-design/guides/graph-identities)[Relay Style Connections and Pagination](https://www.apollographql.com/docs/graphos/schema-design/guides/relay-style-connections)[Distributed Orchestration](https://www.apollographql.com/docs/graphos/schema-design/guides/distributed-orchestration)
## Routing

[Overview](https://www.apollographql.com/docs/graphos/routing)[About GraphOS Router](https://www.apollographql.com/docs/graphos/routing/about-router)[Configure Your Router](https://www.apollographql.com/docs/graphos/routing/configure-your-router)
### Cloud Routing

[Overview](https://www.apollographql.com/docs/graphos/routing/cloud)[Configuration](https://www.apollographql.com/docs/graphos/routing/cloud/configuration)[Secure Subgraphs](https://www.apollographql.com/docs/graphos/routing/cloud/secure-subgraphs)[Subscriptions](https://www.apollographql.com/docs/graphos/routing/cloud/subscriptions)[Serverless](https://www.apollographql.com/docs/graphos/routing/cloud/serverless)
### Dedicated

[Overview](https://www.apollographql.com/docs/graphos/routing/cloud/dedicated)[Quickstart](https://www.apollographql.com/docs/graphos/routing/cloud/dedicated-quickstart)[Custom Domains](https://www.apollographql.com/docs/graphos/routing/cloud/custom-domains)[Throughput Guide](https://www.apollographql.com/docs/graphos/routing/cloud/throughput-guide)[Migrate to Dedicated](https://www.apollographql.com/docs/graphos/routing/cloud/migrate-to-dedicated)
### AWS Lattice

[Lattice Configuration](https://www.apollographql.com/docs/graphos/routing/cloud/lattice-configuration)[Lattice Management](https://www.apollographql.com/docs/graphos/routing/cloud/lattice-management)[Lattice Troubleshooting](https://www.apollographql.com/docs/graphos/routing/cloud/lattice-troubleshooting)
### Self-Hosted Deployment

[Overview](https://www.apollographql.com/docs/graphos/routing/self-hosted)[Router Resource Estimator](https://www.apollographql.com/docs/graphos/routing/self-hosted/resource-estimator)[Health Checks](https://www.apollographql.com/docs/graphos/routing/self-hosted/health-checks)[Resource Management](https://www.apollographql.com/docs/graphos/routing/self-hosted/resource-management)
### Containerization

[Overview](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization)[Docker](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/docker)[Kubernetes](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/kubernetes)[Optimize Builds](https://www.apollographql.com/docs/graphos/routing/self-hosted/containerization/optimize-build)
### Query Planning

[Native Query Planner](https://www.apollographql.com/docs/graphos/routing/query-planning/native-query-planner)
### Client Features

[HTTP Header Propagation](https://www.apollographql.com/docs/graphos/routing/header-propagation)[File Upload Support](https://www.apollographql.com/docs/graphos/routing/operations/file-upload)
### Real-Time Operations

[Overview](https://www.apollographql.com/docs/graphos/routing/operations)[Defer Support](https://www.apollographql.com/docs/graphos/routing/operations/defer)
### Subscription Support

[Overview](https://www.apollographql.com/docs/graphos/routing/operations/subscriptions)[Callback Protocol](https://www.apollographql.com/docs/graphos/routing/operations/subscriptions/callback-protocol)[Multipart Protocol](https://www.apollographql.com/docs/graphos/routing/operations/subscriptions/multipart-protocol)[Enable with API Gateway](https://www.apollographql.com/docs/graphos/routing/operations/subscriptions/api-gateway)
### Security

[Overview](https://www.apollographql.com/docs/graphos/routing/security)[Persisted Queries](https://www.apollographql.com/docs/graphos/routing/security/persisted-queries)[Authorization](https://www.apollographql.com/docs/graphos/routing/security/authorization)
### Authentication

[JWT Authentication](https://www.apollographql.com/docs/graphos/routing/security/jwt)[Router Authentication](https://www.apollographql.com/docs/graphos/routing/security/router-authentication)[Subgraph Authentication](https://www.apollographql.com/docs/graphos/routing/security/subgraph-authentication)
### Operations Security

[Request Limits](https://www.apollographql.com/docs/graphos/routing/security/request-limits)[Demand Control](https://www.apollographql.com/docs/graphos/routing/security/demand-control)
### Web Security

[CORS](https://www.apollographql.com/docs/graphos/routing/security/cors)[CSRF Prevention](https://www.apollographql.com/docs/graphos/routing/security/csrf)
### Performance and Scaling

[Overview](https://www.apollographql.com/docs/graphos/routing/performance)[Traffic Shaping](https://www.apollographql.com/docs/graphos/routing/performance/traffic-shaping)[Query Batching](https://www.apollographql.com/docs/graphos/routing/performance/query-batching)[Query Planner Pools](https://www.apollographql.com/docs/graphos/routing/performance/query-planner-pools)
### Caching

[In-Memory Caching](https://www.apollographql.com/docs/graphos/routing/performance/caching/in-memory)[Distributed Caching](https://www.apollographql.com/docs/graphos/routing/performance/caching/distributed)[Entity Caching](https://www.apollographql.com/docs/graphos/routing/performance/caching/entity)
### Router Customization

[Router Request Lifecycle](https://www.apollographql.com/docs/graphos/routing/customization/overview)[Rhai Scripts](https://www.apollographql.com/docs/graphos/routing/customization/rhai)[Rust Plugins](https://www.apollographql.com/docs/graphos/routing/customization/native-plugins)[Coprocessors](https://www.apollographql.com/docs/graphos/routing/customization/coprocessor)[Custom Binaries](https://www.apollographql.com/docs/graphos/routing/customization/custom-binary)
### GraphOS Integration

[Apollo Uplink](https://www.apollographql.com/docs/graphos/routing/uplink)[Operation Metrics Reporting](https://www.apollographql.com/docs/graphos/routing/graphos-reporting)
### Observability

[Overview](https://www.apollographql.com/docs/graphos/routing/observability)[Router Telemetry](https://www.apollographql.com/docs/graphos/routing/observability/telemetry)[Federated Trace Data](https://www.apollographql.com/docs/graphos/routing/observability/federated-trace-data)
### Subgraph Observability

[Subgraph Error Inclusion](https://www.apollographql.com/docs/graphos/routing/observability/subgraph-error-inclusion)[Opt-in Error Reporting](https://www.apollographql.com/docs/graphos/routing/observability/error-reporting)[Debugging Subgraph Requests](https://www.apollographql.com/docs/graphos/routing/observability/debugging-subgraph-requests)
### Client Observability

[Client ID Enforcement](https://www.apollographql.com/docs/graphos/routing/observability/client-id-enforcement)
### OpenTelemetry

[Set up OTel](https://www.apollographql.com/docs/graphos/routing/observability/otel)[Connect OTel to Prometheus](https://www.apollographql.com/docs/graphos/routing/observability/otel-traces-to-prometheus)
### Guides

[API Gateway Comparison](https://www.apollographql.com/docs/graphos/routing/router-api-gateway-comparison)
## Reference

[Overview](https://www.apollographql.com/docs/graphos/reference)[Changelogs](https://www.apollographql.com/docs/graphos/reference/changelog)[Glossary](https://www.apollographql.com/docs/graphos/reference/glossary)[Examples and Resources](https://www.apollographql.com/docs/graphos/reference/solutions)
### Release Policies

[Apollo Feature Launch Stages](https://www.apollographql.com/docs/graphos/reference/feature-launch-stages)[GraphOS Router Release Lifecycle](https://www.apollographql.com/docs/graphos/reference/router-release-lifecycle)[Apollo Client Library Release Lifecycle](https://www.apollographql.com/docs/graphos/reference/client-library-release-lifecycle)
### Architecture

[Reference Architecture](https://www.apollographql.com/docs/graphos/reference/architecture)
### Supergraph Architecture Framework

[Overview](https://www.apollographql.com/docs/graphos/reference/saf)[Operational Excellence](https://www.apollographql.com/docs/graphos/reference/saf/operational-excellence)[Security](https://www.apollographql.com/docs/graphos/reference/saf/security)[Reliability](https://www.apollographql.com/docs/graphos/reference/saf/reliability)[Performance](https://www.apollographql.com/docs/graphos/reference/saf/performance)[Developer Experience](https://www.apollographql.com/docs/graphos/reference/saf/developer-experience)
### Federation Reference

[Federation Versions](https://www.apollographql.com/docs/graphos/reference/federation/versions)[Federated Directives](https://www.apollographql.com/docs/graphos/reference/federation/directives)[Composition Rules](https://www.apollographql.com/docs/graphos/reference/federation/composition-rules)
### Subgraph Reference

[Federation Subgraphs Specification](https://www.apollographql.com/docs/graphos/reference/federation/subgraph-spec)[Subgraph Specific Fields](https://www.apollographql.com/docs/graphos/reference/federation/subgraph-specific-fields)[Compatible Subgraph Libraries](https://www.apollographql.com/docs/graphos/reference/federation/compatible-subgraphs)
### Development and Debugging

[Query Plans](https://www.apollographql.com/docs/graphos/reference/federation/query-plans)[Composition Hints](https://www.apollographql.com/docs/graphos/reference/federation/hints)[Errors](https://www.apollographql.com/docs/graphos/reference/federation/errors)[Federation v1](https://www.apollographql.com/docs/graphos/reference/federation/v1)
### Router Reference

[Self-Hosted Installation](https://www.apollographql.com/docs/graphos/reference/router/self-hosted-install)[Configuration](https://www.apollographql.com/docs/graphos/reference/router/configuration)[GraphOS Router Features](https://www.apollographql.com/docs/graphos/reference/router/graphos-features)[Rhai API](https://www.apollographql.com/docs/graphos/reference/router/rhai)[Federation Version Support](https://www.apollographql.com/docs/graphos/reference/router/federation-version-support)[Errors](https://www.apollographql.com/docs/graphos/reference/router/errors)
### Router Telemetry

### Log Exporters

[Overview](https://www.apollographql.com/docs/graphos/reference/router/telemetry/log-exporters/overview)[Stdout](https://www.apollographql.com/docs/graphos/reference/router/telemetry/log-exporters/stdout)
### Metrics Exporters

[Overview](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/overview)[Datadog](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/datadog)[Dynatrace](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/dynatrace)[New Relic](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/new-relic)[OTLP](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/otlp)[Prometheus](https://www.apollographql.com/docs/graphos/reference/router/telemetry/metrics-exporters/prometheus)
### Trace Exporters

[Overview](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/overview)[Datadog](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/datadog)[Dynatrace](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/dynatrace)[Jaeger](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/jaeger)[New Relic](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/new-relic)[OTLP](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/otlp)[Zipkin](https://www.apollographql.com/docs/graphos/reference/router/telemetry/trace-exporters/zipkin)
### Instrumentation

[Instruments](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/instruments)[Events](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/events)[Conditions](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/conditions)[Spans](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/spans)[Selectors](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/selectors)[Standard Attributes](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/standard-attributes)[Standard Instruments](https://www.apollographql.com/docs/graphos/reference/router/telemetry/instrumentation/standard-instruments)
### Migration Guides

[From Router v1.x to v2.x](https://www.apollographql.com/docs/graphos/reference/migration/from-router-v1)[From Router v0.x to v1.x](https://www.apollographql.com/docs/graphos/reference/migration/from-router-version-0.x)[From @apollo/gateway to Router](https://www.apollographql.com/docs/graphos/reference/migration/from-gateway)[From Federation 1 to 2](https://www.apollographql.com/docs/graphos/reference/migration/to-federation-version-2)[Federation 2 Backwards Compatibility](https://www.apollographql.com/docs/graphos/reference/migration/backward-compatibility)[From a Monolith](https://www.apollographql.com/docs/graphos/reference/migration/from-monolith)[From Schema Stitching](https://www.apollographql.com/docs/graphos/reference/migration/from-schema-stitching)
### GraphQL Adoption Guides

[GraphQL Adoption Patterns](https://www.apollographql.com/docs/graphos/reference/guides/graphql-adoption-patterns)[Using GraphQL for Abstraction](https://www.apollographql.com/docs/graphos/reference/guides/using-graphql-for-abstraction)[Supergraph Stewardship](https://www.apollographql.com/docs/graphos/reference/guides/supergraph-stewardship)
## Rover CLI

[Overview](https://www.apollographql.com/docs/rover)[Install](https://www.apollographql.com/docs/rover/getting-started)[Configure](https://www.apollographql.com/docs/rover/configuring)[Proxy Configuration](https://www.apollographql.com/docs/rover/proxy)[CI/CD](https://www.apollographql.com/docs/rover/ci-cd)[Conventions](https://www.apollographql.com/docs/rover/conventions)[Privacy and Data Collection](https://www.apollographql.com/docs/rover/privacy)[Contributing](https://www.apollographql.com/docs/rover/contributing)[Error Codes](https://www.apollographql.com/docs/rover/errors)
### Commands

[cloud](https://www.apollographql.com/docs/rover/commands/cloud)[config](https://www.apollographql.com/docs/rover/commands/config)[contract](https://www.apollographql.com/docs/rover/commands/contracts)[dev](https://www.apollographql.com/docs/rover/commands/dev)[explain](https://www.apollographql.com/docs/rover/commands/explain)[graph](https://www.apollographql.com/docs/rover/commands/graphs)[license](https://www.apollographql.com/docs/rover/commands/license)[persisted-queries](https://www.apollographql.com/docs/rover/commands/persisted-queries)[readme](https://www.apollographql.com/docs/rover/commands/readmes)[subgraph](https://www.apollographql.com/docs/rover/commands/subgraphs)[supergraph](https://www.apollographql.com/docs/rover/commands/supergraphs)[template](https://www.apollographql.com/docs/rover/commands/template)
### The Apollo CLI (deprecated)

[Installation](https://www.apollographql.com/docs/rover/apollo-cli)[Validating Client Operations](https://www.apollographql.com/docs/rover/validating-client-operations)[Moving to Rover](https://www.apollographql.com/docs/rover/migration)
## Apollo Sandbox

[Overview](https://www.apollographql.com/docs/apollo-sandbox)
## Apollo Client (Web)

Apollo Client (Web) - v3 (latest)[Introduction](https://www.apollographql.com/docs/react)[Why Apollo Client?](https://www.apollographql.com/docs/react/why-apollo)[Get started](https://www.apollographql.com/docs/react/get-started)[Changelog](https://github.com/apollographql/apollo-client/blob/main/CHANGELOG.md)
### Fetching

[Queries](https://www.apollographql.com/docs/react/data/queries)[Suspense](https://www.apollographql.com/docs/react/data/suspense)[Fragments](https://www.apollographql.com/docs/react/data/fragments)[Mutations](https://www.apollographql.com/docs/react/data/mutations)[Refetching](https://www.apollographql.com/docs/react/data/refetching)[Subscriptions](https://www.apollographql.com/docs/react/data/subscriptions)[Directives](https://www.apollographql.com/docs/react/data/directives)[Error handling](https://www.apollographql.com/docs/react/data/error-handling)[Document transforms](https://www.apollographql.com/docs/react/data/document-transforms)[Best practices](https://www.apollographql.com/docs/react/data/operation-best-practices)
### Caching

[Overview](https://www.apollographql.com/docs/react/caching/overview)[Configuration](https://www.apollographql.com/docs/react/caching/cache-configuration)[Reading and writing](https://www.apollographql.com/docs/react/caching/cache-interaction)[Garbage collection and eviction](https://www.apollographql.com/docs/react/caching/garbage-collection)[Customizing field behavior](https://www.apollographql.com/docs/react/caching/cache-field-behavior)[Memory Management](https://www.apollographql.com/docs/react/caching/memory-management)[Advanced topics](https://www.apollographql.com/docs/react/caching/advanced-topics)
### Pagination

[Overview](https://www.apollographql.com/docs/react/pagination/overview)[Core API](https://www.apollographql.com/docs/react/pagination/core-api)[Offset-based](https://www.apollographql.com/docs/react/pagination/offset-based)[Cursor-based](https://www.apollographql.com/docs/react/pagination/cursor-based)[keyArgs](https://www.apollographql.com/docs/react/pagination/key-args)
### Local State

[Overview](https://www.apollographql.com/docs/react/local-state/local-state-management)[Local-only fields](https://www.apollographql.com/docs/react/local-state/managing-state-with-field-policies)[Reactive variables](https://www.apollographql.com/docs/react/local-state/reactive-variables)[Client-side schema](https://www.apollographql.com/docs/react/local-state/client-side-schema)[Local resolvers](https://www.apollographql.com/docs/react/local-state/local-resolvers)
### Development & Testing

[Developer tools](https://www.apollographql.com/docs/react/development-testing/developer-tooling)[Using TypeScript](https://www.apollographql.com/docs/react/development-testing/static-typing)[Testing React components](https://www.apollographql.com/docs/react/development-testing/testing)[Schema-driven testing](https://www.apollographql.com/docs/react/development-testing/schema-driven-testing)[Mocking schema capabilities](https://www.apollographql.com/docs/react/development-testing/client-schema-mocking)[Reducing bundle size](https://www.apollographql.com/docs/react/development-testing/reducing-bundle-size)
### Performance

[Improving performance](https://www.apollographql.com/docs/react/performance/performance)[Optimistic mutation results](https://www.apollographql.com/docs/react/performance/optimistic-ui)[Server-side rendering](https://www.apollographql.com/docs/react/performance/server-side-rendering)[Compiling queries with Babel](https://www.apollographql.com/docs/react/performance/babel)
### Integrations

[Using Apollo Client with your view layer](https://www.apollographql.com/docs/react/integrations/integrations)[Integrating with React Native](https://www.apollographql.com/docs/react/integrations/react-native)[Loading queries with Webpack](https://www.apollographql.com/docs/react/integrations/webpack)
### Networking

[Basic HTTP networking](https://www.apollographql.com/docs/react/networking/basic-http-networking)[Advanced HTTP networking](https://www.apollographql.com/docs/react/networking/advanced-http-networking)[Authentication](https://www.apollographql.com/docs/react/networking/authentication)
### Migrating

[Migrating to Apollo Client 3.0](https://www.apollographql.com/docs/react/migrating/apollo-client-3-migration)[Hooks migration guide](https://www.apollographql.com/docs/react/migrating/hooks-migration)
### API Reference

### Core

[ApolloClient](https://www.apollographql.com/docs/react/api/core/ApolloClient)[InMemoryCache](https://www.apollographql.com/docs/react/api/cache/InMemoryCache)[ObservableQuery](https://www.apollographql.com/docs/react/api/core/ObservableQuery)
### React

[Hooks](https://www.apollographql.com/docs/react/api/react/hooks)[Preloading](https://www.apollographql.com/docs/react/api/react/preloading)[Testing](https://www.apollographql.com/docs/react/api/react/testing)[SSR](https://www.apollographql.com/docs/react/api/react/ssr)[Components (deprecated)](https://www.apollographql.com/docs/react/api/react/components)[HOC (deprecated)](https://www.apollographql.com/docs/react/api/react/hoc)
### Apollo Link

[Overview](https://www.apollographql.com/docs/react/api/link/introduction)[HTTP](https://www.apollographql.com/docs/react/api/link/apollo-link-http)[HTTP Batch](https://www.apollographql.com/docs/react/api/link/apollo-link-batch-http)[Context](https://www.apollographql.com/docs/react/api/link/apollo-link-context)[Error](https://www.apollographql.com/docs/react/api/link/apollo-link-error)[Persisted Queries](https://www.apollographql.com/docs/react/api/link/persisted-queries)[Remove Typename](https://www.apollographql.com/docs/react/api/link/apollo-link-remove-typename)[REST](https://www.apollographql.com/docs/react/api/link/apollo-link-rest)[Retry](https://www.apollographql.com/docs/react/api/link/apollo-link-retry)[Schema](https://www.apollographql.com/docs/react/api/link/apollo-link-schema)[Subscriptions (newer protocol)](https://www.apollographql.com/docs/react/api/link/apollo-link-subscriptions)[WebSocket (older protocol)](https://www.apollographql.com/docs/react/api/link/apollo-link-ws)[Community links](https://www.apollographql.com/docs/react/api/link/community-links)
## Apollo iOS

Apollo iOS - v1 (latest)[Introduction](https://www.apollographql.com/docs/ios)[Get Started](https://www.apollographql.com/docs/ios/get-started)
### Project Configuration

[Introduction](https://www.apollographql.com/docs/ios/project-configuration/intro)[1. Project Modularization](https://www.apollographql.com/docs/ios/project-configuration/modularization)[2. Schema Types](https://www.apollographql.com/docs/ios/project-configuration/schema-types)[3. Operation Models](https://www.apollographql.com/docs/ios/project-configuration/operation-models)[SDK components](https://www.apollographql.com/docs/ios/project-configuration/sdk-components)
### Migration Guides

[v1.0](https://www.apollographql.com/docs/ios/migrations/1.0)[v1.2](https://www.apollographql.com/docs/ios/migrations/1.2)[v1.3](https://www.apollographql.com/docs/ios/migrations/1.3)[v1.5](https://www.apollographql.com/docs/ios/migrations/1.5)[v1.6](https://www.apollographql.com/docs/ios/migrations/1.6)[v1.7](https://www.apollographql.com/docs/ios/migrations/1.7)
### Tutorial

[Code Generation](https://www.apollographql.com/docs/ios/tutorial/codegen-getting-started)
### Build a project with Apollo

[Introduction](https://www.apollographql.com/docs/ios/tutorial/tutorial-introduction)[1. Configure your project](https://www.apollographql.com/docs/ios/tutorial/tutorial-configure-project)[2. Add the GraphQL schema](https://www.apollographql.com/docs/ios/tutorial/tutorial-add-graphql-schema)[3. Write your first query](https://www.apollographql.com/docs/ios/tutorial/tutorial-write-your-first-query)[4. Running code generation](https://www.apollographql.com/docs/ios/tutorial/tutorial-running-code-generation)[5. Execute your first query](https://www.apollographql.com/docs/ios/tutorial/tutorial-execute-first-query)[6. Connect your queries to your UI](https://www.apollographql.com/docs/ios/tutorial/tutorial-connect-queries-to-ui)[7. Add more info to the list](https://www.apollographql.com/docs/ios/tutorial/tutorial-add-more-info-to-list)[8. Paginate results](https://www.apollographql.com/docs/ios/tutorial/tutorial-paginate-results)[9. Complete the details view](https://www.apollographql.com/docs/ios/tutorial/tutorial-complete-details-view)[10. Write your first mutation](https://www.apollographql.com/docs/ios/tutorial/tutorial-first-mutation)[11. Authenticate your operations](https://www.apollographql.com/docs/ios/tutorial/tutorial-authenticate-operations)[12. Define additional mutations](https://www.apollographql.com/docs/ios/tutorial/tutorial-define-additional-mutations)[13. Write your first subscription](https://www.apollographql.com/docs/ios/tutorial/tutorial-subscriptions)
### API Reference

[Overview](https://www.apollographql.com/docs/ios/docc/documentation/index)[Apollo Client](https://www.apollographql.com/docs/ios/docc/documentation/Apollo)[ApolloAPI](https://www.apollographql.com/docs/ios/docc/documentation/ApolloAPI)[ApolloWebSocket](https://www.apollographql.com/docs/ios/docc/documentation/ApolloWebSocket)[ApolloSQLite](https://www.apollographql.com/docs/ios/docc/documentation/ApolloSQLite)[ApolloCodegenLib](https://www.apollographql.com/docs/ios/docc/documentation/ApolloCodegenLib)[ApolloPagination](https://www.apollographql.com/docs/ios/docc/documentation/ApolloPagination)[Client Directives](https://www.apollographql.com/docs/ios/client-directives)
### Code Generation

[Introduction](https://www.apollographql.com/docs/ios/code-generation/introduction)[The Codegen CLI](https://www.apollographql.com/docs/ios/code-generation/codegen-cli)[Configuration](https://www.apollographql.com/docs/ios/code-generation/codegen-configuration)[Downloading a Schema](https://www.apollographql.com/docs/ios/code-generation/downloading-schema)[Running Code Generation in Swift Code](https://www.apollographql.com/docs/ios/code-generation/run-codegen-in-swift-code)[Code Generation Troubleshooting](https://www.apollographql.com/docs/ios/troubleshooting/codegen-troubleshooting)
### Fetching

[Fetching Data](https://www.apollographql.com/docs/ios/fetching/fetching-data)
### Operations

[Queries](https://www.apollographql.com/docs/ios/fetching/queries)[Mutations](https://www.apollographql.com/docs/ios/fetching/mutations)[Subscriptions](https://www.apollographql.com/docs/ios/fetching/subscriptions)[Fragments](https://www.apollographql.com/docs/ios/fetching/fragments)[Operation Arguments](https://www.apollographql.com/docs/ios/fetching/operation-arguments)[Error Handling](https://www.apollographql.com/docs/ios/fetching/error-handling)[Type Conditions](https://www.apollographql.com/docs/ios/fetching/type-conditions)[Custom Scalars](https://www.apollographql.com/docs/ios/custom-scalars)[Persisted Queries](https://www.apollographql.com/docs/ios/fetching/persisted-queries)[@defer support (experimental)](https://www.apollographql.com/docs/ios/fetching/defer)
### Caching

[Introduction](https://www.apollographql.com/docs/ios/caching/introduction)[Setup](https://www.apollographql.com/docs/ios/caching/cache-setup)[Direct Cache Access](https://www.apollographql.com/docs/ios/caching/cache-transactions)[Custom Cache Keys](https://www.apollographql.com/docs/ios/caching/cache-key-resolution)
### Networking

[Creating a Client](https://www.apollographql.com/docs/ios/networking/client-creation)
### Pagination

[Introduction](https://www.apollographql.com/docs/ios/pagination/introduction)[Using Custom Response Models](https://www.apollographql.com/docs/ios/pagination/custom-types)[Directional Pagination](https://www.apollographql.com/docs/ios/pagination/directional-pagers)[Multi-query Pagination](https://www.apollographql.com/docs/ios/pagination/multi-query)
### Development & Testing

[Test Mocks](https://www.apollographql.com/docs/ios/testing/test-mocks)[Including Apollo as an XCFramework](https://www.apollographql.com/docs/ios/development/using-xcframework)
### Advanced

[File Uploads](https://www.apollographql.com/docs/ios/file-uploads)[Request Chain Customization](https://www.apollographql.com/docs/ios/networking/request-pipeline)
## Apollo Kotlin

Apollo Kotlin - v4 (latest)[Get Started](https://www.apollographql.com/docs/kotlin)[Migrating to v4](https://www.apollographql.com/docs/kotlin/migration/4.0)[Modules](https://www.apollographql.com/docs/kotlin/essentials/modules)[Evolution policy](https://www.apollographql.com/docs/kotlin/essentials/evolution)[Kdoc](https://apollographql.github.io/apollo-kotlin/kdoc/)[Changelog](https://github.com/apollographql/apollo-kotlin/blob/main/CHANGELOG.md)
### Tutorial

[0. Introduction](https://www.apollographql.com/docs/kotlin/tutorial/00-introduction)[1. Configure your project](https://www.apollographql.com/docs/kotlin/tutorial/01-configure-project)[2. Add the GraphQL schema](https://www.apollographql.com/docs/kotlin/tutorial/02-add-the-graphql-schema)[3. Write your first query](https://www.apollographql.com/docs/kotlin/tutorial/03-write-your-first-query)[4. Execute your first query](https://www.apollographql.com/docs/kotlin/tutorial/04-execute-the-query)[5. Connect your queries to your UI](https://www.apollographql.com/docs/kotlin/tutorial/05-connect-queries-to-your-ui)[6. Add more info to the list](https://www.apollographql.com/docs/kotlin/tutorial/06-add-more-info)[7. Paginate results](https://www.apollographql.com/docs/kotlin/tutorial/07-paginate-results)[8. Add a details view](https://www.apollographql.com/docs/kotlin/tutorial/08-add-a-details-view)[9. Write your first mutation](https://www.apollographql.com/docs/kotlin/tutorial/09-write-your-first-mutation)[10. Authenticate your operations](https://www.apollographql.com/docs/kotlin/tutorial/10-authenticate-your-queries)[11. Write your first subscription](https://www.apollographql.com/docs/kotlin/tutorial/11-subscriptions)
### Configuration

[Gradle plugin configuration](https://www.apollographql.com/docs/kotlin/advanced/plugin-configuration)[Gradle plugin recipes](https://www.apollographql.com/docs/kotlin/advanced/plugin-recipes)[Multi Modules](https://www.apollographql.com/docs/kotlin/advanced/multi-modules)[File types](https://www.apollographql.com/docs/kotlin/essentials/file-types)[Client Awareness](https://www.apollographql.com/docs/kotlin/advanced/client-awareness)
### Fetching

[Queries](https://www.apollographql.com/docs/kotlin/essentials/queries)[Mutations](https://www.apollographql.com/docs/kotlin/essentials/mutations)[Subscriptions](https://www.apollographql.com/docs/kotlin/essentials/subscriptions)[GraphQL variables](https://www.apollographql.com/docs/kotlin/advanced/operation-variables)[Error handling](https://www.apollographql.com/docs/kotlin/essentials/errors)[Custom scalars](https://www.apollographql.com/docs/kotlin/essentials/custom-scalars)[Fragments](https://www.apollographql.com/docs/kotlin/essentials/fragments)[@defer support](https://www.apollographql.com/docs/kotlin/fetching/defer)[Persisted queries](https://www.apollographql.com/docs/kotlin/advanced/persisted-queries)
### Caching

[Introduction](https://www.apollographql.com/docs/kotlin/caching/introduction)[Normalized caches](https://www.apollographql.com/docs/kotlin/caching/normalized-cache)[Declarative cache IDs](https://www.apollographql.com/docs/kotlin/caching/declarative-ids)[Programmatic cache IDs](https://www.apollographql.com/docs/kotlin/caching/programmatic-ids)[Watching cached data](https://www.apollographql.com/docs/kotlin/caching/query-watchers)[ApolloStore](https://www.apollographql.com/docs/kotlin/caching/store)[HTTP cache](https://www.apollographql.com/docs/kotlin/caching/http-cache)[Troubleshooting](https://www.apollographql.com/docs/kotlin/caching/troubleshooting)
### Networking

[Interceptors](https://www.apollographql.com/docs/kotlin/advanced/interceptors-http)[Custom HTTP clients](https://www.apollographql.com/docs/kotlin/advanced/http-engine)[Using the models without apollo-runtime](https://www.apollographql.com/docs/kotlin/advanced/no-runtime)[Authentication](https://www.apollographql.com/docs/kotlin/advanced/authentication)[WebSocket errors](https://www.apollographql.com/docs/kotlin/advanced/websocket-errors)[Batching operations](https://www.apollographql.com/docs/kotlin/advanced/query-batching)
### Development & Testing

[Testing overview](https://www.apollographql.com/docs/kotlin/testing/overview)[Mocking HTTP responses](https://www.apollographql.com/docs/kotlin/testing/mocking-http-responses)[Mocking GraphQL responses](https://www.apollographql.com/docs/kotlin/testing/mocking-graphql-responses)[Data builders](https://www.apollographql.com/docs/kotlin/testing/data-builders)[Android Studio plugin](https://www.apollographql.com/docs/kotlin/testing/android-studio-plugin)[Apollo Debug Server](https://www.apollographql.com/docs/kotlin/testing/apollo-debug-server)
### Advanced

[Uploading files](https://www.apollographql.com/docs/kotlin/advanced/upload)[Monitoring the network state](https://www.apollographql.com/docs/kotlin/advanced/network-connectivity)[Handling nullability](https://www.apollographql.com/docs/kotlin/advanced/nullability)[Experimental WebSockets](https://www.apollographql.com/docs/kotlin/advanced/experimental-websockets)[Using aliases](https://www.apollographql.com/docs/kotlin/advanced/using-aliases)[Using Java](https://www.apollographql.com/docs/kotlin/advanced/java)[Apollo AST](https://www.apollographql.com/docs/kotlin/advanced/apollo-ast)[Compiler plugins](https://www.apollographql.com/docs/kotlin/advanced/compiler-plugins)[JS Interoperability](https://www.apollographql.com/docs/kotlin/advanced/js-interop)[Response based codegen](https://www.apollographql.com/docs/kotlin/advanced/response-based)[Apollo Kotlin galaxy](https://www.apollographql.com/docs/kotlin/advanced/galaxy)
## Apollo Server

Apollo Server - v4 (latest)[Introduction](https://www.apollographql.com/docs/apollo-server)[Get started](https://www.apollographql.com/docs/apollo-server/getting-started)
### New in v4

[Migrating to Apollo Server 4](https://www.apollographql.com/docs/apollo-server/migration)[Previous versions](https://www.apollographql.com/docs/apollo-server/previous-versions)[Changelog](https://github.com/apollographql/apollo-server/blob/main/packages/server/CHANGELOG.md)
### Defining a Schema

[Schema basics](https://www.apollographql.com/docs/apollo-server/schema/schema)[Unions and interfaces](https://www.apollographql.com/docs/apollo-server/schema/unions-interfaces)[Custom scalars](https://www.apollographql.com/docs/apollo-server/schema/custom-scalars)[Directives](https://www.apollographql.com/docs/apollo-server/schema/directives)
### Resolving Operations

[Resolvers](https://www.apollographql.com/docs/apollo-server/data/resolvers)[Sharing context](https://www.apollographql.com/docs/apollo-server/data/context)[Error handling](https://www.apollographql.com/docs/apollo-server/data/errors)[Subscriptions](https://www.apollographql.com/docs/apollo-server/data/subscriptions)
### Fetching Data

[Overview](https://www.apollographql.com/docs/apollo-server/data/fetching-data)[REST APIs](https://www.apollographql.com/docs/apollo-server/data/fetching-rest)
### Web Frameworks

[Integrations](https://www.apollographql.com/docs/apollo-server/integrations/integration-index)[Building integrations](https://www.apollographql.com/docs/apollo-server/integrations/building-integrations)[MERN stack tutorial](https://www.apollographql.com/docs/apollo-server/integrations/mern)
### Development Workflow

[Build and run queries](https://www.apollographql.com/docs/apollo-server/workflow/build-run-queries)[Request format](https://www.apollographql.com/docs/apollo-server/workflow/requests)[Generating TS types](https://www.apollographql.com/docs/apollo-server/workflow/generate-types)[Mocking](https://www.apollographql.com/docs/apollo-server/testing/mocking)[Integration testing](https://www.apollographql.com/docs/apollo-server/testing/testing)[Apollo Studio Explorer](https://www.apollographql.com/docs/studio/explorer/)
### Performance

[Caching](https://www.apollographql.com/docs/apollo-server/performance/caching)[Cache backends](https://www.apollographql.com/docs/apollo-server/performance/cache-backends)[Response Cache Eviction](https://www.apollographql.com/docs/apollo-server/performance/response-cache-eviction)[Automatic persisted queries](https://www.apollographql.com/docs/apollo-server/performance/apq)
### Security

[Auth](https://www.apollographql.com/docs/apollo-server/security/authentication)[CORS](https://www.apollographql.com/docs/apollo-server/security/cors)[Terminating SSL](https://www.apollographql.com/docs/apollo-server/security/terminating-ssl)[Proxy configuration](https://www.apollographql.com/docs/apollo-server/security/proxy-configuration)
### Deployment

[Lambda](https://www.apollographql.com/docs/apollo-server/deployment/lambda)[Heroku](https://www.apollographql.com/docs/apollo-server/deployment/heroku)
### Monitoring

[Metrics and logging](https://www.apollographql.com/docs/apollo-server/monitoring/metrics)[Health checks](https://www.apollographql.com/docs/apollo-server/monitoring/health-checks)
### API Reference

[ApolloServer](https://www.apollographql.com/docs/apollo-server/api/apollo-server)[startStandaloneServer](https://www.apollographql.com/docs/apollo-server/api/standalone)[expressMiddleware](https://www.apollographql.com/docs/apollo-server/api/express-middleware)
### Plugins

[Overview](https://www.apollographql.com/docs/apollo-server/builtin-plugins)
### Built-in

[Usage reporting](https://www.apollographql.com/docs/apollo-server/api/plugin/usage-reporting)[Schema reporting](https://www.apollographql.com/docs/apollo-server/api/plugin/schema-reporting)[Inline trace](https://www.apollographql.com/docs/apollo-server/api/plugin/inline-trace)[Drain HTTP server](https://www.apollographql.com/docs/apollo-server/api/plugin/drain-http-server)[Cache control](https://www.apollographql.com/docs/apollo-server/api/plugin/cache-control)[Landing pages](https://www.apollographql.com/docs/apollo-server/api/plugin/landing-pages)[Federated subscriptions](https://www.apollographql.com/docs/apollo-server/api/plugin/subscription-callback)
### Custom

[Creating plugins](https://www.apollographql.com/docs/apollo-server/integrations/plugins)[Event reference](https://www.apollographql.com/docs/apollo-server/integrations/plugins-event-reference)
### Using with Federation

### As a subgraph

[Setup](https://www.apollographql.com/docs/apollo-server/using-federation/apollo-subgraph-setup)[@apollo/subgraph reference](https://www.apollographql.com/docs/apollo-server/using-federation/api/apollo-subgraph)
### As a gateway

[Setup](https://www.apollographql.com/docs/apollo-server/using-federation/apollo-gateway-setup)[Gateway performance](https://www.apollographql.com/docs/apollo-server/using-federation/gateway-performance)[@apollo/gateway reference](https://www.apollographql.com/docs/apollo-server/using-federation/api/apollo-gateway)
## VS Code Extension

[Overview](https://www.apollographql.com/docs/vs-code-extension)

[Reference](graphos/reference)

        [Home](/docs/)   /  [Reference](/docs/graphos/reference)   /  [Router Reference](/docs/graphos/reference/router/self-hosted-install)   /  [Configuration](/docs/graphos/reference/router/configuration)        [Reference /](/docs/graphos/reference)    [Router Reference](/docs/graphos/reference/router/self-hosted-install)
# Router Configuration

Configure a router via environment variables, command-line options, and YAML

---

Learn how to customize the behavior of your GraphOS Router or Apollo Router Core with environment variables, command-line commands and options, and YAML file configuration.

## Environment variables

If you're using the GraphOS Router with [managed federation](https://www.apollographql.com/docs/federation/managed-federation/overview/) and GraphOS Studio, set these environment variables in the startup command:

Bash copy
```
1APOLLO_KEY="..." APOLLO_GRAPH_REF="..." ./router
```

| Environment Variable | Description |
| --- | --- |
| `APOLLO_GRAPH_REF` | The graph ref for the GraphOS graph and variant that the router fetches its supergraph schema from (e.g., `docs-example-graph@staging`).**Required** when using [managed federation](https://www.apollographql.com/docs/federation/managed-federation/overview/), except when using an [offline license](https://www.apollographql.com/docs/graphos/reference/router/configuration#--license) to run the router. |
| `APOLLO_KEY` | The [graph API key](https://www.apollographql.com/docs/graphos/api-keys/#graph-api-keys) that the router should use to authenticate with GraphOS when fetching its supergraph schema.**Required** when using [managed federation](https://www.apollographql.com/docs/federation/managed-federation/overview/), except when using an [offline license](https://www.apollographql.com/docs/graphos/reference/router/configuration#--license) to run the router or when using `APOLLO_KEY_PATH`. |
| `APOLLO_KEY_PATH` | â ï¸ **This is not available on Windows.**A path to a file containing the [graph API key](https://www.apollographql.com/docs/graphos/api-keys/#graph-api-keys) that the router should use to authenticate with GraphOS when fetching its supergraph schema.**Required** when using [managed federation](https://www.apollographql.com/docs/federation/managed-federation/overview/), except when using an [offline license](https://www.apollographql.com/docs/graphos/reference/router/configuration#--license) to run the router or when using `APOLLO_KEY`. |
|

## Command-line options

After [installing the Apollo Router Core](https://www.apollographql.com/docs/router/quickstart) in your current working directory, you can run the router with the following example command:

Bash copy
```
1./router --config router.yaml --supergraph supergraph-schema.graphql
```

This reference lists and describes the options supported by the `router` binary. Where indicated, some of these options can also be provided via an environment variable. If an option is provided *both* ways, the command-line value takes precedence.

| Option / Environment Variable | Description |
| --- | --- |
| `-s` / `--supergraph``APOLLO_ROUTER_SUPERGRAPH_PATH`, `APOLLO_ROUTER_SUPERGRAPH_URLS` | The [supergraph schema](https://www.apollographql.com/docs/federation/federated-types/overview#supergraph-schema) of a router. Specified by absolute or relative path (`-s` / `--supergraph <supergraph_path>`, or `APOLLO_ROUTER_SUPERGRAPH_PATH`), or a comma-separated list of URLs (`APOLLO_ROUTER_SUPERGRAPH_URLS`). ð¡ Avoid embedding tokens in `APOLLO_ROUTER_SUPERGRAPH_URLS` because the URLs may appear in log messages. Setting this option disables polling from Apollo Uplink to fetch the latest supergraph schema.To learn how to compose your supergraph schema with the Rover CLI, see the [Federation quickstart](https://www.apollographql.com/docs/federation/quickstart).**Required** if you are *not* using managed federation. If you *are* using managed federation, you may need to set this option when following [advanced deployment workflows](https://www.apollographql.com/docs/federation/managed-federation/deployment/#advanced-deployment-workflows). |
| `-c` / `--config``APOLLO_ROUTER_CONFIG_PATH` | The absolute or relative path to the router's optional [YAML configuration file](https://www.apollographql.com/docs/graphos/reference/router/configuration#yaml-config-file). |
| `--apollo-key-path``APOLLO_KEY_PATH` | â ï¸ **This is not available on Windows.**The absolute or relative path to a file containing the Apollo graph API key for use with managed federation. |
| `--dev` | â ï¸ **Do not set this option in production!**If set, a router runs in dev mode to help with local development.[Learn more about dev mode.](https://www.apollographql.com/docs/graphos/reference/router/configuration#dev-mode-defaults) |
| `--hr` / `--hot-reload``APOLLO_ROUTER_HOT_RELOAD` | If set, the router watches for changes to its configuration file and any supergraph file passed with `--supergraph` and reloads them automatically without downtime. This setting only affects local files provided to the router. The supergraph and configuration provided from GraphOS via Launches (and delivered via Uplink) are *always* loaded automatically, regardless of this setting. |
| `--log``APOLLO_ROUTER_LOG` | The log level, indicating the *most* severe log message type to include. In ascending order of verbosity, can be one of: `off`, `error`, `warn`, `info`, `debug`, or `trace`.The default value is `info`. |
| `--license``APOLLO_ROUTER_LICENSE_PATH`, `APOLLO_ROUTER_LICENSE` | An offline GraphOS Enterprise license. Enables Enterprise router features when disconnected from GraphOS.An offline license is specified either as an absolute or relative path to a license file (`--license <license_path>` or `APOLLO_ROUTER_LICENSE_PATH`), or as the stringified contents of a license (`APOLLO_ROUTER_LICENSE`).When not set, the router retrieves an Enterprise license [from GraphOS via Apollo Uplink](https://www.apollographql.com/docs/router/enterprise-features/#the-enterprise-license).For information about fetching an offline license and configuring the router, see [Offline Enterprise license](https://www.apollographql.com/docs/router/enterprise-features/#offline-enterprise-license). |
| `--apollo-uplink-endpoints``APOLLO_UPLINK_ENDPOINTS` | If using [managed federation](https://www.apollographql.com/docs/federation/managed-federation/overview/), the Apollo Uplink URL(s) that the router should poll to fetch its latest configuration. Almost all managed router instances should *omit* this option to use the default set of Uplink URLs.If you specify multiple URLs, separate them with commas (no whitespace).For default behavior and possible values, see [Apollo Uplink](https://www.apollographql.com/docs/federation/managed-federation/uplink/). |
| `--apollo-uplink-poll-interval``APOLLO_UPLINK_POLL_INTERVAL` | The amount of time between polls to Apollo Uplink.The default value is `10s` (ten seconds), which is also the minimum allowed value. |
| `--apollo-uplink-timeout``APOLLO_UPLINK_TIMEOUT` | The request timeout for each poll sent to Apollo Uplink.The default value is `30s` (thirty seconds). |
| `--anonymous-telemetry-disabled``APOLLO_TELEMETRY_DISABLED` | If set, disables sending anonymous usage information to Apollo. |
| `--listen``APOLLO_ROUTER_LISTEN_ADDRESS` | If set, the listen address of the router. |
| `-V` / `--version` | If set, the router prints its version number, then exits. |
| `--schema` | **Deprecated**âuse [`./router config schema`](https://www.apollographql.com/docs/graphos/reference/router/configuration#configuration-awareness-in-your-text-editor) instead.If set, the router prints a JSON schema representation of its full supported configuration format, then exits. |

### Dev mode defaults

**caution****Do not set the `--dev` option in production.** If you want to replicate any specific dev mode functionality in production, instead make the corresponding modifications to your [YAML config file](https://www.apollographql.com/docs/graphos/reference/router/configuration#yaml-config-file).

Setting the [`--dev`](https://www.apollographql.com/docs/graphos/reference/router/configuration#--dev) flag is equivalent to running `./router --hot-reload` with the following configuration options:

YAML copy
```
1sandbox:
2  enabled: true
3homepage:
4  enabled: false
5supergraph:
6  introspection: true
7include_subgraph_errors:
8  all: true
9plugins:
10  # Enable with the header, Apollo-Expose-Query-Plan: true
11  experimental.expose_query_plan: true
```
## `config` subcommands

GraphOS Router and Apollo Router Core provide a set of subcommands for interacting with its configuration. You run these subcommands with the following syntax:

Text copy
```
1./router config schema
2./router config upgrade <path-to-config-file.yaml>
```

| Subcommand | Description |
| --- | --- |
| `schema` | Prints a JSON schema representation of the router's full supported configuration format.Use this schema to enable [configuration awareness in your text editor](https://www.apollographql.com/docs/graphos/reference/router/configuration#configuration-awareness-in-your-text-editor). |
| `upgrade` | Takes a config file created for a *previous* version of the router and outputs the corresponding configuration for the *current* version.For details, see [Upgrading your router configuration](https://www.apollographql.com/docs/graphos/reference/router/configuration#upgrading-your-router-configuration). |

## YAML config file

GraphOS Router and Apollo Router Core take an optional YAML configuration file as input via the [`--config`](https://www.apollographql.com/docs/graphos/reference/router/configuration#-c----config) option:

Bash copy
```
1./router --config router.yaml
```

This file enables you to customize numerous aspects of your router's behavior, covered in the subsections below.

If you pass the [`--hot-reload`](https://www.apollographql.com/docs/graphos/reference/router/configuration#--hr----hot-reload) flag to the `router` command, your router automatically restarts whenever changes are made to its configuration file.

**tip**Enable your text editor to validate the format and content of your router YAML configuration file by [configuring it with the router's configuration schema](https://www.apollographql.com/docs/graphos/reference/router/configuration#configuration-awareness-in-your-text-editor).
### Listen address

By default, the router starts an HTTP server that listens on `127.0.0.1:4000`. You can specify a different address by setting `supergraph.listen`:

#### IPv4

YAMLrouter.yaml copy
```
1supergraph:
2  # The socket address and port to listen on
3  listen: 127.0.0.1:4000
```
#### IPv6

YAMLrouter.yaml copy
```
1supergraph:
2  # The socket address and port to listen on.
3  # Note that this must be quoted to avoid interpretation as an array in YAML.
4  listen: "[::1]:4000"
```
#### Unix socket

**note**Listening on a Unix socket is not supported on Windows.YAMLrouter\_unix.yaml copy
```
1supergraph:
2  # Absolute path to a Unix socket
3  listen: /tmp/router.sock
```
### Endpoint path

By default, the router starts an HTTP server that exposes a `POST`/`GET` endpoint at path `/`.

You can specify a different path by setting `supergraph.path`:

YAMLrouter.yaml copy
```
1supergraph:
2  # The path for GraphQL execution
3  # (Defaults to /)
4  path: /graphql
```

The path must start with `/`.

Path parameters and wildcards are supported. For example:

* `/:my_dynamic_prefix/graphql` matches both `/my_project_a/graphql` and `/my_project_b/graphql`.
* `/graphql/*` matches `/graphql/my_project_a` and `/graphql/my_project_b`.
* `/g*` matches `/graphql`, `/gateway` and `/graphql/api`.

**note**The router does *not* support wildcards in the *middle* of a path (e.g., `/*/graphql`). Instead, use a path parameter (e.g., `/:parameter/graphql`).
### Introspection

By default, the router does *not* resolve introspection queries. You can enable introspection like so:

YAMLrouter.yaml copy
```
1# Do not enable introspection in production!
2supergraph:
3  introspection: true
```
### Debugging

* To configure logging, see [Logging in the router](https://www.apollographql.com/docs/router/configuration/telemetry/exporters/logging/overview).
* To configure the inclusion of subgraph errors, see [Subgraph error inclusion](https://www.apollographql.com/docs/router/configuration/subgraph-error-inclusion).

### Landing pages

The router can serve any of the following landing pages to browsers that visit its [endpoint path](https://www.apollographql.com/docs/graphos/reference/router/configuration#endpoint-path):

* A basic landing page that displays an example query `curl` command (default)

  YAMLrouter.yaml copy
  ```
  1# This is the default behavior. You don't need to include this config.
  2homepage:
  3  enabled: true
  ```
* *No* landing page

  YAMLrouter.yaml copy
  ```
  1homepage:
  2  enabled: false
  ```
* [Apollo Sandbox](https://www.apollographql.com/docs/graphos/explorer/sandbox), which enables you to explore your schema and compose operations against it using the Explorer

  Note the additional configuration required to use Sandbox:

  YAMLrouter.yaml copy
  ```
  1sandbox:
  2  enabled: true
  3
  4# Sandbox uses introspection to obtain your router's schema.
  5supergraph:
  6  introspection: true
  7
  8# Sandbox requires the default landing page to be disabled.
  9homepage:
  10  enabled: false
  ```
  **caution****Do not enable Sandbox in production.** Sandbox requires enabling introspection, which is strongly discouraged in production environments.

### Subgraph routing URLs

By default, the router obtains the routing URL for each of your subgraphs from the composed supergraph schema you provide it. In most cases, no additional configuration is required. The URL can use HTTP and HTTPS for network access to subgraph, or have the following shape for Unix sockets usage: `unix:///path/to/subgraph.sock`

However, if you *do* need to override a particular subgraph's routing URL (for example, to handle changing network topography), you can do so with the `override_subgraph_url` option:

YAML copy
```
1override_subgraph_url:
2  organizations: http://localhost:8080
3  accounts: "${env.ACCOUNTS_SUBGRAPH_HOST_URL}"
```

In this example, the `organizations` subgraph URL is overridden to point to `http://localhost:8080`, and the `accounts` subgraph URL is overridden to point to a new URL using [variable expansion](https://www.apollographql.com/docs/graphos/reference/router/configuration#variable-expansion). The URL specified in the supergraph schema is ignored.

Any subgraphs that are *omitted* from `override_subgraph_url` continue to use the routing URL specified in the supergraph schema.

If you need to override the subgraph URL at runtime on a per-request basis, you can use [request customizations](https://www.apollographql.com/docs/router/customizations/overview/#request-path) in the `SubgraphService` layer.

### Caching

By default, the router stores the following data in its in-memory cache to improve performance:

* Generated query plans
* Automatic persisted queries (APQ)
* Introspection responses

You can configure certain caching behaviors for generated query plans and APQ (but not introspection responses). For details, see [In-Memory Caching in the router](https://www.apollographql.com/docs/router/configuration/in-memory-caching/).

**If you have a GraphOS Enterprise plan:**

* You can configure a Redis-backed *distributed* cache that enables multiple router instances to share cached values. For details, see [Distributed caching in the GraphOS Router](https://www.apollographql.com/docs/router/configuration/distributed-caching/).
* You can configure a Redis-backed *entity* cache that enables a client query to retrieve cached entity data split between subgraph reponses. For details, see [Subgraph entity caching in the GraphOS Router](https://www.apollographql.com/docs/router/configuration/entity-caching/).

### Native query plannerSince 1.49.0

Starting with v1.49.0, the router can run a Rust-native query planner. This native query planner can be run by itself to plan all queries, replacing the legacy JavaScript implementation.

**tip**Starting with v1.59.0, the native query planner is GA and is run by default.If you need to run the deprecated JavaScript-based implementation, configure your router's query planner mode to `legacy`:YAMLrouter.yaml copy
```
1experimental_query_planner_mode: legacy
```

Learn more in [Native Query Planner](https://www.apollographql.com/docs/router/executing-operations/native-query-planner) docs.

### Query planner poolsSince 1.44.0

This feature is [experimental](https://www.apollographql.com/docs/graphos/reference/feature-launch-stages#experimental). Your questions and feedback are highly valuedâdon't hesitate to get in touch with your Apollo contact.

And join the [GitHub discussion about query planner pools](https://github.com/apollographql/router/discussions/4917)

.

You can improve the performance of the router's query planner by configuring parallelized query planning.

By default, the query planner plans one operation at a time. It plans one operation to completion before planning the next one. This serial planning can be problematic when an operation takes a long time to plan and consequently blocks the query planner from working on other operations.

To resolve such blocking scenarios, you can enable parallel query planning. Configure it in `router.yaml` with `supergraph.query_planning.experimental_parallelism`:

YAMLrouter.yaml copy
```
1supergraph:
2  query_planning:
3    experimental_parallelism: auto # number of available cpus
```

The value of `experimental_parallelism` is the number of query planners in the router's *query planner pool*. A query planner pool is a preallocated set of query planners from which the router can use to plan operations. The total number of pools is the maximum number of query planners that can run in parallel and therefore the maximum number of operations that can be worked on simultaneously.

Valid values of `experimental_parallelism`:

* Any integer starting from `1`
* The special value `auto`, which sets the number of query planners equal to the number of available CPUs on the router's host machine

The default value of `experimental_parallelism` is `1`.

In practice, you should tune `experimental_parallelism` based on metrics and benchmarks gathered from your router.

### Enhanced operation signature normalizationSince 1.49.0

**note**The router supports enhanced operation signature normalization in the following versions:

* [General availability](https://www.apollographql.com/docs/resources/product-launch-stages/#general-availability) in v1.54.0 and later
* [Experimental](https://www.apollographql.com/docs/resources/product-launch-stages/#experimental-features) in v1.49.0 to v1.53.0

Apollo's legacy operation signature algorithm removes information about certain fields, such as input objects and aliases.
This removal means some operations may have the same normalized signature though they are distinct operations.

Enhanced normalization incorporates [input types](https://www.apollographql.com/docs/graphos/reference/router/configuration#input-types) and [aliases](https://www.apollographql.com/docs/graphos/reference/router/configuration#aliases) in signature generation.
It also includes other improvements that make it more likely that two operations that only vary slightly have the same signature.

Configure enhanced operation signature normalization in `router.yaml` with the `telemetry.apollo.signature_normalization_algorithm` option:

YAMLrouter.yaml copy
```
1telemetry:
2  apollo:
3    signature_normalization_algorithm: enhanced # Default is legacy
```

Once you enable this configuration, operations with enhanced signatures might appear with different operation IDs than they did previously in GraphOS Studio.

#### Input types

Enhanced signatures include input object type shapes, while still redacting any actual values.
Legacy signatures [replace input object type with `{}`](https://www.apollographql.com/docs/graphos/metrics/operation-signatures/#1-transform-in-line-argument-values).

Given the following example operation:

GraphQL copy
```
query InlineInputTypeQuery {
  inputTypeQuery(
    input: {
      inputString: "foo"
      inputInt: 42
      inputBoolean: null
      nestedType: { someFloat: 4.2 }
      enumInput: SOME_VALUE_1
      nestedTypeList: [{ someFloat: 4.2, someNullableFloat: null }]
      listInput: [1, 2, 3]
    }
  ) {
    enumResponse
  }
}
```

The legacy normalization algorithm generates the following signature:

GraphQL copy
```
query InlineInputTypeQuery {
  inputTypeQuery(input: {}) {
    enumResponse
  }
}
```

The enhanced normalization algorithm generates the following signature:

GraphQL copy
```
query InlineInputTypeQuery {
  inputTypeQuery(
    input: {
      inputString: ""
      inputInt: 0
      inputBoolean: null
      nestedType: { someFloat: 0 }
      enumInput: SOME_VALUE_1
      nestedTypeList: [{ someFloat: 0, someNullableFloat: null }]
      listInput: []
    }
  ) {
    enumResponse
  }
}
```
#### Aliases

Enhanced signatures include any field aliases used in an operation.
Legacy signatures [remove aliases completely](https://www.apollographql.com/docs/graphos/metrics/operation-signatures/#field-aliases), meaning the signature may be invalid if the same field was used with multiple aliases.

Given the following example operation:

GraphQL copy
```
query AliasedQuery {
  noInputQuery {
    interfaceAlias1: interfaceResponse {
      sharedField
    }
    interfaceAlias2: interfaceResponse {
      ... on InterfaceImplementation1 {
        implementation1Field
      }
      ... on InterfaceImplementation2 {
        implementation2Field
      }
    }
    inputFieldAlias1: objectTypeWithInputField(boolInput: true) {
      stringField
    }
    inputFieldAlias2: objectTypeWithInputField(boolInput: false) {
      intField
    }
  }
}
```

The legacy normalization algorithm generates the following signature:

GraphQL copy
```
query AliasedQuery {
  noInputQuery {
    interfaceResponse {
      sharedField
    }
    interfaceResponse {
      ... on InterfaceImplementation1 {
        implementation1Field
      }
      ... on InterfaceImplementation2 {
        implementation2Field
      }
    }
    objectTypeWithInputField(boolInput: true) {
      stringField
    }
    objectTypeWithInputField(boolInput: false) {
      intField
    }
  }
}
```

The enhanced normalization algorithm generates the following signature:

GraphQL copy
```
query AliasedQuery {
  noInputQuery {
    interfaceAlias1: interfaceResponse {
      sharedField
    }
    interfaceAlias2: interfaceResponse {
      ... on InterfaceImplementation1 {
        implementation1Field
      }
      ... on InterfaceImplementation2 {
        implementation2Field
      }
    }
    inputFieldAlias1: objectTypeWithInputField(boolInput: true) {
      stringField
    }
    inputFieldAlias2: objectTypeWithInputField(boolInput: false) {
      intField
    }
  }
}
```
### Extended reference reportingSince 1.50.0

**note**The router supports extended reference reporting in the following versions:

* [General availability](https://www.apollographql.com/docs/resources/product-launch-stages/#general-availability) in v1.54.0 and later
* [Experimental](https://www.apollographql.com/docs/resources/product-launch-stages/#experimental-features) in v1.50.0 to v1.53.0
**This feature is only available with a GraphOS Enterprise plan.** You can test it out by signing up for a free [GraphOS trial](https://studio.apollographql.com/signup?&referrer=docs-content). To compare GraphOS feature support across all plan types, see the [pricing page](https://www.apollographql.com/pricing#graphos-router).

You can configure the router to report enum and input object references for enhanced insights and operation checks.
Apollo's legacy reference reporting doesn't include data about enum values and input object fields, meaning you can't view enum and input object field usage in GraphOS Studio.
Legacy reporting can also cause [inaccurate operation checks](https://www.apollographql.com/docs/graphos/reference/router/configuration#enhanced-operation-checks).

Configure extended reference reporting in `router.yaml` with the `telemetry.apollo.metrics_reference_mode` option like so:

YAMLrouter.yaml copy
```
1telemetry:
2  apollo:
3    metrics_reference_mode: extended # Default is legacy
```
#### Configuration effect timing

Once you configure extended reference reporting, you can view enum value and input field usage alongside object [field usage in GraphOS Studio](https://www.apollographql.com/docs/graphos/metrics/field-usage) for all subsequent operations.

Configuring extended reference reporting automatically turns on [enhanced operation checks](https://www.apollographql.com/docs/graphos/reference/router/configuration#enhanced-operation-checks), though you won't see an immediate change in your operations check behavior.

This delay is because operation checks rely on historical operation data.
To ensure sufficient data to distinguish between genuinely unused values and those simply not reported in legacy data, enhanced checks require some operations with extended reference reporting turned on.

#### Enhanced operation checks

Thanks to extended reference reporting, operation checks can more accurately flag issues for changes to enum values and input object fields. See the comparison table below for differences between standard operation checks based on legacy reference reporting and enhanced checks based on extended reference reporting.

|  | Standard Check Behavior (Legacy reference reporting) | Enhanced Check Behavior (Extended reference reporting) |
| --- | --- | --- |
| Enum value removal | Removing any enum values is considered a breaking change if any operations use the enum. | Removing enum values is only a breaking change if historical operations use the specific enum value(s) that were removed. |
| Default argument changes for input object fields | Changing or removing a default argument is generally considered a breaking change, but changing or removing default values for input object fields isn't. | Changing or removing default values for input object fields is considered a breaking change.You can [configure checks to ignore default values changes](https://www.apollographql.com/docs/graphos/platform/schema-management/checks#ignored-conditions-settings). |
| Nullable input object field removal | Removing a nullable input object field is always considered a breaking change. | Removing a nullable input object field is only considered a breaking change if the nullable field is present in historical operations. If the nullable field is always omitted in historical operations, its removal isn't considered a breaking change. |
| Changing nullable input object fields to non-nullable | Changing a nullable input object field to non-nullable is considered a breaking change. | Changing a nullable input object field to non-nullable is only considered a breaking change if the field had a `null` value in historical operations. If the field was always a non-null value in historical operations, changing it to non-nullable isn't considered a breaking change. |

**note**You won't see an immediate change in checks behavior when you first turn on extended reference reporting.
[Learn more.](https://www.apollographql.com/docs/graphos/reference/router/configuration#configuration-effect-timing)
### Safelisting with persisted queries

You can enhance your graph's security with GraphOS Router by maintaining a persisted query list (PQL), an operation safelist made by your first-party apps. As opposed to automatic persisted queries (APQ) where operations are automatically cached, operations must be preregistered to the PQL. Once configured, the router checks incoming requests against the PQL.

See [Safelisting with persisted queries](https://www.apollographql.com/docs/router/configuration/persisted-queries) for more information.

### HTTP header rules

See [Sending HTTP headers to subgraphs](https://www.apollographql.com/docs/graphos/routing/header-propagation/).

### Traffic shaping

To configure the shape of traffic between clients, routers, and subgraphs, see [Traffic shaping in the router](https://www.apollographql.com/docs/router/configuration/traffic-shaping).

### Cross-Origin Resource Sharing (CORS)

See [Configuring CORS in the router](https://www.apollographql.com/docs/router/configuration/cors).

### Defer support

See [router support for `@defer`](https://www.apollographql.com/docs/router/executing-operations/defer-support/#disabling-defer).

### Query batching support

See [GraphOS Router's support for query batching](https://www.apollographql.com/docs/router/executing-operations/query-batching).

### Subscription support

See [GraphQL subscriptions in the GraphOS Router](https://www.apollographql.com/docs/router/executing-operations/subscription-support/#router-setup).

### Authorization support

* To configure authorization directives, see [Authorization directives](https://www.apollographql.com/docs/router/configuration/authorization/#authorization-directives).
* To configure the authorization plugin, see [Configuration options](https://www.apollographql.com/docs/router/configuration/authorization/#configuration-options).

### JWT authentication

To enable and configure JWT authentication, see [JWT authentication in the GraphOS Router](https://www.apollographql.com/docs/router/configuration/authn-jwt).

### Cross-site request forgery (CSRF) prevention

To configure CSRF prevention, see [CSRF prevention in the router](https://www.apollographql.com/docs/router/configuration/csrf).

### Subgraph authentication

To configure subgraph authentication with AWS SigV4, see a [configuration example](https://www.apollographql.com/docs/router/configuration/authn-subgraph/#configuration-example).

### External coprocessing

See [External coprocessing in the GraphOS Router](https://www.apollographql.com/docs/router/customizations/coprocessor/).

### Telemetry and monitoring

The router supports standard and custom instrumentation to collect telemetry data from its request and response processing pipeline to produce logs, metrics and traces to export.

See the [router telemetry overview](https://www.apollographql.com/docs/router/configuration/telemetry/overview).

### TLS

The router supports TLS to authenticate and encrypt communications, both on the client side and the subgraph side. It works automatically on the subgraph side if the subgraph URL starts with `https://`.

TLS support is configured in the `tls` section, under the `supergraph` key for the client side, and the `subgraph` key for the subgraph side, with configuration possible for all subgraphs and overriding per subgraph.

The list of supported TLS versions and algorithms is static, it cannot be configured.

Supported TLS versions:

* TLS 1.2
* TLS 1.3

Supported cipher suites:

* TLS13\_AES\_256\_GCM\_SHA384
* TLS13\_AES\_128\_GCM\_SHA256
* TLS13\_CHACHA20\_POLY1305\_SHA256
* TLS\_ECDHE\_ECDSA\_WITH\_AES\_256\_GCM\_SHA384
* TLS\_ECDHE\_ECDSA\_WITH\_AES\_128\_GCM\_SHA256
* TLS\_ECDHE\_ECDSA\_WITH\_CHACHA20\_POLY1305\_SHA256
* TLS\_ECDHE\_RSA\_WITH\_AES\_256\_GCM\_SHA384
* TLS\_ECDHE\_RSA\_WITH\_AES\_128\_GCM\_SHA256
* TLS\_ECDHE\_RSA\_WITH\_CHACHA20\_POLY1305\_SHA256

Supported key exchange groups:

* X25519
* SECP256R1
* SECP384R1

#### TLS termination

Clients can connect to the router directly over HTTPS, without terminating TLS in an intermediary. You can configure this in the `tls` configuration section:

YAML copy
```
1tls:
2  supergraph:
3    certificate: ${file./path/to/certificate.pem}
4    certificate_chain: ${file./path/to/certificate_chain.pem}
5    key: ${file./path/to/key.pem}
```

To set the file paths in your configuration with Unix-style expansion, you can follow the examples in the [variable expansion](https://www.apollographql.com/docs/graphos/reference/router/configuration#variable-expansion) guide.

The router expects the file referenced in the `certificate_chain` value to be a combination of several PEM certificates concatenated together into a single file (as is commonplace with Apache TLS configuration).

#### Overriding certificate authorities for subgraphs

The router verifies TLS connections to subgraphs using the list of certificate authorities the system provides. You can override this list with a combination of global and per-subgraph settings:

YAML copy
```
1tls:
2  subgraph:
3    # Use these certificate authorities unless overridden per-subgraph
4    all:
5      certificate_authorities: "${file./path/to/ca.crt}"
6    # Override global setting for individual subgraphs
7    subgraphs:
8      products:
9        certificate_authorities: "${file./path/to/product_ca.crt}"
```

The router expects the file referenced in the `certificate_chain` value to be a combination of several PEM certificates concatenated together into a single file (as is commonplace with Apache TLS configuration).

You can only configure these certificates via the router's configuration since using `SSL_CERT_FILE` also overrides certificates for sending telemetry and communicating with Apollo Uplink.

If the subgraph is presenting a self-signed certificate, it must be generated with the proper file extension and with `basicConstraints` disabled. You can generate it with the following command line command from a certificate signing request, in this example, `server.csr`:

Text copy
```
1openssl x509 -req -in server.csr -signkey server.key -out server.crt -extfile v3.ext
```

You can generate a `v3.ext` extension file like so:

Text copy
```
1subjectKeyIdentifier   = hash
2authorityKeyIdentifier = keyid:always,issuer:always
3# this has to be disabled
4# basicConstraints       = CA:TRUE
5keyUsage               = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment, keyAgreement, keyCertSign
6subjectAltName         = DNS:local.apollo.dev
7issuerAltName          = issuer:copy
```
**note**Make sure to change the `subjectAltName` field to the subgraph's name.

This produces the file as `server.crt` which can be used in `certificate_authorities`.

#### TLS client authentication for subgraph requests

The router supports mutual TLS authentication (mTLS) with the subgraphs. This means that it can authenticate itself to the subgraph using a certificate chain and a cryptographic key. It can be configured as follows:

YAML copy
```
1tls:
2  subgraph:
3    # Use these certificates and key unless overridden per-subgraph
4    all:
5      client_authentication:
6        certificate_chain: ${file./path/to/certificate_chain.pem}
7        key: ${file./path/to/key.pem}
8    # Override global setting for individual subgraphs
9    subgraphs:
10      products:
11        client_authentication:
12          certificate_chain: ${file./path/to/certificate_chain.pem}
13          key: ${file./path/to/key.pem}
```
#### Redis TLS configuration

For Redis TLS connections, you can set up a client certificate or override the root certificate authority by configuring `tls` in your router's [YAML config file](https://www.apollographql.com/docs/router/overview/#yaml-config-file). For example:

YAML copy
```
1apq:
2  router:
3    cache:
4      redis:
5        urls: ["rediss://redis.example.com:6379"]
6        tls:
7          certificate_authorities: ${file./path/to/ca.crt}
8          client_authentication:
9            certificate_chain: ${file./path/to/certificate_chain.pem}
10            key: ${file./path/to/key.pem}
```
### Request limits

The GraphOS Router supports enforcing three types of request limits for enhanced security:

* Network-based limits
* Lexical, parser-based limits
* Semantic, operation-based limits (this is an [Enterprise feature](https://www.apollographql.com/docs/router/enterprise-features/))

The router rejects any request that violates at least one of these limits.

YAMLrouter.yaml copy
```
1limits:
2  # Network-based limits
3  http_max_request_bytes: 2000000 # Default value: 2 MB
4  http1_max_request_headers: 200 # Default value: 100
5  http1_max_request_buf_size: 800kib # Default value: 400kib
6
7  # Parser-based limits
8  parser_max_tokens: 15000 # Default value
9  parser_max_recursion: 500 # Default value
10
11  # Operation-based limits (Enterprise only)
12  max_depth: 100
13  max_height: 200
14  max_aliases: 30
15  max_root_fields: 20
```
#### Operation-based limits (Enterprise only)

See [this article](https://www.apollographql.com/docs/router/configuration/operation-limits/).

#### Network-based limits

##### `http_max_request_bytes`

Limits the amount of data read from the network for the body of HTTP requests,
to protect against unbounded memory consumption.
This limit is checked before JSON parsing.
Both the GraphQL document and associated variables count toward it.

The default value is `2000000` bytes, 2 MB.

Before increasing this limit significantly consider testing performance
in an environment similar to your production, especially if some clients are untrusted.
Many concurrent large requests could cause the router to run out of memory.

##### `http1_max_request_headers`

Limit the maximum number of headers of incoming HTTP1 requests.
The default value is 100 headers.

If router receives more headers than the buffer size, it responds to the client with `431 Request Header Fields Too Large`.

##### `http1_max_request_buf_size`

Limit the maximum buffer size for the HTTP1 connection. Default is ~400kib.

Note for Rust Crate Users: If you are using the Router as a Rust crate, the `http1_request_max_buf_size` option requires the `hyper_header_limits` feature and also necessitates using Apollo's fork of the Hyper crate until the [changes are merged upstream](https://github.com/hyperium/hyper/pull/3523)

.
You can include this fork by adding the following patch to your Cargo.toml file:toml copy
```
1[patch.crates-io]
2"hyper" = { git = "https://github.com/apollographql/hyper.git", tag = "header-customizations-20241108" }
```
#### Parser-based limits

##### `parser_max_tokens`

Limits the number of tokens a query document can include. This counts *all* tokens, including both [lexical and ignored tokens](https://spec.graphql.org/October2021/#sec-Language.Source-Text.Lexical-Tokens)

.

The default value is `15000`.

##### `parser_max_recursion`

Limits the deepest level of recursion allowed by the router's GraphQL parser to prevent stack overflows. This corresponds to the deepest nesting level of any single GraphQL operation or fragment defined in a query document.

The default value is `500`.

In the example below, the `GetProducts` operation has a recursion of three, and the `ProductVariation` fragment has a recursion of two. Therefore, the *max* recursion of the query document is three.

GraphQL copy
```
1query GetProducts {
2  allProducts {
3    #1
4    ...productVariation
5    delivery {
6      #2
7      fastestDelivery #3
8    }
9  }
10}
11
12fragment ProductVariation on Product {
13  variation {
14    #1
15    name #2
16  }
17}
```

Note that the router calculates the recursion depth for each operation and fragment *separately*. Even if a fragment is included in an operation, that fragment's recursion depth does not contribute to the *operation's* recursion depth.

### Demand control

See [Demand Control](https://www.apollographql.com/docs/router/executing-operations/demand-control) to learn how to analyze the cost of operations and to reject requests with operations that exceed customizable cost limits.

### Early cancel

Up until [Apollo Router Core v1.43.1](https://github.com/apollographql/router/releases/tag/v1.43.1)

, when the client closed the connection without waiting for the response, the entire request was cancelled and did not go through the entire pipeline. Since this causes issues with request monitoring, the router introduced a new behavior in 1.43.1. Now, the entire pipeline is executed if the request is detected as cancelled, but subgraph requests are not actually done. The response will be reported with the `499` status code, but not actually sent to the client.
To go back to the previous behavior of immediately cancelling the request, the following configuration can be used:YAML copy
```
1supergraph:
2  early_cancel: true
```

Additionally, since v1.43.1, the router can show a log when it detects that the client canceled the request. This log can be activated with:

YAMLrouter.yaml copy
```
1supergraph:
2  experimental_log_on_broken_pipe: true
```
### Plugins

You can customize the router's behavior with [plugins](https://www.apollographql.com/docs/router/customizations/overview). Each plugin can have its own section in the configuration file with arbitrary values:

YAMLexample-plugin-router.yaml copy
```
1plugins:
2  example.plugin:
3    var1: "hello"
4    var2: 1
```
### Variable expansion

You can reference variables directly in your YAML config file. This is useful for referencing secrets without including them in the file.

Currently, the router supports expansion of environment variables and file paths. Corresponding variables are prefixed with `env.` and `file.`, respectively.

The router uses Unix-style expansion. Here are some examples:

* `${env.ENV_VAR_NAME}` expands to the value of environment variable `ENV_VAR_NAME`.
* `${env.ENV_VAR_NAME:-some_default}` expands to the value of environment variable `ENV_VAR_NAME`, or falls back to the value `some_default` if the environment variable is not defined.
* `${file.a.txt}` expands to the contents of the file `a.txt`.
* `${file.a.txt:-some_default}` expands to the contents of the file `a.txt`, or falls back to the value `some_default` if the file does not exist.

Variable expansions are valid only for YAML *values*, not keys:

YAML copy
```
1supergraph:
2  listen: "${env.MY_LISTEN_ADDRESS}"
3example:
4  password: "${env.MY_PASSWORD}"
```
### Automatic fragment generation

By default, the router compresses subgraph requests by generating fragment
definitions based on the shape of the subgraph operation. In many cases this
significantly reduces the size of the query sent to subgraphs.

You can explicitly opt-out of this behavior by specifying:

YAML copy
```
1supergraph:
2  generate_query_fragments: false
```
**note**The legacy query planner still supports an experimental algorithm that attempts to
reuse fragments from the original operation while forming subgraph requests. The
legacy query planner has to be explicitly enabled. This experimental feature used to
be enabled by default, but is still available to support subgraphs that rely on the
specific shape of fragments in an operation:YAML copy
```
1supergraph:
2  generate_query_fragments: false
3  experimental_reuse_query_fragments: true
```
Note that `generate_query_fragments` and `experimental_reuse_query_fragments` are
mutually exclusive; if both are explicitly set to `true`, `generate_query_fragments`
will take precedence.
### Reusing configuration

You can reuse parts of your configuration file in multiple places using standard YAML aliasing syntax:

YAMLrouter.yaml copy
```
1headers:
2  subgraphs:
3    products:
4      request:
5        - insert: &insert_custom_header
6            name: "custom-header"
7            value: "something"
8    reviews:
9      request:
10        - insert: *insert_custom_header
```

Here, the `name` and `value` entries under `&insert_custom_header` are reused under `*insert_custom_header`.

## Configuration awareness in your text editor

The router can generate a JSON schema for config validation in your text editor. This schema helps you format the YAML file correctly and also provides content assist.

Generate the schema with the following command:

Bash copy
```
1./router config schema > configuration_schema.json
```

After you generate the schema, configure your text editor. Here are the instructions for some commonly used editors:

* [Visual Studio Code](https://code.visualstudio.com/docs/languages/json#_json-schemas-and-settings)
* [Emacs](https://emacs-lsp.github.io/lsp-mode/page/lsp-yaml)
* [IntelliJ](https://www.jetbrains.com/help/idea/json.html#ws_json_using_schemas)
* [Sublime](https://github.com/sublimelsp/LSP-yaml)
* [Vim](https://github.com/Quramy/vison)

## Upgrading your router configuration

New releases of the router might introduce breaking changes to the [YAML config file's](https://www.apollographql.com/docs/graphos/reference/router/configuration#yaml-config-file) expected format, usually to extend existing functionality or improve usability.

**If you run a new version of your router with a configuration file that it no longer supports:**

1. The router emits a warning on startup.
2. The router attempts to translate your provided configuration to the new expected format.

   * If the translation succeeds without errors, the router starts up as usual.
   * If the translation fails, the router terminates.

If you encounter this warning, you can use the `router config upgrade` command to see the new expected format for your existing configuration file:

Bash copy
```
1./router config upgrade <path_to_config.yaml>
```

You can also view a diff of exactly which changes are necessary to upgrade your existing configuration file:

Bash copy
```
1./router config upgrade --diff <path_to_config.yaml>
```
## Related topics

* [Checklist for configuring the router for production](https://www.apollographql.com/docs/technotes/TN0008-production-readiness-checklist/#apollo-router)
 [PreviousRouter Quickstart](/docs/graphos/reference/router/self-hosted-install)[NextGraphOS Router Features](/docs/graphos/reference/router/graphos-features)
## On this page

* [Environment variables](#environment-variables)
* [Command-line options](#command-line-options)
* [Dev mode defaults](#dev-mode-defaults)
* [config subcommands](#config-subcommands)
* [YAML config file](#yaml-config-file)
* [Listen address](#listen-address)
* [Endpoint path](#endpoint-path)
* [Introspection](#introspection)
* [Debugging](#debugging)
* [Landing pages](#landing-pages)
* [Subgraph routing URLs](#subgraph-routing-urls)
* [Caching](#caching)
* [Native query planner](#native-query-planner)
* [Query planner pools](#query-planner-pools)
* [Enhanced operation signature normalization](#enhanced-operation-signature-normalization)
* [Extended reference reporting](#extended-reference-reporting)
* [Safelisting with persisted queries](#safelisting-with-persisted-queries)
* [HTTP header rules](#http-header-rules)
* [Traffic shaping](#traffic-shaping)
* [Cross-Origin Resource Sharing (CORS)](#cross-origin-resource-sharing-cors)
* [Defer support](#defer-support)
* [Query batching support](#query-batching-support)
* [Subscription support](#subscription-support)
* [Authorization support](#authorization-support)
* [JWT authentication](#jwt-authentication)
* [Cross-site request forgery (CSRF) prevention](#cross-site-request-forgery-csrf-prevention)
* [Subgraph authentication](#subgraph-authentication)
* [External coprocessing](#external-coprocessing)
* [Telemetry and monitoring](#telemetry-and-monitoring)
* [TLS](#tls)
* [Request limits](#request-limits)
* [Demand control](#demand-control)
* [Early cancel](#early-cancel)
* [Plugins](#plugins)
* [Variable expansion](#variable-expansion)
* [Automatic fragment generation](#automatic-fragment-generation)
* [Reusing configuration](#reusing-configuration)
* [Configuration awareness in your text editor](#configuration-awareness-in-your-text-editor)
* [Upgrading your router configuration](#upgrading-your-router-configuration)
* [Related topics](#related-topics)
   Give FeedbackFeedback  [Edit on GitHub](https://github.com/apollographql/router/blob/main/docs/source/reference/router/configuration.mdx)   [Forums](https://community.apollographql.com/)

© 2025 Apollo Graph Inc., d/b/a Apollo GraphQL.

[Privacy Policy](https://www.apollographql.com/privacy-policy)
## Company

* [About Apollo](https://www.apollographql.com/about-us)
* [Careers](https://www.apollographql.com/careers)
* [Partners](https://www.apollographql.com/partners)
## Resources

* [Blog](https://blog.apollographql.com)
* [Tutorials](https://www.apollographql.com/tutorials)
* [Content Library](https://www.apollographql.com/resources)
## Get in touch

* [Contact Sales](https://www.apollographql.com/contact-sales)
* [Contact Support](https://www.apollographql.com/support)
