
[# Ruby

## A Programmer's Best Friend](/en/)
[Home](/en/)
[Downloads](/en/downloads/)
[Documentation](/en/documentation/)
[Libraries](/en/libraries/)
[Community](/en/community/)
[News](/en/news/)
[Security](/en/security/)
[About Ruby](/en/about/)
Menu

|  |  |
| --- | --- |

# CVE-2021-41817: Regular Expression Denial of Service Vulnerability of Date Parsing Methods

Posted by mame on 15 Nov 2021

We have released date gem version 3.2.1, 3.1.2, 3.0.2, and 2.0.1 that include a security fix for a regular expression denial of service vulnerability (ReDoS) on date parsing methods. An attacker can exploit this vulnerability to cause an effective DoS attack.
This vulnerability has been assigned the CVE identifier [CVE-2021-41817](https://www.cve.org/CVERecord?id=CVE-2021-41817).

## Details

Date’s parsing methods including `Date.parse` are using Regexps internally, some of which are vulnerable against regular expression denial of service. Applications and libraries that apply such methods to untrusted input may be affected.

The fix limits the input length up to 128 bytes by default instead of changing the regexps. This is because Date gem uses many Regexps and it is possible that there are still undiscovered vulnerable Regexps. For compatibility, it is allowed to remove the limitation by explicitly passing `limit` keywords as `nil` like `Date.parse(str, limit: nil)`, but note that it may take a long time to parse.

Please update the date gem to version 3.2.1, 3.1.2, 3.0.2, and 2.0.1, or later. You can use `gem update date` to update it. If you are using bundler, please add `gem "date", ">= 3.2.1"` to your `Gemfile`.
Alternatively, you can update Ruby to 3.0.3, 2.7.5, 2.6.9 or later.

## Affected versions

* date gem 2.0.0 or prior (which are bundled versions with Ruby 2.6 series prior to Ruby 2.6.9)
* date gem 3.0.1 or prior (which are bundled versions with Ruby 2.7 series prior to Ruby 2.7.5)
* date gem 3.1.1 or prior (which are bundled versions with Ruby 3.0 series prior to Ruby 3.0.3)
* date gem 3.2.0 or prior

## Credits

Thanks to [svalkanov](https://github.com/SValkanov/) for discovering this issue.

## History

* Originally published at 2021-11-15 08:00:00 (UTC)
* Mention about new Ruby releases at 2021-11-24 13:20:00 (UTC)

---

### **Recent News**

* [Ruby 3.4.1 Released](/en/news/2024/12/25/ruby-3-4-1-released/)
* [Ruby 3.4.0 Released](/en/news/2024/12/25/ruby-3-4-0-released/)
* [Ruby 3.4.0 rc1 Released](/en/news/2024/12/12/ruby-3-4-0-rc1-released/)
* [Ruby 3.3.6 Released](/en/news/2024/11/05/ruby-3-3-6-released/)
* [Ruby 3.2.6 Released](/en/news/2024/10/30/ruby-3-2-6-released/)
### Syndicate

[Recent News (RSS)](/en/feeds/news.rss)

---

[Home](/en/)
[Downloads](/en/downloads/)
[Documentation](/en/documentation/)
[Libraries](/en/libraries/)
[Community](/en/community/)
[News](/en/news/)
[Security](/en/security/)
[About Ruby](/en/about/)

This site in other languages:
[Български](/bg/),
[Deutsch](/de/),
[English](/en/),
[Español](/es/),
[Français](/fr/),
[Bahasa Indonesia](/id/),
[Italiano](/it/),
[日本語](/ja/),
[한국어](/ko/),
[polski](/pl/),
[Português](/pt/),
[Русский](/ru/),
[Türkçe](/tr/),
[Tiếng Việt](/vi/),
[简体中文](/zh_cn/),
[繁體中文](/zh_tw/).

[This website](/en/about/website/) is proudly maintained by members of the Ruby community.

