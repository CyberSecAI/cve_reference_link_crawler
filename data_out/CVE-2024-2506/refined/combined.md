=== Content from plugins.trac.wordpress.org_56475e4d_20250111_040925.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3085485%2540popup-builder%26old%3D3085485%2540popup-builder)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3067019/popup-builder "Changeset 3067019 for popup-builder")
* [Next Change](/changeset/3085488/popup-builder "Changeset 3085488 for popup-builder") →

---

# Changeset [3085485](/changeset/3085485 "Show full changeset") for [popup-builder](/browser/popup-builder?rev=3085485 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
05/13/2024 07:54:16 AM
([8 months](/timeline?from=2024-05-13T07%3A54%3A16Z&precision=second "See timeline at 05/13/2024 07:54:16 AM") ago)

Author:
minhgsvn
Message:

init v4.3.0

Location:
[popup-builder/trunk](/browser/popup-builder/trunk?rev=3085485)
Files:

1 added
76 edited

* [PopupBuilderInit.php](/browser/popup-builder/trunk/PopupBuilderInit.php?rev=3085485 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [com/classes/Actions.php](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485 "Show entry in browser")
  (modified)
  ([24 diffs](#file1 "Show differences"))
* [com/classes/Ajax.php](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485 "Show entry in browser")
  (modified)
  ([12 diffs](#file2 "Show differences"))
* [com/classes/ConditionCreator.php](/browser/popup-builder/trunk/com/classes/ConditionCreator.php?rev=3085485 "Show entry in browser")
  (modified)
  ([4 diffs](#file3 "Show differences"))
* [com/classes/ConvertToNewVersion.php](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=3085485 "Show entry in browser")
  (modified)
  ([7 diffs](#file4 "Show differences"))
* [com/classes/Feedback.php](/browser/popup-builder/trunk/com/classes/Feedback.php?rev=3085485 "Show entry in browser")
  (modified)
  ([4 diffs](#file5 "Show differences"))
* [com/classes/Filters.php](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485 "Show entry in browser")
  (modified)
  ([19 diffs](#file6 "Show differences"))
* [com/classes/Installer.php](/browser/popup-builder/trunk/com/classes/Installer.php?rev=3085485 "Show entry in browser")
  (modified)
  ([3 diffs](#file7 "Show differences"))
* [com/classes/Javascript.php](/browser/popup-builder/trunk/com/classes/Javascript.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [com/classes/MediaButton.php](/browser/popup-builder/trunk/com/classes/MediaButton.php?rev=3085485 "Show entry in browser")
  (modified)
  ([2 diffs](#file9 "Show differences"))
* [com/classes/NotificationCenter.php](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=3085485 "Show entry in browser")
  (modified)
  ([6 diffs](#file10 "Show differences"))
* [com/classes/PopupChecker.php](/browser/popup-builder/trunk/com/classes/PopupChecker.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [com/classes/RegisterPostType.php](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485 "Show entry in browser")
  (modified)
  ([20 diffs](#file12 "Show differences"))
* [com/classes/SGPBRequirementsChecker.php](/browser/popup-builder/trunk/com/classes/SGPBRequirementsChecker.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file13 "Show differences"))
* [com/classes/ScriptsLoader.php](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=3085485 "Show entry in browser")
  (modified)
  ([5 diffs](#file14 "Show differences"))
* [com/classes/Updates.php](/browser/popup-builder/trunk/com/classes/Updates.php?rev=3085485 "Show entry in browser")
  (modified)
  ([2 diffs](#file15 "Show differences"))
* [com/classes/components/Menu.php](/browser/popup-builder/trunk/com/classes/components/Menu.php?rev=3085485 "Show entry in browser")
  (modified)
  ([4 diffs](#file16 "Show differences"))
* [com/classes/dataTable/Subscribers.php](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=3085485 "Show entry in browser")
  (modified)
  ([9 diffs](#file17 "Show differences"))
* [com/classes/extension/SgpbPopupExtension.php](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=3085485 "Show entry in browser")
  (modified)
  ([6 diffs](#file18 "Show differences"))
* [com/classes/extension/SgpbPopupExtensionActivator.php](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtensionActivator.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file19 "Show differences"))
* [com/classes/extension/SgpbPopupExtensionRegister.php](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtensionRegister.php?rev=3085485 "Show entry in browser")
  (modified)
  ([2 diffs](#file20 "Show differences"))
* [com/classes/popups/FblikePopup.php](/browser/popup-builder/trunk/com/classes/popups/FblikePopup.php?rev=3085485 "Show entry in browser")
  (modified)
  ([4 diffs](#file21 "Show differences"))
* [com/classes/popups/ImagePopup.php](/browser/popup-builder/trunk/com/classes/popups/ImagePopup.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file22 "Show differences"))
* [com/classes/popups/SGPopup.php](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485 "Show entry in browser")
  (modified)
  ([15 diffs](#file23 "Show differences"))
* [com/classes/popups/SubscriptionPopup.php](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=3085485 "Show entry in browser")
  (modified)
  ([5 diffs](#file24 "Show differences"))
* [com/config/config-free.php](/browser/popup-builder/trunk/com/config/config-free.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file25 "Show differences"))
* [com/config/config-gold.php](/browser/popup-builder/trunk/com/config/config-gold.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file26 "Show differences"))
* [com/config/config-platinum.php](/browser/popup-builder/trunk/com/config/config-platinum.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file27 "Show differences"))
* [com/config/config-silver.php](/browser/popup-builder/trunk/com/config/config-silver.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file28 "Show differences"))
* [com/config/config.php](/browser/popup-builder/trunk/com/config/config.php?rev=3085485 "Show entry in browser")
  (modified)
  ([4 diffs](#file29 "Show differences"))
* [com/config/configPackage.php](/browser/popup-builder/trunk/com/config/configPackage.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file30 "Show differences"))
* [com/config/dataConfig.php](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485 "Show entry in browser")
  (modified)
  ([66 diffs](#file31 "Show differences"))
* [com/helpers/AdminHelper.php](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485 "Show entry in browser")
  (modified)
  ([24 diffs](#file32 "Show differences"))
* [com/helpers/ConfigDataHelper.php](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485 "Show entry in browser")
  (modified)
  ([34 diffs](#file33 "Show differences"))
* [com/helpers/Functions.php](/browser/popup-builder/trunk/com/helpers/Functions.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file34 "Show differences"))
* [com/helpers/PopupBuilderActivePackage.php](/browser/popup-builder/trunk/com/helpers/PopupBuilderActivePackage.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file35 "Show differences"))
* [com/helpers/ScriptsIncluder.php](/browser/popup-builder/trunk/com/helpers/ScriptsIncluder.php?rev=3085485 "Show entry in browser")
  (modified)
  ([3 diffs](#file36 "Show differences"))
* [com/libs/Importer.php](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485 "Show entry in browser")
  (modified)
  ([32 diffs](#file37 "Show differences"))
* [com/libs/ListTable.php](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=3085485 "Show entry in browser")
  (modified)
  ([9 diffs](#file38 "Show differences"))
* [com/libs/Reports.php](/browser/popup-builder/trunk/com/libs/Reports.php?rev=3085485 "Show entry in browser")
  (modified)
  ([3 diffs](#file39 "Show differences"))
* [com/libs/Table.php](/browser/popup-builder/trunk/com/libs/Table.php?rev=3085485 "Show entry in browser")
  (modified)
  ([5 diffs](#file40 "Show differences"))
* [com/libs/WOOSL\_CodeAutoUpdate.php](/browser/popup-builder/trunk/com/libs/WOOSL_CodeAutoUpdate.php?rev=3085485 "Show entry in browser")
  (modified)
  ([3 diffs](#file41 "Show differences"))
* [com/libs/parsers.php](/browser/popup-builder/trunk/com/libs/parsers.php?rev=3085485 "Show entry in browser")
  (modified)
  ([5 diffs](#file42 "Show differences"))
* [languages/popupBuilder.pot](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485 "Show entry in browser")
  (modified)
  ([27 diffs](#file43 "Show differences"))
* [languages/popupBuilder\_bk.pot](/browser/popup-builder/trunk/languages/popupBuilder_bk.pot?rev=3085485 "Show entry in browser")
  (added)
* [popup-builder.php](/browser/popup-builder/trunk/popup-builder.php?rev=3085485 "Show entry in browser")
  (modified)
  ([2 diffs](#file45 "Show differences"))
* [public/js/Subscribers.js](/browser/popup-builder/trunk/public/js/Subscribers.js?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file46 "Show differences"))
* [public/views/allMetaboxesView.php](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([5 diffs](#file47 "Show differences"))
* [public/views/behaviorAfterSpecialEventsView.php](/browser/popup-builder/trunk/public/views/behaviorAfterSpecialEventsView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file48 "Show differences"))
* [public/views/closeSettingsView.php](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([30 diffs](#file49 "Show differences"))
* [public/views/conditionsView.php](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([5 diffs](#file50 "Show differences"))
* [public/views/customEditor.php](/browser/popup-builder/trunk/public/views/customEditor.php?rev=3085485 "Show entry in browser")
  (modified)
  ([2 diffs](#file51 "Show differences"))
* [public/views/debugReport.php](/browser/popup-builder/trunk/public/views/debugReport.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file52 "Show differences"))
* [public/views/dimensionsView.php](/browser/popup-builder/trunk/public/views/dimensionsView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([3 diffs](#file53 "Show differences"))
* [public/views/eventsView.php](/browser/popup-builder/trunk/public/views/eventsView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file54 "Show differences"))
* [public/views/floatingButton.php](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=3085485 "Show entry in browser")
  (modified)
  ([8 diffs](#file55 "Show differences"))
* [public/views/htmlCustomButtonElement.php](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485 "Show entry in browser")
  (modified)
  ([20 diffs](#file56 "Show differences"))
* [public/views/importConfigView.php](/browser/popup-builder/trunk/public/views/importConfigView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([3 diffs](#file57 "Show differences"))
* [public/views/importPopupsView.php](/browser/popup-builder/trunk/public/views/importPopupsView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([2 diffs](#file58 "Show differences"))
* [public/views/jsVariableView.php](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([9 diffs](#file59 "Show differences"))
* [public/views/license.php](/browser/popup-builder/trunk/public/views/license.php?rev=3085485 "Show entry in browser")
  (modified)
  ([4 diffs](#file60 "Show differences"))
* [public/views/main/image.php](/browser/popup-builder/trunk/public/views/main/image.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file61 "Show differences"))
* [public/views/mainActionButtons.php](/browser/popup-builder/trunk/public/views/mainActionButtons.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file62 "Show differences"))
* [public/views/mediaButton.php](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=3085485 "Show entry in browser")
  (modified)
  ([5 diffs](#file63 "Show differences"))
* [public/views/newsletter.php](/browser/popup-builder/trunk/public/views/newsletter.php?rev=3085485 "Show entry in browser")
  (modified)
  ([4 diffs](#file64 "Show differences"))
* [public/views/options/facebook.php](/browser/popup-builder/trunk/public/views/options/facebook.php?rev=3085485 "Show entry in browser")
  (modified)
  ([2 diffs](#file65 "Show differences"))
* [public/views/options/subscription.php](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485 "Show entry in browser")
  (modified)
  ([25 diffs](#file66 "Show differences"))
* [public/views/optionsView.php](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([31 diffs](#file67 "Show differences"))
* [public/views/otherConditionsView.php](/browser/popup-builder/trunk/public/views/otherConditionsView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([4 diffs](#file68 "Show differences"))
* [public/views/popupDesignView.php](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([19 diffs](#file69 "Show differences"))
* [public/views/popupOpeningCounter.php](/browser/popup-builder/trunk/public/views/popupOpeningCounter.php?rev=3085485 "Show entry in browser")
  (modified)
  ([3 diffs](#file70 "Show differences"))
* [public/views/popupTypes.php](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=3085485 "Show entry in browser")
  (modified)
  ([9 diffs](#file71 "Show differences"))
* [public/views/settings.php](/browser/popup-builder/trunk/public/views/settings.php?rev=3085485 "Show entry in browser")
  (modified)
  ([6 diffs](#file72 "Show differences"))
* [public/views/subscribers.php](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485 "Show entry in browser")
  (modified)
  ([11 diffs](#file73 "Show differences"))
* [public/views/targetView.php](/browser/popup-builder/trunk/public/views/targetView.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file74 "Show differences"))
* [readme.txt](/browser/popup-builder/trunk/readme.txt?rev=3085485 "Show entry in browser")
  (modified)
  ([2 diffs](#file75 "Show differences"))
* [uninstall.php](/browser/popup-builder/trunk/uninstall.php?rev=3085485 "Show entry in browser")
  (modified)
  ([1 diff](#file76 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [popup-builder/trunk/PopupBuilderInit.php](/changeset/3085485/popup-builder/trunk/PopupBuilderInit.php "Show the changeset 3085485 restricted to popup-builder/trunk/PopupBuilderInit.php")

  | [r2976515](/browser/popup-builder/trunk/PopupBuilderInit.php?rev=2976515#L94 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/PopupBuilderInit.php?rev=3085485#L94 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 94 | 94 | private function registerHooks() |
  | 95 | 95 | { |
  | 96 |  | register\_activation\_hook(SG\_POPUP\_FILE\_NAME, array($this, 'activate')); |
  | 97 |  | register\_deactivation\_hook(SG\_POPUP\_FILE\_NAME, array($this, 'deactivate')); |
  |  | 96 | register\_activation\_hook(SGPB\_POPUP\_FILE\_NAME, array($this, 'activate')); |
  |  | 97 | register\_deactivation\_hook(SGPB\_POPUP\_FILE\_NAME, array($this, 'deactivate')); |
  | 98 | 98 | } |
  | 99 | 99 |  |
  | […](/browser/popup-builder/trunk/PopupBuilderInit.php?rev=2976515#L111) | […](/browser/popup-builder/trunk/PopupBuilderInit.php?rev=3085485#L111) |  |
  | 111 | 111 | AdminHelper::filterUserCapabilitiesForTheUserRoles('deactivate'); |
  | 112 | 112 | require\_once(SG\_POPUP\_EXTENSION\_PATH.'SgpbPopupExtensionRegister.php'); |
  | 113 |  | $pluginName = SG\_POPUP\_FILE\_NAME; |
  |  | 113 | $pluginName = SGPB\_POPUP\_FILE\_NAME; |
  | 114 | 114 | // remove AWeber extension from registered extensions |
  | 115 | 115 | SgpbPopupExtensionRegister::remove($pluginName); |
* ## [popup-builder/trunk/com/classes/Actions.php](/changeset/3085485/popup-builder/trunk/com/classes/Actions.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/Actions.php")

  | [r3008574](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L56 "Show revision 3008574 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L56 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 56 | 56 | add\_action('wp\_enqueue\_scripts', array($this, 'enqueuePopupBuilderScripts')); |
  | 57 | 57 | add\_filter('sgpbOtherConditions', array($this ,'conditionsSatisfy'), 11, 1); |
  | 58 |  | add\_shortcode('sg\_popup', array($this, '~~p~~opupShortcode')); |
  |  | 58 | add\_shortcode('sg\_popup', array($this, 'sgpbPopupShortcode')); |
  | 59 | 59 | add\_filter('cron\_schedules', array($this, 'cronAddMinutes'), 10, 1); |
  | 60 | 60 | add\_action('sgpb\_send\_newsletter', array($this, 'newsletterSendEmail'), 10, 1); |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L88) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L88) |  |
  | 88 | 88 | $currentPostType = AdminHelper::getCurrentPostType(); |
  | 89 | 89 | if(!empty($currentPostType) && ($currentPostType == SG\_POPUP\_POST\_TYPE || $currentPostType == SG\_POPUP\_AUTORESPONDER\_POST\_TYPE || $currentPostType == SG\_POPUP\_TEMPLATE\_POST\_TYPE)) { |
  | 90 |  | ~~?>~~ |
  | 91 |  | ~~<script type="text/javascript">~~ |
  | 92 |  | jQuery(document).ready(function ($) { |
  |  | 90 | wp\_register\_script( 'sgpb-actions-js-footer', '', array("jquery"), '', true ); |
  |  | 91 | wp\_enqueue\_script( 'sgpb-actions-js-footer'  ); |
  |  | 92 | wp\_add\_inline\_script( 'sgpb-actions-js-footer', "jQuery(document).ready(function ($) { |
  | 93 | 93 | const myForm = $('.post-type-popupbuilder #posts-filter, .post-type-sgpbtemplate #posts-filter, .post-type-sgpbtemplate #posts-filter'); |
  | 94 | 94 | myForm.addClass('sgpb-table'); |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L107) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L107) |  |
  | 107 | 107 | $(myForm).submit(); |
  | 108 | 108 | }) |
  | 109 |  | }); |
  | 110 |  | </script> |
  | 111 |  | <?php |
  |  | 109 | });"); |
  | 112 | 110 | } |
  | 113 | 111 | } |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L226) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L224) |  |
  | 226 | 224 | } |
  | 227 | 225 | $licenseSectionUrl = menu\_page\_url(SGPB\_POPUP\_LICENSE, false); |
  | 228 |  | $partOfContent = '<br><br><a href="'.esc\_url($licenseSectionUrl).'">'.\_\_('Follow the link', ~~SG\_POPUP\_TEXT\_DOMAIN).'</a> '.\_\_('to finalize the activation.', SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 226 | $partOfContent = '<br><br><a href="'.esc\_url($licenseSectionUrl).'">'.\_\_('Follow the link', 'popup-builder').'</a> '.\_\_('to finalize the activation.', 'popup-builder'); |
  | 229 | 227 | if (function\_exists('get\_current\_screen')) { |
  | 230 | 228 | $screen = get\_current\_screen(); |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L241) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L239) |  |
  | 241 | 239 | <div id="welcome-panel" class="update-nag sgpb-extensions-notices sgpb-license-notice"> |
  | 242 | 240 | <div class="welcome-panel-content"> |
  | 243 |  | <b><?php esc\_html\_e('Thank you for choosing our plugin!', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></b> |
  |  | 241 | <b><?php esc\_html\_e('Thank you for choosing our plugin!', 'popup-builder') ?></b> |
  | 244 | 242 | <br> |
  | 245 | 243 | <br> |
  | 246 |  | <b><?php esc\_html\_e('You have activated Popup Builder extension(s). Please, don\'t forget to activate the license key(s) as well.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></b> |
  |  | 244 | <b><?php esc\_html\_e('You have activated Popup Builder extension(s). Please, don\'t forget to activate the license key(s) as well.', 'popup-builder') ?></b> |
  | 247 | 245 | <b><?php echo wp\_kses($partOfContent, AdminHelper::allowed\_html\_tags()); ?></b> |
  | 248 | 246 | </div> |
  | 249 |  | <button type="button" class="notice-dismiss" onclick="jQuery('.sgpb-license-notice').remove();"><span class="screen-reader-text"><?php esc\_html\_e('Dismiss this notice.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></span></button> |
  | 250 |  | <span class="sgpb-dont-show-again-license-notice"><?php esc\_html\_e('Don\'t show again.', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 247 | <button type="button" class="notice-dismiss" onclick="jQuery('.sgpb-license-notice').remove();"><span class="screen-reader-text"><?php esc\_html\_e('Dismiss this notice.', 'popup-builder') ?></span></button> |
  |  | 248 | <span class="sgpb-dont-show-again-license-notice"><?php esc\_html\_e('Don\'t show again.', 'popup-builder'); ?></span> |
  | 251 | 249 | </div> |
  | 252 | 250 | <?php |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L362) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L360) |  |
  | 362 | 360 |  |
  | 363 | 361 | $locale = apply\_filters('sgpbPluginLocale', get\_locale(), SG\_POPUP\_TEXT\_DOMAIN); |
  | 364 |  | $mofile = sprintf('%1$s-%2$s.mo', ~~SG\_POPUP\_TEXT\_DOMAIN~~, $locale); |
  |  | 362 | $mofile = sprintf('%1$s-%2$s.mo', 'popup-builder', $locale); |
  | 365 | 363 |  |
  | 366 | 364 | $mofileLocal = $popupBuilderLangDir.$mofile; |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L434) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L432) |  |
  | 434 | 432 |  |
  | 435 | 433 | // if popup builder has the old version |
  | 436 |  | if (!get\_option('SG\_POPUP\_VERSION')) { |
  |  | 434 | if (!get\_option('SGPB\_POPUP\_VERSION')) { |
  | 437 | 435 | return $content; |
  | 438 | 436 | } |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L467) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L465) |  |
  | 467 | 465 | require\_once SG\_POPUP\_LIBS\_PATH.'Importer.php'; |
  | 468 | 466 | $importer = new WP\_Import(); |
  | 469 |  | register\_importer(SG\_POPUP\_POST\_TYPE, SG\_POPUP\_POST\_TYPE, \_\_('Importer', ~~SG\_POPUP\_TEXT\_DOMAIN~~), array($importer, 'dispatch')); |
  |  | 467 | register\_importer(SG\_POPUP\_POST\_TYPE, SG\_POPUP\_POST\_TYPE, \_\_('Importer', 'popup-builder'), array($importer, 'dispatch')); |
  | 470 | 468 | } |
  | 471 | 469 |  |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L473) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L471) |  |
  | 473 | 471 | { |
  | 474 | 472 | $this->registerImporter(); |
  | 475 |  | $versionPopup = get\_option('SG\_POPUP\_VERSION'); |
  |  | 473 | $versionPopup = get\_option('SGPB\_POPUP\_VERSION'); |
  | 476 | 474 | $convert = get\_option('sgpbConvertToNewVersion'); |
  | 477 | 475 | $unsubscribeColumnFixed = get\_option('sgpbUnsubscribeColumnFixed'); |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L591) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L589) |  |
  | 591 | 589 | } |
  | 592 | 590 |  |
  | 593 |  | public function ~~p~~opupShortcode($args, $content) |
  |  | 591 | public function sgpbPopupShortcode($args, $content) |
  | 594 | 592 | { |
  | 595 | 593 | if (empty($args) || empty($args['id'])) { |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L712) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L710) |  |
  | 712 | 710 | $schedules['sgpb\_newsletter\_send\_every\_minute'] = array( |
  | 713 | 711 | 'interval' => SGPB\_CRON\_REPEAT\_INTERVAL \* 60, |
  | 714 |  | 'display' => \_\_('Once Every Minute', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 712 | 'display' => \_\_('Once Every Minute', 'popup-builder') |
  | 715 | 713 | ); |
  | 716 | 714 |  |
  | 717 | 715 | $schedules['sgpb\_banners'] = array( |
  | 718 | 716 | 'interval' => SGPB\_TRANSIENT\_TIMEOUT\_WEEK, |
  | 719 |  | 'display' => \_\_('Once Every Week', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 717 | 'display' => \_\_('Once Every Week', 'popup-builder') |
  | 720 | 718 | ); |
  | 721 | 719 |  |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L749) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L747) |  |
  | 749 | 747 | $pattern = "/\[(\[?)(Unsubscribe)(?![\w-])([^\]\/]\*(?:\/(?!\])[^\]\/]\*)\*?)(?:(\/)\]|\](?:([^\[]\\*+(?:\[(?!\/\2\])[^\[]\\*+)\\*+)\[\/\2\])?)(\]?)/"; |
  | 750 | 748 | preg\_match($pattern, $emailMessage, $matches); |
  | 751 |  | $title = \_\_('Unsubscribe', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 749 | $title = \_\_('Unsubscribe', 'popup-builder'); |
  | 752 | 750 | if ($matches) { |
  | 753 | 751 | $patternUnsubscribe = $matches[0]; |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L773) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L771) |  |
  | 773 | 771 | $sql = $wpdb->prepare($selectionQuery .' and subscriptionType = %d limit 1', $subscriptionFormId); |
  | 774 | 772 |  |
  | 775 |  | $result = $wpdb->get\_row($sql, ARRAY\_A); |
  |  | 773 | $result = $wpdb->get\_row($sql, ARRAY\_A);//db call ok |
  | 776 | 774 | $currentStateEmailId = (int)$result['id']; |
  | 777 | 775 | $getTotalSql = $wpdb->prepare('SELECT count(\*) FROM '.$wpdb->prefix.SGPB\_SUBSCRIBERS\_TABLE\_NAME.' WHERE unsubscribed = 0 and subscriptionType = %d', $subscriptionFormId); |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L788) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L786) |  |
  | 788 | 786 | } |
  | 789 | 787 | $failedTotal = $totalSubscribers - $successTotal; |
  | 790 |  |  |
  | 791 |  | $emailMessageCustom = \_\_('Your mail list %s delivered successfully! |
  | 792 |  | %~~d of the %d emails succeeded, %~~d failed. |
  |  | 788 | /\* translators: subscription Form Title, success Total ,total Subscribers, failed Total . \*/ |
  |  | 789 | $emailMessageCustom = \_\_('Your mail list %1$s delivered successfully! |
  |  | 790 | %2$d of the %3$d emails succeeded, %4$d failed. |
  | 793 | 791 | For more details, please download log file inside the plugin. |
  | 794 |  | This email was generated via Popup Builder plugin.', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 792 | This email was generated via Popup Builder plugin.', 'popup-builder'); |
  | 795 | 793 | $emailMessageCustom = sprintf($emailMessageCustom, $subscriptionFormTitle, $successTotal, $totalSubscribers, $failedTotal); |
  | 796 | 794 |  |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L847) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L845) |  |
  | 847 | 845 | $mailStatus = wp\_mail($subscriber['email'], $mailSubject, $emailMessageCustom, $headers); |
  | 848 | 846 | if (!$mailStatus) { |
  | 849 |  | $errorLogSql = $wpdb->prepare('INSERT INTO '. $wpdb->prefix .SGPB\_SUBSCRIBERS\_ERROR\_TABLE\_NAME.' (`popupType`, `email`, `date`) VALUES (%s, %s, %s)', $subscriptionFormId, $subscriber['email'], date('Y-m-d H:i')); |
  |  | 847 | $errorLogSql = $wpdb->prepare('INSERT INTO '. $wpdb->prefix .SGPB\_SUBSCRIBERS\_ERROR\_TABLE\_NAME.' (`popupType`, `email`, `date`) VALUES (%s, %s, %s)', $subscriptionFormId, $subscriber['email'], gmdate('Y-m-d H:i')); |
  | 850 | 848 | $wpdb->query($errorLogSql); |
  | 851 | 849 | continue; |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L873) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L871) |  |
  | 873 | 871 | { |
  | 874 | 872 | // for old popups |
  | 875 |  | if (get\_option('SG\_POPUP\_VERSION')) { |
  |  | 873 | if (get\_option('SGPB\_POPUP\_VERSION')) { |
  | 876 | 874 | ConvertToNewVersion::saveCustomInserted(); |
  | 877 | 875 | } |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L908) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L906) |  |
  | 908 | 906 |  |
  | 909 | 907 | if (isset($\_GET['page']) && sanitize\_text\_field($\_GET['page']) == 'PopupBuilder') { |
  | 910 |  | \_e('<span>Popup Builder plugin has been successfully updated. Please <a href="'.esc\_url($adminUrl).'edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'">click here</a> to go to the new Dashboard of the plugin.</span>', SG\_POPUP\_TEXT\_DOMAIN); |
  |  | 908 | echo '<span>'; |
  |  | 909 | printf( |
  |  | 910 | /\* translators: Link to edit Popup item, location. \*/ |
  |  | 911 | esc\_html\_\_('Popup Builder plugin has been successfully updated. Please %1$s to go to the new Dashboard of the plugin.', 'popup-builder'), |
  |  | 912 | sprintf( |
  |  | 913 | /\* translators: admin Url, Popup Post type. \*/ |
  |  | 914 | '<a href="%1$sedit.php?post\_type=%2$s">click here</a>', |
  |  | 915 | esc\_url($adminUrl), |
  |  | 916 | esc\_html\_\_( 'popupbuilder', 'text-domain' ) |
  |  | 917 | ) |
  |  | 918 | ); |
  |  | 919 | echo '</span>'; |
  | 911 | 920 | wp\_die(); |
  | 912 | 921 | } |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L999) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L1008) |  |
  | 999 | 1008 | public function savePost($postId = 0, $post = array(), $update = false) |
  | 1000 | 1009 | { |
  |  | 1010 | global $SGPB\_OPTIONS; |
  |  | 1011 |  |
  | 1001 | 1012 | if ($post->post\_type !== SG\_POPUP\_POST\_TYPE) { |
  | 1002 | 1013 | return; |
  | 1003 | 1014 | } |
  |  | 1015 |  |
  |  | 1016 | if( !isset( $\_POST['sgpb-type'] ) ) |
  |  | 1017 | { |
  |  | 1018 | return; |
  |  | 1019 | } |
  |  | 1020 | /\* Validate nonce \*/ |
  |  | 1021 | $nonce = isset( $\_POST['\_wpnonce'] ) ? sanitize\_text\_field( $\_POST['\_wpnonce'] ) : ''; |
  |  | 1022 | if ( empty( $nonce ) || !wp\_verify\_nonce( $nonce, 'update-post\_'.$postId ) ) { |
  |  | 1023 | return; |
  |  | 1024 | } |
  |  | 1025 |  |
  | 1004 | 1026 | $allowToAction = AdminHelper::userCanAccessTo(); |
  | 1005 |  | Functions::clearAllTransients(); |
  | 1006 |  | // phpcs:ignore WordPress.Security.ValidatedSanitizedInput.InputNotSanitized |
  | 1007 |  | $postData = SGPopup::parsePopupDataFromData($\_POST); |
  |  | 1027 | Functions::clearAllTransients(); |
  |  | 1028 |  |
  |  | 1029 | // Do not processing the whole input |
  |  | 1030 | $essentialsgpbKeys  = array\_column($SGPB\_OPTIONS, 'name'); |
  |  | 1031 | $sgpb\_postData = array\_intersect\_key($\_POST, array\_flip( $essentialsgpbKeys )); |
  |  | 1032 | $postData = SGPopup::parsePopupDataFromData($sgpb\_postData); |
  |  | 1033 |  |
  | 1008 | 1034 | $saveMode = ''; |
  | 1009 | 1035 | $postData['sgpb-post-id'] = $postId; |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L1066) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L1092) |  |
  | 1066 | 1092 | require\_once($popupClassPath.$popupClassName.'.php'); |
  | 1067 | 1093 | $popupClassName = \_\_NAMESPACE\_\_.'\\'.$popupClassName; |
  | 1068 |  |  |
  | 1069 | 1094 | $popupClassName::create($postData, $saveMode, 1); |
  | 1070 | 1095 | } |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L1074) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L1099) |  |
  | 1074 | 1099 | SGPopup::deletePostCustomInsertedData($postId); |
  | 1075 | 1100 | SGPopup::deletePostCustomInsertedEvents($postId); |
  | 1076 |  | /\*We detect all the popups that were inserted as a custom ones, in the content.\*/ |
  |  | 1101 | /\*We detect all the popups that were inserted as a custom ones, in the content.\*/ |
  | 1077 | 1102 | SGPopup::savePopupsFromContentClasses($content, $post); |
  | 1078 | 1103 | } |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L1122) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L1147) |  |
  | 1122 | 1147 | else if ($column == 'counter') { |
  | 1123 | 1148 | $count = $popup->getPopupOpeningCountById($postId); |
  | 1124 |  | $counter =  '<div ><span>'.$count.'</span>'.'<input onclick="SGPBBackend.resetCount('.esc\_attr($postId).', true);" type="button" name="" class="sgpb-btn sgpb-btn-dark-outline" value="'.\_\_('reset', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'"></div>'; |
  |  | 1149 | $counter =  '<div ><span>'.$count.'</span>'.'<input onclick="SGPBBackend.resetCount('.esc\_attr($postId).', true);" type="button" name="" class="sgpb-btn sgpb-btn-dark-outline" value="'.\_\_('reset', 'popup-builder').'"></div>'; |
  | 1125 | 1150 | echo wp\_kses($counter, AdminHelper::allowed\_html\_tags()); |
  | 1126 | 1151 | } |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L1171) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L1196) |  |
  | 1171 | 1196 | public function popupSaveAsNew($status = '') |
  | 1172 | 1197 | { |
  |  | 1198 | /\*\* |
  |  | 1199 | \* We only allow administrator to do this action |
  |  | 1200 | \*/ |
  |  | 1201 | if ( ! current\_user\_can( 'manage\_options' ) ) { |
  |  | 1202 |  |
  |  | 1203 | wp\_die(esc\_html\_\_('You do not have permission to clone the popup!', 'popup-builder')); |
  |  | 1204 | } |
  |  | 1205 |  |
  |  | 1206 | /\* Validate nonce \*/ |
  |  | 1207 | $nonce = isset( $\_REQUEST['\_wpnonce'] ) ? sanitize\_text\_field( $\_REQUEST['\_wpnonce'] ) : ''; |
  |  | 1208 | $postId = (int) sanitize\_text\_field($\_REQUEST['post']); |
  |  | 1209 |  |
  |  | 1210 | if ( empty( $nonce ) || !wp\_verify\_nonce( $nonce, 'duplicate-post\_'.$postId ) ) { |
  |  | 1211 | wp\_die(esc\_html\_\_('You do not have permission to clone the popup!', 'popup-builder')); |
  |  | 1212 | } |
  |  | 1213 |  |
  | 1173 | 1214 | if (!(isset($\_GET['post']) || isset($\_POST['post']) || (isset($\_REQUEST['action']) && 'popupSaveAsNew' == sanitize\_text\_field($\_REQUEST['action'])))) { |
  | 1174 |  | wp\_die(esc\_html\_\_('No post to duplicate has been supplied!', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 1215 | wp\_die(esc\_html\_\_('No post to duplicate has been supplied!', 'popup-builder')); |
  | 1175 | 1216 | } |
  | 1176 | 1217 | // Get the original post |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L1215) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L1256) |  |
  | 1215 | 1256 | } |
  | 1216 | 1257 | else { |
  | 1217 |  | wp\_die(esc\_html\_\_('Copy creation failed, could not find original: '.$id, SG\_POPUP\_TEXT\_DOMAIN)); |
  |  | 1258 | /\* translators: ID of original. \*/ |
  |  | 1259 | wp\_die( sprintf( wp\_kses\_post( \_\_('Copy creation failed, could not find original: %d','popup-builder') ), esc\_html( $id ) ) ); |
  | 1218 | 1260 | } |
  | 1219 | 1261 | } |
  | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3008574#L1404) | […](/browser/popup-builder/trunk/com/classes/Actions.php?rev=3085485#L1446) |  |
  | 1404 | 1446 | // post(popup) updated |
  | 1405 | 1447 | if (isset($messages['post'][1])) { |
  | 1406 |  | $messages['post'][1] = \_\_('Popup updated.', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 1448 | $messages['post'][1] = \_\_('Popup updated.', 'popup-builder'); |
  | 1407 | 1449 | } |
  | 1408 | 1450 | // post(popup) published |
  | 1409 | 1451 | if (isset($messages['post'][6])) { |
  | 1410 |  | $messages['post'][6] = \_\_('Popup published.', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 1452 | $messages['post'][6] = \_\_('Popup published.', 'popup-builder'); |
  | 1411 | 1453 | } |
  | 1412 | 1454 | } |
* ## [popup-builder/trunk/com/classes/Ajax.php](/changeset/3085485/popup-builder/trunk/com/classes/Ajax.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/Ajax.php")

  | [r2976515](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L1 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | namespace sgpb; |
  | 3 |  | use \ConfigDataHelper; |
  |  | 3 | use \SGPBConfigDataHelper; |
  | 4 | 4 |  |
  | 5 | 5 | class Ajax |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L110) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L110) |  |
  | 110 | 110 | $item = sanitize\_text\_field($item); |
  | 111 | 111 | }); |
  |  | 112 |  |
  | 112 | 113 | $popupData = SGPopup::parsePopupDataFromData($allPopupData); |
  | 113 | 114 | do\_action('save\_post\_popupbuilder'); |
  |  | 115 |  |
  | 114 | 116 | $popupType = $popupData['sgpb-type']; |
  | 115 | 117 | $popupClassName = SGPopup::getPopupClassNameFormType($popupType); |
  | 116 |  | $popupClassPath = SGPopup::getPopupTypeClassPath($popupType); |
  |  | 118 | $popupClassPath = SGPopup::getPopupTypeClassPath($popupType); |
  |  | 119 |  |
  | 117 | 120 | if(file\_exists($popupClassPath.$popupClassName.'.php')) { |
  | 118 | 121 | require\_once($popupClassPath.$popupClassName.'.php'); |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L190) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L193) |  |
  | 190 | 193 | } |
  | 191 | 194 |  |
  | 192 |  | // 7, 12, 13 => exclude close, subscription success, contact success events |
  | 193 |  | $stmt = $wpdb->prepare(' DELETE FROM '.$wpdb->prefix.'sgpb\_analytics WHERE target\_id = %d AND event\_id NOT IN (7, 12, 13)', $popupId); |
  | 194 |  | $popupAnalyticsData = $wpdb->get\_var($stmt); |
  |  | 195 | $popupAnalyticsData = $wpdb->get\_var( $wpdb->prepare(' DELETE FROM '.$wpdb->prefix.'sgpb\_analytics WHERE target\_id = %d AND event\_id NOT IN (7, 12, 13)', $popupId)); |
  | 195 | 196 |  |
  | 196 | 197 | update\_option('SgpbCounter', $allPopupsCount); |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L296) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L297) |  |
  | 296 | 297 | $lastName = isset($\_POST['lastName']) ? sanitize\_text\_field($\_POST['lastName']) : ''; |
  | 297 | 298 | $email = isset($\_POST['email']) ? sanitize\_text\_field($\_POST['email']) : ''; |
  | 298 |  | $date = date('Y-m-d'); |
  |  | 299 | $date = gmdate('Y-m-d'); |
  | 299 | 300 |  |
  | 300 | 301 | // we will use array\_walk\_recursive method for sanitizing current data because we can receive an multidimensional array! |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L382) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L383) |  |
  | 382 | 383 | if(!empty($mapping['date'])) { |
  | 383 | 384 | $date = $csvData[$mapping['date']]; |
  | 384 |  | $date = date('Y-m-d', strtotime($date)); |
  |  | 385 | $date = gmdate('Y-m-d', strtotime($date)); |
  | 385 | 386 | } |
  | 386 | 387 | if($sql) { |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L517) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L518) |  |
  | 517 | 518 |  |
  | 518 | 519 | if(empty($formData)) { |
  | 519 |  | echo ~~SGPB\_AJAX\_STATUS\_FALSE~~; |
  |  | 520 | echo esc\_html( SGPB\_AJAX\_STATUS\_FALSE ); |
  | 520 | 521 | wp\_die(); |
  | 521 | 522 | } |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L531) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L532) |  |
  | 531 | 532 |  |
  | 532 | 533 | $status = SGPB\_AJAX\_STATUS\_FALSE; |
  | 533 |  | $date = date('Y-m-d'); |
  |  | 534 | $date = gmdate('Y-m-d'); |
  | 534 | 535 | $email = sanitize\_email($formData['sgpb-subs-email']); |
  | 535 | 536 | $firstName = sanitize\_text\_field($formData['sgpb-subs-first-name']); |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L554) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L555) |  |
  | 554 | 555 | } |
  | 555 | 556 |  |
  | 556 |  | echo ~~$status~~; |
  |  | 557 | echo esc\_html( $status ); |
  | 557 | 558 | wp\_die(); |
  | 558 | 559 | } |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L569) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L570) |  |
  | 569 | 570 | $popupPostId = isset($\_POST['popupPostId']) ? (int)sanitize\_text\_field($\_POST['popupPostId']) : ''; |
  | 570 | 571 | if(empty($\_POST)) { |
  | 571 |  | echo ~~SGPB\_AJAX\_STATUS\_FALSE~~; |
  |  | 572 | echo esc\_html( SGPB\_AJAX\_STATUS\_FALSE ); |
  | 572 | 573 | wp\_die(); |
  | 573 | 574 | } |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L613) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L614) |  |
  | 613 | 614 | // take review |
  | 614 | 615 | update\_option('sgpb-new-subscriber', 1); |
  | 615 |  | $newSubscriberEmailTitle = \_\_('Congrats! You have already 1 subscriber!', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 616 | $newSubscriberEmailTitle = \_\_('Congrats! You have already 1 subscriber!', 'popup-builder'); |
  | 616 | 617 | $reviewEmailTemplate = AdminHelper::getFileFromURL(SG\_POPUP\_EMAIL\_TEMPLATES\_URL.'takeReviewAfterSubscribe.html'); |
  | 617 | 618 | $reviewEmailTemplate = preg\_replace('/\[adminUserName]/', $adminUserName, $reviewEmailTemplate); |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L629) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L630) |  |
  | 629 | 630 | switch($postTypeName){ |
  | 630 | 631 | case 'postCategories': |
  | 631 |  | $searchResults  = ConfigDataHelper::getPostsAllCategories('post', [], $search); |
  |  | 632 | $searchResults  = SGPBConfigDataHelper::getPostsAllCategories('post', [], $search); |
  | 632 | 633 | break; |
  | 633 | 634 | case 'postTags': |
  | 634 |  | $searchResults  = ConfigDataHelper::getAllTags($search); |
  |  | 635 | $searchResults  = SGPBConfigDataHelper::getAllTags($search); |
  | 635 | 636 | break; |
  | 636 | 637 | default: |
  | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=2976515#L667) | […](/browser/popup-builder/trunk/com/classes/Ajax.php?rev=3085485#L668) |  |
  | 667 | 668 | 'post\_type'      => $postTypeName |
  | 668 | 669 | ); |
  | 669 |  | $searchResults = ConfigDataHelper::getPostTypeData($args); |
  |  | 670 | $searchResults = SGPBConfigDataHelper::getPostTypeData($args); |
  | 670 | 671 |  |
  | 671 | 672 | return $searchResults; |
* ## [popup-builder/trunk/com/classes/ConditionCreator.php](/changeset/3085485/popup-builder/trunk/com/classes/ConditionCreator.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/ConditionCreator.php")

  | [r2721110](/browser/popup-builder/trunk/com/classes/ConditionCreator.php?rev=2721110#L75 "Show revision 2721110 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/ConditionCreator.php?rev=3085485#L75 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 75 | 75 | public static function getOrRuleSeparator() |
  | 76 | 76 | { |
  | 77 |  | return '<h4 class="sgpb-rules-or"><span>'.\_\_('OR', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</span></h4>'; |
  |  | 77 | return '<h4 class="sgpb-rules-or"><span>'.\_\_('OR', 'popup-builder').'</span></h4>'; |
  | 78 | 78 | } |
  | 79 | 79 |  |
  | […](/browser/popup-builder/trunk/com/classes/ConditionCreator.php?rev=2721110#L412) | […](/browser/popup-builder/trunk/com/classes/ConditionCreator.php?rev=3085485#L412) |  |
  | 412 | 412 | if (!empty($ruleElementData['saved'])) { |
  | 413 | 413 | if (isset($attr['isPostCategory'])){ |
  | 414 |  | $ruleElementData['data'] = \ConfigDataHelper::getTermsByIds($ruleElementData['saved']); |
  |  | 414 | $ruleElementData['data'] = \SGPBConfigDataHelper::getTermsByIds($ruleElementData['saved']); |
  | 415 | 415 | } elseif(isset($attr['isPostTag'])) { |
  | 416 |  | $ruleElementData['data'] = \ConfigDataHelper::getTagsByIds($ruleElementData['saved']); |
  |  | 416 | $ruleElementData['data'] = \SGPBConfigDataHelper::getTagsByIds($ruleElementData['saved']); |
  | 417 | 417 | } |
  | 418 | 418 | $savedData = $ruleElementData['saved']; |
  | […](/browser/popup-builder/trunk/com/classes/ConditionCreator.php?rev=2721110#L520) | […](/browser/popup-builder/trunk/com/classes/ConditionCreator.php?rev=3085485#L520) |  |
  | 520 | 520 | $ruleId = $conditionDataObj->getRuleId(); |
  | 521 | 521 | if (empty($hiddenOptions[$conditionName])) { |
  | 522 |  | return \_\_('No Data', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 522 | return \_\_('No Data', 'popup-builder'); |
  | 523 | 523 | } |
  | 524 | 524 |  |
  | […](/browser/popup-builder/trunk/com/classes/ConditionCreator.php?rev=2721110#L549) | […](/browser/popup-builder/trunk/com/classes/ConditionCreator.php?rev=3085485#L549) |  |
  | 549 | 549 | <?php echo wp\_kses(self::createHiddenFields($hiddenOptionsData, $conditionDataObj, $ruleId), AdminHelper::allowed\_html\_tags()); ?> |
  | 550 | 550 | <div class="modal-footer"> |
  | 551 |  | <button type="button" class="sgpb-no-button events-option-close sgpb-modal-cancel sgpb-btn sgpb-btn-gray-light" href="#"><?php esc\_html\_e('Cancel', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></button> |
  | 552 |  | <button class="sgpb-btn sgpb-btn-blue sgpb-popup-option-save"><?php esc\_html\_e('Save', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></button> |
  |  | 551 | <button type="button" class="sgpb-no-button events-option-close sgpb-modal-cancel sgpb-btn sgpb-btn-gray-light" href="#"><?php esc\_html\_e('Cancel', 'popup-builder'); ?></button> |
  |  | 552 | <button class="sgpb-btn sgpb-btn-blue sgpb-popup-option-save"><?php esc\_html\_e('Save', 'popup-builder'); ?></button> |
  | 553 | 553 | </div> |
  | 554 | 554 | </div> |
* ## [popup-builder/trunk/com/classes/ConvertToNewVersion.php](/changeset/3085485/popup-builder/trunk/com/classes/ConvertToNewVersion.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/ConvertToNewVersion.php")

  | [r2725980](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=2725980#L2 "Show revision 2725980 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=3085485#L2 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | namespace sgpb; |
  | 3 | 3 | use sgpb\AdminHelper; |
  | 4 |  | use \ConfigDataHelper; |
  |  | 4 | use \SGPBConfigDataHelper; |
  | 5 | 5 |  |
  | 6 | 6 | class ConvertToNewVersion |
  | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=2725980#L131) | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=3085485#L131) |  |
  | 131 | 131 | global $wpdb; |
  | 132 | 132 | $subscribersSql = 'SELECT `id`, `firstName`, `lastName`, `email`, `subscriptionType`, `status` from '.$wpdb->prefix.'sg\_subscribers'; |
  | 133 |  | $subscribers = $wpdb->get\_results(~~$subscribersSql~~, ARRAY\_A); |
  |  | 133 | $subscribers = $wpdb->get\_results( $wpdb->prepare( $subscribersSql ), ARRAY\_A); |
  | 134 | 134 |  |
  | 135 | 135 | if (empty($subscribers)) { |
  | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=2725980#L140) | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=3085485#L140) |  |
  | 140 | 140 | $subscriber['subscriptionType'] = $this->getPostByTitle($subscriber['subscriptionType']); |
  | 141 | 141 |  |
  | 142 |  | $date = date('Y-m-d'); |
  |  | 142 | $date = gmdate('Y-m-d'); |
  | 143 | 143 | $sql = $wpdb->prepare('INSERT INTO '.$wpdb->prefix.SGPB\_SUBSCRIBERS\_TABLE\_NAME.' (`firstName`, `lastName`, `email`, `cDate`, `subscriptionType`, `unsubscribed`) VALUES (%s, %s, %s, %s, %d, %d) ', $subscriber['firstName'], $subscriber['lastName'], $subscriber['email'], $date, $subscriber['subscriptionType'], 0); |
  | 144 | 144 | $wpdb->query($sql); |
  | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=2725980#L224) | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=3085485#L224) |  |
  | 224 | 224 |  |
  | 225 | 225 | $query = 'SELECT `id`, `type`, `title`, `options` from '.$wpdb->prefix.'sg\_popup ORDER BY id'; |
  | 226 |  | $popups = $wpdb->get\_results(~~$query~~, ARRAY\_A); |
  |  | 226 | $popups = $wpdb->get\_results( $wpdb->prepare( $query ), ARRAY\_A); |
  | 227 | 227 |  |
  | 228 | 228 | return $popups; |
  | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=2725980#L431) | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=3085485#L431) |  |
  | 431 | 431 | ); |
  | 432 | 432 |  |
  | 433 |  | $searchResults = ConfigDataHelper::getPostTypeData($args); |
  |  | 433 | $searchResults = SGPBConfigDataHelper::getPostTypeData($args); |
  | 434 | 434 | if (!empty($searchResults)) { |
  | 435 | 435 | $target['sgpb-target'][0][] = array('param' => 'page\_selected', 'operator' => '==', 'value' => $searchResults); |
  | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=2725980#L456) | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=3085485#L456) |  |
  | 456 | 456 | ); |
  | 457 | 457 |  |
  | 458 |  | $searchResults = ConfigDataHelper::getPostTypeData($args); |
  |  | 458 | $searchResults = SGPBConfigDataHelper::getPostTypeData($args); |
  | 459 | 459 | if (!empty($searchResults)) { |
  | 460 | 460 | $target['sgpb-target'][0][] = array('param' => 'post\_selected', 'operator' => '==', 'value' => $searchResults); |
  | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=2725980#L486) | […](/browser/popup-builder/trunk/com/classes/ConvertToNewVersion.php?rev=3085485#L486) |  |
  | 486 | 486 | ); |
  | 487 | 487 |  |
  | 488 |  | $searchResults = ConfigDataHelper::getPostTypeData($args); |
  |  | 488 | $searchResults = SGPBConfigDataHelper::getPostTypeData($args); |
  | 489 | 489 | if (!empty($searchResults)) { |
  | 490 | 490 | $target['sgpb-target'][0][] = array('param' => $customPostType.'\_selected', 'operator' => '==', 'value' => $searchResults); |
* ## [popup-builder/trunk/com/classes/Feedback.php](/changeset/3085485/popup-builder/trunk/com/classes/Feedback.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/Feedback.php")

  | [r2976515](/browser/popup-builder/trunk/com/classes/Feedback.php?rev=2976515#L65 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/Feedback.php?rev=3085485#L65 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 65 | 65 | $deactivateReasons = array( |
  | 66 | 66 | 'no\_longer\_needed' => array( |
  | 67 |  | 'title' => \_\_('I no longer need the plugin', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 67 | 'title' => \_\_('I no longer need the plugin', 'popup-builder'), |
  | 68 | 68 | 'input\_placeholder' => '' |
  | 69 | 69 | ), |
  | 70 | 70 | 'found\_a\_better\_plugin' => array( |
  | 71 |  | 'title' => \_\_('I found a better plugin', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 72 |  | 'input\_placeholder' => \_\_( 'Please share which plugin', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 71 | 'title' => \_\_('I found a better plugin', 'popup-builder'), |
  |  | 72 | 'input\_placeholder' => \_\_( 'Please share which plugin', 'popup-builder') |
  | 73 | 73 | ), |
  | 74 | 74 | 'couldnt\_get\_the\_plugin\_to\_work' => array( |
  | 75 |  | 'title' => \_\_('I couldn\'t get the plugin to work', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 75 | 'title' => \_\_('I couldn\'t get the plugin to work', 'popup-builder'), |
  | 76 | 76 | 'input\_placeholder' => '', |
  | 77 |  | 'extra\_help' => \_\_('Having troubles? You can always count on us. Please try to contact us via <a href="https://popup-builder.com/">Live chat</a> or send a message to <a href="mailto:support@popup-builder.com">support@popup-builder.com</a>', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 77 | 'extra\_help' => \_\_('Having troubles? You can always count on us. Please try to contact us via <a href="https://popup-builder.com/">Live chat</a> or send a message to <a href="mailto:support@popup-builder.com">support@popup-builder.com</a>', 'popup-builder') |
  | 78 | 78 | ), |
  | 79 | 79 | 'temporary\_deactivation' => array( |
  | 80 |  | 'title' => \_\_('It\'s a temporary deactivation', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 80 | 'title' => \_\_('It\'s a temporary deactivation', 'popup-builder'), |
  | 81 | 81 | 'input\_placeholder' => '' |
  | 82 | 82 | ), |
  | 83 | 83 | 'other' => array( |
  | 84 |  | 'title' => \_\_('Other', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 85 |  | 'input\_placeholder' => \_\_('Please share the reason', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 84 | 'title' => \_\_('Other', 'popup-builder'), |
  |  | 85 | 'input\_placeholder' => \_\_('Please share the reason', 'popup-builder'), |
  | 86 | 86 | ) |
  | 87 | 87 | ); |
  | […](/browser/popup-builder/trunk/com/classes/Feedback.php?rev=2976515#L94) | […](/browser/popup-builder/trunk/com/classes/Feedback.php?rev=3085485#L94) |  |
  | 94 | 94 | <div class="col-sm-3 sgpb-add-subscriber-header-column"> |
  | 95 | 95 | <h4> |
  | 96 |  | <?php esc\_html\_e('Quick Feedback', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 96 | <?php esc\_html\_e('Quick Feedback', 'popup-builder')?> |
  | 97 | 97 | </h4> |
  | 98 | 98 | </div> |
  | […](/browser/popup-builder/trunk/com/classes/Feedback.php?rev=2976515#L105) | […](/browser/popup-builder/trunk/com/classes/Feedback.php?rev=3085485#L105) |  |
  | 105 | 105 | <div class="col-md-12"> |
  | 106 | 106 | <h4 class="sgpb-feedback-descritpion"> |
  | 107 |  | <?php ~~\_e('If you have a moment, please share why you are deactivating <b>Popup Builder</b>', SG\_POPUP\_TEXT\_DOMAIN~~)?>: |
  |  | 107 | <?php esc\_html\_e('If you have a moment, please share why you are deactivating <b>Popup Builder</b>', 'popup-builder')?>: |
  | 108 | 108 | </h4> |
  | 109 |  | <p class="sgpb-feedback-error-message sg-hide-element"><?php esc\_html\_e('Please, select an option.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></p> |
  |  | 109 | <p class="sgpb-feedback-error-message sg-hide-element"><?php esc\_html\_e('Please, select an option.', 'popup-builder')?></p> |
  | 110 | 110 | </div> |
  | 111 | 111 | </div> |
  | […](/browser/popup-builder/trunk/com/classes/Feedback.php?rev=2976515#L131) | […](/browser/popup-builder/trunk/com/classes/Feedback.php?rev=3085485#L131) |  |
  | 131 | 131 | <div class="row sgpb-feedback-btns-wrapper"> |
  | 132 | 132 | <div class="col-md-6"> |
  | 133 |  | <input type="button" class="btn btn-sm btn-success sgpb-feedback-submit" name="sgpb-feedback-submit" value="<?php esc\_html\_e('Submit & Deactivate', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>"> |
  |  | 133 | <input type="button" class="btn btn-sm btn-success sgpb-feedback-submit" name="sgpb-feedback-submit" value="<?php esc\_html\_e('Submit & Deactivate', 'popup-builder'); ?>"> |
  | 134 | 134 | </div> |
  | 135 | 135 | <div class="col-md-6"> |
  | 136 |  | <input type="button" class="btn btn-sm sgpb-feedback-submit-skip" name="sgpb-feedback-submit-skip" value="<?php esc\_html\_e('Skip & Deactivate', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>"> |
  |  | 136 | <input type="button" class="btn btn-sm sgpb-feedback-submit-skip" name="sgpb-feedback-submit-skip" value="<?php esc\_html\_e('Skip & Deactivate', 'popup-builder'); ?>"> |
  | 137 | 137 | </div> |
  | 138 | 138 | </div> |
* ## [popup-builder/trunk/com/classes/Filters.php](/changeset/3085485/popup-builder/trunk/com/classes/Filters.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/Filters.php")

  | [r2976515](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L175 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L175 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 175 | 175 | $allExtensions = \SgpbDataConfig::allExtensionsKeys(); |
  | 176 | 176 | $allExtensions = wp\_list\_pluck($allExtensions, 'pluginKey'); |
  | 177 |  | $allExtensions[] = SG\_POPUP\_FILE\_NAME; |
  |  | 177 | $allExtensions[] = SGPB\_POPUP\_FILE\_NAME; |
  | 178 | 178 |  |
  | 179 | 179 | $rowMeta = array( |
  | 180 |  | 'rateus' => '<a href="'.SG\_POPUP\_RATE\_US\_URL.'" target="\_blank">'.esc\_html\_\_('Rate us', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a>', |
  | 181 |  | 'support' => '<a href="'.SG\_POPUP\_SUPPORT\_URL.'" target="\_blank">'.esc\_html\_\_('Support', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a>' |
  |  | 180 | 'rateus' => '<a href="'.SG\_POPUP\_RATE\_US\_URL.'" target="\_blank">'.esc\_html\_\_('Rate us', 'popup-builder').'</a>', |
  |  | 181 | 'support' => '<a href="'.SG\_POPUP\_SUPPORT\_URL.'" target="\_blank">'.esc\_html\_\_('Support', 'popup-builder').'</a>' |
  | 182 | 182 | ); |
  | 183 | 183 |  |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L198) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L198) |  |
  | 198 | 198 | $allExtensions = \SgpbDataConfig::allExtensionsKeys(); |
  | 199 | 199 | $allExtensions = wp\_list\_pluck($allExtensions, 'pluginKey'); |
  | 200 |  | $allExtensions[] = SG\_POPUP\_FILE\_NAME; |
  |  | 200 | $allExtensions[] = SGPB\_POPUP\_FILE\_NAME; |
  | 201 | 201 |  |
  | 202 | 202 | $settingPageUrl = admin\_url().'edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'&page='.SG\_POPUP\_SETTINGS\_PAGE; |
  | 203 | 203 |  |
  | 204 | 204 | $links = array( |
  | 205 |  | 'settings' => '<a href="'.$settingPageUrl.'" target="\_blank">'.esc\_html\_\_('Settings', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a>', |
  | 206 |  | 'docs' => '<a href="'.SG\_POPUP\_TICKET\_URL.'" target="\_blank">'.esc\_html\_\_('Docs', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a>' |
  |  | 205 | 'settings' => '<a href="'.$settingPageUrl.'" target="\_blank">'.esc\_html\_\_('Settings', 'popup-builder').'</a>', |
  |  | 206 | 'docs' => '<a href="'.SG\_POPUP\_TICKET\_URL.'" target="\_blank">'.esc\_html\_\_('Docs', 'popup-builder').'</a>' |
  | 207 | 207 | ); |
  | 208 | 208 |  |
  | 209 | 209 | if (in\_array($pluginFile, $allExtensions)) { |
  | 210 |  | if ($pluginFile == SG\_POPUP\_FILE\_NAME) { |
  |  | 210 | if ($pluginFile == SGPB\_POPUP\_FILE\_NAME) { |
  | 211 | 211 | $getActiveExtensions = AdminHelper::getAllExtensions(); |
  | 212 | 212 | if (empty($getActiveExtensions['active'])) { |
  | 213 |  | $links['upgrade'] = '<a style="color: #4364eb;" href="'.SG\_POPUP\_BUNDLE\_URL.'" target="\_blank">'.esc\_html\_\_('Upgrade', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a>'; |
  |  | 213 | $links['upgrade'] = '<a style="color: #4364eb;" href="'.SG\_POPUP\_BUNDLE\_URL.'" target="\_blank">'.esc\_html\_\_('Upgrade', 'popup-builder').'</a>'; |
  | 214 | 214 | } |
  | 215 | 215 | } |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L329) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L329) |  |
  | 329 | 329 | if ($hasInactiveExtensions && $inactive == 'inactive') { |
  | 330 | 330 | $licenseSectionUrl = menu\_page\_url(SGPB\_POPUP\_LICENSE, false); |
  | 331 |  | $partOfContent = '<br><br>'.\_\_('<a href="'.$licenseSectionUrl.'">Follow the link</a> to finalize the activation.', SG\_POPUP\_TEXT\_DOMAIN); |
  | 332 |  | $message = '<b>'.\_\_('Thank you for choosing our plugin!', SG\_POPUP\_TEXT\_DOMAIN).'</b>'; |
  |  | 331 | /\* translators: license Section Url. \*/ |
  |  | 332 | $partOfContent = '<br><br>'.printf( wp\_kses\_post(\_\_('<a href="%s">Follow the link</a> to finalize the activation.', 'popup-builder')) ,esc\_url( $licenseSectionUrl ) ); |
  |  | 333 | $message = '<b>'.\_\_('Thank you for choosing our plugin!', 'popup-builder').'</b>'; |
  | 333 | 334 | $message .= '<br>'; |
  | 334 | 335 | $message .= '<br>'; |
  | 335 |  | $message .= '<b>'.\_\_('You have activated Popup Builder extension(s). Please, don\'t forget to activate the license key(s) as well.', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</b>'; |
  |  | 336 | $message .= '<b>'.\_\_('You have activated Popup Builder extension(s). Please, don\'t forget to activate the license key(s) as well.', 'popup-builder').'</b>'; |
  | 336 | 337 | $message .= '<b>'.$partOfContent.'</b>'; |
  | 337 | 338 |  |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L414) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L415) |  |
  | 414 | 415 | if (!$otherConditionsCanBeUsed) { |
  | 415 | 416 | $otherConditionsProLabel .= '<a href="'.SG\_POPUP\_SCHEDULING\_URL.'" target="\_blank" class="sgpb-pro-label-metabox">'; |
  | 416 |  | $otherConditionsProLabel .= \_\_('UNLOCK OPTION', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a>'; |
  |  | 417 | $otherConditionsProLabel .= \_\_('UNLOCK OPTION', 'popup-builder').'</a>'; |
  | 417 | 418 | } |
  | 418 | 419 | $metaboxes['allMetaboxesView'] = array( |
  | 419 | 420 | 'key' => 'allMetaboxesView', |
  | 420 |  | 'displayName' => ~~'Main Options'~~, |
  |  | 421 | 'displayName' => \_\_('Main Options', 'popup-builder'), |
  | 421 | 422 | 'short\_description' => 'main options', |
  | 422 | 423 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'allMetaboxesView.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L426) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L427) |  |
  | 426 | 427 | $metaboxes['targetMetaboxView'] = array( |
  | 427 | 428 | 'key' => 'targetMetaboxView', |
  | 428 |  | 'displayName' => ~~'Display Rules'~~, |
  |  | 429 | 'displayName' => \_\_('Display Rules', 'popup-builder'), |
  | 429 | 430 | 'short\_description' => 'Select where on the website to trigger the popup', |
  | 430 | 431 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'targetView.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L434) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L435) |  |
  | 434 | 435 | $metaboxes['eventsMetaboxView'] = array( |
  | 435 | 436 | 'key' => 'eventsMetaboxView', |
  | 436 |  | 'displayName' => ~~'Events'~~, |
  |  | 437 | 'displayName' => \_\_('Events', 'popup-builder'), |
  | 437 | 438 | 'short\_description' => 'Select the specific actions that will trigger the popup, default event is on load', |
  | 438 | 439 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'eventsView.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L442) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L443) |  |
  | 442 | 443 | $metaboxes['conditionsMetaboxView'] = array( |
  | 443 | 444 | 'key' => 'conditionsMetaboxView', |
  | 444 |  | 'displayName' => ~~'Conditions'~~, |
  |  | 445 | 'displayName' => \_\_('Conditions', 'popup-builder'), |
  | 445 | 446 | 'short\_description' => 'Select advanced conditions for more professional targeting', |
  | 446 | 447 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'conditionsView.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L450) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L451) |  |
  | 450 | 451 | $metaboxes['behaviorAfterSpecialEventsMetaboxView'] = array( |
  | 451 | 452 | 'key' => 'behaviorAfterSpecialEventsMetaboxView', |
  | 452 |  | 'displayName' => ~~'Behavior After Special Events'~~, |
  |  | 453 | 'displayName' => \_\_('Behavior After Special Events', 'popup-builder'), |
  | 453 | 454 | 'short\_description' => 'Select special events that will trigger the popup', |
  | 454 | 455 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'behaviorAfterSpecialEventsView.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L458) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L459) |  |
  | 458 | 459 | $metaboxes['popupDesignMetaBoxView'] = array( |
  | 459 | 460 | 'key' => 'popupDesignMetaBoxView', |
  | 460 |  | 'displayName' => ~~'Design'~~, |
  |  | 461 | 'displayName' => \_\_('Design', 'popup-builder'), |
  | 461 | 462 | 'short\_description' => 'Customize design, background and overlay of the popup', |
  | 462 | 463 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'popupDesignView.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L466) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L467) |  |
  | 466 | 467 | $metaboxes['closeSettings'] = array( |
  | 467 | 468 | 'key' => 'closeSettings', |
  | 468 |  | 'displayName' => ~~'Closing'~~, |
  |  | 469 | 'displayName' => \_\_('Closing', 'popup-builder'), |
  | 469 | 470 | 'short\_description' => 'Select the desired popup closing method, customize close button', |
  | 470 | 471 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'closeSettingsView.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L474) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L475) |  |
  | 474 | 475 | $metaboxes['dimensions'] = array( |
  | 475 | 476 | 'key' => 'dimensions', |
  | 476 |  | 'displayName' => ~~'Dimensions'~~, |
  |  | 477 | 'displayName' => \_\_('Dimensions', 'popup-builder'), |
  | 477 | 478 | 'short\_description' => 'Make your popup mobile friendly and responsive for all devices', |
  | 478 | 479 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'dimensionsView.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L482) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L483) |  |
  | 482 | 483 | $metaboxes['optionsMetaboxView'] = array( |
  | 483 | 484 | 'key' => 'optionsMetaboxView', |
  | 484 |  | 'displayName' => ~~'Advanced'~~, |
  |  | 485 | 'displayName' => \_\_('Advanced', 'popup-builder'), |
  | 485 | 486 | 'short\_description' => 'Use advanced features for popup animations, opening and closing actions', |
  | 486 | 487 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'optionsView.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L498) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L499) |  |
  | 498 | 499 | $metaboxes['floatingButton'] = array( |
  | 499 | 500 | 'key' => 'floatingButton', |
  | 500 |  | 'displayName' => ~~'Floating Button'~~, |
  |  | 501 | 'displayName' => \_\_('Floating Button', 'popup-builder'), |
  | 501 | 502 | 'short\_description' => 'Set the popup to appear on a scrollable call to action button', |
  | 502 | 503 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'floatingButton.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L507) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L508) |  |
  | 507 | 508 | $metaboxes['popupOpeningCounter'] = array( |
  | 508 | 509 | 'key' => 'popupOpeningCounter', |
  | 509 |  | 'displayName' => ~~'Statistics'~~, |
  |  | 510 | 'displayName' => \_\_('Statistics', 'popup-builder'), |
  | 510 | 511 | 'short\_description' => 'Enable or disable the counts of the popup', |
  | 511 | 512 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'popupOpeningCounter.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L516) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L517) |  |
  | 516 | 517 | $metaboxes['customCssJs'] = array( |
  | 517 | 518 | 'key' => 'customCssJs', |
  | 518 |  | 'displayName' => ~~'Custom JS or CSS'~~, |
  |  | 519 | 'displayName' => \_\_('Custom JS or CSS', 'popup-builder'), |
  | 519 | 520 | 'short\_description' => 'Add custom JS and/or CSS code for extra control', |
  | 520 | 521 | 'filePath' => SG\_POPUP\_VIEWS\_PATH.'customEditor.php', |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L794) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L795) |  |
  | 794 | 795 |  |
  | 795 | 796 | $additionalItems = array(); |
  | 796 |  | $additionalItems['counter'] = \_\_('Views', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  | 797 |  | $additionalItems['onOff'] = \_\_('Status', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 797 | $additionalItems['counter'] = \_\_('Views', 'popup-builder'); |
  |  | 798 | $additionalItems['onOff'] = \_\_('Status', 'popup-builder'); |
  | 798 | 799 | $filterColumnsDisplaySettings = apply\_filters('sgpbAddRandomColumnIntoAllPopupsViewTable', $additionalItems); |
  | 799 | 800 |  |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L802) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L803) |  |
  | 802 | 803 | } |
  | 803 | 804 |  |
  | 804 |  | $additionalItems['type'] = \_\_('Type', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  | 805 |  | $additionalItems['shortcode'] = \_\_('Shortcode', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  | 806 |  | $additionalItems['className'] = \_\_('Class', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  | 807 |  | $additionalItems['options'] = \_\_('Actions', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 805 | $additionalItems['type'] = \_\_('Type', 'popup-builder'); |
  |  | 806 | $additionalItems['shortcode'] = \_\_('Shortcode', 'popup-builder'); |
  |  | 807 | $additionalItems['className'] = \_\_('Class', 'popup-builder'); |
  |  | 808 | $additionalItems['options'] = \_\_('Actions', 'popup-builder'); |
  | 808 | 809 |  |
  | 809 | 810 | return $columns + $additionalItems; |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L827) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L828) |  |
  | 827 | 828 |  |
  | 828 | 829 | $actions['clone'] = '<a href="'.$url.'" title="'; |
  | 829 |  | $actions['clone'] .= esc\_attr\_\_("Clone this item", ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  | 830 |  | $actions['clone'] .= '">'. esc\_html\_\_('Clone', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a>'; |
  |  | 830 | $actions['clone'] .= esc\_attr\_\_("Clone this item", 'popup-builder'); |
  |  | 831 | $actions['clone'] .= '">'. esc\_html\_\_('Clone', 'popup-builder').'</a>'; |
  | 831 | 832 |  |
  | 832 | 833 | return $actions; |
  | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=2976515#L868) | […](/browser/popup-builder/trunk/com/classes/Filters.php?rev=3085485#L869) |  |
  | 868 | 869 | public function sgpbAdminCssFiles($cssFiles) |
  | 869 | 870 | { |
  | 870 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'sgbp-bootstrap.css', 'dep' => array(), 'ver' => SG\_POPUP\_VERSION, 'inFooter' => false); |
  | 871 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'select2.min.css', 'dep' => array(), 'ver' => SG\_POPUP\_VERSION, 'inFooter' => false); |
  | 872 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'popupAdminStyles.css', 'dep' => array(), 'ver' => SG\_POPUP\_VERSION, 'inFooter' => false); |
  |  | 871 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'sgbp-bootstrap.css', 'dep' => array(), 'ver' => SGPB\_POPUP\_VERSION, 'inFooter' => false); |
  |  | 872 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'select2.min.css', 'dep' => array(), 'ver' => SGPB\_POPUP\_VERSION, 'inFooter' => false); |
  |  | 873 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'popupAdminStyles.css', 'dep' => array(), 'ver' => SGPB\_POPUP\_VERSION, 'inFooter' => false); |
  | 873 | 874 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'newDesignFromBuild.css', 'dep' => array(), 'ver' => rand(1, 10000), 'inFooter' => false); |
  | 874 | 875 |  |
* ## [popup-builder/trunk/com/classes/Installer.php](/changeset/3085485/popup-builder/trunk/com/classes/Installer.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/Installer.php")

  | [r2466445](/browser/popup-builder/trunk/com/classes/Installer.php?rev=2466445#L190 "Show revision 2466445 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/Installer.php?rev=3085485#L190 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 190 | 190 | INNER JOIN ' . $wpdb->term\_taxonomy . ' AS tt |
  | 191 | 191 | ON t.term\_id = tt.term\_id |
  | 192 |  | WHERE tt.taxonomy = ~~"'.esc\_sql($taxonomy).'"~~'; |
  | 193 |  |  |
  | 194 |  | $terms = $wpdb->get\_results(~~$customTermsQuery~~); |
  |  | 192 | WHERE tt.taxonomy =  %s'; |
  |  | 193 |  |
  |  | 194 | $terms = $wpdb->get\_results( $wpdb->prepare( $customTermsQuery , esc\_sql($taxonomy) ) ); |
  | 195 | 195 |  |
  | 196 | 196 | $terms = apply\_filters('sgpbDeleteTerms', $terms); |
  | […](/browser/popup-builder/trunk/com/classes/Installer.php?rev=2466445#L307) | […](/browser/popup-builder/trunk/com/classes/Installer.php?rev=3085485#L307) |  |
  | 307 | 307 | public static function registerPlugin() |
  | 308 | 308 | { |
  | 309 |  | $pluginName = SG\_POPUP\_FILE\_NAME; |
  |  | 309 | $pluginName = SGPB\_POPUP\_FILE\_NAME; |
  | 310 | 310 | $classPath = SG\_POPUP\_EXTENSION\_PATH.'SgpbPopupExtension.php'; |
  | 311 | 311 | $className = 'SgpbPopupExtension'; |
  | […](/browser/popup-builder/trunk/com/classes/Installer.php?rev=2466445#L317) | […](/browser/popup-builder/trunk/com/classes/Installer.php?rev=3085485#L317) |  |
  | 317 | 317 | 'key' => SG\_POPUP\_KEY, |
  | 318 | 318 | 'storeURL' => SG\_POPUP\_STORE\_URL, |
  | 319 |  | 'file' => SG\_POPUP\_FILE\_NAME, |
  |  | 319 | 'file' => SGPB\_POPUP\_FILE\_NAME, |
  | 320 | 320 | 'itemId' => SGPB\_ITEM\_ID, |
  | 321 |  | 'itemName' => \_\_('Popup Builder', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 321 | 'itemName' => \_\_('Popup Builder', 'popup-builder'), |
  | 322 | 322 | 'autor' => SG\_POPUP\_AUTHOR, |
  | 323 |  | 'boxLabel' => \_\_('Popup Builder License', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 323 | 'boxLabel' => \_\_('Popup Builder License', 'popup-builder') |
  | 324 | 324 | ) |
  | 325 | 325 | ); |
* ## [popup-builder/trunk/com/classes/Javascript.php](/changeset/3085485/popup-builder/trunk/com/classes/Javascript.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/Javascript.php")

  | [r2585890](/browser/popup-builder/trunk/com/classes/Javascript.php?rev=2585890#L123 "Show revision 2585890 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/Javascript.php?rev=3085485#L123 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 123 | 123 | if (version\_compare($wp\_version, '4.5', '>')){ |
  | 124 | 124 | /\* after wp 4.5 version \*/ |
  | 125 |  | ScriptsIncluder::addInlineScripts($localizeData['handle'], 'var '.$localizeData['name'].' = ' .json\_encode($localizeData['data']).';' ); |
  |  | 125 | ScriptsIncluder::addInlineScripts($localizeData['handle'], 'var '.$localizeData['name'].' = ' .wp\_json\_encode($localizeData['data']).';' ); |
  | 126 | 126 | } else { |
  | 127 | 127 | /\* since wp 4.5 version \*/ |
* ## [popup-builder/trunk/com/classes/MediaButton.php](/changeset/3085485/popup-builder/trunk/com/classes/MediaButton.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/MediaButton.php")

  | [r2725980](/browser/popup-builder/trunk/com/classes/MediaButton.php?rev=2725980#L63 "Show revision 2725980 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/MediaButton.php?rev=3085485#L63 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 63 | 63 | } |
  | 64 | 64 |  |
  | 65 |  | $buttonTitle = \_\_('Insert custom JS variable', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 65 | $buttonTitle = \_\_('Insert custom JS variable', 'popup-builder'); |
  | 66 | 66 | ob\_start(); |
  | 67 | 67 | @include(SG\_POPUP\_VIEWS\_PATH.'jsVariableView.php'); |
  | […](/browser/popup-builder/trunk/com/classes/MediaButton.php?rev=2725980#L114) | […](/browser/popup-builder/trunk/com/classes/MediaButton.php?rev=3085485#L114) |  |
  | 114 | 114 | } |
  | 115 | 115 |  |
  | 116 |  | $buttonTitle = \_\_('Insert popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 116 | $buttonTitle = \_\_('Insert popup', 'popup-builder'); |
  | 117 | 117 |  |
  | 118 | 118 | $img = '<span class="dashicons dashicons-welcome-widgets-menus" style="padding: 3px 2px 0px 0px"></span>'; |
* ## [popup-builder/trunk/com/classes/NotificationCenter.php](/changeset/3085485/popup-builder/trunk/com/classes/NotificationCenter.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/NotificationCenter.php")

  | [r2725980](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=2725980#L70 "Show revision 2725980 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=3085485#L70 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 | update\_option('sgpb-all-dismissed-notifications', array()); |
  | 71 | 71 | }\*/ |
  | 72 |  | $content = json\_encode($content); |
  |  | 72 | $content = wp\_json\_encode($content); |
  | 73 | 73 | update\_option('sgpb-all-notifications-data', $content); |
  | 74 | 74 | } |
  | […](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=2725980#L88) | […](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=3085485#L88) |  |
  | 88 | 88 | $notifications[$id] = $id; |
  | 89 | 89 | } |
  | 90 |  | update\_option('sgpb-all-active-notifications', json\_encode($notifications)); |
  |  | 90 | update\_option('sgpb-all-active-notifications', wp\_json\_encode($notifications)); |
  | 91 | 91 | } |
  | 92 | 92 | } |
  | […](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=2725980#L96) | […](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=3085485#L96) |  |
  | 96 | 96 | $schedules['sgpb\_notifications'] = array( |
  | 97 | 97 | 'interval' => SGPB\_NOTIFICATIONS\_CRON\_REPEAT\_INTERVAL \* 3600, |
  | 98 |  | 'display' => \_\_('Twice Daily', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 98 | 'display' => \_\_('Twice Daily', 'popup-builder') |
  | 99 | 99 | ); |
  | 100 | 100 |  |
  | […](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=2725980#L238) | […](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=3085485#L238) |  |
  | 238 | 238 | $allDismissedNotifications = self::getAllDismissedNotifications(); |
  | 239 | 239 | $allDismissedNotifications[$notificationId] = $notificationId; |
  | 240 |  | $allDismissedNotifications = json\_encode($allDismissedNotifications); |
  |  | 240 | $allDismissedNotifications = wp\_json\_encode($allDismissedNotifications); |
  | 241 | 241 |  |
  | 242 | 242 | update\_option('sgpb-all-dismissed-notifications', $allDismissedNotifications); |
  | […](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=2725980#L257) | […](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=3085485#L257) |  |
  | 257 | 257 | $allRemovedNotifications = self::getAllRemovedNotifications(); |
  | 258 | 258 | $allRemovedNotifications[$notificationId] = $notificationId; |
  | 259 |  | $allRemovedNotifications = json\_encode($allRemovedNotifications); |
  |  | 259 | $allRemovedNotifications = wp\_json\_encode($allRemovedNotifications); |
  | 260 | 260 |  |
  | 261 | 261 | update\_option('sgpb-all-removed-notifications', $allRemovedNotifications); |
  | […](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=2725980#L275) | […](/browser/popup-builder/trunk/com/classes/NotificationCenter.php?rev=3085485#L275) |  |
  | 275 | 275 | unset($allDismissedNotifications[$notificationId]); |
  | 276 | 276 | } |
  | 277 |  | $allDismissedNotifications = json\_encode($allDismissedNotifications); |
  |  | 277 | $allDismissedNotifications = wp\_json\_encode($allDismissedNotifications); |
  | 278 | 278 |  |
  | 279 | 279 | update\_option('sgpb-all-dismissed-notifications', $allDismissedNotifications); |
* ## [popup-builder/trunk/com/classes/PopupChecker.php](/changeset/3085485/popup-builder/trunk/com/classes/PopupChecker.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/PopupChecker.php")

  | [r2725980](/browser/popup-builder/trunk/com/classes/PopupChecker.php?rev=2725980#L3 "Show revision 2725980 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/PopupChecker.php?rev=3085485#L3 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | use \DateTime; |
  | 4 | 4 | use \DateTimeZone; |
  | 5 |  | use \ConfigDataHelper; |
  |  | 5 | use \SGPBConfigDataHelper; |
  | 6 | 6 |  |
  | 7 | 7 | /\*\* |
* ## [popup-builder/trunk/com/classes/RegisterPostType.php](/changeset/3085485/popup-builder/trunk/com/classes/RegisterPostType.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/RegisterPostType.php")

  | [r2688891](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L88 "Show revision 2688891 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L88 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 88 | 88 | $count = ''; |
  | 89 | 89 | $labels = array( |
  | 90 |  | 'name'               => \_x('Popup Builder', 'post type general name', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 91 |  | 'singular\_name'      => \_x('Popup', 'post type singular name', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 92 |  | 'menu\_name'          => \_x('Popup Builder', 'admin menu', ~~SG\_POPUP\_TEXT\_DOMAIN~~).$count, |
  | 93 |  | 'name\_admin\_bar'     => \_x('Popup', 'add new on admin bar', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 94 |  | 'add\_new'            => \_x('Add New', 'Popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 95 |  | 'add\_new\_item'       => \_\_('Add New Popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 96 |  | 'new\_item'           => \_\_('New Popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 97 |  | 'edit\_item'          => \_\_('Edit Popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 98 |  | 'view\_item'          => \_\_('View Popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 99 |  | 'all\_items'          => \_\_('All Popups', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 100 |  | 'search\_items'       => \_\_('Search', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 101 |  | 'parent\_item\_colon'  => \_\_('Parent Popups:', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 102 |  | 'not\_found'          => \_\_('No popups found.', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 103 |  | 'not\_found\_in\_trash' => \_\_('No popups found in Trash.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 90 | 'name'               => \_x('Popup Builder', 'post type general name', 'popup-builder'), |
  |  | 91 | 'singular\_name'      => \_x('Popup', 'post type singular name', 'popup-builder'), |
  |  | 92 | 'menu\_name'          => \_x('Popup Builder', 'admin menu', 'popup-builder').$count, |
  |  | 93 | 'name\_admin\_bar'     => \_x('Popup', 'add new on admin bar', 'popup-builder'), |
  |  | 94 | 'add\_new'            => \_x('Add New', 'Popup', 'popup-builder'), |
  |  | 95 | 'add\_new\_item'       => \_\_('Add New Popup', 'popup-builder'), |
  |  | 96 | 'new\_item'           => \_\_('New Popup', 'popup-builder'), |
  |  | 97 | 'edit\_item'          => \_\_('Edit Popup', 'popup-builder'), |
  |  | 98 | 'view\_item'          => \_\_('View Popup', 'popup-builder'), |
  |  | 99 | 'all\_items'          => \_\_('All Popups', 'popup-builder'), |
  |  | 100 | 'search\_items'       => \_\_('Search', 'popup-builder'), |
  |  | 101 | 'parent\_item\_colon'  => \_\_('Parent Popups:', 'popup-builder'), |
  |  | 102 | 'not\_found'          => \_\_('No popups found.', 'popup-builder'), |
  |  | 103 | 'not\_found\_in\_trash' => \_\_('No popups found in Trash.', 'popup-builder') |
  | 104 | 104 | ); |
  | 105 | 105 |  |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L137) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L137) |  |
  | 137 | 137 |  |
  | 138 | 138 | $this->createPopupObjFromPopupType(); |
  |  | 139 |  |
  |  | 140 |  |
  | 139 | 141 | } |
  | 140 | 142 |  |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L204) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L206) |  |
  | 204 | 206 |  |
  | 205 | 207 | if (!file\_exists($typePath.$popupClassName.'.php')) { |
  | 206 |  | die(esc\_html\_\_('Popup class does not exist', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 208 | die(esc\_html\_\_('Popup class does not exist', 'popup-builder')); |
  | 207 | 209 | } |
  | 208 | 210 | require\_once($typePath.$popupClassName.'.php'); |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L212) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L214) |  |
  | 212 | 214 | $popupTypeObj->setType($popupType); |
  | 213 | 215 | $this->setPopupTypeObj($popupTypeObj); |
  | 214 |  |  |
  | 215 | 216 | $popupTypeMainView = $popupTypeObj->getPopupTypeMainView(); |
  |  | 217 |  |
  | 216 | 218 | $popupTypeViewData = $popupTypeObj->getPopupTypeOptionsView(); |
  | 217 | 219 |  |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L228) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L230) |  |
  | 228 | 230 | add\_action('add\_meta\_boxes', array($this, 'rightBannerMetabox')); |
  | 229 | 231 | }\*/ |
  |  | 232 |  |
  | 230 | 233 | } |
  | 231 | 234 |  |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L239) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L242) |  |
  | 239 | 242 | add\_meta\_box( |
  | 240 | 243 | 'popupTypeRightBannerView', |
  | 241 |  | \_\_('News', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 244 | \_\_('News', 'popup-builder'), |
  | 242 | 245 | array($this, 'popupTypeRightBannerView'), |
  | 243 | 246 | SG\_POPUP\_POST\_TYPE, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L255) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L258) |  |
  | 255 | 258 | $metaboxes['popupTypeMainView'] = array( |
  | 256 | 259 | 'key' => 'popupTypeMainView', |
  | 257 |  | 'displayName' => \_\_($optionsView['metaboxTitle'], SG\_POPUP\_TEXT\_DOMAIN), |
  |  | 260 | /\* translators: metabox Title. \*/ |
  |  | 261 | 'displayName' => sprintf( '%s', $optionsView['metaboxTitle']), |
  | 258 | 262 | 'filePath' => $optionsView['filePath'], |
  | 259 | 263 | 'short\_description' => $optionsView['short\_description'], |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L272) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L276) |  |
  | 272 | 276 | add\_meta\_box( |
  | 273 | 277 | 'popupTypeMainView', |
  | 274 |  | ~~\_\_($optionsView['metaboxTitle'], SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 278 | sprintf( '%s', $optionsView['metaboxTitle']), |
  | 275 | 279 | array($this, 'popupTypeMainView'), |
  | 276 | 280 | SG\_POPUP\_POST\_TYPE, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L287) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L291) |  |
  | 287 | 291 | $metaboxes['popupTypeOptionsView'] = array( |
  | 288 | 292 | 'key' => 'popupTypeOptionsView', |
  | 289 |  | 'displayName' => \_\_($optionsView['metaboxTitle'], SG\_POPUP\_TEXT\_DOMAIN), |
  |  | 293 | /\* translators: metabox Title. \*/ |
  |  | 294 | 'displayName' => sprintf( '%s', $optionsView['metaboxTitle']), |
  | 290 | 295 | 'short\_description' => $optionsView['short\_description'], |
  | 291 | 296 | 'filePath' => $optionsView['filePath'], |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L304) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L309) |  |
  | 304 | 309 | add\_meta\_box( |
  | 305 | 310 | 'popupTypeOptionsView', |
  | 306 |  | \_\_($optionsView['metaboxTitle'], SG\_POPUP\_TEXT\_DOMAIN), |
  |  | 311 | /\* translators: metabox Title. \*/ |
  |  | 312 | sprintf( '%s', $optionsView['metaboxTitle']), |
  | 307 | 313 | array($this, 'popupTypeOptionsView'), |
  | 308 | 314 | SG\_POPUP\_POST\_TYPE, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L316) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L322) |  |
  | 316 | 322 | add\_submenu\_page( |
  | 317 | 323 | 'edit.php?post\_type='.SG\_POPUP\_POST\_TYPE, |
  | 318 |  | \_\_('Settings', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 319 |  | \_\_('Settings', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 324 | \_\_('Settings', 'popup-builder'), |
  |  | 325 | \_\_('Settings', 'popup-builder'), |
  | 320 | 326 | 'manage\_options', |
  | 321 | 327 | SG\_POPUP\_SETTINGS\_PAGE, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L325) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L331) |  |
  | 325 | 331 | add\_submenu\_page( |
  | 326 | 332 | 'edit.php?post\_type='.SG\_POPUP\_POST\_TYPE, |
  | 327 |  | \_\_('Extend', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 328 |  | \_\_('Extend', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 333 | \_\_('Extend', 'popup-builder'), |
  |  | 334 | \_\_('Extend', 'popup-builder'), |
  | 329 | 335 | 'sgpb\_manage\_options', |
  | 330 | 336 | SG\_POPUP\_EXTEND\_PAGE, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L334) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L340) |  |
  | 334 | 340 | add\_submenu\_page( |
  | 335 | 341 | 'edit.php?post\_type='.SG\_POPUP\_POST\_TYPE, |
  | 336 |  | \_\_('Support', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 337 |  | \_\_('Support', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 342 | \_\_('Support', 'popup-builder'), |
  |  | 343 | \_\_('Support', 'popup-builder'), |
  | 338 | 344 | 'sgpb\_manage\_options', |
  | 339 | 345 | SG\_POPUP\_SUPPORT\_PAGE, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L346) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L352) |  |
  | 346 | 352 | add\_submenu\_page( |
  | 347 | 353 | 'edit.php?post\_type='.SG\_POPUP\_POST\_TYPE, |
  | 348 |  | \_\_('Add New', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 349 |  | \_\_('Add New', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 354 | \_\_('Add New', 'popup-builder'), |
  |  | 355 | \_\_('Add New', 'popup-builder'), |
  | 350 | 356 | 'sgpb\_manage\_options', |
  | 351 | 357 | SG\_POPUP\_POST\_TYPE, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L355) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L361) |  |
  | 355 | 361 | add\_submenu\_page( |
  | 356 | 362 | 'edit.php?post\_type='.SG\_POPUP\_POST\_TYPE, |
  | 357 |  | \_\_('All Subscribers', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 358 |  | \_\_('All Subscribers', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 363 | \_\_('All Subscribers', 'popup-builder'), |
  |  | 364 | \_\_('All Subscribers', 'popup-builder'), |
  | 359 | 365 | 'sgpb\_manage\_options', |
  | 360 | 366 | SG\_POPUP\_SUBSCRIBERS\_PAGE, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L364) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L370) |  |
  | 364 | 370 | add\_submenu\_page( |
  | 365 | 371 | 'edit.php?post\_type='.SG\_POPUP\_POST\_TYPE, |
  | 366 |  | \_\_('Newsletter', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 367 |  | \_\_('Newsletter', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 372 | \_\_('Newsletter', 'popup-builder'), |
  |  | 373 | \_\_('Newsletter', 'popup-builder'), |
  | 368 | 374 | 'sgpb\_manage\_options', |
  | 369 | 375 | SG\_POPUP\_NEWSLETTER\_PAGE, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L386) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L392) |  |
  | 386 | 392 | add\_meta\_box( |
  | 387 | 393 | 'optionsMetaboxView', |
  | 388 |  | \_\_('Advanced', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 394 | \_\_('Advanced', 'popup-builder'), |
  | 389 | 395 | array($this, 'optionsMetaboxView'), |
  | 390 | 396 | SG\_POPUP\_POST\_TYPE, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L409) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L415) |  |
  | 409 | 415 | $popupTypeObj = $this->getPopupTypeObj(); |
  | 410 | 416 | $filepath = $metabox['filePath']; |
  | 411 |  |  |
  |  | 417 |  |
  | 412 | 418 | add\_meta\_box( |
  | 413 | 419 | $key, |
  | 414 |  | \_\_($metabox['displayName'], SG\_POPUP\_TEXT\_DOMAIN), |
  | 415 |  | function() use ($filepath, $popupTypeObj) { |
  |  | 420 | /\* translators: %s: display Name\*/ |
  |  | 421 | sprintf( '%s', $metabox['displayName']), |
  |  | 422 | function() use ($filepath, $popupTypeObj) { |
  | 416 | 423 | require\_once $filepath; |
  | 417 | 424 | }, |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L457) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L464) |  |
  | 457 | 464 | { |
  | 458 | 465 | $popupTypeObj = $this->getPopupTypeObj(); |
  | 459 |  | $optionsView = $popupTypeObj->getPopupTypeOptionsView(); |
  |  | 466 | $optionsView = $popupTypeObj->getPopupTypeOptionsView(); |
  | 460 | 467 | if (file\_exists($optionsView['filePath'])) { |
  | 461 | 468 | require\_once($optionsView['filePath']); |
  | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=2688891#L466) | […](/browser/popup-builder/trunk/com/classes/RegisterPostType.php?rev=3085485#L473) |  |
  | 466 | 473 | { |
  | 467 | 474 | $popupTypeObj = $this->getPopupTypeObj(); |
  | 468 |  | $optionsView = $popupTypeObj->getPopupTypeMainView(); |
  |  | 475 | $optionsView = $popupTypeObj->getPopupTypeMainView(); |
  | 469 | 476 | if (file\_exists($optionsView['filePath'])) { |
  | 470 | 477 | require\_once($optionsView['filePath']); |
* ## [popup-builder/trunk/com/classes/SGPBRequirementsChecker.php](/changeset/3085485/popup-builder/trunk/com/classes/SGPBRequirementsChecker.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/SGPBRequirementsChecker.php")

  | [r2686454](/browser/popup-builder/trunk/com/classes/SGPBRequirementsChecker.php?rev=2686454#L10 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/SGPBRequirementsChecker.php?rev=3085485#L10 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 | { |
  | 11 | 11 | if (version\_compare(PHP\_VERSION, SG\_POPUP\_MINIMUM\_PHP\_VERSION, '<')) { |
  | 12 |  | wp\_die(esc\_html\_\_('Popup Builder plugin requires PHP version >= '.SG\_POPUP\_MINIMUM\_PHP\_VERSION.' version required. You server using PHP version = '.PHP\_VERSION)); |
  |  | 12 | /\* translators: 1: SG POPUP MINIMUM PHP VERSION 2: PHP VERSION \*/ |
  |  | 13 | wp\_die(sprintf( esc\_html\_\_('Popup Builder plugin requires PHP version >= %1$s version required. You server using PHP version = %2$s'), esc\_html(SG\_POPUP\_MINIMUM\_PHP\_VERSION), PHP\_VERSION)); |
  | 13 | 14 | } |
  | 14 | 15 | } |
* ## [popup-builder/trunk/com/classes/ScriptsLoader.php](/changeset/3085485/popup-builder/trunk/com/classes/ScriptsLoader.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/ScriptsLoader.php")

  | [r2743521](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=2743521#L75 "Show revision 2743521 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=3085485#L75 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 75 | 75 | // JSON\_UNESCAPED\_UNICODE does not exist since 5.4.0 |
  | 76 | 76 | if (PHP\_VERSION < '5.4.0'){ |
  | 77 |  | $popupOptions = json\_encode($popupOptions); |
  |  | 77 | $popupOptions = wp\_json\_encode($popupOptions); |
  | 78 | 78 | } else { |
  | 79 |  | $popupOptions = json\_encode($popupOptions,JSON\_UNESCAPED\_UNICODE); |
  |  | 79 | $popupOptions = wp\_json\_encode($popupOptions,JSON\_UNESCAPED\_UNICODE); |
  | 80 | 80 | } |
  | 81 | 81 | return base64\_encode($popupOptions); |
  | […](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=2743521#L155) | […](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=3085485#L155) |  |
  | 155 | 155 | } |
  | 156 | 156 | self::$alreadyLoadedPopups[$popupId] = $events; |
  | 157 |  | $events = json\_encode($events); |
  |  | 157 | $events = wp\_json\_encode($events); |
  | 158 | 158 | $currentUseOptions = $popup->getOptions(); |
  | 159 | 159 | $extraContent = apply\_filters('sgpbPopupExtraData', $popupId, $currentUseOptions); |
  | […](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=2743521#L177) | […](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=3085485#L177) |  |
  | 177 | 177 | </div>'; |
  | 178 | 178 | $footerPopupContent .= $extraContent; |
  | 179 |  | echo ~~$footerPopupContent;~~ |
  |  | 179 | echo wp\_kses($footerPopupContent, AdminHelper::allowed\_html\_tags()); |
  | 180 | 180 | }); |
  | 181 | 181 | } |
  | […](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=2743521#L198) | […](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=3085485#L198) |  |
  | 198 | 198 | $events = array(); |
  | 199 | 199 |  |
  | 200 |  | $events = json\_encode($events); |
  |  | 200 | $events = wp\_json\_encode($events); |
  | 201 | 201 |  |
  | 202 | 202 | $popupOptions = $this->getEncodedOptionsFromPopup($popup); |
  | […](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=2743521#L317) | […](/browser/popup-builder/trunk/com/classes/ScriptsLoader.php?rev=3085485#L317) |  |
  | 317 | 317 | if (version\_compare($wp\_version, '4.5', '>')){ |
  | 318 | 318 | /\* after wp 4.5 version \*/ |
  | 319 |  | ScriptsIncluder::addInlineScripts($valueData['handle'], 'var '.$valueData['name'].' = ' .json\_encode($valueData['data']).';'); |
  |  | 319 | ScriptsIncluder::addInlineScripts($valueData['handle'], 'var '.$valueData['name'].' = ' .wp\_json\_encode($valueData['data']).';'); |
  | 320 | 320 | } else { |
  | 321 | 321 | /\* since wp 4.5 version \*/ |
* ## [popup-builder/trunk/com/classes/Updates.php](/changeset/3085485/popup-builder/trunk/com/classes/Updates.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/Updates.php")

  | [r2976515](/browser/popup-builder/trunk/com/classes/Updates.php?rev=2976515#L40 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/Updates.php?rev=3085485#L40 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 40 | 40 | public function menu() |
  | 41 | 41 | { |
  | 42 |  | add\_submenu\_page('edit.php?post\_type='.SG\_POPUP\_POST\_TYPE, \_\_('License', ~~SG\_POPUP\_TEXT\_DOMAIN), \_\_('License', SG\_POPUP\_TEXT\_DOMAIN~~), 'sgpb\_manage\_options', SGPB\_POPUP\_LICENSE, array($this, 'pluginLicense')); |
  |  | 42 | add\_submenu\_page('edit.php?post\_type='.SG\_POPUP\_POST\_TYPE, \_\_('License', 'popup-builder'), \_\_('License', 'popup-builder'), 'sgpb\_manage\_options', SGPB\_POPUP\_LICENSE, array($this, 'pluginLicense')); |
  | 43 | 43 | } |
  | 44 | 44 |  |
  | […](/browser/popup-builder/trunk/com/classes/Updates.php?rev=2976515#L87) | […](/browser/popup-builder/trunk/com/classes/Updates.php?rev=3085485#L87) |  |
  | 87 | 87 | return wp\_remote\_get($requestUri); |
  | 88 | 88 | } |
  | 89 |  |  |
  |  | 89 | private function sgpbVerifyNonceLicense() |
  |  | 90 | { |
  |  | 91 | /\* Validate nonce \*/ |
  |  | 92 | $nonce = isset( $\_POST['sgpb\_nonce'] ) ? sanitize\_text\_field( $\_POST['sgpb\_nonce'] ) : ''; |
  |  | 93 |  |
  |  | 94 | if ( empty( $nonce ) || !wp\_verify\_nonce( $nonce, 'sgpb\_nonce' ) ) { |
  |  | 95 | $message = \_\_('You do not have permission to access this page!', 'popup-builder'); |
  |  | 96 | $baseUrl = admin\_url('edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'&page='.SGPB\_POPUP\_LICENSE); |
  |  | 97 | $redirect = add\_query\_arg(array('message' => urlencode($message)), $baseUrl); |
  |  | 98 | wp\_redirect($redirect); |
  |  | 99 | exit(); |
  |  | 100 | } |
  |  | 101 | } |
  | 90 | 102 | public function sgpbActivateLicense() |
  | 91 | 103 | { |
  |  | 104 |  |
  |  | 105 | /\*\* |
  |  | 106 | \* We only allow administrator to do this action |
  |  | 107 | \*/ |
  |  | 108 | if ( ! current\_user\_can( 'manage\_options' ) ) { |
  |  | 109 |  |
  |  | 110 | wp\_die(esc\_html\_\_('You do not have permission to access this page!', 'popup-builder')); |
  |  | 111 | } |
  |  | 112 |  |
  | 92 | 113 | $licenses = $this->getLicenses(); |
  | 93 |  |  |
  | 94 |  | foreach ($licenses as $license) { |
  | 95 |  | $key = isset($license['key']) ? $license['key'] : ''; |
  | 96 |  | $itemId = isset($license['itemId']) ? $license['itemId'] : ''; |
  | 97 |  | $this->licenseKey = $key; |
  | 98 |  |  |
  | 99 |  | if (isset($\_POST['sgpb-license-key-'.$key])) { |
  | 100 |  | $this->sanitizeLicense(sanitize\_key($\_POST['sgpb-license-key-'.$key])); |
  | 101 |  | } |
  | 102 |  |  |
  | 103 |  | // listen for our activate button to be clicked |
  | 104 |  | if (isset($\_POST['sgpb-license-activate-'.$key])) { |
  | 105 |  | // run a quick security check |
  | 106 |  | if (!check\_admin\_referer('sgpb\_nonce', 'sgpb\_nonce')) { |
  | 107 |  | return; // get out if we didn't click the Activate button |
  |  | 114 |  |
  |  | 115 | if( !empty( $licenses ) ) |
  |  | 116 | { |
  |  | 117 |  |
  |  | 118 | foreach ($licenses as $license) { |
  |  | 119 | $key = isset($license['key']) ? $license['key'] : ''; |
  |  | 120 | $itemId = isset($license['itemId']) ? $license['itemId'] : ''; |
  |  | 121 | $this->licenseKey = $key; |
  |  | 122 |  |
  |  | 123 | if (isset($\_POST['sgpb-license-key-'.$key])) { |
  |  | 124 | $this->sgpbVerifyNonceLicense(); |
  |  | 125 | $this->sanitizeLicense(sanitize\_key($\_POST['sgpb-license-key-'.$key])); |
  | 108 | 126 | } |
  | 109 |  | // retrieve the license from the database |
  | 110 |  | $license = trim(get\_option('sgpb-license-key-'.$key)); |
  | 111 |  | $data = $this->activateLicense($license, $itemId); |
  | 112 |  | if (!is\_wp\_error($data) && $data['response']['code'] == 200) { |
  | 113 |  | $dataBody = json\_decode($data['body']); |
  | 114 |  | if (isset($dataBody[0]->status)) { |
  | 115 |  | if ($dataBody[0]->status == 'success' && ($dataBody[0]->status\_code == 's100' || $dataBody[0]->status\_code == 's101')) { |
  | 116 |  | update\_option('sgpb-license-status-'.$key, 'valid'); |
  | 117 |  | $hasInactiveExtensions = AdminHelper::hasInactiveExtensions(); |
  | 118 |  |  |
  | 119 |  | if (empty($hasInactiveExtensions)) { |
  | 120 |  | delete\_option('SGPB\_INACTIVE\_EXTENSIONS'); |
  |  | 127 |  |
  |  | 128 | // listen for our activate button to be clicked |
  |  | 129 | if (isset($\_POST['sgpb-license-activate-'.$key])) { |
  |  | 130 | $this->sgpbVerifyNonceLicense(); |
  |  | 131 | // retrieve the license from the database |
  |  | 132 | $license = trim(get\_option('sgpb-license-key-'.$key)); |
  |  | 133 | $data = $this->activateLicense($license, $itemId); |
  |  | 134 | if (!is\_wp\_error($data) && $data['response']['code'] == 200) { |
  |  | 135 | $dataBody = json\_decode($data['body']); |
  |  | 136 | if (isset($dataBody[0]->status)) { |
  |  | 137 | if ($dataBody[0]->status == 'success' && ($dataBody[0]->status\_code == 's100' || $dataBody[0]->status\_code == 's101')) { |
  |  | 138 | update\_option('sgpb-license-status-'.$key, 'valid'); |
  |  | 139 | $hasInactiveExtensions = AdminHelper::hasInactiveExtensions(); |
  |  | 140 |  |
  |  | 141 | if (empty($hasInactiveExtensions)) { |
  |  | 142 | delete\_option('SGPB\_INACTIVE\_EXTENSIONS'); |
  |  | 143 | } |
  |  | 144 |  |
  |  | 145 | wp\_redirect(admin\_url('edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'&page='.SGPB\_POPUP\_LICENSE)); |
  |  | 146 | exit(); |
  | 121 | 147 | } |
  | 122 |  |  |
  | 123 |  | ~~wp\_redirect(admin\_url('edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'&page='.SGPB\_POPUP\_LICENSE));~~ |
  | 124 |  | ~~exit();~~ |
  | 125 | 148 | } |
  | 126 | 149 | } |
  | 127 |  | } |
  | 128 |  |  |
  | 129 |  | $message = \_\_('An error occurred, please try again.', SG\_POPUP\_TEXT\_DOMAIN); |
  | 130 |  | $baseUrl = admin\_url('edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'&page='.SGPB\_POPUP\_LICENSE); |
  | 131 |  | $redirect = add\_query\_arg(array('sl\_activation' => 'false', 'message' => urlencode($message)), $baseUrl); |
  | 132 |  | wp\_redirect($redirect); |
  | 133 |  | exit(); |
  | 134 |  | } |
  | 135 |  |  |
  | 136 |  | if (isset($\_POST['sgpb-license-deactivate'.$key])) { |
  | 137 |  | $license = trim(get\_option('sgpb-license-key-'.$key)); |
  | 138 |  | // data to send in our API request |
  | 139 |  | $response = $this->deactivateLicense($license, $itemId); |
  | 140 |  | if (is\_wp\_error($response) || 200 !== wp\_remote\_retrieve\_response\_code($response)) { |
  | 141 |  | $message = \_\_('An error occurred, please try again.', SG\_POPUP\_TEXT\_DOMAIN); |
  |  | 150 |  |
  |  | 151 | $message = \_\_('An error occurred, please try again.', 'popup-builder'); |
  | 142 | 152 | $baseUrl = admin\_url('edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'&page='.SGPB\_POPUP\_LICENSE); |
  | 143 |  | $redirect = add\_query\_arg(array('message' => urlencode($message)), $baseUrl); |
  |  | 153 | $redirect = add\_query\_arg(array('sl\_activation' => 'false', 'message' => urlencode($message)), $baseUrl); |
  | 144 | 154 | wp\_redirect($redirect); |
  | 145 | 155 | exit(); |
  | 146 | 156 | } |
  | 147 |  | else { |
  | 148 |  | $status = false; |
  | 149 |  | $licenseData = json\_decode(wp\_remote\_retrieve\_body($response)); |
  | 150 |  | if (isset($licenseData->success)) { |
  | 151 |  | $status = $licenseData->success; |
  |  | 157 |  |
  |  | 158 | if (isset($\_POST['sgpb-license-deactivate'.$key])) { |
  |  | 159 |  |
  |  | 160 | $this->sgpbVerifyNonceLicense(); |
  |  | 161 | $license = trim(get\_option('sgpb-license-key-'.$key)); |
  |  | 162 | // data to send in our API request |
  |  | 163 | $response = $this->deactivateLicense($license, $itemId); |
  |  | 164 | if (is\_wp\_error($response) || 200 !== wp\_remote\_retrieve\_response\_code($response)) { |
  |  | 165 | $message = \_\_('An error occurred, please try again.', 'popup-builder'); |
  |  | 166 | $baseUrl = admin\_url('edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'&page='.SGPB\_POPUP\_LICENSE); |
  |  | 167 | $redirect = add\_query\_arg(array('message' => urlencode($message)), $baseUrl); |
  |  | 168 | wp\_redirect($redirect); |
  |  | 169 | exit(); |
  | 152 | 170 | } |
  | 153 |  | update\_option('sgpb-license-status-'.$key, $status); |
  | 154 |  | update\_option('SGPB\_INACTIVE\_EXTENSIONS', 'inactive'); |
  | 155 |  | wp\_redirect(admin\_url('edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'&page='.SGPB\_POPUP\_LICENSE)); |
  | 156 |  | exit(); |
  |  | 171 | else { |
  |  | 172 | $status = false; |
  |  | 173 | $licenseData = json\_decode(wp\_remote\_retrieve\_body($response)); |
  |  | 174 | if (isset($licenseData->success)) { |
  |  | 175 | $status = $licenseData->success; |
  |  | 176 | } |
  |  | 177 | update\_option('sgpb-license-status-'.$key, $status); |
  |  | 178 | update\_option('SGPB\_INACTIVE\_EXTENSIONS', 'inactive'); |
  |  | 179 | wp\_redirect(admin\_url('edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'&page='.SGPB\_POPUP\_LICENSE)); |
  |  | 180 | exit(); |
  |  | 181 | } |
  | 157 | 182 | } |
  | 158 | 183 | } |
* ## [popup-builder/trunk/com/classes/components/Menu.php](/changeset/3085485/popup-builder/trunk/com/classes/components/Menu.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/components/Menu.php")

  | [r2721110](/browser/popup-builder/trunk/com/classes/components/Menu.php?rev=2721110#L116 "Show revision 2721110 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/components/Menu.php?rev=3085485#L116 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 116 | 116 | \*/ |
  | 117 | 117 | private function inMultiDimArray($item , $array){ |
  | 118 |  | return preg\_match('/"'.preg\_quote($item, '/').'"/i' , json\_encode($array)); |
  |  | 118 | return preg\_match('/"'.preg\_quote($item, '/').'"/i' , wp\_json\_encode($array)); |
  | 119 | 119 | } |
  | 120 | 120 |  |
  | […](/browser/popup-builder/trunk/com/classes/components/Menu.php?rev=2721110#L203) | […](/browser/popup-builder/trunk/com/classes/components/Menu.php?rev=3085485#L203) |  |
  | 203 | 203 | <div class="description  description-wide"> |
  | 204 | 204 | <label for="edit-menu-item-pb-<?php echo esc\_attr($item->ID); ?>"> |
  | 205 |  | <?php esc\_html\_e('Select a Popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?><br/> |
  |  | 205 | <?php esc\_html\_e('Select a Popup', 'popup-builder'); ?><br/> |
  | 206 | 206 | <select class="widefat" name="menu-item-pb[<?php echo esc\_attr($item->ID); ?>][popup]" |
  | 207 | 207 | id="edit-menu-item-pb-<?php echo esc\_attr($item->ID); ?>"> |
  | […](/browser/popup-builder/trunk/com/classes/components/Menu.php?rev=2721110#L213) | […](/browser/popup-builder/trunk/com/classes/components/Menu.php?rev=3085485#L213) |  |
  | 213 | 213 | <?php endforeach; ?> |
  | 214 | 214 | </select> |
  | 215 |  | <span class="description"><?php esc\_html\_e('Open a popup once this item is clicked.', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 215 | <span class="description"><?php esc\_html\_e('Open a popup once this item is clicked.', 'popup-builder'); ?></span> |
  | 216 | 216 | </label> |
  | 217 | 217 | </div> |
  | […](/browser/popup-builder/trunk/com/classes/components/Menu.php?rev=2721110#L227) | […](/browser/popup-builder/trunk/com/classes/components/Menu.php?rev=3085485#L227) |  |
  | 227 | 227 | public function save($menu\_id, $item\_id) |
  | 228 | 228 | { |
  | 229 |  | delete\_post\_meta($item\_id, '\_menu\_sgpb\_popup\_id'); |
  | 230 |  | if (isset($\_POST['menu-item-pb'][$item\_id]['popup'])) { |
  | 231 |  | $popupId = (int)sanitize\_text\_field($\_POST['menu-item-pb'][$item\_id]['popup']); |
  | 232 |  | update\_post\_meta($item\_id, '\_menu\_sgpb\_popup\_id', $popupId); |
  | 233 |  | } |
  |  | 229 | if ( current\_user\_can( 'edit\_theme\_options' ) ) { |
  |  | 230 | check\_admin\_referer( 'update-nav\_menu', 'update-nav-menu-nonce' ); |
  |  | 231 | delete\_post\_meta($item\_id, '\_menu\_sgpb\_popup\_id'); |
  |  | 232 | if (isset($\_POST['menu-item-pb'][$item\_id]['popup'])) { |
  |  | 233 | $popupId = (int)sanitize\_text\_field($\_POST['menu-item-pb'][$item\_id]['popup']); |
  |  | 234 | update\_post\_meta($item\_id, '\_menu\_sgpb\_popup\_id', $popupId); |
  |  | 235 | } |
  |  | 236 | } |
  | 234 | 237 | } |
  | 235 | 238 | } |
* ## [popup-builder/trunk/com/classes/dataTable/Subscribers.php](/changeset/3085485/popup-builder/trunk/com/classes/dataTable/Subscribers.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/dataTable/Subscribers.php")

  | [r2725980](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=2725980#L8 "Show revision 2725980 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=3085485#L8 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | use sgpb\SubscriptionPopup; |
  | 9 | 9 |  |
  | 10 |  | class Subscribers extends SGPBTable |
  |  | 10 | class SGPBSubscribers extends SGPBTable |
  | 11 | 11 | { |
  | 12 | 12 | public function \_\_construct() |
  | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=2725980#L19) | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=3085485#L19) |  |
  | 19 | 19 |  |
  | 20 | 20 | $columns = array( |
  | 21 |  | ~~$this->tablename.'.~~id', |
  |  | 21 | 'id', |
  | 22 | 22 | 'firstName', |
  | 23 | 23 | 'lastName', |
  | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=2725980#L35) | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=3085485#L35) |  |
  | 35 | 35 | 'bulk' => $selectAllCheckbox, |
  | 36 | 36 | 'id' => 'ID', |
  | 37 |  | 'firstName' => \_\_('First name', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 38 |  | 'lastName' => \_\_('Last name', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 39 |  | 'email' => \_\_('Email', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 40 |  | 'cDate' => \_\_('Date', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 41 |  | 'subscriptionType' => \_\_('Popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  | 42 |  | //'options' => \_\_('Actions', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 37 | 'firstName' => \_\_('First name', 'popup-builder'), |
  |  | 38 | 'lastName' => \_\_('Last name', 'popup-builder'), |
  |  | 39 | 'email' => \_\_('Email', 'popup-builder'), |
  |  | 40 | 'cDate' => \_\_('Date', 'popup-builder'), |
  |  | 41 | 'subscriptionType' => \_\_('Popup', 'popup-builder') |
  |  | 42 | //'options' => \_\_('Actions', 'popup-builder') |
  | 43 | 43 | ); |
  | 44 | 44 |  |
  | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=2725980#L77) | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=3085485#L77) |  |
  | 77 | 77 |  |
  | 78 | 78 | // show date more user friendly |
  | 79 |  | $row[5] = date('d F Y', strtotime($row[5])); |
  |  | 79 | $row[5] = gmdate('d F Y', strtotime($row[5])); |
  | 80 | 80 |  |
  | 81 | 81 | $id = $row[0]; |
  | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=2725980#L108) | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=3085485#L108) |  |
  | 108 | 108 | <select class="select\_\_select sgpb-margin-right-10" name="sgpb-subscription-popup" id="sgpb-subscription-popup"> |
  | 109 | 109 | <?php |
  | 110 |  | $list .= '<option value="all">'.\_\_('All', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</option>'; |
  |  | 110 | $list .= '<option value="all">'.\_\_('All', 'popup-builder').'</option>'; |
  | 111 | 111 | foreach ($subscriptionPopups as $popupId => $popupTitle) { |
  | 112 | 112 | if ($selectedPopup == $popupId) { |
  | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=2725980#L151) | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=3085485#L151) |  |
  | 151 | 151 | <select class="select\_\_select sgpb-margin-right-10" name="sgpb-subscribers-dates" id="sgpb-subscribers-dates"> |
  | 152 | 152 | <?php |
  | 153 |  | $gotDateList = '<option value="all">'.\_\_('All dates', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</option>'; |
  |  | 153 | $gotDateList = '<option value="all">'.\_\_('All dates', 'popup-builder').'</option>'; |
  | 154 | 154 | foreach ($uniqueDates as $date) { |
  | 155 | 155 | if ($selectedDate == $date['date-value']) { |
  | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=2725980#L163) | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=3085485#L163) |  |
  | 163 | 163 | if (empty($subscribersDates)) { |
  | 164 | 164 | $dateValue = isset($date) && isset($date['date-value']) ? $date['date-value'] : ''; |
  | 165 |  | $gotDateList = '<option value="'.$dateValue.'"'.$selected.'>'.\_\_('Date', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</option>'; |
  |  | 165 | $gotDateList = '<option value="'.$dateValue.'"'.$selected.'>'.\_\_('Date', 'popup-builder').'</option>'; |
  | 166 | 166 | } |
  | 167 | 167 | echo wp\_kses($dateList.$gotDateList, $allowed\_html); |
  | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=2725980#L188) | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=3085485#L188) |  |
  | 188 | 188 | <div class="sgpb-display-flex sgpb-justify-content-between actions"> |
  | 189 | 189 | <div> |
  | 190 |  | <label class="screen-reader-text" for="sgpb-subscription-popup"><?php esc\_html\_e('Filter by popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></label> |
  |  | 190 | <label class="screen-reader-text" for="sgpb-subscription-popup"><?php esc\_html\_e('Filter by popup', 'popup-builder')?></label> |
  | 191 | 191 | <?php echo wp\_kses($this->getNavPopupsConditions(), $allowed\_html); ?> |
  | 192 |  | <label class="screen-reader-text" for="sgpb-subscribers-dates"><?php esc\_html\_e('Filter by date', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></label> |
  |  | 192 | <label class="screen-reader-text" for="sgpb-subscribers-dates"><?php esc\_html\_e('Filter by date', 'popup-builder')?></label> |
  | 193 | 193 | <?php  echo wp\_kses($this->getNavDateConditions(), $allowed\_html); ?> |
  | 194 |  | <input name="filter\_action" id="post-query-submit" class="buttonGroup\_\_button buttonGroup\_\_button\_blueBg buttonGroup\_\_button\_unrounded" value="<?php esc\_html\_e('Filter', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" type="submit"> |
  |  | 194 | <input name="filter\_action" id="post-query-submit" class="buttonGroup\_\_button buttonGroup\_\_button\_blueBg buttonGroup\_\_button\_unrounded" value="<?php esc\_html\_e('Filter', 'popup-builder')?>" type="submit"> |
  | 195 | 195 | </div> |
  | 196 | 196 | <div> |
  | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=2725980#L199) | […](/browser/popup-builder/trunk/com/classes/dataTable/Subscribers.php?rev=3085485#L199) |  |
  | 199 | 199 | ?> |
  | 200 | 200 | <button type="button" class="sgpb-btn sgpb-btn-danger sgpb-btn-disabled sgpb-btn--rounded sg-subs-delete-button" data-ajaxNonce="<?php echo esc\_attr(SG\_AJAX\_NONCE);?>"> |
  | 201 |  | <?php esc\_html\_e('Delete subscriber(s)', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 201 | <?php esc\_html\_e('Delete subscriber(s)', 'popup-builder')?> |
  | 202 | 202 | </button> |
  | 203 | 203 | <?php |
* ## [popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php](/changeset/3085485/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php")

  | [r2664345](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=2664345#L25 "Show revision 2664345 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=3085485#L25 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 25 | 25 | $jsFiles = array(); |
  | 26 | 26 | $localizeData = array(); |
  | 27 |  | $translatedData = ConfigDataHelper::getJsLocalizedData(); |
  |  | 27 | $translatedData = SGPBConfigDataHelper::getJsLocalizedData(); |
  | 28 | 28 | $currentPostType = AdminHelper::getCurrentPostType(); |
  | 29 | 29 | $newsletterPage = $this->getNewsletterPageKey(); |
  | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=2664345#L74) | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=3085485#L74) |  |
  | 74 | 74 | 'allPopups' => AdminHelper::getGutenbergPopupsIdAndTitle(), |
  | 75 | 75 | 'allEvents' => AdminHelper::getGutenbergPopupsEvents(), |
  | 76 |  | 'title'   => \_\_('Popup Builder', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 77 |  | 'description'   => \_\_('This block will help you to add Popup Builder’s shortcode inside the page content', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 76 | 'title'   => \_\_('Popup Builder', 'popup-builder'), |
  |  | 77 | 'description'   => \_\_('This block will help you to add Popup Builder’s shortcode inside the page content', 'popup-builder'), |
  | 78 | 78 | 'i18n'=> array( |
  | 79 |  | 'title'            => \_\_( 'WPForms', '~~wpforms-lite~~' ), |
  | 80 |  | 'description'      => \_\_( 'Select and display one of your forms.', '~~wpforms-lite~~' ), |
  | 81 |  | 'form\_keyword'     => \_\_( 'form', '~~wpforms-lite~~' ), |
  | 82 |  | 'form\_select'      => \_\_( 'Select Popup', '~~wpforms-lite~~' ), |
  | 83 |  | 'form\_settings'    => \_\_( 'Form Settings', '~~wpforms-lite~~' ), |
  | 84 |  | 'form\_selected'    => \_\_( 'Form', '~~wpforms-lite~~' ), |
  | 85 |  | 'show\_title'       => \_\_( 'Show Title', '~~wpforms-lite~~' ), |
  | 86 |  | 'show\_description' => \_\_( 'Show Description', '~~wpforms-lite~~' ), |
  |  | 79 | 'title'            => \_\_( 'WPForms', 'popup-builder' ), |
  |  | 80 | 'description'      => \_\_( 'Select and display one of your forms.', 'popup-builder' ), |
  |  | 81 | 'form\_keyword'     => \_\_( 'form', 'popup-builder' ), |
  |  | 82 | 'form\_select'      => \_\_( 'Select Popup', 'popup-builder' ), |
  |  | 83 | 'form\_settings'    => \_\_( 'Form Settings', 'popup-builder' ), |
  |  | 84 | 'form\_selected'    => \_\_( 'Form', 'popup-builder' ), |
  |  | 85 | 'show\_title'       => \_\_( 'Show Title', 'popup-builder' ), |
  |  | 86 | 'show\_description' => \_\_( 'Show Description', 'popup-builder' ), |
  | 87 | 87 | ), |
  | 88 | 88 | 'logo\_url' => SG\_POPUP\_IMG\_URL.'bannerLogo.png', |
  | 89 | 89 | 'logo\_classname' => 'sgpb-gutenberg-logo', |
  | 90 |  | 'clickText' => \_\_('Click me', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 90 | 'clickText' => \_\_('Click me', 'popup-builder') |
  | 91 | 91 | ) |
  | 92 | 92 | ); |
  | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=2664345#L98) | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=3085485#L98) |  |
  | 98 | 98 |  |
  | 99 | 99 |  |
  | 100 |  | $jsFiles[] = array('folderUrl'=> SG\_POPUP\_JS\_URL, 'filename' => 'Backend.js'); |
  | 101 |  | $jsFiles[] = array('folderUrl'=> SG\_POPUP\_JS\_URL, 'filename' => 'FloatingButton.js', 'dep' => array('Backend.js')~~,~~); |
  |  | 100 | $jsFiles[] = array('folderUrl'=> SG\_POPUP\_JS\_URL, 'filename' => 'Backend.js', 'dep' => array('wp-color-picker')); |
  |  | 101 | $jsFiles[] = array('folderUrl'=> SG\_POPUP\_JS\_URL, 'filename' => 'FloatingButton.js', 'dep' => array('Backend.js')); |
  | 102 | 102 | $jsFiles[] = array('folderUrl'=> SG\_POPUP\_JS\_URL, 'filename' => 'NotificationCenter.js'); |
  | 103 | 103 | $jsFiles[] = array('folderUrl'=> SG\_POPUP\_JS\_URL, 'filename' => 'Popup.js'); |
  | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=2664345#L239) | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=3085485#L239) |  |
  | 239 | 239 | ); |
  | 240 | 240 | if (in\_array($pageName, $allowPages)) { |
  | 241 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'jquery.dateTimePicker.min.css', 'dep' => array(), 'ver' => rand(1, 1000), 'inFooter' => false); |
  | 242 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'sgbp-bootstrap.css', 'dep' => array(), 'ver' => rand(1, 1000), 'inFooter' => false); |
  | 243 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'popupAdminStyles.css', 'dep' => array(), 'ver' => rand(1, 1000), 'inFooter' => false); |
  | 244 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'select2.min.css', 'dep' => array(), 'ver' => rand(1, 1000), 'inFooter' => false); |
  | 245 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'theme.css', 'dep' => array(), 'ver' => rand(1, 1000), 'inFooter' => false); |
  |  | 241 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'jquery.dateTimePicker.min.css', 'dep' => array(), 'ver' => wp\_rand(1, 1000), 'inFooter' => false); |
  |  | 242 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'sgbp-bootstrap.css', 'dep' => array(), 'ver' => wp\_rand(1, 1000), 'inFooter' => false); |
  |  | 243 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'popupAdminStyles.css', 'dep' => array(), 'ver' => wp\_rand(1, 1000), 'inFooter' => false); |
  |  | 244 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'select2.min.css', 'dep' => array(), 'ver' => wp\_rand(1, 1000), 'inFooter' => false); |
  |  | 245 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'theme.css', 'dep' => array(), 'ver' => wp\_rand(1, 1000), 'inFooter' => false); |
  | 246 | 246 | $cssFiles[] = array('folderUrl' => '', 'filename' => 'wp-color-picker'); |
  | 247 | 247 | } |
  | 248 | 248 | else if ($pageName == SG\_POPUP\_SUBSCRIBERS\_PAGE) { |
  | 249 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'sgbp-bootstrap.css', 'dep' => array(), 'ver' => SG\_POPUP\_VERSION, 'inFooter' => false); |
  | 250 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'popupAdminStyles.css', 'dep' => array(), 'ver' => SG\_POPUP\_VERSION, 'inFooter' => false); |
  | 251 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'select2.min.css', 'dep' => array(), 'ver' => SG\_POPUP\_VERSION, 'inFooter' => false); |
  | 252 |  |  |
  | 253 |  | } |
  | 254 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'sgpb-modal.css', 'dep' => array(), 'ver' => rand(1, 10000), 'inFooter' => false); |
  |  | 249 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'sgbp-bootstrap.css', 'dep' => array(), 'ver' => SGPB\_POPUP\_VERSION, 'inFooter' => false); |
  |  | 250 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'popupAdminStyles.css', 'dep' => array(), 'ver' => SGPB\_POPUP\_VERSION, 'inFooter' => false); |
  |  | 251 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'select2.min.css', 'dep' => array(), 'ver' => SGPB\_POPUP\_VERSION, 'inFooter' => false); |
  |  | 252 |  |
  |  | 253 | } |
  |  | 254 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'sgpb-modal.css', 'dep' => array(), 'ver' => wp\_rand(1, 10000), 'inFooter' => false); |
  | 255 | 255 |  |
  | 256 | 256 | $cssData = array( |
  | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=2664345#L262) | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=3085485#L262) |  |
  | 262 | 262 | public function getFrontendScripts($page, $popupObjs) |
  | 263 | 263 | { |
  | 264 |  | $translatedData = ConfigDataHelper::getJsLocalizedData(); |
  |  | 264 | $translatedData = SGPBConfigDataHelper::getJsLocalizedData(); |
  | 265 | 265 | $jsFiles = array(); |
  | 266 | 266 | $localizeData = array(); |
  | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=2664345#L345) | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtension.php?rev=3085485#L345) |  |
  | 345 | 345 | { |
  | 346 | 346 | $cssFiles = array(); |
  | 347 |  | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'theme.css', 'dep' => array(), 'ver' => SG\_POPUP\_VERSION, 'inFooter' => false); |
  |  | 347 | $cssFiles[] = array('folderUrl' => SG\_POPUP\_CSS\_URL, 'filename' => 'theme.css', 'dep' => array(), 'ver' => SGPB\_POPUP\_VERSION, 'inFooter' => false); |
  | 348 | 348 |  |
  | 349 | 349 | $cssData = array( |
* ## [popup-builder/trunk/com/classes/extension/SgpbPopupExtensionActivator.php](/changeset/3085485/popup-builder/trunk/com/classes/extension/SgpbPopupExtensionActivator.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/extension/SgpbPopupExtensionActivator.php")

  | [r2466445](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtensionActivator.php?rev=2466445#L75 "Show revision 2466445 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtensionActivator.php?rev=3085485#L75 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 75 | 75 | $passedExtension =  WP\_PLUGIN\_DIR.DIRECTORY\_SEPARATOR.$extensionFolder.DIRECTORY\_SEPARATOR; |
  | 76 | 76 | $originalExtension = SG\_POPUP\_BUILDER\_PATH.'extensions'.DIRECTORY\_SEPARATOR.$extensionFolder.DIRECTORY\_SEPARATOR; |
  | 77 |  | ~~@renam~~e($originalExtension,$passedExtension); |
  |  | 77 | WP\_Filesystem\_Direct::move($originalExtension,$passedExtension); |
  | 78 | 78 | } |
  | 79 | 79 | } |
* ## [popup-builder/trunk/com/classes/extension/SgpbPopupExtensionRegister.php](/changeset/3085485/popup-builder/trunk/com/classes/extension/SgpbPopupExtensionRegister.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/extension/SgpbPopupExtensionRegister.php")

  | [r2698835](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtensionRegister.php?rev=2698835#L53 "Show revision 2698835 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtensionRegister.php?rev=3085485#L53 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 53 | 53 |  |
  | 54 | 54 | $registeredData[$pluginName] = $pluginData; |
  | 55 |  | $registeredData = json\_encode($registeredData); |
  |  | 55 | $registeredData = wp\_json\_encode($registeredData); |
  | 56 | 56 |  |
  | 57 | 57 | AdminHelper::updateOption(SGPB\_POPUP\_BUILDER\_REGISTERED\_PLUGINS, $registeredData); |
  | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtensionRegister.php?rev=2698835#L113) | […](/browser/popup-builder/trunk/com/classes/extension/SgpbPopupExtensionRegister.php?rev=3085485#L113) |  |
  | 113 | 113 | } |
  | 114 | 114 | unset($registeredData[$pluginName]); |
  | 115 |  | $registeredData = json\_encode($registeredData); |
  |  | 115 | $registeredData = wp\_json\_encode($registeredData); |
  | 116 | 116 |  |
  | 117 | 117 | AdminHelper::updateOption(SGPB\_POPUP\_BUILDER\_REGISTERED\_PLUGINS, $registeredData); |
* ## [popup-builder/trunk/com/classes/popups/FblikePopup.php](/changeset/3085485/popup-builder/trunk/com/classes/popups/FblikePopup.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/popups/FblikePopup.php")

  | [r2688779](/browser/popup-builder/trunk/com/classes/popups/FblikePopup.php?rev=2688779#L14 "Show revision 2688779 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/popups/FblikePopup.php?rev=3085485#L14 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 14 | 14 | return array( |
  | 15 | 15 | 'filePath' => SG\_POPUP\_TYPE\_OPTIONS\_PATH.'facebook.php', |
  | 16 |  | 'metaboxTitle' => ~~'Facebook Settings'~~, |
  |  | 16 | 'metaboxTitle' => \_\_('Facebook Settings', 'popup-builder'), |
  | 17 | 17 | 'short\_description' => 'Select your Facebook page URL for liking and sharing it' |
  | 18 | 18 | ); |
  | […](/browser/popup-builder/trunk/com/classes/popups/FblikePopup.php?rev=2688779#L40) | […](/browser/popup-builder/trunk/com/classes/popups/FblikePopup.php?rev=3085485#L40) |  |
  | 40 | 40 | if (d.getElementById(id)) return; |
  | 41 | 41 | js = d.createElement(s); js.id = id; |
  | 42 |  | js.src = '~~https://connect.facebook.net/<?php echo $locale;?>/all.js#xfbml=1&version=v2.11&appId=<?php echo SGPB\_FACEBOOK\_APP\_ID~~;?>'; |
  |  | 42 | js.src = '<?php echo esc\_url('https://connect.facebook.net/'. esc\_html( $locale ).'/all.js#xfbml=1&version=v2.11&appId='. esc\_html(SGPB\_FACEBOOK\_APP\_ID));?>'; |
  | 43 | 43 | fjs.parentNode.insertBefore(js, fjs); |
  | 44 | 44 | }(document, 'script', 'facebook-jssdk')); |
  | […](/browser/popup-builder/trunk/com/classes/popups/FblikePopup.php?rev=2688779#L56) | […](/browser/popup-builder/trunk/com/classes/popups/FblikePopup.php?rev=3085485#L56) |  |
  | 56 | 56 | ob\_start(); |
  | 57 | 57 | ?> |
  | 58 |  | <div class='sg-fb-buttons-wrapper sgpb-fb-wrapper-<?php echo ~~$layout~~;?>'> |
  |  | 58 | <div class='sg-fb-buttons-wrapper sgpb-fb-wrapper-<?php echo esc\_html( $layout );?>'> |
  | 59 | 59 | <div class="fb-like" |
  | 60 |  | data-href="<?php echo ~~$shareUrl~~; ?>" |
  | 61 |  | data-layout="<?php echo ~~$layout~~; ?>" |
  |  | 60 | data-href="<?php echo esc\_url( $shareUrl ); ?>" |
  |  | 61 | data-layout="<?php echo esc\_attr( $layout ); ?>" |
  | 62 | 62 | data-action="like" |
  | 63 | 63 | data-size="small" |
  | 64 | 64 | data-show-faces="true" |
  | 65 |  | data-share="<?php echo ~~$shareButtonStatus~~; ?>"> |
  |  | 65 | data-share="<?php echo esc\_attr( $shareButtonStatus ); ?>"> |
  | 66 | 66 | </div> |
  | 67 | 67 | </div> |
  | […](/browser/popup-builder/trunk/com/classes/popups/FblikePopup.php?rev=2688779#L89) | […](/browser/popup-builder/trunk/com/classes/popups/FblikePopup.php?rev=3085485#L89) |  |
  | 89 | 89 | <div id="sg-facebook-like"> |
  | 90 | 90 | <div id="fb-root"></div> |
  | 91 |  | <?php echo ~~$buttonConfig~~; ?> |
  |  | 91 | <?php echo wp\_kses\_post($buttonConfig); ?> |
  | 92 | 92 | <?php echo $scripts; ?> |
  | 93 | 93 | </div> |
* ## [popup-builder/trunk/com/classes/popups/ImagePopup.php](/changeset/3085485/popup-builder/trunk/com/classes/popups/ImagePopup.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/popups/ImagePopup.php")

  | [r2725980](/browser/popup-builder/trunk/com/classes/popups/ImagePopup.php?rev=2725980#L33 "Show revision 2725980 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/popups/ImagePopup.php?rev=3085485#L33 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 33 | 33 | return array( |
  | 34 | 34 | 'filePath' => SG\_POPUP\_TYPE\_MAIN\_PATH.'image.php', |
  | 35 |  | 'metaboxTitle' => ~~'Image Settings'~~, |
  |  | 35 | 'metaboxTitle' => \_\_('Image Settings', 'popup-builder'), |
  | 36 | 36 | 'short\_description' => 'Upload your feature image for the popup' |
  | 37 | 37 | ); |
* ## [popup-builder/trunk/com/classes/popups/SGPopup.php](/changeset/3085485/popup-builder/trunk/com/classes/popups/SGPopup.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/popups/SGPopup.php")

  | [r3038724](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L1 "Show revision 3038724 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | namespace sgpb; |
  | 3 |  | use \ConfigDataHelper; |
  |  | 3 | use \SGPBConfigDataHelper; |
  | 4 | 4 | use \WP\_Post; |
  | 5 | 5 |  |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L418) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L418) |  |
  | 418 | 418 | return $sanitizedValue; |
  | 419 | 419 | } |
  | 420 |  |  |
  |  | 420 |  |
  |  | 421 | public static function sanitize\_multidimensional\_array($array) { |
  |  | 422 | $sanitized\_array = array(); |
  |  | 423 |  |
  |  | 424 | foreach ($array as $key => $value) { |
  |  | 425 | if (is\_array($value)) { |
  |  | 426 | // If the value is an array, recursively sanitize it |
  |  | 427 | $sanitized\_array[$key] = SGPopup::sanitize\_multidimensional\_array($value); |
  |  | 428 | } else { |
  |  | 429 | // If the value is a string, sanitize it |
  |  | 430 | $sanitized\_array[$key] = is\_string($value) ? sanitize\_text\_field($value) : $value; |
  |  | 431 | } |
  |  | 432 | } |
  |  | 433 |  |
  |  | 434 | return $sanitized\_array; |
  |  | 435 | } |
  | 421 | 436 | public function recursiveSanitizeTextField($array) |
  | 422 | 437 | { |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L459) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L474) |  |
  | 459 | 474 | return $array; |
  | 460 | 475 | } |
  |  | 476 |  |
  |  | 477 |  |
  | 461 | 478 |  |
  | 462 | 479 | public static function parsePopupDataFromData($data) |
  | 463 | 480 | { |
  | 464 |  | $popupData = array(); |
  | 465 |  | $data = apply\_filters('sgpbFilterOptionsBeforeSaving', $data); |
  | 466 |  | foreach ($data as $key => $value) { |
  | 467 |  | if ( !is\_array( $value ) ) { |
  |  | 481 | global $SGPB\_OPTIONS; |
  |  | 482 |  |
  |  | 483 | // Do not processing the whole input |
  |  | 484 | $essentialsgpbKeys  = array\_column($SGPB\_OPTIONS, 'name'); |
  |  | 485 | $popupData = array(); |
  |  | 486 | $data = apply\_filters('sgpbFilterOptionsBeforeSaving', $data); |
  |  | 487 | foreach ($data as $key => $value) { |
  |  | 488 | // Skip processing if the key is not essential |
  |  | 489 | if (!in\_array($key, $essentialsgpbKeys)) { |
  |  | 490 | continue; |
  |  | 491 | } |
  |  | 492 | if ( !is\_array( $value ) ) { |
  | 468 | 493 | //Sanitize URL to avoid 404 error |
  | 469 | 494 | if ( strpos( $key, '-url' ) === false ) |
  | 470 | 495 | $value = sanitize\_text\_field( $value ); |
  | 471 | 496 | else |
  | 472 |  | $value = wp\_sanitize\_redirect( $value ); |
  | 473 |  | } |
  | 474 |  | if (strpos($key, 'sgpb') === 0) { |
  | 475 |  | $popupData[$key] = $value; |
  | 476 |  | } |
  |  | 497 | $value = wp\_sanitize\_redirect( $value ); |
  |  | 498 | } |
  |  | 499 | else |
  |  | 500 | { |
  |  | 501 | $value = SGPopup::sanitize\_multidimensional\_array( $value ); |
  |  | 502 | } |
  |  | 503 |  |
  |  | 504 | $popupData[$key] = $value; |
  |  | 505 |  |
  | 477 | 506 | if (is\_array($value) && isset($value['name']) && strpos($value['name'], 'sgpb') === 0) { |
  | 478 |  | $popupData[$value['name']] = sanitize\_text\_field( $value['value'] ); |
  |  | 507 | $popupData[$value['name']] = sanitize\_text\_field( $value['value'] ); |
  | 479 | 508 | } |
  | 480 | 509 | else if (is\_array($value) && isset($value['name']) && strpos($value['name'], 'post\_ID') === 0) { |
  | 481 | 510 | $popupData['sgpb-post-id'] = (int) sanitize\_text\_field( $value['value'] ); |
  | 482 |  | } |
  | 483 |  | } |
  |  | 511 | } |
  |  | 512 | } |
  |  | 513 |  |
  | 484 | 514 | return $popupData; |
  | 485 | 515 | } |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L536) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L566) |  |
  | 536 | 566 | unset($data['sgpb-events']); |
  | 537 | 567 | } |
  |  | 568 |  |
  | 538 | 569 | $data = $this->customScriptsSave($data); |
  | 539 | 570 | $this->setOptions($data); |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L585) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L616) |  |
  | 585 | 616 | $popupContent = $this->getContent(); |
  | 586 | 617 |  |
  | 587 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 618 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 588 | 619 | $defaultDataJs = $defaultData['customEditorContent']['js']['helperText']; |
  | 589 | 620 | $defaultDataCss = $defaultData['customEditorContent']['css']['oldDefaultValue']; |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L592) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L623) |  |
  | 592 | 623 | $alreadySavedData = get\_post\_meta($popupId, 'sg\_popup\_scripts', true); |
  | 593 | 624 |  |
  |  | 625 | if( !isset( $data['sgpb-css-editor'] ) ) |
  |  | 626 | { |
  |  | 627 | $data['sgpb-css-editor'] = ''; |
  |  | 628 | } |
  | 594 | 629 | // get styles |
  | 595 | 630 | $finalData['css'] = $data['sgpb-css-editor']; |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L607) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L642) |  |
  | 607 | 642 | // get scripts |
  | 608 | 643 | foreach ($defaultDataJs as $key => $value) { |
  |  | 644 | if( !isset( $data['sgpb-'.$key] ) ) |
  |  | 645 | { |
  |  | 646 | continue; |
  |  | 647 | } |
  | 609 | 648 | if ($data['sgpb-'.$key] == '') { |
  | 610 | 649 | unset($data['sgpb-'.$key]); |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L668) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L707) |  |
  | 668 | 707 |  |
  | 669 | 708 | if (isset($valueAttrs['isPostCategory'])){ |
  | 670 |  | $targetData[$groupId][$ruleId]['value'] = ConfigDataHelper::getTermsByIds($ruleData['value']); |
  |  | 709 | $targetData[$groupId][$ruleId]['value'] = SGPBConfigDataHelper::getTermsByIds($ruleData['value']); |
  | 671 | 710 | } elseif(isset($valueAttrs['isPostTag'])) { |
  | 672 |  | $targetData[$groupId][$ruleId]['value'] = ConfigDataHelper::getTagsBySlug($ruleData['value']); |
  |  | 711 | $targetData[$groupId][$ruleId]['value'] = SGPBConfigDataHelper::getTagsBySlug($ruleData['value']); |
  | 673 | 712 | } |
  | 674 | 713 |  |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L684) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L723) |  |
  | 684 | 723 | ); |
  | 685 | 724 |  |
  | 686 |  | $searchResults = ConfigDataHelper::getPostTypeData($args); |
  |  | 725 | $searchResults = SGPBConfigDataHelper::getPostTypeData($args); |
  | 687 | 726 |  |
  | 688 | 727 | $targetData[$groupId][$ruleId]['value'] = $searchResults; |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L766) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L805) |  |
  | 766 | 805 | ); |
  | 767 | 806 |  |
  | 768 |  | $searchResults = ConfigDataHelper::getPostTypeData($args); |
  |  | 807 | $searchResults = SGPBConfigDataHelper::getPostTypeData($args); |
  | 769 | 808 | $popupOptions['sgpb-behavior-after-special-events'][$groupId][$ruleId]['value'] = $searchResults; |
  | 770 | 809 | } |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L1132) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L1171) |  |
  | 1132 | 1171 | 'post\_\_in'  => array($popupId) |
  | 1133 | 1172 | ); |
  | 1134 |  | $postById = ConfigDataHelper::getPostTypeData($args); |
  |  | 1173 | $postById = SGPBConfigDataHelper::getPostTypeData($args); |
  | 1135 | 1174 | //When target data does not exist |
  | 1136 | 1175 | if (empty($postById)) { |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L1310) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L1349) |  |
  | 1310 | 1349 | } |
  | 1311 | 1350 | ?> |
  | 1312 |  | <<?php echo ~~$wrap~~; ?> |
  |  | 1351 | <<?php echo wp\_kses\_post($wrap); ?> |
  | 1313 | 1352 | <?php if ($wrap == 'a') : ?> |
  | 1314 | 1353 | href="javascript:void(0)" |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L1500) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L1539) |  |
  | 1500 | 1539 |  |
  | 1501 | 1540 | if (!file\_exists($typePath.$popupClassName.'.php')) { |
  | 1502 |  | wp\_die(esc\_html\_\_('Popup class does not exist', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 1541 | wp\_die(esc\_html\_\_('Popup class does not exist', 'popup-builder')); |
  | 1503 | 1542 | } |
  | 1504 | 1543 | require\_once($typePath.$popupClassName.'.php'); |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L1587) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L1626) |  |
  | 1587 | 1626 | ); |
  | 1588 | 1627 | $allPopups = array(); |
  | 1589 |  | $allPostData = ConfigDataHelper::getQueryDataByArgs($args); |
  |  | 1628 | $allPostData = SGPBConfigDataHelper::getQueryDataByArgs($args); |
  | 1590 | 1629 |  |
  | 1591 | 1630 | if (empty($allPostData)) { |
  | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3038724#L1755) | […](/browser/popup-builder/trunk/com/classes/popups/SGPopup.php?rev=3085485#L1794) |  |
  | 1755 | 1794 | 'post\_status' => array('trash', 'publish') |
  | 1756 | 1795 | ); |
  | 1757 |  | if (!class\_exists('ConfigDataHelper')) { |
  |  | 1796 | if (!class\_exists('SGPBConfigDataHelper')) { |
  | 1758 | 1797 | return $activePopupsQuery; |
  | 1759 | 1798 | } |
  | 1760 |  | $allPostData = ConfigDataHelper::getQueryDataByArgs($args); |
  |  | 1799 | $allPostData = SGPBConfigDataHelper::getQueryDataByArgs($args); |
  | 1761 | 1800 | $args['checkActivePopupType'] = true; |
  | 1762 | 1801 | $allPopups = $allPostData->posts; |
* ## [popup-builder/trunk/com/classes/popups/SubscriptionPopup.php](/changeset/3085485/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/classes/popups/SubscriptionPopup.php")

  | [r2734570](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=2734570#L438 "Show revision 2734570 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=3085485#L438 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 438 | 438 |  |
  | 439 | 439 | private function getSubscriptionValidationScripts($validateObj) |
  | 440 |  | { |
  | 441 |  | $script = '<script type="text/javascript">'; |
  | 442 |  | $script .= $validateObj; |
  | 443 |  | $script .= '</script>'; |
  | 444 |  |  |
  | 445 |  | return $script; |
  |  | 440 | { |
  |  | 441 | wp\_register\_script( 'sgpb-subscriptionpopup-js-footer', '', array("jquery"), '', true ); |
  |  | 442 | wp\_enqueue\_script( 'sgpb-subscriptionpopup-js-footer'  ); |
  |  | 443 | wp\_add\_inline\_script( 'sgpb-subscriptionpopup-js-footer', $validateObj); |
  |  | 444 | return ''; |
  | 446 | 445 | } |
  | 447 | 446 |  |
  | […](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=2734570#L491) | […](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=3085485#L490) |  |
  | 491 | 490 | $optionsViewData = array( |
  | 492 | 491 | 'filePath' => SG\_POPUP\_TYPE\_OPTIONS\_PATH . 'subscription.php', |
  | 493 |  | 'metaboxTitle' => ~~'Subscription Settings'~~, |
  |  | 492 | 'metaboxTitle' => \_\_('Subscription Settings', 'popup-builder'), |
  | 494 | 493 | 'short\_description' => 'Create subscription form, customize the fields and styles' |
  | 495 | 494 | ); |
  | […](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=2734570#L525) | […](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=3085485#L524) |  |
  | 525 | 524 | ?> |
  | 526 | 525 | <div class="subs-form-messages sgpb-alert sgpb-alert-success sg-hide-element"> |
  | 527 |  | <p><?php echo ~~$successMessage~~; ?></p> |
  |  | 526 | <p><?php echo wp\_kses\_post( $successMessage ); ?></p> |
  | 528 | 527 | </div> |
  | 529 | 528 | <div class="subs-form-messages sgpb-alert sgpb-alert-danger sg-hide-element"> |
  | 530 |  | <p><?php echo ~~$errorMessage~~; ?></p> |
  |  | 529 | <p><?php echo wp\_kses\_post( $errorMessage ); ?></p> |
  | 531 | 530 | </div> |
  | 532 | 531 | <?php |
  | […](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=2734570#L663) | […](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=3085485#L662) |  |
  | 663 | 662 | $id = $subscriptionForm->getId(); |
  | 664 | 663 | if ($title == '') { |
  | 665 |  | $title = '('.\_\_('no title', ~~SG\_POPUP\_TEXT\_DOMAIN~~).')'; |
  |  | 664 | $title = '('.\_\_('no title', 'popup-builder').')'; |
  | 666 | 665 | } |
  | 667 | 666 | $subsFormList[$id] = $title; |
  | […](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=2734570#L675) | […](/browser/popup-builder/trunk/com/classes/popups/SubscriptionPopup.php?rev=3085485#L674) |  |
  | 675 | 674 | $subsDateList = array(); |
  | 676 | 675 | global $wpdb; |
  | 677 |  | $subscriptionPopups = $wpdb->get\_results('SELECT id, cDate FROM '.$wpdb->prefix.SGPB\_SUBSCRIBERS\_TABLE\_NAME, ARRAY\_A); |
  |  | 676 |  |
  |  | 677 | $subscriptionPopups = $wpdb->get\_results( $wpdb->prepare('SELECT id, cDate FROM %i', $wpdb->prefix.SGPB\_SUBSCRIBERS\_TABLE\_NAME), ARRAY\_A); |
  | 678 | 678 |  |
  | 679 | 679 | foreach ($subscriptionPopups as $subscriptionForm) { |
* ## [popup-builder/trunk/com/config/config-free.php](/changeset/3085485/popup-builder/trunk/com/config/config-free.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/config/config-free.php")

  | [r2976515](/browser/popup-builder/trunk/com/config/config-free.php?rev=2976515#L4 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/config/config-free.php?rev=3085485#L4 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | } |
  | 5 | 5 |  |
  | 6 |  | define('SG~~\_POPUP\_VERSION', '4.1.14~~'); |
  |  | 6 | define('SGPB\_POPUP\_VERSION', '4.3.0'); |
  | 7 | 7 | define('SGPB\_POPUP\_PKG', SGPB\_POPUP\_PKG\_FREE); |
  | 8 |  | define('POPUP\_BUILDER\_BASENAME', 'popupbuilder-platinum/popup-builder.php'); |
  |  | 8 | define('SGPB\_POPUP\_BUILDER\_BASENAME', 'popupbuilder-platinum/popup-builder.php'); |
* ## [popup-builder/trunk/com/config/config-gold.php](/changeset/3085485/popup-builder/trunk/com/config/config-gold.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/config/config-gold.php")

  | [r2976515](/browser/popup-builder/trunk/com/config/config-gold.php?rev=2976515#L7 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/config/config-gold.php?rev=3085485#L7 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | define('SGPB\_ITEM\_ID', 84579); |
  | 8 | 8 |  |
  | 9 |  | define('SG~~\_POPUP\_VERSION', '4.0.7~~'); |
  |  | 9 | define('SGPB\_POPUP\_VERSION', '4.3.0'); |
  | 10 | 10 | // for popup builder license version |
  | 11 |  | define('SG~~\_VERSION\_POPUP\_BUILDER', SG~~\_POPUP\_VERSION); |
  |  | 11 | define('SGPB\_VERSION\_POPUP\_BUILDER', SGPB\_POPUP\_VERSION); |
  | 12 | 12 | define('SGPB\_POPUP\_PKG', SGPB\_POPUP\_PKG\_GOLD); |
  | 13 |  | define('POPUP\_BUILDER\_BASENAME', 'popupbuilder-platinum/popup-builderPro.php'); |
  |  | 13 | define('SGPB\_POPUP\_BUILDER\_BASENAME', 'popupbuilder-platinum/popup-builderPro.php'); |
* ## [popup-builder/trunk/com/config/config-platinum.php](/changeset/3085485/popup-builder/trunk/com/config/config-platinum.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/config/config-platinum.php")

  | [r2976515](/browser/popup-builder/trunk/com/config/config-platinum.php?rev=2976515#L7 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/config/config-platinum.php?rev=3085485#L7 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | define('SGPB\_ITEM\_ID', 84595); |
  | 8 | 8 |  |
  | 9 |  | define('SG~~\_POPUP\_VERSION', '4.0.7~~'); |
  |  | 9 | define('SGPB\_POPUP\_VERSION', '4.3.0'); |
  | 10 | 10 | // for popup builder license version |
  | 11 |  | define('SG~~\_VERSION\_POPUP\_BUILDER', SG~~\_POPUP\_VERSION); |
  |  | 11 | define('SGPB\_VERSION\_POPUP\_BUILDER', SGPB\_POPUP\_VERSION); |
  | 12 | 12 | define('SGPB\_POPUP\_PKG', SGPB\_POPUP\_PKG\_PLATINUM); |
  | 13 |  | define('POPUP\_BUILDER\_BASENAME', 'popupbuilder-platinum/popup-builderPro.php'); |
  |  | 13 | define('SGPB\_POPUP\_BUILDER\_BASENAME', 'popupbuilder-platinum/popup-builderPro.php'); |
* ## [popup-builder/trunk/com/config/config-silver.php](/changeset/3085485/popup-builder/trunk/com/config/config-silver.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/config/config-silver.php")

  | [r2976515](/browser/popup-builder/trunk/com/config/config-silver.php?rev=2976515#L7 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/config/config-silver.php?rev=3085485#L7 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | define('SGPB\_ITEM\_ID', 4146); |
  | 8 | 8 |  |
  | 9 |  | define('SG~~\_POPUP\_VERSION', '4.0.7~~'); |
  |  | 9 | define('SGPB\_POPUP\_VERSION', '4.3.0'); |
  | 10 | 10 | // for popup builder license version |
  | 11 |  | define('SG~~\_VERSION\_POPUP\_BUILDER', SG~~\_POPUP\_VERSION); |
  |  | 11 | define('SGPB\_VERSION\_POPUP\_BUILDER', SGPB\_POPUP\_VERSION); |
  | 12 | 12 | define('SGPB\_POPUP\_PKG', SGPB\_POPUP\_PKG\_SILVER); |
  | 13 |  | define('POPUP\_BUILDER\_BASENAME', 'popupbuilder-platinum/popup-builderPro.php'); |
  |  | 13 | define('SGPB\_POPUP\_BUILDER\_BASENAME', 'popupbuilder-platinum/popup-builderPro.php'); |
* ## [popup-builder/trunk/com/config/config.php](/changeset/3085485/popup-builder/trunk/com/config/config.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/config/config.php")

  | [r2674803](/browser/popup-builder/trunk/com/config/config.php?rev=2674803#L1 "Show revision 2674803 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/config/config.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 |  |  |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 3 | 6 | class SgpbPopupConfig |
  | 4 | 7 | { |
  | […](/browser/popup-builder/trunk/com/config/config.php?rev=2674803#L55) | […](/browser/popup-builder/trunk/com/config/config.php?rev=3085485#L58) |  |
  | 55 | 58 | self::addDefine('SGPB\_AGE\_VERIFICATION\_PLUGIN\_URL', 'https://popup-builder.com/product/age-restriction-popup/'); |
  | 56 | 59 | self::addDefine('SG\_POPUP\_ADMIN\_URL', admin\_url()); |
  | 57 |  | self::addDefine('SG\_POPUP\_BUILDER\_URL', plugins\_url().'/'.SG\_POPUP\_FOLDER\_NAME.'/'); |
  |  | 60 | self::addDefine('SG\_POPUP\_BUILDER\_URL', plugins\_url().'/'.SGPB\_POPUP\_FOLDER\_NAME.'/'); |
  | 58 | 61 | self::addDefine('SG\_POPUP\_PLUGIN\_PATH', WP\_PLUGIN\_DIR.'/'); |
  | 59 |  | self::addDefine('SG\_POPUP\_BUILDER\_PATH', SG\_POPUP\_PLUGIN\_PATH.SG\_POPUP\_FOLDER\_NAME.'/'); |
  |  | 62 | self::addDefine('SG\_POPUP\_BUILDER\_PATH', SG\_POPUP\_PLUGIN\_PATH.SGPB\_POPUP\_FOLDER\_NAME.'/'); |
  | 60 | 63 | self::addDefine('SG\_POPUP\_COM\_PATH', SG\_POPUP\_BUILDER\_PATH.'com/'); |
  | 61 | 64 | self::addDefine('SG\_POPUP\_CONFIG\_PATH', SG\_POPUP\_COM\_PATH.'config/'); |
  | […](/browser/popup-builder/trunk/com/config/config.php?rev=2674803#L131) | […](/browser/popup-builder/trunk/com/config/config.php?rev=3085485#L134) |  |
  | 131 | 134 | self::addDefine('SGPB\_INACTIVE\_EXTENSIONS', 'inactivePBExtensions'); |
  | 132 | 135 | self::addDefine('SGPB\_POPUP\_LICENSE\_SCREEN', SG\_POPUP\_POST\_TYPE.'\_page\_'.SGPB\_POPUP\_LICENSE); |
  | 133 |  | self::addDefine('SGPB\_SUBSCRIPTION\_ERROR\_MESSAGE', \_\_('There was an error while trying to send your request. Please try again', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'.'); |
  | 134 |  | self::addDefine('SGPB\_SUBSCRIPTION\_VALIDATION\_MESSAGE', \_\_('This field is required', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'.'); |
  | 135 |  | self::addDefine('SGPB\_SUBSCRIPTION\_EMAIL\_MESSAGE', \_\_('Please enter a valid email address', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'.'); |
  |  | 136 | self::addDefine('SGPB\_SUBSCRIPTION\_ERROR\_MESSAGE', \_\_('There was an error while trying to send your request. Please try again', 'popup-builder').'.'); |
  |  | 137 | self::addDefine('SGPB\_SUBSCRIPTION\_VALIDATION\_MESSAGE', \_\_('This field is required', 'popup-builder').'.'); |
  |  | 138 | self::addDefine('SGPB\_SUBSCRIPTION\_EMAIL\_MESSAGE', \_\_('Please enter a valid email address', 'popup-builder').'.'); |
  | 136 | 139 | self::addDefine('SGPB\_TRANSIENT\_TIMEOUT\_HOUR', 60 \* MINUTE\_IN\_SECONDS); |
  | 137 | 140 | self::addDefine('SGPB\_TRANSIENT\_TIMEOUT\_DAY', 24 \* HOUR\_IN\_SECONDS); |
  | […](/browser/popup-builder/trunk/com/config/config.php?rev=2674803#L167) | […](/browser/popup-builder/trunk/com/config/config.php?rev=3085485#L170) |  |
  | 167 | 170 |  |
  | 168 | 171 | $SGPB\_POPUP\_TYPES['typeLabels'] = apply\_filters('sgpbAddPopupTypeLabels', array( |
  | 169 |  | 'image' => \_\_('Image', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 170 |  | 'html' => \_\_('HTML', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 171 |  | 'fblike' => \_\_('Facebook', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 172 |  | 'subscription' => \_\_('Subscription', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 172 | 'image' => \_\_('Image', 'popup-builder'), |
  |  | 173 | 'html' => \_\_('HTML', 'popup-builder'), |
  |  | 174 | 'fblike' => \_\_('Facebook', 'popup-builder'), |
  |  | 175 | 'subscription' => \_\_('Subscription', 'popup-builder') |
  | 173 | 176 | )); |
  | 174 | 177 | } |
* ## [popup-builder/trunk/com/config/configPackage.php](/changeset/3085485/popup-builder/trunk/com/config/configPackage.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/config/configPackage.php")

  | [r3038724](/browser/popup-builder/trunk/com/config/configPackage.php?rev=3038724#L4 "Show revision 3038724 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/config/configPackage.php?rev=3085485#L4 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | } |
  | 5 | 5 |  |
  | 6 |  | define('SG~~\_POPUP\_VERSION', '4.2.7~~'); |
  |  | 6 | define('SGPB\_POPUP\_VERSION', '4.3.0'); |
  | 7 | 7 | define('SGPB\_POPUP\_PKG', SGPB\_POPUP\_PKG\_FREE); |
  | 8 |  | define('POPUP\_BUILDER\_BASENAME', 'popupbuilder-platinum/popup-builder.php'); |
  |  | 8 | define('SGPB\_POPUP\_BUILDER\_BASENAME', 'popupbuilder-platinum/popup-builder.php'); |
* ## [popup-builder/trunk/com/config/dataConfig.php](/changeset/3085485/popup-builder/trunk/com/config/dataConfig.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/config/dataConfig.php")

  | [r2728641](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L1 "Show revision 2728641 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | require\_once(SG\_POPUP\_HELPERS\_PATH.'ConfigDataHelper.php'); |
  | 3 | 7 | use sgpb\PopupBuilderActivePackage; |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L32) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L36) |  |
  | 32 | 36 |  |
  | 33 | 37 | $targetParams = array( |
  | 34 |  | 'not\_rule' => \_\_('Select rule', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 35 |  | 'everywhere' => \_\_('Everywhere', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 38 | 'not\_rule' => \_\_('Select rule', 'popup-builder'), |
  |  | 39 | 'everywhere' => \_\_('Everywhere', 'popup-builder'), |
  | 36 | 40 | 'Post' => array( |
  | 37 |  | 'post\_all' => \_\_('All posts', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 38 |  | 'post\_selected' => \_\_('Selected posts', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 39 |  | 'post\_type' => \_\_('Post type', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 40 |  | 'post\_category' => \_\_('Post category', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 41 | 'post\_all' => \_\_('All posts', 'popup-builder'), |
  |  | 42 | 'post\_selected' => \_\_('Selected posts', 'popup-builder'), |
  |  | 43 | 'post\_type' => \_\_('Post type', 'popup-builder'), |
  |  | 44 | 'post\_category' => \_\_('Post category', 'popup-builder') |
  | 41 | 45 | ), |
  | 42 | 46 | 'Page' => array( |
  | 43 |  | 'page\_all' => \_\_('All pages', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 44 |  | 'page\_selected' => \_\_('Selected pages', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 45 |  | 'page\_type' => \_\_('Page type', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 46 |  | 'page\_template' => \_\_('Page template', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 47 | 'page\_all' => \_\_('All pages', 'popup-builder'), |
  |  | 48 | 'page\_selected' => \_\_('Selected pages', 'popup-builder'), |
  |  | 49 | 'page\_type' => \_\_('Page type', 'popup-builder'), |
  |  | 50 | 'page\_template' => \_\_('Page template', 'popup-builder') |
  | 47 | 51 | ), |
  | 48 | 52 | 'Tags' => array( |
  | 49 |  | 'post\_tags' => \_\_('All tags', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 50 |  | 'post\_tags\_ids' => \_\_('Selected tags', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 53 | 'post\_tags' => \_\_('All tags', 'popup-builder'), |
  |  | 54 | 'post\_tags\_ids' => \_\_('Selected tags', 'popup-builder') |
  | 51 | 55 | ) |
  | 52 | 56 | ); |
  | 53 | 57 |  |
  | 54 | 58 | $targetOperators = array( |
  | 55 |  | array('operator' => 'add', 'name' => \_\_('Add', ~~SG\_POPUP\_TEXT\_DOMAIN~~)), |
  | 56 |  | array('operator' => 'delete', 'name' => \_\_('Delete', ~~SG\_POPUP\_TEXT\_DOMAIN~~)) |
  |  | 59 | array('operator' => 'add', 'name' => \_\_('Add', 'popup-builder')), |
  |  | 60 | array('operator' => 'delete', 'name' => \_\_('Delete', 'popup-builder')) |
  | 57 | 61 | ); |
  | 58 | 62 |  |
  | 59 | 63 | $targetDataOperator = array( |
  | 60 |  | '==' => \_\_('Is', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 61 |  | '!=' => \_\_('Is not', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 64 | '==' => \_\_('Is', 'popup-builder'), |
  |  | 65 | '!=' => \_\_('Is not', 'popup-builder') |
  | 62 | 66 | ); |
  | 63 | 67 | $targetInitialData = array( |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L90) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L94) |  |
  | 90 | 94 | 'infoAttrs' => array( |
  | 91 | 95 | 'label' => 'Display rule', |
  | 92 |  | 'info' => \_\_('Specify where the popup should be shown on your site.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 96 | 'info' => \_\_('Specify where the popup should be shown on your site.', 'popup-builder') |
  | 93 | 97 | ) |
  | 94 | 98 |  |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L102) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L106) |  |
  | 102 | 106 | 'infoAttrs' => array( |
  | 103 | 107 | 'label' => 'Is or is not', |
  | 104 |  | 'info' => \_\_('Allow or Disallow popup showing for the selected rule.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 108 | 'info' => \_\_('Allow or Disallow popup showing for the selected rule.', 'popup-builder') |
  | 105 | 109 | ) |
  | 106 | 110 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L115) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L119) |  |
  | 115 | 119 | 'infoAttrs' => array( |
  | 116 | 120 | 'label' => 'Select Your Posts', |
  | 117 |  | 'info' => \_\_('Select your specific posts where the popup should be shown.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 121 | 'info' => \_\_('Select your specific posts where the popup should be shown.', 'popup-builder') |
  | 118 | 122 | ) |
  | 119 | 123 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L128) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L132) |  |
  | 128 | 132 | 'infoAttrs' => array( |
  | 129 | 133 | 'label' => 'Select Your Pages', |
  | 130 |  | 'info' => \_\_('Select the pages on your site where the specific popup will be shown.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 134 | 'info' => \_\_('Select the pages on your site where the specific popup will be shown.', 'popup-builder') |
  | 131 | 135 | ) |
  | 132 | 136 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L142) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L146) |  |
  | 142 | 146 | 'infoAttrs' => array( |
  | 143 | 147 | 'label' => 'Select Your post types', |
  | 144 |  | 'info' => \_\_('Specify the post types on your site to show the popup.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 148 | 'info' => \_\_('Specify the post types on your site to show the popup.', 'popup-builder') |
  | 145 | 149 | ) |
  | 146 | 150 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L157) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L161) |  |
  | 157 | 161 | 'infoAttrs' => array( |
  | 158 | 162 | 'label' => 'Select post categories', |
  | 159 |  | 'info' => \_\_('Select the post categories on which the popup should be shown.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 163 | 'info' => \_\_('Select the post categories on which the popup should be shown.', 'popup-builder') |
  | 160 | 164 | ) |
  | 161 | 165 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L171) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L175) |  |
  | 171 | 175 | 'infoAttrs' => array( |
  | 172 | 176 | 'label' => 'Select specific page types', |
  | 173 |  | 'info' => \_\_('Specify the page types where the popup will be shown.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 177 | 'info' => \_\_('Specify the page types where the popup will be shown.', 'popup-builder') |
  | 174 | 178 | ) |
  | 175 | 179 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L185) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L189) |  |
  | 185 | 189 | 'infoAttrs' => array( |
  | 186 | 190 | 'label' => 'Select page template', |
  | 187 |  | 'info' => \_\_('Select the page templates on which the popup will be shown.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 191 | 'info' => \_\_('Select the page templates on which the popup will be shown.', 'popup-builder') |
  | 188 | 192 | ) |
  | 189 | 193 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L200) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L204) |  |
  | 200 | 204 | 'infoAttrs' => array( |
  | 201 | 205 | 'label' => 'Select tags', |
  | 202 |  | 'info' => \_\_('Select the tags on your site for popup showing', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 206 | 'info' => \_\_('Select the tags on your site for popup showing', 'popup-builder') |
  | 203 | 207 | ) |
  | 204 | 208 | ) |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L240) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L244) |  |
  | 240 | 244 | $params = array( |
  | 241 | 245 | 'load' => 'On load', |
  | 242 |  | SGPB\_CSS\_CLASS\_ACTIONS\_KEY => \_\_('Set by CSS class', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 243 |  | SGPB\_CLICK\_ACTION\_KEY => \_\_('On Click', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 244 |  | SGPB\_HOVER\_ACTION\_KEY => \_\_('On Hover', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 245 |  | 'inactivity' => \_\_('Inactivity', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 246 |  | 'onScroll' => \_\_('On Scroll', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 246 | SGPB\_CSS\_CLASS\_ACTIONS\_KEY => \_\_('Set by CSS class', 'popup-builder'), |
  |  | 247 | SGPB\_CLICK\_ACTION\_KEY => \_\_('On Click', 'popup-builder'), |
  |  | 248 | SGPB\_HOVER\_ACTION\_KEY => \_\_('On Hover', 'popup-builder'), |
  |  | 249 | 'inactivity' => \_\_('Inactivity', 'popup-builder'), |
  |  | 250 | 'onScroll' => \_\_('On Scroll', 'popup-builder') |
  | 247 | 251 | ); |
  | 248 | 252 |  |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L263) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L267) |  |
  | 263 | 267 | $eventsDataParams['defaultHoverClassName'] = 'sg-popup-hover-'; |
  | 264 | 268 | $eventsDataParams[SGPB\_CSS\_CLASS\_ACTIONS\_KEY] = null; |
  | 265 |  | $eventsDataParams[SGPB\_CLICK\_ACTION\_KEY.'Operator'] = ConfigDataHelper::getClickActionOptions(); |
  | 266 |  | $eventsDataParams[SGPB\_HOVER\_ACTION\_KEY.'Operator'] = ConfigDataHelper::getHoverActionOptions(); |
  |  | 269 | $eventsDataParams[SGPB\_CLICK\_ACTION\_KEY.'Operator'] = SGPBConfigDataHelper::getClickActionOptions(); |
  |  | 270 | $eventsDataParams[SGPB\_HOVER\_ACTION\_KEY.'Operator'] = SGPBConfigDataHelper::getHoverActionOptions(); |
  | 267 | 271 | /\*Hidden params data\*/ |
  | 268 | 272 | $eventsDataParams['repetitive'] = ''; |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L288) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L292) |  |
  | 288 | 292 | 'infoAttrs' => array( |
  | 289 | 293 | 'label' => 'Event', |
  | 290 |  | 'info' => \_\_('Select when the popup should appear on the page.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 294 | 'info' => \_\_('Select when the popup should appear on the page.', 'popup-builder') |
  | 291 | 295 | ) |
  | 292 | 296 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L299) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L303) |  |
  | 299 | 303 | 'infoAttrs' => array( |
  | 300 | 304 | 'label' => 'Options', |
  | 301 |  | 'info' => \_\_('Select the condition for the current event.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 305 | 'info' => \_\_('Select the condition for the current event.', 'popup-builder') |
  | 302 | 306 | ) |
  | 303 | 307 | ), |
  | 304 | 308 | 'load' => array( |
  | 305 |  | 'htmlAttrs' => array('class' => 'js-sg-onload-text formItem\_\_input formItem\_\_input\_select2\_num\_input', 'placeholder' => \_\_('default custom delay will be used', ~~SG\_POPUP\_TEXT\_DOMAIN~~), 'min' => 0), |
  |  | 309 | 'htmlAttrs' => array('class' => 'js-sg-onload-text formItem\_\_input formItem\_\_input\_select2\_num\_input', 'placeholder' => \_\_('default custom delay will be used', 'popup-builder'), 'min' => 0), |
  | 306 | 310 | 'infoAttrs' => array( |
  | 307 | 311 | 'label' => 'Delay', |
  | 308 |  | 'info' => \_\_('Specify how long the popup appearance should be delayed after loading the page (in sec).', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 312 | 'info' => \_\_('Specify how long the popup appearance should be delayed after loading the page (in sec).', 'popup-builder') |
  | 309 | 313 | ) |
  | 310 | 314 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L317) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L321) |  |
  | 317 | 321 | 'infoAttrs' => array( |
  | 318 | 322 | 'label' => 'Click Event', |
  | 319 |  | 'info' => \_\_('Specify the part of the page, in percentages, where the popup should appear after scrolling.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 323 | 'info' => \_\_('Specify the part of the page, in percentages, where the popup should appear after scrolling.', 'popup-builder') |
  | 320 | 324 | ) |
  | 321 | 325 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L328) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L332) |  |
  | 328 | 332 | 'infoAttrs' => array( |
  | 329 | 333 | 'label' => 'Hover Event', |
  | 330 |  | 'info' => \_\_('Specify the part of the page, in percentages, where the popup should appear after scrolling.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 334 | 'info' => \_\_('Specify the part of the page, in percentages, where the popup should appear after scrolling.', 'popup-builder') |
  | 331 | 335 | ) |
  | 332 | 336 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L335) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L339) |  |
  | 335 | 339 | 'infoAttrs' => array( |
  | 336 | 340 | 'label' => 'Custom Class', |
  | 337 |  | 'info' => \_\_('Add the CSS class name of your HTML element which will trigger this popup after click.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 341 | 'info' => \_\_('Add the CSS class name of your HTML element which will trigger this popup after click.', 'popup-builder') |
  | 338 | 342 | ) |
  | 339 | 343 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L342) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L346) |  |
  | 342 | 346 | 'infoAttrs' => array( |
  | 343 | 347 | 'label' => 'Custom Class', |
  | 344 |  | 'info' => \_\_('Add the CSS class name of your HTML element which will trigger this popup after click.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 348 | 'info' => \_\_('Add the CSS class name of your HTML element which will trigger this popup after click.', 'popup-builder') |
  | 345 | 349 | ) |
  | 346 | 350 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L351) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L355) |  |
  | 351 | 355 | 'readonly' => '', |
  | 352 | 356 | 'value' => 'sg-popup-id-', |
  | 353 |  | 'beforeSaveLabel' => \_\_('Please save popup to generate class name.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 357 | 'beforeSaveLabel' => \_\_('Please save popup to generate class name.', 'popup-builder') |
  | 354 | 358 | ), |
  | 355 | 359 | 'infoAttrs' => array( |
  | 356 | 360 | 'label' => 'Default Class', |
  | 357 |  | 'info' => \_\_('Add the following CSS class into your HTML element.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 361 | 'info' => \_\_('Add the following CSS class into your HTML element.', 'popup-builder') |
  | 358 | 362 | ) |
  | 359 | 363 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L364) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L368) |  |
  | 364 | 368 | 'readonly' => '', |
  | 365 | 369 | 'value' => 'sg-popup-hover-', |
  | 366 |  | 'beforeSaveLabel' => \_\_('Please save popup to generate class name.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 370 | 'beforeSaveLabel' => \_\_('Please save popup to generate class name.', 'popup-builder') |
  | 367 | 371 | ), |
  | 368 | 372 | 'infoAttrs' => array( |
  | 369 | 373 | 'label' => 'Default Class', |
  | 370 |  | 'info' => \_\_('Add the following CSS class into your HTML element.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 374 | 'info' => \_\_('Add the following CSS class into your HTML element.', 'popup-builder') |
  | 371 | 375 | ) |
  | 372 | 376 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L379) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L383) |  |
  | 379 | 383 | 'infoAttrs' => array( |
  | 380 | 384 | 'label' => 'Repetitive open popup', |
  | 381 |  | 'info' => \_\_('If this option is enabled the same popup will open up after every X seconds you have defined (after closing it).', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 385 | 'info' => \_\_('If this option is enabled the same popup will open up after every X seconds you have defined (after closing it).', 'popup-builder') |
  | 382 | 386 | ), |
  | 383 | 387 | 'childOptions' => array('repetitivePeriod') |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L390) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L394) |  |
  | 390 | 394 | 'infoAttrs' => array( |
  | 391 | 395 | 'label' => 'period', |
  | 392 |  | 'info' => \_\_('This is info', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 396 | 'info' => \_\_('This is info', 'popup-builder') |
  | 393 | 397 | ) |
  | 394 | 398 | ) |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L418) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L422) |  |
  | 418 | 422 |  |
  | 419 | 423 | $targetParams = array( |
  | 420 |  | 'select\_role' => \_\_('Select Conditions', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 424 | 'select\_role' => \_\_('Select Conditions', 'popup-builder') |
  | 421 | 425 | ); |
  | 422 | 426 |  |
  | 423 | 427 | $targetOperators = array( |
  | 424 |  | array('operator' => 'add', 'name' => \_\_('Add', ~~SG\_POPUP\_TEXT\_DOMAIN~~)), |
  | 425 |  | array('operator' => 'delete', 'name' => \_\_('Delete', ~~SG\_POPUP\_TEXT\_DOMAIN~~)) |
  |  | 428 | array('operator' => 'add', 'name' => \_\_('Add', 'popup-builder')), |
  |  | 429 | array('operator' => 'delete', 'name' => \_\_('Delete', 'popup-builder')) |
  | 426 | 430 | ); |
  | 427 | 431 |  |
  | 428 | 432 | $targetDataOperator = array( |
  | 429 |  | '==' => \_\_('Is', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 430 |  | '!=' => \_\_('Is not', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 433 | '==' => \_\_('Is', 'popup-builder'), |
  |  | 434 | '!=' => \_\_('Is not', 'popup-builder') |
  | 431 | 435 | ); |
  | 432 | 436 |  |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L450) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L454) |  |
  | 450 | 454 | 'infoAttrs' => array( |
  | 451 | 455 | 'label' => 'Condition', |
  | 452 |  | 'info' => \_\_('Target visitors to show the popup by different conditions.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 456 | 'info' => \_\_('Target visitors to show the popup by different conditions.', 'popup-builder') |
  | 453 | 457 | ) |
  | 454 | 458 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L461) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L465) |  |
  | 461 | 465 | 'infoAttrs' => array( |
  | 462 | 466 | 'label' => 'Rule', |
  | 463 |  | 'info' => \_\_('Allow or Disallow popup showing for the selected conditions.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 467 | 'info' => \_\_('Allow or Disallow popup showing for the selected conditions.', 'popup-builder') |
  | 464 | 468 | ) |
  | 465 | 469 | ) |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L494) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L498) |  |
  | 494 | 498 | $keys = array(); |
  | 495 | 499 | $keys[] = array( |
  | 496 |  | 'label' => \_\_('AdBlock', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 500 | 'label' => \_\_('AdBlock', 'popup-builder'), |
  | 497 | 501 | 'version' => '3.0', |
  | 498 | 502 | 'stable\_version' => '3.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L502) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L506) |  |
  | 502 | 506 | ); |
  | 503 | 507 | $keys[] = array( |
  | 504 |  | 'label' => \_\_('Advanced Closing', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 508 | 'label' => \_\_('Advanced Closing', 'popup-builder'), |
  | 505 | 509 | 'version' => '2.0', |
  | 506 | 510 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L510) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L514) |  |
  | 510 | 514 | ); |
  | 511 | 515 | $keys[] = array( |
  | 512 |  | 'label' => \_\_('Advanced Targeting', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 516 | 'label' => \_\_('Advanced Targeting', 'popup-builder'), |
  | 513 | 517 | 'version' => '3.0', |
  | 514 | 518 | 'stable\_version' => '3.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L518) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L522) |  |
  | 518 | 522 | ); |
  | 519 | 523 | $keys[] = array( |
  | 520 |  | 'label' => \_\_('Age Restriction', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 524 | 'label' => \_\_('Age Restriction', 'popup-builder'), |
  | 521 | 525 | 'version' => '2.0', |
  | 522 | 526 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L526) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L530) |  |
  | 526 | 530 | ); |
  | 527 | 531 | $keys[] = array( |
  | 528 |  | 'label' => \_\_('Analytics', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 532 | 'label' => \_\_('Analytics', 'popup-builder'), |
  | 529 | 533 | 'version' => '4.0', |
  | 530 | 534 | 'stable\_version' => '4.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L534) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L538) |  |
  | 534 | 538 | ); |
  | 535 | 539 | $keys[] = array( |
  | 536 |  | 'label' => \_\_('AWeber', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 540 | 'label' => \_\_('AWeber', 'popup-builder'), |
  | 537 | 541 | 'version' => '3.0', |
  | 538 | 542 | 'stable\_version' => '3.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L542) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L546) |  |
  | 542 | 546 | ); |
  | 543 | 547 | $keys[] = array( |
  | 544 |  | 'label' => \_\_('Contact Form', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 548 | 'label' => \_\_('Contact Form', 'popup-builder'), |
  | 545 | 549 | 'version' => '3.0', |
  | 546 | 550 | 'stable\_version' => '3.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L550) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L554) |  |
  | 550 | 554 | ); |
  | 551 | 555 | $keys[] = array( |
  | 552 |  | 'label' => \_\_('Countdown', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 556 | 'label' => \_\_('Countdown', 'popup-builder'), |
  | 553 | 557 | 'version' => '3.0', |
  | 554 | 558 | 'stable\_version' => '3.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L558) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L562) |  |
  | 558 | 562 | ); |
  | 559 | 563 | $keys[] = array( |
  | 560 |  | 'label' => \_\_('EDD', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 564 | 'label' => \_\_('EDD', 'popup-builder'), |
  | 561 | 565 | 'version' => '2.0', |
  | 562 | 566 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L566) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L570) |  |
  | 566 | 570 | ); |
  | 567 | 571 | $keys[] = array( |
  | 568 |  | 'label' => \_\_('Exit Intent',~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 572 | 'label' => \_\_('Exit Intent','popup-builder'), |
  | 569 | 573 | 'version' => '4.0', |
  | 570 | 574 | 'stable\_version' => '4.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L574) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L578) |  |
  | 574 | 578 | ); |
  | 575 | 579 | $keys[] = array( |
  | 576 |  | 'label' => \_\_('Gamification', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 580 | 'label' => \_\_('Gamification', 'popup-builder'), |
  | 577 | 581 | 'version' => '2.0', |
  | 578 | 582 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L582) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L586) |  |
  | 582 | 586 | ); |
  | 583 | 587 | $keys[] = array( |
  | 584 |  | 'label' => \_\_('Geo Targeting', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 588 | 'label' => \_\_('Geo Targeting', 'popup-builder'), |
  | 585 | 589 | 'version' => '3.0', |
  | 586 | 590 | 'stable\_version' => '3.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L590) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L594) |  |
  | 590 | 594 | ); |
  | 591 | 595 | $keys[] = array( |
  | 592 |  | 'label' => \_\_('Iframe', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 596 | 'label' => \_\_('Iframe', 'popup-builder'), |
  | 593 | 597 | 'version' => '2.0', |
  | 594 | 598 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L598) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L602) |  |
  | 598 | 602 | ); |
  | 599 | 603 | $keys[] = array( |
  | 600 |  | 'label' => \_\_('Inactivity', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 604 | 'label' => \_\_('Inactivity', 'popup-builder'), |
  | 601 | 605 | 'version' => '2.0', |
  | 602 | 606 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L606) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L610) |  |
  | 606 | 610 | ); |
  | 607 | 611 | $keys[] = array( |
  | 608 |  | 'label' => \_\_('Log In', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 612 | 'label' => \_\_('Log In', 'popup-builder'), |
  | 609 | 613 | 'version' => '3.0', |
  | 610 | 614 | 'stable\_version' => '3.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L614) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L618) |  |
  | 614 | 618 | ); |
  | 615 | 619 | $keys[] = array( |
  | 616 |  | 'label' => \_\_('Mailchimp', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 620 | 'label' => \_\_('Mailchimp', 'popup-builder'), |
  | 617 | 621 | 'version' => '4.0', |
  | 618 | 622 | 'stable\_version' => '4.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L622) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L626) |  |
  | 622 | 626 | ); |
  | 623 | 627 | $keys[] = array( |
  | 624 |  | 'label' => \_\_('PDF', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 628 | 'label' => \_\_('PDF', 'popup-builder'), |
  | 625 | 629 | 'version' => '2.0', |
  | 626 | 630 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L630) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L634) |  |
  | 630 | 634 | ); |
  | 631 | 635 | $keys[] = array( |
  | 632 |  | 'label' => \_\_('Push Notification', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 636 | 'label' => \_\_('Push Notification', 'popup-builder'), |
  | 633 | 637 | 'version' => '2.0', |
  | 634 | 638 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L638) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L642) |  |
  | 638 | 642 | ); |
  | 639 | 643 | $keys[] = array( |
  | 640 |  | 'label' => \_\_('Random', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 644 | 'label' => \_\_('Random', 'popup-builder'), |
  | 641 | 645 | 'version' => '2.0', |
  | 642 | 646 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L646) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L650) |  |
  | 646 | 650 | ); |
  | 647 | 651 | $keys[] = array( |
  | 648 |  | 'label' => \_\_('Recent Sales', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 652 | 'label' => \_\_('Recent Sales', 'popup-builder'), |
  | 649 | 653 | 'version' => '2.0', |
  | 650 | 654 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L654) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L658) |  |
  | 654 | 658 | ); |
  | 655 | 659 | $keys[] = array( |
  | 656 |  | 'label' => \_\_('Registration', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 660 | 'label' => \_\_('Registration', 'popup-builder'), |
  | 657 | 661 | 'version' => '2.0', |
  | 658 | 662 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L662) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L666) |  |
  | 662 | 666 | ); |
  | 663 | 667 | $keys[] = array( |
  | 664 |  | 'label' => \_\_('Restriction', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 668 | 'label' => \_\_('Restriction', 'popup-builder'), |
  | 665 | 669 | 'version' => '3.0', |
  | 666 | 670 | 'stable\_version' => '3.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L670) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L674) |  |
  | 670 | 674 | ); |
  | 671 | 675 | $keys[] = array( |
  | 672 |  | 'label' => \_\_('Scheduling', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 676 | 'label' => \_\_('Scheduling', 'popup-builder'), |
  | 673 | 677 | 'version' => '2.0', |
  | 674 | 678 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L678) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L682) |  |
  | 678 | 682 | ); |
  | 679 | 683 | $keys[] = array( |
  | 680 |  | 'label' => \_\_('Scroll', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 684 | 'label' => \_\_('Scroll', 'popup-builder'), |
  | 681 | 685 | 'version' => '3.0', |
  | 682 | 686 | 'stable\_version' => '3.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L686) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L690) |  |
  | 686 | 690 | ); |
  | 687 | 691 | $keys[] = array( |
  | 688 |  | 'label' => \_\_('Social', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 692 | 'label' => \_\_('Social', 'popup-builder'), |
  | 689 | 693 | 'version' => '2.0', |
  | 690 | 694 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L694) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L698) |  |
  | 694 | 698 | ); |
  | 695 | 699 | $keys[] = array( |
  | 696 |  | 'label' => \_\_('Subscription Plus', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 700 | 'label' => \_\_('Subscription Plus', 'popup-builder'), |
  | 697 | 701 | 'version' => '4.0', |
  | 698 | 702 | 'stable\_version' => '4.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L702) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L706) |  |
  | 702 | 706 | ); |
  | 703 | 707 | $keys[] = array( |
  | 704 |  | 'label' => \_\_('Video', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 708 | 'label' => \_\_('Video', 'popup-builder'), |
  | 705 | 709 | 'version' => '2.0', |
  | 706 | 710 | 'stable\_version' => '2.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L710) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L714) |  |
  | 710 | 714 | ); |
  | 711 | 715 | $keys[] = array( |
  | 712 |  | 'label' => \_\_('WooCommerce', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 716 | 'label' => \_\_('WooCommerce', 'popup-builder'), |
  | 713 | 717 | 'version' => '3.0', |
  | 714 | 718 | 'stable\_version' => '3.0', |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L742) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L746) |  |
  | 742 | 746 | $params = array( |
  | 743 | 747 | 'param' => array( |
  | 744 |  | 'select\_event' => \_\_('Select event', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 745 |  | \_\_('Special events', ~~SG\_POPUP\_TEXT\_DOMAIN~~) => array( |
  | 746 |  | SGPB\_CONTACT\_FORM\_7\_BEHAVIOR\_KEY => \_\_('Contact Form 7 submission', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 748 | 'select\_event' => \_\_('Select event', 'popup-builder'), |
  |  | 749 | \_\_('Special events', 'popup-builder') => array( |
  |  | 750 | SGPB\_CONTACT\_FORM\_7\_BEHAVIOR\_KEY => \_\_('Contact Form 7 submission', 'popup-builder') |
  | 747 | 751 | ) |
  | 748 | 752 | ), |
  | 749 | 753 | 'operator' => array( |
  | 750 |  | 'select\_behavior' => \_\_('Select behavior', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 751 |  | \_\_('Behaviors', ~~SG\_POPUP\_TEXT\_DOMAIN~~) => array( |
  | 752 |  | 'redirect-url' => \_\_('Redirect to URL', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 753 |  | 'open-popup' => \_\_('Open another popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 754 |  | 'close-popup' => \_\_('Close current popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 754 | 'select\_behavior' => \_\_('Select behavior', 'popup-builder'), |
  |  | 755 | \_\_('Behaviors', 'popup-builder') => array( |
  |  | 756 | 'redirect-url' => \_\_('Redirect to URL', 'popup-builder'), |
  |  | 757 | 'open-popup' => \_\_('Open another popup', 'popup-builder'), |
  |  | 758 | 'close-popup' => \_\_('Close current popup', 'popup-builder') |
  | 755 | 759 | ) |
  | 756 | 760 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L777) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L781) |  |
  | 777 | 781 | ), |
  | 778 | 782 | 'infoAttrs' => array( |
  | 779 |  | 'label' => \_\_('Event', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 780 |  | 'info' => \_\_('Select the special event you want to catch.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 783 | 'label' => \_\_('Event', 'popup-builder'), |
  |  | 784 | 'info' => \_\_('Select the special event you want to catch.', 'popup-builder') |
  | 781 | 785 | ) |
  | 782 | 786 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L788) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L792) |  |
  | 788 | 792 | ), |
  | 789 | 793 | 'infoAttrs' => array( |
  | 790 |  | 'label' => \_\_('Behavior', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 791 |  | 'info' => \_\_('Select what should happen after the special event.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 794 | 'label' => \_\_('Behavior', 'popup-builder'), |
  |  | 795 | 'info' => \_\_('Select what should happen after the special event.', 'popup-builder') |
  | 792 | 796 | ) |
  | 793 | 797 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L799) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L803) |  |
  | 799 | 803 | ), |
  | 800 | 804 | 'infoAttrs' => array( |
  | 801 |  | 'label' => \_\_('URL', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 802 |  | 'info' => \_\_('Enter the URL of the page should be redirected to.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 805 | 'label' => \_\_('URL', 'popup-builder'), |
  |  | 806 | 'info' => \_\_('Enter the URL of the page should be redirected to.', 'popup-builder') |
  | 803 | 807 | ) |
  | 804 | 808 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L812) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L816) |  |
  | 812 | 816 | ), |
  | 813 | 817 | 'infoAttrs' => array( |
  | 814 |  | 'label' => \_\_('Select popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 815 |  | 'info' => \_\_('Select the popup that should be opened.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 818 | 'label' => \_\_('Select popup', 'popup-builder'), |
  |  | 819 | 'info' => \_\_('Select the popup that should be opened.', 'popup-builder') |
  | 816 | 820 | ) |
  | 817 | 821 | ), |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L824) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L828) |  |
  | 824 | 828 | ), |
  | 825 | 829 | 'infoAttrs' => array( |
  | 826 |  | 'label' => \_\_('Delay', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 827 |  | 'info' => \_\_('After how many seconds the popup should close.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 830 | 'label' => \_\_('Delay', 'popup-builder'), |
  |  | 831 | 'info' => \_\_('After how many seconds the popup should close.', 'popup-builder') |
  | 828 | 832 | ) |
  | 829 | 833 | ) |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L873) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L877) |  |
  | 873 | 877 | $options[] = array('name' => 'sgpb-copy-to-clipboard-close-popup', 'type' => 'checkbox', 'defaultValue' => 'on'); |
  | 874 | 878 | $options[] = array('name' => 'sgpb-copy-to-clipboard-alert', 'type' => 'checkbox', 'defaultValue' => 'on'); |
  | 875 |  | $options[] = array('name' => 'sgpb-copy-to-clipboard-message', 'type' => 'text', 'defaultValue' => \_\_('Copied to Clipboard!', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 879 | $options[] = array('name' => 'sgpb-copy-to-clipboard-message', 'type' => 'text', 'defaultValue' => \_\_('Copied to Clipboard!', 'popup-builder')); |
  | 876 | 880 | $options[] = array('name' => 'sgpb-disable-popup-closing', 'type' => 'checkbox', 'defaultValue' => '', 'min-version' => SGPB\_POPUP\_PRO\_MIN\_VERSION, 'min-pkg' => SGPB\_POPUP\_PKG\_SILVER); |
  | 877 | 881 | $options[] = array('name' => 'sgpb-popup-dimension-mode', 'type' => 'text', 'defaultValue' => 'responsiveMode'); |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L927) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L931) |  |
  | 927 | 931 | $options[] = array('name' => 'sgpb-subs-form-bg-opacity', 'type' => 'text', 'defaultValue' => 0.8); |
  | 928 | 932 | $options[] = array('name' => 'sgpb-subs-form-padding', 'type' => 'number', 'defaultValue' => 2); |
  | 929 |  | $options[] = array('name' => 'sgpb-subs-email-placeholder', 'type' => 'text', 'defaultValue' => \_\_('Email \*', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 933 | $options[] = array('name' => 'sgpb-subs-email-placeholder', 'type' => 'text', 'defaultValue' => \_\_('Email \*', 'popup-builder')); |
  | 930 | 934 | $options[] = array('name' => 'sgpb-subs-first-name-status', 'type' => 'checkbox', 'defaultValue' => 'on'); |
  | 931 |  | $options[] = array('name' => 'sgpb-subs-first-placeholder', 'type' => 'text', 'defaultValue' => \_\_('First name', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 935 | $options[] = array('name' => 'sgpb-subs-first-placeholder', 'type' => 'text', 'defaultValue' => \_\_('First name', 'popup-builder')); |
  | 932 | 936 | $options[] = array('name' => 'sgpb-subs-first-name-required', 'type' => 'checkbox', 'defaultValue' => ''); |
  | 933 | 937 | $options[] = array('name' => 'sgpb-subs-last-name-status', 'type' => 'checkbox', 'defaultValue' => 'on'); |
  | 934 |  | $options[] = array('name' => 'sgpb-subs-last-placeholder', 'type' => 'text', 'defaultValue' => \_\_('Last name', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 938 | $options[] = array('name' => 'sgpb-subs-last-placeholder', 'type' => 'text', 'defaultValue' => \_\_('Last name', 'popup-builder')); |
  | 935 | 939 | $options[] = array('name' => 'sgpb-subs-last-name-required', 'type' => 'checkbox', 'defaultValue' => ''); |
  | 936 |  | $options[] = array('name' => 'sgpb-subs-validation-message', 'type' => 'text', 'defaultValue' => \_\_('This field is required.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 940 | $options[] = array('name' => 'sgpb-subs-validation-message', 'type' => 'text', 'defaultValue' => \_\_('This field is required.', 'popup-builder')); |
  | 937 | 941 | $options[] = array('name' => 'sgpb-subs-text-width', 'type' => 'text', 'defaultValue' => '300px'); |
  | 938 | 942 | $options[] = array('name' => 'sgpb-subs-text-height', 'type' => 'text', 'defaultValue' => '40px'); |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L947) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L951) |  |
  | 947 | 951 | $options[] = array('name' => 'sgpb-subs-btn-border-width', 'type' => 'text', 'defaultValue' => '0px'); |
  | 948 | 952 | $options[] = array('name' => 'sgpb-subs-btn-border-color', 'type' => 'text', 'defaultValue' => '#007fe1'); |
  | 949 |  | $options[] = array('name' => 'sgpb-subs-btn-title', 'type' => 'text', 'defaultValue' => \_\_('Subscribe', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  | 950 |  | $options[] = array('name' => 'sgpb-subs-btn-progress-title', 'type' => 'text', 'defaultValue' => \_\_('Please wait...', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 953 | $options[] = array('name' => 'sgpb-subs-btn-title', 'type' => 'text', 'defaultValue' => \_\_('Subscribe', 'popup-builder')); |
  |  | 954 | $options[] = array('name' => 'sgpb-subs-btn-progress-title', 'type' => 'text', 'defaultValue' => \_\_('Please wait...', 'popup-builder')); |
  | 951 | 955 | $options[] = array('name' => 'sgpb-subs-btn-bg-color', 'type' => 'text', 'defaultValue' => '#007fe1'); |
  | 952 | 956 | $options[] = array('name' => 'sgpb-subs-btn-text-color', 'type' => 'text', 'defaultValue' => '#FFFFFF'); |
  | 953 | 957 | $options[] = array('name' => 'sgpb-subs-error-message', 'type' => 'text', 'defaultValue' => SGPB\_SUBSCRIPTION\_ERROR\_MESSAGE); |
  | 954 |  | $options[] = array('name' => 'sgpb-subs-invalid-message', 'type' => 'text', 'defaultValue' => \_\_('Please enter a valid email address', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'.'); |
  |  | 958 | $options[] = array('name' => 'sgpb-subs-invalid-message', 'type' => 'text', 'defaultValue' => \_\_('Please enter a valid email address', 'popup-builder').'.'); |
  | 955 | 959 | $options[] = array('name' => 'sgpb-subs-success-behavior', 'type' => 'text', 'defaultValue' => 'showMessage'); |
  | 956 |  | $options[] = array('name' => 'sgpb-subs-success-message', 'type' => 'text', 'defaultValue' =>  \_\_('You have successfully subscribed to the newsletter', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 960 | $options[] = array('name' => 'sgpb-subs-success-message', 'type' => 'text', 'defaultValue' =>  \_\_('You have successfully subscribed to the newsletter', 'popup-builder')); |
  | 957 | 961 | $options[] = array('name' => 'sgpb-subs-success-redirect-URL', 'type' => 'text', 'defaultValue' =>  ''); |
  | 958 | 962 | $options[] = array('name' => 'sgpb-subs-success-redirect-new-tab', 'type' => 'checkbox', 'defaultValue' =>  ''); |
  | 959 | 963 | $options[] = array('name' => 'sgpb-subs-gdpr-status', 'type' => 'checkbox', 'defaultValue' =>  ''); |
  | 960 | 964 | $options[] = array('name' => 'sgpb-subs-show-form-to-top', 'type' => 'checkbox', 'defaultValue' =>  ''); |
  | 961 |  | $options[] = array('name' => 'sgpb-subs-gdpr-label', 'type' => 'text', 'defaultValue' =>  \_\_('Accept Terms', SG\_POPUP\_TEXT\_DOMAIN)); |
  | 962 |  | $options[] = array('name' => 'sgpb-subs-gdpr-text', 'type' => 'text', 'defaultValue' =>  \_\_(get\_bloginfo().' will use the information you provide on this form to be in touch with you and to provide updates and marketing.', SG\_POPUP\_TEXT\_DOMAIN)); |
  |  | 965 | $options[] = array('name' => 'sgpb-subs-gdpr-label', 'type' => 'text', 'defaultValue' =>  \_\_('Accept Terms', 'popup-builder')); |
  |  | 966 | /\* translators: Website Blog info \*/ |
  |  | 967 | $options[] = array('name' => 'sgpb-subs-gdpr-text', 'type' => 'text', 'defaultValue' =>  sprintf( \_\_('%s will use the information you provide on this form to be in touch with you and to provide updates and marketing.', 'popup-builder'), get\_bloginfo())); |
  | 963 | 968 | $options[] = array('name' => 'sgpb-subs-fields', 'type' => 'sgpb', 'defaultValue' => ''); |
  | 964 | 969 | $options[] = array('name' => 'sgpb-fblike-like-url', 'type' => 'text', 'defaultValue' => ''); |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L983) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L988) |  |
  | 983 | 988 | $options[] = array('name' => 'sgpb-floating-button-bg-color', 'type' => 'text', 'defaultValue' => '#5263eb'); |
  | 984 | 989 | $options[] = array('name' => 'sgpb-floating-button-text-color', 'type' => 'text', 'defaultValue' => '#ffffff'); |
  | 985 |  | $options[] = array('name' => 'sgpb-floating-button-text', 'type' => 'text', 'defaultValue' => \_\_('Click it!')); |
  |  | 990 | $options[] = array('name' => 'sgpb-floating-button-text', 'type' => 'text', 'defaultValue' => \_\_('Click it!', 'popup-builder')); |
  | 986 | 991 |  |
  | 987 | 992 | $SGPB\_OPTIONS = apply\_filters('sgpbPopupDefaultOptions', $options); |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L993) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L998) |  |
  | 993 | 998 | array( |
  | 994 | 999 | 'folderName' => 'popup-builder-ad-block', |
  | 995 |  | 'label' => \_\_('AdBlock', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 1000 | 'label' => \_\_('AdBlock', 'popup-builder') |
  | 996 | 1001 | ), |
  | 997 | 1002 | array( |
  | 998 | 1003 | 'folderName' => 'popup-builder-analytics', |
  | 999 |  | 'label' => \_\_('Analytics', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 1004 | 'label' => \_\_('Analytics', 'popup-builder') |
  | 1000 | 1005 | ), |
  | 1001 | 1006 | array( |
  | 1002 | 1007 | 'folderName' => 'popup-builder-exit-intent', |
  | 1003 |  | 'label' => \_\_('Exit intent', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 1008 | 'label' => \_\_('Exit intent', 'popup-builder') |
  | 1004 | 1009 | ), |
  | 1005 | 1010 | array( |
  | 1006 | 1011 | 'folderName' => 'popup-builder-mailchimp', |
  | 1007 |  | 'label' => \_\_('Mailchimp', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 1012 | 'label' => \_\_('Mailchimp', 'popup-builder') |
  | 1008 | 1013 | ), |
  | 1009 | 1014 | array( |
  | 1010 | 1015 | 'folderName' => 'popup-builder-aweber', |
  | 1011 |  | 'label' => \_\_('AWeber', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 1016 | 'label' => \_\_('AWeber', 'popup-builder') |
  | 1012 | 1017 | ) |
  | 1013 | 1018 | ); |
  | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=2728641#L1018) | […](/browser/popup-builder/trunk/com/config/dataConfig.php?rev=3085485#L1023) |  |
  | 1018 | 1023 | public static function addFilters() |
  | 1019 | 1024 | { |
  | 1020 |  | ConfigDataHelper::addFilters(); |
  |  | 1025 | SGPBConfigDataHelper::addFilters(); |
  | 1021 | 1026 | } |
  | 1022 | 1027 |  |
* ## [popup-builder/trunk/com/helpers/AdminHelper.php](/changeset/3085485/popup-builder/trunk/com/helpers/AdminHelper.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/helpers/AdminHelper.php")

  | [r3038724](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L265 "Show revision 3038724 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L265 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 265 | 265 | else { |
  | 266 | 266 | $str .= '<div class="row form-group">'; |
  | 267 |  | $str .= '<label class="col-md-5 control-label">'.~~\_\_($element['title'], SG\_POPUP\_TEXT\_DOMAIN~~).'</label>'; |
  |  | 267 | $str .= '<label class="col-md-5 control-label">'.sprintf( '%s', esc\_html( $element['title'] )).'</label>'; |
  | 268 | 268 | $str .= '<div class="col-sm-7"><input type="radio" name="'.esc\_attr($name).'" value="'.esc\_attr($value).'" '.$checked.' autocomplete="off">'.$extraHtmlAfterInput.'</div>'; |
  | 269 | 269 | $str .= '</div>'; |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L339) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L339) |  |
  | 339 | 339 | $query = 'SELECT firstName, lastName, email, cDate, '.$additionalColumn.' '.$postsTablename.'.post\_title AS subscriptionTitle FROM '.$subscribersTablename.' '; |
  | 340 | 340 | } |
  | 341 |  |  |
  | 342 |  | $searchQuery = ' unsubscribed <> 1'; |
  |  | 341 | $array\_mapping\_search = []; |
  |  | 342 | $searchQuery = ' unsubscribed <> %d'; |
  |  | 343 | $array\_mapping\_search[] = 1; |
  | 343 | 344 | $filterCriteria = ''; |
  | 344 | 345 |  |
  | 345 | 346 | $query .= ' LEFT JOIN '.$postsTablename.' ON '.$postsTablename.'.ID='.$subscribersTablename.'.subscriptionType'; |
  | 346 |  |  |
  |  | 347 |  |
  | 347 | 348 | if (isset($\_GET['sgpb-subscription-popup-id']) && !empty($\_GET['sgpb-subscription-popup-id'])) { |
  | 348 | 349 | $filterCriteria = sanitize\_text\_field($\_GET['sgpb-subscription-popup-id']); |
  | 349 | 350 | if ($filterCriteria != 'all') { |
  | 350 |  | $searchQuery .= " AND (subscriptionType = '".esc\_sql((int)$filterCriteria)."')"; |
  |  | 351 | $searchQuery .= " AND (subscriptionType = %s)"; |
  |  | 352 | $array\_mapping\_search[] = esc\_sql((int)$filterCriteria); |
  | 351 | 353 | } |
  | 352 | 354 | } |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L361) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L363) |  |
  | 361 | 363 | } |
  | 362 | 364 | $searchCriteria = "%" . esc\_sql($wpdb->esc\_like( $searchCriteria )) . "%"; |
  | 363 |  | $searchQuery .= "(firstName LIKE '$searchCriteria' or lastName LIKE '$searchCriteria' or email LIKE '$searchCriteria' or $postsTablename.post\_title LIKE '$searchCriteria')"; |
  |  | 365 | $searchQuery .= "(firstName LIKE %s or lastName LIKE %s or email LIKE %s or $postsTablename.post\_title LIKE %s)"; |
  |  | 366 | $array\_mapping\_search[] = $searchCriteria; |
  |  | 367 | $array\_mapping\_search[] = $searchCriteria; |
  |  | 368 | $array\_mapping\_search[] = $searchCriteria; |
  |  | 369 | $array\_mapping\_search[] = $searchCriteria; |
  | 364 | 370 | } |
  | 365 | 371 | if (isset($\_GET['sgpb-subscribers-date']) && !empty($\_GET['sgpb-subscribers-date'])) { |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L369) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L375) |  |
  | 369 | 375 | $searchQuery .= ' AND '; |
  | 370 | 376 | } |
  | 371 |  | $searchQuery .= " cDate LIKE '".esc\_sql( $wpdb->esc\_like($filterCriteriaDate))."%'"; |
  |  | 377 | $searchQuery .= " cDate LIKE %s "; |
  |  | 378 | $array\_mapping\_search[] = esc\_sql( $wpdb->esc\_like($filterCriteriaDate)).'%'; |
  | 372 | 379 | } |
  | 373 | 380 | } |
  | 374 | 381 | if ($searchQuery != '') { |
  | 375 | 382 | $query .= " WHERE $searchQuery"; |
  | 376 |  | } |
  | 377 |  |  |
  | 378 |  | return $query; |
  |  | 383 | } |
  |  | 384 | return $wpdb->prepare( $query, $array\_mapping\_search ); |
  | 379 | 385 | } |
  | 380 | 386 |  |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L438) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L444) |  |
  | 438 | 444 | { |
  | 439 | 445 | $date = strtotime($date); |
  | 440 |  | $month = date('F', $date); |
  | 441 |  | $year = date('Y', $date); |
  |  | 446 | $month = gmdate('F', $date); |
  |  | 447 | $year = gmdate('Y', $date); |
  | 442 | 448 |  |
  | 443 | 449 | return $month.' '.$year; |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L670) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L676) |  |
  | 670 | 676 | <div class="sgpb-extensions-list-wrapper"> |
  | 671 | 677 | <div class="sgpb-notice-header"> |
  | 672 |  | <h3><?php esc\_html\_e('Popup Builder plugin has been successfully updated', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></h3> |
  | 673 |  | <h4><?php esc\_html\_e('The following extensions need to be updated manually', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></h4> |
  |  | 678 | <h3><?php esc\_html\_e('Popup Builder plugin has been successfully updated', 'popup-builder'); ?></h3> |
  |  | 679 | <h4><?php esc\_html\_e('The following extensions need to be updated manually', 'popup-builder'); ?></h4> |
  | 674 | 680 | </div> |
  | 675 | 681 | <ul class="sgpb-extensions-list"> |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L679) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L685) |  |
  | 679 | 685 | </ul> |
  | 680 | 686 | </div> |
  | 681 |  | <p class="sgpb-extension-notice-dont-show"><?php esc\_html\_e('Don\'t show again', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></p> |
  |  | 687 | <p class="sgpb-extension-notice-dont-show"><?php esc\_html\_e('Don\'t show again', 'popup-builder')?></p> |
  | 682 | 688 | <?php |
  | 683 | 689 | $content = ob\_get\_contents(); |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L755) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L761) |  |
  | 755 | 761 | <p class="sgpb-problem-notice-close">x</p> |
  | 756 | 762 | <div class="sgpb-alert-problem-text-wrapper"> |
  | 757 |  | <h3><?php esc\_html\_e('Popup Builder plugin has been updated to the new version 3.', SG\_POPUP\_TEXT\_DOMAIN); ?></h3> |
  | 758 |  | <h5><?php esc\_html\_e('A lot of changes and improvements have been made.', SG\_POPUP\_TEXT\_DOMAIN); ?></h5> |
  | 759 |  | <h5><?php \_e('In case of any issues, please contact us <a href="<?php echo SG\_POPUP\_TICKET\_URL; ?>" target="\_blank">here</a>.', SG\_POPUP\_TEXT\_DOMAIN); ?></h5> |
  |  | 763 | <h3><?php esc\_html\_e('Popup Builder plugin has been updated to the new version 3.', 'popup-builder'); ?></h3> |
  |  | 764 | <h5><?php esc\_html\_e('A lot of changes and improvements have been made.', 'popup-builder'); ?></h5> |
  |  | 765 | <h5><?php |
  |  | 766 | /\* translators: Ticket URL \*/ |
  |  | 767 | printf( wp\_kses\_post( \_\_('In case of any issues, please contact us <a href="%s" target="\_blank">here</a>.', 'popup-builder') ) , esc\_url( SG\_POPUP\_TICKET\_URL ) ); |
  |  | 768 | ?></h5> |
  | 760 | 769 | </div> |
  | 761 |  | <p class="sgpb-problem-notice-dont-show"><?php esc\_html\_e('Don\'t show again', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></p> |
  |  | 770 | <p class="sgpb-problem-notice-dont-show"><?php esc\_html\_e('Don\'t show again', 'popup-builder'); ?></p> |
  | 762 | 771 | </div> |
  | 763 | 772 | </div> |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L877) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L886) |  |
  | 877 | 886 | self::deleteSubscriber($params); |
  | 878 | 887 | } |
  | 879 |  | else if (!$noSubscriber) { |
  | 880 |  | \_e('<span>Oops, something went wrong, please try again or contact the administrator to check more info.</span>', SG\_POPUP\_TEXT\_DOMAIN); |
  |  | 888 | else if (!$noSubscriber) { |
  |  | 889 | printf( '<span>%s</span>' , |
  |  | 890 | wp\_kses\_post(\_\_('Oops, something went wrong, please try again or contact the administrator to check more info.', 'popup-builder') ) |
  |  | 891 | ); |
  | 881 | 892 | wp\_die(); |
  | 882 | 893 | } |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L910) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L921) |  |
  | 910 | 921 | $prepareSql = $wpdb->prepare('UPDATE '.$wpdb->prefix.SGPB\_SUBSCRIBERS\_TABLE\_NAME.' SET unsubscribed = 1 WHERE id = %s ', $params['subscriberId']); |
  | 911 | 922 | $wpdb->query($prepareSql); |
  | 912 |  |  |
  | 913 |  | \_e('<span>You have successfully unsubscribed. <a href="'.esc\_attr($homeUrl).'">click here</a> to go to the home page.</span>', SG\_POPUP\_TEXT\_DOMAIN); |
  |  | 923 | /\* translators: Home page URL \*/ |
  |  | 924 | printf( '<span>%1$s <a href="%2$s">click here</a> %3$s</span>' , |
  |  | 925 | wp\_kses\_post(\_\_('You have successfully unsubscribed.', 'popup-builder') ), |
  |  | 926 | esc\_url($homeUrl), |
  |  | 927 | wp\_kses\_post(\_\_(' to go to the home page.', 'popup-builder') ) |
  |  | 928 | ); |
  | 914 | 929 | wp\_die(); |
  | 915 | 930 | } |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L924) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L939) |  |
  | 924 | 939 | $receiverEmail = get\_bloginfo('admin\_email'); |
  | 925 | 940 | $userEmail = $params['email']; |
  | 926 |  | $emailTitle = \_\_('Unsubscription', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 941 | $emailTitle = \_\_('Unsubscription', 'popup-builder'); |
  | 927 | 942 | $subscriptionFormId = (int)$newsletterOptions['subscriptionFormId']; |
  | 928 | 943 | $subscriptionFormTitle = get\_the\_title($subscriptionFormId); |
  | 929 |  |  |
  | 930 |  | $message = ~~\_\_('User with '.$userEmail.' email has unsubscribed from '.$subscriptionFormTitle.' mail list', SG\_POPUP\_TEXT\_DOMAIN);~~ |
  | 931 |  |  |
  |  | 944 | /\* translators: user Email, subscription Form Title \*/ |
  |  | 945 | $message = sprintf( \_\_('User with %1$s email has unsubscribed from %2$s mail list', 'popup-builder'), $userEmail, $subscriptionFormTitle); |
  |  | 946 |  |
  | 932 | 947 | $headers  = 'MIME-Version: 1.0'."\r\n"; |
  | 933 | 948 | $headers .= 'From: WordPress Popup Builder'."\r\n"; |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L963) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L978) |  |
  | 963 | 978 | public static function supportBannerNotification() |
  | 964 | 979 | { |
  | 965 |  | $content = '<div class="sgpb-support-notification-wrapper sgpb-wrapper"><h4 class="sgpb-support-notification-title">'.\_\_('Need some help?', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</h4>'; |
  | 966 |  | $content .= '<h4 class="sgpb-support-notification-title">'.\_\_('Let us know what you think.', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</h4>'; |
  | 967 |  | $content .= '<a class="btn btn-info" target="\_blank" href="'.SG\_POPUP\_RATE\_US\_URL.'"><span class="dashicons sgpb-dashicons-heart sgpb-info-text-white"></span><span class="sg-info-text">'.\_\_('Rate Us', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</span></a>'; |
  | 968 |  | $content .= '<a class="btn btn-info" target="\_blank" href="'.SG\_POPUP\_TICKET\_URL.'"><span class="dashicons sgpb-dashicons-megaphone sgpb-info-text-white"></span>'.\_\_('Support Portal', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a>'; |
  | 969 |  | $content .= '<a class="btn btn-info" target="\_blank" href="https://wordpress.org/support/plugin/popup-builder"><span class="dashicons sgpb-dashicons-admin-plugins sgpb-info-text-white"></span>'.\_\_('Support Forum', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a>'; |
  | 970 |  | $content .= '<a class="btn btn-info" target="\_blank" href="'.SG\_POPUP\_STORE\_URL.'"><span class="dashicons sgpb-dashicons-editor-help sgpb-info-text-white"></span>'.\_\_('LIVE chat', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a>'; |
  | 971 |  | $content .= '<a class="btn btn-info" target="\_blank" href="mailto:support@popup-builder.com?subject=Hello"><span class="dashicons sgpb-dashicons-email-alt sgpb-info-text-white"></span>'.\_\_('Email', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'</a></div>'; |
  |  | 980 | $content = '<div class="sgpb-support-notification-wrapper sgpb-wrapper"><h4 class="sgpb-support-notification-title">'.\_\_('Need some help?', 'popup-builder').'</h4>'; |
  |  | 981 | $content .= '<h4 class="sgpb-support-notification-title">'.\_\_('Let us know what you think.', 'popup-builder').'</h4>'; |
  |  | 982 | $content .= '<a class="btn btn-info" target="\_blank" href="'.SG\_POPUP\_RATE\_US\_URL.'"><span class="dashicons sgpb-dashicons-heart sgpb-info-text-white"></span><span class="sg-info-text">'.\_\_('Rate Us', 'popup-builder').'</span></a>'; |
  |  | 983 | $content .= '<a class="btn btn-info" target="\_blank" href="'.SG\_POPUP\_TICKET\_URL.'"><span class="dashicons sgpb-dashicons-megaphone sgpb-info-text-white"></span>'.\_\_('Support Portal', 'popup-builder').'</a>'; |
  |  | 984 | $content .= '<a class="btn btn-info" target="\_blank" href="https://wordpress.org/support/plugin/popup-builder"><span class="dashicons sgpb-dashicons-admin-plugins sgpb-info-text-white"></span>'.\_\_('Support Forum', 'popup-builder').'</a>'; |
  |  | 985 | $content .= '<a class="btn btn-info" target="\_blank" href="'.SG\_POPUP\_STORE\_URL.'"><span class="dashicons sgpb-dashicons-editor-help sgpb-info-text-white"></span>'.\_\_('LIVE chat', 'popup-builder').'</a>'; |
  |  | 986 | $content .= '<a class="btn btn-info" target="\_blank" href="mailto:support@popup-builder.com?subject=Hello"><span class="dashicons sgpb-dashicons-email-alt sgpb-info-text-white"></span>'.\_\_('Email', 'popup-builder').'</a></div>'; |
  | 972 | 987 | $content .= '<div class="sgpb-support-notification-dont-show">'.\_\_('Bored of this?').'<a class="sgpb-dont-show-again-support-notification" href="javascript:void(0)">'.\_\_(' Press here ').'</a>'.\_\_('and we will not show it again!').'</div>'; |
  | 973 | 988 |  |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L978) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L993) |  |
  | 978 | 993 | { |
  | 979 | 994 | $getUsageDays = self::getPopupUsageDays(); |
  | 980 |  | $firstHeader = \_\_('<h1 class="sgpb-review-h1"><strong class="sgrb-review-strong">This is great!</strong> We have noticed that you are using Popup Builder plugin on your site for '.$getUsageDays.' days, we are thankful for that.</h1>', SG\_POPUP\_TEXT\_DOMAIN); |
  |  | 995 | /\* translators: Usage Days \*/ |
  |  | 996 | $firstHeader = sprintf('<h1 class="sgpb-review-h1"><strong class="sgrb-review-strong">%1$s</strong> %2$s %3$d %4$s</h1>', |
  |  | 997 | \_\_('This is great!','popup-builder'), |
  |  | 998 | \_\_('We have noticed that you are using Popup Builder plugin on your site for','popup-builder'), |
  |  | 999 | \_\_('days, we are thankful for that.','popup-builder') |
  |  | 1000 | ); |
  | 981 | 1001 | $popupContent = self::getMaxOpenPopupContent($firstHeader, 'days'); |
  | 982 | 1002 |  |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L1053) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L1073) |  |
  | 1053 | 1073 | <div class="sgpb-review-description"> |
  | 1054 | 1074 | <?php echo wp\_kses($firstHeader, 'post'); ?> |
  | 1055 |  | <h2 class="sgrb-review-h2"><?php esc\_html\_e('This is really great for your website score.', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></h2> |
  | 1056 |  | <p class="sgrb-review-mt20"><?php ~~\_e('Have your input in the development of our plugin, and we’ll provide better conversions for your site!<br /> Leave your 5-star positive review and help us go further to the perfection!', SG\_POPUP\_TEXT\_DOMAIN~~); ?></p> |
  |  | 1075 | <h2 class="sgrb-review-h2"><?php esc\_html\_e('This is really great for your website score.', 'popup-builder'); ?></h2> |
  |  | 1076 | <p class="sgrb-review-mt20"><?php esc\_html\_e('Have your input in the development of our plugin, and we’ll provide better conversions for your site!<br /> Leave your 5-star positive review and help us go further to the perfection!', 'popup-builder'); ?></p> |
  | 1057 | 1077 | </div> |
  | 1058 | 1078 | <div class="sgpb-buttons-wrapper"> |
  | 1059 |  | <button class="press press-grey sgpb-button-1 sgpb-close-promo-notification" data-action="sg-already-did-review"><?php esc\_html\_e('I already did', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></button> |
  | 1060 |  | <button class="press press-lightblue sgpb-button-3 sgpb-close-promo-notification" data-action="sg-you-worth-it"><?php esc\_html\_e('You worth it!', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></button> |
  | 1061 |  | <button class="press press-grey sgpb-button-2 sgpb-close-promo-notification" data-action="sg-show-popup-period" data-message-type="<?php echo esc\_attr($type); ?>"><?php esc\_html\_e('Maybe later', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></button></div> |
  |  | 1079 | <button class="press press-grey sgpb-button-1 sgpb-close-promo-notification" data-action="sg-already-did-review"><?php esc\_html\_e('I already did', 'popup-builder'); ?></button> |
  |  | 1080 | <button class="press press-lightblue sgpb-button-3 sgpb-close-promo-notification" data-action="sg-you-worth-it"><?php esc\_html\_e('You worth it!', 'popup-builder'); ?></button> |
  |  | 1081 | <button class="press press-grey sgpb-button-2 sgpb-close-promo-notification" data-action="sg-show-popup-period" data-message-type="<?php echo esc\_attr($type); ?>"><?php esc\_html\_e('Maybe later', 'popup-builder'); ?></button></div> |
  | 1062 | 1082 | <div> </div> |
  | 1063 | 1083 | </div> |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L1092) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L1112) |  |
  | 1092 | 1112 | $remainingDays = SGPB\_REVIEW\_POPUP\_PERIOD - $usageDays; |
  | 1093 | 1113 |  |
  | 1094 |  | $popupTimeZone = \ConfigDataHelper::getDefaultTimezone(); |
  |  | 1114 | $popupTimeZone = \SGPBConfigDataHelper::getDefaultTimezone(); |
  | 1095 | 1115 | $timeDate = new DateTime('now', new DateTimeZone($popupTimeZone)); |
  | 1096 | 1116 | $timeDate->modify('+'.$remainingDays.' day'); |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L1177) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L1197) |  |
  | 1177 | 1197 | $maxCountDefine = $counterMaxPopup['maxCount']; |
  | 1178 | 1198 | } |
  | 1179 |  |  |
  | 1180 |  | $firstHeader = \_\_('<h1 class="sgpb-review-h1"><strong class="sgrb-review-strong">Awesome news!</strong> <b>Popup Builder</b> plugin helped you to share your message via <strong class="sgrb-review-strong">'.$popupTitle.'</strong> popup with your visitors for <strong class="sgrb-review-strong">'.$maxCountDefine.' times!</strong></h1>', SG\_POPUP\_TEXT\_DOMAIN); |
  |  | 1199 | /\* translators: popup Title, max Count Define \*/ |
  |  | 1200 | $firstHeader = |
  |  | 1201 | //sprintf( \_\_('<h1 class="sgpb-review-h1"><strong class="sgrb-review-strong">Awesome news!</strong> <b>Popup Builder</b>plugin helped you to share your message via<strong class="sgrb-review-strong">%1$s</strong>popup with your visitors for<strong class="sgrb-review-strong">%2$d times!</strong></h1>', 'popup-builder'), $popupTitle, $maxCountDefine); |
  |  | 1202 | sprintf('<h1 class="sgpb-review-h1"><strong class="sgrb-review-strong">%1$s</strong> <b>%2$s</b> %3$s <strong class="sgrb-review-strong">%4$s </strong>%5$s<strong class="sgrb-review-strong">%6$d %7$s</strong></h1>', |
  |  | 1203 | \_\_('Awesome news!','popup-builder'), |
  |  | 1204 | \_\_('Popup Builder','popup-builder'), |
  |  | 1205 | \_\_('plugin helped you to share your message via','popup-builder'), |
  |  | 1206 | esc\_html( $popupTitle ), |
  |  | 1207 | \_\_('popup with your visitors for','popup-builder'), |
  |  | 1208 | \_\_('times!','popup-builder') |
  |  | 1209 | ); |
  | 1181 | 1210 | $popupContent = self::getMaxOpenPopupContent($firstHeader, 'count'); |
  | 1182 | 1211 |  |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L1286) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L1315) |  |
  | 1286 | 1315 | { |
  | 1287 | 1316 | $data =  array( |
  | 1288 |  | array('value' => '', 'title' => \_\_('Select Event', ~~SG\_POPUP\_TEXT\_DOMAIN~~)), |
  | 1289 |  | array('value' => 'inherit', 'title' => \_\_('Inherit', ~~SG\_POPUP\_TEXT\_DOMAIN~~)), |
  | 1290 |  | array('value' => 'onLoad', 'title' => \_\_('On load', ~~SG\_POPUP\_TEXT\_DOMAIN~~)), |
  | 1291 |  | array('value' => 'click', 'title' => \_\_('On click', ~~SG\_POPUP\_TEXT\_DOMAIN~~)), |
  | 1292 |  | array('value' => 'hover', 'title' => \_\_('On hover', ~~SG\_POPUP\_TEXT\_DOMAIN~~)) |
  |  | 1317 | array('value' => '', 'title' => \_\_('Select Event', 'popup-builder')), |
  |  | 1318 | array('value' => 'inherit', 'title' => \_\_('Inherit', 'popup-builder')), |
  |  | 1319 | array('value' => 'onLoad', 'title' => \_\_('On load', 'popup-builder')), |
  |  | 1320 | array('value' => 'click', 'title' => \_\_('On click', 'popup-builder')), |
  |  | 1321 | array('value' => 'hover', 'title' => \_\_('On hover', 'popup-builder')) |
  | 1293 | 1322 | ); |
  | 1294 | 1323 |  |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L1438) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L1467) |  |
  | 1438 | 1467 | } |
  | 1439 | 1468 | } |
  | 1440 |  | $registeredPlugins = json\_encode($registeredPlugins); |
  |  | 1469 | $registeredPlugins = wp\_json\_encode($registeredPlugins); |
  | 1441 | 1470 |  |
  | 1442 | 1471 | AdminHelper::updateOption(SGPB\_POPUP\_BUILDER\_REGISTERED\_PLUGINS, $registeredPlugins); |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L1531) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L1560) |  |
  | 1531 | 1560 | return ''; |
  | 1532 | 1561 | } |
  | 1533 |  | $defaultData = \ConfigDataHelper::defaultData(); |
  |  | 1562 | $defaultData = \SGPBConfigDataHelper::defaultData(); |
  | 1534 | 1563 |  |
  | 1535 | 1564 | // get scripts |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L1775) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L1804) |  |
  | 1775 | 1804 | $systemInfoContent .= "\n".'-- Webserver Configuration'."\n\n"; |
  | 1776 | 1805 | $systemInfoContent .= 'PHP Version:              '.PHP\_VERSION."\n"; |
  | 1777 |  | $systemInfoContent .= 'MySQL Version:            '.$wpdb->db\_version()."\n"; |
  | 1778 |  | $s~~ystemInfoContent .= 'Webserver Info:           '.isset($\_SERVER['SERVER\_SOFTWARE'])?$\_SERVER['SERVER\_SOFTWARE']:''."\n"~~; |
  | 1779 |  |  |
  |  | 1806 | $systemInfoContent .= 'MySQL Version:            '.$wpdb->db\_version()."\n"; |
  |  | 1807 | $serverinfo = isset($\_SERVER['SERVER\_SOFTWARE']) ? sanitize\_text\_field($\_SERVER['SERVER\_SOFTWARE']) : ''; |
  |  | 1808 | $systemInfoContent .= 'Webserver Info:           '.$serverinfo."\n"; |
  | 1780 | 1809 | // PHP configs... now we're getting to the important stuff |
  | 1781 | 1810 | $systemInfoContent .= "\n".'-- PHP Configuration'."\n\n"; |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L1807) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L1836) |  |
  | 1807 | 1836 | $systemInfoContent .= 'Use Only Cookies:         '.(ini\_get('session.use\_only\_cookies') ? 'On' : 'Off')."\n"; |
  | 1808 | 1837 | } |
  | 1809 |  |  |
  | 1810 | 1838 | $systemInfoContent = apply\_filters('sgpbSystemInformation', $systemInfoContent); |
  | 1811 | 1839 |  |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L1852) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L1880) |  |
  | 1852 | 1880 | else { |
  | 1853 | 1881 | // Adding a general fallback for data gathering |
  | 1854 |  | return 'DBH: '.DB\_HOST.', SRV: '.(isset($\_SERVER['SERVER\_NAME']) ? $\_SERVER['SERVER\_NAME'] : ''); |
  |  | 1882 | $servername = isset($\_SERVER['SERVER\_NAME']) ? sanitize\_text\_field($\_SERVER['SERVER\_NAME']) : ''; |
  |  | 1883 | return 'DBH: '.DB\_HOST.', SRV: '.$servername; |
  | 1855 | 1884 | } |
  | 1856 | 1885 | } |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L1858) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L1887) |  |
  | 1858 | 1887 | public static function getBrowser() |
  | 1859 | 1888 | { |
  | 1860 |  | $uAgent = 'Unknown'; |
  | 1861 |  | if (isset($\_SERVER['HTTP\_USER\_AGENT'])) { |
  | 1862 |  | $uAgent = $\_SERVER['HTTP\_USER\_AGENT']; |
  | 1863 |  | } |
  |  | 1889 |  |
  |  | 1890 | $uAgent = isset( $\_SERVER['HTTP\_USER\_AGENT'] ) ? sanitize\_text\_field( wp\_unslash( $\_SERVER['HTTP\_USER\_AGENT'] ) ) : 'Unknown'; |
  | 1864 | 1891 | $bname = $platform = $ub = $version = 'Unknown'; |
  | 1865 | 1892 | $browserInfoContent = ''; |
  | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3038724#L2087) | […](/browser/popup-builder/trunk/com/helpers/AdminHelper.php?rev=3085485#L2114) |  |
  | 2087 | 2114 | $pattern = "/\[(\[?)(Unsubscribe)(?![\w-])([^\]\/]\*(?:\/(?!\])[^\]\/]\*)\*?)(?:(\/)\]|\](?:([^\[]\\*+(?:\[(?!\/\2\])[^\[]\\*+)\\*+)\[\/\2\])?)(\]?)/"; |
  | 2088 | 2115 | preg\_match($pattern, $emailMessage, $matches); |
  | 2089 |  | $title = \_\_('Unsubscribe', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 2116 | $title = \_\_('Unsubscribe', 'popup-builder'); |
  | 2090 | 2117 | if ($matches) { |
  | 2091 | 2118 | $patternUnsubscribe = $matches[0]; |
* ## [popup-builder/trunk/com/helpers/ConfigDataHelper.php](/changeset/3085485/popup-builder/trunk/com/helpers/ConfigDataHelper.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/helpers/ConfigDataHelper.php")

  | [r2767625](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L1 "Show revision 2767625 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 |  | class ConfigDataHelper |
  |  | 2 | class SGPBConfigDataHelper |
  | 3 | 3 | { |
  | 4 | 4 | public static $customPostType; |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L24) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L24) |  |
  | 24 | 24 | 'order'            => 'DESC', |
  | 25 | 25 | 'post\_status'      => 'publish', |
  | 26 |  | 'suppress\_filters' => ~~tru~~e, |
  |  | 26 | 'suppress\_filters' => false, |
  | 27 | 27 | 'post\_type'        => 'post', |
  | 28 | 28 | 'posts\_per\_page'   => 1000 |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L135) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L135) |  |
  | 135 | 135 | foreach ($allCustomPostTypes as $customPostType) { |
  | 136 | 136 | $targetAttrs[$customPostType.'\_selected']['htmlAttrs'] = array('class' => 'js-sg-select2 js-select-ajax', 'data-select-class' => 'js-select-ajax', 'data-select-type' => 'ajax', 'data-value-param' => $customPostType, 'multiple' => 'multiple'); |
  | 137 |  | $targetAttrs[$customPostType.'\_selected']['infoAttrs'] = array('label' => \_\_('Select ', ~~SG\_POPUP\_TEXT\_DOMAIN~~).$customPostType); |
  |  | 137 | $targetAttrs[$customPostType.'\_selected']['infoAttrs'] = array('label' => \_\_('Select ', 'popup-builder').$customPostType); |
  | 138 | 138 |  |
  | 139 | 139 | $targetAttrs[$customPostType.'\_categories']['htmlAttrs'] = array('class' => 'js-sg-select2 js-select-ajax', 'data-select-class' => 'js-select-ajax', 'isNotPostType' => true, 'data-value-param' => $customPostType, 'multiple' => 'multiple'); |
  | 140 |  | $targetAttrs[$customPostType.'\_categories']['infoAttrs'] = array('label' => \_\_('Select ', ~~SG\_POPUP\_TEXT\_DOMAIN~~).$customPostType.' categories'); |
  |  | 140 | $targetAttrs[$customPostType.'\_categories']['infoAttrs'] = array('label' => \_\_('Select ', 'popup-builder').$customPostType.' categories'); |
  | 141 | 141 | } |
  | 142 | 142 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L207) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L207) |  |
  | 207 | 207 | $postTypes = array(); |
  | 208 | 208 |  |
  | 209 |  | $postTypes['is\_home\_page'] = \_\_('Home Page', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  | 210 |  | $postTypes['is\_home'] = \_\_('Posts Page', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  | 211 |  | $postTypes['is\_search'] = \_\_('Search Pages', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  | 212 |  | $postTypes['is\_404'] = \_\_('404 Pages', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 209 | $postTypes['is\_home\_page'] = \_\_('Home Page', 'popup-builder'); |
  |  | 210 | $postTypes['is\_home'] = \_\_('Posts Page', 'popup-builder'); |
  |  | 211 | $postTypes['is\_search'] = \_\_('Search Pages', 'popup-builder'); |
  |  | 212 | $postTypes['is\_404'] = \_\_('404 Pages', 'popup-builder'); |
  | 213 | 213 | if (function\_exists('is\_shop')) { |
  | 214 |  | $postTypes['is\_shop'] = \_\_('Shop Page', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 214 | $postTypes['is\_shop'] = \_\_('Shop Page', 'popup-builder'); |
  | 215 | 215 | } |
  | 216 | 216 | if (function\_exists('is\_archive')) { |
  | 217 |  | $postTypes['is\_archive'] = \_\_('Archive Page', ~~SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 217 | $postTypes['is\_archive'] = \_\_('Archive Page', 'popup-builder'); |
  | 218 | 218 | } |
  | 219 | 219 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L224) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L224) |  |
  | 224 | 224 | { |
  | 225 | 225 | $pageTemplates = array( |
  | 226 |  | 'page.php' => \_\_('Default Template', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 226 | 'page.php' => \_\_('Default Template', 'popup-builder') |
  | 227 | 227 | ); |
  | 228 | 228 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L317) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L317) |  |
  | 317 | 317 | ), |
  | 318 | 318 | 'label' => array( |
  | 319 |  | 'name' => \_\_('Close Popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 319 | 'name' => \_\_('Close Popup', 'popup-builder').':' |
  | 320 | 320 | ) |
  | 321 | 321 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L328) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L328) |  |
  | 328 | 328 | ), |
  | 329 | 329 | 'label' => array( |
  | 330 |  | 'name' => \_\_('Redirect', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 330 | 'name' => \_\_('Redirect', 'popup-builder').':' |
  | 331 | 331 | ) |
  | 332 | 332 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L339) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L339) |  |
  | 339 | 339 | ), |
  | 340 | 340 | 'label' => array( |
  | 341 |  | 'name' => \_\_('Copy to clipboard', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 341 | 'name' => \_\_('Copy to clipboard', 'popup-builder').':' |
  | 342 | 342 | ) |
  | 343 | 343 | ) |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L357) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L357) |  |
  | 357 | 357 | 'description' => array( |
  | 358 | 358 | '<span class="formItem\_\_text"> |
  | 359 |  | '.\_\_('If you need the popup id number in the custom code, you may use the following variable to get the ID:', ~~SG\_POPUP\_TEXT\_DOMAIN~~).' |
  |  | 359 | '.\_\_('If you need the popup id number in the custom code, you may use the following variable to get the ID:', 'popup-builder').' |
  | 360 | 360 | <b>popupId</b> |
  | 361 | 361 | </span>' |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L384) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L384) |  |
  | 384 | 384 | 'description' => array( |
  | 385 | 385 | '<span class="formItem\_\_text"> |
  | 386 |  | '.\_\_('If you need the popup id number in the custom code, you may use the following variable to get the ID:', ~~SG\_POPUP\_TEXT\_DOMAIN~~).' |
  |  | 386 | '.\_\_('If you need the popup id number in the custom code, you may use the following variable to get the ID:', 'popup-builder').' |
  | 387 | 387 | <b>popupId</b> |
  | 388 | 388 | </span>' |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L415) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L415) |  |
  | 415 | 415 | ), |
  | 416 | 416 | 'label' => array( |
  | 417 |  | 'name' => \_\_('Copy to clipboard', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 417 | 'name' => \_\_('Copy to clipboard', 'popup-builder').':' |
  | 418 | 418 | ) |
  | 419 | 419 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L427) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L427) |  |
  | 427 | 427 | ), |
  | 428 | 428 | 'label' => array( |
  | 429 |  | 'name' => \_\_('Redirect to URL', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 429 | 'name' => \_\_('Redirect to URL', 'popup-builder').':' |
  | 430 | 430 | ) |
  | 431 | 431 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L439) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L439) |  |
  | 439 | 439 | ), |
  | 440 | 440 | 'label' => array( |
  | 441 |  | 'name' => \_\_('Open popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 441 | 'name' => \_\_('Open popup', 'popup-builder').':' |
  | 442 | 442 | ) |
  | 443 | 443 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L450) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L450) |  |
  | 450 | 450 | ), |
  | 451 | 451 | 'label' => array( |
  | 452 |  | 'name' => \_\_('Hide popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 452 | 'name' => \_\_('Hide popup', 'popup-builder').':' |
  | 453 | 453 | ) |
  | 454 | 454 | ) |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L480) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L480) |  |
  | 480 | 480 | ), |
  | 481 | 481 | 'label' => array( |
  | 482 |  | 'name' => \_\_('Responsive mode', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':', |
  | 483 |  | 'info' => \_\_('The sizes of the popup will be counted automatically, according to the content size of the popup. You can select the size in percentages, with this mode, to specify the size on the screen', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'.' |
  |  | 482 | 'name' => \_\_('Responsive mode', 'popup-builder').':', |
  |  | 483 | 'info' => \_\_('The sizes of the popup will be counted automatically, according to the content size of the popup. You can select the size in percentages, with this mode, to specify the size on the screen', 'popup-builder').'.' |
  | 484 | 484 | ) |
  | 485 | 485 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L493) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L493) |  |
  | 493 | 493 | ), |
  | 494 | 494 | 'label' => array( |
  | 495 |  | 'name' => \_\_('Custom mode', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':', |
  | 496 |  | 'info' => \_\_('Add your own custom dimensions for the popup to get the exact sizing for your popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~).'.' |
  |  | 495 | 'name' => \_\_('Custom mode', 'popup-builder').':', |
  |  | 496 | 'info' => \_\_('Add your own custom dimensions for the popup to get the exact sizing for your popup', 'popup-builder').'.' |
  | 497 | 497 | ) |
  | 498 | 498 | ) |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L546) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L546) |  |
  | 546 | 546 |  |
  | 547 | 547 | $data['responsiveDimensions'] = array( |
  | 548 |  | 'auto' =>  \_\_('Auto', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 548 | 'auto' =>  \_\_('Auto', 'popup-builder'), |
  | 549 | 549 | '10' => '10%', |
  | 550 | 550 | '20' => '20%', |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L557) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L557) |  |
  | 557 | 557 | '90' => '90%', |
  | 558 | 558 | '100' => '100%', |
  | 559 |  | 'fullScreen' => \_\_('Full screen', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 559 | 'fullScreen' => \_\_('Full screen', 'popup-builder') |
  | 560 | 560 | ); |
  | 561 | 561 |  |
  | 562 | 562 | $data['freeConditionsAdvancedTargeting'] = array( |
  | 563 |  | 'devices' => \_\_('Devices', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 564 |  | 'user-status' => \_\_('User Status', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 565 |  | 'after-x' => \_\_('After x pages visit', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 566 |  | 'user-role' => \_\_('User Role', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 567 |  | 'detect-by-url' => \_\_('Referral URL detection', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 568 |  | 'cookie-detection' => \_\_('Cookie Detection', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 569 |  | 'operation-system' => \_\_('Operating System', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 570 |  | 'browser-detection' => \_\_('Web Browser', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 571 |  | 'query-string' => \_\_('URL Query String', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 563 | 'devices' => \_\_('Devices', 'popup-builder'), |
  |  | 564 | 'user-status' => \_\_('User Status', 'popup-builder'), |
  |  | 565 | 'after-x' => \_\_('After x pages visit', 'popup-builder'), |
  |  | 566 | 'user-role' => \_\_('User Role', 'popup-builder'), |
  |  | 567 | 'detect-by-url' => \_\_('Referral URL detection', 'popup-builder'), |
  |  | 568 | 'cookie-detection' => \_\_('Cookie Detection', 'popup-builder'), |
  |  | 569 | 'operation-system' => \_\_('Operating System', 'popup-builder'), |
  |  | 570 | 'browser-detection' => \_\_('Web Browser', 'popup-builder'), |
  |  | 571 | 'query-string' => \_\_('URL Query String', 'popup-builder') |
  | 572 | 572 | ); |
  | 573 | 573 |  |
  | 574 | 574 | $data['freeConditionsGeoTargeting'] = array( |
  | 575 |  | 'countries' => \_\_('Countries', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 576 |  | 'cities' => \_\_('Cities', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 577 |  | 'states' => \_\_('States', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 578 |  | 'visitor-ip' => \_\_('Visitor IP', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 575 | 'countries' => \_\_('Countries', 'popup-builder'), |
  |  | 576 | 'cities' => \_\_('Cities', 'popup-builder'), |
  |  | 577 | 'states' => \_\_('States', 'popup-builder'), |
  |  | 578 | 'visitor-ip' => \_\_('Visitor IP', 'popup-builder') |
  | 579 | 579 | ); |
  | 580 | 580 |  |
  | 581 | 581 | $data['closeButtonPositions'] = array( |
  | 582 |  | 'topLeft' => \_\_('top-left', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 583 |  | 'topRight' => \_\_('top-right', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 584 |  | 'bottomLeft' => \_\_('bottom-left', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 585 |  | 'bottomRight' => \_\_('bottom-right', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 582 | 'topLeft' => \_\_('top-left', 'popup-builder'), |
  |  | 583 | 'topRight' => \_\_('top-right', 'popup-builder'), |
  |  | 584 | 'bottomLeft' => \_\_('bottom-left', 'popup-builder'), |
  |  | 585 | 'bottomRight' => \_\_('bottom-right', 'popup-builder') |
  | 586 | 586 | ); |
  | 587 | 587 |  |
  | 588 | 588 | $data['closeButtonPositionsFirstTheme'] = array( |
  | 589 |  | 'bottomLeft' => \_\_('bottom-left', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 590 |  | 'bottomRight' => \_\_('bottom-right', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 589 | 'bottomLeft' => \_\_('bottom-left', 'popup-builder'), |
  |  | 590 | 'bottomRight' => \_\_('bottom-right', 'popup-builder') |
  | 591 | 591 | ); |
  | 592 | 592 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L629) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L629) |  |
  | 629 | 629 |  |
  | 630 | 630 | $data['messageResize'] = array( |
  | 631 |  | 'both' => \_\_('Both', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 632 |  | 'horizontal' => \_\_('Horizontal', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 633 |  | 'vertical' => \_\_('Vertical', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 634 |  | 'none' => \_\_('None', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 635 |  | 'inherit' => \_\_('Inherit', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 631 | 'both' => \_\_('Both', 'popup-builder'), |
  |  | 632 | 'horizontal' => \_\_('Horizontal', 'popup-builder'), |
  |  | 633 | 'vertical' => \_\_('Vertical', 'popup-builder'), |
  |  | 634 | 'none' => \_\_('None', 'popup-builder'), |
  |  | 635 | 'inherit' => \_\_('Inherit', 'popup-builder') |
  | 636 | 636 | ); |
  | 637 | 637 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L660) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L660) |  |
  | 660 | 660 | ), |
  | 661 | 661 | 'label' => array( |
  | 662 |  | 'name' => \_\_('Use active URL', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 662 | 'name' => \_\_('Use active URL', 'popup-builder').':' |
  | 663 | 663 | ) |
  | 664 | 664 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L672) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L672) |  |
  | 672 | 672 | ), |
  | 673 | 673 | 'label' => array( |
  | 674 |  | 'name' => \_\_('Share URL', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 674 | 'name' => \_\_('Share URL', 'popup-builder').':' |
  | 675 | 675 | ) |
  | 676 | 676 | ) |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L702) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L702) |  |
  | 702 | 702 | ), |
  | 703 | 703 | 'label' => array( |
  | 704 |  | 'name' => \_\_('Due Date', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 704 | 'name' => \_\_('Due Date', 'popup-builder').':' |
  | 705 | 705 | ) |
  | 706 | 706 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L714) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L714) |  |
  | 714 | 714 | ), |
  | 715 | 715 | 'label' => array( |
  | 716 |  | 'name' => \_\_('Timer', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 716 | 'name' => \_\_('Timer', 'popup-builder').':' |
  | 717 | 717 | ) |
  | 718 | 718 | ) |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L763) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L763) |  |
  | 763 | 763 |  |
  | 764 | 764 | $data['socialThemeShereCount'] = array( |
  | 765 |  | 'true' => \_\_('True', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 766 |  | 'false' => \_\_('False', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 767 |  | 'inside' => \_\_('Inside', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 765 | 'true' => \_\_('True', 'popup-builder'), |
  |  | 766 | 'false' => \_\_('False', 'popup-builder'), |
  |  | 767 | 'inside' => \_\_('Inside', 'popup-builder') |
  | 768 | 768 | ); |
  | 769 | 769 |  |
  | 770 | 770 | $data['popupInsertEventTypes'] = array( |
  | 771 |  | 'inherit' => \_\_('Inherit', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 772 |  | 'onLoad' => \_\_('On load', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 773 |  | 'click' => \_\_('On click', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 774 |  | 'hover' => \_\_('On hover', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 771 | 'inherit' => \_\_('Inherit', 'popup-builder'), |
  |  | 772 | 'onLoad' => \_\_('On load', 'popup-builder'), |
  |  | 773 | 'click' => \_\_('On click', 'popup-builder'), |
  |  | 774 | 'hover' => \_\_('On hover', 'popup-builder') |
  | 775 | 775 | ); |
  | 776 | 776 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L799) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L799) |  |
  | 799 | 799 | ), |
  | 800 | 800 | 'label' => array( |
  | 801 |  | 'name' => \_\_('Success message', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 801 | 'name' => \_\_('Success message', 'popup-builder').':' |
  | 802 | 802 | ) |
  | 803 | 803 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L811) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L811) |  |
  | 811 | 811 | ), |
  | 812 | 812 | 'label' => array( |
  | 813 |  | 'name' => \_\_('Redirect to URL', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 813 | 'name' => \_\_('Redirect to URL', 'popup-builder').':' |
  | 814 | 814 | ) |
  | 815 | 815 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L823) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L823) |  |
  | 823 | 823 | ), |
  | 824 | 824 | 'label' => array( |
  | 825 |  | 'name' => \_\_('Open popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 825 | 'name' => \_\_('Open popup', 'popup-builder').':' |
  | 826 | 826 | ) |
  | 827 | 827 | ), |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L834) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L834) |  |
  | 834 | 834 | ), |
  | 835 | 835 | 'label' => array( |
  | 836 |  | 'name' => \_\_('Hide popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~).':' |
  |  | 836 | 'name' => \_\_('Hide popup', 'popup-builder').':' |
  | 837 | 837 | ) |
  | 838 | 838 | ) |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L841) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L841) |  |
  | 841 | 841 |  |
  | 842 | 842 | $data['buttonsType'] = array( |
  | 843 |  | 'standard' => \_\_('Standard', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 844 |  | 'box\_count' => \_\_('Box with count', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 845 |  | 'button\_count' => \_\_('Button with count', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 846 |  | 'button' => \_\_('Button', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 843 | 'standard' => \_\_('Standard', 'popup-builder'), |
  |  | 844 | 'box\_count' => \_\_('Box with count', 'popup-builder'), |
  |  | 845 | 'button\_count' => \_\_('Button with count', 'popup-builder'), |
  |  | 846 | 'button' => \_\_('Button', 'popup-builder') |
  | 847 | 847 | ); |
  | 848 | 848 |  |
  | 849 | 849 | $data['backroundImageModes'] = array( |
  | 850 |  | 'no-repeat' => \_\_('None', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 851 |  | 'cover' => \_\_('Cover', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 852 |  | 'contain' => \_\_('Contain', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 853 |  | 'repeat' => \_\_('Repeat', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 850 | 'no-repeat' => \_\_('None', 'popup-builder'), |
  |  | 851 | 'cover' => \_\_('Cover', 'popup-builder'), |
  |  | 852 | 'contain' => \_\_('Contain', 'popup-builder'), |
  |  | 853 | 'repeat' => \_\_('Repeat', 'popup-builder') |
  | 854 | 854 | ); |
  | 855 | 855 |  |
  | 856 | 856 | $data['openAnimationEfects'] = array( |
  | 857 |  | 'No effect' => \_\_('None', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 858 |  | 'sgpb-flip' => \_\_('Flip', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 859 |  | 'sgpb-shake' => \_\_('Shake', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 860 |  | 'sgpb-wobble' => \_\_('Wobble', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 861 |  | 'sgpb-swing' => \_\_('Swing', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 862 |  | 'sgpb-flash' => \_\_('Flash', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 863 |  | 'sgpb-bounce' => \_\_('Bounce', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 864 |  | 'sgpb-bounceInRight' => \_\_('BounceInRight', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 865 |  | 'sgpb-bounceIn' => \_\_('BounceIn', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 866 |  | 'sgpb-pulse' => \_\_('Pulse', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 867 |  | 'sgpb-rubberBand' => \_\_('RubberBand', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 868 |  | 'sgpb-tada' => \_\_('Tada', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 869 |  | 'sgpb-slideInUp' => \_\_('SlideInUp', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 870 |  | 'sgpb-jello' => \_\_('Jello', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 871 |  | 'sgpb-rotateIn' => \_\_('RotateIn', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 872 |  | 'sgpb-fadeIn' => \_\_('FadeIn', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 857 | 'No effect' => \_\_('None', 'popup-builder'), |
  |  | 858 | 'sgpb-flip' => \_\_('Flip', 'popup-builder'), |
  |  | 859 | 'sgpb-shake' => \_\_('Shake', 'popup-builder'), |
  |  | 860 | 'sgpb-wobble' => \_\_('Wobble', 'popup-builder'), |
  |  | 861 | 'sgpb-swing' => \_\_('Swing', 'popup-builder'), |
  |  | 862 | 'sgpb-flash' => \_\_('Flash', 'popup-builder'), |
  |  | 863 | 'sgpb-bounce' => \_\_('Bounce', 'popup-builder'), |
  |  | 864 | 'sgpb-bounceInRight' => \_\_('BounceInRight', 'popup-builder'), |
  |  | 865 | 'sgpb-bounceIn' => \_\_('BounceIn', 'popup-builder'), |
  |  | 866 | 'sgpb-pulse' => \_\_('Pulse', 'popup-builder'), |
  |  | 867 | 'sgpb-rubberBand' => \_\_('RubberBand', 'popup-builder'), |
  |  | 868 | 'sgpb-tada' => \_\_('Tada', 'popup-builder'), |
  |  | 869 | 'sgpb-slideInUp' => \_\_('SlideInUp', 'popup-builder'), |
  |  | 870 | 'sgpb-jello' => \_\_('Jello', 'popup-builder'), |
  |  | 871 | 'sgpb-rotateIn' => \_\_('RotateIn', 'popup-builder'), |
  |  | 872 | 'sgpb-fadeIn' => \_\_('FadeIn', 'popup-builder') |
  | 873 | 873 | ); |
  | 874 | 874 |  |
  | 875 | 875 | $data['closeAnimationEfects'] = array( |
  | 876 |  | 'No effect' => \_\_('None', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 877 |  | 'sgpb-flipInX' => \_\_('Flip', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 878 |  | 'sgpb-shake' => \_\_('Shake', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 879 |  | 'sgpb-wobble' => \_\_('Wobble', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 880 |  | 'sgpb-swing' => \_\_('Swing', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 881 |  | 'sgpb-flash' => \_\_('Flash', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 882 |  | 'sgpb-bounce' => \_\_('Bounce', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 883 |  | 'sgpb-bounceOutLeft' => \_\_('BounceOutLeft', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 884 |  | 'sgpb-bounceOut' => \_\_('BounceOut', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 885 |  | 'sgpb-pulse' => \_\_('Pulse', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 886 |  | 'sgpb-rubberBand' => \_\_('RubberBand', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 887 |  | 'sgpb-tada' => \_\_('Tada', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 888 |  | 'sgpb-slideOutUp' => \_\_('SlideOutUp', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 889 |  | 'sgpb-jello' => \_\_('Jello', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 890 |  | 'sgpb-rotateOut' => \_\_('RotateOut', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 891 |  | 'sgpb-fadeOut' => \_\_('FadeOut', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 876 | 'No effect' => \_\_('None', 'popup-builder'), |
  |  | 877 | 'sgpb-flipInX' => \_\_('Flip', 'popup-builder'), |
  |  | 878 | 'sgpb-shake' => \_\_('Shake', 'popup-builder'), |
  |  | 879 | 'sgpb-wobble' => \_\_('Wobble', 'popup-builder'), |
  |  | 880 | 'sgpb-swing' => \_\_('Swing', 'popup-builder'), |
  |  | 881 | 'sgpb-flash' => \_\_('Flash', 'popup-builder'), |
  |  | 882 | 'sgpb-bounce' => \_\_('Bounce', 'popup-builder'), |
  |  | 883 | 'sgpb-bounceOutLeft' => \_\_('BounceOutLeft', 'popup-builder'), |
  |  | 884 | 'sgpb-bounceOut' => \_\_('BounceOut', 'popup-builder'), |
  |  | 885 | 'sgpb-pulse' => \_\_('Pulse', 'popup-builder'), |
  |  | 886 | 'sgpb-rubberBand' => \_\_('RubberBand', 'popup-builder'), |
  |  | 887 | 'sgpb-tada' => \_\_('Tada', 'popup-builder'), |
  |  | 888 | 'sgpb-slideOutUp' => \_\_('SlideOutUp', 'popup-builder'), |
  |  | 889 | 'sgpb-jello' => \_\_('Jello', 'popup-builder'), |
  |  | 890 | 'sgpb-rotateOut' => \_\_('RotateOut', 'popup-builder'), |
  |  | 891 | 'sgpb-fadeOut' => \_\_('FadeOut', 'popup-builder') |
  | 892 | 892 | ); |
  | 893 | 893 |  |
  | 894 | 894 | $data['floatingButtonPositionsCorner'] = array( |
  | 895 |  | 'top-left' => \_\_('Top left', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 896 |  | 'top-right' => \_\_('Top right', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 897 |  | 'bottom-left' => \_\_('Bottom left', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 898 |  | 'bottom-right' => \_\_('Bottom right', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 895 | 'top-left' => \_\_('Top left', 'popup-builder'), |
  |  | 896 | 'top-right' => \_\_('Top right', 'popup-builder'), |
  |  | 897 | 'bottom-left' => \_\_('Bottom left', 'popup-builder'), |
  |  | 898 | 'bottom-right' => \_\_('Bottom right', 'popup-builder') |
  | 899 | 899 | ); |
  | 900 | 900 |  |
  | 901 | 901 | $data['floatingButtonPositionsBasic'] = array( |
  | 902 |  | 'top-left' => \_\_('Top left', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 903 |  | 'top-right' => \_\_('Top right', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 904 |  | 'bottom-left' => \_\_('Bottom left', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 905 |  | 'bottom-right' => \_\_('Bottom right', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 906 |  | 'top-center' => \_\_('Top center', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 907 |  | 'bottom-center' => \_\_('Bottom center', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 908 |  | 'right-center' => \_\_('Right center', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 909 |  | 'left-center' => \_\_('Left center', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 902 | 'top-left' => \_\_('Top left', 'popup-builder'), |
  |  | 903 | 'top-right' => \_\_('Top right', 'popup-builder'), |
  |  | 904 | 'bottom-left' => \_\_('Bottom left', 'popup-builder'), |
  |  | 905 | 'bottom-right' => \_\_('Bottom right', 'popup-builder'), |
  |  | 906 | 'top-center' => \_\_('Top center', 'popup-builder'), |
  |  | 907 | 'bottom-center' => \_\_('Bottom center', 'popup-builder'), |
  |  | 908 | 'right-center' => \_\_('Right center', 'popup-builder'), |
  |  | 909 | 'left-center' => \_\_('Left center', 'popup-builder') |
  | 910 | 910 | ); |
  | 911 | 911 |  |
  | 912 | 912 | $data['floatingButtonStyle'] = array( |
  | 913 |  | 'corner' => \_\_('Corner', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 914 |  | 'basic' => \_\_('Basic', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 913 | 'corner' => \_\_('Corner', 'popup-builder'), |
  |  | 914 | 'basic' => \_\_('Basic', 'popup-builder') |
  | 915 | 915 | ); |
  | 916 | 916 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L941) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L941) |  |
  | 941 | 941 | { |
  | 942 | 942 | $settings = array( |
  | 943 |  | 'defaultClickClassName' => \_\_('Default', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 944 |  | 'clickActionCustomClass' => \_\_('Custom class', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 943 | 'defaultClickClassName' => \_\_('Default', 'popup-builder'), |
  |  | 944 | 'clickActionCustomClass' => \_\_('Custom class', 'popup-builder') |
  | 945 | 945 | ); |
  | 946 | 946 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L951) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L951) |  |
  | 951 | 951 | { |
  | 952 | 952 | $settings = array( |
  | 953 |  | 'defaultHoverClassName' => \_\_('Default', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 954 |  | 'hoverActionCustomClass' => \_\_('Custom class', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 953 | 'defaultHoverClassName' => \_\_('Default', 'popup-builder'), |
  |  | 954 | 'hoverActionCustomClass' => \_\_('Custom class', 'popup-builder') |
  | 955 | 955 | ); |
  | 956 | 956 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L1246) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L1246) |  |
  | 1246 | 1246 | { |
  | 1247 | 1247 | $translatedData = array( |
  | 1248 |  | 'imageSupportAlertMessage' => \_\_('Only image files supported', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 1249 |  | 'pdfSupportAlertMessage' => \_\_('Only pdf files supported', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 1250 |  | 'areYouSure' => \_\_('Are you sure?', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 1251 |  | 'addButtonSpinner' => \_\_('L', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 1252 |  | 'audioSupportAlertMessage' => \_\_('Only audio files supported (e.g.: mp3, wav, m4a, ogg)', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 1253 |  | 'publishPopupBeforeElementor' => \_\_('Please, publish the popup before starting to use Elementor with it!', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 1254 |  | 'publishPopupBeforeDivi' => \_\_('Please, publish the popup before starting to use Divi Builder with it!', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  | 1255 |  | 'closeButtonAltText' =>  \_\_('Close', ~~SG\_POPUP\_TEXT\_DOMAIN~~) |
  |  | 1248 | 'imageSupportAlertMessage' => \_\_('Only image files supported', 'popup-builder'), |
  |  | 1249 | 'pdfSupportAlertMessage' => \_\_('Only pdf files supported', 'popup-builder'), |
  |  | 1250 | 'areYouSure' => \_\_('Are you sure?', 'popup-builder'), |
  |  | 1251 | 'addButtonSpinner' => \_\_('L', 'popup-builder'), |
  |  | 1252 | 'audioSupportAlertMessage' => \_\_('Only audio files supported (e.g.: mp3, wav, m4a, ogg)', 'popup-builder'), |
  |  | 1253 | 'publishPopupBeforeElementor' => \_\_('Please, publish the popup before starting to use Elementor with it!', 'popup-builder'), |
  |  | 1254 | 'publishPopupBeforeDivi' => \_\_('Please, publish the popup before starting to use Divi Builder with it!', 'popup-builder'), |
  |  | 1255 | 'closeButtonAltText' =>  \_\_('Close', 'popup-builder') |
  | 1256 | 1256 | ); |
  | 1257 | 1257 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L1261) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L1261) |  |
  | 1261 | 1261 | public static function getCurrentDateTime() |
  | 1262 | 1262 | { |
  | 1263 |  | return date('Y-m-d H:i', strtotime(' +1 day')); |
  |  | 1263 | return gmdate('Y-m-d H:i', strtotime(' +1 day')); |
  | 1264 | 1264 | } |
  | 1265 | 1265 |  |
  | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=2767625#L1274) | […](/browser/popup-builder/trunk/com/helpers/ConfigDataHelper.php?rev=3085485#L1274) |  |
  | 1274 | 1274 | } |
  | 1275 | 1275 | } |
  |  | 1276 |  |
  |  | 1277 | // We will keep this class to make sure all Popup Extension Add-ons are still working fine. |
  |  | 1278 | // In the future, we will remove it when you update all code in Add-ons to use NEW class above. |
  |  | 1279 | class ConfigDataHelper |
  |  | 1280 | { |
  |  | 1281 | public static $customPostType; |
  |  | 1282 | public static $allCustomPosts = array(); |
  |  | 1283 |  |
  |  | 1284 | public static function getPostTypeData($args = array()) |
  |  | 1285 | { |
  |  | 1286 | $query = self::getQueryDataByArgs($args); |
  |  | 1287 |  |
  |  | 1288 | $posts = array(); |
  |  | 1289 | foreach ($query->posts as $post) { |
  |  | 1290 | $posts[$post->ID] = $post->post\_title; |
  |  | 1291 | } |
  |  | 1292 |  |
  |  | 1293 | return $posts; |
  |  | 1294 | } |
  |  | 1295 |  |
  |  | 1296 | public static function getQueryDataByArgs($args = array()) |
  |  | 1297 | { |
  |  | 1298 | $defaultArgs = array( |
  |  | 1299 | 'offset'           => '', |
  |  | 1300 | 'orderby'          => 'date', |
  |  | 1301 | 'order'            => 'DESC', |
  |  | 1302 | 'post\_status'      => 'publish', |
  |  | 1303 | 'suppress\_filters' => false, |
  |  | 1304 | 'post\_type'        => 'post', |
  |  | 1305 | 'posts\_per\_page'   => 1000 |
  |  | 1306 | ); |
  |  | 1307 | $args = wp\_parse\_args($args, $defaultArgs); |
  |  | 1308 | $query = new WP\_Query($args); |
  |  | 1309 |  |
  |  | 1310 | return $query; |
  |  | 1311 | } |
  |  | 1312 |  |
  |  | 1313 | /\*\* |
  |  | 1314 | \* this method is used for to get all other post types |
  |  | 1315 | \* that may created by another plugins or theme or website owner! |
  |  | 1316 | \* |
  |  | 1317 | \* example: download from EDD, product from Woocommerce! |
  |  | 1318 | \*/ |
  |  | 1319 | public static function getAllCustomPosts() |
  |  | 1320 | { |
  |  | 1321 | $args = array( |
  |  | 1322 | 'public' => true, |
  |  | 1323 | '\_builtin' => false |
  |  | 1324 | ); |
  |  | 1325 |  |
  |  | 1326 | $allCustomPosts = get\_post\_types($args); |
  |  | 1327 |  |
  |  | 1328 | if (isset($allCustomPosts[SG\_POPUP\_POST\_TYPE])) { |
  |  | 1329 | unset($allCustomPosts[SG\_POPUP\_POST\_TYPE]); |
  |  | 1330 | } |
  |  | 1331 | self::$allCustomPosts = $allCustomPosts; |
  |  | 1332 | return $allCustomPosts; // TODO check for usages and remove this line |
  |  | 1333 | } |
  |  | 1334 |  |
  |  | 1335 | public static function addFilters() |
  |  | 1336 | { |
  |  | 1337 | self::addPostTypeToFilters(); |
  |  | 1338 | } |
  |  | 1339 |  |
  |  | 1340 | private static function addPostTypeToFilters() |
  |  | 1341 | { |
  |  | 1342 | self::getAllCustomPosts(); |
  |  | 1343 | add\_filter('sgPopupTargetParams', array(\_\_CLASS\_\_, 'addPopupTargetParams'), 1, 1); |
  |  | 1344 | add\_filter('sgPopupTargetData', array(\_\_CLASS\_\_, 'addPopupTargetData'), 1, 1); |
  |  | 1345 | add\_filter('sgPopupTargetTypes', array(\_\_CLASS\_\_, 'addPopupTargetTypes'), 1, 1); |
  |  | 1346 | add\_filter('sgPopupTargetAttrs', array(\_\_CLASS\_\_, 'addPopupTargetAttrs'), 1, 1); |
  |  | 1347 | add\_filter('sgPopupPageTemplates', array(\_\_CLASS\_\_, 'addPopupPageTemplates'), 1, 1); |
  |  | 1348 | add\_filter('sgPopupTargetPostType', array(\_\_CLASS\_\_, 'getAllCustomPostTypes'), 1, 1); |
  |  | 1349 | add\_filter('sgPopupTargetPageType', array(\_\_CLASS\_\_, 'getPageTypes'), 1, 1); |
  |  | 1350 | } |
  |  | 1351 |  |
  |  | 1352 | public static function addPopupTargetParams($targetParams) |
  |  | 1353 | { |
  |  | 1354 | $allCustomPostTypes = self::$allCustomPosts; |
  |  | 1355 | // for conditions, to exclude other post types, tags etc. |
  |  | 1356 | if (isset($targetParams['select\_role'])) { |
  |  | 1357 | return $targetParams; |
  |  | 1358 | } |
  |  | 1359 |  |
  |  | 1360 | foreach ($allCustomPostTypes as $customPostType) { |
  |  | 1361 | $targetParams[$customPostType] = array( |
  |  | 1362 | $customPostType.'\_all' => 'All '.ucfirst($customPostType).'s', |
  |  | 1363 | $customPostType.'\_archive' => 'Archives '.ucfirst($customPostType).'s', |
  |  | 1364 | $customPostType.'\_selected' => 'Select '.ucfirst($customPostType).'s', |
  |  | 1365 | $customPostType.'\_categories' => 'Select '.ucfirst($customPostType).' categories' |
  |  | 1366 | ); |
  |  | 1367 | } |
  |  | 1368 |  |
  |  | 1369 | return $targetParams; |
  |  | 1370 | } |
  |  | 1371 |  |
  |  | 1372 | public static function addPopupTargetData($targetData) |
  |  | 1373 | { |
  |  | 1374 | $allCustomPostTypes = self::$allCustomPosts; |
  |  | 1375 |  |
  |  | 1376 | foreach ($allCustomPostTypes as $customPostType) { |
  |  | 1377 | $targetData[$customPostType.'\_all'] = null; |
  |  | 1378 | $targetData[$customPostType.'\_selected'] = ''; |
  |  | 1379 | $targetData[$customPostType.'\_categories'] = self::getCustomPostCategories($customPostType); |
  |  | 1380 | } |
  |  | 1381 |  |
  |  | 1382 | return $targetData; |
  |  | 1383 | } |
  |  | 1384 |  |
  |  | 1385 | public static function getCustomPostCategories($postTypeName) |
  |  | 1386 | { |
  |  | 1387 | $taxonomyObjects = get\_object\_taxonomies($postTypeName); |
  |  | 1388 | if ($postTypeName == 'product') { |
  |  | 1389 | $taxonomyObjects = array('product\_cat'); |
  |  | 1390 | } |
  |  | 1391 | $categories = self::getPostsAllCategories($postTypeName, $taxonomyObjects); |
  |  | 1392 |  |
  |  | 1393 | return $categories; |
  |  | 1394 | } |
  |  | 1395 |  |
  |  | 1396 | public static function addPopupTargetTypes($targetTypes) |
  |  | 1397 | { |
  |  | 1398 | $allCustomPostTypes = self::$allCustomPosts; |
  |  | 1399 |  |
  |  | 1400 | foreach ($allCustomPostTypes as $customPostType) { |
  |  | 1401 | $targetTypes[$customPostType.'\_selected'] = 'select'; |
  |  | 1402 | $targetTypes[$customPostType.'\_categories'] = 'select'; |
  |  | 1403 | } |
  |  | 1404 |  |
  |  | 1405 | return $targetTypes; |
  |  | 1406 | } |
  |  | 1407 |  |
  |  | 1408 | public static function addPopupTargetAttrs($targetAttrs) |
  |  | 1409 | { |
  |  | 1410 | $allCustomPostTypes = self::$allCustomPosts; |
  |  | 1411 |  |
  |  | 1412 | foreach ($allCustomPostTypes as $customPostType) { |
  |  | 1413 | $targetAttrs[$customPostType.'\_selected']['htmlAttrs'] = array('class' => 'js-sg-select2 js-select-ajax', 'data-select-class' => 'js-select-ajax', 'data-select-type' => 'ajax', 'data-value-param' => $customPostType, 'multiple' => 'multiple'); |
  |  | 1414 | $targetAttrs[$customPostType.'\_selected']['infoAttrs'] = array('label' => \_\_('Select ', 'popup-builder').$customPostType); |
  |  | 1415 |  |
  |  | 1416 | $targetAttrs[$customPostType.'\_categories']['htmlAttrs'] = array('class' => 'js-sg-select2 js-select-ajax', 'data-select-class' => 'js-select-ajax', 'isNotPostType' => true, 'data-value-param' => $customPostType, 'multiple' => 'multiple'); |
  |  | 1417 | $targetAttrs[$customPostType.'\_categories']['infoAttrs'] = array('label' => \_\_('Select ', 'popup-builder').$customPostType.' categories'); |
  |  | 1418 | } |
  |  | 1419 |  |
  |  | 1420 | return $targetAttrs; |
  |  | 1421 | } |
  |  | 1422 |  |
  |  | 1423 | public static function addPopupPageTemplates($templates) |
  |  | 1424 | { |
  |  | 1425 | $pageTemplates = self::getPageTemplates(); |
  |  | 1426 |  |
  |  | 1427 | $pageTemplates += $templates; |
  |  | 1428 |  |
  |  | 1429 | return $pageTemplates; |
  |  | 1430 | } |
  |  | 1431 |  |
  |  | 1432 | public static function getAllCustomPostTypes() |
  |  | 1433 | { |
  |  | 1434 | $args = array( |
  |  | 1435 | 'public' => true, |
  |  | 1436 | '\_builtin' => false |
  |  | 1437 | ); |
  |  | 1438 |  |
  |  | 1439 | $allCustomPosts = get\_post\_types($args); |
  |  | 1440 | if (!empty($allCustomPosts[SG\_POPUP\_POST\_TYPE])) { |
  |  | 1441 | unset($allCustomPosts[SG\_POPUP\_POST\_TYPE]); |
  |  | 1442 | } |
  |  | 1443 |  |
  |  | 1444 | return $allCustomPosts; |
  |  | 1445 | } |
  |  | 1446 |  |
  |  | 1447 | public static function getPostsAllCategories($postType = 'post', $taxonomies = array(), $search\_text = '') |
  |  | 1448 | { |
  |  | 1449 | $cats =  get\_terms( |
  |  | 1450 | array( |
  |  | 1451 | 'taxonomy' => $taxonomies, |
  |  | 1452 | 'hide\_empty' => false, |
  |  | 1453 | 'type'      => $postType, |
  |  | 1454 | 'orderby'   => 'name', |
  |  | 1455 | 'order'     => 'ASC', |
  |  | 1456 | 'number'    => 200, |
  |  | 1457 | 'offset'    => 0, |
  |  | 1458 | 'name\_\_like'    => $search\_text |
  |  | 1459 | ) |
  |  | 1460 | ); |
  |  | 1461 |  |
  |  | 1462 | $supportedTaxonomies = array('category'); |
  |  | 1463 | if (!empty($taxonomies)) { |
  |  | 1464 | $supportedTaxonomies = $taxonomies; |
  |  | 1465 | } |
  |  | 1466 |  |
  |  | 1467 | $catsParams = array(); |
  |  | 1468 | foreach ($cats as $cat) { |
  |  | 1469 | if (isset($cat->taxonomy)) { |
  |  | 1470 | if (!in\_array($cat->taxonomy, $supportedTaxonomies)) { |
  |  | 1471 | continue; |
  |  | 1472 | } |
  |  | 1473 | } |
  |  | 1474 | $id = $cat->term\_id; |
  |  | 1475 | $name = $cat->name; |
  |  | 1476 | $catsParams[$id] = $name; |
  |  | 1477 | } |
  |  | 1478 |  |
  |  | 1479 | return $catsParams; |
  |  | 1480 | } |
  |  | 1481 |  |
  |  | 1482 | public static function getPageTypes() |
  |  | 1483 | { |
  |  | 1484 | $postTypes = array(); |
  |  | 1485 |  |
  |  | 1486 | $postTypes['is\_home\_page'] = \_\_('Home Page', 'popup-builder'); |
  |  | 1487 | $postTypes['is\_home'] = \_\_('Posts Page', 'popup-builder'); |
  |  | 1488 | $postTypes['is\_search'] = \_\_('Search Pages', 'popup-builder'); |
  |  | 1489 | $postTypes['is\_404'] = \_\_('404 Pages', 'popup-builder'); |
  |  | 1490 | if (function\_exists('is\_shop')) { |
  |  | 1491 | $postTypes['is\_shop'] = \_\_('Shop Page', 'popup-builder'); |
  |  | 1492 | } |
  |  | 1493 | if (function\_exists('is\_archive')) { |
  |  | 1494 | $postTypes['is\_archive'] = \_\_('Archive Page', 'popup-builder'); |
  |  | 1495 | } |
  |  | 1496 |  |
  |  | 1497 | return $postTypes; |
  |  | 1498 | } |
  |  | 1499 |  |
  |  | 1500 | public static function getPageTemplates() |
  |  | 1501 | { |
  |  | 1502 | $pageTemplates = array( |
  |  | 1503 | 'page.php' => \_\_('Default Template', 'popup-builder') |
  |  | 1504 | ); |
  |  | 1505 |  |
  |  | 1506 | $templates = wp\_get\_theme()->get\_page\_templates(); |
  |  | 1507 | if (empty($templates)) { |
  |  | 1508 | return $pageTemplates; |
  |  | 1509 | } |
  |  | 1510 |  |
  |  | 1511 | foreach ($templates as $key => $value) { |
  |  | 1512 | $pageTemplates[$key] = $value; |
  |  | 1513 | } |
  |  | 1514 |  |
  |  | 1515 | return $pageTemplates; |
  |  | 1516 | } |
  |  | 1517 |  |
  |  | 1518 | public static function getAllTags($search\_text = '') |
  |  | 1519 | { |
  |  | 1520 | $allTags = array(); |
  |  | 1521 | $tags = get\_tags(array( |
  |  | 1522 | 'hide\_empty' => false, |
  |  | 1523 | 'name\_\_like' => $search\_text |
  |  | 1524 | )); |
  |  | 1525 |  |
  |  | 1526 | foreach ($tags as $tag) { |
  |  | 1527 | $allTags[$tag->slug] = $tag->name; |
  |  | 1528 | } |
  |  | 1529 |  |
  |  | 1530 | return $allTags; |
  |  | 1531 | } |
  |  | 1532 | public static function getTagsByIds($ids = []) |
  |  | 1533 | { |
  |  | 1534 | $allTags = array(); |
  |  | 1535 | $tags = get\_tags(array( |
  |  | 1536 | 'hide\_empty' => false, |
  |  | 1537 | 'include' => $ids |
  |  | 1538 | )); |
  |  | 1539 | foreach ($tags as $tag) { |
  |  | 1540 | $allTags[$tag->slug] = $tag->name; |
  |  | 1541 | } |
  |  | 1542 | return $allTags; |
  |  | 1543 | } |
  |  | 1544 | public static function getTagsBySlug($ids = []) |
  |  | 1545 | { |
  |  | 1546 | $allTags = array(); |
  |  | 1547 | $tags = get\_tags(array( |
  |  | 1548 | 'hide\_empty' => false, |
  |  | 1549 | 'slug' => $ids |
  |  | 1550 | )); |
  |  | 1551 | foreach ($tags as $tag) { |
  |  | 1552 | $allTags[$tag->slug] = $tag->name; |
  |  | 1553 | } |
  |  | 1554 | return $allTags; |
  |  | 1555 | } |
  |  | 1556 |  |
  |  | 1557 | public static function getTermsByIds($ids = array()) |
  |  | 1558 | { |
  |  | 1559 | $allTags = array(); |
  |  | 1560 | $terms = get\_terms(array( |
  |  | 1561 | 'hide\_empty' => false, |
  |  | 1562 | 'include' => $ids |
  |  | 1563 | )); |
  |  | 1564 | foreach ($terms as $term) { |
  |  | 1565 | $allTags[$term->term\_id] = $term->name; |
  |  | 1566 | } |
  |  | 1567 | return $allTags; |
  |  | 1568 | } |
  |  | 1569 |  |
  |  | 1570 | public static function defaultData() |
  |  | 1571 | { |
  |  | 1572 | $data = array(); |
  |  | 1573 |  |
  |  | 1574 | $data['contentClickOptions'] = array( |
  |  | 1575 | 'template' => array( |
  |  | 1576 | 'fieldWrapperAttr' => array( |
  |  | 1577 | 'class' => 'col-md-7 sgpb-choice-option-wrapper' |
  |  | 1578 | ), |
  |  | 1579 | 'labelAttr' => array( |
  |  | 1580 | 'class' => 'formItem\_\_title' |
  |  | 1581 | ), |
  |  | 1582 | 'groupWrapperAttr' => array( |
  |  | 1583 | 'class' => 'subFormItem sgpb-choice-wrapper formItem' |
  |  | 1584 | ) |
  |  | 1585 | ), |
  |  | 1586 | 'buttonPosition' => 'right', |
  |  | 1587 | 'nextNewLine' => true, |
  |  | 1588 | 'fields' => array( |
  |  | 1589 | array( |
  |  | 1590 | 'attr' => array( |
  |  | 1591 | 'type' => 'radio', |
  |  | 1592 | 'name' => 'sgpb-content-click-behavior', |
  |  | 1593 | 'value' => 'close' |
  |  | 1594 | ), |
  |  | 1595 | 'label' => array( |
  |  | 1596 | 'name' => \_\_('Close Popup', 'popup-builder').':' |
  |  | 1597 | ) |
  |  | 1598 | ), |
  |  | 1599 | array( |
  |  | 1600 | 'attr' => array( |
  |  | 1601 | 'type' => 'radio', |
  |  | 1602 | 'name' => 'sgpb-content-click-behavior', |
  |  | 1603 | 'data-attr-href' => 'content-click-redirect', |
  |  | 1604 | 'value' => 'redirect' |
  |  | 1605 | ), |
  |  | 1606 | 'label' => array( |
  |  | 1607 | 'name' => \_\_('Redirect', 'popup-builder').':' |
  |  | 1608 | ) |
  |  | 1609 | ), |
  |  | 1610 | array( |
  |  | 1611 | 'attr' => array( |
  |  | 1612 | 'type' => 'radio', |
  |  | 1613 | 'name' => 'sgpb-content-click-behavior', |
  |  | 1614 | 'data-attr-href' => 'content-copy-to-clipboard', |
  |  | 1615 | 'value' => 'copy' |
  |  | 1616 | ), |
  |  | 1617 | 'label' => array( |
  |  | 1618 | 'name' => \_\_('Copy to clipboard', 'popup-builder').':' |
  |  | 1619 | ) |
  |  | 1620 | ) |
  |  | 1621 | ) |
  |  | 1622 | ); |
  |  | 1623 |  |
  |  | 1624 | $data['customEditorContent'] = array( |
  |  | 1625 | 'js' => array( |
  |  | 1626 | 'helperText' => array( |
  |  | 1627 | 'ShouldOpen' => '<b>Opening events:</b><br><br><b>#1</b> Add the code you want to run <b>before</b> the popup opening. This will be a condition for opening the popup, that is processed and defined before the popup opening. If the return value is <b>"true"</b> then the popup will open, if the value is <b>"false"</b> the popup won\'t open.', |
  |  | 1628 | 'WillOpen' => '<b>#2</b> Add the code you want to run <b>before</b> the popup opens. This will be the code that will work in the process of opening the popup. <b>true/false</b> conditions will not work in this phase.', |
  |  | 1629 | 'DidOpen' => '<b>#3</b> Add the code you want to run <b>after</b> the popup opens. This code will work when the popup is already open on the page.', |
  |  | 1630 | 'ShouldClose' => '<b>Closing events:</b><br><br><b>#1</b> Add the code that will be fired <b>before</b> the popup closes. This will be a condition for the popup closing. If the return value is <b>"true"</b> then the popup will close, if the value is <b>"false"</b> the popup won\'t close.', |
  |  | 1631 | 'WillClose' => '<b>#2</b> Add the code you want to run <b>before</b> the popup closes.  This will be the code that will work in the process of closing the popup. <b>true/false</b> conditions will not work in this phase.', |
  |  | 1632 | 'DidClose' => '<b>#3</b> Add the code you want to run <b>after</b> the popup closes. This code will work when the popup is already closed on the page.' |
  |  | 1633 | ), |
  |  | 1634 | 'description' => array( |
  |  | 1635 | '<span class="formItem\_\_text"> |
  |  | 1636 | '.\_\_('If you need the popup id number in the custom code, you may use the following variable to get the ID:', 'popup-builder').' |
  |  | 1637 | <b>popupId</b> |
  |  | 1638 | </span>' |
  |  | 1639 | ) |
  |  | 1640 | ), |
  |  | 1641 | 'css' => array( |
  |  | 1642 | // we need this oldDefaultValue for the backward compatibility |
  |  | 1643 | 'oldDefaultValue' => array( |
  |  | 1644 | '/\*popup content wrapper\*/'."\n". |
  |  | 1645 | '.sgpb-content-popupId {'."\n\n".'}'."\n\n". |
  |  | 1646 |  |
  |  | 1647 | '/\*overlay\*/'."\n". |
  |  | 1648 | '.sgpb-popup-overlay-popupId {'."\n\n".'}'."\n\n". |
  |  | 1649 |  |
  |  | 1650 | '/\*popup wrapper\*/'."\n". |
  |  | 1651 | '.sgpb-popup-builder-content-popupId {'."\n\n".'}'."\n\n" |
  |  | 1652 | ), |
  |  | 1653 | 'helperText' => array( |
  |  | 1654 | '<br>/\*popup content wrapper\*/', |
  |  | 1655 | '.sgpb-content-popupId', |
  |  | 1656 | '<br>/\*overlay\*/', |
  |  | 1657 | '.sgpb-popup-overlay-popupId', |
  |  | 1658 | '<br>/\*popup wrapper\*/', |
  |  | 1659 | '.sgpb-popup-builder-content-popupId' |
  |  | 1660 | ), |
  |  | 1661 | 'description' => array( |
  |  | 1662 | '<span class="formItem\_\_text"> |
  |  | 1663 | '.\_\_('If you need the popup id number in the custom code, you may use the following variable to get the ID:', 'popup-builder').' |
  |  | 1664 | <b>popupId</b> |
  |  | 1665 | </span>' |
  |  | 1666 | ) |
  |  | 1667 | ) |
  |  | 1668 | ); |
  |  | 1669 |  |
  |  | 1670 | $data['htmlCustomButtonArgs'] = array( |
  |  | 1671 | 'template' => array( |
  |  | 1672 | 'fieldWrapperAttr' => array( |
  |  | 1673 | 'class' => 'col-md-6 sgpb-choice-option-wrapper' |
  |  | 1674 | ), |
  |  | 1675 | 'labelAttr' => array( |
  |  | 1676 | 'class' => 'col-md-6 sgpb-choice-option-wrapper sgpb-sub-option-label' |
  |  | 1677 | ), |
  |  | 1678 | 'groupWrapperAttr' => array( |
  |  | 1679 | 'class' => 'row form-group sgpb-choice-wrapper' |
  |  | 1680 | ) |
  |  | 1681 | ), |
  |  | 1682 | 'buttonPosition' => 'right', |
  |  | 1683 | 'nextNewLine' => true, |
  |  | 1684 | 'fields' => array( |
  |  | 1685 | array( |
  |  | 1686 | 'attr' => array( |
  |  | 1687 | 'type' => 'radio', |
  |  | 1688 | 'name' => 'sgpb-custom-button', |
  |  | 1689 | 'class' => 'custom-button-copy-to-clipboard', |
  |  | 1690 | 'data-attr-href' => 'sgpb-custom-button-copy', |
  |  | 1691 | 'value' => 'copyToClipBoard' |
  |  | 1692 | ), |
  |  | 1693 | 'label' => array( |
  |  | 1694 | 'name' => \_\_('Copy to clipboard', 'popup-builder').':' |
  |  | 1695 | ) |
  |  | 1696 | ), |
  |  | 1697 | array( |
  |  | 1698 | 'attr' => array( |
  |  | 1699 | 'type' => 'radio', |
  |  | 1700 | 'name' => 'sgpb-custom-button', |
  |  | 1701 | 'class' => 'custom-button-copy-to-clipboard', |
  |  | 1702 | 'data-attr-href' => 'sgpb-custom-button-redirect-to-URL', |
  |  | 1703 | 'value' => 'redirectToURL' |
  |  | 1704 | ), |
  |  | 1705 | 'label' => array( |
  |  | 1706 | 'name' => \_\_('Redirect to URL', 'popup-builder').':' |
  |  | 1707 | ) |
  |  | 1708 | ), |
  |  | 1709 | array( |
  |  | 1710 | 'attr' => array( |
  |  | 1711 | 'type' => 'radio', |
  |  | 1712 | 'name' => 'sgpb-custom-button', |
  |  | 1713 | 'class' => 'subs-success-open-popup', |
  |  | 1714 | 'data-attr-href' => 'sgpb-custom-button-open-popup', |
  |  | 1715 | 'value' => 'openPopup' |
  |  | 1716 | ), |
  |  | 1717 | 'label' => array( |
  |  | 1718 | 'name' => \_\_('Open popup', 'popup-builder').':' |
  |  | 1719 | ) |
  |  | 1720 | ), |
  |  | 1721 | array( |
  |  | 1722 | 'attr' => array( |
  |  | 1723 | 'type' => 'radio', |
  |  | 1724 | 'name' => 'sgpb-custom-button', |
  |  | 1725 | 'class' => 'sgpb-custom-button-hide-popup', |
  |  | 1726 | 'value' => 'hidePopup' |
  |  | 1727 | ), |
  |  | 1728 | 'label' => array( |
  |  | 1729 | 'name' => \_\_('Hide popup', 'popup-builder').':' |
  |  | 1730 | ) |
  |  | 1731 | ) |
  |  | 1732 | ) |
  |  | 1733 | ); |
  |  | 1734 |  |
  |  | 1735 | $data['popupDimensions'] = array( |
  |  | 1736 | 'template' => array( |
  |  | 1737 | 'fieldWrapperAttr' => array( |
  |  | 1738 | 'class' => 'col-md-7 sgpb-choice-option-wrapper' |
  |  | 1739 | ), |
  |  | 1740 | 'labelAttr' => array( |
  |  | 1741 | 'class' => 'formItem\_\_title' |
  |  | 1742 | ), |
  |  | 1743 | 'groupWrapperAttr' => array( |
  |  | 1744 | 'class' => 'subFormItem sgpb-choice-wrapper sgpb-display-flex sgpb-align-item-center formItem' |
  |  | 1745 | ) |
  |  | 1746 | ), |
  |  | 1747 | 'buttonPosition' => 'right', |
  |  | 1748 | 'nextNewLine' => true, |
  |  | 1749 | 'fields' => array( |
  |  | 1750 | array( |
  |  | 1751 | 'attr' => array( |
  |  | 1752 | 'type' => 'radio', |
  |  | 1753 | 'name' => 'sgpb-popup-dimension-mode', |
  |  | 1754 | 'class' => 'test class', |
  |  | 1755 | 'data-attr-href' => 'responsive-dimension-wrapper', |
  |  | 1756 | 'value' => 'responsiveMode' |
  |  | 1757 | ), |
  |  | 1758 | 'label' => array( |
  |  | 1759 | 'name' => \_\_('Responsive mode', 'popup-builder').':', |
  |  | 1760 | 'info' => \_\_('The sizes of the popup will be counted automatically, according to the content size of the popup. You can select the size in percentages, with this mode, to specify the size on the screen', 'popup-builder').'.' |
  |  | 1761 | ) |
  |  | 1762 | ), |
  |  | 1763 | array( |
  |  | 1764 | 'attr' => array( |
  |  | 1765 | 'type' => 'radio', |
  |  | 1766 | 'name' => 'sgpb-popup-dimension-mode', |
  |  | 1767 | 'class' => 'test class', |
  |  | 1768 | 'data-attr-href' => 'custom-dimension-wrapper', |
  |  | 1769 | 'value' => 'customMode' |
  |  | 1770 | ), |
  |  | 1771 | 'label' => array( |
  |  | 1772 | 'name' => \_\_('Custom mode', 'popup-builder').':', |
  |  | 1773 | 'info' => \_\_('Add your own custom dimensions for the popup to get the exact sizing for your popup', 'popup-builder').'.' |
  |  | 1774 | ) |
  |  | 1775 | ) |
  |  | 1776 | ) |
  |  | 1777 | ); |
  |  | 1778 |  |
  |  | 1779 | $data['theme'] = array( |
  |  | 1780 | array( |
  |  | 1781 | 'value' => 'sgpb-theme-1', |
  |  | 1782 | 'data-attributes' => array( |
  |  | 1783 | 'class' => 'js-sgpb-popup-themes sgpb-popup-theme-1', |
  |  | 1784 | 'data-popup-theme-number' => 1 |
  |  | 1785 | ) |
  |  | 1786 | ), |
  |  | 1787 | array( |
  |  | 1788 | 'value' => 'sgpb-theme-2', |
  |  | 1789 | 'data-attributes' => array( |
  |  | 1790 | 'class' => 'js-sgpb-popup-themes sgpb-popup-theme-2', |
  |  | 1791 | 'data-popup-theme-number' => 2 |
  |  | 1792 | ) |
  |  | 1793 | ), |
  |  | 1794 | array( |
  |  | 1795 | 'value' => 'sgpb-theme-3', |
  |  | 1796 | 'data-attributes' => array( |
  |  | 1797 | 'class' => 'js-sgpb-popup-themes sgpb-popup-theme-3', |
  |  | 1798 | 'data-popup-theme-number' => 3 |
  |  | 1799 | ) |
  |  | 1800 | ), |
  |  | 1801 | array( |
  |  | 1802 | 'value' => 'sgpb-theme-4', |
  |  | 1803 | 'data-attributes' => array( |
  |  | 1804 | 'class' => 'js-sgpb-popup-themes sgpb-popup-theme-4', |
  |  | 1805 | 'data-popup-theme-number' => 4 |
  |  | 1806 | ) |
  |  | 1807 | ), |
  |  | 1808 | array( |
  |  | 1809 | 'value' => 'sgpb-theme-5', |
  |  | 1810 | 'data-attributes' => array( |
  |  | 1811 | 'class' => 'js-sgpb-popup-themes sgpb-popup-theme-5', |
  |  | 1812 | 'data-popup-theme-number' => 5 |
  |  | 1813 | ) |
  |  | 1814 | ), |
  |  | 1815 | array( |
  |  | 1816 | 'value' => 'sgpb-theme-6', |
  |  | 1817 | 'data-attributes' => array( |
  |  | 1818 | 'class' => 'js-sgpb-popup-themes sgpb-popup-theme-6', |
  |  | 1819 | 'data-popup-theme-number' => 6 |
  |  | 1820 | ) |
  |  | 1821 | ) |
  |  | 1822 | ); |
  |  | 1823 |  |
  |  | 1824 | $data['responsiveDimensions'] = array( |
  |  | 1825 | 'auto' =>  \_\_('Auto', 'popup-builder'), |
  |  | 1826 | '10' => '10%', |
  |  | 1827 | '20' => '20%', |
  |  | 1828 | '30' => '30%', |
  |  | 1829 | '40' => '40%', |
  |  | 1830 | '50' => '50%', |
  |  | 1831 | '60' => '60%', |
  |  | 1832 | '70' => '70%', |
  |  | 1833 | '80' => '80%', |
  |  | 1834 | '90' => '90%', |
  |  | 1835 | '100' => '100%', |
  |  | 1836 | 'fullScreen' => \_\_('Full screen', 'popup-builder') |
  |  | 1837 | ); |
  |  | 1838 |  |
  |  | 1839 | $data['freeConditionsAdvancedTargeting'] = array( |
  |  | 1840 | 'devices' => \_\_('Devices', 'popup-builder'), |
  |  | 1841 | 'user-status' => \_\_('User Status', 'popup-builder'), |
  |  | 1842 | 'after-x' => \_\_('After x pages visit', 'popup-builder'), |
  |  | 1843 | 'user-role' => \_\_('User Role', 'popup-builder'), |
  |  | 1844 | 'detect-by-url' => \_\_('Referral URL detection', 'popup-builder'), |
  |  | 1845 | 'cookie-detection' => \_\_('Cookie Detection', 'popup-builder'), |
  |  | 1846 | 'operation-system' => \_\_('Operating System', 'popup-builder'), |
  |  | 1847 | 'browser-detection' => \_\_('Web Browser', 'popup-builder'), |
  |  | 1848 | 'query-string' => \_\_('URL Query String', 'popup-builder') |
  |  | 1849 | ); |
  |  | 1850 |  |
  |  | 1851 | $data['freeConditionsGeoTargeting'] = array( |
  |  | 1852 | 'countries' => \_\_('Countries', 'popup-builder'), |
  |  | 1853 | 'cities' => \_\_('Cities', 'popup-builder'), |
  |  | 1854 | 'states' => \_\_('States', 'popup-builder'), |
  |  | 1855 | 'visitor-ip' => \_\_('Visitor IP', 'popup-builder') |
  |  | 1856 | ); |
  |  | 1857 |  |
  |  | 1858 | $data['closeButtonPositions'] = array( |
  |  | 1859 | 'topLeft' => \_\_('top-left', 'popup-builder'), |
  |  | 1860 | 'topRight' => \_\_('top-right', 'popup-builder'), |
  |  | 1861 | 'bottomLeft' => \_\_('bottom-left', 'popup-builder'), |
  |  | 1862 | 'bottomRight' => \_\_('bottom-right', 'popup-builder') |
  |  | 1863 | ); |
  |  | 1864 |  |
  |  | 1865 | $data['closeButtonPositionsFirstTheme'] = array( |
  |  | 1866 | 'bottomLeft' => \_\_('bottom-left', 'popup-builder'), |
  |  | 1867 | 'bottomRight' => \_\_('bottom-right', 'popup-builder') |
  |  | 1868 | ); |
  |  | 1869 |  |
  |  | 1870 | $data['pxPercent'] = array( |
  |  | 1871 | 'px' => 'px', |
  |  | 1872 | '%' => '%' |
  |  | 1873 | ); |
  |  | 1874 |  |
  |  | 1875 | $data['countdownFormat'] = array( |
  |  | 1876 | SG\_COUNTDOWN\_COUNTER\_SECONDS\_SHOW => 'DD:HH:MM:SS', |
  |  | 1877 | SG\_COUNTDOWN\_COUNTER\_SECONDS\_HIDE => 'DD:HH:MM' |
  |  | 1878 | ); |
  |  | 1879 |  |
  |  | 1880 | $data['countdownTimezone'] = self::getPopupTimeZone(); |
  |  | 1881 |  |
  |  | 1882 | $data['countdownLanguage'] = array( |
  |  | 1883 | 'English'    => 'English', |
  |  | 1884 | 'German'     => 'Deutsche', |
  |  | 1885 | 'Spanish'    => 'Español', |
  |  | 1886 | 'Arabic'     => 'عربى', |
  |  | 1887 | 'Italian'    => 'Italiano', |
  |  | 1888 | 'Dutch'      => 'Dutch', |
  |  | 1889 | 'Norwegian'  => 'Norsk', |
  |  | 1890 | 'Portuguese' => 'Português', |
  |  | 1891 | 'Russian'    => 'Русский', |
  |  | 1892 | 'Swedish'    => 'Svenska', |
  |  | 1893 | 'Czech'      => 'Čeština', |
  |  | 1894 | 'Chinese'    => '中文' |
  |  | 1895 | ); |
  |  | 1896 |  |
  |  | 1897 | $data['weekDaysArray'] = array( |
  |  | 1898 | 'Mon' => \_\_('Monday'), |
  |  | 1899 | 'Tue' => \_\_('Tuesday'), |
  |  | 1900 | 'Wed' => \_\_('Wednesday'), |
  |  | 1901 | 'Thu' => \_\_('Thursday'), |
  |  | 1902 | 'Fri' => \_\_('Friday'), |
  |  | 1903 | 'Sat' => \_\_('Saturday'), |
  |  | 1904 | 'Sun' => \_\_('Sunday') |
  |  | 1905 | ); |
  |  | 1906 |  |
  |  | 1907 | $data['messageResize'] = array( |
  |  | 1908 | 'both' => \_\_('Both', 'popup-builder'), |
  |  | 1909 | 'horizontal' => \_\_('Horizontal', 'popup-builder'), |
  |  | 1910 | 'vertical' => \_\_('Vertical', 'popup-builder'), |
  |  | 1911 | 'none' => \_\_('None', 'popup-builder'), |
  |  | 1912 | 'inherit' => \_\_('Inherit', 'popup-builder') |
  |  | 1913 | ); |
  |  | 1914 |  |
  |  | 1915 | $data['socialShareOptions'] = array( |
  |  | 1916 | 'template' => array( |
  |  | 1917 | 'fieldWrapperAttr' => array( |
  |  | 1918 | 'class' => 'col-md-7 sgpb-choice-option-wrapper' |
  |  | 1919 | ), |
  |  | 1920 | 'labelAttr' => array( |
  |  | 1921 | 'class' => 'col-md-5 sgpb-choice-option-wrapper' |
  |  | 1922 | ), |
  |  | 1923 | 'groupWrapperAttr' => array( |
  |  | 1924 | 'class' => 'row form-group sgpb-choice-wrapper' |
  |  | 1925 | ) |
  |  | 1926 | ), |
  |  | 1927 | 'buttonPosition' => 'right', |
  |  | 1928 | 'nextNewLine' => true, |
  |  | 1929 | 'fields' => array( |
  |  | 1930 | array( |
  |  | 1931 | 'attr' => array( |
  |  | 1932 | 'type' => 'radio', |
  |  | 1933 | 'name' => 'sgpb-social-share-url-type', |
  |  | 1934 | 'class' => 'sgpb-share-url-type', |
  |  | 1935 | 'data-attr-href' => '', |
  |  | 1936 | 'value' => 'activeUrl' |
  |  | 1937 | ), |
  |  | 1938 | 'label' => array( |
  |  | 1939 | 'name' => \_\_('Use active URL', 'popup-builder').':' |
  |  | 1940 | ) |
  |  | 1941 | ), |
  |  | 1942 | array( |
  |  | 1943 | 'attr' => array( |
  |  | 1944 | 'type' => 'radio', |
  |  | 1945 | 'name' => 'sgpb-social-share-url-type', |
  |  | 1946 | 'class' => 'sgpb-share-url-type', |
  |  | 1947 | 'data-attr-href' => 'sgpb-social-share-url-wrapper', |
  |  | 1948 | 'value' => 'shareUrl' |
  |  | 1949 | ), |
  |  | 1950 | 'label' => array( |
  |  | 1951 | 'name' => \_\_('Share URL', 'popup-builder').':' |
  |  | 1952 | ) |
  |  | 1953 | ) |
  |  | 1954 | ) |
  |  | 1955 | ); |
  |  | 1956 |  |
  |  | 1957 | $data['countdownDateFormat'] = array( |
  |  | 1958 | 'template' => array( |
  |  | 1959 | 'fieldWrapperAttr' => array( |
  |  | 1960 | 'class' => 'col-md-5 sgpb-choice-option-wrapper' |
  |  | 1961 | ), |
  |  | 1962 | 'labelAttr' => array( |
  |  | 1963 | 'class' => 'col-md-5 sgpb-choice-option-wrapper sgpb-sub-option-label' |
  |  | 1964 | ), |
  |  | 1965 | 'groupWrapperAttr' => array( |
  |  | 1966 | 'class' => 'row form-group sgpb-choice-wrapper' |
  |  | 1967 | ) |
  |  | 1968 | ), |
  |  | 1969 | 'buttonPosition' => 'right', |
  |  | 1970 | 'nextNewLine' => true, |
  |  | 1971 | 'fields' => array( |
  |  | 1972 | array( |
  |  | 1973 | 'attr' => array( |
  |  | 1974 | 'type' => 'radio', |
  |  | 1975 | 'name' => 'sgpb-countdown-date-format', |
  |  | 1976 | 'class' => 'sgpb-countdown-date-format-from-date', |
  |  | 1977 | 'data-attr-href' => 'sgpb-countdown-date-format-from-date', |
  |  | 1978 | 'value' => 'date' |
  |  | 1979 | ), |
  |  | 1980 | 'label' => array( |
  |  | 1981 | 'name' => \_\_('Due Date', 'popup-builder').':' |
  |  | 1982 | ) |
  |  | 1983 | ), |
  |  | 1984 | array( |
  |  | 1985 | 'attr' => array( |
  |  | 1986 | 'type' => 'radio', |
  |  | 1987 | 'name' => 'sgpb-countdown-date-format', |
  |  | 1988 | 'class' => 'sgpb-countdown-date-format-from-date', |
  |  | 1989 | 'data-attr-href' => 'sgpb-countdown-date-format-from-input', |
  |  | 1990 | 'value' => 'input' |
  |  | 1991 | ), |
  |  | 1992 | 'label' => array( |
  |  | 1993 | 'name' => \_\_('Timer', 'popup-builder').':' |
  |  | 1994 | ) |
  |  | 1995 | ) |
  |  | 1996 | ) |
  |  | 1997 | ); |
  |  | 1998 |  |
  |  | 1999 | $data['socialShareTheme'] = array( |
  |  | 2000 | array( |
  |  | 2001 | 'value' => 'flat', |
  |  | 2002 | 'data-attributes' => array( |
  |  | 2003 | 'class' => 'js-social-share-theme sgpb-social-popup-flat', |
  |  | 2004 | 'data-popup-theme-number' => 1 |
  |  | 2005 | ) |
  |  | 2006 | ), |
  |  | 2007 | array( |
  |  | 2008 | 'value' => 'classic', |
  |  | 2009 | 'data-attributes' => array( |
  |  | 2010 | 'class' => 'js-social-share-theme sgpb-social-popup-classic', |
  |  | 2011 | 'data-popup-theme-number' => 1 |
  |  | 2012 | ) |
  |  | 2013 | ), |
  |  | 2014 | array( |
  |  | 2015 | 'value' => 'minima', |
  |  | 2016 | 'data-attributes' => array( |
  |  | 2017 | 'class' => 'js-social-share-theme sgpb-social-popup-minima', |
  |  | 2018 | 'data-popup-theme-number' => 1 |
  |  | 2019 | ) |
  |  | 2020 | ), |
  |  | 2021 | array( |
  |  | 2022 | 'value' => 'plain', |
  |  | 2023 | 'data-attributes' => array( |
  |  | 2024 | 'class' => 'js-social-share-theme sgpb-social-popup-plain', |
  |  | 2025 | 'data-popup-theme-number' => 1 |
  |  | 2026 | ) |
  |  | 2027 | ) |
  |  | 2028 | ); |
  |  | 2029 |  |
  |  | 2030 | $data['socialThemeSizes'] = array( |
  |  | 2031 | '8' => '8', |
  |  | 2032 | '10' => '10', |
  |  | 2033 | '12' => '12', |
  |  | 2034 | '14' => '14', |
  |  | 2035 | '16' => '16', |
  |  | 2036 | '18' => '18', |
  |  | 2037 | '20' => '20', |
  |  | 2038 | '24' => '24' |
  |  | 2039 | ); |
  |  | 2040 |  |
  |  | 2041 | $data['socialThemeShereCount'] = array( |
  |  | 2042 | 'true' => \_\_('True', 'popup-builder'), |
  |  | 2043 | 'false' => \_\_('False', 'popup-builder'), |
  |  | 2044 | 'inside' => \_\_('Inside', 'popup-builder') |
  |  | 2045 | ); |
  |  | 2046 |  |
  |  | 2047 | $data['popupInsertEventTypes'] = array( |
  |  | 2048 | 'inherit' => \_\_('Inherit', 'popup-builder'), |
  |  | 2049 | 'onLoad' => \_\_('On load', 'popup-builder'), |
  |  | 2050 | 'click' => \_\_('On click', 'popup-builder'), |
  |  | 2051 | 'hover' => \_\_('On hover', 'popup-builder') |
  |  | 2052 | ); |
  |  | 2053 |  |
  |  | 2054 | $data['subscriptionSuccessBehavior'] = array( |
  |  | 2055 | 'template' => array( |
  |  | 2056 | 'fieldWrapperAttr' => array( |
  |  | 2057 | 'class' => 'col-md-6 sgpb-choice-option-wrapper' |
  |  | 2058 | ), |
  |  | 2059 | 'labelAttr' => array( |
  |  | 2060 | 'class' => 'subFormItem\_\_title sgpb-margin-right-10' |
  |  | 2061 | ), |
  |  | 2062 | 'groupWrapperAttr' => array( |
  |  | 2063 | 'class' => 'subFormItem sgpb-choice-wrapper' |
  |  | 2064 | ) |
  |  | 2065 | ), |
  |  | 2066 | 'buttonPosition' => 'right', |
  |  | 2067 | 'nextNewLine' => true, |
  |  | 2068 | 'fields' => array( |
  |  | 2069 | array( |
  |  | 2070 | 'attr' => array( |
  |  | 2071 | 'type' => 'radio', |
  |  | 2072 | 'name' => 'sgpb-subs-success-behavior', |
  |  | 2073 | 'class' => 'subs-success-message', |
  |  | 2074 | 'data-attr-href' => 'subs-show-success-message', |
  |  | 2075 | 'value' => 'showMessage' |
  |  | 2076 | ), |
  |  | 2077 | 'label' => array( |
  |  | 2078 | 'name' => \_\_('Success message', 'popup-builder').':' |
  |  | 2079 | ) |
  |  | 2080 | ), |
  |  | 2081 | array( |
  |  | 2082 | 'attr' => array( |
  |  | 2083 | 'type' => 'radio', |
  |  | 2084 | 'name' => 'sgpb-subs-success-behavior', |
  |  | 2085 | 'class' => 'subs-redirect-to-URL', |
  |  | 2086 | 'data-attr-href' => 'subs-redirect-to-URL', |
  |  | 2087 | 'value' => 'redirectToURL' |
  |  | 2088 | ), |
  |  | 2089 | 'label' => array( |
  |  | 2090 | 'name' => \_\_('Redirect to URL', 'popup-builder').':' |
  |  | 2091 | ) |
  |  | 2092 | ), |
  |  | 2093 | array( |
  |  | 2094 | 'attr' => array( |
  |  | 2095 | 'type' => 'radio', |
  |  | 2096 | 'name' => 'sgpb-subs-success-behavior', |
  |  | 2097 | 'class' => 'subs-success-open-popup', |
  |  | 2098 | 'data-attr-href' => 'subs-open-popup', |
  |  | 2099 | 'value' => 'openPopup' |
  |  | 2100 | ), |
  |  | 2101 | 'label' => array( |
  |  | 2102 | 'name' => \_\_('Open popup', 'popup-builder').':' |
  |  | 2103 | ) |
  |  | 2104 | ), |
  |  | 2105 | array( |
  |  | 2106 | 'attr' => array( |
  |  | 2107 | 'type' => 'radio', |
  |  | 2108 | 'name' => 'sgpb-subs-success-behavior', |
  |  | 2109 | 'class' => 'subs-hide-popup', |
  |  | 2110 | 'value' => 'hidePopup' |
  |  | 2111 | ), |
  |  | 2112 | 'label' => array( |
  |  | 2113 | 'name' => \_\_('Hide popup', 'popup-builder').':' |
  |  | 2114 | ) |
  |  | 2115 | ) |
  |  | 2116 | ) |
  |  | 2117 | ); |
  |  | 2118 |  |
  |  | 2119 | $data['buttonsType'] = array( |
  |  | 2120 | 'standard' => \_\_('Standard', 'popup-builder'), |
  |  | 2121 | 'box\_count' => \_\_('Box with count', 'popup-builder'), |
  |  | 2122 | 'button\_count' => \_\_('Button with count', 'popup-builder'), |
  |  | 2123 | 'button' => \_\_('Button', 'popup-builder') |
  |  | 2124 | ); |
  |  | 2125 |  |
  |  | 2126 | $data['backroundImageModes'] = array( |
  |  | 2127 | 'no-repeat' => \_\_('None', 'popup-builder'), |
  |  | 2128 | 'cover' => \_\_('Cover', 'popup-builder'), |
  |  | 2129 | 'contain' => \_\_('Contain', 'popup-builder'), |
  |  | 2130 | 'repeat' => \_\_('Repeat', 'popup-builder') |
  |  | 2131 | ); |
  |  | 2132 |  |
  |  | 2133 | $data['openAnimationEfects'] = array( |
  |  | 2134 | 'No effect' => \_\_('None', 'popup-builder'), |
  |  | 2135 | 'sgpb-flip' => \_\_('Flip', 'popup-builder'), |
  |  | 2136 | 'sgpb-shake' => \_\_('Shake', 'popup-builder'), |
  |  | 2137 | 'sgpb-wobble' => \_\_('Wobble', 'popup-builder'), |
  |  | 2138 | 'sgpb-swing' => \_\_('Swing', 'popup-builder'), |
  |  | 2139 | 'sgpb-flash' => \_\_('Flash', 'popup-builder'), |
  |  | 2140 | 'sgpb-bounce' => \_\_('Bounce', 'popup-builder'), |
  |  | 2141 | 'sgpb-bounceInRight' => \_\_('BounceInRight', 'popup-builder'), |
  |  | 2142 | 'sgpb-bounceIn' => \_\_('BounceIn', 'popup-builder'), |
  |  | 2143 | 'sgpb-pulse' => \_\_('Pulse', 'popup-builder'), |
  |  | 2144 | 'sgpb-rubberBand' => \_\_('RubberBand', 'popup-builder'), |
  |  | 2145 | 'sgpb-tada' => \_\_('Tada', 'popup-builder'), |
  |  | 2146 | 'sgpb-slideInUp' => \_\_('SlideInUp', 'popup-builder'), |
  |  | 2147 | 'sgpb-jello' => \_\_('Jello', 'popup-builder'), |
  |  | 2148 | 'sgpb-rotateIn' => \_\_('RotateIn', 'popup-builder'), |
  |  | 2149 | 'sgpb-fadeIn' => \_\_('FadeIn', 'popup-builder') |
  |  | 2150 | ); |
  |  | 2151 |  |
  |  | 2152 | $data['closeAnimationEfects'] = array( |
  |  | 2153 | 'No effect' => \_\_('None', 'popup-builder'), |
  |  | 2154 | 'sgpb-flipInX' => \_\_('Flip', 'popup-builder'), |
  |  | 2155 | 'sgpb-shake' => \_\_('Shake', 'popup-builder'), |
  |  | 2156 | 'sgpb-wobble' => \_\_('Wobble', 'popup-builder'), |
  |  | 2157 | 'sgpb-swing' => \_\_('Swing', 'popup-builder'), |
  |  | 2158 | 'sgpb-flash' => \_\_('Flash', 'popup-builder'), |
  |  | 2159 | 'sgpb-bounce' => \_\_('Bounce', 'popup-builder'), |
  |  | 2160 | 'sgpb-bounceOutLeft' => \_\_('BounceOutLeft', 'popup-builder'), |
  |  | 2161 | 'sgpb-bounceOut' => \_\_('BounceOut', 'popup-builder'), |
  |  | 2162 | 'sgpb-pulse' => \_\_('Pulse', 'popup-builder'), |
  |  | 2163 | 'sgpb-rubberBand' => \_\_('RubberBand', 'popup-builder'), |
  |  | 2164 | 'sgpb-tada' => \_\_('Tada', 'popup-builder'), |
  |  | 2165 | 'sgpb-slideOutUp' => \_\_('SlideOutUp', 'popup-builder'), |
  |  | 2166 | 'sgpb-jello' => \_\_('Jello', 'popup-builder'), |
  |  | 2167 | 'sgpb-rotateOut' => \_\_('RotateOut', 'popup-builder'), |
  |  | 2168 | 'sgpb-fadeOut' => \_\_('FadeOut', 'popup-builder') |
  |  | 2169 | ); |
  |  | 2170 |  |
  |  | 2171 | $data['floatingButtonPositionsCorner'] = array( |
  |  | 2172 | 'top-left' => \_\_('Top left', 'popup-builder'), |
  |  | 2173 | 'top-right' => \_\_('Top right', 'popup-builder'), |
  |  | 2174 | 'bottom-left' => \_\_('Bottom left', 'popup-builder'), |
  |  | 2175 | 'bottom-right' => \_\_('Bottom right', 'popup-builder') |
  |  | 2176 | ); |
  |  | 2177 |  |
  |  | 2178 | $data['floatingButtonPositionsBasic'] = array( |
  |  | 2179 | 'top-left' => \_\_('Top left', 'popup-builder'), |
  |  | 2180 | 'top-right' => \_\_('Top right', 'popup-builder'), |
  |  | 2181 | 'bottom-left' => \_\_('Bottom left', 'popup-builder'), |
  |  | 2182 | 'bottom-right' => \_\_('Bottom right', 'popup-builder'), |
  |  | 2183 | 'top-center' => \_\_('Top center', 'popup-builder'), |
  |  | 2184 | 'bottom-center' => \_\_('Bottom center', 'popup-builder'), |
  |  | 2185 | 'right-center' => \_\_('Right center', 'popup-builder'), |
  |  | 2186 | 'left-center' => \_\_('Left center', 'popup-builder') |
  |  | 2187 | ); |
  |  | 2188 |  |
  |  | 2189 | $data['floatingButtonStyle'] = array( |
  |  | 2190 | 'corner' => \_\_('Corner', 'popup-builder'), |
  |  | 2191 | 'basic' => \_\_('Basic', 'popup-builder') |
  |  | 2192 | ); |
  |  | 2193 |  |
  |  | 2194 | $data['userRoles'] = self::getAllUserRoles(); |
  |  | 2195 |  |
  |  | 2196 | return $data; |
  |  | 2197 | } |
  |  | 2198 |  |
  |  | 2199 | public static function getAllUserRoles() |
  |  | 2200 | { |
  |  | 2201 | $rulesArray = array(); |
  |  | 2202 | if (!function\_exists('get\_editable\_roles')){ |
  |  | 2203 | return $rulesArray; |
  |  | 2204 | } |
  |  | 2205 |  |
  |  | 2206 | $roles = get\_editable\_roles(); |
  |  | 2207 | foreach ($roles as $roleName => $roleInfo) { |
  |  | 2208 | if ($roleName == 'administrator') { |
  |  | 2209 | continue; |
  |  | 2210 | } |
  |  | 2211 | $rulesArray[$roleName] = $roleName; |
  |  | 2212 | } |
  |  | 2213 |  |
  |  | 2214 | return $rulesArray; |
  |  | 2215 | } |
  |  | 2216 |  |
  |  | 2217 | public static function getClickActionOptions() |
  |  | 2218 | { |
  |  | 2219 | $settings = array( |
  |  | 2220 | 'defaultClickClassName' => \_\_('Default', 'popup-builder'), |
  |  | 2221 | 'clickActionCustomClass' => \_\_('Custom class', 'popup-builder') |
  |  | 2222 | ); |
  |  | 2223 |  |
  |  | 2224 | return $settings; |
  |  | 2225 | } |
  |  | 2226 |  |
  |  | 2227 | public static function getHoverActionOptions() |
  |  | 2228 | { |
  |  | 2229 | $settings = array( |
  |  | 2230 | 'defaultHoverClassName' => \_\_('Default', 'popup-builder'), |
  |  | 2231 | 'hoverActionCustomClass' => \_\_('Custom class', 'popup-builder') |
  |  | 2232 | ); |
  |  | 2233 |  |
  |  | 2234 | return $settings; |
  |  | 2235 | } |
  |  | 2236 |  |
  |  | 2237 | // proStartSilver |
  |  | 2238 | public static function getPopupDefaultTimeZone() |
  |  | 2239 | { |
  |  | 2240 | $timeZone = get\_option('timezone\_string'); |
  |  | 2241 | if (!$timeZone) { |
  |  | 2242 | $timeZone = SG\_POPUP\_DEFAULT\_TIME\_ZONE; |
  |  | 2243 | } |
  |  | 2244 |  |
  |  | 2245 | return $timeZone; |
  |  | 2246 | } |
  |  | 2247 | // proEndSilver |
  |  | 2248 |  |
  |  | 2249 | // proStartGold |
  |  | 2250 | public static function getPopupTimeZone() |
  |  | 2251 | { |
  |  | 2252 | return array( |
  |  | 2253 | 'Pacific/Midway' => '(GMT-11:00) Midway', |
  |  | 2254 | 'Pacific/Niue' => '(GMT-11:00) Niue', |
  |  | 2255 | 'Pacific/Pago\_Pago' => '(GMT-11:00) Pago Pago', |
  |  | 2256 | 'Pacific/Honolulu' => '(GMT-10:00) Hawaii Time', |
  |  | 2257 | 'Pacific/Rarotonga' => '(GMT-10:00) Rarotonga', |
  |  | 2258 | 'Pacific/Tahiti' => '(GMT-10:00) Tahiti', |
  |  | 2259 | 'Pacific/Marquesas' => '(GMT-09:30) Marquesas', |
  |  | 2260 | 'America/Anchorage' => '(GMT-09:00) Alaska Time', |
  |  | 2261 | 'Pacific/Gambier' => '(GMT-09:00) Gambier', |
  |  | 2262 | 'America/Los\_Angeles' => '(GMT-08:00) Pacific Time', |
  |  | 2263 | 'America/Tijuana' => '(GMT-08:00) Pacific Time - Tijuana', |
  |  | 2264 | 'America/Vancouver' => '(GMT-08:00) Pacific Time - Vancouver', |
  |  | 2265 | 'America/Whitehorse' => '(GMT-08:00) Pacific Time - Whitehorse', |
  |  | 2266 | 'Pacific/Pitcairn' => '(GMT-08:00) Pitcairn', |
  |  | 2267 | 'America/Dawson\_Creek' => '(GMT-07:00) Mountain Time - Dawson Creek', |
  |  | 2268 | 'America/Denver' => '(GMT-07:00) Mountain Time', |
  |  | 2269 | 'America/Edmonton' => '(GMT-07:00) Mountain Time - Edmonton', |
  |  | 2270 | 'America/Hermosillo' => '(GMT-07:00) Mountain Time - Hermosillo', |
  |  | 2271 | 'America/Mazatlan' => '(GMT-07:00) Mountain Time - Chihuahua, Mazatlan', |
  |  | 2272 | 'America/Phoenix' => '(GMT-07:00) Mountain Time - Arizona', |
  |  | 2273 | 'America/Yellowknife' => '(GMT-07:00) Mountain Time - Yellowknife', |
  |  | 2274 | 'America/Belize' => '(GMT-06:00) Belize', |
  |  | 2275 | 'America/Chicago' => '(GMT-06:00) Central Time', |
  |  | 2276 | 'America/Costa\_Rica' => '(GMT-06:00) Costa Rica', |
  |  | 2277 | 'America/El\_Salvador' => '(GMT-06:00) El Salvador', |
  |  | 2278 | 'America/Guatemala' => '(GMT-06:00) Guatemala', |
  |  | 2279 | 'America/Managua' => '(GMT-06:00) Managua', |
  |  | 2280 | 'America/Mexico\_City' => '(GMT-06:00) Central Time - Mexico City', |
  |  | 2281 | 'America/Regina' => '(GMT-06:00) Central Time - Regina', |
  |  | 2282 | 'America/Tegucigalpa' => '(GMT-06:00) Central Time - Tegucigalpa', |
  |  | 2283 | 'America/Winnipeg' => '(GMT-06:00) Central Time - Winnipeg', |
  |  | 2284 | 'Pacific/Easter' => '(GMT-06:00) Easter Island', |
  |  | 2285 | 'Pacific/Galapagos' => '(GMT-06:00) Galapagos', |
  |  | 2286 | 'America/Bogota' => '(GMT-05:00) Bogota', |
  |  | 2287 | 'America/Cayman' => '(GMT-05:00) Cayman', |
  |  | 2288 | 'America/Guayaquil' => '(GMT-05:00) Guayaquil', |
  |  | 2289 | 'America/Havana' => '(GMT-05:00) Havana', |
  |  | 2290 | 'America/Iqaluit' => '(GMT-05:00) Eastern Time - Iqaluit', |
  |  | 2291 | 'America/Jamaica' => '(GMT-05:00) Jamaica', |
  |  | 2292 | 'America/Lima' => '(GMT-05:00) Lima', |
  |  | 2293 | 'America/Montreal' => '(GMT-05:00) Eastern Time - Montreal', |
  |  | 2294 | 'America/Nassau' => '(GMT-05:00) Nassau', |
  |  | 2295 | 'America/New\_York' => '(GMT-05:00) Eastern Time', |
  |  | 2296 | 'America/Panama' => '(GMT-05:00) Panama', |
  |  | 2297 | 'America/Port-au-Prince' => '(GMT-05:00) Port-au-Prince', |
  |  | 2298 | 'America/Rio\_Branco' => '(GMT-05:00) Rio Branco', |
  |  | 2299 | 'America/Toronto' => '(GMT-05:00) Eastern Time - Toronto', |
  |  | 2300 | 'America/Caracas' => '(GMT-04:30) Caracas', |
  |  | 2301 | 'America/Antigua' => '(GMT-04:00) Antigua', |
  |  | 2302 | 'America/Asuncion' => '(GMT-04:00) Asuncion', |
  |  | 2303 | 'America/Barbados' => '(GMT-04:00) Barbados', |
  |  | 2304 | 'America/Boa\_Vista' => '(GMT-04:00) Boa Vista', |
  |  | 2305 | 'America/Campo\_Grande' => '(GMT-04:00) Campo Grande', |
  |  | 2306 | 'America/Cuiaba' => '(GMT-04:00) Cuiaba', |
  |  | 2307 | 'America/Curacao' => '(GMT-04:00) Curacao', |
  |  | 2308 | 'America/Grand\_Turk' => '(GMT-04:00) Grand Turk', |
  |  | 2309 | 'America/Guyana' => '(GMT-04:00) Guyana', |
  |  | 2310 | 'America/Halifax' => '(GMT-04:00) Atlantic Time - Halifax', |
  |  | 2311 | 'America/La\_Paz' => '(GMT-04:00) La Paz', |
  |  | 2312 | 'America/Manaus' => '(GMT-04:00) Manaus', |
  |  | 2313 | 'America/Martinique' => '(GMT-04:00) Martinique', |
  |  | 2314 | 'America/Port\_of\_Spain' => '(GMT-04:00) Port of Spain', |
  |  | 2315 | 'America/Porto\_Velho' => '(GMT-04:00) Porto Velho', |
  |  | 2316 | 'America/Puerto\_Rico' => '(GMT-04:00) Puerto Rico', |
  |  | 2317 | 'America/Santiago' => '(GMT-04:00) Santiago', |
  |  | 2318 | 'America/Santo\_Domingo' => '(GMT-04:00) Santo Domingo', |
  |  | 2319 | 'America/Thule' => '(GMT-04:00) Thule', |
  |  | 2320 | 'Antarctica/Palmer' => '(GMT-04:00) Palmer', |
  |  | 2321 | 'Atlantic/Bermuda' => '(GMT-04:00) Bermuda', |
  |  | 2322 | 'America/St\_Johns' => '(GMT-03:30) Newfoundland Time - St. Johns', |
  |  | 2323 | 'America/Araguaina' => '(GMT-03:00) Araguaina', |
  |  | 2324 | 'America/Argentina/Buenos\_Aires' => '(GMT-03:00) Buenos Aires', |
  |  | 2325 | 'America/Bahia' => '(GMT-03:00) Salvador', |
  |  | 2326 | 'America/Belem' => '(GMT-03:00) Belem', |
  |  | 2327 | 'America/Cayenne' => '(GMT-03:00) Cayenne', |
  |  | 2328 | 'America/Fortaleza' => '(GMT-03:00) Fortaleza', |
  |  | 2329 | 'America/Godthab' => '(GMT-03:00) Godthab', |
  |  | 2330 | 'America/Maceio' => '(GMT-03:00) Maceio', |
  |  | 2331 | 'America/Miquelon' => '(GMT-03:00) Miquelon', |
  |  | 2332 | 'America/Montevideo' => '(GMT-03:00) Montevideo', |
  |  | 2333 | 'America/Paramaribo' => '(GMT-03:00) Paramaribo', |
  |  | 2334 | 'America/Recife' => '(GMT-03:00) Recife', |
  |  | 2335 | 'America/Sao\_Paulo' => '(GMT-03:00) Sao Paulo', |
  |  | 2336 | 'Antarctica/Rothera' => '(GMT-03:00) Rothera', |
  |  | 2337 | 'Atlantic/Stanley' => '(GMT-03:00) Stanley', |
  |  | 2338 | 'America/Noronha' => '(GMT-02:00) Noronha', |
  |  | 2339 | 'Atlantic/South\_Georgia' => '(GMT-02:00) South Georgia', |
  |  | 2340 | 'America/Scoresbysund' => '(GMT-01:00) Scoresbysund', |
  |  | 2341 | 'Atlantic/Azores' => '(GMT-01:00) Azores', |
  |  | 2342 | 'Atlantic/Cape\_Verde' => '(GMT-01:00) Cape Verde', |
  |  | 2343 | 'Africa/Abidjan' => '(GMT+00:00) Abidjan', |
  |  | 2344 | 'Africa/Accra' => '(GMT+00:00) Accra', |
  |  | 2345 | 'Africa/Bissau' => '(GMT+00:00) Bissau', |
  |  | 2346 | 'Africa/Casablanca' => '(GMT+00:00) Casablanca', |
  |  | 2347 | 'Africa/El\_Aaiun' => '(GMT+00:00) El Aaiun', |
  |  | 2348 | 'Africa/Monrovia' => '(GMT+00:00) Monrovia', |
  |  | 2349 | 'America/Danmarkshavn' => '(GMT+00:00) Danmarkshavn', |
  |  | 2350 | 'Atlantic/Canary' => '(GMT+00:00) Canary Islands', |
  |  | 2351 | 'Atlantic/Faroe' => '(GMT+00:00) Faeroe', |
  |  | 2352 | 'Atlantic/Reykjavik' => '(GMT+00:00) Reykjavik', |
  |  | 2353 | 'Etc/GMT' => '(GMT+00:00) GMT (no daylight saving)', |
  |  | 2354 | 'Europe/Dublin' => '(GMT+00:00) Dublin', |
  |  | 2355 | 'Europe/Lisbon' => '(GMT+00:00) Lisbon', |
  |  | 2356 | 'Europe/London' => '(GMT+00:00) London', |
  |  | 2357 | 'Africa/Algiers' => '(GMT+01:00) Algiers', |
  |  | 2358 | 'Africa/Ceuta' => '(GMT+01:00) Ceuta', |
  |  | 2359 | 'Africa/Lagos' => '(GMT+01:00) Lagos', |
  |  | 2360 | 'Africa/Ndjamena' => '(GMT+01:00) Ndjamena', |
  |  | 2361 | 'Africa/Tunis' => '(GMT+01:00) Tunis', |
  |  | 2362 | 'Africa/Windhoek' => '(GMT+01:00) Windhoek', |
  |  | 2363 | 'Europe/Amsterdam' => '(GMT+01:00) Amsterdam', |
  |  | 2364 | 'Europe/Andorra' => '(GMT+01:00) Andorra', |
  |  | 2365 | 'Europe/Belgrade' => '(GMT+01:00) Central European Time - Belgrade', |
  |  | 2366 | 'Europe/Berlin' => '(GMT+01:00) Berlin', |
  |  | 2367 | 'Europe/Brussels' => '(GMT+01:00) Brussels', |
  |  | 2368 | 'Europe/Budapest' => '(GMT+01:00) Budapest', |
  |  | 2369 | 'Europe/Copenhagen' => '(GMT+01:00) Copenhagen', |
  |  | 2370 | 'Europe/Gibraltar' => '(GMT+01:00) Gibraltar', |
  |  | 2371 | 'Europe/Luxembourg' => '(GMT+01:00) Luxembourg', |
  |  | 2372 | 'Europe/Madrid' => '(GMT+01:00) Madrid', |
  |  | 2373 | 'Europe/Malta' => '(GMT+01:00) Malta', |
  |  | 2374 | 'Europe/Monaco' => '(GMT+01:00) Monaco', |
  |  | 2375 | 'Europe/Oslo' => '(GMT+01:00) Oslo', |
  |  | 2376 | 'Europe/Paris' => '(GMT+01:00) Paris', |
  |  | 2377 | 'Europe/Prague' => '(GMT+01:00) Central European Time - Prague', |
  |  | 2378 | 'Europe/Rome' => '(GMT+01:00) Rome', |
  |  | 2379 | 'Europe/Stockholm' => '(GMT+01:00) Stockholm', |
  |  | 2380 | 'Europe/Tirane' => '(GMT+01:00) Tirane', |
  |  | 2381 | 'Europe/Vienna' => '(GMT+01:00) Vienna', |
  |  | 2382 | 'Europe/Warsaw' => '(GMT+01:00) Warsaw', |
  |  | 2383 | 'Europe/Zurich' => '(GMT+01:00) Zurich', |
  |  | 2384 | 'Africa/Cairo' => '(GMT+02:00) Cairo', |
  |  | 2385 | 'Africa/Johannesburg' => '(GMT+02:00) Johannesburg', |
  |  | 2386 | 'Africa/Maputo' => '(GMT+02:00) Maputo', |
  |  | 2387 | 'Africa/Tripoli' => '(GMT+02:00) Tripoli', |
  |  | 2388 | 'Asia/Amman' => '(GMT+02:00) Amman', |
  |  | 2389 | 'Asia/Beirut' => '(GMT+02:00) Beirut', |
  |  | 2390 | 'Asia/Damascus' => '(GMT+02:00) Damascus', |
  |  | 2391 | 'Asia/Gaza' => '(GMT+02:00) Gaza', |
  |  | 2392 | 'Asia/Jerusalem' => '(GMT+02:00) Jerusalem', |
  |  | 2393 | 'Asia/Nicosia' => '(GMT+02:00) Nicosia', |
  |  | 2394 | 'Europe/Athens' => '(GMT+02:00) Athens', |
  |  | 2395 | 'Europe/Bucharest' => '(GMT+02:00) Bucharest', |
  |  | 2396 | 'Europe/Chisinau' => '(GMT+02:00) Chisinau', |
  |  | 2397 | 'Europe/Helsinki' => '(GMT+02:00) Helsinki', |
  |  | 2398 | 'Europe/Istanbul' => '(GMT+02:00) Istanbul', |
  |  | 2399 | 'Europe/Kaliningrad' => '(GMT+02:00) Moscow-01 - Kaliningrad', |
  |  | 2400 | 'Europe/Kiev' => '(GMT+02:00) Kiev', |
  |  | 2401 | 'Europe/Riga' => '(GMT+02:00) Riga', |
  |  | 2402 | 'Europe/Sofia' => '(GMT+02:00) Sofia', |
  |  | 2403 | 'Europe/Tallinn' => '(GMT+02:00) Tallinn', |
  |  | 2404 | 'Europe/Vilnius' => '(GMT+02:00) Vilnius', |
  |  | 2405 | 'Africa/Addis\_Ababa' => '(GMT+03:00) Addis Ababa', |
  |  | 2406 | 'Africa/Asmara' => '(GMT+03:00) Asmera', |
  |  | 2407 | 'Africa/Dar\_es\_Salaam' => '(GMT+03:00) Dar es Salaam', |
  |  | 2408 | 'Africa/Djibouti' => '(GMT+03:00) Djibouti', |
  |  | 2409 | 'Africa/Kampala' => '(GMT+03:00) Kampala', |
  |  | 2410 | 'Africa/Khartoum' => '(GMT+03:00) Khartoum', |
  |  | 2411 | 'Africa/Mogadishu' => '(GMT+03:00) Mogadishu', |
  |  | 2412 | 'Africa/Nairobi' => '(GMT+03:00) Nairobi', |
  |  | 2413 | 'Antarctica/Syowa' => '(GMT+03:00) Syowa', |
  |  | 2414 | 'Asia/Aden' => '(GMT+03:00) Aden', |
  |  | 2415 | 'Asia/Baghdad' => '(GMT+03:00) Baghdad', |
  |  | 2416 | 'Asia/Bahrain' => '(GMT+03:00) Bahrain', |
  |  | 2417 | 'Asia/Kuwait' => '(GMT+03:00) Kuwait', |
  |  | 2418 | 'Asia/Qatar' => '(GMT+03:00) Qatar', |
  |  | 2419 | 'Asia/Riyadh' => '(GMT+03:00) Riyadh', |
  |  | 2420 | 'Europe/Minsk' => '(GMT+03:00) Minsk', |
  |  | 2421 | 'Europe/Moscow' => '(GMT+03:00) Moscow+00', |
  |  | 2422 | 'Indian/Antananarivo' => '(GMT+03:00) Antananarivo', |
  |  | 2423 | 'Indian/Comoro' => '(GMT+03:00) Comoro', |
  |  | 2424 | 'Indian/Mayotte' => '(GMT+03:00) Mayotte', |
  |  | 2425 | 'Asia/Tehran' => '(GMT+03:30) Tehran', |
  |  | 2426 | 'Asia/Baku' => '(GMT+04:00) Baku', |
  |  | 2427 | 'Asia/Dubai' => '(GMT+04:00) Dubai', |
  |  | 2428 | 'Asia/Muscat' => '(GMT+04:00) Muscat', |
  |  | 2429 | 'Asia/Tbilisi' => '(GMT+04:00) Tbilisi', |
  |  | 2430 | 'Asia/Yerevan' => '(GMT+04:00) Yerevan', |
  |  | 2431 | 'Europe/Samara' => '(GMT+04:00) Moscow+00 - Samara', |
  |  | 2432 | 'Indian/Mahe' => '(GMT+04:00) Mahe', |
  |  | 2433 | 'Indian/Mauritius' => '(GMT+04:00) Mauritius', |
  |  | 2434 | 'Indian/Reunion' => '(GMT+04:00) Reunion', |
  |  | 2435 | 'Asia/Kabul' => '(GMT+04:30) Kabul', |
  |  | 2436 | 'Antarctica/Mawson' => '(GMT+05:00) Mawson', |
  |  | 2437 | 'Asia/Aqtau' => '(GMT+05:00) Aqtau', |
  |  | 2438 | 'Asia/Aqtobe' => '(GMT+05:00) Aqtobe', |
  |  | 2439 | 'Asia/Ashgabat' => '(GMT+05:00) Ashgabat', |
  |  | 2440 | 'Asia/Dushanbe' => '(GMT+05:00) Dushanbe', |
  |  | 2441 | 'Asia/Karachi' => '(GMT+05:00) Karachi', |
  |  | 2442 | 'Asia/Tashkent' => '(GMT+05:00) Tashkent', |
  |  | 2443 | 'Asia/Yekaterinburg' => '(GMT+05:00) Moscow+02 - Yekaterinburg', |
  |  | 2444 | 'Indian/Kerguelen' => '(GMT+05:00) Kerguelen', |
  |  | 2445 | 'Indian/Maldives' => '(GMT+05:00) Maldives', |
  |  | 2446 | 'Asia/Calcutta' => '(GMT+05:30) India Standard Time', |
  |  | 2447 | 'Asia/Colombo' => '(GMT+05:30) Colombo', |
  |  | 2448 | 'Asia/Katmandu' => '(GMT+05:45) Katmandu', |
  |  | 2449 | 'Antarctica/Vostok' => '(GMT+06:00) Vostok', |
  |  | 2450 | 'Asia/Almaty' => '(GMT+06:00) Almaty', |
  |  | 2451 | 'Asia/Bishkek' => '(GMT+06:00) Bishkek', |
  |  | 2452 | 'Asia/Dhaka' => '(GMT+06:00) Dhaka', |
  |  | 2453 | 'Asia/Omsk' => '(GMT+06:00) Moscow+03 - Omsk, Novosibirsk', |
  |  | 2454 | 'Asia/Thimphu' => '(GMT+06:00) Thimphu', |
  |  | 2455 | 'Indian/Chagos' => '(GMT+06:00) Chagos', |
  |  | 2456 | 'Asia/Rangoon' => '(GMT+06:30) Rangoon', |
  |  | 2457 | 'Indian/Cocos' => '(GMT+06:30) Cocos', |
  |  | 2458 | 'Antarctica/Davis' => '(GMT+07:00) Davis', |
  |  | 2459 | 'Asia/Bangkok' => '(GMT+07:00) Bangkok', |
  |  | 2460 | 'Asia/Hovd' => '(GMT+07:00) Hovd', |
  |  | 2461 | 'Asia/Jakarta' => '(GMT+07:00) Jakarta', |
  |  | 2462 | 'Asia/Krasnoyarsk' => '(GMT+07:00) Moscow+04 - Krasnoyarsk', |
  |  | 2463 | 'Asia/Saigon' => '(GMT+07:00) Hanoi', |
  |  | 2464 | 'Indian/Christmas' => '(GMT+07:00) Christmas', |
  |  | 2465 | 'Antarctica/Casey' => '(GMT+08:00) Casey', |
  |  | 2466 | 'Asia/Brunei' => '(GMT+08:00) Brunei', |
  |  | 2467 | 'Asia/Choibalsan' => '(GMT+08:00) Choibalsan', |
  |  | 2468 | 'Asia/Hong\_Kong' => '(GMT+08:00) Hong Kong', |
  |  | 2469 | 'Asia/Irkutsk' => '(GMT+08:00) Moscow+05 - Irkutsk', |
  |  | 2470 | 'Asia/Kuala\_Lumpur' => '(GMT+08:00) Kuala Lumpur', |
  |  | 2471 | 'Asia/Macau' => '(GMT+08:00) Macau', |
  |  | 2472 | 'Asia/Makassar' => '(GMT+08:00) Makassar', |
  |  | 2473 | 'Asia/Manila' => '(GMT+08:00) Manila', |
  |  | 2474 | 'Asia/Shanghai' => '(GMT+08:00) China Time - Beijing', |
  |  | 2475 | 'Asia/Singapore' => '(GMT+08:00) Singapore', |
  |  | 2476 | 'Asia/Taipei' => '(GMT+08:00) Taipei', |
  |  | 2477 | 'Asia/Ulaanbaatar' => '(GMT+08:00) Ulaanbaatar', |
  |  | 2478 | 'Australia/Perth' => '(GMT+08:00) Western Time - Perth', |
  |  | 2479 | 'Asia/Dili' => '(GMT+09:00) Dili', |
  |  | 2480 | 'Asia/Jayapura' => '(GMT+09:00) Jayapura', |
  |  | 2481 | 'Asia/Pyongyang' => '(GMT+09:00) Pyongyang', |
  |  | 2482 | 'Asia/Seoul' => '(GMT+09:00) Seoul', |
  |  | 2483 | 'Asia/Tokyo' => '(GMT+09:00) Tokyo', |
  |  | 2484 | 'Asia/Yakutsk' => '(GMT+09:00) Moscow+06 - Yakutsk', |
  |  | 2485 | 'Pacific/Palau' => '(GMT+09:00) Palau', |
  |  | 2486 | 'Australia/Adelaide' => '(GMT+09:30) Central Time - Adelaide', |
  |  | 2487 | 'Australia/Darwin' => '(GMT+09:30) Central Time - Darwin', |
  |  | 2488 | 'Antarctica/DumontDUrville' => '(GMT+10:00) Dumont D\'Urville', |
  |  | 2489 | 'Asia/Magadan' => '(GMT+10:00) Moscow+08 - Magadan', |
  |  | 2490 | 'Asia/Vladivostok' => '(GMT+10:00) Moscow+07 - Yuzhno-Sakhalinsk', |
  |  | 2491 | 'Australia/Brisbane' => '(GMT+10:00) Eastern Time - Brisbane', |
  |  | 2492 | 'Australia/Hobart' => '(GMT+10:00) Eastern Time - Hobart', |
  |  | 2493 | 'Australia/Sydney' => '(GMT+10:00) Eastern Time - Melbourne, Sydney', |
  |  | 2494 | 'Pacific/Chuuk' => '(GMT+10:00) Truk', |
  |  | 2495 | 'Pacific/Guam' => '(GMT+10:00) Guam', |
  |  | 2496 | 'Pacific/Port\_Moresby' => '(GMT+10:00) Port Moresby', |
  |  | 2497 | 'Pacific/Saipan' => '(GMT+10:00) Saipan', |
  |  | 2498 | 'Pacific/Efate' => '(GMT+11:00) Efate', |
  |  | 2499 | 'Pacific/Guadalcanal' => '(GMT+11:00) Guadalcanal', |
  |  | 2500 | 'Pacific/Kosrae' => '(GMT+11:00) Kosrae', |
  |  | 2501 | 'Pacific/Noumea' => '(GMT+11:00) Noumea', |
  |  | 2502 | 'Pacific/Pohnpei' => '(GMT+11:00) Ponape', |
  |  | 2503 | 'Pacific/Norfolk' => '(GMT+11:30) Norfolk', |
  |  | 2504 | 'Asia/Kamchatka' => '(GMT+12:00) Moscow+08 - Petropavlovsk-Kamchatskiy', |
  |  | 2505 | 'Pacific/Auckland' => '(GMT+12:00) Auckland', |
  |  | 2506 | 'Pacific/Fiji' => '(GMT+12:00) Fiji', |
  |  | 2507 | 'Pacific/Funafuti' => '(GMT+12:00) Funafuti', |
  |  | 2508 | 'Pacific/Kwajalein' => '(GMT+12:00) Kwajalein', |
  |  | 2509 | 'Pacific/Majuro' => '(GMT+12:00) Majuro', |
  |  | 2510 | 'Pacific/Nauru' => '(GMT+12:00) Nauru', |
  |  | 2511 | 'Pacific/Tarawa' => '(GMT+12:00) Tarawa', |
  |  | 2512 | 'Pacific/Wake' => '(GMT+12:00) Wake', |
  |  | 2513 | 'Pacific/Wallis' => '(GMT+12:00) Wallis', |
  |  | 2514 | 'Pacific/Apia' => '(GMT+13:00) Apia', |
  |  | 2515 | 'Pacific/Enderbury' => '(GMT+13:00) Enderbury', |
  |  | 2516 | 'Pacific/Fakaofo' => '(GMT+13:00) Fakaofo', |
  |  | 2517 | 'Pacific/Tongatapu' => '(GMT+13:00) Tongatapu', |
  |  | 2518 | 'Pacific/Kiritimati' => '(GMT+14:00) Kiritimati' |
  |  | 2519 | ); |
  |  | 2520 | } |
  |  | 2521 |  |
  |  | 2522 | public static function getJsLocalizedData() |
  |  | 2523 | { |
  |  | 2524 | $translatedData = array( |
  |  | 2525 | 'imageSupportAlertMessage' => \_\_('Only image files supported', 'popup-builder'), |
  |  | 2526 | 'pdfSupportAlertMessage' => \_\_('Only pdf files supported', 'popup-builder'), |
  |  | 2527 | 'areYouSure' => \_\_('Are you sure?', 'popup-builder'), |
  |  | 2528 | 'addButtonSpinner' => \_\_('L', 'popup-builder'), |
  |  | 2529 | 'audioSupportAlertMessage' => \_\_('Only audio files supported (e.g.: mp3, wav, m4a, ogg)', 'popup-builder'), |
  |  | 2530 | 'publishPopupBeforeElementor' => \_\_('Please, publish the popup before starting to use Elementor with it!', 'popup-builder'), |
  |  | 2531 | 'publishPopupBeforeDivi' => \_\_('Please, publish the popup before starting to use Divi Builder with it!', 'popup-builder'), |
  |  | 2532 | 'closeButtonAltText' =>  \_\_('Close', 'popup-builder') |
  |  | 2533 | ); |
  |  | 2534 |  |
  |  | 2535 | return $translatedData; |
  |  | 2536 | } |
  |  | 2537 |  |
  |  | 2538 | public static function getCurrentDateTime() |
  |  | 2539 | { |
  |  | 2540 | return gmdate('Y-m-d H:i', strtotime(' +1 day')); |
  |  | 2541 | } |
  |  | 2542 |  |
  |  | 2543 | public static function getDefaultTimezone() |
  |  | 2544 | { |
  |  | 2545 | $timezone = get\_option('timezone\_string'); |
  |  | 2546 | if (!$timezone) { |
  |  | 2547 | $timezone = 'America/New\_York'; |
  |  | 2548 | } |
  |  | 2549 |  |
  |  | 2550 | return $timezone; |
  |  | 2551 | } |
  |  | 2552 | } |
  |  | 2553 |  |
* ## [popup-builder/trunk/com/helpers/Functions.php](/changeset/3085485/popup-builder/trunk/com/helpers/Functions.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/helpers/Functions.php")

  | [r2734570](/browser/popup-builder/trunk/com/helpers/Functions.php?rev=2734570#L186 "Show revision 2734570 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/helpers/Functions.php?rev=3085485#L186 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 186 | 186 | { |
  | 187 | 187 | global $wpdb; |
  | 188 |  | $dbName = $wpdb->dbname; |
  |  | 188 | $dbName = $wpdb->dbname; |
  | 189 | 189 | $engine = 'InnoDB'; |
  | 190 |  | $engineCheckSql = "SELECT ENGINE FROM information\_schema.TABLES WHERE TABLE\_SCHEMA = ~~'$dbName'~~"; |
  | 191 |  | $result = $wpdb->get\_results(~~$engineCheckSql~~, ARRAY\_A); |
  |  | 190 | $engineCheckSql = "SELECT ENGINE FROM information\_schema.TABLES WHERE TABLE\_SCHEMA = %s"; |
  |  | 191 | $result = $wpdb->get\_results( $wpdb->prepare( $engineCheckSql , $dbName), ARRAY\_A); |
  | 192 | 192 | if (!empty($result)) { |
  | 193 |  | $engineCheckSql = "SHOW TABLE STATUS WHERE Name = '".$wpdb->prefix."users' AND Engine = ~~'MyISAM'~~"; |
  | 194 |  | $result = $wpdb->get\_results(~~$engineCheckSql~~, ARRAY\_A); |
  |  | 193 | $engineCheckSql = "SHOW TABLE STATUS WHERE Name = '".$wpdb->prefix."users' AND Engine = %s"; |
  |  | 194 | $result = $wpdb->get\_results( $wpdb->prepare( $engineCheckSql, 'MyISAM' ), ARRAY\_A); |
  | 195 | 195 | if (isset($result[0]['Engine']) && $result[0]['Engine'] == 'MyISAM') { |
  | 196 | 196 | $engine = 'MyISAM'; |
* ## [popup-builder/trunk/com/helpers/PopupBuilderActivePackage.php](/changeset/3085485/popup-builder/trunk/com/helpers/PopupBuilderActivePackage.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/helpers/PopupBuilderActivePackage.php")

  | [r2466445](/browser/popup-builder/trunk/com/helpers/PopupBuilderActivePackage.php?rev=2466445#L58 "Show revision 2466445 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/helpers/PopupBuilderActivePackage.php?rev=3085485#L58 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 58 | 58 | } |
  | 59 | 59 |  |
  | 60 |  | if ($currentOptionSupportedMinVersion <= SG\_POPUP\_VERSION) { |
  |  | 60 | if ($currentOptionSupportedMinVersion <= SGPB\_POPUP\_VERSION) { |
  | 61 | 61 | if ($currentOptionSupportedMinPackage <= SGPB\_POPUP\_PKG) { |
  | 62 | 62 | return true; |
* ## [popup-builder/trunk/com/helpers/ScriptsIncluder.php](/changeset/3085485/popup-builder/trunk/com/helpers/ScriptsIncluder.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/helpers/ScriptsIncluder.php")

  | [r2580930](/browser/popup-builder/trunk/com/helpers/ScriptsIncluder.php?rev=2580930#L2 "Show revision 2580930 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/helpers/ScriptsIncluder.php?rev=3085485#L2 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | namespace sgpb; |
  | 3 | 3 |  |
  |  | 4 | /\* Exit if accessed directly \*/ |
  |  | 5 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 6 | exit; |
  |  | 7 | } |
  | 4 | 8 | /\*\* |
  | 5 | 9 | \* Popup Builder Includer |
  | […](/browser/popup-builder/trunk/com/helpers/ScriptsIncluder.php?rev=2580930#L30) | […](/browser/popup-builder/trunk/com/helpers/ScriptsIncluder.php?rev=3085485#L34) |  |
  | 30 | 34 |  |
  | 31 | 35 | $dep = array(); |
  | 32 |  | $ver = SG\_POPUP\_VERSION; |
  |  | 36 | $ver = SGPB\_POPUP\_VERSION; |
  | 33 | 37 | $media = 'all'; |
  | 34 | 38 | $dirUrl = SG\_POPUP\_CSS\_URL; |
  | […](/browser/popup-builder/trunk/com/helpers/ScriptsIncluder.php?rev=2580930#L88) | […](/browser/popup-builder/trunk/com/helpers/ScriptsIncluder.php?rev=3085485#L92) |  |
  | 88 | 92 |  |
  | 89 | 93 | $dep = array(); |
  | 90 |  | $ver = SG\_POPUP\_VERSION; |
  |  | 94 | $ver = SGPB\_POPUP\_VERSION; |
  | 91 | 95 | $inFooter = false; |
  | 92 | 96 | $dirUrl = SG\_POPUP\_JS\_URL; |
* ## [popup-builder/trunk/com/libs/Importer.php](/changeset/3085485/popup-builder/trunk/com/libs/Importer.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/libs/Importer.php")

  | [r2976515](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L110 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L110 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 110 | 110 | { |
  | 111 | 111 | if (!is\_file($file)) { |
  | 112 |  | echo '<p><strong>' . ~~\_\_('Sorry, there has been an error.', SG\_POPUP\_TEXT\_DOMAIN)~~ . '</strong><br />'; |
  | 113 |  | echo ~~\_\_('The file does not exist, please try again.', SG\_POPUP\_TEXT\_DOMAIN)~~ . '</p>'; |
  |  | 112 | echo '<p><strong>' . esc\_html( \_\_('Sorry, there has been an error.', 'popup-builder') ). '</strong><br />'; |
  |  | 113 | echo esc\_html( \_\_('The file does not exist, please try again.', 'popup-builder') ). '</p>'; |
  | 114 | 114 | $this->footer(); |
  | 115 | 115 | die(); |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L119) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L119) |  |
  | 119 | 119 |  |
  | 120 | 120 | if (is\_wp\_error($import\_data)) { |
  | 121 |  | echo '<p><strong>' . ~~\_\_('Sorry, there has been an error.', SG\_POPUP\_TEXT\_DOMAIN)~~ . '</strong><br />'; |
  |  | 121 | echo '<p><strong>' . esc\_html( \_\_('Sorry, there has been an error.', 'popup-builder') ). '</strong><br />'; |
  | 122 | 122 | echo esc\_html($import\_data->get\_error\_message()) . '</p>'; |
  | 123 | 123 | $this->footer(); |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L155) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L155) |  |
  | 155 | 155 | wp\_defer\_comment\_counting(false); |
  | 156 | 156 |  |
  | 157 |  | echo '<p>'.~~\_\_('All done.', SG\_POPUP\_TEXT\_DOMAIN).' <a href="'.admin\_url().'edit.php?post\_type='.SG\_POPUP\_POST\_TYPE.'">'.\_\_('Have fun!', SG\_POPUP\_TEXT\_DOMAIN~~).'</a>'.'</p>'; |
  |  | 157 | echo '<p>'.esc\_html\_\_('All done.', 'popup-builder').' <a href="'.esc\_url( admin\_url() ).'edit.php?post\_type='.esc\_html( SG\_POPUP\_POST\_TYPE ).'">'.esc\_html\_\_('Have fun!', 'popup-builder').'</a>'.'</p>'; |
  | 158 | 158 |  |
  | 159 | 159 | do\_action('import\_end'); |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L171) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L171) |  |
  | 171 | 171 |  |
  | 172 | 172 | if (isset($file['error'])) { |
  | 173 |  | echo '<p><strong>' . ~~\_\_('Sorry, there has been an error.', SG\_POPUP\_TEXT\_DOMAIN~~).'</strong><br />'; |
  |  | 173 | echo '<p><strong>' . esc\_html( \_\_('Sorry, there has been an error.', 'popup-builder') ).'</strong><br />'; |
  | 174 | 174 | echo esc\_html($file['error']).'</p>'; |
  | 175 | 175 | return false; |
  | 176 | 176 | } |
  | 177 | 177 | else if (!file\_exists($file['file'])) { |
  | 178 |  | echo '<p><strong>' . \_\_('Sorry, there has been an error.', SG\_POPUP\_TEXT\_DOMAIN).'</strong><br />'; |
  | 179 |  | printf(\_\_('The export file could not be found at <code>%s</code>. It is likely that this was caused by a permissions problem.', SG\_POPUP\_TEXT\_DOMAIN), esc\_html($file['file'])); |
  |  | 178 | echo '<p><strong>' . esc\_html( \_\_('Sorry, there has been an error.', 'popup-builder') ).'</strong><br />'; |
  |  | 179 | /\* translators: export file path \*/ |
  |  | 180 | printf(wp\_kses\_post(\_\_('The export file could not be found at <code>%s</code>. It is likely that this was caused by a permissions problem.', 'popup-builder')), esc\_html($file['file'])); |
  | 180 | 181 | echo '</p>'; |
  | 181 | 182 | return false; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L185) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L186) |  |
  | 185 | 186 | $import\_data = $this->parse($file['file']); |
  | 186 | 187 | if (is\_wp\_error($import\_data)) { |
  | 187 |  | echo '<p><strong>' . ~~\_\_('Sorry, there has been an error.', SG\_POPUP\_TEXT\_DOMAIN~~).'</strong><br />'; |
  |  | 188 | echo '<p><strong>' . esc\_html( \_\_('Sorry, there has been an error.', 'popup-builder') ).'</strong><br />'; |
  | 188 | 189 | echo esc\_html($import\_data->get\_error\_message()).'</p>'; |
  | 189 | 190 | return false; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L193) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L194) |  |
  | 193 | 194 | if ($this->version > $this->max\_wxr\_version) { |
  | 194 | 195 | echo '<div class="error"><p><strong>'; |
  | 195 |  | printf(\_\_('This WXR file (version %s) may not be supported by this version of the importer. Please consider updating.', SG\_POPUP\_TEXT\_DOMAIN), esc\_html($import\_data['version'])); |
  |  | 196 | /\* translators: import data version \*/ |
  |  | 197 | printf(wp\_kses\_post( \_\_('This WXR file (version %s) may not be supported by this version of the importer. Please consider updating.', 'popup-builder') ), esc\_html($import\_data['version'])); |
  | 196 | 198 | echo '</strong></p></div>'; |
  | 197 | 199 | } |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L220) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L222) |  |
  | 220 | 222 | $login = sanitize\_user($post['post\_author'], true); |
  | 221 | 223 | if (empty($login)) { |
  | 222 |  | printf(\_\_('Failed to import author %s. Their posts will be attributed to the current user.', SG\_POPUP\_TEXT\_DOMAIN), esc\_html($post['post\_author'])); |
  |  | 224 | /\* translators: post author \*/ |
  |  | 225 | printf(wp\_kses\_post( \_\_('Failed to import author %s. Their posts will be attributed to the current user.', 'popup-builder') ), esc\_html($post['post\_author'])); |
  | 223 | 226 | echo '<br />'; |
  | 224 | 227 | continue; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L243) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L246) |  |
  | 243 | 246 | $j = 0; |
  | 244 | 247 | ?> |
  | 245 |  | <form action="<?php echo ~~admin\_url('admin.php?import='.SG\_POPUP\_POST\_TYPE.'&amp;step=2'~~); ?>" method="post"> |
  |  | 248 | <form action="<?php echo esc\_url( admin\_url('admin.php?import='.SG\_POPUP\_POST\_TYPE.'&amp;step=2') ); ?>" method="post"> |
  | 246 | 249 | <?php wp\_nonce\_field('import-wordpress'); ?> |
  | 247 | 250 | <input type="hidden" name="import\_id" value="<?php echo esc\_html($this->id); ?>" /> |
  | 248 | 251 |  |
  | 249 | 252 | <?php if (!empty($this->authors)) : ?> |
  | 250 |  | <h3><?php ~~\_e('Assign Authors', SG\_POPUP\_TEXT\_DOMAIN~~); ?></h3> |
  | 251 |  | <p><?php ~~\_e('To make it easier for you to edit and save the imported content, you may want to reassign the author of the imported item to an existing user of this site. For example, you may want to import all the entries as <code>admin</code>s entries.', SG\_POPUP\_TEXT\_DOMAIN~~); ?></p> |
  |  | 253 | <h3><?php esc\_html\_e('Assign Authors', 'popup-builder'); ?></h3> |
  |  | 254 | <p><?php esc\_html\_e('To make it easier for you to edit and save the imported content, you may want to reassign the author of the imported item to an existing user of this site. For example, you may want to import all the entries as <code>admin</code>s entries.', 'popup-builder'); ?></p> |
  | 252 | 255 | <?php if ($this->allow\_create\_users()) : ?> |
  | 253 |  | <p><?php printf(\_\_('If a new user is created by WordPress, a new password will be randomly generated and the new user&#8217;s role will be set as %s. Manually changing the new user&#8217;s details will be necessary.', SG\_POPUP\_TEXT\_DOMAIN), esc\_html(get\_option('default\_role'))); ?></p> |
  |  | 256 | <p><?php |
  |  | 257 | /\* translators: default role \*/ |
  |  | 258 | printf(wp\_kses\_post(\_\_('If a new user is created by WordPress, a new password will be randomly generated and the new user&#8217;s role will be set as %s. Manually changing the new user&#8217;s details will be necessary.', 'popup-builder') ), esc\_html(get\_option('default\_role'))); ?></p> |
  | 254 | 259 | <?php endif; ?> |
  | 255 | 260 | <ol id="authors"> |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L260) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L265) |  |
  | 260 | 265 | <?php endif; ?> |
  | 261 | 266 |  |
  | 262 |  | <p class="submit"><input type="submit" class="button" value="<?php esc\_attr\_e('Submit', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" /></p> |
  |  | 267 | <p class="submit"><input type="submit" class="button" value="<?php esc\_attr\_e('Submit', 'popup-builder'); ?>" /></p> |
  | 263 | 268 | </form> |
  | 264 | 269 | <?php |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L274) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L279) |  |
  | 274 | 279 | public function author\_select($n, $author) |
  | 275 | 280 | { |
  | 276 |  | ~~\_e('Import author:', SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 281 | esc\_html\_e('Import author:', 'popup-builder'); |
  | 277 | 282 | echo ' <strong>' . esc\_html($author['author\_display\_name']); |
  | 278 | 283 | if ($this->version != '1.0') echo ' (' . esc\_html($author['author\_login']) . ')'; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L285) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L290) |  |
  | 285 | 290 | if ($create\_users) { |
  | 286 | 291 | if ($this->version != '1.0') { |
  | 287 |  | ~~\_e('or create new user with login name:', SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 292 | esc\_html\_e('or create new user with login name:', 'popup-builder'); |
  | 288 | 293 | $value = ''; |
  | 289 | 294 | } else { |
  | 290 |  | ~~\_e('as a new user:', SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 295 | esc\_html\_e('as a new user:', 'popup-builder'); |
  | 291 | 296 | $value = esc\_attr(sanitize\_user($author['author\_login'], true)); |
  | 292 | 297 | } |
  | 293 | 298 |  |
  | 294 |  | echo ' <input type="text" name="user\_new['.esc\_attr($n).']" value="'. ~~$value~~ .'" /><br />'; |
  |  | 299 | echo ' <input type="text" name="user\_new['.esc\_attr($n).']" value="'. esc\_attr( $value ) .'" /><br />'; |
  | 295 | 300 | } |
  | 296 | 301 |  |
  | 297 | 302 | if (!$create\_users && $this->version == '1.0') |
  | 298 |  | ~~\_e('assign posts to an existing user:', SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 303 | esc\_html\_e('assign posts to an existing user:', 'popup-builder'); |
  | 299 | 304 | else |
  | 300 |  | ~~\_e('or assign posts to an existing user:', SG\_POPUP\_TEXT\_DOMAIN~~); |
  | 301 |  | wp\_dropdown\_users(array('name' => "user\_map[$n]", 'multi' => true, 'show\_option\_all' => \_\_('- Select -', ~~SG\_POPUP\_TEXT\_DOMAIN~~))); |
  |  | 305 | esc\_html\_e('or assign posts to an existing user:', 'popup-builder'); |
  |  | 306 | wp\_dropdown\_users(array('name' => "user\_map[$n]", 'multi' => true, 'show\_option\_all' => \_\_('- Select -', 'popup-builder'))); |
  | 302 | 307 | echo '<input type="hidden" name="imported\_authors['.esc\_attr($n).']" value="' . esc\_attr($author['author\_login']) . '" />'; |
  | 303 | 308 |  |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L313) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L318) |  |
  | 313 | 318 | public function get\_author\_mapping() |
  | 314 | 319 | { |
  |  | 320 | /\*\* |
  |  | 321 | \* We only allow administrator to do this action |
  |  | 322 | \*/ |
  |  | 323 | if ( ! current\_user\_can( 'manage\_options' ) ) { |
  |  | 324 | return; |
  |  | 325 | } |
  |  | 326 |  |
  |  | 327 | /\* Validate nonce \*/ |
  |  | 328 | $nonce = isset( $\_POST['\_wpnonce'] ) ? sanitize\_text\_field( $\_POST['\_wpnonce'] ) : ''; |
  |  | 329 |  |
  |  | 330 | if ( empty( $nonce ) || !wp\_verify\_nonce( $nonce, 'import-wordpress' ) ) { |
  |  | 331 | return; |
  |  | 332 | } |
  |  | 333 |  |
  | 315 | 334 | if (!isset($\_POST['imported\_authors'])) { |
  | 316 | 335 | return; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L333) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L352) |  |
  | 333 | 352 | } else if ($create\_users) { |
  | 334 | 353 | if (!empty($\_POST['user\_new'][$i])) { |
  | 335 |  | $user\_id = wp\_create\_user(~~$\_POST['user\_new'][$i]~~, wp\_generate\_password()); |
  |  | 354 | $user\_id = wp\_create\_user( sanitize\_user( $\_POST['user\_new'][$i] ), wp\_generate\_password()); |
  | 336 | 355 | } else if ($this->version != '1.0') { |
  | 337 | 356 | $user\_data = array( |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L351) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L370) |  |
  | 351 | 370 | $this->author\_mapping[$santized\_old\_login] = $user\_id; |
  | 352 | 371 | } else { |
  | 353 |  | printf(\_\_('Failed to create new user for %s. Their posts will be attributed to the current user.', SG\_POPUP\_TEXT\_DOMAIN), esc\_html($this->authors[$old\_login]['author\_display\_name'])); |
  |  | 372 | /\* translators: author display name \*/ |
  |  | 373 | printf(wp\_kses\_post(\_\_('Failed to create new user for %s. Their posts will be attributed to the current user.', 'popup-builder')), esc\_html($this->authors[$old\_login]['author\_display\_name'])); |
  | 354 | 374 | if (defined('IMPORT\_DEBUG') && IMPORT\_DEBUG) |
  | 355 |  | echo ' ' . ~~$user\_id->get\_error\_message(~~); |
  |  | 375 | echo ' ' . esc\_html( $user\_id->get\_error\_message() ); |
  | 356 | 376 | echo '<br />'; |
  | 357 | 377 | } |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L404) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L424) |  |
  | 404 | 424 | $this->processed\_terms[intval($cat['term\_id'])] = $id; |
  | 405 | 425 | } else { |
  | 406 |  | printf(\_\_('Failed to import category %s', SG\_POPUP\_TEXT\_DOMAIN), esc\_html($cat['category\_nicename'])); |
  |  | 426 | /\* translators: category nicename \*/ |
  |  | 427 | printf(wp\_kses\_post(\_\_('Failed to import category %s', 'popup-builder')), esc\_html($cat['category\_nicename'])); |
  | 407 | 428 | if (defined('IMPORT\_DEBUG') && IMPORT\_DEBUG) |
  | 408 |  | echo ': ' . ~~$id->get\_error\_message(~~); |
  |  | 429 | echo ': ' . esc\_html( $id->get\_error\_message() ); |
  | 409 | 430 | echo '<br />'; |
  | 410 | 431 | continue; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L448) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L469) |  |
  | 448 | 469 | $this->processed\_terms[intval($tag['term\_id'])] = $id['term\_id']; |
  | 449 | 470 | } else { |
  | 450 |  | printf(\_\_('Failed to import post tag %s', SG\_POPUP\_TEXT\_DOMAIN), esc\_html($tag['tag\_name'])); |
  |  | 471 | /\* translators: tag name \*/ |
  |  | 472 | printf(wp\_kses\_post(\_\_('Failed to import post tag %s', 'popup-builder')), esc\_html($tag['tag\_name'])); |
  | 451 | 473 | if (defined('IMPORT\_DEBUG') && IMPORT\_DEBUG) |
  | 452 |  | echo ': ' . ~~$id->get\_error\_message(~~); |
  |  | 474 | echo ': ' . esc\_html( $id->get\_error\_message() ); |
  | 453 | 475 | echo '<br />'; |
  | 454 | 476 | continue; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L498) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L520) |  |
  | 498 | 520 | $this->processed\_terms[intval($term['term\_id'])] = $id['term\_id']; |
  | 499 | 521 | } else { |
  | 500 |  | printf(\_\_('Failed to import %s %s', SG\_POPUP\_TEXT\_DOMAIN), esc\_html($term['term\_taxonomy']), esc\_html($term['term\_name'])); |
  |  | 522 | /\* translators: term taxonomy, term name \*/ |
  |  | 523 | printf(wp\_kses\_post(\_\_('Failed to import %1$s %2$s', 'popup-builder')), esc\_html($term['term\_taxonomy']), esc\_html($term['term\_name'])); |
  | 501 | 524 | if (defined('IMPORT\_DEBUG') && IMPORT\_DEBUG) |
  | 502 |  | echo ': ' . ~~$id->get\_error\_message(~~); |
  |  | 525 | echo ': ' . esc\_html( $id->get\_error\_message() ); |
  | 503 | 526 | echo '<br />'; |
  | 504 | 527 | continue; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L589) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L612) |  |
  | 589 | 612 |  |
  | 590 | 613 | if (!post\_type\_exists($post['post\_type'])) { |
  | 591 |  | printf(\_\_('Failed to import &#8220;%s&#8221;: Invalid post type %s', SG\_POPUP\_TEXT\_DOMAIN), |
  |  | 614 | /\* translators: post title, post type \*/ |
  |  | 615 | printf(wp\_kses\_post(\_\_('Failed to import &#8220;%1$s&#8221;: Invalid post type %2$s', 'popup-builder')), |
  | 592 | 616 | esc\_html($post['post\_title']), esc\_html($post['post\_type'])); |
  | 593 | 617 | echo '<br />'; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L628) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L652) |  |
  | 628 | 652 |  |
  | 629 | 653 | if ($post\_exists && get\_post\_type($post\_exists) == $post['post\_type']) { |
  | 630 |  | printf(\_\_('%s &#8220;%s&#8221; already exists.', SG\_POPUP\_TEXT\_DOMAIN), $post\_type\_object->labels->singular\_name, esc\_html($post['post\_title'])); |
  |  | 654 | /\* translators: singular name ,post title \*/ |
  |  | 655 | printf(wp\_kses\_post(\_\_('%1$s &#8220;%2$s&#8221; already exists.', 'popup-builder')), esc\_html( $post\_type\_object->labels->singular\_name ), esc\_html($post['post\_title'])); |
  | 631 | 656 | echo '<br />'; |
  | 632 | 657 | $comment\_post\_ID = $post\_id = $post\_exists; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L692) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L717) |  |
  | 692 | 717 |  |
  | 693 | 718 | if (is\_wp\_error($post\_id)) { |
  | 694 |  | printf(\_\_('Failed to import %s &#8220;%s&#8221;', SG\_POPUP\_TEXT\_DOMAIN), |
  | 695 |  | $post\_type\_object->labels->singular\_name, esc\_html($post['post\_title'])); |
  |  | 719 | /\* translators: singular name ,post title \*/ |
  |  | 720 | printf(wp\_kses\_post(\_\_('Failed to import %1$s &#8220;%2$s&#8221;', 'popup-builder')), |
  |  | 721 | esc\_html($post\_type\_object->labels->singular\_name), esc\_html($post['post\_title'])); |
  | 696 | 722 | if (defined('IMPORT\_DEBUG') && IMPORT\_DEBUG) |
  | 697 |  | echo ': ' . ~~$post\_id->get\_error\_message(~~); |
  |  | 723 | echo ': ' . esc\_html( $post\_id->get\_error\_message() ); |
  | 698 | 724 | echo '<br />'; |
  | 699 | 725 | continue; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L727) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L753) |  |
  | 727 | 753 | do\_action('wp\_import\_insert\_term', $t, $term, $post\_id, $post); |
  | 728 | 754 | } else { |
  | 729 |  | printf(\_\_('Failed to import %s %s', SG\_POPUP\_TEXT\_DOMAIN), esc\_html($taxonomy), esc\_html($term['name'])); |
  |  | 755 | /\* translators: taxonomy type , taxonomy name \*/ |
  |  | 756 | printf(wp\_kses\_post(\_\_('Failed to import %1$s %2$s', 'popup-builder')), esc\_html($taxonomy), esc\_html($term['name'])); |
  | 730 | 757 | if (defined('IMPORT\_DEBUG') && IMPORT\_DEBUG) |
  | 731 |  | echo ': ' . ~~$t->get\_error\_message(~~); |
  |  | 758 | echo ': ' . esc\_html( $t->get\_error\_message() ); |
  | 732 | 759 | echo '<br />'; |
  | 733 | 760 | do\_action('wp\_import\_insert\_term\_failed', $t, $term, $post\_id, $post); |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L860) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L887) |  |
  | 860 | 887 | // no nav\_menu term associated with this menu item |
  | 861 | 888 | if (!$menu\_slug) { |
  | 862 |  | ~~\_e('Menu item skipped due to missing menu slug', SG\_POPUP\_TEXT\_DOMAIN~~); |
  |  | 889 | esc\_html\_e('Menu item skipped due to missing menu slug', 'popup-builder'); |
  | 863 | 890 | echo '<br />'; |
  | 864 | 891 | return; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L867) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L894) |  |
  | 867 | 894 | $menu\_id = term\_exists($menu\_slug, 'nav\_menu'); |
  | 868 | 895 | if (!$menu\_id) { |
  | 869 |  | printf(\_\_('Menu item skipped due to invalid menu slug: %s', SG\_POPUP\_TEXT\_DOMAIN), esc\_html($menu\_slug)); |
  |  | 896 | /\* translators: menu slug \*/ |
  |  | 897 | printf(wp\_kses\_post(\_\_('Menu item skipped due to invalid menu slug: %s', 'popup-builder')), esc\_html($menu\_slug)); |
  | 870 | 898 | echo '<br />'; |
  | 871 | 899 | return; |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L936) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L964) |  |
  | 936 | 964 | { |
  | 937 | 965 | if (!$this->fetch\_attachments) { |
  | 938 |  | return new WP\_Error('attachment\_processing\_error', |
  | 939 |  | \_\_('Fetching attachments is not enabled', ~~SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 966 | return new \WP\_Error('attachment\_processing\_error', |
  |  | 967 | \_\_('Fetching attachments is not enabled', 'popup-builder')); |
  | 940 | 968 | } |
  | 941 | 969 |  |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L953) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L981) |  |
  | 953 | 981 | } |
  | 954 | 982 | else { |
  | 955 |  | return new ~~WP\_Error('attachment\_processing\_error', \_\_('Invalid file type', SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 983 | return new \WP\_Error('attachment\_processing\_error', \_\_('Invalid file type', 'popup-builder')); |
  | 956 | 984 | } |
  | 957 | 985 |  |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L991) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L1019) |  |
  | 991 | 1019 | $upload = wp\_upload\_bits($file\_name, null, '', $post['upload\_date']); |
  | 992 | 1020 | if ($upload['error']) { |
  | 993 |  | return new WP\_Error('upload\_dir\_error', $upload['error']); |
  |  | 1021 | return new \WP\_Error('upload\_dir\_error', $upload['error']); |
  | 994 | 1022 | } |
  | 995 | 1023 |  |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L1005) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L1033) |  |
  | 1005 | 1033 | // request failed |
  | 1006 | 1034 | if (!$headers) { |
  | 1007 |  | ~~@unlink~~($upload['file']); |
  | 1008 |  | return new ~~WP\_Error('import\_file\_error', \_\_('Remote server did not respond', SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 1035 | wp\_delete\_file($upload['file']); |
  |  | 1036 | return new \WP\_Error('import\_file\_error', \_\_('Remote server did not respond', 'popup-builder')); |
  | 1009 | 1037 | } |
  | 1010 | 1038 |  |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L1013) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L1041) |  |
  | 1013 | 1041 | // make sure the fetch was successful |
  | 1014 | 1042 | if ($remote\_response\_code != '200') { |
  | 1015 |  | @unlink($upload['file']); |
  | 1016 |  | return new WP\_Error('import\_file\_error', sprintf(\_\_('Remote server returned error response %1$d %2$s', SG\_POPUP\_TEXT\_DOMAIN), esc\_html($remote\_response\_code), get\_status\_header\_desc($remote\_response\_code))); |
  |  | 1043 | wp\_delete\_file($upload['file']); |
  |  | 1044 | /\* translators: remote response code, status header description \*/ |
  |  | 1045 | return new \WP\_Error('import\_file\_error', sprintf(\_\_('Remote server returned error response %1$d %2$s', 'popup-builder'), esc\_html($remote\_response\_code), get\_status\_header\_desc($remote\_response\_code))); |
  | 1017 | 1046 | } |
  | 1018 | 1047 |  |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L1020) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L1049) |  |
  | 1020 | 1049 |  |
  | 1021 | 1050 | if (isset($headers['content-length']) && $filesize != $headers['content-length']) { |
  | 1022 |  | ~~@unlink~~($upload['file']); |
  | 1023 |  | return new ~~WP\_Error('import\_file\_error', \_\_('Remote file is incorrect size', SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 1051 | wp\_delete\_file($upload['file']); |
  |  | 1052 | return new \WP\_Error('import\_file\_error', \_\_('Remote file is incorrect size', 'popup-builder')); |
  | 1024 | 1053 | } |
  | 1025 | 1054 |  |
  | 1026 | 1055 | if (0 == $filesize) { |
  | 1027 |  | ~~@unlink~~($upload['file']); |
  | 1028 |  | return new ~~WP\_Error('import\_file\_error', \_\_('Zero size file downloaded', SG\_POPUP\_TEXT\_DOMAIN~~)); |
  |  | 1056 | wp\_delete\_file($upload['file']); |
  |  | 1057 | return new \WP\_Error('import\_file\_error', \_\_('Zero size file downloaded', 'popup-builder')); |
  | 1029 | 1058 | } |
  | 1030 | 1059 |  |
  | 1031 | 1060 | $max\_size = (int) $this->max\_attachment\_size(); |
  | 1032 | 1061 | if (!empty($max\_size) && $filesize > $max\_size) { |
  | 1033 |  | @unlink($upload['file']); |
  | 1034 |  | return new WP\_Error('import\_file\_error', sprintf(\_\_('Remote file is too large, limit is %s', SG\_POPUP\_TEXT\_DOMAIN), size\_format($max\_size))); |
  |  | 1062 | wp\_delete\_file($upload['file']); |
  |  | 1063 | /\* translators: max size \*/ |
  |  | 1064 | return new \WP\_Error('import\_file\_error', sprintf(\_\_('Remote file is too large, limit is %s', 'popup-builder'), size\_format($max\_size))); |
  | 1035 | 1065 | } |
  | 1036 | 1066 |  |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L1142) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L1172) |  |
  | 1142 | 1172 | { |
  | 1143 | 1173 | echo '<div class="wrap">'; |
  | 1144 |  | echo '<h2>' . ~~\_\_('Import WordPress', SG\_POPUP\_TEXT\_DOMAIN)~~ . '</h2>'; |
  |  | 1174 | echo '<h2>' . esc\_html( \_\_('Import WordPress', 'popup-builder') ). '</h2>'; |
  | 1145 | 1175 |  |
  | 1146 | 1176 | $updates = get\_plugin\_updates(); |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L1149) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L1179) |  |
  | 1149 | 1179 | $update = $updates[$basename]; |
  | 1150 | 1180 | echo '<div class="error"><p><strong>'; |
  | 1151 |  | printf(\_\_('A new version of this importer is available. Please update to version %s to ensure compatibility with newer export files.', SG\_POPUP\_TEXT\_DOMAIN), $update->update->new\_version); |
  |  | 1181 | /\* translators: new version \*/ |
  |  | 1182 | printf(wp\_kses\_post(\_\_('A new version of this importer is available. Please update to version %s to ensure compatibility with newer export files.', 'popup-builder')), esc\_html( $update->update->new\_version) ); |
  | 1152 | 1183 | echo '</strong></p></div>'; |
  | 1153 | 1184 | } |
  | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=2976515#L1166) | […](/browser/popup-builder/trunk/com/libs/Importer.php?rev=3085485#L1197) |  |
  | 1166 | 1197 | { |
  | 1167 | 1198 | echo '<div class="narrow">'; |
  | 1168 |  | echo '<p>'.~~\_\_('Howdy!Upload your WordPress eXtended RSS (WXR) file and we&#8217;ll import the posts, pages, comments, custom fields, categories, and tags into this site.', SG\_POPUP\_TEXT\_DOMAIN~~).'</p>'; |
  | 1169 |  | echo '<p>'.~~\_\_('Choose a WXR (.xml) file to upload, then click Upload file and import.', SG\_POPUP\_TEXT\_DOMAIN~~).'</p>'; |
  |  | 1199 | echo '<p>'. esc\_html( \_\_('Howdy!Upload your WordPress eXtended RSS (WXR) file and we&#8217;ll import the posts, pages, comments, custom fields, categories, and tags into this site.', 'popup-builder') ).'</p>'; |
  |  | 1200 | echo '<p>'. esc\_html( \_\_('Choose a WXR (.xml) file to upload, then click Upload file and import.', 'popup-builder') ).'</p>'; |
  | 1170 | 1201 | wp\_import\_upload\_form('admin.php?import=wordpress&amp;step=1'); |
  | 1171 | 1202 | echo '</div>'; |
* ## [popup-builder/trunk/com/libs/ListTable.php](/changeset/3085485/popup-builder/trunk/com/libs/ListTable.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/libs/ListTable.php")

  | [r2976515](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=2976515#L602 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=3085485#L602 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 602 | 602 | $classes[] = 'current'; |
  | 603 | 603 | printf( |
  | 604 |  | ~~"<a href='%s' class='%s' id='view-switch-$mode'><span class='screen-reader-text'>%s</span></a>\n"~~, |
  |  | 604 | wp\_kses\_post( "<a href='%s' class='%s' id='view-switch-$mode'><span class='screen-reader-text'>%s</span></a>\n" ), |
  | 605 | 605 | esc\_url( add\_query\_arg( 'mode', $mode ) ), |
  | 606 | 606 | esc\_html(implode( ' ', $classes )), |
  | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=2976515#L627) | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=3085485#L627) |  |
  | 627 | 627 | $approved\_comments\_number = number\_format\_i18n( $approved\_comments ); |
  | 628 | 628 | $pending\_comments\_number = number\_format\_i18n( $pending\_comments ); |
  | 629 |  |  |
  |  | 629 | /\* translators: numner comments, numner approved comments \*/ |
  | 630 | 630 | $approved\_only\_phrase = sprintf( \_n( '%s comment', '%s comments', $approved\_comments ), $approved\_comments\_number ); |
  |  | 631 | /\* translators: numner comments, numner approved comments \*/ |
  | 631 | 632 | $approved\_phrase = sprintf( \_n( '%s approved comment', '%s approved comments', $approved\_comments ), $approved\_comments\_number ); |
  |  | 633 | /\* translators: numner comments, numner pending comments \*/ |
  | 632 | 634 | $pending\_phrase = sprintf( \_n( '%s pending comment', '%s pending comments', $pending\_comments ), $pending\_comments\_number ); |
  | 633 | 635 |  |
  | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=2976515#L639) | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=3085485#L641) |  |
  | 639 | 641 | // Approved comments have different display depending on some conditions. |
  | 640 | 642 | } elseif ( $approved\_comments ) { |
  | 641 |  | printf( ~~'<a href="%s" class="post-com-count post-com-count-approved"><span class="comment-count-approved" aria-hidden="true">%s</span><span class="screen-reader-text">%s</span></a>'~~, |
  |  | 643 | printf( wp\_kses\_post('<a href="%s" class="post-com-count post-com-count-approved"><span class="comment-count-approved" aria-hidden="true">%s</span><span class="screen-reader-text">%s</span></a>' ), |
  | 642 | 644 | esc\_url( add\_query\_arg( array( 'p' => $post\_id, 'comment\_status' => 'approved' ), admin\_url( 'edit-comments.php' ) ) ), |
  | 643 |  | ~~$approved\_comments\_number~~, |
  |  | 645 | esc\_html($approved\_comments\_number), |
  | 644 | 646 | $pending\_comments ? esc\_html($approved\_phrase) : esc\_html($approved\_only\_phrase) |
  | 645 | 647 | ); |
  | 646 | 648 | } else { |
  | 647 |  | printf( ~~'<span class="post-com-count post-com-count-no-comments"><span class="comment-count comment-count-no-comments" aria-hidden="true">%s</span><span class="screen-reader-text">%s</span></span>'~~, |
  | 648 |  | ~~$approved\_comments\_number~~, |
  |  | 649 | printf( wp\_kses\_post( '<span class="post-com-count post-com-count-no-comments"><span class="comment-count comment-count-no-comments" aria-hidden="true">%s</span><span class="screen-reader-text">%s</span></span>'), |
  |  | 650 | esc\_html($approved\_comments\_number), |
  | 649 | 651 | $pending\_comments ? esc\_html\_\_( 'No approved comments' ) : esc\_html\_\_( 'No comments' ) |
  | 650 | 652 | ); |
  | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=2976515#L727) | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=3085485#L729) |  |
  | 727 | 729 | $infinite\_scroll = $this->\_pagination\_args['infinite\_scroll']; |
  | 728 | 730 | } |
  | 729 |  |  |
  |  | 731 | /\* translators: total items \*/ |
  | 730 | 732 | $output = '<span class="displaying-num">' . sprintf( \_n( '%s item', '%s items', $total\_items ), number\_format\_i18n( $total\_items ) ) . '</span>'; |
  | 731 | 733 |  |
  | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=2976515#L733) | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=3085485#L735) |  |
  | 733 | 735 |  |
  | 734 | 736 | // phpcs:ignore WordPress.Security.ValidatedSanitizedInput.InputNotSanitized |
  | 735 |  | $current\_url = set\_url\_scheme( 'http://' . (isset($\_SERVER['HTTP\_HOST'])? $\_SERVER['HTTP\_HOST'] : '') . (isset($\_SERVER['REQUEST\_URI'])?$\_SERVER['REQUEST\_URI'] : '') ); |
  | 736 |  |  |
  |  | 737 | $sbpb\_server\_host = isset($\_SERVER['HTTP\_HOST']) ? sanitize\_text\_field( $\_SERVER['HTTP\_HOST'] ) : ''; |
  |  | 738 | $sbpb\_server\_requesturi = isset($\_SERVER['REQUEST\_URI']) ? sanitize\_text\_field( $\_SERVER['REQUEST\_URI'] ) : ''; |
  |  | 739 | $current\_url = set\_url\_scheme( 'http://' . $sbpb\_server\_host . $sbpb\_server\_requesturi ); |
  | 737 | 740 | $current\_url = remove\_query\_arg( array( 'hotkeys\_highlight\_last', 'hotkeys\_highlight\_first' ), $current\_url ); |
  | 738 | 741 |  |
  | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=2976515#L790) | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=3085485#L793) |  |
  | 790 | 793 | } |
  | 791 | 794 | $html\_total\_pages = sprintf( "<span class='total-pages'>%s</span>", number\_format\_i18n( $total\_pages ) ); |
  |  | 795 | /\* translators: current page,  total pages \*/ |
  | 792 | 796 | $page\_links[] = $total\_pages\_before . sprintf( \_x( '%1$s of %2$s', 'paging' ), $html\_current\_page, $html\_total\_pages ) . $total\_pages\_after; |
  | 793 | 797 |  |
  | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=2976515#L1003) | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=3085485#L1007) |  |
  | 1003 | 1007 |  |
  | 1004 | 1008 | // phpcs:ignore WordPress.Security.ValidatedSanitizedInput.InputNotSanitized |
  | 1005 |  | $current\_url = set\_url\_scheme( 'http://' . (isset($\_SERVER['HTTP\_HOST'])?$\_SERVER['HTTP\_HOST']:'') . (isset($\_SERVER['REQUEST\_URI']) ? $\_SERVER['REQUEST\_URI'] : '') ); |
  |  | 1009 | $sbpb\_server\_host = isset($\_SERVER['HTTP\_HOST']) ? sanitize\_text\_field( $\_SERVER['HTTP\_HOST'] ) : ''; |
  |  | 1010 | $sbpb\_server\_requesturi = isset($\_SERVER['REQUEST\_URI']) ? sanitize\_text\_field( $\_SERVER['REQUEST\_URI'] ) : ''; |
  |  | 1011 | $current\_url = set\_url\_scheme( 'http://' . $sbpb\_server\_host . $sbpb\_server\_requesturi ); |
  | 1006 | 1012 | $current\_url = remove\_query\_arg( 'paged', $current\_url ); |
  | 1007 | 1013 |  |
  | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=2976515#L1292) | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=3085485#L1298) |  |
  | 1292 | 1298 | $response = array( 'rows' => $rows ); |
  | 1293 | 1299 |  |
  | 1294 |  | if ( isset( $this->\_pagination\_args['total\_items'] ) ) { |
  |  | 1300 | if ( isset( $this->\_pagination\_args['total\_items'] ) ) { |
  | 1295 | 1301 | $response['total\_items\_i18n'] = sprintf( |
  |  | 1302 | /\* translators: total item, total items \*/ |
  | 1296 | 1303 | \_n( '%s item', '%s items', $this->\_pagination\_args['total\_items'] ), |
  | 1297 | 1304 | number\_format\_i18n( $this->\_pagination\_args['total\_items'] ) |
  | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=2976515#L1319) | […](/browser/popup-builder/trunk/com/libs/ListTable.php?rev=3085485#L1326) |  |
  | 1319 | 1326 | ) |
  | 1320 | 1327 | ); |
  | 1321 |  |  |
  | 1322 |  | printf( "<script type='text/javascript'>list\_args = %s;</script>\n", wp\_json\_encode( $args ) ); |
  |  | 1328 | wp\_register\_script( 'sgpb-listtable-js-footer', '', array("jquery"), '', true ); |
  |  | 1329 | wp\_enqueue\_script( 'sgpb-listtable-js-footer'  ); |
  |  | 1330 | wp\_add\_inline\_script( 'sgpb-listtable-js-footer', printf( "list\_args = %s;", wp\_json\_encode( $args ) )); |
  | 1323 | 1331 | } |
  | 1324 | 1332 | } |
* ## [popup-builder/trunk/com/libs/Reports.php](/changeset/3085485/popup-builder/trunk/com/libs/Reports.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/libs/Reports.php")

  | [r2688779](/browser/popup-builder/trunk/com/libs/Reports.php?rev=2688779#L41 "Show revision 2688779 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/libs/Reports.php?rev=3085485#L41 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 41 | 41 | 'dirUrl' => SG\_POPUP\_JS\_URL, |
  | 42 | 42 | 'dep' => array('jquery'), |
  | 43 |  | 'ver' => SG\_POPUP\_VERSION, |
  |  | 43 | 'ver' => SGPB\_POPUP\_VERSION, |
  | 44 | 44 | 'inFooter' => true |
  | 45 | 45 | ) |
  | […](/browser/popup-builder/trunk/com/libs/Reports.php?rev=2688779#L48) | […](/browser/popup-builder/trunk/com/libs/Reports.php?rev=3085485#L48) |  |
  | 48 | 48 | if (version\_compare($wp\_version, '4.5', '>')){ |
  | 49 | 49 | /\* after wp 4.5 version \*/ |
  | 50 |  | ScriptsIncluder::addInlineScripts('DebugReport.js', 'var SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS = ' .json\_encode($SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS).';'); |
  |  | 50 | ScriptsIncluder::addInlineScripts('DebugReport.js', 'var SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS = ' .wp\_json\_encode($SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS).';'); |
  | 51 | 51 | } else { |
  | 52 | 52 | /\* since wp 4.5 version \*/ |
  | […](/browser/popup-builder/trunk/com/libs/Reports.php?rev=2688779#L111) | […](/browser/popup-builder/trunk/com/libs/Reports.php?rev=3085485#L111) |  |
  | 111 | 111 | { |
  | 112 | 112 | global $SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS; |
  |  | 113 | // Do not processing the whole input |
  |  | 114 | $essentialsgpbCookies = [ |
  |  | 115 | 'SGPBSubmissionReloadPopup', |
  |  | 116 | 'SGPBShowingLimitationHomePage' . $popupId, |
  |  | 117 | 'SGPBShowingLimitationPage' . $popupId, |
  |  | 118 | 'SGPBShowingLimitationDomain' . $popupId, |
  |  | 119 | 'sgDontShowPopup' . $popupId, |
  |  | 120 | 'SGPBSubscription' . $popupId, |
  |  | 121 | $popupId |
  |  | 122 | ]; |
  | 113 | 123 |  |
  | 114 |  | foreach ($\_COOKIE as $cookieName => $cookieValue) { |
  | 115 |  | if (strpos($cookieName, (string)$popupId) != false) { |
  | 116 |  | if (isset($SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS[$popupId]['cookies'][0]['name']) && $SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS[$popupId]['cookies'][0]['name'] == $cookieName) { |
  | 117 |  | continue; |
  | 118 |  | } |
  | 119 |  | $SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS[$popupId]['cookies'][] = array('name' => $cookieName, 'value' => 'exists'); |
  |  | 124 | foreach ($essentialsgpbCookies as $essentialcookieName) { |
  |  | 125 | if (isset($\_COOKIE[$essentialcookieName])) { |
  |  | 126 | $cookieValue = sanitize\_text\_field( $\_COOKIE[$essentialcookieName] ); |
  |  | 127 | if( !empty( $cookieValue ) ) |
  |  | 128 | { |
  |  | 129 | if (strpos($essentialcookieName, (string)$popupId) !== false) { |
  |  | 130 | if (isset($SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS[$popupId]['cookies'][0]['name']) && |
  |  | 131 | $SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS[$popupId]['cookies'][0]['name'] == $essentialcookieName) { |
  |  | 132 | continue; |
  |  | 133 | } |
  |  | 134 | $SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS[$popupId]['cookies'][] = ['name' => $essentialcookieName, 'value' => 'exists']; |
  |  | 135 | } |
  |  | 136 | } |
  | 120 | 137 | } |
  | 121 | 138 | } |
* ## [popup-builder/trunk/com/libs/Table.php](/changeset/3085485/popup-builder/trunk/com/libs/Table.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/libs/Table.php")

  | [r2721110](/browser/popup-builder/trunk/com/libs/Table.php?rev=2721110#L93 "Show revision 2721110 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/libs/Table.php?rev=3085485#L93 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 93 | 93 | public function prepare\_items() |
  | 94 | 94 | { |
  | 95 |  | global $wpdb; |
  |  | 95 | global $wpdb; |
  |  | 96 |  |
  | 96 | 97 | $table = $this->tablename; |
  | 97 |  |  |
  | 98 |  | $query = 'SELECT '.implode(', ', $this->columns).' FROM '.$table; |
  | 99 |  | $this->customizeQuery($query); |
  | 100 |  |  |
  | 101 |  | $totalItems = count($wpdb->get\_results($query)); //return the total number of affected rows |
  | 102 |  |  |
  |  | 98 |  |
  |  | 99 | $columns\_name\_placeholders = implode( ', ', array\_fill( 0, count( $this->columns ), '%i' ) ); |
  |  | 100 |  |
  |  | 101 | $query = $wpdb->prepare( "SELECT $table.$columns\_name\_placeholders FROM `$table`", $this->columns ); |
  |  | 102 |  |
  |  | 103 | $this->customizeQuery($query); |
  |  | 104 |  |
  |  | 105 | $totalItems = count( $wpdb->get\_results( $query ) ); //return the total number of affected rows |
  |  | 106 |  |
  | 103 | 107 | if ($this->previewPopup) { |
  | 104 | 108 | $totalItems -= 1; |
  | […](/browser/popup-builder/trunk/com/libs/Table.php?rev=2721110#L142) | […](/browser/popup-builder/trunk/com/libs/Table.php?rev=3085485#L146) |  |
  | 142 | 146 | $sortable = $this->get\_sortable\_columns(); |
  | 143 | 147 | $this->\_column\_headers = array($columns, $hidden, $sortable); |
  | 144 |  | $items = $wpdb->get\_results($query, ARRAY\_N); |
  |  | 148 | $items = $wpdb->get\_results( $query, ARRAY\_N); |
  | 145 | 149 | /\*Remove popup data when its class does not exist.\*/ |
  | 146 | 150 | $this->customizeRowsData($items); |
  | […](/browser/popup-builder/trunk/com/libs/Table.php?rev=2721110#L215) | […](/browser/popup-builder/trunk/com/libs/Table.php?rev=3085485#L219) |  |
  | 215 | 219 | ?> |
  | 216 | 220 | <div class="alignleft actions daterangeactions"> |
  | 217 |  | <label class="screen-reader-text" for="sgpb-subscription-popup"><?php esc\_html\_e('Filter by popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></label> |
  |  | 221 | <label class="screen-reader-text" for="sgpb-subscription-popup"><?php esc\_html\_e('Filter by popup', 'popup-builder')?></label> |
  | 218 | 222 | <?php echo wp\_kses($this->getNavPopupsConditions(), AdminHelper::allowed\_html\_tags()); ?> |
  | 219 | 223 |  |
  | 220 |  | <label class="screen-reader-text" for="sgpb-subscribers-dates"><?php esc\_html\_e('Filter by date', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></label> |
  |  | 224 | <label class="screen-reader-text" for="sgpb-subscribers-dates"><?php esc\_html\_e('Filter by date', 'popup-builder')?></label> |
  | 221 | 225 | <?php  echo wp\_kses($this->getNavDateConditions(), AdminHelper::allowed\_html\_tags()); ?> |
  | 222 | 226 |  |
  | 223 |  | <input name="filter\_action" id="post-query-submit" class="button" value="<?php esc\_html\_e('Filter', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" type="submit"> |
  |  | 227 | <input name="filter\_action" id="post-query-submit" class="button" value="<?php esc\_html\_e('Filter', 'popup-builder')?>" type="submit"> |
  | 224 | 228 | </div> |
  | 225 | 229 | <?php |
  | […](/browser/popup-builder/trunk/com/libs/Table.php?rev=2721110#L297) | […](/browser/popup-builder/trunk/com/libs/Table.php?rev=3085485#L301) |  |
  | 297 | 301 | list( $columns, $hidden, $sortable, $primary ) = $this->get\_column\_info(); |
  | 298 | 302 | // phpcs:ignore WordPress.Security.ValidatedSanitizedInput.InputNotSanitized,WordPress.Security.ValidatedSanitizedInput.InputNotValidated |
  | 299 |  | $current\_url = set\_url\_scheme( 'http://' . $\_SERVER['HTTP\_HOST'] . $\_SERVER['REQUEST\_URI'] ); |
  |  | 303 | $sbpb\_server\_host = isset($\_SERVER['HTTP\_HOST']) ? sanitize\_text\_field( $\_SERVER['HTTP\_HOST'] ) : ''; |
  |  | 304 | $sbpb\_server\_requesturi = isset($\_SERVER['REQUEST\_URI']) ? sanitize\_text\_field( $\_SERVER['REQUEST\_URI'] ) : ''; |
  |  | 305 | $current\_url = set\_url\_scheme( 'http://' . $sbpb\_server\_host. $sbpb\_server\_requesturi ); |
  | 300 | 306 | $current\_url = remove\_query\_arg( 'paged', $current\_url ); |
  | 301 | 307 |  |
  | […](/browser/popup-builder/trunk/com/libs/Table.php?rev=2721110#L346) | […](/browser/popup-builder/trunk/com/libs/Table.php?rev=3085485#L352) |  |
  | 346 | 352 | } |
  | 347 | 353 |  |
  | 348 |  | $column\_display\_name = '<a href="' . esc\_url( add\_query\_arg( compact( 'orderby', 'order' ), $current\_url ) ) . '"><span>' . $column\_display\_name . '</span><span class="sorting-indicator"></span></a>'; |
  |  | 354 | $column\_display\_name = '<a href="' . esc\_url( add\_query\_arg( compact( 'orderby', 'order' ), $current\_url ) ) . '"><span>' . $column\_display\_name . '</span><span class="sorting-indicator352"></span></a>'; |
  | 349 | 355 | } |
  | 350 | 356 |  |
* ## [popup-builder/trunk/com/libs/WOOSL\_CodeAutoUpdate.php](/changeset/3085485/popup-builder/trunk/com/libs/WOOSL_CodeAutoUpdate.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/libs/WOOSL_CodeAutoUpdate.php")

  | [r2664345](/browser/popup-builder/trunk/com/libs/WOOSL_CodeAutoUpdate.php?rev=2664345#L68 "Show revision 2664345 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/libs/WOOSL_CodeAutoUpdate.php?rev=3085485#L68 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 68 | 68 | $data = array( |
  | 69 | 69 | 'timeout' => strtotime('+3 hours', current\_time('timestamp')), |
  | 70 |  | 'value'   => json\_encode($value) |
  |  | 70 | 'value'   => wp\_json\_encode($value) |
  | 71 | 71 | ); |
  | 72 | 72 |  |
  | […](/browser/popup-builder/trunk/com/libs/WOOSL_CodeAutoUpdate.php?rev=2664345#L170) | […](/browser/popup-builder/trunk/com/libs/WOOSL_CodeAutoUpdate.php?rev=3085485#L170) |  |
  | 170 | 170 | $request\_string = $this->prepare\_request($action, $args); |
  | 171 | 171 | if ($request\_string === FALSE) { |
  | 172 |  | return new ~~WP\_Error('plugins\_api\_failed', \_\_('An error occour when try to identify the pluguin.' , 'woo-global-cart') . '&lt;/p> &lt;p>&lt;a href=&quot;?&quot; onclick=&quot;document.location.reload(); return false;&quot;>'. \_\_( 'Try again', 'woo-global-cart~~' ) .'&lt;/a>');; |
  |  | 172 | return new \WP\_Error('plugins\_api\_failed', \_\_('An error occour when try to identify the plugin.' , 'popup-builder') . '&lt;/p> &lt;p>&lt;a href=&quot;?&quot; onclick=&quot;document.location.reload(); return false;&quot;>'. \_\_( 'Try again', 'popup-builder' ) .'&lt;/a>');; |
  | 173 | 173 | } |
  | 174 | 174 |  |
  | […](/browser/popup-builder/trunk/com/libs/WOOSL_CodeAutoUpdate.php?rev=2664345#L182) | […](/browser/popup-builder/trunk/com/libs/WOOSL_CodeAutoUpdate.php?rev=3085485#L182) |  |
  | 182 | 182 |  |
  | 183 | 183 | if (is\_wp\_error($data) || $data['response']['code'] != 200) { |
  | 184 |  | return new ~~WP\_Error('plugins\_api\_failed', \_\_('An Unexpected HTTP Error occurred during the API request.' , 'woo-global-cart') . '&lt;/p> &lt;p>&lt;a href=&quot;?&quot; onclick=&quot;document.location.reload(); return false;&quot;>'. \_\_( 'Try again', 'woo-global-cart~~' ) .'&lt;/a>', $data->get\_error\_message()); |
  |  | 184 | return new \WP\_Error('plugins\_api\_failed', \_\_('An Unexpected HTTP Error occurred during the API request.' , 'popup-builder') . '&lt;/p> &lt;p>&lt;a href=&quot;?&quot; onclick=&quot;document.location.reload(); return false;&quot;>'. \_\_( 'Try again', 'popup-builder' ) .'&lt;/a>', $data->get\_error\_message()); |
  | 185 | 185 | } |
  | 186 | 186 |  |
* ## [popup-builder/trunk/com/libs/parsers.php](/changeset/3085485/popup-builder/trunk/com/libs/parsers.php "Show the changeset 3085485 restricted to popup-builder/trunk/com/libs/parsers.php")

  | [r2976515](/browser/popup-builder/trunk/com/libs/parsers.php?rev=2976515#L42 "Show revision 2976515 of this file in browser") | [r3085485](/browser/popup-builder/trunk/com/libs/parsers.php?rev=3085485#L42 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 42 | 42 | } |
  | 43 | 43 | echo '</pre>'; |
  | 44 |  | echo '<p><strong>' . ~~\_\_( 'There was an error when reading this WXR file', 'wordpress-importer' )~~ . '</strong><br />'; |
  | 45 |  | echo ~~\_\_( 'Details are shown above. The importer will now try again with a different parser...', 'wordpress-importer'~~ ) . '</p>'; |
  |  | 44 | echo '<p><strong>' . wp\_kses\_post(\_\_( 'There was an error when reading this WXR file', 'popup-builder' ) ). '</strong><br />'; |
  |  | 45 | echo wp\_kses\_post(\_\_( 'Details are shown above. The importer will now try again with a different parser...', 'popup-builder' ) ) . '</p>'; |
  | 46 | 46 | } |
  | 47 | 47 |  |
  | […](/browser/popup-builder/trunk/com/libs/parsers.php?rev=2976515#L72) | […](/browser/popup-builder/trunk/com/libs/parsers.php?rev=3085485#L72) |  |
  | 72 | 72 |  |
  | 73 | 73 | if ( ! $success || isset( $dom->doctype ) ) { |
  | 74 |  | return new \WP\_Error( 'SimpleXML\_parse\_error', \_\_( 'There was an error when reading this WXR file', '~~wordpress-import~~er' ), libxml\_get\_errors() ); |
  |  | 74 | return new \WP\_Error( 'SimpleXML\_parse\_error', \_\_( 'There was an error when reading this WXR file', 'popup-builder' ), libxml\_get\_errors() ); |
  | 75 | 75 | } |
  | 76 | 76 |  |
  | […](/browser/popup-builder/trunk/com/libs/parsers.php?rev=2976515#L80) | […](/browser/popup-builder/trunk/com/libs/parsers.php?rev=3085485#L80) |  |
  | 80 | 80 | // halt if loading produces an error |
  | 81 | 81 | if ( ! $xml ) |
  | 82 |  | return new \WP\_Error( 'SimpleXML\_parse\_error', \_\_( 'There was an error when reading this WXR file', '~~wordpress-import~~er' ), libxml\_get\_errors() ); |
  |  | 82 | return new \WP\_Error( 'SimpleXML\_parse\_error', \_\_( 'There was an error when reading this WXR file', 'popup-builder' ), libxml\_get\_errors() ); |
  | 83 | 83 |  |
  | 84 | 84 | $wxr\_version = $xml->xpath('/rss/channel/wp:wxr\_version'); |
  | 85 | 85 | if ( ! $wxr\_version ) |
  | 86 |  | return new \WP\_Error( 'WXR\_parse\_error', \_\_( 'This does not appear to be a WXR file, missing/invalid WXR version number', '~~wordpress-import~~er' ) ); |
  |  | 86 | return new \WP\_Error( 'WXR\_parse\_error', \_\_( 'This does not appear to be a WXR file, missing/invalid WXR version number', 'popup-builder' ) ); |
  | 87 | 87 |  |
  | 88 | 88 | $wxr\_version = (string) trim( $wxr\_version[0] ); |
  | 89 | 89 | // confirm that we are dealing with the correct file format |
  | 90 | 90 | if ( ! preg\_match( '/^\d+\.\d+$/', $wxr\_version ) ) |
  | 91 |  | return new \WP\_Error( 'WXR\_parse\_error', \_\_( 'This does not appear to be a WXR file, missing/invalid WXR version number', '~~wordpress-import~~er' ) ); |
  |  | 91 | return new \WP\_Error( 'WXR\_parse\_error', \_\_( 'This does not appear to be a WXR file, missing/invalid WXR version number', 'popup-builder' ) ); |
  | 92 | 92 |  |
  | 93 | 93 | $base\_url = $xml->xpath('/rss/channel/wp:base\_site\_url'); |
  | […](/browser/popup-builder/trunk/com/libs/parsers.php?rev=2976515#L314) | […](/browser/popup-builder/trunk/com/libs/parsers.php?rev=3085485#L314) |  |
  | 314 | 314 | $error\_code = xml\_get\_error\_code( $xml ); |
  | 315 | 315 | $error\_string = xml\_error\_string( $error\_code ); |
  | 316 |  | return new WP\_Error( 'XML\_parse\_error', 'There was an error when reading this WXR file', array( $current\_line, $current\_column, $error\_string ) ); |
  |  | 316 | return new \WP\_Error( 'XML\_parse\_error', 'There was an error when reading this WXR file', array( $current\_line, $current\_column, $error\_string ) ); |
  | 317 | 317 | } |
  | 318 | 318 | xml\_parser\_free( $xml ); |
  | 319 | 319 |  |
  | 320 | 320 | if ( ! preg\_match( '/^\d+\.\d+$/', $this->wxr\_version ) ) |
  | 321 |  | return new ~~WP\_Error( 'WXR\_parse\_error', \_\_( 'This does not appear to be a WXR file, missing/invalid WXR version number', 'wordpress-import~~er' ) ); |
  |  | 321 | return new \WP\_Error( 'WXR\_parse\_error', \_\_( 'This does not appear to be a WXR file, missing/invalid WXR version number', 'popup-builder' ) ); |
  | 322 | 322 |  |
  | 323 | 323 | return array( |
  | […](/browser/popup-builder/trunk/com/libs/parsers.php?rev=2976515#L524) | […](/browser/popup-builder/trunk/com/libs/parsers.php?rev=3085485#L524) |  |
  | 524 | 524 |  |
  | 525 | 525 | if ( ! $wxr\_version ) |
  | 526 |  | return new \WP\_Error( 'WXR\_parse\_error', \_\_( 'This does not appear to be a WXR file, missing/invalid WXR version number', '~~wordpress-import~~er' ) ); |
  |  | 526 | return new \WP\_Error( 'WXR\_parse\_error', \_\_( 'This does not appear to be a WXR file, missing/invalid WXR version number', 'popup-builder' ) ); |
  | 527 | 527 |  |
  | 528 | 528 | return array( |
* ## [popup-builder/trunk/languages/popupBuilder.pot](/changeset/3085485/popup-builder/trunk/languages/popupBuilder.pot "Show the changeset 3085485 restricted to popup-builder/trunk/languages/popupBuilder.pot")

  | [r2578665](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L2 "Show revision 2578665 of this file in browser") | [r3085485](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L2 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | msgid "" |
  | 3 | 3 | msgstr "" |
  | 4 |  | ~~"Plural-Forms: nplurals=INTEGER; plural=EXPRESSION;\n"~~ |
  | 5 | 4 | "Project-Id-Version: Popup Builder Gold\n" |
  | 6 |  | "POT-Creation-Date: 2018-12-21 13:59+0400\n" |
  | 7 |  | "PO-Revision-Date: 2018-12-21 13:58+0400\n" |
  |  | 5 | "Report-Msgid-Bugs-To: \n" |
  |  | 6 | "POT-Creation-Date: 2024-03-23 10:06+0000\n" |
  |  | 7 | "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n" |
  | 8 | 8 | "Last-Translator: \n" |
  | 9 | 9 | "Language-Team: \n" |
  |  | 10 | "Language: \n" |
  |  | 11 | "Plural-Forms: nplurals=INTEGER; plural=EXPRESSION;\n" |
  | 10 | 12 | "MIME-Version: 1.0\n" |
  | 11 | 13 | "Content-Type: text/plain; charset=UTF-8\n" |
  | 12 | 14 | "Content-Transfer-Encoding: 8bit\n" |
  | 13 |  | "X-Generator: Poedit 1.8.11\n" |
  |  | 15 | "X-Loco-Source-Locale: vi\_VN\n" |
  |  | 16 | "X-Generator: Loco https://localise.biz/\n" |
  | 14 | 17 | "X-Poedit-Basepath: ..\n" |
  | 15 | 18 | "X-Poedit-WPHeader: popup-builder-gold.php\n" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L20) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L23) |  |
  | 20 | 23 | "X-Poedit-SearchPath-0: .\n" |
  | 21 | 24 | "X-Poedit-SearchPathExcluded-0: \*.js\n" |
  |  | 25 | "\n" |
  |  | 26 | "X-Loco-Parser: loco\_parse\_po" |
  | 22 | 27 |  |
  | 23 | 28 | #: com/classes/Actions.php:210 |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L82) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L87) |  |
  | 82 | 87 | msgstr "" |
  | 83 | 88 |  |
  | 84 |  | #: com/classes/ConditionCreator.php:475 public/views/jsVariableView.php:57 |
  |  | 89 | #: com/classes/ConditionCreator.php:475 public/views/jsVariableView.php:57 |
  | 85 | 90 | #: public/views/mediaButton.php:42 public/views/subscribers.php:101 |
  | 86 | 91 | msgid "Cancel" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L91) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L96) |  |
  | 91 | 96 | msgstr "" |
  | 92 | 97 |  |
  | 93 |  | #: com/classes/Filters.php:90 public/views/closeSettingsView.php:201 |
  | 94 |  | #: public/views/conditionsView.php:31 public/views/conditionsView.php:58 |
  | 95 |  | #: public/views/conditionsView.php:85 public/views/conditionsView.php:112 |
  | 96 |  | #: public/views/conditionsView.php:133 public/views/optionsView.php:319 |
  |  | 98 | #: com/classes/Filters.php:90 public/views/closeSettingsView.php:201 |
  |  | 99 | #: public/views/conditionsView.php:31 public/views/conditionsView.php:58 |
  |  | 100 | #: public/views/conditionsView.php:85 public/views/conditionsView.php:112 |
  |  | 101 | #: public/views/conditionsView.php:133 public/views/optionsView.php:319 |
  | 97 | 102 | #: public/views/popupDesignView.php:88 |
  | 98 | 103 | msgid "UNLOCK OPTION" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L107) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L112) |  |
  | 107 | 112 | msgstr "" |
  | 108 | 113 |  |
  | 109 |  | #: com/classes/Filters.php:317 public/views/optionsView.php:190 |
  |  | 114 | #: com/classes/Filters.php:317 public/views/optionsView.php:190 |
  | 110 | 115 | #: public/views/optionsView.php:227 |
  | 111 | 116 | msgid "Type" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L169) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L174) |  |
  | 169 | 174 | msgstr "" |
  | 170 | 175 |  |
  | 171 |  | #: com/classes/RegisterPostType.php:93 public/views/popupTypes.php:14 |
  |  | 176 | #: com/classes/RegisterPostType.php:93 public/views/popupTypes.php:14 |
  | 172 | 177 | #: public/views/popupTypes.php:25 |
  | 173 | 178 | msgid "Add New Popup" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L276) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L281) |  |
  | 276 | 281 | msgstr "" |
  | 277 | 282 |  |
  | 278 |  | #: com/classes/RegisterPostType.php:326 com/classes/RegisterPostType.php:327 |
  |  | 283 | #: com/classes/RegisterPostType.php:326 com/classes/RegisterPostType.php:327 |
  | 279 | 284 | #: public/views/mainRateUsBanner.php:44 |
  | 280 | 285 | msgid "Support" |
  | 281 | 286 | msgstr "" |
  | 282 | 287 |  |
  | 283 |  | #: com/classes/RegisterPostType.php:338 com/classes/RegisterPostType.php:339 |
  |  | 288 | #: com/classes/RegisterPostType.php:338 com/classes/RegisterPostType.php:339 |
  | 284 | 289 | #: public/views/mainActionButtons.php:7 |
  | 285 | 290 | msgid "Add New" |
  | 286 | 291 | msgstr "" |
  | 287 | 292 |  |
  | 288 |  | #: com/classes/RegisterPostType.php:347 com/classes/RegisterPostType.php:348 |
  |  | 293 | #: com/classes/RegisterPostType.php:347 com/classes/RegisterPostType.php:348 |
  | 289 | 294 | #: public/views/subscribers.php:30 |
  | 290 | 295 | msgid "Subscribers" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L307) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L312) |  |
  | 307 | 312 | msgstr "" |
  | 308 | 313 |  |
  | 309 |  | #: com/classes/Updates.php:152 com/classes/Updates.php:181 |
  |  | 314 | #: com/classes/Updates.php:152 com/classes/Updates.php:181 |
  | 310 | 315 | #: com/classes/Updates.php:213 |
  | 311 | 316 | msgid "An error occurred, please try again." |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L338) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L343) |  |
  | 338 | 343 | msgstr "" |
  | 339 | 344 |  |
  | 340 |  | #: com/classes/dataTable/Subscribers.php:30 com/config/dataConfig.php:862 |
  |  | 345 | #: com/classes/dataTable/Subscribers.php:30 com/config/dataConfig.php:862 |
  | 341 | 346 | #: public/views/options/subscription.php:111 public/views/subscribers.php:88 |
  | 342 | 347 | msgid "First name" |
  | 343 | 348 | msgstr "" |
  | 344 | 349 |  |
  | 345 |  | #: com/classes/dataTable/Subscribers.php:31 com/config/dataConfig.php:865 |
  |  | 350 | #: com/classes/dataTable/Subscribers.php:31 com/config/dataConfig.php:865 |
  | 346 | 351 | #: public/views/options/subscription.php:142 public/views/subscribers.php:93 |
  | 347 | 352 | msgid "Last name" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L428) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L433) |  |
  | 428 | 433 | msgstr "" |
  | 429 | 434 |  |
  | 430 |  | #: com/config/dataConfig.php:54 com/config/dataConfig.php:424 |
  |  | 435 | #: com/config/dataConfig.php:54 com/config/dataConfig.php:424 |
  | 431 | 436 | #: com/helpers/ConfigDataHelper.php:1087 |
  | 432 | 437 | msgid "Add" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L437) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L442) |  |
  | 437 | 442 | msgstr "" |
  | 438 | 443 |  |
  | 439 |  | #: com/config/dataConfig.php:59 com/config/dataConfig.php:429 |
  | 440 |  | #: public/views/conditionsView.php:24 public/views/conditionsView.php:51 |
  |  | 444 | #: com/config/dataConfig.php:59 com/config/dataConfig.php:429 |
  |  | 445 | #: public/views/conditionsView.php:24 public/views/conditionsView.php:51 |
  | 441 | 446 | #: public/views/conditionsView.php:78 public/views/conditionsView.php:105 |
  | 442 | 447 | msgid "Is" |
  | 443 | 448 | msgstr "" |
  | 444 | 449 |  |
  | 445 |  | #: com/config/dataConfig.php:60 com/config/dataConfig.php:430 |
  | 446 |  | #: public/views/conditionsView.php:24 public/views/conditionsView.php:51 |
  |  | 450 | #: com/config/dataConfig.php:60 com/config/dataConfig.php:430 |
  |  | 451 | #: public/views/conditionsView.php:24 public/views/conditionsView.php:51 |
  | 447 | 452 | #: public/views/conditionsView.php:78 public/views/conditionsView.php:105 |
  | 448 | 453 | msgid "Is not" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L673) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L678) |  |
  | 673 | 678 | msgstr "" |
  | 674 | 679 |  |
  | 675 |  | #: com/config/dataConfig.php:659 com/helpers/ConfigDataHelper.php:525 |
  |  | 680 | #: com/config/dataConfig.php:659 com/helpers/ConfigDataHelper.php:525 |
  | 676 | 681 | #: com/helpers/ConfigDataHelper.php:632 |
  | 677 | 682 | msgid "Redirect to URL" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L710) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L715) |  |
  | 710 | 715 | msgstr "" |
  | 711 | 716 |  |
  | 712 |  | #: com/config/dataConfig.php:721 public/views/mediaButton.php:21 |
  |  | 717 | #: com/config/dataConfig.php:721 public/views/mediaButton.php:21 |
  | 713 | 718 | #: public/views/options/subscription.php:362 |
  | 714 | 719 | msgid "Select popup" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L910) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L915) |  |
  | 910 | 915 | #: com/helpers/AdminHelper.php:1320 |
  | 911 | 916 | msgid "" |
  | 912 |  | "<h1 class=\"sgpb-review-h1\"><strong class=\"sgrb-review-strong\">Wow!~~</~~" |
  | 913 |  | "strong> <b>Popup Builder</b> plugin helped you to share your message via " |
  |  | 917 | "<h1 class=\"sgpb-review-h1\"><strong class=\"sgrb-review-strong\">Wow!" |
  |  | 918 | "</strong> <b>Popup Builder</b> plugin helped you to share your message via " |
  | 914 | 919 | "<strong class=\"sgrb-review-strong\">" |
  | 915 | 920 | msgstr "" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L1052) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L1057) |  |
  | 1052 | 1057 | msgstr "" |
  | 1053 | 1058 |  |
  | 1054 |  | #: com/helpers/ConfigDataHelper.php:436 com/helpers/ConfigDataHelper.php:693 |
  |  | 1059 | #: com/helpers/ConfigDataHelper.php:436 com/helpers/ConfigDataHelper.php:693 |
  | 1055 | 1060 | #: com/helpers/ConfigDataHelper.php:700 com/helpers/ConfigDataHelper.php:719 |
  | 1056 | 1061 | msgid "None" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L1081) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L1086) |  |
  | 1081 | 1086 | msgstr "" |
  | 1082 | 1087 |  |
  | 1083 |  | #: com/helpers/ConfigDataHelper.php:513 com/helpers/ConfigDataHelper.php:620 |
  |  | 1088 | #: com/helpers/ConfigDataHelper.php:513 com/helpers/ConfigDataHelper.php:620 |
  | 1084 | 1089 | #: public/views/options/subscription.php:340 |
  | 1085 | 1090 | msgid "Success message" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L1279) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L1284) |  |
  | 1279 | 1284 | msgstr "" |
  | 1280 | 1285 |  |
  | 1281 |  | #: com/libs/Importer.php:112 com/libs/Importer.php:121 |
  | 1282 |  | #: com/libs/Importer.php:173 com/libs/Importer.php:178 |
  |  | 1286 | #: com/libs/Importer.php:112 com/libs/Importer.php:121 |
  |  | 1287 | #: com/libs/Importer.php:173 com/libs/Importer.php:178 |
  | 1283 | 1288 | #: com/libs/Importer.php:187 |
  | 1284 | 1289 | msgid "Sorry, there has been an error." |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L1326) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L1331) |  |
  | 1326 | 1331 | "To make it easier for you to edit and save the imported content, you may " |
  | 1327 | 1332 | "want to reassign the author of the imported item to an existing user of this " |
  | 1328 |  | "site. For example, you may want to import all the entries as <code>~~admin</~~" |
  | 1329 |  | "code>s entries." |
  |  | 1333 | "site. For example, you may want to import all the entries as <code>" |
  |  | 1334 | "admin</code>s entries." |
  | 1330 | 1335 | msgstr "" |
  | 1331 | 1336 |  |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L1589) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L1594) |  |
  | 1589 | 1594 | msgstr "" |
  | 1590 | 1595 |  |
  | 1591 |  | #: com/libs/parsers.php:86 com/libs/parsers.php:91 com/libs/parsers.php:308 |
  |  | 1596 | #: com/libs/parsers.php:86 com/libs/parsers.php:91 com/libs/parsers.php:308 |
  | 1592 | 1597 | #: com/libs/parsers.php:504 |
  | 1593 | 1598 | msgid "" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L1640) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L1645) |  |
  | 1640 | 1645 | msgstr "" |
  | 1641 | 1646 |  |
  | 1642 |  | #: public/views/closeSettingsView.php:112 public/views/dimensionsView.php:20 |
  | 1643 |  | #: public/views/options/subscription.php:187 |
  |  | 1647 | #: public/views/closeSettingsView.php:112 public/views/dimensionsView.php:20 |
  |  | 1648 | #: public/views/options/subscription.php:187 |
  | 1644 | 1649 | #: public/views/options/subscription.php:261 |
  | 1645 | 1650 | msgid "Width" |
  | 1646 | 1651 | msgstr "" |
  | 1647 | 1652 |  |
  | 1648 |  | #: public/views/closeSettingsView.php:123 public/views/dimensionsView.php:25 |
  | 1649 |  | #: public/views/options/subscription.php:195 |
  |  | 1653 | #: public/views/closeSettingsView.php:123 public/views/dimensionsView.php:25 |
  |  | 1654 | #: public/views/options/subscription.php:195 |
  | 1650 | 1655 | #: public/views/options/subscription.php:269 |
  | 1651 | 1656 | msgid "Height" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L1685) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L1690) |  |
  | 1685 | 1690 | msgstr "" |
  | 1686 | 1691 |  |
  | 1687 |  | #: public/views/conditionsView.php:10 public/views/conditionsView.php:37 |
  | 1688 |  | #: public/views/conditionsView.php:64 public/views/conditionsView.php:91 |
  |  | 1692 | #: public/views/conditionsView.php:10 public/views/conditionsView.php:37 |
  |  | 1693 | #: public/views/conditionsView.php:64 public/views/conditionsView.php:91 |
  | 1689 | 1694 | #: public/views/conditionsView.php:118 |
  | 1690 | 1695 | msgid "Condition" |
  | 1691 | 1696 | msgstr "" |
  | 1692 | 1697 |  |
  | 1693 |  | #: public/views/conditionsView.php:13 public/views/conditionsView.php:40 |
  |  | 1698 | #: public/views/conditionsView.php:13 public/views/conditionsView.php:40 |
  | 1694 | 1699 | #: public/views/conditionsView.php:67 public/views/conditionsView.php:94 |
  | 1695 | 1700 | msgid "Page operator" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L1732) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L1737) |  |
  | 1732 | 1737 | msgstr "" |
  | 1733 | 1738 |  |
  | 1734 |  | #: public/views/dimensionsView.php:21 public/views/dimensionsView.php:27 |
  | 1735 |  | #: public/views/dimensionsView.php:38 public/views/dimensionsView.php:42 |
  |  | 1739 | #: public/views/dimensionsView.php:21 public/views/dimensionsView.php:27 |
  |  | 1740 | #: public/views/dimensionsView.php:38 public/views/dimensionsView.php:42 |
  | 1736 | 1741 | #: public/views/dimensionsView.php:46 public/views/dimensionsView.php:50 |
  | 1737 | 1742 | msgid "Ex: 100, 100px or 100%" |
  | 1738 | 1743 | msgstr "" |
  | 1739 | 1744 |  |
  | 1740 |  | #: public/views/dimensionsView.php:21 public/views/dimensionsView.php:27 |
  | 1741 |  | #: public/views/dimensionsView.php:38 public/views/dimensionsView.php:42 |
  |  | 1745 | #: public/views/dimensionsView.php:21 public/views/dimensionsView.php:27 |
  |  | 1746 | #: public/views/dimensionsView.php:38 public/views/dimensionsView.php:42 |
  | 1742 | 1747 | #: public/views/dimensionsView.php:46 public/views/dimensionsView.php:50 |
  | 1743 | 1748 | msgid "It must be number  + px or %" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L1992) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L1997) |  |
  | 1992 | 1997 | msgstr "" |
  | 1993 | 1998 |  |
  | 1994 |  | #: public/views/options/subscription.php:120 |
  |  | 1999 | #: public/views/options/subscription.php:120 |
  | 1995 | 2000 | #: public/views/options/subscription.php:151 |
  | 1996 | 2001 | msgid "Placeholder" |
  | 1997 | 2002 | msgstr "" |
  | 1998 | 2003 |  |
  | 1999 |  | #: public/views/options/subscription.php:128 |
  |  | 2004 | #: public/views/options/subscription.php:128 |
  | 2000 | 2005 | #: public/views/options/subscription.php:159 |
  | 2001 | 2006 | msgid "Required field" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L2014) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L2019) |  |
  | 2014 | 2019 | msgstr "" |
  | 2015 | 2020 |  |
  | 2016 |  | #: public/views/options/subscription.php:211 |
  |  | 2021 | #: public/views/options/subscription.php:211 |
  | 2017 | 2022 | #: public/views/options/subscription.php:293 |
  | 2018 | 2023 | msgid "Background color" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L2023) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L2028) |  |
  | 2023 | 2028 | msgstr "" |
  | 2024 | 2029 |  |
  | 2025 |  | #: public/views/options/subscription.php:231 |
  |  | 2030 | #: public/views/options/subscription.php:231 |
  | 2026 | 2031 | #: public/views/options/subscription.php:303 |
  | 2027 | 2032 | msgid "Text color" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L2154) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L2159) |  |
  | 2154 | 2159 | msgstr "" |
  | 2155 | 2160 |  |
  | 2156 |  | #: public/views/optionsView.php:208 public/views/optionsView.php:245 |
  |  | 2161 | #: public/views/optionsView.php:208 public/views/optionsView.php:245 |
  | 2157 | 2162 | #: public/views/optionsView.php:335 |
  | 2158 | 2163 | msgid "Second(s)" |
  | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=2578665#L2437) | […](/browser/popup-builder/trunk/languages/popupBuilder.pot?rev=3085485#L2442) |  |
  | 2437 | 2442 | msgid "http://www.sygnoos.com" |
  | 2438 | 2443 | msgstr "" |
  |  | 2444 |  |
  |  | 2445 | msgid "An error occour when try to identify the plugin." |
  |  | 2446 | msgstr "" |
  |  | 2447 |  |
  |  | 2448 | msgid "Try again" |
  |  | 2449 | msgstr "" |
  |  | 2450 |  |
  |  | 2451 | msgid "An Unexpected HTTP Error occurred during the API request." |
  |  | 2452 | msgstr "" |
  |  | 2453 |  |
  |  | 2454 | msgid "WPForms" |
  |  | 2455 | msgstr "" |
  |  | 2456 |  |
  |  | 2457 | msgid "Select and display one of your forms." |
  |  | 2458 | msgstr "" |
  |  | 2459 |  |
  |  | 2460 | msgid "form" |
  |  | 2461 | msgstr "" |
  |  | 2462 |  |
  |  | 2463 | msgid "Form Settings" |
  |  | 2464 | msgstr "" |
  |  | 2465 |  |
  |  | 2466 | msgid "Form" |
  |  | 2467 | msgstr "" |
  |  | 2468 |  |
  |  | 2469 | msgid "Show Title" |
  |  | 2470 | msgstr "" |
  |  | 2471 |  |
  |  | 2472 | msgid "Show Description" |
  |  | 2473 | msgstr "" |
  |  | 2474 |  |
  |  | 2475 | msgid "Click me" |
  |  | 2476 | msgstr "" |
  |  | 2477 |  |
  |  | 2478 | msgid "" |
  |  | 2479 | "This block will help you to add Popup Builder’s shortcode inside the page " |
  |  | 2480 | "content" |
  |  | 2481 | msgstr "" |
* ## [popup-builder/trunk/popup-builder.php](/changeset/3085485/popup-builder/trunk/popup-builder.php "Show the changeset 3085485 restricted to popup-builder/trunk/popup-builder.php")

  | [r3038724](/browser/popup-builder/trunk/popup-builder.php?rev=3038724#L4 "Show revision 3038724 of this file in browser") | [r3085485](/browser/popup-builder/trunk/popup-builder.php?rev=3085485#L4 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: https://popup-builder.com |
  | 5 | 5 | \* Description: The most complete popup plugin. Html, image, iframe, shortcode, video and many other popup types. Manage popup dimensions, effects, themes and more. |
  | 6 |  | \* Version: 4.~~2.7~~ |
  |  | 6 | \* Version: 4.3.0 |
  | 7 | 7 | \* Author: Looking Forward Software Incorporated. |
  | 8 | 8 | \* Author URI: https://popup-builder.com |
  | […](/browser/popup-builder/trunk/popup-builder.php?rev=3038724#L21) | […](/browser/popup-builder/trunk/popup-builder.php?rev=3085485#L21) |  |
  | 21 | 21 | } |
  | 22 | 22 |  |
  | 23 |  | if (!defined('SG\_POPUP\_FILE\_NAME')) { |
  | 24 |  | define('SG\_POPUP\_FILE\_NAME', plugin\_basename(\_\_FILE\_\_)); |
  |  | 23 | if (!defined('SGPB\_POPUP\_FILE\_NAME')) { |
  |  | 24 | define('SGPB\_POPUP\_FILE\_NAME', plugin\_basename(\_\_FILE\_\_)); |
  | 25 | 25 | } |
  | 26 | 26 |  |
  | 27 |  | if (!defined('SG\_POPUP\_FOLDER\_NAME')) { |
  | 28 |  | define('SG\_POPUP\_FOLDER\_NAME', plugin\_basename(dirname(\_\_FILE\_\_))); |
  |  | 27 | if (!defined('SGPB\_POPUP\_FOLDER\_NAME')) { |
  |  | 28 | define('SGPB\_POPUP\_FOLDER\_NAME', plugin\_basename(dirname(\_\_FILE\_\_))); |
  | 29 | 29 | } |
  | 30 | 30 |  |
* ## [popup-builder/trunk/public/js/Subscribers.js](/changeset/3085485/popup-builder/trunk/public/js/Subscribers.js "Show the changeset 3085485 restricted to popup-builder/trunk/public/js/Subscribers.js")

  | [r3009930](/browser/popup-builder/trunk/public/js/Subscribers.js?rev=3009930#L1 "Show revision 3009930 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/js/Subscribers.js?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | function SGPBSubscribers(){}SGPBSubscribers.prototype.init=function(){this.deleteSubscribers(),this.toggleCheckedSubscribers(),this.popupsTableRowColorChange(),this.deleteButtonHideShow(),this.exportSubscribers(),this.modal=new SGPBModals,this.modal.modalInit(),this.subscriberFileUploader(),this.importSubscriber(),this.addSubscribers()},SGPBSubscribers.prototype.deleteSubscribers=function(){var e=[],~~s=this;jQuery(".sg-subs-delete-button").bind("click",function(){var t={};(t.ajaxNonce=jQuery(this).attr("data-ajaxNonce"),jQuery(".subs-delete-checkbox").each(function(){if(jQuery(this).prop("checked")){var s=jQuery(this).attr("data-delete-id");e.push(s)}}),0===e.length)?alert("Please select at least one subscriber."):confirm(SGPB\_JS\_LOCALIZATION.areYouSure)&&s.deleteSubscribersAjax(e,t)})},SGPBSubscribers.prototype.subscriberFileUploader=function(){var e,s=jQuery("#js-import-subscriber-button"),t=["text/plain","text/x-csv","text/csv"];if(!s.length)return!1;s.bind("click",function(s){if(s.preventDefault(),e)return e.open(),!1;(e=wp.media.frames.file\_frame=wp.media({titleFF:SGPB\_JS\_LOCALIZATION.changeSound,button:{text:SGPB\_JS\_LOCALIZATION.changeSound},library:{type:t},multiple:!1})).on("select",function(){var s=e.state().get("selection").first().toJSON();if(-1===t.indexOf(s.mime)){alert(SGPB\_JS\_LOCALIZATION.audioSupportAlertMessage);return}jQuery("#js-import-subscriber-file-url").val(s.url)}),e.open()})},SGPBSubscribers.prototype.importSubscriber=function(){var e=jQuery(".sgpb-import-subscriber-to-list"),s=this;if(!e.length)return!1;e.bind("click",function(){jQuery("#pb\_validate\_csv\_import").remove();var t=jQuery(".js-sg-import-list").val(),r=jQuery("#js-import-subscriber-file-url").val();if(r.length){var i={action:"sgpb\_import\_subscribers",nonce:SGPB\_JS\_PARAMS.nonce,popupSubscriptionList:t,importListURL:r,beforeSend:function(){e.prop("disabled",!0)}};jQuery.post(ajaxurl,i,function(t){e.prop("disabled",!1),-1!=t.indexOf("ERROR-")?e.parent().parent().before('<div class="alert alert-danger" id="pb\_validate\_csv\_import"style="padding-bottom:10px;color: red;"><strong>'+t+"</strong></div>"):(s.modal.changeModalContent(jQuery(".sgpb-modal"),jQuery(t),jQuery(".sgpb-modal").data("target")),s.removeAllValuesOnModalDestroy(),s.saveImportValue(),s.disableSelectedValue())})}})},SGPBSubscribers.prototype.removeAllValuesOnModalDestroy=function(){jQuery(".sgpb-add-subscriber-input:selected").prop("selected",!1),jQuery(".sgpb-add-subscriber-input").val(""),jQuery("#js-import-subscriber-file-url").val("")},SGPBSubscribers.prototype.disableSelectedValue=function(){var e=jQuery(".sgpb-our-fields-keys");if(!e.length)return!1;e.bind("change",function(){var e=jQuery(this).val();jQuery('.sgpb-our-fields-keys option[value="'+jQuery(this).attr("data-saved-value")+'"]').removeAttr("disabled"),jQuery(this).attr("data-saved-value",e),jQuery('.sgpb-our-fields-keys option[value="'+e+'"]').not(jQuery(this)).attr("disabled","disabled")})},SGPBSubscribers.prototype.saveImportValue=function(){jQuery(".sgpb-import-subscriber-to-list");var e={},s={action:"sgpb\_save\_imported\_subscribers",nonce:SGPB\_JS\_PARAMS.nonce,popupSubscriptionList:jQuery(".sgpb-to-import-popup-id").val(),importListURL:jQuery(".sgpb-imported-file-url").val()};jQuery(".sgpb-save-subscriber").bind("click",function(){e={},jQuery(".sgpb-our-fields-keys").each(function(){var s=jQuery("option:selected",this).val();s&&(e[s]=jQuery(this).attr("data-index"))}),s.namesMapping=e,s.popupId=jQuery(".sgpb-to-import-popup-id").val(),s.beforeSend=function(){jQuery(".sgpb-save-subscriber").prop("disabled",!0)},jQuery.post(ajaxurl,s,function(e){window.location.reload(),jQuery(".sgpb-save-subscriber").prop("disabled",!1)})})},SGPBSubscribers.prototype.addSubscribers=function(){var e=this;jQuery(".sgpb-add-to-list-js").bind("click",function(){jQuery(".sgpb-subscription-error").addClass("sg-hide-element"),jQuery(".sgpb-email-error").addClass("sg-hide-element");var s=jQuery(".sgpb-add-subscribers-email").val(),t=jQuery(".sgpb-add-subscribers-first-name").val(),r=jQuery(".sgpb-add-subscribers-last-name").val(),i=[];jQuery(".js-sg-newsletter-forms > option").each(function(){jQuery(this).prop("selected")&&i.push(jQuery(this).val())});var o=s.search(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)\*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);if(!1===jQuery(".js-sg-newsletter-forms > option").is(":checked")&&-1===o){jQuery(".sgpb-subscription-error").removeClass("sg-hide-element"),jQuery(".sgpb-email-error").removeClass("sg-hide-element");return}if(!1===jQuery(".js-sg-newsletter-forms > option").is(":checked")){jQuery(".sgpb-subscription-error").removeClass("sg-hide-element");return}if(-1===o){jQuery(".sgpb-email-error").removeClass("sg-hide-element");return}jQuery(".sgpb-email-error").addClass("sg-hide-element");var a={action:"sgpb\_add\_subscribers",nonce:SGPB\_JS\_PARAMS.nonce,firstName:t,lastName:r,email:s,popups:i,beforeSend:function(){jQuery(".js-sgpb-add-spinner").removeClass("sg-hide-element")}};e.addToSubscribersAjax(a)})},SGPBSubscribers.prototype.exportSubscribers=function(){var e=this;jQuery("#sgpb-subscription-popup").on("change",function(){jQuery(".sgpb-subscription-popup-id").val(jQuery(this).val())}),jQuery("#sgpb-subscribers-dates").on("change",function(){jQuery(".sgpb-subscribers-date").val(jQuery(this).val())}),jQuery(".sgpb-export-subscriber").bind("click",function(){var s="",t={};for(var r in t["sgpb-subscription-popup-id"]=e.getUrlParameter("sgpb-subscription-popup-id"),t.s=e.getUrlParameter("s"),t["sgpb-subscribers-date"]=e.getUrlParameter("sgpb-subscribers-date"),t.orderby=e.getUrlParameter("orderby"),t.order=e.getUrlParameter("order"),t)void 0!==t[r]&&""!==t[r]&&(s+="&"+r+"="+t[r]);window.location.href=SGPB\_JS\_ADMIN\_URL.url+"?action=csv\_file"+s})},SGPBSubscribers.prototype.getUrlParameter=function(e){for(var s=window.location.search.substring(1).split("&"),t=0;t<s.length;t++){var r=s[t].split("=");if(r[0]==e){if(void 0!==r[1])return r[1];return""}}},SGPBSubscribers.prototype.addToSubscribersAjax=function(e){jQuery.post(ajaxurl,e,function(e){"1"!==e?(jQuery(".sgpb-subscriber-adding-error").removeClass("sg-hide-element"),jQuery(".sgpb-subscribers-add-spinner").addClass("sg-hide-element")):location.reload()})},SGPBSubscribers.prototype.toggleCheckedSubscribers=function(){var e=this;jQuery(".subs-bulk").each(function(){jQuery(this).bind("click",function(){var s=jQuery(this).prop("checked");e.changeCheckedSubscribers(s)})})},SGPBSubscribers.prototype.changeCheckedSubscribers=function(e){jQuery(".subs-delete-checkbox").each(function(){jQuery(this).prop("checked",e),jQuery(".subs-bulk").prop("checked",e),jQuery(".sg-subs-delete-button").removeClass("sgpb-btn-disabled"),e||jQuery(".sg-subs-delete-button").addClass("sgpb-btn-disabled")})},SGPBSubscribers.prototype.dataImport=function(){var e;jQuery("#js-upload-export-file").click(function(s){s.preventDefault();var t=jQuery(this).attr("data-ajaxNonce");if(e){e.open();return}(e=wp.media.frames.file\_frame=wp.media({titleFF:"Select Export File",button:{text:"Select Export File"},multiple:!1,library:{type:"text/plain"}})).on("select",function(){var s={action:"import\_popups",ajaxNonce:t,attachmentUrl:(attachment=e.state().get("selection").first().toJSON()).url};jQuery(".js-sg-import-gif").removeClass("sg-hide-element"),jQuery.post(ajaxurl,s,function(e,s){location.reload(),jQuery(".js-sg-import-gif").addClass("sg-hide-element")})}),e.open()})},SGPBSubscribers.prototype.deleteSubscribersAjax=function(e){var s={action:"sgpb\_subscribers\_delete",nonce:SGPB\_JS\_PARAMS.nonce,subscribersId:e,beforeSend:function(){jQuery(".sgpb-subscribers-remove-spinner").removeClass("sg-hide-element")}};jQuery.post(ajaxurl,s,function(e){jQuery(".sgpb-subscribers-remove-spinner").addClass("sg-hide-element"),jQuery(".subs-delete-checkbox").prop("checked",""),window.location.reload()})},SGPBSubscribers.prototype.deleteButtonHideShow=function(){if(!jQuery(".subs-delete-checkbox").length)return!1;jQuery(".subs-delete-checkbox").on("click",function(){jQuery(".sg-subs-delete-button").removeClass("sgpb-btn-disabled"),jQuery(".subs-delete-checkbox").is(":checked")||jQuery(".sg-subs-delete-button").addClass("sgpb-btn-disabled")})},SGPBSubscribers.prototype.popupsTableRowColorChange=function(){jQuery("table tr th input").on("change",function(){this.checked?jQuery(this).parent("th").parent("tr").addClass("sgpb-popups-table-selected-row"):jQuery(this).parent("th").parent("tr").removeClass("sgpb-popups-table-selected-row")}),jQuery("table thead tr td input").on("change",function(){this.checked?jQuery(this).closest("table").find("tbody tr").addClass("sgpb-popups-table-selected-row"):jQuery(this).closest("table").find("tbody tr").removeClass("sgpb-popups-table-selected-row")})},jQuery(document).ready(function(){new SGPBSubscribers().init()}~~); |
  |  | 1 | function SGPBSubscribers(){}SGPBSubscribers.prototype.init=function(){this.deleteSubscribers(),this.toggleCheckedSubscribers(),this.popupsTableRowColorChange(),this.deleteButtonHideShow(),this.exportSubscribers(),this.modal=new SGPBModals,this.modal.modalInit(),this.subscriberFileUploader(),this.importSubscriber(),this.addSubscribers()},SGPBSubscribers.prototype.deleteSubscribers=function(){var e=[],r=this;jQuery(".sg-subs-delete-button").bind("click",(function(){var s={};s.ajaxNonce=jQuery(this).attr("data-ajaxNonce"),jQuery(".subs-delete-checkbox").each((function(){if(jQuery(this).prop("checked")){var r=jQuery(this).attr("data-delete-id");e.push(r)}})),0===e.length?alert("Please select at least one subscriber."):confirm(SGPB\_JS\_LOCALIZATION.areYouSure)&&r.deleteSubscribersAjax(e,s)}))},SGPBSubscribers.prototype.subscriberFileUploader=function(){var e,r=jQuery("#js-import-subscriber-button"),s=["text/plain","text/x-csv","text/csv"];if(!r.length)return!1;r.bind("click",(function(r){if(r.preventDefault(),e)return e.open(),!1;(e=wp.media.frames.file\_frame=wp.media({titleFF:SGPB\_JS\_LOCALIZATION.changeSound,button:{text:SGPB\_JS\_LOCALIZATION.changeSound},library:{type:s},multiple:!1})).on("select",(function(){var r=e.state().get("selection").first().toJSON();-1!==s.indexOf(r.mime)?jQuery("#js-import-subscriber-file-url").val(r.url):alert(SGPB\_JS\_LOCALIZATION.audioSupportAlertMessage)})),e.open()}))},SGPBSubscribers.prototype.importSubscriber=function(){var e=jQuery(".sgpb-import-subscriber-to-list"),r=this;if(!e.length)return!1;e.bind("click",(function(){jQuery("#pb\_validate\_csv\_import").remove();var s=jQuery(".js-sg-import-list").val(),t=jQuery("#js-import-subscriber-file-url").val();if(t.length){var i={action:"sgpb\_import\_subscribers",nonce:SGPB\_JS\_PARAMS.nonce,popupSubscriptionList:s,importListURL:t,beforeSend:function(){e.prop("disabled",!0)}};jQuery.post(ajaxurl,i,(function(s){e.prop("disabled",!1),-1!=s.indexOf("ERROR-")?e.parent().parent().before('<div class="alert alert-danger" id="pb\_validate\_csv\_import"style="padding-bottom:10px;color: red;"><strong>'+s+"</strong></div>"):(r.modal.changeModalContent(jQuery(".sgpb-modal"),jQuery(s),jQuery(".sgpb-modal").data("target")),r.removeAllValuesOnModalDestroy(),r.saveImportValue(),r.disableSelectedValue())}))}}))},SGPBSubscribers.prototype.removeAllValuesOnModalDestroy=function(){jQuery(".sgpb-add-subscriber-input:selected").prop("selected",!1),jQuery(".sgpb-add-subscriber-input").val(""),jQuery("#js-import-subscriber-file-url").val("")},SGPBSubscribers.prototype.disableSelectedValue=function(){var e=jQuery(".sgpb-our-fields-keys");if(!e.length)return!1;e.bind("change",(function(){var e=jQuery(this).val();jQuery('.sgpb-our-fields-keys option[value="'+jQuery(this).attr("data-saved-value")+'"]').removeAttr("disabled"),jQuery(this).attr("data-saved-value",e),jQuery('.sgpb-our-fields-keys option[value="'+e+'"]').not(jQuery(this)).attr("disabled","disabled")}))},SGPBSubscribers.prototype.saveImportValue=function(){jQuery(".sgpb-import-subscriber-to-list");var e={},r={action:"sgpb\_save\_imported\_subscribers",nonce:SGPB\_JS\_PARAMS.nonce,popupSubscriptionList:jQuery(".sgpb-to-import-popup-id").val(),importListURL:jQuery(".sgpb-imported-file-url").val()};jQuery(".sgpb-save-subscriber").bind("click",(function(){e={},jQuery(".sgpb-our-fields-keys").each((function(){var r=jQuery("option:selected",this).val();r&&(e[r]=jQuery(this).attr("data-index"))})),r.namesMapping=e,r.popupId=jQuery(".sgpb-to-import-popup-id").val(),r.beforeSend=function(){jQuery(".sgpb-save-subscriber").prop("disabled",!0)},jQuery.post(ajaxurl,r,(function(e){window.location.reload(),jQuery(".sgpb-save-subscriber").prop("disabled",!1)}))}))},SGPBSubscribers.prototype.addSubscribers=function(){var e=this;jQuery(".sgpb-add-to-list-js").bind("click",(function(){jQuery(".sgpb-subscription-error").addClass("sg-hide-element"),jQuery(".sgpb-email-error").addClass("sg-hide-element");var r=jQuery(".sgpb-add-subscribers-email").val(),s=jQuery(".sgpb-add-subscribers-first-name").val(),t=jQuery(".sgpb-add-subscribers-last-name").val(),i=[];jQuery(".js-sg-newsletter-forms > option").each((function(){jQuery(this).prop("selected")&&i.push(jQuery(this).val())}));var o=r.search(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)\*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);if(!1===jQuery(".js-sg-newsletter-forms > option").is(":checked")&&-1===o)return jQuery(".sgpb-subscription-error").removeClass("sg-hide-element"),void jQuery(".sgpb-email-error").removeClass("sg-hide-element");if(!1!==jQuery(".js-sg-newsletter-forms > option").is(":checked"))if(-1!==o){jQuery(".sgpb-email-error").addClass("sg-hide-element");var u={action:"sgpb\_add\_subscribers",nonce:SGPB\_JS\_PARAMS.nonce,firstName:s,lastName:t,email:r,popups:i,beforeSend:function(){jQuery(".js-sgpb-add-spinner").removeClass("sg-hide-element")}};e.addToSubscribersAjax(u)}else jQuery(".sgpb-email-error").removeClass("sg-hide-element");else jQuery(".sgpb-subscription-error").removeClass("sg-hide-element")}))},SGPBSubscribers.prototype.exportSubscribers=function(){var e=this;jQuery("#sgpb-subscription-popup").on("change",(function(){jQuery(".sgpb-subscription-popup-id").val(jQuery(this).val())})),jQuery("#sgpb-subscribers-dates").on("change",(function(){jQuery(".sgpb-subscribers-date").val(jQuery(this).val())})),jQuery(".sgpb-export-subscriber").bind("click",(function(){var r={};for(var s in r["sgpb-subscription-popup-id"]=e.getUrlParameter("sgpb-subscription-popup-id"),r.s=e.getUrlParameter("s"),r["sgpb-subscribers-date"]=e.getUrlParameter("sgpb-subscribers-date"),r.orderby=e.getUrlParameter("orderby"),r.order=e.getUrlParameter("order"),r)void 0!==r[s]&&""!==r[s]&&"&"+s+"="+r[s];window.location.href=SGPB\_JS\_ADMIN\_URL.url+"?action=csv\_file"}))},SGPBSubscribers.prototype.getUrlParameter=function(e){for(var r=window.location.search.substring(1).split("&"),s=0;s<r.length;s++){var t=r[s].split("=");if(t[0]==e)return void 0!==t[1]?t[1]:""}},SGPBSubscribers.prototype.addToSubscribersAjax=function(e){jQuery.post(ajaxurl,e,(function(e){"1"!==e?(jQuery(".sgpb-subscriber-adding-error").removeClass("sg-hide-element"),jQuery(".sgpb-subscribers-add-spinner").addClass("sg-hide-element")):location.reload()}))},SGPBSubscribers.prototype.toggleCheckedSubscribers=function(){var e=this;jQuery(".subs-bulk").each((function(){jQuery(this).bind("click",(function(){var r=jQuery(this).prop("checked");e.changeCheckedSubscribers(r)}))}))},SGPBSubscribers.prototype.changeCheckedSubscribers=function(e){jQuery(".subs-delete-checkbox").each((function(){jQuery(this).prop("checked",e),jQuery(".subs-bulk").prop("checked",e),jQuery(".sg-subs-delete-button").removeClass("sgpb-btn-disabled"),e||jQuery(".sg-subs-delete-button").addClass("sgpb-btn-disabled")}))},SGPBSubscribers.prototype.dataImport=function(){var e;jQuery("#js-upload-export-file").click((function(r){r.preventDefault();var s=jQuery(this).attr("data-ajaxNonce");e||(e=wp.media.frames.file\_frame=wp.media({titleFF:"Select Export File",button:{text:"Select Export File"},multiple:!1,library:{type:"text/plain"}})).on("select",(function(){var r={action:"import\_popups",ajaxNonce:s,attachmentUrl:(attachment=e.state().get("selection").first().toJSON()).url};jQuery(".js-sg-import-gif").removeClass("sg-hide-element"),jQuery.post(ajaxurl,r,(function(e,r){location.reload(),jQuery(".js-sg-import-gif").addClass("sg-hide-element")}))})),e.open()}))},SGPBSubscribers.prototype.deleteSubscribersAjax=function(e){var r={action:"sgpb\_subscribers\_delete",nonce:SGPB\_JS\_PARAMS.nonce,subscribersId:e,beforeSend:function(){jQuery(".sgpb-subscribers-remove-spinner").removeClass("sg-hide-element")}};jQuery.post(ajaxurl,r,(function(e){jQuery(".sgpb-subscribers-remove-spinner").addClass("sg-hide-element"),jQuery(".subs-delete-checkbox").prop("checked",""),window.location.reload()}))},SGPBSubscribers.prototype.deleteButtonHideShow=function(){if(!jQuery(".subs-delete-checkbox").length)return!1;jQuery(".subs-delete-checkbox").on("click",(function(){jQuery(".sg-subs-delete-button").removeClass("sgpb-btn-disabled"),jQuery(".subs-delete-checkbox").is(":checked")||jQuery(".sg-subs-delete-button").addClass("sgpb-btn-disabled")}))},SGPBSubscribers.prototype.popupsTableRowColorChange=function(){jQuery("table tr th input").on("change",(function(){this.checked?jQuery(this).parent("th").parent("tr").addClass("sgpb-popups-table-selected-row"):jQuery(this).parent("th").parent("tr").removeClass("sgpb-popups-table-selected-row")})),jQuery("table thead tr td input").on("change",(function(){this.checked?jQuery(this).closest("table").find("tbody tr").addClass("sgpb-popups-table-selected-row"):jQuery(this).closest("table").find("tbody tr").removeClass("sgpb-popups-table-selected-row")}))},jQuery(document).ready((function(){(new SGPBSubscribers).init()})); |
* ## [popup-builder/trunk/public/views/allMetaboxesView.php](/changeset/3085485/popup-builder/trunk/public/views/allMetaboxesView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/allMetaboxesView.php")

  | [r2674803](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=2674803#L1 "Show revision 2674803 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | namespace sgpb; |
  |  | 3 | /\* Exit if accessed directly \*/ |
  |  | 4 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 5 | exit; |
  |  | 6 | } |
  | 3 | 7 | $metaboxes = apply\_filters('sgpbAdditionalMetaboxes', array()); |
  |  | 8 |  |
  | 4 | 9 | ?> |
  | 5 | 10 |  |
  | […](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=2674803#L12) | […](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=3085485#L17) |  |
  | 12 | 17 | <div class="sgpb-options-menu" |
  | 13 | 18 | id="<?php echo esc\_attr($key); ?>"> |
  | 14 |  | <h3 class="sgpb-options-menu-header"><?php echo ~~wp\_kses($metabox['displayName'], 'post')~~; ?></h3> |
  |  | 19 | <h3 class="sgpb-options-menu-header"><?php echo isset( $metabox['displayName'] ) ? wp\_kses($metabox['displayName'], 'post') :  ''; ?></h3> |
  | 15 | 20 | <span class="sgpb-options-menu-header\_\_sub"><?php  echo esc\_html($metabox['short\_description']); ?></span> |
  | 16 | 21 | </div> |
  | […](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=2674803#L18) | […](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=3085485#L23) |  |
  | 18 | 23 | <div class="sgpb-options-content"> |
  | 19 | 24 | <div id="options-<?php echo esc\_attr($key); ?>" class="sgpb-metabox sgpb-metabox-options "> |
  | 20 |  | <p class="sgpb-header-h1 sgpb-margin-top-20 sgpb-margin-bottom-50"><?php echo ~~wp\_kses($metabox['displayName'], 'post')~~; ?></p> |
  |  | 25 | <p class="sgpb-header-h1 sgpb-margin-top-20 sgpb-margin-bottom-50"><?php echo isset( $metabox['displayName'] ) ?  wp\_kses($metabox['displayName'], 'post') : ''; ?></p> |
  | 21 | 26 | <?php require\_once( $metabox['filePath'] ); ?> |
  | 22 | 27 | </div> |
  | […](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=2674803#L24) | […](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=3085485#L29) |  |
  | 24 | 29 | <?php }; ?> |
  | 25 | 30 | </div> |
  | 26 |  | <script type="text/javascript"> |
  | 27 |  | let hash = window.location.hash.replace(/^#/,''); |
  |  | 31 | <?php |
  |  | 32 | wp\_register\_script( 'sgpb-allmetaboxesview-js-footer', '', array("jquery"), '', true ); |
  |  | 33 | wp\_enqueue\_script( 'sgpb-allmetaboxesview-js-footer'  ); |
  |  | 34 | wp\_add\_inline\_script( 'sgpb-allmetaboxesview-js-footer', "let hash = window.location.hash.replace(/^#/,''); |
  | 28 | 35 | if (hash) { |
  | 29 | 36 | jQuery('#'+hash).addClass('sgpb-options-menu-active'); |
  | […](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=2674803#L62) | […](/browser/popup-builder/trunk/public/views/allMetaboxesView.php?rev=3085485#L69) |  |
  | 62 | 69 | jQuery('#allMetaboxesView').css('min-height', minHeightShouldBe+'px'); |
  | 63 | 70 | } |
  | 64 |  | }); |
  | 65 |  | ~~</script~~> |
  |  | 71 | });"); |
  |  | 72 | ?> |
* ## [popup-builder/trunk/public/views/behaviorAfterSpecialEventsView.php](/changeset/3085485/popup-builder/trunk/public/views/behaviorAfterSpecialEventsView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/behaviorAfterSpecialEventsView.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/behaviorAfterSpecialEventsView.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/behaviorAfterSpecialEventsView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | namespace sgpb; |
  |  | 3 | /\* Exit if accessed directly \*/ |
  |  | 4 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 5 | exit; |
  |  | 6 | } |
  | 3 | 7 | $data = $popupTypeObj->getOptionValue('sgpb-behavior-after-special-events'); |
  | 4 | 8 | $builder = ConditionBuilder::createBehaviorAfterSpecialEventsConditionBuilder($data); |
* ## [popup-builder/trunk/public/views/closeSettingsView.php](/changeset/3085485/popup-builder/trunk/public/views/closeSettingsView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/closeSettingsView.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 |  |  |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 3 | 6 | use sgpb\AdminHelper; |
  | 4 | 7 | use sgpb\PopupBuilderActivePackage; |
  | 5 | 8 |  |
  | 6 |  | $defaultData          = ConfigDataHelper::defaultData(); |
  |  | 9 | $defaultData          = SGPBConfigDataHelper::defaultData(); |
  | 7 | 10 | $removedOptions       = $popupTypeObj->getRemoveOptions(); |
  | 8 | 11 | $autoClose            = PopupBuilderActivePackage::canUseOption('sgpb-auto-close'); |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L55) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L58) |  |
  | 55 | 58 | <?php if(empty($removedOptions['sgpb-esc-key'])) : ?> |
  | 56 | 59 | <div class="formItem"> |
  | 57 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Dismiss on "esc" key', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>:</span> |
  |  | 60 | <span class="formItem\_\_title"><?php esc\_html\_e('Dismiss on "esc" key', 'popup-builder') ?>:</span> |
  | 58 | 61 | <div class="sgpb-onOffSwitch"> |
  | 59 | 62 | <input type="checkbox" class="sgpb-onOffSwitch-checkbox" id="esc-key" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L67) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L70) |  |
  | 67 | 70 | <div class="sgpb-info-wrapper"> |
  | 68 | 71 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 69 |  | <?php esc\_html\_e('The popup will close if the "Esc" key of your keyboard is clicked.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?> |
  |  | 72 | <?php esc\_html\_e('The popup will close if the "Esc" key of your keyboard is clicked.', 'popup-builder') ?> |
  | 70 | 73 | </span> |
  | 71 | 74 | </div> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L75) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L78) |  |
  | 75 | 78 | <?php if(empty($removedOptions['sgpb-enable-close-button'])) : ?> |
  | 76 | 79 | <div class="formItem"> |
  | 77 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Show "close" button', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>:</span> |
  |  | 80 | <span class="formItem\_\_title"><?php esc\_html\_e('Show "close" button', 'popup-builder') ?>:</span> |
  | 78 | 81 | <div class="sgpb-onOffSwitch onOffswitch\_smallMargin"> |
  | 79 | 82 | <input class="js-checkbox-accordion sgpb-onOffSwitch-checkbox" type="checkbox" id="close-button" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L87) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L90) |  |
  | 87 | 90 | <div class="sgpb-info-wrapper"> |
  | 88 | 91 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 89 |  | <?php esc\_html\_e('Uncheck this option if you don\'t want to show a "close" button on your popup.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?> |
  |  | 92 | <?php esc\_html\_e('Uncheck this option if you don\'t want to show a "close" button on your popup.', 'popup-builder') ?> |
  | 90 | 93 | </span> |
  | 91 | 94 | </div> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L95) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L98) |  |
  | 95 | 98 | <?php if(empty($removedOptions['sgpb-close-button-delay'])) : ?> |
  | 96 | 99 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center sgpb-margin-bottom-20"> |
  | 97 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Button delay', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>:</span> |
  |  | 100 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Button delay', 'popup-builder') ?>:</span> |
  | 98 | 101 | <input type="number" min="0" id="sgpb-close-button-delay" class="subFormItem\_\_input" |
  | 99 | 102 | name="sgpb-close-button-delay" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L103) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L106) |  |
  | 103 | 106 | <div class="sgpb-info-wrapper"> |
  | 104 | 107 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 105 |  | <?php esc\_html\_e('Specify the time (in seconds) after which the close button will appear. The close button will be shown by default without any delay if no time is specified.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?> |
  |  | 108 | <?php esc\_html\_e('Specify the time (in seconds) after which the close button will appear. The close button will be shown by default without any delay if no time is specified.', 'popup-builder') ?> |
  | 106 | 109 | </span> |
  | 107 | 110 | </div> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L110) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L113) |  |
  | 110 | 113 | <?php if(empty($removedOptions['sgpb-close-button-position'])) : ?> |
  | 111 | 114 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center sgpb-margin-bottom-20"> |
  | 112 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Button position', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>:</span> |
  |  | 115 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Button position', 'popup-builder') ?>:</span> |
  | 113 | 116 | <?php echo wp\_kses(AdminHelper::createSelectBox($defaultCloseButtonPositions, $closeButtonPosition, array('name'  => 'sgpb-close-button-position', |
  | 114 | 117 | 'class' => 'js-sg-select2 sgpb-close-button-position' |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L118) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L121) |  |
  | 118 | 121 | <div class="formItem formItem"> |
  | 119 | 122 | <div class="buttonPosition sgpb-button-position-top-js sgpb-display-flex sgpb-align-item-center sgpb-margin-right-20 <?php echo esc\_attr($hideTopPosition); ?>"> |
  | 120 |  | <span class="formItem\_\_direction sgpb-margin-right-30"><?php esc\_html\_e('Top', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></span> |
  |  | 123 | <span class="formItem\_\_direction sgpb-margin-right-30"><?php esc\_html\_e('Top', 'popup-builder') ?></span> |
  | 121 | 124 | <div class="inputPxWrapper"> |
  | 122 | 125 | <input id="sgpb-button-position-top" class="formItem\_\_input" step="0.5" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L127) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L130) |  |
  | 127 | 130 | </div> |
  | 128 | 131 | <div class="buttonPosition sgpb-button-position-right-js sgpb-display-flex sgpb-align-item-center sgpb-margin-right-20 <?php echo esc\_attr($hideRightPosition); ?>"> |
  | 129 |  | <span class="formItem\_\_direction sgpb-margin-right-20"><?php esc\_html\_e('Right', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></span> |
  |  | 132 | <span class="formItem\_\_direction sgpb-margin-right-20"><?php esc\_html\_e('Right', 'popup-builder') ?></span> |
  | 130 | 133 | <div class="inputPxWrapper "> |
  | 131 | 134 | <input id="sgpb-button-position-right" class="formItem\_\_input" step="0.5" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L136) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L139) |  |
  | 136 | 139 | </div> |
  | 137 | 140 | <div class="buttonPosition sgpb-button-position-bottom-js sgpb-display-flex sgpb-align-item-center sgpb-margin-right-20 <?php echo esc\_attr($hideBottomPosition); ?>"> |
  | 138 |  | <span class="formItem\_\_direction sgpb-margin-right-20"><?php esc\_html\_e('Bottom', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></span> |
  |  | 141 | <span class="formItem\_\_direction sgpb-margin-right-20"><?php esc\_html\_e('Bottom', 'popup-builder') ?></span> |
  | 139 | 142 | <div class="inputPxWrapper"> |
  | 140 | 143 | <input id="sgpb-button-position-bottom" class="formItem\_\_input" step="0.5" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L145) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L148) |  |
  | 145 | 148 | </div> |
  | 146 | 149 | <div class="buttonPosition sgpb-button-position-left-js sgpb-display-flex sgpb-align-item-center sgpb-margin-right-20 <?php echo esc\_attr($hideLeftPosition); ?>"> |
  | 147 |  | <span class="formItem\_\_direction sgpb-margin-right-40"><?php esc\_html\_e('Left', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></span> |
  |  | 150 | <span class="formItem\_\_direction sgpb-margin-right-40"><?php esc\_html\_e('Left', 'popup-builder') ?></span> |
  | 148 | 151 | <div class="inputPxWrapper"> |
  | 149 | 152 | <input id="sgpb-button-position-left" class="formItem\_\_input" step="0.5" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L157) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L160) |  |
  | 157 | 160 | <div class="<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-popup-themes') == 'sgpb-theme-4') ? 'sgpb-display-none ' : ''); ?>sgpb-close-button-image-option-wrapper"> |
  | 158 | 161 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center sgpb-margin-bottom-20"> |
  | 159 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Button image', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>:</span> |
  |  | 162 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Button image', 'popup-builder') ?>:</span> |
  | 160 | 163 | <div type="text" class="subFormItem\_\_x sgpb-margin-right-10"> |
  | 161 | 164 | <div class="sgpb-show-button-image-container" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L167) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L170) |  |
  | 167 | 170 | <div class="icons\_\_item icons\_blue sgpb-margin-right-10"> |
  | 168 | 171 | <img id="js-button-upload-image-button" |
  | 169 |  | src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/cloud.svg'); ?>" |
  | 170 |  | alt="<?php esc\_html\_e('Change image', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>"> |
  |  | 172 | src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/cloud.svg'); ?>" |
  |  | 173 | alt="<?php esc\_html\_e('Change image', 'popup-builder') ?>"> |
  | 171 | 174 | </div> |
  | 172 | 175 | <div class="icons\_\_item icons\_pink js-sgpb-remove-close-button-image<?php echo esc\_attr((!$popupTypeObj->getOptionValue('sgpb-button-image')) ? ' sg-hide' : ''); ?>"> |
  | 173 | 176 | <img id="js-button-upload-image-remove-button" |
  | 174 |  | src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/recycle-bin.svg'); ?>" |
  | 175 |  | alt="<?php esc\_html\_e('Remove', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>"> |
  |  | 177 | src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/recycle-bin.svg'); ?>" |
  |  | 178 | alt="<?php esc\_html\_e('Remove', 'popup-builder') ?>"> |
  | 176 | 179 | </div> |
  | 177 | 180 | <div class="sgpb-button-image-uploader-wrapper"> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L185) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L188) |  |
  | 185 | 188 | <div class="buttonPosition\_\_wrapper"> |
  | 186 | 189 | <div class="buttonPosition sgpb-display-flex sgpb-align-item-center sgpb-margin-bottom-20"> |
  | 187 |  | <span class="formItem\_\_direction sgpb-margin-right-20"><?php esc\_html\_e('Width&nbsp;', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></span> |
  |  | 190 | <span class="formItem\_\_direction sgpb-margin-right-20"><?php esc\_html\_e('Width&nbsp;', 'popup-builder') ?></span> |
  | 188 | 191 | <div class="inputPxWrapper"> |
  | 189 | 192 | <input class="formItem\_\_input" type="number" min="0" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L195) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L198) |  |
  | 195 | 198 | </div> |
  | 196 | 199 | <div class="buttonPosition sgpb-display-flex sgpb-align-item-center sgpb-margin-bottom-20"> |
  | 197 |  | <span class="formItem\_\_direction sgpb-margin-right-20"><?php esc\_html\_e('Height', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></span> |
  |  | 200 | <span class="formItem\_\_direction sgpb-margin-right-20"><?php esc\_html\_e('Height', 'popup-builder') ?></span> |
  | 198 | 201 | <div class="inputPxWrapper "> |
  | 199 | 202 | <input class="formItem\_\_input" type="number" min="0" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L209) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L212) |  |
  | 209 | 212 | </div> |
  | 210 | 213 | <div class="formItem sgpb-close-button-border-options<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-popup-themes') != 'sgpb-theme-3') ? ' sg-hide' : ''); ?>"> |
  | 211 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Popup border color', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>:</span> |
  |  | 214 | <span class="formItem\_\_title"><?php esc\_html\_e('Popup border color', 'popup-builder') ?>:</span> |
  | 212 | 215 | <div class="sgpb-color-picker-wrapper sgpb-overlay-color unhideColorPicker subFormItem"> |
  | 213 | 216 | <input class="sgpb-color-picker sgpb-border-color" type="text" name="sgpb-border-color" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L216) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L219) |  |
  | 216 | 219 | </div> |
  | 217 | 220 | <div class="formItem sgpb-close-button-border-options<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-popup-themes') != 'sgpb-theme-3') ? ' sg-hide' : ''); ?>"> |
  | 218 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Popup border radius', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>:</span> |
  |  | 221 | <span class="formItem\_\_title"><?php esc\_html\_e('Popup border radius', 'popup-builder') ?>:</span> |
  | 219 | 222 | <input class="formItem\_\_input sgpb-margin-right-10" type="number" min="0" name="sgpb-border-radius" |
  | 220 | 223 | value="<?php echo (esc\_attr($popupTypeObj->getOptionValue('sgpb-border-radius'))) ? esc\_attr($popupTypeObj->getOptionValue('sgpb-border-radius')) : '0'; ?>"> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L225) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L228) |  |
  | 225 | 228 | <div class="<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-popup-themes') != 'sgpb-theme-4') ? 'sg-hide ' : ''); ?>sgpb-close-button-text-option-wrapper"> |
  | 226 | 229 | <div class="formItem formItem\_itemsCentered"> |
  | 227 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Button text', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 230 | <span class="formItem\_\_title"><?php esc\_html\_e('Button text', 'popup-builder'); ?>:</span> |
  | 228 | 231 | <input class="formItem\_\_input formItem\_\_input\_sgpb-button-text" type="text" name="sgpb-button-text" |
  | 229 |  | value="<?php echo (esc\_attr($popupTypeObj->getOptionValue('sgpb-button-text'))) ? esc\_attr($popupTypeObj->getOptionValue('sgpb-button-text')) : esc\_html\_\_('Close', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" |
  |  | 232 | value="<?php echo (esc\_attr($popupTypeObj->getOptionValue('sgpb-button-text'))) ? esc\_attr($popupTypeObj->getOptionValue('sgpb-button-text')) : esc\_html\_\_('Close', 'popup-builder'); ?>" |
  | 230 | 233 | autocomplete="off"> |
  | 231 | 234 | </div> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L235) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L238) |  |
  | 235 | 238 | <?php if(empty($removedOptions['sgpb-disable-page-scrolling'])): ?> |
  | 236 | 239 | <div class="formItem"> |
  | 237 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Dismiss on overlay click', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>:</span> |
  |  | 240 | <span class="formItem\_\_title"><?php esc\_html\_e('Dismiss on overlay click', 'popup-builder') ?>:</span> |
  | 238 | 241 | <div class="sgpb-onOffSwitch"> |
  | 239 | 242 | <input type="checkbox" class="sgpb-onOffSwitch-checkbox" id="overlay-click" |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L247) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L250) |  |
  | 247 | 250 | <div class="sgpb-info-wrapper"> |
  | 248 | 251 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 249 |  | <?php esc\_html\_e('The popup will close when clicked on the overlay of the popup.', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?> |
  |  | 252 | <?php esc\_html\_e('The popup will close when clicked on the overlay of the popup.', 'popup-builder') ?> |
  | 250 | 253 | </span> |
  | 251 | 254 | </div> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L256) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L259) |  |
  | 256 | 259 | <?php if ($disablePopupClosing): ?> |
  | 257 | 260 | <div class="formItem"> |
  | 258 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Disable popup closing', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 261 | <span class="formItem\_\_title"><?php esc\_html\_e('Disable popup closing', 'popup-builder')?>:</span> |
  | 259 | 262 | <div class="sgpb-onOffSwitch"> |
  | 260 | 263 | <input type="checkbox" class="sgpb-onOffSwitch-checkbox" id="popup-closing" name="sgpb-disable-popup-closing" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-disable-popup-closing')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L267) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L270) |  |
  | 267 | 270 | <div class="sgpb-info-wrapper"> |
  | 268 | 271 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 269 |  | <?php esc\_html\_e('The users will not be able to close the popup, if this option is checked.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 272 | <?php esc\_html\_e('The users will not be able to close the popup, if this option is checked.', 'popup-builder')?> |
  | 270 | 273 | </span> |
  | 271 | 274 | </div> |
  | 272 | 275 | </div> |
  | 273 | 276 | <?php else: ?> |
  | 274 |  | <div class="formItem sgpb-padding-20 sgpb-option-disable" onclick="window.open('<?php echo esc\_url~~\_raw~~(SG\_POPUP\_ADVANCED\_CLOSING\_URL);?>', '\_blank')"> |
  | 275 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Disable popup closing', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 277 | <div class="formItem sgpb-padding-20 sgpb-option-disable" onclick="window.open('<?php echo esc\_url(SG\_POPUP\_ADVANCED\_CLOSING\_URL);?>', '\_blank')"> |
  |  | 278 | <span class="formItem\_\_title"><?php esc\_html\_e('Disable popup closing', 'popup-builder')?>:</span> |
  | 276 | 279 | <div class="sgpb-onOffSwitch"> |
  | 277 | 280 | <input type="checkbox" class="sgpb-onOffSwitch-checkbox" id="popup-closing" name="sgpb-disable-popup-closing" disabled> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L284) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L287) |  |
  | 284 | 287 | <div class="sgpb-info-wrapper"> |
  | 285 | 288 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 286 |  | <?php esc\_html\_e('The users will not be able to close the popup, if this option is checked.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 289 | <?php esc\_html\_e('The users will not be able to close the popup, if this option is checked.', 'popup-builder')?> |
  | 287 | 290 | </span> |
  | 288 | 291 | </div> |
  | 289 | 292 | <div class="sgpb-unlock-options"> |
  | 290 | 293 | <div class="sgpb-unlock-options\_\_icon"> |
  | 291 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/time-is-money.svg');?>" alt="Time icon" width="45" height="45" /> |
  | 292 |  | </div> |
  | 293 |  | <span class="sgpb-unlock-options\_\_title"><?php esc\_html\_e('Unlock Option', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 294 | <img src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/time-is-money.svg');?>" alt="Time icon" width="45" height="45" /> |
  |  | 295 | </div> |
  |  | 296 | <span class="sgpb-unlock-options\_\_title"><?php esc\_html\_e('Unlock Option', 'popup-builder'); ?></span> |
  | 294 | 297 | </div> |
  | 295 | 298 | </div> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L299) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L302) |  |
  | 299 | 302 | <?php if ($autoClose): ?> |
  | 300 | 303 | <div class="formItem"> |
  | 301 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Auto close popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 304 | <span class="formItem\_\_title"><?php esc\_html\_e('Auto close popup', 'popup-builder')?>:</span> |
  | 302 | 305 | <div class="sgpb-onOffSwitch"> |
  | 303 | 306 | <input type="checkbox" id="auto-close" class="js-checkbox-accordion sgpb-onOffSwitch-checkbox" name="sgpb-auto-close" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-auto-close')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L309) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L312) |  |
  | 309 | 312 | </div> |
  | 310 | 313 | <?php else: ?> |
  | 311 |  | <div class="formItem sgpb-padding-20 sgpb-option-disable" onclick="window.open('<?php echo esc\_url~~\_raw~~(SG\_POPUP\_ADVANCED\_CLOSING\_URL);?>', '\_blank')"> |
  | 312 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Auto close popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 314 | <div class="formItem sgpb-padding-20 sgpb-option-disable" onclick="window.open('<?php echo esc\_url(SG\_POPUP\_ADVANCED\_CLOSING\_URL);?>', '\_blank')"> |
  |  | 315 | <span class="formItem\_\_title"><?php esc\_html\_e('Auto close popup', 'popup-builder')?>:</span> |
  | 313 | 316 | <div class="sgpb-onOffSwitch"> |
  | 314 | 317 | <input type="checkbox" id="auto-close" name="sgpb-auto-close" disabled class="sgpb-onOffSwitch-checkbox"> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L320) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L323) |  |
  | 320 | 323 | <div class="sgpb-unlock-options sgpb-margin-left-20"> |
  | 321 | 324 | <div class="sgpb-unlock-options\_\_icon"> |
  | 322 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/time-is-money.svg');?>" alt="Time icon" width="45" height="45" /> |
  | 323 |  | </div> |
  | 324 |  | <span class="sgpb-unlock-options\_\_title"><?php esc\_html\_e('Unlock Option', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 325 | <img src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/time-is-money.svg');?>" alt="Time icon" width="45" height="45" /> |
  |  | 326 | </div> |
  |  | 327 | <span class="sgpb-unlock-options\_\_title"><?php esc\_html\_e('Unlock Option', 'popup-builder'); ?></span> |
  | 325 | 328 | </div> |
  | 326 | 329 | </div> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L334) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L337) |  |
  | 334 | 337 | <?php if ($closeAfterPageScroll): ?> |
  | 335 | 338 | <div class="formItem"> |
  | 336 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Close popup after the page scroll', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 339 | <span class="formItem\_\_title"><?php esc\_html\_e('Close popup after the page scroll', 'popup-builder'); ?>:</span> |
  | 337 | 340 | <div class="sgpb-onOffSwitch"> |
  | 338 | 341 | <input type="checkbox" class="sgpb-onOffSwitch-checkbox" id="sgpb-close-after-page-scroll" class="" name="sgpb-close-after-page-scroll" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-close-after-page-scroll')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L344) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L347) |  |
  | 344 | 347 | </div> |
  | 345 | 348 | <?php else: ?> |
  | 346 |  | <div class="formItem sgpb-padding-20 sgpb-option-disable" onclick="window.open('<?php echo esc\_url~~\_raw~~(SG\_POPUP\_ADVANCED\_CLOSING\_URL);?>', '\_blank')"> |
  | 347 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Close popup after the page scroll', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 349 | <div class="formItem sgpb-padding-20 sgpb-option-disable" onclick="window.open('<?php echo esc\_url(SG\_POPUP\_ADVANCED\_CLOSING\_URL);?>', '\_blank')"> |
  |  | 350 | <span class="formItem\_\_title"><?php esc\_html\_e('Close popup after the page scroll', 'popup-builder'); ?>:</span> |
  | 348 | 351 | <div class="sgpb-onOffSwitch"> |
  | 349 | 352 | <input type="checkbox" id="sgpb-close-after-page-scroll" name="sgpb-close-after-page-scroll" disabled> |
  | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=2686454#L355) | […](/browser/popup-builder/trunk/public/views/closeSettingsView.php?rev=3085485#L358) |  |
  | 355 | 358 | <div class="sgpb-unlock-options sgpb-margin-left-20"> |
  | 356 | 359 | <div class="sgpb-unlock-options\_\_icon"> |
  | 357 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/time-is-money.svg');?>" alt="Time icon" width="45" height="45" /> |
  | 358 |  | </div> |
  | 359 |  | <span class="sgpb-unlock-options\_\_title"><?php esc\_html\_e('Unlock Option', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 360 | <img src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/time-is-money.svg');?>" alt="Time icon" width="45" height="45" /> |
  |  | 361 | </div> |
  |  | 362 | <span class="sgpb-unlock-options\_\_title"><?php esc\_html\_e('Unlock Option', 'popup-builder'); ?></span> |
  | 360 | 363 | </div> |
  | 361 | 364 | </div> |
* ## [popup-builder/trunk/public/views/conditionsView.php](/changeset/3085485/popup-builder/trunk/public/views/conditionsView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/conditionsView.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 7 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 4 | 8 | $defaultConditionsAdvancedTargeting = $defaultData['freeConditionsAdvancedTargeting']; |
  | 5 | 9 | $defaultConditionsGeoTargeting = $defaultData['freeConditionsGeoTargeting']; |
  | […](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=2686454#L9) | […](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=3085485#L13) |  |
  | 9 | 13 | <div class="formItem sgpb-pro-conditions-main-wrapper sgpb-display-flex"> |
  | 10 | 14 | <div class="sgpb-pro-conditions-box sgpb-margin-right-20"> |
  | 11 |  | <img class="sgpb-pro-conditions-extension-icon sgpb-margin-y-20" src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL); ?>icons/geo-targeting.svg" width="50" height="50"> |
  |  | 15 | <img class="sgpb-pro-conditions-extension-icon sgpb-margin-y-20" src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL); ?>icons/geo-targeting.svg" width="50" height="50"> |
  | 12 | 16 | <span class="sgpb-pro-conditions-title"> |
  | 13 |  | <?php esc\_html\_e('Geo Targeting', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 17 | <?php esc\_html\_e('Geo Targeting', 'popup-builder');?> |
  | 14 | 18 | </span> |
  | 15 | 19 | <span class="sgpb-pro-conditions-text"> |
  | 16 |  | <?php esc\_html\_e('If you want to unlock Geo Targeting you need to activate this extension', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?>. |
  |  | 20 | <?php esc\_html\_e('If you want to unlock Geo Targeting you need to activate this extension', 'popup-builder');?>. |
  | 17 | 21 | </span> |
  | 18 |  | <a href="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_GEO\_TARGETING\_URL); ?>" class="sgpb-btn sgpb-btn-blue sgpb-btn--rounded sgpb-margin-y-30"> |
  | 19 |  | <?php esc\_html\_e('Buy Now', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 22 | <a href="<?php echo esc\_url(SG\_POPUP\_GEO\_TARGETING\_URL); ?>" class="sgpb-btn sgpb-btn-blue sgpb-btn--rounded sgpb-margin-y-30"> |
  |  | 23 | <?php esc\_html\_e('Buy Now', 'popup-builder');?> |
  | 20 | 24 | </a> |
  | 21 | 25 | <div class="sgpb-pro-conditions-inline-border sgpb-margin-bottom-20"></div> |
  | 22 | 26 | <a class="sgpb-pro-conditions-pro-url sgpb-pro-conditions-pro-url-show-js" href="javascript:void(0)"> |
  | 23 |  | <?php esc\_html\_e('More Details', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  | 24 |  | <img class="sgpb-pro-conditions-extension-icon" src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL); ?>icons/arrow-down.png" width="20" height="20"> |
  |  | 27 | <?php esc\_html\_e('More Details', 'popup-builder');?> |
  |  | 28 | <img class="sgpb-pro-conditions-extension-icon" src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL); ?>icons/arrow-down.png" width="20" height="20"> |
  | 25 | 29 | </a> |
  | 26 | 30 | <div class="sgpb-pro-conditions-list" style="display: none;"> |
  | […](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=2686454#L31) | […](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=3085485#L35) |  |
  | 31 | 35 | </div> |
  | 32 | 36 | <a class="sgpb-pro-conditions-pro-url sgpb-pro-conditions-pro-url-hide-js sgpb-margin-top-20" href="javascript:void(0)" style="display: none;"> |
  | 33 |  | <?php esc\_html\_e('See Less', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  | 34 |  | <img class="sgpb-pro-conditions-extension-icon" src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL); ?>icons/arrow-up.png" width="20" height="20"> |
  |  | 37 | <?php esc\_html\_e('See Less', 'popup-builder');?> |
  |  | 38 | <img class="sgpb-pro-conditions-extension-icon" src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL); ?>icons/arrow-up.png" width="20" height="20"> |
  | 35 | 39 | </a> |
  | 36 | 40 | </div> |
  | 37 | 41 | <div class="sgpb-pro-conditions-box"> |
  | 38 |  | <img class="sgpb-pro-conditions-extension-icon sgpb-margin-y-20" src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL); ?>icons/sgpbAdvancedTargeting.svg" width="50" height="50"> |
  |  | 42 | <img class="sgpb-pro-conditions-extension-icon sgpb-margin-y-20" src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL); ?>icons/sgpbAdvancedTargeting.svg" width="50" height="50"> |
  | 39 | 43 | <span class="sgpb-pro-conditions-title"> |
  | 40 |  | <?php esc\_html\_e('Advanced Targeting', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 44 | <?php esc\_html\_e('Advanced Targeting', 'popup-builder');?> |
  | 41 | 45 | </span> |
  | 42 | 46 | <span class="sgpb-pro-conditions-text "> |
  | 43 |  | <?php esc\_html\_e('If you want to unlock Advanced Targeting you need to activate this extension', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?>. |
  |  | 47 | <?php esc\_html\_e('If you want to unlock Advanced Targeting you need to activate this extension', 'popup-builder');?>. |
  | 44 | 48 | </span> |
  | 45 |  | <a href="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_ADVANCED\_TARGETING\_URL); ?>" class="sgpb-btn sgpb-btn-blue sgpb-btn--rounded sgpb-margin-y-30"> |
  | 46 |  | <?php esc\_html\_e('Buy Now', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 49 | <a href="<?php echo esc\_url(SG\_POPUP\_ADVANCED\_TARGETING\_URL); ?>" class="sgpb-btn sgpb-btn-blue sgpb-btn--rounded sgpb-margin-y-30"> |
  |  | 50 | <?php esc\_html\_e('Buy Now', 'popup-builder');?> |
  | 47 | 51 | </a> |
  | 48 | 52 | <div class="sgpb-pro-conditions-inline-border sgpb-margin-bottom-20"></div> |
  | 49 | 53 | <a class="sgpb-pro-conditions-pro-url sgpb-pro-conditions-pro-url-show-js" href="javascript:void(0)"> |
  | 50 |  | <?php esc\_html\_e('More Details', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  | 51 |  | <img class="sgpb-pro-conditions-extension-icon" src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL); ?>icons/arrow-down.png" width="20" height="20"> |
  |  | 54 | <?php esc\_html\_e('More Details', 'popup-builder');?> |
  |  | 55 | <img class="sgpb-pro-conditions-extension-icon" src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL); ?>icons/arrow-down.png" width="20" height="20"> |
  | 52 | 56 | </a> |
  | 53 | 57 | <div class="sgpb-pro-conditions-list" style="display: none;"> |
  | […](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=2686454#L58) | […](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=3085485#L62) |  |
  | 58 | 62 | </div> |
  | 59 | 63 | <a class="sgpb-pro-conditions-pro-url sgpb-pro-conditions-pro-url-hide-js sgpb-margin-top-20" href="javascript:void(0)" style="display: none;"> |
  | 60 |  | <?php esc\_html\_e('See Less', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  | 61 |  | <img class="sgpb-pro-conditions-extension-icon" src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL); ?>icons/arrow-up.png" width="20" height="20"> |
  |  | 64 | <?php esc\_html\_e('See Less', 'popup-builder');?> |
  |  | 65 | <img class="sgpb-pro-conditions-extension-icon" src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL); ?>icons/arrow-up.png" width="20" height="20"> |
  | 62 | 66 | </a> |
  | 63 | 67 | </div> |
  | 64 | 68 | </div> |
  | 65 |  | <script type="text/javascript"> |
  | 66 |  | jQuery('.sgpb-pro-conditions-pro-url-show-js').click(function() { |
  |  | 69 | <?php |
  |  | 70 | wp\_register\_script( 'sgpb-conditions-views-js-footer', '', array("jquery"), '', true ); |
  |  | 71 | wp\_enqueue\_script( 'sgpb-conditions-views-js-footer'  ); |
  |  | 72 | wp\_add\_inline\_script( 'sgpb-conditions-views-js-footer', "jQuery('.sgpb-pro-conditions-pro-url-show-js').click(function() { |
  | 67 | 73 | jQuery(this).next('.sgpb-pro-conditions-list').show(); |
  | 68 | 74 | jQuery(this).hide(); |
  | […](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=2686454#L73) | […](/browser/popup-builder/trunk/public/views/conditionsView.php?rev=3085485#L79) |  |
  | 73 | 79 | jQuery(this).hide(); |
  | 74 | 80 | jQuery(this).parent().find('.sgpb-pro-conditions-pro-url-show-js').show(); |
  | 75 |  | }); |
  | 76 |  | </script> |
  |  | 81 | });"); |
  |  | 82 | ?> |
  |  | 83 |  |
  | 77 | 84 | </div> |
* ## [popup-builder/trunk/public/views/customEditor.php](/changeset/3085485/popup-builder/trunk/public/views/customEditor.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/customEditor.php")

  | [r2688779](/browser/popup-builder/trunk/public/views/customEditor.php?rev=2688779#L1 "Show revision 2688779 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/customEditor.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | $popupId = !empty($\_GET['post']) ? (int)sanitize\_text\_field($\_GET['post']) : 0; |
  | 3 | 7 | $editorModeJs = htmlentities('text/javascript'); |
  | 4 | 8 | $editorModeCss = htmlentities('text/css'); |
  | 5 | 9 |  |
  | 6 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 10 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 7 | 11 | $jsDefaultData = $defaultData['customEditorContent']['js']; |
  | 8 | 12 | $cssDefaultData = $defaultData['customEditorContent']['css']; |
  | […](/browser/popup-builder/trunk/public/views/customEditor.php?rev=2688779#L12) | […](/browser/popup-builder/trunk/public/views/customEditor.php?rev=3085485#L16) |  |
  | 12 | 16 |  |
  | 13 | 17 | <div class="sgpb-wrapper sgpb-customJsOrCss"> |
  | 14 |  | <p class="sgpb-customJsOrCss\_text"><?php esc\_html\_e('This section is for adding custom codes (CSS or JS) for the popup, it requires some coding knowledge', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?>.</p> |
  | 15 |  | <p class="sgpb-customJsOrCss\_text"><?php esc\_html\_e('You may use your custom codes for extra actions connected to the popup opening (before, after, etc.) in the fields below', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?>.</p> |
  |  | 18 | <p class="sgpb-customJsOrCss\_text"><?php esc\_html\_e('This section is for adding custom codes (CSS or JS) for the popup, it requires some coding knowledge', 'popup-builder');?>.</p> |
  |  | 19 | <p class="sgpb-customJsOrCss\_text"><?php esc\_html\_e('You may use your custom codes for extra actions connected to the popup opening (before, after, etc.) in the fields below', 'popup-builder');?>.</p> |
  | 16 | 20 | <!-- editor buttons --> |
  | 17 | 21 | <div class="sgpb-tabs sgpb-margin-y-30"> |
* ## [popup-builder/trunk/public/views/debugReport.php](/changeset/3085485/popup-builder/trunk/public/views/debugReport.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/debugReport.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/debugReport.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/debugReport.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 3 | exit; |
  |  | 4 | } |
  | 2 | 5 | global $SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS; |
  | 3 |  | $SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS = json\_encode($SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS); |
  |  | 6 | $SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS = wp\_json\_encode($SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS); |
  | 4 | 7 |  |
  | 5 | 8 | echo wp\_kses('<script>var SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS = '.$SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS.';</script>', \sgpb\AdminHelper::allowed\_html\_tags()); |
  | 6 | 9 | ?> |
  |  | 10 | <?php |
  |  | 11 | wp\_register\_script( 'sgpb-debugReport-js-footer', '', array("jquery"), '', true ); |
  |  | 12 | wp\_enqueue\_script( 'sgpb-debugReport-js-footer'  ); |
  |  | 13 | wp\_add\_inline\_script( 'sgpb-debugReport-js-footer', "function debugModeInit() |
  |  | 14 | { |
  |  | 15 | if (typeof SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS == 'undefined') { |
  |  | 16 | return false; |
  |  | 17 | } |
  | 7 | 18 |  |
  | 8 |  | <script type="text/javascript"> |
  | 9 |  | function debugModeInit() |
  | 10 |  | { |
  | 11 |  | if (typeof SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS == 'undefined') { |
  | 12 |  | return false; |
  | 13 |  | } |
  |  | 19 | console.log('%c POPUP BUILDER AVAILABLE DEBUG DETAILS', 'background: #eeeeee; color: #000000'); |
  | 14 | 20 |  |
  | 15 |  | console.log('%c POPUP BUILDER AVAILABLE DEBUG DETAILS', 'background: #eeeeee; color: #000000'); |
  |  | 21 | for (var popupId in SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS) { |
  |  | 22 | console.groupCollapsed('Details for the '+ popupId +' popup:'); |
  | 16 | 23 |  |
  | 17 |  | for (var popupId in SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS) { |
  | 18 |  | console.groupCollapsed('Details for the '+ popupId +' popup:'); |
  |  | 24 | var debugParamas = SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS[popupId]; |
  |  | 25 | for (var i in debugParamas) { |
  |  | 26 | if (jQuery.isEmptyObject(debugParamas[i])) { |
  |  | 27 | continue; |
  |  | 28 | } |
  | 19 | 29 |  |
  | 20 |  | var debugParamas = SGPB\_DEBUG\_POPUP\_BUILDER\_DETAILS[popupId]; |
  | 21 |  | for (var i in debugParamas) { |
  | 22 |  | if (jQuery.isEmptyObject(debugParamas[i])) { |
  | 23 |  | continue; |
  |  | 30 | var paramName = debugParamas[i]; |
  |  | 31 |  |
  |  | 32 | console.info('%c '+i.toUpperCase() +': ', 'background: #ccc; color: #000000'); |
  |  | 33 |  |
  |  | 34 | for (var x in paramName) { |
  |  | 35 | if (typeof paramName[x]['name'] != 'undefined') { |
  |  | 36 | console.log('%c Option name ------- ' + paramName[x]['name'], 'background: #eeeeee; color: #000000'); |
  |  | 37 | } |
  |  | 38 | if (typeof paramName[x]['operator'] != 'undefined') { |
  |  | 39 | console.log('%c Option operator --- ' + paramName[x]['operator'], 'background: #eeeeee; color: #000000'); |
  |  | 40 | } |
  |  | 41 | if (typeof paramName[x]['value'] != 'undefined') { |
  |  | 42 | if (typeof paramName[x]['value'] == 'string') { |
  |  | 43 | /\* when empty string we need to set it 0 (delay) \*/ |
  |  | 44 | if (paramName[x]['value'] == '') { |
  |  | 45 | paramName[x]['value'] = 0; |
  |  | 46 | } |
  |  | 47 | console.log('%c Option value ------ ' + paramName[x]['value'], 'background: #eeeeee; color: #000000'); |
  |  | 48 | } |
  |  | 49 | else { |
  |  | 50 | console.log('%c Option value ------ ' + Object.values(paramName[x]['value']), 'background: #eeeeee; color: #000000'); |
  |  | 51 | } |
  |  | 52 | } |
  |  | 53 | if (i == 'options') { |
  |  | 54 | // all other options here |
  |  | 55 | for (var option in paramName[x]) { |
  |  | 56 | console.log('%c '+option+ ' - ' + paramName[x][option], 'background: #eeeeee; color: #000000'); |
  |  | 57 | } |
  |  | 58 | } |
  |  | 59 | console.log('<->'); |
  |  | 60 | } |
  | 24 | 61 | } |
  |  | 62 | console.groupEnd(); |
  |  | 63 | } |
  |  | 64 | }; |
  | 25 | 65 |  |
  | 26 |  | var paramName = debugParamas[i]; |
  | 27 |  |  |
  | 28 |  | console.info('%c '+i.toUpperCase() +': ', 'background: #ccc; color: #000000'); |
  | 29 |  |  |
  | 30 |  | for (var x in paramName) { |
  | 31 |  | if (typeof paramName[x]['name'] != 'undefined') { |
  | 32 |  | console.log('%c Option name ------- ' + paramName[x]['name'], 'background: #eeeeee; color: #000000'); |
  | 33 |  | } |
  | 34 |  | if (typeof paramName[x]['operator'] != 'undefined') { |
  | 35 |  | console.log('%c Option operator --- ' + paramName[x]['operator'], 'background: #eeeeee; color: #000000'); |
  | 36 |  | } |
  | 37 |  | if (typeof paramName[x]['value'] != 'undefined') { |
  | 38 |  | if (typeof paramName[x]['value'] == 'string') { |
  | 39 |  | /\* when empty string we need to set it 0 (delay) \*/ |
  | 40 |  | if (paramName[x]['value'] == '') { |
  | 41 |  | paramName[x]['value'] = 0; |
  | 42 |  | } |
  | 43 |  | console.log('%c Option value ------ ' + paramName[x]['value'], 'background: #eeeeee; color: #000000'); |
  | 44 |  | } |
  | 45 |  | else { |
  | 46 |  | console.log('%c Option value ------ ' + Object.values(paramName[x]['value']), 'background: #eeeeee; color: #000000'); |
  | 47 |  | } |
  | 48 |  | } |
  | 49 |  | if (i == 'options') { |
  | 50 |  | // all other options here |
  | 51 |  | for (var option in paramName[x]) { |
  | 52 |  | console.log('%c '+option+ ' - ' + paramName[x][option], 'background: #eeeeee; color: #000000'); |
  | 53 |  | } |
  | 54 |  | } |
  | 55 |  | console.log('<->'); |
  | 56 |  | } |
  | 57 |  | } |
  | 58 |  | console.groupEnd(); |
  | 59 |  | } |
  | 60 |  | }; |
  | 61 |  |  |
  | 62 |  | jQuery(document).ready(function() |
  | 63 |  | { |
  | 64 |  | debugModeInit(); |
  | 65 |  | }); |
  | 66 |  |  |
  | 67 |  | </script> |
  |  | 66 | jQuery(document).ready(function() |
  |  | 67 | { |
  |  | 68 | debugModeInit(); |
  |  | 69 | });"); |
  |  | 70 | ?> |
* ## [popup-builder/trunk/public/views/dimensionsView.php](/changeset/3085485/popup-builder/trunk/public/views/dimensionsView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/dimensionsView.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/dimensionsView.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/dimensionsView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 | 7 | use sgpb\MultipleChoiceButton; |
  | 4 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 8 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 5 | 9 | $removedOptions = $popupTypeObj->getRemoveOptions(); |
  | 6 | 10 | $multipleChoiceButton = new MultipleChoiceButton($defaultData['popupDimensions'], $popupTypeObj->getOptionValue('sgpb-popup-dimension-mode')); |
  | […](/browser/popup-builder/trunk/public/views/dimensionsView.php?rev=2686454#L16) | […](/browser/popup-builder/trunk/public/views/dimensionsView.php?rev=3085485#L20) |  |
  | 16 | 20 | <div class="sg-hide sg-full-width" id="responsive-dimension-wrapper"> |
  | 17 | 21 | <div class="subFormItem<?php echo esc\_attr($subOptionClass); ?>"> |
  | 18 |  | <span class="subFormItem\_\_title" for="max-height"><?php esc\_html\_e('Size', ~~SG\_POPUP\_TEXT\_DOMAIN~~)  ?>:</span> |
  |  | 22 | <span class="subFormItem\_\_title" for="max-height"><?php esc\_html\_e('Size', 'popup-builder')  ?>:</span> |
  | 19 | 23 | <?php echo wp\_kses(AdminHelper::createSelectBox($defaultData['responsiveDimensions'], $popupTypeObj->getOptionValue('sgpb-responsive-dimension-measure'), array('name' => 'sgpb-responsive-dimension-measure', 'class'=>'js-sg-select2 sgpb-responsive-mode-change-js')), $allowed\_html); ?> |
  | 20 | 24 | </div> |
  | […](/browser/popup-builder/trunk/public/views/dimensionsView.php?rev=2686454#L22) | […](/browser/popup-builder/trunk/public/views/dimensionsView.php?rev=3085485#L26) |  |
  | 22 | 26 | <div class="<?php echo (!empty($removedOptions['sgpb-popup-dimension-mode'])) ? esc\_attr('') : esc\_attr('sg-hide '); ?>sg-full-width formItem" id="custom-dimension-wrapper"> |
  | 23 | 27 | <div class="subFormItem<?php echo esc\_attr($subOptionClass); ?>"> |
  | 24 |  | <span class="subFormItem\_\_title"><?php esc\_html\_e('Width', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  | 25 |  | <input type="text" id="width" class="subFormItem\_\_input" name="sgpb-width" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', ~~SG\_POPUP\_TEXT\_DOMAIN)?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', SG\_POPUP\_TEXT\_DOMAIN~~)  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-width')) ?>"> |
  |  | 28 | <span class="subFormItem\_\_title"><?php esc\_html\_e('Width', 'popup-builder'); ?>:</span> |
  |  | 29 | <input type="text" id="width" class="subFormItem\_\_input" name="sgpb-width" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', 'popup-builder')?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', 'popup-builder')  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-width')) ?>"> |
  | 26 | 30 | </div> |
  | 27 | 31 | <div class="subFormItem<?php echo esc\_attr($subOptionClass); ?>"> |
  | 28 |  | <span class="subFormItem\_\_title"><?php esc\_html\_e('Height', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  | 29 |  | <input type="text" id="height" class="subFormItem\_\_input" name="sgpb-height" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', ~~SG\_POPUP\_TEXT\_DOMAIN)?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', SG\_POPUP\_TEXT\_DOMAIN~~)  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-height')) ?>"> |
  |  | 32 | <span class="subFormItem\_\_title"><?php esc\_html\_e('Height', 'popup-builder'); ?>:</span> |
  |  | 33 | <input type="text" id="height" class="subFormItem\_\_input" name="sgpb-height" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', 'popup-builder')?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', 'popup-builder')  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-height')) ?>"> |
  | 30 | 34 | </div> |
  | 31 | 35 | </div> |
  | 32 | 36 | <div class="formItem bottom"> |
  | 33 | 37 | <div class="minWidth sgpb-display-inline-flex sgpb-align-item-center sgpb-margin-right-20"> |
  | 34 |  | <span class="formItem\_\_title formItem\_\_title\_equals"><?php esc\_html\_e('Max width', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  | 35 |  | <input type="text" id="max-width" class="subFormItem\_\_input" name="sgpb-max-width" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', ~~SG\_POPUP\_TEXT\_DOMAIN)?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', SG\_POPUP\_TEXT\_DOMAIN~~)  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-max-width')) ?>"> |
  |  | 38 | <span class="formItem\_\_title formItem\_\_title\_equals"><?php esc\_html\_e('Max width', 'popup-builder'); ?>:</span> |
  |  | 39 | <input type="text" id="max-width" class="subFormItem\_\_input" name="sgpb-max-width" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', 'popup-builder')?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', 'popup-builder')  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-max-width')) ?>"> |
  | 36 | 40 | </div> |
  | 37 | 41 | <div class="maxHeight sgpb-display-inline-flex sgpb-align-item-center"> |
  | 38 |  | <span class="formItem\_\_title formItem\_\_title\_equals"><?php esc\_html\_e('Max height', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  | 39 |  | <input type="text" id="max-height" class="subFormItem\_\_input" name="sgpb-max-height" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', ~~SG\_POPUP\_TEXT\_DOMAIN)?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', SG\_POPUP\_TEXT\_DOMAIN~~)  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-max-height')) ?>"> |
  |  | 42 | <span class="formItem\_\_title formItem\_\_title\_equals"><?php esc\_html\_e('Max height', 'popup-builder'); ?>:</span> |
  |  | 43 | <input type="text" id="max-height" class="subFormItem\_\_input" name="sgpb-max-height" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', 'popup-builder')?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', 'popup-builder')  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-max-height')) ?>"> |
  | 40 | 44 | </div> |
  | 41 | 45 | </div> |
  | 42 | 46 | <div class="formItem"> |
  | 43 | 47 | <div class="minWidth sgpb-display-inline-flex sgpb-align-item-center sgpb-margin-right-20"> |
  | 44 |  | <span class="formItem\_\_title formItem\_\_title\_equals"><?php esc\_html\_e('Min width', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  | 45 |  | <input type="text" id="min-width" class="subFormItem\_\_input" name="sgpb-min-width" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', ~~SG\_POPUP\_TEXT\_DOMAIN)?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', SG\_POPUP\_TEXT\_DOMAIN~~)  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-min-width')) ?>"> |
  |  | 48 | <span class="formItem\_\_title formItem\_\_title\_equals"><?php esc\_html\_e('Min width', 'popup-builder'); ?>:</span> |
  |  | 49 | <input type="text" id="min-width" class="subFormItem\_\_input" name="sgpb-min-width" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', 'popup-builder')?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', 'popup-builder')  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-min-width')) ?>"> |
  | 46 | 50 | </div> |
  | 47 | 51 | <div class="maxHeight sgpb-display-inline-flex sgpb-align-item-center"> |
  | 48 |  | <span class="formItem\_\_title formItem\_\_title\_equals"><?php esc\_html\_e('Min height', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  | 49 |  | <input type="text" id="min-height" class="subFormItem\_\_input" name="sgpb-min-height" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', ~~SG\_POPUP\_TEXT\_DOMAIN)?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', SG\_POPUP\_TEXT\_DOMAIN~~)  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-min-height')) ?>"> |
  |  | 52 | <span class="formItem\_\_title formItem\_\_title\_equals"><?php esc\_html\_e('Min height', 'popup-builder'); ?>:</span> |
  |  | 53 | <input type="text" id="min-height" class="subFormItem\_\_input" name="sgpb-min-height" placeholder="<?php esc\_html\_e('Ex: 100, 100px or 100%', 'popup-builder')?>" pattern = "\d+(([px]+|%)|)" title="<?php esc\_html\_e('It must be number  + px or %', 'popup-builder')  ?>" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-min-height')) ?>"> |
  | 50 | 54 | </div> |
  | 51 | 55 | </div> |
* ## [popup-builder/trunk/public/views/eventsView.php](/changeset/3085485/popup-builder/trunk/public/views/eventsView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/eventsView.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/eventsView.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/eventsView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | namespace sgpb; |
  |  | 3 | /\* Exit if accessed directly \*/ |
  |  | 4 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 5 | exit; |
  |  | 6 | } |
  | 3 | 7 | $eventsData = $popupTypeObj->getOptionValue('sgpb-events'); |
  | 4 | 8 | $popupTargetData = ConditionBuilder::createEventsConditionBuilder($eventsData); |
* ## [popup-builder/trunk/public/views/floatingButton.php](/changeset/3085485/popup-builder/trunk/public/views/floatingButton.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/floatingButton.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 7 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 4 | 8 | $defaultPositions = $defaultData['floatingButtonPositionsCorner']; |
  | 5 | 9 | if ($popupTypeObj->getOptionValue('sgpb-floating-button-style') == 'basic') { |
  | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=2686454#L9) | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=3085485#L13) |  |
  | 9 | 13 | <div class="sgpb sgpb-wrapper sgpb-floating-btn-wrapper" id="sgpb-floating-btn-wrapper"> |
  | 10 | 14 | <div class="formItem"> |
  | 11 |  | <p class="formItem\_\_title"><?php esc\_html\_e('Enable', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</p> |
  |  | 15 | <p class="formItem\_\_title"><?php esc\_html\_e('Enable', 'popup-builder')?>:</p> |
  | 12 | 16 | <div class="sgpb-onOffSwitch"> |
  | 13 | 17 | <input id="sgpb-enable-floating-button" onchange="SGPBFloatingButton.prototype.adminInit()" type="checkbox" class="sgpb-onOffSwitch-checkbox js-checkbox-accordion" id="sgpb-enable-floating-button" name="sgpb-enable-floating-button" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-enable-floating-button')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=2686454#L20) | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=3085485#L24) |  |
  | 20 | 24 | <div class="sgpb-width-100"> |
  | 21 | 25 | <div class="subFormItem noMargin"> |
  | 22 |  | <p class="formItem\_\_title sgpb-margin-y-20"><?php esc\_html\_e('Style', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</p> |
  |  | 26 | <p class="formItem\_\_title sgpb-margin-y-20"><?php esc\_html\_e('Style', 'popup-builder')?>:</p> |
  | 23 | 27 | <div class="subForm subForm\_squared"> |
  | 24 |  | <input type="button" class="sgpb-input-button sgpb-margin-right-20 sgpb-floating-button-style-corner js-floating-button-style squares\_\_square buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-style') == 'corner') ? ' sgpb-input-button-active' : '');?>" value="<?php esc\_html\_e('Corner', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" data-sgvalue="corner"> |
  | 25 |  | <input type="button" class="sgpb-input-button sgpb-floating-button-style-basic js-floating-button-style squares\_\_square buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-style') == 'basic') ? ' sgpb-input-button' : '');?>" value="<?php esc\_html\_e('Basic', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" data-sgvalue="basic"> |
  |  | 28 | <input type="button" class="sgpb-input-button sgpb-margin-right-20 sgpb-floating-button-style-corner js-floating-button-style squares\_\_square buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-style') == 'corner') ? ' sgpb-input-button-active' : '');?>" value="<?php esc\_html\_e('Corner', 'popup-builder')?>" data-sgvalue="corner"> |
  |  | 29 | <input type="button" class="sgpb-input-button sgpb-floating-button-style-basic js-floating-button-style squares\_\_square buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-style') == 'basic') ? ' sgpb-input-button' : '');?>" value="<?php esc\_html\_e('Basic', 'popup-builder')?>" data-sgvalue="basic"> |
  | 26 | 30 |  |
  | 27 | 31 | <input type="hidden" name="sgpb-floating-button-style" id="sgpb-floating-button-style" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-style'));?>"> |
  | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=2686454#L29) | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=3085485#L33) |  |
  | 29 | 33 | </div> |
  | 30 | 34 | <div class="subFormItem sgpb-margin-bottom-30 sgpb-floating-btn-position-boxes-container"> |
  | 31 |  | <p class="formItem\_\_title sgpb-margin-y-20"><?php esc\_html\_e('Position', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</p> |
  |  | 35 | <p class="formItem\_\_title sgpb-margin-y-20"><?php esc\_html\_e('Position', 'popup-builder')?>:</p> |
  | 32 | 36 | <div class="subForm subForm\_squared"> |
  | 33 |  | <input type="button" class="sgpb-input-button sgpb-floating-button-position-top-left js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'corner') ? ' active' : '');?>" value="<?php esc\_html\_e('Top Left', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" data-sgvalue="top-left"> |
  | 34 |  | <input type="button" class="sgpb-input-button sgpb-margin-x-10 sgpb-floating-button-position-top-center js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Top Center', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" data-sgvalue="top-center"> |
  | 35 |  | <input type="button" class="sgpb-input-button sgpb-floating-button-position-top-right js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Top Right', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" data-sgvalue="top-right"> |
  |  | 37 | <input type="button" class="sgpb-input-button sgpb-floating-button-position-top-left js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'corner') ? ' active' : '');?>" value="<?php esc\_html\_e('Top Left', 'popup-builder')?>" data-sgvalue="top-left"> |
  |  | 38 | <input type="button" class="sgpb-input-button sgpb-margin-x-10 sgpb-floating-button-position-top-center js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Top Center', 'popup-builder')?>" data-sgvalue="top-center"> |
  |  | 39 | <input type="button" class="sgpb-input-button sgpb-floating-button-position-top-right js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Top Right', 'popup-builder')?>" data-sgvalue="top-right"> |
  | 36 | 40 | </div> |
  | 37 | 41 | <div class="subForm subForm\_squared sgpb-margin-y-10"> |
  | 38 |  | <input type="button" class="sgpb-input-button sgpb-floating-button-position-left-center js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Left center', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" data-sgvalue="left-center"> |
  |  | 42 | <input type="button" class="sgpb-input-button sgpb-floating-button-position-left-center js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Left center', 'popup-builder')?>" data-sgvalue="left-center"> |
  | 39 | 43 | <input type="button" class="sgpb-input-button sgpb-input-button-bg-arrows sgpb-margin-x-10 sgpb-floating-button-position-empty-box sgpb-input-button-disabled buttonGroup\_\_button" disabled="disabled" value="" data-sgvalue="empty-box"> |
  | 40 |  | <input type="button" class="sgpb-input-button sgpb-floating-button-position-right-center js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Right Center', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" data-sgvalue="right-center"> |
  |  | 44 | <input type="button" class="sgpb-input-button sgpb-floating-button-position-right-center js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Right Center', 'popup-builder')?>" data-sgvalue="right-center"> |
  | 41 | 45 | </div> |
  | 42 | 46 | <div class="subForm subForm\_squared"> |
  | 43 |  | <input type="button" class="sgpb-input-button sgpb-floating-button-position-bottom-left js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Bottom Left', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" data-sgvalue="bottom-left"> |
  | 44 |  | <input type="button" class="sgpb-input-button sgpb-margin-x-10 sgpb-floating-button-position-bottom-center js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Bottom Center', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" data-sgvalue="bottom-center"> |
  | 45 |  | <input type="button" class="sgpb-input-button sgpb-floating-button-position-bottom-right js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Bottom Right', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" data-sgvalue="bottom-right"> |
  |  | 47 | <input type="button" class="sgpb-input-button sgpb-floating-button-position-bottom-left js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Bottom Left', 'popup-builder')?>" data-sgvalue="bottom-left"> |
  |  | 48 | <input type="button" class="sgpb-input-button sgpb-margin-x-10 sgpb-floating-button-position-bottom-center js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Bottom Center', 'popup-builder')?>" data-sgvalue="bottom-center"> |
  |  | 49 | <input type="button" class="sgpb-input-button sgpb-floating-button-position-bottom-right js-floating-button-position buttonGroup\_\_button<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'basic') ? ' active' : '');?>" value="<?php esc\_html\_e('Bottom Right', 'popup-builder')?>" data-sgvalue="bottom-right"> |
  | 46 | 50 | </div> |
  | 47 | 51 | <input type="hidden" name="sgpb-floating-button-position" id="sgpb-floating-button-position" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-position'));?>"> |
  | 48 | 52 | </div> |
  | 49 | 53 | <div class="formItem formItem\_itemsCentered"> |
  | 50 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Font size', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 54 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Font size', 'popup-builder')?>:</span> |
  | 51 | 55 | <input type="number" min="0" name="sgpb-floating-button-font-size" id="sgpb-floating-button-font-size" class="formItem\_\_input" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-font-size')); ?>"> |
  | 52 | 56 | <div class="formItem\_\_inputValueType sgpb-margin-left-10">px</div> |
  | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=2686454#L54) | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=3085485#L58) |  |
  | 54 | 58 | <div class="sgpb-basic-button-style-options-wrapper-js<?php echo esc\_attr(($popupTypeObj->getOptionValue('sgpb-floating-button-position') == 'corner') ? ' sgpb-hide' : ''); ?>"> |
  | 55 | 59 | <div class="formItem formItem\_itemsCentered"> |
  | 56 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Position top', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 60 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Position top', 'popup-builder')?>:</span> |
  | 57 | 61 | <input type="number" min="0" name="sgpb-floating-button-position-top" id="sgpb-floating-button-position-top" class="formItem\_\_input" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-position-top')); ?>"> |
  | 58 | 62 | <div class="formItem\_\_inputValueType sgpb-margin-left-10">%</div> |
  | 59 | 63 | </div> |
  | 60 | 64 | <div class="formItem formItem\_itemsCentered"> |
  | 61 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Position right', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 65 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Position right', 'popup-builder')?>:</span> |
  | 62 | 66 | <input type="number" min="0" name="sgpb-floating-button-position-right" id="sgpb-floating-button-position-right" class="formItem\_\_input" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-position-right')); ?>"> |
  | 63 | 67 | <div class="formItem\_\_inputValueType sgpb-margin-left-10">%</div> |
  | 64 | 68 | </div> |
  | 65 | 69 | <div class="formItem formItem\_itemsCentered"> |
  | 66 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Border size', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 70 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Border size', 'popup-builder')?>:</span> |
  | 67 | 71 | <input type="number" min="0" name="sgpb-floating-button-border-size" id="sgpb-floating-button-border-size" class="formItem\_\_input" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-border-size')); ?>"> |
  | 68 | 72 | <div class="formItem\_\_inputValueType sgpb-margin-left-10">px</div> |
  | 69 | 73 | </div> |
  | 70 | 74 | <div class="formItem formItem\_itemsCentered"> |
  | 71 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Border radius', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 75 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Border radius', 'popup-builder')?>:</span> |
  | 72 | 76 | <input type="number" min="0" name="sgpb-floating-button-border-radius" id="sgpb-floating-button-border-radius" class="formItem\_\_input" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-border-radius')); ?>"> |
  | 73 | 77 | <div class="formItem\_\_inputValueType sgpb-margin-left-10">px</div> |
  | 74 | 78 | </div> |
  | 75 | 79 | <div class="formItem"> |
  | 76 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Border color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 80 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Border color', 'popup-builder')?>:</span> |
  | 77 | 81 | <div class="sgpb-color-picker-wrapper sgpb-overlay-color unhideColorPicker"> |
  | 78 | 82 | <input id="sgpb-floating-button-border-color" data-type="borderColor" class="sgpb-color-picker sgpb-floating-button-border-color" type="text" name="sgpb-floating-button-border-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-border-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=2686454#L81) | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=3085485#L85) |  |
  | 81 | 85 | </div> |
  | 82 | 86 | <div class="formItem"> |
  | 83 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Background color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 87 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Background color', 'popup-builder')?>:</span> |
  | 84 | 88 | <div class="sgpb-color-picker-wrapper sgpb-overlay-color unhideColorPicker"> |
  | 85 | 89 | <input id="sgpb-floating-button-bg-color" data-type="backgroundColor" class="sgpb-color-picker sgpb-floating-button-bg-color" type="text" name="sgpb-floating-button-bg-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-bg-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=2686454#L87) | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=3085485#L91) |  |
  | 87 | 91 | </div> |
  | 88 | 92 | <div class="formItem"> |
  | 89 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Text color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 93 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Text color', 'popup-builder')?>:</span> |
  | 90 | 94 | <div class="sgpb-color-picker-wrapper sgpb-overlay-color unhideColorPicker"> |
  | 91 | 95 | <input id="sgpb-floating-button-text-color" data-type="color" class="sgpb-color-picker sgpb-floating-button-text-color" type="text" name="sgpb-floating-button-text-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-text-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=2686454#L93) | […](/browser/popup-builder/trunk/public/views/floatingButton.php?rev=3085485#L97) |  |
  | 93 | 97 | </div> |
  | 94 | 98 | <div class="formItem"> |
  | 95 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Text', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 99 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Text', 'popup-builder')?>:</span> |
  | 96 | 100 | <input id="sgpb-floating-button-text" class="subFormItem\_\_input" type="text" name="sgpb-floating-button-text" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-floating-button-text')); ?>" > |
  | 97 | 101 | </div> |
* ## [popup-builder/trunk/public/views/htmlCustomButtonElement.php](/changeset/3085485/popup-builder/trunk/public/views/htmlCustomButtonElement.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/htmlCustomButtonElement.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 | 7 |  |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L9) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L13) |  |
  | 9 | 13 | <div id="sgpb-custom-button-wrapper"> |
  | 10 | 14 | <?php |
  | 11 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 15 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 12 | 16 | $buttonDefaultStyles = array( |
  | 13 |  | 'title' => \_\_('Button',~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 17 | 'title' => \_\_('Button','popup-builder'), |
  | 14 | 18 | 'width' => '300px', |
  | 15 | 19 | 'height' => '60px', |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L23) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L27) |  |
  | 23 | 27 | ?> |
  | 24 | 28 | <div class="sgpb-wrapper"> |
  | 25 |  | <img class="sgpb-add-subscriber-popup-close-btn sgpb-custom-button-close-popup sgpb-close-media-popup-js" src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_IMG\_URL.'subscribers\_close.png'); ?>" width='15px'> |
  |  | 29 | <img class="sgpb-add-subscriber-popup-close-btn sgpb-custom-button-close-popup sgpb-close-media-popup-js" src="<?php echo esc\_url(SG\_POPUP\_IMG\_URL.'subscribers\_close.png'); ?>" width='15px'> |
  | 26 | 30 | <div class="row form-group"> |
  | 27 | 31 | <label for="sgpb-custom-btn-width" class="col-md-6 control-label sgpb-static-padding-top sgpb-sub-option"> |
  | 28 |  | <?php esc\_html\_e('Title', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: |
  |  | 32 | <?php esc\_html\_e('Title', 'popup-builder'); ?>: |
  | 29 | 33 | </label> |
  | 30 | 34 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L36) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L40) |  |
  | 36 | 40 | <div class="row form-group"> |
  | 37 | 41 | <label class="col-md-12 control-label"> |
  | 38 |  | <?php esc\_html\_e('Custom Button Styles', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 42 | <?php esc\_html\_e('Custom Button Styles', 'popup-builder'); ?> |
  | 39 | 43 | </label> |
  | 40 | 44 | </div> |
  | 41 | 45 | <div class="row form-group"> |
  | 42 | 46 | <label for="sgpb-custom-btn-width" class="col-md-6 control-label sgpb-static-padding-top sgpb-sub-option"> |
  | 43 |  | <?php esc\_html\_e('Width', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: |
  |  | 47 | <?php esc\_html\_e('Width', 'popup-builder'); ?>: |
  | 44 | 48 | </label> |
  | 45 | 49 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L49) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L53) |  |
  | 49 | 53 | <div class="row form-group"> |
  | 50 | 54 | <label for="sgpb-custom-btn-height" class="col-md-6 control-label sgpb-static-padding-top sgpb-sub-option"> |
  | 51 |  | <?php esc\_html\_e('Height', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: |
  |  | 55 | <?php esc\_html\_e('Height', 'popup-builder'); ?>: |
  | 52 | 56 | </label> |
  | 53 | 57 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L57) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L61) |  |
  | 57 | 61 | <div class="row form-group"> |
  | 58 | 62 | <label for="sgpb-custom-btn-border-width" class="col-md-6 control-label sgpb-static-padding-top sgpb-sub-option"> |
  | 59 |  | <?php esc\_html\_e('Border width', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: |
  |  | 63 | <?php esc\_html\_e('Border width', 'popup-builder'); ?>: |
  | 60 | 64 | </label> |
  | 61 | 65 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L65) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L69) |  |
  | 65 | 69 | <div class="row form-group"> |
  | 66 | 70 | <label for="sgpb-custom-btn-border-radius" class="col-md-6 control-label sgpb-sub-option"> |
  | 67 |  | <?php esc\_html\_e('Border radius', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: |
  |  | 71 | <?php esc\_html\_e('Border radius', 'popup-builder'); ?>: |
  | 68 | 72 | </label> |
  | 69 | 73 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L73) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L77) |  |
  | 73 | 77 | <div class="row form-group"> |
  | 74 | 78 | <label for="sgpb-custom-btn-border-color" class="col-md-6 control-label sgpb-sub-option"> |
  | 75 |  | <?php esc\_html\_e('Border color', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: |
  |  | 79 | <?php esc\_html\_e('Border color', 'popup-builder'); ?>: |
  | 76 | 80 | </label> |
  | 77 | 81 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L83) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L87) |  |
  | 83 | 87 | <div class="row form-group"> |
  | 84 | 88 | <label class="col-md-6 control-label sgpb-sub-option"> |
  | 85 |  | <?php esc\_html\_e('Background color', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: |
  |  | 89 | <?php esc\_html\_e('Background color', 'popup-builder'); ?>: |
  | 86 | 90 | </label> |
  | 87 | 91 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L93) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L97) |  |
  | 93 | 97 | <div class="row form-group"> |
  | 94 | 98 | <label class="col-md-6 control-label sgpb-sub-option"> |
  | 95 |  | <?php esc\_html\_e('Hover background color', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: |
  |  | 99 | <?php esc\_html\_e('Hover background color', 'popup-builder'); ?>: |
  | 96 | 100 | </label> |
  | 97 | 101 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L103) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L107) |  |
  | 103 | 107 | <div class="row form-group"> |
  | 104 | 108 | <label class="col-md-6 control-label sgpb-sub-option"> |
  | 105 |  | <?php esc\_html\_e('Text color', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: |
  |  | 109 | <?php esc\_html\_e('Text color', 'popup-builder'); ?>: |
  | 106 | 110 | </label> |
  | 107 | 111 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L115) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L119) |  |
  | 115 | 119 | <div class="row form-group"> |
  | 116 | 120 | <label class="col-md-12 control-label"> |
  | 117 |  | <?php esc\_html\_e('Button events', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 121 | <?php esc\_html\_e('Button events', 'popup-builder'); ?> |
  | 118 | 122 | </label> |
  | 119 | 123 | </div> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L125) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L129) |  |
  | 125 | 129 | <div class="row form-group"> |
  | 126 | 130 | <label for="sgpb-custom-button-copy-to-clipboard-text" class="col-md-6 control-label sgpb-double-sub-option"> |
  | 127 |  | <?php esc\_html\_e('Text', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>: |
  |  | 131 | <?php esc\_html\_e('Text', 'popup-builder')?>: |
  | 128 | 132 | </label> |
  | 129 | 133 | <div class="col-md-6"><input name="sgpb-custom-button-copy-to-clipboard-text" id="sgpb-custom-button-copy-to-clipboard-text" class="form-control sgpb-full-width-events" value="some text here"></div> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L131) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L135) |  |
  | 131 | 135 | <div class="row form-group"> |
  | 132 | 136 | <label for="sgpb-custom-button-copy-to-clipboard-close-popup" class="col-md-6 control-label sgpb-double-sub-option"> |
  | 133 |  | <?php esc\_html\_e('Close popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>: |
  |  | 137 | <?php esc\_html\_e('Close popup', 'popup-builder')?>: |
  | 134 | 138 | </label> |
  | 135 | 139 | <div class="col-md-6"><input type="checkbox" name="sgpb-custom-button-copy-to-clipboard-close-popup" id="sgpb-custom-button-copy-to-clipboard-close-popup"></div> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L137) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L141) |  |
  | 137 | 141 | <div class="row form-group"> |
  | 138 | 142 | <label for="sgpb-custom-button-copy-to-clipboard-alert" class="col-md-6 control-label sgpb-double-sub-option"> |
  | 139 |  | <?php esc\_html\_e('Show alert', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>: |
  |  | 143 | <?php esc\_html\_e('Show alert', 'popup-builder')?>: |
  | 140 | 144 | </label> |
  | 141 | 145 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L146) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L150) |  |
  | 146 | 150 | <div class="row"> |
  | 147 | 151 | <label for="col-md-5 sgpb-copy-to-clipboard-message" class="col-md-6 control-label sgpb-double-sub-option"> |
  | 148 |  | <?php esc\_html\_e('Message', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>: |
  |  | 152 | <?php esc\_html\_e('Message', 'popup-builder')?>: |
  | 149 | 153 | </label> |
  | 150 | 154 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L157) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L161) |  |
  | 157 | 161 | <div class="row form-group"> |
  | 158 | 162 | <label for="sgpb-custom-button-redirect-URL" class="col-md-6 control-label sgpb-double-sub-option"> |
  | 159 |  | <?php esc\_html\_e('Redirect URL', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>: |
  |  | 163 | <?php esc\_html\_e('Redirect URL', 'popup-builder')?>: |
  | 160 | 164 | </label> |
  | 161 | 165 | <div class="col-md-6"><input type="url" name="sgpb-custom-button-redirect-URL" id="sgpb-custom-button-redirect-URL" placeholder="https://www.example.com" class="form-control sgpb-full-width-events" value=""></div> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L163) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L167) |  |
  | 163 | 167 | <div class="row form-group"> |
  | 164 | 168 | <label for="sgpb-custom-button-redirect-new-tab" class="col-md-6 control-label sgpb-double-sub-option"> |
  | 165 |  | <?php esc\_html\_e('Redirect to new tab', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>: |
  |  | 169 | <?php esc\_html\_e('Redirect to new tab', 'popup-builder')?>: |
  | 166 | 170 | </label> |
  | 167 | 171 | <div class="col-md-6"><input type="checkbox" name="sgpb-custom-button-redirect-new-tab" id="sgpb-custom-button-redirect-new-tab" placeholder="https://www.example.com" ></div> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L171) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L175) |  |
  | 171 | 175 | <div class="row form-group"> |
  | 172 | 176 | <label for="sgpb-subs-success-redirect-URL" class="col-md-6 control-label sgpb-double-sub-option"> |
  | 173 |  | <?php esc\_html\_e('Select popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>: |
  |  | 177 | <?php esc\_html\_e('Select popup', 'popup-builder')?>: |
  | 174 | 178 | </label> |
  | 175 | 179 | <div class="col-md-6"> |
  | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=2686454#L183) | […](/browser/popup-builder/trunk/public/views/htmlCustomButtonElement.php?rev=3085485#L187) |  |
  | 183 | 187 | <div class="row"> |
  | 184 | 188 | <div class="col-md-6"> |
  | 185 |  | <input type="button" value="<?php esc\_html\_e('Insert', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" class="btn btn-sm btn-success sgpb-subscriber-popup-btns sgpb-insert-custom-button-to-editor sgpb-close-media-popup-js" data-ajaxnonce="popupBuilderAjaxNonce"> |
  |  | 189 | <input type="button" value="<?php esc\_html\_e('Insert', 'popup-builder'); ?>" class="btn btn-sm btn-success sgpb-subscriber-popup-btns sgpb-insert-custom-button-to-editor sgpb-close-media-popup-js" data-ajaxnonce="popupBuilderAjaxNonce"> |
  | 186 | 190 | </div> |
  | 187 | 191 | <div class="col-md-6"> |
  | 188 |  | <input type="button" value="<?php esc\_html\_e('Cancel', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" class="btn btn-sm btn-default sgpb-add-subscriber-popup-close-btn-js sgpb-subscriber-popup-btns sgpb-subscriber-popup-close-btn-js sgpb-close-media-popup-js" data-ajaxnonce="popupBuilderAjaxNonce"> |
  |  | 192 | <input type="button" value="<?php esc\_html\_e('Cancel', 'popup-builder'); ?>" class="btn btn-sm btn-default sgpb-add-subscriber-popup-close-btn-js sgpb-subscriber-popup-btns sgpb-subscriber-popup-close-btn-js sgpb-close-media-popup-js" data-ajaxnonce="popupBuilderAjaxNonce"> |
  | 189 | 193 | </div> |
  | 190 | 194 | </div> |
* ## [popup-builder/trunk/public/views/importConfigView.php](/changeset/3085485/popup-builder/trunk/public/views/importConfigView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/importConfigView.php")

  | [r3008574](/browser/popup-builder/trunk/public/views/importConfigView.php?rev=3008574#L1 "Show revision 3008574 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/importConfigView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 | 7 | use sgpb\SubscriptionPopup; |
  | […](/browser/popup-builder/trunk/public/views/importConfigView.php?rev=3008574#L48) | […](/browser/popup-builder/trunk/public/views/importConfigView.php?rev=3085485#L52) |  |
  | 48 | 52 |  |
  | 49 | 53 | <div id="importSubscribersSecondStep"> |
  | 50 |  | <h1 id="importSubscriberHeader"><?php esc\_html\_e('Match Your Fields', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></h1> |
  |  | 54 | <h1 id="importSubscriberHeader"><?php esc\_html\_e('Match Your Fields', 'popup-builder'); ?></h1> |
  | 51 | 55 | <div id="importSubscriberBody"> |
  | 52 | 56 | <div class="formItem sgpb-justify-content-around"> |
  | 53 | 57 | <div class="formItem\_\_title"> |
  | 54 |  | <?php esc\_html\_e('Available fields', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 58 | <?php esc\_html\_e('Available fields', 'popup-builder'); ?> |
  | 55 | 59 | </div> |
  | 56 | 60 | <div class="formItem\_\_title"> |
  | 57 |  | <?php esc\_html\_e('Our list fields', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 61 | <?php esc\_html\_e('Our list fields', 'popup-builder'); ?> |
  | 58 | 62 | </div> |
  | 59 | 63 | </div> |
  | […](/browser/popup-builder/trunk/public/views/importConfigView.php?rev=3008574#L79) | […](/browser/popup-builder/trunk/public/views/importConfigView.php?rev=3085485#L83) |  |
  | 79 | 83 |  |
  | 80 | 84 | <div id="importSubscriberFooter"> |
  | 81 |  | <input type="button" value="<?php esc\_html\_e('Save', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" class="sgpb-btn sgpb-btn-blue sgpb-save-subscriber" data-ajaxnonce="popupBuilderAjaxNonce"> |
  |  | 85 | <input type="button" value="<?php esc\_html\_e('Save', 'popup-builder'); ?>" class="sgpb-btn sgpb-btn-blue sgpb-save-subscriber" data-ajaxnonce="popupBuilderAjaxNonce"> |
  | 82 | 86 | </div> |
  | 83 | 87 |  |
* ## [popup-builder/trunk/public/views/importPopupsView.php](/changeset/3085485/popup-builder/trunk/public/views/importPopupsView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/importPopupsView.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/importPopupsView.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/importPopupsView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 7 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 4 | 8 |  |
  | 5 | 9 | $deleteData = ''; |
  | […](/browser/popup-builder/trunk/public/views/importPopupsView.php?rev=2686454#L13) | […](/browser/popup-builder/trunk/public/views/importPopupsView.php?rev=3085485#L17) |  |
  | 13 | 17 | <div class="sgpb-import-popups"> |
  | 14 | 18 | <h3 class="sgpb-header-h3"> |
  | 15 |  | <span><?php esc\_html\_e('Import popups', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 19 | <span><?php esc\_html\_e('Import popups', 'popup-builder'); ?></span> |
  | 16 | 20 | </h3> |
  | 17 | 21 | <div class="sgpb-import-popups-form"> |
* ## [popup-builder/trunk/public/views/jsVariableView.php](/changeset/3085485/popup-builder/trunk/public/views/jsVariableView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/jsVariableView.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | namespace sgpb; |
  |  | 3 | /\* Exit if accessed directly \*/ |
  |  | 4 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 5 | exit; |
  |  | 6 | } |
  | 3 | 7 | ?> |
  | 4 | 8 |  |
  | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=2686454#L7) | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=3085485#L11) |  |
  | 7 | 11 | <div class="row"> |
  | 8 | 12 | <div class="col-sm-10"> |
  | 9 |  | <label><?php esc\_html\_e('Insert JS variable inside the popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></label> |
  |  | 13 | <label><?php esc\_html\_e('Insert JS variable inside the popup', 'popup-builder')?></label> |
  | 10 | 14 | </div> |
  | 11 | 15 | <div class="col-sm-2"> |
  | 12 |  | <img class="sgpb-add-subscriber-popup-close-btn sgpb-close-media-popup-js" src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_IMG\_URL.'subscribers\_close.png'); ?>" width='15px'> |
  |  | 16 | <img class="sgpb-add-subscriber-popup-close-btn sgpb-close-media-popup-js" src="<?php echo esc\_url(SG\_POPUP\_IMG\_URL.'subscribers\_close.png'); ?>" width='15px'> |
  | 13 | 17 | </div> |
  | 14 | 18 | </div> |
  | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=2686454#L16) | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=3085485#L20) |  |
  | 16 | 20 | <div class="row form-group"> |
  | 17 | 21 | <div class="col-sm-2 sgpb-static-padding-top"> |
  | 18 |  | <label for="sgpb-js-variable-selector"><?php esc\_html\_e('Selector', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</label> |
  |  | 22 | <label for="sgpb-js-variable-selector"><?php esc\_html\_e('Selector', 'popup-builder')?>:</label> |
  | 19 | 23 | </div> |
  | 20 | 24 | <div class="col-sm-5"> |
  | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=2686454#L22) | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=3085485#L26) |  |
  | 22 | 26 | </div> |
  | 23 | 27 | <div class="col-sm-5 sgpb-static-padding-top"> |
  | 24 |  | <label><?php esc\_html\_e('Ex. #myselector or .myselector', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></label> |
  |  | 28 | <label><?php esc\_html\_e('Ex. #myselector or .myselector', 'popup-builder') ?></label> |
  | 25 | 29 | </div> |
  | 26 | 30 | </div> |
  | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=2686454#L28) | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=3085485#L32) |  |
  | 28 | 32 | <div class="col-md-12"> |
  | 29 | 33 | <div class="sg-hide-element sgpb-js-variable-errors sgpb-js-variable-selector-error"> |
  | 30 |  | <label class="sgpb-label-error"><?php esc\_html\_e('This field is required', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>.</label> |
  |  | 34 | <label class="sgpb-label-error"><?php esc\_html\_e('This field is required', 'popup-builder') ?>.</label> |
  | 31 | 35 | </div> |
  | 32 | 36 | </div> |
  | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=2686454#L34) | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=3085485#L38) |  |
  | 34 | 38 | <div class="row form-group"> |
  | 35 | 39 | <div class="col-sm-2 sgpb-static-padding-top"> |
  | 36 |  | <label for="sgpb-js-variable-attribute"><?php esc\_html\_e('Attribute', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</label> |
  |  | 40 | <label for="sgpb-js-variable-attribute"><?php esc\_html\_e('Attribute', 'popup-builder')?>:</label> |
  | 37 | 41 | </div> |
  | 38 | 42 | <div class="col-sm-5"> |
  | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=2686454#L40) | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=3085485#L44) |  |
  | 40 | 44 | </div> |
  | 41 | 45 | <div class="col-sm-5 sgpb-static-padding-top"> |
  | 42 |  | <label><?php esc\_html\_e('Ex. value or data-name', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></label> |
  |  | 46 | <label><?php esc\_html\_e('Ex. value or data-name', 'popup-builder') ?></label> |
  | 43 | 47 | </div> |
  | 44 | 48 | </div> |
  | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=2686454#L46) | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=3085485#L50) |  |
  | 46 | 50 | <div class="col-md-12"> |
  | 47 | 51 | <div class="sg-hide-element sgpb-js-variable-errors sgpb-js-variable-attribute-error"> |
  | 48 |  | <label class="sgpb-label-error"><?php esc\_html\_e('This field is required', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?>.</label> |
  |  | 52 | <label class="sgpb-label-error"><?php esc\_html\_e('This field is required', 'popup-builder') ?>.</label> |
  | 49 | 53 | </div> |
  | 50 | 54 | </div> |
  | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=2686454#L52) | […](/browser/popup-builder/trunk/public/views/jsVariableView.php?rev=3085485#L56) |  |
  | 52 | 56 | <div class="row sgpb-static-padding-top"> |
  | 53 | 57 | <div class="col-sm-3"> |
  | 54 |  | <input type="button" class="sgpb-btn sgpb-btn-blue sgpb-insert-js-variable-to-editor sgpb-insert-popup-btns" value="<?php esc\_html\_e('Insert', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  |  | 58 | <input type="button" class="sgpb-btn sgpb-btn-blue sgpb-insert-js-variable-to-editor sgpb-insert-popup-btns" value="<?php esc\_html\_e('Insert', 'popup-builder')?>"> |
  | 55 | 59 | </div> |
  | 56 | 60 | <div class="col-sm-3"> |
  | 57 |  | <input type="button" class="sgpb-btn sgpb-btn-gray-light sgpb-close-media-popup-js sgpb-insert-popup-btns" value="<?php esc\_html\_e('Cancel', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  |  | 61 | <input type="button" class="sgpb-btn sgpb-btn-gray-light sgpb-close-media-popup-js sgpb-insert-popup-btns" value="<?php esc\_html\_e('Cancel', 'popup-builder')?>"> |
  | 58 | 62 | </div> |
  | 59 | 63 | </div> |
* ## [popup-builder/trunk/public/views/license.php](/changeset/3085485/popup-builder/trunk/public/views/license.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/license.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/license.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/license.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  |  | 6 | ?> |
  | 1 | 7 | <div class="sgpb sgpb-wrapper sgpb-padding-30"> |
  | 2 | 8 | <span class="sgpb-header-h1">License</span> |
  | […](/browser/popup-builder/trunk/public/views/license.php?rev=2686454#L12) | […](/browser/popup-builder/trunk/public/views/license.php?rev=3085485#L18) |  |
  | 12 | 18 | ?> |
  | 13 | 19 | <div class="sgpb-license sgpb-license-block sgpb-padding-20 sgpb-margin-bottom-30 sgpb-position-relative"> |
  | 14 |  | <div class="sgpb-license-border <?~~=~~ ( $status !== false && $status == 'valid' ) ? 'active' : 'inactive' ?>"></div> |
  |  | 20 | <div class="sgpb-license-border <?php echo ( $status !== false && $status == 'valid' ) ? 'active' : 'inactive' ?>"></div> |
  | 15 | 21 | <h2 class="formItem\_\_title sgpb-margin-top-10 sgpb-margin-bottom-30"><?php echo esc\_html($currentLicense['boxLabel']) ?></h2> |
  | 16 | 22 | <div class="sgpb-license\_\_status"> |
  | […](/browser/popup-builder/trunk/public/views/license.php?rev=2686454#L24) | […](/browser/popup-builder/trunk/public/views/license.php?rev=3085485#L30) |  |
  | 24 | 30 | </div> |
  | 25 | 31 | <div class="licenseKey\_\_form sgpb-margin-top-10 sgpb-margin-bottom-30 sgpb-align-item-center sgpb-display-flex"> |
  | 26 |  | <span class="sgpb-width-20"><?php esc\_html\_e( 'License Key', ~~SG\_POPUP\_TEXT\_DOMAIN~~ ); ?></span> |
  |  | 32 | <span class="sgpb-width-20"><?php esc\_html\_e( 'License Key', 'popup-builder' ); ?></span> |
  | 27 | 33 | <form method="post" action="options.php" class="sgpb-width-80 sgpb-display-inline-flex"> |
  | 28 | 34 | <input id="<?php echo esc\_attr('sgpb-license-key-' . $key) ?>" type="text" class="sgpb-width-100" |
  | 29 |  | value="<?php e~~sc\_attr\_e~~( $license ); ?>" |
  |  | 35 | value="<?php echo esc\_attr( $license ); ?>" |
  | 30 | 36 | name="<?php echo esc\_attr('sgpb-license-key-' .  $key ) ?>"> |
  | 31 | 37 | <?php if ( $status !== false && $status == 'valid' ): ?> |
  | […](/browser/popup-builder/trunk/public/views/license.php?rev=2686454#L33) | […](/browser/popup-builder/trunk/public/views/license.php?rev=3085485#L39) |  |
  | 33 | 39 | <input type="submit" class="sgpb-btn sgpb-btn-blue" |
  | 34 | 40 | name="<?php echo esc\_attr('sgpb-license-deactivate' .  $key ); ?>" |
  | 35 |  | value="<?php esc\_html\_e( 'Deactivate', ~~SG\_POPUP\_TEXT\_DOMAIN~~ ); ?>"> |
  |  | 41 | value="<?php esc\_html\_e( 'Deactivate', 'popup-builder' ); ?>"> |
  | 36 | 42 | <?php else: ?> |
  | 37 | 43 | <?php wp\_nonce\_field( 'sgpb\_nonce', 'sgpb\_nonce' ); ?> |
  | 38 | 44 | <input type="submit" class="sgpb-btn sgpb-btn-blue" |
  | 39 | 45 | name="<?php echo esc\_attr('sgpb-license-activate-' .  $key ); ?>" |
  | 40 |  | value="<?php esc\_html\_e( 'Activate', ~~SG\_POPUP\_TEXT\_DOMAIN~~ ); ?>"> |
  |  | 46 | value="<?php esc\_html\_e( 'Activate', 'popup-builder' ); ?>"> |
  | 41 | 47 | <?php endif; ?> |
  | 42 | 48 | </form> |
* ## [popup-builder/trunk/public/views/main/image.php](/changeset/3085485/popup-builder/trunk/public/views/main/image.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/main/image.php")

  | [r3009930](/browser/popup-builder/trunk/public/views/main/image.php?rev=3009930#L1 "Show revision 3009930 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/main/image.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  |  | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  |  | 6 | ?> |
  | 1 | 7 | <div class="sgpb sgpb-wrapper sgpb-media-upload sgpb-display-flex sgpb-align-item-center sgpb-padding-20"> |
  | 2 | 8 | <div class="formItem sgpb-display-inline-flex sgpb-flex-direction-column sgpb-margin-right-50"> |
* ## [popup-builder/trunk/public/views/mainActionButtons.php](/changeset/3085485/popup-builder/trunk/public/views/mainActionButtons.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/mainActionButtons.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/mainActionButtons.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/mainActionButtons.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 | 7 | ?> |
  | 4 | 8 | <div class="sgpb sgpb-header"> |
  | 5 |  | <h1 class="sgpb-header-h1 sgpb-margin-bottom-30"><?php esc\_html\_e( 'Popups', ~~SG\_POPUP\_TEXT\_DOMAIN~~ ) ?></h1> |
  |  | 9 | <h1 class="sgpb-header-h1 sgpb-margin-bottom-30"><?php esc\_html\_e( 'Popups', 'popup-builder' ) ?></h1> |
  | 6 | 10 | <div class="sgpb-margin-bottom-50 sgpb-display-flex sgpb-justify-content-between"> |
  | 7 | 11 | <div> |
  | 8 |  | <a class="page-title-action sgpb-display-inline-block sgpb-btn sgpb-btn--rounded sgpb-btn-blue--outline sgpb-padding-x-30" href="<?php echo esc\_url~~\_raw~~(AdminHelper::getPopupTypesPageURL()); ?>"> |
  | 9 |  | <?php esc\_html\_e( 'Add New', ~~SG\_POPUP\_TEXT\_DOMAIN~~ ); ?> |
  |  | 12 | <a class="page-title-action sgpb-display-inline-block sgpb-btn sgpb-btn--rounded sgpb-btn-blue--outline sgpb-padding-x-30" href="<?php echo esc\_url(AdminHelper::getPopupTypesPageURL()); ?>"> |
  |  | 13 | <?php esc\_html\_e( 'Add New', 'popup-builder' ); ?> |
  | 10 | 14 | </a> |
  | 11 |  | <a class="page-title-action sgpb-display-inline-block sgpb-btn sgpb-btn--rounded sgpb-btn-blue--outline sgpb-padding-x-30" href="<?php echo esc\_url~~\_raw~~(AdminHelper::getPopupExportURL()); ?>"> |
  | 12 |  | <?php esc\_html\_e( 'Export', ~~SG\_POPUP\_TEXT\_DOMAIN~~ ); ?> |
  |  | 15 | <a class="page-title-action sgpb-display-inline-block sgpb-btn sgpb-btn--rounded sgpb-btn-blue--outline sgpb-padding-x-30" href="<?php echo esc\_url(AdminHelper::getPopupExportURL()); ?>"> |
  |  | 16 | <?php esc\_html\_e( 'Export', 'popup-builder' ); ?> |
  | 13 | 17 | </a> |
  | 14 | 18 | <a class="page-title-action sgpb-display-inline-block sgpb-btn sgpb-btn--rounded sgpb-btn-blue--outline sgpb-padding-x-30" |
  | 15 | 19 | id="sgpbImportSettings" |
  | 16 | 20 | href="javascript:void(0)"> |
  | 17 |  | <?php esc\_html\_e( 'Import', '~~easy-digital-downloads~~' ); ?> |
  |  | 21 | <?php esc\_html\_e( 'Import', 'popup-builder' ); ?> |
  | 18 | 22 | </a> |
  | 19 | 23 | </div> |
* ## [popup-builder/trunk/public/views/mediaButton.php](/changeset/3085485/popup-builder/trunk/public/views/mediaButton.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/mediaButton.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | namespace sgpb; |
  | 3 |  | $defaultData = \ConfigDataHelper::defaultData(); |
  |  | 3 | /\* Exit if accessed directly \*/ |
  |  | 4 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 5 | exit; |
  |  | 6 | } |
  |  | 7 | $defaultData = \SGPBConfigDataHelper::defaultData(); |
  | 4 | 8 | $excludePostId = 0; |
  | 5 | 9 | if (isset($\_GET['post']) && !empty($\_GET['post'])) { |
  | […](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=2686454#L15) | […](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=3085485#L19) |  |
  | 15 | 19 | <div class="row"> |
  | 16 | 20 | <div class="col-sm-10"> |
  | 17 |  | <label><?php esc\_html\_e('Insert the [shortcode]', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></label> |
  |  | 21 | <label><?php esc\_html\_e('Insert the [shortcode]', 'popup-builder')?></label> |
  | 18 | 22 | </div> |
  | 19 | 23 | <div class="col-sm-2"> |
  | […](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=2686454#L24) | […](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=3085485#L28) |  |
  | 24 | 28 | <div class="row"> |
  | 25 | 29 | <div class="col-sm-4"> |
  | 26 |  | <label><?php esc\_html\_e('Select popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></label>: |
  |  | 30 | <label><?php esc\_html\_e('Select popup', 'popup-builder')?></label>: |
  | 27 | 31 | </div> |
  | 28 | 32 | <div class="col-sm-8"> |
  | […](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=2686454#L33) | […](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=3085485#L37) |  |
  | 33 | 37 | <div class="row sgpb-static-padding-top"> |
  | 34 | 38 | <div class="col-sm-4"> |
  | 35 |  | <label><?php esc\_html\_e('Select event', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></label>: |
  |  | 39 | <label><?php esc\_html\_e('Select event', 'popup-builder')?></label>: |
  | 36 | 40 | </div> |
  | 37 | 41 | <div class="col-sm-8"> |
  | […](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=2686454#L42) | […](/browser/popup-builder/trunk/public/views/mediaButton.php?rev=3085485#L46) |  |
  | 42 | 46 | <div class="row sgpb-static-padding-top "> |
  | 43 | 47 | <div class="col-sm-3"> |
  | 44 |  | <input type="button" class="sgpb-btn sgpb-btn-blue sgpb-insert-popup-js sgpb-insert-popup-btns" value="<?php esc\_html\_e('Insert', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  |  | 48 | <input type="button" class="sgpb-btn sgpb-btn-blue sgpb-insert-popup-js sgpb-insert-popup-btns" value="<?php esc\_html\_e('Insert', 'popup-builder')?>"> |
  | 45 | 49 | </div> |
  | 46 | 50 | <div class="col-sm-3"> |
  | 47 |  | <input type="button" class="sgpb-btn sgpb-btn-gray-light sgpb-close-media-popup-js sgpb-insert-popup-btns" value="<?php esc\_html\_e('Cancel', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  |  | 51 | <input type="button" class="sgpb-btn sgpb-btn-gray-light sgpb-close-media-popup-js sgpb-insert-popup-btns" value="<?php esc\_html\_e('Cancel', 'popup-builder')?>"> |
  | 48 | 52 | </div> |
  | 49 | 53 | </div> |
* ## [popup-builder/trunk/public/views/newsletter.php](/changeset/3085485/popup-builder/trunk/public/views/newsletter.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/newsletter.php")

  | [r2725980](/browser/popup-builder/trunk/public/views/newsletter.php?rev=2725980#L1 "Show revision 2725980 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/newsletter.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | require\_once SG\_POPUP\_CLASSES\_POPUPS\_PATH.'SubscriptionPopup.php'; |
  | 3 | 7 | use sgpb\SubscriptionPopup; |
  | […](/browser/popup-builder/trunk/public/views/newsletter.php?rev=2725980#L23) | […](/browser/popup-builder/trunk/public/views/newsletter.php?rev=3085485#L27) |  |
  | 23 | 27 | <!-- formItem\_\_input\_sgpb-popup-overlay --> |
  | 24 | 28 | <div class="sgpb sgpb-wrapper "> |
  | 25 |  | <h2 class="sgpb-header-h1 sgpb-margin-y-20"><?php esc\_html\_e('Newsletter', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></h2> |
  |  | 29 | <h2 class="sgpb-header-h1 sgpb-margin-y-20"><?php esc\_html\_e('Newsletter', 'popup-builder'); ?></h2> |
  | 26 | 30 | <div class="sgpb-newsletter sgpb-display-flex sgpb-padding-20"> |
  | 27 | 31 | <div class="sgpb-width-50 sgpb-padding-x-20"> |
  | 28 | 32 | <div class="sgpb-alert sgpb-newsletter-notice sgpb-alert-info fade in sgpb-hide"> |
  | 29 |  | <span class="sgpb-newsletter-success-message sgpb-hide"><?php esc\_html\_e('You will receive an email notification after all emails are sent', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>.</span> |
  | 30 |  | <span class="sgpb-newsletter-test-success-message sgpb-hide"><?php esc\_html\_e('Test email was successfully sent', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>.</span> |
  |  | 33 | <span class="sgpb-newsletter-success-message sgpb-hide"><?php esc\_html\_e('You will receive an email notification after all emails are sent', 'popup-builder'); ?>.</span> |
  |  | 34 | <span class="sgpb-newsletter-test-success-message sgpb-hide"><?php esc\_html\_e('Test email was successfully sent', 'popup-builder'); ?>.</span> |
  | 31 | 35 | </div> |
  | 32 | 36 | <div class="formItem sgpb-margin-top-0"> |
  | 33 |  | <h3 class="formItem\_\_title"><?php esc\_html\_e('Newsletter settings', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></h3> |
  |  | 37 | <h3 class="formItem\_\_title"><?php esc\_html\_e('Newsletter settings', 'popup-builder'); ?></h3> |
  | 34 | 38 | </div> |
  | 35 | 39 | <div class="sgpb-bg-black\_\_opacity-02 sgpb-padding-x-30 sgpb-padding-y-10"> |
  | 36 | 40 | <div class="formItem"> |
  | 37 | 41 | <div class="titleQuestionWrapper"> |
  | 38 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Choose the popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 42 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Choose the popup', 'popup-builder'); ?></span> |
  | 39 | 43 | </div> |
  | 40 | 44 | <?php echo wp\_kses($subscriptionSelectBox, AdminHelper::allowed\_html\_tags()); ?> |
  | 41 | 45 | </div> |
  | 42 | 46 | <div class="formItem"> |
  | 43 |  | <div class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Emails to send in one flow per 1 minute', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></div> |
  |  | 47 | <div class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Emails to send in one flow per 1 minute', 'popup-builder'); ?></div> |
  | 44 | 48 | <input type="number" id="sgpb-emails-in-flow" class="sgpb-emails-in-flow formItem\_\_input" value="<?php echo esc\_attr(SGPB\_FILTER\_REPEAT\_INTERVAL); ?>"> |
  | 45 | 49 | </div> |
  | 46 | 50 | <div class="formItem"> |
  | 47 |  | <div class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('From email', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></div> |
  |  | 51 | <div class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('From email', 'popup-builder'); ?></div> |
  | 48 | 52 | <input type="email" id="sgpb-newsletter-from-email" class="sgpb-newsletter-from-email formItem\_\_input formItem\_\_input\_sgpb-popup-overlay" value="<?php echo esc\_attr($adminEmail); ?>"> |
  | 49 | 53 | </div> |
  | 50 | 54 | <div class="formItem"> |
  | 51 |  | <div class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Email\'s subject', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></div> |
  | 52 |  | <input type="email" id="sgpb-newsletter-subject" class="sgpb-newsletter-subject formItem\_\_input formItem\_\_input\_sgpb-popup-overlay" value="<?php echo esc\_attr((empty($newsletterSavedOptions['newsletterSubject'])) ? esc\_html\_e('Your subject here', ~~SG\_POPUP\_TEXT\_DOMAIN~~) : $newsletterSavedOptions['newsletterSubject']); ?>"> |
  |  | 55 | <div class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Email\'s subject', 'popup-builder'); ?></div> |
  |  | 56 | <input type="email" id="sgpb-newsletter-subject" class="sgpb-newsletter-subject formItem\_\_input formItem\_\_input\_sgpb-popup-overlay" value="<?php echo esc\_attr((empty($newsletterSavedOptions['newsletterSubject'])) ? esc\_html\_e('Your subject here', 'popup-builder') : $newsletterSavedOptions['newsletterSubject']); ?>"> |
  | 53 | 57 | </div> |
  | 54 | 58 | </div> |
  | 55 | 59 |  |
  | 56 | 60 | <div class="formItem"> |
  | 57 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Edit newsletter email template below', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 61 | <span class="formItem\_\_title"><?php esc\_html\_e('Edit newsletter email template below', 'popup-builder'); ?></span> |
  | 58 | 62 | </div> |
  | 59 | 63 | <div class="mediaEditor"> |
  | […](/browser/popup-builder/trunk/public/views/newsletter.php?rev=2725980#L83) | […](/browser/popup-builder/trunk/public/views/newsletter.php?rev=3085485#L87) |  |
  | 83 | 87 | <div class="formItem"> |
  | 84 | 88 | <input class="sgpb-newlsetter-test-emails sgpb-margin-right-10" type="text" name="sgpb-newlsetter-test-emails"> |
  | 85 |  | <input type="submit" class="sgpb-btn sgpb-btn-blue js-send-newsletter" style="line-height: 2;" data-send-type="test" value="<?php esc\_html\_e('Send a Test', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  | 86 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_IMG\_URL.'ajaxSpinner.gif'); ?>" width="20px" class="sgpb-hide sgpb-js-newsletter-spinner"> |
  |  | 89 | <input type="submit" class="sgpb-btn sgpb-btn-blue js-send-newsletter" style="line-height: 2;" data-send-type="test" value="<?php esc\_html\_e('Send a Test', 'popup-builder')?>"> |
  |  | 90 | <img src="<?php echo esc\_url(SG\_POPUP\_IMG\_URL.'ajaxSpinner.gif'); ?>" width="20px" class="sgpb-hide sgpb-js-newsletter-spinner"> |
  | 87 | 91 | </div> |
  | 88 | 92 | <div> |
  | 89 |  | <input type="submit" class="sgpb-btn sgpb-btn-blue sgpb-margin-top-20 js-send-newsletter sendButton" value="<?php esc\_html\_e('Send newsletter', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  | 90 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_IMG\_URL.'ajaxSpinner.gif'); ?>" width="20px" class="sgpb-hide sgpb-js-newsletter-spinner"> |
  |  | 93 | <input type="submit" class="sgpb-btn sgpb-btn-blue sgpb-margin-top-20 js-send-newsletter sendButton" value="<?php esc\_html\_e('Send newsletter', 'popup-builder')?>"> |
  |  | 94 | <img src="<?php echo esc\_url(SG\_POPUP\_IMG\_URL.'ajaxSpinner.gif'); ?>" width="20px" class="sgpb-hide sgpb-js-newsletter-spinner"> |
  | 91 | 95 | </div> |
  | 92 | 96 | </div> |
  | […](/browser/popup-builder/trunk/public/views/newsletter.php?rev=2725980#L95) | […](/browser/popup-builder/trunk/public/views/newsletter.php?rev=3085485#L99) |  |
  | 95 | 99 | <div class="sgpb-width-30"> |
  | 96 | 100 | <div class="sgpb-position-sticky sgpb-border-radius-5px sgpb-padding-20 sgpb-shadow-black-10" style="top: 7%!important;"> |
  | 97 |  | <h2 class="sgpb-header-h4"><?php esc\_html\_e('Newsletter Shortcodes', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></h2> |
  |  | 101 | <h2 class="sgpb-header-h4"><?php esc\_html\_e('Newsletter Shortcodes', 'popup-builder'); ?></h2> |
  | 98 | 102 | <div class="formItem"> |
  | 99 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Default shortcodes', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 103 | <span class="formItem\_\_title"><?php esc\_html\_e('Default shortcodes', 'popup-builder'); ?>:</span> |
  | 100 | 104 | </div> |
  | 101 |  | <input type="button" id="sgpb-newsletter-shortcode-firstName" class="sgpb-btn sgpb-btn-blue-light sgpb-margin-5 buttonGroup\_\_button\_shortcodes" value="<?php esc\_html\_e('Subscriber First name', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" data-value="[First name]"> |
  | 102 |  | <input type="button" id="sgpb-newsletter-shortcode-lastName" class="sgpb-btn sgpb-btn-blue-light sgpb-margin-5 buttonGroup\_\_button\_shortcodes" value="<?php esc\_html\_e('Subscriber Last name', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" data-value="[Last name]"> |
  | 103 |  | <input type="button" id="sgpb-newsletter-shortcode-blogName" class="sgpb-btn sgpb-btn-blue-light sgpb-margin-5 buttonGroup\_\_button\_shortcodes" value="<?php esc\_html\_e('Your blog name', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" data-value="[Blog name]"> |
  | 104 |  | <input type="button" id="sgpb-newsletter-shortcode-userName" class="sgpb-btn sgpb-btn-blue-light sgpb-margin-5 buttonGroup\_\_button\_shortcodes" value="<?php esc\_html\_e('Your user name', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" data-value="[User name]"> |
  | 105 |  | <input type="button" id="sgpb-newsletter-shortcode-unsubscribe" class="sgpb-btn sgpb-btn-blue-light sgpb-margin-5 buttonGroup\_\_button\_shortcodes" value="<?php esc\_html\_e('Unsubscribe', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" data-value="[Unsubscribe]"> |
  |  | 105 | <input type="button" id="sgpb-newsletter-shortcode-firstName" class="sgpb-btn sgpb-btn-blue-light sgpb-margin-5 buttonGroup\_\_button\_shortcodes" value="<?php esc\_html\_e('Subscriber First name', 'popup-builder'); ?>" data-value="[First name]"> |
  |  | 106 | <input type="button" id="sgpb-newsletter-shortcode-lastName" class="sgpb-btn sgpb-btn-blue-light sgpb-margin-5 buttonGroup\_\_button\_shortcodes" value="<?php esc\_html\_e('Subscriber Last name', 'popup-builder'); ?>" data-value="[Last name]"> |
  |  | 107 | <input type="button" id="sgpb-newsletter-shortcode-blogName" class="sgpb-btn sgpb-btn-blue-light sgpb-margin-5 buttonGroup\_\_button\_shortcodes" value="<?php esc\_html\_e('Your blog name', 'popup-builder'); ?>" data-value="[Blog name]"> |
  |  | 108 | <input type="button" id="sgpb-newsletter-shortcode-userName" class="sgpb-btn sgpb-btn-blue-light sgpb-margin-5 buttonGroup\_\_button\_shortcodes" value="<?php esc\_html\_e('Your user name', 'popup-builder'); ?>" data-value="[User name]"> |
  |  | 109 | <input type="button" id="sgpb-newsletter-shortcode-unsubscribe" class="sgpb-btn sgpb-btn-blue-light sgpb-margin-5 buttonGroup\_\_button\_shortcodes" value="<?php esc\_html\_e('Unsubscribe', 'popup-builder'); ?>" data-value="[Unsubscribe]"> |
  | 106 | 110 |  |
  | 107 | 111 | <?php if (!empty($subscriptionPopupsCustomFields)) :?> |
  | 108 | 112 | <div class="formItem"> |
  | 109 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Custom fields\' shortcodes', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 113 | <span class="formItem\_\_title"><?php esc\_html\_e('Custom fields\' shortcodes', 'popup-builder'); ?>:</span> |
  | 110 | 114 | </div> |
  | 111 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_IMG\_URL.'ajaxSpinner.gif'); ?>" width="20px" class="sgpb-hide sgpb-js-newsletter-custom-fields-spinner"> |
  |  | 115 | <img src="<?php echo esc\_url(SG\_POPUP\_IMG\_URL.'ajaxSpinner.gif'); ?>" width="20px" class="sgpb-hide sgpb-js-newsletter-custom-fields-spinner"> |
  | 112 | 116 | <?php |
  | 113 | 117 | foreach ($subscriptionPopupsCustomFields as $index => $field) { |
* ## [popup-builder/trunk/public/views/options/facebook.php](/changeset/3085485/popup-builder/trunk/public/views/options/facebook.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/options/facebook.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/options/facebook.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/options/facebook.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 7 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 4 | 8 | $allowed\_html = AdminHelper::allowed\_html\_tags(); |
  | 5 | 9 |  |
  | […](/browser/popup-builder/trunk/public/views/options/facebook.php?rev=2686454#L7) | […](/browser/popup-builder/trunk/public/views/options/facebook.php?rev=3085485#L11) |  |
  | 7 | 11 | <div class="sgpb sgpb-wrapper video-popup-options sgpb-fblike-options"> |
  | 8 | 12 | <div class="formItem"> |
  | 9 |  | <span class="formItem\_\_title formItem\_\_title\_marginBottom "><?php esc\_html\_e("URL", ~~SG\_POPUP\_TEXT\_DOMAIN~~)  ?>:</span> |
  |  | 13 | <span class="formItem\_\_title formItem\_\_title\_marginBottom "><?php esc\_html\_e("URL", 'popup-builder')  ?>:</span> |
  | 10 | 14 | <input name="sgpb-fblike-like-url" id="sgpb-fblike-like-url" type="url" placeholder="http://" class="grayFormItem\_\_input" value="<?php echo esc\_html($popupTypeObj->getOptionValue('sgpb-fblike-like-url'))?>" required> |
  | 11 | 15 | </div> |
  | 12 | 16 | <div class="formItem"> |
  | 13 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Layout', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 17 | <span class="formItem\_\_title"><?php esc\_html\_e('Layout', 'popup-builder')?>:</span> |
  | 14 | 18 | <?php echo wp\_kses(AdminHelper::createSelectBox($defaultData['buttonsType'], esc\_html($popupTypeObj->getOptionValue('sgpb-fblike-layout')), array('name' => 'sgpb-fblike-layout', 'class'=>'js-sg-select2', 'id'=>'sgpb-fblike-layout')), $allowed\_html); ?> |
  | 15 | 19 | </div> |
  | 16 | 20 | <div class="formItem"> |
  | 17 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Don\'t show share button', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?>:</span> |
  |  | 21 | <span class="formItem\_\_title"><?php esc\_html\_e('Don\'t show share button', 'popup-builder');?>:</span> |
  | 18 | 22 | <div class="sgpb-onOffSwitch"> |
  | 19 | 23 | <input class="sgpb-onOffSwitch-checkbox" name="sgpb-fblike-dont-show-share-button" id="fblike-dont-show-share-button" type="checkbox" <?php echo esc\_html($popupTypeObj->getOptionValue('sgpb-fblike-dont-show-share-button'));?>> |
* ## [popup-builder/trunk/public/views/options/subscription.php](/changeset/3085485/popup-builder/trunk/public/views/options/subscription.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/options/subscription.php")

  | [r2793273](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L1 "Show revision 2793273 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 | 7 | use sgpb\MultipleChoiceButton; |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L5) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L9) |  |
  | 5 | 9 |  |
  | 6 | 10 | $allowed\_html = AdminHelper::allowed\_html\_tags(); |
  | 7 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 11 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 8 | 12 | $placeholderColor = $popupTypeObj->getOptionValue('sgpb-subs-text-placeholder-color'); |
  | 9 | 13 | $popupId = 0; |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L34) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L38) |  |
  | 34 | 38 | <div class="formItem sgpb-margin-top-0"> |
  | 35 | 39 | <div class="sgpb-width-100 sgpb-margin-bottom-40"> |
  | 36 |  | <p class="formItem\_\_title"><?php esc\_html\_e('Form background options', ~~SG\_POPUP\_TEXT\_DOMAIN); ?></p>~~ |
  |  | 40 | <p class="formItem\_\_title"><?php esc\_html\_e('Form background options', 'popup-builder'); ?></p> |
  | 37 | 41 | </div> |
  | 38 | 42 | <div class="subForm sgpb-bg-black\_\_opacity-02 sgpb-padding-30 sgpb-width-100"> |
  | 39 | 43 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center sgpb-margin-y-20"> |
  | 40 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Form background color', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 44 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Form background color', 'popup-builder'); ?>:</span> |
  | 41 | 45 | <div class="colorPicker"> |
  | 42 | 46 | <div class="sgpb-color-picker-wrapper unhideColorPicker"> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L46) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L50) |  |
  | 46 | 50 | </div> |
  | 47 | 51 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center sgpb-margin-y-20"> |
  | 48 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Form background opacity', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 52 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Form background opacity', 'popup-builder')?>:</span> |
  | 49 | 53 | <div class="sgpb-slider-wrapper range-wrap"> |
  | 50 | 54 | <div class="sgpb-slider-wrapper sgpb-range-wrap sgpb-display-inline-flex"> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L58) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L62) |  |
  | 58 | 62 | </div> |
  | 59 | 63 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center sgpb-margin-y-20"> |
  | 60 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Form padding', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 64 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Form padding', 'popup-builder')?>:</span> |
  | 61 | 65 | <input type="number" min="0" data-default="<?php echo esc\_attr($popupTypeObj->getOptionDefaultValue('sgpb-subs-form-padding'))?>" class="js-sgpb-form-padding formItem\_\_input" id="sgpb-subs-form-padding" name="sgpb-subs-form-padding" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-form-padding'))?>" autocomplete="off"> |
  | 62 | 66 | <div class="formItem\_\_inputValueType">px</div> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L65) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L69) |  |
  | 65 | 69 | </div> |
  | 66 | 70 | <div class="formItem"> |
  | 67 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Email placeholder', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 71 | <span class="formItem\_\_title"><?php esc\_html\_e('Email placeholder', 'popup-builder'); ?></span> |
  | 68 | 72 | <input type="text" name="sgpb-subs-email-placeholder" id="subs-email-placeholder" class="formItem\_\_input formItem\_\_input\_sgpb-popup-overlay js-subs-field-placeholder" data-subs-rel="js-subs-email-input" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-email-placeholder')); ?>"> |
  | 69 | 73 | </div> |
  | 70 | 74 | <div class="formItem"> |
  | 71 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Enable GDPR', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 75 | <span class="formItem\_\_title"><?php esc\_html\_e('Enable GDPR', 'popup-builder')?>:</span> |
  | 72 | 76 | <div class="sgpb-onOffSwitch"> |
  | 73 | 77 | <input type="checkbox" class="js-checkbox-accordion js-checkbox-field-status sgpb-onOffSwitch-checkbox" id="subs-gdpr-status" data-subs-field-wrapper="js-gdpr-wrapper" name="sgpb-subs-gdpr-status" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-gdpr-status')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L80) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L84) |  |
  | 80 | 84 | <div class="formItem sgpb-width-100 sgpb-bg-black\_\_opacity-02 sgpb-padding-20"> |
  | 81 | 85 | <div class="subFormItem sgpb-margin-bottom-20"> |
  | 82 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Label', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 86 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Label', 'popup-builder')?>:</span> |
  | 83 | 87 | <input type="text" name="sgpb-subs-gdpr-label" id="sgpb-subs-gdpr-label" class="js-subs-field-placeholder formItem\_\_input formItem\_\_input\_sgpb-popup-overlay" data-subs-rel="js-subs-gdpr-label" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-gdpr-label')); ?>"> |
  | 84 | 88 | </div> |
  | 85 | 89 | <div class="subFormItem sgpb-display-flex"> |
  | 86 |  | <span class="subFormItem\_\_title sgpb-margin-right-10 sgpb-text-nowrap"><?php esc\_html\_e('Confirmation text', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 90 | <span class="subFormItem\_\_title sgpb-margin-right-10 sgpb-text-nowrap"><?php esc\_html\_e('Confirmation text', 'popup-builder')?>:</span> |
  | 87 | 91 | <textarea name="sgpb-subs-gdpr-text" id="sgpb-subs-gdpr-text" class="formItem\_\_textarea"><?php echo esc\_html($popupTypeObj->getOptionValue('sgpb-subs-gdpr-text')); ?></textarea> |
  | 88 | 92 | </div> |
  | 89 | 93 | </div> |
  | 90 | 94 | <div class="formItem"> |
  | 91 |  | <span class="formItem\_\_title"><?php esc\_html\_e('First name', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 95 | <span class="formItem\_\_title"><?php esc\_html\_e('First name', 'popup-builder')?>:</span> |
  | 92 | 96 | <div class="sgpb-onOffSwitch"> |
  | 93 | 97 | <input type="checkbox" class="js-checkbox-accordion js-checkbox-field-status sgpb-onOffSwitch-checkbox" id="subs-first-name-status" data-subs-field-wrapper="js-first-name-wrapper" name="sgpb-subs-first-name-status" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-first-name-status')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L100) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L104) |  |
  | 100 | 104 | <div class="formItem sgpb-width-100 sgpb-bg-black\_\_opacity-02 sgpb-padding-20"> |
  | 101 | 105 | <div class="subFormItem"> |
  | 102 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Placeholder', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 106 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Placeholder', 'popup-builder')?>:</span> |
  | 103 | 107 | <input type="text" name="sgpb-subs-first-placeholder" id="subs-first-placeholder" class="formItem\_\_input formItem\_\_input\_sgpb-popup-overlay js-subs-field-placeholder" data-subs-rel="js-subs-first-name-input" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-first-placeholder')); ?>"> |
  | 104 | 108 | </div> |
  | 105 | 109 | <div class="subFormItem sgpb-align-item-center sgpb-display-flex sgpb-margin-top-10"> |
  | 106 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Required field', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 110 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Required field', 'popup-builder')?>:</span> |
  | 107 | 111 | <div class="sgpb-onOffSwitch"> |
  | 108 | 112 | <input type="checkbox" name="sgpb-subs-first-name-required" class="sgpb-onOffSwitch-checkbox" id="subs-first-name-required" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-first-name-required')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L115) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L119) |  |
  | 115 | 119 | </div> |
  | 116 | 120 | <div class="formItem"> |
  | 117 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Last name', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 121 | <span class="formItem\_\_title"><?php esc\_html\_e('Last name', 'popup-builder')?>:</span> |
  | 118 | 122 | <div class="sgpb-onOffSwitch"> |
  | 119 | 123 | <input type="checkbox" class="js-checkbox-accordion js-checkbox-field-status sgpb-onOffSwitch-checkbox" id="subs-last-name-status" data-subs-field-wrapper="js-last-name-wrapper" name="sgpb-subs-last-name-status" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-last-name-status')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L126) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L130) |  |
  | 126 | 130 | <div class="formItem sgpb-width-100 sgpb-bg-black\_\_opacity-02 sgpb-padding-20"> |
  | 127 | 131 | <div class="subFormItem"> |
  | 128 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Placeholder', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 132 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Placeholder', 'popup-builder')?>:</span> |
  | 129 | 133 | <input id="subs-last-placeholder" class="formItem\_\_input formItem\_\_input\_sgpb-popup-overlay " data-subs-rel="js-subs-last-name-input"  type="text" name="sgpb-subs-last-placeholder" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-last-placeholder')); ?>"> |
  | 130 | 134 | </div> |
  | 131 | 135 | <div class="subFormItem sgpb-align-item-center sgpb-display-flex sgpb-margin-top-10"> |
  | 132 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Required field', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 136 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Required field', 'popup-builder')?>:</span> |
  | 133 | 137 | <div class="sgpb-onOffSwitch"> |
  | 134 | 138 | <input type="checkbox" name="sgpb-subs-last-name-required" class="sgpb-onOffSwitch-checkbox" id="subs-last-name-required" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-last-name-required')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L141) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L145) |  |
  | 141 | 145 | </div> |
  | 142 | 146 | <div class="formItem"> |
  | 143 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Required field message', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 147 | <span class="formItem\_\_title"><?php esc\_html\_e('Required field message', 'popup-builder'); ?></span> |
  | 144 | 148 | <input type="text" name="sgpb-subs-validation-message" id="subs-validation-message" class="formItem\_\_input formItem\_\_input\_sgpb-popup-overlay sgpb-full-width-events" maxlength="90" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-validation-message')); ?>"> |
  | 145 | 149 | </div> |
  | 146 | 150 | <div class="formItem"> |
  | 147 | 151 | <div class="sgpb-width-100"> |
  | 148 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Inputs\' style', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 152 | <span class="formItem\_\_title"><?php esc\_html\_e('Inputs\' style', 'popup-builder'); ?></span> |
  | 149 | 153 | </div> |
  | 150 | 154 | <div class="subForm sgpb-bg-black\_\_opacity-02 sgpb-padding-30 sgpb-width-100"> |
  | 151 | 155 | <div class="subFormItem bottom"> |
  | 152 | 156 | <div class="maxWidth sgpb-margin-bottom-20"> |
  | 153 |  | <span class="subFormItem\_\_title formItem\_\_title\_equals sgpb-margin-right-10"><?php esc\_html\_e('Width', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 157 | <span class="subFormItem\_\_title formItem\_\_title\_equals sgpb-margin-right-10"><?php esc\_html\_e('Width', 'popup-builder'); ?>:</span> |
  | 154 | 158 | <input type="text" class="js-subs-dimension subFormItem\_\_input" data-field-type="input" data-subs-rel="js-subs-text-inputs" data-style-type="width" name="sgpb-subs-text-width" id="subs-text-width" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-text-width')); ?>"> |
  | 155 | 159 | </div> |
  | 156 | 160 | <div class="maxHeight sgpb-margin-bottom-20"> |
  | 157 |  | <span class="subFormItem\_\_title formItem\_\_title\_equals sgpb-margin-right-10"><?php esc\_html\_e('Height', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 161 | <span class="subFormItem\_\_title formItem\_\_title\_equals sgpb-margin-right-10"><?php esc\_html\_e('Height', 'popup-builder'); ?>:</span> |
  | 158 | 162 | <input class="js-subs-dimension subFormItem\_\_input" data-field-type="input" data-subs-rel="js-subs-text-inputs" data-style-type="height" type="text" name="sgpb-subs-text-height" id="subs-text-height" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-text-height')); ?>"> |
  | 159 | 163 | </div> |
  | 160 | 164 | </div> |
  | 161 | 165 | <div class="subFormItem sgpb-margin-bottom-20"> |
  | 162 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Border width', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 166 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Border width', 'popup-builder')?>:</span> |
  | 163 | 167 | <input class="js-subs-dimension formItem\_\_input formItem\_\_input\_sgpb-popup-overlay" data-field-type="input" data-subs-rel="js-subs-text-inputs" data-style-type="border-width" type="text" name="sgpb-subs-text-border-width" id="subs-text-border-width" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-text-border-width')); ?>"> |
  | 164 | 168 | </div> |
  | 165 | 169 | <div class="subFormItem sgpb-margin-bottom-20 sgpb-display-flex sgpb-align-item-center"> |
  | 166 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Background color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 170 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Background color', 'popup-builder')?>:</span> |
  | 167 | 171 | <div class="sgpb-color-picker-wrapper unhideColorPicker"> |
  | 168 | 172 | <input class="sgpb-color-picker js-subs-color-picker" data-field-type="input" data-subs-rel="js-subs-text-inputs" data-style-type="background-color" type="text" name="sgpb-subs-text-bg-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-text-bg-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L170) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L174) |  |
  | 170 | 174 | </div> |
  | 171 | 175 | <div class="subFormItem sgpb-margin-bottom-20 sgpb-display-flex sgpb-align-item-center"> |
  | 172 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Border color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 176 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Border color', 'popup-builder')?>:</span> |
  | 173 | 177 | <div class="sgpb-color-picker-wrapper unhideColorPicker"> |
  | 174 | 178 | <input class="sgpb-color-picker js-subs-color-picker" data-field-type="input" data-subs-rel="js-subs-text-inputs" data-style-type="border-color" type="text" name="sgpb-subs-text-border-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-text-border-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L176) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L180) |  |
  | 176 | 180 | </div> |
  | 177 | 181 | <div class="subFormItem sgpb-margin-bottom-20 sgpb-display-flex sgpb-align-item-center"> |
  | 178 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Text color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 182 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Text color', 'popup-builder')?>:</span> |
  | 179 | 183 | <div class="sgpb-color-picker-wrapper unhideColorPicker"> |
  | 180 | 184 | <input class="sgpb-color-picker js-subs-color-picker" data-field-type="input" data-subs-rel="js-subs-text-inputs" data-style-type="color" type="text" name="sgpb-subs-text-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-text-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L182) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L186) |  |
  | 182 | 186 | </div> |
  | 183 | 187 | <div class="subFormItem sgpb-margin-bottom-20 sgpb-display-flex sgpb-align-item-center"> |
  | 184 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Placeholder color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 188 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Placeholder color', 'popup-builder')?>:</span> |
  | 185 | 189 | <div class="sgpb-color-picker-wrapper unhideColorPicker"> |
  | 186 | 190 | <input class="sgpb-color-picker js-subs-color-picker" data-field-type="input" data-subs-rel="js-subs-text-inputs" data-style-type="placeholder" type="text" name="sgpb-subs-text-placeholder-color" value="<?php echo esc\_attr($placeholderColor); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L192) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L196) |  |
  | 192 | 196 | <div class="formItem"> |
  | 193 | 197 | <div class="sgpb-width-100"> |
  | 194 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Submit button styles', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 198 | <span class="formItem\_\_title"><?php esc\_html\_e('Submit button styles', 'popup-builder'); ?></span> |
  | 195 | 199 | </div> |
  | 196 | 200 | <div class="subForm sgpb-bg-black\_\_opacity-02 sgpb-padding-30 sgpb-width-100"> |
  | 197 | 201 | <div class="subFormItem bottom"> |
  | 198 | 202 | <div class="maxWidth sgpb-margin-bottom-20"> |
  | 199 |  | <span class="subFormItem\_\_title formItem\_\_title\_equals sgpb-margin-right-10"><?php esc\_html\_e('Width', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 203 | <span class="subFormItem\_\_title formItem\_\_title\_equals sgpb-margin-right-10"><?php esc\_html\_e('Width', 'popup-builder'); ?>:</span> |
  | 200 | 204 | <input class="js-subs-dimension subFormItem\_\_input" data-subs-rel="js-subs-submit-btn" data-field-type="submit" data-style-type="width" type="text" name="sgpb-subs-btn-width" id="subs-btn-width" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-btn-width')); ?>"> |
  | 201 | 205 | </div> |
  | 202 | 206 | <div class="maxHeight sgpb-margin-bottom-20"> |
  | 203 |  | <span class="subFormItem\_\_title formItem\_\_title\_equals sgpb-margin-right-10"><?php esc\_html\_e('Height', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 207 | <span class="subFormItem\_\_title formItem\_\_title\_equals sgpb-margin-right-10"><?php esc\_html\_e('Height', 'popup-builder'); ?>:</span> |
  | 204 | 208 | <input class="js-subs-dimension subFormItem\_\_input" data-subs-rel="js-subs-submit-btn" data-field-type="submit" data-style-type="height" type="text" name="sgpb-subs-btn-height" id="subs-btn-height" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-btn-height')); ?>"> |
  | 205 | 209 | </div> |
  | 206 | 210 | </div> |
  | 207 | 211 | <div class="subFormItem sgpb-margin-bottom-20"> |
  | 208 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Border width', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 212 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Border width', 'popup-builder')?>:</span> |
  | 209 | 213 | <input class="js-subs-dimension formItem\_\_input" data-field-type="submit" data-subs-rel="js-subs-submit-btn" data-style-type="border-width" type="text" name="sgpb-subs-btn-border-width" id="sgpb-subs-btn-border-width" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-btn-border-width')); ?>"> |
  | 210 | 214 | </div> |
  | 211 | 215 | <div class="subFormItem sgpb-margin-bottom-20"> |
  | 212 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Border radius', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 216 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Border radius', 'popup-builder')?>:</span> |
  | 213 | 217 | <input class="js-subs-dimension formItem\_\_input" data-subs-rel="js-subs-submit-btn" data-field-type="submit" data-style-type="border-radius" type="text" name="sgpb-subs-btn-border-radius" id="sgpb-subs-btn-border-radius" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-btn-border-radius')); ?>"> |
  | 214 | 218 | </div> |
  | 215 | 219 | <div class="subFormItem sgpb-margin-bottom-20 sgpb-display-flex sgpb-align-item-center"> |
  | 216 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Border color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 220 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Border color', 'popup-builder')?>:</span> |
  | 217 | 221 | <div class="sgpb-color-picker-wrapper unhideColorPicker"> |
  | 218 | 222 | <input id="sgpb-subs-btn-border-color" class="sgpb-color-picker js-subs-color-picker" data-field-type="submit" data-subs-rel="js-subs-submit-btn" data-style-type="border-color" type="text" name="sgpb-subs-btn-border-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-btn-border-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L220) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L224) |  |
  | 220 | 224 | </div> |
  | 221 | 225 | <div class="subFormItem sgpb-margin-bottom-20"> |
  | 222 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Title', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 226 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Title', 'popup-builder')?>:</span> |
  | 223 | 227 | <input type="text" name="sgpb-subs-btn-title" id="subs-btn-title" class="formItem\_\_input formItem\_\_input\_sgpb-popup-overlay js-subs-btn-title" data-field-type="submit" data-subs-rel="js-subs-submit-btn" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-btn-title')); ?>"> |
  | 224 | 228 | </div> |
  | 225 | 229 | <div class="subFormItem sgpb-margin-bottom-20"> |
  | 226 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Title (in progress)', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 230 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Title (in progress)', 'popup-builder')?>:</span> |
  | 227 | 231 | <input type="text" name="sgpb-subs-btn-progress-title" id="btn-progress-title" class="formItem\_\_input formItem\_\_input\_sgpb-popup-overlay" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-btn-progress-title')); ?>"> |
  | 228 | 232 | </div> |
  | 229 | 233 | <div class="subFormItem sgpb-margin-bottom-20 sgpb-display-flex sgpb-align-item-center"> |
  | 230 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Background color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 234 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Background color', 'popup-builder')?>:</span> |
  | 231 | 235 | <div class="sgpb-color-picker-wrapper unhideColorPicker"> |
  | 232 | 236 | <input class="sgpb-color-picker js-subs-color-picker" data-field-type="submit" data-subs-rel="js-subs-submit-btn" data-style-type="background-color" type="text" name="sgpb-subs-btn-bg-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-btn-bg-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L234) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L238) |  |
  | 234 | 238 | </div> |
  | 235 | 239 | <div class="subFormItem sgpb-margin-bottom-20 sgpb-display-flex sgpb-align-item-center"> |
  | 236 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Text color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 240 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Text color', 'popup-builder')?>:</span> |
  | 237 | 241 | <div class="sgpb-color-picker-wrapper unhideColorPicker"> |
  | 238 | 242 | <input class="sgpb-color-picker js-subs-color-picker" data-field-type="submit" data-subs-rel="js-subs-submit-btn" data-style-type="color" type="text" name="sgpb-subs-btn-text-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-btn-text-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L242) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L246) |  |
  | 242 | 246 | </div> |
  | 243 | 247 | <div class="formItem"> |
  | 244 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Error message', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 248 | <span class="formItem\_\_title"><?php esc\_html\_e('Error message', 'popup-builder'); ?></span> |
  | 245 | 249 | <input type="text" class="formItem\_\_input formItem\_\_input\_sgpb-popup-overlay" name="sgpb-subs-error-message" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-error-message')); ?>"> |
  | 246 | 250 | </div> |
  | 247 | 251 | <div class="formItem"> |
  | 248 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Invalid email message', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 252 | <span class="formItem\_\_title"><?php esc\_html\_e('Invalid email message', 'popup-builder'); ?></span> |
  | 249 | 253 | <input type="text" class="formItem\_\_input formItem\_\_input\_sgpb-popup-overlay" name="sgpb-subs-invalid-message" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-invalid-message')); ?>"> |
  | 250 | 254 | </div> |
  | 251 | 255 | <div class="formItem"> |
  | 252 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Show form on the Top', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 256 | <span class="formItem\_\_title"><?php esc\_html\_e('Show form on the Top', 'popup-builder')?>:</span> |
  | 253 | 257 | <div class="sgpb-onOffSwitch"> |
  | 254 | 258 | <input type="checkbox" id="sgpb-subs-show-form-to-top" class="sgpb-onOffSwitch-checkbox" name="sgpb-subs-show-form-to-top" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-show-form-to-top')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L260) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L264) |  |
  | 260 | 264 | </div> |
  | 261 | 265 | <div class="formItem"> |
  | 262 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Hide for already subscribed users', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 266 | <span class="formItem\_\_title"><?php esc\_html\_e('Hide for already subscribed users', 'popup-builder')?>:</span> |
  | 263 | 267 | <div class="sgpb-onOffSwitch"> |
  | 264 | 268 | <input type="checkbox" id="sgpb-subs-hide-subs-users" class="sgpb-onOffSwitch-checkbox" name="sgpb-subs-hide-subs-users" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-hide-subs-users')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L270) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L274) |  |
  | 270 | 274 | </div> |
  | 271 | 275 | <div class="formItem"> |
  | 272 |  | <span class="formItem\_\_title"><?php esc\_html\_e('After successful subscription', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 276 | <span class="formItem\_\_title"><?php esc\_html\_e('After successful subscription', 'popup-builder')?>:</span> |
  | 273 | 277 | </div> |
  | 274 | 278 | <div class="formItem sgpb-bg-black\_\_opacity-02 sgpb-width-100 sgpb-padding-20 sgpb-margin-bottom-20"> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L281) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L285) |  |
  | 281 | 285 | <div class="sg-hide sgpb-bg-black\_\_opacity-02 sgpb-width-100 sgpb-padding-20 sgpb-margin-bottom-20" id="subs-show-success-message"> |
  | 282 | 286 | <div class="subFormItem"> |
  | 283 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Success message', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 287 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Success message', 'popup-builder')?>:</span> |
  | 284 | 288 | <input name="sgpb-subs-success-message" type="text" id="sgpb-subs-success-message" class="grayFormItem\_\_input" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-success-message')); ?>"> |
  | 285 | 289 | </div> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L287) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L291) |  |
  | 287 | 291 | <div class="sg-hide sgpb-bg-black\_\_opacity-02 sgpb-width-100 sgpb-padding-20 sgpb-margin-bottom-20" id="subs-redirect-to-URL"> |
  | 288 | 292 | <div class="subFormItem"> |
  | 289 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Redirect URL', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 293 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Redirect URL', 'popup-builder')?>:</span> |
  | 290 | 294 | <input type="url" name="sgpb-subs-success-redirect-URL" id="sgpb-subs-success-redirect-URL" placeholder="https://www.example.com" class="grayFormItem\_\_input" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-success-redirect-URL')); ?>"> |
  | 291 | 295 | </div> |
  | 292 | 296 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center"> |
  | 293 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Redirect to new tab', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 297 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Redirect to new tab', 'popup-builder')?>:</span> |
  | 294 | 298 | <div class="sgpb-onOffSwitch"> |
  | 295 | 299 | <input type="checkbox" name="sgpb-subs-success-redirect-new-tab" id="subs-success-redirect-new-tab" class="sgpb-onOffSwitch-checkbox" placeholder="https://www.example.com" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-subs-success-redirect-new-tab')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L303) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L307) |  |
  | 303 | 307 | <div class="sg-hide sgpb-bg-black\_\_opacity-02 sgpb-width-100 sgpb-padding-20 sgpb-margin-bottom-20" id="subs-open-popup"> |
  | 304 | 308 | <div class="subFormItem"> |
  | 305 |  | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Select popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 309 | <span class="subFormItem\_\_title sgpb-margin-right-10"><?php esc\_html\_e('Select popup', 'popup-builder')?>:</span> |
  | 306 | 310 | <?php echo wp\_kses(AdminHelper::createSelectBox($subscriptionSubPopups, $successPopup, array('name' => 'sgpb-subs-success-popup', 'class'=>'js-sg-select2 select\_\_select')), $allowed\_html); ?> |
  | 307 | 311 | </div> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L312) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L316) |  |
  | 312 | 316 | <div class="livePreview livePreview\_centered sgpb-margin-auto sgpb-align-item-center sgpb-btn sgpb-btn-gray-light sgpb-btn--rounded sgpb-display-flex sgpb-justify-content-center sgpb-no-hover sgpb-cursor-default"> |
  | 313 | 317 | <img class="sgpb-margin-right-10" src="<?php echo esc\_attr(SG\_POPUP\_PUBLIC\_URL.'icons/Black/eye.svg'); ?>" alt="Eye icon"> |
  | 314 |  | <span class="livePreview\_\_text"><?php esc\_html\_e('Live Preview', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></span> |
  |  | 318 | <span class="livePreview\_\_text"><?php esc\_html\_e('Live Preview', 'popup-builder')?></span> |
  | 315 | 319 | </div> |
  | 316 | 320 | <div class="sgpb-margin-top-10 sgpb-subs-form-<?php echo esc\_attr($popupId); ?> sgpb-subscription-admin-wrapper<?php echo esc\_attr($forceRtlClass); ?>"> |
  | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=2793273#L324) | […](/browser/popup-builder/trunk/public/views/options/subscription.php?rev=3085485#L328) |  |
  | 324 | 328 | ?> |
  | 325 | 329 | <div style="max-width: 300px;margin: 0 auto;"> |
  | 326 |  | <span class="sgpb-align-center"><?php \_e('Get the <a href="'.SG\_POPUP\_SUBSCRIPTION\_PLUS\_URL.'">Subscription Plus</a> extension to add or customize the form fields.', SG\_POPUP\_TEXT\_DOMAIN);?></span> |
  |  | 330 | <span class="sgpb-align-center"><?php |
  |  | 331 | /\* translators: POPUP SUBSCRIPTION URL \*/ |
  |  | 332 | printf( wp\_kses\_post(\_\_('Get the <a href="%s">Subscription Plus</a> extension to add or customize the form fields.', 'popup-builder')), esc\_url( SG\_POPUP\_SUBSCRIPTION\_PLUS\_URL ));?></span> |
  | 327 | 333 | </div> |
  | 328 | 334 | </div> |
* ## [popup-builder/trunk/public/views/optionsView.php](/changeset/3085485/popup-builder/trunk/public/views/optionsView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/optionsView.php")

  | [r2793273](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L1 "Show revision 2793273 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 | 7 | use sgpb\MultipleChoiceButton; |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L6) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L10) |  |
  | 6 | 10 | $allowed\_html = AdminHelper::allowed\_html\_tags(); |
  | 7 | 11 | $removedOptions = $popupTypeObj->getRemoveOptions(); |
  | 8 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 12 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 9 | 13 | $defaultAnimation = esc\_attr($popupTypeObj->getOptionValue('sgpb-open-animation-effect')); |
  | 10 | 14 | if (!empty($\_GET['sgpb\_type'])) { |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L27) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L31) |  |
  | 27 | 31 | <?php if(empty($removedOptions['sgpb-content-click'])): ?> |
  | 28 | 32 | <div class="formItem"> |
  | 29 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Action on popup content click', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 33 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Action on popup content click', 'popup-builder')?>:</span> |
  | 30 | 34 | <div class="sgpb-onOffSwitch"> |
  | 31 | 35 | <input type="checkbox" id="sgpb-content-click" name="sgpb-content-click" class="sgpb-onOffSwitch-checkbox js-checkbox-accordion" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-content-click')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L43) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L47) |  |
  | 43 | 47 | <div class="sgpb-bg-black\_\_opacity-02 sg-hide sg-full-width sgpb-padding-20" id="content-click-redirect"> |
  | 44 | 48 | <div class="subFormItem"> |
  | 45 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('URL', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 49 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('URL', 'popup-builder')?>:</span> |
  | 46 | 50 | <input type="url" name="sgpb-click-redirect-to-url" id="redirect-to-url" class="grayFormItem\_\_input" placeholder="http://" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-click-redirect-to-url')); ?>"> |
  | 47 | 51 | </div> |
  | 48 | 52 | <div class="formItem"> |
  | 49 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Redirect to new tab', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 53 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Redirect to new tab', 'popup-builder')?>:</span> |
  | 50 | 54 | <div class="sgpb-onOffSwitch"> |
  | 51 | 55 | <input id="redirect" class="sgpb-onOffSwitch-checkbox" type="checkbox" name="sgpb-redirect-to-new-tab" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-redirect-to-new-tab'));?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L60) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L64) |  |
  | 60 | 64 | <div class="sgpb-bg-black\_\_opacity-02 sg-hide sg-full-width sgpb-padding-20" id="content-copy-to-clipboard"> |
  | 61 | 65 | <div class="subFormItem formItem"> |
  | 62 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Text', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 66 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Text', 'popup-builder')?>:</span> |
  | 63 | 67 | <input type="text" name="sgpb-copy-to-clipboard-text" id="sgpb-copy-to-clipboard-text" class="subFormItem\_\_input" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-copy-to-clipboard-text')); ?>"> |
  | 64 | 68 | </div> |
  | 65 | 69 | <div class="subFormItem formItem"> |
  | 66 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Close popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 70 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Close popup', 'popup-builder')?>:</span> |
  | 67 | 71 | <div class="sgpb-onOffSwitch"> |
  | 68 | 72 | <input class="sgpb-onOffSwitch-checkbox" type="checkbox" name="sgpb-copy-to-clipboard-close-popup" id="sgpb-copy-to-clipboard-close-popup" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-copy-to-clipboard-close-popup')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L74) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L78) |  |
  | 74 | 78 | </div> |
  | 75 | 79 | <div class="subFormItem formItem"> |
  | 76 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Show alert', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 80 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Show alert', 'popup-builder')?>:</span> |
  | 77 | 81 | <div class="sgpb-onOffSwitch"> |
  | 78 | 82 | <input type="checkbox" id="sgpb-copy-to-clipboard-alert" class="js-checkbox-accordion sgpb-onOffSwitch-checkbox" name="sgpb-copy-to-clipboard-alert" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-copy-to-clipboard-alert')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L85) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L89) |  |
  | 85 | 89 | <div class="sg-full-width"> |
  | 86 | 90 | <div class="subFormItem formItem"> |
  | 87 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Message', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 91 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Message', 'popup-builder')?>:</span> |
  | 88 | 92 | <input type="text" id="sgpb-copy-to-clipboard-message" class="subFormItem\_\_input" name="sgpb-copy-to-clipboard-message" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-copy-to-clipboard-message')); ?>"> |
  | 89 | 93 | </div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L94) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L98) |  |
  | 94 | 98 | <?php if (empty($removedOptions['sgpb-show-popup-same-user'])): ?> |
  | 95 | 99 | <div class="formItem"> |
  | 96 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Popup showing limitation', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 100 | <span class="formItem\_\_title"><?php esc\_html\_e('Popup showing limitation', 'popup-builder')?>:</span> |
  | 97 | 101 | <div class="sgpb-onOffSwitch"> |
  | 98 | 102 | <input type="checkbox" id="sgpb-show-popup-same-user" name="sgpb-show-popup-same-user" class="js-checkbox-accordion sgpb-onOffSwitch-checkbox" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-show-popup-same-user')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L105) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L109) |  |
  | 105 | 109 | <div class="sgpb-info-wrapper"> |
  | 106 | 110 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 107 |  | <?php esc\_html\_e('Estimate the popup showing frequency to the same user.', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 111 | <?php esc\_html\_e('Estimate the popup showing frequency to the same user.', 'popup-builder');?> |
  | 108 | 112 | </span> |
  | 109 | 113 | </div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L112) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L116) |  |
  | 112 | 116 | <div class="subForm noPadding"> |
  | 113 | 117 | <div class="subFormItem formItem"> |
  | 114 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Popup showing count', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 118 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Popup showing count', 'popup-builder')?>:</span> |
  | 115 | 119 | <input type="number" min="1" disabled required id="sgpb-show-popup-same-user-count" class="subFormItem\_\_input" name="sgpb-show-popup-same-user-count" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-show-popup-same-user-count')); ?>" placeholder="e.g.: 1"> |
  | 116 | 120 | <div class="question-mark">B</div> |
  | 117 | 121 | <div class="sgpb-info-wrapper"> |
  | 118 | 122 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 119 |  | <?php esc\_html\_e('Select how many times the popup will be shown for the same user.', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 123 | <?php esc\_html\_e('Select how many times the popup will be shown for the same user.', 'popup-builder');?> |
  | 120 | 124 | </span> |
  | 121 | 125 | </div> |
  | 122 | 126 | </div> |
  | 123 | 127 | <div class="subFormItem formItem"> |
  | 124 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Popup showing expiry', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 128 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Popup showing expiry', 'popup-builder')?>:</span> |
  | 125 | 129 | <input type="number" min="0" disabled required id="sgpb-show-popup-same-user-expiry" class="subFormItem\_\_input" name="sgpb-show-popup-same-user-expiry" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-show-popup-same-user-expiry')); ?>" placeholder="e.g.: 1"> |
  | 126 | 130 | <div class="question-mark">B</div> |
  | 127 | 131 | <div class="sgpb-info-wrapper"> |
  | 128 | 132 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 129 |  | <?php esc\_html\_e('Select the count of the days after which the popup will be shown to the same user, or set the value "0" if you want to save cookies by session.', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 133 | <?php esc\_html\_e('Select the count of the days after which the popup will be shown to the same user, or set the value "0" if you want to save cookies by session.', 'popup-builder');?> |
  | 130 | 134 | </span> |
  | 131 | 135 | </div> |
  | 132 | 136 | </div> |
  | 133 | 137 | <div class="subFormItem formItem"> |
  | 134 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Apply option on each page', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 138 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Apply option on each page', 'popup-builder')?>:</span> |
  | 135 | 139 | <div class="checkbox-wrapper"> |
  | 136 | 140 | <input type="checkbox" disabled id="sgpb-show-popup-same-user-page-level" name="sgpb-show-popup-same-user-page-level" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-show-popup-same-user-page-level')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L140) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L144) |  |
  | 140 | 144 | <div class="sgpb-info-wrapper"> |
  | 141 | 145 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 142 |  | <?php esc\_html\_e('If this option is checked the popup showing limitation will be saved for the current page. Otherwise, the limitation will refer site wide, and the popup will be shown for specific times on each page selected.The previously specified count of days will be reset every time you check/uncheck this option.', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 146 | <?php esc\_html\_e('If this option is checked the popup showing limitation will be saved for the current page. Otherwise, the limitation will refer site wide, and the popup will be shown for specific times on each page selected.The previously specified count of days will be reset every time you check/uncheck this option.', 'popup-builder');?> |
  | 143 | 147 | </span> |
  | 144 | 148 | </div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L149) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L153) |  |
  | 149 | 153 | <div class="formItem"> |
  | 150 | 154 | <span class="formItem\_\_title"> |
  | 151 |  | <?php esc\_html\_e('Popup opening sound', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: |
  |  | 155 | <?php esc\_html\_e('Popup opening sound', 'popup-builder'); ?>: |
  | 152 | 156 | </span> |
  | 153 | 157 | <div class="sgpb-onOffSwitch"> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L161) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L165) |  |
  | 161 | 165 | <div class="sgpb-info-wrapper"> |
  | 162 | 166 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 163 |  | <?php esc\_html\_e('If this option is enabled the popup will appear with a sound. The sound option is not available on mobile devices, as there are restrictions on sound auto-play options for mobile devices.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 167 | <?php esc\_html\_e('If this option is enabled the popup will appear with a sound. The sound option is not available on mobile devices, as there are restrictions on sound auto-play options for mobile devices.', 'popup-builder')?> |
  | 164 | 168 | </span> |
  | 165 | 169 | </div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L178) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L182) |  |
  | 178 | 182 | </div> |
  | 179 | 183 | <div class="formItem"> |
  | 180 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Popup opening animation', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 184 | <span class="formItem\_\_title"><?php esc\_html\_e('Popup opening animation', 'popup-builder'); ?>:</span> |
  | 181 | 185 | <div class="sgpb-onOffSwitch"> |
  | 182 | 186 | <input type="checkbox" id="open-animation" class="js-checkbox-accordion sgpb-onOffSwitch-checkbox" name="sgpb-open-animation" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-open-animation')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L190) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L194) |  |
  | 190 | 194 | <div class="subForm formItem sgpb-align-item-baseline sgpb-flex-direction-column sgpb-select2-input-styles-animation-effect"> |
  | 191 | 195 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center sgpb-position-relative sgpb-margin-bottom-20"> |
  | 192 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Type', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 196 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Type', 'popup-builder'); ?>:</span> |
  | 193 | 197 | <?php echo wp\_kses(AdminHelper::createSelectBox($defaultData['openAnimationEfects'], $defaultAnimation, array('name' => 'sgpb-open-animation-effect', 'class'=>'js-sg-select2 sgpb-open-animation-effects select\_\_select')), AdminHelper::allowed\_html\_tags()); ?> |
  | 194 | 198 | <div class="sgpb-icons icons\_blue sgpb-preview-animation sgpb-margin-x-20 sgpb-preview-open-animation">A</div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L196) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L200) |  |
  | 196 | 200 | </div> |
  | 197 | 201 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center"> |
  | 198 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Speed', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 202 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Speed', 'popup-builder'); ?>:</span> |
  | 199 | 203 | <input type="number" |
  | 200 | 204 | id="sgpb-open-animation-speed" name="sgpb-open-animation-speed" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-open-animation-speed'))?>" |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L202) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L206) |  |
  | 202 | 206 | class="subFormItem\_\_input subFormItem\_\_input\_leftRounded" /> |
  | 203 | 207 | <div class="sgpb-margin-left-10 subFormItem\_\_text\_\_rightRounded"> |
  | 204 |  | <?php esc\_html\_e('Second(s)', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 208 | <?php esc\_html\_e('Second(s)', 'popup-builder'); ?> |
  | 205 | 209 | </div> |
  | 206 | 210 | </div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L209) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L213) |  |
  | 209 | 213 |  |
  | 210 | 214 | <div class="formItem"> |
  | 211 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Popup closing animation', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 215 | <span class="formItem\_\_title"><?php esc\_html\_e('Popup closing animation', 'popup-builder'); ?>:</span> |
  | 212 | 216 | <div class="sgpb-onOffSwitch"> |
  | 213 | 217 | <input type="checkbox" id="close-animation" class="js-checkbox-accordion sgpb-onOffSwitch-checkbox" name="sgpb-close-animation" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-close-animation')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L221) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L225) |  |
  | 221 | 225 | <div class="subForm formItem sgpb-align-item-baseline sgpb-flex-direction-column sgpb-select2-input-styles-animation-effect"> |
  | 222 | 226 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center sgpb-position-relative sgpb-margin-bottom-20"> |
  | 223 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Type', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 227 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Type', 'popup-builder'); ?>:</span> |
  | 224 | 228 | <?php echo wp\_kses(AdminHelper::createSelectBox($defaultData['closeAnimationEfects'], $popupTypeObj->getOptionValue('sgpb-close-animation-effect'), array('name' => 'sgpb-close-animation-effect', 'class'=>'js-sg-select2 sgpb-close-animation-effects select\_\_select')), $allowed\_html); ?> |
  | 225 | 229 | <div class="sgpb-icons icons\_blue sgpb-preview-animation sgpb-margin-x-20 sgpb-preview-close-animation">A</div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L227) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L231) |  |
  | 227 | 231 | </div> |
  | 228 | 232 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center"> |
  | 229 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Speed', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 233 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Speed', 'popup-builder'); ?>:</span> |
  | 230 | 234 | <input type="number" |
  | 231 | 235 | min="0" step="0.1" data-default="<?php echo esc\_attr($popupTypeObj->getOptionDefaultValue('sgpb-close-animation-speed'))?>" |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L233) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L237) |  |
  | 233 | 237 | class="subFormItem\_\_input subFormItem\_\_input\_leftRounded" /> |
  | 234 | 238 | <div class="sgpb-margin-left-10 subFormItem\_\_text\_\_rightRounded"> |
  | 235 |  | <?php esc\_html\_e('Second(s)', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 239 | <?php esc\_html\_e('Second(s)', 'popup-builder'); ?> |
  | 236 | 240 | </div> |
  | 237 | 241 | </div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L239) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L243) |  |
  | 239 | 243 | </div> |
  | 240 | 244 | <div class="formItem"> |
  | 241 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Popup location', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 245 | <span class="formItem\_\_title"><?php esc\_html\_e('Popup location', 'popup-builder'); ?>:</span> |
  | 242 | 246 | <div class="sgpb-onOffSwitch"> |
  | 243 | 247 | <input type="checkbox" id="popup-fixed" class="js-checkbox-accordion sgpb-onOffSwitch-checkbox" name="sgpb-popup-fixed" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-popup-fixed')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L266) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L270) |  |
  | 266 | 270 | <?php if (empty($removedOptions['sgpb-disable-page-scrolling'])): ?> |
  | 267 | 271 | <div class="formItem"> |
  | 268 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Disable page scrolling', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 272 | <span class="formItem\_\_title"><?php esc\_html\_e('Disable page scrolling', 'popup-builder'); ?>:</span> |
  | 269 | 273 | <div class="sgpb-onOffSwitch"> |
  | 270 | 274 | <input type="checkbox" id="disable-page-scrolling" class="sgpb-onOffSwitch-checkbox" name="sgpb-disable-page-scrolling" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-disable-page-scrolling')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L277) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L281) |  |
  | 277 | 281 | <div class="sgpb-info-wrapper"> |
  | 278 | 282 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 279 |  | <?php esc\_html\_e('If this option is checked, the page won\'t scroll until the popup is open.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 283 | <?php esc\_html\_e('If this option is checked, the page won\'t scroll until the popup is open.', 'popup-builder')?> |
  | 280 | 284 | </span> |
  | 281 | 285 | </div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L284) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L288) |  |
  | 284 | 288 | <?php if (empty($removedOptions['sgpb-enable-content-scrolling'])): ?> |
  | 285 | 289 | <div class="formItem"> |
  | 286 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Enable content scrolling', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 290 | <span class="formItem\_\_title"><?php esc\_html\_e('Enable content scrolling', 'popup-builder')?>:</span> |
  | 287 | 291 | <div class="sgpb-onOffSwitch"> |
  | 288 | 292 | <input type="checkbox" id="content-scrolling" class="sgpb-onOffSwitch-checkbox" name="sgpb-enable-content-scrolling" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-enable-content-scrolling')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L295) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L299) |  |
  | 295 | 299 | <div class="sgpb-info-wrapper"> |
  | 296 | 300 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 297 |  | <?php esc\_html\_e('If the content is larger than the specified dimensions, then the content will be scrollable.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 301 | <?php esc\_html\_e('If the content is larger than the specified dimensions, then the content will be scrollable.', 'popup-builder')?> |
  | 298 | 302 | </span> |
  | 299 | 303 | </div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L303) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L307) |  |
  | 303 | 307 | <?php if (empty($removedOptions['sgpb-reopen-after-form-submission'])): ?> |
  | 304 | 308 | <div class="formItem"> |
  | 305 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Reopen after form submission', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 309 | <span class="formItem\_\_title"><?php esc\_html\_e('Reopen after form submission', 'popup-builder'); ?>:</span> |
  | 306 | 310 | <div class="sgpb-onOffSwitch"> |
  | 307 | 311 | <input type="checkbox" class="sgpb-onOffSwitch-checkbox" id="reopen-after-form-submission"  name="sgpb-reopen-after-form-submission" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-reopen-after-form-submission')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L314) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L318) |  |
  | 314 | 318 | <div class="sgpb-info-wrapper"> |
  | 315 | 319 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 316 |  | <?php esc\_html\_e('If this option is enabled, the popup will reopen after the form submission.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 320 | <?php esc\_html\_e('If this option is enabled, the popup will reopen after the form submission.', 'popup-builder')?> |
  | 317 | 321 | </span> |
  | 318 | 322 | </div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L321) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L325) |  |
  | 321 | 325 | <?php if (empty($removedOptions['sgpb-popup-order'])): ?> |
  | 322 | 326 | <div class="formItem formItem\_itemsCentered"> |
  | 323 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Popup order', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 327 | <span class="formItem\_\_title"><?php esc\_html\_e('Popup order', 'popup-builder')?>:</span> |
  | 324 | 328 | <input type="number" min="0" name="sgpb-popup-order" id="sgpb-popup-order" class="formItem\_\_input" value="<?php echo esc\_attr((int)$popupTypeObj->getOptionValue('sgpb-popup-order')); ?>"> |
  | 325 | 329 | <div class="question-mark">B</div> |
  | 326 | 330 | <div class="sgpb-info-wrapper"> |
  | 327 | 331 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 328 |  | <?php esc\_html\_e('Select the priority number for your popup to appear on the page, along with other popups. The popup with a higher-order number will be behind the others with a lower-order number.', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 332 | <?php esc\_html\_e('Select the priority number for your popup to appear on the page, along with other popups. The popup with a higher-order number will be behind the others with a lower-order number.', 'popup-builder'); ?> |
  | 329 | 333 | </span> |
  | 330 | 334 | </div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L333) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L337) |  |
  | 333 | 337 | <?php if (empty($removedOptions['sgpb-popup-delay'])): ?> |
  | 334 | 338 | <div class="formItem formItem\_itemsCentered"> |
  | 335 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Custom event delay', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 339 | <span class="formItem\_\_title"><?php esc\_html\_e('Custom event delay', 'popup-builder')?>:</span> |
  | 336 | 340 | <input type="number" min="0" name="sgpb-popup-delay" id="sgpb-popup-delay" class="formItem\_\_input" value="<?php echo (int)esc\_attr($popupTypeObj->getOptionValue('sgpb-popup-delay')); ?>"> |
  | 337 | 341 | <div class="question-mark">B</div> |
  | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=2793273#L339) | […](/browser/popup-builder/trunk/public/views/optionsView.php?rev=3085485#L343) |  |
  | 339 | 343 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 340 | 344 | <?php esc\_html\_e('You can add an opening delay for the popup, in seconds. This will refer to custom events, like: |
  | 341 |  | Shortcodes, custom CSS classes, HTML attributes, or JS called custom events.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 345 | Shortcodes, custom CSS classes, HTML attributes, or JS called custom events.', 'popup-builder')?> |
  | 342 | 346 | </span> |
  | 343 | 347 | </div> |
* ## [popup-builder/trunk/public/views/otherConditionsView.php](/changeset/3085485/popup-builder/trunk/public/views/otherConditionsView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/otherConditionsView.php")

  | [r2725980](/browser/popup-builder/trunk/public/views/otherConditionsView.php?rev=2725980#L1 "Show revision 2725980 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/otherConditionsView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | namespace sgpb; |
  |  | 3 | /\* Exit if accessed directly \*/ |
  |  | 4 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 5 | exit; |
  |  | 6 | } |
  | 3 | 7 | use sgpb\PopupBuilderActivePackage; |
  | 4 | 8 |  |
  | 5 |  | $defaultData = \ConfigDataHelper::defaultData(); |
  |  | 9 | $defaultData = \SGPBConfigDataHelper::defaultData(); |
  | 6 | 10 | $required = ''; |
  | 7 | 11 | if ($popupTypeObj->getOptionValue('sgpb-schedule-status')) { |
  | […](/browser/popup-builder/trunk/public/views/otherConditionsView.php?rev=2725980#L10) | […](/browser/popup-builder/trunk/public/views/otherConditionsView.php?rev=3085485#L14) |  |
  | 10 | 14 | $conditionsCanBeUsed = PopupBuilderActivePackage::canUseSection('popupOtherConditionsSection'); |
  | 11 | 15 | ?> |
  | 12 |  | <div class="sgpb-wrapper sgpb-position-relative" onclick="window.open('<?php echo esc\_url~~\_raw~~(SG\_POPUP\_SCHEDULING\_URL);?>', '\_blank')"> |
  |  | 16 | <div class="sgpb-wrapper sgpb-position-relative" onclick="window.open('<?php echo esc\_url(SG\_POPUP\_SCHEDULING\_URL);?>', '\_blank')"> |
  | 13 | 17 | <div class="formItem sgpb-padding-20 sgpb-option-disable"> |
  | 14 | 18 | <div> |
  | 15 | 19 | <div class="formItem"> |
  | 16 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Schedule', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 20 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Schedule', 'popup-builder'); ?>:</span> |
  | 17 | 21 | <div class="sgpb-onOffSwitch"> |
  | 18 | 22 | <input type="checkbox" id="schedule-status" class="sgpb-onOffSwitch-checkbox" disabled name="sgpb-schedule-status"  <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-schedule-status')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/otherConditionsView.php?rev=2725980#L25) | […](/browser/popup-builder/trunk/public/views/otherConditionsView.php?rev=3085485#L29) |  |
  | 25 | 29 | </div> |
  | 26 | 30 | <div class="formItem"> |
  | 27 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Show popup in date range', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 31 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Show popup in date range', 'popup-builder'); ?>:</span> |
  | 28 | 32 | <div class="sgpb-onOffSwitch"> |
  | 29 | 33 | <input type="checkbox" name="sgpb-popup-timer-status" id="sgpb-popup-timer-status" disabled class="sgpb-onOffSwitch-checkbox" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-popup-timer-status'));?>> |
  | […](/browser/popup-builder/trunk/public/views/otherConditionsView.php?rev=2725980#L38) | […](/browser/popup-builder/trunk/public/views/otherConditionsView.php?rev=3085485#L42) |  |
  | 38 | 42 | <div class="sgpb-unlock-options"> |
  | 39 | 43 | <div class="sgpb-unlock-options\_\_icon"> |
  | 40 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/time-is-money.svg');?>" alt="Time icon" width="45" height="45" /> |
  |  | 44 | <img src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/time-is-money.svg');?>" alt="Time icon" width="45" height="45" /> |
  | 41 | 45 | </div> |
  | 42 |  | <span class="sgpb-unlock-options\_\_title"><?php esc\_html\_e('Unlock Option', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 46 | <span class="sgpb-unlock-options\_\_title"><?php esc\_html\_e('Unlock Option', 'popup-builder'); ?></span> |
  | 43 | 47 | </div> |
  | 44 | 48 | <?php endif; ?> |
* ## [popup-builder/trunk/public/views/popupDesignView.php](/changeset/3085485/popup-builder/trunk/public/views/popupDesignView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/popupDesignView.php")

  | [r2712631](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L1 "Show revision 2712631 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 | 7 | use sgpb\PopupBuilderActivePackage; |
  | 4 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 8 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 5 | 9 | $enablePopupOverlay = PopupBuilderActivePackage::canUseOption('sgpb-enable-popup-overlay'); |
  | 6 | 10 | $removedOptions = $popupTypeObj->getRemoveOptions(); |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L17) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L21) |  |
  | 17 | 21 | <div class="formItem formItem\_itemsCentered "> |
  | 18 | 22 | <label for="sgpb-force-rtl" class="sgpb-design-label formItem\_\_title"> |
  | 19 |  | <?php esc\_html\_e('Force RTL', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>: |
  |  | 23 | <?php esc\_html\_e('Force RTL', 'popup-builder')?>: |
  | 20 | 24 | </label> |
  | 21 | 25 | <div class="sgpb-onOffSwitch"> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L30) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L34) |  |
  | 30 | 34 | <?php if (empty($removedOptions['sgpb-content-padding'])) :?> |
  | 31 | 35 | <div class="formItem formItem\_itemsCentered"> |
  | 32 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Padding', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 36 | <span class="formItem\_\_title"><?php esc\_html\_e('Padding', 'popup-builder')?>:</span> |
  | 33 | 37 | <input type="number" min="0" class="formItem\_\_input" id="content-padding" name="sgpb-content-padding" value="<?php echo esc\_attr((int)$popupTypeObj->getOptionValue('sgpb-content-padding')); ?>"> |
  | 34 | 38 | <div class="formItem\_\_inputValueType">px</div> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L36) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L40) |  |
  | 36 | 40 | <div class="sgpb-info-wrapper"> |
  | 37 | 41 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 38 |  | <?php esc\_html\_e('Add some space, in pixels, around your popup content.', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 42 | <?php esc\_html\_e('Add some space, in pixels, around your popup content.', 'popup-builder');?> |
  | 39 | 43 | </span> |
  | 40 | 44 | </div> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L43) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L47) |  |
  | 43 | 47 | <?php if (empty($removedOptions['sgpb-popup-z-index'])) : ?> |
  | 44 | 48 | <div class="formItem formItem\_itemsCentered"> |
  | 45 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Popup z-index', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 49 | <span class="formItem\_\_title"><?php esc\_html\_e('Popup z-index', 'popup-builder'); ?>:</span> |
  | 46 | 50 | <input type="number" min="1" name="sgpb-popup-z-index" id="sgpb-popup-z-index" class="formItem\_\_input formItem\_\_input\_sgpb-pixels" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-popup-z-index')); ?>"> |
  | 47 | 51 | <div class="question-mark sgpb-info-icon">B</div> |
  | 48 | 52 | <div class="sgpb-info-wrapper"> |
  | 49 | 53 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 50 |  | <?php esc\_html\_e('Increase or dicrease the value to set the priority of displaying the popup content in comparison of other elements on the page. The highest value of z-index is 2147483647.', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 54 | <?php esc\_html\_e('Increase or dicrease the value to set the priority of displaying the popup content in comparison of other elements on the page. The highest value of z-index is 2147483647.', 'popup-builder');?> |
  | 51 | 55 | </span> |
  | 52 | 56 | </div> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L55) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L59) |  |
  | 55 | 59 |  |
  | 56 | 60 | <div class="formItem formItem\_itemsCentered"> |
  | 57 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Themes', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 61 | <span class="formItem\_\_title"><?php esc\_html\_e('Themes', 'popup-builder')?>:</span> |
  | 58 | 62 | <?php AdminHelper::createRadioButtons($defaultData['theme'], "sgpb-popup-themes", esc\_html($popupTheme), true, 'bg\_img'); ?> |
  | 59 | 63 | </div> |
  | 60 | 64 | <div class="formItem sgpb-disable-border-wrapper<?php echo esc\_attr($hidePopupBorderOption) ;?>"> |
  | 61 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Disable popup border', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 65 | <span class="formItem\_\_title"><?php esc\_html\_e('Disable popup border', 'popup-builder')?>:</span> |
  | 62 | 66 | <div class="sgpb-onOffSwitch"> |
  | 63 | 67 | <input type="checkbox" class="sgpb-onOffSwitch-checkbox" id="sgpb-disable-border" name="sgpb-disable-border" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-disable-border', true)); ?>> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L72) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L76) |  |
  | 72 | 76 | <div class="formItem formItem\_lessMargin sgpb-padding-20 sgpb-option-disable" |
  | 73 | 77 | onclick="window.open('<?php echo esc\_url(SG\_POPUP\_ADVANCED\_CLOSING\_URL);?>', '\_blank')"> |
  | 74 |  | <span class="formItem\_\_title "><?php esc\_html\_e('Enable popup overlay', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 78 | <span class="formItem\_\_title "><?php esc\_html\_e('Enable popup overlay', 'popup-builder')?>:</span> |
  | 75 | 79 | <div class="sgpb-onOffSwitch sgpb-onOffSwitch\_smallLeftMargin"> |
  | 76 | 80 | <input type="checkbox" id="sgpb-enable-popup-overlay" name="sgpb-enable-popup-overlay" disabled> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L83) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L87) |  |
  | 83 | 87 | <div class="sgpb-info-wrapper"> |
  | 84 | 88 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 85 |  | <?php esc\_html\_e('If this option is checked, the popup will appear with an overlay.', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 89 | <?php esc\_html\_e('If this option is checked, the popup will appear with an overlay.', 'popup-builder');?> |
  | 86 | 90 | </span> |
  | 87 | 91 | </div> |
  | 88 | 92 | <div class="sgpb-unlock-options"> |
  | 89 | 93 | <div class="sgpb-unlock-options\_\_icon"> |
  | 90 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/time-is-money.svg');?>" alt="Time icon" /> |
  | 91 |  | </div> |
  | 92 |  | <span class="sgpb-unlock-options\_\_title"><?php esc\_html\_e('Unlock Option', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 94 | <img src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/time-is-money.svg');?>" alt="Time icon" /> |
  |  | 95 | </div> |
  |  | 96 | <span class="sgpb-unlock-options\_\_title"><?php esc\_html\_e('Unlock Option', 'popup-builder'); ?></span> |
  | 93 | 97 | </div> |
  | 94 | 98 | </div> |
  | 95 | 99 | <?php else: ?> |
  | 96 | 100 | <div class="formItem formItem\_lessMargin"> |
  | 97 |  | <span class="formItem\_\_title "><?php esc\_html\_e('Enable popup overlay', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 101 | <span class="formItem\_\_title "><?php esc\_html\_e('Enable popup overlay', 'popup-builder')?>:</span> |
  | 98 | 102 | <div class="sgpb-onOffSwitch sgpb-onOffSwitch\_smallLeftMargin"> |
  | 99 | 103 | <input type="checkbox" id="sgpb-enable-popup-overlay" name="sgpb-enable-popup-overlay" class="sgpb-onOffSwitch-checkbox js-checkbox-accordion" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-enable-popup-overlay')); ?> <?php echo esc\_attr((!empty($removedOptions['sgpb-enable-popup-overlay'])) ? ' disabled' : '') ?>> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L106) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L110) |  |
  | 106 | 110 | <div class="sgpb-info-wrapper"> |
  | 107 | 111 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 108 |  | <?php esc\_html\_e('If this option is checked, the popup will appear with an overlay.', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 112 | <?php esc\_html\_e('If this option is checked, the popup will appear with an overlay.', 'popup-builder');?> |
  | 109 | 113 | </span> |
  | 110 | 114 | </div> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L114) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L118) |  |
  | 114 | 118 | <div class="subForm"> |
  | 115 | 119 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center"> |
  | 116 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Overlay custom css class', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 120 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Overlay custom css class', 'popup-builder')?>:</span> |
  | 117 | 121 | <input type="text" class="subFormItem\_\_input formItem\_\_input\_sgpb-popup-overlay" value="sgpb-popup-overlay"> |
  | 118 | 122 | <div class="question-mark">B</div> |
  | 119 | 123 | <div class="sgpb-info-wrapper"> |
  | 120 | 124 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 121 |  | <?php esc\_html\_e('Add a custom class to the overlay for additional customization.', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?> |
  |  | 125 | <?php esc\_html\_e('Add a custom class to the overlay for additional customization.', 'popup-builder');?> |
  | 122 | 126 | </span> |
  | 123 | 127 | </div> |
  | 124 | 128 | </div> |
  | 125 | 129 | <div class="subFormItem sgpb-margin-y-20 sgpb-display-flex sgpb-align-item-center"> |
  | 126 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Change color', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 130 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Change color', 'popup-builder')?>:</span> |
  | 127 | 131 | <div class="sgpb-color-picker-wrapper sgpb-position-relative"> |
  | 128 | 132 | <input class="sgpb-color-picker sgpb-overlay-color" type="text" name="sgpb-overlay-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-overlay-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L131) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L135) |  |
  | 131 | 135 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center"> |
  | 132 | 136 | <span class="subFormItem\_\_title sgpb-margin-right-20"> |
  | 133 |  | <?php esc\_html\_e('Opacity', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>: |
  |  | 137 | <?php esc\_html\_e('Opacity', 'popup-builder')?>: |
  | 134 | 138 | </span> |
  | 135 | 139 | <div class="sgpb-slider-wrapper sgpb-range-wrap"> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L147) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L151) |  |
  | 147 | 151 | <?php endif; ?> |
  | 148 | 152 | <div class="formItem formItem\_itemsCentered"> |
  | 149 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Content custom css class', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 153 | <span class="formItem\_\_title"><?php esc\_html\_e('Content custom css class', 'popup-builder'); ?>:</span> |
  | 150 | 154 | <input type="text" class="formItem\_\_input formItem\_\_input\_sgpb-popup-overlay" id="content-custom-class" name="sgpb-content-custom-class" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-content-custom-class'))?>"> |
  | 151 | 155 | <div class="question-mark">B</div> |
  | 152 | 156 | <div class="sgpb-info-wrapper"> |
  | 153 | 157 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 154 |  | <?php esc\_html\_e('Add a custom class to the content for additional customization', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?>. |
  |  | 158 | <?php esc\_html\_e('Add a custom class to the content for additional customization', 'popup-builder');?>. |
  | 155 | 159 | </span> |
  | 156 | 160 | </div> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L158) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L162) |  |
  | 158 | 162 | <?php if (empty($removedOptions['sgpb-show-background'])) :?> |
  | 159 | 163 | <div class="formItem formItem\_lessMargin"> |
  | 160 |  | <span class="formItem\_\_title"><?php esc\_html\_e('Background settings', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 164 | <span class="formItem\_\_title"><?php esc\_html\_e('Background settings', 'popup-builder')?>:</span> |
  | 161 | 165 | <div class="sgpb-onOffSwitch sgpb-onOffSwitch\_smallLeftMargin"> |
  | 162 | 166 | <input type="checkbox" class="sgpb-onOffSwitch-checkbox js-checkbox-accordion" id="sgpb-show-background" name="sgpb-show-background" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-show-background')); ?>> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L171) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L175) |  |
  | 171 | 175 | <div class="subForm"> |
  | 172 | 176 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center"> |
  | 173 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Color', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>:</span> |
  |  | 177 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Color', 'popup-builder'); ?>:</span> |
  | 174 | 178 | <div class="sgpb-color-picker-wrapper unhideColorPicker"> |
  | 175 | 179 | <input class="sgpb-color-picker" type="text" name="sgpb-background-color" value="<?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-background-color')); ?>" > |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L177) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L181) |  |
  | 177 | 181 | </div> |
  | 178 | 182 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center sgpb-margin-y-20"> |
  | 179 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Opacity', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 183 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Opacity', 'popup-builder')?>:</span> |
  | 180 | 184 | <div class="sgpb-slider-wrapper sgpb-range-wrap"> |
  | 181 | 185 | <div class="slider-wrapper sgpb-display-inline-flex"> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L189) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L193) |  |
  | 189 | 193 | <?php if (empty($removedOptions['sgpb-background-image'])) : ?> |
  | 190 | 194 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center sgpb-margin-y-20"> |
  | 191 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Image', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?>:</span> |
  |  | 195 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Image', 'popup-builder');?>:</span> |
  | 192 | 196 | <div class="sgpb-background-image-block-1 sgpb-display-flex subFormBackground sgpb-padding-10 subFormItemImages<?php echo esc\_attr((!$popupTypeObj->getOptionValue('sgpb-background-image')) ? ' sgpb-display-none' : '');?>"> |
  | 193 | 197 | <div> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L199) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L203) |  |
  | 199 | 203 | <div class="sgpb-margin-left-10 subFormItemIcons"> |
  | 200 | 204 | <div class="icons\_\_item"> |
  | 201 |  | <img class="js-background-upload-image-button" src="<?php echo esc\_url~~\_raw(SG\_POPUP\_PUBLIC\_URL.'icons/cloud.svg'); ;?>" alt="<?php esc\_html\_e('Cloud icon', SG\_POPUP\_TEXT\_DOMAIN~~);?>"> |
  |  | 205 | <img class="js-background-upload-image-button" src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/cloud.svg'); ;?>" alt="<?php esc\_html\_e('Cloud icon', 'popup-builder');?>"> |
  | 202 | 206 | </div> |
  | 203 | 207 | <div class="icons\_\_item icons\_pink"> |
  | 204 |  | <img id="js-background-upload-image-remove-button" src="<?php echo esc\_url~~\_raw(SG\_POPUP\_PUBLIC\_URL.'icons/recycle-bin.svg') ;?>" alt="<?php esc\_html\_e('Recycle Bin', SG\_POPUP\_TEXT\_DOMAIN~~);?>"> |
  |  | 208 | <img id="js-background-upload-image-remove-button" src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/recycle-bin.svg') ;?>" alt="<?php esc\_html\_e('Recycle Bin', 'popup-builder');?>"> |
  | 205 | 209 | </div> |
  | 206 | 210 | </div> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L209) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L213) |  |
  | 209 | 213 | <div class="subFormBackground sgpb-display-flex sgpb-align-item-center sgpb-padding-x-20"> |
  | 210 | 214 | <div class="icons\_\_item"> |
  | 211 |  | <img class="js-background-upload-image-button" src="<?php echo esc\_url~~\_raw(SG\_POPUP\_PUBLIC\_URL.'icons/cloud.svg') ;?>" alt="<?php esc\_html\_e('Change image', SG\_POPUP\_TEXT\_DOMAIN~~);?>"> |
  | 212 |  | </div> |
  | 213 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'images/NoImage.png') ;?>" alt="No Image"> |
  |  | 215 | <img class="js-background-upload-image-button" src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/cloud.svg') ;?>" alt="<?php esc\_html\_e('Change image', 'popup-builder');?>"> |
  |  | 216 | </div> |
  |  | 217 | <img src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'images/NoImage.png') ;?>" alt="No Image"> |
  | 214 | 218 | </div> |
  | 215 | 219 | </div> |
  | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=2712631#L219) | […](/browser/popup-builder/trunk/public/views/popupDesignView.php?rev=3085485#L223) |  |
  | 219 | 223 |  |
  | 220 | 224 | <div class="subFormItem sgpb-display-flex sgpb-align-item-center"> |
  | 221 |  | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Mode', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 225 | <span class="subFormItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Mode', 'popup-builder')?>:</span> |
  | 222 | 226 | <?php echo wp\_kses(AdminHelper::createSelectBox($defaultData['backroundImageModes'], $popupTypeObj->getOptionValue('sgpb-background-image-mode'), array('name' => 'sgpb-background-image-mode', 'class'=>'select\_\_select js-sg-select2')), AdminHelper::allowed\_html\_tags()); ?> |
  | 223 | 227 | <div class="question-mark">B</div> |
  | 224 | 228 | <div class="sgpb-info-wrapper"> |
  | 225 | 229 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 226 |  | <?php esc\_html\_e('Choose how the background image will be displayed with your content', ~~SG\_POPUP\_TEXT\_DOMAIN~~);?>. |
  |  | 230 | <?php esc\_html\_e('Choose how the background image will be displayed with your content', 'popup-builder');?>. |
  | 227 | 231 | </span> |
  | 228 | 232 | </div> |
* ## [popup-builder/trunk/public/views/popupOpeningCounter.php](/changeset/3085485/popup-builder/trunk/public/views/popupOpeningCounter.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/popupOpeningCounter.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/popupOpeningCounter.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/popupOpeningCounter.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | $popupId = $popupTypeObj->getOptionValue('sgpb-post-id'); |
  | 3 | 7 | $count = $popupTypeObj->getPopupOpeningCountById($popupId); |
  | […](/browser/popup-builder/trunk/public/views/popupOpeningCounter.php?rev=2686454#L7) | […](/browser/popup-builder/trunk/public/views/popupOpeningCounter.php?rev=3085485#L11) |  |
  | 7 | 11 | <div class="subForm sgpb-padding-20 sgpb-bg-black\_\_opacity-02"> |
  | 8 | 12 | <div class="formItem"> |
  | 9 |  | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Disable popup counting', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 13 | <span class="formItem\_\_title sgpb-margin-right-20"><?php esc\_html\_e('Disable popup counting', 'popup-builder')?>:</span> |
  | 10 | 14 | <div class="sgpb-onOffSwitch"> |
  | 11 | 15 | <input id="sgpb-popup-counting-disabled" class="sgpb-onOffSwitch-checkbox" name="sgpb-popup-counting-disabled" type="checkbox" <?php echo esc\_attr($popupTypeObj->getOptionValue('sgpb-popup-counting-disabled'));?>> |
  | […](/browser/popup-builder/trunk/public/views/popupOpeningCounter.php?rev=2686454#L17) | […](/browser/popup-builder/trunk/public/views/popupOpeningCounter.php?rev=3085485#L21) |  |
  | 17 | 21 | </div> |
  | 18 | 22 | <div class="formItem"> |
  | 19 |  | <span class="subFormItem\_\_title"><?php esc\_html\_e('Views', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>: </span> |
  |  | 23 | <span class="subFormItem\_\_title"><?php esc\_html\_e('Views', 'popup-builder'); ?>: </span> |
  | 20 | 24 | <span class="subFormItem\_\_title sgpb-popup-opening-analytics-option-value-span"> <?php echo esc\_html($count); ?></span> |
  | 21 | 25 | </div> |
  | 22 | 26 | <div class="formItem"> |
  | 23 |  | <input onclick="SGPBBackend.resetCount(<?php echo esc\_html($popupId); ?>, false)" type="button" class="button sgpb-reset-count-btn" value="<?php esc\_html\_e('Reset', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" <?php echo esc\_attr(($popupId && $count != 0) ? '' : ' disabled') ; ?>> |
  |  | 27 | <input onclick="SGPBBackend.resetCount(<?php echo esc\_html($popupId); ?>, false)" type="button" class="button sgpb-reset-count-btn" value="<?php esc\_html\_e('Reset', 'popup-builder'); ?>" <?php echo esc\_attr(($popupId && $count != 0) ? '' : ' disabled') ; ?>> |
  | 24 | 28 | </div> |
  | 25 | 29 | </div> |
* ## [popup-builder/trunk/public/views/popupTypes.php](/changeset/3085485/popup-builder/trunk/public/views/popupTypes.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/popupTypes.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 | 7 | use sgpb\PopupType; |
  | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=2686454#L9) | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=3085485#L13) |  |
  | 9 | 13 | <div class="sgpb sgpb-main-page sgpb-padding-x-20"> |
  | 10 | 14 | <div class='sgpb-heading sgpb-margin-y-50  sgpb-display-flex sgpb-justify-content-between'> |
  | 11 |  | <h1 class="sgpb-header-h1 "><?php esc\_html\_e('Add New Popup', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></h1> |
  | 12 |  | <button class="sgpb-btn sgpb-btn--rounded sgpb-btn-more\_extensions sgpb-display-flex sgpb-justify-content-between sgpb-align-item-center" onclick="window.open('<?php echo esc\_url~~\_raw~~(SG\_POPUP\_ALL\_EXTENSIONS\_URL) ;?>', '\_blank')"> |
  |  | 15 | <h1 class="sgpb-header-h1 "><?php esc\_html\_e('Add New Popup', 'popup-builder'); ?></h1> |
  |  | 16 | <button class="sgpb-btn sgpb-btn--rounded sgpb-btn-more\_extensions sgpb-display-flex sgpb-justify-content-between sgpb-align-item-center" onclick="window.open('<?php echo esc\_url(SG\_POPUP\_ALL\_EXTENSIONS\_URL) ;?>', '\_blank')"> |
  | 13 | 17 | <span class="sgpb-cubes sgpb-margin-right-10"> |
  | 14 | 18 | <span class="sgpb-cubes-mini"></span> |
  | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=2686454#L17) | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=3085485#L21) |  |
  | 17 | 21 | <span class="sgpb-cubes-mini sgpb-cubes-mini\_little"></span> |
  | 18 | 22 | </span> |
  | 19 |  | <span class="sgpb-button\_\_span"><?php esc\_html\_e('Get More Extensions', ~~SG\_POPUP\_TEXT\_DOMAIN~~) ?></span> |
  |  | 23 | <span class="sgpb-button\_\_span"><?php esc\_html\_e('Get More Extensions', 'popup-builder') ?></span> |
  | 20 | 24 | </button> |
  | 21 | 25 | </div> |
  | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=2686454#L29) | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=3085485#L33) |  |
  | 29 | 33 | } |
  | 30 | 34 | ?> |
  | 31 |  | <div class="sgpb-box sgpb-box-active sgpb-margin-bottom-30 sgpb-position-relative" data-redirect-url="<?php echo esc\_url~~\_raw~~(AdminHelper::buildCreatePopupUrl($popupType)); ?>"> |
  |  | 35 | <div class="sgpb-box sgpb-box-active sgpb-margin-bottom-30 sgpb-position-relative" data-redirect-url="<?php echo esc\_url(AdminHelper::buildCreatePopupUrl($popupType)); ?>"> |
  | 32 | 36 | <?php if (defined('SGPB\_SUBSCRIPTION\_PLUS\_CLASSES\_PATH') && $type == 'subscription'): ?> |
  | 33 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/white/subscriptionPlus.svg') ;?>" class="sgpb-box-img"> |
  |  | 37 | <img src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/white/subscriptionPlus.svg') ;?>" class="sgpb-box-img"> |
  | 34 | 38 | <?php else: ?> |
  | 35 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/white/'.$type.'.svg') ;?>" class="sgpb-box-img"> |
  |  | 39 | <img src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/white/'.$type.'.svg') ;?>" class="sgpb-box-img"> |
  | 36 | 40 | <?php endif; ?> |
  | 37 | 41 | <p class="sgpb-box-text"><?php echo esc\_html($labels[$type]); ?></p> |
  | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=2686454#L39) | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=3085485#L43) |  |
  | 39 | 43 | </div> |
  | 40 | 44 | <?php endforeach; ?> |
  | 41 |  | <div class="sgpb-box sgpb-margin-bottom-30 sgpb-box-default" data-redirect-url="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_ALL\_EXTENSIONS\_URL); ?>"> |
  | 42 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/Black/moreIdeas.svg') ;?>" class="sgpb-box-img"> |
  | 43 |  | <p class="sgpb-box-text"><?php esc\_html\_e('More Ideas?', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></p> |
  |  | 45 | <div class="sgpb-box sgpb-margin-bottom-30 sgpb-box-default" data-redirect-url="<?php echo esc\_url(SG\_POPUP\_ALL\_EXTENSIONS\_URL); ?>"> |
  |  | 46 | <img src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/Black/moreIdeas.svg') ;?>" class="sgpb-box-img"> |
  |  | 47 | <p class="sgpb-box-text"><?php esc\_html\_e('More Ideas?', 'popup-builder'); ?></p> |
  | 44 | 48 | </div> |
  | 45 | 49 | </div> |
  | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=2686454#L47) | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=3085485#L51) |  |
  | 47 | 51 | $extensions = AdminHelper::getAllExtensions(); |
  | 48 | 52 | if (!empty($extensions['noActive'])) : ?> |
  | 49 |  | <h1 class="sgpb-header-h1 sgpb-margin-y-50"><?php esc\_html\_e('Pro Extensions', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></h1> |
  |  | 53 | <h1 class="sgpb-header-h1 sgpb-margin-y-50"><?php esc\_html\_e('Pro Extensions', 'popup-builder'); ?></h1> |
  | 50 | 54 | <div class="sgpb sgpb-pro-extensions sgpb-margin-y-50 sgpb-display-flex"> |
  | 51 | 55 | <?php foreach ($extensions['noActive'] as $extension) : ?> |
  | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=2686454#L60) | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=3085485#L64) |  |
  | 60 | 64 | $type = $extension['key']; |
  | 61 | 65 | ?> |
  | 62 |  | <div class="sgpb-box sgpb-box-default sgpb-margin-bottom-30" data-redirect-url="<?php echo esc\_url~~\_raw~~($URL); ?>"> |
  | 63 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_PUBLIC\_URL.'icons/Black/'.$type.'.svg') ;?>" class="sgpb-box-img"> |
  | 64 |  | <p class="sgpb-box-text"><?php echo ~~ucfirst(esc\_html~~($extension['label'])); ?></p> |
  |  | 66 | <div class="sgpb-box sgpb-box-default sgpb-margin-bottom-30" data-redirect-url="<?php echo esc\_url($URL); ?>"> |
  |  | 67 | <img src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/Black/'.$type.'.svg') ;?>" class="sgpb-box-img"> |
  |  | 68 | <p class="sgpb-box-text"><?php echo esc\_html( ucfirst($extension['label'])); ?></p> |
  | 65 | 69 | </div> |
  | 66 | 70 | <?php endforeach; ?> |
  | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=2686454#L68) | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=3085485#L72) |  |
  | 68 | 72 | <?php endif; ?> |
  | 69 | 73 | </div> |
  | 70 |  |  |
  | 71 |  | <script type="text/javascript"> |
  | 72 |  | jQuery(document).ready(function() { |
  |  | 74 | <?php |
  |  | 75 | wp\_register\_script( 'sgpb-popup-types-js-footer', '', array("jquery"), '', true ); |
  |  | 76 | wp\_enqueue\_script( 'sgpb-popup-types-js-footer'  ); |
  |  | 77 | wp\_add\_inline\_script( 'sgpb-popup-types-js-footer', "jQuery(document).ready(function() { |
  | 73 | 78 | jQuery('.sgpb-box').on('click', function () { |
  | 74 | 79 | const currentLink = jQuery(this).attr('data-redirect-url'); |
  | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=2686454#L80) | […](/browser/popup-builder/trunk/public/views/popupTypes.php?rev=3085485#L85) |  |
  | 80 | 85 | } |
  | 81 | 86 | }); |
  | 82 |  | }); |
  | 83 |  | </script> |
  |  | 87 | });"); |
  |  | 88 | ?> |
  |  | 89 |  |
* ## [popup-builder/trunk/public/views/settings.php](/changeset/3085485/popup-builder/trunk/public/views/settings.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/settings.php")

  | [r2749006](/browser/popup-builder/trunk/public/views/settings.php?rev=2749006#L1 "Show revision 2749006 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/settings.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 2 | 6 | use sgpb\AdminHelper; |
  | 3 |  | $defaultData = ConfigDataHelper::defaultData(); |
  |  | 7 | $defaultData = SGPBConfigDataHelper::defaultData(); |
  | 4 | 8 |  |
  | 5 | 9 | $deleteData = ''; |
  | […](/browser/popup-builder/trunk/public/views/settings.php?rev=2749006#L20) | […](/browser/popup-builder/trunk/public/views/settings.php?rev=3085485#L24) |  |
  | 20 | 24 | <div class="sgpb-generalSettings sgpb-display-flex sgpb-padding-30"> |
  | 21 | 25 | <div class="sgpb-width-50 sgpb-padding-20"> |
  | 22 |  | <p class="sgpb-header-h1 sgpb-margin-top-20 sgpb-margin-bottom-50"><?php esc\_html\_e('General Settings', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></p> |
  | 23 |  | <form method="POST" action="<?php echo esc\_url~~\_raw~~(admin\_url().'admin-post.php?action=sgpbSaveSettings')?>"> |
  |  | 26 | <p class="sgpb-header-h1 sgpb-margin-top-20 sgpb-margin-bottom-50"><?php esc\_html\_e('General Settings', 'popup-builder'); ?></p> |
  |  | 27 | <form method="POST" action="<?php echo esc\_url(admin\_url().'admin-post.php?action=sgpbSaveSettings')?>"> |
  | 24 | 28 | <?php wp\_nonce\_field('sgpbSaveSettings', 'sgpb\_saveSettings\_nonce'); ?> |
  | 25 | 29 | <div class="formItem"> |
  | 26 |  | <p class="subFormItem\_\_title sgpb-flex-220"><?php esc\_html\_e('Enable DEBUG MODE', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</p> |
  |  | 30 | <p class="subFormItem\_\_title sgpb-flex-220"><?php esc\_html\_e('Enable DEBUG MODE', 'popup-builder')?>:</p> |
  | 27 | 31 | <div class="sgpb-onOffSwitch"> |
  | 28 | 32 | <input type="checkbox" name="sgpb-enable-debug-mode" class="sgpb-onOffSwitch-checkbox" id="sgpb-enable-debug-mode" <?php echo esc\_attr($enableDebugMode); ?>> |
  | […](/browser/popup-builder/trunk/public/views/settings.php?rev=2749006#L34) | […](/browser/popup-builder/trunk/public/views/settings.php?rev=3085485#L38) |  |
  | 34 | 38 | </div> |
  | 35 | 39 | <div class="formItem"> |
  | 36 |  | <span class="subFormItem\_\_title sgpb-flex-220"><?php esc\_html\_e('Delete popup data', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 40 | <span class="subFormItem\_\_title sgpb-flex-220"><?php esc\_html\_e('Delete popup data', 'popup-builder')?>:</span> |
  | 37 | 41 | <div class="sgpb-onOffSwitch"> |
  | 38 | 42 | <input type="checkbox" name="sgpb-dont-delete-data" class="sgpb-onOffSwitch-checkbox" id="sgpb-dont-delete-data" <?php echo esc\_attr($deleteData); ?>> |
  | […](/browser/popup-builder/trunk/public/views/settings.php?rev=2749006#L45) | […](/browser/popup-builder/trunk/public/views/settings.php?rev=3085485#L49) |  |
  | 45 | 49 | <div class="sgpb-info-wrapper"> |
  | 46 | 50 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 47 |  | <?php esc\_html\_e('All the popup data will be deleted after removing the plugin if this option is checked.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 51 | <?php esc\_html\_e('All the popup data will be deleted after removing the plugin if this option is checked.', 'popup-builder')?> |
  | 48 | 52 | </span> |
  | 49 | 53 | </div> |
  | […](/browser/popup-builder/trunk/public/views/settings.php?rev=2749006#L51) | […](/browser/popup-builder/trunk/public/views/settings.php?rev=3085485#L55) |  |
  | 51 | 55 |  |
  | 52 | 56 | <div class="formItem"> |
  | 53 |  | <span class="subFormItem\_\_title sgpb-flex-220"><?php esc\_html\_e('Disable popup analytics', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 57 | <span class="subFormItem\_\_title sgpb-flex-220"><?php esc\_html\_e('Disable popup analytics', 'popup-builder')?>:</span> |
  | 54 | 58 | <div class="sgpb-onOffSwitch"> |
  | 55 | 59 | <input type="checkbox" name="sgpb-disable-analytics-general" class="sgpb-onOffSwitch-checkbox" id="sgpb-disable-analytics-general"<?php echo esc\_attr((get\_option('sgpb-disable-analytics-general')) ? ' checked' : ''); ?>> |
  | […](/browser/popup-builder/trunk/public/views/settings.php?rev=2749006#L61) | […](/browser/popup-builder/trunk/public/views/settings.php?rev=3085485#L65) |  |
  | 61 | 65 | </div> |
  | 62 | 66 | <div class="formItem"> |
  | 63 |  | <div class="subFormItem\_\_title sgpb-flex-220"><?php esc\_html\_e('User role to access the plugin', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></div> |
  |  | 67 | <div class="subFormItem\_\_title sgpb-flex-220"><?php esc\_html\_e('User role to access the plugin', 'popup-builder')?></div> |
  | 64 | 68 | <?php echo wp\_kses(AdminHelper::createSelectBox($defaultData['userRoles'], $userSavedRoles, array('name'=>'sgpb-user-roles[]', 'class' => 'js-sg-select2 js-select-ajax ', 'multiple'=> 'multiple', 'size'=> count($defaultData['userRoles']))), AdminHelper::allowed\_html\_tags());?> |
  | 65 | 69 | <div class="question-mark">B</div> |
  | 66 | 70 | <div class="sgpb-info-wrapper"> |
  | 67 | 71 | <span class="infoSelectRepeat samefontStyle sgpb-info-text" style="display: none;"> |
  | 68 |  | <?php esc\_html\_e('In spite of user roles the administrator always has access to the plugin.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 72 | <?php esc\_html\_e('In spite of user roles the administrator always has access to the plugin.', 'popup-builder')?> |
  | 69 | 73 | </span> |
  | 70 | 74 | </div> |
  | 71 | 75 | </div> |
  | 72 |  | <input type="submit" class="saveCHangeButton sgpb-btn sgpb-btn-blue" value="<?php esc\_html\_e('Save Changes', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" > |
  |  | 76 | <input type="submit" class="saveCHangeButton sgpb-btn sgpb-btn-blue" value="<?php esc\_html\_e('Save Changes', 'popup-builder')?>" > |
  | 73 | 77 | </form> |
  | 74 | 78 | </div> |
  | 75 | 79 | <div class="sgpb-width-50 sgpb-padding-20 sgpb-shadow-black sgpb-border-radius-5px"> |
  | 76 |  | <p class="sgpb-header-h1 sgpb-margin-top-20 sgpb-margin-bottom-50"><?php esc\_html\_e('Debug tools', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</p> |
  |  | 80 | <p class="sgpb-header-h1 sgpb-margin-top-20 sgpb-margin-bottom-50"><?php esc\_html\_e('Debug tools', 'popup-builder')?>:</p> |
  | 77 | 81 | <div class="formItem"> |
  | 78 |  | <span class="formItem\_\_title"><?php esc\_html\_e('System information', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>:</span> |
  |  | 82 | <span class="formItem\_\_title"><?php esc\_html\_e('System information', 'popup-builder')?>:</span> |
  | 79 | 83 | </div> |
  | 80 | 84 | <div class="formItem"> |
  | 81 | 85 | <textarea onclick="this.select();" rows="20" class="formItem\_\_textarea" readonly><?php echo esc\_textarea($systemInfo) ;?></textarea> |
  | 82 | 86 | </div> |
  | 83 |  | <input type="button" class="sgpb-download-system-info saveCHangeButton sgpb-btn sgpb-btn-blue" value="<?php esc\_html\_e('Download', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  |  | 87 | <input type="button" class="sgpb-download-system-info saveCHangeButton sgpb-btn sgpb-btn-blue" value="<?php esc\_html\_e('Download', 'popup-builder')?>"> |
  | 84 | 88 | </div> |
  | 85 | 89 | </div> |
* ## [popup-builder/trunk/public/views/subscribers.php](/changeset/3085485/popup-builder/trunk/public/views/subscribers.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/subscribers.php")

  | [r3009930](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L1 "Show revision 3009930 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 |  |  |
  |  | 2 | /\* Exit if accessed directly \*/ |
  |  | 3 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 4 | exit; |
  |  | 5 | } |
  | 3 | 6 | require\_once(SG\_POPUP\_CLASSES\_PATH.'/dataTable/Subscribers.php'); |
  | 4 | 7 | require\_once(SG\_POPUP\_CLASSES\_POPUPS\_PATH.'SubscriptionPopup.php'); |
  | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L16) | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L19) |  |
  | 16 | 19 | $subscribersSelectbox = AdminHelper::createSelectBox( |
  | 17 | 20 | $allData, |
  | 18 |  | \_\_('Select subscription(s):', ~~SG\_POPUP\_TEXT\_DOMAIN~~), |
  |  | 21 | \_\_('Select subscription(s):', 'popup-builder'), |
  | 19 | 22 | array( |
  | 20 | 23 | 'name' => 'sgpb-add-subscriber-input', |
  | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L42) | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L45) |  |
  | 42 | 45 | <div class="sgpb sgpb-wrapper "> |
  | 43 | 46 | <div class="sgpb-subscription sgpb-padding-20"> |
  | 44 |  | <h2 class="sgpb-header-h1 sgpb-margin-top-10 sgpb-margin-bottom-40"><?php esc\_html\_e('Subscribers', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?></h2> |
  |  | 47 | <h2 class="sgpb-header-h1 sgpb-margin-top-10 sgpb-margin-bottom-40"><?php esc\_html\_e('Subscribers', 'popup-builder')?></h2> |
  | 45 | 48 | <div class="sgpb-margin-bottom-20 sgpb-display-flex sgpb-justify-content-between"> |
  | 46 | 49 |  |
  | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L49) | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L52) |  |
  | 49 | 52 | data-target="addSubscriber" |
  | 50 | 53 | class="sgpb-display-inline-block sgpb-btn sgpb-btn-blue--outline sgpb-btn--rounded sgpb-padding-x-30 sgpb-modal-btn"> |
  | 51 |  | <?php esc\_html\_e('Add new', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 54 | <?php esc\_html\_e('Add new', 'popup-builder'); ?> |
  | 52 | 55 | </a> |
  | 53 | 56 | <a href="javascript:void(0)" |
  | 54 | 57 | class="sgpb-display-inline-block sgpb-btn sgpb-btn-blue--outline sgpb-btn--rounded sgpb-padding-x-30 sgpb-export-subscriber"> |
  | 55 |  | <?php esc\_html\_e('Export', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 58 | <?php esc\_html\_e('Export', 'popup-builder'); ?> |
  | 56 | 59 | </a> |
  | 57 | 60 | <a href="javascript:void(0)" |
  | 58 | 61 | data-target="importSubscriber" |
  | 59 | 62 | class="sgpb-display-inline-block sgpb-btn sgpb-btn-blue--outline sgpb-btn--rounded sgpb-padding-x-30 sgpb-modal-btn"> |
  | 60 |  | <?php esc\_html\_e('Import', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 63 | <?php esc\_html\_e('Import', 'popup-builder'); ?> |
  | 61 | 64 | </a> |
  | 62 | 65 | </div> |
  | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L71) | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L74) |  |
  | 71 | 74 | </div> |
  | 72 | 75 | <?php |
  | 73 |  | $table = new Subscribers(); |
  |  | 76 | $table = new SGPBSubscribers(); |
  | 74 | 77 | echo wp\_kses($table, AdminHelper::allowed\_html\_tags()); |
  | 75 | 78 | ?> |
  | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L78) | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L81) |  |
  | 78 | 81 |  |
  | 79 | 82 | <div id="addSubscriber" class="sgpb-display-none"> |
  | 80 |  | <span id="addSubscriberHeader"><?php esc\_html\_e('Add New Subscribers', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 83 | <span id="addSubscriberHeader"><?php esc\_html\_e('Add New Subscribers', 'popup-builder'); ?></span> |
  | 81 | 84 | <div id="addSubscriberBody"> |
  | 82 | 85 | <div class="formItem sgpb-subscriber-adding-error sg-hide-element"> |
  | 83 | 86 | <div class="alert alert-danger fade in alert-dismissable"> |
  | 84 |  | <?php esc\_html\_e('Error occurred: could not add subscriber.', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?> |
  |  | 87 | <?php esc\_html\_e('Error occurred: could not add subscriber.', 'popup-builder')?> |
  | 85 | 88 | </div> |
  | 86 | 89 | </div> |
  | 87 | 90 | <div class="sgpb-add-subscriber-header-spinner-column"> |
  | 88 |  | <img src="<?php echo esc\_url~~\_raw~~(SG\_POPUP\_IMG\_URL.'ajaxSpinner.gif'); ?>" alt="gif" class="sgpb-subscribers-add-spinner js-sg-spinner js-sgpb-add-spinner sg-hide-element js-sg-import-gif" width="20px"> |
  |  | 91 | <img src="<?php echo esc\_url(SG\_POPUP\_IMG\_URL.'ajaxSpinner.gif'); ?>" alt="gif" class="sgpb-subscribers-add-spinner js-sg-spinner js-sgpb-add-spinner sg-hide-element js-sg-import-gif" width="20px"> |
  | 89 | 92 | </div> |
  | 90 | 93 |  |
  | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L92) | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L95) |  |
  | 92 | 95 | <?php echo wp\_kses($subscribersSelectbox, AdminHelper::allowed\_html\_tags()); ?> |
  | 93 | 96 | </div> |
  | 94 |  | <div class="sg-hide-element sgpb-subscription-error formItem"><?php esc\_html\_e('Subscription is not selected', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>.</div> |
  |  | 97 | <div class="sg-hide-element sgpb-subscription-error formItem"><?php esc\_html\_e('Subscription is not selected', 'popup-builder')?>.</div> |
  | 95 | 98 | <div class="formItem"> |
  | 96 |  | <input type="email" autocomplete="off" name="subs-email" class="sgpb-add-subscribers-email sgpb-add-subscriber-input sgpb-formItem-input" placeholder="<?php esc\_html\_e('Email', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  |  | 99 | <input type="email" autocomplete="off" name="subs-email" class="sgpb-add-subscribers-email sgpb-add-subscriber-input sgpb-formItem-input" placeholder="<?php esc\_html\_e('Email', 'popup-builder')?>"> |
  | 97 | 100 | </div> |
  | 98 |  | <div class="sg-hide-element sgpb-email-error formItem"><?php esc\_html\_e('Invalid email address', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>.</div> |
  |  | 101 | <div class="sg-hide-element sgpb-email-error formItem"><?php esc\_html\_e('Invalid email address', 'popup-builder')?>.</div> |
  | 99 | 102 | <div class="formItem"> |
  | 100 |  | <input type="text" autocomplete="off" name="subs-firstName" class="sgpb-add-subscribers-first-name sgpb-add-subscriber-input sgpb-formItem-input" placeholder="<?php esc\_html\_e('First name', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  |  | 103 | <input type="text" autocomplete="off" name="subs-firstName" class="sgpb-add-subscribers-first-name sgpb-add-subscriber-input sgpb-formItem-input" placeholder="<?php esc\_html\_e('First name', 'popup-builder')?>"> |
  | 101 | 104 | </div> |
  | 102 | 105 | <div class="formItem"> |
  | 103 |  | <input type="text" autocomplete="off" name="subs-firstName" class="sgpb-add-subscribers-last-name sgpb-add-subscriber-input sgpb-formItem-input" placeholder="<?php esc\_html\_e('Last name', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  |  | 106 | <input type="text" autocomplete="off" name="subs-firstName" class="sgpb-add-subscribers-last-name sgpb-add-subscriber-input sgpb-formItem-input" placeholder="<?php esc\_html\_e('Last name', 'popup-builder')?>"> |
  | 104 | 107 | </div> |
  | 105 | 108 | </div> |
  | 106 | 109 | <div id="addSubscriberFooter"> |
  | 107 |  | <input type="button" value="<?php esc\_html\_e('Add to list', ~~SG\_POPUP\_TEXT\_DOMAIN~~)?>" |
  |  | 110 | <input type="button" value="<?php esc\_html\_e('Add to list', 'popup-builder')?>" |
  | 108 | 111 | class="sgpb-btn sgpb-btn-blue sgpb-add-to-list-js" data-ajaxNonce="<?php echo esc\_attr(SG\_AJAX\_NONCE);?>"> |
  | 109 | 112 | </div> |
  | 110 | 113 | </div> |
  | 111 | 114 | <div id="importSubscriber" class="sgpb-display-none"> |
  | 112 |  | <span id="importSubscriberHeader"><?php esc\_html\_e('Import Subscribers', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?></span> |
  |  | 115 | <span id="importSubscriberHeader"><?php esc\_html\_e('Import Subscribers', 'popup-builder'); ?></span> |
  | 113 | 116 | <div id="importSubscriberBody"> |
  | 114 | 117 | <div class="formItem"> |
  | 115 | 118 | <div class="formItem\_\_title sgpb-margin-bottom-10"> |
  | 116 |  | <?php esc\_html\_e('Select subscription(s):', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 119 | <?php esc\_html\_e('Select subscription(s):', 'popup-builder'); ?> |
  | 117 | 120 | </div> |
  | 118 | 121 | <?php echo wp\_kses($importSubscribersSelectbox, AdminHelper::allowed\_html\_tags()); ?> |
  | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L120) | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L123) |  |
  | 120 | 123 | <div class="formItem"> |
  | 121 | 124 | <div class="formItem\_\_title"> |
  | 122 |  | <?php esc\_html\_e('Import Subscribers from csv file:', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?> |
  |  | 125 | <?php esc\_html\_e('Import Subscribers from csv file:', 'popup-builder'); ?> |
  | 123 | 126 | </div> |
  | 124 | 127 | </div> |
  | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L127) | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L130) |  |
  | 127 | 130 | <div class="easy-icons-wrapper"> |
  | 128 | 131 | <div class="icons\_\_item"> |
  | 129 |  | <img id="js-import-subscriber-button" class="sgpb-cursor-pointer" src="<?php echo esc\_url~~\_raw(SG\_POPUP\_PUBLIC\_URL.'icons/cloud.svg'); ?>" title="<?php esc\_html\_e('Select file', SG\_POPUP\_TEXT\_DOMAIN)?>" alt="<?php esc\_html\_e('Select file', SG\_POPUP\_TEXT\_DOMAIN~~)?>"> |
  |  | 132 | <img id="js-import-subscriber-button" class="sgpb-cursor-pointer" src="<?php echo esc\_url(SG\_POPUP\_PUBLIC\_URL.'icons/cloud.svg'); ?>" title="<?php esc\_html\_e('Select file', 'popup-builder')?>" alt="<?php esc\_html\_e('Select file', 'popup-builder')?>"> |
  | 130 | 133 | </div> |
  | 131 | 134 | </div> |
  | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L133) | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L136) |  |
  | 133 | 136 | </div> |
  | 134 | 137 | <div id="importSubscriberFooter"> |
  | 135 |  | <input type="button" value="<?php esc\_html\_e('Import', ~~SG\_POPUP\_TEXT\_DOMAIN~~); ?>" |
  |  | 138 | <input type="button" value="<?php esc\_html\_e('Import', 'popup-builder'); ?>" |
  | 136 | 139 | class="sgpb-btn sgpb-btn-blue sgpb-import-subscriber-to-list" data-ajaxnonce="popupBuilderAjaxNonce" <?php echo esc\_attr($disable); ?>> |
  | 137 | 140 | </div> |
  | 138 | 141 | </div> |
  | 139 |  |  |
  | 140 |  |  |
  | 141 |  | <script type="text/javascript"> |
  | 142 |  | jQuery(document).ready(function($) { |
  |  | 142 | <?php |
  |  | 143 | wp\_register\_script( 'sgpb-subscribers-js-footer', '', array("jquery"), '1.0', true ); |
  |  | 144 | wp\_enqueue\_script( 'sgpb-subscribers-js-footer'  ); |
  |  | 145 | wp\_add\_inline\_script( 'sgpb-subscribers-js-footer', "jQuery(document).ready(function($) { |
  | 143 | 146 | const myForm = $('#posts-filter-sgpbAllSubscribers'); |
  | 144 | 147 | const searchValue = $('#sgpbAllSubscribers-search-input').val(); |
  | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3009930#L156) | […](/browser/popup-builder/trunk/public/views/subscribers.php?rev=3085485#L159) |  |
  | 156 | 159 | $(myForm).submit(); |
  | 157 | 160 | }) |
  | 158 |  | }); |
  | 159 |  | ~~</script~~> |
  |  | 161 | });"); |
  |  | 162 | ?> |
* ## [popup-builder/trunk/public/views/targetView.php](/changeset/3085485/popup-builder/trunk/public/views/targetView.php "Show the changeset 3085485 restricted to popup-builder/trunk/public/views/targetView.php")

  | [r2686454](/browser/popup-builder/trunk/public/views/targetView.php?rev=2686454#L1 "Show revision 2686454 of this file in browser") | [r3085485](/browser/popup-builder/trunk/public/views/targetView.php?rev=3085485#L1 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 | namespace sgpb; |
  | 3 |  |  |
  |  | 3 | /\* Exit if accessed directly \*/ |
  |  | 4 | if ( ! defined( 'ABSPATH' ) ) { |
  |  | 5 | exit; |
  |  | 6 | } |
  | 4 | 7 | $targetData = $popupTypeObj->getOptionValue('sgpb-target'); |
  | 5 | 8 | $popupTargetData = ConditionBuilder::createTargetConditionBuilder($targetData); |
* ## [popup-builder/trunk/readme.txt](/changeset/3085485/popup-builder/trunk/readme.txt "Show the changeset 3085485 restricted to popup-builder/trunk/readme.txt")

  | [r3067019](/browser/popup-builder/trunk/readme.txt?rev=3067019#L7 "Show revision 3067019 of this file in browser") | [r3085485](/browser/popup-builder/trunk/readme.txt?rev=3085485#L7 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Tags: popup, pop up, wordpress popup, popup maker, exit popup, popup builder, wordpress popup plugin |
  | 8 | 8 | Requires at least: 4.2 |
  | 9 |  | Tested up to: 6.~~5~~ |
  |  | 9 | Tested up to: 6.4 |
  | 10 | 10 | Requires PHP: 5.3.3 |
  | 11 |  | Stable tag: 4.~~2.7~~ |
  |  | 11 | Stable tag: 4.3.0 |
  | 12 | 12 | License: GPLv2 or later |
  | 13 | 13 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/popup-builder/trunk/readme.txt?rev=3067019#L147) | […](/browser/popup-builder/trunk/readme.txt?rev=3085485#L147) |  |
  | 147 | 147 | == Changelog == |
  | 148 | 148 |  |
  |  | 149 | = Version 4.3.0 = |
  |  | 150 | \* Fix Security improvements. |
  |  | 151 |  |
  | 149 | 152 | = Version 4.2.7 = |
  | 150 | 153 | \* Fix vulnerabilities issue of Authenticated (Contributor+) Stored Cross-Site Scripting via Shortcode. |
* ## [popup-builder/trunk/uninstall.php](/changeset/3085485/popup-builder/trunk/uninstall.php "Show the changeset 3085485 restricted to popup-builder/trunk/uninstall.php")

  | [r2466445](/browser/popup-builder/trunk/uninstall.php?rev=2466445#L5 "Show revision 2466445 of this file in browser") | [r3085485](/browser/popup-builder/trunk/uninstall.php?rev=3085485#L5 "Show revision 3085485 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | } |
  | 6 | 6 | use sgpb\Installer; |
  | 7 |  | if (!defined('SG\_POPUP\_FILE\_NAME')) { |
  | 8 |  | define('SG\_POPUP\_FILE\_NAME', plugin\_basename(\_\_FILE\_\_)); |
  |  | 7 | if (!defined('SGPB\_POPUP\_FILE\_NAME')) { |
  |  | 8 | define('SGPB\_POPUP\_FILE\_NAME', plugin\_basename(\_\_FILE\_\_)); |
  | 9 | 9 | } |
  | 10 | 10 |  |
  | 11 |  | if (!defined('SG\_POPUP\_FOLDER\_NAME')) { |
  | 12 |  | define('SG\_POPUP\_FOLDER\_NAME', plugin\_basename(dirname(\_\_FILE\_\_))); |
  |  | 11 | if (!defined('SGPB\_POPUP\_FOLDER\_NAME')) { |
  |  | 12 | define('SGPB\_POPUP\_FOLDER\_NAME', plugin\_basename(dirname(\_\_FILE\_\_))); |
  | 13 | 13 | } |
  | 14 | 14 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3085485)
* [Zip Archive](?format=zip&new=3085485)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_0b7b2690_20250111_040926.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Popup Builder <= 4.2.7 - Authenticated(Contributor+) Stored Cross-Site Scripting via Custom JS

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Popup Builder <= 4.2.7 - Authenticated(Contributor+) Stored Cross-Site Scripting via Custom JS

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-2506](https://www.cve.org/CVERecord?id=CVE-2024-2506) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | May 31, 2024 |
| Last Updated | July 26, 2024 |
| Researcher | [Tim Coen](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/tim-coen) |

### Description

The Popup Builder – Create highly converting, mobile friendly marketing popups. plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the custom JS functionality in all versions up to, and including, 4.2.7 due to insufficient input sanitization and output escaping on user supplied attributes. This makes it possible for authenticated attackers, with contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=3085485%40popup-builder&new=3085485%40popup-builder&sfp_email=&sfph_mail=#file51)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpopup-builder%2Fpopup-builder-427-authenticatedcontributor-stored-cross-site-scripting-via-custom-js&t=Popup%20Builder%20%3C%3D%204.2.7%20-%20Authenticated%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20Custom%20JS "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpopup-builder%2Fpopup-builder-427-authenticatedcontributor-stored-cross-site-scripting-via-custom-js&text=Popup%20Builder%20%3C%3D%204.2.7%20-%20Authenticated%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20Custom%20JS "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpopup-builder%2Fpopup-builder-427-authenticatedcontributor-stored-cross-site-scripting-via-custom-js "LinkedIn")
Email

## Vulnerability Details for Popup Builder – Create highly converting, mobile friendly marketing popups.

#### [Popup Builder – Create highly converting, mobile friendly marketing popups.](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/popup-builder)

| Software Type | Plugin |
| --- | --- |
| Software Slug | popup-builder [(view on wordpress.org)](https://wordpress.org/plugins/popup-builder) |
| Patched? | Yes |
| Remediation | Update to version 4.3.0, or a newer patched version |
| Affected Version | * <= 4.2.7 |
| Patched Version | * 4.3.0 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation


