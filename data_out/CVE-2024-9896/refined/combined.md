=== Content from wordpress.org_929a4257_20250111_141239.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

BBP Core – Expand bbPress powered forums with useful features

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fbbp-core&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fbbp-core&locale=en_US)

Search plugins

![](https://ps.w.org/bbp-core/assets/banner-772x250.png?rev=3006703)
![](https://ps.w.org/bbp-core/assets/icon-128x128.png?rev=2938163)
# BBP Core – Expand bbPress powered forums with useful features

By [spider-themes](https://spider-themes.net/bbp-core)

[Download](https://downloads.wordpress.org/plugin/bbp-core.1.2.7.zip)

* [Details](https://wordpress.org/plugins/bbp-core/#description)
* [Reviews](https://wordpress.org/plugins/bbp-core/#reviews)
* [Installation](https://wordpress.org/plugins/bbp-core/#installation)
* [Development](https://wordpress.org/plugins/bbp-core/#developers)

[Support](https://wordpress.org/support/plugin/bbp-core/)

## Description

BBP Core empowers bbPress forum with useful features. For example – Unified Forum Builder UI, Solved topics, Voting, Private replies, Forum statistics etc.

### Video Overview (Showcased free and premium features)

### 🔗 USEFUL LINKS

* [Get the Pro Version](https://spider-themes.net/bbp-core/pricing)
* [Demo (built with bbPress and BBP Core)](https://wordpress-plugins.spider-themes.net/bbp-core-pro/)
* [Documentation](https://helpdesk.spider-themes.net/docs/bbp-core-wordpress-plugin)
* [Explore More](https://spider-themes.net/bbp-core)

### Reasons to Choose BBP Core

* **Lightweight:** Loading only necessary css, javascript assets when necessary, it will not load assets unless necessary.
* **Unified Forum Builder:** It provides a single, organized view of forums and topics, along with filtering options for various topic statuses, enabling efficient navigation and management. Users can even check trashed topics.
* **Effortless Topic Management:** You can create and delete forums and topics directly from the BBP Core Admin UI, eliminating the need to navigate to the classic forum views for these actions.
* **Private Reply:** Users can post replies to topics that are visible only to forum owners, ensuring privacy and confidentiality in their discussions.
* **Solved Topics:** Allows users to mark forum topics as either solved or unsolved. Solved topics display a ‘Resolved’ badge at the end of their titles, making it easy to identify resolved issues.
* **Voting On Topic & Replies:** Allows users to vote on replies to topics, with the highest-voted reply rising to the top. The voting system is powered by AJAX for a seamless and engaging community interaction.
* **Media Attachments:** Enables users to attach files to their replies, which can be downloaded by other users. The attachments are displayed in a separate section below the Topic and Reply content. This enhances the forum’s functionality, allowing for the seamless sharing of relevant files and media within discussions.
* **Elementor Integrated:** BBP Core comes with a set of Elementor widgets that can be used to display forums, topics, and replies on any page of your website. The widgets are highly customizable, allowing you to configure their appearance and functionality to suit your needs.

### PRO Features

* **1. Admin Notifications:** Displays real-time updates of the latest forum activity directly on the dashboard area. This offers users a quick and convenient way to stay informed about recent happenings within the forum.
* **2. User Notifications:** Keep the logged-in users informed by providing them with real-time updates on the latest activity within their subscribed forums, topics, and replies. This ensures that users stay engaged and informed about discussions that matter most to them without having to actively monitor each one individually.
* **3. Mini Profile:** Displays a compact version of the user profile, which can be used to quickly view the user’s profile information and activity. This is useful for users who wish to quickly view the profile of another user without navigating to their profile page.
* **4. Pre-made Elementor Templates:** BBP Core Pro comes with a set of pre-made Elementor templates that can be imported with a single click. The templates are highly customizable, allowing you to configure their appearance and functionality to suit your needs.
* **5. I’ve the Same Question Button:** Allows users to quickly indicate that they have a similar question, possibly reducing duplicate threads and encouraging discussions on existing topics.
* **6. Post as Anonymous:** Allows users to post replies to topics anonymously, without revealing their identity. This can be useful for users who wish to discuss sensitive topics without revealing their identity.
* **7. My Profile Link:** Generates a dynamic URL that links directly to the profile page of the currently logged-in user. This convenient URL simplifies the process of users accessing and viewing their own profiles.
* **8. Pending Topic:** Enables admin-controlled approval of forum topics to prevent spam or inappropriate content from being published until a moderator approves them.
* **9. Advanced Attachment Features:** Increases the maximum file size and allows multiple files to be uploaded at once. Provides the option to delete attachments along with forum or topic content.
* **10. Advanced Voting Features:** Options to restrict voting for non-logged-in users, prevent new votes on closed topics, disallow self-voting, allow unlimited voting for administrators, and sort topics and replies based on their voting scores.

## Screenshots

* [![](https://ps.w.org/bbp-core/assets/screenshot-1.png?rev=3057792)](https://ps.w.org/bbp-core/assets/screenshot-1.png?rev=3057792)

  Custom Admin Dashboard
* [![](https://ps.w.org/bbp-core/assets/screenshot-2.png?rev=3057792)](https://ps.w.org/bbp-core/assets/screenshot-2.png?rev=3057792)

  BBP Core Settings

## Installation

#### Minimum Requirements

* PHP 7.3 or greater is recommended
* MySQL 5.6 or greater is recommended

You can install the BBP Core from your WordPress Dashboard or manually upload it through cPanel/FTP.

#### OPTION 1: Install the BBP Core Plugin from WordPress Dashboard

1. Navigate to Plugins -> Add New.
2. Search for ‘BBP Core’ and click on the Install button to install the plugin.
3. Activate the plugin in the Plugins menu.
4. Optional step: configure the plugin in the Admin menu, in BBP Core -> Settings.

#### OPTION 2: Manually Upload Plugin Files

1. Download the plugin file from the plugin page: bbp-core.zip.
2. Upload the ‘bbp-core.zip’ file to your ‘/wp-content/plugins’ directory.
3. Unzip the file bbp-core.zip (do not rename the folder).

## FAQ

### Does BBP Core work with any theme?

Yes, BBP Core works with any bbPress WordPress theme.

### Do I need coding skills to use BBP Core?

Absolutely not! BBP Core is as easy to use, as you can think of.

### Where can I report bugs or contribute to the project?

To report bugs or to contribute, head-over to the [GitHub repository](https://github.com/spider-themes/bbp-core/issues)

## Reviews

![](https://secure.gravatar.com/avatar/7bc041855f9111e0b85099fc6ba6b7a20a777fde448f2e49fffddb44462b34fd?s=60&d=retro&r=g)
### [very good lightweight plugin](https://wordpress.org/support/topic/very-good-lightweight-plugin-2/)

[mattrin](https://profiles.wordpress.org/mattrin/ "Posts by mattrin")
December 14, 2024

I compared performance with wp foro. This is lightweight and lot of features. Also many more ative integrations since this is based on bbpfress. This is also much much better value for money at which he is offering the pro plugin…

![](https://secure.gravatar.com/avatar/66c95ea5ba325f7e5e86ecc6c2ca907e3b7f7754e8723f6580f1cb39a2796cf5?s=60&d=retro&r=g)
### [Nice design](https://wordpress.org/support/topic/nice-design-49/)

[hittanynashamn](https://profiles.wordpress.org/hittanynashamn/ "Posts by hittanynashamn")
November 27, 2024

Some nice widgets that works with elementor pro making your bbpress forum stand out.

![](https://secure.gravatar.com/avatar/ed46b0e61d0b1e776e0c1d9f6da2f961598f7dd73a97b65614a9ebb17fc09d2a?s=60&d=retro&r=g)
### [solid addition to bbpress](https://wordpress.org/support/topic/solid-addition-to-bbpress/)

[birdmanphil](https://profiles.wordpress.org/birdmanphil/ "Posts by birdmanphil")
November 21, 2024

i love the enhancements this brings to bbpress and you can grab the lifetime pro plan for cheap right now fir black friday

![](https://secure.gravatar.com/avatar/9a2ada7dd064f88c76eae005512e4bfc0432c2f174656226ce561a57140dd97e?s=60&d=retro&r=g)
### [Support is great](https://wordpress.org/support/topic/support-is-great-44/)

[nomisite](https://profiles.wordpress.org/nomisite/ "Posts by nomisite")
August 23, 2024

Appreciate that the team is willing to give us their support by going into our website to rectify the issue first before rolling out the updates publicly! Thank you!

![](https://secure.gravatar.com/avatar/90fe24efe1bf69a9816dbb2897867968719af577d06438fea0b09aae65d6a07a?s=60&d=retro&r=g)
### [Nice plugin](https://wordpress.org/support/topic/nice-plugin-5189/)

[raviyad98](https://profiles.wordpress.org/raviyad98/ "Posts by raviyad98")
July 30, 2024

I recently had the pleasure of using BBP Core, and I must say it exceeded all my expectations. The plugin is feature-rich, offering an extensive array of functionalities that seamlessly integrate into my WordPress site, making it more powerful and user-friendly. The standout feature, however, is the exceptional support from the developer team. They are incredibly responsive, knowledgeable, and always willing to go the extra mile to ensure everything runs smoothly. Their prompt and effective assistance has made a significant difference, providing peace of mind and a stellar user experience. I highly recommend BBP Core to anyone looking for a top-notch plugin backed by outstanding support. Five stars well deserved!

![](https://secure.gravatar.com/avatar/cafa0c4e72838f50b288d91420c048d2ea975f33f91ccc6e16f3c47fc508186d?s=60&d=retro&r=g)
### [BBP Core – All-in-One Solution for dynamic forum](https://wordpress.org/support/topic/bbp-core-all-in-one-solution-for-dynamic-forum/)

[drshagunthakur](https://profiles.wordpress.org/drshagunthakur/ "Posts by drshagunthakur")
April 16, 2024

Dreaming of creating a vibrant online community? Look no further than BBP Core! While forums are typically seen as simple platforms for discussion, BBP Core transforms them into magical spaces where connections flourish and communities thrive. Imagine a bustling marketplace of ideas, where users engage in lively discussions, share valuable insights, and forge meaningful relationships.
With BBP Core, you’re not just adding a forum to your website – you’re unlocking the power of a super community. It empowers you to foster an environment where users feel valued and engaged, driving increased traffic, retention, and brand loyalty. From customizable layouts to advanced moderation tools, BBP Core equips you with everything you need to create an immersive online experience that keeps users coming back for more.
So, if you’re ready to take your website to the next level and cultivate a dynamic community around your brand, look no further than BBP Core. Transform your website into a magical gathering place where connections are made, ideas are exchanged, and communities thrive – all with the power of BBP Core!

[Read all 12 reviews](https://wordpress.org/support/plugin/bbp-core/reviews/)
## Contributors & Developers

“BBP Core – Expand bbPress powered forums with useful features” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/20bf720b410791d6ba38fafe7ea5db0ede8a48cbf7a7b3b5acff497a02c3fccf?s=32&d=mm&r=g) [Spider Themes](https://profiles.wordpress.org/spiderdevs/)
* ![](https://secure.gravatar.com/avatar/e593ea53787e2070a8151f0c6c0a3af5d08d77e0576001c7bd95ab09569f1639?s=32&d=mm&r=g) [Md. Jwel Miah](https://profiles.wordpress.org/mdjwel/)
* ![](https://secure.gravatar.com/avatar/16625882c4e682ae57ed3cf41ba329b8a39fd9d4db86e8ff665575cd8fc88c0d?s=32&d=mm&r=g) [delweratjk](https://profiles.wordpress.org/delweratjk/)

[Translate “BBP Core – Expand bbPress powered forums with useful features” into your language.](https://translate.wordpress.org/projects/wp-plugins/bbp-core)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/bbp-core/), check out the [SVN repository](https://plugins.svn.wordpress.org/bbp-core/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/bbp-core/) by [RSS](https://plugins.trac.wordpress.org/log/bbp-core/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### v1.2.7 (24 December 2024)

Fixed: sprintf php error

Fixed: Resolved the issue with inserting forums and topics on the Nginx server

Fixed: Theme name check to resolve translation loading error

Tweaked: Improved ‘Add Forum’ button design

Updated: Freemius SDK updated to 2.10.1

#### v1.2.6 (31 October 2024)

Fixed: Security issues resolved

#### v1.2.5 (30 October 2024)

New: Added a hook to insert option in Settings

Tweaked: Anonymous profile picture gap with title (in the sidebar widget)

Tweaked: Attachment thumbnail design improved

Updated: Freemius SDK updated to 2.9.0

#### v1.2.4 (23 August 2024)

Fixed: Brand color change issue

Updated: Freemius SDK updated to 2.7.4

#### v1.2.3 (25 March 2024)

Fixed: Resolved elementor free & pro widgets conflict. Free and pro widgets appearing at the same time on the editor.

Fixed: Fixed fatal error while bbpress is not activated

Fixed: Admin script loading issue (attached the scripts with the correct hook)

New: Customizer option added for the brand color

Tweaked: Forum Builder UI improved in the Admin Dashboard

Tweaked: Voting settings option improved in the settings page

Tweaked: Compatibility with the latest BBP Core Pro plugin

Tweaked: Redirection stop after activating the plugin

Tweaked: Plugin’s Documentation link added in plugins page (beside the plugin name)

#### v1.2.2 (01 January 2024)

Fixed: Code validation issues fixed in the asking-for-review.php file

Fixed: Create Topic as anonymous issue solved

Fixed: Resolved elementor free & pro widgets conflict

Tweaked: ‘BBPC Forum Tabs’ and ”BBPC Search’ Elementor widgets design improved

Updated: Freemius SDK updated to v2.6.2

#### v1.2.1 (28 October 2023)

New: Brand Color change option added in the Settings page

Fixed: If solved topic exists, some php warning shows in the Forum Builder UI

Fixed: Search Elementor widget’s overlay color on focus issue

Tweaked: Ajax Search Results improved for the Search Elementor widget

Tweaked: Search form design improved (made consistent and adjusted with the background) in the Forum Builder UI in the Admin Dashboard

Tweaked: Trashed topics excluded from the Forum Topics count in the Forum Builder UI

Tweaked: Dashicons used instead of some svg icons (solved, unsolved filters) in the Forum Builder UI

Tweaked: Space adjusted if all the filter tabs shown in the Forum Builder UI

Tweaked: Removed some unnecessary files to make the plugin lightweight

Updated: Freemius SDK to v2.6.0

#### v1.2.0 (27 October 2023)

Fixed: BBP Core Search Form widget’s overlay color on focus issue fixed

Fixed: PHP Namespace issue

Updated: Freemius SDK to v2.5.12

Tweaked: Re-structured and optimized the codebase

Tweaked: Removed some unnecessary files

Tweaked: Made compatible with the Latest BBP Core Pro plugin

Tweaked: Regenerated the POT file more accurately with the latest strings

Tweaked: Forum Builder UI improved in the Admin Dashboard

#### v1.1.0 (13 July 2023)

New: BBPC Forums Elementor widgets added

New: BBPC Ajax Forums Elementor widgets added (Unlocked in Ama theme and Ama Pro plugin)

New: BBPC Forum Topics Elementor widgets added (Unlocked in Ama theme and Ama Pro plugin)

New: BBPC Forum Tabs Elementor widgets added (Unlocked in Ama theme and Ama Pro plugin)

New: BBPC Forum Search Elementor widgets added (Unlocked in Ama theme and Ama Pro plugin)

New: BBPC Forum Single Forum Elementor widgets added (Unlocked in Ama theme and Ama Pro plugin)

Tweaked: Removed some unnecessary files (Unlocked in Ama theme and Ama Pro plugin)

Tweaked: Improved/redesigned the Unified Forums Builder UI (Admin UI)

Updated: Freemius SDK to v2.5.9

#### v1.0.7 (September 26, 2022)

* Fix: Filters visibility issues fixed

#### v1.0.6 (September 24, 2022)

* Fix: Create Forum class warning
* Fix: Add Forum issues
* Improved: Forum filter selection persistence, using cookies

#### v1.0.5 (September 17, 2022)

* Improved: Admin UI filter navigation.
* New: Adding forum and topics from Admin UI Page

#### v1.0.4 (September 10, 2022)

* Fix: Add new button disappeared on plugin and theme page solved

#### v1.0.3 (September 9, 2022)

* Fix: Admin UI forum thumbnail
* Added support for docly theme

#### v1.0.2 (August 21, 2022)

* Fix: Admin UI settings
* Fix: Admin UI CSS

#### v1.0.1 (August 21, 2022)

* Custom Forum dashboard UI
* BBPress voting
* Highly customizable settings options

#### v1.0.0 (July 25, 2022)

* Initial release

## Meta

* Version **1.2.7**
* Last updated **3 weeks ago**
* Active installations **1,000+**
* WordPress version **5.0 or higher**
* Tested up to **6.6.2**
* PHP version **7.4 or higher**
* Tags [attachments](https://wordpress.org/plugins/tags/attachments/)[bbPress](https://wordpress.org/plugins/tags/bbpress/)[community](https://wordpress.org/plugins/tags/community/)[forum](https://wordpress.org/plugins/tags/forum/)[private replies](https://wordpress.org/plugins/tags/private-replies/)
* [Advanced View](https://wordpress.org/plugins/bbp-core/advanced/)

## Ratings

5 out of 5 stars.

* [12 5-star reviews
  5 stars

  12](https://wordpress.org/support/plugin/bbp-core/reviews/?filter=5)
* [0 4-star reviews
  4 stars

  0](https://wordpress.org/support/plugin/bbp-core/reviews/?filter=4)
* [0 3-star reviews
  3 stars

  0](https://wordpress.org/support/plugin/bbp-core/reviews/?filter=3)
* [0 2-star reviews
  2 stars

  0](https://wordpress.org/support/plugin/bbp-core/reviews/?filter=2)
* [0 1-star reviews
  1 star

  0](https://wordpress.org/support/plugin/bbp-core/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/bbp-core/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/bbp-core/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/20bf720b410791d6ba38fafe7ea5db0ede8a48cbf7a7b3b5acff497a02c3fccf?s=32&d=mm&r=g) [Spider Themes](https://profiles.wordpress.org/spiderdevs/)
* ![](https://secure.gravatar.com/avatar/e593ea53787e2070a8151f0c6c0a3af5d08d77e0576001c7bd95ab09569f1639?s=32&d=mm&r=g) [Md. Jwel Miah](https://profiles.wordpress.org/mdjwel/)
* ![](https://secure.gravatar.com/avatar/16625882c4e682ae57ed3cf41ba329b8a39fd9d4db86e8ff665575cd8fc88c0d?s=32&d=mm&r=g) [delweratjk](https://profiles.wordpress.org/delweratjk/)
## Support

Issues resolved in last two months:

0 out of 3

[View support forum](https://wordpress.org/support/plugin/bbp-core/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_46ff572e_20250111_141237.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fbbp-core%2Ftrunk%2Fincludes%2Ffeatures%2Fbbpc_attachments%2Fcode%2Ffront.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php?rev=3139863 "Revision 3139863")
* Next Revision →
* [Blame](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php)

---

# [source:](/browser?order=name "Go to repository root") [bbp-core](/browser/bbp-core?order=name "View bbp-core")/[trunk](/browser/bbp-core/trunk?order=name "View trunk")/[includes](/browser/bbp-core/trunk/includes?order=name "View includes")/[features](/browser/bbp-core/trunk/includes/features?order=name "View features")/[bbpc\_attachments](/browser/bbp-core/trunk/includes/features/bbpc_attachments?order=name "View bbpc_attachments")/[code](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code?order=name "View code")/[front.php](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php?order=name "View front.php")

View diff against:

View revision:

| [Last change](/changeset/3179353/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php "View differences") on this file was [3179353](/changeset/3179353/ "View changeset 3179353"), checked in by codersajjad, [2 months ago](/timeline?from=2024-10-31T10%3A40%3A38Z&precision=second "See timeline at 10/31/2024 10:40:38 AM") |
| --- |
| v1.2.6 in trunk |
| **File size:** 14.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | if ( ! defined( 'ABSPATH' ) ) { |
| [3](#L3) | exit; |
| [4](#L4) | } |
| [5](#L5) |  |
| [6](#L6) | class GDATTFront { |
| [7](#L7) | private $edit\_mode = false; |
| [8](#L8) | private $icons     = [ |
| [9](#L9) | 'code'       => 'c|cc|h|js|class', |
| [10](#L10) | 'xml'        => 'xml', |
| [11](#L11) | 'excel'      => 'xla|xls|xlsx|xlt|xlw|xlam|xlsb|xlsm|xltm', |
| [12](#L12) | 'word'       => 'docx|dotx|docm|dotm', |
| [13](#L13) | 'image'      => 'png|gif|jpg|jpeg|jpe|jp|bmp|tif|tiff|svg', |
| [14](#L14) | 'psd'        => 'psd', |
| [15](#L15) | 'ai'         => 'ai', |
| [16](#L16) | 'archive'    => 'zip|rar|gz|gzip|tar', |
| [17](#L17) | 'text'       => 'txt|asc|nfo', |
| [18](#L18) | 'powerpoint' => 'pot|pps|ppt|pptx|ppam|pptm|sldm|ppsm|potm', |
| [19](#L19) | 'pdf'        => 'pdf', |
| [20](#L20) | 'html'       => 'htm|html|css', |
| [21](#L21) | 'video'      => 'avi|asf|asx|wax|wmv|wmx|divx|flv|mov|qt|mpeg|mpg|mpe|mp4|m4v|ogv|mkv', |
| [22](#L22) | 'documents'  => 'odt|odp|ods|odg|odc|odb|odf|wp|wpd|rtf', |
| [23](#L23) | 'audio'      => 'mp3|m4a|m4b|mp4|m4v|wav|ra|ram|ogg|oga|mid|midi|wma|mka', |
| [24](#L24) | 'icon'       => 'ico', |
| [25](#L25) | ]; |
| [26](#L26) |  |
| [27](#L27) | function \_\_construct() { |
| [28](#L28) | add\_action( 'bbp\_init', [ $this, 'load' ] ); |
| [29](#L29) | } |
| [30](#L30) |  |
| [31](#L31) | public static function instance() { |
| [32](#L32) | static $instance = false; |
| [33](#L33) |  |
| [34](#L34) | if ( $instance === false ) { |
| [35](#L35) | $instance = new GDATTFront(); |
| [36](#L36) | } |
| [37](#L37) |  |
| [38](#L38) | return $instance; |
| [39](#L39) | } |
| [40](#L40) |  |
| [41](#L41) | public function load() { |
| [42](#L42) | add\_action( 'wp\_enqueue\_scripts', [ $this, 'wp\_enqueue\_scripts' ] ); |
| [43](#L43) |  |
| [44](#L44) | add\_action( 'bbp\_theme\_before\_reply\_form\_submit\_wrapper', [ $this, 'embed\_form' ] ); |
| [45](#L45) | add\_action( 'bbp\_theme\_before\_topic\_form\_submit\_wrapper', [ $this, 'embed\_form' ] ); |
| [46](#L46) |  |
| [47](#L47) | add\_action( 'bbp\_edit\_reply', [ $this, 'edit\_reply' ], 10, 5 ); |
| [48](#L48) | add\_action( 'bbp\_edit\_topic', [ $this, 'edit\_topic' ], 10, 4 ); |
| [49](#L49) | add\_action( 'bbp\_new\_reply', [ $this, 'save\_reply' ], 10, 5 ); |
| [50](#L50) | add\_action( 'bbp\_new\_topic', [ $this, 'save\_topic' ], 10, 4 ); |
| [51](#L51) |  |
| [52](#L52) | add\_filter( 'bbp\_get\_reply\_content', [ $this, 'embed\_attachments' ], 100, 2 ); |
| [53](#L53) | add\_filter( 'bbp\_get\_topic\_content', [ $this, 'embed\_attachments' ], 100, 2 ); |
| [54](#L54) |  |
| [55](#L55) | if ( bbpc\_bba\_o( 'is\_attachment\_icon' ) == 1 ) { |
| [56](#L56) | add\_action( 'bbp\_theme\_before\_topic\_title', [ $this, 'show\_attachments\_icon' ] ); |
| [57](#L57) | } |
| [58](#L58) |  |
| [59](#L59) | $this->register\_scripts\_and\_styles(); |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | private function icon( $ext ) { |
| [63](#L63) | foreach ( $this->icons as $icon => $list ) { |
| [64](#L64) | $list = explode( '|', $list ); |
| [65](#L65) |  |
| [66](#L66) | if ( in\_array( $ext, $list ) ) { |
| [67](#L67) | return $icon; |
| [68](#L68) | } |
| [69](#L69) | } |
| [70](#L70) |  |
| [71](#L71) | return 'generic'; |
| [72](#L72) | } |
| [73](#L73) |  |
| [74](#L74) | public function register\_scripts\_and\_styles() { |
| [75](#L75) | //TODO: Fix the constant for version |
| [76](#L76) | wp\_register\_style( 'bbpc-attachments', BBPCATTACHMENT\_URL . 'css/front.min.css', [], BBPC\_VERSION ); |
| [77](#L77) | wp\_register\_script( 'bbpc-attachments', BBPCATTACHMENT\_URL . 'js/front.min.js', [ 'jquery' ], BBPC\_VERSION, true ); |
| [78](#L78) | } |
| [79](#L79) |  |
| [80](#L80) | public function include\_scripts\_and\_styles() { |
| [81](#L81) | wp\_enqueue\_style( 'bbpc-attachments' ); |
| [82](#L82) | wp\_enqueue\_script( 'bbpc-attachments' ); |
| [83](#L83) |  |
| [84](#L84) | wp\_localize\_script( |
| [85](#L85) | 'bbpc-attachments', |
| [86](#L86) | 'bbpcAttachmentsInit', |
| [87](#L87) | [ |
| [88](#L88) | 'max\_files'    => apply\_filters( 'bbpc\_bbpressattchment\_allow\_upload', BBPCATTCore::instance()->get\_max\_files(), bbp\_get\_forum\_id() ), |
| [89](#L89) | 'are\_you\_sure' => \_\_( 'This operation is not reversible. Are you sure?', 'bbp-core' ), |
| [90](#L90) | ] |
| [91](#L91) | ); |
| [92](#L92) | } |
| [93](#L93) |  |
| [94](#L94) | public function wp\_enqueue\_scripts() { |
| [95](#L95) | if ( bbpc\_is\_bbpress() ) { |
| [96](#L96) | $this->include\_scripts\_and\_styles(); |
| [97](#L97) | } |
| [98](#L98) | } |
| [99](#L99) |  |
| [100](#L100) | public function edit\_topic( $topic\_id, $forum\_id, $anonymous\_data, $topic\_author ) { |
| [101](#L101) | $this->edit\_mode = true; |
| [102](#L102) | $this->process\_attachments( 0, $topic\_id, $forum\_id, $anonymous\_data, $topic\_author ); |
| [103](#L103) | } |
| [104](#L104) |  |
| [105](#L105) | public function edit\_reply( $reply\_id, $topic\_id, $forum\_id, $anonymous\_data = null, $reply\_author = null ) { |
| [106](#L106) | $this->edit\_mode = true; |
| [107](#L107) | $this->process\_attachments( $reply\_id, $topic\_id, $forum\_id, $anonymous\_data, $reply\_author ); |
| [108](#L108) | } |
| [109](#L109) |  |
| [110](#L110) | public function save\_topic( $topic\_id, $forum\_id, $anonymous\_data, $topic\_author ) { |
| [111](#L111) | $this->edit\_mode = false; |
| [112](#L112) | $this->process\_attachments( 0, $topic\_id, $forum\_id, $anonymous\_data, $topic\_author ); |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | public function save\_reply( $reply\_id, $topic\_id, $forum\_id, $anonymous\_data = null, $reply\_author = null ) { |
| [116](#L116) | $this->edit\_mode = false; |
| [117](#L117) | $this->process\_attachments( $reply\_id, $topic\_id, $forum\_id, $anonymous\_data, $reply\_author ); |
| [118](#L118) | } |
| [119](#L119) |  |
| [120](#L120) | public function process\_attachments( $reply\_id, $topic\_id, $forum\_id, $anonymous\_data = null, $reply\_author = null ) { |
| [121](#L121) | $uploads  = []; |
| [122](#L122) | $revision = false; |
| [123](#L123) |  |
| [124](#L124) | if ( ! empty( $\_FILES ) && ! empty( $\_FILES['bbpc\_attachment'] ) ) { |
| [125](#L125) | require\_once ABSPATH . 'wp-admin/includes/file.php'; |
| [126](#L126) |  |
| [127](#L127) | $errors    = new gdbbp\_Error(); |
| [128](#L128) | $overrides = [ |
| [129](#L129) | 'test\_form'            => false, |
| [130](#L130) | 'upload\_error\_handler' => 'bbpc\_bbattachment\_handle\_upload\_error', |
| [131](#L131) | ]; |
| [132](#L132) |  |
| [133](#L133) | foreach ( $\_FILES['bbpc\_attachment']['error'] as $key => $error ) { |
| [134](#L134) | $file\_name = $\_FILES['bbpc\_attachment']['name'][ $key ]; |
| [135](#L135) |  |
| [136](#L136) | if ( $error == UPLOAD\_ERR\_OK ) { |
| [137](#L137) | $file = [ |
| [138](#L138) | 'name'     => $file\_name, |
| [139](#L139) | 'type'     => $\_FILES['bbpc\_attachment']['type'][ $key ], |
| [140](#L140) | 'size'     => $\_FILES['bbpc\_attachment']['size'][ $key ], |
| [141](#L141) | 'tmp\_name' => $\_FILES['bbpc\_attachment']['tmp\_name'][ $key ], |
| [142](#L142) | 'error'    => $\_FILES['bbpc\_attachment']['error'][ $key ], |
| [143](#L143) | ]; |
| [144](#L144) |  |
| [145](#L145) | $file\_name = sanitize\_file\_name( $file\_name ); |
| [146](#L146) |  |
| [147](#L147) | if ( BBPCATTCore::instance()->is\_right\_size( $file, $forum\_id ) ) { |
| [148](#L148) | $upload = wp\_handle\_upload( $file, $overrides ); |
| [149](#L149) |  |
| [150](#L150) | if ( ! is\_wp\_error( $upload ) ) { |
| [151](#L151) | $uploads[] = $upload; |
| [152](#L152) | } else { |
| [153](#L153) | $errors->add( 'wp\_upload', $upload->errors['wp\_upload\_error'][0], $file\_name ); |
| [154](#L154) | } |
| [155](#L155) | } else { |
| [156](#L156) | $errors->add( 'bbpc\_upload', 'File exceeds allowed file size.', $file\_name ); |
| [157](#L157) | } |
| [158](#L158) | } else { |
| [159](#L159) | switch ( $error ) { |
| [160](#L160) | default: |
| [161](#L161) | case 'UPLOAD\_ERR\_NO\_FILE': |
| [162](#L162) | $errors->add( 'php\_upload', 'File not uploaded.', $file\_name ); |
| [163](#L163) | break; |
| [164](#L164) | case 'UPLOAD\_ERR\_INI\_SIZE': |
| [165](#L165) | $errors->add( 'php\_upload', 'Upload file size exceeds PHP maximum file size allowed.', $file\_name ); |
| [166](#L166) | break; |
| [167](#L167) | case 'UPLOAD\_ERR\_FORM\_SIZE': |
| [168](#L168) | $errors->add( 'php\_upload', 'Upload file size exceeds FORM specified file size.', $file\_name ); |
| [169](#L169) | break; |
| [170](#L170) | case 'UPLOAD\_ERR\_PARTIAL': |
| [171](#L171) | $errors->add( 'php\_upload', 'Upload file only partially uploaded.', $file\_name ); |
| [172](#L172) | break; |
| [173](#L173) | case 'UPLOAD\_ERR\_CANT\_WRITE': |
| [174](#L174) | $errors->add( 'php\_upload', 'Can\'t write file to the disk.', $file\_name ); |
| [175](#L175) | break; |
| [176](#L176) | case 'UPLOAD\_ERR\_NO\_TMP\_DIR': |
| [177](#L177) | $errors->add( 'php\_upload', 'Temporary folder for upload is missing.', $file\_name ); |
| [178](#L178) | break; |
| [179](#L179) | case 'UPLOAD\_ERR\_EXTENSION': |
| [180](#L180) | $errors->add( 'php\_upload', 'Server extension restriction stopped upload.', $file\_name ); |
| [181](#L181) | break; |
| [182](#L182) | } |
| [183](#L183) | } |
| [184](#L184) | } |
| [185](#L185) | } |
| [186](#L186) |  |
| [187](#L187) | $post\_id = $reply\_id == 0 ? $topic\_id : $reply\_id; |
| [188](#L188) |  |
| [189](#L189) | if ( ! empty( $errors->errors ) ) { |
| [190](#L190) | foreach ( $errors->errors as $code => $errs ) { |
| [191](#L191) | foreach ( $errs as $error ) { |
| [192](#L192) | if ( $error[0] != '' && $error[1] != '' ) { |
| [193](#L193) | add\_post\_meta( |
| [194](#L194) | $post\_id, |
| [195](#L195) | '\_bbp\_attachment\_upload\_error', |
| [196](#L196) | [ |
| [197](#L197) | 'code'    => $code, |
| [198](#L198) | 'file'    => $error[1], |
| [199](#L199) | 'message' => $error[0], |
| [200](#L200) | ] |
| [201](#L201) | ); |
| [202](#L202) | } |
| [203](#L203) | } |
| [204](#L204) | } |
| [205](#L205) |  |
| [206](#L206) | $revision = true; |
| [207](#L207) | } |
| [208](#L208) |  |
| [209](#L209) | if ( ! empty( $uploads ) ) { |
| [210](#L210) | require\_once ABSPATH . 'wp-admin/includes/media.php'; |
| [211](#L211) | require\_once ABSPATH . 'wp-admin/includes/image.php'; |
| [212](#L212) |  |
| [213](#L213) | foreach ( $uploads as $upload ) { |
| [214](#L214) | $wp\_filetype = wp\_check\_filetype( basename( $upload['file'] ), null ); |
| [215](#L215) | $attachment  = [ |
| [216](#L216) | 'post\_mime\_type' => $wp\_filetype['type'], |
| [217](#L217) | 'post\_title'     => preg\_replace( '/\.[^.]+$/', '', basename( $upload['file'] ) ), |
| [218](#L218) | 'post\_content'   => '', |
| [219](#L219) | 'post\_status'    => 'inherit', |
| [220](#L220) | ]; |
| [221](#L221) |  |
| [222](#L222) | $attach\_id   = wp\_insert\_attachment( $attachment, $upload['file'], $post\_id ); |
| [223](#L223) | $attach\_data = wp\_generate\_attachment\_metadata( $attach\_id, $upload['file'] ); |
| [224](#L224) |  |
| [225](#L225) | wp\_update\_attachment\_metadata( $attach\_id, $attach\_data ); |
| [226](#L226) | update\_post\_meta( $attach\_id, '\_bbp\_attachment', '1' ); |
| [227](#L227) | } |
| [228](#L228) |  |
| [229](#L229) | $revision = true; |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | if ( $this->edit\_mode && $revision ) { |
| [233](#L233) | add\_filter( 'wp\_save\_post\_revision\_post\_has\_changed', [ $this, 'post\_has\_changed' ] ); |
| [234](#L234) | } |
| [235](#L235) | } |
| [236](#L236) |  |
| [237](#L237) | public function post\_has\_changed() { |
| [238](#L238) | remove\_filter( 'wp\_save\_post\_revision\_post\_has\_changed', [ $this, 'post\_has\_changed' ] ); |
| [239](#L239) |  |
| [240](#L240) | return true; |
| [241](#L241) | } |
| [242](#L242) |  |
| [243](#L243) | public function show\_attachments\_icon() { |
| [244](#L244) | $topic\_id = bbp\_get\_topic\_id(); |
| [245](#L245) | $count    = bbpc\_topic\_attachments\_count( $topic\_id, true ); |
| [246](#L246) |  |
| [247](#L247) | if ( $count > 0 ) { |
| [248](#L248) | echo '<span class="bbp-attachments-count" title="' . $count . ' ' . \_n( 'attachment', 'attachments', $count, 'bbp-core' ) . '"></span>'; |
| [249](#L249) | } |
| [250](#L250) | } |
| [251](#L251) |  |
| [252](#L252) | public function embed\_attachments( $content, $id ) { |
| [253](#L253) | global $user\_ID; |
| [254](#L254) |  |
| [255](#L255) | $attachments = bbpc\_get\_post\_attachments( $id ); |
| [256](#L256) |  |
| [257](#L257) | $post      = get\_post( $id ); |
| [258](#L258) | $author\_id = $post->post\_author; |
| [259](#L259) |  |
| [260](#L260) | $opt = get\_option( 'bbp\_core\_settings' ); |
| [261](#L261) |  |
| [262](#L262) | if ( ! empty( $attachments ) ) { |
| [263](#L263) | $content .= '<div class="bbp-attachments">'; |
| [264](#L264) | $content .= '<h6>' . \_\_( 'Attachments', 'bbp-core' ) . ':</h6>'; |
| [265](#L265) |  |
| [266](#L266) | $\_download      = ' download'; |
| [267](#L267) |  |
| [268](#L268) | if ( ! is\_user\_logged\_in() && BBPCATTCore::instance()->is\_hidden\_from\_visitors() ) { |
| [269](#L269) | $content .= sprintf( \_\_( "You must be <a href='%s'>logged in</a> to view attached files.", 'bbp-core' ), wp\_login\_url( get\_permalink() ) ); |
| [270](#L270) | } else { |
| [271](#L271) | $listing    = '<ol'; |
| [272](#L272) | $thumbnails = '<ol'; |
| [273](#L273) |  |
| [274](#L274) | $listing    .= ' class="with-icons d4p-bbp-listing"'; |
| [275](#L275) | $thumbnails .= ' class="with-icons d4p-bba-thumbnails"'; |
| [276](#L276) |  |
| [277](#L277) | $listing    .= '>'; |
| [278](#L278) | $thumbnails .= '>'; |
| [279](#L279) | $images      = $files = 0; |
| [280](#L280) |  |
| [281](#L281) | foreach ( $attachments as $attachment ) { |
| [282](#L282) | $actions = []; |
| [283](#L283) |  |
| [284](#L284) | $url = add\_query\_arg( '\_wpnonce', wp\_create\_nonce( 'd4p-bbpress-attachments' ) ); |
| [285](#L285) | $url = add\_query\_arg( 'att\_id', $attachment->ID, $url ); |
| [286](#L286) | $url = add\_query\_arg( 'bbp\_id', $id, $url ); |
| [287](#L287) |  |
| [288](#L288) | $allow = 'no'; |
| [289](#L289) | if ( bbpc\_is\_user\_admin() ) { |
| [290](#L290) | $allow = 'delete'; |
| [291](#L291) | } elseif ( bbpc\_is\_user\_moderator() ) { |
| [292](#L292) | $allow = 'delete'; |
| [293](#L293) | } elseif ( $author\_id == $user\_ID ) { |
| [294](#L294) | $allow = false; |
| [295](#L295) | } |
| [296](#L296) |  |
| [297](#L297) | if ( $allow == 'delete' || $allow == 'both' ) { |
| [298](#L298) | $actions[] = '<a class="d4p-bba-action-delete" href="' . esc\_url( add\_query\_arg( 'd4pbbaction', 'delete', $url ) ) . '">' . \_\_( 'delete', 'bbp-core' ) . '</a>'; |
| [299](#L299) | } |
| [300](#L300) |  |
| [301](#L301) | if ( $allow == 'detach' || $allow == 'both' ) { |
| [302](#L302) | $actions[] = '<a class="d4p-bba-action-detach" href="' . esc\_url( add\_query\_arg( 'd4pbbaction', 'detach', $url ) ) . '">' . \_\_( 'detach', 'bbp-core' ) . '</a>'; |
| [303](#L303) | } |
| [304](#L304) |  |
| [305](#L305) | if ( count( $actions ) > 0 ) { |
| [306](#L306) | $actions = ' <span class="d4p-bba-actions">[' . join( ' | ', $actions ) . ']</span>'; |
| [307](#L307) | } else { |
| [308](#L308) | $actions = ''; |
| [309](#L309) | } |
| [310](#L310) |  |
| [311](#L311) | $file     = get\_attached\_file( $attachment->ID ); |
| [312](#L312) | $ext      = pathinfo( $file, PATHINFO\_EXTENSION ); |
| [313](#L313) | $filename = pathinfo( $file, PATHINFO\_BASENAME ); |
| [314](#L314) | $file\_url = wp\_get\_attachment\_url( $attachment->ID ); |
| [315](#L315) |  |
| [316](#L316) | $html    = $class\_li = $class\_a = $rel\_a = ''; |
| [317](#L317) | $a\_title = $filename; |
| [318](#L318) | $caption = false; |
| [319](#L319) |  |
| [320](#L320) | $is\_lighbox = ''; |
| [321](#L321) | if ( bbpc\_is\_premium() ) { |
| [322](#L322) | $is\_lighbox = $opt['image\_link\_type'] == 'lightbox' ? ' bbpc-lightbox' : ''; |
| [323](#L323) | $\_download      = $opt['image\_link\_type'] == 'lightbox' ? '' : $\_download; |
| [324](#L324) | } |
| [325](#L325) |  |
| [326](#L326) | $img = false; |
| [327](#L327) | if ( ( $opt['attachment\_image\_x'] ?? false ) && ( $opt['attachment\_image\_y'] ?? false ) ) { |
| [328](#L328) | $html = wp\_get\_attachment\_image( $attachment->ID, 'bbpc-attachment-thumb' ); |
| [329](#L329) |  |
| [330](#L330) | if ( $html != '' ) { |
| [331](#L331) | $img = true; |
| [332](#L332) |  |
| [333](#L333) | $class\_li = 'bbp-atthumb'; |
| [334](#L334) |  |
| [335](#L335) | $caption = bbpc\_bba\_o( 'image\_thumbnail\_caption' ) == 1; |
| [336](#L336) | } |
| [337](#L337) | } |
| [338](#L338) |  |
| [339](#L339) | $item = '<li id="bbpcore-attach\_' . $attachment->ID . '" class="bbpcore-attach bbpcore-attachment-' . $ext . ' ' . $class\_li . '">'; |
| [340](#L340) |  |
| [341](#L341) | if ( $html == '' ) { |
| [342](#L342) | $html = $filename; |
| [343](#L343) | $class\_li = 'bbp-atticon bbp-atticon-' . $this->icon( $ext ); |
| [344](#L344) | } |
| [345](#L345) |  |
| [346](#L346) | if ( $img ) { |
| [347](#L347) |  |
| [348](#L348) | if ( $caption ) { |
| [349](#L349) | $item .= '<div style="width: ' . bbpc\_bba\_o( 'attachment\_image\_x' ) . 'px" class="wp-caption">'; |
| [350](#L350) | } |
| [351](#L351) |  |
| [352](#L352) | $item .= '<a class="' . $class\_a . $is\_lighbox . '" href="' . $file\_url . '" title="' . $a\_title .'" '.  $\_download .'>' . $html . '</a>'; |
| [353](#L353) |  |
| [354](#L354) | if ( $caption ) { |
| [355](#L355) | $a\_title = '<a class="' . $is\_lighbox . '" href="' . $file\_url . '"' . $\_download . '>' . $a\_title . '</a>'; |
| [356](#L356) |  |
| [357](#L357) | $item .= '<p class="wp-caption-text">' . $a\_title . '<br/>' . $actions . '</p></div>'; |
| [358](#L358) | } |
| [359](#L359) | } else { |
| [360](#L360) | $item .= '<span role="presentation" class="' . $class\_li . '"></span> '; |
| [361](#L361) | $item .= '<div class="d4p-bbp-att-wrapper"><a class="' . $class\_a . $is\_lighbox . '"' . $rel\_a . $\_download . ' href="' . $file\_url . '" title="' . $a\_title . '">' . $html . '</a>' . $actions . '</div>'; |
| [362](#L362) | } |
| [363](#L363) |  |
| [364](#L364) | $item .= '</li>'; |
| [365](#L365) |  |
| [366](#L366) | if ( $img ) { |
| [367](#L367) | $thumbnails .= $item; |
| [368](#L368) | $images++; |
| [369](#L369) | } else { |
| [370](#L370) | $listing .= $item; |
| [371](#L371) | $files++; |
| [372](#L372) | } |
| [373](#L373) | } |
| [374](#L374) |  |
| [375](#L375) | $thumbnails .= '</ol>'; |
| [376](#L376) | $listing    .= '</ol>'; |
| [377](#L377) |  |
| [378](#L378) | if ( $images > 0 ) { |
| [379](#L379) | $content .= $thumbnails; |
| [380](#L380) | } |
| [381](#L381) |  |
| [382](#L382) | if ( $files > 0 ) { |
| [383](#L383) | $content .= $listing; |
| [384](#L384) | } |
| [385](#L385) | } |
| [386](#L386) |  |
| [387](#L387) | $content .= '</div>'; |
| [388](#L388) | } |
| [389](#L389) |  |
| [390](#L390) | if ( bbpc\_is\_user\_admin() || bbpc\_is\_user\_moderator() ) { |
| [391](#L391) | $errors = get\_post\_meta( $id, '\_bbp\_attachment\_upload\_error' ); |
| [392](#L392) |  |
| [393](#L393) | if ( ! empty( $errors ) ) { |
| [394](#L394) | $content .= '<div class="bbp-attachments-errors">'; |
| [395](#L395) | $content .= '<h6>' . \_\_( 'Upload Errors', 'bbp-core' ) . ':</h6>'; |
| [396](#L396) | $content .= '<ol'; |
| [397](#L397) |  |
| [398](#L398) | $class\_li = 'bbp-file-error'; |
| [399](#L399) |  |
| [400](#L400) | $content  .= ' class="with-icons"'; |
| [401](#L401) | $class\_li .= ' bbp-atticon bbp-atticon-error'; |
| [402](#L402) |  |
| [403](#L403) | $content .= '>'; |
| [404](#L404) |  |
| [405](#L405) | foreach ( $errors as $error ) { |
| [406](#L406) | $content .= '<li class="' . $class\_li . '"><span role="presentation" class="' . $class\_li . '"></span> '; |
| [407](#L407) | $content .= '<div class="d4p-bbp-att-wrapper"><strong>' . esc\_html( $error['file'] ) . '</strong>: ' . \_\_( $error['message'], 'bbp-core' ) . '</div></li>'; |
| [408](#L408) | } |
| [409](#L409) |  |
| [410](#L410) | $content .= '</ol></div>'; |
| [411](#L411) | } |
| [412](#L412) | } |
| [413](#L413) |  |
| [414](#L414) | return $content; |
| [415](#L415) | } |
| [416](#L416) |  |
| [417](#L417) | public function embed\_form() { |
| [418](#L418) | $can\_upload = apply\_filters( 'bbpc\_bbpressattchment\_allow\_upload', BBPCATTCore::instance()->is\_user\_allowed(), bbpc\_get\_forum\_id() ); |
| [419](#L419) | if ( ! $can\_upload ) { |
| [420](#L420) | return; |
| [421](#L421) | } |
| [422](#L422) |  |
| [423](#L423) | $is\_enabled = apply\_filters( 'bbpc\_bbpressattchment\_forum\_enabled', BBPCATTCore::instance()->enabled\_for\_forum(), bbpc\_get\_forum\_id() ); |
| [424](#L424) | if ( ! $is\_enabled ) { |
| [425](#L425) | return; |
| [426](#L426) | } |
| [427](#L427) |  |
| [428](#L428) | $file\_size = apply\_filters( 'bbpc\_bbpressattchment\_max\_file\_size', BBPCATTCore::instance()->get\_file\_size(), bbpc\_get\_forum\_id() ); |
| [429](#L429) |  |
| [430](#L430) | include BBPCATTACHMENTS\_PATH . 'forms/uploader.php'; |
| [431](#L431) | } |
| [432](#L432) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php?format=txt)
* [Original Format](/export/3220736/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_2c736379_20250111_141238.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3179353)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3179352 "Changeset 3179352")
* [Next Changeset](/changeset/3179354 "Changeset 3179354") →

---

# Changeset 3179353

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
10/31/2024 10:40:38 AM
([2 months](/timeline?from=2024-10-31T10%3A40%3A38Z&precision=second "See timeline at 10/31/2024 10:40:38 AM") ago)

Author:
codersajjad
Message:

v1.2.6 in trunk

Location:
[bbp-core/trunk](/browser/bbp-core/trunk?rev=3179353)
Files:

7 edited

* [bbp-core.php](/browser/bbp-core/trunk/bbp-core.php?rev=3179353 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [includes/admin/Assets.php](/browser/bbp-core/trunk/includes/admin/Assets.php?rev=3179353 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [includes/features/bbp\_voting/helpers.php](/browser/bbp-core/trunk/includes/features/bbp_voting/helpers.php?rev=3179353 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [includes/features/bbpc\_attachments/code/front.php](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php?rev=3179353 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [includes/features/bbpc\_attachments/code/meta.php](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/meta.php?rev=3179353 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [includes/features/bbpc\_attachments/code/shared.php](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/shared.php?rev=3179353 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [readme.txt](/browser/bbp-core/trunk/readme.txt?rev=3179353 "Show entry in browser")
  (modified)
  ([2 diffs](#file6 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [bbp-core/trunk/bbp-core.php](/changeset/3179353/bbp-core/trunk/bbp-core.php "Show the changeset 3179353 restricted to bbp-core/trunk/bbp-core.php")

  | [r3178681](/browser/bbp-core/trunk/bbp-core.php?rev=3178681#L7 "Show revision 3178681 of this file in browser") | [r3179353](/browser/bbp-core/trunk/bbp-core.php?rev=3179353#L7 "Show revision 3179353 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Author URI:        https://spider-themes.net/bbp-core |
  | 8 | 8 | Text Domain:       bbp-core |
  | 9 |  | Version:           1.2.~~5~~ |
  |  | 9 | Version:           1.2.6 |
  | 10 | 10 | Requires at least: 5.0 |
  | 11 | 11 | Tested up to:      6.6.1 |
  | […](/browser/bbp-core/trunk/bbp-core.php?rev=3178681#L65) | […](/browser/bbp-core/trunk/bbp-core.php?rev=3179353#L65) |  |
  | 65 | 65 | \*/ |
  | 66 | 66 | final class BBP\_Core { |
  | 67 |  | const VERSION = '1.2.~~5~~'; |
  |  | 67 | const VERSION = '1.2.6'; |
  | 68 | 68 |  |
  | 69 | 69 | /\*\* |
* ## [bbp-core/trunk/includes/admin/Assets.php](/changeset/3179353/bbp-core/trunk/includes/admin/Assets.php "Show the changeset 3179353 restricted to bbp-core/trunk/includes/admin/Assets.php")

  | [r3139863](/browser/bbp-core/trunk/includes/admin/Assets.php?rev=3139863#L58 "Show revision 3139863 of this file in browser") | [r3179353](/browser/bbp-core/trunk/includes/admin/Assets.php?rev=3179353#L58 "Show revision 3179353 of this file in browser") |  |
  | --- | --- | --- |
  | 58 | 58 |  |
  | 59 | 59 | wp\_localize\_script( 'jquery', 'bbp\_core\_local\_object', [ |
  | 60 |  | 'ajaxurl'            => ~~$ajax\_url~~, |
  |  | 60 | 'ajaxurl'            => esc\_url( $ajax\_url ), |
  | 61 | 61 | 'create\_forum\_title' => esc\_html\_\_( 'Enter Forum Title', 'bbp-core' ), |
  | 62 | 62 | 'create\_topic\_title' => esc\_html\_\_( 'Enter Topic Title', 'bbp-core' ), |
* ## [bbp-core/trunk/includes/features/bbp\_voting/helpers.php](/changeset/3179353/bbp-core/trunk/includes/features/bbp_voting/helpers.php "Show the changeset 3179353 restricted to bbp-core/trunk/includes/features/bbp_voting/helpers.php")

  | [r3139863](/browser/bbp-core/trunk/includes/features/bbp_voting/helpers.php?rev=3139863#L5 "Show revision 3139863 of this file in browser") | [r3179353](/browser/bbp-core/trunk/includes/features/bbp_voting/helpers.php?rev=3179353#L5 "Show revision 3179353 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 |  |
  | 6 | 6 | if ( ! function\_exists( 'bbp\_voting\_get\_plugin\_install\_link' ) ) { |
  | 7 |  | function bbp\_voting\_get\_plugin\_install\_link( $plugin, $action = 'install-plugin' ) { |
  | 8 |  | return wp\_nonce\_url( |
  | 9 |  | add\_query\_arg( |
  | 10 |  | [ |
  | 11 |  | 'action' => $action, |
  | 12 |  | 'plugin' => $plugin, |
  | 13 |  | ], |
  | 14 |  | admin\_url( 'update.php' ) |
  | 15 |  | ), |
  | 16 |  | $action . '\_' . $plugin |
  | 17 |  | ); |
  | 18 |  | } |
  |  | 7 | function bbp\_voting\_get\_plugin\_install\_link( $plugin, $action = 'install-plugin' ) { |
  |  | 8 | return esc\_url( |
  |  | 9 | wp\_nonce\_url( |
  |  | 10 | add\_query\_arg( |
  |  | 11 | [ |
  |  | 12 | 'action' => $action, |
  |  | 13 | 'plugin' => $plugin, |
  |  | 14 | ], |
  |  | 15 | admin\_url( 'update.php' ) |
  |  | 16 | ), |
  |  | 17 | $action . '\_' . $plugin |
  |  | 18 | ) |
  |  | 19 | ); |
  |  | 20 | } |
  | 19 | 21 | } |
  | 20 | 22 |  |
* ## [bbp-core/trunk/includes/features/bbpc\_attachments/code/front.php](/changeset/3179353/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php "Show the changeset 3179353 restricted to bbp-core/trunk/includes/features/bbpc_attachments/code/front.php")

  | [r3139863](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php?rev=3139863#L296 "Show revision 3139863 of this file in browser") | [r3179353](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php?rev=3179353#L296 "Show revision 3179353 of this file in browser") |  |
  | --- | --- | --- |
  | 296 | 296 |  |
  | 297 | 297 | if ( $allow == 'delete' || $allow == 'both' ) { |
  | 298 |  | $actions[] = '<a class="d4p-bba-action-delete" href="' . ~~add\_query\_arg( 'd4pbbaction', 'delete', $url~~ ) . '">' . \_\_( 'delete', 'bbp-core' ) . '</a>'; |
  | 299 |  | } |
  | 300 |  |  |
  |  | 298 | $actions[] = '<a class="d4p-bba-action-delete" href="' . esc\_url( add\_query\_arg( 'd4pbbaction', 'delete', $url ) ) . '">' . \_\_( 'delete', 'bbp-core' ) . '</a>'; |
  |  | 299 | } |
  |  | 300 |  |
  | 301 | 301 | if ( $allow == 'detach' || $allow == 'both' ) { |
  | 302 |  | $actions[] = '<a class="d4p-bba-action-detach" href="' . ~~add\_query\_arg( 'd4pbbaction', 'detach', $url~~ ) . '">' . \_\_( 'detach', 'bbp-core' ) . '</a>'; |
  |  | 302 | $actions[] = '<a class="d4p-bba-action-detach" href="' . esc\_url( add\_query\_arg( 'd4pbbaction', 'detach', $url ) ) . '">' . \_\_( 'detach', 'bbp-core' ) . '</a>'; |
  | 303 | 303 | } |
  | 304 | 304 |  |
* ## [bbp-core/trunk/includes/features/bbpc\_attachments/code/meta.php](/changeset/3179353/bbp-core/trunk/includes/features/bbpc_attachments/code/meta.php "Show the changeset 3179353 restricted to bbp-core/trunk/includes/features/bbpc_attachments/code/meta.php")

  | [r3139863](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/meta.php?rev=3139863#L50 "Show revision 3139863 of this file in browser") | [r3179353](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/meta.php?rev=3179353#L50 "Show revision 3179353 of this file in browser") |  |
  | --- | --- | --- |
  | 50 | 50 |  |
  | 51 | 51 | update\_option( 'bbp-core', BBPCATTCore::instance()->o ); |
  | 52 |  | wp\_redirect( ~~add\_query\_arg( 'settings-updated', 'true'~~ ) ); |
  |  | 52 | wp\_redirect( esc\_url\_raw( add\_query\_arg( 'settings-updated', 'true' ) ) ); |
  | 53 | 53 | exit(); |
  | 54 | 54 | } |
  | […](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/meta.php?rev=3139863#L66) | […](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/meta.php?rev=3179353#L66) |  |
  | 66 | 66 |  |
  | 67 | 67 | update\_option( 'bbp-core', BBPCATTCore::instance()->o ); |
  | 68 |  | wp\_redirect( ~~add\_query\_arg( 'settings-updated', 'true'~~ ) ); |
  |  | 68 | wp\_redirect( esc\_url\_raw( add\_query\_arg( 'settings-updated', 'true' ) ) ); |
  | 69 | 69 | exit(); |
  | 70 | 70 | } |
* ## [bbp-core/trunk/includes/features/bbpc\_attachments/code/shared.php](/changeset/3179353/bbp-core/trunk/includes/features/bbpc_attachments/code/shared.php "Show the changeset 3179353 restricted to bbp-core/trunk/includes/features/bbpc_attachments/code/shared.php")

  | [r3139863](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/shared.php?rev=3139863#L123 "Show revision 3139863 of this file in browser") | [r3179353](/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/shared.php?rev=3179353#L123 "Show revision 3179353 of this file in browser") |  |
  | --- | --- | --- |
  | 123 | 123 | } |
  | 124 | 124 |  |
  | 125 |  | return ~~$url~~; |
  |  | 125 | return esc\_url( $url ); |
  | 126 | 126 | } |
  | 127 | 127 | } |
* ## [bbp-core/trunk/readme.txt](/changeset/3179353/bbp-core/trunk/readme.txt "Show the changeset 3179353 restricted to bbp-core/trunk/readme.txt")

  | [r3178681](/browser/bbp-core/trunk/readme.txt?rev=3178681#L5 "Show revision 3178681 of this file in browser") | [r3179353](/browser/bbp-core/trunk/readme.txt?rev=3179353#L5 "Show revision 3179353 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Tested up to: 6.6.1 |
  | 6 | 6 | Requires PHP: 7.4 |
  | 7 |  | Stable tag: 1.2.~~5~~ |
  |  | 7 | Stable tag: 1.2.6 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/bbp-core/trunk/readme.txt?rev=3178681#L104) | […](/browser/bbp-core/trunk/readme.txt?rev=3179353#L104) |  |
  | 104 | 104 | == Changelog == |
  | 105 | 105 |  |
  |  | 106 | = v1.2.6 (31 October 2024) = |
  |  | 107 | Fixed: Security issues resolved |
  |  | 108 |  |
  | 106 | 109 | = v1.2.5 (30 October 2024) = |
  | 107 | 110 | New: Added a hook to insert option in Settings |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3179353)
* [Zip Archive](?format=zip&new=3179353)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_c8083bab_20250111_141239.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# BBP Core – Expand bbPress powered forums with useful features <= 1.2.5 - Reflected Cross-Site Scripting via add\_query\_arg Parameter

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   BBP Core – Expand bbPress powered forums with useful features <= 1.2.5 - Reflected Cross-Site Scripting via add\_query\_arg Parameter

6.1

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-9896](https://www.cve.org/CVERecord?id=CVE-2024-9896) |
| --- | --- |
| CVSS | 6.1 (Medium) |
| Publicly Published | November 1, 2024 |
| Last Updated | November 2, 2024 |
| Researcher | [Colin Xu](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/colin-xu) |

### Description

The BBP Core – Expand bbPress powered forums with useful features plugin for WordPress is vulnerable to Reflected Cross-Site Scripting due to the use of add\_query\_arg without appropriate escaping on the URL in all versions up to, and including, 1.2.5. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that execute if they can successfully trick a user into performing an action such as clicking on a link.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/bbp-core/trunk/includes/features/bbpc_attachments/code/front.php#L284)
* [wordpress.org](https://wordpress.org/plugins/bbp-core/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3179353/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fbbp-core%2Fbbp-core-expand-bbpress-powered-forums-with-useful-features-125-reflected-cross-site-scripting-via-add-query-arg-parameter&t=BBP%20Core%20%E2%80%93%20Expand%20bbPress%20powered%20forums%20with%20useful%20features%20%3C%3D%201.2.5%20-%20Reflected%20Cross-Site%20Scripting%20via%20add_query_arg%20Parameter "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fbbp-core%2Fbbp-core-expand-bbpress-powered-forums-with-useful-features-125-reflected-cross-site-scripting-via-add-query-arg-parameter&text=BBP%20Core%20%E2%80%93%20Expand%20bbPress%20powered%20forums%20with%20useful%20features%20%3C%3D%201.2.5%20-%20Reflected%20Cross-Site%20Scripting%20via%20add_query_arg%20Parameter "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fbbp-core%2Fbbp-core-expand-bbpress-powered-forums-with-useful-features-125-reflected-cross-site-scripting-via-add-query-arg-parameter "LinkedIn")
Email

## Vulnerability Details for BBP Core – Expand bbPress powered forums with useful features

#### [BBP Core – Expand bbPress powered forums with useful features](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/bbp-core)

| Software Type | Plugin |
| --- | --- |
| Software Slug | bbp-core [(view on wordpress.org)](https://wordpress.org/plugins/bbp-core) |
| Patched? | Yes |
| Remediation | Update to version 1.2.6, or a newer patched version |
| Affected Version | * <= 1.2.5 |
| Patched Version | * 1.2.6 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation


