=== Content from git.kernel.org_caade0cb_20250111_203533.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Edward Adam Davis <eadavis@qq.com> | 2024-09-08 17:17:41 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:20:26 +0100 |
| commit | [fa652318887da530f2f9dbd9b0ea4a087d05ee12](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12)) | |
| tree | [69d39e0e24aa5cedfd849944b19835f388a32a82](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12) | |
| parent | [a6eb2a486c60ea1e288505ae50d20c6d3946d667](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a6eb2a486c60ea1e288505ae50d20c6d3946d667) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12&id2=a6eb2a486c60ea1e288505ae50d20c6d3946d667)) | |
| download | [linux-fa652318887da530f2f9dbd9b0ea4a087d05ee12.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-fa652318887da530f2f9dbd9b0ea4a087d05ee12.tar.gz) | |

USB: usbtmc: prevent kernel-usb-infoleakcommit 625fa77151f00c1bd00d34d60d6f2e710b3f9aad upstream.
The syzbot reported a kernel-usb-infoleak in usbtmc\_write,
we need to clear the structure before filling fields.
Fixes: 4ddc645f40e9 ("usb: usbtmc: Add ioctl for vendor specific write")
Reported-and-tested-by: syzbot+9d34f80f841e948c3fdb@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=9d34f80f841e948c3fdb
Signed-off-by: Edward Adam Davis <eadavis@qq.com>
Cc: stable <stable@kernel.org>
Link: [https://lore.kernel.org/r/tencent\_9649AA6EC56EDECCA8A7D106C792D1C66B06@qq.com](https://lore.kernel.org/r/tencent_9649AA6EC56EDECCA8A7D106C792D1C66B06%40qq.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12)

| -rw-r--r-- | [drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/usb/class/usbtmc.c?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/usb/class/usbtmc.c b/drivers/usb/class/usbtmc.cindex fdfa2da24287a4..00345a51f18de1 100644--- a/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=a6eb2a486c60ea1e288505ae50d20c6d3946d667)+++ b/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=fa652318887da530f2f9dbd9b0ea4a087d05ee12)@@ -724,7 +724,7 @@ static struct urb \*usbtmc\_create\_urb(void) if (!urb) return NULL; - dmabuf = kmalloc(bufsize, GFP\_KERNEL);+ dmabuf = kzalloc(bufsize, GFP\_KERNEL); if (!dmabuf) { usb\_free\_urb(urb); return NULL; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 20:34:11 +0000



=== Content from git.kernel.org_a1b466f6_20250111_203532.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ba6269e187aa1b1f20faf3c458831a0d6350304b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ba6269e187aa1b1f20faf3c458831a0d6350304b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ba6269e187aa1b1f20faf3c458831a0d6350304b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ba6269e187aa1b1f20faf3c458831a0d6350304b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Edward Adam Davis <eadavis@qq.com> | 2024-09-08 17:17:41 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-30 16:23:56 +0200 |
| commit | [ba6269e187aa1b1f20faf3c458831a0d6350304b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ba6269e187aa1b1f20faf3c458831a0d6350304b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ba6269e187aa1b1f20faf3c458831a0d6350304b)) | |
| tree | [122cd774a827f19ed058dbb2010eba798ce22e5a](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ba6269e187aa1b1f20faf3c458831a0d6350304b) | |
| parent | [c74796ff4fbc501b305600a4430b8f7a55edee40](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c74796ff4fbc501b305600a4430b8f7a55edee40) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ba6269e187aa1b1f20faf3c458831a0d6350304b&id2=c74796ff4fbc501b305600a4430b8f7a55edee40)) | |
| download | [linux-ba6269e187aa1b1f20faf3c458831a0d6350304b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ba6269e187aa1b1f20faf3c458831a0d6350304b.tar.gz) | |

USB: usbtmc: prevent kernel-usb-infoleakcommit 625fa77151f00c1bd00d34d60d6f2e710b3f9aad upstream.
The syzbot reported a kernel-usb-infoleak in usbtmc\_write,
we need to clear the structure before filling fields.
Fixes: 4ddc645f40e9 ("usb: usbtmc: Add ioctl for vendor specific write")
Reported-and-tested-by: syzbot+9d34f80f841e948c3fdb@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=9d34f80f841e948c3fdb
Signed-off-by: Edward Adam Davis <eadavis@qq.com>
Cc: stable <stable@kernel.org>
Link: [https://lore.kernel.org/r/tencent\_9649AA6EC56EDECCA8A7D106C792D1C66B06@qq.com](https://lore.kernel.org/r/tencent_9649AA6EC56EDECCA8A7D106C792D1C66B06%40qq.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ba6269e187aa1b1f20faf3c458831a0d6350304b)

| -rw-r--r-- | [drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/usb/class/usbtmc.c?id=ba6269e187aa1b1f20faf3c458831a0d6350304b) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/usb/class/usbtmc.c b/drivers/usb/class/usbtmc.cindex 311007b1d90465..c2e666e82857c1 100644--- a/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=c74796ff4fbc501b305600a4430b8f7a55edee40)+++ b/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=ba6269e187aa1b1f20faf3c458831a0d6350304b)@@ -754,7 +754,7 @@ static struct urb \*usbtmc\_create\_urb(void) if (!urb) return NULL; - dmabuf = kmalloc(bufsize, GFP\_KERNEL);+ dmabuf = kzalloc(bufsize, GFP\_KERNEL); if (!dmabuf) { usb\_free\_urb(urb); return NULL; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 20:34:10 +0000



=== Content from git.kernel.org_4c5d9e36_20250111_203531.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Edward Adam Davis <eadavis@qq.com> | 2024-09-08 17:17:41 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:07:38 +0200 |
| commit | [16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca)) | |
| tree | [1012a74a6a2676667332f34c66706f4cca00bcca](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca) | |
| parent | [50cff34deed4fbd6f1352bc86412314514dafb69](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=50cff34deed4fbd6f1352bc86412314514dafb69) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca&id2=50cff34deed4fbd6f1352bc86412314514dafb69)) | |
| download | [linux-16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca.tar.gz) | |

USB: usbtmc: prevent kernel-usb-infoleakcommit 625fa77151f00c1bd00d34d60d6f2e710b3f9aad upstream.
The syzbot reported a kernel-usb-infoleak in usbtmc\_write,
we need to clear the structure before filling fields.
Fixes: 4ddc645f40e9 ("usb: usbtmc: Add ioctl for vendor specific write")
Reported-and-tested-by: syzbot+9d34f80f841e948c3fdb@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=9d34f80f841e948c3fdb
Signed-off-by: Edward Adam Davis <eadavis@qq.com>
Cc: stable <stable@kernel.org>
Link: [https://lore.kernel.org/r/tencent\_9649AA6EC56EDECCA8A7D106C792D1C66B06@qq.com](https://lore.kernel.org/r/tencent_9649AA6EC56EDECCA8A7D106C792D1C66B06%40qq.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca)

| -rw-r--r-- | [drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/usb/class/usbtmc.c?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/usb/class/usbtmc.c b/drivers/usb/class/usbtmc.cindex 76ff182427bc62..78adc112a77bbb 100644--- a/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=50cff34deed4fbd6f1352bc86412314514dafb69)+++ b/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=16e0ab9ed3ae7d19ca8ee718ba4e09d5c0f909ca)@@ -724,7 +724,7 @@ static struct urb \*usbtmc\_create\_urb(void) if (!urb) return NULL; - dmabuf = kmalloc(bufsize, GFP\_KERNEL);+ dmabuf = kzalloc(bufsize, GFP\_KERNEL); if (!dmabuf) { usb\_free\_urb(urb); return NULL; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 20:34:08 +0000



=== Content from git.kernel.org_d747e34d_20250111_203533.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Edward Adam Davis <eadavis@qq.com> | 2024-09-08 17:17:41 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-30 16:29:34 +0200 |
| commit | [e872738e670ddd63e19f22d0d784f0bdf26ecba5](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5)) | |
| tree | [6f7388d0812aec681523dec710d67f36685c5dcf](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5) | |
| parent | [3f24124ed89fe7b051b8b3ad749a9ebc76c7e296](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3f24124ed89fe7b051b8b3ad749a9ebc76c7e296) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5&id2=3f24124ed89fe7b051b8b3ad749a9ebc76c7e296)) | |
| download | [linux-e872738e670ddd63e19f22d0d784f0bdf26ecba5.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-e872738e670ddd63e19f22d0d784f0bdf26ecba5.tar.gz) | |

USB: usbtmc: prevent kernel-usb-infoleakcommit 625fa77151f00c1bd00d34d60d6f2e710b3f9aad upstream.
The syzbot reported a kernel-usb-infoleak in usbtmc\_write,
we need to clear the structure before filling fields.
Fixes: 4ddc645f40e9 ("usb: usbtmc: Add ioctl for vendor specific write")
Reported-and-tested-by: syzbot+9d34f80f841e948c3fdb@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=9d34f80f841e948c3fdb
Signed-off-by: Edward Adam Davis <eadavis@qq.com>
Cc: stable <stable@kernel.org>
Link: [https://lore.kernel.org/r/tencent\_9649AA6EC56EDECCA8A7D106C792D1C66B06@qq.com](https://lore.kernel.org/r/tencent_9649AA6EC56EDECCA8A7D106C792D1C66B06%40qq.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5)

| -rw-r--r-- | [drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/usb/class/usbtmc.c?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/usb/class/usbtmc.c b/drivers/usb/class/usbtmc.cindex 311007b1d90465..c2e666e82857c1 100644--- a/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=3f24124ed89fe7b051b8b3ad749a9ebc76c7e296)+++ b/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=e872738e670ddd63e19f22d0d784f0bdf26ecba5)@@ -754,7 +754,7 @@ static struct urb \*usbtmc\_create\_urb(void) if (!urb) return NULL; - dmabuf = kmalloc(bufsize, GFP\_KERNEL);+ dmabuf = kzalloc(bufsize, GFP\_KERNEL); if (!dmabuf) { usb\_free\_urb(urb); return NULL; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 20:34:10 +0000



=== Content from git.kernel.org_caadf7cd_20250111_203531.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=51297ef7ad7824ad577337f273cd092e81a9fa08)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=51297ef7ad7824ad577337f273cd092e81a9fa08)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=51297ef7ad7824ad577337f273cd092e81a9fa08)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=51297ef7ad7824ad577337f273cd092e81a9fa08)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Edward Adam Davis <eadavis@qq.com> | 2024-09-08 17:17:41 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-30 16:25:15 +0200 |
| commit | [51297ef7ad7824ad577337f273cd092e81a9fa08](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=51297ef7ad7824ad577337f273cd092e81a9fa08) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=51297ef7ad7824ad577337f273cd092e81a9fa08)) | |
| tree | [792a98f47d7f8cd6f753d109b48403ecaed7d476](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=51297ef7ad7824ad577337f273cd092e81a9fa08) | |
| parent | [39d69238899a546afbcbba43f802a1e5786e211e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=39d69238899a546afbcbba43f802a1e5786e211e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=51297ef7ad7824ad577337f273cd092e81a9fa08&id2=39d69238899a546afbcbba43f802a1e5786e211e)) | |
| download | [linux-51297ef7ad7824ad577337f273cd092e81a9fa08.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-51297ef7ad7824ad577337f273cd092e81a9fa08.tar.gz) | |

USB: usbtmc: prevent kernel-usb-infoleakcommit 625fa77151f00c1bd00d34d60d6f2e710b3f9aad upstream.
The syzbot reported a kernel-usb-infoleak in usbtmc\_write,
we need to clear the structure before filling fields.
Fixes: 4ddc645f40e9 ("usb: usbtmc: Add ioctl for vendor specific write")
Reported-and-tested-by: syzbot+9d34f80f841e948c3fdb@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=9d34f80f841e948c3fdb
Signed-off-by: Edward Adam Davis <eadavis@qq.com>
Cc: stable <stable@kernel.org>
Link: [https://lore.kernel.org/r/tencent\_9649AA6EC56EDECCA8A7D106C792D1C66B06@qq.com](https://lore.kernel.org/r/tencent_9649AA6EC56EDECCA8A7D106C792D1C66B06%40qq.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=51297ef7ad7824ad577337f273cd092e81a9fa08)

| -rw-r--r-- | [drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/usb/class/usbtmc.c?id=51297ef7ad7824ad577337f273cd092e81a9fa08) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/usb/class/usbtmc.c b/drivers/usb/class/usbtmc.cindex 311007b1d90465..c2e666e82857c1 100644--- a/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=39d69238899a546afbcbba43f802a1e5786e211e)+++ b/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=51297ef7ad7824ad577337f273cd092e81a9fa08)@@ -754,7 +754,7 @@ static struct urb \*usbtmc\_create\_urb(void) if (!urb) return NULL; - dmabuf = kmalloc(bufsize, GFP\_KERNEL);+ dmabuf = kzalloc(bufsize, GFP\_KERNEL); if (!dmabuf) { usb\_free\_urb(urb); return NULL; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 20:34:08 +0000



=== Content from git.kernel.org_1a0308c1_20250111_203530.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Edward Adam Davis <eadavis@qq.com> | 2024-09-08 17:17:41 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:10:42 +0200 |
| commit | [0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7)) | |
| tree | [0c0d7e7b821ba5d0ee65203cc28aacb981f88661](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7) | |
| parent | [86b4954483fc47e12054b66de9aeaf68b55aa85e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=86b4954483fc47e12054b66de9aeaf68b55aa85e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7&id2=86b4954483fc47e12054b66de9aeaf68b55aa85e)) | |
| download | [linux-0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7.tar.gz) | |

USB: usbtmc: prevent kernel-usb-infoleakcommit 625fa77151f00c1bd00d34d60d6f2e710b3f9aad upstream.
The syzbot reported a kernel-usb-infoleak in usbtmc\_write,
we need to clear the structure before filling fields.
Fixes: 4ddc645f40e9 ("usb: usbtmc: Add ioctl for vendor specific write")
Reported-and-tested-by: syzbot+9d34f80f841e948c3fdb@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=9d34f80f841e948c3fdb
Signed-off-by: Edward Adam Davis <eadavis@qq.com>
Cc: stable <stable@kernel.org>
Link: [https://lore.kernel.org/r/tencent\_9649AA6EC56EDECCA8A7D106C792D1C66B06@qq.com](https://lore.kernel.org/r/tencent_9649AA6EC56EDECCA8A7D106C792D1C66B06%40qq.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7)

| -rw-r--r-- | [drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/usb/class/usbtmc.c?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/usb/class/usbtmc.c b/drivers/usb/class/usbtmc.cindex 311007b1d90465..c2e666e82857c1 100644--- a/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=86b4954483fc47e12054b66de9aeaf68b55aa85e)+++ b/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=0c927dfc0b9bd177f7ab6ee59ef0c4ea06c110a7)@@ -754,7 +754,7 @@ static struct urb \*usbtmc\_create\_urb(void) if (!urb) return NULL; - dmabuf = kmalloc(bufsize, GFP\_KERNEL);+ dmabuf = kzalloc(bufsize, GFP\_KERNEL); if (!dmabuf) { usb\_free\_urb(urb); return NULL; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 20:34:07 +0000



=== Content from git.kernel.org_5233036a_20250111_203531.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Edward Adam Davis <eadavis@qq.com> | 2024-09-08 17:17:41 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-11 15:34:17 +0200 |
| commit | [625fa77151f00c1bd00d34d60d6f2e710b3f9aad](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad)) | |
| tree | [e3a748cbb04ba19a4c79725f6bcf99a3bb07567c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad) | |
| parent | [0088d7581b12c6b310fb57a25b7c07622655c23d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0088d7581b12c6b310fb57a25b7c07622655c23d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad&id2=0088d7581b12c6b310fb57a25b7c07622655c23d)) | |
| download | [linux-625fa77151f00c1bd00d34d60d6f2e710b3f9aad.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-625fa77151f00c1bd00d34d60d6f2e710b3f9aad.tar.gz) | |

USB: usbtmc: prevent kernel-usb-infoleakThe syzbot reported a kernel-usb-infoleak in usbtmc\_write,
we need to clear the structure before filling fields.
Fixes: 4ddc645f40e9 ("usb: usbtmc: Add ioctl for vendor specific write")
Reported-and-tested-by: syzbot+9d34f80f841e948c3fdb@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=9d34f80f841e948c3fdb
Signed-off-by: Edward Adam Davis <eadavis@qq.com>
Cc: stable <stable@kernel.org>
Link: [https://lore.kernel.org/r/tencent\_9649AA6EC56EDECCA8A7D106C792D1C66B06@qq.com](https://lore.kernel.org/r/tencent_9649AA6EC56EDECCA8A7D106C792D1C66B06%40qq.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad)

| -rw-r--r-- | [drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/usb/class/usbtmc.c?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/usb/class/usbtmc.c b/drivers/usb/class/usbtmc.cindex 6bd9fe56538589..34e46ef308abfd 100644--- a/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=0088d7581b12c6b310fb57a25b7c07622655c23d)+++ b/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=625fa77151f00c1bd00d34d60d6f2e710b3f9aad)@@ -754,7 +754,7 @@ static struct urb \*usbtmc\_create\_urb(void) if (!urb) return NULL; - dmabuf = kmalloc(bufsize, GFP\_KERNEL);+ dmabuf = kzalloc(bufsize, GFP\_KERNEL); if (!dmabuf) { usb\_free\_urb(urb); return NULL; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 20:34:09 +0000



=== Content from git.kernel.org_eb256a80_20250111_203532.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6c7fc36da021b13c34c572a26ba336cd102418f8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6c7fc36da021b13c34c572a26ba336cd102418f8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6c7fc36da021b13c34c572a26ba336cd102418f8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6c7fc36da021b13c34c572a26ba336cd102418f8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Edward Adam Davis <eadavis@qq.com> | 2024-09-08 17:17:41 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-09-30 16:31:09 +0200 |
| commit | [6c7fc36da021b13c34c572a26ba336cd102418f8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6c7fc36da021b13c34c572a26ba336cd102418f8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6c7fc36da021b13c34c572a26ba336cd102418f8)) | |
| tree | [27fdfb7893746c50234414d1a16f3431b67b637d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6c7fc36da021b13c34c572a26ba336cd102418f8) | |
| parent | [70b6f471b5c7f6a39f85d3ee1890534b4f182e8b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=70b6f471b5c7f6a39f85d3ee1890534b4f182e8b) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6c7fc36da021b13c34c572a26ba336cd102418f8&id2=70b6f471b5c7f6a39f85d3ee1890534b4f182e8b)) | |
| download | [linux-6c7fc36da021b13c34c572a26ba336cd102418f8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6c7fc36da021b13c34c572a26ba336cd102418f8.tar.gz) | |

USB: usbtmc: prevent kernel-usb-infoleakcommit 625fa77151f00c1bd00d34d60d6f2e710b3f9aad upstream.
The syzbot reported a kernel-usb-infoleak in usbtmc\_write,
we need to clear the structure before filling fields.
Fixes: 4ddc645f40e9 ("usb: usbtmc: Add ioctl for vendor specific write")
Reported-and-tested-by: syzbot+9d34f80f841e948c3fdb@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=9d34f80f841e948c3fdb
Signed-off-by: Edward Adam Davis <eadavis@qq.com>
Cc: stable <stable@kernel.org>
Link: [https://lore.kernel.org/r/tencent\_9649AA6EC56EDECCA8A7D106C792D1C66B06@qq.com](https://lore.kernel.org/r/tencent_9649AA6EC56EDECCA8A7D106C792D1C66B06%40qq.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6c7fc36da021b13c34c572a26ba336cd102418f8)

| -rw-r--r-- | [drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/usb/class/usbtmc.c?id=6c7fc36da021b13c34c572a26ba336cd102418f8) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/usb/class/usbtmc.c b/drivers/usb/class/usbtmc.cindex 6bd9fe56538589..34e46ef308abfd 100644--- a/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=70b6f471b5c7f6a39f85d3ee1890534b4f182e8b)+++ b/[drivers/usb/class/usbtmc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/usb/class/usbtmc.c?id=6c7fc36da021b13c34c572a26ba336cd102418f8)@@ -754,7 +754,7 @@ static struct urb \*usbtmc\_create\_urb(void) if (!urb) return NULL; - dmabuf = kmalloc(bufsize, GFP\_KERNEL);+ dmabuf = kzalloc(bufsize, GFP\_KERNEL); if (!dmabuf) { usb\_free\_urb(urb); return NULL; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 20:34:09 +0000


