

[Pastebin](/)
[API](/doc_api)
[tools](/tools)
[faq](/faq)

[paste](/)

[Login](/login)
[Sign up](/signup)

Advertisement

SHARE
TWEET

![Guest User](/themes/pastebin/img/guest.png)
# example

a guest
Nov 1st, 2023

1,499
0
Never
[Add comment](/login?return_url=%2F8K5Brwbq%23add_comment)

**Not a member of Pastebin yet?**
[**Sign Up**](/signup),
it unlocks many cool features!

[Python](/archive/python) 1.48 KB
| Source Code
|
[0](/login?return_url=%2F8K5Brwbq "Like") [0](/login?return_url=%2F8K5Brwbq "Dislike")
[raw](/raw/8K5Brwbq)
[download](/dl/8K5Brwbq)
[clone](/clone/8K5Brwbq)
[embed](/embed/8K5Brwbq)
[print](/print/8K5Brwbq)
[report](/report/8K5Brwbq)

1. from http.server import BaseHTTPRequestHandler, HTTPServer
2. from io import BytesIO
3. from PIL import Image
4. import socketserver
6. class RequestHandler(BaseHTTPRequestHandler):
7. get\_request\_count = 0
9. def do\_HEAD(self):
10. self.send\_response(200)
11. self.end\_headers()
13. def do\_GET(self):
14. RequestHandler.get\_request\_count += 1
16. if RequestHandler.get\_request\_count == 1:
17. # Send a fake image on the first GET request
18. self.send\_fake\_image()
19. elif RequestHandler.get\_request\_count >= 2:
20. # Redirect to localhost:8888 on the second GET request
21. self.send\_redirect()
23. def send\_fake\_image(self):
24. # Create a simple 1x1 pixel red image
25. with BytesIO() as img\_io:
26. img = Image.new('RGB', (1, 1), (255, 0, 0))
27. img.save(img\_io, 'PNG')
28. img\_io.seek(0)
29. self.send\_response(200)
30. self.send\_header('Content-type', 'image/png')
31. self.end\_headers()
32. self.wfile.write(img\_io.read())
34. def send\_redirect(self):
35. self.send\_response(301)
36. self.send\_header('Location', 'http://localhost:8888')
37. self.end\_headers()
40. def run(server\_class=HTTPServer, handler\_class=RequestHandler, port=8000):
41. server\_address = ('', port)
42. httpd = server\_class(server\_address, handler\_class)
43. print(f"Starting httpd on port {port}...")
44. httpd.serve\_forever()
47. if \_\_name\_\_ == "\_\_main\_\_":
48. run()

Advertisement

Add Comment
Please, [**Sign In**](/login?return_url=%2F8K5Brwbq%23add_comment) to add comment

Advertisement

[Public Pastes](/archive)

* [⭐ get any gift card for FREE](/4ugeHhpC)
  JavaScript |
  1 sec ago
  | 0.05 KB
* [⭐️ EARN $500 INSTANTLY⭐ VM](/RdLjuZaj)
  JavaScript |
  1 sec ago
  | 0.25 KB
* [Chaturbate Accounts with Tokens](/7aSGphRE)
  JavaScript |
  2 sec ago
  | 0.09 KB
* [NETFLIX UHD ACCOUNTS](/jfHSMsHC)
  JavaScript |
  2 sec ago
  | 0.09 KB
* [NETFLIX UHD ACCOUNTS](/dThZsA36)
  JavaScript |
  4 sec ago
  | 0.09 KB
* [Binance Accounts Leaked](/Y8RyrXmT)
  JavaScript |
  7 sec ago
  | 0.09 KB
* [⭐ Binance Account hack C4](/SfBj1w2P)
  JavaScript |
  9 sec ago
  | 0.25 KB
* [Leaked by Zak](/Xsf9cP5A)
  JavaScript |
  9 sec ago
  | 0.09 KB

Advertisement

[create new paste](/)  /
[syntax languages](/languages)  /
[archive](/archive)  /
[faq](/faq)  /
[tools](/tools)  /
[night mode](/night_mode)  /
[api](/doc_api)  /
[scraping api](/doc_scraping_api)  /
[news](/news)  /
[pro](/pro)

[privacy statement](/doc_privacy_statement)  /
[cookies policy](/doc_cookies_policy)  /
[terms of service](/doc_terms_of_service) /
[security disclosure](/doc_security_disclosure)  /
[dmca](/dmca)  /
[report abuse](/report-abuse)  /
[contact](/contact)

By using Pastebin.com you agree to our [cookies policy](/doc_cookies_policy) to enhance your experience.

Site design & logo © 2025 Pastebin

We use cookies for various purposes including analytics. By continuing to use Pastebin, you agree to our use of cookies as described in the [Cookies Policy](/doc_cookies_policy).  OK, I Understand

[![](/themes/pastebin/img/hello.webp)](/signup)

Not a member of Pastebin yet?

