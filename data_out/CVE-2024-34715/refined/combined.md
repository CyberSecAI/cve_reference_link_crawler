=== Content from github.com_11bfc72d_20250111_071401.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsqlalchemy%2Fsqlalchemy%2Fdiscussions%2F6615)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsqlalchemy%2Fsqlalchemy%2Fdiscussions%2F6615)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fdiscussions_fragments%2Fdiscussion_layout&source=header-repo&source_repo=sqlalchemy%2Fsqlalchemy)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[sqlalchemy](/sqlalchemy)
/
**[sqlalchemy](/sqlalchemy/sqlalchemy)**
Public

* [Notifications](/login?return_to=%2Fsqlalchemy%2Fsqlalchemy) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fsqlalchemy%2Fsqlalchemy)
* [Star
   9.9k](/login?return_to=%2Fsqlalchemy%2Fsqlalchemy)

* [Code](/sqlalchemy/sqlalchemy)
* [Issues
  222](/sqlalchemy/sqlalchemy/issues)
* [Pull requests
  15](/sqlalchemy/sqlalchemy/pulls)
* [Discussions](/sqlalchemy/sqlalchemy/discussions)
* [Actions](/sqlalchemy/sqlalchemy/actions)
* [Projects
  0](/sqlalchemy/sqlalchemy/projects)
* [Wiki](/sqlalchemy/sqlalchemy/wiki)
* [Security](/sqlalchemy/sqlalchemy/security)
* [Insights](/sqlalchemy/sqlalchemy/pulse)

Additional navigation options

* [Code](/sqlalchemy/sqlalchemy)
* [Issues](/sqlalchemy/sqlalchemy/issues)
* [Pull requests](/sqlalchemy/sqlalchemy/pulls)
* [Discussions](/sqlalchemy/sqlalchemy/discussions)
* [Actions](/sqlalchemy/sqlalchemy/actions)
* [Projects](/sqlalchemy/sqlalchemy/projects)
* [Wiki](/sqlalchemy/sqlalchemy/wiki)
* [Security](/sqlalchemy/sqlalchemy/security)
* [Insights](/sqlalchemy/sqlalchemy/pulse)

# postgres connection failing when password has a $ in it #6615

[Answered](#discussioncomment-853899)
by
[zzzeek](/zzzeek "zzzeek")

[benpreisler](/benpreisler)
asked this question in
[Usage Questions](/sqlalchemy/sqlalchemy/discussions/categories/usage-questions)

[postgres connection failing when password has a $ in it](#top)
#6615

[![@benpreisler](https://avatars.githubusercontent.com/u/17465718?s=40&v=4)
benpreisler](/benpreisler)

Jun 10, 2021
¬∑
1 comments
¬∑
9 replies

[Answered](#discussioncomment-853899)
by
[zzzeek](/zzzeek "zzzeek")

 [Return to top](#top)

Discussion options

# {{title}}

Something went wrong.

Quote reply

edited

# {{editor}}'s edit

 {{actor}} deleted this content
.

# {{editor}}'s edit

Something went wrong.

## [benpreisler](/benpreisler) [Jun 10, 2021](#discussion-3406430)

 -

| This is baffling me so I thought I'd throw it out and see if anyone else has run into this or can recreate it.  I've had a db password with a $ in it for months and yesterday I updated from sqlalchemy 1.4.14 to 1.4.17 and started getting exceptions on the connection string. Given a password of my$pwd I get the following out on the server:  ```   File "/opt/python/lib/python3.8/site-packages/psycopg2/__init__.py", line 127, in connect     conn = _connect(dsn, connection_factory=connection_factory, **kwasync) sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name "$pwd@dbname" to address: Name or service not known  ```  which looks like a parsing problem.  And trying it locally against a postgres instance in a docker container I get a different but similar error:  ```         dsn = _ext.make_dsn(dsn, **kwargs) >       conn = _connect(dsn, connection_factory=connection_factory, **kwasync) E       sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) FATAL:  password authentication failed for user "postgres"  ```  locally I'm using: sqlalchemy==1.4.14 psycopg2-binary==2.8.6 postgres=12.7 (but 12.5 and 12.6 have the same issue)  Tracing it down sqlalchemy seems to be parsing the password just fine and it only fails once it hits: `connection = pool._invoke_creator(self)` here: <https://github.com/sqlalchemy/sqlalchemy/blob/master/lib/sqlalchemy/pool/base.py#L605>  So it seems like its failing in the driver... (but I haven't changed that recently)  locally my connection string looks like this: postgresql://postgres:my$pwd@127.0.0.1:5001/my\_db  Is anyone else able to reproduce this? |
| --- |

Beta
Was this translation helpful?
Give feedback.

2
 You must be logged in to vote

All reactions

Answered by
[zzzeek](/zzzeek)

[Jun 10, 2021](https://github.com/sqlalchemy/sqlalchemy/discussions/6615#discussioncomment-853899)

make sure you use URL escaping for passwords:

<https://docs.sqlalchemy.org/en/14/core/engines.html#database-urls>

some issues in URL parsing were fixed a few 1.4 versions ago which unfortunately caused some unavoidable regressions in some passwords.

[View full answer](#discussioncomment-853899)

## Replies: 1 comment ¬∑ 9 replies

* [Oldest](/sqlalchemy/sqlalchemy/discussions/6615?sort=old)
* [Newest](/sqlalchemy/sqlalchemy/discussions/6615?sort=new)
* [Top](/sqlalchemy/sqlalchemy/discussions/6615?sort=top)

Comment options

# {{title}}

Something went wrong.

Quote reply

### [zzzeek](/zzzeek) [Jun 10, 2021](#discussioncomment-853899) Maintainer

 -

| make sure you use URL escaping for passwords:  <https://docs.sqlalchemy.org/en/14/core/engines.html#database-urls>  some issues in URL parsing were fixed a few 1.4 versions ago which unfortunately caused some unavoidable regressions in some passwords. |
| --- |

Beta
Was this translation helpful?
Give feedback.

Marked as answer

3
 You must be logged in to vote

All reactions

9 replies

Show 4 previous replies

[![@CaselIT](https://avatars.githubusercontent.com/u/16175304?s=60&v=4)](/CaselIT)

Comment options

# {{title}}

Something went wrong.

Quote reply

#### [CaselIT](/CaselIT) [Mar 29, 2022](#discussioncomment-2464703) Maintainer

 -

| we do indeed, but maybe we could link it also from the url / make\_url docs <https://docs.sqlalchemy.org/en/14/core/engines.html#sqlalchemy.engine.URL> |
| --- |

Beta
Was this translation helpful?
Give feedback.

All reactions

[![@zzzeek](https://avatars.githubusercontent.com/u/128223?s=60&v=4)](/zzzeek)

Comment options

# {{title}}

Something went wrong.

Quote reply

#### [zzzeek](/zzzeek) [Mar 29, 2022](#discussioncomment-2464943) Maintainer

 -

| OK |
| --- |

Beta
Was this translation helpful?
Give feedback.

All reactions

[![@CaselIT](https://avatars.githubusercontent.com/u/16175304?s=60&v=4)](/CaselIT)

Comment options

# {{title}}

Something went wrong.

Quote reply

#### [CaselIT](/CaselIT) [Mar 29, 2022](#discussioncomment-2464961) Maintainer

 -

| tried adding something here [https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/3754](https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/%2B/3754) but it may be a bit too much with all these dragons |
| --- |

Beta
Was this translation helpful?
Give feedback.

All reactions

[![@zzzeek](https://avatars.githubusercontent.com/u/128223?s=60&v=4)](/zzzeek)

Comment options

# {{title}}

Something went wrong.

Quote reply

#### [zzzeek](/zzzeek) [Mar 29, 2022](#discussioncomment-2464976) Maintainer

 -

| I would use ..seealso without any specific warning for most of those boxes. I would put "..note" only under the `:param password:` description.  Overall, this is not a long term issue. the reason we keep hearing about it is because we made a backwards incompatible change in the URL scheme so we are getting people who are upgrading. We are already getting fewer of these and eventually it will be a non-issue. |
| --- |

Beta
Was this translation helpful?
Give feedback.

 üëç
1

All reactions

* üëç
  1

[![@CaselIT](https://avatars.githubusercontent.com/u/16175304?s=60&v=4)](/CaselIT)

Comment options

# {{title}}

Something went wrong.

Quote reply

#### [CaselIT](/CaselIT) [Mar 29, 2022](#discussioncomment-2465012) Maintainer

 -

| updated the gerrit to only have see also |
| --- |

Beta
Was this translation helpful?
Give feedback.

All reactions

Answer selected by
[benpreisler](/benpreisler)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fsqlalchemy%2Fsqlalchemy%2Fdiscussions%2F6615)

Category

[üôè

Usage Questions](/sqlalchemy/sqlalchemy/discussions/categories/usage-questions)

Labels

None yet

4 participants

[![@benpreisler](https://avatars.githubusercontent.com/u/17465718?s=48&v=4)](/benpreisler) [![@zzzeek](https://avatars.githubusercontent.com/u/128223?s=48&v=4)](/zzzeek) [![@CaselIT](https://avatars.githubusercontent.com/u/16175304?s=48&v=4)](/CaselIT) [![@matletix](https://avatars.githubusercontent.com/u/19894690?s=48&v=4)](/matletix)

Heading

Bold

Italic

Quote

Code

Link

---

Numbered list

Unordered list

Task list

---

Attach files

Mention

Reference

Menu

* Heading
* Bold
* Italic
* Quote
* Code
* Link
* Numbered list
* Unordered list
* Task list
* Attach files
* Mention
* Reference

# Select a reply

 Loading

  [Create a new saved reply](/settings/replies?return_to=1)

 üëç
1
  reacted with thumbs up emoji

 üëé
1
  reacted with thumbs down emoji

 üòÑ
1
  reacted with laugh emoji

 üéâ
1
  reacted with hooray emoji

 üòï
1
  reacted with confused emoji

 ‚ù§Ô∏è
1
  reacted with heart emoji

 üöÄ
1
  reacted with rocket emoji

 üëÄ
1
  reacted with eyes emoji

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_e868c2b4_20250111_071400.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fethyca%2Ffides%2Fsecurity%2Fadvisories%2FGHSA-8cm5-jfj2-26q7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fethyca%2Ffides%2Fsecurity%2Fadvisories%2FGHSA-8cm5-jfj2-26q7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=ethyca%2Ffides)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ethyca](/ethyca)
/
**[fides](/ethyca/fides)**
Public

* [Notifications](/login?return_to=%2Fethyca%2Ffides) You must be signed in to change notification settings
* [Fork
  73](/login?return_to=%2Fethyca%2Ffides)
* [Star
   382](/login?return_to=%2Fethyca%2Ffides)

* [Code](/ethyca/fides)
* [Issues
  215](/ethyca/fides/issues)
* [Pull requests
  58](/ethyca/fides/pulls)
* [Actions](/ethyca/fides/actions)
* [Projects
  0](/ethyca/fides/projects)
* [Security](/ethyca/fides/security)
* [Insights](/ethyca/fides/pulse)

Additional navigation options

* [Code](/ethyca/fides)
* [Issues](/ethyca/fides/issues)
* [Pull requests](/ethyca/fides/pulls)
* [Actions](/ethyca/fides/actions)
* [Projects](/ethyca/fides/projects)
* [Security](/ethyca/fides/security)
* [Insights](/ethyca/fides/pulse)

# Hosted Database Password Partial Exposure Vulnerability in Fides Webserver Logs

Low

[daveqnet](/daveqnet)
published
GHSA-8cm5-jfj2-26q7
May 29, 2024

## Package

pip

ethyca-fides
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

< 2.37.0

## Patched versions

2.37.0

## Description

The Fides webserver requires a connection to a hosted PostgreSQL database for persistent storage of application data. If the password used by the webserver for this database connection includes special characters such as `@` and `$`, webserver startup fails and the part of the password following the special character is exposed in webserver error logs.

This is caused by improper escaping of the SQLAlchemy password string, see [here](https://docs.sqlalchemy.org/en/14/core/engines.html#escaping-special-characters-such-as-signs-in-passwords) and [here](https://github.com/sqlalchemy/sqlalchemy/discussions/6615) for more info.

### Impact

Partial exposure of hosted database password in webserver logs

### Patches

The vulnerability has been patched in Fides version `2.37.0`. Users are advised to upgrade to this version or later to secure their systems against this threat.

### Workarounds

There are no workarounds.

### Proof of Concept

1. Create a hosted PostgreSQL database for Fides with a password including `@` or `$` e.g. `p@ssword`
2. Run Fides and observe failure, sample log attached

```
fides  | 2024-02-28 14:27:52.609 | ERROR    | fides.api.db.database:configure_db:117 - Unable to configure database: sqlalchemy.exc.OperationalError: (psycopg2.OperationalError) could not translate host name "ssword@fides-db" to address: Name or service not known

```

### Severity

Low

2.3

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
High

User interaction
None

Scope
Unchanged

Confidentiality
Low

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:L/AC:L/PR:H/UI:N/S:U/C:L/I:N/A:N

### CVE ID

CVE-2024-34715

### Weaknesses

[CWE-116](/advisories?query=cwe%3A116) [CWE-532](/advisories?query=cwe%3A532)

### Credits

* [![@tariqajyusuf](https://avatars.githubusercontent.com/u/2623147?s=40&v=4)](/tariqajyusuf)
  [tariqajyusuf](/tariqajyusuf)
  Reporter
* [![@pattisdr](https://avatars.githubusercontent.com/u/9755598?s=40&v=4)](/pattisdr)
  [pattisdr](/pattisdr)
  Remediation developer

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from docs.sqlalchemy.org_dd46a4fd_20250111_071359.html ===

[![SQLAlchemy](//www.sqlalchemy.org/img/sqla_logo.png)](//www.sqlalchemy.org/)
![The Database Toolkit for Python](//www.sqlalchemy.org/img/dbtoolkit6.gif)

The Database Toolkit for Python

* [home](//www.sqlalchemy.org/)
* features
  + [Philosophy Statement](//www.sqlalchemy.org/philosophy.html)
  + [Feature Overview](//www.sqlalchemy.org/features.html)
  + [Testimonials](//www.sqlalchemy.org/quotes.html)
* [news](//www.sqlalchemy.org/blog/)
* documentation
  + [Current Documentation (version 2.0)](//docs.sqlalchemy.org)
  + ---
  + [Documentation by Version](//www.sqlalchemy.org/library.html#reference)
  + [Version 2.1 (development)](//docs.sqlalchemy.org/en/21/)
  + [Version 2.0](//docs.sqlalchemy.org/en/20/)
  + [Version 1.4](//docs.sqlalchemy.org/en/14/)
  + [Version 1.3](//docs.sqlalchemy.org/en/13/)
  + ---
  + [Talks and Tutorials](//www.sqlalchemy.org/library.html#talks)
  + [Published content overview](//www.sqlalchemy.org/library.html)
* community
  + [Get Support](//www.sqlalchemy.org/support.html)
  + [Participate](//www.sqlalchemy.org/participate.html)
  + [Develop](//www.sqlalchemy.org/develop.html)
  + [Code of Conduct](//www.sqlalchemy.org/codeofconduct.html)
  + [Github](https://github.com/sqlalchemy/sqlalchemy)
* download
  + [Download](//www.sqlalchemy.org/download.html)+ [Current Release Series (2.0)](//www.sqlalchemy.org/download.html#current)
    + [Maintenance Release (1.4)](//www.sqlalchemy.org/download.html#maintenance)
    + [Development Access](//www.sqlalchemy.org/download.html#development)
    + [License](//www.sqlalchemy.org/download.html#license)
    + [Version Numbering](//www.sqlalchemy.org/download.html#versions)
    + [Release Status](//www.sqlalchemy.org/download.html#relstatus)

Release: 1.4.54
legacy version
| Release Date: September 5, 2024
# [SQLAlchemy 1.4 Documentation](../index.html)

### [SQLAlchemy 1.4 Documentation](../index.html)

legacy version

[Home](../index.html)
| [Download this Documentation](//docs.sqlalchemy.org/14/sqlalchemy_14.zip)

Search terms:

### [SQLAlchemy Core](index.html "SQLAlchemy Core")

* [SQL Expression Language Tutorial (1.x API)](tutorial.html)
* [SQL Statements and Expressions API](expression_api.html)
* [Schema Definition Language](schema.html)
* [SQL Datatype Objects](types.html)
* [Engine and Connection Use](engines_connections.html)
  + **Engine Configuration**¬∂
    - [Supported Databases](#supported-databases)
    - [Database URLs](#database-urls)
      * [Escaping Special Characters such as @ signs in Passwords](#escaping-special-characters-such-as-signs-in-passwords)
      * [Creating URLs Programmatically](#creating-urls-programmatically)
      * [Backend-Specific URLs](#backend-specific-urls)
        + [PostgreSQL](#postgresql)
        + [MySQL](#mysql)
        + [Oracle](#oracle)
        + [Microsoft SQL Server](#microsoft-sql-server)
        + [SQLite](#sqlite)
        + [Others](#others)
    - [Engine Creation API](#engine-creation-api)
      * [`create_engine()`](#sqlalchemy.create_engine)
      * [`engine_from_config()`](#sqlalchemy.engine_from_config)
      * [`create_mock_engine()`](#sqlalchemy.create_mock_engine)
      * [`make_url()`](#sqlalchemy.engine.make_url)
      * [`URL`](#sqlalchemy.engine.URL)
        + [`URL.drivername`](#sqlalchemy.engine.URL.drivername)
        + [`URL.username`](#sqlalchemy.engine.URL.username)
        + [`URL.password`](#sqlalchemy.engine.URL.password)
        + [`URL.host`](#sqlalchemy.engine.URL.host)
        + [`URL.port`](#sqlalchemy.engine.URL.port)
        + [`URL.database`](#sqlalchemy.engine.URL.database)
        + [`URL.query`](#sqlalchemy.engine.URL.query)
        + [`URL.create()`](#sqlalchemy.engine.URL.create)
        + [`URL.difference_update_query()`](#sqlalchemy.engine.URL.difference_update_query)
        + [`URL.get_backend_name()`](#sqlalchemy.engine.URL.get_backend_name)
        + [`URL.get_dialect()`](#sqlalchemy.engine.URL.get_dialect)
        + [`URL.get_driver_name()`](#sqlalchemy.engine.URL.get_driver_name)
        + [`URL.normalized_query`](#sqlalchemy.engine.URL.normalized_query)
        + [`URL.render_as_string()`](#sqlalchemy.engine.URL.render_as_string)
        + [`URL.set()`](#sqlalchemy.engine.URL.set)
        + [`URL.translate_connect_args()`](#sqlalchemy.engine.URL.translate_connect_args)
        + [`URL.update_query_dict()`](#sqlalchemy.engine.URL.update_query_dict)
        + [`URL.update_query_pairs()`](#sqlalchemy.engine.URL.update_query_pairs)
        + [`URL.update_query_string()`](#sqlalchemy.engine.URL.update_query_string)
    - [Pooling](#pooling)
    - [Custom DBAPI connect() arguments / on-connect routines](#custom-dbapi-connect-arguments-on-connect-routines)
      * [Special Keyword Arguments Passed to dbapi.connect()](#special-keyword-arguments-passed-to-dbapi-connect)
        + [Add Parameters to the URL Query string](#add-parameters-to-the-url-query-string)
        + [Use the connect\_args dictionary parameter](#use-the-connect-args-dictionary-parameter)
      * [Controlling how parameters are passed to the DBAPI connect() function](#controlling-how-parameters-are-passed-to-the-dbapi-connect-function)
        + [Generating dynamic authentication tokens](#generating-dynamic-authentication-tokens)
      * [Modifying the DBAPI connection after connect, or running commands after connect](#modifying-the-dbapi-connection-after-connect-or-running-commands-after-connect)
      * [Fully Replacing the DBAPI `connect()` function](#fully-replacing-the-dbapi-connect-function)
    - [Configuring Logging](#configuring-logging)
      * [More on the Echo Flag](#more-on-the-echo-flag)
      * [Setting the Logging Name](#setting-the-logging-name)
      * [Setting Per-Connection / Sub-Engine Tokens](#setting-per-connection-sub-engine-tokens)
      * [Hiding Parameters](#hiding-parameters)
  + [Working with Engines and Connections](connections.html)
  + [Connection Pooling](pooling.html)
  + [Core Events](events.html)
* [Core API Basics](api_basics.html)
* [SQLAlchemy 2.0 Future (Core)](future.html)

#### Project Versions

* [1.4.54](../index.html)

Search terms:

[Home](../index.html)
| [Download this Documentation](//docs.sqlalchemy.org/14/sqlalchemy_14.zip)

* **Previous:**
  [Engine and Connection Use](engines_connections.html "previous chapter")
* **Next:**
  [Working with Engines and Connections](connections.html "next chapter")
* **Up:** [Home](../index.html)

+ [SQLAlchemy Core](index.html "SQLAlchemy Core")

- [Engine and Connection Use](engines_connections.html "Engine and Connection Use")

* **On this page:**

+ [Engine Configuration](#engine-configuration)
  - [Supported Databases](#supported-databases)
  - [Database URLs](#database-urls)
    * [Escaping Special Characters such as @ signs in Passwords](#escaping-special-characters-such-as-signs-in-passwords)
    * [Creating URLs Programmatically](#creating-urls-programmatically)
    * [Backend-Specific URLs](#backend-specific-urls)
      + [PostgreSQL](#postgresql)
      + [MySQL](#mysql)
      + [Oracle](#oracle)
      + [Microsoft SQL Server](#microsoft-sql-server)
      + [SQLite](#sqlite)
      + [Others](#others)
  - [Engine Creation API](#engine-creation-api)
    * [`create_engine()`](#sqlalchemy.create_engine)
    * [`engine_from_config()`](#sqlalchemy.engine_from_config)
    * [`create_mock_engine()`](#sqlalchemy.create_mock_engine)
    * [`make_url()`](#sqlalchemy.engine.make_url)
    * [`URL`](#sqlalchemy.engine.URL)
      + [`URL.drivername`](#sqlalchemy.engine.URL.drivername)
      + [`URL.username`](#sqlalchemy.engine.URL.username)
      + [`URL.password`](#sqlalchemy.engine.URL.password)
      + [`URL.host`](#sqlalchemy.engine.URL.host)
      + [`URL.port`](#sqlalchemy.engine.URL.port)
      + [`URL.database`](#sqlalchemy.engine.URL.database)
      + [`URL.query`](#sqlalchemy.engine.URL.query)
      + [`URL.create()`](#sqlalchemy.engine.URL.create)
      + [`URL.difference_update_query()`](#sqlalchemy.engine.URL.difference_update_query)
      + [`URL.get_backend_name()`](#sqlalchemy.engine.URL.get_backend_name)
      + [`URL.get_dialect()`](#sqlalchemy.engine.URL.get_dialect)
      + [`URL.get_driver_name()`](#sqlalchemy.engine.URL.get_driver_name)
      + [`URL.normalized_query`](#sqlalchemy.engine.URL.normalized_query)
      + [`URL.render_as_string()`](#sqlalchemy.engine.URL.render_as_string)
      + [`URL.set()`](#sqlalchemy.engine.URL.set)
      + [`URL.translate_connect_args()`](#sqlalchemy.engine.URL.translate_connect_args)
      + [`URL.update_query_dict()`](#sqlalchemy.engine.URL.update_query_dict)
      + [`URL.update_query_pairs()`](#sqlalchemy.engine.URL.update_query_pairs)
      + [`URL.update_query_string()`](#sqlalchemy.engine.URL.update_query_string)
  - [Pooling](#pooling)
  - [Custom DBAPI connect() arguments / on-connect routines](#custom-dbapi-connect-arguments-on-connect-routines)
    * [Special Keyword Arguments Passed to dbapi.connect()](#special-keyword-arguments-passed-to-dbapi-connect)
      + [Add Parameters to the URL Query string](#add-parameters-to-the-url-query-string)
      + [Use the connect\_args dictionary parameter](#use-the-connect-args-dictionary-parameter)
    * [Controlling how parameters are passed to the DBAPI connect() function](#controlling-how-parameters-are-passed-to-the-dbapi-connect-function)
      + [Generating dynamic authentication tokens](#generating-dynamic-authentication-tokens)
    * [Modifying the DBAPI connection after connect, or running commands after connect](#modifying-the-dbapi-connection-after-connect-or-running-commands-after-connect)
    * [Fully Replacing the DBAPI `connect()` function](#fully-replacing-the-dbapi-connect-function)
  - [Configuring Logging](#configuring-logging)
    * [More on the Echo Flag](#more-on-the-echo-flag)
    * [Setting the Logging Name](#setting-the-logging-name)
    * [Setting Per-Connection / Sub-Engine Tokens](#setting-per-connection-sub-engine-tokens)
    * [Hiding Parameters](#hiding-parameters)

# Engine Configuration[¬∂](#engine-configuration "Link to this heading")

The [`Engine`](connections.html#sqlalchemy.engine.Engine "sqlalchemy.engine.Engine") is the starting point for any SQLAlchemy application. It‚Äôs
‚Äúhome base‚Äù for the actual database and its [DBAPI](../glossary.html#term-DBAPI), delivered to the SQLAlchemy
application through a connection pool and a [`Dialect`](internals.html#sqlalchemy.engine.Dialect "sqlalchemy.engine.Dialect"), which describes how
to talk to a specific kind of database/DBAPI combination.

The general structure can be illustrated as follows:

![../_images/sqla_engine_arch.png](../_images/sqla_engine_arch.png)

Previous:
[Engine and Connection Use](engines_connections.html "previous chapter")
Next:
[Working with Engines and Connections](connections.html "next chapter")
¬© [Copyright](../copyright.html) 2007-2025, the SQLAlchemy authors and contributors.

**flamb√©!** the dragon and ***The Alchemist*** image designs created and generously donated by [Rotem Yaari](https://github.com/vmalloc).

Created using [Sphinx](https://www.sphinx-doc.org) 7.2.6.
Documentation last generated: Sat 04 Jan 2025 02:01:48 PM EST

[![Python](//www.sqlalchemy.org/img/python-logo.gif)](http://www.python.org/ "The Python Language Site")

Website content copyright ¬© by SQLAlchemy authors and contributors.
SQLAlchemy and its documentation are licensed under the MIT license.

SQLAlchemy is a trademark of Michael Bayer. mike(&)zzzcomputing.com
All rights reserved.

Website generation by
[zeekofile](https://github.com/sqlalchemyorg/zeekofile/), with
huge thanks to the [Blogofile](https://github.com/EnigmaCurry/blogofile)
project.

[Mastodon](https://hachyderm.io/%40zzzeek)
[Mastodon](https://fosstodon.org/%40zzzeek)



=== Content from github.com_271f4334_20250111_071400.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fethyca%2Ffides%2Fcommit%2F6ab37b1ffe2b1a3bd35b706a82f78e061086141c)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fethyca%2Ffides%2Fcommit%2F6ab37b1ffe2b1a3bd35b706a82f78e061086141c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=ethyca%2Ffides)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ethyca](/ethyca)
/
**[fides](/ethyca/fides)**
Public

* [Notifications](/login?return_to=%2Fethyca%2Ffides) You must be signed in to change notification settings
* [Fork
  73](/login?return_to=%2Fethyca%2Ffides)
* [Star
   382](/login?return_to=%2Fethyca%2Ffides)

* [Code](/ethyca/fides)
* [Issues
  215](/ethyca/fides/issues)
* [Pull requests
  58](/ethyca/fides/pulls)
* [Actions](/ethyca/fides/actions)
* [Projects
  0](/ethyca/fides/projects)
* [Security](/ethyca/fides/security)
* [Insights](/ethyca/fides/pulse)

Additional navigation options

* [Code](/ethyca/fides)
* [Issues](/ethyca/fides/issues)
* [Pull requests](/ethyca/fides/pulls)
* [Actions](/ethyca/fides/actions)
* [Projects](/ethyca/fides/projects)
* [Security](/ethyca/fides/security)
* [Insights](/ethyca/fides/pulse)

## Commit

[Permalink](/ethyca/fides/commit/6ab37b1ffe2b1a3bd35b706a82f78e061086141c)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request from [GHSA-8cm5-jfj2-26q7](https://github.com/advisories/GHSA-8cm5-jfj2-26q7 "GHSA-8cm5-jfj2-26q7")

[Browse files](/ethyca/fides/tree/6ab37b1ffe2b1a3bd35b706a82f78e061086141c)
Browse the repository at this point in the history

```
- Further escape any % signs added ('%%') when setting the sqlalchemy URL to avoid invalid interpolation syntax errors.
```

* Loading branch information

[![@pattisdr](https://avatars.githubusercontent.com/u/9755598?s=40&v=4)](/pattisdr)

[pattisdr](/ethyca/fides/commits?author=pattisdr "View all commits by pattisdr")
committed
May 23, 2024

1 parent
[cbe3d2d](/ethyca/fides/commit/cbe3d2d2cabf3cc77947b4039f3090fa493caf91)

commit 6ab37b1

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**52 additions**
and
**3 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* src/fides

  + api/db

    - src/fides/api/db/database.py
      [database.py](#diff-4d08694158d46362648a5b86350c23dd0244621d41fdc79b687c511f4cfbb4b5)
  + config

    - src/fides/config/database\_settings.py
      [database\_settings.py](#diff-08fa5bf68cf03f4c9fc765e3bb6d1c201f3fe45eacdfd130ece82a997f323bca)
* tests/ctl/core/config

  + tests/ctl/core/config/test\_config.py
    [test\_config.py](#diff-4ddfe35909473837ae9ef4e03f0b1b2b54c5312dd851102542203c5c2b4753cb)

## There are no files selected for viewing

3 changes: 2 additions & 1 deletion

3
[src/fides/api/db/database.py](#diff-4d08694158d46362648a5b86350c23dd0244621d41fdc79b687c511f4cfbb4b5 "src/fides/api/db/database.py")

Show comments

[View file](/ethyca/fides/blob/6ab37b1ffe2b1a3bd35b706a82f78e061086141c/src/fides/api/db/database.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -31,7 +31,8 @@ def get\_alembic\_config(database\_url: str) -> Config: |
|  |  | directory = path.join(migrations\_dir, "../alembic/migrations") |
|  |  | config = Config(path.join(migrations\_dir, "../alembic/alembic.ini")) |
|  |  | config.set\_main\_option("script\_location", directory.replace("%", "%%")) |
|  |  | config.set\_main\_option("sqlalchemy.url", database\_url) |
|  |  | # Avoids invalid interpolation syntax errors if % in string |
|  |  | config.set\_main\_option("sqlalchemy.url", database\_url.replace("%", "%%")) |
|  |  | return config |
|  |  |  |
|  |  |  |
| Expand Down | |  |

11 changes: 9 additions & 2 deletions

11
[src/fides/config/database\_settings.py](#diff-08fa5bf68cf03f4c9fc765e3bb6d1c201f3fe45eacdfd130ece82a997f323bca "src/fides/config/database_settings.py")

Show comments

[View file](/ethyca/fides/blob/6ab37b1ffe2b1a3bd35b706a82f78e061086141c/src/fides/config/database_settings.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,7 +4,7 @@ |
|  |  |  |
|  |  | from copy import deepcopy |
|  |  | from typing import Dict, Optional, Union, cast |
|  |  | from urllib.parse import quote, urlencode |
|  |  | from urllib.parse import quote, quote\_plus, urlencode |
|  |  |  |
|  |  | from pydantic import Field, PostgresDsn, validator |
|  |  |  |
| Expand Down  Expand Up | | @@ -71,7 +71,7 @@ class DatabaseSettings(FidesSettings): |
|  |  | ) |
|  |  | params: Dict = Field( |
|  |  | default={}, # Can't use the default\_factory since it breaks docs generation |
|  |  | description="Additional connection parameters used when connecting to the applicaiton database.", |
|  |  | description="Additional connection parameters used when connecting to the application database.", |
|  |  | ) |
|  |  |  |
|  |  | # These must be at the end because they require other values to construct |
| Expand All | | @@ -96,6 +96,13 @@ class DatabaseSettings(FidesSettings): |
|  |  | exclude=True, |
|  |  | ) |
|  |  |  |
|  |  | @validator("password", pre=True) |
|  |  | def escape\_password(cls, value: Optional[str]) -> Optional[str]: |
|  |  | """Escape password""" |
|  |  | if value and isinstance(value, str): |
|  |  | return quote\_plus(value) |
|  |  | return value |
|  |  |  |
|  |  | @validator("sync\_database\_uri", pre=True) |
|  |  | @classmethod |
|  |  | def assemble\_sync\_database\_uri( |
| Expand Down | |  |

41 changes: 41 additions & 0 deletions

41
[tests/ctl/core/config/test\_config.py](#diff-4ddfe35909473837ae9ef4e03f0b1b2b54c5312dd851102542203c5c2b4753cb "tests/ctl/core/config/test_config.py")

Show comments

[View file](/ethyca/fides/blob/6ab37b1ffe2b1a3bd35b706a82f78e061086141c/tests/ctl/core/config/test_config.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -5,6 +5,7 @@ |
|  |  | import pytest |
|  |  | from pydantic import ValidationError |
|  |  |  |
|  |  | from fides.api.db.database import get\_alembic\_config |
|  |  | from fides.config import check\_required\_webserver\_config\_values, get\_config |
|  |  | from fides.config.database\_settings import DatabaseSettings |
|  |  | from fides.config.redis\_settings import RedisSettings |
| Expand Down  Expand Up | | @@ -191,6 +192,46 @@ def test\_database\_url\_test\_mode\_disabled() -> None: |
|  |  | ) |
|  |  |  |
|  |  |  |
|  |  | @pytest.mark.unit |
|  |  | def test\_password\_escaped\_by\_database\_settings\_validation() -> None: |
|  |  | database\_settings = DatabaseSettings( |
|  |  | user="postgres", |
|  |  | password="fidesp@ssword", |
|  |  | server="fides-db", |
|  |  | port="5432", |
|  |  | db="database", |
|  |  | test\_db="test\_database", |
|  |  | ) |
|  |  | assert ( |
|  |  | database\_settings.async\_database\_uri |
|  |  | == "postgresql+asyncpg://postgres:fidesp%40ssword@fides-db:5432/test\_database" |
|  |  | ) |
|  |  |  |
|  |  | assert ( |
|  |  | database\_settings.sync\_database\_uri |
|  |  | == "postgresql+psycopg2://postgres:fidesp%40ssword@fides-db:5432/test\_database" |
|  |  | ) |
|  |  |  |
|  |  | assert ( |
|  |  | database\_settings.sqlalchemy\_database\_uri |
|  |  | == "postgresql://postgres:fidesp%40ssword@fides-db:5432/database" |
|  |  | ) |
|  |  |  |
|  |  | assert ( |
|  |  | database\_settings.sqlalchemy\_test\_database\_uri |
|  |  | == "postgresql://postgres:fidesp%40ssword@fides-db:5432/test\_database" |
|  |  | ) |
|  |  |  |
|  |  |  |
|  |  | def test\_get\_alembic\_config\_with\_special\_char\_in\_database\_url(): |
|  |  | database\_url = ( |
|  |  | "postgresql+psycopg2://postgres:fidesp%40ssword@fides-db:5432/test\_database" |
|  |  | ) |
|  |  | # this would fail with - ValueError: invalid interpolation syntax |
|  |  | # if not handled |
|  |  | get\_alembic\_config(database\_url) |
|  |  |  |
|  |  |  |
|  |  | @patch.dict( |
|  |  | os.environ, |
|  |  | { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `6ab37b1`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fethyca%2Ffides%2Fcommit%2F6ab37b1ffe2b1a3bd35b706a82f78e061086141c) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.


