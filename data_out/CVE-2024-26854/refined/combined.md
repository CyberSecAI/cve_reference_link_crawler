=== Content from git.kernel.org_7aaef8c4_20250111_140024.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=db29ceff3e25c48907016da456a7cbee6310fd83)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=db29ceff3e25c48907016da456a7cbee6310fd83)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=db29ceff3e25c48907016da456a7cbee6310fd83)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=db29ceff3e25c48907016da456a7cbee6310fd83)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Michal Schmidt <mschmidt@redhat.com> | 2024-03-01 14:37:08 +0100 |
| --- | --- | --- |
| committer | Sasha Levin <sashal@kernel.org> | 2024-03-15 10:48:18 -0400 |
| commit | [db29ceff3e25c48907016da456a7cbee6310fd83](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=db29ceff3e25c48907016da456a7cbee6310fd83) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=db29ceff3e25c48907016da456a7cbee6310fd83)) | |
| tree | [366725df6a55a118fe6e43a465157c61aede372e](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=db29ceff3e25c48907016da456a7cbee6310fd83) | |
| parent | [0e296067ae0d74a10b4933601f9aa9f0ec8f157f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0e296067ae0d74a10b4933601f9aa9f0ec8f157f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=db29ceff3e25c48907016da456a7cbee6310fd83&id2=0e296067ae0d74a10b4933601f9aa9f0ec8f157f)) | |
| download | [linux-db29ceff3e25c48907016da456a7cbee6310fd83.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-db29ceff3e25c48907016da456a7cbee6310fd83.tar.gz) | |

ice: fix uninitialized dplls mutex usage[ Upstream commit 9224fc86f1776193650a33a275cac628952f80a9 ]
The pf->dplls.lock mutex is initialized too late, after its first use.
Move it to the top of ice\_dpll\_init.
Note that the "err\_exit" error path destroys the mutex. And the mutex is
the last thing destroyed in ice\_dpll\_deinit.
This fixes the following warning with CONFIG\_DEBUG\_MUTEXES:
ice 0000:10:00.0: The DDP package was successfully loaded: ICE OS Default Package version 1.3.36.0
ice 0000:10:00.0: 252.048 Gb/s available PCIe bandwidth (16.0 GT/s PCIe x16 link)
ice 0000:10:00.0: PTP init successful
------------[ cut here ]------------
DEBUG\_LOCKS\_WARN\_ON(lock->magic != lock)
WARNING: CPU: 0 PID: 410 at kernel/locking/mutex.c:587 \_\_mutex\_lock+0x773/0xd40
Modules linked in: crct10dif\_pclmul crc32\_pclmul crc32c\_intel polyval\_clmulni polyval\_generic ice(+) nvme nvme\_c>
CPU: 0 PID: 410 Comm: kworker/0:4 Not tainted 6.8.0-rc5+ #3
Hardware name: HPE ProLiant DL110 Gen10 Plus/ProLiant DL110 Gen10 Plus, BIOS U56 10/19/2023
Workqueue: events work\_for\_cpu\_fn
RIP: 0010:\_\_mutex\_lock+0x773/0xd40
Code: c0 0f 84 1d f9 ff ff 44 8b 35 0d 9c 69 01 45 85 f6 0f 85 0d f9 ff ff 48 c7 c6 12 a2 a9 85 48 c7 c7 12 f1 a>
RSP: 0018:ff7eb1a3417a7ae0 EFLAGS: 00010286
RAX: 0000000000000000 RBX: 0000000000000002 RCX: 0000000000000000
RDX: 0000000000000002 RSI: ffffffff85ac2bff RDI: 00000000ffffffff
RBP: ff7eb1a3417a7b80 R08: 0000000000000000 R09: 00000000ffffbfff
R10: ff7eb1a3417a7978 R11: ff32b80f7fd2e568 R12: 0000000000000000
R13: 0000000000000000 R14: 0000000000000000 R15: ff32b7f02c50e0d8
FS: 0000000000000000(0000) GS:ff32b80efe800000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 000055b5852cc000 CR3: 000000003c43a004 CR4: 0000000000771ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
<TASK>
? \_\_warn+0x84/0x170
? \_\_mutex\_lock+0x773/0xd40
? report\_bug+0x1c7/0x1d0
? prb\_read\_valid+0x1b/0x30
? handle\_bug+0x42/0x70
? exc\_invalid\_op+0x18/0x70
? asm\_exc\_invalid\_op+0x1a/0x20
? \_\_mutex\_lock+0x773/0xd40
? rcu\_is\_watching+0x11/0x50
? \_\_kmalloc\_node\_track\_caller+0x346/0x490
? ice\_dpll\_lock\_status\_get+0x28/0x50 [ice]
? \_\_pfx\_ice\_dpll\_lock\_status\_get+0x10/0x10 [ice]
? ice\_dpll\_lock\_status\_get+0x28/0x50 [ice]
ice\_dpll\_lock\_status\_get+0x28/0x50 [ice]
dpll\_device\_get\_one+0x14f/0x2e0
dpll\_device\_event\_send+0x7d/0x150
dpll\_device\_register+0x124/0x180
ice\_dpll\_init\_dpll+0x7b/0xd0 [ice]
ice\_dpll\_init+0x224/0xa40 [ice]
? \_dev\_info+0x70/0x90
ice\_load+0x468/0x690 [ice]
ice\_probe+0x75b/0xa10 [ice]
? \_raw\_spin\_unlock\_irqrestore+0x4f/0x80
? process\_one\_work+0x1a3/0x500
local\_pci\_probe+0x47/0xa0
work\_for\_cpu\_fn+0x17/0x30
process\_one\_work+0x20d/0x500
worker\_thread+0x1df/0x3e0
? \_\_pfx\_worker\_thread+0x10/0x10
kthread+0x103/0x140
? \_\_pfx\_kthread+0x10/0x10
ret\_from\_fork+0x31/0x50
? \_\_pfx\_kthread+0x10/0x10
ret\_from\_fork\_asm+0x1b/0x30
</TASK>
irq event stamp: 125197
hardirqs last enabled at (125197): [<ffffffff8416409d>] finish\_task\_switch.isra.0+0x12d/0x3d0
hardirqs last disabled at (125196): [<ffffffff85134044>] \_\_schedule+0xea4/0x19f0
softirqs last enabled at (105334): [<ffffffff84e1e65a>] napi\_get\_frags\_check+0x1a/0x60
softirqs last disabled at (105332): [<ffffffff84e1e65a>] napi\_get\_frags\_check+0x1a/0x60
---[ end trace 0000000000000000 ]---
Fixes: d7999f5ea64b ("ice: implement dpll interface to control cgu")
Signed-off-by: Michal Schmidt <mschmidt@redhat.com>
Reviewed-by: Maciej Fijalkowski <maciej.fijalkowski@intel.com>
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=db29ceff3e25c48907016da456a7cbee6310fd83)

| -rw-r--r-- | [drivers/net/ethernet/intel/ice/ice\_dpll.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/intel/ice/ice_dpll.c?id=db29ceff3e25c48907016da456a7cbee6310fd83) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/net/ethernet/intel/ice/ice\_dpll.c b/drivers/net/ethernet/intel/ice/ice\_dpll.cindex 2b657d43c769d1..68b894bb68fe74 100644--- a/[drivers/net/ethernet/intel/ice/ice\_dpll.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/ice/ice_dpll.c?id=0e296067ae0d74a10b4933601f9aa9f0ec8f157f)+++ b/[drivers/net/ethernet/intel/ice/ice\_dpll.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/ice/ice_dpll.c?id=db29ceff3e25c48907016da456a7cbee6310fd83)@@ -2146,6 +2146,7 @@ void ice\_dpll\_init(struct ice\_pf \*pf) struct ice\_dplls \*d = &pf->dplls; int err = 0; + mutex\_init(&d->lock); err = ice\_dpll\_init\_info(pf, cgu); if (err) goto err\_exit;@@ -2158,7 +2159,6 @@ void ice\_dpll\_init(struct ice\_pf \*pf) err = ice\_dpll\_init\_pins(pf, cgu); if (err) goto deinit\_pps;- mutex\_init(&d->lock); if (cgu) { err = ice\_dpll\_init\_worker(pf); if (err) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 13:59:01 +0000



=== Content from git.kernel.org_4264b742_20250111_140023.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=9224fc86f1776193650a33a275cac628952f80a9)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9224fc86f1776193650a33a275cac628952f80a9)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9224fc86f1776193650a33a275cac628952f80a9)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9224fc86f1776193650a33a275cac628952f80a9)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Michal Schmidt <mschmidt@redhat.com> | 2024-03-01 14:37:08 +0100 |
| --- | --- | --- |
| committer | Tony Nguyen <anthony.l.nguyen@intel.com> | 2024-03-05 09:49:54 -0800 |
| commit | [9224fc86f1776193650a33a275cac628952f80a9](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9224fc86f1776193650a33a275cac628952f80a9) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=9224fc86f1776193650a33a275cac628952f80a9)) | |
| tree | [7af7369471f042df793fb363a8c5f41f696b5ebc](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9224fc86f1776193650a33a275cac628952f80a9) | |
| parent | [06e456a05d669ca30b224b8ed962421770c1496c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=06e456a05d669ca30b224b8ed962421770c1496c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9224fc86f1776193650a33a275cac628952f80a9&id2=06e456a05d669ca30b224b8ed962421770c1496c)) | |
| download | [linux-9224fc86f1776193650a33a275cac628952f80a9.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-9224fc86f1776193650a33a275cac628952f80a9.tar.gz) | |

ice: fix uninitialized dplls mutex usageThe pf->dplls.lock mutex is initialized too late, after its first use.
Move it to the top of ice\_dpll\_init.
Note that the "err\_exit" error path destroys the mutex. And the mutex is
the last thing destroyed in ice\_dpll\_deinit.
This fixes the following warning with CONFIG\_DEBUG\_MUTEXES:
ice 0000:10:00.0: The DDP package was successfully loaded: ICE OS Default Package version 1.3.36.0
ice 0000:10:00.0: 252.048 Gb/s available PCIe bandwidth (16.0 GT/s PCIe x16 link)
ice 0000:10:00.0: PTP init successful
------------[ cut here ]------------
DEBUG\_LOCKS\_WARN\_ON(lock->magic != lock)
WARNING: CPU: 0 PID: 410 at kernel/locking/mutex.c:587 \_\_mutex\_lock+0x773/0xd40
Modules linked in: crct10dif\_pclmul crc32\_pclmul crc32c\_intel polyval\_clmulni polyval\_generic ice(+) nvme nvme\_c>
CPU: 0 PID: 410 Comm: kworker/0:4 Not tainted 6.8.0-rc5+ #3
Hardware name: HPE ProLiant DL110 Gen10 Plus/ProLiant DL110 Gen10 Plus, BIOS U56 10/19/2023
Workqueue: events work\_for\_cpu\_fn
RIP: 0010:\_\_mutex\_lock+0x773/0xd40
Code: c0 0f 84 1d f9 ff ff 44 8b 35 0d 9c 69 01 45 85 f6 0f 85 0d f9 ff ff 48 c7 c6 12 a2 a9 85 48 c7 c7 12 f1 a>
RSP: 0018:ff7eb1a3417a7ae0 EFLAGS: 00010286
RAX: 0000000000000000 RBX: 0000000000000002 RCX: 0000000000000000
RDX: 0000000000000002 RSI: ffffffff85ac2bff RDI: 00000000ffffffff
RBP: ff7eb1a3417a7b80 R08: 0000000000000000 R09: 00000000ffffbfff
R10: ff7eb1a3417a7978 R11: ff32b80f7fd2e568 R12: 0000000000000000
R13: 0000000000000000 R14: 0000000000000000 R15: ff32b7f02c50e0d8
FS: 0000000000000000(0000) GS:ff32b80efe800000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 000055b5852cc000 CR3: 000000003c43a004 CR4: 0000000000771ef0
DR0: 0000000000000000 DR1: 0000000000000000 DR2: 0000000000000000
DR3: 0000000000000000 DR6: 00000000fffe0ff0 DR7: 0000000000000400
PKRU: 55555554
Call Trace:
<TASK>
? \_\_warn+0x84/0x170
? \_\_mutex\_lock+0x773/0xd40
? report\_bug+0x1c7/0x1d0
? prb\_read\_valid+0x1b/0x30
? handle\_bug+0x42/0x70
? exc\_invalid\_op+0x18/0x70
? asm\_exc\_invalid\_op+0x1a/0x20
? \_\_mutex\_lock+0x773/0xd40
? rcu\_is\_watching+0x11/0x50
? \_\_kmalloc\_node\_track\_caller+0x346/0x490
? ice\_dpll\_lock\_status\_get+0x28/0x50 [ice]
? \_\_pfx\_ice\_dpll\_lock\_status\_get+0x10/0x10 [ice]
? ice\_dpll\_lock\_status\_get+0x28/0x50 [ice]
ice\_dpll\_lock\_status\_get+0x28/0x50 [ice]
dpll\_device\_get\_one+0x14f/0x2e0
dpll\_device\_event\_send+0x7d/0x150
dpll\_device\_register+0x124/0x180
ice\_dpll\_init\_dpll+0x7b/0xd0 [ice]
ice\_dpll\_init+0x224/0xa40 [ice]
? \_dev\_info+0x70/0x90
ice\_load+0x468/0x690 [ice]
ice\_probe+0x75b/0xa10 [ice]
? \_raw\_spin\_unlock\_irqrestore+0x4f/0x80
? process\_one\_work+0x1a3/0x500
local\_pci\_probe+0x47/0xa0
work\_for\_cpu\_fn+0x17/0x30
process\_one\_work+0x20d/0x500
worker\_thread+0x1df/0x3e0
? \_\_pfx\_worker\_thread+0x10/0x10
kthread+0x103/0x140
? \_\_pfx\_kthread+0x10/0x10
ret\_from\_fork+0x31/0x50
? \_\_pfx\_kthread+0x10/0x10
ret\_from\_fork\_asm+0x1b/0x30
</TASK>
irq event stamp: 125197
hardirqs last enabled at (125197): [<ffffffff8416409d>] finish\_task\_switch.isra.0+0x12d/0x3d0
hardirqs last disabled at (125196): [<ffffffff85134044>] \_\_schedule+0xea4/0x19f0
softirqs last enabled at (105334): [<ffffffff84e1e65a>] napi\_get\_frags\_check+0x1a/0x60
softirqs last disabled at (105332): [<ffffffff84e1e65a>] napi\_get\_frags\_check+0x1a/0x60
---[ end trace 0000000000000000 ]---
Fixes: d7999f5ea64b ("ice: implement dpll interface to control cgu")
Signed-off-by: Michal Schmidt <mschmidt@redhat.com>
Reviewed-by: Maciej Fijalkowski <maciej.fijalkowski@intel.com>
Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9224fc86f1776193650a33a275cac628952f80a9)

| -rw-r--r-- | [drivers/net/ethernet/intel/ice/ice\_dpll.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/intel/ice/ice_dpll.c?id=9224fc86f1776193650a33a275cac628952f80a9) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/net/ethernet/intel/ice/ice\_dpll.c b/drivers/net/ethernet/intel/ice/ice\_dpll.cindex adfa1f2a80a667..fda9140c0da45f 100644--- a/[drivers/net/ethernet/intel/ice/ice\_dpll.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/ice/ice_dpll.c?id=06e456a05d669ca30b224b8ed962421770c1496c)+++ b/[drivers/net/ethernet/intel/ice/ice\_dpll.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/intel/ice/ice_dpll.c?id=9224fc86f1776193650a33a275cac628952f80a9)@@ -2120,6 +2120,7 @@ void ice\_dpll\_init(struct ice\_pf \*pf) struct ice\_dplls \*d = &pf->dplls; int err = 0; + mutex\_init(&d->lock); err = ice\_dpll\_init\_info(pf, cgu); if (err) goto err\_exit;@@ -2132,7 +2133,6 @@ void ice\_dpll\_init(struct ice\_pf \*pf) err = ice\_dpll\_init\_pins(pf, cgu); if (err) goto deinit\_pps;- mutex\_init(&d->lock); if (cgu) { err = ice\_dpll\_init\_worker(pf); if (err) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 13:59:00 +0000


