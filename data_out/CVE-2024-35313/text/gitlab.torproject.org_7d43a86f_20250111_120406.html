

[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)

# TROVE-2024-004: With full vanguards, some circuits have length 3 rather than the intended 4

Old title: If there are no STUB+ circuits, repurpose the STUB ones

This is about fixing this TODO from circmgr:

```
        match (circuit.kind, kind) {
            (HsCircStubKind::Stub, HsCircStubKind::Extended) => {
                // TODO HS-VANGUARDS: if full vanguards are enabled and the circuit we got is STUB,
                // we need to extend it by another hop to make it STUB+ before returning it
```

Edited May 15, 2024 by [Ian Jackson](/Diziet)

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.

