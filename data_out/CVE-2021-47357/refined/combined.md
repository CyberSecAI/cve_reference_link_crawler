=== Content from git.kernel.org_4f67048e_20250111_062922.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a832ee2f2145f57443b2d565f8cb5490e8339f42)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a832ee2f2145f57443b2d565f8cb5490e8339f42)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a832ee2f2145f57443b2d565f8cb5490e8339f42)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a832ee2f2145f57443b2d565f8cb5490e8339f42)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Zou Wei <zou\_wei@huawei.com> | 2021-05-11 14:53:36 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-07-20 16:21:06 +0200 |
| commit | [a832ee2f2145f57443b2d565f8cb5490e8339f42](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a832ee2f2145f57443b2d565f8cb5490e8339f42) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a832ee2f2145f57443b2d565f8cb5490e8339f42)) | |
| tree | [701b9e857b7f1d3d9a3dd24b664b237dccff22bc](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a832ee2f2145f57443b2d565f8cb5490e8339f42) | |
| parent | [2d935fb0637e425e8e1a1673889adaead5abf855](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2d935fb0637e425e8e1a1673889adaead5abf855) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a832ee2f2145f57443b2d565f8cb5490e8339f42&id2=2d935fb0637e425e8e1a1673889adaead5abf855)) | |
| download | [linux-a832ee2f2145f57443b2d565f8cb5490e8339f42.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a832ee2f2145f57443b2d565f8cb5490e8339f42.tar.gz) | |

atm: iphase: fix possible use-after-free in ia\_module\_exit()[ Upstream commit 1c72e6ab66b9598cac741ed397438a52065a8f1f ]
This module's remove path calls del\_timer(). However, that function
does not wait until the timer handler finishes. This means that the
timer handler may still be running after the driver's remove function
has finished, which would result in a use-after-free.
Fix by calling del\_timer\_sync(), which makes sure the timer handler
has finished, and unable to re-schedule itself.
Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: Zou Wei <zou\_wei@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a832ee2f2145f57443b2d565f8cb5490e8339f42)

| -rw-r--r-- | [drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/atm/iphase.c?id=a832ee2f2145f57443b2d565f8cb5490e8339f42) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/atm/iphase.c b/drivers/atm/iphase.cindex fe47c924dc6422..a1427cb9b9ed1d 100644--- a/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=2d935fb0637e425e8e1a1673889adaead5abf855)+++ b/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=a832ee2f2145f57443b2d565f8cb5490e8339f42)@@ -3301,7 +3301,7 @@ static void \_\_exit ia\_module\_exit(void) { pci\_unregister\_driver(&ia\_driver); - del\_timer(&ia\_timer);+ del\_timer\_sync(&ia\_timer); }  module\_init(ia\_module\_init); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:27:59 +0000



=== Content from git.kernel.org_d3727ac7_20250111_062920.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=9e161687855175334ca93c6c3ccb221731194479)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9e161687855175334ca93c6c3ccb221731194479)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9e161687855175334ca93c6c3ccb221731194479)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9e161687855175334ca93c6c3ccb221731194479)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Zou Wei <zou\_wei@huawei.com> | 2021-05-11 14:53:36 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-07-20 16:22:37 +0200 |
| commit | [9e161687855175334ca93c6c3ccb221731194479](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9e161687855175334ca93c6c3ccb221731194479) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=9e161687855175334ca93c6c3ccb221731194479)) | |
| tree | [cb5df14f534bec6758b9130b32bc3fe8fd307154](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9e161687855175334ca93c6c3ccb221731194479) | |
| parent | [8fd3c6d9c042f57480013e5c9e94a4f2a5b8079c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8fd3c6d9c042f57480013e5c9e94a4f2a5b8079c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9e161687855175334ca93c6c3ccb221731194479&id2=8fd3c6d9c042f57480013e5c9e94a4f2a5b8079c)) | |
| download | [linux-9e161687855175334ca93c6c3ccb221731194479.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-9e161687855175334ca93c6c3ccb221731194479.tar.gz) | |

atm: iphase: fix possible use-after-free in ia\_module\_exit()[ Upstream commit 1c72e6ab66b9598cac741ed397438a52065a8f1f ]
This module's remove path calls del\_timer(). However, that function
does not wait until the timer handler finishes. This means that the
timer handler may still be running after the driver's remove function
has finished, which would result in a use-after-free.
Fix by calling del\_timer\_sync(), which makes sure the timer handler
has finished, and unable to re-schedule itself.
Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: Zou Wei <zou\_wei@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9e161687855175334ca93c6c3ccb221731194479)

| -rw-r--r-- | [drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/atm/iphase.c?id=9e161687855175334ca93c6c3ccb221731194479) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/atm/iphase.c b/drivers/atm/iphase.cindex 860a33a90ebf8b..dc1b7f11e6af54 100644--- a/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=8fd3c6d9c042f57480013e5c9e94a4f2a5b8079c)+++ b/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=9e161687855175334ca93c6c3ccb221731194479)@@ -3296,7 +3296,7 @@ static void \_\_exit ia\_module\_exit(void) { pci\_unregister\_driver(&ia\_driver); - del\_timer(&ia\_timer);+ del\_timer\_sync(&ia\_timer); }  module\_init(ia\_module\_init); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:27:58 +0000



=== Content from git.kernel.org_76cbbf10_20250111_062928.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=d1fb12412874c94ad037e11d0ecdd1140a439297)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d1fb12412874c94ad037e11d0ecdd1140a439297)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d1fb12412874c94ad037e11d0ecdd1140a439297)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d1fb12412874c94ad037e11d0ecdd1140a439297)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Zou Wei <zou\_wei@huawei.com> | 2021-05-11 14:53:36 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-07-19 10:04:31 +0200 |
| commit | [d1fb12412874c94ad037e11d0ecdd1140a439297](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d1fb12412874c94ad037e11d0ecdd1140a439297) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=d1fb12412874c94ad037e11d0ecdd1140a439297)) | |
| tree | [1c86fb7b4cd7183f2dfe3844fc7bb8a083a223af](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d1fb12412874c94ad037e11d0ecdd1140a439297) | |
| parent | [72bdf3c6b059b2bab3974dea9882cf381f12d7a0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=72bdf3c6b059b2bab3974dea9882cf381f12d7a0) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d1fb12412874c94ad037e11d0ecdd1140a439297&id2=72bdf3c6b059b2bab3974dea9882cf381f12d7a0)) | |
| download | [linux-d1fb12412874c94ad037e11d0ecdd1140a439297.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-d1fb12412874c94ad037e11d0ecdd1140a439297.tar.gz) | |

atm: iphase: fix possible use-after-free in ia\_module\_exit()[ Upstream commit 1c72e6ab66b9598cac741ed397438a52065a8f1f ]
This module's remove path calls del\_timer(). However, that function
does not wait until the timer handler finishes. This means that the
timer handler may still be running after the driver's remove function
has finished, which would result in a use-after-free.
Fix by calling del\_timer\_sync(), which makes sure the timer handler
has finished, and unable to re-schedule itself.
Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: Zou Wei <zou\_wei@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d1fb12412874c94ad037e11d0ecdd1140a439297)

| -rw-r--r-- | [drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/atm/iphase.c?id=d1fb12412874c94ad037e11d0ecdd1140a439297) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/atm/iphase.c b/drivers/atm/iphase.cindex 933e3ff2ee8d1c..3f2ebfb06afdfe 100644--- a/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=72bdf3c6b059b2bab3974dea9882cf381f12d7a0)+++ b/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=d1fb12412874c94ad037e11d0ecdd1140a439297)@@ -3279,7 +3279,7 @@ static void \_\_exit ia\_module\_exit(void) { pci\_unregister\_driver(&ia\_driver); - del\_timer(&ia\_timer);+ del\_timer\_sync(&ia\_timer); }  module\_init(ia\_module\_init); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:28:05 +0000



=== Content from git.kernel.org_f81b18d3_20250111_062926.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Zou Wei <zou\_wei@huawei.com> | 2021-05-11 14:53:36 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-07-19 08:53:08 +0200 |
| commit | [c9172498d4d62c9b64e5fb37c1ee0343e65fe51b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b)) | |
| tree | [f0d9720c8ea8e94898c9e156fd02a1c0be6147fa](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b) | |
| parent | [b52b0d996a13d07d9994a24ba7475940be6af2c2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b52b0d996a13d07d9994a24ba7475940be6af2c2) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b&id2=b52b0d996a13d07d9994a24ba7475940be6af2c2)) | |
| download | [linux-c9172498d4d62c9b64e5fb37c1ee0343e65fe51b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c9172498d4d62c9b64e5fb37c1ee0343e65fe51b.tar.gz) | |

atm: iphase: fix possible use-after-free in ia\_module\_exit()[ Upstream commit 1c72e6ab66b9598cac741ed397438a52065a8f1f ]
This module's remove path calls del\_timer(). However, that function
does not wait until the timer handler finishes. This means that the
timer handler may still be running after the driver's remove function
has finished, which would result in a use-after-free.
Fix by calling del\_timer\_sync(), which makes sure the timer handler
has finished, and unable to re-schedule itself.
Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: Zou Wei <zou\_wei@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b)

| -rw-r--r-- | [drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/atm/iphase.c?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/atm/iphase.c b/drivers/atm/iphase.cindex 8c7a996d1f16cf..46990352b5d3f2 100644--- a/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=b52b0d996a13d07d9994a24ba7475940be6af2c2)+++ b/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=c9172498d4d62c9b64e5fb37c1ee0343e65fe51b)@@ -3295,7 +3295,7 @@ static void \_\_exit ia\_module\_exit(void) { pci\_unregister\_driver(&ia\_driver); - del\_timer(&ia\_timer);+ del\_timer\_sync(&ia\_timer); }  module\_init(ia\_module\_init); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:28:03 +0000



=== Content from git.kernel.org_02f999f5_20250111_062919.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Zou Wei <zou\_wei@huawei.com> | 2021-05-11 14:53:36 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-07-20 16:15:59 +0200 |
| commit | [89ce0b0747f319eb70f85bc820dcc43cebbd5417](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417)) | |
| tree | [f41878592205b01cdc1319414d9988f4ad2f4a0c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417) | |
| parent | [909bfdecf39843d1e42a9480a9c3ed49f7579707](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=909bfdecf39843d1e42a9480a9c3ed49f7579707) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417&id2=909bfdecf39843d1e42a9480a9c3ed49f7579707)) | |
| download | [linux-89ce0b0747f319eb70f85bc820dcc43cebbd5417.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-89ce0b0747f319eb70f85bc820dcc43cebbd5417.tar.gz) | |

atm: iphase: fix possible use-after-free in ia\_module\_exit()[ Upstream commit 1c72e6ab66b9598cac741ed397438a52065a8f1f ]
This module's remove path calls del\_timer(). However, that function
does not wait until the timer handler finishes. This means that the
timer handler may still be running after the driver's remove function
has finished, which would result in a use-after-free.
Fix by calling del\_timer\_sync(), which makes sure the timer handler
has finished, and unable to re-schedule itself.
Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: Zou Wei <zou\_wei@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417)

| -rw-r--r-- | [drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/atm/iphase.c?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/atm/iphase.c b/drivers/atm/iphase.cindex 008905d4152a39..827c6d5e617742 100644--- a/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=909bfdecf39843d1e42a9480a9c3ed49f7579707)+++ b/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=89ce0b0747f319eb70f85bc820dcc43cebbd5417)@@ -3301,7 +3301,7 @@ static void \_\_exit ia\_module\_exit(void) { pci\_unregister\_driver(&ia\_driver); - del\_timer(&ia\_timer);+ del\_timer\_sync(&ia\_timer); }  module\_init(ia\_module\_init); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:27:56 +0000



=== Content from git.kernel.org_fe38f2f4_20250111_062925.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=bcdd2be48edd8c6867fb44112cb8d18086beae29)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=bcdd2be48edd8c6867fb44112cb8d18086beae29)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bcdd2be48edd8c6867fb44112cb8d18086beae29)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bcdd2be48edd8c6867fb44112cb8d18086beae29)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Zou Wei <zou\_wei@huawei.com> | 2021-05-11 14:53:36 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-07-20 16:17:42 +0200 |
| commit | [bcdd2be48edd8c6867fb44112cb8d18086beae29](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bcdd2be48edd8c6867fb44112cb8d18086beae29) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=bcdd2be48edd8c6867fb44112cb8d18086beae29)) | |
| tree | [24949549a3d3c97f728738e8f0757e70cac010df](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=bcdd2be48edd8c6867fb44112cb8d18086beae29) | |
| parent | [899cb83e647f6d2dd213a228d2d09fce20ec7dc2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=899cb83e647f6d2dd213a228d2d09fce20ec7dc2) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bcdd2be48edd8c6867fb44112cb8d18086beae29&id2=899cb83e647f6d2dd213a228d2d09fce20ec7dc2)) | |
| download | [linux-bcdd2be48edd8c6867fb44112cb8d18086beae29.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-bcdd2be48edd8c6867fb44112cb8d18086beae29.tar.gz) | |

atm: iphase: fix possible use-after-free in ia\_module\_exit()[ Upstream commit 1c72e6ab66b9598cac741ed397438a52065a8f1f ]
This module's remove path calls del\_timer(). However, that function
does not wait until the timer handler finishes. This means that the
timer handler may still be running after the driver's remove function
has finished, which would result in a use-after-free.
Fix by calling del\_timer\_sync(), which makes sure the timer handler
has finished, and unable to re-schedule itself.
Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: Zou Wei <zou\_wei@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bcdd2be48edd8c6867fb44112cb8d18086beae29)

| -rw-r--r-- | [drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/atm/iphase.c?id=bcdd2be48edd8c6867fb44112cb8d18086beae29) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/atm/iphase.c b/drivers/atm/iphase.cindex 2b29598791e870..16eb0266a59ab6 100644--- a/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=899cb83e647f6d2dd213a228d2d09fce20ec7dc2)+++ b/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=bcdd2be48edd8c6867fb44112cb8d18086beae29)@@ -3301,7 +3301,7 @@ static void \_\_exit ia\_module\_exit(void) { pci\_unregister\_driver(&ia\_driver); - del\_timer(&ia\_timer);+ del\_timer\_sync(&ia\_timer); }  module\_init(ia\_module\_init); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:28:02 +0000



=== Content from git.kernel.org_8c136ced_20250111_062917.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1c72e6ab66b9598cac741ed397438a52065a8f1f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1c72e6ab66b9598cac741ed397438a52065a8f1f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1c72e6ab66b9598cac741ed397438a52065a8f1f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1c72e6ab66b9598cac741ed397438a52065a8f1f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Zou Wei <zou\_wei@huawei.com> | 2021-05-11 14:53:36 +0800 |
| --- | --- | --- |
| committer | David S. Miller <davem@davemloft.net> | 2021-05-11 16:12:03 -0700 |
| commit | [1c72e6ab66b9598cac741ed397438a52065a8f1f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1c72e6ab66b9598cac741ed397438a52065a8f1f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1c72e6ab66b9598cac741ed397438a52065a8f1f)) | |
| tree | [3fea877cddd1144ea59796d403c4aade343562c1](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1c72e6ab66b9598cac741ed397438a52065a8f1f) | |
| parent | [3913ba732e972d88ebc391323999e780a9295852](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3913ba732e972d88ebc391323999e780a9295852) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1c72e6ab66b9598cac741ed397438a52065a8f1f&id2=3913ba732e972d88ebc391323999e780a9295852)) | |
| download | [linux-1c72e6ab66b9598cac741ed397438a52065a8f1f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1c72e6ab66b9598cac741ed397438a52065a8f1f.tar.gz) | |

atm: iphase: fix possible use-after-free in ia\_module\_exit()This module's remove path calls del\_timer(). However, that function
does not wait until the timer handler finishes. This means that the
timer handler may still be running after the driver's remove function
has finished, which would result in a use-after-free.
Fix by calling del\_timer\_sync(), which makes sure the timer handler
has finished, and unable to re-schedule itself.
Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: Zou Wei <zou\_wei@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1c72e6ab66b9598cac741ed397438a52065a8f1f)

| -rw-r--r-- | [drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/atm/iphase.c?id=1c72e6ab66b9598cac741ed397438a52065a8f1f) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/atm/iphase.c b/drivers/atm/iphase.cindex e3f5d073caa65d..bc8e8d9f176b2c 100644--- a/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=3913ba732e972d88ebc391323999e780a9295852)+++ b/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=1c72e6ab66b9598cac741ed397438a52065a8f1f)@@ -3282,7 +3282,7 @@ static void \_\_exit ia\_module\_exit(void) { pci\_unregister\_driver(&ia\_driver); - del\_timer(&ia\_timer);+ del\_timer\_sync(&ia\_timer); }  module\_init(ia\_module\_init); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:27:55 +0000



=== Content from git.kernel.org_b782e3d4_20250111_062929.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Zou Wei <zou\_wei@huawei.com> | 2021-05-11 14:53:36 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-07-19 09:44:38 +0200 |
| commit | [e759ff76ebbbfcdcf83b6634c54dc47828573d8b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b)) | |
| tree | [b2de05147b71413512688eda58b8696f7d2acf2f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b) | |
| parent | [2292d9691ce90feac6ca04bcbfd71c7ecce24f2b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2292d9691ce90feac6ca04bcbfd71c7ecce24f2b) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b&id2=2292d9691ce90feac6ca04bcbfd71c7ecce24f2b)) | |
| download | [linux-e759ff76ebbbfcdcf83b6634c54dc47828573d8b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-e759ff76ebbbfcdcf83b6634c54dc47828573d8b.tar.gz) | |

atm: iphase: fix possible use-after-free in ia\_module\_exit()[ Upstream commit 1c72e6ab66b9598cac741ed397438a52065a8f1f ]
This module's remove path calls del\_timer(). However, that function
does not wait until the timer handler finishes. This means that the
timer handler may still be running after the driver's remove function
has finished, which would result in a use-after-free.
Fix by calling del\_timer\_sync(), which makes sure the timer handler
has finished, and unable to re-schedule itself.
Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: Zou Wei <zou\_wei@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b)

| -rw-r--r-- | [drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/atm/iphase.c?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/atm/iphase.c b/drivers/atm/iphase.cindex eef637fd90b323..a59554e5b8b0fe 100644--- a/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=2292d9691ce90feac6ca04bcbfd71c7ecce24f2b)+++ b/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=e759ff76ebbbfcdcf83b6634c54dc47828573d8b)@@ -3279,7 +3279,7 @@ static void \_\_exit ia\_module\_exit(void) { pci\_unregister\_driver(&ia\_driver); - del\_timer(&ia\_timer);+ del\_timer\_sync(&ia\_timer); }  module\_init(ia\_module\_init); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:28:06 +0000



=== Content from git.kernel.org_c07a983b_20250111_062923.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Zou Wei <zou\_wei@huawei.com> | 2021-05-11 14:53:36 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-07-19 10:00:44 +0200 |
| commit | [b58d246a058ae88484758cd4ab27b3180fd5ecf8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8)) | |
| tree | [a5f918645ba227dc7ca4fa45bf6f71e758477f95](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8) | |
| parent | [4531ba202d2139a45ec1998ea1a8e19d8f78a9a4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4531ba202d2139a45ec1998ea1a8e19d8f78a9a4) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8&id2=4531ba202d2139a45ec1998ea1a8e19d8f78a9a4)) | |
| download | [linux-b58d246a058ae88484758cd4ab27b3180fd5ecf8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b58d246a058ae88484758cd4ab27b3180fd5ecf8.tar.gz) | |

atm: iphase: fix possible use-after-free in ia\_module\_exit()[ Upstream commit 1c72e6ab66b9598cac741ed397438a52065a8f1f ]
This module's remove path calls del\_timer(). However, that function
does not wait until the timer handler finishes. This means that the
timer handler may still be running after the driver's remove function
has finished, which would result in a use-after-free.
Fix by calling del\_timer\_sync(), which makes sure the timer handler
has finished, and unable to re-schedule itself.
Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: Zou Wei <zou\_wei@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8)

| -rw-r--r-- | [drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/atm/iphase.c?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/atm/iphase.c b/drivers/atm/iphase.cindex eef637fd90b323..a59554e5b8b0fe 100644--- a/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=4531ba202d2139a45ec1998ea1a8e19d8f78a9a4)+++ b/[drivers/atm/iphase.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/atm/iphase.c?id=b58d246a058ae88484758cd4ab27b3180fd5ecf8)@@ -3279,7 +3279,7 @@ static void \_\_exit ia\_module\_exit(void) { pci\_unregister\_driver(&ia\_driver); - del\_timer(&ia\_timer);+ del\_timer\_sync(&ia\_timer); }  module\_init(ia\_module\_init); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:28:00 +0000


