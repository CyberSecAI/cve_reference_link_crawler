

[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Register](/users/sign_up)

## Admin message

Due to an influx of spam, we have had to impose restrictions on new accounts. Please see [this wiki page](https://gitlab.freedesktop.org/freedesktop/freedesktop/-/wikis/home) for instructions on how to get full permissions. Sorry for the inconvenience.

# Possible SEGV (buffer overflow) in \_\_glXGetDrawableScreen()

The `glXGetDrawableScreen()` function trusts the on-the-wire `numAttribs` returned in the `xGLXGetDrawableAttributesReply` message. This possibly leads to a buffer overflow.

This is essentially the same problem as [this issue](https://gitlab.freedesktop.org/mesa/mesa/-/issues/9857 "Possible SEGV (buffer overflow) in __glXGetDrawableAttribute()").

[Here](https://gitlab.freedesktop.org/glvnd/libglvnd/-/blob/e9937526de57c22ef1184739df1eab2b51d58fa3/src/GLX/libglxproto.c#L124) is the relevant source code + annotations:

```
libGLX.so:libglxproto.c

    int __glXGetDrawableScreen(...)
    {
        xGLXGetDrawableAttributesReply rep;
        ...
        st = ReadReply(dpyInfo, (xReply *) &rep, (void **) &attribs);
        ...
        for (i=0; i<rep.numAttribs; i++) {
            /* <--- buffer overflow since
             *      rep.numAttribs is not validated
             *      against the length of attribs */
            if (attribs[i * 2] == GLX_SCREEN) {
                screen = attribs[i * 2 + 1];
                break;
            }
        }
        ...
    }
```

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.

