=== Content from github.com_5995e962_20250110_162208.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fravenclaw900%2FDietPi-Dashboard%2Fpull%2F606)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fravenclaw900%2FDietPi-Dashboard%2Fpull%2F606)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=ravenclaw900%2FDietPi-Dashboard)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ravenclaw900](/ravenclaw900)
/
**[DietPi-Dashboard](/ravenclaw900/DietPi-Dashboard)**
Public

* [Notifications](/login?return_to=%2Fravenclaw900%2FDietPi-Dashboard) You must be signed in to change notification settings
* [Fork
  17](/login?return_to=%2Fravenclaw900%2FDietPi-Dashboard)
* [Star
   129](/login?return_to=%2Fravenclaw900%2FDietPi-Dashboard)

* [Code](/ravenclaw900/DietPi-Dashboard)
* [Issues
  31](/ravenclaw900/DietPi-Dashboard/issues)
* [Pull requests
  15](/ravenclaw900/DietPi-Dashboard/pulls)
* [Actions](/ravenclaw900/DietPi-Dashboard/actions)
* [Wiki](/ravenclaw900/DietPi-Dashboard/wiki)
* [Security](/ravenclaw900/DietPi-Dashboard/security)
* [Insights](/ravenclaw900/DietPi-Dashboard/pulse)

Additional navigation options

* [Code](/ravenclaw900/DietPi-Dashboard)
* [Issues](/ravenclaw900/DietPi-Dashboard/issues)
* [Pull requests](/ravenclaw900/DietPi-Dashboard/pulls)
* [Actions](/ravenclaw900/DietPi-Dashboard/actions)
* [Wiki](/ravenclaw900/DietPi-Dashboard/wiki)
* [Security](/ravenclaw900/DietPi-Dashboard/security)
* [Insights](/ravenclaw900/DietPi-Dashboard/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fravenclaw900%2FDietPi-Dashboard%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fravenclaw900%2FDietPi-Dashboard%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# refactor(backend): replace TLS implementation with `flexible-hyper-server-tls` #606

 Merged

[ravenclaw900](/ravenclaw900)
merged 6 commits into
[main](/ravenclaw900/DietPi-Dashboard/tree/main "ravenclaw900/DietPi-Dashboard:main")
from
[flexible-tls](/ravenclaw900/DietPi-Dashboard/tree/flexible-tls "ravenclaw900/DietPi-Dashboard:flexible-tls")

Jul 26, 2023

 Merged

# [refactor(backend): replace TLS implementation with `flexible-hyper-server-tls`](#top) #606

[ravenclaw900](/ravenclaw900)
merged 6 commits into
[main](/ravenclaw900/DietPi-Dashboard/tree/main "ravenclaw900/DietPi-Dashboard:main")
from
[flexible-tls](/ravenclaw900/DietPi-Dashboard/tree/flexible-tls "ravenclaw900/DietPi-Dashboard:flexible-tls")

Jul 26, 2023

[Conversation
6](/ravenclaw900/DietPi-Dashboard/pull/606)
[Commits
6](/ravenclaw900/DietPi-Dashboard/pull/606/commits)
[Checks
0](/ravenclaw900/DietPi-Dashboard/pull/606/checks)
[Files changed](/ravenclaw900/DietPi-Dashboard/pull/606/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=60&v=4)](/ravenclaw900)

Copy link

Owner

### @ravenclaw900 **[ravenclaw900](/ravenclaw900)** commented [Jul 25, 2023](#issue-1821245950) ‚Ä¢ edited Loading

The old TLS implementation, aside from the fact that it was not taking full advantage of Rust's flexible type system, was horribly, horribly, flawed. The main reason is it could only handle attempting 1 TLS handshake at a time. This is fine if you're working with standard clients, but it also makes the dashboard incredibly easy to DDOS. There are 2 ways to fix this: allow handling multiple handshakes at once, or add a timeout for every handshake.

I separated out the TLS implementation into its own crate, [flexible-hyper-server-tls](https://crates.io/crates/flexible-hyper-server-tls), basically completely rewrote it to make it more robust, and implemented both of the above fixes.

Just to demonstrate the shortcomings of the old TLS system, I recorded some demos.

Old: <https://asciinema.org/a/8nRKbdf7AkPLmP3QxFZUSmPwp>

New: <https://asciinema.org/a/RYtJX6zUoOC44lMujKDv3ooUH>

I'll be publishing a hotfix release soon to address these issues.

Sorry, something went wrong.

 üëç
1
 MichaIng reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)

`[refactor(backend): replace tls implementation with `flexible-hyper-se‚Ä¶](/ravenclaw900/DietPi-Dashboard/pull/606/commits/af06e9be1b1e2f94e7102f1be6f950f1b5364c11 "refactor(backend): replace tls implementation with `flexible-hyper-server-tls`

The old TLS implementation was very naive, didn't take full advantage of Rust types, and could easily be DDOSed. I rewrote it in `flexible-hyper-server-tls`, which is what we're going to use now.")`
 ‚Ä¶

`[af06e9b](/ravenclaw900/DietPi-Dashboard/pull/606/commits/af06e9be1b1e2f94e7102f1be6f950f1b5364c11)`

```
‚Ä¶rver-tls`

The old TLS implementation was very naive, didn't take full advantage of Rust types, and could easily be DDOSed. I rewrote it in `flexible-hyper-server-tls`, which is what we're going to use now.
```

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)
[ravenclaw900](/ravenclaw900)
added
the
[bug](/ravenclaw900/DietPi-Dashboard/labels/bug)
Something isn't working
label
[Jul 25, 2023](#event-9917067617)

 [![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)
[ravenclaw900](/ravenclaw900)
requested a review
from [MichaIng](/MichaIng)
[July 25, 2023 22:15](#event-9917067630)

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)
[ravenclaw900](/ravenclaw900)
self-assigned this
[Jul 25, 2023](#event-9917067678)

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)
[ravenclaw900](/ravenclaw900)
changed the title
~~refactor(backend): replace tls implementation with `flexible-hyper-server-tls`~~
refactor(backend): replace TLS implementation with `flexible-hyper-server-tls`
[Jul 25, 2023](#event-9917073077)

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)

`[style(backend): fix formatting](/ravenclaw900/DietPi-Dashboard/pull/606/commits/193d15e4c6378d8e545973f3eba816aa307659de "style(backend): fix formatting")`

`[193d15e](/ravenclaw900/DietPi-Dashboard/pull/606/commits/193d15e4c6378d8e545973f3eba816aa307659de)`

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=80&v=4)](/ravenclaw900)

Copy link

Owner

Author

### **[ravenclaw900](/ravenclaw900)** commented [Jul 26, 2023](#issuecomment-1650732121)

| I should probably make a security advisory for this. |
| --- |

All reactions

Sorry, something went wrong.

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=80&v=4)](/ravenclaw900)

Copy link

Owner

Author

### **[ravenclaw900](/ravenclaw900)** commented [Jul 26, 2023](#issuecomment-1652317959)

| Slight increase in binary size, but that's a small price to pay for doing things correctly. Still, I wonder if there's anything that can be done about it. |
| --- |

All reactions

Sorry, something went wrong.

 [ravenclaw900](/ravenclaw900)
added 4 commits
[July 26, 2023 13:57](#commits-pushed-8a19693)

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)

`[chore(Cargo.toml): bump flexible-hyper-server-tls to 0.1.1](/ravenclaw900/DietPi-Dashboard/pull/606/commits/8a1969392a3ecb5f83281f268debae0763c575b8 "chore(Cargo.toml): bump flexible-hyper-server-tls to 0.1.1")`

`[8a19693](/ravenclaw900/DietPi-Dashboard/pull/606/commits/8a1969392a3ecb5f83281f268debae0763c575b8)`

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)

`[chore(Cargo.toml): remove unnecessary tcp feature from hyper](/ravenclaw900/DietPi-Dashboard/pull/606/commits/e575796623f6868989ab4f2ecaf669abe6e8281d "chore(Cargo.toml): remove unnecessary `tcp` feature from hyper")`

`[e575796](/ravenclaw900/DietPi-Dashboard/pull/606/commits/e575796623f6868989ab4f2ecaf669abe6e8281d)`

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)

`[refactor(backend): replace futures with futures-util (no default ‚Ä¶](/ravenclaw900/DietPi-Dashboard/pull/606/commits/9b36a1491838fdf789370a19ba850b9dc0ad680d "refactor(backend): replace `futures` with `futures-util` (no default features)")`
 ‚Ä¶

`[9b36a14](/ravenclaw900/DietPi-Dashboard/pull/606/commits/9b36a1491838fdf789370a19ba850b9dc0ad680d)`

```
‚Ä¶features)
```

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)

`[style(backend): formatting](/ravenclaw900/DietPi-Dashboard/pull/606/commits/3e7ecabd6ab873c57e7938c74903a23b7a66a487 "style(backend): formatting")`

`[3e7ecab](/ravenclaw900/DietPi-Dashboard/pull/606/commits/3e7ecabd6ab873c57e7938c74903a23b7a66a487)`

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)
[ravenclaw900](/ravenclaw900)
merged commit [`2c810b3`](/ravenclaw900/DietPi-Dashboard/commit/2c810b34e49e6002a33d250e099c830453f655cb)
into
main

[Jul 26, 2023](https://github.com/ravenclaw900/DietPi-Dashboard/pull/606#event-9927867396)

 [![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)
[ravenclaw900](/ravenclaw900)
deleted the
flexible-tls

branch
[July 26, 2023 19:21](#event-9927867638)

[![@MichaIng](https://avatars.githubusercontent.com/u/28480705?s=80&u=ecc32a790b6c3892fa145a874c7e4a276d48c24f&v=4)](/MichaIng)

Copy link

Collaborator

### **[MichaIng](/MichaIng)** commented [Jul 26, 2023](#issuecomment-1652445400) ‚Ä¢ edited Loading

| I did not find time to have a closer look into the dedicated module, but based on your explanation it is pretty important indeed. Having it as dedicated crate, and published at crates.io as another step to increase trust and has a chance to get some more reviews, feedback and contributions independently of DietPi(-Dashboard). Well done, and many thanks for this heads up!  The overall code has increased, so not unexpected that the binary size increased as well a little. However, I see replacing higher level `features` with lower level `features-util` helped a little (I guess?). Anyway, as you said: Worth it!  A release would be great indeed, so I can enforce the update during next DietPi update this Saturday. |
| --- |

All reactions

Sorry, something went wrong.

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=80&v=4)](/ravenclaw900)

Copy link

Owner

Author

### **[ravenclaw900](/ravenclaw900)** commented [Jul 26, 2023](#issuecomment-1652473801) ‚Ä¢ edited Loading

| However, I see replacing higher level features with lower level features-util helped a little (I guess?).  ``` $ ls -l # --cut-- 3127352 Jul 26  2023 dietpi-dashboard-futures 3127352 Jul 26  2023 dietpi-dashboard-futures-util ```  That was the hope, but it apparently made no difference at all, since everything that wasn't used was eliminated by the compiler. Honestly, that was more for cleaning up the dependency tree, because `futures` pulled in all of its sub-crates (including `futures-util`).  A release would be great indeed  Working on it, but since I'm just cherry-picking the TLS changes onto the old 0.6.1 release, I have to deal with the old build system, which isn't working correctly on CI. Probably once I get [#594](https://github.com/ravenclaw900/DietPi-Dashboard/pull/594) merged, I'll make one more in the 0.6.x lineup before working on some actual breaking changes. |
| --- |

 üòÑ
1
 MichaIng reacted with laugh emoji

All reactions

* üòÑ
  1 reaction

Sorry, something went wrong.

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=80&v=4)](/ravenclaw900)

Copy link

Owner

Author

### **[ravenclaw900](/ravenclaw900)** commented [Jul 26, 2023](#issuecomment-1652534882) ‚Ä¢ edited Loading

| New plan: build all the release binaries using `cross` on my computer. Should get the same result, because `cross` builds are supposed to be reproducible; and I don't have to worry about breaking anything, because it's building from a different branch. |
| --- |

All reactions

Sorry, something went wrong.

[![@MichaIng](https://avatars.githubusercontent.com/u/28480705?s=80&u=ecc32a790b6c3892fa145a874c7e4a276d48c24f&v=4)](/MichaIng)

Copy link

Collaborator

### **[MichaIng](/MichaIng)** commented [Jul 27, 2023](#issuecomment-1654217655)

| Next DietPi update enforces the dashboard reinstall/update: [MichaIng/DietPi@611d775](https://github.com/MichaIng/DietPi/commit/611d775) |
| --- |

 üëç
1
 ravenclaw900 reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fravenclaw900%2FDietPi-Dashboard%2Fpull%2F606)

Reviewers

[![@MichaIng](https://avatars.githubusercontent.com/u/28480705?s=40&v=4)](/MichaIng) [MichaIng](/MichaIng)

 Awaiting requested review from MichaIng

Assignees

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900) [ravenclaw900](/ravenclaw900)

Labels

[bug](/ravenclaw900/DietPi-Dashboard/labels/bug)
Something isn't working

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

2 participants

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=52&v=4)](/ravenclaw900) [![@MichaIng](https://avatars.githubusercontent.com/u/28480705?s=52&v=4)](/MichaIng)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from asciinema.org_5708c80d_20250110_162206.html ===

[![](/images/logo-red-949d10005bb389d1ae900a13b5ac53d7.svg?vsn=d)](/)

* [Get started](https://docs.asciinema.org/getting-started/)
* [Explore](/explore)
* [Docs](https://docs.asciinema.org/)
* [Blog](http://blog.asciinema.org)
* [Forum](https://discourse.asciinema.org/)
* [Donate](https://docs.asciinema.org/donations/)

* [Hire me!](https://docs.asciinema.org/consulting/)
* [Log in
  / Sign up](/login/new)

[![](//gravatar.com/avatar/10b806505052de58f5a6f07046ca5946?s=128&d=retro)](/~ravenclaw900 "ravenclaw900")
## Dashboard Old TLS

by
[ravenclaw900](/~ravenclaw900)
1 year ago

Share

 Download

**.cast** - original recording
**.txt** - plain text version
**.gif** - animated GIF

 GNU/Linux ‚óÜ xterm-256color ‚óÜ zsh

 10871 views

##### Share this recording

√ó

## Link

Append `?t=30` to start the playback at 30s, `?t=3:20` to start the playback at 3m 20s.

## Embed image link

Use snippets below to display a screenshot linking to this recording.

Useful in places where scripts are not allowed (e.g. in a project's README file).

HTML:

Markdown:

## Embed the player

If you're embedding on your own page or on a site which permits script tags,
you can use the full player widget:

Paste the above script tag where you want the player to be displayed on your page.

---

See [embedding docs](https://docs.asciinema.org/manual/server/embedding/)
for additional options.

##### Download this recording

√ó

You can download this recording in [asciicast v2 format](https://docs.asciinema.org/manual/asciicast/v2/), as a .cast file.

[Download](https://asciinema.org/a/8nRKbdf7AkPLmP3QxFZUSmPwp.cast?dl=1)
## Replay in terminal

You can replay the downloaded recording in your terminal using the
`asciinema play`
command:

```
asciinema play 599092.cast
```

If you don't have asciinema CLI installed then [see installation instructions](https://docs.asciinema.org/manual/cli/installation/).

## Use with stand-alone player on your website

Download asciinema player from
[the releases page](https://github.com/asciinema/asciinema-player/releases)
(you only need `.js`
and `.css`
file), then use it like this:

```
<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="asciinema-player.css" />
</head>
<body>
  <div id="player"></div>
  <script src="asciinema-player.min.js"></script>
  <script>
    AsciinemaPlayer.create(
      '/assets/599092.cast',
      document.getElementById('player'),
      { cols: 80, rows: 24 }
    );
  </script>
</body>
</html>
```

See
[asciinema player quick-start guide](https://docs.asciinema.org/manual/player/quick-start/)
for full usage instructions.

##### Generate GIF from this recording

√ó

While this site doesn't provide GIF conversion at the moment, you can
still do it yourself with the help of asciinema GIF generator utility - [agg](https://docs.asciinema.org/manual/agg/).

Once you have it installed, generate a GIF with the following
command:

```
agg https://asciinema.org/a/8nRKbdf7AkPLmP3QxFZUSmPwp demo.gif
```

Or, if you already downloaded the recording file:

```
agg demo.cast demo.gif
```

Check `agg --help` for all available options. You can change font
family and size, select color theme, adjust speed and more.

See [agg manual](https://docs.asciinema.org/manual/agg/usage/) for
full usage instructions.

* [About](/about)
* [Terms of Service](/tos)
* [Privacy Policy](/privacy)

Hosted by

[![Brightbox](/images/brightbox-logo-b0ab73f337fec86f974084cf3b2626eb.svg?vsn=d)](https://www.brightbox.com)

* [Mastodon](https://fosstodon.org/%40asciinema "Follow asciinema on Mastodon")
* [Forum](https://discourse.asciinema.org "Join asciinema community discussions")
* [Matrix](https://matrix.to/#/#asciinema:matrix.org "Join asciinema Matrix room")
* [IRC](https://web.libera.chat/#asciinema "Join asciinema IRC channel")



=== Content from github.com_f73e7ef7_20250110_162208.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fravenclaw900%2FDietPi-Dashboard%2Fsecurity%2Fadvisories%2FGHSA-3jr4-9rxf-fr44)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fravenclaw900%2FDietPi-Dashboard%2Fsecurity%2Fadvisories%2FGHSA-3jr4-9rxf-fr44)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=ravenclaw900%2FDietPi-Dashboard)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ravenclaw900](/ravenclaw900)
/
**[DietPi-Dashboard](/ravenclaw900/DietPi-Dashboard)**
Public

* [Notifications](/login?return_to=%2Fravenclaw900%2FDietPi-Dashboard) You must be signed in to change notification settings
* [Fork
  17](/login?return_to=%2Fravenclaw900%2FDietPi-Dashboard)
* [Star
   129](/login?return_to=%2Fravenclaw900%2FDietPi-Dashboard)

* [Code](/ravenclaw900/DietPi-Dashboard)
* [Issues
  31](/ravenclaw900/DietPi-Dashboard/issues)
* [Pull requests
  15](/ravenclaw900/DietPi-Dashboard/pulls)
* [Actions](/ravenclaw900/DietPi-Dashboard/actions)
* [Wiki](/ravenclaw900/DietPi-Dashboard/wiki)
* [Security](/ravenclaw900/DietPi-Dashboard/security)
* [Insights](/ravenclaw900/DietPi-Dashboard/pulse)

Additional navigation options

* [Code](/ravenclaw900/DietPi-Dashboard)
* [Issues](/ravenclaw900/DietPi-Dashboard/issues)
* [Pull requests](/ravenclaw900/DietPi-Dashboard/pulls)
* [Actions](/ravenclaw900/DietPi-Dashboard/actions)
* [Wiki](/ravenclaw900/DietPi-Dashboard/wiki)
* [Security](/ravenclaw900/DietPi-Dashboard/security)
* [Insights](/ravenclaw900/DietPi-Dashboard/pulse)

# Insufficient TLS Handshake Pool leading to Denial of Service

High

[ravenclaw900](/ravenclaw900)
published
GHSA-3jr4-9rxf-fr44
Jul 26, 2023

## Package

cargo

dietpi-dashboard
([Rust](/advisories?query=ecosystem%3Arust))

## Affected versions

0.6.1

## Patched versions

0.6.2

## Description

### Summary

The dashboard only allows for one TLS handshake to be in process at a given moment. Once a TCP connection is established in HTTPS mode, it will assume that it should be waiting for a handshake, and will stay this way indefinitely until a handshake starts or some error occurs. This can be exploited by simply not starting the handshake, preventing any other TLS handshakes from getting through.

### Impact

An attacker can lock the dashboard in a state where it is waiting for a TLS handshake from the attacker, who won't provide it. This prevents any legitimate traffic from getting to the dashboard, and can last indefinitely.

### Patches

Version 0.6.2 fixes this issue with a more robust TLS handshake system that can handle multiple handshakes at once and will timeout a handshake after 10 seconds.

### Workarounds

Do not use HTTPS mode on the open internet where anyone can connect. Instead, put a reverse proxy in front of the dashboard, and have it handle any HTTPS connections. Upgrade to 0.6.2.

### References

Demonstration of attack: <https://asciinema.org/a/8nRKbdf7AkPLmP3QxFZUSmPwp?t=7>

### Severity

High

7.5

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
None

Integrity
None

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H

### CVE ID

CVE-2023-38505

### Weaknesses

[CWE-410](/advisories?query=cwe%3A410) [CWE-412](/advisories?query=cwe%3A412)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_36e72969_20250110_162207.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fravenclaw900%2FDietPi-Dashboard%2Fcommit%2F79cd78615d28f577454415e4baafe4dcd9d09666)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fravenclaw900%2FDietPi-Dashboard%2Fcommit%2F79cd78615d28f577454415e4baafe4dcd9d09666)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=ravenclaw900%2FDietPi-Dashboard)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ravenclaw900](/ravenclaw900)
/
**[DietPi-Dashboard](/ravenclaw900/DietPi-Dashboard)**
Public

* [Notifications](/login?return_to=%2Fravenclaw900%2FDietPi-Dashboard) You must be signed in to change notification settings
* [Fork
  17](/login?return_to=%2Fravenclaw900%2FDietPi-Dashboard)
* [Star
   129](/login?return_to=%2Fravenclaw900%2FDietPi-Dashboard)

* [Code](/ravenclaw900/DietPi-Dashboard)
* [Issues
  31](/ravenclaw900/DietPi-Dashboard/issues)
* [Pull requests
  15](/ravenclaw900/DietPi-Dashboard/pulls)
* [Actions](/ravenclaw900/DietPi-Dashboard/actions)
* [Wiki](/ravenclaw900/DietPi-Dashboard/wiki)
* [Security](/ravenclaw900/DietPi-Dashboard/security)
* [Insights](/ravenclaw900/DietPi-Dashboard/pulse)

Additional navigation options

* [Code](/ravenclaw900/DietPi-Dashboard)
* [Issues](/ravenclaw900/DietPi-Dashboard/issues)
* [Pull requests](/ravenclaw900/DietPi-Dashboard/pulls)
* [Actions](/ravenclaw900/DietPi-Dashboard/actions)
* [Wiki](/ravenclaw900/DietPi-Dashboard/wiki)
* [Security](/ravenclaw900/DietPi-Dashboard/security)
* [Insights](/ravenclaw900/DietPi-Dashboard/pulse)

## Commit

[Permalink](/ravenclaw900/DietPi-Dashboard/commit/79cd78615d28f577454415e4baafe4dcd9d09666)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix(backend): replace TLS implementation with `flexible-hyper-server-‚Ä¶

[Browse files](/ravenclaw900/DietPi-Dashboard/tree/79cd78615d28f577454415e4baafe4dcd9d09666)
Browse the repository at this point in the history

```
‚Ä¶tls`

The old TLS implementation was vulnerable to a DOS attack
```

* Loading branch information

[![@ravenclaw900](https://avatars.githubusercontent.com/u/50060110?s=40&v=4)](/ravenclaw900)

[ravenclaw900](/ravenclaw900/DietPi-Dashboard/commits?author=ravenclaw900 "View all commits by ravenclaw900")
committed
Jul 26, 2023

1 parent
[f260947](/ravenclaw900/DietPi-Dashboard/commit/f2609477289ebfb6225fc68bd47ff3df814959e6)

commit 79cd786

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**220 additions**
and
**273 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* Cargo.lock
  [Cargo.lock](#diff-13ee4b2252c9e516a0547f2891aa2105c3ca71c6d7a1e682c69be97998dfc87e)
* Cargo.toml
  [Cargo.toml](#diff-2e9d962a08321605940b5a657135052fbcef87b5e360662bb527c96d9a615542)
* src

  + src/main.rs
    [main.rs](#diff-42cb6807ad74b3e201c5a7ca98b911c5fa08380e942be6e4ac5807f8377f87fc)

## There are no files selected for viewing

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `79cd786`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fravenclaw900%2FDietPi-Dashboard%2Fcommit%2F79cd78615d28f577454415e4baafe4dcd9d09666) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.


