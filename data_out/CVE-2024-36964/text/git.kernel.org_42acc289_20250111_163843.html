

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Joakim Sindholt <opensource@zhasha.com> | 2024-03-18 12:22:31 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-17 11:56:08 +0200 |
| commit | [ca9b5c81f0c918c63d73d962ed8a8e231f840bc8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8)) | |
| tree | [0aed941198a3ec325530c99bde9a9f962b2d7ad7](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8) | |
| parent | [3aba6c4ec526ecb6785b2dfa9f2977e7ba99b48c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3aba6c4ec526ecb6785b2dfa9f2977e7ba99b48c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8&id2=3aba6c4ec526ecb6785b2dfa9f2977e7ba99b48c)) | |
| download | [linux-ca9b5c81f0c918c63d73d962ed8a8e231f840bc8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ca9b5c81f0c918c63d73d962ed8a8e231f840bc8.tar.gz) | |

fs/9p: only translate RWX permissions for plain 9P2000[ Upstream commit cd25e15e57e68a6b18dc9323047fe9c68b99290b ]
Garbage in plain 9P2000's perm bits is allowed through, which causes it
to be able to set (among others) the suid bit. This was presumably not
the intent since the unix extended bits are handled explicitly and
conditionally on .u.
Signed-off-by: Joakim Sindholt <opensource@zhasha.com>
Signed-off-by: Eric Van Hensbergen <ericvh@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8)

| -rw-r--r-- | [fs/9p/vfs\_inode.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/9p/vfs_inode.c?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/fs/9p/vfs\_inode.c b/fs/9p/vfs\_inode.cindex 5e2657c1dbbe64..a0c5a372dcf627 100644--- a/[fs/9p/vfs\_inode.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/9p/vfs_inode.c?id=3aba6c4ec526ecb6785b2dfa9f2977e7ba99b48c)+++ b/[fs/9p/vfs\_inode.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/9p/vfs_inode.c?id=ca9b5c81f0c918c63d73d962ed8a8e231f840bc8)@@ -85,7 +85,7 @@ static int p9mode2perm(struct v9fs\_session\_info \*v9ses, int res; int mode = stat->mode; - res = mode & S\_IALLUGO;+ res = mode & 0777; /\* S\_IRWXUGO \*/ if (v9fs\_proto\_dotu(v9ses)) { if ((mode & P9\_DMSETUID) == P9\_DMSETUID) res |= S\_ISUID; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 16:37:20 +0000

