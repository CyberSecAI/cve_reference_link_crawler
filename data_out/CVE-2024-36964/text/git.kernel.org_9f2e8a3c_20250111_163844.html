

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Joakim Sindholt <opensource@zhasha.com> | 2024-03-18 12:22:31 +0100 |
| --- | --- | --- |
| committer | Eric Van Hensbergen <ericvh@kernel.org> | 2024-03-28 13:59:23 +0000 |
| commit | [cd25e15e57e68a6b18dc9323047fe9c68b99290b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b)) | |
| tree | [53784baf6b0f0f48e9835586426e37a89f4a761c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b) | |
| parent | [8d025e2092e29bfd13e56c78e22af25fac83c8ec](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8d025e2092e29bfd13e56c78e22af25fac83c8ec) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b&id2=8d025e2092e29bfd13e56c78e22af25fac83c8ec)) | |
| download | [linux-cd25e15e57e68a6b18dc9323047fe9c68b99290b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-cd25e15e57e68a6b18dc9323047fe9c68b99290b.tar.gz) | |

fs/9p: only translate RWX permissions for plain 9P2000Garbage in plain 9P2000's perm bits is allowed through, which causes it
to be able to set (among others) the suid bit. This was presumably not
the intent since the unix extended bits are handled explicitly and
conditionally on .u.
Signed-off-by: Joakim Sindholt <opensource@zhasha.com>
Signed-off-by: Eric Van Hensbergen <ericvh@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b)

| -rw-r--r-- | [fs/9p/vfs\_inode.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/9p/vfs_inode.c?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/fs/9p/vfs\_inode.c b/fs/9p/vfs\_inode.cindex b01b1bbf249371..9612fdb563a3e7 100644--- a/[fs/9p/vfs\_inode.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/9p/vfs_inode.c?id=8d025e2092e29bfd13e56c78e22af25fac83c8ec)+++ b/[fs/9p/vfs\_inode.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/9p/vfs_inode.c?id=cd25e15e57e68a6b18dc9323047fe9c68b99290b)@@ -83,7 +83,7 @@ static int p9mode2perm(struct v9fs\_session\_info \*v9ses, int res; int mode = stat->mode; - res = mode & S\_IALLUGO;+ res = mode & 0777; /\* S\_IRWXUGO \*/ if (v9fs\_proto\_dotu(v9ses)) { if ((mode & P9\_DMSETUID) == P9\_DMSETUID) res |= S\_ISUID; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 16:37:21 +0000

