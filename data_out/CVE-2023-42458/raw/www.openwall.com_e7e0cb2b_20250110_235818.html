<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>oss-security - Plone security advisory 2023/09/21</title>

<link href="/style.css" type="text/css" rel="stylesheet">
<style type="text/css">
.calendar { text-align: center; }
.ccell { background: #ccc; width: 5ex; padding: 2px; }

.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>
</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">


<table bgcolor="#ffffff" width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>

<td>
<a href="/"><img class="logo" src="/logo.png" border="0" width="182" height="80" alt="Openwall"></a>
<td width="100%">
<div class="nav">
<ul>
<li><a href="/">Products</a>
<ul>
<li><a href="/Owl/">Openwall GNU/*/Linux &nbsp; <i>server OS</i></a>
<li><a href="/lkrg/">Linux Kernel Runtime Guard</a>
<li><a href="/john/">John the Ripper &nbsp; <i>password cracker</i></a>
<ul>
<li><a href="/john/">Free &amp; Open Source for any platform</a>
<li><a href="/john/cloud/">in the cloud</a>
<li><a href="/john/pro/linux/">Pro for Linux</a>
<li><a href="/john/pro/macosx/">Pro for macOS</a>
</ul>
<li><a href="/wordlists/">Wordlists &nbsp; <i>for password cracking</i></a>
<li><a href="/passwdqc/">passwdqc &nbsp; <i>policy enforcement</i></a>
<ul>
<li><a href="/passwdqc/">Free &amp; Open Source for Unix</a>
<li><a href="/passwdqc/windows/">Pro for Windows (Active Directory)</a>
</ul>
<li><a href="/yescrypt/">yescrypt &nbsp; <i>KDF &amp; password hashing</i></a>
<li><a href="/yespower/">yespower &nbsp; <i>Proof-of-Work (PoW)</i></a>
<li><a href="/crypt/">crypt_blowfish &nbsp; <i>password hashing</i></a>
<li><a href="/phpass/">phpass &nbsp; <i>ditto in PHP</i></a>
<li><a href="/tcb/">tcb &nbsp; <i>better password shadowing</i></a>
<li><a href="/pam/">Pluggable Authentication Modules</a>
<li><a href="/scanlogd/">scanlogd &nbsp; <i>port scan detector</i></a>
<li><a href="/popa3d/">popa3d &nbsp; <i>tiny POP3 daemon</i></a>
<li><a href="/blists/">blists &nbsp; <i>web interface to mailing lists</i></a>
<li><a href="/msulogin/">msulogin &nbsp; <i>single user mode login</i></a>
<li><a href="/php_mt_seed/">php_mt_seed &nbsp; <i>mt_rand() cracker</i></a>
</ul>
<li><a href="/services/">Services</a>
<li id="narrow-li-1"><a>Publications</a>
<ul>
<li><a href="/articles/">Articles</a>
<li><a href="/presentations/">Presentations</a>
</ul>
<li><a>Resources</a>
<ul>
<li><a href="/lists/">Mailing lists</a>
<li><a href="https://openwall.info/wiki/">Community wiki</a>
<li><a href="https://github.com/openwall">Source code repositories (GitHub)</a>
<li><a href="https://cvsweb.openwall.com">Source code repositories (CVSweb)</a>
<li><a href="/mirrors/">File archive &amp; mirrors</a>
<li><a href="/signatures/">How to verify digital signatures</a>
<li><a href="/ove/">OVE IDs</a>
</ul>
<li id="last-li"><a href="/news">What's new</a>
</ul>
</div>


</table>


<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">
<a href="https://twitter.com/openwall">
Follow @Openwall on Twitter for new release announcements and other news</a>

</TABLE>
</TABLE>

<a href="1">[&lt;prev]</a> <a href="3">[next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;1afd8036-850f-c98e-5ee8-9e95f658e82e&#64;vanrees.org&gt;
Date: Fri, 22 Sep 2023 12:14:42 +0200
From: Maurits van Rees &lt;maurits&#64;...rees.org&gt;
To: oss-security&#64;...ts.openwall.com
Subject: Plone security advisory 2023/09/21

Various vulnerabilities in Plone and Zope have been reported and fixed. 
They affect all supported Plone versions: 5.2 and 6.0. Older Plone 
versions are likely also affected.
There will be no traditional hotfix package for these: you should update 
the version pins of individual packages. See [this 
post](<a href="https://community.plone.org/t/less-plone-hotfix-packages/17931?u=mauritsvanrees" rel="nofollow">https://community.plone.org/t/less-plone-hotfix-packages/17931?u=mauritsvanrees</a>) 
about why we do less hotfix packages.

The information can be found here:
<a href="https://community.plone.org/t/plone-security-advisory-2023-09-21/17941" rel="nofollow">https://community.plone.org/t/plone-security-advisory-2023-09-21/17941</a>
<a href="https://plone.org/security/hotfix/20230921" rel="nofollow">https://plone.org/security/hotfix/20230921</a>

The text is included below.


## Denial of service

In `plone.rest` when the `++api++` traverser is accidentally used 
multiple times in a url, handling it takes increasingly longer, making 
the server less responsive.

Security advisory: 
[CVE-2023-42457](<a href="https://github.com/plone/plone.rest/security/advisories/GHSA-h6rp-mprm-xgcq" rel="nofollow">https://github.com/plone/plone.rest/security/advisories/GHSA-h6rp-mprm-xgcq</a>).

## Stored XSS

There is a stored cross site scripting vulnerability for SVG images. A 
[security hotfix from 
2021](<a href="https://github.com/plone/Products.PloneHotfix20210518" rel="nofollow">https://github.com/plone/Products.PloneHotfix20210518</a>) already 
partially fixed this, by making sure SVG images are always downloaded 
instead of shown inline. But the same problem still exists for *scales* 
of SVG images. And it exists for *user portraits*, both in Volto and 
ClassicUI.

Technically, ClassicUI is not vulnerable for the user portrait part, 
because you cannot upload an SVG as user portrait. But in Volto you can, 
so you may be able to access a vulnerable url in the backend anyway.

Note that a page that uses an image tag with an SVG image as source is 
never vulnerable, even when the SVG image contains malicious code. To 
exploit the vulnerability, an attacker would first need to upload a 
malicious SVG image, and then trick a user into following a specially 
crafted link.

Fixes are needed in three packages. We link to the security advisories:

* 
[`plone.namedfile`](<a href="https://github.com/plone/plone.namedfile/security/advisories/GHSA-jj7c-jrv4-c65x" rel="nofollow">https://github.com/plone/plone.namedfile/security/advisories/GHSA-jj7c-jrv4-c65x</a>) 
CVE-2023-41048
* 
[`Zope`](<a href="https://github.com/zopefoundation/Zope/security/advisories/GHSA-wm8q-9975-xh5v" rel="nofollow">https://github.com/zopefoundation/Zope/security/advisories/GHSA-wm8q-9975-xh5v</a>) 
CVE-2023-42458
* 
[`plone.restapi`](<a href="https://github.com/plone/plone.restapi/security/advisories/GHSA-hc5c-r8m5-2gfh" rel="nofollow">https://github.com/plone/plone.restapi/security/advisories/GHSA-hc5c-r8m5-2gfh</a>) 
also CVE-2023-42458

## Information disclosure and sandbox escape

Earlier this month, new Zope releases were made, which included security 
releases of `AccessControl` and `RestrictedPython` . See the [community 
announcement](<a href="https://community.plone.org/t/zope-4-8-9-and-5-8-4-released-with-a-security-fix/17849" rel="nofollow">https://community.plone.org/t/zope-4-8-9-and-5-8-4-released-with-a-security-fix/17849</a>).

## Fixed Plone versions

All needed packages are included in Plone 5.2.14 and 6.0.7 which have 
just been released.

## Package versions

If you cannot or do not want to upgrade your entire Plone version, you 
can upgrade individual package versions.

Fixes are available in these versions:

```
AccessControl = 4.4, 5.8, 6.2
RestrictedPython = 5.4, 6.2
plone.namedfile = 5.6.1, 6.0.3, 6.1.3, 6.2.1
plone.rest = 2.0.1, 3.0.1
plone.restapi = 8.43.4
Zope = 4.8.10, 5.8.5
```

If you are using Buildout, then for the `Zope`, `AccessControl` and 
`RestrictedPython` versions it is best to update the `[buildout] 
extends` lines to include the following.

For Plone 5.2: 
<a href="https://zopefoundation.github.io/Zope/releases/4.8.10/versions.cfg" rel="nofollow">https://zopefoundation.github.io/Zope/releases/4.8.10/versions.cfg</a>

For Plone 6: 
<a href="https://zopefoundation.github.io/Zope/releases/5.8.5/versions.cfg" rel="nofollow">https://zopefoundation.github.io/Zope/releases/5.8.5/versions.cfg</a>

So which versions of these packages should you use on which Plone version?

To avoid surprises, you should use the version that is closest to the 
version you are already using. If you use the default versions, the 
following should help. This uses the Buildout notation. If you use a pip 
constraints file, you should use a double equals sign.

### Plone 5.2

```
AccessControl = 4.4
plone.namedfile = 5.6.1
RestrictedPython = 5.4
Zope = 4.8.10
```

If you run Plone 5.2 on Python 3, and you are already using 
`plone.restapi` 8, then you can additionally use:

```
plone.restapi = 8.43.4
```

### Plone 6.0.0/6.0.1

```
AccessControl = 5.8
plone.namedfile = 6.0.3
plone.rest = 2.0.1
plone.restapi = 8.43.4
RestrictedPython = 6.2
Zope = 5.8.5
```

### Plone 6.0.2

```
AccessControl = 5.8
plone.namedfile = 6.0.3
plone.rest = 3.0.1
plone.restapi = 8.43.4
RestrictedPython = 6.2
Zope = 5.8.5
```

### Plone 6.0.3/6.0.4

```
AccessControl = 6.2
plone.namedfile = 6.0.3
plone.rest = 3.0.1
plone.restapi = 8.43.4
RestrictedPython = 6.2
Zope = 5.8.5
```

### Plone 6.0.5/6.0.6

```
AccessControl = 6.2
plone.namedfile = 6.1.3
plone.rest = 3.0.1
plone.restapi = 8.43.4
RestrictedPython = 6.2
Zope = 5.8.5
```

If you are having problems with the installation, or see regressions, 
please make a post in this thread, and anyone can help you.

If you see further security problems, please [mail the Plone/Zope 
Security Team](mailto:security&#64;...ne.org).


-- 
Maurits van Rees <a href="https://maurits.vanrees.org/" rel="nofollow">https://maurits.vanrees.org/</a>
Plone/Zope Security Team

</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>
Please check out the
<a href="https://oss-security.openwall.org/wiki/">
Open Source Software Security Wiki</a>, which is counterpart to this
<a href="https://oss-security.openwall.org/wiki/mailing-lists/oss-security">mailing list</a>.
<p>
Confused about <a href="/lists/">mailing lists</a> and their use?
<a href="https://en.wikipedia.org/wiki/Electronic_mailing_list">Read about mailing lists on Wikipedia</a>
and check out these
<a href="https://www.complang.tuwien.ac.at/anton/mail-news-errors.html">guidelines on proper formatting of your messages</a>.
<p>

</body>
</html>
