
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fissues%2F55199)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fissues%2F55199)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=tensorflow%2Ftensorflow)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[tensorflow](/tensorflow)
/
**[tensorflow](/tensorflow/tensorflow)**
Public

* [Notifications](/login?return_to=%2Ftensorflow%2Ftensorflow) You must be signed in to change notification settings
* [Fork
  74.4k](/login?return_to=%2Ftensorflow%2Ftensorflow)
* [Star
   187k](/login?return_to=%2Ftensorflow%2Ftensorflow)

* [Code](/tensorflow/tensorflow)
* [Issues
  831](/tensorflow/tensorflow/issues)
* [Pull requests
  5k+](/tensorflow/tensorflow/pulls)
* [Actions](/tensorflow/tensorflow/actions)
* [Projects
  2](/tensorflow/tensorflow/projects)
* [Security](/tensorflow/tensorflow/security)
* [Insights](/tensorflow/tensorflow/pulse)

Additional navigation options

* [Code](/tensorflow/tensorflow)
* [Issues](/tensorflow/tensorflow/issues)
* [Pull requests](/tensorflow/tensorflow/pulls)
* [Actions](/tensorflow/tensorflow/actions)
* [Projects](/tensorflow/tensorflow/projects)
* [Security](/tensorflow/tensorflow/security)
* [Insights](/tensorflow/tensorflow/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Ftensorflow%2Ftensorflow%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Ftensorflow%2Ftensorflow%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Missing input validation on `tf.ragged.constant` #55199

Closed

[kanghj](/kanghj) opened this issue
Mar 11, 2022
· 4 comments

Closed

# [Missing input validation on `tf.ragged.constant`](#top) #55199

[kanghj](/kanghj) opened this issue
Mar 11, 2022
· 4 comments

Assignees
[![@rthadur](https://avatars.githubusercontent.com/u/43972606?s=40&v=4)](/rthadur)

Labels
[comp:ops](/tensorflow/tensorflow/labels/comp%3Aops)
OPs related issues
[TF 2.8](/tensorflow/tensorflow/labels/TF%202.8)
[type:bug](/tensorflow/tensorflow/labels/type%3Abug)
Bug

## Comments

[![@kanghj](https://avatars.githubusercontent.com/u/2216119?s=80&v=4)](/kanghj)

Copy link

### **[kanghj](/kanghj)** commented [Mar 11, 2022](#issue-1166219297) • edited Loading

| *Please make sure that this is a bug. As per our [GitHub Policy](https://github.com/tensorflow/tensorflow/blob/master/ISSUES.md), we only address code/doc bugs, performance issues, feature requests and build/installation issues on GitHub. tag:bug\_template*  **System information**   * Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes * OS Platform and Distribution (e.g., Linux Ubuntu 16.04): * Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: * TensorFlow installed from (source or binary): * TensorFlow version (use command below):2.8.0 * Python version: 3.7.12 * Bazel version (if compiling from source): * GCC/Compiler version (if compiling from source): * CUDA/cuDNN version: using a colab notebook * GPU model and memory: using a colab notebook   You can collect some of this information using our environment capture [script](https://github.com/tensorflow/tensorflow/tree/master/tools/tf_env_collect.sh) You can also obtain the TensorFlow version with:   1. TF 1.0: `python -c "import tensorflow as tf; print(tf.GIT_VERSION, tf.VERSION)"` 2. TF 2.0: `python -c "import tensorflow as tf; print(tf.version.GIT_VERSION, tf.version.VERSION)"`   **Describe the current behavior**  If I pass an empty list with a large ragged\_rank to `tf.ragged.constant`, all RAM is consumed, causing the notebook to crash. The docs indicate that ragged\_rank should be between 0 and the rank of pylist, so the large value of ragged\_rank should be rejected  **Describe the expected behavior**  Some input validation should be done and an exception thrown.  **[Contributing](https://www.tensorflow.org/community/contribute)**   * Do you want to contribute a PR? (yes/no): * Briefly describe your candidate solution(if contributing):   **Standalone code to reproduce the issue** Provide a reproducible test case that is the bare minimum necessary to generate the problem. If possible, please share a link to Colab/Jupyter/any notebook. The colab notebook: <https://colab.research.google.com/drive/1OyQNTCiqHKjmHKfYbSOmVt4EfkLEgsNA?usp=sharing>  ``` import tensorflow as tf tf.ragged.constant(pylist=[],ragged_rank=8968073515812833920)  ```  **Other info / logs** Include any logs or source code that would be helpful to diagnose the problem. If including tracebacks, please include the full traceback. Large logs and files should be attached. |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@kanghj](https://avatars.githubusercontent.com/u/2216119?s=40&v=4)](/kanghj)
[kanghj](/kanghj)
added
the
[type:bug](/tensorflow/tensorflow/labels/type%3Abug)
Bug
label
[Mar 11, 2022](#event-6223693521)

[![@google-ml-butler](https://avatars.githubusercontent.com/in/43729?s=40&v=4)](/apps/google-ml-butler)
[google-ml-butler](/apps/google-ml-butler)
bot
assigned [sushreebarsa](/sushreebarsa)
[Mar 11, 2022](#event-6223693958)

[![@sushreebarsa](https://avatars.githubusercontent.com/u/84765720?s=40&v=4)](/sushreebarsa)
[sushreebarsa](/sushreebarsa)
added
[comp:ops](/tensorflow/tensorflow/labels/comp%3Aops)
OPs related issues
[TF 2.8](/tensorflow/tensorflow/labels/TF%202.8)
labels
[Mar 14, 2022](#event-6235888275)

[![@sushreebarsa](https://avatars.githubusercontent.com/u/84765720?s=80&v=4)](/sushreebarsa)

Copy link

Contributor

### **[sushreebarsa](/sushreebarsa)** commented [Mar 14, 2022](#issuecomment-1066851491)

| [@kanghj](https://github.com/kanghj) In order to expedite the trouble-shooting process ,could you please provide the access to the colab ? Thanks! |
| --- |

All reactions

Sorry, something went wrong.

[![@sushreebarsa](https://avatars.githubusercontent.com/u/84765720?s=40&v=4)](/sushreebarsa)
[sushreebarsa](/sushreebarsa)
added
the
[stat:awaiting response](/tensorflow/tensorflow/labels/stat%3Aawaiting%20response)
Status - Awaiting response from author
label
[Mar 14, 2022](#event-6235907237)

[![@kanghj](https://avatars.githubusercontent.com/u/2216119?s=80&v=4)](/kanghj)

Copy link

Author

### **[kanghj](/kanghj)** commented [Mar 14, 2022](#issuecomment-1066857400)

| Sorry, my bad, [@sushreebarsa](https://github.com/sushreebarsa). I have updated the access permissions to the colab. Could you try again? <https://colab.research.google.com/drive/1OyQNTCiqHKjmHKfYbSOmVt4EfkLEgsNA?usp=sharing> |
| --- |

All reactions

Sorry, something went wrong.

[![@tensorflowbutler](https://avatars.githubusercontent.com/u/28546240?s=40&u=b48f9e29408352d710d14ae202f6f62fa4231887&v=4)](/tensorflowbutler)
[tensorflowbutler](/tensorflowbutler)
removed
the
[stat:awaiting response](/tensorflow/tensorflow/labels/stat%3Aawaiting%20response)
Status - Awaiting response from author
label
[Mar 17, 2022](#event-6254877385)

[![@sushreebarsa](https://avatars.githubusercontent.com/u/84765720?s=80&v=4)](/sushreebarsa)

Copy link

Contributor

### **[sushreebarsa](/sushreebarsa)** commented [Mar 17, 2022](#issuecomment-1070386802)

| [@gadagashwini](https://github.com/gadagashwini) I was able to replicate the issue on colab using TF v2.8.0 and tf-nightly , please find the gist [here](https://colab.research.google.com/gist/sushreebarsa/11d6f95170371155c6e464b721f57a77/55199.ipynb) for reference.Thanks! |
| --- |

All reactions

Sorry, something went wrong.

[![@sushreebarsa](https://avatars.githubusercontent.com/u/84765720?s=40&v=4)](/sushreebarsa)
[sushreebarsa](/sushreebarsa)
assigned [gadagashwini](/gadagashwini) and unassigned [sushreebarsa](/sushreebarsa)
[Mar 17, 2022](#event-6256404792)

[![@gadagashwini](https://avatars.githubusercontent.com/u/99852755?s=40&v=4)](/gadagashwini)
[gadagashwini](/gadagashwini)
assigned [sachinprasadhs](/sachinprasadhs) and unassigned [gadagashwini](/gadagashwini)
[Mar 23, 2022](#event-6288388628)

[![@rthadur](https://avatars.githubusercontent.com/u/43972606?s=40&v=4)](/rthadur)
[rthadur](/rthadur)
mentioned this issue
[Apr 10, 2022](#ref-pullrequest-1199070390)

[Fix issue with tf.ragged.constant when empty pylist is provided
#55567](/tensorflow/tensorflow/pull/55567)
 Closed

[rthadur](/rthadur)
added a commit
that referenced
this issue
[Apr 10, 2022](#ref-commit-94b9b4c)
[![@rthadur](https://avatars.githubusercontent.com/u/43972606?s=40&v=4)](/rthadur)

`[Update ragged_factory_ops.py](/tensorflow/tensorflow/commit/94b9b4c0c9e5ff8c2d7c7bd9f9cdc9e4ef7eeb8c "Update ragged_factory_ops.py

Fixes https://github.com/tensorflow/tensorflow/issues/55199")`
…

`[94b9b4c](/tensorflow/tensorflow/commit/94b9b4c0c9e5ff8c2d7c7bd9f9cdc9e4ef7eeb8c)`

```
Fixes [#55199](https://github.com/tensorflow/tensorflow/issues/55199)
```

[![@sachinprasadhs](https://avatars.githubusercontent.com/u/73069040?s=40&u=c73d4a1b1d1dd9d2429212c11bc8b77170692bf6&v=4)](/sachinprasadhs)
[sachinprasadhs](/sachinprasadhs)
assigned [rthadur](/rthadur) and unassigned [sachinprasadhs](/sachinprasadhs)
[Apr 13, 2022](#event-6429121538)

[![@copybara-service](https://avatars.githubusercontent.com/in/44061?s=40&v=4)](/apps/copybara-service)
[copybara-service](/apps/copybara-service)
bot
closed this as [completed](/tensorflow/tensorflow/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
`[bd4d558](/tensorflow/tensorflow/commit/bd4d5583ff9c8df26d47a23e508208844297310e)`
[Apr 15, 2022](#event-6441132265)

[![@google-ml-butler](https://avatars.githubusercontent.com/in/43729?s=80&v=4)](/apps/google-ml-butler)

Copy link

### **[google-ml-butler](/apps/google-ml-butler) bot** commented [Apr 15, 2022](#issuecomment-1100205813)

| Are you satisfied with the resolution of your issue? [Yes](https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/55199) [No](https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/55199) |
| --- |

All reactions

Sorry, something went wrong.

[tensorflow-jenkins](/tensorflow-jenkins)
pushed a commit
that referenced
this issue
[May 4, 2022](#ref-commit-a2e31c2)
[![@mihaimaruseac](https://avatars.githubusercontent.com/u/323199?s=40&u=3606bf51cc6bc14acbb068eb4ae4eacc96083bed&v=4)](/mihaimaruseac) [![@tensorflow-jenkins](https://avatars.githubusercontent.com/u/16359713?s=40&v=4)](/tensorflow-jenkins)

`[Prevent denial of service in tf.ragged.constant](/tensorflow/tensorflow/commit/a2e31c29c75f7c741488361ed040a69511084acc "Prevent denial of service in `tf.ragged.constant`

Fixes #55199

PiperOrigin-RevId: 442029525")`
…

`[a2e31c2](/tensorflow/tensorflow/commit/a2e31c29c75f7c741488361ed040a69511084acc)`

```
Fixes [#55199](https://github.com/tensorflow/tensorflow/issues/55199)

PiperOrigin-RevId: 442029525
```

[tensorflow-jenkins](/tensorflow-jenkins)
pushed a commit
that referenced
this issue
[May 4, 2022](#ref-commit-1ca14da)
[![@mihaimaruseac](https://avatars.githubusercontent.com/u/323199?s=40&u=3606bf51cc6bc14acbb068eb4ae4eacc96083bed&v=4)](/mihaimaruseac) [![@tensorflow-jenkins](https://avatars.githubusercontent.com/u/16359713?s=40&v=4)](/tensorflow-jenkins)

`[Prevent denial of service in tf.ragged.constant](/tensorflow/tensorflow/commit/1ca14da20bc0e2c0c74ed96d94f99b3894a097f7 "Prevent denial of service in `tf.ragged.constant`

Fixes #55199

PiperOrigin-RevId: 442029525")`
…

`[1ca14da](/tensorflow/tensorflow/commit/1ca14da20bc0e2c0c74ed96d94f99b3894a097f7)`

```
Fixes [#55199](https://github.com/tensorflow/tensorflow/issues/55199)

PiperOrigin-RevId: 442029525
```

[tensorflow-jenkins](/tensorflow-jenkins)
pushed a commit
that referenced
this issue
[May 4, 2022](#ref-commit-e264676)
[![@mihaimaruseac](https://avatars.githubusercontent.com/u/323199?s=40&u=3606bf51cc6bc14acbb068eb4ae4eacc96083bed&v=4)](/mihaimaruseac) [![@tensorflow-jenkins](https://avatars.githubusercontent.com/u/16359713?s=40&v=4)](/tensorflow-jenkins)

`[Prevent denial of service in tf.ragged.constant](/tensorflow/tensorflow/commit/e26467672f4252d0a22c8d20dd40dfd04d458b7f "Prevent denial of service in `tf.ragged.constant`

Fixes #55199

PiperOrigin-RevId: 442029525")`
…

`[e264676](/tensorflow/tensorflow/commit/e26467672f4252d0a22c8d20dd40dfd04d458b7f)`

```
Fixes [#55199](https://github.com/tensorflow/tensorflow/issues/55199)

PiperOrigin-RevId: 442029525
```

[tensorflow-jenkins](/tensorflow-jenkins)
pushed a commit
that referenced
this issue
[May 4, 2022](#ref-commit-78ea939)
[![@mihaimaruseac](https://avatars.githubusercontent.com/u/323199?s=40&u=3606bf51cc6bc14acbb068eb4ae4eacc96083bed&v=4)](/mihaimaruseac) [![@tensorflow-jenkins](https://avatars.githubusercontent.com/u/16359713?s=40&v=4)](/tensorflow-jenkins)

`[Prevent denial of service in tf.ragged.constant](/tensorflow/tensorflow/commit/78ea939ba50c25a17a97f4d597df753960e377ff "Prevent denial of service in `tf.ragged.constant`

Fixes #55199

PiperOrigin-RevId: 442029525")`
…

`[78ea939](/tensorflow/tensorflow/commit/78ea939ba50c25a17a97f4d597df753960e377ff)`

```
Fixes [#55199](https://github.com/tensorflow/tensorflow/issues/55199)

PiperOrigin-RevId: 442029525
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fissues%2F55199)

Assignees

[![@rthadur](https://avatars.githubusercontent.com/u/43972606?s=40&v=4)](/rthadur) [rthadur](/rthadur)

Labels

[comp:ops](/tensorflow/tensorflow/labels/comp%3Aops)
OPs related issues
[TF 2.8](/tensorflow/tensorflow/labels/TF%202.8)
[type:bug](/tensorflow/tensorflow/labels/type%3Abug)
Bug

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [Fix issue with tf.ragged.constant when empty pylist is provided](/tensorflow/tensorflow/pull/55567)
 [tensorflow/tensorflow](/tensorflow/tensorflow)

6 participants

[![@kanghj](https://avatars.githubusercontent.com/u/2216119?s=52&v=4)](/kanghj) [![@tensorflowbutler](https://avatars.githubusercontent.com/u/28546240?s=52&v=4)](/tensorflowbutler) [![@rthadur](https://avatars.githubusercontent.com/u/43972606?s=52&v=4)](/rthadur) [![@sachinprasadhs](https://avatars.githubusercontent.com/u/73069040?s=52&v=4)](/sachinprasadhs) [![@sushreebarsa](https://avatars.githubusercontent.com/u/84765720?s=52&v=4)](/sushreebarsa) [![@gadagashwini](https://avatars.githubusercontent.com/u/99852755?s=52&v=4)](/gadagashwini)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

