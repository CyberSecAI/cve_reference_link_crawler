

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3032008%2540podlove-podcasting-plugin-for-wordpress%26old%3D3032008%2540podlove-podcasting-plugin-for-wordpress)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3026472/podlove-podcasting-plugin-for-wordpress "Changeset 3026472 for podlove-podcasting-plugin-for-wordpress")
* [Next Change](/changeset/3034125/podlove-podcasting-plugin-for-wordpress "Changeset 3034125 for podlove-podcasting-plugin-for-wordpress") →

---

# Changeset [3032008](/changeset/3032008 "Show full changeset") for [podlove-podcasting-plugin-for-wordpress](/browser/podlove-podcasting-plugin-for-wordpress?rev=3032008 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
02/06/2024 08:00:23 AM
([11 months](/timeline?from=2024-02-06T08%3A00%3A23Z&precision=second "See timeline at 02/06/2024 08:00:23 AM") ago)

Author:
eteubert
Message:

Update to version 4.0.12 from GitHub

Location:
[podlove-podcasting-plugin-for-wordpress](/browser/podlove-podcasting-plugin-for-wordpress?rev=3032008)
Files:

20 edited
1 copied

* [tags/4.0.12](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12?rev=3032008 "Show entry in browser")
  (copied)
  *(copied from [podlove-podcasting-plugin-for-wordpress/trunk](/browser/podlove-podcasting-plugin-for-wordpress/trunk?rev=3026472 "Show original file (revision 3032007)"))*
* [tags/4.0.12/.php-cs-fixer.dist.php](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/.php-cs-fixer.dist.php?rev=3032008 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [tags/4.0.12/lib/modules/import\_export/export/podcast\_exporter.php](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/export/podcast_exporter.php?rev=3032008 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [tags/4.0.12/lib/modules/import\_export/export/tracking\_exporter.php](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/export/tracking_exporter.php?rev=3032008 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [tags/4.0.12/lib/modules/import\_export/import/podcast\_importer.php](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import/podcast_importer.php?rev=3032008 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [tags/4.0.12/lib/modules/import\_export/import/tracking\_importer.php](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import/tracking_importer.php?rev=3032008 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [tags/4.0.12/lib/modules/import\_export/import\_export.php](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import_export.php?rev=3032008 "Show entry in browser")
  (modified)
  ([6 diffs](#file6 "Show differences"))
* [tags/4.0.12/lib/modules/slack\_shownotes/slack\_shownotes.php](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/slack_shownotes/slack_shownotes.php?rev=3032008 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [tags/4.0.12/podlove.php](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/podlove.php?rev=3032008 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [tags/4.0.12/readme.txt](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/readme.txt?rev=3032008 "Show entry in browser")
  (modified)
  ([2 diffs](#file9 "Show differences"))
* [tags/4.0.12/vendor/composer/installed.php](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/vendor/composer/installed.php?rev=3032008 "Show entry in browser")
  (modified)
  ([2 diffs](#file10 "Show differences"))
* [trunk/.php-cs-fixer.dist.php](/browser/podlove-podcasting-plugin-for-wordpress/trunk/.php-cs-fixer.dist.php?rev=3032008 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [trunk/lib/modules/import\_export/export/podcast\_exporter.php](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/podcast_exporter.php?rev=3032008 "Show entry in browser")
  (modified)
  ([2 diffs](#file12 "Show differences"))
* [trunk/lib/modules/import\_export/export/tracking\_exporter.php](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/tracking_exporter.php?rev=3032008 "Show entry in browser")
  (modified)
  ([2 diffs](#file13 "Show differences"))
* [trunk/lib/modules/import\_export/import/podcast\_importer.php](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/podcast_importer.php?rev=3032008 "Show entry in browser")
  (modified)
  ([1 diff](#file14 "Show differences"))
* [trunk/lib/modules/import\_export/import/tracking\_importer.php](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/tracking_importer.php?rev=3032008 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [trunk/lib/modules/import\_export/import\_export.php](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=3032008 "Show entry in browser")
  (modified)
  ([6 diffs](#file16 "Show differences"))
* [trunk/lib/modules/slack\_shownotes/slack\_shownotes.php](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/slack_shownotes/slack_shownotes.php?rev=3032008 "Show entry in browser")
  (modified)
  ([1 diff](#file17 "Show differences"))
* [trunk/podlove.php](/browser/podlove-podcasting-plugin-for-wordpress/trunk/podlove.php?rev=3032008 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))
* [trunk/readme.txt](/browser/podlove-podcasting-plugin-for-wordpress/trunk/readme.txt?rev=3032008 "Show entry in browser")
  (modified)
  ([2 diffs](#file19 "Show differences"))
* [trunk/vendor/composer/installed.php](/browser/podlove-podcasting-plugin-for-wordpress/trunk/vendor/composer/installed.php?rev=3032008 "Show entry in browser")
  (modified)
  ([2 diffs](#file20 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [podlove-podcasting-plugin-for-wordpress/tags/4.0.12/.php-cs-fixer.dist.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/.php-cs-fixer.dist.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/tags/4.0.12/.php-cs-fixer.dist.php")

  | [r2598235](/browser/podlove-podcasting-plugin-for-wordpress/trunk/.php-cs-fixer.dist.php?rev=2598235#L12 "Show revision 2598235 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/.php-cs-fixer.dist.php?rev=3032008#L12 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 12 | 12 | '@PhpCsFixer' => true, |
  | 13 | 13 | 'yoda\_style' => false, |
  |  | 14 | 'fully\_qualified\_strict\_types' => false, |
  | 14 | 15 | 'array\_syntax' => ['syntax' => 'short'], |
  | 15 | 16 | 'trailing\_comma\_in\_multiline' => false, |
* ## [podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import\_export/export/podcast\_exporter.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/export/podcast_exporter.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/export/podcast_exporter.php")

  | [r2377370](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/podcast_exporter.php?rev=2377370#L31 "Show revision 2377370 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/export/podcast_exporter.php?rev=3032008#L31 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 31 | 31 |  |
  | 32 | 32 | if (isset($\_GET['podlove\_export']) && $\_GET['podlove\_export']) { |
  |  | 33 | if (!current\_user\_can('administrator')) { |
  |  | 34 | return; |
  |  | 35 | } |
  |  | 36 |  |
  |  | 37 | if (!wp\_verify\_nonce($\_REQUEST['\_podlove\_nonce'], 'podlove\_export')) { |
  |  | 38 | return; |
  |  | 39 | } |
  |  | 40 |  |
  | 33 | 41 | $exporter = new \Podlove\Modules\ImportExport\Export\PodcastExporter(); |
  | 34 | 42 | $exporter->download(); |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/podcast_exporter.php?rev=2377370#L135) | […](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/export/podcast_exporter.php?rev=3032008#L143) |  |
  | 135 | 143 | $xml\_item = $xml\_group->addChild("xmlns:wpe:{$item\_name}"); |
  | 136 | 144 | foreach ($table\_class::property\_names() as $property\_name) { |
  | 137 |  | if (strlen($mediafile->{$property\_name}) === 0) { |
  |  | 145 | if (is\_null($mediafile->{$property\_name}) || strlen($mediafile->{$property\_name}) === 0) { |
  | 138 | 146 | continue; |
  | 139 | 147 | } |
* ## [podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import\_export/export/tracking\_exporter.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/export/tracking_exporter.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/export/tracking_exporter.php")

  | [r2377370](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/tracking_exporter.php?rev=2377370#L20 "Show revision 2377370 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/export/tracking_exporter.php?rev=3032008#L20 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 20 | 20 |  |
  | 21 | 21 | if (isset($\_GET['podlove\_export\_tracking']) && $\_GET['podlove\_export\_tracking']) { |
  |  | 22 | if (!current\_user\_can('administrator')) { |
  |  | 23 | exit; |
  |  | 24 | } |
  |  | 25 |  |
  |  | 26 | if (!wp\_verify\_nonce($\_REQUEST['\_podlove\_nonce'], 'podlove\_export\_tracking\_download')) { |
  |  | 27 | exit; |
  |  | 28 | } |
  |  | 29 |  |
  | 22 | 30 | delete\_transient('podlove\_tracking\_export\_finished'); |
  | 23 | 31 |  |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/tracking_exporter.php?rev=2377370#L44) | […](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/export/tracking_exporter.php?rev=3032008#L52) |  |
  | 44 | 52 | global $wpdb; |
  | 45 | 53 |  |
  |  | 54 | if (!current\_user\_can('administrator')) { |
  |  | 55 | exit; |
  |  | 56 | } |
  |  | 57 |  |
  |  | 58 | if (!wp\_verify\_nonce($\_REQUEST['\_podlove\_nonce'], 'podlove\_export\_tracking')) { |
  |  | 59 | exit; |
  |  | 60 | } |
  |  | 61 |  |
  | 46 | 62 | // only one export at a time |
  | 47 | 63 | if (get\_option('podlove\_tracking\_export\_all') !== false) { |
  | 48 |  | ~~return~~; |
  |  | 64 | exit; |
  | 49 | 65 | } |
  | 50 | 66 |  |
* ## [podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import\_export/import/podcast\_importer.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import/podcast_importer.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import/podcast_importer.php")

  | [r2377370](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/podcast_importer.php?rev=2377370#L28 "Show revision 2377370 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import/podcast_importer.php?rev=3032008#L28 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 28 | 28 |  |
  | 29 | 29 | if (!isset($\_FILES['podlove\_import'])) { |
  |  | 30 | return; |
  |  | 31 | } |
  |  | 32 |  |
  |  | 33 | if (!current\_user\_can('administrator')) { |
  |  | 34 | return; |
  |  | 35 | } |
  |  | 36 |  |
  |  | 37 | if (!wp\_verify\_nonce($\_REQUEST['\_podlove\_nonce'], 'podlove\_import')) { |
  | 30 | 38 | return; |
  | 31 | 39 | } |
* ## [podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import\_export/import/tracking\_importer.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import/tracking_importer.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import/tracking_importer.php")

  | [r2377370](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/tracking_importer.php?rev=2377370#L22 "Show revision 2377370 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import/tracking_importer.php?rev=3032008#L22 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 |  |
  | 23 | 23 | if (!isset($\_FILES['podlove\_import\_tracking'])) { |
  |  | 24 | return; |
  |  | 25 | } |
  |  | 26 |  |
  |  | 27 | if (!current\_user\_can('administrator')) { |
  |  | 28 | return; |
  |  | 29 | } |
  |  | 30 |  |
  |  | 31 | if (!wp\_verify\_nonce($\_REQUEST['\_podlove\_nonce'], 'podlove\_import\_tracking')) { |
  | 24 | 32 | return; |
  | 25 | 33 | } |
* ## [podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import\_export/import\_export.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import_export.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import_export.php")

  | [r2377370](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L124 "Show revision 2377370 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import_export.php?rev=3032008#L124 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 124 | 124 | </ol> |
  | 125 | 125 |  |
  | 126 |  | <a href="?podlove\_export=1" class="button"><?php echo \_\_('Export Podcast Data', 'podlove-podcasting-plugin-for-wordpress'); ?></a> |
  |  | 126 | <a href="?podlove\_export=1&\_podlove\_nonce=<?php echo wp\_create\_nonce('podlove\_export'); ?>" class="button"><?php echo \_\_('Export Podcast Data', 'podlove-podcasting-plugin-for-wordpress'); ?></a> |
  | 127 | 127 | <?php |
  | 128 | 128 | } |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L169) | […](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import_export.php?rev=3032008#L169) |  |
  | 169 | 169 |  |
  | 170 | 170 | timeoutID = window.setTimeout(podlove\_check\_export\_status, 1000); |
  | 171 |  | } |
  |  | 171 | } |
  | 172 | 172 |  |
  | 173 | 173 | if (result.finished) { |
  | 174 | 174 | $("#podlove\_tracking\_export").attr('disabled', false); |
  | 175 | 175 | $("#podlove\_tracking\_export\_status\_wrapper").hide(); |
  | 176 |  | window.location = window.location + "&podlove\_export\_tracking=1"; |
  |  | 176 | window.location = window.location + "&podlove\_export\_tracking=1&\_podlove\_nonce=<?php echo wp\_create\_nonce('podlove\_export\_tracking\_download'); ?>"; |
  | 177 | 177 | } |
  | 178 | 178 | } |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L188) | […](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import_export.php?rev=3032008#L188) |  |
  | 188 | 188 | $.ajax({ |
  | 189 | 189 | url: ajaxurl, |
  | 190 |  | data: {action: 'podlove-export-tracking'}, |
  | 191 |  | dataType: 'json'~~,~~ |
  | 192 |  | ~~success:~~ function(result) { |
  |  | 190 | data: {action: 'podlove-export-tracking', \_podlove\_nonce: '<?php echo wp\_create\_nonce('podlove\_export\_tracking'); ?>'}, |
  |  | 191 | dataType: 'json' |
  |  | 192 | }).done(function(result) { |
  | 193 | 193 | console.log("tracking export finished"); |
  | 194 |  | ~~}~~ |
  |  | 194 | window.setTimeout(podlove\_check\_export\_status, 2000); |
  | 195 | 195 | }); |
  | 196 | 196 |  |
  | 197 |  | ~~window.setTimeout(podlove\_check\_export\_status, 2000);~~ |
  | 198 | 197 | }); |
  | 199 | 198 |  |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L201) | […](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import_export.php?rev=3032008#L200) |  |
  | 201 | 200 | podlove\_check\_export\_status(); |
  | 202 | 201 | }(jQuery)); |
  | 203 |  | </script> |
  |  | 202 | </script> |
  | 204 | 203 | <?php |
  | 205 | 204 | } |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L214) | […](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import_export.php?rev=3032008#L213) |  |
  | 214 | 213 | <form method="POST" enctype="multipart/form-data"> |
  | 215 | 214 | (<span><?php echo self::get\_maximum\_upload\_size\_text(); ?></span>) |
  | 216 |  | <input type="file" name="podlove\_import"/> |
  |  | 215 | <input type="file" name="podlove\_import"/> |
  | 217 | 216 | <input type="submit" value="<?php echo \_\_('Import Podcast Data', 'podlove-podcasting-plugin-for-wordpress'); ?>" class="button" /> |
  | 218 |  | </form> |
  |  | 217 | <?php wp\_nonce\_field('podlove\_import', '\_podlove\_nonce'); ?> |
  |  | 218 | </form> |
  | 219 | 219 | <?php |
  | 220 | 220 | } |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L227) | […](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/import_export/import_export.php?rev=3032008#L227) |  |
  | 227 | 227 | <input type="file" name="podlove\_import\_tracking"/> |
  | 228 | 228 | <input type="submit" value="<?php echo \_\_('Import Tracking Data', 'podlove-podcasting-plugin-for-wordpress'); ?>" class="button" /> |
  | 229 |  | </form> |
  |  | 229 | <?php wp\_nonce\_field('podlove\_import\_tracking', '\_podlove\_nonce'); ?> |
  |  | 230 | </form> |
  | 230 | 231 | <?php |
  | 231 | 232 | } |
* ## [podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/slack\_shownotes/slack\_shownotes.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/slack_shownotes/slack_shownotes.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/slack_shownotes/slack_shownotes.php")

  | [r3025427](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/slack_shownotes/slack_shownotes.php?rev=3025427#L209 "Show revision 3025427 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/lib/modules/slack_shownotes/slack_shownotes.php?rev=3032008#L209 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 209 | 209 | public static function fetch\_url\_meta($url) |
  | 210 | 210 | { |
  | 211 |  | ~~$curl = curl\_init();~~ |
  | 212 |  |  |
  | 213 |  | ~~curl\_setopt\_array($curl, [~~ |
  | 214 |  | ~~CURLOPT\_URL => $url,~~ |
  | 215 |  | ~~CURLOPT\_RETURNTRANSFER => true,~~ |
  | 216 |  | ~~CURLOPT\_ENCODING => '',~~ |
  | 217 |  | ~~CURLOPT\_FOLLOWLOCATION => true,~~ |
  | 218 |  | ~~CURLOPT\_MAXREDIRS => 10,~~ |
  | 219 |  | ~~CURLOPT\_TIMEOUT => 10,~~ |
  | 220 |  | ~~CURLOPT\_HTTP\_VERSION => CURL\_HTTP\_VERSION\_1\_1,~~ |
  | 221 |  | ~~CURLOPT\_CUSTOMREQUEST => 'GET',~~ |
  | 222 |  | ~~CURLOPT\_POSTFIELDS => '',~~ |
  | 223 |  | ~~CURLOPT\_HTTPHEADER => [~~ |
  | 224 |  | ~~'cache-control: no-cache',~~ |
  | 225 |  | ~~],~~ |
  | 226 |  | ~~]);~~ |
  | 227 |  |  |
  | 228 |  | ~~$html = curl\_exec($curl);~~ |
  | 229 |  | ~~$err = curl\_error($curl);~~ |
  | 230 |  |  |
  | 231 |  | ~~$effective\_url = curl\_getinfo($curl, CURLINFO\_EFFECTIVE\_URL);~~ |
  | 232 |  |  |
  | 233 |  | ~~curl\_close($curl);~~ |
  | 234 |  |  |
  | 235 | 211 | $response = [ |
  | 236 |  | 'url' => $~~effective\_~~url, |
  |  | 212 | 'url' => $url, |
  | 237 | 213 | 'title' => '', |
  | 238 | 214 | ]; |
  | 239 | 215 |  |
  | 240 |  | if (!$err) { |
  |  | 216 | $safe\_response = wp\_safe\_remote\_get($url); |
  |  | 217 |  |
  |  | 218 | $final\_url = array\_map( |
  |  | 219 | function ($entry) { return $entry->url; }, |
  |  | 220 | $safe\_response['http\_response']->get\_response\_object()->history |
  |  | 221 | )[0]; |
  |  | 222 |  |
  |  | 223 | if ($final\_url) { |
  |  | 224 | $response['url'] = $final\_url; |
  |  | 225 | } |
  |  | 226 |  |
  |  | 227 | $html = $safe\_response['body']; |
  |  | 228 |  |
  |  | 229 | if (!is\_wp\_error($safe\_response)) { |
  | 241 | 230 | $dom = new \DOMDocument(); |
  | 242 | 231 | $loaded = $dom->loadHTML($html, LIBXML\_NOERROR); |
* ## [podlove-podcasting-plugin-for-wordpress/tags/4.0.12/podlove.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/podlove.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/tags/4.0.12/podlove.php")

  | [r3026472](/browser/podlove-podcasting-plugin-for-wordpress/trunk/podlove.php?rev=3026472#L4 "Show revision 3026472 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/podlove.php?rev=3032008#L4 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI:  http://publisher.podlove.org |
  | 5 | 5 | \* Description: The one and only next generation podcast publishing system. Seriously. It's magical and sparkles a lot. |
  | 6 |  | \* Version: 4.0.1~~1~~ |
  |  | 6 | \* Version: 4.0.12 |
  | 7 | 7 | \* Requires at least: 4.9.6 |
  | 8 | 8 | \* Requires PHP: 8.0 |
* ## [podlove-podcasting-plugin-for-wordpress/tags/4.0.12/readme.txt](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/readme.txt "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/tags/4.0.12/readme.txt")

  | [r3026472](/browser/podlove-podcasting-plugin-for-wordpress/trunk/readme.txt?rev=3026472#L4 "Show revision 3026472 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/readme.txt?rev=3032008#L4 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Tags: podlove, podcast, publishing, rss, feed, audio, mp3, m4a, player, webplayer, iTunes, radio |
  | 5 | 5 | Tested up to: 6.4.2 |
  | 6 |  | Stable tag: 4.0.1~~1~~ |
  |  | 6 | Stable tag: 4.0.12 |
  | 7 | 7 | Requires at least: 4.9.6 |
  | 8 | 8 | Requires PHP: 8.0 |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/readme.txt?rev=3026472#L107) | […](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/readme.txt?rev=3032008#L107) |  |
  | 107 | 107 | == Changelog == |
  | 108 | 108 |  |
  |  | 109 | = 4.0.12 = |
  |  | 110 |  |
  |  | 111 | \*\*Security\*\* |
  |  | 112 |  |
  |  | 113 | - fix SSRF vulnerability in Slacknotes module |
  |  | 114 | - add missing capability check and nonce validation to importer functions |
  |  | 115 | - add missing capability check and nonce validation to exporter functions |
  |  | 116 |  |
  | 109 | 117 | = 4.0.11 = |
  | 110 | 118 |  |
* ## [podlove-podcasting-plugin-for-wordpress/tags/4.0.12/vendor/composer/installed.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/vendor/composer/installed.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/tags/4.0.12/vendor/composer/installed.php")

  | [r3026472](/browser/podlove-podcasting-plugin-for-wordpress/trunk/vendor/composer/installed.php?rev=3026472#L2 "Show revision 3026472 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/vendor/composer/installed.php?rev=3032008#L2 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | 'root' => array( |
  | 3 | 3 | 'name' => 'podlove/podcast-publisher', |
  | 4 |  | 'pretty\_version' => '4.0.1~~1~~', |
  | 5 |  | 'version' => '4.0.1~~1~~.0', |
  | 6 |  | 'reference' => '~~de996158bdac6175e026f7a57f8a9b7a466c21ac~~', |
  |  | 4 | 'pretty\_version' => '4.0.12', |
  |  | 5 | 'version' => '4.0.12.0', |
  |  | 6 | 'reference' => '4d9565d920b0bf08d1beb35bd4908f33e6ca1f18', |
  | 7 | 7 | 'type' => 'library', |
  | 8 | 8 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/vendor/composer/installed.php?rev=3026472#L135) | […](/browser/podlove-podcasting-plugin-for-wordpress/tags/4.0.12/vendor/composer/installed.php?rev=3032008#L135) |  |
  | 135 | 135 | ), |
  | 136 | 136 | 'podlove/podcast-publisher' => array( |
  | 137 |  | 'pretty\_version' => '4.0.1~~1~~', |
  | 138 |  | 'version' => '4.0.1~~1~~.0', |
  | 139 |  | 'reference' => '~~de996158bdac6175e026f7a57f8a9b7a466c21ac~~', |
  |  | 137 | 'pretty\_version' => '4.0.12', |
  |  | 138 | 'version' => '4.0.12.0', |
  |  | 139 | 'reference' => '4d9565d920b0bf08d1beb35bd4908f33e6ca1f18', |
  | 140 | 140 | 'type' => 'library', |
  | 141 | 141 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
* ## [podlove-podcasting-plugin-for-wordpress/trunk/.php-cs-fixer.dist.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/trunk/.php-cs-fixer.dist.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/trunk/.php-cs-fixer.dist.php")

  | [r2598235](/browser/podlove-podcasting-plugin-for-wordpress/trunk/.php-cs-fixer.dist.php?rev=2598235#L12 "Show revision 2598235 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/trunk/.php-cs-fixer.dist.php?rev=3032008#L12 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 12 | 12 | '@PhpCsFixer' => true, |
  | 13 | 13 | 'yoda\_style' => false, |
  |  | 14 | 'fully\_qualified\_strict\_types' => false, |
  | 14 | 15 | 'array\_syntax' => ['syntax' => 'short'], |
  | 15 | 16 | 'trailing\_comma\_in\_multiline' => false, |
* ## [podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import\_export/export/podcast\_exporter.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/podcast_exporter.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/podcast_exporter.php")

  | [r2377370](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/podcast_exporter.php?rev=2377370#L31 "Show revision 2377370 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/podcast_exporter.php?rev=3032008#L31 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 31 | 31 |  |
  | 32 | 32 | if (isset($\_GET['podlove\_export']) && $\_GET['podlove\_export']) { |
  |  | 33 | if (!current\_user\_can('administrator')) { |
  |  | 34 | return; |
  |  | 35 | } |
  |  | 36 |  |
  |  | 37 | if (!wp\_verify\_nonce($\_REQUEST['\_podlove\_nonce'], 'podlove\_export')) { |
  |  | 38 | return; |
  |  | 39 | } |
  |  | 40 |  |
  | 33 | 41 | $exporter = new \Podlove\Modules\ImportExport\Export\PodcastExporter(); |
  | 34 | 42 | $exporter->download(); |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/podcast_exporter.php?rev=2377370#L135) | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/podcast_exporter.php?rev=3032008#L143) |  |
  | 135 | 143 | $xml\_item = $xml\_group->addChild("xmlns:wpe:{$item\_name}"); |
  | 136 | 144 | foreach ($table\_class::property\_names() as $property\_name) { |
  | 137 |  | if (strlen($mediafile->{$property\_name}) === 0) { |
  |  | 145 | if (is\_null($mediafile->{$property\_name}) || strlen($mediafile->{$property\_name}) === 0) { |
  | 138 | 146 | continue; |
  | 139 | 147 | } |
* ## [podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import\_export/export/tracking\_exporter.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/tracking_exporter.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/tracking_exporter.php")

  | [r2377370](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/tracking_exporter.php?rev=2377370#L20 "Show revision 2377370 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/tracking_exporter.php?rev=3032008#L20 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 20 | 20 |  |
  | 21 | 21 | if (isset($\_GET['podlove\_export\_tracking']) && $\_GET['podlove\_export\_tracking']) { |
  |  | 22 | if (!current\_user\_can('administrator')) { |
  |  | 23 | exit; |
  |  | 24 | } |
  |  | 25 |  |
  |  | 26 | if (!wp\_verify\_nonce($\_REQUEST['\_podlove\_nonce'], 'podlove\_export\_tracking\_download')) { |
  |  | 27 | exit; |
  |  | 28 | } |
  |  | 29 |  |
  | 22 | 30 | delete\_transient('podlove\_tracking\_export\_finished'); |
  | 23 | 31 |  |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/tracking_exporter.php?rev=2377370#L44) | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/export/tracking_exporter.php?rev=3032008#L52) |  |
  | 44 | 52 | global $wpdb; |
  | 45 | 53 |  |
  |  | 54 | if (!current\_user\_can('administrator')) { |
  |  | 55 | exit; |
  |  | 56 | } |
  |  | 57 |  |
  |  | 58 | if (!wp\_verify\_nonce($\_REQUEST['\_podlove\_nonce'], 'podlove\_export\_tracking')) { |
  |  | 59 | exit; |
  |  | 60 | } |
  |  | 61 |  |
  | 46 | 62 | // only one export at a time |
  | 47 | 63 | if (get\_option('podlove\_tracking\_export\_all') !== false) { |
  | 48 |  | ~~return~~; |
  |  | 64 | exit; |
  | 49 | 65 | } |
  | 50 | 66 |  |
* ## [podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import\_export/import/podcast\_importer.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/podcast_importer.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/podcast_importer.php")

  | [r2377370](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/podcast_importer.php?rev=2377370#L28 "Show revision 2377370 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/podcast_importer.php?rev=3032008#L28 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 28 | 28 |  |
  | 29 | 29 | if (!isset($\_FILES['podlove\_import'])) { |
  |  | 30 | return; |
  |  | 31 | } |
  |  | 32 |  |
  |  | 33 | if (!current\_user\_can('administrator')) { |
  |  | 34 | return; |
  |  | 35 | } |
  |  | 36 |  |
  |  | 37 | if (!wp\_verify\_nonce($\_REQUEST['\_podlove\_nonce'], 'podlove\_import')) { |
  | 30 | 38 | return; |
  | 31 | 39 | } |
* ## [podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import\_export/import/tracking\_importer.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/tracking_importer.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/tracking_importer.php")

  | [r2377370](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/tracking_importer.php?rev=2377370#L22 "Show revision 2377370 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import/tracking_importer.php?rev=3032008#L22 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 |  |
  | 23 | 23 | if (!isset($\_FILES['podlove\_import\_tracking'])) { |
  |  | 24 | return; |
  |  | 25 | } |
  |  | 26 |  |
  |  | 27 | if (!current\_user\_can('administrator')) { |
  |  | 28 | return; |
  |  | 29 | } |
  |  | 30 |  |
  |  | 31 | if (!wp\_verify\_nonce($\_REQUEST['\_podlove\_nonce'], 'podlove\_import\_tracking')) { |
  | 24 | 32 | return; |
  | 25 | 33 | } |
* ## [podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import\_export/import\_export.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php")

  | [r2377370](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L124 "Show revision 2377370 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=3032008#L124 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 124 | 124 | </ol> |
  | 125 | 125 |  |
  | 126 |  | <a href="?podlove\_export=1" class="button"><?php echo \_\_('Export Podcast Data', 'podlove-podcasting-plugin-for-wordpress'); ?></a> |
  |  | 126 | <a href="?podlove\_export=1&\_podlove\_nonce=<?php echo wp\_create\_nonce('podlove\_export'); ?>" class="button"><?php echo \_\_('Export Podcast Data', 'podlove-podcasting-plugin-for-wordpress'); ?></a> |
  | 127 | 127 | <?php |
  | 128 | 128 | } |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L169) | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=3032008#L169) |  |
  | 169 | 169 |  |
  | 170 | 170 | timeoutID = window.setTimeout(podlove\_check\_export\_status, 1000); |
  | 171 |  | } |
  |  | 171 | } |
  | 172 | 172 |  |
  | 173 | 173 | if (result.finished) { |
  | 174 | 174 | $("#podlove\_tracking\_export").attr('disabled', false); |
  | 175 | 175 | $("#podlove\_tracking\_export\_status\_wrapper").hide(); |
  | 176 |  | window.location = window.location + "&podlove\_export\_tracking=1"; |
  |  | 176 | window.location = window.location + "&podlove\_export\_tracking=1&\_podlove\_nonce=<?php echo wp\_create\_nonce('podlove\_export\_tracking\_download'); ?>"; |
  | 177 | 177 | } |
  | 178 | 178 | } |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L188) | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=3032008#L188) |  |
  | 188 | 188 | $.ajax({ |
  | 189 | 189 | url: ajaxurl, |
  | 190 |  | data: {action: 'podlove-export-tracking'}, |
  | 191 |  | dataType: 'json'~~,~~ |
  | 192 |  | ~~success:~~ function(result) { |
  |  | 190 | data: {action: 'podlove-export-tracking', \_podlove\_nonce: '<?php echo wp\_create\_nonce('podlove\_export\_tracking'); ?>'}, |
  |  | 191 | dataType: 'json' |
  |  | 192 | }).done(function(result) { |
  | 193 | 193 | console.log("tracking export finished"); |
  | 194 |  | ~~}~~ |
  |  | 194 | window.setTimeout(podlove\_check\_export\_status, 2000); |
  | 195 | 195 | }); |
  | 196 | 196 |  |
  | 197 |  | ~~window.setTimeout(podlove\_check\_export\_status, 2000);~~ |
  | 198 | 197 | }); |
  | 199 | 198 |  |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L201) | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=3032008#L200) |  |
  | 201 | 200 | podlove\_check\_export\_status(); |
  | 202 | 201 | }(jQuery)); |
  | 203 |  | </script> |
  |  | 202 | </script> |
  | 204 | 203 | <?php |
  | 205 | 204 | } |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L214) | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=3032008#L213) |  |
  | 214 | 213 | <form method="POST" enctype="multipart/form-data"> |
  | 215 | 214 | (<span><?php echo self::get\_maximum\_upload\_size\_text(); ?></span>) |
  | 216 |  | <input type="file" name="podlove\_import"/> |
  |  | 215 | <input type="file" name="podlove\_import"/> |
  | 217 | 216 | <input type="submit" value="<?php echo \_\_('Import Podcast Data', 'podlove-podcasting-plugin-for-wordpress'); ?>" class="button" /> |
  | 218 |  | </form> |
  |  | 217 | <?php wp\_nonce\_field('podlove\_import', '\_podlove\_nonce'); ?> |
  |  | 218 | </form> |
  | 219 | 219 | <?php |
  | 220 | 220 | } |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=2377370#L227) | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/import_export/import_export.php?rev=3032008#L227) |  |
  | 227 | 227 | <input type="file" name="podlove\_import\_tracking"/> |
  | 228 | 228 | <input type="submit" value="<?php echo \_\_('Import Tracking Data', 'podlove-podcasting-plugin-for-wordpress'); ?>" class="button" /> |
  | 229 |  | </form> |
  |  | 229 | <?php wp\_nonce\_field('podlove\_import\_tracking', '\_podlove\_nonce'); ?> |
  |  | 230 | </form> |
  | 230 | 231 | <?php |
  | 231 | 232 | } |
* ## [podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/slack\_shownotes/slack\_shownotes.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/slack_shownotes/slack_shownotes.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/slack_shownotes/slack_shownotes.php")

  | [r3025427](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/slack_shownotes/slack_shownotes.php?rev=3025427#L209 "Show revision 3025427 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/trunk/lib/modules/slack_shownotes/slack_shownotes.php?rev=3032008#L209 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 209 | 209 | public static function fetch\_url\_meta($url) |
  | 210 | 210 | { |
  | 211 |  | ~~$curl = curl\_init();~~ |
  | 212 |  |  |
  | 213 |  | ~~curl\_setopt\_array($curl, [~~ |
  | 214 |  | ~~CURLOPT\_URL => $url,~~ |
  | 215 |  | ~~CURLOPT\_RETURNTRANSFER => true,~~ |
  | 216 |  | ~~CURLOPT\_ENCODING => '',~~ |
  | 217 |  | ~~CURLOPT\_FOLLOWLOCATION => true,~~ |
  | 218 |  | ~~CURLOPT\_MAXREDIRS => 10,~~ |
  | 219 |  | ~~CURLOPT\_TIMEOUT => 10,~~ |
  | 220 |  | ~~CURLOPT\_HTTP\_VERSION => CURL\_HTTP\_VERSION\_1\_1,~~ |
  | 221 |  | ~~CURLOPT\_CUSTOMREQUEST => 'GET',~~ |
  | 222 |  | ~~CURLOPT\_POSTFIELDS => '',~~ |
  | 223 |  | ~~CURLOPT\_HTTPHEADER => [~~ |
  | 224 |  | ~~'cache-control: no-cache',~~ |
  | 225 |  | ~~],~~ |
  | 226 |  | ~~]);~~ |
  | 227 |  |  |
  | 228 |  | ~~$html = curl\_exec($curl);~~ |
  | 229 |  | ~~$err = curl\_error($curl);~~ |
  | 230 |  |  |
  | 231 |  | ~~$effective\_url = curl\_getinfo($curl, CURLINFO\_EFFECTIVE\_URL);~~ |
  | 232 |  |  |
  | 233 |  | ~~curl\_close($curl);~~ |
  | 234 |  |  |
  | 235 | 211 | $response = [ |
  | 236 |  | 'url' => $~~effective\_~~url, |
  |  | 212 | 'url' => $url, |
  | 237 | 213 | 'title' => '', |
  | 238 | 214 | ]; |
  | 239 | 215 |  |
  | 240 |  | if (!$err) { |
  |  | 216 | $safe\_response = wp\_safe\_remote\_get($url); |
  |  | 217 |  |
  |  | 218 | $final\_url = array\_map( |
  |  | 219 | function ($entry) { return $entry->url; }, |
  |  | 220 | $safe\_response['http\_response']->get\_response\_object()->history |
  |  | 221 | )[0]; |
  |  | 222 |  |
  |  | 223 | if ($final\_url) { |
  |  | 224 | $response['url'] = $final\_url; |
  |  | 225 | } |
  |  | 226 |  |
  |  | 227 | $html = $safe\_response['body']; |
  |  | 228 |  |
  |  | 229 | if (!is\_wp\_error($safe\_response)) { |
  | 241 | 230 | $dom = new \DOMDocument(); |
  | 242 | 231 | $loaded = $dom->loadHTML($html, LIBXML\_NOERROR); |
* ## [podlove-podcasting-plugin-for-wordpress/trunk/podlove.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/trunk/podlove.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/trunk/podlove.php")

  | [r3026472](/browser/podlove-podcasting-plugin-for-wordpress/trunk/podlove.php?rev=3026472#L4 "Show revision 3026472 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/trunk/podlove.php?rev=3032008#L4 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI:  http://publisher.podlove.org |
  | 5 | 5 | \* Description: The one and only next generation podcast publishing system. Seriously. It's magical and sparkles a lot. |
  | 6 |  | \* Version: 4.0.1~~1~~ |
  |  | 6 | \* Version: 4.0.12 |
  | 7 | 7 | \* Requires at least: 4.9.6 |
  | 8 | 8 | \* Requires PHP: 8.0 |
* ## [podlove-podcasting-plugin-for-wordpress/trunk/readme.txt](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/trunk/readme.txt "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/trunk/readme.txt")

  | [r3026472](/browser/podlove-podcasting-plugin-for-wordpress/trunk/readme.txt?rev=3026472#L4 "Show revision 3026472 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/trunk/readme.txt?rev=3032008#L4 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Tags: podlove, podcast, publishing, rss, feed, audio, mp3, m4a, player, webplayer, iTunes, radio |
  | 5 | 5 | Tested up to: 6.4.2 |
  | 6 |  | Stable tag: 4.0.1~~1~~ |
  |  | 6 | Stable tag: 4.0.12 |
  | 7 | 7 | Requires at least: 4.9.6 |
  | 8 | 8 | Requires PHP: 8.0 |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/readme.txt?rev=3026472#L107) | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/readme.txt?rev=3032008#L107) |  |
  | 107 | 107 | == Changelog == |
  | 108 | 108 |  |
  |  | 109 | = 4.0.12 = |
  |  | 110 |  |
  |  | 111 | \*\*Security\*\* |
  |  | 112 |  |
  |  | 113 | - fix SSRF vulnerability in Slacknotes module |
  |  | 114 | - add missing capability check and nonce validation to importer functions |
  |  | 115 | - add missing capability check and nonce validation to exporter functions |
  |  | 116 |  |
  | 109 | 117 | = 4.0.11 = |
  | 110 | 118 |  |
* ## [podlove-podcasting-plugin-for-wordpress/trunk/vendor/composer/installed.php](/changeset/3032008/podlove-podcasting-plugin-for-wordpress/trunk/vendor/composer/installed.php "Show the changeset 3032008 restricted to podlove-podcasting-plugin-for-wordpress/trunk/vendor/composer/installed.php")

  | [r3026472](/browser/podlove-podcasting-plugin-for-wordpress/trunk/vendor/composer/installed.php?rev=3026472#L2 "Show revision 3026472 of this file in browser") | [r3032008](/browser/podlove-podcasting-plugin-for-wordpress/trunk/vendor/composer/installed.php?rev=3032008#L2 "Show revision 3032008 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | 'root' => array( |
  | 3 | 3 | 'name' => 'podlove/podcast-publisher', |
  | 4 |  | 'pretty\_version' => '4.0.1~~1~~', |
  | 5 |  | 'version' => '4.0.1~~1~~.0', |
  | 6 |  | 'reference' => '~~de996158bdac6175e026f7a57f8a9b7a466c21ac~~', |
  |  | 4 | 'pretty\_version' => '4.0.12', |
  |  | 5 | 'version' => '4.0.12.0', |
  |  | 6 | 'reference' => '4d9565d920b0bf08d1beb35bd4908f33e6ca1f18', |
  | 7 | 7 | 'type' => 'library', |
  | 8 | 8 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/vendor/composer/installed.php?rev=3026472#L135) | […](/browser/podlove-podcasting-plugin-for-wordpress/trunk/vendor/composer/installed.php?rev=3032008#L135) |  |
  | 135 | 135 | ), |
  | 136 | 136 | 'podlove/podcast-publisher' => array( |
  | 137 |  | 'pretty\_version' => '4.0.1~~1~~', |
  | 138 |  | 'version' => '4.0.1~~1~~.0', |
  | 139 |  | 'reference' => '~~de996158bdac6175e026f7a57f8a9b7a466c21ac~~', |
  |  | 137 | 'pretty\_version' => '4.0.12', |
  |  | 138 | 'version' => '4.0.12.0', |
  |  | 139 | 'reference' => '4d9565d920b0bf08d1beb35bd4908f33e6ca1f18', |
  | 140 | 140 | 'type' => 'library', |
  | 141 | 141 | 'install\_path' => \_\_DIR\_\_ . '/../../', |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3032008)
* [Zip Archive](?format=zip&new=3032008)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

