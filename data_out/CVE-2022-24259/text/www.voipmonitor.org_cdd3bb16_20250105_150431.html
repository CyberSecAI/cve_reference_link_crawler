
 [![VoIPmonitor](/images/logo.png)](/)

* [Products](/product-and-services/)
  + [VoIPmonitor software](/product-and-services/voipmonitor-software)
  + [VoIPmonitor hardware](/product-and-services/voipmonitor-hardware)
  + [Commercial support, consultancy and custom development](/product-and-services/commercial-support)
* [Company](/about)
* [Try/Buy](/buy)
* [Download](/download)
* [Doc](/doc/Content)
* [Cloud](https://cloud.voipmonitor.org)
* Client area
  + [Login](/whmcs/clientarea.php)
  + [Register](/whmcs/register.php)
  + [Forgot Password?](/whmcs/pwreset.php)
  + [Affiliates](/whmcs/affiliates.php)

* [Demo](/demo)
* [Contact](/contact)

## 2024-11-22 Version 26.43

* fix missing default value for parameter of function getUserJsFunctions
* fix messagebox 'access denied' in craete/open report if there are no access rights to alerts

## 2024-11-19 Version 26.42

* fix show buttons in audio player in share cdr [VG-2901]
* adding the possibility to capture data from sniffer for listcalls / lisregisters etc. New DEBUG\_GET\_DATA\_FROM\_SENSORS\_TYPE and DEBUG\_GET\_DATA\_FROM\_SENSORS\_LOG\_PATH parameters [VG-2900]
* Implement CDR filtering by TCP/UDP/both protocol [VS-1609]
* fix issue with php 8 when loading dashboards data (count(NULL) ends up with fatal error [VG-2906]
* fix issue with restore tables if backup contains 'SET @@GLOBAL.GTID\_PURGED ...'
* allow downloading develop versions of sniffer without the need to extend the configuration. To disable this feature: define('ENABLE\_UPGRADE\_SNIFFER\_TO\_DEVELOPMENT\_VERSIONS', false);
* fix parsing values from the newest sensor status line [VG-2907]

## 2024-10-23 Version 26.41

* add api function getAudioGraph to get audio graphs (spectrogram + waveform) [VG-2896]

## 2024-10-22 Version 26.40

* better detection of rtp/audiograf using CDR.flags [VS-1640]
* Fix json decode to handle '-nan' value from bin/charts E.g. clipping\_perc95\_all":-nan
* add column ringing\_time to the CDR summary report [VG-2232]
* add option to allow write empty header's value if header is missing in first packet and is present in next packets [VG-2175]
* fix processing of the G722.1 (Siren) codec with 48k bitrate (not samplerate). Fix G722.1 array values in codec option in cdr view's filter form
* support for register\_failed export in crontab tasks [VG-2888]
* adding an email notification of a new version that can be installed [VG-2856]
* rcc fraud alert - 'time period rules' table - add a checkbox to specify whether to convert time zone to gui time
* fix php 8 compatibility in dashboards [VG-2897]

## 2024-10-02 Version 26.39

* implemented non-numeric id solution for custom login script [VG-2865]
* apply filter in sip history when downloading the pcap [VG-2822]
* add top sip responses column to asr alerts (in group mode) [VG-2873]
* display mos/jitter/loss columns in active calls (requires sniffer >= 2024.10.1) [VG-2871]
* display packet loss percentage in cdr summary [VG-2870]
* modify rendering of packet loss percentage value
* add optional parameter callId to api task listActiveCalls [VG-2878]
* fix audio graphs (spectrogram + wave) while saving calls (fix check data existance) [VG-2874]
* add grouping by custom headers in: cdr and message panels, cdr summary report [VG-2552] [VG-2883]
* allow custom columns in SIP response alert [VG-1828]

## 2024-09-18 Version 26.38

* added support for dedicated audiographs (wave+spectrogram) without needs to enable RTP packet
* fix php warnings in the API [VG-2877]
* restore the ability to join nodes in a sip diagram by hostname [VG-2876]
* add top sip responses column to asr alerts (in group mode) [VG-2873]
* fix hwid generator for some virtual servers

## 2024-09-11 Version 26.37

* encode with the latest ioncube 13.0.2

## 2024-09-06 Version 26.36

* add support for call information / sip history in active calls
* fix set and repair unique\_check in custom headers tables [VG-2855]
* allow specifying a replace pattern as part of a regular expression in the custom header definition, adding an explanation to the field-help [VS-1623]
* fix a generation of the predefined graphs
* use rtpc sr / rr even if there are no rtp packets [VS-1608]
* extend capture rules for saving db-only and pcap-only values into register option [VS-1289]
* add global option for disabling SIP MESSAGES in GUI menu [VG-2713]
* fix problem with bad sql query when requesting to get cdr\_rtp.sdp\_ptime if there is no cdr\_rtp.index column [VG-2862]
* fix problem with cSniffer::$cacheFileSize if requesting multiple pcap
* fix problem with cSniffer::$cacheFileSize if more cdrids have the same callID
* add nat alias to capture rules [VS-1624]
* disable changing custom headers from 'dynamic' to 'fixed'
* allow creation of fixed header only if it is not empty
* batch copy of filtered/selected CDRs pcaps to safe spool [VG-2677]
* don't allow ip/port duplicities in IP lookup table [VG-2868]
* fix lsof error when file is missing

## 2024-08-08 Version 26.35

* fix porblem in js which affected sip-history and sensors list

## 2024-08-06 Version 26.34

* add bulk change in multiple panels in dashboard [VG-2807]
* add aes support to api/chunkplayer (VPMANAGER\_AES\_KEY, VPMANAGER\_AES\_IV, VPMANAGER\_AES\_CIPHER) [VG-2847]
* add id\_sensor column to all sensor menus [VG-2846]
* regenerate manager-aes key if 'true' is stored in the value in the system table [VG-2845]
* add cdr filtering by vlan id [VG-2610]
* add next expand-grid-level to grouping panel in cdr and message panel [VG-2173]
* fix RTP port in CALLED column in CDR detail [VG-2849]
* add function getSipDiagram to API [VG-2840]
* allow port range in RTP port, RTP IP:port and SDP IP:port [VG-2205]
* add support for groups of numbers in the registration filter [VG-1124]
* fix called rtp port display in cdr detail [VG-2849]
* removing sensor summary from api response to listActiveCalls request [VG-2852]

## 2024-07-16 Version 26.33

* extend sip flood alert - sip packet type option, condition for destination ip address [VG-1184]
* support for exporting sip diagram to pdf and png [VG-976]
* added TOP caller/called data source in charts [VG-2830]
* use the LANGUAGE configuration parameter as the default language for login [VG-2834]
* fix condition for concurrent calls alert if both lower and upper limit is specified [VG-2833]
* remove triggers from custom header configuration tables
* add port to the SQL IP Lookup [VG-2832]

## 2024-07-01 Version 26.32

* add permissions (users, groups) for audio -> text transcription [VG-2831]

## 2024-06-27 Version 26.31

* add cdr filter to reports / report generator [VG-1608]
* fix login for default Gauth/Shibboleth users [VG-2825]
* fix issue with loss of session data when using flush() [VG-2826]
* fix killMysqlTask function - $pid can be array [VG-2828]
* add an attempt to alter the table to dynamic format if alter encounters error 1118 (Row size too large. The maximum row size for the used table type...) [VG-2827

## 2024-06-20 Version 26.30

* fix illegal instruction in bin/vm

## 2024-06-19 Version 26.29

* fix mysql 5.6 compatibility

## 2024-06-18 Version 26.28

* add support for audio transcription using OpenAI Whisper https://openai.com/index/whisper/ [VS-1603]
* allow to set individual capture rules in user privileges [VG-2308]
* alter users.number to mediumtext [VG-2803]
* add filtering by sensor id in sip:history merged [VG-2821]
* added TOP countries charts (requires the latest sniffer) [VG-2808]
* add support for multiple IPs/hosts in single column in SIP history messages and diagram [VG-2114]
* add 'enabled sensors' tab into user's group setting [VG-2656]
* send call can now send also custom header values [VG-2108]
* implement capture rules duplication [VG-2356]
* implement API rate limiting per user [VG-2224]
* block pcap upload if mysql\_enable\_set\_id option is enabled in sniffer and it is not a server [VS-1601]
* warn if international rules are not set [VG-1784]
* fix issue with undefined global variable $BASENAME [VG-2812]
* fix the handling of the group's enabling/disabling in user's setting [VG-2656]
* fix MOS chart in RTP for some rare cases [VS-1606]
* fix permissions to display main menu item : 'Reports' / 'Call problems' / 'Settings' [VG-2818]
* fix problem with not displaying connected cdr to ticket (there was forced default filter for last day)

## 2024-05-06 Version 26.27

* fix illegal instraction when decoding audio
* add support to change country assignment for existing cdr [VS-1130]

## 2024-05-02 Version 26.26

* ptime implementation for both SDP and RTP. Differences between SDP and RTP can be now seen and searched in filter form. (requires sniffer 2024.05.01 and DB upgrade via Tools -> check mysql schema)
* number of required connections between gui and sniffer was optimised (needs sniffer 2024.05.01
* update phone country codes [VG-2792]
* add a warning if the 'id' value is not returned from custom login script [VG-2805]
* disable display\_errors also in ajax responses
* fix access to custom alerts and reports (with 'private' setting) for custom\_login [VG-2804]

## 2024-05-02 Version 26.26

* ptime implementation for both SDP and RTP. Differences between SDP and RTP can be now seen and searched in filter form. (requires sniffer 2024.05.01 and DB upgrade via Tools -> check mysql schema)
* number of required connections between gui and sniffer was optimised (needs sniffer 2024.05.01
* update phone country codes [VG-2792]
* add a warning if the 'id' value is not returned from custom login script [VG-2805]
* disable display\_errors also in ajax responses
* fix access to custom alerts and reports (with 'private' setting) for custom\_login [VG-2804]

## 2024-04-11 Version 26.25

* defer sensor checking to state of the loaded gui after login, adding an indication of the activity being performed and an stop option [VG-2786]
* use ip/call maps for graph Calls per number called in active calls. Fix ip/call maps usage for rtp ip graphs [VG-2129]
* fix availability of chart aggregation in dashboards [VG-2793]
* fix more php 8.2 warnings [VG-2795]
* fix link to png / csv for dashboard panels with charts of registers [VG-2793]
* fix js error in setColumnsConfiguration [VG-2797]

## 2024-04-02 Version 26.24

* fixes for php 8.2 / PHP Deprecated: Creation of dynamic property cAlert [VG-2781] [VG-2690]
* fix php >= 8.1 warning PHP Deprecated: fwrite(): [VG-2780]
* add setting 'max line in body' in CPS alert [VG-2754]
* add ip reverse lookup and prefix reverse lookup for SIP register and SIP options/notify/subscribe [VG-2320]
* adding support for optional sorting by columns in active calls [VG-2782]
* add alert statistics to daily reports [VG-2508]
* add save/restore grid-columns configuration in all tables where it makes sense [VG-2778] [VG-2776]
* add search cdr by new flag which marks calls with duplicated RTP streams [VS-1582]
* add tab Calls per number called into active calls [VG-2129]

## 2024-03-10 Version 26.23

* adding negation option to sdp and rtp in cdr filter [VG-1905]
* update bin/vm to the 2024.03.1
* allow to set a language in the user settings [VG-2747]
* php 8.2 compatibility fix

## 2024-02-27 Version 26.22

* fix missing CDR last sip response column
* allow to use custom login script with email from Google Sign-In or with username from Shibboleth/REMOTE\_USER auth [VG-2534]
* add maximum to minicharts in cdr trends [VG-2604]

## 2024-02-26 Version 26.21

* Add IPv6 address example into search tooltip
* fix user\_can... conditions for custom login [VG-2767]
* allow to define custom logout URL. It will be useful with other modules which can use REMOTE\_USER variable. use username from REMOTE\_USER instead of gui's username in Audit Log [VG-2715]

## 2024-02-20 Version 26.20

* fix evaluating whether a tar file is an archive - adding the condition that \*tar.zst.[0-9] is a tar [VS-1533]
* use bin/vm instead of tar -xf [VG-2743]
* ignore 2FA in login process when the user uses Google SSO [VG-2745]
* fix render RTCP Parts in CDR Grid - show MAX & AVG [VG-2584]
* use the language setting from the login dialog when Google Sign is used [VG-2748]
* add support for Shibboleth authorization (in Apache2) [VG-2715]
* adding encryption support for communication between php and sniffer manager (restart sniffers after upgrading to this version) [VG-2751]
* Fix Google SignIn logout function
* Increase timeout limit for sensor's upgrade from git

## 2024-01-05 Version 26.19

* fix 26.18 invalid opcode in bin/vm-x86\_64

## 2024-01-04 Version 26.18

* add gui option DISABLE\_WWW\_WRITEABLE\_CHECK for skip the www folders write test [VG-2724]
* sql query speed optimization for retrieving alerts and information about sent alerts [VG-2730]
* CDR legs start-time lag added to Reports / Call problems, CDR groups / report problems, CDR detail / report problems, Dashboard [VG-1986]
* fix rtp data rendering (mos xr) in cdr group (remove deprecated rendering method) [VG-2732]
* add zstd support to the process spooldir script [VG-2734]
* enable untar via bin/vm for all tables (not only cdr) [VG-2736]
* fixing minor problems in cdr groups: after adding a column the column configuration is not saved, after adding a column a reload is necessary
* fix permission to download audio from audio player if user does not have rights [VG-2731]
* fix some php 8 warnings and errors
* automaticaly delete alerts after some time [VG-2737]
* added support for updating sniffer from develop versions
* display and search CDR with cdr.flag marked when pcap size was limited [VS-1514]
* bin/vm updated to the 2024.01

## 2023-11-29 Version 26.17

* alert watchdog high rate renamed to CDR total price limit exceeded [VG-2719]
* fix issue with long client\_panel\_id in audio player preventing audio decode [VG-2722]
* fix filter in active calls [VG-2726]

## 2023-11-24 Version 26.16

* update t38\_decode binary to the latest version which fixes some T38 fax conversions [VS-1500]
* PHP 8.2 fixes [VG-2690]
* fix php session name [VG-2701]
* call session\_regenerate\_id after login and logout [VG-2691]
* fix js error in installation procedure
* fix active calls map js error [VG-2708]
* fix browser freez when selecting group by in top call distribution [VG-2716]
* allow to set N number of days alert before license expires [VG-2695]
* fix dialog form for naming IP by right click if IP was resolved by host name or ip lookup [VG-1988]

## 2023-10-27 Version 26.15

* fix IP conversion on 32bit system [VG-2705]

## 2023-10-25 Version 26.14

* fix php 8 warnings [VG-2698]
* edit label for rtcp chart in cdr detail (use label 'RTCP chart' without confusing ip address) [VG-2700]
* increase the timeout for git upgrade compiling due to -flto switch [VG-2699]
* fix firefox rendering issues [VG-2704]
* jquery updated to the latest version and loaded only if needed [VG-2706]

## 2023-10-11 Version 26.13

* fix php 8 compatibility [VG-2690]
* fix fix create ip filter for rtp 3d charts [VG-2696]
* adding custom\_cleaning table to the list of backup tables [VS-1499]

## 2023-10-03 Version 26.12

* PHP 8.2 fixes [VG-2690]
* fix some rare installation issue with db/config [VG-2649]
* add license id to the license warning expiration [VG-2689]
* add option to disable uploading attachments in CDR note [VS-1502]

## 2023-10-03 Version 26.11

* php 8.2 support

## 2023-09-21 Version 26.10

* fix zstd support

## 2023-09-20 Version 26.9

* apply new sniffer option disable\_rtp\_seq\_probation = yes/NO [VS-1494]
* add support for upcoming zstd [VS-1496]
* update vm binary

## 2023-09-01 Version 26.8

* fix public share.voipmonitor [VG-2682]

## 2023-08-29 Version 26.7

* New alert mute function for alerts based on group by - mutable is possible directly by clicking on buttons from email and in alert configuration [VG-2664]
* add "group by" for NER and ACD alerts, add "group by" options: "caller" and "caller group" (with left substring option) [VG-2665]
* add ignore first N alerts gor group by alerts [VG-2664]
* New alert 'CDR legs start-time lag' - An alert is activated when the initiation times of legs within a single call diverge, which may occur if server processing experiences delays [VG-1986]
* add SEER metric (similar to NER) (needs sniffer >= 31.8) [VG-2659]
* add parameters for api function reportSummary force: true / FALSE - forces execution of alert even if alert is paused, disabled or time-limited, verbose: true / FALSE - prints debugging information [VG-2675] [VG-2669]
* use colors for MOS score in CDR views [VG-2629]
* move rtp stream analyzer icon in CDR detail [VG-2628]
* add 3x3 matrix when creating new dashboard [VG-2622]
* fix opening multiple help pages
* add voipmonitor / wireshark mode switch to rtp analyzer [VS-1474]
* fix download audio if set: sevaudio=wav, spooldiroldschema=yes
* update bin/vm to the latest version

## 2023-07-24 Version 26.6

* update vm binary to the latest version

## 2023-07-24 Version 26.5

* added new PDD alert
* PDD, ASR and CPS can be now set to calculate per each source or destination IP or source or destination IP groups instead of calculated from all CDRs. Filters still applies for group by ip. You can now create one ASR/PDD/CPS rule to cover all source IPs individually [VG-2634] [VG-2635]
* fix audio when G711 and G722 are mixed [VS-1468]
* restore accidentally deleted license-chart report type
* code extension and modification to keep scroller position when switching AB items in filters [VG-2644]
* adding help to cdr trends form [VG-2470]
* add option 'only one' for skip/trim prefixes in country rules [VG-2658]

## 2023-07-12 Version 26.4

* fix email multi-part/plain text issue for some clients

## 2023-07-11 Version 26.3

* fix javascript error in dashboard [VG-2655]

## 2023-07-11 Version 26.2

* fix empty emails for certain email clients (broken since 26.X)
* fix CPS alert with time\_precision\_in\_ms=yes [VS-1469]
* fix editing values in system configuration (do not require pressing enter) [VG-2648]

## 2023-07-07 Version 26.1

* fix PDF / reports - js/phph compatibility (broken in 26.0) [VG-2652] [VG-2654]
* fix fonts detection for debian12 [VG-2560]
* fix api function getDashboardPanel [VG-2651]

## 2023-07-07 Version 26.0

* new 3D charts type in Dashboard for CDR trends data (check new Dashboard name 3D Trends 3x3)
* new daily reports based on 3D charts
* allow fast filtering by RTP ip in cdr view when clicking on RTP IP [VG-2027]
* add domain name in sql prefix lookup (prefix@domain) [VG-2260]
* new API task 'concurrentCalls' [VG-2637]
* Added more group options (caller/called number / SIP / RTP IP / User agent) in CDR group bottom left 'Group by' section [VG-217]
* Added more time/date ranges in the context menu 'Filter by this CDR' [VG-2302]
* New option ENABLE\_SQL\_CUSTOMER\_PREFIX\_LOOKUP\_ALERTS (defaults yes) [VG-2105]
* update audit log system - write all events into audit log file (if enabled) [VG-2624]
* new user/group privilege allowing to edit IP lookup table [VG-2626]
* add avg/min alternatives to search by mos in cdr filter
* fix sql query for get next branches in multibranch mode [VG-2615]
* fix php 8.1 fatal error in function refreshAuthUserRow for local public share [VG-2616]
* fix scroller problem in cdr filter (after change in caller/called combo box, scroller was set to the beginning)
* fix php 8.1 warnings [VG-2614]
* use correct line separator in the generated emails [VG-2611]

## 2023-04-25 Version 25.8

* allow multiple codec's frames in one packet in AMR-NB
* fix license id generator on some systems

## 2023-04-20 Version 25.7

* fix report call problems for calls wich passes through SIP proxy [VG-2212]
* add support for cdr trends by destination ip [VG-2570]
* allow to archive pcap to special spool directory [VG-1804]
* implemented duplication in alert and report section [VG-1408]
* allow download RTP stream in RTP stream analysis [VS-1035]
* show diameter packets in SIP history [VS-1420]
* send license alerts only if there are less than 14 days left before the license expires
* add 'csv' extension to csv file in zip [VG-2557]
* CDR trends - added average line, change configuration, limit graphs for low call counts
* CDR trends - graph height is now configurable [VG-2586]
* CDR trends - add configuration option to decide whether to show only the most important minigraphs or all [VG-2414]
* add timezones gmt-12 - gmt+12 to timezones list [VG-2594]
* add not operator to CDR filter / SIP requests [VG-2593]
* set the expiration for share.voipmonitor.org and for the internal public share [VG-1617] [VG-691]
* add automatic logout (according to user configuration) [VG-2587]
* update hwid generator for another kubernetes /proc/self/cgroup file [VG-2602]
* hide buttons 'filters' and 'tools' in chart 'number of license calls' (series filters for this calculation method are not supported) [VG-2601]
* add option for hiding username/password in login dialog (when you want to use Google Sign only) [VG-2606]
* allow to filter zero or one RTP stream in CDR filter, Fix the conditions for other RTP streams options. IPs are not numbers anymore in the db [VG-2196]
* adding the callidmerge\_header parameter to the parameters that are automatically detected from the running sniffer when pcap to audio conversion is requested [VG-2414]
* enable id\_sensor application for pcap upload in client/server mode [VG-2482]
* adding parameters for the getVoipCalls api function numberOfAttempts - maximum number of attempts (default is 1), sleepBetweenAttempts - pause between attempts in seconds [VG-2559]
* fix issues with 'remove at' in capture rules [VG-2374]
* fix the displaying of the RTCP max value in the CDR view (avg value vas used) [VG-2249]
* fix hidden columns glitch in CDR groups [VG-2588]
* fix permission verification for audio playback in public share [VG-2591]
* fix deleting /tmp/VM\_VS\* for some cases [VG-2592]
* fix rtp stream analyser for hp\_erm [VG-2600]

## 2023-02-20 Version 25.6

* allow password change and 2fa authentication settings for the master user in the cloud [VG-2579]
* implement ODS format for alerts/reports attachments (set by default) [VG-2557]
* speed optimisation when opening CDR detail in in CDR legs by header/cid [VG-2582]
* fix icon layout for play in cdr row

## 2023-02-10 Version 25.5

* add calls per RTP IP stacked into active calls view [VG-1708]
* add columns with payload (codec) name into csv export [VG-2575]
* better error message for duplicit 'Default Google Sign account [VG-1854]
* fix issue with automatic modification of structure if it contains 'unique' column option
* add paginator to capture rules and groups [VG-2576]
* csv attachments in alerts/reports are now compressed by default [VG-2557]
* add a new privilege to show spectrogram without privileges to listen to audio [VG-1847]
* custom options to the MTR command line [VG-2440]

## 2023-02-01 Version 25.4

* fix sniffer mass upgrade js error
* fix 25.3 license filter

## 2023-01-31 Version 25.3

* add parameter checkID for task getVoipCalls in api.php [VG-2559]
* fix new sniffer parameter ssl\_ipport
* cdr.id out of sequence api check fix
* add templates to the register filter form [VG-2457]
* fix ip group description in the register filter form [VG-2457]
* modify group filter settings in cdr/messages [VS-1406]
* add license chart in CDR section for easier channel estimation [VG-2566]
* add external script to concurrent calls alert [VG-2238]
* sensor reload suppression for cli operation restoreGuiTables
* allow one user account as default for Google Sign In. Allow more google emails to the one user account (Gmail emails option in secure users tab) [VG-1854]
* add useragent in change cdr country and change register country alerts [VG-2569]

## 2023-01-05 Version 25.2

* fix 25.1 (missing merge from develop branch)
* adding indication and filter for calls that have reached the maximum number of sip/invite packets [VS-1322]

## 2023-01-03 Version 25.1

* fix saving templates for registration charts [VG-1042]
* Preserve URL parameters after Google Sign In
* check innodb compression [VG-2394]
* tweak client/server timeouts
* add port columns to the register\_state/register\_failed tables for filtering [VS-1232]
* add CSeq to the SIP history [VG-2549]
* get info from sensor for correct processing of HP\_ERM encapsulation in the SIP: history [VS-1192]
* add 'Only if change IP' field to 'change cdr/register country' alerts [VS-1386]
* add support for show next branches in multibranch calls [VG-2445]
* fix issue with create table chart\_cache\_schedule (due to long index depending on mysql configuration) [VG-2551]
* use cdr.digest\_username (sip username when registering phone) in caller column in cdr grid, cdr group, billing [VS-1054]
* add ip address country code rules [VS-876]
* display 'domain to' in register state/failed and enable search by it [VG-2560]
* MTR improvements - Allow to use udp/tcp instead of icmp. Allow to setup source IP address [VG-2440]
* add IP Groups into register filter form [VG-2457]

## 2023-01-05 Version 25.1

* fix saving templates for registration charts [VG-1042]
* Preserve URL parameters after Google Sign In
* check innodb compression [VG-2394]
* tweak client/server timeouts
* add port columns to the register\_state/register\_failed tables for filtering [VS-1232]
* add CSeq to the SIP history [VG-2549]
* get info from sensor for correct processing of HP\_ERM encapsulation in the SIP: history [VS-1192]
* add 'Only if change IP' field to 'change cdr/register country' alerts [VS-1386]
* add support for show next branches in multibranch calls [VG-2445]
* fix issue with create table chart\_cache\_schedule (due to long index depending on mysql configuration) [VG-2551]
* use cdr.digest\_username (sip username when registering phone) in caller column in cdr grid, cdr group, billing [VS-1054]
* add ip address country code rules [VS-876]
* display 'domain to' in register state/failed and enable search by it [VG-2560]
* MTR improvements - Allow to use udp/tcp instead of icmp. Allow to setup source IP address [VG-2440]
* add IP Groups into register filter form [VG-2457]

## 2022-10-29 Version 25.0

* new SIP REGISTER charts / dashboards [VG-1042]
* new EVS codec support [VG-2514]
* fix moving panel in dashboard if move is started by mousedown on title text
* fix pcap merging
* fix php 8.1

## 2022-10-17 Version 24.104

* PHP 8.1 fixes [VG-2533]
* rewrite rtcp charts using using sniffer instead of tshark [VG-2536]
* add support for multiple tags in one custom header
* fix CDR stats needs set time interval [VG-2538]
* adding backtrace logging from js code that leads to a reload call without a specified time range [
* extension of billig\_rule.regex\_number column from 32 characters [VG-2541]
* speed and memory optimisations in CDR trends [VG-2519]
* optimizing the deletion of temporary files, adding the TMP\_DIR configuration variable to specify the location for temporary files [VG-2537]
* fix problem if form contains multiple tab-panels and they contain the same named fields [VG-2542]

## 2022-09-13 Version 24.103

* support ioncube for php 8.1
* fix problem with increased memory limit on 32-bit php
* fix redundant crash warning [VG-2507]
* The output of the listCdrIds API call should be sorted by cdr.id
* Don't require mysql ssl setting due to compatibility with old not-used sensor's mysql settings.
* allow to set the PHP memory\_limit in System configuration [VG-2518]
* migrate to Google Identity Services library [VG-2528]
* fix panel controls in the dashboard if the panel is too small [VG-2521]
* import from csv - resolving inconsistencies between ids across subtables, improve response when importing from csv if upload limit is not set properly [VS-1358]

## 2022-07-15 Version 24.102

* fix issue with call check\_tables after automatic upgrade

## 2022-07-14 Version 24.101

* fix apply of set current/previous month in report preview [VG-2462]
* fix issue with livesniffer when multiple sensors are selected in client/server mode and using packetbuffer\_sender mode [VG-2484]
* set phone number prefix 672 to antarctica [VG-2485]
* increase timeout (to 2hour) for task generateDebugLog [VG-2466]
* adding support for direction (request/response) resolution to cdr and message custom headers
* fix set clearButton flag in field 'direction' in 'custom headers' grid
* adding column conversions for 'sipcallerip\_v4', 'sipcalledip\_v4', 'sipcallerip\_v6', 'sipcalledip\_v6'
* fix problem with dashboard selection if tree structure is defined and if managerhost is not defined [VG-2489]
* fix issue with tooltips in 3d charts
* Don't require an expiration date if capture rule is permanent
* fix issue with json response from function upload (utilities.php)
* verbose log if pcap file download fails
* better regular expression test in custom header settings
* allow to disable live sniffer timeout warning. Plus allow to set default live sniffing timeout [VG-2483] [VG-2477]
* fix insufficient memory in CDR Summary report (apply limit for bin/charts) [VG-2500]
* fix mos legend in report 'CDR Summary / Number of calls' [VG-2497]
* Add example for group id usage in the LDAP custom script
* Add support for restoring data from the very old format of the spool
* increase memory\_limit setting [VG-2503]
* fix set sipport in audio conversion for ipv6 addresses [VG-2498]
* update geoip country [VG-2502]
* add auditing in rtp audio stream analyzer [VG-2504]
* update bin/vm binary to the latest sniffer version

## 2022-04-28 Version 24.100

* fix 3d chart performance issue chrome
* fix current/previous month input in report preview [VG-2462]
* update geip country [VG-2479]
* prevent duplicate sensor records in sensor table

## 2022-03-02 Version 24.99

* fix issue with html special chars in combo box [VG-2425]
* fix index.php when php-mysql is missing
* the adjustment of the getVoipCalls API call for better usage with mod\_rewrite. And add lastCdrId API call [VG-2448]
* fix issue with start live sniffer for ALL sensors [VG-2453]
* add support for NULL cdr filter in domain [VG-2456]
* fix problem with unterminated mysql connection (for testing active requests) in bin/charts [VG-2455]
* fix changing filter in CDR sidebar charts

## 2022-01-25 Version 24.98

* new beta trends section in CDR overview panel and main menu Reports - Trends (work in progress) [VG-2304]
* fix compatibility when cdr.response\_time\_100 column is missing [VG-2438]
* fix port in sip history for ip in ip protocols, disable resizing IP columns in sip history [VG-2441]
* fix index.php / ioncube compatibility in Ubuntu 20.04 (and others) [VG-2444]
* enable database IP/name lookup by default (it had to be enabled manually in configuration) [VS-1290]
* fix rtp analyzer display when cdr was anonymised [VG-2435]

## 2022-01-11 Version 24.97

* fix critical vulnerabilities - new sql injects for unathenticated users allowing gaining admin privileges
* disabling backup restore for authenticated user which allows uploading malicious php code
* adding basic authentication for web server is strongly advised: http://www.voipmonitor.org/doc/Basic-authentication
* switch to new ioncube encoder will require upgrading ioncube plugin to the latest version
* new dashboard reaorder feature allows repositioning widgets with visual feedback
* fix chart name when downloading, fix top call distribution chart download, fix PDV distribtion chart rendering [VG-2392]
* unification of packet details displayed in table format and in sip history graph [VG-2408]
* fix saving dashboard for opt/subs/ntf [VG-2421]
* fix filtering by sensor id in register active [VG-2419]
* add beta CDR trends feature into the cdr group [VG-2304]
* adjust context menu when clicking on IP or domain in CDR row [VG-2386]

## 2021-12-22 Version 24.96

* fix bug in dashboard when it is changed before loading is complete
* changing group by in CDR panel was not possible when custom columns were used [VG-2416]

## 2021-12-21 Version 24.95

* fix php 7.2 upgrade

## 2021-12-21 Version 24.94

* fix upgrade for php 7.4

## 2021-12-20 Version 24.93

* fix 24.92 php versions check

## 2021-12-20 Version 24.92

* fix php sessions whenb bypassing login is enabled [VG-2404]
* fix installation instructions when php-json is missing
* change tooltip text for bye timeout [VS-1266]
* added chart panels in CDR (beta) [VG-2387]
* new option custom\_headers\_max\_size for increase of limit for custom headers size [VS-1281]
* customize filename for the PCAP, WAV, OGG saving in the cdr view [VG-56]

## 2021-11-23 Version 24.91

* speed optimization in 3d-charts [VG-2400]
* fix alert save button when loading backup [VG-2402]
* added utility showing which dashboards are cached
* fix installation on opensuse

## 2021-11-16 Version 24.90

* added CDR trends (sniffer >= 29.0) VG-2304
* add context menu for filtering by SIP ip address into cdr row in CDR view [VG-2386]
* fix OSM\_tiles upload [VG-2389]
* implemented response\_time\_100 DB column (cdr filtering / charts)
* extending search back up to 24 hours in alerts [VG-2396]
* fix regular expression in processing of cdr filter combination [VG-2395]
* fix issue with tshark (parameter -d 'udp.port==50004,rtp' does not work (for port 50004)) [VG-2397]

## 2021-10-14 Version 24.89

* add support for operator price to alert 'billing over quota' [VG-2382]
* automatically chose appropriate table compression based on mysql/mariadb versions (fixes installation on 10.6 Mariadb)

## 2021-10-11 Version 24.87

* Add the option to enable automatic gui upgrade on the gui home panel (for admins only) [VG-1329]
* billing optimization - use function billing\_convert\_price\_to\_main\_currency only if need (if table currency contains more than 1 records)
* add calldate in join SQL statements which speeds up all queries using JOIN (CDR groups and many more) [VG-2379]

## 2021-10-06 Version 24.86

* fix graph scaling when reloading in cdr
* fix some php warnings [VG-2369]
* add missing user privileges check for default dashboards [VG-855]
* fix long pcap downloads, fix spectrogram for long calls [VG-2362]
* adjust ip address/hostname coloring - if hostname in IP lookup is empty color will be used based on DNS resolv. If no hostname is found then the IP address will be colored [VG-1799]
* fix downloading sip-msg pcap if time zone is changed [VG-2365]
* added column 'connected to server' in sensors list. Fix sensor reloads (disable cached previous results) [VG-2366]
* fix CSV export when columns are ordered differently [VG-2349]
* fix national/international filtering in cdr filter [VG-2367]
* added more values to the getVoipCalls and listCdrIds API calls [VG-2368]
* stop live sniffer with uid 0 (and drop table livepacket\_0) before insert first user, fix possibility for stop live sniffer in settings/sensors before creating first user [VG-2337]

## 2021-09-24 Version 24.85

* Allow users to see default dashboards [VG-855]
* fix ioncube install instructions in new index.php
* fix php53

## 2021-09-24 Version 24.84

* add filter icon in the group top source IP bottom pannel - when clicked it will filter all CDR/charts/all grouping windows by this ip
* increase limits in GUI form for active registrations counts min/max [VG-2364]
* add SIP domain anonymization [VG-2355]
* fix sending emails refused by microsoft mail servers (messageId was too long) [VG-2360]
* shorten sensor connect timeout
* if default dashboards are disabled do not show them in tree view [VG-855]
* add option saveaudio\_afterconnect (yes/no) to api function getVoiceRecording

## 2021-09-01 Version 24.83

* possible fix for php 5.3 crashing

## 2021-08-31 Version 24.82

* fix issue with ip filters after upgrade from ipv4 to ipv6 - part 1 (main filters) [VG-2358]

## 2021-08-25 Version 24.80

* fix audio sync in some cases [VG-2354]
* fix download pcap from register-active if client timezone is different than php timezone [VG-2357]
* fix javascript compatibility issue in new configuration

## 2021-08-18 Version 24.79

* fix 24.78 sip history js error

## 2021-08-25 Version 24.79

* fix 24.78 sip history js error

## 2021-08-18 Version 24.78

* in settings->sensors there is possibility to set spool folder individually for each sensor - this way GUI can try to find pcap / tar when they are archived in specified folders
* replace md5 password hashes with sha256 where it makes sense and where it's possible [VG-1586]
* display the digestrealm column fram the register\_state/\_failed tables [VG-1875]
* force php configuration option session.use\_trans\_sid to 0
* add the user privilege to make a backup of the GUI [VG-1820]
* redesign GUI filter to be able to change 'caller or called' to 'caller and called' quicker also in other filter places [VG-2033]
* implement multiselect combo for sensors in live sniffer [VG-1535]
* support for counting '487 session canceled' states in the 'fraud sequential' alert
* fix live sniffer's running after Gui's reload [VG-1535]
* implement prefix lookup for source/destination phone numbers into 'group by' in CDR view [VG-1758]
* add tooltips for some fields in fraud realtime concurent calls alert [VG-1826]
* Tools->IP lookup - add ability to use subnets so it can tag more IPs with one name, add ability to set colors for the names [VG-1799]
* Allow to disable default dashboards or to limit access th the default dashboards [VG-855]
* adjusted header height in sip-history so IP:port are more visible [VS-1218]
* fix parameter sanitization in custom interval seetings in charts [VG-2344]
* fix parsing the result of the manager command listcalls if it has no call
* fix long gui loading when a large number of sensors are unavailable

## 2021-06-29 Version 24.77

* fix sql errors - escape table names in php function rebuildTable

## 2021-06-29 Version 24.76

* quick change from 'caller or called' to 'caller and called' [VG-2033]
* fix nation/international filter [VG-1524]

## 2021-06-28 Version 24.75

* filter form caller/called redesign - it is now faster to switch between OR / AND (clicking into gray area)
* national/international filtering in CDR [VG-1524]
* fix quick filter layout in CDR toolbar (missing scrolling) [VG-2330]
* fix sent alerts deletion (access denied issue) [VG-2335]
* added settings for send call information [VG-2309]

## 2021-06-22 Version 24.74

* support for mrcp packets [VS-1167]
* add ss7 permission role into user's/group's setting [VG-2334]
* allow multiselect in Tools->IP Lookup and Tools->Prefix Lookup [VG-1700]
* fix anonymization in rtp stream analysis part [VG-2281]
* fix 'undefined' header in country-tree picker
* fix issue with cSniffer::setLocalSpooldir (inaccessible fax view) if set remote sensor in VPMANAGERHOST, VPMANAGERPORT
* fix sorting top100 in grouping bottom CDR (it was always sorted only by the first column) [VG-2339]

## 2021-06-14 Version 24.72

* CDR and PCAP export allows to anonymize data like IP and numbers (including sharing to share.voipmonitor) [VG-2281]
* adding support for custom headers without automatically added trailing colon [VS-1204]
* added optional automatic upgrade to new versions [VG-1329]
* bin/vm updated to the latest version

## 2021-06-15 Version 24.72

* CDR and PCAP export allows to anonymize data like IP and numbers (including sharing to share.voipmonitor) [VG-2281]
* adding support for custom headers without automatically added trailing colon [VS-1204]
* added optional automatic upgrade to new versions [VG-1329]
* bin/vm updated to the latest version

## 2021-05-31 Version 24.71

* optimizing repeat\_counter column in table users\_history [VG-2313]
* fix user deletion if user is owner of alerts / reports [VG-2310]
* ss7: set message type 2 to 'SAM' [VS-1188]
* fix new index.php for older php versions

## 2021-05-26 Version 24.70

* add an option for ignoring user restriction in 'Legs by CID' and 'Legs by header' tabs [VG-2311]
* fix the behavior of the 'enabled sensors' from User settings in Legs by CID / Legs by header, 'enabled sensors' will be applied for admin users too [VG-2318]
* don't allow to add/remove capture rules in SIP REGISTER view if the user don't have the permissions [VG-2316]
* log modifications in capture rules to audit log [VG-2321]
* removing Pitcairn from the table of country prefixes (prefix 64 is duplicated with New Zealand [VG-2315]
* index.php was rewritten for better security

## 2021-05-19 Version 24.69

* do not kill memcached process
* remove unused php files and all files containing eval,system,assert

## 2021-05-13 Version 24.68

* fix PHP remote code execution vulnerability (similar to 24.61). Immediate upgrade is strongly recommended. For better security enable http basic auth - https://www.voipmonitor.org/doc/Basic-authentication

## 2021-05-10 Version 24.67

* After upgrading from <= 24.60 check if server is running processes with web server privileges and kills them (once). Solves installations which were upgraded and patched but some processes were still running.

## 2021-05-07 Version 24.66

* add the api call (apilicensecheck.php?task=licenseCallsLimitCheck) which returns the information about concurrent call status [VG-2253]
* respect user set content type for api calls

## 2021-05-06 Version 24.65

* add the expiration time to licence check if licence is okay [VG-2253]

## 2021-05-04 Version 24.64

* fix problem when CDR are sorted by column which were deleted (custom header) [VG-2312]
* fix license update button [VG-2314]
* update vm binary to the latest version 28.0

## 2021-04-28 Version 24.63

* do not show rtcp chart if srtpc is not decrypted [VS-1191]
* allow individual GUI lock due to license if >14 days are needed

## 2021-04-14 Version 24.62

* save last sort in grid to user configuration (in cdr, message, ss7, register, opt/subs/notify) [VG-1673] [VG-1674]
* fix set limit for mask length in filter\_ip

## 2021-04-06 Version 24.61

* fix remote PHP code execution security flaw - upgrade is highly recommended. For better security enabling http auth basic is recommended for unauthorised http requests [VG-2301]
* fix SQL inject (only for authorised users) [VG-2296]
* optimization sql query for alerts: asr, acr, ner [VG-2288]
* new alert 'Compare Filters' which allows to trigger when % of CDR differs between two filters [VG-1335]
* fix function cCountryFlags::get\_flag for php < 5.5 [VG-2291]
* automatically stop SQL queries when user closes / leaves GUI
* add possibility to send json text output with 'Content-Type: application/json' header intead of text/html [VG-2292]
* in some cases filter\_\*\_sensors were not created when new db was creted [VG-2295]
* speed up rendering in RTP stream analyser
* add table tree\_arrange to list of tables for backup [VG-2298]

## 2021-03-05 Version 24.60

* add timezone dialog and use timezone in the SIP Opt., Subsc., Notify active menu [VG-1754]
* add timezone selection in SIP REGISTER menus [VG-1755]
* allow multiple sensor selection in filters [VG-2277]

## 2021-03-02 Version 24.59

* new 'group by' in cdr summary report: ip group (caller / called), number group (caller / called), country with napa prefix [VG-2279]
* fix access to table country\_code from report 'cdr summary' in cloud mode [VG-2285]
* use timezone in the SIP Opt., Subsc., Notify stored menu [VG-1754]
* fix audio decode for decrypted calls [VG-2282]

## 2021-02-23 Version 24.58

* fix problem with reordercap which can lead to no audio conversion
* add license check wrapper api [VG-2259]

## 2021-02-22 Version 24.57

* suppress use column cdr.reason\_q850\_text\_id in csv export if column does not exist [VG-2278]
* fix issue with json\_decode\_safe

## 2021-02-22 Version 24.56

* prevent cross-site scripting vulnerability

## 2021-02-22 Version 24.55

* add support for ss7/rudp [VS-1172]
* fix more cross-site scripting [VG-2274]

## 2021-02-16 Version 24.54

* fix cross-site scripting which allowed to execute javascript code on client side when viewing malicious SIP REGISTER packet (credit to Sandro Gauci)
* allow to graph a sip diagram without forbidden ip addresses [VG-2255]
* add support for Sonus SS7 STPs [VS-1160]
* fix download pcap from register failed [VG-2264]
* fix utf8-latin1 mismatch mysql query [VG-2262]
* adjust api getVoipCalls call. Add possibility to return custom headers in the output [VG-2266]
* allow searching NULL (cdr filter) in custom headers columns [VG-2246]
* update source data for country\_code\_prefix table (add prefixes 1800,1888,1877,1866,1855,1844,1833 to US) [VG-2268]
* do not trigger uptime decreased alert in client/server when there is connection problem (added option 'conectivity options') [VG-2261]
* fix filtering by qualify state in SIP OPTION [VG-2181]
* adjust api listCdrIds call. Add possibility to return custom headers in the output [VG-2266]

## 2021-02-18 Version 24.54

* fix cross-site scripting which allowed to execute javascript code on client side when viewing malicious SIP REGISTER packet (credit to Sandro Gauci)
* allow to graph a sip diagram without forbidden ip addresses [VG-2255]
* add support for Sonus SS7 STPs [VS-1160]
* fix download pcap from register failed [VG-2264]
* fix utf8-latin1 mismatch mysql query [VG-2262]
* adjust api getVoipCalls call. Add possibility to return custom headers in the output [VG-2266]
* allow searching NULL (cdr filter) in custom headers columns [VG-2246]
* update source data for country\_code\_prefix table (add prefixes 1800,1888,1877,1866,1855,1844,1833 to US) [VG-2268]
* do not trigger uptime decreased alert in client/server when there is connection problem (added option 'conectivity options') [VG-2261]
* fix filtering by qualify state in SIP OPTION [VG-2181]
* adjust api listCdrIds call. Add possibility to return custom headers in the output [VG-2266]

## 2021-02-19 Version 24.54

* fix cross-site scripting which allowed to execute javascript code on client side when viewing malicious SIP REGISTER packet (credit to Sandro Gauci)
* allow to graph a sip diagram without forbidden ip addresses [VG-2255]
* add support for Sonus SS7 STPs [VS-1160]
* fix download pcap from register failed [VG-2264]
* fix utf8-latin1 mismatch mysql query [VG-2262]
* adjust api getVoipCalls call. Add possibility to return custom headers in the output [VG-2266]
* allow searching NULL (cdr filter) in custom headers columns [VG-2246]
* update source data for country\_code\_prefix table (add prefixes 1800,1888,1877,1866,1855,1844,1833 to US) [VG-2268]
* do not trigger uptime decreased alert in client/server when there is connection problem (added option 'conectivity options') [VG-2261]
* fix filtering by qualify state in SIP OPTION [VG-2181]
* adjust api listCdrIds call. Add possibility to return custom headers in the output [VG-2266]

## 2021-01-21 Version 24.53

* new alert type 'concurrent calls drop'
* remove flash completely [VG-2244]
* added license id number in top right corner
* fix the typo which causes that domains filter from user's restriction works only one-way for Active Calls [VG-2252]
* fix menu render glitch for some cases
* added capture rules for video RTP and support for showing video RTP in sip history [VS-312]
* added q850reasonDescription into cdr view export [VG-2257]
* fix active registers filter - remove filter item is\_sipalg\_detected if set to false [VG-2256]
* allow search for NULL values in SIP/Q850 reason's columns [VG-2246]
* show sent reports / alerts directly in report/alert rule

## 2020-12-30 Version 24.52

* fix compatibility issue in mysql function getSumHoldTime for mysql <= 5.5

## 2020-12-30 Version 24.51

* disable authorization for API pcap's download when DISABLE\_API\_AUTH is enabled [VG-2235]
* new capture rules for sip options/subscribe/notify (sniffer >= 27.4) [VS-919]
* apply hold time to cdr summary (reports & dashboards) and cdr report with custom columns (reports & alerts) [VG-2240]

## 2020-12-18 Version 24.50

* fix pie charts isse (legends = unknown) [VG-2237]
* include t38 rows in sip history when merging cdrs [VG-2234]
* fix interval charts (jitter / delay) [VG-2239]
* add auditing for some API calls [VG-2200]
* monitor active SQL requests and terminate them (typically if user tries to do some expensive SQL queries and will close browser)
* add support for hour partitions
* add new API call listCdrIds and adjust getVoipCalls call [VG-2235]
* added support for GRE IP header in database (requires sniffer >= 27.3) [VS-1120]

## 2020-11-26 Version 24.48

* fix multi-series chart (broken in 24.47)

## 2020-11-25 Version 24.47

* update bin/vm to the latest version (G726 support)

## 2020-11-24 Version 24.46

* remove top level domain length in email check [VG-2227]

## 2020-11-25 Version 24.46

* remove top level domain length in email check [VG-2227]

## 2020-11-24 Version 24.45

* audio decode support for G726 and AAL2-G726 all variants [VS-1128]
* Display database group's id in group list (User & Audit menu). It is useful in custom login scripts.
* connect to remote sniffer when VPMANAGERHOST is set to not localhost ip (fixes pcap/audio download on some configurations) [VG-2221]
* updated hwid binary (licenses works in docker now)
* updated vm binary to the latest

## 2020-11-03 Version 24.44

* update vm binary to the latest (fixes audio resample)
* use packets count indication '<3' in 'sip history' if cdr\_rtp.received==0

## 2020-10-30 Version 24.43

* new CPS daily report and fix CPS calculation in cdr summary report [VG-2176]
* fix daylight saving issue in charts [VG-2216]

## 2020-10-23 Version 24.42

* fix scrolling in some grids in alerts / reports (also enable sort by every column in alerts and reports) [VG-2202]
* fix alerts stopped working if CDR table was reset [VG-2188]
* fix some geoip data
* increase timeout in active calls grid [VG-2193]
* support license in kubernet docker installations
* audio chunkplayer fix [VG-2211]
* fix searching %pattern in register tel. number filter [VG-2198]
* update NANPA prefixes [VG-2195]
* fix sensors selection in alert 'sensors'

## 2020-10-14 Version 24.41

* add support for 'user settings / user configuration' in custom-login mode [VG-2190]
* show end to end roundtrip delay (sniffer >= 27.1) [VS-920]
* speed optimisation in cdr\_summary reports (sql optimisation for alerts and reports (concurrent calls)) [VG-2202]

## 2020-09-30 Version 24.40

* new option ET\_COOKIE\_SAMESITE\_NONE\_IN\_LOGIN\_BY\_SID needed for 'SameSite=None' in login by SID [VG-2071]
* fix NER calculation [VG-2189]
* fix php security issue (php injection for logged users) [VG-2194]

## 2020-09-09 Version 24.39

* in CDR summary report grid add by minutes, hours and days (to be able to see time distribution in grid table) [VG-2176]
* enable show all dashboards for administrators in 'manage dashboards' [VG-2182]
* automatically convert ip-fields to ipv6 if sniffer is ipv6 enabled [VG-2183]
* do not fill ipv6 geoip if GUI is not ipv6 enabled [VG-2187]
* fix error 'The operation can not be started because another process is in progress' [VG-2187]
* fix mysql 8 compatibility for some report preview

## 2020-09-03 Version 24.38

* add support for 'and' combination between 'gt' and 'gt\_perc' condition in alerts - now it is possible to specify alert only if CDR bad cases are >N number and % at the same time (purpose it to not alert when you set 10% bad MOS score and there were low traffic) [VG-1743]
* show energy levels audio in RTP stream analyser
* update geoip country data [VG-2180]
* fix issue with bin/tshark if sipport range is too long [VG-2178]
* better formating of time in charts on X axe [VG-2158]
* fix load chart-series when editting daily reports / charts [VG-2184]

## 2020-08-18 Version 24.37

* in CDR group bottom panel add more top calls levels (now it is possible to drill down by two levels) and speed up country grouping in general [VG-2174]
* add csv export button to the SIP Opt., Subsc., Notify menu [VG-2171]
* fix timezone issue if client web browser has different TZ than GUI [VG-2174]
* change price accuracy in billing setting to decimal(16,8)

## 2020-08-12 Version 24.36

* fix mysql 8 compatibility (broken in 24.35)

## 2020-08-12 Version 24.35

* implemented user restrictions to alerts/reports (requires sniffer >= 26.20) [VG-1266]
* add support for regular expression in group of numbers - example R(12[34].\*) (requires sniffer >= 26.20) [VG-2161]
* allow landscape orientation in PDF output in Charts reports [VG-1798]
* fix cps\_max, cps\_avg in grid dashboards [VG-2163]
* fix bug where GUI were checking new versions every minute if not the latest version [VG-2160]
* use a zero instead of space char in concurrent calls report when no calls are in the time interval [VG-1781]
* add convertchar option to the GUI [VG-1781]
* fix .graph charts for php 7.4 (black lines instead of grey) [VG-2155]
* fix get\_magic\_quotes\_gpc warning for php 7.4
* add tooltip to xPDV value in cdr detail [VG-2116]
* fix issues with labels in pie charts (in cdr and message groups) [VG-2170]
* fix name of task when reloading sip\_msg (options, subscribe, notify) settings [VG-2165]
* in CDR filter - add Jitter max, Jitter avg in RTP tab [VG-2168]
* export User Agent text names instead of db id (named as a/b\_userAgentDesc) in cdr cvs export [VG-2172]
* Return cookie name in bypass\_login too. Because it may be other name than PHPSESSID

## 2020-07-21 Version 24.34

* fix AMR-WB
* fix dashboard interval this month (it showed previous month at 1.) [VG-2146]
* apply cdr group filter also in export csv, revaluation billing, batch download, delete cdr [VG-2148]
* rtp stream analyzer - fix issue with long transit
* add options/subscribe/notify charts in daily reports [VG-1981]
* add html, pdf, png to api function reportSummary [VG-2044]
* filter cdr by sdp/media types audio/image/video (requires sniffer 26.19) [VS-559]
* add last SIP response description column (named as lastSIPresponseDesc) to the cdr cvs export [VG-2149]

## 2020-07-07 Version 24.33

* Allow recalculate CDR prices [VG-2019]
* Fix javascript cross site scripting [VG-2147]
* Fix potentional sql injection [VG-2145]
* Fix dns in ip filter [VG-2144]

## 2020-06-26 Version 24.32

* Update bin/vm binary to 26.17.1
* do'nt allow to set the second spool in capture rules if DB column doesn't exist.

## 2020-06-24 Version 24.31

* don't allow pcap's upload if user don't confirm db tables creation [VG-2124]
* fix show error string in active calls if sensor is not connect in cloud mode
* fix length of column config\_id in table chart\_sniffer\_series [VG-2143]

## 2020-06-24 Version 24.29

* fix sensor name in chart 'realtime calls' [VG-2125]
* when search for User-Agent do not treat space and ; as a logical and delimiter [VG-2132]
* allow quotation apostrophes in the mysql user and password [VG-2123]
* auto-delete template files /tmp/VM\_VS\* (it can grow signifficantly over time) [VG-2126]
* fix permissions of the create audio in the RTP stream analysis [VG-2134]
* fix time data format print in alert concurrent-calls if TIMEZONE different than SENSORS\_TIMEZONE (cloud issue) [VG-2138]
* fix potential js issue in filter of sensor setting
* fix flickering in scrolling in group/grid
* fix 500 error page if license key expires [VG-2140]
* fix blocked user if user is in unblocked group [VG-2139]
* fix sensor ready after restart / upgrade [VS-1079]
* fix filter CDR in MOS interval interractive chart [VG-2142]

## 2020-05-31 Version 24.28

* fix custom GEOIP in active calls map (fix check ip in subnet) [VG-2091]
* fix potential issue with duplicity of expander-id between 'customer geoip' panel and window
* better output in the 'missing coordinates for private network' window.
* allow to search PDV sum, PDV avg in RTP tab CDR filter form [VG-2098]
* add mos\_f1/f2/adapt\_min values in cdr filter form (rtp tab) [VG-2055]
* Fix typo, 4 hours are 14400 seconds
* increase timeout when getting pcap file (new configuration option GET\_PCAP\_SELECT\_TIMEOUT) [VG-2097]
* fix register state filter (filtering for unregister) [VG-2113]
* add support for state 'global' for capture column spool\_2 [VS-1071]
* fix dashboard link if there is dashboard with the same name [VG-2119]
* fix issue with 'force index (calldate)' in cdr when index calldate does not exists
* fix login by SID (if set sessionname\_by\_server\_floder) [VG-2071]
* modify formula for xPDV to delay\_sum/delay\_cnt (instead of /connect\_duration) [VG-2115]
* update vm binary to the latest version
* fix issue with rtp charts in combination of natalias and missing cdr\_rtp.index column [VG-2121]

## 2020-04-20 Version 24.27

* fix active calls for some cases [VG-2090]
* use customer\_geoip table in spymap for public ips [VG-2091]
* fix crashes in ioncube
* update vm binary to the latest

## 2020-04-09 Version 24.26

* add billing price values in dashboard grid columns [VG-2014]
* added last 48,72h intervals to dashboards [VG-2085]

## 2020-03-31 Version 24.25

* Enable database IP reverse lookup by default.
* allow negation of the SIP response value in SIP response alert [VG-2081]
* add price columns in cdr view 'top calls' tab [VG-2013]

## 2020-04-09 Version 24.25

* Enable database IP reverse lookup by default.
* allow negation of the SIP response value in SIP response alert [VG-2081]
* add price columns in cdr view 'top calls' tab [VG-2013]

## 2020-03-20 Version 24.24

* update bin/vm which fixes audio decoding issues

## 2020-03-17 Version 24.23

* enable deduplication when download pcap file [VG-1816]
* fix active calls map for private ip addresses 10.x.x.x [VG-2068]
* fix js error when opening cdr detail in some cases [VG-2077]
* fix bin/vm which were segfaulting in prev version

## 2020-03-12 Version 24.22

* speed optimization in cdr and messages grouping queries [VG-2064]
* optimize sql where-conditions for multi charts filters
* added debug tool in billing settings so users can try how CDR will be rated and why [VG-2019]
* do not refresh dashboard widgets if they are not in focus [VG-2046]
* do not search IP in cdr\_proxy by default as this query is slower by magnitude - user have to check searching for IP in cdr proxy manually [VG-2057]
* enable only store numeric value for type value 'integer' in configuration.php [VG-2066]
* fix reason q850 text in cdr group [VG-1997]
* Fix tooltip message for duration rtp column
* SIP REGISTER fixed export now show UNREGISTER instead of OK for UNREGISTER state [VG-2049]
* update vm binary to the 26.11

## 2020-02-25 Version 24.21

* add 'IP lookup add/edit line' in right-click cdr group-by window context menu (user can easilly name the IP there) [VG-1988]
* added billing test panel in billing settings to test rules / combinations [VG-2019]
* remove delay render when hovering on menu items [VG-2045]
* fix layout issue in report / csv export, add text fields ua, state for REGISTER export [VG-2049]
* allow to close sip-history window with ESC key [VG-2042]
* fix save/load configuration for custom-login users [VG-2054]
* optimize menu for selecting RTP streams [VS-1039]
* fix RTCP charts [VG-2058]
* fix ipv6 support for sip history
* add support for rtp filters / rtp stream analysis for pcapsplit = no
* add SET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED for bin/charts [VS-1042]
* speed optimization in cdr group by last sip response

## 2020-02-17 Version 24.20

* fix not (!) operator in CDR filter even if the column is NULL [VG-2041]
* fix render bug when selecting checkbox in CDR id column [VG-2047]

## 2020-02-10 Version 24.19

* do not offer db upgrade for rtp.duration

## 2020-02-10 Version 24.18

* fix number of chart processes in background (it could overload the server) [VG-2038]

## 2020-02-07 Version 24.17

* do not hide mouse hover tool tips after 5 seconds [VG-1998]
* show all RTP .graph charts in CDR detail [VG-2005]
* rearrange some OK/save buttons to be more consistent [VG-1999]
* Don't escape password string to allow the usage of the special characters
* Fix slow GUI response when doing SIP merge when many sensors are defined
* Allow upgrade RTP table within GUI for RTP duration column [VG-2008]
* fix empty direction field in cdr detail -> charts tab [VG-2016]
* fix bin/charts binary used for chart / aggregation calculations (within GUI or crontab) which might failed and when calculations falls back to PHP server is overloaded and aggregations / charts never finished [VG-2038]

## 2020-02-03 Version 24.16

* allow to choose number of intervals on X axe for graphs in dashboard [VG-2025]
* Adjust loss/delay in CDR to make it more readable [VG-2004]
* fix issue with graph redraw in CDR when yesterday was selected [VG-2015]
* fix upgrading billing columns for higher precision [VS-1032]
* add rtp stream's duratin time into SIP history (needs sniffer 26.9) [VG-2008]
* fix alert watchdog over quota (blank groups and check previous intervals when aggregation is enabled) [VG-1991]

## 2020-01-29 Version 24.15

* fix displaying Q.850 cause number for some cases [VG-1997]
* fix selecting correlated CDR in Register when user selected specific call date [VG-2009]
* fix colors in intervals charts (fixes 24.14) [VG-2010]
* add 'Chart color' in dashboard active calls chart afor separating sensors [VG-1983]
* display 'no jitter' and 'no packet loss' instead zero value in the RTP stats column in the CDR view [VG-2004]

## 2020-01-28 Version 24.14

* fix charts (broken in 24.13)
* show number of packets in RTP stream list (when clicking on RTP IP) [VS-1030]
* use full width when expanding CDR detail [VG-1995]

## 2020-01-28 Version 24.13

* add charts for SIP OPTIONS / SUBSCRIBE and NOTIFY [VG-1957]
* add area charts for top source/destination domain or IPs for CDR/MESSAGES/OPTIONS/NOTIFY/SUBSCRIBE [VG-1021]
* add dashboard panels for new chart types
* allow cidr/netmask in RTP IP:port and SDP IP:port filter [VG-1976]
* try DNS resolve if IP/Net is not recognized in the cdr Search form [VG-1199]
* fix slow main menu loading
* change order of the series in several templates like loss/delay (those where there are percentiles and avg) so they are properly rendered [VG-1987]
* regroup / move search item related to IP to be more consistent [VG-1992]
* automatically resize/move rtp stream .graph window [VG-1990]
* fix group by codecs which were not using charts binary
* show all RTP captured streams when selecting RTP streams by clicking on IP [VS-1030]
* use full width of row expander for width of charts in CDR.SummaryPanel [VG-1995]
* remove whole line (instead of clearing it) when removing chart series in chart configuration so user do not need reorganise them [VG-1989]

## 2020-01-17 Version 24.12

* add support for keyboard input in quick search fields [VG-1974]
* allow to delete user when user created cdr note [VG-1977]
* fix 24.11 which might broken configuration.php

## 2020-01-15 Version 24.11

* rebuild detect sniffer parameters for all cases (fixes audio when zerossrc is enabled) [VG-1836]
* added support for mysql ssl connection for bin/charts [VG-1973]
* merging pcap files are now parallelised [VG-1800]
* live sniffer start and live sniffer stop are now logged to audit log [VG-1975]
* updated bin/vm to 26.7

## 2020-01-07 Version 24.10

* fix share cdr/message with ipv6 ip columns
* rename 'Common settings' to 'Country prefix' [VG-1784]
* fix chart configuration in daily reports - disable datefields from/to [VG-1962]
* fix layout in cdr filter / save template
* modify phone country codes - removed 37 DE (Germany), change 262 to RE (Reunion) [VG-1969]
* fix function saveCallStatistics from run.php
* billing - add resolution to rules for number format (original, normalized, both), add resolution to rules for number type (local, international, both) [VG-1971]
* add ip fragmented filter item in CDR filter, show mark in CDR brief, show fragmented flag in SIP history (needs sniffer 26.6)
* update vm binary to the 26.6

## 2019-12-20 Version 24.9

* add support for test and print domain in fraud alert change cdr country [VG-1609]
* fix SIP history GUI glitch for some CDR types (T.38) and maybe others [VG-1961]

## 2019-12-19 Version 24.8

* apply user restriction in edit groups [VG-1958]
* fix custom headers in CDR for some cases [VG-1947]

## 2019-12-12 Version 24.7

* add support for report 'cdr summary'/'number of calls' in api function reportSummary [VG-1935]
* fix issue with mysql error 'Cannot execute statement: impossible to write to binary log since BINLOG\_FORMAT = STATEMENT [VG-1956]

## 2019-12-06 Version 24.6

* Validate IP address in capture rules

## 2019-11-29 Version 24.5

* Allow more data series (there was 5 limit) in one chart [VG-1001]
* Added new field 'by ip' (src, dst, both) in fraud realtime concurrent calls [VG-1915]
* Added ipv6 support to billing over quota alert [VG-1941]
* Recursively find all legs for a CDR in CDR->legs by header [VG-1945]

## 2019-11-11 Version 24.4

* add support for billing aggregation based on domain [VG-1886]
* add support for per-sensor capture rules (sniffer >= 25.9) [VG-686]
* added filtering for calls based on telephone-event in invite / res2xx (Detecting RFC2833 calls) (sniffer >= 25.9) [VS-331]
* speed optimization for SQL queries in function processRows\_CDR (added calldate condition) which fixes loading CDR after upgrade to 24.3 for some MySQL/MariDB versions [VG-1936]
* show xml part from SIP message body [VG-1751]
* Added support for SSL/TLS mysql cert key [VG-965]
* network map can be now shared via URL [VG-1934]
* license check will now block only when there will be 3 consecutive days
* fix show properties window in network map
* fix live audio listen for some cases [VG-1929]
* fix ipv4 binary operations on 32bit PHP [VG-1938]
* fix geoip country table for ipv6 [VG-1775]
* fix FAX PDF when fax-log is too long [VG-1928]
* fix batch download

## 2019-10-23 Version 24.3

* Dashboards can be now saved and organised in tree structure [VG-1919]
* fix saving groups in sip opt/subs/notify settings [VG-1926]
* packet loss interval dashboard can be split by caller and called [VG-1907]
* add license concurrent calls stats chart to cdr toolbar
* add a/b\_packet\_loss\_perc\_mult1000 to rtp columns in cdr grid (SHOW\_AVERAGE\_PACKET\_LOSS\_IN\_CDR\_GRID must be set in GUI settings) [VG-1909]

## 2019-10-11 Version 24.2

* hide passwords in 'System configuration' [VG-1924]
* add CDR CSV export scheduler in Reports section [VG-1530]

## 2019-10-04 Version 24.1

* add audio player to the new RTP stream analyses (+ small tweaks and enhancements), fix for too short stream without grid scroller, packet detail window manager, add tab layout for quick switch between streams [VG-1870]
* add mysql transaction isolation level (SET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED)
* add chart series 'MOS Caller - intervals' and 'MOS Called - intervals' [VG-1793]
* add field 'by ip' (src, dst, both) in fraud sequential alert (needs sniffer 25.8) [VG-1915]
* add support for parallel processing alerts and reports - add parameter CRON\_PARALLEL\_TASKS [VG-1718]
* add support for multiple ports and port range in sniffer configuration [VG-1922]
* enable send 'empty report' for reports ConcurrentCallStat and CdrSummary [VG-1696]
* create mysql procedure get\_legs\_by\_cid\_for\_callid(call\_id varchar(255), interval\_s int, num\_length int, day\_only date) [VG-1916]
* fix gui connection to the sniffer over ipv6
* fix sip:history link via API [VG-1686]
* fix set advanced country prefixes / rules, fix condition for show fields in frame 'trim prefixes' [VS-970]
* fix layout for country indication if flag does not exists. add flag for md-sn [VG-1920]
* fix function ip\_is\_set for ipv6 [VG-1923]

## 2019-09-19 Version 24.0

* new RTP stream analysis for RTP streams (wireshark style) - accessible in RTP detail [VG-1870]
* fix 'BAD IP' for 0.0.0.0/x in custom rules setting [VG-1910]

## 2019-09-12 Version 23.16

* optionaly log audit data to the log file [VG-1904]

## 2019-09-11 Version 23.15

* fix negation and network notation in SIP proxy filter [VG-1889]
* fix cdr filter rendering for safari [VG-1895]
* fix CDR summery report type:number of calls [VG-1893]
* add group by rtp ip in grid-reports 'Call summary' and 'QOS report' [VG-1901]

## 2019-09-07 Version 23.14

* check ip address in the ip capture rule before save [VG-1896]
* add support for time accuracy in milliseconds - requires sniffer 25.6 and DB update (tools -> check mysql schema) [VS-586]
* use user-groups in api.php [VG-1894]
* fix performance issue in mariadb with query for check max calldate/callend [VG-1899]
* use filter items last\_days and last\_minutes in group stat charts [VG-1890]
* update vm binary to 25.6 (fixes G729 sync issues for some cases)

## 2019-08-28 Version 23.13

* fix importing GeoIP tables

## 2019-08-21 Version 23.12

* fix debian 10 compatibility when converting audio [VG-1883]
* update vm/bin to the latest which fixes audio conversion for some cases

## 2019-08-19 Version 23.11

* new alert SIP OPTION (mainly for asterisk qualify feature) [VS-614]
* add regex number in billing rule [VS-917]
* convert watchdog billing values from int to float [VG-1874]
* new DTMF save options in Capture Rules [VG-1880]
* fix problem with 2FA permission after first login [VG-1885]
* user restriction based on custom SIP headers, show SIP custom headers in active calls [VS-943], [VG-1703]
* updated vm binary to the latest version (fixes some audio sync issues)
* fix issue with 'select sensors' in alert 'sensors' [VG-1879]

## 2019-07-26 Version 23.10

* add chart aggregations to daily reports charts [VS-904]
* reload sensors in parallel on background when doing changes in capture rules to not block users doing mass changes when having many sensors [VG-1872]
* add warning in CDR list when sensor\_id does not exist in settings->sensors list [VG-1843]
* add timezone support individual daily reports [VG-1843]
* add filtering by by vlan id in active calls and in live sniffing [VG-1827]
* fix restoring configuration from file for some cases [VG-1838]
* use darkcyan color for MOS silence in cdr grid, use blank format ' / ' instead of '0.0/0.0' for mos [VS-941]
* reload sensors after restoring configuration from file [VG-1867]
* fix uploading pcap when secondary spool is defined [VG-1822]
* fix timeaxis title when exporting dashboard chart via API [VG-1868]
* change time separator in file name in batch download -> use '-' instead of ':'
* change sql searching when caller and called IP is set in CDR filter form and searching by sip proxy at the same time. Before it was {(CALLER==IP1 and CALLED==IP2) or PROXY==IP1 or PROXY==IP2)} now it is: {(CALLER==IP1 and CALLED==IP2) or (PROXY==IP1 and CALLED==IP2) or (CALLER==IP1 and PROXY==IP2)} [VG-1869]
* fix user restriction in live sniffer [VG-1871]
* update bin/vm to the latest version (audio decode fixes)

## 2019-07-11 Version 23.9

* add support for sip register ports in registers active [VS-938]
* report CDR summary - speed & memory optimization

## 2019-07-10 Version 23.8

* new summary type 'number of calls' report type in 'CDR Summary' daily reports [VG-1863]

## 2019-07-05 Version 23.7

* fix load pcap in server / client mode if server\_bind is '0.0.0.0' [VG-1861]
* fix CDR groups - fix filter by null caller / called number, fix chart top call distribution (broken since IPv6) [VG-1862]
* Fix warning 'A non-numeric value encountered' in php template file.

## 2019-06-28 Version 23.6

* search sip history for both options save\_sip\_history/save\_sip\_responses [VG-1859]
* fix save\_sip\_history/save\_sip\_responses options [VG-1859]
* allow VLAN restrictions for GUI users (needs sniffer >= 25.1) VG-1827
* updated vm binary 25.1 which fixes audio sync issue for some cases

## 2019-06-26 Version 23.5

* fix proxy ip filter in cdr / message for no-ipv6 old databases [VG-1857]

## 2019-06-25 Version 23.4

* fix proxy ip filtering in cdr / message [VG-1857]

## 2019-06-19 Version 23.3

* fix server/client mode when server\_bind in server configuration is '0.0.0.0' (broken since ivp6)

## 2019-06-18 Version 23.2

* fix downloading and playing audio for long calls (extracting from tar parts were broken for long pcaps)

## 2019-06-17 Version 23.1

* fix ipv6 bug (sensors not shown in settings after upgrade to ipv6)
* added option sip\_history in getShareURL api call [VG-1686]

## 2019-06-12 Version 23.0

* ipv6 support (sniffer >= 25.0)
* Fix country flags in CDR view [VG-1844]
* hide rtp statistics + download & play audio if a/b playload is not set [VS-927]
* fix delete network map for users [VG-1840]
* fix csv import Settings->Common Settings->country prefixes/rules [VG-1839]

## 2019-05-30 Version 22.20

* Google sign in integration [VG-1777]
* Fix PHP Catchable fatal error: Object of class c\_date\_time could not be converted to string
* Fix alerts query for mariadb 8
* Add documentation for 'match in sip by header' option in the Custom headers

## 2019-05-15 Version 22.19

* enable set custom columns in rtp alert/report even if custom headers does not exists [VG-1831]
* fix uploading 30 days trial key
* fix hwid when GUI is running in docker
* fix slow GUI -> settings -> sensors loading on some installations

## 2019-05-05 Version 22.18

* fix quick filter menu in cdr [VG-1824]
* Add an AD variant of the usage into ldap custom script example.
* fix bin/charts - fix issue with group by ip groups if missing group for ip
* fix potential crash in bin/charts for groups of messages

## 2019-04-10 Version 22.16

* change NER last-sip-response filter to '2XX 3XX 4XX 603' (this can be changed in GUI settings NER\_LSR\_FILTER) [VG-868]
* Added support for MP4A-LATM [VS-907]
* debug log generator for voipmonitor support (tools->generate debug log) [VG-1808]

## 2019-04-02 Version 22.15

* added NER (Network Effectiveness Ratio) metric (charts, alerts, cdr groups, etc.) [VG-868]
* added asr average in charts (same as acd average) [VG-1807]
* fix issue with filtering by cdr country in alerts / reports [VG-1809]
* added support for new cdr columns mos\_silence [VG-1801]
* optimize alert type sensors [VG-1787]
* show cdr.bye and cdr.flags issues in cdr summary
* fix dashboard caching CPU spikes [VG-1810]
* fix stop mysql query in reports - view / send

## 2019-03-14 Version 22.14

* support for new sniffer 24.0
* fix issue with storing 'filter' parameter - fixes searching by ID in Opt.,Subsc,Notify [VG-1785]
* fix showing count of last interval in charts [VG-1788]

## 2019-03-09 Version 22.13

* add caller/called country into RTP report (using custom column config)[VG-1789]
* fix javascript error in dashboards (fixes not storing dashboard) [VG-1796]

## 2019-03-07 Version 22.12

* show user history for administrators [VG-1782]
* update bin/vm binaries to the latest (fixes ERSPAN audio conversion)
* fix php 7.3

## 2019-02-25 Version 22.11

* fix loading sensor and sensor alerts for large databases
* fix loading pcap from remote sensor (network code optimization)
* Fix PHP Warning: Use of undefined constant VERSION\_MINOR

## 2019-02-13 Version 22.10

* fix exporting data in dashboards [VG-1742]
* use dashboard cache/aggregation for api getDashboardPanel [VG-1720]
* custom columns for CDR/RTP alerts - add tooltips, allow disable custom columns grid instead of hiding, fix disable column [VG-1757]

## 2019-02-12 Version 22.9

* in cdr/rtp allerts allow to chose custom cdr columns [1757]
* fix slow sensors list loading in gui settings (optimize sql)

## 2019-02-09 Version 22.8

* fix sql upgrade for mysql 5.1 versions

## 2019-02-08 Version 22.7

* sql optimizations
* fix custom login - tracker tickets, user selections, php warnings, timezone selection, tooltip minor issue, search in comments in tracker [VG-1746]
* signifficant speed optimization in settings -> sensors loading
* fix z-index for tools in network map [VG-1753]
* expand removing capture rules by hours/minutes, add timezone conversion in the capture rules settings [VG-1659] [VG-1537]
* add export data sources for charts in dashboard (URL link for csv export and inside GUI) [VG-1742]
* fix title bar size in dashboard
* fix charts for 30-days chart with hours-scale - create new timeaxis 2-hours [VG-1759]
* fix find pcap / graph for long call-id for next spool storage [VG-1761]
* fix filtering in opt/notify/subscribe [VG-1765]
* fix interval charts when clicked on interval inside chart [VG-1767]
* do not cache pcap files which are over 20MB to not overload system

## 2019-01-15 Version 22.6

* Significantly reduce CPU load when running many alerts rules for large databases

## 2019-06-26 Version 22.5

* fix dashboard and charts
* fix manual "send report" button in alerts

## 2019-01-10 Version 22.4

* fix dashboards drawing (broken in 22.3)
* fix audio download when pcap/audio is in secondary spooldir [VG-1749]
* add global remover for the capture rules - all capture rules are removed if not set premament, add user setting for maximum allowed capture rules auto removal date range [VG-1659, VG-1537]
* restrict not only cdr but also messages/registers/options/ss7 if user is restricted to some sensors [VG-1737]

## 2019-01-08 Version 22.3

* dashboard caching aggregation - allow to disable individual charts cache (if caching is enabled for all charts), added automatic calculations on background if sensor SQLf queue are above threshold (database is overloaded) [VG-1748]
* charts: new horizontal lines showing percentiles %95 / %99 for primary series [VG-1706]
* add more conditions in custom's headers - now it is possible to get custom header value from specific SIP packet (select occurence, CSEQ method, SIP response code) [VS-856]
* allow blank email in alerts if external script is selected [VG-1507]
* add user agent and domain filter in active calls [VG-1647]
* fix scrollbar issue in cdr filter
* fix filter issue in sensor setting
* fix refreshing expanded detail in sensors grid [VG-1736]

## 2018-12-18 Version 22.2

* fix creating new dashboard GUI->dashboard new layout->ok [VG-1719]
* CDR filters - implemented regular expressions in most of text fields either by switching the field to regexp or R() (example: R(^00.\*) [VG-66]
* fix ps/etimes on older systems [VG-1727]
* enhance mass sniffer upgrade if one of the sniffer fails to update after upgrade [VG-1722]
* fix bug in function run.php/getParams [VG-1726]
* enhance alerts sip response / reasons - add summary by source ip, send summary by source / dest ip to external script [VG-1568]
* change RTCP description for loss (instead of fraction) [VG-1729]
* fix new chart aggregations for some cases
* update fixed vmcodecs [VG-1733]

## 2018-12-06 Version 22.1

* fix aggregation background processes

## 2018-12-05 Version 22.0

* new dashboard chart caching feature which works like RRD - round robin database. Now when user wants to create 30 days charts he will be asked to convert it to RRD chart which allows instant chart render accross any interval. Data are calculated using background processing (spawned from crontab). This feature is working only for chart dashboard widgets.
* add SIP-ALG detection in cdr / register filters [VG-1140]
* apply new sniffer parameter --big-jitter-resync-threshold for creating audio if a\_d300 > 0 or b\_d300 > 0 [VS-847]
* new capture rule option allowing to disable DTMF recording (to comply with PCI) [VS-796]
* display zeroSSRC flag and allow filtering for it (usefull for searching calls with zero SSRC) [VS-844]
* refactor GUI -> sensor communication to asynchronous calls (fixes GUI unresponsivness when connection stalls) [VG-1685]
* allow negative offset in CDR charts (like in dashboards) [VG-1515]
* display an info about the current date and the expiration date when the license expires [VG-1699]
* add support for copy to clipboard (cell, row, table) to cdr groups/summary [VG-1694]
* allow to pass parameters to alert script via temporary file [VG-1692]
* allow to manually run alert even if it is disabled [VG-1704]
* add cdr.id limitation to multiple queries in report generator which fixes differences in report generator and CDR section [VG-1690]
* fix tooltips in sensor configuration - show tooltip bubble only if tip is defined [VG-1693]
* update vm binary to the latest which fixes iLBC for 20ms packetization
* suppress apache warnings when internet is not accessible [VG-1671]
* fix graphic issues with chrome >= 70
* fix expires header column in register/state
* fix report sent for wrong period when previous month is used [VG-1698]
* fix copy to clipboard in daily reports [VG-1701]
* fix save dashboard template - fix reset user / group restrictions [VG-1705]
* charts - fix percent in tooltip if area is not primary [VG-1714]
* charts - fix ext-js issue with theme-colors in combination of stacked and not-stacked series [VG-1713]
* add utf-check response from sniffer [VG-1683]
* suppress ip 0.0.0.0 in alerts / reports

## 2018-10-25 Version 21.3

* fix refresh interval in options, notify, subscribe

## 2018-10-17 Version 21.2

* display FAS string with red color and with smaller size [VS-829]
* fix issue with chart-cache if (client timezone != server timezone && chart\_period >= TA\_DAYS)
* fix capture rules checkboxes [VG-1688]
* replace old php mcrypt engine with openssl [VG-1684]

## 2018-10-09 Version 21.1

* add support for FAS detection - display it in CDR ID column - added filtering

## 2018-10-08 Version 21.0

* new OPTIONS / SUBSCRIBE / NOTIFY menu (needs sniffer >= 23.0 with enabled sip-\* parameters) [VG-45]
* allow disabling sensors in settings [VG-1680]
* experimental dashboard caching feature - enable it in config/configuration.php - define('CHART\_NO\_CACHE\_MINUTES', 15); define('CHART\_CACHE\_KEEP\_EMPTY\_END\_INTERVALS', true); define('DASHBOARD\_CHARTS\_ENABLE\_USE\_ONLY\_CACHE', true); define('CHART\_USE\_SIP\_RESPONSES\_CODEBOOK', true); define('CHART\_MAX\_LENGTH\_SIP\_RESPONSE\_TEXT', 14); define('CHART\_CACHE\_PROCESSES', 6); define('CHART\_CACHE\_PROCESS\_MAX\_RUN', 20);
* add api function getShareURL, add api parameters for search legs by cid [VG-1633]
* fix api's permission in listActiveCalls task [VG-1677]
* increase precision in output from bin/charts which fixes slight differences in some calculations in reports and GUI [VG-1669]
* update bin/vm binary to the latest

## 2018-08-23 Version 20.7

* fix user configuration for non-admin users [VG-1625]
* fix set 'time period rules' in alert 'realtime concurrent calls'
* fix check if password expired / fix store records in users\_history
* add check if new password different from old (in password expiration)
* update geoip data
* fix searching for last sip response if user search for "000" [VG-1636]
* fix audit log when user is logging by using API [VG-1637]
* fix backuping huge tables
* add possibility to hide GUI->User settings->User configuration [VG-1640]
* change google maps to openstreet maps (admin can change it back to google maps in configuration)
* add support for localize text for response 'liveaudio is disabled' [VS-811]
* remove obsolete constants from configuration.php (INTERNATIONAL\_PREFIX, NATIONAL\_PREFIX, NATIONAL\_PREFIX\_2, NATIONAL\_PREFIX\_3, NATIONAL\_NUMBER\_LENGTH\_MAX) [VG-1634]
* update vm binary to the latest version
* fix group\_concat constant which fixes realtime concurrent calls if list of alerts are larger [VG-1655]

## 2018-07-19 Version 20.6

* fix vm binary broken since 20.4

## 2018-07-19 Version 20.5

* update vm binary which fixes uploading pcap (broken since 20.4)
* index.php - fix detect mysql error from check\_mysql\_connect [VG-1620]
* fix php warnings in libpng [VG-1622]
* fix messages filter form [VG-1623]

## 2018-07-13 Version 20.4

* increase the size of the 'user name' field in the SIP REGISTER views [VG-1615]

## 2018-07-13 Version 20.3

* add parameter to international rules - minimum legth for apply nanpa rules [VG-1578]
* fix issue with timeout in cdr filter if table with sent alerts / reports is too long
* add support for mysql 8 [VG-1594]
* fix web browser cpu consumption in dashboard
* fix position of configuration window in dashboard [VG-1614]
* fix problem with ioncube when time is off sync (indefinit http redirects) [VG-1612]
* update vm binary to the latest version which fixes some srtp audio decode issues

## 2018-07-02 Version 20.2

* update vm binary which fixes audi decoding for some cases

## 2018-06-28 Version 20.1

* in reports add option whole month: current / previous [VG-1600]
* tweak help for last response code filter [VG-1554]
* multiselect for day of weeks in reports [VG-1605]

## 2018-06-25 Version 20.0

* Two Factor Authentication (2FA) implemented [VG-1509]
* New main menu SIP OPTIONS (requires sniffer >= 22.7) which supports SIP OPTIONS
* Move MESSAGES above SIP OPTIONS and rename it to SIP MESSAGES
* enhance layout in User form settings
* added SIP domain filter in alert 'change register country' [VG-1598]
* added support for view and search / filtering CDR which has SRTP (encrypted RTP) without KEY so its not possible to decrypt (Diffie Helmann key exchange) [VS-786]
* add localization support for SIP REGISTER section
* in active calls do not search substring in callid
* in CSV exports do not limit number of rows [VG-1595]
* increase timeout when deleting CDR from 5 minutes to 60 minutes
* update vm binary which fixes out of sync audio in some cases
* fix sensor configuration when changing settings [VG-1572]
* fix vertical scroller in system configuration section
* fix sniffer auto update feature
* fix default checkbox in active calls [VS-790]
* fix scrolling in google chrome >= 67 linux version
* fix email generator where text was unreadable [VG-1601]
* fix last sip response condition in CDR filters where this did not worked: !2,!487 L% [VG-1554]
* fix alert 'time without call' if timezone differs between sensors and GUI [VS-793]

## 2018-05-22 Version 19.16

* update to the latest vm/bin which fixes unsynced audio (broken since 19.14)
* fix new custom auto cleaning (settings -> custom cleaning) [VG-1557]
* when duplicating user also duplicated assigned sensors [VG-1583]
* in dashboard set timeout for grids [VG-1581]

## 2018-05-16 Version 19.15

* new individual custom cleaning (in main menu) [VG-1557]
* fix some PHP warnings [VG-1565]
* allow sortable left grid in group panels (in CDR/MESSAGES section) [VG-1567]
* add a possibility to set external script in the Register\* alerts. Add a possibility to set variables exported for the external script [VG-1512]
* fix day filter in daily reports (fixes weekly reports) [VG-1576]
* fix reload sniffers combo which can show duplicate sensors names [VG-1569]
* fix configuration.php check after upgrade [VG-1571]
* charts - fix calculation of first interval if php timezone != sensor timezone [VS-785]
* do not send crash report for not current sniffer version and ask user if GUI should upgrade sniffer to the latest if crash is detected
* update bin/bm to the latest

## 2018-04-26 Version 19.14

* fix links for binary downloads

## 2018-04-26 Version 19.13

* enhance gui backup settings - now it includes alerts\_cdr,alerts\_message,alerts\_sended,audit\_log,audit\_log\_relation\_cdr,daily\_reports\_cdr,daily\_reports\_message,daily\_reports\_sended)
* update vm to the latest which fixes some audio decode

## 2018-04-25 Version 19.12

* new dashboard widget shows data from rtp\_stat - (realtime RTP metrics) [VG-721]
* in CDR detail show data from cdr\_siphistory (it must be enabled in sniffer) - grid / filtering [VG-660]
* support for mysql custom port: php php/run.php backupGuiTables -f backup.zip -h 127.0.0.1:3307 -u root -p pass -d voipmonitor
* fix cdr group 'top calls' and 'top calls distribution' (missing labels / remove empty title bar in chart tab) [VG-1562]
* fix timezone change in grid reports [VG-1555]
* fix filtering by sip responses in cdr filter (now you can use: 4,!487 Block%) [VG-1554]
* update vm binary to the latest (fixes some audio decoding cases)

## 2018-04-17 Version 19.11

* split option can\_cdr\_share to share public / private. rearrange checkboxes in users admin [VG-744]
* new user options - can\_edit\_all\_templates, can\_delete\_all\_templates [VG-352], 'read only dashboard' [VG-702]
* add suport for at/every in daily reports [VG-69]
* added sniffer auto upgrade feature [VG-575]
* add support for send call info after first invite (with and without reply) - in Settings -> Send call information [VS-778]

## 2018-04-09 Version 19.10

* delete expired capture rules from cron and not only upon user login [VG-1536]
* fix create filter for combination caler and called condition if one side has operator not [VG-1543]
* fix datetime when editing template [VG-1544]
* fix charts binary (kill old instances) [VG-1545]
* add wait indication when exporting cdr to csv [VG-1546]
* fix autoselect first item in combobox 'callerd\_search\_type' [VG-1547]
* fix chart calculation for overlapping intervals [VG-1548]

## 2018-03-28 Version 19.9

* fix timezone in interval selector in dashboards [VG-1522]
* update vm binary which fixes some audio decoding issues
* fix chart cache

## 2018-03-23 Version 19.8

* implement GUI backup / restore settings (without CDR data) [VG-177]
* fix sip history graph on some systems [VG-1528]
* update geoip db [VG-1529]
* call manager command country\_detect\_refresh after change in table geoip\_customer (menu Settings / Customer GeoIP) [VG-1529]
* add field 'country' to table geoip\_customer (menu Settings / Customer GeoIP) [VG-1529]
* In the network map unzip the config data before the ip address check [VG-1532]
* cache chart series data
* increase width of templates list in cdr filter and chart form
* add condition 'less than' to alert 'concurent calls' [VG-882]
* fix HTTP\_PROXY\_SERVER option (upgrade GUI will now work through configured proxy)
* fix charts binary which was not properly terminated when user canceled report/dashboard long calculations
* Add user permission to allow create and edit GUI->groups (IP/telnum/domain/custom headers/UAs/time periods) [VG-963]

## 2018-03-14 Version 19.7

* add support for external script for alert SIP failed REGISTER [VG-1512]
* GUI settings can be now backuped/restored - GUI menu or in cmd line run.php backupGuiTables, restoreGuiTables [VG-177]
* fix list of registrations in register alerts
* fix javascript error in active calls map [VG-1527]
* fix format and condition for 'List of watched...' in alerts & reports [VG-1525]

## 2018-03-13 Version 19.6

* fix position for rtp streams in sip history when merging pcap [VG-1517]
* fix charts in active calls when ENABLE\_SQL\_IP\_REVERSE\_LOOKUP is disabled
* delete records from table fraud\_alert\_info after change in alert or group used in alert [VG-1520]

## 2018-03-12 Version 19.5

* add filtering for active calls which (requires sniffer 22.1)
* parallelize GUI - sniffer communication - GUI is now more responsive when watching active calls
* add whohanged indication to cdr summary / cdr share [VG-1519]
* compatibility fix for php 5.1/5.2
* autokill vm-x86\_64/vm-i686 older than 60 minutes before run pcap2wav [VS-763]
* update vm binary to the latest version 22.1

## 2018-03-06 Version 19.4

* fix audio convert (broken since 18.20 if using non default root/nopassword)

## 2018-03-02 Version 19.3

* fix chart cache introduced in 19.X
* reload sniffers when changing customer country prefixes
* fix sensor name in cdr
* fix hide international rules in alerts form [VG-1504]
* fix active calls map
* fix url construcrtion in network map [VG-1342]
* add SIP text export for merged calls [VG-1476]
* add export SIP history diagram [VG-1460]

## 2018-02-20 Version 19.1

* change charts engine from svg to canvas which which fixes firefox memory leaks and speedups drawring in general [VG-1514]
* added searchbox in Sent Alerts menu and in Sent Reports menu [VG-1462]

## 2018-02-16 Version 19.0

* implement chart cache - keep computed intervals in cache and do not calculate it again (dashboards can now be configured for week / month intervals with many CDR) [VG-1511]
* fix charts - suppress highlight of line with set fillStyle attribute
* added auto audit log - when user listens to call it automatically log it (new options "AUTOAUDIT\_TEMPLATE\_PLAY\_WAV" in GUI settings) [VG-1414]
* export sip history in text form [VG-1476]
* add support for set timezone in billing rules [VG-1425]
* suppress duplicate partition error from query 'call billing\_agregation\_create\_parts()' [VG-1506]
* display sensor's name in cdr view [VG-1461]

## 2018-02-02 Version 18.22

* fix live sniffing
* allow billing limitation per sensor [VG-1425]
* increased interval for last CDR age in sensors alert. Now can be set in to 86400(24h) [VG-1501]

## 2018-01-31 Version 18.21

* fix 18.20 wrong php check version

## 2018-01-31 Version 18.20

* add possibility to share Network Maps (similar to CDR share) [VG-1342]
* modify condition for 'smart field border' in csv export (add option CSV\_DISABLE\_SMART\_FIELD\_BORDER to disable 'smart field border' in csv export) [VG-1488]
* add support for easter friday in billing holidays
* set upload\_max\_filesize in constants.php
* when the licence expires don't send any output to stdout from the cron alert script to prevent 'mail bombing' every minute [VG-1492]
* fix adding already assigned sensors in users [VG-1470]
* add ioncube consistency test between the installed php version and downloaded gui's version [VG-1472]
* dashboard api url - encode json string [VG-1481]
* added more colors in dashboard SIP responses [VG-1489]
* allow national settings for each sniffer [VG-1425]
* updated bin/vm to the latest version (some audio fixes)

## 2018-01-19 Version 18.19

* PHP 7.2 fixes
* Wait for sensors when upgrading / restarting [VS-743]
* Optimize fraud\_alert\_info when there are too many alerts - CPU was on 100% and GUI was unusable [VS-745]
* encode username in create dashboard link which fixes @ in username [VG-1481]
* allow to set sip register alert trigger for at least 1 registration in interval (added checkbox for not condition for user agents in alert 'SIP REGISTER user agent', added checkbox for not condition for interval in alert 'SIP is active REGISTER') [VG-1405]
* add parameter json [true/FALSE] to api function reportSummary [VG-1464]
* send sniffer crash backtrace to crash\_sniffer@voipmonitor.org (or to email defined in CRASH\_BACKTRACE\_TO\_EMAIL)
* remove phone number length condition from nanpa rules [VG-1474]
* add 'advanced mode' to table 'customer country prefixes' [VG-1395]

## 2018-01-08 Version 18.18

* added support for PHP 7.X
* autoselect servers for clients in active calls [VG-1473]
* fix sql errors in dashboard if sensor id does not exits [VG-1475]
* in users - sensors do not show sensors which are already assigned [VG-1470]
* fix storing resizing CDR columns for users logged via custom login [VG-1478]
* added support for active calls in clinet/server mode [VG-1479]

## 2017-12-28 Version 18.17

* support PHP 7.1/7.2

## 2017-12-22 Version 18.16

* fix false positive alerts TimeWithoutCall [VG-1469]
* Hide cdr note if cdr\_note is not present [VG-1450]
* add cdr summary api command: reportSummary - example: echo '{"task": "reportSummary", "user": "USER", "password": "PASSWORD", "params": {"report\_name": "test summary", "datetime\_from": "2017-12-20", "datetime\_to": "2017-12-20"}}' | php api.php [VG-1464]
* update vm binary to the latest
* fix create table cdr\_note when partitions are not used

## 2017-12-19 Version 18.15

* Users can now add notes to CDR (and file attachments) and search /filter CDR by note [VG-1450]
* fix PDF convert for some cases [VG-1453]

## 2017-12-18 Version 18.14

* fix server\_id for multi servers mode

## 2017-12-13 Version 18.13

* fix reset filter in active registers [VG-1454]
* add menu in export chart to pdf (simple method and A4 print method) [VG-1453]
* fix RTCP graph in CDR detail which can take different stream (if call has multiple RTP streams) [VS-683]
* fix audio conversion when id\_sensor is changed after cdr is already in the database and non standard sip ports are used
* fix if upload\_max\_filesize or post\_max\_size set to 0 [VG-1465]

## 2017-12-06 Version 18.12

* fix raster image conversion from svg - passive charts in dashboard and images in reports
* fix pcap download for simple cdr view [VG-1441]
* allow customer geoip in cdr / detail / map [VG-1439]

## 2017-12-04 Version 18.11

* Update vm binary (SRTP decryption support)
* check if there are international rules when selecting active calls map [VG-1440]
* fix sensor-color in active calls
* in users configuration disable checkbox 'can\_pcap' if 'simple\_cdr' is checked [VG-1441]
* use 'customer geoip' in cdr detail / map [VG-1439]
* fix tempalte combinations in CDR filter [VG-1443]
* fix false alerts [VG-1417]
* fix / rebuild save chart to svg [VG-1445]
* fix php function checkIpInSubnet for subnet 0.0.0.0/0 [VG-1442]
* use user restrictions (number, ip, domain) in active calls
* fix some php warnings [VG-1446]
* fix issue with sql condition for datetime\_to '23:59' [VG-801]

## 2017-11-23 Version 18.10

* update vm binary which fixes decoding audio when packets has VSS-Monitoring ethernet trailer
* enhance realtime calls map [VG-1071]
* sip history - add support for no-local ip adresses on both side (fixes SDP) [VS-703]
* allow hide new realtime calls map for users/group [VG-1436]
* do not timeout when updating geoip db
* test the existence of the a/b\_rtcp\_fraclost\_pktcount columns before it is used in alerts [VG-1437]
* fix download ss7-pcap if sniffer run with option tar=no
* check if pcap exists on remote sniffers which can be enabled in GUI settings (DETECT\_FILES\_IN\_REMOTE\_SENSORS) for case tar option in / etc / voipmonitor.conf is set to "no" [VG-1435]

## 2017-11-15 Version 18.9

* New realtime calls map overview in GUI menu -> active calls -> map and in dashboards (beta) [VG-1071]
* Upgrade timeout can be configurable in settings now [VS-711]
* HTTP proxy can be configured for upgrade in settings now [VG-1418]
* fix showing license info when using custom login API [VG-1422]
* fix graphic issues in audio player (fix toggle state buttons, auto scroll position and firefox issue when scale != 100%) [VG-1423]
* block license only if it goes over limit for two consecutive days and not one [VG-1427]
* fix very long Call-ID render in cdr summary

## 2017-11-03 Version 18.8

* fix phone country code 1904 (removed wrong character after prefix) [VS-715]
* fix missing silence audio at the end [VS-707]

## 2017-11-02 Version 18.7

* add support for get natalias from sensor configuration [VG-1403]
* fix download pcap from active registers from remote sensor [VG-1407]
* fix To/From in live sniffer packet detail [VS-712]
* fix large csv export [VG-1412]
* fix SIP active registration alert for 1 register occurence (change interval condition for alert 'SIP is active REGISTER (beta) - from >, < to >=, <=) [VG-1405]
* add support for natalias in share.voipmonitor.org [VG-1396]

## 2017-10-24 Version 18.6

* update vm binary (mgcp support)
* fix network map [VG-1393]
* fixed searching by caller num in active calls [VG-1398]
* fix duplicating dashboards [VG-1399]
* fix enter key in textareas [VG-1401]
* fix charts issue at some cases

## 2017-10-17 Version 18.5

* CDR filter (and other filters based on it) adds combinations tab which allows OR / AND filter combinations. You can now create complex searching filters like (IF A=1 OR B=2) AND (C != 1 OR D !=3) etc. [VG-1146]
* added support for new INVITE retransmission detection (sniffer >= 22.2) [VG-1313]
* fix country flags in CDR when not logged as some user [VG-1388]
* fix storing large network maps drawings [VG-1393]
* added support for mgcp active calls

## 2017-10-12 Version 18.4

* Show SDP IP:port in CDR detail and allow search by ip/port SDP (requires sniffer >= 21.1) [VS-499] [VS-531]
* fix subgrid row remove in filter forms

## 2017-10-06 Version 18.3

* optimize loading gui when using multiple sensors

## 2017-10-06 Version 18.2

* fix mass sniffer upgrade if one of sensor fails [VG-1385]
* add checkbox 'Only international calls' to alert 'Fraud: SEQUENTIAL' [VG-1345]
* fix php warnings [VG-1386]

## 2017-10-04 Version 18.1

* fix audio decode (>= 18.0)
* fix issue with rtp streams (if ip is localhost) in sip history diagram
* fix MGCP sip history
* add support for multiple servers in client/server mode [VG-1340]

## 2017-10-03 Version 18.0

* MGCP support beta (sniffer >= 21.0) [VS-673]
* fix minor firefox issue (background color, wiki border)
* fix tab panels graphics
* in sensors columns are now sortable again [VG-1377]

## 2017-09-20 Version 17.20

* set minValue to 1 for international\_number\_min\_length [VG-1365]
* fix scrolling in GUI system settings [VG-1373]
* fix multiple report where start\_at is set [VG-1363]

## 2017-09-15 Version 17.19

* fix loading geoip tables on 32bit OS [VG-1359]

## 2017-09-15 Version 17.18

* fix license generator when installed on ZFS for 64bit OS

## 2017-09-14 Version 17.17

* fix unzip when php zip class is missin [VG-1351]
* add pause/unpause api call [VG-1351]
* fix audio decode for 32 bit platforms [VG-1360]

## 2017-09-05 Version 17.16

* preserve column widths in CDR section (it can be resetted in menu user configuration) [VG-1225]
* added mass sniffer upgrade feature - all sniffers can be upgraded by one click [VG-678]
* update vm binary which fixes some g729 audio sync issues
* geoip city - add support for new structure and update
* add example script for ldap's custom login (scripts/ldap\_custom\_login\_example.php) [VG-1319]
* fix sip history for call flow with multiple localhost ports [VG-695]
* add table for custemer country prefixes (needs the latest sniffer) [VS-567]
* fix alerts for sip-unregister (it stucks) [VG-1352]
* fix gui timeout on longer operations [VG-1353]
* fix removing all cdr\* records when deleteing from cdr [VG-677]
* added loading mask for register state/failed with stop button [VG-1353]
* fix chart approximations when smoothing is enabled [VG-1355]
* fix dsahboard url share parameter when passive charts are enabled (it changes charts from canvas/svg to raster png images which helps offload cpu from web clients) [VG-1356]
* added support for charts localization

## 2017-08-23 Version 17.15

* fix leak in PHP session [VG-1333]
* fix multiselect sensors combo
* fix bar labels in report 'Concurrent Calls - license chart' [VG-1339]
* fix network diagram (color filter, charts, save as pdf) [VG-1341]
* in filter "Last SIP response code" now supports % [VS-664]
* in alert sensor type user must select sensor now [VG-1289]
* modify cdr filter for mos(min) - use minimum from columns f1,f2,adapt instead of mos\_min [1323]
* update geoip for new format

## 2017-08-14 Version 17.14

* fix cdr group rendering
* fix collision in country codes for New Zealand / Picaim [VG-1331]

## 2017-08-14 Version 17.13

* lower ammount of data in PHP SESSION to make GUI faster on some HW setups [VG-1333]
* fix cps\_max, cps\_avg in report 'CDR summary' [VG-1334]

## 2017-08-10 Version 17.12

* fix slow combo loading when browser is zoomed
* fix preview chart in edit reports
* fix margin between bars in chart type bar (columns)
* fix timeshift in charts
* Concurrent Calls - license chart [VG-1330]
* optimize style for chart 'distribution' in cdr group
* fix issue with tooltip & timeshift in charts [VG-1332]
* increased sensors menu width in spy
* enable use 'name' field in time shift definition for name of series [VG-1332]

## 2017-08-09 Version 17.11

* fix dashboard panel 'top ip addresses' and 'sniffer statistics' [VG-1328]
* fix slow sip history loading and audio player if there are multiple sniffers and one of them is unrecheable / unused [VG-1320]
* update vm binarry to the latest 20.4 which fixes some out of sync recordings

## 2017-08-08 Version 17.10

* fix remove dashboard panels [VG-1326]
* fix mask if login failed - remove tag
  ```
   from index.php
  ```

## 2017-08-07 Version 17.9

* fix selecting time intervals in cdr title
* check for unzip support for php7 [VG-1309]

## 2017-08-07 Version 17.8

* fix bug when web client has old cached js framework
* fix older php version
* fix alert type "sensor" [VG-1312]
* fix multi combo box bug
* fix group by destination number (sql error) in cdr/message [VG-1321]
* fix black bars in charts

## 2017-08-01 Version 17.7

* fix black backround in svg / pdf reports (use phantomjs instead of rsvg-convert) [VG-1306]
* remove dynamic title which confuses users [VG-1293]
* fix sip caller/called ports filtering (for example "!5060 or 5077" now works) [VG-1305]
* do not timeout when upgrading geoip data [VG-1307]
* properly encode html chars [VG-1311]

## 2017-07-31 Version 17.6

* fix svg/pdf reports generator [VG-1306]

## 2017-07-27 Version 17.4

* fix cdr filter form sip proxy combo [VG-1301]
* fix multiple cdr show link selection [VG-1300]
* replace wkhtml with phantomjs (fixes PDF reports >= 17.X)

## 2017-07-26 Version 17.3

* GUI 17.X fixes:
* fix select text in window content (like sip history packet detail)
* fix select text in window content (like
* fix propagation datetime to cdr / message group
* fix width of tools panel in charts
* cdr charts - optimize labels in time axis
* spy chart - optimize labels in numeric axis
* fix js error in gridform - enter to edit from context menu
* fix layout in render 'renderTick'
* fix clipboard menu in tree view
* fix js crash in charts in spy
* fix render zero value in charts in spy

## 2017-07-25 Version 17.2

* fix axis labels in charts (>= 17.0)

## 2017-07-25 Version 17.1

* Fix CDR paginator in 17.0
* Fix charts glitches in 17.0
* fix incidents in ReasonSipQ850 alert type [1298]

## 2017-07-24 Version 17.0

* Upgrade javascript framework to the latest version - GUI is now faster especially all charts (dashboards etc)
* Display hold/unhold in in cdr detail [VS-629]
* Filter live sniffer by port [VG-1282]
* Display Agent and caller name in active calls [VG-1288] [VG-1171]
* suppress empty proxy list in active calls [VG-1285]
* fix php timeout when generating long reports [VG-1291]
* fix issue with utf chars in groupfilters by last sip response [VG-1277]
* fix merging pcap when uploaded via GUI -> tools [VG-1290]
* fix long csv export from SIP register active [VG-1278]
* add special country code 'X1' for North American Non-geographic area codes [VG-1279]
* display a number of the rtcp packets where a fraction lost is nonzero in cdr detail [VS-619]
* fix upgrade window for chrome which can stuck (js timeout)
* increase timeout when upgrading sniffer from GUI [VG-1292]
* fix groups display in user grid

## 2017-06-22 Version 16.39

* update vm binary to the latest version which fixes desync audio for some hold/unhold cases

## 2017-06-20 Version 16.38

* fix daily reports (empty charts) [VG-1280]
* fix batch wav download [VG-1283]

## 2017-06-13 Version 16.37

* Support new sensor server / client mode (sniffer >= 20.0) - www.voipmonitor.org/doc/Sniffing\_modes#Multiple\_remote\_sensors\_one\_DB.2FGUI\_server
* Add 'Billed time' into Duration CDR column (aka connected time)
* use selected timezone when exporting csv in CDR section [VG-1261]
* In active calls add proxy IP addresses (including DNS resolving) [VG-1264]
* remove 3d-rtp charts from dashboards for users without privileges for show it [VG-1256]
* add option tcp.analyze\_sequence\_numbers:FALSE when parsing SIP/RTP in SIP history tab [VG-1270]
* add call completeLoginRow($row, '1') for custom login (if set id\_group) [VG-1262]
* add section 'xml' in window 'HTTP detail' (if body match /* add 'action' for http row in sip history [VG-1268]

## 2017-06-13 Version 16.36

* Update vm binary which fixes audio desync for rare cases

## 2017-05-17 Version 16.35

* Display sip proxy in active calls section and allow filtering by it (needs sniffer >= 19.5) [VG-1246]
* enable menu item settings / sensors for users with option 'Enable sensors operation' [VG-1258]
* do not download all binaries again when upgrading [VG-1259]
* new gui configuration option 'Email header EOL' [VG-1252]
* fix sensor filter in active registers [VG-1254]
* add user option 'Enable 3D RTP Charts' [VG-1256]
* fix report generator ip filter when using negation [VG-1248]

## 2017-05-12 Version 16.34

* fix issue with session parameters httponly & secure
* do not require bin/vm on arm

## 2017-05-11 Version 16.33

* do not require binary downloads on arm [VG-1255]

## 2017-05-09 Version 16.32

* Increase username's size to the 256 chars.
* allow regex pattern in trim prefixes (alert country continent destination). The regex is determined by '^' character as first char in 'trim prefixes' string [VG-1237]
* fix issue with cps chart for second axis [VG-1240]
* ignore too high jitter values in rcpt packets [VS-590]
* fix issue with note 'abort connection' in mysql log [VS-613]
* fix license issue when installed on ZFS file system
* add option ini\_set('session.cookie\_secure', 1) [VG-1172]

## 2017-04-27 Version 16.31

* add support for multiple ss7 messages in one packet

## 2017-04-25 Version 16.29

* fix bad key content for some cases
* suppress reaload 3d chart if parent panel is inactive [VG-1222]
* fix cdr\_rtp.sport/dport error [VG-1233]
* add option SPOOLDIR\_BY\_SENSOR [VG-1232]

## 2017-04-18 Version 16.28

* fix rebranding issue

## 2017-04-18 Version 16.27

* fix 16.26 license "bad key conent" issue

## 2017-04-18 Version 16.26

* fix json result for bad SID (API) [VG-1227]
* use absolute path for all binary utilities (fixes mergecap errors)
* fix random black line in SIP history [VG-1223]
* allow select own favicon in settings [VG-1217]
* check for zip module which is required [VG-1231]

## 2017-04-13 Version 16.25

* security fix
* fix downloading binaries on some systems

## 2017-04-01 Version 16.24

* Fix php7 installation instructions [VG-1204]
* Added ISUP SS7 support [VG-1191]
* fix 'Expand SIP branch' in sip history - packet detail [VG-1209]
* fix concurrent requests
* add users restrictions in active registers [VG-1203]
* do not send hash password in ajax request [VG-1172]
* fix register expire [VG-1195]
* update phantomjs to newer version which fixes png generator

## 2017-03-22 Version 16.23

* fix create sql function with return without 'deterministic'

## 2017-03-22 Version 16.22

* fix some SQLi and XSS vulnerabilities, remove flash for clipboard copy (obsolete) [VG-1172]
* fix alert billing over quota if currency is not set in billing rules [VG-1168] [VG-1107]
* fix binary downloading in upgrade and installation (wget / certificates issues) [VG-1182]
* disable zip response for manager command listregister in cloud mode [1182]
* disable configuration sensor timezone in cloud mode [1188]
* fix sql escape for multiple country condition
* add sip-ports parameter to load pcap via gui (sipports is detected from sensors) [VG-1189]
* fix continent filter in CDR filtering
* add vx-opus codec support [VS-386]
* add support for napa numbers without '1' prefix [VG-1178]
* allow concurrent calls triggering 1 call that fits criteria - previously only >= 2 was allowed
* fix dashboard panel 'CDR grid by sip response' and fix dashboard name mismatch [VG-1196]
* change name of column in send alerts sent\_at to start\_at the batter describe which time is there
* fix PHP Warning: unlink(/tmp/voipmonitor.testpid): No such file or directory [VG-1202]

## 2017-03-03 Version 16.21

* use new t38 decoder for exporting faxes to PDF [VG-1181, VS-500, VS-420, VS-569, VG-1179, VG-1059, VS-571]
* fix blank screen after bin/\* download/upgrade

## 2017-03-02 Version 16.20

* fix fax decoding when call-id starts with dot character [VG-1179]
* update bin/vm which fixes a lot of audio issues when there are multiple RTP streams [VS-569] [VS-571]

## 2017-03-02 Version 16.19

* fix last versions error config/bin\_utils\_configuration.php requires a license file

## 2017-03-02 Version 16.18

* fix vmcodecs error "license file not found" for some systems

## 2017-03-02 Version 16.17

* fix 16.16 and 16.15 - mergecap was not statically linked

## 2017-03-01 Version 16.16

* fix tshark/mergecap versions in 16.15

## 2017-03-01 Version 16.15

* use own static tshark & mergecap which are the latest version with our fixed t.30 protocol which fixes FAX decoding. GUI does not depend on system tshark anymore [VG-766]
* fix proper escaping for some parameters, escape some js functions [VG-1172]
* fix set clientOsTimezone (wring time/date in dashboards when mixing timezones) [VG-1177]
* fix save button in settings -> common [VG-1174]
* fix non standard sip port when converting audio (detect port from sniffer) [VS-420]
* fix enable / disable timezone in switch panels
* fix language compatibility
* add missing context help for strict prefixes chackbox in various alerts

## 2017-02-20 Version 16.14

* update bin/vm which fixes audio decode for multiple RTP streams within caller/called (broken since 16.13)

## 2017-02-16 Version 16.13

* Fix 16.12 segfaults for custom language setting
* Give user feedback in settings -> common settings when user presses a button (to be sure it does something)
* update to the latest vm/bin (19.0) which activates new SIP reassembler

## 2017-02-15 Version 16.12

* allow to disable showing flags in front of numbers and IP addresses in CDR view or allow user to change it to the right in toolbar or settings - user configuration [VG-1162]
* add configuration for secondary database which will be used for alerts / cron and reports so the main database will be not overloaded and locked by long queries (this requires redundant db setup) [VG-1154]
* fix 'empty alert' when previewing concurrent calls alert
* allow changing colors for 'sip responses xxx' chart (no more RED for 200 OK which confuses people) [VG-1147]
* do not show "local" if country is not recognized [VG-1159]
* update bin/vm to the latest

## 2017-02-10 Version 16.11

* New concurrent calls alert based on data from CDR (not realtime) which allows flebible filtering and counting data from all sensors [VG-1153]
* Fix new country grouping glitches
* Use hash string when generating link for PNG dashboard image to not expose user/pass in URL [VG-51]
* Implement countries for SIP MESSAGE too [VG-319]
* update bin/vm to 18.2

## 2017-02-08 Version 16.10

* implemented country flags for src/dst IP addresess and src/dst tel. prefixes (sniffer >= 18.1 needed) [VG-319]
* new filtering based on country src/dst
* new country groups in CDR bottom group panel
* new country groups in Dashboards (custom CDR grid - by country IP or num
* dashboard widget is now able to share via special URL link which will serve PNG so it can be included in external page (chain icon in dahsboard toolbar) [VG-51]
* added distribution of user agents to dashboard and 'cdr sumary' report [VG-67]
* fix layout (select\_sensors, agregation) in fraud alerts
* bin/vm updated to the 18.1

## 2017-01-30 Version 16.9

* add support for sender id-sensors in active calls for selected sniffer senders, set background color in sensors & apply in active calls, add sensors string to localization system [VG-781]
* add support for dtmf type in sip history [VG-845]
* allow searching by multiple call-id in cdr form - separators: ',', ';', ' or ', ' OR ', '|', '||', ' ' [VG-991]
* disable % character in capture rules prefix which is not myslq syntax to prevent errors [VG-1133]
* add two new special types in custom header 'max\_length\_sip\_data', 'max\_length\_sip\_packet' which allows to store and search by the largest SIP packet so user can find packets with >= N bytes [VG-1067]
* allow concurrent calls alert trigger by summarize which will not filter by IP or by tel.num (so it is like global concurrent calls alert) (sniffer >= 17.15) [VG-1134]
* fix issue with default (unset) timezone
* Add grouping by user agent in CDR group panel (group by user agent and its pie chart) and in top calls tab - group by user agent which shows calls by user agent [VG-67]
* do not offer delete pcap files if tar = yes (which is default) since it is impossible to selectively delete pcap files in that format (it is trade of for fast I/O) [VG-1138]
* fix repeating alerts (sending email) for some cases [VG-1136]
* add support for BYE which has respond transcation does not exists sniffer >= 17.15 [VG-808]
* enhance active calls - suppress concurrent requests, disable mask only for auto-reload, disable reload realtime RTP if charts panel is collapsed
* extended timezone functions in dashboard - add support for different OS timezone and client timezone in 'last' intervals
* fix paginator in CDR toolbar if filter is used (it showed more CDR than it should)

## 2017-01-17 Version 16.8

* auto adjust axis range after changing time interval in, dashboard chart, charts in cdr panel, charts in message panel [VG-1128]
* fix issue in sip history with fake\_erspan [VS-548]
* expand active calls - added 'sensor' column and fixed select position [VG-774]
* fix duplicate rows in sip history for GRE packets

## 2017-01-13 Version 16.7

* update bin/vm to the latest version

## 2017-01-13 Version 16.6

* add operators (and/or/both directions) between src / dst in rcc alert [VG-1079]
* fix form layout in admin.pho
* add the posibility of using custom headers in 'easy caller' [VG-1082]
* locate pcap file in case it is stored in ALL folder (pcapsplit = no - rare configuration)
* add custom time interval for chart panel in dashboard [VG-970]
* fix pcap download in registers in case of different timzeone between client and sniffer, remove download link for expired state [VG-1126]
* fix order/saving alerts in GUI alerts forms [VG-1121]
* fix case when drawing chart in CDR right panel and user changes time range [VG-1128]

## 2017-01-09 Version 16.5

* fix upgrade error: Specified key was too long; max key length is 767 bytes

## 2017-01-06 Version 16.4

* allow mark cdr & filter by marked cdr [VG-1023]
* add & apply field 'trim @' under field 'correlated http field' in 'CDR custom headers' [VG-985]
* add missing interval prev\_month to js function getTimeInterval [VG-1105]
* fix issue with multiple request header 'Cookie:PHPSESSID=...' [VG-1106]
* merge IPs in SIP diagram by hostnames - if two IP have the same hostname it will show as one [VG-1099]
* optimize 3d chart function adjustPerspective - eliminate chart "vibration" [VG-1108]
* limit value in 3d chart & color for 3d charts [VG-1115]
* fix summary mode in billing over quota [VG-1107]
* enable dns lookup in 3d rtp charts in spy by configuration.php [VG-1110]
* fix timezone shifts in dashboards [VG-1064]
* allow to set individual read timeout for sensors [VG-1062]
* added frame.len in sip history [VG-1067]
* add quick button for show sip history in messages [VG-1102]

## 2016-12-13 Version 16.3

* Add SIP history icon in CDR line near the sip response code - when clicked new window with SIP history opens [VG-320]
* Fix GUI upgrade (server unreachable)
* Fix save ip / number filter in alerts BilingOverQuota and BilingHighRate [VG-1074]
* Fix php warning in charts3d [VG-1083]
* add 'sep=;' to csv export [VG-1085]
* add new filter field 'exclude codec' [VG-1075]
* add select/deselect all in the RTP play screen [VG-914]
* translate IP (DNS/iplookup) in RTP play [VG-915]
* add find cdr by custom headers to api.php [VG-918]
* add filter by rtp port (source), add filter by rtp ip:port, show source rtp port in rtp / sip history [VG-920]
* show and find call 'RTP stream used in multiple calls' (if RTP stream is shared between two calls (same IP:port) [VG-920]
* add cdr ids to audit log when merging pcap [VG-927]
* allow change csv separator (system wide or per user) [VG-934]
* optimized query in alert 'sip response' [VG-938]
* Apply csv separator when copying to clipboard [VG-934]
* add ogg support in api getVoiceRecording call [VG-1095]
* add network map in cdr detail [VG-958]
* add clearmode codec to cdr filter [VS-468]
* allow filter by sensor id in fraud alerts [VG-960]
* enhance sip register flood - add select group by src / dst ip, enable optional pcap dump [VG-964]
* add interval 'last 8 days' to charts [VG-970]
* in fraud "alert change register country" - add filter by ip, add destination ip in alert report [VG-975]
* in cdr filter allow multiple last sip response codes also with negation operator '!' [VG-980]
* in ASR alert add new condition "count of cdr >" which will send alert only if number of CDR is bigger than value [VG-981]
* new dashboard panel types "custom cdr grid by src dst number" and "custom message grid by src dst number" [VG-1009]
* optimize 3d charts queries
* in CDR group panel change charts to interval charts [VG-1011]
* update vm binary to the latest

## 2016-11-23 Version 16.2

* security fix

## 2016-11-11 Version 16.0

* new 3D realtime RTP charts - in CDR bottom panel / active calls and in Dashboard (new RTP stat 3D charts). Those charts are using data from rtp\_stat which are enabled for a long time. Those data shows statistics for RTP source IP streams sampled every 10 seconds which allows realtime RTP metrics before CDR is written to the database.
* added caller name to simple CDR view [VG-1065]
* charts - apply timeoffset to tooltips [VG-880]
* update vm binary to the latest

## 2016-11-04 Version 15.14

* Fix billing calculation for t1 <60 [VG-1054]
* Fix phpCalc binary in combination with daylight saving time [VG-1055]
* Allow filtering for RTP streams with specific packet numbers and specific number of RTP streams. This allow to search for calls with >2 streams or search special combination when there are 2 normal streams and third stream with < N packets (which covers situation when random RTP packets are sent) [VG-1052]

## 2016-11-03 Version 15.13

* in charts is now possible to add time offset so one can create two charts for comparing data between different periods (new wrench icon) [VG-880]
* fix show packet detail in sip history [VS-512]
* respect user filter restriction for legs by header/cid [VG-1051]
* fix - enable trend checkbox

## 2016-10-31 Version 15.12

* add table for no hashing messages rules (settings / mesasage types) [VG-838]
* use png instead of svg in 'Concurrent Calls - license chart' [VG-1045]
* apply user filters in audit log [VG-1044]

## 2016-10-24 Version 15.11

* fix issues with slow join cdr\_next, fix cdr\_rtp join for binary calculation of cdr groups (speedups some sql quires)
* fix privilege for download wav via api.php [VG-1026]
* add method getPCAP to api.php [VG-1027]
* split can\_listen to can\_play\_audio and can\_download\_audio [VG-833]
* disable show tab 'setting chart' in cdr charts for no-admin users [VG-1038]
* add time new time interval for charts: 'previous month' [VG-1041]
* add possibility to filter numbers using underscore char "\_" in active calls. When underscore is used, longer number is truncated (matching without prefix OR suffix) [VG-578]
* CDR view column name change from "Called dst RTP MOD" to "Called src RTP MOS"
* add support for URL preview for messages with url [VG-835]
* get licesnse via wget if xmlrequest to voipmonitor.org failed (user can set http proxy in wgetrc file) [VS-504]
* Fix Y axe rounding in RTP .graph for nanoseconds
* add destination prefixes filter option in realtime concurrent calls alert (sniffer >= 17.4 required) [VG-836]
* remove filter field from sensor combo [VG-1043]
* add indications voicemail active / inactive to messages [VS-870]

## 2016-10-06 Version 15.10

* fix search form stuck (when clicking on search the browser might hang randomly) [VG-1035]
* charts - use day interval period for subselects in filter query (fixes slow query for some type of charts)
* fix sorting by ID in cdr and message [VG-1034]
* fix apply parameter report\_last\_days in reports [VG-1029]

## 2016-09-26 Version 15.9

* log wrong password attempts (configuration BAD\_LOGIN\_LOG) [VG-807]
* add value 'rtcp max fr' to column packet loss in alerts / reports [VG-800]
* allow filtering in combo boxes (only combobox with database store) [VG-823]
* increase login timeout to 300s (from 120s)
* use new table message\_proxy in MESSAGE grid and filter [VG-826]
* suppress sendEmptyAlert for register alerts [VG-1018]
* fix combobox picker height [VG-1017]
* enable state 'password is expired' for administrators
* add last X minutes filter to cdr, messages [VG-828]

## 2016-09-12 Version 15.8

* fix iframe leak when downloading pcap

## 2016-09-09 Version 15.7

* update vm binary to 17.3.3 which fixes audio decode when callidmerge\_header is enabled

## 2016-09-08 Version 15.6

* fix CDR filter form scrolling to top position
* allow blank field 'country\_code\_for\_local\_numbers' in fraud 'country / continent destination' if international number is set [VG-906]
* fix context menu in interval area charts [VG-1012]
* audio stream selector - filter by payload [VS-490]
* update vm binary which fixes audio decoding for multiple sample rate streams [VS-461] [VS-490]

## 2016-09-05 Version 15.5

* optimize sql query in alerts/charts when filtering by cdr proxy IP (query takes forever) [VG-1006]
* fix RTCP charts in CDR detail (sometimes only one direction RTCP was showed) [VG-1002]

## 2016-09-02 Version 15.4

* new REGISTER alerts type (active register alert, unregister alert, failed register alert, register UA alert, short registration alert, multiple registration alert, expire alert, RRD alert) (requires sniffer >= 17.1
* fix close audio player before complete load data [VG-987]
* new chart series - mos/jitter/loss/rtcp/pdv and more are now available as interval type (packet loss distribution can be now seen in intervals in one chart). Settings -> CDR charts were modified to use those new type of charts [VG-757]
* fix audio player for short buffers
* fix compatibility with older tshark when filtering audio streams in audio player [VG-959]
* API call get pcap now does not merge http packets (only on request with parameter with\_http [VG-996]
* added button reload in alerts toolbar for refreshing data [VG-998]
* fix filtering by id sensor in register section [VG-999]
* allow audio extraction also for T.38 classified call [VS-403]
* fix template order in cdr filter, cdr chart, dashboard and network map [VG-759]
* split user rights for active call audio listen and CDR play instead of only allow listen to audio [VG-772]
* show t38 packets in sip history ladder (like wireshark) [VG-792]
* dashboard default template PDD is now PDD interval instead of PDD 95%
* updated vm binary which fixes audio decode for some type of calls

## 2016-08-09 Version 15.3

* add support for php < 5.4 and gzdecode [VG-986]
* allow disable share.voipmonitor service (settings) [VG-749]

## 2016-08-08 Version 15.2

* add new cdr group type - last sip response / bye codes [VG-733]
* fix crontab error "Address is not a valid IPv4 or IPv6 address in ..." [VG-890]
* add missing jstz library (get current timezone)
* fix use window.timezone (conflict between php and client timezone on main frame)
* fix warning in charts.php

## 2016-08-02 Version 15.1

* fix concurrent calls alert previw

## 2016-08-01 Version 15.0

* new SIP REGISTER alerts (requires sniffer >= 17.0)
* user can change timezone which recalculates time in CDR / dashboard and charts [VG-351]
* enable option 'password is expired' for user in group [VG-971]
* new chart datasource "total minutes" which allows to draw connected minutes in any chart [VG-676]
* remove 'spurious' word from 'sip message text' in sip history (and sip diagram) [VG-974] [VS-476]

## 2016-07-28 Version 14.38

* fix audit log not showing records in GUI (>= 14.36)
* optimize sql queries when merging http/sip

## 2016-07-27 Version 14.37

* Fix 14.36 version

## 2016-07-26 Version 14.36

* Fix critical security bug (everyone should upgrade)
* complete concatenated message in message detail [VS-340]
* do not allow user to share RTP to share / cloud if RTP is disabled for that user [VG-967]
* implement password rules for user [VG-807]
* Do not show license problem (and number of channels) for non admin users [VG-457]
* Add trend line for charts (checkbox) [VG-472]
* Reload sensors alerts when IP group is changed and used in fraud concurrent calls [VS-475]

## 2016-07-21 Version 14.35

* Update vm binary which fixes audio conversion (missing caller/called) in case the audio is changing IP address (NAT)
* Implement spool override in capture rules (requires sniffer >= 16.2) which allows to keep some recordings for longer time than main spool [VG-57]
* Fix showing dashboard/map templates if user changes permissions [VG-957]
* Fix showing wrong times in dashboards times for some cases (timezone issues) [VG-966]

## 2016-07-08 Version 14.34

* add voipmonitor favicon
* enable symbol '+' at the beginning of the prefix / number in billing configuration [VG-955]
* add checkbox 'never show again' to internet explorer alert
* update vm binary to the latest

## 2016-06-29 Version 14.33

* Fix racecondition in charts binary which can lead to slow php render method rarely
* do not force index for some queries for mysql >= 5.6 [VG-939]
* fix audio player (and audio download) when CDR is shared through local/public share [VG-952]

## 2016-06-27 Version 14.32

* add new RTP source port detection support (sniffer >= 16.1) - show in CDR and add filter (requires sniffer >= 16.1 and db upgrade) [VS-450]
* fix find by ua in registers (>= 14.30) [VG-457]
* fix week start in date picker (by WEEK\_START in configuration.php) [VG-941]

## 2016-06-21 Version 14.31

* Fix compatibility for php 7 (still beta) [VG-913]
* Now it is possible to set Language for email alerts/reports in configuration.php option LANGUAGE (or GUI->system configuration->National)
* Fix filter form - if codec was selected - form closed and opened again the GUI stucked [VG-936]
* Fix sharing filter URL when calldate was used [VG-932]
* Fix dashboard panel edit (button was not present for some cases) [VG-928] [VG-929]
* Fix when merging CDRs into a single PCAP file for download, the activity audit window is not displayed, and the download is not included in the audit log [VG-932]
* Increase timeout when upgrading GUI [VG-930]
* Trim string when reading capture rules by domain [VG-937]

## 2016-06-06 Version 14.30

* fix googlemaps in CDR [VG-922]
* show loadmask when expanding grid in register
* speed loading register active grid

## 2016-05-28 Version 14.29

* Implement user security - account lockout after X bad password attemnpts, password expiration, lock down user for specific IPs [VG-807]
* Fix audio player RTP picker (some RTP streams did not showed up) VS-442
* Add new daily report concurrent calls license (which is the same as GUI menu->tools->concurrent calls) VG-563
* Update vm binary to 16.0

## 2016-05-20 Version 14.28

* added new daily report type - concurrent calls which will show maximum number of concurrent calls in table (+ csv export) [VG-816]
* fix charts / billing floating point precision

## 2016-05-19 Version 14.27

* fix 14.26

## 2016-05-19 Version 14.26

* fix audio decode for SIP TCP

## 2016-05-17 Version 14.25

* fix import from csv - if string field contain "\n" [VG-982]
* add convert sipcallerip, sipcalledip in export register to csv [VG-893]
* respect user restrictions for getVoipCalls api call [VG-897]
* add html5 clipboard copy instead of flash
* fix PDF fax export
* fix G729 audio out of sync for comfort noise packets

## 2016-05-13 Version 14.24

* When playing audio allow user to remove individual RTP streams (user will be able to listen to specific legs in case one call has more RTP streams) [VG-896]
* remove force index (calldate) from all queries which fixes some exceptionally long queries) [VG-902]

## 2016-05-11 Version 14.23

* Fix audio out of sync for opus/silk/g722
* Speedup login page (do not attempt to upgrade database every time)

## 2016-05-06 Version 14.22

* Speedup login (do not check database structure if it is not needed)
* Add basic IP/route configuration from GUI for debian/ubuntu/centos for dedicated box purpose

## 2016-05-04 Version 14.21

* add support for RTCP-XR in filter / alerts / dashboards (new MOS XR value). Requires last sniffer version and upgraded database which you can see when sniffer is restarted [VS-87]
* fix RRD date range combo selection in dashboard [VG-876]
* fix crontab error message [VG-873]
* log to audit log fax download [VG-887]
* fix PDF view when RTP remove is enabled for user.
* log batch pdf download to audit log [VG-865]
* fix normalize\_number mysql function (billing) and other functions for billing purpose which can lead to duplicate CDRs [VG-891]

## 2016-04-21 Version 14.20

* update vm binary to 15.7.3

## 2016-04-21 Version 14.19

* fix audio decode for SIP tcp

## 2016-04-21 Version 14.18

* Update vm binary to 15.7.1 which fixes g.723 out of sync for some cases

## 2016-04-21 Version 14.17

* Optimize dashboard for MESSAGE type widgets
* bring back merge menu in CDR merge toolbar (pcap button with RTP download etc.) [VG-883]
* Optimize CSV export which timedouts on huge databases
* fix capture rules indication in registers - for capture by number and for number with zero at begin
* Show loading mask in SIP history so users know that SIP history is loading which can take some time in some conditions [VG-885]

## 2016-04-12 Version 14.16

* fix use columns usec in sip history for http protocol
* read http from other database
* fix show long message in grid

## 2016-04-04 Version 14.15

* fix infinite php loop

## 2016-03-30 Version 14.14

* fix get download .graph from spool in case of multiple spool directories [VG-852]
* fix cron warning PHP Warning: session\_start(): Cannot send session cookie - headers already sent [VG-854]
* download wkhtmltopdf and wkhtmltoimage in zip format (with test zip) [VG-839]
* fix sort by columns in GUI->dashboard 'Grid overview' and in report->QOS [VG-824] [VG-871]
* fix audit log detail [+] and properly escape quotes [VG-842]

## 2016-03-24 Version 14.13

* fix datetime condition in sql which can overload the database
* fix warning if / etc / localtime does not exists

## 2016-03-24 Version 14.12

* fix dashboard timeouts broken in 14.11

## 2016-03-24 Version 14.11

* fix phantomjs loops (charts / dashboards cpu spikes)
* fix get file from spool if use tar and use multiple spool dirs - debugging [VG-852]
* fix store created audio file in local spool - fixes some audio play issues

## 2016-03-22 Version 14.10

* Fix daylight savings offset (the GUI will ask what is your timezone)
* Fix downloading RTP in merge pcap for users with denied RTP download

## 2016-03-17 Version 14.9

* fix timezone issue for some timezones (Central Africa)
* Fix audio play timeout when user audit is enabled

## 2016-03-09 Version 14.8

* Fix sql error and neverending query when translitUtfToLatin1 fails (php 5.6 gentoo)

## 2016-03-02 Version 14.7

* for some cases fix incorrect calldate condition which can lead to overloading database with simple queries (removes doublequotes)

## 2016-03-01 Version 14.6

* Fix GMT+-NN to Etc/GMT which fixes non visible CDR from midnight to 10:00 in USA timezone

## 2016-02-22 Version 14.5

* fix php cron bug (alert with set hour of day or day of week) - missing default parameter $this->params->alertTimeC in cALert) (fixes 14.4)
* Added option ENABLE\_UTF\_IN\_FILTERS which enables UTF-8 chars (if db columns are upgraded to utf8)

## 2016-02-18 Version 14.4

* fix daily chart generation

## 2016-02-17 Version 14.3

* Show MAC address in register -> active (sniffer >= 15.2)

## 2016-02-17 Version 14.2

* fix daily reports edit (and maybe others) in rare case (after GUI upgrade from some versions)

## 2016-02-17 Version 14.1

* fix 14 for some timezones

## 2016-02-16 Version 14.0

* New timezone internal handling allows to have remote sniffers in UTC timezone (>=15.1 sniffers) and global timezone set for the GUI which will recalculate UTC to proper timezone. [VG-817]
* Fix issue with dashboard time intervals
* Fix unsupported browser for internet explorer 11 [VG-825]
* When user is deleted or changed in GUI, user is unlogged / changed permissinos automatically [VG-811]
* Add batch pcap download (like batch wav download) [VG-813]
* Fix apply filter on individual series in charts [VG-827]
* In fraud concurrent calls there is now able to select by RTP stream IP addresses - two modes one by individual RTP streams or by IP groups (defined in tools->IP groups) (sniffer >= 15.1) [VG-829]

## 2016-01-22 Version 12.36

* fix MESSAGE format for content type [VS-340]
* new share option 'share sip history' for merged sip history in cdr & message
* fix q.850 reason name in CDR groups (broken since 12.35) [VG-812]

## 2016-01-19 Version 12.35

* significantly speed up CDR group loading and dashboard loading (and all sections where percentiles were calculating)
* fix caller/called filters in MESSAGE filter window [VG-806]

## 2016-01-13 Version 12.34

* update vm binary which fixes some audio decode or pcap extract
* support amr octet-align=0

## 2016-01-08 Version 12.32

* cache dashboard queries when multiple users are watching the same dashboard
* Allow disabling percentile calculations in CDR groups which takes too much CPU (settings -> server settings)

## 2016-01-06 Version 12.31

* Extend timeout in CDR group panel beyond 300 seconds
* In live sniffer add new combo to allow filtering based on To or From [VS-242]
* fix wav player & show fax in report / call detail records (and fix csv export timeout error) [VG-802]
* fix error 'cdrsumary need set time interval' message when opening GUI from alert email
* add passive mode button for charts in dashboard which shows raster PNG images instead of SVG graphics which speedups browser loading (but disables chart interactivity)

## 2015-12-23 Version 12.30

* use exponential scale for waveform in new wave player
* retain sox binary when upgrading gui
* update and use vm binary for decompressing tar.gz files which fixes audio download for some cases
* fix email subject for alerts (missing no cdr match) [VG-794]

## 2015-12-18 Version 12.29

* fix convert pcap to fax if user set atypical convertchars in sniffer
* fix export / import from billing rule
* fix merge pcaps without rtp [VG-784]
* add RTCP in capture rules [VS-367]
* propagate filter parameter 'last\_days' also in charts [VG-782]
* fix issue with reload sensor from register tables
* Allow delete old alerts in sent alerts table (GUI -> alerts -> sent alerts)
* fix trim prefixes in billing
* add user option 'Enable Network map' so network map can be disabled per user [VG-778]
* fix download csv in cdr summary
* fix merge pcaps without rtp if user selects merge 'sip + rtp' [VG-784]
* modify legs by cid in cdr - set default condition between caller and called numbers to AND, add combobox in toolbar to switch to OR if desired [VG-785]

## 2015-12-07 Version 12.28

* save panels in dashboard even if they are undocked
* fix blank window in setting in cdr groups -> charts
* fix alerts if time was set over midnight (like 22:00 - 15:00) VG-783

## 2015-12-04 Version 12.27

* fix spectrogram which was not generated randomly

## 2015-12-04 Version 12.26

* - fix issue with force index when searchiing for CDR by ID number (very slow searching)
* - set missing email content type in csv attachments in alerts [VG-775]
* - add support for encoded csv fields from listcalls (active calls) - for sniffers > 14.3.5

## 2015-12-02 Version 12.24

* fix new audio player for safari browser (pausing audio)
* properly fix older firefox audio player close issue

## 2015-11-30 Version 12.22

* include sox static binary (fixes >= 12.21)
* change spectrogram color schema
* fix 12.21 older firefox incompatibilities

## 2015-11-27 Version 12.21

* Completely redesigned audio player
* - now supports instant playing for long calls (no issues in firefox anymore)
* - spectrogram included
* - zooming with mouse wheel / buttons
* - moving wave with mouse

## 2015-11-26 Version 12.20

* fix empty charts tab in cdr group panel

## 2015-11-23 Version 12.19

* fix download audio from local sensor if spool contains audio file only (no sip/rtp pcaps)
* Add configuration charts form in CDR detail charts tab and CDR group charts
* hide undocked dashboard windows if user switches to another panel
* fix mysql errors when there is no user defined in GUI
* better clean php session when using pcap merge
* fix concurent calls calculations for mysql 5.7
* run.php checkLicense (add parameter -v)

## 2015-11-18 Version 12.18

* Add new mos call quality chart into CDR group and charts
* fix create new dashboard via button 'new dashboard' [VG-746]
* fix export csv in qos report [VG-747]
* fix SIP responses - typical (it showed no data)

## 2015-11-13 Version 12.17

* significantly speed up new MOS intervals chart

## 2015-11-13 Version 12.16

* update vm binary which fixes audio decode for calls which have RTP stream ending with comfort noise (fixes GUI 12.15)
* fix apache/http 100% cpu usage for .graph charts since sniffer >= 14
* add otional parameter calldate (YYYY-MM-DD) to api function getVoiceRecording which signifficantly speeds up searching for call-id (and use 3-pass search for cdr if searching by call-id without parameter calldate: 1st-pass - find in today, 2nd-pass - find in yes

## 2015-11-12 Version 12.15

* update vm binary which properly fixes audio decode for netsapiens and all others reusing RTP ports with multiple RTP streams (sync issue and concatenated caller/called)

## 2015-11-11 Version 12.14

* fix g729 audio sync for 30ms ptime calls

## 2015-11-11 Version 12.13

* add new MOS intervals chart type with "drill down" capability for better finding calls with low mos score. Default dashboard uses this type of chart now

## 2015-11-06 Version 12.12

* add support for anti fraud realtime concurrent calls tracked by source number (requires sniffer >= 14.1) [VG-719]
* fix import from csv - fix import number fields with borders '="' ... '"' [VG-723]
* fix chart form for multiseries area type (like codecs with applied filter to see only some codecs) [VG-726]
* add option type (type packets) to sip history in cdr and messages [VG-640]
* fix open related cdr records in issue tracker [VG-737]
* if audio decode for long calls fails in firefox ask user to use older player [VG-725]

## 2015-11-03 Version 12.11

* fix DNS IP lookup in CDR and Message if enabled in toolbar [VG-273]
* suppress skype click to dial in GUI [VG-529]
* fix user credentials (accidentally non-admin can not do anything)
* fix check set time interval for cdr and message - use it only for task LISTING (fixes csv export)

## 2015-11-03 Version 12.10

* fix firefox opening CDR detail

## 2015-11-02 Version 12.9

* fix GUI versions > 12.6 javascript issues

## 2015-11-02 Version 12.8

* Update vm binary which fixes some audio rare case decode

## 2015-11-02 Version 12.7

* fix mysql overloading when running multiple dashboards
* fix mysql query interrupting from GUI
* check if calldate is present in all queries to not cause database overload
* implement CDR and MESSAGE share for multiple legs [VG-203]
* fix live sniffer pcap download if users have IP restriction (it was only hidden in GUI but not filtered out when downloading pcaps from live sniffer) [VG-722]

## 2015-11-12 Version 12.6

* fix apache/http 100% cpu usage for .graph charts since sniffer >= 14
* add otional parameter calldate (YYYY-MM-DD) to api function getVoiceRecording which signifficantly speeds up searching for call-id (and use 3-pass search for cdr if searching by call-id without parameter calldate: 1st-pass - find in today, 2nd-pass - find in yesterday, 3rd-pass - find without calldate condition which can take very long depending on number of days in database)

## 2015-10-26 Version 12.5

* fix .graph generator which leads to use all avaliable http process memory which can cause swap to death on machines with <= 4GB (bug introduced in >= 11.23)

## 2015-10-23 Version 12.4

* update voipmonitor binary which fixes some g.723 audio sync issues and missing audio

## 2015-10-21 Version 12.3

* Tweak new network map features

## 2015-10-21 Version 12.2

* Implement user/group/private restrictions for CDR filter templates, dashboard and network map templates. Users or groups of users can now share different templates. [VG-708 VG-698]

## 2015-10-20 Version 12.1

* fix WHERE conditino when hour interval is set in alerts which produces queries which takes very long time and provides bad time period - missing parenthesis (calldate >= X AND hour(calldate) >= 22 OR hour(calldate) <= 6)

## 2015-10-19 Version 12.0

* Add network map SVG painter in main menu (beta - work in progress)
* Address issue in fraud alert for realtime concurrent calls which showed in CDR more calls then it should
* Increase timeout from 30 minutes to 1 hour in Tools -> concurrent calls

## 2015-10-16 Version 11.23

* Update vm binary which fixes some audio conversion cases
* Fix dashboard reloading which did not reload anymore when there was network issue between browser and server
* Adjust alert cron time to be more consistent with set period [VG-689]
* Implement new .grap version for upcoming sniffer 14.0
* Allow set width of the legend (left/right) which helps to align some charts if layered above/belove [VG-706]
* fix chart flickering when reloading chart
* fix paused mode in dashboard (pause failed when manual reloading)
* do not flood cron 'another instance of cron is running'
* Restrict user also in live sniffer when user is restricted by ip [VG-707]

## 2015-10-07 Version 11.22

* Add support for REGISTER -> Active RRD column (round trip time between register - 200ok) which is implemented in sniffer since 12.6
* In CDR detail graph draw red line if there are consecutive loss instead of representing it with one red pixel

## 2015-10-05 Version 11.21

* Add AMR NB audio decode

## 2015-10-01 Version 11.20

* - fix negation "!" in IP address field with searching with sip proxy (which is enabled by default)
* - update vm binary to 12.4.4 which fixes duplicated audio streams when the same RTP port is used (netsapiens and possible others)

## 2015-09-25 Version 11.19

* Fix filtering in active calls - caller/called number prefix
* Fix showing / loading number in "Incidents" input box (empty string no matter what user stored)

## 2015-09-17 Version 11.18

* Change ASR,ACD,onewaystream, CallWithNoRTP, GetMinutesWithoutCall, compute billing in alerts summary and filters for all calls with connect\_duration=0 - in other words connected calls with connect duration >0 AND < 1 second (which is 0 in database) were treated as not connected calls
* update vm binary to the latest (it fixes unpacking pcap from tar.gz in some cases)

## 2015-09-07 Version 11.17

* fix sending email to address which has + character in address

## 2015-09-04 Version 11.16

* make RTCP values in RTCP chart consistent - do not show raw values but delimit it by timestamp so it represents milliseconds and is consistent with max/avg RTCP jitter in cdr database
* update vm binaries to the latest version which fixes pcap imports via GUI for multiplexed RTCP

## 2015-09-01 Version 11.15

* export only columns visible to the user when user has simple CDR set [VG-683]

## 2015-09-01 Version 11.14

* implement filter for IP address in active calls filter using wildcard % (example: 192.168.%) [VG-682]
* support for LZO compression methid when tar is disabled (fixes problem with downloading/merging/listening calls when LZO is enabled (which is when tar=no)

## 2015-08-27 Version 11.13

* Capture rules allows now specify OGG audio format and RTP header (it requires the latest sniffer) [VG-667]
* Fix issue with 'mysql gone away' in case user aborts SQL query in CDR or CDR group
* Fix dashboard collectd type [VG-671]
* Fix custom headers display glitch in settings [VS-298]
* Fix issue with charts binary on centos when mysql host is set to localhost
* fix errors in apache log during upgrade [VG-674]
* Support upgrading sniffer on arm
* Save CDR ids for alerts: cps, acd, asr so it is possible to filter them in CDR alert filter

## 2015-08-24 Version 11.12

* Charts are now 100x faster - dashboards were overloading server by charts binary.
* use --wide option for mtr (tools->mtr) so it will not cut dns hosts

## 2015-08-21 Version 11.11

* implement mysql internal debugging (no need to upgrade from 11.10 to this version)

## 2015-08-20 Version 11.10

* fix RTCP chart in CDR detail for remote sniffers

## 2015-08-13 Version 11.9

* fix call missing function getParamsHtmlTable when doing daily report view
* force using sox for converting wav->ogg or ogg->wav

## 2015-08-11 Version 11.8

* fix GUI version 11.7 - firefox refused pcap download due to content-length mismatch

## 2015-08-06 Version 11.7

* fix RTCP timeout on cdr share screen

## 2015-08-06 Version 11.6

* Fix audio player in cdr share link (timeout error message)
* add dashboard time intervals 6 & 12 hours [VP-63]

## 2015-08-06 Version 11.5

* fix issue in long callid in tar
* force download pcap in gzip format [VG-661]
* add new bye codes (107,108)

## 2015-08-03 Version 11.4

* Fix GUI glitches in CDR detail when RTCP are loading
* Add advanced statistics in MESSAGE section
* Store GRID configuration in top calls and store column reordering in CDR advanced statistics and add button for choosing columns

## 2015-07-31 Version 11.3

* audio: fix audio player for Safari browsers
* CDR: fix expanding cdr detail in legs by cid/headers
* CDR: fix some group panel glitches in new advanced statistics

## 2015-07-30 Version 11.2

* Redesign CDR bottom group panel - add advanced statistics [VG-616]
* dashboard: fix time offset in dashboard (allow more time) [VG-645]
* dashboard: fix mark line in dashboard if no color set
* alerts: add support for SIP AGENT filtering for SIP packets / register fraud rules (requires sniffer >= 11.10) [VG-651]
* alerts: SIP packets fraud rule will now show SIP REQUEST packet statistics in the report [VG-646]
* alerts: optimize RTP alert SQL query (offloads mysql signifficantly for all RTP rules)
* charts: speedup chart drawing for chrome browser
* installation: fix php cli problem if php binary is in / usr / local/bin|sbin

## 2015-07-22 Version 11.1

* Allow localize alert / reports
* Fix reports containing charts
* Fix hours / day for alerts and fraud alerts (alerts were sent though it should not during non alert hours). For fraud alerts it needs sniffer >= 11.9.3
* revert STRAIGHT\_JOIN -> JOIN in alerts queries with multiple join which fixes endless queries

## 2015-07-20 Version 11.0

* requires new ioncube loader >= 5.0.12 which supports php 5.6. After the upgrade you will be instructed to upgrade the ioncube over SSH. Do the upgrade only in case you have root access to the server now.
* fix some SIP message escaping VS-288
* fix ip resolve in CDR group by SIP

## 2015-07-14 Version 10.38

* alerts: for each alert is now possible to set in what day and hours is activated (handy for alerts which are valid only during bussiness hours) [VG-610]
* alerts: add new alert type 'no calls alert' which is used to get alert if there is no calls within N minutes. [VG-610]
* alerts: add new fraud alert type - sequential which alerts if there are N number of calls during X minutes to the same number from the same IP address (requires sniffer >= 11.9) [VG-557]
* charts: add optional horizontal mark line with specific value. This is usefull for example in case you want to see if your concurrent calls are over 100 or below 100 [VG-574]
* charts: change naming for data series in chart configurations to end confusion about what is concurrent calls and what is number of calls made [VG-603]
* dashboard: add RTCP metrics for custom grid [VG-581]
* dashboard: add new panel type custom CDR grid - by RTP IP which groups by RTP IP (currently there were only by SIP IP and by SIP response) [VG-589]
* dashboard: add parameter 'interval offset' which hides (shifts) values from right to left for N seconds (this is usefull in case user do not want to be confused with lowering chart in right edge due to the fact that the dashboard shows only completed calls and not live calls which causes confusion when the chart is slowly falling to zero) [VG-591]
* user settings: allow hide change user password for non admin users (checkbox in user definition) [VG-588]
* cdr filter form: set 'include proxy' checkbox in cdr filter form to checked by default [VG-639]
* API: add parameter suppress\_results which suppress\_results for api task listing (php/model/sql.php?task=LISTING&module=CDR&suppress\_results=1) to get only total CDR and not results [VG-531]
* fix: audio web player for some browser / audio settings on macos
* fix: php warning in alerts php cron script - missing parameter in call getCountAllAlertEvalCdr
* fix: do not save group in custom headers if custom headers does not exists
* fix: fix some alter table alerts during installation

## 2015-07-04 Version 10.37

* update bin/vm binary which fixes audio decode for cisco skinny

## 2015-07-04 Version 10.36

* do not show two local sniffers in active calls [VG-609]
* fix svg format in charts
* alerts: add checkbox for percent incident from all CDR so it takes base from all CDR instead of filtered (ignore filter for base calculation) [VG-622]
* alerts: use option maximum lines also for email body and not only for csv attachment
* add filter for called numbers and destination ip addresses in concurrent calls fraud rule (needs sniffer 11.8) [VG-598]
* in cdr - tab legs by CID fix correlation by last 6 digits [VG-624]
* change mysql column file\_cache.parameters from varchar(1000) to text which fixes mysql error for some configurations

## 2015-06-23 Version 10.35

* fix play audio when audit mode is enabled [VG-619]
* fix use sensor local in active calls if another local sensor with another port exists exists [VG-620]
* fix dashboard chart generation in case it is configured from template and that template had some date range which could lead to generate millions intervals using all server memory. Fix some dashboard refresh.
* fix PHP error for older php causing share cdr.php page to show blank page

## 2015-06-18 Version 10.34

* csv export now contains sep=; which makes the csv file compatible for all excel national settings

## 2015-06-16 Version 10.33

* allow filtering CDR for 'packet loss percent' in cdr search form [VG-564]
* show missing pcap file in sip history if pcap file is missing [VG-597]
* Added RRD graph for SQL files cache [VS-239]

## 2015-06-12 Version 10.32

* fix all versions >= 10.20 where if silence / clipping columns in alerts were missing (which are for 99% installations) alert rule after editting / creating stored 0 instead of NULL which made all alerts unusable (it was searching for 0 clipping / silence).

## 2015-06-12 Version 10.31

* add MESSAGE in advanced statistics (in CDR group) [VG-539]

## 2015-06-11 Version 10.30

* optimize prepare ogg file for play in html audio player
* optimize show cdr reason if reason contain substitute text information '(text missing)'

## 2015-06-10 Version 10.29

* add relative date range (last days) for cdr filter so if user wants to store cdr filter template it will always represents last X days. This new last days item is present in all places where CDR filter is.

## 2015-06-10 Version 10.28

* add support for sending call info to url [VS-228]

## 2015-06-09 Version 10.27

* fix cdr share page (blank window)

## 2015-06-08 Version 10.26

* New CDR summary report in daily reports generates CDR grid summary table including the new total minutes counter (for example if you want to show how much minutes do you route to various destinations or the top most customers sorted by total minutes and other metrics like loss / jitter etc.) [VS-245]
* New total minutes called data source in CDR summary in dashboard and in CDR group panel
* Add last days parameter for all reports which now allows to generate report for last X days instead of last day (except charts which already have this feature)
* Fix sip history in case there are http packets
* In user restriction add new checkbox which changes condition from AND to OR which is neccessary when you want to restrict user based on tel. numbers OR domains instead of AND [VG-582]

## 2015-06-05 Version 10.25

* fix broken charts in report generator (missing javascript)

## 2015-06-04 Version 10.24

* fix broken chart report generator (all charts failed) - gui versions >= 10.21
* extend timeout from 15 seconds to 30 seconds when downloading pcap from remote sniffer and show proper error message if it fails
* proper fix of submenus for chrome 43 (fixes some UI glitches)

## 2015-06-04 Version 10.23

* Default timeout for pcap download from remote sniffer was only 5 seconds which is now extended so the pcap can be downloaded
* Optimize pcap cache cleaning which can lead to unresponsivness GUI when downloading pcap files from remote sniffers

## 2015-06-02 Version 10.22

* fix js error when clicking on advanced charts in CDR group panel chart icon (indefinit spinning please wait)

## 2015-05-29 Version 10.21

* fix 10.20 sql error message

## 2015-05-29 Version 10.20

* implement workaround for buggy mysql versions (5.5.40) which crashed when doing some ALTER commands (upgrading your mysql version to at least 5.5.43 is recommended anyway)
* Add support for silence detection and clipping detection (since sniffer 11) [VS-208]
* fix proxy degradation report
* user can now have disabled CDR section [VG-596]
* allow canceling and show timer when generating charts
* fix chrome issues when showing charts / rtcp fix tools in charts (flickering) fix select active rtcp tab
* add RTCP charts (if present) in CDR detail under .graph charts [VG-526]

## 2015-05-22 Version 10.19

* Add support for searching and alerting for all SIP responses (sniffer 11.6 required) - CDR filter form contains now new search input box SIP response code and CDR detail contains new column showing all SIP responses. You can now search for all CDR which contains also text response code "Not acceptable here" anywhere during the call although the last SIP response code is 200 OK (answered call). [VS-10]
* Add support for searching and alerting for SIP / Q.850 reason codes (sniffer >= 11.6 required). Reason code is now showed in CDR grid under last SIP response. Groups under CDR can be grouped now by SIP/Q.850 reason codes. New alert for SIP/Q.850 added [VS-45]
* Fix searching all calls in legs by custom header when custom header is created and checked "match in sip by header" in CDR custom headers - do not search only CDR with the same content in that header by also if Call-ID matches this custom header.
* Add support for SIP NOTIFY in live sniffer (needs sniffer >= 11.6)
* allow disabling HTML 5 audio player in settings -> server settings [VG-487]
* fix pcap download speedup when spool dir contains backslash at the end

## 2015-05-20 Version 10.18

* implement workaroudn which fixes submenu disappearing for chrome 43 and every browser based on chromium 43 (but in chromium)

## 2015-05-19 Version 10.17

* fix timezone\_set php error in some case (when sessino expires)
* fix 'local sensor' indication in active calls combo

## 2015-05-19 Version 10.16

* allow filter CDR by number of RTP streams (none, any, only 1, >= 2) [VG-333]
* implement proxy MOS degradation special report [VG-587]
* fix dspc condition when only one rule set (>=, <)
* fix link in fraud alerts
* suppress sensor error after call manager command 'flush\_tar'

## 2015-05-14 Version 10.15

* flush sniffers when downloading pcap files (requires sniffer 11.5) - no more waiting for unwritten data for recent CDRs.
* all csv exports are now delimited by semicolon which will be hopefully good for everyone (excel/oo/..)
* fix csv export for very large numbers in excel

## 2015-05-13 Version 10.14

* implement external scripts for rest of alerts (not only fraud rules)

## 2015-05-12 Version 10.13

* fix csv MESSAGE exports
* send nonstandard sip ports when sharing CDR to share.voipmonitor.org which fixes missing TCP parts (or any packets on non standard SIP ports) in sip history
* fix SQL query when searching for calls with ringtime although it was not connected [VS-264]

## 2015-05-11 Version 10.12

* properly fix compressed .wav
* add ' in front of csv file to workaround excel SYLK format when opening csv

## 2015-05-11 Version 10.11

* fix issue (php error) with timezone 'system default' after installation for some timezones (like australia)
* unzip audio when downloading from remote sensors so the .wav is not gzipped

## 2015-05-08 Version 10.10

* fix csv export (compatibility with older php versions)
* optimize csv export download speed
* add OR separators (',',';') and remove or suppress borders ([]) in custom headers in cdr search forms

## 2015-05-06 Version 10.9

* do not let user leave live sniffer window if sniffing is running [VG-189]
* show active live sniffing in sensors grid with possibility to stop them (if some user forgot to stop live sniffing which will fill database) [VG-189]
* update vm binary which fixes audio out of sync in rare cases
* fix CSV export for long numbers [VG-573]
* enhance help text in cdr form where user can use underscore character (matching one character) alongside with % which allows to filter numbers with exact lenght (for example all 2XX -> 2\_\_)
* allow disabling OR / AND in search form in tel.numbers etc. by putting string between brackets - example [123 234] will search for exact number with space instead of 123 OR 234 [VG-577]
* fix dscp error if column is not in database [VG-576]
* fix php compatibility (fixes cron error reports)
* fix column labels in easy caller id

## 2015-04-28 Version 10.8

* fix mysql errors when creating new database (first login on empty db)
* add filters 'one way' and 'missing RTP' in cdr filter [VG-72]
* show meaningful warning when non admin user has disabled SIP history instead of showing empty grig (in CDR detail)

## 2015-04-28 Version 10.7

* in alerts and daily reports allows to trigger alert based on RTP like MOS, jitter, loss only for caller or called or for group of RTP IP source which allows to get alert only from desired RTP sources (it can also use negation !10.0.0.0/24 etc.) so now it is possible to get alert based only on low MOS score from upstream provider [VG-538]
* fix custom headers group in filters [VG-577]

## 2015-04-27 Version 10.6

* add FAX T.30 decode support. If sniffer sets faxdetect = yes (>11) the GUI now shows T.30 (fax over G.711) and offers convert to PDF. Conversion can be initiated even if FAX was not detected in toolbar/context menu. If conversion fails it shows error messages from the fax decoder.

## 2015-04-24 Version 10.5

* fix filtering in active calls by numbers

## 2015-04-24 Version 10.4

* fix alerts bug - inpossible save / delete alerts
* show warning in capture rules when a user wants to record both RTP and AUDIO

## 2015-04-22 Version 10.3

* add support for multiple local spool directory which allows to effectively archive old data and mount them to multiple spool directories which the GUI will try to search in. The setting is in Settings -> system configuration -> 'try next sniffer data paths'

## 2015-04-21 Version 10.2

* implement alert preview in alert rules where date from / to can be added and thus properly test alert rules.
* filter input box in active calls can now filter also by Call-ID SIP header (it automatically recognizes that it is not IP but call-id header)

## 2015-04-21 Version 10.1

* check if regexp in capture rules is valid

## 2015-04-21 Version 10.0

* New dynamic custom headers implementation allows to add custom headers without altering sql tables which can take hours or days on big databases. It does not need to configure voipmonitor.conf - sniffer reads them from database now. Old configurations are backward compatible. Custom headers supports regexp extraction of data in custom header now. It requires sniffer >= 11.1
* New alert report 'Internal proxy error' - it searches for calls which did not passed through SIP proxy with some error code.

## 2015-04-20 Version 9.81

* in CDR filter interrupted calls are now not those with missing BYE confirmation. In CDR filter in timeout calls added 'missing BYE confirmation' so now user has more control on what is treated as interrupted call.

## 2015-04-17 Version 9.80

* replace accidentaly swapped shared binary in bin/vm which fixes broken audio decoding (fixes 9.79)

## 2015-04-17 Version 9.79

* in alert rule option 'max lines in body' is now independent on csv checkbox so there is possible to limit number of cdr in the html body (having only the summary report in the email) [VG-550]

## 2015-04-17 Version 9.78

* add PDD column in Main maenu -> Reports -> Call summary

## 2015-04-16 Version 9.77

* fix error message when pcap file is not yet ready on remote sniffers (in cache) to not report that download failed but to try it later.

## 2015-04-15 Version 9.76

* fix SQL error problem leading to duplicate CDR in case billing aggregation is enabled

## 2015-04-08 Version 9.75

* fix strict mode in RTP loss / delay filter.

## 2015-04-07 Version 9.74

* strict checkbox in cdr filter for loss/delay now uses AND condition instead of OR
* fix filters in reports (broken since 9.7X)

## 2015-04-03 Version 9.73

* fix legs by cid which did not find all legs

## 2015-04-02 Version 9.72

* fix playing audio in cdr share page
* fix prepare data for rtcp chart error
* fix issue with download pcap for SIP MESSAGE

## 2015-04-01 Version 9.71

* In CDR detail legs by CID is now searching calls based on last 6 digits in reverse columns which allows to corellate calls like +420123456 and 123456 and it searches for source or destination match [VG-374]

## 2015-04-01 Version 9.70

* fix negation (!) operator for group of numbers, group of addresses, domain, group of domains, ua, group of ua [VG-554]

## 2015-03-30 Version 9.69

* make combo caller / called selector in cdr filter more graphically obvious
* add caller / called option for mos, delay, loss, jitter in cdr search form [VG-545]
* timezone in GUI is now possible set to system default which is new default option.
* add support for new bye code 106 (BYE without RES2XX and RES18X) - sniffer >= 11beta
* add 'strict' option in cdr search form in find by rtp delay and loss [VS-241]
* add set previous period for 'today' in reports [VG-485]
* fix autodelete user\_sensors before deleting record in sensors
* delete also from cdr\_next when deleting records from CDR
* fix compatibility with tshark 1.12
* use sip ports 5060-5070 when sniffer is not running and GUI tries to interpret SIP messages in SIP history.

## 2015-03-24 Version 9.68

* fix all charts RTP statistics (except MOS and all MAX values) which were delimited by all calls instead of calls which have RTP stream. In result jitter/loss avg / min and other values were lower than it should be.
* fix loss calculation in CDR group window which was low in case there were a lot of connected calls without RTP sniffing and too high percentiles for the same reason.
* fix date in active calls (requires sniffer >= 10.1.45) [VG-471]
* fix IE compatibility in cdr share page [VG-470]
* show graph also when user clicks on destination RTP IP in CDR row [VG-500]

## 2015-03-20 Version 9.67

* disable space key for the wav player which interfere with some browser / os combinations.

## 2015-03-20 Version 9.66

* Show icon in cdr indicating that the call was terminated by the sniffer timeouts and allow to search for such calls in CDR filter (missing BYE, absolute timeout etc.)
* When deleting alerts delete automatically history in sent alerts instead of showing sql error.
* Fix sent alerts combo not showing recent alerts [VG-523]

## 2015-03-19 Version 9.65

* allow zero in hour and minute in settings -> crontab scheduler

## 2015-03-19 Version 9.64

* update vm binary which fixes silence audio channel when there are more RTP streams (all >= 9.56)
* add trim prefixes option to fraud and billing rules to be able to trim list of prefixes (which is needed when numbers are prefixed with carrier prefix)

## 2015-03-19 Version 9.63

* when importing IP lookup CSV file do not require ID in first column. ID column is now optional [VG-546]

## 2015-03-18 Version 9.62

* billing: allow importing rules with the same name [VG-536]
* billing: add support for higher precision price in billing

## 2015-03-17 Version 9.61

* add checkbox "only connected" in fraud cdr change country and fraud destination to prevent false alerts based only on single SIP INVITE message (scanners). You need sniffer 10.1.41 to support this [VG-373]

## 2015-03-13 Version 9.60

* Add top call distribution and charts tab in advanced statistics charts in response group panel

## 2015-03-09 Version 9.59

* implement new charts in CDR group panel which helps to see distribution of calls by SIP response seeing most IP/tel. Window popups when clicking on the new chart icon in each SIP response row.

## 2015-03-09 Version 9.58

* fix >=9.56 which broke audio decode for some cases

## 2015-03-06 Version 9.57

* change billing precision from 2 to 4 digits

## 2015-03-06 Version 9.56

* update vm binary which fixes duplicate audio streams when multiple RTP with the same SSRC are stored (4 RTP streams)

## 2015-03-05 Version 9.55

* update geoip database

## 2015-03-04 Version 9.54

* fix csv export for large tel. numbers which were truncated or changed. Field is now text type instead of number.

## 2015-03-04 Version 9.53

* Update vm binary to 11beta22 which fixes pcap download on 32bit for files >2GB and fixes duplicate concatenated audio for some cases

## 2015-03-04 Version 9.52

* properly fix CDR share player

## 2015-03-04 Version 9.51

* fix audio player for cdr share

## 2015-03-03 Version 9.50

* restore FORCE INDEX calldate back which restores searching speed by call-id and other filter rules.

## 2015-03-02 Version 9.49

* include http packets when merging CDR [VG-349]

## 2015-03-02 Version 9.48

* fix 9.47 javascript error
* fix capture rules form [VG-519]
* fix disk space leak in /tmp when downloading pcap files
* autodelete old template files

## 2015-03-02 Version 9.47

* - stream OGG vorbis to FF and chrome when playing audio to signifficantly reduce time to load audio
* - fix audio player for Safari for > 48khz sound cards

## 2015-03-02 Version 9.46

* fix compatibility issue between new GUI and old sniffer [VG-528]

## 2015-02-27 Version 9.45

* fix error for IE browser for => 9.41 versions

## 2015-02-26 Version 9.44

* do not force calldate index when searching only for ID

## 2015-02-25 Version 9.43

* Force calldate key for all CDR queries which solves slow queries
* check DNS resolv for upgrade
* fill license token from db if present
* fix typo in livepacket which shows source sip port instead of destination port [VG-468]
* do not put characters like : > when downloading batch download audio zip which is then not possible to extract on windows [VG-488]

## 2015-02-24 Version 9.42

* speedup RTCP and do not block loading of other tabs in cdr detail

## 2015-02-24 Version 9.41

* add RTCP charts (right click context menu) and in CDR detail charts tab -> RTCP
* Use new html5 audio player for CDR playback.

## 2015-02-24 Version 9.40

* fix 9.39 php warnings

## 2015-02-23 Version 9.39

* add support for filtering OPUS, X-OPUS and G722.1
* fix register pcap download for sniffer 11beta

## 2015-02-17 Version 9.38

* add support for sniffer 11 beta9

## 2015-02-17 Version 9.37

* fix custom\_login() PHP custom function which did not filled username in audit log entries.

## 2015-02-16 Version 9.36

* fix zero size OGG audio download
* update to fixed vm binary which swaps audio between left and right channels at the end of call is one of the channel is silence

## 2015-02-11 Version 9.35

* update vm binary which fixes decoding and playing audio for some cases (error when decoding)
* include http data when downloading pcap file with http data [VG-349]

## 2015-02-05 Version 9.34

* Fix realtime audio player for safari browsers
* add capture rules based on custom SIP headers (requires sniffer 11) [VG-508]

## 2015-02-04 Version 9.33

* add MESSAGE support in alerts and reports [VG-486]

## 2015-02-02 Version 9.32

* update bin/vm binary to support new beta 11 write tar storage (fixes 9.31 with beta sniffer)

## 2015-02-02 Version 9.31

* Add support for sniffer beta 11

## 2015-01-30 Version 9.30

* fix loading files from remote sniffer 11 (beta)

## 2015-01-28 Version 9.29

* update to new vm binary which adds support for changing samplerate within one call (only for alaw/ulaw <-> one high rate codec)

## 2015-01-28 Version 9.28

* test upgrade functionality

## 2015-01-28 Version 9.27

* allow overwrite templates in cdr filters and charts [VG-346]

## 2015-01-28 Version 9.26

* Fix pcap downloads in mirror sniffer mode (if defined in GUI with id number)
* Fix deleting of original SIP pcap file when RTP is missing from local spooldir (fixes >= 9.23)
* Fix opening detail in MESSAGE section

## 2015-01-27 Version 9.25

* Update vm binary to 10.1.24 fixing G729 10ms decode (silence)

## 2015-01-26 Version 9.24

* fix some javascript warnings and errors

## 2015-01-22 Version 9.23

* Add view URL, export csv and refresh interval to MESSAGES, add view url, export to csv and refresh interval to REGISTER toolbar [VG-431]

## 2015-01-21 Version 9.22

* fix internal audio player for user with non admin but can listen flag VG-502

## 2015-01-21 Version 9.21

* Fix new file\_cache table creation error (fixes 9.20)

## 2015-01-20 Version 9.20

* Fix missing RTP in pcap if CDR has only one RTP stream (fixes 9.19)
* Added 2 days file cache for pcap files downloaded and extracted from remote sensors
* Optimize downloading / extracting pcaps from remote sensors (2x faster)

## 2015-01-15 Version 9.19

* signifficanlty reduce time to load main CDR grid (from >5 seconds to 1)
* fix filter condition for agent in alert filters (VG-497)

## 2015-01-12 Version 9.18

* optimize new tar method for experimental sniffer version

## 2015-01-12 Version 9.17

* add support for tar sniffer method

## 2014-12-19 Version 9.15

* add new cdr chart series for short calls under 20 seconds and 60 seconds (connected). It was added also in CDR group window in sip response columns (dur <20s and dur <60s percentage from all connected calls). This should help to quickly see if there is increase in number of short connected calls. VG-347

## 2014-12-17 Version 9.14

* Implement groups for custom headers and use groups in cdr filtering. VG-345

## 2014-12-17 Version 9.13

* implement user templates in cdr filter also in alerts and charts cdr filter forms VG-249

## 2014-12-17 Version 9.12

* modify cdr chart for last 3 day - set time steps to 8 hours VG-277

## 2014-12-16 Version 9.11

* fix 9.10 release by increasing timeout

## 2014-12-16 Version 9.10

* increase timeout for download cdr pcap / wav from remote sensors

## 2014-12-03 Version 9.9

* implement search by customHeader in getVoiceRecording API call (https://www.voipmonitor.org/doc/WEB\_API#getVoiceRecording\_by\_Call\_ID)

## 2014-11-26 Version 9.8

* fix pcap upload via the menu

## 2014-11-20 Version 9.7

* fix GUI v.9.6 socket problems (stucked GUI when communicating with remote sensors)

## 2014-11-19 Version 9.6

* fix php 5.1 compatibility
* fix sharing cdr to share.voipmonitor.org (RTP and DTMF were missing in SIP history)

## 2014-11-14 Version 9.5

* how warning for mysql error 1118 (row too large) in alter query which might be reason for not working alerts

## 2014-11-13 Version 9.4

* fix getting currency error which showed error when login

## 2014-11-11 Version 9.3

* fix 9.2 version

## 2014-11-11 Version 9.2

* fix problems with "license is for another hardware" in some cases when upgrading to newer versions

## 2014-11-11 Version 9.1

* fix cdr share screen for old versions of internet explorer

## 2014-11-11 Version 9.0

* Active new billing features voipmonitor.org/doc/billing and new watchdog rules based on billing (still beta)

## 2014-11-10 Version 8.44

* fix move license file when upgrading from main window page (if you have problem after upgrade run debian: cd / var / www/; mv backup-\*/ bin / lic ./bin ; centos: cd / var / www/html/; mv backup-\*/ bin / lic ./bin)

## 2014-11-10 Version 8.43

* fix create tables for mysql 5.1 (fixes 8.42 errors)

## 2014-11-07 Version 8.42

* fix 8.41 release

## 2014-11-07 Version 8.41

* Fix license issue when upgrading to new versions
* fix Internet Exporer compatibility (bad rendering in CDR)

## 2014-11-01 Version 8.40

* do not include ethernet MAC address into hardware id license to make it more compatible for virtual environments.

## 2014-10-30 Version 8.39

* fix show remote sniffer RRD charts in dashboard for remote sniffers
* add tip for install rrdtool if this missing

## 2014-10-29 Version 8.38

* fix G.729 audio decode out of sync in case packetization is not 20ms (for example 30ms) and there is packet loss.

## 2014-10-27 Version 8.37

* Fix javascript crash bug for russion timezone

## 2014-10-26 Version 8.36

* Show proper message when rrdtool is not installed on sensor.
* apply cdr filter when clicking on sip response pie chart in dashboard
* preliminary support for webrtc

## 2014-10-21 Version 8.35

* fix recent bug in the GUI -> sniffer communication when downloading data from sniffer over TCP
* fix dashboard RRD charts

## 2014-10-17 Version 8.34

* fix new RRD glitches in dashboard and resolutions

## 2014-10-15 Version 8.33

* fix new RRD intervals in sensors / fix dashboard RRD

## 2014-10-15 Version 8.32

* Implement new ASR alert type (average seizure ratio)
* Fix sniffer upgrade error "senzor error:"

## 2014-10-14 Version 8.31

* Add RRD graphs into the dashboard new template
* Fix no RRD on some installations (the latest sniffer is needed)
* Add license token in form when the license complains about channels

## 2014-10-10 Version 8.30

* change fread with select/read which fixes issue when GUI is stucked due to slow TCP / buggy sensor (stucked manager interface)
* keep scripts/custom\_login.php in upgrade
* fix some php warnings
* fix php 5.1 compatibility (missing zip class)
* show rrd icon only if supported by the sniffer

## 2014-10-06 Version 8.29

* Update vm binary which fixes g729 10ms packetization audio decode
* Add support for native collectd charts in GUI -> Tools -> collectd (collectd must be installed)
* Add support for new RRD sniffer feature 10.1 GUI -> settings -> sensors -> little chart icon

## 2014-09-30 Version 8.28

* Count concurrent calls for the license with more tolerance so all legs are merged into one channel
* fix download pcap from register table if item does not exists anymore
* Update geoip database

## 2014-09-25 Version 8.27

* new csv export from actual filtered cdr records which groups calls either by src or dst number and shows number of calls, connected calls and minutes.
* fix download pcap issue (0b) on some php versions (remove call ob\_end\_flush)
* allow searching for empty or NULL string in cdr filter number/name by providing "NULL" keyword.
* fix issue with reloading legend in multiseries charts after time-shift

## 2014-09-23 Version 8.26

* fix wrong error message when returning to live sniffer
* remove obsolete constant VPMANAGERPORTS
* fix enable / disable edit and delete record in grid via context menu
* fix non admins privilege for local sensors
* enable sip history for all users

## 2014-09-17 Version 8.25

* fix issue with reset id (if table is empty an mysql is restarted) in table fraud alert\_info which caused alerts stop working
* fix permissions for playing AUDIO when doing CDR public share and user has active session with denied AUDIO play

## 2014-09-15 Version 8.24

* Support listening to realtime audio in active calls for Firefox
* update vm binary to the latest

## 2014-09-12 Version 8.23

* fix license key in case the HWID has spaces in front / end

## 2014-09-12 Version 8.22

* fix sql where condition in report generator
* add content length to summary of message
* fix literal: 'Mesage' -> 'Message'

## 2014-09-10 Version 8.21

* fix 8.20 sql problem

## 2014-09-10 Version 8.20

* fix invalid character at begin JSON.php which caused javascript errors on php 5.1 builds.
* check writable SPOOLDIR at login
* eliminate duplicate calls in active calls for default local sensor and defined local sensor

## 2014-09-09 Version 8.19

* update vm binary which fixes audio out of sync for G723 calls with 60ms packetization and CNG

## 2014-09-04 Version 8.17

* fix continent/country tree in fraud forms

## 2014-09-04 Version 8.16

* update vm binary to 10.0.32 which fixes one-way audio

## 2014-09-03 Version 8.15

* modify counting concurrent calls for license and group it by last 6 digits from called number and not the caller. This reduces number of channels and should show accurate number of calls regardless on number of legs.

## 2014-09-02 Version 8.14

* modify license concurrent calls algorithm to group calls by callerid by last 6 digits which should help to lower peaks in case caller number changes
* allow to set hostname in settings -> sensors (only IP addresses were allowed)

## 2014-09-02 Version 8.13

* when merging calls sip history also merge rtp streams
* redesign FAX PDF link in CDR
* update voipmonitor binary to the latest 10.0.30 fixing audio decode for multiple RTP streams

## 2014-08-28 Version 8.12

* fix audio decode in case SIP ports are > 5999 - now no special voipmonitor configuration is needed for this

## 2014-08-26 Version 8.11

* Fix live sniffer IP filter rule - on some installations it refused to set the IP filter.

## 2014-08-25 Version 8.10

* fix find MESSAGE by its content in search form when HIDE\_MESSAGE is set
* add clear button co delay-combo in form alert & report
* eliminate zero prefix in get number length in check number is international
* fix issue with old chart configuration compatibility in daily reports
* fix stop alert / reports stop generation for preview and send
* fix alerts header for fraud alerts - suppress information about list adresses / numbers

## 2014-08-18 Version 8.9

* fix missing column can\_report\_functions in table groups

## 2014-08-14 Version 8.8

* fix broken firefox alert preview

## 2014-08-14 Version 8.7

* check if / dev / shm is writable before setting php session otherwise the login will stop working due to php session refusing

## 2014-08-12 Version 8.6

* set PHP session to ramdisk / dev / shm to avoid blocking ajax operations due to slow flock I/O especially on SSD disks (isn't it curious?). This fixes slow responsivnes of the GUI when doing parallel background ajax requests.
* hide mysql parameteres in sensor settings which confuses people and is not used anywhere yet.

## 2014-08-11 Version 8.5

* fix share CDR to share.voipmonitor
* optimize alert queries forcing calldate index (running cron is signifficantly faster now, almost instant)
* fix SIP MESSAGE charts

## 2014-08-07 Version 8.4

* - show lastSIP response '000 not reponse' with grey color instead of '0'
* - optimize preloads store for combo boxes in cdr / messages search form
* - fix preview report if 'day of week' or 'day of month' or timeperiod yesterday is set
* - do not allow user to click on OK in dashboard panel if configuration is not complete
* - add caller or called choice in cdr filter domain combo box
* - do not add new dashboard template at the end of list but sort it accordingly to not confuse users

## 2014-08-04 Version 8.3

* fix duplicate reports if the cron script do not end within its period.
* set Return-Path header in emails generated by the GUI
* fix error when clicking on send email on disabled alert

## 2014-07-30 Version 8.2

* fix license get hwid error

## 2014-07-30 Version 8.1

* fix not showing SIP messages which tshark does not handle on non 5060 ports - detect sip ports for tshark from sensors (needs 10.0.10)
* add configuration parameter INTERNATIONAL\_PREFIX to better classify nation/international calls in active calls

## 2014-07-28 Version 8.0

* enable anti-fraud alerts for everyone. It needs 10.0.9 sniffer verison.
* optimize chunk player
* remove tags  from index.php and admin.php which fixes html table issue in firefox
* use play file demo/play.raw for chunk player in demo mode (need mono 16bit pcm 8khz)
* add delete alert informations (in table fraud\_alert\_info) in alert processing

## 2014-07-27 Version 7.72

* fix license token download
* implement demo mode

## 2014-07-25 Version 7.71

* number of concurrent calls for the license are now groupped by calldate,callerid num,duration which eliminates legs of the same call
* suppress show rtp ip in cdr summary if ip is null or 0.0.0.0
* fix reload chart in cdr after change select via group panel
* license option now contain only license token instead of username / password. Old configuration is automatically converted to new schema.

## 2014-07-23 Version 7.70

* fix get license hwid on some hardware configurations

## 2014-07-23 Version 7.69

* fix GUI upgrade in firefox

## 2014-07-22 Version 7.68

* Add G.722.1 siren7 audio decode support

## 2014-07-22 Version 7.67

* update sniffer binary which fixes audio sync issue for G711 CNG/VAD

## 2014-07-21 Version 7.66

* optimize search for id in cdr column filter
* fix geoip data loading
* allow cdr / message sort callid and custom headers columns
* validate host and port in sensors settings

## 2014-07-18 Version 7.65

* fix endless http redirect loop on gentoo and similar.

## 2014-07-18 Version 7.64

* optimize dashboard sql query and remove unix\_timestamp
* add parameter onlyConnected to php/api.php for function getVoipCalls
* add time intervals last 30,60,90 days to configure chart in daily report
* redesign filter button

## 2014-07-15 Version 7.63

* add new share filter icon directly in the CDR toolbar
* hyperlink in email reports are now optional in alert definition (default on)
* fix some new php warnings

## 2014-07-14 Version 7.62

* add direct URL for current CDR filter in CDR toobar -> menu -> 'URL for current filter' which opens the GUI with the same filter
* change PDV calculation which is now delimited by connect duration instead of doing sum of all PDV which is useless
* change order in fetch files from sensor from 'local,remote' to 'remote,local' which fixes downloading pcap in multisensor environment
* add new option can-graphs which disables/enables graphs for users
* fix dashboard which showed empty information after configuration set
* add show http data via external transaction id in cdr and messages - in menu settings (blue wrench)
* if license dialog is skipped never show it again (it is available in menu -> settigns -> license)

## 2014-07-09 Version 7.61

* fix login with other language
* fix create filter subform in chart form

## 2014-07-08 Version 7.60

* fix chunkplayer on 32bit PHP
* hide mos\_lqo parameters in capture rules if lqo disabled in configuration.php
* add last 8 hours interval in charts
* mark domain group as caller / called and use it in search forms
* add who\_hangup to cdr filter
* add tel. groups in report generator
* fix get graph image in gui for some call-id file names (including +)
* fix daily reports for older versions which were upgraded to the latest (empty charts)
* add check exists urw-font in folder / usr / share/fonts/urw-fonts (in index.php)
* do not report error when run.php cannot contact upgrade server
* fix create audio folder if not exists - in convert pcap to wav
* fix - prevent infinite query in lib.php
* add button for new dashboard

## 2014-07-03 Version 7.59

* support domain license key for auto download
* add hyperlink in alerts / reports for quick alert / report edit
* fix chmod and error handling when installing wkhtml and phantomjs
* new option in alert for suppress duplicate alerts

## 2014-07-01 Version 7.58

* implement automatic wkhtml phantomjs download
* fix some php warnings
* add new configuration constans for enable ip lookup in alerts & reports (default is on)

## 2014-06-30 Version 7.57

* fix blank PDF reports (fixes new phantomjs)

## 2014-06-27 Version 7.56

* add phantomjs for better svg generator which fixes graph glitches in PDF / PNG reports like missing legend
* add button for copy to clipboard for cdr / message share link
* fix firefox context menu position
* add columns pdd and call-id to csv attachment in alerts
* add last 60d, 90d to time intervals in charts
* fix 5 minute limit in daily report preview button and add loadmask with stop button for preview / send alerts and reports
* do not abort batch download if there is call without any associated RTP (not connected call without ring RTP)
* fix date-to filter in titlebar in cdr, message, register which was year-mon-day 00:00:00 instead of year-mon-day 23:59:59
* add new options to combo for select date-from in titlebar in cdr, message, register
* fix bad hwid in case the string contains + or / when installing the GUI

## 2014-06-27 Version 7.55

* add phantomjs for better svg generator which fixes graph glitches in PDF / PNG reports like missing legend
* add button for copy to clipboard for cdr / message share link
* fix firefox context menu position
* add columns pdd and call-id to csv attachment in alerts
* add last 60d, 90d to time intervals in charts
* fix 5 minute limit in daily report preview button and add loadmask with stop button for preview / send alerts and reports
* do not abort batch download if there is call without any associated RTP (not connected call without ring RTP)
* fix date-to filter in titlebar in cdr, message, register which was year-mon-day 00:00:00 instead of year-mon-day 23:59:59
* add new options to combo for select date-from in titlebar in cdr, message, register
* fix bad hwid in case the string contains + or / when installing the GUI

## 2014-06-27 Version 7.54

* fix 7.53

## 2014-06-27 Version 7.53

* add phantomjs for better svg generator which fixes graph glitches in PDF / PNG reports like missing legend
* add button for copy to clipboard for cdr / message share link
* fix firefox context menu position
* add columns pdd and call-id to csv attachment in alerts
* add last 60d, 90d to time intervals in charts
* fix 5 minute limit in daily report preview button and add loadmask with stop button for preview / send alerts and reports
* do not abort batch download if there is call without any associated RTP (not connected call without ring RTP)
* fix date-to filter in titlebar in cdr, message, register which was year-mon-day 00:00:00 instead of year-mon-day 23:59:59
* add new options to combo for select date-from in titlebar in cdr, message, register
* fix bad hwid in case the string contains + or / when installing the GUI

## 2014-06-25 Version 7.52

* fix three state field for set hidemessage in capture rules
* user can select his default dashboard template
* fix error Illegal mix of collations if searching utf8
* in daily reports is now able to define report which will be generated every day of week or day of month
* fix when user renames sensor it did not reflect it in active calls and other sections unless user logout / login.
* fix some new hwid glitches

## 2014-06-20 Version 7.51

* add missing js file which fixes capture rules

## 2014-06-20 Version 7.50

* fix sniffer version num for ok condition (10.0 > 10.0RC27)
* fix clipboard text render and use standard spaces at end of text in cZeroClipboardMenuItem
* add support for capture rules by domain (needs sniffer 10.0) and add support for hash SIP SMS in capture rules
* support local http proxy when upgrading GUI

## 2014-06-19 Version 7.49

* urlencode hwid to avoid errors

## 2014-06-19 Version 7.48

* add show hwid in main screen
* add run.php function runUpdateLicenseKey

## 2014-06-19 Version 7.47

* fix get hwid failed in 7.46

## 2014-06-18 Version 7.46

* new automated licensing menu
* fix mergecap issue for new sniffers which lead to pcap download / wav stuck on new wireshark 1.10 versions
* fix sharing pcap to share.voipmonitor.org

## 2014-06-17 Version 7.45

* fix create wav from pcap from pcap from another time zone

## 2014-06-16 Version 7.44

* implement SIP SMS MESSAGE SHA256/secret searching

## 2014-06-12 Version 7.43

* fix dashboard reloading
* use UNION when filtering CDR by ip group in CDR group panel (right bottom)
* in email alert add option which shows summary in subject
* change upgrade icon in senzor from green to upgrade red text
* allow deleting sent alerts via context menu
* check for pcap files also in local spooldir in case of remote sensor
* fix upgrade sql schema after doing upgrade (user sometimes need to logout/login)

## 2014-06-05 Version 7.42

* add support for remove HTTP columns in sip history
* add parameters for direct show chart in active calls - index.php?activecalls=1&hidegrid=1&hidemenu=1
* hide menu license for not admin users
* add help for field 'sip response' in sip response alert
* add IP group selection for seraching RTP IP in cdr filter form
* allow non admin user to hide tools->mtr
* allow non admin user to hide group (sip responses) below the cdr grid

## 2014-06-04 Version 7.41

* update vm binary to RC27 which fixes some audio decoding issues (when RTP port is the same as SIP 5060-5099)
* enable scroll in sip diagram in cdr / message share
* add set stream timeout (stream\_set\_timeout) to fsockopenCloudSniffer - fixes php.run many instances in case sniffer is down
* enable sip response 0 in charts
* add layout with charts in messages

## 2014-06-04 Version 7.40

* update vm binary which fixes 'do not end call on 481 transaction does not exist prematurily' so the audio can be still decoded

## 2014-06-03 Version 7.39

* update vm binary which fixes g729 silence/CNG frames for 30ms packet frames (garbled g729 audio)

## 2014-06-03 Version 7.38

* fix share link button which does nothing when CDR had no RTP stream

## 2014-06-03 Version 7.37

* implement SIP SMS MESSAGE charts / dashboard
* Show total calls in active calls paginator
* update vm binary which fixes g729 for some cases

## 2014-06-02 Version 7.36

* fix alert reports when IP group selected (it did not find any)

## 2014-05-30 Version 7.35

* update sniffer binary which fixes decoding audio (silence) if packet is TELEVENT (FLASH, DTMF, etc)

## 2014-05-26 Version 7.34

* fix 7.33 login and active calls problem.

## 2014-05-24 Version 7.33

* fix login (7.32)

## 2014-05-23 Version 7.32

* update sniffer binary which fixes audio out of sync for some g729

## 2014-05-19 Version 7.31

* update vm binary and fix 101 DLT error when converting audio for some sniffer configurations
* add option DISABLE\_LIVE\_SNIFFER to system configuration

## 2014-05-19 Version 7.30

* enable audit log (if enabled for user) also in download pcap from sip history
* add port indication for http records in sip history
* enable copy to clipboard in HTTP body tab

## 2014-05-16 Version 7.29

* Show SIP src/dst and RTP dst ports in both digram ladder in SIP history.
* Default tab in SIP history is now plain text instead of the tree.
* fix searching in RTP IP using net/mask syntax.

## 2014-05-15 Version 7.28

* fix hide columns in sip history
* fix sort order in active calls
* fix some php warnings in cron scripts

## 2014-05-13 Version 7.27

* Fix tools - mtr if mtr binary is in non standard path
* In user domain restriction implement negation (exclusion) for certain domains (exclamation mark prefix)
* Show SIP domain in active calls and Implement user SIP domain filter in active calls - active calls will be filtered according to user domain restriction (needs the latest sniffer 10.0RC10)
* Redesign timeout alerts in alert section and add more alert types (needs sniffer >= 10.0RC10)

## 2014-05-07 Version 7.26

* fix 7.25 vm binary (audio decoding stucked)

## 2014-05-07 Version 7.25

* update vm binary which fixes left/right channel in audio files (this time properly...)

## 2014-05-06 Version 7.24

* fix issue with internet explorer
* add connected filter in active calls (requires sniffer >10.0)
* add new user privilege which allows CDR deletion for non admin users
* adjust color in spy chart for better reading
* fix "send alert if" option in alerts

## 2014-05-05 Version 7.23

* Update sniffer binary whcih fixes audio decoding when only called stream present
* Add G722.1 support (needs sniffer 9.4beta29 not yet released)

## 2014-05-02 Version 7.22

* fix loading geoip data

## 2014-05-02 Version 7.21

* update vm binary which fixes decoding audio where left channel was not always caller

## 2014-04-28 Version 7.20

* change help text if the key cannot be written

## 2014-04-23 Version 7.19

* update vm binary which fixes beeping in silence parts of G711a/u codec

## 2014-04-17 Version 7.18

* fix JSON NULL error if active calls contains backslash
* optimize loading upgrade information in sensors

## 2014-04-17 Version 7.17

* fix access control for share cdr / message
* fix show custom fields in shared cdr
* fix delay %95,$95 in charts (should be %95, %99)

## 2014-04-03 Version 7.16

* update vm to the latest binary supporting decoding new skinny fix

## 2014-04-02 Version 7.15

* add support to show AMR codec

## 2014-04-02 Version 7.14

* fix load configuration
* disable columns menu in sip history

## 2014-04-01 Version 7.13

* fix broken 7.12 wav conversion

## 2014-04-01 Version 7.12

* fix - if two IP shares the same hostname in ip lookup the chart in active calls did not sum it but showed only one IP (silently)

## 2014-04-01 Version 7.11

* fix - sort in csv export
* update sniffer binary which fixes audio decode if samplerate changes

## 2014-03-31 Version 7.10

* split long lines in SIP history diagram which fixes empty text above arrow
* fix mask load in packet detail / text panel
* if VPMANAGERPORT not set do not automatically show sensor in sesnors grig.

## 2014-03-28 Version 7.9

* fix show original call-id (before apply get\_fbasename\_safe)
* fix searching using % when callid contains char '\'

## 2014-03-28 Version 7.8

* Change app-${build} to app-$major.$minor.

## 2014-03-27 Version 7.7

* hide dscp fro rtp if ip is 0.0.0.0
* fix layout cdr summary tab

## 2014-03-26 Version 6.1424

* Fix 1412 - annot use string offset as an array in functions.php for some PHP versions
* create audio without rewriting pcap in spool dir
* fix show local sensor in sensor table
* add check sniffers version and allow sniffers upgrade within the GUI
* split sniffer upgrade menu to stable a beta versions
* fix help - chown command in gui upgrade process
* add show result from bin/vm in pcap2wav if failed
* fix continue auto-refresh cdr after close search form

## 2014-03-25 Version 6.1412

* fix bad CSS styles for all 14XX
* create audio file from local sensor without rewrite pcap files in spool
* fix show local sensor in sensor table

## 2014-03-25 Version 6.1410

* Fix all builds 14XX - missing some images and realtime audio listening.

## 2014-03-25 Version 6.1409

* Fix executable flag in bin/\* directory which prevented to decode audio (broken since 1402)
* show local sensor (if running) in sensors table even though its not manually added.

## 2014-03-24 Version 6.1402

* fix download/play audio file from remote sensors
* show text 'Message has remove due to user privilege' instead of real message if the user has denied to see message
* fix show warning 'empty data' in sensors alert (in preview)
* fix php warning in sensors alert
* add parameter 'always send status email' to sensors alert
* fix cdr autorefresh for long php/mysql fetch records
* suppress autorefresh when there is search form
* fix search form vertical position
* remove memory limit in generating report
* fix batch download
* upgrade gui via wget if file\_get\_contents fails
* fix upgrade tables for some new features
* fix - show / hide button 'add panel' in dashboard

## 2014-03-19 Version 6.1368

* Implement alerts which can now alert if there is no data in the alert - for example if there is no call in 30 minute interval etc. Or send alert even there is no data to match to proove that the alert still work so the email will just show empty data.
* Play audio for users with disable\_rtp and can\_listen
* add mask for some long render operations (show alert and reports dialog, show cdr serach form dialog)
* fix cdr merge operations for legs by headers

## 2014-03-18 Version 6.1360

* set default dns lookup off (for cdr and messages)
* fix / rebuild img.php (support for rtp graph)
* add system configuration item DISABLE\_CHECK\_NEW\_VERSION
* fix removing template files
* fix download audio files without binary sox
* add support for enable 'report functions' for any user
* fix download pcap in cdr share
* check if php json functions are installed

## 2014-03-17 Version 6.1351

* update error dialogs when downloading non existent pcap/wav

## 2014-03-17 Version 6.1349

* fix download sip+rtp when clicking on diskette icon
* fix show filtered cdr in report generator
* redesign downloading pcap/audio files internally.

## 2014-03-13 Version 6.1344

* Fix error message when login is invalid.
* Add support for OGG vorbis stereo audio file when downloading audio (8x smaller than wav)

## 2014-03-12 Version 6.1342

* active calls - show sensor host and port if sensor is not working
* combine results in legs by header for match headers and custom sip headers which has checked that it should be used in legs by headers
* fix picker position in multiselect combo box
* Fix downloading wav for Safari browsers.

## 2014-03-08 Version 6.1337

* Optimize ip lookup / dns / prefix resolvers and add "enable DNS IP lookup" setting in the CDR toolbar. add hostname cache for increase DNS query speed
* add parameter which will show percent column in dashboard message statistics (custom grid)
* add watch dog timer to active calls (for check refresh running)
* fix issue with active calls charts in firefox
* add sensors error indication in active calls (if the sensor is not running or the manager port is unreachable)

## 2014-03-05 Version 6.1333

* Fix missing Y values for PDD charts at some cases.
* Increase limit for alerts/reports which prevents to show / send large reports.
* Add help text in the search input boxes in CDR search form.
* Fix attachments in reports which showed more attachments than sent.

## 2014-03-05 Version 6.1328

* Fix Tools->concurrent calls (showed zero)

## 2014-03-03 Version 6.1324

* Update voipmonitor sniffer to the version which implements GRE IP.
* Implement new database columns (sniffer 9.4beta2) last\_rtp\_from\_end (Last RTP from last SIP) filtering and alerting (RTP) which is used to search calls where RTP stream ends X seconds before last packet - typical for interrupted calls.
* Implement filtering for connect\_duration - there was no way to find connected calls - only duration which are all calls including not connected calls.

## 2014-03-03 Version 6.1321

* Fix OPUS codec when doing PLC (fixes robotic voice)

## 2014-02-28 Version 6.1319

* Fix web browser memory leaks when running dashboard for long time
* add new two columns in dashboard grids widget - percent and total calls
* Implement url param dashboard (http://server/?dashboard=test%201 for show template 'test 1')
* Fix new combine to stack area if label is missing.
* In CDR detail graph showing loss/PDV show also vertical thick red line indicating MARK bit sets. This helps to understand jumps in the graph. You need to have voipmonitor version >= 9.4beta2 (not yet release, only in svn)

## 2014-02-27 Version 6.1314

* Implement auto refresh in CDR view in the toolbar.
* Fix some IE issues.

## 2014-02-27 Version 6.1312

* Enhance Charts build form in Charts and Dashboard which allows to filter every datasource differently which for example allows to combine concurrent calls for various data based on different filter. This option is at the end of each data source (F)
* Add new option "combine to stacked area" which allows to combine same type of series into stacked chart.

## 2014-02-27 Version 6.1311

* Fix dns lookup in alerts and csv export.

## 2014-02-26 Version 6.1310

* Increase php memory limit to 1GB to address memory issues with alert script.
* Fix showing TCP SIP history packets for some cases.

## 2014-02-25 Version 6.1308

* update vm binary which is now compiled with i686 flag so it will not crash on older CPU (like p4) which fixes wav decoding on those CPUs.
* convert ip to hostname in sip alert (in summary by IP destination)
* fix download sip only from remote sensor
* fix issue with long call (fix download pcap and wav, fix show memory limitation graph)
* fix sort in dasdhboard widget 'Top CDR IP addresses' which sorted at the bottom after reload the widget
* fix api.php which can be run in any folder now

## 2014-02-17 Version 6.1301

* Add last 8 days to dashboard

## 2014-02-17 Version 6.1300

* Show admin user after login if there is new GUI version.

## 2014-02-17 Version 6.1299

* Implement searching for RTP ports
* Allow module=bypass\_login if BYPASS\_LOGIN\_HOST\_ADDR is not set
* use posix\_uname for function getTypeCpu (instead of call proc\_open with command uname -m which hangs on some linux OS)

## 2014-02-11 Version 6.1295

* Some PHP versions has buggy iconv library which causes failing iconv IGNORE translation which leads to showing empty active calls list if some SIP call has garbled UTF8. This version workarounds this problem.

## 2014-02-11 Version 6.1293

* Fix active calls for some other UTF8 or garbled characters which caused empty active calls list.

## 2014-02-10 Version 6.1292

* Support PHP 5.5
* Update vm binary to 9.3 which fixes crash in some cases when decoding audio.

## 2014-02-10 Version 6.1291

* Refactor alerting which used too much RAM and often fails.
* Do not load all alert history in GUI grid but only on demand.

## 2014-02-06 Version 6.1290

* Show RTP destination port in SIP history (you need the latest sniffer from svn or wait for 9.3 version)
* Add stacked chart in active calls

## 2014-02-03 Version 6.1287

* fix wav decode broken sinc previous release.

## 2014-01-31 Version 6.1284

* Update embedded voipmonitor binary fixing some more G729 garbled sound and supp

## 2014-01-30 Version 6.1283

* fix select default sensors in active call
* dashboard - disable 'add panel' button if there is no free region
* fix http title in sip history

## 2014-01-29 Version 6.1280

* Fix silence G729 decoding caused by CNG frames.

## 2014-01-29 Version 6.1278

* Fix garbled audio decoding if there are CNG frames in the RTP stream.

## 2014-01-28 Version 6.1277

* Fix active calls for some cases
* Add maximum oldest cdr hour and minute into alert rule so the user can decide how rage is the CDR base for analyzing the alert. CDR base are taken from the oldest CDR since last match but not larger than this new parameter. Before, it was restricted to two hours so some alerts did not arrived as expected.
* Fix creating new sql tables on some mysql servers.

## 2014-01-23 Version 6.1271

* Add MOS caller / called datasources in charts to be able to plot MOS score only from caller or only to called numbers so user can create statistics for MOS score coming from certain IP addresses not influenced by MOS scores coming from customers.

## 2014-01-22 Version 6.1270

* Fix capture rules created from SIP register (missing global states)
* Change mos\_lqo combo in capture rules to meet sniffer needs

## 2014-01-20 Version 6.1268

* Add option in users allowing non admin upload pcap file.

## 2014-01-20 Version 6.1267

* Fix T38 download when pcap are on remote sensor
* Fix license crontab issue

## 2014-01-20 Version 6.1265

* Speedup legs by header searching by adding datetime in JOIN
* Implement OR AND in DSCP alert
* Ask user to reload GUI when doing changes in system configuration
* Do not show mysql errors on login for mysql <= 5.0

## 2014-01-17 Version 6.1263

* Fix charts in reports broken since last releases

## 2014-01-16 Version 6.1262

* Fix PCAP download which did not include RTP packets (if present). Broken since 2.1.2014 release 1233
* Fix CDR share
* fix combobox (multiselect mode) slow problem - Maximum call stack size exceeded

## 2014-01-15 Version 6.1259

* Fix showing sip message access denied when logging in via api.
* Fix cron run.php if runs for the first time on big database
* Detect database version and do not show error if partitions are not supported

## 2014-01-15 Version 6.1258

* Fix concurrent calls statistic broken since last release.
* Fix php warnings for percentile calculations.

## 2014-01-14 Version 6.1256

* Fix swapped columns in active calls (bug introduced in previous version)
* Implement option in sensor which sets the sensor as a default for active calls. This is useful when you have many sensors and clicking on active calls loads calls from all sensors by default which leads to timeout if some of sensors are not available.

## 2014-01-13 Version 6.1253

* Change sensor timeout to 2 seconds
* If a connection from web browser to server is interrupted in dashboard or in active calls - red title is displayed instead of confusing error message. The red title will disappear once the connection is reestablished.

## 2014-01-10 Version 6.1251

* Fix empty active calls for some callerid in calls (like double ")
* Implement sorting in colmuns in cdr simple layout.
* Fix PHP calc warning for the latest sniffer

## 2014-01-03 Version 6.1243

* Update vm binary which fixes DTMF issues when doing audio decoding (out of sync, garbled sound)
* Add to context menu and toolbar menu new Download option - Download SIP or download SIP+RTP pcap file.
* In case there is no user defined autologin to the web gui and inform the user that he must create admin account.

## 2014-01-02 Version 6.1239

* Remove garbage from SIP in packet raw info after content-length
* add user options which can disable dashboard and show only connected calls and message
* Adjust sensor stat in sensor list to show last CDR created in DB and last CDR sniffed (in sql queue)
* fix mismatch between id and id\_sensor in sensor alert
* if the GUI is upgraded inform every connected clients to reload the page to prevent errors since the js application can change ajax calls.

## 2013-12-27 Version 6.1231

* Update VM binary for audio decoding which implements some new SCPP (cisco skinny) messages.

## 2013-12-23 Version 6.1230

* Fix ACD AVG in charts.

## 2013-12-20 Version 6.1227

* implement full featured filters in alerts instead of simple IP/group
* fix sniffer upgrades for https
* show html encoded message in SIP message detail
* fix init cdr filter template name
* fix javascript error in open message
* fix close empty panel in dashboard
* Introduce two variants of ACD calculation (charts/grids)
* implement CPS alert
* fix issue with timer in dashboard - fix issue after cancel / close setup window
* speed up searching by sip proxy IP

## 2013-12-16 Version 6.1217

* Add CPS (avg and max) in dashboard grids
* Add DSCP filter section (tab) in CDR search form, charts and dashboard filters
* Suppress some unwanted MySQL errors
* Fix some issue with IE
* fix paginator in CDR stats grid
* fix limit in dashboard
* adjust timers in dashboard
* implement mysql interrupt in dashboard on reload / pause / column changes etc.
* add loading information in dashboard
* fix 502 bad gateway for nginx (and others using fastcgi)

## 2013-12-13 Version 6.1211

* Fix broken upgrade procedure (since 1204)

## 2013-12-13 Version 6.1210

* Implement CPS (calls per second) charts
* Fix % in GET parameters
* Fix issue with sensor combo box in live sniffer (it was not possible to stop live sniffer in rare case)
* Fix DSCP values in CDR detail
* add workaround for check exists procedure or function if user has not privilege to mysql.\*

## 2013-12-12 Version 6.1204

* tweak sensors list refreshing and fix sensors combo box which loads information from sensors which will throw error if any of sensor is not reachable.
* Implement user permission groups
* Fix mergecap if placed in non standard path
* Fix php 5.1 compatibility (missing class DateTimeZone)
* Fix email alerts if contains UTF-8 in name.
* Add DSCP support (sniffer must enable this feature - since 8.4RC18)
* Implement DSCP alert
* Add delay sum to CDR detail
* Check integrity when doing upgrade to not end up with broken WEB GUI
* When upgrading GUI use wget as fallback method if file\_get\_contents does not support https
* Add paginator and csv export for QoS and Call summary section
* Add new system setting which allows to disable warning when you want to close GUI or reload page.

## 2013-12-04 Version 6.1188

* WARNING - When upgrade you have to change crontab entry in / etc / crontab - just follow instructions after upgrade.
* Fix prefix groups in alerts which was accidentally broken since revision 1163. All prefixes were concatenated instead of delimited by new line.
* Re-implement crontab scheduler - now there is only one crontab scheduler and each alert or report can run independently. There can be alerts checked every minute or every hour now. Default alerts are set to 300 seconds which can be modified.
* Allow sorting by callend in CDR and add callend information in CDR (grey color under callstart)
* Alert type sensor can now select for which sensor should be alert set
* increase refresh interval in sensors table to 300s and refresh version to 10 \* 300s

## 2013-12-02 Version 6.1176

* Fix missing tools.php file for PHP < 5.4 (affects reports / alerts)
* Allow disable/enable alert rules
* Implement senosrs alerting based on various rules like sensor restarted or not running or cdr not written since last X secconds etc.
* Fix sorting order in sensors
* Add load mask in sensors informing about upgrading the sensor.
* Use wget if php file get contents fails when upgrading sensor
* Add support for uptime (since sensor 8.4RC16
* If the GUI is upgraded force reload all web clients.

## 2013-11-28 Version 6.1170

* Fix optimization regression (in rev 1166) in last versions which caused forced index on calldate which was wrong and caused query to never end on huge database
* Implement search type icon for number in search form

## 2013-11-27 Version 6.1167

* Implement combo switch in dashboard widget panels to swap between source and destination IPs
* Implement new dashboard widget - sensor stats
* Implement senzor management in sensor settings - autoupgrade, get versions, show last debug line about calls cpu etc.
* Add new user restriction to prevent seeing SQL query for non admin users
* Fix percent condition in alerts which sent alert even for low % rate
* Add force calldate index for charts
* Implement multiselect combos in filter form so it is now possible to select more IP / Num groups.

## 2013-11-25 Version 6.1164

* Fix MESSAGE even/odd graphics
* Fix SQL error in MESSAGES

## 2013-11-22 Version 6.1163

* Fix security issue where the user restrictions by ip or telephone number can be bypassed with appropriate search string in search form. Upgrade to this version is **STRONGLY** recommended.

## 2013-11-22 Version 6.1162

* Fix users custom/public dashboard templates (users did not see public templates)
* Fix MOS alert sql error introduced since last version

## 2013-11-21 Version 6.1160

* Add ability to cancel query in CDR/MESSAGE and do not timeout after 300 seconds with error message "communication failure"
* Add ability to cancel query in CDR group panel which is handy in case you do not need to see group data for large datasets which takes a lot of time to load.
* Add ability to see sql query in case searching takes very long time.
* Show better error message in case connection timeouts.
* Kill mysql query in case the web browser client timeouts ajax request.
* Speedup CSV export
* Fix WARNINGS about unlink /tmp in http log
* Change naming in alerts recapitulation to summary

## 2013-11-20 Version 6.1159

* Fix CSV export in case the export takes more time to process.

## 2013-11-20 Version 6.1158

* fix csv attachment in sip alert / report
* fix slow mysql queries for new alert cdr filtering
* fix DISABLE\_CHECK\_SPOOLDIR warnings
* add sip alert option for cdr summary in attachment
* extend filter cdr by ip with find in proxy
* adjust saving dashboard to be more intuitive
* fix CSV exports
* add validation check in filter form for From and To
* fix missing language string for custom columns in CDR grid (it showed ObjectObject)
* Order data by names in all combo boxes

## 2013-11-15 Version 6.1145

* Enhance alert emails to not include each CDR which can make the email very huge. Instead allow limit number of CDR in the body of email and attach csv list as attachment + add URL link which will filter those CDR in alert in the CDR GUI.
* fix mysql escaping when saving dashboard v2 names.

## 2013-11-12 Version 6.1140

* Dashboard - added reload all button, added SIP MESSAGES widgets, modify save dialog which makes re-save easier.

## 2013-11-06 Version 6.1137

* Change license check to analyze only connected calls instead of all calls.

## 2013-11-05 Version 6.1136

* Fix license check which caused php to exhaust all memory due to bug triggered by Daylight Saving Time.
* Implement scrollable forms
* Fix searching by agent name in CDR search form for some cases.

## 2013-11-01 Version 6.1133

* Disable binary graph format version 1 (since sniffer 8.4RC5) which causes php script 100% cpu and other bugs. The sniffer is fixed in upcoming version 8.4RC9
* Add proper wiki link for new dashboard

## 2013-10-31 Version 6.1131

* Fix template combo box in new dashboard

## 2013-10-30 Version 6.1129

* This version is encoded with new ioncube which requires new ioncube - you will be asked after installation to install it.
* Completely new dashboard implementation with custom widgets and default templates.
* Add %95 and %99 percentiles in almost every statistics and charts.
* Fix compatibility issue with php 5.1
* Fix color picker in charts
* fix selection order in cdr and message group
* Allow filtering by SIP responses in CDR and message filters.
* Add new SIP response charts
* Fix scaling of some combination of data sources in charts
* fix search by last sip response = 0 in cdr search form
* fix some .graph issues in CDR detail

## 2013-10-04 Version 6.1100

* Update internal sniffer binary which fixes G729 garbled decoding if SID frames are sent and fixes deduplicate bug which fixes T38 fax decoding

## 2013-10-02 Version 6.1099

* add configuration parameter HIDE\_TIMEZONE\_INFORMATION
* implement xml tree view for http

## 2013-10-01 Version 6.1096

* SET GLOBAL innodb\_stats\_on\_metadata=0 speedups connection to GUI for sniffers >=7 and <8
* fix warnining in index.php - Use of undefined constant DISABLE\_CHECK\_SPOOLDIR
* fix show raw data in http
* fix merge SIP messages and http

## 2013-10-01 Version 6.1093

* fix show http records in sip history in message
* fix show packet detail for http packets
* fix create query for select http\_jj records via external\_transaction\_id - prevent by use empty string

## 2013-09-30 Version 6.1091

* In live calls fix decoding phone numbers
* fix T.38 codec in alerts and reports (G711 instead)
* show timezone settings only if it differs from web server to not cause confusions
* remove old backups when upgrading
* add corelation between message and http\_jj and optimize old corelation
* fix charts (binary module) - increase size of integer from int16\_t to u\_unt32\_t which fixes concurrent calls calculations

## 2013-09-25 Version 6.1085

* Fix 0 pcap files if mergecap binary is in / usr / local/sbin and not in / usr / sbin
* Check if mergecap is actually present in any standard path
* Fix license check issues
* Add timezone information on basic screen which indicates what the client timezone is what server timezone is and what php timezone is
* fix search cdr for symbol '#' and encoded string '%23' in caller / called number
* Add duplicate user also in tool bar in user administration.

## 2013-09-23 Version 6.1081

* http://wiki.voipmonitor.org/doc/GUI\_news
* new bin/vm binary fixes Audio decode for RTP with CNG (comfort noise generation packets)
* In daily reports is now possible to also choose time range
* Convert encoded URL in SIP URI (for example '#' symbol is escaped as '%23'
* In CDR search form now it works negation in response code (!200) and in SIP Agent input box.
* In CDR proxy column when there are more than 4 proxies show it only when mouse hover.
* Differentiate RTP with another color in SIP history
* Add ringing time in CDR search form
* Fix filtering for OPTIONS and SUBSCRIBE live sniffer and change default for INVITE and REGISTER (not OPTIONS NOTIFY etc.)
* Add PDD criterium for alerts
* Allow searching for CDR in URL allowing to use all criteria which is available in CDR search form. The new parameter is cdr\_filter, username and password and it contains json array of columns. All columns explained here: http://voipmonitor.org/doc/WEB\_API#CDR\_HTTP\_API, Example: http://localhost/voipmon/index.php?user=mx&password=pass123&cdr\_filter={"fcaller":"910251414","fcalled":"800123456"}
* In CDR column submenu there is now able to choose if you want to order column by duration, PDD, codec, SIP ip or username etc.
* Added Domain and Agent groups (anagogic to IP and Tel.num groups)
* Added ability to duplicate non admin user (right click on user)
* New user restriction option for user which can be denied to see body content of a SIP MESSAGE
* fix show graph from sip history
* No matches for 'etc/issue'
* in SIP MESSAGE section fix show content message if message has xml format
* fix some Internet Explorer issues

## 2013-09-14 Version 6.1062

* Fix WAV conversion on Centos multicore due to crashes in updated vm binary (broken since build 1053)

## 2013-09-12 Version 6.1061

* Fix new PDF checkbox in daily alerts (PDF were still sent when unchecked)

## 2013-09-11 Version 6.1059

* In RTP daily reports or alerts display percentage for each parameter. For example if there are 10 cdr with < 3.5 MOS score and there are 100 cdr in total, the new percentage column will show 10%
* Change percentage rule in alerts which was taking into account all cdr but more logical is take only cdr based on ip or tel number rules. For example you want to create alert if 10% of calls goint to specific IP address has MOS <3.5 trigger alert.
* Add new option Send PDF in daily report which means that now it is possible to disable PDF attachments and see only HTML.
* Add new option Script to capture rules which support new sniffer 8.3 feature filtercommand (see sniffer manual). Basically this feature allows to run shell script based on capture rule - for example if someone calls some destination or the call come from some IP etc.

## 2013-09-10 Version 6.1055

* Fix paging in exported PDF which caused to garble some graphs. Allow choose A4 or Letter page format in system settings.

## 2013-09-10 Version 6.1054

* Fix packet loss and mos average percent values in qos / reports and other places. The issue was that the sum was counted from all calls including unconnected and connected but the average value was divided only by sum of connected calls so the average loss and mos were higher.

## 2013-09-10 Version 6.1053

* Update vm binary to new version which fixes out of sync audio in case a sender activates silence and there are two consecutive MARK bit sets.

## 2013-09-09 Version 6.1052

* Implement OPUS codec decoder
* When deleting user delete also audit log instead of throwing error about constrain keys.

## 2013-09-06 Version 6.1050

* Fix time range 00:00:00 in cdr filter and other filters which was incorretly converted to 23:59:59. For example when user set filter from 3.9.2013 00:00:00 - 4.9.2013 00:00:00 it was actually two days instead of one day.

## 2013-09-03 Version 6.1046

* implement filter by custom headers in messages section.

## 2013-08-29 Version 6.1045

* fix upgrade script for nginx web server

## 2013-08-22 Version 6.1043

* fix click help in Concurrent Call Stats popup screen doesn't show help page

## 2013-08-21 Version 6.1042

* Fix email creation which contained double CR confusing various mailers including outlook and ms exchange and possibly other email clients.
* Fix missing rtp checkbox in daily report configuration form

## 2013-08-19 Version 6.1040

* Allow alfanum and other characters in capture rules telnum prefix so the user can put +420 for example
* Fix CDR CSV export calldate

## 2013-08-15 Version 6.1038

* Fix whtmltoimage installation wizard - wrong directory.

## 2013-08-14 Version 6.1037

* Fix CDR CSV export
* Fix reload failed - undefined manager port

## 2013-08-12 Version 6.1036

* fix sip packet detail missing.

## 2013-08-08 Version 6.1033

* Improve installation wizard and fix it for php 5.1
* Do not show local sensor if it does not exists and at least one remote sensor is created.
* disable reload local sensor if not defined VPMANAGERHOST

## 2013-08-06 Version 6.1032

* Close PHP session immediately after the PHP script verifies the session and not after the PHP script ends. This greatly reduces lockups/lags of the GUI if parallel AJAX requests are sent within one user session. Now loading CDR charts will not block other AJAX requests until the chart is loaded.
* Add kernel packet loss warning in CDR (for sniffer >= 8)
* add server time menu to dashboard cdr and messages which is useful in case the server has different timezone
* add three state checkbox in capture rules which allows to define if recording sip/rtp etc. should be set by global setting or off or on.
* Enable audit log possibility for admin accounts.

## 2013-08-04 Version 6.1026

* Fix column width for custom headers in CDR and MESSAGES
* Fix HTTP duplicates when merging.

## 2013-08-02 Version 6.1024

* Add last SIP response into active calls grid which is available in sniffer 8 RC8 (not yet released)

## 2013-08-02 Version 6.1023

* If user has disabled listening to calls disable it also in active calls.

## 2013-08-01 Version 6.1022

* Fix active calls if caller name contains quote
* Implement new sniffer (>=8RC7) feature which now stores to destination IP of the latest INVITE and shows SIP proxies (and search by proxy). This column will be shown only in case the call traverse through proxy and the call-id does not change.
* Modify column width in sip message history.
* Add missing pictures arrow in sip history.

## 2013-07-31 Version 6.1017

* Redesign SIP history messages grid which is now default instead of the diagram.

## 2013-07-25 Version 6.1012

* Add support for CLEARMODE codec (sniffer 8.0RC6)

## 2013-07-25 Version 6.1011

* Add -o 'tcp.relative\_sequence\_numbers: FALSE' to tshark which fixes some TCP reassemble messages
* livepacket - fix mysql error with non existing table in rare cases
* Fix slow licence check for php 5.1
* fix LIMIT -60,60 error in live packet

## 2013-07-25 Version 6.1008

* Fixes SIP history for remote sensors in some cases.

## 2013-07-24 Version 6.1006

* implement merge in SIP MESSAGES

## 2013-07-24 Version 6.1005

* Do not expose mysql password and other settings if configuration of the server changes and installation wizard is activated. Now the formular will show only if configuration.php is missing.

## 2013-07-23 Version 6.1004

* Fix decoding audio if RTP packets has trailing bytes like ethernet checksums and other trailing bytes (this is problem for all versions)
* Implement 'enable\_sensors' => Array(2,3))); in custom login
* Fix user deletion in case the user has some constrains like sensors etc.

## 2013-07-22 Version 6.999

* Implement custom PHP function which allows to make custom login mechanism (LDAP etc.) More info http://wiki.voipmonitor.org/doc/WEB\_API

## 2013-07-22 Version 6.998

* Implement skip flag in capture rules allowing to completely skip tracking of certain calls based on IP or Number rules (sniffer >= 8 required)
* Implement custom headers for SIP MESSSAGE
* Implement HTTP correlation in SIP history by more headers
* Call session\_write\_close to reduce PHP deadlock chance in case multiple live calls is running

## 2013-07-17 Version 6.994

* Fix - do not delete CDR if user selects delete files in CDR -> menu delete files.

## 2013-07-17 Version 6.992

* Fix WAV conversion in case the remote sensor has different time zone then the mysql server.

## 2013-07-16 Version 6.991

* Fix loading graph in cdr detail if savegraph = gzip.
* Fix loading graph for old sniffer versions with old directory structure (sniffer <= 6.0)

## 2013-07-16 Version 6.990

* Fix download and play wav from remote sensor if there is only wav file and not pcap file.
* Fix files leaks in /tmp folder in case pcap or wav are downloaded from remote sensors.

## 2013-07-11 Version 6.983

* When there is problem with MySQL do not show installation wizard to users - instead show only the error message.

## 2013-07-09 Version 6.979

* fix MAP geoposition in some rare cases
* fix active calls for some cases (tabs from sniffer, json encoding problems)
* fix php calc in some cases
* add Call ID column in CDR - it is disabled by default in the system configuration option

## 2013-07-01 Version 6.975

* Implement alternative sound player which can be enabled in Settings -> system configuration
* Fix problems in nested grids which can cause browser performance issues.
* Implement multiple sip custom header correlations used in sip by header
* Support for OGG format in GUI player (converts it to wav on the fly)

## 2013-06-21 Version 6.971

* Proper fix for pcap / wav download. It still did not worked in the previous version.

## 2013-06-21 Version 6.969

* Fix pcap/wav download broken since 963
* If user is constrained to some IP addresses filter it not only by source IP in register section but for both src and dst
* Allow ',' separator to CSV import

## 2013-06-19 Version 6.967

* Fix login issue when tables from sniffer are completely missing.

## 2013-06-17 Version 6.965

* Apply custom header changes without needs to reload page.
* Adjust right margin for summary panel in CDR

## 2013-06-14 Version 6.962

* fix compatibility issue with IE
* limit number of CDR for batch download to 1000 and offer retry if the process fails due to memory

## 2013-06-14 Version 6.961

* Fix broken installation wizard when ioncube is not present.

## 2013-06-14 Version 6.960

* Fix alerts which were not sent due to wrong double-run detection (broken since 938)
* Fix warnings in lib.php when opening sip history without pcap file and without rtp
* add verbose switch (-v or -v 2) for run.php alerts.
* when reloading nagios (button) show success confirmation
* Tweak batch WAV download glitches when error arise

## 2013-06-13 Version 6.954

* add option 'Only CDR with RTP' into report generator so now it is possible to create report for all calls and not only for connected thus the ASR is usable
* Fix upgrading database right after clicking on reload button after upgrade the GUI (and not only on logout/login)
* fix removing rtp from pcap if exists pcap in ALL folder

## 2013-06-11 Version 6.949

* fix sharing to share.voipmonitor and user chosen to not include RTP
* hide chart in active calls if no call
* fix some php warnings if pcap is missing in sip history

## 2013-06-10 Version 6.947

* fix api.php and add startTimeTo parameter

## 2013-06-10 Version 6.944

* There are cases where special settings has to be used in case of WAV decoding like natalias. If this file / etc / voipmontiorwav.conf exists it will be now used for audio decoding.

## 2013-06-07 Version 6.943

* Implement batch CDR audio recording directly in the CDR menu and not only for CSV file in tools so now you can search CDR by any criteria and get all WAV files.
* add called parameter into getVoipCalls / api.php so it can be searched also by called number.
* Check tshark version when T.38 PDF is used (1.6 required)
* fix CSV export - add separeator ' ' before header (fix issue http://support.microsoft.com/kb/323626)

## 2013-06-07 Version 6.939

* Implement sharing CDR to share.voipmonitor.org also for remote sensors (it worked only for local sensors)

## 2013-06-07 Version 6.938

* Fix JS errors in dashboard grid CDR
* avoid running multiple alerts process which can cause duplicating email alerts

## 2013-06-06 Version 6.936

* Fix error when stopping live sniffer
* Implement SIP types in live sniffer which can filter INVITE, REGISTER, MESSAGE, OPTIONS, SUBSCRIBE now. (requires voipmonitor 7 RC9 or svn trunk)
* Implement SIP MESSAGE sharing

## 2013-06-05 Version 6.932

* Implement SIP domain groups (like IP and tel.num groups) and allow searching CDR by domains and user restriction by domains
* Implement filtering SIP MESSAGES by content-type and message body.
* Add ok button into license formular.
* Rearrange alerts and report forms

## 2013-06-03 Version 6.930

* Do not show license information on homepage if license expires < 30 days
* Allow to turn off license information in user account on home page
* Add Settings -> license section
* Add possibility in license section to send alert to email if license < 30 days.
* Do not lose values in installation wizard page in case the license is invalid and page reloads

## 2013-05-31 Version 6.924

* Show current license after login
* Show appropriate message when license expires or license is for another server
* Check window coordinates / size in respect of viewport height for small screens.

## 2013-05-30 Version 6.915

* Add time intervals into CDR, MESSAGES and REGISTER main title bar.
* add predefined time intervals into system configuration
* Change default time interval (24 hours) in dashboard
* Do not allow login if the key.php expired or is invalid - instead show wizard installation page. No more 500 error confusions.

## 2013-05-29 Version 6.907

* In live sniffer capture section show warning in case sniffer is starting without any rules which can overload browser.

## 2013-05-29 Version 6.905

* Fix reload button in upgrade section - the reload does nothing but the reload button must logout the user so new javascript framework is loaded
* Fix sortable columns in messages, implement sorting for caller/called and for others disable sorting.

## 2013-05-29 Version 6.903

* Optimize SQL for custom headers in case of merging pcap

## 2013-05-29 Version 6.902

* Fix legs by header for custom headers for certain headers
* Fix nagios service notification generation

## 2013-05-29 Version 6.900

* Fix CDR share page (javascript error again)
* Fix help button in SIP:history
* Remove duration condition and fix sort by calldate in legs by header

## 2013-05-28 Version 6.898

* Change alert.php to save alerts by default in case -s parameter is missing. This can fix installations where the alerts are repeating to emails.
* Reload sniffers when auto-removing capture rules.
* Change default CSV separator from ; to , and allow change CSV\_FIELD\_SEPARATOR in GUI settings -> advanced.
* Fix possibility to insert leading 0 in capture rules in tel. numbers (changes column from int to char)

## 2013-05-28 Version 6.893

* Fix custom headers GUI layout.

## 2013-05-27 Version 6.891

* Add default calldate (like in CDR) to SIP MESSAGE section so it will not load the whole table at start
* Implement new ACL for user which can now enable/disable fax vieving.

## 2013-05-27 Version 6.887

* Fix CSV export (calldate column error)
* Implement PIE chart in SIP MESSAGES like it is in CDR

## 2013-05-24 Version 6.885

* Implement custom SIP headers - more info in doc - <http://voipmonitor.org/doc/Sniffer_configuration#custom_headers> and here <http://www.voipmonitor.org/doc/Settings#CDR_Custom_header>
* Alert script in cron now saves alerts by default (even the -s switch is not provided) to not generate alerts repeatedly.
* Fix js error in CDR context menu filter by this CDR

## 2013-05-23 Version 6.879

* fix wikiUrl error

## 2013-05-22 Version 6.878

* Implement config/system\_configuration.php file

## 2013-05-22 Version 6.876

* Enable help buttons inside GUI which redirects to new voipmonitor.org/doc

## 2013-05-22 Version 6.875

* try to download wav file first in case of remote sensors so when pcap file is deleted but wav file is still on disk it will try to download it.
* fix mysql error in sip history when the database name is not voipmonitor

## 2013-05-21 Version 6.873

* Fix calldate format when changed in settings it was not possible to download pcap files
* Fix SKINNY pcap download for remote sensors
* Fix MySQL connection for the latest GUI - fixes creating users.

## 2013-05-16 Version 6.866

* Fix API get wav

## 2013-05-16 Version 6.865

* - non admin if no sensors attached will now see all cdr
* - api - add columns cdrId, callId into json result, getVoiceRecording - add parameter callId for find cdr
* - fix playing wav for long (over hour) calls - the php used all memory

## 2013-05-06 Version 6.858

* After performing upgrade via GUI force logout/login so new javascript is loaded.

## 2013-05-06 Version 6.857

* fix searching for call-id
* show proper error if SQL fails instead of silence errors

## 2013-05-06 Version 6.854

* Fix privileges in settings -> user config

## 2013-05-06 Version 6.853

* Enhance install procedure and system requirements - check if mb\_\* php functions are present
* Implement API getVoipCalls and getVoiceRecording - documentation will follow soon
* Show proper error when uploading more data in pcap then is set in php.ini

## 2013-05-02 Version 6.848

* Fix QOS reports and Call summary broken since 832 revision.

## 2013-05-02 Version 6.845

* Fix Chart PDF / PNG generator broken several versions back.
* Fix recursive loop in php code for rare cases in multi-sensor environments.
* Fix fax decoding in case of multiple tshark binaries.
* Fix tooltip text in filter form.
* Fix searching by call-id in CDR filter form
* Fix UI masking

## 2013-05-02 Version 6.838

* Fix live sniffer for sniffer >= 7 version.

## 2013-04-30 Version 6.836

* - Implement DTMF in SIP history (needs the latest sniffer 7.0RC2
* - Enable ISAC codec in filter form
* - allow non admin to download CSV file
* - fix 500 error in system settings
* - fix some localizations

## 2013-04-29 Version 6.832

* Force calldate INDEX in CDR grouping because MYSQL wrongly assume that using another index make it faster.

## 2013-04-29 Version 6.831

* Fix PCAP download in register active table. It was not possible to download (file always missing error code)

## 2013-04-29 Version 6.830

* fix live sniffer for sniffer version >= 7
* Fix upgrade script for PHP < 5.2
* Enable experimental GUI for nagios - no documentation yet.

## 2013-04-26 Version 6.819

* - add concurrent calls statistics to new menu in tools->concurrent calls stats (main purpose is for check how many channels needed for the license)
* - remove mcrypt dependency (centos 6.3 does not have mcrypt for php)

## 2013-04-25 Version 6.817

* Fix VUmetr in live listen

## 2013-04-25 Version 6.814

* Implement GUI for configuration.php - it is in Settings -> system configuration
* Remove SPOOLOVERIP and make it fully automatically based on sensor configuration in settings -> sensors.

## 2013-04-25 Version 6.807

* Fix broken 805 release.

## 2013-04-24 Version 6.805

* Redesign active call realtime listening - currently only G711 alaw ulaw. Requires new sniffer version 7
* Fixes Internet Explorer compatibility

## 2013-04-24 Version 6.802

* allow play wav if pcap is missing but wav still exists
* beta version of localization in settings - localization

## 2013-04-19 Version 6.794

* for long calls (over hour) make the png graph smaller so it can be rendered by browsers which does not handle such long PNG images.

## 2013-04-19 Version 6.793

* fix download pcap file in CDR share.

## 2013-04-17 Version 6.788

* check if bin/\* has exec bit
* fix charts where there was 2 days instead of 1.

## 2013-04-12 Version 6.782

* Optimize GEO location which can take 8 seconds to count all rows in database. (in case of local geo data)

## 2013-04-11 Version 6.781

* Fix parsing ajax requests which fixes raw output to http window

## 2013-04-11 Version 6.778

* In alert definition number group never worked - fixed.
* Implement SIP flow chart for MESSAGES section.

## 2013-04-11 Version 6.775

* Fix showing RTP streams in MESSAGES SIP history section
* Allow color theming in settings -> user configuration

## 2013-04-10 Version 6.770

* fix MSIE compatibility
* batch download cdr - asynchronous processing

## 2013-03-27 Version 6.745

* Set last 24 hours for REGISTER FAILED section to not overload database on first load (like it is for register state already).

## 2013-03-27 Version 6.744

* Implement autodelete capture rules - user can set date when the rule should be deleted which is handy in case to not forget delete some recording rules.
* Automatically reload sniffer when user enables recording PCAP in REGISTER section (by clicking on circle icons)

## 2013-03-27 Version 6.742

* Do not break condition to two OR statements if it contains "or" sequence - for example if someone searched for "CX for Android%" in user agent register formular it breaked it to UA = "CX" OR UA = "Android%".

## 2013-03-26 Version 6.740

* Cisco SKINNY protocol preliminary support.

## 2013-03-22 Version 6.738

* add ENUM support (experimental - not documented yet)

## 2013-03-22 Version 6.736

* fix load mask in SIP history

## 2013-03-21 Version 6.733

* Add new configuration option to configuration.php DISABLE\_EMAIL\_PLAIN\_TEXT\_INFO which disables plain text email which should fix outlook 2003 and others.
* Fix CDR file deletion since new sniffer directory structure
* Fix attaching CDR to new issue ticket
* geoip - adapt to new Maxmind data format
* and fix freegeoip ajax
* Consolidate AJAX requests and always offer relogin in case the session expires.

## 2013-03-20 Version 6.726

* Support any ptime for GSM decoder - not only 20ms but any ptime.

## 2013-03-20 Version 6.725

* Rename compressed jitter to RTP jitter and swap AVG/MAX lines to match RTCP
* Divide RTCP fraction loss by 2.56 to get real percentage loss for avg and max.

## 2013-03-20 Version 6.724

* fix more cases when PHP session expires and user clicks somewhere in the GUI
* re-implement reloading sniffer from GUI - it was not possible properly reload multiple sensors
* GUI now allows searching cdr directly by URL parameters to index.php or admin.php: cdrId, callid, num, srcnum, dstnum, caller (srcnum), srcnum, called (dstnum), calldate, calldatemin, calldatemax (format YYYY-MM-DD, YYYY-MM-DD HH:MM:SS
* fix combobox value in case it was choosen from the next page

## 2013-03-18 Version 6.719

* add sensor description for CDR MESSAGE and REGISTER columns
* hide visible SWF object for zeroclipboard in some web browsers
* sort descendantly CDR in legs also by ID not only for calldate.
* fix moving charts by arrows

## 2013-03-16 Version 6.713

* - fix live calls view where it showed only 25 calls
* - bring back toolbar in ip lookup and prefix lookup
* - fix batch wav download tolerance was +-10sec instead of +-5mins

## 2013-03-13 Version 6.700

* Fix last release - missing sql.php file.

## 2013-03-13 Version 6.697

* Fix WAV download (broken in previous release) in case SPOOLOVERIP is used in config/configuration.php (WAV from remote sensors)

## 2013-03-13 Version 6.695

* Remove mcrypt php dependency which is not included in centos by default.

## 2013-03-13 Version 6.693

* Fix installation wizard which accidentally required working license key
* Fix web page showing shared CDR

## 2013-03-11 Version 6.688

* compute % column in CDR group panel instead of heaving it empty.

## 2013-03-10 Version 6.687

* GUI now embeds all codecs and special vm binary just only for decoding audio. The old codec binaries are now not needed.

## 2013-03-06 Version 6.676

* Do not try to load GeoIP data unless the TAB is clicked - this solves slow loading of CDR detail.
* Implement REGISTER pcap saving in register failed and state history. Sniffer 6.5RC8 needed.
* Add ID and id\_sensor to register failed and state
* New configuration.php option SESSION\_NAME\_BY\_SERVER\_FOLDER if set to true session and cookies are unique per folder - this is in case that several GUI is hosted on the same domain.

## 2013-03-04 Version 6.668

* optimize REGISTER state and active section which was searching through all CDR instead within specified interval which was very slow on very large tables
* new configuration options LEGSBYCID\_INTERVAL, LEGSBYHEADER\_INTERVAL which allows to change default time interval for correlating calls in CDR detail.

## 2013-03-03 Version 6.663

* - fix IE compatibility
* - fix download pcap file from local sensor without ID in case SPOOLOVERIP is enabled.
* - add possibility to change user password in settings menu

## 2013-02-21 Version 6.659

* Implement Wireshark style packet detail in SIP history. Fix some glitches in SIP merges in case there is fragmented or TCP reassembled packets.

## 2013-02-20 Version 6.654

* Fix bug - since 649 user table disappeared.

## 2013-02-20 Version 6.652

* fix missing SIP messages in merge sip history diagram in case TCP or UDP fragments
* fix geoip which blocks http requests in case one of server is not reachable

## 2013-02-20 Version 6.651

* Fix release 649 which prevents login and table creations thus impossible to install.

## 2013-02-20 Version 6.649

* Implements showing RTP streams in SIP history diagram (Wireshark style). Requires Sniffer 6.5 RC5.

## 2013-02-18 Version 6.646

* Support for audio G722 decoding

## 2013-02-17 Version 6.645

* Implement nonblock also for pcap ladder in case of downloading data from remote sensors.

## 2013-02-17 Version 6.644

* In case of remote sensors implement nonblocking graph download which solves locking whole PHP server.
* Fix some more missing text in SIP leader diagram.

## 2013-02-14 Version 6.640

* fixed T.38 decoding for new spool directories and support fetching pcap files from remote sensors

## 2013-02-14 Version 6.639

* allow disable live sniffer for users

## 2013-02-14 Version 6.638

* Implement download option SIP or SIP+RTP in pcap merge
* fix some more cases where text above arrow were missing in SIP ladder
* add ID column in issue tracker with active URL

## 2013-02-12 Version 6.631

* implement date filter for register in GUI to not overload database
* fix merge pcap for old directory structure
* fix IE compatibility

## 2013-02-11 Version 6.625

* Fix live sniffer refresh in case sniffer has different timezone than the client.

## 2013-02-10 Version 6.623

* Fix wav download/play in case pcap files are downloaded from remote sensors.

## 2013-02-08 Version 6.620

* If user is restricted to see only some IPs or numbers filter also defined groups in combo boxes.

## 2013-02-08 Version 6.619

* Fix geodata upload formular

## 2013-02-08 Version 6.616

* Implement google maps showing ip addresses positions and geoposition in SIP header (if present). MAP will show in CDR detail as new TAB.

## 2013-02-07 Version 6.610

* Fix PHP Warning: getSettingDefault(lang-en.php): failed to open stream
* Fix URL link in tracker issue
* Fix htmlspecialchars in some tracker formulars

## 2013-02-06 Version 6.607

* make alert for one-way rule only for connected calls
* fix scroler bug in firefox version 18

## 2013-02-06 Version 6.605

* scale ladder diagram more in case of many hosts
* sort packets in sip history by time and change first column to always show source IP instead of caller IP
* fix URL link in trouble tickets in some cases
* fix live packets view in case the server time has another time than client in web browser and show last page on live sniffer stop.

## 2013-02-06 Version 6.599

* Fix pcap download for new sniffer directory structure

## 2013-02-05 Version 6.598

* Support new directory structure in the latest 6.5RC2 sniffer version
* Fix URL in tracker email
* Do not send emails to users which are creators of ticket and update it.

## 2013-02-01 Version 6.593

* - add more filter option to MESSAGE
* - add alerts and reports privilege for user so alerts can be shown/hide for each user

## 2013-01-31 Version 6.592

* Fix charts for 32 bit systems
* Fix scale in charts for some multiple layered charts
* Add quick URL link in email sent from internal issue tracker

## 2013-01-27 Version 6.588

* fix live sniffer stop in case more sensors are defined

## 2013-01-27 Version 6.587

* fix sensor combobox in live sniffer

## 2013-01-26 Version 6.586

* redesign live sniffer

## 2013-01-25 Version 6.579

* add some missing php files

## 2013-01-25 Version 6.577

* maintainance release

## 2013-01-24 Version 6.576

* Implement new live packet sniffer menu - sniffer version 6.5 and newer is required.
* Add horizontal scroller for SIP diagram and make it wider in case of many hosts
* Fix IP lookup in SIP diagram
* Bring back SIP history bulb
* Fix CSV import and export
* Fix IP in IP lookup CVS export
* Fix pagesize in comboboxes

## 2013-01-17 Version 5.553

* enable csv import/export in Groups ip and tel numbers for bulk inserts

## 2013-01-17 Version 5.552

* Fix merge pcap empty window in case voipmonitor GUI is set to download pcap from remote sensors
* Turn off loading sip history svg and grid on CDR detail unfold - but only on clicking directly on sip history tab to speedup loading.

## 2013-01-16 Version 5.550

* This build now contains the real firefox lockup fix.

## 2013-01-16 Version 5.549

* Fix GUI lockups for buggy javascript in firefox 18
* Implement remember me in login page
* Implement merging PCAP files in CDR, and in detail in legs
* Implement filtering in SIP history to be able to wipe out some IP and download filtered pcap file
* Implement undock window for SIP history to be able to examine SIP diagram in bigger window

## 2013-01-14 Version 5.524

* Implement DNS reverse in SIP flow chart and fix showing error if pcap is not on disk.

## 2013-01-14 Version 5.523

* Implement SIP flow chart in SIP history tab.

## 2013-01-11 Version 5.517

* Support for iSAC codec (part of webRTC)

## 2013-01-10 Version 5.511

* support for Skype SILK codec

## 2013-01-05 Version 5.508

* New CDR share feature allowing to share CDR via local GUI or to share.voipmonior.org online service.
* New Chart tab in CDR detail which allows see history of QoS and SIP metrics for all relevant CDR.
* New SIP MESSAGE feature allowing to see all SIP MESSAGES (needs the latest sniffer)
* Add new alert in case connected calls does not have any RTP packet (silent call in both directions)
* Change duration in alerts to use it as a filter and not as a criteria for alert
* Fix some IE incompatibility
* Rearrange user formular - allow/disallow sharing on share.voipmonitor.orgm

## 2012-12-21 Version 5.494

* Fix active calls in conjuction with remote sensors. Fix paging in active calls (it was showing all records which slowed done web browser to unusable state)

## 2012-12-17 Version 5.488

* Enhance IP and numbers in filter form and group definitaions - now in the input box it is possible to negate IP or number and combine with multiple numbers. For example searching for number starting 123 or 256 but not including number 2565 and not including numbers starting with 1234 - 123%, 256%, !2565, !1234%
* user can be restricted to see data only from specified sensors
* in sip alert 0 can be now set which triggers alert when last sip response is 0 (which is for cases there is no response to INVITE)
* if user has enabled audit do not popup window with input box but make the note optional

## 2012-12-10 Version 5.484

* fix in alerts SIP response percentage - it did not work at all
* fix .htaccess in php folder to not stop on rewrite alert if apache does not have that enabled
* implement filtering by tel.numbers and IP addresses set for user also in live calls and in register messages
* if filtering CDR by ID disable other filters to not confuse the user
* in report generator sometimes the green column was not 100% although the red column was 0% - do not include CDR which do not have RTP and cannot be used for RTP report.
* implement audit log which logs to audit log each login/logout/download pcap/wav and filtering CDR for usesrs with enabled audit log. the audit log section is under the user menu. Users are also forced to write description when downloading file or using filters

## 2012-12-04 Version 5.480

* fix chart in live view - it did not showed top most callers

## 2012-12-03 Version 5.478

* fix crossed WAV link in case SPOOLOVERIP is set in configuraiton.php
* fix capture rules on 32bit plaftorms (ip addresses was set to 0.0.0.0)
* fix delay column in QOS report section
* files were not deleted when deleting by delete button in CDR
* implement import from CSV file in tools->iplookup and prefix lookup
* show request response in preview and send alerts / reports
* show subgrigds in register - add filter by to\_domain
* add column RTP IP From / To into cdr list in alerts / reports
* change default sensor\_id in spy (default is ALL)
* issue tracjer add comment button at the bottom toolbar
* add 200 OK in dashboard sip responses

## 2012-12-03 Version 5.476

* add duration parametr to report generator
* add preview and send alert buttons to help configure alerts
* add sip called ip column and filter field into register\_state and register\_failed
* add possibility for each user to allow/disallow seeing capture rules
* ascending / descending direction into order / quick filters (cdr)
* possibility to filter by sensor id in cdr filter form

## 2012-11-30 Version 5.475

* implement wav download from remote senzor
* new ordering options in quick filters - call duration, SIP IP, numbers, caller name and sip response num
* redesign internal pdf charts creation to fix some rare issues
* retain wkhtml binaries accross upgrades

## 2012-11-29 Version 5.470

* add missing streamlib.php (fixes graph in cdr detail)

## 2012-11-28 Version 5.469

* Support older rsvg-convert (centos 5.7)
* Support non standard mysql port for chart binary

## 2012-11-28 Version 5.467

* fix T.38 decode (file does not exists)

## 2012-11-28 Version 5.466

* Fix PDF 0b and Preview (unknown error) in daily charts.

## 2012-11-28 Version 5.465

* Fix emails which showed garbled in Apple mail, Lotus and vairous other email clients.
* Support gz and bz2 pcap for T.38 PDF decode.

## 2012-11-27 Version 5.464

* Fix charts on debian 5 which has magic quotes enabled by default.

## 2012-11-27 Version 5.463

* Fix ioncube license - missing ?php

## 2012-11-26 Version 5.462

* Fix active calls in cases where UTF8 is present in the voipmonitor sniffer output. The page was blank as long as the call with UTF8 chars was in place.

## 2012-11-26 Version 5.459

* Finalize daily charts report - implement quick preview and send test email. Now it is also able to choose PNG or RSVG in PDF report and also choose if shadow should be rendered in charts curves.
* Implement filter templates for filter formular which is accessible in quick filters

## 2012-11-22 Version 5.457

* support older PHP (implement sys\_get\_temp\_dir )

## 2012-11-20 Version 5.456

* Fix installation wizard
* Add SIP response 6XX as datasource for charts

## 2012-11-20 Version 5.453

* Daily reports can now generate custom charts based on any filter rules. Daily reports are also archived in history to be able to browse them back in history.
* SIP alert can now alert without SIP response specific number which means that it can alert based on tel. bumber - for example send alert for any 112 called.
* Fix alert formular for % input box (not visible)

## 2012-11-15 Version 5.446

* order live calls ascendant

## 2012-11-15 Version 5.445

* allow to see calls from particular sensor or from all sensors in Active calls

## 2012-11-15 Version 5.444

* fix no error in installation wizard on centos where posix\_getpwuid is missing due to missing package php-process

## 2012-11-15 Version 5.443

* fix CSV export

## 2012-11-14 Version 5.442

* Fix Legs by CID searches by CID only and not by To number
* Fix pcap download from sensors

## 2012-11-09 Version 5.441

* tweak in cahrts binary

## 2012-11-09 Version 5.439

* fixes memory issue if debug enabled

## 2012-11-07 Version 5.437

* Fixes js for Opera browser

## 2012-11-06 Version 5.436

* Fix packet detail window.

## 2012-11-06 Version 5.434

* Fix Legs by CID and by Header - sometimes it did not find it due to wrong calldate.

## 2012-11-06 Version 5.433

* Fix Tools menu
* Fix Internet Expolorer errors (still not 100% functional)

## 2012-11-05 Version 5.431

* CDR legs finder in CDR detail (by CID or by match header)
* Tools - IP and Tel.prefix lookup
* Upload pcap directly from GUI

## 2012-11-02 Version 5.422

* Fix searching by number groups - it was searching only by the last number in the group.

## 2012-11-02 Version 5.421

* Add ENABLE\_SQL\_IP\_REVERSE\_LOOKUP also into Call summary.

## 2012-11-02 Version 5.420

* implement action=version in api.php

## 2012-11-02 Version 5.418

* Implement api.php action login and listcalls
* Also substitute IP address in dashboard from hostanme sql table

## 2012-10-30 Version 5.416

* do not show zero in RTCP detail if there is no RTCP packets
* fix reload register subgrids

## 2012-10-29 Version 5.414

* Imlement SIP REGISTER GUI
* Implement downloading pcap/graph/wav directly from sensor via TCP interface
* Slightly redesign CDR detail
* Add possibility to hide/show live calls view per user
* Add rtcp packets to pcap file for users without RTP enabled
* Fixes some T.38 issues
* Support bz2 compression

## 2012-10-25 Version 5.401

* Fix broken CSV Export
* Support voipmonitor 5.2 sniffer new deduplication packet feature which will remove duplicates packets when converting T.38 to fax.

## 2012-10-25 Version 5.396

* Fix codec combo box and other multi-select input boxes.

## 2012-10-19 Version 5.390

* T.38 FAX decoding to PDF capability
* T.38 FAX filters in codec selection
* New issue tracking system connecting CDR or Graphs

## 2012-10-09 Version 5.358

* fix SIP messages in CDR detail in case of gziped pcap.gz

## 2012-10-09 Version 5.357

* Fix downloading gzipped pcap.gz

## 2012-10-03 Version 5.353

* Fix CDR delete from menu and context menu.

## 2012-10-02 Version 5.350

* fix searching by called ip in filter form
* fix context menu
* load data in CDR detail only on expand to not load burst data which is not needed to load until + is clicked

## 2012-10-01 Version 5.347

* Add RTCP and codecs datasources for charts

## 2012-09-29 Version 5.346

* Fix scaling issue in charts

## 2012-09-28 Version 5.344

* Fix bug preventing playing WAV on pcap.gz and pcap.bz2

## 2012-09-28 Version 5.342

* Fix english

## 2012-09-27 Version 5.341

* - Fix charts

## 2012-09-25 Version 5.327

* chart builder able to plot number of concurrent calls, SIP responses distribution, QOS charts and much more.
* New dashboard at the moment shows three plugins - SIP responses, ASR/ACD statistics and TOP IP address list.
* Filter formular was redesigned for better user expirience.
* Future versions will enhance dash board to allow placing custom widgets with custom data sources (like linear chart showing number of concurrent calls)
* Active calls show charts with the top most IP addresses.
* New report section with call summary showing ASR/ACD statistics per IP, QoS report per IP and simplified CDR view.

## 2012-09-25 Version 4.329

* fix RTP statistics in CDR row for the called column - it accidentally shows the caller numbers (broken since RTCP several days ago)

## 2012-09-25 Version 4.318

* Allow only numeric values in filter rules.

## 2012-09-06 Version 4.284

* if DATE\_FORMAT is set to nonstandard Y-m-d PCAP and WAV could not be downloaded.

## 2012-09-06 Version 4.280

* Implement sql.customer\_prefix table which holds customer numbers or prefixes substituing it in CDR view. Enable it has to be enabled in configuration.php ENABLE\_SQL\_CUSTOMER\_PREFIX\_LOOKUP. Data for the table is not managed by WEB GUI yet.
* Add configuration option DISABLE\_CDRPLAY in the configuration.php to disable PLAY and WAV buttons in the CDR view.

## 2012-09-06 Version 4.277

* Fix syntax error in alerts.php.
* Implement DISABLE\_LIVEPLAY in configuration.php to globally disable Play button in live calls.

## 2012-09-06 Version 4.272

* Implement RTCP into the WEB GUI. The latest voipmonitor sniffer (from trunk) is needed or wait for 4.2 (maybe 5.0) release. The RTCP is now showed in RTP columns J:jitter and L:fractionloss and also in detail table. You can also search by the rtcp fraction loss and jitter in the filter form.
* Fix load mask in CDR and Group panel for longer SQL queries.

## 2012-09-04 Version 4.266

* The previouse release was packed with configuration.php and wrong key.php so the installation process never showed up.

## 2012-09-03 Version 4.265

* Alerts can be now defined as percent from overall CDR instead of number of incidents. For example if 5XX SIP errors is greater than 4% send alert.

## 2012-09-01 Version 4.263

* implement inteligent filter input box in live calls. If you put "123." it filters all calls with IP 123.\* If you put number without "." it filters all calls with the number (src/dst) starting with that number. If you put %123 it will start all src/dst calls ending with 123.

## 2012-08-31 Version 4.260

* Fix PCAP link WAV and graph not working if the filename has - or : in the name (broken since build 255). The latest voipmonitor from svn is highly recommended.

## 2012-08-30 Version 4.255

* fix playing / downloading wav if the api key is enabled in configuration.php

## 2012-08-29 Version 4.254

* fix hiding live calls for non-admins

## 2012-08-29 Version 4.253

* Implement ENABLE\_SQL\_IP\_REVERSE\_LOOKUP in config/configuration.php which will try to match ip -> host from new sql.hostname table (which will be created automatically). This table has to be populated manually. There is no web gui for this at the moment.

## 2012-08-29 Version 4.252

* Implement WAV\_API\_KEY option which forces to put &key=yourkey to WAV request if used outside of WEB GUI (API to get WAV file)
* Hide live calls and upgrade menu to simple CDR users (and also PDD values)

## 2012-08-28 Version 4.250

* before clicking on WAV check if voipmonitor is installed and also if other codecs are installed
* voipmonitor can decode one way audio so enable it in GUI
* check for license key and other requirements also on login instead of only on installation

## 2012-08-28 Version 4.244

* Fix rare cases when call-id SIP header contains character not allowed in filename like "/" etc. The latest vm sniffer is needed to support it.

## 2012-08-23 Version 4.240

* Fix filtering CDR if the user logs with tel. number restriction. The filter did not work at all.

## 2012-08-22 Version 4.238

* Removed configuration.php from the packaged accidentaly added in 237 release preventing to show installation procedure. No new features/bugs.

## 2012-08-16 Version 4.237

* fix DEFAULT\_CDR\_INTERVAL which can be 0 which means current day
* enable beta version of realtime listening calls through web browser in live calls (supports only google chrome at the moment)

## 2012-07-24 Version 4.233

* put -y option for pcap2wav to support decode SIP on ports 5060 - 5099 instead only 5060

## 2012-07-20 Version 4.231

* Implement new RTP alert checkbox One way, which will report all connected calls where one RTP direction is missing (or both)

## 2012-07-18 Version 4.230

* tweak upgrade section to view when upgrade license expires.

## 2012-07-17 Version 4.227

* Fix timezone problems
* Fix .gz and .bz2 pcap files and wav
* Fix pcap downloading for some web browsers
* Fix WAV playing not in simple CDR layout
* Fix generating all RTP alerts rules
* Fix installation script for PHP < 5.3
* Add upgrade menu beta version

## 2012-07-11 Version 4.217

* Fix missing default graph in CDR detail

## 2012-07-11 Version 4.214

* Fix reloading voipmonitor in filter menu
* Implement installation script

## 2012-07-11 Version 4.211

* upgrade wavplayer.swf and change url from php/id.wav to php/pcap2wav.php?id=N so configuring apache2 rewrite engine is not needed anymore

## 2012-07-05 Version 4.210

* do not let decode wav if there is no rtp

## 2012-07-05 Version 4.209

* fix downloading PCAP files, wireshark complained 'pcap appears to have been cut short in the middle of a packet.'
* allows to play WAV even if the call is not answered (to hear 183 ringing)

## 2012-07-04 Version 4.206

* optimize some SQL queries to load group overview faster

## 2012-07-04 Version 4.203

* Implement @domain in SIP calle[r/d] number - view and search.

## 2012-07-03 Version 4.202

* Allow download WAV file even for not logged user (to let access by third system).

## 2017-02-15 Version 0.1234

* allow to disable showing flags in front of numbers and IP addresses in CDR view or allow user to change it to the right in toolbar or settings - user configuration [VG-1162]
* add configuration for secondary database which will be used for alerts / cron and reports so the main database will be not overloaded and locked by long queries (this requires redundant db setup) [VG-1154]
* fix 'empty alert' when previewing concurrent calls alert
* allow changing colors for 'sip responses xxx' chart (no more RED for 200 OK which confuses people) [VG-1147]
* do not show "local" if country is not recognized [VG-1159]
* update bin/vm to the latest

## 2012-06-29 Version 0.199

* fix libpng causing 100% cpu if data in graph is empty

## 2017-08-07 Version 0.100

* fix bug when web client has old cached js framework
* fix older php version
* fix alert type "sensor" [VG-1312]
* fix multi combo box bug
* fix group by destination number (sql error) in cdr/message [VG-1321]
* fix black bars in charts

## 2021-08-17 Version 0.78

* in settings->sensors there is possibility to set spool folder individually for each sensor - this way GUI can try to find pcap / tar when they are archived in specified folders
* replace md5 password hashes with sha256 where it makes sense and where it's possible [VG-1586]
* display the digestrealm column fram the register\_state/\_failed tables [VG-1875]
* force php configuration option session.use\_trans\_sid to 0
* add the user privilege to make a backup of the GUI [VG-1820]
* redesign GUI filter to be able to change 'caller or called' to 'caller and called' quicker also in other filter places [VG-2033]
* implement multiselect combo for sensors in live sniffer [VG-1535]
* support for counting '487 session canceled' states in the 'fraud sequential' alert
* fix live sniffer's running after Gui's reload [VG-1535]
* implement prefix lookup for source/destination phone numbers into 'group by' in CDR view [VG-1758]
* add tooltips for some fields in fraud realtime concurent calls alert [VG-1826]
* Tools->IP lookup - add ability to use subnets so it can tag more IPs with one name, add ability to set colors for the names [VG-1799]
* Allow to disable default dashboards or to limit access th the default dashboards [VG-855]
* adjusted header height in sip-history so IP:port are more visible [VS-1218]
* fix parameter sanitization in custom interval seetings in charts [VG-2344]
* fix parsing the result of the manager command listcalls if it has no call
* fix long gui loading when a large number of sensors are unavailable

