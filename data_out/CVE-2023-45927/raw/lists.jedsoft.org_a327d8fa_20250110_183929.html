<!-- MHonArc v2.6.19+ -->
<!--X-Subject: [slang&#45;users] Possible FPE in tt_sprintf() -->
<!--X-From-R13: Xreel [rat &#60;wreelgfgatNtznvy.pbz> -->
<!--X-Date: Sun, 23 Jul 2023 09:09:22 &#45;0500 (CDT) -->
<!--X-Message-Id: CADN04DJ7wckh2zzcsooVG9th60g7mrSJ+bohNt0gYn2XrkONmQ@mail.gmail.com -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Derived: binh499CySIkh.bin -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>
 <title>[slang-users] Possible FPE in tt_sprintf()</title>
</head>
<body>
<div align="right">
<em><a href="http://www.jedsoft.org/slang/mailinglists.html">slang-users</a> mailing list</em>
</div>
<hr>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
  <strong>
  <a href="seq.html#00003">[2023 Date Index]</a>
  <a href="index.html#00003">[2023 Thread Index]</a>
  <a href="../../index.html#slang-users">[Other years]</a>
  <br>
  [<a href="0000004.html">Thread Prev</a>] [<a href="0000005.html">Thread Next</a>]
  &nbsp;&nbsp;&nbsp;&nbsp;
  [<a href="0000002.html">Date Prev</a>] [<a href="0000004.html">Date Next</a>]
  </strong>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[slang-users] Possible FPE in tt_sprintf()</h1>
<SUBJECTHEADER>

<!-- Thread element -->
<!-- Add dates to every line in the thread view -->
<TLiTxt>
</TLiTxt>

<TTopBegin>
</TTopBegin>

<TSingleTxt>
</TSingleTxt>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>Subject</em>: [slang-users] Possible FPE in tt_sprintf()</li>
<li><em>From</em>: Jerry Meng &lt;jerrytstng@xxxxxxxxx&gt;</li>
<li><em>Date</em>: Sun, 23 Jul 2023 22:08:56 +0800</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hello,

mc is one application that uses the S-Lang library. While running mc on
Ubuntu 22.04, we observed one FPE bug as follows:

Program received signal SIGFPE, Arithmetic exception.
0x00007ffde904e6fe in tt_sprintf (buf=0x7fffffffdab0
&quot;{1000}/\203\065\065.2X/0.2X\033\\&quot;, buflen=1024, fmt=0x5555556ba925
&quot;%2.2X\033\\&quot;, x=0, y=0) at ./src/sldisply.c:644
644 ./src/sldisply.c: No such file or directory.
(gdb) bt
#0  0x00007ffde904e6fe in tt_sprintf (buf=0x7fffffffdab0
&quot;{1000}/\203\065\065.2X/0.2X\033\\&quot;, buflen=1024, fmt=0x5555556ba925
&quot;%2.2X\033\\&quot;, x=0, y=0) at ./src/sldisply.c:644
#1  0x00007ffde904ec4e in tt_printf (fmt=0x5555556ba91d
&quot;{1000}%/%2.2X\033\\&quot;, x=0, y=0) at ./src/sldisply.c:759
#2  0x00007ffde9050c3c in write_attributes (fgbg=1792) at
./src/sldisply.c:1708
#3  0x00007ffde9050ccf in SLtt_reverse_video (color=0) at
./src/sldisply.c:1737
#4  0x00007ffde9050ce9 in SLtt_normal_video () at ./src/sldisply.c:1742
#5  0x00007ffde9053c47 in SLtt_reset_video () at ./src/sldisply.c:3176
#6  0x00007ffde9095a22 in SLsmg_reset_smg () at ./src/slsmg.c:1676
#7  0x00007ffde909593d in init_smg_for_mode (mode=1) at ./src/slsmg.c:1625
#8  0x00007ffde90959a4 in SLsmg_init_smg () at ./src/slsmg.c:1645
#9  0x0000555555573792 in ?? ()
#10 0x00007ffde9429d90 in __libc_start_call_main
(main=main@entry=0x555555571450,
argc=argc@entry=1, argv=argv@entry=0x7fffffffe2c8)
    at ../sysdeps/nptl/libc_start_call_main.h:58
#11 0x00007ffde9429e40 in __libc_start_main_impl (main=0x555555571450,
argc=1, argv=0x7fffffffe2c8, init=&lt;optimized out&gt;, fini=&lt;optimized out&gt;,
    rtld_fini=&lt;optimized out&gt;, stack_end=0x7fffffffe2b8) at
../csu/libc-start.c:392
#12 0x0000555555575135 in ?? ()


*The version information of mc and S-Lang:*

GNU Midnight Commander 4.8.27
Built with GLib 2.68.4
Built with S-Lang 2.3.2 with terminfo database
With builtin Editor and Aspell support
With subshell support as default
With support for background operations
With mouse support on xterm and Linux console
With support for X11 events
With internationalization support
With multiple codepages support
With ext2fs attributes support
Virtual File Systems:
 cpiofs, tarfs, sfs, extfs, ext2undelfs, ftpfs, sftpfs, fish
Data types:
 char: 8; int: 32; long: 64; void *: 64; size_t: 64; off_t: 64;


*The steps to reproduce:*

Copy the attached file to ~/.terminfo/x/
Run mc


----
Kind Regards,
Jerry Meng
</pre><p><strong>Attachment:
<a href="binh499CySIkh.bin" ><tt>xterm-256color</tt></a></strong><br>
<em>Description:</em> Binary data</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00005" href="0000005.html">Re: [slang-users] Possible FPE in tt_sprintf()</a></strong>
<ul><li><em>From:</em> John E. Davis</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<strong>
  <a href="seq.html#00003">[2023 date index]</a>
  <a href="index.html#00003">[2023 thread index]</a>
  <br>
  [<a href="0000004.html">Thread Prev</a>] [<a href="0000005.html">Thread Next</a>]
  &nbsp;&nbsp;&nbsp;&nbsp;
  [<a href="0000002.html">Date Prev</a>] [<a href="0000004.html">Date Next</a>]
</strong>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
