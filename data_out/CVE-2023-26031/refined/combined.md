=== Content from issues.apache.org_1de02412_20250110_221806.html ===


[Log in](/jira/login.jsp?os_destination=%2Fbrowse%2FYARN-11441)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoading…[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/YARN "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FYARN-11441)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

![Uploaded image for project: 'Hadoop YARN'](https://issues.apache.org/jira/secure/projectavatar?pid=12313722&avatarId=15135)

1. [Hadoop YARN](/jira/browse/YARN)
2. [YARN-11441](/jira/browse/YARN-11441)

# Revert YARN-10495

[Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FYARN-11441 "Log In")Export

XMLWordPrintableJSON
#### Details

* **Type:**
  ![](/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype "Task - A task that needs to be done.") Task
* **Status:**
  Resolved
* **Priority:**
  ![](/jira/images/icons/priorities/trivial.svg "Trivial - Cosmetic problem like misspelt words or misaligned text.") Trivial
* **Resolution:**
  Done
* **Affects Version/s:**
  3.3.5
* **Fix Version/s:**
  [3.4.0](/jira/issues/?jql=project+%3D+YARN+AND+fixVersion+%3D+3.4.0 "3.4.0 Hadoop 3.4.0"), [3.3.5](/jira/issues/?jql=project+%3D+YARN+AND+fixVersion+%3D+3.3.5 "3.3.5 Hadoop 3.3.5 off branch-3.3")
* **Component/s:**
  [yarn](/jira/issues/?jql=project+%3D+YARN+AND+component+%3D+yarn "yarn ")
* **Labels:**
  None

* **Target Version/s:**
  [3.3.5](/jira/issues/?jql=project%3D%22YARN%22%20AND%20%22Target+Version%2Fs%22%3D%223.3.5%22%20ORDER%20BY%20priority%20ASC "3.3.5 - Hadoop 3.3.5 off branch-3.3")

#### Description

roll back [~~YARN-10495~~](https://issues.apache.org/jira/browse/YARN-10495 "make the rpath of container-executor configurable") as it is causing problems on some deployments; creating a new jira for due diligence.

#### Attachments

#### Activity

#### People

Assignee:

![stevel@apache.org](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Steve Loughran

Reporter:

![stevel@apache.org](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Steve Loughran

Votes:
0
Vote for this issue

Watchers:
1
Start watching this issue

#### Dates

Created:

17/Feb/23 14:58

Updated:

17/Feb/23 15:39

Resolved:

17/Feb/23 15:39

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from security.netapp.com_4f6cd7f7_20250110_221806.html ===

[Skip to main content](#n-main-content)

* [NetApp.com](https://www.netapp.com/)
* [Support](https://mysupport.netapp.com)
* [Community](https://community.netapp.com)
* [Training](https://www.netapp.com/support-and-training/netapp-learning-services/)

* [Contact Us](https://www.netapp.com/company/contact-us/)

English
æ¥æ¬èª

[netapp-mark

NetApp

## Product Security](https://security.netapp.com)

Search

Search

* Search

Search

Search

* [Home](https://security.netapp.com/en)
* [Advisories](https://security.netapp.com/advisory/)
* [Bulletins](https://security.netapp.com/bulletins/)
* [Contact](https://security.netapp.com/contact/)
* [Policy](https://security.netapp.com/policy/)
* [Resources](https://security.netapp.com/resources/)
* [Certifications](https://security.netapp.com/certs/)

* [Home](https://security.netapp.com/en)
* [Advisory](https://security.netapp.com/advisory)
* [CVE-2023-26031 Apache Hadoop Vulnerability in NetApp Products](https://security.netapp.com/advisory/ntap-20240112-0001)

## CVE-2023-26031 Apache Hadoop Vulnerability in NetApp Products

circle-check-alt

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

close ×

#### Subscribe to NTAP-20240112-0001 updates

Email

Yes, please send me emails when NetApp Security Advisories are posted or updated.

 By filling and submitting this form, I understand and agree with the [NetApp privacy policy](https://www.netapp.com/company/legal/privacy-policy/ "Privacy Policy") and understand that I can unsubscribe from NetApp Security Advisory communications at any time.

Subscribe

#### Subscribe to NTAP-20240112-0001 advisory updates

OTP

Confirm

ionicons-v5-e

Confirmed your subscription to advisory alerts

close ×

#### Unsubscribe from NTAP-20240112-0001 advisory updates

Email

Unsubscribe

#### Unsubscribe from NTAP-20240112-0001 advisory updates

Email

Confirm

ionicons-v5-e

Unsubscribed successfully from advisory alerts

Subscribe to receive email updates

**Advisory ID:** NTAP-20240112-0001
**Version:**
1.0

**Last updated:**
01/12/2024

**Status:**
Final.

**CVEs:** CVE-2023-26031

Overview
#### Summary

Multiple NetApp products incorporate Apache Hadoop. Apache Hadoop versions 3.3.1 prior to 3.3.5 are susceptible to a vulnerability which when successfully exploited could lead to disclosure of sensitive information, addition or modification of data, or Denial of Service (DoS).

#### Impact

Successful exploitation of this vulnerability could lead to disclosure of sensitive information, addition or modification of data, or Denial of Service (DoS).

#### Vulnerability Scoring Details

| **CVE** | **Score** | **Vector** |
| --- | --- | --- |
| [CVE-2023-26031](https://nvd.nist.gov/vuln/detail/CVE-2023-26031) | 7.5 (HIGH) | CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H |

#### Exploitation and Public Announcements

NetApp is aware of public discussion of this vulnerability.

#### References

* <https://lists.apache.org/thread/q9qpdlv952gb4kphpndd5phvl7fkh71r>

Affected Products
#### Affected Products

None.

#### Products Not Affected

* AFF Baseboard Management Controller (BMC) - A700s
* ATTO FibreBridge - 7500N
* ATTO FibreBridge - 7600N
* Active IQ Unified Manager for Linux
* Active IQ Unified Manager for Microsoft Windows
* Active IQ Unified Manager for VMware vSphere
* Active IQ mobile app
* Astra Control Center
* Astra Control Center - Cloud Insights Telegraf Agent
* Astra Control Center - NetApp Kubernetes Monitoring Operator
* Astra Control Provisioner
* Astra Trident
* Astra Trident Autosupport
* BlueXP Classification
* Brocade Fabric Operating System Firmware
* Brocade SAN Navigator (SANnav)
* Cloud Insights Acquisition Unit
* Cloud Insights Storage Workload Security Agent
* Cloud Insights Telegraf Agent
* Cloud Volumes ONTAP Mediator
* E-Series BIOS
* E-Series SANtricity OS Controller Software 11.x
* E-Series SANtricity Unified Manager and Web Services Proxy
* Element .NET SDK
* Element HealthTools
* Element JAVA SDK
* Element Plug-in for vCenter Server
* Element Powershell Tools
* Element Python SDK
* FAS/AFF BIOS - 2820
* FAS/AFF BIOS - 8300/8700/A400/C400
* FAS/AFF BIOS - A250/500f/C250
* FAS/AFF BIOS - A300/8200/A200/2650/2620/C190/A220/2720/2750/A150
* FAS/AFF BIOS - A320
* FAS/AFF BIOS - A700/9000
* FAS/AFF BIOS - A700s
* FAS/AFF BIOS - A800/C800
* FAS/AFF BIOS - A900/9500
* FAS/AFF Baseboard Management Controller (BMC) - 8300/8700/A400/C400
* FAS/AFF Baseboard Management Controller (BMC) - A250/500f/C250
* FAS/AFF Baseboard Management Controller (BMC) - A320
* FAS/AFF Baseboard Management Controller (BMC) - A800/C800
* FAS/AFF Baseboard Management Controller (BMC) - A900/9500
* FAS/AFF Baseboard Management Controller (BMC) - C190/A150/A220/FAS2720/FAS2750
* FAS/AFF Baseboard Management Controller (BMC) - FAS2820
* FAS/AFF Service Processor - A300/8200/A200/2650/2620
* FAS/AFF Service Processor - A700/9000
* Global File Cache
* Host Utilities - SAN for Linux
* Host Utilities - SAN for Windows
* IOM12 SAS Disk Shelf Firmware
* IOM12B SAS Disk Shelf Firmware
* IOM12E SAS Disk Shelf Firmware
* IOM12F SAS Disk Shelf Firmware
* IOM12G SAS Disk Shelf Firmware
* IOM6 SAS Disk Shelf Firmware
* IOM6E SAS Disk Shelf Firmware
* Management Services for Element Software and NetApp HCI
* MetroCluster DataCollector
* MetroCluster Tiebreaker for clustered Data ONTAP
* Multipath I/O (SANtricity DSM for Windows MPIO)
* NetApp BlueXP
* NetApp Converged Systems Advisor Agent
* NetApp E-Series Host Collection
* NetApp E-Series SANtricity Collection
* NetApp HCI Baseboard Management Controller (BMC) - H300S/H500S/H700S/H410S
* NetApp HCI Baseboard Management Controller (BMC) - H410C
* NetApp HCI Baseboard Management Controller (BMC) - H610C
* NetApp HCI Baseboard Management Controller (BMC) - H610S
* NetApp HCI Baseboard Management Controller (BMC) - H615C
* NetApp HCI Compute Node (Bootstrap OS)
* NetApp HCI Compute Node BIOS
* NetApp HCI Storage Node BIOS
* NetApp Kubernetes Monitoring Operator
* NetApp Manageability SDK
* NetApp NFS Plug-in for VMware VAAI
* NetApp ONTAP PowerShell Toolkit (PSTK)
* NetApp SolidFire & HCI Management Node
* NetApp SolidFire & HCI Storage Node (Element Software)
* NetApp SolidFire Plug-in for vRealize Orchestrator (SolidFire vRO)
* NetApp XCP NFS
* NetApp XCP SMB
* ONTAP 9 (formerly Clustered Data ONTAP)
* ONTAP Antivirus Connector
* ONTAP Mediator
* ONTAP Select Deploy administration utility
* ONTAP tools for VMware vSphere 9
* OnCommand Insight
* OnCommand Workflow Automation
* RcfFileGenerator for MetroCluster IP
* SANtricity Storage Plugin for vCenter
* SRA Plugin for Linux
* SRA Plugin for Windows
* Single Mailbox Recovery
* Snap Creator Framework
* SnapCenter
* SnapCenter Plug-in for VMware vSphere/BlueXP backup and Recovery for Virtual Machine
* SnapGathers
* SnapManager for Hyper-V
* SolidFire Storage Replication Adapter
* StorageGRID (formerly StorageGRID Webscale)
* StorageGRID BIOS SG1000/SG100
* StorageGRID BIOS SG5660/SG5612/SG5760/SG5712
* StorageGRID BIOS SG6060/SGF6024
* StorageGRID Baseboard Management Controller (BMC)
* System Manager 9.x
* Terraform Provider for ONTAP

Remediation
#### Software Versions and Fixes

None.

This section will be updated as patches are released.

#### Workarounds

None at this time.

#### Obtaining Software Fixes

Software fixes will be made available through the NetApp Support website in the Software Download section.

<https://mysupport.netapp.com/site/downloads/>

Customers who do not have access to the Support website should contact Technical Support at the number below to obtain the patches.

#### Contact Information

Check <http://mysupport.netapp.com> for further
updates.

For questions, contact NetApp at:

**Technical Support**

mysupport.netapp.com

1 888 4 NETAPP (1 888 463 8277) (U.S. and Canada)

+00 800 44 638277 (EMEA/Europe)

+800 800 80 800 (Asia/Pacific)

Revision History
#### Status of This Notice

**Final.**

This advisory should be considered the single source of current, up-to-date, authorized and accurate information from NetApp regarding Full Support products and versions.

This advisory is posted at the following link:

<https://security.netapp.com/advisory/NTAP-20240112-0001>
#### Revision History

| **Revision #** | **Date** | **Comments** |
| --- | --- | --- |
| 1.0 | 20240112 | Initial Public Release, Final status |

This document is provided solely for informational purposes. All information is based upon NetAppâs current knowledge and understanding of the hardware and software products tested by NetApp, and the methodology and assumptions used by NetApp. NetApp is not responsible for any errors or omissions that may be contained herein, and no warranty, representation, or other legal commitment or obligation is being provided by NetApp. Â© 2025 NetApp, Inc. All rights reserved. No portions of this document may be reproduced without prior written consent of NetApp, Inc.

 ©  NetApp

Have feedback for our website?
[Let us know](https://www.netapp.com/forms/site-feedback/)



=== Content from hadoop.apache.org_7f0253cd_20250110_221805.html ===

Toggle navigation

![](/elephant.png)
 [Apache Hadoop](/)

* [Download](releases.html)
* Documentation
  + [Current (trunk)](http://apache.github.io/hadoop/)
  + [Latest](https://hadoop.apache.org/docs/current/)
  + [Stable](https://hadoop.apache.org/docs/stable/)
  + [3.4.1](https://hadoop.apache.org/docs/r3.4.1/)
  + [3.4.0](https://hadoop.apache.org/docs/r3.4.0/)
  + [3.3.6](https://hadoop.apache.org/docs/r3.3.6/)
  + [2.10.2](https://hadoop.apache.org/docs/r2.10.2/)
  + [Wiki](https://wiki.apache.org/hadoop)
* Community
  + [Bylaws](/bylaws.html)
  + [Criteria for Committership](/committer_criteria.html)
  + [Mailing lists](/mailing_lists.html)
  + [Published CVEs](/cve_list.html)
  + [Who We are](/who.html)
* Development
  + [How to Contribute](https://cwiki.apache.org/confluence/display/HADOOP/How%2BTo%2BContribute)
  + [Issue Tracking](/issue_tracking.html)
  + [Version Control](/version_control.html)
  + [Versioning](/versioning.html)
* Help
  + [Buy Stuff](https://www.cafepress.com/hadoop)
  + [Sponsorship](https://www.apache.org/foundation/sponsorship.html)
  + [Thanks](https://www.apache.org/foundation/thanks.html)

* [Apache Software Foundation](https://www.apache.org/)

# Hadoop CVE List

This page lists security fixes that the Hadoop PMC felt warranted a CVE. If you think something is missing from this list or if you think the set of impacted or fixed versions is incomplete then please [ask on the Security list](/mailing_lists.html#Security).

CVEs are presented in most-recent-first order of announcement.

## [CVE-2023-26031](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-26031) Privilege escalation in Apache Haoop Yarn container-executor binary on Linux systems

Relative library resolution in linux container-executor binary in Apache Hadoop 3.3.1-3.3.4 on Linux allows local user to gain root privileges. If the YARN cluster is accepting work from remote (authenticated) users, this MAY permit remote users to gain root privileges.

Hadoop 3.3.0 updated the [YARN Secure Containers](https://hadoop.apache.org/docs/stable/hadoop-yarn/hadoop-yarn-site/SecureContainer.html) to add a feature for executing user-submitted applications in isolated linux containers.

The native binary HADOOP\_HOME/bin/container-executor is used to launch these containers; it must be owned by root and have the suid bit set in order for the YARN processes to run the containers as the specific users submitting the jobs.

The patch [YARN-10495](https://issues.apache.org/jira/browse/YARN-10495) “make the rpath of container-executor configurable” modified the library loading path for loading .so files from `$ORIGIN/` to `$ORIGIN/:../lib/native/`. This is the a path through which libcrypto.so is located. Thus it is is possible for a user with reduced privileges to install a malicious libcrypto library into a path to which they have write access, invoke the container-executor command, and have their modified library executed as root.
If the YARN cluster is accepting work from remote (authenticated) users, and these users’ submitted job are executed in the physical host, rather than a container, then the CVE permits remote users to gain root privileges.

The fix for the vulnerability is to revert the change, which is done in [YARN-11441](https://issues.apache.org/jira/browse/YARN-11441), “Revert YARN-10495”. This patch is in hadoop-3.3.5.

To determine whether a version of container-executor is vulnerable, use the readelf command. If the RUNPATH or RPATH value contains the relative path `./lib/native/` then it is at risk

```
$ readelf -d container-executor|grep 'RUNPATH\|RPATH'
0x000000000000001d (RUNPATH)            Library runpath: [$ORIGIN/:../lib/native/]

```

If it does not, then it is safe:

```
$ readelf -d container-executor|grep 'RUNPATH\|RPATH'
0x000000000000001d (RUNPATH)            Library runpath: [$ORIGIN/]

```

For an at-risk version of container-executor to enable privilege escalation, the owner must be root and the suid bit must be set

```
$ ls -laF /opt/hadoop/bin/container-executor
---Sr-s---. 1 root hadoop 802968 May 9 20:21 /opt/hadoop/bin/container-executor

```

A safe installation lacks the suid bit; ideally is also not owned by root.

```
$ ls -laF /opt/hadoop/bin/container-executor
-rwxr-xr-x. 1 yarn hadoop 802968 May 9 20:21 /opt/hadoop/bin/container-executor

```

This configuration does not support Yarn Secure Containers, but all other hadoop services, including YARN job execution outside secure containers continue to work.

* **Versions affected**: 3.3.1 to 3.3.4
* **Fixed versions**: 3.3.5
* **Impact**: privilege escalation
* **Reporter**: Esa Hiltunen, Mikko Kortelainen
* **Reported Date**: 2022/07/13
* **Issue Announced**: 2023/11/16 ([general@hadoop](https://lists.apache.org/thread/q9qpdlv952gb4kphpndd5phvl7fkh71r))

## [CVE-2021-25642](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-25642) Apache Hadoop YARN remote code execution in ZKConfigurationStore of capacity scheduler

ZKConfigurationStore which is optionally used by CapacityScheduler of
Apache Hadoop YARN deserializes data obtained from ZooKeeper without
validation. An attacker having access to ZooKeeper can run arbitrary
commands as YARN user by exploiting this.

* **Versions affected**: 2.9.0 to 2.10.1, 3.0.0-alpha to 3.2.3, 3.3.0 to 3.3.3
* **Fixed versions**: 2.10.2, 3.2.4, 3.3.4
* **Impact**: remote command execution
* **Reporter**: Liu Ximing
* **Reported Date**: 2020/12/16
* **Issue Announced**: 2022/08/25 ([general@hadoop](https://lists.apache.org/thread/w1nf92148xcnxl5ys0owtokf9y0l9zsv))

## [CVE-2022-25168](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-25168) Command injection in org.apache.hadoop.fs.FileUtil.unTarUsingTar

Apache Hadoop’s FileUtil.unTar(File, File) API does not escape the
input file name before being passed to the shell. An attacker can
inject arbitrary commands.

This is only used in Hadoop 3.3
InMemoryAliasMap.completeBootstrapTransfer, which is only ever run by
a local user.

It has been used in Hadoop 2.x for yarn localization, which does
enable remote code execution.

It is used in Apache Spark, from the SQL command ADD ARCHIVE. As the
ADD ARCHIVE command adds new binaries to the classpath, being able to
execute shell scripts does not confer new permissions to the caller.

SPARK-38305. “Check existence of file before untarring/zipping”, which
is included in 3.3.0, 3.1.4, 3.2.2, prevents shell commands being
executed, regardless of which version of the hadoop libraries are in
use.

* **Versions affected**: 2.0.0 to 2.10.1, 3.0.0-alpha1 to 3.2.3, 3.3.0 to 3.3.2
* **Fixed versions**: 2.10.2, 3.2.4, 3.3.3
* **Impact**: injection attack
* **Reporter**: Kostya Kortchinsky
* **Reported Date**: 2022/02/12
* **Issue Announced**: 2022/08/04 ([general@hadoop](https://lists.apache.org/thread/ktplnsr0b9zn8ylzb98zcnt5gydfvjm1))

## [CVE-2021-33036](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-33036) Apache Hadoop Privilege escalation vulnerability

In Apache Hadoop 2.2.0 to 2.10.1, 3.0.0-alpha1 to 3.1.4, 3.2.0 to
3.2.2, and 3.3.0 to 3.3.1, A user who can escalate to yarn user can
possibly run arbitrary commands as root user.

If you are using the affected version of Apache Hadoop and some users
can escalate to yarn user and cannot escalate to root user, remove the
permission to escalate to yarn user from them.

* **Versions affected**: 2.2.0 to 2.10.1, 3.0.0-alpha1 to 3.1.4, 3.2.0 to 3.2.2, 3.3.0 to 3.3.1
* **Fixed versions**: 2.10.2, 3.2.3, 3.3.2
* **Impact**: privilege escalation
* **Reporter**: Hideyuki Furue
* **Reported Date**: 2021/05/05
* **Issue Announced**: 2022/06/15 ([general@hadoop](https://lists.apache.org/thread/ctr84rmo3xd2tzqcx2b277c8z692vhl5))

## [CVE-2021-37404](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-37404) Heap buffer overflow in libhdfs native library

There is a potential heap buffer overflow in libhdfs native code.
Opening a file path provided by user without validation may result in
a denial of service or arbitrary code execution.

* **Versions affected**: 2.9.0 to 2.10.1, 3.0.0 to 3.1.4, 3.2.0 to 3.2.2, 3.3.0 to 3.3.1
* **Fixed versions**: 2.10.2, 3.2.3, 3.3.2
* **Impact**: denial of service or arbitrary code execution
* **Reporter**: Igor Chervatyuk
* **Reported Date**: 2021/04/04
* **Issue Announced**: 2022/06/11 ([general@hadoop](https://lists.apache.org/thread/36k6f4s4ff97tgo4wl9681vtcp7dsg06))

## [CVE-2022-26612](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-26612) Arbitrary file write during untar on Windows

In Apache Hadoop, The `unTar` function uses `unTarUsingJava` function on Windows and the built-in tar utility on Unix and other OSes. As a result, a TAR entry may create a symlink under the expected extraction directory which points to an external directory. A subsequent TAR entry may extract an arbitrary file into the external directory using the symlink name. This however would be caught by the same `targetDirPath` check on Unix because of the `getCanonicalPath` call. However on Windows, `getCanonicalPath` doesn’t resolve symbolic links, which bypasses the check. `unpackEntries` during TAR extraction follows symbolic links which allows writing outside expected base directory on Windows.

Users of the affected versions should apply either of the following mitigations:

* Do not run any of the YARN daemons as a user possessing the permissions to create symlinks on Windows.
* Do not use symlinks in the tar file.

* **Versions affected**: Versions below 3.2.3, 3.3.2
* **Fixed versions**: 3.2.3, 3.3.3, 3.4 onwards
* **Impact**: file write to arbitrary path in Windows
* **Reporter**: A member of GitHub Security Lab, [Jaroslav LobaÄevski](https://github.com/JarLob)
* **Reported Date**: 2022/02/09
* **Issue Announced**: 2022/04/7 ([general@hadoop](https://lists.apache.org/thread/wps21pzjl1myxw23yb466y9yofv104yl))

## [CVE-2020-9492](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-9492) Apache Hadoop Potential privilege escalation

WebHDFS client might send SPNEGO authorization header to remote URL
without proper verification. A crafty user can trigger services to
send server credentials to a webhdfs path for capturing the service
principal.

Users of the affected versions should apply either of the following mitigations:

* Set different http signature secrets and use dedicated hosts for each privileged impersonation service (such as HiveServer2).
* Upgrade to 3.3.0, 3.2.2, 3.1.4, 2.10.1, or newer with TLS encryption enabled and configure dfs.http.policy to HTTPS\_ONLY.

* **Versions affected**: 3.2.0 to 3.2.1, 3.0.0-alpha1 to 3.1.3, 2.0.0-alpha to 2.10.0
* **Fixed versions**: 3.2.2, 3.1.4, 2.10.1
* **Impact**: privilege escalation
* **Reporter**: Kevin Risden
* **Reported Date**: 2020/03/17
* **Issue Announced**: 2021/01/26 ([general@hadoop](https://lists.apache.org/thread.html/r513758942356ccd0d14538ba18a09903fc72716d74be1cb727ea91ff%40%3Cgeneral.hadoop.apache.org%3E))

## [CVE-2018-11764](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-11764) Apache Hadoop Privilege escalation in web endpoint

Web endpoint authentication check is broken. Authenticated users may
impersonate any user even if no proxy user is configured.

* **Versions affected**: 3.0.0-alpha4, 3.0.0-beta1, 3.0.0
* **Fixed versions**: 3.0.1
* **Impact**: privilege escalation
* **Reporter**: Daryn Sharp
* **Reported Date**: 2018/03/17
* **Issue Announced**: 2020/10/21 ([general@hadoop](https://lists.apache.org/thread.html/r790ad0a049cde713b93589ecfd4dd2766fda0fc6807eedb6cf69f5c1%40%3Cgeneral.hadoop.apache.org%3E))

## [CVE-2018-11765](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-11765) Potential information disclosure in Apache Hadoop Web interfaces

When Kerberos authentication is enabled and SPNEGO through HTTP is not enabled,
any users can access some servlets without authentication.

* **Versions affected**: 3.0.0-alpha2 to 3.0.0, 2.9.0 to 2.9.2, 2.8.0 to 2.8.5
* **Fixed versions**: 3.0.1, 2.10.0
* **Impact**: information disclosure
* **Reporter**: Larry McCay (Discovered by Owen O’Malley)
* **Reported Date**: 2018/03/11
* **Issue Announced**: 2020/09/28 ([general@hadoop](https://lists.apache.org/thread.html/r2c7f899911a04164ed1707083fcd4135f8427e04778c87d83509b0da%40%3Cgeneral.hadoop.apache.org%3E))

## [CVE-2018-11768](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-11768) Apache Hadoop HDFS FSImage Corruption

There is a mismatch in the size of the fields used to store user/group
information between memory and disk representation. This causes the user/group
information to be corrupted across storing in fsimage and reading back from
fsimage.

This vulnerability fix contains a fsimage layout change, so once the image is
saved in the new layout format you cannot go back to a version that doesnât
support the newer layout. This means that once 2.7.x users upgraded to the
fixed version, they cannot downgrade to 2.7.x because there is no fixed version
in 2.7.x. We suggest downgrade to 2.8.5 or upper version that contains the
vulnerability fix.

* **Versions affected**: 3.1.0 to 3.1.1, 3.0.0-alpha1 to 3.0.3, 2.9.0 to 2.9.1, 2.0.0-alpha to 2.8.4
* **Fixed versions**: 3.1.2, 2.9.2, 2.8.5
* **Impact**: information disclosure
* **Reporter**: Ekanth Sethuramalingam
* **Reported Date**: 2018/06/05
* **Issue Announced**: 2019/10/03 ([general@hadoop](https://lists.apache.org/thread.html/2067a797b330530a6932f4b08f703b3173253d0a2b7c8c524e54adaf%40%3Cgeneral.hadoop.apache.org%3E))

## [CVE-2018-8029](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-8029) Apache Hadoop Privilege escalation vulnerability

A user who can escalate to yarn user can possibly run arbitrary
commands as root user.

* **Versions affected**: 3.0.0-alpha1 to 3.1.0, 2.9.0 to 2.9.1, 2.2.0 to 2.8.4
* **Fixed versions**: 3.1.1, 2.9.2, 2.8.5
* **Impact**: privilege escalation
* **Reporter**: Miklos Szegedi
* **Reported Date**: 2018/05/08
* **Issue Announced**: 2019/05/30 ([general@hadoop](https://lists.apache.org/thread.html/17084c09e6dedf60efe08028b429c92ffd28aacc28454e4fa924578a%40%3Cgeneral.hadoop.apache.org%3E))

## [CVE-2018-11767](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-11767) Apache Hadoop KMS ACL regression

After the security fix for CVE-2017-15713, KMS has an access control regression,
blocking users or granting access to users incorrectly, if the system
uses non-default groups mapping mechanisms such as LdapGroupsMapping,
CompositeGroupsMapping, or NullGroupsMapping.

* **Versions affected**: 2.9.0 to 2.9.1, 2.8.3 to 2.8.4, 2.7.5 to 2.7.6
* **Fixed versions**: 2.9.2, 2.8.5, 2.7.7
* **Impact**: privilege escalation
* **Reporter**: Wei-Chiu Chuang
* **Reported Date**: 2018/05/09
* **Issue Announced**: 2019/03/11 ([general@hadoop](https://lists.apache.org/thread.html/5fb771f66946dd5c99a8a5713347c24873846f555d716f9ac17bccca%40%3Cgeneral.hadoop.apache.org%3E))

## [CVE-2018-1296](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-1296) Apache Hadoop HDFS Permissive listXAttr Authorization

HDFS exposes extended attribute key/value pairs during listXAttrs,
verifying only path-level search access to the directory rather than
path-level read permission to the referent. This affects features that
store sensitive data in extended attributes, such as HDFS encryption
secrets.

* **Versions affected**: 3.0.0-alpha1 to 3.0.0, 2.9.0, 2.8.0 to 2.8.3, 2.5.0 to 2.7.5
* **Fixed versions**: 3.0.1, 2.9.1, 2.8.4, 2.7.6
* **Impact**: information disclosure
* **Reporter**: Rushabh Shah
* **Reported Date**: 2018/02/09
* **Issue Announced**: 2019/01/24 ([general@hadoop](https://lists.apache.org/thread.html/752d5fe697ca6be6f472eabb1bcae7961a47d416e4013ac803a2ab2c%40%3Cgeneral.hadoop.apache.org%3E))

## [CVE-2018-11766](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-11766) Apache Hadoop privilege escalation vulnerability

In Apache Hadoop 2.7.4 to 2.7.6, the security fix for CVE-2016-6811 is
incomplete. A user who can escalate to yarn user can possibly run arbitrary
commands as root user.

* **Versions affected**: 2.7.4 to 2.7.6
* **Fixed versions**: 2.7.7
* **Impact**: privilege escalation
* **Reporter**: Wilfred Spiegelenburg
* **Reported Date**: 2018/05/04
* **Issue Announced**: 2018/11/27 ([general@hadoop](https://lists.apache.org/thread.html/ff37bbbe09d5f03090e2dd2c3dea95de16ef4249e731f19b8959ce4c%40%3Cgeneral.hadoop.apache.org%3E))

## [CVE-2018-8009](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-8009) Apache Hadoop distributed cache archive vulnerability

Vulnerability allows a cluster user to publish a public
archive that can affect other files owned by the user running the YARN
NodeManager daemon. If the impacted files belong to another already
localized, public archive on the node then code can be injected into
the jobs of other cluster users using the public archive.

* **Versions affected**: 3.1.0, 3.0.0-alpha to 3.0.2, 2.9.0 to 2.9.1, 2.8.0 to 2.8.4, 2.0.0-alpha to 2.7.6, 0.23.0 to 0.23.11
* **Fixed versions**: 3.1.1, 3.0.3, 2.9.2, 2.8.5, 2.7.7
* **Impact**: injection attack
* **Credit**: Snyk Security Research Team
* **Reported Date**: 2018/04/19
* **Issue Announced**: 2018/11/22 ([user@hadoop](https://lists.apache.org/thread.html/a1c227745ce30acbcf388c5b0cc8423e8bf495d619cd0fa973f7f38d%40%3Cuser.hadoop.apache.org%3E))

## [CVE-2016-6811](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-6811) Apache Hadoop Privilege escalation vulnerability

A user who can escalate to yarn user can possibly run arbitrary commands as root user.

* **Versions affected**: 2.2.0 to 2.7.3
* **Fixed versions**: 2.7.4 or newer
* **Impact**: privilege escalation
* **Reporter**: Freddie Rice
* **Reported Date**: 2016/07/06
* **Issue Announced**: 2018/05/01 ([user@hadoop](https://lists.apache.org/thread.html/ff3859a2188c3662240311acddba9cf97992b839792ec0a14d61b4e5%40%3Cuser.hadoop.apache.org%3E))

Note: The fix for this vulnerability is incomplete in Apache Hadoop 2.7.4 to 2.7.6 (CVE-2018-11766).

## [CVE-2017-15718](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-15718) Apache Hadoop YARN NodeManager vulnerability

In Apache Hadoop 2.7.3 and 2.7.4, the security fix for CVE-2016-3086 is incomplete.
The YARN NodeManager can leak the password for credential store provider
used by the NodeManager to YARN Applications.

If you use the CredentialProvider feature to encrypt passwords used in
NodeManager configs, it may be possible for any Container launched
by that NodeManager to gain access to the encryption password.
The other passwords themselves are not directly exposed.

* **Versions affected**: 2.7.3, 2.7.4
* **Fixed versions**: 2.7.5
* **Impact**: privilege escalation
* **Reporter**: Vinayakumar B.
* **Reported Date**: 2017/09/18
* **Issue Announced**: 2018/01/24 ([user@hadoop](https://lists.apache.org/thread.html/23a277506bc0d85c1bbe5c0766ffe55e8c3923c8d6f58893b6966957%40%3Cuser.hadoop.apache.org%3E))

## [CVE-2017-15713](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-15713) Apache Hadoop MapReduce job history server vulnerability

Vulnerability allows a cluster user to expose private files
owned by the user running the MapReduce job history server process.
The malicious user can construct a configuration file containing XML
directives that reference sensitive files on the MapReduce job history
server host.

* **Versions affected**: 3.0.0-alpha to 3.0.0-beta1, 2.8.0 to 2.8.2, 2.0.0-alpha to 2.7.4, 0.23.0 to 0.23.11
* **Fixed versions**: 3.0.0, 2.9.0, 2.8.3, 2.7.5
* **Impact**: privilege escalation
* **Reporter**: Man Yue Mo of lgtm.com
* **Reported Date**: 2017/06/30
* **Issue Announced**: 2018/01/19 ([user@hadoop](https://lists.apache.org/thread.html/9e5d86d5792d04f8a3b458f735e63fa9bdfe28ff454de257a2e02f18%40%3Cuser.hadoop.apache.org%3E))

## [CVE-2017-3166](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-3166) Apache Hadoop Privilege escalation vulnerability

In a cluster where the YARN user has been granted access to all HDFS
encryption keys, if a file in an encryption zone with access permissions
that make it world readable is localized via YARN’s localization mechanism,
e.g. via the MapReduce distributed cache, that file will be stored
in a world-readable location and shared freely with any application
that requests to localize that file, no matter who the application owner
is or whether that user should be allowed to access files from the
target encryption zone.

* **Versions affected**: 3.0.0-alpha1 - 3.0.0-alpha3 , 2.7.0 to 2.7.3, 2.6.1-2.6.5
* **Fixed versions**: 3.0.0-alpha4, 2.8.0, 2.7.4
* **Impact**: privilege escalation
* **Reporter**: Luke Herbert
* **Reported Date**: 2016/11/18
* **Issue Announced**: 2017/11/08 ([general@hadoop](https://lists.apache.org/thread.html/2e16689b44bdd1976b6368c143a4017fc7159d1f2d02a5d54fe9310f%40%3Cgeneral.hadoop.apache.org%3E))

# Thirdparty vulnerabilities

The following section describes thirdparty vulnerabilities that may be of interest to Hadoop users. Please contact the respective project owners for details.

## [CVE-2021-44228](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44228) Log4Shell Vulnerability

It is understood that the log4shell vulnerability CVE-2021-44228 impacts log4j2. Hadoop, as of 3.3.x depends on log4j 1.x, which is **NOT** susceptible to the attack. Once we migrate over to log4j2, we will adopt a version that is not susceptible to the attack, too. Therefore, no ASF version of Hadoop has ever been vulnerable. Third party products and applications based on Hadoop *may* be vulnerable, please consult the vendor or the project owner.

* **Versions affected**: N/A

## [CVE-2021-4104](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-4104) Log4Shell Vulnerability

JMSAppender in Log4j 1.2, used by all versions of Apache Hadoop, is vulnerable to the Log4Shell attack in a similar fashion to CVE-2021-44228. However, the JMSAppender is not the default configuration shipped in Hadoop. When JMSAppender is not enabled, Hadoop is not vulnerable to the attack.

To mitigate the risk, you can remove JMSAppender from the log4j-1.2.17.jar artifact yourself following the instructions in this [link](http://slf4j.org/log4shell.html).

* **Versions affected**: N/A

Apache Hadoop, Hadoop, Apache, the Apache feather logo,
and the Apache Hadoop project logo are either registered trademarks or trademarks of the Apache Software Foundation
in the United States and other countries

Copyright Â© 2006-2024 The Apache Software Foundation

[Privacy policy](/privacy_policy.html)

![](/asf_logo_wide.png)



=== Content from lists.apache.org_fe046178_20250110_221806.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.


