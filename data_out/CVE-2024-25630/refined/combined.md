=== Content from docs.cilium.io_c71b6a7e_20250110_224935.html ===

[![Logo](../../../_static/logo.svg)](https://www.cilium.io)
[GitHub Stars](https://github.com/cilium/cilium)

[![slack_icon](../../../_static/icons/slack.inline.svg)
Join Slack](https://cilium.herokuapp.com/)

Menu

* [Enterprise](https://cilium.io/enterprise/)
* Learn ‚ñæ
  [![labs-icon](../../../_static/icons/labs.inline.svg)
  Labs](https://cilium.io/labs/categories/getting-started)
  [![get-started-icon](../../../_static/icons/get-started.inline.svg)
  Get Started](https://cilium.io/get-started)
  [![get-involved-icon](../../../_static/icons/get-involved.inline.svg)
  Get Involved](https://cilium.io/get-involved)
  [![get-help-icon](../../../_static/icons/get-help.inline.svg)
  Get Help](https://cilium.io/get-help)
* News and media ‚ñæ
  [![adopters-icon](../../../_static/icons/adopters.inline.svg)
  Adopters](https://cilium.io/adopters)
  [![blog-icon](../../../_static/icons/blog.inline.svg)
  Blog](https://cilium.io/blog)
  [![branding-icon](../../../_static/icons/branding.inline.svg)
  Branding](https://github.com/cncf/artwork/blob/master/examples/incubating.md#cilium-logos)
  [![newsletter-icon](../../../_static/icons/newsletter.inline.svg)
  Newsletter](https://cilium.io/newsletter)
* [Documentation](https://docs.cilium.io/en/stable/)

Overview

* [Introduction to Cilium & Hubble](../../../overview/intro/)
* [Component Overview](../../../overview/component-overview/)

Getting Started

* [Cilium Quick Installation](../../../gettingstarted/k8s-install-default/)
* [Getting Started with the Star Wars Demo](../../../gettingstarted/demo/)
* [Terminology](../../../gettingstarted/terminology/)
* [Getting Help](../../../gettingstarted/gettinghelp/)

Advanced Installation

* [Considerations on Node Pool Taints and Unmanaged Pods](../../../installation/taints/)
* [Installation using Helm](../../../installation/k8s-install-helm/)
* [Migrating a cluster to Cilium](../../../installation/k8s-install-migration/)
* [Installation with K8s distributions](../../../installation/k8s-toc/)
* [External Installers](../../../installation/external-toc/)

Networking

* [Networking Concepts](../../../network/concepts/)
* [Kubernetes Networking](../../../network/kubernetes/)
* [BGP](../../../network/bgp-toc/)
* [eBPF Datapath](../../../network/ebpf/)
* [Multi-cluster Networking](../../../network/clustermesh/)
* [External networking](../../../network/external-toc/)
* [Egress Gateway](../../../network/egress-gateway-toc/)
* [Service Mesh](../../../network/servicemesh/)
* [VXLAN Tunnel Endpoint (VTEP) Integration (beta)](../../../network/vtep/)
* [L2 Announcements / L2 Aware LB (Beta)](../../../network/l2-announcements/)
* [Node IPAM LB](../../../network/node-ipam/)
* [Use a Specific MAC Address for a Pod](../../../network/pod-mac-address/)
* [Multicast Support in Cilium (Beta)](../../../network/multicast/)

Security

* [Securing Networks with Cilium](../../)
* [Overview of Network Security](../)
  + [Introduction](../intro/)
  + [Identity-Based](../identity/)
  + [Policy Enforcement](../policyenforcement/)
  + [Proxy Injection](../proxy/)
  + [Transparent Encryption](../encryption/)
    - [IPsec Transparent Encryption](../encryption-ipsec/)
    - WireGuard Transparent Encryption
      * [Enable WireGuard in Cilium](#enable-wireguard-in-cilium)
      * [Validate the Setup](#validate-the-setup)
      * [Troubleshooting](#troubleshooting)
      * [Cluster Mesh](#cluster-mesh)
      * [Node-to-Node Encryption (beta)](#node-to-node-encryption-beta)
      * [Which traffic is encrypted](#which-traffic-is-encrypted)
      * [Known Issues](#known-issues)
      * [Legal](#legal)
    - [Known Issues and Workarounds](../encryption/#known-issues-and-workarounds)
* [Overview of Network Policy](../../policy/)
* [Restricting privileged Cilium pod access](../../restrict-pod-access/)
* [Threat Model](../../threat-model/)

Observability

* [Network Observability with Hubble](../../../observability/hubble/)
* [Running Prometheus & Grafana](../../../observability/grafana/)
* [Monitoring & Metrics](../../../observability/metrics/)
* [Layer 7 Protocol Visibility](../../../observability/visibility/)

Operations

* [System Requirements](../../../operations/system_requirements/)
* [Upgrade Guide](../../../operations/upgrade/)
* [Configuration](../../../configuration/)
* [Performance & Scalability](../../../operations/performance/)
* [Troubleshooting](../../../operations/troubleshooting/)

Community

* [Governance](../../../community/governance/)
* [Community Meetings](../../../community/community/)
* [Slack](../../../community/community/#slack)
* [Special Interest Groups](../../../community/community/#special-interest-groups)
* [Roadmap](../../../community/roadmap/)

Contributor Guide

* [Development](../../../contributing/development/)
* [Release Management](../../../contributing/release/)
* [Testing](../../../contributing/testing/)
* [Documentation](../../../contributing/docs/)
* [API Reference](../../../api/)
* [gRPC API Reference](../../../grpcapi/)
* [Internals](../../../internals/)

Reference

* [Command Cheatsheet](../../../cheatsheet/)
* [Command Reference](../../../cmdref/)
* [Helm Reference](../../../helm-reference/)
* [Key-Value Store](../../../kvstore/)
* [Further Reading](../../../further_reading/)
* [Glossary](../../../glossary/)

Reference Guides

* [BPF and XDP Reference Guide](../../../reference-guides/bpf/)
* [XFRM Reference Guide](../../../reference-guides/xfrm/)

[Cilium](../../../)

* [Overview of Network Security](../)
* [Transparent Encryption](../encryption/)
* WireGuard Transparent Encryption

---

# WireGuard Transparent Encryption[ÔÉÅ](#wireguard-transparent-encryption "Permalink to this heading")

This guide explains how to configure Cilium with transparent encryption of
traffic between Cilium-managed endpoints using [WireGuard¬Æ](https://www.wireguard.com/).

Video

Aside from this guide, you can also watch [eCHO episode 3: WireGuard](https://www.youtube.com/watch?v=-awkPi3D60E&t=475s) on how
WireGuard can encrypt network traffic.

When WireGuard is enabled in Cilium, the agent running on each cluster node
will establish a secure WireGuard tunnel between it and all other known nodes
in the cluster. Each node automatically creates its own encryption key-pair and
distributes its public key via the `network.cilium.io/wg-pub-key` annotation
in the Kubernetes `CiliumNode` custom resource object. Each node‚Äôs public key
is then used by other nodes to decrypt and encrypt traffic from and to
Cilium-managed endpoints running on that node.

Packets are not encrypted when they are destined to the same node from which
they were sent. This behavior is intended. Encryption would provide no benefits
in that case, given that the raw traffic can be observed on the node anyway.

The WireGuard tunnel endpoint is exposed on UDP port `51871` on each node. If
you run Cilium in an environment that requires firewall rules to enable
connectivity, you will have to ensure that all Cilium cluster nodes can reach
each other via that port.

Note

When running in tunnel routing mode, pod to pod traffic is encapsulated twice.
It is first sent to the VXLAN / Geneve tunnel interface, and then subsequently
also encapsulated by the WireGuard tunnel.

## Enable WireGuard in Cilium[ÔÉÅ](#enable-wireguard-in-cilium "Permalink to this heading")

Before you enable WireGuard in Cilium, please ensure that the Linux distribution
running on your cluster nodes has support for WireGuard in kernel mode
(i.e. `CONFIG_WIREGUARD=m` on Linux 5.6 and newer, or via the out-of-tree
WireGuard module on older kernels).
See [WireGuard Installation](https://www.wireguard.com/install/) for details
on how to install the kernel module on your Linux distribution.

If your kernel or distribution does not support WireGuard, Cilium agent can be
configured to fall back on the user-space implementation via the
`--enable-wireguard-userspace-fallback` flag. When this flag is enabled and
Cilium detects that the kernel has no native support for WireGuard, it
will fallback on the `wireguard-go` user-space implementation of WireGuard.
When running the user-space implementation, encryption and decryption of packets
is performed by the `cilium-agent` process. As a consequence, connectivity
between Cilium-managed endpoints will be unavailable whenever the
`cilium-agent` process is restarted, such as during upgrades or configuration
changes. Running WireGuard in user-space mode is therefore not recommended for
production workloads that require high availability.

Cilium CLIHelm

If you are deploying Cilium with the Cilium CLI, pass the following
options:

```
cilium install --version 1.16.5    --set encryption.enabled=true    --set encryption.type=wireguard
```

If you are deploying Cilium with Helm by following
[Installation using Helm](../../../installation/k8s-install-helm/#k8s-install-helm), pass the following options:

```
helm install cilium cilium/cilium --version 1.16.5 \
  --namespace kube-system \
  --set encryption.enabled=true \
  --set encryption.type=wireguard
```

WireGuard may also be enabled manually by setting setting the
`enable-wireguard: true` option in the Cilium `ConfigMap` and restarting
each Cilium agent instance.

Note

When running with the CNI chaining (e.g., [AWS VPC CNI plugin](../../../installation/cni-chaining-aws-cni/#chaining-aws-cni)), set the
Helm option `cni.enableRouteMTUForCNIChaining` to `true` to force Cilium
to set a correct MTU for Pods. Otherwise, Pod traffic encrypted with
WireGuard might get fragmented, which can lead to a network performance
degradation.

## Validate the Setup[ÔÉÅ](#validate-the-setup "Permalink to this heading")

Run a `bash` shell in one of the Cilium pods with
`kubectl -n kube-system exec -ti ds/cilium -- bash` and execute the following
commands:

1. Check that WireGuard has been enabled (number of peers should correspond to
   a number of nodes subtracted by one):

   ```
   cilium-dbg status | grep Encryption

   Encryption: Wireguard [cilium_wg0 (Pubkey: <..>, Port: 51871, Peers: 2)]

   ```
2. Install tcpdump

   ```
   apt-get update
   apt-get -y install tcpdump

   ```
3. Check that traffic is sent via the `cilium_wg0` tunnel device:

   ```
   tcpdump -n -i cilium_wg0

   tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
   listening on cilium_wg0, link-type RAW (Raw IP), capture size 262144 bytes
   15:05:24.643427 IP 10.244.1.35.51116 > 10.244.3.78.8080: Flags [S], seq 476474887, win 64860, options [mss 1410,sackOK,TS val 648097391 ecr 0,nop,wscale 7], length 0
   15:05:24.644185 IP 10.244.3.78.8080 > 10.244.1.35.51116: Flags [S.], seq 4032860634, ack 476474888, win 64308, options [mss 1410,sackOK,TS val 4004186138 ecr 648097391,nop,wscale 7], length 0
   15:05:24.644238 IP 10.244.1.35.51116 > 10.244.3.78.8080: Flags [.], ack 1, win 507, options [nop,nop,TS val 648097391 ecr 4004186138], length 0
   15:05:24.644277 IP 10.244.1.35.51116 > 10.244.3.78.8080: Flags [P.], seq 1:81, ack 1, win 507, options [nop,nop,TS val 648097392 ecr 4004186138], length 80: HTTP: GET / HTTP/1.1
   15:05:24.644370 IP 10.244.3.78.8080 > 10.244.1.35.51116: Flags [.], ack 81, win 502, options [nop,nop,TS val 4004186139 ecr 648097392], length 0
   15:05:24.645536 IP 10.244.3.78.8080 > 10.244.1.35.51116: Flags [.], seq 1:1369, ack 81, win 502, options [nop,nop,TS val 4004186140 ecr 648097392], length 1368: HTTP: HTTP/1.1 200 OK
   15:05:24.645569 IP 10.244.1.35.51116 > 10.244.3.78.8080: Flags [.], ack 1369, win 502, options [nop,nop,TS val 648097393 ecr 4004186140], length 0
   15:05:24.645578 IP 10.244.3.78.8080 > 10.244.1.35.51116: Flags [P.], seq 1369:2422, ack 81, win 502, options [nop,nop,TS val 4004186140 ecr 648097392], length 1053: HTTP
   15:05:24.645644 IP 10.244.1.35.51116 > 10.244.3.78.8080: Flags [.], ack 2422, win 494, options [nop,nop,TS val 648097393 ecr 4004186140], length 0
   15:05:24.645752 IP 10.244.1.35.51116 > 10.244.3.78.8080: Flags [F.], seq 81, ack 2422, win 502, options [nop,nop,TS val 648097393 ecr 4004186140], length 0
   15:05:24.646431 IP 10.244.3.78.8080 > 10.244.1.35.51116: Flags [F.], seq 2422, ack 82, win 502, options [nop,nop,TS val 4004186141 ecr 648097393], length 0
   15:05:24.646484 IP 10.244.1.35.51116 > 10.244.3.78.8080: Flags [.], ack 2423, win 502, options [nop,nop,TS val 648097394 ecr 4004186141], length 0

   ```

## Troubleshooting[ÔÉÅ](#troubleshooting "Permalink to this heading")

When troubleshooting dropped or unencrypted packets between pods, the following
commands can be helpful:

```
# From node A:
cilium-dbg debuginfo --output json | jq .encryption
{
  "wireguard": {
    "interfaces": [
      {
        "listen-port": 51871,
        "name": "cilium_wg0",
        "peer-count": 1,
        "peers": [
          {
            "allowed-ips": [
              "10.154.1.107/32",
              "10.154.1.195/32"
            ],
            "endpoint": "192.168.61.12:51871",
            "last-handshake-time": "2021-05-05T12:31:24.418Z",
            "public-key": "RcYfs/GEkcnnv6moK5A1pKnd+YYUue21jO9I08Bv0zo="
          }
        ],
        "public-key": "DrAc2EloK45yqAcjhxerQKwoYUbLDjyrWgt9UXImbEY="
      }
    ]
  }
}
# From node B:
cilium-dbg debuginfo --output json | jq .encryption
{
  "wireguard": {
    "interfaces": [
      {
        "listen-port": 51871,
        "name": "cilium_wg0",
        "peer-count": 1,
        "peers": [
          {
            "allowed-ips": [
              "10.154.2.103/32",
              "10.154.2.142/32"
            ],
            "endpoint": "192.168.61.11:51871",
            "last-handshake-time": "2021-05-05T12:31:24.631Z",
            "public-key": "DrAc2EloK45yqAcjhxerQKwoYUbLDjyrWgt9UXImbEY="
          }
        ],
        "public-key": "RcYfs/GEkcnnv6moK5A1pKnd+YYUue21jO9I08Bv0zo="
      }
    ]
  }
}

```

For pod to pod packets to be successfully encrypted and decrypted, the following
must hold:

> * WireGuard public key of a remote node in the `peers[*].public-key` section
>   matches the actual public key of the remote node (`public-key` retrieved via
>   the same command on the remote node).
> * `peers[*].allowed-ips` should contain a list of pod IP addresses running
>   on the remote.

## Cluster Mesh[ÔÉÅ](#cluster-mesh "Permalink to this heading")

WireGuard enabled Cilium clusters can be connected via [Multi-Cluster (Cluster Mesh)](../../../network/clustermesh/intro/#cluster-mesh). The
`clustermesh-apiserver` will forward the necessary WireGuard public keys
automatically to remote clusters.
In such a setup, it is important to note that all participating clusters must
have WireGuard encryption enabled, i.e. mixed mode is currently not supported.
In addition, UDP traffic between nodes of different clusters on port `51871`
must be allowed.

## Node-to-Node Encryption (beta)[ÔÉÅ](#node-to-node-encryption-beta "Permalink to this heading")

By default, WireGuard-based encryption only encrypts traffic between Cilium-managed
pods. To enable node-to-node encryption, which additionally also encrypts
node-to-node, pod-to-node and node-to-pod traffic, use the following configuration
options:

Cilium CLIHelm

If you are deploying Cilium with the Cilium CLI, pass the following
options:

```
cilium install --version 1.16.5    --set encryption.enabled=true    --set encryption.type=wireguard    --set encryption.nodeEncryption=true
```

If you are deploying Cilium with Helm by following
[Installation using Helm](../../../installation/k8s-install-helm/#k8s-install-helm), pass the following options:

```
helm install cilium cilium/cilium --version 1.16.5 \
  --namespace kube-system \
  --set encryption.enabled=true \
  --set encryption.type=wireguard \
  --set encryption.nodeEncryption=true
```

Warning

Cilium automatically disables node-to-node encryption from and to
Kubernetes control-plane nodes, i.e. any node with the
`node-role.kubernetes.io/control-plane` label will opt-out of node-to-node
encryption.

This is done to ensure worker nodes are always able to communicate with the
Kubernetes API to update their WireGuard public keys. With node-to-node
encryption enabled, the connection to the kube-apiserver would also be
encrypted with WireGuard. This creates a bootstrapping problem where the
connection used to update the WireGuard public key is itself encrypted with
the public key about to be replaced.
This is problematic if a node needs to change its public key, for example
because it generated a new private key after a node reboot or node
re-provisioning.

Therefore, by not encrypting the connection from and to the kube-apiserver
host network with WireGuard, we ensure that worker nodes are
never accidentally locked out from the control plane. Note that even if
WireGuard node-to-node encryption is disabled on those nodes, the Kubernetes
control-plane itself is usually still encrypted by Kubernetes itself using
mTLS and that pod-to-pod traffic for any Cilium-manged pods on the
control-plane nodes are also still encrypted via Cilium‚Äôs WireGuard
implementation.

The label selector for matching the control-plane nodes which shall not
participate in node-to-node encryption can be configured using the
`node-encryption-opt-out-labels` ConfigMap option. It defaults to
`node-role.kubernetes.io/control-plane`.
You may force node-to-node encryption from and to control-plane nodes by
using an empty label selector with that option. Note that doing so is not
recommended, as it will require you to always manually update a node‚Äôs public
key in its corresponding `CiliumNode` CRD when a worker node‚Äôs public key
changes, given that the worker node will be unable to do so itself.

N/S load balancer traffic isn‚Äôt encrypted when an intermediate node redirects
a request to a different node with the following load balancer configuration:

* LoadBalancer & NodePort XDP Acceleration
* Direct Server Return (DSR) in non-Geneve dispatch mode

Egress Gateway replies are not encrypted when XDP Acceleration is enabled.

## Which traffic is encrypted[ÔÉÅ](#which-traffic-is-encrypted "Permalink to this heading")

The following table denotes which packets are encrypted with WireGuard depending
on the mode. Configurations or communication pairs not present in the following
table are not subject to encryption with WireGuard and therefore assumed to be unencrypted.

| Origin | Destination | Configuration | Encryption mode |
| --- | --- | --- | --- |
| Pod | remote Pod | any | default |
| Pod | remote Node | any | node-to-node |
| Node | remote Pod | any | node-to-node |
| Node | remote Node | any | node-to-node |
| **Services** | | | |
| Pod | remote Pod via ClusterIP Service | any | default |
| Pod | remote Pod via non ClusterIP Service (e.g., NodePort) | Socket LB | default |
| Pod | remote Pod via non ClusterIP Service | kube-proxy | node-to-node |
| Client outside cluster | remote Pod via Service | KPR, overlay routing, without DSR, without XDP | default |
| Client outside cluster | remote Pod via Service | native routing, without XDP | node-to-node |
| Client outside cluster | remote Pod or remote Node via Service | DSR in Geneve mode, without XDP | default |
| Pod | remote Pod via L7 Proxy or L7 Ingress Service | L7 Proxy / Ingress | default |
| **Egress Gateway** | | | |
| Pod | Egress Gateway node | Egress Gateway | default |
| Egress Gateway node | Pod | Egress Gateway without XDP | default |

* **Pod**: Cilium-managed K8s Pod running in non-host network namespace.
* **Node**: K8s host running Cilium, or Pod running in host network namespace
  managed by Cilium.
* **Service**: K8s Service (ClusterIP, NodePort, LoadBalancer, ExternalIP).
* **Client outside cluster**: Any client which runs outside K8s cluster.
  Request between client and Node is not encrypted. Depending on Cilium
  configuration (see the table at the beginning of this section), it might be
  encrypted only between intermediate Node (which received client request first)
  and destination Node.

## Known Issues[ÔÉÅ](#known-issues "Permalink to this heading")

* Packets may be dropped when configuring the WireGuard device leading to
  connectivity issues. This happens when endpoints are added or removed or
  when node updates occur. In some cases this may lead to failed calls to
  `sendmsg` and `sendto`. See [GitHub issue 33159](https://github.com/cilium/cilium/issues/33159) for more details.

## Legal[ÔÉÅ](#legal "Permalink to this heading")

‚ÄúWireGuard‚Äù is a registered trademark of Jason A. Donenfeld.

 [Previous](../encryption-ipsec/ "IPsec Transparent Encryption")
[Next](../../policy/ "Overview of Network Policy")

---

¬© Copyright Cilium Authors.
Last updated on Dec 17, 2024.

Built with [Sphinx](https://www.sphinx-doc.org/) using a
[theme](https://github.com/readthedocs/sphinx_rtd_theme)
provided by [Read the Docs](https://readthedocs.org).



=== Content from github.com_ea03a920_20250110_224936.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcilium%2Fcilium%2Freleases%2Ftag%2Fv1.14.7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcilium%2Fcilium%2Freleases%2Ftag%2Fv1.14.7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=cilium%2Fcilium)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[cilium](/cilium)
/
**[cilium](/cilium/cilium)**
Public

* [Notifications](/login?return_to=%2Fcilium%2Fcilium) You must be signed in to change notification settings
* [Fork
  3k](/login?return_to=%2Fcilium%2Fcilium)
* [Star
   20.7k](/login?return_to=%2Fcilium%2Fcilium)

* [Code](/cilium/cilium/tree/v1.14.7)
* [Issues
  904](/cilium/cilium/issues)
* [Pull requests
  151](/cilium/cilium/pulls)
* [Discussions](/cilium/cilium/discussions)
* [Actions](/cilium/cilium/actions)
* [Projects
  2](/cilium/cilium/projects)
* [Security](/cilium/cilium/security)
* [Insights](/cilium/cilium/pulse)

Additional navigation options

* [Code](/cilium/cilium/tree/v1.14.7)
* [Issues](/cilium/cilium/issues)
* [Pull requests](/cilium/cilium/pulls)
* [Discussions](/cilium/cilium/discussions)
* [Actions](/cilium/cilium/actions)
* [Projects](/cilium/cilium/projects)
* [Security](/cilium/cilium/security)
* [Insights](/cilium/cilium/pulse)

1. [Releases](/cilium/cilium/releases)
2. [v1.14.7](/cilium/cilium/releases/tag/v1.14.7)

# 1.14.7

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/cilium/cilium/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v1.14.7)

 Loading

[View all tags](/cilium/cilium/tags)

![@michi-covalent](https://avatars.githubusercontent.com/u/25494577?s=40&v=4)
[michi-covalent](/michi-covalent)
released this
14 Feb 23:26

¬∑
[10678 commits](/cilium/cilium/compare/v1.14.7...main)
to main
since this release

[v1.14.7](/cilium/cilium/tree/v1.14.7)

[`91b461c`](/cilium/cilium/commit/91b461c78160ff5c96cad23a85e4287093753c22)

We are pleased to release Cilium v1.14.7. This release contains various bug fixes and performance / usability improvements, including a fix for performance regression for pod-to-pod traffic WireGuard and tunneling ([#30329](https://github.com/cilium/cilium/pull/30329)).

## Summary of Changes

**Minor Changes:**

* api/cli: Encryption status now includes rendering IPsec status in JSON. (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30167](https://github.com/cilium/cilium/pull/30167), [@viktor-kurchenko](https://github.com/viktor-kurchenko))
* Envoy running inside the Cilium Agent may now be scraped by Prometheus when using Prometheus' ServiceMonitor objects. (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#30126](https://github.com/cilium/cilium/pull/30126), [@youngnick](https://github.com/youngnick))
* helm: Add extraVolumeMounts to cilium config init container (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#30131](https://github.com/cilium/cilium/pull/30131), [@ayuspin](https://github.com/ayuspin))
* ui: release v0.13.0 (Backport PR [#30724](https://github.com/cilium/cilium/pull/30724), Upstream PR [#30711](https://github.com/cilium/cilium/pull/30711), [@geakstr](https://github.com/geakstr))

**Bugfixes:**

* envoy: Change socket option from 'STATE\_LISTENING' to 'STATE\_PREBIND' (Backport PR [#30680](https://github.com/cilium/cilium/pull/30680), Upstream PR [#30543](https://github.com/cilium/cilium/pull/30543), [@chaunceyjiang](https://github.com/chaunceyjiang))
* Fix all packet drops due to missed tail calls, enable zero tolerance for these errors in CI (Backport PR [#30323](https://github.com/cilium/cilium/pull/30323), Upstream PR [#30248](https://github.com/cilium/cilium/pull/30248), [@ti-mo](https://github.com/ti-mo))
* Fix cilium-envoy ServiceMonitor port name (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#27207](https://github.com/cilium/cilium/pull/27207), [@pixiono](https://github.com/pixiono))
* Fix error when using multiple allowRoutes namespaces in gateway ([#30551](https://github.com/cilium/cilium/pull/30551), [@mhofstetter](https://github.com/mhofstetter))
* Fix error when using multiple allowRoutes namespaces in gateway (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30100](https://github.com/cilium/cilium/pull/30100), [@chaunceyjiang](https://github.com/chaunceyjiang))
* Fix issue where agent attempting to restore local node information (such as cilium\_host ip) would fail on k8s fallback method. (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#29460](https://github.com/cilium/cilium/pull/29460), [@tommyp1ckles](https://github.com/tommyp1ckles))
* Fix nodeinit issue causing NotReady state in Kubernetes nodes when laying down an incorrect CNI config (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30399](https://github.com/cilium/cilium/pull/30399), [@tlcowling](https://github.com/tlcowling))
* Fix performance regression for pod-to-pod traffic WireGuard and tunneling. (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30329](https://github.com/cilium/cilium/pull/30329), [@3u13r](https://github.com/3u13r))
* Fix rare bug possibly causing connection disruption and/or agent panic due to node events processing before full initialization. (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30282](https://github.com/cilium/cilium/pull/30282), [@giorio94](https://github.com/giorio94))
* hive: Fix start hook log output (Backport PR [#30724](https://github.com/cilium/cilium/pull/30724), Upstream PR [#30712](https://github.com/cilium/cilium/pull/30712), [@joamaki](https://github.com/joamaki))
* init well-known identity before new policy repository to fix the fqdn policy issue when enable well-known identity. (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30052](https://github.com/cilium/cilium/pull/30052), [@yingnanzhang666](https://github.com/yingnanzhang666))
* L2 announcements retry getting lease after losing it (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#30340](https://github.com/cilium/cilium/pull/30340), [@dylandreimerink](https://github.com/dylandreimerink))
* node/wireguard: Fix node-to-node encryption inconsistencies in kvstore mode (Backport PR [#30534](https://github.com/cilium/cilium/pull/30534), Upstream PR [#30423](https://github.com/cilium/cilium/pull/30423), [@gandro](https://github.com/gandro))
* Updating ENI prefix delegation fallback to use dedicated error codes (Backport PR [#30680](https://github.com/cilium/cilium/pull/30680), Upstream PR [#30536](https://github.com/cilium/cilium/pull/30536), [@hemanthmalla](https://github.com/hemanthmalla))

**CI Changes:**

* ci datapath-verifier: add connectivity test (Backport PR [#30371](https://github.com/cilium/cilium/pull/30371), Upstream PR [#29633](https://github.com/cilium/cilium/pull/29633), [@mhofstetter](https://github.com/mhofstetter))
* ci/ipsec: Fix version retrieval for downgrades to closest patch release (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30503](https://github.com/cilium/cilium/pull/30503), [@qmonnet](https://github.com/qmonnet))
* ci: add trigger phrase to Gateway API conformance test workflow name (Backport PR [#30680](https://github.com/cilium/cilium/pull/30680), Upstream PR [#30525](https://github.com/cilium/cilium/pull/30525), [@tklauser](https://github.com/tklauser))
* ci: Bump timeout of ci-runtime (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#29317](https://github.com/cilium/cilium/pull/29317), [@YutaroHayakawa](https://github.com/YutaroHayakawa))
* ci: bypass proxy.golang.org in Go toolchain installation (Backport PR [#30371](https://github.com/cilium/cilium/pull/30371), Upstream PR [#29549](https://github.com/cilium/cilium/pull/29549), [@tklauser](https://github.com/tklauser))
* CI: Change cloud regions (Backport PR [#30680](https://github.com/cilium/cilium/pull/30680), Upstream PR [#30378](https://github.com/cilium/cilium/pull/30378), [@brlbil](https://github.com/brlbil))
* ci: disable cgo when installing Go toolchain (Backport PR [#30371](https://github.com/cilium/cilium/pull/30371), Upstream PR [#27869](https://github.com/cilium/cilium/pull/27869), [@tklauser](https://github.com/tklauser))
* ci: run verifier tests with proper Go toolchain version (Backport PR [#30371](https://github.com/cilium/cilium/pull/30371), Upstream PR [#27857](https://github.com/cilium/cilium/pull/27857), [@tklauser](https://github.com/tklauser))
* Extend the clustermesh workflows to additionally cover the external kvstore case (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#29983](https://github.com/cilium/cilium/pull/29983), [@giorio94](https://github.com/giorio94))
* gh: ci-verifier: use lvh-images/complexity-test as renovate dependency (Backport PR [#30680](https://github.com/cilium/cilium/pull/30680), Upstream PR [#30520](https://github.com/cilium/cilium/pull/30520), [@julianwiedmann](https://github.com/julianwiedmann))
* gha: additionally cover BPF masquerade in clustermesh E2E tests (Backport PR [#30680](https://github.com/cilium/cilium/pull/30680), Upstream PR [#30321](https://github.com/cilium/cilium/pull/30321), [@giorio94](https://github.com/giorio94))
* gha: explicilty specify beefier runner type for clustermesh workflows (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#30335](https://github.com/cilium/cilium/pull/30335), [@giorio94](https://github.com/giorio94))
* gha: make runner type for clustermesh workflows configurable (Backport PR [#30680](https://github.com/cilium/cilium/pull/30680), Upstream PR [#30496](https://github.com/cilium/cilium/pull/30496), [@giorio94](https://github.com/giorio94))
* Improve Conformance Cluster Mesh workflow coverage (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#29926](https://github.com/cilium/cilium/pull/29926), [@giorio94](https://github.com/giorio94))
* Network performance (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30247](https://github.com/cilium/cilium/pull/30247), [@marseel](https://github.com/marseel))
* Rework GHA workflows to checkout the untrusted context in a separate directory for increased separation (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#30207](https://github.com/cilium/cilium/pull/30207), [@giorio94](https://github.com/giorio94))
* Update GitHub upload-artifact action (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30443](https://github.com/cilium/cilium/pull/30443), [@brlbil](https://github.com/brlbil))

**Misc Changes:**

* Added Last page Edit on Documentation (Backport PR [#30680](https://github.com/cilium/cilium/pull/30680), Upstream PR [#30612](https://github.com/cilium/cilium/pull/30612), [@gailsuccess](https://github.com/gailsuccess))
* bpf: fib: fix issues with L2 resolution (Backport PR [#30372](https://github.com/cilium/cilium/pull/30372), Upstream PR [#30128](https://github.com/cilium/cilium/pull/30128), [@julianwiedmann](https://github.com/julianwiedmann))
* bpf: lb: return drop reasons from \_\_lb4\_rev\_nat() (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30410](https://github.com/cilium/cilium/pull/30410), [@julianwiedmann](https://github.com/julianwiedmann))
* bpf: overlay: restore bpf\_clear\_meta() in from-overlay (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#30343](https://github.com/cilium/cilium/pull/30343), [@julianwiedmann](https://github.com/julianwiedmann))
* build(deps): bump jinja2 from 3.1.2 to 3.1.3 in /Documentation (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30219](https://github.com/cilium/cilium/pull/30219), [@dependabot](https://github.com/dependabot)[bot])
* chore(deps): update dependency cilium/cilium-cli to v0.15.20 (v1.14) ([#30144](https://github.com/cilium/cilium/pull/30144), [@renovate](https://github.com/renovate)[bot])
* chore(deps): update dependency cilium/cilium-cli to v0.15.21 (v1.14) ([#30571](https://github.com/cilium/cilium/pull/30571), [@renovate](https://github.com/renovate)[bot])
* chore(deps): update dependency go to v1.21.6 (v1.14) ([#30174](https://github.com/cilium/cilium/pull/30174), [@renovate](https://github.com/renovate)[bot])
* chore(deps): update dependency go to v1.21.6 (v1.14) ([#30640](https://github.com/cilium/cilium/pull/30640), [@renovate](https://github.com/renovate)[bot])
* chore(deps): update docker.io/library/alpine docker tag to v3.18.6 (v1.14) ([#30641](https://github.com/cilium/cilium/pull/30641), [@renovate](https://github.com/renovate)[bot])
* chore(deps): update go to v1.21.6 (v1.14) (minor) ([#30145](https://github.com/cilium/cilium/pull/30145), [@renovate](https://github.com/renovate)[bot])
* chore(deps): update hubble cli to v0.13.0 (v1.14) (minor) ([#30274](https://github.com/cilium/cilium/pull/30274), [@renovate](https://github.com/renovate)[bot])
* chore(deps): update stable lvh-images (v1.14) (patch) ([#30492](https://github.com/cilium/cilium/pull/30492), [@renovate](https://github.com/renovate)[bot])
* chore(deps): update stable lvh-images (v1.14) (patch) ([#30575](https://github.com/cilium/cilium/pull/30575), [@renovate](https://github.com/renovate)[bot])
* doc: Add Azure CNI Powered by cilium as external installer (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#28286](https://github.com/cilium/cilium/pull/28286), [@tamilmani1989](https://github.com/tamilmani1989))
* docs: Add Egress Gateway Policy warning on `egressIP` and `interface` being mutually exclusive in the `egressGateway` spec. (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30236](https://github.com/cilium/cilium/pull/30236), [@soggiest](https://github.com/soggiest))
* docs: warn users that IPsec and KPR are mutual exclusive (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30403](https://github.com/cilium/cilium/pull/30403), [@f1ko](https://github.com/f1ko))
* hive: Fix hive hook output and move lifecycle to cell package (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30416](https://github.com/cilium/cilium/pull/30416), [@joamaki](https://github.com/joamaki))
* hubble-ui: release v0.12.3 (Backport PR [#30554](https://github.com/cilium/cilium/pull/30554), Upstream PR [#30422](https://github.com/cilium/cilium/pull/30422), [@geakstr](https://github.com/geakstr))
* ipcache: Skip conflict logging for tunnelpeer if native routing (Backport PR [#30355](https://github.com/cilium/cilium/pull/30355), Upstream PR [#27331](https://github.com/cilium/cilium/pull/27331), [@christarazi](https://github.com/christarazi))
* loader, bpf: remove context cancellation check, lower pending map removal Warning to Info (Backport PR [#30323](https://github.com/cilium/cilium/pull/30323), Upstream PR [#30214](https://github.com/cilium/cilium/pull/30214), [@ti-mo](https://github.com/ti-mo))
* Rename egress\_policies.h to srv6.h and add SRv6 related trace reasons. (Backport PR [#30680](https://github.com/cilium/cilium/pull/30680), Upstream PR [#30154](https://github.com/cilium/cilium/pull/30154), [@ldelossa](https://github.com/ldelossa))
* Rerun go mod tidy to fix missing entry ([#30358](https://github.com/cilium/cilium/pull/30358), [@giorio94](https://github.com/giorio94))

**Other Changes:**

* [v1.14] ci/ipsec: Fix downgrade version for release preparation commits ([#30716](https://github.com/cilium/cilium/pull/30716), [@qmonnet](https://github.com/qmonnet))
* [v1.14] ci/ipsec: Re-enable node-to-node-encryption check ([#30401](https://github.com/cilium/cilium/pull/30401), [@qmonnet](https://github.com/qmonnet))
* envoy: Bump envoy version for x/net library ([#30515](https://github.com/cilium/cilium/pull/30515), [@sayboras](https://github.com/sayboras))
* envoy: Bump envoy version to v1.26.7 ([#30693](https://github.com/cilium/cilium/pull/30693), [@sayboras](https://github.com/sayboras))
* install: Update image digests for v1.14.6 ([#30318](https://github.com/cilium/cilium/pull/30318), [@gentoo-root](https://github.com/gentoo-root))
* remove stable tags from 1.14 releases ([#30557](https://github.com/cilium/cilium/pull/30557), [@aanm](https://github.com/aanm))

### Contributors

* [![@gandro](https://avatars.githubusercontent.com/u/50564?s=64&v=4)](https://github.com/gandro)
* [![@tklauser](https://avatars.githubusercontent.com/u/539708?s=64&v=4)](https://github.com/tklauser)
* [![@gentoo-root](https://avatars.githubusercontent.com/u/862550?s=64&v=4)](https://github.com/gentoo-root)
* [![@tlcowling](https://avatars.githubusercontent.com/u/952241?s=64&v=4)](https://github.com/tlcowling)
* [![@joamaki](https://avatars.githubusercontent.com/u/1102396?s=64&v=4)](https://github.com/joamaki)
* [![@tamilmani1989](https://avatars.githubusercontent.com/u/1103826?s=64&v=4)](https://github.com/tamilmani1989)
* [![@geakstr](https://avatars.githubusercontent.com/u/1496368?s=64&v=4)](https://github.com/geakstr)
* [![@dylandreimerink](https://avatars.githubusercontent.com/u/1799415?s=64&v=4)](https://github.com/dylandreimerink)
* [![@renovate](https://avatars.githubusercontent.com/u/1832810?s=64&v=4)](https://github.com/renovate)
* [![@marseel](https://avatars.githubusercontent.com/u/2011575?s=64&v=4)](https://github.com/marseel)
* [![@ti-mo](https://avatars.githubusercontent.com/u/3214460?s=64&v=4)](https://github.com/ti-mo)
* [![@brlbil](https://avatars.githubusercontent.com/u/3773321?s=64&v=4)](https://github.com/brlbil)
* [![@hemanthmalla](https://avatars.githubusercontent.com/u/3775612?s=64&v=4)](https://github.com/hemanthmalla)
* [![@christarazi](https://avatars.githubusercontent.com/u/3885308?s=64&v=4)](https://github.com/christarazi)
* [![@pixiono](https://avatars.githubusercontent.com/u/4347253?s=64&v=4)](https://github.com/pixiono)
* [![@ldelossa](https://avatars.githubusercontent.com/u/5642902?s=64&v=4)](https://github.com/ldelossa)
* [![@aanm](https://avatars.githubusercontent.com/u/5714066?s=64&v=4)](https://github.com/aanm)
* [![@tommyp1ckles](https://avatars.githubusercontent.com/u/5881740?s=64&v=4)](https://github.com/tommyp1ckles)
* [![@soggiest](https://avatars.githubusercontent.com/u/6342806?s=64&v=4)](https://github.com/soggiest)
* [![@mhofstetter](https://avatars.githubusercontent.com/u/6699311?s=64&v=4)](https://github.com/mhofstetter)
* [![@sayboras](https://avatars.githubusercontent.com/u/9019229?s=64&v=4)](https://github.com/sayboras)
* [![@YutaroHayakawa](https://avatars.githubusercontent.com/u/9045765?s=64&v=4)](https://github.com/YutaroHayakawa)
* [![@youngnick](https://avatars.githubusercontent.com/u/9346599?s=64&v=4)](https://github.com/youngnick)
* [![@qmonnet](https://avatars.githubusercontent.com/u/17001771?s=64&v=4)](https://github.com/qmonnet)
* [![@chaunceyjiang](https://avatars.githubusercontent.com/u/17962021?s=64&v=4)](https://github.com/chaunceyjiang)
* [![@yingnanzhang666](https://avatars.githubusercontent.com/u/22782254?s=64&v=4)](https://github.com/yingnanzhang666)
* [![@julianwiedmann](https://avatars.githubusercontent.com/u/24281077?s=64&v=4)](https://github.com/julianwiedmann)
* [![@f1ko](https://avatars.githubusercontent.com/u/26047222?s=64&v=4)](https://github.com/f1ko)
* [![@3u13r](https://avatars.githubusercontent.com/u/26190863?s=64&v=4)](https://github.com/3u13r)
* [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)
* [![@giorio94](https://avatars.githubusercontent.com/u/33200527?s=64&v=4)](https://github.com/giorio94)
* [![@ayuspin](https://avatars.githubusercontent.com/u/57713382?s=64&v=4)](https://github.com/ayuspin)
* [![@viktor-kurchenko](https://avatars.githubusercontent.com/u/69600804?s=64&v=4)](https://github.com/viktor-kurchenko)
* [![@gailsuccess](https://avatars.githubusercontent.com/u/157372272?s=64&v=4)](https://github.com/gailsuccess)

gandro, tklauser, and 32 other contributors

 Assets
2

 Loading

 üëç
1
 ShadowUser17 reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

 1 person reacted

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_3a13e521_20250110_224937.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcilium%2Fcilium%2Fsecurity%2Fadvisories%2FGHSA-7496-fgv9-xw82)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcilium%2Fcilium%2Fsecurity%2Fadvisories%2FGHSA-7496-fgv9-xw82)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=cilium%2Fcilium)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[cilium](/cilium)
/
**[cilium](/cilium/cilium)**
Public

* [Notifications](/login?return_to=%2Fcilium%2Fcilium) You must be signed in to change notification settings
* [Fork
  3k](/login?return_to=%2Fcilium%2Fcilium)
* [Star
   20.7k](/login?return_to=%2Fcilium%2Fcilium)

* [Code](/cilium/cilium)
* [Issues
  904](/cilium/cilium/issues)
* [Pull requests
  151](/cilium/cilium/pulls)
* [Discussions](/cilium/cilium/discussions)
* [Actions](/cilium/cilium/actions)
* [Projects
  2](/cilium/cilium/projects)
* [Security](/cilium/cilium/security)
* [Insights](/cilium/cilium/pulse)

Additional navigation options

* [Code](/cilium/cilium)
* [Issues](/cilium/cilium/issues)
* [Pull requests](/cilium/cilium/pulls)
* [Discussions](/cilium/cilium/discussions)
* [Actions](/cilium/cilium/actions)
* [Projects](/cilium/cilium/projects)
* [Security](/cilium/cilium/security)
* [Insights](/cilium/cilium/pulse)

# Unencrypted ingress/health traffic when using Wireguard transparent encryption

Moderate

[ferozsalam](/ferozsalam)
published
GHSA-7496-fgv9-xw82
Feb 20, 2024

## Package

Cilium

## Affected versions

>= 1.14.0, < 1.14.7

## Patched versions

1.14.7

## Description

### Impact

For Cilium users who are using CRDs to store Cilium state (the default configuration) and [Wireguard transparent encryption](https://docs.cilium.io/en/stable/security/network/encryption-wireguard/#encryption-wg), responses from pods to the Ingress and health endpoints are not encrypted. Traffic from the Ingress and health endpoints to pods is not affected by this issue. The health endpoint is only used for Cilium's internal health checks.

### Patches

This issue affects Cilium v1.14 before v1.14.7.

This issue has been patched in Cilium v1.14.7.

### Workarounds

There is no workaround to this issue - affected users are encouraged to upgrade.

### Acknowledgements

The Cilium community has worked together with members of Isovalent to prepare these mitigations. Special thanks to [@gandro](https://github.com/gandro) for their work on triaging and remediating this issue.

### For more information

If you have any questions or comments about this advisory, please reach out on [Slack](https://docs.cilium.io/en/latest/community/community/#slack).

If you think you have found a vulnerability affecting Cilium, we strongly encourage you to report it to our security mailing list at security@cilium.io. This is a private mailing list where only members of the Cilium internal security team are subscribed to, and your report will be treated as top priority.

### Severity

Moderate

6.1

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Adjacent

Attack complexity
High

Privileges required
None

User interaction
None

Scope
Changed

Confidentiality
High

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:A/AC:H/PR:N/UI:N/S:C/C:H/I:N/A:N

### CVE ID

CVE-2024-25630

### Weaknesses

No CWEs

### Credits

* [![@gandro](https://avatars.githubusercontent.com/u/50564?s=40&v=4)](/gandro)
  [gandro](/gandro)
  Remediation developer
* [![@giorio94](https://avatars.githubusercontent.com/u/33200527?s=40&v=4)](/giorio94)
  [giorio94](/giorio94)
  Remediation reviewer

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.


