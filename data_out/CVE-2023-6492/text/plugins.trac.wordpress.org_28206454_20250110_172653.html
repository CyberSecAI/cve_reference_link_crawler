

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3099425%2Fsimple-sitemap%2Ftrunk%2Flib%2Fclasses%2Fplugin-admin-pages%2Fclass-settings.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3037106/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php "Changeset 3037106 for simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php")
* Next Change →

---

# Changeset [3099425](/changeset/3099425 "Show full changeset") for [simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
06/07/2024 02:26:16 PM
([7 months](/timeline?from=2024-06-07T14%3A26%3A16Z&precision=second "See timeline at 06/07/2024 02:26:16 PM") ago)

Author:
dgwyer
Message:

commit new version

File:

1 edited

* [simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425 "Show entry in browser")
  (modified)
  ([50 diffs](#file0 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php](/changeset/3099425/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php "Show the changeset 3099425 restricted to simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php")

  | [r3037106](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L6 "Show revision 3037106 of this file in browser") | [r3099425](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L6 "Show revision 3099425 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | \* Plugin options class. |
  | 7 | 7 | \*/ |
  | 8 |  | class Settings |
  | 9 |  | { |
  |  | 8 | class Settings { |
  | 10 | 9 | /\*\* |
  | 11 | 10 | \* Common root paths/directories. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L13) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L12) |  |
  | 13 | 12 | \* @var $module\_roots |
  | 14 | 13 | \*/ |
  | 15 |  | protected  $module\_roots ; |
  |  | 14 | protected $module\_roots; |
  |  | 15 |  |
  | 16 | 16 | /\*\* |
  | 17 | 17 | \* Plugin data. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L19) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L19) |  |
  | 19 | 19 | \* @var array |
  | 20 | 20 | \*/ |
  | 21 |  | protected  $plugin\_data ; |
  |  | 21 | protected $plugin\_data; |
  |  | 22 |  |
  | 22 | 23 | /\*\* |
  | 23 | 24 | \* Custom plugin data. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L25) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L26) |  |
  | 25 | 26 | \* @var array |
  | 26 | 27 | \*/ |
  | 27 |  | protected  $custom\_plugin\_data ; |
  |  | 28 | protected $custom\_plugin\_data; |
  |  | 29 |  |
  | 28 | 30 | /\*\* |
  | 29 | 31 | \* Hook prefix for the plugin. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L31) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L33) |  |
  | 31 | 33 | \* @var string |
  | 32 | 34 | \*/ |
  | 33 |  | protected  $hook\_prefix ; |
  |  | 35 | protected $hook\_prefix; |
  |  | 36 |  |
  | 34 | 37 | /\*\* |
  | 35 | 38 | \* Freemius upgrade URL. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L37) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L40) |  |
  | 37 | 40 | \* @var string |
  | 38 | 41 | \*/ |
  | 39 |  | protected  $freemius\_upgrade\_url ; |
  |  | 42 | protected $freemius\_upgrade\_url; |
  |  | 43 |  |
  | 40 | 44 | /\*\* |
  | 41 | 45 | \* Utility class instance. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L43) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L47) |  |
  | 43 | 47 | \* @var array |
  | 44 | 48 | \*/ |
  | 45 |  | protected  $utility ; |
  |  | 49 | protected $utility; |
  |  | 50 |  |
  | 46 | 51 | /\*\* |
  | 47 | 52 | \* Settings framework instance. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L49) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L54) |  |
  | 49 | 54 | \* @var array |
  | 50 | 55 | \*/ |
  | 51 |  | protected  $settings\_fw ; |
  |  | 56 | protected $settings\_fw; |
  |  | 57 |  |
  | 52 | 58 | /\*\* |
  | 53 | 59 | \* New features array from the plugin framework. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L55) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L61) |  |
  | 55 | 61 | \* @var array |
  | 56 | 62 | \*/ |
  | 57 |  | protected  $new\_features\_arr ; |
  |  | 63 | protected $new\_features\_arr; |
  |  | 64 |  |
  | 58 | 65 | /\*\* |
  | 59 | 66 | \* HTML for displaying the PRO attribute. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L61) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L68) |  |
  | 61 | 68 | \* @var string |
  | 62 | 69 | \*/ |
  | 63 |  | protected  $pro\_attribute ; |
  |  | 70 | protected $pro\_attribute; |
  |  | 71 |  |
  | 64 | 72 | /\*\* |
  | 65 | 73 | \* Slug for the settings page. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L67) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L75) |  |
  | 67 | 75 | \* @var string |
  | 68 | 76 | \*/ |
  | 69 |  | protected  $settings\_slug ; |
  |  | 77 | protected $settings\_slug; |
  |  | 78 |  |
  | 70 | 79 | /\*\* |
  | 71 | 80 | \* Slug for the new features page. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L73) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L82) |  |
  | 73 | 82 | \* @var string |
  | 74 | 83 | \*/ |
  | 75 |  | protected  $new\_features\_slug ; |
  |  | 84 | protected $new\_features\_slug; |
  |  | 85 |  |
  | 76 | 86 | /\*\* |
  | 77 | 87 | \* Slug for the welcome page. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L79) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L89) |  |
  | 79 | 89 | \* @var string |
  | 80 | 90 | \*/ |
  | 81 |  | protected  $welcome\_slug ; |
  |  | 91 | protected $welcome\_slug; |
  |  | 92 |  |
  | 82 | 93 | /\*\* |
  | 83 | 94 | \* Main class constructor. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L97) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L108) |  |
  | 97 | 108 | $settings\_fw, |
  | 98 | 109 | $new\_features\_arr |
  | 99 |  | ) |
  | 100 |  | { |
  |  | 110 | ) { |
  | 101 | 111 | $this->module\_roots = $module\_roots; |
  | 102 | 112 | $this->custom\_plugin\_data = $custom\_plugin\_data; |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L111) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L121) |  |
  | 111 | 121 | $this->new\_features\_slug = $this->custom\_plugin\_data->settings\_pages['new-features']['slug']; |
  | 112 | 122 | $this->welcome\_slug = $this->custom\_plugin\_data->settings\_pages['welcome']['slug']; |
  | 113 |  | add\_action( 'admin\_init', array(~~&$this, 'register\_plugin\_settings'~~ ) ); |
  | 114 |  | add\_action( 'admin\_menu', array(~~&$this, 'add\_options\_page'~~ ) ); |
  | 115 |  | add\_filter( 'simple\_sitemap\_defaults', array(~~&$this, 'add\_defaults'~~ ) ); |
  | 116 |  | add\_filter( 'custom\_menu\_order', array(~~&$this, 'filter\_menu\_order'~~ ) ); |
  |  | 123 | add\_action( 'admin\_init', array(&$this, 'register\_plugin\_settings') ); |
  |  | 124 | add\_action( 'admin\_menu', array(&$this, 'add\_options\_page') ); |
  |  | 125 | add\_filter( 'simple\_sitemap\_defaults', array(&$this, 'add\_defaults') ); |
  |  | 126 | add\_filter( 'custom\_menu\_order', array(&$this, 'filter\_menu\_order') ); |
  | 117 | 127 | // enable custom menu ordering. |
  | 118 | 128 | add\_action( 'admin\_notices', function () { |
  | 119 |  | // Check to see if user clicked on the reset options button. |
  | 120 |  |  |
  | 121 |  | if ( isset( $\_POST['reset\_options'] ) ) { |
  |  | 129 | // Check to see if user clicked on the reset options button and verify nonce. |
  |  | 130 | if ( isset( $\_POST['reset\_options'] ) && isset( $\_POST['simple\_sitemap\_reset\_nonce'] ) && wp\_verify\_nonce( $\_POST['simple\_sitemap\_reset\_nonce'], 'simple\_sitemap\_reset\_action' ) ) { |
  | 122 | 131 | // Display update notice here. |
  | 123 | 132 | ?> |
  | 124 |  | <div class="notice notice-success is-dismissible"> |
  | 125 |  | <p>Plugin settings reset to defaults.</p> |
  | 126 |  | </div> |
  |  | 133 | <div class="notice notice-success is-dismissible"> |
  |  | 134 | <p>Plugin settings reset to defaults.</p> |
  |  | 135 | </div> |
  | 127 | 136 | <?php |
  | 128 | 137 | // Reset plugin defaults. |
  | 129 | 138 | update\_option( 'simple\_sitemap\_options', self::get\_default\_plugin\_options() ); |
  | 130 | 139 | } |
  | 131 |  |  |
  | 132 | 140 | } ); |
  | 133 | 141 | } |
  | 134 |  |  |
  |  | 142 |  |
  | 135 | 143 | /\*\* |
  | 136 | 144 | \* Register plugin options with Settings API. |
  | 137 | 145 | \*/ |
  | 138 |  | public function register\_plugin\_settings() |
  | 139 |  | { |
  |  | 146 | public function register\_plugin\_settings() { |
  | 140 | 147 | /\* Register plugin options settings for all tabs. \*/ |
  | 141 |  | register\_setting( 'simple\_sitemap\_options\_group', 'simple\_sitemap\_options', array(~~$this, 'sanitize\_plugin\_options'~~ ) ); |
  | 142 |  | } |
  | 143 |  |  |
  |  | 148 | register\_setting( 'simple\_sitemap\_options\_group', 'simple\_sitemap\_options', array($this, 'sanitize\_plugin\_options') ); |
  |  | 149 | } |
  |  | 150 |  |
  | 144 | 151 | /\*\* |
  | 145 | 152 | \* Register plugin options page, and enqueue scripts/styles. |
  | 146 | 153 | \*/ |
  | 147 |  | public function add\_options\_page() |
  | 148 |  | { |
  |  | 154 | public function add\_options\_page() { |
  | 149 | 155 | // @todo calc this in constants.php just once and pass it in. |
  | 150 | 156 | $opt\_pfx = $this->custom\_plugin\_data->db\_option\_prefix; |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L156) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L162) |  |
  | 156 | 162 | 'manage\_options', |
  | 157 | 163 | $this->settings\_slug, |
  | 158 |  | array(~~&$this, 'render'~~ ), |
  |  | 164 | array(&$this, 'render'), |
  | 159 | 165 | 'dashicons-pressthis', |
  | 160 | 166 | 82 |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L169) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L175) |  |
  | 169 | 175 | ); |
  | 170 | 176 | } |
  | 171 |  |  |
  |  | 177 |  |
  | 172 | 178 | /\*\* |
  | 173 | 179 | \* Define default option settings. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L176) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L182) |  |
  | 176 | 182 | \* @return array $defaults Updated plugin defaults. |
  | 177 | 183 | \*/ |
  | 178 |  | public function add\_defaults( $defaults ) |
  | 179 |  | { |
  |  | 184 | public function add\_defaults( $defaults ) { |
  | 180 | 185 | $defaults['txtar\_sitemap\_script'] = ''; |
  | 181 | 186 | $defaults['chk\_parent\_page\_link'] = '0'; |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L184) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L189) |  |
  | 184 | 189 | return $defaults; |
  | 185 | 190 | } |
  | 186 |  |  |
  |  | 191 |  |
  | 187 | 192 | /\*\* |
  | 188 | 193 | \* Sanitize plugin options. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L191) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L196) |  |
  | 191 | 196 | \* @return array $input Sanitized input content. |
  | 192 | 197 | \*/ |
  | 193 |  | public function sanitize\_plugin\_options( $input ) |
  | 194 |  | { |
  |  | 198 | public function sanitize\_plugin\_options( $input ) { |
  | 195 | 199 | // Strip html from textboxes. |
  | 196 | 200 | $input['txtar\_sitemap\_script'] = wp\_filter\_nohtml\_kses( $input['txtar\_sitemap\_script'] ); |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L200) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L204) |  |
  | 200 | 204 | return $input; |
  | 201 | 205 | } |
  | 202 |  |  |
  |  | 206 |  |
  | 203 | 207 | /\*\* |
  | 204 | 208 | \* Display plugin options page. |
  | 205 | 209 | \*/ |
  | 206 |  | public function render() |
  | 207 |  | { |
  |  | 210 | public function render() { |
  | 208 | 211 | $freemius\_upgrade\_url = admin\_url() . 'admin.php?page=simple-sitemap-menu-pricing'; |
  | 209 | 212 | $pro\_attribute = ''; |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L221) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L224) |  |
  | 221 | 224 | <h1 class="heading"> |
  | 222 | 225 | <img src="<?php |
  | 223 |  | echo ~~esc\_url( $this->module\_roots['uri'] . '/lib/assets/images/simple-sitemap.svg' )~~ ; |
  |  | 226 | echo esc\_url( $this->module\_roots['uri'] . '/lib/assets/images/simple-sitemap.svg' ); |
  | 224 | 227 | ?>"> |
  | 225 | 228 | <?php |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L229) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L232) |  |
  | 229 | 232 | <div class="wpgo-header-btns"> |
  | 230 | 233 | <a class="plugin-btn" href="<?php |
  | 231 |  | echo ~~esc\_url( $this->custom\_plugin\_data->welcome\_url )~~ ; |
  |  | 234 | echo esc\_url( $this->custom\_plugin\_data->welcome\_url ); |
  | 232 | 235 | ?>#getting-started">Start Here<span style="width:15px;height:15px;" class="dashicons dashicons-arrow-right-alt2"></span></a> |
  | 233 | 236 | <a style="background:#f5a356;border:2px #d9914e solid;" class="plugin-btn" href="https://demo.wpgothemes.com/flexr/simple-sitemap-pro-demo/" target="\_blank">Live Demo</a></span> |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L239) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L242) |  |
  | 239 | 242 | <p class="description-txt"> |
  | 240 | 243 | To see what's new at a glance and how to use the plugin we recommend visiting the <a href="<?php |
  | 241 |  | echo ~~esc\_url( $this->custom\_plugin\_data->welcome\_url )~~ ; |
  |  | 244 | echo esc\_url( $this->custom\_plugin\_data->welcome\_url ); |
  | 242 | 245 | ?>">About</a> plugin page. Or, why not take a look at the Simple Sitemap <a href="https://demo.wpgothemes.com/flexr/simple-sitemap-pro-demo/" target="\_blank">Live Demo</a> to see plenty of sitemap examples in action. |
  | 243 | 246 | </p> |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L267) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L270) |  |
  | 267 | 270 |  |
  | 268 | 271 | <div style="margin-top:20px;"><img style="max-width:550px;" src="<?php |
  | 269 |  | echo ~~esc\_url( $this->module\_roots['pdir'] )~~ ; |
  |  | 272 | echo esc\_url( $this->module\_roots['pdir'] ); |
  | 270 | 273 | ?>shared/images/simple-sitemap-block.png" /></div> |
  | 271 | 274 |  |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L306) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L309) |  |
  | 306 | 309 |  |
  | 307 | 310 | <p style="margin:15px 0 0 0;"><code style="font-size:15px;"><a class="code-link" href="#simple-sitemap-tax-shortcode">[simple-sitemap-tax]</a></code><?php |
  | 308 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 311 | echo wp\_kses\_post( $pro\_attribute ); |
  | 309 | 312 | ?> <?php |
  | 310 | 313 | printf( \_\_( 'Displays a list of taxonomy terms for any registered taxonomy (e.g. categories).', 'simple-sitemap' ) ); |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L312) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L315) |  |
  | 312 | 315 |  |
  | 313 | 316 | <p style="margin:15px 0 0 0;"><code style="font-size:15px;"><a class="code-link" href="#simple-sitemap-menu-shortcode">[simple-sitemap-menu]</a></code><?php |
  | 314 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 317 | echo wp\_kses\_post( $pro\_attribute ); |
  | 315 | 318 | ?> <?php |
  | 316 | 319 | printf( \_\_( 'Displays a sitemap based on a nav menu.', 'simple-sitemap' ) ); |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L318) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L321) |  |
  | 318 | 321 |  |
  | 319 | 322 | <p style="margin:15px 0 30px 0;"><code style="font-size:15px;"><a class="code-link" href="#simple-sitemap-child-shortcode">[simple-sitemap-child]</a></code><?php |
  | 320 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 323 | echo wp\_kses\_post( $pro\_attribute ); |
  | 321 | 324 | ?> <?php |
  | 322 | 325 | printf( \_\_( 'Displays a list of child pages for a specific parent page.', 'simple-sitemap' ) ); |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L343) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L346) |  |
  | 343 | 346 | <li><code>types="page"</code> - List posts or pages (or both) in the order entered. e.g. <code>types="post, page"</code></li> |
  | 344 | 347 | <li><code>include=""</code><?php |
  | 345 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 348 | echo wp\_kses\_post( $pro\_attribute ); |
  | 346 | 349 | ?> - Comma separated list of post IDs to include in the sitemap only. Other posts will be ignored.</li> |
  | 347 | 350 | <li><code>exclude=""</code><?php |
  | 348 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 351 | echo wp\_kses\_post( $pro\_attribute ); |
  | 349 | 352 | ?> - Comma separated list of post IDs to exclude from the sitemap.</li> |
  | 350 | 353 | <li><code>image="false"</code><?php |
  | 351 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 354 | echo wp\_kses\_post( $pro\_attribute ); |
  | 352 | 355 | ?> - Optionally show the post featured image (if defined) next to each sitemap item.</li> |
  | 353 | 356 | <li><code>image\_size="22"</code><?php |
  | 354 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 357 | echo wp\_kses\_post( $pro\_attribute ); |
  | 355 | 358 | ?> - Size of the post featured image (if displayed).</li> |
  | 356 | 359 | <li><code>list\_icon="true"</code><?php |
  | 357 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 360 | echo wp\_kses\_post( $pro\_attribute ); |
  | 358 | 361 | ?> - Optionally display HTML bullet icons.</li> |
  | 359 | 362 | <li><code>separator="false"</code><?php |
  | 360 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 363 | echo wp\_kses\_post( $pro\_attribute ); |
  | 361 | 364 | ?> - Optionally render separator lines between sitemap items.</li> |
  | 362 | 365 | <li><code>horizontal="false"</code><?php |
  | 363 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 366 | echo wp\_kses\_post( $pro\_attribute ); |
  | 364 | 367 | ?> - Set to "true" to display sitemap items in a flat horizontal list. Great for adding a sitemap to the footer!</li> |
  | 365 | 368 | <li><code>horizontal\_separator=", "</code><?php |
  | 366 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 369 | echo wp\_kses\_post( $pro\_attribute ); |
  | 367 | 370 | ?> - The character(s) used to separate sitemap items. Use with the 'horizontal' attribute.</li> |
  | 368 | 371 | <li><code>nofollow="false"</code><?php |
  | 369 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 372 | echo wp\_kses\_post( $pro\_attribute ); |
  | 370 | 373 | ?> - Set to "true" to make sitemap links <a href="https://en.wikipedia.org/wiki/Nofollow" target="\_blank">nofollow</a>.</li> |
  | 371 | 374 | <li><code>num\_posts="-1"</code><?php |
  | 372 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 375 | echo wp\_kses\_post( $pro\_attribute ); |
  | 373 | 376 | ?> - Limit the number of posts outputted in the sitemap.</li> |
  | 374 | 377 | <li><code>visibility="true"</code><?php |
  | 375 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 378 | echo wp\_kses\_post( $pro\_attribute ); |
  | 376 | 379 | ?> - Control whether private posts/pages are displayed in the sitemap.</li> |
  | 377 | 380 | <li><code>page\_excerpt\_length="25"</code><?php |
  | 378 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 381 | echo wp\_kses\_post( $pro\_attribute ); |
  | 379 | 382 | ?> - Trim page excerpt length to specific number of words.</li> |
  | 380 | 383 | <li><code>sitemap\_item\_line\_height=""</code><?php |
  | 381 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 384 | echo wp\_kses\_post( $pro\_attribute ); |
  | 382 | 385 | ?> - CSS <code>line-height</code> for individual sitemap items.</li> |
  | 383 | 386 | <li><code>sitemap\_container\_margin=""</code><?php |
  | 384 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 387 | echo wp\_kses\_post( $pro\_attribute ); |
  | 385 | 388 | ?> - CSS <code>margin</code> for the sitemap container.</li> |
  | 386 | 389 | <li><code>responsive\_breakpoint="500px"</code><?php |
  | 387 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 390 | echo wp\_kses\_post( $pro\_attribute ); |
  | 388 | 391 | ?> - CSS responsive breakpoint value.</li> |
  | 389 | 392 | <li><code>max\_width=""</code><?php |
  | 390 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 393 | echo wp\_kses\_post( $pro\_attribute ); |
  | 391 | 394 | ?> - Controls the CSS <code>max-width</code> of the sitemap container.</li> |
  | 392 | 395 | <li><code>post\_type\_label\_padding="10px 20px"</code><?php |
  | 393 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 396 | echo wp\_kses\_post( $pro\_attribute ); |
  | 394 | 397 | ?> - CSS <code>padding</code> for the post type label (if displayed).</li> |
  | 395 | 398 | <li><code>post\_type\_label\_font\_size=""</code><?php |
  | 396 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 399 | echo wp\_kses\_post( $pro\_attribute ); |
  | 397 | 400 | ?> - CSS <code>font-size</code> for the post type label (if displayed).</li> |
  | 398 | 401 | <li><code>tab\_header\_bg="#de5737"</code><?php |
  | 399 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 402 | echo wp\_kses\_post( $pro\_attribute ); |
  | 400 | 403 | ?> - CSS <code>background-color</code> for the active sitemap tab.</li> |
  | 401 | 404 | <li><code>tab\_color="#ffffff"</code><?php |
  | 402 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 405 | echo wp\_kses\_post( $pro\_attribute ); |
  | 403 | 406 | ?> - CSS <code>color</code> for the sitemap tab text.</li> |
  | 404 | 407 | </ul> |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L420) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L423) |  |
  | 420 | 423 | <li><code>num\_terms="0"</code> - Limit the number of taxonomy terms displayed.</li> |
  | 421 | 424 | <li><code>type="post"</code><?php |
  | 422 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 425 | echo wp\_kses\_post( $pro\_attribute ); |
  | 423 | 426 | ?> - List posts grouped by taxonomy from ANY post type.</li> |
  | 424 | 427 | <li><code>term\_orderby="name"</code><?php |
  | 425 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 428 | echo wp\_kses\_post( $pro\_attribute ); |
  | 426 | 429 | ?> - Order post taxonomy term labels by title etc.</li> |
  | 427 | 430 | <li><code>term\_order="asc"</code><?php |
  | 428 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 431 | echo wp\_kses\_post( $pro\_attribute ); |
  | 429 | 432 | ?> - List taxonomy term labels in ascending, or descending order.</li> |
  | 430 | 433 | <li><code>separator="false"</code><?php |
  | 431 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 434 | echo wp\_kses\_post( $pro\_attribute ); |
  | 432 | 435 | ?> <em>(coming soon)</em> - Optionally render separator lines between sitemap items.</li> |
  | 433 | 436 | <li><code>image="false"</code><?php |
  | 434 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 437 | echo wp\_kses\_post( $pro\_attribute ); |
  | 435 | 438 | ?> - Optionally show the post featured image (if defined) next to each sitemap item.</li> |
  | 436 | 439 | <li><code>list\_icon="true"</code><?php |
  | 437 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 440 | echo wp\_kses\_post( $pro\_attribute ); |
  | 438 | 441 | ?> - Optionally display HTML bullet icons.</li> |
  | 439 | 442 | <li><code>include\_terms=""</code><?php |
  | 440 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 443 | echo wp\_kses\_post( $pro\_attribute ); |
  | 441 | 444 | ?> - Comma separated list of taxonomy terms to include.</li> |
  | 442 | 445 | <li><code>exclude\_terms=""</code><?php |
  | 443 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 446 | echo wp\_kses\_post( $pro\_attribute ); |
  | 444 | 447 | ?> - Comma separated list of taxonomy terms to exclude.</li> |
  | 445 | 448 | <li><code>visibility="true"</code><?php |
  | 446 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 449 | echo wp\_kses\_post( $pro\_attribute ); |
  | 447 | 450 | ?> - Control whether private posts/pages are displayed in the sitemap.</li> |
  | 448 | 451 | <li><code>num\_posts="-1"</code><?php |
  | 449 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 452 | echo wp\_kses\_post( $pro\_attribute ); |
  | 450 | 453 | ?> - Limit the number of posts outputted in the sitemap.</li> |
  | 451 | 454 | <li><code>nofollow="false"</code><?php |
  | 452 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 455 | echo wp\_kses\_post( $pro\_attribute ); |
  | 453 | 456 | ?> - Set to "true" to make sitemap links <a href="https://en.wikipedia.org/wiki/Nofollow" target="\_blank">nofollow</a>.</li> |
  | 454 | 457 | <li><code>taxonomy\_links="false"</code><?php |
  | 455 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 458 | echo wp\_kses\_post( $pro\_attribute ); |
  | 456 | 459 | ?> Show sitemap taxonomy items as links or plain text.</li> |
  | 457 | 460 | <li><code>term\_tag="h3"</code><?php |
  | 458 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 461 | echo wp\_kses\_post( $pro\_attribute ); |
  | 459 | 462 | ?> HTML tag for the term title.</li> |
  | 460 | 463 | <li><code>render\_class=""</code><?php |
  | 461 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 464 | echo wp\_kses\_post( $pro\_attribute ); |
  | 462 | 465 | ?> Add custom CSS class(es) to the sitemap container element.</li> |
  | 463 | 466 | <li><code>post\_type\_label\_font\_size=""</code><?php |
  | 464 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 467 | echo wp\_kses\_post( $pro\_attribute ); |
  | 465 | 468 | ?> - CSS <code>font-size</code> for the post type label (if displayed).</li> |
  | 466 | 469 | <li><code>sitemap\_item\_line\_height=""</code><?php |
  | 467 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 470 | echo wp\_kses\_post( $pro\_attribute ); |
  | 468 | 471 | ?> - CSS <code>line-height</code> for individual sitemap items.</li> |
  | 469 | 472 | <li><code>sitemap\_container\_margin=""</code><?php |
  | 470 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 473 | echo wp\_kses\_post( $pro\_attribute ); |
  | 471 | 474 | ?> - CSS <code>margin</code> for the sitemap container.</li> |
  | 472 | 475 | <li><code>exclude=""</code><?php |
  | 473 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 476 | echo wp\_kses\_post( $pro\_attribute ); |
  | 474 | 477 | ?> <em>(coming soon)</em> - Comma separated list of post IDs to exclude from the sitemap.</li> |
  | 475 | 478 | <li><code>include=""</code><?php |
  | 476 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 479 | echo wp\_kses\_post( $pro\_attribute ); |
  | 477 | 480 | ?> <em>(coming soon)</em> - Comma separated list of post IDs to include in the sitemap.</li> |
  | 478 | 481 | </ul> |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L482) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L485) |  |
  | 482 | 485 | <ul class="shortcode-attributes"> |
  | 483 | 486 | <li><code>taxonomy="category"</code><?php |
  | 484 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 487 | echo wp\_kses\_post( $pro\_attribute ); |
  | 485 | 488 | ?> - Taxonomy type.</li> |
  | 486 | 489 | <li><code>include=""</code><?php |
  | 487 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 490 | echo wp\_kses\_post( $pro\_attribute ); |
  | 488 | 491 | ?> - Comma separated list of taxonomy IDs to include in the sitemap only. Other taxonomies will be ignored.</li> |
  | 489 | 492 | <li><code>exclude=""</code><?php |
  | 490 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 493 | echo wp\_kses\_post( $pro\_attribute ); |
  | 491 | 494 | ?> - Comma separated list of taxonomy IDs to exclude from the sitemap.</li> |
  | 492 | 495 | <li><code>depth="0"</code><?php |
  | 493 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 496 | echo wp\_kses\_post( $pro\_attribute ); |
  | 494 | 497 | ?> - Controls indentation depth.</li> |
  | 495 | 498 | <li><code>child\_of="0"</code><?php |
  | 496 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 499 | echo wp\_kses\_post( $pro\_attribute ); |
  | 497 | 500 | ?> - Only show children of a specific category.</li> |
  | 498 | 501 | <li><code>title\_li=""</code><?php |
  | 499 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 502 | echo wp\_kses\_post( $pro\_attribute ); |
  | 500 | 503 | ?> - Text used for the list title element. Pass an empty string to disable.</li> |
  | 501 | 504 | <li><code>nofollow="false"</code><?php |
  | 502 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 505 | echo wp\_kses\_post( $pro\_attribute ); |
  | 503 | 506 | ?> - Set to "true" to make sitemap links <a href="https://en.wikipedia.org/wiki/Nofollow" target="\_blank">nofollow</a>.</li> |
  | 504 | 507 | <li><code>show\_count="false"</code><?php |
  | 505 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 508 | echo wp\_kses\_post( $pro\_attribute ); |
  | 506 | 509 | ?> - Display post counts when set to true.</li> |
  | 507 | 510 | <li><code>orderby="name"</code><?php |
  | 508 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 511 | echo wp\_kses\_post( $pro\_attribute ); |
  | 509 | 512 | ?> - Value to sort taxonomies by (name, id etc.).</li> |
  | 510 | 513 | <li><code>order="asc"</code><?php |
  | 511 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 514 | echo wp\_kses\_post( $pro\_attribute ); |
  | 512 | 515 | ?> - List taxonomies in ascending, or descending order.</li> |
  | 513 | 516 | <li><code>hide\_empty="0"</code><?php |
  | 514 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 517 | echo wp\_kses\_post( $pro\_attribute ); |
  | 515 | 518 | ?> - Hide empty taxonomies (accepts '0' or '1').</li> |
  | 516 | 519 | </ul> |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L520) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L523) |  |
  | 520 | 523 | <ul class="shortcode-attributes"> |
  | 521 | 524 | <li><code>menu=""</code><?php |
  | 522 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 525 | echo wp\_kses\_post( $pro\_attribute ); |
  | 523 | 526 | ?> - Menu to be displayed. specify the menu name, menu ID, slug, or object. e.g. <code>menu='Main Menu'</code>.</li> |
  | 524 | 527 | <li><code>container="false"</code><?php |
  | 525 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 528 | echo wp\_kses\_post( $pro\_attribute ); |
  | 526 | 529 | ?> - Whether to wrap the ul, and what to wrap it with. e.g. <code>"div"</code>. Also accepts <code>"false"</code>.</li> |
  | 527 | 530 | <li><code>menu\_class="simple-sitemap-nav-menu"</code><?php |
  | 528 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 531 | echo wp\_kses\_post( $pro\_attribute ); |
  | 529 | 532 | ?> - CSS class to use for the ul element which forms the menu.</li> |
  | 530 | 533 | <li><code>horizontal\_separator=", "</code><?php |
  | 531 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 534 | echo wp\_kses\_post( $pro\_attribute ); |
  | 532 | 535 | ?> - Separator character used when displaying menu items as a horizontal list.</li> |
  | 533 | 536 | <li><code>list\_icon="true"</code><?php |
  | 534 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 537 | echo wp\_kses\_post( $pro\_attribute ); |
  | 535 | 538 | ?> - Display list icon for each menu sitemap item.</li> |
  | 536 | 539 | <li><code>container\_class=""</code><?php |
  | 537 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 540 | echo wp\_kses\_post( $pro\_attribute ); |
  | 538 | 541 | ?> - Class applied to the menu container element.</li> |
  | 539 | 542 | <li><code>label=""</code><?php |
  | 540 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 543 | echo wp\_kses\_post( $pro\_attribute ); |
  | 541 | 544 | ?> - Text label displayed above menu items.</li> |
  | 542 | 545 | <li><code>exclude\_menu\_ids=""</code><?php |
  | 543 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 546 | echo wp\_kses\_post( $pro\_attribute ); |
  | 544 | 547 | ?> - Comma separated list of menu IDs to exclude from the sitemap..</li> |
  | 545 | 548 | <li><code>include\_menu\_ids=""</code><?php |
  | 546 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 549 | echo wp\_kses\_post( $pro\_attribute ); |
  | 547 | 550 | ?> - Comma separated list of menu IDs to include in the sitemap.</li> |
  | 548 | 551 | </ul> |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L552) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L555) |  |
  | 552 | 555 | <ul class="shortcode-attributes"> |
  | 553 | 556 | <li><code>child\_of="0"</code><?php |
  | 554 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 557 | echo wp\_kses\_post( $pro\_attribute ); |
  | 555 | 558 | ?> - Display only the sub-pages of a single page by ID. Default 0 (all pages).</li> |
  | 556 | 559 | <li><code>title\_li=""</code><?php |
  | 557 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 560 | echo wp\_kses\_post( $pro\_attribute ); |
  | 558 | 561 | ?> - Text used for the list title element. Pass an empty string to disable.</li> |
  | 559 | 562 | <li><code>nofollow="false"</code><?php |
  | 560 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 563 | echo wp\_kses\_post( $pro\_attribute ); |
  | 561 | 564 | ?> - Set to "true" to make sitemap links <a href="https://en.wikipedia.org/wiki/Nofollow" target="\_blank">nofollow</a>.</li> |
  | 562 | 565 | <li><code>post\_type="page"</code><?php |
  | 563 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 566 | echo wp\_kses\_post( $pro\_attribute ); |
  | 564 | 567 | ?> - Post type to query for.</li> |
  | 565 | 568 | <li><code>show\_excerpt="false"</code> - Optionally show post excerpt (if defined) under each sitemap item.</li> |
  | 566 | 569 | <li><code>page\_excerpt\_length="25"</code><?php |
  | 567 |  | echo ~~wp\_kses\_post( $pro\_attribute )~~ ; |
  |  | 570 | echo wp\_kses\_post( $pro\_attribute ); |
  | 568 | 571 | ?> - Trim page excerpt length to specific number of words.</li> |
  | 569 | 572 | </ul> |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L601) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L604) |  |
  | 601 | 604 |  |
  | 602 | 605 | <input type="text" class="exclude regular-text code" name="simple\_sitemap\_options[txt\_exclude\_parent\_pages]" value="<?php |
  | 603 |  | echo ~~esc\_attr( $options['txt\_exclude\_parent\_pages'] )~~ ; |
  |  | 606 | echo esc\_attr( $options['txt\_exclude\_parent\_pages'] ); |
  | 604 | 607 | ?>"> |
  | 605 | 608 |  |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L613) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L616) |  |
  | 613 | 616 | <td> |
  | 614 | 617 | <textarea name="simple\_sitemap\_options[txtar\_sitemap\_script]" rows="7" cols="50" type='textarea'><?php |
  | 615 |  | echo ~~esc\_textarea( $options['txtar\_sitemap\_script'] )~~ ; |
  |  | 618 | echo esc\_textarea( $options['txtar\_sitemap\_script'] ); |
  | 616 | 619 | ?></textarea> |
  | 617 | 620 | <p class="description">Add script into the box above to output an advanced sitemap.</p> |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L635) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L638) |  |
  | 635 | 638 |  |
  | 636 | 639 | <form action="<?php |
  | 637 |  | echo  esc\_attr( self::current\_url() ) ; |
  | 638 |  | // Current page url. |
  |  | 640 | echo esc\_attr( self::current\_url() ); |
  | 639 | 641 | ?>" method="post" id="simple-sitemap-reset-form" style="display:inline;"> |
  |  | 642 | <?php |
  |  | 643 | wp\_nonce\_field( 'simple\_sitemap\_reset\_action', 'simple\_sitemap\_reset\_nonce' ); |
  |  | 644 | ?> |
  | 640 | 645 | <div style="padding-bottom:10px;"><span id="simple-sitemap-reset"><a href="#">Reset plugin options</a><input type="hidden" name="reset\_options" value="true"></span></div> |
  | 641 | 646 | </form> |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L653) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L658) |  |
  | 653 | 658 |  |
  | 654 | 659 | <?php |
  | 655 |  | echo ~~wp\_kses\_post( $this->settings\_fw->try\_our\_other\_plugins( basename( $this->module\_roots['dir'] ) ) )~~ ; |
  |  | 660 | echo wp\_kses\_post( $this->settings\_fw->try\_our\_other\_plugins( basename( $this->module\_roots['dir'] ) ) ); |
  | 656 | 661 | ?> |
  | 657 | 662 |  |
  | 658 | 663 | <?php |
  | 659 |  | echo ~~wp\_kses\_post( $this->settings\_fw->subscribe\_to\_newsletter( 'http://eepurl.com/bXZmmD' ) )~~ ; |
  |  | 664 | echo wp\_kses\_post( $this->settings\_fw->subscribe\_to\_newsletter( 'http://eepurl.com/bXZmmD' ) ); |
  | 660 | 665 | ?> |
  | 661 | 666 |  |
  | 662 | 667 | <?php |
  | 663 |  | echo ~~wp\_kses\_post( $this->settings\_fw->keep\_in\_touch() )~~ ; |
  |  | 668 | echo wp\_kses\_post( $this->settings\_fw->keep\_in\_touch() ); |
  | 664 | 669 | ?> |
  | 665 | 670 |  |
  | 666 | 671 | <?php |
  | 667 |  | echo ~~wp\_kses\_post( $this->settings\_fw->report\_issues( admin\_url() . 'admin.php?page=simple-sitemap-menu-contact' ) )~~ ; |
  |  | 672 | echo wp\_kses\_post( $this->settings\_fw->report\_issues( admin\_url() . 'admin.php?page=simple-sitemap-menu-contact' ) ); |
  | 668 | 673 | ?> |
  | 669 | 674 | </table> |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L672) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L677) |  |
  | 672 | 677 | <?php |
  | 673 | 678 | } |
  | 674 |  |  |
  |  | 679 |  |
  | 675 | 680 | /\*\* |
  | 676 | 681 | \* Get URL of current page. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L678) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L683) |  |
  | 678 | 683 | \* @return string Current URL. |
  | 679 | 684 | \*/ |
  | 680 |  | public static function current\_url() |
  | 681 |  | { |
  |  | 685 | public static function current\_url() { |
  | 682 | 686 | return (( isset( $\_SERVER['HTTPS'] ) && $\_SERVER['HTTPS'] === 'on' ? 'https' : 'http' )) . '://' . wp\_unslash( $\_SERVER['HTTP\_HOST'] ) . wp\_unslash( $\_SERVER['REQUEST\_URI'] ); |
  | 683 | 687 | } |
  | 684 |  |  |
  |  | 688 |  |
  | 685 | 689 | /\*\* |
  | 686 | 690 | \* Get plugin option default settings. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L688) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L692) |  |
  | 688 | 692 | \* @return array the plugin options defaults. |
  | 689 | 693 | \*/ |
  | 690 |  | public static function get\_default\_plugin\_options() |
  | 691 |  | { |
  |  | 694 | public static function get\_default\_plugin\_options() { |
  | 692 | 695 | $defaults = array(); |
  | 693 | 696 | // Setup an array to store list of checkboxes that have a checkbox default set to 1. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L696) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L699) |  |
  | 696 | 699 | return Hooks::simple\_sitemap\_defaults( $defaults ); |
  | 697 | 700 | } |
  | 698 |  |  |
  |  | 701 |  |
  | 699 | 702 | /\*\* |
  | 700 | 703 | \* Get current plugin options. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L705) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L708) |  |
  | 705 | 708 | \* @return array the plugin options. |
  | 706 | 709 | \*/ |
  | 707 |  | public static function get\_plugin\_options() |
  | 708 |  | { |
  |  | 710 | public static function get\_plugin\_options() { |
  | 709 | 711 | $options = get\_option( 'simple\_sitemap\_options' ); |
  | 710 | 712 | $defaults = self::get\_default\_plugin\_options(); |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L712) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L714) |  |
  | 712 | 714 | $default\_on\_checkboxes\_arr = $defaults['default\_on\_checkboxes']; |
  | 713 | 715 | // Remove the OFF checkboxes array from the main defaults array. |
  | 714 |  | unset(~~$defaults['default\_on\_checkboxes']~~ ); |
  |  | 716 | unset($defaults['default\_on\_checkboxes']); |
  | 715 | 717 | if ( is\_array( $options ) ) { |
  | 716 | 718 | // Merge OFF checkboxes into main options array to add entries for empty checkboxes. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L723) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L725) |  |
  | 723 | 725 | // ); |
  | 724 | 726 | } |
  | 725 |  |  |
  |  | 727 |  |
  | 726 | 728 | /\*\* |
  | 727 | 729 | \* Filters the order of menu. |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L732) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L734) |  |
  | 732 | 734 | \* @todo Add this to the plugin framework. |
  | 733 | 735 | \*/ |
  | 734 |  | public function filter\_menu\_order( $custom ) |
  | 735 |  | { |
  | 736 |  | global  $submenu ; |
  | 737 |  | // selectively rearrange for 'tabs', and always for 'menu' . |
  | 738 |  | if ( SITEMAP\_FREEMIUS\_NAVIGATION === 'tabs' ) { |
  | 739 |  | // don't bother to rearrange unless the submenu page is displayed. |
  | 740 |  | if ( !isset( $\_GET['page'] ) || $\_GET['page'] !== $this->new\_features\_slug && $\_GET['page'] !== $this->welcome\_slug ) { |
  | 741 |  | return $custom; |
  | 742 |  | } |
  | 743 |  | } |
  |  | 736 | public function filter\_menu\_order( $custom ) { |
  |  | 737 | global $submenu; |
  | 744 | 738 | $parent\_slug = $this->custom\_plugin\_data->parent\_slug; |
  | 745 | 739 | $menu\_type = $this->custom\_plugin\_data->menu\_type; |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L751) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L745) |  |
  | 751 | 745 | // if global menu array is empty then don't try to re-index. This is typically empty when the Freemius |
  | 752 | 746 | // opt-in is displayed. |
  | 753 |  | if ( empty(~~$submenu[$parent\_slug]~~) ) { |
  |  | 747 | if ( empty( $submenu[$parent\_slug] ) ) { |
  | 754 | 748 | return $custom; |
  | 755 | 749 | } |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L786) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L780) |  |
  | 786 | 780 | // Only re-index new features page if menu type is 'sub'. |
  | 787 | 781 | if ( 'sub' === $menu\_type ) { |
  | 788 |  | // Only re-index if tabs are active and we're on new feature settings page OR tabs are not active. |
  | 789 |  |  |
  | 790 |  | if ( SITEMAP\_FREEMIUS\_NAVIGATION === 'tabs' && $\_GET['page'] === $this->new\_features\_slug || SITEMAP\_FREEMIUS\_NAVIGATION === 'menu' ) { |
  |  | 782 | if ( SITEMAP\_FREEMIUS\_NAVIGATION === 'menu' ) { |
  | 791 | 783 | // Find the next available index after the main settings page. |
  | 792 | 784 | $tmp\_parent\_index1 = $parent\_index; |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L796) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L788) |  |
  | 796 | 788 | // Move new features page to next position after main settings page. |
  | 797 | 789 | $submenu[$parent\_slug][$tmp\_parent\_index1] = $submenu[$parent\_slug][$subpage\_index1]; |
  | 798 |  | unset(~~$submenu[$parent\_slug][$subpage\_index1]~~ ); |
  |  | 790 | unset($submenu[$parent\_slug][$subpage\_index1]); |
  | 799 | 791 | ksort( $submenu[$parent\_slug] ); |
  | 800 | 792 | } |
  | 801 |  |  |
  | 802 | 793 | } |
  | 803 |  | // Only re-index welcome (about) page if tabs are active and we're on welcome settings page, OR tabs are not active. |
  | 804 |  |  |
  | 805 |  | if ( SITEMAP\_FREEMIUS\_NAVIGATION === 'tabs' && $\_GET['page'] === $this->welcome\_slug || SITEMAP\_FREEMIUS\_NAVIGATION === 'menu' ) { |
  |  | 794 | if ( SITEMAP\_FREEMIUS\_NAVIGATION === 'menu' ) { |
  | 806 | 795 | // Find the next available index after the pricing page unless tabs are active in which case get next. |
  | 807 | 796 | // Available index after main settings page. |
  | 808 |  |  |
  | 809 | 797 | if ( SITEMAP\_FREEMIUS\_NAVIGATION === 'tabs' ) { |
  | 810 | 798 | $tmp\_parent\_index2 = $parent\_index; |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L812) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L800) |  |
  | 812 | 800 | $tmp\_parent\_index2 = $pricingpage\_index; |
  | 813 | 801 | } |
  | 814 |  |  |
  | 815 | 802 | // $pricingpage\_index will be 0 when license has been activated |
  | 816 | 803 | // @todo perhaps better to always make the about page last menu item rather than dependent on pricing page (if it exists). |
  | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3037106#L823) | […](/browser/simple-sitemap/trunk/lib/classes/plugin-admin-pages/class-settings.php?rev=3099425#L810) |  |
  | 823 | 810 | // Move welcome page to next position after pricing/support forum page. |
  | 824 | 811 | $submenu[$parent\_slug][$tmp\_parent\_index2] = $submenu[$parent\_slug][$subpage\_index2]; |
  | 825 |  | unset(~~$submenu[$parent\_slug][$subpage\_index2]~~ ); |
  |  | 812 | unset($submenu[$parent\_slug][$subpage\_index2]); |
  | 826 | 813 | ksort( $submenu[$parent\_slug] ); |
  | 827 | 814 | } |
  | 828 |  |  |
  | 829 | 815 | return $custom; |
  | 830 | 816 | } |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3099425)
* [Zip Archive](?format=zip&new=3099425)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

