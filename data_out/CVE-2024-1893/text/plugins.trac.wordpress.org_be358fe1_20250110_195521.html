

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Feasy-property-listings%2Ftags%2F3.5.2%2Flib%2Fincludes%2Ffunctions.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=2991552 "Revision 2991552")
* [Next Revision](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030 "Revision 3055030") →
* [Blame](/browser/easy-property-listings/trunk/lib/includes/functions.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/easy-property-listings/tags/3.5.2/lib/includes/functions.php)

---

# [source:](/browser?order=name "Go to repository root") [easy-property-listings](/browser/easy-property-listings?order=name "View easy-property-listings")/[tags](/browser/easy-property-listings/tags?order=name "View tags")/[3.5.2](/browser/easy-property-listings/tags/3.5.2?order=name "View 3.5.2")/[lib](/browser/easy-property-listings/tags/3.5.2/lib?order=name "View lib")/[includes](/browser/easy-property-listings/tags/3.5.2/lib/includes?order=name "View includes")/[functions.php](/browser/easy-property-listings/tags/3.5.2/lib/includes/functions.php?order=name "View functions.php")

View diff against:

View revision:

| [Last change](/changeset/3034371/easy-property-listings/trunk/lib/includes/functions.php "View differences") on this file was [3034371](/changeset/3034371/ "View changeset 3034371"), checked in by mervb1, [11 months ago](/timeline?from=2024-02-12T07%3A14%3A17Z&precision=second "See timeline at 02/12/2024 07:14:17 AM") |
| --- |
| Easy Property Listings 3.5.2 Maintenance Release   * New: Added epl\_archive\_title\_post\_type archive page title post type filter. * Tweak: Google Maps now load asynchronous. * Tweak: Added check to identify 0 values so that it's not ignored by empty check when using epl\_get\_option function. * Tweak: Removed additional property category appearing in additional features list. |
| **File size:** 81.2 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Front End Functions |
| [4](#L4) | \* |
| [5](#L5) | \* @package     EPL |
| [6](#L6) | \* @subpackage  Functions/Global |
| [7](#L7) | \* @copyright   Copyright (c) 2020, Merv Barrett |
| [8](#L8) | \* @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License |
| [9](#L9) | \* @since       1.0 |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Exit if accessed directly. |
| [13](#L13) | if ( ! defined( 'ABSPATH' ) ) { |
| [14](#L14) | exit; |
| [15](#L15) | } |
| [16](#L16) |  |
| [17](#L17) | /\*\* |
| [18](#L18) | \* Get an option |
| [19](#L19) | \* |
| [20](#L20) | \* Looks to see if the specified setting exists, returns default if not |
| [21](#L21) | \* |
| [22](#L22) | \* @param string $key Meta key. |
| [23](#L23) | \* @param bool   $default Returns default if not set. |
| [24](#L24) | \* |
| [25](#L25) | \* @return mixed |
| [26](#L26) | \* |
| [27](#L27) | \* @since 2.2 |
| [28](#L28) | \* @since 3.5.2 Added check to identify 0 values so that it's not ignored by empty check. |
| [29](#L29) | \*/ |
| [30](#L30) | function epl\_get\_option( $key = '', $default = false ) { |
| [31](#L31) |  |
| [32](#L32) | global $epl\_settings; |
| [33](#L33) |  |
| [34](#L34) | // Check for zeros. |
| [35](#L35) | if ( isset( $epl\_settings[ $key ] ) && is\_numeric( $epl\_settings[ $key ] ) && 0 === (int) $epl\_settings[ $key ] ) { |
| [36](#L36) | $value = 0; |
| [37](#L37) | } else { |
| [38](#L38) | // Preserve empty check for rest of the values to preserve the behaviour: if value empty, then return default. |
| [39](#L39) | $value = ! empty( $epl\_settings[ $key ] ) ? $epl\_settings[ $key ] : $default; |
| [40](#L40) | } |
| [41](#L41) |  |
| [42](#L42) | $value = apply\_filters( 'epl\_get\_option', $value, $key, $default ); |
| [43](#L43) | return apply\_filters( 'epl\_get\_option\_' . $key, $value, $key, $default ); |
| [44](#L44) |  |
| [45](#L45) | } |
| [46](#L46) |  |
| [47](#L47) | /\*\* |
| [48](#L48) | \* Determine if Divi framework is loaded |
| [49](#L49) | \* |
| [50](#L50) | \* @since 3.1 |
| [51](#L51) | \*/ |
| [52](#L52) | function epl\_is\_divi\_framework\_theme() { |
| [53](#L53) | if ( function\_exists( 'et\_divi\_fonts\_url' ) ) { |
| [54](#L54) | return true; |
| [55](#L55) | } |
| [56](#L56) | return false; |
| [57](#L57) | } |
| [58](#L58) |  |
| [59](#L59) | /\*\* |
| [60](#L60) | \* Determine if iThemes Builder framework is loaded |
| [61](#L61) | \* |
| [62](#L62) | \* @since 1.0 |
| [63](#L63) | \*/ |
| [64](#L64) | function epl\_is\_builder\_framework\_theme() { |
| [65](#L65) | if ( function\_exists( 'it\_classes\_load' ) ) { |
| [66](#L66) | return true; |
| [67](#L67) | } |
| [68](#L68) | return false; |
| [69](#L69) | } |
| [70](#L70) |  |
| [71](#L71) | /\*\* |
| [72](#L72) | \* Determine if Genesis framework is loaded |
| [73](#L73) | \* |
| [74](#L74) | \* @since 1.0 |
| [75](#L75) | \*/ |
| [76](#L76) | function epl\_is\_genesis\_framework\_theme() { |
| [77](#L77) | if ( function\_exists( 'genesis\_constants' ) ) { |
| [78](#L78) | return true; |
| [79](#L79) | } |
| [80](#L80) | return false; |
| [81](#L81) | } |
| [82](#L82) |  |
| [83](#L83) | /\*\* |
| [84](#L84) | \* Determine if TwentyTwenty is loaded |
| [85](#L85) | \* |
| [86](#L86) | \* @since 3.4.14 |
| [87](#L87) | \*/ |
| [88](#L88) | function epl\_is\_twenty\_twenty\_theme() { |
| [89](#L89) | if ( function\_exists( 'twentytwenty\_theme\_support' ) ) { |
| [90](#L90) | return true; |
| [91](#L91) | } |
| [92](#L92) | return false; |
| [93](#L93) | } |
| [94](#L94) |  |
| [95](#L95) | /\*\* |
| [96](#L96) | \* Determine if Avada is loaded |
| [97](#L97) | \* |
| [98](#L98) | \* @since 3.4.26 |
| [99](#L99) | \*/ |
| [100](#L100) | function epl\_is\_avada\_theme() { |
| [101](#L101) | if ( function\_exists( 'Avada' ) ) { |
| [102](#L102) | return true; |
| [103](#L103) | } |
| [104](#L104) | return false; |
| [105](#L105) | } |
| [106](#L106) |  |
| [107](#L107) | /\*\* |
| [108](#L108) | \* Used in the widgets by appending the registered image sizes |
| [109](#L109) | \* |
| [110](#L110) | \* @since 1.0 |
| [111](#L111) | \* @since 3.4.24 Added full size in array. |
| [112](#L112) | \*/ |
| [113](#L113) | function epl\_get\_thumbnail\_sizes() { |
| [114](#L114) | global $\_wp\_additional\_image\_sizes; |
| [115](#L115) | $sizes = array( |
| [116](#L116) | 'full' => array(), |
| [117](#L117) | ); |
| [118](#L118) | foreach ( get\_intermediate\_image\_sizes() as $s ) { |
| [119](#L119) | $sizes[ $s ] = array( 0, 0 ); |
| [120](#L120) | if ( in\_array( $s, array( 'thumbnail', 'medium', 'large' ), true ) ) { |
| [121](#L121) | $sizes[ $s ][0] = get\_option( $s . '\_size\_w' ); |
| [122](#L122) | $sizes[ $s ][1] = get\_option( $s . '\_size\_h' ); |
| [123](#L123) | } else { |
| [124](#L124) | if ( isset( $\_wp\_additional\_image\_sizes ) && isset( $\_wp\_additional\_image\_sizes[ $s ] ) ) { |
| [125](#L125) | $sizes[ $s ] = array( $\_wp\_additional\_image\_sizes[ $s ]['width'], $\_wp\_additional\_image\_sizes[ $s ]['height'] ); |
| [126](#L126) | } |
| [127](#L127) | } |
| [128](#L128) | } |
| [129](#L129) | return $sizes; |
| [130](#L130) | } |
| [131](#L131) |  |
| [132](#L132) | /\*\* |
| [133](#L133) | \* Remote get function |
| [134](#L134) | \* |
| [135](#L135) | \* @param string $url Url. |
| [136](#L136) | \* |
| [137](#L137) | \* @return string |
| [138](#L138) | \* @since 3.3.5 Removed curl. |
| [139](#L139) | \* @since 1.0 |
| [140](#L140) | \*/ |
| [141](#L141) | function epl\_remote\_url\_get( $url ) { |
| [142](#L142) |  |
| [143](#L143) | $response = wp\_remote\_get( $url ); |
| [144](#L144) | return wp\_remote\_retrieve\_body( $response ); |
| [145](#L145) | } |
| [146](#L146) |  |
| [147](#L147) | /\*\* |
| [148](#L148) | \* Register post type to EPL and WordPress |
| [149](#L149) | \* |
| [150](#L150) | \* @param string $post\_type Post type name. |
| [151](#L151) | \* @param string $post\_type\_label Post type label. |
| [152](#L152) | \* @param array  $args Arguments. |
| [153](#L153) | \* |
| [154](#L154) | \* @since 1.0.0 |
| [155](#L155) | \* @since 3.4.20 flush permalinks after new settings are saved. |
| [156](#L156) | \* @since 3.4.26 Set $post\_type\_label to blank by default. |
| [157](#L157) | \*/ |
| [158](#L158) | function epl\_register\_post\_type( $post\_type = '', $post\_type\_label = '', $args = array() ) { |
| [159](#L159) | if ( empty( $post\_type ) ) { |
| [160](#L160) | return; |
| [161](#L161) | } |
| [162](#L162) |  |
| [163](#L163) | global $epl\_settings; |
| [164](#L164) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['activate\_post\_types'] ) ) { |
| [165](#L165) | $epl\_activate\_post\_types = $epl\_settings['activate\_post\_types']; |
| [166](#L166) | if ( ! empty( $epl\_activate\_post\_types ) ) { |
| [167](#L167) | if ( in\_array( $post\_type, $epl\_activate\_post\_types, true ) ) { |
| [168](#L168) | global $epl\_active\_post\_types; |
| [169](#L169) | if ( ! isset( $epl\_active\_post\_types ) ) { |
| [170](#L170) | $epl\_active\_post\_types = array(); |
| [171](#L171) | } |
| [172](#L172) | $epl\_active\_post\_types[ $post\_type ] = $post\_type\_label; |
| [173](#L173) | register\_post\_type( $post\_type, $args ); |
| [174](#L174) | } |
| [175](#L175) | } |
| [176](#L176) | } |
| [177](#L177) |  |
| [178](#L178) | if ( isset( $\_REQUEST['action'] ) && 'epl\_settings' === $\_REQUEST['action'] ) { //phpcs:ignore |
| [179](#L179) | update\_option( 'epl\_rewrite\_rules', false ); |
| [180](#L180) | } |
| [181](#L181) | } |
| [182](#L182) |  |
| [183](#L183) | /\*\* |
| [184](#L184) | \* Return all the post types that are selected as active by admin |
| [185](#L185) | \* |
| [186](#L186) | \* @since 1.0 |
| [187](#L187) | \*/ |
| [188](#L188) | function epl\_get\_active\_post\_types() { |
| [189](#L189) | global $epl\_active\_post\_types; |
| [190](#L190) | if ( is\_null( $epl\_active\_post\_types ) ) { |
| [191](#L191) | $epl\_active\_post\_types = array(); |
| [192](#L192) | } |
| [193](#L193) | return $epl\_active\_post\_types; |
| [194](#L194) | } |
| [195](#L195) |  |
| [196](#L196) | /\*\* |
| [197](#L197) | \* Return all the post types doesn't matter if selected as active or not by admin |
| [198](#L198) | \* |
| [199](#L199) | \* @since 1.0 |
| [200](#L200) | \*/ |
| [201](#L201) | function epl\_get\_post\_types() { |
| [202](#L202) | $epl\_post\_types = array( |
| [203](#L203) | 'property'        => \_\_( 'Property (Residential)', 'easy-property-listings' ), |
| [204](#L204) | 'land'            => \_\_( 'Land', 'easy-property-listings' ), |
| [205](#L205) | 'rental'          => \_\_( 'Rental', 'easy-property-listings' ), |
| [206](#L206) | 'rural'           => \_\_( 'Rural', 'easy-property-listings' ), |
| [207](#L207) | 'commercial'      => \_\_( 'Commercial', 'easy-property-listings' ), |
| [208](#L208) | 'commercial\_land' => \_\_( 'Commercial Land', 'easy-property-listings' ), |
| [209](#L209) | 'business'        => \_\_( 'Business', 'easy-property-listings' ), |
| [210](#L210) | ); |
| [211](#L211) | // allow 3rd party extensions to add custom posts as a part of epl. |
| [212](#L212) | return apply\_filters( 'epl\_post\_types', $epl\_post\_types ); |
| [213](#L213) | } |
| [214](#L214) |  |
| [215](#L215) | /\*\* |
| [216](#L216) | \* Get Currencies |
| [217](#L217) | \* |
| [218](#L218) | \* @since 1.0 |
| [219](#L219) | \* @return array $currencies A list of the available currencies |
| [220](#L220) | \* @since 3.4.48 Support for Namibian dollar. |
| [221](#L221) | \*/ |
| [222](#L222) | function epl\_get\_currencies() { |
| [223](#L223) | $currencies = array( |
| [224](#L224) | 'AUD'  => \_\_( 'Australian Dollars (&#36;)', 'easy-property-listings' ), |
| [225](#L225) | 'USD'  => \_\_( 'US Dollars (&#36;)', 'easy-property-listings' ), |
| [226](#L226) | 'EUR'  => \_\_( 'Euros (&euro;)', 'easy-property-listings' ), |
| [227](#L227) | 'GBP'  => \_\_( 'Pounds Sterling (&pound;)', 'easy-property-listings' ), |
| [228](#L228) | 'BRL'  => \_\_( 'Brazilian Real (R&#36;)', 'easy-property-listings' ), |
| [229](#L229) | 'CAD'  => \_\_( 'Canadian Dollars (&#36;)', 'easy-property-listings' ), |
| [230](#L230) | 'CZK'  => \_\_( 'Czech Koruna', 'easy-property-listings' ), |
| [231](#L231) | 'DKK'  => \_\_( 'Danish Krone', 'easy-property-listings' ), |
| [232](#L232) | 'HKD'  => \_\_( 'Hong Kong Dollar (&#36;)', 'easy-property-listings' ), |
| [233](#L233) | 'HUF'  => \_\_( 'Hungarian Forint', 'easy-property-listings' ), |
| [234](#L234) | 'INR'  => \_\_( 'Indian Rupee (&#8377;)', 'easy-property-listings' ), |
| [235](#L235) | 'RIAL' => \_\_( 'Iranian Rial (&#65020;)', 'easy-property-listings' ), |
| [236](#L236) | 'ILS'  => \_\_( 'Israeli Shekel (&#8362;)', 'easy-property-listings' ), |
| [237](#L237) | 'JPY'  => \_\_( 'Japanese Yen (&yen;)', 'easy-property-listings' ), |
| [238](#L238) | 'MYR'  => \_\_( 'Malaysian Ringgits', 'easy-property-listings' ), |
| [239](#L239) | 'MXN'  => \_\_( 'Mexican Peso (&#36;)', 'easy-property-listings' ), |
| [240](#L240) | 'NAD'  => \_\_( 'Namibian Dollar (&#36;)', 'easy-property-listings' ), |
| [241](#L241) | 'NZD'  => \_\_( 'New Zealand Dollar (&#36;)', 'easy-property-listings' ), |
| [242](#L242) | 'NOK'  => \_\_( 'Norwegian Krone', 'easy-property-listings' ), |
| [243](#L243) | 'PHP'  => \_\_( 'Philippine Pesos', 'easy-property-listings' ), |
| [244](#L244) | 'PLN'  => \_\_( 'Polish Zloty', 'easy-property-listings' ), |
| [245](#L245) | 'PKR'  => \_\_( 'Pakistani Rupee', 'easy-property-listings' ), |
| [246](#L246) | 'QAR'  => \_\_( 'Qatar Riyal (QAR)', 'easy-property-listings' ), |
| [247](#L247) | 'SGD'  => \_\_( 'Singapore Dollar (&#36;)', 'easy-property-listings' ), |
| [248](#L248) | 'ZAR'  => \_\_( 'South African Rand (R)', 'easy-property-listings' ), |
| [249](#L249) | 'SEK'  => \_\_( 'Swedish Krona', 'easy-property-listings' ), |
| [250](#L250) | 'CHF'  => \_\_( 'Swiss Franc', 'easy-property-listings' ), |
| [251](#L251) | 'TWD'  => \_\_( 'Taiwan New Dollars', 'easy-property-listings' ), |
| [252](#L252) | 'THB'  => \_\_( 'Thai Baht (&#3647;)', 'easy-property-listings' ), |
| [253](#L253) | 'TRY'  => \_\_( 'Turkish Lira (&#8378;)', 'easy-property-listings' ), |
| [254](#L254) | 'RUB'  => \_\_( 'Russian Rubles', 'easy-property-listings' ), |
| [255](#L255) | 'AED'  => \_\_( 'United Arab Emirates, Dirham (AED)', 'easy-property-listings' ), |
| [256](#L256) | 'UAH'  => \_\_( 'Ukrainian Hryvnia (&#8372;)', 'easy-property-listings' ), |
| [257](#L257) | 'VND'  => \_\_( 'Vietnamese đồng (&#8363;)', 'easy-property-listings' ), |
| [258](#L258) | ); |
| [259](#L259) | return apply\_filters( 'epl\_get\_currencies', $currencies ); |
| [260](#L260) | } |
| [261](#L261) |  |
| [262](#L262) | /\*\* |
| [263](#L263) | \* Get the store's set currency |
| [264](#L264) | \* |
| [265](#L265) | \* @since 1.0 |
| [266](#L266) | \* @return string The currency code |
| [267](#L267) | \*/ |
| [268](#L268) | function epl\_get\_currency() { |
| [269](#L269) | $epl\_currency = ''; |
| [270](#L270) |  |
| [271](#L271) | global $epl\_settings; |
| [272](#L272) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['currency'] ) ) { |
| [273](#L273) | $epl\_currency = $epl\_settings['currency']; |
| [274](#L274) | } |
| [275](#L275) | return apply\_filters( 'epl\_currency', $epl\_currency ); |
| [276](#L276) | } |
| [277](#L277) |  |
| [278](#L278) | /\*\* |
| [279](#L279) | \* Get the currency position |
| [280](#L280) | \* |
| [281](#L281) | \* @since 1.0 |
| [282](#L282) | \* @return string The currency symbol position |
| [283](#L283) | \*/ |
| [284](#L284) | function epl\_get\_currency\_position() { |
| [285](#L285) | $epl\_currency\_position = ''; |
| [286](#L286) |  |
| [287](#L287) | global $epl\_settings; |
| [288](#L288) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['currency\_position'] ) ) { |
| [289](#L289) | $epl\_currency\_position = $epl\_settings['currency\_position']; |
| [290](#L290) | } |
| [291](#L291) | return apply\_filters( 'epl\_currency\_position', $epl\_currency\_position ); |
| [292](#L292) | } |
| [293](#L293) |  |
| [294](#L294) | /\*\* |
| [295](#L295) | \* Get the currency thousands separator |
| [296](#L296) | \* |
| [297](#L297) | \* @since 1.0 |
| [298](#L298) | \* @return string The currency thousands separator |
| [299](#L299) | \*/ |
| [300](#L300) | function epl\_get\_thousands\_separator() { |
| [301](#L301) | $epl\_thousands\_separator = ''; |
| [302](#L302) |  |
| [303](#L303) | global $epl\_settings; |
| [304](#L304) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['currency\_thousands\_separator'] ) ) { |
| [305](#L305) | $epl\_thousands\_separator = $epl\_settings['currency\_thousands\_separator']; |
| [306](#L306) | } |
| [307](#L307) | return apply\_filters( 'epl\_thousands\_separator', $epl\_thousands\_separator ); |
| [308](#L308) | } |
| [309](#L309) |  |
| [310](#L310) | /\*\* |
| [311](#L311) | \* Get the currency decimal separator |
| [312](#L312) | \* |
| [313](#L313) | \* @since 1.0 |
| [314](#L314) | \* @return string The currency decimal separator |
| [315](#L315) | \*/ |
| [316](#L316) | function epl\_get\_decimal\_separator() { |
| [317](#L317) | $epl\_decimal\_separator = ''; |
| [318](#L318) |  |
| [319](#L319) | global $epl\_settings; |
| [320](#L320) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['currency\_decimal\_separator'] ) ) { |
| [321](#L321) | $epl\_decimal\_separator = $epl\_settings['currency\_decimal\_separator']; |
| [322](#L322) | } |
| [323](#L323) | return apply\_filters( 'epl\_decimal\_separator', $epl\_decimal\_separator ); |
| [324](#L324) | } |
| [325](#L325) |  |
| [326](#L326) | /\*\* |
| [327](#L327) | \* Get the currency formatted amount |
| [328](#L328) | \* |
| [329](#L329) | \* @param integer $price The price. |
| [330](#L330) | \* |
| [331](#L331) | \* @return string Currency Formatted price |
| [332](#L332) | \* @since 1.0 |
| [333](#L333) | \*/ |
| [334](#L334) | function epl\_currency\_formatted\_amount( $price ) { |
| [335](#L335) | $price\_format           = apply\_filters( 'epl\_price\_number\_format', 'number' ); |
| [336](#L336) | $price\_format\_com\_lease = apply\_filters( 'epl\_price\_number\_format\_commercial\_lease', 'number' ); |
| [337](#L337) |  |
| [338](#L338) | if ( 'decimal' === $price\_format || 'decimal' === $price\_format\_com\_lease ) { |
| [339](#L339) | return epl\_currency\_filter( epl\_format\_amount( $price, true ) ); |
| [340](#L340) | } else { |
| [341](#L341) | return epl\_currency\_filter( epl\_format\_amount( $price, false ) ); |
| [342](#L342) | } |
| [343](#L343) | } |
| [344](#L344) |  |
| [345](#L345) | /\*\* |
| [346](#L346) | \* Get labels |
| [347](#L347) | \* |
| [348](#L348) | \* @param integer $key Settings meta key. |
| [349](#L349) | \* @return string |
| [350](#L350) | \* |
| [351](#L351) | \* @since 2.2 |
| [352](#L352) | \* @since 3.5.0 New: Display hidden field option. |
| [353](#L353) | \*/ |
| [354](#L354) | function epl\_labels( $key ) { |
| [355](#L355) | global $epl\_settings; |
| [356](#L356) | $field\_groups = epl\_get\_admin\_option\_fields(); |
| [357](#L357) | $epl\_labels   = array(); |
| [358](#L358) | foreach ( $field\_groups as $field\_group ) { |
| [359](#L359) | if ( 'labels' === $field\_group['id'] || 'address' === $field\_group['id'] ) { |
| [360](#L360) | $epl\_labels = array\_merge( $epl\_labels, array\_filter( $field\_group['fields'] ) ); |
| [361](#L361) | } |
| [362](#L362) | } |
| [363](#L363) | foreach ( $epl\_labels as $label\_key   => $label ) { |
| [364](#L364) |  |
| [365](#L365) | if ( isset( $label['default'] ) && $key === $label['name'] ) { |
| [366](#L366) |  |
| [367](#L367) | $label = isset( $epl\_settings[ $key ] ) ? $epl\_settings[ $key ] : $label['default']; |
| [368](#L368) |  |
| [369](#L369) | return apply\_filters( 'epl\_display\_' . $key, $label ); |
| [370](#L370) | } |
| [371](#L371) | } |
| [372](#L372) | } |
| [373](#L373) |  |
| [374](#L374) | /\*\* |
| [375](#L375) | \* Display or retrieve the current listing address based on user display selection with optional markup. |
| [376](#L376) | \* |
| [377](#L377) | \* @since 3.3 |
| [378](#L378) | \* |
| [379](#L379) | \* @param string $before   Optional. Markup to prepend to the title. Default empty. |
| [380](#L380) | \* @param string $after    Optional. Markup to append to the title. Default empty. |
| [381](#L381) | \* @param bool   $country  Optional. Whether to echo or return country. Default false for country. |
| [382](#L382) | \* @param bool   $echo     Optional. Whether to echo or return the title. Default true for echo. |
| [383](#L383) | \* @return string|void Current post title if $echo is false. |
| [384](#L384) | \*/ |
| [385](#L385) | function epl\_the\_address( $before = '', $after = '', $country = false, $echo = true ) { |
| [386](#L386) | $address = epl\_get\_the\_address(); |
| [387](#L387) |  |
| [388](#L388) | if ( strlen( $address ) === 0 ) { |
| [389](#L389) | return; |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | $address = $before . $address . $after; |
| [393](#L393) |  |
| [394](#L394) | if ( $echo ) { |
| [395](#L395) | echo wp\_kses\_post( $address ); |
| [396](#L396) | } else { |
| [397](#L397) | return $address; |
| [398](#L398) | } |
| [399](#L399) | } |
| [400](#L400) |  |
| [401](#L401) | /\*\* |
| [402](#L402) | \* Retrieve address based on user display selection. |
| [403](#L403) | \* |
| [404](#L404) | \* @param array $address\_args Address components. |
| [405](#L405) | \* @param array $sep          Override default separators for each address components here. |
| [406](#L406) | \* @param bool  $country      Return country with true, default false. |
| [407](#L407) | \* @param array $prefix       Customise the prefix for each address component. |
| [408](#L408) | \* |
| [409](#L409) | \* @return string |
| [410](#L410) | \* @since 3.3 |
| [411](#L411) | \* @since 3.4.27 Added support for prefix. |
| [412](#L412) | \*/ |
| [413](#L413) | function epl\_get\_the\_address( $address\_args = array(), $sep = array(), $country = false, $prefix = array() ) { |
| [414](#L414) |  |
| [415](#L415) | $address = ''; |
| [416](#L416) |  |
| [417](#L417) | $address\_defaults = array( |
| [418](#L418) | 'sub\_number'    => '/', |
| [419](#L419) | 'lot\_number'    => ' ', |
| [420](#L420) | 'street\_number' => ' ', |
| [421](#L421) | 'street'        => ', ', |
| [422](#L422) | 'suburb'        => ' ', |
| [423](#L423) | 'city'          => ' ', |
| [424](#L424) | 'state'         => ' ', |
| [425](#L425) | 'postal\_code'   => ' ', |
| [426](#L426) | 'country'       => ' ', |
| [427](#L427) | ); |
| [428](#L428) |  |
| [429](#L429) | $prefix\_defaults = array( |
| [430](#L430) | 'sub\_number'    => '', |
| [431](#L431) | 'lot\_number'    => '', |
| [432](#L432) | 'street\_number' => '', |
| [433](#L433) | 'street'        => '', |
| [434](#L434) | 'suburb'        => '', |
| [435](#L435) | 'city'          => '', |
| [436](#L436) | 'state'         => '', |
| [437](#L437) | 'postal\_code'   => '', |
| [438](#L438) | 'country'       => '', |
| [439](#L439) | ); |
| [440](#L440) |  |
| [441](#L441) | // Override default separators for address components. |
| [442](#L442) | $seps = array\_merge( $address\_defaults, $sep ); |
| [443](#L443) |  |
| [444](#L444) | $prefix = array\_merge( $prefix\_defaults, $prefix ); |
| [445](#L445) |  |
| [446](#L446) | // Output the full address based on user selection. |
| [447](#L447) | if ( empty( $address\_args ) ) { |
| [448](#L448) | $address\_args = array\_keys( $address\_defaults ); |
| [449](#L449) | } |
| [450](#L450) |  |
| [451](#L451) | foreach ( $address\_args as $arg ) { |
| [452](#L452) |  |
| [453](#L453) | if ( isset( $address\_defaults[ $arg ] ) ) { |
| [454](#L454) |  |
| [455](#L455) | if ( 'yes' !== get\_property\_meta( 'property\_address\_display' ) && in\_array( $arg, array( 'sub\_number', 'lot\_number', 'street\_number', 'street' ), true ) ) { |
| [456](#L456) | continue; |
| [457](#L457) | } |
| [458](#L458) |  |
| [459](#L459) | // Country hidden by default. |
| [460](#L460) | if ( true !== $country && in\_array( $arg, array( 'country' ), true ) ) { |
| [461](#L461) | continue; |
| [462](#L462) | } |
| [463](#L463) |  |
| [464](#L464) | $value = get\_property\_meta( 'property\_address\_' . $arg ); |
| [465](#L465) |  |
| [466](#L466) | if ( ! empty( $value ) ) { |
| [467](#L467) | $address .= $prefix[ $arg ] . get\_property\_meta( 'property\_address\_' . $arg ) . $seps[ $arg ]; |
| [468](#L468) | } |
| [469](#L469) | } |
| [470](#L470) | } |
| [471](#L471) |  |
| [472](#L472) | /\*\* |
| [473](#L473) | \* Filters the post title. |
| [474](#L474) | \* |
| [475](#L475) | \* @since 3.3 |
| [476](#L476) | \* |
| [477](#L477) | \* @param string $title The listing address. |
| [478](#L478) | \* @param int    $id    The post ID. |
| [479](#L479) | \*/ |
| [480](#L480) | return apply\_filters( 'epl\_the\_address', $address ); |
| [481](#L481) | } |
| [482](#L482) |  |
| [483](#L483) | /\*\* |
| [484](#L484) | \* Display or retrieve the listing status label with optional markup. |
| [485](#L485) | \* |
| [486](#L486) | \* @since 3.3 |
| [487](#L487) | \* |
| [488](#L488) | \* @param string $before Output string before. |
| [489](#L489) | \* @param string $after Output string after. |
| [490](#L490) | \* @param bool   $echo Echo the result. |
| [491](#L491) | \* @return string/list for values |
| [492](#L492) | \*/ |
| [493](#L493) | function epl\_the\_status( $before = '', $after = '', $echo = true ) { |
| [494](#L494) | $status = epl\_get\_the\_status(); |
| [495](#L495) |  |
| [496](#L496) | $status\_opts = epl\_get\_property\_status\_opts(); |
| [497](#L497) |  |
| [498](#L498) | if ( strlen( $status ) === 0 ) { |
| [499](#L499) | return; |
| [500](#L500) | } |
| [501](#L501) |  |
| [502](#L502) | $status = $before . $status\_opts[ $status ] . $after; |
| [503](#L503) |  |
| [504](#L504) | if ( $echo ) { |
| [505](#L505) | echo wp\_kses\_post( $status ); |
| [506](#L506) | } else { |
| [507](#L507) | return $status; |
| [508](#L508) | } |
| [509](#L509) | } |
| [510](#L510) |  |
| [511](#L511) | /\*\* |
| [512](#L512) | \* Retrieve listing status. |
| [513](#L513) | \* |
| [514](#L514) | \* @since 3.3 |
| [515](#L515) | \* |
| [516](#L516) | \* @param int|WP\_Post $post Optional. Post ID or WP\_Post object. Default is global $post. |
| [517](#L517) | \* @return string |
| [518](#L518) | \*/ |
| [519](#L519) | function epl\_get\_the\_status( $post = 0 ) { |
| [520](#L520) |  |
| [521](#L521) | $post = get\_post( $post ); |
| [522](#L522) |  |
| [523](#L523) | $status = get\_property\_meta( 'property\_status' ); |
| [524](#L524) | $status = isset( $status ) ? $status : ''; |
| [525](#L525) | $id     = isset( $post->ID ) ? $post->ID : 0; |
| [526](#L526) |  |
| [527](#L527) | /\*\* |
| [528](#L528) | \* Filters the status. |
| [529](#L529) | \* |
| [530](#L530) | \* @since 3.3 |
| [531](#L531) | \* |
| [532](#L532) | \* @param string $title The listing status. |
| [533](#L533) | \* @param int    $id    The post ID. |
| [534](#L534) | \*/ |
| [535](#L535) | return apply\_filters( 'epl\_get\_the\_status', $status, $id ); |
| [536](#L536) | } |
| [537](#L537) |  |
| [538](#L538) | /\*\* |
| [539](#L539) | \* Get EPL property meta data based on post id |
| [540](#L540) | \* |
| [541](#L541) | \* @since 1.0 |
| [542](#L542) | \* @param string $post\_ID The post ID. |
| [543](#L543) | \* @param string $meta\_key Meta key name. |
| [544](#L544) | \* @return string Value. |
| [545](#L545) | \*/ |
| [546](#L546) | function epl\_get\_property\_meta( $post\_ID = '', $meta\_key = '' ) { |
| [547](#L547) |  |
| [548](#L548) | if ( empty( $post\_ID ) ) { |
| [549](#L549) | $post\_ID = get\_the\_ID(); |
| [550](#L550) | } |
| [551](#L551) |  |
| [552](#L552) | if ( ! empty( $meta\_key ) ) { |
| [553](#L553) | $meta\_value = trim( get\_post\_meta( $post\_ID, $meta\_key, true ) ); |
| [554](#L554) | } else { |
| [555](#L555) | $meta\_value = get\_post\_meta( $post\_ID, $meta\_key ); |
| [556](#L556) | } |
| [557](#L557) | return apply\_filters( 'epl\_get\_property\_meta\_filter', $meta\_value ); |
| [558](#L558) | } |
| [559](#L559) |  |
| [560](#L560) | /\*\* |
| [561](#L561) | \* Print EPL property meta data |
| [562](#L562) | \* |
| [563](#L563) | \* @param string $post\_ID The post ID. |
| [564](#L564) | \* @param string $meta\_key Meta key name. |
| [565](#L565) | \* |
| [566](#L566) | \* @since 1.0.0 |
| [567](#L567) | \* @since 3.4.26 Set $meta\_key variable as blank. |
| [568](#L568) | \*/ |
| [569](#L569) | function epl\_the\_property\_meta( $post\_ID = '', $meta\_key = '' ) { |
| [570](#L570) | $meta\_value = epl\_get\_property\_meta( $post\_ID, $meta\_key ); |
| [571](#L571) | echo wp\_kses\_post( apply\_filters( 'epl\_the\_property\_meta\_filter', $meta\_value ) ); |
| [572](#L572) | } |
| [573](#L573) |  |
| [574](#L574) | /\*\* |
| [575](#L575) | \* Taxonomy Location Label |
| [576](#L576) | \* |
| [577](#L577) | \* @since 1.0 |
| [578](#L578) | \* @return string Location label. |
| [579](#L579) | \*/ |
| [580](#L580) | function epl\_tax\_location\_label() { |
| [581](#L581) | $label\_location = ''; |
| [582](#L582) | global $epl\_settings; |
| [583](#L583) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['label\_location'] ) ) { |
| [584](#L584) | $label\_location = trim( $epl\_settings['label\_location'] ); |
| [585](#L585) | } |
| [586](#L586) | if ( empty( $label\_location ) ) { |
| [587](#L587) | $label\_location = \_\_( 'City', 'easy-property-listings' ); |
| [588](#L588) | } |
| [589](#L589) | return $label\_location; |
| [590](#L590) | } |
| [591](#L591) |  |
| [592](#L592) | /\*\* |
| [593](#L593) | \* Location Label |
| [594](#L594) | \* |
| [595](#L595) | \* @since 1.0 |
| [596](#L596) | \* @return string Location label. |
| [597](#L597) | \*/ |
| [598](#L598) | function epl\_meta\_location\_label() { |
| [599](#L599) | $label\_location = ''; |
| [600](#L600) | global $epl\_settings; |
| [601](#L601) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['label\_suburb'] ) ) { |
| [602](#L602) | $label\_location = trim( $epl\_settings['label\_suburb'] ); |
| [603](#L603) | } |
| [604](#L604) | if ( empty( $label\_location ) ) { |
| [605](#L605) | $label\_location = \_\_( 'City', 'easy-property-listings' ); |
| [606](#L606) | } |
| [607](#L607) | return $label\_location; |
| [608](#L608) | } |
| [609](#L609) |  |
| [610](#L610) | /\*\* |
| [611](#L611) | \* Display or retrieve the under offer label with optional markup. |
| [612](#L612) | \* |
| [613](#L613) | \* @since 3.3 |
| [614](#L614) | \* |
| [615](#L615) | \* @param string $before Optional. Markup to prepend to the formatted Under Offer label. Default empty. |
| [616](#L616) | \* @param string $after  Optional. Markup to append to the formatted Under Offer label. Default empty. |
| [617](#L617) | \* @param bool   $echo   Optional. Whether to echo or return the formatted Under Offer label. Default true for echo. |
| [618](#L618) | \* @return string|void Current post title if $echo is false. |
| [619](#L619) | \*/ |
| [620](#L620) | function epl\_the\_under\_offer( $before = '', $after = '', $echo = true ) { |
| [621](#L621) | $under\_offer = epl\_get\_the\_under\_offer(); |
| [622](#L622) |  |
| [623](#L623) | $under\_offer\_label = epl\_meta\_under\_offer\_label(); |
| [624](#L624) |  |
| [625](#L625) | if ( strlen( $under\_offer ) === 0 ) { |
| [626](#L626) | return; |
| [627](#L627) | } |
| [628](#L628) |  |
| [629](#L629) | if ( 'yes' !== strtolower( $under\_offer ) && 'sold' !== epl\_get\_the\_status() ) { |
| [630](#L630) | return; |
| [631](#L631) | } |
| [632](#L632) |  |
| [633](#L633) | $under\_offer = $before . $under\_offer\_label . $after; |
| [634](#L634) |  |
| [635](#L635) | if ( $echo ) { |
| [636](#L636) | echo wp\_kses\_post( $under\_offer ); |
| [637](#L637) | } else { |
| [638](#L638) | return $under\_offer; |
| [639](#L639) | } |
| [640](#L640) | } |
| [641](#L641) |  |
| [642](#L642) | /\*\* |
| [643](#L643) | \* Retrieve listing under offer value. |
| [644](#L644) | \* |
| [645](#L645) | \* @since 3.3 |
| [646](#L646) | \* |
| [647](#L647) | \* @param int|WP\_Post $post Optional. Post ID or WP\_Post object. Default is global $post. |
| [648](#L648) | \* @return string |
| [649](#L649) | \*/ |
| [650](#L650) | function epl\_get\_the\_under\_offer( $post = 0 ) { |
| [651](#L651) |  |
| [652](#L652) | $post = get\_post( $post ); |
| [653](#L653) |  |
| [654](#L654) | $under\_offer = get\_property\_meta( 'property\_under\_offer' ); |
| [655](#L655) | $under\_offer = 'yes' === get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== epl\_get\_the\_status() ? $under\_offer : ''; |
| [656](#L656) | $id          = isset( $post->ID ) ? $post->ID : 0; |
| [657](#L657) |  |
| [658](#L658) | /\*\* |
| [659](#L659) | \* Filters the status. |
| [660](#L660) | \* |
| [661](#L661) | \* @since 3.3 |
| [662](#L662) | \* |
| [663](#L663) | \* @param string $under\_offer The Under Offer status. |
| [664](#L664) | \* @param int    $id    The post ID. |
| [665](#L665) | \*/ |
| [666](#L666) | return apply\_filters( 'epl\_get\_the\_under\_offer', $under\_offer, $id ); |
| [667](#L667) | } |
| [668](#L668) |  |
| [669](#L669) | /\*\* |
| [670](#L670) | \* Under Offer Label |
| [671](#L671) | \* |
| [672](#L672) | \* @since 2.1 |
| [673](#L673) | \* @return string |
| [674](#L674) | \*/ |
| [675](#L675) | function epl\_meta\_under\_offer\_label() { |
| [676](#L676) | $under\_offer = ''; |
| [677](#L677) | global $epl\_settings; |
| [678](#L678) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['label\_under\_offer'] ) ) { |
| [679](#L679) | $under\_offer = trim( $epl\_settings['label\_under\_offer'] ); |
| [680](#L680) | } |
| [681](#L681) | if ( empty( $under\_offer ) ) { |
| [682](#L682) | $under\_offer = \_\_( 'Under Offer', 'easy-property-listings' ); |
| [683](#L683) | } |
| [684](#L684) | return $under\_offer; |
| [685](#L685) | } |
| [686](#L686) |  |
| [687](#L687) | /\*\* |
| [688](#L688) | \* House Categories Options |
| [689](#L689) | \* |
| [690](#L690) | \* @since 1.1 |
| [691](#L691) | \* @return array Categories in array. |
| [692](#L692) | \*/ |
| [693](#L693) | function epl\_listing\_load\_meta\_property\_category() { |
| [694](#L694) | $defaults = array( |
| [695](#L695) | 'House'               => \_\_( 'House', 'easy-property-listings' ), |
| [696](#L696) | 'Unit'                => \_\_( 'Unit', 'easy-property-listings' ), |
| [697](#L697) | 'Townhouse'           => \_\_( 'Townhouse', 'easy-property-listings' ), |
| [698](#L698) | 'Villa'               => \_\_( 'Villa', 'easy-property-listings' ), |
| [699](#L699) | 'Apartment'           => \_\_( 'Apartment', 'easy-property-listings' ), |
| [700](#L700) | 'Flat'                => \_\_( 'Flat', 'easy-property-listings' ), |
| [701](#L701) | 'Studio'              => \_\_( 'Studio', 'easy-property-listings' ), |
| [702](#L702) | 'Warehouse'           => \_\_( 'Warehouse', 'easy-property-listings' ), |
| [703](#L703) | 'DuplexSemi-detached' => \_\_( 'Duplex Semi-detached', 'easy-property-listings' ), |
| [704](#L704) | 'Alpine'              => \_\_( 'Alpine', 'easy-property-listings' ), |
| [705](#L705) | 'AcreageSemi-rural'   => \_\_( 'Acreage Semi-rural', 'easy-property-listings' ), |
| [706](#L706) | 'Retirement'          => \_\_( 'Retirement', 'easy-property-listings' ), |
| [707](#L707) | 'BlockOfUnits'        => \_\_( 'Block Of Units', 'easy-property-listings' ), |
| [708](#L708) | 'Terrace'             => \_\_( 'Terrace', 'easy-property-listings' ), |
| [709](#L709) | 'ServicedApartment'   => \_\_( 'Serviced Apartment', 'easy-property-listings' ), |
| [710](#L710) | 'Other'               => \_\_( 'Other', 'easy-property-listings' ), |
| [711](#L711) | ); |
| [712](#L712) | return apply\_filters( 'epl\_listing\_meta\_property\_category', $defaults ); |
| [713](#L713) | } |
| [714](#L714) |  |
| [715](#L715) | /\*\* |
| [716](#L716) | \* Custom Meta: Return Value of House Category |
| [717](#L717) | \* |
| [718](#L718) | \* @since 1.1 |
| [719](#L719) | \* @param string $key Meta key. |
| [720](#L720) | \* @return string the categories in array |
| [721](#L721) | \*/ |
| [722](#L722) | function epl\_listing\_meta\_property\_category\_value( $key ) { |
| [723](#L723) | $array  = epl\_listing\_load\_meta\_property\_category(); |
| [724](#L724) | $key    = (array) $key; |
| [725](#L725) | $values = array(); |
| [726](#L726) | foreach ( $key as $single ) { |
| [727](#L727) | $values[] = array\_key\_exists( $single, $array ) && ! empty( $array[ $single ] ) ? $array[ $single ] : $single; |
| [728](#L728) | } |
| [729](#L729) |  |
| [730](#L730) | $value = implode( ', ', $values ); |
| [731](#L731) |  |
| [732](#L732) | return apply\_filters( 'epl\_property\_category\_value', $value ); |
| [733](#L733) | } |
| [734](#L734) |  |
| [735](#L735) | /\*\* |
| [736](#L736) | \* Custom Meta: Land Categories |
| [737](#L737) | \* |
| [738](#L738) | \* @since 1.1 |
| [739](#L739) | \* @return array the categories in array |
| [740](#L740) | \*/ |
| [741](#L741) | function epl\_listing\_load\_meta\_land\_category() { |
| [742](#L742) | $defaults = array( |
| [743](#L743) | 'Commercial'  => \_\_( 'Commercial', 'easy-property-listings' ), |
| [744](#L744) | 'Residential' => \_\_( 'Residential', 'easy-property-listings' ), |
| [745](#L745) | ); |
| [746](#L746) | return apply\_filters( 'epl\_listing\_meta\_land\_category', $defaults ); |
| [747](#L747) | } |
| [748](#L748) |  |
| [749](#L749) | /\*\* |
| [750](#L750) | \* Custom Meta: Return Value of Land Category |
| [751](#L751) | \* |
| [752](#L752) | \* @param string $key Meta key. |
| [753](#L753) | \* @return array the categories in array |
| [754](#L754) | \* |
| [755](#L755) | \* @since 1.1.0 |
| [756](#L756) | \*/ |
| [757](#L757) | function epl\_listing\_meta\_land\_category\_value( $key ) { |
| [758](#L758) | $array = epl\_listing\_load\_meta\_land\_category(); |
| [759](#L759) | $value = array\_key\_exists( $key, $array ) && ! empty( $array[ $key ] ) ? $array[ $key ] : ''; |
| [760](#L760) |  |
| [761](#L761) | return $value; |
| [762](#L762) | } |
| [763](#L763) |  |
| [764](#L764) | /\*\* |
| [765](#L765) | \* Custom Meta: Commercial Categories |
| [766](#L766) | \* |
| [767](#L767) | \* @since 1.1 |
| [768](#L768) | \* @return array the categories in array |
| [769](#L769) | \*/ |
| [770](#L770) | function epl\_listing\_load\_meta\_commercial\_category() { |
| [771](#L771) | $defaults = array( |
| [772](#L772) | 'Commercial Farming'    => \_\_( 'Commercial Farming', 'easy-property-listings' ), |
| [773](#L773) | 'Land/Development'      => \_\_( 'Land/Development', 'easy-property-listings' ), |
| [774](#L774) | 'Hotel/Leisure'         => \_\_( 'Hotel/Leisure', 'easy-property-listings' ), |
| [775](#L775) | 'Industrial/Warehouse'  => \_\_( 'Industrial/Warehouse', 'easy-property-listings' ), |
| [776](#L776) | 'Medical/Consulting'    => \_\_( 'Medical/Consulting', 'easy-property-listings' ), |
| [777](#L777) | 'Offices'               => \_\_( 'Offices', 'easy-property-listings' ), |
| [778](#L778) | 'Retail'                => \_\_( 'Retail', 'easy-property-listings' ), |
| [779](#L779) | 'Showrooms/Bulky Goods' => \_\_( 'Showrooms/Bulky Goods', 'easy-property-listings' ), |
| [780](#L780) | 'Other'                 => \_\_( 'Other', 'easy-property-listings' ), |
| [781](#L781) | ); |
| [782](#L782) | return apply\_filters( 'epl\_listing\_meta\_commercial\_category', $defaults ); |
| [783](#L783) | } |
| [784](#L784) |  |
| [785](#L785) | /\*\* |
| [786](#L786) | \* Custom Meta: Return Value of Commercial Category |
| [787](#L787) | \* |
| [788](#L788) | \* @since 1.1 |
| [789](#L789) | \* @param string $key Meta key. |
| [790](#L790) | \* @return array the categories in array |
| [791](#L791) | \*/ |
| [792](#L792) | function epl\_listing\_load\_meta\_commercial\_category\_value( $key ) { |
| [793](#L793) | $array = epl\_listing\_load\_meta\_commercial\_category(); |
| [794](#L794) |  |
| [795](#L795) | if ( is\_array( $key ) ) { |
| [796](#L796) | $values = array(); |
| [797](#L797) | foreach ( $key as $k ) { |
| [798](#L798) | $values[] = array\_key\_exists( $k, $array ) && ! empty( $array[ $k ] ) ? $array[ $k ] : ucfirst( $k ); |
| [799](#L799) | } |
| [800](#L800) | $value = implode( ', ', $values ); |
| [801](#L801) | } else { |
| [802](#L802) | $value = array\_key\_exists( $key, $array ) && ! empty( $array[ $key ] ) ? $array[ $key ] : ucfirst( $key ); |
| [803](#L803) | } |
| [804](#L804) |  |
| [805](#L805) | return apply\_filters( 'epl\_meta\_commercial\_category\_value', $value, $key, $array ); |
| [806](#L806) | } |
| [807](#L807) |  |
| [808](#L808) | /\*\* |
| [809](#L809) | \* Custom Meta: Commercial Rental Period |
| [810](#L810) | \* |
| [811](#L811) | \* @since 2.1 |
| [812](#L812) | \* @return array the categories in array |
| [813](#L813) | \*/ |
| [814](#L814) | function epl\_listing\_load\_meta\_commercial\_rent\_period() { |
| [815](#L815) | $defaults = array( |
| [816](#L816) | 'annual'            => \_\_( 'P.A.', 'easy-property-listings' ), |
| [817](#L817) | 'nnn'               => \_\_( 'NNN', 'easy-property-listings' ), |
| [818](#L818) | 'full-service'      => \_\_( 'Full Service', 'easy-property-listings' ), |
| [819](#L819) | 'gross-lease-rates' => \_\_( 'Gross Lease Rates', 'easy-property-listings' ), |
| [820](#L820) | ); |
| [821](#L821) | return apply\_filters( 'epl\_listing\_meta\_commercial\_rent\_period', $defaults ); |
| [822](#L822) | } |
| [823](#L823) |  |
| [824](#L824) | /\*\* |
| [825](#L825) | \* Custom Meta: Return Value of Commercial Rental Period |
| [826](#L826) | \* |
| [827](#L827) | \* @since 2.1 |
| [828](#L828) | \* @param string $key Meta key. |
| [829](#L829) | \* @return array the categories in array |
| [830](#L830) | \*/ |
| [831](#L831) | function epl\_listing\_load\_meta\_commercial\_rent\_period\_value( $key ) { |
| [832](#L832) | $array = epl\_listing\_load\_meta\_commercial\_rent\_period(); |
| [833](#L833) | $value = array\_key\_exists( $key, $array ) && ! empty( $array[ $key ] ) ? $array[ $key ] : ''; |
| [834](#L834) |  |
| [835](#L835) | return $value; |
| [836](#L836) | } |
| [837](#L837) |  |
| [838](#L838) | /\*\* |
| [839](#L839) | \* Custom Meta: Rural Categories |
| [840](#L840) | \* |
| [841](#L841) | \* @since 1.1 |
| [842](#L842) | \* @return all the categories in array |
| [843](#L843) | \*/ |
| [844](#L844) | function epl\_listing\_load\_meta\_rural\_category() { |
| [845](#L845) | $defaults = array( |
| [846](#L846) | 'Cropping'     => \_\_( 'Cropping', 'easy-property-listings' ), |
| [847](#L847) | 'Dairy'        => \_\_( 'Dairy', 'easy-property-listings' ), |
| [848](#L848) | 'Farmlet'      => \_\_( 'Farmlet', 'easy-property-listings' ), |
| [849](#L849) | 'Horticulture' => \_\_( 'Horticulture', 'easy-property-listings' ), |
| [850](#L850) | 'Livestock'    => \_\_( 'Livestock', 'easy-property-listings' ), |
| [851](#L851) | 'Viticulture'  => \_\_( 'Viticulture', 'easy-property-listings' ), |
| [852](#L852) | 'MixedFarming' => \_\_( 'Mixed Farming', 'easy-property-listings' ), |
| [853](#L853) | 'Lifestyle'    => \_\_( 'Lifestyle', 'easy-property-listings' ), |
| [854](#L854) | 'Other'        => \_\_( 'Other', 'easy-property-listings' ), |
| [855](#L855) | ); |
| [856](#L856) | return apply\_filters( 'epl\_listing\_meta\_rural\_category', $defaults ); |
| [857](#L857) | } |
| [858](#L858) |  |
| [859](#L859) | /\*\* |
| [860](#L860) | \* Custom Meta: Return Value of Rural Category |
| [861](#L861) | \* |
| [862](#L862) | \* @since 1.1 |
| [863](#L863) | \* @param string $key Meta key. |
| [864](#L864) | \* @return all the categories in array |
| [865](#L865) | \*/ |
| [866](#L866) | function epl\_listing\_load\_meta\_rural\_category\_value( $key ) { |
| [867](#L867) | $array = epl\_listing\_load\_meta\_rural\_category(); |
| [868](#L868) | $value = array\_key\_exists( $key, $array ) && ! empty( $array[ $key ] ) ? $array[ $key ] : ''; |
| [869](#L869) |  |
| [870](#L870) | return $value; |
| [871](#L871) | } |
| [872](#L872) |  |
| [873](#L873) | /\*\* |
| [874](#L874) | \* REAXML Date Processing Function for WP All Import and FeedSync |
| [875](#L875) | \* |
| [876](#L876) | \* Some imports set the current date instead of the date from the REAXML file. |
| [877](#L877) | \* Usage in WP All Import Post Date field is: |
| [878](#L878) | \* [epl\_feedsync\_format\_date({./@modTime})] |
| [879](#L879) | \* |
| [880](#L880) | \* @since 1.2 |
| [881](#L881) | \* @param string $date Date. |
| [882](#L882) | \* @return string formatted date |
| [883](#L883) | \* @revised 3.3 |
| [884](#L884) | \*/ |
| [885](#L885) | function epl\_feedsync\_format\_date( $date ) { |
| [886](#L886) | $date\_example = '2014-07-22-16:45:56'; |
| [887](#L887) |  |
| [888](#L888) | $tempdate = explode( '-', $date ); |
| [889](#L889) | $date     = $tempdate[0]; |
| [890](#L890) | if ( isset( $tempdate[1] ) ) { |
| [891](#L891) | $date .= '-' . $tempdate[1]; |
| [892](#L892) | } |
| [893](#L893) | if ( isset( $tempdate[2] ) ) { |
| [894](#L894) | $date .= '-' . $tempdate[2]; |
| [895](#L895) | } |
| [896](#L896) | if ( isset( $tempdate[3] ) ) { |
| [897](#L897) | $date .= ' ' . $tempdate[3]; |
| [898](#L898) | } |
| [899](#L899) |  |
| [900](#L900) | return date( 'Y-m-d H:i:s', strtotime( $date ) ); |
| [901](#L901) | } |
| [902](#L902) |  |
| [903](#L903) | /\*\* |
| [904](#L904) | \* REAXML Auction Date Processing Function for WP All Import and FeedSync |
| [905](#L905) | \* |
| [906](#L906) | \* Some imports set the current date instead of the date from the REAXML file. |
| [907](#L907) | \* Usage in WP All Import Post Date field is: |
| [908](#L908) | \* [epl\_feedsync\_format\_date\_auction({AUCDATE[1]},{AUC\_TIME[1]})] |
| [909](#L909) | \* |
| [910](#L910) | \* @since 3.1.7 |
| [911](#L911) | \* @param string $date Date. |
| [912](#L912) | \* @param string $time Time. |
| [913](#L913) | \* @return string formatted date |
| [914](#L914) | \*/ |
| [915](#L915) | function epl\_feedsync\_format\_date\_auction( $date, $time ) { |
| [916](#L916) |  |
| [917](#L917) | $date = str\_replace( '/', '-', $date ); // Convert to european date format for strtotime function. |
| [918](#L918) | return date( 'Y-M-d H:i:s', strtotime( $date . ' ' . $time ) ); |
| [919](#L919) | } |
| [920](#L920) |  |
| [921](#L921) | /\*\* |
| [922](#L922) | \* REAXML Address Sub Number field for title import |
| [923](#L923) | \* processing Function for WP All Import and FeedSync |
| [924](#L924) | \* |
| [925](#L925) | \* This function adds a / after the $value else returns false. |
| [926](#L926) | \* Usage in WP All Import Post Date field is: |
| [927](#L927) | \* [epl\_feedsync\_filter\_sub\_number({address[1]/subNumber[1]})] |
| [928](#L928) | \* |
| [929](#L929) | \* @since 1.3 |
| [930](#L930) | \* @param string $sub\_value Address sub value. |
| [931](#L931) | \* @return string formatted sub number/ |
| [932](#L932) | \*/ |
| [933](#L933) | function epl\_feedsync\_format\_sub\_number( $sub\_value ) { |
| [934](#L934) | if ( $sub\_value ) { |
| [935](#L935) | $sub\_value = $sub\_value . '/'; |
| [936](#L936) | return $sub\_value; |
| [937](#L937) | } |
| [938](#L938) | } |
| [939](#L939) |  |
| [940](#L940) | /\*\* |
| [941](#L941) | \* REAXML convert currency to integer |
| [942](#L942) | \* |
| [943](#L943) | \* Processing Function for WP All Import and FeedSync |
| [944](#L944) | \* |
| [945](#L945) | \* @param string $value Value. |
| [946](#L946) | \* @return float|void Currently as number. |
| [947](#L947) | \* @since 3.0 |
| [948](#L948) | \*/ |
| [949](#L949) | function epl\_feedsync\_format\_strip\_currency( $value ) { |
| [950](#L950) | if ( $value ) { |
| [951](#L951) | $value = preg\_replace( apply\_filters( 'epl\_feedsync\_format\_strip\_currency\_symbol', '/[\$,]/' ), '', $value ); |
| [952](#L952) | $value = floatval( $value ); |
| [953](#L953) | return $value; |
| [954](#L954) | } |
| [955](#L955) | } |
| [956](#L956) |  |
| [957](#L957) | /\*\* |
| [958](#L958) | \* REAXML convert date/time to adjust for timezone |
| [959](#L959) | \* |
| [960](#L960) | \* Processing Function for WP All Import and FeedSync |
| [961](#L961) | \* [epl\_feedsync\_switch\_date\_time({firstDate[1]},"Australia/Perth","Australia/Sydney")] |
| [962](#L962) | \* |
| [963](#L963) | \* @param bool   $date\_time     Switch date time. |
| [964](#L964) | \* @param string $old\_time\_zone Old Timezone. |
| [965](#L965) | \* @param string $new\_timezone  New timezone. |
| [966](#L966) | \* @param string $format        Date format. |
| [967](#L967) | \* |
| [968](#L968) | \* @return string |
| [969](#L969) | \* @throws exception Exception. |
| [970](#L970) | \* @since 3.0 |
| [971](#L971) | \*/ |
| [972](#L972) | function epl\_feedsync\_switch\_date\_time( $date\_time = false, $old\_time\_zone = 'Australia/Perth', $new\_timezone = 'Australia/Sydney', $format = 'Y-m-d H:i:s' ) { |
| [973](#L973) |  |
| [974](#L974) | if ( ! $date\_time ) { |
| [975](#L975) | $date\_time = date( 'Y-m-d H:i:s', time() ); |
| [976](#L976) | } |
| [977](#L977) | if ( ! $old\_time\_zone ) { |
| [978](#L978) | $old\_time\_zone = 'Australia/Perth'; |
| [979](#L979) | } |
| [980](#L980) | if ( ! $new\_timezone ) { |
| [981](#L981) | $new\_timezone = 'Australia/Sydney'; |
| [982](#L982) | } |
| [983](#L983) |  |
| [984](#L984) | $schedule\_date = new DateTime( $date\_time, new DateTimeZone( $new\_timezone ) ); |
| [985](#L985) | $schedule\_date->setTimeZone( new DateTimeZone( $old\_time\_zone ) ); |
| [986](#L986) | return $schedule\_date->format( $format ); |
| [987](#L987) |  |
| [988](#L988) | } |
| [989](#L989) |  |
| [990](#L990) | /\*\* |
| [991](#L991) | \* Renders field array to html |
| [992](#L992) | \* |
| [993](#L993) | \* @since 2.1 |
| [994](#L994) | \* @param array  $field Field array. |
| [995](#L995) | \* @param string $val Value. |
| [996](#L996) | \* @revised 3.3 |
| [997](#L997) | \*/ |
| [998](#L998) | function epl\_render\_html\_fields( $field = array(), $val = '' ) { |
| [999](#L999) | EPL()->render\_fields->render( $field, $val ); |
| [1000](#L1000) | } |
| [1001](#L1001) |  |
| [1002](#L1002) | /\*\* |
| [1003](#L1003) | \* Admin options settings |
| [1004](#L1004) | \* |
| [1005](#L1005) | \* @since 2.1 |
| [1006](#L1006) | \*/ |
| [1007](#L1007) | function epl\_get\_admin\_option\_fields() { |
| [1008](#L1008) | global $epl\_settings; |
| [1009](#L1009) | $opts\_epl\_gallery\_n = array(); |
| [1010](#L1010) | for ( $i = 1; $i <= 10; $i++ ) { |
| [1011](#L1011) | $opts\_epl\_gallery\_n[ $i ] = $i; |
| [1012](#L1012) | } |
| [1013](#L1013) |  |
| [1014](#L1014) | $opts\_epl\_property\_card\_excerpt\_length = array(); |
| [1015](#L1015) | for ( $i = 10; $i <= 55; $i++ ) { |
| [1016](#L1016) | $opts\_epl\_property\_card\_excerpt\_length[ $i ] = $i; |
| [1017](#L1017) | } |
| [1018](#L1018) |  |
| [1019](#L1019) | $opts\_epl\_features = array(); |
| [1020](#L1020) | for ( $i = 1; $i <= 5; $i++ ) { |
| [1021](#L1021) | $opts\_epl\_features[ $i ] = $i; |
| [1022](#L1022) | } |
| [1023](#L1023) |  |
| [1024](#L1024) | $opts\_pages = array( '' => \_\_( 'Select Page', 'easy-property-listings' ) ); |
| [1025](#L1025) | $pages      = get\_pages(); |
| [1026](#L1026) |  |
| [1027](#L1027) | if ( ! empty( $pages ) ) { |
| [1028](#L1028) | foreach ( $pages as $page ) { |
| [1029](#L1029) | $opts\_pages[ $page->ID ] = $page->post\_title; |
| [1030](#L1030) | } |
| [1031](#L1031) | } |
| [1032](#L1032) |  |
| [1033](#L1033) | $get\_google\_maps\_api\_key\_uri = '<a target="\_blank" href="https://developers.google.com/maps/documentation/javascript/get-api-key">' . \_\_( 'Google Maps API Key', 'easy-property-listings' ) . '</a>'; |
| [1034](#L1034) |  |
| [1035](#L1035) | $epl\_currency\_positions = array( |
| [1036](#L1036) | 'before' => \_\_( 'Before - $10', 'easy-property-listings' ), |
| [1037](#L1037) | 'after'  => \_\_( 'After - 10$', 'easy-property-listings' ), |
| [1038](#L1038) | ); |
| [1039](#L1039) | $epl\_currency\_types     = epl\_get\_currencies(); |
| [1040](#L1040) | $epl\_post\_types         = epl\_get\_post\_types(); |
| [1041](#L1041) | if ( ! function\_exists( 'get\_editable\_roles' ) ) { |
| [1042](#L1042) | require\_once ABSPATH . '/wp-admin/includes/user.php'; |
| [1043](#L1043) | } |
| [1044](#L1044) | $roles  = array( |
| [1045](#L1045) | 'level\_10' => \_\_( 'Administrator', 'easy-property-listings' ), |
| [1046](#L1046) | 'level\_7'  => \_\_( 'Editor', 'easy-property-listings' ), |
| [1047](#L1047) | 'level\_2'  => \_\_( 'Author', 'easy-property-listings' ), |
| [1048](#L1048) | 'level\_1'  => \_\_( 'Contributor', 'easy-property-listings' ), |
| [1049](#L1049) | 'level\_0'  => \_\_( 'Subscriber', 'easy-property-listings' ), |
| [1050](#L1050) | ); |
| [1051](#L1051) | $fields = array( |
| [1052](#L1052) | array( |
| [1053](#L1053) | 'label'  => \_\_( 'Listing Types and Location Taxonomy', 'easy-property-listings' ), |
| [1054](#L1054) | 'class'  => 'core', |
| [1055](#L1055) | 'id'     => 'general', |
| [1056](#L1056) | 'help'   => \_\_( 'Select the listing types you want to enable and press Save Changes. Refresh the page to see your new activated listing types.', 'easy-property-listings' ) . '<hr/>', |
| [1057](#L1057) | 'fields' => array( |
| [1058](#L1058) | array( |
| [1059](#L1059) | 'name'  => 'activate\_post\_types', |
| [1060](#L1060) | 'label' => \_\_( 'Listing Types to Enable', 'easy-property-listings' ), |
| [1061](#L1061) | 'type'  => 'checkbox', |
| [1062](#L1062) | 'opts'  => $epl\_post\_types, |
| [1063](#L1063) | 'help'  => \_\_( 'Note: If they are not visible on the front end visit Dashboard > Settings > Permalinks and press Save Changes.', 'easy-property-listings' ), |
| [1064](#L1064) | ), |
| [1065](#L1065) |  |
| [1066](#L1066) | array( |
| [1067](#L1067) | 'name'    => 'label\_location', |
| [1068](#L1068) | 'label'   => \_\_( 'Location Taxonomy', 'easy-property-listings' ), |
| [1069](#L1069) | 'type'    => 'text', |
| [1070](#L1070) | 'help'    => \_\_( 'After changing this setting visit Dashboard > Settings > Permalinks to save the settings.', 'easy-property-listings' ), |
| [1071](#L1071) | 'default' => \_\_( 'Location', 'easy-property-listings' ), |
| [1072](#L1072) | ), |
| [1073](#L1073) | ), |
| [1074](#L1074) | ), |
| [1075](#L1075) |  |
| [1076](#L1076) | array( |
| [1077](#L1077) | 'label'  => \_\_( 'Address', 'easy-property-listings' ), |
| [1078](#L1078) | 'class'  => 'core', |
| [1079](#L1079) | 'id'     => 'address', |
| [1080](#L1080) | 'help'   => \_\_( 'Use these settings to adjust the address labels to suite your location and address format for your listings.', 'easy-property-listings' ) . '<hr/>', |
| [1081](#L1081) | 'fields' => array( |
| [1082](#L1082) |  |
| [1083](#L1083) | array( |
| [1084](#L1084) | 'name'    => 'label\_suburb', |
| [1085](#L1085) | 'label'   => \_\_( 'Suburb/Town/City Label', 'easy-property-listings' ), |
| [1086](#L1086) | 'type'    => 'text', |
| [1087](#L1087) | 'default' => \_\_( 'Suburb', 'easy-property-listings' ), |
| [1088](#L1088) | ), |
| [1089](#L1089) |  |
| [1090](#L1090) | array( |
| [1091](#L1091) | 'name'    => 'epl\_enable\_city\_field', |
| [1092](#L1092) | 'label'   => \_\_( 'Additional Address Field', 'easy-property-listings' ), |
| [1093](#L1093) | 'type'    => 'radio', |
| [1094](#L1094) | 'opts'    => array( |
| [1095](#L1095) | 'yes' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1096](#L1096) | 'no'  => \_\_( 'Disable', 'easy-property-listings' ), |
| [1097](#L1097) | ), |
| [1098](#L1098) | 'default' => 'no', |
| [1099](#L1099) | 'help'    => \_\_( 'Use when you need an additional Municipality/Town/City/Region.', 'easy-property-listings' ), |
| [1100](#L1100) | ), |
| [1101](#L1101) |  |
| [1102](#L1102) | array( |
| [1103](#L1103) | 'name'    => 'label\_city', |
| [1104](#L1104) | 'label'   => \_\_( 'Additional Address Field Label', 'easy-property-listings' ), |
| [1105](#L1105) | 'type'    => 'text', |
| [1106](#L1106) | 'default' => \_\_( 'City', 'easy-property-listings' ), |
| [1107](#L1107) | ), |
| [1108](#L1108) |  |
| [1109](#L1109) | array( |
| [1110](#L1110) | 'name'    => 'label\_state', |
| [1111](#L1111) | 'label'   => \_\_( 'State/Province/Region Label', 'easy-property-listings' ), |
| [1112](#L1112) | 'type'    => 'text', |
| [1113](#L1113) | 'default' => \_\_( 'State', 'easy-property-listings' ), |
| [1114](#L1114) | ), |
| [1115](#L1115) |  |
| [1116](#L1116) | array( |
| [1117](#L1117) | 'name'    => 'label\_postcode', |
| [1118](#L1118) | 'label'   => \_\_( 'Postcode/ZIP Label', 'easy-property-listings' ), |
| [1119](#L1119) | 'type'    => 'text', |
| [1120](#L1120) | 'default' => \_\_( 'Postcode', 'easy-property-listings' ), |
| [1121](#L1121) | ), |
| [1122](#L1122) |  |
| [1123](#L1123) | array( |
| [1124](#L1124) | 'name'    => 'epl\_enable\_country\_field', |
| [1125](#L1125) | 'label'   => \_\_( 'Display Country', 'easy-property-listings' ), |
| [1126](#L1126) | 'type'    => 'radio', |
| [1127](#L1127) | 'opts'    => array( |
| [1128](#L1128) | 'yes' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1129](#L1129) | 'no'  => \_\_( 'Disable', 'easy-property-listings' ), |
| [1130](#L1130) | ), |
| [1131](#L1131) | 'default' => 'no', |
| [1132](#L1132) | 'help'    => \_\_( 'Display country with listing address.', 'easy-property-listings' ), |
| [1133](#L1133) | ), |
| [1134](#L1134) |  |
| [1135](#L1135) | array( |
| [1136](#L1136) | 'name'    => 'epl\_default\_country', |
| [1137](#L1137) | 'label'   => \_\_( 'Default Country', 'easy-property-listings' ), |
| [1138](#L1138) | 'type'    => 'select', |
| [1139](#L1139) | 'opts'    => epl\_get\_countries\_list(), |
| [1140](#L1140) | 'default' => 'Australia', |
| [1141](#L1141) | 'help'    => \_\_( 'This is used for map when listing has no address details', 'easy-property-listings' ), |
| [1142](#L1142) | ), |
| [1143](#L1143) |  |
| [1144](#L1144) | ), |
| [1145](#L1145) | ), |
| [1146](#L1146) |  |
| [1147](#L1147) | array( |
| [1148](#L1148) | 'label'  => \_\_( 'Labels', 'easy-property-listings' ), |
| [1149](#L1149) | 'class'  => 'core', |
| [1150](#L1150) | 'id'     => 'labels', |
| [1151](#L1151) | 'help'   => \_\_( 'Customise the labels that are used to show the status and information on the archive and individual listing pages.', 'easy-property-listings' ) . '<hr/>', |
| [1152](#L1152) | 'fields' => array( |
| [1153](#L1153) |  |
| [1154](#L1154) | array( |
| [1155](#L1155) | 'name'    => 'label\_new', |
| [1156](#L1156) | 'label'   => \_\_( 'New/Just Listed Label', 'easy-property-listings' ), |
| [1157](#L1157) | 'type'    => 'text', |
| [1158](#L1158) | 'default' => \_\_( 'New', 'easy-property-listings' ), |
| [1159](#L1159) | ), |
| [1160](#L1160) |  |
| [1161](#L1161) | array( |
| [1162](#L1162) | 'name'    => 'sticker\_new\_range', |
| [1163](#L1163) | 'label'   => \_\_( 'Keep Listings flagged "New" for', 'easy-property-listings' ), |
| [1164](#L1164) | 'type'    => 'number', |
| [1165](#L1165) | 'default' => '7', |
| [1166](#L1166) | 'help'    => \_\_( 'Listings will have a "NEW" Sticker for the defined number of days.', 'easy-property-listings' ), |
| [1167](#L1167) | ), |
| [1168](#L1168) |  |
| [1169](#L1169) | array( |
| [1170](#L1170) | 'name'    => 'label\_home\_open', |
| [1171](#L1171) | 'label'   => \_\_( 'Home Open Label', 'easy-property-listings' ), |
| [1172](#L1172) | 'type'    => 'text', |
| [1173](#L1173) | 'default' => \_\_( 'Home Open', 'easy-property-listings' ), |
| [1174](#L1174) | ), |
| [1175](#L1175) |  |
| [1176](#L1176) | array( |
| [1177](#L1177) | 'name'    => 'label\_poa', |
| [1178](#L1178) | 'label'   => \_\_( 'No Price Label', 'easy-property-listings' ), |
| [1179](#L1179) | 'type'    => 'text', |
| [1180](#L1180) | 'default' => \_\_( 'POA', 'easy-property-listings' ), |
| [1181](#L1181) | ), |
| [1182](#L1182) |  |
| [1183](#L1183) | array( |
| [1184](#L1184) | 'name'    => 'label\_under\_offer', |
| [1185](#L1185) | 'label'   => \_\_( 'Under Offer Label', 'easy-property-listings' ), |
| [1186](#L1186) | 'type'    => 'text', |
| [1187](#L1187) | 'default' => \_\_( 'Under Offer', 'easy-property-listings' ), |
| [1188](#L1188) | ), |
| [1189](#L1189) |  |
| [1190](#L1190) | array( |
| [1191](#L1191) | 'name'    => 'label\_sold', |
| [1192](#L1192) | 'label'   => \_\_( 'Sold Label', 'easy-property-listings' ), |
| [1193](#L1193) | 'type'    => 'text', |
| [1194](#L1194) | 'default' => \_\_( 'Sold', 'easy-property-listings' ), |
| [1195](#L1195) | ), |
| [1196](#L1196) |  |
| [1197](#L1197) | array( |
| [1198](#L1198) | 'name'    => 'label\_leased', |
| [1199](#L1199) | 'label'   => \_\_( 'Leased Label', 'easy-property-listings' ), |
| [1200](#L1200) | 'type'    => 'text', |
| [1201](#L1201) | 'default' => \_\_( 'Leased', 'easy-property-listings' ), |
| [1202](#L1202) | ), |
| [1203](#L1203) |  |
| [1204](#L1204) | array( |
| [1205](#L1205) | 'name'    => 'label\_bond', |
| [1206](#L1206) | 'label'   => \_\_( 'Rental Bond/Deposit Label', 'easy-property-listings' ), |
| [1207](#L1207) | 'type'    => 'text', |
| [1208](#L1208) | 'default' => \_\_( 'Bond', 'easy-property-listings' ), |
| [1209](#L1209) | ), |
| [1210](#L1210) |  |
| [1211](#L1211) | array( |
| [1212](#L1212) | 'name'  => 'display\_bond', |
| [1213](#L1213) | 'label' => \_\_( 'Rental Bond/Deposit Display', 'easy-property-listings' ), |
| [1214](#L1214) | 'type'  => 'radio', |
| [1215](#L1215) | 'opts'  => array( |
| [1216](#L1216) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1217](#L1217) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1218](#L1218) | ), |
| [1219](#L1219) | 'help'  => \_\_( 'Display the Bond/Deposit on rental listings.', 'easy-property-listings' ), |
| [1220](#L1220) | ), |
| [1221](#L1221) | ), |
| [1222](#L1222) | ), |
| [1223](#L1223) |  |
| [1224](#L1224) | array( |
| [1225](#L1225) | 'label'  => \_\_( 'Listing Single View', 'easy-property-listings' ), |
| [1226](#L1226) | 'class'  => 'core', |
| [1227](#L1227) | 'id'     => 'general', |
| [1228](#L1228) | 'help'   => \_\_( 'Configure the default options when viewing a single listing.', 'easy-property-listings' ) . '<hr/>', |
| [1229](#L1229) | 'fields' => array( |
| [1230](#L1230) | array( |
| [1231](#L1231) | 'name'    => 'display\_single\_gallery', |
| [1232](#L1232) | 'label'   => \_\_( 'Automatically display image gallery?', 'easy-property-listings' ), |
| [1233](#L1233) | 'type'    => 'radio', |
| [1234](#L1234) | 'opts'    => array( |
| [1235](#L1235) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1236](#L1236) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1237](#L1237) | ), |
| [1238](#L1238) | 'default' => 1, |
| [1239](#L1239) | 'help'    => \_\_( 'Images uploaded and attached to a listing will automatically display on the single listing page.', 'easy-property-listings' ), |
| [1240](#L1240) | ), |
| [1241](#L1241) |  |
| [1242](#L1242) | array( |
| [1243](#L1243) | 'name'    => 'display\_gallery\_n', |
| [1244](#L1244) | 'label'   => \_\_( 'Gallery columns?', 'easy-property-listings' ), |
| [1245](#L1245) | 'type'    => 'select', |
| [1246](#L1246) | 'opts'    => $opts\_epl\_gallery\_n, |
| [1247](#L1247) | 'default' => 4, |
| [1248](#L1248) | ), |
| [1249](#L1249) |  |
| [1250](#L1250) | array( |
| [1251](#L1251) | 'name'    => 'display\_feature\_columns', |
| [1252](#L1252) | 'label'   => \_\_( 'Feature list columns?', 'easy-property-listings' ), |
| [1253](#L1253) | 'type'    => 'select', |
| [1254](#L1254) | 'opts'    => $opts\_epl\_features, |
| [1255](#L1255) | 'default' => 2, |
| [1256](#L1256) | ), |
| [1257](#L1257) |  |
| [1258](#L1258) | array( |
| [1259](#L1259) | 'name'  => 'epl\_video\_width', |
| [1260](#L1260) | 'label' => \_\_( 'Video width on single listings', 'easy-property-listings' ), |
| [1261](#L1261) | 'type'  => 'number', |
| [1262](#L1262) | 'help'  => \_\_( 'Width should be in pixels', 'easy-property-listings' ), |
| [1263](#L1263) | ), |
| [1264](#L1264) | ), |
| [1265](#L1265) | ), |
| [1266](#L1266) |  |
| [1267](#L1267) | array( |
| [1268](#L1268) | 'label'  => \_\_( 'Listing Archive View', 'easy-property-listings' ), |
| [1269](#L1269) | 'class'  => 'core', |
| [1270](#L1270) | 'id'     => 'general', |
| [1271](#L1271) | 'help'   => \_\_( 'Configure the default options for when viewing the archive listing pages.', 'easy-property-listings' ) . '<hr/>', |
| [1272](#L1272) | 'fields' => array( |
| [1273](#L1273) | array( |
| [1274](#L1274) | 'name'    => 'display\_excerpt\_length', |
| [1275](#L1275) | 'label'   => \_\_( 'Excerpt words', 'easy-property-listings' ), |
| [1276](#L1276) | 'type'    => 'select', |
| [1277](#L1277) | 'opts'    => $opts\_epl\_property\_card\_excerpt\_length, |
| [1278](#L1278) | 'default' => 10, |
| [1279](#L1279) | 'help'    => \_\_( 'This is ignored when using manual excerpts.', 'easy-property-listings' ), |
| [1280](#L1280) | ), |
| [1281](#L1281) | array( |
| [1282](#L1282) | 'name'    => 'display\_archive\_view\_type', |
| [1283](#L1283) | 'label'   => \_\_( 'Listing view type', 'easy-property-listings' ), |
| [1284](#L1284) | 'type'    => 'radio', |
| [1285](#L1285) | 'opts'    => array( |
| [1286](#L1286) | 'list' => \_\_( 'List', 'easy-property-listings' ), |
| [1287](#L1287) | 'grid' => \_\_( 'Grid', 'easy-property-listings' ), |
| [1288](#L1288) | ), |
| [1289](#L1289) | 'default' => 'list', |
| [1290](#L1290) | ), |
| [1291](#L1291) |  |
| [1292](#L1292) | array( |
| [1293](#L1293) | 'name'    => 'use\_fancy\_navigation', |
| [1294](#L1294) | 'label'   => \_\_( 'Fancy pagination', 'easy-property-listings' ), |
| [1295](#L1295) | 'type'    => 'select', |
| [1296](#L1296) | 'opts'    => array( |
| [1297](#L1297) | 0 => \_\_( 'No, use WordPress default pagination', 'easy-property-listings' ), |
| [1298](#L1298) | 1 => \_\_( 'Yes, use fancy navigation', 'easy-property-listings' ), |
| [1299](#L1299) | ), |
| [1300](#L1300) | 'default' => 0, |
| [1301](#L1301) | ), |
| [1302](#L1302) | ), |
| [1303](#L1303) | ), |
| [1304](#L1304) |  |
| [1305](#L1305) | array( |
| [1306](#L1306) | 'label'  => \_\_( 'Search Widget: Tab Labels', 'easy-property-listings' ), |
| [1307](#L1307) | 'class'  => 'core', |
| [1308](#L1308) | 'id'     => 'labels', |
| [1309](#L1309) | 'help'   => \_\_( 'Customise the tab labels of the EPL - Search Widget or [listing\_search] shortcode.', 'easy-property-listings' ) . '<hr/>', |
| [1310](#L1310) | 'fields' => array( |
| [1311](#L1311) | array( |
| [1312](#L1312) | 'name'    => 'widget\_label\_all', |
| [1313](#L1313) | 'label'   => \_\_( 'All', 'easy-property-listings' ), |
| [1314](#L1314) | 'type'    => 'text', |
| [1315](#L1315) | 'default' => \_\_( 'All', 'easy-property-listings' ), |
| [1316](#L1316) | ), |
| [1317](#L1317) | array( |
| [1318](#L1318) | 'name'    => 'widget\_label\_property', |
| [1319](#L1319) | 'label'   => \_\_( 'Property', 'easy-property-listings' ), |
| [1320](#L1320) | 'type'    => 'text', |
| [1321](#L1321) | 'default' => \_\_( 'Property', 'easy-property-listings' ), |
| [1322](#L1322) | ), |
| [1323](#L1323) | array( |
| [1324](#L1324) | 'name'    => 'widget\_label\_land', |
| [1325](#L1325) | 'label'   => \_\_( 'Land', 'easy-property-listings' ), |
| [1326](#L1326) | 'type'    => 'text', |
| [1327](#L1327) | 'default' => \_\_( 'Land', 'easy-property-listings' ), |
| [1328](#L1328) | ), |
| [1329](#L1329) | array( |
| [1330](#L1330) | 'name'    => 'widget\_label\_rental', |
| [1331](#L1331) | 'label'   => \_\_( 'Rental', 'easy-property-listings' ), |
| [1332](#L1332) | 'type'    => 'text', |
| [1333](#L1333) | 'default' => \_\_( 'Rental', 'easy-property-listings' ), |
| [1334](#L1334) | ), |
| [1335](#L1335) | array( |
| [1336](#L1336) | 'name'    => 'widget\_label\_rural', |
| [1337](#L1337) | 'label'   => \_\_( 'Rural', 'easy-property-listings' ), |
| [1338](#L1338) | 'type'    => 'text', |
| [1339](#L1339) | 'default' => \_\_( 'Rural', 'easy-property-listings' ), |
| [1340](#L1340) | ), |
| [1341](#L1341) | array( |
| [1342](#L1342) | 'name'    => 'widget\_label\_commercial', |
| [1343](#L1343) | 'label'   => \_\_( 'Commercial', 'easy-property-listings' ), |
| [1344](#L1344) | 'type'    => 'text', |
| [1345](#L1345) | 'default' => \_\_( 'Commercial', 'easy-property-listings' ), |
| [1346](#L1346) | ), |
| [1347](#L1347) | array( |
| [1348](#L1348) | 'name'    => 'widget\_label\_commercial\_land', |
| [1349](#L1349) | 'label'   => \_\_( 'Commercial Land', 'easy-property-listings' ), |
| [1350](#L1350) | 'type'    => 'text', |
| [1351](#L1351) | 'default' => \_\_( 'Commercial Land', 'easy-property-listings' ), |
| [1352](#L1352) | ), |
| [1353](#L1353) | array( |
| [1354](#L1354) | 'name'    => 'widget\_label\_business', |
| [1355](#L1355) | 'label'   => \_\_( 'Business', 'easy-property-listings' ), |
| [1356](#L1356) | 'type'    => 'text', |
| [1357](#L1357) | 'default' => \_\_( 'Business', 'easy-property-listings' ), |
| [1358](#L1358) | ), |
| [1359](#L1359) | ), |
| [1360](#L1360) | ), |
| [1361](#L1361) |  |
| [1362](#L1362) | array( |
| [1363](#L1363) | 'label'  => \_\_( 'Listings', 'easy-property-listings' ), |
| [1364](#L1364) | 'class'  => 'core', |
| [1365](#L1365) | 'id'     => 'admin\_general', |
| [1366](#L1366) | 'help'   => \_\_( 'Use the following settings to change how the Dashboard > Property or any listing of the types you have enabled display.', 'easy-property-listings' ) . '<hr/>', |
| [1367](#L1367) | 'fields' => array( |
| [1368](#L1368) |  |
| [1369](#L1369) | array( |
| [1370](#L1370) | 'name'    => 'epl\_max\_graph\_sales\_price', |
| [1371](#L1371) | 'label'   => \_\_( 'Graph Max', 'easy-property-listings' ), |
| [1372](#L1372) | 'type'    => 'number', |
| [1373](#L1373) | 'default' => '2000000', |
| [1374](#L1374) | 'help'    => \_\_( 'Used for bar chart display on listings for sale.', 'easy-property-listings' ), |
| [1375](#L1375) | ), |
| [1376](#L1376) |  |
| [1377](#L1377) | array( |
| [1378](#L1378) | 'name'    => 'epl\_max\_graph\_rent\_price', |
| [1379](#L1379) | 'label'   => \_\_( 'Graph Rental Max', 'easy-property-listings' ), |
| [1380](#L1380) | 'type'    => 'number', |
| [1381](#L1381) | 'default' => '2000', |
| [1382](#L1382) | 'help'    => \_\_( 'Rental range.', 'easy-property-listings' ), |
| [1383](#L1383) | ), |
| [1384](#L1384) |  |
| [1385](#L1385) | array( |
| [1386](#L1386) | 'name'    => 'epl\_admin\_thumb\_size', |
| [1387](#L1387) | 'label'   => \_\_( 'Image size', 'easy-property-listings' ), |
| [1388](#L1388) | 'type'    => 'radio', |
| [1389](#L1389) | 'opts'    => array( |
| [1390](#L1390) | 'admin-list-thumb'      => \_\_( '100 X 100', 'easy-property-listings' ), |
| [1391](#L1391) | 'epl-image-medium-crop' => \_\_( '300 X 200', 'easy-property-listings' ), |
| [1392](#L1392) | ), |
| [1393](#L1393) | 'default' => 'admin-list-thumb', |
| [1394](#L1394) | 'help'    => \_\_( 'Size of the image shown in listing columns in admin area', 'easy-property-listings' ), |
| [1395](#L1395) | ), |
| [1396](#L1396) |  |
| [1397](#L1397) | array( |
| [1398](#L1398) | 'name'    => 'admin\_unique\_id', |
| [1399](#L1399) | 'label'   => \_\_( 'Unique Listing ID column', 'easy-property-listings' ), |
| [1400](#L1400) | 'type'    => 'radio', |
| [1401](#L1401) | 'opts'    => array( |
| [1402](#L1402) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1403](#L1403) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1404](#L1404) | ), |
| [1405](#L1405) | 'default' => 0, |
| [1406](#L1406) | ), |
| [1407](#L1407) |  |
| [1408](#L1408) | array( |
| [1409](#L1409) | 'name'    => 'debug', |
| [1410](#L1410) | 'label'   => \_\_( 'Geocode Lat/Long results column', 'easy-property-listings' ), |
| [1411](#L1411) | 'type'    => 'radio', |
| [1412](#L1412) | 'opts'    => array( |
| [1413](#L1413) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1414](#L1414) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1415](#L1415) | ), |
| [1416](#L1416) | 'default' => 0, |
| [1417](#L1417) | ), |
| [1418](#L1418) |  |
| [1419](#L1419) | array( |
| [1420](#L1420) | 'name'    => 'display\_hidden\_fields', |
| [1421](#L1421) | 'label'   => \_\_( 'Display Hidden Fields', 'easy-property-listings' ), |
| [1422](#L1422) | 'type'    => 'radio', |
| [1423](#L1423) | 'opts'    => array( |
| [1424](#L1424) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1425](#L1425) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1426](#L1426) | ), |
| [1427](#L1427) | 'help'    => \_\_( 'Display hidden fields on the edit listing screen.', 'easy-property-listings' ), |
| [1428](#L1428) | 'default' => 0, |
| [1429](#L1429) | ), |
| [1430](#L1430) | ), |
| [1431](#L1431) | ), |
| [1432](#L1432) |  |
| [1433](#L1433) | array( |
| [1434](#L1434) | 'label'  => \_\_( 'Theme Setup', 'easy-property-listings' ), |
| [1435](#L1435) | 'class'  => 'core', |
| [1436](#L1436) | 'id'     => 'theme\_setup', |
| [1437](#L1437) | 'help'   => \_\_( 'The following settings will use your theme templates to generate your listing pages. If your listings appear too wide or your sidebar is in the wrong place enable theme compatibility. When this is enabled you can use the included shortcodes like [listing post\_type="property" tools\_top="on"] to display your listings with sorting and grid options.', 'easy-property-listings' ) . '<hr/>', |
| [1438](#L1438) | 'fields' => array( |
| [1439](#L1439) |  |
| [1440](#L1440) | array( |
| [1441](#L1441) | 'name'    => 'epl\_feeling\_lucky', |
| [1442](#L1442) | 'label'   => \_\_( 'Theme Compatibility', 'easy-property-listings' ), |
| [1443](#L1443) | 'type'    => 'radio', |
| [1444](#L1444) | 'opts'    => array( |
| [1445](#L1445) | 'on'  => \_\_( 'Enable', 'easy-property-listings' ), |
| [1446](#L1446) | 'off' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1447](#L1447) | ), |
| [1448](#L1448) | 'default' => 'off', |
| [1449](#L1449) | 'help'    => \_\_( 'When using iThemes, Genesis frameworks or your listings look good, leave this disabled.', 'easy-property-listings' ), |
| [1450](#L1450) | ), |
| [1451](#L1451) | ), |
| [1452](#L1452) | ), |
| [1453](#L1453) |  |
| [1454](#L1454) | array( |
| [1455](#L1455) | 'label'  => \_\_( 'Theme Setup: Featured Images', 'easy-property-listings' ), |
| [1456](#L1456) | 'class'  => 'core', |
| [1457](#L1457) | 'id'     => 'theme\_setup\_featured\_images', |
| [1458](#L1458) | 'help'   => \_\_( 'Some WordPress themes automatically display featured images on posts and pages which may cause you to see double on your listings. Use the following settings to adjust the featured image behaviour.', 'easy-property-listings' ) . '<hr/>', |
| [1459](#L1459) | 'fields' => array( |
| [1460](#L1460) |  |
| [1461](#L1461) | array( |
| [1462](#L1462) | 'name'    => 'help\_lucky\_theme\_featured\_image', |
| [1463](#L1463) | 'type'    => 'help', |
| [1464](#L1464) | 'content' => \_\_( 'Theme Featured Image Settings', 'easy-property-listings' ), |
| [1465](#L1465) | ), |
| [1466](#L1466) |  |
| [1467](#L1467) | array( |
| [1468](#L1468) | 'name'    => 'epl\_lucky\_disable\_theme\_single\_thumb', |
| [1469](#L1469) | 'label'   => \_\_( 'Single Listing', 'easy-property-listings' ), |
| [1470](#L1470) | 'type'    => 'checkbox\_option', |
| [1471](#L1471) | 'opts'    => array( |
| [1472](#L1472) | 'on' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1473](#L1473) | ), |
| [1474](#L1474) | 'default' => 'off', |
| [1475](#L1475) | ), |
| [1476](#L1476) |  |
| [1477](#L1477) | array( |
| [1478](#L1478) | 'name'    => 'epl\_lucky\_disable\_archive\_thumb', |
| [1479](#L1479) | 'label'   => \_\_( 'Archive Listing', 'easy-property-listings' ), |
| [1480](#L1480) | 'type'    => 'checkbox\_option', |
| [1481](#L1481) | 'opts'    => array( |
| [1482](#L1482) | 'on' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1483](#L1483) | ), |
| [1484](#L1484) | 'default' => 'off', |
| [1485](#L1485) | ), |
| [1486](#L1486) |  |
| [1487](#L1487) | array( |
| [1488](#L1488) | 'name'    => 'help\_lucky\_epl\_featured\_image', |
| [1489](#L1489) | 'type'    => 'help', |
| [1490](#L1490) | 'content' => '<hr/>' . \_\_( 'Easy Property Listings Featured Image Settings', 'easy-property-listings' ), |
| [1491](#L1491) | ), |
| [1492](#L1492) |  |
| [1493](#L1493) | array( |
| [1494](#L1494) | 'name'    => 'epl\_lucky\_disable\_single\_thumb', |
| [1495](#L1495) | 'label'   => \_\_( 'Single Listing', 'easy-property-listings' ), |
| [1496](#L1496) | 'type'    => 'checkbox\_option', |
| [1497](#L1497) | 'opts'    => array( |
| [1498](#L1498) | 'on' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1499](#L1499) | ), |
| [1500](#L1500) | 'default' => 'off', |
| [1501](#L1501) | ), |
| [1502](#L1502) |  |
| [1503](#L1503) | array( |
| [1504](#L1504) | 'name'    => 'epl\_lucky\_disable\_epl\_archive\_thumb', |
| [1505](#L1505) | 'label'   => \_\_( 'Archive Listing', 'easy-property-listings' ), |
| [1506](#L1506) | 'type'    => 'checkbox\_option', |
| [1507](#L1507) | 'opts'    => array( |
| [1508](#L1508) | 'on' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1509](#L1509) | ), |
| [1510](#L1510) | 'default' => 'off', |
| [1511](#L1511) | ), |
| [1512](#L1512) | ), |
| [1513](#L1513) | ), |
| [1514](#L1514) |  |
| [1515](#L1515) | array( |
| [1516](#L1516) | 'label'  => \_\_( 'Currency', 'easy-property-listings' ), |
| [1517](#L1517) | 'class'  => 'core', |
| [1518](#L1518) | 'id'     => 'currency', |
| [1519](#L1519) | // Translators: Currency article link. |
| [1520](#L1520) | 'help'   => sprintf( \_\_( 'Select your default currency. If you can not find the currency you are looking for, you can add additional currencies with a filter, <a href="%s" target="\_blank">visit the codex to see how</a>.', 'easy-property-listings' ), esc\_url( 'https://codex.easypropertylistings.com.au/article/153-eplgetcurrencies' ) ) . '<hr/>', |
| [1521](#L1521) | 'fields' => array( |
| [1522](#L1522) | array( |
| [1523](#L1523) | 'name'  => 'currency', |
| [1524](#L1524) | 'label' => \_\_( 'Currency Type', 'easy-property-listings' ), |
| [1525](#L1525) | 'type'  => 'select', |
| [1526](#L1526) | 'opts'  => $epl\_currency\_types, |
| [1527](#L1527) | ), |
| [1528](#L1528) |  |
| [1529](#L1529) | array( |
| [1530](#L1530) | 'name'  => 'currency\_position', |
| [1531](#L1531) | 'label' => \_\_( 'Symbol Position', 'easy-property-listings' ), |
| [1532](#L1532) | 'type'  => 'select', |
| [1533](#L1533) | 'opts'  => $epl\_currency\_positions, |
| [1534](#L1534) | ), |
| [1535](#L1535) |  |
| [1536](#L1536) | array( |
| [1537](#L1537) | 'name'  => 'currency\_thousands\_separator', |
| [1538](#L1538) | 'label' => \_\_( 'Thousands Separator', 'easy-property-listings' ), |
| [1539](#L1539) | 'type'  => 'text', |
| [1540](#L1540) | ), |
| [1541](#L1541) |  |
| [1542](#L1542) | array( |
| [1543](#L1543) | 'name'  => 'currency\_decimal\_separator', |
| [1544](#L1544) | 'label' => \_\_( 'Decimal Separator', 'easy-property-listings' ), |
| [1545](#L1545) | 'type'  => 'text', |
| [1546](#L1546) | ), |
| [1547](#L1547) | ), |
| [1548](#L1548) | ), |
| [1549](#L1549) |  |
| [1550](#L1550) | array( |
| [1551](#L1551) | 'label'  => \_\_( 'Inspection Date & Time Format', 'easy-property-listings' ), |
| [1552](#L1552) | 'class'  => 'core', |
| [1553](#L1553) | 'id'     => 'inspection\_date\_time', |
| [1554](#L1554) | 'help'   => \_\_( 'These settings allow you to control how your inspection times display by default.', 'easy-property-listings' ) . '<hr/>', |
| [1555](#L1555) | 'fields' => array( |
| [1556](#L1556) | array( |
| [1557](#L1557) | 'name'  => 'inspection\_date\_format', |
| [1558](#L1558) | 'label' => \_\_( 'Date Format', 'easy-property-listings' ), |
| [1559](#L1559) | 'type'  => 'radio', |
| [1560](#L1560) | 'opts'  => array( |
| [1561](#L1561) |  |
| [1562](#L1562) | 'd-M-Y'                         => date( 'd-M-Y', time() ), |
| [1563](#L1563) | 'l, dS F'                       => date( 'l, dS F', time() ), |
| [1564](#L1564) | 'D d M'                         => date( 'D d M', time() ), |
| [1565](#L1565) | 'custom\_inspection\_date\_format' => \_\_( 'Custom', 'easy-property-listings' ), |
| [1566](#L1566) |  |
| [1567](#L1567) | ), |
| [1568](#L1568) | ), |
| [1569](#L1569) | array( |
| [1570](#L1570) | 'name'  => 'custom\_inspection\_date\_format', |
| [1571](#L1571) | 'label' => \_\_( 'Custom Date Format', 'easy-property-listings' ), |
| [1572](#L1572) | 'type'  => 'text', |
| [1573](#L1573) | ), |
| [1574](#L1574) | array( |
| [1575](#L1575) | 'name'  => 'inspection\_time\_format', |
| [1576](#L1576) | 'label' => \_\_( 'Time Format', 'easy-property-listings' ), |
| [1577](#L1577) | 'type'  => 'radio', |
| [1578](#L1578) | 'opts'  => array( |
| [1579](#L1579) |  |
| [1580](#L1580) | 'h:i A'                         => date( 'h:i A', time() ), |
| [1581](#L1581) | 'h:i a'                         => date( 'h:i a', time() ), |
| [1582](#L1582) | 'H:i'                           => date( 'h:i', time() ) . \_\_( ' ( 24 Hours Format ) ', 'easy-property-listings' ), |
| [1583](#L1583) | 'custom\_inspection\_time\_format' => \_\_( 'Custom', 'easy-property-listings' ), |
| [1584](#L1584) |  |
| [1585](#L1585) | ), |
| [1586](#L1586) | ), |
| [1587](#L1587) | array( |
| [1588](#L1588) | 'name'  => 'custom\_inspection\_time\_format', |
| [1589](#L1589) | 'label' => \_\_( 'Custom Time Format', 'easy-property-listings' ), |
| [1590](#L1590) | 'type'  => 'text', |
| [1591](#L1591) | ), |
| [1592](#L1592) | ), |
| [1593](#L1593) | ), |
| [1594](#L1594) |  |
| [1595](#L1595) | array( |
| [1596](#L1596) | 'label'   => \_\_( 'Contact Settings', 'easy-property-listings' ), |
| [1597](#L1597) | 'class'   => 'core', |
| [1598](#L1598) | 'id'      => 'contact', |
| [1599](#L1599) | 'help'    => \_\_( 'You can allow access to the Contacts system for logged in users.', 'easy-property-listings' ) . '<hr/>', |
| [1600](#L1600) | 'fields'  => array( |
| [1601](#L1601) | array( |
| [1602](#L1602) | 'name'  => 'min\_contact\_access', |
| [1603](#L1603) | 'label' => \_\_( 'Contact Access Level', 'easy-property-listings' ), |
| [1604](#L1604) | 'type'  => 'radio', |
| [1605](#L1605) | 'opts'  => $roles, |
| [1606](#L1606) | ), |
| [1607](#L1607) |  |
| [1608](#L1608) | ), |
| [1609](#L1609) | 'default' => 'administrator', |
| [1610](#L1610) | ), |
| [1611](#L1611) |  |
| [1612](#L1612) | array( |
| [1613](#L1613) | 'label'   => \_\_( 'Reports Settings', 'easy-property-listings' ), |
| [1614](#L1614) | 'class'   => 'core', |
| [1615](#L1615) | 'id'      => 'reports', |
| [1616](#L1616) | 'help'    => \_\_( 'You can allow access to the Reports system for logged in users.', 'easy-property-listings' ) . '<hr/>', |
| [1617](#L1617) |  |
| [1618](#L1618) | 'fields'  => array( |
| [1619](#L1619) | array( |
| [1620](#L1620) | 'name'  => 'min\_reports\_access', |
| [1621](#L1621) | 'label' => \_\_( 'Reports Access Level', 'easy-property-listings' ), |
| [1622](#L1622) | 'type'  => 'radio', |
| [1623](#L1623) | 'opts'  => $roles, |
| [1624](#L1624) | ), |
| [1625](#L1625) |  |
| [1626](#L1626) | ), |
| [1627](#L1627) | 'default' => 'administrator', |
| [1628](#L1628) | ), |
| [1629](#L1629) |  |
| [1630](#L1630) | array( |
| [1631](#L1631) | 'label'  => \_\_( 'Advanced Settings', 'easy-property-listings' ), |
| [1632](#L1632) | 'class'  => 'core', |
| [1633](#L1633) | 'id'     => 'advanced', |
| [1634](#L1634) | // translators: EPL site link. |
| [1635](#L1635) | 'help'   => sprintf( \_\_( 'Additional settings to control how Easy Property Listings works. For even more advanced filters and hooks, <a href="%s" target="\_blank">visit the codex</a>.', 'easy-property-listings' ), esc\_url( 'https://codex.easypropertylistings.com.au/' ) ) . '<hr/>', |
| [1636](#L1636) | 'fields' => array( |
| [1637](#L1637) | array( |
| [1638](#L1638) | 'name'    => 'epl\_use\_core\_css', |
| [1639](#L1639) | 'label'   => \_\_( 'Disable Styles', 'easy-property-listings' ), |
| [1640](#L1640) | 'type'    => 'checkbox\_option', |
| [1641](#L1641) | 'opts'    => array( |
| [1642](#L1642) | 'on' => \_\_( 'Yes', 'easy-property-listings' ), |
| [1643](#L1643) | ), |
| [1644](#L1644) | 'default' => 'off', |
| [1645](#L1645) | 'help'    => \_\_( 'Check this to disable all elements.', 'easy-property-listings' ), |
| [1646](#L1646) | ), |
| [1647](#L1647) |  |
| [1648](#L1648) | array( |
| [1649](#L1649) | 'name'    => 'epl\_css\_legacy', |
| [1650](#L1650) | 'label'   => \_\_( 'Legacy Styles', 'easy-property-listings' ), |
| [1651](#L1651) | 'type'    => 'checkbox\_option', |
| [1652](#L1652) | 'opts'    => array( |
| [1653](#L1653) | 'on' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1654](#L1654) | ), |
| [1655](#L1655) | 'default' => 'off', |
| [1656](#L1656) | 'help'    => \_\_( 'Check this to enable legacy css styles.', 'easy-property-listings' ), |
| [1657](#L1657) | ), |
| [1658](#L1658) |  |
| [1659](#L1659) | array( |
| [1660](#L1660) | 'name'    => 'epl\_css\_enhanced', |
| [1661](#L1661) | 'label'   => \_\_( 'Enhanced Styles', 'easy-property-listings' ), |
| [1662](#L1662) | 'type'    => 'checkbox\_option', |
| [1663](#L1663) | 'opts'    => array( |
| [1664](#L1664) | 'on' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1665](#L1665) | ), |
| [1666](#L1666) | 'default' => 'off', |
| [1667](#L1667) | 'help'    => \_\_( 'Check this to enable enhanced structural css styles. This implements inline-block mode for a better grid format on your listings.', 'easy-property-listings' ), |
| [1668](#L1668) | ), |
| [1669](#L1669) |  |
| [1670](#L1670) | array( |
| [1671](#L1671) | 'name'    => 'epl\_icons\_svg\_listings', |
| [1672](#L1672) | 'label'   => \_\_( 'SVG Icons for Listings', 'easy-property-listings' ), |
| [1673](#L1673) | 'type'    => 'checkbox\_option', |
| [1674](#L1674) | 'opts'    => array( |
| [1675](#L1675) | 'on' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1676](#L1676) | ), |
| [1677](#L1677) | 'default' => 'off', |
| [1678](#L1678) | 'help'    => \_\_( 'Check this to enable SVG icons on listings.', 'easy-property-listings' ), |
| [1679](#L1679) | ), |
| [1680](#L1680) |  |
| [1681](#L1681) | array( |
| [1682](#L1682) | 'name'    => 'epl\_icons\_svg\_author', |
| [1683](#L1683) | 'label'   => \_\_( 'SVG Icons for Author Social Links', 'easy-property-listings' ), |
| [1684](#L1684) | 'type'    => 'checkbox\_option', |
| [1685](#L1685) | 'opts'    => array( |
| [1686](#L1686) | 'on' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1687](#L1687) | ), |
| [1688](#L1688) | 'default' => 'off', |
| [1689](#L1689) | 'help'    => \_\_( 'Check this to enable SVG icons on author social links.', 'easy-property-listings' ), |
| [1690](#L1690) | ), |
| [1691](#L1691) |  |
| [1692](#L1692) | array( |
| [1693](#L1693) | 'name'    => 'epl\_disable\_google\_api', |
| [1694](#L1694) | 'label'   => \_\_( 'Google Maps API', 'easy-property-listings' ), |
| [1695](#L1695) | 'type'    => 'radio', |
| [1696](#L1696) | 'opts'    => array( |
| [1697](#L1697) | ''   => \_\_( 'Enable', 'easy-property-listings' ), |
| [1698](#L1698) | 'on' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1699](#L1699) | ), |
| [1700](#L1700) | 'default' => '', |
| [1701](#L1701) | 'help'    => \_\_( 'Set to disabled if Google Maps API has already been loaded in your theme or other plugin.', 'easy-property-listings' ), |
| [1702](#L1702) |  |
| [1703](#L1703) | ), |
| [1704](#L1704) |  |
| [1705](#L1705) | array( |
| [1706](#L1706) | 'name'  => 'epl\_google\_api\_key', |
| [1707](#L1707) | 'label' => \_\_( 'Google Maps API Key', 'easy-property-listings' ), |
| [1708](#L1708) | 'type'  => 'text', |
| [1709](#L1709) | // translators: google map register key link. |
| [1710](#L1710) | 'help'  => sprintf( \_\_( 'Register for a %s here.', 'easy-property-listings' ), $get\_google\_maps\_api\_key\_uri ), |
| [1711](#L1711) | ), |
| [1712](#L1712) |  |
| [1713](#L1713) | array( |
| [1714](#L1714) | 'name'    => 'epl\_plugin\_mode', |
| [1715](#L1715) | 'label'   => \_\_( 'Mode', 'easy-property-listings' ), |
| [1716](#L1716) | 'type'    => 'radio', |
| [1717](#L1717) | 'opts'    => array( |
| [1718](#L1718) | 'development' => \_\_( 'Development', 'easy-property-listings' ), |
| [1719](#L1719) | 'production'  => \_\_( 'Production', 'easy-property-listings' ), |
| [1720](#L1720) | ), |
| [1721](#L1721) | 'help'    => \_\_( 'Production mode enqueue minified js & css for faster page loads.', 'easy-property-listings' ), |
| [1722](#L1722) | 'default' => 'production', |
| [1723](#L1723) | ), |
| [1724](#L1724) |  |
| [1725](#L1725) | array( |
| [1726](#L1726) | 'name'    => 'uninstall\_on\_delete', |
| [1727](#L1727) | 'label'   => \_\_( 'Remove Data on Uninstall?', 'easy-property-listings' ), |
| [1728](#L1728) | 'type'    => 'radio', |
| [1729](#L1729) | 'opts'    => array( |
| [1730](#L1730) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1731](#L1731) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1732](#L1732) | ), |
| [1733](#L1733) | 'help'    => \_\_( 'Select Enable if you would like EPL to completely remove all of its data when the plugin is deleted.', 'easy-property-listings' ), |
| [1734](#L1734) | 'default' => 0, |
| [1735](#L1735) | ), |
| [1736](#L1736) | ), |
| [1737](#L1737) | ), |
| [1738](#L1738) |  |
| [1739](#L1739) | ); |
| [1740](#L1740) |  |
| [1741](#L1741) | if ( defined( 'EPL\_BETA\_VERSIONS' ) && true === EPL\_BETA\_VERSIONS ) { |
| [1742](#L1742) | $fields[] = array( |
| [1743](#L1743) | 'label'  => \_\_( 'Beta Versions', 'easy-property-listings' ), |
| [1744](#L1744) | 'class'  => 'core', |
| [1745](#L1745) | 'id'     => 'beta-versions', |
| [1746](#L1746) | 'fields' => array( |
| [1747](#L1747) | array( |
| [1748](#L1748) | 'name'  => 'enabled\_betas', |
| [1749](#L1749) | 'label' => \_\_( 'Enable Beta Versions', 'easy-property-listings' ), |
| [1750](#L1750) | 'type'  => 'checkbox', |
| [1751](#L1751) | 'opts'  => epl\_get\_beta\_enabled\_extensions(), |
| [1752](#L1752) | 'help'  => \_\_( 'Checking any of the checkboxes will opt you in to receive pre-release update notifications. You can opt-out at any time. Pre-release updates do not install automatically, you will still have the opportunity to ignore update notifications.', 'easy-property-listings' ), |
| [1753](#L1753) | ), |
| [1754](#L1754) |  |
| [1755](#L1755) | ), |
| [1756](#L1756) | ); |
| [1757](#L1757) | } |
| [1758](#L1758) |  |
| [1759](#L1759) | $fields = apply\_filters( 'epl\_display\_options\_filter', $fields ); |
| [1760](#L1760) | return $fields; |
| [1761](#L1761) | } |
| [1762](#L1762) |  |
| [1763](#L1763) | /\*\* |
| [1764](#L1764) | \* Sold status filter |
| [1765](#L1765) | \* |
| [1766](#L1766) | \* @since 2.1.11 |
| [1767](#L1767) | \*/ |
| [1768](#L1768) | function epl\_sold\_label\_status\_filter\_callback() { |
| [1769](#L1769) | global $epl\_settings; |
| [1770](#L1770) | $epl\_settings['label\_sold'] = ! isset( $epl\_settings['label\_sold'] ) ? '' : $epl\_settings['label\_sold']; |
| [1771](#L1771) | $sold\_label                 = 'Sold' !== $epl\_settings['label\_sold'] || ! empty( $epl\_settings['label\_sold'] ) ? $epl\_settings['label\_sold'] : \_\_( 'Sold', 'easy-property-listings' ); |
| [1772](#L1772) | return $sold\_label; |
| [1773](#L1773) | } |
| [1774](#L1774) | add\_filter( 'epl\_sold\_label\_status\_filter', 'epl\_sold\_label\_status\_filter\_callback' ); |
| [1775](#L1775) |  |
| [1776](#L1776) | /\*\* |
| [1777](#L1777) | \* Under Offer status filter |
| [1778](#L1778) | \* |
| [1779](#L1779) | \* @since 2.1.11 |
| [1780](#L1780) | \*/ |
| [1781](#L1781) | function epl\_under\_offer\_label\_status\_filter\_callback() { |
| [1782](#L1782) | global $epl\_settings; |
| [1783](#L1783) | $epl\_settings['label\_under\_offer'] = ! isset( $epl\_settings['label\_under\_offer'] ) ? '' : $epl\_settings['label\_under\_offer']; |
| [1784](#L1784) | $under\_offer\_label                 = 'Under Offer' !== $epl\_settings['label\_under\_offer'] || ! empty( $epl\_settings['label\_under\_offer'] ) ? $epl\_settings['label\_under\_offer'] : \_\_( 'Under Offer', 'easy-property-listings' ); |
| [1785](#L1785) | return $under\_offer\_label; |
| [1786](#L1786) | } |
| [1787](#L1787) | add\_filter( 'epl\_under\_offer\_label\_status\_filter', 'epl\_under\_offer\_label\_status\_filter\_callback' ); |
| [1788](#L1788) |  |
| [1789](#L1789) | /\*\* |
| [1790](#L1790) | \* Leased status filter |
| [1791](#L1791) | \* |
| [1792](#L1792) | \* @since 2.1.11 |
| [1793](#L1793) | \*/ |
| [1794](#L1794) | function epl\_leased\_label\_status\_filter\_callback() { |
| [1795](#L1795) | global $epl\_settings; |
| [1796](#L1796) | $epl\_settings['label\_leased'] = ! isset( $epl\_settings['label\_leased'] ) ? '' : $epl\_settings['label\_leased']; |
| [1797](#L1797) | $leased\_label                 = 'Leased' !== $epl\_settings['label\_leased'] || ! empty( $epl\_settings['label\_leased'] ) ? $epl\_settings['label\_leased'] : \_\_( 'Leased', 'easy-property-listings' ); |
| [1798](#L1798) | return $leased\_label; |
| [1799](#L1799) | } |
| [1800](#L1800) | add\_filter( 'epl\_leased\_label\_status\_filter', 'epl\_leased\_label\_status\_filter\_callback' ); |
| [1801](#L1801) |  |
| [1802](#L1802) | /\*\* |
| [1803](#L1803) | \* Description: Getting all the values associated with a specific custom post meta key, across all posts |
| [1804](#L1804) | \* Author: Chinmoy Paul |
| [1805](#L1805) | \* Author URL: http://pwdtechnology.com |
| [1806](#L1806) | \* |
| [1807](#L1807) | \* @param string $key Post Meta Key. |
| [1808](#L1808) | \* @param string $type Post Type. Default is post. You can pass custom post type here. |
| [1809](#L1809) | \* @param string $status Post Status like Publish, draft, future etc. default is publish. |
| [1810](#L1810) | \* @param string $property\_status Listing status. |
| [1811](#L1811) | \* @return array |
| [1812](#L1812) | \* @since 2.1.11 |
| [1813](#L1813) | \* @since 3.4.40 Tweak: Search selection results will be sorted in a-z order. |
| [1814](#L1814) | \* @since 3.4.40 Fix: Search address options fixed for the all search tab. |
| [1815](#L1815) | \*/ |
| [1816](#L1816) | function epl\_get\_unique\_post\_meta\_values( $key = '', $type = '', $status = 'publish', $property\_status = '' ) { |
| [1817](#L1817) |  |
| [1818](#L1818) | global $wpdb; |
| [1819](#L1819) |  |
| [1820](#L1820) | if ( empty( $key ) ) { |
| [1821](#L1821) | return; |
| [1822](#L1822) | } |
| [1823](#L1823) |  |
| [1824](#L1824) | if ( empty( $type ) || 'all' === $type ) { |
| [1825](#L1825) | $type = epl\_get\_core\_post\_types(); |
| [1826](#L1826) | } |
| [1827](#L1827) |  |
| [1828](#L1828) | $type     = (array) $type; |
| [1829](#L1829) | $type     = array\_map( 'sanitize\_text\_field', $type ); |
| [1830](#L1830) | $type\_str = " ( '" . implode( "','", $type ) . "' ) "; |
| [1831](#L1831) |  |
| [1832](#L1832) | $query = " |
| [1833](#L1833) | SELECT DISTINCT pm.meta\_value FROM {$wpdb->postmeta} pm |
| [1834](#L1834) | LEFT JOIN {$wpdb->posts} p ON p.ID = pm.post\_id |
| [1835](#L1835) | LEFT JOIN {$wpdb->postmeta} pm2 ON pm.post\_id = pm2.post\_id |
| [1836](#L1836) | WHERE pm.meta\_key = '%s' |
| [1837](#L1837) | AND p.post\_status = '%s' |
| [1838](#L1838) | AND p.post\_type IN $type\_str |
| [1839](#L1839) | "; |
| [1840](#L1840) |  |
| [1841](#L1841) | if ( ! empty( $property\_status ) ) { |
| [1842](#L1842) | $property\_status = array\_map( 'trim', explode( ',', $property\_status ) ); |
| [1843](#L1843) | if ( count( $property\_status ) ) { |
| [1844](#L1844) | $query .= " |
| [1845](#L1845) | AND pm2.meta\_key                = 'property\_status' |
| [1846](#L1846) | AND pm2.meta\_value              IN ('" . implode( "','", $property\_status ) . "')"; |
| [1847](#L1847) | } |
| [1848](#L1848) | } |
| [1849](#L1849) |  |
| [1850](#L1850) | $res = $wpdb->get\_col( $wpdb->prepare( $query, $key, $status ) ); // phpcs:ignore |
| [1851](#L1851) |  |
| [1852](#L1852) | $res = array\_filter( $res ); |
| [1853](#L1853) |  |
| [1854](#L1854) | foreach ( $res as $key => &$elem ) { |
| [1855](#L1855) | $elem = maybe\_unserialize( $elem ); |
| [1856](#L1856) | if ( ! empty( $elem ) && is\_array( $elem ) ) { |
| [1857](#L1857) | foreach ( $elem as $el ) { |
| [1858](#L1858) | $res[] = $el; |
| [1859](#L1859) | } |
| [1860](#L1860) | unset( $res[ $key ] ); |
| [1861](#L1861) | } |
| [1862](#L1862) | } |
| [1863](#L1863) |  |
| [1864](#L1864) | $res = array\_filter( $res ); |
| [1865](#L1865) |  |
| [1866](#L1866) | $results = array(); |
| [1867](#L1867) |  |
| [1868](#L1868) | foreach ( $res as $s\_res ) { |
| [1869](#L1869) | $results[ $s\_res ] = ucwords( $s\_res ); |
| [1870](#L1870) | } |
| [1871](#L1871) |  |
| [1872](#L1872) | asort( $results ); |
| [1873](#L1873) |  |
| [1874](#L1874) | return apply\_filters( 'epl\_get\_unique\_post\_meta\_values', $results, $key, $type ); |
| [1875](#L1875) | } |
| [1876](#L1876) |  |
| [1877](#L1877) | /\*\* |
| [1878](#L1878) | \* Get Sales Count By Date |
| [1879](#L1879) | \* |
| [1880](#L1880) | \* @param int  $day Day number. |
| [1881](#L1881) | \* @param int  $month\_num Month number. |
| [1882](#L1882) | \* @param int  $year Year. |
| [1883](#L1883) | \* @param int  $hour Hour. |
| [1884](#L1884) | \* @param int  $status Listing status. |
| [1885](#L1885) | \* @param bool $day\_by\_day Sales by day. |
| [1886](#L1886) | \* @return int $count Sales |
| [1887](#L1887) | \* @since 3.0 |
| [1888](#L1888) | \*/ |
| [1889](#L1889) | function epl\_get\_sales\_by\_date( $day = null, $month\_num = null, $year = null, $hour = null, $status = null, $day\_by\_day = true ) { |
| [1890](#L1890) | // phpcs:disable WordPress.Security.NonceVerification |
| [1891](#L1891) | $post\_type = isset( $\_GET['view'] ) ? sanitize\_text\_field( wp\_unslash( $\_GET['view'] ) ) : 'property'; |
| [1892](#L1892) | $args      = array( |
| [1893](#L1893) | 'post\_type'              => $post\_type, |
| [1894](#L1894) | 'nopaging'               => true, |
| [1895](#L1895) | 'year'                   => $year, |
| [1896](#L1896) | 'fields'                 => 'ids', |
| [1897](#L1897) | 'post\_status'            => array( 'publish' ), |
| [1898](#L1898) | 'update\_post\_meta\_cache' => false, |
| [1899](#L1899) | 'update\_post\_term\_cache' => false, |
| [1900](#L1900) | ); |
| [1901](#L1901) |  |
| [1902](#L1902) | if ( in\_array( $status, array( 'sold', 'leased' ), true ) ) { |
| [1903](#L1903) |  |
| [1904](#L1904) | $month\_num = is\_null( $month\_num ) ? 00 : $month\_num; |
| [1905](#L1905) | $day       = is\_null( $day ) ? 00 : $day; |
| [1906](#L1906) | $year      = is\_null( $year ) ? 0000 : $year; |
| [1907](#L1907) | $range     = isset( $\_GET['range'] ) ? sanitize\_text\_field( wp\_unslash( $\_GET['range'] ) ) : 'other'; |
| [1908](#L1908) |  |
| [1909](#L1909) | $args['meta\_query'] = array( //phpcs:ignore |
| [1910](#L1910) | array( |
| [1911](#L1911) | 'key'     => 'property\_status', |
| [1912](#L1912) | 'value'   => (array) $status, |
| [1913](#L1913) | 'compare' => 'IN', |
| [1914](#L1914) | ), |
| [1915](#L1915) | ); |
| [1916](#L1916) |  |
| [1917](#L1917) | if ( in\_array( $range, array( 'other', 'last\_year', 'this\_year', 'last\_quarter', 'this\_quarter' ), true ) ) { |
| [1918](#L1918) |  |
| [1919](#L1919) | $sold\_key = 'leased' === $status ? 'property\_date\_available' : 'property\_sold\_date'; |
| [1920](#L1920) |  |
| [1921](#L1921) | $sold\_date\_end   = date( 'Y-m-d', strtotime( $year . '-' . $month\_num . '-' . $day ) ); |
| [1922](#L1922) | $sold\_date\_start = true === $day\_by\_day ? $sold\_date\_end : date( 'Y-m-01', strtotime( $year . '-' . $month\_num . '-' . $day ) ); |
| [1923](#L1923) |  |
| [1924](#L1924) | $args['meta\_query'][] = array( |
| [1925](#L1925) | 'key'     => $sold\_key, |
| [1926](#L1926) | 'value'   => array( $sold\_date\_start, $sold\_date\_end ), |
| [1927](#L1927) | 'type'    => 'DATE', |
| [1928](#L1928) | 'compare' => 'BETWEEN', |
| [1929](#L1929) | ); |
| [1930](#L1930) |  |
| [1931](#L1931) | } else { |
| [1932](#L1932) |  |
| [1933](#L1933) | $sold\_key  = 'leased' === $status ? 'property\_date\_available' : 'property\_sold\_date'; |
| [1934](#L1934) | $sold\_date = date( 'Y-m-d', strtotime( $year . '-' . $month\_num . '-' . $day ) ); |
| [1935](#L1935) |  |
| [1936](#L1936) | $args['meta\_query'][] = array( |
| [1937](#L1937) | 'key'   => $sold\_key, |
| [1938](#L1938) | 'value' => $sold\_date, |
| [1939](#L1939) | 'type'  => 'DATE', |
| [1940](#L1940) | ); |
| [1941](#L1941) | } |
| [1942](#L1942) | } else { |
| [1943](#L1943) |  |
| [1944](#L1944) | if ( ! empty( $month\_num ) ) { |
| [1945](#L1945) | $args['monthnum'] = $month\_num; |
| [1946](#L1946) | } |
| [1947](#L1947) |  |
| [1948](#L1948) | if ( ! empty( $day ) ) { |
| [1949](#L1949) | $args['day'] = $day; |
| [1950](#L1950) | } |
| [1951](#L1951) |  |
| [1952](#L1952) | if ( ! empty( $hour ) ) { |
| [1953](#L1953) | $args['hour'] = $hour; |
| [1954](#L1954) | } |
| [1955](#L1955) | } |
| [1956](#L1956) |  |
| [1957](#L1957) | $args = apply\_filters( 'epl\_get\_sales\_by\_date\_args', $args ); |
| [1958](#L1958) |  |
| [1959](#L1959) | $key   = 'epl\_stats\_' . substr( md5( serialize( $args ) ), 0, 15 ); //phpcs:ignore |
| [1960](#L1960) | $count = get\_transient( $key ); |
| [1961](#L1961) | if ( false === $count ) { |
| [1962](#L1962) | $sales = new WP\_Query( $args ); |
| [1963](#L1963) | $count = (int) $sales->post\_count; |
| [1964](#L1964) | // Cache the results for one hour. |
| [1965](#L1965) | set\_transient( $key, $count, HOUR\_IN\_SECONDS ); |
| [1966](#L1966) | } |
| [1967](#L1967) |  |
| [1968](#L1968) | return $count; |
| [1969](#L1969) | } |
| [1970](#L1970) |  |
| [1971](#L1971) | /\*\* |
| [1972](#L1972) | \* Month Num To Name |
| [1973](#L1973) | \* |
| [1974](#L1974) | \* Takes a month number and returns the name three letter name of it. |
| [1975](#L1975) | \* |
| [1976](#L1976) | \* @since 3.0 |
| [1977](#L1977) | \* |
| [1978](#L1978) | \* @param integer $n Month number. |
| [1979](#L1979) | \* @return string Short month name |
| [1980](#L1980) | \*/ |
| [1981](#L1981) | function epl\_month\_num\_to\_name( $n ) { |
| [1982](#L1982) | $timestamp = mktime( 0, 0, 0, $n, 1, 2005 ); |
| [1983](#L1983) |  |
| [1984](#L1984) | return date\_i18n( 'M', $timestamp ); |
| [1985](#L1985) | } |
| [1986](#L1986) |  |
| [1987](#L1987) | /\*\* |
| [1988](#L1988) | \* Retrieve contacts from the database |
| [1989](#L1989) | \* |
| [1990](#L1990) | \* @access  public |
| [1991](#L1991) | \* |
| [1992](#L1992) | \* @param array $args Arguments. |
| [1993](#L1993) | \* |
| [1994](#L1994) | \* @return bool|int[]|mixed|WP\_Post[] |
| [1995](#L1995) | \* @since   3.0 |
| [1996](#L1996) | \*/ |
| [1997](#L1997) | function epl\_get\_contacts( $args = array() ) { |
| [1998](#L1998) |  |
| [1999](#L1999) | global $wpdb; |
| [2000](#L2000) |  |
| [2001](#L2001) | $defaults = array( |
| [2002](#L2002) | 'post\_type'      => 'epl\_contact', |
| [2003](#L2003) | 'posts\_per\_page' => 20, |
| [2004](#L2004) | 'offset'         => 0, |
| [2005](#L2005) | 'orderby'        => 'ID', |
| [2006](#L2006) | 'order'          => 'DESC', |
| [2007](#L2007) | ); |
| [2008](#L2008) |  |
| [2009](#L2009) | $args = wp\_parse\_args( $args, $defaults ); |
| [2010](#L2010) |  |
| [2011](#L2011) | if ( $args['posts\_per\_page'] < 1 ) { |
| [2012](#L2012) | $args['number'] = -1; |
| [2013](#L2013) | } |
| [2014](#L2014) |  |
| [2015](#L2015) | $where = ' WHERE 1=1 '; |
| [2016](#L2016) |  |
| [2017](#L2017) | // specific contacts. |
| [2018](#L2018) | if ( ! empty( $args['ID'] ) ) { |
| [2019](#L2019) | $args['post\_\_in'] = $args['ID']; |
| [2020](#L2020) |  |
| [2021](#L2021) | } |
| [2022](#L2022) |  |
| [2023](#L2023) | // specific contacts by email. |
| [2024](#L2024) | if ( ! empty( $args['email'] ) ) { |
| [2025](#L2025) |  |
| [2026](#L2026) | $email\_query = array( |
| [2027](#L2027) | 'key'   => 'contact\_email', |
| [2028](#L2028) | 'value' => $args['email'], |
| [2029](#L2029) | ); |
| [2030](#L2030) |  |
| [2031](#L2031) | if ( is\_array( $args['email'] ) ) { |
| [2032](#L2032) | $email\_query['comparison'] = 'IN'; |
| [2033](#L2033) |  |
| [2034](#L2034) | } |
| [2035](#L2035) | $args['meta\_query'][] = $email\_query; |
| [2036](#L2036) | } |
| [2037](#L2037) |  |
| [2038](#L2038) | // specific contacts by name. |
| [2039](#L2039) | if ( ! empty( $args['name'] ) ) { |
| [2040](#L2040) | $args['post\_title'] = $args['name']; |
| [2041](#L2041) | } |
| [2042](#L2042) |  |
| [2043](#L2043) | $cache\_key = md5( 'epl\_contacts\_' . serialize( $args ) ); //phpcs:ignore |
| [2044](#L2044) |  |
| [2045](#L2045) | $contacts = wp\_cache\_get( $cache\_key, 'contacts' ); |
| [2046](#L2046) |  |
| [2047](#L2047) | $args['orderby'] = esc\_sql( $args['orderby'] ); |
| [2048](#L2048) | $args['order']   = esc\_sql( $args['order'] ); |
| [2049](#L2049) |  |
| [2050](#L2050) | if ( false === $contacts ) { |
| [2051](#L2051) | $contacts = get\_posts( $args ); |
| [2052](#L2052) | wp\_cache\_set( $cache\_key, $contacts, 'contacts', 3600 ); |
| [2053](#L2053) | } |
| [2054](#L2054) | return $contacts; |
| [2055](#L2055) | } |
| [2056](#L2056) |  |
| [2057](#L2057) | /\*\* |
| [2058](#L2058) | \* Search Listing Ajax |
| [2059](#L2059) | \* |
| [2060](#L2060) | \* @access  public |
| [2061](#L2061) | \* @since   3.0 |
| [2062](#L2062) | \*/ |
| [2063](#L2063) | function epl\_search\_listing() { |
| [2064](#L2064) | $search\_array = array( |
| [2065](#L2065) | 's'           => isset( $\_POST['s'] ) ? sanitize\_text\_field( wp\_unslash( $\_POST['s'] ) ) : '', |
| [2066](#L2066) | 'showposts'   => 6, |
| [2067](#L2067) | 'post\_type'   => epl\_get\_core\_post\_types(), |
| [2068](#L2068) | 'post\_status' => 'publish', |
| [2069](#L2069) | ); |
| [2070](#L2070) | $query        = http\_build\_query( $search\_array ); |
| [2071](#L2071) | $listings     = get\_posts( $query ); |
| [2072](#L2072) | if ( ! empty( $listings ) ) { |
| [2073](#L2073) | echo '<ul class="epl-popup-box epl-property-suggestion epl-striped">'; |
| [2074](#L2074) | foreach ( $listings as  $listing ) { |
| [2075](#L2075) | $status = get\_post\_meta( $listing->ID, 'property\_status', true ); |
| [2076](#L2076) | echo '<li data-id="' . esc\_attr( $listing->ID ) . '"><span class="epl-listing-type">' . esc\_attr( $listing->post\_type ) . '</span>' . esc\_attr( $listing->post\_title ) . '<span class="epl-listing-status type\_' . esc\_attr( $status ) . '">' . esc\_attr( $status ) . '</span></li>'; |
| [2077](#L2077) | } |
| [2078](#L2078) | echo '</ul>'; |
| [2079](#L2079) | } |
| [2080](#L2080) | wp\_die(); |
| [2081](#L2081) | } |
| [2082](#L2082) | add\_action( 'wp\_ajax\_nopriv\_epl\_search\_listing', 'epl\_search\_listing' ); |
| [2083](#L2083) | add\_action( 'wp\_ajax\_epl\_search\_listing', 'epl\_search\_listing' ); |
| [2084](#L2084) |  |
| [2085](#L2085) | /\*\* |
| [2086](#L2086) | \* Get Contact Categories |
| [2087](#L2087) | \* |
| [2088](#L2088) | \* @access  public |
| [2089](#L2089) | \* @since   3.0 |
| [2090](#L2090) | \*/ |
| [2091](#L2091) | function epl\_get\_contact\_categories() { |
| [2092](#L2092) | return apply\_filters( |
| [2093](#L2093) | 'epl\_contact\_categories', |
| [2094](#L2094) | array( |
| [2095](#L2095) | 'appraisal'     => \_\_( 'Appraisal', 'easy-property-listings' ), |
| [2096](#L2096) | 'buyer'         => \_\_( 'Buyer', 'easy-property-listings' ), |
| [2097](#L2097) | 'contact'       => \_\_( 'Contact', 'easy-property-listings' ), |
| [2098](#L2098) | 'lead'          => \_\_( 'Lead', 'easy-property-listings' ), |
| [2099](#L2099) | 'landlord'      => \_\_( 'Landlord', 'easy-property-listings' ), |
| [2100](#L2100) | 'new'           => \_\_( 'New', 'easy-property-listings' ), |
| [2101](#L2101) | 'past\_customer' => \_\_( 'Past Customer', 'easy-property-listings' ), |
| [2102](#L2102) | 'seller'        => \_\_( 'Seller', 'easy-property-listings' ), |
| [2103](#L2103) | 'tenant'        => \_\_( 'Tenant', 'easy-property-listings' ), |
| [2104](#L2104) | 'widget'        => \_\_( 'Widget Lead', 'easy-property-listings' ), |
| [2105](#L2105) | 'contract'      => \_\_( 'Under Contract', 'easy-property-listings' ), |
| [2106](#L2106) | ) |
| [2107](#L2107) | ); |
| [2108](#L2108) | } |
| [2109](#L2109) |  |
| [2110](#L2110) | /\*\* |
| [2111](#L2111) | \* Get Contact Labels |
| [2112](#L2112) | \* |
| [2113](#L2113) | \* @param string $category Category label. |
| [2114](#L2114) | \* |
| [2115](#L2115) | \* @access  public |
| [2116](#L2116) | \* @return string |
| [2117](#L2117) | \* @since   3.0 |
| [2118](#L2118) | \*/ |
| [2119](#L2119) | function get\_category\_label( $category ) { |
| [2120](#L2120) | foreach ( epl\_get\_contact\_categories() as $key    => $cat ) { |
| [2121](#L2121) | if ( $key === $category ) { |
| [2122](#L2122) | return $cat; |
| [2123](#L2123) | } |
| [2124](#L2124) | } |
| [2125](#L2125) | return $category; |
| [2126](#L2126) | } |
| [2127](#L2127) |  |
| [2128](#L2128) | /\*\* |
| [2129](#L2129) | \* Helper function starts with |
| [2130](#L2130) | \* |
| [2131](#L2131) | \* @param string $haystack String. |
| [2132](#L2132) | \* @param string $needle String. |
| [2133](#L2133) | \* |
| [2134](#L2134) | \* @return bool |
| [2135](#L2135) | \* @since 3.3 |
| [2136](#L2136) | \*/ |
| [2137](#L2137) | function epl\_starts\_with( $haystack, $needle ) { |
| [2138](#L2138) | // search backwards starting from haystack length characters from the end. |
| [2139](#L2139) | return empty( $needle ) || strrpos( $haystack, $needle, -strlen( $haystack ) ) !== false; |
| [2140](#L2140) | } |
| [2141](#L2141) |  |
| [2142](#L2142) | /\*\* |
| [2143](#L2143) | \* Helper function ends with |
| [2144](#L2144) | \* |
| [2145](#L2145) | \* @param string $haystack String. |
| [2146](#L2146) | \* @param string $needle String. |
| [2147](#L2147) | \* |
| [2148](#L2148) | \* @return bool |
| [2149](#L2149) | \* @since 3.3 |
| [2150](#L2150) | \*/ |
| [2151](#L2151) | function epl\_ends\_with( $haystack, $needle ) { |
| [2152](#L2152) | // search forward starting from end minus needle length characters. |
| [2153](#L2153) | $temp = strlen( $haystack ) - strlen( $needle ); |
| [2154](#L2154) | return empty( $needle ) || ( $temp >= 0 && strpos( $haystack, $needle, $temp ) !== false ); |
| [2155](#L2155) | } |
| [2156](#L2156) |  |
| [2157](#L2157) | /\*\* |
| [2158](#L2158) | \* Parse EPL shortcodes for meta queries |
| [2159](#L2159) | \* |
| [2160](#L2160) | \* @param  array $atts Attributes. |
| [2161](#L2161) | \* @return array |
| [2162](#L2162) | \* |
| [2163](#L2163) | \* @since 3.5 Fix: PHP 8.2. Automatic conversion of false to array is deprecated fix. |
| [2164](#L2164) | \*/ |
| [2165](#L2165) | function epl\_parse\_atts( $atts ) { |
| [2166](#L2166) |  |
| [2167](#L2167) | $query = array(); |
| [2168](#L2168) |  |
| [2169](#L2169) | if ( empty( $atts ) ) { |
| [2170](#L2170) | return $atts; |
| [2171](#L2171) | } |
| [2172](#L2172) |  |
| [2173](#L2173) | $compare\_operators = array( |
| [2174](#L2174) | '\_min'         => '>=', |
| [2175](#L2175) | '\_max'         => '<=', |
| [2176](#L2176) | '\_not\_equal'   => '!=', |
| [2177](#L2177) | '\_like'        => 'LIKE', |
| [2178](#L2178) | '\_not\_like'    => 'NOT LIKE', |
| [2179](#L2179) | '\_exists'      => 'EXISTS', |
| [2180](#L2180) | '\_not\_exists'  => 'NOT EXISTS', |
| [2181](#L2181) | '\_in'          => 'IN', |
| [2182](#L2182) | '\_not\_in'      => 'NOT IN', |
| [2183](#L2183) | '\_between'     => 'BETWEEN', |
| [2184](#L2184) | '\_not\_between' => 'NOT BETWEEN', |
| [2185](#L2185) | ); |
| [2186](#L2186) |  |
| [2187](#L2187) | foreach ( $atts as $key   => &$value ) { |
| [2188](#L2188) |  |
| [2189](#L2189) | $this\_query = array( |
| [2190](#L2190) | 'compare' => '=', |
| [2191](#L2191) | 'value'   => $value, |
| [2192](#L2192) | ); |
| [2193](#L2193) |  |
| [2194](#L2194) | // check for meta. |
| [2195](#L2195) | if ( epl\_starts\_with( $key, '\_' ) ) { |
| [2196](#L2196) |  |
| [2197](#L2197) | $key = preg\_replace( '/^\_/', '', $key ); |
| [2198](#L2198) |  |
| [2199](#L2199) | foreach ( $compare\_operators as $look\_for => $compare\_operator ) { |
| [2200](#L2200) |  |
| [2201](#L2201) | if ( epl\_ends\_with( $key, $look\_for ) ) { |
| [2202](#L2202) |  |
| [2203](#L2203) | $key                   = preg\_replace( '/' . $look\_for . '$/', '', $key ); |
| [2204](#L2204) | $this\_query['compare'] = $compare\_operator; |
| [2205](#L2205) |  |
| [2206](#L2206) | if ( in\_array( $look\_for, array( '\_in', '\_not\_in', '\_between', '\_not\_between' ), true ) ) { |
| [2207](#L2207) |  |
| [2208](#L2208) | $this\_query['value'] = |
| [2209](#L2209) | array\_map( 'trim', explode( ',', $this\_query['value'] ) ); |
| [2210](#L2210) |  |
| [2211](#L2211) | if ( in\_array( $look\_for, array( '\_between', '\_not\_between' ), true ) ) { |
| [2212](#L2212) |  |
| [2213](#L2213) | if ( is\_numeric( $this\_query['value'][0] ) ) { |
| [2214](#L2214) | $this\_query['type'] = 'numeric'; |
| [2215](#L2215) | } |
| [2216](#L2216) | } |
| [2217](#L2217) | } |
| [2218](#L2218) |  |
| [2219](#L2219) | if ( in\_array( $look\_for, array( '\_exists', '\_not\_exists' ), true ) ) { |
| [2220](#L2220) | unset( $this\_query['value'] ); |
| [2221](#L2221) | } |
| [2222](#L2222) | } |
| [2223](#L2223) | } |
| [2224](#L2224) | $this\_query['key']                       = $key; |
| [2225](#L2225) | $query['meta\_query'][ $key . '\_clause' ] = $this\_query; |
| [2226](#L2226) | } |
| [2227](#L2227) | } |
| [2228](#L2228) | return isset( $query['meta\_query'] ) ? $query['meta\_query'] : array(); |
| [2229](#L2229) | } |
| [2230](#L2230) |  |
| [2231](#L2231) | /\*\* |
| [2232](#L2232) | \* Return an array of all extensions with beta support |
| [2233](#L2233) | \* |
| [2234](#L2234) | \* Extensions should be added as 'extension-slug' => 'Extension Name' |
| [2235](#L2235) | \* |
| [2236](#L2236) | \* @return array $extensions The array of extensions |
| [2237](#L2237) | \*/ |
| [2238](#L2238) | function epl\_get\_beta\_enabled\_extensions() { |
| [2239](#L2239) | return apply\_filters( 'epl\_beta\_enabled\_extensions', array() ); |
| [2240](#L2240) | } |
| [2241](#L2241) |  |
| [2242](#L2242) | /\*\* |
| [2243](#L2243) | \* Returns List of countries |
| [2244](#L2244) | \* |
| [2245](#L2245) | \* @since 3.2 |
| [2246](#L2246) | \*/ |
| [2247](#L2247) | function epl\_get\_countries\_list() { |
| [2248](#L2248) |  |
| [2249](#L2249) | $countries = array( 'Australia', 'Afghanistan', 'Albania', 'Algeria', 'American Samoa', 'Andorra', 'Angola', 'Anguilla', 'Antarctica', 'Antigua and Barbuda', 'Argentina', 'Armenia', 'Aruba', 'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bolivia', 'Bosnia and Herzegowina', 'Botswana', 'Bouvet Island', 'Brazil', 'British Indian Ocean Territory', 'Brunei Darussalam', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon', 'Canada', 'Cape Verde', 'Cayman Islands', 'Central African Republic', 'Chad', 'Chile', 'China', 'Christmas Island', 'Cocos (Keeling) Islands', 'Colombia', 'Comoros', 'Congo', 'Congo, the Democratic Republic of the', 'Cook Islands', 'Costa Rica', "Cote d'Ivoire", 'Croatia (Hrvatska)', 'Cuba', 'Cyprus', 'Czech Republic', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'East Timor', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Ethiopia', 'Falkland Islands (Malvinas)', 'Faroe Islands', 'Fiji', 'Finland', 'France', 'France Metropolitan', 'French Guiana', 'French Polynesia', 'French Southern Territories', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Gibraltar', 'Greece', 'Greenland', 'Grenada', 'Guadeloupe', 'Guam', 'Guatemala', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Heard and Mc Donald Islands', 'Holy See (Vatican City State)', 'Honduras', 'Hong Kong', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran (Islamic Republic of)', 'Iraq', 'Ireland', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', "Korea, Democratic People's Republic of", 'Korea, Republic of', 'Kuwait', 'Kyrgyzstan', "Lao, People's Democratic Republic", 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libyan Arab Jamahiriya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Macau', 'Macedonia, The Former Yugoslav Republic of', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Martinique', 'Mauritania', 'Mauritius', 'Mayotte', 'Mexico', 'Micronesia, Federated States of', 'Moldova, Republic of', 'Monaco', 'Mongolia', 'Montserrat', 'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'Netherlands Antilles', 'New Caledonia', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Niue', 'Norfolk Island', 'Northern Mariana Islands', 'Norway', 'Oman', 'Pakistan', 'Palau', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Pitcairn', 'Poland', 'Portugal', 'Puerto Rico', 'Qatar', 'Reunion', 'Romania', 'Russian Federation', 'Rwanda', 'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Vincent and the Grenadines', 'Samoa', 'San Marino', 'Sao Tome and Principe', 'Saudi Arabia', 'Senegal', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia (Slovak Republic)', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'South Georgia and the South Sandwich Islands', 'Spain', 'Sri Lanka', 'St. Helena', 'St. Pierre and Miquelon', 'Sudan', 'Suriname', 'Svalbard and Jan Mayen Islands', 'Swaziland', 'Sweden', 'Switzerland', 'Syrian Arab Republic', 'Taiwan, Province of China', 'Tajikistan', 'Tanzania, United Republic of', 'Thailand', 'Togo', 'Tokelau', 'Tonga', 'Trinidad and Tobago', 'Tunisia', 'Turkey', 'Turkmenistan', 'Turks and Caicos Islands', 'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'United States', 'United States Minor Outlying Islands', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Venezuela', 'Vietnam', 'Virgin Islands (British)', 'Virgin Islands (U.S.)', 'Wallis and Futuna Islands', 'Western Sahara', 'Yemen', 'Yugoslavia', 'Zambia', 'Zimbabwe' ); |
| [2250](#L2250) |  |
| [2251](#L2251) | return apply\_filters( 'epl\_get\_countries\_list', array\_combine( $countries, $countries ) ); |
| [2252](#L2252) | } |
| [2253](#L2253) |  |
| [2254](#L2254) | /\*\* |
| [2255](#L2255) | \* Returns array containing Property Status |
| [2256](#L2256) | \* |
| [2257](#L2257) | \* @since 3.2 |
| [2258](#L2258) | \* @since 3.4.45 Added deleted status. Re-orderd status options. |
| [2259](#L2259) | \*/ |
| [2260](#L2260) | function epl\_get\_property\_status\_opts() { |
| [2261](#L2261) |  |
| [2262](#L2262) | return apply\_filters( |
| [2263](#L2263) | 'epl\_opts\_property\_status\_filter', |
| [2264](#L2264) | array( |
| [2265](#L2265) | 'current'   => \_\_( 'Current', 'easy-property-listings' ), |
| [2266](#L2266) | 'sold'      => array( |
| [2267](#L2267) | 'label'   => apply\_filters( 'epl\_sold\_label\_status\_filter', \_\_( 'Sold', 'easy-property-listings' ) ), |
| [2268](#L2268) | 'exclude' => array( 'rental' ), |
| [2269](#L2269) | ), |
| [2270](#L2270) | 'leased'    => array( |
| [2271](#L2271) | 'label'   => apply\_filters( 'epl\_leased\_label\_status\_filter', \_\_( 'Leased', 'easy-property-listings' ) ), |
| [2272](#L2272) | 'include' => array( 'rental', 'commercial', 'commercial\_land', 'business' ), |
| [2273](#L2273) | ), |
| [2274](#L2274) | 'withdrawn' => \_\_( 'Withdrawn', 'easy-property-listings' ), |
| [2275](#L2275) | 'offmarket' => \_\_( 'Off Market', 'easy-property-listings' ), |
| [2276](#L2276) | 'deleted'   => \_\_( 'Deleted', 'easy-property-listings' ), |
| [2277](#L2277) | ) |
| [2278](#L2278) | ); |
| [2279](#L2279) | } |
| [2280](#L2280) |  |
| [2281](#L2281) | /\*\* |
| [2282](#L2282) | \* Returns the status label for given status value. |
| [2283](#L2283) | \* |
| [2284](#L2284) | \* @since 3.5.0 |
| [2285](#L2285) | \* |
| [2286](#L2286) | \* @param bool $status Status status value. |
| [2287](#L2287) | \* @return string $label Status label. |
| [2288](#L2288) | \*/ |
| [2289](#L2289) | function epl\_get\_the\_status\_label( $status = '' ) { |
| [2290](#L2290) |  |
| [2291](#L2291) | $status\_opts = epl\_get\_property\_status\_opts(); |
| [2292](#L2292) |  |
| [2293](#L2293) | if ( 0 === strlen( $status ) ) { |
| [2294](#L2294) | return null; |
| [2295](#L2295) | } |
| [2296](#L2296) |  |
| [2297](#L2297) | $status\_data = $status\_opts[ $status ]; |
| [2298](#L2298) |  |
| [2299](#L2299) | $label = is\_array( $status\_data ) && isset( $status\_data['label'] ) ? $status\_data['label'] : $status\_data; |
| [2300](#L2300) |  |
| [2301](#L2301) | return $label; |
| [2302](#L2302) | } |
| [2303](#L2303) |  |
| [2304](#L2304) | /\*\* |
| [2305](#L2305) | \* Returns the array of status available in the site as key, label pair. |
| [2306](#L2306) | \* |
| [2307](#L2307) | \* @since 3.5.0 |
| [2308](#L2308) | \* |
| [2309](#L2309) | \* @param string $key Post Meta Key. |
| [2310](#L2310) | \* @param string $type Post Type. Default is post. You can pass custom post type here. |
| [2311](#L2311) | \* |
| [2312](#L2312) | \* @return string|array $label Status label. |
| [2313](#L2313) | \*/ |
| [2314](#L2314) | function epl\_get\_available\_status\_list( $key, $type ) { |
| [2315](#L2315) |  |
| [2316](#L2316) | $status\_list = epl\_get\_unique\_post\_meta\_values( $key, $type ); |
| [2317](#L2317) | $available   = array(); |
| [2318](#L2318) |  |
| [2319](#L2319) | if ( empty( $status\_list ) ) { |
| [2320](#L2320) | return array(); |
| [2321](#L2321) | } |
| [2322](#L2322) |  |
| [2323](#L2323) | foreach ( $status\_list as $key => $key\_label ) { |
| [2324](#L2324) | $available[ $key ] = epl\_get\_the\_status\_label( $key ); |
| [2325](#L2325) | } |
| [2326](#L2326) |  |
| [2327](#L2327) | return apply\_filters( 'epl\_get\_available\_status\_list', $available, $key, $type ); |
| [2328](#L2328) | } |
| [2329](#L2329) |  |
| [2330](#L2330) | /\*\* |
| [2331](#L2331) | \* Returns array containing Property authority |
| [2332](#L2332) | \* |
| [2333](#L2333) | \* @since 3.2 |
| [2334](#L2334) | \*/ |
| [2335](#L2335) | function epl\_get\_property\_authority\_opts() { |
| [2336](#L2336) |  |
| [2337](#L2337) | return apply\_filters( |
| [2338](#L2338) | 'epl\_property\_authority\_filter', |
| [2339](#L2339) | array( |
| [2340](#L2340) | 'exclusive'     => \_\_( 'Exclusive', 'easy-property-listings' ), |
| [2341](#L2341) | 'auction'       => \_\_( 'Auction', 'easy-property-listings' ), |
| [2342](#L2342) | 'multilist'     => \_\_( 'Multilist', 'easy-property-listings' ), |
| [2343](#L2343) | 'conjunctional' => \_\_( 'Conjunctional', 'easy-property-listings' ), |
| [2344](#L2344) | 'open'          => \_\_( 'Open', 'easy-property-listings' ), |
| [2345](#L2345) | 'sale'          => \_\_( 'Sale', 'easy-property-listings' ), |
| [2346](#L2346) | 'setsale'       => \_\_( 'Set Sale', 'easy-property-listings' ), |
| [2347](#L2347) | ) |
| [2348](#L2348) | ); |
| [2349](#L2349) | } |
| [2350](#L2350) |  |
| [2351](#L2351) | /\*\* |
| [2352](#L2352) | \* Returns array containing Property exclusivity |
| [2353](#L2353) | \* |
| [2354](#L2354) | \* @since 3.2 |
| [2355](#L2355) | \*/ |
| [2356](#L2356) | function epl\_get\_property\_exclusivity\_opts() { |
| [2357](#L2357) |  |
| [2358](#L2358) | return apply\_filters( |
| [2359](#L2359) | 'epl\_opts\_property\_exclusivity\_filter', |
| [2360](#L2360) | array( |
| [2361](#L2361) | 'exclusive' => \_\_( 'Exclusive', 'easy-property-listings' ), |
| [2362](#L2362) | 'open'      => \_\_( 'Open', 'easy-property-listings' ), |
| [2363](#L2363) | ) |
| [2364](#L2364) | ); |
| [2365](#L2365) | } |
| [2366](#L2366) |  |
| [2367](#L2367) | /\*\* |
| [2368](#L2368) | \* Returns array containing Commercial Authority |
| [2369](#L2369) | \* |
| [2370](#L2370) | \* @since 3.2 |
| [2371](#L2371) | \* @since 3.4.26 Re-ordered options. |
| [2372](#L2372) | \*/ |
| [2373](#L2373) | function epl\_get\_property\_com\_authority\_opts() { |
| [2374](#L2374) |  |
| [2375](#L2375) | return apply\_filters( |
| [2376](#L2376) | 'epl\_opts\_property\_com\_authority\_filter', |
| [2377](#L2377) | array( |
| [2378](#L2378) | 'Forsale' => \_\_( 'For Sale', 'easy-property-listings' ), |
| [2379](#L2379) | 'auction' => \_\_( 'Auction', 'easy-property-listings' ), |
| [2380](#L2380) | 'eoi'     => \_\_( 'EOI', 'easy-property-listings' ), |
| [2381](#L2381) | 'offers'  => \_\_( 'Offers', 'easy-property-listings' ), |
| [2382](#L2382) | 'Sale'    => \_\_( 'Sale', 'easy-property-listings' ), |
| [2383](#L2383) | 'tender'  => \_\_( 'Tender', 'easy-property-listings' ), |
| [2384](#L2384) | ) |
| [2385](#L2385) | ); |
| [2386](#L2386) | } |
| [2387](#L2387) |  |
| [2388](#L2388) | /\*\* |
| [2389](#L2389) | \* Returns array containing area unit options |
| [2390](#L2390) | \* |
| [2391](#L2391) | \* @since 3.2 |
| [2392](#L2392) | \*/ |
| [2393](#L2393) | function epl\_get\_property\_area\_unit\_opts() { |
| [2394](#L2394) |  |
| [2395](#L2395) | return apply\_filters( |
| [2396](#L2396) | 'epl\_opts\_area\_unit\_filter', |
| [2397](#L2397) | array( |
| [2398](#L2398) | 'square'      => \_\_( 'Square', 'easy-property-listings' ), |
| [2399](#L2399) | 'squareMeter' => \_\_( 'Square Meter', 'easy-property-listings' ), |
| [2400](#L2400) | 'acre'        => \_\_( 'Acre', 'easy-property-listings' ), |
| [2401](#L2401) | 'hectare'     => \_\_( 'Hectare', 'easy-property-listings' ), |
| [2402](#L2402) | 'sqft'        => \_\_( 'Square Feet', 'easy-property-listings' ), |
| [2403](#L2403) | ) |
| [2404](#L2404) | ); |
| [2405](#L2405) | } |
| [2406](#L2406) |  |
| [2407](#L2407) | /\*\* |
| [2408](#L2408) | \* Returns array containing Rental period |
| [2409](#L2409) | \* |
| [2410](#L2410) | \* @since 3.2 |
| [2411](#L2411) | \*/ |
| [2412](#L2412) | function epl\_get\_property\_rent\_period\_opts() { |
| [2413](#L2413) |  |
| [2414](#L2414) | return apply\_filters( |
| [2415](#L2415) | 'epl\_opts\_rent\_period\_filter', |
| [2416](#L2416) | array( |
| [2417](#L2417) | 'day'     => \_\_( 'Day', 'easy-property-listings' ), |
| [2418](#L2418) | 'daily'   => \_\_( 'Daily', 'easy-property-listings' ), |
| [2419](#L2419) | 'week'    => \_\_( 'Week', 'easy-property-listings' ), |
| [2420](#L2420) | 'weekly'  => \_\_( 'Weekly', 'easy-property-listings' ), |
| [2421](#L2421) | 'month'   => \_\_( 'Month', 'easy-property-listings' ), |
| [2422](#L2422) | 'monthly' => \_\_( 'Monthly', 'easy-property-listings' ), |
| [2423](#L2423) | ) |
| [2424](#L2424) | ); |
| [2425](#L2425) | } |
| [2426](#L2426) |  |
| [2427](#L2427) | /\*\* |
| [2428](#L2428) | \* Returns array containing Commercial Leasing Types |
| [2429](#L2429) | \* |
| [2430](#L2430) | \* @since 3.2 |
| [2431](#L2431) | \*/ |
| [2432](#L2432) | function epl\_get\_property\_com\_listing\_type\_opts() { |
| [2433](#L2433) |  |
| [2434](#L2434) | return apply\_filters( |
| [2435](#L2435) | 'epl\_opts\_property\_com\_listing\_type\_filter', |
| [2436](#L2436) | array( |
| [2437](#L2437) | 'sale'  => \_\_( 'Sale', 'easy-property-listings' ), |
| [2438](#L2438) | 'lease' => \_\_( 'Lease', 'easy-property-listings' ), |
| [2439](#L2439) | 'both'  => \_\_( 'Both', 'easy-property-listings' ), |
| [2440](#L2440) | ) |
| [2441](#L2441) | ); |
| [2442](#L2442) | } |
| [2443](#L2443) |  |
| [2444](#L2444) | /\*\* |
| [2445](#L2445) | \* Returns array containing Commercial Tenancy |
| [2446](#L2446) | \* |
| [2447](#L2447) | \* @since 3.2 |
| [2448](#L2448) | \*/ |
| [2449](#L2449) | function epl\_get\_property\_com\_tenancy\_opts() { |
| [2450](#L2450) |  |
| [2451](#L2451) | return apply\_filters( |
| [2452](#L2452) | 'epl\_opts\_property\_com\_tenancy\_filter', |
| [2453](#L2453) | array( |
| [2454](#L2454) | 'unknown'  => \_\_( 'Unknown', 'easy-property-listings' ), |
| [2455](#L2455) | 'vacant'   => \_\_( 'Vacant', 'easy-property-listings' ), |
| [2456](#L2456) | 'tenanted' => \_\_( 'Tenanted', 'easy-property-listings' ), |
| [2457](#L2457) | ) |
| [2458](#L2458) | ); |
| [2459](#L2459) | } |
| [2460](#L2460) |  |
| [2461](#L2461) | /\*\* |
| [2462](#L2462) | \* Returns array containing Commercial Land Extent |
| [2463](#L2463) | \* |
| [2464](#L2464) | \* @since 3.2 |
| [2465](#L2465) | \*/ |
| [2466](#L2466) | function epl\_get\_property\_com\_property\_extent\_opts() { |
| [2467](#L2467) |  |
| [2468](#L2468) | return apply\_filters( |
| [2469](#L2469) | 'epl\_opts\_property\_com\_property\_extent\_filter', |
| [2470](#L2470) | array( |
| [2471](#L2471) | 'whole' => \_\_( 'Whole', 'easy-property-listings' ), |
| [2472](#L2472) | 'part'  => \_\_( 'Part', 'easy-property-listings' ), |
| [2473](#L2473) | ) |
| [2474](#L2474) | ); |
| [2475](#L2475) | } |
| [2476](#L2476) |  |
| [2477](#L2477) | /\*\* |
| [2478](#L2478) | \* Get author id from name |
| [2479](#L2479) | \* |
| [2480](#L2480) | \* @param string $author Author name. |
| [2481](#L2481) | \* |
| [2482](#L2482) | \* @return int |
| [2483](#L2483) | \* @since 3.1.1 |
| [2484](#L2484) | \*/ |
| [2485](#L2485) | function epl\_get\_author\_id\_from\_name( $author ) { |
| [2486](#L2486) | if ( is\_numeric( $author ) ) { |
| [2487](#L2487) | return absint( $author ); |
| [2488](#L2488) | } else { |
| [2489](#L2489) | $user = get\_user\_by( 'login', $author ); |
| [2490](#L2490) | return $user->ID; |
| [2491](#L2491) | } |
| [2492](#L2492) | } |
| [2493](#L2493) |  |
| [2494](#L2494) | /\*\* |
| [2495](#L2495) | \* WP All Import Pro filter that processes property\_price\_global after updating or saving a post |
| [2496](#L2496) | \* |
| [2497](#L2497) | \* @param string $id Post ID. |
| [2498](#L2498) | \* @since 3.3 |
| [2499](#L2499) | \*/ |
| [2500](#L2500) | function epl\_pmxi\_import\_post\_saved( $id ) { |
| [2501](#L2501) |  |
| [2502](#L2502) | $post = get\_post( $id ); |
| [2503](#L2503) |  |
| [2504](#L2504) | if ( is\_null( $post ) ) { |
| [2505](#L2505) | return; |
| [2506](#L2506) | } |
| [2507](#L2507) |  |
| [2508](#L2508) | if ( is\_epl\_post( $post->post\_type ) ) { |
| [2509](#L2509) |  |
| [2510](#L2510) | if ( 'rental' === $post->post\_type ) { |
| [2511](#L2511) | $price = get\_post\_meta( $id, 'property\_rent', true ); |
| [2512](#L2512) | update\_post\_meta( $id, 'property\_price\_global', $price ); |
| [2513](#L2513) | } elseif ( 'commercial' === $post->post\_type ) { |
| [2514](#L2514) | $price = get\_post\_meta( $id, 'property\_price', true ); |
| [2515](#L2515) | if ( empty( $price ) ) { |
| [2516](#L2516) | $price = get\_post\_meta( $id, 'property\_com\_rent', true ); |
| [2517](#L2517) | } |
| [2518](#L2518) | update\_post\_meta( $id, 'property\_price\_global', $price ); |
| [2519](#L2519) | } else { |
| [2520](#L2520) | $price = get\_post\_meta( $id, 'property\_price', true ); |
| [2521](#L2521) | update\_post\_meta( $id, 'property\_price\_global', $price ); |
| [2522](#L2522) | } |
| [2523](#L2523) | } |
| [2524](#L2524) | } |
| [2525](#L2525) | add\_action( 'pmxi\_saved\_post', 'epl\_pmxi\_import\_post\_saved', 10, 1 ); |
| [2526](#L2526) |  |
| [2527](#L2527) | /\*\* |
| [2528](#L2528) | \* Load functions from child theme folder if present |
| [2529](#L2529) | \* |
| [2530](#L2530) | \* @since 3.3 |
| [2531](#L2531) | \*/ |
| [2532](#L2532) | function epl\_single\_and\_archive\_functions() { |
| [2533](#L2533) |  |
| [2534](#L2534) | if ( is\_epl\_post\_single() && file\_exists( get\_stylesheet\_directory() . '/easypropertylistings/functions-single.php' ) ) { |
| [2535](#L2535) | include\_once get\_stylesheet\_directory() . '/easypropertylistings/functions-single.php'; |
| [2536](#L2536) | } |
| [2537](#L2537) |  |
| [2538](#L2538) | if ( is\_epl\_post\_archive() && file\_exists( get\_stylesheet\_directory() . '/easypropertylistings/functions-archive.php' ) ) { |
| [2539](#L2539) | include\_once get\_stylesheet\_directory() . '/easypropertylistings/functions-archive.php'; |
| [2540](#L2540) | } |
| [2541](#L2541) | } |
| [2542](#L2542) | add\_action( 'wp', 'epl\_single\_and\_archive\_functions', 99 ); |
| [2543](#L2543) |  |
| [2544](#L2544) | /\*\* |
| [2545](#L2545) | \* Recursive array map for multi dimensional array |
| [2546](#L2546) | \* |
| [2547](#L2547) | \* @param string $callback Callback. |
| [2548](#L2548) | \* @param array  $array Array. |
| [2549](#L2549) | \* |
| [2550](#L2550) | \* @return array |
| [2551](#L2551) | \* @since 3.3.5 |
| [2552](#L2552) | \*/ |
| [2553](#L2553) | function epl\_array\_map\_recursive( $callback, $array ) { |
| [2554](#L2554) | $func = function ( $item ) use ( &$func, &$callback ) { //phpcs:ignore |
| [2555](#L2555) | return is\_array( $item ) ? array\_map( $func, $item ) : call\_user\_func( $callback, $item ); |
| [2556](#L2556) | }; |
| [2557](#L2557) | return array\_map( $func, $array ); |
| [2558](#L2558) | } |
| [2559](#L2559) |  |
| [2560](#L2560) | /\*\* |
| [2561](#L2561) | \* Sanitize function to allow certain safe html tags. |
| [2562](#L2562) | \* |
| [2563](#L2563) | \* @param array $content sanitized html content. |
| [2564](#L2564) | \* |
| [2565](#L2565) | \* @return string |
| [2566](#L2566) | \* @since 3.4.48 |
| [2567](#L2567) | \*/ |
| [2568](#L2568) | function epl\_sanitize\_html\_tags( $content ) { |
| [2569](#L2569) |  |
| [2570](#L2570) | $allowed\_tags = wp\_kses\_allowed\_html( 'post' ); |
| [2571](#L2571) |  |
| [2572](#L2572) | return wp\_kses( $content, $allowed\_tags ); |
| [2573](#L2573) | } |
| [2574](#L2574) |  |
| [2575](#L2575) | /\*\* |
| [2576](#L2576) | \* Function to generate a unique tab counter for search forms. |
| [2577](#L2577) | \* |
| [2578](#L2578) | \* @return int |
| [2579](#L2579) | \* @since 3.5 |
| [2580](#L2580) | \*/ |
| [2581](#L2581) | function epl\_generate\_unique\_tab\_counter() { |
| [2582](#L2582) |  |
| [2583](#L2583) | global $epl\_search\_shortcode\_counter; |
| [2584](#L2584) |  |
| [2585](#L2585) | if ( empty( $epl\_search\_shortcode\_counter ) ) { |
| [2586](#L2586) | $epl\_search\_shortcode\_counter = 0; |
| [2587](#L2587) | } |
| [2588](#L2588) |  |
| [2589](#L2589) | $epl\_search\_shortcode\_counter++; |
| [2590](#L2590) | return $epl\_search\_shortcode\_counter; |
| [2591](#L2591) | } |
| [2592](#L2592) |  |
| [2593](#L2593) | /\*\* |
| [2594](#L2594) | \* Function to generate a unique instance counter for search forms. |
| [2595](#L2595) | \* |
| [2596](#L2596) | \* @return int |
| [2597](#L2597) | \* @since 3.5 |
| [2598](#L2598) | \*/ |
| [2599](#L2599) | function epl\_generate\_search\_instance\_counter() { |
| [2600](#L2600) |  |
| [2601](#L2601) | global $epl\_search\_instance\_counter; |
| [2602](#L2602) |  |
| [2603](#L2603) | if ( empty( $epl\_search\_instance\_counter ) ) { |
| [2604](#L2604) | $epl\_search\_instance\_counter = 0; |
| [2605](#L2605) | } |
| [2606](#L2606) |  |
| [2607](#L2607) | $epl\_search\_instance\_counter++; |
| [2608](#L2608) | return $epl\_search\_instance\_counter; |
| [2609](#L2609) | } |
| [2610](#L2610) |  |
| [2611](#L2611) | /\*\* |
| [2612](#L2612) | \* Get the meta value as label helper function. |
| [2613](#L2613) | \* |
| [2614](#L2614) | \* @param string $meta\_key The meta key to get the label for. |
| [2615](#L2615) | \* |
| [2616](#L2616) | \* @return mixed |
| [2617](#L2617) | \* @since 3.5 |
| [2618](#L2618) | \*/ |
| [2619](#L2619) | function epl\_get\_property\_meta\_label( $meta\_key ) { |
| [2620](#L2620) |  |
| [2621](#L2621) | $value  = get\_property\_meta( $meta\_key ); |
| [2622](#L2622) | $return = $value; |
| [2623](#L2623) |  |
| [2624](#L2624) | if ( function\_exists( 'epl\_get\_' . $meta\_key . '\_opts' ) ) { |
| [2625](#L2625) |  |
| [2626](#L2626) | $labels = call\_user\_func( 'epl\_get\_' . $meta\_key . '\_opts' ); |
| [2627](#L2627) |  |
| [2628](#L2628) | if ( is\_string( $value ) && isset( $labels[ $value ] ) ) { |
| [2629](#L2629) | $return = $labels[ $value ]; |
| [2630](#L2630) | } |
| [2631](#L2631) | } |
| [2632](#L2632) |  |
| [2633](#L2633) | return $return; |
| [2634](#L2634) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/easy-property-listings/tags/3.5.2/lib/includes/functions.php?format=txt)
* [Original Format](/export/3220427/easy-property-listings/tags/3.5.2/lib/includes/functions.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

