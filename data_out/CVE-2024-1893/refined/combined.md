=== Content from plugins.trac.wordpress.org_be358fe1_20250110_195521.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Feasy-property-listings%2Ftags%2F3.5.2%2Flib%2Fincludes%2Ffunctions.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=2991552 "Revision 2991552")
* [Next Revision](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030 "Revision 3055030") →
* [Blame](/browser/easy-property-listings/trunk/lib/includes/functions.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/easy-property-listings/tags/3.5.2/lib/includes/functions.php)

---

# [source:](/browser?order=name "Go to repository root") [easy-property-listings](/browser/easy-property-listings?order=name "View easy-property-listings")/[tags](/browser/easy-property-listings/tags?order=name "View tags")/[3.5.2](/browser/easy-property-listings/tags/3.5.2?order=name "View 3.5.2")/[lib](/browser/easy-property-listings/tags/3.5.2/lib?order=name "View lib")/[includes](/browser/easy-property-listings/tags/3.5.2/lib/includes?order=name "View includes")/[functions.php](/browser/easy-property-listings/tags/3.5.2/lib/includes/functions.php?order=name "View functions.php")

View diff against:

View revision:

| [Last change](/changeset/3034371/easy-property-listings/trunk/lib/includes/functions.php "View differences") on this file was [3034371](/changeset/3034371/ "View changeset 3034371"), checked in by mervb1, [11 months ago](/timeline?from=2024-02-12T07%3A14%3A17Z&precision=second "See timeline at 02/12/2024 07:14:17 AM") |
| --- |
| Easy Property Listings 3.5.2 Maintenance Release   * New: Added epl\_archive\_title\_post\_type archive page title post type filter. * Tweak: Google Maps now load asynchronous. * Tweak: Added check to identify 0 values so that it's not ignored by empty check when using epl\_get\_option function. * Tweak: Removed additional property category appearing in additional features list. |
| **File size:** 81.2 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Front End Functions |
| [4](#L4) | \* |
| [5](#L5) | \* @package     EPL |
| [6](#L6) | \* @subpackage  Functions/Global |
| [7](#L7) | \* @copyright   Copyright (c) 2020, Merv Barrett |
| [8](#L8) | \* @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License |
| [9](#L9) | \* @since       1.0 |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Exit if accessed directly. |
| [13](#L13) | if ( ! defined( 'ABSPATH' ) ) { |
| [14](#L14) | exit; |
| [15](#L15) | } |
| [16](#L16) |  |
| [17](#L17) | /\*\* |
| [18](#L18) | \* Get an option |
| [19](#L19) | \* |
| [20](#L20) | \* Looks to see if the specified setting exists, returns default if not |
| [21](#L21) | \* |
| [22](#L22) | \* @param string $key Meta key. |
| [23](#L23) | \* @param bool   $default Returns default if not set. |
| [24](#L24) | \* |
| [25](#L25) | \* @return mixed |
| [26](#L26) | \* |
| [27](#L27) | \* @since 2.2 |
| [28](#L28) | \* @since 3.5.2 Added check to identify 0 values so that it's not ignored by empty check. |
| [29](#L29) | \*/ |
| [30](#L30) | function epl\_get\_option( $key = '', $default = false ) { |
| [31](#L31) |  |
| [32](#L32) | global $epl\_settings; |
| [33](#L33) |  |
| [34](#L34) | // Check for zeros. |
| [35](#L35) | if ( isset( $epl\_settings[ $key ] ) && is\_numeric( $epl\_settings[ $key ] ) && 0 === (int) $epl\_settings[ $key ] ) { |
| [36](#L36) | $value = 0; |
| [37](#L37) | } else { |
| [38](#L38) | // Preserve empty check for rest of the values to preserve the behaviour: if value empty, then return default. |
| [39](#L39) | $value = ! empty( $epl\_settings[ $key ] ) ? $epl\_settings[ $key ] : $default; |
| [40](#L40) | } |
| [41](#L41) |  |
| [42](#L42) | $value = apply\_filters( 'epl\_get\_option', $value, $key, $default ); |
| [43](#L43) | return apply\_filters( 'epl\_get\_option\_' . $key, $value, $key, $default ); |
| [44](#L44) |  |
| [45](#L45) | } |
| [46](#L46) |  |
| [47](#L47) | /\*\* |
| [48](#L48) | \* Determine if Divi framework is loaded |
| [49](#L49) | \* |
| [50](#L50) | \* @since 3.1 |
| [51](#L51) | \*/ |
| [52](#L52) | function epl\_is\_divi\_framework\_theme() { |
| [53](#L53) | if ( function\_exists( 'et\_divi\_fonts\_url' ) ) { |
| [54](#L54) | return true; |
| [55](#L55) | } |
| [56](#L56) | return false; |
| [57](#L57) | } |
| [58](#L58) |  |
| [59](#L59) | /\*\* |
| [60](#L60) | \* Determine if iThemes Builder framework is loaded |
| [61](#L61) | \* |
| [62](#L62) | \* @since 1.0 |
| [63](#L63) | \*/ |
| [64](#L64) | function epl\_is\_builder\_framework\_theme() { |
| [65](#L65) | if ( function\_exists( 'it\_classes\_load' ) ) { |
| [66](#L66) | return true; |
| [67](#L67) | } |
| [68](#L68) | return false; |
| [69](#L69) | } |
| [70](#L70) |  |
| [71](#L71) | /\*\* |
| [72](#L72) | \* Determine if Genesis framework is loaded |
| [73](#L73) | \* |
| [74](#L74) | \* @since 1.0 |
| [75](#L75) | \*/ |
| [76](#L76) | function epl\_is\_genesis\_framework\_theme() { |
| [77](#L77) | if ( function\_exists( 'genesis\_constants' ) ) { |
| [78](#L78) | return true; |
| [79](#L79) | } |
| [80](#L80) | return false; |
| [81](#L81) | } |
| [82](#L82) |  |
| [83](#L83) | /\*\* |
| [84](#L84) | \* Determine if TwentyTwenty is loaded |
| [85](#L85) | \* |
| [86](#L86) | \* @since 3.4.14 |
| [87](#L87) | \*/ |
| [88](#L88) | function epl\_is\_twenty\_twenty\_theme() { |
| [89](#L89) | if ( function\_exists( 'twentytwenty\_theme\_support' ) ) { |
| [90](#L90) | return true; |
| [91](#L91) | } |
| [92](#L92) | return false; |
| [93](#L93) | } |
| [94](#L94) |  |
| [95](#L95) | /\*\* |
| [96](#L96) | \* Determine if Avada is loaded |
| [97](#L97) | \* |
| [98](#L98) | \* @since 3.4.26 |
| [99](#L99) | \*/ |
| [100](#L100) | function epl\_is\_avada\_theme() { |
| [101](#L101) | if ( function\_exists( 'Avada' ) ) { |
| [102](#L102) | return true; |
| [103](#L103) | } |
| [104](#L104) | return false; |
| [105](#L105) | } |
| [106](#L106) |  |
| [107](#L107) | /\*\* |
| [108](#L108) | \* Used in the widgets by appending the registered image sizes |
| [109](#L109) | \* |
| [110](#L110) | \* @since 1.0 |
| [111](#L111) | \* @since 3.4.24 Added full size in array. |
| [112](#L112) | \*/ |
| [113](#L113) | function epl\_get\_thumbnail\_sizes() { |
| [114](#L114) | global $\_wp\_additional\_image\_sizes; |
| [115](#L115) | $sizes = array( |
| [116](#L116) | 'full' => array(), |
| [117](#L117) | ); |
| [118](#L118) | foreach ( get\_intermediate\_image\_sizes() as $s ) { |
| [119](#L119) | $sizes[ $s ] = array( 0, 0 ); |
| [120](#L120) | if ( in\_array( $s, array( 'thumbnail', 'medium', 'large' ), true ) ) { |
| [121](#L121) | $sizes[ $s ][0] = get\_option( $s . '\_size\_w' ); |
| [122](#L122) | $sizes[ $s ][1] = get\_option( $s . '\_size\_h' ); |
| [123](#L123) | } else { |
| [124](#L124) | if ( isset( $\_wp\_additional\_image\_sizes ) && isset( $\_wp\_additional\_image\_sizes[ $s ] ) ) { |
| [125](#L125) | $sizes[ $s ] = array( $\_wp\_additional\_image\_sizes[ $s ]['width'], $\_wp\_additional\_image\_sizes[ $s ]['height'] ); |
| [126](#L126) | } |
| [127](#L127) | } |
| [128](#L128) | } |
| [129](#L129) | return $sizes; |
| [130](#L130) | } |
| [131](#L131) |  |
| [132](#L132) | /\*\* |
| [133](#L133) | \* Remote get function |
| [134](#L134) | \* |
| [135](#L135) | \* @param string $url Url. |
| [136](#L136) | \* |
| [137](#L137) | \* @return string |
| [138](#L138) | \* @since 3.3.5 Removed curl. |
| [139](#L139) | \* @since 1.0 |
| [140](#L140) | \*/ |
| [141](#L141) | function epl\_remote\_url\_get( $url ) { |
| [142](#L142) |  |
| [143](#L143) | $response = wp\_remote\_get( $url ); |
| [144](#L144) | return wp\_remote\_retrieve\_body( $response ); |
| [145](#L145) | } |
| [146](#L146) |  |
| [147](#L147) | /\*\* |
| [148](#L148) | \* Register post type to EPL and WordPress |
| [149](#L149) | \* |
| [150](#L150) | \* @param string $post\_type Post type name. |
| [151](#L151) | \* @param string $post\_type\_label Post type label. |
| [152](#L152) | \* @param array  $args Arguments. |
| [153](#L153) | \* |
| [154](#L154) | \* @since 1.0.0 |
| [155](#L155) | \* @since 3.4.20 flush permalinks after new settings are saved. |
| [156](#L156) | \* @since 3.4.26 Set $post\_type\_label to blank by default. |
| [157](#L157) | \*/ |
| [158](#L158) | function epl\_register\_post\_type( $post\_type = '', $post\_type\_label = '', $args = array() ) { |
| [159](#L159) | if ( empty( $post\_type ) ) { |
| [160](#L160) | return; |
| [161](#L161) | } |
| [162](#L162) |  |
| [163](#L163) | global $epl\_settings; |
| [164](#L164) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['activate\_post\_types'] ) ) { |
| [165](#L165) | $epl\_activate\_post\_types = $epl\_settings['activate\_post\_types']; |
| [166](#L166) | if ( ! empty( $epl\_activate\_post\_types ) ) { |
| [167](#L167) | if ( in\_array( $post\_type, $epl\_activate\_post\_types, true ) ) { |
| [168](#L168) | global $epl\_active\_post\_types; |
| [169](#L169) | if ( ! isset( $epl\_active\_post\_types ) ) { |
| [170](#L170) | $epl\_active\_post\_types = array(); |
| [171](#L171) | } |
| [172](#L172) | $epl\_active\_post\_types[ $post\_type ] = $post\_type\_label; |
| [173](#L173) | register\_post\_type( $post\_type, $args ); |
| [174](#L174) | } |
| [175](#L175) | } |
| [176](#L176) | } |
| [177](#L177) |  |
| [178](#L178) | if ( isset( $\_REQUEST['action'] ) && 'epl\_settings' === $\_REQUEST['action'] ) { //phpcs:ignore |
| [179](#L179) | update\_option( 'epl\_rewrite\_rules', false ); |
| [180](#L180) | } |
| [181](#L181) | } |
| [182](#L182) |  |
| [183](#L183) | /\*\* |
| [184](#L184) | \* Return all the post types that are selected as active by admin |
| [185](#L185) | \* |
| [186](#L186) | \* @since 1.0 |
| [187](#L187) | \*/ |
| [188](#L188) | function epl\_get\_active\_post\_types() { |
| [189](#L189) | global $epl\_active\_post\_types; |
| [190](#L190) | if ( is\_null( $epl\_active\_post\_types ) ) { |
| [191](#L191) | $epl\_active\_post\_types = array(); |
| [192](#L192) | } |
| [193](#L193) | return $epl\_active\_post\_types; |
| [194](#L194) | } |
| [195](#L195) |  |
| [196](#L196) | /\*\* |
| [197](#L197) | \* Return all the post types doesn't matter if selected as active or not by admin |
| [198](#L198) | \* |
| [199](#L199) | \* @since 1.0 |
| [200](#L200) | \*/ |
| [201](#L201) | function epl\_get\_post\_types() { |
| [202](#L202) | $epl\_post\_types = array( |
| [203](#L203) | 'property'        => \_\_( 'Property (Residential)', 'easy-property-listings' ), |
| [204](#L204) | 'land'            => \_\_( 'Land', 'easy-property-listings' ), |
| [205](#L205) | 'rental'          => \_\_( 'Rental', 'easy-property-listings' ), |
| [206](#L206) | 'rural'           => \_\_( 'Rural', 'easy-property-listings' ), |
| [207](#L207) | 'commercial'      => \_\_( 'Commercial', 'easy-property-listings' ), |
| [208](#L208) | 'commercial\_land' => \_\_( 'Commercial Land', 'easy-property-listings' ), |
| [209](#L209) | 'business'        => \_\_( 'Business', 'easy-property-listings' ), |
| [210](#L210) | ); |
| [211](#L211) | // allow 3rd party extensions to add custom posts as a part of epl. |
| [212](#L212) | return apply\_filters( 'epl\_post\_types', $epl\_post\_types ); |
| [213](#L213) | } |
| [214](#L214) |  |
| [215](#L215) | /\*\* |
| [216](#L216) | \* Get Currencies |
| [217](#L217) | \* |
| [218](#L218) | \* @since 1.0 |
| [219](#L219) | \* @return array $currencies A list of the available currencies |
| [220](#L220) | \* @since 3.4.48 Support for Namibian dollar. |
| [221](#L221) | \*/ |
| [222](#L222) | function epl\_get\_currencies() { |
| [223](#L223) | $currencies = array( |
| [224](#L224) | 'AUD'  => \_\_( 'Australian Dollars (&#36;)', 'easy-property-listings' ), |
| [225](#L225) | 'USD'  => \_\_( 'US Dollars (&#36;)', 'easy-property-listings' ), |
| [226](#L226) | 'EUR'  => \_\_( 'Euros (&euro;)', 'easy-property-listings' ), |
| [227](#L227) | 'GBP'  => \_\_( 'Pounds Sterling (&pound;)', 'easy-property-listings' ), |
| [228](#L228) | 'BRL'  => \_\_( 'Brazilian Real (R&#36;)', 'easy-property-listings' ), |
| [229](#L229) | 'CAD'  => \_\_( 'Canadian Dollars (&#36;)', 'easy-property-listings' ), |
| [230](#L230) | 'CZK'  => \_\_( 'Czech Koruna', 'easy-property-listings' ), |
| [231](#L231) | 'DKK'  => \_\_( 'Danish Krone', 'easy-property-listings' ), |
| [232](#L232) | 'HKD'  => \_\_( 'Hong Kong Dollar (&#36;)', 'easy-property-listings' ), |
| [233](#L233) | 'HUF'  => \_\_( 'Hungarian Forint', 'easy-property-listings' ), |
| [234](#L234) | 'INR'  => \_\_( 'Indian Rupee (&#8377;)', 'easy-property-listings' ), |
| [235](#L235) | 'RIAL' => \_\_( 'Iranian Rial (&#65020;)', 'easy-property-listings' ), |
| [236](#L236) | 'ILS'  => \_\_( 'Israeli Shekel (&#8362;)', 'easy-property-listings' ), |
| [237](#L237) | 'JPY'  => \_\_( 'Japanese Yen (&yen;)', 'easy-property-listings' ), |
| [238](#L238) | 'MYR'  => \_\_( 'Malaysian Ringgits', 'easy-property-listings' ), |
| [239](#L239) | 'MXN'  => \_\_( 'Mexican Peso (&#36;)', 'easy-property-listings' ), |
| [240](#L240) | 'NAD'  => \_\_( 'Namibian Dollar (&#36;)', 'easy-property-listings' ), |
| [241](#L241) | 'NZD'  => \_\_( 'New Zealand Dollar (&#36;)', 'easy-property-listings' ), |
| [242](#L242) | 'NOK'  => \_\_( 'Norwegian Krone', 'easy-property-listings' ), |
| [243](#L243) | 'PHP'  => \_\_( 'Philippine Pesos', 'easy-property-listings' ), |
| [244](#L244) | 'PLN'  => \_\_( 'Polish Zloty', 'easy-property-listings' ), |
| [245](#L245) | 'PKR'  => \_\_( 'Pakistani Rupee', 'easy-property-listings' ), |
| [246](#L246) | 'QAR'  => \_\_( 'Qatar Riyal (QAR)', 'easy-property-listings' ), |
| [247](#L247) | 'SGD'  => \_\_( 'Singapore Dollar (&#36;)', 'easy-property-listings' ), |
| [248](#L248) | 'ZAR'  => \_\_( 'South African Rand (R)', 'easy-property-listings' ), |
| [249](#L249) | 'SEK'  => \_\_( 'Swedish Krona', 'easy-property-listings' ), |
| [250](#L250) | 'CHF'  => \_\_( 'Swiss Franc', 'easy-property-listings' ), |
| [251](#L251) | 'TWD'  => \_\_( 'Taiwan New Dollars', 'easy-property-listings' ), |
| [252](#L252) | 'THB'  => \_\_( 'Thai Baht (&#3647;)', 'easy-property-listings' ), |
| [253](#L253) | 'TRY'  => \_\_( 'Turkish Lira (&#8378;)', 'easy-property-listings' ), |
| [254](#L254) | 'RUB'  => \_\_( 'Russian Rubles', 'easy-property-listings' ), |
| [255](#L255) | 'AED'  => \_\_( 'United Arab Emirates, Dirham (AED)', 'easy-property-listings' ), |
| [256](#L256) | 'UAH'  => \_\_( 'Ukrainian Hryvnia (&#8372;)', 'easy-property-listings' ), |
| [257](#L257) | 'VND'  => \_\_( 'Vietnamese đồng (&#8363;)', 'easy-property-listings' ), |
| [258](#L258) | ); |
| [259](#L259) | return apply\_filters( 'epl\_get\_currencies', $currencies ); |
| [260](#L260) | } |
| [261](#L261) |  |
| [262](#L262) | /\*\* |
| [263](#L263) | \* Get the store's set currency |
| [264](#L264) | \* |
| [265](#L265) | \* @since 1.0 |
| [266](#L266) | \* @return string The currency code |
| [267](#L267) | \*/ |
| [268](#L268) | function epl\_get\_currency() { |
| [269](#L269) | $epl\_currency = ''; |
| [270](#L270) |  |
| [271](#L271) | global $epl\_settings; |
| [272](#L272) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['currency'] ) ) { |
| [273](#L273) | $epl\_currency = $epl\_settings['currency']; |
| [274](#L274) | } |
| [275](#L275) | return apply\_filters( 'epl\_currency', $epl\_currency ); |
| [276](#L276) | } |
| [277](#L277) |  |
| [278](#L278) | /\*\* |
| [279](#L279) | \* Get the currency position |
| [280](#L280) | \* |
| [281](#L281) | \* @since 1.0 |
| [282](#L282) | \* @return string The currency symbol position |
| [283](#L283) | \*/ |
| [284](#L284) | function epl\_get\_currency\_position() { |
| [285](#L285) | $epl\_currency\_position = ''; |
| [286](#L286) |  |
| [287](#L287) | global $epl\_settings; |
| [288](#L288) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['currency\_position'] ) ) { |
| [289](#L289) | $epl\_currency\_position = $epl\_settings['currency\_position']; |
| [290](#L290) | } |
| [291](#L291) | return apply\_filters( 'epl\_currency\_position', $epl\_currency\_position ); |
| [292](#L292) | } |
| [293](#L293) |  |
| [294](#L294) | /\*\* |
| [295](#L295) | \* Get the currency thousands separator |
| [296](#L296) | \* |
| [297](#L297) | \* @since 1.0 |
| [298](#L298) | \* @return string The currency thousands separator |
| [299](#L299) | \*/ |
| [300](#L300) | function epl\_get\_thousands\_separator() { |
| [301](#L301) | $epl\_thousands\_separator = ''; |
| [302](#L302) |  |
| [303](#L303) | global $epl\_settings; |
| [304](#L304) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['currency\_thousands\_separator'] ) ) { |
| [305](#L305) | $epl\_thousands\_separator = $epl\_settings['currency\_thousands\_separator']; |
| [306](#L306) | } |
| [307](#L307) | return apply\_filters( 'epl\_thousands\_separator', $epl\_thousands\_separator ); |
| [308](#L308) | } |
| [309](#L309) |  |
| [310](#L310) | /\*\* |
| [311](#L311) | \* Get the currency decimal separator |
| [312](#L312) | \* |
| [313](#L313) | \* @since 1.0 |
| [314](#L314) | \* @return string The currency decimal separator |
| [315](#L315) | \*/ |
| [316](#L316) | function epl\_get\_decimal\_separator() { |
| [317](#L317) | $epl\_decimal\_separator = ''; |
| [318](#L318) |  |
| [319](#L319) | global $epl\_settings; |
| [320](#L320) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['currency\_decimal\_separator'] ) ) { |
| [321](#L321) | $epl\_decimal\_separator = $epl\_settings['currency\_decimal\_separator']; |
| [322](#L322) | } |
| [323](#L323) | return apply\_filters( 'epl\_decimal\_separator', $epl\_decimal\_separator ); |
| [324](#L324) | } |
| [325](#L325) |  |
| [326](#L326) | /\*\* |
| [327](#L327) | \* Get the currency formatted amount |
| [328](#L328) | \* |
| [329](#L329) | \* @param integer $price The price. |
| [330](#L330) | \* |
| [331](#L331) | \* @return string Currency Formatted price |
| [332](#L332) | \* @since 1.0 |
| [333](#L333) | \*/ |
| [334](#L334) | function epl\_currency\_formatted\_amount( $price ) { |
| [335](#L335) | $price\_format           = apply\_filters( 'epl\_price\_number\_format', 'number' ); |
| [336](#L336) | $price\_format\_com\_lease = apply\_filters( 'epl\_price\_number\_format\_commercial\_lease', 'number' ); |
| [337](#L337) |  |
| [338](#L338) | if ( 'decimal' === $price\_format || 'decimal' === $price\_format\_com\_lease ) { |
| [339](#L339) | return epl\_currency\_filter( epl\_format\_amount( $price, true ) ); |
| [340](#L340) | } else { |
| [341](#L341) | return epl\_currency\_filter( epl\_format\_amount( $price, false ) ); |
| [342](#L342) | } |
| [343](#L343) | } |
| [344](#L344) |  |
| [345](#L345) | /\*\* |
| [346](#L346) | \* Get labels |
| [347](#L347) | \* |
| [348](#L348) | \* @param integer $key Settings meta key. |
| [349](#L349) | \* @return string |
| [350](#L350) | \* |
| [351](#L351) | \* @since 2.2 |
| [352](#L352) | \* @since 3.5.0 New: Display hidden field option. |
| [353](#L353) | \*/ |
| [354](#L354) | function epl\_labels( $key ) { |
| [355](#L355) | global $epl\_settings; |
| [356](#L356) | $field\_groups = epl\_get\_admin\_option\_fields(); |
| [357](#L357) | $epl\_labels   = array(); |
| [358](#L358) | foreach ( $field\_groups as $field\_group ) { |
| [359](#L359) | if ( 'labels' === $field\_group['id'] || 'address' === $field\_group['id'] ) { |
| [360](#L360) | $epl\_labels = array\_merge( $epl\_labels, array\_filter( $field\_group['fields'] ) ); |
| [361](#L361) | } |
| [362](#L362) | } |
| [363](#L363) | foreach ( $epl\_labels as $label\_key   => $label ) { |
| [364](#L364) |  |
| [365](#L365) | if ( isset( $label['default'] ) && $key === $label['name'] ) { |
| [366](#L366) |  |
| [367](#L367) | $label = isset( $epl\_settings[ $key ] ) ? $epl\_settings[ $key ] : $label['default']; |
| [368](#L368) |  |
| [369](#L369) | return apply\_filters( 'epl\_display\_' . $key, $label ); |
| [370](#L370) | } |
| [371](#L371) | } |
| [372](#L372) | } |
| [373](#L373) |  |
| [374](#L374) | /\*\* |
| [375](#L375) | \* Display or retrieve the current listing address based on user display selection with optional markup. |
| [376](#L376) | \* |
| [377](#L377) | \* @since 3.3 |
| [378](#L378) | \* |
| [379](#L379) | \* @param string $before   Optional. Markup to prepend to the title. Default empty. |
| [380](#L380) | \* @param string $after    Optional. Markup to append to the title. Default empty. |
| [381](#L381) | \* @param bool   $country  Optional. Whether to echo or return country. Default false for country. |
| [382](#L382) | \* @param bool   $echo     Optional. Whether to echo or return the title. Default true for echo. |
| [383](#L383) | \* @return string|void Current post title if $echo is false. |
| [384](#L384) | \*/ |
| [385](#L385) | function epl\_the\_address( $before = '', $after = '', $country = false, $echo = true ) { |
| [386](#L386) | $address = epl\_get\_the\_address(); |
| [387](#L387) |  |
| [388](#L388) | if ( strlen( $address ) === 0 ) { |
| [389](#L389) | return; |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | $address = $before . $address . $after; |
| [393](#L393) |  |
| [394](#L394) | if ( $echo ) { |
| [395](#L395) | echo wp\_kses\_post( $address ); |
| [396](#L396) | } else { |
| [397](#L397) | return $address; |
| [398](#L398) | } |
| [399](#L399) | } |
| [400](#L400) |  |
| [401](#L401) | /\*\* |
| [402](#L402) | \* Retrieve address based on user display selection. |
| [403](#L403) | \* |
| [404](#L404) | \* @param array $address\_args Address components. |
| [405](#L405) | \* @param array $sep          Override default separators for each address components here. |
| [406](#L406) | \* @param bool  $country      Return country with true, default false. |
| [407](#L407) | \* @param array $prefix       Customise the prefix for each address component. |
| [408](#L408) | \* |
| [409](#L409) | \* @return string |
| [410](#L410) | \* @since 3.3 |
| [411](#L411) | \* @since 3.4.27 Added support for prefix. |
| [412](#L412) | \*/ |
| [413](#L413) | function epl\_get\_the\_address( $address\_args = array(), $sep = array(), $country = false, $prefix = array() ) { |
| [414](#L414) |  |
| [415](#L415) | $address = ''; |
| [416](#L416) |  |
| [417](#L417) | $address\_defaults = array( |
| [418](#L418) | 'sub\_number'    => '/', |
| [419](#L419) | 'lot\_number'    => ' ', |
| [420](#L420) | 'street\_number' => ' ', |
| [421](#L421) | 'street'        => ', ', |
| [422](#L422) | 'suburb'        => ' ', |
| [423](#L423) | 'city'          => ' ', |
| [424](#L424) | 'state'         => ' ', |
| [425](#L425) | 'postal\_code'   => ' ', |
| [426](#L426) | 'country'       => ' ', |
| [427](#L427) | ); |
| [428](#L428) |  |
| [429](#L429) | $prefix\_defaults = array( |
| [430](#L430) | 'sub\_number'    => '', |
| [431](#L431) | 'lot\_number'    => '', |
| [432](#L432) | 'street\_number' => '', |
| [433](#L433) | 'street'        => '', |
| [434](#L434) | 'suburb'        => '', |
| [435](#L435) | 'city'          => '', |
| [436](#L436) | 'state'         => '', |
| [437](#L437) | 'postal\_code'   => '', |
| [438](#L438) | 'country'       => '', |
| [439](#L439) | ); |
| [440](#L440) |  |
| [441](#L441) | // Override default separators for address components. |
| [442](#L442) | $seps = array\_merge( $address\_defaults, $sep ); |
| [443](#L443) |  |
| [444](#L444) | $prefix = array\_merge( $prefix\_defaults, $prefix ); |
| [445](#L445) |  |
| [446](#L446) | // Output the full address based on user selection. |
| [447](#L447) | if ( empty( $address\_args ) ) { |
| [448](#L448) | $address\_args = array\_keys( $address\_defaults ); |
| [449](#L449) | } |
| [450](#L450) |  |
| [451](#L451) | foreach ( $address\_args as $arg ) { |
| [452](#L452) |  |
| [453](#L453) | if ( isset( $address\_defaults[ $arg ] ) ) { |
| [454](#L454) |  |
| [455](#L455) | if ( 'yes' !== get\_property\_meta( 'property\_address\_display' ) && in\_array( $arg, array( 'sub\_number', 'lot\_number', 'street\_number', 'street' ), true ) ) { |
| [456](#L456) | continue; |
| [457](#L457) | } |
| [458](#L458) |  |
| [459](#L459) | // Country hidden by default. |
| [460](#L460) | if ( true !== $country && in\_array( $arg, array( 'country' ), true ) ) { |
| [461](#L461) | continue; |
| [462](#L462) | } |
| [463](#L463) |  |
| [464](#L464) | $value = get\_property\_meta( 'property\_address\_' . $arg ); |
| [465](#L465) |  |
| [466](#L466) | if ( ! empty( $value ) ) { |
| [467](#L467) | $address .= $prefix[ $arg ] . get\_property\_meta( 'property\_address\_' . $arg ) . $seps[ $arg ]; |
| [468](#L468) | } |
| [469](#L469) | } |
| [470](#L470) | } |
| [471](#L471) |  |
| [472](#L472) | /\*\* |
| [473](#L473) | \* Filters the post title. |
| [474](#L474) | \* |
| [475](#L475) | \* @since 3.3 |
| [476](#L476) | \* |
| [477](#L477) | \* @param string $title The listing address. |
| [478](#L478) | \* @param int    $id    The post ID. |
| [479](#L479) | \*/ |
| [480](#L480) | return apply\_filters( 'epl\_the\_address', $address ); |
| [481](#L481) | } |
| [482](#L482) |  |
| [483](#L483) | /\*\* |
| [484](#L484) | \* Display or retrieve the listing status label with optional markup. |
| [485](#L485) | \* |
| [486](#L486) | \* @since 3.3 |
| [487](#L487) | \* |
| [488](#L488) | \* @param string $before Output string before. |
| [489](#L489) | \* @param string $after Output string after. |
| [490](#L490) | \* @param bool   $echo Echo the result. |
| [491](#L491) | \* @return string/list for values |
| [492](#L492) | \*/ |
| [493](#L493) | function epl\_the\_status( $before = '', $after = '', $echo = true ) { |
| [494](#L494) | $status = epl\_get\_the\_status(); |
| [495](#L495) |  |
| [496](#L496) | $status\_opts = epl\_get\_property\_status\_opts(); |
| [497](#L497) |  |
| [498](#L498) | if ( strlen( $status ) === 0 ) { |
| [499](#L499) | return; |
| [500](#L500) | } |
| [501](#L501) |  |
| [502](#L502) | $status = $before . $status\_opts[ $status ] . $after; |
| [503](#L503) |  |
| [504](#L504) | if ( $echo ) { |
| [505](#L505) | echo wp\_kses\_post( $status ); |
| [506](#L506) | } else { |
| [507](#L507) | return $status; |
| [508](#L508) | } |
| [509](#L509) | } |
| [510](#L510) |  |
| [511](#L511) | /\*\* |
| [512](#L512) | \* Retrieve listing status. |
| [513](#L513) | \* |
| [514](#L514) | \* @since 3.3 |
| [515](#L515) | \* |
| [516](#L516) | \* @param int|WP\_Post $post Optional. Post ID or WP\_Post object. Default is global $post. |
| [517](#L517) | \* @return string |
| [518](#L518) | \*/ |
| [519](#L519) | function epl\_get\_the\_status( $post = 0 ) { |
| [520](#L520) |  |
| [521](#L521) | $post = get\_post( $post ); |
| [522](#L522) |  |
| [523](#L523) | $status = get\_property\_meta( 'property\_status' ); |
| [524](#L524) | $status = isset( $status ) ? $status : ''; |
| [525](#L525) | $id     = isset( $post->ID ) ? $post->ID : 0; |
| [526](#L526) |  |
| [527](#L527) | /\*\* |
| [528](#L528) | \* Filters the status. |
| [529](#L529) | \* |
| [530](#L530) | \* @since 3.3 |
| [531](#L531) | \* |
| [532](#L532) | \* @param string $title The listing status. |
| [533](#L533) | \* @param int    $id    The post ID. |
| [534](#L534) | \*/ |
| [535](#L535) | return apply\_filters( 'epl\_get\_the\_status', $status, $id ); |
| [536](#L536) | } |
| [537](#L537) |  |
| [538](#L538) | /\*\* |
| [539](#L539) | \* Get EPL property meta data based on post id |
| [540](#L540) | \* |
| [541](#L541) | \* @since 1.0 |
| [542](#L542) | \* @param string $post\_ID The post ID. |
| [543](#L543) | \* @param string $meta\_key Meta key name. |
| [544](#L544) | \* @return string Value. |
| [545](#L545) | \*/ |
| [546](#L546) | function epl\_get\_property\_meta( $post\_ID = '', $meta\_key = '' ) { |
| [547](#L547) |  |
| [548](#L548) | if ( empty( $post\_ID ) ) { |
| [549](#L549) | $post\_ID = get\_the\_ID(); |
| [550](#L550) | } |
| [551](#L551) |  |
| [552](#L552) | if ( ! empty( $meta\_key ) ) { |
| [553](#L553) | $meta\_value = trim( get\_post\_meta( $post\_ID, $meta\_key, true ) ); |
| [554](#L554) | } else { |
| [555](#L555) | $meta\_value = get\_post\_meta( $post\_ID, $meta\_key ); |
| [556](#L556) | } |
| [557](#L557) | return apply\_filters( 'epl\_get\_property\_meta\_filter', $meta\_value ); |
| [558](#L558) | } |
| [559](#L559) |  |
| [560](#L560) | /\*\* |
| [561](#L561) | \* Print EPL property meta data |
| [562](#L562) | \* |
| [563](#L563) | \* @param string $post\_ID The post ID. |
| [564](#L564) | \* @param string $meta\_key Meta key name. |
| [565](#L565) | \* |
| [566](#L566) | \* @since 1.0.0 |
| [567](#L567) | \* @since 3.4.26 Set $meta\_key variable as blank. |
| [568](#L568) | \*/ |
| [569](#L569) | function epl\_the\_property\_meta( $post\_ID = '', $meta\_key = '' ) { |
| [570](#L570) | $meta\_value = epl\_get\_property\_meta( $post\_ID, $meta\_key ); |
| [571](#L571) | echo wp\_kses\_post( apply\_filters( 'epl\_the\_property\_meta\_filter', $meta\_value ) ); |
| [572](#L572) | } |
| [573](#L573) |  |
| [574](#L574) | /\*\* |
| [575](#L575) | \* Taxonomy Location Label |
| [576](#L576) | \* |
| [577](#L577) | \* @since 1.0 |
| [578](#L578) | \* @return string Location label. |
| [579](#L579) | \*/ |
| [580](#L580) | function epl\_tax\_location\_label() { |
| [581](#L581) | $label\_location = ''; |
| [582](#L582) | global $epl\_settings; |
| [583](#L583) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['label\_location'] ) ) { |
| [584](#L584) | $label\_location = trim( $epl\_settings['label\_location'] ); |
| [585](#L585) | } |
| [586](#L586) | if ( empty( $label\_location ) ) { |
| [587](#L587) | $label\_location = \_\_( 'City', 'easy-property-listings' ); |
| [588](#L588) | } |
| [589](#L589) | return $label\_location; |
| [590](#L590) | } |
| [591](#L591) |  |
| [592](#L592) | /\*\* |
| [593](#L593) | \* Location Label |
| [594](#L594) | \* |
| [595](#L595) | \* @since 1.0 |
| [596](#L596) | \* @return string Location label. |
| [597](#L597) | \*/ |
| [598](#L598) | function epl\_meta\_location\_label() { |
| [599](#L599) | $label\_location = ''; |
| [600](#L600) | global $epl\_settings; |
| [601](#L601) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['label\_suburb'] ) ) { |
| [602](#L602) | $label\_location = trim( $epl\_settings['label\_suburb'] ); |
| [603](#L603) | } |
| [604](#L604) | if ( empty( $label\_location ) ) { |
| [605](#L605) | $label\_location = \_\_( 'City', 'easy-property-listings' ); |
| [606](#L606) | } |
| [607](#L607) | return $label\_location; |
| [608](#L608) | } |
| [609](#L609) |  |
| [610](#L610) | /\*\* |
| [611](#L611) | \* Display or retrieve the under offer label with optional markup. |
| [612](#L612) | \* |
| [613](#L613) | \* @since 3.3 |
| [614](#L614) | \* |
| [615](#L615) | \* @param string $before Optional. Markup to prepend to the formatted Under Offer label. Default empty. |
| [616](#L616) | \* @param string $after  Optional. Markup to append to the formatted Under Offer label. Default empty. |
| [617](#L617) | \* @param bool   $echo   Optional. Whether to echo or return the formatted Under Offer label. Default true for echo. |
| [618](#L618) | \* @return string|void Current post title if $echo is false. |
| [619](#L619) | \*/ |
| [620](#L620) | function epl\_the\_under\_offer( $before = '', $after = '', $echo = true ) { |
| [621](#L621) | $under\_offer = epl\_get\_the\_under\_offer(); |
| [622](#L622) |  |
| [623](#L623) | $under\_offer\_label = epl\_meta\_under\_offer\_label(); |
| [624](#L624) |  |
| [625](#L625) | if ( strlen( $under\_offer ) === 0 ) { |
| [626](#L626) | return; |
| [627](#L627) | } |
| [628](#L628) |  |
| [629](#L629) | if ( 'yes' !== strtolower( $under\_offer ) && 'sold' !== epl\_get\_the\_status() ) { |
| [630](#L630) | return; |
| [631](#L631) | } |
| [632](#L632) |  |
| [633](#L633) | $under\_offer = $before . $under\_offer\_label . $after; |
| [634](#L634) |  |
| [635](#L635) | if ( $echo ) { |
| [636](#L636) | echo wp\_kses\_post( $under\_offer ); |
| [637](#L637) | } else { |
| [638](#L638) | return $under\_offer; |
| [639](#L639) | } |
| [640](#L640) | } |
| [641](#L641) |  |
| [642](#L642) | /\*\* |
| [643](#L643) | \* Retrieve listing under offer value. |
| [644](#L644) | \* |
| [645](#L645) | \* @since 3.3 |
| [646](#L646) | \* |
| [647](#L647) | \* @param int|WP\_Post $post Optional. Post ID or WP\_Post object. Default is global $post. |
| [648](#L648) | \* @return string |
| [649](#L649) | \*/ |
| [650](#L650) | function epl\_get\_the\_under\_offer( $post = 0 ) { |
| [651](#L651) |  |
| [652](#L652) | $post = get\_post( $post ); |
| [653](#L653) |  |
| [654](#L654) | $under\_offer = get\_property\_meta( 'property\_under\_offer' ); |
| [655](#L655) | $under\_offer = 'yes' === get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== epl\_get\_the\_status() ? $under\_offer : ''; |
| [656](#L656) | $id          = isset( $post->ID ) ? $post->ID : 0; |
| [657](#L657) |  |
| [658](#L658) | /\*\* |
| [659](#L659) | \* Filters the status. |
| [660](#L660) | \* |
| [661](#L661) | \* @since 3.3 |
| [662](#L662) | \* |
| [663](#L663) | \* @param string $under\_offer The Under Offer status. |
| [664](#L664) | \* @param int    $id    The post ID. |
| [665](#L665) | \*/ |
| [666](#L666) | return apply\_filters( 'epl\_get\_the\_under\_offer', $under\_offer, $id ); |
| [667](#L667) | } |
| [668](#L668) |  |
| [669](#L669) | /\*\* |
| [670](#L670) | \* Under Offer Label |
| [671](#L671) | \* |
| [672](#L672) | \* @since 2.1 |
| [673](#L673) | \* @return string |
| [674](#L674) | \*/ |
| [675](#L675) | function epl\_meta\_under\_offer\_label() { |
| [676](#L676) | $under\_offer = ''; |
| [677](#L677) | global $epl\_settings; |
| [678](#L678) | if ( ! empty( $epl\_settings ) && isset( $epl\_settings['label\_under\_offer'] ) ) { |
| [679](#L679) | $under\_offer = trim( $epl\_settings['label\_under\_offer'] ); |
| [680](#L680) | } |
| [681](#L681) | if ( empty( $under\_offer ) ) { |
| [682](#L682) | $under\_offer = \_\_( 'Under Offer', 'easy-property-listings' ); |
| [683](#L683) | } |
| [684](#L684) | return $under\_offer; |
| [685](#L685) | } |
| [686](#L686) |  |
| [687](#L687) | /\*\* |
| [688](#L688) | \* House Categories Options |
| [689](#L689) | \* |
| [690](#L690) | \* @since 1.1 |
| [691](#L691) | \* @return array Categories in array. |
| [692](#L692) | \*/ |
| [693](#L693) | function epl\_listing\_load\_meta\_property\_category() { |
| [694](#L694) | $defaults = array( |
| [695](#L695) | 'House'               => \_\_( 'House', 'easy-property-listings' ), |
| [696](#L696) | 'Unit'                => \_\_( 'Unit', 'easy-property-listings' ), |
| [697](#L697) | 'Townhouse'           => \_\_( 'Townhouse', 'easy-property-listings' ), |
| [698](#L698) | 'Villa'               => \_\_( 'Villa', 'easy-property-listings' ), |
| [699](#L699) | 'Apartment'           => \_\_( 'Apartment', 'easy-property-listings' ), |
| [700](#L700) | 'Flat'                => \_\_( 'Flat', 'easy-property-listings' ), |
| [701](#L701) | 'Studio'              => \_\_( 'Studio', 'easy-property-listings' ), |
| [702](#L702) | 'Warehouse'           => \_\_( 'Warehouse', 'easy-property-listings' ), |
| [703](#L703) | 'DuplexSemi-detached' => \_\_( 'Duplex Semi-detached', 'easy-property-listings' ), |
| [704](#L704) | 'Alpine'              => \_\_( 'Alpine', 'easy-property-listings' ), |
| [705](#L705) | 'AcreageSemi-rural'   => \_\_( 'Acreage Semi-rural', 'easy-property-listings' ), |
| [706](#L706) | 'Retirement'          => \_\_( 'Retirement', 'easy-property-listings' ), |
| [707](#L707) | 'BlockOfUnits'        => \_\_( 'Block Of Units', 'easy-property-listings' ), |
| [708](#L708) | 'Terrace'             => \_\_( 'Terrace', 'easy-property-listings' ), |
| [709](#L709) | 'ServicedApartment'   => \_\_( 'Serviced Apartment', 'easy-property-listings' ), |
| [710](#L710) | 'Other'               => \_\_( 'Other', 'easy-property-listings' ), |
| [711](#L711) | ); |
| [712](#L712) | return apply\_filters( 'epl\_listing\_meta\_property\_category', $defaults ); |
| [713](#L713) | } |
| [714](#L714) |  |
| [715](#L715) | /\*\* |
| [716](#L716) | \* Custom Meta: Return Value of House Category |
| [717](#L717) | \* |
| [718](#L718) | \* @since 1.1 |
| [719](#L719) | \* @param string $key Meta key. |
| [720](#L720) | \* @return string the categories in array |
| [721](#L721) | \*/ |
| [722](#L722) | function epl\_listing\_meta\_property\_category\_value( $key ) { |
| [723](#L723) | $array  = epl\_listing\_load\_meta\_property\_category(); |
| [724](#L724) | $key    = (array) $key; |
| [725](#L725) | $values = array(); |
| [726](#L726) | foreach ( $key as $single ) { |
| [727](#L727) | $values[] = array\_key\_exists( $single, $array ) && ! empty( $array[ $single ] ) ? $array[ $single ] : $single; |
| [728](#L728) | } |
| [729](#L729) |  |
| [730](#L730) | $value = implode( ', ', $values ); |
| [731](#L731) |  |
| [732](#L732) | return apply\_filters( 'epl\_property\_category\_value', $value ); |
| [733](#L733) | } |
| [734](#L734) |  |
| [735](#L735) | /\*\* |
| [736](#L736) | \* Custom Meta: Land Categories |
| [737](#L737) | \* |
| [738](#L738) | \* @since 1.1 |
| [739](#L739) | \* @return array the categories in array |
| [740](#L740) | \*/ |
| [741](#L741) | function epl\_listing\_load\_meta\_land\_category() { |
| [742](#L742) | $defaults = array( |
| [743](#L743) | 'Commercial'  => \_\_( 'Commercial', 'easy-property-listings' ), |
| [744](#L744) | 'Residential' => \_\_( 'Residential', 'easy-property-listings' ), |
| [745](#L745) | ); |
| [746](#L746) | return apply\_filters( 'epl\_listing\_meta\_land\_category', $defaults ); |
| [747](#L747) | } |
| [748](#L748) |  |
| [749](#L749) | /\*\* |
| [750](#L750) | \* Custom Meta: Return Value of Land Category |
| [751](#L751) | \* |
| [752](#L752) | \* @param string $key Meta key. |
| [753](#L753) | \* @return array the categories in array |
| [754](#L754) | \* |
| [755](#L755) | \* @since 1.1.0 |
| [756](#L756) | \*/ |
| [757](#L757) | function epl\_listing\_meta\_land\_category\_value( $key ) { |
| [758](#L758) | $array = epl\_listing\_load\_meta\_land\_category(); |
| [759](#L759) | $value = array\_key\_exists( $key, $array ) && ! empty( $array[ $key ] ) ? $array[ $key ] : ''; |
| [760](#L760) |  |
| [761](#L761) | return $value; |
| [762](#L762) | } |
| [763](#L763) |  |
| [764](#L764) | /\*\* |
| [765](#L765) | \* Custom Meta: Commercial Categories |
| [766](#L766) | \* |
| [767](#L767) | \* @since 1.1 |
| [768](#L768) | \* @return array the categories in array |
| [769](#L769) | \*/ |
| [770](#L770) | function epl\_listing\_load\_meta\_commercial\_category() { |
| [771](#L771) | $defaults = array( |
| [772](#L772) | 'Commercial Farming'    => \_\_( 'Commercial Farming', 'easy-property-listings' ), |
| [773](#L773) | 'Land/Development'      => \_\_( 'Land/Development', 'easy-property-listings' ), |
| [774](#L774) | 'Hotel/Leisure'         => \_\_( 'Hotel/Leisure', 'easy-property-listings' ), |
| [775](#L775) | 'Industrial/Warehouse'  => \_\_( 'Industrial/Warehouse', 'easy-property-listings' ), |
| [776](#L776) | 'Medical/Consulting'    => \_\_( 'Medical/Consulting', 'easy-property-listings' ), |
| [777](#L777) | 'Offices'               => \_\_( 'Offices', 'easy-property-listings' ), |
| [778](#L778) | 'Retail'                => \_\_( 'Retail', 'easy-property-listings' ), |
| [779](#L779) | 'Showrooms/Bulky Goods' => \_\_( 'Showrooms/Bulky Goods', 'easy-property-listings' ), |
| [780](#L780) | 'Other'                 => \_\_( 'Other', 'easy-property-listings' ), |
| [781](#L781) | ); |
| [782](#L782) | return apply\_filters( 'epl\_listing\_meta\_commercial\_category', $defaults ); |
| [783](#L783) | } |
| [784](#L784) |  |
| [785](#L785) | /\*\* |
| [786](#L786) | \* Custom Meta: Return Value of Commercial Category |
| [787](#L787) | \* |
| [788](#L788) | \* @since 1.1 |
| [789](#L789) | \* @param string $key Meta key. |
| [790](#L790) | \* @return array the categories in array |
| [791](#L791) | \*/ |
| [792](#L792) | function epl\_listing\_load\_meta\_commercial\_category\_value( $key ) { |
| [793](#L793) | $array = epl\_listing\_load\_meta\_commercial\_category(); |
| [794](#L794) |  |
| [795](#L795) | if ( is\_array( $key ) ) { |
| [796](#L796) | $values = array(); |
| [797](#L797) | foreach ( $key as $k ) { |
| [798](#L798) | $values[] = array\_key\_exists( $k, $array ) && ! empty( $array[ $k ] ) ? $array[ $k ] : ucfirst( $k ); |
| [799](#L799) | } |
| [800](#L800) | $value = implode( ', ', $values ); |
| [801](#L801) | } else { |
| [802](#L802) | $value = array\_key\_exists( $key, $array ) && ! empty( $array[ $key ] ) ? $array[ $key ] : ucfirst( $key ); |
| [803](#L803) | } |
| [804](#L804) |  |
| [805](#L805) | return apply\_filters( 'epl\_meta\_commercial\_category\_value', $value, $key, $array ); |
| [806](#L806) | } |
| [807](#L807) |  |
| [808](#L808) | /\*\* |
| [809](#L809) | \* Custom Meta: Commercial Rental Period |
| [810](#L810) | \* |
| [811](#L811) | \* @since 2.1 |
| [812](#L812) | \* @return array the categories in array |
| [813](#L813) | \*/ |
| [814](#L814) | function epl\_listing\_load\_meta\_commercial\_rent\_period() { |
| [815](#L815) | $defaults = array( |
| [816](#L816) | 'annual'            => \_\_( 'P.A.', 'easy-property-listings' ), |
| [817](#L817) | 'nnn'               => \_\_( 'NNN', 'easy-property-listings' ), |
| [818](#L818) | 'full-service'      => \_\_( 'Full Service', 'easy-property-listings' ), |
| [819](#L819) | 'gross-lease-rates' => \_\_( 'Gross Lease Rates', 'easy-property-listings' ), |
| [820](#L820) | ); |
| [821](#L821) | return apply\_filters( 'epl\_listing\_meta\_commercial\_rent\_period', $defaults ); |
| [822](#L822) | } |
| [823](#L823) |  |
| [824](#L824) | /\*\* |
| [825](#L825) | \* Custom Meta: Return Value of Commercial Rental Period |
| [826](#L826) | \* |
| [827](#L827) | \* @since 2.1 |
| [828](#L828) | \* @param string $key Meta key. |
| [829](#L829) | \* @return array the categories in array |
| [830](#L830) | \*/ |
| [831](#L831) | function epl\_listing\_load\_meta\_commercial\_rent\_period\_value( $key ) { |
| [832](#L832) | $array = epl\_listing\_load\_meta\_commercial\_rent\_period(); |
| [833](#L833) | $value = array\_key\_exists( $key, $array ) && ! empty( $array[ $key ] ) ? $array[ $key ] : ''; |
| [834](#L834) |  |
| [835](#L835) | return $value; |
| [836](#L836) | } |
| [837](#L837) |  |
| [838](#L838) | /\*\* |
| [839](#L839) | \* Custom Meta: Rural Categories |
| [840](#L840) | \* |
| [841](#L841) | \* @since 1.1 |
| [842](#L842) | \* @return all the categories in array |
| [843](#L843) | \*/ |
| [844](#L844) | function epl\_listing\_load\_meta\_rural\_category() { |
| [845](#L845) | $defaults = array( |
| [846](#L846) | 'Cropping'     => \_\_( 'Cropping', 'easy-property-listings' ), |
| [847](#L847) | 'Dairy'        => \_\_( 'Dairy', 'easy-property-listings' ), |
| [848](#L848) | 'Farmlet'      => \_\_( 'Farmlet', 'easy-property-listings' ), |
| [849](#L849) | 'Horticulture' => \_\_( 'Horticulture', 'easy-property-listings' ), |
| [850](#L850) | 'Livestock'    => \_\_( 'Livestock', 'easy-property-listings' ), |
| [851](#L851) | 'Viticulture'  => \_\_( 'Viticulture', 'easy-property-listings' ), |
| [852](#L852) | 'MixedFarming' => \_\_( 'Mixed Farming', 'easy-property-listings' ), |
| [853](#L853) | 'Lifestyle'    => \_\_( 'Lifestyle', 'easy-property-listings' ), |
| [854](#L854) | 'Other'        => \_\_( 'Other', 'easy-property-listings' ), |
| [855](#L855) | ); |
| [856](#L856) | return apply\_filters( 'epl\_listing\_meta\_rural\_category', $defaults ); |
| [857](#L857) | } |
| [858](#L858) |  |
| [859](#L859) | /\*\* |
| [860](#L860) | \* Custom Meta: Return Value of Rural Category |
| [861](#L861) | \* |
| [862](#L862) | \* @since 1.1 |
| [863](#L863) | \* @param string $key Meta key. |
| [864](#L864) | \* @return all the categories in array |
| [865](#L865) | \*/ |
| [866](#L866) | function epl\_listing\_load\_meta\_rural\_category\_value( $key ) { |
| [867](#L867) | $array = epl\_listing\_load\_meta\_rural\_category(); |
| [868](#L868) | $value = array\_key\_exists( $key, $array ) && ! empty( $array[ $key ] ) ? $array[ $key ] : ''; |
| [869](#L869) |  |
| [870](#L870) | return $value; |
| [871](#L871) | } |
| [872](#L872) |  |
| [873](#L873) | /\*\* |
| [874](#L874) | \* REAXML Date Processing Function for WP All Import and FeedSync |
| [875](#L875) | \* |
| [876](#L876) | \* Some imports set the current date instead of the date from the REAXML file. |
| [877](#L877) | \* Usage in WP All Import Post Date field is: |
| [878](#L878) | \* [epl\_feedsync\_format\_date({./@modTime})] |
| [879](#L879) | \* |
| [880](#L880) | \* @since 1.2 |
| [881](#L881) | \* @param string $date Date. |
| [882](#L882) | \* @return string formatted date |
| [883](#L883) | \* @revised 3.3 |
| [884](#L884) | \*/ |
| [885](#L885) | function epl\_feedsync\_format\_date( $date ) { |
| [886](#L886) | $date\_example = '2014-07-22-16:45:56'; |
| [887](#L887) |  |
| [888](#L888) | $tempdate = explode( '-', $date ); |
| [889](#L889) | $date     = $tempdate[0]; |
| [890](#L890) | if ( isset( $tempdate[1] ) ) { |
| [891](#L891) | $date .= '-' . $tempdate[1]; |
| [892](#L892) | } |
| [893](#L893) | if ( isset( $tempdate[2] ) ) { |
| [894](#L894) | $date .= '-' . $tempdate[2]; |
| [895](#L895) | } |
| [896](#L896) | if ( isset( $tempdate[3] ) ) { |
| [897](#L897) | $date .= ' ' . $tempdate[3]; |
| [898](#L898) | } |
| [899](#L899) |  |
| [900](#L900) | return date( 'Y-m-d H:i:s', strtotime( $date ) ); |
| [901](#L901) | } |
| [902](#L902) |  |
| [903](#L903) | /\*\* |
| [904](#L904) | \* REAXML Auction Date Processing Function for WP All Import and FeedSync |
| [905](#L905) | \* |
| [906](#L906) | \* Some imports set the current date instead of the date from the REAXML file. |
| [907](#L907) | \* Usage in WP All Import Post Date field is: |
| [908](#L908) | \* [epl\_feedsync\_format\_date\_auction({AUCDATE[1]},{AUC\_TIME[1]})] |
| [909](#L909) | \* |
| [910](#L910) | \* @since 3.1.7 |
| [911](#L911) | \* @param string $date Date. |
| [912](#L912) | \* @param string $time Time. |
| [913](#L913) | \* @return string formatted date |
| [914](#L914) | \*/ |
| [915](#L915) | function epl\_feedsync\_format\_date\_auction( $date, $time ) { |
| [916](#L916) |  |
| [917](#L917) | $date = str\_replace( '/', '-', $date ); // Convert to european date format for strtotime function. |
| [918](#L918) | return date( 'Y-M-d H:i:s', strtotime( $date . ' ' . $time ) ); |
| [919](#L919) | } |
| [920](#L920) |  |
| [921](#L921) | /\*\* |
| [922](#L922) | \* REAXML Address Sub Number field for title import |
| [923](#L923) | \* processing Function for WP All Import and FeedSync |
| [924](#L924) | \* |
| [925](#L925) | \* This function adds a / after the $value else returns false. |
| [926](#L926) | \* Usage in WP All Import Post Date field is: |
| [927](#L927) | \* [epl\_feedsync\_filter\_sub\_number({address[1]/subNumber[1]})] |
| [928](#L928) | \* |
| [929](#L929) | \* @since 1.3 |
| [930](#L930) | \* @param string $sub\_value Address sub value. |
| [931](#L931) | \* @return string formatted sub number/ |
| [932](#L932) | \*/ |
| [933](#L933) | function epl\_feedsync\_format\_sub\_number( $sub\_value ) { |
| [934](#L934) | if ( $sub\_value ) { |
| [935](#L935) | $sub\_value = $sub\_value . '/'; |
| [936](#L936) | return $sub\_value; |
| [937](#L937) | } |
| [938](#L938) | } |
| [939](#L939) |  |
| [940](#L940) | /\*\* |
| [941](#L941) | \* REAXML convert currency to integer |
| [942](#L942) | \* |
| [943](#L943) | \* Processing Function for WP All Import and FeedSync |
| [944](#L944) | \* |
| [945](#L945) | \* @param string $value Value. |
| [946](#L946) | \* @return float|void Currently as number. |
| [947](#L947) | \* @since 3.0 |
| [948](#L948) | \*/ |
| [949](#L949) | function epl\_feedsync\_format\_strip\_currency( $value ) { |
| [950](#L950) | if ( $value ) { |
| [951](#L951) | $value = preg\_replace( apply\_filters( 'epl\_feedsync\_format\_strip\_currency\_symbol', '/[\$,]/' ), '', $value ); |
| [952](#L952) | $value = floatval( $value ); |
| [953](#L953) | return $value; |
| [954](#L954) | } |
| [955](#L955) | } |
| [956](#L956) |  |
| [957](#L957) | /\*\* |
| [958](#L958) | \* REAXML convert date/time to adjust for timezone |
| [959](#L959) | \* |
| [960](#L960) | \* Processing Function for WP All Import and FeedSync |
| [961](#L961) | \* [epl\_feedsync\_switch\_date\_time({firstDate[1]},"Australia/Perth","Australia/Sydney")] |
| [962](#L962) | \* |
| [963](#L963) | \* @param bool   $date\_time     Switch date time. |
| [964](#L964) | \* @param string $old\_time\_zone Old Timezone. |
| [965](#L965) | \* @param string $new\_timezone  New timezone. |
| [966](#L966) | \* @param string $format        Date format. |
| [967](#L967) | \* |
| [968](#L968) | \* @return string |
| [969](#L969) | \* @throws exception Exception. |
| [970](#L970) | \* @since 3.0 |
| [971](#L971) | \*/ |
| [972](#L972) | function epl\_feedsync\_switch\_date\_time( $date\_time = false, $old\_time\_zone = 'Australia/Perth', $new\_timezone = 'Australia/Sydney', $format = 'Y-m-d H:i:s' ) { |
| [973](#L973) |  |
| [974](#L974) | if ( ! $date\_time ) { |
| [975](#L975) | $date\_time = date( 'Y-m-d H:i:s', time() ); |
| [976](#L976) | } |
| [977](#L977) | if ( ! $old\_time\_zone ) { |
| [978](#L978) | $old\_time\_zone = 'Australia/Perth'; |
| [979](#L979) | } |
| [980](#L980) | if ( ! $new\_timezone ) { |
| [981](#L981) | $new\_timezone = 'Australia/Sydney'; |
| [982](#L982) | } |
| [983](#L983) |  |
| [984](#L984) | $schedule\_date = new DateTime( $date\_time, new DateTimeZone( $new\_timezone ) ); |
| [985](#L985) | $schedule\_date->setTimeZone( new DateTimeZone( $old\_time\_zone ) ); |
| [986](#L986) | return $schedule\_date->format( $format ); |
| [987](#L987) |  |
| [988](#L988) | } |
| [989](#L989) |  |
| [990](#L990) | /\*\* |
| [991](#L991) | \* Renders field array to html |
| [992](#L992) | \* |
| [993](#L993) | \* @since 2.1 |
| [994](#L994) | \* @param array  $field Field array. |
| [995](#L995) | \* @param string $val Value. |
| [996](#L996) | \* @revised 3.3 |
| [997](#L997) | \*/ |
| [998](#L998) | function epl\_render\_html\_fields( $field = array(), $val = '' ) { |
| [999](#L999) | EPL()->render\_fields->render( $field, $val ); |
| [1000](#L1000) | } |
| [1001](#L1001) |  |
| [1002](#L1002) | /\*\* |
| [1003](#L1003) | \* Admin options settings |
| [1004](#L1004) | \* |
| [1005](#L1005) | \* @since 2.1 |
| [1006](#L1006) | \*/ |
| [1007](#L1007) | function epl\_get\_admin\_option\_fields() { |
| [1008](#L1008) | global $epl\_settings; |
| [1009](#L1009) | $opts\_epl\_gallery\_n = array(); |
| [1010](#L1010) | for ( $i = 1; $i <= 10; $i++ ) { |
| [1011](#L1011) | $opts\_epl\_gallery\_n[ $i ] = $i; |
| [1012](#L1012) | } |
| [1013](#L1013) |  |
| [1014](#L1014) | $opts\_epl\_property\_card\_excerpt\_length = array(); |
| [1015](#L1015) | for ( $i = 10; $i <= 55; $i++ ) { |
| [1016](#L1016) | $opts\_epl\_property\_card\_excerpt\_length[ $i ] = $i; |
| [1017](#L1017) | } |
| [1018](#L1018) |  |
| [1019](#L1019) | $opts\_epl\_features = array(); |
| [1020](#L1020) | for ( $i = 1; $i <= 5; $i++ ) { |
| [1021](#L1021) | $opts\_epl\_features[ $i ] = $i; |
| [1022](#L1022) | } |
| [1023](#L1023) |  |
| [1024](#L1024) | $opts\_pages = array( '' => \_\_( 'Select Page', 'easy-property-listings' ) ); |
| [1025](#L1025) | $pages      = get\_pages(); |
| [1026](#L1026) |  |
| [1027](#L1027) | if ( ! empty( $pages ) ) { |
| [1028](#L1028) | foreach ( $pages as $page ) { |
| [1029](#L1029) | $opts\_pages[ $page->ID ] = $page->post\_title; |
| [1030](#L1030) | } |
| [1031](#L1031) | } |
| [1032](#L1032) |  |
| [1033](#L1033) | $get\_google\_maps\_api\_key\_uri = '<a target="\_blank" href="https://developers.google.com/maps/documentation/javascript/get-api-key">' . \_\_( 'Google Maps API Key', 'easy-property-listings' ) . '</a>'; |
| [1034](#L1034) |  |
| [1035](#L1035) | $epl\_currency\_positions = array( |
| [1036](#L1036) | 'before' => \_\_( 'Before - $10', 'easy-property-listings' ), |
| [1037](#L1037) | 'after'  => \_\_( 'After - 10$', 'easy-property-listings' ), |
| [1038](#L1038) | ); |
| [1039](#L1039) | $epl\_currency\_types     = epl\_get\_currencies(); |
| [1040](#L1040) | $epl\_post\_types         = epl\_get\_post\_types(); |
| [1041](#L1041) | if ( ! function\_exists( 'get\_editable\_roles' ) ) { |
| [1042](#L1042) | require\_once ABSPATH . '/wp-admin/includes/user.php'; |
| [1043](#L1043) | } |
| [1044](#L1044) | $roles  = array( |
| [1045](#L1045) | 'level\_10' => \_\_( 'Administrator', 'easy-property-listings' ), |
| [1046](#L1046) | 'level\_7'  => \_\_( 'Editor', 'easy-property-listings' ), |
| [1047](#L1047) | 'level\_2'  => \_\_( 'Author', 'easy-property-listings' ), |
| [1048](#L1048) | 'level\_1'  => \_\_( 'Contributor', 'easy-property-listings' ), |
| [1049](#L1049) | 'level\_0'  => \_\_( 'Subscriber', 'easy-property-listings' ), |
| [1050](#L1050) | ); |
| [1051](#L1051) | $fields = array( |
| [1052](#L1052) | array( |
| [1053](#L1053) | 'label'  => \_\_( 'Listing Types and Location Taxonomy', 'easy-property-listings' ), |
| [1054](#L1054) | 'class'  => 'core', |
| [1055](#L1055) | 'id'     => 'general', |
| [1056](#L1056) | 'help'   => \_\_( 'Select the listing types you want to enable and press Save Changes. Refresh the page to see your new activated listing types.', 'easy-property-listings' ) . '<hr/>', |
| [1057](#L1057) | 'fields' => array( |
| [1058](#L1058) | array( |
| [1059](#L1059) | 'name'  => 'activate\_post\_types', |
| [1060](#L1060) | 'label' => \_\_( 'Listing Types to Enable', 'easy-property-listings' ), |
| [1061](#L1061) | 'type'  => 'checkbox', |
| [1062](#L1062) | 'opts'  => $epl\_post\_types, |
| [1063](#L1063) | 'help'  => \_\_( 'Note: If they are not visible on the front end visit Dashboard > Settings > Permalinks and press Save Changes.', 'easy-property-listings' ), |
| [1064](#L1064) | ), |
| [1065](#L1065) |  |
| [1066](#L1066) | array( |
| [1067](#L1067) | 'name'    => 'label\_location', |
| [1068](#L1068) | 'label'   => \_\_( 'Location Taxonomy', 'easy-property-listings' ), |
| [1069](#L1069) | 'type'    => 'text', |
| [1070](#L1070) | 'help'    => \_\_( 'After changing this setting visit Dashboard > Settings > Permalinks to save the settings.', 'easy-property-listings' ), |
| [1071](#L1071) | 'default' => \_\_( 'Location', 'easy-property-listings' ), |
| [1072](#L1072) | ), |
| [1073](#L1073) | ), |
| [1074](#L1074) | ), |
| [1075](#L1075) |  |
| [1076](#L1076) | array( |
| [1077](#L1077) | 'label'  => \_\_( 'Address', 'easy-property-listings' ), |
| [1078](#L1078) | 'class'  => 'core', |
| [1079](#L1079) | 'id'     => 'address', |
| [1080](#L1080) | 'help'   => \_\_( 'Use these settings to adjust the address labels to suite your location and address format for your listings.', 'easy-property-listings' ) . '<hr/>', |
| [1081](#L1081) | 'fields' => array( |
| [1082](#L1082) |  |
| [1083](#L1083) | array( |
| [1084](#L1084) | 'name'    => 'label\_suburb', |
| [1085](#L1085) | 'label'   => \_\_( 'Suburb/Town/City Label', 'easy-property-listings' ), |
| [1086](#L1086) | 'type'    => 'text', |
| [1087](#L1087) | 'default' => \_\_( 'Suburb', 'easy-property-listings' ), |
| [1088](#L1088) | ), |
| [1089](#L1089) |  |
| [1090](#L1090) | array( |
| [1091](#L1091) | 'name'    => 'epl\_enable\_city\_field', |
| [1092](#L1092) | 'label'   => \_\_( 'Additional Address Field', 'easy-property-listings' ), |
| [1093](#L1093) | 'type'    => 'radio', |
| [1094](#L1094) | 'opts'    => array( |
| [1095](#L1095) | 'yes' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1096](#L1096) | 'no'  => \_\_( 'Disable', 'easy-property-listings' ), |
| [1097](#L1097) | ), |
| [1098](#L1098) | 'default' => 'no', |
| [1099](#L1099) | 'help'    => \_\_( 'Use when you need an additional Municipality/Town/City/Region.', 'easy-property-listings' ), |
| [1100](#L1100) | ), |
| [1101](#L1101) |  |
| [1102](#L1102) | array( |
| [1103](#L1103) | 'name'    => 'label\_city', |
| [1104](#L1104) | 'label'   => \_\_( 'Additional Address Field Label', 'easy-property-listings' ), |
| [1105](#L1105) | 'type'    => 'text', |
| [1106](#L1106) | 'default' => \_\_( 'City', 'easy-property-listings' ), |
| [1107](#L1107) | ), |
| [1108](#L1108) |  |
| [1109](#L1109) | array( |
| [1110](#L1110) | 'name'    => 'label\_state', |
| [1111](#L1111) | 'label'   => \_\_( 'State/Province/Region Label', 'easy-property-listings' ), |
| [1112](#L1112) | 'type'    => 'text', |
| [1113](#L1113) | 'default' => \_\_( 'State', 'easy-property-listings' ), |
| [1114](#L1114) | ), |
| [1115](#L1115) |  |
| [1116](#L1116) | array( |
| [1117](#L1117) | 'name'    => 'label\_postcode', |
| [1118](#L1118) | 'label'   => \_\_( 'Postcode/ZIP Label', 'easy-property-listings' ), |
| [1119](#L1119) | 'type'    => 'text', |
| [1120](#L1120) | 'default' => \_\_( 'Postcode', 'easy-property-listings' ), |
| [1121](#L1121) | ), |
| [1122](#L1122) |  |
| [1123](#L1123) | array( |
| [1124](#L1124) | 'name'    => 'epl\_enable\_country\_field', |
| [1125](#L1125) | 'label'   => \_\_( 'Display Country', 'easy-property-listings' ), |
| [1126](#L1126) | 'type'    => 'radio', |
| [1127](#L1127) | 'opts'    => array( |
| [1128](#L1128) | 'yes' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1129](#L1129) | 'no'  => \_\_( 'Disable', 'easy-property-listings' ), |
| [1130](#L1130) | ), |
| [1131](#L1131) | 'default' => 'no', |
| [1132](#L1132) | 'help'    => \_\_( 'Display country with listing address.', 'easy-property-listings' ), |
| [1133](#L1133) | ), |
| [1134](#L1134) |  |
| [1135](#L1135) | array( |
| [1136](#L1136) | 'name'    => 'epl\_default\_country', |
| [1137](#L1137) | 'label'   => \_\_( 'Default Country', 'easy-property-listings' ), |
| [1138](#L1138) | 'type'    => 'select', |
| [1139](#L1139) | 'opts'    => epl\_get\_countries\_list(), |
| [1140](#L1140) | 'default' => 'Australia', |
| [1141](#L1141) | 'help'    => \_\_( 'This is used for map when listing has no address details', 'easy-property-listings' ), |
| [1142](#L1142) | ), |
| [1143](#L1143) |  |
| [1144](#L1144) | ), |
| [1145](#L1145) | ), |
| [1146](#L1146) |  |
| [1147](#L1147) | array( |
| [1148](#L1148) | 'label'  => \_\_( 'Labels', 'easy-property-listings' ), |
| [1149](#L1149) | 'class'  => 'core', |
| [1150](#L1150) | 'id'     => 'labels', |
| [1151](#L1151) | 'help'   => \_\_( 'Customise the labels that are used to show the status and information on the archive and individual listing pages.', 'easy-property-listings' ) . '<hr/>', |
| [1152](#L1152) | 'fields' => array( |
| [1153](#L1153) |  |
| [1154](#L1154) | array( |
| [1155](#L1155) | 'name'    => 'label\_new', |
| [1156](#L1156) | 'label'   => \_\_( 'New/Just Listed Label', 'easy-property-listings' ), |
| [1157](#L1157) | 'type'    => 'text', |
| [1158](#L1158) | 'default' => \_\_( 'New', 'easy-property-listings' ), |
| [1159](#L1159) | ), |
| [1160](#L1160) |  |
| [1161](#L1161) | array( |
| [1162](#L1162) | 'name'    => 'sticker\_new\_range', |
| [1163](#L1163) | 'label'   => \_\_( 'Keep Listings flagged "New" for', 'easy-property-listings' ), |
| [1164](#L1164) | 'type'    => 'number', |
| [1165](#L1165) | 'default' => '7', |
| [1166](#L1166) | 'help'    => \_\_( 'Listings will have a "NEW" Sticker for the defined number of days.', 'easy-property-listings' ), |
| [1167](#L1167) | ), |
| [1168](#L1168) |  |
| [1169](#L1169) | array( |
| [1170](#L1170) | 'name'    => 'label\_home\_open', |
| [1171](#L1171) | 'label'   => \_\_( 'Home Open Label', 'easy-property-listings' ), |
| [1172](#L1172) | 'type'    => 'text', |
| [1173](#L1173) | 'default' => \_\_( 'Home Open', 'easy-property-listings' ), |
| [1174](#L1174) | ), |
| [1175](#L1175) |  |
| [1176](#L1176) | array( |
| [1177](#L1177) | 'name'    => 'label\_poa', |
| [1178](#L1178) | 'label'   => \_\_( 'No Price Label', 'easy-property-listings' ), |
| [1179](#L1179) | 'type'    => 'text', |
| [1180](#L1180) | 'default' => \_\_( 'POA', 'easy-property-listings' ), |
| [1181](#L1181) | ), |
| [1182](#L1182) |  |
| [1183](#L1183) | array( |
| [1184](#L1184) | 'name'    => 'label\_under\_offer', |
| [1185](#L1185) | 'label'   => \_\_( 'Under Offer Label', 'easy-property-listings' ), |
| [1186](#L1186) | 'type'    => 'text', |
| [1187](#L1187) | 'default' => \_\_( 'Under Offer', 'easy-property-listings' ), |
| [1188](#L1188) | ), |
| [1189](#L1189) |  |
| [1190](#L1190) | array( |
| [1191](#L1191) | 'name'    => 'label\_sold', |
| [1192](#L1192) | 'label'   => \_\_( 'Sold Label', 'easy-property-listings' ), |
| [1193](#L1193) | 'type'    => 'text', |
| [1194](#L1194) | 'default' => \_\_( 'Sold', 'easy-property-listings' ), |
| [1195](#L1195) | ), |
| [1196](#L1196) |  |
| [1197](#L1197) | array( |
| [1198](#L1198) | 'name'    => 'label\_leased', |
| [1199](#L1199) | 'label'   => \_\_( 'Leased Label', 'easy-property-listings' ), |
| [1200](#L1200) | 'type'    => 'text', |
| [1201](#L1201) | 'default' => \_\_( 'Leased', 'easy-property-listings' ), |
| [1202](#L1202) | ), |
| [1203](#L1203) |  |
| [1204](#L1204) | array( |
| [1205](#L1205) | 'name'    => 'label\_bond', |
| [1206](#L1206) | 'label'   => \_\_( 'Rental Bond/Deposit Label', 'easy-property-listings' ), |
| [1207](#L1207) | 'type'    => 'text', |
| [1208](#L1208) | 'default' => \_\_( 'Bond', 'easy-property-listings' ), |
| [1209](#L1209) | ), |
| [1210](#L1210) |  |
| [1211](#L1211) | array( |
| [1212](#L1212) | 'name'  => 'display\_bond', |
| [1213](#L1213) | 'label' => \_\_( 'Rental Bond/Deposit Display', 'easy-property-listings' ), |
| [1214](#L1214) | 'type'  => 'radio', |
| [1215](#L1215) | 'opts'  => array( |
| [1216](#L1216) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1217](#L1217) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1218](#L1218) | ), |
| [1219](#L1219) | 'help'  => \_\_( 'Display the Bond/Deposit on rental listings.', 'easy-property-listings' ), |
| [1220](#L1220) | ), |
| [1221](#L1221) | ), |
| [1222](#L1222) | ), |
| [1223](#L1223) |  |
| [1224](#L1224) | array( |
| [1225](#L1225) | 'label'  => \_\_( 'Listing Single View', 'easy-property-listings' ), |
| [1226](#L1226) | 'class'  => 'core', |
| [1227](#L1227) | 'id'     => 'general', |
| [1228](#L1228) | 'help'   => \_\_( 'Configure the default options when viewing a single listing.', 'easy-property-listings' ) . '<hr/>', |
| [1229](#L1229) | 'fields' => array( |
| [1230](#L1230) | array( |
| [1231](#L1231) | 'name'    => 'display\_single\_gallery', |
| [1232](#L1232) | 'label'   => \_\_( 'Automatically display image gallery?', 'easy-property-listings' ), |
| [1233](#L1233) | 'type'    => 'radio', |
| [1234](#L1234) | 'opts'    => array( |
| [1235](#L1235) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1236](#L1236) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1237](#L1237) | ), |
| [1238](#L1238) | 'default' => 1, |
| [1239](#L1239) | 'help'    => \_\_( 'Images uploaded and attached to a listing will automatically display on the single listing page.', 'easy-property-listings' ), |
| [1240](#L1240) | ), |
| [1241](#L1241) |  |
| [1242](#L1242) | array( |
| [1243](#L1243) | 'name'    => 'display\_gallery\_n', |
| [1244](#L1244) | 'label'   => \_\_( 'Gallery columns?', 'easy-property-listings' ), |
| [1245](#L1245) | 'type'    => 'select', |
| [1246](#L1246) | 'opts'    => $opts\_epl\_gallery\_n, |
| [1247](#L1247) | 'default' => 4, |
| [1248](#L1248) | ), |
| [1249](#L1249) |  |
| [1250](#L1250) | array( |
| [1251](#L1251) | 'name'    => 'display\_feature\_columns', |
| [1252](#L1252) | 'label'   => \_\_( 'Feature list columns?', 'easy-property-listings' ), |
| [1253](#L1253) | 'type'    => 'select', |
| [1254](#L1254) | 'opts'    => $opts\_epl\_features, |
| [1255](#L1255) | 'default' => 2, |
| [1256](#L1256) | ), |
| [1257](#L1257) |  |
| [1258](#L1258) | array( |
| [1259](#L1259) | 'name'  => 'epl\_video\_width', |
| [1260](#L1260) | 'label' => \_\_( 'Video width on single listings', 'easy-property-listings' ), |
| [1261](#L1261) | 'type'  => 'number', |
| [1262](#L1262) | 'help'  => \_\_( 'Width should be in pixels', 'easy-property-listings' ), |
| [1263](#L1263) | ), |
| [1264](#L1264) | ), |
| [1265](#L1265) | ), |
| [1266](#L1266) |  |
| [1267](#L1267) | array( |
| [1268](#L1268) | 'label'  => \_\_( 'Listing Archive View', 'easy-property-listings' ), |
| [1269](#L1269) | 'class'  => 'core', |
| [1270](#L1270) | 'id'     => 'general', |
| [1271](#L1271) | 'help'   => \_\_( 'Configure the default options for when viewing the archive listing pages.', 'easy-property-listings' ) . '<hr/>', |
| [1272](#L1272) | 'fields' => array( |
| [1273](#L1273) | array( |
| [1274](#L1274) | 'name'    => 'display\_excerpt\_length', |
| [1275](#L1275) | 'label'   => \_\_( 'Excerpt words', 'easy-property-listings' ), |
| [1276](#L1276) | 'type'    => 'select', |
| [1277](#L1277) | 'opts'    => $opts\_epl\_property\_card\_excerpt\_length, |
| [1278](#L1278) | 'default' => 10, |
| [1279](#L1279) | 'help'    => \_\_( 'This is ignored when using manual excerpts.', 'easy-property-listings' ), |
| [1280](#L1280) | ), |
| [1281](#L1281) | array( |
| [1282](#L1282) | 'name'    => 'display\_archive\_view\_type', |
| [1283](#L1283) | 'label'   => \_\_( 'Listing view type', 'easy-property-listings' ), |
| [1284](#L1284) | 'type'    => 'radio', |
| [1285](#L1285) | 'opts'    => array( |
| [1286](#L1286) | 'list' => \_\_( 'List', 'easy-property-listings' ), |
| [1287](#L1287) | 'grid' => \_\_( 'Grid', 'easy-property-listings' ), |
| [1288](#L1288) | ), |
| [1289](#L1289) | 'default' => 'list', |
| [1290](#L1290) | ), |
| [1291](#L1291) |  |
| [1292](#L1292) | array( |
| [1293](#L1293) | 'name'    => 'use\_fancy\_navigation', |
| [1294](#L1294) | 'label'   => \_\_( 'Fancy pagination', 'easy-property-listings' ), |
| [1295](#L1295) | 'type'    => 'select', |
| [1296](#L1296) | 'opts'    => array( |
| [1297](#L1297) | 0 => \_\_( 'No, use WordPress default pagination', 'easy-property-listings' ), |
| [1298](#L1298) | 1 => \_\_( 'Yes, use fancy navigation', 'easy-property-listings' ), |
| [1299](#L1299) | ), |
| [1300](#L1300) | 'default' => 0, |
| [1301](#L1301) | ), |
| [1302](#L1302) | ), |
| [1303](#L1303) | ), |
| [1304](#L1304) |  |
| [1305](#L1305) | array( |
| [1306](#L1306) | 'label'  => \_\_( 'Search Widget: Tab Labels', 'easy-property-listings' ), |
| [1307](#L1307) | 'class'  => 'core', |
| [1308](#L1308) | 'id'     => 'labels', |
| [1309](#L1309) | 'help'   => \_\_( 'Customise the tab labels of the EPL - Search Widget or [listing\_search] shortcode.', 'easy-property-listings' ) . '<hr/>', |
| [1310](#L1310) | 'fields' => array( |
| [1311](#L1311) | array( |
| [1312](#L1312) | 'name'    => 'widget\_label\_all', |
| [1313](#L1313) | 'label'   => \_\_( 'All', 'easy-property-listings' ), |
| [1314](#L1314) | 'type'    => 'text', |
| [1315](#L1315) | 'default' => \_\_( 'All', 'easy-property-listings' ), |
| [1316](#L1316) | ), |
| [1317](#L1317) | array( |
| [1318](#L1318) | 'name'    => 'widget\_label\_property', |
| [1319](#L1319) | 'label'   => \_\_( 'Property', 'easy-property-listings' ), |
| [1320](#L1320) | 'type'    => 'text', |
| [1321](#L1321) | 'default' => \_\_( 'Property', 'easy-property-listings' ), |
| [1322](#L1322) | ), |
| [1323](#L1323) | array( |
| [1324](#L1324) | 'name'    => 'widget\_label\_land', |
| [1325](#L1325) | 'label'   => \_\_( 'Land', 'easy-property-listings' ), |
| [1326](#L1326) | 'type'    => 'text', |
| [1327](#L1327) | 'default' => \_\_( 'Land', 'easy-property-listings' ), |
| [1328](#L1328) | ), |
| [1329](#L1329) | array( |
| [1330](#L1330) | 'name'    => 'widget\_label\_rental', |
| [1331](#L1331) | 'label'   => \_\_( 'Rental', 'easy-property-listings' ), |
| [1332](#L1332) | 'type'    => 'text', |
| [1333](#L1333) | 'default' => \_\_( 'Rental', 'easy-property-listings' ), |
| [1334](#L1334) | ), |
| [1335](#L1335) | array( |
| [1336](#L1336) | 'name'    => 'widget\_label\_rural', |
| [1337](#L1337) | 'label'   => \_\_( 'Rural', 'easy-property-listings' ), |
| [1338](#L1338) | 'type'    => 'text', |
| [1339](#L1339) | 'default' => \_\_( 'Rural', 'easy-property-listings' ), |
| [1340](#L1340) | ), |
| [1341](#L1341) | array( |
| [1342](#L1342) | 'name'    => 'widget\_label\_commercial', |
| [1343](#L1343) | 'label'   => \_\_( 'Commercial', 'easy-property-listings' ), |
| [1344](#L1344) | 'type'    => 'text', |
| [1345](#L1345) | 'default' => \_\_( 'Commercial', 'easy-property-listings' ), |
| [1346](#L1346) | ), |
| [1347](#L1347) | array( |
| [1348](#L1348) | 'name'    => 'widget\_label\_commercial\_land', |
| [1349](#L1349) | 'label'   => \_\_( 'Commercial Land', 'easy-property-listings' ), |
| [1350](#L1350) | 'type'    => 'text', |
| [1351](#L1351) | 'default' => \_\_( 'Commercial Land', 'easy-property-listings' ), |
| [1352](#L1352) | ), |
| [1353](#L1353) | array( |
| [1354](#L1354) | 'name'    => 'widget\_label\_business', |
| [1355](#L1355) | 'label'   => \_\_( 'Business', 'easy-property-listings' ), |
| [1356](#L1356) | 'type'    => 'text', |
| [1357](#L1357) | 'default' => \_\_( 'Business', 'easy-property-listings' ), |
| [1358](#L1358) | ), |
| [1359](#L1359) | ), |
| [1360](#L1360) | ), |
| [1361](#L1361) |  |
| [1362](#L1362) | array( |
| [1363](#L1363) | 'label'  => \_\_( 'Listings', 'easy-property-listings' ), |
| [1364](#L1364) | 'class'  => 'core', |
| [1365](#L1365) | 'id'     => 'admin\_general', |
| [1366](#L1366) | 'help'   => \_\_( 'Use the following settings to change how the Dashboard > Property or any listing of the types you have enabled display.', 'easy-property-listings' ) . '<hr/>', |
| [1367](#L1367) | 'fields' => array( |
| [1368](#L1368) |  |
| [1369](#L1369) | array( |
| [1370](#L1370) | 'name'    => 'epl\_max\_graph\_sales\_price', |
| [1371](#L1371) | 'label'   => \_\_( 'Graph Max', 'easy-property-listings' ), |
| [1372](#L1372) | 'type'    => 'number', |
| [1373](#L1373) | 'default' => '2000000', |
| [1374](#L1374) | 'help'    => \_\_( 'Used for bar chart display on listings for sale.', 'easy-property-listings' ), |
| [1375](#L1375) | ), |
| [1376](#L1376) |  |
| [1377](#L1377) | array( |
| [1378](#L1378) | 'name'    => 'epl\_max\_graph\_rent\_price', |
| [1379](#L1379) | 'label'   => \_\_( 'Graph Rental Max', 'easy-property-listings' ), |
| [1380](#L1380) | 'type'    => 'number', |
| [1381](#L1381) | 'default' => '2000', |
| [1382](#L1382) | 'help'    => \_\_( 'Rental range.', 'easy-property-listings' ), |
| [1383](#L1383) | ), |
| [1384](#L1384) |  |
| [1385](#L1385) | array( |
| [1386](#L1386) | 'name'    => 'epl\_admin\_thumb\_size', |
| [1387](#L1387) | 'label'   => \_\_( 'Image size', 'easy-property-listings' ), |
| [1388](#L1388) | 'type'    => 'radio', |
| [1389](#L1389) | 'opts'    => array( |
| [1390](#L1390) | 'admin-list-thumb'      => \_\_( '100 X 100', 'easy-property-listings' ), |
| [1391](#L1391) | 'epl-image-medium-crop' => \_\_( '300 X 200', 'easy-property-listings' ), |
| [1392](#L1392) | ), |
| [1393](#L1393) | 'default' => 'admin-list-thumb', |
| [1394](#L1394) | 'help'    => \_\_( 'Size of the image shown in listing columns in admin area', 'easy-property-listings' ), |
| [1395](#L1395) | ), |
| [1396](#L1396) |  |
| [1397](#L1397) | array( |
| [1398](#L1398) | 'name'    => 'admin\_unique\_id', |
| [1399](#L1399) | 'label'   => \_\_( 'Unique Listing ID column', 'easy-property-listings' ), |
| [1400](#L1400) | 'type'    => 'radio', |
| [1401](#L1401) | 'opts'    => array( |
| [1402](#L1402) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1403](#L1403) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1404](#L1404) | ), |
| [1405](#L1405) | 'default' => 0, |
| [1406](#L1406) | ), |
| [1407](#L1407) |  |
| [1408](#L1408) | array( |
| [1409](#L1409) | 'name'    => 'debug', |
| [1410](#L1410) | 'label'   => \_\_( 'Geocode Lat/Long results column', 'easy-property-listings' ), |
| [1411](#L1411) | 'type'    => 'radio', |
| [1412](#L1412) | 'opts'    => array( |
| [1413](#L1413) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1414](#L1414) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1415](#L1415) | ), |
| [1416](#L1416) | 'default' => 0, |
| [1417](#L1417) | ), |
| [1418](#L1418) |  |
| [1419](#L1419) | array( |
| [1420](#L1420) | 'name'    => 'display\_hidden\_fields', |
| [1421](#L1421) | 'label'   => \_\_( 'Display Hidden Fields', 'easy-property-listings' ), |
| [1422](#L1422) | 'type'    => 'radio', |
| [1423](#L1423) | 'opts'    => array( |
| [1424](#L1424) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1425](#L1425) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1426](#L1426) | ), |
| [1427](#L1427) | 'help'    => \_\_( 'Display hidden fields on the edit listing screen.', 'easy-property-listings' ), |
| [1428](#L1428) | 'default' => 0, |
| [1429](#L1429) | ), |
| [1430](#L1430) | ), |
| [1431](#L1431) | ), |
| [1432](#L1432) |  |
| [1433](#L1433) | array( |
| [1434](#L1434) | 'label'  => \_\_( 'Theme Setup', 'easy-property-listings' ), |
| [1435](#L1435) | 'class'  => 'core', |
| [1436](#L1436) | 'id'     => 'theme\_setup', |
| [1437](#L1437) | 'help'   => \_\_( 'The following settings will use your theme templates to generate your listing pages. If your listings appear too wide or your sidebar is in the wrong place enable theme compatibility. When this is enabled you can use the included shortcodes like [listing post\_type="property" tools\_top="on"] to display your listings with sorting and grid options.', 'easy-property-listings' ) . '<hr/>', |
| [1438](#L1438) | 'fields' => array( |
| [1439](#L1439) |  |
| [1440](#L1440) | array( |
| [1441](#L1441) | 'name'    => 'epl\_feeling\_lucky', |
| [1442](#L1442) | 'label'   => \_\_( 'Theme Compatibility', 'easy-property-listings' ), |
| [1443](#L1443) | 'type'    => 'radio', |
| [1444](#L1444) | 'opts'    => array( |
| [1445](#L1445) | 'on'  => \_\_( 'Enable', 'easy-property-listings' ), |
| [1446](#L1446) | 'off' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1447](#L1447) | ), |
| [1448](#L1448) | 'default' => 'off', |
| [1449](#L1449) | 'help'    => \_\_( 'When using iThemes, Genesis frameworks or your listings look good, leave this disabled.', 'easy-property-listings' ), |
| [1450](#L1450) | ), |
| [1451](#L1451) | ), |
| [1452](#L1452) | ), |
| [1453](#L1453) |  |
| [1454](#L1454) | array( |
| [1455](#L1455) | 'label'  => \_\_( 'Theme Setup: Featured Images', 'easy-property-listings' ), |
| [1456](#L1456) | 'class'  => 'core', |
| [1457](#L1457) | 'id'     => 'theme\_setup\_featured\_images', |
| [1458](#L1458) | 'help'   => \_\_( 'Some WordPress themes automatically display featured images on posts and pages which may cause you to see double on your listings. Use the following settings to adjust the featured image behaviour.', 'easy-property-listings' ) . '<hr/>', |
| [1459](#L1459) | 'fields' => array( |
| [1460](#L1460) |  |
| [1461](#L1461) | array( |
| [1462](#L1462) | 'name'    => 'help\_lucky\_theme\_featured\_image', |
| [1463](#L1463) | 'type'    => 'help', |
| [1464](#L1464) | 'content' => \_\_( 'Theme Featured Image Settings', 'easy-property-listings' ), |
| [1465](#L1465) | ), |
| [1466](#L1466) |  |
| [1467](#L1467) | array( |
| [1468](#L1468) | 'name'    => 'epl\_lucky\_disable\_theme\_single\_thumb', |
| [1469](#L1469) | 'label'   => \_\_( 'Single Listing', 'easy-property-listings' ), |
| [1470](#L1470) | 'type'    => 'checkbox\_option', |
| [1471](#L1471) | 'opts'    => array( |
| [1472](#L1472) | 'on' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1473](#L1473) | ), |
| [1474](#L1474) | 'default' => 'off', |
| [1475](#L1475) | ), |
| [1476](#L1476) |  |
| [1477](#L1477) | array( |
| [1478](#L1478) | 'name'    => 'epl\_lucky\_disable\_archive\_thumb', |
| [1479](#L1479) | 'label'   => \_\_( 'Archive Listing', 'easy-property-listings' ), |
| [1480](#L1480) | 'type'    => 'checkbox\_option', |
| [1481](#L1481) | 'opts'    => array( |
| [1482](#L1482) | 'on' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1483](#L1483) | ), |
| [1484](#L1484) | 'default' => 'off', |
| [1485](#L1485) | ), |
| [1486](#L1486) |  |
| [1487](#L1487) | array( |
| [1488](#L1488) | 'name'    => 'help\_lucky\_epl\_featured\_image', |
| [1489](#L1489) | 'type'    => 'help', |
| [1490](#L1490) | 'content' => '<hr/>' . \_\_( 'Easy Property Listings Featured Image Settings', 'easy-property-listings' ), |
| [1491](#L1491) | ), |
| [1492](#L1492) |  |
| [1493](#L1493) | array( |
| [1494](#L1494) | 'name'    => 'epl\_lucky\_disable\_single\_thumb', |
| [1495](#L1495) | 'label'   => \_\_( 'Single Listing', 'easy-property-listings' ), |
| [1496](#L1496) | 'type'    => 'checkbox\_option', |
| [1497](#L1497) | 'opts'    => array( |
| [1498](#L1498) | 'on' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1499](#L1499) | ), |
| [1500](#L1500) | 'default' => 'off', |
| [1501](#L1501) | ), |
| [1502](#L1502) |  |
| [1503](#L1503) | array( |
| [1504](#L1504) | 'name'    => 'epl\_lucky\_disable\_epl\_archive\_thumb', |
| [1505](#L1505) | 'label'   => \_\_( 'Archive Listing', 'easy-property-listings' ), |
| [1506](#L1506) | 'type'    => 'checkbox\_option', |
| [1507](#L1507) | 'opts'    => array( |
| [1508](#L1508) | 'on' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1509](#L1509) | ), |
| [1510](#L1510) | 'default' => 'off', |
| [1511](#L1511) | ), |
| [1512](#L1512) | ), |
| [1513](#L1513) | ), |
| [1514](#L1514) |  |
| [1515](#L1515) | array( |
| [1516](#L1516) | 'label'  => \_\_( 'Currency', 'easy-property-listings' ), |
| [1517](#L1517) | 'class'  => 'core', |
| [1518](#L1518) | 'id'     => 'currency', |
| [1519](#L1519) | // Translators: Currency article link. |
| [1520](#L1520) | 'help'   => sprintf( \_\_( 'Select your default currency. If you can not find the currency you are looking for, you can add additional currencies with a filter, <a href="%s" target="\_blank">visit the codex to see how</a>.', 'easy-property-listings' ), esc\_url( 'https://codex.easypropertylistings.com.au/article/153-eplgetcurrencies' ) ) . '<hr/>', |
| [1521](#L1521) | 'fields' => array( |
| [1522](#L1522) | array( |
| [1523](#L1523) | 'name'  => 'currency', |
| [1524](#L1524) | 'label' => \_\_( 'Currency Type', 'easy-property-listings' ), |
| [1525](#L1525) | 'type'  => 'select', |
| [1526](#L1526) | 'opts'  => $epl\_currency\_types, |
| [1527](#L1527) | ), |
| [1528](#L1528) |  |
| [1529](#L1529) | array( |
| [1530](#L1530) | 'name'  => 'currency\_position', |
| [1531](#L1531) | 'label' => \_\_( 'Symbol Position', 'easy-property-listings' ), |
| [1532](#L1532) | 'type'  => 'select', |
| [1533](#L1533) | 'opts'  => $epl\_currency\_positions, |
| [1534](#L1534) | ), |
| [1535](#L1535) |  |
| [1536](#L1536) | array( |
| [1537](#L1537) | 'name'  => 'currency\_thousands\_separator', |
| [1538](#L1538) | 'label' => \_\_( 'Thousands Separator', 'easy-property-listings' ), |
| [1539](#L1539) | 'type'  => 'text', |
| [1540](#L1540) | ), |
| [1541](#L1541) |  |
| [1542](#L1542) | array( |
| [1543](#L1543) | 'name'  => 'currency\_decimal\_separator', |
| [1544](#L1544) | 'label' => \_\_( 'Decimal Separator', 'easy-property-listings' ), |
| [1545](#L1545) | 'type'  => 'text', |
| [1546](#L1546) | ), |
| [1547](#L1547) | ), |
| [1548](#L1548) | ), |
| [1549](#L1549) |  |
| [1550](#L1550) | array( |
| [1551](#L1551) | 'label'  => \_\_( 'Inspection Date & Time Format', 'easy-property-listings' ), |
| [1552](#L1552) | 'class'  => 'core', |
| [1553](#L1553) | 'id'     => 'inspection\_date\_time', |
| [1554](#L1554) | 'help'   => \_\_( 'These settings allow you to control how your inspection times display by default.', 'easy-property-listings' ) . '<hr/>', |
| [1555](#L1555) | 'fields' => array( |
| [1556](#L1556) | array( |
| [1557](#L1557) | 'name'  => 'inspection\_date\_format', |
| [1558](#L1558) | 'label' => \_\_( 'Date Format', 'easy-property-listings' ), |
| [1559](#L1559) | 'type'  => 'radio', |
| [1560](#L1560) | 'opts'  => array( |
| [1561](#L1561) |  |
| [1562](#L1562) | 'd-M-Y'                         => date( 'd-M-Y', time() ), |
| [1563](#L1563) | 'l, dS F'                       => date( 'l, dS F', time() ), |
| [1564](#L1564) | 'D d M'                         => date( 'D d M', time() ), |
| [1565](#L1565) | 'custom\_inspection\_date\_format' => \_\_( 'Custom', 'easy-property-listings' ), |
| [1566](#L1566) |  |
| [1567](#L1567) | ), |
| [1568](#L1568) | ), |
| [1569](#L1569) | array( |
| [1570](#L1570) | 'name'  => 'custom\_inspection\_date\_format', |
| [1571](#L1571) | 'label' => \_\_( 'Custom Date Format', 'easy-property-listings' ), |
| [1572](#L1572) | 'type'  => 'text', |
| [1573](#L1573) | ), |
| [1574](#L1574) | array( |
| [1575](#L1575) | 'name'  => 'inspection\_time\_format', |
| [1576](#L1576) | 'label' => \_\_( 'Time Format', 'easy-property-listings' ), |
| [1577](#L1577) | 'type'  => 'radio', |
| [1578](#L1578) | 'opts'  => array( |
| [1579](#L1579) |  |
| [1580](#L1580) | 'h:i A'                         => date( 'h:i A', time() ), |
| [1581](#L1581) | 'h:i a'                         => date( 'h:i a', time() ), |
| [1582](#L1582) | 'H:i'                           => date( 'h:i', time() ) . \_\_( ' ( 24 Hours Format ) ', 'easy-property-listings' ), |
| [1583](#L1583) | 'custom\_inspection\_time\_format' => \_\_( 'Custom', 'easy-property-listings' ), |
| [1584](#L1584) |  |
| [1585](#L1585) | ), |
| [1586](#L1586) | ), |
| [1587](#L1587) | array( |
| [1588](#L1588) | 'name'  => 'custom\_inspection\_time\_format', |
| [1589](#L1589) | 'label' => \_\_( 'Custom Time Format', 'easy-property-listings' ), |
| [1590](#L1590) | 'type'  => 'text', |
| [1591](#L1591) | ), |
| [1592](#L1592) | ), |
| [1593](#L1593) | ), |
| [1594](#L1594) |  |
| [1595](#L1595) | array( |
| [1596](#L1596) | 'label'   => \_\_( 'Contact Settings', 'easy-property-listings' ), |
| [1597](#L1597) | 'class'   => 'core', |
| [1598](#L1598) | 'id'      => 'contact', |
| [1599](#L1599) | 'help'    => \_\_( 'You can allow access to the Contacts system for logged in users.', 'easy-property-listings' ) . '<hr/>', |
| [1600](#L1600) | 'fields'  => array( |
| [1601](#L1601) | array( |
| [1602](#L1602) | 'name'  => 'min\_contact\_access', |
| [1603](#L1603) | 'label' => \_\_( 'Contact Access Level', 'easy-property-listings' ), |
| [1604](#L1604) | 'type'  => 'radio', |
| [1605](#L1605) | 'opts'  => $roles, |
| [1606](#L1606) | ), |
| [1607](#L1607) |  |
| [1608](#L1608) | ), |
| [1609](#L1609) | 'default' => 'administrator', |
| [1610](#L1610) | ), |
| [1611](#L1611) |  |
| [1612](#L1612) | array( |
| [1613](#L1613) | 'label'   => \_\_( 'Reports Settings', 'easy-property-listings' ), |
| [1614](#L1614) | 'class'   => 'core', |
| [1615](#L1615) | 'id'      => 'reports', |
| [1616](#L1616) | 'help'    => \_\_( 'You can allow access to the Reports system for logged in users.', 'easy-property-listings' ) . '<hr/>', |
| [1617](#L1617) |  |
| [1618](#L1618) | 'fields'  => array( |
| [1619](#L1619) | array( |
| [1620](#L1620) | 'name'  => 'min\_reports\_access', |
| [1621](#L1621) | 'label' => \_\_( 'Reports Access Level', 'easy-property-listings' ), |
| [1622](#L1622) | 'type'  => 'radio', |
| [1623](#L1623) | 'opts'  => $roles, |
| [1624](#L1624) | ), |
| [1625](#L1625) |  |
| [1626](#L1626) | ), |
| [1627](#L1627) | 'default' => 'administrator', |
| [1628](#L1628) | ), |
| [1629](#L1629) |  |
| [1630](#L1630) | array( |
| [1631](#L1631) | 'label'  => \_\_( 'Advanced Settings', 'easy-property-listings' ), |
| [1632](#L1632) | 'class'  => 'core', |
| [1633](#L1633) | 'id'     => 'advanced', |
| [1634](#L1634) | // translators: EPL site link. |
| [1635](#L1635) | 'help'   => sprintf( \_\_( 'Additional settings to control how Easy Property Listings works. For even more advanced filters and hooks, <a href="%s" target="\_blank">visit the codex</a>.', 'easy-property-listings' ), esc\_url( 'https://codex.easypropertylistings.com.au/' ) ) . '<hr/>', |
| [1636](#L1636) | 'fields' => array( |
| [1637](#L1637) | array( |
| [1638](#L1638) | 'name'    => 'epl\_use\_core\_css', |
| [1639](#L1639) | 'label'   => \_\_( 'Disable Styles', 'easy-property-listings' ), |
| [1640](#L1640) | 'type'    => 'checkbox\_option', |
| [1641](#L1641) | 'opts'    => array( |
| [1642](#L1642) | 'on' => \_\_( 'Yes', 'easy-property-listings' ), |
| [1643](#L1643) | ), |
| [1644](#L1644) | 'default' => 'off', |
| [1645](#L1645) | 'help'    => \_\_( 'Check this to disable all elements.', 'easy-property-listings' ), |
| [1646](#L1646) | ), |
| [1647](#L1647) |  |
| [1648](#L1648) | array( |
| [1649](#L1649) | 'name'    => 'epl\_css\_legacy', |
| [1650](#L1650) | 'label'   => \_\_( 'Legacy Styles', 'easy-property-listings' ), |
| [1651](#L1651) | 'type'    => 'checkbox\_option', |
| [1652](#L1652) | 'opts'    => array( |
| [1653](#L1653) | 'on' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1654](#L1654) | ), |
| [1655](#L1655) | 'default' => 'off', |
| [1656](#L1656) | 'help'    => \_\_( 'Check this to enable legacy css styles.', 'easy-property-listings' ), |
| [1657](#L1657) | ), |
| [1658](#L1658) |  |
| [1659](#L1659) | array( |
| [1660](#L1660) | 'name'    => 'epl\_css\_enhanced', |
| [1661](#L1661) | 'label'   => \_\_( 'Enhanced Styles', 'easy-property-listings' ), |
| [1662](#L1662) | 'type'    => 'checkbox\_option', |
| [1663](#L1663) | 'opts'    => array( |
| [1664](#L1664) | 'on' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1665](#L1665) | ), |
| [1666](#L1666) | 'default' => 'off', |
| [1667](#L1667) | 'help'    => \_\_( 'Check this to enable enhanced structural css styles. This implements inline-block mode for a better grid format on your listings.', 'easy-property-listings' ), |
| [1668](#L1668) | ), |
| [1669](#L1669) |  |
| [1670](#L1670) | array( |
| [1671](#L1671) | 'name'    => 'epl\_icons\_svg\_listings', |
| [1672](#L1672) | 'label'   => \_\_( 'SVG Icons for Listings', 'easy-property-listings' ), |
| [1673](#L1673) | 'type'    => 'checkbox\_option', |
| [1674](#L1674) | 'opts'    => array( |
| [1675](#L1675) | 'on' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1676](#L1676) | ), |
| [1677](#L1677) | 'default' => 'off', |
| [1678](#L1678) | 'help'    => \_\_( 'Check this to enable SVG icons on listings.', 'easy-property-listings' ), |
| [1679](#L1679) | ), |
| [1680](#L1680) |  |
| [1681](#L1681) | array( |
| [1682](#L1682) | 'name'    => 'epl\_icons\_svg\_author', |
| [1683](#L1683) | 'label'   => \_\_( 'SVG Icons for Author Social Links', 'easy-property-listings' ), |
| [1684](#L1684) | 'type'    => 'checkbox\_option', |
| [1685](#L1685) | 'opts'    => array( |
| [1686](#L1686) | 'on' => \_\_( 'Enable', 'easy-property-listings' ), |
| [1687](#L1687) | ), |
| [1688](#L1688) | 'default' => 'off', |
| [1689](#L1689) | 'help'    => \_\_( 'Check this to enable SVG icons on author social links.', 'easy-property-listings' ), |
| [1690](#L1690) | ), |
| [1691](#L1691) |  |
| [1692](#L1692) | array( |
| [1693](#L1693) | 'name'    => 'epl\_disable\_google\_api', |
| [1694](#L1694) | 'label'   => \_\_( 'Google Maps API', 'easy-property-listings' ), |
| [1695](#L1695) | 'type'    => 'radio', |
| [1696](#L1696) | 'opts'    => array( |
| [1697](#L1697) | ''   => \_\_( 'Enable', 'easy-property-listings' ), |
| [1698](#L1698) | 'on' => \_\_( 'Disable', 'easy-property-listings' ), |
| [1699](#L1699) | ), |
| [1700](#L1700) | 'default' => '', |
| [1701](#L1701) | 'help'    => \_\_( 'Set to disabled if Google Maps API has already been loaded in your theme or other plugin.', 'easy-property-listings' ), |
| [1702](#L1702) |  |
| [1703](#L1703) | ), |
| [1704](#L1704) |  |
| [1705](#L1705) | array( |
| [1706](#L1706) | 'name'  => 'epl\_google\_api\_key', |
| [1707](#L1707) | 'label' => \_\_( 'Google Maps API Key', 'easy-property-listings' ), |
| [1708](#L1708) | 'type'  => 'text', |
| [1709](#L1709) | // translators: google map register key link. |
| [1710](#L1710) | 'help'  => sprintf( \_\_( 'Register for a %s here.', 'easy-property-listings' ), $get\_google\_maps\_api\_key\_uri ), |
| [1711](#L1711) | ), |
| [1712](#L1712) |  |
| [1713](#L1713) | array( |
| [1714](#L1714) | 'name'    => 'epl\_plugin\_mode', |
| [1715](#L1715) | 'label'   => \_\_( 'Mode', 'easy-property-listings' ), |
| [1716](#L1716) | 'type'    => 'radio', |
| [1717](#L1717) | 'opts'    => array( |
| [1718](#L1718) | 'development' => \_\_( 'Development', 'easy-property-listings' ), |
| [1719](#L1719) | 'production'  => \_\_( 'Production', 'easy-property-listings' ), |
| [1720](#L1720) | ), |
| [1721](#L1721) | 'help'    => \_\_( 'Production mode enqueue minified js & css for faster page loads.', 'easy-property-listings' ), |
| [1722](#L1722) | 'default' => 'production', |
| [1723](#L1723) | ), |
| [1724](#L1724) |  |
| [1725](#L1725) | array( |
| [1726](#L1726) | 'name'    => 'uninstall\_on\_delete', |
| [1727](#L1727) | 'label'   => \_\_( 'Remove Data on Uninstall?', 'easy-property-listings' ), |
| [1728](#L1728) | 'type'    => 'radio', |
| [1729](#L1729) | 'opts'    => array( |
| [1730](#L1730) | 1 => \_\_( 'Enable', 'easy-property-listings' ), |
| [1731](#L1731) | 0 => \_\_( 'Disable', 'easy-property-listings' ), |
| [1732](#L1732) | ), |
| [1733](#L1733) | 'help'    => \_\_( 'Select Enable if you would like EPL to completely remove all of its data when the plugin is deleted.', 'easy-property-listings' ), |
| [1734](#L1734) | 'default' => 0, |
| [1735](#L1735) | ), |
| [1736](#L1736) | ), |
| [1737](#L1737) | ), |
| [1738](#L1738) |  |
| [1739](#L1739) | ); |
| [1740](#L1740) |  |
| [1741](#L1741) | if ( defined( 'EPL\_BETA\_VERSIONS' ) && true === EPL\_BETA\_VERSIONS ) { |
| [1742](#L1742) | $fields[] = array( |
| [1743](#L1743) | 'label'  => \_\_( 'Beta Versions', 'easy-property-listings' ), |
| [1744](#L1744) | 'class'  => 'core', |
| [1745](#L1745) | 'id'     => 'beta-versions', |
| [1746](#L1746) | 'fields' => array( |
| [1747](#L1747) | array( |
| [1748](#L1748) | 'name'  => 'enabled\_betas', |
| [1749](#L1749) | 'label' => \_\_( 'Enable Beta Versions', 'easy-property-listings' ), |
| [1750](#L1750) | 'type'  => 'checkbox', |
| [1751](#L1751) | 'opts'  => epl\_get\_beta\_enabled\_extensions(), |
| [1752](#L1752) | 'help'  => \_\_( 'Checking any of the checkboxes will opt you in to receive pre-release update notifications. You can opt-out at any time. Pre-release updates do not install automatically, you will still have the opportunity to ignore update notifications.', 'easy-property-listings' ), |
| [1753](#L1753) | ), |
| [1754](#L1754) |  |
| [1755](#L1755) | ), |
| [1756](#L1756) | ); |
| [1757](#L1757) | } |
| [1758](#L1758) |  |
| [1759](#L1759) | $fields = apply\_filters( 'epl\_display\_options\_filter', $fields ); |
| [1760](#L1760) | return $fields; |
| [1761](#L1761) | } |
| [1762](#L1762) |  |
| [1763](#L1763) | /\*\* |
| [1764](#L1764) | \* Sold status filter |
| [1765](#L1765) | \* |
| [1766](#L1766) | \* @since 2.1.11 |
| [1767](#L1767) | \*/ |
| [1768](#L1768) | function epl\_sold\_label\_status\_filter\_callback() { |
| [1769](#L1769) | global $epl\_settings; |
| [1770](#L1770) | $epl\_settings['label\_sold'] = ! isset( $epl\_settings['label\_sold'] ) ? '' : $epl\_settings['label\_sold']; |
| [1771](#L1771) | $sold\_label                 = 'Sold' !== $epl\_settings['label\_sold'] || ! empty( $epl\_settings['label\_sold'] ) ? $epl\_settings['label\_sold'] : \_\_( 'Sold', 'easy-property-listings' ); |
| [1772](#L1772) | return $sold\_label; |
| [1773](#L1773) | } |
| [1774](#L1774) | add\_filter( 'epl\_sold\_label\_status\_filter', 'epl\_sold\_label\_status\_filter\_callback' ); |
| [1775](#L1775) |  |
| [1776](#L1776) | /\*\* |
| [1777](#L1777) | \* Under Offer status filter |
| [1778](#L1778) | \* |
| [1779](#L1779) | \* @since 2.1.11 |
| [1780](#L1780) | \*/ |
| [1781](#L1781) | function epl\_under\_offer\_label\_status\_filter\_callback() { |
| [1782](#L1782) | global $epl\_settings; |
| [1783](#L1783) | $epl\_settings['label\_under\_offer'] = ! isset( $epl\_settings['label\_under\_offer'] ) ? '' : $epl\_settings['label\_under\_offer']; |
| [1784](#L1784) | $under\_offer\_label                 = 'Under Offer' !== $epl\_settings['label\_under\_offer'] || ! empty( $epl\_settings['label\_under\_offer'] ) ? $epl\_settings['label\_under\_offer'] : \_\_( 'Under Offer', 'easy-property-listings' ); |
| [1785](#L1785) | return $under\_offer\_label; |
| [1786](#L1786) | } |
| [1787](#L1787) | add\_filter( 'epl\_under\_offer\_label\_status\_filter', 'epl\_under\_offer\_label\_status\_filter\_callback' ); |
| [1788](#L1788) |  |
| [1789](#L1789) | /\*\* |
| [1790](#L1790) | \* Leased status filter |
| [1791](#L1791) | \* |
| [1792](#L1792) | \* @since 2.1.11 |
| [1793](#L1793) | \*/ |
| [1794](#L1794) | function epl\_leased\_label\_status\_filter\_callback() { |
| [1795](#L1795) | global $epl\_settings; |
| [1796](#L1796) | $epl\_settings['label\_leased'] = ! isset( $epl\_settings['label\_leased'] ) ? '' : $epl\_settings['label\_leased']; |
| [1797](#L1797) | $leased\_label                 = 'Leased' !== $epl\_settings['label\_leased'] || ! empty( $epl\_settings['label\_leased'] ) ? $epl\_settings['label\_leased'] : \_\_( 'Leased', 'easy-property-listings' ); |
| [1798](#L1798) | return $leased\_label; |
| [1799](#L1799) | } |
| [1800](#L1800) | add\_filter( 'epl\_leased\_label\_status\_filter', 'epl\_leased\_label\_status\_filter\_callback' ); |
| [1801](#L1801) |  |
| [1802](#L1802) | /\*\* |
| [1803](#L1803) | \* Description: Getting all the values associated with a specific custom post meta key, across all posts |
| [1804](#L1804) | \* Author: Chinmoy Paul |
| [1805](#L1805) | \* Author URL: http://pwdtechnology.com |
| [1806](#L1806) | \* |
| [1807](#L1807) | \* @param string $key Post Meta Key. |
| [1808](#L1808) | \* @param string $type Post Type. Default is post. You can pass custom post type here. |
| [1809](#L1809) | \* @param string $status Post Status like Publish, draft, future etc. default is publish. |
| [1810](#L1810) | \* @param string $property\_status Listing status. |
| [1811](#L1811) | \* @return array |
| [1812](#L1812) | \* @since 2.1.11 |
| [1813](#L1813) | \* @since 3.4.40 Tweak: Search selection results will be sorted in a-z order. |
| [1814](#L1814) | \* @since 3.4.40 Fix: Search address options fixed for the all search tab. |
| [1815](#L1815) | \*/ |
| [1816](#L1816) | function epl\_get\_unique\_post\_meta\_values( $key = '', $type = '', $status = 'publish', $property\_status = '' ) { |
| [1817](#L1817) |  |
| [1818](#L1818) | global $wpdb; |
| [1819](#L1819) |  |
| [1820](#L1820) | if ( empty( $key ) ) { |
| [1821](#L1821) | return; |
| [1822](#L1822) | } |
| [1823](#L1823) |  |
| [1824](#L1824) | if ( empty( $type ) || 'all' === $type ) { |
| [1825](#L1825) | $type = epl\_get\_core\_post\_types(); |
| [1826](#L1826) | } |
| [1827](#L1827) |  |
| [1828](#L1828) | $type     = (array) $type; |
| [1829](#L1829) | $type     = array\_map( 'sanitize\_text\_field', $type ); |
| [1830](#L1830) | $type\_str = " ( '" . implode( "','", $type ) . "' ) "; |
| [1831](#L1831) |  |
| [1832](#L1832) | $query = " |
| [1833](#L1833) | SELECT DISTINCT pm.meta\_value FROM {$wpdb->postmeta} pm |
| [1834](#L1834) | LEFT JOIN {$wpdb->posts} p ON p.ID = pm.post\_id |
| [1835](#L1835) | LEFT JOIN {$wpdb->postmeta} pm2 ON pm.post\_id = pm2.post\_id |
| [1836](#L1836) | WHERE pm.meta\_key = '%s' |
| [1837](#L1837) | AND p.post\_status = '%s' |
| [1838](#L1838) | AND p.post\_type IN $type\_str |
| [1839](#L1839) | "; |
| [1840](#L1840) |  |
| [1841](#L1841) | if ( ! empty( $property\_status ) ) { |
| [1842](#L1842) | $property\_status = array\_map( 'trim', explode( ',', $property\_status ) ); |
| [1843](#L1843) | if ( count( $property\_status ) ) { |
| [1844](#L1844) | $query .= " |
| [1845](#L1845) | AND pm2.meta\_key                = 'property\_status' |
| [1846](#L1846) | AND pm2.meta\_value              IN ('" . implode( "','", $property\_status ) . "')"; |
| [1847](#L1847) | } |
| [1848](#L1848) | } |
| [1849](#L1849) |  |
| [1850](#L1850) | $res = $wpdb->get\_col( $wpdb->prepare( $query, $key, $status ) ); // phpcs:ignore |
| [1851](#L1851) |  |
| [1852](#L1852) | $res = array\_filter( $res ); |
| [1853](#L1853) |  |
| [1854](#L1854) | foreach ( $res as $key => &$elem ) { |
| [1855](#L1855) | $elem = maybe\_unserialize( $elem ); |
| [1856](#L1856) | if ( ! empty( $elem ) && is\_array( $elem ) ) { |
| [1857](#L1857) | foreach ( $elem as $el ) { |
| [1858](#L1858) | $res[] = $el; |
| [1859](#L1859) | } |
| [1860](#L1860) | unset( $res[ $key ] ); |
| [1861](#L1861) | } |
| [1862](#L1862) | } |
| [1863](#L1863) |  |
| [1864](#L1864) | $res = array\_filter( $res ); |
| [1865](#L1865) |  |
| [1866](#L1866) | $results = array(); |
| [1867](#L1867) |  |
| [1868](#L1868) | foreach ( $res as $s\_res ) { |
| [1869](#L1869) | $results[ $s\_res ] = ucwords( $s\_res ); |
| [1870](#L1870) | } |
| [1871](#L1871) |  |
| [1872](#L1872) | asort( $results ); |
| [1873](#L1873) |  |
| [1874](#L1874) | return apply\_filters( 'epl\_get\_unique\_post\_meta\_values', $results, $key, $type ); |
| [1875](#L1875) | } |
| [1876](#L1876) |  |
| [1877](#L1877) | /\*\* |
| [1878](#L1878) | \* Get Sales Count By Date |
| [1879](#L1879) | \* |
| [1880](#L1880) | \* @param int  $day Day number. |
| [1881](#L1881) | \* @param int  $month\_num Month number. |
| [1882](#L1882) | \* @param int  $year Year. |
| [1883](#L1883) | \* @param int  $hour Hour. |
| [1884](#L1884) | \* @param int  $status Listing status. |
| [1885](#L1885) | \* @param bool $day\_by\_day Sales by day. |
| [1886](#L1886) | \* @return int $count Sales |
| [1887](#L1887) | \* @since 3.0 |
| [1888](#L1888) | \*/ |
| [1889](#L1889) | function epl\_get\_sales\_by\_date( $day = null, $month\_num = null, $year = null, $hour = null, $status = null, $day\_by\_day = true ) { |
| [1890](#L1890) | // phpcs:disable WordPress.Security.NonceVerification |
| [1891](#L1891) | $post\_type = isset( $\_GET['view'] ) ? sanitize\_text\_field( wp\_unslash( $\_GET['view'] ) ) : 'property'; |
| [1892](#L1892) | $args      = array( |
| [1893](#L1893) | 'post\_type'              => $post\_type, |
| [1894](#L1894) | 'nopaging'               => true, |
| [1895](#L1895) | 'year'                   => $year, |
| [1896](#L1896) | 'fields'                 => 'ids', |
| [1897](#L1897) | 'post\_status'            => array( 'publish' ), |
| [1898](#L1898) | 'update\_post\_meta\_cache' => false, |
| [1899](#L1899) | 'update\_post\_term\_cache' => false, |
| [1900](#L1900) | ); |
| [1901](#L1901) |  |
| [1902](#L1902) | if ( in\_array( $status, array( 'sold', 'leased' ), true ) ) { |
| [1903](#L1903) |  |
| [1904](#L1904) | $month\_num = is\_null( $month\_num ) ? 00 : $month\_num; |
| [1905](#L1905) | $day       = is\_null( $day ) ? 00 : $day; |
| [1906](#L1906) | $year      = is\_null( $year ) ? 0000 : $year; |
| [1907](#L1907) | $range     = isset( $\_GET['range'] ) ? sanitize\_text\_field( wp\_unslash( $\_GET['range'] ) ) : 'other'; |
| [1908](#L1908) |  |
| [1909](#L1909) | $args['meta\_query'] = array( //phpcs:ignore |
| [1910](#L1910) | array( |
| [1911](#L1911) | 'key'     => 'property\_status', |
| [1912](#L1912) | 'value'   => (array) $status, |
| [1913](#L1913) | 'compare' => 'IN', |
| [1914](#L1914) | ), |
| [1915](#L1915) | ); |
| [1916](#L1916) |  |
| [1917](#L1917) | if ( in\_array( $range, array( 'other', 'last\_year', 'this\_year', 'last\_quarter', 'this\_quarter' ), true ) ) { |
| [1918](#L1918) |  |
| [1919](#L1919) | $sold\_key = 'leased' === $status ? 'property\_date\_available' : 'property\_sold\_date'; |
| [1920](#L1920) |  |
| [1921](#L1921) | $sold\_date\_end   = date( 'Y-m-d', strtotime( $year . '-' . $month\_num . '-' . $day ) ); |
| [1922](#L1922) | $sold\_date\_start = true === $day\_by\_day ? $sold\_date\_end : date( 'Y-m-01', strtotime( $year . '-' . $month\_num . '-' . $day ) ); |
| [1923](#L1923) |  |
| [1924](#L1924) | $args['meta\_query'][] = array( |
| [1925](#L1925) | 'key'     => $sold\_key, |
| [1926](#L1926) | 'value'   => array( $sold\_date\_start, $sold\_date\_end ), |
| [1927](#L1927) | 'type'    => 'DATE', |
| [1928](#L1928) | 'compare' => 'BETWEEN', |
| [1929](#L1929) | ); |
| [1930](#L1930) |  |
| [1931](#L1931) | } else { |
| [1932](#L1932) |  |
| [1933](#L1933) | $sold\_key  = 'leased' === $status ? 'property\_date\_available' : 'property\_sold\_date'; |
| [1934](#L1934) | $sold\_date = date( 'Y-m-d', strtotime( $year . '-' . $month\_num . '-' . $day ) ); |
| [1935](#L1935) |  |
| [1936](#L1936) | $args['meta\_query'][] = array( |
| [1937](#L1937) | 'key'   => $sold\_key, |
| [1938](#L1938) | 'value' => $sold\_date, |
| [1939](#L1939) | 'type'  => 'DATE', |
| [1940](#L1940) | ); |
| [1941](#L1941) | } |
| [1942](#L1942) | } else { |
| [1943](#L1943) |  |
| [1944](#L1944) | if ( ! empty( $month\_num ) ) { |
| [1945](#L1945) | $args['monthnum'] = $month\_num; |
| [1946](#L1946) | } |
| [1947](#L1947) |  |
| [1948](#L1948) | if ( ! empty( $day ) ) { |
| [1949](#L1949) | $args['day'] = $day; |
| [1950](#L1950) | } |
| [1951](#L1951) |  |
| [1952](#L1952) | if ( ! empty( $hour ) ) { |
| [1953](#L1953) | $args['hour'] = $hour; |
| [1954](#L1954) | } |
| [1955](#L1955) | } |
| [1956](#L1956) |  |
| [1957](#L1957) | $args = apply\_filters( 'epl\_get\_sales\_by\_date\_args', $args ); |
| [1958](#L1958) |  |
| [1959](#L1959) | $key   = 'epl\_stats\_' . substr( md5( serialize( $args ) ), 0, 15 ); //phpcs:ignore |
| [1960](#L1960) | $count = get\_transient( $key ); |
| [1961](#L1961) | if ( false === $count ) { |
| [1962](#L1962) | $sales = new WP\_Query( $args ); |
| [1963](#L1963) | $count = (int) $sales->post\_count; |
| [1964](#L1964) | // Cache the results for one hour. |
| [1965](#L1965) | set\_transient( $key, $count, HOUR\_IN\_SECONDS ); |
| [1966](#L1966) | } |
| [1967](#L1967) |  |
| [1968](#L1968) | return $count; |
| [1969](#L1969) | } |
| [1970](#L1970) |  |
| [1971](#L1971) | /\*\* |
| [1972](#L1972) | \* Month Num To Name |
| [1973](#L1973) | \* |
| [1974](#L1974) | \* Takes a month number and returns the name three letter name of it. |
| [1975](#L1975) | \* |
| [1976](#L1976) | \* @since 3.0 |
| [1977](#L1977) | \* |
| [1978](#L1978) | \* @param integer $n Month number. |
| [1979](#L1979) | \* @return string Short month name |
| [1980](#L1980) | \*/ |
| [1981](#L1981) | function epl\_month\_num\_to\_name( $n ) { |
| [1982](#L1982) | $timestamp = mktime( 0, 0, 0, $n, 1, 2005 ); |
| [1983](#L1983) |  |
| [1984](#L1984) | return date\_i18n( 'M', $timestamp ); |
| [1985](#L1985) | } |
| [1986](#L1986) |  |
| [1987](#L1987) | /\*\* |
| [1988](#L1988) | \* Retrieve contacts from the database |
| [1989](#L1989) | \* |
| [1990](#L1990) | \* @access  public |
| [1991](#L1991) | \* |
| [1992](#L1992) | \* @param array $args Arguments. |
| [1993](#L1993) | \* |
| [1994](#L1994) | \* @return bool|int[]|mixed|WP\_Post[] |
| [1995](#L1995) | \* @since   3.0 |
| [1996](#L1996) | \*/ |
| [1997](#L1997) | function epl\_get\_contacts( $args = array() ) { |
| [1998](#L1998) |  |
| [1999](#L1999) | global $wpdb; |
| [2000](#L2000) |  |
| [2001](#L2001) | $defaults = array( |
| [2002](#L2002) | 'post\_type'      => 'epl\_contact', |
| [2003](#L2003) | 'posts\_per\_page' => 20, |
| [2004](#L2004) | 'offset'         => 0, |
| [2005](#L2005) | 'orderby'        => 'ID', |
| [2006](#L2006) | 'order'          => 'DESC', |
| [2007](#L2007) | ); |
| [2008](#L2008) |  |
| [2009](#L2009) | $args = wp\_parse\_args( $args, $defaults ); |
| [2010](#L2010) |  |
| [2011](#L2011) | if ( $args['posts\_per\_page'] < 1 ) { |
| [2012](#L2012) | $args['number'] = -1; |
| [2013](#L2013) | } |
| [2014](#L2014) |  |
| [2015](#L2015) | $where = ' WHERE 1=1 '; |
| [2016](#L2016) |  |
| [2017](#L2017) | // specific contacts. |
| [2018](#L2018) | if ( ! empty( $args['ID'] ) ) { |
| [2019](#L2019) | $args['post\_\_in'] = $args['ID']; |
| [2020](#L2020) |  |
| [2021](#L2021) | } |
| [2022](#L2022) |  |
| [2023](#L2023) | // specific contacts by email. |
| [2024](#L2024) | if ( ! empty( $args['email'] ) ) { |
| [2025](#L2025) |  |
| [2026](#L2026) | $email\_query = array( |
| [2027](#L2027) | 'key'   => 'contact\_email', |
| [2028](#L2028) | 'value' => $args['email'], |
| [2029](#L2029) | ); |
| [2030](#L2030) |  |
| [2031](#L2031) | if ( is\_array( $args['email'] ) ) { |
| [2032](#L2032) | $email\_query['comparison'] = 'IN'; |
| [2033](#L2033) |  |
| [2034](#L2034) | } |
| [2035](#L2035) | $args['meta\_query'][] = $email\_query; |
| [2036](#L2036) | } |
| [2037](#L2037) |  |
| [2038](#L2038) | // specific contacts by name. |
| [2039](#L2039) | if ( ! empty( $args['name'] ) ) { |
| [2040](#L2040) | $args['post\_title'] = $args['name']; |
| [2041](#L2041) | } |
| [2042](#L2042) |  |
| [2043](#L2043) | $cache\_key = md5( 'epl\_contacts\_' . serialize( $args ) ); //phpcs:ignore |
| [2044](#L2044) |  |
| [2045](#L2045) | $contacts = wp\_cache\_get( $cache\_key, 'contacts' ); |
| [2046](#L2046) |  |
| [2047](#L2047) | $args['orderby'] = esc\_sql( $args['orderby'] ); |
| [2048](#L2048) | $args['order']   = esc\_sql( $args['order'] ); |
| [2049](#L2049) |  |
| [2050](#L2050) | if ( false === $contacts ) { |
| [2051](#L2051) | $contacts = get\_posts( $args ); |
| [2052](#L2052) | wp\_cache\_set( $cache\_key, $contacts, 'contacts', 3600 ); |
| [2053](#L2053) | } |
| [2054](#L2054) | return $contacts; |
| [2055](#L2055) | } |
| [2056](#L2056) |  |
| [2057](#L2057) | /\*\* |
| [2058](#L2058) | \* Search Listing Ajax |
| [2059](#L2059) | \* |
| [2060](#L2060) | \* @access  public |
| [2061](#L2061) | \* @since   3.0 |
| [2062](#L2062) | \*/ |
| [2063](#L2063) | function epl\_search\_listing() { |
| [2064](#L2064) | $search\_array = array( |
| [2065](#L2065) | 's'           => isset( $\_POST['s'] ) ? sanitize\_text\_field( wp\_unslash( $\_POST['s'] ) ) : '', |
| [2066](#L2066) | 'showposts'   => 6, |
| [2067](#L2067) | 'post\_type'   => epl\_get\_core\_post\_types(), |
| [2068](#L2068) | 'post\_status' => 'publish', |
| [2069](#L2069) | ); |
| [2070](#L2070) | $query        = http\_build\_query( $search\_array ); |
| [2071](#L2071) | $listings     = get\_posts( $query ); |
| [2072](#L2072) | if ( ! empty( $listings ) ) { |
| [2073](#L2073) | echo '<ul class="epl-popup-box epl-property-suggestion epl-striped">'; |
| [2074](#L2074) | foreach ( $listings as  $listing ) { |
| [2075](#L2075) | $status = get\_post\_meta( $listing->ID, 'property\_status', true ); |
| [2076](#L2076) | echo '<li data-id="' . esc\_attr( $listing->ID ) . '"><span class="epl-listing-type">' . esc\_attr( $listing->post\_type ) . '</span>' . esc\_attr( $listing->post\_title ) . '<span class="epl-listing-status type\_' . esc\_attr( $status ) . '">' . esc\_attr( $status ) . '</span></li>'; |
| [2077](#L2077) | } |
| [2078](#L2078) | echo '</ul>'; |
| [2079](#L2079) | } |
| [2080](#L2080) | wp\_die(); |
| [2081](#L2081) | } |
| [2082](#L2082) | add\_action( 'wp\_ajax\_nopriv\_epl\_search\_listing', 'epl\_search\_listing' ); |
| [2083](#L2083) | add\_action( 'wp\_ajax\_epl\_search\_listing', 'epl\_search\_listing' ); |
| [2084](#L2084) |  |
| [2085](#L2085) | /\*\* |
| [2086](#L2086) | \* Get Contact Categories |
| [2087](#L2087) | \* |
| [2088](#L2088) | \* @access  public |
| [2089](#L2089) | \* @since   3.0 |
| [2090](#L2090) | \*/ |
| [2091](#L2091) | function epl\_get\_contact\_categories() { |
| [2092](#L2092) | return apply\_filters( |
| [2093](#L2093) | 'epl\_contact\_categories', |
| [2094](#L2094) | array( |
| [2095](#L2095) | 'appraisal'     => \_\_( 'Appraisal', 'easy-property-listings' ), |
| [2096](#L2096) | 'buyer'         => \_\_( 'Buyer', 'easy-property-listings' ), |
| [2097](#L2097) | 'contact'       => \_\_( 'Contact', 'easy-property-listings' ), |
| [2098](#L2098) | 'lead'          => \_\_( 'Lead', 'easy-property-listings' ), |
| [2099](#L2099) | 'landlord'      => \_\_( 'Landlord', 'easy-property-listings' ), |
| [2100](#L2100) | 'new'           => \_\_( 'New', 'easy-property-listings' ), |
| [2101](#L2101) | 'past\_customer' => \_\_( 'Past Customer', 'easy-property-listings' ), |
| [2102](#L2102) | 'seller'        => \_\_( 'Seller', 'easy-property-listings' ), |
| [2103](#L2103) | 'tenant'        => \_\_( 'Tenant', 'easy-property-listings' ), |
| [2104](#L2104) | 'widget'        => \_\_( 'Widget Lead', 'easy-property-listings' ), |
| [2105](#L2105) | 'contract'      => \_\_( 'Under Contract', 'easy-property-listings' ), |
| [2106](#L2106) | ) |
| [2107](#L2107) | ); |
| [2108](#L2108) | } |
| [2109](#L2109) |  |
| [2110](#L2110) | /\*\* |
| [2111](#L2111) | \* Get Contact Labels |
| [2112](#L2112) | \* |
| [2113](#L2113) | \* @param string $category Category label. |
| [2114](#L2114) | \* |
| [2115](#L2115) | \* @access  public |
| [2116](#L2116) | \* @return string |
| [2117](#L2117) | \* @since   3.0 |
| [2118](#L2118) | \*/ |
| [2119](#L2119) | function get\_category\_label( $category ) { |
| [2120](#L2120) | foreach ( epl\_get\_contact\_categories() as $key    => $cat ) { |
| [2121](#L2121) | if ( $key === $category ) { |
| [2122](#L2122) | return $cat; |
| [2123](#L2123) | } |
| [2124](#L2124) | } |
| [2125](#L2125) | return $category; |
| [2126](#L2126) | } |
| [2127](#L2127) |  |
| [2128](#L2128) | /\*\* |
| [2129](#L2129) | \* Helper function starts with |
| [2130](#L2130) | \* |
| [2131](#L2131) | \* @param string $haystack String. |
| [2132](#L2132) | \* @param string $needle String. |
| [2133](#L2133) | \* |
| [2134](#L2134) | \* @return bool |
| [2135](#L2135) | \* @since 3.3 |
| [2136](#L2136) | \*/ |
| [2137](#L2137) | function epl\_starts\_with( $haystack, $needle ) { |
| [2138](#L2138) | // search backwards starting from haystack length characters from the end. |
| [2139](#L2139) | return empty( $needle ) || strrpos( $haystack, $needle, -strlen( $haystack ) ) !== false; |
| [2140](#L2140) | } |
| [2141](#L2141) |  |
| [2142](#L2142) | /\*\* |
| [2143](#L2143) | \* Helper function ends with |
| [2144](#L2144) | \* |
| [2145](#L2145) | \* @param string $haystack String. |
| [2146](#L2146) | \* @param string $needle String. |
| [2147](#L2147) | \* |
| [2148](#L2148) | \* @return bool |
| [2149](#L2149) | \* @since 3.3 |
| [2150](#L2150) | \*/ |
| [2151](#L2151) | function epl\_ends\_with( $haystack, $needle ) { |
| [2152](#L2152) | // search forward starting from end minus needle length characters. |
| [2153](#L2153) | $temp = strlen( $haystack ) - strlen( $needle ); |
| [2154](#L2154) | return empty( $needle ) || ( $temp >= 0 && strpos( $haystack, $needle, $temp ) !== false ); |
| [2155](#L2155) | } |
| [2156](#L2156) |  |
| [2157](#L2157) | /\*\* |
| [2158](#L2158) | \* Parse EPL shortcodes for meta queries |
| [2159](#L2159) | \* |
| [2160](#L2160) | \* @param  array $atts Attributes. |
| [2161](#L2161) | \* @return array |
| [2162](#L2162) | \* |
| [2163](#L2163) | \* @since 3.5 Fix: PHP 8.2. Automatic conversion of false to array is deprecated fix. |
| [2164](#L2164) | \*/ |
| [2165](#L2165) | function epl\_parse\_atts( $atts ) { |
| [2166](#L2166) |  |
| [2167](#L2167) | $query = array(); |
| [2168](#L2168) |  |
| [2169](#L2169) | if ( empty( $atts ) ) { |
| [2170](#L2170) | return $atts; |
| [2171](#L2171) | } |
| [2172](#L2172) |  |
| [2173](#L2173) | $compare\_operators = array( |
| [2174](#L2174) | '\_min'         => '>=', |
| [2175](#L2175) | '\_max'         => '<=', |
| [2176](#L2176) | '\_not\_equal'   => '!=', |
| [2177](#L2177) | '\_like'        => 'LIKE', |
| [2178](#L2178) | '\_not\_like'    => 'NOT LIKE', |
| [2179](#L2179) | '\_exists'      => 'EXISTS', |
| [2180](#L2180) | '\_not\_exists'  => 'NOT EXISTS', |
| [2181](#L2181) | '\_in'          => 'IN', |
| [2182](#L2182) | '\_not\_in'      => 'NOT IN', |
| [2183](#L2183) | '\_between'     => 'BETWEEN', |
| [2184](#L2184) | '\_not\_between' => 'NOT BETWEEN', |
| [2185](#L2185) | ); |
| [2186](#L2186) |  |
| [2187](#L2187) | foreach ( $atts as $key   => &$value ) { |
| [2188](#L2188) |  |
| [2189](#L2189) | $this\_query = array( |
| [2190](#L2190) | 'compare' => '=', |
| [2191](#L2191) | 'value'   => $value, |
| [2192](#L2192) | ); |
| [2193](#L2193) |  |
| [2194](#L2194) | // check for meta. |
| [2195](#L2195) | if ( epl\_starts\_with( $key, '\_' ) ) { |
| [2196](#L2196) |  |
| [2197](#L2197) | $key = preg\_replace( '/^\_/', '', $key ); |
| [2198](#L2198) |  |
| [2199](#L2199) | foreach ( $compare\_operators as $look\_for => $compare\_operator ) { |
| [2200](#L2200) |  |
| [2201](#L2201) | if ( epl\_ends\_with( $key, $look\_for ) ) { |
| [2202](#L2202) |  |
| [2203](#L2203) | $key                   = preg\_replace( '/' . $look\_for . '$/', '', $key ); |
| [2204](#L2204) | $this\_query['compare'] = $compare\_operator; |
| [2205](#L2205) |  |
| [2206](#L2206) | if ( in\_array( $look\_for, array( '\_in', '\_not\_in', '\_between', '\_not\_between' ), true ) ) { |
| [2207](#L2207) |  |
| [2208](#L2208) | $this\_query['value'] = |
| [2209](#L2209) | array\_map( 'trim', explode( ',', $this\_query['value'] ) ); |
| [2210](#L2210) |  |
| [2211](#L2211) | if ( in\_array( $look\_for, array( '\_between', '\_not\_between' ), true ) ) { |
| [2212](#L2212) |  |
| [2213](#L2213) | if ( is\_numeric( $this\_query['value'][0] ) ) { |
| [2214](#L2214) | $this\_query['type'] = 'numeric'; |
| [2215](#L2215) | } |
| [2216](#L2216) | } |
| [2217](#L2217) | } |
| [2218](#L2218) |  |
| [2219](#L2219) | if ( in\_array( $look\_for, array( '\_exists', '\_not\_exists' ), true ) ) { |
| [2220](#L2220) | unset( $this\_query['value'] ); |
| [2221](#L2221) | } |
| [2222](#L2222) | } |
| [2223](#L2223) | } |
| [2224](#L2224) | $this\_query['key']                       = $key; |
| [2225](#L2225) | $query['meta\_query'][ $key . '\_clause' ] = $this\_query; |
| [2226](#L2226) | } |
| [2227](#L2227) | } |
| [2228](#L2228) | return isset( $query['meta\_query'] ) ? $query['meta\_query'] : array(); |
| [2229](#L2229) | } |
| [2230](#L2230) |  |
| [2231](#L2231) | /\*\* |
| [2232](#L2232) | \* Return an array of all extensions with beta support |
| [2233](#L2233) | \* |
| [2234](#L2234) | \* Extensions should be added as 'extension-slug' => 'Extension Name' |
| [2235](#L2235) | \* |
| [2236](#L2236) | \* @return array $extensions The array of extensions |
| [2237](#L2237) | \*/ |
| [2238](#L2238) | function epl\_get\_beta\_enabled\_extensions() { |
| [2239](#L2239) | return apply\_filters( 'epl\_beta\_enabled\_extensions', array() ); |
| [2240](#L2240) | } |
| [2241](#L2241) |  |
| [2242](#L2242) | /\*\* |
| [2243](#L2243) | \* Returns List of countries |
| [2244](#L2244) | \* |
| [2245](#L2245) | \* @since 3.2 |
| [2246](#L2246) | \*/ |
| [2247](#L2247) | function epl\_get\_countries\_list() { |
| [2248](#L2248) |  |
| [2249](#L2249) | $countries = array( 'Australia', 'Afghanistan', 'Albania', 'Algeria', 'American Samoa', 'Andorra', 'Angola', 'Anguilla', 'Antarctica', 'Antigua and Barbuda', 'Argentina', 'Armenia', 'Aruba', 'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bolivia', 'Bosnia and Herzegowina', 'Botswana', 'Bouvet Island', 'Brazil', 'British Indian Ocean Territory', 'Brunei Darussalam', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon', 'Canada', 'Cape Verde', 'Cayman Islands', 'Central African Republic', 'Chad', 'Chile', 'China', 'Christmas Island', 'Cocos (Keeling) Islands', 'Colombia', 'Comoros', 'Congo', 'Congo, the Democratic Republic of the', 'Cook Islands', 'Costa Rica', "Cote d'Ivoire", 'Croatia (Hrvatska)', 'Cuba', 'Cyprus', 'Czech Republic', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'East Timor', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Ethiopia', 'Falkland Islands (Malvinas)', 'Faroe Islands', 'Fiji', 'Finland', 'France', 'France Metropolitan', 'French Guiana', 'French Polynesia', 'French Southern Territories', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Gibraltar', 'Greece', 'Greenland', 'Grenada', 'Guadeloupe', 'Guam', 'Guatemala', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Heard and Mc Donald Islands', 'Holy See (Vatican City State)', 'Honduras', 'Hong Kong', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran (Islamic Republic of)', 'Iraq', 'Ireland', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', "Korea, Democratic People's Republic of", 'Korea, Republic of', 'Kuwait', 'Kyrgyzstan', "Lao, People's Democratic Republic", 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libyan Arab Jamahiriya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Macau', 'Macedonia, The Former Yugoslav Republic of', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Martinique', 'Mauritania', 'Mauritius', 'Mayotte', 'Mexico', 'Micronesia, Federated States of', 'Moldova, Republic of', 'Monaco', 'Mongolia', 'Montserrat', 'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nauru', 'Nepal', 'Netherlands', 'Netherlands Antilles', 'New Caledonia', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Niue', 'Norfolk Island', 'Northern Mariana Islands', 'Norway', 'Oman', 'Pakistan', 'Palau', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Pitcairn', 'Poland', 'Portugal', 'Puerto Rico', 'Qatar', 'Reunion', 'Romania', 'Russian Federation', 'Rwanda', 'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Vincent and the Grenadines', 'Samoa', 'San Marino', 'Sao Tome and Principe', 'Saudi Arabia', 'Senegal', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia (Slovak Republic)', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'South Georgia and the South Sandwich Islands', 'Spain', 'Sri Lanka', 'St. Helena', 'St. Pierre and Miquelon', 'Sudan', 'Suriname', 'Svalbard and Jan Mayen Islands', 'Swaziland', 'Sweden', 'Switzerland', 'Syrian Arab Republic', 'Taiwan, Province of China', 'Tajikistan', 'Tanzania, United Republic of', 'Thailand', 'Togo', 'Tokelau', 'Tonga', 'Trinidad and Tobago', 'Tunisia', 'Turkey', 'Turkmenistan', 'Turks and Caicos Islands', 'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'United States', 'United States Minor Outlying Islands', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Venezuela', 'Vietnam', 'Virgin Islands (British)', 'Virgin Islands (U.S.)', 'Wallis and Futuna Islands', 'Western Sahara', 'Yemen', 'Yugoslavia', 'Zambia', 'Zimbabwe' ); |
| [2250](#L2250) |  |
| [2251](#L2251) | return apply\_filters( 'epl\_get\_countries\_list', array\_combine( $countries, $countries ) ); |
| [2252](#L2252) | } |
| [2253](#L2253) |  |
| [2254](#L2254) | /\*\* |
| [2255](#L2255) | \* Returns array containing Property Status |
| [2256](#L2256) | \* |
| [2257](#L2257) | \* @since 3.2 |
| [2258](#L2258) | \* @since 3.4.45 Added deleted status. Re-orderd status options. |
| [2259](#L2259) | \*/ |
| [2260](#L2260) | function epl\_get\_property\_status\_opts() { |
| [2261](#L2261) |  |
| [2262](#L2262) | return apply\_filters( |
| [2263](#L2263) | 'epl\_opts\_property\_status\_filter', |
| [2264](#L2264) | array( |
| [2265](#L2265) | 'current'   => \_\_( 'Current', 'easy-property-listings' ), |
| [2266](#L2266) | 'sold'      => array( |
| [2267](#L2267) | 'label'   => apply\_filters( 'epl\_sold\_label\_status\_filter', \_\_( 'Sold', 'easy-property-listings' ) ), |
| [2268](#L2268) | 'exclude' => array( 'rental' ), |
| [2269](#L2269) | ), |
| [2270](#L2270) | 'leased'    => array( |
| [2271](#L2271) | 'label'   => apply\_filters( 'epl\_leased\_label\_status\_filter', \_\_( 'Leased', 'easy-property-listings' ) ), |
| [2272](#L2272) | 'include' => array( 'rental', 'commercial', 'commercial\_land', 'business' ), |
| [2273](#L2273) | ), |
| [2274](#L2274) | 'withdrawn' => \_\_( 'Withdrawn', 'easy-property-listings' ), |
| [2275](#L2275) | 'offmarket' => \_\_( 'Off Market', 'easy-property-listings' ), |
| [2276](#L2276) | 'deleted'   => \_\_( 'Deleted', 'easy-property-listings' ), |
| [2277](#L2277) | ) |
| [2278](#L2278) | ); |
| [2279](#L2279) | } |
| [2280](#L2280) |  |
| [2281](#L2281) | /\*\* |
| [2282](#L2282) | \* Returns the status label for given status value. |
| [2283](#L2283) | \* |
| [2284](#L2284) | \* @since 3.5.0 |
| [2285](#L2285) | \* |
| [2286](#L2286) | \* @param bool $status Status status value. |
| [2287](#L2287) | \* @return string $label Status label. |
| [2288](#L2288) | \*/ |
| [2289](#L2289) | function epl\_get\_the\_status\_label( $status = '' ) { |
| [2290](#L2290) |  |
| [2291](#L2291) | $status\_opts = epl\_get\_property\_status\_opts(); |
| [2292](#L2292) |  |
| [2293](#L2293) | if ( 0 === strlen( $status ) ) { |
| [2294](#L2294) | return null; |
| [2295](#L2295) | } |
| [2296](#L2296) |  |
| [2297](#L2297) | $status\_data = $status\_opts[ $status ]; |
| [2298](#L2298) |  |
| [2299](#L2299) | $label = is\_array( $status\_data ) && isset( $status\_data['label'] ) ? $status\_data['label'] : $status\_data; |
| [2300](#L2300) |  |
| [2301](#L2301) | return $label; |
| [2302](#L2302) | } |
| [2303](#L2303) |  |
| [2304](#L2304) | /\*\* |
| [2305](#L2305) | \* Returns the array of status available in the site as key, label pair. |
| [2306](#L2306) | \* |
| [2307](#L2307) | \* @since 3.5.0 |
| [2308](#L2308) | \* |
| [2309](#L2309) | \* @param string $key Post Meta Key. |
| [2310](#L2310) | \* @param string $type Post Type. Default is post. You can pass custom post type here. |
| [2311](#L2311) | \* |
| [2312](#L2312) | \* @return string|array $label Status label. |
| [2313](#L2313) | \*/ |
| [2314](#L2314) | function epl\_get\_available\_status\_list( $key, $type ) { |
| [2315](#L2315) |  |
| [2316](#L2316) | $status\_list = epl\_get\_unique\_post\_meta\_values( $key, $type ); |
| [2317](#L2317) | $available   = array(); |
| [2318](#L2318) |  |
| [2319](#L2319) | if ( empty( $status\_list ) ) { |
| [2320](#L2320) | return array(); |
| [2321](#L2321) | } |
| [2322](#L2322) |  |
| [2323](#L2323) | foreach ( $status\_list as $key => $key\_label ) { |
| [2324](#L2324) | $available[ $key ] = epl\_get\_the\_status\_label( $key ); |
| [2325](#L2325) | } |
| [2326](#L2326) |  |
| [2327](#L2327) | return apply\_filters( 'epl\_get\_available\_status\_list', $available, $key, $type ); |
| [2328](#L2328) | } |
| [2329](#L2329) |  |
| [2330](#L2330) | /\*\* |
| [2331](#L2331) | \* Returns array containing Property authority |
| [2332](#L2332) | \* |
| [2333](#L2333) | \* @since 3.2 |
| [2334](#L2334) | \*/ |
| [2335](#L2335) | function epl\_get\_property\_authority\_opts() { |
| [2336](#L2336) |  |
| [2337](#L2337) | return apply\_filters( |
| [2338](#L2338) | 'epl\_property\_authority\_filter', |
| [2339](#L2339) | array( |
| [2340](#L2340) | 'exclusive'     => \_\_( 'Exclusive', 'easy-property-listings' ), |
| [2341](#L2341) | 'auction'       => \_\_( 'Auction', 'easy-property-listings' ), |
| [2342](#L2342) | 'multilist'     => \_\_( 'Multilist', 'easy-property-listings' ), |
| [2343](#L2343) | 'conjunctional' => \_\_( 'Conjunctional', 'easy-property-listings' ), |
| [2344](#L2344) | 'open'          => \_\_( 'Open', 'easy-property-listings' ), |
| [2345](#L2345) | 'sale'          => \_\_( 'Sale', 'easy-property-listings' ), |
| [2346](#L2346) | 'setsale'       => \_\_( 'Set Sale', 'easy-property-listings' ), |
| [2347](#L2347) | ) |
| [2348](#L2348) | ); |
| [2349](#L2349) | } |
| [2350](#L2350) |  |
| [2351](#L2351) | /\*\* |
| [2352](#L2352) | \* Returns array containing Property exclusivity |
| [2353](#L2353) | \* |
| [2354](#L2354) | \* @since 3.2 |
| [2355](#L2355) | \*/ |
| [2356](#L2356) | function epl\_get\_property\_exclusivity\_opts() { |
| [2357](#L2357) |  |
| [2358](#L2358) | return apply\_filters( |
| [2359](#L2359) | 'epl\_opts\_property\_exclusivity\_filter', |
| [2360](#L2360) | array( |
| [2361](#L2361) | 'exclusive' => \_\_( 'Exclusive', 'easy-property-listings' ), |
| [2362](#L2362) | 'open'      => \_\_( 'Open', 'easy-property-listings' ), |
| [2363](#L2363) | ) |
| [2364](#L2364) | ); |
| [2365](#L2365) | } |
| [2366](#L2366) |  |
| [2367](#L2367) | /\*\* |
| [2368](#L2368) | \* Returns array containing Commercial Authority |
| [2369](#L2369) | \* |
| [2370](#L2370) | \* @since 3.2 |
| [2371](#L2371) | \* @since 3.4.26 Re-ordered options. |
| [2372](#L2372) | \*/ |
| [2373](#L2373) | function epl\_get\_property\_com\_authority\_opts() { |
| [2374](#L2374) |  |
| [2375](#L2375) | return apply\_filters( |
| [2376](#L2376) | 'epl\_opts\_property\_com\_authority\_filter', |
| [2377](#L2377) | array( |
| [2378](#L2378) | 'Forsale' => \_\_( 'For Sale', 'easy-property-listings' ), |
| [2379](#L2379) | 'auction' => \_\_( 'Auction', 'easy-property-listings' ), |
| [2380](#L2380) | 'eoi'     => \_\_( 'EOI', 'easy-property-listings' ), |
| [2381](#L2381) | 'offers'  => \_\_( 'Offers', 'easy-property-listings' ), |
| [2382](#L2382) | 'Sale'    => \_\_( 'Sale', 'easy-property-listings' ), |
| [2383](#L2383) | 'tender'  => \_\_( 'Tender', 'easy-property-listings' ), |
| [2384](#L2384) | ) |
| [2385](#L2385) | ); |
| [2386](#L2386) | } |
| [2387](#L2387) |  |
| [2388](#L2388) | /\*\* |
| [2389](#L2389) | \* Returns array containing area unit options |
| [2390](#L2390) | \* |
| [2391](#L2391) | \* @since 3.2 |
| [2392](#L2392) | \*/ |
| [2393](#L2393) | function epl\_get\_property\_area\_unit\_opts() { |
| [2394](#L2394) |  |
| [2395](#L2395) | return apply\_filters( |
| [2396](#L2396) | 'epl\_opts\_area\_unit\_filter', |
| [2397](#L2397) | array( |
| [2398](#L2398) | 'square'      => \_\_( 'Square', 'easy-property-listings' ), |
| [2399](#L2399) | 'squareMeter' => \_\_( 'Square Meter', 'easy-property-listings' ), |
| [2400](#L2400) | 'acre'        => \_\_( 'Acre', 'easy-property-listings' ), |
| [2401](#L2401) | 'hectare'     => \_\_( 'Hectare', 'easy-property-listings' ), |
| [2402](#L2402) | 'sqft'        => \_\_( 'Square Feet', 'easy-property-listings' ), |
| [2403](#L2403) | ) |
| [2404](#L2404) | ); |
| [2405](#L2405) | } |
| [2406](#L2406) |  |
| [2407](#L2407) | /\*\* |
| [2408](#L2408) | \* Returns array containing Rental period |
| [2409](#L2409) | \* |
| [2410](#L2410) | \* @since 3.2 |
| [2411](#L2411) | \*/ |
| [2412](#L2412) | function epl\_get\_property\_rent\_period\_opts() { |
| [2413](#L2413) |  |
| [2414](#L2414) | return apply\_filters( |
| [2415](#L2415) | 'epl\_opts\_rent\_period\_filter', |
| [2416](#L2416) | array( |
| [2417](#L2417) | 'day'     => \_\_( 'Day', 'easy-property-listings' ), |
| [2418](#L2418) | 'daily'   => \_\_( 'Daily', 'easy-property-listings' ), |
| [2419](#L2419) | 'week'    => \_\_( 'Week', 'easy-property-listings' ), |
| [2420](#L2420) | 'weekly'  => \_\_( 'Weekly', 'easy-property-listings' ), |
| [2421](#L2421) | 'month'   => \_\_( 'Month', 'easy-property-listings' ), |
| [2422](#L2422) | 'monthly' => \_\_( 'Monthly', 'easy-property-listings' ), |
| [2423](#L2423) | ) |
| [2424](#L2424) | ); |
| [2425](#L2425) | } |
| [2426](#L2426) |  |
| [2427](#L2427) | /\*\* |
| [2428](#L2428) | \* Returns array containing Commercial Leasing Types |
| [2429](#L2429) | \* |
| [2430](#L2430) | \* @since 3.2 |
| [2431](#L2431) | \*/ |
| [2432](#L2432) | function epl\_get\_property\_com\_listing\_type\_opts() { |
| [2433](#L2433) |  |
| [2434](#L2434) | return apply\_filters( |
| [2435](#L2435) | 'epl\_opts\_property\_com\_listing\_type\_filter', |
| [2436](#L2436) | array( |
| [2437](#L2437) | 'sale'  => \_\_( 'Sale', 'easy-property-listings' ), |
| [2438](#L2438) | 'lease' => \_\_( 'Lease', 'easy-property-listings' ), |
| [2439](#L2439) | 'both'  => \_\_( 'Both', 'easy-property-listings' ), |
| [2440](#L2440) | ) |
| [2441](#L2441) | ); |
| [2442](#L2442) | } |
| [2443](#L2443) |  |
| [2444](#L2444) | /\*\* |
| [2445](#L2445) | \* Returns array containing Commercial Tenancy |
| [2446](#L2446) | \* |
| [2447](#L2447) | \* @since 3.2 |
| [2448](#L2448) | \*/ |
| [2449](#L2449) | function epl\_get\_property\_com\_tenancy\_opts() { |
| [2450](#L2450) |  |
| [2451](#L2451) | return apply\_filters( |
| [2452](#L2452) | 'epl\_opts\_property\_com\_tenancy\_filter', |
| [2453](#L2453) | array( |
| [2454](#L2454) | 'unknown'  => \_\_( 'Unknown', 'easy-property-listings' ), |
| [2455](#L2455) | 'vacant'   => \_\_( 'Vacant', 'easy-property-listings' ), |
| [2456](#L2456) | 'tenanted' => \_\_( 'Tenanted', 'easy-property-listings' ), |
| [2457](#L2457) | ) |
| [2458](#L2458) | ); |
| [2459](#L2459) | } |
| [2460](#L2460) |  |
| [2461](#L2461) | /\*\* |
| [2462](#L2462) | \* Returns array containing Commercial Land Extent |
| [2463](#L2463) | \* |
| [2464](#L2464) | \* @since 3.2 |
| [2465](#L2465) | \*/ |
| [2466](#L2466) | function epl\_get\_property\_com\_property\_extent\_opts() { |
| [2467](#L2467) |  |
| [2468](#L2468) | return apply\_filters( |
| [2469](#L2469) | 'epl\_opts\_property\_com\_property\_extent\_filter', |
| [2470](#L2470) | array( |
| [2471](#L2471) | 'whole' => \_\_( 'Whole', 'easy-property-listings' ), |
| [2472](#L2472) | 'part'  => \_\_( 'Part', 'easy-property-listings' ), |
| [2473](#L2473) | ) |
| [2474](#L2474) | ); |
| [2475](#L2475) | } |
| [2476](#L2476) |  |
| [2477](#L2477) | /\*\* |
| [2478](#L2478) | \* Get author id from name |
| [2479](#L2479) | \* |
| [2480](#L2480) | \* @param string $author Author name. |
| [2481](#L2481) | \* |
| [2482](#L2482) | \* @return int |
| [2483](#L2483) | \* @since 3.1.1 |
| [2484](#L2484) | \*/ |
| [2485](#L2485) | function epl\_get\_author\_id\_from\_name( $author ) { |
| [2486](#L2486) | if ( is\_numeric( $author ) ) { |
| [2487](#L2487) | return absint( $author ); |
| [2488](#L2488) | } else { |
| [2489](#L2489) | $user = get\_user\_by( 'login', $author ); |
| [2490](#L2490) | return $user->ID; |
| [2491](#L2491) | } |
| [2492](#L2492) | } |
| [2493](#L2493) |  |
| [2494](#L2494) | /\*\* |
| [2495](#L2495) | \* WP All Import Pro filter that processes property\_price\_global after updating or saving a post |
| [2496](#L2496) | \* |
| [2497](#L2497) | \* @param string $id Post ID. |
| [2498](#L2498) | \* @since 3.3 |
| [2499](#L2499) | \*/ |
| [2500](#L2500) | function epl\_pmxi\_import\_post\_saved( $id ) { |
| [2501](#L2501) |  |
| [2502](#L2502) | $post = get\_post( $id ); |
| [2503](#L2503) |  |
| [2504](#L2504) | if ( is\_null( $post ) ) { |
| [2505](#L2505) | return; |
| [2506](#L2506) | } |
| [2507](#L2507) |  |
| [2508](#L2508) | if ( is\_epl\_post( $post->post\_type ) ) { |
| [2509](#L2509) |  |
| [2510](#L2510) | if ( 'rental' === $post->post\_type ) { |
| [2511](#L2511) | $price = get\_post\_meta( $id, 'property\_rent', true ); |
| [2512](#L2512) | update\_post\_meta( $id, 'property\_price\_global', $price ); |
| [2513](#L2513) | } elseif ( 'commercial' === $post->post\_type ) { |
| [2514](#L2514) | $price = get\_post\_meta( $id, 'property\_price', true ); |
| [2515](#L2515) | if ( empty( $price ) ) { |
| [2516](#L2516) | $price = get\_post\_meta( $id, 'property\_com\_rent', true ); |
| [2517](#L2517) | } |
| [2518](#L2518) | update\_post\_meta( $id, 'property\_price\_global', $price ); |
| [2519](#L2519) | } else { |
| [2520](#L2520) | $price = get\_post\_meta( $id, 'property\_price', true ); |
| [2521](#L2521) | update\_post\_meta( $id, 'property\_price\_global', $price ); |
| [2522](#L2522) | } |
| [2523](#L2523) | } |
| [2524](#L2524) | } |
| [2525](#L2525) | add\_action( 'pmxi\_saved\_post', 'epl\_pmxi\_import\_post\_saved', 10, 1 ); |
| [2526](#L2526) |  |
| [2527](#L2527) | /\*\* |
| [2528](#L2528) | \* Load functions from child theme folder if present |
| [2529](#L2529) | \* |
| [2530](#L2530) | \* @since 3.3 |
| [2531](#L2531) | \*/ |
| [2532](#L2532) | function epl\_single\_and\_archive\_functions() { |
| [2533](#L2533) |  |
| [2534](#L2534) | if ( is\_epl\_post\_single() && file\_exists( get\_stylesheet\_directory() . '/easypropertylistings/functions-single.php' ) ) { |
| [2535](#L2535) | include\_once get\_stylesheet\_directory() . '/easypropertylistings/functions-single.php'; |
| [2536](#L2536) | } |
| [2537](#L2537) |  |
| [2538](#L2538) | if ( is\_epl\_post\_archive() && file\_exists( get\_stylesheet\_directory() . '/easypropertylistings/functions-archive.php' ) ) { |
| [2539](#L2539) | include\_once get\_stylesheet\_directory() . '/easypropertylistings/functions-archive.php'; |
| [2540](#L2540) | } |
| [2541](#L2541) | } |
| [2542](#L2542) | add\_action( 'wp', 'epl\_single\_and\_archive\_functions', 99 ); |
| [2543](#L2543) |  |
| [2544](#L2544) | /\*\* |
| [2545](#L2545) | \* Recursive array map for multi dimensional array |
| [2546](#L2546) | \* |
| [2547](#L2547) | \* @param string $callback Callback. |
| [2548](#L2548) | \* @param array  $array Array. |
| [2549](#L2549) | \* |
| [2550](#L2550) | \* @return array |
| [2551](#L2551) | \* @since 3.3.5 |
| [2552](#L2552) | \*/ |
| [2553](#L2553) | function epl\_array\_map\_recursive( $callback, $array ) { |
| [2554](#L2554) | $func = function ( $item ) use ( &$func, &$callback ) { //phpcs:ignore |
| [2555](#L2555) | return is\_array( $item ) ? array\_map( $func, $item ) : call\_user\_func( $callback, $item ); |
| [2556](#L2556) | }; |
| [2557](#L2557) | return array\_map( $func, $array ); |
| [2558](#L2558) | } |
| [2559](#L2559) |  |
| [2560](#L2560) | /\*\* |
| [2561](#L2561) | \* Sanitize function to allow certain safe html tags. |
| [2562](#L2562) | \* |
| [2563](#L2563) | \* @param array $content sanitized html content. |
| [2564](#L2564) | \* |
| [2565](#L2565) | \* @return string |
| [2566](#L2566) | \* @since 3.4.48 |
| [2567](#L2567) | \*/ |
| [2568](#L2568) | function epl\_sanitize\_html\_tags( $content ) { |
| [2569](#L2569) |  |
| [2570](#L2570) | $allowed\_tags = wp\_kses\_allowed\_html( 'post' ); |
| [2571](#L2571) |  |
| [2572](#L2572) | return wp\_kses( $content, $allowed\_tags ); |
| [2573](#L2573) | } |
| [2574](#L2574) |  |
| [2575](#L2575) | /\*\* |
| [2576](#L2576) | \* Function to generate a unique tab counter for search forms. |
| [2577](#L2577) | \* |
| [2578](#L2578) | \* @return int |
| [2579](#L2579) | \* @since 3.5 |
| [2580](#L2580) | \*/ |
| [2581](#L2581) | function epl\_generate\_unique\_tab\_counter() { |
| [2582](#L2582) |  |
| [2583](#L2583) | global $epl\_search\_shortcode\_counter; |
| [2584](#L2584) |  |
| [2585](#L2585) | if ( empty( $epl\_search\_shortcode\_counter ) ) { |
| [2586](#L2586) | $epl\_search\_shortcode\_counter = 0; |
| [2587](#L2587) | } |
| [2588](#L2588) |  |
| [2589](#L2589) | $epl\_search\_shortcode\_counter++; |
| [2590](#L2590) | return $epl\_search\_shortcode\_counter; |
| [2591](#L2591) | } |
| [2592](#L2592) |  |
| [2593](#L2593) | /\*\* |
| [2594](#L2594) | \* Function to generate a unique instance counter for search forms. |
| [2595](#L2595) | \* |
| [2596](#L2596) | \* @return int |
| [2597](#L2597) | \* @since 3.5 |
| [2598](#L2598) | \*/ |
| [2599](#L2599) | function epl\_generate\_search\_instance\_counter() { |
| [2600](#L2600) |  |
| [2601](#L2601) | global $epl\_search\_instance\_counter; |
| [2602](#L2602) |  |
| [2603](#L2603) | if ( empty( $epl\_search\_instance\_counter ) ) { |
| [2604](#L2604) | $epl\_search\_instance\_counter = 0; |
| [2605](#L2605) | } |
| [2606](#L2606) |  |
| [2607](#L2607) | $epl\_search\_instance\_counter++; |
| [2608](#L2608) | return $epl\_search\_instance\_counter; |
| [2609](#L2609) | } |
| [2610](#L2610) |  |
| [2611](#L2611) | /\*\* |
| [2612](#L2612) | \* Get the meta value as label helper function. |
| [2613](#L2613) | \* |
| [2614](#L2614) | \* @param string $meta\_key The meta key to get the label for. |
| [2615](#L2615) | \* |
| [2616](#L2616) | \* @return mixed |
| [2617](#L2617) | \* @since 3.5 |
| [2618](#L2618) | \*/ |
| [2619](#L2619) | function epl\_get\_property\_meta\_label( $meta\_key ) { |
| [2620](#L2620) |  |
| [2621](#L2621) | $value  = get\_property\_meta( $meta\_key ); |
| [2622](#L2622) | $return = $value; |
| [2623](#L2623) |  |
| [2624](#L2624) | if ( function\_exists( 'epl\_get\_' . $meta\_key . '\_opts' ) ) { |
| [2625](#L2625) |  |
| [2626](#L2626) | $labels = call\_user\_func( 'epl\_get\_' . $meta\_key . '\_opts' ); |
| [2627](#L2627) |  |
| [2628](#L2628) | if ( is\_string( $value ) && isset( $labels[ $value ] ) ) { |
| [2629](#L2629) | $return = $labels[ $value ]; |
| [2630](#L2630) | } |
| [2631](#L2631) | } |
| [2632](#L2632) |  |
| [2633](#L2633) | return $return; |
| [2634](#L2634) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/easy-property-listings/tags/3.5.2/lib/includes/functions.php?format=txt)
* [Original Format](/export/3220427/easy-property-listings/tags/3.5.2/lib/includes/functions.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_6e37e879_20250110_195548.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew_path%3D%252Feasy-property-listings%252Ftags%252F3.5.3%26old%3D3056209%26new%3D3056209%26old_path%3D%252Feasy-property-listings%252Ftags%252F3.5.2)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3056209/easy-property-listings/tags/3.5.2?old=3056209&old_path=%2Feasy-property-listings%2Ftags%2F3.5.3)

---

# Changes from [easy-property-listings/tags/3.5.2](/browser/easy-property-listings/tags/3.5.2?rev=3056209 "Show entry in browser") at [r3056209](/changeset/3056209 "Show full changeset") to [easy-property-listings/tags/3.5.3](/browser/easy-property-listings/tags/3.5.3?rev=3056209 "Show entry in browser") at [r3056209](/changeset/3056209 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[easy-property-listings/tags/3.5.3](/browser/easy-property-listings/tags/3.5.3?rev=3056209)
Files:

17 edited

* [easy-property-listings.php](/browser/easy-property-listings/trunk/easy-property-listings.php?rev=3055030 "Show entry in browser")
  (modified)
  ([3 diffs](#file0 "Show differences"))
* [languages/easy-property-listings.pot](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030 "Show entry in browser")
  (modified)
  ([54 diffs](#file1 "Show differences"))
* [lib/assets/assets.php](/browser/easy-property-listings/trunk/lib/assets/assets.php?rev=3055030 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [lib/assets/js/jquery-front-scripts.js](/browser/easy-property-listings/trunk/lib/assets/js/jquery-front-scripts.js?rev=3055030 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [lib/assets/js/jquery-front-scripts.min.js](/browser/easy-property-listings/trunk/lib/assets/js/jquery-front-scripts.min.js?rev=3055030 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [lib/includes/class-epl-license.php](/browser/easy-property-listings/trunk/lib/includes/class-epl-license.php?rev=3055030 "Show entry in browser")
  (modified)
  ([3 diffs](#file5 "Show differences"))
* [lib/includes/class-epl-pagination-call.php](/browser/easy-property-listings/trunk/lib/includes/class-epl-pagination-call.php?rev=3055030 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [lib/includes/class-epl-property-meta.php](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030 "Show entry in browser")
  (modified)
  ([14 diffs](#file7 "Show differences"))
* [lib/includes/functions.php](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030 "Show entry in browser")
  (modified)
  ([8 diffs](#file8 "Show differences"))
* [lib/includes/libraries/class-wp-session.php](/browser/easy-property-listings/trunk/lib/includes/libraries/class-wp-session.php?rev=3055030 "Show entry in browser")
  (modified)
  ([3 diffs](#file9 "Show differences"))
* [lib/includes/libraries/wp\_session/class-wp-session.php](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=3055030 "Show entry in browser")
  (modified)
  ([5 diffs](#file10 "Show differences"))
* [lib/includes/pagination.php](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3055030 "Show entry in browser")
  (modified)
  ([8 diffs](#file11 "Show differences"))
* [lib/includes/template-functions.php](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030 "Show entry in browser")
  (modified)
  ([13 diffs](#file12 "Show differences"))
* [lib/post-types/post-types.php](/browser/easy-property-listings/trunk/lib/post-types/post-types.php?rev=3055030 "Show entry in browser")
  (modified)
  ([4 diffs](#file13 "Show differences"))
* [lib/shortcodes/shortcode-listing-map.php](/browser/easy-property-listings/trunk/lib/shortcodes/shortcode-listing-map.php?rev=3055030 "Show entry in browser")
  (modified)
  ([2 diffs](#file14 "Show differences"))
* [lib/shortcodes/shortcode-listing-search.php](/browser/easy-property-listings/trunk/lib/shortcodes/shortcode-listing-search.php?rev=3055030 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [readme.txt](/browser/easy-property-listings/tags/3.5.3/readme.txt?rev=3055033 "Show entry in browser")
  (modified)
  ([1 diff](#file16 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [easy-property-listings/tags/3.5.3/easy-property-listings.php](/changeset/3055030/easy-property-listings/trunk/easy-property-listings.php?old=3034371&old_path=easy-property-listings%2Ftrunk%2Feasy-property-listings.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/easy-property-listings.php")

  | [r3056209](/browser/easy-property-listings/trunk/easy-property-listings.php?rev=3034371#L6 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/easy-property-listings.php?rev=3055030#L6 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | \* Author: Merv Barrett |
  | 7 | 7 | \* Author URI: https://www.realestateconnected.com.au/ |
  | 8 |  | \* Version: 3.5.~~2~~ |
  |  | 8 | \* Version: 3.5.3 |
  | 9 | 9 | \* Text Domain: easy-property-listings |
  | 10 | 10 | \* Domain Path: languages |
  | […](/browser/easy-property-listings/trunk/easy-property-listings.php?rev=3034371#L26) | […](/browser/easy-property-listings/trunk/easy-property-listings.php?rev=3055030#L26) |  |
  | 26 | 26 | \* @category Core |
  | 27 | 27 | \* @author Merv Barrett |
  | 28 |  | \* @version 3.5.~~2~~ |
  |  | 28 | \* @version 3.5.3 |
  | 29 | 29 | \*/ |
  | 30 | 30 |  |
  | […](/browser/easy-property-listings/trunk/easy-property-listings.php?rev=3034371#L116) | […](/browser/easy-property-listings/trunk/easy-property-listings.php?rev=3055030#L116) |  |
  | 116 | 116 | // Plugin version. |
  | 117 | 117 | if ( ! defined( 'EPL\_PROPERTY\_VER' ) ) { |
  | 118 |  | define( 'EPL\_PROPERTY\_VER', '3.5.~~2~~' ); |
  |  | 118 | define( 'EPL\_PROPERTY\_VER', '3.5.3' ); |
  | 119 | 119 | } |
  | 120 | 120 | // Plugin DB version. |
* ## [easy-property-listings/tags/3.5.3/languages/easy-property-listings.pot](/changeset/3055030/easy-property-listings/trunk/languages/easy-property-listings.pot?old=3034371&old_path=easy-property-listings%2Ftrunk%2Flanguages%2Feasy-property-listings.pot "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/languages/easy-property-listings.pot")

  | [r3056209](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: Easy Property Listings 3.5.~~2~~\n" |
  |  | 5 | "Project-Id-Version: Easy Property Listings 3.5.3\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: " |
  | 7 | 7 | "https://wordpress.org/support/plugin/easy-property-listings\n" |
  | 8 |  | "POT-Creation-Date: 2024-0~~2-12 07:08:59~~+00:00\n" |
  |  | 8 | "POT-Creation-Date: 2024-03-20 07:49:30+00:00\n" |
  | 9 | 9 | "MIME-Version: 1.0\n" |
  | 10 | 10 | "Content-Type: text/plain; charset=utf-8\n" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L45) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L45) |  |
  | 45 | 45 | #: lib/compatibility/functions-compat.php:443 |
  | 46 | 46 | #: lib/includes/class-epl-author.php:807 lib/includes/options-front-end.php:32 |
  | 47 |  | #: lib/includes/template-functions.php:58~~6~~ |
  |  | 47 | #: lib/includes/template-functions.php:585 |
  | 48 | 48 | #: lib/widgets/class-epl-widget-recent-property.php:62 |
  | 49 | 49 | #: lib/widgets/class-epl-widget-recent-property.php:264 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L91) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L91) |  |
  | 91 | 91 | msgstr "" |
  | 92 | 92 |  |
  | 93 |  | #: lib/includes/admin/admin-actions.php:68 lib/includes/functions.php:103~~3~~ |
  | 94 |  | #: lib/includes/functions.php:170~~7~~ |
  |  | 93 | #: lib/includes/admin/admin-actions.php:68 lib/includes/functions.php:1035 |
  |  | 94 | #: lib/includes/functions.php:1709 |
  | 95 | 95 | msgid "Google Maps API Key" |
  | 96 | 96 | msgstr "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L103) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L103) |  |
  | 103 | 103 | msgstr "" |
  | 104 | 104 |  |
  | 105 |  | #: lib/includes/admin/admin-actions.php:75 lib/includes/functions.php:163~~1~~ |
  |  | 105 | #: lib/includes/admin/admin-actions.php:75 lib/includes/functions.php:1633 |
  | 106 | 106 | msgid "Advanced Settings" |
  | 107 | 107 | msgstr "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L323) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L323) |  |
  | 323 | 323 | #: lib/includes/admin/contacts/class-epl-contact-reports-table.php:234 |
  | 324 | 324 | #: lib/includes/class-epl-author.php:263 lib/includes/class-epl-author.php:271 |
  | 325 |  | #: lib/includes/functions.php:2~~097 lib/includes/template-functions.php:2104~~ |
  |  | 325 | #: lib/includes/functions.php:2110 lib/includes/template-functions.php:2102 |
  | 326 | 326 | #: lib/post-types/post-type-contact.php:38 |
  | 327 | 327 | #: lib/post-types/post-type-contact.php:39 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L379) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L379) |  |
  | 379 | 379 | #: lib/includes/admin/contacts/contact-actions.php:892 |
  | 380 | 380 | #: lib/includes/admin/contacts/contact-functions.php:60 |
  | 381 |  | #: lib/includes/functions.php:136~~3~~ |
  |  | 381 | #: lib/includes/functions.php:1365 |
  | 382 | 382 | #: lib/widgets/class-epl-widget-recent-property.php:379 |
  | 383 | 383 | #: lib/widgets/widget-admin-dashboard.php:26 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L538) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L538) |  |
  | 538 | 538 | #: lib/includes/admin/menus/class-epl-welcome.php:363 |
  | 539 | 539 | #: lib/includes/admin/menus/menu-help.php:131 |
  | 540 |  | #: lib/includes/template-functions.php:178~~8~~ |
  |  | 540 | #: lib/includes/template-functions.php:1786 |
  | 541 | 541 | #: lib/meta-boxes/meta-box-init.php:1443 lib/meta-boxes/meta-box-init.php:1458 |
  | 542 | 542 | #: lib/meta-boxes/meta-box-init.php:1473 lib/meta-boxes/meta-box-init.php:1515 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L770) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L770) |  |
  | 770 | 770 | msgstr "" |
  | 771 | 771 |  |
  | 772 |  | #: lib/includes/admin/contacts/contacts.php:565 lib/includes/functions.php:107~~7~~ |
  |  | 772 | #: lib/includes/admin/contacts/contacts.php:565 lib/includes/functions.php:1079 |
  | 773 | 773 | #: lib/post-types/post-type-business.php:100 |
  | 774 | 774 | #: lib/post-types/post-type-commercial-land.php:100 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L781) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L781) |  |
  | 781 | 781 | msgstr "" |
  | 782 | 782 |  |
  | 783 |  | #: lib/includes/admin/contacts/contacts.php:583 lib/includes/functions.php:108~~7~~ |
  |  | 783 | #: lib/includes/admin/contacts/contacts.php:583 lib/includes/functions.php:1089 |
  | 784 | 784 | #: lib/includes/install.php:41 lib/includes/install.php:42 |
  | 785 | 785 | msgid "Suburb" |
  | 786 | 786 | msgstr "" |
  | 787 | 787 |  |
  | 788 |  | #: lib/includes/admin/contacts/contacts.php:590 lib/includes/functions.php:111~~3~~ |
  |  | 788 | #: lib/includes/admin/contacts/contacts.php:590 lib/includes/functions.php:1115 |
  | 789 | 789 | #: lib/includes/install.php:44 lib/updates/epl-2.2.php:19 |
  | 790 | 790 | msgid "State" |
  | 791 | 791 | msgstr "" |
  | 792 | 792 |  |
  | 793 |  | #: lib/includes/admin/contacts/contacts.php:597 lib/includes/functions.php:112~~0~~ |
  |  | 793 | #: lib/includes/admin/contacts/contacts.php:597 lib/includes/functions.php:1122 |
  | 794 | 794 | msgid "Postcode" |
  | 795 | 795 | msgstr "" |
  | 796 | 796 |  |
  | 797 | 797 | #: lib/includes/admin/contacts/contacts.php:615 |
  | 798 |  | #: lib/includes/admin/menus/menu-help.php:137 lib/includes/functions.php:104~~7~~ |
  |  | 798 | #: lib/includes/admin/menus/menu-help.php:137 lib/includes/functions.php:1049 |
  | 799 | 799 | msgid "Author" |
  | 800 | 800 | msgstr "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L1363) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L1363) |  |
  | 1363 | 1363 |  |
  | 1364 | 1364 | #: lib/includes/admin/menus/class-epl-welcome.php:306 |
  | 1365 |  | #: lib/includes/functions.php:205 lib/includes/functions.php:133~~1~~ |
  | 1366 |  | #: lib/includes/functions.php:133~~3~~ lib/post-types/post-type-rental.php:39 |
  |  | 1365 | #: lib/includes/functions.php:205 lib/includes/functions.php:1333 |
  |  | 1366 | #: lib/includes/functions.php:1335 lib/post-types/post-type-rental.php:39 |
  | 1367 | 1367 | #: lib/updates/epl-1.3.1.php:19 |
  | 1368 | 1368 | msgid "Rental" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L1370) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L1370) |  |
  | 1370 | 1370 |  |
  | 1371 | 1371 | #: lib/includes/admin/menus/class-epl-welcome.php:307 |
  | 1372 |  | #: lib/includes/functions.php:204 lib/includes/functions.php:132~~5~~ |
  | 1373 |  | #: lib/includes/functions.php:132~~7~~ lib/includes/install.php:54 |
  |  | 1372 | #: lib/includes/functions.php:204 lib/includes/functions.php:1327 |
  |  | 1373 | #: lib/includes/functions.php:1329 lib/includes/install.php:54 |
  | 1374 | 1374 | #: lib/post-types/post-type-land.php:38 lib/post-types/post-type-land.php:39 |
  | 1375 | 1375 | #: lib/post-types/post-type-land.php:40 lib/updates/epl-1.3.1.php:18 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L1378) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L1378) |  |
  | 1378 | 1378 |  |
  | 1379 | 1379 | #: lib/includes/admin/menus/class-epl-welcome.php:308 |
  | 1380 |  | #: lib/includes/functions.php:206 lib/includes/functions.php:133~~7~~ |
  | 1381 |  | #: lib/includes/functions.php:13~~39~~ lib/includes/install.php:56 |
  |  | 1380 | #: lib/includes/functions.php:206 lib/includes/functions.php:1339 |
  |  | 1381 | #: lib/includes/functions.php:1341 lib/includes/install.php:56 |
  | 1382 | 1382 | #: lib/post-types/post-type-rural.php:38 lib/post-types/post-type-rural.php:39 |
  | 1383 | 1383 | #: lib/post-types/post-type-rural.php:40 lib/updates/epl-1.3.1.php:20 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L1387) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L1387) |  |
  | 1387 | 1387 | #: lib/includes/admin/menus/class-epl-welcome.php:309 |
  | 1388 | 1388 | #: lib/includes/functions.php:207 lib/includes/functions.php:743 |
  | 1389 |  | #: lib/includes/functions.php:134~~3 lib/includes/functions.php:1345~~ |
  |  | 1389 | #: lib/includes/functions.php:1345 lib/includes/functions.php:1347 |
  | 1390 | 1390 | #: lib/includes/install.php:58 lib/post-types/post-type-commercial.php:40 |
  | 1391 | 1391 | #: lib/updates/epl-1.3.1.php:22 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L1394) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L1394) |  |
  | 1394 | 1394 |  |
  | 1395 | 1395 | #: lib/includes/admin/menus/class-epl-welcome.php:310 |
  | 1396 |  | #: lib/includes/functions.php:208 lib/includes/functions.php:13~~49~~ |
  | 1397 |  | #: lib/includes/functions.php:135~~1~~ lib/includes/install.php:59 |
  |  | 1396 | #: lib/includes/functions.php:208 lib/includes/functions.php:1351 |
  |  | 1397 | #: lib/includes/functions.php:1353 lib/includes/install.php:59 |
  | 1398 | 1398 | #: lib/post-types/post-type-commercial-land.php:40 lib/updates/epl-1.3.1.php:23 |
  | 1399 | 1399 | msgid "Commercial Land" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L1401) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L1401) |  |
  | 1401 | 1401 |  |
  | 1402 | 1402 | #: lib/includes/admin/menus/class-epl-welcome.php:311 |
  | 1403 |  | #: lib/includes/functions.php:209 lib/includes/functions.php:135~~5~~ |
  | 1404 |  | #: lib/includes/functions.php:135~~7~~ lib/includes/install.php:57 |
  |  | 1403 | #: lib/includes/functions.php:209 lib/includes/functions.php:1357 |
  |  | 1404 | #: lib/includes/functions.php:1359 lib/includes/install.php:57 |
  | 1405 | 1405 | #: lib/post-types/post-type-business.php:40 lib/updates/epl-1.3.1.php:21 |
  | 1406 | 1406 | msgid "Business" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L1592) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L1592) |  |
  | 1592 | 1592 |  |
  | 1593 | 1593 | #: lib/includes/admin/menus/class-epl-welcome.php:454 |
  | 1594 |  | #: lib/includes/functions.php:144~~2~~ |
  |  | 1594 | #: lib/includes/functions.php:1444 |
  | 1595 | 1595 | msgid "Theme Compatibility" |
  | 1596 | 1596 | msgstr "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2066) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2066) |  |
  | 2066 | 2066 |  |
  | 2067 | 2067 | #: lib/includes/admin/menus/menu-licenses.php:208 |
  | 2068 |  | #: lib/includes/functions.php:102~~4~~ |
  |  | 2068 | #: lib/includes/functions.php:1026 |
  | 2069 | 2069 | msgid "Select Page" |
  | 2070 | 2070 | msgstr "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2179) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2179) |  |
  | 2179 | 2179 | msgstr "" |
  | 2180 | 2180 |  |
  | 2181 |  | #: lib/includes/admin/reports/graphing.php:315 lib/includes/functions.php:156~~5~~ |
  | 2182 |  | #: lib/includes/functions.php:158~~3~~ |
  |  | 2181 | #: lib/includes/admin/reports/graphing.php:315 lib/includes/functions.php:1567 |
  |  | 2182 | #: lib/includes/functions.php:1585 |
  | 2183 | 2183 | msgid "Custom" |
  | 2184 | 2184 | msgstr "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2196) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2196) |  |
  | 2196 | 2196 | msgstr "" |
  | 2197 | 2197 |  |
  | 2198 |  | #: lib/includes/admin/reports/graphing.php:348 lib/includes/functions.php:24~~17~~ |
  |  | 2198 | #: lib/includes/admin/reports/graphing.php:348 lib/includes/functions.php:2430 |
  | 2199 | 2199 | msgid "Day" |
  | 2200 | 2200 | msgstr "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2327) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2327) |  |
  | 2327 | 2327 |  |
  | 2328 | 2328 | #: lib/includes/class-epl-contact.php:745 |
  | 2329 |  | #: lib/includes/template-functions.php:321~~5~~ |
  |  | 2329 | #: lib/includes/template-functions.php:3216 |
  | 2330 | 2330 | #: lib/shortcodes/class-epl-listing-elements.php:77 |
  | 2331 | 2331 | msgid "Listing" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2438) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2438) |  |
  | 2438 | 2438 | msgstr "" |
  | 2439 | 2439 |  |
  | 2440 |  | #: lib/includes/class-epl-license.php:52~~4~~ |
  |  | 2440 | #: lib/includes/class-epl-license.php:527 |
  | 2441 | 2441 | #. Translators: item name. |
  | 2442 | 2442 | msgid "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2446) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2446) |  |
  | 2446 | 2446 | msgstr "" |
  | 2447 | 2447 |  |
  | 2448 |  | #: lib/includes/class-epl-license.php:54~~1~~ |
  |  | 2448 | #: lib/includes/class-epl-license.php:544 |
  | 2449 | 2449 | #. Translators: item name. |
  | 2450 | 2450 | msgid "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2454) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2454) |  |
  | 2454 | 2454 | msgstr "" |
  | 2455 | 2455 |  |
  | 2456 |  | #: lib/includes/class-epl-license.php:55~~5~~ |
  |  | 2456 | #: lib/includes/class-epl-license.php:558 |
  | 2457 | 2457 | #. translators: item name. |
  | 2458 | 2458 | msgid "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2461) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2461) |  |
  | 2461 | 2461 | msgstr "" |
  | 2462 | 2462 |  |
  | 2463 |  | #: lib/includes/class-epl-license.php:5~~69~~ |
  |  | 2463 | #: lib/includes/class-epl-license.php:572 |
  | 2464 | 2464 | #. translators: item name. |
  | 2465 | 2465 | msgid "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2468) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2468) |  |
  | 2468 | 2468 | msgstr "" |
  | 2469 | 2469 |  |
  | 2470 |  | #: lib/includes/class-epl-license.php:60~~2~~ |
  |  | 2470 | #: lib/includes/class-epl-license.php:605 |
  | 2471 | 2471 | msgid "This license does not belong to the product you have entered it for." |
  | 2472 | 2472 | msgstr "" |
  | 2473 | 2473 |  |
  | 2474 |  | #: lib/includes/class-epl-license.php:60~~6~~ |
  |  | 2474 | #: lib/includes/class-epl-license.php:609 |
  | 2475 | 2475 | msgid "This license does not have any activations left" |
  | 2476 | 2476 | msgstr "" |
  | 2477 | 2477 |  |
  | 2478 |  | #: lib/includes/class-epl-license.php:61~~0~~ |
  |  | 2478 | #: lib/includes/class-epl-license.php:613 |
  | 2479 | 2479 | msgid "This license key is expired. Please renew it." |
  | 2480 | 2480 | msgstr "" |
  | 2481 | 2481 |  |
  | 2482 |  | #: lib/includes/class-epl-license.php:61~~5~~ |
  |  | 2482 | #: lib/includes/class-epl-license.php:618 |
  | 2483 | 2483 | #. translators: error. |
  | 2484 | 2484 | msgid "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2487) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2487) |  |
  | 2487 | 2487 | msgstr "" |
  | 2488 | 2488 |  |
  | 2489 |  | #: lib/includes/class-epl-license.php:65~~0~~ |
  |  | 2489 | #: lib/includes/class-epl-license.php:653 |
  | 2490 | 2490 | msgid "Enter valid license key for automatic updates." |
  | 2491 | 2491 | msgstr "" |
  | 2492 | 2492 |  |
  | 2493 |  | #: lib/includes/class-epl-property-meta.php:4~~38~~ |
  | 2494 |  | #: lib/includes/class-epl-property-meta.php:8~~34~~ |
  | 2495 |  | #: lib/includes/class-epl-property-meta.php:~~899~~ |
  | 2496 |  | #: lib/includes/class-epl-property-meta.php:9~~49 lib/includes/functions.php:2341~~ |
  | 2497 |  | #: lib/includes/functions.php:23~~79~~ lib/widgets/widget-admin-dashboard.php:185 |
  |  | 2493 | #: lib/includes/class-epl-property-meta.php:447 |
  |  | 2494 | #: lib/includes/class-epl-property-meta.php:843 |
  |  | 2495 | #: lib/includes/class-epl-property-meta.php:908 |
  |  | 2496 | #: lib/includes/class-epl-property-meta.php:958 lib/includes/functions.php:2354 |
  |  | 2497 | #: lib/includes/functions.php:2392 lib/widgets/widget-admin-dashboard.php:185 |
  | 2498 | 2498 | #: lib/widgets/widget-admin-dashboard.php:239 |
  | 2499 | 2499 | msgid "Auction" |
  | 2500 | 2500 | msgstr "" |
  | 2501 | 2501 |  |
  | 2502 |  | #: lib/includes/class-epl-property-meta.php:~~595~~ |
  |  | 2502 | #: lib/includes/class-epl-property-meta.php:604 |
  | 2503 | 2503 | msgid "now" |
  | 2504 | 2504 | msgstr "" |
  | 2505 | 2505 |  |
  | 2506 |  | #: lib/includes/class-epl-property-meta.php:76~~0~~ |
  | 2507 |  | #: lib/includes/class-epl-property-meta.php:7~~62~~ |
  |  | 2506 | #: lib/includes/class-epl-property-meta.php:769 |
  |  | 2507 | #: lib/includes/class-epl-property-meta.php:771 |
  | 2508 | 2508 | msgid "Inc. GST" |
  | 2509 | 2509 | msgstr "" |
  | 2510 | 2510 |  |
  | 2511 |  | #: lib/includes/class-epl-property-meta.php:7~~64~~ |
  |  | 2511 | #: lib/includes/class-epl-property-meta.php:773 |
  | 2512 | 2512 | msgid "GST" |
  | 2513 | 2513 | msgstr "" |
  | 2514 | 2514 |  |
  | 2515 |  | #: lib/includes/class-epl-property-meta.php:~~792~~ |
  | 2516 |  | #: lib/includes/class-epl-property-meta.php:9~~01 lib/includes/functions.php:1180~~ |
  |  | 2515 | #: lib/includes/class-epl-property-meta.php:801 |
  |  | 2516 | #: lib/includes/class-epl-property-meta.php:910 lib/includes/functions.php:1182 |
  | 2517 | 2517 | #: lib/includes/install.php:47 |
  | 2518 | 2518 | msgid "POA" |
  | 2519 | 2519 | msgstr "" |
  | 2520 | 2520 |  |
  | 2521 |  | #: lib/includes/class-epl-property-meta.php:8~~21~~ |
  | 2522 |  | #: lib/includes/class-epl-property-meta.php:9~~33~~ |
  |  | 2521 | #: lib/includes/class-epl-property-meta.php:830 |
  |  | 2522 | #: lib/includes/class-epl-property-meta.php:942 |
  | 2523 | 2523 | msgid "TBA" |
  | 2524 | 2524 | msgstr "" |
  | 2525 | 2525 |  |
  | 2526 |  | #: lib/includes/class-epl-property-meta.php:8~~28~~ |
  | 2527 |  | #: lib/includes/class-epl-property-meta.php:9~~42~~ |
  | 2528 |  | #: lib/includes/class-epl-property-meta.php:11~~56~~ lib/includes/functions.php:816 |
  |  | 2526 | #: lib/includes/class-epl-property-meta.php:837 |
  |  | 2527 | #: lib/includes/class-epl-property-meta.php:951 |
  |  | 2528 | #: lib/includes/class-epl-property-meta.php:1165 lib/includes/functions.php:816 |
  | 2529 | 2529 | msgid "P.A." |
  | 2530 | 2530 | msgstr "" |
  | 2531 | 2531 |  |
  | 2532 |  | #: lib/includes/class-epl-property-meta.php:8~~36~~ |
  | 2533 |  | #: lib/includes/class-epl-property-meta.php:8~~39~~ |
  | 2534 |  | #: lib/includes/class-epl-property-meta.php:9~~54~~ |
  | 2535 |  | #: lib/includes/class-epl-property-meta.php:9~~66~~ |
  | 2536 |  | #: lib/includes/class-epl-property-meta.php:9~~72~~ |
  | 2537 |  | #: lib/includes/class-epl-property-meta.php:116~~0~~ |
  | 2538 |  | #: lib/includes/functions.php:23~~78 lib/includes/template-functions.php:3664~~ |
  | 2539 |  | #: lib/includes/template-functions.php:369~~6~~ |
  |  | 2532 | #: lib/includes/class-epl-property-meta.php:845 |
  |  | 2533 | #: lib/includes/class-epl-property-meta.php:848 |
  |  | 2534 | #: lib/includes/class-epl-property-meta.php:963 |
  |  | 2535 | #: lib/includes/class-epl-property-meta.php:975 |
  |  | 2536 | #: lib/includes/class-epl-property-meta.php:981 |
  |  | 2537 | #: lib/includes/class-epl-property-meta.php:1169 |
  |  | 2538 | #: lib/includes/functions.php:2391 lib/includes/template-functions.php:3665 |
  |  | 2539 | #: lib/includes/template-functions.php:3697 |
  | 2540 | 2540 | msgid "For Sale" |
  | 2541 | 2541 | msgstr "" |
  | 2542 | 2542 |  |
  | 2543 |  | #: lib/includes/class-epl-property-meta.php:8~~48~~ |
  | 2544 |  | #: lib/includes/class-epl-property-meta.php:85~~0~~ |
  | 2545 |  | #: lib/includes/class-epl-property-meta.php:8~~52~~ |
  | 2546 |  | #: lib/includes/class-epl-property-meta.php:8~~55~~ |
  | 2547 |  | #: lib/includes/class-epl-property-meta.php:96~~0~~ |
  | 2548 |  | #: lib/includes/class-epl-property-meta.php:9~~83~~ |
  | 2549 |  | #: lib/includes/class-epl-property-meta.php:9~~86~~ |
  | 2550 |  | #: lib/includes/class-epl-property-meta.php:~~991~~ |
  | 2551 |  | #: lib/includes/class-epl-property-meta.php:10~~09~~ |
  | 2552 |  | #: lib/includes/class-epl-property-meta.php:10~~14~~ |
  | 2553 |  | #: lib/includes/class-epl-property-meta.php:11~~73~~ |
  | 2554 |  | #: lib/includes/class-epl-property-meta.php:11~~75~~ |
  | 2555 |  | #: lib/includes/template-functions.php:364~~4~~ |
  | 2556 |  | #: lib/includes/template-functions.php:370~~7~~ |
  |  | 2543 | #: lib/includes/class-epl-property-meta.php:857 |
  |  | 2544 | #: lib/includes/class-epl-property-meta.php:859 |
  |  | 2545 | #: lib/includes/class-epl-property-meta.php:861 |
  |  | 2546 | #: lib/includes/class-epl-property-meta.php:864 |
  |  | 2547 | #: lib/includes/class-epl-property-meta.php:969 |
  |  | 2548 | #: lib/includes/class-epl-property-meta.php:992 |
  |  | 2549 | #: lib/includes/class-epl-property-meta.php:995 |
  |  | 2550 | #: lib/includes/class-epl-property-meta.php:1000 |
  |  | 2551 | #: lib/includes/class-epl-property-meta.php:1018 |
  |  | 2552 | #: lib/includes/class-epl-property-meta.php:1023 |
  |  | 2553 | #: lib/includes/class-epl-property-meta.php:1182 |
  |  | 2554 | #: lib/includes/class-epl-property-meta.php:1184 |
  |  | 2555 | #: lib/includes/template-functions.php:3645 |
  |  | 2556 | #: lib/includes/template-functions.php:3708 |
  | 2557 | 2557 | msgid "For Lease" |
  | 2558 | 2558 | msgstr "" |
  | 2559 | 2559 |  |
  | 2560 |  | #: lib/includes/class-epl-property-meta.php:1~~193~~ |
  |  | 2560 | #: lib/includes/class-epl-property-meta.php:1202 |
  | 2561 | 2561 | msgid "Built" |
  | 2562 | 2562 | msgstr "" |
  | 2563 | 2563 |  |
  | 2564 |  | #: lib/includes/class-epl-property-meta.php:12~~44~~ |
  |  | 2564 | #: lib/includes/class-epl-property-meta.php:1253 |
  | 2565 | 2565 | #: lib/meta-boxes/meta-box-init.php:275 |
  | 2566 | 2566 | msgid "Bedrooms" |
  | 2567 | 2567 | msgstr "" |
  | 2568 | 2568 |  |
  | 2569 |  | #: lib/includes/class-epl-property-meta.php:12~~53~~ |
  |  | 2569 | #: lib/includes/class-epl-property-meta.php:1262 |
  | 2570 | 2570 | msgid "bed" |
  | 2571 | 2571 | msgstr "" |
  | 2572 | 2572 |  |
  | 2573 |  | #: lib/includes/class-epl-property-meta.php:13~~05~~ |
  |  | 2573 | #: lib/includes/class-epl-property-meta.php:1314 |
  | 2574 | 2574 | #: lib/meta-boxes/meta-box-init.php:283 lib/widgets/widget-functions.php:644 |
  | 2575 | 2575 | msgid "Bathrooms" |
  | 2576 | 2576 | msgstr "" |
  | 2577 | 2577 |  |
  | 2578 |  | #: lib/includes/class-epl-property-meta.php:13~~14~~ |
  |  | 2578 | #: lib/includes/class-epl-property-meta.php:1323 |
  | 2579 | 2579 | msgid "bath" |
  | 2580 | 2580 | msgstr "" |
  | 2581 | 2581 |  |
  | 2582 |  | #: lib/includes/class-epl-property-meta.php:13~~67~~ |
  |  | 2582 | #: lib/includes/class-epl-property-meta.php:1376 |
  | 2583 | 2583 | #: lib/meta-boxes/meta-box-init.php:325 lib/widgets/widget-functions.php:177 |
  | 2584 | 2584 | #: lib/widgets/widget-functions.php:663 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2586) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2586) |  |
  | 2586 | 2586 | msgstr "" |
  | 2587 | 2587 |  |
  | 2588 |  | #: lib/includes/class-epl-property-meta.php:143~~0~~ |
  |  | 2588 | #: lib/includes/class-epl-property-meta.php:1439 |
  | 2589 | 2589 | msgid "Parking Spaces" |
  | 2590 | 2590 | msgstr "" |
  | 2591 | 2591 |  |
  | 2592 |  | #: lib/includes/class-epl-property-meta.php:14~~87~~ |
  |  | 2592 | #: lib/includes/class-epl-property-meta.php:1496 |
  | 2593 | 2593 | msgid "garage" |
  | 2594 | 2594 | msgstr "" |
  | 2595 | 2595 |  |
  | 2596 |  | #: lib/includes/class-epl-property-meta.php:15~~39~~ |
  |  | 2596 | #: lib/includes/class-epl-property-meta.php:1548 |
  | 2597 | 2597 | msgid "carport" |
  | 2598 | 2598 | msgstr "" |
  | 2599 | 2599 |  |
  | 2600 |  | #: lib/includes/class-epl-property-meta.php:159~~0~~ |
  |  | 2600 | #: lib/includes/class-epl-property-meta.php:1599 |
  | 2601 | 2601 | #: lib/meta-boxes/meta-box-init.php:360 lib/widgets/widget-functions.php:832 |
  | 2602 | 2602 | msgid "Air Conditioning" |
  | 2603 | 2603 | msgstr "" |
  | 2604 | 2604 |  |
  | 2605 |  | #: lib/includes/class-epl-property-meta.php:16~~52~~ |
  |  | 2605 | #: lib/includes/class-epl-property-meta.php:1661 |
  | 2606 | 2606 | #: lib/meta-boxes/meta-box-init.php:351 lib/widgets/widget-functions.php:847 |
  | 2607 | 2607 | msgid "Pool" |
  | 2608 | 2608 | msgstr "" |
  | 2609 | 2609 |  |
  | 2610 |  | #: lib/includes/class-epl-property-meta.php:17~~13~~ |
  |  | 2610 | #: lib/includes/class-epl-property-meta.php:1722 |
  | 2611 | 2611 | msgid "Alarm System" |
  | 2612 | 2612 | msgstr "" |
  | 2613 | 2613 |  |
  | 2614 |  | #: lib/includes/class-epl-property-meta.php:17~~69~~ |
  | 2615 |  | #: lib/includes/class-epl-property-meta.php:18~~41~~ |
  |  | 2614 | #: lib/includes/class-epl-property-meta.php:1778 |
  |  | 2615 | #: lib/includes/class-epl-property-meta.php:1850 |
  | 2616 | 2616 | #: lib/post-types/post-types.php:384 |
  | 2617 | 2617 | msgid "m&#178;" |
  | 2618 | 2618 | msgstr "" |
  | 2619 | 2619 |  |
  | 2620 |  | #: lib/includes/class-epl-property-meta.php:17~~82~~ |
  | 2621 |  | #: lib/includes/class-epl-property-meta.php:1~~794~~ |
  |  | 2620 | #: lib/includes/class-epl-property-meta.php:1791 |
  |  | 2621 | #: lib/includes/class-epl-property-meta.php:1803 |
  | 2622 | 2622 | msgid "Land is" |
  | 2623 | 2623 | msgstr "" |
  | 2624 | 2624 |  |
  | 2625 |  | #: lib/includes/class-epl-property-meta.php:18~~54~~ |
  | 2626 |  | #: lib/includes/class-epl-property-meta.php:18~~66~~ |
  |  | 2625 | #: lib/includes/class-epl-property-meta.php:1863 |
  |  | 2626 | #: lib/includes/class-epl-property-meta.php:1875 |
  | 2627 | 2627 | msgid "Floor Area is" |
  | 2628 | 2628 | msgstr "" |
  | 2629 | 2629 |  |
  | 2630 |  | #: lib/includes/class-epl-property-meta.php:19~~14~~ |
  |  | 2630 | #: lib/includes/class-epl-property-meta.php:1923 |
  | 2631 | 2631 | #: lib/meta-boxes/meta-box-init.php:427 lib/meta-boxes/meta-box-init.php:784 |
  | 2632 | 2632 | msgid "Energy Rating" |
  | 2633 | 2633 | msgstr "" |
  | 2634 | 2634 |  |
  | 2635 |  | #: lib/includes/class-epl-property-meta.php:19~~59~~ |
  |  | 2635 | #: lib/includes/class-epl-property-meta.php:1968 |
  | 2636 | 2636 | #: lib/meta-boxes/meta-box-init.php:341 |
  | 2637 | 2637 | msgid "New Construction" |
  | 2638 | 2638 | msgstr "" |
  | 2639 | 2639 |  |
  | 2640 |  | #: lib/includes/class-epl-property-meta.php:~~1999~~ |
  |  | 2640 | #: lib/includes/class-epl-property-meta.php:2008 |
  | 2641 | 2641 | #: lib/meta-boxes/meta-box-init.php:1135 |
  | 2642 | 2642 | msgid "Holiday Rental" |
  | 2643 | 2643 | msgstr "" |
  | 2644 | 2644 |  |
  | 2645 |  | #: lib/includes/class-epl-property-meta.php:20~~49~~ |
  |  | 2645 | #: lib/includes/class-epl-property-meta.php:2058 |
  | 2646 | 2646 | #: lib/meta-boxes/meta-box-init.php:1126 |
  | 2647 | 2647 | msgid "Furnished" |
  | 2648 | 2648 | msgstr "" |
  | 2649 | 2649 |  |
  | 2650 |  | #: lib/includes/class-epl-property-meta.php:2~~095~~ |
  |  | 2650 | #: lib/includes/class-epl-property-meta.php:2104 |
  | 2651 | 2651 | #: lib/meta-boxes/meta-box-init.php:378 |
  | 2652 | 2652 | msgid "Pet Friendly" |
  | 2653 | 2653 | msgstr "" |
  | 2654 | 2654 |  |
  | 2655 |  | #: lib/includes/class-epl-property-meta.php:21~~41~~ |
  |  | 2655 | #: lib/includes/class-epl-property-meta.php:2150 |
  | 2656 | 2656 | #: lib/post-types/post-type-business.php:97 |
  | 2657 | 2657 | #: lib/post-types/post-type-commercial-land.php:97 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2829) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2829) |  |
  | 2829 | 2829 |  |
  | 2830 | 2830 | #: lib/includes/functions.php:587 lib/includes/functions.php:605 |
  | 2831 |  | #: lib/includes/functions.php:110~~6~~ lib/includes/install.php:43 |
  |  | 2831 | #: lib/includes/functions.php:1108 lib/includes/install.php:43 |
  | 2832 | 2832 | #: lib/updates/epl-2.2.php:18 |
  | 2833 | 2833 | msgid "City" |
  | 2834 | 2834 | msgstr "" |
  | 2835 | 2835 |  |
  | 2836 |  | #: lib/includes/functions.php:682 lib/includes/functions.php:118~~7~~ |
  | 2837 |  | #: lib/includes/functions.php:178~~4~~ lib/includes/install.php:49 |
  |  | 2836 | #: lib/includes/functions.php:682 lib/includes/functions.php:1189 |
  |  | 2837 | #: lib/includes/functions.php:1786 lib/includes/install.php:49 |
  | 2838 | 2838 | #: lib/updates/epl-2.1.php:19 lib/widgets/widget-admin-dashboard.php:190 |
  | 2839 | 2839 | #: lib/widgets/widget-admin-dashboard.php:244 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L2982) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L2982) |  |
  | 2982 | 2982 | msgstr "" |
  | 2983 | 2983 |  |
  | 2984 |  | #: lib/includes/functions.php:103~~6~~ |
  |  | 2984 | #: lib/includes/functions.php:1038 |
  | 2985 | 2985 | msgid "Before - $10" |
  | 2986 | 2986 | msgstr "" |
  | 2987 | 2987 |  |
  | 2988 |  | #: lib/includes/functions.php:103~~7~~ |
  |  | 2988 | #: lib/includes/functions.php:1039 |
  | 2989 | 2989 | msgid "After - 10$" |
  | 2990 | 2990 | msgstr "" |
  | 2991 | 2991 |  |
  | 2992 |  | #: lib/includes/functions.php:104~~5~~ |
  |  | 2992 | #: lib/includes/functions.php:1047 |
  | 2993 | 2993 | msgid "Administrator" |
  | 2994 | 2994 | msgstr "" |
  | 2995 | 2995 |  |
  | 2996 |  | #: lib/includes/functions.php:104~~6~~ |
  |  | 2996 | #: lib/includes/functions.php:1048 |
  | 2997 | 2997 | msgid "Editor" |
  | 2998 | 2998 | msgstr "" |
  | 2999 | 2999 |  |
  | 3000 |  | #: lib/includes/functions.php:10~~48~~ |
  |  | 3000 | #: lib/includes/functions.php:1050 |
  | 3001 | 3001 | msgid "Contributor" |
  | 3002 | 3002 | msgstr "" |
  | 3003 | 3003 |  |
  | 3004 |  | #: lib/includes/functions.php:10~~49~~ |
  |  | 3004 | #: lib/includes/functions.php:1051 |
  | 3005 | 3005 | msgid "Subscriber" |
  | 3006 | 3006 | msgstr "" |
  | 3007 | 3007 |  |
  | 3008 |  | #: lib/includes/functions.php:105~~3~~ |
  |  | 3008 | #: lib/includes/functions.php:1055 |
  | 3009 | 3009 | msgid "Listing Types and Location Taxonomy" |
  | 3010 | 3010 | msgstr "" |
  | 3011 | 3011 |  |
  | 3012 |  | #: lib/includes/functions.php:105~~6~~ |
  |  | 3012 | #: lib/includes/functions.php:1058 |
  | 3013 | 3013 | msgid "" |
  | 3014 | 3014 | "Select the listing types you want to enable and press Save Changes. Refresh " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3016) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3016) |  |
  | 3016 | 3016 | msgstr "" |
  | 3017 | 3017 |  |
  | 3018 |  | #: lib/includes/functions.php:106~~0~~ |
  |  | 3018 | #: lib/includes/functions.php:1062 |
  | 3019 | 3019 | msgid "Listing Types to Enable" |
  | 3020 | 3020 | msgstr "" |
  | 3021 | 3021 |  |
  | 3022 |  | #: lib/includes/functions.php:106~~3~~ |
  |  | 3022 | #: lib/includes/functions.php:1065 |
  | 3023 | 3023 | msgid "" |
  | 3024 | 3024 | "Note: If they are not visible on the front end visit Dashboard > Settings > " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3026) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3026) |  |
  | 3026 | 3026 | msgstr "" |
  | 3027 | 3027 |  |
  | 3028 |  | #: lib/includes/functions.php:10~~68~~ |
  |  | 3028 | #: lib/includes/functions.php:1070 |
  | 3029 | 3029 | msgid "Location Taxonomy" |
  | 3030 | 3030 | msgstr "" |
  | 3031 | 3031 |  |
  | 3032 |  | #: lib/includes/functions.php:107~~0~~ |
  |  | 3032 | #: lib/includes/functions.php:1072 |
  | 3033 | 3033 | msgid "" |
  | 3034 | 3034 | "After changing this setting visit Dashboard > Settings > Permalinks to save " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3036) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3036) |  |
  | 3036 | 3036 | msgstr "" |
  | 3037 | 3037 |  |
  | 3038 |  | #: lib/includes/functions.php:107~~1~~ |
  |  | 3038 | #: lib/includes/functions.php:1073 |
  | 3039 | 3039 | msgid "Location" |
  | 3040 | 3040 | msgstr "" |
  | 3041 | 3041 |  |
  | 3042 |  | #: lib/includes/functions.php:108~~0~~ |
  |  | 3042 | #: lib/includes/functions.php:1082 |
  | 3043 | 3043 | msgid "" |
  | 3044 | 3044 | "Use these settings to adjust the address labels to suite your location and " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3046) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3046) |  |
  | 3046 | 3046 | msgstr "" |
  | 3047 | 3047 |  |
  | 3048 |  | #: lib/includes/functions.php:108~~5~~ |
  |  | 3048 | #: lib/includes/functions.php:1087 |
  | 3049 | 3049 | msgid "Suburb/Town/City Label" |
  | 3050 | 3050 | msgstr "" |
  | 3051 | 3051 |  |
  | 3052 |  | #: lib/includes/functions.php:109~~2~~ |
  |  | 3052 | #: lib/includes/functions.php:1094 |
  | 3053 | 3053 | msgid "Additional Address Field" |
  | 3054 | 3054 | msgstr "" |
  | 3055 | 3055 |  |
  | 3056 |  | #: lib/includes/functions.php:109~~5 lib/includes/functions.php:1128~~ |
  | 3057 |  | #: lib/includes/functions.php:121~~6 lib/includes/functions.php:1235~~ |
  | 3058 |  | #: lib/includes/functions.php:140~~2 lib/includes/functions.php:1413~~ |
  | 3059 |  | #: lib/includes/functions.php:142~~4 lib/includes/functions.php:1445~~ |
  | 3060 |  | #: lib/includes/functions.php:165~~3 lib/includes/functions.php:1664~~ |
  | 3061 |  | #: lib/includes/functions.php:167~~5 lib/includes/functions.php:1686~~ |
  | 3062 |  | #: lib/includes/functions.php:169~~7 lib/includes/functions.php:1730~~ |
  |  | 3056 | #: lib/includes/functions.php:1097 lib/includes/functions.php:1130 |
  |  | 3057 | #: lib/includes/functions.php:1218 lib/includes/functions.php:1237 |
  |  | 3058 | #: lib/includes/functions.php:1404 lib/includes/functions.php:1415 |
  |  | 3059 | #: lib/includes/functions.php:1426 lib/includes/functions.php:1447 |
  |  | 3060 | #: lib/includes/functions.php:1655 lib/includes/functions.php:1666 |
  |  | 3061 | #: lib/includes/functions.php:1677 lib/includes/functions.php:1688 |
  |  | 3062 | #: lib/includes/functions.php:1699 lib/includes/functions.php:1732 |
  | 3063 | 3063 | msgid "Enable" |
  | 3064 | 3064 | msgstr "" |
  | 3065 | 3065 |  |
  | 3066 |  | #: lib/includes/functions.php:109~~6 lib/includes/functions.php:1129~~ |
  | 3067 |  | #: lib/includes/functions.php:121~~7 lib/includes/functions.php:1236~~ |
  | 3068 |  | #: lib/includes/functions.php:140~~3 lib/includes/functions.php:1414~~ |
  | 3069 |  | #: lib/includes/functions.php:142~~5 lib/includes/functions.php:1446~~ |
  | 3070 |  | #: lib/includes/functions.php:147~~2 lib/includes/functions.php:1482~~ |
  | 3071 |  | #: lib/includes/functions.php:1~~498 lib/includes/functions.php:1508~~ |
  | 3072 |  | #: lib/includes/functions.php:1~~698 lib/includes/functions.php:1731~~ |
  |  | 3066 | #: lib/includes/functions.php:1098 lib/includes/functions.php:1131 |
  |  | 3067 | #: lib/includes/functions.php:1219 lib/includes/functions.php:1238 |
  |  | 3068 | #: lib/includes/functions.php:1405 lib/includes/functions.php:1416 |
  |  | 3069 | #: lib/includes/functions.php:1427 lib/includes/functions.php:1448 |
  |  | 3070 | #: lib/includes/functions.php:1474 lib/includes/functions.php:1484 |
  |  | 3071 | #: lib/includes/functions.php:1500 lib/includes/functions.php:1510 |
  |  | 3072 | #: lib/includes/functions.php:1700 lib/includes/functions.php:1733 |
  | 3073 | 3073 | msgid "Disable" |
  | 3074 | 3074 | msgstr "" |
  | 3075 | 3075 |  |
  | 3076 |  | #: lib/includes/functions.php:1~~099~~ |
  |  | 3076 | #: lib/includes/functions.php:1101 |
  | 3077 | 3077 | msgid "Use when you need an additional Municipality/Town/City/Region." |
  | 3078 | 3078 | msgstr "" |
  | 3079 | 3079 |  |
  | 3080 |  | #: lib/includes/functions.php:110~~4~~ |
  |  | 3080 | #: lib/includes/functions.php:1106 |
  | 3081 | 3081 | msgid "Additional Address Field Label" |
  | 3082 | 3082 | msgstr "" |
  | 3083 | 3083 |  |
  | 3084 |  | #: lib/includes/functions.php:111~~1~~ |
  |  | 3084 | #: lib/includes/functions.php:1113 |
  | 3085 | 3085 | msgid "State/Province/Region Label" |
  | 3086 | 3086 | msgstr "" |
  | 3087 | 3087 |  |
  | 3088 |  | #: lib/includes/functions.php:11~~18~~ |
  |  | 3088 | #: lib/includes/functions.php:1120 |
  | 3089 | 3089 | msgid "Postcode/ZIP Label" |
  | 3090 | 3090 | msgstr "" |
  | 3091 | 3091 |  |
  | 3092 |  | #: lib/includes/functions.php:112~~5~~ |
  |  | 3092 | #: lib/includes/functions.php:1127 |
  | 3093 | 3093 | msgid "Display Country" |
  | 3094 | 3094 | msgstr "" |
  | 3095 | 3095 |  |
  | 3096 |  | #: lib/includes/functions.php:113~~2~~ |
  |  | 3096 | #: lib/includes/functions.php:1134 |
  | 3097 | 3097 | msgid "Display country with listing address." |
  | 3098 | 3098 | msgstr "" |
  | 3099 | 3099 |  |
  | 3100 |  | #: lib/includes/functions.php:113~~7~~ |
  |  | 3100 | #: lib/includes/functions.php:1139 |
  | 3101 | 3101 | msgid "Default Country" |
  | 3102 | 3102 | msgstr "" |
  | 3103 | 3103 |  |
  | 3104 |  | #: lib/includes/functions.php:114~~1~~ |
  |  | 3104 | #: lib/includes/functions.php:1143 |
  | 3105 | 3105 | msgid "This is used for map when listing has no address details" |
  | 3106 | 3106 | msgstr "" |
  | 3107 | 3107 |  |
  | 3108 |  | #: lib/includes/functions.php:11~~48~~ |
  |  | 3108 | #: lib/includes/functions.php:1150 |
  | 3109 | 3109 | msgid "Labels" |
  | 3110 | 3110 | msgstr "" |
  | 3111 | 3111 |  |
  | 3112 |  | #: lib/includes/functions.php:115~~1~~ |
  |  | 3112 | #: lib/includes/functions.php:1153 |
  | 3113 | 3113 | msgid "" |
  | 3114 | 3114 | "Customise the labels that are used to show the status and information on " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3116) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3116) |  |
  | 3116 | 3116 | msgstr "" |
  | 3117 | 3117 |  |
  | 3118 |  | #: lib/includes/functions.php:115~~6~~ |
  |  | 3118 | #: lib/includes/functions.php:1158 |
  | 3119 | 3119 | msgid "New/Just Listed Label" |
  | 3120 | 3120 | msgstr "" |
  | 3121 | 3121 |  |
  | 3122 |  | #: lib/includes/functions.php:11~~58 lib/includes/functions.php:2100~~ |
  |  | 3122 | #: lib/includes/functions.php:1160 lib/includes/functions.php:2113 |
  | 3123 | 3123 | #: lib/includes/install.php:48 lib/updates/epl-1.3.1.php:28 |
  | 3124 | 3124 | msgid "New" |
  | 3125 | 3125 | msgstr "" |
  | 3126 | 3126 |  |
  | 3127 |  | #: lib/includes/functions.php:116~~3~~ |
  |  | 3127 | #: lib/includes/functions.php:1165 |
  | 3128 | 3128 | msgid "Keep Listings flagged \"New\" for" |
  | 3129 | 3129 | msgstr "" |
  | 3130 | 3130 |  |
  | 3131 |  | #: lib/includes/functions.php:116~~6~~ |
  |  | 3131 | #: lib/includes/functions.php:1168 |
  | 3132 | 3132 | msgid "Listings will have a \"NEW\" Sticker for the defined number of days." |
  | 3133 | 3133 | msgstr "" |
  | 3134 | 3134 |  |
  | 3135 |  | #: lib/includes/functions.php:117~~1~~ |
  |  | 3135 | #: lib/includes/functions.php:1173 |
  | 3136 | 3136 | msgid "Home Open Label" |
  | 3137 | 3137 | msgstr "" |
  | 3138 | 3138 |  |
  | 3139 |  | #: lib/includes/functions.php:117~~3~~ lib/includes/install.php:46 |
  |  | 3139 | #: lib/includes/functions.php:1175 lib/includes/install.php:46 |
  | 3140 | 3140 | msgid "Home Open" |
  | 3141 | 3141 | msgstr "" |
  | 3142 | 3142 |  |
  | 3143 |  | #: lib/includes/functions.php:11~~78~~ |
  |  | 3143 | #: lib/includes/functions.php:1180 |
  | 3144 | 3144 | msgid "No Price Label" |
  | 3145 | 3145 | msgstr "" |
  | 3146 | 3146 |  |
  | 3147 |  | #: lib/includes/functions.php:118~~5~~ |
  |  | 3147 | #: lib/includes/functions.php:1187 |
  | 3148 | 3148 | msgid "Under Offer Label" |
  | 3149 | 3149 | msgstr "" |
  | 3150 | 3150 |  |
  | 3151 |  | #: lib/includes/functions.php:119~~2~~ |
  |  | 3151 | #: lib/includes/functions.php:1194 |
  | 3152 | 3152 | msgid "Sold Label" |
  | 3153 | 3153 | msgstr "" |
  | 3154 | 3154 |  |
  | 3155 |  | #: lib/includes/functions.php:119~~4 lib/includes/functions.php:1771~~ |
  | 3156 |  | #: lib/includes/functions.php:22~~67~~ lib/includes/install.php:51 |
  |  | 3155 | #: lib/includes/functions.php:1196 lib/includes/functions.php:1773 |
  |  | 3156 | #: lib/includes/functions.php:2280 lib/includes/install.php:51 |
  | 3157 | 3157 | #: lib/updates/epl-2.1.11.php:18 |
  | 3158 | 3158 | msgid "Sold" |
  | 3159 | 3159 | msgstr "" |
  | 3160 | 3160 |  |
  | 3161 |  | #: lib/includes/functions.php:1~~199~~ |
  |  | 3161 | #: lib/includes/functions.php:1201 |
  | 3162 | 3162 | msgid "Leased Label" |
  | 3163 | 3163 | msgstr "" |
  | 3164 | 3164 |  |
  | 3165 |  | #: lib/includes/functions.php:120~~1 lib/includes/functions.php:1797~~ |
  | 3166 |  | #: lib/includes/functions.php:22~~71~~ lib/includes/install.php:50 |
  |  | 3165 | #: lib/includes/functions.php:1203 lib/includes/functions.php:1799 |
  |  | 3166 | #: lib/includes/functions.php:2284 lib/includes/install.php:50 |
  | 3167 | 3167 | #: lib/updates/epl-2.1.php:18 |
  | 3168 | 3168 | msgid "Leased" |
  | 3169 | 3169 | msgstr "" |
  | 3170 | 3170 |  |
  | 3171 |  | #: lib/includes/functions.php:120~~6~~ |
  |  | 3171 | #: lib/includes/functions.php:1208 |
  | 3172 | 3172 | msgid "Rental Bond/Deposit Label" |
  | 3173 | 3173 | msgstr "" |
  | 3174 | 3174 |  |
  | 3175 |  | #: lib/includes/functions.php:12~~08~~ lib/includes/install.php:40 |
  |  | 3175 | #: lib/includes/functions.php:1210 lib/includes/install.php:40 |
  | 3176 | 3176 | #: lib/updates/epl-1.3.1.php:27 |
  | 3177 | 3177 | msgid "Bond" |
  | 3178 | 3178 | msgstr "" |
  | 3179 | 3179 |  |
  | 3180 |  | #: lib/includes/functions.php:121~~3~~ |
  |  | 3180 | #: lib/includes/functions.php:1215 |
  | 3181 | 3181 | msgid "Rental Bond/Deposit Display" |
  | 3182 | 3182 | msgstr "" |
  | 3183 | 3183 |  |
  | 3184 |  | #: lib/includes/functions.php:12~~19~~ |
  |  | 3184 | #: lib/includes/functions.php:1221 |
  | 3185 | 3185 | msgid "Display the Bond/Deposit on rental listings." |
  | 3186 | 3186 | msgstr "" |
  | 3187 | 3187 |  |
  | 3188 |  | #: lib/includes/functions.php:122~~5~~ |
  |  | 3188 | #: lib/includes/functions.php:1227 |
  | 3189 | 3189 | msgid "Listing Single View" |
  | 3190 | 3190 | msgstr "" |
  | 3191 | 3191 |  |
  | 3192 |  | #: lib/includes/functions.php:12~~28~~ |
  |  | 3192 | #: lib/includes/functions.php:1230 |
  | 3193 | 3193 | msgid "Configure the default options when viewing a single listing." |
  | 3194 | 3194 | msgstr "" |
  | 3195 | 3195 |  |
  | 3196 |  | #: lib/includes/functions.php:123~~2~~ |
  |  | 3196 | #: lib/includes/functions.php:1234 |
  | 3197 | 3197 | msgid "Automatically display image gallery?" |
  | 3198 | 3198 | msgstr "" |
  | 3199 | 3199 |  |
  | 3200 |  | #: lib/includes/functions.php:12~~39~~ |
  |  | 3200 | #: lib/includes/functions.php:1241 |
  | 3201 | 3201 | msgid "" |
  | 3202 | 3202 | "Images uploaded and attached to a listing will automatically display on the " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3204) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3204) |  |
  | 3204 | 3204 | msgstr "" |
  | 3205 | 3205 |  |
  | 3206 |  | #: lib/includes/functions.php:124~~4~~ |
  |  | 3206 | #: lib/includes/functions.php:1246 |
  | 3207 | 3207 | msgid "Gallery columns?" |
  | 3208 | 3208 | msgstr "" |
  | 3209 | 3209 |  |
  | 3210 |  | #: lib/includes/functions.php:125~~2~~ |
  |  | 3210 | #: lib/includes/functions.php:1254 |
  | 3211 | 3211 | msgid "Feature list columns?" |
  | 3212 | 3212 | msgstr "" |
  | 3213 | 3213 |  |
  | 3214 |  | #: lib/includes/functions.php:126~~0~~ |
  |  | 3214 | #: lib/includes/functions.php:1262 |
  | 3215 | 3215 | msgid "Video width on single listings" |
  | 3216 | 3216 | msgstr "" |
  | 3217 | 3217 |  |
  | 3218 |  | #: lib/includes/functions.php:126~~2~~ |
  |  | 3218 | #: lib/includes/functions.php:1264 |
  | 3219 | 3219 | msgid "Width should be in pixels" |
  | 3220 | 3220 | msgstr "" |
  | 3221 | 3221 |  |
  | 3222 |  | #: lib/includes/functions.php:12~~68~~ |
  |  | 3222 | #: lib/includes/functions.php:1270 |
  | 3223 | 3223 | msgid "Listing Archive View" |
  | 3224 | 3224 | msgstr "" |
  | 3225 | 3225 |  |
  | 3226 |  | #: lib/includes/functions.php:127~~1~~ |
  |  | 3226 | #: lib/includes/functions.php:1273 |
  | 3227 | 3227 | msgid "Configure the default options for when viewing the archive listing pages." |
  | 3228 | 3228 | msgstr "" |
  | 3229 | 3229 |  |
  | 3230 |  | #: lib/includes/functions.php:127~~5~~ |
  |  | 3230 | #: lib/includes/functions.php:1277 |
  | 3231 | 3231 | msgid "Excerpt words" |
  | 3232 | 3232 | msgstr "" |
  | 3233 | 3233 |  |
  | 3234 |  | #: lib/includes/functions.php:12~~79~~ |
  |  | 3234 | #: lib/includes/functions.php:1281 |
  | 3235 | 3235 | msgid "This is ignored when using manual excerpts." |
  | 3236 | 3236 | msgstr "" |
  | 3237 | 3237 |  |
  | 3238 |  | #: lib/includes/functions.php:128~~3~~ |
  |  | 3238 | #: lib/includes/functions.php:1285 |
  | 3239 | 3239 | msgid "Listing view type" |
  | 3240 | 3240 | msgstr "" |
  | 3241 | 3241 |  |
  | 3242 |  | #: lib/includes/functions.php:128~~6 lib/includes/template-functions.php:1901~~ |
  |  | 3242 | #: lib/includes/functions.php:1288 lib/includes/template-functions.php:1899 |
  | 3243 | 3243 | #: lib/widgets/class-epl-widget-recent-property.php:435 |
  | 3244 | 3244 | msgid "List" |
  | 3245 | 3245 | msgstr "" |
  | 3246 | 3246 |  |
  | 3247 |  | #: lib/includes/functions.php:128~~7 lib/includes/template-functions.php:1903~~ |
  |  | 3247 | #: lib/includes/functions.php:1289 lib/includes/template-functions.php:1901 |
  | 3248 | 3248 | msgid "Grid" |
  | 3249 | 3249 | msgstr "" |
  | 3250 | 3250 |  |
  | 3251 |  | #: lib/includes/functions.php:129~~4~~ |
  |  | 3251 | #: lib/includes/functions.php:1296 |
  | 3252 | 3252 | msgid "Fancy pagination" |
  | 3253 | 3253 | msgstr "" |
  | 3254 | 3254 |  |
  | 3255 |  | #: lib/includes/functions.php:129~~7~~ |
  |  | 3255 | #: lib/includes/functions.php:1299 |
  | 3256 | 3256 | msgid "No, use WordPress default pagination" |
  | 3257 | 3257 | msgstr "" |
  | 3258 | 3258 |  |
  | 3259 |  | #: lib/includes/functions.php:1~~298~~ |
  |  | 3259 | #: lib/includes/functions.php:1300 |
  | 3260 | 3260 | msgid "Yes, use fancy navigation" |
  | 3261 | 3261 | msgstr "" |
  | 3262 | 3262 |  |
  | 3263 |  | #: lib/includes/functions.php:130~~6~~ |
  |  | 3263 | #: lib/includes/functions.php:1308 |
  | 3264 | 3264 | msgid "Search Widget: Tab Labels" |
  | 3265 | 3265 | msgstr "" |
  | 3266 | 3266 |  |
  | 3267 |  | #: lib/includes/functions.php:13~~09~~ |
  |  | 3267 | #: lib/includes/functions.php:1311 |
  | 3268 | 3268 | msgid "" |
  | 3269 | 3269 | "Customise the tab labels of the EPL - Search Widget or [listing\_search] " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3271) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3271) |  |
  | 3271 | 3271 | msgstr "" |
  | 3272 | 3272 |  |
  | 3273 |  | #: lib/includes/functions.php:131~~3 lib/includes/functions.php:1315~~ |
  |  | 3273 | #: lib/includes/functions.php:1315 lib/includes/functions.php:1317 |
  | 3274 | 3274 | #: lib/includes/install.php:52 lib/updates/epl-3.3.php:20 |
  | 3275 | 3275 | #: lib/widgets/widget-functions.php:29 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3277) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3277) |  |
  | 3277 | 3277 | msgstr "" |
  | 3278 | 3278 |  |
  | 3279 |  | #: lib/includes/functions.php:13~~19 lib/includes/functions.php:1321~~ |
  |  | 3279 | #: lib/includes/functions.php:1321 lib/includes/functions.php:1323 |
  | 3280 | 3280 | #: lib/post-types/post-type-property.php:38 |
  | 3281 | 3281 | #: lib/post-types/post-type-property.php:39 lib/updates/epl-1.3.1.php:17 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3283) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3283) |  |
  | 3283 | 3283 | msgstr "" |
  | 3284 | 3284 |  |
  | 3285 |  | #: lib/includes/functions.php:136~~6~~ |
  |  | 3285 | #: lib/includes/functions.php:1368 |
  | 3286 | 3286 | msgid "" |
  | 3287 | 3287 | "Use the following settings to change how the Dashboard > Property or any " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3289) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3289) |  |
  | 3289 | 3289 | msgstr "" |
  | 3290 | 3290 |  |
  | 3291 |  | #: lib/includes/functions.php:137~~1~~ |
  |  | 3291 | #: lib/includes/functions.php:1373 |
  | 3292 | 3292 | msgid "Graph Max" |
  | 3293 | 3293 | msgstr "" |
  | 3294 | 3294 |  |
  | 3295 |  | #: lib/includes/functions.php:137~~4~~ |
  |  | 3295 | #: lib/includes/functions.php:1376 |
  | 3296 | 3296 | msgid "Used for bar chart display on listings for sale." |
  | 3297 | 3297 | msgstr "" |
  | 3298 | 3298 |  |
  | 3299 |  | #: lib/includes/functions.php:13~~79~~ |
  |  | 3299 | #: lib/includes/functions.php:1381 |
  | 3300 | 3300 | msgid "Graph Rental Max" |
  | 3301 | 3301 | msgstr "" |
  | 3302 | 3302 |  |
  | 3303 |  | #: lib/includes/functions.php:138~~2~~ |
  |  | 3303 | #: lib/includes/functions.php:1384 |
  | 3304 | 3304 | msgid "Rental range." |
  | 3305 | 3305 | msgstr "" |
  | 3306 | 3306 |  |
  | 3307 |  | #: lib/includes/functions.php:138~~7~~ |
  |  | 3307 | #: lib/includes/functions.php:1389 |
  | 3308 | 3308 | msgid "Image size" |
  | 3309 | 3309 | msgstr "" |
  | 3310 | 3310 |  |
  | 3311 |  | #: lib/includes/functions.php:139~~0~~ |
  |  | 3311 | #: lib/includes/functions.php:1392 |
  | 3312 | 3312 | msgid "100 X 100" |
  | 3313 | 3313 | msgstr "" |
  | 3314 | 3314 |  |
  | 3315 |  | #: lib/includes/functions.php:139~~1~~ |
  |  | 3315 | #: lib/includes/functions.php:1393 |
  | 3316 | 3316 | msgid "300 X 200" |
  | 3317 | 3317 | msgstr "" |
  | 3318 | 3318 |  |
  | 3319 |  | #: lib/includes/functions.php:139~~4~~ |
  |  | 3319 | #: lib/includes/functions.php:1396 |
  | 3320 | 3320 | msgid "Size of the image shown in listing columns in admin area" |
  | 3321 | 3321 | msgstr "" |
  | 3322 | 3322 |  |
  | 3323 |  | #: lib/includes/functions.php:1~~399~~ |
  |  | 3323 | #: lib/includes/functions.php:1401 |
  | 3324 | 3324 | msgid "Unique Listing ID column" |
  | 3325 | 3325 | msgstr "" |
  | 3326 | 3326 |  |
  | 3327 |  | #: lib/includes/functions.php:141~~0~~ |
  |  | 3327 | #: lib/includes/functions.php:1412 |
  | 3328 | 3328 | msgid "Geocode Lat/Long results column" |
  | 3329 | 3329 | msgstr "" |
  | 3330 | 3330 |  |
  | 3331 |  | #: lib/includes/functions.php:142~~1~~ |
  |  | 3331 | #: lib/includes/functions.php:1423 |
  | 3332 | 3332 | msgid "Display Hidden Fields" |
  | 3333 | 3333 | msgstr "" |
  | 3334 | 3334 |  |
  | 3335 |  | #: lib/includes/functions.php:142~~7~~ |
  |  | 3335 | #: lib/includes/functions.php:1429 |
  | 3336 | 3336 | msgid "Display hidden fields on the edit listing screen." |
  | 3337 | 3337 | msgstr "" |
  | 3338 | 3338 |  |
  | 3339 |  | #: lib/includes/functions.php:143~~4~~ |
  |  | 3339 | #: lib/includes/functions.php:1436 |
  | 3340 | 3340 | msgid "Theme Setup" |
  | 3341 | 3341 | msgstr "" |
  | 3342 | 3342 |  |
  | 3343 |  | #: lib/includes/functions.php:143~~7~~ |
  |  | 3343 | #: lib/includes/functions.php:1439 |
  | 3344 | 3344 | msgid "" |
  | 3345 | 3345 | "The following settings will use your theme templates to generate your " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3350) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3350) |  |
  | 3350 | 3350 | msgstr "" |
  | 3351 | 3351 |  |
  | 3352 |  | #: lib/includes/functions.php:14~~49~~ |
  |  | 3352 | #: lib/includes/functions.php:1451 |
  | 3353 | 3353 | msgid "" |
  | 3354 | 3354 | "When using iThemes, Genesis frameworks or your listings look good, leave " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3356) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3356) |  |
  | 3356 | 3356 | msgstr "" |
  | 3357 | 3357 |  |
  | 3358 |  | #: lib/includes/functions.php:145~~5~~ |
  |  | 3358 | #: lib/includes/functions.php:1457 |
  | 3359 | 3359 | msgid "Theme Setup: Featured Images" |
  | 3360 | 3360 | msgstr "" |
  | 3361 | 3361 |  |
  | 3362 |  | #: lib/includes/functions.php:14~~58~~ |
  |  | 3362 | #: lib/includes/functions.php:1460 |
  | 3363 | 3363 | msgid "" |
  | 3364 | 3364 | "Some WordPress themes automatically display featured images on posts and " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3367) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3367) |  |
  | 3367 | 3367 | msgstr "" |
  | 3368 | 3368 |  |
  | 3369 |  | #: lib/includes/functions.php:146~~4~~ |
  |  | 3369 | #: lib/includes/functions.php:1466 |
  | 3370 | 3370 | msgid "Theme Featured Image Settings" |
  | 3371 | 3371 | msgstr "" |
  | 3372 | 3372 |  |
  | 3373 |  | #: lib/includes/functions.php:14~~69 lib/includes/functions.php:1495~~ |
  |  | 3373 | #: lib/includes/functions.php:1471 lib/includes/functions.php:1497 |
  | 3374 | 3374 | msgid "Single Listing" |
  | 3375 | 3375 | msgstr "" |
  | 3376 | 3376 |  |
  | 3377 |  | #: lib/includes/functions.php:14~~79 lib/includes/functions.php:1505~~ |
  |  | 3377 | #: lib/includes/functions.php:1481 lib/includes/functions.php:1507 |
  | 3378 | 3378 | msgid "Archive Listing" |
  | 3379 | 3379 | msgstr "" |
  | 3380 | 3380 |  |
  | 3381 |  | #: lib/includes/functions.php:149~~0~~ |
  |  | 3381 | #: lib/includes/functions.php:1492 |
  | 3382 | 3382 | msgid "Easy Property Listings Featured Image Settings" |
  | 3383 | 3383 | msgstr "" |
  | 3384 | 3384 |  |
  | 3385 |  | #: lib/includes/functions.php:151~~6~~ lib/meta-boxes/meta-box-init.php:954 |
  |  | 3385 | #: lib/includes/functions.php:1518 lib/meta-boxes/meta-box-init.php:954 |
  | 3386 | 3386 | #: lib/meta-boxes/meta-box-init.php:1066 |
  | 3387 | 3387 | msgid "Currency" |
  | 3388 | 3388 | msgstr "" |
  | 3389 | 3389 |  |
  | 3390 |  | #: lib/includes/functions.php:152~~0~~ |
  |  | 3390 | #: lib/includes/functions.php:1522 |
  | 3391 | 3391 | #. Translators: Currency article link. |
  | 3392 | 3392 | msgid "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3396) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3396) |  |
  | 3396 | 3396 | msgstr "" |
  | 3397 | 3397 |  |
  | 3398 |  | #: lib/includes/functions.php:152~~4~~ |
  |  | 3398 | #: lib/includes/functions.php:1526 |
  | 3399 | 3399 | msgid "Currency Type" |
  | 3400 | 3400 | msgstr "" |
  | 3401 | 3401 |  |
  | 3402 |  | #: lib/includes/functions.php:153~~1~~ |
  |  | 3402 | #: lib/includes/functions.php:1533 |
  | 3403 | 3403 | msgid "Symbol Position" |
  | 3404 | 3404 | msgstr "" |
  | 3405 | 3405 |  |
  | 3406 |  | #: lib/includes/functions.php:15~~38~~ |
  |  | 3406 | #: lib/includes/functions.php:1540 |
  | 3407 | 3407 | msgid "Thousands Separator" |
  | 3408 | 3408 | msgstr "" |
  | 3409 | 3409 |  |
  | 3410 |  | #: lib/includes/functions.php:154~~4~~ |
  |  | 3410 | #: lib/includes/functions.php:1546 |
  | 3411 | 3411 | msgid "Decimal Separator" |
  | 3412 | 3412 | msgstr "" |
  | 3413 | 3413 |  |
  | 3414 |  | #: lib/includes/functions.php:155~~1~~ |
  |  | 3414 | #: lib/includes/functions.php:1553 |
  | 3415 | 3415 | msgid "Inspection Date & Time Format" |
  | 3416 | 3416 | msgstr "" |
  | 3417 | 3417 |  |
  | 3418 |  | #: lib/includes/functions.php:155~~4~~ |
  |  | 3418 | #: lib/includes/functions.php:1556 |
  | 3419 | 3419 | msgid "" |
  | 3420 | 3420 | "These settings allow you to control how your inspection times display by " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3422) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3422) |  |
  | 3422 | 3422 | msgstr "" |
  | 3423 | 3423 |  |
  | 3424 |  | #: lib/includes/functions.php:15~~58~~ |
  |  | 3424 | #: lib/includes/functions.php:1560 |
  | 3425 | 3425 | msgid "Date Format" |
  | 3426 | 3426 | msgstr "" |
  | 3427 | 3427 |  |
  | 3428 |  | #: lib/includes/functions.php:157~~1~~ |
  |  | 3428 | #: lib/includes/functions.php:1573 |
  | 3429 | 3429 | msgid "Custom Date Format" |
  | 3430 | 3430 | msgstr "" |
  | 3431 | 3431 |  |
  | 3432 |  | #: lib/includes/functions.php:157~~6~~ |
  |  | 3432 | #: lib/includes/functions.php:1578 |
  | 3433 | 3433 | msgid "Time Format" |
  | 3434 | 3434 | msgstr "" |
  | 3435 | 3435 |  |
  | 3436 |  | #: lib/includes/functions.php:158~~2~~ |
  |  | 3436 | #: lib/includes/functions.php:1584 |
  | 3437 | 3437 | msgid " ( 24 Hours Format ) " |
  | 3438 | 3438 | msgstr "" |
  | 3439 | 3439 |  |
  | 3440 |  | #: lib/includes/functions.php:15~~89~~ |
  |  | 3440 | #: lib/includes/functions.php:1591 |
  | 3441 | 3441 | msgid "Custom Time Format" |
  | 3442 | 3442 | msgstr "" |
  | 3443 | 3443 |  |
  | 3444 |  | #: lib/includes/functions.php:159~~6~~ |
  |  | 3444 | #: lib/includes/functions.php:1598 |
  | 3445 | 3445 | msgid "Contact Settings" |
  | 3446 | 3446 | msgstr "" |
  | 3447 | 3447 |  |
  | 3448 |  | #: lib/includes/functions.php:1~~599~~ |
  |  | 3448 | #: lib/includes/functions.php:1601 |
  | 3449 | 3449 | msgid "You can allow access to the Contacts system for logged in users." |
  | 3450 | 3450 | msgstr "" |
  | 3451 | 3451 |  |
  | 3452 |  | #: lib/includes/functions.php:160~~3~~ |
  |  | 3452 | #: lib/includes/functions.php:1605 |
  | 3453 | 3453 | msgid "Contact Access Level" |
  | 3454 | 3454 | msgstr "" |
  | 3455 | 3455 |  |
  | 3456 |  | #: lib/includes/functions.php:161~~3~~ |
  |  | 3456 | #: lib/includes/functions.php:1615 |
  | 3457 | 3457 | msgid "Reports Settings" |
  | 3458 | 3458 | msgstr "" |
  | 3459 | 3459 |  |
  | 3460 |  | #: lib/includes/functions.php:161~~6~~ |
  |  | 3460 | #: lib/includes/functions.php:1618 |
  | 3461 | 3461 | msgid "You can allow access to the Reports system for logged in users." |
  | 3462 | 3462 | msgstr "" |
  | 3463 | 3463 |  |
  | 3464 |  | #: lib/includes/functions.php:162~~1~~ |
  |  | 3464 | #: lib/includes/functions.php:1623 |
  | 3465 | 3465 | msgid "Reports Access Level" |
  | 3466 | 3466 | msgstr "" |
  | 3467 | 3467 |  |
  | 3468 |  | #: lib/includes/functions.php:163~~5~~ |
  |  | 3468 | #: lib/includes/functions.php:1637 |
  | 3469 | 3469 | #. translators: EPL site link. |
  | 3470 | 3470 | msgid "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3474) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3474) |  |
  | 3474 | 3474 | msgstr "" |
  | 3475 | 3475 |  |
  | 3476 |  | #: lib/includes/functions.php:16~~39~~ |
  |  | 3476 | #: lib/includes/functions.php:1641 |
  | 3477 | 3477 | msgid "Disable Styles" |
  | 3478 | 3478 | msgstr "" |
  | 3479 | 3479 |  |
  | 3480 |  | #: lib/includes/functions.php:164~~2~~ lib/meta-boxes/meta-box-init.php:251 |
  |  | 3480 | #: lib/includes/functions.php:1644 lib/meta-boxes/meta-box-init.php:251 |
  | 3481 | 3481 | #: lib/meta-boxes/meta-box-init.php:344 lib/meta-boxes/meta-box-init.php:354 |
  | 3482 | 3482 | #: lib/meta-boxes/meta-box-init.php:363 lib/meta-boxes/meta-box-init.php:372 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3507) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3507) |  |
  | 3507 | 3507 | msgstr "" |
  | 3508 | 3508 |  |
  | 3509 |  | #: lib/includes/functions.php:164~~5~~ |
  |  | 3509 | #: lib/includes/functions.php:1647 |
  | 3510 | 3510 | msgid "Check this to disable all elements." |
  | 3511 | 3511 | msgstr "" |
  | 3512 | 3512 |  |
  | 3513 |  | #: lib/includes/functions.php:165~~0~~ |
  |  | 3513 | #: lib/includes/functions.php:1652 |
  | 3514 | 3514 | msgid "Legacy Styles" |
  | 3515 | 3515 | msgstr "" |
  | 3516 | 3516 |  |
  | 3517 |  | #: lib/includes/functions.php:165~~6~~ |
  |  | 3517 | #: lib/includes/functions.php:1658 |
  | 3518 | 3518 | msgid "Check this to enable legacy css styles." |
  | 3519 | 3519 | msgstr "" |
  | 3520 | 3520 |  |
  | 3521 |  | #: lib/includes/functions.php:166~~1~~ |
  |  | 3521 | #: lib/includes/functions.php:1663 |
  | 3522 | 3522 | msgid "Enhanced Styles" |
  | 3523 | 3523 | msgstr "" |
  | 3524 | 3524 |  |
  | 3525 |  | #: lib/includes/functions.php:166~~7~~ |
  |  | 3525 | #: lib/includes/functions.php:1669 |
  | 3526 | 3526 | msgid "" |
  | 3527 | 3527 | "Check this to enable enhanced structural css styles. This implements " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3529) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3529) |  |
  | 3529 | 3529 | msgstr "" |
  | 3530 | 3530 |  |
  | 3531 |  | #: lib/includes/functions.php:167~~2~~ |
  |  | 3531 | #: lib/includes/functions.php:1674 |
  | 3532 | 3532 | msgid "SVG Icons for Listings" |
  | 3533 | 3533 | msgstr "" |
  | 3534 | 3534 |  |
  | 3535 |  | #: lib/includes/functions.php:16~~78~~ |
  |  | 3535 | #: lib/includes/functions.php:1680 |
  | 3536 | 3536 | msgid "Check this to enable SVG icons on listings." |
  | 3537 | 3537 | msgstr "" |
  | 3538 | 3538 |  |
  | 3539 |  | #: lib/includes/functions.php:168~~3~~ |
  |  | 3539 | #: lib/includes/functions.php:1685 |
  | 3540 | 3540 | msgid "SVG Icons for Author Social Links" |
  | 3541 | 3541 | msgstr "" |
  | 3542 | 3542 |  |
  | 3543 |  | #: lib/includes/functions.php:16~~89~~ |
  |  | 3543 | #: lib/includes/functions.php:1691 |
  | 3544 | 3544 | msgid "Check this to enable SVG icons on author social links." |
  | 3545 | 3545 | msgstr "" |
  | 3546 | 3546 |  |
  | 3547 |  | #: lib/includes/functions.php:169~~4~~ |
  |  | 3547 | #: lib/includes/functions.php:1696 |
  | 3548 | 3548 | msgid "Google Maps API" |
  | 3549 | 3549 | msgstr "" |
  | 3550 | 3550 |  |
  | 3551 |  | #: lib/includes/functions.php:170~~1~~ |
  |  | 3551 | #: lib/includes/functions.php:1703 |
  | 3552 | 3552 | msgid "" |
  | 3553 | 3553 | "Set to disabled if Google Maps API has already been loaded in your theme or " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3555) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3555) |  |
  | 3555 | 3555 | msgstr "" |
  | 3556 | 3556 |  |
  | 3557 |  | #: lib/includes/functions.php:171~~0~~ |
  |  | 3557 | #: lib/includes/functions.php:1712 |
  | 3558 | 3558 | #. translators: google map register key link. |
  | 3559 | 3559 | msgid "Register for a %s here." |
  | 3560 | 3560 | msgstr "" |
  | 3561 | 3561 |  |
  | 3562 |  | #: lib/includes/functions.php:171~~5~~ |
  |  | 3562 | #: lib/includes/functions.php:1717 |
  | 3563 | 3563 | msgid "Mode" |
  | 3564 | 3564 | msgstr "" |
  | 3565 | 3565 |  |
  | 3566 |  | #: lib/includes/functions.php:17~~18~~ |
  |  | 3566 | #: lib/includes/functions.php:1720 |
  | 3567 | 3567 | msgid "Development" |
  | 3568 | 3568 | msgstr "" |
  | 3569 | 3569 |  |
  | 3570 |  | #: lib/includes/functions.php:17~~19~~ |
  |  | 3570 | #: lib/includes/functions.php:1721 |
  | 3571 | 3571 | msgid "Production" |
  | 3572 | 3572 | msgstr "" |
  | 3573 | 3573 |  |
  | 3574 |  | #: lib/includes/functions.php:172~~1~~ |
  |  | 3574 | #: lib/includes/functions.php:1723 |
  | 3575 | 3575 | msgid "Production mode enqueue minified js & css for faster page loads." |
  | 3576 | 3576 | msgstr "" |
  | 3577 | 3577 |  |
  | 3578 |  | #: lib/includes/functions.php:172~~7~~ |
  |  | 3578 | #: lib/includes/functions.php:1729 |
  | 3579 | 3579 | msgid "Remove Data on Uninstall?" |
  | 3580 | 3580 | msgstr "" |
  | 3581 | 3581 |  |
  | 3582 |  | #: lib/includes/functions.php:173~~3~~ |
  |  | 3582 | #: lib/includes/functions.php:1735 |
  | 3583 | 3583 | msgid "" |
  | 3584 | 3584 | "Select Enable if you would like EPL to completely remove all of its data " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3586) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3586) |  |
  | 3586 | 3586 | msgstr "" |
  | 3587 | 3587 |  |
  | 3588 |  | #: lib/includes/functions.php:174~~3~~ |
  |  | 3588 | #: lib/includes/functions.php:1745 |
  | 3589 | 3589 | msgid "Beta Versions" |
  | 3590 | 3590 | msgstr "" |
  | 3591 | 3591 |  |
  | 3592 |  | #: lib/includes/functions.php:17~~49~~ |
  |  | 3592 | #: lib/includes/functions.php:1751 |
  | 3593 | 3593 | msgid "Enable Beta Versions" |
  | 3594 | 3594 | msgstr "" |
  | 3595 | 3595 |  |
  | 3596 |  | #: lib/includes/functions.php:175~~2~~ |
  |  | 3596 | #: lib/includes/functions.php:1754 |
  | 3597 | 3597 | msgid "" |
  | 3598 | 3598 | "Checking any of the checkboxes will opt you in to receive pre-release " |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3602) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3602) |  |
  | 3602 | 3602 | msgstr "" |
  | 3603 | 3603 |  |
  | 3604 |  | #: lib/includes/functions.php:2~~095~~ |
  |  | 3604 | #: lib/includes/functions.php:2108 |
  | 3605 | 3605 | msgid "Appraisal" |
  | 3606 | 3606 | msgstr "" |
  | 3607 | 3607 |  |
  | 3608 |  | #: lib/includes/functions.php:2~~096~~ |
  |  | 3608 | #: lib/includes/functions.php:2109 |
  | 3609 | 3609 | msgid "Buyer" |
  | 3610 | 3610 | msgstr "" |
  | 3611 | 3611 |  |
  | 3612 |  | #: lib/includes/functions.php:2~~098~~ |
  |  | 3612 | #: lib/includes/functions.php:2111 |
  | 3613 | 3613 | msgid "Lead" |
  | 3614 | 3614 | msgstr "" |
  | 3615 | 3615 |  |
  | 3616 |  | #: lib/includes/functions.php:2~~099~~ |
  |  | 3616 | #: lib/includes/functions.php:2112 |
  | 3617 | 3617 | msgid "Landlord" |
  | 3618 | 3618 | msgstr "" |
  | 3619 | 3619 |  |
  | 3620 |  | #: lib/includes/functions.php:21~~01~~ |
  |  | 3620 | #: lib/includes/functions.php:2114 |
  | 3621 | 3621 | msgid "Past Customer" |
  | 3622 | 3622 | msgstr "" |
  | 3623 | 3623 |  |
  | 3624 |  | #: lib/includes/functions.php:21~~02~~ |
  |  | 3624 | #: lib/includes/functions.php:2115 |
  | 3625 | 3625 | msgid "Seller" |
  | 3626 | 3626 | msgstr "" |
  | 3627 | 3627 |  |
  | 3628 |  | #: lib/includes/functions.php:21~~03~~ |
  |  | 3628 | #: lib/includes/functions.php:2116 |
  | 3629 | 3629 | msgid "Tenant" |
  | 3630 | 3630 | msgstr "" |
  | 3631 | 3631 |  |
  | 3632 |  | #: lib/includes/functions.php:21~~04~~ |
  |  | 3632 | #: lib/includes/functions.php:2117 |
  | 3633 | 3633 | msgid "Widget Lead" |
  | 3634 | 3634 | msgstr "" |
  | 3635 | 3635 |  |
  | 3636 |  | #: lib/includes/functions.php:21~~05~~ |
  |  | 3636 | #: lib/includes/functions.php:2118 |
  | 3637 | 3637 | msgid "Under Contract" |
  | 3638 | 3638 | msgstr "" |
  | 3639 | 3639 |  |
  | 3640 |  | #: lib/includes/functions.php:22~~65~~ |
  |  | 3640 | #: lib/includes/functions.php:2278 |
  | 3641 | 3641 | msgid "Current" |
  | 3642 | 3642 | msgstr "" |
  | 3643 | 3643 |  |
  | 3644 |  | #: lib/includes/functions.php:22~~74~~ |
  |  | 3644 | #: lib/includes/functions.php:2287 |
  | 3645 | 3645 | msgid "Withdrawn" |
  | 3646 | 3646 | msgstr "" |
  | 3647 | 3647 |  |
  | 3648 |  | #: lib/includes/functions.php:22~~75~~ |
  |  | 3648 | #: lib/includes/functions.php:2288 |
  | 3649 | 3649 | msgid "Off Market" |
  | 3650 | 3650 | msgstr "" |
  | 3651 | 3651 |  |
  | 3652 |  | #: lib/includes/functions.php:22~~76~~ |
  |  | 3652 | #: lib/includes/functions.php:2289 |
  | 3653 | 3653 | msgid "Deleted" |
  | 3654 | 3654 | msgstr "" |
  | 3655 | 3655 |  |
  | 3656 |  | #: lib/includes/functions.php:23~~40 lib/includes/functions.php:2361~~ |
  |  | 3656 | #: lib/includes/functions.php:2353 lib/includes/functions.php:2374 |
  | 3657 | 3657 | msgid "Exclusive" |
  | 3658 | 3658 | msgstr "" |
  | 3659 | 3659 |  |
  | 3660 |  | #: lib/includes/functions.php:23~~42~~ |
  |  | 3660 | #: lib/includes/functions.php:2355 |
  | 3661 | 3661 | msgid "Multilist" |
  | 3662 | 3662 | msgstr "" |
  | 3663 | 3663 |  |
  | 3664 |  | #: lib/includes/functions.php:23~~43~~ |
  |  | 3664 | #: lib/includes/functions.php:2356 |
  | 3665 | 3665 | msgid "Conjunctional" |
  | 3666 | 3666 | msgstr "" |
  | 3667 | 3667 |  |
  | 3668 |  | #: lib/includes/functions.php:23~~44 lib/includes/functions.php:2362~~ |
  |  | 3668 | #: lib/includes/functions.php:2357 lib/includes/functions.php:2375 |
  | 3669 | 3669 | msgid "Open" |
  | 3670 | 3670 | msgstr "" |
  | 3671 | 3671 |  |
  | 3672 |  | #: lib/includes/functions.php:23~~45 lib/includes/functions.php:2382~~ |
  | 3673 |  | #: lib/includes/functions.php:24~~37~~ |
  |  | 3672 | #: lib/includes/functions.php:2358 lib/includes/functions.php:2395 |
  |  | 3673 | #: lib/includes/functions.php:2450 |
  | 3674 | 3674 | msgid "Sale" |
  | 3675 | 3675 | msgstr "" |
  | 3676 | 3676 |  |
  | 3677 |  | #: lib/includes/functions.php:23~~46~~ |
  |  | 3677 | #: lib/includes/functions.php:2359 |
  | 3678 | 3678 | msgid "Set Sale" |
  | 3679 | 3679 | msgstr "" |
  | 3680 | 3680 |  |
  | 3681 |  | #: lib/includes/functions.php:23~~80~~ |
  |  | 3681 | #: lib/includes/functions.php:2393 |
  | 3682 | 3682 | msgid "EOI" |
  | 3683 | 3683 | msgstr "" |
  | 3684 | 3684 |  |
  | 3685 |  | #: lib/includes/functions.php:23~~81~~ |
  |  | 3685 | #: lib/includes/functions.php:2394 |
  | 3686 | 3686 | msgid "Offers" |
  | 3687 | 3687 | msgstr "" |
  | 3688 | 3688 |  |
  | 3689 |  | #: lib/includes/functions.php:23~~83~~ |
  |  | 3689 | #: lib/includes/functions.php:2396 |
  | 3690 | 3690 | msgid "Tender" |
  | 3691 | 3691 | msgstr "" |
  | 3692 | 3692 |  |
  | 3693 |  | #: lib/includes/functions.php:2~~398~~ lib/widgets/widget-functions.php:762 |
  |  | 3693 | #: lib/includes/functions.php:2411 lib/widgets/widget-functions.php:762 |
  | 3694 | 3694 | #: lib/widgets/widget-functions.php:817 |
  | 3695 | 3695 | msgid "Square" |
  | 3696 | 3696 | msgstr "" |
  | 3697 | 3697 |  |
  | 3698 |  | #: lib/includes/functions.php:2~~399~~ lib/widgets/widget-functions.php:763 |
  |  | 3698 | #: lib/includes/functions.php:2412 lib/widgets/widget-functions.php:763 |
  | 3699 | 3699 | #: lib/widgets/widget-functions.php:818 |
  | 3700 | 3700 | msgid "Square Meter" |
  | 3701 | 3701 | msgstr "" |
  | 3702 | 3702 |  |
  | 3703 |  | #: lib/includes/functions.php:24~~00~~ lib/widgets/widget-functions.php:764 |
  |  | 3703 | #: lib/includes/functions.php:2413 lib/widgets/widget-functions.php:764 |
  | 3704 | 3704 | #: lib/widgets/widget-functions.php:819 |
  | 3705 | 3705 | msgid "Acre" |
  | 3706 | 3706 | msgstr "" |
  | 3707 | 3707 |  |
  | 3708 |  | #: lib/includes/functions.php:24~~01~~ lib/widgets/widget-functions.php:765 |
  |  | 3708 | #: lib/includes/functions.php:2414 lib/widgets/widget-functions.php:765 |
  | 3709 | 3709 | #: lib/widgets/widget-functions.php:820 |
  | 3710 | 3710 | msgid "Hectare" |
  | 3711 | 3711 | msgstr "" |
  | 3712 | 3712 |  |
  | 3713 |  | #: lib/includes/functions.php:24~~02~~ lib/widgets/widget-functions.php:766 |
  |  | 3713 | #: lib/includes/functions.php:2415 lib/widgets/widget-functions.php:766 |
  | 3714 | 3714 | #: lib/widgets/widget-functions.php:821 |
  | 3715 | 3715 | msgid "Square Feet" |
  | 3716 | 3716 | msgstr "" |
  | 3717 | 3717 |  |
  | 3718 |  | #: lib/includes/functions.php:24~~18~~ |
  |  | 3718 | #: lib/includes/functions.php:2431 |
  | 3719 | 3719 | msgid "Daily" |
  | 3720 | 3720 | msgstr "" |
  | 3721 | 3721 |  |
  | 3722 |  | #: lib/includes/functions.php:24~~19~~ |
  |  | 3722 | #: lib/includes/functions.php:2432 |
  | 3723 | 3723 | msgid "Week" |
  | 3724 | 3724 | msgstr "" |
  | 3725 | 3725 |  |
  | 3726 |  | #: lib/includes/functions.php:24~~20~~ |
  |  | 3726 | #: lib/includes/functions.php:2433 |
  | 3727 | 3727 | msgid "Weekly" |
  | 3728 | 3728 | msgstr "" |
  | 3729 | 3729 |  |
  | 3730 |  | #: lib/includes/functions.php:24~~21~~ |
  |  | 3730 | #: lib/includes/functions.php:2434 |
  | 3731 | 3731 | msgid "Month" |
  | 3732 | 3732 | msgstr "" |
  | 3733 | 3733 |  |
  | 3734 |  | #: lib/includes/functions.php:24~~22~~ |
  |  | 3734 | #: lib/includes/functions.php:2435 |
  | 3735 | 3735 | msgid "Monthly" |
  | 3736 | 3736 | msgstr "" |
  | 3737 | 3737 |  |
  | 3738 |  | #: lib/includes/functions.php:24~~38~~ |
  |  | 3738 | #: lib/includes/functions.php:2451 |
  | 3739 | 3739 | msgid "Lease" |
  | 3740 | 3740 | msgstr "" |
  | 3741 | 3741 |  |
  | 3742 |  | #: lib/includes/functions.php:24~~39~~ |
  |  | 3742 | #: lib/includes/functions.php:2452 |
  | 3743 | 3743 | msgid "Both" |
  | 3744 | 3744 | msgstr "" |
  | 3745 | 3745 |  |
  | 3746 |  | #: lib/includes/functions.php:24~~54~~ |
  |  | 3746 | #: lib/includes/functions.php:2467 |
  | 3747 | 3747 | msgid "Unknown" |
  | 3748 | 3748 | msgstr "" |
  | 3749 | 3749 |  |
  | 3750 |  | #: lib/includes/functions.php:24~~55~~ |
  |  | 3750 | #: lib/includes/functions.php:2468 |
  | 3751 | 3751 | msgid "Vacant" |
  | 3752 | 3752 | msgstr "" |
  | 3753 | 3753 |  |
  | 3754 |  | #: lib/includes/functions.php:24~~56~~ |
  |  | 3754 | #: lib/includes/functions.php:2469 |
  | 3755 | 3755 | msgid "Tenanted" |
  | 3756 | 3756 | msgstr "" |
  | 3757 | 3757 |  |
  | 3758 |  | #: lib/includes/functions.php:24~~71~~ |
  |  | 3758 | #: lib/includes/functions.php:2484 |
  | 3759 | 3759 | msgid "Whole" |
  | 3760 | 3760 | msgstr "" |
  | 3761 | 3761 |  |
  | 3762 |  | #: lib/includes/functions.php:24~~72~~ |
  |  | 3762 | #: lib/includes/functions.php:2485 |
  | 3763 | 3763 | msgid "Part" |
  | 3764 | 3764 | msgstr "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3808) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3808) |  |
  | 3808 | 3808 | msgstr "" |
  | 3809 | 3809 |  |
  | 3810 |  | #: lib/includes/pagination.php:40~~2 lib/includes/pagination.php:479~~ |
  |  | 3810 | #: lib/includes/pagination.php:403 lib/includes/pagination.php:483 |
  | 3811 | 3811 | #: lib/templates/content/author.php:134 |
  | 3812 | 3812 | #: lib/templates/themes/default/author.php:126 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3816) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3816) |  |
  | 3816 | 3816 | msgstr "" |
  | 3817 | 3817 |  |
  | 3818 |  | #: lib/includes/pagination.php:4~~58 lib/includes/pagination.php:478~~ |
  |  | 3818 | #: lib/includes/pagination.php:461 lib/includes/pagination.php:482 |
  | 3819 | 3819 | #: lib/templates/content/author.php:133 |
  | 3820 | 3820 | #: lib/templates/themes/default/author.php:125 |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L3824) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L3824) |  |
  | 3824 | 3824 | msgstr "" |
  | 3825 | 3825 |  |
  | 3826 |  | #: lib/includes/template-functions.php:100~~2~~ |
  | 3827 |  | #: lib/includes/template-functions.php:149~~8~~ |
  |  | 3826 | #: lib/includes/template-functions.php:1000 |
  |  | 3827 | #: lib/includes/template-functions.php:1496 |
  | 3828 | 3828 | #: lib/meta-boxes/meta-box-init.php:1299 |
  | 3829 | 3829 | msgid "Plus Outgoings" |
  | 3830 | 3830 | msgstr "" |
  | 3831 | 3831 |  |
  | 3832 |  | #: lib/includes/template-functions.php:10~~21~~ |
  |  | 3832 | #: lib/includes/template-functions.php:1019 |
  | 3833 | 3833 | msgid "Available from" |
  | 3834 | 3834 | msgstr "" |
  | 3835 | 3835 |  |
  | 3836 |  | #: lib/includes/template-functions.php:147~~9~~ |
  |  | 3836 | #: lib/includes/template-functions.php:1477 |
  | 3837 | 3837 | msgid "Property Features" |
  | 3838 | 3838 | msgstr "" |
  | 3839 | 3839 |  |
  | 3840 |  | #: lib/includes/template-functions.php:155~~3~~ |
  |  | 3840 | #: lib/includes/template-functions.php:1551 |
  | 3841 | 3841 | #: lib/meta-boxes/meta-box-init.php:1344 |
  | 3842 | 3842 | msgid "Commercial Features" |
  | 3843 | 3843 | msgstr "" |
  | 3844 | 3844 |  |
  | 3845 |  | #: lib/includes/template-functions.php:159~~9~~ |
  |  | 3845 | #: lib/includes/template-functions.php:1597 |
  | 3846 | 3846 | #: lib/meta-boxes/meta-box-init.php:1149 |
  | 3847 | 3847 | msgid "Rural Features" |
  | 3848 | 3848 | msgstr "" |
  | 3849 | 3849 |  |
  | 3850 |  | #: lib/includes/template-functions.php:17~~20~~ |
  |  | 3850 | #: lib/includes/template-functions.php:1718 |
  | 3851 | 3851 | msgid "Price: High to Low" |
  | 3852 | 3852 | msgstr "" |
  | 3853 | 3853 |  |
  | 3854 |  | #: lib/includes/template-functions.php:172~~8~~ |
  |  | 3854 | #: lib/includes/template-functions.php:1726 |
  | 3855 | 3855 | msgid "Price: Low to High" |
  | 3856 | 3856 | msgstr "" |
  | 3857 | 3857 |  |
  | 3858 |  | #: lib/includes/template-functions.php:173~~7~~ |
  |  | 3858 | #: lib/includes/template-functions.php:1735 |
  | 3859 | 3859 | msgid "Date: Newest First" |
  | 3860 | 3860 | msgstr "" |
  | 3861 | 3861 |  |
  | 3862 |  | #: lib/includes/template-functions.php:174~~5~~ |
  |  | 3862 | #: lib/includes/template-functions.php:1743 |
  | 3863 | 3863 | msgid "Date: Oldest First" |
  | 3864 | 3864 | msgstr "" |
  | 3865 | 3865 |  |
  | 3866 |  | #: lib/includes/template-functions.php:175~~2~~ |
  |  | 3866 | #: lib/includes/template-functions.php:1750 |
  | 3867 | 3867 | msgid "Status : Current First" |
  | 3868 | 3868 | msgstr "" |
  | 3869 | 3869 |  |
  | 3870 |  | #: lib/includes/template-functions.php:17~~61~~ |
  |  | 3870 | #: lib/includes/template-functions.php:1759 |
  | 3871 | 3871 | msgid "Status : Sold/Leased First" |
  | 3872 | 3872 | msgstr "" |
  | 3873 | 3873 |  |
  | 3874 |  | #: lib/includes/template-functions.php:17~~70~~ |
  |  | 3874 | #: lib/includes/template-functions.php:1768 |
  | 3875 | 3875 | msgid " A-Z" |
  | 3876 | 3876 | msgstr "" |
  | 3877 | 3877 |  |
  | 3878 |  | #: lib/includes/template-functions.php:177~~9~~ |
  |  | 3878 | #: lib/includes/template-functions.php:1777 |
  | 3879 | 3879 | msgid " Z-A" |
  | 3880 | 3880 | msgstr "" |
  | 3881 | 3881 |  |
  |  | 3882 | #: lib/includes/template-functions.php:1936 |
  |  | 3883 | msgid "Sort Listings" |
  |  | 3884 | msgstr "" |
  |  | 3885 |  |
  | 3882 | 3886 | #: lib/includes/template-functions.php:1938 |
  | 3883 |  | ~~msgid "Sort Listings"~~ |
  | 3884 |  | ~~msgstr ""~~ |
  | 3885 |  |  |
  | 3886 |  | ~~#: lib/includes/template-functions.php:1940~~ |
  | 3887 | 3887 | msgid "Sort" |
  | 3888 | 3888 | msgstr "" |
  | 3889 | 3889 |  |
  |  | 3890 | #: lib/includes/template-functions.php:2099 |
  |  | 3891 | msgid "About" |
  |  | 3892 | msgstr "" |
  |  | 3893 |  |
  |  | 3894 | #: lib/includes/template-functions.php:2100 |
  |  | 3895 | msgid "Bio" |
  |  | 3896 | msgstr "" |
  |  | 3897 |  |
  | 3890 | 3898 | #: lib/includes/template-functions.php:2101 |
  | 3891 |  | ~~msgid "About"~~ |
  | 3892 |  | ~~msgstr ""~~ |
  | 3893 |  |  |
  | 3894 |  | ~~#: lib/includes/template-functions.php:2102~~ |
  | 3895 |  | ~~msgid "Bio"~~ |
  | 3896 |  | ~~msgstr ""~~ |
  | 3897 |  |  |
  | 3898 |  | ~~#: lib/includes/template-functions.php:2103~~ |
  | 3899 | 3899 | msgid "Video" |
  | 3900 | 3900 | msgstr "" |
  | 3901 | 3901 |  |
  | 3902 |  | #: lib/includes/template-functions.php:299~~1~~ |
  |  | 3902 | #: lib/includes/template-functions.php:2992 |
  | 3903 | 3903 | msgid "There is no excerpt because this is a protected post." |
  | 3904 | 3904 | msgstr "" |
  | 3905 | 3905 |  |
  | 3906 |  | #: lib/includes/template-functions.php:320~~8~~ |
  |  | 3906 | #: lib/includes/template-functions.php:3209 |
  | 3907 | 3907 | #. Translators: term name. |
  | 3908 | 3908 | msgid "Property in %s" |
  | 3909 | 3909 | msgstr "" |
  | 3910 | 3910 |  |
  | 3911 |  | #: lib/includes/template-functions.php:321~~0~~ |
  |  | 3911 | #: lib/includes/template-functions.php:3211 |
  | 3912 | 3912 | msgid "Search Result" |
  | 3913 | 3913 | msgstr "" |
  | 3914 | 3914 |  |
  | 3915 |  | #: lib/includes/template-functions.php:329~~2~~ |
  |  | 3915 | #: lib/includes/template-functions.php:3293 |
  | 3916 | 3916 | #. Translators: title, page number. |
  | 3917 | 3917 | msgid "Nothing found, please check back later." |
  | 3918 | 3918 | msgstr "" |
  | 3919 | 3919 |  |
  | 3920 |  | #: lib/includes/template-functions.php:329~~5~~ |
  |  | 3920 | #: lib/includes/template-functions.php:3296 |
  | 3921 | 3921 | msgid "Nothing currently scheduled for inspection, please check back later." |
  | 3922 | 3922 | msgstr "" |
  | 3923 | 3923 |  |
  | 3924 |  | #: lib/includes/template-functions.php:331~~2~~ |
  |  | 3924 | #: lib/includes/template-functions.php:3313 |
  | 3925 | 3925 | msgid "Listing not Found" |
  | 3926 | 3926 | msgstr "" |
  | 3927 | 3927 |  |
  | 3928 |  | #: lib/includes/template-functions.php:331~~3~~ |
  |  | 3928 | #: lib/includes/template-functions.php:3314 |
  | 3929 | 3929 | msgid "Listing not found, expand your search criteria and try again." |
  | 3930 | 3930 | msgstr "" |
  | 3931 | 3931 |  |
  | 3932 |  | #: lib/includes/template-functions.php:340~~3~~ |
  |  | 3932 | #: lib/includes/template-functions.php:3404 |
  | 3933 | 3933 | msgid "Form submitted successfully" |
  | 3934 | 3934 | msgstr "" |
  | 3935 | 3935 |  |
  | 3936 |  | #: lib/includes/template-functions.php:340~~8~~ |
  |  | 3936 | #: lib/includes/template-functions.php:3409 |
  | 3937 | 3937 | msgid "Some issues with form submitted" |
  | 3938 | 3938 | msgstr "" |
  | 3939 | 3939 |  |
  | 3940 |  | #: lib/includes/template-functions.php:342~~7~~ |
  |  | 3940 | #: lib/includes/template-functions.php:3428 |
  | 3941 | 3941 | msgid "Email is required" |
  | 3942 | 3942 | msgstr "" |
  | 3943 | 3943 |  |
  | 3944 |  | #: lib/includes/template-functions.php:368~~5~~ |
  |  | 3944 | #: lib/includes/template-functions.php:3686 |
  | 3945 | 3945 | msgid "For Sale & Lease" |
  | 3946 | 3946 | msgstr "" |
  | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3034371#L5034) | […](/browser/easy-property-listings/trunk/languages/easy-property-listings.pot?rev=3055030#L5034) |  |
  | 5034 | 5034 | msgstr "" |
  | 5035 | 5035 |  |
  | 5036 |  | #: lib/post-types/post-types.php:57~~4~~ |
  |  | 5036 | #: lib/post-types/post-types.php:573 |
  | 5037 | 5037 | msgid "No price set" |
  | 5038 | 5038 | msgstr "" |
  | 5039 | 5039 |  |
  | 5040 |  | #: lib/post-types/post-types.php:59~~3~~ |
  |  | 5040 | #: lib/post-types/post-types.php:592 |
  | 5041 | 5041 | msgid "Lease End:" |
  | 5042 | 5042 | msgstr "" |
* ## [easy-property-listings/tags/3.5.3/lib/assets/assets.php](/changeset/3055030/easy-property-listings/trunk/lib/assets/assets.php?old=3034371&old_path=easy-property-listings%2Ftrunk%2Flib%2Fassets%2Fassets.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/assets/assets.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/assets/assets.php?rev=3034371#L115 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/assets/assets.php?rev=3055030#L115 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 115 | 115 | \* @since 3.5.1  Tweak: Google Maps Prefixed to: epl-google-map-v-3 |
  | 116 | 116 | \* @since 3.5.2  New: Google Maps load asynchoronously. |
  |  | 117 | \* @since 3.5.3  Ajax nonce in JS vars. |
  | 117 | 118 | \*/ |
  | 118 | 119 | function epl\_wp\_enqueue\_scripts() { |
  | […](/browser/easy-property-listings/trunk/lib/assets/assets.php?rev=3034371#L178) | […](/browser/easy-property-listings/trunk/lib/assets/assets.php?rev=3055030#L179) |  |
  | 178 | 179 |  |
  | 179 | 180 | $js\_vars = array( |
  |  | 181 | 'ajax\_nonce'            => wp\_create\_nonce( 'epl\_ajax\_nonce' ), |
  | 180 | 182 | 'site\_url'              => esc\_url( home\_url( '/' ) ), |
  | 181 | 183 | 'epl\_default\_view\_type' => $epl\_default\_view\_type, |
* ## [easy-property-listings/tags/3.5.3/lib/assets/js/jquery-front-scripts.js](/changeset/3055030/easy-property-listings/trunk/lib/assets/js/jquery-front-scripts.js?old=2991552&old_path=easy-property-listings%2Ftrunk%2Flib%2Fassets%2Fjs%2Fjquery-front-scripts.js "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/assets/js/jquery-front-scripts.js")

  | [r3056209](/browser/easy-property-listings/trunk/lib/assets/js/jquery-front-scripts.js?rev=2991552#L231 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/assets/js/jquery-front-scripts.js?rev=3055030#L231 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 231 | 231 | url: epl\_frontend\_vars.ajaxurl, |
  | 232 | 232 | data: { |
  |  | 233 | '\_epl\_nonce': epl\_admin\_vars.ajax\_nonce, |
  | 233 | 234 | action: "epl\_update\_listing\_coordinates", |
  | 234 | 235 | coordinates: results[0].geometry.location.toString(), |
  | […](/browser/easy-property-listings/trunk/lib/assets/js/jquery-front-scripts.js?rev=2991552#L514) | […](/browser/easy-property-listings/trunk/lib/assets/js/jquery-front-scripts.js?rev=3055030#L515) |  |
  | 514 | 515 | \_this\_el.find( ".label\_" + key ).html( value.label + '<span class="epl-lf-label-txt"> ' + value.prefix + (defaultValues[ 0 ]).formatMoney( 0 ) + value.suffix + value.separator + value.prefix + (defaultValues[ 1 ]).formatMoney( 0 ) + value.suffix + '</span>' ); |
  | 515 | 516 |  |
  | 516 |  | let label\_0 = (defaultValues[ 0 ]).formatMoney( 0 ) + value.suffix; |
  | 517 |  | let label\_1 = (defaultValues[ 1 ]).formatMoney( 0 ) + value.suffix; |
  |  | 517 | let label\_0 = value.prefix + (defaultValues[ 0 ]).formatMoney( 0 ) + value.suffix; |
  |  | 518 | let label\_1 = value.prefix + (defaultValues[ 1 ]).formatMoney( 0 ) + value.suffix; |
  | 518 | 519 |  |
  | 519 | 520 | \_this\_el.find( ".label\_" + key ).html( value.label + epl\_frontend\_vars.range\_html.replace( '{range\_start}', label\_0 ).replace( '{range\_sep}', value.separator ).replace( '{range\_end}', label\_1 ) ); |
* ## [easy-property-listings/tags/3.5.3/lib/assets/js/jquery-front-scripts.min.js](/changeset/3055030/easy-property-listings/trunk/lib/assets/js/jquery-front-scripts.min.js?old=2991552&old_path=easy-property-listings%2Ftrunk%2Flib%2Fassets%2Fjs%2Fjquery-front-scripts.min.js "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/assets/js/jquery-front-scripts.min.js")

  | [r3056209](/browser/easy-property-listings/trunk/lib/assets/js/jquery-front-scripts.min.js?rev=2991552#L1 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/assets/js/jquery-front-scripts.min.js?rev=3055030#L1 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | function eplGetCookie(e){return EPL\_Front\_Js.get\_cookie(e)}jQuery(document).ready(function(u){Number.prototype.formatMoney=function(e,t,a){var r,e=isNaN(e=Math.abs(e))?2:e,t=null==t?epl\_frontend\_vars.decimal\_sep:t,a=null==a?epl\_frontend\_vars.thousand\_sep:a,~~s=this<0?"-":"",n=parseInt(r=Math.abs(+this||0).toFixed(e))+"",l=3<(l=n.length)?l%3:0;return s+(l?n.substr(0,l)+a:"")+n.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?t+Math.abs(r-n).toFixed(e).slice(2):"")},EPL\_Front\_Js={init:function(){this.sort\_listings(),this.author\_tabs(),this.default\_map(),this.switch\_view(),this.set\_default\_view(),this.listing\_search\_tabs(),this.field\_sliders(),this.epl\_search(),this.contact\_form\_submit()},property\_search:function(){var t;1==u("#property\_id").length&&(t=null,u("#property\_id").keyup(function(){if(""==u("#property\_id").val())return u(".epl-property-suggestion").fadeOut(),!1;null!=t&&clearTimeout(t);var e=u(this).val();data={action:"epl\_search\_listing",s:e},t=setTimeout(function(){t=null,u.ajax({type:"POST",data:data,url:ajaxurl,success:function(e){1==u(".epl-property-suggestion").length?u(".epl-property-suggestion").replaceWith(e):u("#property\_id").after(e),u(".epl-property-suggestion").fadeIn()}})},300)}),u(document.body).on("click",".epl-property-suggestion li",function(e){u("#property\_id").val(u(this).data("id")),u(".epl-property-suggestion").fadeOut().remove()}))},sort\_listings:function(){jQuery(".epl-sort-listings").on("change",function(){var e=jQuery(this).val(),t=jQuery(this).data("instance-id"),a=window.location.href,a=EPL\_Front\_Js.update\_url\_param(a,"sortby",e);""!=t&&(a=EPL\_Front\_Js.update\_url\_param(a,"instance\_id",t)),window.location.replace(a)})},get\_cookie:function(e){for(var t,a,r=document.cookie.split(";"),s=0;s<r.length;s++)if(t=r[s].substr(0,r[s].indexOf("=")),a=r[s].substr(r[s].indexOf("=")+1),(t=t.replace(/^\s+|\s+$/g,""))==e)return unescape(a)},update\_url\_param:function(e,t,a){var r=e.indexOf("#"),s=-1===r?"":e.substr(r),r=(e=-1===r?e:e.substr(0,r),new RegExp("([?&])"+t+"=.\*?(&|$)","i")),n=-1!==e.indexOf("?")?"&":"?";return(e=e.match(r)?e.replace(r,"$1"+t+"="+a+"$2"):e+n+t+"="+a)+s},author\_tabs:function(){jQuery("ul.epl-author-tabs li").click(function(){var e=jQuery(this).closest(".epl-author-box-container").attr("id"),t=jQuery(this).attr("data-tab");jQuery("#"+e+" ul.epl-author-tabs li").removeClass("epl-author-current"),jQuery("#"+e+" .epl-author-tab-content").removeClass("epl-author-current"),jQuery(this).addClass("epl-author-current"),jQuery("#"+e+" #"+t).addClass("epl-author-current")})},default\_map:function(){"object"==typeof google&&"object"==typeof google.maps&&u(".epl-map-shortcode").each(function(){var r,s,n,l,e=u(this),t=e.data("cord"),a=e.data("address"),i=e.data("zoom"),o=e.data("id"),p=e.data("suburb\_mode");""!=t?(t=t.split(","),new google.maps.Geocoder,t={center:eplmapcord=new google.maps.LatLng(t[0],t[1]),zoom:i},t=new google.maps.Map(e[0],t),new google.maps.Marker({map:t,position:eplmapcord,icon:epl\_frontend\_vars.image\_base+"default.png"})):""!=a&&(t=a,r=p,s=o,n=e,l=i,(eplgeocoder=new google.maps.Geocoder).geocode({address:t},function(e,t){var a;t==google.maps.GeocoderStatus.OK&&(t={center:e[0].geometry.location,zoom:l},t=new google.maps.Map(n[0],t),a="default.png",1!=r?0<s&&u.ajax({type:"POST",url:epl\_frontend\_vars.ajaxurl,data:{action:"epl\_update\_listing\_coordinates",coordinates:e[0].geometry.location.toString(),listid:s}}).done(function(e){}):a="suburb.png",new google.maps.Marker({map:t,position:e[0].geometry.location,icon:epl\_frontend\_vars.image\_base+a}))}))})},set\_default\_view:function(){var e;void 0!==eplGetCookie("preferredView")?(e=this.get\_cookie("preferredView"),jQuery('.epl-switch-view ul li[data-view="'+e+'"]').trigger("click")):"grid"==epl\_frontend\_vars.epl\_default\_view\_type&&jQuery('.epl-switch-view ul li[data-view="grid"]').trigger("click")},switch\_view:function(){jQuery(".epl-switch-view ul li").click(function(){var e=jQuery(this).data("view");u.ajax({type:"POST",url:epl\_frontend\_vars.ajaxurl,data:{action:"epl\_update\_default\_view",view:e}}).done(function(e){}),"undefined"==typeof listingsMasonEnabled&&(jQuery(".epl-switch-view ul li").removeClass("epl-current-view"),jQuery(this).addClass("epl-current-view"),"grid"==e?(jQuery(".epl-property-blog").addClass("epl-listing-grid-view"),jQuery(".epl-listing-grid-view.epl-property-blog").each(function(e){0})):jQuery(".epl-property-blog").removeClass("epl-listing-grid-view"))})},listing\_search\_tabs:function(){u(".epl-search-tabs").each(function(){new r(u(this))});var e=u.getUrlVar("instance\_id");let t=u.getUrlVar("form\_tab"),a=u('.epl-search-container[data-instance-id="'+e+'"]');a.length&&a.find('li[data-tab="epl\_ps\_tab\_'+t+'"]').length&&setTimeout(()=>{console.log('tab switched li[data-tab="epl\_ps\_tab\_'+t+'"]'),a.find('li[data-tab="epl\_ps\_tab\_'+t+'"]').trigger("click")},200)},get\_url\_vars:function(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),r=0;r<a.length;r++)e=a[r].split("="),t.push(e[0]),t[e[0]]=e[1];return t},get\_url\_var:function(e){return this.get\_url\_vars()[e]},field\_sliders:function(){var e=u(".epl-search-form"),t=epl\_frontend\_vars.field\_sliders;e.each(function(e){var c=u(this);u.each(t,function(n,l){var r,i,o,t,p,e,a;elExists=!0,u.each(l.els,function(e,t){u("."+t).length?u("."+t).closest(".epl-search-row").hide():elExists=!1}),elExists&&(l.els.length<2?(t=isNaN(Number(u("."+l.els[0]).data("min")))?l.min:Number(u("."+l.els[0]).data("min")),p=isNaN(Number(u("."+l.els[0]).data("max")))?l.max:Number(u("."+l.els[0]).data("max")),o=t,void 0!==(e=u.getUrlVar(l.els[0]))&&(o=parseInt(e)),u("."+l.els[0]).closest(".epl-search-row").after('<div class="epl-lf-range-slider epl-search-row epl-search-row-select fm-block epl-search-row-full "><label class="epl-search-label fm-label label\_'+n+'" for="'+n+'">'+l.label+'</label><div class="field"><div class="'+n+'"></div></div></div>'),u("."+n).each(function(e){var a=u(this).closest(".epl-lf-range-slider");u(this).slider({min:t,max:p,range:"min",animate:!0,value:o,slide:function(e,t){u("."+l.els[0]).append(new Option(t.value.formatMoney(0),t.value)),u("."+l.els[0]).val(t.value).change(),a.find(".label\_"+n).html(l.label+epl\_frontend\_vars.range\_html.replace("{range\_start}",l.prefix+t.value.formatMoney(0)+l.suffix).replace("{range\_sep}","").replace("{range\_end}",""))},stop:function(e,t){},create:function(e,t){a.find(".label\_"+n).html(l.label+epl\_frontend\_vars.range\_html.replace("{range\_start}",l.prefix+o.formatMoney(0)+l.suffix).replace("{range\_sep}","").replace("{range\_end}",""))}})})):(r=c.find("."+l.els[0]),i=c.find("."+l.els[1]),i.find("option").each(function(){u(this).attr("value"),u(this).text()}),o=[r.data("min"),r.data("max")],t=isNaN(Number(r.data("min")))?l.min:Number(r.data("min")),p=isNaN(Number(i.data("max")))?l.max:Number(i.data("max")),e=u.getUrlVar(l.els[0]),a=u.getUrlVar(l.els[1]),void 0!==e&&""!=e&&(e=parseInt(e)),void 0!==a&&""!=a&&(a=parseInt(a)),(void 0!==e&&""!=e||void 0!==a&&""!=a)&&(o=[e,a]),r.closest(".epl-search-row").after('<div class="epl-lf-range-slider epl-search-row epl-search-row-select fm-block epl-search-row-full "><label class="epl-search-label fm-label label\_'+n+'" for="'+n+'">'+l.label+'</label><div class="field"><div class="'+n+'"></div></div></div>'),c.find("."+n).each(function(e){var s=u(this).closest(".epl-lf-range-slider");u(this).slider({range:!0,step:0<c.find("."+l.els[1]).has("option").length?Number(c.find("."+l.els[1]+" option:eq(2)").val())-Number(c.find("."+l.els[1]+" option:eq(1)").val()):l.step,min:t,max:p,animate:!0,values:o,slide:function(e,t){r.append(new Option(t.values[0].formatMoney(0),t.values[0])),r.append(new Option(t.values[1].formatMoney(0),t.values[1])),i.append(new Option(t.values[0].formatMoney(0),t.values[0])),i.append(new Option(t.values[1].formatMoney(0),t.values[1])),r.val(t.values[0]).change(),i.val(t.values[1]).change();var a=l.prefix+t.values[0].formatMoney(0)+l.suffix,t=l.prefix+t.values[1].formatMoney(0)+l.suffix;s.find(".label\_"+n).html(l.label+epl\_frontend\_vars.range\_html.replace("{range\_start}",a).replace("{range\_sep}",l.separator).replace("{range\_end}",t))},stop:function(e,t){},create:function(e,t){s.find(".label\_"+n).html(l.label+'<span class="epl-lf-label-txt"> '+l.prefix+o[0].formatMoney(0)+l.suffix+l.separator+l.prefix+o[1].formatMoney(0)+l.suffix+"</span>");var a=o[0].formatMoney(0)+l.suffix,r=o[1].formatMoney(0)+l.suffix;s.find(".label\_"+n~~).html(l.label+epl\_frontend\_vars.range\_html.replace("{range\_start}",a).replace("{range\_sep}",l.separator).replace("{range\_end}",r))}})})))})})},epl\_search:function(){u(".epl-search-form form").on("submit",function(e){e.preventDefault();var t,a=u(this).serialize().split("&"),r=[];for(t in a)"string"==typeof a[t]&&a[t].split("=")[1]&&r.push(a[t]);e=r.join("&"),e=epl\_frontend\_vars.site\_url+"?"+e;location.href=e})},contact\_form\_submit:function(){u(".epl-contact-capture-form form").on("submit",function(e){var t=u(this),e=(e.preventDefault(),u(this).serializeArray());e.push({name:"action",value:"epl\_contact\_capture\_action"}),u.ajax({type:"POST",url:epl\_frontend\_vars.ajaxurl,data:e,dataType:"json"}).done(function(e){u(".epl-contact-widget-msgs").remove(),t.after('<div class="epl-contact-widget-msgs epl-contact-widget-msg-'+e.status+'">'+e.msg+"</div>"),"success"==e.status&&t.trigger("reset")})})}};class r{constructor(e){this.$tabContainer=e,this.$tabLinks=this.$tabContainer.find("li.tab-link"),this.$tabContents=this.$tabContainer.parent().find(".epl-search-form"),this.setupListeners()}setupListeners(){this.$tabLinks.on("click",e=>{this.switchTab(u(e.currentTarget))})}switchTab(e){var t=e.attr("data-tab");this.$tabLinks.removeClass("epl-sb-current"),this.$tabContents.removeClass("epl-sb-current"),e.addClass("epl-sb-current"),u("#"+t).addClass("epl-sb-current"),this.$tabLinks.trigger("after\_tab\_switch",{content:u("#"+t),tab\_id:t})}}EPL\_Front\_Js.init()}),jQuery.extend({getUrlVars:function(){return EPL\_Front\_Js.get\_url\_vars()},getUrlVar:function(e){return EPL\_Front\_Js.get\_url\_var(e)}}); |
  |  | 1 | function eplGetCookie(e){return EPL\_Front\_Js.get\_cookie(e)}jQuery(document).ready(function(u){Number.prototype.formatMoney=function(e,t,a){var r,e=isNaN(e=Math.abs(e))?2:e,t=null==t?epl\_frontend\_vars.decimal\_sep:t,a=null==a?epl\_frontend\_vars.thousand\_sep:a,n=this<0?"-":"",s=parseInt(r=Math.abs(+this||0).toFixed(e))+"",l=3<(l=s.length)?l%3:0;return n+(l?s.substr(0,l)+a:"")+s.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?t+Math.abs(r-s).toFixed(e).slice(2):"")},EPL\_Front\_Js={init:function(){this.sort\_listings(),this.author\_tabs(),this.default\_map(),this.switch\_view(),this.set\_default\_view(),this.listing\_search\_tabs(),this.field\_sliders(),this.epl\_search(),this.contact\_form\_submit()},property\_search:function(){var t;1==u("#property\_id").length&&(t=null,u("#property\_id").keyup(function(){if(""==u("#property\_id").val())return u(".epl-property-suggestion").fadeOut(),!1;null!=t&&clearTimeout(t);var e=u(this).val();data={action:"epl\_search\_listing",s:e},t=setTimeout(function(){t=null,u.ajax({type:"POST",data:data,url:ajaxurl,success:function(e){1==u(".epl-property-suggestion").length?u(".epl-property-suggestion").replaceWith(e):u("#property\_id").after(e),u(".epl-property-suggestion").fadeIn()}})},300)}),u(document.body).on("click",".epl-property-suggestion li",function(e){u("#property\_id").val(u(this).data("id")),u(".epl-property-suggestion").fadeOut().remove()}))},sort\_listings:function(){jQuery(".epl-sort-listings").on("change",function(){var e=jQuery(this).val(),t=jQuery(this).data("instance-id"),a=window.location.href,a=EPL\_Front\_Js.update\_url\_param(a,"sortby",e);""!=t&&(a=EPL\_Front\_Js.update\_url\_param(a,"instance\_id",t)),window.location.replace(a)})},get\_cookie:function(e){for(var t,a,r=document.cookie.split(";"),n=0;n<r.length;n++)if(t=r[n].substr(0,r[n].indexOf("=")),a=r[n].substr(r[n].indexOf("=")+1),(t=t.replace(/^\s+|\s+$/g,""))==e)return unescape(a)},update\_url\_param:function(e,t,a){var r=e.indexOf("#"),n=-1===r?"":e.substr(r),r=(e=-1===r?e:e.substr(0,r),new RegExp("([?&])"+t+"=.\*?(&|$)","i")),s=-1!==e.indexOf("?")?"&":"?";return(e=e.match(r)?e.replace(r,"$1"+t+"="+a+"$2"):e+s+t+"="+a)+n},author\_tabs:function(){jQuery("ul.epl-author-tabs li").click(function(){var e=jQuery(this).closest(".epl-author-box-container").attr("id"),t=jQuery(this).attr("data-tab");jQuery("#"+e+" ul.epl-author-tabs li").removeClass("epl-author-current"),jQuery("#"+e+" .epl-author-tab-content").removeClass("epl-author-current"),jQuery(this).addClass("epl-author-current"),jQuery("#"+e+" #"+t).addClass("epl-author-current")})},default\_map:function(){"object"==typeof google&&"object"==typeof google.maps&&u(".epl-map-shortcode").each(function(){var r,n,s,l,e=u(this),t=e.data("cord"),a=e.data("address"),i=e.data("zoom"),o=e.data("id"),p=e.data("suburb\_mode");""!=t?(t=t.split(","),new google.maps.Geocoder,t={center:eplmapcord=new google.maps.LatLng(t[0],t[1]),zoom:i},t=new google.maps.Map(e[0],t),new google.maps.Marker({map:t,position:eplmapcord,icon:epl\_frontend\_vars.image\_base+"default.png"})):""!=a&&(t=a,r=p,n=o,s=e,l=i,(eplgeocoder=new google.maps.Geocoder).geocode({address:t},function(e,t){var a;t==google.maps.GeocoderStatus.OK&&(t={center:e[0].geometry.location,zoom:l},t=new google.maps.Map(s[0],t),a="default.png",1!=r?0<n&&u.ajax({type:"POST",url:epl\_frontend\_vars.ajaxurl,data:{\_epl\_nonce:epl\_admin\_vars.ajax\_nonce,action:"epl\_update\_listing\_coordinates",coordinates:e[0].geometry.location.toString(),listid:n}}).done(function(e){}):a="suburb.png",new google.maps.Marker({map:t,position:e[0].geometry.location,icon:epl\_frontend\_vars.image\_base+a}))}))})},set\_default\_view:function(){var e;void 0!==eplGetCookie("preferredView")?(e=this.get\_cookie("preferredView"),jQuery('.epl-switch-view ul li[data-view="'+e+'"]').trigger("click")):"grid"==epl\_frontend\_vars.epl\_default\_view\_type&&jQuery('.epl-switch-view ul li[data-view="grid"]').trigger("click")},switch\_view:function(){jQuery(".epl-switch-view ul li").click(function(){var e=jQuery(this).data("view");u.ajax({type:"POST",url:epl\_frontend\_vars.ajaxurl,data:{action:"epl\_update\_default\_view",view:e}}).done(function(e){}),"undefined"==typeof listingsMasonEnabled&&(jQuery(".epl-switch-view ul li").removeClass("epl-current-view"),jQuery(this).addClass("epl-current-view"),"grid"==e?(jQuery(".epl-property-blog").addClass("epl-listing-grid-view"),jQuery(".epl-listing-grid-view.epl-property-blog").each(function(e){0})):jQuery(".epl-property-blog").removeClass("epl-listing-grid-view"))})},listing\_search\_tabs:function(){u(".epl-search-tabs").each(function(){new r(u(this))});var e=u.getUrlVar("instance\_id");let t=u.getUrlVar("form\_tab"),a=u('.epl-search-container[data-instance-id="'+e+'"]');a.length&&a.find('li[data-tab="epl\_ps\_tab\_'+t+'"]').length&&setTimeout(()=>{console.log('tab switched li[data-tab="epl\_ps\_tab\_'+t+'"]'),a.find('li[data-tab="epl\_ps\_tab\_'+t+'"]').trigger("click")},200)},get\_url\_vars:function(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),r=0;r<a.length;r++)e=a[r].split("="),t.push(e[0]),t[e[0]]=e[1];return t},get\_url\_var:function(e){return this.get\_url\_vars()[e]},field\_sliders:function(){var e=u(".epl-search-form"),t=epl\_frontend\_vars.field\_sliders;e.each(function(e){var c=u(this);u.each(t,function(s,l){var r,i,o,t,p,e,a;elExists=!0,u.each(l.els,function(e,t){u("."+t).length?u("."+t).closest(".epl-search-row").hide():elExists=!1}),elExists&&(l.els.length<2?(t=isNaN(Number(u("."+l.els[0]).data("min")))?l.min:Number(u("."+l.els[0]).data("min")),p=isNaN(Number(u("."+l.els[0]).data("max")))?l.max:Number(u("."+l.els[0]).data("max")),o=t,void 0!==(e=u.getUrlVar(l.els[0]))&&(o=parseInt(e)),u("."+l.els[0]).closest(".epl-search-row").after('<div class="epl-lf-range-slider epl-search-row epl-search-row-select fm-block epl-search-row-full "><label class="epl-search-label fm-label label\_'+s+'" for="'+s+'">'+l.label+'</label><div class="field"><div class="'+s+'"></div></div></div>'),u("."+s).each(function(e){var a=u(this).closest(".epl-lf-range-slider");u(this).slider({min:t,max:p,range:"min",animate:!0,value:o,slide:function(e,t){u("."+l.els[0]).append(new Option(t.value.formatMoney(0),t.value)),u("."+l.els[0]).val(t.value).change(),a.find(".label\_"+s).html(l.label+epl\_frontend\_vars.range\_html.replace("{range\_start}",l.prefix+t.value.formatMoney(0)+l.suffix).replace("{range\_sep}","").replace("{range\_end}",""))},stop:function(e,t){},create:function(e,t){a.find(".label\_"+s).html(l.label+epl\_frontend\_vars.range\_html.replace("{range\_start}",l.prefix+o.formatMoney(0)+l.suffix).replace("{range\_sep}","").replace("{range\_end}",""))}})})):(r=c.find("."+l.els[0]),i=c.find("."+l.els[1]),i.find("option").each(function(){u(this).attr("value"),u(this).text()}),o=[r.data("min"),r.data("max")],t=isNaN(Number(r.data("min")))?l.min:Number(r.data("min")),p=isNaN(Number(i.data("max")))?l.max:Number(i.data("max")),e=u.getUrlVar(l.els[0]),a=u.getUrlVar(l.els[1]),void 0!==e&&""!=e&&(e=parseInt(e)),void 0!==a&&""!=a&&(a=parseInt(a)),(void 0!==e&&""!=e||void 0!==a&&""!=a)&&(o=[e,a]),r.closest(".epl-search-row").after('<div class="epl-lf-range-slider epl-search-row epl-search-row-select fm-block epl-search-row-full "><label class="epl-search-label fm-label label\_'+s+'" for="'+s+'">'+l.label+'</label><div class="field"><div class="'+s+'"></div></div></div>'),c.find("."+s).each(function(e){var n=u(this).closest(".epl-lf-range-slider");u(this).slider({range:!0,step:0<c.find("."+l.els[1]).has("option").length?Number(c.find("."+l.els[1]+" option:eq(2)").val())-Number(c.find("."+l.els[1]+" option:eq(1)").val()):l.step,min:t,max:p,animate:!0,values:o,slide:function(e,t){r.append(new Option(t.values[0].formatMoney(0),t.values[0])),r.append(new Option(t.values[1].formatMoney(0),t.values[1])),i.append(new Option(t.values[0].formatMoney(0),t.values[0])),i.append(new Option(t.values[1].formatMoney(0),t.values[1])),r.val(t.values[0]).change(),i.val(t.values[1]).change();var a=l.prefix+t.values[0].formatMoney(0)+l.suffix,t=l.prefix+t.values[1].formatMoney(0)+l.suffix;n.find(".label\_"+s).html(l.label+epl\_frontend\_vars.range\_html.replace("{range\_start}",a).replace("{range\_sep}",l.separator).replace("{range\_end}",t))},stop:function(e,t){},create:function(e,t){n.find(".label\_"+s).html(l.label+'<span class="epl-lf-label-txt"> '+l.prefix+o[0].formatMoney(0)+l.suffix+l.separator+l.prefix+o[1].formatMoney(0)+l.suffix+"</span>");var a=l.prefix+o[0].formatMoney(0)+l.suffix,r=l.prefix+o[1].formatMoney(0)+l.suffix;n.find(".label\_"+s).html(l.label+epl\_frontend\_vars.range\_html.replace("{range\_start}",a).replace("{range\_sep}",l.separator).replace("{range\_end}",r))}})})))})})},epl\_search:function(){u(".epl-search-form form").on("submit",function(e){e.preventDefault();var t,a=u(this).serialize().split("&"),r=[];for(t in a)"string"==typeof a[t]&&a[t].split("=")[1]&&r.push(a[t]);e=r.join("&"),e=epl\_frontend\_vars.site\_url+"?"+e;location.href=e})},contact\_form\_submit:function(){u(".epl-contact-capture-form form").on("submit",function(e){var t=u(this),e=(e.preventDefault(),u(this).serializeArray());e.push({name:"action",value:"epl\_contact\_capture\_action"}),u.ajax({type:"POST",url:epl\_frontend\_vars.ajaxurl,data:e,dataType:"json"}).done(function(e){u(".epl-contact-widget-msgs").remove(),t.after('<div class="epl-contact-widget-msgs epl-contact-widget-msg-'+e.status+'">'+e.msg+"</div>"),"success"==e.status&&t.trigger("reset")})})}};class r{constructor(e){this.$tabContainer=e,this.$tabLinks=this.$tabContainer.find("li.tab-link"),this.$tabContents=this.$tabContainer.parent().find(".epl-search-form"),this.setupListeners()}setupListeners(){this.$tabLinks.on("click",e=>{this.switchTab(u(e.currentTarget))})}switchTab(e){var t=e.attr("data-tab");this.$tabLinks.removeClass("epl-sb-current"),this.$tabContents.removeClass("epl-sb-current"),e.addClass("epl-sb-current"),u("#"+t).addClass("epl-sb-current"),this.$tabLinks.trigger("after\_tab\_switch",{content:u("#"+t),tab\_id:t})}}EPL\_Front\_Js.init()}),jQuery.extend({getUrlVars:function(){return EPL\_Front\_Js.get\_url\_vars()},getUrlVar:function(e){return EPL\_Front\_Js.get\_url\_var(e)}}); |
* ## [easy-property-listings/tags/3.5.3/lib/includes/class-epl-license.php](/changeset/3055030/easy-property-listings/trunk/lib/includes/class-epl-license.php?old=2991552&old_path=easy-property-listings%2Ftrunk%2Flib%2Fincludes%2Fclass-epl-license.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/includes/class-epl-license.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/includes/class-epl-license.php?rev=2991552#L380 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/includes/class-epl-license.php?rev=3055030#L380 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 380 | 380 | \* |
  | 381 | 381 | \* @access  private |
  |  | 382 | \* |
  |  | 383 | \* @since 3.5.3 Update to return local timestamp. |
  |  | 384 | \* |
  | 382 | 385 | \* @return  void |
  | 383 | 386 | \*/ |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-license.php?rev=2991552#L398) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-license.php?rev=3055030#L401) |  |
  | 398 | 401 | $this->validate\_license(); |
  | 399 | 402 | } else { |
  | 400 |  | $current\_timestamp = ~~time~~(); |
  |  | 403 | $current\_timestamp = epl\_get\_local\_timestamp(); |
  | 401 | 404 | if ( $current\_timestamp < $timestamp ) { |
  | 402 | 405 | return; |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-license.php?rev=2991552#L671) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-license.php?rev=3055030#L674) |  |
  | 671 | 674 | } |
  | 672 | 675 |  |
  | 673 |  | endif; // ~~e~~nd class\_exists check. |
  |  | 676 | endif; // End class\_exists check. |
* ## [easy-property-listings/tags/3.5.3/lib/includes/class-epl-pagination-call.php](/changeset/3055030/easy-property-listings/trunk/lib/includes/class-epl-pagination-call.php?old=3029224&old_path=easy-property-listings%2Ftrunk%2Flib%2Fincludes%2Fclass-epl-pagination-call.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/includes/class-epl-pagination-call.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/includes/class-epl-pagination-call.php?rev=3029224#L18 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/includes/class-epl-pagination-call.php?rev=3055030#L18 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 | \* EPL\_Pagination\_Call Class |
  | 19 | 19 | \* |
  | 20 |  | \* @since 2.1 |
  | 21 |  | \* @since 3.4.0 Moved class to separate file. |
  |  | 20 | \* @since 3.5.3 Check for class |
  | 22 | 21 | \*/ |
  | 23 |  | class EPL\_Pagination\_Call { |
  |  | 22 | if ( ! class\_exists( 'EPL\_Pagination\_Call' ) ) : |
  |  | 23 | /\*\* |
  |  | 24 | \* EPL\_Pagination\_Call Class |
  |  | 25 | \* |
  |  | 26 | \* @since 2.1 |
  |  | 27 | \* @since 3.4.0 Moved class to separate file. |
  |  | 28 | \*/ |
  |  | 29 | class EPL\_Pagination\_Call { |
  | 24 | 30 |  |
  | 25 |  | /\*\* |
  | 26 |  | \* Arguments |
  | 27 |  | \* |
  | 28 |  | \* @var array |
  | 29 |  | \* @since  2.1 |
  | 30 |  | \*/ |
  | 31 |  | protected $args; |
  |  | 31 | /\*\* |
  |  | 32 | \* Arguments |
  |  | 33 | \* |
  |  | 34 | \* @var array |
  |  | 35 | \* @since  2.1 |
  |  | 36 | \*/ |
  |  | 37 | protected $args; |
  | 32 | 38 |  |
  | 33 |  | /\*\* |
  | 34 |  | \* Get things started |
  | 35 |  | \* |
  | 36 |  | \* @param array $args Array of arguments. |
  | 37 |  | \* @since  2.1 |
  | 38 |  | \*/ |
  | 39 |  | public function \_\_construct( $args ) { |
  | 40 |  | $this->args = $args; |
  | 41 |  | } |
  | 42 |  |  |
  | 43 |  | /\*\* |
  | 44 |  | \* Get the key |
  | 45 |  | \* |
  | 46 |  | \* @param array $key Key name. |
  | 47 |  | \* |
  | 48 |  | \* @return mixed |
  | 49 |  | \* @since  2.1 |
  | 50 |  | \*/ |
  | 51 |  | public function \_\_get( $key ) { |
  | 52 |  | return $this->args[ $key ]; |
  | 53 |  | } |
  | 54 |  |  |
  | 55 |  | /\*\* |
  | 56 |  | \* Get Pagination arguments |
  | 57 |  | \* |
  | 58 |  | \* @since  2.1 |
  | 59 |  | \*/ |
  | 60 |  | public function get\_pagination\_args() { |
  | 61 |  | global $numpages; |
  | 62 |  |  |
  | 63 |  | $query = $this->query; |
  | 64 |  |  |
  | 65 |  | switch ( $this->type ) { |
  | 66 |  | case 'multipart': |
  | 67 |  | // Multipart page. |
  | 68 |  | $posts\_per\_page = 1; |
  | 69 |  | $paged          = max( 1, absint( get\_query\_var( 'page' ) ) ); |
  | 70 |  | $total\_pages    = max( 1, $numpages ); |
  | 71 |  | break; |
  | 72 |  | case 'users': |
  | 73 |  | // WP\_User\_Query. |
  | 74 |  | $posts\_per\_page = $query->query\_vars['number']; |
  | 75 |  | $paged          = max( 1, floor( $query->query\_vars['offset'] / $posts\_per\_page ) + 1 ); |
  | 76 |  | $total\_pages    = max( 1, ceil( $query->total\_users / $posts\_per\_page ) ); |
  | 77 |  | break; |
  | 78 |  | default: |
  | 79 |  | // WP\_Query. |
  | 80 |  | $posts\_per\_page = intval( $query->get( 'posts\_per\_page' ) ); |
  | 81 |  | $paged          = max( 1, absint( $query->get( 'paged' ) ) ); |
  | 82 |  | $total\_pages    = max( 1, absint( $query->max\_num\_pages ) ); |
  | 83 |  | break; |
  |  | 39 | /\*\* |
  |  | 40 | \* Get things started |
  |  | 41 | \* |
  |  | 42 | \* @param array $args Array of arguments. |
  |  | 43 | \* @since  2.1 |
  |  | 44 | \*/ |
  |  | 45 | public function \_\_construct( $args ) { |
  |  | 46 | $this->args = $args; |
  | 84 | 47 | } |
  | 85 | 48 |  |
  | 86 |  | return array( $posts\_per\_page, $paged, $total\_pages ); |
  | 87 |  | } |
  | 88 |  |  |
  | 89 |  | /\*\* |
  | 90 |  | \* Get the single pagination |
  | 91 |  | \* |
  | 92 |  | \* @param string $page page id. |
  | 93 |  | \* @param string $raw\_text text content. |
  | 94 |  | \* @param array  $attr attributes of page. |
  | 95 |  | \* @param string $format format of single page. |
  | 96 |  | \* @param string $tag attributes of single page tag. |
  | 97 |  | \* |
  | 98 |  | \* @return string |
  | 99 |  | \* @since  2.1 |
  | 100 |  | \*/ |
  | 101 |  | public function get\_single( $page, $raw\_text, $attr, $format = '%PAGE\_NUMBER%', $tag = 'a' ) { |
  | 102 |  | if ( empty( $raw\_text ) ) { |
  | 103 |  | return ''; |
  |  | 49 | /\*\* |
  |  | 50 | \* Get the key |
  |  | 51 | \* |
  |  | 52 | \* @param string $key Key name. |
  |  | 53 | \* |
  |  | 54 | \* @return mixed |
  |  | 55 | \* @since  2.1 |
  |  | 56 | \*/ |
  |  | 57 | public function \_\_get( $key ) { |
  |  | 58 | return $this->args[ $key ]; |
  | 104 | 59 | } |
  | 105 | 60 |  |
  | 106 |  | $text = str\_replace( $format, number\_format\_i18n( $page ), $raw\_text ); |
  | 107 |  | $text = apply\_filters( 'epl\_pagination\_single\_content\_text', $text, $raw\_text ); |
  |  | 61 | /\*\* |
  |  | 62 | \* Get Pagination arguments |
  |  | 63 | \* |
  |  | 64 | \* @since  2.1 |
  |  | 65 | \*/ |
  |  | 66 | public function get\_pagination\_args() { |
  |  | 67 | global $numpages; |
  | 108 | 68 |  |
  | 109 |  | ~~$attr['href'] = $this->get\_url( $page )~~; |
  |  | 69 | $query = $this->query; |
  | 110 | 70 |  |
  | 111 |  | list( $posts\_per\_page, $paged, $total\_pages ) = $this->get\_pagination\_args(); |
  | 112 |  | $tag = apply\_filters( 'epl\_pagination\_single\_tag', $tag, $page, $paged ); |
  |  | 71 | switch ( $this->type ) { |
  |  | 72 | case 'multipart': |
  |  | 73 | // Multipart page. |
  |  | 74 | $posts\_per\_page = 1; |
  |  | 75 | $paged          = max( 1, absint( get\_query\_var( 'page' ) ) ); |
  |  | 76 | $total\_pages    = max( 1, $numpages ); |
  |  | 77 | break; |
  |  | 78 | case 'users': |
  |  | 79 | // WP\_User\_Query. |
  |  | 80 | $posts\_per\_page = $query->query\_vars['number']; |
  |  | 81 | $paged          = max( 1, floor( $query->query\_vars['offset'] / $posts\_per\_page ) + 1 ); |
  |  | 82 | $total\_pages    = max( 1, ceil( $query->total\_users / $posts\_per\_page ) ); |
  |  | 83 | break; |
  |  | 84 | default: |
  |  | 85 | // WP\_Query. |
  |  | 86 | $posts\_per\_page = intval( $query->get( 'posts\_per\_page' ) ); |
  |  | 87 | $paged          = max( 1, absint( $query->get( 'paged' ) ) ); |
  |  | 88 | $total\_pages    = max( 1, absint( $query->max\_num\_pages ) ); |
  |  | 89 | break; |
  |  | 90 | } |
  | 113 | 91 |  |
  | 114 |  | ~~return apply\_filters( 'epl\_pagination\_single', epl\_pagination\_html( $tag, $attr, $text ), $page, $paged, $total\_pages, $posts\_per\_page~~ ); |
  | 115 |  | } |
  |  | 92 | return array( $posts\_per\_page, $paged, $total\_pages ); |
  |  | 93 | } |
  | 116 | 94 |  |
  | 117 |  | /\*\* |
  | 118 |  | \* Outputting content of dot sigle elements. |
  | 119 |  | \* |
  | 120 |  | \* @since  2.3.1 |
  | 121 |  | \* @param  string $tag        tag of single dot. |
  | 122 |  | \* @param  string $content    content of single dot. |
  | 123 |  | \* @param  array  $attributes attributes of single dot tag. |
  | 124 |  | \* @return string |
  | 125 |  | \*/ |
  | 126 |  | public function get\_single\_dot( $tag = 'span', $content = '...', array $attributes = array() ) { |
  | 127 |  | $tag        = apply\_filters( 'epl\_pagination\_single\_dot\_tag', $tag ); |
  | 128 |  | $content    = apply\_filters( 'epl\_pagination\_single\_dot\_content', $content ); |
  | 129 |  | $attributes = apply\_filters( 'epl\_pagination\_single\_dot\_attributes', $attributes ); |
  |  | 95 | /\*\* |
  |  | 96 | \* Get the single pagination |
  |  | 97 | \* |
  |  | 98 | \* @param string $page page id. |
  |  | 99 | \* @param string $raw\_text text content. |
  |  | 100 | \* @param array  $attr attributes of page. |
  |  | 101 | \* @param string $format format of single page. |
  |  | 102 | \* @param string $tag attributes of single page tag. |
  |  | 103 | \* |
  |  | 104 | \* @return string |
  |  | 105 | \* @since  2.1 |
  |  | 106 | \*/ |
  |  | 107 | public function get\_single( $page, $raw\_text, $attr, $format = '%PAGE\_NUMBER%', $tag = 'a' ) { |
  |  | 108 | if ( empty( $raw\_text ) ) { |
  |  | 109 | return ''; |
  |  | 110 | } |
  | 130 | 111 |  |
  | 131 |  | $output = '<' . $tag; |
  | 132 |  | if ( is\_array( $attributes ) && count( $attributes ) ) { |
  | 133 |  | foreach ( $attributes as $key => $value ) { |
  | 134 |  | if ( ! empty( $key ) && ! empty( $value ) ) { |
  | 135 |  | $output .= ' ' . $key . '="' . $value . '"'; |
  |  | 112 | $text = str\_replace( $format, number\_format\_i18n( $page ), $raw\_text ); |
  |  | 113 | $text = apply\_filters( 'epl\_pagination\_single\_content\_text', $text, $raw\_text ); |
  |  | 114 |  |
  |  | 115 | $attr['href'] = $this->get\_url( $page ); |
  |  | 116 |  |
  |  | 117 | list( $posts\_per\_page, $paged, $total\_pages ) = $this->get\_pagination\_args(); |
  |  | 118 | $tag = apply\_filters( 'epl\_pagination\_single\_tag', $tag, $page, $paged ); |
  |  | 119 |  |
  |  | 120 | return apply\_filters( 'epl\_pagination\_single', epl\_pagination\_html( $tag, $attr, $text ), $page, $paged, $total\_pages, $posts\_per\_page ); |
  |  | 121 | } |
  |  | 122 |  |
  |  | 123 | /\*\* |
  |  | 124 | \* Outputting content of dot sigle elements. |
  |  | 125 | \* |
  |  | 126 | \* @since  2.3.1 |
  |  | 127 | \* @param  string $tag        tag of single dot. |
  |  | 128 | \* @param  string $content    content of single dot. |
  |  | 129 | \* @param  array  $attributes attributes of single dot tag. |
  |  | 130 | \* @return string |
  |  | 131 | \*/ |
  |  | 132 | public function get\_single\_dot( $tag = 'span', $content = '...', array $attributes = array() ) { |
  |  | 133 | $tag        = apply\_filters( 'epl\_pagination\_single\_dot\_tag', $tag ); |
  |  | 134 | $content    = apply\_filters( 'epl\_pagination\_single\_dot\_content', $content ); |
  |  | 135 | $attributes = apply\_filters( 'epl\_pagination\_single\_dot\_attributes', $attributes ); |
  |  | 136 |  |
  |  | 137 | $output = '<' . $tag; |
  |  | 138 | if ( is\_array( $attributes ) && count( $attributes ) ) { |
  |  | 139 | foreach ( $attributes as $key => $value ) { |
  |  | 140 | if ( ! empty( $key ) && ! empty( $value ) ) { |
  |  | 141 | $output .= ' ' . $key . '="' . $value . '"'; |
  |  | 142 | } |
  | 136 | 143 | } |
  | 137 | 144 | } |
  | 138 |  | } |
  | 139 |  | // Tag is self closed. |
  | 140 |  | if ( in\_array( $tag, array( 'area', 'base', 'basefont', 'br', 'hr', 'input', 'img', 'link', 'meta' ), true ) ) { |
  | 141 |  | $output .= ' />'; |
  | 142 |  | } else { |
  | 143 |  | // Tag is not self closed. |
  | 144 |  | $output .= '>' . $content . '</' . $tag . '>'; |
  |  | 145 | // Tag is self closed. |
  |  | 146 | if ( in\_array( $tag, array( 'area', 'base', 'basefont', 'br', 'hr', 'input', 'img', 'link', 'meta' ), true ) ) { |
  |  | 147 | $output .= ' />'; |
  |  | 148 | } else { |
  |  | 149 | // Tag is not self closed. |
  |  | 150 | $output .= '>' . $content . '</' . $tag . '>'; |
  |  | 151 | } |
  |  | 152 |  |
  |  | 153 | return apply\_filters( 'epl\_pagination\_single\_dot', $output ); |
  | 145 | 154 | } |
  | 146 | 155 |  |
  | 147 |  | return apply\_filters( 'epl\_pagination\_single\_dot', $output ); |
  |  | 156 | /\*\* |
  |  | 157 | \* Get url |
  |  | 158 | \* |
  |  | 159 | \* @param string $page Page number. |
  |  | 160 | \* |
  |  | 161 | \* @return string |
  |  | 162 | \* |
  |  | 163 | \* @since 2.1 |
  |  | 164 | \* @since 3.5.1 Fixed shortcode pagination when permalinks are plain. |
  |  | 165 | \* @since 3.5.3 Fixed sorting not working for pagination on shortcode. |
  |  | 166 | \*/ |
  |  | 167 | public function get\_url( $page ) { |
  |  | 168 | $link = ( 'multipart' === $this->type ) ? epl\_get\_multipage\_link( $page ) : get\_pagenum\_link( $page ); |
  |  | 169 |  |
  |  | 170 | if ( $this->query->get( 'is\_epl\_shortcode' ) && |
  |  | 171 | in\_array( $this->query->get( 'epl\_shortcode\_name' ), epl\_get\_shortcode\_list(), true ) ) { |
  |  | 172 | $permalink\_structure = get\_option( 'permalink\_structure' ); |
  |  | 173 |  |
  |  | 174 | if ( empty( $permalink\_structure ) ) { |
  |  | 175 | $link = epl\_add\_or\_update\_params( $link, 'paged', $page ); |
  |  | 176 | } |
  |  | 177 | $link = epl\_add\_or\_update\_params( $link, 'pagination\_id', $this->query->get( 'instance\_id' ) ); |
  |  | 178 | $link = epl\_add\_or\_update\_params( $link, 'instance\_id', $this->query->get( 'instance\_id' ) ); |
  |  | 179 | } |
  |  | 180 |  |
  |  | 181 | return $link; |
  |  | 182 | } |
  | 148 | 183 | } |
  | 149 |  |  |
  | 150 |  | /\*\* |
  | 151 |  | \* Get url |
  | 152 |  | \* |
  | 153 |  | \* @param string $page Page number. |
  | 154 |  | \* |
  | 155 |  | \* @return string |
  | 156 |  | \* |
  | 157 |  | \* @since 2.1 |
  | 158 |  | \* @since 3.5.1 Fixed shortcode pagination when permalinks are plain. |
  | 159 |  | \*/ |
  | 160 |  | public function get\_url( $page ) { |
  | 161 |  | $link = ( 'multipart' === $this->type ) ? get\_multipage\_link( $page ) : get\_pagenum\_link( $page ); |
  | 162 |  |  |
  | 163 |  | if ( $this->query->get( 'is\_epl\_shortcode' ) && |
  | 164 |  | in\_array( $this->query->get( 'epl\_shortcode\_name' ), epl\_get\_shortcode\_list(), true ) ) { |
  | 165 |  | $permalink\_structure = get\_option( 'permalink\_structure' ); |
  | 166 |  |  |
  | 167 |  | if ( empty( $permalink\_structure ) ) { |
  | 168 |  | $link = epl\_add\_or\_update\_params( $link, 'paged', $page ); |
  | 169 |  | } |
  | 170 |  | $link = epl\_add\_or\_update\_params( $link, 'pagination\_id', $this->query->get( 'instance\_id' ) ); |
  | 171 |  | } |
  | 172 |  |  |
  | 173 |  | return $link; |
  | 174 |  | } |
  | 175 |  | } |
  |  | 184 | endif; // End class\_exists check. |
* ## [easy-property-listings/tags/3.5.3/lib/includes/class-epl-property-meta.php](/changeset/3055030/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?old=2991552&old_path=easy-property-listings%2Ftrunk%2Flib%2Fincludes%2Fclass-epl-property-meta.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/includes/class-epl-property-meta.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L18 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L18 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 | \* EPL\_Property\_Meta Class |
  | 19 | 19 | \* |
  | 20 |  | \* @since ~~2.0~~ |
  |  | 20 | \* @since 3.5.3 Check for class |
  | 21 | 21 | \*/ |
  | 22 |  | class EPL\_Property\_Meta { |
  | 23 |  |  |
  |  | 22 | if ( ! class\_exists( 'EPL\_Property\_Meta' ) ) : |
  | 24 | 23 | /\*\* |
  | 25 |  | \* ~~Global Instance~~ |
  |  | 24 | \* EPL\_Property\_Meta Class |
  | 26 | 25 | \* |
  | 27 |  | \* @var $instance |
  | 28 |  | \* @since 2.0 |
  |  | 26 | \* @since      2.0 |
  | 29 | 27 | \*/ |
  | 30 |  | public static $instance; |
  | 31 |  |  |
  | 32 |  | /\*\* |
  | 33 |  | \* Global post |
  | 34 |  | \* |
  | 35 |  | \* @var $post |
  | 36 |  | \* |
  | 37 |  | \* @since 2.0 |
  | 38 |  | \*/ |
  | 39 |  | public $post; |
  | 40 |  |  |
  | 41 |  | /\*\* |
  | 42 |  | \* Global epl\_settings |
  | 43 |  | \* |
  | 44 |  | \* @var $epl\_settings |
  | 45 |  | \* |
  | 46 |  | \* @since 2.0 |
  | 47 |  | \*/ |
  | 48 |  | public $epl\_settings; |
  | 49 |  |  |
  | 50 |  | /\*\* |
  | 51 |  | \* Global meta |
  | 52 |  | \* |
  | 53 |  | \* @var $meta |
  | 54 |  | \* |
  | 55 |  | \* @since 2.0 |
  | 56 |  | \*/ |
  | 57 |  | public $meta; |
  | 58 |  |  |
  | 59 |  | /\*\* |
  | 60 |  | \* Global post type |
  | 61 |  | \* |
  | 62 |  | \* @var $post\_type |
  | 63 |  | \* |
  | 64 |  | \* @since 2.0 |
  | 65 |  | \*/ |
  | 66 |  | public $post\_type; |
  | 67 |  |  |
  | 68 |  | /\*\* |
  | 69 |  | \* Global EPL Post Type |
  | 70 |  | \* |
  | 71 |  | \* @var $property\_post\_type |
  | 72 |  | \* |
  | 73 |  | \* @since 2.0 |
  | 74 |  | \*/ |
  | 75 |  | public $property\_post\_type; |
  | 76 |  |  |
  | 77 |  | /\*\* |
  | 78 |  | \* Label New option |
  | 79 |  | \* |
  | 80 |  | \* @var $label\_new |
  | 81 |  | \* |
  | 82 |  | \* @since 3.4.44 |
  | 83 |  | \*/ |
  | 84 |  | public $label\_new; |
  | 85 |  |  |
  | 86 |  | /\*\* |
  | 87 |  | \* Sticker Range |
  | 88 |  | \* |
  | 89 |  | \* @var $sticker\_new\_range |
  | 90 |  | \* |
  | 91 |  | \* @since 3.4.44 |
  | 92 |  | \*/ |
  | 93 |  | public $sticker\_new\_range; |
  | 94 |  |  |
  | 95 |  | /\*\* |
  | 96 |  | \* Label: Home Open |
  | 97 |  | \* |
  | 98 |  | \* @var $label\_home\_open |
  | 99 |  | \* |
  | 100 |  | \* @since 3.4.44 |
  | 101 |  | \*/ |
  | 102 |  | public $label\_home\_open; |
  | 103 |  |  |
  | 104 |  | /\*\* |
  | 105 |  | \* Label: POA |
  | 106 |  | \* |
  | 107 |  | \* @var $label\_poa |
  | 108 |  | \* |
  | 109 |  | \* @since 3.4.44 |
  | 110 |  | \*/ |
  | 111 |  | public $label\_poa; |
  | 112 |  |  |
  | 113 |  | /\*\* |
  | 114 |  | \* Label: Under Offer |
  | 115 |  | \* |
  | 116 |  | \* @var $label\_under\_offer |
  | 117 |  | \* |
  | 118 |  | \* @since 3.4.44 |
  | 119 |  | \*/ |
  | 120 |  | public $label\_under\_offer; |
  | 121 |  |  |
  | 122 |  | /\*\* |
  | 123 |  | \* Label: Sold |
  | 124 |  | \* |
  | 125 |  | \* @var $label\_sold |
  | 126 |  | \* |
  | 127 |  | \* @since 3.4.44 |
  | 128 |  | \*/ |
  | 129 |  | public $label\_sold; |
  | 130 |  |  |
  | 131 |  | /\*\* |
  | 132 |  | \* Label: Leased |
  | 133 |  | \* |
  | 134 |  | \* @var $label\_leased |
  | 135 |  | \* |
  | 136 |  | \* @since 3.4.44 |
  | 137 |  | \*/ |
  | 138 |  | public $label\_leased; |
  | 139 |  |  |
  | 140 |  | /\*\* |
  | 141 |  | \* Label: Bond |
  | 142 |  | \* |
  | 143 |  | \* @var $label\_bond |
  | 144 |  | \* |
  | 145 |  | \* @since 3.4.44 |
  | 146 |  | \*/ |
  | 147 |  | public $label\_bond; |
  | 148 |  |  |
  | 149 |  | /\*\* |
  | 150 |  | \* Display Bond option |
  | 151 |  | \* |
  | 152 |  | \* @var $display\_bond |
  | 153 |  | \* |
  | 154 |  | \* @since 3.4.44 |
  | 155 |  | \*/ |
  | 156 |  | public $display\_bond; |
  | 157 |  |  |
  | 158 |  | /\*\* |
  | 159 |  | \* Get things going |
  | 160 |  | \* |
  | 161 |  | \* @param array $post Post object. |
  | 162 |  | \* @since 2.0 |
  | 163 |  | \*/ |
  | 164 |  | public function \_\_construct( $post ) { |
  | 165 |  |  |
  | 166 |  | $this->post               = $post; |
  | 167 |  | $this->epl\_settings       = epl\_settings(); |
  | 168 |  | $this->meta               = get\_post\_custom( $post->ID ); |
  | 169 |  | $this->post\_type          = $this->post->post\_type; |
  | 170 |  | $this->property\_post\_type = $this->post->post\_type; |
  | 171 |  |  |
  | 172 |  | $this->epl\_labels(); |
  | 173 |  | } |
  | 174 |  |  |
  | 175 |  | /\*\* |
  | 176 |  | \* Define Admin labels in epl\_settings global variable |
  | 177 |  | \* |
  | 178 |  | \* @return void Adds the custom admin labels |
  | 179 |  | \* @since 2.0 |
  | 180 |  | \*/ |
  | 181 |  | public function epl\_labels() { |
  | 182 |  |  |
  | 183 |  | $field\_groups = epl\_get\_admin\_option\_fields(); |
  | 184 |  |  |
  | 185 |  | foreach ( $field\_groups as $field\_group ) { |
  | 186 |  | if ( 'labels' === $field\_group['id'] ) { |
  | 187 |  | $epl\_labels = array\_filter( $field\_group['fields'] ); |
  | 188 |  | break; |
  | 189 |  | } |
  | 190 |  | } |
  | 191 |  |  |
  | 192 |  | foreach ( $epl\_labels as $label\_key   => $label ) { |
  | 193 |  | $label\_key = $label['name']; |
  | 194 |  | if ( $label\_key ) { |
  | 195 |  | $default = isset( $label['default'] ) ? $label['default'] : ''; |
  | 196 |  |  |
  | 197 |  | if ( isset( $this->epl\_settings[ $label\_key ] ) && ! empty( $this->epl\_settings[ $label\_key ] ) ) { |
  | 198 |  | $this->{$label\_key} = $this->epl\_settings[ $label\_key ]; |
  |  | 28 | class EPL\_Property\_Meta { |
  |  | 29 |  |
  |  | 30 | /\*\* |
  |  | 31 | \* Global Instance |
  |  | 32 | \* |
  |  | 33 | \* @var $instance |
  |  | 34 | \* @since 2.0 |
  |  | 35 | \*/ |
  |  | 36 | public static $instance; |
  |  | 37 |  |
  |  | 38 | /\*\* |
  |  | 39 | \* Global post |
  |  | 40 | \* |
  |  | 41 | \* @var $post |
  |  | 42 | \* |
  |  | 43 | \* @since 2.0 |
  |  | 44 | \*/ |
  |  | 45 | public $post; |
  |  | 46 |  |
  |  | 47 | /\*\* |
  |  | 48 | \* Global epl\_settings |
  |  | 49 | \* |
  |  | 50 | \* @var $epl\_settings |
  |  | 51 | \* |
  |  | 52 | \* @since 2.0 |
  |  | 53 | \*/ |
  |  | 54 | public $epl\_settings; |
  |  | 55 |  |
  |  | 56 | /\*\* |
  |  | 57 | \* Global meta |
  |  | 58 | \* |
  |  | 59 | \* @var $meta |
  |  | 60 | \* |
  |  | 61 | \* @since 2.0 |
  |  | 62 | \*/ |
  |  | 63 | public $meta; |
  |  | 64 |  |
  |  | 65 | /\*\* |
  |  | 66 | \* Global post type |
  |  | 67 | \* |
  |  | 68 | \* @var $post\_type |
  |  | 69 | \* |
  |  | 70 | \* @since 2.0 |
  |  | 71 | \*/ |
  |  | 72 | public $post\_type; |
  |  | 73 |  |
  |  | 74 | /\*\* |
  |  | 75 | \* Global EPL Post Type |
  |  | 76 | \* |
  |  | 77 | \* @var $property\_post\_type |
  |  | 78 | \* |
  |  | 79 | \* @since 2.0 |
  |  | 80 | \*/ |
  |  | 81 | public $property\_post\_type; |
  |  | 82 |  |
  |  | 83 | /\*\* |
  |  | 84 | \* Label New option |
  |  | 85 | \* |
  |  | 86 | \* @var $label\_new |
  |  | 87 | \* |
  |  | 88 | \* @since 3.4.44 |
  |  | 89 | \*/ |
  |  | 90 | public $label\_new; |
  |  | 91 |  |
  |  | 92 | /\*\* |
  |  | 93 | \* Sticker Range |
  |  | 94 | \* |
  |  | 95 | \* @var $sticker\_new\_range |
  |  | 96 | \* |
  |  | 97 | \* @since 3.4.44 |
  |  | 98 | \*/ |
  |  | 99 | public $sticker\_new\_range; |
  |  | 100 |  |
  |  | 101 | /\*\* |
  |  | 102 | \* Label: Home Open |
  |  | 103 | \* |
  |  | 104 | \* @var $label\_home\_open |
  |  | 105 | \* |
  |  | 106 | \* @since 3.4.44 |
  |  | 107 | \*/ |
  |  | 108 | public $label\_home\_open; |
  |  | 109 |  |
  |  | 110 | /\*\* |
  |  | 111 | \* Label: POA |
  |  | 112 | \* |
  |  | 113 | \* @var $label\_poa |
  |  | 114 | \* |
  |  | 115 | \* @since 3.4.44 |
  |  | 116 | \*/ |
  |  | 117 | public $label\_poa; |
  |  | 118 |  |
  |  | 119 | /\*\* |
  |  | 120 | \* Label: Under Offer |
  |  | 121 | \* |
  |  | 122 | \* @var $label\_under\_offer |
  |  | 123 | \* |
  |  | 124 | \* @since 3.4.44 |
  |  | 125 | \*/ |
  |  | 126 | public $label\_under\_offer; |
  |  | 127 |  |
  |  | 128 | /\*\* |
  |  | 129 | \* Label: Sold |
  |  | 130 | \* |
  |  | 131 | \* @var $label\_sold |
  |  | 132 | \* |
  |  | 133 | \* @since 3.4.44 |
  |  | 134 | \*/ |
  |  | 135 | public $label\_sold; |
  |  | 136 |  |
  |  | 137 | /\*\* |
  |  | 138 | \* Label: Leased |
  |  | 139 | \* |
  |  | 140 | \* @var $label\_leased |
  |  | 141 | \* |
  |  | 142 | \* @since 3.4.44 |
  |  | 143 | \*/ |
  |  | 144 | public $label\_leased; |
  |  | 145 |  |
  |  | 146 | /\*\* |
  |  | 147 | \* Label: Bond |
  |  | 148 | \* |
  |  | 149 | \* @var $label\_bond |
  |  | 150 | \* |
  |  | 151 | \* @since 3.4.44 |
  |  | 152 | \*/ |
  |  | 153 | public $label\_bond; |
  |  | 154 |  |
  |  | 155 | /\*\* |
  |  | 156 | \* Display Bond option |
  |  | 157 | \* |
  |  | 158 | \* @var $display\_bond |
  |  | 159 | \* |
  |  | 160 | \* @since 3.4.44 |
  |  | 161 | \*/ |
  |  | 162 | public $display\_bond; |
  |  | 163 |  |
  |  | 164 | /\*\* |
  |  | 165 | \* Get things going |
  |  | 166 | \* |
  |  | 167 | \* @param array $post Post object. |
  |  | 168 | \* @since 2.0 |
  |  | 169 | \*/ |
  |  | 170 | public function \_\_construct( $post ) { |
  |  | 171 |  |
  |  | 172 | $this->post               = $post; |
  |  | 173 | $this->epl\_settings       = epl\_settings(); |
  |  | 174 | $this->meta               = get\_post\_custom( $post->ID ); |
  |  | 175 | $this->post\_type          = $this->post->post\_type; |
  |  | 176 | $this->property\_post\_type = $this->post->post\_type; |
  |  | 177 |  |
  |  | 178 | $this->epl\_labels(); |
  |  | 179 | } |
  |  | 180 |  |
  |  | 181 | /\*\* |
  |  | 182 | \* Define Admin labels in epl\_settings global variable |
  |  | 183 | \* |
  |  | 184 | \* @return void Adds the custom admin labels |
  |  | 185 | \* @since 2.0 |
  |  | 186 | \*/ |
  |  | 187 | public function epl\_labels() { |
  |  | 188 |  |
  |  | 189 | $field\_groups = epl\_get\_admin\_option\_fields(); |
  |  | 190 |  |
  |  | 191 | foreach ( $field\_groups as $field\_group ) { |
  |  | 192 | if ( 'labels' === $field\_group['id'] ) { |
  |  | 193 | $epl\_labels = array\_filter( $field\_group['fields'] ); |
  |  | 194 | break; |
  |  | 195 | } |
  |  | 196 | } |
  |  | 197 |  |
  |  | 198 | foreach ( $epl\_labels as $label\_key   => $label ) { |
  |  | 199 | $label\_key = $label['name']; |
  |  | 200 | if ( $label\_key ) { |
  |  | 201 | $default = isset( $label['default'] ) ? $label['default'] : ''; |
  |  | 202 |  |
  |  | 203 | if ( isset( $this->epl\_settings[ $label\_key ] ) && ! empty( $this->epl\_settings[ $label\_key ] ) ) { |
  |  | 204 | $this->{$label\_key} = $this->epl\_settings[ $label\_key ]; |
  |  | 205 | } else { |
  |  | 206 | $this->{$label\_key} = $default; |
  |  | 207 | } |
  |  | 208 | } |
  |  | 209 | } |
  |  | 210 |  |
  |  | 211 | } |
  |  | 212 |  |
  |  | 213 | /\*\* |
  |  | 214 | \* Return the meta value based on the meta key. |
  |  | 215 | \* |
  |  | 216 | \* Usage is $property->get\_property\_meta('meta\_key') with the global $property variable defined |
  |  | 217 | \* |
  |  | 218 | \* @since 2.0 |
  |  | 219 | \* @param  string $meta\_key The meta key to get the value. |
  |  | 220 | \* @param  bool   $allowzero Return a 0 value or if false and a value of 0 return nothing. Default True. |
  |  | 221 | \* @return string|integer   Return the value of the meta key, string, or integer. |
  |  | 222 | \*/ |
  |  | 223 | public function get\_property\_meta( $meta\_key, $allowzero = true ) { |
  |  | 224 | $value = null; |
  |  | 225 | if ( isset( $this->meta[ $meta\_key ] ) ) { |
  |  | 226 | if ( isset( $this->meta[ $meta\_key ][0] ) ) { |
  |  | 227 | if ( true === $allowzero ) { |
  |  | 228 | $value = maybe\_unserialize( $this->meta[ $meta\_key ][0] ); |
  |  | 229 | } elseif ( intval( $this->meta[ $meta\_key ][0] ) === 0 ) { |
  |  | 230 | $value = ''; |
  |  | 231 | } else { |
  |  | 232 | $value = maybe\_unserialize( $this->meta[ $meta\_key ][0] ); |
  |  | 233 | } |
  |  | 234 | } |
  |  | 235 | } |
  |  | 236 |  |
  |  | 237 | return apply\_filters( 'epl\_meta\_filter\_' . $meta\_key, $value ); |
  |  | 238 | } |
  |  | 239 |  |
  |  | 240 | /\*\* |
  |  | 241 | \* Outputs the inspection times based on settings format |
  |  | 242 | \* |
  |  | 243 | \* @param bool   $ical True to return link with iCal. |
  |  | 244 | \* @param string $meta\_key The meta key to get the value from default is property\_inspection\_times. |
  |  | 245 | \* @return mixed Return formatted inspection times with a iCal link |
  |  | 246 | \* @since 2.0 |
  |  | 247 | \* @since 3.4.27 Added filter for href, handling of non date inspection values. |
  |  | 248 | \* @since 3.4.44 Added filter for deciding whether to remove inspection entry. |
  |  | 249 | \* @since 3.5.3  Fix: Deprecation warning - Make sure inspection time is not null before passing through trim. |
  |  | 250 | \* @since 3.5.3  Update to use local timestamp. |
  |  | 251 | \*/ |
  |  | 252 | public function get\_property\_inspection\_times( $ical = true, $meta\_key = 'property\_inspection\_times' ) { |
  |  | 253 | if ( 'leased' === $this->get\_property\_meta( 'property\_status' ) || 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 254 | return null; |
  |  | 255 | } |
  |  | 256 |  |
  |  | 257 | $inspection\_time = $this->get\_property\_meta( $meta\_key ); |
  |  | 258 | $inspection\_time = ! is\_null( $inspection\_time ) ? trim( $inspection\_time ) : ''; |
  |  | 259 |  |
  |  | 260 | $not\_date = array(); |
  |  | 261 |  |
  |  | 262 | if ( ! empty( $inspection\_time ) ) { |
  |  | 263 | $list = array\_filter( explode( "\n", $inspection\_time ) ); |
  |  | 264 | if ( ! empty( $list ) ) { |
  |  | 265 | // There are inspection times. |
  |  | 266 | $inspectarray = array(); |
  |  | 267 | foreach ( $list as $num => $item ) { |
  |  | 268 | if ( is\_numeric( $item[0] ) ) { |
  |  | 269 | $timearr = explode( ' ', $item ); |
  |  | 270 | $endtime = current( $timearr ) . ' ' . end( $timearr ); |
  |  | 271 |  |
  |  | 272 | $maybe\_delete\_inspection = strtotime( $endtime ) < epl\_get\_local\_timestamp(); |
  |  | 273 | $maybe\_delete\_inspection = apply\_filters( 'epl\_maybe\_delete\_inspection', $maybe\_delete\_inspection, $endtime, $item ); |
  |  | 274 | if ( ! $maybe\_delete\_inspection ) { |
  |  | 275 | $item                                  = trim( $item ); |
  |  | 276 | $inspectarray[ strtotime( $endtime ) ] = $item; |
  |  | 277 | } |
  |  | 278 | } else { |
  |  | 279 | $not\_date[ $num ]     = $num; |
  |  | 280 | $inspectarray[ $num ] = $item; |
  |  | 281 | } |
  |  | 282 | } |
  |  | 283 | ksort( $inspectarray ); |
  |  | 284 | // Update inspection times by removing past dates. |
  |  | 285 | $new\_inspection\_meta = implode( "\n", $inspectarray ); |
  |  | 286 | update\_post\_meta( $this->post->ID, 'property\_inspection\_times', $new\_inspection\_meta ); |
  |  | 287 |  |
  |  | 288 | $return = ''; |
  |  | 289 | if ( count( $inspectarray ) >= 1 ) { |
  |  | 290 | // Unordered list for multiple inspection times. |
  |  | 291 | foreach ( $inspectarray as $key => &$element ) { |
  |  | 292 |  |
  |  | 293 | $return .= "<li class='home-open-date epl-no-inspection-date'>"; |
  |  | 294 |  |
  |  | 295 | if ( ! empty( $element ) ) { |
  |  | 296 |  |
  |  | 297 | if ( in\_array( $key, $not\_date ) ) { |
  |  | 298 |  |
  |  | 299 | // handle inspections that are not date. |
  |  | 300 | $return .= $element; |
  |  | 301 |  |
  |  | 302 | } else { |
  |  | 303 |  |
  |  | 304 | $href = get\_bloginfo( 'url' ) . '?epl\_cal\_dl=1&cal=ical&dt=' . base64\_encode( htmlspecialchars( $element ) ) . '&propid=' . $this->post->ID; |
  |  | 305 |  |
  |  | 306 | $href = apply\_filters( 'epl\_inspection\_link', $href ); |
  |  | 307 |  |
  |  | 308 | $element\_formatted = apply\_filters( 'epl\_inspection\_format', $element ); |
  |  | 309 |  |
  |  | 310 | if ( $ical ) { |
  |  | 311 | //phpcs:disable |
  |  | 312 | $return .= "<a |
  |  | 313 | class ='epl\_inspection\_calendar' |
  |  | 314 | href='" . $href . "' >" |
  |  | 315 | . $element\_formatted . ' |
  |  | 316 | </a>'; |
  |  | 317 | //phpcs:enable |
  |  | 318 | } else { |
  |  | 319 | $return .= $element\_formatted; |
  |  | 320 | } |
  |  | 321 | } |
  |  | 322 |  |
  |  | 323 | $return .= '</li>'; |
  |  | 324 | } |
  |  | 325 | } |
  |  | 326 | if ( ! empty( $return ) ) { |
  |  | 327 | $return = '<ul class="home-open-wrapper">' . $return . '</ul>'; |
  |  | 328 | } |
  |  | 329 | } |
  |  | 330 | return apply\_filters( 'epl\_property\_inspection\_time', $return ); |
  |  | 331 | } |
  |  | 332 | } |
  |  | 333 | } |
  |  | 334 |  |
  |  | 335 | /\*\* |
  |  | 336 | \* Get the setting based on the key |
  |  | 337 | \* |
  |  | 338 | \* Usage is $property->get\_epl\_settings('meta\_key') with the global $property variable defined |
  |  | 339 | \* |
  |  | 340 | \* @param string $key Option key name. |
  |  | 341 | \* @return string Value of the setting or if not set nothing is returned |
  |  | 342 | \* @since 2.0 |
  |  | 343 | \*/ |
  |  | 344 | public function get\_epl\_settings( $key ) { |
  |  | 345 | $value = ''; |
  |  | 346 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings[ $key ] ) ) { |
  |  | 347 | $value = $this->epl\_settings[ $key ]; |
  |  | 348 | } |
  |  | 349 | return $value; |
  |  | 350 | } |
  |  | 351 |  |
  |  | 352 | /\*\* |
  |  | 353 | \* Process Property Features Taxonomy |
  |  | 354 | \* |
  |  | 355 | \* @since 2.0 |
  |  | 356 | \* @return mixed List of features |
  |  | 357 | \*/ |
  |  | 358 | public function get\_property\_feature\_taxonomy() { |
  |  | 359 | return apply\_filters( 'epl\_get\_property\_feature\_taxonomy', get\_the\_term\_list( $this->post->ID, 'tax\_feature', '<li>', '</li><li>', '</li>' ) ); |
  |  | 360 | } |
  |  | 361 |  |
  |  | 362 | /\*\* |
  |  | 363 | \* Suburb profile |
  |  | 364 | \* |
  |  | 365 | \* @since 2.0 |
  |  | 366 | \* @return string Suburb/Location name |
  |  | 367 | \*/ |
  |  | 368 | public function get\_suburb\_profile() { |
  |  | 369 | $profiles = get\_the\_terms( $this->post->ID, 'location' ); |
  |  | 370 | if ( is\_array( $profiles ) ) { |
  |  | 371 | $profile = end( $profiles ); |
  |  | 372 | return $profile->name; |
  |  | 373 | } |
  |  | 374 | } |
  |  | 375 |  |
  |  | 376 | /\*\* |
  |  | 377 | \* Auction Date/Time |
  |  | 378 | \* |
  |  | 379 | \* @param bool $admin true/false True will return on frontend. |
  |  | 380 | \* @return string formatted auction date |
  |  | 381 | \* |
  |  | 382 | \* @since 2.0.0 |
  |  | 383 | \* @since 3.4.38 Added epl\_get\_property\_auction\_date\_time\_separator filter for date/time separator. |
  |  | 384 | \*/ |
  |  | 385 | public function get\_property\_auction( $admin = false ) { |
  |  | 386 |  |
  |  | 387 | $date\_time\_sep = apply\_filters( 'epl\_get\_property\_auction\_date\_time\_separator', ' \a\t ' ); |
  |  | 388 |  |
  |  | 389 | $date\_format = epl\_get\_inspection\_date\_format(); |
  |  | 390 | $time\_format = epl\_get\_inspection\_time\_format(); |
  |  | 391 | $format      = $date\_format . $date\_time\_sep . $time\_format; |
  |  | 392 |  |
  |  | 393 | if ( $admin ) { |
  |  | 394 | $format = apply\_filters( 'epl\_get\_property\_auction\_date\_admin', $format ); |
  |  | 395 | } else { |
  |  | 396 | $format = apply\_filters( 'epl\_get\_property\_auction\_date', $format ); |
  |  | 397 | } |
  |  | 398 |  |
  |  | 399 | if ( isset( $this->meta['property\_auction'] ) ) { |
  |  | 400 | if ( isset( $this->meta['property\_auction'][0] ) ) { |
  |  | 401 | if ( ! empty( $this->meta['property\_auction'][0] ) ) { |
  |  | 402 | if ( strpos( $this->meta['property\_auction'][0], 'T' ) === false ) { |
  |  | 403 | $feed\_format = apply\_filters( 'epl\_auction\_feed\_format', 'Y-m-d-H:i:s' ); |
  |  | 404 | $epl\_date    = DateTime::createFromFormat( $feed\_format, $this->meta['property\_auction'][0] ); |
  |  | 405 |  |
  |  | 406 | if ( $epl\_date ) { |
  |  | 407 | $primary\_feed\_format               = apply\_filters( 'epl\_auction\_primary\_feed\_format', 'Y-m-d\TH:i' ); |
  |  | 408 | $this->meta['property\_auction'][0] = $epl\_date->format( $primary\_feed\_format ); |
  |  | 409 | } |
  |  | 410 | } |
  |  | 411 | return apply\_filters( 'epl\_get\_property\_auction', date( $format, strtotime( $this->meta['property\_auction'][0] ) ) ); |
  |  | 412 | } |
  |  | 413 | } |
  |  | 414 | } |
  |  | 415 | } |
  |  | 416 |  |
  |  | 417 | /\*\* |
  |  | 418 | \* Commercial Rent |
  |  | 419 | \* |
  |  | 420 | \* @since 2.0 |
  |  | 421 | \* @return string Currency Formatted price |
  |  | 422 | \*/ |
  |  | 423 | public function get\_property\_com\_rent() { |
  |  | 424 | $rent = epl\_currency\_formatted\_amount( $this->get\_property\_meta( 'property\_com\_rent' ) ); |
  |  | 425 |  |
  |  | 426 | return apply\_filters( 'epl\_get\_property\_com\_rent', $rent ); |
  |  | 427 | } |
  |  | 428 |  |
  |  | 429 | /\*\* |
  |  | 430 | \* Price Display |
  |  | 431 | \* |
  |  | 432 | \* @since 2.0 |
  |  | 433 | \* @return string Return formatted price based on selected options |
  |  | 434 | \*/ |
  |  | 435 | public function get\_property\_price\_display() { |
  |  | 436 | $property\_price\_search = $this->get\_property\_meta( 'property\_price' ); |
  |  | 437 | $property\_price\_view   = $this->get\_property\_meta( 'property\_price\_view' ); |
  |  | 438 | if ( empty( $property\_price\_search ) ) { |
  |  | 439 | $property\_price = ''; |
  |  | 440 | } elseif ( ! empty( $property\_price\_view ) ) { |
  |  | 441 | $property\_price = $property\_price\_view; |
  |  | 442 | } else { |
  |  | 443 | $property\_price = epl\_currency\_formatted\_amount( $property\_price\_search ); |
  |  | 444 | } |
  |  | 445 | // Auction Details and Price override. |
  |  | 446 | if ( 'auction' === $this->get\_property\_meta( 'property\_authority' ) ) { |
  |  | 447 | $property\_price = apply\_filters( 'epl\_get\_property\_auction\_label', \_\_( 'Auction', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_auction(); |
  |  | 448 | } |
  |  | 449 | // Commercial Lease Override. |
  |  | 450 | if ( 'lease' === $this->get\_property\_meta( 'property\_com\_listing\_type' ) ) { |
  |  | 451 | $property\_price = $property\_price\_view; |
  |  | 452 | } |
  |  | 453 | // Commercial Both Override. |
  |  | 454 | if ( 'both' === $this->get\_property\_meta( 'property\_com\_listing\_type' ) && ! empty( $property\_price\_view ) ) { |
  |  | 455 | $property\_price = $property\_price\_view; |
  |  | 456 | } |
  |  | 457 | return apply\_filters( 'epl\_get\_property\_price\_display', $property\_price ); |
  |  | 458 | } |
  |  | 459 |  |
  |  | 460 | /\*\* |
  |  | 461 | \* Sold price display |
  |  | 462 | \* |
  |  | 463 | \* @since 2.0 |
  |  | 464 | \* @param bool $admin True for frontend. |
  |  | 465 | \* @return string Return sold price if selected or nothing |
  |  | 466 | \*/ |
  |  | 467 | public function get\_property\_price\_sold\_display( $admin = false ) { |
  |  | 468 | $property\_sold\_price   = $this->get\_property\_meta( 'property\_sold\_price', false ); |
  |  | 469 | $property\_sold\_display = $this->get\_property\_meta( 'property\_sold\_price\_display' ); |
  |  | 470 |  |
  |  | 471 | if ( ! empty( $property\_sold\_price ) ) { |
  |  | 472 | if ( 'yes' === $property\_sold\_display || true === $admin ) { |
  |  | 473 | $property\_sold\_price = ' ' . epl\_currency\_formatted\_amount( $property\_sold\_price ); |
  |  | 474 |  |
  |  | 475 | return apply\_filters( 'epl\_get\_property\_price\_sold\_display', $property\_sold\_price ); |
  |  | 476 | } |
  |  | 477 | } |
  |  | 478 | } |
  |  | 479 |  |
  |  | 480 | /\*\* |
  |  | 481 | \* Lease price display |
  |  | 482 | \* |
  |  | 483 | \* @since 3.1 |
  |  | 484 | \* @param bool $admin True for front end usage. |
  |  | 485 | \* @return string Return lease price if selected or nothing |
  |  | 486 | \*/ |
  |  | 487 | public function get\_property\_price\_lease\_display( $admin = false ) { |
  |  | 488 | $property\_lease\_price   = $this->get\_property\_price\_display(); |
  |  | 489 | $property\_lease\_display = $this->get\_property\_meta( 'property\_sold\_price\_display' ); |
  |  | 490 |  |
  |  | 491 | if ( ! empty( $property\_lease\_price ) ) { |
  |  | 492 | if ( 'yes' === $property\_lease\_display || true === $admin ) { |
  |  | 493 |  |
  |  | 494 | return apply\_filters( 'epl\_get\_property\_price\_lease\_display', $property\_lease\_price ); |
  |  | 495 | } |
  |  | 496 | } |
  |  | 497 | } |
  |  | 498 |  |
  |  | 499 | /\*\* |
  |  | 500 | \* Sold date display |
  |  | 501 | \* |
  |  | 502 | \* @since 2.0 |
  |  | 503 | \* @param integer $sold\_price Sold price. |
  |  | 504 | \* @return string Return sold date if sold |
  |  | 505 | \*/ |
  |  | 506 | public function get\_property\_price\_sold\_date( $sold\_price = null ) { |
  |  | 507 |  |
  |  | 508 | if ( null === $sold\_price ) { |
  |  | 509 | return; |
  |  | 510 | } |
  |  | 511 |  |
  |  | 512 | $property\_sold\_date = $this->get\_property\_meta( 'property\_sold\_date' ); |
  |  | 513 |  |
  |  | 514 | if ( ! empty( $property\_sold\_date ) ) { |
  |  | 515 | return apply\_filters( 'epl\_get\_property\_price\_sold\_date', $sold\_price . ' ' . $property\_sold\_date ); |
  |  | 516 | } |
  |  | 517 | } |
  |  | 518 |  |
  |  | 519 | /\*\* |
  |  | 520 | \* Rental Price |
  |  | 521 | \* |
  |  | 522 | \* @since 2.0 |
  |  | 523 | \* @return string Currency Formatted Rental Price |
  |  | 524 | \*/ |
  |  | 525 | public function get\_property\_rent() { |
  |  | 526 | if ( 'rental' !== $this->post\_type ) { |
  |  | 527 | return; |
  |  | 528 | } |
  |  | 529 |  |
  |  | 530 | $property\_rent\_search = $this->get\_property\_meta( 'property\_rent' ); |
  |  | 531 | $property\_rent\_view   = $this->get\_property\_meta( 'property\_rent\_view' ); |
  |  | 532 |  |
  |  | 533 | if ( empty( $property\_rent\_search ) ) { |
  |  | 534 | $rental\_price = ''; |
  |  | 535 | } elseif ( ! empty( $property\_rent\_view ) ) { |
  |  | 536 | $rental\_price = $property\_rent\_view; |
  |  | 537 | } else { |
  |  | 538 | $rental\_price = epl\_currency\_formatted\_amount( $property\_rent\_search ); |
  |  | 539 | } |
  |  | 540 | return apply\_filters( 'epl\_get\_property\_rent', $rental\_price ); |
  |  | 541 | } |
  |  | 542 |  |
  |  | 543 | /\*\* |
  |  | 544 | \* Rental Bond |
  |  | 545 | \* |
  |  | 546 | \* @since 2.0 |
  |  | 547 | \* @return string Formatted Bond price |
  |  | 548 | \*/ |
  |  | 549 | public function get\_property\_bond() { |
  |  | 550 | if ( 'rental' !== $this->post\_type ) { |
  |  | 551 | return; |
  |  | 552 | } |
  |  | 553 |  |
  |  | 554 | $bond\_position = apply\_filters( 'epl\_property\_bond\_position', 'after' ); |
  |  | 555 |  |
  |  | 556 | $bond      = ''; |
  |  | 557 | $prop\_bond = $this->get\_property\_meta( 'property\_bond' ); |
  |  | 558 |  |
  |  | 559 | if ( ! empty( $prop\_bond ) && 'before' === $bond\_position ) { |
  |  | 560 | $bond = $this->label\_bond . ' ' . epl\_currency\_formatted\_amount( $this->get\_property\_meta( 'property\_bond' ) ); |
  |  | 561 | } elseif ( ! empty( $prop\_bond ) ) { |
  |  | 562 | $bond = epl\_currency\_formatted\_amount( $this->get\_property\_meta( 'property\_bond' ) ) . ' ' . $this->label\_bond; |
  |  | 563 | } |
  |  | 564 | return apply\_filters( 'epl\_get\_property\_bond', $bond ); |
  |  | 565 | } |
  |  | 566 |  |
  |  | 567 | /\*\* |
  |  | 568 | \* Rental Available Date |
  |  | 569 | \* |
  |  | 570 | \* @param bool $admin True for front end usage. |
  |  | 571 | \* @return string Formatted date |
  |  | 572 | \* |
  |  | 573 | \* @since 2.0.0 |
  |  | 574 | \* @since 3.4.38 Added epl\_get\_property\_available\_date\_time\_separator filter for date/time separator. |
  |  | 575 | \* @since 3.5.0 Fixed time shown when only date string. |
  |  | 576 | \*/ |
  |  | 577 | public function get\_property\_available( $admin = false ) { |
  |  | 578 |  |
  |  | 579 | if ( isset( $this->meta['property\_date\_available'] ) ) { |
  |  | 580 | if ( isset( $this->meta['property\_date\_available'][0] ) ) { |
  |  | 581 | if ( ! empty( $this->meta['property\_date\_available'][0] ) ) { |
  |  | 582 |  |
  |  | 583 | $av\_date\_array = date\_parse( $this->meta['property\_date\_available'][0] ); |
  |  | 584 | $date\_format   = epl\_get\_inspection\_date\_format(); |
  |  | 585 |  |
  |  | 586 | if ( isset( $av\_date\_array['hour'] ) && false === $av\_date\_array['hour'] ) { |
  |  | 587 | $format = $date\_format; |
  |  | 588 | } else { |
  |  | 589 |  |
  |  | 590 | $date\_time\_sep = apply\_filters( 'epl\_get\_property\_available\_date\_time\_separator', ' \a\t ' ); |
  |  | 591 | $time\_format   = epl\_get\_inspection\_time\_format(); |
  |  | 592 | $format        = $date\_format . $date\_time\_sep . $time\_format; |
  |  | 593 | } |
  |  | 594 |  |
  |  | 595 | if ( $admin ) { |
  |  | 596 | $format = apply\_filters( 'epl\_property\_available\_date\_format\_admin', $format ); |
  |  | 597 | } else { |
  |  | 598 | $format = apply\_filters( 'epl\_property\_available\_date\_format', $format ); |
  |  | 599 | } |
  |  | 600 |  |
  |  | 601 | $av\_date = ( isset( $av\_date\_array['year'] ) && isset( $av\_date\_array['month'] ) && isset( $av\_date\_array['day'] ) ) ? |
  |  | 602 | $av\_date\_array['year'] . '-' . $av\_date\_array['month'] . '-' . $av\_date\_array['day'] : $this->meta['property\_date\_available'][0]; |
  |  | 603 | if ( current\_time( 'timestamp' ) > strtotime( $av\_date ) ) { |
  |  | 604 | return apply\_filters( 'epl\_property\_sub\_title\_available\_now\_label', \_\_( 'now', 'easy-property-listings' ) ); |
  |  | 605 | } else { |
  |  | 606 | return apply\_filters( 'epl\_get\_property\_available', date( $format, strtotime( $av\_date ) ) ); |
  |  | 607 | } |
  |  | 608 | } |
  |  | 609 | } |
  |  | 610 | } |
  |  | 611 | } |
  |  | 612 |  |
  |  | 613 | /\*\* |
  |  | 614 | \* Land category |
  |  | 615 | \* |
  |  | 616 | \* @param string $tag HTML wrapper type, default div. |
  |  | 617 | \* @param string $class name, default land-category. |
  |  | 618 | \* @return string |
  |  | 619 | \* |
  |  | 620 | \* @since 2.0.0 |
  |  | 621 | \* @since 3.4.42 Fix: Filter name was incorrect changed to epl\_get\_property\_land\_category. |
  |  | 622 | \*/ |
  |  | 623 | public function get\_property\_land\_category( $tag = 'div', $class = 'land-category' ) { |
  |  | 624 | if ( ! in\_array( $this->post\_type, array( 'land', 'commercial\_land' ), true ) ) { |
  |  | 625 | return null; |
  |  | 626 | } |
  |  | 627 |  |
  |  | 628 | $land\_category = epl\_listing\_meta\_land\_category\_value( $this->get\_property\_meta( 'property\_land\_category' ) ); |
  |  | 629 |  |
  |  | 630 | if ( empty( $land\_category ) ) { |
  |  | 631 | $land\_category = $land\_category; |
  |  | 632 | } elseif ( 'none' === $tag || 'value' === $tag ) { |
  |  | 633 | $land\_category = $land\_category; |
  |  | 634 | } else { |
  |  | 635 | $land\_category = '<' . $tag . ' class="' . $class . '">' . $land\_category . '</' . $tag . '>'; |
  |  | 636 | } |
  |  | 637 | return apply\_filters( 'epl\_get\_property\_land\_category', $land\_category ); |
  |  | 638 | } |
  |  | 639 |  |
  |  | 640 | /\*\* |
  |  | 641 | \* Formatted Street level address based on selected display option |
  |  | 642 | \* |
  |  | 643 | \* @param bool   $street\_separator Output a address separator after the street address. |
  |  | 644 | \* @param string $separator\_symbol Symbol to use as the address separator, default is a comma. |
  |  | 645 | \* |
  |  | 646 | \* @return string formatted street address |
  |  | 647 | \* |
  |  | 648 | \* @since 2.0.0 |
  |  | 649 | \* @since 3.4.8 Corrected spacing if value is present. Implemented separator with existing filter. |
  |  | 650 | \*/ |
  |  | 651 | public function get\_formatted\_property\_address( $street\_separator = true, $separator\_symbol = ',' ) { |
  |  | 652 |  |
  |  | 653 | $street = ''; |
  |  | 654 |  |
  |  | 655 | $lot\_number = $this->get\_property\_meta( 'property\_address\_lot\_number' ); |
  |  | 656 | if ( ! empty( $lot\_number ) ) { |
  |  | 657 | $street .= $lot\_number . ' '; |
  |  | 658 | } |
  |  | 659 |  |
  |  | 660 | $sub\_number = $this->get\_property\_meta( 'property\_address\_sub\_number' ); |
  |  | 661 | if ( ! empty( $sub\_number ) ) { |
  |  | 662 | $street .= $sub\_number . '/'; |
  |  | 663 | } |
  |  | 664 |  |
  |  | 665 | $street\_number = $this->get\_property\_meta( 'property\_address\_street\_number' ); |
  |  | 666 | if ( ! empty( $street\_number ) ) { |
  |  | 667 | $street .= $street\_number . ' '; |
  |  | 668 | } |
  |  | 669 |  |
  |  | 670 | $street\_name = $this->get\_property\_meta( 'property\_address\_street' ); |
  |  | 671 | if ( ! empty( $street\_name ) ) { |
  |  | 672 | $street .= $street\_name; |
  |  | 673 |  |
  |  | 674 | if ( true === $street\_separator ) { |
  |  | 675 | $separator\_symbol = apply\_filters( 'epl\_property\_address\_separator', $separator\_symbol ); |
  |  | 676 | $street          .= $separator\_symbol; |
  |  | 677 | } |
  |  | 678 | } |
  |  | 679 | return apply\_filters( 'epl\_get\_formatted\_property\_address', $street ); |
  |  | 680 | } |
  |  | 681 |  |
  |  | 682 | /\*\* |
  |  | 683 | \* Listing Category |
  |  | 684 | \* |
  |  | 685 | \* @since 2.0 |
  |  | 686 | \* @param string $tag HTML wrapper type, default div. |
  |  | 687 | \* @param string $class name, default property-category. |
  |  | 688 | \* @return string |
  |  | 689 | \*/ |
  |  | 690 | public function get\_property\_category( $tag = 'div', $class = 'property-category' ) { |
  |  | 691 |  |
  |  | 692 | $property\_category = epl\_listing\_meta\_property\_category\_value( $this->get\_property\_meta( 'property\_category' ) ); |
  |  | 693 |  |
  |  | 694 | if ( empty( $property\_category ) ) { |
  |  | 695 | $property\_category = $property\_category; |
  |  | 696 | } elseif ( 'none' === $tag || 'value' === $tag ) { |
  |  | 697 | $property\_category = $property\_category; |
  |  | 698 | } else { |
  |  | 699 | $property\_category = '<' . $tag . ' class="' . $class . '">' . $property\_category . '</' . $tag . '>'; |
  |  | 700 | } |
  |  | 701 | return apply\_filters( 'epl\_get\_property\_category', $property\_category ); |
  |  | 702 | } |
  |  | 703 |  |
  |  | 704 | /\*\* |
  |  | 705 | \* Get Commercial Category |
  |  | 706 | \* |
  |  | 707 | \* @since 2.0 |
  |  | 708 | \* @param string $tag HTML wrapper type, default div. |
  |  | 709 | \* @param string $class name, default commercial-category. |
  |  | 710 | \* @return string |
  |  | 711 | \*/ |
  |  | 712 | public function get\_property\_commercial\_category( $tag = 'div', $class = 'commercial-category' ) { |
  |  | 713 | $property\_commercial\_category = epl\_listing\_load\_meta\_commercial\_category\_value( $this->get\_property\_meta( 'property\_commercial\_category' ) ); |
  |  | 714 |  |
  |  | 715 | if ( empty( $property\_commercial\_category ) ) { |
  |  | 716 | $property\_commercial\_category = $property\_commercial\_category; |
  |  | 717 | } elseif ( 'none' === $tag || 'value' === $tag ) { |
  |  | 718 | $property\_commercial\_category = $property\_commercial\_category; |
  |  | 719 | } else { |
  |  | 720 | $property\_commercial\_category = '<' . $tag . ' class="' . $class . '">' . $property\_commercial\_category . '</' . $tag . '>'; |
  |  | 721 | } |
  |  | 722 | return apply\_filters( 'epl\_get\_property\_commercial\_category', $property\_commercial\_category ); |
  |  | 723 | } |
  |  | 724 |  |
  |  | 725 | /\*\* |
  |  | 726 | \* Get Rural Category |
  |  | 727 | \* |
  |  | 728 | \* @since 3.1.12 |
  |  | 729 | \* @param string $tag HTML wrapper type, default div. |
  |  | 730 | \* @param string $class name, default rural-category. |
  |  | 731 | \* @return string |
  |  | 732 | \*/ |
  |  | 733 | public function get\_property\_rural\_category( $tag = 'div', $class = 'rural-category' ) { |
  |  | 734 | $property\_rural\_category = epl\_listing\_load\_meta\_rural\_category\_value( $this->get\_property\_meta( 'property\_rural\_category' ) ); |
  |  | 735 |  |
  |  | 736 | if ( empty( $property\_rural\_category ) ) { |
  |  | 737 | $property\_rural\_category = $property\_rural\_category; |
  |  | 738 | } elseif ( 'none' === $tag || 'value' === $tag ) { |
  |  | 739 | $property\_rural\_category = $property\_rural\_category; |
  |  | 740 | } else { |
  |  | 741 | $property\_rural\_category = '<' . $tag . ' class="' . $class . '">' . $property\_rural\_category . '</' . $tag . '>'; |
  |  | 742 | } |
  |  | 743 | return apply\_filters( 'epl\_get\_property\_rural\_category', $property\_rural\_category ); |
  |  | 744 | } |
  |  | 745 |  |
  |  | 746 | /\*\* |
  |  | 747 | \* Price Class |
  |  | 748 | \* |
  |  | 749 | \* @since 2.0 |
  |  | 750 | \* @return string |
  |  | 751 | \*/ |
  |  | 752 | public function get\_price\_class() { |
  |  | 753 | if ( $this->get\_property\_meta( 'property\_status' ) === 'sold' ) { |
  |  | 754 | return apply\_filters( 'property\_price\_class', 'epl-price sold' ); |
  |  | 755 | } |
  |  | 756 | } |
  |  | 757 |  |
  |  | 758 | /\*\* |
  |  | 759 | \* Tax |
  |  | 760 | \* |
  |  | 761 | \* @since 2.0 |
  |  | 762 | \* @return string |
  |  | 763 | \*/ |
  |  | 764 | public function get\_property\_tax() { |
  |  | 765 |  |
  |  | 766 | $property\_tax = $this->get\_property\_meta( 'property\_tax' ); |
  |  | 767 |  |
  |  | 768 | if ( 'exempt' === $property\_tax ) { |
  |  | 769 | $property\_tax = ' ' . \_\_( 'Inc. GST', 'easy-property-listings' ); |
  |  | 770 | } elseif ( 'inclusive' === $property\_tax ) { |
  |  | 771 | $property\_tax = ' ' . \_\_( 'Inc. GST', 'easy-property-listings' ); |
  |  | 772 | } elseif ( 'exclusive' === $property\_tax ) { |
  |  | 773 | $property\_tax = ' +  ' . \_\_( 'GST', 'easy-property-listings' ); |
  |  | 774 | } else { |
  |  | 775 | $property\_tax = ''; |
  |  | 776 | } |
  |  | 777 | return apply\_filters( 'epl\_get\_property\_tax', $property\_tax ); |
  |  | 778 | } |
  |  | 779 |  |
  |  | 780 | /\*\* |
  |  | 781 | \* Plain price value |
  |  | 782 | \* |
  |  | 783 | \* @since 2.0.0 |
  |  | 784 | \* @since 3.4.38 Using label\_poa for no rental price. Added epl\_price\_rent\_period filter. Added filter epl\_pa\_price for P.A label. |
  |  | 785 | \* @return string |
  |  | 786 | \*/ |
  |  | 787 | public function get\_price\_plain\_value() { |
  |  | 788 |  |
  |  | 789 | $price\_plain\_value = ''; |
  |  | 790 |  |
  |  | 791 | if ( 'property' === $this->post\_type || 'land' === $this->post\_type || 'rural' === $this->post\_type || 'business' === $this->post\_type ) { |
  |  | 792 | $price\_display = $this->get\_property\_price\_display(); |
  |  | 793 | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 794 | $price\_plain\_value = $this->label\_sold; |
  |  | 795 | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) {   // Property. |
  |  | 796 | $price\_plain\_value = $this->get\_property\_price\_display(); |
  | 199 | 797 | } else { |
  | 200 |  | $this->{$label\_key} = $default; |
  | 201 |  | } |
  | 202 |  | } |
  | 203 |  | } |
  | 204 |  |  |
  | 205 |  | } |
  | 206 |  |  |
  | 207 |  | /\*\* |
  | 208 |  | \* Return the meta value based on the meta key. |
  | 209 |  | \* |
  | 210 |  | \* Usage is $property->get\_property\_meta('meta\_key') with the global $property variable defined |
  | 211 |  | \* |
  | 212 |  | \* @since 2.0 |
  | 213 |  | \* @param  string $meta\_key The meta key to get the value. |
  | 214 |  | \* @param  bool   $allowzero Return a 0 value or if false and a value of 0 return nothing. Default True. |
  | 215 |  | \* @return string|integer   Return the value of the meta key, string, or integer. |
  | 216 |  | \*/ |
  | 217 |  | public function get\_property\_meta( $meta\_key, $allowzero = true ) { |
  | 218 |  | $value = null; |
  | 219 |  | if ( isset( $this->meta[ $meta\_key ] ) ) { |
  | 220 |  | if ( isset( $this->meta[ $meta\_key ][0] ) ) { |
  | 221 |  | if ( true === $allowzero ) { |
  | 222 |  | $value = maybe\_unserialize( $this->meta[ $meta\_key ][0] ); |
  | 223 |  | } elseif ( intval( $this->meta[ $meta\_key ][0] ) === 0 ) { |
  | 224 |  | $value = ''; |
  |  | 798 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  |  | 799 | $price\_plain\_value = $this->epl\_settings['label\_poa']; |
  |  | 800 | } else { |
  |  | 801 | $price\_plain\_value = \_\_( 'POA', 'easy-property-listings' ); |
  |  | 802 | } |
  |  | 803 | } |
  |  | 804 | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 805 |  |
  |  | 806 | $price\_plain\_value = $this->label\_under\_offer; |
  |  | 807 | } |
  |  | 808 | } elseif ( 'rental' === $this->post\_type ) { |
  |  | 809 | $prop\_rent = $this->get\_property\_rent(); |
  |  | 810 | if ( ! empty( $prop\_rent ) && 'yes' === $this->get\_property\_meta( 'property\_rent\_display' ) && 'leased' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 811 |  |
  |  | 812 | $price\_rent\_period = $this->get\_property\_meta( 'property\_rent\_period' ); |
  |  | 813 | $price\_rent\_period = apply\_filters( 'epl\_price\_rent\_period', $price\_rent\_period ); |
  |  | 814 | $price\_plain\_value = $this->get\_property\_rent() . '/' . ucfirst( $price\_rent\_period ); |
  |  | 815 | $prop\_rent\_view    = $this->get\_property\_meta( 'property\_rent\_view' ); |
  |  | 816 | if ( ! empty( $prop\_rent\_view ) ) { |
  |  | 817 | $price\_plain\_value = $this->get\_property\_meta( 'property\_rent\_view' ); |
  |  | 818 | } |
  |  | 819 | $prop\_bond = $this->get\_property\_bond(); |
  |  | 820 | if ( ! empty( $prop\_bond ) && 'yes' === $this->epl\_settings['display\_bond'] ) { |
  |  | 821 | $price\_plain\_value = $this->get\_property\_bond(); |
  |  | 822 | } |
  |  | 823 | } elseif ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 824 | $price\_plain\_value = $this->label\_leased . ' ' . $this->get\_property\_rent(); |
  |  | 825 |  |
  | 225 | 826 | } else { |
  | 226 |  | $value = maybe\_unserialize( $this->meta[ $meta\_key ][0] ); |
  | 227 |  | } |
  | 228 |  | } |
  | 229 |  | } |
  | 230 |  |  |
  | 231 |  | return apply\_filters( 'epl\_meta\_filter\_' . $meta\_key, $value ); |
  | 232 |  | } |
  | 233 |  |  |
  | 234 |  | /\*\* |
  | 235 |  | \* Outputs the inspection times based on settings format |
  | 236 |  | \* |
  | 237 |  | \* @param bool   $ical True to return link with iCal. |
  | 238 |  | \* @param string $meta\_key The meta key to get the value from default is property\_inspection\_times. |
  | 239 |  | \* @return mixed Return formatted inspection times with a iCal link |
  | 240 |  | \* @since 2.0 |
  | 241 |  | \* @since 3.4.27 Added filter for href, handling of non date inspection values. |
  | 242 |  | \* @since 3.4.44 Added filter for deciding whether to remove inspection entry. |
  | 243 |  | \*/ |
  | 244 |  | public function get\_property\_inspection\_times( $ical = true, $meta\_key = 'property\_inspection\_times' ) { |
  | 245 |  | if ( 'leased' === $this->get\_property\_meta( 'property\_status' ) || 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 246 |  | return null; |
  | 247 |  | } |
  | 248 |  |  |
  | 249 |  | $inspection\_time = $this->get\_property\_meta( $meta\_key ); |
  | 250 |  | $inspection\_time = trim( $inspection\_time ); |
  | 251 |  |  |
  | 252 |  | $not\_date = array(); |
  | 253 |  |  |
  | 254 |  | if ( ! empty( $inspection\_time ) ) { |
  | 255 |  | $list = array\_filter( explode( "\n", $inspection\_time ) ); |
  | 256 |  | if ( ! empty( $list ) ) { |
  | 257 |  | // There are inspection times. |
  | 258 |  | $inspectarray = array(); |
  | 259 |  | foreach ( $list as $num => $item ) { |
  | 260 |  | if ( is\_numeric( $item[0] ) ) { |
  | 261 |  | $timearr                 = explode( ' ', $item ); |
  | 262 |  | $endtime                 = current( $timearr ) . ' ' . end( $timearr ); |
  | 263 |  | $maybe\_delete\_inspection = strtotime( $endtime ) < time(); |
  | 264 |  | $maybe\_delete\_inspection = apply\_filters( 'epl\_maybe\_delete\_inspection', $maybe\_delete\_inspection, $endtime, $item ); |
  | 265 |  | if ( ! $maybe\_delete\_inspection ) { |
  | 266 |  | $item                                  = trim( $item ); |
  | 267 |  | $inspectarray[ strtotime( $endtime ) ] = $item; |
  |  | 827 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  |  | 828 | $price\_plain\_value = $this->epl\_settings['label\_poa']; |
  |  | 829 | } else { |
  |  | 830 | $price\_plain\_value = \_\_( 'TBA', 'easy-property-listings' ); |
  |  | 831 | } |
  |  | 832 | } |
  |  | 833 | } elseif ( 'commercial' === $this->post\_type || 'commercial\_land' === $this->post\_type ) { |
  |  | 834 | $price\_display    = $this->get\_property\_price\_display(); |
  |  | 835 | $prop\_rent\_period = $this->get\_property\_meta( 'property\_com\_rent\_period' ); |
  |  | 836 | $rent\_lease\_type  = |
  |  | 837 | ! empty( $prop\_rent\_period ) ? epl\_listing\_load\_meta\_commercial\_rent\_period\_value( $this->get\_property\_meta( 'property\_com\_rent\_period' ) ) : apply\_filters( 'epl\_pa\_label', \_\_( 'P.A.', 'easy-property-listings' ) ); |
  |  | 838 | // Sale or Both. |
  |  | 839 | $price\_plain\_value = ''; |
  |  | 840 | if ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'sale' || $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  |  | 841 |  |
  |  | 842 | if ( $this->get\_property\_meta( 'property\_com\_authority' ) === 'auction' ) {    // Auction. |
  |  | 843 | $price\_plain\_value = '<span class="page-price auction">' . apply\_filters( 'epl\_commercial\_auction\_label', \_\_( 'Auction', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_auction() . '</span>'; |
  |  | 844 | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) {   // Property. |
  |  | 845 | $price\_plain\_value = apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . ': ' . $this->get\_property\_price\_display() . $this->get\_property\_tax(); |
  |  | 846 | } else { |
  |  | 847 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  |  | 848 | $price\_plain\_value = apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . ' ' . $this->epl\_settings['label\_poa']; |
  |  | 849 | } |
  |  | 850 | } |
  |  | 851 | } |
  |  | 852 | // Lease or Both. |
  |  | 853 | if ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'lease' || $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { // Both. |
  |  | 854 | $both          = $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ? '<div class="epl-clear"></div>' : ''; |
  |  | 855 | $prop\_com\_rent = $this->get\_property\_com\_rent(); |
  |  | 856 | if ( ! empty( $prop\_com\_rent ) && empty( $price\_display ) ) { |
  |  | 857 | $price\_plain\_value .= $both . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type; |
  |  | 858 | } elseif ( ! empty( $price\_display ) && $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'lease' ) { |
  |  | 859 | $price\_plain\_value .= $both . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_price\_display(); |
  |  | 860 | } elseif ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  |  | 861 | $price\_plain\_value .= $both . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type; |
  |  | 862 | } else { |
  |  | 863 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  |  | 864 | $price\_plain\_value .= $both . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . ' ' . $this->epl\_settings['label\_poa']; |
  |  | 865 | } |
  |  | 866 | } |
  |  | 867 | } |
  |  | 868 | // Status. |
  |  | 869 | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 870 | $price\_plain\_value = $this->label\_sold; |
  |  | 871 | } |
  |  | 872 | // Under Offer. |
  |  | 873 | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 874 | $price\_plain\_value = $this->label\_under\_offer; |
  |  | 875 | } |
  |  | 876 | // Leased. |
  |  | 877 | if ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 878 | $price\_plain\_value = $this->label\_leased; |
  |  | 879 | } |
  |  | 880 | } |
  |  | 881 | return apply\_filters( 'epl\_get\_price\_plain\_value', $price\_plain\_value ); |
  |  | 882 | } |
  |  | 883 |  |
  |  | 884 | /\*\* |
  |  | 885 | \* Get Price |
  |  | 886 | \* |
  |  | 887 | \* @since 2.0 |
  |  | 888 | \* @since 3.4.27 Fixed rent period translation. |
  |  | 889 | \* @since 3.4.28 Using label\_poa for no rental price. Added epl\_price\_rent\_period filter. Added filter epl\_pa\_price for P.A label. |
  |  | 890 | \* @since 3.4.38 Commercial listing type "both" now shows sale & lease prices. |
  |  | 891 | \* @return string |
  |  | 892 | \*/ |
  |  | 893 | public function get\_price() { |
  |  | 894 |  |
  |  | 895 | $price\_display   = $this->get\_property\_price\_display(); |
  |  | 896 | $prop\_rent       = $this->get\_property\_rent(); |
  |  | 897 | $prop\_rent\_view  = $this->get\_property\_meta( 'property\_rent\_view' ); |
  |  | 898 | $prop\_price\_view = $this->get\_property\_meta( 'property\_price\_view' ); |
  |  | 899 | $prop\_com\_rent   = $this->get\_property\_com\_rent(); |
  |  | 900 | $price           = ''; |
  |  | 901 | if ( 'property' === $this->post\_type || 'land' === $this->post\_type || 'rural' === $this->post\_type || 'business' === $this->post\_type ) { |
  |  | 902 | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 903 | $price = '<span class="page-price sold-status">' . $this->label\_sold . $this->get\_property\_price\_sold\_display() . '</span>'; |
  |  | 904 | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) {   // Property. |
  |  | 905 | $price = '<span class="page-price">' . $this->get\_property\_price\_display() . '</span>'; |
  |  | 906 |  |
  |  | 907 | } elseif ( 'auction' === $this->get\_property\_meta( 'property\_authority' ) && 'no' === $this->get\_property\_meta( 'property\_price\_display' ) ) {  // Auction. |
  |  | 908 | $price = '<span class="page-price auction">' . apply\_filters( 'epl\_get\_property\_auction\_label', \_\_( 'Auction', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_auction() . '</span>'; |
  |  | 909 | } else { |
  |  | 910 | $price\_poa = \_\_( 'POA', 'easy-property-listings' ); |
  |  | 911 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  |  | 912 | $price\_poa = $this->epl\_settings['label\_poa']; |
  |  | 913 | } |
  |  | 914 | $price = '<span class="page-price">' . $price\_poa . '</span>'; |
  |  | 915 | } |
  |  | 916 | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 917 | $price = '<span class="page-price under-offer-status">' . $this->label\_under\_offer . '</span>'; |
  |  | 918 | } |
  |  | 919 | } elseif ( 'rental' === $this->post\_type ) { |
  |  | 920 | if ( ! empty( $prop\_rent ) && 'yes' === $this->get\_property\_meta( 'property\_rent\_display' ) && 'leased' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 921 |  |
  |  | 922 | $rent\_separator = apply\_filters( 'epl\_property\_price\_rent\_separator', '/' ); |
  |  | 923 |  |
  |  | 924 | $price  = '<span class="page-price-rent">'; |
  |  | 925 | $price .= '<span class="page-price" style="margin-right:0;">' . $this->get\_property\_rent() . '</span>'; |
  |  | 926 | if ( empty( $prop\_rent\_view ) ) { |
  |  | 927 | $rent\_period\_value = $this->get\_property\_meta( 'property\_rent\_period' ); |
  |  | 928 | $rent\_period\_value = apply\_filters( 'epl\_price\_rent\_period', $rent\_period\_value ); |
  |  | 929 | $rent\_options      = epl\_get\_property\_rent\_period\_opts(); |
  |  | 930 | $rent\_period\_label = isset( $rent\_options[ $rent\_period\_value ] ) ? $rent\_options[ $rent\_period\_value ] : ucfirst( $rent\_period\_value ); |
  |  | 931 | $price            .= '<span class="rent-period">' . $rent\_separator . '' . $rent\_period\_label . '</span>'; |
  |  | 932 | } |
  |  | 933 | $price    .= '</span>'; |
  |  | 934 | $prop\_bond = $this->get\_property\_bond(); |
  |  | 935 | if ( ! empty( $prop\_bond ) && in\_array( $this->get\_epl\_settings( 'display\_bond' ), array( 1, 'yes' ) ) ) { // phpcs:ignore |
  |  | 936 | $price .= '<span class="bond">' . $this->get\_property\_bond() . '</span>'; |
  |  | 937 | } |
  |  | 938 | } elseif ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 939 | $price = '<span class="page-price sold-status">' . $this->label\_leased . '</span>'; |
  |  | 940 |  |
  |  | 941 | } else { |
  |  | 942 | $price\_poa = \_\_( 'TBA', 'easy-property-listings' ); |
  |  | 943 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  |  | 944 | $price\_poa = $this->epl\_settings['label\_poa']; |
  |  | 945 | } |
  |  | 946 | $price = '<span class="page-price">' . $price\_poa . '</span>'; |
  |  | 947 | } |
  |  | 948 | } elseif ( 'commercial' === $this->post\_type || 'commercial\_land' === $this->post\_type ) { |
  |  | 949 | $prop\_com\_rent\_period = $this->get\_property\_meta( 'property\_com\_rent\_period' ); |
  |  | 950 | $rent\_lease\_type      = |
  |  | 951 | ! empty( $prop\_com\_rent\_period ) ? epl\_listing\_load\_meta\_commercial\_rent\_period\_value( $this->get\_property\_meta( 'property\_com\_rent\_period' ) ) : apply\_filters( 'epl\_pa\_label', \_\_( 'P.A.', 'easy-property-listings' ) ); |
  |  | 952 |  |
  |  | 953 | // Sale or both. |
  |  | 954 | $price = ''; |
  |  | 955 | if ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'sale' || $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  |  | 956 |  |
  |  | 957 | if ( $this->get\_property\_meta( 'property\_com\_authority' ) === 'auction' ) {    // Auction. |
  |  | 958 | $price = '<span class="page-price auction">' . apply\_filters( 'epl\_commercial\_auction\_label', \_\_( 'Auction', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_auction() . '</span>'; |
  |  | 959 | } elseif ( ! empty( $prop\_price\_view ) && $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  |  | 960 | $price = '<span class="page-price"> |
  |  | 961 | <span class="page-price-prefix"> |
  |  | 962 | <span class="page-price-prefix">' . |
  |  | 963 | apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . ': |
  |  | 964 | </span> ' . $this->get\_property\_price\_display() . ' |
  |  | 965 | </span> |
  |  | 966 | <span class="epl-clear"></span> |
  |  | 967 | <span class="page-price-prefix"> |
  |  | 968 | <span class="page-price-prefix">' . |
  |  | 969 | apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . ': |
  |  | 970 | </span> ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type . ' |
  |  | 971 | </span> |
  |  | 972 | </span> |
  |  | 973 | '; |
  |  | 974 | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) {   // Property. |
  |  | 975 | $price = '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_price\_display() . $this->get\_property\_tax() . '</span>'; |
  |  | 976 | } else { |
  |  | 977 | $price\_plain\_value = ''; |
  |  | 978 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  |  | 979 | $price\_plain\_value = $this->epl\_settings['label\_poa']; |
  |  | 980 | } |
  |  | 981 | $price = '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . '</span> ' . $price\_plain\_value . '</span>'; |
  |  | 982 | } |
  |  | 983 | } |
  |  | 984 |  |
  |  | 985 | // Lease. |
  |  | 986 | if ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'lease' ) { |
  |  | 987 | $both = $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ? '<div class="epl-clear"></div>' : ''; |
  |  | 988 |  |
  |  | 989 | // Show Price. |
  |  | 990 | if ( $this->get\_property\_meta( 'property\_price\_display' ) === 'yes' ) { |
  |  | 991 | if ( ! empty( $price\_display ) ) { |
  |  | 992 | $price .= $both . '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_price\_display() . '</span>'; |
  |  | 993 |  |
  |  | 994 | } elseif ( ! empty( $prop\_com\_rent ) ) { |
  |  | 995 | $price .= $both . '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type . '</span>'; |
  | 268 | 996 | } |
  | 269 | 997 | } else { |
  | 270 |  | $not\_date[ $num ]     = $num; |
  | 271 |  | $inspectarray[ $num ] = $item; |
  | 272 |  | } |
  | 273 |  | } |
  | 274 |  | ksort( $inspectarray ); |
  | 275 |  | // Update inspection times by removing past dates. |
  | 276 |  | $new\_inspection\_meta = implode( "\n", $inspectarray ); |
  | 277 |  | update\_post\_meta( $this->post->ID, 'property\_inspection\_times', $new\_inspection\_meta ); |
  | 278 |  |  |
  | 279 |  | $return = ''; |
  | 280 |  | if ( count( $inspectarray ) >= 1 ) { |
  | 281 |  | // Unordered list for multiple inspection times. |
  | 282 |  | foreach ( $inspectarray as $key => &$element ) { |
  | 283 |  |  |
  | 284 |  | $return .= "<li class='home-open-date epl-no-inspection-date'>"; |
  | 285 |  |  |
  | 286 |  | if ( ! empty( $element ) ) { |
  | 287 |  |  |
  | 288 |  | if ( in\_array( $key, $not\_date ) ) { |
  | 289 |  |  |
  | 290 |  | // handle inspections that are not date. |
  | 291 |  | $return .= $element; |
  | 292 |  |  |
  | 293 |  | } else { |
  | 294 |  |  |
  | 295 |  | $href = get\_bloginfo( 'url' ) . '?epl\_cal\_dl=1&cal=ical&dt=' . base64\_encode( htmlspecialchars( $element ) ) . '&propid=' . $this->post->ID; |
  | 296 |  |  |
  | 297 |  | $href = apply\_filters( 'epl\_inspection\_link', $href ); |
  | 298 |  |  |
  | 299 |  | $element\_formatted = apply\_filters( 'epl\_inspection\_format', $element ); |
  | 300 |  |  |
  | 301 |  | if ( $ical ) { |
  | 302 |  | //phpcs:disable |
  | 303 |  | $return .= "<a |
  | 304 |  | class ='epl\_inspection\_calendar' |
  | 305 |  | href='" . $href . "' >" |
  | 306 |  | . $element\_formatted . ' |
  | 307 |  | </a>'; |
  | 308 |  | //phpcs:enable |
  | 309 |  | } else { |
  | 310 |  | $return .= $element\_formatted; |
  | 311 |  | } |
  | 312 |  | } |
  | 313 |  |  |
  | 314 |  | $return .= '</li>'; |
  |  | 998 | // Hide Price. |
  |  | 999 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  |  | 1000 | $price .= $both . '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->epl\_settings['label\_poa'] . '</span>'; |
  | 315 | 1001 | } |
  | 316 | 1002 | } |
  | 317 |  | if ( ! empty( $return ) ) { |
  | 318 |  | $return = '<ul class="home-open-wrapper">' . $return . '</ul>'; |
  | 319 |  | } |
  | 320 |  | } |
  | 321 |  | return apply\_filters( 'epl\_property\_inspection\_time', $return ); |
  | 322 |  | } |
  | 323 |  | } |
  | 324 |  | } |
  | 325 |  |  |
  | 326 |  | /\*\* |
  | 327 |  | \* Get the setting based on the key |
  | 328 |  | \* |
  | 329 |  | \* Usage is $property->get\_epl\_settings('meta\_key') with the global $property variable defined |
  | 330 |  | \* |
  | 331 |  | \* @param string $key Option key name. |
  | 332 |  | \* @return string Value of the setting or if not set nothing is returned |
  | 333 |  | \* @since 2.0 |
  | 334 |  | \*/ |
  | 335 |  | public function get\_epl\_settings( $key ) { |
  | 336 |  | $value = ''; |
  | 337 |  | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings[ $key ] ) ) { |
  | 338 |  | $value = $this->epl\_settings[ $key ]; |
  | 339 |  | } |
  | 340 |  | return $value; |
  | 341 |  | } |
  | 342 |  |  |
  | 343 |  | /\*\* |
  | 344 |  | \* Process Property Features Taxonomy |
  | 345 |  | \* |
  | 346 |  | \* @since 2.0 |
  | 347 |  | \* @return mixed List of features |
  | 348 |  | \*/ |
  | 349 |  | public function get\_property\_feature\_taxonomy() { |
  | 350 |  | return apply\_filters( 'epl\_get\_property\_feature\_taxonomy', get\_the\_term\_list( $this->post->ID, 'tax\_feature', '<li>', '</li><li>', '</li>' ) ); |
  | 351 |  | } |
  | 352 |  |  |
  | 353 |  | /\*\* |
  | 354 |  | \* Suburb profile |
  | 355 |  | \* |
  | 356 |  | \* @since 2.0 |
  | 357 |  | \* @return string Suburb/Location name |
  | 358 |  | \*/ |
  | 359 |  | public function get\_suburb\_profile() { |
  | 360 |  | $profiles = get\_the\_terms( $this->post->ID, 'location' ); |
  | 361 |  | if ( is\_array( $profiles ) ) { |
  | 362 |  | $profile = end( $profiles ); |
  | 363 |  | return $profile->name; |
  | 364 |  | } |
  | 365 |  | } |
  | 366 |  |  |
  | 367 |  | /\*\* |
  | 368 |  | \* Auction Date/Time |
  | 369 |  | \* |
  | 370 |  | \* @param bool $admin true/false True will return on frontend. |
  | 371 |  | \* @return string formatted auction date |
  | 372 |  | \* |
  | 373 |  | \* @since 2.0.0 |
  | 374 |  | \* @since 3.4.38 Added epl\_get\_property\_auction\_date\_time\_separator filter for date/time separator. |
  | 375 |  | \*/ |
  | 376 |  | public function get\_property\_auction( $admin = false ) { |
  | 377 |  |  |
  | 378 |  | $date\_time\_sep = apply\_filters( 'epl\_get\_property\_auction\_date\_time\_separator', ' \a\t ' ); |
  | 379 |  |  |
  | 380 |  | $date\_format = epl\_get\_inspection\_date\_format(); |
  | 381 |  | $time\_format = epl\_get\_inspection\_time\_format(); |
  | 382 |  | $format      = $date\_format . $date\_time\_sep . $time\_format; |
  | 383 |  |  |
  | 384 |  | if ( $admin ) { |
  | 385 |  | $format = apply\_filters( 'epl\_get\_property\_auction\_date\_admin', $format ); |
  | 386 |  | } else { |
  | 387 |  | $format = apply\_filters( 'epl\_get\_property\_auction\_date', $format ); |
  | 388 |  | } |
  | 389 |  |  |
  | 390 |  | if ( isset( $this->meta['property\_auction'] ) ) { |
  | 391 |  | if ( isset( $this->meta['property\_auction'][0] ) ) { |
  | 392 |  | if ( ! empty( $this->meta['property\_auction'][0] ) ) { |
  | 393 |  | if ( strpos( $this->meta['property\_auction'][0], 'T' ) === false ) { |
  | 394 |  | $feed\_format = apply\_filters( 'epl\_auction\_feed\_format', 'Y-m-d-H:i:s' ); |
  | 395 |  | $epl\_date    = DateTime::createFromFormat( $feed\_format, $this->meta['property\_auction'][0] ); |
  | 396 |  |  |
  | 397 |  | if ( $epl\_date ) { |
  | 398 |  | $primary\_feed\_format               = apply\_filters( 'epl\_auction\_primary\_feed\_format', 'Y-m-d\TH:i' ); |
  | 399 |  | $this->meta['property\_auction'][0] = $epl\_date->format( $primary\_feed\_format ); |
  |  | 1003 |  |
  |  | 1004 | // Price text override. |
  |  | 1005 | if ( ! empty( $prop\_price\_view ) ) { |
  |  | 1006 | $price = '<span class="page-price"><span class="page-price-prefix">' . $this->get\_property\_price\_display() . '</span>'; |
  |  | 1007 | } |
  |  | 1008 | } |
  |  | 1009 |  |
  |  | 1010 | // Both (Add Lease Price Details). |
  |  | 1011 | if ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  |  | 1012 | $both = $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ? '<div class="epl-clear"></div>' : ''; |
  |  | 1013 |  |
  |  | 1014 | // Show Price. |
  |  | 1015 | if ( $this->get\_property\_meta( 'property\_price\_display' ) === 'yes' && empty( $prop\_price\_view ) ) { |
  |  | 1016 |  |
  |  | 1017 | if ( ! empty( $prop\_com\_rent ) ) { |
  |  | 1018 | $price .= $both . '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type . '</span>'; |
  | 400 | 1019 | } |
  | 401 |  | ~~}~~ |
  | 402 |  | ~~return apply\_filters( 'epl\_get\_property\_auction', date( $format, strtotime( $this->meta['property\_auction'][0] ) ) );~~ |
  | 403 |  | ~~}~~ |
  | 404 |  | ~~}~~ |
  | 405 |  | ~~}~~ |
  | 406 |  | ~~}~~ |
  | 407 |  |  |
  | 408 |  | ~~/\*\*~~ |
  | 409 |  | ~~\* Commercial Rent~~ |
  | 410 |  | ~~\*~~ |
  | 411 |  | ~~\* @since 2.0~~ |
  | 412 |  | ~~\* @return string Currency Formatted price~~ |
  | 413 |  | ~~\*/~~ |
  | 414 |  | ~~public function get\_property\_com\_rent() {~~ |
  | 415 |  | ~~$rent = epl\_currency\_formatted\_amount( $this->get\_property\_meta( 'property\_com\_rent' ) );~~ |
  | 416 |  |  |
  | 417 |  | ~~return apply\_filters( 'epl\_get\_property\_com\_rent', $rent );~~ |
  | 418 |  | ~~}~~ |
  | 419 |  |  |
  | 420 |  | ~~/\*\*~~ |
  | 421 |  | ~~\* Price Display~~ |
  | 422 |  | ~~\*~~ |
  | 423 |  | ~~\* @since 2.0~~ |
  | 424 |  | ~~\* @return string Return formatted price based on selected options~~ |
  | 425 |  | ~~\*/~~ |
  | 426 |  | ~~public function get\_property\_price\_display() {~~ |
  | 427 |  | ~~$property\_price\_search = $this->get\_property\_meta( 'property\_price' );~~ |
  | 428 |  | ~~$property\_price\_view   = $this->get\_property\_meta( 'property\_price\_view' );~~ |
  | 429 |  | ~~if ( empty( $property\_price\_search ) ) {~~ |
  | 430 |  | ~~$property\_price = '';~~ |
  | 431 |  | ~~} elseif ( ! empty( $property\_price\_view ) ) {~~ |
  | 432 |  | ~~$property\_price = $property\_price\_view;~~ |
  | 433 |  | ~~} else {~~ |
  | 434 |  | ~~$property\_price = epl\_currency\_formatted\_amount( $property\_price\_search );~~ |
  | 435 |  | ~~}~~ |
  | 436 |  | ~~// Auction Details and Price override.~~ |
  | 437 |  | ~~if ( 'auction' === $this->get\_property\_meta( 'property\_authority' ) ) {~~ |
  | 438 |  | ~~$property\_price = apply\_filters( 'epl\_get\_property\_auction\_label', \_\_( 'Auction', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_auction();~~ |
  | 439 |  | ~~}~~ |
  | 440 |  | ~~// Commercial Lease Override.~~ |
  | 441 |  | ~~if ( 'lease' === $this->get\_property\_meta( 'property\_com\_listing\_type' ) ) {~~ |
  | 442 |  | ~~$property\_price = $property\_price\_view;~~ |
  | 443 |  | ~~}~~ |
  | 444 |  | ~~// Commercial Both Override.~~ |
  | 445 |  | ~~if ( 'both' === $this->get\_property\_meta( 'property\_com\_listing\_type' ) && ! empty( $property\_price\_view ) ) {~~ |
  | 446 |  | ~~$property\_price = $property\_price\_view;~~ |
  | 447 |  | ~~}~~ |
  | 448 |  | ~~return apply\_filters( 'epl\_get\_property\_price\_display', $property\_price );~~ |
  | 449 |  | ~~}~~ |
  | 450 |  |  |
  | 451 |  | ~~/\*\*~~ |
  | 452 |  | ~~\* Sold price display~~ |
  | 453 |  | ~~\*~~ |
  | 454 |  | ~~\* @since 2.0~~ |
  | 455 |  | ~~\* @param bool $admin True for frontend.~~ |
  | 456 |  | ~~\* @return string Return sold price if selected or nothing~~ |
  | 457 |  | ~~\*/~~ |
  | 458 |  | ~~public function get\_property\_price\_sold\_display( $admin = false ) {~~ |
  | 459 |  | ~~$property\_sold\_price   = $this->get\_property\_meta( 'property\_sold\_price', false );~~ |
  | 460 |  | ~~$property\_sold\_display = $this->get\_property\_meta( 'property\_sold\_price\_display' );~~ |
  | 461 |  |  |
  | 462 |  | ~~if ( ! empty( $property\_sold\_price ) ) {~~ |
  | 463 |  | ~~if ( 'yes' === $property\_sold\_display || true === $admin ) {~~ |
  | 464 |  | ~~$property\_sold\_price = ' ' . epl\_currency\_formatted\_amount( $property\_sold\_price );~~ |
  | 465 |  |  |
  | 466 |  | ~~return apply\_filters( 'epl\_get\_property\_price\_sold\_display', $property\_sold\_price );~~ |
  | 467 |  | ~~}~~ |
  | 468 |  | ~~}~~ |
  | 469 |  | ~~}~~ |
  | 470 |  |  |
  | 471 |  | ~~/\*\*~~ |
  | 472 |  | ~~\* Lease price display~~ |
  | 473 |  | ~~\*~~ |
  | 474 |  | ~~\* @since 3.1~~ |
  | 475 |  | ~~\* @param bool $admin True for front end usage.~~ |
  | 476 |  | ~~\* @return string Return lease price if selected or nothing~~ |
  | 477 |  | ~~\*/~~ |
  | 478 |  | ~~public function get\_property\_price\_lease\_display( $admin = false ) {~~ |
  | 479 |  | ~~$property\_lease\_price   = $this->get\_property\_price\_display();~~ |
  | 480 |  | ~~$property\_lease\_display = $this->get\_property\_meta( 'property\_sold\_price\_display' );~~ |
  | 481 |  |  |
  | 482 |  | ~~if ( ! empty( $property\_lease\_price ) ) {~~ |
  | 483 |  | ~~if ( 'yes' === $property\_lease\_display || true === $admin ) {~~ |
  | 484 |  |  |
  | 485 |  | ~~return apply\_filters( 'epl\_get\_property\_price\_lease\_display', $property\_lease\_price );~~ |
  | 486 |  | ~~}~~ |
  | 487 |  | ~~}~~ |
  | 488 |  | ~~}~~ |
  | 489 |  |  |
  | 490 |  | ~~/\*\*~~ |
  | 491 |  | ~~\* Sold date display~~ |
  | 492 |  | ~~\*~~ |
  | 493 |  | ~~\* @since 2.0~~ |
  | 494 |  | ~~\* @param integer $sold\_price Sold price.~~ |
  | 495 |  | ~~\* @return string Return sold date if sold~~ |
  | 496 |  | ~~\*/~~ |
  | 497 |  | ~~public function get\_property\_price\_sold\_date( $sold\_price = null ) {~~ |
  | 498 |  |  |
  | 499 |  | ~~if ( null === $sold\_price ) {~~ |
  | 500 |  | ~~return;~~ |
  | 501 |  | ~~}~~ |
  | 502 |  |  |
  | 503 |  | ~~$property\_sold\_date = $this->get\_property\_meta( 'property\_sold\_date' );~~ |
  | 504 |  |  |
  | 505 |  | ~~if ( ! empty( $property\_sold\_date ) ) {~~ |
  | 506 |  | ~~return apply\_filters( 'epl\_get\_property\_price\_sold\_date', $sold\_price . ' ' . $property\_sold\_date );~~ |
  | 507 |  | ~~}~~ |
  | 508 |  | ~~}~~ |
  | 509 |  |  |
  | 510 |  | ~~/\*\*~~ |
  | 511 |  | ~~\* Rental Price~~ |
  | 512 |  | ~~\*~~ |
  | 513 |  | ~~\* @since 2.0~~ |
  | 514 |  | ~~\* @return string Currency Formatted Rental Price~~ |
  | 515 |  | ~~\*/~~ |
  | 516 |  | ~~public function get\_property\_rent() {~~ |
  | 517 |  | ~~if ( 'rental' !== $this->post\_type ) {~~ |
  | 518 |  | ~~return;~~ |
  | 519 |  | ~~}~~ |
  | 520 |  |  |
  | 521 |  | ~~$property\_rent\_search = $this->get\_property\_meta( 'property\_rent' );~~ |
  | 522 |  | ~~$property\_rent\_view   = $this->get\_property\_meta( 'property\_rent\_view' );~~ |
  | 523 |  |  |
  | 524 |  | ~~if ( empty( $property\_rent\_search ) ) {~~ |
  | 525 |  | ~~$rental\_price = '';~~ |
  | 526 |  | ~~} elseif ( ! empty( $property\_rent\_view ) ) {~~ |
  | 527 |  | ~~$rental\_price = $property\_rent\_view;~~ |
  | 528 |  | ~~} else {~~ |
  | 529 |  | ~~$rental\_price = epl\_currency\_formatted\_amount( $property\_rent\_search );~~ |
  | 530 |  | ~~}~~ |
  | 531 |  | ~~return apply\_filters( 'epl\_get\_property\_rent', $rental\_price );~~ |
  | 532 |  | ~~}~~ |
  | 533 |  |  |
  | 534 |  | ~~/\*\*~~ |
  | 535 |  | ~~\* Rental Bond~~ |
  | 536 |  | ~~\*~~ |
  | 537 |  | ~~\* @since 2.0~~ |
  | 538 |  | ~~\* @return string Formatted Bond price~~ |
  | 539 |  | ~~\*/~~ |
  | 540 |  | ~~public function get\_property\_bond() {~~ |
  | 541 |  | ~~if ( 'rental' !== $this->post\_type ) {~~ |
  | 542 |  | ~~return;~~ |
  | 543 |  | ~~}~~ |
  | 544 |  |  |
  | 545 |  | ~~$bond\_position = apply\_filters( 'epl\_property\_bond\_position', 'after' );~~ |
  | 546 |  |  |
  | 547 |  | ~~$bond      = '';~~ |
  | 548 |  | ~~$prop\_bond = $this->get\_property\_meta( 'property\_bond' );~~ |
  | 549 |  |  |
  | 550 |  | ~~if ( ! empty( $prop\_bond ) && 'before' === $bond\_position ) {~~ |
  | 551 |  | ~~$bond = $this->label\_bond . ' ' . epl\_currency\_formatted\_amount( $this->get\_property\_meta( 'property\_bond' ) );~~ |
  | 552 |  | ~~} elseif ( ! empty( $prop\_bond ) ) {~~ |
  | 553 |  | ~~$bond = epl\_currency\_formatted\_amount( $this->get\_property\_meta( 'property\_bond' ) ) . ' ' . $this->label\_bond;~~ |
  | 554 |  | ~~}~~ |
  | 555 |  | ~~return apply\_filters( 'epl\_get\_property\_bond', $bond );~~ |
  | 556 |  | ~~}~~ |
  | 557 |  |  |
  | 558 |  | ~~/\*\*~~ |
  | 559 |  | ~~\* Rental Available Date~~ |
  | 560 |  | ~~\*~~ |
  | 561 |  | ~~\* @param bool $admin True for front end usage.~~ |
  | 562 |  | ~~\* @return string Formatted date~~ |
  | 563 |  | ~~\*~~ |
  | 564 |  | ~~\* @since 2.0.0~~ |
  | 565 |  | ~~\* @since 3.4.38 Added epl\_get\_property\_available\_date\_time\_separator filter for date/time separator.~~ |
  | 566 |  | ~~\* @since 3.5.0 Fixed time shown when only date string.~~ |
  | 567 |  | ~~\*/~~ |
  | 568 |  | ~~public function get\_property\_available( $admin = false ) {~~ |
  | 569 |  |  |
  | 570 |  | ~~if ( isset( $this->meta['property\_date\_available'] ) ) {~~ |
  | 571 |  | ~~if ( isset( $this->meta['property\_date\_available'][0] ) ) {~~ |
  | 572 |  | ~~if ( ! empty( $this->meta['property\_date\_available'][0] ) ) {~~ |
  | 573 |  |  |
  | 574 |  | ~~$av\_date\_array = date\_parse( $this->meta['property\_date\_available'][0] );~~ |
  | 575 |  | ~~$date\_format   = epl\_get\_inspection\_date\_format();~~ |
  | 576 |  |  |
  | 577 |  | ~~if ( isset( $av\_date\_array['hour'] ) && false === $av\_date\_array['hour'] ) {~~ |
  | 578 |  | ~~$format = $date\_format;~~ |
  | 579 | 1020 | } else { |
  | 580 |  |  |
  | 581 |  | $date\_time\_sep = apply\_filters( 'epl\_get\_property\_available\_date\_time\_separator', ' \a\t ' ); |
  | 582 |  | $time\_format   = epl\_get\_inspection\_time\_format(); |
  | 583 |  | $format        = $date\_format . $date\_time\_sep . $time\_format; |
  | 584 |  | } |
  | 585 |  |  |
  | 586 |  | if ( $admin ) { |
  | 587 |  | $format = apply\_filters( 'epl\_property\_available\_date\_format\_admin', $format ); |
  | 588 |  | } else { |
  | 589 |  | $format = apply\_filters( 'epl\_property\_available\_date\_format', $format ); |
  | 590 |  | } |
  | 591 |  |  |
  | 592 |  | $av\_date = ( isset( $av\_date\_array['year'] ) && isset( $av\_date\_array['month'] ) && isset( $av\_date\_array['day'] ) ) ? |
  | 593 |  | $av\_date\_array['year'] . '-' . $av\_date\_array['month'] . '-' . $av\_date\_array['day'] : $this->meta['property\_date\_available'][0]; |
  | 594 |  | if ( current\_time( 'timestamp' ) > strtotime( $av\_date ) ) { |
  | 595 |  | return apply\_filters( 'epl\_property\_sub\_title\_available\_now\_label', \_\_( 'now', 'easy-property-listings' ) ); |
  | 596 |  | } else { |
  | 597 |  | return apply\_filters( 'epl\_get\_property\_available', date( $format, strtotime( $av\_date ) ) ); |
  | 598 |  | } |
  | 599 |  | } |
  | 600 |  | } |
  | 601 |  | } |
  | 602 |  | } |
  | 603 |  |  |
  | 604 |  | /\*\* |
  | 605 |  | \* Land category |
  | 606 |  | \* |
  | 607 |  | \* @param string $tag HTML wrapper type, default div. |
  | 608 |  | \* @param string $class name, default land-category. |
  | 609 |  | \* @return string |
  | 610 |  | \* |
  | 611 |  | \* @since 2.0.0 |
  | 612 |  | \* @since 3.4.42 Fix: Filter name was incorrect changed to epl\_get\_property\_land\_category. |
  | 613 |  | \*/ |
  | 614 |  | public function get\_property\_land\_category( $tag = 'div', $class = 'land-category' ) { |
  | 615 |  | if ( ! in\_array( $this->post\_type, array( 'land', 'commercial\_land' ), true ) ) { |
  | 616 |  | return null; |
  | 617 |  | } |
  | 618 |  |  |
  | 619 |  | $land\_category = epl\_listing\_meta\_land\_category\_value( $this->get\_property\_meta( 'property\_land\_category' ) ); |
  | 620 |  |  |
  | 621 |  | if ( empty( $land\_category ) ) { |
  | 622 |  | $land\_category = $land\_category; |
  | 623 |  | } elseif ( 'none' === $tag || 'value' === $tag ) { |
  | 624 |  | $land\_category = $land\_category; |
  | 625 |  | } else { |
  | 626 |  | $land\_category = '<' . $tag . ' class="' . $class . '">' . $land\_category . '</' . $tag . '>'; |
  | 627 |  | } |
  | 628 |  | return apply\_filters( 'epl\_get\_property\_land\_category', $land\_category ); |
  | 629 |  | } |
  | 630 |  |  |
  | 631 |  | /\*\* |
  | 632 |  | \* Formatted Street level address based on selected display option |
  | 633 |  | \* |
  | 634 |  | \* @param bool   $street\_separator Output a address separator after the street address. |
  | 635 |  | \* @param string $separator\_symbol Symbol to use as the address separator, default is a comma. |
  | 636 |  | \* |
  | 637 |  | \* @return string formatted street address |
  | 638 |  | \* |
  | 639 |  | \* @since 2.0.0 |
  | 640 |  | \* @since 3.4.8 Corrected spacing if value is present. Implemented separator with existing filter. |
  | 641 |  | \*/ |
  | 642 |  | public function get\_formatted\_property\_address( $street\_separator = true, $separator\_symbol = ',' ) { |
  | 643 |  |  |
  | 644 |  | $street = ''; |
  | 645 |  |  |
  | 646 |  | $lot\_number = $this->get\_property\_meta( 'property\_address\_lot\_number' ); |
  | 647 |  | if ( ! empty( $lot\_number ) ) { |
  | 648 |  | $street .= $lot\_number . ' '; |
  | 649 |  | } |
  | 650 |  |  |
  | 651 |  | $sub\_number = $this->get\_property\_meta( 'property\_address\_sub\_number' ); |
  | 652 |  | if ( ! empty( $sub\_number ) ) { |
  | 653 |  | $street .= $sub\_number . '/'; |
  | 654 |  | } |
  | 655 |  |  |
  | 656 |  | $street\_number = $this->get\_property\_meta( 'property\_address\_street\_number' ); |
  | 657 |  | if ( ! empty( $street\_number ) ) { |
  | 658 |  | $street .= $street\_number . ' '; |
  | 659 |  | } |
  | 660 |  |  |
  | 661 |  | $street\_name = $this->get\_property\_meta( 'property\_address\_street' ); |
  | 662 |  | if ( ! empty( $street\_name ) ) { |
  | 663 |  | $street .= $street\_name; |
  | 664 |  |  |
  | 665 |  | if ( true === $street\_separator ) { |
  | 666 |  | $separator\_symbol = apply\_filters( 'epl\_property\_address\_separator', $separator\_symbol ); |
  | 667 |  | $street          .= $separator\_symbol; |
  | 668 |  | } |
  | 669 |  | } |
  | 670 |  | return apply\_filters( 'epl\_get\_formatted\_property\_address', $street ); |
  | 671 |  | } |
  | 672 |  |  |
  | 673 |  | /\*\* |
  | 674 |  | \* Listing Category |
  | 675 |  | \* |
  | 676 |  | \* @since 2.0 |
  | 677 |  | \* @param string $tag HTML wrapper type, default div. |
  | 678 |  | \* @param string $class name, default property-category. |
  | 679 |  | \* @return string |
  | 680 |  | \*/ |
  | 681 |  | public function get\_property\_category( $tag = 'div', $class = 'property-category' ) { |
  | 682 |  |  |
  | 683 |  | $property\_category = epl\_listing\_meta\_property\_category\_value( $this->get\_property\_meta( 'property\_category' ) ); |
  | 684 |  |  |
  | 685 |  | if ( empty( $property\_category ) ) { |
  | 686 |  | $property\_category = $property\_category; |
  | 687 |  | } elseif ( 'none' === $tag || 'value' === $tag ) { |
  | 688 |  | $property\_category = $property\_category; |
  | 689 |  | } else { |
  | 690 |  | $property\_category = '<' . $tag . ' class="' . $class . '">' . $property\_category . '</' . $tag . '>'; |
  | 691 |  | } |
  | 692 |  | return apply\_filters( 'epl\_get\_property\_category', $property\_category ); |
  | 693 |  | } |
  | 694 |  |  |
  | 695 |  | /\*\* |
  | 696 |  | \* Get Commercial Category |
  | 697 |  | \* |
  | 698 |  | \* @since 2.0 |
  | 699 |  | \* @param string $tag HTML wrapper type, default div. |
  | 700 |  | \* @param string $class name, default commercial-category. |
  | 701 |  | \* @return string |
  | 702 |  | \*/ |
  | 703 |  | public function get\_property\_commercial\_category( $tag = 'div', $class = 'commercial-category' ) { |
  | 704 |  | $property\_commercial\_category = epl\_listing\_load\_meta\_commercial\_category\_value( $this->get\_property\_meta( 'property\_commercial\_category' ) ); |
  | 705 |  |  |
  | 706 |  | if ( empty( $property\_commercial\_category ) ) { |
  | 707 |  | $property\_commercial\_category = $property\_commercial\_category; |
  | 708 |  | } elseif ( 'none' === $tag || 'value' === $tag ) { |
  | 709 |  | $property\_commercial\_category = $property\_commercial\_category; |
  | 710 |  | } else { |
  | 711 |  | $property\_commercial\_category = '<' . $tag . ' class="' . $class . '">' . $property\_commercial\_category . '</' . $tag . '>'; |
  | 712 |  | } |
  | 713 |  | return apply\_filters( 'epl\_get\_property\_commercial\_category', $property\_commercial\_category ); |
  | 714 |  | } |
  | 715 |  |  |
  | 716 |  | /\*\* |
  | 717 |  | \* Get Rural Category |
  | 718 |  | \* |
  | 719 |  | \* @since 3.1.12 |
  | 720 |  | \* @param string $tag HTML wrapper type, default div. |
  | 721 |  | \* @param string $class name, default rural-category. |
  | 722 |  | \* @return string |
  | 723 |  | \*/ |
  | 724 |  | public function get\_property\_rural\_category( $tag = 'div', $class = 'rural-category' ) { |
  | 725 |  | $property\_rural\_category = epl\_listing\_load\_meta\_rural\_category\_value( $this->get\_property\_meta( 'property\_rural\_category' ) ); |
  | 726 |  |  |
  | 727 |  | if ( empty( $property\_rural\_category ) ) { |
  | 728 |  | $property\_rural\_category = $property\_rural\_category; |
  | 729 |  | } elseif ( 'none' === $tag || 'value' === $tag ) { |
  | 730 |  | $property\_rural\_category = $property\_rural\_category; |
  | 731 |  | } else { |
  | 732 |  | $property\_rural\_category = '<' . $tag . ' class="' . $class . '">' . $property\_rural\_category . '</' . $tag . '>'; |
  | 733 |  | } |
  | 734 |  | return apply\_filters( 'epl\_get\_property\_rural\_category', $property\_rural\_category ); |
  | 735 |  | } |
  | 736 |  |  |
  | 737 |  | /\*\* |
  | 738 |  | \* Price Class |
  | 739 |  | \* |
  | 740 |  | \* @since 2.0 |
  | 741 |  | \* @return string |
  | 742 |  | \*/ |
  | 743 |  | public function get\_price\_class() { |
  | 744 |  | if ( $this->get\_property\_meta( 'property\_status' ) === 'sold' ) { |
  | 745 |  | return apply\_filters( 'property\_price\_class', 'epl-price sold' ); |
  | 746 |  | } |
  | 747 |  | } |
  | 748 |  |  |
  | 749 |  | /\*\* |
  | 750 |  | \* Tax |
  | 751 |  | \* |
  | 752 |  | \* @since 2.0 |
  | 753 |  | \* @return string |
  | 754 |  | \*/ |
  | 755 |  | public function get\_property\_tax() { |
  | 756 |  |  |
  | 757 |  | $property\_tax = $this->get\_property\_meta( 'property\_tax' ); |
  | 758 |  |  |
  | 759 |  | if ( 'exempt' === $property\_tax ) { |
  | 760 |  | $property\_tax = ' ' . \_\_( 'Inc. GST', 'easy-property-listings' ); |
  | 761 |  | } elseif ( 'inclusive' === $property\_tax ) { |
  | 762 |  | $property\_tax = ' ' . \_\_( 'Inc. GST', 'easy-property-listings' ); |
  | 763 |  | } elseif ( 'exclusive' === $property\_tax ) { |
  | 764 |  | $property\_tax = ' +  ' . \_\_( 'GST', 'easy-property-listings' ); |
  | 765 |  | } else { |
  | 766 |  | $property\_tax = ''; |
  | 767 |  | } |
  | 768 |  | return apply\_filters( 'epl\_get\_property\_tax', $property\_tax ); |
  | 769 |  | } |
  | 770 |  |  |
  | 771 |  | /\*\* |
  | 772 |  | \* Plain price value |
  | 773 |  | \* |
  | 774 |  | \* @since 2.0.0 |
  | 775 |  | \* @since 3.4.38 Using label\_poa for no rental price. Added epl\_price\_rent\_period filter. Added filter epl\_pa\_price for P.A label. |
  | 776 |  | \* @return string |
  | 777 |  | \*/ |
  | 778 |  | public function get\_price\_plain\_value() { |
  | 779 |  |  |
  | 780 |  | $price\_plain\_value = ''; |
  | 781 |  |  |
  | 782 |  | if ( 'property' === $this->post\_type || 'land' === $this->post\_type || 'rural' === $this->post\_type || 'business' === $this->post\_type ) { |
  |  | 1021 | // Hide Price. |
  |  | 1022 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) && empty( $prop\_price\_view ) ) { |
  |  | 1023 | $price .= $both . '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->epl\_settings['label\_poa'] . '</span>'; |
  |  | 1024 | } |
  |  | 1025 | } |
  |  | 1026 | } |
  |  | 1027 |  |
  |  | 1028 | // Status. |
  |  | 1029 | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1030 | $price = '<span class="page-price sold-status">' . $this->label\_sold . '</span>' . $this->get\_property\_price\_sold\_display(); |
  |  | 1031 | } |
  |  | 1032 | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { // Under Offer. |
  |  | 1033 | $price = '<div class="page-price under-offer-status">' . $this->label\_under\_offer . '</div>'; |
  |  | 1034 | } |
  |  | 1035 | if ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1036 | $price = '<span class="page-price leased-status sold-status">' . $this->label\_leased . '</span>' . $this->get\_property\_price\_lease\_display(); |
  |  | 1037 | } |
  |  | 1038 | } |
  |  | 1039 | return apply\_filters( 'epl\_get\_price', $price ); |
  |  | 1040 | } |
  |  | 1041 |  |
  |  | 1042 | /\*\* |
  |  | 1043 | \* Price Sticker |
  |  | 1044 | \* |
  |  | 1045 | \* @return string |
  |  | 1046 | \* @throws Exception PHP 5.3 notice. |
  |  | 1047 | \* @since 2.0 |
  |  | 1048 | \* @since 3.5 Added fix for trim when string string is null. |
  |  | 1049 | \*/ |
  |  | 1050 | public function get\_price\_sticker() { |
  |  | 1051 | $price\_sticker = ''; |
  |  | 1052 | $date          = new DateTime( $this->post->post\_date ); |
  |  | 1053 | $now           = new DateTime(); |
  |  | 1054 |  |
  |  | 1055 | // php > 5.3. |
  |  | 1056 | if ( method\_exists( $now, 'diff' ) ) { |
  |  | 1057 |  |
  |  | 1058 | $diff = $now->diff( $date ); |
  |  | 1059 | $diff = $diff->days; |
  |  | 1060 | } else { |
  |  | 1061 | $diff = strtotime( $now->format( 'M d Y ' ) ) - strtotime( $date->format( 'M d Y ' ) ); |
  |  | 1062 | $diff = floor( $diff / 3600 / 24 ); |
  |  | 1063 |  |
  |  | 1064 | } |
  |  | 1065 |  |
  |  | 1066 | $inspection\_time = ! is\_null( $this->get\_property\_meta( 'property\_inspection\_times' ) ) ? $this->get\_property\_meta( 'property\_inspection\_times' ) : ''; |
  |  | 1067 | $inspection\_time = trim( $inspection\_time ); |
  |  | 1068 | if ( 'property' === $this->post\_type || 'land' === $this->post\_type || 'rural' === $this->post\_type || 'business' === $this->post\_type ) { |
  |  | 1069 | $price\_sticker = ''; |
  |  | 1070 | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1071 | $price\_sticker .= '<span class="status-sticker sold">' . $this->label\_sold . '</span>'; |
  |  | 1072 | } else { |
  |  | 1073 | // Property. |
  |  | 1074 | $price\_sticker = ''; |
  |  | 1075 |  |
  |  | 1076 | if ( $this->get\_epl\_settings( 'sticker\_new\_range' ) >= $diff ) { |
  |  | 1077 | $price\_sticker .= '<span class="status-sticker new">' . $this->get\_epl\_settings( 'label\_new' ) . '</span>'; |
  |  | 1078 | } |
  |  | 1079 |  |
  |  | 1080 | if ( ! empty( $inspection\_time ) ) { |
  |  | 1081 | $price\_sticker .= '<span class="status-sticker open">' . $this->get\_epl\_settings( 'label\_home\_open' ) . '</span>'; |
  |  | 1082 | } |
  |  | 1083 | } |
  |  | 1084 | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1085 | $price\_sticker  = ''; |
  |  | 1086 | $price\_sticker .= '<span class="status-sticker under-offer">' . $this->label\_under\_offer . '</span>'; |
  |  | 1087 | } |
  |  | 1088 | } elseif ( 'rental' === $this->post\_type ) { |
  |  | 1089 |  |
  |  | 1090 | if ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1091 | $price\_sticker  = ''; |
  |  | 1092 | $price\_sticker .= '<span class="status-sticker leased">' . $this->label\_leased . '</span>'; |
  |  | 1093 |  |
  |  | 1094 | } else { |
  |  | 1095 | $price\_sticker = ''; |
  |  | 1096 | if ( $this->get\_epl\_settings( 'sticker\_new\_range' ) >= $diff ) { |
  |  | 1097 | $price\_sticker .= '<span class="status-sticker new">' . $this->get\_epl\_settings( 'label\_new' ) . '</span>'; |
  |  | 1098 | } |
  |  | 1099 |  |
  |  | 1100 | if ( ! empty( $inspection\_time ) ) { |
  |  | 1101 | $price\_sticker .= '<span class="status-sticker open">' . $this->get\_epl\_settings( 'label\_home\_open' ) . '</span>'; |
  |  | 1102 | } |
  |  | 1103 | } |
  |  | 1104 | } elseif ( 'commercial' === $this->post\_type || 'commercial\_land' === $this->post\_type ) { |
  |  | 1105 | $price\_sticker = ''; |
  |  | 1106 | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1107 | $price\_sticker .= '<span class="status-sticker sold">' . $this->label\_sold . '</span>'; |
  |  | 1108 | } |
  |  | 1109 | if ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1110 | $price\_sticker .= '<span class="status-sticker leased">' . $this->label\_leased . '</span>'; |
  |  | 1111 | } |
  |  | 1112 | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1113 |  |
  |  | 1114 | $price\_sticker .= '<span class="status-sticker under-offer">' . $this->label\_under\_offer . '</span>'; |
  |  | 1115 | } |
  |  | 1116 | } |
  |  | 1117 |  |
  |  | 1118 | do\_action( 'epl\_property\_stickers', $this ); // Add more stickers. |
  |  | 1119 | return apply\_filters( 'epl\_get\_price\_sticker', $price\_sticker ); |
  |  | 1120 | } |
  |  | 1121 |  |
  |  | 1122 | /\*\* |
  |  | 1123 | \* Get list style price |
  |  | 1124 | \* |
  |  | 1125 | \* @return string |
  |  | 1126 | \* |
  |  | 1127 | \* @since 2.0.0 |
  |  | 1128 | \* @since 3.4.38 Added epl\_price\_rent\_period filter.  Added filter epl\_pa\_price for P.A label. |
  |  | 1129 | \*/ |
  |  | 1130 | public function get\_l\_price() { |
  | 783 | 1131 | $price\_display = $this->get\_property\_price\_display(); |
  | 784 |  | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 785 |  | $price\_plain\_value = $this->label\_sold; |
  | 786 |  | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) {   // Property. |
  | 787 |  | $price\_plain\_value = $this->get\_property\_price\_display(); |
  | 788 |  | } else { |
  | 789 |  | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  | 790 |  | $price\_plain\_value = $this->epl\_settings['label\_poa']; |
  | 791 |  | } else { |
  | 792 |  | $price\_plain\_value = \_\_( 'POA', 'easy-property-listings' ); |
  | 793 |  | } |
  | 794 |  | } |
  | 795 |  | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  | 796 |  |  |
  | 797 |  | $price\_plain\_value = $this->label\_under\_offer; |
  | 798 |  | } |
  | 799 |  | } elseif ( 'rental' === $this->post\_type ) { |
  | 800 |  | $prop\_rent = $this->get\_property\_rent(); |
  | 801 |  | if ( ! empty( $prop\_rent ) && 'yes' === $this->get\_property\_meta( 'property\_rent\_display' ) && 'leased' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  | 802 |  |  |
  | 803 |  | $price\_rent\_period = $this->get\_property\_meta( 'property\_rent\_period' ); |
  | 804 |  | $price\_rent\_period = apply\_filters( 'epl\_price\_rent\_period', $price\_rent\_period ); |
  | 805 |  | $price\_plain\_value = $this->get\_property\_rent() . '/' . ucfirst( $price\_rent\_period ); |
  | 806 |  | $prop\_rent\_view    = $this->get\_property\_meta( 'property\_rent\_view' ); |
  | 807 |  | if ( ! empty( $prop\_rent\_view ) ) { |
  | 808 |  | $price\_plain\_value = $this->get\_property\_meta( 'property\_rent\_view' ); |
  | 809 |  | } |
  | 810 |  | $prop\_bond = $this->get\_property\_bond(); |
  | 811 |  | if ( ! empty( $prop\_bond ) && 'yes' === $this->epl\_settings['display\_bond'] ) { |
  | 812 |  | $price\_plain\_value = $this->get\_property\_bond(); |
  | 813 |  | } |
  | 814 |  | } elseif ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 815 |  | $price\_plain\_value = $this->label\_leased . ' ' . $this->get\_property\_rent(); |
  | 816 |  |  |
  | 817 |  | } else { |
  | 818 |  | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  | 819 |  | $price\_plain\_value = $this->epl\_settings['label\_poa']; |
  | 820 |  | } else { |
  | 821 |  | $price\_plain\_value = \_\_( 'TBA', 'easy-property-listings' ); |
  | 822 |  | } |
  | 823 |  | } |
  | 824 |  | } elseif ( 'commercial' === $this->post\_type || 'commercial\_land' === $this->post\_type ) { |
  | 825 |  | $price\_display    = $this->get\_property\_price\_display(); |
  | 826 |  | $prop\_rent\_period = $this->get\_property\_meta( 'property\_com\_rent\_period' ); |
  | 827 |  | $rent\_lease\_type  = |
  | 828 |  | ! empty( $prop\_rent\_period ) ? epl\_listing\_load\_meta\_commercial\_rent\_period\_value( $this->get\_property\_meta( 'property\_com\_rent\_period' ) ) : apply\_filters( 'epl\_pa\_label', \_\_( 'P.A.', 'easy-property-listings' ) ); |
  | 829 |  | // Sale or Both. |
  | 830 |  | $price\_plain\_value = ''; |
  | 831 |  | if ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'sale' || $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  | 832 |  |  |
  | 833 |  | if ( $this->get\_property\_meta( 'property\_com\_authority' ) === 'auction' ) {    // Auction. |
  | 834 |  | $price\_plain\_value = '<span class="page-price auction">' . apply\_filters( 'epl\_commercial\_auction\_label', \_\_( 'Auction', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_auction() . '</span>'; |
  |  | 1132 | $l\_price       = ''; |
  |  | 1133 |  |
  |  | 1134 | if ( 'property' === $this->post\_type || 'land' === $this->post\_type || 'rural' === $this->post\_type || 'business' === $this->post\_type ) { |
  |  | 1135 | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1136 | $l\_price = '<li class="page-price sold-status">' . $this->label\_sold . '</li>'; |
  | 835 | 1137 | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) {   // Property. |
  | 836 |  | $~~price\_plain\_value = apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . ': ' . $this->get\_property\_price\_display() . $this->get\_property\_tax()~~; |
  |  | 1138 | $l\_price = '<li class="page-price">' . $this->get\_property\_price\_display() . '</li>'; |
  | 837 | 1139 | } else { |
  | 838 | 1140 | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  | 839 |  | $price\_plain\_value = apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . ' ' . $this->epl\_settings['label\_poa']; |
  | 840 |  | } |
  | 841 |  | } |
  | 842 |  | } |
  | 843 |  | // Lease or Both. |
  | 844 |  | if ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'lease' || $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { // Both. |
  | 845 |  | $both          = $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ? '<div class="epl-clear"></div>' : ''; |
  | 846 |  | $prop\_com\_rent = $this->get\_property\_com\_rent(); |
  | 847 |  | if ( ! empty( $prop\_com\_rent ) && empty( $price\_display ) ) { |
  | 848 |  | $price\_plain\_value .= $both . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type; |
  | 849 |  | } elseif ( ! empty( $price\_display ) && $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'lease' ) { |
  | 850 |  | $price\_plain\_value .= $both . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_price\_display(); |
  | 851 |  | } elseif ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  | 852 |  | $price\_plain\_value .= $both . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type; |
  | 853 |  | } else { |
  | 854 |  | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  | 855 |  | $price\_plain\_value .= $both . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . ' ' . $this->epl\_settings['label\_poa']; |
  | 856 |  | } |
  | 857 |  | } |
  | 858 |  | } |
  | 859 |  | // Status. |
  | 860 |  | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 861 |  | $price\_plain\_value = $this->label\_sold; |
  | 862 |  | } |
  | 863 |  | // Under Offer. |
  | 864 |  | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  | 865 |  | $price\_plain\_value = $this->label\_under\_offer; |
  | 866 |  | } |
  | 867 |  | // Leased. |
  | 868 |  | if ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 869 |  | $price\_plain\_value = $this->label\_leased; |
  | 870 |  | } |
  | 871 |  | } |
  | 872 |  | return apply\_filters( 'epl\_get\_price\_plain\_value', $price\_plain\_value ); |
  | 873 |  | } |
  | 874 |  |  |
  | 875 |  | /\*\* |
  | 876 |  | \* Get Price |
  | 877 |  | \* |
  | 878 |  | \* @since 2.0 |
  | 879 |  | \* @since 3.4.27 Fixed rent period translation. |
  | 880 |  | \* @since 3.4.28 Using label\_poa for no rental price. Added epl\_price\_rent\_period filter. Added filter epl\_pa\_price for P.A label. |
  | 881 |  | \* @since 3.4.38 Commercial listing type "both" now shows sale & lease prices. |
  | 882 |  | \* @return string |
  | 883 |  | \*/ |
  | 884 |  | public function get\_price() { |
  | 885 |  |  |
  | 886 |  | $price\_display   = $this->get\_property\_price\_display(); |
  | 887 |  | $prop\_rent       = $this->get\_property\_rent(); |
  | 888 |  | $prop\_rent\_view  = $this->get\_property\_meta( 'property\_rent\_view' ); |
  | 889 |  | $prop\_price\_view = $this->get\_property\_meta( 'property\_price\_view' ); |
  | 890 |  | $prop\_com\_rent   = $this->get\_property\_com\_rent(); |
  | 891 |  | $price           = ''; |
  | 892 |  | if ( 'property' === $this->post\_type || 'land' === $this->post\_type || 'rural' === $this->post\_type || 'business' === $this->post\_type ) { |
  | 893 |  | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 894 |  | $price = '<span class="page-price sold-status">' . $this->label\_sold . $this->get\_property\_price\_sold\_display() . '</span>'; |
  | 895 |  | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) {   // Property. |
  | 896 |  | $price = '<span class="page-price">' . $this->get\_property\_price\_display() . '</span>'; |
  | 897 |  |  |
  | 898 |  | } elseif ( 'auction' === $this->get\_property\_meta( 'property\_authority' ) && 'no' === $this->get\_property\_meta( 'property\_price\_display' ) ) {  // Auction. |
  | 899 |  | $price = '<span class="page-price auction">' . apply\_filters( 'epl\_get\_property\_auction\_label', \_\_( 'Auction', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_auction() . '</span>'; |
  | 900 |  | } else { |
  | 901 |  | $price\_poa = \_\_( 'POA', 'easy-property-listings' ); |
  | 902 |  | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  | 903 |  | $price\_poa = $this->epl\_settings['label\_poa']; |
  | 904 |  | } |
  | 905 |  | $price = '<span class="page-price">' . $price\_poa . '</span>'; |
  | 906 |  | } |
  | 907 |  | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  | 908 |  | $price = '<span class="page-price under-offer-status">' . $this->label\_under\_offer . '</span>'; |
  | 909 |  | } |
  | 910 |  | } elseif ( 'rental' === $this->post\_type ) { |
  | 911 |  | if ( ! empty( $prop\_rent ) && 'yes' === $this->get\_property\_meta( 'property\_rent\_display' ) && 'leased' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  | 912 |  |  |
  | 913 |  | $rent\_separator = apply\_filters( 'epl\_property\_price\_rent\_separator', '/' ); |
  | 914 |  |  |
  | 915 |  | $price  = '<span class="page-price-rent">'; |
  | 916 |  | $price .= '<span class="page-price" style="margin-right:0;">' . $this->get\_property\_rent() . '</span>'; |
  | 917 |  | if ( empty( $prop\_rent\_view ) ) { |
  | 918 |  | $rent\_period\_value = $this->get\_property\_meta( 'property\_rent\_period' ); |
  | 919 |  | $rent\_period\_value = apply\_filters( 'epl\_price\_rent\_period', $rent\_period\_value ); |
  | 920 |  | $rent\_options      = epl\_get\_property\_rent\_period\_opts(); |
  | 921 |  | $rent\_period\_label = isset( $rent\_options[ $rent\_period\_value ] ) ? $rent\_options[ $rent\_period\_value ] : ucfirst( $rent\_period\_value ); |
  | 922 |  | $price            .= '<span class="rent-period">' . $rent\_separator . '' . $rent\_period\_label . '</span>'; |
  | 923 |  | } |
  | 924 |  | $price    .= '</span>'; |
  | 925 |  | $prop\_bond = $this->get\_property\_bond(); |
  | 926 |  | if ( ! empty( $prop\_bond ) && in\_array( $this->get\_epl\_settings( 'display\_bond' ), array( 1, 'yes' ) ) ) { // phpcs:ignore |
  | 927 |  | $price .= '<span class="bond">' . $this->get\_property\_bond() . '</span>'; |
  | 928 |  | } |
  | 929 |  | } elseif ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 930 |  | $price = '<span class="page-price sold-status">' . $this->label\_leased . '</span>'; |
  | 931 |  |  |
  | 932 |  | } else { |
  | 933 |  | $price\_poa = \_\_( 'TBA', 'easy-property-listings' ); |
  | 934 |  | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  | 935 |  | $price\_poa = $this->epl\_settings['label\_poa']; |
  | 936 |  | } |
  | 937 |  | $price = '<span class="page-price">' . $price\_poa . '</span>'; |
  | 938 |  | } |
  | 939 |  | } elseif ( 'commercial' === $this->post\_type || 'commercial\_land' === $this->post\_type ) { |
  | 940 |  | $prop\_com\_rent\_period = $this->get\_property\_meta( 'property\_com\_rent\_period' ); |
  | 941 |  | $rent\_lease\_type      = |
  | 942 |  | ! empty( $prop\_com\_rent\_period ) ? epl\_listing\_load\_meta\_commercial\_rent\_period\_value( $this->get\_property\_meta( 'property\_com\_rent\_period' ) ) : apply\_filters( 'epl\_pa\_label', \_\_( 'P.A.', 'easy-property-listings' ) ); |
  | 943 |  |  |
  | 944 |  | // Sale or both. |
  | 945 |  | $price = ''; |
  | 946 |  | if ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'sale' || $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  | 947 |  |  |
  | 948 |  | if ( $this->get\_property\_meta( 'property\_com\_authority' ) === 'auction' ) {    // Auction. |
  | 949 |  | $price = '<span class="page-price auction">' . apply\_filters( 'epl\_commercial\_auction\_label', \_\_( 'Auction', 'easy-property-listings' ) ) . ' ' . $this->get\_property\_auction() . '</span>'; |
  | 950 |  | } elseif ( ! empty( $prop\_price\_view ) && $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  | 951 |  | $price = '<span class="page-price"> |
  | 952 |  | <span class="page-price-prefix"> |
  | 953 |  | <span class="page-price-prefix">' . |
  | 954 |  | apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . ': |
  | 955 |  | </span> ' . $this->get\_property\_price\_display() . ' |
  | 956 |  | </span> |
  | 957 |  | <span class="epl-clear"></span> |
  | 958 |  | <span class="page-price-prefix"> |
  | 959 |  | <span class="page-price-prefix">' . |
  | 960 |  | apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . ': |
  | 961 |  | </span> ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type . ' |
  | 962 |  | </span> |
  | 963 |  | </span> |
  | 964 |  | '; |
  | 965 |  | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) {   // Property. |
  | 966 |  | $price = '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_price\_display() . $this->get\_property\_tax() . '</span>'; |
  |  | 1141 | $price\_plain\_value = $this->epl\_settings['label\_poa']; |
  |  | 1142 | } |
  |  | 1143 | $l\_price = '<li class="page-price">' . $price\_plain\_value . '</li>'; |
  |  | 1144 | } |
  |  | 1145 | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1146 | $l\_price = '<li class="page-price under-offer-status">' . $this->label\_under\_offer . '</li>'; |
  |  | 1147 | } |
  |  | 1148 | } elseif ( 'rental' === $this->post\_type ) { |
  |  | 1149 | $prop\_rent = $this->get\_property\_rent(); |
  |  | 1150 | if ( ! empty( $prop\_rent ) && 'yes' === $this->get\_property\_meta( 'property\_rent\_display' ) && 'leased' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1151 | $price\_rent\_period = $this->get\_property\_meta( 'property\_rent\_period' ); |
  |  | 1152 | $price\_rent\_period = apply\_filters( 'epl\_price\_rent\_period', $price\_rent\_period ); |
  |  | 1153 | $l\_price           = '<li class="page-price-rent"> |
  |  | 1154 | <span class="page-price" style="margin-right:0;">' . $this->get\_property\_rent() . '</span> |
  |  | 1155 | <span class="rent-period">/' . $price\_rent\_period . '</span> |
  |  | 1156 | </li>'; |
  |  | 1157 |  |
  |  | 1158 | } elseif ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1159 | $l\_price = '<li class="page-price sold-status">' . $this->label\_leased . '</li>'; |
  |  | 1160 | } |
  |  | 1161 | } elseif ( 'commercial' === $this->post\_type || 'commercial\_land' === $this->post\_type ) { |
  |  | 1162 | $prop\_com\_rent\_period = $this->get\_property\_meta( 'property\_com\_rent\_period' ); |
  |  | 1163 | $prop\_com\_rent        = $this->get\_property\_com\_rent(); |
  |  | 1164 | $rent\_lease\_type      = |
  |  | 1165 | ! empty( $prop\_com\_rent\_period ) ? epl\_listing\_load\_meta\_commercial\_rent\_period\_value( $this->get\_property\_meta( 'property\_com\_rent\_period' ) ) : apply\_filters( 'epl\_pa\_label', \_\_( 'P.A.', 'easy-property-listings' ) ); |
  |  | 1166 | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1167 | $l\_price = '<li class="status-sticker sold">' . $this->label\_sold . '</li>'; |
  |  | 1168 | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) { // Property. |
  |  | 1169 | $l\_price = '<li class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_price\_display() . $this->get\_property\_tax() . '</li>'; |
  | 967 | 1170 | } else { |
  | 968 | 1171 | $price\_plain\_value = ''; |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L970) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1173) |  |
  | 970 | 1173 | $price\_plain\_value = $this->epl\_settings['label\_poa']; |
  | 971 | 1174 | } |
  | 972 |  | $price = '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . '</span> ' . $price\_plain\_value . '</span>'; |
  | 973 |  | } |
  | 974 |  | } |
  | 975 |  |  |
  | 976 |  | // Lease. |
  | 977 |  | if ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'lease' ) { |
  | 978 |  | $both = $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ? '<div class="epl-clear"></div>' : ''; |
  | 979 |  |  |
  | 980 |  | // Show Price. |
  | 981 |  | if ( $this->get\_property\_meta( 'property\_price\_display' ) === 'yes' ) { |
  | 982 |  | if ( ! empty( $price\_display ) ) { |
  | 983 |  | $price .= $both . '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_price\_display() . '</span>'; |
  | 984 |  |  |
  | 985 |  | } elseif ( ! empty( $prop\_com\_rent ) ) { |
  | 986 |  | $price .= $both . '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type . '</span>'; |
  | 987 |  | } |
  | 988 |  | } else { |
  | 989 |  | // Hide Price. |
  | 990 |  | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  | 991 |  | $price .= $both . '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->epl\_settings['label\_poa'] . '</span>'; |
  | 992 |  | } |
  | 993 |  | } |
  | 994 |  |  |
  | 995 |  | // Price text override. |
  | 996 |  | if ( ! empty( $prop\_price\_view ) ) { |
  | 997 |  | $price = '<span class="page-price"><span class="page-price-prefix">' . $this->get\_property\_price\_display() . '</span>'; |
  | 998 |  | } |
  | 999 |  | } |
  | 1000 |  |  |
  | 1001 |  | // Both (Add Lease Price Details). |
  | 1002 |  | if ( $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  | 1003 |  | $both = $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ? '<div class="epl-clear"></div>' : ''; |
  | 1004 |  |  |
  | 1005 |  | // Show Price. |
  | 1006 |  | if ( $this->get\_property\_meta( 'property\_price\_display' ) === 'yes' && empty( $prop\_price\_view ) ) { |
  | 1007 |  |  |
  | 1008 |  | if ( ! empty( $prop\_com\_rent ) ) { |
  | 1009 |  | $price .= $both . '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type . '</span>'; |
  | 1010 |  | } |
  | 1011 |  | } else { |
  | 1012 |  | // Hide Price. |
  | 1013 |  | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) && empty( $prop\_price\_view ) ) { |
  | 1014 |  | $price .= $both . '<span class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->epl\_settings['label\_poa'] . '</span>'; |
  | 1015 |  | } |
  | 1016 |  | } |
  | 1017 |  | } |
  | 1018 |  |  |
  | 1019 |  | // Status. |
  | 1020 |  | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1021 |  | $price = '<span class="page-price sold-status">' . $this->label\_sold . '</span>' . $this->get\_property\_price\_sold\_display(); |
  | 1022 |  | } |
  | 1023 |  | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { // Under Offer. |
  | 1024 |  | $price = '<div class="page-price under-offer-status">' . $this->label\_under\_offer . '</div>'; |
  | 1025 |  | } |
  | 1026 |  | if ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1027 |  | $price = '<span class="page-price leased-status sold-status">' . $this->label\_leased . '</span>' . $this->get\_property\_price\_lease\_display(); |
  | 1028 |  | } |
  | 1029 |  | } |
  | 1030 |  | return apply\_filters( 'epl\_get\_price', $price ); |
  | 1031 |  | } |
  | 1032 |  |  |
  | 1033 |  | /\*\* |
  | 1034 |  | \* Price Sticker |
  | 1035 |  | \* |
  | 1036 |  | \* @return string |
  | 1037 |  | \* @throws Exception PHP 5.3 notice. |
  | 1038 |  | \* @since 2.0 |
  | 1039 |  | \* @since 3.5 Added fix for trim when string string is null. |
  | 1040 |  | \*/ |
  | 1041 |  | public function get\_price\_sticker() { |
  | 1042 |  | $price\_sticker = ''; |
  | 1043 |  | $date          = new DateTime( $this->post->post\_date ); |
  | 1044 |  | $now           = new DateTime(); |
  | 1045 |  |  |
  | 1046 |  | // php > 5.3. |
  | 1047 |  | if ( method\_exists( $now, 'diff' ) ) { |
  | 1048 |  |  |
  | 1049 |  | $diff = $now->diff( $date ); |
  | 1050 |  | $diff = $diff->days; |
  | 1051 |  | } else { |
  | 1052 |  | $diff = strtotime( $now->format( 'M d Y ' ) ) - strtotime( $date->format( 'M d Y ' ) ); |
  | 1053 |  | $diff = floor( $diff / 3600 / 24 ); |
  | 1054 |  |  |
  | 1055 |  | } |
  | 1056 |  |  |
  | 1057 |  | $inspection\_time = ! is\_null( $this->get\_property\_meta( 'property\_inspection\_times' ) ) ? $this->get\_property\_meta( 'property\_inspection\_times' ) : ''; |
  | 1058 |  | $inspection\_time = trim( $inspection\_time ); |
  | 1059 |  | if ( 'property' === $this->post\_type || 'land' === $this->post\_type || 'rural' === $this->post\_type || 'business' === $this->post\_type ) { |
  | 1060 |  | $price\_sticker = ''; |
  | 1061 |  | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1062 |  | $price\_sticker .= '<span class="status-sticker sold">' . $this->label\_sold . '</span>'; |
  | 1063 |  | } else { |
  | 1064 |  | // Property. |
  | 1065 |  | $price\_sticker = ''; |
  | 1066 |  |  |
  | 1067 |  | if ( $this->get\_epl\_settings( 'sticker\_new\_range' ) >= $diff ) { |
  | 1068 |  | $price\_sticker .= '<span class="status-sticker new">' . $this->get\_epl\_settings( 'label\_new' ) . '</span>'; |
  | 1069 |  | } |
  | 1070 |  |  |
  | 1071 |  | if ( ! empty( $inspection\_time ) ) { |
  | 1072 |  | $price\_sticker .= '<span class="status-sticker open">' . $this->get\_epl\_settings( 'label\_home\_open' ) . '</span>'; |
  | 1073 |  | } |
  | 1074 |  | } |
  | 1075 |  | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1076 |  | $price\_sticker  = ''; |
  | 1077 |  | $price\_sticker .= '<span class="status-sticker under-offer">' . $this->label\_under\_offer . '</span>'; |
  | 1078 |  | } |
  | 1079 |  | } elseif ( 'rental' === $this->post\_type ) { |
  | 1080 |  |  |
  | 1081 |  | if ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1082 |  | $price\_sticker  = ''; |
  | 1083 |  | $price\_sticker .= '<span class="status-sticker leased">' . $this->label\_leased . '</span>'; |
  | 1084 |  |  |
  | 1085 |  | } else { |
  | 1086 |  | $price\_sticker = ''; |
  | 1087 |  | if ( $this->get\_epl\_settings( 'sticker\_new\_range' ) >= $diff ) { |
  | 1088 |  | $price\_sticker .= '<span class="status-sticker new">' . $this->get\_epl\_settings( 'label\_new' ) . '</span>'; |
  | 1089 |  | } |
  | 1090 |  |  |
  | 1091 |  | if ( ! empty( $inspection\_time ) ) { |
  | 1092 |  | $price\_sticker .= '<span class="status-sticker open">' . $this->get\_epl\_settings( 'label\_home\_open' ) . '</span>'; |
  | 1093 |  | } |
  | 1094 |  | } |
  | 1095 |  | } elseif ( 'commercial' === $this->post\_type || 'commercial\_land' === $this->post\_type ) { |
  | 1096 |  | $price\_sticker = ''; |
  | 1097 |  | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1098 |  | $price\_sticker .= '<span class="status-sticker sold">' . $this->label\_sold . '</span>'; |
  | 1099 |  | } |
  | 1100 |  | if ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1101 |  | $price\_sticker .= '<span class="status-sticker leased">' . $this->label\_leased . '</span>'; |
  | 1102 |  | } |
  | 1103 |  | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1104 |  |  |
  | 1105 |  | $price\_sticker .= '<span class="status-sticker under-offer">' . $this->label\_under\_offer . '</span>'; |
  | 1106 |  | } |
  | 1107 |  | } |
  | 1108 |  |  |
  | 1109 |  | do\_action( 'epl\_property\_stickers', $this ); // Add more stickers. |
  | 1110 |  | return apply\_filters( 'epl\_get\_price\_sticker', $price\_sticker ); |
  | 1111 |  | } |
  | 1112 |  |  |
  | 1113 |  | /\*\* |
  | 1114 |  | \* Get list style price |
  | 1115 |  | \* |
  | 1116 |  | \* @return string |
  | 1117 |  | \* |
  | 1118 |  | \* @since 2.0.0 |
  | 1119 |  | \* @since 3.4.38 Added epl\_price\_rent\_period filter.  Added filter epl\_pa\_price for P.A label. |
  | 1120 |  | \*/ |
  | 1121 |  | public function get\_l\_price() { |
  | 1122 |  | $price\_display = $this->get\_property\_price\_display(); |
  | 1123 |  | $l\_price       = ''; |
  | 1124 |  |  |
  | 1125 |  | if ( 'property' === $this->post\_type || 'land' === $this->post\_type || 'rural' === $this->post\_type || 'business' === $this->post\_type ) { |
  | 1126 |  | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1127 |  | $l\_price = '<li class="page-price sold-status">' . $this->label\_sold . '</li>'; |
  | 1128 |  | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) {   // Property. |
  | 1129 |  | $l\_price = '<li class="page-price">' . $this->get\_property\_price\_display() . '</li>'; |
  | 1130 |  | } else { |
  | 1131 |  | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  | 1132 |  | $price\_plain\_value = $this->epl\_settings['label\_poa']; |
  | 1133 |  | } |
  | 1134 |  | $l\_price = '<li class="page-price">' . $price\_plain\_value . '</li>'; |
  | 1135 |  | } |
  | 1136 |  | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1137 |  | $l\_price = '<li class="page-price under-offer-status">' . $this->label\_under\_offer . '</li>'; |
  | 1138 |  | } |
  | 1139 |  | } elseif ( 'rental' === $this->post\_type ) { |
  | 1140 |  | $prop\_rent = $this->get\_property\_rent(); |
  | 1141 |  | if ( ! empty( $prop\_rent ) && 'yes' === $this->get\_property\_meta( 'property\_rent\_display' ) && 'leased' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1142 |  | $price\_rent\_period = $this->get\_property\_meta( 'property\_rent\_period' ); |
  | 1143 |  | $price\_rent\_period = apply\_filters( 'epl\_price\_rent\_period', $price\_rent\_period ); |
  | 1144 |  | $l\_price           = '<li class="page-price-rent"> |
  | 1145 |  | <span class="page-price" style="margin-right:0;">' . $this->get\_property\_rent() . '</span> |
  | 1146 |  | <span class="rent-period">/' . $price\_rent\_period . '</span> |
  | 1147 |  | </li>'; |
  | 1148 |  |  |
  | 1149 |  | } elseif ( 'leased' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1150 |  | $l\_price = '<li class="page-price sold-status">' . $this->label\_leased . '</li>'; |
  | 1151 |  | } |
  | 1152 |  | } elseif ( 'commercial' === $this->post\_type || 'commercial\_land' === $this->post\_type ) { |
  | 1153 |  | $prop\_com\_rent\_period = $this->get\_property\_meta( 'property\_com\_rent\_period' ); |
  | 1154 |  | $prop\_com\_rent        = $this->get\_property\_com\_rent(); |
  | 1155 |  | $rent\_lease\_type      = |
  | 1156 |  | ! empty( $prop\_com\_rent\_period ) ? epl\_listing\_load\_meta\_commercial\_rent\_period\_value( $this->get\_property\_meta( 'property\_com\_rent\_period' ) ) : apply\_filters( 'epl\_pa\_label', \_\_( 'P.A.', 'easy-property-listings' ) ); |
  | 1157 |  | if ( 'sold' === $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1158 |  | $l\_price = '<li class="status-sticker sold">' . $this->label\_sold . '</li>'; |
  | 1159 |  | } elseif ( ! empty( $price\_display ) && 'yes' === $this->get\_property\_meta( 'property\_price\_display' ) ) { // Property. |
  | 1160 |  | $l\_price = '<li class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_sale\_label', \_\_( 'For Sale', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_price\_display() . $this->get\_property\_tax() . '</li>'; |
  | 1161 |  | } else { |
  | 1162 |  | $price\_plain\_value = ''; |
  | 1163 |  | if ( ! empty( $this->epl\_settings ) && isset( $this->epl\_settings['label\_poa'] ) ) { |
  | 1164 |  | $price\_plain\_value = $this->epl\_settings['label\_poa']; |
  | 1165 |  | } |
  | 1166 |  | $l\_price = '<li class="page-price">' . $price\_plain\_value . '</li>'; |
  | 1167 |  | } |
  | 1168 |  | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  | 1169 |  | $l\_price = '<li class="page-price under-offer-status">' . $this->label\_under\_offer . '</li>'; |
  | 1170 |  | } |
  | 1171 |  | if ( ! empty( $prop\_com\_rent ) && $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  | 1172 |  |  |
  | 1173 |  | $l\_price .= '<li class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type . '</li>'; |
  | 1174 |  | } elseif ( ! empty( $prop\_com\_rent ) && $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'lease' ) { |
  | 1175 |  | $l\_price = '<li class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type . '</li>'; |
  | 1176 |  | } |
  | 1177 |  | } |
  | 1178 |  | return apply\_filters( 'epl\_get\_price\_in\_list', $l\_price ); |
  | 1179 |  | } |
  | 1180 |  |  |
  | 1181 |  | /\*\* |
  | 1182 |  | \* Get Year Built |
  | 1183 |  | \* |
  | 1184 |  | \* @since 2.0 |
  | 1185 |  | \* @param string $returntype Options i = span, v = value, d = string, l = list item, t = text. |
  | 1186 |  | \* @return |
  | 1187 |  | \* |
  | 1188 |  | \* @since 3.5.0 Added filter for empty values. |
  | 1189 |  | \*/ |
  | 1190 |  | public function get\_property\_year\_built( $returntype = 'i' ) { |
  | 1191 |  |  |
  | 1192 |  | $year\_built    = $this->get\_property\_meta( 'property\_year\_built', false ); |
  | 1193 |  | $label = apply\_filters( 'epl\_get\_property\_year\_built\_label', \_\_( 'Built', 'easy-property-listings' ) ); |
  | 1194 |  |  |
  | 1195 |  | if ( empty( $year\_built ) ) { |
  | 1196 |  | return apply\_filters( 'epl\_get\_year\_built\_empty\_value', null, $returntype, $year\_built, $label ); |
  | 1197 |  | } |
  | 1198 |  |  |
  | 1199 |  | $returntype = apply\_filters( 'epl\_get\_property\_year\_built\_return\_type', $returntype ); |
  | 1200 |  | $value      = $this->get\_property\_meta( 'property\_year\_built' ); |
  | 1201 |  |  |
  | 1202 |  | $return = ''; |
  | 1203 |  |  |
  | 1204 |  | switch ( $returntype ) { |
  | 1205 |  |  |
  | 1206 |  | case 'i': |
  | 1207 |  | $return = '<span title="' . $label . '" class="icon year-built"><span class="icon-value">' . $value . '</span></span>'; |
  | 1208 |  | break; |
  | 1209 |  |  |
  | 1210 |  | case 'v': |
  | 1211 |  | $return = $value; |
  | 1212 |  | break; |
  | 1213 |  |  |
  | 1214 |  | case 't': |
  | 1215 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-year-built"> |
  | 1216 |  | <span class="epl-text-icon-label year-built">' . $label . '</span> |
  | 1217 |  | <span class="epl-text-icon-value year-built">' . $value . '</span> |
  | 1218 |  | </div>'; |
  | 1219 |  | break; |
  | 1220 |  |  |
  | 1221 |  | case 'd': |
  | 1222 |  | $return = $label . ' ' . $value . ' '; |
  | 1223 |  | break; |
  | 1224 |  |  |
  | 1225 |  | case 'l': |
  | 1226 |  | $return = '<li class="year-built">' . $label . ' ' . $value . '</li>'; |
  | 1227 |  | break; |
  | 1228 |  | } |
  | 1229 |  | return apply\_filters( 'epl\_get\_property\_year\_built', $return, $returntype, $value, $label ); |
  | 1230 |  | } |
  | 1231 |  |  |
  | 1232 |  | /\*\* |
  | 1233 |  | \* Get Bedrooms |
  | 1234 |  | \* |
  | 1235 |  | \* @since 2.0 |
  | 1236 |  | \* @param string $returntype Options i = span, v = value, d = string, l = list item, t = text, s = svg icon. |
  | 1237 |  | \* @return string |
  | 1238 |  | \* |
  | 1239 |  | \* @since 3.5.0 Added filter for empty values. |
  | 1240 |  | \*/ |
  | 1241 |  | public function get\_property\_bed( $returntype = 'i' ) { |
  | 1242 |  |  |
  | 1243 |  | $value         = $this->get\_property\_meta( 'property\_bedrooms' ); |
  | 1244 |  | $label = apply\_filters( 'epl\_get\_property\_bedrooms\_label', \_\_( 'Bedrooms', 'easy-property-listings' ) ); |
  | 1245 |  |  |
  | 1246 |  | if ( empty( $value ) ) { |
  | 1247 |  | return apply\_filters( 'epl\_get\_property\_bed\_empty\_value', null, $returntype, $value, $label ); |
  | 1248 |  | } |
  | 1249 |  |  |
  | 1250 |  | $returntype = 'i' === $returntype && epl\_get\_option( 'epl\_icons\_svg\_listings' ) === 'on' ? 's' : $returntype; |
  | 1251 |  | $returntype = apply\_filters( 'epl\_get\_property\_bedrooms\_return\_type', $returntype ); |
  | 1252 |  |  |
  | 1253 |  | $singular = apply\_filters( 'epl\_get\_property\_bed\_label', \_\_( 'bed', 'easy-property-listings' ) ); |
  | 1254 |  |  |
  | 1255 |  | $return = ''; |
  | 1256 |  |  |
  | 1257 |  | switch ( $returntype ) { |
  | 1258 |  |  |
  | 1259 |  | case 'i': |
  | 1260 |  | $return = '<span title="' . $label . '" class="icon beds"><span class="icon-value">' . $value . '</span></span>'; |
  | 1261 |  | break; |
  | 1262 |  |  |
  | 1263 |  | case 'v': |
  | 1264 |  | $return = $value; |
  | 1265 |  | break; |
  | 1266 |  |  |
  | 1267 |  | case 't': |
  | 1268 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-bed"> |
  | 1269 |  | <span class="epl-text-icon-label bed">' . $label . '</span> |
  | 1270 |  | <span class="epl-text-icon-value bed">' . $value . '</span> |
  | 1271 |  | </div>'; |
  | 1272 |  | break; |
  | 1273 |  |  |
  | 1274 |  | case 'd': |
  | 1275 |  | $return = $singular . ' ' . $value . ' '; |
  | 1276 |  | break; |
  | 1277 |  |  |
  | 1278 |  | case 'l': |
  | 1279 |  | $return = '<li class="bedrooms">' . $value . ' ' . $singular . '</li>'; |
  | 1280 |  | break; |
  | 1281 |  |  |
  | 1282 |  | case 's': |
  | 1283 |  | $svg    = '<svg viewBox="0 0 100 100" class="epl-icon-svg-bed"><use xlink:href="#epl-icon-svg-bed"></use></svg>'; |
  | 1284 |  | $return = '<div class="epl-icon-svg-container epl-icon-container-bed"> |
  | 1285 |  | <div class="epl-icon epl-icon-svg bed" title="' . $label . '">' . $svg . '</div> |
  | 1286 |  | <div class="icon-value">' . $value . '</div> |
  | 1287 |  | </div>'; |
  | 1288 |  | break; |
  | 1289 |  | } |
  | 1290 |  | return apply\_filters( 'epl\_get\_property\_bed', $return, $returntype, $value, $label, $singular ); |
  | 1291 |  | } |
  | 1292 |  |  |
  | 1293 |  | /\*\* |
  | 1294 |  | \* Get Bathrooms |
  | 1295 |  | \* |
  | 1296 |  | \* @since 2.0 |
  | 1297 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item, s = svg icon. |
  | 1298 |  | \* @return string |
  | 1299 |  | \* |
  | 1300 |  | \* @since 3.5.0 Added filter for empty values. |
  | 1301 |  | \*/ |
  | 1302 |  | public function get\_property\_bath( $returntype = 'i' ) { |
  | 1303 |  |  |
  | 1304 |  | $bathrooms     = $this->get\_property\_meta( 'property\_bathrooms', false ); |
  | 1305 |  | $label = apply\_filters( 'epl\_get\_property\_bathrooms\_label', \_\_( 'Bathrooms', 'easy-property-listings' ) ); |
  | 1306 |  |  |
  | 1307 |  | if ( empty( $bathrooms ) ) { |
  | 1308 |  | return apply\_filters( 'epl\_get\_property\_bath\_empty\_value', null, $returntype, $bathrooms, $label ); |
  | 1309 |  | } |
  | 1310 |  |  |
  | 1311 |  | $returntype = 'i' === $returntype && epl\_get\_option( 'epl\_icons\_svg\_listings' ) === 'on' ? 's' : $returntype; |
  | 1312 |  | $returntype = apply\_filters( 'epl\_get\_property\_bathrooms\_return\_type', $returntype ); |
  | 1313 |  |  |
  | 1314 |  | $singular = apply\_filters( 'epl\_get\_property\_bath\_label', \_\_( 'bath', 'easy-property-listings' ) ); |
  | 1315 |  | $value    = $this->get\_property\_meta( 'property\_bathrooms' ); |
  | 1316 |  | $return   = ''; |
  | 1317 |  |  |
  | 1318 |  | switch ( $returntype ) { |
  | 1319 |  |  |
  | 1320 |  | case 'i': |
  | 1321 |  | $return = '<span title="' . $label . '" class="icon bath"><span class="icon-value">' . $value . '</span></span>'; |
  | 1322 |  | break; |
  | 1323 |  |  |
  | 1324 |  | case 'v': |
  | 1325 |  | $return = $value; |
  | 1326 |  | break; |
  | 1327 |  |  |
  | 1328 |  | case 't': |
  | 1329 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-bath"> |
  | 1330 |  | <span class="epl-text-icon-label bath">' . $label . '</span> |
  | 1331 |  | <span class="epl-text-icon-value bath">' . $value . '</span> |
  | 1332 |  | </div>'; |
  | 1333 |  | break; |
  | 1334 |  |  |
  | 1335 |  | case 'd': |
  | 1336 |  | $return = $singular . ' ' . $value . ' '; |
  | 1337 |  | break; |
  | 1338 |  |  |
  | 1339 |  | case 'l': |
  | 1340 |  | $return = '<li class="bathrooms">' . $value . ' ' . $singular . '</li>'; |
  | 1341 |  | break; |
  | 1342 |  |  |
  | 1343 |  | case 's': |
  | 1344 |  | $svg    = '<svg viewBox="0 0 100 100" class="epl-icon-svg-bath"><use xlink:href="#epl-icon-svg-bath"></use></svg>'; |
  | 1345 |  | $return = '<div class="epl-icon-svg-container epl-icon-container-bath"> |
  | 1346 |  | <div class="epl-icon epl-icon-svg bath" title="' . $label . '">' . $svg . '</div> |
  | 1347 |  | <div class="icon-value">' . $value . '</div> |
  | 1348 |  | </div>'; |
  | 1349 |  | break; |
  | 1350 |  |  |
  | 1351 |  | } |
  | 1352 |  | return apply\_filters( 'epl\_get\_property\_bath', $return, $returntype, $value, $label, $singular ); |
  | 1353 |  | } |
  | 1354 |  |  |
  | 1355 |  | /\*\* |
  | 1356 |  | \* Get Rooms |
  | 1357 |  | \* |
  | 1358 |  | \* @since 2.0 |
  | 1359 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 1360 |  | \* @return string |
  | 1361 |  | \* |
  | 1362 |  | \* @since 3.5.0 Added filter for empty values. |
  | 1363 |  | \*/ |
  | 1364 |  | public function get\_property\_rooms( $returntype = 'i' ) { |
  | 1365 |  |  |
  | 1366 |  | $rooms         = $this->get\_property\_meta( 'property\_rooms', false ); |
  | 1367 |  | $label = apply\_filters( 'epl\_get\_property\_rooms\_label', \_\_( 'Rooms', 'easy-property-listings' ) ); |
  | 1368 |  |  |
  | 1369 |  | if ( empty( $rooms ) ) { |
  | 1370 |  | return apply\_filters( 'epl\_get\_property\_rooms\_empty\_value', null, $returntype, $rooms, $label ); |
  | 1371 |  | } |
  | 1372 |  |  |
  | 1373 |  | $returntype = apply\_filters( 'epl\_get\_property\_rooms\_return\_type', $returntype ); |
  | 1374 |  |  |
  | 1375 |  | $value  = $this->get\_property\_meta( 'property\_rooms' ); |
  | 1376 |  | $return = ''; |
  | 1377 |  |  |
  | 1378 |  | switch ( $returntype ) { |
  | 1379 |  |  |
  | 1380 |  | case 'i': |
  | 1381 |  | $return = '<span title="' . $label . '" class="icon rooms"><span class="icon-value">' . $value . '</span></span>'; |
  | 1382 |  | break; |
  | 1383 |  |  |
  | 1384 |  | case 'v': |
  | 1385 |  | $return = $value; |
  | 1386 |  | break; |
  | 1387 |  |  |
  | 1388 |  | case 't': |
  | 1389 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-rooms"> |
  | 1390 |  | <span class="epl-text-icon-label rooms">' . $label . '</span> |
  | 1391 |  | <span class="epl-text-icon-value rooms">' . $value . '</span> |
  | 1392 |  | </div>'; |
  | 1393 |  | break; |
  | 1394 |  |  |
  | 1395 |  | case 'd': |
  | 1396 |  | $return = $label . ' ' . $value . ' '; |
  | 1397 |  | break; |
  | 1398 |  |  |
  | 1399 |  | case 'l': |
  | 1400 |  | $return = '<li class="rooms">' . $value . ' ' . $label . '</li>'; |
  | 1401 |  | break; |
  | 1402 |  | } |
  | 1403 |  | return apply\_filters( 'epl\_get\_property\_rooms', $return, $returntype, $value, $label ); |
  | 1404 |  | } |
  | 1405 |  |  |
  | 1406 |  | /\*\* |
  | 1407 |  | \* Get Parking |
  | 1408 |  | \* |
  | 1409 |  | \* Caluclated value based on number of garages + carports |
  | 1410 |  | \* |
  | 1411 |  | \* @since 2.0 |
  | 1412 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item, s = svg icon. |
  | 1413 |  | \* @return string |
  | 1414 |  | \* @since 3.4.20 New filter epl\_total\_parking\_spaces for value. |
  | 1415 |  | \* @since 3.4.21 Removed first check. |
  | 1416 |  | \* @since 3.5.0 Added filter for empty values. |
  | 1417 |  | \*/ |
  | 1418 |  | public function get\_property\_parking( $returntype = 'i' ) { |
  | 1419 |  |  |
  | 1420 |  | $prop\_garage  = $this->get\_property\_meta( 'property\_garage' ); |
  | 1421 |  | $prop\_carport = $this->get\_property\_meta( 'property\_carport' ); |
  | 1422 |  |  |
  | 1423 |  | $returntype = 'i' === $returntype && epl\_get\_option( 'epl\_icons\_svg\_listings' ) === 'on' ? 's' : $returntype; |
  | 1424 |  | $returntype = apply\_filters( 'epl\_get\_property\_parking\_spaces\_return\_type', $returntype ); |
  | 1425 |  |  |
  | 1426 |  | $property\_garage  = intval( $this->get\_property\_meta( 'property\_garage' ) ); |
  | 1427 |  | $property\_carport = intval( $this->get\_property\_meta( 'property\_carport' ) ); |
  | 1428 |  | $value            = $property\_carport + $property\_garage; |
  | 1429 |  | $value            = apply\_filters( 'epl\_total\_parking\_spaces', $value ); |
  | 1430 |  | $label            = apply\_filters( 'epl\_get\_parking\_spaces\_label', \_\_( 'Parking Spaces', 'easy-property-listings' ) ); |
  | 1431 |  |  |
  | 1432 |  | if ( 0 === $value ) { |
  | 1433 |  | return apply\_filters( 'epl\_get\_parking\_spaces\_empty\_value', null, $returntype, $value, $label ); |
  | 1434 |  | } |
  | 1435 |  |  |
  | 1436 |  | $return = ''; |
  | 1437 |  |  |
  | 1438 |  | switch ( $returntype ) { |
  | 1439 |  |  |
  | 1440 |  | case 'i': |
  | 1441 |  | $return = '<span title="' . $label . '" class="icon parking"><span class="icon-value">' . $value . '</span></span>'; |
  | 1442 |  | break; |
  | 1443 |  |  |
  | 1444 |  | case 'v': |
  | 1445 |  | $return = $value; |
  | 1446 |  | break; |
  | 1447 |  |  |
  | 1448 |  | case 't': |
  | 1449 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-parking"> |
  | 1450 |  | <span class="epl-text-icon-label parking">' . $label . '</span> |
  | 1451 |  | <span class="epl-text-icon-value parking">' . $value . '</span> |
  | 1452 |  | </div>'; |
  | 1453 |  | break; |
  | 1454 |  |  |
  | 1455 |  | case 'd': |
  | 1456 |  | $return = $label . ' ' . $value . ' '; |
  | 1457 |  | break; |
  | 1458 |  |  |
  | 1459 |  | case 'l': |
  | 1460 |  | $return = '<li class="parking">' . $value . ' ' . $label . '</li>'; |
  | 1461 |  | break; |
  | 1462 |  |  |
  | 1463 |  | case 's': |
  | 1464 |  | $svg    = '<svg viewBox="0 0 100 100" class="epl-icon-svg-car"><use xlink:href="#epl-icon-svg-car"></use></svg>'; |
  | 1465 |  | $return = '<div class="epl-icon-svg-container epl-icon-container-car"> |
  | 1466 |  | <div class="epl-icon epl-icon-svg car" title="' . $label . '">' . $svg . '</div> |
  | 1467 |  | <div class="icon-value">' . $value . '</div> |
  | 1468 |  | </div>'; |
  | 1469 |  | break; |
  | 1470 |  | } |
  | 1471 |  | return apply\_filters( 'epl\_get\_property\_parking', $return, $returntype, $value, $label ); |
  | 1472 |  |  |
  | 1473 |  | } |
  | 1474 |  |  |
  | 1475 |  | /\*\* |
  | 1476 |  | \* Get Garage |
  | 1477 |  | \* |
  | 1478 |  | \* @since 2.0 |
  | 1479 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 1480 |  | \* @return string |
  | 1481 |  | \* |
  | 1482 |  | \* @since 3.5.0 Added filter for empty values. |
  | 1483 |  | \*/ |
  | 1484 |  | public function get\_property\_garage( $returntype = 'i' ) { |
  | 1485 |  |  |
  | 1486 |  | $prop\_garage   = $this->get\_property\_meta( 'property\_garage' ); |
  | 1487 |  | $label = apply\_filters( 'epl\_get\_property\_garage\_label', \_\_( 'garage', 'easy-property-listings' ) ); |
  | 1488 |  |  |
  | 1489 |  | if ( empty( $prop\_garage ) ) { |
  | 1490 |  | return apply\_filters( 'epl\_get\_property\_garage\_empty\_value', null, $returntype, $prop\_garage, $label ); |
  | 1491 |  | } |
  | 1492 |  |  |
  | 1493 |  | $returntype = apply\_filters( 'epl\_get\_property\_garage\_return\_type', $returntype ); |
  | 1494 |  |  |
  | 1495 |  | $value  = $this->get\_property\_meta( 'property\_garage' ); |
  | 1496 |  | $return = ''; |
  | 1497 |  |  |
  | 1498 |  | switch ( $returntype ) { |
  | 1499 |  |  |
  | 1500 |  | case 'i': |
  | 1501 |  | $return = '<span title="' . $label . '" class="icon parking"><span class="icon-value">' . $value . '</span></span>'; |
  | 1502 |  | break; |
  | 1503 |  |  |
  | 1504 |  | case 'v': |
  | 1505 |  | $return = $value; |
  | 1506 |  | break; |
  | 1507 |  |  |
  | 1508 |  | case 't': |
  | 1509 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-garage"> |
  | 1510 |  | <span class="epl-text-icon-label garage">' . $label . '</span> |
  | 1511 |  | <span class="epl-text-icon-value garage">' . $value . '</span> |
  | 1512 |  | </div>'; |
  | 1513 |  | break; |
  | 1514 |  |  |
  | 1515 |  | case 'd': |
  | 1516 |  | $return = $label . ' ' . $value . ' '; |
  | 1517 |  | break; |
  | 1518 |  |  |
  | 1519 |  | case 'l': |
  | 1520 |  | $return = '<li class="garage">' . $value . ' ' . $label . '</li>'; |
  | 1521 |  | break; |
  | 1522 |  | } |
  | 1523 |  | return apply\_filters( 'epl\_get\_property\_garage', $return, $returntype, $value, $label ); |
  | 1524 |  | } |
  | 1525 |  |  |
  | 1526 |  | /\*\* |
  | 1527 |  | \* Get Carport |
  | 1528 |  | \* |
  | 1529 |  | \* @since 2.0 |
  | 1530 |  | \* @since 3.4.5 Fixed the incorrect meta key |
  | 1531 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 1532 |  | \* @return string |
  | 1533 |  | \* |
  | 1534 |  | \* @since 3.5.0 Added filter for empty values. |
  | 1535 |  | \*/ |
  | 1536 |  | public function get\_property\_carport( $returntype = 'i' ) { |
  | 1537 |  |  |
  | 1538 |  | $prop\_carport  = $this->get\_property\_meta( 'property\_carport' ); |
  | 1539 |  | $label = apply\_filters( 'epl\_get\_property\_carport\_label', \_\_( 'carport', 'easy-property-listings' ) ); |
  | 1540 |  |  |
  | 1541 |  | if ( empty( $prop\_carport ) ) { |
  | 1542 |  | return apply\_filters( 'epl\_get\_property\_carport\_empty\_value', null, $returntype, $prop\_carport, $label ); |
  | 1543 |  | } |
  | 1544 |  |  |
  | 1545 |  | $returntype = apply\_filters( 'epl\_get\_property\_carport\_return\_type', $returntype ); |
  | 1546 |  |  |
  | 1547 |  | $value  = $this->get\_property\_meta( 'property\_carport' ); |
  | 1548 |  | $return = ''; |
  | 1549 |  |  |
  | 1550 |  | switch ( $returntype ) { |
  | 1551 |  |  |
  | 1552 |  | case 'i': |
  | 1553 |  | $return = '<span title="' . $label . '" class="icon parking"><span class="icon-value">' . $value . '</span></span>'; |
  | 1554 |  | break; |
  | 1555 |  |  |
  | 1556 |  | case 'v': |
  | 1557 |  | $return = $value; |
  | 1558 |  | break; |
  | 1559 |  |  |
  | 1560 |  | case 't': |
  | 1561 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-carport"> |
  | 1562 |  | <span class="epl-text-icon-label carport">' . $label . '</span> |
  | 1563 |  | <span class="epl-text-icon-value carport">' . $value . '</span> |
  | 1564 |  | </div>'; |
  | 1565 |  | break; |
  | 1566 |  |  |
  | 1567 |  | case 'd': |
  | 1568 |  | $return = $label . ' ' . $value . ' '; |
  | 1569 |  | break; |
  | 1570 |  |  |
  | 1571 |  | case 'l': |
  | 1572 |  | $return = '<li class="carport">' . $value . ' ' . $label . '</li>'; |
  | 1573 |  | break; |
  | 1574 |  | } |
  | 1575 |  | return apply\_filters( 'epl\_get\_property\_carport', $return, $returntype, $value, $label ); |
  | 1576 |  | } |
  | 1577 |  |  |
  | 1578 |  | /\*\* |
  | 1579 |  | \* Get Air Conditioning |
  | 1580 |  | \* |
  | 1581 |  | \* @since 2.0 |
  | 1582 |  | \* @param string $returntype  Options i = span, v = raw value, t = text, d = string, l = list item, s = svg icon. |
  | 1583 |  | \* @return string |
  | 1584 |  | \* |
  | 1585 |  | \* @since 3.5.0 Added filter for empty values. |
  | 1586 |  | \*/ |
  | 1587 |  | public function get\_property\_air\_conditioning( $returntype = 'i' ) { |
  | 1588 |  |  |
  | 1589 |  | $prop\_ac       = $this->get\_property\_meta( 'property\_air\_conditioning' ); |
  | 1590 |  | $label = apply\_filters( 'epl\_get\_property\_air\_conditioning\_label', \_\_( 'Air Conditioning', 'easy-property-listings' ) ); |
  | 1591 |  |  |
  | 1592 |  | if ( empty( $prop\_ac ) ) { |
  | 1593 |  | return apply\_filters( 'epl\_get\_air\_conditioning\_empty\_value', null, $returntype, $prop\_ac, $label ); |
  | 1594 |  | } |
  | 1595 |  |  |
  | 1596 |  | $returntype = 'i' === $returntype && epl\_get\_option( 'epl\_icons\_svg\_listings' ) === 'on' ? 's' : $returntype; |
  | 1597 |  | $returntype = apply\_filters( 'epl\_get\_property\_air\_conditioning\_return\_type', $returntype ); |
  | 1598 |  |  |
  | 1599 |  | $value  = $this->get\_property\_meta( 'property\_air\_conditioning' ); |
  | 1600 |  | $return = ''; |
  | 1601 |  |  |
  | 1602 |  | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  |  | 1175 | $l\_price = '<li class="page-price">' . $price\_plain\_value . '</li>'; |
  |  | 1176 | } |
  |  | 1177 | if ( 'yes' === $this->get\_property\_meta( 'property\_under\_offer' ) && 'sold' !== $this->get\_property\_meta( 'property\_status' ) ) { |
  |  | 1178 | $l\_price = '<li class="page-price under-offer-status">' . $this->label\_under\_offer . '</li>'; |
  |  | 1179 | } |
  |  | 1180 | if ( ! empty( $prop\_com\_rent ) && $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'both' ) { |
  |  | 1181 |  |
  |  | 1182 | $l\_price .= '<li class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type . '</li>'; |
  |  | 1183 | } elseif ( ! empty( $prop\_com\_rent ) && $this->get\_property\_meta( 'property\_com\_listing\_type' ) === 'lease' ) { |
  |  | 1184 | $l\_price = '<li class="page-price"><span class="page-price-prefix">' . apply\_filters( 'epl\_commercial\_for\_lease\_label', \_\_( 'For Lease', 'easy-property-listings' ) ) . '</span> ' . $this->get\_property\_com\_rent() . ' ' . $rent\_lease\_type . '</li>'; |
  |  | 1185 | } |
  |  | 1186 | } |
  |  | 1187 | return apply\_filters( 'epl\_get\_price\_in\_list', $l\_price ); |
  |  | 1188 | } |
  |  | 1189 |  |
  |  | 1190 | /\*\* |
  |  | 1191 | \* Get Year Built |
  |  | 1192 | \* |
  |  | 1193 | \* @since 2.0 |
  |  | 1194 | \* @param string $returntype Options i = span, v = value, d = string, l = list item, t = text. |
  |  | 1195 | \* @return |
  |  | 1196 | \* |
  |  | 1197 | \* @since 3.5.0 Added filter for empty values. |
  |  | 1198 | \*/ |
  |  | 1199 | public function get\_property\_year\_built( $returntype = 'i' ) { |
  |  | 1200 |  |
  |  | 1201 | $year\_built    = $this->get\_property\_meta( 'property\_year\_built', false ); |
  |  | 1202 | $label = apply\_filters( 'epl\_get\_property\_year\_built\_label', \_\_( 'Built', 'easy-property-listings' ) ); |
  |  | 1203 |  |
  |  | 1204 | if ( empty( $year\_built ) ) { |
  |  | 1205 | return apply\_filters( 'epl\_get\_year\_built\_empty\_value', null, $returntype, $year\_built, $label ); |
  |  | 1206 | } |
  |  | 1207 |  |
  |  | 1208 | $returntype = apply\_filters( 'epl\_get\_property\_year\_built\_return\_type', $returntype ); |
  |  | 1209 | $value      = $this->get\_property\_meta( 'property\_year\_built' ); |
  |  | 1210 |  |
  |  | 1211 | $return = ''; |
  | 1603 | 1212 |  |
  | 1604 | 1213 | switch ( $returntype ) { |
  | 1605 | 1214 |  |
  | 1606 | 1215 | case 'i': |
  | 1607 |  | $return = '<span title="' . $label . '" class="icon ~~air"~~></span>'; |
  |  | 1216 | $return = '<span title="' . $label . '" class="icon year-built"><span class="icon-value">' . $value . '</span></span>'; |
  | 1608 | 1217 | break; |
  | 1609 | 1218 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1613) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1222) |  |
  | 1613 | 1222 |  |
  | 1614 | 1223 | case 't': |
  | 1615 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-air"> |
  | 1616 |  | <span class="epl-text-icon-label air">' . $label . '</span> |
  |  | 1224 | $return = '<div class="epl-text-icon-container epl-text-icon-container-year-built"> |
  |  | 1225 | <span class="epl-text-icon-label year-built">' . $label . '</span> |
  |  | 1226 | <span class="epl-text-icon-value year-built">' . $value . '</span> |
  | 1617 | 1227 | </div>'; |
  | 1618 | 1228 | break; |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1623) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1233) |  |
  | 1623 | 1233 |  |
  | 1624 | 1234 | case 'l': |
  | 1625 |  | $return = '<li class="air">' . $label . '</li>'; |
  | 1626 |  | break; |
  | 1627 |  |  |
  | 1628 |  | case 's': |
  | 1629 |  | $svg    = '<svg viewBox="0 0 100 100" class="epl-icon-svg-air"><use xlink:href="#epl-icon-svg-air"></use></svg>'; |
  | 1630 |  | $return = '<div class="epl-icon-svg-container epl-icon-container-air"> |
  | 1631 |  | <div class="epl-icon epl-icon-svg air" title="' . $label . '">' . $svg . '</div> |
  | 1632 |  | </div>'; |
  | 1633 |  | break; |
  | 1634 |  | } |
  | 1635 |  | return apply\_filters( 'epl\_get\_property\_air\_conditioning', $return, $returntype, $value, $label ); |
  | 1636 |  | } |
  | 1637 |  |  |
  | 1638 |  | } |
  | 1639 |  |  |
  | 1640 |  | /\*\* |
  | 1641 |  | \* Get Pool |
  | 1642 |  | \* |
  | 1643 |  | \* @since 2.0 |
  | 1644 |  | \* @param string $returntype Options Options i = span, v = raw value, t = text, d = string, l = list item, s = svg icon. |
  | 1645 |  | \* @return string |
  | 1646 |  | \* |
  | 1647 |  | \* @since 3.5.0 Added filter for empty values. |
  | 1648 |  | \*/ |
  | 1649 |  | public function get\_property\_pool( $returntype = 'i' ) { |
  | 1650 |  |  |
  | 1651 |  | $prop\_pool     = $this->get\_property\_meta( 'property\_pool' ); |
  | 1652 |  | $label = apply\_filters( 'epl\_get\_property\_pool\_label', \_\_( 'Pool', 'easy-property-listings' ) ); |
  | 1653 |  |  |
  | 1654 |  | if ( empty( $prop\_pool ) ) { |
  | 1655 |  | return apply\_filters( 'epl\_get\_property\_pool\_empty\_value', null, $returntype, $prop\_pool, $label ); |
  | 1656 |  | } |
  | 1657 |  |  |
  | 1658 |  | $returntype = 'i' === $returntype && epl\_get\_option( 'epl\_icons\_svg\_listings' ) === 'on' ? 's' : $returntype; |
  | 1659 |  | $returntype = apply\_filters( 'epl\_get\_property\_pool\_return\_type', $returntype ); |
  | 1660 |  |  |
  | 1661 |  | $value  = $this->get\_property\_meta( 'property\_pool' ); |
  | 1662 |  | $return = ''; |
  | 1663 |  |  |
  | 1664 |  | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  |  | 1235 | $return = '<li class="year-built">' . $label . ' ' . $value . '</li>'; |
  |  | 1236 | break; |
  |  | 1237 | } |
  |  | 1238 | return apply\_filters( 'epl\_get\_property\_year\_built', $return, $returntype, $value, $label ); |
  |  | 1239 | } |
  |  | 1240 |  |
  |  | 1241 | /\*\* |
  |  | 1242 | \* Get Bedrooms |
  |  | 1243 | \* |
  |  | 1244 | \* @since 2.0 |
  |  | 1245 | \* @param string $returntype Options i = span, v = value, d = string, l = list item, t = text, s = svg icon. |
  |  | 1246 | \* @return string |
  |  | 1247 | \* |
  |  | 1248 | \* @since 3.5.0 Added filter for empty values. |
  |  | 1249 | \*/ |
  |  | 1250 | public function get\_property\_bed( $returntype = 'i' ) { |
  |  | 1251 |  |
  |  | 1252 | $value         = $this->get\_property\_meta( 'property\_bedrooms' ); |
  |  | 1253 | $label = apply\_filters( 'epl\_get\_property\_bedrooms\_label', \_\_( 'Bedrooms', 'easy-property-listings' ) ); |
  |  | 1254 |  |
  |  | 1255 | if ( empty( $value ) ) { |
  |  | 1256 | return apply\_filters( 'epl\_get\_property\_bed\_empty\_value', null, $returntype, $value, $label ); |
  |  | 1257 | } |
  |  | 1258 |  |
  |  | 1259 | $returntype = 'i' === $returntype && epl\_get\_option( 'epl\_icons\_svg\_listings' ) === 'on' ? 's' : $returntype; |
  |  | 1260 | $returntype = apply\_filters( 'epl\_get\_property\_bedrooms\_return\_type', $returntype ); |
  |  | 1261 |  |
  |  | 1262 | $singular = apply\_filters( 'epl\_get\_property\_bed\_label', \_\_( 'bed', 'easy-property-listings' ) ); |
  |  | 1263 |  |
  |  | 1264 | $return = ''; |
  | 1665 | 1265 |  |
  | 1666 | 1266 | switch ( $returntype ) { |
  | 1667 | 1267 |  |
  | 1668 | 1268 | case 'i': |
  | 1669 |  | $return = '<span title="' . $label . '" class="icon ~~pool"~~></span>'; |
  |  | 1269 | $return = '<span title="' . $label . '" class="icon beds"><span class="icon-value">' . $value . '</span></span>'; |
  | 1670 | 1270 | break; |
  | 1671 | 1271 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1675) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1275) |  |
  | 1675 | 1275 |  |
  | 1676 | 1276 | case 't': |
  | 1677 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-pool"> |
  | 1678 |  | <span class="epl-text-icon-label pool">' . $label . '</span> |
  |  | 1277 | $return = '<div class="epl-text-icon-container epl-text-icon-container-bed"> |
  |  | 1278 | <span class="epl-text-icon-label bed">' . $label . '</span> |
  |  | 1279 | <span class="epl-text-icon-value bed">' . $value . '</span> |
  |  | 1280 | </div>'; |
  |  | 1281 | break; |
  |  | 1282 |  |
  |  | 1283 | case 'd': |
  |  | 1284 | $return = $singular . ' ' . $value . ' '; |
  |  | 1285 | break; |
  |  | 1286 |  |
  |  | 1287 | case 'l': |
  |  | 1288 | $return = '<li class="bedrooms">' . $value . ' ' . $singular . '</li>'; |
  |  | 1289 | break; |
  |  | 1290 |  |
  |  | 1291 | case 's': |
  |  | 1292 | $svg    = '<svg viewBox="0 0 100 100" class="epl-icon-svg-bed"><use xlink:href="#epl-icon-svg-bed"></use></svg>'; |
  |  | 1293 | $return = '<div class="epl-icon-svg-container epl-icon-container-bed"> |
  |  | 1294 | <div class="epl-icon epl-icon-svg bed" title="' . $label . '">' . $svg . '</div> |
  |  | 1295 | <div class="icon-value">' . $value . '</div> |
  |  | 1296 | </div>'; |
  |  | 1297 | break; |
  |  | 1298 | } |
  |  | 1299 | return apply\_filters( 'epl\_get\_property\_bed', $return, $returntype, $value, $label, $singular ); |
  |  | 1300 | } |
  |  | 1301 |  |
  |  | 1302 | /\*\* |
  |  | 1303 | \* Get Bathrooms |
  |  | 1304 | \* |
  |  | 1305 | \* @since 2.0 |
  |  | 1306 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item, s = svg icon. |
  |  | 1307 | \* @return string |
  |  | 1308 | \* |
  |  | 1309 | \* @since 3.5.0 Added filter for empty values. |
  |  | 1310 | \*/ |
  |  | 1311 | public function get\_property\_bath( $returntype = 'i' ) { |
  |  | 1312 |  |
  |  | 1313 | $bathrooms     = $this->get\_property\_meta( 'property\_bathrooms', false ); |
  |  | 1314 | $label = apply\_filters( 'epl\_get\_property\_bathrooms\_label', \_\_( 'Bathrooms', 'easy-property-listings' ) ); |
  |  | 1315 |  |
  |  | 1316 | if ( empty( $bathrooms ) ) { |
  |  | 1317 | return apply\_filters( 'epl\_get\_property\_bath\_empty\_value', null, $returntype, $bathrooms, $label ); |
  |  | 1318 | } |
  |  | 1319 |  |
  |  | 1320 | $returntype = 'i' === $returntype && epl\_get\_option( 'epl\_icons\_svg\_listings' ) === 'on' ? 's' : $returntype; |
  |  | 1321 | $returntype = apply\_filters( 'epl\_get\_property\_bathrooms\_return\_type', $returntype ); |
  |  | 1322 |  |
  |  | 1323 | $singular = apply\_filters( 'epl\_get\_property\_bath\_label', \_\_( 'bath', 'easy-property-listings' ) ); |
  |  | 1324 | $value    = $this->get\_property\_meta( 'property\_bathrooms' ); |
  |  | 1325 | $return   = ''; |
  |  | 1326 |  |
  |  | 1327 | switch ( $returntype ) { |
  |  | 1328 |  |
  |  | 1329 | case 'i': |
  |  | 1330 | $return = '<span title="' . $label . '" class="icon bath"><span class="icon-value">' . $value . '</span></span>'; |
  |  | 1331 | break; |
  |  | 1332 |  |
  |  | 1333 | case 'v': |
  |  | 1334 | $return = $value; |
  |  | 1335 | break; |
  |  | 1336 |  |
  |  | 1337 | case 't': |
  |  | 1338 | $return = '<div class="epl-text-icon-container epl-text-icon-container-bath"> |
  |  | 1339 | <span class="epl-text-icon-label bath">' . $label . '</span> |
  |  | 1340 | <span class="epl-text-icon-value bath">' . $value . '</span> |
  |  | 1341 | </div>'; |
  |  | 1342 | break; |
  |  | 1343 |  |
  |  | 1344 | case 'd': |
  |  | 1345 | $return = $singular . ' ' . $value . ' '; |
  |  | 1346 | break; |
  |  | 1347 |  |
  |  | 1348 | case 'l': |
  |  | 1349 | $return = '<li class="bathrooms">' . $value . ' ' . $singular . '</li>'; |
  |  | 1350 | break; |
  |  | 1351 |  |
  |  | 1352 | case 's': |
  |  | 1353 | $svg    = '<svg viewBox="0 0 100 100" class="epl-icon-svg-bath"><use xlink:href="#epl-icon-svg-bath"></use></svg>'; |
  |  | 1354 | $return = '<div class="epl-icon-svg-container epl-icon-container-bath"> |
  |  | 1355 | <div class="epl-icon epl-icon-svg bath" title="' . $label . '">' . $svg . '</div> |
  |  | 1356 | <div class="icon-value">' . $value . '</div> |
  |  | 1357 | </div>'; |
  |  | 1358 | break; |
  |  | 1359 |  |
  |  | 1360 | } |
  |  | 1361 | return apply\_filters( 'epl\_get\_property\_bath', $return, $returntype, $value, $label, $singular ); |
  |  | 1362 | } |
  |  | 1363 |  |
  |  | 1364 | /\*\* |
  |  | 1365 | \* Get Rooms |
  |  | 1366 | \* |
  |  | 1367 | \* @since 2.0 |
  |  | 1368 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 1369 | \* @return string |
  |  | 1370 | \* |
  |  | 1371 | \* @since 3.5.0 Added filter for empty values. |
  |  | 1372 | \*/ |
  |  | 1373 | public function get\_property\_rooms( $returntype = 'i' ) { |
  |  | 1374 |  |
  |  | 1375 | $rooms         = $this->get\_property\_meta( 'property\_rooms', false ); |
  |  | 1376 | $label = apply\_filters( 'epl\_get\_property\_rooms\_label', \_\_( 'Rooms', 'easy-property-listings' ) ); |
  |  | 1377 |  |
  |  | 1378 | if ( empty( $rooms ) ) { |
  |  | 1379 | return apply\_filters( 'epl\_get\_property\_rooms\_empty\_value', null, $returntype, $rooms, $label ); |
  |  | 1380 | } |
  |  | 1381 |  |
  |  | 1382 | $returntype = apply\_filters( 'epl\_get\_property\_rooms\_return\_type', $returntype ); |
  |  | 1383 |  |
  |  | 1384 | $value  = $this->get\_property\_meta( 'property\_rooms' ); |
  |  | 1385 | $return = ''; |
  |  | 1386 |  |
  |  | 1387 | switch ( $returntype ) { |
  |  | 1388 |  |
  |  | 1389 | case 'i': |
  |  | 1390 | $return = '<span title="' . $label . '" class="icon rooms"><span class="icon-value">' . $value . '</span></span>'; |
  |  | 1391 | break; |
  |  | 1392 |  |
  |  | 1393 | case 'v': |
  |  | 1394 | $return = $value; |
  |  | 1395 | break; |
  |  | 1396 |  |
  |  | 1397 | case 't': |
  |  | 1398 | $return = '<div class="epl-text-icon-container epl-text-icon-container-rooms"> |
  |  | 1399 | <span class="epl-text-icon-label rooms">' . $label . '</span> |
  |  | 1400 | <span class="epl-text-icon-value rooms">' . $value . '</span> |
  | 1679 | 1401 | </div>'; |
  | 1680 | 1402 | break; |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1685) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1407) |  |
  | 1685 | 1407 |  |
  | 1686 | 1408 | case 'l': |
  | 1687 |  | $return = '<li class="~~pool">~~' . $label . '</li>'; |
  | 1688 |  | break; |
  | 1689 |  |  |
  | 1690 |  | ~~case 's':~~ |
  | 1691 |  | ~~$svg    = '<svg viewBox="0 0 100 100" class="epl-icon-svg-pool"><use xlink:href="#epl-icon-svg-pool"></use></svg>';~~ |
  | 1692 |  | $return = '<div class="epl-icon-svg-container epl-icon-container-pool"> |
  | 1693 |  | ~~<div class="epl-icon epl-icon-svg pool" title="' . $label . '">' . $svg . '</div>~~ |
  | 1694 |  | ~~</div>';~~ |
  | 1695 |  | ~~break;~~ |
  | 1696 |  | ~~}~~ |
  | 1697 |  | ~~return apply\_filters( 'epl\_get\_property\_pool', $return, $returntype, $value, $label );~~ |
  | 1698 |  | ~~}~~ |
  | 1699 |  | ~~}~~ |
  | 1700 |  |  |
  | 1701 |  | ~~/\*\*~~ |
  | 1702 |  | ~~\* Get Security System~~ |
  | 1703 |  | ~~\*~~ |
  | 1704 |  | ~~\* @since 2.0~~ |
  | 1705 |  | ~~\* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item.~~ |
  | 1706 |  | \* @return string |
  | 1707 |  | ~~\*~~ |
  | 1708 |  | ~~\* @since 3.5.0 Added filter for empty values.~~ |
  | 1709 |  | \*/ |
  | 1710 |  | ~~public function get\_property\_security\_system( $returntype = 'i' ) {~~ |
  | 1711 |  |  |
  | 1712 |  | $value         = $this->get\_property\_meta( 'property\_security\_system' ); |
  | 1713 |  | ~~$label = apply\_filters( 'epl\_get\_property\_security\_system\_label', \_\_( 'Alarm System', 'easy-property-listings~~' ) ); |
  | 1714 |  |  |
  | 1715 |  | ~~if ( empty( $value ) ) {~~ |
  | 1716 |  | ~~return apply\_filters( 'epl\_get\_security\_system\_empty\_value', null, $returntype, $value, $label~~ ); |
  | 1717 |  | ~~}~~ |
  | 1718 |  |  |
  | 1719 |  | ~~$returntype = apply\_filters( 'epl\_get\_property\_security\_system\_return\_type', $returntype );~~ |
  | 1720 |  |  |
  | 1721 |  | ~~$return = '';~~ |
  | 1722 |  |  |
  | 1723 |  | ~~if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) {~~ |
  |  | 1409 | $return = '<li class="rooms">' . $value . ' ' . $label . '</li>'; |
  |  | 1410 | break; |
  |  | 1411 | } |
  |  | 1412 | return apply\_filters( 'epl\_get\_property\_rooms', $return, $returntype, $value, $label ); |
  |  | 1413 | } |
  |  | 1414 |  |
  |  | 1415 | /\*\* |
  |  | 1416 | \* Get Parking |
  |  | 1417 | \* |
  |  | 1418 | \* Caluclated value based on number of garages + carports |
  |  | 1419 | \* |
  |  | 1420 | \* @since 2.0 |
  |  | 1421 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item, s = svg icon. |
  |  | 1422 | \* @return string |
  |  | 1423 | \* @since 3.4.20 New filter epl\_total\_parking\_spaces for value. |
  |  | 1424 | \* @since 3.4.21 Removed first check. |
  |  | 1425 | \* @since 3.5.0 Added filter for empty values. |
  |  | 1426 | \*/ |
  |  | 1427 | public function get\_property\_parking( $returntype = 'i' ) { |
  |  | 1428 |  |
  |  | 1429 | $prop\_garage  = $this->get\_property\_meta( 'property\_garage' ); |
  |  | 1430 | $prop\_carport = $this->get\_property\_meta( 'property\_carport' ); |
  |  | 1431 |  |
  |  | 1432 | $returntype = 'i' === $returntype && epl\_get\_option( 'epl\_icons\_svg\_listings' ) === 'on' ? 's' : $returntype; |
  |  | 1433 | $returntype = apply\_filters( 'epl\_get\_property\_parking\_spaces\_return\_type', $returntype ); |
  |  | 1434 |  |
  |  | 1435 | $property\_garage  = intval( $this->get\_property\_meta( 'property\_garage' ) ); |
  |  | 1436 | $property\_carport = intval( $this->get\_property\_meta( 'property\_carport' ) ); |
  |  | 1437 | $value            = $property\_carport + $property\_garage; |
  |  | 1438 | $value            = apply\_filters( 'epl\_total\_parking\_spaces', $value ); |
  |  | 1439 | $label            = apply\_filters( 'epl\_get\_parking\_spaces\_label', \_\_( 'Parking Spaces', 'easy-property-listings' ) ); |
  |  | 1440 |  |
  |  | 1441 | if ( 0 === $value ) { |
  |  | 1442 | return apply\_filters( 'epl\_get\_parking\_spaces\_empty\_value', null, $returntype, $value, $label ); |
  |  | 1443 | } |
  |  | 1444 |  |
  |  | 1445 | $return = ''; |
  | 1724 | 1446 |  |
  | 1725 | 1447 | switch ( $returntype ) { |
  | 1726 | 1448 |  |
  | 1727 | 1449 | case 'i': |
  | 1728 |  | $return = '<span title="' . $label . '" class="icon ~~alarm"~~></span>'; |
  |  | 1450 | $return = '<span title="' . $label . '" class="icon parking"><span class="icon-value">' . $value . '</span></span>'; |
  | 1729 | 1451 | break; |
  | 1730 | 1452 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1734) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1456) |  |
  | 1734 | 1456 |  |
  | 1735 | 1457 | case 't': |
  | 1736 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-alarm"> |
  | 1737 |  | <span class="epl-text-icon-label alarm">' . $label . '</span> |
  |  | 1458 | $return = '<div class="epl-text-icon-container epl-text-icon-container-parking"> |
  |  | 1459 | <span class="epl-text-icon-label parking">' . $label . '</span> |
  |  | 1460 | <span class="epl-text-icon-value parking">' . $value . '</span> |
  | 1738 | 1461 | </div>'; |
  | 1739 | 1462 | break; |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1744) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1467) |  |
  | 1744 | 1467 |  |
  | 1745 | 1468 | case 'l': |
  | 1746 |  | $return = '<li class="alarm">' . $label . '</li>'; |
  | 1747 |  | break; |
  | 1748 |  | } |
  | 1749 |  | return apply\_filters( 'epl\_get\_property\_security\_system', $return, $returntype, $value, $label ); |
  | 1750 |  | } |
  | 1751 |  | } |
  | 1752 |  |  |
  | 1753 |  | /\*\* |
  | 1754 |  | \* Get Land Value |
  | 1755 |  | \* |
  | 1756 |  | \* @since 2.0 |
  | 1757 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 1758 |  | \* @return string |
  | 1759 |  | \* |
  | 1760 |  | \* @since 3.4.38 Fix: Don't display land area when it's < 0. |
  | 1761 |  | \* @since 3.4.42 Fix : Fatal error if area is non numeric. |
  | 1762 |  | \*/ |
  | 1763 |  | public function get\_property\_land\_value( $returntype = 'i' ) { |
  | 1764 |  |  |
  | 1765 |  | $property\_land\_area = $this->get\_property\_meta( 'property\_land\_area' ); |
  | 1766 |  |  |
  | 1767 |  | $property\_land\_area\_unit = $this->get\_property\_meta( 'property\_land\_area\_unit' ); |
  | 1768 |  | if ( 'squareMeter' === $property\_land\_area\_unit ) { |
  | 1769 |  | $property\_land\_area\_unit = \_\_( 'm&#178;', 'easy-property-listings' ); |
  | 1770 |  | } elseif ( 'acre' === $property\_land\_area\_unit ) { |
  | 1771 |  | $property\_land\_area\_unit = $property\_land\_area > 1 ? 'acres' : 'acre'; |
  | 1772 |  | $property\_land\_area\_unit = $property\_land\_area\_unit; |
  | 1773 |  | } else { |
  | 1774 |  | // translation for land area unit. |
  | 1775 |  | $property\_land\_area\_unit = $property\_land\_area\_unit; |
  | 1776 |  | } |
  | 1777 |  |  |
  | 1778 |  | $property\_land\_area\_unit = apply\_filters( 'epl\_property\_land\_area\_unit\_label', $property\_land\_area\_unit ); |
  | 1779 |  |  |
  | 1780 |  | if ( is\_numeric( $this->get\_property\_meta( 'property\_land\_area' ) ) && 0 < $this->get\_property\_meta( 'property\_land\_area' ) ) { |
  | 1781 |  |  |
  | 1782 |  | $label = apply\_filters( 'epl\_get\_property\_land\_area\_label', \_\_( 'Land is', 'easy-property-listings' ) ); |
  | 1783 |  |  |
  | 1784 |  | // Decimal. |
  | 1785 |  | if ( fmod( floatval( $property\_land\_area ), 1 ) !== 0.00 ) { |
  | 1786 |  | $property\_land\_area\_format = apply\_filters( 'epl\_property\_land\_area\_format\_decimal', number\_format\_i18n( $property\_land\_area, 2 ) ); |
  | 1787 |  | } else { |
  | 1788 |  | // No decimal. |
  | 1789 |  | $property\_land\_area\_format = apply\_filters( 'epl\_property\_land\_area\_format', number\_format\_i18n( $property\_land\_area ) ); |
  | 1790 |  | } |
  | 1791 |  |  |
  | 1792 |  | $return = '<li class="land-size">' . $label . ' ' . $property\_land\_area\_format . ' ' . $property\_land\_area\_unit . '</li>'; |
  | 1793 |  |  |
  | 1794 |  | $label  = apply\_filters( 'epl\_get\_property\_land\_area\_label', \_\_( 'Land is', 'easy-property-listings' ) ); |
  | 1795 |  | $value  = $property\_land\_area\_format . ' ' . $property\_land\_area\_unit; |
  |  | 1469 | $return = '<li class="parking">' . $value . ' ' . $label . '</li>'; |
  |  | 1470 | break; |
  |  | 1471 |  |
  |  | 1472 | case 's': |
  |  | 1473 | $svg    = '<svg viewBox="0 0 100 100" class="epl-icon-svg-car"><use xlink:href="#epl-icon-svg-car"></use></svg>'; |
  |  | 1474 | $return = '<div class="epl-icon-svg-container epl-icon-container-car"> |
  |  | 1475 | <div class="epl-icon epl-icon-svg car" title="' . $label . '">' . $svg . '</div> |
  |  | 1476 | <div class="icon-value">' . $value . '</div> |
  |  | 1477 | </div>'; |
  |  | 1478 | break; |
  |  | 1479 | } |
  |  | 1480 | return apply\_filters( 'epl\_get\_property\_parking', $return, $returntype, $value, $label ); |
  |  | 1481 |  |
  |  | 1482 | } |
  |  | 1483 |  |
  |  | 1484 | /\*\* |
  |  | 1485 | \* Get Garage |
  |  | 1486 | \* |
  |  | 1487 | \* @since 2.0 |
  |  | 1488 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 1489 | \* @return string |
  |  | 1490 | \* |
  |  | 1491 | \* @since 3.5.0 Added filter for empty values. |
  |  | 1492 | \*/ |
  |  | 1493 | public function get\_property\_garage( $returntype = 'i' ) { |
  |  | 1494 |  |
  |  | 1495 | $prop\_garage   = $this->get\_property\_meta( 'property\_garage' ); |
  |  | 1496 | $label = apply\_filters( 'epl\_get\_property\_garage\_label', \_\_( 'garage', 'easy-property-listings' ) ); |
  |  | 1497 |  |
  |  | 1498 | if ( empty( $prop\_garage ) ) { |
  |  | 1499 | return apply\_filters( 'epl\_get\_property\_garage\_empty\_value', null, $returntype, $prop\_garage, $label ); |
  |  | 1500 | } |
  |  | 1501 |  |
  |  | 1502 | $returntype = apply\_filters( 'epl\_get\_property\_garage\_return\_type', $returntype ); |
  |  | 1503 |  |
  |  | 1504 | $value  = $this->get\_property\_meta( 'property\_garage' ); |
  | 1796 | 1505 | $return = ''; |
  | 1797 | 1506 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1799) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1508) |  |
  | 1799 | 1508 |  |
  | 1800 | 1509 | case 'i': |
  | 1801 |  | $return = '<span title="' . $label . '" class="icon ~~land-size~~"><span class="icon-value">' . $value . '</span></span>'; |
  |  | 1510 | $return = '<span title="' . $label . '" class="icon parking"><span class="icon-value">' . $value . '</span></span>'; |
  | 1802 | 1511 | break; |
  | 1803 | 1512 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1807) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1516) |  |
  | 1807 | 1516 |  |
  | 1808 | 1517 | case 't': |
  | 1809 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-~~land-siz~~e"> |
  | 1810 |  | <span class="epl-text-icon-label ~~land-siz~~e">' . $label . '</span> |
  | 1811 |  | <span class="epl-text-icon-value ~~land-siz~~e">' . $value . '</span> |
  |  | 1518 | $return = '<div class="epl-text-icon-container epl-text-icon-container-garage"> |
  |  | 1519 | <span class="epl-text-icon-label garage">' . $label . '</span> |
  |  | 1520 | <span class="epl-text-icon-value garage">' . $value . '</span> |
  | 1812 | 1521 | </div>'; |
  | 1813 | 1522 | break; |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1818) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1527) |  |
  | 1818 | 1527 |  |
  | 1819 | 1528 | case 'l': |
  | 1820 |  | $return = '<li class="land-size">' . $label . ' ' . $value . '</li>'; |
  | 1821 |  | break; |
  | 1822 |  | } |
  | 1823 |  | return apply\_filters( 'epl\_get\_property\_land\_value', $return, $returntype, $value, $label ); |
  | 1824 |  | } |
  | 1825 |  | } |
  | 1826 |  |  |
  | 1827 |  | /\*\* |
  | 1828 |  | \* Get Building area |
  | 1829 |  | \* |
  | 1830 |  | \* @since 2.0 |
  | 1831 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 1832 |  | \* @return string |
  | 1833 |  | \* @since 3.4.42 Fix : Fatal error if area is non numeric. |
  | 1834 |  | \*/ |
  | 1835 |  | public function get\_property\_building\_area\_value( $returntype = 'i' ) { |
  | 1836 |  |  |
  | 1837 |  | $building\_area = $this->get\_property\_meta( 'property\_building\_area' ); |
  | 1838 |  |  |
  | 1839 |  | $building\_unit = $this->get\_property\_meta( 'property\_building\_area\_unit' ); |
  | 1840 |  | if ( 'squareMeter' === $building\_unit ) { |
  | 1841 |  | $building\_unit = \_\_( 'm&#178;', 'easy-property-listings' ); |
  | 1842 |  | } elseif ( 'acre' === $building\_unit ) { |
  | 1843 |  | $building\_unit = $building\_area > 1 ? 'acres' : 'acre'; |
  | 1844 |  | $building\_unit = $building\_unit; |
  | 1845 |  | } else { |
  | 1846 |  | // Translation for building area unit. |
  | 1847 |  | $building\_unit = $building\_unit; |
  | 1848 |  | } |
  | 1849 |  |  |
  | 1850 |  | $building\_unit = apply\_filters( 'epl\_property\_building\_area\_unit\_label', $building\_unit ); |
  | 1851 |  |  |
  | 1852 |  | if ( intval( $this->get\_property\_meta( 'property\_building\_area' ) ) !== 0 ) { |
  | 1853 |  |  |
  | 1854 |  | $label = apply\_filters( 'epl\_get\_property\_building\_area\_label', \_\_( 'Floor Area is', 'easy-property-listings' ) ); |
  | 1855 |  |  |
  | 1856 |  | // Decimal. |
  | 1857 |  | if ( fmod( floatval( $building\_area ), 1 ) !== 0.00 ) { |
  | 1858 |  | $building\_area\_format = apply\_filters( 'epl\_property\_building\_area\_format\_decimal', number\_format\_i18n( $building\_area, 2 ) ); |
  | 1859 |  | } else { |
  | 1860 |  | // No decimal. |
  | 1861 |  | $building\_area\_format = apply\_filters( 'epl\_property\_building\_area\_format', number\_format\_i18n( $building\_area ) ); |
  | 1862 |  | } |
  | 1863 |  |  |
  | 1864 |  | $return = '<li class="building-size">' . $label . ' ' . $building\_area\_format . ' ' . $building\_unit . '</li>'; |
  | 1865 |  |  |
  | 1866 |  | $label  = apply\_filters( 'epl\_get\_property\_building\_area\_label', \_\_( 'Floor Area is', 'easy-property-listings' ) ); |
  | 1867 |  | $value  = $building\_area\_format . ' ' . $building\_unit; |
  |  | 1529 | $return = '<li class="garage">' . $value . ' ' . $label . '</li>'; |
  |  | 1530 | break; |
  |  | 1531 | } |
  |  | 1532 | return apply\_filters( 'epl\_get\_property\_garage', $return, $returntype, $value, $label ); |
  |  | 1533 | } |
  |  | 1534 |  |
  |  | 1535 | /\*\* |
  |  | 1536 | \* Get Carport |
  |  | 1537 | \* |
  |  | 1538 | \* @since 2.0 |
  |  | 1539 | \* @since 3.4.5 Fixed the incorrect meta key |
  |  | 1540 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 1541 | \* @return string |
  |  | 1542 | \* |
  |  | 1543 | \* @since 3.5.0 Added filter for empty values. |
  |  | 1544 | \*/ |
  |  | 1545 | public function get\_property\_carport( $returntype = 'i' ) { |
  |  | 1546 |  |
  |  | 1547 | $prop\_carport  = $this->get\_property\_meta( 'property\_carport' ); |
  |  | 1548 | $label = apply\_filters( 'epl\_get\_property\_carport\_label', \_\_( 'carport', 'easy-property-listings' ) ); |
  |  | 1549 |  |
  |  | 1550 | if ( empty( $prop\_carport ) ) { |
  |  | 1551 | return apply\_filters( 'epl\_get\_property\_carport\_empty\_value', null, $returntype, $prop\_carport, $label ); |
  |  | 1552 | } |
  |  | 1553 |  |
  |  | 1554 | $returntype = apply\_filters( 'epl\_get\_property\_carport\_return\_type', $returntype ); |
  |  | 1555 |  |
  |  | 1556 | $value  = $this->get\_property\_meta( 'property\_carport' ); |
  | 1868 | 1557 | $return = ''; |
  | 1869 | 1558 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1871) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1560) |  |
  | 1871 | 1560 |  |
  | 1872 | 1561 | case 'i': |
  | 1873 |  | $return = '<span title="' . $label . '" class="icon ~~building-size~~"><span class="icon-value">' . $value . '</span></span>'; |
  |  | 1562 | $return = '<span title="' . $label . '" class="icon parking"><span class="icon-value">' . $value . '</span></span>'; |
  | 1874 | 1563 | break; |
  | 1875 | 1564 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1879) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1568) |  |
  | 1879 | 1568 |  |
  | 1880 | 1569 | case 't': |
  | 1881 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-~~building-size~~"> |
  | 1882 |  | <span class="epl-text-icon-label ~~building-size~~">' . $label . '</span> |
  | 1883 |  | <span class="epl-text-icon-value ~~building-size~~">' . $value . '</span> |
  |  | 1570 | $return = '<div class="epl-text-icon-container epl-text-icon-container-carport"> |
  |  | 1571 | <span class="epl-text-icon-label carport">' . $label . '</span> |
  |  | 1572 | <span class="epl-text-icon-value carport">' . $value . '</span> |
  | 1884 | 1573 | </div>'; |
  | 1885 | 1574 | break; |
  | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=2991552#L1890) | […](/browser/easy-property-listings/trunk/lib/includes/class-epl-property-meta.php?rev=3055030#L1579) |  |
  | 1890 | 1579 |  |
  | 1891 | 1580 | case 'l': |
  | 1892 |  | $return = '<li class="building-size">' . $label . ' ' . $value . '</li>'; |
  | 1893 |  | break; |
  | 1894 |  | } |
  | 1895 |  | return apply\_filters( 'epl\_get\_property\_building\_area\_value', $return, $returntype, $value, $label ); |
  |  | 1581 | $return = '<li class="carport">' . $value . ' ' . $label . '</li>'; |
  |  | 1582 | break; |
  |  | 1583 | } |
  |  | 1584 | return apply\_filters( 'epl\_get\_property\_carport', $return, $returntype, $value, $label ); |
  |  | 1585 | } |
  |  | 1586 |  |
  |  | 1587 | /\*\* |
  |  | 1588 | \* Get Air Conditioning |
  |  | 1589 | \* |
  |  | 1590 | \* @since 2.0 |
  |  | 1591 | \* @param string $returntype  Options i = span, v = raw value, t = text, d = string, l = list item, s = svg icon. |
  |  | 1592 | \* @return string |
  |  | 1593 | \* |
  |  | 1594 | \* @since 3.5.0 Added filter for empty values. |
  |  | 1595 | \*/ |
  |  | 1596 | public function get\_property\_air\_conditioning( $returntype = 'i' ) { |
  |  | 1597 |  |
  |  | 1598 | $prop\_ac       = $this->get\_property\_meta( 'property\_air\_conditioning' ); |
  |  | 1599 | $label = apply\_filters( 'epl\_get\_property\_air\_conditioning\_label', \_\_( 'Air Conditioning', 'easy-property-listings' ) ); |
  |  | 1600 |  |
  |  | 1601 | if ( empty( $prop\_ac ) ) { |
  |  | 1602 | return apply\_filters( 'epl\_get\_air\_conditioning\_empty\_value', null, $returntype, $prop\_ac, $label ); |
  |  | 1603 | } |
  |  | 1604 |  |
  |  | 1605 | $returntype = 'i' === $returntype && epl\_get\_option( 'epl\_icons\_svg\_listings' ) === 'on' ? 's' : $returntype; |
  |  | 1606 | $returntype = apply\_filters( 'epl\_get\_property\_air\_conditioning\_return\_type', $returntype ); |
  |  | 1607 |  |
  |  | 1608 | $value  = $this->get\_property\_meta( 'property\_air\_conditioning' ); |
  |  | 1609 | $return = ''; |
  |  | 1610 |  |
  |  | 1611 | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  |  | 1612 |  |
  |  | 1613 | switch ( $returntype ) { |
  |  | 1614 |  |
  |  | 1615 | case 'i': |
  |  | 1616 | $return = '<span title="' . $label . '" class="icon air"></span>'; |
  |  | 1617 | break; |
  |  | 1618 |  |
  |  | 1619 | case 'v': |
  |  | 1620 | $return = $value; |
  |  | 1621 | break; |
  |  | 1622 |  |
  |  | 1623 | case 't': |
  |  | 1624 | $return = '<div class="epl-text-icon-container epl-text-icon-container-air"> |
  |  | 1625 | <span class="epl-text-icon-label air">' . $label . '</span> |
  |  | 1626 | </div>'; |
  |  | 1627 | break; |
  |  | 1628 |  |
  |  | 1629 | case 'd': |
  |  | 1630 | $return = $label . ' ' . $value . ' '; |
  |  | 1631 | break; |
  |  | 1632 |  |
  |  | 1633 | case 'l': |
  |  | 1634 | $return = '<li class="air">' . $label . '</li>'; |
  |  | 1635 | break; |
  |  | 1636 |  |
  |  | 1637 | case 's': |
  |  | 1638 | $svg    = '<svg viewBox="0 0 100 100" class="epl-icon-svg-air"><use xlink:href="#epl-icon-svg-air"></use></svg>'; |
  |  | 1639 | $return = '<div class="epl-icon-svg-container epl-icon-container-air"> |
  |  | 1640 | <div class="epl-icon epl-icon-svg air" title="' . $label . '">' . $svg . '</div> |
  |  | 1641 | </div>'; |
  |  | 1642 | break; |
  |  | 1643 | } |
  |  | 1644 | return apply\_filters( 'epl\_get\_property\_air\_conditioning', $return, $returntype, $value, $label ); |
  |  | 1645 | } |
  |  | 1646 |  |
  |  | 1647 | } |
  |  | 1648 |  |
  |  | 1649 | /\*\* |
  |  | 1650 | \* Get Pool |
  |  | 1651 | \* |
  |  | 1652 | \* @since 2.0 |
  |  | 1653 | \* @param string $returntype Options Options i = span, v = raw value, t = text, d = string, l = list item, s = svg icon. |
  |  | 1654 | \* @return string |
  |  | 1655 | \* |
  |  | 1656 | \* @since 3.5.0 Added filter for empty values. |
  |  | 1657 | \*/ |
  |  | 1658 | public function get\_property\_pool( $returntype = 'i' ) { |
  |  | 1659 |  |
  |  | 1660 | $prop\_pool     = $this->get\_property\_meta( 'property\_pool' ); |
  |  | 1661 | $label = apply\_filters( 'epl\_get\_property\_pool\_label', \_\_( 'Pool', 'easy-property-listings' ) ); |
  |  | 1662 |  |
  |  | 1663 | if ( empty( $prop\_pool ) ) { |
  |  | 1664 | return apply\_filters( 'epl\_get\_property\_pool\_empty\_value', null, $returntype, $prop\_pool, $label ); |
  |  | 1665 | } |
  |  | 1666 |  |
  |  | 1667 | $returntype = 'i' === $returntype && epl\_get\_option( 'epl\_icons\_svg\_listings' ) === 'on' ? 's' : $returntype; |
  |  | 1668 | $returntype = apply\_filters( 'epl\_get\_property\_pool\_return\_type', $returntype ); |
  |  | 1669 |  |
  |  | 1670 | $value  = $this->get\_property\_meta( 'property\_pool' ); |
  |  | 1671 | $return = ''; |
  |  | 1672 |  |
  |  | 1673 | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  |  | 1674 |  |
  |  | 1675 | switch ( $returntype ) { |
  |  | 1676 |  |
  |  | 1677 | case 'i': |
  |  | 1678 | $return = '<span title="' . $label . '" class="icon pool"></span>'; |
  |  | 1679 | break; |
  |  | 1680 |  |
  |  | 1681 | case 'v': |
  |  | 1682 | $return = $value; |
  |  | 1683 | break; |
  |  | 1684 |  |
  |  | 1685 | case 't': |
  |  | 1686 | $return = '<div class="epl-text-icon-container epl-text-icon-container-pool"> |
  |  | 1687 | <span class="epl-text-icon-label pool">' . $label . '</span> |
  |  | 1688 | </div>'; |
  |  | 1689 | break; |
  |  | 1690 |  |
  |  | 1691 | case 'd': |
  |  | 1692 | $return = $label . ' ' . $value . ' '; |
  |  | 1693 | break; |
  |  | 1694 |  |
  |  | 1695 | case 'l': |
  |  | 1696 | $return = '<li class="pool">' . $label . '</li>'; |
  |  | 1697 | break; |
  |  | 1698 |  |
  |  | 1699 | case 's': |
  |  | 1700 | $svg    = '<svg viewBox="0 0 100 100" class="epl-icon-svg-pool"><use xlink:href="#epl-icon-svg-pool"></use></svg>'; |
  |  | 1701 | $return = '<div class="epl-icon-svg-container epl-icon-container-pool"> |
  |  | 1702 | <div class="epl-icon epl-icon-svg pool" title="' . $label . '">' . $svg . '</div> |
  |  | 1703 | </div>'; |
  |  | 1704 | break; |
  |  | 1705 | } |
  |  | 1706 | return apply\_filters( 'epl\_get\_property\_pool', $return, $returntype, $value, $label ); |
  |  | 1707 | } |
  |  | 1708 | } |
  |  | 1709 |  |
  |  | 1710 | /\*\* |
  |  | 1711 | \* Get Security System |
  |  | 1712 | \* |
  |  | 1713 | \* @since 2.0 |
  |  | 1714 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 1715 | \* @return string |
  |  | 1716 | \* |
  |  | 1717 | \* @since 3.5.0 Added filter for empty values. |
  |  | 1718 | \*/ |
  |  | 1719 | public function get\_property\_security\_system( $returntype = 'i' ) { |
  |  | 1720 |  |
  |  | 1721 | $value         = $this->get\_property\_meta( 'property\_security\_system' ); |
  |  | 1722 | $label = apply\_filters( 'epl\_get\_property\_security\_system\_label', \_\_( 'Alarm System', 'easy-property-listings' ) ); |
  |  | 1723 |  |
  |  | 1724 | if ( empty( $value ) ) { |
  |  | 1725 | return apply\_filters( 'epl\_get\_security\_system\_empty\_value', null, $returntype, $value, $label ); |
  |  | 1726 | } |
  |  | 1727 |  |
  |  | 1728 | $returntype = apply\_filters( 'epl\_get\_property\_security\_system\_return\_type', $returntype ); |
  |  | 1729 |  |
  |  | 1730 | $return = ''; |
  |  | 1731 |  |
  |  | 1732 | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  |  | 1733 |  |
  |  | 1734 | switch ( $returntype ) { |
  |  | 1735 |  |
  |  | 1736 | case 'i': |
  |  | 1737 | $return = '<span title="' . $label . '" class="icon alarm"></span>'; |
  |  | 1738 | break; |
  |  | 1739 |  |
  |  | 1740 | case 'v': |
  |  | 1741 | $return = $value; |
  |  | 1742 | break; |
  |  | 1743 |  |
  |  | 1744 | case 't': |
  |  | 1745 | $return = '<div class="epl-text-icon-container epl-text-icon-container-alarm"> |
  |  | 1746 | <span class="epl-text-icon-label alarm">' . $label . '</span> |
  |  | 1747 | </div>'; |
  |  | 1748 | break; |
  |  | 1749 |  |
  |  | 1750 | case 'd': |
  |  | 1751 | $return = $label . ' ' . $value . ' '; |
  |  | 1752 | break; |
  |  | 1753 |  |
  |  | 1754 | case 'l': |
  |  | 1755 | $return = '<li class="alarm">' . $label . '</li>'; |
  |  | 1756 | break; |
  |  | 1757 | } |
  |  | 1758 | return apply\_filters( 'epl\_get\_property\_security\_system', $return, $returntype, $value, $label ); |
  |  | 1759 | } |
  |  | 1760 | } |
  |  | 1761 |  |
  |  | 1762 | /\*\* |
  |  | 1763 | \* Get Land Value |
  |  | 1764 | \* |
  |  | 1765 | \* @since 2.0 |
  |  | 1766 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 1767 | \* @return string |
  |  | 1768 | \* |
  |  | 1769 | \* @since 3.4.38 Fix: Don't display land area when it's < 0. |
  |  | 1770 | \* @since 3.4.42 Fix : Fatal error if area is non numeric. |
  |  | 1771 | \*/ |
  |  | 1772 | public function get\_property\_land\_value( $returntype = 'i' ) { |
  |  | 1773 |  |
  |  | 1774 | $property\_land\_area = $this->get\_property\_meta( 'property\_land\_area' ); |
  |  | 1775 |  |
  |  | 1776 | $property\_land\_area\_unit = $this->get\_property\_meta( 'property\_land\_area\_unit' ); |
  |  | 1777 | if ( 'squareMeter' === $property\_land\_area\_unit ) { |
  |  | 1778 | $property\_land\_area\_unit = \_\_( 'm&#178;', 'easy-property-listings' ); |
  |  | 1779 | } elseif ( 'acre' === $property\_land\_area\_unit ) { |
  |  | 1780 | $property\_land\_area\_unit = $property\_land\_area > 1 ? 'acres' : 'acre'; |
  |  | 1781 | $property\_land\_area\_unit = $property\_land\_area\_unit; |
  |  | 1782 | } else { |
  |  | 1783 | // translation for land area unit. |
  |  | 1784 | $property\_land\_area\_unit = $property\_land\_area\_unit; |
  |  | 1785 | } |
  |  | 1786 |  |
  |  | 1787 | $property\_land\_area\_unit = apply\_filters( 'epl\_property\_land\_area\_unit\_label', $property\_land\_area\_unit ); |
  |  | 1788 |  |
  |  | 1789 | if ( is\_numeric( $this->get\_property\_meta( 'property\_land\_area' ) ) && 0 < $this->get\_property\_meta( 'property\_land\_area' ) ) { |
  |  | 1790 |  |
  |  | 1791 | $label = apply\_filters( 'epl\_get\_property\_land\_area\_label', \_\_( 'Land is', 'easy-property-listings' ) ); |
  |  | 1792 |  |
  |  | 1793 | // Decimal. |
  |  | 1794 | if ( fmod( floatval( $property\_land\_area ), 1 ) !== 0.00 ) { |
  |  | 1795 | $property\_land\_area\_format = apply\_filters( 'epl\_property\_land\_area\_format\_decimal', number\_format\_i18n( $property\_land\_area, 2 ) ); |
  |  | 1796 | } else { |
  |  | 1797 | // No decimal. |
  |  | 1798 | $property\_land\_area\_format = apply\_filters( 'epl\_property\_land\_area\_format', number\_format\_i18n( $property\_land\_area ) ); |
  |  | 1799 | } |
  |  | 1800 |  |
  |  | 1801 | $return = '<li class="land-size">' . $label . ' ' . $property\_land\_area\_format . ' ' . $property\_land\_area\_unit . '</li>'; |
  |  | 1802 |  |
  |  | 1803 | $label  = apply\_filters( 'epl\_get\_property\_land\_area\_label', \_\_( 'Land is', 'easy-property-listings' ) ); |
  |  | 1804 | $value  = $property\_land\_area\_format . ' ' . $property\_land\_area\_unit; |
  |  | 1805 | $return = ''; |
  |  | 1806 |  |
  |  | 1807 | switch ( $returntype ) { |
  |  | 1808 |  |
  |  | 1809 | case 'i': |
  |  | 1810 | $return = '<span title="' . $label . '" class="icon land-size"><span class="icon-value">' . $value . '</span></span>'; |
  |  | 1811 | break; |
  |  | 1812 |  |
  |  | 1813 | case 'v': |
  |  | 1814 | $return = $value; |
  |  | 1815 | break; |
  |  | 1816 |  |
  |  | 1817 | case 't': |
  |  | 1818 | $return = '<div class="epl-text-icon-container epl-text-icon-container-land-size"> |
  |  | 1819 | <span class="epl-text-icon-label land-size">' . $label . '</span> |
  |  | 1820 | <span class="epl-text-icon-value land-size">' . $value . '</span> |
  |  | 1821 | </div>'; |
  |  | 1822 | break; |
  |  | 1823 |  |
  |  | 1824 | case 'd': |
  |  | 1825 | $return = $label . ' ' . $value . ' '; |
  |  | 1826 | break; |
  |  | 1827 |  |
  |  | 1828 | case 'l': |
  |  | 1829 | $return = '<li class="land-size">' . $label . ' ' . $value . '</li>'; |
  |  | 1830 | break; |
  |  | 1831 | } |
  |  | 1832 | return apply\_filters( 'epl\_get\_property\_land\_value', $return, $returntype, $value, $label ); |
  |  | 1833 | } |
  |  | 1834 | } |
  |  | 1835 |  |
  |  | 1836 | /\*\* |
  |  | 1837 | \* Get Building area |
  |  | 1838 | \* |
  |  | 1839 | \* @since 2.0 |
  |  | 1840 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 1841 | \* @return string |
  |  | 1842 | \* @since 3.4.42 Fix : Fatal error if area is non numeric. |
  |  | 1843 | \*/ |
  |  | 1844 | public function get\_property\_building\_area\_value( $returntype = 'i' ) { |
  |  | 1845 |  |
  |  | 1846 | $building\_area = $this->get\_property\_meta( 'property\_building\_area' ); |
  |  | 1847 |  |
  |  | 1848 | $building\_unit = $this->get\_property\_meta( 'property\_building\_area\_unit' ); |
  |  | 1849 | if ( 'squareMeter' === $building\_unit ) { |
  |  | 1850 | $building\_unit = \_\_( 'm&#178;', 'easy-property-listings' ); |
  |  | 1851 | } elseif ( 'acre' === $building\_unit ) { |
  |  | 1852 | $building\_unit = $building\_area > 1 ? 'acres' : 'acre'; |
  |  | 1853 | $building\_unit = $building\_unit; |
  |  | 1854 | } else { |
  |  | 1855 | // Translation for building area unit. |
  |  | 1856 | $building\_unit = $building\_unit; |
  |  | 1857 | } |
  |  | 1858 |  |
  |  | 1859 | $building\_unit = apply\_filters( 'epl\_property\_building\_area\_unit\_label', $building\_unit ); |
  |  | 1860 |  |
  |  | 1861 | if ( intval( $this->get\_property\_meta( 'property\_building\_area' ) ) !== 0 ) { |
  |  | 1862 |  |
  |  | 1863 | $label = apply\_filters( 'epl\_get\_property\_building\_area\_label', \_\_( 'Floor Area is', 'easy-property-listings' ) ); |
  |  | 1864 |  |
  |  | 1865 | // Decimal. |
  |  | 1866 | if ( fmod( floatval( $building\_area ), 1 ) !== 0.00 ) { |
  |  | 1867 | $building\_area\_format = apply\_filters( 'epl\_property\_building\_area\_format\_decimal', number\_format\_i18n( $building\_area, 2 ) ); |
  |  | 1868 | } else { |
  |  | 1869 | // No decimal. |
  |  | 1870 | $building\_area\_format = apply\_filters( 'epl\_property\_building\_area\_format', number\_format\_i18n( $building\_area ) ); |
  |  | 1871 | } |
  |  | 1872 |  |
  |  | 1873 | $return = '<li class="building-size">' . $label . ' ' . $building\_area\_format . ' ' . $building\_unit . '</li>'; |
  |  | 1874 |  |
  |  | 1875 | $label  = apply\_filters( 'epl\_get\_property\_building\_area\_label', \_\_( 'Floor Area is', 'easy-property-listings' ) ); |
  |  | 1876 | $value  = $building\_area\_format . ' ' . $building\_unit; |
  |  | 1877 | $return = ''; |
  |  | 1878 |  |
  |  | 1879 | switch ( $returntype ) { |
  |  | 1880 |  |
  |  | 1881 | case 'i': |
  |  | 1882 | $return = '<span title="' . $label . '" class="icon building-size"><span class="icon-value">' . $value . '</span></span>'; |
  |  | 1883 | break; |
  |  | 1884 |  |
  |  | 1885 | case 'v': |
  |  | 1886 | $return = $value; |
  |  | 1887 | break; |
  |  | 1888 |  |
  |  | 1889 | case 't': |
  |  | 1890 | $return = '<div class="epl-text-icon-container epl-text-icon-container-building-size"> |
  |  | 1891 | <span class="epl-text-icon-label building-size">' . $label . '</span> |
  |  | 1892 | <span class="epl-text-icon-value building-size">' . $value . '</span> |
  |  | 1893 | </div>'; |
  |  | 1894 | break; |
  |  | 1895 |  |
  |  | 1896 | case 'd': |
  |  | 1897 | $return = $label . ' ' . $value . ' '; |
  |  | 1898 | break; |
  |  | 1899 |  |
  |  | 1900 | case 'l': |
  |  | 1901 | $return = '<li class="building-size">' . $label . ' ' . $value . '</li>'; |
  |  | 1902 | break; |
  |  | 1903 | } |
  |  | 1904 | return apply\_filters( 'epl\_get\_property\_building\_area\_value', $return, $returntype, $value, $label ); |
  |  | 1905 | } |
  |  | 1906 | } |
  |  | 1907 |  |
  |  | 1908 | /\*\* |
  |  | 1909 | \* Get Building Energy Rating |
  |  | 1910 | \* |
  |  | 1911 | \* @since 3.1.20 |
  |  | 1912 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 1913 | \* @return string |
  |  | 1914 | \*/ |
  |  | 1915 | public function get\_property\_energy\_rating( $returntype = 'i' ) { |
  |  | 1916 |  |
  |  | 1917 | $value      = $this->get\_property\_meta( 'property\_energy\_rating' ); |
  |  | 1918 | $return     = ''; |
  |  | 1919 | $returntype = apply\_filters( 'epl\_get\_property\_energy\_rating\_return\_type', $returntype ); |
  |  | 1920 |  |
  |  | 1921 | if ( ! empty( $value ) ) { |
  |  | 1922 |  |
  |  | 1923 | $label = apply\_filters( 'epl\_get\_property\_energy\_rating\_label', \_\_( 'Energy Rating', 'easy-property-listings' ) ); |
  |  | 1924 | switch ( $returntype ) { |
  |  | 1925 |  |
  |  | 1926 | case 'i': |
  |  | 1927 | $return = '<span title="' . $label . '" class="icon energy\_rating"><span class="icon-value">' . $value . '</span></span>'; |
  |  | 1928 | break; |
  |  | 1929 |  |
  |  | 1930 | case 'v': |
  |  | 1931 | $return = $value; |
  |  | 1932 | break; |
  |  | 1933 |  |
  |  | 1934 | case 't': |
  |  | 1935 | $return = '<div class="epl-text-icon-container epl-text-icon-container-energy\_rating"> |
  |  | 1936 | <span class="epl-text-icon-label energy\_rating">' . $label . '</span> |
  |  | 1937 | <span class="epl-text-icon-value energy\_rating">' . $value . '</span> |
  |  | 1938 | </div>'; |
  |  | 1939 | break; |
  |  | 1940 |  |
  |  | 1941 | case 'd': |
  |  | 1942 | $return = $label . ' ' . $value . ' '; |
  |  | 1943 | break; |
  |  | 1944 |  |
  |  | 1945 | case 'l': |
  |  | 1946 | $return = '<li class="energy\_rating">' . $label . ' ' . $value . '</li>'; |
  |  | 1947 | break; |
  |  | 1948 | } |
  |  | 1949 | return apply\_filters( 'epl\_get\_property\_energy\_rating', $return, $returntype, $value, $label ); |
  |  | 1950 | } |
  |  | 1951 | } |
  |  | 1952 |  |
  |  | 1953 | /\*\* |
  |  | 1954 | \* Get New Construction |
  |  | 1955 | \* |
  |  | 1956 | \* @since 2.0 |
  |  | 1957 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 1958 | \* @return string |
  |  | 1959 | \*/ |
  |  | 1960 | public function get\_property\_new\_construction( $returntype = 'i' ) { |
  |  | 1961 |  |
  |  | 1962 | $value      = $this->get\_property\_meta( 'property\_new\_construction' ); |
  |  | 1963 | $return     = ''; |
  |  | 1964 | $returntype = apply\_filters( 'epl\_get\_property\_new\_construction\_return\_type', $returntype ); |
  |  | 1965 |  |
  |  | 1966 | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  |  | 1967 |  |
  |  | 1968 | $label = apply\_filters( 'epl\_get\_property\_new\_construction\_label', \_\_( 'New Construction', 'easy-property-listings' ) ); |
  |  | 1969 |  |
  |  | 1970 | switch ( $returntype ) { |
  |  | 1971 |  |
  |  | 1972 | case 'i': |
  |  | 1973 | $return = '<span title="' . $label . '" class="icon new\_construction"></span>'; |
  |  | 1974 | break; |
  |  | 1975 |  |
  |  | 1976 | case 'v': |
  |  | 1977 | $return = $value; |
  |  | 1978 | break; |
  |  | 1979 |  |
  |  | 1980 | case 't': |
  |  | 1981 | $return = '<div class="epl-text-icon-container epl-text-icon-container-new\_construction"> |
  |  | 1982 | <span class="epl-text-icon-label new\_construction">' . $label . '</span> |
  |  | 1983 | </div>'; |
  |  | 1984 | break; |
  |  | 1985 |  |
  |  | 1986 | case 'd': |
  |  | 1987 | $return = $label . ' ' . $value . ' '; |
  |  | 1988 | break; |
  |  | 1989 |  |
  |  | 1990 | case 'l': |
  |  | 1991 | $return = '<li class="new\_construction">' . $label . '</li>'; |
  |  | 1992 | break; |
  |  | 1993 | } |
  |  | 1994 |  |
  |  | 1995 | return apply\_filters( 'epl\_get\_property\_new\_construction', $return, $returntype, $value, $label ); |
  |  | 1996 | } |
  |  | 1997 | } |
  |  | 1998 |  |
  |  | 1999 | /\*\* |
  |  | 2000 | \* Get Holiday Rental |
  |  | 2001 | \* |
  |  | 2002 | \* @since 3.2 |
  |  | 2003 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 2004 | \* @return string |
  |  | 2005 | \*/ |
  |  | 2006 | public function get\_property\_holiday\_rental( $returntype = 'i' ) { |
  |  | 2007 |  |
  |  | 2008 | $label      = apply\_filters( 'epl\_get\_property\_holiday\_rental\_label', \_\_( 'Holiday Rental', 'easy-property-listings' ) ); |
  |  | 2009 | $value      = $this->get\_property\_meta( 'property\_holiday\_rental' ); |
  |  | 2010 | $return     = ''; |
  |  | 2011 | $returntype = apply\_filters( 'epl\_get\_property\_holiday\_rental\_return\_type', $returntype ); |
  |  | 2012 |  |
  |  | 2013 | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  |  | 2014 |  |
  |  | 2015 | switch ( $returntype ) { |
  |  | 2016 |  |
  |  | 2017 | case 'i': |
  |  | 2018 | $return = '<span title="' . $label . '" class="icon holiday\_rental"></span>'; |
  |  | 2019 | break; |
  |  | 2020 |  |
  |  | 2021 | case 'v': |
  |  | 2022 | $return = $value; |
  |  | 2023 | break; |
  |  | 2024 |  |
  |  | 2025 | case 't': |
  |  | 2026 | $return = '<div class="epl-text-icon-container epl-text-icon-container-holiday\_rental"> |
  |  | 2027 | <span class="epl-text-icon-label holiday\_rental">' . $label . '</span> |
  |  | 2028 | </div>'; |
  |  | 2029 | break; |
  |  | 2030 |  |
  |  | 2031 | case 'd': |
  |  | 2032 | $return = $label . ' ' . $value . ' '; |
  |  | 2033 | break; |
  |  | 2034 |  |
  |  | 2035 | case 'l': |
  |  | 2036 | $return = '<li class="holiday\_rental">' . $label . '</li>'; |
  |  | 2037 | break; |
  |  | 2038 | } |
  |  | 2039 | return apply\_filters( 'epl\_get\_property\_holiday\_rental', $return, $returntype, $value, $label ); |
  |  | 2040 | } |
  |  | 2041 | } |
  |  | 2042 |  |
  |  | 2043 | /\*\* |
  |  | 2044 | \* Get Furnished |
  |  | 2045 | \* |
  |  | 2046 | \* @since 3.2 |
  |  | 2047 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 2048 | \* @return string |
  |  | 2049 | \*/ |
  |  | 2050 | public function get\_property\_furnished( $returntype = 'i' ) { |
  |  | 2051 |  |
  |  | 2052 | $value      = $this->get\_property\_meta( 'property\_furnished' ); |
  |  | 2053 | $returntype = apply\_filters( 'epl\_get\_property\_furnished\_return\_type', $returntype ); |
  |  | 2054 | $return     = ''; |
  |  | 2055 |  |
  |  | 2056 | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  |  | 2057 |  |
  |  | 2058 | $label = apply\_filters( 'epl\_get\_property\_furnished\_label', \_\_( 'Furnished', 'easy-property-listings' ) ); |
  |  | 2059 |  |
  |  | 2060 | switch ( $returntype ) { |
  |  | 2061 |  |
  |  | 2062 | case 'i': |
  |  | 2063 | $return = '<span title="' . $label . '" class="icon furnished"></span>'; |
  |  | 2064 | break; |
  |  | 2065 |  |
  |  | 2066 | case 'v': |
  |  | 2067 | $return = $value; |
  |  | 2068 | break; |
  |  | 2069 |  |
  |  | 2070 | case 't': |
  |  | 2071 | $return = '<div class="epl-text-icon-container epl-text-icon-container-furnished"> |
  |  | 2072 | <span class="epl-text-icon-label furnished">' . $label . '</span> |
  |  | 2073 | </div>'; |
  |  | 2074 | break; |
  |  | 2075 |  |
  |  | 2076 | case 'd': |
  |  | 2077 | $return = $label . ' ' . $value . ' '; |
  |  | 2078 | break; |
  |  | 2079 |  |
  |  | 2080 | case 'l': |
  |  | 2081 | $return = '<li class="furnished">' . $label . '</li>'; |
  |  | 2082 | break; |
  |  | 2083 |  |
  |  | 2084 | } |
  |  | 2085 | return apply\_filters( 'epl\_get\_property\_furnished', $return, $returntype, $value, $label ); |
  |  | 2086 | } |
  |  | 2087 | } |
  |  | 2088 |  |
  |  | 2089 | /\*\* |
  |  | 2090 | \* Get Pets |
  |  | 2091 | \* |
  |  | 2092 | \* @since 3.3 |
  |  | 2093 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 2094 | \* @return string |
  |  | 2095 | \*/ |
  |  | 2096 | public function get\_property\_pets( $returntype = 'i' ) { |
  |  | 2097 |  |
  |  | 2098 | $value      = $this->get\_property\_meta( 'property\_pet\_friendly' ); |
  |  | 2099 | $returntype = apply\_filters( 'epl\_get\_property\_pet\_friendly\_return\_type', $returntype ); |
  |  | 2100 | $return     = ''; |
  |  | 2101 |  |
  |  | 2102 | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  |  | 2103 |  |
  |  | 2104 | $label = apply\_filters( 'epl\_get\_property\_pet\_friendly\_label', \_\_( 'Pet Friendly', 'easy-property-listings' ) ); |
  |  | 2105 |  |
  |  | 2106 | switch ( $returntype ) { |
  |  | 2107 |  |
  |  | 2108 | case 'i': |
  |  | 2109 | $return = '<span title="' . $label . '" class="icon pet-friendly"></span>'; |
  |  | 2110 | break; |
  |  | 2111 |  |
  |  | 2112 | case 'v': |
  |  | 2113 | $return = $value; |
  |  | 2114 | break; |
  |  | 2115 |  |
  |  | 2116 | case 't': |
  |  | 2117 | $return = '<div class="epl-text-icon-container epl-text-icon-container-pet-friendly"> |
  |  | 2118 | <span class="epl-text-icon-label pet-friendly">' . $label . '</span> |
  |  | 2119 | </div>'; |
  |  | 2120 | break; |
  |  | 2121 |  |
  |  | 2122 | case 'd': |
  |  | 2123 | $return = $label . ' ' . $value . ' '; |
  |  | 2124 | break; |
  |  | 2125 |  |
  |  | 2126 | case 'l': |
  |  | 2127 | $return = '<li class="pet-friendly">' . $label . '</li>'; |
  |  | 2128 | break; |
  |  | 2129 |  |
  |  | 2130 | } |
  |  | 2131 | return apply\_filters( 'epl\_get\_property\_pet\_friendly', $return, $returntype, $value, $label ); |
  |  | 2132 | } |
  |  | 2133 | } |
  |  | 2134 |  |
  |  | 2135 | /\*\* |
  |  | 2136 | \* Get Featured |
  |  | 2137 | \* |
  |  | 2138 | \* @since 3.3 |
  |  | 2139 | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  |  | 2140 | \* @return string |
  |  | 2141 | \*/ |
  |  | 2142 | public function get\_property\_featured( $returntype = 'i' ) { |
  |  | 2143 |  |
  |  | 2144 | $value      = $this->get\_property\_meta( 'property\_featured' ); |
  |  | 2145 | $returntype = apply\_filters( 'epl\_get\_property\_featured\_return\_type', $returntype ); |
  |  | 2146 | $return     = ''; |
  |  | 2147 |  |
  |  | 2148 | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  |  | 2149 |  |
  |  | 2150 | $label = apply\_filters( 'epl\_get\_property\_featured\_label', \_\_( 'Featured', 'easy-property-listings' ) ); |
  |  | 2151 |  |
  |  | 2152 | switch ( $returntype ) { |
  |  | 2153 |  |
  |  | 2154 | case 'i': |
  |  | 2155 | $return = '<span title="' . $label . '" class="icon featured"></span>'; |
  |  | 2156 | break; |
  |  | 2157 |  |
  |  | 2158 | case 'v': |
  |  | 2159 | $return = $value; |
  |  | 2160 | break; |
  |  | 2161 |  |
  |  | 2162 | case 't': |
  |  | 2163 | $return = '<div class="epl-text-icon-container epl-text-icon-container-featured"> |
  |  | 2164 | <span class="epl-text-icon-label featured">' . $label . '</span> |
  |  | 2165 | </div>'; |
  |  | 2166 | break; |
  |  | 2167 |  |
  |  | 2168 | case 'd': |
  |  | 2169 | $return = $label . ' ' . $value . ' '; |
  |  | 2170 | break; |
  |  | 2171 |  |
  |  | 2172 | case 'l': |
  |  | 2173 | $return = '<li class="featured">' . $label . '</li>'; |
  |  | 2174 | break; |
  |  | 2175 |  |
  |  | 2176 | } |
  |  | 2177 | return apply\_filters( 'epl\_get\_property\_property\_featured', $return, $returntype, $value, $label ); |
  |  | 2178 | } |
  |  | 2179 | } |
  |  | 2180 |  |
  |  | 2181 | /\*\* |
  |  | 2182 | \* Get Additional Features by meta key |
  |  | 2183 | \* |
  |  | 2184 | \* @since 2.0 |
  |  | 2185 | \* @param string $metakey Meta key name. |
  |  | 2186 | \* @return mixed Value wrapped in a list item |
  |  | 2187 | \* @since 3.4.35 Tweak: Support for true/false values in features checklist. |
  |  | 2188 | \* @since 3.4.44 Parking Comments Label before value. |
  |  | 2189 | \*/ |
  |  | 2190 | public function get\_additional\_features\_html( $metakey ) { |
  |  | 2191 |  |
  |  | 2192 | $metavalue = $this->get\_property\_meta( $metakey ); |
  |  | 2193 |  |
  |  | 2194 | $return = ''; |
  |  | 2195 |  |
  |  | 2196 | if ( ! empty( $metavalue ) || intval( $metavalue ) !== 0 ) { |
  |  | 2197 |  |
  |  | 2198 | // Commercial Car Spaces : Label Issue (Returning 50 Com Car Spaces. Need to remove com. |
  |  | 2199 | if ( 'property\_com\_car\_spaces' === $metakey ) { |
  |  | 2200 | $metavalue = $metavalue . apply\_filters( 'epl\_get\_property\_com\_car\_spaces\_label', '' ); |
  |  | 2201 | } |
  |  | 2202 |  |
  |  | 2203 | switch ( $metavalue ) { |
  |  | 2204 |  |
  |  | 2205 | case 1: |
  |  | 2206 | case 'yes': |
  |  | 2207 | case 'YES': |
  |  | 2208 | case 'Y': |
  |  | 2209 | case 'y': |
  |  | 2210 | case 'on': |
  |  | 2211 | case 'true': |
  |  | 2212 | $return = '<li class="' . $this->get\_class\_from\_metakey( $metakey ) . '">' . apply\_filters( 'epl\_get\_' . $metakey . '\_label', $this->get\_label\_from\_metakey( $metakey ) ) . '</li>'; |
  |  | 2213 | break; |
  |  | 2214 |  |
  |  | 2215 | case 0: |
  |  | 2216 | case 'no': |
  |  | 2217 | case 'NO': |
  |  | 2218 | case 'N': |
  |  | 2219 | case 'n': |
  |  | 2220 | case 'off': |
  |  | 2221 | case 'false': |
  |  | 2222 | $return = ''; |
  |  | 2223 | break; |
  |  | 2224 |  |
  |  | 2225 | default: |
  |  | 2226 | if ( 'property\_com\_parking\_comments' === $metakey ) { |
  |  | 2227 | $return = '<li class="' . $this->get\_class\_from\_metakey( $metakey ) . '">' . apply\_filters( 'epl\_get\_' . $metakey . '\_label', $this->get\_label\_from\_metakey( $metakey ) ) . ' ' . $metavalue . '</li>'; |
  |  | 2228 | } else { |
  |  | 2229 | $return = '<li class="' . $this->get\_class\_from\_metakey( $metakey ) . '">' . $metavalue . ' ' . apply\_filters( 'epl\_get\_' . $metakey . '\_label', $this->get\_label\_from\_metakey( $metakey ) ) . '</li>'; |
  |  | 2230 | } |
  |  | 2231 |  |
  |  | 2232 | break; |
  |  | 2233 | } |
  |  | 2234 | } |
  |  | 2235 | return apply\_filters( 'epl\_get\_additional\_features\_html', $return ); |
  |  | 2236 | } |
  |  | 2237 |  |
  |  | 2238 | /\*\* |
  |  | 2239 | \* Get Additional Rural Features by meta key |
  |  | 2240 | \* |
  |  | 2241 | \* @since 2.0 |
  |  | 2242 | \* @param string $metakey Meta key name. |
  |  | 2243 | \* @return mixed Value formatted and wrapped in div with title |
  |  | 2244 | \*/ |
  |  | 2245 | public function get\_additional\_rural\_features\_html( $metakey ) { |
  |  | 2246 | $metavalue = $this->get\_property\_meta( $metakey ); |
  |  | 2247 | if ( isset( $metavalue ) && ! empty( $metavalue ) ) { |
  |  | 2248 | $return = '<div class="' . $this->get\_class\_from\_metakey( $metakey, $search = 'property\_rural\_' ) . '"> |
  |  | 2249 | <h6>' . $this->get\_label\_from\_metakey( $metakey, 'property\_rural\_' ) . '</h6>' . |
  |  | 2250 | '<p>' . $metavalue . '</p>' . |
  |  | 2251 | '</div>'; |
  |  | 2252 | return apply\_filters( 'epl\_get\_additional\_rural\_features\_html', $return ); |
  |  | 2253 | } |
  |  | 2254 | } |
  |  | 2255 |  |
  |  | 2256 | /\*\* |
  |  | 2257 | \* Get Additional Commercial Features by meta key |
  |  | 2258 | \* |
  |  | 2259 | \* @since 2.0.0 |
  |  | 2260 | \* @since 3.4.27 |
  |  | 2261 | \* @param string $metakey Meta key name. |
  |  | 2262 | \* @return mixed Value formatted and wrapped in div with title |
  |  | 2263 | \*/ |
  |  | 2264 | public function get\_additional\_commercial\_features\_html( $metakey ) { |
  |  | 2265 | $metavalue = $this->get\_property\_meta( $metakey ); |
  |  | 2266 | if ( isset( $metavalue ) && ! empty( $metavalue ) ) { |
  |  | 2267 | $return = '<div class="' . $this->get\_class\_from\_metakey( $metakey, $search = 'property\_com\_' ) . '"> |
  |  | 2268 | <h6>' . $this->get\_label\_from\_metakey( $metakey, 'property\_com\_' ) . '</h6>' . |
  |  | 2269 | '<p>' . $metavalue . '</p>' . |
  |  | 2270 | '</div>'; |
  |  | 2271 | return apply\_filters( 'epl\_get\_additional\_commercial\_features\_html', $return ); |
  |  | 2272 | } |
  |  | 2273 | } |
  |  | 2274 |  |
  |  | 2275 | /\*\* |
  |  | 2276 | \* Get Additional Commercial Features by meta key. |
  |  | 2277 | \* |
  |  | 2278 | \* Spelling error in this function. Retained to prevent issues. |
  |  | 2279 | \* |
  |  | 2280 | \* @since 2.0.0 |
  |  | 2281 | \* @param string $metakey Meta key name. |
  |  | 2282 | \* @return mixed Value formatted and wrapped in div with title |
  |  | 2283 | \*/ |
  |  | 2284 | public function get\_additional\_commerical\_features\_html( $metakey ) { |
  |  | 2285 | $metavalue = $this->get\_property\_meta( $metakey ); |
  |  | 2286 | if ( isset( $metavalue ) && ! empty( $metavalue ) ) { |
  |  | 2287 | $return = '<div class="' . $this->get\_class\_from\_metakey( $metakey, $search = 'property\_com\_' ) . '"> |
  |  | 2288 | <h6>' . $this->get\_label\_from\_metakey( $metakey, 'property\_com\_' ) . '</h6>' . |
  |  | 2289 | '<p>' . $metavalue . '</p>' . |
  |  | 2290 | '</div>'; |
  |  | 2291 | return apply\_filters( 'epl\_get\_additional\_commerical\_features\_html', $return ); |
  |  | 2292 | } |
  |  | 2293 | } |
  |  | 2294 |  |
  |  | 2295 | /\*\* |
  |  | 2296 | \* Get class name from meta key |
  |  | 2297 | \* |
  |  | 2298 | \* @since 2.0 |
  |  | 2299 | \* @param string $key Meta key. |
  |  | 2300 | \* @param string $search Meta key prefix to search for and remove from class, property\_ is default. |
  |  | 2301 | \* @return string Formatted class name |
  |  | 2302 | \*/ |
  |  | 2303 | public function get\_class\_from\_metakey( $key, $search = 'property\_' ) { |
  |  | 2304 | return str\_replace( 'property\_', '', $key ); |
  |  | 2305 | } |
  |  | 2306 |  |
  |  | 2307 | /\*\* |
  |  | 2308 | \* Get Label from meta key |
  |  | 2309 | \* |
  |  | 2310 | \* @since 2.0 |
  |  | 2311 | \* @param string $key Meta key. |
  |  | 2312 | \* @param string $search Meta key prefix to search for and remove from class, property\_ is default. |
  |  | 2313 | \* @return string Formatted uppercase words |
  |  | 2314 | \* @depricated since 3.2 |
  |  | 2315 | \*/ |
  |  | 2316 | public function get\_label\_from\_metakey( $key, $search = 'property\_' ) { |
  |  | 2317 | return epl\_get\_meta\_field\_label( $key ); |
  |  | 2318 | } |
  |  | 2319 |  |
  |  | 2320 | /\*\* |
  |  | 2321 | \* Get features from taxonomy |
  |  | 2322 | \* |
  |  | 2323 | \* @since 2.0 |
  |  | 2324 | \* @return mixed Formatted list items |
  |  | 2325 | \*/ |
  |  | 2326 | public function get\_features\_from\_taxonomy() { |
  |  | 2327 | $property\_feature\_taxonomy = ''; |
  |  | 2328 | if ( taxonomy\_exists( 'tax\_feature' ) ) { |
  |  | 2329 | global $post; |
  |  | 2330 | $property\_feature\_taxonomy = epl\_get\_the\_term\_list( $this->post->ID, 'tax\_feature' ); |
  |  | 2331 | } |
  |  | 2332 | return apply\_filters( 'epl\_get\_features\_from\_taxonomy', $property\_feature\_taxonomy ); |
  | 1896 | 2333 | } |
  | 1897 | 2334 | } |
  | 1898 |  |  |
  | 1899 |  | /\*\* |
  | 1900 |  | \* Get Building Energy Rating |
  | 1901 |  | \* |
  | 1902 |  | \* @since 3.1.20 |
  | 1903 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 1904 |  | \* @return string |
  | 1905 |  | \*/ |
  | 1906 |  | public function get\_property\_energy\_rating( $returntype = 'i' ) { |
  | 1907 |  |  |
  | 1908 |  | $value      = $this->get\_property\_meta( 'property\_energy\_rating' ); |
  | 1909 |  | $return     = ''; |
  | 1910 |  | $returntype = apply\_filters( 'epl\_get\_property\_energy\_rating\_return\_type', $returntype ); |
  | 1911 |  |  |
  | 1912 |  | if ( ! empty( $value ) ) { |
  | 1913 |  |  |
  | 1914 |  | $label = apply\_filters( 'epl\_get\_property\_energy\_rating\_label', \_\_( 'Energy Rating', 'easy-property-listings' ) ); |
  | 1915 |  | switch ( $returntype ) { |
  | 1916 |  |  |
  | 1917 |  | case 'i': |
  | 1918 |  | $return = '<span title="' . $label . '" class="icon energy\_rating"><span class="icon-value">' . $value . '</span></span>'; |
  | 1919 |  | break; |
  | 1920 |  |  |
  | 1921 |  | case 'v': |
  | 1922 |  | $return = $value; |
  | 1923 |  | break; |
  | 1924 |  |  |
  | 1925 |  | case 't': |
  | 1926 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-energy\_rating"> |
  | 1927 |  | <span class="epl-text-icon-label energy\_rating">' . $label . '</span> |
  | 1928 |  | <span class="epl-text-icon-value energy\_rating">' . $value . '</span> |
  | 1929 |  | </div>'; |
  | 1930 |  | break; |
  | 1931 |  |  |
  | 1932 |  | case 'd': |
  | 1933 |  | $return = $label . ' ' . $value . ' '; |
  | 1934 |  | break; |
  | 1935 |  |  |
  | 1936 |  | case 'l': |
  | 1937 |  | $return = '<li class="energy\_rating">' . $label . ' ' . $value . '</li>'; |
  | 1938 |  | break; |
  | 1939 |  | } |
  | 1940 |  | return apply\_filters( 'epl\_get\_property\_energy\_rating', $return, $returntype, $value, $label ); |
  | 1941 |  | } |
  | 1942 |  | } |
  | 1943 |  |  |
  | 1944 |  | /\*\* |
  | 1945 |  | \* Get New Construction |
  | 1946 |  | \* |
  | 1947 |  | \* @since 2.0 |
  | 1948 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 1949 |  | \* @return string |
  | 1950 |  | \*/ |
  | 1951 |  | public function get\_property\_new\_construction( $returntype = 'i' ) { |
  | 1952 |  |  |
  | 1953 |  | $value      = $this->get\_property\_meta( 'property\_new\_construction' ); |
  | 1954 |  | $return     = ''; |
  | 1955 |  | $returntype = apply\_filters( 'epl\_get\_property\_new\_construction\_return\_type', $returntype ); |
  | 1956 |  |  |
  | 1957 |  | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  | 1958 |  |  |
  | 1959 |  | $label = apply\_filters( 'epl\_get\_property\_new\_construction\_label', \_\_( 'New Construction', 'easy-property-listings' ) ); |
  | 1960 |  |  |
  | 1961 |  | switch ( $returntype ) { |
  | 1962 |  |  |
  | 1963 |  | case 'i': |
  | 1964 |  | $return = '<span title="' . $label . '" class="icon new\_construction"></span>'; |
  | 1965 |  | break; |
  | 1966 |  |  |
  | 1967 |  | case 'v': |
  | 1968 |  | $return = $value; |
  | 1969 |  | break; |
  | 1970 |  |  |
  | 1971 |  | case 't': |
  | 1972 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-new\_construction"> |
  | 1973 |  | <span class="epl-text-icon-label new\_construction">' . $label . '</span> |
  | 1974 |  | </div>'; |
  | 1975 |  | break; |
  | 1976 |  |  |
  | 1977 |  | case 'd': |
  | 1978 |  | $return = $label . ' ' . $value . ' '; |
  | 1979 |  | break; |
  | 1980 |  |  |
  | 1981 |  | case 'l': |
  | 1982 |  | $return = '<li class="new\_construction">' . $label . '</li>'; |
  | 1983 |  | break; |
  | 1984 |  | } |
  | 1985 |  |  |
  | 1986 |  | return apply\_filters( 'epl\_get\_property\_new\_construction', $return, $returntype, $value, $label ); |
  | 1987 |  | } |
  | 1988 |  | } |
  | 1989 |  |  |
  | 1990 |  | /\*\* |
  | 1991 |  | \* Get Holiday Rental |
  | 1992 |  | \* |
  | 1993 |  | \* @since 3.2 |
  | 1994 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 1995 |  | \* @return string |
  | 1996 |  | \*/ |
  | 1997 |  | public function get\_property\_holiday\_rental( $returntype = 'i' ) { |
  | 1998 |  |  |
  | 1999 |  | $label      = apply\_filters( 'epl\_get\_property\_holiday\_rental\_label', \_\_( 'Holiday Rental', 'easy-property-listings' ) ); |
  | 2000 |  | $value      = $this->get\_property\_meta( 'property\_holiday\_rental' ); |
  | 2001 |  | $return     = ''; |
  | 2002 |  | $returntype = apply\_filters( 'epl\_get\_property\_holiday\_rental\_return\_type', $returntype ); |
  | 2003 |  |  |
  | 2004 |  | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  | 2005 |  |  |
  | 2006 |  | switch ( $returntype ) { |
  | 2007 |  |  |
  | 2008 |  | case 'i': |
  | 2009 |  | $return = '<span title="' . $label . '" class="icon holiday\_rental"></span>'; |
  | 2010 |  | break; |
  | 2011 |  |  |
  | 2012 |  | case 'v': |
  | 2013 |  | $return = $value; |
  | 2014 |  | break; |
  | 2015 |  |  |
  | 2016 |  | case 't': |
  | 2017 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-holiday\_rental"> |
  | 2018 |  | <span class="epl-text-icon-label holiday\_rental">' . $label . '</span> |
  | 2019 |  | </div>'; |
  | 2020 |  | break; |
  | 2021 |  |  |
  | 2022 |  | case 'd': |
  | 2023 |  | $return = $label . ' ' . $value . ' '; |
  | 2024 |  | break; |
  | 2025 |  |  |
  | 2026 |  | case 'l': |
  | 2027 |  | $return = '<li class="holiday\_rental">' . $label . '</li>'; |
  | 2028 |  | break; |
  | 2029 |  | } |
  | 2030 |  | return apply\_filters( 'epl\_get\_property\_holiday\_rental', $return, $returntype, $value, $label ); |
  | 2031 |  | } |
  | 2032 |  | } |
  | 2033 |  |  |
  | 2034 |  | /\*\* |
  | 2035 |  | \* Get Furnished |
  | 2036 |  | \* |
  | 2037 |  | \* @since 3.2 |
  | 2038 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 2039 |  | \* @return string |
  | 2040 |  | \*/ |
  | 2041 |  | public function get\_property\_furnished( $returntype = 'i' ) { |
  | 2042 |  |  |
  | 2043 |  | $value      = $this->get\_property\_meta( 'property\_furnished' ); |
  | 2044 |  | $returntype = apply\_filters( 'epl\_get\_property\_furnished\_return\_type', $returntype ); |
  | 2045 |  | $return     = ''; |
  | 2046 |  |  |
  | 2047 |  | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  | 2048 |  |  |
  | 2049 |  | $label = apply\_filters( 'epl\_get\_property\_furnished\_label', \_\_( 'Furnished', 'easy-property-listings' ) ); |
  | 2050 |  |  |
  | 2051 |  | switch ( $returntype ) { |
  | 2052 |  |  |
  | 2053 |  | case 'i': |
  | 2054 |  | $return = '<span title="' . $label . '" class="icon furnished"></span>'; |
  | 2055 |  | break; |
  | 2056 |  |  |
  | 2057 |  | case 'v': |
  | 2058 |  | $return = $value; |
  | 2059 |  | break; |
  | 2060 |  |  |
  | 2061 |  | case 't': |
  | 2062 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-furnished"> |
  | 2063 |  | <span class="epl-text-icon-label furnished">' . $label . '</span> |
  | 2064 |  | </div>'; |
  | 2065 |  | break; |
  | 2066 |  |  |
  | 2067 |  | case 'd': |
  | 2068 |  | $return = $label . ' ' . $value . ' '; |
  | 2069 |  | break; |
  | 2070 |  |  |
  | 2071 |  | case 'l': |
  | 2072 |  | $return = '<li class="furnished">' . $label . '</li>'; |
  | 2073 |  | break; |
  | 2074 |  |  |
  | 2075 |  | } |
  | 2076 |  | return apply\_filters( 'epl\_get\_property\_furnished', $return, $returntype, $value, $label ); |
  | 2077 |  | } |
  | 2078 |  | } |
  | 2079 |  |  |
  | 2080 |  | /\*\* |
  | 2081 |  | \* Get Pets |
  | 2082 |  | \* |
  | 2083 |  | \* @since 3.3 |
  | 2084 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 2085 |  | \* @return string |
  | 2086 |  | \*/ |
  | 2087 |  | public function get\_property\_pets( $returntype = 'i' ) { |
  | 2088 |  |  |
  | 2089 |  | $value      = $this->get\_property\_meta( 'property\_pet\_friendly' ); |
  | 2090 |  | $returntype = apply\_filters( 'epl\_get\_property\_pet\_friendly\_return\_type', $returntype ); |
  | 2091 |  | $return     = ''; |
  | 2092 |  |  |
  | 2093 |  | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  | 2094 |  |  |
  | 2095 |  | $label = apply\_filters( 'epl\_get\_property\_pet\_friendly\_label', \_\_( 'Pet Friendly', 'easy-property-listings' ) ); |
  | 2096 |  |  |
  | 2097 |  | switch ( $returntype ) { |
  | 2098 |  |  |
  | 2099 |  | case 'i': |
  | 2100 |  | $return = '<span title="' . $label . '" class="icon pet-friendly"></span>'; |
  | 2101 |  | break; |
  | 2102 |  |  |
  | 2103 |  | case 'v': |
  | 2104 |  | $return = $value; |
  | 2105 |  | break; |
  | 2106 |  |  |
  | 2107 |  | case 't': |
  | 2108 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-pet-friendly"> |
  | 2109 |  | <span class="epl-text-icon-label pet-friendly">' . $label . '</span> |
  | 2110 |  | </div>'; |
  | 2111 |  | break; |
  | 2112 |  |  |
  | 2113 |  | case 'd': |
  | 2114 |  | $return = $label . ' ' . $value . ' '; |
  | 2115 |  | break; |
  | 2116 |  |  |
  | 2117 |  | case 'l': |
  | 2118 |  | $return = '<li class="pet-friendly">' . $label . '</li>'; |
  | 2119 |  | break; |
  | 2120 |  |  |
  | 2121 |  | } |
  | 2122 |  | return apply\_filters( 'epl\_get\_property\_pet\_friendly', $return, $returntype, $value, $label ); |
  | 2123 |  | } |
  | 2124 |  | } |
  | 2125 |  |  |
  | 2126 |  | /\*\* |
  | 2127 |  | \* Get Featured |
  | 2128 |  | \* |
  | 2129 |  | \* @since 3.3 |
  | 2130 |  | \* @param string $returntype Options i = span, v = raw value, t = text, d = string, l = list item. |
  | 2131 |  | \* @return string |
  | 2132 |  | \*/ |
  | 2133 |  | public function get\_property\_featured( $returntype = 'i' ) { |
  | 2134 |  |  |
  | 2135 |  | $value      = $this->get\_property\_meta( 'property\_featured' ); |
  | 2136 |  | $returntype = apply\_filters( 'epl\_get\_property\_featured\_return\_type', $returntype ); |
  | 2137 |  | $return     = ''; |
  | 2138 |  |  |
  | 2139 |  | if ( isset( $value ) && ( 1 === $value || 'yes' === $value ) ) { |
  | 2140 |  |  |
  | 2141 |  | $label = apply\_filters( 'epl\_get\_property\_featured\_label', \_\_( 'Featured', 'easy-property-listings' ) ); |
  | 2142 |  |  |
  | 2143 |  | switch ( $returntype ) { |
  | 2144 |  |  |
  | 2145 |  | case 'i': |
  | 2146 |  | $return = '<span title="' . $label . '" class="icon featured"></span>'; |
  | 2147 |  | break; |
  | 2148 |  |  |
  | 2149 |  | case 'v': |
  | 2150 |  | $return = $value; |
  | 2151 |  | break; |
  | 2152 |  |  |
  | 2153 |  | case 't': |
  | 2154 |  | $return = '<div class="epl-text-icon-container epl-text-icon-container-featured"> |
  | 2155 |  | <span class="epl-text-icon-label featured">' . $label . '</span> |
  | 2156 |  | </div>'; |
  | 2157 |  | break; |
  | 2158 |  |  |
  | 2159 |  | case 'd': |
  | 2160 |  | $return = $label . ' ' . $value . ' '; |
  | 2161 |  | break; |
  | 2162 |  |  |
  | 2163 |  | case 'l': |
  | 2164 |  | $return = '<li class="featured">' . $label . '</li>'; |
  | 2165 |  | break; |
  | 2166 |  |  |
  | 2167 |  | } |
  | 2168 |  | return apply\_filters( 'epl\_get\_property\_property\_featured', $return, $returntype, $value, $label ); |
  | 2169 |  | } |
  | 2170 |  | } |
  | 2171 |  |  |
  | 2172 |  | /\*\* |
  | 2173 |  | \* Get Additional Features by meta key |
  | 2174 |  | \* |
  | 2175 |  | \* @since 2.0 |
  | 2176 |  | \* @param string $metakey Meta key name. |
  | 2177 |  | \* @return mixed Value wrapped in a list item |
  | 2178 |  | \* @since 3.4.35 Tweak: Support for true/false values in features checklist. |
  | 2179 |  | \* @since 3.4.44 Parking Comments Label before value. |
  | 2180 |  | \*/ |
  | 2181 |  | public function get\_additional\_features\_html( $metakey ) { |
  | 2182 |  |  |
  | 2183 |  | $metavalue = $this->get\_property\_meta( $metakey ); |
  | 2184 |  |  |
  | 2185 |  | $return = ''; |
  | 2186 |  |  |
  | 2187 |  | if ( ! empty( $metavalue ) || intval( $metavalue ) !== 0 ) { |
  | 2188 |  |  |
  | 2189 |  | // Commercial Car Spaces : Label Issue (Returning 50 Com Car Spaces. Need to remove com. |
  | 2190 |  | if ( 'property\_com\_car\_spaces' === $metakey ) { |
  | 2191 |  | $metavalue = $metavalue . apply\_filters( 'epl\_get\_property\_com\_car\_spaces\_label', '' ); |
  | 2192 |  | } |
  | 2193 |  |  |
  | 2194 |  | switch ( $metavalue ) { |
  | 2195 |  |  |
  | 2196 |  | case 1: |
  | 2197 |  | case 'yes': |
  | 2198 |  | case 'YES': |
  | 2199 |  | case 'Y': |
  | 2200 |  | case 'y': |
  | 2201 |  | case 'on': |
  | 2202 |  | case 'true': |
  | 2203 |  | $return = '<li class="' . $this->get\_class\_from\_metakey( $metakey ) . '">' . apply\_filters( 'epl\_get\_' . $metakey . '\_label', $this->get\_label\_from\_metakey( $metakey ) ) . '</li>'; |
  | 2204 |  | break; |
  | 2205 |  |  |
  | 2206 |  | case 0: |
  | 2207 |  | case 'no': |
  | 2208 |  | case 'NO': |
  | 2209 |  | case 'N': |
  | 2210 |  | case 'n': |
  | 2211 |  | case 'off': |
  | 2212 |  | case 'false': |
  | 2213 |  | $return = ''; |
  | 2214 |  | break; |
  | 2215 |  |  |
  | 2216 |  | default: |
  | 2217 |  | if ( 'property\_com\_parking\_comments' === $metakey ) { |
  | 2218 |  | $return = '<li class="' . $this->get\_class\_from\_metakey( $metakey ) . '">' . apply\_filters( 'epl\_get\_' . $metakey . '\_label', $this->get\_label\_from\_metakey( $metakey ) ) . ' ' . $metavalue . '</li>'; |
  | 2219 |  | } else { |
  | 2220 |  | $return = '<li class="' . $this->get\_class\_from\_metakey( $metakey ) . '">' . $metavalue . ' ' . apply\_filters( 'epl\_get\_' . $metakey . '\_label', $this->get\_label\_from\_metakey( $metakey ) ) . '</li>'; |
  | 2221 |  | } |
  | 2222 |  |  |
  | 2223 |  | break; |
  | 2224 |  | } |
  | 2225 |  | } |
  | 2226 |  | return apply\_filters( 'epl\_get\_additional\_features\_html', $return ); |
  | 2227 |  | } |
  | 2228 |  |  |
  | 2229 |  | /\*\* |
  | 2230 |  | \* Get Additional Rural Features by meta key |
  | 2231 |  | \* |
  | 2232 |  | \* @since 2.0 |
  | 2233 |  | \* @param string $metakey Meta key name. |
  | 2234 |  | \* @return mixed Value formatted and wrapped in div with title |
  | 2235 |  | \*/ |
  | 2236 |  | public function get\_additional\_rural\_features\_html( $metakey ) { |
  | 2237 |  | $metavalue = $this->get\_property\_meta( $metakey ); |
  | 2238 |  | if ( isset( $metavalue ) && ! empty( $metavalue ) ) { |
  | 2239 |  | $return = '<div class="' . $this->get\_class\_from\_metakey( $metakey, $search = 'property\_rural\_' ) . '"> |
  | 2240 |  | <h6>' . $this->get\_label\_from\_metakey( $metakey, 'property\_rural\_' ) . '</h6>' . |
  | 2241 |  | '<p>' . $metavalue . '</p>' . |
  | 2242 |  | '</div>'; |
  | 2243 |  | return apply\_filters( 'epl\_get\_additional\_rural\_features\_html', $return ); |
  | 2244 |  | } |
  | 2245 |  | } |
  | 2246 |  |  |
  | 2247 |  | /\*\* |
  | 2248 |  | \* Get Additional Commercial Features by meta key |
  | 2249 |  | \* |
  | 2250 |  | \* @since 2.0.0 |
  | 2251 |  | \* @since 3.4.27 |
  | 2252 |  | \* @param string $metakey Meta key name. |
  | 2253 |  | \* @return mixed Value formatted and wrapped in div with title |
  | 2254 |  | \*/ |
  | 2255 |  | public function get\_additional\_commercial\_features\_html( $metakey ) { |
  | 2256 |  | $metavalue = $this->get\_property\_meta( $metakey ); |
  | 2257 |  | if ( isset( $metavalue ) && ! empty( $metavalue ) ) { |
  | 2258 |  | $return = '<div class="' . $this->get\_class\_from\_metakey( $metakey, $search = 'property\_com\_' ) . '"> |
  | 2259 |  | <h6>' . $this->get\_label\_from\_metakey( $metakey, 'property\_com\_' ) . '</h6>' . |
  | 2260 |  | '<p>' . $metavalue . '</p>' . |
  | 2261 |  | '</div>'; |
  | 2262 |  | return apply\_filters( 'epl\_get\_additional\_commercial\_features\_html', $return ); |
  | 2263 |  | } |
  | 2264 |  | } |
  | 2265 |  |  |
  | 2266 |  | /\*\* |
  | 2267 |  | \* Get Additional Commercial Features by meta key. |
  | 2268 |  | \* |
  | 2269 |  | \* Spelling error in this function. Retained to prevent issues. |
  | 2270 |  | \* |
  | 2271 |  | \* @since 2.0.0 |
  | 2272 |  | \* @param string $metakey Meta key name. |
  | 2273 |  | \* @return mixed Value formatted and wrapped in div with title |
  | 2274 |  | \*/ |
  | 2275 |  | public function get\_additional\_commerical\_features\_html( $metakey ) { |
  | 2276 |  | $metavalue = $this->get\_property\_meta( $metakey ); |
  | 2277 |  | if ( isset( $metavalue ) && ! empty( $metavalue ) ) { |
  | 2278 |  | $return = '<div class="' . $this->get\_class\_from\_metakey( $metakey, $search = 'property\_com\_' ) . '"> |
  | 2279 |  | <h6>' . $this->get\_label\_from\_metakey( $metakey, 'property\_com\_' ) . '</h6>' . |
  | 2280 |  | '<p>' . $metavalue . '</p>' . |
  | 2281 |  | '</div>'; |
  | 2282 |  | return apply\_filters( 'epl\_get\_additional\_commerical\_features\_html', $return ); |
  | 2283 |  | } |
  | 2284 |  | } |
  | 2285 |  |  |
  | 2286 |  | /\*\* |
  | 2287 |  | \* Get class name from meta key |
  | 2288 |  | \* |
  | 2289 |  | \* @since 2.0 |
  | 2290 |  | \* @param string $key Meta key. |
  | 2291 |  | \* @param string $search Meta key prefix to search for and remove from class, property\_ is default. |
  | 2292 |  | \* @return string Formatted class name |
  | 2293 |  | \*/ |
  | 2294 |  | public function get\_class\_from\_metakey( $key, $search = 'property\_' ) { |
  | 2295 |  | return str\_replace( 'property\_', '', $key ); |
  | 2296 |  | } |
  | 2297 |  |  |
  | 2298 |  | /\*\* |
  | 2299 |  | \* Get Label from meta key |
  | 2300 |  | \* |
  | 2301 |  | \* @since 2.0 |
  | 2302 |  | \* @param string $key Meta key. |
  | 2303 |  | \* @param string $search Meta key prefix to search for and remove from class, property\_ is default. |
  | 2304 |  | \* @return string Formatted uppercase words |
  | 2305 |  | \* @depricated since 3.2 |
  | 2306 |  | \*/ |
  | 2307 |  | public function get\_label\_from\_metakey( $key, $search = 'property\_' ) { |
  | 2308 |  | return epl\_get\_meta\_field\_label( $key ); |
  | 2309 |  | } |
  | 2310 |  |  |
  | 2311 |  | /\*\* |
  | 2312 |  | \* Get features from taxonomy |
  | 2313 |  | \* |
  | 2314 |  | \* @since 2.0 |
  | 2315 |  | \* @return mixed Formatted list items |
  | 2316 |  | \*/ |
  | 2317 |  | public function get\_features\_from\_taxonomy() { |
  | 2318 |  | $property\_feature\_taxonomy = ''; |
  | 2319 |  | if ( taxonomy\_exists( 'tax\_feature' ) ) { |
  | 2320 |  | global $post; |
  | 2321 |  | $property\_feature\_taxonomy = epl\_get\_the\_term\_list( $this->post->ID, 'tax\_feature' ); |
  | 2322 |  | } |
  | 2323 |  | return apply\_filters( 'epl\_get\_features\_from\_taxonomy', $property\_feature\_taxonomy ); |
  | 2324 |  | } |
  | 2325 |  | } |
  |  | 2335 | endif; // End class\_exists check. |
* ## [easy-property-listings/tags/3.5.3/lib/includes/functions.php](/changeset/3055030/easy-property-listings/trunk/lib/includes/functions.php?old=3034371&old_path=easy-property-listings%2Ftrunk%2Flib%2Fincludes%2Ffunctions.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/includes/functions.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3034371#L969 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030#L969 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 969 | 969 | \* @throws exception Exception. |
  | 970 | 970 | \* @since 3.0 |
  |  | 971 | \* @since 3.5.3 Update to return local timestamp. |
  | 971 | 972 | \*/ |
  | 972 | 973 | function epl\_feedsync\_switch\_date\_time( $date\_time = false, $old\_time\_zone = 'Australia/Perth', $new\_timezone = 'Australia/Sydney', $format = 'Y-m-d H:i:s' ) { |
  | 973 | 974 |  |
  | 974 | 975 | if ( ! $date\_time ) { |
  | 975 |  | $date\_time = date( 'Y-m-d H:i:s', ~~time~~() ); |
  |  | 976 | $date\_time = date( 'Y-m-d H:i:s', epl\_get\_local\_timestamp() ); |
  | 976 | 977 | } |
  | 977 | 978 | if ( ! $old\_time\_zone ) { |
  | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3034371#L1004) | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030#L1005) |  |
  | 1004 | 1005 | \* |
  | 1005 | 1006 | \* @since 2.1 |
  |  | 1007 | \* @since 3.5.3 Updated to return local timestamp. |
  | 1006 | 1008 | \*/ |
  | 1007 | 1009 | function epl\_get\_admin\_option\_fields() { |
  | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3034371#L1560) | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030#L1562) |  |
  | 1560 | 1562 | 'opts'  => array( |
  | 1561 | 1563 |  |
  | 1562 |  | 'd-M-Y'                         => date( 'd-M-Y', ~~time~~() ), |
  | 1563 |  | 'l, dS F'                       => date( 'l, dS F', ~~time~~() ), |
  | 1564 |  | 'D d M'                         => date( 'D d M', ~~time~~() ), |
  |  | 1564 | 'd-M-Y'                         => date( 'd-M-Y', epl\_get\_local\_timestamp() ), |
  |  | 1565 | 'l, dS F'                       => date( 'l, dS F', epl\_get\_local\_timestamp() ), |
  |  | 1566 | 'D d M'                         => date( 'D d M', epl\_get\_local\_timestamp() ), |
  | 1565 | 1567 | 'custom\_inspection\_date\_format' => \_\_( 'Custom', 'easy-property-listings' ), |
  | 1566 | 1568 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3034371#L1578) | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030#L1580) |  |
  | 1578 | 1580 | 'opts'  => array( |
  | 1579 | 1581 |  |
  | 1580 |  | 'h:i A'                         => date( 'h:i A', ~~time~~() ), |
  | 1581 |  | 'h:i a'                         => date( 'h:i a', ~~time~~() ), |
  | 1582 |  | 'H:i'                           => date( 'h:i', ~~time~~() ) . \_\_( ' ( 24 Hours Format ) ', 'easy-property-listings' ), |
  |  | 1582 | 'h:i A'                         => date( 'h:i A', epl\_get\_local\_timestamp() ), |
  |  | 1583 | 'h:i a'                         => date( 'h:i a', epl\_get\_local\_timestamp() ), |
  |  | 1584 | 'H:i'                           => date( 'h:i', epl\_get\_local\_timestamp() ) . \_\_( ' ( 24 Hours Format ) ', 'easy-property-listings' ), |
  | 1583 | 1585 | 'custom\_inspection\_time\_format' => \_\_( 'Custom', 'easy-property-listings' ), |
  | 1584 | 1586 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3034371#L1805) | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030#L1807) |  |
  | 1805 | 1807 | \* Author URL: http://pwdtechnology.com |
  | 1806 | 1808 | \* |
  | 1807 |  | \* @param string $key Post Meta Key. |
  | 1808 |  | \* @param string $type Post Type. Default is post. You can pass custom post type here. |
  | 1809 |  | \* @param string $status Post Status like Publish, draft, future etc. default is publish. |
  |  | 1809 | \* @param string $key             Post Meta Key. |
  |  | 1810 | \* @param string $type            Post Type. Default is post. You can pass custom post type here. |
  |  | 1811 | \* @param string $status          Post Status like Publish, draft, future etc. default is publish. |
  | 1810 | 1812 | \* @param string $property\_status Listing status. |
  | 1811 |  | \* @return array |
  |  | 1813 | \* |
  |  | 1814 | \* @return void |
  |  | 1815 | \* |
  | 1812 | 1816 | \* @since 2.1.11 |
  | 1813 | 1817 | \* @since 3.4.40 Tweak: Search selection results will be sorted in a-z order. |
  | 1814 | 1818 | \* @since 3.4.40 Fix: Search address options fixed for the all search tab. |
  |  | 1819 | \* @since 3.5.3  Fix: Prepared statement for SQL. |
  | 1815 | 1820 | \*/ |
  | 1816 | 1821 | function epl\_get\_unique\_post\_meta\_values( $key = '', $type = '', $status = 'publish', $property\_status = '' ) { |
  | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3034371#L1831) | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030#L1836) |  |
  | 1831 | 1836 |  |
  | 1832 | 1837 | $query = " |
  | 1833 |  | SELECT DISTINCT pm.meta\_value FROM {$wpdb->postmeta} pm |
  | 1834 |  | LEFT JOIN {$wpdb->posts} p ON p.ID = pm.post\_id |
  | 1835 |  | LEFT JOIN {$wpdb->postmeta} pm2 ON pm.post\_id = pm2.post\_id |
  | 1836 |  | WHERE pm.meta\_key = '%s' |
  | 1837 |  | AND p.post\_status = '%s' |
  | 1838 |  | AND p.post\_type IN $type\_str |
  | 1839 |  | "; |
  |  | 1838 | SELECT DISTINCT pm.meta\_value FROM {$wpdb->postmeta} pm |
  |  | 1839 | LEFT JOIN {$wpdb->posts} p ON p.ID = pm.post\_id |
  |  | 1840 | LEFT JOIN {$wpdb->postmeta} pm2 ON pm.post\_id = pm2.post\_id |
  |  | 1841 | WHERE pm.meta\_key = '%s' |
  |  | 1842 | AND p.post\_status = '%s' |
  |  | 1843 | AND p.post\_type IN $type\_str |
  |  | 1844 | "; |
  | 1840 | 1845 |  |
  | 1841 | 1846 | if ( ! empty( $property\_status ) ) { |
  |  | 1847 |  |
  | 1842 | 1848 | $property\_status = array\_map( 'trim', explode( ',', $property\_status ) ); |
  |  | 1849 |  |
  | 1843 | 1850 | if ( count( $property\_status ) ) { |
  |  | 1851 |  |
  | 1844 | 1852 | $query .= " |
  | 1845 |  | AND pm2.meta\_key        = 'property\_status' |
  | 1846 |  | AND pm2.meta\_value      IN ('" . implode( "','", $property\_status ) . "')"; |
  |  | 1853 | AND pm2.meta\_key = 'property\_status' |
  |  | 1854 | AND pm2.meta\_value IN ('"; |
  |  | 1855 |  |
  |  | 1856 | $prepared\_status = array(); |
  |  | 1857 | foreach ( $property\_status as $single\_status ) { |
  |  | 1858 | $prepared\_status[] = $wpdb->prepare( '%s', $single\_status ); |
  |  | 1859 | } |
  |  | 1860 |  |
  |  | 1861 | $query .= implode( ',', $prepared\_status ) . "')"; |
  | 1847 | 1862 | } |
  | 1848 | 1863 | } |
  | 1849 | 1864 |  |
  | 1850 | 1865 | $res = $wpdb->get\_col( $wpdb->prepare( $query, $key, $status ) ); // phpcs:ignore |
  | 1851 |  |  |
  | 1852 | 1866 | $res = array\_filter( $res ); |
  | 1853 | 1867 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3034371#L1862) | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030#L1876) |  |
  | 1862 | 1876 | } |
  | 1863 | 1877 |  |
  | 1864 |  | $res = array\_filter( $res ); |
  | 1865 |  |  |
  |  | 1878 | $res     = array\_filter( $res ); |
  | 1866 | 1879 | $results = array(); |
  | 1867 | 1880 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3034371#L2633) | […](/browser/easy-property-listings/trunk/lib/includes/functions.php?rev=3055030#L2646) |  |
  | 2633 | 2646 | return $return; |
  | 2634 | 2647 | } |
  |  | 2648 |  |
  |  | 2649 | /\*\* |
  |  | 2650 | \* Returns the localised timestamp |
  |  | 2651 | \* |
  |  | 2652 | \* @since 3.5.3 |
  |  | 2653 | \*/ |
  |  | 2654 | function epl\_get\_local\_timestamp() { |
  |  | 2655 | $local\_time  = current\_datetime(); |
  |  | 2656 | return $local\_time->getTimestamp() + $local\_time->getOffset(); |
  |  | 2657 | } |
* ## [easy-property-listings/tags/3.5.3/lib/includes/libraries/class-wp-session.php](/changeset/3055030/easy-property-listings/trunk/lib/includes/libraries/class-wp-session.php?old=3034371&old_path=easy-property-listings%2Ftrunk%2Flib%2Fincludes%2Flibraries%2Fclass-wp-session.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/includes/libraries/class-wp-session.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/includes/libraries/class-wp-session.php?rev=3034371#L70 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/includes/libraries/class-wp-session.php?rev=3055030#L70 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 | \* @uses apply\_filters Calls `wp\_session\_expiration` to determine how long until sessions expire. |
  | 71 | 71 | \* @since 3.5.1 Uses $this->get\_session\_delimiter('||') to get delimiter. |
  |  | 72 | \* @since 3.5.3 Updated to return local timestamp. |
  | 72 | 73 | \*/ |
  | 73 | 74 | protected function \_\_construct() { |
  | […](/browser/easy-property-listings/trunk/lib/includes/libraries/class-wp-session.php?rev=3034371#L86) | […](/browser/easy-property-listings/trunk/lib/includes/libraries/class-wp-session.php?rev=3055030#L87) |  |
  | 86 | 87 |  |
  | 87 | 88 | // Update the session expiration if we're past the variant time. |
  | 88 |  | if ( ~~time~~() > $this->exp\_variant ) { |
  |  | 89 | if ( epl\_get\_local\_timestamp() > $this->exp\_variant ) { |
  | 89 | 90 | $this->set\_expiration(); |
  | 90 | 91 | delete\_option( "\_wp\_session\_expires\_{$this->session\_id}" ); |
  | […](/browser/easy-property-listings/trunk/lib/includes/libraries/class-wp-session.php?rev=3034371#L133) | […](/browser/easy-property-listings/trunk/lib/includes/libraries/class-wp-session.php?rev=3055030#L134) |  |
  | 133 | 134 | \* @uses apply\_filters Calls `wp\_session\_expiration\_variant` to get the max update window for session data. |
  | 134 | 135 | \* @uses apply\_filters Calls `wp\_session\_expiration` to get the standard expiration time for sessions. |
  |  | 136 | \* |
  |  | 137 | \* @since 3.5.3 Updated to return local timestamp. |
  | 135 | 138 | \*/ |
  | 136 | 139 | protected function set\_expiration() { |
  | 137 |  | $this->exp\_variant = ~~time~~() + (int) apply\_filters( 'wp\_session\_expiration\_variant', 24 \* 60 ); |
  | 138 |  | $this->expires     = ~~time~~() + (int) apply\_filters( 'wp\_session\_expiration', 30 \* 60 ); |
  |  | 140 | $this->exp\_variant = epl\_get\_local\_timestamp() + (int) apply\_filters( 'wp\_session\_expiration\_variant', 24 \* 60 ); |
  |  | 141 | $this->expires     = epl\_get\_local\_timestamp() + (int) apply\_filters( 'wp\_session\_expiration', 30 \* 60 ); |
  | 139 | 142 | } |
  | 140 | 143 |  |
* ## [easy-property-listings/tags/3.5.3/lib/includes/libraries/wp\_session/class-wp-session.php](/changeset/3055030/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?old=2262911&old_path=easy-property-listings%2Ftrunk%2Flib%2Fincludes%2Flibraries%2Fwp_session%2Fclass-wp-session.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/includes/libraries/wp_session/class-wp-session.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=2262911#L68 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=3055030#L68 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 68 | 68 | \* @param $session\_id |
  | 69 | 69 | \* @uses apply\_filters Calls `wp\_session\_expiration` to determine how long until sessions expire. |
  |  | 70 | \* |
  |  | 71 | \* @since 3.5.3 Updated to return local timestamp. |
  | 70 | 72 | \*/ |
  | 71 | 73 | private function \_\_construct() { |
  | […](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=2262911#L76) | […](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=3055030#L78) |  |
  | 76 | 78 | } |
  | 77 | 79 |  |
  | 78 |  | $this->expires = ~~time~~() + intval( apply\_filters( 'wp\_session\_expiration', 24 \* 60 ) ); |
  |  | 80 | $this->expires = epl\_get\_local\_timestamp() + intval( apply\_filters( 'wp\_session\_expiration', 24 \* 60 ) ); |
  | 79 | 81 |  |
  | 80 | 82 | $this->read\_data(); |
  | […](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=2262911#L119) | […](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=3055030#L121) |  |
  | 119 | 121 | } |
  | 120 | 122 |  |
  |  | 123 | /\*\* |
  |  | 124 | \* Write the data from the current session to the data storage system. |
  |  | 125 | \* |
  |  | 126 | \* @since 3.5.3 Updated to return local timestamp. |
  |  | 127 | \*/ |
  | 121 | 128 | private function touch\_session() { |
  | 122 | 129 | $session\_list = get\_option( '\_wp\_session\_list', array() ); |
  | […](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=2262911#L125) | […](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=3055030#L132) |  |
  | 125 | 132 |  |
  | 126 | 133 | foreach ( $session\_list as $id => $expires ) { |
  | 127 |  | if ( ~~time~~() > $this->expires ) { |
  |  | 134 | if ( epl\_get\_local\_timestamp() > $this->expires ) { |
  | 128 | 135 | delete\_option( "\_wp\_session\_{$id}" ); |
  | 129 | 136 | unset( $session\_list[ $id ] ); |
  | […](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=2262911#L177) | […](/browser/easy-property-listings/trunk/lib/includes/libraries/wp_session/class-wp-session.php?rev=3055030#L184) |  |
  | 177 | 184 | $this->session\_id = $this->generate\_id(); |
  | 178 | 185 |  |
  | 179 |  | setcookie( WP\_SESSION\_COOKIE, $this->session\_id, ~~time~~() + $this->expires, COOKIEPATH, COOKIE\_DOMAIN ); |
  |  | 186 | setcookie( WP\_SESSION\_COOKIE, $this->session\_id, epl\_get\_local\_timestamp() + $this->expires, COOKIEPATH, COOKIE\_DOMAIN ); |
  | 180 | 187 | } |
  | 181 | 188 |  |
* ## [easy-property-listings/tags/3.5.3/lib/includes/pagination.php](/changeset/3055030/easy-property-listings/trunk/lib/includes/pagination.php?old=3029224&old_path=easy-property-listings%2Ftrunk%2Flib%2Fincludes%2Fpagination.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/includes/pagination.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3029224#L356 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3055030#L356 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 356 | 356 | \* @since 3.3.3 |
  | 357 | 357 | \* @since 3.5.1 Fixed shortcode pagination when permalinks are plain. |
  |  | 358 | \* @since 3.5.3 Fixed sorting not working for pagination on shortcode. |
  | 358 | 359 | \*/ |
  | 359 | 360 | function epl\_get\_next\_page\_link( $query ) { |
  | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3029224#L379) | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3055030#L380) |  |
  | 379 | 380 |  |
  | 380 | 381 | $link = epl\_add\_or\_update\_params( $link, 'pagination\_id', $query->get( 'instance\_id' ) ); |
  |  | 382 | $link = epl\_add\_or\_update\_params( $link, 'instance\_id', $query->get( 'instance\_id' ) ); |
  | 381 | 383 | } |
  | 382 | 384 | return apply\_filters( 'epl\_get\_next\_page\_link', $link ); |
  | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3029224#L393) | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3055030#L395) |  |
  | 393 | 395 | function epl\_next\_post\_link( $query, $label = null ) { |
  | 394 | 396 |  |
  | 395 |  | $paged = $query->get( 'paged' ); |
  | 396 |  |  |
  |  | 397 | $paged    = $query->get( 'paged' ); |
  | 397 | 398 | $nextpage = intval( $paged ) + 1; |
  | 398 | 399 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3029224#L415) | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3055030#L416) |  |
  | 415 | 416 | \* @since 3.3.3 |
  | 416 | 417 | \* @since 3.5.1 Fixed shortcode pagination when permalinks are plain. |
  |  | 418 | \* @since 3.5.3 Fixed sorting not working for pagination on shortcode. |
  | 417 | 419 | \*/ |
  | 418 | 420 | function epl\_get\_prev\_page\_link( $query ) { |
  | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3029224#L437) | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3055030#L439) |  |
  | 437 | 439 | } |
  | 438 | 440 | $link = epl\_add\_or\_update\_params( $link, 'pagination\_id', $query->get( 'instance\_id' ) ); |
  |  | 441 | $link = epl\_add\_or\_update\_params( $link, 'instance\_id', $query->get( 'instance\_id' ) ); |
  | 439 | 442 | } |
  | 440 | 443 | return apply\_filters( 'epl\_get\_prev\_page\_link', $link ); |
  | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3029224#L468) | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3055030#L471) |  |
  | 468 | 471 | \* |
  | 469 | 472 | \* @param  WP\_Query $query WP Query object. |
  |  | 473 | \* |
  | 470 | 474 | \* @since 2.1 |
  | 471 |  | \* @~~revised 3.3.3~~ |
  |  | 475 | \* @since 3.3.3  Revised. |
  | 472 | 476 | \* @since 3.4.44 Fixed warning for wp\_kses\_post when empty link. |
  | 473 | 477 | \*/ |
  | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3029224#L487) | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3055030#L491) |  |
  | 487 | 491 | <?php |
  | 488 | 492 | if ( ! empty( epl\_prev\_post\_link( $query\_open ) ) ) { |
  | 489 |  | echo wp\_kses\_post( epl\_prev\_post\_link( $query\_open ) ); |
  |  | 493 | echo wp\_kses\_post( epl\_prev\_post\_link( $query\_open ) ); |
  | 490 | 494 | } |
  | 491 | 495 | ?> |
  | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3029224#L494) | […](/browser/easy-property-listings/trunk/lib/includes/pagination.php?rev=3055030#L498) |  |
  | 494 | 498 | <?php |
  | 495 | 499 | if ( ! empty( epl\_next\_post\_link( $query\_open ) ) ) { |
  | 496 |  | echo wp\_kses\_post( epl\_next\_post\_link( $query\_open ) ); |
  |  | 500 | echo wp\_kses\_post( epl\_next\_post\_link( $query\_open ) ); |
  | 497 | 501 | } |
  | 498 | 502 | ?> |
  | 499 | 503 | </div> |
  | 500 |  | </div><?php |
  | 501 |  | } |
  | 502 |  | } |
  |  | 504 | </div> |
  |  | 505 | <?php |
  |  | 506 | } |
  |  | 507 | } |
* ## [easy-property-listings/tags/3.5.3/lib/includes/template-functions.php](/changeset/3055030/easy-property-listings/trunk/lib/includes/template-functions.php?old=3034371&old_path=easy-property-listings%2Ftrunk%2Flib%2Fincludes%2Ftemplate-functions.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/includes/template-functions.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L213 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L213 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 213 | 213 | <a href="<?php the\_permalink(); ?>"> |
  | 214 | 214 | <?php } ?> |
  | 215 |  | <div class="epl-blog-image"> |
  | 216 |  | <?php do\_action( 'epl\_stickers\_featured\_image', $args ); ?> |
  | 217 |  | <?php the\_post\_thumbnail( $args['image\_size'], array( 'class' => $args['image\_class'] ) ); ?> |
  | 218 |  | </div> |
  |  | 215 | <div class="epl-blog-image"> |
  |  | 216 | <?php do\_action( 'epl\_stickers\_featured\_image', $args ); ?> |
  |  | 217 | <?php the\_post\_thumbnail( $args['image\_size'], array( 'class' => $args['image\_class'] ) ); ?> |
  |  | 218 | </div> |
  | 219 | 219 | <?php if ( true === $args['link'] ) { ?> |
  | 220 | 220 | </a> |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L324) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L324) |  |
  | 324 | 324 | \* @since 3.4.38 New: Additional parameter default\_template to pass the default template which will be used if the template is not found. |
  | 325 | 325 | \* @since 3.4.41 Fix: Only the default template was loading. |
  |  | 326 | \* @since 3.5.3  Hook to filter find array as well as final template. |
  | 326 | 327 | \*/ |
  | 327 | 328 | function epl\_get\_template\_part( $template, $arguments = array(), $default\_template = false ) { |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L330) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L331) |  |
  | 330 | 331 | $default           = $default\_template ? $default\_template : $template; |
  | 331 | 332 | $find[]            = epl\_template\_path() . $template; |
  |  | 333 | $find              = apply\_filters( 'epl\_template\_part\_find', $find, $template, $arguments, $default\_template ); |
  | 332 | 334 | $template\_location = locate\_template( array\_unique( $find ) ); |
  | 333 | 335 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L351) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L353) |  |
  | 351 | 353 | } |
  | 352 | 354 |  |
  | 353 |  | include ~~$template~~; |
  |  | 355 | include apply\_filters( 'epl\_get\_template\_part', $template, $arguments, $default\_template ); |
  | 354 | 356 | } |
  | 355 | 357 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L406) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L408) |  |
  | 406 | 408 | $template = str\_replace( '\_', '-', $template ); |
  | 407 | 409 |  |
  | 408 |  | global $epl\_settings,$property; |
  |  | 410 | global $epl\_settings, $property; |
  | 409 | 411 |  |
  | 410 | 412 | if ( is\_null( $property ) ) { |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L497) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L499) |  |
  | 497 | 499 |  |
  | 498 | 500 | if ( is\_epl\_post() && $ID ) { |
  | 499 |  |  |
  | 500 | 501 | $epl\_author = new EPL\_Author\_meta( $ID ); |
  | 501 |  |  |
  | 502 | 502 | } else { |
  | 503 |  |  |
  | 504 | 503 | $epl\_author = new EPL\_Author\_meta( $post->post\_author ); |
  | 505 | 504 | } |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L636) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L635) |  |
  | 636 | 635 | epl\_get\_template\_part( 'widget-content-listing-list.php' ); |
  | 637 | 636 | } |
  | 638 |  | } // End Status Removal. |
  | 639 |  |  |
  |  | 637 | } |
  | 640 | 638 |  |
  | 641 | 639 | /\*\* |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L652) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L650) |  |
  | 652 | 650 | $arg\_list = get\_defined\_vars(); |
  | 653 | 651 | } |
  | 654 |  | epl\_get\_template\_part( 'widget-content-listing-image.php', $arg\_list ); |
  | 655 |  | }~~// End Status Removal.~~ |
  |  | 652 | epl\_get\_template\_part( 'widget-content-listing-image.php', $arg\_list ); |
  |  | 653 | } |
  | 656 | 654 |  |
  | 657 | 655 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L1060) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L1058) |  |
  | 1060 | 1058 | \* Getting heading/title of the listing. |
  | 1061 | 1059 | \* |
  | 1062 |  | \* @~~since      2.3.1~~ |
  | 1063 |  | \* |
  | 1064 |  | \* @~~param      mixed $listing listing instance.~~ |
  | 1065 |  | \* |
  | 1066 |  | \* @return string listing heading or title |
  |  | 1060 | \* @param mixed $listing listing instance. |
  |  | 1061 | \* |
  |  | 1062 | \* @since 2.3.1 |
  |  | 1063 | \* |
  |  | 1064 | \* @return string listing heading or title |
  | 1067 | 1065 | \*/ |
  | 1068 | 1066 | function epl\_get\_property\_heading( $listing = null ) { |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L2393) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L2391) |  |
  | 2393 | 2391 | \* Add coordinates to meta for faster loading on second view |
  | 2394 | 2392 | \* |
  | 2395 |  | \* @since      2.1 |
  |  | 2393 | \* @since 2.1 |
  |  | 2394 | \* @since 3.5.3 Removed nopriv access & added nonce. |
  | 2396 | 2395 | \*/ |
  | 2397 | 2396 | function epl\_update\_listing\_coordinates() { |
  |  | 2397 |  |
  |  | 2398 | check\_ajax\_referer( 'epl\_ajax\_nonce', '\_epl\_nonce' ); |
  |  | 2399 |  |
  | 2398 | 2400 | if ( ( ! isset( $\_POST['listid'] ) || 0 === intval( $\_POST['listid'] ) ) || empty( $\_POST['coordinates'] ) ) { |
  | 2399 | 2401 | return; |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L2407) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L2409) |  |
  | 2407 | 2409 | } |
  | 2408 | 2410 | add\_action( 'wp\_ajax\_epl\_update\_listing\_coordinates', 'epl\_update\_listing\_coordinates' ); |
  | 2409 |  | ~~add\_action( 'wp\_ajax\_nopriv\_epl\_update\_listing\_coordinates', 'epl\_update\_listing\_coordinates' );~~ |
  | 2410 | 2411 |  |
  | 2411 | 2412 | /\*\* |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L2896) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L2897) |  |
  | 2896 | 2897 |  |
  | 2897 | 2898 | if ( is\_admin() ) { |
  | 2898 |  | return $content; |
  |  | 2899 | return $content; |
  | 2899 | 2900 | } |
  | 2900 | 2901 |  |
  | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3034371#L3892) | […](/browser/easy-property-listings/trunk/lib/includes/template-functions.php?rev=3055030#L3893) |  |
  | 3892 | 3893 |  |
  | 3893 | 3894 | /\*\* |
  |  | 3895 | \* Get total agent count for listing. |
  |  | 3896 | \* |
  |  | 3897 | \* @since 3.5.3 |
  |  | 3898 | \*/ |
  |  | 3899 | function epl\_get\_total\_agent\_count() { |
  |  | 3900 | $counter = 1; |
  |  | 3901 |  |
  |  | 3902 | $second\_agent = get\_property\_meta( 'property\_second\_agent' ); |
  |  | 3903 | $third\_agent  = get\_property\_meta( 'property\_third\_agent' ); |
  |  | 3904 | $fourth\_agent = get\_property\_meta( 'property\_fourth\_agent' ); |
  |  | 3905 | $counter      = ! empty( $second\_agent ) ? $counter + 1 : $counter; |
  |  | 3906 | $counter      = ! empty( $third\_agent ) ? $counter + 1 : $counter; |
  |  | 3907 | $counter      = ! empty( $fourth\_agent ) ? $counter + 1 : $counter; |
  |  | 3908 |  |
  |  | 3909 | return $counter; |
  |  | 3910 | } |
  |  | 3911 |  |
  |  | 3912 | /\*\* |
  |  | 3913 | \* Get active agent count for listing. |
  |  | 3914 | \* |
  |  | 3915 | \* @since 3.5.3 |
  |  | 3916 | \*/ |
  |  | 3917 | function epl\_get\_active\_agent\_count() { |
  |  | 3918 |  |
  |  | 3919 | global $epl\_author; |
  |  | 3920 |  |
  |  | 3921 | $agents = array( $epl\_author->author\_id ); |
  |  | 3922 |  |
  |  | 3923 | $second\_agent = get\_property\_meta( 'property\_second\_agent' ); |
  |  | 3924 | $third\_agent  = get\_property\_meta( 'property\_third\_agent' ); |
  |  | 3925 | $fourth\_agent = get\_property\_meta( 'property\_fourth\_agent' ); |
  |  | 3926 |  |
  |  | 3927 | $second\_author = get\_user\_by( 'login', $second\_agent ); |
  |  | 3928 | $third\_author  = get\_user\_by( 'login', $third\_agent ); |
  |  | 3929 | $fourth\_author = get\_user\_by( 'login', $fourth\_agent ); |
  |  | 3930 |  |
  |  | 3931 | if ( false !== $second\_author ) { |
  |  | 3932 | $agents[] = $second\_author->ID; |
  |  | 3933 | } |
  |  | 3934 | if ( false !== $third\_author ) { |
  |  | 3935 | $agents[] = $third\_author->ID; |
  |  | 3936 | } |
  |  | 3937 | if ( false !== $fourth\_author ) { |
  |  | 3938 | $agents[] = $fourth\_author->ID; |
  |  | 3939 | } |
  |  | 3940 |  |
  |  | 3941 | $agents = array\_unique( $agents ); |
  |  | 3942 | $count  = count( $agents ); |
  |  | 3943 |  |
  |  | 3944 | return apply\_filters( 'epl\_get\_active\_agent\_count', $count ); |
  |  | 3945 | } |
  |  | 3946 |  |
  |  | 3947 | /\*\* |
  | 3894 | 3948 | \* Wrapper Start for Author Box |
  | 3895 | 3949 | \* |
  | 3896 | 3950 | \* @since 3.5.1 |
  |  | 3951 | \* @since 3.5.3 Added counter class for number of agents. |
  | 3897 | 3952 | \*/ |
  | 3898 | 3953 | function epl\_single\_author\_wrapper\_start() { |
  |  | 3954 |  |
  |  | 3955 | $counter = epl\_get\_total\_agent\_count(); |
  |  | 3956 | $active  = epl\_get\_active\_agent\_count(); |
  | 3899 | 3957 | ?> |
  | 3900 |  | <div class="epl-author-box-wrapper"> |
  |  | 3958 | <div class="epl-author-box-wrapper epl-author-box-wrapper--count-<?php echo esc\_attr( $active ); ?> epl-author-box-wrapper--total-<?php echo esc\_attr( $counter ); ?> "> |
  | 3901 | 3959 | <?php |
  | 3902 | 3960 | } |
* ## [easy-property-listings/tags/3.5.3/lib/post-types/post-types.php](/changeset/3055030/easy-property-listings/trunk/lib/post-types/post-types.php?old=2991552&old_path=easy-property-listings%2Ftrunk%2Flib%2Fpost-types%2Fpost-types.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/post-types/post-types.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/post-types/post-types.php?rev=2991552#L433 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/post-types/post-types.php?rev=3055030#L433 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 433 | 433 |  |
  | 434 | 434 | default: |
  | 435 |  | // ~~a~~ction to hook additional icons. |
  |  | 435 | // Action to hook additional icons. |
  | 436 | 436 | do\_action( 'epl\_get\_manage\_listing\_column\_label\_' . $label ); |
  | 437 | 437 | break; |
  | […](/browser/easy-property-listings/trunk/lib/post-types/post-types.php?rev=2991552#L539) | […](/browser/easy-property-listings/trunk/lib/post-types/post-types.php?rev=3055030#L539) |  |
  | 539 | 539 | \*/ |
  | 540 | 540 |  |
  | 541 |  | $price = $property->get\_property\_meta( 'property\_com\_rent' ); |
  | 542 |  |  |
  |  | 541 | $price     = $property->get\_property\_meta( 'property\_com\_rent' ); |
  | 543 | 542 | $max\_price = (int) epl\_get\_option( 'epl\_max\_graph\_rent\_price', '2000' ); |
  | 544 | 543 | } |
  | […](/browser/easy-property-listings/trunk/lib/post-types/post-types.php?rev=2991552#L651) | […](/browser/easy-property-listings/trunk/lib/post-types/post-types.php?rev=3055030#L650) |  |
  | 651 | 650 |  |
  | 652 | 651 | /\*\* |
  |  | 652 | \* Show agent name in column. |
  |  | 653 | \* |
  |  | 654 | \* @since 3.5.3. |
  |  | 655 | \*/ |
  |  | 656 | function epl\_show\_agent\_name\_in\_column() { |
  |  | 657 |  |
  |  | 658 | global $property, $post; |
  |  | 659 |  |
  |  | 660 | $agent\_keys = array( |
  |  | 661 | 'property\_second\_agent', |
  |  | 662 | 'property\_third\_agent', |
  |  | 663 | 'property\_fourth\_agent', |
  |  | 664 | ); |
  |  | 665 |  |
  |  | 666 | foreach ( $agent\_keys as $agent\_key ) { |
  |  | 667 |  |
  |  | 668 | $agent = $property->get\_property\_meta( $agent\_key ); |
  |  | 669 |  |
  |  | 670 | if ( ! empty( $agent ) ) { |
  |  | 671 |  |
  |  | 672 | $current\_author = get\_user\_by( 'login', $agent ); |
  |  | 673 |  |
  |  | 674 | if ( false !== $current\_author ) { |
  |  | 675 | $url = add\_query\_arg( |
  |  | 676 | array( |
  |  | 677 | 'post\_type' => $post->post\_type, |
  |  | 678 | 'author'    => $current\_author->ID, |
  |  | 679 | ), |
  |  | 680 | 'edit.php' |
  |  | 681 | ); |
  |  | 682 | ?> |
  |  | 683 | <div class="epl-meta epl-meta--agent epl-meta--<?php echo esc\_attr( $agent\_key ); ?>"> |
  |  | 684 | <span class="epl-agent epl-agent--name"> |
  |  | 685 | <a href="<?php echo esc\_url( $url ); ?>"> |
  |  | 686 | <?php echo esc\_html( get\_the\_author\_meta( 'display\_name', $current\_author->ID ) ); ?> |
  |  | 687 | </a> |
  |  | 688 | </span> |
  |  | 689 | </div> |
  |  | 690 | <?php |
  |  | 691 | } else { |
  |  | 692 | ?> |
  |  | 693 | <div class="epl-meta epl-meta--agent epl-meta--<?php echo esc\_attr( $agent\_key ); ?>"> |
  |  | 694 | <span class="epl-agent epl-agent--name"><?php echo esc\_html( $agent ); ?></span> |
  |  | 695 | </div> |
  |  | 696 | <?php |
  |  | 697 | } |
  |  | 698 | epl\_reset\_post\_author(); |
  |  | 699 | } |
  |  | 700 | } |
  |  | 701 | } |
  |  | 702 |  |
  |  | 703 | /\*\* |
  | 653 | 704 | \* Posts Types Agent/Author |
  | 654 | 705 | \* |
  | […](/browser/easy-property-listings/trunk/lib/post-types/post-types.php?rev=2991552#L672) | […](/browser/easy-property-listings/trunk/lib/post-types/post-types.php?rev=3055030#L723) |  |
  | 672 | 723 | ); |
  | 673 | 724 |  |
  | 674 |  | $property\_second\_agent = $property->get\_property\_meta( 'property\_second\_agent' ); |
  | 675 |  | if ( ! empty( $property\_second\_agent ) ) { |
  | 676 |  | $second\_author = get\_user\_by( 'login', $property\_second\_agent ); |
  | 677 |  | if ( false !== $second\_author ) { |
  | 678 |  | printf( |
  | 679 |  | '<br><a href="%s">%s</a>', |
  | 680 |  | esc\_url( |
  | 681 |  | add\_query\_arg( |
  | 682 |  | array( |
  | 683 |  | 'post\_type' => $post->post\_type, |
  | 684 |  | 'author'    => $second\_author->ID, |
  | 685 |  | ), |
  | 686 |  | 'edit.php' |
  | 687 |  | ) |
  | 688 |  | ), |
  | 689 |  | esc\_html( get\_the\_author\_meta( 'display\_name', $second\_author->ID ) ) |
  | 690 |  | ); |
  | 691 |  |  |
  | 692 |  | } |
  | 693 |  | epl\_reset\_post\_author(); |
  | 694 |  | } |
  |  | 725 | epl\_show\_agent\_name\_in\_column(); |
  | 695 | 726 | } |
  | 696 | 727 | add\_action( 'epl\_manage\_listing\_column\_agent', 'epl\_manage\_listing\_column\_agent\_callback' ); |
* ## [easy-property-listings/tags/3.5.3/lib/shortcodes/shortcode-listing-map.php](/changeset/3055030/easy-property-listings/trunk/lib/shortcodes/shortcode-listing-map.php?old=2991552&old_path=easy-property-listings%2Ftrunk%2Flib%2Fshortcodes%2Fshortcode-listing-map.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/shortcodes/shortcode-listing-map.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/shortcodes/shortcode-listing-map.php?rev=2991552#L69 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/shortcodes/shortcode-listing-map.php?rev=3055030#L69 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 69 | 69 | \* |
  | 70 | 70 | \* @since 3.5.0 |
  |  | 71 | \* @since 3.5.3 Google Maps async. Prefix added. |
  | 71 | 72 | \*/ |
  | 72 | 73 | function epl\_shortcode\_googlemap\_enqueue() { |
  | 73 | 74 |  |
  | 74 |  | $googleapiurl       = 'https://maps.googleapis.com/maps/api/js?v=3.exp&callback=Function.prototype'; |
  |  | 75 | $googleapiurl       = 'https://maps.googleapis.com/maps/api/js?v=3.exp&callback=Function.prototype&loading=async'; |
  | 75 | 76 | $epl\_google\_api\_key = epl\_get\_option( 'epl\_google\_api\_key' ); |
  | 76 | 77 | if ( ! empty( $epl\_google\_api\_key ) ) { |
  | […](/browser/easy-property-listings/trunk/lib/shortcodes/shortcode-listing-map.php?rev=2991552#L79) | […](/browser/easy-property-listings/trunk/lib/shortcodes/shortcode-listing-map.php?rev=3055030#L80) |  |
  | 79 | 80 |  |
  | 80 | 81 | if ( epl\_get\_option( 'epl\_disable\_google\_api' ) !== 'on' ) { |
  | 81 |  | wp\_enqueue\_script( 'google-map-v-3', $googleapiurl, array(), EPL\_PROPERTY\_VER, false ); |
  |  | 82 | wp\_enqueue\_script( 'epl-google-map-v-3', $googleapiurl, array(), EPL\_PROPERTY\_VER, false ); |
  | 82 | 83 | } |
  | 83 | 84 | } |
* ## [easy-property-listings/tags/3.5.3/lib/shortcodes/shortcode-listing-search.php](/changeset/3055030/easy-property-listings/trunk/lib/shortcodes/shortcode-listing-search.php?old=2991552&old_path=easy-property-listings%2Ftrunk%2Flib%2Fshortcodes%2Fshortcode-listing-search.php "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/lib/shortcodes/shortcode-listing-search.php")

  | [r3056209](/browser/easy-property-listings/trunk/lib/shortcodes/shortcode-listing-search.php?rev=2991552#L22 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/trunk/lib/shortcodes/shortcode-listing-search.php?rev=3055030#L22 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 | \* |
  | 23 | 23 | \* @return false|string |
  |  | 24 | \* |
  | 24 | 25 | \* @since       1.2 |
  | 25 | 26 | \* @since       3.4.45 Tweak: Pass user provided attributes to the [listing\_search] Shortcode template. |
  | 26 | 27 | \* @since       3.5 Support for instance ID, fallback generates unique instance ID automatically, added support for 'status' in shortcodes. |
  |  | 28 | \* @since       3.5.3 Filter to disable default template & action to add custom template. |
  | 27 | 29 | \*/ |
  | 28 | 30 | function epl\_shortcode\_listing\_search\_callback( $atts ) { |
  | 29 | 31 |  |
  | 30 |  | ~~$defaults~~ = epl\_search\_get\_defaults(); |
  |  | 32 | $defaults   = epl\_search\_get\_defaults(); |
  | 31 | 33 | $attributes = shortcode\_atts( $defaults, $atts ); |
  | 32 | 34 |  |
  | 33 |  | if( empty( $attributes['instance\_id'] ) ) { |
  | 34 |  |  |
  | 35 |  | $attributes['instance\_id'] = epl\_generate\_search\_instance\_counter(); |
  | 36 |  | } |
  |  | 35 | if ( empty( $attributes['instance\_id'] ) ) { |
  |  | 36 | $attributes['instance\_id'] = epl\_generate\_search\_instance\_counter(); |
  |  | 37 | } |
  | 37 | 38 |  |
  | 38 |  | if( isset( $atts['status'] ) ) { |
  | 39 |  |  |
  | 40 |  | $attributes['property\_status'] = $atts['status']; |
  | 41 |  | } |
  |  | 39 | if ( isset( $atts['status'] ) ) { |
  |  | 40 | $attributes['property\_status'] = $atts['status']; |
  |  | 41 | } |
  | 42 | 42 | ob\_start(); |
  | 43 |  | // Rendering view of listing search shortcode. |
  | 44 |  | epl\_get\_template\_part( 'shortcodes/listing-search/' . ( ! empty( $attributes['view'] ) ? trim( $attributes['view'] ) . '.php' : 'default.php' ), array( 'atts' => $attributes, 'user\_atts' => $atts ) ); |
  |  | 43 | if ( apply\_filters( 'epl\_search\_should\_load\_default\_template', true, $attributes, $atts ) ) { |
  |  | 44 | // Rendering view of listing search shortcode. |
  |  | 45 | epl\_get\_template\_part( |
  |  | 46 | 'shortcodes/listing-search/' . ( ! empty( $attributes['view'] ) ? trim( $attributes['view'] ) . '.php' : 'default.php' ), |
  |  | 47 | array( |
  |  | 48 | 'atts'      => $attributes, |
  |  | 49 | 'user\_atts' => $atts, |
  |  | 50 | ) |
  |  | 51 | ); |
  |  | 52 | } else { |
  |  | 53 | do\_action( 'epl\_search\_load\_template', $attributes, $atts ); |
  |  | 54 | } |
  | 45 | 55 | return ob\_get\_clean(); |
  | 46 | 56 | } |
* ## [easy-property-listings/tags/3.5.3/readme.txt](/changeset/3055033/easy-property-listings/tags/3.5.3/readme.txt?old=3034416&old_path=easy-property-listings%2Ftags%2F3.5.2%2Freadme.txt "Show the [3056209:3056209] differences restricted to easy-property-listings/tags/3.5.3/readme.txt")

  | [r3056209](/browser/easy-property-listings/tags/3.5.2/readme.txt?rev=3034416#L8 "Show revision 3056209 of this file in browser") | [r3056209](/browser/easy-property-listings/tags/3.5.3/readme.txt?rev=3055033#L8 "Show revision 3056209 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | Requires at least: 3.9 |
  | 9 | 9 | Tested up to: 6.4.3 |
  | 10 |  | Stable Tag: 3.5.~~2~~ |
  |  | 10 | Stable Tag: 3.5.3 |
  | 11 | 11 | License: GNU Version 2 or Any Later Version |
  | 12 | 12 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3056209&old=3056209&new_path=%2Feasy-property-listings%2Ftags%2F3.5.3&old_path=%2Feasy-property-listings%2Ftags%2F3.5.2)
* [Zip Archive](?format=zip&new=3056209&old=3056209&new_path=%2Feasy-property-listings%2Ftags%2F3.5.3&old_path=%2Feasy-property-listings%2Ftags%2F3.5.2)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_6a0c9d2c_20250110_195549.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Easy Property Listings <= 3.5.2 - Authenticated(Contributor+) SQL Injection via Shortcode

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Easy Property Listings <= 3.5.2 - Authenticated(Contributor+) SQL Injection via Shortcode

8.8

**Improper Neutralization of Special Elements used in an SQL Command ('SQL Injection')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)

| CVE | [CVE-2024-1893](https://www.cve.org/CVERecord?id=CVE-2024-1893) |
| --- | --- |
| CVSS | 8.8 (High) |
| Publicly Published | March 21, 2024 |
| Last Updated | July 31, 2024 |
| Researcher | [Krzysztof Zając - CERT PL](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/krzysztof-zajac) |

### Description

The Easy Property Listings plugin for WordPress is vulnerable to time-based SQL Injection via the ‘property\_status’ shortcode attribute in all versions up to, and including, 3.5.2 due to insufficient escaping on the user supplied parameter and lack of sufficient preparation on the existing SQL query. This makes it possible for authenticated attackers, with contributor access and above, to append additional SQL queries into already existing queries that can be used to extract sensitive information from the database.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/easy-property-listings/tags/3.5.2/lib/includes/functions.php#L1846)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?old_path=/easy-property-listings/tags/3.5.2&old=3056209&new_path=/easy-property-listings/tags/3.5.3&new=3056209&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Feasy-property-listings%2Feasy-property-listings-352-authenticatedcontributor-sql-injection-via-shortcode&t=Easy%20Property%20Listings%20%3C%3D%203.5.2%20-%20Authenticated%28Contributor%2B%29%20SQL%20Injection%20via%20Shortcode "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Feasy-property-listings%2Feasy-property-listings-352-authenticatedcontributor-sql-injection-via-shortcode&text=Easy%20Property%20Listings%20%3C%3D%203.5.2%20-%20Authenticated%28Contributor%2B%29%20SQL%20Injection%20via%20Shortcode "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Feasy-property-listings%2Feasy-property-listings-352-authenticatedcontributor-sql-injection-via-shortcode "LinkedIn")
Email

## Vulnerability Details for Easy Property Listings

#### [Easy Property Listings](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/easy-property-listings)

| Software Type | Plugin |
| --- | --- |
| Software Slug | easy-property-listings [(view on wordpress.org)](https://wordpress.org/plugins/easy-property-listings) |
| Patched? | Yes |
| Remediation | Update to version 3.5.3, or a newer patched version |
| Affected Version | * <= 3.5.2 |
| Patched Version | * 3.5.3 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation


