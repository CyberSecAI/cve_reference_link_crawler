

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3103402%2Fquiz-maker%2Ftags%2F6.5.8.2%2Fpublic%2Fclass-quiz-maker-public.php%3Fold%3D3102679%26old_path%3Dquiz-maker%252Ftags%252F6.5.8.1%252Fpublic%252Fclass-quiz-maker-public.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3102679/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?old=3103402&old_path=%2Fquiz-maker%2Ftags%2F6.5.8.2%2Fpublic%2Fclass-quiz-maker-public.php)

---

# Changes from [quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php](/browser/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?rev=3102679 "Show entry in browser") at [r3102679](/changeset/3102679 "Show full changeset") to [quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402 "Show entry in browser") at [r3103402](/changeset/3103402 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

File:

1 edited

* [quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402 "Show entry in browser")
  (modified)
  ([9 diffs](#file0 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php](/changeset/3103402/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?old=3102679&old_path=quiz-maker%2Ftags%2F6.5.8.1%2Fpublic%2Fclass-quiz-maker-public.php "Show the [3102679:3103402] differences restricted to quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php")

  | [r3102679](/browser/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?rev=3102679#L4885 "Show revision 3102679 of this file in browser") | [r3103402](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402#L4885 "Show revision 3103402 of this file in browser") |  |
  | --- | --- | --- |
  | 4885 | 4885 | $sql = "SELECT \* |
  | 4886 | 4886 | FROM {$wpdb->prefix}aysquiz\_answers |
  | 4887 |  | WHERE question\_id=" . ~~$id~~; |
  |  | 4887 | WHERE question\_id=" . absint($id); |
  | 4888 | 4888 |  |
  | 4889 | 4889 | $answer = $wpdb->get\_results($sql, 'ARRAY\_A'); |
  | […](/browser/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?rev=3102679#L4897) | […](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402#L4897) |  |
  | 4897 | 4897 | $sql = "SELECT `question\_ids` |
  | 4898 | 4898 | FROM {$wpdb->prefix}aysquiz\_quizes |
  | 4899 |  | WHERE id=" . ~~$id~~; |
  |  | 4899 | WHERE id=" . absint($id); |
  | 4900 | 4900 |  |
  | 4901 | 4901 | $questions\_str = $wpdb->get\_row($sql, 'ARRAY\_A'); |
  | […](/browser/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?rev=3102679#L4906) | […](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402#L4906) |  |
  | 4906 | 4906 | public function get\_question\_bank\_categories($q\_ids){ |
  | 4907 | 4907 | global $wpdb; |
  |  | 4908 |  |
  |  | 4909 | $q\_ids = isset( $q\_ids ) && $q\_ids != '' ? sanitize\_text\_field($q\_ids) : ''; |
  | 4908 | 4910 |  |
  | 4909 | 4911 | if($q\_ids == ''){ |
  | […](/browser/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?rev=3102679#L4915) | […](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402#L4917) |  |
  | 4915 | 4917 | ON c.id = q.category\_id |
  | 4916 | 4918 | WHERE q.id IN ({$q\_ids})"; |
  | 4917 |  |  |
  | 4918 |  | $result = $wpdb->get\_results($sql, 'ARRAY\_A'); |
  |  | 4919 | $result = $wpdb->get\_results( $sql, 'ARRAY\_A'); |
  | 4919 | 4920 | $cats = array(); |
  | 4920 | 4921 |  |
  | […](/browser/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?rev=3102679#L4931) | […](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402#L4932) |  |
  | 4931 | 4932 | $sql = "SELECT COUNT(\*) |
  | 4932 | 4933 | FROM {$wpdb->prefix}aysquiz\_reports |
  | 4933 |  | WHERE quiz\_id=" . ~~$id~~; |
  |  | 4934 | WHERE quiz\_id=" . absint($id); |
  | 4934 | 4935 |  |
  | 4935 | 4936 | $count = intval($wpdb->get\_var($sql)); |
  | […](/browser/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?rev=3102679#L6923) | […](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402#L6924) |  |
  | 6923 | 6924 | public static function ays\_get\_average\_score\_by\_category($id){ |
  | 6924 | 6925 | global $wpdb; |
  |  | 6926 |  |
  |  | 6927 | $id = isset( $id ) && $id != '' && intval($id) > 0 ? absint($id) : null; |
  |  | 6928 |  |
  |  | 6929 | if( is\_null($id) || $id <= 0 || $id == '' ){ |
  |  | 6930 | return ''; |
  |  | 6931 | } |
  |  | 6932 |  |
  | 6925 | 6933 | $quizes\_table = $wpdb->prefix . 'aysquiz\_quizes'; |
  | 6926 | 6934 | $quizes\_questions\_table = $wpdb->prefix . 'aysquiz\_questions'; |
  | 6927 | 6935 | $quizes\_questions\_cat\_table = $wpdb->prefix . 'aysquiz\_categories'; |
  | 6928 |  | $sql = "SELECT question\_ids FROM {$quizes\_table} WHERE id = ".~~$id~~; |
  |  | 6936 | $sql = "SELECT question\_ids FROM {$quizes\_table} WHERE id = ". absint($id); |
  | 6929 | 6937 | $results = $wpdb->get\_var( $sql); |
  | 6930 | 6938 | $questions\_ids = array(); |
  | […](/browser/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?rev=3102679#L6942) | […](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402#L6950) |  |
  | 6942 | 6950 | ON q.category\_id = c.id |
  | 6943 | 6951 | WHERE q.id = {$key}; "; |
  | 6944 |  | $questions\_cat\_list[$key] = $wpdb->get\_row($sql); |
  |  | 6952 | $questions\_cat\_list[$key] = $wpdb->get\_row($sql); |
  | 6945 | 6953 | } |
  | 6946 | 6954 | } |
  | […](/browser/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?rev=3102679#L6949) | […](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402#L6957) |  |
  | 6949 | 6957 | $sql = "SELECT options |
  | 6950 | 6958 | FROM {$quizes\_reports\_table} |
  | 6951 |  | WHERE quiz\_id =".~~$id~~; |
  |  | 6959 | WHERE quiz\_id =".absint($id); |
  | 6952 | 6960 | $report = $wpdb->get\_results( $sql, ARRAY\_A ); |
  | 6953 | 6961 | if(! empty($report)){ |
  | […](/browser/quiz-maker/tags/6.5.8.1/public/class-quiz-maker-public.php?rev=3102679#L6998) | […](/browser/quiz-maker/tags/6.5.8.2/public/class-quiz-maker-public.php?rev=3103402#L7006) |  |
  | 6998 | 7006 | } |
  | 6999 | 7007 |  |
  | 7000 |  | $passed\_users\_count = "SELECT COUNT(\*) FROM {$wpdb->prefix}aysquiz\_reports WHERE quiz\_id=".~~$id~~; |
  |  | 7008 | $passed\_users\_count = "SELECT COUNT(\*) FROM {$wpdb->prefix}aysquiz\_reports WHERE quiz\_id=". absint($id); |
  | 7001 | 7009 | $passed\_users\_count\_res = $wpdb->get\_var($passed\_users\_count); |
  | 7002 | 7010 | $avg\_score\_by\_cat = "0%"; |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3103402&old=3102679&new_path=%2Fquiz-maker%2Ftags%2F6.5.8.2%2Fpublic%2Fclass-quiz-maker-public.php&old_path=%2Fquiz-maker%2Ftags%2F6.5.8.1%2Fpublic%2Fclass-quiz-maker-public.php)
* [Zip Archive](?format=zip&new=3103402&old=3102679&new_path=%2Fquiz-maker%2Ftags%2F6.5.8.2%2Fpublic%2Fclass-quiz-maker-public.php&old_path=%2Fquiz-maker%2Ftags%2F6.5.8.1%2Fpublic%2Fclass-quiz-maker-public.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

