
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Faerospike%2Faerospike-client-java%2Fcommit%2F80c508cc5ecb0173ce92d7fab8cfab5e77bd9900)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Faerospike%2Faerospike-client-java%2Fcommit%2F80c508cc5ecb0173ce92d7fab8cfab5e77bd9900)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=aerospike%2Faerospike-client-java)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[aerospike](/aerospike)
/
**[aerospike-client-java](/aerospike/aerospike-client-java)**
Public

* [Notifications](/login?return_to=%2Faerospike%2Faerospike-client-java) You must be signed in to change notification settings
* [Fork
  215](/login?return_to=%2Faerospike%2Faerospike-client-java)
* [Star
   238](/login?return_to=%2Faerospike%2Faerospike-client-java)

* [Code](/aerospike/aerospike-client-java)
* [Issues
  10](/aerospike/aerospike-client-java/issues)
* [Pull requests
  5](/aerospike/aerospike-client-java/pulls)
* [Actions](/aerospike/aerospike-client-java/actions)
* [Projects
  0](/aerospike/aerospike-client-java/projects)
* [Security](/aerospike/aerospike-client-java/security)
* [Insights](/aerospike/aerospike-client-java/pulse)

Additional navigation options

* [Code](/aerospike/aerospike-client-java)
* [Issues](/aerospike/aerospike-client-java/issues)
* [Pull requests](/aerospike/aerospike-client-java/pulls)
* [Actions](/aerospike/aerospike-client-java/actions)
* [Projects](/aerospike/aerospike-client-java/projects)
* [Security](/aerospike/aerospike-client-java/security)
* [Insights](/aerospike/aerospike-client-java/pulse)

## Commit

[Permalink](/aerospike/aerospike-client-java/commit/80c508cc5ecb0173ce92d7fab8cfab5e77bd9900)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[CVE-2023-36480](https://github.com/advisories/GHSA-jj95-55cr-9597 "CVE-2023-36480") CLIENT-2252 Remove all code that used java runtime ser…

[Browse files](/aerospike/aerospike-client-java/tree/80c508cc5ecb0173ce92d7fab8cfab5e77bd9900)
Browse the repository at this point in the history

```
…ialization/deserialization.

Deserialization of java runtime serialized objects has been identified as a security risk by
CodeQL team members [@atorralba](https://github.com/atorralba) (Tony Torralba) and [@joefarebrother](https://github.com/joefarebrother) (Joseph Farebrother).

All existing database objects that are serialized using this serialization format will need to
be converted to a safer format (Aerospike native types, protobuf, msgpack, json, xml ...) using
a previous client version.
```

* Loading branch information

[![@BrianNichols](https://avatars.githubusercontent.com/u/1761530?s=40&v=4)](/BrianNichols)

[BrianNichols](/aerospike/aerospike-client-java/commits?author=BrianNichols "View all commits by BrianNichols")
committed
Jul 25, 2023

1 parent
[f15bfa1](/aerospike/aerospike-client-java/commit/f15bfa18ba3fece17351381df2eb2705c446aaa6)

commit 80c508c

 Show file tree

 Hide file tree

Showing
**15 changed files**
with
**14 additions**
and
**646 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* client/src/com/aerospike/client

  + client/src/com/aerospike/client/Bin.java
    [Bin.java](#diff-f47761229ae1e4c96f14cfc835c7a50f0d34d0eec18f67a14e01540b115daaaa)
  + client/src/com/aerospike/client/Value.java
    [Value.java](#diff-a761f0ac5c095f8b781a97099e6d851b835f24cd1b767cfc2845beb33911eabc)
  + command

    - client/src/com/aerospike/client/command/Buffer.java
      [Buffer.java](#diff-775e564840246d11744ec62e00a3360d270bf4d266fb5e923b83a103edee5e77)
    - client/src/com/aerospike/client/command/ParticleType.java
      [ParticleType.java](#diff-19525cf867240da2c90b16b234b2c62d2edd3d392cca418e44719d413f5f080b)
  + lua

    - client/src/com/aerospike/client/lua/LuaInstance.java
      [LuaInstance.java](#diff-869e1440f9cf1b55e1d9008dd281b8aa17c59b9e29cb7612f01e807e7d03c7e8)
    - client/src/com/aerospike/client/lua/LuaJavaBlob.java
      [LuaJavaBlob.java](#diff-77cff1222d3305049bb23a1592abe5dd03dd7d97f66281cab2cfb9f25f85cba9)
    - client/src/com/aerospike/client/lua/LuaUnpacker.java
      [LuaUnpacker.java](#diff-c2e523a605f2a43e954d7ce8bc4eb4233fc5cb369a3de41936659ced744fadd6)
  + util

    - client/src/com/aerospike/client/util/Packer.java
      [Packer.java](#diff-358b093e614cf440721800580d512243f494f11224161e28bee19d59a3256396)
    - client/src/com/aerospike/client/util/Unpacker.java
      [Unpacker.java](#diff-a469e2a1f48be9de397dd39a58eb1b0b97b198a66341cbc4d15d719150d68625)
* examples/src/com/aerospike/examples

  + examples/src/com/aerospike/examples/Main.java
    [Main.java](#diff-817a608efc73cd6b6b9c5e38724a8a8efc0f61cbccbdc723ebdfa7831c1ce1a4)
  + examples/src/com/aerospike/examples/OperateMap.java
    [OperateMap.java](#diff-f033cc4069da791ae63e6f14e256deab49bc46583bfbb996ae3859548dfc8d10)
  + examples/src/com/aerospike/examples/Serialize.java
    [Serialize.java](#diff-b1f4e647e52ecc63d10fe6b06d611592524ecd03eb5a607ea53ef295268c0217)
* test/src/com/aerospike/test

  + test/src/com/aerospike/test/SuiteSync.java
    [SuiteSync.java](#diff-b1de4496abb59ef3e614552fa76ec14d220f4d1aa55f90c149a88a8b97eabbb7)
  + sync/basic

    - test/src/com/aerospike/test/sync/basic/TestAdd.java
      [TestAdd.java](#diff-23c928f5845a9733209843bcf1acc121c8bffe3b6e85edb65b497b777e3eb4f4)
    - test/src/com/aerospike/test/sync/basic/TestSerialize.java
      [TestSerialize.java](#diff-db9b2e3a1ecfc4d6e37d6565b54e1388254e54e9d24f2d941f733ccee51dcb92)

## There are no files selected for viewing

29 changes: 0 additions & 29 deletions

29
[client/src/com/aerospike/client/Bin.java](#diff-f47761229ae1e4c96f14cfc835c7a50f0d34d0eec18f67a14e01540b115daaaa "client/src/com/aerospike/client/Bin.java")

Show comments

[View file](/aerospike/aerospike-client-java/blob/80c508cc5ecb0173ce92d7fab8cfab5e77bd9900/client/src/com/aerospike/client/Bin.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -240,35 +240,6 @@ public Bin(String name, Value value) { |
|  |  | this.value = value; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Create bin with an object value. This is the slowest of the Bin constructors because the type |
|  |  | \* must be determined using multiple "instanceof" checks. If the object type is unrecognized, |
|  |  | \* the default java serializer is used. |
|  |  | \* <p> |
|  |  | \* To disable this constructor, set {@link com.aerospike.client.Value#DisableSerializer} to true. |
|  |  | \* |
|  |  | \* @param name bin name, current limit is 15 characters. |
|  |  | \* @param value bin value |
|  |  | \*/ |
|  |  | public Bin(String name, Object value) { |
|  |  | this.name = name; |
|  |  | this.value = Value.get(value); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Create bin with a blob value. The value will be java serialized. |
|  |  | \* This method is faster than the bin object constructor because the blob is converted |
|  |  | \* directly instead of using multiple "instanceof" type checks with a blob default. |
|  |  | \* <p> |
|  |  | \* To disable this method, set {@link com.aerospike.client.Value#DisableSerializer} to true. |
|  |  | \* |
|  |  | \* @param name bin name, current limit is 15 characters. |
|  |  | \* @param value bin value |
|  |  | \*/ |
|  |  | public static Bin asBlob(String name, Object value) { |
|  |  | return new Bin(name, Value.getAsBlob(value)); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Create bin with a null value. This is useful for bin deletions within a record. |
|  |  | \* |
| Expand Down | |  |

111 changes: 1 addition & 110 deletions

111
[client/src/com/aerospike/client/Value.java](#diff-a761f0ac5c095f8b781a97099e6d851b835f24cd1b767cfc2845beb33911eabc "client/src/com/aerospike/client/Value.java")

Show comments

[View file](/aerospike/aerospike-client-java/blob/80c508cc5ecb0173ce92d7fab8cfab5e77bd9900/client/src/com/aerospike/client/Value.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -16,8 +16,6 @@ |
|  |  | \*/ |
|  |  | package com.aerospike.client; |
|  |  |  |
|  |  | import java.io.ByteArrayOutputStream; |
|  |  | import java.io.ObjectOutputStream; |
|  |  | import java.nio.ByteBuffer; |
|  |  | import java.util.Arrays; |
|  |  | import java.util.List; |
| Expand Down  Expand Up | | @@ -52,24 +50,6 @@ public abstract class Value { |
|  |  | \*/ |
|  |  | public static boolean UseBoolBin = true; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Should default object serializer be disabled. If true, an exception will be thrown when |
|  |  | \* a default object serialization is attempted. Default object serialization is triggered |
|  |  | \* when a bin constructed by {@link com.aerospike.client.Bin#Bin(String, Object)} or |
|  |  | \* {@link com.aerospike.client.Bin#asBlob(String, Object)} is used in a write command |
|  |  | \* with an unrecognized object type. |
|  |  | \*/ |
|  |  | public static boolean DisableSerializer = false; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Should default object deserializer be disabled. If true, an exception will be thrown when |
|  |  | \* a default object deserialization is attempted. Default object serialization is triggered |
|  |  | \* when serialized data is read/parsed from the server. DisableDeserializer is separate from |
|  |  | \* DisableSerializer because there may be cases when no new serialization is allowed, but |
|  |  | \* existing serialized objects need to be supported. |
|  |  | \*/ |
|  |  | public static boolean DisableDeserializer = false; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Should the client return a map when {@link com.aerospike.client.cdt.MapReturnType#KEY\_VALUE} |
|  |  | \* is specified in a map read operation and the server returns a list of key/value pairs. |
| Expand Down  Expand Up | | @@ -241,13 +221,6 @@ public static Value get(Value[] value) { |
|  |  | return (value == null)? NullValue.INSTANCE : new ValueArray(value); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Get blob or null value instance. |
|  |  | \*/ |
|  |  | public static Value getAsBlob(Object value) { |
|  |  | return (value == null)? NullValue.INSTANCE : new BlobValue(value); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Get GeoJSON or null value instance. |
|  |  | \*/ |
| Expand Down  Expand Up | | @@ -349,7 +322,7 @@ public static Value get(Object value) { |
|  |  | return new BytesValue(bb.array()); |
|  |  | } |
|  |  |  |
|  |  | return new BlobValue(value); |
|  |  | throw new AerospikeException("Unsupported type: " + value.getClass().getName()); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand Down  Expand Up | | @@ -1260,88 +1233,6 @@ public long toLong() { |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Blob value. |
|  |  | \*/ |
|  |  | public static final class BlobValue extends Value { |
|  |  | private final Object object; |
|  |  | private byte[] bytes; |
|  |  |  |
|  |  | public BlobValue(Object object) { |
|  |  | this.object = object; |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | public int estimateSize() throws AerospikeException.Serialize { |
|  |  | bytes = serialize(object); |
|  |  | return bytes.length; |
|  |  | } |
|  |  |  |
|  |  | public static byte[] serialize(Object val) { |
|  |  | if (DisableSerializer) { |
|  |  | throw new AerospikeException("Object serializer has been disabled"); |
|  |  | } |
|  |  |  |
|  |  | try (ByteArrayOutputStream bstream = new ByteArrayOutputStream()) { |
|  |  | try (ObjectOutputStream ostream = new ObjectOutputStream(bstream)) { |
|  |  | ostream.writeObject(val); |
|  |  | } |
|  |  | return bstream.toByteArray(); |
|  |  | } |
|  |  | catch (Throwable e) { |
|  |  | throw new AerospikeException.Serialize(e); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | public int write(byte[] buffer, int offset) { |
|  |  | System.arraycopy(bytes, 0, buffer, offset, bytes.length); |
|  |  | return bytes.length; |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | public void pack(Packer packer) { |
|  |  | packer.packBlob(object); |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | public void validateKeyType() { |
|  |  | throw new AerospikeException(ResultCode.PARAMETER\_ERROR, "Invalid key type: jblob"); |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | public int getType() { |
|  |  | return ParticleType.JBLOB; |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | public Object getObject() { |
|  |  | return object; |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | public LuaValue getLuaValue(LuaInstance instance) { |
|  |  | return LuaString.valueOf(bytes); |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | public String toString() { |
|  |  | return Buffer.bytesToHexString(bytes); |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | public boolean equals(Object other) { |
|  |  | return (other != null && |
|  |  | this.getClass().equals(other.getClass()) && |
|  |  | this.object.equals(((BlobValue)other).object)); |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | public int hashCode() { |
|  |  | return object.hashCode(); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* GeoJSON value. |
|  |  | \*/ |
| Expand Down | |  |

24 changes: 0 additions & 24 deletions

24
[client/src/com/aerospike/client/command/Buffer.java](#diff-775e564840246d11744ec62e00a3360d270bf4d266fb5e923b83a103edee5e77 "client/src/com/aerospike/client/command/Buffer.java")

Show comments

[View file](/aerospike/aerospike-client-java/blob/80c508cc5ecb0173ce92d7fab8cfab5e77bd9900/client/src/com/aerospike/client/command/Buffer.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -16,8 +16,6 @@ |
|  |  | \*/ |
|  |  | package com.aerospike.client.command; |
|  |  |  |
|  |  | import java.io.ByteArrayInputStream; |
|  |  | import java.io.ObjectInputStream; |
|  |  | import java.math.BigInteger; |
|  |  | import java.nio.charset.StandardCharsets; |
|  |  | import java.util.Arrays; |
| Expand Down  Expand Up | | @@ -69,9 +67,6 @@ public static Object bytesToParticle(int type, byte[] buf, int offset, int len) |
|  |  | case ParticleType.BLOB: |
|  |  | return Arrays.copyOfRange(buf, offset, offset+len); |
|  |  |  |
|  |  | case ParticleType.JBLOB: |
|  |  | return Buffer.bytesToObject(buf, offset, len); |
|  |  |  |
|  |  | case ParticleType.GEOJSON: |
|  |  | return Buffer.bytesToGeoJSON(buf, offset, len); |
|  |  |  |
| Expand Down  Expand Up | | @@ -297,25 +292,6 @@ public static String bytesToHexString(byte[] buf, int offset, int length) { |
|  |  | return sb.toString(); |
|  |  | } |
|  |  |  |
|  |  | public static Object bytesToObject(byte[] buf, int offset, int length) { |
|  |  | if (length <= 0) { |
|  |  | return null; |
|  |  | } |
|  |  |  |
|  |  | if (Value.DisableDeserializer) { |
|  |  | throw new AerospikeException.Serialize("Object deserializer has been disabled"); |
|  |  | } |
|  |  |  |
|  |  | try (ByteArrayInputStream bastream = new ByteArrayInputStream(buf, offset, length)) { |
|  |  | try (ObjectInputStream oistream = new ObjectInputStream(bastream)) { |
|  |  | return oistream.readObject(); |
|  |  | } |
|  |  | } |
|  |  | catch (Throwable e) { |
|  |  | throw new AerospikeException.Serialize(e); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | public static Value bytesToLongValue(byte[] buf, int offset, int len) { |
|  |  | long val = 0; |
|  |  |  |
| Expand Down | |  |

13 changes: 2 additions & 11 deletions

13
[client/src/com/aerospike/client/command/ParticleType.java](#diff-19525cf867240da2c90b16b234b2c62d2edd3d392cca418e44719d413f5f080b "client/src/com/aerospike/client/command/ParticleType.java")

Show comments

[View file](/aerospike/aerospike-client-java/blob/80c508cc5ecb0173ce92d7fab8cfab5e77bd9900/client/src/com/aerospike/client/command/ParticleType.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,5 +1,5 @@ |
|  |  | /\* |
|  |  | \* Copyright 2012-2021 Aerospike, Inc. |
|  |  | \* Copyright 2012-2023 Aerospike, Inc. |
|  |  | \* |
|  |  | \* Portions may be licensed to Aerospike, Inc. under one or more contributor |
|  |  | \* license agreements WHICH ARE COMPATIBLE WITH THE APACHE LICENSE, VERSION 2.0. |
| Expand All | | @@ -17,23 +17,14 @@ |
|  |  | package com.aerospike.client.command; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Bin type for byte[] values. |
|  |  | \* Server particle types. |
|  |  | \*/ |
|  |  | public final class ParticleType { |
|  |  | // Server particle types. Unsupported types are commented out. |
|  |  | public static final int NULL = 0; |
|  |  | public static final int INTEGER = 1; |
|  |  | public static final int DOUBLE = 2; |
|  |  | public static final int STRING = 3; |
|  |  | public static final int BLOB = 4; |
|  |  | //public static final int TIMESTAMP = 5; |
|  |  | //public static final int DIGEST = 6; |
|  |  | public static final int JBLOB = 7; |
|  |  | //public static final int CSHARP\_BLOB = 8; |
|  |  | //public static final int PYTHON\_BLOB = 9; |
|  |  | //public static final int RUBY\_BLOB = 10; |
|  |  | //public static final int PHP\_BLOB = 11; |
|  |  | //public static final int ERLANG\_BLOB = 12; |
|  |  | public static final int BOOL = 17; |
|  |  | public static final int HLL = 18; |
|  |  | public static final int MAP = 19; |
| Expand Down | |  |

6 changes: 1 addition & 5 deletions

6
[client/src/com/aerospike/client/lua/LuaInstance.java](#diff-869e1440f9cf1b55e1d9008dd281b8aa17c59b9e29cb7612f01e807e7d03c7e8 "client/src/com/aerospike/client/lua/LuaInstance.java")

Show comments

[View file](/aerospike/aerospike-client-java/blob/80c508cc5ecb0173ce92d7fab8cfab5e77bd9900/client/src/com/aerospike/client/lua/LuaInstance.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,5 +1,5 @@ |
|  |  | /\* |
|  |  | \* Copyright 2012-2021 Aerospike, Inc. |
|  |  | \* Copyright 2012-2023 Aerospike, Inc. |
|  |  | \* |
|  |  | \* Portions may be licensed to Aerospike, Inc. under one or more contributor |
|  |  | \* license agreements WHICH ARE COMPATIBLE WITH THE APACHE LICENSE, VERSION 2.0. |
| Expand Down  Expand Up | | @@ -171,10 +171,6 @@ public LuaValue getLuaValue(int type, byte[] buf, int offset, int len) throws Ae |
|  |  | System.arraycopy(buf, offset, blob, 0, len); |
|  |  | return new LuaBytes(this, blob); |
|  |  |  |
|  |  | case ParticleType.JBLOB: |
|  |  | Object object = Buffer.bytesToObject(buf, offset, len); |
|  |  | return new LuaJavaBlob(object); |
|  |  |  |
|  |  | case ParticleType.LIST: { |
|  |  | LuaUnpacker unpacker = new LuaUnpacker(this, buf, offset, len); |
|  |  | return unpacker.unpackList(); |
| Expand Down | |  |

30 changes: 0 additions & 30 deletions

30
[client/src/com/aerospike/client/lua/LuaJavaBlob.java](#diff-77cff1222d3305049bb23a1592abe5dd03dd7d97f66281cab2cfb9f25f85cba9 "client/src/com/aerospike/client/lua/LuaJavaBlob.java")

Show comments

[View file](/aerospike/aerospike-client-java/blob/f15bfa18ba3fece17351381df2eb2705c446aaa6/client/src/com/aerospike/client/lua/LuaJavaBlob.java)
Edit file

Delete file

Load diff

This file was deleted.

Oops, something went wrong.

Retry

7 changes: 1 addition & 6 deletions

7
[client/src/com/aerospike/client/lua/LuaUnpacker.java](#diff-c2e523a605f2a43e954d7ce8bc4eb4233fc5cb369a3de41936659ced744fadd6 "client/src/com/aerospike/client/lua/LuaUnpacker.java")

Show comments

[View file](/aerospike/aerospike-client-java/blob/80c508cc5ecb0173ce92d7fab8cfab5e77bd9900/client/src/com/aerospike/client/lua/LuaUnpacker.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,5 +1,5 @@ |
|  |  | /\* |
|  |  | \* Copyright 2012-2021 Aerospike, Inc. |
|  |  | \* Copyright 2012-2023 Aerospike, Inc. |
|  |  | \* |
|  |  | \* Portions may be licensed to Aerospike, Inc. under one or more contributor |
|  |  | \* license agreements WHICH ARE COMPATIBLE WITH THE APACHE LICENSE, VERSION 2.0. |
| Expand Down  Expand Up | | @@ -46,11 +46,6 @@ protected LuaList getList(List<LuaValue> value) { |
|  |  | return new LuaList(instance, value); |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | protected LuaValue getJavaBlob(Object value) { |
|  |  | return new LuaJavaBlob(value); |
|  |  | } |
|  |  |  |
|  |  | @Override |
|  |  | protected LuaBytes getBlob(byte[] value) { |
|  |  | return new LuaBytes(instance, value); |
| Expand Down | |  |

10 changes: 1 addition & 9 deletions

10
[client/src/com/aerospike/client/util/Packer.java](#diff-358b093e614cf440721800580d512243f494f11224161e28bee19d59a3256396 "client/src/com/aerospike/client/util/Packer.java")

Show comments

[View file](/aerospike/aerospike-client-java/blob/80c508cc5ecb0173ce92d7fab8cfab5e77bd9900/client/src/com/aerospike/client/util/Packer.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -27,7 +27,6 @@ |
|  |  |  |
|  |  | import com.aerospike.client.AerospikeException; |
|  |  | import com.aerospike.client.Value; |
|  |  | import com.aerospike.client.Value.BlobValue; |
|  |  | import com.aerospike.client.cdt.MapOrder; |
|  |  | import com.aerospike.client.command.Buffer; |
|  |  | import com.aerospike.client.command.ParticleType; |
| Expand Down  Expand Up | | @@ -206,13 +205,6 @@ public void packParticleBytes(byte[] b, int offset, int length) { |
|  |  | packByteArray(b, offset, length); |
|  |  | } |
|  |  |  |
|  |  | public void packBlob(Object val) { |
|  |  | byte[] bytes = BlobValue.serialize(val); |
|  |  | packByteArrayBegin(bytes.length + 1); |
|  |  | packByte(ParticleType.JBLOB); |
|  |  | packByteArray(bytes, 0, bytes.length); |
|  |  | } |
|  |  |  |
|  |  | public void packGeoJSON(String val) { |
|  |  | byte[] buffer = Buffer.stringToUtf8(val); |
|  |  | packByteArrayBegin(buffer.length + 1); |
| Expand Down  Expand Up | | @@ -323,7 +315,7 @@ public void packObject(Object obj) { |
|  |  | return; |
|  |  | } |
|  |  |  |
|  |  | packBlob(obj); |
|  |  | throw new AerospikeException("Unsupported type: " + obj.getClass().getName()); |
|  |  | } |
|  |  |  |
|  |  | public void packByteBuffer(ByteBuffer bb) { |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `80c508c`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Faerospike%2Faerospike-client-java%2Fcommit%2F80c508cc5ecb0173ce92d7fab8cfab5e77bd9900) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

