
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fchipsalliance%2Frocket-chip%2Fpull%2F2950%2Fcommits%2F4f8114374d8824dfdec03f576a8cd68bebce4e56)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fchipsalliance%2Frocket-chip%2Fpull%2F2950%2Fcommits%2F4f8114374d8824dfdec03f576a8cd68bebce4e56)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fpull_requests%2Fshow%2Fcommits&source=header-repo&source_repo=chipsalliance%2Frocket-chip)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[chipsalliance](/chipsalliance)
/
**[rocket-chip](/chipsalliance/rocket-chip)**
Public

* [Notifications](/login?return_to=%2Fchipsalliance%2Frocket-chip) You must be signed in to change notification settings
* [Fork
  1.1k](/login?return_to=%2Fchipsalliance%2Frocket-chip)
* [Star
   3.3k](/login?return_to=%2Fchipsalliance%2Frocket-chip)

* [Code](/chipsalliance/rocket-chip)
* [Issues
  232](/chipsalliance/rocket-chip/issues)
* [Pull requests
  65](/chipsalliance/rocket-chip/pulls)
* [Discussions](/chipsalliance/rocket-chip/discussions)
* [Actions](/chipsalliance/rocket-chip/actions)
* [Projects
  0](/chipsalliance/rocket-chip/projects)
* [Wiki](/chipsalliance/rocket-chip/wiki)
* [Security](/chipsalliance/rocket-chip/security)
* [Insights](/chipsalliance/rocket-chip/pulse)

Additional navigation options

* [Code](/chipsalliance/rocket-chip)
* [Issues](/chipsalliance/rocket-chip/issues)
* [Pull requests](/chipsalliance/rocket-chip/pulls)
* [Discussions](/chipsalliance/rocket-chip/discussions)
* [Actions](/chipsalliance/rocket-chip/actions)
* [Projects](/chipsalliance/rocket-chip/projects)
* [Wiki](/chipsalliance/rocket-chip/wiki)
* [Security](/chipsalliance/rocket-chip/security)
* [Insights](/chipsalliance/rocket-chip/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fchipsalliance%2Frocket-chip%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fchipsalliance%2Frocket-chip%2Fissues%2Fnew%2Fchoose)
to your account

# Zk(Zbk, Zkn, Zks)/Zb: Scalar Cryptography/Bitmanip Extension #2950

 Merged

[jerryz123](/jerryz123)
merged 104 commits into
[chipsalliance:master](/chipsalliance/rocket-chip/tree/master "chipsalliance/rocket-chip:master")
from
[OpenRigil:Zk-chisel](/OpenRigil/rocket-chip/tree/Zk-chisel "OpenRigil/rocket-chip:Zk-chisel")

Jan 18, 2023

[Conversation
127](/chipsalliance/rocket-chip/pull/2950)
[Commits
104](/chipsalliance/rocket-chip/pull/2950/commits)
[Checks
0](/chipsalliance/rocket-chip/pull/2950/checks)
[Files changed](/chipsalliance/rocket-chip/pull/2950/files)

 Merged

# [Zk(Zbk, Zkn, Zks)/Zb: Scalar Cryptography/Bitmanip Extension](#top) #2950

Changes from **1 commit**

Commits

[Show all changes

104 commits](/chipsalliance/rocket-chip/pull/2950/files)
Select commit
Hold shift + click to select a range

[`ee289d4`
add the Zbk extension for Bitmanip instructions supporting cryptography

phthinh Oct 25, 2021](/chipsalliance/rocket-chip/pull/2950/commits/ee289d44ed21b193ffd53968eef96b30df12195f)
[`5932acb`
Zbk: implement rotate

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/5932acb74c3fd220cfe2599af786131db9ae565a)
[`5f4fcbb`
Zbk: implement logic

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/5f4fcbb09258f45007eecb609d1c7d735e8fd833)
[`da9d6b8`
Zbk: implement pack

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/da9d6b82424612ad07c9c67715657949ace5e686)
[`428f808`
Zbk: implement rev

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/428f8080fc606e4aed0ad7244cbb4b1b4b892a88)
[`58dc1b5`
Zbk: implement zip

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/58dc1b536802c86477b5a250fb3be93fc3ee555f)
[`a786f23`
Zbk: implement xperm

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/a786f231966b4a1fc1d0cee3893fcf9a1077083c)
[`2eefbe0`
Zbk: xperm cheaper impl

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/2eefbe0cbd18edd8a8bde2d6bb96a95b72b9ab9b)
[`386e5e9`
Zbk: add zbkc decode

phthinh Nov 1, 2021](/chipsalliance/rocket-chip/pull/2950/commits/386e5e99b6009ca4725c09f891e5c8884a9e2769)
[`c5e0bd1`
Zbk: implement clmul

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/c5e0bd1bcf373fe99579975661d673d0a4160913)
[`af97f3a`
Zbk: implement out mux

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/af97f3a18028b351cc65361fa64a063544fe3150)
[`0b46e1d`
Zbk: clmul: fix off by one

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/0b46e1db18e6473ae6171fe8e6f5eb38343f2892)
[`380bb42`
zbk: fix compile

ZenithalHourlyRate Mar 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/380bb42a4c4702211024759b93678cf619779c2f)
[`a3ba274`
Zbk: update instruction decode for Zbk

phthinh Nov 2, 2021](/chipsalliance/rocket-chip/pull/2950/commits/a3ba274e200619afedf8390b5f29adbb62d8fcdb)
[`009f0ed`
bk: fix config

ZenithalHourlyRate Mar 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/009f0ed56a434071e07d9a76482e635bf5266622)
[`35f02e1`
Zbk: a small correction

phthinh Nov 3, 2021](/chipsalliance/rocket-chip/pull/2950/commits/35f02e11d504e7c5701689ee976814d1b54bfb62)
[`c327863`
decode: add the support for the Zkn extension

phthinh Nov 8, 2021](/chipsalliance/rocket-chip/pull/2950/commits/c3278636d0c801970274e4cc295d9e27bf93ba7f)
[`f431ffd`
Use asBytes/asNibbles helper

ZenithalHourlyRate Mar 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/f431ffd243394c8a331bfb3829d74ad47f18bbf8)
[`7ae146a`
zkn: implement aes enc/dec

ZenithalHourlyRate Mar 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/7ae146a64831b9102306b09b63a793c2d9f514d9)
[`e2c8185`
zkn: implement aes ks

ZenithalHourlyRate Mar 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/e2c81850a9a1d131883b7dae6a11de05eef8c84b)
[`2faae3f`
zkn: aes ks1 reuse sbox in enc

ZenithalHourlyRate Mar 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/2faae3f74685e8b8ab70b5d8d9ac9a6db21f0a4e)
[`265d4ee`
zkn: implement sha

ZenithalHourlyRate Mar 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/265d4ee536b6c72a89498edd68ba5e2ae062c42b)
[`36350c9`
ZK: add the support for the Zks extension.

phthinh Nov 10, 2021](/chipsalliance/rocket-chip/pull/2950/commits/36350c90a2148183b803346f09d7581e2b2df913)
[`0ce3f74`
zks: implement sm3/4

ZenithalHourlyRate Mar 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/0ce3f74049b89d39067974096a7eb1ccc4c4d52b)
[`d26e561`
zkn, zks: implement out mux

ZenithalHourlyRate Mar 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/d26e56199ed6ca8ad8e14e8364d7a40e396b1805)
[`76db33a`
zk: fix compile

ZenithalHourlyRate Mar 18, 2022](/chipsalliance/rocket-chip/pull/2950/commits/76db33a7922b009464137aa6ae5bd15f43f6c142)
[`d4acc70`
zbk: fix packw/xperm

ZenithalHourlyRate Mar 19, 2022](/chipsalliance/rocket-chip/pull/2950/commits/d4acc70abfa5c0e73b218c0a3f0154b0689cbaf4)
[`7631b8a`
zkn: fix aes64ks1m due to not merged datapath

ZenithalHourlyRate Mar 19, 2022](/chipsalliance/rocket-chip/pull/2950/commits/7631b8ae2682f9ab4275d2d5f11c703a4afa00ae)
[`8240daf`
zks: sm4: fix UInt length after left shift

ZenithalHourlyRate Mar 19, 2022](/chipsalliance/rocket-chip/pull/2950/commits/8240daf3a34b52fe59afa1a2e1c21b222b0df86d)
[`38728ef`
zkn, zks: aes32, sm4 fix leftRotate to rightRotate

ZenithalHourlyRate Mar 19, 2022](/chipsalliance/rocket-chip/pull/2950/commits/38728ef3e57ee226caf444d95fd745935b639c4d)
[`65bc35c`
zkn: xperm: fix input

ZenithalHourlyRate Mar 19, 2022](/chipsalliance/rocket-chip/pull/2950/commits/65bc35c19536e83f70784861748e3a2f8db0004f)
[`d25c4b9`
zkn: fix sha512 for rv32

ZenithalHourlyRate Mar 19, 2022](/chipsalliance/rocket-chip/pull/2950/commits/d25c4b987b9827a70f1a83f1a05c1920c395f5a4)
[`dce44b8`
Zb: move andn/orn/xnor into ALU

ZenithalHourlyRate Apr 1, 2022](/chipsalliance/rocket-chip/pull/2950/commits/dce44b8e96722ec69d740c4748587840cd6d873a)
[`0a8d59f`
Zb: move rotate into ALU

ZenithalHourlyRate Apr 1, 2022](/chipsalliance/rocket-chip/pull/2950/commits/0a8d59fb595746c5bdeaeba3a2efc51f853044d1)
[`784b0e6`
ALU: stop using when

ZenithalHourlyRate Apr 1, 2022](/chipsalliance/rocket-chip/pull/2950/commits/784b0e63a3599de35d37546fd570e031b8a5a91e)
[`ab51f3f`
Zb: add max/min

ZenithalHourlyRate Apr 1, 2022](/chipsalliance/rocket-chip/pull/2950/commits/ab51f3fdfd4946c47133c622927a82c34dce5b35)
[`5fcd554`
Zb: add clz/cpop/ctz

ZenithalHourlyRate Apr 1, 2022](/chipsalliance/rocket-chip/pull/2950/commits/5fcd554ffdbfcbc940d91d7ef913a8daa813f15b)
[`3c29480`
Zb: add sext/bext

ZenithalHourlyRate Apr 1, 2022](/chipsalliance/rocket-chip/pull/2950/commits/3c294806a29f576f5ecae57812d9d77ff8bdad66)
[`960cf3e`
Zb: add rev8/orc

ZenithalHourlyRate Apr 1, 2022](/chipsalliance/rocket-chip/pull/2950/commits/960cf3e040a8072313fdde4f6b68dab809d8b7c2)
[`9494980`
Zb: add Zba

ZenithalHourlyRate Apr 2, 2022](/chipsalliance/rocket-chip/pull/2950/commits/949498029155eb6e27e20584bf7d4ee26f1299a4)
[`cd52e3e`
Zb: add Zbs

ZenithalHourlyRate Apr 2, 2022](/chipsalliance/rocket-chip/pull/2950/commits/cd52e3ec42bd894819f877000d2023fd966595a9)
[`da39720`
Zb: add clmulr

ZenithalHourlyRate Apr 2, 2022](/chipsalliance/rocket-chip/pull/2950/commits/da3972017418e0ba7b27bd13f4a86cf40cee9f09)
[`74f17e7`
Zbb: clz/ctz now do not need PopCount

ZenithalHourlyRate Apr 3, 2022](/chipsalliance/rocket-chip/pull/2950/commits/74f17e7affa6d7334ea82c585bee6474c2da71a1)
[`de9efc4`
ALU: refactor

ZenithalHourlyRate Apr 4, 2022](/chipsalliance/rocket-chip/pull/2950/commits/de9efc49a145d93e3f48301a6b64123e835b307a)
[`181c1ad`
Rename refactored ALU into ABLU

ZenithalHourlyRate Apr 9, 2022](/chipsalliance/rocket-chip/pull/2950/commits/181c1ade62a2ac0999c1c46ec880a76416da263c)
[`978118b`
ABLU: ctz: Fix when all 0

ZenithalHourlyRate Apr 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/978118b2df56713bbabcde6babf166720e1a4309)
[`fd7b7be`
ABLU: implment ALU side pla

ZenithalHourlyRate Apr 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/fd7b7be2930a2ab976c98f88934cfb767cfebf82)
[`81db153`
ABLU: fix compile

ZenithalHourlyRate Apr 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/81db1537fcf9bf9092e44b165e72178dac61b548)
[`906cb6c`
Instructions: sync from riscv-opcodes

ZenithalHourlyRate Apr 2, 2022](/chipsalliance/rocket-chip/pull/2950/commits/906cb6c021cb9929fdebdb77b07b9777773d9f27)
[`06688eb`
CSR: rename dscratch to dscratch0

ZenithalHourlyRate Apr 2, 2022](/chipsalliance/rocket-chip/pull/2950/commits/06688eb7ece207c379f73ab3da479675fc56be27)
[`f39d059`
Instructions: Separate rocket custom instructions

ZenithalHourlyRate Apr 2, 2022](/chipsalliance/rocket-chip/pull/2950/commits/f39d059b6cb320e10aea13d5883444717fb5d879)
[`c770dd9`
Instructions: Separate NMI insts and CSRs

ZenithalHourlyRate Apr 2, 2022](/chipsalliance/rocket-chip/pull/2950/commits/c770dd972cbca2540ba1d55cba7b797081e873ea)
[`374de8f`
Instructions: use chisel3

ZenithalHourlyRate Apr 2, 2022](/chipsalliance/rocket-chip/pull/2950/commits/374de8f3dc2f143abc1e121df98f3b9a7a22e224)
[`8bab78e`
ABLU: fill the decode table for Zb

ZenithalHourlyRate Apr 17, 2022](/chipsalliance/rocket-chip/pull/2950/commits/8bab78ee34689db6e9fcbb06f5f422ca69ef606f)
[`c0f2260`
IDecode: add Zb/Zk

ZenithalHourlyRate Apr 18, 2022](/chipsalliance/rocket-chip/pull/2950/commits/c0f226025594c513170482fdd29d7ffc5e6ca155)
[`cc504cf`
IDecode: fix for rv32

ZenithalHourlyRate Apr 18, 2022](/chipsalliance/rocket-chip/pull/2950/commits/cc504cf4b9755a07b13b9919ce9b76d26802c93f)
[`773a119`
add zba64 decode

ZenithalHourlyRate Apr 18, 2022](/chipsalliance/rocket-chip/pull/2950/commits/773a11986cb96543b5f44b172792c594eea03fd7)
[`ad3edff`
ABLU: fix ctrl sig for maxu/min

ZenithalHourlyRate Apr 18, 2022](/chipsalliance/rocket-chip/pull/2950/commits/ad3edffff97ad5752345cf8f2aae4f8ae441adb2)
[`18927be`
ABLU: fix ctwz/clzw zba64 and zbs

ZenithalHourlyRate Apr 18, 2022](/chipsalliance/rocket-chip/pull/2950/commits/18927be0a4f66e929e5dc2400a941b7903158906)
[`8240ffd`
zk: sbox use ny93 instead of ROM

ZenithalHourlyRate Apr 23, 2022](/chipsalliance/rocket-chip/pull/2950/commits/8240ffd06add867661e496e966091876198d9375)
[`fcc711f`
IDecode: cleanup zkn/zks

ZenithalHourlyRate Apr 23, 2022](/chipsalliance/rocket-chip/pull/2950/commits/fcc711f048ef6f56ad6d02e2c56a67c26d401983)
[`8541647`
Add Zb/Zk related configs; cleanup code according to config

ZenithalHourlyRate Apr 23, 2022](/chipsalliance/rocket-chip/pull/2950/commits/8541647be7fc6229d2a8b798da7c666710b7bcc7)
[`37f089a`
Merge remote-tracking branch 'origin/master' into Zk-chisel

ZenithalHourlyRate Apr 25, 2022](/chipsalliance/rocket-chip/pull/2950/commits/37f089a5e4777c0c01f5da2454a454ae61fc1f86)
[`4f81143`
Add aes64ks1i exception

ZenithalHourlyRate May 6, 2022](/chipsalliance/rocket-chip/pull/2950/commits/4f8114374d8824dfdec03f576a8cd68bebce4e56)
[`c4c641a`
Merge branch 'master' into Zk-chisel

ZenithalHourlyRate May 6, 2022](/chipsalliance/rocket-chip/pull/2950/commits/c4c641a8631f7f0c915aa4a42827cb35fc898f5e)
[`1916f3a`
IDecode: Fix Zb due to Instructions32 change

ZenithalHourlyRate May 6, 2022](/chipsalliance/rocket-chip/pull/2950/commits/1916f3aacc98e64e2d5cc5cc33535a37bbfd7aff)
[`1a76f5d`
Fix error from scalafix

ZenithalHourlyRate May 6, 2022](/chipsalliance/rocket-chip/pull/2950/commits/1a76f5deeb1f51585b4d53e1978b915e4f19eeed)
[`f2cab56`
Move pla into decode

ZenithalHourlyRate May 6, 2022](/chipsalliance/rocket-chip/pull/2950/commits/f2cab567824215835e639a787671af3510f25e2b)
[`84574f8`
fix ALU.FN when using ABLU

cyyself May 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/84574f8a9aa28bd0493d9ed55f150fd3cb99d0aa)
[`076d041`
Merge pull request #2 from cyyself/Zk-chisel

ZenithalHourlyRate May 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/076d041e02d08cc78500cdea004276f57f1eca87)
[`aa52e72`
Fix license

ZenithalHourlyRate May 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/aa52e728d298952b5ecbf12e855815c755ef8c4b)
[`d4726bc`
Move BarrelShifter into util

ZenithalHourlyRate May 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/d4726bcc871c35328def8b1c46b90734e72e2cf8)
[`b980b3c`
Rename ALUClass to AbstractAlu

ZenithalHourlyRate May 16, 2022](/chipsalliance/rocket-chip/pull/2950/commits/b980b3c1fd40571d31998af4655b905c4d4822f4)
[`03aa2cd`
Move usingABLU to HasRocketCoreParams

ZenithalHourlyRate May 17, 2022](/chipsalliance/rocket-chip/pull/2950/commits/03aa2cdfb5e39b2229c5275db70e45d797db9e57)
[`b145184`
Merge remote-tracking branch 'origin/master' into Zk-chisel

ZenithalHourlyRate Jun 13, 2022](/chipsalliance/rocket-chip/pull/2950/commits/b1451849acef7a1c021b75c4e6d050d28867e9a6)
[`c8aaa14`
IDecode: use DW\_XPR for branch insts

ZenithalHourlyRate Jun 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/c8aaa1467bfc1edde562b5b0404f9c3e3f421fd8)
[`9e52f46`
CryptoNIST: refactor ctrl signals

ZenithalHourlyRate Jun 13, 2022](/chipsalliance/rocket-chip/pull/2950/commits/9e52f461d2c4e65f6e819b8e3302c4f9f7ae157d)
[`8a5127f`
CryptoSM: refactor ctrl signals

ZenithalHourlyRate Jun 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/8a5127fc53d3c59eef5b1cec53273b5309ad778c)
[`f34d61f`
Move pla into decode

ZenithalHourlyRate Jun 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/f34d61f04920a4f20d6f0e7522a632b4f3dfa80f)
[`4740f16`
BitManipCrypto: use Mux1H for output

ZenithalHourlyRate Jun 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/4740f162db5ed82650580d96499053d735c5903b)
[`196c372`
BitManipCrypto: only instantiate clmul when not usingBitManipCrypto

ZenithalHourlyRate Jun 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/196c37282524c9e67bf6f8abb92234d1910c1080)
[`d481fb6`
RocketCore: use Mux1H for mem\_reg\_wdata to reduce latency

ZenithalHourlyRate Jun 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/d481fb68ab26963647bdbba560be2efd26f5c4e3)
[`2dfd5aa`
ABLU: cleanup

ZenithalHourlyRate Jun 15, 2022](/chipsalliance/rocket-chip/pull/2950/commits/2dfd5aa8295a1a1f9270f4bdd44aa9848228509c)
[`95dd0ac`
Merge branch 'master' into Zk-chisel

ZenithalHourlyRate Jan 5, 2023](/chipsalliance/rocket-chip/pull/2950/commits/95dd0acab044a855e50fdded4e643a5662cc917f)
[`46217ee`
Merge branch 'master' into Zk-chisel-new

ZenithalHourlyRate Jan 7, 2023](/chipsalliance/rocket-chip/pull/2950/commits/46217ee62badaeb1a1702ad1ba97bac355286fca)
[`7a8abd8`
Fix for chisel3 style and new PRs

ZenithalHourlyRate Jan 5, 2023](/chipsalliance/rocket-chip/pull/2950/commits/7a8abd8c3366bdf1a92310a809f1156a906e9920)
[`f4d74d7`
Fix decoding for zbs imm

ZenithalHourlyRate Jan 6, 2023](/chipsalliance/rocket-chip/pull/2950/commits/f4d74d7d85c1b02b31fb2d1087f98c4e4df15eee)
[`058ea26`
Merge branch 'master' into Zk-chisel-new

ZenithalHourlyRate Jan 10, 2023](/chipsalliance/rocket-chip/pull/2950/commits/058ea26ce7dd6dd86179494757fcb20a141f3bff)
[`ef03f08`
Add CI for Zb/Zk arch-test

ZenithalHourlyRate Jan 6, 2023](/chipsalliance/rocket-chip/pull/2950/commits/ef03f0821427e5abcfd57636a6e0d4fe1f294973)
[`9dff941`
Remove useABLU

ZenithalHourlyRate Jan 14, 2023](/chipsalliance/rocket-chip/pull/2950/commits/9dff9413509f617c020d13f9057365212686ab57)
[`df3fbd5`
Fix Bitmanip name

ZenithalHourlyRate Jan 14, 2023](/chipsalliance/rocket-chip/pull/2950/commits/df3fbd57c6a94928e41aa2f84e1340d62f5b5b73)
[`a0ae1e9`
Add Bitmanip/Crypto related isa string in DTS

ZenithalHourlyRate Jan 14, 2023](/chipsalliance/rocket-chip/pull/2950/commits/a0ae1e9c5b9db747707b80552f52897b541b1382)
[`58ff23f`
Instantiate BitManipCrypto earlier

ZenithalHourlyRate Jan 14, 2023](/chipsalliance/rocket-chip/pull/2950/commits/58ff23f1f3de3cef14c7bb34d0d24be821973f3f)
[`9229556`
Merge branch 'master' into Zk-chisel

ZenithalHourlyRate Jan 14, 2023](/chipsalliance/rocket-chip/pull/2950/commits/922955632e10c3ce56a5b936a14b9fcf4c0c5564)
[`beb3a11`
Add comment on B misa bit

ZenithalHourlyRate Jan 15, 2023](/chipsalliance/rocket-chip/pull/2950/commits/beb3a11f871a82d2aad1c53d01b55a39834492aa)
[`590fbb5`
Refactor ALUFN

ZenithalHourlyRate Jan 15, 2023](/chipsalliance/rocket-chip/pull/2950/commits/590fbb5a696d1927bf24301b9d238945c242f7c7)
[`879f6c3`
Refactor other ctrl signals

ZenithalHourlyRate Jan 15, 2023](/chipsalliance/rocket-chip/pull/2950/commits/879f6c360cad4af8a3dab023076b11e9ea8e6ace)
[`e5a5edc`
Pass alufn to Multipler

ZenithalHourlyRate Jan 15, 2023](/chipsalliance/rocket-chip/pull/2950/commits/e5a5edcd989f0559dc8d19e3b51121a54e992145)
[`c04a3a6`
More default ALUFN

ZenithalHourlyRate Jan 16, 2023](/chipsalliance/rocket-chip/pull/2950/commits/c04a3a64c60cb8166d12f145dbfdb7a66e7c6dad)
[`be84dc0`
Refactors to ease migration burden

jerryz123 Jan 17, 2023](/chipsalliance/rocket-chip/pull/2950/commits/be84dc03a6cbb49a45b6ed6fdb034ac84f8c8f0a)
[`57b1259`
Merge pull request #4 from chipsalliance/Zk-chisel-fixes

ZenithalHourlyRate Jan 17, 2023](/chipsalliance/rocket-chip/pull/2950/commits/57b12592ac6f19f3209eb99727eecfd9945ca3cc)
[`bccdd5f`
Fix format

ZenithalHourlyRate Jan 17, 2023](/chipsalliance/rocket-chip/pull/2950/commits/bccdd5f5f8b617a2bdeeaeecf73ec5efbbe79600)
[`6abee57`
Fix int ctrl sigs fn width

ZenithalHourlyRate Jan 17, 2023](/chipsalliance/rocket-chip/pull/2950/commits/6abee570a3435e3ae132da1a4a27668254980644)
[`871e13c`
Add isa string in bulk

ZenithalHourlyRate Jan 18, 2023](/chipsalliance/rocket-chip/pull/2950/commits/871e13c5adacba2b4b88ddde896f8c72a1a1c97a)

**File filter**

### Filter by extension

Filter by extension

.scala
(1)

All 1 file type selected

---

Viewed files

[Clear filters](/chipsalliance/rocket-chip/pull/2950/commits/4f8114374d8824dfdec03f576a8cd68bebce4e56)

 **Conversations**

Failed to load comments.  Retry

 Loading

 **Jump to**

Jump to file

Failed to load files.  Retry

 Loading

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

Show whitespace

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

 [Prev](/chipsalliance/rocket-chip/pull/2950/commits/37f089a5e4777c0c01f5da2454a454ae61fc1f86)Previous commit

 [Next](/chipsalliance/rocket-chip/pull/2950/commits/c4c641a8631f7f0c915aa4a42827cb35fc898f5e)Next commit

Add aes64ks1i exception

* Loading branch information

[![@ZenithalHourlyRate](https://avatars.githubusercontent.com/u/19512674?s=40&v=4)](/ZenithalHourlyRate)

[ZenithalHourlyRate](/chipsalliance/rocket-chip/commits?author=ZenithalHourlyRate "View all commits by ZenithalHourlyRate")
committed
May 6, 2022

commit 4f8114374d8824dfdec03f576a8cd68bebce4e56

## There are no files selected for viewing

3 changes: 2 additions & 1 deletion

3
[src/main/scala/rocket/RocketCore.scala](#diff-76fe933894e1d00dd2f7bb620d9c79323422e56293ad5f94ab290d4668c292e3 "src/main/scala/rocket/RocketCore.scala")

Show comments

[View file](/OpenRigil/rocket-chip/blob/4f8114374d8824dfdec03f576a8cd68bebce4e56/src/main/scala/rocket/RocketCore.scala)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -326,7 +326,8 @@ class Rocket(tile: RocketTile)(implicit p: Parameters) extends CoreModule()(p) |
|  |  | id\_ctrl.rocc && csr.io.decode(0).rocc\_illegal || |
|  |  | id\_ctrl.scie && !(id\_scie\_decoder.unpipelined || id\_scie\_decoder.pipelined) || |
|  |  | id\_csr\_en && (csr.io.decode(0).read\_illegal || !id\_csr\_ren && csr.io.decode(0).write\_illegal) || |
|  |  | !ibuf.io.inst(0).bits.rvc && (id\_system\_insn && csr.io.decode(0).system\_illegal) |
|  |  | !ibuf.io.inst(0).bits.rvc && (id\_system\_insn && csr.io.decode(0).system\_illegal) || |
|  |  | id\_ctrl.zkn && id\_ctrl.alu\_fn(ZKN.FN\_Len-1,0) === ZKN.FN\_AES\_KS1 && id\_inst(0)(23,20) > 0xA.U(4.W) |
| **ZenithalHourlyRate** marked this conversation as resolved.   Show resolved  Hide resolved | | |
|  |  | val id\_virtual\_insn = id\_ctrl.legal && |
|  |  | ((id\_csr\_en && !(!id\_csr\_ren && csr.io.decode(0).write\_illegal) && csr.io.decode(0).virtual\_access\_illegal) || |
|  |  | (!ibuf.io.inst(0).bits.rvc && id\_system\_insn && csr.io.decode(0).virtual\_system\_illegal)) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

