

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3121853)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3121852 "Changeset 3121852")
* [Next Changeset](/changeset/3121854 "Changeset 3121854") →

---

# Changeset 3121853

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
07/19/2024 07:35:44 AM
([6 months](/timeline?from=2024-07-19T07%3A35%3A44Z&precision=second "See timeline at 07/19/2024 07:35:44 AM") ago)

Author:
cifi
Message:
# 12.3.20

Update - Compatible with WP 6.6

Fixed - API security on innerlinks check and keywords check

Fixed - Sitemap compatibility with [WordPress](/wiki/WordPress) sitemap wp-sitemap.xml path

Fixed - Live Assistant to reload resources when network connection is low

Fixed - Sitemap to add only videos with thumbnails for google validation

Location:
[squirrly-seo/trunk](/browser/squirrly-seo/trunk?rev=3121853)
Files:

7 edited

* [controllers/Api.php](/browser/squirrly-seo/trunk/controllers/Api.php?rev=3121853 "Show entry in browser")
  (modified)
  ([3 diffs](#file0 "Show differences"))
* [controllers/Sitemaps.php](/browser/squirrly-seo/trunk/controllers/Sitemaps.php?rev=3121853 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [models/Sitemaps.php](/browser/squirrly-seo/trunk/models/Sitemaps.php?rev=3121853 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [readme.txt](/browser/squirrly-seo/trunk/readme.txt?rev=3121853 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [squirrly.php](/browser/squirrly-seo/trunk/squirrly.php?rev=3121853 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [view/Blocks/LiveAssistant.php](/browser/squirrly-seo/trunk/view/Blocks/LiveAssistant.php?rev=3121853 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [view/assets/js/assistant/squirrly.min.js](/browser/squirrly-seo/trunk/view/assets/js/assistant/squirrly.min.js?rev=3121853 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [squirrly-seo/trunk/controllers/Api.php](/changeset/3121853/squirrly-seo/trunk/controllers/Api.php "Show the changeset 3121853 restricted to squirrly-seo/trunk/controllers/Api.php")

  | [r3035466](/browser/squirrly-seo/trunk/controllers/Api.php?rev=3035466#L265 "Show revision 3035466 of this file in browser") | [r3121853](/browser/squirrly-seo/trunk/controllers/Api.php?rev=3121853#L265 "Show revision 3121853 of this file in browser") |  |
  | --- | --- | --- |
  | 265 | 265 | case 'innerlinks': |
  | 266 | 266 |  |
  | 267 |  | $url = esc\_url\_raw($request->get\_param('url')); |
  |  | 267 | $inner\_links = array(); |
  |  | 268 | $url = esc\_url\_raw($request->get\_param('url')); |
  | 268 | 269 | $start = (int)$request->get\_param('start'); |
  | 269 | 270 | $limit = (int)$request->get\_param('limit'); |
  | […](/browser/squirrly-seo/trunk/controllers/Api.php?rev=3035466#L282) | […](/browser/squirrly-seo/trunk/controllers/Api.php?rev=3121853#L283) |  |
  | 282 | 283 |  |
  | 283 | 284 | //get post inner links |
  | 284 |  | $select\_table = $wpdb->prepare("SELECT ID, post\_content FROM `$wpdb->posts` WHERE `post\_status` = %s ORDER BY ID DESC LIMIT %d,%d", 'publish', $start, $limit); |
  | 285 |  | $query = "SELECT `ID` FROM ($select\_table) as p WHERE (p.post\_content LIKE '%$url%' OR p.post\_content LIKE '%$url\_backslash%' OR p.post\_content LIKE '%$url\_encoded%' OR p.post\_content LIKE '%$url\_decoded%')"; |
  | 286 |  |  |
  | 287 |  | if(!$inner\_links = wp\_cache\_get(md5($query))) { |
  | 288 |  | //prepare the inner\_links array |
  | 289 |  | $inner\_links = array(); |
  | 290 |  |  |
  | 291 |  | if ( $rows = $wpdb->get\_results( $query ) ) { |
  | 292 |  | if ( ! empty( $rows ) ) { |
  | 293 |  | foreach ( $rows as $row ) { |
  | 294 |  | if ( untrailingslashit( get\_permalink( $row->ID ) ) <> $url ) { |
  | 295 |  | $inner\_links[] = get\_permalink( $row->ID ); |
  | 296 |  | } |
  | 297 |  | } |
  | 298 |  | } |
  | 299 |  | } |
  | 300 |  |  |
  |  | 285 | $select\_table = $wpdb->prepare("SELECT ID FROM `$wpdb->posts` WHERE `post\_status` = %s ORDER BY ID DESC LIMIT %d,%d", 'publish', $start, $limit); |
  |  | 286 | if ( $ids = $wpdb->get\_col( $select\_table ) ) { |
  |  | 287 | $query = $wpdb->prepare("SELECT `ID` FROM `$wpdb->posts` as p WHERE ID in (".join(',', array\_values($ids)).") AND (p.post\_content LIKE %s OR p.post\_content LIKE %s OR p.post\_content LIKE %s OR p.post\_content LIKE %s)", '%'.$url.'%', '%'.$url\_backslash.'%', '%'.$url\_encoded.'%', '%'.$url\_decoded.'%'); |
  |  | 288 |  |
  |  | 289 | if(!$inner\_links = wp\_cache\_get(md5($query))) { |
  |  | 290 | //prepare the inner\_links array |
  |  | 291 | $inner\_links = array(); |
  |  | 292 |  |
  |  | 293 | if ( $rows = $wpdb->get\_results( $query ) ) { |
  |  | 294 | if ( ! empty( $rows ) ) { |
  |  | 295 | foreach ( $rows as $row ) { |
  |  | 296 | if ( untrailingslashit( get\_permalink( $row->ID ) ) <> $url ) { |
  |  | 297 | $inner\_links[] = get\_permalink( $row->ID ); |
  |  | 298 | } |
  |  | 299 | } |
  |  | 300 | } |
  |  | 301 | } |
  |  | 302 |  |
  |  | 303 | } |
  |  | 304 |  |
  |  | 305 | wp\_cache\_set(md5($query), $inner\_links, '', 3600); |
  | 301 | 306 | } |
  | 302 |  |  |
  | 303 |  | ~~wp\_cache\_set(md5($query), $inner\_links, '', 3600);~~ |
  | 304 | 307 |  |
  | 305 | 308 | $response = array('url' => $url, 'inner\_links' => $inner\_links); |
  | […](/browser/squirrly-seo/trunk/controllers/Api.php?rev=3035466#L319) | […](/browser/squirrly-seo/trunk/controllers/Api.php?rev=3121853#L322) |  |
  | 319 | 322 | //define vars |
  | 320 | 323 | if($limit == 0) $limit = 1000; |
  | 321 |  | $regex = "[[:<:]]" . $keyword . "[[:>:]]"; |
  | 322 |  |  |
  | 323 |  | //get post inner links |
  | 324 |  | $select\_table = $wpdb->prepare("SELECT ID, post\_content FROM `$wpdb->posts` WHERE `post\_status` = %s ORDER BY ID DESC LIMIT %d,%d", 'publish', $start, $limit); |
  | 325 |  | $query = "SELECT `ID`, `post\_content` as content FROM ($select\_table) as p WHERE (p.post\_content REGEXP '$regex')"; |
  |  | 324 | $regex = "\\b" . strtolower($keyword) . "\\b"; |
  |  | 325 |  |
  |  | 326 | //get post keywords found |
  |  | 327 | $select\_table = $wpdb->prepare("SELECT ID FROM `$wpdb->posts` WHERE `post\_status` = %s ORDER BY ID DESC LIMIT %d,%d", 'publish', $start, $limit); |
  |  | 328 | if ( $ids = $wpdb->get\_col( $select\_table ) ) { |
  |  | 329 | $query = $wpdb->prepare("SELECT `ID`, `post\_content` FROM `$wpdb->posts` as p WHERE ID in (".join(',', array\_values($ids)).") AND (LOWER(p.post\_content) REGEXP %s)", $regex); |
  |  | 330 | } |
  | 326 | 331 |  |
  | 327 | 332 | if(!$urls = wp\_cache\_get(md5($query))) { |
* ## [squirrly-seo/trunk/controllers/Sitemaps.php](/changeset/3121853/squirrly-seo/trunk/controllers/Sitemaps.php "Show the changeset 3121853 restricted to squirrly-seo/trunk/controllers/Sitemaps.php")

  | [r3101815](/browser/squirrly-seo/trunk/controllers/Sitemaps.php?rev=3101815#L120 "Show revision 3101815 of this file in browser") | [r3121853](/browser/squirrly-seo/trunk/controllers/Sitemaps.php?rev=3121853#L120 "Show revision 3121853 of this file in browser") |  |
  | --- | --- | --- |
  | 120 | 120 | $request\_uri = str\_replace('sitemap\_index.xml','sitemap.xml', $request\_uri); |
  | 121 | 121 | } |
  |  | 122 |  |
  |  | 123 | //Compatibility with WordPress sitemap |
  |  | 124 | if(strpos($request\_uri, '/wp-sitemap.xml') !== false){ |
  |  | 125 | $request\_uri = str\_replace('wp-sitemap.xml','sitemap.xml', $request\_uri); |
  |  | 126 | } |
  | 122 | 127 |  |
  | 123 | 128 | $parseurl = parse\_url($request\_uri); |
* ## [squirrly-seo/trunk/models/Sitemaps.php](/changeset/3121853/squirrly-seo/trunk/models/Sitemaps.php "Show the changeset 3121853 restricted to squirrly-seo/trunk/models/Sitemaps.php")

  | [r3086982](/browser/squirrly-seo/trunk/models/Sitemaps.php?rev=3086982#L382 "Show revision 3086982 of this file in browser") | [r3121853](/browser/squirrly-seo/trunk/models/Sitemaps.php?rev=3121853#L382 "Show revision 3121853 of this file in browser") |  |
  | --- | --- | --- |
  | 382 | 382 | $xml['video:video']  = array(); |
  | 383 | 383 | foreach ($videos as $index => $video) { |
  | 384 |  | if ($video['src'] <> '') { |
  |  | 384 | if ($video['src'] <> '' && $video['thumbnail'] <> '') { |
  | 385 | 385 | $xml['video:video'][$index] = array( |
  | 386 | 386 | 'video:player\_loc' => $video['src'], |
  | […](/browser/squirrly-seo/trunk/models/Sitemaps.php?rev=3086982#L622) | […](/browser/squirrly-seo/trunk/models/Sitemaps.php?rev=3121853#L622) |  |
  | 622 | 622 | foreach ($videos as $index =>  $video) { |
  | 623 | 623 |  |
  | 624 |  | if ($video['src'] <> '') { |
  |  | 624 | if ($video['src'] <> '' && $video['thumbnail'] <> '') { |
  | 625 | 625 | $xml['video:video'][$index] = array( |
  | 626 | 626 | 'video:player\_loc' => $video['src'], |
* ## [squirrly-seo/trunk/readme.txt](/changeset/3121853/squirrly-seo/trunk/readme.txt "Show the changeset 3121853 restricted to squirrly-seo/trunk/readme.txt")

  | [r3086982](/browser/squirrly-seo/trunk/readme.txt?rev=3086982#L4 "Show revision 3086982 of this file in browser") | [r3121853](/browser/squirrly-seo/trunk/readme.txt?rev=3121853#L4 "Show revision 3121853 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Tags: SEO, AI, XML sitemap, google search console, schema |
  | 5 | 5 | Requires at least: 4.6 |
  | 6 |  | Tested up to: 6.~~5~~ |
  | 7 |  | Stable tag: 12.3.~~19~~ |
  |  | 6 | Tested up to: 6.6 |
  |  | 7 | Stable tag: 12.3.20 |
  | 8 | 8 | Requires PHP: 7.0 |
  | 9 | 9 | License: GPLv2 or later |
  | […](/browser/squirrly-seo/trunk/readme.txt?rev=3086982#L231) | […](/browser/squirrly-seo/trunk/readme.txt?rev=3121853#L231) |  |
  | 231 | 231 |  |
  | 232 | 232 | == Changelog == |
  |  | 233 | = 12.3.20 = |
  |  | 234 | Update - Compatible with WP 6.6 |
  |  | 235 | Fixed - API security on innerlinks check and keywords check |
  |  | 236 | Fixed - Sitemap compatibility with WordPress sitemap wp-sitemap.xml path |
  |  | 237 | Fixed - Live Assistant to reload resources when network connection is low |
  |  | 238 | Fixed - Sitemap to add only videos with thumbnails for google validation |
  |  | 239 |  |
  | 233 | 240 | = 12.3.19 = |
  | 234 | 241 | Update - Compatible with WP 6.5.3 |
* ## [squirrly-seo/trunk/squirrly.php](/changeset/3121853/squirrly-seo/trunk/squirrly.php "Show the changeset 3121853 restricted to squirrly-seo/trunk/squirrly.php")

  | [r3086982](/browser/squirrly-seo/trunk/squirrly.php?rev=3086982#L10 "Show revision 3086982 of this file in browser") | [r3121853](/browser/squirrly-seo/trunk/squirrly.php?rev=3121853#L10 "Show revision 3121853 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 | \* Author: Squirrly |
  | 11 | 11 | \* Author URI: https://plugin.squirrly.co |
  | 12 |  | \* Version: 12.3.~~19~~ |
  |  | 12 | \* Version: 12.3.20 |
  | 13 | 13 | \* License: GPLv2 or later |
  | 14 | 14 | \* License URI: http://www.gnu.org/licenses/old-licenses/gpl-2.0.html |
  | […](/browser/squirrly-seo/trunk/squirrly.php?rev=3086982#L19) | […](/browser/squirrly-seo/trunk/squirrly.php?rev=3121853#L19) |  |
  | 19 | 19 | if (!defined('SQ\_VERSION')) { |
  | 20 | 20 | /\* SET THE CURRENT VERSION ABOVE AND BELOW \*/ |
  | 21 |  | define('SQ\_VERSION', '12.3.~~19~~'); |
  |  | 21 | define('SQ\_VERSION', '12.3.20'); |
  | 22 | 22 | //The last stable version |
  | 23 |  | define('SQ\_STABLE\_VERSION', '12.3.1~~8~~'); |
  |  | 23 | define('SQ\_STABLE\_VERSION', '12.3.19'); |
  | 24 | 24 | // Call config files |
  | 25 | 25 | try { |
* ## [squirrly-seo/trunk/view/Blocks/LiveAssistant.php](/changeset/3121853/squirrly-seo/trunk/view/Blocks/LiveAssistant.php "Show the changeset 3121853 restricted to squirrly-seo/trunk/view/Blocks/LiveAssistant.php")

  | [r2972167](/browser/squirrly-seo/trunk/view/Blocks/LiveAssistant.php?rev=2972167#L19 "Show revision 2972167 of this file in browser") | [r3121853](/browser/squirrly-seo/trunk/view/Blocks/LiveAssistant.php?rev=3121853#L19 "Show revision 3121853 of this file in browser") |  |
  | --- | --- | --- |
  | 19 | 19 | </div> |
  | 20 | 20 | <div id="sq\_errorloading" class="sq-p-2 sq-py-3 sq-bg-light sq-border-bottom" style="display: none"> |
  | 21 |  | <?php echo sprintf(esc\_html\_\_("~~Connection error with Squirrly Cloud. Please check the connection and %s refresh the page~~ %s", "squirrly-seo"),'<a href="javascript:void(0);" onclick="jQuery.sq\_initialized = false; jQuery.sq\_initialize();">','</a>'); ?> |
  |  | 21 | <?php echo sprintf(esc\_html\_\_("Is taking too long to load the live assistant. %s Try again %s", "squirrly-seo"),'<a href="javascript:void(0);" onclick="jQuery.sq\_initialized = false; jQuery.sq\_initialize();">','</a>'); ?> |
  | 22 | 22 | </div> |
  | 23 | 23 | <div id="sq\_preloading" class="sq-p-2 sq-py-4 sq-bg-light sq-border-bottom"> |
* ## [squirrly-seo/trunk/view/assets/js/assistant/squirrly.min.js](/changeset/3121853/squirrly-seo/trunk/view/assets/js/assistant/squirrly.min.js "Show the changeset 3121853 restricted to squirrly-seo/trunk/view/assets/js/assistant/squirrly.min.js")

  | [r3086982](/browser/squirrly-seo/trunk/view/assets/js/assistant/squirrly.min.js?rev=3086982#L1 "Show revision 3086982 of this file in browser") | [r3121853](/browser/squirrly-seo/trunk/view/assets/js/assistant/squirrly.min.js?rev=3121853#L1 "Show revision 3121853 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (function($){"use strict";if($.isFunction($.fn.sq\_main)||typeof $sq\_config==="undefined"||typeof $sq\_params==="undefined"){return}$.sq\_initialized=false;$.sq\_setConfig=function(){$.sq\_config=$.extend({div:$("#postsquirrly"),debug:false,editor:false,editor\_type:false,active\_editor:false,token:"",url\_token:"",sq\_apiurl:"//api.squirrly.co/v2/",ajaxurl:"",sq\_nonce:"",sq\_version:"",is\_gutenberg:0,referer:"",keyword:"",lsi:[],language:"en-US",subscription\_active:1,subscription\_paid:0,sq\_keywordtag:"",postID:0,prevNonce:"",user\_url:"http://"+document.domain,research\_language:"us",timeout\_seo:null,timeout\_search:null,timeout\_research:null,sq\_windowerror:false,interval\_seo:null,calltimeout:5e3,delay\_seo:3e4,cookie\_expires:60\*24\*2,nrb:8,after\_insert:'<div><br style="clear:both" /></div>',firsttime:false,manual:false,silent:false,briefcase:false,sq\_cache:[]},$sq\_config)};$.sq\_setParams=function(){$.sq\_params=$.extend({low\_density:1,high\_density:2.5,high\_density\_title:35,low\_density\_title:2.5,min\_length\_title:10,max\_length\_title:75,min\_length\_body:80,max\_length\_body:0,min\_length\_description:20,max\_length\_description:160,begin\_last\_max\_chars:400,max\_word\_density:5,beginning\_length:255,ending\_length:255,min\_words\_between\_keywords:50,min\_chars\_between\_keywords:100,max\_keywords:5},$sq\_params)};$.sq\_setfields=function(){$.sq\_fields=$.extend({wp\_title:$("#titlediv"),wp\_input\_title:$("#post").find("#title"),wp\_postimagediv:$("#postimagediv"),wp\_content\_wrap:$(".wp-editor-wrap"),wp\_content:$(".wp-editor-area"),wp\_publish:$("#publish"),wp\_postarea:$(".postarea"),wp\_thumbnail\_alt:$("#attachment\_alt"),wp\_thumbnail:$(".wp\_attachment\_image"),content\_html:$("#content-html"),content\_tmce:$("#content-tmce"),content\_html\_wp3:$("#edButtonHTML"),content\_tmce\_wp3:$("#edButtonPreview"),sq\_box:$.sq\_config.div.find(".sq\_box"),sq\_preloading:$.sq\_config.div.find("#sq\_preloading"),sq\_preloading\_keyword:$.sq\_config.div.find("#sq\_preloading\_keyword"),sq\_errorloading:$.sq\_config.div.find("#sq\_errorloading"),div\_blocksearch:$.sq\_config.div.find("#sq\_blocksearch"),div\_blockseo:$.sq\_config.div.find("#sq\_blockseo"),div\_blockbriefacse:$("#sq\_briefcase"),div\_blocksnippet:$("#sq\_blocksnippet"),sq\_blocktabs:$.sq\_config.div.find("#sq\_block\_tabs"),sq\_blocksteps:$.sq\_config.div.find(".sq\_block\_steps"),sq\_search:$.sq\_config.div.find(".sq\_search"),sq\_search\_img\_filter:$.sq\_config.div.find("#sq\_search\_img\_filter"),sq\_search\_second:$.sq\_config.div.find("#sq\_search\_second"),sq\_keyword\_second:$.sq\_config.div.find("#sq\_keyword\_second"),sq\_keyword\_second\_check:$.sq\_config.div.find("#sq\_keyword\_second\_check"),sq\_briefcase\_icon:$.sq\_config.div.find("#sq\_briefcase\_icon"),sq\_briefcase\_list:$.sq\_config.div.find("#sq\_briefcase\_list"),sq\_research\_link:$.sq\_config.div.find("#sq\_research\_link"),sq\_selectit:$.sq\_config.div.find("#sq\_selectit"),sq\_types:$.sq\_config.div.find("#sq\_types"),sq\_type\_img:$.sq\_config.div.find("#sq\_type\_img"),sq\_type\_twitter:$.sq\_config.div.find("#sq\_type\_twitter"),sq\_type\_news:$.sq\_config.div.find("#sq\_type\_news"),sq\_type\_blog:$.sq\_config.div.find("#sq\_type\_blog"),sq\_type\_wiki:$.sq\_config.div.find("#sq\_type\_wiki"),sq\_type\_local:$.sq\_config.div.find("#sq\_type\_local"),sq\_research:$("#sq\_research"),sq\_blog\_preview:$('<div id="sq\_blog\_preview"><div id="sq\_blog\_preview\_close" >x</div><div id="sq\_blog\_preview\_title"></div><div id="sq\_blog\_preview\_body"></div></div><div id="sq\_blog\_preview\_overlay"></div>'),sq\_search\_img\_nolicence:$("#sq\_search\_img\_nolicence"),sq\_keyword\_div:$.sq\_config.div.find(".sq\_keyword"),sq\_keyword:$.sq\_config.div.find("#sq\_keyword"),sq\_keyword\_score:$.sq\_config.div.find("#sq\_keyword\_score"),sq\_keyword\_check:$.sq\_config.div.find("#sq\_keyword\_check"),sq\_keyword\_nokeyword:$.sq\_config.div.find("#sq\_nokeyword"),sq\_keywords\_research:$("#sq\_keywords\_research"),sq\_keywords\_research\_add:$(".sq\_keywords\_research\_add"),sq\_keywords\_research\_submit:$(".sq\_keywords\_research\_submit"),sq\_keywords\_research\_clear:$(".sq\_keywords\_research\_clear"),sq\_research\_close:$("#sq\_research\_close")},$.sq\_fields)};$.isDom=function(inp){return inp&&inp.tagName&&inp.nodeName&&inp.ownerDocument&&inp.removeAttribute};$.sq\_isGutenberg=function(){if(typeof wp!=="undefined"&&typeof wp.data!=="undefined"&&typeof wp.data.select("core/editor")!=="undefined"&&typeof wp.blocks!=="undefined"){if(wp.data.select("core/editor")&&$.isFunction(wp.data.select("core/editor").getEditedPostAttribute)&&$(".block-editor").length>0){return true}}return false};$.sq\_isDiviBuilder=function(){if($("#et\_pb\_layout:visible").length>0){return true}return false};$.sq\_getBuilderEditorContainer=function(){if($.sq\_isGutenberg()){if($(".block-editor-block-list\_\_layout.is-root-container").length>0){return $(".block-editor-block-list\_\_layout.is-root-container")}}else if($.sq\_isFrontend()){if($.sq\_editor.getFrontendEditor()&&$.sq\_editor.getFrontendEditor().getBuilderContainer()){return $.sq\_editor.getFrontendEditor().getBuilderContainer()}}else if($.sq\_config.active\_editor){return $.sq\_config.active\_editor}return $("<div></div>")};$.sq\_isFrontend=function(){if(typeof $.sq\_config.div==="undefined"){$.sq\_initialize()}if($.sq\_config.div.length>0&&$.sq\_config.div.hasClass("sq\_frontend")){return true}return false};$.sq\_getDomain=function(url,ret,separator){var domainName="";if(typeof ret==="undefined"){var ret=[8,10]}if(typeof separator==="undefined"){var separator=""}url=url.split(/([a-z0-9\_\-]{1,5}:\/\/)?(([a-z0-9\_\-]{1,}):([a-z0-9\_\-]{1,})\@)?((www\.)|([a-z0-9\_\-]{1,}\.)+)?([a-z0-9\_\-]{3,})((\.[a-z]{2,4})(:(\d{1,5}))?)(\/([a-z0-9\_\-]{1,}\/)+)?([a-z0-9\_\-]{1,})?(\.[a-z]{2,})?(\?)?(((\&)?[a-z0-9\_\-]{1,}(\=[a-z0-9\_\-]{1,})?)+)?/g);$.each(ret,function(key,val){if(typeof url[val]!=="undefined"){domainName=domainName+(domainName!==""?separator:"")+url[val]}});return domainName};if(!$.sq\_showMessage)$.sq\_showMessage=function(text,time){$(".sq\_notice").hide();var $div=$('<div class="sq\_notice sq\_fixed" ><div>'+text+"</div></div>");$("body").prepend($div);if(typeof time==="undefined"){time=2e3}setTimeout(function(){$div.remove()},time);return $div.find("div")};if(!$.sq\_getHashParam)$.sq\_getHashParam=function(key){if(location.href.indexOf("#")!==-1&&location.href.indexOf("#"+key)!==-1&&window.location.href.split("#")[1]!==""){var results=new RegExp("[\\?&#]"+key+"=([^&#]\*)").exec(window.location.href);if(results){return results[1]||0}else{var results=new RegExp("[\\?&#]"+key+"[^&#]\*").exec(window.location.href);if(results){return"1"}}}return false};if(!$.sq\_setHashParam)$.sq\_setHashParam=function(key){var separator="";if(!$.sq\_getHashParam(key)){if(location.href.indexOf("#")!==-1){if(location.href.split("#")[1]!=="")separator="&"}else{separator="#"}window.location.href=window.location.href+separator+key}return false};if(!$.sq\_deleteHashParam)$.sq\_deleteHashParam=function(key){if($.sq\_getHashParam(key)){window.location.href=window.location.href.replace("&"+key,"")}if($.sq\_getHashParam(key)){window.location.href=window.location.href.replace(key,"")}return false};$.sq\_formatNumber=function(number){var x,x1,x2;number+="";x=number.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,"$1"+","+"$2")}return x1+x2};$.sq\_clearText=function(str){if(typeof str!=="undefined"&&str.length>0){str=$.sq\_clearDiacritics(str);str=$.sq\_stripTags(str)}return str};$.sq\_umlautsText=function(str){str=str.replace("ä","ae");str=str.replace("ö","oe");str=str.replace("ß","ss");str=str.replace("ü","ue");str=str.replace("æ","ae");str=str.replace("ø","oe");str=str.replace("å","aa");str=str.replace("é","e");str=str.replace("è","e");return str};$.sq\_stripTags=function(str){if(typeof str!=="undefined"&&str.length>0){str=$("<div />").html(str).text()}return str};$.sq\_stripShortcode=function(str){if(typeof str!=="undefined"&&str.length>0){str=str.replace(/\\[[^\\]]+\\]/g,"")}return str};$.sq\_stripChars=function(str){if(typeof str!=="undefined"&&str.length>0){str=str.replace(/[-.\/]+/g," ");var pattern=$.sq\_regex("[^\\p{L}\\d\\s]");if(pattern){str=str.replace(pattern,"")}str=str.replace(/\s{2,}/g," ");str=str.trim()}return str};$.sq\_clearDiacritics=function(str){if(typeof sqDiacritics!=="undefined"&&typeof str=="string"){return sqDiacritics.clear(str)}return str};$.sq\_getCookie=function(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return decodeURIComponent(c.substring(nameEQ.length,c.length))}return null};$.sq\_setCookie=function(name,value){value=value.replace(new RegExp("\\\\","g"),"");document.cookie=name+"="+encodeURIComponent(value)+"; expires="+$.sq\_config.cookie\_expires+"; path=/"};$.sq\_uriEncode=function(url){return url.replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")};$.sq\_getCache=function(name){if(typeof $.sq\_config.sq\_cache!=="undefined")if(typeof $.sq\_config.sq\_cache[name]!=="undefined")return $.sq\_config.sq\_cache[name];return""};$.sq\_setCache=function(name,value){if(typeof name!=="undefined"&&typeof $.sq\_config.sq\_cache!=="undefined"){$.sq\_config.sq\_cache[name]=value}};$.sq\_strEqual=function(a,b){return typeof a==="string"&&typeof b==="string"?a.localeCompare(b,undefined,{sensitivity:"accent"})===0:a===b};$.sq\_isArray=function(input){return typeof input==="object"&&input instanceof Array};$.sq\_regex=function(striptag){if(typeof XRegExp!=="undefined"){return XRegExp(striptag,"gi")}return false};$.fn.sq\_loading=function(name){var $this=this;if(typeof name==="undefined"){$this.sq\_classname="sq\_minloading"}else{$this.sq\_classname=name}clearTimeout($.sq\_loadprocess);$this.first().addClass($this.sq\_classname);return $this};$.fn.sq\_doneloading=function(name){var $this=this;if(typeof name==="undefined"){name="sq\_minloading"}clearTimeout($.sq\_loadprocess);$this.removeClass(name);$this.find(".sq\_error\_message").remove();return $this};$.sq\_checkin=function(){return $.post($.sq\_config.ajaxurl,{action:"sla\_checkin",sq\_nonce:$.sq\_config.sq\_nonce,output:"json"}).done(function(response){$.sq\_fields.sq\_box.show();$.sq\_fields.sq\_preloading.hide();$.sq\_fields.sq\_preloading\_keyword.show();if(typeof response.error!=="undefined"){if(response.error==="invalid\_token"){if($.isFunction($.sq\_config.div.sq\_floating)){$.sq\_floating=$.sq\_config.div.sq\_floating([]);$.sq\_floating.init()}var $message=$('<div class="sq\_error\_message" style="width: 100%;text-align: center;padding: 10px;"><a href="admin.php?page=sq\_dashboard" style="color: #df3434;font-size: 13px;font-weight: 500;">'+$.sq\_config.\_\_noconnection+"</a></div>");var sq\_header=$.sq\_fields.sq\_box.find(".sq\_header");$.sq\_fields.sq\_box.html($message);$.sq\_fields.sq\_box.prepend(sq\_header);$.sq\_fields.sq\_box.find(".sq\_box\_maximize").hide();$.sq\_fields.sq\_box.find(".sq\_box\_close").on("click",function(){$.sq\_config.div.hide();$.sq\_setCookie("sq\_sla","off")});$.sq\_config.div.show();setTimeout(function(){$.sq\_config.div.hide()},5e3)}else if(response.error==="maintenance"){if($.isFunction($.sq\_config.div.sq\_floating)){$.sq\_floating=$.sq\_config.div.sq\_floating([]);$.sq\_floating.init()}var $message=$('<div class="sq\_error\_message" style="width: 100%;text-align: center;padding: 10px;font-size: 12px;">'+$.sq\_config.\_\_maintenance+"</div>");var sq\_header=$.sq\_fields.sq\_box.find(".sq\_header");$.sq\_fields.sq\_box.html($message);$.sq\_fields.sq\_box.prepend(sq\_header);$.sq\_fields.sq\_box.find(".sq\_box\_maximize").hide();$.sq\_fields.sq\_box.find(".sq\_box\_close").on("click",function(){$.sq\_config.div.hide();$.sq\_setCookie("sq\_sla","off")});$.sq\_config.div.show();setTimeout(function(){$.sq\_config.div.hide()},5e3)}}if(typeof response.data!=="undefined"){var triggerLoadInterval=setInterval(function(){if($.sq\_triggerLoad("seo.loaded")){clearInterval(triggerLoadInterval)}},1e3)}}).fail(function(){$.sq\_fields.sq\_box.show();$.sq\_fields.sq\_preloading.hide();$.sq\_fields.sq\_errorloading.show()})};$.sq\_triggerLoad=function(message){if(typeof $.sq\_config.div==="undefined"){$.sq\_initialize()}if(typeof $.sq\_blockbriefcase!=="undefined"&&typeof $.sq\_blockseo!=="undefined"&&typeof $.sq\_blocksearch!=="undefined"){$.sq\_blockbriefcase.trigger(message);$.sq\_blockseo.trigger(message);$.sq\_blocksearch.trigger(message);$.sq\_config.div.trigger(message);return true}else{return false}};$.sq\_savePost=function(){var $sq\_seo=[];$.sq\_config.div.find('input[name="sq\_seo[]"]').each(function(){$sq\_seo.push(this.value)});if($.sq\_blockbriefcase){$.sq\_blockbriefcase.trigger("briefcase.save")}$.post($.sq\_config.ajaxurl,{action:"sq\_ajax\_save\_post",sq\_nonce:$.sq\_config.sq\_nonce,post\_id:$.sq\_config.postID,sq\_keyword:$.sq\_config.keyword,referer:"backend",sq\_seo:$sq\_seo,optimizations:JSON.stringify($.sq\_blockbriefcase.setOptimizations())})};$.sq\_editor={getIframeEditor:function(element){var $this=$("#wpcontent");if(typeof element==="undefined"){element="#tinymce"}if($.sq\_isGutenberg()){if($this.find("#editor").find("div.edit-post-visual-editor").length>0){return $this.find("#editor").find("div.edit-post-visual-editor")}if($this.find("#editor").find("div.edit-post-text-editor\_\_body").length>0){return $this.find("#editor").find("div.edit-post-text-editor\_\_body")}}if($this.find("#post").length>0&&$this.find("#post").find("iframe").length>0){if($this.find(".mce-container").find("iframe").contents().find(element+".has-focus").length>0){return $(".mce-container").find("iframe").contents().find(element+".has-focus")}if($this.find(".mce-container").find("iframe").contents().find(element).length>0){return $this.find(".mce-container").find("iframe").contents().find(element)}if($this.find("#content\_ifr").contents().find(element).length>0){return $this.find("#content\_ifr").contents().find(element)}if($this.find(".cke\_contents").find("iframe").contents().find("body").length>0){return $this.find(".cke\_contents").find("iframe").contents().find("body")}if($this.find("#cke\_wysiwyg\_frame").contents().find("body").length>0){return $this.find("#cke\_wysiwyg\_frame").contents().find("body")}}return false},getTinymceEditor:function(ed){var editor;if(typeof ed!=="undefined"&&typeof ed==="object"){editor=ed;if(typeof editor.activeEditor==="object")editor=editor.activeEditor}else{if(typeof tinyMCE==="object"){editor=tinyMCE;if(typeof tinyMCE.get("content")!=="undefined"){editor=tinyMCE.get("content")}else{if(typeof tinyMCE.activeEditor==="object"&&tinyMCE.activeEditor!==null){editor=tinyMCE.activeEditor}else{if(document.getElementById("content")!==null){editor=new tinymce.Editor("content");editor.contentCSS=["/wp-content/plugins/squirrly-seo/themes/default/css/sq\_frontend.css"]}}}}}return editor},getBlockEditor:function(action){if($.sq\_isGutenberg()){if(action==="select"){var ed=window.wp.data.select("core/editor")}else{var ed=window.wp.data.dispatch("core/editor")}return ed}return false},getFrontendEditor:function(action){if($.sq\_isFrontend()){if(typeof window.sq\_editor!=="undefined"){return window.sq\_editor}}return false},createEditorButton:function(name){if($.sq\_isFrontend()&&$("."+name).length==0){$("body").append('<button type="button" class="'+name+'"><i class="sq\_logo" ></i></button>')}else if($.sq\_isGutenberg()){if($(".edit-post-more-menu").length>0){$(".edit-post-more-menu").before('<button type="button" class="sq-position-static '+name+'"><i class="sq\_logo" ></i></button>')}else if($(".interface-pinned-items").length>0){$(".interface-pinned-items").after('<button type="button" class="sq-ml-2 sq-position-static '+name+'"><i class="sq\_logo" ></i></button>')}else if($(".edit-post-header\_\_settings").length>0){$(".edit-post-header\_\_settings").append('<button type="button" class="sq-position-static '+name+'"><i class="sq\_logo" ></i></button>')}}else{$("body").append('<button type="button" class="'+name+'"><i class="sq\_logo" ></i></button>')}},listenHtml:function(e){if(e.originalEvent.dataTransfer===null)return;var img=e.originalEvent.dataTransfer.getData("text");if($("#"+$(img).attr("id")).parent("li").attr("class")==="sq\_search\_img\_li"){$.sq\_fields.wp\_content.val($.sq\_fields.wp\_content.val()+$.sq\_blocksearch.packimg($(img).attr("id"),$("#"+$(img).attr("id")).parent("li").attr("src"),$("#"+$(img).attr("id")).parent("li")))}},listen:function(e){if($("#"+e.target.id).parent("li").attr("class")==="sq\_search\_img\_li"){if($.sq\_editor.lastimage!==$("#"+e.target.id).parent("li").attr("src")){$.sq\_editor.insert($.sq\_blocksearch.packimg(e.target.id,$("#"+e.target.id).parent("li").attr("src"),$("#"+e.target.id).parent("li")))}}$.sq\_editor.lastimage=$("#"+e.target.id).parent("li").attr("src")},setContent:function(content,ed){if($.sq\_config.editor\_type==="tinymce"){var editor=$.sq\_editor.getTinymceEditor(ed);if(typeof editor!=="undefined"){editor.setContent(content)}}},insert:function(content,ed){if($.sq\_isDiviBuilder()||$.sq\_isFrontend()){var input=document.createElement("textarea");document.body.prepend(input);input.value=content;input.focus();input.select();try{document.execCommand("copy");alert("We've copied the code and you can paste it in the Page Builder.")}catch(e){alert("You can copy the box and paste it in the Page Builder")}input.remove();if($(".edit-post-layout\_\_content").length>0){$(".edit-post-layout\_\_content").animate({scrollTop:$(".edit-post-layout\_\_content").scrollTop()+$("#et\_pb\_layout").offset().top-50},"slow")}else{$("html,body").animate({scrollTop:$("#et\_pb\_layout").offset().top-50},"slow")}}else if($("#wpb\_visual\_composer:visible").length>0){var input=document.createElement("textarea");document.body.prepend(input);input.value=content;input.focus();input.select();try{document.execCommand("copy");alert("Visual Composer detected. We've copied the code and you can paste it in Visual Composer Editor.")}catch(e){alert("Visual Composer detected. You can copy the box and paste it in Visual Composer")}input.remove();if($(".edit-post-layout\_\_content").length>0){$(".edit-post-layout\_\_content").animate({scrollTop:$(".edit-post-layout\_\_content").scrollTop()+$("#wpb\_visual\_composer").offset().top-50},"slow")}else{$("html,body").animate({scrollTop:$("#wpb\_visual\_composer").offset().top-50},"slow")}}else if($("#elementor-switch-mode-input").length>0&&$("#elementor-switch-mode-input").val()=="builder"){var input=document.createElement("textarea");document.body.appendChild(input);input.value=content;input.focus();input.select();try{document.execCommand("copy");alert("Elementor is detected. We've copied the code and you can paste it in Elementor Text Editor.")}catch(e){alert("Elementor detected. You can copy the box and paste it in Elementor Text Editor")}input.remove()}else if($("div.wp-editor-container").find("div.cs-editor-container.pro").length>0){var input=document.createElement("textarea");document.body.appendChild(input);input.value=content;input.focus();input.select();try{document.execCommand("copy");alert("Themeco PRO is detected. We've copied the code and you can paste it in Themeco PRO Text Editor.")}catch(e){alert("Themeco PRO detected. You can copy the box and paste it in Themeco PRO Text Editor")}input.remove()}else if($.sq\_config.editor\_type==="tinymce"){if(typeof tinyMCE==="object"){var editor=tinyMCE;if(typeof editor.activeEditor==="object"){editor=editor.activeEditor}}if(typeof editor!=="undefined"&&editor!==null){if(typeof editor.selection!=="undefined"){editor.selection.setContent(content)}else{editor.setContent(content)}$.sq\_blockseo.callback()}}else{$.sq\_fields.wp\_content.val($.sq\_fields.wp\_content.val().substr(0,$.sq\_fields.wp\_content[0].selectionStart)+content+$.sq\_fields.wp\_content.val().substr($.sq\_fields.wp\_content[0].selectionEnd));$.sq\_blockseo.callback()}}};$.sq\_tinymce={callback:function(ed){if(ed.id!=="content")return false;var editor=$.sq\_editor.getTinymceEditor(ed);if(typeof editor!=="undefined"&&typeof $.sq\_blockseo==="object"){if($.sq\_config.editor\_type==="tinymce"){$.sq\_blockseo.callback()}}},setup:function(ed){},addEvents:function(ed,dom){if(typeof $.sq\_blockseo!=="undefined"&&typeof $.sq\_editor==="object"&&!$.isDom($.sq\_editor)){if($.sq\_config.active\_editor=$.sq\_editor.getIframeEditor()){$.sq\_blockseo.callback()}}}};$.fn.sq\_main=function(){var $this=this;$this.load=function(){$.sq\_setfields();$.sq\_setParams();$.sq\_initialized=true;$.sq\_fields.sq\_preloading.show();$.sq\_fields.sq\_errorloading.hide();$.sq\_loadtabs();$.sq\_highlight=function(element,text,params){var $accuracy="exactly";var $pattern=new RegExp("[぀-ヿ㐀-䶿一-鿿豈-﫿ｦ-ﾟ]","gi");if(text.match($pattern)){$accuracy="partially"}var options=$.extend({element:"mark","acrossElements ":1,ignoreJoiners:1,diacritics:false,separateWordSearch:false,caseSensitive:false,accuracy:{value:$accuracy,limiters:["`","~","!","@","#","$","%","^","&","\*","(",")","-","\_","=","+","{","}","[","]","\\","|",":",";","'",'"',",",".","<",">","/","?","“","”","s","es"]},ignorePunctuation:[" ",",","`","~","!","@","#","$","%","^","\*","(",")","-","\_","=","+","{","}","[","]","\\","|",":",";","'",'"',"<",">","/","?"],counter:1},params);if(typeof element!=="undefined"&&element.html()!==""&&$.isFunction(element.sq\_unmark)){if(typeof options.range!=="undefined"){element.sq\_unmark({done:function(){element.sq\_markRanges(options.range,options)}})}else{element.sq\_unmark({done:function(){element.sq\_mark(text,options)}})}}};$.sq\_removeHighlight=function(element){if(typeof element!=="undefined"&&$.isFunction(element.sq\_unmark)&&!$.sq\_isDiviBuilder()){element.sq\_unmark()}};if(~~$.isFunction($.sq\_fields.sq\_briefcase\_list.sq\_briefcase)){$.sq\_blockbriefcase=$.sq\_fields.sq\_briefcase\_list.sq\_briefcase([])}if($.isFunction($.sq\_config.div.sq\_frontend)){$.sq\_frontend=$.sq\_config.div.sq\_frontend([]);$.sq\_frontend.init()}if($.sq\_fields.div\_blockseo.length>0&&$.isFunction($.sq\_fields.div\_blockseo.sq\_blockseo)){$.sq\_blockseo=$.sq\_fields.div\_blockseo.sq\_blockseo([])}if($.sq\_fields.div\_blocksearch.length>0&&$.isFunction($.sq\_fields.div\_blocksearch.sq\_blocksearch)){$.sq\_blocksearch=$.sq\_fields.div\_blocksearch.sq\_blocksearch([])}if(~~$.isFunction($.sq\_config.div.sq\_floating)){$.sq\_floating=$.sq\_config.div.sq\_floating([]);if(!$.sq\_frontend){if(typeof $.sq\_config.div==="undefined"){$.sq\_setConfig()}$.sq\_floating.init()}}$.sq\_checkin()};return $this};$.sq\_loadtabs=function(){$.sq\_fields.sq\_blocktabs.find("div").on("click",function(){$.sq\_fields.sq\_selectit.trigger("click");$.sq\_fields.sq\_blocktabs.find("div").removeClass("sq\_active");$(this).addClass("sq\_active");$(".sq\_block\_steps").hide();$($(this).data("target")).show()});$.sq\_fields.sq\_blocksteps.find(".sq\_nextstep").on("click",function(){$('.sq\_block\_tab[data-target="'+$(this).data("target")+'"]').trigger("click")});$.sq\_fields.sq\_blocksteps.find(".sq\_finalstep").on("click",function(){window.open($(this).data("target")+"&sid="+$.sq\_config.postID,"\_blank")})};$.sq\_initialize=function(){$.sq\_setConfig();if(typeof $.sq\_config.div!=="undefined"&&!$.sq\_initialized&&$.sq\_config.div.length>0){$.sq\_config.div.sq\_main().load()}};$(document).ready(function(){var triggerInitiateInterval=setInterval(function(){$.sq\_initialize();if($.sq\_initialized){clearInterval(triggerInitiateInterval)}},1e3)});$(document).ajaxSuccess(function(event){if(typeof $.sq\_config==="undefined"){$.sq\_initialize()}else if(typeof $.sq\_config.div==="undefined"){$.sq\_initialize()}});window.onerror=function(){if(typeof $.sq\_config==="undefined"){$.sq\_initialize()}else if(typeof $.sq\_config.div==="undefined"){$.sq\_initialize()}}})(jQuery); |
  |  | 1 | (function($){"use strict";if($.isFunction($.fn.sq\_main)||typeof $sq\_config==="undefined"||typeof $sq\_params==="undefined"){return}$.sq\_initialized=false;$.sq\_setConfig=function(){$.sq\_config=$.extend({div:$("#postsquirrly"),debug:false,editor:false,editor\_type:false,active\_editor:false,token:"",url\_token:"",sq\_apiurl:"//api.squirrly.co/v2/",ajaxurl:"",sq\_nonce:"",sq\_version:"",is\_gutenberg:0,referer:"",keyword:"",lsi:[],language:"en-US",subscription\_active:1,subscription\_paid:0,sq\_keywordtag:"",postID:0,prevNonce:"",user\_url:"http://"+document.domain,research\_language:"us",timeout\_seo:null,timeout\_search:null,timeout\_research:null,sq\_windowerror:false,interval\_seo:null,calltimeout:5e3,delay\_seo:3e4,cookie\_expires:60\*24\*2,nrb:8,after\_insert:'<div><br style="clear:both" /></div>',firsttime:false,manual:false,silent:false,briefcase:false,sq\_cache:[]},$sq\_config)};$.sq\_setParams=function(){$.sq\_params=$.extend({low\_density:1,high\_density:2.5,high\_density\_title:35,low\_density\_title:2.5,min\_length\_title:10,max\_length\_title:75,min\_length\_body:80,max\_length\_body:0,min\_length\_description:20,max\_length\_description:160,begin\_last\_max\_chars:400,max\_word\_density:5,beginning\_length:255,ending\_length:255,min\_words\_between\_keywords:50,min\_chars\_between\_keywords:100,max\_keywords:5},$sq\_params)};$.sq\_setfields=function(){$.sq\_fields=$.extend({wp\_title:$("#titlediv"),wp\_input\_title:$("#post").find("#title"),wp\_postimagediv:$("#postimagediv"),wp\_content\_wrap:$(".wp-editor-wrap"),wp\_content:$(".wp-editor-area"),wp\_publish:$("#publish"),wp\_postarea:$(".postarea"),wp\_thumbnail\_alt:$("#attachment\_alt"),wp\_thumbnail:$(".wp\_attachment\_image"),content\_html:$("#content-html"),content\_tmce:$("#content-tmce"),content\_html\_wp3:$("#edButtonHTML"),content\_tmce\_wp3:$("#edButtonPreview"),sq\_box:$.sq\_config.div.find(".sq\_box"),sq\_preloading:$.sq\_config.div.find("#sq\_preloading"),sq\_preloading\_keyword:$.sq\_config.div.find("#sq\_preloading\_keyword"),sq\_errorloading:$.sq\_config.div.find("#sq\_errorloading"),div\_blocksearch:$.sq\_config.div.find("#sq\_blocksearch"),div\_blockseo:$.sq\_config.div.find("#sq\_blockseo"),div\_blockbriefacse:$("#sq\_briefcase"),div\_blocksnippet:$("#sq\_blocksnippet"),sq\_blocktabs:$.sq\_config.div.find("#sq\_block\_tabs"),sq\_blocksteps:$.sq\_config.div.find(".sq\_block\_steps"),sq\_search:$.sq\_config.div.find(".sq\_search"),sq\_search\_img\_filter:$.sq\_config.div.find("#sq\_search\_img\_filter"),sq\_search\_second:$.sq\_config.div.find("#sq\_search\_second"),sq\_keyword\_second:$.sq\_config.div.find("#sq\_keyword\_second"),sq\_keyword\_second\_check:$.sq\_config.div.find("#sq\_keyword\_second\_check"),sq\_briefcase\_icon:$.sq\_config.div.find("#sq\_briefcase\_icon"),sq\_briefcase\_list:$.sq\_config.div.find("#sq\_briefcase\_list"),sq\_research\_link:$.sq\_config.div.find("#sq\_research\_link"),sq\_selectit:$.sq\_config.div.find("#sq\_selectit"),sq\_types:$.sq\_config.div.find("#sq\_types"),sq\_type\_img:$.sq\_config.div.find("#sq\_type\_img"),sq\_type\_twitter:$.sq\_config.div.find("#sq\_type\_twitter"),sq\_type\_news:$.sq\_config.div.find("#sq\_type\_news"),sq\_type\_blog:$.sq\_config.div.find("#sq\_type\_blog"),sq\_type\_wiki:$.sq\_config.div.find("#sq\_type\_wiki"),sq\_type\_local:$.sq\_config.div.find("#sq\_type\_local"),sq\_research:$("#sq\_research"),sq\_blog\_preview:$('<div id="sq\_blog\_preview"><div id="sq\_blog\_preview\_close" >x</div><div id="sq\_blog\_preview\_title"></div><div id="sq\_blog\_preview\_body"></div></div><div id="sq\_blog\_preview\_overlay"></div>'),sq\_search\_img\_nolicence:$("#sq\_search\_img\_nolicence"),sq\_keyword\_div:$.sq\_config.div.find(".sq\_keyword"),sq\_keyword:$.sq\_config.div.find("#sq\_keyword"),sq\_keyword\_score:$.sq\_config.div.find("#sq\_keyword\_score"),sq\_keyword\_check:$.sq\_config.div.find("#sq\_keyword\_check"),sq\_keyword\_nokeyword:$.sq\_config.div.find("#sq\_nokeyword"),sq\_keywords\_research:$("#sq\_keywords\_research"),sq\_keywords\_research\_add:$(".sq\_keywords\_research\_add"),sq\_keywords\_research\_submit:$(".sq\_keywords\_research\_submit"),sq\_keywords\_research\_clear:$(".sq\_keywords\_research\_clear"),sq\_research\_close:$("#sq\_research\_close")},$.sq\_fields)};$.isDom=function(inp){return inp&&inp.tagName&&inp.nodeName&&inp.ownerDocument&&inp.removeAttribute};$.sq\_isGutenberg=function(){if(typeof wp!=="undefined"&&typeof wp.data!=="undefined"&&typeof wp.data.select("core/editor")!=="undefined"&&typeof wp.blocks!=="undefined"){if(wp.data.select("core/editor")&&$.isFunction(wp.data.select("core/editor").getEditedPostAttribute)&&$(".block-editor").length>0){return true}}return false};$.sq\_isDiviBuilder=function(){if($("#et\_pb\_layout:visible").length>0){return true}return false};$.sq\_getBuilderEditorContainer=function(){if($.sq\_isGutenberg()){if($(".block-editor-block-list\_\_layout.is-root-container").length>0){return $(".block-editor-block-list\_\_layout.is-root-container")}}else if($.sq\_isFrontend()){if($.sq\_editor.getFrontendEditor()&&$.sq\_editor.getFrontendEditor().getBuilderContainer()){return $.sq\_editor.getFrontendEditor().getBuilderContainer()}}else if($.sq\_config.active\_editor){return $.sq\_config.active\_editor}return $("<div></div>")};$.sq\_isFrontend=function(){if(typeof $.sq\_config.div==="undefined"){$.sq\_initialize()}if($.sq\_config.div.length>0&&$.sq\_config.div.hasClass("sq\_frontend")){return true}return false};$.sq\_getDomain=function(url,ret,separator){var domainName="";if(typeof ret==="undefined"){var ret=[8,10]}if(typeof separator==="undefined"){var separator=""}url=url.split(/([a-z0-9\_\-]{1,5}:\/\/)?(([a-z0-9\_\-]{1,}):([a-z0-9\_\-]{1,})\@)?((www\.)|([a-z0-9\_\-]{1,}\.)+)?([a-z0-9\_\-]{3,})((\.[a-z]{2,4})(:(\d{1,5}))?)(\/([a-z0-9\_\-]{1,}\/)+)?([a-z0-9\_\-]{1,})?(\.[a-z]{2,})?(\?)?(((\&)?[a-z0-9\_\-]{1,}(\=[a-z0-9\_\-]{1,})?)+)?/g);$.each(ret,function(key,val){if(typeof url[val]!=="undefined"){domainName=domainName+(domainName!==""?separator:"")+url[val]}});return domainName};if(!$.sq\_showMessage)$.sq\_showMessage=function(text,time){$(".sq\_notice").hide();var $div=$('<div class="sq\_notice sq\_fixed" ><div>'+text+"</div></div>");$("body").prepend($div);if(typeof time==="undefined"){time=2e3}setTimeout(function(){$div.remove()},time);return $div.find("div")};if(!$.sq\_getHashParam)$.sq\_getHashParam=function(key){if(location.href.indexOf("#")!==-1&&location.href.indexOf("#"+key)!==-1&&window.location.href.split("#")[1]!==""){var results=new RegExp("[\\?&#]"+key+"=([^&#]\*)").exec(window.location.href);if(results){return results[1]||0}else{var results=new RegExp("[\\?&#]"+key+"[^&#]\*").exec(window.location.href);if(results){return"1"}}}return false};if(!$.sq\_setHashParam)$.sq\_setHashParam=function(key){var separator="";if(!$.sq\_getHashParam(key)){if(location.href.indexOf("#")!==-1){if(location.href.split("#")[1]!=="")separator="&"}else{separator="#"}window.location.href=window.location.href+separator+key}return false};if(!$.sq\_deleteHashParam)$.sq\_deleteHashParam=function(key){if($.sq\_getHashParam(key)){window.location.href=window.location.href.replace("&"+key,"")}if($.sq\_getHashParam(key)){window.location.href=window.location.href.replace(key,"")}return false};$.sq\_formatNumber=function(number){var x,x1,x2;number+="";x=number.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,"$1"+","+"$2")}return x1+x2};$.sq\_clearText=function(str){if(typeof str!=="undefined"&&str.length>0){str=$.sq\_clearDiacritics(str);str=$.sq\_stripTags(str)}return str};$.sq\_umlautsText=function(str){str=str.replace("ä","ae");str=str.replace("ö","oe");str=str.replace("ß","ss");str=str.replace("ü","ue");str=str.replace("æ","ae");str=str.replace("ø","oe");str=str.replace("å","aa");str=str.replace("é","e");str=str.replace("è","e");return str};$.sq\_stripTags=function(str){if(typeof str!=="undefined"&&str.length>0){str=$("<div />").html(str).text()}return str};$.sq\_stripShortcode=function(str){if(typeof str!=="undefined"&&str.length>0){str=str.replace(/\\[[^\\]]+\\]/g,"")}return str};$.sq\_stripChars=function(str){if(typeof str!=="undefined"&&str.length>0){str=str.replace(/[-.\/]+/g," ");var pattern=$.sq\_regex("[^\\p{L}\\d\\s]");if(pattern){str=str.replace(pattern,"")}str=str.replace(/\s{2,}/g," ");str=str.trim()}return str};$.sq\_clearDiacritics=function(str){if(typeof sqDiacritics!=="undefined"&&typeof str=="string"){return sqDiacritics.clear(str)}return str};$.sq\_getCookie=function(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return decodeURIComponent(c.substring(nameEQ.length,c.length))}return null};$.sq\_setCookie=function(name,value){value=value.replace(new RegExp("\\\\","g"),"");document.cookie=name+"="+encodeURIComponent(value)+"; expires="+$.sq\_config.cookie\_expires+"; path=/"};$.sq\_uriEncode=function(url){return url.replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")};$.sq\_getCache=function(name){if(typeof $.sq\_config.sq\_cache!=="undefined")if(typeof $.sq\_config.sq\_cache[name]!=="undefined")return $.sq\_config.sq\_cache[name];return""};$.sq\_setCache=function(name,value){if(typeof name!=="undefined"&&typeof $.sq\_config.sq\_cache!=="undefined"){$.sq\_config.sq\_cache[name]=value}};$.sq\_strEqual=function(a,b){return typeof a==="string"&&typeof b==="string"?a.localeCompare(b,undefined,{sensitivity:"accent"})===0:a===b};$.sq\_isArray=function(input){return typeof input==="object"&&input instanceof Array};$.sq\_regex=function(striptag){if(typeof XRegExp!=="undefined"){return XRegExp(striptag,"gi")}return false};$.fn.sq\_loading=function(name){var $this=this;if(typeof name==="undefined"){$this.sq\_classname="sq\_minloading"}else{$this.sq\_classname=name}clearTimeout($.sq\_loadprocess);$this.first().addClass($this.sq\_classname);return $this};$.fn.sq\_doneloading=function(name){var $this=this;if(typeof name==="undefined"){name="sq\_minloading"}clearTimeout($.sq\_loadprocess);$this.removeClass(name);$this.find(".sq\_error\_message").remove();return $this};$.sq\_checkin=function(){return $.post($.sq\_config.ajaxurl,{action:"sla\_checkin",sq\_nonce:$.sq\_config.sq\_nonce,output:"json"}).done(function(response){$.sq\_fields.sq\_box.show();$.sq\_fields.sq\_preloading.hide();$.sq\_fields.sq\_preloading\_keyword.show();if(typeof response.error!=="undefined"){if(response.error==="invalid\_token"){if($.isFunction($.sq\_config.div.sq\_floating)){$.sq\_floating=$.sq\_config.div.sq\_floating([]);$.sq\_floating.init()}var $message=$('<div class="sq\_error\_message" style="width: 100%;text-align: center;padding: 10px;"><a href="admin.php?page=sq\_dashboard" style="color: #df3434;font-size: 13px;font-weight: 500;">'+$.sq\_config.\_\_noconnection+"</a></div>");var sq\_header=$.sq\_fields.sq\_box.find(".sq\_header");$.sq\_fields.sq\_box.html($message);$.sq\_fields.sq\_box.prepend(sq\_header);$.sq\_fields.sq\_box.find(".sq\_box\_maximize").hide();$.sq\_fields.sq\_box.find(".sq\_box\_close").on("click",function(){$.sq\_config.div.hide();$.sq\_setCookie("sq\_sla","off")});$.sq\_config.div.show();setTimeout(function(){$.sq\_config.div.hide()},5e3)}else if(response.error==="maintenance"){if($.isFunction($.sq\_config.div.sq\_floating)){$.sq\_floating=$.sq\_config.div.sq\_floating([]);$.sq\_floating.init()}var $message=$('<div class="sq\_error\_message" style="width: 100%;text-align: center;padding: 10px;font-size: 12px;">'+$.sq\_config.\_\_maintenance+"</div>");var sq\_header=$.sq\_fields.sq\_box.find(".sq\_header");$.sq\_fields.sq\_box.html($message);$.sq\_fields.sq\_box.prepend(sq\_header);$.sq\_fields.sq\_box.find(".sq\_box\_maximize").hide();$.sq\_fields.sq\_box.find(".sq\_box\_close").on("click",function(){$.sq\_config.div.hide();$.sq\_setCookie("sq\_sla","off")});$.sq\_config.div.show();setTimeout(function(){$.sq\_config.div.hide()},5e3)}}if(typeof response.data!=="undefined"){var triggerLoadInterval=setInterval(function(){if($.sq\_triggerLoad("seo.loaded")){clearInterval(triggerLoadInterval)}},1e3)}}).fail(function(){$.sq\_fields.sq\_box.show();$.sq\_fields.sq\_preloading.hide();$.sq\_fields.sq\_errorloading.show()})};$.sq\_triggerLoad=function(message){if(typeof $.sq\_config.div==="undefined"){$.sq\_initialize()}if(typeof $.sq\_blockbriefcase!=="undefined"&&typeof $.sq\_blockseo!=="undefined"&&typeof $.sq\_blocksearch!=="undefined"){$.sq\_blockbriefcase.trigger(message);$.sq\_blockseo.trigger(message);$.sq\_blocksearch.trigger(message);$.sq\_config.div.trigger(message);return true}else{return false}};$.sq\_savePost=function(){var $sq\_seo=[];$.sq\_config.div.find('input[name="sq\_seo[]"]').each(function(){$sq\_seo.push(this.value)});if($.sq\_blockbriefcase){$.sq\_blockbriefcase.trigger("briefcase.save")}$.post($.sq\_config.ajaxurl,{action:"sq\_ajax\_save\_post",sq\_nonce:$.sq\_config.sq\_nonce,post\_id:$.sq\_config.postID,sq\_keyword:$.sq\_config.keyword,referer:"backend",sq\_seo:$sq\_seo,optimizations:JSON.stringify($.sq\_blockbriefcase.setOptimizations())})};$.sq\_editor={getIframeEditor:function(element){var $this=$("#wpcontent");if(typeof element==="undefined"){element="#tinymce"}if($.sq\_isGutenberg()){if($this.find("#editor").find("div.edit-post-visual-editor").length>0){return $this.find("#editor").find("div.edit-post-visual-editor")}if($this.find("#editor").find("div.edit-post-text-editor\_\_body").length>0){return $this.find("#editor").find("div.edit-post-text-editor\_\_body")}}if($this.find("#post").length>0&&$this.find("#post").find("iframe").length>0){if($this.find(".mce-container").find("iframe").contents().find(element+".has-focus").length>0){return $(".mce-container").find("iframe").contents().find(element+".has-focus")}if($this.find(".mce-container").find("iframe").contents().find(element).length>0){return $this.find(".mce-container").find("iframe").contents().find(element)}if($this.find("#content\_ifr").contents().find(element).length>0){return $this.find("#content\_ifr").contents().find(element)}if($this.find(".cke\_contents").find("iframe").contents().find("body").length>0){return $this.find(".cke\_contents").find("iframe").contents().find("body")}if($this.find("#cke\_wysiwyg\_frame").contents().find("body").length>0){return $this.find("#cke\_wysiwyg\_frame").contents().find("body")}}return false},getTinymceEditor:function(ed){var editor;if(typeof ed!=="undefined"&&typeof ed==="object"){editor=ed;if(typeof editor.activeEditor==="object")editor=editor.activeEditor}else{if(typeof tinyMCE==="object"){editor=tinyMCE;if(typeof tinyMCE.get("content")!=="undefined"){editor=tinyMCE.get("content")}else{if(typeof tinyMCE.activeEditor==="object"&&tinyMCE.activeEditor!==null){editor=tinyMCE.activeEditor}else{if(document.getElementById("content")!==null){editor=new tinymce.Editor("content");editor.contentCSS=["/wp-content/plugins/squirrly-seo/themes/default/css/sq\_frontend.css"]}}}}}return editor},getBlockEditor:function(action){if($.sq\_isGutenberg()){if(action==="select"){var ed=window.wp.data.select("core/editor")}else{var ed=window.wp.data.dispatch("core/editor")}return ed}return false},getFrontendEditor:function(action){if($.sq\_isFrontend()){if(typeof window.sq\_editor!=="undefined"){return window.sq\_editor}}return false},createEditorButton:function(name){if($.sq\_isFrontend()&&$("."+name).length==0){$("body").append('<button type="button" class="'+name+'"><i class="sq\_logo" ></i></button>')}else if($.sq\_isGutenberg()){if($(".edit-post-more-menu").length>0){$(".edit-post-more-menu").before('<button type="button" class="sq-position-static '+name+'"><i class="sq\_logo" ></i></button>')}else if($(".interface-pinned-items").length>0){$(".interface-pinned-items").after('<button type="button" class="sq-ml-2 sq-position-static '+name+'"><i class="sq\_logo" ></i></button>')}else if($(".edit-post-header\_\_settings").length>0){$(".edit-post-header\_\_settings").append('<button type="button" class="sq-position-static '+name+'"><i class="sq\_logo" ></i></button>')}}else{$("body").append('<button type="button" class="'+name+'"><i class="sq\_logo" ></i></button>')}},listenHtml:function(e){if(e.originalEvent.dataTransfer===null)return;var img=e.originalEvent.dataTransfer.getData("text");if($("#"+$(img).attr("id")).parent("li").attr("class")==="sq\_search\_img\_li"){$.sq\_fields.wp\_content.val($.sq\_fields.wp\_content.val()+$.sq\_blocksearch.packimg($(img).attr("id"),$("#"+$(img).attr("id")).parent("li").attr("src"),$("#"+$(img).attr("id")).parent("li")))}},listen:function(e){if($("#"+e.target.id).parent("li").attr("class")==="sq\_search\_img\_li"){if($.sq\_editor.lastimage!==$("#"+e.target.id).parent("li").attr("src")){$.sq\_editor.insert($.sq\_blocksearch.packimg(e.target.id,$("#"+e.target.id).parent("li").attr("src"),$("#"+e.target.id).parent("li")))}}$.sq\_editor.lastimage=$("#"+e.target.id).parent("li").attr("src")},setContent:function(content,ed){if($.sq\_config.editor\_type==="tinymce"){var editor=$.sq\_editor.getTinymceEditor(ed);if(typeof editor!=="undefined"){editor.setContent(content)}}},insert:function(content,ed){if($.sq\_isDiviBuilder()||$.sq\_isFrontend()){var input=document.createElement("textarea");document.body.prepend(input);input.value=content;input.focus();input.select();try{document.execCommand("copy");alert("We've copied the code and you can paste it in the Page Builder.")}catch(e){alert("You can copy the box and paste it in the Page Builder")}input.remove();if($(".edit-post-layout\_\_content").length>0){$(".edit-post-layout\_\_content").animate({scrollTop:$(".edit-post-layout\_\_content").scrollTop()+$("#et\_pb\_layout").offset().top-50},"slow")}else{$("html,body").animate({scrollTop:$("#et\_pb\_layout").offset().top-50},"slow")}}else if($("#wpb\_visual\_composer:visible").length>0){var input=document.createElement("textarea");document.body.prepend(input);input.value=content;input.focus();input.select();try{document.execCommand("copy");alert("Visual Composer detected. We've copied the code and you can paste it in Visual Composer Editor.")}catch(e){alert("Visual Composer detected. You can copy the box and paste it in Visual Composer")}input.remove();if($(".edit-post-layout\_\_content").length>0){$(".edit-post-layout\_\_content").animate({scrollTop:$(".edit-post-layout\_\_content").scrollTop()+$("#wpb\_visual\_composer").offset().top-50},"slow")}else{$("html,body").animate({scrollTop:$("#wpb\_visual\_composer").offset().top-50},"slow")}}else if($("#elementor-switch-mode-input").length>0&&$("#elementor-switch-mode-input").val()=="builder"){var input=document.createElement("textarea");document.body.appendChild(input);input.value=content;input.focus();input.select();try{document.execCommand("copy");alert("Elementor is detected. We've copied the code and you can paste it in Elementor Text Editor.")}catch(e){alert("Elementor detected. You can copy the box and paste it in Elementor Text Editor")}input.remove()}else if($("div.wp-editor-container").find("div.cs-editor-container.pro").length>0){var input=document.createElement("textarea");document.body.appendChild(input);input.value=content;input.focus();input.select();try{document.execCommand("copy");alert("Themeco PRO is detected. We've copied the code and you can paste it in Themeco PRO Text Editor.")}catch(e){alert("Themeco PRO detected. You can copy the box and paste it in Themeco PRO Text Editor")}input.remove()}else if($.sq\_config.editor\_type==="tinymce"){if(typeof tinyMCE==="object"){var editor=tinyMCE;if(typeof editor.activeEditor==="object"){editor=editor.activeEditor}}if(typeof editor!=="undefined"&&editor!==null){if(typeof editor.selection!=="undefined"){editor.selection.setContent(content)}else{editor.setContent(content)}$.sq\_blockseo.callback()}}else{$.sq\_fields.wp\_content.val($.sq\_fields.wp\_content.val().substr(0,$.sq\_fields.wp\_content[0].selectionStart)+content+$.sq\_fields.wp\_content.val().substr($.sq\_fields.wp\_content[0].selectionEnd));$.sq\_blockseo.callback()}}};$.sq\_tinymce={callback:function(ed){if(ed.id!=="content")return false;var editor=$.sq\_editor.getTinymceEditor(ed);if(typeof editor!=="undefined"&&typeof $.sq\_blockseo==="object"){if($.sq\_config.editor\_type==="tinymce"){$.sq\_blockseo.callback()}}},setup:function(ed){},addEvents:function(ed,dom){if(typeof $.sq\_blockseo!=="undefined"&&typeof $.sq\_editor==="object"&&!$.isDom($.sq\_editor)){if($.sq\_config.active\_editor=$.sq\_editor.getIframeEditor()){$.sq\_blockseo.callback()}}}};$.fn.sq\_main=function(){var $this=this;$this.load=function(){$.sq\_setfields();$.sq\_setParams();$.sq\_initialized=true;$.sq\_fields.sq\_preloading.show();$.sq\_fields.sq\_errorloading.hide();$.sq\_loadtabs();$.sq\_highlight=function(element,text,params){var $accuracy="exactly";var $pattern=new RegExp("[぀-ヿ㐀-䶿一-鿿豈-﫿ｦ-ﾟ]","gi");if(text.match($pattern)){$accuracy="partially"}var options=$.extend({element:"mark","acrossElements ":1,ignoreJoiners:1,diacritics:false,separateWordSearch:false,caseSensitive:false,accuracy:{value:$accuracy,limiters:["`","~","!","@","#","$","%","^","&","\*","(",")","-","\_","=","+","{","}","[","]","\\","|",":",";","'",'"',",",".","<",">","/","?","“","”","s","es"]},ignorePunctuation:[" ",",","`","~","!","@","#","$","%","^","\*","(",")","-","\_","=","+","{","}","[","]","\\","|",":",";","'",'"',"<",">","/","?"],counter:1},params);if(typeof element!=="undefined"&&element.html()!==""&&$.isFunction(element.sq\_unmark)){if(typeof options.range!=="undefined"){element.sq\_unmark({done:function(){element.sq\_markRanges(options.range,options)}})}else{element.sq\_unmark({done:function(){element.sq\_mark(text,options)}})}}};$.sq\_removeHighlight=function(element){if(typeof element!=="undefined"&&$.isFunction(element.sq\_unmark)&&!$.sq\_isDiviBuilder()){element.sq\_unmark()}};if(typeof $.sq\_blockbriefcase=="undefined"&&$.isFunction($.sq\_fields.sq\_briefcase\_list.sq\_briefcase)){$.sq\_blockbriefcase=$.sq\_fields.sq\_briefcase\_list.sq\_briefcase([])}if(typeof $.sq\_frontend=="undefined"&&$.isFunction($.sq\_config.div.sq\_frontend)){$.sq\_frontend=$.sq\_config.div.sq\_frontend([]);$.sq\_frontend.init()}if(typeof $.sq\_blockseo=="undefined"&&$.sq\_fields.div\_blockseo.length>0&&$.isFunction($.sq\_fields.div\_blockseo.sq\_blockseo)){$.sq\_blockseo=$.sq\_fields.div\_blockseo.sq\_blockseo([])}if(typeof $.sq\_blocksearch=="undefined"&&$.sq\_fields.div\_blocksearch.length>0&&$.isFunction($.sq\_fields.div\_blocksearch.sq\_blocksearch)){$.sq\_blocksearch=$.sq\_fields.div\_blocksearch.sq\_blocksearch([])}if(typeof $.sq\_floating=="undefined"&&$.isFunction($.sq\_config.div.sq\_floating)){$.sq\_floating=$.sq\_config.div.sq\_floating([]);if(!$.sq\_frontend){if(typeof $.sq\_config.div==="undefined"){$.sq\_setConfig()}$.sq\_floating.init()}}$.sq\_checkin()};return $this};$.sq\_loadtabs=function(){$.sq\_fields.sq\_blocktabs.find("div").on("click",function(){$.sq\_fields.sq\_selectit.trigger("click");$.sq\_fields.sq\_blocktabs.find("div").removeClass("sq\_active");$(this).addClass("sq\_active");$(".sq\_block\_steps").hide();$($(this).data("target")).show()});$.sq\_fields.sq\_blocksteps.find(".sq\_nextstep").on("click",function(){$('.sq\_block\_tab[data-target="'+$(this).data("target")+'"]').trigger("click")});$.sq\_fields.sq\_blocksteps.find(".sq\_finalstep").on("click",function(){window.open($(this).data("target")+"&sid="+$.sq\_config.postID,"\_blank")})};$.sq\_initialize=function(){$.sq\_setConfig();if(typeof $.sq\_config.div!=="undefined"&&!$.sq\_initialized&&$.sq\_config.div.length>0){$.sq\_config.div.sq\_main().load()}};$(document).ready(function(){var triggerInitiateInterval=setInterval(function(){$.sq\_initialize();if($.sq\_initialized){clearInterval(triggerInitiateInterval)}},1e3)});$(document).ajaxSuccess(function(event){if(typeof $.sq\_config==="undefined"){$.sq\_initialize()}else if(typeof $.sq\_config.div==="undefined"){$.sq\_initialize()}});window.onerror=function(){if(typeof $.sq\_config==="undefined"){$.sq\_initialize()}else if(typeof $.sq\_config.div==="undefined"){$.sq\_initialize()}}})(jQuery); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3121853)
* [Zip Archive](?format=zip&new=3121853)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

