

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3133909)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3133908 "Changeset 3133908")
* [Next Changeset](/changeset/3133910 "Changeset 3133910") →

---

# Changeset 3133909

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
08/12/2024 04:54:18 AM
([5 months](/timeline?from=2024-08-12T04%3A54%3A18Z&precision=second "See timeline at 08/12/2024 04:54:18 AM") ago)

Author:
dglingren
Message:

Create trunk version 3.19.

Location:
[media-library-assistant/trunk](/browser/media-library-assistant/trunk?rev=3133909)
Files:

3 edited

* [includes/class-mla-core.php](/browser/media-library-assistant/trunk/includes/class-mla-core.php?rev=3133909 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [index.php](/browser/media-library-assistant/trunk/index.php?rev=3133909 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [readme.txt](/browser/media-library-assistant/trunk/readme.txt?rev=3133909 "Show entry in browser")
  (modified)
  ([4 diffs](#file2 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [media-library-assistant/trunk/includes/class-mla-core.php](/changeset/3133909/media-library-assistant/trunk/includes/class-mla-core.php "Show the changeset 3133909 restricted to media-library-assistant/trunk/includes/class-mla-core.php")

  | [r3128336](/browser/media-library-assistant/trunk/includes/class-mla-core.php?rev=3128336#L22 "Show revision 3128336 of this file in browser") | [r3133909](/browser/media-library-assistant/trunk/includes/class-mla-core.php?rev=3133909#L22 "Show revision 3133909 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 | \* @var string |
  | 23 | 23 | \*/ |
  | 24 |  | const CURRENT\_MLA\_VERSION = '3.1~~8~~'; |
  |  | 24 | const CURRENT\_MLA\_VERSION = '3.19'; |
  | 25 | 25 |  |
  | 26 | 26 | /\*\* |
  | […](/browser/media-library-assistant/trunk/includes/class-mla-core.php?rev=3128336#L31) | […](/browser/media-library-assistant/trunk/includes/class-mla-core.php?rev=3133909#L31) |  |
  | 31 | 31 | \* @var string |
  | 32 | 32 | \*/ |
  | 33 |  | const MLA\_DEVELOPMENT\_VERSION = '~~20240730~~'; |
  |  | 33 | const MLA\_DEVELOPMENT\_VERSION = ''; |
  | 34 | 34 |  |
  | 35 | 35 | /\*\* |
* ## [media-library-assistant/trunk/index.php](/changeset/3133909/media-library-assistant/trunk/index.php "Show the changeset 3133909 restricted to media-library-assistant/trunk/index.php")

  | [r3128336](/browser/media-library-assistant/trunk/index.php?rev=3128336#L10 "Show revision 3128336 of this file in browser") | [r3133909](/browser/media-library-assistant/trunk/index.php?rev=3133909#L10 "Show revision 3133909 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 | \* @copyright 2024 David Lingren |
  | 11 | 11 | \* @license   GPL-2.0-or-later |
  | 12 |  | \* @version   3.1~~8~~ |
  |  | 12 | \* @version   3.19 |
  | 13 | 13 | \*/ |
  | 14 | 14 |  |
  | […](/browser/media-library-assistant/trunk/index.php?rev=3128336#L16) | […](/browser/media-library-assistant/trunk/index.php?rev=3133909#L16) |  |
  | 16 | 16 | Plugin Name: Media Library Assistant |
  | 17 | 17 | Plugin URI: http://davidlingren.com/#two |
  | 18 |  | Description: ~~20240730~~ Enhances the Media Library; powerful [mla\_gallery] [mla\_tag\_cloud] [mla\_term\_list], taxonomy support, IPTC/EXIF/XMP/PDF processing, bulk/quick edit. |
  | 19 |  | Version: 3.1~~8~~ |
  |  | 18 | Description: Enhances the Media Library; powerful [mla\_gallery] [mla\_tag\_cloud] [mla\_term\_list], taxonomy support, IPTC/EXIF/XMP/PDF processing, bulk/quick edit. |
  |  | 19 | Version: 3.19 |
  | 20 | 20 | Requires at least: 4.1 |
  | 21 | 21 | Requires PHP: 5.3 |
* ## [media-library-assistant/trunk/readme.txt](/changeset/3133909/media-library-assistant/trunk/readme.txt "Show the changeset 3133909 restricted to media-library-assistant/trunk/readme.txt")

  | [r3127699](/browser/media-library-assistant/trunk/readme.txt?rev=3127699#L4 "Show revision 3127699 of this file in browser") | [r3133909](/browser/media-library-assistant/trunk/readme.txt?rev=3133909#L4 "Show revision 3133909 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Tags: categories, images, media, media library, tags |
  | 5 | 5 | Requires at least: 4.1 |
  | 6 |  | Tested up to: 6.~~5.4~~ |
  | 7 |  | Stable tag: 3.1~~8~~ |
  |  | 6 | Tested up to: 6.6.1 |
  |  | 7 | Stable tag: 3.19 |
  | 8 | 8 | Requires PHP: 5.3 |
  | 9 | 9 | License: GPLv2 or later |
  | […](/browser/media-library-assistant/trunk/readme.txt?rev=3127699#L191) | […](/browser/media-library-assistant/trunk/readme.txt?rev=3133909#L191) |  |
  | 191 | 191 | \* New: For mapping rules, a new "Replace All" option for the "Keep Existing" setting will replace Standard Fields with an empty value and delete Taxonomy term assignments if the mapping rule evaluates to an empty value. |
  | 192 | 192 | \* Fix: \*\*IMPORTANT: A security risk that allowed authenticated non-administrator (Author+) users to add file extensions to the Uploads list has been mitigated.\*\* |
  |  | 193 | \* Fix: More precise jQuery specification may improve handling of the Edit and Thumbnails bulk actions on the Media/Assistant admin submenu screen. |
  | 193 | 194 | \* Fix: For Custom Fields and IPTC/EXIF/WP custom field rules, the "Replace" option for the "Keep Existing" setting will not delete existing non-empty values if the new value is empty. |
  | 194 | 195 | \* Fix: For IPTC/EXIF/WP custom field rules, the "Multi" Option setting is now respected. A defect in previous MLA versions caused this setting to be ignored. |
  | […](/browser/media-library-assistant/trunk/readme.txt?rev=3127699#L217) | […](/browser/media-library-assistant/trunk/readme.txt?rev=3133909#L218) |  |
  | 217 | 218 | \* Fix: For the `[mla\_custom\_list]` shortcode, a defect that caused the `ids=` and `include=` parameters to fail when used together has been corrected. |
  | 218 | 219 |  |
  | 219 |  | = 3.15 = |
  | 220 |  | \* Fix: Eliminate PHP Fatal Error when accessing Example Plugins from the Settings/Media Library Assistant Documentation tab. |
  | 221 |  |  |
  | 222 |  | = 3.14 = |
  | 223 |  | \* New: Four new field-level prefix values provide access to the custom fields and taxonomy terms of an item's parent or the post/page in which the `[mla\_gallery]` shortcode occurs. |
  | 224 |  | \* New: For the `[mla\_gallery]` shortcode, four new "item-level substitution parameters" provide links, tags and urls for the MIME type icon associated with each gallery item. |
  | 225 |  | \* New: For the `[mla\_gallery]` shortcode, a new value for the "link" parameter, "link=original", provides access to the original image for scaled items. |
  | 226 |  | \* New: The new \*\*"MLA Media Library Folders Support" example plugin\*\* adds support for the "Block Direct Access" feature of the "Media Library Folders" plugin. |
  | 227 |  | \* New: For the "MLA Gallery Download Archive" example plugin, archive files are now deleted from the server after download completes. A shortcode parameter has been added to allow keeping them. |
  | 228 |  | \* New: For the "MLA Path Mapping Example" plugin, tools for copying term definitions and term assignments from one taxonomy to another have been added. The plugin's Documentation tab has more information. |
  | 229 |  | \* New: The AVIF image format has been added to MLA's table of known MIME types. |
  | 230 |  | \* Fix: \*\*IMPORTANT: An SQL Injection security risk in the `[mla\_custom\_list]` shortcode has been mitigated. |
  | 231 |  | \* Fix: \*\*IMPORTANT: Attribute Injection security risks in all four shortcodes have been mitigated.\*\* HTML Event attributes are no longer allowed in the `mla\_link\_attributes` and `mla\_image\_attributes` parameters. |
  | 232 |  | \* Fix: \*\*IMPORTANT: For WP 6.5, MLA custom file type icon support has been ensured.\*\* |
  | 233 |  | \* Fix: For the `[mla\_gallery]` shortcode, some PHP 8.2 "Deprecated" warnings have been eliminated. |
  | 234 |  | \* Fix: For the `[mla\_term\_list]` shortcode, a defect that caused the `child\_of=` parameter to fail has been corrected. |
  | 235 |  | \* Fix: For the `class-mla\_objects.php` file, a PHP 8.2 "Deprecated" message has been eliminated. |
  | 236 |  | \* Fix: For the `mla-define-ajaxurl-scripts.js` file, console messages reflecting harmless error conditions have been disabled. |
  | 237 |  | \* Fix: For the "MLA Multisite Extensions" example plugin, activating the plugin in a non-multisite site does not cause PHP errors or warnings. |
  | 238 |  | \* Fix: The `mla\_list\_table\_begin\_bulk\_action` filter has been added to the Media/Assistant Download bulk action handler. |
  | 239 |  | \* Fix: A PHP Warning message sometimes generated by handling custom Media/Assistant bulk actions has been eliminated. |
  | 240 |  | \* Fix: The destination of the Donate link has been updated to reflect changes in the charity's web site. |
  | 241 |  |  |
  | 242 |  | = 3.13 = |
  | 243 |  | \* New: The new \*\*"MLA Custom Field List" shortcode\*\*, `[mla\_custom\_list]`,  lets you display custom field values in a variety of cloud, list, dropdown and checklist formats for use with the `[mla\_gallery]` simple custom field query parameters. |
  | 244 |  | \* New: The new "bulk edit area auto-fill presets" option on the General tab lets you automatically import preset values when the Media/Add New admin screen is loaded. |
  | 245 |  | \* New: Two new filters for the Media/Assistant admin submenu allow you to modify or replace the content of the primary table column. |
  | 246 |  | \* New: Code for the `[mla\_term\_list]` and `[mla\_tag\_cloud]` shortcodes is now loaded only when needed, reducing the load time and memory required for the `[mla\_gallery]` shortcode. |
  | 247 |  | \* Fix: IMPORTANT: A defect introduced in MLA 3.10 that corrupts quote marks in `mla\_link\_attributes` and `mla\_image\_attributes`  and HTML in `mla\_link\_text` shortcode parameters has been corrected. |
  | 248 |  | \* Fix: When the "Smush – Optimize, Compress and Lazy Load Images" plugin is active among other active plugins such as "Elementor Website Builder", MLA's mapping rules are more reliably run during image uploads. |
  | 249 |  | \* Fix: For XMP metadata, nodes with a 'xml:lang' attribute value other than 'x-default' are now added to the parsed results, keyed by the language value. |
  | 250 |  | \* Fix: Some security risks identified by the PHP Code Sniffer have been eliminated. |
  | 251 |  | \* Fix: PHP warning messages for a problem with missing "dll" or "exe" MIME Type icons have been resolved. |
  | 252 |  | \* Fix: For the Media Manager Modal (popup) Window and Media/Library grid mode, the year/month dropdown control now sorts properly, in descending order. |
  | 253 |  |  |
  | 254 |  | = 3.00 - 3.12 = |
  |  | 220 | = 3.00 - 3.15 = |
  |  | 221 | \* 3.15 - IMPORTANT: Eliminate PHP Fatal Error when accessing Example Plugins from the Settings/Media Library Assistant Documentation tab. |
  |  | 222 | \* 3.14 - IMPORTANT: WordPress 6.5 updates and two security fixes. New and enhanced example plugins. Shortcode enhancements. Seven enhancements in all, eleven fixes. |
  |  | 223 | \* 3.13 - IMPORTANT: `[mla\_gallery]` parameters containing HTML are once again processed correctly. New "MLA Custom Field List" shortcode. Code refactor reduces load time and memory required for the `[mla\_gallery]` shortcode. Four enhancements in all, six fixes. |
  | 255 | 224 | \* 3.12 - IMPORTANT: Cross-site scripting security risk for authenticated users with the "Author" role has been eliminated. |
  | 256 | 225 | \* 3.11 - IMPORTANT: security risk fixes for shortcode parameters and example plugin. Custom file icon support for Uploads file types. One enhancement, four fixes. |
  | […](/browser/media-library-assistant/trunk/readme.txt?rev=3127699#L389) | […](/browser/media-library-assistant/trunk/readme.txt?rev=3133909#L358) |  |
  | 389 | 358 | == Upgrade Notice == |
  | 390 | 359 |  |
  | 391 |  | = 3.1~~8~~ = |
  | 392 |  | IMPORTANT: A security risk in the ~~Media/Edit Media screen has been mitigated. A defect in formatting the order=DESC shortcode parameter has been corrected. Two~~ fixes in all. |
  |  | 360 | = 3.19 = |
  |  | 361 | IMPORTANT: A security risk in the Settings/Media Library Assistant Uploads tab has been mitigated. Mapping rule fixes and enhancement. Media/Assistant bulk action fix. One enhancement, six fixes in all. |
  | 393 | 362 |  |
  | 394 | 363 | == Acknowledgements == |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3133909)
* [Zip Archive](?format=zip&new=3133909)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

