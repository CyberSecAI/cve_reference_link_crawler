
[![pretix](https://static.pretix.space/static/pretixeu/img/logo_dark.560966f34ea6.svg)](/about/en/)

[Features](/about/en/features/shop)
Products
Core platform
[![](https://static.pretix.space/static/pretixeu/img/icon.93c2cd74cbec.svg)
**pretix**
Full-featured online ticket shop & backend](/about/en/ticketing)
Exhibitor services
[![](https://static.pretix.space/static/pretixeu/img/lead.e9addb0d3980.svg)
**pretixLEAD**
Paperless networking for exhibitors](/about/en/lead)
Virtual & hybrid events
[![](https://static.pretix.space/static/pretixeu/img/venueless.47f144577b1f.svg)
**Venueless**
Digital event platform](https://venueless.org/en/?mtm_campaign=pretixeunav)

On-site processes
[![](https://static.pretix.space/static/pretixeu/img/pos.5499a6faf778.svg)
**pretixPOS**
Cash register app](/about/en/pos)
[![](https://static.pretix.space/static/pretixeu/img/scan3.e5f0e83eb26d.svg)
**pretixSCAN**
Access control & live badge printing](/about/en/scan)
[![](https://static.pretix.space/static/pretixeu/img/kiosk.c4b9f12e436d.svg)
**pretixKIOSK**
Ticket vending machine app](/about/en/kiosk)
[![](https://static.pretix.space/static/pretixeu/img/hardware2.d9de679c5bc4.svg)
**Hardware**
High-end event tech for rent](/about/en/hardware)

[Pricing](/about/en/pricing)
[News](/about/en/blog/)
[Sign in](/control/login)

# Security release 2023.7.1 of pretix

Sept. 11, 2023

Today, we've internally discovered a security issue inside pretix.
We therefore just released versions 2023.7.1, 2023.6.1, and 4.20.2 of pretix that fix this problem.
It is strongly recommended that you update your installation as soon as possible.

**This security issue only affects self-hosted versions of pretix. If you are a customer of our pretix Hosted service,
you are not affected.**

### #1: Incorrect configuration parsing leading to incorrect handling of HTTP headers [MEDIUM]

CVE ID: CVE-2023-44463

pretix is usually deployed behind a reverse proxy and can therefore handle the `X-Forwarded-For`, `X-Forwarded-Host`,
and `X-Forwarded-Proto` headers to get access to the original source IP address, host name and protocol used by the
client.

This behaviour is off by default and needs to be enabled in the `pretix.cfg` configuration file like this:

```
trust_x_forwarded_for=on
trust_x_forwarded_proto=on
trust_x_forwarded_host=on

```

However, there was a bug in parsing these configuration values and the headers have been trusted even if the settings
have been set to `off`. More specifically, as long as the configuration flags have been set, regardless of their value,
they have been considered `on`. The headers have only been ignored if the configuration flags have been missing entirely.

**Severity rating:** The security impact on a typical pretix installation is low since our installation guide recommends
setting the flags to `on` and recommends a safe reverse proxy config that controls these headers. A security problem
arises if (a) a reverse proxy config is used that allows the user to set these headers themselves and (b) the config flags
have been turned off explicitly. Additionally, the impact in this case is limited since pretix itself does not use
the host name or IP address for access control. The biggest impact within pretix is that some rate-limiting features are
based on IP addresses and could be circumvented. A higher impact would be possible if additional access control based on
host names is used in addition to pretix, or if a plugin relies on correct IP addresses for other reasons.
We therefore assess the severity of this issue as **medium**.

**Affected versions:** pretix versions 3.0.0 until 2023.7.0 are affected.

This issue has been found internally.

### Fixed versions

All pretix installations are affected. We just released updates for the last three stable versions on PyPI that fix the
problem. If you run a pretix installation older than 4.20, please upgrade to a recent version now.

* [2023.7.1](https://pypi.python.org/pypi/pretix/2023.7.1)
* [2023.6.1](https://pypi.python.org/pypi/pretix/2023.6.1)
* [4.20.2.post1](https://pypi.python.org/pypi/pretix/4.20.2.post1)

The new docker images will appear on Docker Hub over the next few hours.

We strongly recommend that you always run the latest version of pretix, as every release contains useful and
important bug fixes, even if they are not security related.

If you want to keep updated about bugfix and security releases, you should follow
[this blog](https://pretix.eu/about/en/blog/) closely. A [RSS feed](https://pretix.eu/about/en/blog/rss/) is available
and we also announce every blogpost [on Mastodon](https://pretix.social/%40pretix).

We take the security of our product very seriously and always go the extra mile to make sure you stay safe. As we are
humans, security issues unfortunately still might occur from time to time. We do everything we can to find and fix them
as timely as we can. If you notice any security problems or have any questions on this topic, please contact us **in
private** at security@pretix.eu. We will always treat your message with the appropriate
priority.

![](https://cdn.pretix.space/2/pub/blog/author-1-18862964-fbf9-48bb-97e2-d51c2b7c53a5.5f11216619f417.png)
#### Raphael Michel

Raphael is the founder and main developer of pretix. He is passionate about user-friendly, elegant
software, and when he's not busy building software for conference organizers, he enjoys co-organizing
con​fer​en​ces himself.

[Read more blog posts](/about/en/blog/)

Any questions?

support@pretix.eu

+49 6221 32177-50
Mo-Fr 09:00-17:00 Uhr

#### Legal

[Legal notice](/about/en/imprint)

[Pricing](/about/en/pricing)

[Terms of Service](/about/en/terms)

[Privacy](/about/en/privacy)

[Brand](/about/en/brand)

#### Product

[pretix](/about/en/features)

[pretixPOS](/about/en/pos)

[pretixSCAN](/about/en/scan)

[Hardware](/about/en/hardware)

[Resellers](/about/en/var)

[Plugin Marketplace](https://marketplace.pretix.eu/)

#### Company

[Jobs](/about/en/jobs)

[Mastodon](https://pretix.social/%40pretix)

[GitHub](https://github.com/pretix)

[LinkedIn](https://www.linkedin.com/company/pretix/)

[YouTube](https://www.youtube.com/channel/UCG1Og1YUpgIJD4geAZLAp5g)

[Instagram](https://www.instagram.com/pretix.eu/)

[Behind the scenes](https://behind.pretix.eu)

#### Technical

[System Status](https://pretixstatus.com/)

[REST API](https://docs.pretix.eu/en/latest/api/index.html)

[Documentation](https://docs.pretix.eu/)

[Security](/about/en/security)

#### Languages

[Deutsch](/about/de/)

#### A project by

[![](https://static.pretix.space/static/pretixeu/ramiio-purple.baf52d14b371.svg)](https://rami.io)

![](https://matomo.rami.io/piwik.php?idsite=6)

