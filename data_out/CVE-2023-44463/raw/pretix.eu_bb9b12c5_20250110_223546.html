<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <title>Security release 2023.7.1 of pretix – pretix – Reinventing ticket sales for conferences, festivals, exhibitions, ...</title>
    <link rel="alternate" type="application/rss+xml"  title="RSS Feed"
          href="/about/en/blog/rss/" />
    <link rel="alternate" type="application/atom+xml"  title="Atom Feed"
          href="/about/en/blog/atom/" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Security release 2023.7.1 of pretix" />
    <meta property="og:description" content="Today, we release pretix 2023.7.1 fixing one security-relevant bug.
Please make sure to update your pretix installation as soon as possible.
" />

    <meta name="keywords" content="pretix, event, conference, concert, festival, workshop, seminar, show, exhibition,
         tickets, sales, shop, ticket software, ticketing, shop software, ticket ecommerce, ticket web sale, ticket
         presale, multi language, ticket generation, incoicing, ticket invoice, quota management, ticket quota, tickets
         paypal, tickets stripe, attendee management, participant management">
    
    <script>document.documentElement.classList.add('script-available')</script>
    <link rel="stylesheet" href="https://static.pretix.space/static/CACHE/css/output.d64cdf65a10b.css" type="text/css">
    
        <link rel="icon" href="https://static.pretix.space/static/pretixbase/img/favicon.6b25f7f1a363.ico">
        <link rel="icon" type="image/png" sizes="32x32" href="https://static.pretix.space/static/pretixbase/img/icons/favicon-32x32.877667e39b7c.png">
        <link rel="icon" type="image/png" sizes="194x194" href="https://static.pretix.space/static/pretixbase/img/icons/favicon-194x194.4d77adfe376b.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://static.pretix.space/static/pretixbase/img/icons/favicon-16x16.ce949675f6e2.png">
    
    <link rel="shortcut icon" href="https://static.pretix.space/static/pretixbase/img/favicon.6b25f7f1a363.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="https://static.pretix.space/static/pretixbase/img/icons/apple-touch-icon.d9b24dbcc6f3.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://static.pretix.space/static/pretixbase/img/icons/android-chrome-192x192.868e8671fb6a.png">
    
    

    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="https://static.pretix.space/static/pretixbase/img/icons/safari-pinned-tab.2cac05100518.svg" color="#3b1c4a">
    <meta name="msapplication-TileColor" content="#3b1c4a">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="theme-color" content="#3b1c4a">
</head>
<body>
    
    
    
    <header class="subpage">
        <div class="container">
            <a href="/about/en/">
                <img src="https://static.pretix.space/static/pretixeu/img/logo_dark.560966f34ea6.svg" alt="pretix"/>
            </a>

            <div class="visible-xs sr-only pull-right nav-toggle">
                <a>
                    <span class="fa fa-navicon"></span>
                </a>
            </div>
            <nav>
                
<a class="navlink "
   href="/about/en/features/shop">Features</a>
<div class="navlink  has-dropdown">
    Products
    <div class="navlink-dropdown hidden-xs">
        <div class="navlink-dropdown-box">
            <div class="navlink-dropdown-content">
                <span class="navlink-dropdown-subheader">Core platform</span>
                <a class="navlink-dropdown-product" href="/about/en/ticketing">
                    <img src="https://static.pretix.space/static/pretixeu/img/icon.93c2cd74cbec.svg" aria-hidden="true" alt="">
                    <div>
                        <strong>pretix</strong>
                        Full-featured online ticket shop &amp; backend
                    </div>
                </a>
                <span class="navlink-dropdown-subheader">Exhibitor services</span>
                <a class="navlink-dropdown-product" href="/about/en/lead">
                    <img src="https://static.pretix.space/static/pretixeu/img/lead.e9addb0d3980.svg" aria-hidden="true" alt="">
                    <div>
                        <strong>pretixLEAD</strong>
                        Paperless networking for exhibitors
                    </div>
                </a>
                <span class="navlink-dropdown-subheader">Virtual & hybrid events</span>
                <a class="navlink-dropdown-product" href="https://venueless.org/en/?mtm_campaign=pretixeunav" target="_blank">
                    <img src="https://static.pretix.space/static/pretixeu/img/venueless.47f144577b1f.svg" aria-hidden="true" alt="">
                    <div>
                        <strong>Venueless <span class="fa fa-external-link"></span></strong>
                        Digital event platform
                    </div>
                </a>
            </div>
            <div class="navlink-dropdown-content">
                <span class="navlink-dropdown-subheader">On-site processes</span>
                <a class="navlink-dropdown-product" href="/about/en/pos">
                    <img src="https://static.pretix.space/static/pretixeu/img/pos.5499a6faf778.svg" aria-hidden="true" alt="">
                    <div>
                        <strong>pretixPOS</strong>
                        Cash register app
                    </div>
                </a>
                <a class="navlink-dropdown-product" href="/about/en/scan">
                    <img src="https://static.pretix.space/static/pretixeu/img/scan3.e5f0e83eb26d.svg" aria-hidden="true" alt="">
                    <div>
                        <strong>pretixSCAN</strong>
                        Access control &amp; live badge printing
                    </div>
                </a>
                <a class="navlink-dropdown-product" href="/about/en/kiosk">
                    <img src="https://static.pretix.space/static/pretixeu/img/kiosk.c4b9f12e436d.svg" aria-hidden="true" alt="">
                    <div>
                        <strong>pretixKIOSK</strong>
                        Ticket vending machine app
                    </div>
                </a>
                <a class="navlink-dropdown-product" href="/about/en/hardware">
                    <img src="https://static.pretix.space/static/pretixeu/img/hardware2.d9de679c5bc4.svg" aria-hidden="true" alt="">
                    <div>
                        <strong>Hardware</strong>
                        High-end event tech for rent
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
<a class="navlink "
        href="/about/en/pricing">Pricing</a>
<a class="navlink active"
        href="/about/en/blog/">News</a>
<a href="/control/login" class="btn btn-default">Sign in</a>

            </nav>

            <div class="clear: both"></div>
        </div>
    </header>
    
    <section>
        <div class="container blog">
            <article class="blog-detail">
                <h1>Security release 2023.7.1 of pretix</h1>
                <p class="meta">
                    Sept. 11, 2023
                </p>
                
                <div class="blog-body">
                    <p>Today, we've internally discovered a security issue inside pretix.
We therefore just released versions 2023.7.1, 2023.6.1, and 4.20.2 of pretix that fix this problem.
It is strongly recommended that you update your installation as soon as possible.</p>
<p><strong>This security issue only affects self-hosted versions of pretix. If you are a customer of our pretix Hosted service,
you are not affected.</strong></p>
<h3>#1: Incorrect configuration parsing leading to incorrect handling of HTTP headers [MEDIUM]</h3>
<p>CVE ID: CVE-2023-44463</p>
<p>pretix is usually deployed behind a reverse proxy and can therefore handle the <code>X-Forwarded-For</code>, <code>X-Forwarded-Host</code>,
and <code>X-Forwarded-Proto</code> headers to get access to the original source IP address, host name and protocol used by the
client.</p>
<p>This behaviour is off by default and needs to be enabled in the <code>pretix.cfg</code> configuration file like this:</p>
<pre><code>trust_x_forwarded_for=on
trust_x_forwarded_proto=on
trust_x_forwarded_host=on
</code></pre>
<p>However, there was a bug in parsing these configuration values and the headers have been trusted even if the settings
have been set to <code>off</code>. More specifically, as long as the configuration flags have been set, regardless of their value,
they have been considered <code>on</code>. The headers have only been ignored if the configuration flags have been missing entirely.</p>
<p><strong>Severity rating:</strong> The security impact on a typical pretix installation is low since our installation guide recommends
setting the flags to <code>on</code> and recommends a safe reverse proxy config that controls these headers. A security problem
arises if (a) a reverse proxy config is used that allows the user to set these headers themselves and (b) the config flags
have been turned off explicitly. Additionally, the impact in this case is limited since pretix itself does not use
the host name or IP address for access control. The biggest impact within pretix is that some rate-limiting features are
based on IP addresses and could be circumvented. A higher impact would be possible if additional access control based on
host names is used in addition to pretix, or if a plugin relies on correct IP addresses for other reasons.
We therefore assess the severity of this issue as <strong>medium</strong>.</p>
<p><strong>Affected versions:</strong> pretix versions 3.0.0 until 2023.7.0 are affected.</p>
<p>This issue has been found internally.</p>
<h3>Fixed versions</h3>
<p>All pretix installations are affected. We just released updates for the last three stable versions on PyPI that fix the
problem. If you run a pretix installation older than 4.20, please upgrade to a recent version now.</p>
<ul>
<li><a href="https://pypi.python.org/pypi/pretix/2023.7.1">2023.7.1</a></li>
<li><a href="https://pypi.python.org/pypi/pretix/2023.6.1">2023.6.1</a></li>
<li><a href="https://pypi.python.org/pypi/pretix/4.20.2.post1">4.20.2.post1</a></li>
</ul>
<p>The new docker images will appear on Docker Hub over the next few hours.</p>
<p>We strongly recommend that you always run the latest version of pretix, as every release contains useful and
important bug fixes, even if they are not security related.</p>
<p>If you want to keep updated about bugfix and security releases, you should follow
<a href="https://pretix.eu/about/en/blog/">this blog</a> closely. A <a href="https://pretix.eu/about/en/blog/rss/">RSS feed</a> is available
and we also announce every blogpost <a href="https://pretix.social/@pretix">on Mastodon</a>.</p>
<p>We take the security of our product very seriously and always go the extra mile to make sure you stay safe. As we are
humans, security issues unfortunately still might occur from time to time. We do everything we can to find and fix them
as timely as we can. If you notice any security problems or have any questions on this topic, please contact us <strong>in
private</strong> at <a href="mailto:security@pretix.eu">security@pretix.eu</a>. We will always treat your message with the appropriate
priority.</p>
                </div>
                
                    <div class="blog-author">
                        <img src="https://cdn.pretix.space/2/pub/blog/author-1-18862964-fbf9-48bb-97e2-d51c2b7c53a5.5f11216619f417.png" class="blog-author-pic">
                        <div class="blog-author-text">
                            <h4>Raphael Michel</h4>
                            <p class="hyphenate">
                                Raphael is the founder and main developer of pretix. He is passionate about user-friendly, elegant
software, and when he&#x27;s not busy building software for conference organizers, he enjoys co-organizing
con​fer​en​ces himself.
                            </p>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                
            </article>
            <p class="bigger text-center">
                <a href="/about/en/blog/">
                    Read more blog posts
                </a>
            </p>
        </div>
    </section>
    <section class="grey">
    <div class="container">
        <div class="cta-row">
            <div class="contact">
                Any questions?
            </div>
            <div class="contact">
                <a href="mailto:support@pretix.eu">
                    <span class="fa fa-envelope"></span> support@pretix.eu
                </a>
            </div>
            <div class="contact">
                <a href="tel:+4962213217750">
                    <span class="fa fa-phone"></span> +49 6221 32177-50
                </a>
                <small class="support-times" data-start="09:00:00" data-end="17:00:00">
                    Mo-Fr 09:00-17:00 Uhr
                </small>
            </div>
        </div>
    </div>
</section>



    

    
        


    

    <footer class="container">
        <div class="row">
            <div class="col-md-2 col-sm-6 text-left">
                <h4>Legal</h4>
                <a href="/about/en/imprint">Legal notice</a><br>
                <a href="/about/en/pricing">Pricing</a><br>
                <a href="/about/en/terms">Terms of Service</a><br>
                <a href="/about/en/privacy">Privacy</a><br>
                <a href="/about/en/brand">Brand</a>
            </div>
            <div class="col-md-2 col-sm-6 text-left">
                <h4>Product</h4>
                <a href="/about/en/features">pretix</a><br>
                <a href="/about/en/pos">pretixPOS</a><br>
                <a href="/about/en/scan">pretixSCAN</a><br>
                <a href="/about/en/hardware">Hardware</a><br>
                <a href="/about/en/var">Resellers</a><br>
                <a href="https://marketplace.pretix.eu/" target="_blank" rel="noopener">Plugin Marketplace</a>
            </div>
            <div class="col-md-2 col-sm-6 text-left">
                <h4>Company</h4>
                <a href="/about/en/jobs">Jobs</a><br>
                <a href="https://pretix.social/@pretix" target="_blank" rel="noopener">Mastodon</a><br>
                <a href="https://github.com/pretix" target="_blank" rel="noopener">GitHub</a><br>
                <a href="https://www.linkedin.com/company/pretix/" target="_blank" rel="noopener">LinkedIn</a><br>
                <a href="https://www.youtube.com/channel/UCG1Og1YUpgIJD4geAZLAp5g" target="_blank" rel="noopener">YouTube</a><br>
                <a href="https://www.instagram.com/pretix.eu/" target="_blank" rel="noopener">Instagram</a><br>
                <a href="https://behind.pretix.eu" target="_blank" rel="noopener">Behind the scenes</a>
            </div>
            <div class="col-md-2 col-sm-6 text-left">
                <h4>Technical</h4>
                <a href="https://pretixstatus.com/" target="_blank" rel="noopener">System Status</a><br>
                <a href="https://docs.pretix.eu/en/latest/api/index.html" target="_blank" rel="noopener">REST API</a><br>
                <a href="https://docs.pretix.eu/" target="_blank" rel="noopener">Documentation</a><br>
                <a href="/about/en/security">Security</a>
            </div>
            <div class="col-md-2 col-sm-6 text-left">
                <h4>Languages</h4>
                <a href="/about/de/">
                    Deutsch
                </a>
            </div>
            <div class="col-md-2 col-sm-6 text-right">
                <h4>A project by</h4>
                <a href="https://rami.io" target="_blank">
                    <img src="https://static.pretix.space/static/pretixeu/ramiio-purple.baf52d14b371.svg">
                </a>
            </div>
        </div>
    </footer>

    <script src="https://static.pretix.space/static/CACHE/js/output.3279eca59010.js"></script>
    <!-- Piwik -->
    <noscript><p><img src="https://matomo.rami.io/piwik.php?idsite=6" style="border:0;" alt=""/></p></noscript>
    <!-- End Piwik Code -->
    
    
</body>
</html>
