<html lang="en" op="item"><head><meta name="referrer" content="origin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="news.css?Brdi972UYWdRcVgheWmW">
        <link rel="icon" href="y18.svg">
    <link rel="canonical" href="https://news.ycombinator.com/item?id=40768225"/>            <title>Arbitrary shell command evaluation in Org Mode (GNU Emacs) | Hacker News</title></head><body><center><table id="hnmain" border="0" cellpadding="0" cellspacing="0" width="85%" bgcolor="#f6f6ef">
        <tr><td bgcolor="#ff6600"><table border="0" cellpadding="0" cellspacing="0" width="100%" style="padding:2px"><tr><td style="width:18px;padding-right:4px"><a href="https://news.ycombinator.com"><img src="y18.svg" width="18" height="18" style="border:1px white solid; display:block"></a></td>
                  <td style="line-height:12pt; height:10px;"><span class="pagetop"><b class="hnname"><a href="news">Hacker News</a></b>
                            <a href="newest">new</a> | <a href="front">past</a> | <a href="newcomments">comments</a> | <a href="ask">ask</a> | <a href="show">show</a> | <a href="jobs">jobs</a> | <a href="submit" rel="nofollow">submit</a>            </span></td><td style="text-align:right;padding-right:4px;"><span class="pagetop">
                              <a href="login?goto=item%3Fid%3D40768225">login</a>
                          </span></td>
              </tr></table></td></tr>
<tr id="pagespace" title="Arbitrary shell command evaluation in Org Mode (GNU Emacs)" style="height:10px"></tr><tr><td><table class="fatitem" border="0">
        <tr class='athing submission' id='40768225'>
      <td align="right" valign="top" class="title"><span class="rank"></span></td>      <td valign="top" class="votelinks"><center><a id='up_40768225' href='vote?id=40768225&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://seclists.org/oss-sec/2024/q2/296">Arbitrary shell command evaluation in Org Mode (GNU Emacs)</a><span class="sitebit comhead"> (<a href="from?site=seclists.org"><span class="sitestr">seclists.org</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_40768225">119 points</span> by <a href="user?id=todsacerdoti" class="hnuser">todsacerdoti</a> <span class="age" title="2024-06-23T15:38:19 1719157099"><a href="item?id=40768225">6 months ago</a></span> <span id="unv_40768225"></span> | <a href="hide?id=40768225&amp;goto=item%3Fid%3D40768225">hide</a> | <a href="https://hn.algolia.com/?query=Arbitrary%20shell%20command%20evaluation%20in%20Org%20Mode%20%28GNU%20Emacs%29&type=story&dateRange=all&sort=byDate&storyText=false&prefix&page=0" class="hnpast">past</a> | <a href="fave?id=40768225&amp;auth=5340fbcf10134748edd041551d9ac0a89b7160df">favorite</a> | <a href="item?id=40768225">26&nbsp;comments</a>        </span>
              </td></tr>
        </table><br><br><table border="0" class='comment-tree'>
            <tr class='athing comtr' id='40769363'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_40769363' href='vote?id=40769363&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=metroholografix" class="hnuser">metroholografix</a> <span class="age" title="2024-06-23T18:12:04 1719166324"><a href="item?id=40769363">6 months ago</a></span> <span id="unv_40769363"></span>          <span class='navs'>
             | <a href="#40769998" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769363" n="6" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">What&#x27;s of greater importance here is not this specific security issue, but the default configuration of MIME handling in Emacs which can turn any unexpected evaluation bug -which we are likely to see more of- into remote code execution. We&#x27;ve had a previous Org security issue in exactly the same vein [1] and the Emacs MIME defaults are still unsafe. Of course, one can change them (non-trivial and related documentation is extremely confusing, see [2] for a possible solution) but really Emacs should not come with these defaults.<p>The loss of on-by-default functionality such as Org fontification in email message buffers is in no way as important as being wide open to trivial remote code execution.<p>[1] <a href="https:&#x2F;&#x2F;github.com&#x2F;emacs-mirror&#x2F;emacs&#x2F;commit&#x2F;befa9fcaae29a6c9a283ba371c3c5234c7f644eb">https:&#x2F;&#x2F;github.com&#x2F;emacs-mirror&#x2F;emacs&#x2F;commit&#x2F;befa9fcaae29a6c...</a><p>[2] <a href="https:&#x2F;&#x2F;xristos.sdf.org&#x2F;fix-gnus-mime.el.txt" rel="nofollow">https:&#x2F;&#x2F;xristos.sdf.org&#x2F;fix-gnus-mime.el.txt</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40769983'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_40769983' href='vote?id=40769983&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=hsbauauvhabzb" class="hnuser">hsbauauvhabzb</a> <span class="age" title="2024-06-23T19:35:30 1719171330"><a href="item?id=40769983">6 months ago</a></span> <span id="unv_40769983"></span>          <span class='navs'>
             | <a href="#40769363" class="clicky" aria-hidden="true">parent</a> | <a href="#40769998" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769983" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I don’t fully understand lisp nor emacs internals. Do you anticipate similar bugs would exist across different major and minor modes, or emacs by default?<p>E.g., is markdown-mode or python-mode likely to have similar bugs? What about web browser modes, or chat modes, etc?<p>I genuinely like emacs but I’m worried for a future where my client cannot be trusted to not evaluate random data it has in files.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40770476'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_40770476' href='vote?id=40770476&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=metroholografix" class="hnuser">metroholografix</a> <span class="age" title="2024-06-23T20:47:35 1719175655"><a href="item?id=40770476">6 months ago</a></span> <span id="unv_40770476"></span>          <span class='navs'>
             | <a href="#40769363" class="clicky" aria-hidden="true">root</a> | <a href="#40769983" class="clicky" aria-hidden="true">parent</a> | <a href="#40769998" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40770476" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">These bugs can be described as the major or minor mode evaluating code that is provided as part of the buffer that the mode is being enabled for. The two semi-recent examples that come to mind include Org (which offers this code evaluation as a feature) and text&#x2F;enriched (which allowed arbitrary Lisp evaluation through a non-standard extension). In both of these cases, the evaluation was -somewhat- intended and even documented, so these are not bugs in the traditional definition. They become security bugs when one takes into account the exposed attack surface &#x2F; dynamic interaction with parts of Emacs automatically switching on the mode (e.g. through an email in Gnus) on 3rd party untrusted input.<p>I don&#x27;t expect to see code evaluation on untrusted input as intended features in web browser or chat modes.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40773161'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_40773161' href='vote?id=40773161&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=a1369209993" class="hnuser">a1369209993</a> <span class="age" title="2024-06-24T06:54:29 1719212069"><a href="item?id=40773161">6 months ago</a></span> <span id="unv_40773161"></span>          <span class='navs'>
             | <a href="#40769363" class="clicky" aria-hidden="true">root</a> | <a href="#40770476" class="clicky" aria-hidden="true">parent</a> | <a href="#40769998" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40773161" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">&gt; I don&#x27;t expect to see code evaluation on untrusted input as intended features in web browser<p>I&#x27;m not sure whether to laugh or cry at that. Suffice to say that ship has sailed all the way around the world several times, to the great detriment of everyone who isn&#x27;t a advertising or other malware-development corporation.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40775649'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_40775649' href='vote?id=40775649&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=metroholografix" class="hnuser">metroholografix</a> <span class="age" title="2024-06-24T13:15:23 1719234923"><a href="item?id=40775649">6 months ago</a></span> <span id="unv_40775649"></span>          <span class='navs'>
             | <a href="#40769363" class="clicky" aria-hidden="true">root</a> | <a href="#40773161" class="clicky" aria-hidden="true">parent</a> | <a href="#40769998" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40775649" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">There&#x27;s no JS interpreter in EWW [1]. If you&#x27;re forced to use a different browser, having JS off by default is not hard to get used to.<p>[1] <a href="https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;emacs&#x2F;manual&#x2F;html_node&#x2F;eww&#x2F;Overview.html" rel="nofollow">https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;emacs&#x2F;manual&#x2F;html_node&#x2F;eww&#x2F;Over...</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40786108'><td><table border='0'>  <tr>    <td class='ind' indent='5'><img src="s.gif" height="1" width="200"></td><td valign="top" class="votelinks">
      <center><a id='up_40786108' href='vote?id=40786108&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=kreyenborgi" class="hnuser">kreyenborgi</a> <span class="age" title="2024-06-25T08:56:32 1719305792"><a href="item?id=40786108">6 months ago</a></span> <span id="unv_40786108"></span>          <span class='navs'>
             | <a href="#40769363" class="clicky" aria-hidden="true">root</a> | <a href="#40775649" class="clicky" aria-hidden="true">parent</a> | <a href="#40769998" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40786108" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">But surely someone out there will make a code highlighter for EWW, and maybe that highlighter calls org-mode on some block and that ends up evaluating stuff etc.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                                          <tr class='athing comtr' id='40769998'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_40769998' href='vote?id=40769998&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=bloopernova" class="hnuser">bloopernova</a> <span class="age" title="2024-06-23T19:37:21 1719171441"><a href="item?id=40769998">6 months ago</a></span> <span id="unv_40769998"></span>          <span class='navs'>
             | <a href="#40769363" class="clicky" aria-hidden="true">prev</a> | <a href="#40769238" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769998" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">The vulnerability is that Emacs evaluates this automatically:<p>#+LINK: shell %(shell-command-to-string)
[[shell:touch ~&#x2F;hacked.txt]]</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40774576'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_40774576' href='vote?id=40774576&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=wiredfool" class="hnuser">wiredfool</a> <span class="age" title="2024-06-24T11:07:09 1719227229"><a href="item?id=40774576">6 months ago</a></span> <span id="unv_40774576"></span>          <span class='navs'>
             | <a href="#40769998" class="clicky" aria-hidden="true">parent</a> | <a href="#40769238" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40774576" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Is that only if the file has a specific extension?  I&#x27;m not seeing it with a .txt extension.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40777703'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_40777703' href='vote?id=40777703&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=accoil" class="hnuser">accoil</a> <span class="age" title="2024-06-24T16:02:38 1719244958"><a href="item?id=40777703">6 months ago</a></span> <span id="unv_40777703"></span>          <span class='navs'>
             | <a href="#40769998" class="clicky" aria-hidden="true">root</a> | <a href="#40774576" class="clicky" aria-hidden="true">parent</a> | <a href="#40769238" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40777703" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">You need to have OrgMode active, which is usually not enabled for .txt. Try .org as the extension, or run `M-x org-mode` after opening the file.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                        <tr class='athing comtr' id='40769238'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_40769238' href='vote?id=40769238&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ww520" class="hnuser">ww520</a> <span class="age" title="2024-06-23T17:56:46 1719165406"><a href="item?id=40769238">6 months ago</a></span> <span id="unv_40769238"></span>          <span class='navs'>
             | <a href="#40769998" class="clicky" aria-hidden="true">prev</a> | <a href="#40772221" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769238" n="15" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I thought it’s feature. Org mode file can be used as a runable document. You have paragraphs of text and then a section containing executable code.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40769332'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_40769332' href='vote?id=40769332&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=livrem" class="hnuser">livrem</a> <span class="age" title="2024-06-23T18:07:29 1719166049"><a href="item?id=40769332">6 months ago</a></span> <span id="unv_40769332"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">parent</a> | <a href="#40769318" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769332" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Yes, but that is not what the linked vulnerability is about.<p><a href="https:&#x2F;&#x2F;orgmode.org&#x2F;worg&#x2F;org-contrib&#x2F;babel&#x2F;intro.html" rel="nofollow">https:&#x2F;&#x2F;orgmode.org&#x2F;worg&#x2F;org-contrib&#x2F;babel&#x2F;intro.html</a></div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='40769318'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_40769318' href='vote?id=40769318&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=tsujamin" class="hnuser">tsujamin</a> <span class="age" title="2024-06-23T18:06:01 1719165961"><a href="item?id=40769318">6 months ago</a></span> <span id="unv_40769318"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">parent</a> | <a href="#40769332" class="clicky" aria-hidden="true">prev</a> | <a href="#40769340" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769318" n="4" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">It is, similarly to how Microsoft Office documents can run legitimate&#x2F;malicious executable code.<p>Although, Office (and most other software) will at least warn you before executing code&#x2F;malware in such documents originating from the Internet.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40769853'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_40769853' href='vote?id=40769853&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=smitty1e" class="hnuser">smitty1e</a> <span class="age" title="2024-06-23T19:18:12 1719170292"><a href="item?id=40769853">6 months ago</a></span> <span id="unv_40769853"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">root</a> | <a href="#40769318" class="clicky" aria-hidden="true">parent</a> | <a href="#40769340" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769853" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Most recent Office configurations don&#x27;t trust any downloaded documents, and most recent email configurations have forced me to send code snippets as .txt or some denuded variation.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40771639'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_40771639' href='vote?id=40771639&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=hobs" class="hnuser">hobs</a> <span class="age" title="2024-06-23T23:59:49 1719187189"><a href="item?id=40771639">6 months ago</a></span> <span id="unv_40771639"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">root</a> | <a href="#40769853" class="clicky" aria-hidden="true">parent</a> | <a href="#40769340" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40771639" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Code snippets as text is denuded but word documents are good for code... what universe is this?</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40772306'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_40772306' href='vote?id=40772306&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=smitty1e" class="hnuser">smitty1e</a> <span class="age" title="2024-06-24T02:41:58 1719196918"><a href="item?id=40772306">6 months ago</a></span> <span id="unv_40772306"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">root</a> | <a href="#40771639" class="clicky" aria-hidden="true">parent</a> | <a href="#40769340" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40772306" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Word vs. Outlook</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                              <tr class='athing comtr' id='40769340'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_40769340' href='vote?id=40769340&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=metroholografix" class="hnuser">metroholografix</a> <span class="age" title="2024-06-23T18:08:15 1719166095"><a href="item?id=40769340">6 months ago</a></span> <span id="unv_40769340"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">parent</a> | <a href="#40769318" class="clicky" aria-hidden="true">prev</a> | <a href="#40769319" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769340" n="8" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Unexpected evaluation is never a feature, Emacs should at least warn and prompt before executing code in a file that somebody opens.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40769857'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_40769857' href='vote?id=40769857&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=bachmeier" class="hnuser">bachmeier</a> <span class="age" title="2024-06-23T19:18:32 1719170312"><a href="item?id=40769857">6 months ago</a></span> <span id="unv_40769857"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">root</a> | <a href="#40769340" class="clicky" aria-hidden="true">parent</a> | <a href="#40769454" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769857" n="5" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">But expected evaluation is a feature, and not everyone wants to inject a permissions system that gets in the way every time you open a document. Not everything is a web browser that needs to run arbitrary code from arbitrarily bad actors.<p>A warning and a prompt would largely be useless in this case anyway. As soon as you&#x27;d click the prompt, the evil code would run. What you&#x27;d need is an option set in your init file to allow code to execute on opening only if a particular piece of information known only to you is included in the file, like #+runcode: a19ihlkn01nf2n9882n4337974biskjf</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40771948'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_40771948' href='vote?id=40771948&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=cobbal" class="hnuser">cobbal</a> <span class="age" title="2024-06-24T01:08:21 1719191301"><a href="item?id=40771948">6 months ago</a></span> <span id="unv_40771948"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">root</a> | <a href="#40769857" class="clicky" aria-hidden="true">parent</a> | <a href="#40771861" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40771948" n="3" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Emacs already restricts what variables can be set as file-local. It will prompt you to ask what to do if you open a file containing:<p><pre><code>  ;; -*- eval: (message &quot;arbitrary code&quot;) -*-
</code></pre>
any mode associated with a file extension should be at least as secure against code execution.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40772301'><td><table border='0'>  <tr>    <td class='ind' indent='4'><img src="s.gif" height="1" width="160"></td><td valign="top" class="votelinks">
      <center><a id='up_40772301' href='vote?id=40772301&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=bachmeier" class="hnuser">bachmeier</a> <span class="age" title="2024-06-24T02:40:11 1719196811"><a href="item?id=40772301">6 months ago</a></span> <span id="unv_40772301"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">root</a> | <a href="#40771948" class="clicky" aria-hidden="true">parent</a> | <a href="#40771861" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40772301" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Sure, I agree with that behavior <i>assuming the user wants the security</i>. If the user wants to disable it, they should be able to do so. It&#x27;s awful to assume users can&#x27;t make the decision for themselves.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40772371'><td><table border='0'>  <tr>    <td class='ind' indent='5'><img src="s.gif" height="1" width="200"></td><td valign="top" class="votelinks">
      <center><a id='up_40772371' href='vote?id=40772371&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=pama" class="hnuser">pama</a> <span class="age" title="2024-06-24T02:59:42 1719197982"><a href="item?id=40772371">6 months ago</a></span> <span id="unv_40772371"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">root</a> | <a href="#40772301" class="clicky" aria-hidden="true">parent</a> | <a href="#40771861" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40772371" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">To be clear, this bug is about arbitrary code execution on another machine as soon as a user on that machine opens an email with Emacs that has a malicious org atrachment. It is not about the user opening one of their own files and the user has no chance to preview the code before executing it. So it is a perfect remote takeover of any machine that happens to use a default Emacs for email.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                        <tr class='athing comtr' id='40771861'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_40771861' href='vote?id=40771861&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=jlg23" class="hnuser">jlg23</a> <span class="age" title="2024-06-24T00:49:35 1719190175"><a href="item?id=40771861">6 months ago</a></span> <span id="unv_40771861"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">root</a> | <a href="#40769857" class="clicky" aria-hidden="true">parent</a> | <a href="#40771948" class="clicky" aria-hidden="true">prev</a> | <a href="#40769454" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40771861" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">Codewise I&#x27;d prefer a signaled error in elisp and something like your proposed magic&#x2F;back-door as a handler you&#x27;d have to set up in user(-config) space.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='40769454'><td><table border='0'>  <tr>    <td class='ind' indent='2'><img src="s.gif" height="1" width="80"></td><td valign="top" class="votelinks">
      <center><a id='up_40769454' href='vote?id=40769454&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ykonstant" class="hnuser">ykonstant</a> <span class="age" title="2024-06-23T18:26:39 1719167199"><a href="item?id=40769454">6 months ago</a></span> <span id="unv_40769454"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">root</a> | <a href="#40769340" class="clicky" aria-hidden="true">parent</a> | <a href="#40769857" class="clicky" aria-hidden="true">prev</a> | <a href="#40769319" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769454" n="2" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">I am on the camp that agrees with that, but there are many who don&#x27;t :&#x2F;</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                <tr class='athing comtr' id='40769932'><td><table border='0'>  <tr>    <td class='ind' indent='3'><img src="s.gif" height="1" width="120"></td><td valign="top" class="votelinks">
      <center><a id='up_40769932' href='vote?id=40769932&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=nequo" class="hnuser">nequo</a> <span class="age" title="2024-06-23T19:27:45 1719170865"><a href="item?id=40769932">6 months ago</a></span> <span id="unv_40769932"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">root</a> | <a href="#40769454" class="clicky" aria-hidden="true">parent</a> | <a href="#40769319" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769932" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">As far as I can tell, Emacs prompts you every time it evaluates code when opening a file, and so does Org Babel. This can be turned off but you need to do it explicitly.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                        <tr class='athing comtr' id='40769319'><td><table border='0'>  <tr>    <td class='ind' indent='1'><img src="s.gif" height="1" width="40"></td><td valign="top" class="votelinks">
      <center><a id='up_40769319' href='vote?id=40769319&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=exe34" class="hnuser">exe34</a> <span class="age" title="2024-06-23T18:06:02 1719165962"><a href="item?id=40769319">6 months ago</a></span> <span id="unv_40769319"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">parent</a> | <a href="#40769340" class="clicky" aria-hidden="true">prev</a> | <a href="#40772221" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40769319" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c00">might be good if it&#x27;s not &quot;auto run&quot;, but otherwise running code inside org-mode is definitely part of the appeal.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
                  <tr class='athing comtr' id='40772221'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_40772221' href='vote?id=40772221&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=SEJeff" class="hnuser">SEJeff</a> <span class="age" title="2024-06-24T02:20:04 1719195604"><a href="item?id=40772221">6 months ago</a></span> <span id="unv_40772221"></span>          <span class='navs'>
             | <a href="#40769238" class="clicky" aria-hidden="true">prev</a> | <a href="#40773680" class="clicky" aria-hidden="true">next</a> <a class="togg clicky" id="40772221" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c9C">Clearly, if you care about security here, the best thing is to just use vim.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            <tr class='athing comtr' id='40773680'><td><table border='0'>  <tr>    <td class='ind' indent='0'><img src="s.gif" height="1" width="0"></td><td valign="top" class="votelinks">
      <center><a id='up_40773680' href='vote?id=40773680&amp;how=up&amp;goto=item%3Fid%3D40768225'><div class='votearrow' title='upvote'></div></a></center>    </td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <a href="user?id=ungamedplayer" class="hnuser">ungamedplayer</a> <span class="age" title="2024-06-24T08:33:37 1719218017"><a href="item?id=40773680">6 months ago</a></span> <span id="unv_40773680"></span>          <span class='navs'>
             | <a href="#40772221" class="clicky" aria-hidden="true">prev</a> <a class="togg clicky" id="40773680" n="1" href="javascript:void(0)">[–]</a><span class="onstory"></span>          </span>
                  </span></div><br><div class="comment">
                  <div class="commtext c73"><a href="https:&#x2F;&#x2F;orgmode.org&#x2F;manual&#x2F;Code-Evaluation-Security.html" rel="nofollow">https:&#x2F;&#x2F;orgmode.org&#x2F;manual&#x2F;Code-Evaluation-Security.html</a><p>Following ‘shell’ and ‘elisp’ links
Org has two link types that can directly evaluate code (see External Links). Because such code is not visible, these links have a potential risk. Org therefore prompts the user when it encounters such links. The customization variables are:<p>User Option: org-link-shell-confirm-function
Function that prompts the user before executing a shell link.<p>User Option: org-link-elisp-confirm-function
Function that prompts the user before executing an Emacs Lisp link.<p>Non issue. Rtfm.</div>
              <div class='reply'>        <p><font size="1">
                  </font>
      </div></div></td></tr>
        </table></td></tr>
            </table>
  <br><br>
</td></tr>
<tr><td><img src="s.gif" height="10" width="0"><table width="100%" cellspacing="0" cellpadding="1"><tr><td bgcolor="#ff6600"></td></tr></table><br>
<center><span class="yclinks"><a href="newsguidelines.html">Guidelines</a> | <a href="newsfaq.html">FAQ</a> | <a href="lists">Lists</a> | <a href="https://github.com/HackerNews/API">API</a> | <a href="security.html">Security</a> | <a href="https://www.ycombinator.com/legal/">Legal</a> | <a href="https://www.ycombinator.com/apply/">Apply to YC</a> | <a href="mailto:hn@ycombinator.com">Contact</a></span><br><br>
<form method="get" action="//hn.algolia.com/">Search: <input type="text" name="q" size="17" autocorrect="off" spellcheck="false" autocapitalize="off" autocomplete="off"></form></center></td></tr>      </table></center></body>
      <script type='text/javascript' src='hn.js?Brdi972UYWdRcVgheWmW'></script>
  </html>
