

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3109305)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3109304 "Changeset 3109304")
* [Next Changeset](/changeset/3109306 "Changeset 3109306") →

---

# Changeset 3109305

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
06/28/2024 02:34:46 PM
([7 months](/timeline?from=2024-06-28T14%3A34%3A46Z&precision=second "See timeline at 06/28/2024 02:34:46 PM") ago)

Author:
instawp
Message:

Update to version 0.1.0.44 from GitHub

Location:
[instawp-connect](/browser/instawp-connect?rev=3109305)
Files:

2 added
70 edited
1 copied

* [tags/0.1.0.44](/browser/instawp-connect/tags/0.1.0.44?rev=3109305 "Show entry in browser")
  (copied)
  *(copied from [instawp-connect/trunk](/browser/instawp-connect/trunk?rev=3108725 "Show original file (revision 3109304)"))*
* [tags/0.1.0.44/includes/apis/class-instawp-rest-api-migration.php](/browser/instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api-migration.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [tags/0.1.0.44/includes/apis/class-instawp-rest-api.php](/browser/instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api.php?rev=3109305 "Show entry in browser")
  (modified)
  ([3 diffs](#file2 "Show differences"))
* [tags/0.1.0.44/includes/class-instawp-ajax.php](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-ajax.php?rev=3109305 "Show entry in browser")
  (modified)
  ([4 diffs](#file3 "Show differences"))
* [tags/0.1.0.44/includes/class-instawp-cli.php](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-cli.php?rev=3109305 "Show entry in browser")
  (modified)
  ([4 diffs](#file4 "Show differences"))
* [tags/0.1.0.44/includes/class-instawp-heartbeat.php](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-heartbeat.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [tags/0.1.0.44/includes/class-instawp-hooks.php](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305 "Show entry in browser")
  (modified)
  ([10 diffs](#file6 "Show differences"))
* [tags/0.1.0.44/includes/class-instawp-setting.php](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-setting.php?rev=3109305 "Show entry in browser")
  (modified)
  ([3 diffs](#file7 "Show differences"))
* [tags/0.1.0.44/includes/class-instawp-tools.php](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-tools.php?rev=3109305 "Show entry in browser")
  (modified)
  ([5 diffs](#file8 "Show differences"))
* [tags/0.1.0.44/includes/class-instawp.php](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file9 "Show differences"))
* [tags/0.1.0.44/includes/functions.php](/browser/instawp-connect/tags/0.1.0.44/includes/functions.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file10 "Show differences"))
* [tags/0.1.0.44/includes/sync/class-instawp-sync-ajax.php](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-ajax.php?rev=3109305 "Show entry in browser")
  (modified)
  ([4 diffs](#file11 "Show differences"))
* [tags/0.1.0.44/includes/sync/class-instawp-sync-apis.php](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-apis.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file12 "Show differences"))
* [tags/0.1.0.44/includes/sync/class-instawp-sync-db.php](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-db.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file13 "Show differences"))
* [tags/0.1.0.44/includes/sync/class-instawp-sync-helpers.php](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-helpers.php?rev=3109305 "Show entry in browser")
  (modified)
  ([4 diffs](#file14 "Show differences"))
* [tags/0.1.0.44/includes/sync/class-instawp-sync-post.php](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-post.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file15 "Show differences"))
* [tags/0.1.0.44/instawp-connect.php](/browser/instawp-connect/tags/0.1.0.44/instawp-connect.php?rev=3109305 "Show entry in browser")
  (modified)
  ([6 diffs](#file16 "Show differences"))
* [tags/0.1.0.44/languages/instawp-connect.pot](/browser/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot?rev=3109305 "Show entry in browser")
  (modified)
  ([9 diffs](#file17 "Show differences"))
* [tags/0.1.0.44/migrate/class-instawp-migrate.php](/browser/instawp-connect/tags/0.1.0.44/migrate/class-instawp-migrate.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))
* [tags/0.1.0.44/migrate/templates/main.php](/browser/instawp-connect/tags/0.1.0.44/migrate/templates/main.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file19 "Show differences"))
* [tags/0.1.0.44/migrate/templates/navbar.php](/browser/instawp-connect/tags/0.1.0.44/migrate/templates/navbar.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file20 "Show differences"))
* [tags/0.1.0.44/migrate/templates/part-settings.php](/browser/instawp-connect/tags/0.1.0.44/migrate/templates/part-settings.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file21 "Show differences"))
* [tags/0.1.0.44/readme.txt](/browser/instawp-connect/tags/0.1.0.44/readme.txt?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file22 "Show differences"))
* [tags/0.1.0.44/vendor/autoload.php](/browser/instawp-connect/tags/0.1.0.44/vendor/autoload.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file23 "Show differences"))
* [tags/0.1.0.44/vendor/composer/ClassLoader.php](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305 "Show entry in browser")
  (modified)
  ([25 diffs](#file24 "Show differences"))
* [tags/0.1.0.44/vendor/composer/InstalledVersions.php](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305 "Show entry in browser")
  (modified)
  ([10 diffs](#file25 "Show differences"))
* [tags/0.1.0.44/vendor/composer/autoload\_classmap.php](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_classmap.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file26 "Show differences"))
* [tags/0.1.0.44/vendor/composer/autoload\_files.php](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_files.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file27 "Show differences"))
* [tags/0.1.0.44/vendor/composer/autoload\_namespaces.php](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_namespaces.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file28 "Show differences"))
* [tags/0.1.0.44/vendor/composer/autoload\_psr4.php](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_psr4.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file29 "Show differences"))
* [tags/0.1.0.44/vendor/composer/autoload\_real.php](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_real.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file30 "Show differences"))
* [tags/0.1.0.44/vendor/composer/installed.json](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.json?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file31 "Show differences"))
* [tags/0.1.0.44/vendor/composer/installed.php](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php?rev=3109305 "Show entry in browser")
  (modified)
  ([9 diffs](#file32 "Show differences"))
* [tags/0.1.0.44/vendor/instawp/connect-helpers/src/Cache.php](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Cache.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file33 "Show differences"))
* [tags/0.1.0.44/vendor/instawp/connect-helpers/src/Curl.php](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Curl.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file34 "Show differences"))
* [tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305 "Show entry in browser")
  (modified)
  ([7 diffs](#file35 "Show differences"))
* [tags/0.1.0.44/vendor/phpseclib/phpseclib/phpseclib/Exception/InvalidPacketLengthException.php](/browser/instawp-connect/tags/0.1.0.44/vendor/phpseclib/phpseclib/phpseclib/Exception/InvalidPacketLengthException.php?rev=3109305 "Show entry in browser")
  (added)
* [trunk/includes/apis/class-instawp-rest-api-migration.php](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api-migration.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file37 "Show differences"))
* [trunk/includes/apis/class-instawp-rest-api.php](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php?rev=3109305 "Show entry in browser")
  (modified)
  ([3 diffs](#file38 "Show differences"))
* [trunk/includes/class-instawp-ajax.php](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3109305 "Show entry in browser")
  (modified)
  ([4 diffs](#file39 "Show differences"))
* [trunk/includes/class-instawp-cli.php](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3109305 "Show entry in browser")
  (modified)
  ([4 diffs](#file40 "Show differences"))
* [trunk/includes/class-instawp-heartbeat.php](/browser/instawp-connect/trunk/includes/class-instawp-heartbeat.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file41 "Show differences"))
* [trunk/includes/class-instawp-hooks.php](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305 "Show entry in browser")
  (modified)
  ([10 diffs](#file42 "Show differences"))
* [trunk/includes/class-instawp-setting.php](/browser/instawp-connect/trunk/includes/class-instawp-setting.php?rev=3109305 "Show entry in browser")
  (modified)
  ([3 diffs](#file43 "Show differences"))
* [trunk/includes/class-instawp-tools.php](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3109305 "Show entry in browser")
  (modified)
  ([5 diffs](#file44 "Show differences"))
* [trunk/includes/class-instawp.php](/browser/instawp-connect/trunk/includes/class-instawp.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file45 "Show differences"))
* [trunk/includes/functions.php](/browser/instawp-connect/trunk/includes/functions.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file46 "Show differences"))
* [trunk/includes/sync/class-instawp-sync-ajax.php](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3109305 "Show entry in browser")
  (modified)
  ([4 diffs](#file47 "Show differences"))
* [trunk/includes/sync/class-instawp-sync-apis.php](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-apis.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file48 "Show differences"))
* [trunk/includes/sync/class-instawp-sync-db.php](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-db.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file49 "Show differences"))
* [trunk/includes/sync/class-instawp-sync-helpers.php](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3109305 "Show entry in browser")
  (modified)
  ([4 diffs](#file50 "Show differences"))
* [trunk/includes/sync/class-instawp-sync-post.php](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-post.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file51 "Show differences"))
* [trunk/instawp-connect.php](/browser/instawp-connect/trunk/instawp-connect.php?rev=3109305 "Show entry in browser")
  (modified)
  ([6 diffs](#file52 "Show differences"))
* [trunk/languages/instawp-connect.pot](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3109305 "Show entry in browser")
  (modified)
  ([9 diffs](#file53 "Show differences"))
* [trunk/migrate/class-instawp-migrate.php](/browser/instawp-connect/trunk/migrate/class-instawp-migrate.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file54 "Show differences"))
* [trunk/migrate/templates/main.php](/browser/instawp-connect/trunk/migrate/templates/main.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file55 "Show differences"))
* [trunk/migrate/templates/navbar.php](/browser/instawp-connect/trunk/migrate/templates/navbar.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file56 "Show differences"))
* [trunk/migrate/templates/part-settings.php](/browser/instawp-connect/trunk/migrate/templates/part-settings.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file57 "Show differences"))
* [trunk/readme.txt](/browser/instawp-connect/trunk/readme.txt?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file58 "Show differences"))
* [trunk/vendor/autoload.php](/browser/instawp-connect/trunk/vendor/autoload.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file59 "Show differences"))
* [trunk/vendor/composer/ClassLoader.php](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305 "Show entry in browser")
  (modified)
  ([25 diffs](#file60 "Show differences"))
* [trunk/vendor/composer/InstalledVersions.php](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305 "Show entry in browser")
  (modified)
  ([10 diffs](#file61 "Show differences"))
* [trunk/vendor/composer/autoload\_classmap.php](/browser/instawp-connect/trunk/vendor/composer/autoload_classmap.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file62 "Show differences"))
* [trunk/vendor/composer/autoload\_files.php](/browser/instawp-connect/trunk/vendor/composer/autoload_files.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file63 "Show differences"))
* [trunk/vendor/composer/autoload\_namespaces.php](/browser/instawp-connect/trunk/vendor/composer/autoload_namespaces.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file64 "Show differences"))
* [trunk/vendor/composer/autoload\_psr4.php](/browser/instawp-connect/trunk/vendor/composer/autoload_psr4.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file65 "Show differences"))
* [trunk/vendor/composer/autoload\_real.php](/browser/instawp-connect/trunk/vendor/composer/autoload_real.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file66 "Show differences"))
* [trunk/vendor/composer/installed.json](/browser/instawp-connect/trunk/vendor/composer/installed.json?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file67 "Show differences"))
* [trunk/vendor/composer/installed.php](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3109305 "Show entry in browser")
  (modified)
  ([9 diffs](#file68 "Show differences"))
* [trunk/vendor/instawp/connect-helpers/src/Cache.php](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Cache.php?rev=3109305 "Show entry in browser")
  (modified)
  ([1 diff](#file69 "Show differences"))
* [trunk/vendor/instawp/connect-helpers/src/Curl.php](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Curl.php?rev=3109305 "Show entry in browser")
  (modified)
  ([2 diffs](#file70 "Show differences"))
* [trunk/vendor/instawp/connect-helpers/src/Helper.php](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305 "Show entry in browser")
  (modified)
  ([7 diffs](#file71 "Show differences"))
* [trunk/vendor/phpseclib/phpseclib/phpseclib/Exception/InvalidPacketLengthException.php](/browser/instawp-connect/trunk/vendor/phpseclib/phpseclib/phpseclib/Exception/InvalidPacketLengthException.php?rev=3109305 "Show entry in browser")
  (added)

### Legend:

Unmodified
Added
Removed

* ## [instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api-migration.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api-migration.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api-migration.php")

  | [r3097284](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api-migration.php?rev=3097284#L2 "Show revision 3097284 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api-migration.php?rev=3109305#L2 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 |  |
  | 3 | 3 | use InstaWP\Connect\Helpers; |
  |  | 4 | use InstaWP\Connect\Helpers\Helper; |
  | 4 | 5 | use InstaWP\Connect\Helpers\Option; |
  | 5 | 6 |  |
  | […](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api-migration.php?rev=3097284#L105) | […](/browser/instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api-migration.php?rev=3109305#L106) |  |
  | 105 | 106 | InstaWP\_Tools::clean\_instawpbackups\_dir(); |
  | 106 | 107 |  |
  | 107 |  | $migrate\_key      = ~~InstaWP\_Tools~~::get\_random\_string( 40 ); |
  |  | 108 | $migrate\_key      = Helper::get\_random\_string( 40 ); |
  | 108 | 109 | $migrate\_settings = InstaWP\_Tools::get\_migrate\_settings(); |
  | 109 | 110 | $api\_signature    = hash( 'sha512', $migrate\_key . wp\_generate\_uuid4() ); |
* ## [instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php?rev=3108725#L165 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api.php?rev=3109305#L165 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 165 | 165 | if ( ! empty( $api\_domain ) ) { |
  | 166 | 166 | if ( defined( 'INSTAWP\_API\_DOMAIN' ) ) { |
  | 167 |  | ~~InstaWP\_Setting~~::set\_api\_domain( INSTAWP\_API\_DOMAIN ); |
  |  | 167 | Helper::set\_api\_domain( INSTAWP\_API\_DOMAIN ); |
  | 168 | 168 | } elseif ( in\_array( $api\_domain, array( 'https://stage.instawp.io', 'https://app.instawp.io' ) ) ) { |
  | 169 | 169 | $api\_domain = rtrim( $api\_domain, '/' ); |
  | 170 |  | ~~InstaWP\_Setting~~::set\_api\_domain( $api\_domain ); |
  |  | 170 | Helper::set\_api\_domain( $api\_domain ); |
  | 171 | 171 | } else { |
  | 172 | 172 | return $this->send\_response( array( |
  | […](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php?rev=3108725#L177) | […](/browser/instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api.php?rev=3109305#L177) |  |
  | 177 | 177 | } |
  | 178 | 178 |  |
  | 179 |  | if ( ! ~~InstaWP\_Setting~~::instawp\_generate\_api\_key( $api\_key ) ) { |
  |  | 179 | if ( ! Helper::instawp\_generate\_api\_key( $api\_key ) ) { |
  | 180 | 180 | return $this->send\_response( array( |
  | 181 | 181 | 'status'  => false, |
  | […](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php?rev=3108725#L394) | […](/browser/instawp-connect/tags/0.1.0.44/includes/apis/class-instawp-rest-api.php?rev=3109305#L394) |  |
  | 394 | 394 | //in some cases Laravel stores api key with ID attached in front of it. |
  | 395 | 395 | //so we need to remove it and then hash the key |
  | 396 |  | $api\_key          = ~~InstaWP\_Setting~~::get\_api\_key(); |
  |  | 396 | $api\_key          = Helper::get\_api\_key(); |
  | 397 | 397 | $api\_key\_exploded = explode( '|', $api\_key ); |
  | 398 | 398 |  |
* ## [instawp-connect/tags/0.1.0.44/includes/class-instawp-ajax.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/class-instawp-ajax.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/class-instawp-ajax.php")

  | [r3098069](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3098069#L10 "Show revision 3098069 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-ajax.php?rev=3109305#L10 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 | defined( 'ABSPATH' ) || exit; |
  | 11 | 11 |  |
  | 12 |  | class InstaWP\_AJAX { |
  | 13 |  | public $instawp\_log; |
  |  | 12 | class InstaWP\_Ajax { |
  | 14 | 13 |  |
  | 15 | 14 | public function \_\_construct() { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3098069#L274) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-ajax.php?rev=3109305#L273) |  |
  | 274 | 273 |  |
  | 275 | 274 | $migrate\_settings   = InstaWP\_Tools::get\_migrate\_settings( $\_POST ); |
  | 276 |  | $migrate\_key        = ~~InstaWP\_Tools~~::get\_random\_string( 40 ); |
  |  | 275 | $migrate\_key        = Helper::get\_random\_string( 40 ); |
  | 277 | 276 | $pre\_check\_response = InstaWP\_Tools::get\_pull\_pre\_check\_response( $migrate\_key, $migrate\_settings ); |
  | 278 | 277 |  |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3098069#L410) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-ajax.php?rev=3109305#L409) |  |
  | 410 | 409 | instawp\_reset\_running\_migration( 'hard' ); |
  | 411 | 410 |  |
  | 412 |  | ~~InstaWP\_Setting~~::set\_api\_domain( $api\_domain ); |
  |  | 411 | Helper::set\_api\_domain( $api\_domain ); |
  | 413 | 412 |  |
  | 414 | 413 | wp\_send\_json\_error( array( |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3098069#L674) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-ajax.php?rev=3109305#L673) |  |
  | 674 | 673 | } |
  | 675 | 674 |  |
  | 676 |  | new InstaWP\_A~~JAX~~(); |
  |  | 675 | new InstaWP\_Ajax(); |
* ## [instawp-connect/tags/0.1.0.44/includes/class-instawp-cli.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/class-instawp-cli.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/class-instawp-cli.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3108725#L53 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-cli.php?rev=3109305#L53 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 53 | 53 |  |
  | 54 | 54 | // Add migration entry |
  | 55 |  | $migrate\_key         = ~~InstaWP\_Tools~~::get\_random\_string( 40 ); |
  |  | 55 | $migrate\_key         = Helper::get\_random\_string( 40 ); |
  | 56 | 56 | $migrate\_settings    = InstaWP\_Tools::get\_migrate\_settings( $\_POST ); // phpcs:ignore WordPress.Security.NonceVerification.Missing |
  | 57 | 57 | $migrate\_args        = array( |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3108725#L156) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-cli.php?rev=3109305#L156) |  |
  | 156 | 156 | if ( isset( $args[1] ) ) { |
  | 157 | 157 | if ( $args[1] === 'api-key' ) { |
  | 158 |  | ~~InstaWP\_Setting~~::instawp\_generate\_api\_key( $args[2] ); |
  |  | 158 | Helper::instawp\_generate\_api\_key( $args[2] ); |
  | 159 | 159 | } elseif ( $args[1] === 'api-domain' ) { |
  | 160 |  | ~~InstaWP\_Setting~~::set\_api\_domain( $args[2] ); |
  |  | 160 | Helper::set\_api\_domain( $args[2] ); |
  | 161 | 161 | } |
  | 162 | 162 | } |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3108725#L207) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-cli.php?rev=3109305#L207) |  |
  | 207 | 207 |  |
  | 208 | 208 | if ( isset( $args[0] ) && $args[0] === 'scan' ) { |
  | 209 |  | ~~$wp\_scanner = new \InstaWP\Connect\Helpers\WPScanner();~~ |
  | 210 | 209 |  |
  | 211 | 210 | if ( isset( $args[1] ) && $args[1] === 'summary' ) { |
  |  | 211 |  |
  |  | 212 | //                  $result = WP\_CLI::runcommand( 'plugin is-active code-profiler', [ 'return' => 'all', 'exit\_error' => false ] ); |
  |  | 213 | // |
  |  | 214 | //                  if ( $result->return\_code === 1 ) { |
  |  | 215 | //                      WP\_CLI::runcommand( 'plugin install code-profiler --force --activate' ); |
  |  | 216 | //                  } |
  |  | 217 |  |
  |  | 218 | $wp\_scanner  = new \InstaWP\Connect\Helpers\WPScanner(); |
  | 212 | 219 | $summary\_res = $wp\_scanner->scan\_summary(); |
  | 213 | 220 |  |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3108725#L230) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-cli.php?rev=3109305#L237) |  |
  | 230 | 237 |  |
  | 231 | 238 | if ( isset( $args[1] ) && $args[1] === 'slow-item' ) { |
  |  | 239 |  |
  |  | 240 | $wp\_scanner = new \InstaWP\Connect\Helpers\WPScanner(); |
  | 232 | 241 | $slow\_items = $wp\_scanner->scan\_slow\_items(); |
  | 233 | 242 |  |
* ## [instawp-connect/tags/0.1.0.44/includes/class-instawp-heartbeat.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/class-instawp-heartbeat.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/class-instawp-heartbeat.php")

  | [r3101818](/browser/instawp-connect/trunk/includes/class-instawp-heartbeat.php?rev=3101818#L157 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-heartbeat.php?rev=3109305#L157 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 157 | 157 | $heartbeat\_body = base64\_encode( $heartbeat\_body ); // phpcs:ignore WordPress.PHP.DiscouragedPHPFunctions.obfuscation\_base64\_encode |
  | 158 | 158 |  |
  | 159 |  | $heartbeat\_response = Curl::do\_curl( "connects/{$connect\_id}/heartbeat", $heartbeat\_body, array(), ~~true~~, 'v1' ); |
  |  | 159 | $heartbeat\_response = Curl::do\_curl( "connects/{$connect\_id}/heartbeat", $heartbeat\_body, array(), 'POST', 'v1' ); |
  | 160 | 160 | $response\_code      = Helper::get\_args\_option( 'code', $heartbeat\_response ); |
  | 161 | 161 | $success            = intval( $response\_code ) === 200; |
* ## [instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php")

  | [r3101818](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L13 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305#L13 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 |  |
  | 14 | 14 | public function \_\_construct() { |
  | 15 |  | //          add\_action( 'init', array( $this, 'ob\_start' ) ); |
  | 16 |  | //          add\_action( 'wp\_footer', array( $this, 'ob\_end' ) ); |
  | 17 |  |  |
  | 18 |  | add\_action( 'init', array( $this, 'generate\_api\_key' ) ); |
  |  | 15 | add\_action( 'admin\_init', array( $this, 'generate\_api\_key' ) ); |
  | 19 | 16 | add\_action( 'update\_option', array( $this, 'manage\_update\_option' ), 10, 3 ); |
  | 20 | 17 | add\_action( 'init', array( $this, 'handle\_hard\_disable\_seo\_visibility' ) ); |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L26) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305#L23) |  |
  | 26 | 23 | } |
  | 27 | 24 |  |
  | 28 |  | public function generate\_api\_key() { |
  | 29 |  | $access\_token    = isset( $\_REQUEST['access\_token'] ) ? sanitize\_text\_field( wp\_unslash( $\_REQUEST['access\_token'] ) ) : ''; |
  | 30 |  | $success\_status  = isset( $\_REQUEST['success'] ) ? sanitize\_text\_field( wp\_unslash( $\_REQUEST['success'] ) ) : ''; |
  | 31 |  |  |
  | 32 |  | if ( 'true' === $success\_status && InstaWP\_Setting::get\_api\_key() !== $access\_token ) { |
  | 33 |  | InstaWP\_Setting::instawp\_generate\_api\_key( $access\_token ); |
  | 34 |  |  |
  | 35 |  | wp\_safe\_redirect( admin\_url( 'tools.php?page=instawp' ) ); |
  | 36 |  | exit(); |
  | 37 |  | } |
  | 38 |  | } |
  |  | 25 | public function generate\_api\_key() { |
  |  | 26 | if ( ! current\_user\_can( 'manage\_options' ) ) { |
  |  | 27 | return; |
  |  | 28 | } |
  |  | 29 |  |
  |  | 30 | $api\_key        = Helper::get\_api\_key(); |
  |  | 31 | $access\_token   = isset( $\_REQUEST['access\_token'] ) ? sanitize\_text\_field( wp\_unslash( $\_REQUEST['access\_token'] ) ) : ''; |
  |  | 32 | $success\_status = isset( $\_REQUEST['success'] ) ? sanitize\_text\_field( wp\_unslash( $\_REQUEST['success'] ) ) : ''; |
  |  | 33 |  |
  |  | 34 | if ( 'true' === $success\_status && empty( $api\_key ) && $api\_key !== $access\_token ) { |
  |  | 35 | Helper::instawp\_generate\_api\_key( $access\_token ); |
  |  | 36 |  |
  |  | 37 | wp\_safe\_redirect( admin\_url( 'tools.php?page=instawp' ) ); |
  |  | 38 | exit(); |
  |  | 39 | } |
  |  | 40 | } |
  | 39 | 41 |  |
  | 40 | 42 | public function handle\_auto\_login\_request() { |
  |  | 43 | if ( empty( Helper::get\_api\_key() ) ) { |
  |  | 44 | return; |
  |  | 45 | } |
  | 41 | 46 |  |
  | 42 | 47 | $url\_args       = array\_map( 'sanitize\_text\_field', $\_GET ); |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L53) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305#L58) |  |
  | 53 | 58 | $saved\_login\_code   = Helper::get\_args\_option( 'code', $instawp\_login\_code ); |
  | 54 | 59 | $saved\_updated\_at   = Helper::get\_args\_option( 'updated\_at', $instawp\_login\_code ); |
  | 55 |  | $redirect           = wp\_login\_url(); |
  |  | 60 | $redirect           = wp\_login\_url(); |
  | 56 | 61 |  |
  | 57 | 62 | if ( $saved\_login\_code && $saved\_updated\_at && ( time() - intval( $saved\_updated\_at ) <= 30 ) && $saved\_login\_code === $login\_code && username\_exists( $login\_username ) ) { |
  | 58 | 63 | $redirect   = admin\_url(); |
  | 59 |  | $login\_user = get\_user\_by( 'login', $login\_username ); |
  |  | 64 | $login\_user = get\_user\_by( 'login', $login\_username ); |
  | 60 | 65 |  |
  | 61 | 66 | wp\_set\_current\_user( $login\_user->ID, $login\_user->user\_login ); |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L71) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305#L76) |  |
  | 71 | 76 |  |
  | 72 | 77 | public function front\_enqueue\_scripts() { |
  | 73 |  | wp\_enqueue\_style( 'instawp-common', instaWP::get\_asset\_url( 'assets/css/common.min.css' ), array(), INSTAWP\_PLUGIN\_VERSION ); |
  | 74 |  | wp\_enqueue\_script( 'instawp-common', instaWP::get\_asset\_url( 'assets/js/common.js' ), array( 'jquery' ), INSTAWP\_PLUGIN\_VERSION, true ); |
  | 75 |  | wp\_localize\_script( 'instawp-common', 'instawp\_common', InstaWP\_Tools::get\_localize\_data() ); |
  |  | 78 | if ( $this->can\_show\_navbar() ) { |
  |  | 79 | wp\_enqueue\_style( 'instawp-common', instaWP::get\_asset\_url( 'assets/css/common.min.css' ), array(), INSTAWP\_PLUGIN\_VERSION ); |
  |  | 80 | wp\_enqueue\_script( 'instawp-common', instaWP::get\_asset\_url( 'assets/js/common.js' ), array( 'jquery' ), INSTAWP\_PLUGIN\_VERSION, true ); |
  |  | 81 | wp\_localize\_script( 'instawp-common', 'instawp\_common', InstaWP\_Tools::get\_localize\_data() ); |
  |  | 82 | } |
  | 76 | 83 | } |
  | 77 | 84 |  |
  | 78 | 85 | public function add\_instawp\_menu\_icon( WP\_Admin\_Bar $admin\_bar ) { |
  | 79 |  |  |
  | 80 |  | if ( ! apply\_filters( 'instawp/filters/display\_menu\_bar\_icon', true ) || 'on' === Option::get\_option( 'instawp\_hide\_plugin\_icon\_topbar', 'off' ) ) { |
  | 81 |  | return; |
  | 82 |  | } |
  | 83 |  |  |
  | 84 |  | global $current\_user; |
  | 85 |  |  |
  | 86 |  | $sync\_tab\_roles = Option::get\_option( 'instawp\_sync\_tab\_roles', array( 'administrator' ) ); |
  | 87 |  | $sync\_tab\_roles = ! is\_array( $sync\_tab\_roles ) || empty( $sync\_tab\_roles ) ? array( 'administrator' ) : $sync\_tab\_roles; |
  | 88 |  | $meta\_classes   = array( 'instawp-sync-recording' ); |
  |  | 86 | $meta\_classes = array( 'instawp-sync-recording' ); |
  | 89 | 87 |  |
  | 90 | 88 | if ( 1 === (int) Option::get\_option( 'instawp\_is\_event\_syncing', '0' ) ) { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L92) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305#L90) |  |
  | 92 | 90 | } |
  | 93 | 91 |  |
  | 94 |  | if ( ~~! empty( array\_intersect( $sync\_tab\_roles, $current\_user->roles )~~ ) ) { |
  |  | 92 | if ( $this->can\_show\_navbar() ) { |
  | 95 | 93 | $admin\_bar->add\_menu( array( |
  | 96 | 94 | 'id'    => 'instawp', |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L210) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305#L208) |  |
  | 210 | 208 | ) ); |
  | 211 | 209 |  |
  | 212 |  | $connect\_id = ~~InstaWP\_Setting~~::get\_connect\_id(); |
  |  | 210 | $connect\_id = Helper::get\_connect\_id(); |
  | 213 | 211 |  |
  | 214 | 212 | if ( ! empty( $connect\_id ) && current\_user\_can( 'manage\_options' ) ) { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L238) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305#L236) |  |
  | 238 | 236 | } |
  | 239 | 237 | } |
  |  | 238 |  |
  |  | 239 | private function can\_show\_navbar() { |
  |  | 240 | if ( ! apply\_filters( 'instawp/filters/display\_menu\_bar\_icon', true ) ) { |
  |  | 241 | return false; |
  |  | 242 | } |
  |  | 243 |  |
  |  | 244 | global $current\_user; |
  |  | 245 |  |
  |  | 246 | $can\_show       = 'off' === Option::get\_option( 'instawp\_hide\_plugin\_icon\_topbar', 'off' ); |
  |  | 247 | $sync\_tab\_roles = Option::get\_option( 'instawp\_sync\_tab\_roles', array( 'administrator' ) ); |
  |  | 248 | $sync\_tab\_roles = ! is\_array( $sync\_tab\_roles ) || empty( $sync\_tab\_roles ) ? array( 'administrator' ) : $sync\_tab\_roles; |
  |  | 249 |  |
  |  | 250 | if ( $can\_show && empty( array\_intersect( $sync\_tab\_roles, $current\_user->roles ) ) ) { |
  |  | 251 | $can\_show = false; |
  |  | 252 | } |
  |  | 253 |  |
  |  | 254 | return $can\_show; |
  |  | 255 | } |
  | 240 | 256 |  |
  | 241 | 257 | public function handle\_hard\_disable\_seo\_visibility() { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L263) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305#L279) |  |
  | 263 | 279 |  |
  | 264 | 280 | if ( ! empty( $connect\_id ) ) { |
  | 265 |  | ~~InstaWP\_Setting~~::set\_connect\_id( $connect\_id ); |
  |  | 281 | Helper::set\_connect\_id( $connect\_id ); |
  | 266 | 282 | } |
  | 267 | 283 |  |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L275) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305#L291) |  |
  | 275 | 291 |  |
  | 276 | 292 | public function admin\_notice() { |
  | 277 |  | if ( ! isset( $\_GET['instawp-cache-cleared'] ) ) { |
  | 278 |  | return; |
  | 279 |  | } |
  |  | 293 | if ( ! isset( $\_GET['instawp-cache-cleared'] ) ) { |
  |  | 294 | return; |
  |  | 295 | } |
  | 280 | 296 |  |
  | 281 | 297 | $cache\_cleared = get\_transient( 'instawp\_cache\_purged' ); |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L289) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-hooks.php?rev=3109305#L305) |  |
  | 289 | 305 | delete\_transient( 'instawp\_cache\_purged' ); |
  | 290 | 306 | } |
  | 291 |  |  |
  | 292 |  | ~~function ob\_callback( $buffer ) {~~ |
  | 293 |  | ~~return $buffer;~~ |
  | 294 |  | ~~}~~ |
  | 295 |  |  |
  | 296 |  | ~~function ob\_start() {~~ |
  | 297 |  | ~~ob\_start( array( $this, 'ob\_callback' ) );~~ |
  | 298 |  | ~~}~~ |
  | 299 |  |  |
  | 300 |  | ~~function ob\_end() {~~ |
  | 301 |  | ~~if ( ob\_get\_length() ) {~~ |
  | 302 |  | ~~ob\_end\_flush();~~ |
  | 303 |  | ~~}~~ |
  | 304 |  | ~~}~~ |
  | 305 | 307 | } |
  | 306 | 308 | } |
* ## [instawp-connect/tags/0.1.0.44/includes/class-instawp-setting.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/class-instawp-setting.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/class-instawp-setting.php")

  | [r3102622](/browser/instawp-connect/trunk/includes/class-instawp-setting.php?rev=3102622#L1 "Show revision 3102622 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-setting.php?rev=3109305#L1 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 |  |
  | 3 |  | use InstaWP\Connect\Helpers\~~Curl~~; |
  |  | 3 | use InstaWP\Connect\Helpers\Helper; |
  | 4 | 4 | use InstaWP\Connect\Helpers\Option; |
  | 5 | 5 |  |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-setting.php?rev=3102622#L620) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-setting.php?rev=3109305#L620) |  |
  | 620 | 620 | } |
  | 621 | 621 |  |
  | 622 |  | ~~public static function set\_api\_domain( $instawp\_api\_url = '' ) {~~ |
  | 623 |  | ~~if ( empty( $instawp\_api\_url ) ) {~~ |
  | 624 |  | ~~return false;~~ |
  | 625 |  | ~~}~~ |
  | 626 |  |  |
  | 627 |  | ~~$api\_options            = Option::get\_option( 'instawp\_api\_options', array() );~~ |
  | 628 |  | ~~$api\_options['api\_url'] = sanitize\_url( $instawp\_api\_url );~~ |
  | 629 |  |  |
  | 630 |  | ~~return Option::update\_option( 'instawp\_api\_options', $api\_options );~~ |
  | 631 |  | ~~}~~ |
  | 632 |  |  |
  | 633 | 622 | public static function get\_pro\_subscription\_url( $pro\_subscription\_slug = 'subscriptions' ) { |
  | 634 |  | return self::get\_api\_domain() . '/' . $pro\_subscription\_slug; |
  | 635 |  | } |
  | 636 |  |  |
  | 637 |  | public static function get\_api\_domain() { |
  | 638 |  | $api\_options = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 639 |  |  |
  | 640 |  | return self::get\_args\_option( 'api\_url', $api\_options, INSTAWP\_API\_DOMAIN\_PROD ); |
  | 641 |  | } |
  | 642 |  |  |
  | 643 |  | public static function get\_api\_key( $return\_hashed = false ) { |
  | 644 |  |  |
  | 645 |  | $api\_options = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 646 |  | $api\_key     = self::get\_args\_option( 'api\_key', $api\_options ); |
  | 647 |  |  |
  | 648 |  | if ( ! $return\_hashed ) { |
  | 649 |  | return $api\_key; |
  | 650 |  | } |
  | 651 |  |  |
  | 652 |  | if ( ! empty( $api\_key ) && strpos( $api\_key, '|' ) !== false ) { |
  | 653 |  | $exploded             = explode( '|', $api\_key ); |
  | 654 |  | $current\_api\_key\_hash = hash( 'sha256', $exploded[1] ); |
  | 655 |  | } else { |
  | 656 |  | $current\_api\_key\_hash = ! empty( $api\_key ) ? hash( 'sha256', $api\_key ) : ""; |
  | 657 |  | } |
  | 658 |  |  |
  | 659 |  | return $current\_api\_key\_hash; |
  | 660 |  | } |
  | 661 |  |  |
  | 662 |  | public static function set\_api\_key( $api\_key ) { |
  | 663 |  | $api\_options            = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 664 |  | $api\_options['api\_key'] = sanitize\_text\_field( wp\_unslash( $api\_key ) ); |
  | 665 |  |  |
  | 666 |  | return Option::update\_option( 'instawp\_api\_options', $api\_options ); |
  | 667 |  | } |
  | 668 |  |  |
  | 669 |  | public static function get\_connect\_id() { |
  | 670 |  | $api\_options = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 671 |  |  |
  | 672 |  | return self::get\_args\_option( 'connect\_id', $api\_options ); |
  | 673 |  | } |
  | 674 |  |  |
  | 675 |  | public static function set\_connect\_id( $connect\_id ) { |
  | 676 |  | $api\_options               = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 677 |  | $api\_options['connect\_id'] = intval( $connect\_id ); |
  | 678 |  |  |
  | 679 |  | return Option::update\_option( 'instawp\_api\_options', $api\_options ); |
  |  | 623 | return Helper::get\_api\_domain() . '/' . $pro\_subscription\_slug; |
  | 680 | 624 | } |
  | 681 | 625 |  |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-setting.php?rev=3102622#L700) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-setting.php?rev=3109305#L644) |  |
  | 700 | 644 |  |
  | 701 | 645 | return apply\_filters( 'instawp/filters/get\_unsupported\_plugins', $unsupported\_plugins ); |
  | 702 |  | ~~}~~ |
  | 703 |  |  |
  | 704 |  | ~~public static function instawp\_generate\_api\_key( $api\_key ) {~~ |
  | 705 |  | ~~if ( empty( $api\_key ) ) {~~ |
  | 706 |  | ~~error\_log( 'instawp\_generate\_api\_key empty api\_key parameter' );~~ |
  | 707 |  |  |
  | 708 |  | ~~return false;~~ |
  | 709 |  | ~~}~~ |
  | 710 |  |  |
  | 711 |  | ~~$api\_response = Curl::do\_curl( 'check-key', array(), array(), false, 'v1', $api\_key );~~ |
  | 712 |  |  |
  | 713 |  | ~~if ( ! empty( $api\_response['data']['status'] ) ) {~~ |
  | 714 |  | ~~$api\_options = Option::get\_option( 'instawp\_api\_options', array() );~~ |
  | 715 |  |  |
  | 716 |  | ~~if ( is\_array( $api\_options ) && is\_array( $api\_response['data'] ) ) {~~ |
  | 717 |  | ~~Option::update\_option( 'instawp\_api\_options', array\_merge( $api\_options, array(~~ |
  | 718 |  | ~~'api\_key'  => $api\_key,~~ |
  | 719 |  | ~~'response' => $api\_response['data'],~~ |
  | 720 |  | ~~) ) );~~ |
  | 721 |  | ~~}~~ |
  | 722 |  | ~~} else {~~ |
  | 723 |  | ~~error\_log( 'instawp\_generate\_api\_key error, response from check-key api: ' . wp\_json\_encode( $api\_response ) );~~ |
  | 724 |  |  |
  | 725 |  | ~~return false;~~ |
  | 726 |  | ~~}~~ |
  | 727 |  |  |
  | 728 |  | ~~$php\_version      = substr( phpversion(), 0, 3 );~~ |
  | 729 |  | ~~$connect\_body     = array(~~ |
  | 730 |  | ~~'url'         => get\_site\_url(),~~ |
  | 731 |  | ~~'php\_version' => $php\_version,~~ |
  | 732 |  | ~~'username'    => base64\_encode( InstaWP\_Tools::get\_admin\_username() ), // phpcs:ignore WordPress.PHP.DiscouragedPHPFunctions.obfuscation\_base64\_encode~~ |
  | 733 |  | ~~);~~ |
  | 734 |  | ~~$connect\_response = Curl::do\_curl( 'connects', $connect\_body, array(), true, 'v1' );~~ |
  | 735 |  |  |
  | 736 |  | ~~if ( ! empty( $connect\_response['data']['status'] ) ) {~~ |
  | 737 |  | ~~$connect\_id = ! empty( $connect\_response['data']['id'] ) ? intval( $connect\_response['data']['id'] ) : '';~~ |
  | 738 |  |  |
  | 739 |  | ~~if ( $connect\_id ) {~~ |
  | 740 |  | ~~// set connect id~~ |
  | 741 |  | ~~self::set\_connect\_id( $connect\_id );~~ |
  | 742 |  |  |
  | 743 |  | ~~// Send heartbeat to InstaWP~~ |
  | 744 |  | ~~instawp\_send\_heartbeat( $connect\_id );~~ |
  | 745 |  | ~~} else {~~ |
  | 746 |  | ~~error\_log( 'instawp\_generate\_api\_key connect id not found in response.' );~~ |
  | 747 |  |  |
  | 748 |  | ~~return false;~~ |
  | 749 |  | ~~}~~ |
  | 750 |  | ~~} else {~~ |
  | 751 |  | ~~error\_log( 'instawp\_generate\_api\_key error, response from connects api: ' . wp\_json\_encode( $connect\_response ) );~~ |
  | 752 |  |  |
  | 753 |  | ~~return false;~~ |
  | 754 |  | ~~}~~ |
  | 755 |  |  |
  | 756 |  | ~~return true;~~ |
  | 757 | 646 | } |
  | 758 | 647 |  |
* ## [instawp-connect/tags/0.1.0.44/includes/class-instawp-tools.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/class-instawp-tools.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/class-instawp-tools.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3108725#L649 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-tools.php?rev=3109305#L649 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 649 | 649 | return self::process\_migration\_settings( $migrate\_settings ); |
  | 650 | 650 | } |
  | 651 |  |  |
  | 652 |  | ~~public static function get\_admin\_username() {~~ |
  | 653 |  | ~~$username = '';~~ |
  | 654 |  |  |
  | 655 |  | ~~foreach (~~ |
  | 656 |  | ~~get\_users( array(~~ |
  | 657 |  | ~~'role\_\_in' => array( 'administrator' ),~~ |
  | 658 |  | ~~'fields'   => array( 'user\_login' ),~~ |
  | 659 |  | ~~) ) as $admin~~ |
  | 660 |  | ~~) {~~ |
  | 661 |  | ~~if ( empty( $username ) && isset( $admin->user\_login ) ) {~~ |
  | 662 |  | ~~$username = $admin->user\_login;~~ |
  | 663 |  | ~~break;~~ |
  | 664 |  | ~~}~~ |
  | 665 |  | ~~}~~ |
  | 666 |  |  |
  | 667 |  | ~~return $username;~~ |
  | 668 |  | ~~}~~ |
  | 669 |  |  |
  | 670 |  | ~~/\*\*~~ |
  | 671 |  | ~~\* Returns the random string based on length.~~ |
  | 672 |  | ~~\*~~ |
  | 673 |  | ~~\* @param int $length~~ |
  | 674 |  | ~~\*~~ |
  | 675 |  | ~~\* @return string~~ |
  | 676 |  | ~~\*/~~ |
  | 677 |  | ~~public static function get\_random\_string( $length = 6 ) {~~ |
  | 678 |  | ~~try {~~ |
  | 679 |  | ~~$length        = ceil( absint( $length ) / 2 );~~ |
  | 680 |  | ~~$bytes         = function\_exists( 'random\_bytes' ) ? random\_bytes( $length ) : openssl\_random\_pseudo\_bytes( $length );~~ |
  | 681 |  | ~~$random\_string = bin2hex( $bytes );~~ |
  | 682 |  | ~~} catch ( Exception $e ) {~~ |
  | 683 |  | ~~$random\_string = substr( hash( 'sha256', wp\_generate\_uuid4() ), 0, absint( $length ) );~~ |
  | 684 |  | ~~}~~ |
  | 685 |  |  |
  | 686 |  | ~~return $random\_string;~~ |
  | 687 |  | ~~}~~ |
  | 688 |  |  |
  | 689 | 651 |  |
  | 690 | 652 | /\*\* |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3108725#L981) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-tools.php?rev=3109305#L943) |  |
  | 981 | 943 | if ( ! empty( $sites\_task\_id ) ) { |
  | 982 | 944 | while ( true ) { |
  | 983 |  | $status\_res = Curl::do\_curl( "tasks/{$sites\_task\_id}/status", array(), array(), ~~false~~ ); |
  |  | 945 | $status\_res = Curl::do\_curl( "tasks/{$sites\_task\_id}/status", array(), array(), 'GET' ); |
  | 984 | 946 |  |
  | 985 | 947 | if ( ! Helper::get\_args\_option( 'success', $status\_res, true ) ) { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3108725#L1018) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-tools.php?rev=3109305#L980) |  |
  | 1018 | 980 |  |
  | 1019 | 981 | // Getting SFTP details of $site\_id |
  | 1020 |  | $sftp\_details\_res = Curl::do\_curl( "sites/{$site\_id}/sftp-details", array(), array(), ~~false~~ ); |
  |  | 982 | $sftp\_details\_res = Curl::do\_curl( "sites/{$site\_id}/sftp-details", array(), array(), 'GET' ); |
  | 1021 | 983 |  |
  | 1022 | 984 | if ( ! Helper::get\_args\_option( 'success', $sftp\_details\_res, true ) ) { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3108725#L1071) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-tools.php?rev=3109305#L1033) |  |
  | 1071 | 1033 | 'source\_domain' => str\_replace( array( 'https://', 'http://' ), '', site\_url() ), |
  | 1072 | 1034 | ); |
  | 1073 |  | $restore\_res  = Curl::do\_curl( "sites/{$site\_id}/restore-raw", $restore\_args, array(), '~~put~~' ); |
  |  | 1035 | $restore\_res  = Curl::do\_curl( "sites/{$site\_id}/restore-raw", $restore\_args, array(), 'PUT' ); |
  | 1074 | 1036 |  |
  | 1075 | 1037 | if ( ! Helper::get\_args\_option( 'success', $restore\_res, true ) ) { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3108725#L1084) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp-tools.php?rev=3109305#L1046) |  |
  | 1084 | 1046 | while ( true ) { |
  | 1085 | 1047 |  |
  | 1086 |  | $status\_res = Curl::do\_curl( "tasks/{$restore\_task\_id}/status", array(), array(), ~~false~~ ); |
  |  | 1048 | $status\_res = Curl::do\_curl( "tasks/{$restore\_task\_id}/status", array(), array(), 'GET' ); |
  | 1087 | 1049 |  |
  | 1088 | 1050 | if ( ! Helper::get\_args\_option( 'success', $status\_res, true ) ) { |
* ## [instawp-connect/tags/0.1.0.44/includes/class-instawp.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/class-instawp.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/class-instawp.php")

  | [r3097284](/browser/instawp-connect/trunk/includes/class-instawp.php?rev=3097284#L51 "Show revision 3097284 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp.php?rev=3109305#L51 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 51 | 51 | $this->version                 = INSTAWP\_PLUGIN\_VERSION; |
  | 52 | 52 | $this->plugin\_name             = INSTAWP\_PLUGIN\_SLUG; |
  | 53 |  | $this->api\_key                 = ~~InstaWP\_Setting~~::get\_api\_key(); |
  |  | 53 | $this->api\_key                 = Helper::get\_api\_key(); |
  | 54 | 54 | $this->is\_connected            = ! empty( $this->api\_key ); |
  | 55 | 55 | $this->is\_on\_local             = instawp\_is\_website\_on\_local(); |
  | […](/browser/instawp-connect/trunk/includes/class-instawp.php?rev=3097284#L322) | […](/browser/instawp-connect/tags/0.1.0.44/includes/class-instawp.php?rev=3109305#L322) |  |
  | 322 | 322 |  |
  | 323 | 323 | // connects/<connect\_id>/usage |
  | 324 |  | $api\_response        = Curl::do\_curl( "connects/{$this->connect\_id}/usage", array(), array(), ~~false~~, 'v1' ); |
  |  | 324 | $api\_response        = Curl::do\_curl( "connects/{$this->connect\_id}/usage", array(), array(), 'GET', 'v1' ); |
  | 325 | 325 | $api\_response\_status = Helper::get\_args\_option( 'success', $api\_response, false ); |
  | 326 | 326 | $api\_response\_data   = Helper::get\_args\_option( 'data', $api\_response, array() ); |
* ## [instawp-connect/tags/0.1.0.44/includes/functions.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/functions.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/functions.php")

  | [r3101818](/browser/instawp-connect/trunk/includes/functions.php?rev=3101818#L341 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/functions.php?rev=3109305#L341 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 341 | 341 | function instawp\_set\_staging\_sites\_list() { |
  | 342 | 342 |  |
  | 343 |  | $api\_response = Curl::do\_curl( 'connects/' . instawp\_get\_connect\_id() . '/staging-sites', array(), array(), ~~false~~ ); |
  |  | 343 | $api\_response = Curl::do\_curl( 'connects/' . instawp\_get\_connect\_id() . '/staging-sites', array(), array(), 'GET' ); |
  | 344 | 344 |  |
  | 345 | 345 | if ( $api\_response['success'] ) { |
  | […](/browser/instawp-connect/trunk/includes/functions.php?rev=3101818#L586) | […](/browser/instawp-connect/tags/0.1.0.44/includes/functions.php?rev=3109305#L586) |  |
  | 586 | 586 | $response        = array(); |
  | 587 | 587 | $site\_connect\_id = instawp\_get\_connect\_id(); |
  | 588 |  | $api\_response    = Curl::do\_curl( 'connects/' . $site\_connect\_id . '/connected-sites', array(), array(), ~~false~~ ); |
  |  | 588 | $api\_response    = Curl::do\_curl( 'connects/' . $site\_connect\_id . '/connected-sites', array(), array(), 'GET' ); |
  | 589 | 589 |  |
  | 590 | 590 | if ( $api\_response['success'] ) { |
* ## [instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-ajax.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-ajax.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-ajax.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3108725#L9 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-ajax.php?rev=3109305#L9 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 9 | 9 |  |
  | 10 | 10 | use InstaWP\Connect\Helpers\Curl; |
  |  | 11 | use InstaWP\Connect\Helpers\Helper; |
  | 11 | 12 | use InstaWP\Connect\Helpers\Option; |
  | 12 | 13 |  |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3108725#L473) | […](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-ajax.php?rev=3109305#L474) |  |
  | 473 | 474 |  |
  | 474 | 475 | // connects/<connect\_id>/syncs |
  | 475 |  | return Curl::do\_curl( "connects/{$connect\_id}/syncs/{$sync\_id}", array(), array(), ~~false~~ ); |
  |  | 476 | return Curl::do\_curl( "connects/{$connect\_id}/syncs/{$sync\_id}", array(), array(), 'GET' ); |
  | 476 | 477 | } |
  | 477 | 478 |  |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3108725#L480) | […](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-ajax.php?rev=3109305#L481) |  |
  | 480 | 481 |  |
  | 481 | 482 | // connects/<connect\_id>/get-sync-quota |
  | 482 |  | $api\_response = Curl::do\_curl( "connects/{$connect\_id}/get-sync-quota", array(), array(), ~~false~~ ); |
  |  | 483 | $api\_response = Curl::do\_curl( "connects/{$connect\_id}/get-sync-quota", array(), array(), 'GET' ); |
  | 483 | 484 |  |
  | 484 | 485 | if ( $api\_response['success'] && ! empty( $api\_response['data'] ) ) { |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3108725#L538) | […](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-ajax.php?rev=3109305#L539) |  |
  | 538 | 539 |  |
  | 539 | 540 | if ( empty( $event\_hash ) ) { |
  | 540 |  | $event\_hash = ~~InstaWP\_Tools::get\_random\_string(~~); |
  |  | 541 | $event\_hash = Helper::get\_random\_string( 8 ); |
  | 541 | 542 | $this->wpdb->update( INSTAWP\_DB\_TABLE\_EVENT\_SYNC\_LOGS, array( 'event\_hash' => $event\_hash ), array( 'id' => $event->id ) ); |
  | 542 | 543 | } |
* ## [instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-apis.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-apis.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-apis.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-apis.php?rev=3108725#L220 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-apis.php?rev=3109305#L220 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 220 | 220 |  |
  | 221 | 221 | // connects/<connect\_id>/syncs/<sync\_id> |
  | 222 |  | return Curl::do\_curl( "connects/{$connect\_id}/syncs/{$sync\_id}", $data, array(), '~~patch~~' ); |
  |  | 222 | return Curl::do\_curl( "connects/{$connect\_id}/syncs/{$sync\_id}", $data, array(), 'PATCH' ); |
  | 223 | 223 | } |
  | 224 | 224 | } |
* ## [instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-db.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-db.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-db.php")

  | [r3101818](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-db.php?rev=3101818#L91 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-db.php?rev=3109305#L91 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 91 | 91 | 'event\_name'     => $event\_name, |
  | 92 | 92 | 'event\_slug'     => $event\_slug, |
  | 93 |  | 'event\_hash'     => ~~InstaWP\_Tools::get\_random\_string(~~), |
  |  | 93 | 'event\_hash'     => Helper::get\_random\_string( 8 ), |
  | 94 | 94 | 'event\_type'     => $event\_type, |
  | 95 | 95 | 'source\_id'      => $source\_id, |
* ## [instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-helpers.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-helpers.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-helpers.php")

  | [r3101818](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3101818#L18 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-helpers.php?rev=3109305#L18 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 | \*/ |
  | 19 | 19 |  |
  |  | 20 | use InstaWP\Connect\Helpers\Helper; |
  | 20 | 21 | use InstaWP\Connect\Helpers\Option; |
  | 21 | 22 |  |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3101818#L53) | […](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-helpers.php?rev=3109305#L54) |  |
  | 53 | 54 | \*/ |
  | 54 | 55 | public static function set\_post\_reference\_id( $post\_id, $reference\_id = '' ) { |
  | 55 |  | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : ~~InstaWP\_Tools::get\_random\_string(~~); |
  |  | 56 | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : Helper::get\_random\_string( 8 ); |
  | 56 | 57 | update\_post\_meta( $post\_id, 'instawp\_event\_sync\_reference\_id', $reference\_id ); |
  | 57 | 58 |  |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3101818#L72) | […](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-helpers.php?rev=3109305#L73) |  |
  | 72 | 73 | \*/ |
  | 73 | 74 | public static function set\_term\_reference\_id( $term\_id, $reference\_id = '' ) { |
  | 74 |  | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : ~~InstaWP\_Tools::get\_random\_string(~~); |
  |  | 75 | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : Helper::get\_random\_string( 8 ); |
  | 75 | 76 | update\_term\_meta( $term\_id, 'instawp\_event\_term\_sync\_reference\_id', $reference\_id ); |
  | 76 | 77 |  |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3101818#L91) | […](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-helpers.php?rev=3109305#L92) |  |
  | 91 | 92 | \*/ |
  | 92 | 93 | public static function set\_user\_reference\_id( $user\_id, $reference\_id = '' ) { |
  | 93 |  | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : ~~InstaWP\_Tools::get\_random\_string(~~); |
  |  | 94 | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : Helper::get\_random\_string( 8 ); |
  | 94 | 95 | update\_user\_meta( $user\_id, 'instawp\_event\_user\_sync\_reference\_id', $reference\_id ); |
  | 95 | 96 |  |
* ## [instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-post.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-post.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-post.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-post.php?rev=3108725#L1 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-post.php?rev=3109305#L1 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | use InstaWP\Connect\Helpers\Helper; |
  | 2 | 4 |  |
  | 3 | 5 | defined( 'ABSPATH' ) || exit; |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-post.php?rev=3108725#L196) | […](/browser/instawp-connect/tags/0.1.0.44/includes/sync/class-instawp-sync-post.php?rev=3109305#L198) |  |
  | 196 | 198 |  |
  | 197 | 199 | public function generate\_reference( $new\_post\_id ) { |
  | 198 |  | $reference\_id = ~~InstaWP\_Tools::get\_random\_string(~~); |
  |  | 200 | $reference\_id = Helper::get\_random\_string( 8 ); |
  | 199 | 201 | update\_post\_meta( $new\_post\_id, 'instawp\_event\_sync\_reference\_id', $reference\_id ); |
  | 200 | 202 | } |
* ## [instawp-connect/tags/0.1.0.44/instawp-connect.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/instawp-connect.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/instawp-connect.php")

  | [r3108725](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L8 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/instawp-connect.php?rev=3109305#L8 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | \* Plugin Name:       InstaWP Connect |
  | 9 | 9 | \* Description:       1-click WordPress plugin for Staging, Migrations, Management, Sync and Companion plugin for InstaWP. |
  | 10 |  | \* Version:           0.1.0.4~~3~~ |
  |  | 10 | \* Version:           0.1.0.44 |
  | 11 | 11 | \* Author:            InstaWP Team |
  | 12 | 12 | \* Author URI:        https://instawp.com/ |
  | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L18) | […](/browser/instawp-connect/tags/0.1.0.44/instawp-connect.php?rev=3109305#L18) |  |
  | 18 | 18 |  |
  | 19 | 19 | // If this file is called directly, abort. |
  |  | 20 | use InstaWP\Connect\Helpers\Curl; |
  | 20 | 21 | use InstaWP\Connect\Helpers\Option; |
  | 21 | 22 |  |
  | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L26) | […](/browser/instawp-connect/tags/0.1.0.44/instawp-connect.php?rev=3109305#L27) |  |
  | 26 | 27 | global $wpdb; |
  | 27 | 28 |  |
  | 28 |  | defined( 'INSTAWP\_PLUGIN\_VERSION' ) || define( 'INSTAWP\_PLUGIN\_VERSION', '0.1.0.4~~3~~' ); |
  |  | 29 | defined( 'INSTAWP\_PLUGIN\_VERSION' ) || define( 'INSTAWP\_PLUGIN\_VERSION', '0.1.0.44' ); |
  | 29 | 30 | defined( 'INSTAWP\_API\_DOMAIN\_PROD' ) || define( 'INSTAWP\_API\_DOMAIN\_PROD', 'https://app.instawp.io' ); |
  | 30 | 31 |  |
  | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L88) | […](/browser/instawp-connect/tags/0.1.0.44/instawp-connect.php?rev=3109305#L89) |  |
  | 88 | 89 | } |
  | 89 | 90 |  |
  | 90 |  | $api\_options = get\_option( 'instawp\_api\_options', array() ); |
  | 91 |  | $connect\_id  = isset( $api\_options['connect\_id'] ) ? $api\_options['connect\_id'] : ''; |
  | 92 |  | $api\_key     = isset( $api\_options['api\_key'] ) ? $api\_options['api\_key'] : ''; |
  | 93 |  | $api\_url     = isset( $api\_options['api\_url'] ) ? $api\_options['api\_url'] : 'https://app.instawp.io'; |
  | 94 |  |  |
  | 95 |  | if ( ! empty( $connect\_id ) && ! empty( $api\_key ) ) { |
  | 96 |  | $response = wp\_remote\_post( "{$api\_url}/api/v2/connects/{$connect\_id}/restore", array( |
  | 97 |  | 'headers' => array( |
  | 98 |  | 'Authorization' => 'Bearer ' . $api\_key, |
  | 99 |  | 'Accept'        => 'application/json', |
  | 100 |  | 'Content-Type'  => 'application/json', |
  | 101 |  | 'Referer'       => site\_url(), |
  | 102 |  | ), |
  | 103 |  | 'body'    => wp\_json\_encode( array( 'url' => site\_url() ) ), |
  | 104 |  | ) ); |
  | 105 |  | $response = json\_decode( wp\_remote\_retrieve\_body( $response ), true ); |
  | 106 |  | if ( ! $response['status'] ) { |
  |  | 91 | $connect\_id = instawp\_get\_connect\_id(); |
  |  | 92 | if ( ! empty( $connect\_id ) ) { |
  |  | 93 | $response = Curl::do\_curl( "connects/{$connect\_id}/restore", array( 'url' => site\_url() ) ); |
  |  | 94 | if ( empty( $response['success'] ) ) { |
  | 107 | 95 | delete\_option( 'instawp\_api\_options' ); |
  | 108 | 96 | } |
  | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L115) | […](/browser/instawp-connect/tags/0.1.0.44/instawp-connect.php?rev=3109305#L103) |  |
  | 115 | 103 | delete\_option( 'instawp\_last\_heartbeat\_sent' ); |
  | 116 | 104 |  |
  | 117 |  | $api\_options = get\_option( 'instawp\_api\_options', array() ); |
  | 118 |  | $connect\_id  = isset( $api\_options['connect\_id'] ) ? $api\_options['connect\_id'] : ''; |
  | 119 |  | $api\_key     = isset( $api\_options['api\_key'] ) ? $api\_options['api\_key'] : ''; |
  | 120 |  | $api\_url     = isset( $api\_options['api\_url'] ) ? $api\_options['api\_url'] : 'https://app.instawp.io'; |
  | 121 |  |  |
  | 122 |  | if ( ! empty( $connect\_id ) && ! empty( $api\_key ) ) { |
  | 123 |  | wp\_remote\_request( "{$api\_url}/api/v2/connects/{$connect\_id}/delete", array( |
  | 124 |  | 'headers' => array( |
  | 125 |  | 'Authorization' => 'Bearer ' . $api\_key, |
  | 126 |  | 'Accept'        => 'application/json', |
  | 127 |  | 'Content-Type'  => 'application/json', |
  | 128 |  | 'Referer'       => site\_url(), |
  | 129 |  | ), |
  | 130 |  | 'method'  => 'DELETE', |
  | 131 |  | ) ); |
  |  | 105 | $connect\_id = instawp\_get\_connect\_id(); |
  |  | 106 | if ( ! empty( $connect\_id ) ) { |
  |  | 107 | Curl::do\_curl( "connects/{$connect\_id}/delete", array(), array(), 'DELETE' ); |
  | 132 | 108 | } |
  | 133 | 109 | } |
  | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L160) | […](/browser/instawp-connect/tags/0.1.0.44/instawp-connect.php?rev=3109305#L136) |  |
  | 160 | 136 |  |
  | 161 | 137 | run\_instawp(); |
  | 162 |  |  |
* ## [instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot](/changeset/3109305/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot")

  | [r3108725](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L6 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot?rev=3109305#L6 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | "Content-Type: text/plain; charset=UTF-8\n" |
  | 7 | 7 | "Content-Transfer-Encoding: 8bit\n" |
  | 8 |  | "POT-Creation-Date: 2024-06-2~~7 12:21~~+0000\n" |
  |  | 8 | "POT-Creation-Date: 2024-06-28 14:30+0000\n" |
  | 9 | 9 | "X-Poedit-Basepath: ..\n" |
  | 10 | 10 | "X-Poedit-KeywordsList: \_\_;\_e;\_ex:1,2c;\_n:1,2;\_n\_noop:1,2;\_nx:1,2,4c;\_nx\_noop:1,2,3c;\_x:1,2c;esc\_attr\_\_;esc\_attr\_e;esc\_attr\_x:1,2c;esc\_html\_\_;esc\_html\_e;esc\_html\_x:1,2c\n" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L14) | […](/browser/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot?rev=3109305#L14) |  |
  | 14 | 14 | "Plural-Forms: nplurals=2; plural=(n != 1);\n" |
  | 15 | 15 |  |
  | 16 |  | #: admin/class-instawp-admin.php:67, includes/class-instawp-hooks.php:15~~7~~, includes/class-instawp-setting.php:36 |
  |  | 16 | #: admin/class-instawp-admin.php:67, includes/class-instawp-hooks.php:155, includes/class-instawp-setting.php:36 |
  | 17 | 17 | msgid "Create Staging" |
  | 18 | 18 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L34) | […](/browser/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot?rev=3109305#L34) |  |
  | 34 | 34 | msgstr "" |
  | 35 | 35 |  |
  | 36 |  | #: includes/class-instawp-ajax.php:11~~4~~ |
  |  | 36 | #: includes/class-instawp-ajax.php:113 |
  | 37 | 37 | msgid "Migration failed." |
  | 38 | 38 | msgstr "" |
  | 39 | 39 |  |
  | 40 |  | #: includes/class-instawp-ajax.php:23~~6~~ |
  |  | 40 | #: includes/class-instawp-ajax.php:235 |
  | 41 | 41 | msgid "Migrate key or item is missing!" |
  | 42 | 42 | msgstr "" |
  | 43 | 43 |  |
  | 44 |  | #: includes/class-instawp-ajax.php:24~~9~~ |
  |  | 44 | #: includes/class-instawp-ajax.php:248 |
  | 45 | 45 | msgid "Can not initiate database." |
  | 46 | 46 | msgstr "" |
  | 47 | 47 |  |
  | 48 |  | #: includes/class-instawp-ajax.php:29~~4~~ |
  |  | 48 | #: includes/class-instawp-ajax.php:293 |
  | 49 | 49 | msgid "Error: Empty serve url found in pre-check response." |
  | 50 | 50 | msgstr "" |
  | 51 | 51 |  |
  | 52 |  | #: includes/class-instawp-ajax.php:30~~7~~ |
  |  | 52 | #: includes/class-instawp-ajax.php:306 |
  | 53 | 53 | msgid "Error: Empty api signature found in pre-check response." |
  | 54 | 54 | msgstr "" |
  | 55 | 55 |  |
  | 56 |  | #: includes/class-instawp-ajax.php:35~~6~~ |
  |  | 56 | #: includes/class-instawp-ajax.php:355 |
  | 57 | 57 | msgid "Could not create migrate id." |
  | 58 | 58 | msgstr "" |
  | 59 | 59 |  |
  | 60 |  | #: includes/class-instawp-ajax.php:41~~5~~ |
  |  | 60 | #: includes/class-instawp-ajax.php:414 |
  | 61 | 61 | msgid "Connect Again" |
  | 62 | 62 | msgstr "" |
  | 63 | 63 |  |
  | 64 |  | #: includes/class-instawp-ajax.php:4~~20~~ |
  |  | 64 | #: includes/class-instawp-ajax.php:419 |
  | 65 | 65 | msgid "Increase Limit" |
  | 66 | 66 | msgstr "" |
  | 67 | 67 |  |
  | 68 |  | #: includes/class-instawp-ajax.php:44~~8~~ |
  |  | 68 | #: includes/class-instawp-ajax.php:447 |
  | 69 | 69 | msgid "Empty folder!" |
  | 70 | 70 | msgstr "" |
  | 71 | 71 |  |
  | 72 |  | #: includes/class-instawp-ajax.php:55~~2~~ |
  |  | 72 | #: includes/class-instawp-ajax.php:551 |
  | 73 | 73 | msgid "%s rows" |
  | 74 | 74 | msgstr "" |
  | 75 | 75 |  |
  | 76 |  | #: includes/class-instawp-ajax.php:59~~9~~ |
  |  | 76 | #: includes/class-instawp-ajax.php:598 |
  | 77 | 77 | msgid "We have identified following large files in your installation:" |
  | 78 | 78 | msgstr "" |
  | 79 | 79 |  |
  | 80 |  | #: includes/class-instawp-ajax.php:66~~3~~ |
  |  | 80 | #: includes/class-instawp-ajax.php:662 |
  | 81 | 81 | msgid "Plugin reset successfully." |
  | 82 | 82 | msgstr "" |
  | 83 | 83 |  |
  | 84 |  | #: includes/class-instawp-cli.php:22~~1~~ |
  |  | 84 | #: includes/class-instawp-cli.php:228 |
  | 85 | 85 | msgid "Failed: Could not create performance summary." |
  | 86 | 86 | msgstr "" |
  | 87 | 87 |  |
  | 88 |  | #: includes/class-instawp-cli.php:2~~26~~ |
  |  | 88 | #: includes/class-instawp-cli.php:233 |
  | 89 | 89 | msgid "Performance Summary of this website is given below:" |
  | 90 | 90 | msgstr "" |
  | 91 | 91 |  |
  | 92 |  | #: includes/class-instawp-cli.php:2~~41~~ |
  |  | 92 | #: includes/class-instawp-cli.php:250 |
  | 93 | 93 | msgid "Failed: Could not calculate slow items." |
  | 94 | 94 | msgstr "" |
  | 95 | 95 |  |
  | 96 |  | #: includes/class-instawp-cli.php:26~~0~~ |
  |  | 96 | #: includes/class-instawp-cli.php:269 |
  | 97 | 97 | msgid "Slow items of this website are given below: (Top is the slowest one)" |
  | 98 | 98 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L126) | […](/browser/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot?rev=3109305#L126) |  |
  | 126 | 126 | msgstr "" |
  | 127 | 127 |  |
  | 128 |  | #: includes/class-instawp-hooks.php:10~~8~~ |
  |  | 128 | #: includes/class-instawp-hooks.php:106 |
  | 129 | 129 | msgid "Tools" |
  | 130 | 130 | msgstr "" |
  | 131 | 131 |  |
  | 132 |  | #: includes/class-instawp-hooks.php:11~~5~~ |
  |  | 132 | #: includes/class-instawp-hooks.php:113 |
  | 133 | 133 | msgid "Purge All Cache" |
  | 134 | 134 | msgstr "" |
  | 135 | 135 |  |
  | 136 |  | #: includes/class-instawp-hooks.php:12~~6~~, includes/class-instawp-setting.php:209, includes/class-instawp-setting.php:543, includes/apis/class-instawp-rest-api.php:629 |
  |  | 136 | #: includes/class-instawp-hooks.php:124, includes/class-instawp-setting.php:209, includes/class-instawp-setting.php:543, includes/apis/class-instawp-rest-api.php:629 |
  | 137 | 137 | msgid "File Manager" |
  | 138 | 138 | msgstr "" |
  | 139 | 139 |  |
  | 140 |  | #: includes/class-instawp-hooks.php:13~~7~~, includes/class-instawp-setting.php:210, includes/class-instawp-setting.php:551, includes/apis/class-instawp-rest-api.php:630 |
  |  | 140 | #: includes/class-instawp-hooks.php:135, includes/class-instawp-setting.php:210, includes/class-instawp-setting.php:551, includes/apis/class-instawp-rest-api.php:630 |
  | 141 | 141 | msgid "Database Manager" |
  | 142 | 142 | msgstr "" |
  | 143 | 143 |  |
  | 144 |  | #: includes/class-instawp-hooks.php:14~~9~~ |
  |  | 144 | #: includes/class-instawp-hooks.php:147 |
  | 145 | 145 | msgid "Shortcuts" |
  | 146 | 146 | msgstr "" |
  | 147 | 147 |  |
  | 148 |  | #: includes/class-instawp-hooks.php:16~~9~~, includes/class-instawp-setting.php:40 |
  |  | 148 | #: includes/class-instawp-hooks.php:167, includes/class-instawp-setting.php:40 |
  | 149 | 149 | msgid "Staging Sites" |
  | 150 | 150 | msgstr "" |
  | 151 | 151 |  |
  | 152 |  | #: includes/class-instawp-hooks.php:1~~81~~, includes/class-instawp-setting.php:44 |
  |  | 152 | #: includes/class-instawp-hooks.php:179, includes/class-instawp-setting.php:44 |
  | 153 | 153 | msgid "Manage" |
  | 154 | 154 | msgstr "" |
  | 155 | 155 |  |
  | 156 |  | #: includes/class-instawp-hooks.php:19~~3~~, includes/class-instawp-setting.php:49 |
  |  | 156 | #: includes/class-instawp-hooks.php:191, includes/class-instawp-setting.php:49 |
  | 157 | 157 | msgid "Sync (Beta)" |
  | 158 | 158 | msgstr "" |
  | 159 | 159 |  |
  | 160 |  | #: includes/class-instawp-hooks.php:20~~4~~, includes/class-instawp-setting.php:53, includes/class-instawp-setting.php:286 |
  |  | 160 | #: includes/class-instawp-hooks.php:202, includes/class-instawp-setting.php:53, includes/class-instawp-setting.php:286 |
  | 161 | 161 | msgid "Settings" |
  | 162 | 162 | msgstr "" |
  | 163 | 163 |  |
  | 164 |  | #: includes/class-instawp-hooks.php:21~~9~~ |
  |  | 164 | #: includes/class-instawp-hooks.php:217 |
  | 165 | 165 | msgid "Go to InstaWP ➝" |
  | 166 | 166 | msgstr "" |
  | 167 | 167 |  |
  | 168 |  | #: includes/class-instawp-hooks.php:2~~31~~ |
  |  | 168 | #: includes/class-instawp-hooks.php:229 |
  | 169 | 169 | msgid "Contact Support" |
  | 170 | 170 | msgstr "" |
  | 171 | 171 |  |
  | 172 |  | #: includes/class-instawp-hooks.php:~~286~~ |
  |  | 172 | #: includes/class-instawp-hooks.php:302 |
  | 173 | 173 | msgid "Cache cleared for %s." |
  | 174 | 174 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L538) | […](/browser/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot?rev=3109305#L538) |  |
  | 538 | 538 | msgstr "" |
  | 539 | 539 |  |
  | 540 |  | #: includes/class-instawp-tools.php:7~~66~~ |
  |  | 540 | #: includes/class-instawp-tools.php:728 |
  | 541 | 541 | msgid "Launch %s" |
  | 542 | 542 | msgstr "" |
  | 543 | 543 |  |
  | 544 |  | #: includes/class-instawp-tools.php:8~~54~~ |
  |  | 544 | #: includes/class-instawp-tools.php:816 |
  | 545 | 545 | msgid "Please create staging sites first." |
  | 546 | 546 | msgstr "" |
  | 547 | 547 |  |
  | 548 |  | #: includes/class-instawp-tools.php:8~~55~~ |
  |  | 548 | #: includes/class-instawp-tools.php:817 |
  | 549 | 549 | msgid "Skip" |
  | 550 | 550 | msgstr "" |
  | 551 | 551 |  |
  | 552 |  | #: includes/class-instawp-tools.php:8~~56~~ |
  |  | 552 | #: includes/class-instawp-tools.php:818 |
  | 553 | 553 | msgid "Do you really want to disconnect the plugin? It will completely remove the existing staging sites from the plugin." |
  | 554 | 554 | msgstr "" |
  | 555 | 555 |  |
  | 556 |  | #: includes/class-instawp-tools.php:8~~57~~ |
  |  | 556 | #: includes/class-instawp-tools.php:819 |
  | 557 | 557 | msgid "Do you still want to disconnect the plugin?" |
  | 558 | 558 | msgstr "" |
  | 559 | 559 |  |
  | 560 |  | #: includes/class-instawp-tools.php:~~905~~ |
  |  | 560 | #: includes/class-instawp-tools.php:867 |
  | 561 | 561 | msgid "Zip archive is not opening." |
  | 562 | 562 | msgstr "" |
  | 563 | 563 |  |
  | 564 |  | #: includes/class-instawp-tools.php:9~~58~~ |
  |  | 564 | #: includes/class-instawp-tools.php:920 |
  | 565 | 565 | msgid "No compression method find." |
  | 566 | 566 | msgstr "" |
  | 567 | 567 |  |
  |  | 568 | #: includes/class-instawp-tools.php:963 |
  |  | 569 | msgid "Site ID not found in site create response." |
  |  | 570 | msgstr "" |
  |  | 571 |  |
  | 568 | 572 | #: includes/class-instawp-tools.php:1001 |
  | 569 |  | ~~msgid "Site ID not found in site create response."~~ |
  | 570 |  | ~~msgstr ""~~ |
  | 571 |  |  |
  | 572 |  | ~~#: includes/class-instawp-tools.php:1039~~ |
  | 573 | 573 | msgid "SFTP login failed." |
  | 574 | 574 | msgstr "" |
  | 575 | 575 |  |
  | 576 |  | #: includes/class-instawp-tools.php:10~~50~~ |
  |  | 576 | #: includes/class-instawp-tools.php:1012 |
  | 577 | 577 | msgid "SFTP upload failed for files." |
  | 578 | 578 | msgstr "" |
  | 579 | 579 |  |
  | 580 |  | #: includes/class-instawp-tools.php:10~~58~~ |
  |  | 580 | #: includes/class-instawp-tools.php:1020 |
  | 581 | 581 | msgid "SFTP upload failed for database." |
  | 582 | 582 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L630) | […](/browser/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot?rev=3109305#L630) |  |
  | 630 | 630 | msgstr "" |
  | 631 | 631 |  |
  | 632 |  | #: includes/apis/class-instawp-rest-api-migration.php:9~~6~~ |
  |  | 632 | #: includes/apis/class-instawp-rest-api-migration.php:97 |
  | 633 | 633 | msgid "Migration could not initiate because the allow\_url\_fopen is set to false." |
  | 634 | 634 | msgstr "" |
  | 635 | 635 |  |
  | 636 |  | #: includes/apis/class-instawp-rest-api-migration.php:11~~4~~ |
  |  | 636 | #: includes/apis/class-instawp-rest-api-migration.php:115 |
  | 637 | 637 | msgid "Could not create destination file." |
  | 638 | 638 | msgstr "" |
  | 639 | 639 |  |
  | 640 |  | #: includes/apis/class-instawp-rest-api-migration.php:17~~0~~ |
  |  | 640 | #: includes/apis/class-instawp-rest-api-migration.php:171 |
  | 641 | 641 | msgid "Post migration cleanup completed." |
  | 642 | 642 | msgstr "" |
  | 643 | 643 |  |
  | 644 |  | #: includes/apis/class-instawp-rest-api-migration.php:20~~0~~ |
  |  | 644 | #: includes/apis/class-instawp-rest-api-migration.php:201 |
  | 645 | 645 | msgid "sso\_url\_class\_not\_found: This class NewfoldLabs\WP\Module\Migration\Services\MigrationSSO not found." |
  | 646 | 646 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L706) | […](/browser/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot?rev=3109305#L706) |  |
  | 706 | 706 | msgstr "" |
  | 707 | 707 |  |
  | 708 |  | #: includes/sync/class-instawp-sync-ajax.php:31~~5~~ |
  |  | 708 | #: includes/sync/class-instawp-sync-ajax.php:316 |
  | 709 | 709 | msgid "%1$u %2$s %3$s" |
  | 710 | 710 | msgstr "" |
  | 711 | 711 |  |
  | 712 |  | #: includes/sync/class-instawp-sync-ajax.php:30~~3~~ |
  |  | 712 | #: includes/sync/class-instawp-sync-ajax.php:304 |
  | 713 | 713 | msgid "%1$u %2$s" |
  | 714 | 714 | msgstr "" |
  | 715 | 715 |  |
  | 716 |  | #: includes/sync/class-instawp-sync-ajax.php:3~~09~~ |
  |  | 716 | #: includes/sync/class-instawp-sync-ajax.php:310 |
  | 717 | 717 | msgid "Show more" |
  | 718 | 718 | msgstr "" |
  | 719 | 719 |  |
  | 720 |  | #: includes/sync/class-instawp-sync-ajax.php:3~~29~~ |
  |  | 720 | #: includes/sync/class-instawp-sync-ajax.php:330 |
  | 721 | 721 | msgid "Waiting for Sync to Start (%d event)" |
  | 722 | 722 | msgid\_plural "Waiting for Sync to Start (%d events)" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L724) | […](/browser/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot?rev=3109305#L724) |  |
  | 724 | 724 | msgstr[1] "" |
  | 725 | 725 |  |
  | 726 |  | #: includes/sync/class-instawp-sync-ajax.php:33~~7~~ |
  |  | 726 | #: includes/sync/class-instawp-sync-ajax.php:338 |
  | 727 | 727 | msgid "Events loaded" |
  | 728 | 728 | msgstr "" |
  | 729 | 729 |  |
  | 730 |  | #: includes/sync/class-instawp-sync-ajax.php:33~~7, includes/sync/class-instawp-sync-ajax.php:404~~ |
  |  | 730 | #: includes/sync/class-instawp-sync-ajax.php:338, includes/sync/class-instawp-sync-ajax.php:405 |
  | 731 | 731 | msgid "No pending events found!" |
  | 732 | 732 | msgstr "" |
  | 733 | 733 |  |
  | 734 |  | #: includes/sync/class-instawp-sync-ajax.php:40~~0~~ |
  |  | 734 | #: includes/sync/class-instawp-sync-ajax.php:401 |
  | 735 | 735 | msgid "You have reached your sync limit. Remaining quota %1$s out of %2$s." |
  | 736 | 736 | msgstr "" |
  | 737 | 737 |  |
  | 738 |  | #: includes/sync/class-instawp-sync-ajax.php:39~~7~~ |
  |  | 738 | #: includes/sync/class-instawp-sync-ajax.php:398 |
  | 739 | 739 | msgid " Completed (0 out of %d events)" |
  | 740 | 740 | msgstr "" |
  | 741 | 741 |  |
  | 742 |  | #: includes/sync/class-instawp-sync-ajax.php:45~~3~~ |
  |  | 742 | #: includes/sync/class-instawp-sync-ajax.php:454 |
  | 743 | 743 | msgid "« Previous" |
  | 744 | 744 | msgstr "" |
  | 745 | 745 |  |
  | 746 |  | #: includes/sync/class-instawp-sync-ajax.php:45~~4~~ |
  |  | 746 | #: includes/sync/class-instawp-sync-ajax.php:455 |
  | 747 | 747 | msgid "Next »" |
  | 748 | 748 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L832) | […](/browser/instawp-connect/tags/0.1.0.44/languages/instawp-connect.pot?rev=3109305#L832) |  |
  | 832 | 832 | msgstr "" |
  | 833 | 833 |  |
  | 834 |  | #: includes/sync/class-instawp-sync-post.php:7~~1, includes/sync/class-instawp-sync-post.php:187~~, includes/sync/class-instawp-sync-term.php:54 |
  |  | 834 | #: includes/sync/class-instawp-sync-post.php:73, includes/sync/class-instawp-sync-post.php:189, includes/sync/class-instawp-sync-term.php:54 |
  | 835 | 835 | msgid "%s modified" |
  | 836 | 836 | msgstr "" |
  | 837 | 837 |  |
  | 838 |  | #: includes/sync/class-instawp-sync-post.php:~~68~~ |
  |  | 838 | #: includes/sync/class-instawp-sync-post.php:70 |
  | 839 | 839 | msgid "%s restored" |
  | 840 | 840 | msgstr "" |
  | 841 | 841 |  |
  | 842 |  | #: includes/sync/class-instawp-sync-post.php:6~~5~~ |
  |  | 842 | #: includes/sync/class-instawp-sync-post.php:67 |
  | 843 | 843 | msgid "%s trashed" |
  | 844 | 844 | msgstr "" |
  | 845 | 845 |  |
  | 846 |  | #: includes/sync/class-instawp-sync-post.php:6~~0~~, includes/sync/class-instawp-sync-term.php:32 |
  |  | 846 | #: includes/sync/class-instawp-sync-post.php:62, includes/sync/class-instawp-sync-term.php:32 |
  | 847 | 847 | msgid "%s created" |
  | 848 | 848 | msgstr "" |
  | 849 | 849 |  |
  | 850 |  | #: includes/sync/class-instawp-sync-post.php:~~99~~, includes/sync/class-instawp-sync-term.php:76 |
  |  | 850 | #: includes/sync/class-instawp-sync-post.php:101, includes/sync/class-instawp-sync-term.php:76 |
  | 851 | 851 | msgid "%s deleted" |
  | 852 | 852 | msgstr "" |
  | 853 | 853 |  |
  | 854 |  | #: includes/sync/class-instawp-sync-post.php:11~~6~~ |
  |  | 854 | #: includes/sync/class-instawp-sync-post.php:118 |
  | 855 | 855 | msgid "Media created" |
  | 856 | 856 | msgstr "" |
  | 857 | 857 |  |
  | 858 |  | #: includes/sync/class-instawp-sync-post.php:13~~3, includes/sync/class-instawp-sync-post.php:170~~ |
  |  | 858 | #: includes/sync/class-instawp-sync-post.php:135, includes/sync/class-instawp-sync-post.php:172 |
  | 859 | 859 | msgid "Media updated" |
  | 860 | 860 | msgstr "" |
  | 861 | 861 |  |
  | 862 |  | #: includes/sync/class-instawp-sync-post.php:15~~0~~ |
  |  | 862 | #: includes/sync/class-instawp-sync-post.php:152 |
  | 863 | 863 | msgid "Media deleted" |
  | 864 | 864 | msgstr "" |
* ## [instawp-connect/tags/0.1.0.44/migrate/class-instawp-migrate.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/migrate/class-instawp-migrate.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/migrate/class-instawp-migrate.php")

  | [r3101818](/browser/instawp-connect/trunk/migrate/class-instawp-migrate.php?rev=3101818#L91 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/migrate/class-instawp-migrate.php?rev=3109305#L91 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 91 | 91 |  |
  | 92 | 92 | if ( ! empty( $api\_key ) && $api\_key !== $old\_api\_key ) { |
  | 93 |  | $api\_key\_check\_response = ~~InstaWP\_Setting~~::instawp\_generate\_api\_key( $api\_key ); |
  |  | 93 | $api\_key\_check\_response = Helper::instawp\_generate\_api\_key( $api\_key ); |
  | 94 | 94 | if ( ! $api\_key\_check\_response ) { |
  | 95 | 95 | wp\_send\_json\_error( array( |
* ## [instawp-connect/tags/0.1.0.44/migrate/templates/main.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/migrate/templates/main.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/migrate/templates/main.php")

  | [r3092196](/browser/instawp-connect/trunk/migrate/templates/main.php?rev=3092196#L4 "Show revision 3092196 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/migrate/templates/main.php?rev=3109305#L4 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \*/ |
  | 5 | 5 |  |
  |  | 6 | use InstaWP\Connect\Helpers\Helper; |
  | 6 | 7 | use InstaWP\Connect\Helpers\Option; |
  | 7 | 8 |  |
  | […](/browser/instawp-connect/trunk/migrate/templates/main.php?rev=3092196#L26) | […](/browser/instawp-connect/tags/0.1.0.44/migrate/templates/main.php?rev=3109305#L27) |  |
  | 26 | 27 | $instawp\_settings['instawp\_migration\_details'] = $migration\_details; |
  | 27 | 28 |  |
  | 28 |  | instawp()->is\_connected = ! empty( ~~InstaWP\_Setting~~::get\_api\_key() ); |
  |  | 29 | instawp()->is\_connected = ! empty( Helper::get\_api\_key() ); |
  | 29 | 30 |  |
  | 30 | 31 | if ( ! instawp()->is\_connected ) { |
* ## [instawp-connect/tags/0.1.0.44/migrate/templates/navbar.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/migrate/templates/navbar.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/migrate/templates/navbar.php")

  | [r3067716](/browser/instawp-connect/trunk/migrate/templates/navbar.php?rev=3067716#L29 "Show revision 3067716 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/migrate/templates/navbar.php?rev=3109305#L29 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 29 | 29 | </div> |
  | 30 | 30 | <div class="flex items-center text-sm font-medium"> |
  | 31 |  | <?php if ( empty( ~~InstaWP\_Setting~~::get\_api\_key() ) ) : ?> |
  |  | 31 | <?php if ( empty( Helper::get\_api\_key() ) ) : ?> |
  | 32 | 32 | <div class="flex items-center text-grayCust-1300"><?php esc\_html\_e( 'Please connect InstaWP account', 'instawp-connect' ); ?></div> |
  | 33 | 33 | <button type="button" class="instawp-button-connect px-4 rounded-lg py-2 border border-primary-900 text-primary-900 text-sm font-medium ml-3 mr-3"> |
* ## [instawp-connect/tags/0.1.0.44/migrate/templates/part-settings.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/migrate/templates/part-settings.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/migrate/templates/part-settings.php")

  | [r3101818](/browser/instawp-connect/trunk/migrate/templates/part-settings.php?rev=3101818#L3 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/migrate/templates/part-settings.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \* Migrate template - Settings |
  | 4 | 4 | \*/ |
  |  | 5 |  |
  |  | 6 | use InstaWP\Connect\Helpers\Helper; |
  | 5 | 7 |  |
  | 6 | 8 | ?> |
  | […](/browser/instawp-connect/trunk/migrate/templates/part-settings.php?rev=3101818#L15) | […](/browser/instawp-connect/tags/0.1.0.44/migrate/templates/part-settings.php?rev=3109305#L17) |  |
  | 15 | 17 | <div class="instawp-form-footer rounded-md bg-grayCust-400 p-3 mt-6 flex justify-between items-center"> |
  | 16 | 18 | <div class="instawp-form-buttons flex gap-4"> |
  | 17 |  | <?php if ( ! empty( ~~InstaWP\_Setting~~::get\_api\_key() ) ) { ?> |
  |  | 19 | <?php if ( ! empty( Helper::get\_api\_key() ) ) { ?> |
  | 18 | 20 | <button type="button" class="text-grayCust-500 py-3 px-5 border border-grayCust-350 text-sm font-medium rounded-md instawp-disconnect-plugin"><?php esc\_html\_e( 'Disconnect', 'instawp-connect' ); ?></button> |
  | 19 | 21 | <?php } ?> |
* ## [instawp-connect/tags/0.1.0.44/readme.txt](/changeset/3109305/instawp-connect/tags/0.1.0.44/readme.txt "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/readme.txt")

  | [r3108725](/browser/instawp-connect/trunk/readme.txt?rev=3108725#L5 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/readme.txt?rev=3109305#L5 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Tested up to: 6.5 |
  | 6 | 6 | Requires PHP: 5.6 |
  | 7 |  | Stable tag: 0.1.0.4~~3~~ |
  |  | 7 | Stable tag: 0.1.0.44 |
  | 8 | 8 | License: GPLv3 or later |
  | 9 | 9 | License URI: https://www.gnu.org/licenses/gpl-3.0.en.html |
  | […](/browser/instawp-connect/trunk/readme.txt?rev=3108725#L99) | […](/browser/instawp-connect/tags/0.1.0.44/readme.txt?rev=3109305#L99) |  |
  | 99 | 99 | == Changelog == |
  | 100 | 100 |  |
  |  | 101 | = 0.1.0.44 - 28 Jun 2024 = |
  |  | 102 | - FIX - Fixed security vulnerability issue in auto login. |
  |  | 103 |  |
  | 101 | 104 | = 0.1.0.43 - 27 Jun 2024 = |
  | 102 | 105 | - NEW - WP Scanner CLI commands added. |
* ## [instawp-connect/tags/0.1.0.44/vendor/autoload.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/autoload.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/autoload.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/autoload.php?rev=3108725#L3 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/autoload.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload.php @generated by Composer |
  | 4 | 4 |  |
  |  | 5 | if (PHP\_VERSION\_ID < 50600) { |
  |  | 6 | if (!headers\_sent()) { |
  |  | 7 | header('HTTP/1.1 500 Internal Server Error'); |
  |  | 8 | } |
  |  | 9 | $err = 'Composer 2.3.0 dropped support for autoloading on PHP <5.6 and you are running '.PHP\_VERSION.', please upgrade PHP or use Composer 2.2 LTS via "composer self-update --2.2". Aborting.'.PHP\_EOL; |
  |  | 10 | if (!ini\_get('display\_errors')) { |
  |  | 11 | if (PHP\_SAPI === 'cli' || PHP\_SAPI === 'phpdbg') { |
  |  | 12 | fwrite(STDERR, $err); |
  |  | 13 | } elseif (!headers\_sent()) { |
  |  | 14 | echo $err; |
  |  | 15 | } |
  |  | 16 | } |
  |  | 17 | trigger\_error( |
  |  | 18 | $err, |
  |  | 19 | E\_USER\_ERROR |
  |  | 20 | ); |
  |  | 21 | } |
  |  | 22 |  |
  | 5 | 23 | require\_once \_\_DIR\_\_ . '/composer/autoload\_real.php'; |
  | 6 | 24 |  |
* ## [instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L43 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L43 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 43 | 43 | class ClassLoader |
  | 44 | 44 | { |
  | 45 |  | /\*\* @var ?string \*/ |
  |  | 45 | /\*\* @var \Closure(string):void \*/ |
  |  | 46 | private static $includeFile; |
  |  | 47 |  |
  |  | 48 | /\*\* @var string|null \*/ |
  | 46 | 49 | private $vendorDir; |
  | 47 | 50 |  |
  | 48 | 51 | // PSR-4 |
  | 49 | 52 | /\*\* |
  | 50 |  | \* @var array[] |
  | 51 |  | \* @psalm-var array<string, array<string, int>> |
  |  | 53 | \* @var array<string, array<string, int>> |
  | 52 | 54 | \*/ |
  | 53 | 55 | private $prefixLengthsPsr4 = array(); |
  | 54 | 56 | /\*\* |
  | 55 |  | \* @var array[] |
  | 56 |  | \* @psalm-var array<string, array<int, string>> |
  |  | 57 | \* @var array<string, list<string>> |
  | 57 | 58 | \*/ |
  | 58 | 59 | private $prefixDirsPsr4 = array(); |
  | 59 | 60 | /\*\* |
  | 60 |  | \* @var array[] |
  | 61 |  | \* @psalm-var array<string, string> |
  |  | 61 | \* @var list<string> |
  | 62 | 62 | \*/ |
  | 63 | 63 | private $fallbackDirsPsr4 = array(); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L65) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L65) |  |
  | 65 | 65 | // PSR-0 |
  | 66 | 66 | /\*\* |
  | 67 |  | \* @var array[] |
  | 68 |  | \* @psalm-var array<string, array<string, string[]>> |
  |  | 67 | \* List of PSR-0 prefixes |
  |  | 68 | \* |
  |  | 69 | \* Structured as array('F (first letter)' => array('Foo\Bar (full prefix)' => array('path', 'path2'))) |
  |  | 70 | \* |
  |  | 71 | \* @var array<string, array<string, list<string>>> |
  | 69 | 72 | \*/ |
  | 70 | 73 | private $prefixesPsr0 = array(); |
  | 71 | 74 | /\*\* |
  | 72 |  | \* @var array[] |
  | 73 |  | \* @psalm-var array<string, string> |
  |  | 75 | \* @var list<string> |
  | 74 | 76 | \*/ |
  | 75 | 77 | private $fallbackDirsPsr0 = array(); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L79) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L81) |  |
  | 79 | 81 |  |
  | 80 | 82 | /\*\* |
  | 81 |  | \* @var string[] |
  | 82 |  | \* @psalm-var array<string, string> |
  |  | 83 | \* @var array<string, string> |
  | 83 | 84 | \*/ |
  | 84 | 85 | private $classMap = array(); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L88) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L89) |  |
  | 88 | 89 |  |
  | 89 | 90 | /\*\* |
  | 90 |  | \* @var bool[] |
  | 91 |  | \* @psalm-var array<string, bool> |
  |  | 91 | \* @var array<string, bool> |
  | 92 | 92 | \*/ |
  | 93 | 93 | private $missingClasses = array(); |
  | 94 | 94 |  |
  | 95 |  | /\*\* @var ~~?string~~ \*/ |
  |  | 95 | /\*\* @var string|null \*/ |
  | 96 | 96 | private $apcuPrefix; |
  | 97 | 97 |  |
  | 98 | 98 | /\*\* |
  | 99 |  | \* @var ~~self[]~~ |
  |  | 99 | \* @var array<string, self> |
  | 100 | 100 | \*/ |
  | 101 | 101 | private static $registeredLoaders = array(); |
  | 102 | 102 |  |
  | 103 | 103 | /\*\* |
  | 104 |  | \* @param ~~?string~~ $vendorDir |
  |  | 104 | \* @param string|null $vendorDir |
  | 105 | 105 | \*/ |
  | 106 | 106 | public function \_\_construct($vendorDir = null) |
  | 107 | 107 | { |
  | 108 | 108 | $this->vendorDir = $vendorDir; |
  | 109 |  | } |
  | 110 |  |  |
  | 111 |  | /\*\* |
  | 112 |  | \* @return string[] |
  |  | 109 | self::initializeIncludeClosure(); |
  |  | 110 | } |
  |  | 111 |  |
  |  | 112 | /\*\* |
  |  | 113 | \* @return array<string, list<string>> |
  | 113 | 114 | \*/ |
  | 114 | 115 | public function getPrefixes() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L122) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L123) |  |
  | 122 | 123 |  |
  | 123 | 124 | /\*\* |
  | 124 |  | \* @return array[] |
  | 125 |  | \* @psalm-return array<string, array<int, string>> |
  |  | 125 | \* @return array<string, list<string>> |
  | 126 | 126 | \*/ |
  | 127 | 127 | public function getPrefixesPsr4() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L131) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L131) |  |
  | 131 | 131 |  |
  | 132 | 132 | /\*\* |
  | 133 |  | \* @return array[] |
  | 134 |  | \* @psalm-return array<string, string> |
  |  | 133 | \* @return list<string> |
  | 135 | 134 | \*/ |
  | 136 | 135 | public function getFallbackDirs() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L140) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L139) |  |
  | 140 | 139 |  |
  | 141 | 140 | /\*\* |
  | 142 |  | \* @return array[] |
  | 143 |  | \* @psalm-return array<string, string> |
  |  | 141 | \* @return list<string> |
  | 144 | 142 | \*/ |
  | 145 | 143 | public function getFallbackDirsPsr4() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L149) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L147) |  |
  | 149 | 147 |  |
  | 150 | 148 | /\*\* |
  | 151 |  | \* @return string[] Array of classname => path |
  | 152 |  | \* @psalm-return array<string, string> |
  |  | 149 | \* @return array<string, string> Array of classname => path |
  | 153 | 150 | \*/ |
  | 154 | 151 | public function getClassMap() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L158) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L155) |  |
  | 158 | 155 |  |
  | 159 | 156 | /\*\* |
  | 160 |  | \* @param string[] $classMap Class to filename map |
  | 161 |  | \* @psalm-param array<string, string> $classMap |
  |  | 157 | \* @param array<string, string> $classMap Class to filename map |
  | 162 | 158 | \* |
  | 163 | 159 | \* @return void |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L176) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L172) |  |
  | 176 | 172 | \* appending or prepending to the ones previously set for this prefix. |
  | 177 | 173 | \* |
  | 178 |  | \* @param string          $prefix  The prefix |
  | 179 |  | \* @param ~~string[]~~|string $paths   The PSR-0 root directories |
  | 180 |  | \* @param bool            $prepend Whether to prepend the directories |
  |  | 174 | \* @param string              $prefix  The prefix |
  |  | 175 | \* @param list<string>|string $paths   The PSR-0 root directories |
  |  | 176 | \* @param bool                $prepend Whether to prepend the directories |
  | 181 | 177 | \* |
  | 182 | 178 | \* @return void |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L184) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L180) |  |
  | 184 | 180 | public function add($prefix, $paths, $prepend = false) |
  | 185 | 181 | { |
  |  | 182 | $paths = (array) $paths; |
  | 186 | 183 | if (!$prefix) { |
  | 187 | 184 | if ($prepend) { |
  | 188 | 185 | $this->fallbackDirsPsr0 = array\_merge( |
  | 189 |  | ~~(array)~~ $paths, |
  |  | 186 | $paths, |
  | 190 | 187 | $this->fallbackDirsPsr0 |
  | 191 | 188 | ); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L193) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L190) |  |
  | 193 | 190 | $this->fallbackDirsPsr0 = array\_merge( |
  | 194 | 191 | $this->fallbackDirsPsr0, |
  | 195 |  | ~~(array)~~ $paths |
  |  | 192 | $paths |
  | 196 | 193 | ); |
  | 197 | 194 | } |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L202) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L199) |  |
  | 202 | 199 | $first = $prefix[0]; |
  | 203 | 200 | if (!isset($this->prefixesPsr0[$first][$prefix])) { |
  | 204 |  | $this->prefixesPsr0[$first][$prefix] = ~~(array)~~ $paths; |
  |  | 201 | $this->prefixesPsr0[$first][$prefix] = $paths; |
  | 205 | 202 |  |
  | 206 | 203 | return; |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L208) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L205) |  |
  | 208 | 205 | if ($prepend) { |
  | 209 | 206 | $this->prefixesPsr0[$first][$prefix] = array\_merge( |
  | 210 |  | ~~(array)~~ $paths, |
  |  | 207 | $paths, |
  | 211 | 208 | $this->prefixesPsr0[$first][$prefix] |
  | 212 | 209 | ); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L214) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L211) |  |
  | 214 | 211 | $this->prefixesPsr0[$first][$prefix] = array\_merge( |
  | 215 | 212 | $this->prefixesPsr0[$first][$prefix], |
  | 216 |  | ~~(array)~~ $paths |
  |  | 213 | $paths |
  | 217 | 214 | ); |
  | 218 | 215 | } |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L223) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L220) |  |
  | 223 | 220 | \* appending or prepending to the ones previously set for this namespace. |
  | 224 | 221 | \* |
  | 225 |  | \* @param string          $prefix  The prefix/namespace, with trailing '\\' |
  | 226 |  | \* @param ~~string[]~~|string $paths   The PSR-4 base directories |
  | 227 |  | \* @param bool            $prepend Whether to prepend the directories |
  |  | 222 | \* @param string              $prefix  The prefix/namespace, with trailing '\\' |
  |  | 223 | \* @param list<string>|string $paths   The PSR-4 base directories |
  |  | 224 | \* @param bool                $prepend Whether to prepend the directories |
  | 228 | 225 | \* |
  | 229 | 226 | \* @throws \InvalidArgumentException |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L233) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L230) |  |
  | 233 | 230 | public function addPsr4($prefix, $paths, $prepend = false) |
  | 234 | 231 | { |
  |  | 232 | $paths = (array) $paths; |
  | 235 | 233 | if (!$prefix) { |
  | 236 | 234 | // Register directories for the root namespace. |
  | 237 | 235 | if ($prepend) { |
  | 238 | 236 | $this->fallbackDirsPsr4 = array\_merge( |
  | 239 |  | ~~(array)~~ $paths, |
  |  | 237 | $paths, |
  | 240 | 238 | $this->fallbackDirsPsr4 |
  | 241 | 239 | ); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L243) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L241) |  |
  | 243 | 241 | $this->fallbackDirsPsr4 = array\_merge( |
  | 244 | 242 | $this->fallbackDirsPsr4, |
  | 245 |  | ~~(array)~~ $paths |
  |  | 243 | $paths |
  | 246 | 244 | ); |
  | 247 | 245 | } |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L253) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L251) |  |
  | 253 | 251 | } |
  | 254 | 252 | $this->prefixLengthsPsr4[$prefix[0]][$prefix] = $length; |
  | 255 |  | $this->prefixDirsPsr4[$prefix] = ~~(array)~~ $paths; |
  |  | 253 | $this->prefixDirsPsr4[$prefix] = $paths; |
  | 256 | 254 | } elseif ($prepend) { |
  | 257 | 255 | // Prepend directories for an already registered namespace. |
  | 258 | 256 | $this->prefixDirsPsr4[$prefix] = array\_merge( |
  | 259 |  | ~~(array)~~ $paths, |
  |  | 257 | $paths, |
  | 260 | 258 | $this->prefixDirsPsr4[$prefix] |
  | 261 | 259 | ); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L264) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L262) |  |
  | 264 | 262 | $this->prefixDirsPsr4[$prefix] = array\_merge( |
  | 265 | 263 | $this->prefixDirsPsr4[$prefix], |
  | 266 |  | ~~(array)~~ $paths |
  |  | 264 | $paths |
  | 267 | 265 | ); |
  | 268 | 266 | } |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L273) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L271) |  |
  | 273 | 271 | \* replacing any others previously set for this prefix. |
  | 274 | 272 | \* |
  | 275 |  | \* @param string          $prefix The prefix |
  | 276 |  | \* @param ~~string[]~~|string $paths  The PSR-0 base directories |
  |  | 273 | \* @param string              $prefix The prefix |
  |  | 274 | \* @param list<string>|string $paths  The PSR-0 base directories |
  | 277 | 275 | \* |
  | 278 | 276 | \* @return void |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L291) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L289) |  |
  | 291 | 289 | \* replacing any others previously set for this namespace. |
  | 292 | 290 | \* |
  | 293 |  | \* @param string          $prefix The prefix/namespace, with trailing '\\' |
  | 294 |  | \* @param ~~string[]~~|string $paths  The PSR-4 base directories |
  |  | 291 | \* @param string              $prefix The prefix/namespace, with trailing '\\' |
  |  | 292 | \* @param list<string>|string $paths  The PSR-4 base directories |
  | 295 | 293 | \* |
  | 296 | 294 | \* @throws \InvalidArgumentException |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L426) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L424) |  |
  | 426 | 424 | { |
  | 427 | 425 | if ($file = $this->findFile($class)) { |
  | 428 |  | includeFile($file); |
  |  | 426 | $includeFile = self::$includeFile; |
  |  | 427 | $includeFile($file); |
  | 429 | 428 |  |
  | 430 | 429 | return true; |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L477) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L476) |  |
  | 477 | 476 |  |
  | 478 | 477 | /\*\* |
  | 479 |  | \* Returns the currently registered loaders ~~index~~ed by their corresponding vendor directories. |
  | 480 |  | \* |
  | 481 |  | \* @return ~~self[]~~ |
  |  | 478 | \* Returns the currently registered loaders keyed by their corresponding vendor directories. |
  |  | 479 | \* |
  |  | 480 | \* @return array<string, self> |
  | 482 | 481 | \*/ |
  | 483 | 482 | public static function getRegisteredLoaders() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L556) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/ClassLoader.php?rev=3109305#L555) |  |
  | 556 | 555 | return false; |
  | 557 | 556 | } |
  |  | 557 |  |
  |  | 558 | /\*\* |
  |  | 559 | \* @return void |
  |  | 560 | \*/ |
  |  | 561 | private static function initializeIncludeClosure() |
  |  | 562 | { |
  |  | 563 | if (self::$includeFile !== null) { |
  |  | 564 | return; |
  |  | 565 | } |
  |  | 566 |  |
  |  | 567 | /\*\* |
  |  | 568 | \* Scope isolated include. |
  |  | 569 | \* |
  |  | 570 | \* Prevents access to $this/self from included files. |
  |  | 571 | \* |
  |  | 572 | \* @param  string $file |
  |  | 573 | \* @return void |
  |  | 574 | \*/ |
  |  | 575 | self::$includeFile = \Closure::bind(static function($file) { |
  |  | 576 | include $file; |
  |  | 577 | }, null, null); |
  |  | 578 | } |
  | 558 | 579 | } |
  | 559 |  |  |
  | 560 |  | ~~/\*\*~~ |
  | 561 |  | ~~\* Scope isolated include.~~ |
  | 562 |  | ~~\*~~ |
  | 563 |  | ~~\* Prevents access to $this/self from included files.~~ |
  | 564 |  | ~~\*~~ |
  | 565 |  | ~~\* @param  string $file~~ |
  | 566 |  | ~~\* @return void~~ |
  | 567 |  | ~~\* @private~~ |
  | 568 |  | ~~\*/~~ |
  | 569 |  | ~~function includeFile($file)~~ |
  | 570 |  | ~~{~~ |
  | 571 |  | ~~include $file;~~ |
  | 572 |  | ~~}~~ |
* ## [instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L22 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305#L22 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 | \* |
  | 23 | 23 | \* To require its presence, you can require `composer-runtime-api ^2.0` |
  |  | 24 | \* |
  |  | 25 | \* @final |
  | 24 | 26 | \*/ |
  | 25 | 27 | class InstalledVersions |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L27) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305#L29) |  |
  | 27 | 29 | /\*\* |
  | 28 | 30 | \* @var mixed[]|null |
  | 29 |  | \* @psalm-var array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>}|array{}|null |
  |  | 31 | \* @psalm-var array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>}|array{}|null |
  | 30 | 32 | \*/ |
  | 31 | 33 | private static $installed; |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L38) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305#L40) |  |
  | 38 | 40 | /\*\* |
  | 39 | 41 | \* @var array[] |
  | 40 |  | \* @psalm-var array<string, array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>}> |
  |  | 42 | \* @psalm-var array<string, array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>}> |
  | 41 | 43 | \*/ |
  | 42 | 44 | private static $installedByVendor = array(); |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L97) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305#L99) |  |
  | 97 | 99 | foreach (self::getInstalled() as $installed) { |
  | 98 | 100 | if (isset($installed['versions'][$packageName])) { |
  | 99 |  | return $includeDevRequirements || ~~empty($installed['versions'][$packageName]['dev\_requirement'])~~; |
  |  | 101 | return $includeDevRequirements || !isset($installed['versions'][$packageName]['dev\_requirement']) || $installed['versions'][$packageName]['dev\_requirement'] === false; |
  | 100 | 102 | } |
  | 101 | 103 | } |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L118) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305#L120) |  |
  | 118 | 120 | public static function satisfies(VersionParser $parser, $packageName, $constraint) |
  | 119 | 121 | { |
  | 120 |  | $constraint = $parser->parseConstraints($constraint); |
  |  | 122 | $constraint = $parser->parseConstraints((string) $constraint); |
  | 121 | 123 | $provided = $parser->parseConstraints(self::getVersionRanges($packageName)); |
  | 122 | 124 |  |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L242) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305#L244) |  |
  | 242 | 244 | /\*\* |
  | 243 | 245 | \* @return array |
  | 244 |  | \* @psalm-return array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string~~} |
  |  | 246 | \* @psalm-return array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool} |
  | 245 | 247 | \*/ |
  | 246 | 248 | public static function getRootPackage() |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L256) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305#L258) |  |
  | 256 | 258 | \* @deprecated Use getAllRawData() instead which returns all datasets for all autoloaders present in the process. getRawData only returns the first dataset loaded, which may not be what you expect. |
  | 257 | 259 | \* @return array[] |
  | 258 |  | \* @psalm-return array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>} |
  |  | 260 | \* @psalm-return array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>} |
  | 259 | 261 | \*/ |
  | 260 | 262 | public static function getRawData() |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L279) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305#L281) |  |
  | 279 | 281 | \* |
  | 280 | 282 | \* @return array[] |
  | 281 |  | \* @psalm-return list<array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>}> |
  |  | 283 | \* @psalm-return list<array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>}> |
  | 282 | 284 | \*/ |
  | 283 | 285 | public static function getAllRawData() |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L302) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305#L304) |  |
  | 302 | 304 | \* @return void |
  | 303 | 305 | \* |
  | 304 |  | \* @psalm-param array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>} $data |
  |  | 306 | \* @psalm-param array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>} $data |
  | 305 | 307 | \*/ |
  | 306 | 308 | public static function reload($data) |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L312) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/InstalledVersions.php?rev=3109305#L314) |  |
  | 312 | 314 | /\*\* |
  | 313 | 315 | \* @return array[] |
  | 314 |  | \* @psalm-return list<array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>}> |
  |  | 316 | \* @psalm-return list<array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>}> |
  | 315 | 317 | \*/ |
  | 316 | 318 | private static function getInstalled() |
* ## [instawp-connect/tags/0.1.0.44/vendor/composer/autoload\_classmap.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_classmap.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/composer/autoload_classmap.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/autoload_classmap.php?rev=3108725#L3 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_classmap.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_classmap.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | $vendorDir = dirname(~~dirname(\_\_FILE\_\_)~~); |
  |  | 5 | $vendorDir = dirname(\_\_DIR\_\_); |
  | 6 | 6 | $baseDir = dirname($vendorDir); |
  | 7 | 7 |  |
* ## [instawp-connect/tags/0.1.0.44/vendor/composer/autoload\_files.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_files.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/composer/autoload_files.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/autoload_files.php?rev=3108725#L3 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_files.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_files.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | $vendorDir = dirname(~~dirname(\_\_FILE\_\_)~~); |
  |  | 5 | $vendorDir = dirname(\_\_DIR\_\_); |
  | 6 | 6 | $baseDir = dirname($vendorDir); |
  | 7 | 7 |  |
* ## [instawp-connect/tags/0.1.0.44/vendor/composer/autoload\_namespaces.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_namespaces.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/composer/autoload_namespaces.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/autoload_namespaces.php?rev=3108725#L3 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_namespaces.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_namespaces.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | $vendorDir = dirname(~~dirname(\_\_FILE\_\_)~~); |
  |  | 5 | $vendorDir = dirname(\_\_DIR\_\_); |
  | 6 | 6 | $baseDir = dirname($vendorDir); |
  | 7 | 7 |  |
* ## [instawp-connect/tags/0.1.0.44/vendor/composer/autoload\_psr4.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_psr4.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/composer/autoload_psr4.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/autoload_psr4.php?rev=3108725#L3 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_psr4.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_psr4.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | $vendorDir = dirname(~~dirname(\_\_FILE\_\_)~~); |
  |  | 5 | $vendorDir = dirname(\_\_DIR\_\_); |
  | 6 | 6 | $baseDir = dirname($vendorDir); |
  | 7 | 7 |  |
* ## [instawp-connect/tags/0.1.0.44/vendor/composer/autoload\_real.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_real.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/composer/autoload_real.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/autoload_real.php?rev=3108725#L26 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_real.php?rev=3109305#L26 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 26 | 26 |  |
  | 27 | 27 | spl\_autoload\_register(array('ComposerAutoloaderInitbc4230231e9e48017a738b41afd9f581', 'loadClassLoader'), true, true); |
  | 28 |  | self::$loader = $loader = new \Composer\Autoload\ClassLoader(\dirname(~~\dirname(\_\_FILE\_\_)~~)); |
  |  | 28 | self::$loader = $loader = new \Composer\Autoload\ClassLoader(\dirname(\_\_DIR\_\_)); |
  | 29 | 29 | spl\_autoload\_unregister(array('ComposerAutoloaderInitbc4230231e9e48017a738b41afd9f581', 'loadClassLoader')); |
  | 30 | 30 |  |
  | 31 |  | $useStaticLoader = PHP\_VERSION\_ID >= 50600 && !defined('HHVM\_VERSION') && (!function\_exists('zend\_loader\_file\_encoded') || !zend\_loader\_file\_encoded()); |
  | 32 |  | if ($useStaticLoader) { |
  | 33 |  | require \_\_DIR\_\_ . '/autoload\_static.php'; |
  | 34 |  |  |
  | 35 |  | call\_user\_func(\Composer\Autoload\ComposerStaticInitbc4230231e9e48017a738b41afd9f581::getInitializer($loader)); |
  | 36 |  | } else { |
  | 37 |  | $map = require \_\_DIR\_\_ . '/autoload\_namespaces.php'; |
  | 38 |  | foreach ($map as $namespace => $path) { |
  | 39 |  | $loader->set($namespace, $path); |
  | 40 |  | } |
  | 41 |  |  |
  | 42 |  | $map = require \_\_DIR\_\_ . '/autoload\_psr4.php'; |
  | 43 |  | foreach ($map as $namespace => $path) { |
  | 44 |  | $loader->setPsr4($namespace, $path); |
  | 45 |  | } |
  | 46 |  |  |
  | 47 |  | $classMap = require \_\_DIR\_\_ . '/autoload\_classmap.php'; |
  | 48 |  | if ($classMap) { |
  | 49 |  | $loader->addClassMap($classMap); |
  | 50 |  | } |
  | 51 |  | } |
  |  | 31 | require \_\_DIR\_\_ . '/autoload\_static.php'; |
  |  | 32 | call\_user\_func(\Composer\Autoload\ComposerStaticInitbc4230231e9e48017a738b41afd9f581::getInitializer($loader)); |
  | 52 | 33 |  |
  | 53 | 34 | $loader->register(true); |
  | 54 | 35 |  |
  | 55 |  | if ($useStaticLoader) { |
  | 56 |  | $includeFiles = Composer\Autoload\ComposerStaticInitbc4230231e9e48017a738b41afd9f581::$files; |
  | 57 |  | } else { |
  | 58 |  | $includeFiles = require \_\_DIR\_\_ . '/autoload\_files.php'; |
  | 59 |  | } |
  | 60 |  | foreach ($includeFiles as $fileIdentifier => $file) { |
  | 61 |  | composerRequirebc4230231e9e48017a738b41afd9f581($fileIdentifier, $file); |
  |  | 36 | $filesToLoad = \Composer\Autoload\ComposerStaticInitbc4230231e9e48017a738b41afd9f581::$files; |
  |  | 37 | $requireFile = \Closure::bind(static function ($fileIdentifier, $file) { |
  |  | 38 | if (empty($GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier])) { |
  |  | 39 | $GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier] = true; |
  |  | 40 |  |
  |  | 41 | require $file; |
  |  | 42 | } |
  |  | 43 | }, null, null); |
  |  | 44 | foreach ($filesToLoad as $fileIdentifier => $file) { |
  |  | 45 | $requireFile($fileIdentifier, $file); |
  | 62 | 46 | } |
  | 63 | 47 |  |
  | […](/browser/instawp-connect/trunk/vendor/composer/autoload_real.php?rev=3108725#L65) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/autoload_real.php?rev=3109305#L49) |  |
  | 65 | 49 | } |
  | 66 | 50 | } |
  | 67 |  |  |
  | 68 |  | ~~/\*\*~~ |
  | 69 |  | ~~\* @param string $fileIdentifier~~ |
  | 70 |  | ~~\* @param string $file~~ |
  | 71 |  | ~~\* @return void~~ |
  | 72 |  | ~~\*/~~ |
  | 73 |  | ~~function composerRequirebc4230231e9e48017a738b41afd9f581($fileIdentifier, $file)~~ |
  | 74 |  | ~~{~~ |
  | 75 |  | ~~if (empty($GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier])) {~~ |
  | 76 |  | ~~$GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier] = true;~~ |
  | 77 |  |  |
  | 78 |  | ~~require $file;~~ |
  | 79 |  | ~~}~~ |
  | 80 |  | ~~}~~ |
* ## [instawp-connect/tags/0.1.0.44/vendor/composer/installed.json](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/composer/installed.json "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/composer/installed.json")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/installed.json?rev=3108725#L8 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.json?rev=3109305#L8 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | "type": "git", |
  | 9 | 9 | "url": "https://github.com/InstaWP/connect-helpers.git", |
  | 10 |  | "reference": "~~6a7f48d7e0658778f7fd8142fc03f14c46c7e8bb~~" |
  | 11 |  | }, |
  | 12 |  | "dist": { |
  | 13 |  | "type": "zip", |
  | 14 |  | "url": "https://api.github.com/repos/InstaWP/connect-helpers/zipball/~~6a7f48d7e0658778f7fd8142fc03f14c46c7e8bb~~", |
  | 15 |  | "reference": "~~6a7f48d7e0658778f7fd8142fc03f14c46c7e8bb~~", |
  |  | 10 | "reference": "c1b990ed12e2401f79a5ede041829da9fb71b11c" |
  |  | 11 | }, |
  |  | 12 | "dist": { |
  |  | 13 | "type": "zip", |
  |  | 14 | "url": "https://api.github.com/repos/InstaWP/connect-helpers/zipball/c1b990ed12e2401f79a5ede041829da9fb71b11c", |
  |  | 15 | "reference": "c1b990ed12e2401f79a5ede041829da9fb71b11c", |
  | 16 | 16 | "shasum": "" |
  | 17 | 17 | }, |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.json?rev=3108725#L20) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.json?rev=3109305#L20) |  |
  | 20 | 20 | "wp-cli/wp-config-transformer": "^1.3" |
  | 21 | 21 | }, |
  | 22 |  | "time": "2024-06-2~~7T12:20:04~~+00:00", |
  |  | 22 | "time": "2024-06-28T14:28:26+00:00", |
  | 23 | 23 | "default-branch": true, |
  | 24 | 24 | "type": "library", |
* ## [instawp-connect/tags/0.1.0.44/vendor/composer/installed.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/composer/installed.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L1 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php?rev=3109305#L1 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php return array( |
  | 2 | 2 | 'root' => array( |
  |  | 3 | 'name' => 'instawp/connect', |
  | 3 | 4 | 'pretty\_version' => 'dev-main', |
  | 4 | 5 | 'version' => 'dev-main', |
  |  | 6 | 'reference' => 'beb762f560060bf576585abbbd352a841fe59313', |
  | 5 | 7 | 'type' => 'wordpress-plugin', |
  | 6 | 8 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | 7 | 9 | 'aliases' => array(), |
  | 8 |  | ~~'reference' => '1c1a983173b3687c13111a9d3170eb1173683113',~~ |
  | 9 |  | ~~'name' => 'instawp/connect',~~ |
  | 10 | 10 | 'dev' => true, |
  | 11 | 11 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L14) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php?rev=3109305#L14) |  |
  | 14 | 14 | 'pretty\_version' => 'dev-main', |
  | 15 | 15 | 'version' => 'dev-main', |
  |  | 16 | 'reference' => 'beb762f560060bf576585abbbd352a841fe59313', |
  | 16 | 17 | 'type' => 'wordpress-plugin', |
  | 17 | 18 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | 18 | 19 | 'aliases' => array(), |
  | 19 |  | ~~'reference' => '1c1a983173b3687c13111a9d3170eb1173683113',~~ |
  | 20 | 20 | 'dev\_requirement' => false, |
  | 21 | 21 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L23) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php?rev=3109305#L23) |  |
  | 23 | 23 | 'pretty\_version' => 'dev-main', |
  | 24 | 24 | 'version' => 'dev-main', |
  |  | 25 | 'reference' => 'c1b990ed12e2401f79a5ede041829da9fb71b11c', |
  | 25 | 26 | 'type' => 'library', |
  | 26 | 27 | 'install\_path' => \_\_DIR\_\_ . '/../instawp/connect-helpers', |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L28) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php?rev=3109305#L29) |  |
  | 28 | 29 | 0 => '9999999-dev', |
  | 29 | 30 | ), |
  | 30 |  | ~~'reference' => '6a7f48d7e0658778f7fd8142fc03f14c46c7e8bb',~~ |
  | 31 | 31 | 'dev\_requirement' => false, |
  | 32 | 32 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L34) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php?rev=3109305#L34) |  |
  | 34 | 34 | 'pretty\_version' => 'v2.7.0', |
  | 35 | 35 | 'version' => '2.7.0.0', |
  |  | 36 | 'reference' => '52a0d99e69f56b9ec27ace92ba56897fe6993105', |
  | 36 | 37 | 'type' => 'library', |
  | 37 | 38 | 'install\_path' => \_\_DIR\_\_ . '/../paragonie/constant\_time\_encoding', |
  | 38 | 39 | 'aliases' => array(), |
  | 39 |  | ~~'reference' => '52a0d99e69f56b9ec27ace92ba56897fe6993105',~~ |
  | 40 | 40 | 'dev\_requirement' => false, |
  | 41 | 41 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L43) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php?rev=3109305#L43) |  |
  | 43 | 43 | 'pretty\_version' => 'v9.99.100', |
  | 44 | 44 | 'version' => '9.99.100.0', |
  |  | 45 | 'reference' => '996434e5492cb4c3edcb9168db6fbb1359ef965a', |
  | 45 | 46 | 'type' => 'library', |
  | 46 | 47 | 'install\_path' => \_\_DIR\_\_ . '/../paragonie/random\_compat', |
  | 47 | 48 | 'aliases' => array(), |
  | 48 |  | ~~'reference' => '996434e5492cb4c3edcb9168db6fbb1359ef965a',~~ |
  | 49 | 49 | 'dev\_requirement' => false, |
  | 50 | 50 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L52) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php?rev=3109305#L52) |  |
  | 52 | 52 | 'pretty\_version' => '3.0.39', |
  | 53 | 53 | 'version' => '3.0.39.0', |
  |  | 54 | 'reference' => '211ebc399c6e73c225a018435fe5ae209d1d1485', |
  | 54 | 55 | 'type' => 'library', |
  | 55 | 56 | 'install\_path' => \_\_DIR\_\_ . '/../phpseclib/phpseclib', |
  | 56 | 57 | 'aliases' => array(), |
  | 57 |  | ~~'reference' => '211ebc399c6e73c225a018435fe5ae209d1d1485',~~ |
  | 58 | 58 | 'dev\_requirement' => false, |
  | 59 | 59 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L61) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php?rev=3109305#L61) |  |
  | 61 | 61 | 'pretty\_version' => '3.8.1', |
  | 62 | 62 | 'version' => '3.8.1.0', |
  |  | 63 | 'reference' => 'e331b534d7de10402d7545a0de50177b874c0779', |
  | 63 | 64 | 'type' => 'wordpress-plugin', |
  | 64 | 65 | 'install\_path' => \_\_DIR\_\_ . '/../woocommerce/action-scheduler', |
  | 65 | 66 | 'aliases' => array(), |
  | 66 |  | ~~'reference' => 'e331b534d7de10402d7545a0de50177b874c0779',~~ |
  | 67 | 67 | 'dev\_requirement' => false, |
  | 68 | 68 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L70) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/composer/installed.php?rev=3109305#L70) |  |
  | 70 | 70 | 'pretty\_version' => 'v1.3.5', |
  | 71 | 71 | 'version' => '1.3.5.0', |
  |  | 72 | 'reference' => '202aa80528939159d52bc4026cee5453aec382db', |
  | 72 | 73 | 'type' => 'library', |
  | 73 | 74 | 'install\_path' => \_\_DIR\_\_ . '/../wp-cli/wp-config-transformer', |
  | 74 | 75 | 'aliases' => array(), |
  | 75 |  | ~~'reference' => '202aa80528939159d52bc4026cee5453aec382db',~~ |
  | 76 | 76 | 'dev\_requirement' => false, |
  | 77 | 77 | ), |
* ## [instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Cache.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Cache.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Cache.php")

  | [r3089455](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Cache.php?rev=3089455#L446 "Show revision 3089455 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Cache.php?rev=3109305#L446 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 446 | 446 | $results[] = [ |
  | 447 | 447 | 'slug'    => 'edge-cache', |
  | 448 |  | 'name'    => '~~Edg~~e Cache', |
  |  | 448 | 'name'    => 'InstaWP Live Cache', |
  | 449 | 449 | 'message' => $message, |
  | 450 | 450 | ]; |
* ## [instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Curl.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Curl.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Curl.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Curl.php?rev=3108725#L5 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Curl.php?rev=3109305#L5 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | class Curl { |
  | 6 | 6 |  |
  | 7 |  | public static function do\_curl( $endpoint, $body = array(), $headers = array(), $is\_post = true, $api\_version = 'v2', $api\_key = '' ) { |
  |  | 7 | public static function do\_curl( $endpoint, $body = array(), $headers = array(), $method = 'POST', $api\_version = 'v2', $api\_key = '' ) { |
  |  | 8 | $api\_url = Helper::get\_api\_domain(); |
  | 8 | 9 |  |
  | 9 |  | ~~$api\_url = Helper::get\_api\_domain();~~ |
  | 10 | 10 | if ( empty( $api\_url ) ) { |
  | 11 | 11 | return array( |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Curl.php?rev=3108725#L34) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Curl.php?rev=3109305#L34) |  |
  | 34 | 34 | ) ); |
  | 35 | 35 |  |
  | 36 |  | if ( $is\_post === 'patch' ) { |
  | 37 |  | $api\_method = 'PATCH'; |
  | 38 |  | } elseif ( $is\_post === 'put' ) { |
  | 39 |  | $api\_method = 'PUT'; |
  |  | 36 | if ( is\_bool( $method ) ) { |
  |  | 37 | $method = $method ? 'POST' : 'GET'; |
  | 40 | 38 | } else { |
  | 41 |  | $~~api\_method = $is\_post ? 'POST' : 'GET'~~; |
  |  | 39 | $method = strtoupper( $method ); |
  | 42 | 40 | } |
  | 43 | 41 |  |
  | 44 | 42 | $args = array( |
  | 45 |  | 'method'          => $~~api\_~~method, |
  |  | 43 | 'method'          => $method, |
  | 46 | 44 | 'headers'         => $headers, |
  | 47 | 45 | 'timeout'         => 60, |
* ## [instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php](/changeset/3109305/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php "Show the changeset 3109305 restricted to instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L6 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L6 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 |  |
  | 7 | 7 | public static function instawp\_generate\_api\_key( $api\_key ) { |
  | 8 |  |  |
  | 9 | 8 | if ( empty( $api\_key ) ) { |
  | 10 | 9 | error\_log( 'instawp\_generate\_api\_key empty api\_key parameter' ); |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L13) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L12) |  |
  | 13 | 12 | } |
  | 14 | 13 |  |
  | 15 |  | $api\_response = Curl::do\_curl( 'check-key', array(), array(), ~~false~~, 'v1', $api\_key ); |
  |  | 14 | $api\_response = Curl::do\_curl( 'check-key', array(), array(), 'GET', 'v1', $api\_key ); |
  | 16 | 15 |  |
  | 17 | 16 | if ( ! empty( $api\_response['data']['status'] ) ) { |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L36) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L35) |  |
  | 36 | 35 | 'username'    => base64\_encode( self::get\_admin\_username() ), |
  | 37 | 36 | ); |
  | 38 |  | $connect\_response = Curl::do\_curl( 'connects', $connect\_body, array(), ~~true~~, 'v1' ); |
  |  | 37 | $connect\_response = Curl::do\_curl( 'connects', $connect\_body, array(), 'POST', 'v1' ); |
  | 39 | 38 |  |
  | 40 | 39 | if ( ! empty( $connect\_response['data']['status'] ) ) { |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L79) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L78) |  |
  | 79 | 78 |  |
  | 80 | 79 | public static function get\_api\_key( $return\_hashed = false, $default\_key = '' ) { |
  | 81 |  |  |
  | 82 | 80 | $api\_options = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 83 | 81 | $api\_key     = self::get\_args\_option( 'api\_key', $api\_options, $default\_key ); |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L98) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L96) |  |
  | 98 | 96 |  |
  | 99 | 97 |  |
  | 100 |  | public static function get\_random\_string( $length ) { |
  |  | 98 | public static function get\_random\_string( $length = 6 ) { |
  | 101 | 99 | try { |
  | 102 | 100 | $length        = ( int ) round( ceil( absint( $length ) / 2 ) ); |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L130) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L128) |  |
  | 130 | 128 | $files\_total = 0; |
  | 131 | 129 | $path        = realpath( $path ); |
  |  | 130 |  |
  | 132 | 131 | try { |
  | 133 | 132 | if ( $path !== false && $path != '' && file\_exists( $path ) ) { |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L230) | […](/browser/instawp-connect/tags/0.1.0.44/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L229) |  |
  | 230 | 229 |  |
  | 231 | 230 | public static function set\_api\_domain( $api\_domain = '' ) { |
  | 232 |  |  |
  | 233 | 231 | if ( empty( $api\_domain ) ) { |
  | 234 | 232 | $api\_domain = esc\_url\_raw( 'https://app.instawp.io' ); |
* ## [instawp-connect/trunk/includes/apis/class-instawp-rest-api-migration.php](/changeset/3109305/instawp-connect/trunk/includes/apis/class-instawp-rest-api-migration.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/apis/class-instawp-rest-api-migration.php")

  | [r3097284](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api-migration.php?rev=3097284#L2 "Show revision 3097284 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api-migration.php?rev=3109305#L2 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 |  |
  | 3 | 3 | use InstaWP\Connect\Helpers; |
  |  | 4 | use InstaWP\Connect\Helpers\Helper; |
  | 4 | 5 | use InstaWP\Connect\Helpers\Option; |
  | 5 | 6 |  |
  | […](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api-migration.php?rev=3097284#L105) | […](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api-migration.php?rev=3109305#L106) |  |
  | 105 | 106 | InstaWP\_Tools::clean\_instawpbackups\_dir(); |
  | 106 | 107 |  |
  | 107 |  | $migrate\_key      = ~~InstaWP\_Tools~~::get\_random\_string( 40 ); |
  |  | 108 | $migrate\_key      = Helper::get\_random\_string( 40 ); |
  | 108 | 109 | $migrate\_settings = InstaWP\_Tools::get\_migrate\_settings(); |
  | 109 | 110 | $api\_signature    = hash( 'sha512', $migrate\_key . wp\_generate\_uuid4() ); |
* ## [instawp-connect/trunk/includes/apis/class-instawp-rest-api.php](/changeset/3109305/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/apis/class-instawp-rest-api.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php?rev=3108725#L165 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php?rev=3109305#L165 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 165 | 165 | if ( ! empty( $api\_domain ) ) { |
  | 166 | 166 | if ( defined( 'INSTAWP\_API\_DOMAIN' ) ) { |
  | 167 |  | ~~InstaWP\_Setting~~::set\_api\_domain( INSTAWP\_API\_DOMAIN ); |
  |  | 167 | Helper::set\_api\_domain( INSTAWP\_API\_DOMAIN ); |
  | 168 | 168 | } elseif ( in\_array( $api\_domain, array( 'https://stage.instawp.io', 'https://app.instawp.io' ) ) ) { |
  | 169 | 169 | $api\_domain = rtrim( $api\_domain, '/' ); |
  | 170 |  | ~~InstaWP\_Setting~~::set\_api\_domain( $api\_domain ); |
  |  | 170 | Helper::set\_api\_domain( $api\_domain ); |
  | 171 | 171 | } else { |
  | 172 | 172 | return $this->send\_response( array( |
  | […](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php?rev=3108725#L177) | […](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php?rev=3109305#L177) |  |
  | 177 | 177 | } |
  | 178 | 178 |  |
  | 179 |  | if ( ! ~~InstaWP\_Setting~~::instawp\_generate\_api\_key( $api\_key ) ) { |
  |  | 179 | if ( ! Helper::instawp\_generate\_api\_key( $api\_key ) ) { |
  | 180 | 180 | return $this->send\_response( array( |
  | 181 | 181 | 'status'  => false, |
  | […](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php?rev=3108725#L394) | […](/browser/instawp-connect/trunk/includes/apis/class-instawp-rest-api.php?rev=3109305#L394) |  |
  | 394 | 394 | //in some cases Laravel stores api key with ID attached in front of it. |
  | 395 | 395 | //so we need to remove it and then hash the key |
  | 396 |  | $api\_key          = ~~InstaWP\_Setting~~::get\_api\_key(); |
  |  | 396 | $api\_key          = Helper::get\_api\_key(); |
  | 397 | 397 | $api\_key\_exploded = explode( '|', $api\_key ); |
  | 398 | 398 |  |
* ## [instawp-connect/trunk/includes/class-instawp-ajax.php](/changeset/3109305/instawp-connect/trunk/includes/class-instawp-ajax.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/class-instawp-ajax.php")

  | [r3098069](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3098069#L10 "Show revision 3098069 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3109305#L10 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 10 | 10 | defined( 'ABSPATH' ) || exit; |
  | 11 | 11 |  |
  | 12 |  | class InstaWP\_AJAX { |
  | 13 |  | public $instawp\_log; |
  |  | 12 | class InstaWP\_Ajax { |
  | 14 | 13 |  |
  | 15 | 14 | public function \_\_construct() { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3098069#L274) | […](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3109305#L273) |  |
  | 274 | 273 |  |
  | 275 | 274 | $migrate\_settings   = InstaWP\_Tools::get\_migrate\_settings( $\_POST ); |
  | 276 |  | $migrate\_key        = ~~InstaWP\_Tools~~::get\_random\_string( 40 ); |
  |  | 275 | $migrate\_key        = Helper::get\_random\_string( 40 ); |
  | 277 | 276 | $pre\_check\_response = InstaWP\_Tools::get\_pull\_pre\_check\_response( $migrate\_key, $migrate\_settings ); |
  | 278 | 277 |  |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3098069#L410) | […](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3109305#L409) |  |
  | 410 | 409 | instawp\_reset\_running\_migration( 'hard' ); |
  | 411 | 410 |  |
  | 412 |  | ~~InstaWP\_Setting~~::set\_api\_domain( $api\_domain ); |
  |  | 411 | Helper::set\_api\_domain( $api\_domain ); |
  | 413 | 412 |  |
  | 414 | 413 | wp\_send\_json\_error( array( |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3098069#L674) | […](/browser/instawp-connect/trunk/includes/class-instawp-ajax.php?rev=3109305#L673) |  |
  | 674 | 673 | } |
  | 675 | 674 |  |
  | 676 |  | new InstaWP\_A~~JAX~~(); |
  |  | 675 | new InstaWP\_Ajax(); |
* ## [instawp-connect/trunk/includes/class-instawp-cli.php](/changeset/3109305/instawp-connect/trunk/includes/class-instawp-cli.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/class-instawp-cli.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3108725#L53 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3109305#L53 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 53 | 53 |  |
  | 54 | 54 | // Add migration entry |
  | 55 |  | $migrate\_key         = ~~InstaWP\_Tools~~::get\_random\_string( 40 ); |
  |  | 55 | $migrate\_key         = Helper::get\_random\_string( 40 ); |
  | 56 | 56 | $migrate\_settings    = InstaWP\_Tools::get\_migrate\_settings( $\_POST ); // phpcs:ignore WordPress.Security.NonceVerification.Missing |
  | 57 | 57 | $migrate\_args        = array( |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3108725#L156) | […](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3109305#L156) |  |
  | 156 | 156 | if ( isset( $args[1] ) ) { |
  | 157 | 157 | if ( $args[1] === 'api-key' ) { |
  | 158 |  | ~~InstaWP\_Setting~~::instawp\_generate\_api\_key( $args[2] ); |
  |  | 158 | Helper::instawp\_generate\_api\_key( $args[2] ); |
  | 159 | 159 | } elseif ( $args[1] === 'api-domain' ) { |
  | 160 |  | ~~InstaWP\_Setting~~::set\_api\_domain( $args[2] ); |
  |  | 160 | Helper::set\_api\_domain( $args[2] ); |
  | 161 | 161 | } |
  | 162 | 162 | } |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3108725#L207) | […](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3109305#L207) |  |
  | 207 | 207 |  |
  | 208 | 208 | if ( isset( $args[0] ) && $args[0] === 'scan' ) { |
  | 209 |  | ~~$wp\_scanner = new \InstaWP\Connect\Helpers\WPScanner();~~ |
  | 210 | 209 |  |
  | 211 | 210 | if ( isset( $args[1] ) && $args[1] === 'summary' ) { |
  |  | 211 |  |
  |  | 212 | //                  $result = WP\_CLI::runcommand( 'plugin is-active code-profiler', [ 'return' => 'all', 'exit\_error' => false ] ); |
  |  | 213 | // |
  |  | 214 | //                  if ( $result->return\_code === 1 ) { |
  |  | 215 | //                      WP\_CLI::runcommand( 'plugin install code-profiler --force --activate' ); |
  |  | 216 | //                  } |
  |  | 217 |  |
  |  | 218 | $wp\_scanner  = new \InstaWP\Connect\Helpers\WPScanner(); |
  | 212 | 219 | $summary\_res = $wp\_scanner->scan\_summary(); |
  | 213 | 220 |  |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3108725#L230) | […](/browser/instawp-connect/trunk/includes/class-instawp-cli.php?rev=3109305#L237) |  |
  | 230 | 237 |  |
  | 231 | 238 | if ( isset( $args[1] ) && $args[1] === 'slow-item' ) { |
  |  | 239 |  |
  |  | 240 | $wp\_scanner = new \InstaWP\Connect\Helpers\WPScanner(); |
  | 232 | 241 | $slow\_items = $wp\_scanner->scan\_slow\_items(); |
  | 233 | 242 |  |
* ## [instawp-connect/trunk/includes/class-instawp-heartbeat.php](/changeset/3109305/instawp-connect/trunk/includes/class-instawp-heartbeat.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/class-instawp-heartbeat.php")

  | [r3101818](/browser/instawp-connect/trunk/includes/class-instawp-heartbeat.php?rev=3101818#L157 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/class-instawp-heartbeat.php?rev=3109305#L157 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 157 | 157 | $heartbeat\_body = base64\_encode( $heartbeat\_body ); // phpcs:ignore WordPress.PHP.DiscouragedPHPFunctions.obfuscation\_base64\_encode |
  | 158 | 158 |  |
  | 159 |  | $heartbeat\_response = Curl::do\_curl( "connects/{$connect\_id}/heartbeat", $heartbeat\_body, array(), ~~true~~, 'v1' ); |
  |  | 159 | $heartbeat\_response = Curl::do\_curl( "connects/{$connect\_id}/heartbeat", $heartbeat\_body, array(), 'POST', 'v1' ); |
  | 160 | 160 | $response\_code      = Helper::get\_args\_option( 'code', $heartbeat\_response ); |
  | 161 | 161 | $success            = intval( $response\_code ) === 200; |
* ## [instawp-connect/trunk/includes/class-instawp-hooks.php](/changeset/3109305/instawp-connect/trunk/includes/class-instawp-hooks.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/class-instawp-hooks.php")

  | [r3101818](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L13 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305#L13 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 |  |
  | 14 | 14 | public function \_\_construct() { |
  | 15 |  | //          add\_action( 'init', array( $this, 'ob\_start' ) ); |
  | 16 |  | //          add\_action( 'wp\_footer', array( $this, 'ob\_end' ) ); |
  | 17 |  |  |
  | 18 |  | add\_action( 'init', array( $this, 'generate\_api\_key' ) ); |
  |  | 15 | add\_action( 'admin\_init', array( $this, 'generate\_api\_key' ) ); |
  | 19 | 16 | add\_action( 'update\_option', array( $this, 'manage\_update\_option' ), 10, 3 ); |
  | 20 | 17 | add\_action( 'init', array( $this, 'handle\_hard\_disable\_seo\_visibility' ) ); |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L26) | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305#L23) |  |
  | 26 | 23 | } |
  | 27 | 24 |  |
  | 28 |  | public function generate\_api\_key() { |
  | 29 |  | $access\_token    = isset( $\_REQUEST['access\_token'] ) ? sanitize\_text\_field( wp\_unslash( $\_REQUEST['access\_token'] ) ) : ''; |
  | 30 |  | $success\_status  = isset( $\_REQUEST['success'] ) ? sanitize\_text\_field( wp\_unslash( $\_REQUEST['success'] ) ) : ''; |
  | 31 |  |  |
  | 32 |  | if ( 'true' === $success\_status && InstaWP\_Setting::get\_api\_key() !== $access\_token ) { |
  | 33 |  | InstaWP\_Setting::instawp\_generate\_api\_key( $access\_token ); |
  | 34 |  |  |
  | 35 |  | wp\_safe\_redirect( admin\_url( 'tools.php?page=instawp' ) ); |
  | 36 |  | exit(); |
  | 37 |  | } |
  | 38 |  | } |
  |  | 25 | public function generate\_api\_key() { |
  |  | 26 | if ( ! current\_user\_can( 'manage\_options' ) ) { |
  |  | 27 | return; |
  |  | 28 | } |
  |  | 29 |  |
  |  | 30 | $api\_key        = Helper::get\_api\_key(); |
  |  | 31 | $access\_token   = isset( $\_REQUEST['access\_token'] ) ? sanitize\_text\_field( wp\_unslash( $\_REQUEST['access\_token'] ) ) : ''; |
  |  | 32 | $success\_status = isset( $\_REQUEST['success'] ) ? sanitize\_text\_field( wp\_unslash( $\_REQUEST['success'] ) ) : ''; |
  |  | 33 |  |
  |  | 34 | if ( 'true' === $success\_status && empty( $api\_key ) && $api\_key !== $access\_token ) { |
  |  | 35 | Helper::instawp\_generate\_api\_key( $access\_token ); |
  |  | 36 |  |
  |  | 37 | wp\_safe\_redirect( admin\_url( 'tools.php?page=instawp' ) ); |
  |  | 38 | exit(); |
  |  | 39 | } |
  |  | 40 | } |
  | 39 | 41 |  |
  | 40 | 42 | public function handle\_auto\_login\_request() { |
  |  | 43 | if ( empty( Helper::get\_api\_key() ) ) { |
  |  | 44 | return; |
  |  | 45 | } |
  | 41 | 46 |  |
  | 42 | 47 | $url\_args       = array\_map( 'sanitize\_text\_field', $\_GET ); |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L53) | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305#L58) |  |
  | 53 | 58 | $saved\_login\_code   = Helper::get\_args\_option( 'code', $instawp\_login\_code ); |
  | 54 | 59 | $saved\_updated\_at   = Helper::get\_args\_option( 'updated\_at', $instawp\_login\_code ); |
  | 55 |  | $redirect           = wp\_login\_url(); |
  |  | 60 | $redirect           = wp\_login\_url(); |
  | 56 | 61 |  |
  | 57 | 62 | if ( $saved\_login\_code && $saved\_updated\_at && ( time() - intval( $saved\_updated\_at ) <= 30 ) && $saved\_login\_code === $login\_code && username\_exists( $login\_username ) ) { |
  | 58 | 63 | $redirect   = admin\_url(); |
  | 59 |  | $login\_user = get\_user\_by( 'login', $login\_username ); |
  |  | 64 | $login\_user = get\_user\_by( 'login', $login\_username ); |
  | 60 | 65 |  |
  | 61 | 66 | wp\_set\_current\_user( $login\_user->ID, $login\_user->user\_login ); |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L71) | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305#L76) |  |
  | 71 | 76 |  |
  | 72 | 77 | public function front\_enqueue\_scripts() { |
  | 73 |  | wp\_enqueue\_style( 'instawp-common', instaWP::get\_asset\_url( 'assets/css/common.min.css' ), array(), INSTAWP\_PLUGIN\_VERSION ); |
  | 74 |  | wp\_enqueue\_script( 'instawp-common', instaWP::get\_asset\_url( 'assets/js/common.js' ), array( 'jquery' ), INSTAWP\_PLUGIN\_VERSION, true ); |
  | 75 |  | wp\_localize\_script( 'instawp-common', 'instawp\_common', InstaWP\_Tools::get\_localize\_data() ); |
  |  | 78 | if ( $this->can\_show\_navbar() ) { |
  |  | 79 | wp\_enqueue\_style( 'instawp-common', instaWP::get\_asset\_url( 'assets/css/common.min.css' ), array(), INSTAWP\_PLUGIN\_VERSION ); |
  |  | 80 | wp\_enqueue\_script( 'instawp-common', instaWP::get\_asset\_url( 'assets/js/common.js' ), array( 'jquery' ), INSTAWP\_PLUGIN\_VERSION, true ); |
  |  | 81 | wp\_localize\_script( 'instawp-common', 'instawp\_common', InstaWP\_Tools::get\_localize\_data() ); |
  |  | 82 | } |
  | 76 | 83 | } |
  | 77 | 84 |  |
  | 78 | 85 | public function add\_instawp\_menu\_icon( WP\_Admin\_Bar $admin\_bar ) { |
  | 79 |  |  |
  | 80 |  | if ( ! apply\_filters( 'instawp/filters/display\_menu\_bar\_icon', true ) || 'on' === Option::get\_option( 'instawp\_hide\_plugin\_icon\_topbar', 'off' ) ) { |
  | 81 |  | return; |
  | 82 |  | } |
  | 83 |  |  |
  | 84 |  | global $current\_user; |
  | 85 |  |  |
  | 86 |  | $sync\_tab\_roles = Option::get\_option( 'instawp\_sync\_tab\_roles', array( 'administrator' ) ); |
  | 87 |  | $sync\_tab\_roles = ! is\_array( $sync\_tab\_roles ) || empty( $sync\_tab\_roles ) ? array( 'administrator' ) : $sync\_tab\_roles; |
  | 88 |  | $meta\_classes   = array( 'instawp-sync-recording' ); |
  |  | 86 | $meta\_classes = array( 'instawp-sync-recording' ); |
  | 89 | 87 |  |
  | 90 | 88 | if ( 1 === (int) Option::get\_option( 'instawp\_is\_event\_syncing', '0' ) ) { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L92) | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305#L90) |  |
  | 92 | 90 | } |
  | 93 | 91 |  |
  | 94 |  | if ( ~~! empty( array\_intersect( $sync\_tab\_roles, $current\_user->roles )~~ ) ) { |
  |  | 92 | if ( $this->can\_show\_navbar() ) { |
  | 95 | 93 | $admin\_bar->add\_menu( array( |
  | 96 | 94 | 'id'    => 'instawp', |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L210) | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305#L208) |  |
  | 210 | 208 | ) ); |
  | 211 | 209 |  |
  | 212 |  | $connect\_id = ~~InstaWP\_Setting~~::get\_connect\_id(); |
  |  | 210 | $connect\_id = Helper::get\_connect\_id(); |
  | 213 | 211 |  |
  | 214 | 212 | if ( ! empty( $connect\_id ) && current\_user\_can( 'manage\_options' ) ) { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L238) | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305#L236) |  |
  | 238 | 236 | } |
  | 239 | 237 | } |
  |  | 238 |  |
  |  | 239 | private function can\_show\_navbar() { |
  |  | 240 | if ( ! apply\_filters( 'instawp/filters/display\_menu\_bar\_icon', true ) ) { |
  |  | 241 | return false; |
  |  | 242 | } |
  |  | 243 |  |
  |  | 244 | global $current\_user; |
  |  | 245 |  |
  |  | 246 | $can\_show       = 'off' === Option::get\_option( 'instawp\_hide\_plugin\_icon\_topbar', 'off' ); |
  |  | 247 | $sync\_tab\_roles = Option::get\_option( 'instawp\_sync\_tab\_roles', array( 'administrator' ) ); |
  |  | 248 | $sync\_tab\_roles = ! is\_array( $sync\_tab\_roles ) || empty( $sync\_tab\_roles ) ? array( 'administrator' ) : $sync\_tab\_roles; |
  |  | 249 |  |
  |  | 250 | if ( $can\_show && empty( array\_intersect( $sync\_tab\_roles, $current\_user->roles ) ) ) { |
  |  | 251 | $can\_show = false; |
  |  | 252 | } |
  |  | 253 |  |
  |  | 254 | return $can\_show; |
  |  | 255 | } |
  | 240 | 256 |  |
  | 241 | 257 | public function handle\_hard\_disable\_seo\_visibility() { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L263) | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305#L279) |  |
  | 263 | 279 |  |
  | 264 | 280 | if ( ! empty( $connect\_id ) ) { |
  | 265 |  | ~~InstaWP\_Setting~~::set\_connect\_id( $connect\_id ); |
  |  | 281 | Helper::set\_connect\_id( $connect\_id ); |
  | 266 | 282 | } |
  | 267 | 283 |  |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L275) | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305#L291) |  |
  | 275 | 291 |  |
  | 276 | 292 | public function admin\_notice() { |
  | 277 |  | if ( ! isset( $\_GET['instawp-cache-cleared'] ) ) { |
  | 278 |  | return; |
  | 279 |  | } |
  |  | 293 | if ( ! isset( $\_GET['instawp-cache-cleared'] ) ) { |
  |  | 294 | return; |
  |  | 295 | } |
  | 280 | 296 |  |
  | 281 | 297 | $cache\_cleared = get\_transient( 'instawp\_cache\_purged' ); |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3101818#L289) | […](/browser/instawp-connect/trunk/includes/class-instawp-hooks.php?rev=3109305#L305) |  |
  | 289 | 305 | delete\_transient( 'instawp\_cache\_purged' ); |
  | 290 | 306 | } |
  | 291 |  |  |
  | 292 |  | ~~function ob\_callback( $buffer ) {~~ |
  | 293 |  | ~~return $buffer;~~ |
  | 294 |  | ~~}~~ |
  | 295 |  |  |
  | 296 |  | ~~function ob\_start() {~~ |
  | 297 |  | ~~ob\_start( array( $this, 'ob\_callback' ) );~~ |
  | 298 |  | ~~}~~ |
  | 299 |  |  |
  | 300 |  | ~~function ob\_end() {~~ |
  | 301 |  | ~~if ( ob\_get\_length() ) {~~ |
  | 302 |  | ~~ob\_end\_flush();~~ |
  | 303 |  | ~~}~~ |
  | 304 |  | ~~}~~ |
  | 305 | 307 | } |
  | 306 | 308 | } |
* ## [instawp-connect/trunk/includes/class-instawp-setting.php](/changeset/3109305/instawp-connect/trunk/includes/class-instawp-setting.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/class-instawp-setting.php")

  | [r3102622](/browser/instawp-connect/trunk/includes/class-instawp-setting.php?rev=3102622#L1 "Show revision 3102622 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/class-instawp-setting.php?rev=3109305#L1 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  | 2 | 2 |  |
  | 3 |  | use InstaWP\Connect\Helpers\~~Curl~~; |
  |  | 3 | use InstaWP\Connect\Helpers\Helper; |
  | 4 | 4 | use InstaWP\Connect\Helpers\Option; |
  | 5 | 5 |  |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-setting.php?rev=3102622#L620) | […](/browser/instawp-connect/trunk/includes/class-instawp-setting.php?rev=3109305#L620) |  |
  | 620 | 620 | } |
  | 621 | 621 |  |
  | 622 |  | ~~public static function set\_api\_domain( $instawp\_api\_url = '' ) {~~ |
  | 623 |  | ~~if ( empty( $instawp\_api\_url ) ) {~~ |
  | 624 |  | ~~return false;~~ |
  | 625 |  | ~~}~~ |
  | 626 |  |  |
  | 627 |  | ~~$api\_options            = Option::get\_option( 'instawp\_api\_options', array() );~~ |
  | 628 |  | ~~$api\_options['api\_url'] = sanitize\_url( $instawp\_api\_url );~~ |
  | 629 |  |  |
  | 630 |  | ~~return Option::update\_option( 'instawp\_api\_options', $api\_options );~~ |
  | 631 |  | ~~}~~ |
  | 632 |  |  |
  | 633 | 622 | public static function get\_pro\_subscription\_url( $pro\_subscription\_slug = 'subscriptions' ) { |
  | 634 |  | return self::get\_api\_domain() . '/' . $pro\_subscription\_slug; |
  | 635 |  | } |
  | 636 |  |  |
  | 637 |  | public static function get\_api\_domain() { |
  | 638 |  | $api\_options = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 639 |  |  |
  | 640 |  | return self::get\_args\_option( 'api\_url', $api\_options, INSTAWP\_API\_DOMAIN\_PROD ); |
  | 641 |  | } |
  | 642 |  |  |
  | 643 |  | public static function get\_api\_key( $return\_hashed = false ) { |
  | 644 |  |  |
  | 645 |  | $api\_options = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 646 |  | $api\_key     = self::get\_args\_option( 'api\_key', $api\_options ); |
  | 647 |  |  |
  | 648 |  | if ( ! $return\_hashed ) { |
  | 649 |  | return $api\_key; |
  | 650 |  | } |
  | 651 |  |  |
  | 652 |  | if ( ! empty( $api\_key ) && strpos( $api\_key, '|' ) !== false ) { |
  | 653 |  | $exploded             = explode( '|', $api\_key ); |
  | 654 |  | $current\_api\_key\_hash = hash( 'sha256', $exploded[1] ); |
  | 655 |  | } else { |
  | 656 |  | $current\_api\_key\_hash = ! empty( $api\_key ) ? hash( 'sha256', $api\_key ) : ""; |
  | 657 |  | } |
  | 658 |  |  |
  | 659 |  | return $current\_api\_key\_hash; |
  | 660 |  | } |
  | 661 |  |  |
  | 662 |  | public static function set\_api\_key( $api\_key ) { |
  | 663 |  | $api\_options            = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 664 |  | $api\_options['api\_key'] = sanitize\_text\_field( wp\_unslash( $api\_key ) ); |
  | 665 |  |  |
  | 666 |  | return Option::update\_option( 'instawp\_api\_options', $api\_options ); |
  | 667 |  | } |
  | 668 |  |  |
  | 669 |  | public static function get\_connect\_id() { |
  | 670 |  | $api\_options = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 671 |  |  |
  | 672 |  | return self::get\_args\_option( 'connect\_id', $api\_options ); |
  | 673 |  | } |
  | 674 |  |  |
  | 675 |  | public static function set\_connect\_id( $connect\_id ) { |
  | 676 |  | $api\_options               = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 677 |  | $api\_options['connect\_id'] = intval( $connect\_id ); |
  | 678 |  |  |
  | 679 |  | return Option::update\_option( 'instawp\_api\_options', $api\_options ); |
  |  | 623 | return Helper::get\_api\_domain() . '/' . $pro\_subscription\_slug; |
  | 680 | 624 | } |
  | 681 | 625 |  |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-setting.php?rev=3102622#L700) | […](/browser/instawp-connect/trunk/includes/class-instawp-setting.php?rev=3109305#L644) |  |
  | 700 | 644 |  |
  | 701 | 645 | return apply\_filters( 'instawp/filters/get\_unsupported\_plugins', $unsupported\_plugins ); |
  | 702 |  | ~~}~~ |
  | 703 |  |  |
  | 704 |  | ~~public static function instawp\_generate\_api\_key( $api\_key ) {~~ |
  | 705 |  | ~~if ( empty( $api\_key ) ) {~~ |
  | 706 |  | ~~error\_log( 'instawp\_generate\_api\_key empty api\_key parameter' );~~ |
  | 707 |  |  |
  | 708 |  | ~~return false;~~ |
  | 709 |  | ~~}~~ |
  | 710 |  |  |
  | 711 |  | ~~$api\_response = Curl::do\_curl( 'check-key', array(), array(), false, 'v1', $api\_key );~~ |
  | 712 |  |  |
  | 713 |  | ~~if ( ! empty( $api\_response['data']['status'] ) ) {~~ |
  | 714 |  | ~~$api\_options = Option::get\_option( 'instawp\_api\_options', array() );~~ |
  | 715 |  |  |
  | 716 |  | ~~if ( is\_array( $api\_options ) && is\_array( $api\_response['data'] ) ) {~~ |
  | 717 |  | ~~Option::update\_option( 'instawp\_api\_options', array\_merge( $api\_options, array(~~ |
  | 718 |  | ~~'api\_key'  => $api\_key,~~ |
  | 719 |  | ~~'response' => $api\_response['data'],~~ |
  | 720 |  | ~~) ) );~~ |
  | 721 |  | ~~}~~ |
  | 722 |  | ~~} else {~~ |
  | 723 |  | ~~error\_log( 'instawp\_generate\_api\_key error, response from check-key api: ' . wp\_json\_encode( $api\_response ) );~~ |
  | 724 |  |  |
  | 725 |  | ~~return false;~~ |
  | 726 |  | ~~}~~ |
  | 727 |  |  |
  | 728 |  | ~~$php\_version      = substr( phpversion(), 0, 3 );~~ |
  | 729 |  | ~~$connect\_body     = array(~~ |
  | 730 |  | ~~'url'         => get\_site\_url(),~~ |
  | 731 |  | ~~'php\_version' => $php\_version,~~ |
  | 732 |  | ~~'username'    => base64\_encode( InstaWP\_Tools::get\_admin\_username() ), // phpcs:ignore WordPress.PHP.DiscouragedPHPFunctions.obfuscation\_base64\_encode~~ |
  | 733 |  | ~~);~~ |
  | 734 |  | ~~$connect\_response = Curl::do\_curl( 'connects', $connect\_body, array(), true, 'v1' );~~ |
  | 735 |  |  |
  | 736 |  | ~~if ( ! empty( $connect\_response['data']['status'] ) ) {~~ |
  | 737 |  | ~~$connect\_id = ! empty( $connect\_response['data']['id'] ) ? intval( $connect\_response['data']['id'] ) : '';~~ |
  | 738 |  |  |
  | 739 |  | ~~if ( $connect\_id ) {~~ |
  | 740 |  | ~~// set connect id~~ |
  | 741 |  | ~~self::set\_connect\_id( $connect\_id );~~ |
  | 742 |  |  |
  | 743 |  | ~~// Send heartbeat to InstaWP~~ |
  | 744 |  | ~~instawp\_send\_heartbeat( $connect\_id );~~ |
  | 745 |  | ~~} else {~~ |
  | 746 |  | ~~error\_log( 'instawp\_generate\_api\_key connect id not found in response.' );~~ |
  | 747 |  |  |
  | 748 |  | ~~return false;~~ |
  | 749 |  | ~~}~~ |
  | 750 |  | ~~} else {~~ |
  | 751 |  | ~~error\_log( 'instawp\_generate\_api\_key error, response from connects api: ' . wp\_json\_encode( $connect\_response ) );~~ |
  | 752 |  |  |
  | 753 |  | ~~return false;~~ |
  | 754 |  | ~~}~~ |
  | 755 |  |  |
  | 756 |  | ~~return true;~~ |
  | 757 | 646 | } |
  | 758 | 647 |  |
* ## [instawp-connect/trunk/includes/class-instawp-tools.php](/changeset/3109305/instawp-connect/trunk/includes/class-instawp-tools.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/class-instawp-tools.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3108725#L649 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3109305#L649 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 649 | 649 | return self::process\_migration\_settings( $migrate\_settings ); |
  | 650 | 650 | } |
  | 651 |  |  |
  | 652 |  | ~~public static function get\_admin\_username() {~~ |
  | 653 |  | ~~$username = '';~~ |
  | 654 |  |  |
  | 655 |  | ~~foreach (~~ |
  | 656 |  | ~~get\_users( array(~~ |
  | 657 |  | ~~'role\_\_in' => array( 'administrator' ),~~ |
  | 658 |  | ~~'fields'   => array( 'user\_login' ),~~ |
  | 659 |  | ~~) ) as $admin~~ |
  | 660 |  | ~~) {~~ |
  | 661 |  | ~~if ( empty( $username ) && isset( $admin->user\_login ) ) {~~ |
  | 662 |  | ~~$username = $admin->user\_login;~~ |
  | 663 |  | ~~break;~~ |
  | 664 |  | ~~}~~ |
  | 665 |  | ~~}~~ |
  | 666 |  |  |
  | 667 |  | ~~return $username;~~ |
  | 668 |  | ~~}~~ |
  | 669 |  |  |
  | 670 |  | ~~/\*\*~~ |
  | 671 |  | ~~\* Returns the random string based on length.~~ |
  | 672 |  | ~~\*~~ |
  | 673 |  | ~~\* @param int $length~~ |
  | 674 |  | ~~\*~~ |
  | 675 |  | ~~\* @return string~~ |
  | 676 |  | ~~\*/~~ |
  | 677 |  | ~~public static function get\_random\_string( $length = 6 ) {~~ |
  | 678 |  | ~~try {~~ |
  | 679 |  | ~~$length        = ceil( absint( $length ) / 2 );~~ |
  | 680 |  | ~~$bytes         = function\_exists( 'random\_bytes' ) ? random\_bytes( $length ) : openssl\_random\_pseudo\_bytes( $length );~~ |
  | 681 |  | ~~$random\_string = bin2hex( $bytes );~~ |
  | 682 |  | ~~} catch ( Exception $e ) {~~ |
  | 683 |  | ~~$random\_string = substr( hash( 'sha256', wp\_generate\_uuid4() ), 0, absint( $length ) );~~ |
  | 684 |  | ~~}~~ |
  | 685 |  |  |
  | 686 |  | ~~return $random\_string;~~ |
  | 687 |  | ~~}~~ |
  | 688 |  |  |
  | 689 | 651 |  |
  | 690 | 652 | /\*\* |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3108725#L981) | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3109305#L943) |  |
  | 981 | 943 | if ( ! empty( $sites\_task\_id ) ) { |
  | 982 | 944 | while ( true ) { |
  | 983 |  | $status\_res = Curl::do\_curl( "tasks/{$sites\_task\_id}/status", array(), array(), ~~false~~ ); |
  |  | 945 | $status\_res = Curl::do\_curl( "tasks/{$sites\_task\_id}/status", array(), array(), 'GET' ); |
  | 984 | 946 |  |
  | 985 | 947 | if ( ! Helper::get\_args\_option( 'success', $status\_res, true ) ) { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3108725#L1018) | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3109305#L980) |  |
  | 1018 | 980 |  |
  | 1019 | 981 | // Getting SFTP details of $site\_id |
  | 1020 |  | $sftp\_details\_res = Curl::do\_curl( "sites/{$site\_id}/sftp-details", array(), array(), ~~false~~ ); |
  |  | 982 | $sftp\_details\_res = Curl::do\_curl( "sites/{$site\_id}/sftp-details", array(), array(), 'GET' ); |
  | 1021 | 983 |  |
  | 1022 | 984 | if ( ! Helper::get\_args\_option( 'success', $sftp\_details\_res, true ) ) { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3108725#L1071) | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3109305#L1033) |  |
  | 1071 | 1033 | 'source\_domain' => str\_replace( array( 'https://', 'http://' ), '', site\_url() ), |
  | 1072 | 1034 | ); |
  | 1073 |  | $restore\_res  = Curl::do\_curl( "sites/{$site\_id}/restore-raw", $restore\_args, array(), '~~put~~' ); |
  |  | 1035 | $restore\_res  = Curl::do\_curl( "sites/{$site\_id}/restore-raw", $restore\_args, array(), 'PUT' ); |
  | 1074 | 1036 |  |
  | 1075 | 1037 | if ( ! Helper::get\_args\_option( 'success', $restore\_res, true ) ) { |
  | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3108725#L1084) | […](/browser/instawp-connect/trunk/includes/class-instawp-tools.php?rev=3109305#L1046) |  |
  | 1084 | 1046 | while ( true ) { |
  | 1085 | 1047 |  |
  | 1086 |  | $status\_res = Curl::do\_curl( "tasks/{$restore\_task\_id}/status", array(), array(), ~~false~~ ); |
  |  | 1048 | $status\_res = Curl::do\_curl( "tasks/{$restore\_task\_id}/status", array(), array(), 'GET' ); |
  | 1087 | 1049 |  |
  | 1088 | 1050 | if ( ! Helper::get\_args\_option( 'success', $status\_res, true ) ) { |
* ## [instawp-connect/trunk/includes/class-instawp.php](/changeset/3109305/instawp-connect/trunk/includes/class-instawp.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/class-instawp.php")

  | [r3097284](/browser/instawp-connect/trunk/includes/class-instawp.php?rev=3097284#L51 "Show revision 3097284 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/class-instawp.php?rev=3109305#L51 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 51 | 51 | $this->version                 = INSTAWP\_PLUGIN\_VERSION; |
  | 52 | 52 | $this->plugin\_name             = INSTAWP\_PLUGIN\_SLUG; |
  | 53 |  | $this->api\_key                 = ~~InstaWP\_Setting~~::get\_api\_key(); |
  |  | 53 | $this->api\_key                 = Helper::get\_api\_key(); |
  | 54 | 54 | $this->is\_connected            = ! empty( $this->api\_key ); |
  | 55 | 55 | $this->is\_on\_local             = instawp\_is\_website\_on\_local(); |
  | […](/browser/instawp-connect/trunk/includes/class-instawp.php?rev=3097284#L322) | […](/browser/instawp-connect/trunk/includes/class-instawp.php?rev=3109305#L322) |  |
  | 322 | 322 |  |
  | 323 | 323 | // connects/<connect\_id>/usage |
  | 324 |  | $api\_response        = Curl::do\_curl( "connects/{$this->connect\_id}/usage", array(), array(), ~~false~~, 'v1' ); |
  |  | 324 | $api\_response        = Curl::do\_curl( "connects/{$this->connect\_id}/usage", array(), array(), 'GET', 'v1' ); |
  | 325 | 325 | $api\_response\_status = Helper::get\_args\_option( 'success', $api\_response, false ); |
  | 326 | 326 | $api\_response\_data   = Helper::get\_args\_option( 'data', $api\_response, array() ); |
* ## [instawp-connect/trunk/includes/functions.php](/changeset/3109305/instawp-connect/trunk/includes/functions.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/functions.php")

  | [r3101818](/browser/instawp-connect/trunk/includes/functions.php?rev=3101818#L341 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/functions.php?rev=3109305#L341 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 341 | 341 | function instawp\_set\_staging\_sites\_list() { |
  | 342 | 342 |  |
  | 343 |  | $api\_response = Curl::do\_curl( 'connects/' . instawp\_get\_connect\_id() . '/staging-sites', array(), array(), ~~false~~ ); |
  |  | 343 | $api\_response = Curl::do\_curl( 'connects/' . instawp\_get\_connect\_id() . '/staging-sites', array(), array(), 'GET' ); |
  | 344 | 344 |  |
  | 345 | 345 | if ( $api\_response['success'] ) { |
  | […](/browser/instawp-connect/trunk/includes/functions.php?rev=3101818#L586) | […](/browser/instawp-connect/trunk/includes/functions.php?rev=3109305#L586) |  |
  | 586 | 586 | $response        = array(); |
  | 587 | 587 | $site\_connect\_id = instawp\_get\_connect\_id(); |
  | 588 |  | $api\_response    = Curl::do\_curl( 'connects/' . $site\_connect\_id . '/connected-sites', array(), array(), ~~false~~ ); |
  |  | 588 | $api\_response    = Curl::do\_curl( 'connects/' . $site\_connect\_id . '/connected-sites', array(), array(), 'GET' ); |
  | 589 | 589 |  |
  | 590 | 590 | if ( $api\_response['success'] ) { |
* ## [instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php](/changeset/3109305/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3108725#L9 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3109305#L9 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 9 | 9 |  |
  | 10 | 10 | use InstaWP\Connect\Helpers\Curl; |
  |  | 11 | use InstaWP\Connect\Helpers\Helper; |
  | 11 | 12 | use InstaWP\Connect\Helpers\Option; |
  | 12 | 13 |  |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3108725#L473) | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3109305#L474) |  |
  | 473 | 474 |  |
  | 474 | 475 | // connects/<connect\_id>/syncs |
  | 475 |  | return Curl::do\_curl( "connects/{$connect\_id}/syncs/{$sync\_id}", array(), array(), ~~false~~ ); |
  |  | 476 | return Curl::do\_curl( "connects/{$connect\_id}/syncs/{$sync\_id}", array(), array(), 'GET' ); |
  | 476 | 477 | } |
  | 477 | 478 |  |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3108725#L480) | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3109305#L481) |  |
  | 480 | 481 |  |
  | 481 | 482 | // connects/<connect\_id>/get-sync-quota |
  | 482 |  | $api\_response = Curl::do\_curl( "connects/{$connect\_id}/get-sync-quota", array(), array(), ~~false~~ ); |
  |  | 483 | $api\_response = Curl::do\_curl( "connects/{$connect\_id}/get-sync-quota", array(), array(), 'GET' ); |
  | 483 | 484 |  |
  | 484 | 485 | if ( $api\_response['success'] && ! empty( $api\_response['data'] ) ) { |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3108725#L538) | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-ajax.php?rev=3109305#L539) |  |
  | 538 | 539 |  |
  | 539 | 540 | if ( empty( $event\_hash ) ) { |
  | 540 |  | $event\_hash = ~~InstaWP\_Tools::get\_random\_string(~~); |
  |  | 541 | $event\_hash = Helper::get\_random\_string( 8 ); |
  | 541 | 542 | $this->wpdb->update( INSTAWP\_DB\_TABLE\_EVENT\_SYNC\_LOGS, array( 'event\_hash' => $event\_hash ), array( 'id' => $event->id ) ); |
  | 542 | 543 | } |
* ## [instawp-connect/trunk/includes/sync/class-instawp-sync-apis.php](/changeset/3109305/instawp-connect/trunk/includes/sync/class-instawp-sync-apis.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/sync/class-instawp-sync-apis.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-apis.php?rev=3108725#L220 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-apis.php?rev=3109305#L220 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 220 | 220 |  |
  | 221 | 221 | // connects/<connect\_id>/syncs/<sync\_id> |
  | 222 |  | return Curl::do\_curl( "connects/{$connect\_id}/syncs/{$sync\_id}", $data, array(), '~~patch~~' ); |
  |  | 222 | return Curl::do\_curl( "connects/{$connect\_id}/syncs/{$sync\_id}", $data, array(), 'PATCH' ); |
  | 223 | 223 | } |
  | 224 | 224 | } |
* ## [instawp-connect/trunk/includes/sync/class-instawp-sync-db.php](/changeset/3109305/instawp-connect/trunk/includes/sync/class-instawp-sync-db.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/sync/class-instawp-sync-db.php")

  | [r3101818](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-db.php?rev=3101818#L91 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-db.php?rev=3109305#L91 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 91 | 91 | 'event\_name'     => $event\_name, |
  | 92 | 92 | 'event\_slug'     => $event\_slug, |
  | 93 |  | 'event\_hash'     => ~~InstaWP\_Tools::get\_random\_string(~~), |
  |  | 93 | 'event\_hash'     => Helper::get\_random\_string( 8 ), |
  | 94 | 94 | 'event\_type'     => $event\_type, |
  | 95 | 95 | 'source\_id'      => $source\_id, |
* ## [instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php](/changeset/3109305/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php")

  | [r3101818](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3101818#L18 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3109305#L18 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 18 | 18 | \*/ |
  | 19 | 19 |  |
  |  | 20 | use InstaWP\Connect\Helpers\Helper; |
  | 20 | 21 | use InstaWP\Connect\Helpers\Option; |
  | 21 | 22 |  |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3101818#L53) | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3109305#L54) |  |
  | 53 | 54 | \*/ |
  | 54 | 55 | public static function set\_post\_reference\_id( $post\_id, $reference\_id = '' ) { |
  | 55 |  | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : ~~InstaWP\_Tools::get\_random\_string(~~); |
  |  | 56 | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : Helper::get\_random\_string( 8 ); |
  | 56 | 57 | update\_post\_meta( $post\_id, 'instawp\_event\_sync\_reference\_id', $reference\_id ); |
  | 57 | 58 |  |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3101818#L72) | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3109305#L73) |  |
  | 72 | 73 | \*/ |
  | 73 | 74 | public static function set\_term\_reference\_id( $term\_id, $reference\_id = '' ) { |
  | 74 |  | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : ~~InstaWP\_Tools::get\_random\_string(~~); |
  |  | 75 | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : Helper::get\_random\_string( 8 ); |
  | 75 | 76 | update\_term\_meta( $term\_id, 'instawp\_event\_term\_sync\_reference\_id', $reference\_id ); |
  | 76 | 77 |  |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3101818#L91) | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-helpers.php?rev=3109305#L92) |  |
  | 91 | 92 | \*/ |
  | 92 | 93 | public static function set\_user\_reference\_id( $user\_id, $reference\_id = '' ) { |
  | 93 |  | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : ~~InstaWP\_Tools::get\_random\_string(~~); |
  |  | 94 | $reference\_id = ! empty( $reference\_id ) ? $reference\_id : Helper::get\_random\_string( 8 ); |
  | 94 | 95 | update\_user\_meta( $user\_id, 'instawp\_event\_user\_sync\_reference\_id', $reference\_id ); |
  | 95 | 96 |  |
* ## [instawp-connect/trunk/includes/sync/class-instawp-sync-post.php](/changeset/3109305/instawp-connect/trunk/includes/sync/class-instawp-sync-post.php "Show the changeset 3109305 restricted to instawp-connect/trunk/includes/sync/class-instawp-sync-post.php")

  | [r3108725](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-post.php?rev=3108725#L1 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-post.php?rev=3109305#L1 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | use InstaWP\Connect\Helpers\Helper; |
  | 2 | 4 |  |
  | 3 | 5 | defined( 'ABSPATH' ) || exit; |
  | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-post.php?rev=3108725#L196) | […](/browser/instawp-connect/trunk/includes/sync/class-instawp-sync-post.php?rev=3109305#L198) |  |
  | 196 | 198 |  |
  | 197 | 199 | public function generate\_reference( $new\_post\_id ) { |
  | 198 |  | $reference\_id = ~~InstaWP\_Tools::get\_random\_string(~~); |
  |  | 200 | $reference\_id = Helper::get\_random\_string( 8 ); |
  | 199 | 201 | update\_post\_meta( $new\_post\_id, 'instawp\_event\_sync\_reference\_id', $reference\_id ); |
  | 200 | 202 | } |
* ## [instawp-connect/trunk/instawp-connect.php](/changeset/3109305/instawp-connect/trunk/instawp-connect.php "Show the changeset 3109305 restricted to instawp-connect/trunk/instawp-connect.php")

  | [r3108725](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L8 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/instawp-connect.php?rev=3109305#L8 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | \* Plugin Name:       InstaWP Connect |
  | 9 | 9 | \* Description:       1-click WordPress plugin for Staging, Migrations, Management, Sync and Companion plugin for InstaWP. |
  | 10 |  | \* Version:           0.1.0.4~~3~~ |
  |  | 10 | \* Version:           0.1.0.44 |
  | 11 | 11 | \* Author:            InstaWP Team |
  | 12 | 12 | \* Author URI:        https://instawp.com/ |
  | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L18) | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3109305#L18) |  |
  | 18 | 18 |  |
  | 19 | 19 | // If this file is called directly, abort. |
  |  | 20 | use InstaWP\Connect\Helpers\Curl; |
  | 20 | 21 | use InstaWP\Connect\Helpers\Option; |
  | 21 | 22 |  |
  | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L26) | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3109305#L27) |  |
  | 26 | 27 | global $wpdb; |
  | 27 | 28 |  |
  | 28 |  | defined( 'INSTAWP\_PLUGIN\_VERSION' ) || define( 'INSTAWP\_PLUGIN\_VERSION', '0.1.0.4~~3~~' ); |
  |  | 29 | defined( 'INSTAWP\_PLUGIN\_VERSION' ) || define( 'INSTAWP\_PLUGIN\_VERSION', '0.1.0.44' ); |
  | 29 | 30 | defined( 'INSTAWP\_API\_DOMAIN\_PROD' ) || define( 'INSTAWP\_API\_DOMAIN\_PROD', 'https://app.instawp.io' ); |
  | 30 | 31 |  |
  | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L88) | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3109305#L89) |  |
  | 88 | 89 | } |
  | 89 | 90 |  |
  | 90 |  | $api\_options = get\_option( 'instawp\_api\_options', array() ); |
  | 91 |  | $connect\_id  = isset( $api\_options['connect\_id'] ) ? $api\_options['connect\_id'] : ''; |
  | 92 |  | $api\_key     = isset( $api\_options['api\_key'] ) ? $api\_options['api\_key'] : ''; |
  | 93 |  | $api\_url     = isset( $api\_options['api\_url'] ) ? $api\_options['api\_url'] : 'https://app.instawp.io'; |
  | 94 |  |  |
  | 95 |  | if ( ! empty( $connect\_id ) && ! empty( $api\_key ) ) { |
  | 96 |  | $response = wp\_remote\_post( "{$api\_url}/api/v2/connects/{$connect\_id}/restore", array( |
  | 97 |  | 'headers' => array( |
  | 98 |  | 'Authorization' => 'Bearer ' . $api\_key, |
  | 99 |  | 'Accept'        => 'application/json', |
  | 100 |  | 'Content-Type'  => 'application/json', |
  | 101 |  | 'Referer'       => site\_url(), |
  | 102 |  | ), |
  | 103 |  | 'body'    => wp\_json\_encode( array( 'url' => site\_url() ) ), |
  | 104 |  | ) ); |
  | 105 |  | $response = json\_decode( wp\_remote\_retrieve\_body( $response ), true ); |
  | 106 |  | if ( ! $response['status'] ) { |
  |  | 91 | $connect\_id = instawp\_get\_connect\_id(); |
  |  | 92 | if ( ! empty( $connect\_id ) ) { |
  |  | 93 | $response = Curl::do\_curl( "connects/{$connect\_id}/restore", array( 'url' => site\_url() ) ); |
  |  | 94 | if ( empty( $response['success'] ) ) { |
  | 107 | 95 | delete\_option( 'instawp\_api\_options' ); |
  | 108 | 96 | } |
  | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L115) | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3109305#L103) |  |
  | 115 | 103 | delete\_option( 'instawp\_last\_heartbeat\_sent' ); |
  | 116 | 104 |  |
  | 117 |  | $api\_options = get\_option( 'instawp\_api\_options', array() ); |
  | 118 |  | $connect\_id  = isset( $api\_options['connect\_id'] ) ? $api\_options['connect\_id'] : ''; |
  | 119 |  | $api\_key     = isset( $api\_options['api\_key'] ) ? $api\_options['api\_key'] : ''; |
  | 120 |  | $api\_url     = isset( $api\_options['api\_url'] ) ? $api\_options['api\_url'] : 'https://app.instawp.io'; |
  | 121 |  |  |
  | 122 |  | if ( ! empty( $connect\_id ) && ! empty( $api\_key ) ) { |
  | 123 |  | wp\_remote\_request( "{$api\_url}/api/v2/connects/{$connect\_id}/delete", array( |
  | 124 |  | 'headers' => array( |
  | 125 |  | 'Authorization' => 'Bearer ' . $api\_key, |
  | 126 |  | 'Accept'        => 'application/json', |
  | 127 |  | 'Content-Type'  => 'application/json', |
  | 128 |  | 'Referer'       => site\_url(), |
  | 129 |  | ), |
  | 130 |  | 'method'  => 'DELETE', |
  | 131 |  | ) ); |
  |  | 105 | $connect\_id = instawp\_get\_connect\_id(); |
  |  | 106 | if ( ! empty( $connect\_id ) ) { |
  |  | 107 | Curl::do\_curl( "connects/{$connect\_id}/delete", array(), array(), 'DELETE' ); |
  | 132 | 108 | } |
  | 133 | 109 | } |
  | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3108725#L160) | […](/browser/instawp-connect/trunk/instawp-connect.php?rev=3109305#L136) |  |
  | 160 | 136 |  |
  | 161 | 137 | run\_instawp(); |
  | 162 |  |  |
* ## [instawp-connect/trunk/languages/instawp-connect.pot](/changeset/3109305/instawp-connect/trunk/languages/instawp-connect.pot "Show the changeset 3109305 restricted to instawp-connect/trunk/languages/instawp-connect.pot")

  | [r3108725](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L6 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3109305#L6 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | "Content-Type: text/plain; charset=UTF-8\n" |
  | 7 | 7 | "Content-Transfer-Encoding: 8bit\n" |
  | 8 |  | "POT-Creation-Date: 2024-06-2~~7 12:21~~+0000\n" |
  |  | 8 | "POT-Creation-Date: 2024-06-28 14:30+0000\n" |
  | 9 | 9 | "X-Poedit-Basepath: ..\n" |
  | 10 | 10 | "X-Poedit-KeywordsList: \_\_;\_e;\_ex:1,2c;\_n:1,2;\_n\_noop:1,2;\_nx:1,2,4c;\_nx\_noop:1,2,3c;\_x:1,2c;esc\_attr\_\_;esc\_attr\_e;esc\_attr\_x:1,2c;esc\_html\_\_;esc\_html\_e;esc\_html\_x:1,2c\n" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L14) | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3109305#L14) |  |
  | 14 | 14 | "Plural-Forms: nplurals=2; plural=(n != 1);\n" |
  | 15 | 15 |  |
  | 16 |  | #: admin/class-instawp-admin.php:67, includes/class-instawp-hooks.php:15~~7~~, includes/class-instawp-setting.php:36 |
  |  | 16 | #: admin/class-instawp-admin.php:67, includes/class-instawp-hooks.php:155, includes/class-instawp-setting.php:36 |
  | 17 | 17 | msgid "Create Staging" |
  | 18 | 18 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L34) | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3109305#L34) |  |
  | 34 | 34 | msgstr "" |
  | 35 | 35 |  |
  | 36 |  | #: includes/class-instawp-ajax.php:11~~4~~ |
  |  | 36 | #: includes/class-instawp-ajax.php:113 |
  | 37 | 37 | msgid "Migration failed." |
  | 38 | 38 | msgstr "" |
  | 39 | 39 |  |
  | 40 |  | #: includes/class-instawp-ajax.php:23~~6~~ |
  |  | 40 | #: includes/class-instawp-ajax.php:235 |
  | 41 | 41 | msgid "Migrate key or item is missing!" |
  | 42 | 42 | msgstr "" |
  | 43 | 43 |  |
  | 44 |  | #: includes/class-instawp-ajax.php:24~~9~~ |
  |  | 44 | #: includes/class-instawp-ajax.php:248 |
  | 45 | 45 | msgid "Can not initiate database." |
  | 46 | 46 | msgstr "" |
  | 47 | 47 |  |
  | 48 |  | #: includes/class-instawp-ajax.php:29~~4~~ |
  |  | 48 | #: includes/class-instawp-ajax.php:293 |
  | 49 | 49 | msgid "Error: Empty serve url found in pre-check response." |
  | 50 | 50 | msgstr "" |
  | 51 | 51 |  |
  | 52 |  | #: includes/class-instawp-ajax.php:30~~7~~ |
  |  | 52 | #: includes/class-instawp-ajax.php:306 |
  | 53 | 53 | msgid "Error: Empty api signature found in pre-check response." |
  | 54 | 54 | msgstr "" |
  | 55 | 55 |  |
  | 56 |  | #: includes/class-instawp-ajax.php:35~~6~~ |
  |  | 56 | #: includes/class-instawp-ajax.php:355 |
  | 57 | 57 | msgid "Could not create migrate id." |
  | 58 | 58 | msgstr "" |
  | 59 | 59 |  |
  | 60 |  | #: includes/class-instawp-ajax.php:41~~5~~ |
  |  | 60 | #: includes/class-instawp-ajax.php:414 |
  | 61 | 61 | msgid "Connect Again" |
  | 62 | 62 | msgstr "" |
  | 63 | 63 |  |
  | 64 |  | #: includes/class-instawp-ajax.php:4~~20~~ |
  |  | 64 | #: includes/class-instawp-ajax.php:419 |
  | 65 | 65 | msgid "Increase Limit" |
  | 66 | 66 | msgstr "" |
  | 67 | 67 |  |
  | 68 |  | #: includes/class-instawp-ajax.php:44~~8~~ |
  |  | 68 | #: includes/class-instawp-ajax.php:447 |
  | 69 | 69 | msgid "Empty folder!" |
  | 70 | 70 | msgstr "" |
  | 71 | 71 |  |
  | 72 |  | #: includes/class-instawp-ajax.php:55~~2~~ |
  |  | 72 | #: includes/class-instawp-ajax.php:551 |
  | 73 | 73 | msgid "%s rows" |
  | 74 | 74 | msgstr "" |
  | 75 | 75 |  |
  | 76 |  | #: includes/class-instawp-ajax.php:59~~9~~ |
  |  | 76 | #: includes/class-instawp-ajax.php:598 |
  | 77 | 77 | msgid "We have identified following large files in your installation:" |
  | 78 | 78 | msgstr "" |
  | 79 | 79 |  |
  | 80 |  | #: includes/class-instawp-ajax.php:66~~3~~ |
  |  | 80 | #: includes/class-instawp-ajax.php:662 |
  | 81 | 81 | msgid "Plugin reset successfully." |
  | 82 | 82 | msgstr "" |
  | 83 | 83 |  |
  | 84 |  | #: includes/class-instawp-cli.php:22~~1~~ |
  |  | 84 | #: includes/class-instawp-cli.php:228 |
  | 85 | 85 | msgid "Failed: Could not create performance summary." |
  | 86 | 86 | msgstr "" |
  | 87 | 87 |  |
  | 88 |  | #: includes/class-instawp-cli.php:2~~26~~ |
  |  | 88 | #: includes/class-instawp-cli.php:233 |
  | 89 | 89 | msgid "Performance Summary of this website is given below:" |
  | 90 | 90 | msgstr "" |
  | 91 | 91 |  |
  | 92 |  | #: includes/class-instawp-cli.php:2~~41~~ |
  |  | 92 | #: includes/class-instawp-cli.php:250 |
  | 93 | 93 | msgid "Failed: Could not calculate slow items." |
  | 94 | 94 | msgstr "" |
  | 95 | 95 |  |
  | 96 |  | #: includes/class-instawp-cli.php:26~~0~~ |
  |  | 96 | #: includes/class-instawp-cli.php:269 |
  | 97 | 97 | msgid "Slow items of this website are given below: (Top is the slowest one)" |
  | 98 | 98 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L126) | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3109305#L126) |  |
  | 126 | 126 | msgstr "" |
  | 127 | 127 |  |
  | 128 |  | #: includes/class-instawp-hooks.php:10~~8~~ |
  |  | 128 | #: includes/class-instawp-hooks.php:106 |
  | 129 | 129 | msgid "Tools" |
  | 130 | 130 | msgstr "" |
  | 131 | 131 |  |
  | 132 |  | #: includes/class-instawp-hooks.php:11~~5~~ |
  |  | 132 | #: includes/class-instawp-hooks.php:113 |
  | 133 | 133 | msgid "Purge All Cache" |
  | 134 | 134 | msgstr "" |
  | 135 | 135 |  |
  | 136 |  | #: includes/class-instawp-hooks.php:12~~6~~, includes/class-instawp-setting.php:209, includes/class-instawp-setting.php:543, includes/apis/class-instawp-rest-api.php:629 |
  |  | 136 | #: includes/class-instawp-hooks.php:124, includes/class-instawp-setting.php:209, includes/class-instawp-setting.php:543, includes/apis/class-instawp-rest-api.php:629 |
  | 137 | 137 | msgid "File Manager" |
  | 138 | 138 | msgstr "" |
  | 139 | 139 |  |
  | 140 |  | #: includes/class-instawp-hooks.php:13~~7~~, includes/class-instawp-setting.php:210, includes/class-instawp-setting.php:551, includes/apis/class-instawp-rest-api.php:630 |
  |  | 140 | #: includes/class-instawp-hooks.php:135, includes/class-instawp-setting.php:210, includes/class-instawp-setting.php:551, includes/apis/class-instawp-rest-api.php:630 |
  | 141 | 141 | msgid "Database Manager" |
  | 142 | 142 | msgstr "" |
  | 143 | 143 |  |
  | 144 |  | #: includes/class-instawp-hooks.php:14~~9~~ |
  |  | 144 | #: includes/class-instawp-hooks.php:147 |
  | 145 | 145 | msgid "Shortcuts" |
  | 146 | 146 | msgstr "" |
  | 147 | 147 |  |
  | 148 |  | #: includes/class-instawp-hooks.php:16~~9~~, includes/class-instawp-setting.php:40 |
  |  | 148 | #: includes/class-instawp-hooks.php:167, includes/class-instawp-setting.php:40 |
  | 149 | 149 | msgid "Staging Sites" |
  | 150 | 150 | msgstr "" |
  | 151 | 151 |  |
  | 152 |  | #: includes/class-instawp-hooks.php:1~~81~~, includes/class-instawp-setting.php:44 |
  |  | 152 | #: includes/class-instawp-hooks.php:179, includes/class-instawp-setting.php:44 |
  | 153 | 153 | msgid "Manage" |
  | 154 | 154 | msgstr "" |
  | 155 | 155 |  |
  | 156 |  | #: includes/class-instawp-hooks.php:19~~3~~, includes/class-instawp-setting.php:49 |
  |  | 156 | #: includes/class-instawp-hooks.php:191, includes/class-instawp-setting.php:49 |
  | 157 | 157 | msgid "Sync (Beta)" |
  | 158 | 158 | msgstr "" |
  | 159 | 159 |  |
  | 160 |  | #: includes/class-instawp-hooks.php:20~~4~~, includes/class-instawp-setting.php:53, includes/class-instawp-setting.php:286 |
  |  | 160 | #: includes/class-instawp-hooks.php:202, includes/class-instawp-setting.php:53, includes/class-instawp-setting.php:286 |
  | 161 | 161 | msgid "Settings" |
  | 162 | 162 | msgstr "" |
  | 163 | 163 |  |
  | 164 |  | #: includes/class-instawp-hooks.php:21~~9~~ |
  |  | 164 | #: includes/class-instawp-hooks.php:217 |
  | 165 | 165 | msgid "Go to InstaWP ➝" |
  | 166 | 166 | msgstr "" |
  | 167 | 167 |  |
  | 168 |  | #: includes/class-instawp-hooks.php:2~~31~~ |
  |  | 168 | #: includes/class-instawp-hooks.php:229 |
  | 169 | 169 | msgid "Contact Support" |
  | 170 | 170 | msgstr "" |
  | 171 | 171 |  |
  | 172 |  | #: includes/class-instawp-hooks.php:~~286~~ |
  |  | 172 | #: includes/class-instawp-hooks.php:302 |
  | 173 | 173 | msgid "Cache cleared for %s." |
  | 174 | 174 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L538) | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3109305#L538) |  |
  | 538 | 538 | msgstr "" |
  | 539 | 539 |  |
  | 540 |  | #: includes/class-instawp-tools.php:7~~66~~ |
  |  | 540 | #: includes/class-instawp-tools.php:728 |
  | 541 | 541 | msgid "Launch %s" |
  | 542 | 542 | msgstr "" |
  | 543 | 543 |  |
  | 544 |  | #: includes/class-instawp-tools.php:8~~54~~ |
  |  | 544 | #: includes/class-instawp-tools.php:816 |
  | 545 | 545 | msgid "Please create staging sites first." |
  | 546 | 546 | msgstr "" |
  | 547 | 547 |  |
  | 548 |  | #: includes/class-instawp-tools.php:8~~55~~ |
  |  | 548 | #: includes/class-instawp-tools.php:817 |
  | 549 | 549 | msgid "Skip" |
  | 550 | 550 | msgstr "" |
  | 551 | 551 |  |
  | 552 |  | #: includes/class-instawp-tools.php:8~~56~~ |
  |  | 552 | #: includes/class-instawp-tools.php:818 |
  | 553 | 553 | msgid "Do you really want to disconnect the plugin? It will completely remove the existing staging sites from the plugin." |
  | 554 | 554 | msgstr "" |
  | 555 | 555 |  |
  | 556 |  | #: includes/class-instawp-tools.php:8~~57~~ |
  |  | 556 | #: includes/class-instawp-tools.php:819 |
  | 557 | 557 | msgid "Do you still want to disconnect the plugin?" |
  | 558 | 558 | msgstr "" |
  | 559 | 559 |  |
  | 560 |  | #: includes/class-instawp-tools.php:~~905~~ |
  |  | 560 | #: includes/class-instawp-tools.php:867 |
  | 561 | 561 | msgid "Zip archive is not opening." |
  | 562 | 562 | msgstr "" |
  | 563 | 563 |  |
  | 564 |  | #: includes/class-instawp-tools.php:9~~58~~ |
  |  | 564 | #: includes/class-instawp-tools.php:920 |
  | 565 | 565 | msgid "No compression method find." |
  | 566 | 566 | msgstr "" |
  | 567 | 567 |  |
  |  | 568 | #: includes/class-instawp-tools.php:963 |
  |  | 569 | msgid "Site ID not found in site create response." |
  |  | 570 | msgstr "" |
  |  | 571 |  |
  | 568 | 572 | #: includes/class-instawp-tools.php:1001 |
  | 569 |  | ~~msgid "Site ID not found in site create response."~~ |
  | 570 |  | ~~msgstr ""~~ |
  | 571 |  |  |
  | 572 |  | ~~#: includes/class-instawp-tools.php:1039~~ |
  | 573 | 573 | msgid "SFTP login failed." |
  | 574 | 574 | msgstr "" |
  | 575 | 575 |  |
  | 576 |  | #: includes/class-instawp-tools.php:10~~50~~ |
  |  | 576 | #: includes/class-instawp-tools.php:1012 |
  | 577 | 577 | msgid "SFTP upload failed for files." |
  | 578 | 578 | msgstr "" |
  | 579 | 579 |  |
  | 580 |  | #: includes/class-instawp-tools.php:10~~58~~ |
  |  | 580 | #: includes/class-instawp-tools.php:1020 |
  | 581 | 581 | msgid "SFTP upload failed for database." |
  | 582 | 582 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L630) | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3109305#L630) |  |
  | 630 | 630 | msgstr "" |
  | 631 | 631 |  |
  | 632 |  | #: includes/apis/class-instawp-rest-api-migration.php:9~~6~~ |
  |  | 632 | #: includes/apis/class-instawp-rest-api-migration.php:97 |
  | 633 | 633 | msgid "Migration could not initiate because the allow\_url\_fopen is set to false." |
  | 634 | 634 | msgstr "" |
  | 635 | 635 |  |
  | 636 |  | #: includes/apis/class-instawp-rest-api-migration.php:11~~4~~ |
  |  | 636 | #: includes/apis/class-instawp-rest-api-migration.php:115 |
  | 637 | 637 | msgid "Could not create destination file." |
  | 638 | 638 | msgstr "" |
  | 639 | 639 |  |
  | 640 |  | #: includes/apis/class-instawp-rest-api-migration.php:17~~0~~ |
  |  | 640 | #: includes/apis/class-instawp-rest-api-migration.php:171 |
  | 641 | 641 | msgid "Post migration cleanup completed." |
  | 642 | 642 | msgstr "" |
  | 643 | 643 |  |
  | 644 |  | #: includes/apis/class-instawp-rest-api-migration.php:20~~0~~ |
  |  | 644 | #: includes/apis/class-instawp-rest-api-migration.php:201 |
  | 645 | 645 | msgid "sso\_url\_class\_not\_found: This class NewfoldLabs\WP\Module\Migration\Services\MigrationSSO not found." |
  | 646 | 646 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L706) | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3109305#L706) |  |
  | 706 | 706 | msgstr "" |
  | 707 | 707 |  |
  | 708 |  | #: includes/sync/class-instawp-sync-ajax.php:31~~5~~ |
  |  | 708 | #: includes/sync/class-instawp-sync-ajax.php:316 |
  | 709 | 709 | msgid "%1$u %2$s %3$s" |
  | 710 | 710 | msgstr "" |
  | 711 | 711 |  |
  | 712 |  | #: includes/sync/class-instawp-sync-ajax.php:30~~3~~ |
  |  | 712 | #: includes/sync/class-instawp-sync-ajax.php:304 |
  | 713 | 713 | msgid "%1$u %2$s" |
  | 714 | 714 | msgstr "" |
  | 715 | 715 |  |
  | 716 |  | #: includes/sync/class-instawp-sync-ajax.php:3~~09~~ |
  |  | 716 | #: includes/sync/class-instawp-sync-ajax.php:310 |
  | 717 | 717 | msgid "Show more" |
  | 718 | 718 | msgstr "" |
  | 719 | 719 |  |
  | 720 |  | #: includes/sync/class-instawp-sync-ajax.php:3~~29~~ |
  |  | 720 | #: includes/sync/class-instawp-sync-ajax.php:330 |
  | 721 | 721 | msgid "Waiting for Sync to Start (%d event)" |
  | 722 | 722 | msgid\_plural "Waiting for Sync to Start (%d events)" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L724) | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3109305#L724) |  |
  | 724 | 724 | msgstr[1] "" |
  | 725 | 725 |  |
  | 726 |  | #: includes/sync/class-instawp-sync-ajax.php:33~~7~~ |
  |  | 726 | #: includes/sync/class-instawp-sync-ajax.php:338 |
  | 727 | 727 | msgid "Events loaded" |
  | 728 | 728 | msgstr "" |
  | 729 | 729 |  |
  | 730 |  | #: includes/sync/class-instawp-sync-ajax.php:33~~7, includes/sync/class-instawp-sync-ajax.php:404~~ |
  |  | 730 | #: includes/sync/class-instawp-sync-ajax.php:338, includes/sync/class-instawp-sync-ajax.php:405 |
  | 731 | 731 | msgid "No pending events found!" |
  | 732 | 732 | msgstr "" |
  | 733 | 733 |  |
  | 734 |  | #: includes/sync/class-instawp-sync-ajax.php:40~~0~~ |
  |  | 734 | #: includes/sync/class-instawp-sync-ajax.php:401 |
  | 735 | 735 | msgid "You have reached your sync limit. Remaining quota %1$s out of %2$s." |
  | 736 | 736 | msgstr "" |
  | 737 | 737 |  |
  | 738 |  | #: includes/sync/class-instawp-sync-ajax.php:39~~7~~ |
  |  | 738 | #: includes/sync/class-instawp-sync-ajax.php:398 |
  | 739 | 739 | msgid " Completed (0 out of %d events)" |
  | 740 | 740 | msgstr "" |
  | 741 | 741 |  |
  | 742 |  | #: includes/sync/class-instawp-sync-ajax.php:45~~3~~ |
  |  | 742 | #: includes/sync/class-instawp-sync-ajax.php:454 |
  | 743 | 743 | msgid "« Previous" |
  | 744 | 744 | msgstr "" |
  | 745 | 745 |  |
  | 746 |  | #: includes/sync/class-instawp-sync-ajax.php:45~~4~~ |
  |  | 746 | #: includes/sync/class-instawp-sync-ajax.php:455 |
  | 747 | 747 | msgid "Next »" |
  | 748 | 748 | msgstr "" |
  | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3108725#L832) | […](/browser/instawp-connect/trunk/languages/instawp-connect.pot?rev=3109305#L832) |  |
  | 832 | 832 | msgstr "" |
  | 833 | 833 |  |
  | 834 |  | #: includes/sync/class-instawp-sync-post.php:7~~1, includes/sync/class-instawp-sync-post.php:187~~, includes/sync/class-instawp-sync-term.php:54 |
  |  | 834 | #: includes/sync/class-instawp-sync-post.php:73, includes/sync/class-instawp-sync-post.php:189, includes/sync/class-instawp-sync-term.php:54 |
  | 835 | 835 | msgid "%s modified" |
  | 836 | 836 | msgstr "" |
  | 837 | 837 |  |
  | 838 |  | #: includes/sync/class-instawp-sync-post.php:~~68~~ |
  |  | 838 | #: includes/sync/class-instawp-sync-post.php:70 |
  | 839 | 839 | msgid "%s restored" |
  | 840 | 840 | msgstr "" |
  | 841 | 841 |  |
  | 842 |  | #: includes/sync/class-instawp-sync-post.php:6~~5~~ |
  |  | 842 | #: includes/sync/class-instawp-sync-post.php:67 |
  | 843 | 843 | msgid "%s trashed" |
  | 844 | 844 | msgstr "" |
  | 845 | 845 |  |
  | 846 |  | #: includes/sync/class-instawp-sync-post.php:6~~0~~, includes/sync/class-instawp-sync-term.php:32 |
  |  | 846 | #: includes/sync/class-instawp-sync-post.php:62, includes/sync/class-instawp-sync-term.php:32 |
  | 847 | 847 | msgid "%s created" |
  | 848 | 848 | msgstr "" |
  | 849 | 849 |  |
  | 850 |  | #: includes/sync/class-instawp-sync-post.php:~~99~~, includes/sync/class-instawp-sync-term.php:76 |
  |  | 850 | #: includes/sync/class-instawp-sync-post.php:101, includes/sync/class-instawp-sync-term.php:76 |
  | 851 | 851 | msgid "%s deleted" |
  | 852 | 852 | msgstr "" |
  | 853 | 853 |  |
  | 854 |  | #: includes/sync/class-instawp-sync-post.php:11~~6~~ |
  |  | 854 | #: includes/sync/class-instawp-sync-post.php:118 |
  | 855 | 855 | msgid "Media created" |
  | 856 | 856 | msgstr "" |
  | 857 | 857 |  |
  | 858 |  | #: includes/sync/class-instawp-sync-post.php:13~~3, includes/sync/class-instawp-sync-post.php:170~~ |
  |  | 858 | #: includes/sync/class-instawp-sync-post.php:135, includes/sync/class-instawp-sync-post.php:172 |
  | 859 | 859 | msgid "Media updated" |
  | 860 | 860 | msgstr "" |
  | 861 | 861 |  |
  | 862 |  | #: includes/sync/class-instawp-sync-post.php:15~~0~~ |
  |  | 862 | #: includes/sync/class-instawp-sync-post.php:152 |
  | 863 | 863 | msgid "Media deleted" |
  | 864 | 864 | msgstr "" |
* ## [instawp-connect/trunk/migrate/class-instawp-migrate.php](/changeset/3109305/instawp-connect/trunk/migrate/class-instawp-migrate.php "Show the changeset 3109305 restricted to instawp-connect/trunk/migrate/class-instawp-migrate.php")

  | [r3101818](/browser/instawp-connect/trunk/migrate/class-instawp-migrate.php?rev=3101818#L91 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/migrate/class-instawp-migrate.php?rev=3109305#L91 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 91 | 91 |  |
  | 92 | 92 | if ( ! empty( $api\_key ) && $api\_key !== $old\_api\_key ) { |
  | 93 |  | $api\_key\_check\_response = ~~InstaWP\_Setting~~::instawp\_generate\_api\_key( $api\_key ); |
  |  | 93 | $api\_key\_check\_response = Helper::instawp\_generate\_api\_key( $api\_key ); |
  | 94 | 94 | if ( ! $api\_key\_check\_response ) { |
  | 95 | 95 | wp\_send\_json\_error( array( |
* ## [instawp-connect/trunk/migrate/templates/main.php](/changeset/3109305/instawp-connect/trunk/migrate/templates/main.php "Show the changeset 3109305 restricted to instawp-connect/trunk/migrate/templates/main.php")

  | [r3092196](/browser/instawp-connect/trunk/migrate/templates/main.php?rev=3092196#L4 "Show revision 3092196 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/migrate/templates/main.php?rev=3109305#L4 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \*/ |
  | 5 | 5 |  |
  |  | 6 | use InstaWP\Connect\Helpers\Helper; |
  | 6 | 7 | use InstaWP\Connect\Helpers\Option; |
  | 7 | 8 |  |
  | […](/browser/instawp-connect/trunk/migrate/templates/main.php?rev=3092196#L26) | […](/browser/instawp-connect/trunk/migrate/templates/main.php?rev=3109305#L27) |  |
  | 26 | 27 | $instawp\_settings['instawp\_migration\_details'] = $migration\_details; |
  | 27 | 28 |  |
  | 28 |  | instawp()->is\_connected = ! empty( ~~InstaWP\_Setting~~::get\_api\_key() ); |
  |  | 29 | instawp()->is\_connected = ! empty( Helper::get\_api\_key() ); |
  | 29 | 30 |  |
  | 30 | 31 | if ( ! instawp()->is\_connected ) { |
* ## [instawp-connect/trunk/migrate/templates/navbar.php](/changeset/3109305/instawp-connect/trunk/migrate/templates/navbar.php "Show the changeset 3109305 restricted to instawp-connect/trunk/migrate/templates/navbar.php")

  | [r3067716](/browser/instawp-connect/trunk/migrate/templates/navbar.php?rev=3067716#L29 "Show revision 3067716 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/migrate/templates/navbar.php?rev=3109305#L29 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 29 | 29 | </div> |
  | 30 | 30 | <div class="flex items-center text-sm font-medium"> |
  | 31 |  | <?php if ( empty( ~~InstaWP\_Setting~~::get\_api\_key() ) ) : ?> |
  |  | 31 | <?php if ( empty( Helper::get\_api\_key() ) ) : ?> |
  | 32 | 32 | <div class="flex items-center text-grayCust-1300"><?php esc\_html\_e( 'Please connect InstaWP account', 'instawp-connect' ); ?></div> |
  | 33 | 33 | <button type="button" class="instawp-button-connect px-4 rounded-lg py-2 border border-primary-900 text-primary-900 text-sm font-medium ml-3 mr-3"> |
* ## [instawp-connect/trunk/migrate/templates/part-settings.php](/changeset/3109305/instawp-connect/trunk/migrate/templates/part-settings.php "Show the changeset 3109305 restricted to instawp-connect/trunk/migrate/templates/part-settings.php")

  | [r3101818](/browser/instawp-connect/trunk/migrate/templates/part-settings.php?rev=3101818#L3 "Show revision 3101818 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/migrate/templates/part-settings.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \* Migrate template - Settings |
  | 4 | 4 | \*/ |
  |  | 5 |  |
  |  | 6 | use InstaWP\Connect\Helpers\Helper; |
  | 5 | 7 |  |
  | 6 | 8 | ?> |
  | […](/browser/instawp-connect/trunk/migrate/templates/part-settings.php?rev=3101818#L15) | […](/browser/instawp-connect/trunk/migrate/templates/part-settings.php?rev=3109305#L17) |  |
  | 15 | 17 | <div class="instawp-form-footer rounded-md bg-grayCust-400 p-3 mt-6 flex justify-between items-center"> |
  | 16 | 18 | <div class="instawp-form-buttons flex gap-4"> |
  | 17 |  | <?php if ( ! empty( ~~InstaWP\_Setting~~::get\_api\_key() ) ) { ?> |
  |  | 19 | <?php if ( ! empty( Helper::get\_api\_key() ) ) { ?> |
  | 18 | 20 | <button type="button" class="text-grayCust-500 py-3 px-5 border border-grayCust-350 text-sm font-medium rounded-md instawp-disconnect-plugin"><?php esc\_html\_e( 'Disconnect', 'instawp-connect' ); ?></button> |
  | 19 | 21 | <?php } ?> |
* ## [instawp-connect/trunk/readme.txt](/changeset/3109305/instawp-connect/trunk/readme.txt "Show the changeset 3109305 restricted to instawp-connect/trunk/readme.txt")

  | [r3108725](/browser/instawp-connect/trunk/readme.txt?rev=3108725#L5 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/readme.txt?rev=3109305#L5 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Tested up to: 6.5 |
  | 6 | 6 | Requires PHP: 5.6 |
  | 7 |  | Stable tag: 0.1.0.4~~3~~ |
  |  | 7 | Stable tag: 0.1.0.44 |
  | 8 | 8 | License: GPLv3 or later |
  | 9 | 9 | License URI: https://www.gnu.org/licenses/gpl-3.0.en.html |
  | […](/browser/instawp-connect/trunk/readme.txt?rev=3108725#L99) | […](/browser/instawp-connect/trunk/readme.txt?rev=3109305#L99) |  |
  | 99 | 99 | == Changelog == |
  | 100 | 100 |  |
  |  | 101 | = 0.1.0.44 - 28 Jun 2024 = |
  |  | 102 | - FIX - Fixed security vulnerability issue in auto login. |
  |  | 103 |  |
  | 101 | 104 | = 0.1.0.43 - 27 Jun 2024 = |
  | 102 | 105 | - NEW - WP Scanner CLI commands added. |
* ## [instawp-connect/trunk/vendor/autoload.php](/changeset/3109305/instawp-connect/trunk/vendor/autoload.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/autoload.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/autoload.php?rev=3108725#L3 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/autoload.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload.php @generated by Composer |
  | 4 | 4 |  |
  |  | 5 | if (PHP\_VERSION\_ID < 50600) { |
  |  | 6 | if (!headers\_sent()) { |
  |  | 7 | header('HTTP/1.1 500 Internal Server Error'); |
  |  | 8 | } |
  |  | 9 | $err = 'Composer 2.3.0 dropped support for autoloading on PHP <5.6 and you are running '.PHP\_VERSION.', please upgrade PHP or use Composer 2.2 LTS via "composer self-update --2.2". Aborting.'.PHP\_EOL; |
  |  | 10 | if (!ini\_get('display\_errors')) { |
  |  | 11 | if (PHP\_SAPI === 'cli' || PHP\_SAPI === 'phpdbg') { |
  |  | 12 | fwrite(STDERR, $err); |
  |  | 13 | } elseif (!headers\_sent()) { |
  |  | 14 | echo $err; |
  |  | 15 | } |
  |  | 16 | } |
  |  | 17 | trigger\_error( |
  |  | 18 | $err, |
  |  | 19 | E\_USER\_ERROR |
  |  | 20 | ); |
  |  | 21 | } |
  |  | 22 |  |
  | 5 | 23 | require\_once \_\_DIR\_\_ . '/composer/autoload\_real.php'; |
  | 6 | 24 |  |
* ## [instawp-connect/trunk/vendor/composer/ClassLoader.php](/changeset/3109305/instawp-connect/trunk/vendor/composer/ClassLoader.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/composer/ClassLoader.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L43 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L43 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 43 | 43 | class ClassLoader |
  | 44 | 44 | { |
  | 45 |  | /\*\* @var ?string \*/ |
  |  | 45 | /\*\* @var \Closure(string):void \*/ |
  |  | 46 | private static $includeFile; |
  |  | 47 |  |
  |  | 48 | /\*\* @var string|null \*/ |
  | 46 | 49 | private $vendorDir; |
  | 47 | 50 |  |
  | 48 | 51 | // PSR-4 |
  | 49 | 52 | /\*\* |
  | 50 |  | \* @var array[] |
  | 51 |  | \* @psalm-var array<string, array<string, int>> |
  |  | 53 | \* @var array<string, array<string, int>> |
  | 52 | 54 | \*/ |
  | 53 | 55 | private $prefixLengthsPsr4 = array(); |
  | 54 | 56 | /\*\* |
  | 55 |  | \* @var array[] |
  | 56 |  | \* @psalm-var array<string, array<int, string>> |
  |  | 57 | \* @var array<string, list<string>> |
  | 57 | 58 | \*/ |
  | 58 | 59 | private $prefixDirsPsr4 = array(); |
  | 59 | 60 | /\*\* |
  | 60 |  | \* @var array[] |
  | 61 |  | \* @psalm-var array<string, string> |
  |  | 61 | \* @var list<string> |
  | 62 | 62 | \*/ |
  | 63 | 63 | private $fallbackDirsPsr4 = array(); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L65) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L65) |  |
  | 65 | 65 | // PSR-0 |
  | 66 | 66 | /\*\* |
  | 67 |  | \* @var array[] |
  | 68 |  | \* @psalm-var array<string, array<string, string[]>> |
  |  | 67 | \* List of PSR-0 prefixes |
  |  | 68 | \* |
  |  | 69 | \* Structured as array('F (first letter)' => array('Foo\Bar (full prefix)' => array('path', 'path2'))) |
  |  | 70 | \* |
  |  | 71 | \* @var array<string, array<string, list<string>>> |
  | 69 | 72 | \*/ |
  | 70 | 73 | private $prefixesPsr0 = array(); |
  | 71 | 74 | /\*\* |
  | 72 |  | \* @var array[] |
  | 73 |  | \* @psalm-var array<string, string> |
  |  | 75 | \* @var list<string> |
  | 74 | 76 | \*/ |
  | 75 | 77 | private $fallbackDirsPsr0 = array(); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L79) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L81) |  |
  | 79 | 81 |  |
  | 80 | 82 | /\*\* |
  | 81 |  | \* @var string[] |
  | 82 |  | \* @psalm-var array<string, string> |
  |  | 83 | \* @var array<string, string> |
  | 83 | 84 | \*/ |
  | 84 | 85 | private $classMap = array(); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L88) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L89) |  |
  | 88 | 89 |  |
  | 89 | 90 | /\*\* |
  | 90 |  | \* @var bool[] |
  | 91 |  | \* @psalm-var array<string, bool> |
  |  | 91 | \* @var array<string, bool> |
  | 92 | 92 | \*/ |
  | 93 | 93 | private $missingClasses = array(); |
  | 94 | 94 |  |
  | 95 |  | /\*\* @var ~~?string~~ \*/ |
  |  | 95 | /\*\* @var string|null \*/ |
  | 96 | 96 | private $apcuPrefix; |
  | 97 | 97 |  |
  | 98 | 98 | /\*\* |
  | 99 |  | \* @var ~~self[]~~ |
  |  | 99 | \* @var array<string, self> |
  | 100 | 100 | \*/ |
  | 101 | 101 | private static $registeredLoaders = array(); |
  | 102 | 102 |  |
  | 103 | 103 | /\*\* |
  | 104 |  | \* @param ~~?string~~ $vendorDir |
  |  | 104 | \* @param string|null $vendorDir |
  | 105 | 105 | \*/ |
  | 106 | 106 | public function \_\_construct($vendorDir = null) |
  | 107 | 107 | { |
  | 108 | 108 | $this->vendorDir = $vendorDir; |
  | 109 |  | } |
  | 110 |  |  |
  | 111 |  | /\*\* |
  | 112 |  | \* @return string[] |
  |  | 109 | self::initializeIncludeClosure(); |
  |  | 110 | } |
  |  | 111 |  |
  |  | 112 | /\*\* |
  |  | 113 | \* @return array<string, list<string>> |
  | 113 | 114 | \*/ |
  | 114 | 115 | public function getPrefixes() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L122) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L123) |  |
  | 122 | 123 |  |
  | 123 | 124 | /\*\* |
  | 124 |  | \* @return array[] |
  | 125 |  | \* @psalm-return array<string, array<int, string>> |
  |  | 125 | \* @return array<string, list<string>> |
  | 126 | 126 | \*/ |
  | 127 | 127 | public function getPrefixesPsr4() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L131) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L131) |  |
  | 131 | 131 |  |
  | 132 | 132 | /\*\* |
  | 133 |  | \* @return array[] |
  | 134 |  | \* @psalm-return array<string, string> |
  |  | 133 | \* @return list<string> |
  | 135 | 134 | \*/ |
  | 136 | 135 | public function getFallbackDirs() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L140) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L139) |  |
  | 140 | 139 |  |
  | 141 | 140 | /\*\* |
  | 142 |  | \* @return array[] |
  | 143 |  | \* @psalm-return array<string, string> |
  |  | 141 | \* @return list<string> |
  | 144 | 142 | \*/ |
  | 145 | 143 | public function getFallbackDirsPsr4() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L149) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L147) |  |
  | 149 | 147 |  |
  | 150 | 148 | /\*\* |
  | 151 |  | \* @return string[] Array of classname => path |
  | 152 |  | \* @psalm-return array<string, string> |
  |  | 149 | \* @return array<string, string> Array of classname => path |
  | 153 | 150 | \*/ |
  | 154 | 151 | public function getClassMap() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L158) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L155) |  |
  | 158 | 155 |  |
  | 159 | 156 | /\*\* |
  | 160 |  | \* @param string[] $classMap Class to filename map |
  | 161 |  | \* @psalm-param array<string, string> $classMap |
  |  | 157 | \* @param array<string, string> $classMap Class to filename map |
  | 162 | 158 | \* |
  | 163 | 159 | \* @return void |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L176) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L172) |  |
  | 176 | 172 | \* appending or prepending to the ones previously set for this prefix. |
  | 177 | 173 | \* |
  | 178 |  | \* @param string          $prefix  The prefix |
  | 179 |  | \* @param ~~string[]~~|string $paths   The PSR-0 root directories |
  | 180 |  | \* @param bool            $prepend Whether to prepend the directories |
  |  | 174 | \* @param string              $prefix  The prefix |
  |  | 175 | \* @param list<string>|string $paths   The PSR-0 root directories |
  |  | 176 | \* @param bool                $prepend Whether to prepend the directories |
  | 181 | 177 | \* |
  | 182 | 178 | \* @return void |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L184) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L180) |  |
  | 184 | 180 | public function add($prefix, $paths, $prepend = false) |
  | 185 | 181 | { |
  |  | 182 | $paths = (array) $paths; |
  | 186 | 183 | if (!$prefix) { |
  | 187 | 184 | if ($prepend) { |
  | 188 | 185 | $this->fallbackDirsPsr0 = array\_merge( |
  | 189 |  | ~~(array)~~ $paths, |
  |  | 186 | $paths, |
  | 190 | 187 | $this->fallbackDirsPsr0 |
  | 191 | 188 | ); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L193) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L190) |  |
  | 193 | 190 | $this->fallbackDirsPsr0 = array\_merge( |
  | 194 | 191 | $this->fallbackDirsPsr0, |
  | 195 |  | ~~(array)~~ $paths |
  |  | 192 | $paths |
  | 196 | 193 | ); |
  | 197 | 194 | } |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L202) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L199) |  |
  | 202 | 199 | $first = $prefix[0]; |
  | 203 | 200 | if (!isset($this->prefixesPsr0[$first][$prefix])) { |
  | 204 |  | $this->prefixesPsr0[$first][$prefix] = ~~(array)~~ $paths; |
  |  | 201 | $this->prefixesPsr0[$first][$prefix] = $paths; |
  | 205 | 202 |  |
  | 206 | 203 | return; |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L208) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L205) |  |
  | 208 | 205 | if ($prepend) { |
  | 209 | 206 | $this->prefixesPsr0[$first][$prefix] = array\_merge( |
  | 210 |  | ~~(array)~~ $paths, |
  |  | 207 | $paths, |
  | 211 | 208 | $this->prefixesPsr0[$first][$prefix] |
  | 212 | 209 | ); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L214) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L211) |  |
  | 214 | 211 | $this->prefixesPsr0[$first][$prefix] = array\_merge( |
  | 215 | 212 | $this->prefixesPsr0[$first][$prefix], |
  | 216 |  | ~~(array)~~ $paths |
  |  | 213 | $paths |
  | 217 | 214 | ); |
  | 218 | 215 | } |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L223) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L220) |  |
  | 223 | 220 | \* appending or prepending to the ones previously set for this namespace. |
  | 224 | 221 | \* |
  | 225 |  | \* @param string          $prefix  The prefix/namespace, with trailing '\\' |
  | 226 |  | \* @param ~~string[]~~|string $paths   The PSR-4 base directories |
  | 227 |  | \* @param bool            $prepend Whether to prepend the directories |
  |  | 222 | \* @param string              $prefix  The prefix/namespace, with trailing '\\' |
  |  | 223 | \* @param list<string>|string $paths   The PSR-4 base directories |
  |  | 224 | \* @param bool                $prepend Whether to prepend the directories |
  | 228 | 225 | \* |
  | 229 | 226 | \* @throws \InvalidArgumentException |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L233) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L230) |  |
  | 233 | 230 | public function addPsr4($prefix, $paths, $prepend = false) |
  | 234 | 231 | { |
  |  | 232 | $paths = (array) $paths; |
  | 235 | 233 | if (!$prefix) { |
  | 236 | 234 | // Register directories for the root namespace. |
  | 237 | 235 | if ($prepend) { |
  | 238 | 236 | $this->fallbackDirsPsr4 = array\_merge( |
  | 239 |  | ~~(array)~~ $paths, |
  |  | 237 | $paths, |
  | 240 | 238 | $this->fallbackDirsPsr4 |
  | 241 | 239 | ); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L243) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L241) |  |
  | 243 | 241 | $this->fallbackDirsPsr4 = array\_merge( |
  | 244 | 242 | $this->fallbackDirsPsr4, |
  | 245 |  | ~~(array)~~ $paths |
  |  | 243 | $paths |
  | 246 | 244 | ); |
  | 247 | 245 | } |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L253) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L251) |  |
  | 253 | 251 | } |
  | 254 | 252 | $this->prefixLengthsPsr4[$prefix[0]][$prefix] = $length; |
  | 255 |  | $this->prefixDirsPsr4[$prefix] = ~~(array)~~ $paths; |
  |  | 253 | $this->prefixDirsPsr4[$prefix] = $paths; |
  | 256 | 254 | } elseif ($prepend) { |
  | 257 | 255 | // Prepend directories for an already registered namespace. |
  | 258 | 256 | $this->prefixDirsPsr4[$prefix] = array\_merge( |
  | 259 |  | ~~(array)~~ $paths, |
  |  | 257 | $paths, |
  | 260 | 258 | $this->prefixDirsPsr4[$prefix] |
  | 261 | 259 | ); |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L264) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L262) |  |
  | 264 | 262 | $this->prefixDirsPsr4[$prefix] = array\_merge( |
  | 265 | 263 | $this->prefixDirsPsr4[$prefix], |
  | 266 |  | ~~(array)~~ $paths |
  |  | 264 | $paths |
  | 267 | 265 | ); |
  | 268 | 266 | } |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L273) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L271) |  |
  | 273 | 271 | \* replacing any others previously set for this prefix. |
  | 274 | 272 | \* |
  | 275 |  | \* @param string          $prefix The prefix |
  | 276 |  | \* @param ~~string[]~~|string $paths  The PSR-0 base directories |
  |  | 273 | \* @param string              $prefix The prefix |
  |  | 274 | \* @param list<string>|string $paths  The PSR-0 base directories |
  | 277 | 275 | \* |
  | 278 | 276 | \* @return void |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L291) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L289) |  |
  | 291 | 289 | \* replacing any others previously set for this namespace. |
  | 292 | 290 | \* |
  | 293 |  | \* @param string          $prefix The prefix/namespace, with trailing '\\' |
  | 294 |  | \* @param ~~string[]~~|string $paths  The PSR-4 base directories |
  |  | 291 | \* @param string              $prefix The prefix/namespace, with trailing '\\' |
  |  | 292 | \* @param list<string>|string $paths  The PSR-4 base directories |
  | 295 | 293 | \* |
  | 296 | 294 | \* @throws \InvalidArgumentException |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L426) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L424) |  |
  | 426 | 424 | { |
  | 427 | 425 | if ($file = $this->findFile($class)) { |
  | 428 |  | includeFile($file); |
  |  | 426 | $includeFile = self::$includeFile; |
  |  | 427 | $includeFile($file); |
  | 429 | 428 |  |
  | 430 | 429 | return true; |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L477) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L476) |  |
  | 477 | 476 |  |
  | 478 | 477 | /\*\* |
  | 479 |  | \* Returns the currently registered loaders ~~index~~ed by their corresponding vendor directories. |
  | 480 |  | \* |
  | 481 |  | \* @return ~~self[]~~ |
  |  | 478 | \* Returns the currently registered loaders keyed by their corresponding vendor directories. |
  |  | 479 | \* |
  |  | 480 | \* @return array<string, self> |
  | 482 | 481 | \*/ |
  | 483 | 482 | public static function getRegisteredLoaders() |
  | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3108725#L556) | […](/browser/instawp-connect/trunk/vendor/composer/ClassLoader.php?rev=3109305#L555) |  |
  | 556 | 555 | return false; |
  | 557 | 556 | } |
  |  | 557 |  |
  |  | 558 | /\*\* |
  |  | 559 | \* @return void |
  |  | 560 | \*/ |
  |  | 561 | private static function initializeIncludeClosure() |
  |  | 562 | { |
  |  | 563 | if (self::$includeFile !== null) { |
  |  | 564 | return; |
  |  | 565 | } |
  |  | 566 |  |
  |  | 567 | /\*\* |
  |  | 568 | \* Scope isolated include. |
  |  | 569 | \* |
  |  | 570 | \* Prevents access to $this/self from included files. |
  |  | 571 | \* |
  |  | 572 | \* @param  string $file |
  |  | 573 | \* @return void |
  |  | 574 | \*/ |
  |  | 575 | self::$includeFile = \Closure::bind(static function($file) { |
  |  | 576 | include $file; |
  |  | 577 | }, null, null); |
  |  | 578 | } |
  | 558 | 579 | } |
  | 559 |  |  |
  | 560 |  | ~~/\*\*~~ |
  | 561 |  | ~~\* Scope isolated include.~~ |
  | 562 |  | ~~\*~~ |
  | 563 |  | ~~\* Prevents access to $this/self from included files.~~ |
  | 564 |  | ~~\*~~ |
  | 565 |  | ~~\* @param  string $file~~ |
  | 566 |  | ~~\* @return void~~ |
  | 567 |  | ~~\* @private~~ |
  | 568 |  | ~~\*/~~ |
  | 569 |  | ~~function includeFile($file)~~ |
  | 570 |  | ~~{~~ |
  | 571 |  | ~~include $file;~~ |
  | 572 |  | ~~}~~ |
* ## [instawp-connect/trunk/vendor/composer/InstalledVersions.php](/changeset/3109305/instawp-connect/trunk/vendor/composer/InstalledVersions.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/composer/InstalledVersions.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L22 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305#L22 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 | \* |
  | 23 | 23 | \* To require its presence, you can require `composer-runtime-api ^2.0` |
  |  | 24 | \* |
  |  | 25 | \* @final |
  | 24 | 26 | \*/ |
  | 25 | 27 | class InstalledVersions |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L27) | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305#L29) |  |
  | 27 | 29 | /\*\* |
  | 28 | 30 | \* @var mixed[]|null |
  | 29 |  | \* @psalm-var array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>}|array{}|null |
  |  | 31 | \* @psalm-var array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>}|array{}|null |
  | 30 | 32 | \*/ |
  | 31 | 33 | private static $installed; |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L38) | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305#L40) |  |
  | 38 | 40 | /\*\* |
  | 39 | 41 | \* @var array[] |
  | 40 |  | \* @psalm-var array<string, array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>}> |
  |  | 42 | \* @psalm-var array<string, array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>}> |
  | 41 | 43 | \*/ |
  | 42 | 44 | private static $installedByVendor = array(); |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L97) | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305#L99) |  |
  | 97 | 99 | foreach (self::getInstalled() as $installed) { |
  | 98 | 100 | if (isset($installed['versions'][$packageName])) { |
  | 99 |  | return $includeDevRequirements || ~~empty($installed['versions'][$packageName]['dev\_requirement'])~~; |
  |  | 101 | return $includeDevRequirements || !isset($installed['versions'][$packageName]['dev\_requirement']) || $installed['versions'][$packageName]['dev\_requirement'] === false; |
  | 100 | 102 | } |
  | 101 | 103 | } |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L118) | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305#L120) |  |
  | 118 | 120 | public static function satisfies(VersionParser $parser, $packageName, $constraint) |
  | 119 | 121 | { |
  | 120 |  | $constraint = $parser->parseConstraints($constraint); |
  |  | 122 | $constraint = $parser->parseConstraints((string) $constraint); |
  | 121 | 123 | $provided = $parser->parseConstraints(self::getVersionRanges($packageName)); |
  | 122 | 124 |  |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L242) | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305#L244) |  |
  | 242 | 244 | /\*\* |
  | 243 | 245 | \* @return array |
  | 244 |  | \* @psalm-return array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string~~} |
  |  | 246 | \* @psalm-return array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool} |
  | 245 | 247 | \*/ |
  | 246 | 248 | public static function getRootPackage() |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L256) | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305#L258) |  |
  | 256 | 258 | \* @deprecated Use getAllRawData() instead which returns all datasets for all autoloaders present in the process. getRawData only returns the first dataset loaded, which may not be what you expect. |
  | 257 | 259 | \* @return array[] |
  | 258 |  | \* @psalm-return array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>} |
  |  | 260 | \* @psalm-return array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>} |
  | 259 | 261 | \*/ |
  | 260 | 262 | public static function getRawData() |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L279) | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305#L281) |  |
  | 279 | 281 | \* |
  | 280 | 282 | \* @return array[] |
  | 281 |  | \* @psalm-return list<array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>}> |
  |  | 283 | \* @psalm-return list<array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>}> |
  | 282 | 284 | \*/ |
  | 283 | 285 | public static function getAllRawData() |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L302) | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305#L304) |  |
  | 302 | 304 | \* @return void |
  | 303 | 305 | \* |
  | 304 |  | \* @psalm-param array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>} $data |
  |  | 306 | \* @psalm-param array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>} $data |
  | 305 | 307 | \*/ |
  | 306 | 308 | public static function reload($data) |
  | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3108725#L312) | […](/browser/instawp-connect/trunk/vendor/composer/InstalledVersions.php?rev=3109305#L314) |  |
  | 312 | 314 | /\*\* |
  | 313 | 315 | \* @return array[] |
  | 314 |  | \* @psalm-return list<array{root: array{name: string, ~~version: string, reference: string, pretty\_version: string, aliases: string[], dev: bool, install\_path: string, type: string}, versions: array<string, array{dev\_requirement: bool, pretty\_version?: string, version?: string, aliases?: string[], reference?: string, replaced?: string[], provided?: string[], install\_path?: string, type?: string~~}>}> |
  |  | 316 | \* @psalm-return list<array{root: array{name: string, pretty\_version: string, version: string, reference: string|null, type: string, install\_path: string, aliases: string[], dev: bool}, versions: array<string, array{pretty\_version?: string, version?: string, reference?: string|null, type?: string, install\_path?: string, aliases?: string[], dev\_requirement: bool, replaced?: string[], provided?: string[]}>}> |
  | 315 | 317 | \*/ |
  | 316 | 318 | private static function getInstalled() |
* ## [instawp-connect/trunk/vendor/composer/autoload\_classmap.php](/changeset/3109305/instawp-connect/trunk/vendor/composer/autoload_classmap.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/composer/autoload_classmap.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/autoload_classmap.php?rev=3108725#L3 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/composer/autoload_classmap.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_classmap.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | $vendorDir = dirname(~~dirname(\_\_FILE\_\_)~~); |
  |  | 5 | $vendorDir = dirname(\_\_DIR\_\_); |
  | 6 | 6 | $baseDir = dirname($vendorDir); |
  | 7 | 7 |  |
* ## [instawp-connect/trunk/vendor/composer/autoload\_files.php](/changeset/3109305/instawp-connect/trunk/vendor/composer/autoload_files.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/composer/autoload_files.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/autoload_files.php?rev=3108725#L3 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/composer/autoload_files.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_files.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | $vendorDir = dirname(~~dirname(\_\_FILE\_\_)~~); |
  |  | 5 | $vendorDir = dirname(\_\_DIR\_\_); |
  | 6 | 6 | $baseDir = dirname($vendorDir); |
  | 7 | 7 |  |
* ## [instawp-connect/trunk/vendor/composer/autoload\_namespaces.php](/changeset/3109305/instawp-connect/trunk/vendor/composer/autoload_namespaces.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/composer/autoload_namespaces.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/autoload_namespaces.php?rev=3108725#L3 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/composer/autoload_namespaces.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_namespaces.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | $vendorDir = dirname(~~dirname(\_\_FILE\_\_)~~); |
  |  | 5 | $vendorDir = dirname(\_\_DIR\_\_); |
  | 6 | 6 | $baseDir = dirname($vendorDir); |
  | 7 | 7 |  |
* ## [instawp-connect/trunk/vendor/composer/autoload\_psr4.php](/changeset/3109305/instawp-connect/trunk/vendor/composer/autoload_psr4.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/composer/autoload_psr4.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/autoload_psr4.php?rev=3108725#L3 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/composer/autoload_psr4.php?rev=3109305#L3 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | // autoload\_psr4.php @generated by Composer |
  | 4 | 4 |  |
  | 5 |  | $vendorDir = dirname(~~dirname(\_\_FILE\_\_)~~); |
  |  | 5 | $vendorDir = dirname(\_\_DIR\_\_); |
  | 6 | 6 | $baseDir = dirname($vendorDir); |
  | 7 | 7 |  |
* ## [instawp-connect/trunk/vendor/composer/autoload\_real.php](/changeset/3109305/instawp-connect/trunk/vendor/composer/autoload_real.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/composer/autoload_real.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/autoload_real.php?rev=3108725#L26 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/composer/autoload_real.php?rev=3109305#L26 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 26 | 26 |  |
  | 27 | 27 | spl\_autoload\_register(array('ComposerAutoloaderInitbc4230231e9e48017a738b41afd9f581', 'loadClassLoader'), true, true); |
  | 28 |  | self::$loader = $loader = new \Composer\Autoload\ClassLoader(\dirname(~~\dirname(\_\_FILE\_\_)~~)); |
  |  | 28 | self::$loader = $loader = new \Composer\Autoload\ClassLoader(\dirname(\_\_DIR\_\_)); |
  | 29 | 29 | spl\_autoload\_unregister(array('ComposerAutoloaderInitbc4230231e9e48017a738b41afd9f581', 'loadClassLoader')); |
  | 30 | 30 |  |
  | 31 |  | $useStaticLoader = PHP\_VERSION\_ID >= 50600 && !defined('HHVM\_VERSION') && (!function\_exists('zend\_loader\_file\_encoded') || !zend\_loader\_file\_encoded()); |
  | 32 |  | if ($useStaticLoader) { |
  | 33 |  | require \_\_DIR\_\_ . '/autoload\_static.php'; |
  | 34 |  |  |
  | 35 |  | call\_user\_func(\Composer\Autoload\ComposerStaticInitbc4230231e9e48017a738b41afd9f581::getInitializer($loader)); |
  | 36 |  | } else { |
  | 37 |  | $map = require \_\_DIR\_\_ . '/autoload\_namespaces.php'; |
  | 38 |  | foreach ($map as $namespace => $path) { |
  | 39 |  | $loader->set($namespace, $path); |
  | 40 |  | } |
  | 41 |  |  |
  | 42 |  | $map = require \_\_DIR\_\_ . '/autoload\_psr4.php'; |
  | 43 |  | foreach ($map as $namespace => $path) { |
  | 44 |  | $loader->setPsr4($namespace, $path); |
  | 45 |  | } |
  | 46 |  |  |
  | 47 |  | $classMap = require \_\_DIR\_\_ . '/autoload\_classmap.php'; |
  | 48 |  | if ($classMap) { |
  | 49 |  | $loader->addClassMap($classMap); |
  | 50 |  | } |
  | 51 |  | } |
  |  | 31 | require \_\_DIR\_\_ . '/autoload\_static.php'; |
  |  | 32 | call\_user\_func(\Composer\Autoload\ComposerStaticInitbc4230231e9e48017a738b41afd9f581::getInitializer($loader)); |
  | 52 | 33 |  |
  | 53 | 34 | $loader->register(true); |
  | 54 | 35 |  |
  | 55 |  | if ($useStaticLoader) { |
  | 56 |  | $includeFiles = Composer\Autoload\ComposerStaticInitbc4230231e9e48017a738b41afd9f581::$files; |
  | 57 |  | } else { |
  | 58 |  | $includeFiles = require \_\_DIR\_\_ . '/autoload\_files.php'; |
  | 59 |  | } |
  | 60 |  | foreach ($includeFiles as $fileIdentifier => $file) { |
  | 61 |  | composerRequirebc4230231e9e48017a738b41afd9f581($fileIdentifier, $file); |
  |  | 36 | $filesToLoad = \Composer\Autoload\ComposerStaticInitbc4230231e9e48017a738b41afd9f581::$files; |
  |  | 37 | $requireFile = \Closure::bind(static function ($fileIdentifier, $file) { |
  |  | 38 | if (empty($GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier])) { |
  |  | 39 | $GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier] = true; |
  |  | 40 |  |
  |  | 41 | require $file; |
  |  | 42 | } |
  |  | 43 | }, null, null); |
  |  | 44 | foreach ($filesToLoad as $fileIdentifier => $file) { |
  |  | 45 | $requireFile($fileIdentifier, $file); |
  | 62 | 46 | } |
  | 63 | 47 |  |
  | […](/browser/instawp-connect/trunk/vendor/composer/autoload_real.php?rev=3108725#L65) | […](/browser/instawp-connect/trunk/vendor/composer/autoload_real.php?rev=3109305#L49) |  |
  | 65 | 49 | } |
  | 66 | 50 | } |
  | 67 |  |  |
  | 68 |  | ~~/\*\*~~ |
  | 69 |  | ~~\* @param string $fileIdentifier~~ |
  | 70 |  | ~~\* @param string $file~~ |
  | 71 |  | ~~\* @return void~~ |
  | 72 |  | ~~\*/~~ |
  | 73 |  | ~~function composerRequirebc4230231e9e48017a738b41afd9f581($fileIdentifier, $file)~~ |
  | 74 |  | ~~{~~ |
  | 75 |  | ~~if (empty($GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier])) {~~ |
  | 76 |  | ~~$GLOBALS['\_\_composer\_autoload\_files'][$fileIdentifier] = true;~~ |
  | 77 |  |  |
  | 78 |  | ~~require $file;~~ |
  | 79 |  | ~~}~~ |
  | 80 |  | ~~}~~ |
* ## [instawp-connect/trunk/vendor/composer/installed.json](/changeset/3109305/instawp-connect/trunk/vendor/composer/installed.json "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/composer/installed.json")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/installed.json?rev=3108725#L8 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/composer/installed.json?rev=3109305#L8 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | "type": "git", |
  | 9 | 9 | "url": "https://github.com/InstaWP/connect-helpers.git", |
  | 10 |  | "reference": "~~6a7f48d7e0658778f7fd8142fc03f14c46c7e8bb~~" |
  | 11 |  | }, |
  | 12 |  | "dist": { |
  | 13 |  | "type": "zip", |
  | 14 |  | "url": "https://api.github.com/repos/InstaWP/connect-helpers/zipball/~~6a7f48d7e0658778f7fd8142fc03f14c46c7e8bb~~", |
  | 15 |  | "reference": "~~6a7f48d7e0658778f7fd8142fc03f14c46c7e8bb~~", |
  |  | 10 | "reference": "c1b990ed12e2401f79a5ede041829da9fb71b11c" |
  |  | 11 | }, |
  |  | 12 | "dist": { |
  |  | 13 | "type": "zip", |
  |  | 14 | "url": "https://api.github.com/repos/InstaWP/connect-helpers/zipball/c1b990ed12e2401f79a5ede041829da9fb71b11c", |
  |  | 15 | "reference": "c1b990ed12e2401f79a5ede041829da9fb71b11c", |
  | 16 | 16 | "shasum": "" |
  | 17 | 17 | }, |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.json?rev=3108725#L20) | […](/browser/instawp-connect/trunk/vendor/composer/installed.json?rev=3109305#L20) |  |
  | 20 | 20 | "wp-cli/wp-config-transformer": "^1.3" |
  | 21 | 21 | }, |
  | 22 |  | "time": "2024-06-2~~7T12:20:04~~+00:00", |
  |  | 22 | "time": "2024-06-28T14:28:26+00:00", |
  | 23 | 23 | "default-branch": true, |
  | 24 | 24 | "type": "library", |
* ## [instawp-connect/trunk/vendor/composer/installed.php](/changeset/3109305/instawp-connect/trunk/vendor/composer/installed.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/composer/installed.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L1 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3109305#L1 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php return array( |
  | 2 | 2 | 'root' => array( |
  |  | 3 | 'name' => 'instawp/connect', |
  | 3 | 4 | 'pretty\_version' => 'dev-main', |
  | 4 | 5 | 'version' => 'dev-main', |
  |  | 6 | 'reference' => 'beb762f560060bf576585abbbd352a841fe59313', |
  | 5 | 7 | 'type' => 'wordpress-plugin', |
  | 6 | 8 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | 7 | 9 | 'aliases' => array(), |
  | 8 |  | ~~'reference' => '1c1a983173b3687c13111a9d3170eb1173683113',~~ |
  | 9 |  | ~~'name' => 'instawp/connect',~~ |
  | 10 | 10 | 'dev' => true, |
  | 11 | 11 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L14) | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3109305#L14) |  |
  | 14 | 14 | 'pretty\_version' => 'dev-main', |
  | 15 | 15 | 'version' => 'dev-main', |
  |  | 16 | 'reference' => 'beb762f560060bf576585abbbd352a841fe59313', |
  | 16 | 17 | 'type' => 'wordpress-plugin', |
  | 17 | 18 | 'install\_path' => \_\_DIR\_\_ . '/../../', |
  | 18 | 19 | 'aliases' => array(), |
  | 19 |  | ~~'reference' => '1c1a983173b3687c13111a9d3170eb1173683113',~~ |
  | 20 | 20 | 'dev\_requirement' => false, |
  | 21 | 21 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L23) | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3109305#L23) |  |
  | 23 | 23 | 'pretty\_version' => 'dev-main', |
  | 24 | 24 | 'version' => 'dev-main', |
  |  | 25 | 'reference' => 'c1b990ed12e2401f79a5ede041829da9fb71b11c', |
  | 25 | 26 | 'type' => 'library', |
  | 26 | 27 | 'install\_path' => \_\_DIR\_\_ . '/../instawp/connect-helpers', |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L28) | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3109305#L29) |  |
  | 28 | 29 | 0 => '9999999-dev', |
  | 29 | 30 | ), |
  | 30 |  | ~~'reference' => '6a7f48d7e0658778f7fd8142fc03f14c46c7e8bb',~~ |
  | 31 | 31 | 'dev\_requirement' => false, |
  | 32 | 32 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L34) | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3109305#L34) |  |
  | 34 | 34 | 'pretty\_version' => 'v2.7.0', |
  | 35 | 35 | 'version' => '2.7.0.0', |
  |  | 36 | 'reference' => '52a0d99e69f56b9ec27ace92ba56897fe6993105', |
  | 36 | 37 | 'type' => 'library', |
  | 37 | 38 | 'install\_path' => \_\_DIR\_\_ . '/../paragonie/constant\_time\_encoding', |
  | 38 | 39 | 'aliases' => array(), |
  | 39 |  | ~~'reference' => '52a0d99e69f56b9ec27ace92ba56897fe6993105',~~ |
  | 40 | 40 | 'dev\_requirement' => false, |
  | 41 | 41 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L43) | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3109305#L43) |  |
  | 43 | 43 | 'pretty\_version' => 'v9.99.100', |
  | 44 | 44 | 'version' => '9.99.100.0', |
  |  | 45 | 'reference' => '996434e5492cb4c3edcb9168db6fbb1359ef965a', |
  | 45 | 46 | 'type' => 'library', |
  | 46 | 47 | 'install\_path' => \_\_DIR\_\_ . '/../paragonie/random\_compat', |
  | 47 | 48 | 'aliases' => array(), |
  | 48 |  | ~~'reference' => '996434e5492cb4c3edcb9168db6fbb1359ef965a',~~ |
  | 49 | 49 | 'dev\_requirement' => false, |
  | 50 | 50 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L52) | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3109305#L52) |  |
  | 52 | 52 | 'pretty\_version' => '3.0.39', |
  | 53 | 53 | 'version' => '3.0.39.0', |
  |  | 54 | 'reference' => '211ebc399c6e73c225a018435fe5ae209d1d1485', |
  | 54 | 55 | 'type' => 'library', |
  | 55 | 56 | 'install\_path' => \_\_DIR\_\_ . '/../phpseclib/phpseclib', |
  | 56 | 57 | 'aliases' => array(), |
  | 57 |  | ~~'reference' => '211ebc399c6e73c225a018435fe5ae209d1d1485',~~ |
  | 58 | 58 | 'dev\_requirement' => false, |
  | 59 | 59 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L61) | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3109305#L61) |  |
  | 61 | 61 | 'pretty\_version' => '3.8.1', |
  | 62 | 62 | 'version' => '3.8.1.0', |
  |  | 63 | 'reference' => 'e331b534d7de10402d7545a0de50177b874c0779', |
  | 63 | 64 | 'type' => 'wordpress-plugin', |
  | 64 | 65 | 'install\_path' => \_\_DIR\_\_ . '/../woocommerce/action-scheduler', |
  | 65 | 66 | 'aliases' => array(), |
  | 66 |  | ~~'reference' => 'e331b534d7de10402d7545a0de50177b874c0779',~~ |
  | 67 | 67 | 'dev\_requirement' => false, |
  | 68 | 68 | ), |
  | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3108725#L70) | […](/browser/instawp-connect/trunk/vendor/composer/installed.php?rev=3109305#L70) |  |
  | 70 | 70 | 'pretty\_version' => 'v1.3.5', |
  | 71 | 71 | 'version' => '1.3.5.0', |
  |  | 72 | 'reference' => '202aa80528939159d52bc4026cee5453aec382db', |
  | 72 | 73 | 'type' => 'library', |
  | 73 | 74 | 'install\_path' => \_\_DIR\_\_ . '/../wp-cli/wp-config-transformer', |
  | 74 | 75 | 'aliases' => array(), |
  | 75 |  | ~~'reference' => '202aa80528939159d52bc4026cee5453aec382db',~~ |
  | 76 | 76 | 'dev\_requirement' => false, |
  | 77 | 77 | ), |
* ## [instawp-connect/trunk/vendor/instawp/connect-helpers/src/Cache.php](/changeset/3109305/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Cache.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/instawp/connect-helpers/src/Cache.php")

  | [r3089455](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Cache.php?rev=3089455#L446 "Show revision 3089455 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Cache.php?rev=3109305#L446 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 446 | 446 | $results[] = [ |
  | 447 | 447 | 'slug'    => 'edge-cache', |
  | 448 |  | 'name'    => '~~Edg~~e Cache', |
  |  | 448 | 'name'    => 'InstaWP Live Cache', |
  | 449 | 449 | 'message' => $message, |
  | 450 | 450 | ]; |
* ## [instawp-connect/trunk/vendor/instawp/connect-helpers/src/Curl.php](/changeset/3109305/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Curl.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/instawp/connect-helpers/src/Curl.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Curl.php?rev=3108725#L5 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Curl.php?rev=3109305#L5 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | class Curl { |
  | 6 | 6 |  |
  | 7 |  | public static function do\_curl( $endpoint, $body = array(), $headers = array(), $is\_post = true, $api\_version = 'v2', $api\_key = '' ) { |
  |  | 7 | public static function do\_curl( $endpoint, $body = array(), $headers = array(), $method = 'POST', $api\_version = 'v2', $api\_key = '' ) { |
  |  | 8 | $api\_url = Helper::get\_api\_domain(); |
  | 8 | 9 |  |
  | 9 |  | ~~$api\_url = Helper::get\_api\_domain();~~ |
  | 10 | 10 | if ( empty( $api\_url ) ) { |
  | 11 | 11 | return array( |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Curl.php?rev=3108725#L34) | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Curl.php?rev=3109305#L34) |  |
  | 34 | 34 | ) ); |
  | 35 | 35 |  |
  | 36 |  | if ( $is\_post === 'patch' ) { |
  | 37 |  | $api\_method = 'PATCH'; |
  | 38 |  | } elseif ( $is\_post === 'put' ) { |
  | 39 |  | $api\_method = 'PUT'; |
  |  | 36 | if ( is\_bool( $method ) ) { |
  |  | 37 | $method = $method ? 'POST' : 'GET'; |
  | 40 | 38 | } else { |
  | 41 |  | $~~api\_method = $is\_post ? 'POST' : 'GET'~~; |
  |  | 39 | $method = strtoupper( $method ); |
  | 42 | 40 | } |
  | 43 | 41 |  |
  | 44 | 42 | $args = array( |
  | 45 |  | 'method'          => $~~api\_~~method, |
  |  | 43 | 'method'          => $method, |
  | 46 | 44 | 'headers'         => $headers, |
  | 47 | 45 | 'timeout'         => 60, |
* ## [instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php](/changeset/3109305/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php "Show the changeset 3109305 restricted to instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php")

  | [r3108725](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L6 "Show revision 3108725 of this file in browser") | [r3109305](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L6 "Show revision 3109305 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 |  |
  | 7 | 7 | public static function instawp\_generate\_api\_key( $api\_key ) { |
  | 8 |  |  |
  | 9 | 8 | if ( empty( $api\_key ) ) { |
  | 10 | 9 | error\_log( 'instawp\_generate\_api\_key empty api\_key parameter' ); |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L13) | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L12) |  |
  | 13 | 12 | } |
  | 14 | 13 |  |
  | 15 |  | $api\_response = Curl::do\_curl( 'check-key', array(), array(), ~~false~~, 'v1', $api\_key ); |
  |  | 14 | $api\_response = Curl::do\_curl( 'check-key', array(), array(), 'GET', 'v1', $api\_key ); |
  | 16 | 15 |  |
  | 17 | 16 | if ( ! empty( $api\_response['data']['status'] ) ) { |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L36) | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L35) |  |
  | 36 | 35 | 'username'    => base64\_encode( self::get\_admin\_username() ), |
  | 37 | 36 | ); |
  | 38 |  | $connect\_response = Curl::do\_curl( 'connects', $connect\_body, array(), ~~true~~, 'v1' ); |
  |  | 37 | $connect\_response = Curl::do\_curl( 'connects', $connect\_body, array(), 'POST', 'v1' ); |
  | 39 | 38 |  |
  | 40 | 39 | if ( ! empty( $connect\_response['data']['status'] ) ) { |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L79) | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L78) |  |
  | 79 | 78 |  |
  | 80 | 79 | public static function get\_api\_key( $return\_hashed = false, $default\_key = '' ) { |
  | 81 |  |  |
  | 82 | 80 | $api\_options = Option::get\_option( 'instawp\_api\_options', array() ); |
  | 83 | 81 | $api\_key     = self::get\_args\_option( 'api\_key', $api\_options, $default\_key ); |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L98) | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L96) |  |
  | 98 | 96 |  |
  | 99 | 97 |  |
  | 100 |  | public static function get\_random\_string( $length ) { |
  |  | 98 | public static function get\_random\_string( $length = 6 ) { |
  | 101 | 99 | try { |
  | 102 | 100 | $length        = ( int ) round( ceil( absint( $length ) / 2 ) ); |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L130) | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L128) |  |
  | 130 | 128 | $files\_total = 0; |
  | 131 | 129 | $path        = realpath( $path ); |
  |  | 130 |  |
  | 132 | 131 | try { |
  | 133 | 132 | if ( $path !== false && $path != '' && file\_exists( $path ) ) { |
  | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3108725#L230) | […](/browser/instawp-connect/trunk/vendor/instawp/connect-helpers/src/Helper.php?rev=3109305#L229) |  |
  | 230 | 229 |  |
  | 231 | 230 | public static function set\_api\_domain( $api\_domain = '' ) { |
  | 232 |  |  |
  | 233 | 231 | if ( empty( $api\_domain ) ) { |
  | 234 | 232 | $api\_domain = esc\_url\_raw( 'https://app.instawp.io' ); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3109305)
* [Zip Archive](?format=zip&new=3109305)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

