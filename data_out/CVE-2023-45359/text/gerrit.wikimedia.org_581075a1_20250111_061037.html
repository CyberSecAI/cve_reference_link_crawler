Gitiles [Code Review](https://gerrit.wikimedia.org/r/) [Sign In](https://gerrit.wikimedia.org/r/login/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c) [gerrit.wikimedia.org](/r/plugins/gitiles/?format=HTML) / [mediawiki](/r/plugins/gitiles/mediawiki/) / [skins](/r/plugins/gitiles/mediawiki/skins/) / [Vector](/r/plugins/gitiles/mediawiki/skins/Vector/) / c17b956e0750e051ac7c1098e3ff625f0db82b2c

| commit | c17b956e0750e051ac7c1098e3ff625f0db82b2c | [[log](/r/plugins/gitiles/mediawiki/skins/Vector/%2Blog/c17b956e0750e051ac7c1098e3ff625f0db82b2c)] [[tgz](/r/plugins/gitiles/mediawiki/skins/Vector/%2Barchive/c17b956e0750e051ac7c1098e3ff625f0db82b2c.tar.gz)] |
| --- | --- | --- |
| author | Lucas Werkmeister <lucas.werkmeister@wikimedia.de> | Wed Jul 05 14:47:27 2023 +0200 |
| committer | James D. Forrester <jforrester@wikimedia.org> | Thu Sep 28 20:51:56 2023 -0400 |
| tree | [2108d5dc4ce4d876d19a7d46e859433d0ba5d96e](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/) |
| parent | [2a452b7e2562cba32b8a17bc91dc5abb531f0a1c](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c%5E) [[diff](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c%5E%21/)] |

```
SECURITY: Properly escape vector-toc-toggle-button-label

CVE-2023-PENDING

The line param can contain some markup (since headings can contain
markup), so make that a raw param.

Bug: T340217
Change-Id: [I9295a8e0f9f00b62d5206f6d7e40bb657f43651a](https://gerrit.wikimedia.org/r/#/q/I9295a8e0f9f00b62d5206f6d7e40bb657f43651a)

```

* [includes/Components/VectorComponentTableOfContents.php](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/includes/Components/VectorComponentTableOfContents.php)[[diff](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c%5E%21/#F0)]

1 file changedtree: 2108d5dc4ce4d876d19a7d46e859433d0ba5d96e

1. [.phan/](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.phan/)
2. [.storybook/](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.storybook/)
3. [dev-scripts/](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/dev-scripts/)
4. [i18n/](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/i18n/)
5. [includes/](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/includes/)
6. [resources/](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/resources/)
7. [screenshots/](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/screenshots/)
8. [skinStyles/](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/skinStyles/)
9. [stories/](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/stories/)
10. [tests/](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/tests/)
11. [.eslintignore](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.eslintignore)
12. [.eslintrc.json](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.eslintrc.json)
13. [.eslintrcEs6.json](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.eslintrcEs6.json)
14. [.gitignore](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.gitignore)
15. [.gitreview](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.gitreview)
16. [.nvmrc](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.nvmrc)
17. [.phpcs.xml](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.phpcs.xml)
18. [.stylelintignore](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.stylelintignore)
19. [.stylelintrc.json](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.stylelintrc.json)
20. [.svgo.config.js](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/.svgo.config.js)
21. [bundlesize.config.json](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/bundlesize.config.json)
22. [CODE\_OF\_CONDUCT.md](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/CODE_OF_CONDUCT.md)
23. [composer.json](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/composer.json)
24. [COPYING](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/COPYING)
25. [Doxyfile](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/Doxyfile)
26. [jest.config.js](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/jest.config.js)
27. [jest.setup.js](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/jest.setup.js)
28. [jsdoc.json](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/jsdoc.json)
29. [package-lock.json](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/package-lock.json)
30. [package.json](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/package.json)
31. [README.md](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/README.md)
32. [skin.json](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/skin.json)
33. [tsconfig.json](/r/plugins/gitiles/mediawiki/skins/Vector/%2B/c17b956e0750e051ac7c1098e3ff625f0db82b2c/tsconfig.json)

README.md
# Vector Skin

## Installation

See [https://www.mediawiki.org/wiki/Skin:Vector](https://www.mediawiki.org/wiki/Skin%3AVector).

### Configuration options

See [skin.json](c17b956e0750e051ac7c1098e3ff625f0db82b2c/skin.json).

## Development

### Node version

It is recommended to use [nvm](https://github.com/nvm-sh/nvm) to use the version of node defined in `.nvmrc` during local development. This ensures consistency amongst development environments.

### Coding conventions

We strive for compliance with MediaWiki conventions:

[https://www.mediawiki.org/wiki/Manual:Coding\_conventions](https://www.mediawiki.org/wiki/Manual%3ACoding_conventions)

Additions and deviations from those conventions that are more tailored to this project are noted at:

<https://www.mediawiki.org/wiki/Reading/Web/Coding_conventions>

### Pre-commit tests

A pre-commit hook is installed when executing `npm install`. By default, it runs `npm test` which is useful for automatically validating everything that can be in a reasonable amount of time. If you wish to defer these tests to be executed by continuous integration only, set the `PRE_COMMIT` environment variable to `0`:

```
$ export PRE_COMMIT=0
$ git commit

```

Or more succinctly:

```
$ PRE_COMMIT=0 git commit

```

Skipping the pre-commit tests has no impact on Gerrit change identifier hooks.

### Hooks

See [hooks.txt](c17b956e0750e051ac7c1098e3ff625f0db82b2c/hooks.txt).

  Powered by [Gitiles](https://gerrit.googlesource.com/gitiles/)[txt](?format=TEXT) [json](?format=JSON)