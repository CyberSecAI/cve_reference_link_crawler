=== Content from plugins.trac.wordpress.org_58553d5f_20250111_024514.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fstars-testimonials-with-slider-and-masonry-grid%2Ftrunk%2Fplugin.class.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3198989 "Revision 3198989")
* Next Revision →
* [Blame](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php)

---

# [source:](/browser?order=name "Go to repository root") [stars-testimonials-with-slider-and-masonry-grid](/browser/stars-testimonials-with-slider-and-masonry-grid?order=name "View stars-testimonials-with-slider-and-masonry-grid")/[trunk](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk?order=name "View trunk")/[plugin.class.php](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?order=name "View plugin.class.php")

View diff against:

View revision:

| [Last change](/changeset/3199277/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php "View differences") on this file was [3199277](/changeset/3199277/ "View changeset 3199277"), checked in by premiocommit, [6 weeks ago](/timeline?from=2024-11-29T07%3A54%3A16Z&precision=second "See timeline at 11/29/2024 07:54:16 AM") |
| --- |
| Update to version 3.3.4 from GitHub |
| **File size:** 74.8 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Plugin Main Class |
| [4](#L4) | \*/ |
| [5](#L5) | if ( ! defined( 'ABSPATH' ) ) exit; |
| [6](#L6) | $settingArray = []; |
| [7](#L7) | $colorStyleArray = []; |
| [8](#L8) | $fontFamily = []; |
| [9](#L9) | $proTestPluginURL = admin\_url("edit.php?post\_type=stars\_testimonial&page=all-shortcodes&task=upgrade-to-pro"); |
| [10](#L10) | define("PRO\_PLUGIN\_URL",$proTestPluginURL); |
| [11](#L11) | class Stars\_Testimonials |
| [12](#L12) | { |
| [13](#L13) |  |
| [14](#L14) | public $iframeCode; |
| [15](#L15) |  |
| [16](#L16) | public $you\_tube\_url = "https://www.youtube.com/embed/L7IM7N-CGFk"; |
| [17](#L17) |  |
| [18](#L18) | function \_\_construct() |
| [19](#L19) | { |
| [20](#L20) | $this->initializeValues(); |
| [21](#L21) | add\_action( 'init', array($this, 'register\_testimonials') ); |
| [22](#L22) | add\_filter( 'post\_updated\_messages', array($this, 'testimonials\_update\_messages') ); |
| [23](#L23) | add\_action( 'add\_meta\_boxes\_stars\_testimonial', array($this, 'adding\_custom\_meta\_boxes') ); |
| [24](#L24) | add\_action( 'save\_post', array($this, 'save\_testimonial' ) ); |
| [25](#L25) | add\_action( 'admin\_menu', array($this, 'add\_all\_short\_codes\_menu') ); |
| [26](#L26) | add\_shortcode( 'stars\_testimonials', array($this, 'render\_stars\_testimonials') ); |
| [27](#L27) | add\_shortcode( 'testimonial\_stars', array($this, 'render\_testimonial\_stars') ); |
| [28](#L28) | add\_action( 'stars\_testimonial\_display\_rating', array($this, 'display\_rating'), 10, 1 ); |
| [29](#L29) | add\_action( 'stars\_testimonial\_display\_company', array($this, 'display\_company'), 10, 2 ); |
| [30](#L30) | add\_action( 'vc\_before\_init', array($this, 'testimonial\_integrateWithVC')); |
| [31](#L31) | add\_filter( 'enter\_title\_here', array($this, 'change\_placeholder\_text')); |
| [32](#L32) | add\_action( 'admin\_menu', array($this, 'remove\_add\_new\_button\_from\_menu')); |
| [33](#L33) | add\_action('admin\_enqueue\_scripts', array($this, 'stars\_testimonials\_admin\_styles')); |
| [34](#L34) | add\_action('admin\_enqueue\_scripts', array($this, 'stars\_testimonials\_admin\_script')); |
| [35](#L35) |  |
| [36](#L36) | add\_action( 'wp\_ajax\_save\_testimonial\_setting', array( $this, 'save\_testimonial\_settings' ) ); |
| [37](#L37) |  |
| [38](#L38) | add\_action( 'wp\_ajax\_remove\_testimonial\_record', array( $this, 'remove\_testimonial\_record' ) ); |
| [39](#L39) |  |
| [40](#L40) | add\_action( 'wp\_ajax\_testimonial\_pro\_popup', array( $this, 'testimonial\_pro\_popup' ) ); |
| [41](#L41) |  |
| [42](#L42) | add\_action( 'wp\_ajax\_save\_premio\_testimonial\_post', array( $this, 'save\_premio\_testimonial\_post' )); |
| [43](#L43) |  |
| [44](#L44) | add\_action( 'wp\_ajax\_update\_premio\_testimonial\_post', array( $this, 'update\_premio\_testimonial\_post' )); |
| [45](#L45) |  |
| [46](#L46) | add\_action('edit\_form\_top', array($this, 'stars\_testimonials\_edit\_form\_top')); |
| [47](#L47) | //              add\_filter('views\_edit-stars\_testimonial', array($this, 'stars\_testimonials\_edit\_list')); |
| [48](#L48) |  |
| [49](#L49) | add\_action('admin\_init', array($this,  'plugin\_redirect')); |
| [50](#L50) |  |
| [51](#L51) | add\_filter( 'plugin\_action\_links\_' . TESTIMONIAL\_PLUGIN\_BASE, [ $this, 'plugin\_action\_links' ] ); |
| [52](#L52) |  |
| [53](#L53) | add\_action( 'admin\_footer', array( $this, 'admin\_footer' ) ); |
| [54](#L54) |  |
| [55](#L55) | /\* Send message to owner \*/ |
| [56](#L56) | add\_action( 'wp\_ajax\_wcp\_star\_testimonial\_send\_message\_to\_owner', array( $this, 'wcp\_star\_testimonial\_send\_message\_to\_owner' ) ); |
| [57](#L57) |  |
| [58](#L58) | /\* load language files \*/ |
| [59](#L59) | add\_action( 'plugins\_loaded', array( $this, 'plugin\_text' ) ); |
| [60](#L60) |  |
| [61](#L61) | add\_filter('manage\_edit-stars\_testimonial\_columns', array($this, 'manage\_testimonial\_image\_thead'), 99999); |
| [62](#L62) | add\_action('manage\_stars\_testimonial\_posts\_custom\_column', array($this, 'manage\_testimonial\_image\_content'), 2, 2); |
| [63](#L63) |  |
| [64](#L64) | add\_action('admin\_init', array($this, 'testimonial\_admin\_init')); |
| [65](#L65) |  |
| [66](#L66) | add\_action('admin\_footer', array($this, 'add\_deactivate\_modal')); |
| [67](#L67) | add\_action('wp\_ajax\_star\_testimonials\_plugin\_deactivate', array($this, 'star\_testimonials\_plugin\_deactivate')); |
| [68](#L68) |  |
| [69](#L69) | add\_action("wp\_ajax\_stars\_testimonials\_update\_status", array($this, 'stars\_testimonials\_update\_status')); |
| [70](#L70) |  |
| [71](#L71) | add\_action('wp\_enqueue\_scripts', array($this, 'enqueue\_scripts')); |
| [72](#L72) |  |
| [73](#L73) | add\_action('admin\_init', [$this, 'check\_for\_signup\_status']); |
| [74](#L74) | } |
| [75](#L75) |  |
| [76](#L76) | function check\_for\_signup\_status() { |
| [77](#L77) | if(!defined("DOING\_AJAX")) { |
| [78](#L78) | $stars\_testimonial = (isset($\_GET['post\_type']) && $\_GET['post\_type'] == "stars\_testimonial")?true:false; |
| [79](#L79) | if($stars\_testimonial && (!isset($\_GET['task']) || $\_GET['task'] != "mailjet")) { |
| [80](#L80) | $is\_shown = get\_option("stars\_testimonials\_update\_message"); |
| [81](#L81) | if ($is\_shown === false) { |
| [82](#L82) | wp\_redirect("edit.php?post\_type=stars\_testimonial&page=all-shortcodes&task=mailjet"); |
| [83](#L83) | exit; |
| [84](#L84) | } |
| [85](#L85) | } |
| [86](#L86) | } |
| [87](#L87) | } |
| [88](#L88) |  |
| [89](#L89) | function enqueue\_scripts() { |
| [90](#L90) | wp\_enqueue\_style( 'font-star-fonts', plugin\_dir\_url( \_\_FILE\_\_ ).'css/star-fonts.css' ); |
| [91](#L91) | wp\_enqueue\_style( 'stars-testimonials-styles', plugin\_dir\_url( \_\_FILE\_\_ ).'css/styles.css' ); |
| [92](#L92) | wp\_enqueue\_style( 'simple-grid', plugin\_dir\_url( \_\_FILE\_\_ ).'css/simplegrid.css' ); |
| [93](#L93) |  |
| [94](#L94) | wp\_enqueue\_script( 'wcp-grid-js', plugin\_dir\_url( \_\_FILE\_\_ ).'js/grid.js', array('jquery')); |
| [95](#L95) | wp\_enqueue\_script( 'wcp-read-more', plugin\_dir\_url( \_\_FILE\_\_ ).'js/read-more.js', array('jquery')); |
| [96](#L96) | } |
| [97](#L97) |  |
| [98](#L98) | public function stars\_testimonials\_update\_status() { |
| [99](#L99) | if(!empty($\_REQUEST['nonce']) && wp\_verify\_nonce($\_REQUEST['nonce'], 'stars\_testimonials\_update\_status')) { |
| [100](#L100) | $status = filter\_input(INPUT\_POST, 'status', FILTER\_SANITIZE\_STRING); |
| [101](#L101) | $email = filter\_input(INPUT\_POST, 'email', FILTER\_SANITIZE\_STRING); |
| [102](#L102) | update\_option("stars\_testimonials\_update\_message", 2); |
| [103](#L103) | if($status == 1) { |
| [104](#L104) |  |
| [105](#L105) | $url = 'https://premioapps.com/premio/signup/email.php'; |
| [106](#L106) | $apiParams = [ |
| [107](#L107) | 'plugin' => 'stars\_testimonials', |
| [108](#L108) | 'email'  => $email, |
| [109](#L109) | ]; |
| [110](#L110) |  |
| [111](#L111) | // Signup Email for Folders |
| [112](#L112) | $apiResponse = wp\_safe\_remote\_post($url, ['body' => $apiParams, 'timeout' => 15, 'sslverify' => true]); |
| [113](#L113) |  |
| [114](#L114) | if (is\_wp\_error($apiResponse)) { |
| [115](#L115) | wp\_safe\_remote\_post($url, ['body' => $apiParams, 'timeout' => 15, 'sslverify' => false]); |
| [116](#L116) | } |
| [117](#L117) | } |
| [118](#L118) | } |
| [119](#L119) | echo "1"; exit; |
| [120](#L120) | } |
| [121](#L121) |  |
| [122](#L122) | public function add\_deactivate\_modal() |
| [123](#L123) | { |
| [124](#L124) | if (current\_user\_can('manage\_options')) { |
| [125](#L125) | global $pagenow; |
| [126](#L126) |  |
| [127](#L127) | if ('plugins.php' !== $pagenow) { |
| [128](#L128) | return; |
| [129](#L129) | } |
| [130](#L130) |  |
| [131](#L131) | include 'deactivate-form.php'; |
| [132](#L132) | } |
| [133](#L133) | } |
| [134](#L134) |  |
| [135](#L135) | /\* star\_testimonials\_plugin\_deactivate start \*/ |
| [136](#L136) | public function star\_testimonials\_plugin\_deactivate() |
| [137](#L137) | { |
| [138](#L138) | if (current\_user\_can('manage\_options')) { |
| [139](#L139) | $postData = $\_POST; |
| [140](#L140) | $errorCounter = 0; |
| [141](#L141) | $response = array(); |
| [142](#L142) | $response['status'] = 0; |
| [143](#L143) | $response['message'] = ""; |
| [144](#L144) | $response['valid'] = 1; |
| [145](#L145) | $reason = filter\_input(INPUT\_POST, 'reason', FILTER\_SANITIZE\_STRING); |
| [146](#L146) | $nonce = filter\_input(INPUT\_POST, 'nonce', FILTER\_SANITIZE\_STRING); |
| [147](#L147) | if (empty($reason)) { |
| [148](#L148) | $errorCounter++; |
| [149](#L149) | $response['message'] = "Please provide reason"; |
| [150](#L150) | } else if (empty($nonce)) { |
| [151](#L151) | $response['message'] = esc\_attr\_\_("Your request is not valid", CHT\_OPT); |
| [152](#L152) | $errorCounter++; |
| [153](#L153) | $response['valid'] = 0; |
| [154](#L154) | } else { |
| [155](#L155) | if (!wp\_verify\_nonce($nonce, 'star\_testimonials\_deactivate\_nonce')) { |
| [156](#L156) | $response['message'] = esc\_attr\_\_("Your request is not valid", CHT\_OPT); |
| [157](#L157) | $errorCounter++; |
| [158](#L158) | $response['valid'] = 0; |
| [159](#L159) | } |
| [160](#L160) | } |
| [161](#L161) | if ($errorCounter == 0) { |
| [162](#L162) | global $current\_user; |
| [163](#L163) | $email = "none@none.none"; |
| [164](#L164) | if (isset($postData['email\_id']) && !empty($postData['email\_id']) && filter\_var($postData['email\_id'], FILTER\_VALIDATE\_EMAIL)) { |
| [165](#L165) | $email = $postData['email\_id']; |
| [166](#L166) | } |
| [167](#L167) | $domain = site\_url(); |
| [168](#L168) | $user\_name = $current\_user->first\_name . " " . $current\_user->last\_name; |
| [169](#L169) |  |
| [170](#L170) | $response['status'] = 1; |
| [171](#L171) |  |
| [172](#L172) | /\* sending message to Crisp \*/ |
| [173](#L173) | $post\_message = array(); |
| [174](#L174) |  |
| [175](#L175) | $message\_data = array(); |
| [176](#L176) | $message\_data['key'] = "Plugin"; |
| [177](#L177) | $message\_data['value'] = "Stars testimonials"; |
| [178](#L178) | $post\_message[] = $message\_data; |
| [179](#L179) |  |
| [180](#L180) | $message\_data = array(); |
| [181](#L181) | $message\_data['key'] = "Plugin Version"; |
| [182](#L182) | $message\_data['value'] = PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION; |
| [183](#L183) | $post\_message[] = $message\_data; |
| [184](#L184) |  |
| [185](#L185) | $message\_data = array(); |
| [186](#L186) | $message\_data['key'] = "Domain"; |
| [187](#L187) | $message\_data['value'] = $domain; |
| [188](#L188) | $post\_message[] = $message\_data; |
| [189](#L189) |  |
| [190](#L190) | $message\_data = array(); |
| [191](#L191) | $message\_data['key'] = "Email"; |
| [192](#L192) | $message\_data['value'] = $email; |
| [193](#L193) | $post\_message[] = $message\_data; |
| [194](#L194) |  |
| [195](#L195) | $message\_data = array(); |
| [196](#L196) | $message\_data['key'] = "WordPress Version"; |
| [197](#L197) | $message\_data['value'] = esc\_attr(get\_bloginfo('version')); |
| [198](#L198) | $post\_message[] = $message\_data; |
| [199](#L199) |  |
| [200](#L200) | $message\_data = array(); |
| [201](#L201) | $message\_data['key'] = "PHP Version"; |
| [202](#L202) | $message\_data['value'] = PHP\_VERSION; |
| [203](#L203) | $post\_message[] = $message\_data; |
| [204](#L204) |  |
| [205](#L205) | $message\_data = array(); |
| [206](#L206) | $message\_data['key'] = "Message"; |
| [207](#L207) | $message\_data['value'] = $reason; |
| [208](#L208) | $post\_message[] = $message\_data; |
| [209](#L209) |  |
| [210](#L210) | $api\_params = array( |
| [211](#L211) | 'domain' => $domain, |
| [212](#L212) | 'email' => $email, |
| [213](#L213) | 'url' => site\_url(), |
| [214](#L214) | 'name' => $user\_name, |
| [215](#L215) | 'message' => $post\_message, |
| [216](#L216) | 'plugin' => "Stars testimonials", |
| [217](#L217) | 'type' => "Uninstall", |
| [218](#L218) | ); |
| [219](#L219) |  |
| [220](#L220) | /\* Sending message to Crisp API \*/ |
| [221](#L221) | $crisp\_response = wp\_safe\_remote\_post("https://go.premio.io/crisp/crisp-send-message.php", array('body' => $api\_params, 'timeout' => 15, 'sslverify' => true)); |
| [222](#L222) |  |
| [223](#L223) | if (is\_wp\_error($crisp\_response)) { |
| [224](#L224) | wp\_safe\_remote\_post("https://go.premio.io/crisp/crisp-send-message.php", array('body' => $api\_params, 'timeout' => 15, 'sslverify' => false)); |
| [225](#L225) | } |
| [226](#L226) | } |
| [227](#L227) | echo json\_encode($response); |
| [228](#L228) | wp\_die(); |
| [229](#L229) | } |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | public function save\_premio\_testimonial\_post() { |
| [233](#L233) | if (current\_user\_can('edit\_posts')) { |
| [234](#L234) | $response = array(); |
| [235](#L235) | $response['status'] = 0; |
| [236](#L236) | $nonce = filter\_input(INPUT\_POST, 'nonce', FILTER\_SANITIZE\_STRING); |
| [237](#L237) | if (!wp\_verify\_nonce($nonce, 'add\_premio\_testimonial\_post')) { |
| [238](#L238) | $response['message'] = ""; |
| [239](#L239) | } else { |
| [240](#L240) | $post\_title = filter\_input(INPUT\_POST, 'post\_title', FILTER\_SANITIZE\_STRING); |
| [241](#L241) | $testimonial\_content = filter\_input(INPUT\_POST, 'testimonial\_content'); |
| [242](#L242) | $company\_name = filter\_input(INPUT\_POST, 'company\_name', FILTER\_SANITIZE\_STRING); |
| [243](#L243) | $website\_link = filter\_input(INPUT\_POST, 'website\_link', FILTER\_SANITIZE\_STRING); |
| [244](#L244) | $client\_image = filter\_input(INPUT\_POST, 'client\_image', FILTER\_SANITIZE\_STRING); |
| [245](#L245) | $testimonial\_stars = filter\_input(INPUT\_POST, 'testimonial\_stars', FILTER\_SANITIZE\_STRING); |
| [246](#L246) | $testimonial\_categories = isset($\_REQUEST['testimonial\_categories']) ? $\_REQUEST['testimonial\_categories'] : array(); |
| [247](#L247) | $user\_id = get\_current\_user\_id(); |
| [248](#L248) |  |
| [249](#L249) | if (empty($testimonial\_categories) || !is\_array($testimonial\_categories)) { |
| [250](#L250) | $testimonial\_categories = array(); |
| [251](#L251) | } |
| [252](#L252) |  |
| [253](#L253) | if (!is\_array($testimonial\_categories)) { |
| [254](#L254) | $testimonial\_categories = array(); |
| [255](#L255) | } |
| [256](#L256) | $post\_data = array( |
| [257](#L257) | 'post\_title' => $post\_title, |
| [258](#L258) | 'post\_content' => $testimonial\_content, |
| [259](#L259) | 'post\_status' => 'publish', |
| [260](#L260) | 'post\_author' => $user\_id, |
| [261](#L261) | 'post\_category' => array(), |
| [262](#L262) | 'post\_type' => 'stars\_testimonial' |
| [263](#L263) | ); |
| [264](#L264) |  |
| [265](#L265) | // Lets insert the post now. |
| [266](#L266) | $post\_id = wp\_insert\_post($post\_data); |
| [267](#L267) | if (!empty($post\_id)) { |
| [268](#L268) | if (!empty($testimonial\_categories)) { |
| [269](#L269) | wp\_set\_post\_terms($post\_id, $testimonial\_categories, 'stars\_testimonial\_cat', false); |
| [270](#L270) | } |
| [271](#L271) |  |
| [272](#L272) | add\_post\_meta($post\_id, 'testimonial\_company\_name', $company\_name); |
| [273](#L273) | add\_post\_meta($post\_id, 'testimonial\_company\_url', $website\_link); |
| [274](#L274) | add\_post\_meta($post\_id, 'testimonial\_stars', $testimonial\_stars); |
| [275](#L275) | if (!empty($client\_image)) { |
| [276](#L276) | set\_post\_thumbnail($post\_id, $client\_image); |
| [277](#L277) | } |
| [278](#L278) | $response['status'] = 1; |
| [279](#L279) | } |
| [280](#L280) | } |
| [281](#L281) | echo json\_encode($response); |
| [282](#L282) | exit; |
| [283](#L283) | } |
| [284](#L284) | } |
| [285](#L285) |  |
| [286](#L286) | public function update\_premio\_testimonial\_post() { |
| [287](#L287) | if (current\_user\_can('edit\_posts')) { |
| [288](#L288) | $response = array(); |
| [289](#L289) | $response['status'] = 0; |
| [290](#L290) | $nonce = filter\_input(INPUT\_POST, 'nonce', FILTER\_SANITIZE\_STRING); |
| [291](#L291) | $post\_id = filter\_input(INPUT\_POST, 'id', FILTER\_SANITIZE\_STRING); |
| [292](#L292) | if (!wp\_verify\_nonce($nonce, 'update\_premio\_testimonial\_post\_' . $post\_id)) { |
| [293](#L293) | $response['message'] = "Invalid request"; |
| [294](#L294) | } else { |
| [295](#L295) | $post\_title = filter\_input(INPUT\_POST, 'post\_title', FILTER\_SANITIZE\_STRING); |
| [296](#L296) | $testimonial\_content = filter\_input(INPUT\_POST, 'testimonial\_content'); |
| [297](#L297) | $company\_name = filter\_input(INPUT\_POST, 'company\_name', FILTER\_SANITIZE\_STRING); |
| [298](#L298) | $website\_link = filter\_input(INPUT\_POST, 'website\_link', FILTER\_SANITIZE\_STRING); |
| [299](#L299) | $client\_image = filter\_input(INPUT\_POST, 'client\_image', FILTER\_SANITIZE\_STRING); |
| [300](#L300) | $testimonial\_stars = filter\_input(INPUT\_POST, 'testimonial\_stars', FILTER\_SANITIZE\_STRING); |
| [301](#L301) | $testimonial\_categories = isset($\_REQUEST['testimonial\_categories']) ? $\_REQUEST['testimonial\_categories'] : array(); |
| [302](#L302) | $user\_id = get\_current\_user\_id(); |
| [303](#L303) |  |
| [304](#L304) | if (empty($testimonial\_categories) || !is\_array($testimonial\_categories)) { |
| [305](#L305) | $testimonial\_categories = array(); |
| [306](#L306) | } |
| [307](#L307) |  |
| [308](#L308) | if (!is\_array($testimonial\_categories)) { |
| [309](#L309) | $testimonial\_categories = array(); |
| [310](#L310) | } |
| [311](#L311) | $post\_data = array( |
| [312](#L312) | 'ID' => $post\_id, |
| [313](#L313) | 'post\_title' => $post\_title, |
| [314](#L314) | 'post\_content' => $testimonial\_content, |
| [315](#L315) | 'post\_status' => 'publish', |
| [316](#L316) | ); |
| [317](#L317) |  |
| [318](#L318) | // Lets insert the post now. |
| [319](#L319) | $post\_id = wp\_update\_post($post\_data); |
| [320](#L320) | if (!empty($post\_id)) { |
| [321](#L321) | if (!empty($testimonial\_categories)) { |
| [322](#L322) | wp\_set\_post\_terms($post\_id, $testimonial\_categories, 'stars\_testimonial\_cat', false); |
| [323](#L323) | } |
| [324](#L324) |  |
| [325](#L325) | update\_post\_meta($post\_id, 'testimonial\_company\_name', $company\_name); |
| [326](#L326) | update\_post\_meta($post\_id, 'testimonial\_company\_url', $website\_link); |
| [327](#L327) | update\_post\_meta($post\_id, 'testimonial\_stars', $testimonial\_stars); |
| [328](#L328) | if (!empty($client\_image)) { |
| [329](#L329) | set\_post\_thumbnail($post\_id, $client\_image); |
| [330](#L330) | } else { |
| [331](#L331) | delete\_post\_thumbnail($post\_id); |
| [332](#L332) | } |
| [333](#L333) | $response['status'] = 1; |
| [334](#L334) | } |
| [335](#L335) | } |
| [336](#L336) | echo json\_encode($response); |
| [337](#L337) | exit; |
| [338](#L338) | } |
| [339](#L339) | } |
| [340](#L340) |  |
| [341](#L341) | public function testimonial\_admin\_init() { |
| [342](#L342) | global $typenow, $current\_screen; |
| [343](#L343) | $request\_url = $\_SERVER['REQUEST\_URI']; |
| [344](#L344) | if(strpos($request\_url, "post-new.php?post\_type=stars\_testimonial") !== false) { |
| [345](#L345) | wp\_redirect(admin\_url("edit.php?post\_type=stars\_testimonial&page=all-shortcodes&task=add-testimonial")); |
| [346](#L346) | exit; |
| [347](#L347) | } |
| [348](#L348) | $action = isset($\_REQUEST['action'])?$\_REQUEST['action']:""; |
| [349](#L349) | if($action == "edit") { |
| [350](#L350) | $post\_id = isset($\_REQUEST['post'])?$\_REQUEST['post']:""; |
| [351](#L351) | if(!empty($post\_id) && is\_numeric($post\_id) && $post\_id > 0) { |
| [352](#L352) | $post = get\_post($post\_id); |
| [353](#L353) | if (isset($post->post\_type) && $post->post\_type == 'stars\_testimonial') { |
| [354](#L354) | wp\_redirect(admin\_url("edit.php?post\_type=stars\_testimonial&page=all-shortcodes&task=update-testimonial&post=".$post\_id)); |
| [355](#L355) | exit; |
| [356](#L356) | } |
| [357](#L357) | } |
| [358](#L358) | } |
| [359](#L359) |  |
| [360](#L360) | } |
| [361](#L361) |  |
| [362](#L362) | public function custom\_bulk\_action($bulk\_actions) { |
| [363](#L363) | $bulk\_actions['move\_to\_folder'] = \_\_( 'Move to Folder', 'email\_to\_eric'); |
| [364](#L364) | return $bulk\_actions; |
| [365](#L365) | } |
| [366](#L366) |  |
| [367](#L367) | function manage\_testimonial\_image\_content($column\_name, $post\_ID) |
| [368](#L368) | { |
| [369](#L369) | if($column\_name == "testimonial\_image") { |
| [370](#L370) | $image\_url = get\_the\_post\_thumbnail\_url($post\_ID, 'thumbnail'); |
| [371](#L371) | if(!empty($image\_url)) { |
| [372](#L372) | echo "<img src='".$image\_url."' class='testimonial-thumb' />"; |
| [373](#L373) | } |
| [374](#L374) | } |
| [375](#L375) | } |
| [376](#L376) |  |
| [377](#L377) | function manage\_testimonial\_image\_thead($defaults, $d = "") |
| [378](#L378) | { |
| [379](#L379) | if(isset($defaults['title'])) { |
| [380](#L380) | $defaults['title'] = esc\_attr\_\_("Client's name", 'stars-testimonials'); |
| [381](#L381) | } |
| [382](#L382) | $columns = $defaults + array( |
| [383](#L383) | 'testimonial\_image' => esc\_attr\_\_("Client's image", 'stars-testimonials'), |
| [384](#L384) | ); |
| [385](#L385) | return $columns; |
| [386](#L386) | } |
| [387](#L387) |  |
| [388](#L388) | public function plugin\_text() { |
| [389](#L389) | load\_plugin\_textdomain("stars-testimonials", FALSE, dirname(plugin\_basename(\_\_FILE\_\_)).'/languages/'); |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | public function admin\_footer() { |
| [393](#L393) | global $typenow; |
| [394](#L394) | if(is\_admin()) { |
| [395](#L395) | global $current\_screen; |
| [396](#L396) | if($typenow == "stars\_testimonial" && 'edit' == ($current\_screen->base || 'edit-tags' == $current\_screen->base)) { |
| [397](#L397) | include\_once dirname(\_\_FILE\_\_). "/help.php"; |
| [398](#L398) | } |
| [399](#L399) | } |
| [400](#L400) | } |
| [401](#L401) |  |
| [402](#L402) |  |
| [403](#L403) |  |
| [404](#L404) | public function wcp\_star\_testimonial\_send\_message\_to\_owner() { |
| [405](#L405) | $response = array(); |
| [406](#L406) | $response['status'] = 0; |
| [407](#L407) | $response['error'] = 0; |
| [408](#L408) | $response['errors'] = array(); |
| [409](#L409) | $response['message'] = ""; |
| [410](#L410) | $errorArray = []; |
| [411](#L411) | $errorMessage = \_\_("%s is required", 'stars-testimonials'); |
| [412](#L412) | $postData = $\_POST; |
| [413](#L413) | if(!isset($postData['textarea\_text']) || trim($postData['textarea\_text']) == "") { |
| [414](#L414) | $error = array( |
| [415](#L415) | "key"   => "textarea\_text", |
| [416](#L416) | "message" => \_\_("Please enter your message",'stars-testimonials') |
| [417](#L417) | ); |
| [418](#L418) | $errorArray[] = $error; |
| [419](#L419) | } |
| [420](#L420) | if(!isset($postData['user\_email']) || trim($postData['user\_email']) == "") { |
| [421](#L421) | $error = array( |
| [422](#L422) | "key"   => "user\_email", |
| [423](#L423) | "message" => sprintf($errorMessage,\_\_("Email",'stars-testimonials')) |
| [424](#L424) | ); |
| [425](#L425) | $errorArray[] = $error; |
| [426](#L426) | } else if(!filter\_var($postData['user\_email'], FILTER\_VALIDATE\_EMAIL)) { |
| [427](#L427) | $error = array( |
| [428](#L428) | 'key' => "user\_email", |
| [429](#L429) | "message" => "Email is not valid" |
| [430](#L430) | ); |
| [431](#L431) | $errorArray[] = $error; |
| [432](#L432) | } |
| [433](#L433) | if(empty($errorArray)) { |
| [434](#L434) | if(!isset($postData['star\_testimonial\_help\_nonce']) || trim($postData['star\_testimonial\_help\_nonce']) == "") { |
| [435](#L435) | $error = array( |
| [436](#L436) | "key"   => "nonce", |
| [437](#L437) | "message" => \_\_("Your request is not valid", 'stars-testimonials') |
| [438](#L438) | ); |
| [439](#L439) | $errorArray[] = $error; |
| [440](#L440) | } else { |
| [441](#L441) | if(!wp\_verify\_nonce($postData['star\_testimonial\_help\_nonce'], 'star\_testimonial\_help\_nonce')) { |
| [442](#L442) | $error = array( |
| [443](#L443) | "key"   => "nonce", |
| [444](#L444) | "message" => \_\_("Your request is not valid", 'stars-testimonials') |
| [445](#L445) | ); |
| [446](#L446) | $errorArray[] = $error; |
| [447](#L447) | } |
| [448](#L448) | } |
| [449](#L449) | } |
| [450](#L450) | if(empty($errorArray)) { |
| [451](#L451) | $text\_message = self::sanitize\_options($postData['textarea\_text'], 'textarea'); |
| [452](#L452) | $email = self::sanitize\_options($postData['user\_email'],"email"); |
| [453](#L453) | $domain = site\_url(); |
| [454](#L454) |  |
| [455](#L455) | global $current\_user; |
| [456](#L456) |  |
| [457](#L457) | $user\_name = $current\_user->first\_name." ".$current\_user->last\_name; |
| [458](#L458) |  |
| [459](#L459) | $response['status'] = 1; |
| [460](#L460) |  |
| [461](#L461) | /\* sending message to Crisp \*/ |
| [462](#L462) | $post\_message = array(); |
| [463](#L463) |  |
| [464](#L464) | $message\_data = array(); |
| [465](#L465) | $message\_data['key'] = "Plugin"; |
| [466](#L466) | $message\_data['value'] = "Stars"; |
| [467](#L467) | $post\_message[] = $message\_data; |
| [468](#L468) |  |
| [469](#L469) | $message\_data = array(); |
| [470](#L470) | $message\_data['key'] = "Domain"; |
| [471](#L471) | $message\_data['value'] = $domain; |
| [472](#L472) | $post\_message[] = $message\_data; |
| [473](#L473) |  |
| [474](#L474) | $message\_data = array(); |
| [475](#L475) | $message\_data['key'] = "Email"; |
| [476](#L476) | $message\_data['value'] = $email; |
| [477](#L477) | $post\_message[] = $message\_data; |
| [478](#L478) |  |
| [479](#L479) | $message\_data = array(); |
| [480](#L480) | $message\_data['key'] = "Message"; |
| [481](#L481) | $message\_data['value'] = $text\_message; |
| [482](#L482) | $post\_message[] = $message\_data; |
| [483](#L483) |  |
| [484](#L484) | $api\_params = array( |
| [485](#L485) | 'domain' => $domain, |
| [486](#L486) | 'email' => $email, |
| [487](#L487) | 'url' => site\_url(), |
| [488](#L488) | 'name' => $user\_name, |
| [489](#L489) | 'message' => $post\_message, |
| [490](#L490) | 'plugin' => "Stars", |
| [491](#L491) | 'type' => "Need Help", |
| [492](#L492) | ); |
| [493](#L493) |  |
| [494](#L494) | /\* Sending message to Crisp API \*/ |
| [495](#L495) | $crisp\_response = wp\_safe\_remote\_post("https://go.premio.io/crisp/crisp-send-message.php", array('body' => $api\_params, 'timeout' => 15, 'sslverify' => true)); |
| [496](#L496) |  |
| [497](#L497) | if (is\_wp\_error($crisp\_response)) { |
| [498](#L498) | wp\_safe\_remote\_post("https://go.premio.io/crisp/crisp-send-message.php", array('body' => $api\_params, 'timeout' => 15, 'sslverify' => false)); |
| [499](#L499) | } |
| [500](#L500) | } else { |
| [501](#L501) | $response['error'] = 1; |
| [502](#L502) | $response['errors'] = $errorArray; |
| [503](#L503) | } |
| [504](#L504) | echo json\_encode($response); |
| [505](#L505) | } |
| [506](#L506) |  |
| [507](#L507) | public function plugin\_action\_links( $links ) { |
| [508](#L508) | $links['go\_pro'] = sprintf( '<a href="%1$s" style="color: #FF5983;font-weight: bold;" class="testimonial-plugins-gopro">%2$s</a>',admin\_url("edit.php?post\_type=stars\_testimonial&page=all-shortcodes&task=upgrade-to-pro"), \_\_( 'Upgrade', 'stars-testimonials' ) ); |
| [509](#L509) | return $links; |
| [510](#L510) | } |
| [511](#L511) |  |
| [512](#L512) | function plugin\_redirect() { |
| [513](#L513) | if (!defined("DOING\_AJAX") && get\_option('stars\_testimonail\_plugin\_redirection', false)) { |
| [514](#L514) | delete\_option('stars\_testimonail\_plugin\_redirection'); |
| [515](#L515) | $is\_shown = get\_option("stars\_testimonials\_update\_message"); |
| [516](#L516) | if($is\_shown === false) { |
| [517](#L517) | wp\_redirect("edit.php?post\_type=stars\_testimonial&page=all-shortcodes&task=mailjet"); |
| [518](#L518) | exit; |
| [519](#L519) | } else { |
| [520](#L520) | $args = array( |
| [521](#L521) | 'post\_type'   => 'stars\_testimonial', |
| [522](#L522) | 'posts\_per\_page'   => 1 |
| [523](#L523) | ); |
| [524](#L524) | $query\_testimonials = new WP\_Query( $args ); |
| [525](#L525) |  |
| [526](#L526) | if ( $query\_testimonials->have\_posts() ) { |
| [527](#L527) | wp\_redirect("edit.php?post\_type=stars\_testimonial"); |
| [528](#L528) | } else { |
| [529](#L529) | wp\_redirect("edit.php?post\_type=stars\_testimonial&page=all-shortcodes&task=add-testimonial"); |
| [530](#L530) | } |
| [531](#L531) | exit; |
| [532](#L532) | } |
| [533](#L533) | } |
| [534](#L534) | } |
| [535](#L535) |  |
| [536](#L536) | function stars\_testimonials\_edit\_list($views) { |
| [537](#L537) | //              $screen = get\_current\_screen(); |
| [538](#L538) | //              if( 'stars\_testimonial' == $screen->post\_type ) { |
| [539](#L539) | //                      $this->setTestimonialMessage(); |
| [540](#L540) | //              } |
| [541](#L541) | return $views; |
| [542](#L542) | } |
| [543](#L543) |  |
| [544](#L544) | function setTestimonialMessage() { |
| [545](#L545) | $totalPostStatus = $this->get\_total\_testimonials(); |
| [546](#L546) | if ($totalPostStatus) { |
| [547](#L547) | echo $this->testimonialMessage(); |
| [548](#L548) | } |
| [549](#L549) | } |
| [550](#L550) |  |
| [551](#L551) | function testimonialButton() { |
| [552](#L552) | $screen = get\_current\_screen(); |
| [553](#L553) | if($screen->post\_type == "stars\_testimonial") { |
| [554](#L554) | return "<a href='".admin\_url("edit.php?post\_type=stars\_testimonial&page=all-shortcodes&task=add-new")."' class='upgrade-block-button open-popup new-widget-button'>".\_\_("+ New Widget Shortcode", 'stars-testimonials')."</a><a href='".PRO\_PLUGIN\_URL."' target='\_blank' class='upgrade-block-button open-popup'>".\_\_("Upgrade to Pro", 'stars-testimonials')."</a><div class='clear'></div>"; |
| [555](#L555) | } else { |
| [556](#L556) | return ""; |
| [557](#L557) | } |
| [558](#L558) | } |
| [559](#L559) |  |
| [560](#L560) | function testimonialMessage() { |
| [561](#L561) | return "<div class='testimonial-limit-msg'>".\_\_("You have reached to maximum testimonial limit. Add more testimonials by <a href='".PRO\_PLUGIN\_URL."' target='\_blank' class='upgrade-button open-popup'>Upgrading to Pro</a><div class='clear'></div>", 'stars-testimonials')."</div>"; |
| [562](#L562) | } |
| [563](#L563) |  |
| [564](#L564) | function stars\_testimonials\_edit\_form\_top($post) { |
| [565](#L565) | if( 'stars\_testimonial' == $post->post\_type ) { |
| [566](#L566) | $this->setTestimonialMessage(); |
| [567](#L567) | } |
| [568](#L568) | } |
| [569](#L569) |  |
| [570](#L570) | function testimonial\_pro\_popup() { |
| [571](#L571) | $page = "upgrade-to-pro.php"; |
| [572](#L572) | include\_once $page; |
| [573](#L573) | } |
| [574](#L574) |  |
| [575](#L575) | function initializeValues() { |
| [576](#L576) | $GLOBALS['settingArray'] = array( |
| [577](#L577) | array( |
| [578](#L578) | "title" => "Stars", |
| [579](#L579) | "slug"  => "stars", |
| [580](#L580) | "class" => "starrating", |
| [581](#L581) | "color" => array("000000", "2980b9", "ca8e2f", "d9e835", "e0d733", "e5c534", "fecc1f", "ff0000", "ffd851", "ffffff","1cbfea") |
| [582](#L582) | ), |
| [583](#L583) | array( |
| [584](#L584) | "title" => "Text", |
| [585](#L585) | "slug" => "text", |
| [586](#L586) | "class" => "st-testimonial-content", |
| [587](#L587) | "color" => array("000000", "111111", "2980b9", "333333", "666666", "707070", "a6a6a6", "bbbbbb", "bdc3c7", "ffffff","1cbfea") |
| [588](#L588) | ), |
| [589](#L589) | array( |
| [590](#L590) | "title" => "Background", |
| [591](#L591) | "slug" => "background", |
| [592](#L592) | "class" => "st-testimonial-bg", |
| [593](#L593) | "color" => array("000000", "111111", "141414", "2980b9", "333333", "666666", "707070", "a6a6a6", "fafafa", "ffffff","1cbfea") |
| [594](#L594) | ), |
| [595](#L595) | array( |
| [596](#L596) | "title" => "Title", |
| [597](#L597) | "slug" => "title", |
| [598](#L598) | "class" => "st-testimonial-title", |
| [599](#L599) | "color" => array("000000", "111111", "141414", "2980b9", "333333", "3c3c3c", "707070", "a6a6a6", "fafafa", "ffffff","1cbfea") |
| [600](#L600) | ), |
| [601](#L601) | array( |
| [602](#L602) | "title" => "Company", |
| [603](#L603) | "slug" => "company", |
| [604](#L604) | "class" => "st-testimonial-company", |
| [605](#L605) | "color" => array("000000", "111111", "2980b9", "333333", "707070", "a6a6a6", "bbbbbb", "bdc3c7", "f4f4f4", "ffffff","1cbfea") |
| [606](#L606) | ) |
| [607](#L607) | ); |
| [608](#L608) | $star           = array("ff0000","fecc1f","ffd851","ffd851","ca8e2f","e0d733","e5c534","","","ffffff","","","","d9e835","","d9e835","d9e835"); |
| [609](#L609) | $text           = array("333333","333333","333333","333333","ffffff","333333","333333","333333","333333","333333","333333","ffffff","ffffff","333333","ffffff","333333","ffffff"); |
| [610](#L610) | $background = array("ffffff","fafafa","fafafa","fafafa","","fafafa","ffffff","fafafa","fafafa","ffffff","fafafa","","","ffffff","141414","ffffff","ffffff"); |
| [611](#L611) | $title          = array("333333","333333","333333","333333","ffffff","333333","ffffff","707070","707070","707070","707070","ffffff","ffffff","3c3c3c","333333","ffffff","ffffff"); |
| [612](#L612) | $company        = array("333333","333333","333333","333333","ffffff","333333","f4f4f4","000000","707070","707070","707070","bbbbbb","ffffff","333333","bdc3c7","a6a6a6","2980b9"); |
| [613](#L613) | $allColorArray = array( |
| [614](#L614) | 'stars'         => [], |
| [615](#L615) | 'text'  => [], |
| [616](#L616) | 'background' => [], |
| [617](#L617) | 'title'         => [], |
| [618](#L618) | 'company'       => [], |
| [619](#L619) | ); |
| [620](#L620) | for($i=0;$i<count($background);$i++) { |
| [621](#L621) | $allColorArray['stars'][]               = $star[$i]; |
| [622](#L622) | $allColorArray['text'][]        = $text[$i]; |
| [623](#L623) | $allColorArray['background'][] = $background[$i]; |
| [624](#L624) | $allColorArray['title'][]               = $title[$i]; |
| [625](#L625) | $allColorArray['company'][]     = $company[$i]; |
| [626](#L626) | } |
| [627](#L627) | $GLOBALS['colorStyleArray'] = $allColorArray; |
| [628](#L628) |  |
| [629](#L629) | $fonts = "Alef, Amatica SC, Arimo, Assistant, Asap, Cousine, David Libre, Frank Ruhl Libre, Heebo, Miriam Libre, Rubik, Secular One, Suez One, Tahoma, Tinos, Varela Round, Aclonica, Allan, Annie Use Your Telescope, Anonymous Pro, Allerta Stencil, Allerta, Amaranth, Anton, Architects Daughter, Artifika, Arvo, Asset, Astloch, Bangers, Bentham, Bevan, Bigshot One, Bowlby One, Bowlby One SC, Brawler, Cabin, Calibri, Calligraffitti, Candal, Cantarell, Cardo, Carter One, Caudex, Cedarville Cursive, Cherry Cream Soda, Chewy, Coda, Coming Soon, Copse, Corben, Covered By Your Grace, Crafty Girls, Crimson Text, Crushed, Cuprum, Damion, Dancing Script, Dawning of a New Day, Didact Gothic, Dosis, Droid Sans, Droid Sans Mono, Droid Serif, EB Garamond, Expletus Sans, Fontdiner Swanky, Forum, Francois One, Geo, Give You Glory, Goblin One, Goudy Bookletter 1911, Gravitas One, Gruppo, Hammersmith One, Helvetica, Holtwood One SC, Homemade Apple, Inconsolata, Indie Flower, IM Fell DW Pica, IM Fell DW Pica SC, IM Fell Double Pica, IM Fell Double Pica SC, IM Fell English, IM Fell English SC, IM Fell French Canon, IM Fell French Canon SC, IM Fell Great Primer, IM Fell Great Primer SC, Irish Grover, Irish Growler, Istok Web, Josefin Sans, Josefin Slab, Judson, Jura, Just Another Hand, Just Me Again Down Here, Kameron, Kenia, Kranky, Kreon, Kristi, La Belle Aurore, Lato, League Script, Lekton, Limelight, Lobster, Lobster Two, Lora, Love Ya Like A Sister, Loved by the King, Luckiest Guy, Maiden Orange, Mako, Maven Pro, Meddon, MedievalSharp, Megrim, Merriweather, Metrophobic, Michroma, Miltonian Tattoo, Miltonian, Modern Antiqua, Monofett, Molengo, Mountains of Christmas, Muli, Neucha, Neuton, News Cycle, Nixie One, Nobile, Nova Cut, Nova Flat, Nova Mono, Nova Oval, Nova Round, Nova Script, Nova Slim, Nova Square, Nunito:light, Nunito, Nunito Sans, OFL Sorts Mill Goudy TT, Old Standard TT, Open Sans, Orbitron, Oswald, Over the Rainbow, Reenie Beanie, Pacifico, Patrick Hand, Paytone One, Permanent Marker, Philosopher, Play, Playfair Display, Podkova, PT Sans, PT Sans Narrow, PT Sans Narrow:regular,bold, PT Serif, PT Serif Caption, Puritan, Quattrocento, Quattrocento Sans, Quicksand, Radley, Raleway, Redressed, Rock Salt, Rokkitt, Roboto, Ruslan Display, Schoolbell, Shadows Into Light, Shanti, Sigmar One, Six Caps, Slackey, Smythe, Special Elite, Stardos Stencil, Sue Ellen Francisco, Sunshiney, Swanky and Moo Moo, Syncopate, Tangerine, Tenor Sans, Terminal Dosis Light, The Girl Next Door, Ubuntu, Ultra, Unkempt, UnifrakturCook:bold, UnifrakturMaguntia, Varela, Verdana, Vibur, Vollkorn, VT323, Waiting for the Sunrise, Wallpoet, Walter Turncoat, Wire One, Yanone Kaffeesatz, Yeseva One"; |
| [630](#L630) | $GLOBALS['fontFamily'] = explode(", ",$fonts); |
| [631](#L631) | $this->iframeCode = '<div class="testimonial-iframe-outer"><div class="testimonial-iframe"><iframe width="100%" height="100%" frameborder="0" allowfullscreen="true" style="box-sizing: border-box; margin-bottom:5px; max-width: 100%; border: 1px solid rgba(0,0,0,1); background-color: rgba(255,255,255,0); box-shadow: 0px 2px 4px rgba(0,0,0,0.1);" src="'.$this->you\_tube\_url.'"></iframe></div></div>'; |
| [632](#L632) | } |
| [633](#L633) |  |
| [634](#L634) | public static function sanitize\_options($value, $type = "") { |
| [635](#L635) | $value = stripslashes($value); |
| [636](#L636) | if($type == "int") { |
| [637](#L637) | $value = filter\_var($value, FILTER\_SANITIZE\_NUMBER\_INT); |
| [638](#L638) | } else if($type == "email") { |
| [639](#L639) | $value = sanitize\_email($value); |
| [640](#L640) | }  else if($type == "textarea") { |
| [641](#L641) | $value = sanitize\_textarea\_field($value); |
| [642](#L642) | } else { |
| [643](#L643) | $value = sanitize\_text\_field($value); |
| [644](#L644) | } |
| [645](#L645) | return $value; |
| [646](#L646) | } |
| [647](#L647) |  |
| [648](#L648) | function remove\_testimonial\_record() { |
| [649](#L649) | if (current\_user\_can('manage\_options')) { |
| [650](#L650) | $data = $\_POST; |
| [651](#L651) | $response = array( |
| [652](#L652) | 'status' => 0, |
| [653](#L653) | 'message' => "" |
| [654](#L654) | ); |
| [655](#L655) | $id = isset($data['id']) ? $data['id'] : ""; |
| [656](#L656) |  |
| [657](#L657) | if (!isset($data['id']) || empty($data['id'])) { |
| [658](#L658) | $response['message'] = \_\_("Your request is not valid", 'stars-testimonials'); |
| [659](#L659) | } else if (!isset($data['nonce']) || empty($data['nonce'])) { |
| [660](#L660) | $response['message'] = \_\_("Your request is not valid", 'stars-testimonials'); |
| [661](#L661) | } else if (!current\_user\_can('delete\_posts')) { |
| [662](#L662) | $response['message'] = \_\_("Your request is not valid", 'stars-testimonials'); |
| [663](#L663) | } else if (!wp\_verify\_nonce($data['nonce'], 'star\_testimonial\_remove\_nonce\_' . $id)) { |
| [664](#L664) | $response['message'] = \_\_("Your request is not valid", 'stars-testimonials'); |
| [665](#L665) | } |
| [666](#L666) |  |
| [667](#L667) | if (empty($response['message'])) { |
| [668](#L668) | $id = esc\_sql($data['id']); |
| [669](#L669) |  |
| [670](#L670) | global $wpdb; |
| [671](#L671) | $tableName = $wpdb->prefix . DB\_TESTIMONIAL\_TABLE\_NAME; |
| [672](#L672) |  |
| [673](#L673) | $wpdb->delete($tableName, array('id' => $id)); |
| [674](#L674) | $response['status'] = 1; |
| [675](#L675) | $response['message'] = \_\_("Shortcode has been removed successfully", 'stars-testimonials'); |
| [676](#L676) | } |
| [677](#L677) | echo json\_encode($response); |
| [678](#L678) | die; |
| [679](#L679) | } |
| [680](#L680) | } |
| [681](#L681) |  |
| [682](#L682) | function save\_testimonial\_settings() { |
| [683](#L683) | if (current\_user\_can('manage\_options')) { |
| [684](#L684) | $data = $\_POST; |
| [685](#L685) | $id = ""; |
| [686](#L686) | $response = array( |
| [687](#L687) | 'status' => 0, |
| [688](#L688) | 'message' => "" |
| [689](#L689) | ); |
| [690](#L690) | if (isset($data['id']) && $data['id'] != "" && $data['id'] != "0") { |
| [691](#L691) | $id = $data['id']; |
| [692](#L692) | } |
| [693](#L693) | if (!isset($data['nonce']) || empty($data['nonce'])) { |
| [694](#L694) | $response['message'] = \_\_("Your request is not valid", 'stars-testimonials'); |
| [695](#L695) | } else if (empty($id) && !current\_user\_can('edit\_posts')) { |
| [696](#L696) | $response['message'] = \_\_("Your request is not valid", 'stars-testimonials'); |
| [697](#L697) | } else if (!empty($id) && !current\_user\_can('edit\_posts')) { |
| [698](#L698) | $response['message'] = \_\_("Your request is not valid", 'stars-testimonials'); |
| [699](#L699) | } else if (empty($id) && (!wp\_verify\_nonce($data['nonce'], 'star\_testimonial\_add\_nonce'))) { |
| [700](#L700) | $response['message'] = \_\_("Your request is not valid", 'stars-testimonials'); |
| [701](#L701) | } else if (!empty($id) && !wp\_verify\_nonce($data['nonce'], 'star\_testimonial\_update\_nonce\_' . $id)) { |
| [702](#L702) | $response['message'] = \_\_("Your request is not valid", 'stars-testimonials'); |
| [703](#L703) | } |
| [704](#L704) | if (empty($response['message'])) { |
| [705](#L705) | $gridCategories = isset($data['testimonial\_categories']) ? $data['testimonial\_categories'] : ""; |
| [706](#L706) | if (!empty($gridCategories) && is\_array($gridCategories)) { |
| [707](#L707) | foreach ($gridCategories as $key => $value) { |
| [708](#L708) | $gridCategories[$key] = self::sanitize\_options($value, "int"); |
| [709](#L709) | } |
| [710](#L710) | $gridCategories = implode(",", $gridCategories); |
| [711](#L711) | } else { |
| [712](#L712) | $gridCategories = ""; |
| [713](#L713) | } |
| [714](#L714) |  |
| [715](#L715) | $query = "testimonial\_type = 'grid', "; |
| [716](#L716) |  |
| [717](#L717) | $query .= "testimonial\_categories = '" . esc\_sql($gridCategories) . "', "; |
| [718](#L718) |  |
| [719](#L719) | if (isset($data['testimonial\_style'])) { |
| [720](#L720) | $testimonial\_style = self::sanitize\_options($data['testimonial\_style'], "int"); |
| [721](#L721) | $query .= "testimonial\_style = '" . esc\_sql($testimonial\_style) . "', "; |
| [722](#L722) | } |
| [723](#L723) | if (isset($data['grid\_columns'])) { |
| [724](#L724) | $grid\_columns = self::sanitize\_options($data['grid\_columns'], "int"); |
| [725](#L725) | $query .= "grid\_columns = '" . esc\_sql($grid\_columns) . "', "; |
| [726](#L726) | } |
| [727](#L727) | if (isset($data['shortcode\_name'])) { |
| [728](#L728) | $shortcode\_name = self::sanitize\_options($data['shortcode\_name']); |
| [729](#L729) | $query .= "shortcode\_name = '" . esc\_sql($shortcode\_name) . "', "; |
| [730](#L730) | } |
| [731](#L731) | if (isset($data['no\_of\_testimonials'])) { |
| [732](#L732) | $no\_of\_testimonials = self::sanitize\_options($data['no\_of\_testimonials'], "int"); |
| [733](#L733) | $query .= "no\_of\_testimonials = '" . esc\_sql($no\_of\_testimonials) . "', "; |
| [734](#L734) | } |
| [735](#L735) | if (isset($data['testimonial\_order'])) { |
| [736](#L736) | $testimonial\_order = self::sanitize\_options($data['testimonial\_order']); |
| [737](#L737) | $query .= "testimonial\_order = '" . esc\_sql($testimonial\_order) . "', "; |
| [738](#L738) | } |
| [739](#L739) | if (isset($data['stars\_color'])) { |
| [740](#L740) | $color = self::sanitize\_options($data['stars\_color']); |
| [741](#L741) | $query .= "stars\_color = '" . esc\_sql($color) . "', "; |
| [742](#L742) | } else { |
| [743](#L743) | $query .= "stars\_color = '', "; |
| [744](#L744) | } |
| [745](#L745) | if (isset($data['text\_color'])) { |
| [746](#L746) | $color = self::sanitize\_options($data['text\_color']); |
| [747](#L747) | $query .= "text\_color = '" . esc\_sql($color) . "', "; |
| [748](#L748) | } else { |
| [749](#L749) | $query .= "text\_color = '', "; |
| [750](#L750) | } |
| [751](#L751) | if (isset($data['background\_color'])) { |
| [752](#L752) | $color = self::sanitize\_options($data['background\_color']); |
| [753](#L753) | $query .= "background\_color = '" . esc\_sql($color) . "', "; |
| [754](#L754) | } else { |
| [755](#L755) | $query .= "background\_color = '', "; |
| [756](#L756) | } |
| [757](#L757) | if (isset($data['title\_color'])) { |
| [758](#L758) | $color = self::sanitize\_options($data['title\_color']); |
| [759](#L759) | $query .= "title\_color = '" . esc\_sql($color) . "', "; |
| [760](#L760) | } else { |
| [761](#L761) | $query .= "title\_color = '', "; |
| [762](#L762) | } |
| [763](#L763) | if (isset($data['company\_color'])) { |
| [764](#L764) | $color = self::sanitize\_options($data['company\_color']); |
| [765](#L765) | $query .= "company\_color = '" . esc\_sql($color) . "', "; |
| [766](#L766) | } else { |
| [767](#L767) | $query .= "company\_color = '', "; |
| [768](#L768) | } |
| [769](#L769) | if (isset($data['font\_family']) && $data['font\_family'] != "Default") { |
| [770](#L770) | $font\_family = self::sanitize\_options($data['font\_family']); |
| [771](#L771) | $query .= "font\_family = '" . esc\_sql($font\_family) . "', "; |
| [772](#L772) | } else { |
| [773](#L773) | $query .= "font\_family = '', "; |
| [774](#L774) | } |
| [775](#L775) | $query .= "stars\_color\_custom = '', "; |
| [776](#L776) | $query .= "text\_color\_custom = '', "; |
| [777](#L777) | $query .= "background\_color\_custom = '', "; |
| [778](#L778) | $query .= "title\_color\_custom = '', "; |
| [779](#L779) | $query .= "company\_color\_custom = '', "; |
| [780](#L780) | $query .= "arrow\_color\_custom = '', "; |
| [781](#L781) | $query = trim($query, ", "); |
| [782](#L782) | if ($query != "") { |
| [783](#L783) | global $wpdb; |
| [784](#L784) | $tableName = $wpdb->prefix . DB\_TESTIMONIAL\_TABLE\_NAME; |
| [785](#L785) | if ($id == "") { |
| [786](#L786) | $user = wp\_get\_current\_user(); |
| [787](#L787) | $query .= ", created\_by = '{$user->ID}'"; |
| [788](#L788) | $query = "INSERT INTO {$tableName} SET {$query}"; |
| [789](#L789) | $response['message'] = \_\_("Testimonial shortcode is created successfully", 'stars-testimonials'); |
| [790](#L790) | } else { |
| [791](#L791) | $query = "UPDATE {$tableName} SET {$query} WHERE id = '{$id}'"; |
| [792](#L792) | $response['message'] = \_\_("Testimonial shortcode is updated successfully", 'stars-testimonials'); |
| [793](#L793) | } |
| [794](#L794) | } |
| [795](#L795) | $response['status'] = 1; |
| [796](#L796) | require\_once(ABSPATH . 'wp-admin/includes/upgrade.php'); |
| [797](#L797) | dbDelta($query); |
| [798](#L798) | } |
| [799](#L799) | echo json\_encode($response); |
| [800](#L800) | die; |
| [801](#L801) | } |
| [802](#L802) | } |
| [803](#L803) |  |
| [804](#L804) | function add\_all\_short\_codes\_menu() { |
| [805](#L805) |  |
| [806](#L806) | if ( isset($\_GET['hide\_testirecommended\_plugin']) && $\_GET['hide\_testirecommended\_plugin'] == 1) { |
| [807](#L807) | update\_option('hide\_testirecommended\_plugin',true); |
| [808](#L808) | } |
| [809](#L809) | $hide\_testirecommended\_plugin = get\_option('hide\_testirecommended\_plugin'); |
| [810](#L810) | $recommended\_plugin\_name =  \_\_('Recommended Plugins','stars-testimonials'); |
| [811](#L811) |  |
| [812](#L812) | add\_submenu\_page('edit.php?post\_type=stars\_testimonial', \_\_('All Widget Shortcodes','stars-testimonials'), \_\_('All Widget Shortcodes','stars-testimonials'), 'manage\_options', 'all-shortcodes', array(&$this,  'short\_codes\_page')); |
| [813](#L813) |  |
| [814](#L814) | add\_submenu\_page('edit.php?post\_type=stars\_testimonial', \_\_('Collect Testimonials','stars-testimonials'), \_\_('Collect Testimonials','stars-testimonials'), 'manage\_options', 'collect\_review\_page', array(&$this,  'collect\_review\_page')); |
| [815](#L815) |  |
| [816](#L816) | if ( !$hide\_testirecommended\_plugin ) { |
| [817](#L817) | add\_submenu\_page('edit.php?post\_type=stars\_testimonial', $recommended\_plugin\_name, $recommended\_plugin\_name, 'manage\_options', 'recommended-plugins', array(&$this,   'recommended\_plugins')); |
| [818](#L818) | } |
| [819](#L819) |  |
| [820](#L820) | add\_submenu\_page('edit.php?post\_type=stars\_testimonial', \_\_('Upgrade to Pro','stars-testimonials'), \_\_('Upgrade to Pro','stars-testimonials'), 'manage\_options', 'all-shortcodes&task=upgrade-to-pro', 'short\_codes\_page'); |
| [821](#L821) | } |
| [822](#L822) |  |
| [823](#L823) | public function collect\_review\_page(){ |
| [824](#L824) | include\_once 'collect\_review\_page.php'; |
| [825](#L825) | } |
| [826](#L826) | function recommended\_plugins() { |
| [827](#L827) | include\_once "recommended-plugins.php"; |
| [828](#L828) | } |
| [829](#L829) | function short\_codes\_page() { |
| [830](#L830) | $page = "all-shortcodes.php"; |
| [831](#L831) | if(isset($\_GET['task'])) { |
| [832](#L832) | $task = $\_GET['task']; |
| [833](#L833) | if($task == "add-new") { |
| [834](#L834) | $page = "add-new-shortcode.php"; |
| [835](#L835) | } else if($task == "add-testimonial") { |
| [836](#L836) | $page = "testimonial-add.php"; |
| [837](#L837) | } else if($task == "update-testimonial") { |
| [838](#L838) | $post\_id = isset($\_REQUEST['post']) ? $\_REQUEST['post'] : ""; |
| [839](#L839) | if (!empty($post\_id) && is\_numeric($post\_id) && $post\_id > 0) { |
| [840](#L840) | $post = get\_post($post\_id); |
| [841](#L841) | if (isset($post->post\_type) && $post->post\_type == 'stars\_testimonial') { |
| [842](#L842) | $page = "testimonial-update.php"; |
| [843](#L843) | } else { |
| [844](#L844) | echo "<script>window.location='".admin\_url("edit.php?post\_type=stars\_testimonial")."'</script>"; |
| [845](#L845) | exit; |
| [846](#L846) | } |
| [847](#L847) | } else { |
| [848](#L848) | echo "<script>window.location='".admin\_url("edit.php?post\_type=stars\_testimonial")."'</script>"; |
| [849](#L849) | exit; |
| [850](#L850) | } |
| [851](#L851) | } else if($task == "upgrade-to-pro") { |
| [852](#L852) | $page = "upgrade-to-pro.php"; |
| [853](#L853) | } else if($task == "mailjet") { |
| [854](#L854) | $has\_testimonials = 0; |
| [855](#L855) | $args = array( |
| [856](#L856) | 'post\_type'   => 'stars\_testimonial', |
| [857](#L857) | 'posts\_per\_page'   => 1 |
| [858](#L858) | ); |
| [859](#L859) | $query\_testimonials = new WP\_Query( $args ); |
| [860](#L860) |  |
| [861](#L861) | if ( $query\_testimonials->have\_posts() ) { |
| [862](#L862) | $has\_testimonials = 1; |
| [863](#L863) | } |
| [864](#L864) | $page = "update-mailjet.php"; |
| [865](#L865) | } else if($task == "edit" && isset($\_GET['id']) && !empty($\_GET['id']) && is\_numeric($\_GET['id']) && $\_GET['id'] >0 ) { |
| [866](#L866) | $page = "update-shortcode.php"; |
| [867](#L867) | } |
| [868](#L868) | else if($task == "preview" && isset($\_GET['id']) && !empty($\_GET['id']) && is\_numeric($\_GET['id']) && $\_GET['id'] >0 ) { |
| [869](#L869) | $page = "preview-shortcode.php"; |
| [870](#L870) | } |
| [871](#L871) | } |
| [872](#L872) | if($page == "all-shortcodes.php" || $page == "add-new-shortcode.php") { |
| [873](#L873) | $results = get\_posts(array("post\_type"=>"stars\_testimonial","numberposts" => 1)); |
| [874](#L874) | if(count($results) == 0) { |
| [875](#L875) | include\_once "no-testimonials.php"; |
| [876](#L876) | } else { |
| [877](#L877) | include\_once $page; |
| [878](#L878) | } |
| [879](#L879) | } else { |
| [880](#L880) | include\_once $page; |
| [881](#L881) | } |
| [882](#L882) | } |
| [883](#L883) |  |
| [884](#L884) | function remove\_add\_new\_button\_from\_menu() { |
| [885](#L885) | global $submenu; |
| [886](#L886) | unset($submenu['edit.php?post\_type=stars\_testimonial'][10]); // Removes 'Add New'. |
| [887](#L887) | } |
| [888](#L888) |  |
| [889](#L889) | public function change\_placeholder\_text() { |
| [890](#L890) | $screen = get\_current\_screen(); |
| [891](#L891) | if($screen->post\_type == 'stars\_testimonial' ) { |
| [892](#L892) | $title = \_\_('Client’s name', 'stars-testimonials'); |
| [893](#L893) | return $title; |
| [894](#L894) | } |
| [895](#L895) | } |
| [896](#L896) |  |
| [897](#L897) | public function stars\_testimonials\_admin\_styles($hook) { |
| [898](#L898) | $post\_type = isset($\_REQUEST['post\_type'])&&!empty($\_REQUEST['post\_type'])?$\_REQUEST['post\_type']:""; |
| [899](#L899) | $action = isset($\_REQUEST['action'])&&!empty($\_REQUEST['action'])?$\_REQUEST['action']:""; |
| [900](#L900) | $post\_type2 = ""; |
| [901](#L901) | if($action == "edit" && isset($\_REQUEST['post'])) { |
| [902](#L902) | $post = get\_post($\_REQUEST['post']); |
| [903](#L903) | if(!empty($post)) { |
| [904](#L904) | $post\_type2 = $post->post\_type; |
| [905](#L905) | } |
| [906](#L906) | } |
| [907](#L907) | $task = (isset($\_GET['task']) && $\_GET['task'] == "upgrade-to-pro")?"upgrade":""; |
| [908](#L908) | if($hook == "stars\_testimonial\_page\_all-shortcodes" || $post\_type == "stars\_testimonial" || ($action == "edit" && $post\_type2 == "stars\_testimonial")) { |
| [909](#L909) | wp\_register\_style('testimonial-custom-front-style', plugins\_url('/css/styles.css', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [910](#L910) | wp\_register\_style('testimonial-custom-style-mcustomscrollbar', plugins\_url('/css/admin/jquery.mcustomscrollbar.min.css', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [911](#L911) | wp\_register\_style('testimonial-custom-style-star-fonts', plugins\_url('/css/star-fonts.css', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [912](#L912) | wp\_register\_style('testimonial-custom-style-range', plugins\_url('/css/admin/as-range.css', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [913](#L913) | wp\_register\_style('testimonial-custom-style-colorpicker', plugins\_url('/css/admin/colorpicker.css', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [914](#L914) | wp\_register\_style('testimonial-custom-style-magnific', plugins\_url('/css/admin/magnific-popup.css', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [915](#L915) | wp\_register\_style('testimonial-custom-style-select2', plugins\_url('/css/admin/select2.min.css', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [916](#L916) | wp\_enqueue\_style('testimonial-custom-style-select2'); |
| [917](#L917) | wp\_register\_style('testimonial-custom-style-sweetalert2', plugins\_url('/css/admin/sweetalert2.min.css', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [918](#L918) | wp\_register\_style('testimonial-custom-style', plugins\_url('/css/admin/admin.min.css', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [919](#L919) | wp\_enqueue\_style('testimonial-custom-front-style'); |
| [920](#L920) | wp\_enqueue\_style('testimonial-custom-style-mcustomscrollbar'); |
| [921](#L921) | wp\_enqueue\_style('testimonial-custom-style-star-fonts'); |
| [922](#L922) | wp\_enqueue\_style('testimonial-custom-style-range'); |
| [923](#L923) | wp\_enqueue\_style('testimonial-custom-style-magnific'); |
| [924](#L924) | wp\_enqueue\_style('testimonial-custom-style-colorpicker'); |
| [925](#L925) | wp\_enqueue\_style('testimonial-custom-style-sweetalert2'); |
| [926](#L926) | wp\_enqueue\_style('testimonial-custom-style'); |
| [927](#L927) | if(isset($\_GET['task']) && $\_GET['task'] == "upgrade-to-pro") { |
| [928](#L928) | wp\_enqueue\_style('admin-setting', plugins\_url('/css/admin/admin-setting.css', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [929](#L929) | } |
| [930](#L930) | } |
| [931](#L931) |  |
| [932](#L932) | } |
| [933](#L933) |  |
| [934](#L934) | public function stars\_testimonials\_admin\_script($hook) { |
| [935](#L935) | $post\_type = isset($\_REQUEST['post\_type'])&&!empty($\_REQUEST['post\_type'])?$\_REQUEST['post\_type']:""; |
| [936](#L936) | $action = isset($\_REQUEST['action'])&&!empty($\_REQUEST['action'])?$\_REQUEST['action']:""; |
| [937](#L937) | $post\_type2 = ""; |
| [938](#L938) | if($action == "edit" && isset($\_REQUEST['post'])) { |
| [939](#L939) | $post = get\_post($\_REQUEST['post']); |
| [940](#L940) | if(!empty($post)) { |
| [941](#L941) | $post\_type2 = $post->post\_type; |
| [942](#L942) | } |
| [943](#L943) | } |
| [944](#L944) | if($hook == "stars\_testimonial\_page\_all-shortcodes" || $post\_type == "stars\_testimonial" || ($action == "edit" && $post\_type2 == "stars\_testimonial")) { |
| [945](#L945) | wp\_enqueue\_style( 'wp-jquery-ui-dialog' ); |
| [946](#L946) | wp\_enqueue\_script( 'jquery-ui-dialog' ); |
| [947](#L947) | wp\_enqueue\_media(); |
| [948](#L948) | wp\_register\_script('testimonial-custom-script-mcustomscrollbar', plugins\_url('/js/admin/jquery.mcustomscrollbar.min.js', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [949](#L949) | wp\_register\_script('testimonial-custom-script-mousewheel', plugins\_url('/js/admin/jquery.mousewheel.min.js', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [950](#L950) | wp\_register\_script('testimonial-custom-script-asrange', plugins\_url('/js/admin/jquery-asrange.min.js', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [951](#L951) | wp\_register\_script('testimonial-custom-script-magnific', plugins\_url('/js/admin/jquery.magnific-popup.min.js', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [952](#L952) | wp\_register\_script('testimonial-custom-script-sweetalert', plugins\_url('/js/admin/sweetalert.all.min.js', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [953](#L953) | wp\_register\_script('testimonial-custom-script-select2', plugins\_url('/js/admin/select2.full.min.js', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [954](#L954) | wp\_register\_script('testimonial-custom-script-colorpicker', plugins\_url('/js/admin/colorpicker.js', \_\_FILE\_\_), array(), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [955](#L955) | wp\_register\_script('testimonial-custom-script-admin', plugins\_url('/js/admin/admin.js', \_\_FILE\_\_), array('jquery', 'wp-color-picker'), PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION); |
| [956](#L956) | wp\_enqueue\_script('testimonial-custom-script-mcustomscrollbar'); |
| [957](#L957) | wp\_enqueue\_script('testimonial-custom-script-mousewheel'); |
| [958](#L958) | wp\_enqueue\_script('testimonial-custom-script-asrange'); |
| [959](#L959) | wp\_enqueue\_script('testimonial-custom-script-magnific'); |
| [960](#L960) | wp\_enqueue\_script('testimonial-custom-script-sweetalert'); |
| [961](#L961) | wp\_enqueue\_script('testimonial-custom-script-select2'); |
| [962](#L962) | wp\_enqueue\_script('testimonial-custom-script-colorpicker'); |
| [963](#L963) | wp\_enqueue\_script('testimonial-custom-script-admin'); |
| [964](#L964) |  |
| [965](#L965) | wp\_localize\_script('testimonial-custom-script-admin', 'settings', array( |
| [966](#L966) | 'send\_label' => \_\_('Save Settings', 'save-settings'), |
| [967](#L967) | 'ajaxurl' => admin\_url('admin-ajax.php'), |
| [968](#L968) | 'plugin\_url' => admin\_url('edit.php?post\_type=stars\_testimonial&page=all-shortcodes'), |
| [969](#L969) | "REMOVE\_MESSAGE" => \_\_("Are you sure you want to delete the selected shortcode?"), |
| [970](#L970) | "REQUIRED\_MESSAGE" => \_\_("This filed is required", 'stars-testimonials'), |
| [971](#L971) | "PRO\_URL" => admin\_url("edit.php?post\_type=stars\_testimonial&page=all-shortcodes&task=upgrade-to-pro"), |
| [972](#L972) | "stylesObj" => json\_encode($GLOBALS['colorStyleArray']), |
| [973](#L973) | "PRO\_BUTTON" => $this->testimonialButton(), |
| [974](#L974) | "IFRAME\_CODE" => $this->iframeCode, |
| [975](#L975) | "PRO\_URL" => PRO\_PLUGIN\_URL |
| [976](#L976) | )); |
| [977](#L977) | } |
| [978](#L978) | } |
| [979](#L979) |  |
| [980](#L980) | function get\_total\_testimonials() { |
| [981](#L981) | //              $total = get\_posts(array( |
| [982](#L982) | //                      'post\_type' => 'stars\_testimonial', |
| [983](#L983) | //                      'numberposts' => -1, |
| [984](#L984) | //                      'post\_status' => 'publish,future,draft' |
| [985](#L985) | //              )); |
| [986](#L986) | //              if ($total && count($total) >= 5) { |
| [987](#L987) | //                      return 1; |
| [988](#L988) | //              } |
| [989](#L989) | return 0; |
| [990](#L990) | } |
| [991](#L991) |  |
| [992](#L992) | function register\_testimonials(){ |
| [993](#L993) | $labels\_post = array( |
| [994](#L994) | 'name'               => \_\_( 'Testimonials', 'Testimonials', 'stars-testimonials' ), |
| [995](#L995) | 'singular\_name'      => \_x( 'Testimonial', 'Testimonial', 'stars-testimonials' ), |
| [996](#L996) | 'menu\_name'          => \_x( 'Stars Testimonials', 'Stars Testimonials', 'stars-testimonials' ), |
| [997](#L997) | 'name\_admin\_bar'     => \_x( 'Testimonial', 'Testimonial', 'stars-testimonials' ), |
| [998](#L998) | 'add\_new'            => \_x( '+ New Testimonial', 'Testimonial', 'stars-testimonials' ), |
| [999](#L999) | 'add\_new\_item'       => \_x( '+ New Testimonial', 'stars-testimonials' ), |
| [1000](#L1000) | 'new\_item'           => \_\_( 'New Testimonial', 'stars-testimonials' ), |
| [1001](#L1001) | 'edit\_item'          => \_\_( 'Edit Testimonial', 'stars-testimonials' ), |
| [1002](#L1002) | 'view\_item'          => \_\_( 'View Testimonial', 'stars-testimonials' ), |
| [1003](#L1003) | 'all\_items'          => \_\_( 'All Testimonials', 'stars-testimonials' ), |
| [1004](#L1004) | 'search\_items'       => \_\_( 'Search Testimonials', 'stars-testimonials' ), |
| [1005](#L1005) | 'parent\_item\_colon'  => \_\_( 'Parent Testimonials:', 'stars-testimonials' ), |
| [1006](#L1006) | 'not\_found'          => \_\_( '<div class="no-testimonial-record"><a class="link add-testimonial-record" href="'.admin\_url("post-new.php?post\_type=stars\_testimonial").'">+ Create Your First Testimonial</a></div><div class="no-testimonial-record record-message">Once you have your first testimonials, go to the “<a class="link" href="'.admin\_url("edit.php?post\_type=stars\_testimonial&page=all-shortcodes").'">All Widget Shortcodes</a>” page and create your first shortcode. Check out the video for more info:</div>', 'stars-testimonials' )."<div class='no-testimonials-area'></div><style>table.fixed {border:none;} .wp-list-table thead, .wp-list-table tfoot{display: none;}", |
| [1007](#L1007) | 'not\_found\_in\_trash' => \_\_( 'No Testimonials found in Trash.', 'stars-testimonials' ) |
| [1008](#L1008) | ); |
| [1009](#L1009) |  |
| [1010](#L1010) | $args = array( |
| [1011](#L1011) | 'labels'             => $labels\_post, |
| [1012](#L1012) | 'description'        => \_\_( 'Your Testimonials.', 'stars-testimonials' ), |
| [1013](#L1013) | 'show\_ui'            => true, |
| [1014](#L1014) | 'show\_in\_menu'       => true, |
| [1015](#L1015) | 'rewrite'            => array( 'slug' => 'arrow\_subscribe\_forms' ), |
| [1016](#L1016) | 'capability\_type'    => 'post', |
| [1017](#L1017) | 'has\_archive'        => false, |
| [1018](#L1018) | 'hierarchical'       => false, |
| [1019](#L1019) | 'menu\_position'      => 25, |
| [1020](#L1020) | 'menu\_icon'                  => 'dashicons-editor-quote', |
| [1021](#L1021) | 'supports'           => array( 'title', 'editor', 'thumbnail' ), |
| [1022](#L1022) | ); |
| [1023](#L1023) |  |
| [1024](#L1024) |  |
| [1025](#L1025) | register\_post\_type( 'stars\_testimonial', $args ); |
| [1026](#L1026) |  |
| [1027](#L1027) | $labels\_tax = array( |
| [1028](#L1028) | 'name'              => \_x( 'Categories', 'taxonomy general name', 'stars-testimonials' ), |
| [1029](#L1029) | 'singular\_name'     => \_x( 'Category', 'taxonomy singular name', 'stars-testimonials' ), |
| [1030](#L1030) | 'search\_items'      => \_\_( 'Search Categories', 'stars-testimonials' ), |
| [1031](#L1031) | 'all\_items'         => \_\_( 'All Categories', 'stars-testimonials' ), |
| [1032](#L1032) | 'parent\_item'       => \_\_( 'Parent Category', 'stars-testimonials' ), |
| [1033](#L1033) | 'parent\_item\_colon' => \_\_( 'Parent Category:', 'stars-testimonials' ), |
| [1034](#L1034) | 'edit\_item'         => \_\_( 'Edit Category', 'stars-testimonials' ), |
| [1035](#L1035) | 'update\_item'       => \_\_( 'Update Category', 'stars-testimonials' ), |
| [1036](#L1036) | 'add\_new\_item'      => \_\_( 'Add New Category', 'stars-testimonials' ), |
| [1037](#L1037) | 'new\_item\_name'     => \_\_( 'New Category Name', 'stars-testimonials' ), |
| [1038](#L1038) | 'menu\_name'         => \_\_( 'Testimonial Categories', 'stars-testimonials' ), |
| [1039](#L1039) | ); |
| [1040](#L1040) |  |
| [1041](#L1041) | $args\_tax = array( |
| [1042](#L1042) | 'hierarchical'      => true, |
| [1043](#L1043) | 'labels'            => $labels\_tax, |
| [1044](#L1044) | 'show\_ui'           => true, |
| [1045](#L1045) | 'show\_admin\_column' => true, |
| [1046](#L1046) | 'query\_var'         => false, |
| [1047](#L1047) | ); |
| [1048](#L1048) |  |
| [1049](#L1049) | register\_taxonomy( 'stars\_testimonial\_cat', array( 'stars\_testimonial' ), $args\_tax ); |
| [1050](#L1050) |  |
| [1051](#L1051) |  |
| [1052](#L1052) | } |
| [1053](#L1053) |  |
| [1054](#L1054) | function testimonials\_update\_messages( $messages ){ |
| [1055](#L1055) | $post             = get\_post(); |
| [1056](#L1056) | $post\_type        = get\_post\_type( $post ); |
| [1057](#L1057) | $post\_type\_object = get\_post\_type\_object( $post\_type ); |
| [1058](#L1058) |  |
| [1059](#L1059) | $messages['stars\_testimonial'] = array( |
| [1060](#L1060) | 0  => '', // Unused. Messages start at index 1. |
| [1061](#L1061) | 1  => \_\_( 'Testimonial updated.', 'stars-testimonials' ), |
| [1062](#L1062) | 2  => \_\_( 'Custom field updated.', 'stars-testimonials' ), |
| [1063](#L1063) | 3  => \_\_( 'Custom field deleted.', 'stars-testimonials' ), |
| [1064](#L1064) | 4  => \_\_( 'Testimonial updated.', 'stars-testimonials' ), |
| [1065](#L1065) | 5  => isset( $\_GET['revision'] ) ? sprintf( \_\_( 'Testimonial restored to revision from %s', 'stars-testimonials' ), wp\_post\_revision\_title( (int) $\_GET['revision'], false ) ) : false, |
| [1066](#L1066) | 6  => \_\_( 'Testimonial published.', 'stars-testimonials' ), |
| [1067](#L1067) | 7  => \_\_( 'Testimonial saved.', 'stars-testimonials' ), |
| [1068](#L1068) | 8  => \_\_( 'Testimonial submitted.', 'stars-testimonials' ), |
| [1069](#L1069) | 9  => sprintf( |
| [1070](#L1070) | \_\_( 'Testimonial scheduled for: <strong>%1$s</strong>.', 'stars-testimonials' ), |
| [1071](#L1071) | date\_i18n( \_\_( 'M j, Y @ G:i', 'stars-testimonials' ), strtotime( $post->post\_date ) ) |
| [1072](#L1072) | ), |
| [1073](#L1073) | 10 => \_\_( 'Testimonial draft updated.', 'stars-testimonials' ) |
| [1074](#L1074) | ); |
| [1075](#L1075) |  |
| [1076](#L1076) | return $messages; |
| [1077](#L1077) | } |
| [1078](#L1078) |  |
| [1079](#L1079) | function adding\_custom\_meta\_boxes( $post ) { |
| [1080](#L1080) | add\_meta\_box( |
| [1081](#L1081) | 'stars-testimonials-settings', |
| [1082](#L1082) | \_\_( 'Testimonial Settings' ), |
| [1083](#L1083) | array($this, 'render\_settings\_page'), |
| [1084](#L1084) | 'stars\_testimonial', |
| [1085](#L1085) | 'normal', |
| [1086](#L1086) | 'default' |
| [1087](#L1087) | ); |
| [1088](#L1088) | } |
| [1089](#L1089) |  |
| [1090](#L1090) | function render\_settings\_page(){ |
| [1091](#L1091) | include 'inc/settings\_page.php'; |
| [1092](#L1092) | wp\_nonce\_field( plugin\_basename( \_\_FILE\_\_ ), 'wcp\_testimonial\_nonce' ); |
| [1093](#L1093) | } |
| [1094](#L1094) |  |
| [1095](#L1095) | function save\_testimonial($post\_id){ |
| [1096](#L1096) | // verify if this is an auto save routine. |
| [1097](#L1097) | // If it is our form has not been submitted, so we dont want to do anything |
| [1098](#L1098) | if ( defined( 'DOING\_AUTOSAVE' ) && DOING\_AUTOSAVE ) |
| [1099](#L1099) | return; |
| [1100](#L1100) |  |
| [1101](#L1101) | // verify this came from the our screen and with proper authorization, |
| [1102](#L1102) | // because save\_post can be triggered at other times |
| [1103](#L1103) | if ( !isset( $\_POST['wcp\_testimonial\_nonce'] ) ) |
| [1104](#L1104) | return; |
| [1105](#L1105) |  |
| [1106](#L1106) | if ( !wp\_verify\_nonce( $\_POST['wcp\_testimonial\_nonce'], plugin\_basename( \_\_FILE\_\_ ) ) ) |
| [1107](#L1107) | return; |
| [1108](#L1108) |  |
| [1109](#L1109) | // OK, we're authenticated: we need to find and save the data |
| [1110](#L1110) |  |
| [1111](#L1111) | if (isset($\_POST['testimonial\_company\_name'])) { |
| [1112](#L1112) | update\_post\_meta( $post\_id, 'testimonial\_company\_name', sanitize\_text\_field($\_POST['testimonial\_company\_name']) ); |
| [1113](#L1113) | } |
| [1114](#L1114) |  |
| [1115](#L1115) | if (isset($\_POST['testimonial\_company\_url'])) { |
| [1116](#L1116) | update\_post\_meta( $post\_id, 'testimonial\_company\_url', esc\_url($\_POST['testimonial\_company\_url']) ); |
| [1117](#L1117) | } |
| [1118](#L1118) |  |
| [1119](#L1119) | if (isset($\_POST['testimonial\_stars'])) { |
| [1120](#L1120) | update\_post\_meta( $post\_id, 'testimonial\_stars', sanitize\_text\_field($\_POST['testimonial\_stars']) ); |
| [1121](#L1121) | } |
| [1122](#L1122) | } |
| [1123](#L1123) |  |
| [1124](#L1124) | function render\_testimonial\_stars($attr){ |
| [1125](#L1125) |  |
| [1126](#L1126) | if(!isset($attr['id']) || $attr['id'] == "" || !is\_numeric($attr['id']) || $attr['id'] <= 0 ) { |
| [1127](#L1127) | return ""; |
| [1128](#L1128) | } |
| [1129](#L1129) |  |
| [1130](#L1130) | global $wpdb; |
| [1131](#L1131) |  |
| [1132](#L1132) | $id = $attr['id']; |
| [1133](#L1133) | $tableName = $wpdb->prefix . DB\_TESTIMONIAL\_TABLE\_NAME; |
| [1134](#L1134) |  |
| [1135](#L1135) | $query = "SELECT \* FROM {$tableName} WHERE id = '{$id}'"; |
| [1136](#L1136) | $result = $wpdb->get\_row($query); |
| [1137](#L1137) | if(empty($result)) { |
| [1138](#L1138) | return ""; |
| [1139](#L1139) | } |
| [1140](#L1140) | $settingArray = []; |
| [1141](#L1141) | $settingArray['style']          = $result->testimonial\_style; |
| [1142](#L1142) | $settingArray['type']           = $result->testimonial\_type; |
| [1143](#L1143) | $settingArray['cats']           = $result->testimonial\_categories; |
| [1144](#L1144) | $settingArray['cols']           = $result->grid\_columns; |
| [1145](#L1145) | $settingArray['total']          = $result->no\_of\_testimonials; |
| [1146](#L1146) | $settingArray['stars\_color']    = $result->stars\_color; |
| [1147](#L1147) | $settingArray['text\_color'] = $result->text\_color; |
| [1148](#L1148) | $settingArray['bg\_color']       = $result->background\_color; |
| [1149](#L1149) | $settingArray['title\_color']    = $result->title\_color; |
| [1150](#L1150) | $settingArray['company\_color']  = $result->company\_color; |
| [1151](#L1151) | $testimonialOrder                       = $result->testimonial\_order; |
| [1152](#L1152) | switch($testimonialOrder) { |
| [1153](#L1153) | case 1: |
| [1154](#L1154) | $settingArray['orderby']= "date"; |
| [1155](#L1155) | $settingArray['order']  = "ASC"; |
| [1156](#L1156) | break; |
| [1157](#L1157) | case 2: |
| [1158](#L1158) | $settingArray['orderby']= "date"; |
| [1159](#L1159) | $settingArray['order']  = "DESC"; |
| [1160](#L1160) | break; |
| [1161](#L1161) | case 3: |
| [1162](#L1162) | $settingArray['orderby']= "title"; |
| [1163](#L1163) | $settingArray['order']  = "ASC"; |
| [1164](#L1164) | break; |
| [1165](#L1165) | case 4: |
| [1166](#L1166) | $settingArray['orderby']= "title"; |
| [1167](#L1167) | $settingArray['order']  = "DESC"; |
| [1168](#L1168) | break; |
| [1169](#L1169) | default: |
| [1170](#L1170) | $settingArray['orderby']= "date"; |
| [1171](#L1171) | $settingArray['order']  = "DESC"; |
| [1172](#L1172) | break; |
| [1173](#L1173) | } |
| [1174](#L1174) |  |
| [1175](#L1175) | extract(shortcode\_atts( array( |
| [1176](#L1176) | 'style' => '1', |
| [1177](#L1177) | 'type' => 'grid', |
| [1178](#L1178) | 'cats' => '', |
| [1179](#L1179) | 'cols' => '2', |
| [1180](#L1180) | 'order' => 'DESC', |
| [1181](#L1181) | 'orderby' => 'date', |
| [1182](#L1182) | 'total' => '-1', |
| [1183](#L1183) | 'stars\_color' => '', |
| [1184](#L1184) | 'text\_color' => '', |
| [1185](#L1185) | 'bg\_color' => '', |
| [1186](#L1186) | 'title\_color' => '', |
| [1187](#L1187) | 'company\_color' => '', |
| [1188](#L1188) | 'arrows\_color' => 'red', |
| [1189](#L1189) | ), $settingArray) ); |
| [1190](#L1190) |  |
| [1191](#L1191) | // Init the Vars |
| [1192](#L1192) | $row\_class = ''; |
| [1193](#L1193) | $column\_class = ''; |
| [1194](#L1194) | $data\_attr = ''; |
| [1195](#L1195) |  |
| [1196](#L1196) | switch ($type) { |
| [1197](#L1197) | case 'grid': |
| [1198](#L1198) | $row\_class = 'grid'; |
| [1199](#L1199) | $column\_class = 'col-1-'.esc\_attr($cols); |
| [1200](#L1200) | break; |
| [1201](#L1201) | default: |
| [1202](#L1202) | # code... |
| [1203](#L1203) | break; |
| [1204](#L1204) | } |
| [1205](#L1205) |  |
| [1206](#L1206) | $args = array( |
| [1207](#L1207) | 'post\_type'   => 'stars\_testimonial', |
| [1208](#L1208) | 'posts\_per\_page'      => esc\_attr($total), |
| [1209](#L1209) | 'order'               => esc\_attr($order), |
| [1210](#L1210) | 'orderby'             => esc\_attr($orderby), |
| [1211](#L1211) | ); |
| [1212](#L1212) |  |
| [1213](#L1213) | if ($cats != '') { |
| [1214](#L1214) | $args['tax\_query'] = array( |
| [1215](#L1215) | 'relation'  => 'AND', |
| [1216](#L1216) | array( |
| [1217](#L1217) | 'taxonomy'         => 'stars\_testimonial\_cat', |
| [1218](#L1218) | 'field'            => 'id', |
| [1219](#L1219) | 'terms'            => explode(',', esc\_attr($cats)), |
| [1220](#L1220) | 'include\_children' => true, |
| [1221](#L1221) | 'operator'         => 'IN' |
| [1222](#L1222) | ), |
| [1223](#L1223) | ); |
| [1224](#L1224) | } |
| [1225](#L1225) | $r\_id = rand(); |
| [1226](#L1226) |  |
| [1227](#L1227) | if(!is\_numeric($style)) { |
| [1228](#L1228) | $style = 1; |
| [1229](#L1229) | } |
| [1230](#L1230) |  |
| [1231](#L1231) | ob\_start(); |
| [1232](#L1232) | $query\_testimonials = new WP\_Query( $args ); |
| [1233](#L1233) |  |
| [1234](#L1234) | if ( $query\_testimonials->have\_posts() ) { |
| [1235](#L1235) | echo '<div class="stars-testimonials premio-testimonials-'.$type.'" id="st-'.esc\_attr($r\_id).'">'; |
| [1236](#L1236) | echo '<div class="premio-testimonials-content '.esc\_attr($row\_class).'" '.esc\_attr($data\_attr).'>'; |
| [1237](#L1237) |  |
| [1238](#L1238) | while ( $query\_testimonials->have\_posts() ) { |
| [1239](#L1239) | $query\_testimonials->the\_post(); |
| [1240](#L1240) | $company = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_name', true ); |
| [1241](#L1241) | $url = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_url', true ); |
| [1242](#L1242) | $stars = get\_post\_meta( get\_the\_id(), 'testimonial\_stars', true ); |
| [1243](#L1243) | echo '<div class="pre-testimonials-content '.esc\_attr($column\_class).'">'; |
| [1244](#L1244) | include 'templates/style'.$style.'.php'; |
| [1245](#L1245) | echo '</div>'; |
| [1246](#L1246) | } |
| [1247](#L1247) |  |
| [1248](#L1248) |  |
| [1249](#L1249) | echo '</div>'; |
| [1250](#L1250) | echo '</div>'; |
| [1251](#L1251) | if($result->font\_family != "") { |
| [1252](#L1252) | echo '<link href="https://fonts.googleapis.com/css?family='.urlencode(esc\_attr($result->font\_family)).'" rel="stylesheet" tyle="text/css">'; |
| [1253](#L1253) | } |
| [1254](#L1254) | echo "<style>"; |
| [1255](#L1255) | if($stars\_color != "") |
| [1256](#L1256) | echo "#st-".esc\_attr($r\_id)." .st-rating { color:  #".esc\_attr($stars\_color)."; }"; |
| [1257](#L1257) | if($text\_color != "") |
| [1258](#L1258) | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content { color:  #".esc\_attr($text\_color)."; }"; |
| [1259](#L1259) | if($text\_color != "") |
| [1260](#L1260) | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content p { color:  #".esc\_attr($text\_color)."; }"; |
| [1261](#L1261) | if($bg\_color != "") |
| [1262](#L1262) | echo "#st-".esc\_attr($r\_id)." .st-testimonial-bg { background-color: #".esc\_attr($bg\_color)."; }"; |
| [1263](#L1263) | if($bg\_color != "") |
| [1264](#L1264) | echo "#st-".esc\_attr($r\_id)." .style7 { border-bottom-color: #".esc\_attr($bg\_color)."; }"; |
| [1265](#L1265) | if($bg\_color != "") |
| [1266](#L1266) | echo "#st-".esc\_attr($r\_id)." .style7::before { background-color: #".esc\_attr($bg\_color)."; }"; |
| [1267](#L1267) | if ($bg\_color != '') { |
| [1268](#L1268) | echo "#st-".esc\_attr($r\_id)." .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent #".esc\_attr($bg\_color)."; }"; |
| [1269](#L1269) | } |
| [1270](#L1270) | if($title\_color != "") |
| [1271](#L1271) | echo "#st-".esc\_attr($r\_id)." .st-testimonial-title { color: #".esc\_attr($title\_color)."; }"; |
| [1272](#L1272) | if($company\_color != "") |
| [1273](#L1273) | echo "#st-".esc\_attr($r\_id)." .st-testimonial-company { color: #".esc\_attr($company\_color)."; }"; |
| [1274](#L1274) | if($result->font\_family != "") { |
| [1275](#L1275) | echo "#st-".esc\_attr($r\_id)." figure, #st-".esc\_attr($r\_id)."  blockquote{font-family:".esc\_attr($result->font\_family)."}"; |
| [1276](#L1276) | } |
| [1277](#L1277) | echo "</style>"; |
| [1278](#L1278) | wp\_reset\_postdata(); |
| [1279](#L1279) | } |
| [1280](#L1280) |  |
| [1281](#L1281) | return ob\_get\_clean(); |
| [1282](#L1282) | } |
| [1283](#L1283) |  |
| [1284](#L1284) | function render\_stars\_testimonials($atts){ |
| [1285](#L1285) | wp\_enqueue\_style( 'font-star-fonts', plugin\_dir\_url( \_\_FILE\_\_ ).'css/star-fonts.css' ); |
| [1286](#L1286) | wp\_enqueue\_style( 'stars-testimonials-styles', plugin\_dir\_url( \_\_FILE\_\_ ).'css/styles.css' ); |
| [1287](#L1287) | extract(shortcode\_atts( array( |
| [1288](#L1288) | 'style' => '1', |
| [1289](#L1289) | 'type' => 'grid', |
| [1290](#L1290) | 'cats' => '', |
| [1291](#L1291) | 'cols' => '2', |
| [1292](#L1292) | 'order' => 'DESC', |
| [1293](#L1293) | 'orderby' => 'date', |
| [1294](#L1294) | 'total' => '-1', |
| [1295](#L1295) | 'stars\_color' => '', |
| [1296](#L1296) | 'text\_color' => '', |
| [1297](#L1297) | 'bg\_color' => '', |
| [1298](#L1298) | 'title\_color' => '', |
| [1299](#L1299) | 'company\_color' => '', |
| [1300](#L1300) | 'arrows\_color' => 'red', |
| [1301](#L1301) | ), $atts) ); |
| [1302](#L1302) |  |
| [1303](#L1303) | // Init the Vars |
| [1304](#L1304) | $row\_class = ''; |
| [1305](#L1305) | $column\_class = ''; |
| [1306](#L1306) | $data\_attr = ''; |
| [1307](#L1307) |  |
| [1308](#L1308) | if(!is\_numeric($style)) { |
| [1309](#L1309) | $style = "1"; |
| [1310](#L1310) | } |
| [1311](#L1311) |  |
| [1312](#L1312) | switch ($type) { |
| [1313](#L1313) | case 'grid': |
| [1314](#L1314) | $row\_class = 'grid'; |
| [1315](#L1315) | $column\_class = 'col-1-'.esc\_attr($cols); |
| [1316](#L1316) | break; |
| [1317](#L1317) | case 'masonry': |
| [1318](#L1318) | wp\_enqueue\_script( 'wcp-masonry-js', plugin\_dir\_url( \_\_FILE\_\_ ).'js/masonry.js', array('jquery', 'jquery-masonry') ); |
| [1319](#L1319) | $row\_class = 'grid masonry-wrap'; |
| [1320](#L1320) | $column\_class = 'masonry-item col-1-'.esc\_attr($cols); |
| [1321](#L1321) | break; |
| [1322](#L1322) | case 'slider': |
| [1323](#L1323) | wp\_enqueue\_style( 'slick-css', plugin\_dir\_url( \_\_FILE\_\_ ).'css/slick.css' ); |
| [1324](#L1324) | wp\_enqueue\_script( 'slick-js', plugin\_dir\_url( \_\_FILE\_\_ ).'js/slick.min.js', array('jquery') ); |
| [1325](#L1325) | wp\_enqueue\_script( 'wcp-script-js', plugin\_dir\_url( \_\_FILE\_\_ ).'js/script.js', array('jquery') ); |
| [1326](#L1326) | $row\_class = 'wcp-slick'; |
| [1327](#L1327) | $column\_class = ''; |
| [1328](#L1328) | if (is\_array($atts)) { |
| [1329](#L1329) | foreach ($atts as $p\_name => $p\_val) { |
| [1330](#L1330) | $data\_attr .= ' data-'.esc\_attr($p\_name).' = '.esc\_attr($p\_val); |
| [1331](#L1331) | } |
| [1332](#L1332) | } |
| [1333](#L1333) | break; |
| [1334](#L1334) |  |
| [1335](#L1335) | default: |
| [1336](#L1336) | # code... |
| [1337](#L1337) | break; |
| [1338](#L1338) | } |
| [1339](#L1339) |  |
| [1340](#L1340) | $args = array( |
| [1341](#L1341) | 'post\_type'           => 'stars\_testimonial', |
| [1342](#L1342) | 'posts\_per\_page'      => esc\_attr($total), |
| [1343](#L1343) | 'order'               => esc\_attr($order), |
| [1344](#L1344) | 'orderby'             => esc\_attr($orderby), |
| [1345](#L1345) | ); |
| [1346](#L1346) |  |
| [1347](#L1347) | if ($cats != '') { |
| [1348](#L1348) | $args['tax\_query'] = array( |
| [1349](#L1349) | 'relation'  => 'AND', |
| [1350](#L1350) | array( |
| [1351](#L1351) | 'taxonomy'         => 'stars\_testimonial\_cat', |
| [1352](#L1352) | 'field'            => 'id', |
| [1353](#L1353) | 'terms'            => explode(',', esc\_attr($cats)), |
| [1354](#L1354) | 'include\_children' => true, |
| [1355](#L1355) | 'operator'         => 'IN' |
| [1356](#L1356) | ), |
| [1357](#L1357) | ); |
| [1358](#L1358) | } |
| [1359](#L1359) | $r\_id = rand(); |
| [1360](#L1360) | ob\_start(); |
| [1361](#L1361) | $query\_testimonials = new WP\_Query( $args ); |
| [1362](#L1362) |  |
| [1363](#L1363) | if ( $query\_testimonials->have\_posts() ) { |
| [1364](#L1364) | echo '<div class="stars-testimonials premio-testimonials='.esc\_attr($type).'" id="st-'.esc\_attr($r\_id).'">'; |
| [1365](#L1365) | if($type == "slider") { |
| [1366](#L1366) |  |
| [1367](#L1367) | } |
| [1368](#L1368) | echo '<div class="premio-testimonials-content '.esc\_attr($row\_class).'" '.$data\_attr.'>'; |
| [1369](#L1369) |  |
| [1370](#L1370) | while ( $query\_testimonials->have\_posts() ) { |
| [1371](#L1371) | $query\_testimonials->the\_post(); |
| [1372](#L1372) | $company = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_name', true ); |
| [1373](#L1373) | $url = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_url', true ); |
| [1374](#L1374) | $stars = get\_post\_meta( get\_the\_id(), 'testimonial\_stars', true ); |
| [1375](#L1375) | echo '<div class="pre-testimonials-content '.esc\_attr($column\_class).'">'; |
| [1376](#L1376) | include 'templates/style'.sanitize\_file\_name($style).'.php'; |
| [1377](#L1377) | echo '</div>'; |
| [1378](#L1378) | } |
| [1379](#L1379) |  |
| [1380](#L1380) |  |
| [1381](#L1381) | echo '</div>'; |
| [1382](#L1382) | echo '</div>'; |
| [1383](#L1383) | echo "<style>"; |
| [1384](#L1384) | echo "#st-".esc\_attr($r\_id)." .st-rating { color:  ".esc\_attr($stars\_color)."; }"; |
| [1385](#L1385) | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content { color:  ".esc\_attr($text\_color)."; }"; |
| [1386](#L1386) | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content p { color:  ".esc\_attr($text\_color)."; }"; |
| [1387](#L1387) | echo "#st-".esc\_attr($r\_id)." .st-testimonial-bg { background-color: ".esc\_attr($bg\_color)."; }"; |
| [1388](#L1388) | echo "#st-".esc\_attr($r\_id)." .style1 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
| [1389](#L1389) | echo "#st-".esc\_attr($r\_id)." .style3 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
| [1390](#L1390) | echo "#st-".esc\_attr($r\_id)." .style10 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
| [1391](#L1391) | echo "#st-".esc\_attr($r\_id)." .style7 { border-bottom-color: ".esc\_attr($bg\_color)."; }"; |
| [1392](#L1392) | echo "#st-".esc\_attr($r\_id)." .style7::before { background-color: ".esc\_attr($bg\_color)."; }"; |
| [1393](#L1393) | if ($bg\_color != '') { |
| [1394](#L1394) | echo "#st-".esc\_attr($r\_id)." .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent ".esc\_attr($bg\_color)."; }"; |
| [1395](#L1395) | } |
| [1396](#L1396) | echo "#st-".esc\_attr($r\_id)." .st-testimonial-title { color: ".esc\_attr($title\_color)."; }"; |
| [1397](#L1397) | echo "#st-".esc\_attr($r\_id)." .slick-prev:before, #st-".esc\_attr($r\_id)." .slick-next:before { color: ".esc\_attr($arrows\_color)."; }"; |
| [1398](#L1398) | echo "#st-".esc\_attr($r\_id)." .st-testimonial-company { color: ".esc\_attr($company\_color)."; }"; |
| [1399](#L1399) | echo "</style>"; |
| [1400](#L1400) | wp\_reset\_postdata(); |
| [1401](#L1401) | } |
| [1402](#L1402) |  |
| [1403](#L1403) | return ob\_get\_clean(); |
| [1404](#L1404) | } |
| [1405](#L1405) |  |
| [1406](#L1406) | function display\_rating($count){ |
| [1407](#L1407) | switch ($count) { |
| [1408](#L1408) | case '5.0': |
| [1409](#L1409) | echo '<i class="pst-star"></i><i class="pst-star"></i><i class="pst-star"></i><i class="pst-star"></i><i class="pst-star"></i>'; |
| [1410](#L1410) | break; |
| [1411](#L1411) | case '4.5': |
| [1412](#L1412) | echo '<i class="pst-star"></i><i class="pst-star"></i><i class="pst-star"></i><i class="pst-star"></i><i class="pst-star-half-o"></i>'; |
| [1413](#L1413) | break; |
| [1414](#L1414) | case '4.0': |
| [1415](#L1415) | echo '<i class="pst-star"></i><i class="pst-star"></i><i class="pst-star"></i><i class="pst-star"></i><i class="pst-star-o"></i>'; |
| [1416](#L1416) | break; |
| [1417](#L1417) | case '3.5': |
| [1418](#L1418) | echo '<i class="pst-star"></i><i class="pst-star"></i><i class="pst-star"></i><i class="pst-star-half-o"></i><i class="pst-star-o"></i>'; |
| [1419](#L1419) | break; |
| [1420](#L1420) | case '3.0': |
| [1421](#L1421) | echo '<i class="pst-star"></i><i class="pst-star"></i><i class="pst-star"></i><i class="pst-star-o"></i><i class="pst-star-o"></i>'; |
| [1422](#L1422) | break; |
| [1423](#L1423) | case '2.5': |
| [1424](#L1424) | echo '<i class="pst-star"></i><i class="pst-star"></i><i class="pst-star-half-o"></i><i class="pst-star-o"></i><i class="pst-star-o"></i>'; |
| [1425](#L1425) | break; |
| [1426](#L1426) | case '2.0': |
| [1427](#L1427) | echo '<i class="pst-star"></i><i class="pst-star"></i><i class="pst-star-o"></i><i class="pst-star-o"></i><i class="pst-star-o"></i>'; |
| [1428](#L1428) | break; |
| [1429](#L1429) | case '1.5': |
| [1430](#L1430) | echo '<i class="pst-star"></i><i class="pst-star-half-o"></i><i class="pst-star-o"></i><i class="pst-star-o"></i><i class="pst-star-o"></i>'; |
| [1431](#L1431) | break; |
| [1432](#L1432) | case '1.0': |
| [1433](#L1433) | echo '<i class="pst-star"></i><i class="pst-star-o"></i><i class="pst-star-o"></i><i class="pst-star-o"></i><i class="pst-star-o"></i>'; |
| [1434](#L1434) | break; |
| [1435](#L1435) | case '0.5': |
| [1436](#L1436) | echo '<i class="pst-star-half-o"></i><i class="pst-star-o"></i><i class="pst-star-o"></i><i class="pst-star-o"></i><i class="pst-star-o"></i>'; |
| [1437](#L1437) | break; |
| [1438](#L1438) |  |
| [1439](#L1439) | default: |
| [1440](#L1440) | echo ''; |
| [1441](#L1441) | break; |
| [1442](#L1442) | } |
| [1443](#L1443) | } |
| [1444](#L1444) |  |
| [1445](#L1445) | function display\_company($company, $url){ |
| [1446](#L1446) | if ($url != '') { ?> |
| [1447](#L1447) | <a target="\_blank" href="<?php echo esc\_url( $url ); ?>"><?php echo esc\_attr( $company ); ?></a> |
| [1448](#L1448) | <?php } else { |
| [1449](#L1449) | echo $company; |
| [1450](#L1450) | } |
| [1451](#L1451) | } |
| [1452](#L1452) |  |
| [1453](#L1453) | function testimonial\_integrateWithVC(){ |
| [1454](#L1454) | vc\_map( array( |
| [1455](#L1455) | "name" => \_\_( "Stars Testimonial", "stars-testimonials" ), |
| [1456](#L1456) | "base" => "stars\_testimonials", |
| [1457](#L1457) | "class" => "", |
| [1458](#L1458) | "category" => \_\_( "Content", "stars-testimonials"), |
| [1459](#L1459) | "params" => array( |
| [1460](#L1460) | array( |
| [1461](#L1461) | "type"                  =>      "dropdown", |
| [1462](#L1462) | "heading"               =>      \_\_( 'Testimonial Type', 'counter-vc' ), |
| [1463](#L1463) | "param\_name"    =>      "type", |
| [1464](#L1464) | "description"   =>      \_\_( 'Choose how you want to display testimonials', 'counter-vc' ), |
| [1465](#L1465) | "group"                 =>      'General', |
| [1466](#L1466) | "value"                 => array( |
| [1467](#L1467) | "Grid"          => "grid", |
| [1468](#L1468) | "Masonry Grid"  => "masonry", |
| [1469](#L1469) | "Slider"        => "slider", |
| [1470](#L1470) | ) |
| [1471](#L1471) | ), |
| [1472](#L1472) | array( |
| [1473](#L1473) | "type"                  =>      "dropdown", |
| [1474](#L1474) | "heading"               =>      \_\_( 'Testimonial Style', 'counter-vc' ), |
| [1475](#L1475) | "param\_name"    =>      "style", |
| [1476](#L1476) | "description"   =>      \_\_( 'Choose single testimonial style here', 'counter-vc' ), |
| [1477](#L1477) | "group"                 =>      'General', |
| [1478](#L1478) | "value"                 => array( |
| [1479](#L1479) | "Style 1"               => "1", |
| [1480](#L1480) | "Style 2"               => "2", |
| [1481](#L1481) | "Style 3"               => "3", |
| [1482](#L1482) | "Style 4"               => "4", |
| [1483](#L1483) | "Style 5"               => "5", |
| [1484](#L1484) | "Style 6"               => "6", |
| [1485](#L1485) | "Style 7"               => "7", |
| [1486](#L1486) | "Style 8"               => "8", |
| [1487](#L1487) | "Style 9"               => "9", |
| [1488](#L1488) | "Style 10"              => "10", |
| [1489](#L1489) | "Style 11"              => "11", |
| [1490](#L1490) | "Style 12"              => "12", |
| [1491](#L1491) | "Style 13"              => "13", |
| [1492](#L1492) | "Style 14"              => "14", |
| [1493](#L1493) | "Style 15"              => "15", |
| [1494](#L1494) | "Style 16"              => "16", |
| [1495](#L1495) | "Style 17"              => "17", |
| [1496](#L1496) | ) |
| [1497](#L1497) | ), |
| [1498](#L1498) | array( |
| [1499](#L1499) | "type"                  =>      "dropdown", |
| [1500](#L1500) | "heading"               =>      \_\_( 'Number of Columns', 'counter-vc' ), |
| [1501](#L1501) | "param\_name"    =>      "cols", |
| [1502](#L1502) | "description"   =>      \_\_( 'How many testimonials in a row', 'counter-vc' ), |
| [1503](#L1503) | "group"                 =>      'General', |
| [1504](#L1504) | "value"                 => array( |
| [1505](#L1505) | "1 Column"              => "1", |
| [1506](#L1506) | "2 Columns"             => "2", |
| [1507](#L1507) | "3 Columns"             => "3", |
| [1508](#L1508) | "4 Columns"             => "4", |
| [1509](#L1509) | "5 Columns"             => "5", |
| [1510](#L1510) | "6 Columns"             => "6", |
| [1511](#L1511) | "7 Columns"             => "7", |
| [1512](#L1512) | "8 Columns"             => "8", |
| [1513](#L1513) | "9 Columns"             => "9", |
| [1514](#L1514) | "10 Columns"            => "10", |
| [1515](#L1515) | "11 Columns"            => "11", |
| [1516](#L1516) | "12 Columns"            => "12", |
| [1517](#L1517) | ), |
| [1518](#L1518) | 'dependency' => array( 'element' => 'type', 'value' => array('grid', 'masonry') ), |
| [1519](#L1519) | ), |
| [1520](#L1520) | array( |
| [1521](#L1521) | "type"                  =>      "textfield", |
| [1522](#L1522) | "heading"               =>      \_\_( 'Categories', 'counter-vc' ), |
| [1523](#L1523) | "param\_name"    =>      "cats", |
| [1524](#L1524) | "description"   =>      \_\_( 'Comma separated categories IDs', 'counter-vc' ), |
| [1525](#L1525) | "group"                 =>      'General', |
| [1526](#L1526) | ), |
| [1527](#L1527) | array( |
| [1528](#L1528) | "type"                  =>      "textfield", |
| [1529](#L1529) | "heading"               =>      \_\_( 'Order', 'counter-vc' ), |
| [1530](#L1530) | "param\_name"    =>      "order", |
| [1531](#L1531) | "description"   =>      \_\_( 'ASC or DESC', 'counter-vc' ), |
| [1532](#L1532) | "group"                 =>      'General', |
| [1533](#L1533) | ), |
| [1534](#L1534) | array( |
| [1535](#L1535) | "type"                  =>      "textfield", |
| [1536](#L1536) | "heading"               =>      \_\_( 'Order By', 'counter-vc' ), |
| [1537](#L1537) | "param\_name"    =>      "orderby", |
| [1538](#L1538) | "description"   =>      \_\_( 'Eg: date', 'counter-vc' ), |
| [1539](#L1539) | "group"                 =>      'General', |
| [1540](#L1540) | ), |
| [1541](#L1541) | array( |
| [1542](#L1542) | "type"                  =>      "textfield", |
| [1543](#L1543) | "heading"               =>      \_\_( 'Total Number of Testimonials', 'counter-vc' ), |
| [1544](#L1544) | "param\_name"    =>      "total", |
| [1545](#L1545) | "description"   =>      \_\_( 'How many maximum testimonials you want to display, -1 for all', 'counter-vc' ), |
| [1546](#L1546) | "group"                 =>      'General', |
| [1547](#L1547) | ), |
| [1548](#L1548) |  |
| [1549](#L1549) | array( |
| [1550](#L1550) | "type"                  =>      "textfield", |
| [1551](#L1551) | "heading"               =>      \_\_( 'Number of Columns', 'counter-vc' ), |
| [1552](#L1552) | "param\_name"    =>      "slidestoshow", |
| [1553](#L1553) | "description"   =>      \_\_( 'How many testimonials at a time', 'counter-vc' ), |
| [1554](#L1554) | "group"                 =>      'Slider Settings', |
| [1555](#L1555) | 'dependency' => array( 'element' => 'type', 'value' => array('slider') ), |
| [1556](#L1556) | ), |
| [1557](#L1557) |  |
| [1558](#L1558) | array( |
| [1559](#L1559) | "type"                  =>      "textfield", |
| [1560](#L1560) | "heading"               =>      \_\_( 'Slides to Scroll', 'counter-vc' ), |
| [1561](#L1561) | "param\_name"    =>      "slidestoscroll", |
| [1562](#L1562) | "description"   =>      \_\_( 'How many testimonial scroll at a time', 'counter-vc' ), |
| [1563](#L1563) | "group"                 =>      'Slider Settings', |
| [1564](#L1564) | 'dependency' => array( 'element' => 'type', 'value' => array('slider') ), |
| [1565](#L1565) | ), |
| [1566](#L1566) |  |
| [1567](#L1567) | array( |
| [1568](#L1568) | "type"                  =>      "textfield", |
| [1569](#L1569) | "heading"               =>      \_\_( 'Slider Speed', 'counter-vc' ), |
| [1570](#L1570) | "param\_name"    =>      "speed", |
| [1571](#L1571) | "description"   =>      \_\_( 'Provide slide speed in ms', 'counter-vc' ), |
| [1572](#L1572) | "group"                 =>      'Slider Settings', |
| [1573](#L1573) | 'dependency' => array( 'element' => 'type', 'value' => array('slider') ), |
| [1574](#L1574) | ), |
| [1575](#L1575) |  |
| [1576](#L1576) | array( |
| [1577](#L1577) | "type"                  =>      "checkbox", |
| [1578](#L1578) | "heading"               =>      \_\_( 'Bottom Dots', 'counter-vc' ), |
| [1579](#L1579) | "param\_name"    =>      "dots", |
| [1580](#L1580) | "description"   =>      \_\_( 'Check to enable dots', 'counter-vc' ), |
| [1581](#L1581) | "group"                 =>      'Slider Settings', |
| [1582](#L1582) | 'dependency' => array( 'element' => 'type', 'value' => array('slider') ), |
| [1583](#L1583) | ), |
| [1584](#L1584) |  |
| [1585](#L1585) | array( |
| [1586](#L1586) | "type"                  =>      "checkbox", |
| [1587](#L1587) | "heading"               =>      \_\_( 'Arrows', 'counter-vc' ), |
| [1588](#L1588) | "param\_name"    =>      "arrows", |
| [1589](#L1589) | "description"   =>      \_\_( 'Check to enable navigation arrows', 'counter-vc' ), |
| [1590](#L1590) | "group"                 =>      'Slider Settings', |
| [1591](#L1591) | 'dependency' => array( 'element' => 'type', 'value' => array('slider') ), |
| [1592](#L1592) | ), |
| [1593](#L1593) |  |
| [1594](#L1594) | array( |
| [1595](#L1595) | "type"                  =>      "checkbox", |
| [1596](#L1596) | "heading"               =>      \_\_( 'Auto Play', 'counter-vc' ), |
| [1597](#L1597) | "param\_name"    =>      "autoplay", |
| [1598](#L1598) | "description"   =>      \_\_( 'Check to enable auto play', 'counter-vc' ), |
| [1599](#L1599) | "group"                 =>      'Slider Settings', |
| [1600](#L1600) | 'dependency' => array( 'element' => 'type', 'value' => array('slider') ), |
| [1601](#L1601) | ), |
| [1602](#L1602) |  |
| [1603](#L1603) | array( |
| [1604](#L1604) | "type"                  =>      "textfield", |
| [1605](#L1605) | "heading"               =>      \_\_( 'Auto Play Speed', 'counter-vc' ), |
| [1606](#L1606) | "param\_name"    =>      "autoplayspeed", |
| [1607](#L1607) | "description"   =>      \_\_( 'Auto Play speed in ms Eg: 3000', 'counter-vc' ), |
| [1608](#L1608) | "group"                 =>      'Slider Settings', |
| [1609](#L1609) | 'dependency' => array( 'element' => 'type', 'value' => array('slider') ), |
| [1610](#L1610) | ), |
| [1611](#L1611) |  |
| [1612](#L1612) | array( |
| [1613](#L1613) | "type"                  =>      "colorpicker", |
| [1614](#L1614) | "heading"               =>      \_\_( 'Stars Color', 'counter-vc' ), |
| [1615](#L1615) | "param\_name"    =>      "stars\_color", |
| [1616](#L1616) | "description"   =>      \_\_( 'Choose Stars rating color here', 'counter-vc' ), |
| [1617](#L1617) | "group"                 =>      'Colors', |
| [1618](#L1618) | ), |
| [1619](#L1619) |  |
| [1620](#L1620) | array( |
| [1621](#L1621) | "type"                  =>      "colorpicker", |
| [1622](#L1622) | "heading"               =>      \_\_( 'Text Color', 'counter-vc' ), |
| [1623](#L1623) | "param\_name"    =>      "text\_color", |
| [1624](#L1624) | "description"   =>      \_\_( 'Choose testimonial text color here', 'counter-vc' ), |
| [1625](#L1625) | "group"                 =>      'Colors', |
| [1626](#L1626) | ), |
| [1627](#L1627) |  |
| [1628](#L1628) | array( |
| [1629](#L1629) | "type"                  =>      "colorpicker", |
| [1630](#L1630) | "heading"               =>      \_\_( 'Background Color', 'counter-vc' ), |
| [1631](#L1631) | "param\_name"    =>      "bg\_color", |
| [1632](#L1632) | "description"   =>      \_\_( 'Choose testimonial background color here', 'counter-vc' ), |
| [1633](#L1633) | "group"                 =>      'Colors', |
| [1634](#L1634) | ), |
| [1635](#L1635) |  |
| [1636](#L1636) | array( |
| [1637](#L1637) | "type"                  =>      "colorpicker", |
| [1638](#L1638) | "heading"               =>      \_\_( 'Title Color', 'counter-vc' ), |
| [1639](#L1639) | "param\_name"    =>      "title\_color", |
| [1640](#L1640) | "description"   =>      \_\_( 'Choose testimonial title color here', 'counter-vc' ), |
| [1641](#L1641) | "group"                 =>      'Colors', |
| [1642](#L1642) | ), |
| [1643](#L1643) |  |
| [1644](#L1644) | array( |
| [1645](#L1645) | "type"                  =>      "colorpicker", |
| [1646](#L1646) | "heading"               =>      \_\_( 'Company Name Color', 'counter-vc' ), |
| [1647](#L1647) | "param\_name"    =>      "company\_color", |
| [1648](#L1648) | "description"   =>      \_\_( 'Choose testimonial company name color here', 'counter-vc' ), |
| [1649](#L1649) | "group"                 =>      'Colors', |
| [1650](#L1650) | ), |
| [1651](#L1651) |  |
| [1652](#L1652) | array( |
| [1653](#L1653) | "type"                  =>      "colorpicker", |
| [1654](#L1654) | "heading"               =>      \_\_( 'Slider Arrows', 'counter-vc' ), |
| [1655](#L1655) | "param\_name"    =>      "arrows\_color", |
| [1656](#L1656) | "description"   =>      \_\_( 'Choose testimonial slider arrows color here', 'counter-vc' ), |
| [1657](#L1657) | "group"                 =>      'Colors', |
| [1658](#L1658) | ), |
| [1659](#L1659) | ) |
| [1660](#L1660) | ) ); |
| [1661](#L1661) | } |
| [1662](#L1662) | } |
| [1663](#L1663) |  |
| [1664](#L1664) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?format=txt)
* [Original Format](/export/3220510/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_719a8302_20250111_024517.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3159818)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3159817 "Changeset 3159817")
* [Next Changeset](/changeset/3159819 "Changeset 3159819") →

---

# Changeset 3159818

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
09/30/2024 12:00:17 PM
([3 months](/timeline?from=2024-09-30T12%3A00%3A17Z&precision=second "See timeline at 09/30/2024 12:00:17 PM") ago)

Author:
premiocommit
Message:

Update to version 3.3.2 from GitHub

Location:
[stars-testimonials-with-slider-and-masonry-grid](/browser/stars-testimonials-with-slider-and-masonry-grid?rev=3159818)
Files:

10 edited
1 copied

* [tags/3.3.2](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2?rev=3159818 "Show entry in browser")
  (copied)
  *(copied from [stars-testimonials-with-slider-and-masonry-grid/trunk](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk?rev=3138630 "Show original file (revision 3159817)"))*
* [tags/3.3.2/languages/stars-testimonials-en\_US.po](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials-en_US.po?rev=3159818 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [tags/3.3.2/languages/stars-testimonials.pot](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials.pot?rev=3159818 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [tags/3.3.2/plugin.class.php](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818 "Show entry in browser")
  (modified)
  ([14 diffs](#file3 "Show differences"))
* [tags/3.3.2/readme.txt](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt?rev=3159818 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [tags/3.3.2/st.php](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php?rev=3159818 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [trunk/languages/stars-testimonials-en\_US.po](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po?rev=3159818 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [trunk/languages/stars-testimonials.pot](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot?rev=3159818 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [trunk/plugin.class.php](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818 "Show entry in browser")
  (modified)
  ([14 diffs](#file8 "Show differences"))
* [trunk/readme.txt](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3159818 "Show entry in browser")
  (modified)
  ([2 diffs](#file9 "Show differences"))
* [trunk/st.php](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3159818 "Show entry in browser")
  (modified)
  ([2 diffs](#file10 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials-en\_US.po](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials-en_US.po "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials-en_US.po")

  | [r2831148](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po?rev=2831148#L617 "Show revision 2831148 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials-en_US.po?rev=3159818#L617 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 617 | 617 |  |
  | 618 | 618 | #: plugin.class.php:1020 |
  | 619 |  | msgid "Test~~o~~monial Categories" |
  |  | 619 | msgid "Testimonial Categories" |
  | 620 | 620 | msgstr "" |
  | 621 | 621 |  |
* ## [stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials.pot](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials.pot "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials.pot")

  | [r2831148](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot?rev=2831148#L618 "Show revision 2831148 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials.pot?rev=3159818#L618 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 618 | 618 |  |
  | 619 | 619 | #: plugin.class.php:1020 |
  | 620 |  | msgid "Test~~o~~monial Categories" |
  |  | 620 | msgid "Testimonial Categories" |
  | 621 | 621 | msgstr "" |
  | 622 | 622 |  |
* ## [stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php")

  | [r3055821](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1036 "Show revision 3055821 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1036 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 1036 | 1036 | 'add\_new\_item'      => \_\_( 'Add New Category', 'stars-testimonials' ), |
  | 1037 | 1037 | 'new\_item\_name'     => \_\_( 'New Category Name', 'stars-testimonials' ), |
  | 1038 |  | 'menu\_name'         => \_\_( 'Test~~o~~monial Categories', 'stars-testimonials' ), |
  |  | 1038 | 'menu\_name'         => \_\_( 'Testimonial Categories', 'stars-testimonials' ), |
  | 1039 | 1039 | ); |
  | 1040 | 1040 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1197) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1197) |  |
  | 1197 | 1197 | case 'grid': |
  | 1198 | 1198 | $row\_class = 'grid'; |
  | 1199 |  | $column\_class = 'col-1-'.~~$cols~~; |
  |  | 1199 | $column\_class = 'col-1-'.esc\_attr($cols); |
  | 1200 | 1200 | break; |
  | 1201 | 1201 | default: |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1206) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1206) |  |
  | 1206 | 1206 | $args = array( |
  | 1207 | 1207 | 'post\_type'   => 'stars\_testimonial', |
  | 1208 |  | 'posts\_per\_page'   ~~=> $total~~, |
  | 1209 |  | 'order'               => ~~$order~~, |
  | 1210 |  | 'orderby'             => ~~$orderby~~, |
  |  | 1208 | 'posts\_per\_page'      => esc\_attr($total), |
  |  | 1209 | 'order'               => esc\_attr($order), |
  |  | 1210 | 'orderby'             => esc\_attr($orderby), |
  | 1211 | 1211 | ); |
  | 1212 | 1212 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1217) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1217) |  |
  | 1217 | 1217 | 'taxonomy'         => 'stars\_testimonial\_cat', |
  | 1218 | 1218 | 'field'            => 'id', |
  | 1219 |  | 'terms'            => explode(',', ~~$cats~~), |
  |  | 1219 | 'terms'            => explode(',', esc\_attr($cats)), |
  | 1220 | 1220 | 'include\_children' => true, |
  | 1221 | 1221 | 'operator'         => 'IN' |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1229) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1229) |  |
  | 1229 | 1229 |  |
  | 1230 | 1230 | if ( $query\_testimonials->have\_posts() ) { |
  | 1231 |  | echo '<div class="stars-testimonials premio-testimonials-'.$type.'" id="st-'.$r\_id.'">'; |
  | 1232 |  | $settingString = ""; |
  | 1233 |  | echo '<div class="premio-testimonials-content '.$row\_class.'" '.$data\_attr.' '.$settingString.'>'; |
  |  | 1231 | echo '<div class="stars-testimonials premio-testimonials-'.$type.'" id="st-'.esc\_attr($r\_id).'">'; |
  |  | 1232 | echo '<div class="premio-testimonials-content '.esc\_attr($row\_class).'" '.esc\_attr($data\_attr).'>'; |
  | 1234 | 1233 |  |
  | 1235 | 1234 | while ( $query\_testimonials->have\_posts() ) { |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1238) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1237) |  |
  | 1238 | 1237 | $url = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_url', true ); |
  | 1239 | 1238 | $stars = get\_post\_meta( get\_the\_id(), 'testimonial\_stars', true ); |
  | 1240 |  | echo '<div class="pre-testimonials-content '.~~$column\_class~~.'">'; |
  | 1241 |  | include 'templates/style'.~~$style~~.'.php'; |
  |  | 1239 | echo '<div class="pre-testimonials-content '.esc\_attr($column\_class).'">'; |
  |  | 1240 | include 'templates/style'.esc\_attr($style).'.php'; |
  | 1242 | 1241 | echo '</div>'; |
  | 1243 | 1242 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1247) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1246) |  |
  | 1247 | 1246 | echo '</div>'; |
  | 1248 | 1247 | if($result->font\_family != "") { |
  | 1249 |  | echo '<link href="https://fonts.googleapis.com/css?family='.urlencode(~~$result->font\_family~~).'" rel="stylesheet" tyle="text/css">'; |
  |  | 1248 | echo '<link href="https://fonts.googleapis.com/css?family='.urlencode(esc\_attr($result->font\_family)).'" rel="stylesheet" tyle="text/css">'; |
  | 1250 | 1249 | } |
  | 1251 | 1250 | echo "<style>"; |
  | 1252 | 1251 | if($stars\_color != "") |
  | 1253 |  | echo "#st-~~$r\_id .st-rating { color:  #$stars\_color~~; }"; |
  |  | 1252 | echo "#st-".esc\_attr($r\_id)." .st-rating { color:  #".esc\_attr($stars\_color)."; }"; |
  | 1254 | 1253 | if($text\_color != "") |
  | 1255 |  | echo "#st-~~$r\_id .st-testimonial-content { color:  #$text\_color~~; }"; |
  |  | 1254 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content { color:  #".esc\_attr($text\_color)."; }"; |
  | 1256 | 1255 | if($text\_color != "") |
  | 1257 |  | echo "#st-~~$r\_id .st-testimonial-content p { color:  #$text\_color~~; }"; |
  |  | 1256 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content p { color:  #".esc\_attr($text\_color)."; }"; |
  | 1258 | 1257 | if($bg\_color != "") |
  | 1259 |  | echo "#st-~~$r\_id .st-testimonial-bg { background-color: #$bg\_color~~; }"; |
  |  | 1258 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-bg { background-color: #".esc\_attr($bg\_color)."; }"; |
  | 1260 | 1259 | if($bg\_color != "") |
  | 1261 |  | echo "#st-~~$r\_id .style7 { border-bottom-color: #$bg\_color~~; }"; |
  |  | 1260 | echo "#st-".esc\_attr($r\_id)." .style7 { border-bottom-color: #".esc\_attr($bg\_color)."; }"; |
  | 1262 | 1261 | if($bg\_color != "") |
  | 1263 |  | echo "#st-~~$r\_id .style7::before { background-color: #$bg\_color~~; }"; |
  |  | 1262 | echo "#st-".esc\_attr($r\_id)." .style7::before { background-color: #".esc\_attr($bg\_color)."; }"; |
  | 1264 | 1263 | if ($bg\_color != '') { |
  | 1265 |  | echo "#st-~~$r\_id .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent #$bg\_color~~; }"; |
  |  | 1264 | echo "#st-".esc\_attr($r\_id)." .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent #".esc\_attr($bg\_color)."; }"; |
  | 1266 | 1265 | } |
  | 1267 | 1266 | if($title\_color != "") |
  | 1268 |  | echo "#st-~~$r\_id .st-testimonial-title { color: #$title\_color~~; }"; |
  |  | 1267 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-title { color: #".esc\_attr($title\_color)."; }"; |
  | 1269 | 1268 | if($company\_color != "") |
  | 1270 |  | echo "#st-~~$r\_id .st-testimonial-company { color: #$company\_color~~; }"; |
  |  | 1269 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-company { color: #".esc\_attr($company\_color)."; }"; |
  | 1271 | 1270 | if($result->font\_family != "") { |
  | 1272 |  | echo "#st-~~$r\_id figure, #st-$r\_id  blockquote{font-family:{$result->font\_family}~~}"; |
  |  | 1271 | echo "#st-".esc\_attr($r\_id)." figure, #st-".esc\_attr($r\_id)."  blockquote{font-family:".esc\_attr($result->font\_family)."}"; |
  | 1273 | 1272 | } |
  | 1274 | 1273 | echo "</style>"; |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1306) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1305) |  |
  | 1306 | 1305 | case 'grid': |
  | 1307 | 1306 | $row\_class = 'grid'; |
  | 1308 |  | $column\_class = 'col-1-'.~~$cols~~; |
  |  | 1307 | $column\_class = 'col-1-'.esc\_attr($cols); |
  | 1309 | 1308 | break; |
  | 1310 | 1309 | case 'masonry': |
  | 1311 | 1310 | wp\_enqueue\_script( 'wcp-masonry-js', plugin\_dir\_url( \_\_FILE\_\_ ).'js/masonry.js', array('jquery', 'jquery-masonry') ); |
  | 1312 | 1311 | $row\_class = 'grid masonry-wrap'; |
  | 1313 |  | $column\_class = 'masonry-item col-1-'.~~$cols~~; |
  |  | 1312 | $column\_class = 'masonry-item col-1-'.esc\_attr($cols); |
  | 1314 | 1313 | break; |
  | 1315 | 1314 | case 'slider': |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1321) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1320) |  |
  | 1321 | 1320 | if (is\_array($atts)) { |
  | 1322 | 1321 | foreach ($atts as $p\_name => $p\_val) { |
  | 1323 |  | $data\_attr .= ' data-'.~~$p\_name.' = '.$p\_val~~; |
  |  | 1322 | $data\_attr .= ' data-'.esc\_attr($p\_name).' = '.esc\_attr($p\_val); |
  | 1324 | 1323 | } |
  | 1325 | 1324 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1332) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1331) |  |
  | 1332 | 1331 |  |
  | 1333 | 1332 | $args = array( |
  | 1334 |  | 'post\_type'   => 'stars\_testimonial', |
  | 1335 |  | 'posts\_per\_page'   ~~=> $total~~, |
  | 1336 |  | 'order'               => ~~$order~~, |
  | 1337 |  | 'orderby'             => ~~$orderby~~, |
  |  | 1333 | 'post\_type'           => 'stars\_testimonial', |
  |  | 1334 | 'posts\_per\_page'      => esc\_attr($total), |
  |  | 1335 | 'order'               => esc\_attr($order), |
  |  | 1336 | 'orderby'             => esc\_attr($orderby), |
  | 1338 | 1337 | ); |
  | 1339 | 1338 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1344) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1343) |  |
  | 1344 | 1343 | 'taxonomy'         => 'stars\_testimonial\_cat', |
  | 1345 | 1344 | 'field'            => 'id', |
  | 1346 |  | 'terms'            => explode(',', ~~$cats~~), |
  |  | 1345 | 'terms'            => explode(',', esc\_attr($cats)), |
  | 1347 | 1346 | 'include\_children' => true, |
  | 1348 | 1347 | 'operator'         => 'IN' |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1355) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1354) |  |
  | 1355 | 1354 |  |
  | 1356 | 1355 | if ( $query\_testimonials->have\_posts() ) { |
  | 1357 |  | echo '<div class="stars-testimonials premio-testimonials='.~~$type.'" id="st-'.$r\_id~~.'">'; |
  |  | 1356 | echo '<div class="stars-testimonials premio-testimonials='.esc\_attr($type).'" id="st-'.esc\_attr($r\_id).'">'; |
  | 1358 | 1357 | if($type == "slider") { |
  | 1359 | 1358 |  |
  | 1360 | 1359 | } |
  | 1361 |  | echo '<div class="premio-testimonials-content '.~~$row\_class~~.'" '.$data\_attr.'>'; |
  |  | 1360 | echo '<div class="premio-testimonials-content '.esc\_attr($row\_class).'" '.$data\_attr.'>'; |
  | 1362 | 1361 |  |
  | 1363 | 1362 | while ( $query\_testimonials->have\_posts() ) { |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1366) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1365) |  |
  | 1366 | 1365 | $url = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_url', true ); |
  | 1367 | 1366 | $stars = get\_post\_meta( get\_the\_id(), 'testimonial\_stars', true ); |
  | 1368 |  | echo '<div class="pre-testimonials-content '.~~$column\_class~~.'">'; |
  | 1369 |  | include 'templates/style'.~~$style~~.'.php'; |
  |  | 1367 | echo '<div class="pre-testimonials-content '.esc\_attr($column\_class).'">'; |
  |  | 1368 | include 'templates/style'.esc\_attr($style).'.php'; |
  | 1370 | 1369 | echo '</div>'; |
  | 1371 | 1370 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1375) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1374) |  |
  | 1375 | 1374 | echo '</div>'; |
  | 1376 | 1375 | echo "<style>"; |
  | 1377 |  | echo "#st-~~$r\_id .st-rating { color:  $stars\_color~~; }"; |
  | 1378 |  | echo "#st-~~$r\_id .st-testimonial-content { color:  $text\_color~~; }"; |
  | 1379 |  | echo "#st-~~$r\_id .st-testimonial-content p { color:  $text\_color~~; }"; |
  | 1380 |  | echo "#st-~~$r\_id .st-testimonial-bg { background-color: $bg\_color~~; }"; |
  | 1381 |  | echo "#st-~~$r\_id .style1 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1382 |  | echo "#st-~~$r\_id .style3 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1383 |  | echo "#st-~~$r\_id .style10 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1384 |  | echo "#st-~~$r\_id .style7 { border-bottom-color: $bg\_color~~; }"; |
  | 1385 |  | echo "#st-~~$r\_id .style7::before { background-color: $bg\_color~~; }"; |
  |  | 1376 | echo "#st-".esc\_attr($r\_id)." .st-rating { color:  ".esc\_attr($stars\_color)."; }"; |
  |  | 1377 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content { color:  ".esc\_attr($text\_color)."; }"; |
  |  | 1378 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content p { color:  ".esc\_attr($text\_color)."; }"; |
  |  | 1379 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-bg { background-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1380 | echo "#st-".esc\_attr($r\_id)." .style1 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1381 | echo "#st-".esc\_attr($r\_id)." .style3 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1382 | echo "#st-".esc\_attr($r\_id)." .style10 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1383 | echo "#st-".esc\_attr($r\_id)." .style7 { border-bottom-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1384 | echo "#st-".esc\_attr($r\_id)." .style7::before { background-color: ".esc\_attr($bg\_color)."; }"; |
  | 1386 | 1385 | if ($bg\_color != '') { |
  | 1387 |  | echo "#st-~~$r\_id .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent $bg\_color~~; }"; |
  | 1388 |  | } |
  | 1389 |  | echo "#st-~~$r\_id .st-testimonial-title { color: $title\_color~~; }"; |
  | 1390 |  | echo "#st-~~$r\_id .slick-prev:before, #st-$r\_id .slick-next:before { color: $arrows\_color~~; }"; |
  | 1391 |  | echo "#st-~~$r\_id .st-testimonial-company { color: $company\_color~~; }"; |
  |  | 1386 | echo "#st-".esc\_attr($r\_id)." .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent ".esc\_attr($bg\_color)."; }"; |
  |  | 1387 | } |
  |  | 1388 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-title { color: ".esc\_attr($title\_color)."; }"; |
  |  | 1389 | echo "#st-".esc\_attr($r\_id)." .slick-prev:before, #st-".esc\_attr($r\_id)." .slick-next:before { color: ".esc\_attr($arrows\_color)."; }"; |
  |  | 1390 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-company { color: ".esc\_attr($company\_color)."; }"; |
  | 1392 | 1391 | echo "</style>"; |
  | 1393 | 1392 | wp\_reset\_postdata(); |
* ## [stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt")

  | [r3138630](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3138630#L4 "Show revision 3138630 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt?rev=3159818#L4 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 3.5 |
  | 5 | 5 | Tested up to: 6.6 |
  | 6 |  | Stable tag: 3.3.~~1~~ |
  |  | 6 | Stable tag: 3.3.2 |
  | 7 | 7 | License: GPLv3 |
  | 8 | 8 | License URI: https://www.gnu.org/licenses/gpl-3.0.html |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3138630#L178) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt?rev=3159818#L178) |  |
  | 178 | 178 | == Changelog == |
  | 179 | 179 |  |
  |  | 180 | = 3.3.2 = |
  |  | 181 | JavaScript bug fixed |
  |  | 182 |  |
  | 180 | 183 | = 3.3.1 = |
  | 181 | 184 | Added plugin recommendations |
* ## [stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php")

  | [r3135349](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3135349#L7 "Show revision 3135349 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php?rev=3159818#L7 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Author: Premio |
  | 8 | 8 | Author URI: https://premio.io/downloads/stars-testimonials/ |
  | 9 |  | Version: 3.3.~~1~~ |
  |  | 9 | Version: 3.3.2 |
  | 10 | 10 | License: GPL2 |
  | 11 | 11 | Text Domain: stars-testimonials |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3135349#L21) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php?rev=3159818#L21) |  |
  | 21 | 21 | define('TESTIMONIAL\_PLUGIN\_BASE', plugin\_basename( WCP\_TESTIMONIAL\_\_FILE\_\_ ) ); |
  | 22 | 22 | define('TESTIMONIAL\_PLUGIN\_URL', plugins\_url('/', \_\_FILE\_\_) ); |
  | 23 |  | define('PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION', '3.3.~~1~~'); |
  |  | 23 | define('PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION', '3.3.2'); |
  | 24 | 24 |  |
  | 25 | 25 | require 'plugin.class.php'; |
* ## [stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en\_US.po](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po")

  | [r2831148](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po?rev=2831148#L617 "Show revision 2831148 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po?rev=3159818#L617 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 617 | 617 |  |
  | 618 | 618 | #: plugin.class.php:1020 |
  | 619 |  | msgid "Test~~o~~monial Categories" |
  |  | 619 | msgid "Testimonial Categories" |
  | 620 | 620 | msgstr "" |
  | 621 | 621 |  |
* ## [stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot")

  | [r2831148](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot?rev=2831148#L618 "Show revision 2831148 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot?rev=3159818#L618 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 618 | 618 |  |
  | 619 | 619 | #: plugin.class.php:1020 |
  | 620 |  | msgid "Test~~o~~monial Categories" |
  |  | 620 | msgid "Testimonial Categories" |
  | 621 | 621 | msgstr "" |
  | 622 | 622 |  |
* ## [stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php")

  | [r3055821](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1036 "Show revision 3055821 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1036 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 1036 | 1036 | 'add\_new\_item'      => \_\_( 'Add New Category', 'stars-testimonials' ), |
  | 1037 | 1037 | 'new\_item\_name'     => \_\_( 'New Category Name', 'stars-testimonials' ), |
  | 1038 |  | 'menu\_name'         => \_\_( 'Test~~o~~monial Categories', 'stars-testimonials' ), |
  |  | 1038 | 'menu\_name'         => \_\_( 'Testimonial Categories', 'stars-testimonials' ), |
  | 1039 | 1039 | ); |
  | 1040 | 1040 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1197) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1197) |  |
  | 1197 | 1197 | case 'grid': |
  | 1198 | 1198 | $row\_class = 'grid'; |
  | 1199 |  | $column\_class = 'col-1-'.~~$cols~~; |
  |  | 1199 | $column\_class = 'col-1-'.esc\_attr($cols); |
  | 1200 | 1200 | break; |
  | 1201 | 1201 | default: |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1206) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1206) |  |
  | 1206 | 1206 | $args = array( |
  | 1207 | 1207 | 'post\_type'   => 'stars\_testimonial', |
  | 1208 |  | 'posts\_per\_page'   ~~=> $total~~, |
  | 1209 |  | 'order'               => ~~$order~~, |
  | 1210 |  | 'orderby'             => ~~$orderby~~, |
  |  | 1208 | 'posts\_per\_page'      => esc\_attr($total), |
  |  | 1209 | 'order'               => esc\_attr($order), |
  |  | 1210 | 'orderby'             => esc\_attr($orderby), |
  | 1211 | 1211 | ); |
  | 1212 | 1212 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1217) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1217) |  |
  | 1217 | 1217 | 'taxonomy'         => 'stars\_testimonial\_cat', |
  | 1218 | 1218 | 'field'            => 'id', |
  | 1219 |  | 'terms'            => explode(',', ~~$cats~~), |
  |  | 1219 | 'terms'            => explode(',', esc\_attr($cats)), |
  | 1220 | 1220 | 'include\_children' => true, |
  | 1221 | 1221 | 'operator'         => 'IN' |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1229) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1229) |  |
  | 1229 | 1229 |  |
  | 1230 | 1230 | if ( $query\_testimonials->have\_posts() ) { |
  | 1231 |  | echo '<div class="stars-testimonials premio-testimonials-'.$type.'" id="st-'.$r\_id.'">'; |
  | 1232 |  | $settingString = ""; |
  | 1233 |  | echo '<div class="premio-testimonials-content '.$row\_class.'" '.$data\_attr.' '.$settingString.'>'; |
  |  | 1231 | echo '<div class="stars-testimonials premio-testimonials-'.$type.'" id="st-'.esc\_attr($r\_id).'">'; |
  |  | 1232 | echo '<div class="premio-testimonials-content '.esc\_attr($row\_class).'" '.esc\_attr($data\_attr).'>'; |
  | 1234 | 1233 |  |
  | 1235 | 1234 | while ( $query\_testimonials->have\_posts() ) { |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1238) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1237) |  |
  | 1238 | 1237 | $url = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_url', true ); |
  | 1239 | 1238 | $stars = get\_post\_meta( get\_the\_id(), 'testimonial\_stars', true ); |
  | 1240 |  | echo '<div class="pre-testimonials-content '.~~$column\_class~~.'">'; |
  | 1241 |  | include 'templates/style'.~~$style~~.'.php'; |
  |  | 1239 | echo '<div class="pre-testimonials-content '.esc\_attr($column\_class).'">'; |
  |  | 1240 | include 'templates/style'.esc\_attr($style).'.php'; |
  | 1242 | 1241 | echo '</div>'; |
  | 1243 | 1242 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1247) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1246) |  |
  | 1247 | 1246 | echo '</div>'; |
  | 1248 | 1247 | if($result->font\_family != "") { |
  | 1249 |  | echo '<link href="https://fonts.googleapis.com/css?family='.urlencode(~~$result->font\_family~~).'" rel="stylesheet" tyle="text/css">'; |
  |  | 1248 | echo '<link href="https://fonts.googleapis.com/css?family='.urlencode(esc\_attr($result->font\_family)).'" rel="stylesheet" tyle="text/css">'; |
  | 1250 | 1249 | } |
  | 1251 | 1250 | echo "<style>"; |
  | 1252 | 1251 | if($stars\_color != "") |
  | 1253 |  | echo "#st-~~$r\_id .st-rating { color:  #$stars\_color~~; }"; |
  |  | 1252 | echo "#st-".esc\_attr($r\_id)." .st-rating { color:  #".esc\_attr($stars\_color)."; }"; |
  | 1254 | 1253 | if($text\_color != "") |
  | 1255 |  | echo "#st-~~$r\_id .st-testimonial-content { color:  #$text\_color~~; }"; |
  |  | 1254 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content { color:  #".esc\_attr($text\_color)."; }"; |
  | 1256 | 1255 | if($text\_color != "") |
  | 1257 |  | echo "#st-~~$r\_id .st-testimonial-content p { color:  #$text\_color~~; }"; |
  |  | 1256 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content p { color:  #".esc\_attr($text\_color)."; }"; |
  | 1258 | 1257 | if($bg\_color != "") |
  | 1259 |  | echo "#st-~~$r\_id .st-testimonial-bg { background-color: #$bg\_color~~; }"; |
  |  | 1258 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-bg { background-color: #".esc\_attr($bg\_color)."; }"; |
  | 1260 | 1259 | if($bg\_color != "") |
  | 1261 |  | echo "#st-~~$r\_id .style7 { border-bottom-color: #$bg\_color~~; }"; |
  |  | 1260 | echo "#st-".esc\_attr($r\_id)." .style7 { border-bottom-color: #".esc\_attr($bg\_color)."; }"; |
  | 1262 | 1261 | if($bg\_color != "") |
  | 1263 |  | echo "#st-~~$r\_id .style7::before { background-color: #$bg\_color~~; }"; |
  |  | 1262 | echo "#st-".esc\_attr($r\_id)." .style7::before { background-color: #".esc\_attr($bg\_color)."; }"; |
  | 1264 | 1263 | if ($bg\_color != '') { |
  | 1265 |  | echo "#st-~~$r\_id .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent #$bg\_color~~; }"; |
  |  | 1264 | echo "#st-".esc\_attr($r\_id)." .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent #".esc\_attr($bg\_color)."; }"; |
  | 1266 | 1265 | } |
  | 1267 | 1266 | if($title\_color != "") |
  | 1268 |  | echo "#st-~~$r\_id .st-testimonial-title { color: #$title\_color~~; }"; |
  |  | 1267 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-title { color: #".esc\_attr($title\_color)."; }"; |
  | 1269 | 1268 | if($company\_color != "") |
  | 1270 |  | echo "#st-~~$r\_id .st-testimonial-company { color: #$company\_color~~; }"; |
  |  | 1269 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-company { color: #".esc\_attr($company\_color)."; }"; |
  | 1271 | 1270 | if($result->font\_family != "") { |
  | 1272 |  | echo "#st-~~$r\_id figure, #st-$r\_id  blockquote{font-family:{$result->font\_family}~~}"; |
  |  | 1271 | echo "#st-".esc\_attr($r\_id)." figure, #st-".esc\_attr($r\_id)."  blockquote{font-family:".esc\_attr($result->font\_family)."}"; |
  | 1273 | 1272 | } |
  | 1274 | 1273 | echo "</style>"; |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1306) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1305) |  |
  | 1306 | 1305 | case 'grid': |
  | 1307 | 1306 | $row\_class = 'grid'; |
  | 1308 |  | $column\_class = 'col-1-'.~~$cols~~; |
  |  | 1307 | $column\_class = 'col-1-'.esc\_attr($cols); |
  | 1309 | 1308 | break; |
  | 1310 | 1309 | case 'masonry': |
  | 1311 | 1310 | wp\_enqueue\_script( 'wcp-masonry-js', plugin\_dir\_url( \_\_FILE\_\_ ).'js/masonry.js', array('jquery', 'jquery-masonry') ); |
  | 1312 | 1311 | $row\_class = 'grid masonry-wrap'; |
  | 1313 |  | $column\_class = 'masonry-item col-1-'.~~$cols~~; |
  |  | 1312 | $column\_class = 'masonry-item col-1-'.esc\_attr($cols); |
  | 1314 | 1313 | break; |
  | 1315 | 1314 | case 'slider': |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1321) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1320) |  |
  | 1321 | 1320 | if (is\_array($atts)) { |
  | 1322 | 1321 | foreach ($atts as $p\_name => $p\_val) { |
  | 1323 |  | $data\_attr .= ' data-'.~~$p\_name.' = '.$p\_val~~; |
  |  | 1322 | $data\_attr .= ' data-'.esc\_attr($p\_name).' = '.esc\_attr($p\_val); |
  | 1324 | 1323 | } |
  | 1325 | 1324 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1332) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1331) |  |
  | 1332 | 1331 |  |
  | 1333 | 1332 | $args = array( |
  | 1334 |  | 'post\_type'   => 'stars\_testimonial', |
  | 1335 |  | 'posts\_per\_page'   ~~=> $total~~, |
  | 1336 |  | 'order'               => ~~$order~~, |
  | 1337 |  | 'orderby'             => ~~$orderby~~, |
  |  | 1333 | 'post\_type'           => 'stars\_testimonial', |
  |  | 1334 | 'posts\_per\_page'      => esc\_attr($total), |
  |  | 1335 | 'order'               => esc\_attr($order), |
  |  | 1336 | 'orderby'             => esc\_attr($orderby), |
  | 1338 | 1337 | ); |
  | 1339 | 1338 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1344) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1343) |  |
  | 1344 | 1343 | 'taxonomy'         => 'stars\_testimonial\_cat', |
  | 1345 | 1344 | 'field'            => 'id', |
  | 1346 |  | 'terms'            => explode(',', ~~$cats~~), |
  |  | 1345 | 'terms'            => explode(',', esc\_attr($cats)), |
  | 1347 | 1346 | 'include\_children' => true, |
  | 1348 | 1347 | 'operator'         => 'IN' |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1355) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1354) |  |
  | 1355 | 1354 |  |
  | 1356 | 1355 | if ( $query\_testimonials->have\_posts() ) { |
  | 1357 |  | echo '<div class="stars-testimonials premio-testimonials='.~~$type.'" id="st-'.$r\_id~~.'">'; |
  |  | 1356 | echo '<div class="stars-testimonials premio-testimonials='.esc\_attr($type).'" id="st-'.esc\_attr($r\_id).'">'; |
  | 1358 | 1357 | if($type == "slider") { |
  | 1359 | 1358 |  |
  | 1360 | 1359 | } |
  | 1361 |  | echo '<div class="premio-testimonials-content '.~~$row\_class~~.'" '.$data\_attr.'>'; |
  |  | 1360 | echo '<div class="premio-testimonials-content '.esc\_attr($row\_class).'" '.$data\_attr.'>'; |
  | 1362 | 1361 |  |
  | 1363 | 1362 | while ( $query\_testimonials->have\_posts() ) { |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1366) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1365) |  |
  | 1366 | 1365 | $url = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_url', true ); |
  | 1367 | 1366 | $stars = get\_post\_meta( get\_the\_id(), 'testimonial\_stars', true ); |
  | 1368 |  | echo '<div class="pre-testimonials-content '.~~$column\_class~~.'">'; |
  | 1369 |  | include 'templates/style'.~~$style~~.'.php'; |
  |  | 1367 | echo '<div class="pre-testimonials-content '.esc\_attr($column\_class).'">'; |
  |  | 1368 | include 'templates/style'.esc\_attr($style).'.php'; |
  | 1370 | 1369 | echo '</div>'; |
  | 1371 | 1370 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1375) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1374) |  |
  | 1375 | 1374 | echo '</div>'; |
  | 1376 | 1375 | echo "<style>"; |
  | 1377 |  | echo "#st-~~$r\_id .st-rating { color:  $stars\_color~~; }"; |
  | 1378 |  | echo "#st-~~$r\_id .st-testimonial-content { color:  $text\_color~~; }"; |
  | 1379 |  | echo "#st-~~$r\_id .st-testimonial-content p { color:  $text\_color~~; }"; |
  | 1380 |  | echo "#st-~~$r\_id .st-testimonial-bg { background-color: $bg\_color~~; }"; |
  | 1381 |  | echo "#st-~~$r\_id .style1 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1382 |  | echo "#st-~~$r\_id .style3 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1383 |  | echo "#st-~~$r\_id .style10 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1384 |  | echo "#st-~~$r\_id .style7 { border-bottom-color: $bg\_color~~; }"; |
  | 1385 |  | echo "#st-~~$r\_id .style7::before { background-color: $bg\_color~~; }"; |
  |  | 1376 | echo "#st-".esc\_attr($r\_id)." .st-rating { color:  ".esc\_attr($stars\_color)."; }"; |
  |  | 1377 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content { color:  ".esc\_attr($text\_color)."; }"; |
  |  | 1378 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content p { color:  ".esc\_attr($text\_color)."; }"; |
  |  | 1379 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-bg { background-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1380 | echo "#st-".esc\_attr($r\_id)." .style1 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1381 | echo "#st-".esc\_attr($r\_id)." .style3 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1382 | echo "#st-".esc\_attr($r\_id)." .style10 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1383 | echo "#st-".esc\_attr($r\_id)." .style7 { border-bottom-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1384 | echo "#st-".esc\_attr($r\_id)." .style7::before { background-color: ".esc\_attr($bg\_color)."; }"; |
  | 1386 | 1385 | if ($bg\_color != '') { |
  | 1387 |  | echo "#st-~~$r\_id .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent $bg\_color~~; }"; |
  | 1388 |  | } |
  | 1389 |  | echo "#st-~~$r\_id .st-testimonial-title { color: $title\_color~~; }"; |
  | 1390 |  | echo "#st-~~$r\_id .slick-prev:before, #st-$r\_id .slick-next:before { color: $arrows\_color~~; }"; |
  | 1391 |  | echo "#st-~~$r\_id .st-testimonial-company { color: $company\_color~~; }"; |
  |  | 1386 | echo "#st-".esc\_attr($r\_id)." .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent ".esc\_attr($bg\_color)."; }"; |
  |  | 1387 | } |
  |  | 1388 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-title { color: ".esc\_attr($title\_color)."; }"; |
  |  | 1389 | echo "#st-".esc\_attr($r\_id)." .slick-prev:before, #st-".esc\_attr($r\_id)." .slick-next:before { color: ".esc\_attr($arrows\_color)."; }"; |
  |  | 1390 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-company { color: ".esc\_attr($company\_color)."; }"; |
  | 1392 | 1391 | echo "</style>"; |
  | 1393 | 1392 | wp\_reset\_postdata(); |
* ## [stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt")

  | [r3138630](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3138630#L4 "Show revision 3138630 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3159818#L4 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 3.5 |
  | 5 | 5 | Tested up to: 6.6 |
  | 6 |  | Stable tag: 3.3.~~1~~ |
  |  | 6 | Stable tag: 3.3.2 |
  | 7 | 7 | License: GPLv3 |
  | 8 | 8 | License URI: https://www.gnu.org/licenses/gpl-3.0.html |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3138630#L178) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3159818#L178) |  |
  | 178 | 178 | == Changelog == |
  | 179 | 179 |  |
  |  | 180 | = 3.3.2 = |
  |  | 181 | JavaScript bug fixed |
  |  | 182 |  |
  | 180 | 183 | = 3.3.1 = |
  | 181 | 184 | Added plugin recommendations |
* ## [stars-testimonials-with-slider-and-masonry-grid/trunk/st.php](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/trunk/st.php")

  | [r3135349](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3135349#L7 "Show revision 3135349 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3159818#L7 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Author: Premio |
  | 8 | 8 | Author URI: https://premio.io/downloads/stars-testimonials/ |
  | 9 |  | Version: 3.3.~~1~~ |
  |  | 9 | Version: 3.3.2 |
  | 10 | 10 | License: GPL2 |
  | 11 | 11 | Text Domain: stars-testimonials |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3135349#L21) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3159818#L21) |  |
  | 21 | 21 | define('TESTIMONIAL\_PLUGIN\_BASE', plugin\_basename( WCP\_TESTIMONIAL\_\_FILE\_\_ ) ); |
  | 22 | 22 | define('TESTIMONIAL\_PLUGIN\_URL', plugins\_url('/', \_\_FILE\_\_) ); |
  | 23 |  | define('PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION', '3.3.~~1~~'); |
  |  | 23 | define('PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION', '3.3.2'); |
  | 24 | 24 |  |
  | 25 | 25 | require 'plugin.class.php'; |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3159818)
* [Zip Archive](?format=zip&new=3159818)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_f550f20f_20250111_024518.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Stars Testimonials <= 3.3.1 - Authenticated (Contributor+) Stored Cross-Site Scripting via stars\_testimonials Shortcode

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Stars Testimonials <= 3.3.1 - Authenticated (Contributor+) Stored Cross-Site Scripting via stars\_testimonials Shortcode

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-8989](https://www.cve.org/CVERecord?id=CVE-2024-8989) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | September 30, 2024 |
| Last Updated | October 1, 2024 |
| Researcher | [Peter Thaleikis](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/spek) |

### Description

The Free Responsive Testimonials, Social Proof Reviews, and Customer Reviews – Stars Testimonials plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the plugin's stars\_testimonials shortcode in all versions up to, and including, 3.3.1 due to insufficient input sanitization and output escaping on user supplied attributes. This makes it possible for authenticated attackers, with contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php#L1281)
* [wordpress.org](https://wordpress.org/plugins/stars-testimonials-with-slider-and-masonry-grid/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3159818/#file8)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3159818/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fstars-testimonials-with-slider-and-masonry-grid%2Fstars-testimonials-331-authenticated-contributor-stored-cross-site-scripting-via-stars-testimonials-shortcode&t=Stars%20Testimonials%20%3C%3D%203.3.1%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20stars_testimonials%20Shortcode "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fstars-testimonials-with-slider-and-masonry-grid%2Fstars-testimonials-331-authenticated-contributor-stored-cross-site-scripting-via-stars-testimonials-shortcode&text=Stars%20Testimonials%20%3C%3D%203.3.1%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20stars_testimonials%20Shortcode "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fstars-testimonials-with-slider-and-masonry-grid%2Fstars-testimonials-331-authenticated-contributor-stored-cross-site-scripting-via-stars-testimonials-shortcode "LinkedIn")
Email

## Vulnerability Details for Free Responsive Testimonials, Social Proof Reviews, and Customer Reviews – Stars Testimonials

#### [Free Responsive Testimonials, Social Proof Reviews, and Customer Reviews – Stars Testimonials](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/stars-testimonials-with-slider-and-masonry-grid)

| Software Type | Plugin |
| --- | --- |
| Software Slug | stars-testimonials-with-slider-and-masonry-grid [(view on wordpress.org)](https://wordpress.org/plugins/stars-testimonials-with-slider-and-masonry-grid) |
| Patched? | Yes |
| Remediation | Update to version 3.3.2, or a newer patched version |
| Affected Version | * <= 3.3.1 |
| Patched Version | * 3.3.2 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_c5b6e6cb_20250111_024516.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3159818)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3159817 "Changeset 3159817")
* [Next Changeset](/changeset/3159819 "Changeset 3159819") →

---

# Changeset 3159818

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
09/30/2024 12:00:17 PM
([3 months](/timeline?from=2024-09-30T12%3A00%3A17Z&precision=second "See timeline at 09/30/2024 12:00:17 PM") ago)

Author:
premiocommit
Message:

Update to version 3.3.2 from GitHub

Location:
[stars-testimonials-with-slider-and-masonry-grid](/browser/stars-testimonials-with-slider-and-masonry-grid?rev=3159818)
Files:

10 edited
1 copied

* [tags/3.3.2](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2?rev=3159818 "Show entry in browser")
  (copied)
  *(copied from [stars-testimonials-with-slider-and-masonry-grid/trunk](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk?rev=3138630 "Show original file (revision 3159817)"))*
* [tags/3.3.2/languages/stars-testimonials-en\_US.po](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials-en_US.po?rev=3159818 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [tags/3.3.2/languages/stars-testimonials.pot](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials.pot?rev=3159818 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [tags/3.3.2/plugin.class.php](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818 "Show entry in browser")
  (modified)
  ([14 diffs](#file3 "Show differences"))
* [tags/3.3.2/readme.txt](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt?rev=3159818 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [tags/3.3.2/st.php](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php?rev=3159818 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [trunk/languages/stars-testimonials-en\_US.po](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po?rev=3159818 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [trunk/languages/stars-testimonials.pot](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot?rev=3159818 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [trunk/plugin.class.php](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818 "Show entry in browser")
  (modified)
  ([14 diffs](#file8 "Show differences"))
* [trunk/readme.txt](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3159818 "Show entry in browser")
  (modified)
  ([2 diffs](#file9 "Show differences"))
* [trunk/st.php](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3159818 "Show entry in browser")
  (modified)
  ([2 diffs](#file10 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials-en\_US.po](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials-en_US.po "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials-en_US.po")

  | [r2831148](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po?rev=2831148#L617 "Show revision 2831148 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials-en_US.po?rev=3159818#L617 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 617 | 617 |  |
  | 618 | 618 | #: plugin.class.php:1020 |
  | 619 |  | msgid "Test~~o~~monial Categories" |
  |  | 619 | msgid "Testimonial Categories" |
  | 620 | 620 | msgstr "" |
  | 621 | 621 |  |
* ## [stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials.pot](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials.pot "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials.pot")

  | [r2831148](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot?rev=2831148#L618 "Show revision 2831148 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/languages/stars-testimonials.pot?rev=3159818#L618 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 618 | 618 |  |
  | 619 | 619 | #: plugin.class.php:1020 |
  | 620 |  | msgid "Test~~o~~monial Categories" |
  |  | 620 | msgid "Testimonial Categories" |
  | 621 | 621 | msgstr "" |
  | 622 | 622 |  |
* ## [stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php")

  | [r3055821](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1036 "Show revision 3055821 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1036 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 1036 | 1036 | 'add\_new\_item'      => \_\_( 'Add New Category', 'stars-testimonials' ), |
  | 1037 | 1037 | 'new\_item\_name'     => \_\_( 'New Category Name', 'stars-testimonials' ), |
  | 1038 |  | 'menu\_name'         => \_\_( 'Test~~o~~monial Categories', 'stars-testimonials' ), |
  |  | 1038 | 'menu\_name'         => \_\_( 'Testimonial Categories', 'stars-testimonials' ), |
  | 1039 | 1039 | ); |
  | 1040 | 1040 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1197) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1197) |  |
  | 1197 | 1197 | case 'grid': |
  | 1198 | 1198 | $row\_class = 'grid'; |
  | 1199 |  | $column\_class = 'col-1-'.~~$cols~~; |
  |  | 1199 | $column\_class = 'col-1-'.esc\_attr($cols); |
  | 1200 | 1200 | break; |
  | 1201 | 1201 | default: |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1206) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1206) |  |
  | 1206 | 1206 | $args = array( |
  | 1207 | 1207 | 'post\_type'   => 'stars\_testimonial', |
  | 1208 |  | 'posts\_per\_page'   ~~=> $total~~, |
  | 1209 |  | 'order'               => ~~$order~~, |
  | 1210 |  | 'orderby'             => ~~$orderby~~, |
  |  | 1208 | 'posts\_per\_page'      => esc\_attr($total), |
  |  | 1209 | 'order'               => esc\_attr($order), |
  |  | 1210 | 'orderby'             => esc\_attr($orderby), |
  | 1211 | 1211 | ); |
  | 1212 | 1212 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1217) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1217) |  |
  | 1217 | 1217 | 'taxonomy'         => 'stars\_testimonial\_cat', |
  | 1218 | 1218 | 'field'            => 'id', |
  | 1219 |  | 'terms'            => explode(',', ~~$cats~~), |
  |  | 1219 | 'terms'            => explode(',', esc\_attr($cats)), |
  | 1220 | 1220 | 'include\_children' => true, |
  | 1221 | 1221 | 'operator'         => 'IN' |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1229) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1229) |  |
  | 1229 | 1229 |  |
  | 1230 | 1230 | if ( $query\_testimonials->have\_posts() ) { |
  | 1231 |  | echo '<div class="stars-testimonials premio-testimonials-'.$type.'" id="st-'.$r\_id.'">'; |
  | 1232 |  | $settingString = ""; |
  | 1233 |  | echo '<div class="premio-testimonials-content '.$row\_class.'" '.$data\_attr.' '.$settingString.'>'; |
  |  | 1231 | echo '<div class="stars-testimonials premio-testimonials-'.$type.'" id="st-'.esc\_attr($r\_id).'">'; |
  |  | 1232 | echo '<div class="premio-testimonials-content '.esc\_attr($row\_class).'" '.esc\_attr($data\_attr).'>'; |
  | 1234 | 1233 |  |
  | 1235 | 1234 | while ( $query\_testimonials->have\_posts() ) { |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1238) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1237) |  |
  | 1238 | 1237 | $url = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_url', true ); |
  | 1239 | 1238 | $stars = get\_post\_meta( get\_the\_id(), 'testimonial\_stars', true ); |
  | 1240 |  | echo '<div class="pre-testimonials-content '.~~$column\_class~~.'">'; |
  | 1241 |  | include 'templates/style'.~~$style~~.'.php'; |
  |  | 1239 | echo '<div class="pre-testimonials-content '.esc\_attr($column\_class).'">'; |
  |  | 1240 | include 'templates/style'.esc\_attr($style).'.php'; |
  | 1242 | 1241 | echo '</div>'; |
  | 1243 | 1242 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1247) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1246) |  |
  | 1247 | 1246 | echo '</div>'; |
  | 1248 | 1247 | if($result->font\_family != "") { |
  | 1249 |  | echo '<link href="https://fonts.googleapis.com/css?family='.urlencode(~~$result->font\_family~~).'" rel="stylesheet" tyle="text/css">'; |
  |  | 1248 | echo '<link href="https://fonts.googleapis.com/css?family='.urlencode(esc\_attr($result->font\_family)).'" rel="stylesheet" tyle="text/css">'; |
  | 1250 | 1249 | } |
  | 1251 | 1250 | echo "<style>"; |
  | 1252 | 1251 | if($stars\_color != "") |
  | 1253 |  | echo "#st-~~$r\_id .st-rating { color:  #$stars\_color~~; }"; |
  |  | 1252 | echo "#st-".esc\_attr($r\_id)." .st-rating { color:  #".esc\_attr($stars\_color)."; }"; |
  | 1254 | 1253 | if($text\_color != "") |
  | 1255 |  | echo "#st-~~$r\_id .st-testimonial-content { color:  #$text\_color~~; }"; |
  |  | 1254 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content { color:  #".esc\_attr($text\_color)."; }"; |
  | 1256 | 1255 | if($text\_color != "") |
  | 1257 |  | echo "#st-~~$r\_id .st-testimonial-content p { color:  #$text\_color~~; }"; |
  |  | 1256 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content p { color:  #".esc\_attr($text\_color)."; }"; |
  | 1258 | 1257 | if($bg\_color != "") |
  | 1259 |  | echo "#st-~~$r\_id .st-testimonial-bg { background-color: #$bg\_color~~; }"; |
  |  | 1258 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-bg { background-color: #".esc\_attr($bg\_color)."; }"; |
  | 1260 | 1259 | if($bg\_color != "") |
  | 1261 |  | echo "#st-~~$r\_id .style7 { border-bottom-color: #$bg\_color~~; }"; |
  |  | 1260 | echo "#st-".esc\_attr($r\_id)." .style7 { border-bottom-color: #".esc\_attr($bg\_color)."; }"; |
  | 1262 | 1261 | if($bg\_color != "") |
  | 1263 |  | echo "#st-~~$r\_id .style7::before { background-color: #$bg\_color~~; }"; |
  |  | 1262 | echo "#st-".esc\_attr($r\_id)." .style7::before { background-color: #".esc\_attr($bg\_color)."; }"; |
  | 1264 | 1263 | if ($bg\_color != '') { |
  | 1265 |  | echo "#st-~~$r\_id .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent #$bg\_color~~; }"; |
  |  | 1264 | echo "#st-".esc\_attr($r\_id)." .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent #".esc\_attr($bg\_color)."; }"; |
  | 1266 | 1265 | } |
  | 1267 | 1266 | if($title\_color != "") |
  | 1268 |  | echo "#st-~~$r\_id .st-testimonial-title { color: #$title\_color~~; }"; |
  |  | 1267 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-title { color: #".esc\_attr($title\_color)."; }"; |
  | 1269 | 1268 | if($company\_color != "") |
  | 1270 |  | echo "#st-~~$r\_id .st-testimonial-company { color: #$company\_color~~; }"; |
  |  | 1269 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-company { color: #".esc\_attr($company\_color)."; }"; |
  | 1271 | 1270 | if($result->font\_family != "") { |
  | 1272 |  | echo "#st-~~$r\_id figure, #st-$r\_id  blockquote{font-family:{$result->font\_family}~~}"; |
  |  | 1271 | echo "#st-".esc\_attr($r\_id)." figure, #st-".esc\_attr($r\_id)."  blockquote{font-family:".esc\_attr($result->font\_family)."}"; |
  | 1273 | 1272 | } |
  | 1274 | 1273 | echo "</style>"; |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1306) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1305) |  |
  | 1306 | 1305 | case 'grid': |
  | 1307 | 1306 | $row\_class = 'grid'; |
  | 1308 |  | $column\_class = 'col-1-'.~~$cols~~; |
  |  | 1307 | $column\_class = 'col-1-'.esc\_attr($cols); |
  | 1309 | 1308 | break; |
  | 1310 | 1309 | case 'masonry': |
  | 1311 | 1310 | wp\_enqueue\_script( 'wcp-masonry-js', plugin\_dir\_url( \_\_FILE\_\_ ).'js/masonry.js', array('jquery', 'jquery-masonry') ); |
  | 1312 | 1311 | $row\_class = 'grid masonry-wrap'; |
  | 1313 |  | $column\_class = 'masonry-item col-1-'.~~$cols~~; |
  |  | 1312 | $column\_class = 'masonry-item col-1-'.esc\_attr($cols); |
  | 1314 | 1313 | break; |
  | 1315 | 1314 | case 'slider': |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1321) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1320) |  |
  | 1321 | 1320 | if (is\_array($atts)) { |
  | 1322 | 1321 | foreach ($atts as $p\_name => $p\_val) { |
  | 1323 |  | $data\_attr .= ' data-'.~~$p\_name.' = '.$p\_val~~; |
  |  | 1322 | $data\_attr .= ' data-'.esc\_attr($p\_name).' = '.esc\_attr($p\_val); |
  | 1324 | 1323 | } |
  | 1325 | 1324 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1332) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1331) |  |
  | 1332 | 1331 |  |
  | 1333 | 1332 | $args = array( |
  | 1334 |  | 'post\_type'   => 'stars\_testimonial', |
  | 1335 |  | 'posts\_per\_page'   ~~=> $total~~, |
  | 1336 |  | 'order'               => ~~$order~~, |
  | 1337 |  | 'orderby'             => ~~$orderby~~, |
  |  | 1333 | 'post\_type'           => 'stars\_testimonial', |
  |  | 1334 | 'posts\_per\_page'      => esc\_attr($total), |
  |  | 1335 | 'order'               => esc\_attr($order), |
  |  | 1336 | 'orderby'             => esc\_attr($orderby), |
  | 1338 | 1337 | ); |
  | 1339 | 1338 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1344) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1343) |  |
  | 1344 | 1343 | 'taxonomy'         => 'stars\_testimonial\_cat', |
  | 1345 | 1344 | 'field'            => 'id', |
  | 1346 |  | 'terms'            => explode(',', ~~$cats~~), |
  |  | 1345 | 'terms'            => explode(',', esc\_attr($cats)), |
  | 1347 | 1346 | 'include\_children' => true, |
  | 1348 | 1347 | 'operator'         => 'IN' |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1355) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1354) |  |
  | 1355 | 1354 |  |
  | 1356 | 1355 | if ( $query\_testimonials->have\_posts() ) { |
  | 1357 |  | echo '<div class="stars-testimonials premio-testimonials='.~~$type.'" id="st-'.$r\_id~~.'">'; |
  |  | 1356 | echo '<div class="stars-testimonials premio-testimonials='.esc\_attr($type).'" id="st-'.esc\_attr($r\_id).'">'; |
  | 1358 | 1357 | if($type == "slider") { |
  | 1359 | 1358 |  |
  | 1360 | 1359 | } |
  | 1361 |  | echo '<div class="premio-testimonials-content '.~~$row\_class~~.'" '.$data\_attr.'>'; |
  |  | 1360 | echo '<div class="premio-testimonials-content '.esc\_attr($row\_class).'" '.$data\_attr.'>'; |
  | 1362 | 1361 |  |
  | 1363 | 1362 | while ( $query\_testimonials->have\_posts() ) { |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1366) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1365) |  |
  | 1366 | 1365 | $url = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_url', true ); |
  | 1367 | 1366 | $stars = get\_post\_meta( get\_the\_id(), 'testimonial\_stars', true ); |
  | 1368 |  | echo '<div class="pre-testimonials-content '.~~$column\_class~~.'">'; |
  | 1369 |  | include 'templates/style'.~~$style~~.'.php'; |
  |  | 1367 | echo '<div class="pre-testimonials-content '.esc\_attr($column\_class).'">'; |
  |  | 1368 | include 'templates/style'.esc\_attr($style).'.php'; |
  | 1370 | 1369 | echo '</div>'; |
  | 1371 | 1370 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1375) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/plugin.class.php?rev=3159818#L1374) |  |
  | 1375 | 1374 | echo '</div>'; |
  | 1376 | 1375 | echo "<style>"; |
  | 1377 |  | echo "#st-~~$r\_id .st-rating { color:  $stars\_color~~; }"; |
  | 1378 |  | echo "#st-~~$r\_id .st-testimonial-content { color:  $text\_color~~; }"; |
  | 1379 |  | echo "#st-~~$r\_id .st-testimonial-content p { color:  $text\_color~~; }"; |
  | 1380 |  | echo "#st-~~$r\_id .st-testimonial-bg { background-color: $bg\_color~~; }"; |
  | 1381 |  | echo "#st-~~$r\_id .style1 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1382 |  | echo "#st-~~$r\_id .style3 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1383 |  | echo "#st-~~$r\_id .style10 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1384 |  | echo "#st-~~$r\_id .style7 { border-bottom-color: $bg\_color~~; }"; |
  | 1385 |  | echo "#st-~~$r\_id .style7::before { background-color: $bg\_color~~; }"; |
  |  | 1376 | echo "#st-".esc\_attr($r\_id)." .st-rating { color:  ".esc\_attr($stars\_color)."; }"; |
  |  | 1377 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content { color:  ".esc\_attr($text\_color)."; }"; |
  |  | 1378 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content p { color:  ".esc\_attr($text\_color)."; }"; |
  |  | 1379 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-bg { background-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1380 | echo "#st-".esc\_attr($r\_id)." .style1 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1381 | echo "#st-".esc\_attr($r\_id)." .style3 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1382 | echo "#st-".esc\_attr($r\_id)." .style10 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1383 | echo "#st-".esc\_attr($r\_id)." .style7 { border-bottom-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1384 | echo "#st-".esc\_attr($r\_id)." .style7::before { background-color: ".esc\_attr($bg\_color)."; }"; |
  | 1386 | 1385 | if ($bg\_color != '') { |
  | 1387 |  | echo "#st-~~$r\_id .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent $bg\_color~~; }"; |
  | 1388 |  | } |
  | 1389 |  | echo "#st-~~$r\_id .st-testimonial-title { color: $title\_color~~; }"; |
  | 1390 |  | echo "#st-~~$r\_id .slick-prev:before, #st-$r\_id .slick-next:before { color: $arrows\_color~~; }"; |
  | 1391 |  | echo "#st-~~$r\_id .st-testimonial-company { color: $company\_color~~; }"; |
  |  | 1386 | echo "#st-".esc\_attr($r\_id)." .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent ".esc\_attr($bg\_color)."; }"; |
  |  | 1387 | } |
  |  | 1388 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-title { color: ".esc\_attr($title\_color)."; }"; |
  |  | 1389 | echo "#st-".esc\_attr($r\_id)." .slick-prev:before, #st-".esc\_attr($r\_id)." .slick-next:before { color: ".esc\_attr($arrows\_color)."; }"; |
  |  | 1390 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-company { color: ".esc\_attr($company\_color)."; }"; |
  | 1392 | 1391 | echo "</style>"; |
  | 1393 | 1392 | wp\_reset\_postdata(); |
* ## [stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt")

  | [r3138630](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3138630#L4 "Show revision 3138630 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt?rev=3159818#L4 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 3.5 |
  | 5 | 5 | Tested up to: 6.6 |
  | 6 |  | Stable tag: 3.3.~~1~~ |
  |  | 6 | Stable tag: 3.3.2 |
  | 7 | 7 | License: GPLv3 |
  | 8 | 8 | License URI: https://www.gnu.org/licenses/gpl-3.0.html |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3138630#L178) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/readme.txt?rev=3159818#L178) |  |
  | 178 | 178 | == Changelog == |
  | 179 | 179 |  |
  |  | 180 | = 3.3.2 = |
  |  | 181 | JavaScript bug fixed |
  |  | 182 |  |
  | 180 | 183 | = 3.3.1 = |
  | 181 | 184 | Added plugin recommendations |
* ## [stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php")

  | [r3135349](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3135349#L7 "Show revision 3135349 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php?rev=3159818#L7 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Author: Premio |
  | 8 | 8 | Author URI: https://premio.io/downloads/stars-testimonials/ |
  | 9 |  | Version: 3.3.~~1~~ |
  |  | 9 | Version: 3.3.2 |
  | 10 | 10 | License: GPL2 |
  | 11 | 11 | Text Domain: stars-testimonials |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3135349#L21) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/tags/3.3.2/st.php?rev=3159818#L21) |  |
  | 21 | 21 | define('TESTIMONIAL\_PLUGIN\_BASE', plugin\_basename( WCP\_TESTIMONIAL\_\_FILE\_\_ ) ); |
  | 22 | 22 | define('TESTIMONIAL\_PLUGIN\_URL', plugins\_url('/', \_\_FILE\_\_) ); |
  | 23 |  | define('PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION', '3.3.~~1~~'); |
  |  | 23 | define('PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION', '3.3.2'); |
  | 24 | 24 |  |
  | 25 | 25 | require 'plugin.class.php'; |
* ## [stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en\_US.po](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po")

  | [r2831148](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po?rev=2831148#L617 "Show revision 2831148 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials-en_US.po?rev=3159818#L617 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 617 | 617 |  |
  | 618 | 618 | #: plugin.class.php:1020 |
  | 619 |  | msgid "Test~~o~~monial Categories" |
  |  | 619 | msgid "Testimonial Categories" |
  | 620 | 620 | msgstr "" |
  | 621 | 621 |  |
* ## [stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot")

  | [r2831148](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot?rev=2831148#L618 "Show revision 2831148 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/languages/stars-testimonials.pot?rev=3159818#L618 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 618 | 618 |  |
  | 619 | 619 | #: plugin.class.php:1020 |
  | 620 |  | msgid "Test~~o~~monial Categories" |
  |  | 620 | msgid "Testimonial Categories" |
  | 621 | 621 | msgstr "" |
  | 622 | 622 |  |
* ## [stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php")

  | [r3055821](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1036 "Show revision 3055821 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1036 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 1036 | 1036 | 'add\_new\_item'      => \_\_( 'Add New Category', 'stars-testimonials' ), |
  | 1037 | 1037 | 'new\_item\_name'     => \_\_( 'New Category Name', 'stars-testimonials' ), |
  | 1038 |  | 'menu\_name'         => \_\_( 'Test~~o~~monial Categories', 'stars-testimonials' ), |
  |  | 1038 | 'menu\_name'         => \_\_( 'Testimonial Categories', 'stars-testimonials' ), |
  | 1039 | 1039 | ); |
  | 1040 | 1040 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1197) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1197) |  |
  | 1197 | 1197 | case 'grid': |
  | 1198 | 1198 | $row\_class = 'grid'; |
  | 1199 |  | $column\_class = 'col-1-'.~~$cols~~; |
  |  | 1199 | $column\_class = 'col-1-'.esc\_attr($cols); |
  | 1200 | 1200 | break; |
  | 1201 | 1201 | default: |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1206) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1206) |  |
  | 1206 | 1206 | $args = array( |
  | 1207 | 1207 | 'post\_type'   => 'stars\_testimonial', |
  | 1208 |  | 'posts\_per\_page'   ~~=> $total~~, |
  | 1209 |  | 'order'               => ~~$order~~, |
  | 1210 |  | 'orderby'             => ~~$orderby~~, |
  |  | 1208 | 'posts\_per\_page'      => esc\_attr($total), |
  |  | 1209 | 'order'               => esc\_attr($order), |
  |  | 1210 | 'orderby'             => esc\_attr($orderby), |
  | 1211 | 1211 | ); |
  | 1212 | 1212 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1217) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1217) |  |
  | 1217 | 1217 | 'taxonomy'         => 'stars\_testimonial\_cat', |
  | 1218 | 1218 | 'field'            => 'id', |
  | 1219 |  | 'terms'            => explode(',', ~~$cats~~), |
  |  | 1219 | 'terms'            => explode(',', esc\_attr($cats)), |
  | 1220 | 1220 | 'include\_children' => true, |
  | 1221 | 1221 | 'operator'         => 'IN' |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1229) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1229) |  |
  | 1229 | 1229 |  |
  | 1230 | 1230 | if ( $query\_testimonials->have\_posts() ) { |
  | 1231 |  | echo '<div class="stars-testimonials premio-testimonials-'.$type.'" id="st-'.$r\_id.'">'; |
  | 1232 |  | $settingString = ""; |
  | 1233 |  | echo '<div class="premio-testimonials-content '.$row\_class.'" '.$data\_attr.' '.$settingString.'>'; |
  |  | 1231 | echo '<div class="stars-testimonials premio-testimonials-'.$type.'" id="st-'.esc\_attr($r\_id).'">'; |
  |  | 1232 | echo '<div class="premio-testimonials-content '.esc\_attr($row\_class).'" '.esc\_attr($data\_attr).'>'; |
  | 1234 | 1233 |  |
  | 1235 | 1234 | while ( $query\_testimonials->have\_posts() ) { |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1238) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1237) |  |
  | 1238 | 1237 | $url = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_url', true ); |
  | 1239 | 1238 | $stars = get\_post\_meta( get\_the\_id(), 'testimonial\_stars', true ); |
  | 1240 |  | echo '<div class="pre-testimonials-content '.~~$column\_class~~.'">'; |
  | 1241 |  | include 'templates/style'.~~$style~~.'.php'; |
  |  | 1239 | echo '<div class="pre-testimonials-content '.esc\_attr($column\_class).'">'; |
  |  | 1240 | include 'templates/style'.esc\_attr($style).'.php'; |
  | 1242 | 1241 | echo '</div>'; |
  | 1243 | 1242 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1247) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1246) |  |
  | 1247 | 1246 | echo '</div>'; |
  | 1248 | 1247 | if($result->font\_family != "") { |
  | 1249 |  | echo '<link href="https://fonts.googleapis.com/css?family='.urlencode(~~$result->font\_family~~).'" rel="stylesheet" tyle="text/css">'; |
  |  | 1248 | echo '<link href="https://fonts.googleapis.com/css?family='.urlencode(esc\_attr($result->font\_family)).'" rel="stylesheet" tyle="text/css">'; |
  | 1250 | 1249 | } |
  | 1251 | 1250 | echo "<style>"; |
  | 1252 | 1251 | if($stars\_color != "") |
  | 1253 |  | echo "#st-~~$r\_id .st-rating { color:  #$stars\_color~~; }"; |
  |  | 1252 | echo "#st-".esc\_attr($r\_id)." .st-rating { color:  #".esc\_attr($stars\_color)."; }"; |
  | 1254 | 1253 | if($text\_color != "") |
  | 1255 |  | echo "#st-~~$r\_id .st-testimonial-content { color:  #$text\_color~~; }"; |
  |  | 1254 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content { color:  #".esc\_attr($text\_color)."; }"; |
  | 1256 | 1255 | if($text\_color != "") |
  | 1257 |  | echo "#st-~~$r\_id .st-testimonial-content p { color:  #$text\_color~~; }"; |
  |  | 1256 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content p { color:  #".esc\_attr($text\_color)."; }"; |
  | 1258 | 1257 | if($bg\_color != "") |
  | 1259 |  | echo "#st-~~$r\_id .st-testimonial-bg { background-color: #$bg\_color~~; }"; |
  |  | 1258 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-bg { background-color: #".esc\_attr($bg\_color)."; }"; |
  | 1260 | 1259 | if($bg\_color != "") |
  | 1261 |  | echo "#st-~~$r\_id .style7 { border-bottom-color: #$bg\_color~~; }"; |
  |  | 1260 | echo "#st-".esc\_attr($r\_id)." .style7 { border-bottom-color: #".esc\_attr($bg\_color)."; }"; |
  | 1262 | 1261 | if($bg\_color != "") |
  | 1263 |  | echo "#st-~~$r\_id .style7::before { background-color: #$bg\_color~~; }"; |
  |  | 1262 | echo "#st-".esc\_attr($r\_id)." .style7::before { background-color: #".esc\_attr($bg\_color)."; }"; |
  | 1264 | 1263 | if ($bg\_color != '') { |
  | 1265 |  | echo "#st-~~$r\_id .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent #$bg\_color~~; }"; |
  |  | 1264 | echo "#st-".esc\_attr($r\_id)." .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent #".esc\_attr($bg\_color)."; }"; |
  | 1266 | 1265 | } |
  | 1267 | 1266 | if($title\_color != "") |
  | 1268 |  | echo "#st-~~$r\_id .st-testimonial-title { color: #$title\_color~~; }"; |
  |  | 1267 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-title { color: #".esc\_attr($title\_color)."; }"; |
  | 1269 | 1268 | if($company\_color != "") |
  | 1270 |  | echo "#st-~~$r\_id .st-testimonial-company { color: #$company\_color~~; }"; |
  |  | 1269 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-company { color: #".esc\_attr($company\_color)."; }"; |
  | 1271 | 1270 | if($result->font\_family != "") { |
  | 1272 |  | echo "#st-~~$r\_id figure, #st-$r\_id  blockquote{font-family:{$result->font\_family}~~}"; |
  |  | 1271 | echo "#st-".esc\_attr($r\_id)." figure, #st-".esc\_attr($r\_id)."  blockquote{font-family:".esc\_attr($result->font\_family)."}"; |
  | 1273 | 1272 | } |
  | 1274 | 1273 | echo "</style>"; |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1306) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1305) |  |
  | 1306 | 1305 | case 'grid': |
  | 1307 | 1306 | $row\_class = 'grid'; |
  | 1308 |  | $column\_class = 'col-1-'.~~$cols~~; |
  |  | 1307 | $column\_class = 'col-1-'.esc\_attr($cols); |
  | 1309 | 1308 | break; |
  | 1310 | 1309 | case 'masonry': |
  | 1311 | 1310 | wp\_enqueue\_script( 'wcp-masonry-js', plugin\_dir\_url( \_\_FILE\_\_ ).'js/masonry.js', array('jquery', 'jquery-masonry') ); |
  | 1312 | 1311 | $row\_class = 'grid masonry-wrap'; |
  | 1313 |  | $column\_class = 'masonry-item col-1-'.~~$cols~~; |
  |  | 1312 | $column\_class = 'masonry-item col-1-'.esc\_attr($cols); |
  | 1314 | 1313 | break; |
  | 1315 | 1314 | case 'slider': |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1321) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1320) |  |
  | 1321 | 1320 | if (is\_array($atts)) { |
  | 1322 | 1321 | foreach ($atts as $p\_name => $p\_val) { |
  | 1323 |  | $data\_attr .= ' data-'.~~$p\_name.' = '.$p\_val~~; |
  |  | 1322 | $data\_attr .= ' data-'.esc\_attr($p\_name).' = '.esc\_attr($p\_val); |
  | 1324 | 1323 | } |
  | 1325 | 1324 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1332) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1331) |  |
  | 1332 | 1331 |  |
  | 1333 | 1332 | $args = array( |
  | 1334 |  | 'post\_type'   => 'stars\_testimonial', |
  | 1335 |  | 'posts\_per\_page'   ~~=> $total~~, |
  | 1336 |  | 'order'               => ~~$order~~, |
  | 1337 |  | 'orderby'             => ~~$orderby~~, |
  |  | 1333 | 'post\_type'           => 'stars\_testimonial', |
  |  | 1334 | 'posts\_per\_page'      => esc\_attr($total), |
  |  | 1335 | 'order'               => esc\_attr($order), |
  |  | 1336 | 'orderby'             => esc\_attr($orderby), |
  | 1338 | 1337 | ); |
  | 1339 | 1338 |  |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1344) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1343) |  |
  | 1344 | 1343 | 'taxonomy'         => 'stars\_testimonial\_cat', |
  | 1345 | 1344 | 'field'            => 'id', |
  | 1346 |  | 'terms'            => explode(',', ~~$cats~~), |
  |  | 1345 | 'terms'            => explode(',', esc\_attr($cats)), |
  | 1347 | 1346 | 'include\_children' => true, |
  | 1348 | 1347 | 'operator'         => 'IN' |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1355) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1354) |  |
  | 1355 | 1354 |  |
  | 1356 | 1355 | if ( $query\_testimonials->have\_posts() ) { |
  | 1357 |  | echo '<div class="stars-testimonials premio-testimonials='.~~$type.'" id="st-'.$r\_id~~.'">'; |
  |  | 1356 | echo '<div class="stars-testimonials premio-testimonials='.esc\_attr($type).'" id="st-'.esc\_attr($r\_id).'">'; |
  | 1358 | 1357 | if($type == "slider") { |
  | 1359 | 1358 |  |
  | 1360 | 1359 | } |
  | 1361 |  | echo '<div class="premio-testimonials-content '.~~$row\_class~~.'" '.$data\_attr.'>'; |
  |  | 1360 | echo '<div class="premio-testimonials-content '.esc\_attr($row\_class).'" '.$data\_attr.'>'; |
  | 1362 | 1361 |  |
  | 1363 | 1362 | while ( $query\_testimonials->have\_posts() ) { |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1366) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1365) |  |
  | 1366 | 1365 | $url = get\_post\_meta( get\_the\_id(), 'testimonial\_company\_url', true ); |
  | 1367 | 1366 | $stars = get\_post\_meta( get\_the\_id(), 'testimonial\_stars', true ); |
  | 1368 |  | echo '<div class="pre-testimonials-content '.~~$column\_class~~.'">'; |
  | 1369 |  | include 'templates/style'.~~$style~~.'.php'; |
  |  | 1367 | echo '<div class="pre-testimonials-content '.esc\_attr($column\_class).'">'; |
  |  | 1368 | include 'templates/style'.esc\_attr($style).'.php'; |
  | 1370 | 1369 | echo '</div>'; |
  | 1371 | 1370 | } |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3055821#L1375) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/plugin.class.php?rev=3159818#L1374) |  |
  | 1375 | 1374 | echo '</div>'; |
  | 1376 | 1375 | echo "<style>"; |
  | 1377 |  | echo "#st-~~$r\_id .st-rating { color:  $stars\_color~~; }"; |
  | 1378 |  | echo "#st-~~$r\_id .st-testimonial-content { color:  $text\_color~~; }"; |
  | 1379 |  | echo "#st-~~$r\_id .st-testimonial-content p { color:  $text\_color~~; }"; |
  | 1380 |  | echo "#st-~~$r\_id .st-testimonial-bg { background-color: $bg\_color~~; }"; |
  | 1381 |  | echo "#st-~~$r\_id .style1 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1382 |  | echo "#st-~~$r\_id .style3 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1383 |  | echo "#st-~~$r\_id .style10 .arrow { border-top-color: $bg\_color~~; }"; |
  | 1384 |  | echo "#st-~~$r\_id .style7 { border-bottom-color: $bg\_color~~; }"; |
  | 1385 |  | echo "#st-~~$r\_id .style7::before { background-color: $bg\_color~~; }"; |
  |  | 1376 | echo "#st-".esc\_attr($r\_id)." .st-rating { color:  ".esc\_attr($stars\_color)."; }"; |
  |  | 1377 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content { color:  ".esc\_attr($text\_color)."; }"; |
  |  | 1378 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-content p { color:  ".esc\_attr($text\_color)."; }"; |
  |  | 1379 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-bg { background-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1380 | echo "#st-".esc\_attr($r\_id)." .style1 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1381 | echo "#st-".esc\_attr($r\_id)." .style3 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1382 | echo "#st-".esc\_attr($r\_id)." .style10 .arrow { border-top-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1383 | echo "#st-".esc\_attr($r\_id)." .style7 { border-bottom-color: ".esc\_attr($bg\_color)."; }"; |
  |  | 1384 | echo "#st-".esc\_attr($r\_id)." .style7::before { background-color: ".esc\_attr($bg\_color)."; }"; |
  | 1386 | 1385 | if ($bg\_color != '') { |
  | 1387 |  | echo "#st-~~$r\_id .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent $bg\_color~~; }"; |
  | 1388 |  | } |
  | 1389 |  | echo "#st-~~$r\_id .st-testimonial-title { color: $title\_color~~; }"; |
  | 1390 |  | echo "#st-~~$r\_id .slick-prev:before, #st-$r\_id .slick-next:before { color: $arrows\_color~~; }"; |
  | 1391 |  | echo "#st-~~$r\_id .st-testimonial-company { color: $company\_color~~; }"; |
  |  | 1386 | echo "#st-".esc\_attr($r\_id)." .st-style17 .st-testimonial-bg::before { border-color: transparent transparent transparent ".esc\_attr($bg\_color)."; }"; |
  |  | 1387 | } |
  |  | 1388 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-title { color: ".esc\_attr($title\_color)."; }"; |
  |  | 1389 | echo "#st-".esc\_attr($r\_id)." .slick-prev:before, #st-".esc\_attr($r\_id)." .slick-next:before { color: ".esc\_attr($arrows\_color)."; }"; |
  |  | 1390 | echo "#st-".esc\_attr($r\_id)." .st-testimonial-company { color: ".esc\_attr($company\_color)."; }"; |
  | 1392 | 1391 | echo "</style>"; |
  | 1393 | 1392 | wp\_reset\_postdata(); |
* ## [stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt")

  | [r3138630](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3138630#L4 "Show revision 3138630 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3159818#L4 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 3.5 |
  | 5 | 5 | Tested up to: 6.6 |
  | 6 |  | Stable tag: 3.3.~~1~~ |
  |  | 6 | Stable tag: 3.3.2 |
  | 7 | 7 | License: GPLv3 |
  | 8 | 8 | License URI: https://www.gnu.org/licenses/gpl-3.0.html |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3138630#L178) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/readme.txt?rev=3159818#L178) |  |
  | 178 | 178 | == Changelog == |
  | 179 | 179 |  |
  |  | 180 | = 3.3.2 = |
  |  | 181 | JavaScript bug fixed |
  |  | 182 |  |
  | 180 | 183 | = 3.3.1 = |
  | 181 | 184 | Added plugin recommendations |
* ## [stars-testimonials-with-slider-and-masonry-grid/trunk/st.php](/changeset/3159818/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php "Show the changeset 3159818 restricted to stars-testimonials-with-slider-and-masonry-grid/trunk/st.php")

  | [r3135349](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3135349#L7 "Show revision 3135349 of this file in browser") | [r3159818](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3159818#L7 "Show revision 3159818 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Author: Premio |
  | 8 | 8 | Author URI: https://premio.io/downloads/stars-testimonials/ |
  | 9 |  | Version: 3.3.~~1~~ |
  |  | 9 | Version: 3.3.2 |
  | 10 | 10 | License: GPL2 |
  | 11 | 11 | Text Domain: stars-testimonials |
  | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3135349#L21) | […](/browser/stars-testimonials-with-slider-and-masonry-grid/trunk/st.php?rev=3159818#L21) |  |
  | 21 | 21 | define('TESTIMONIAL\_PLUGIN\_BASE', plugin\_basename( WCP\_TESTIMONIAL\_\_FILE\_\_ ) ); |
  | 22 | 22 | define('TESTIMONIAL\_PLUGIN\_URL', plugins\_url('/', \_\_FILE\_\_) ); |
  | 23 |  | define('PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION', '3.3.~~1~~'); |
  |  | 23 | define('PREMIO\_TESTIMONIAL\_PLUGIN\_VERSION', '3.3.2'); |
  | 24 | 24 |  |
  | 25 | 25 | require 'plugin.class.php'; |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3159818)
* [Zip Archive](?format=zip&new=3159818)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from wordpress.org_9535d770_20250111_024517.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

Free Responsive Testimonials, Social Proof Reviews, and Customer Reviews – Stars Testimonials

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fstars-testimonials-with-slider-and-masonry-grid&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fstars-testimonials-with-slider-and-masonry-grid&locale=en_US)

Search plugins

![](https://ps.w.org/stars-testimonials-with-slider-and-masonry-grid/assets/banner-772x250.png?rev=3055896)
![](https://ps.w.org/stars-testimonials-with-slider-and-masonry-grid/assets/icon-128x128.png?rev=3055896)
# Free Responsive Testimonials, Social Proof Reviews, and Customer Reviews – Stars Testimonials

By [Premio](https://premio.io/downloads/stars-testimonials/)

[Download](https://downloads.wordpress.org/plugin/stars-testimonials-with-slider-and-masonry-grid.3.3.4.zip)
[Live Preview](https://wordpress.org/plugins/stars-testimonials-with-slider-and-masonry-grid/?preview=1)

* [Details](https://wordpress.org/plugins/stars-testimonials-with-slider-and-masonry-grid/#description)
* [Reviews](https://wordpress.org/plugins/stars-testimonials-with-slider-and-masonry-grid/#reviews)
* [Installation](https://wordpress.org/plugins/stars-testimonials-with-slider-and-masonry-grid/#installation)
* [Development](https://wordpress.org/plugins/stars-testimonials-with-slider-and-masonry-grid/#developers)

[Support](https://wordpress.org/support/plugin/stars-testimonials-with-slider-and-masonry-grid/)

## Description

Testimonials help consumers make purchasing decisions. If you’re not already using website testimonials for your brand, then it’s time to start! Most of your website visitors will be looking for reviews from past customers, 84% of consumers say they check for reviews before they make any purchase decision, that’s why social proof is a key part of any website.

With the Stars Testimonial plugin, you can easily add WordPress testimonials to your website and increase your social proof. Displaying testimonials on your homepage or showing reviews on any part of your website can boost your credibility, as well as your conversion rates.

#### Start with a Free Version of the Testimonial Grid

With Stars Testimonials WordPress testimonial plugin, you’re able to:

* Create an unlimited amount of testimonials
* Include star ratings and company name in your reviews
* Insert an image for the customer testimonial
* Elementor is 100% supported – add Stars Testimonials element to your Elementor website with ease. All you need to do is look for the Stars Testimonials element, click on it, select your reviews widget from a dropdown, and that’s it! [Watch how it works in action 📽️](https://www.youtube.com/watch?v=rvW3kEmH2Fg "Stars Testimonials with Elementor")
* Create a widget with grid layouts reviews
* Choose how many testimonials and columns display
* Change the colors of the reviews widget (background, text, stars, title, and company name)
* Easily preview, edit, and delete each testimonial
* Create testimonials widget with our shortcode builder (no coding needed!)
* Stars testimonials plugin works great with WordPress page builders including Elementor, Divi, Visual Composer, WPBakery, Gutenberg, and more.

#### Upgrade to the Paid Testimonial Review Plugin for More Features

The [paid version](https://premio.io/downloads/stars-testimonials/?utm_source=wordpressorg "Stars Testimonials plans page") comes with testimonial slider, testimonial wall (masonry), and with everything the free version provides, and more. The additional features you get access to include:

* A larger selection of layouts – besides just grids – testimonials slider is included! You can also create a reviews wall layout
* **Collect reviews** – get more reviews from your visitors. Show a button under your testimonials widget and let your visitors fill out their reviews. You’ll decide which reviews will appear on your website. You can also share a direct link with your customers and ask them to leave a review.
* Read more button for your client testimonials – if you have long reviews and want to show a shorter version, you can now add a “Read More” button to each review and show the full testimonials on click. You can decide what will be the character limit for your reviews.
* Reviews rating compatibility with Google snippets – allow Google to index your clients’ testimonials ratings and show them in the search results.
* More widget styles (17 beautiful testimonial layouts)
* Additional color and design options

**[Upgrade to Pro 🚀](https://premio.io/downloads/stars-testimonials/?utm_source=wordpressorg "Stars Testimonials plans page")**

#### Collect Reviews From Your Website’s Visitors

If you’re using the Pro version, you can easily collect reviews from your website’s visitors:

* Collect testimonials with ease by showing a button under your testimonials, your visitors will be able to submit testimonials.
* Control which testimonials are shown and which aren’t. The testimonials will be added to your website only after you approve the testimonials.
* You can also create a direct link for testimonials submission. Use our direct link and send it to your clients so they can submit their testimonial

#### Live Demo

A live demo of Stars Testimonials plugin is available at [Premio’s demo site](https://demo.premio.io/stars-testimonials-demo-page/?utm_source=wordpressorg "Premio.io demo site"). In the demo page you can see some of Stars Testimonials’ layouts. Need more help? Check out our [Stars Testimonials user guide](https://premio.io/help/stars-testimonials/how-to-use-stars-testimonials/?utm_source=wordpressorg "Stars Testimonials guide")

#### Create Testimonials that Are Mobile-Friendly Using Testimonial Plugin

It’s not enough to just display testimonials on your website. If your testimonial slider or testimonial carousel shows up wonky on mobile devices, then it defeats the purpose of the testimonials.

This is why it’s critical to ensure your testimonials are mobile-friendly, especially with nearly 5 billion mobile device users across the world. With the Stars Testimonials plugin, you don’t have to worry about this.

All of your testimonials will display on mobile devices in a way that’s accessible and legible.

#### Why Testimonials and Reviews Are Important for Business

It doesn’t matter what industry you’re in – testimonials are an indication of the quality of your products and services.

A whopping 84% of consumers trust online reviews, which provides them with first-hand knowledge about a brand. If your company has an onslaught of negative online reviews, then your business will suffer tremendously.

This is because the majority of online users are using Google to find info about a brand before doing business with them. About 82% of smartphone users consult with the web before making a purchase in-store.

But it’s not just in-store purchases online reviews affect. Eighty-eight percent of consumers conduct online searches before making a purchase from both online and physical stores.

By taking charge of your online reputation and displaying testimonials on your website, you can help convert more visitors into paying customers.

#### Use Cases for Review Plugin

There are several ways businesses can use website testimonials to grow their sales. Let’s take a look at a few.

* **Get More Local Clients**

If you’re a local dental office, clinic, realtor, or other professional, you can use testimonials to drive more foot traffic to your business. With the testimonial slider implemented onto your homepage, you can show off customers’ reviews.

Prospects see it and decide to schedule an appointment with your office.

* **Increase Your Subscriptions**

Trying to grow your email subscriber list? Then you can use a testimonial carousel on your landing page to drive more visitors to sign up.

You can display the testimonial rotator at the bottom of your blog posts or on a specific landing page designed to convince visitors to sign up for your newsletter. Your email list is a key component in a marketing strategy, as it can help boost your conversions.

* **Boost Your Online Sales**

Selling products and services online? Then you can bet your visitors are going to look for peer reviews before buying from your brand.

You can help steer them towards purchase by showcasing your testimonials on multiple areas of your site. For example, on the home page, products or services page, and about us page.

When prospects see images, star ratings, and reviews from happy customers, they’re more inclined to make the purchase.

These are just some of the use cases for implementing WordPress review plugins to grow your business.

#### Create a Testimonials Page

If you want to gain more trust and social proof, you can easily create a testimonials page with all of your customers’ reviews. All you need to do is to create a new page and embed a shortcode that includes all your testimonials.

#### Works Great With The New Gutenberg Editor

Stars Testimonials plugin was tested with the new Gutenberg editor on WordPress 5 version and also on previous WordPress versions with Gutenberg.

#### GDPR and Privacy

Stars Testimonials plugin is GDPR compliant:

* We don’t store any visitor or user data
* We don’t send any data to remote servers
* Our plugin is only used to showcase testimonials on your website

#### Start Using Stars Testimonials Today!

Ready to start converting more visitors into customers? Then it’s time to show off how great your products and services are using our testimonial plugin.

Download the Stars Testimonial plugin today and get started designing your testimonial widget!

#### Testimonials

> “It’s really helpfull – recommendable!
>
> This plugin is used in my website, it is perfect in the All. Support is great, very fast answer & action! Recommendable!”
>
> **Biljana Bili Wechsler, Bilifotos**

## Screenshots

* [![](https://ps.w.org/stars-testimonials-with-slider-and-masonry-grid/assets/screenshot-1.png?rev=3055896)](https://ps.w.org/stars-testimonials-with-slider-and-masonry-grid/assets/screenshot-1.png?rev=3055896)

  Create your first shortcode using our shortcode builder
* [![](https://ps.w.org/stars-testimonials-with-slider-and-masonry-grid/assets/screenshot-2.png?rev=3055896)](https://ps.w.org/stars-testimonials-with-slider-and-masonry-grid/assets/screenshot-2.png?rev=3055896)

  Select between Grid, Wall, and Slider testimonial options
* [![](https://ps.w.org/stars-testimonials-with-slider-and-masonry-grid/assets/screenshot-3.png?rev=3055896)](https://ps.w.org/stars-testimonials-with-slider-and-masonry-grid/assets/screenshot-3.png?rev=3055896)

  Choose one of our fine testimonial templates
* [![](https://ps.w.org/stars-testimonials-with-slider-and-masonry-grid/assets/screenshot-4.png?rev=3055896)](https://ps.w.org/stars-testimonials-with-slider-and-masonry-grid/assets/screenshot-4.png?rev=3055896)

  More awesome templates are available with the Pro version

## Installation

1. Go to plugins in your dashboard and select ‘add new’
2. Search for ‘Stars Testimonials’ and install it
3. Go to Dashboard > Stars Testimonials Menu, and add testimonials here
4. Go to ‘All Shortcodes’ to create your first shortcode customize your testimonial widget

## FAQ

### What’s included in the free plan?

You can create an unlimited amount of testimonials, customize it with different colors and fonts, change the appearance order, number of columns, and choose from 5 different testimonial templates in a grid layout.

### Is there a time limit for the free plan?

No. you can use the free plan as long as you want.

### Is there a way I can collect reviews from my website’s visitors?

If you’re using the Pro feature, you can use collect reviews by showing a button under your testimonials widget and letting your visitors fill out their reviews. You’ll decide which reviews will appear on your website. You can also share a direct link with your customers and ask them to leave a review.

### Do I need any coding skills to use the Stars Testimonials plugin?

No! The only code you’ll need is the shortcode (don’t worry, we got you covered with our shortcode builder)

### Is there a live demo for Stars Testimonials

A live demo of Stars Testimonials plugin is available at [Premio’s demo site](https://demo.premio.io/stars-testimonials-demo-page/?utm_source=wordpressorg "Premio.io demo site").

### Can I use the Stars Testimonials plugin on more than 1 domain?

There 2 ways to do it:

1. You can install the free Stars Testimonials plugin on any website you want

2. You can buy the Pro plan that includes licenses for 5 domains, or the Agency plan that includes licenses for 20 domains.

Check out our [plans page](https://premio.io/downloads/stars-testimonials/ "Stars Testimonials plans page").

### How long is my paid Stars Testimonials plugin license valid for?

Once you purchase any [paid plan](https://premio.io/downloads/stars-testimonials/ "Stars Testimonials plans page") of Stars Testimonials, you can use it forever. Support and updates are available for 1 year. You can renew your license each year to get another year of support and updates.

### Will Stars Testimonials stop working if I don’t renew my license?

Of course NOT! 🙂

Your Stars Testimonials plugin and all your settings will continue to work as before; however, you will no longer receive plugin updates including feature additions, improvements, and support.

### How do I activate my pro plan?

Just follow our [pro installation guide](https://premio.io/wordpress-premio-pro-version-installation-guide/ "WordPress installation guide").

## Reviews

![](https://secure.gravatar.com/avatar/e2aadbe1d93c113117c3b48dd33427a32090fc2b619b2aa51d44d7229b83613f?s=60&d=retro&r=g)
### [Great Plugin and phantastic support](https://wordpress.org/support/topic/great-plugin-and-phantastic-support/)

[Oliver Beyersdorffer](https://profiles.wordpress.org/oliver-beyersodrffer/ "Posts by Oliver Beyersdorffer")
June 20, 2024

The plugin is easy to install and offers numerous options for displaying the testimonials on your website. Since my clients often describe their experiences with my consulting services in great detail, the character limit function is helpful. Unfortunately, the “Read more” button was not displayed. No problem for the supportcenter, the guys solved the problem in a very short time by accessing my website. Thank you for the great support.

![](https://secure.gravatar.com/avatar/fff7b04fa7e87ec6e7432719e7e3932b804da1ac489d6286e0ef5b3ee62fb21d?s=60&d=retro&r=g)
### [Great testimonials plugin and support](https://wordpress.org/support/topic/great-testimonials-plugin-and-support/)

[sachin0000](https://profiles.wordpress.org/sachin0000/ "Posts by sachin0000")
May 2, 2024

a great testimonials plugin and the support is exceptional too, highly recommended!

![](https://secure.gravatar.com/avatar/7147bdda4294b809cf3b9bef489265bf4f67b564de04128744b5460575870dd0?s=60&d=retro&r=g)
### [Great app!](https://wordpress.org/support/topic/great-app-712/)

[livingwiththemagic](https://profiles.wordpress.org/livingwiththemagic/ "Posts by livingwiththemagic")
August 30, 2023

Great app and wonderful support! It’s making it a whole lot easier for me to collect reviews for my whole team! Looks seamless and was easy to set up!!

![](https://secure.gravatar.com/avatar/545da8b7b32064ca0829e74be6529fdab9114969048c1c6fa79f926787dd56c0?s=60&d=retro&r=g)
### [Works great!](https://wordpress.org/support/topic/works-great-8810/)

[stellamccarter](https://profiles.wordpress.org/stellamccarter/ "Posts by stellamccarter")
May 12, 2023

Thank you!

![](https://secure.gravatar.com/avatar/a778fe4dc708a29181cadac02f0b5426d9f1b9ee65486f7fd0ed38f8e0c8d015?s=60&d=retro&r=g)
### [Prompt Service](https://wordpress.org/support/topic/prompt-service/)

[wahebeni](https://profiles.wordpress.org/wahebeni/ "Posts by wahebeni")
May 7, 2023

Installed Pro version and found issues with stars testimonial slider. When emailed support, they fixed my issue promptly and also improved plugin with my recommendations very quickly. Great addition to my site.

![](https://secure.gravatar.com/avatar/9e6e59de35f375722d2bb85bf50710d32b05284d8e198845fd4f83271ff2e86a?s=60&d=retro&r=g)
### [Great add-on](https://wordpress.org/support/topic/great-add-on-81/)

[road88](https://profiles.wordpress.org/road88/ "Posts by road88")
April 17, 2023

I was looking for an easy and customizable testimonial tools, and this one fits perfectly to my needs.
Works fine (with the “read more” button ;)), and the Support team is just amazingly reactive, pro and cool.
I highly recommand this add-on

[Read all 62 reviews](https://wordpress.org/support/plugin/stars-testimonials-with-slider-and-masonry-grid/reviews/)
## Contributors & Developers

“Free Responsive Testimonials, Social Proof Reviews, and Customer Reviews – Stars Testimonials” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/d4f5b36f5e5fd795e84906d19d682cbae0db8ee85e4822846f6ba17cd4f50bb9?s=32&d=mm&r=g) [Gal Dubinski](https://profiles.wordpress.org/galdub/)
* ![](https://secure.gravatar.com/avatar/367d406ab14724a27e588deab780e3bd10d845458dc6cd9a0239befef7e0baeb?s=32&d=mm&r=g) [Tomer Aharon](https://profiles.wordpress.org/tomeraharon/)
* ![](https://secure.gravatar.com/avatar/76f09e2f2979ca500343e5d0dcf6d625e35ea5856d4256868edbcdaa97171e46?s=32&d=mm&r=g) [Premio](https://profiles.wordpress.org/premio/)

[Translate “Free Responsive Testimonials, Social Proof Reviews, and Customer Reviews – Stars Testimonials” into your language.](https://translate.wordpress.org/projects/wp-plugins/stars-testimonials-with-slider-and-masonry-grid)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/stars-testimonials-with-slider-and-masonry-grid/), check out the [SVN repository](https://plugins.svn.wordpress.org/stars-testimonials-with-slider-and-masonry-grid/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/stars-testimonials-with-slider-and-masonry-grid/) by [RSS](https://plugins.trac.wordpress.org/log/stars-testimonials-with-slider-and-masonry-grid/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 3.3.4

Display bug fixed

#### 3.3.3

Authentication bug fixed (reported by Peter Thaleikis 🙏)

#### 3.3.2

JavaScript bug fixed

#### 3.3.1

Added plugin recommendations

#### 3.3

WordPress 6.5 compatibility

#### 3.2.9

Flow changes

#### 3.2.8

Minor bug fixed

#### 3.2.7

Bugs fixed

#### 3.2.6

Stars Testimonials can be now added to Elementor as an element in seconds

Pro feature: add a “Read More” button to your reviews and a character limit

Pro feature: ratings compatibility with Google snippets

#### 3.2.5

Dobule slash bug fixed

#### 3.2.4

UI bug fixed

#### 3.2.3

Changed support route

#### 3.2.2

Save settings bug fixed

#### 3.2.1

jQuery bugs fixed

#### 3.2

jQuery minor bugs fixed

#### 3.1.9

WordPress 5.6 compatibility

#### 3.1.8

Plans page fix

#### 3.1.7

JS sort bug was fixed, and we’ve also removed some limitations from the free version

#### 3.1.6

You can now create umlimited amount of testimonials

#### 3.1.5

WP 5.5

#### 3.1.4

Testimonials upload image JavaScript bug fixed

#### 3.1.3

Infrastructure improvements

#### 3.1.2

Bugs fixed

#### 3.1.1

Mobile testimonials frontend fixes

#### 3.1

Stars Testimonials UI improvements

#### 3.0.9

Quoteblock style fix for the testimonials

#### 3.0.8

* Review change

#### 3.0.7

* Font issues, WP 5.3 order bug fixed, and more

#### 3.0.6

* Testimonials height bug fixed

#### 3.0.5

* Security update

#### 3.0.4

* Upgrade page change

#### 3.0.3

* Fixed blockquote bug

#### 3.0 – 02 December 2018

* Bug Fixed: New shortcode builder & bug fixes

#### 2.0 – 21 October 2017

* Bug Fixed: CSS conflict with slider is resolved

#### 1.0 – 30th August 2017

* Initial Release

## Meta

* Version **3.3.4**
* Last updated **1 month ago**
* Active installations **2,000+**
* WordPress version **3.5 or higher**
* Tested up to **6.7.1**
* Tags [collect reviews](https://wordpress.org/plugins/tags/collect-reviews/)[collect testimonials](https://wordpress.org/plugins/tags/collect-testimonials/)[customers reviews](https://wordpress.org/plugins/tags/customers-reviews/)[reviews](https://wordpress.org/plugins/tags/reviews/)[testimonials](https://wordpress.org/plugins/tags/testimonials/)
* [Advanced View](https://wordpress.org/plugins/stars-testimonials-with-slider-and-masonry-grid/advanced/)

## Ratings

4.8 out of 5 stars.

* [58 5-star reviews
  5 stars

  58](https://wordpress.org/support/plugin/stars-testimonials-with-slider-and-masonry-grid/reviews/?filter=5)
* [1 4-star review
  4 stars

  1](https://wordpress.org/support/plugin/stars-testimonials-with-slider-and-masonry-grid/reviews/?filter=4)
* [1 3-star review
  3 stars

  1](https://wordpress.org/support/plugin/stars-testimonials-with-slider-and-masonry-grid/reviews/?filter=3)
* [1 2-star review
  2 stars

  1](https://wordpress.org/support/plugin/stars-testimonials-with-slider-and-masonry-grid/reviews/?filter=2)
* [1 1-star review
  1 star

  1](https://wordpress.org/support/plugin/stars-testimonials-with-slider-and-masonry-grid/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/stars-testimonials-with-slider-and-masonry-grid/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/stars-testimonials-with-slider-and-masonry-grid/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/d4f5b36f5e5fd795e84906d19d682cbae0db8ee85e4822846f6ba17cd4f50bb9?s=32&d=mm&r=g) [Gal Dubinski](https://profiles.wordpress.org/galdub/)
* ![](https://secure.gravatar.com/avatar/367d406ab14724a27e588deab780e3bd10d845458dc6cd9a0239befef7e0baeb?s=32&d=mm&r=g) [Tomer Aharon](https://profiles.wordpress.org/tomeraharon/)
* ![](https://secure.gravatar.com/avatar/76f09e2f2979ca500343e5d0dcf6d625e35ea5856d4256868edbcdaa97171e46?s=32&d=mm&r=g) [Premio](https://profiles.wordpress.org/premio/)
## Support

Got something to say? Need help?

[View support forum](https://wordpress.org/support/plugin/stars-testimonials-with-slider-and-masonry-grid/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


