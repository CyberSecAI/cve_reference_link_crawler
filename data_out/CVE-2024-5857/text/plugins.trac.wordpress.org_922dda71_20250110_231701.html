

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3141470%2Ffunnelforms-free%2Ftrunk%2Ffrontend%2Ffrontend.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3047566/funnelforms-free/trunk/frontend/frontend.php "Changeset 3047566 for funnelforms-free/trunk/frontend/frontend.php")
* [Next Change](/changeset/3204698/funnelforms-free/trunk/frontend/frontend.php "Changeset 3204698 for funnelforms-free/trunk/frontend/frontend.php") →

---

# Changeset [3141470](/changeset/3141470 "Show full changeset") for [funnelforms-free/trunk/frontend/frontend.php](/browser/funnelforms-free/trunk/frontend/frontend.php?rev=3141470 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
08/26/2024 08:01:56 AM
([5 months](/timeline?from=2024-08-26T08%3A01%3A56Z&precision=second "See timeline at 08/26/2024 08:01:56 AM") ago)

Author:
funnelforms
Message:

-Scroll To Anchor (Desktop) Feature

-Bugfixes

-UX improvements

-Fixes small security issue

File:

1 edited

* [funnelforms-free/trunk/frontend/frontend.php](/browser/funnelforms-free/trunk/frontend/frontend.php?rev=3141470 "Show entry in browser")
  (modified)
  ([4 diffs](#file0 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [funnelforms-free/trunk/frontend/frontend.php](/changeset/3141470/funnelforms-free/trunk/frontend/frontend.php "Show the changeset 3141470 restricted to funnelforms-free/trunk/frontend/frontend.php")

  | [r3047566](/browser/funnelforms-free/trunk/frontend/frontend.php?rev=3047566#L214 "Show revision 3047566 of this file in browser") | [r3141470](/browser/funnelforms-free/trunk/frontend/frontend.php?rev=3141470#L214 "Show revision 3141470 of this file in browser") |  |
  | --- | --- | --- |
  | 214 | 214 | $errormail = false; |
  | 215 | 215 | $aScrollToAnchor = true; |
  |  | 216 | $aScrollToAnchorDesktop = false; |
  | 216 | 217 | $aShowSuccessScreen = true; |
  | 217 | 218 |  |
  | […](/browser/funnelforms-free/trunk/frontend/frontend.php?rev=3047566#L222) | […](/browser/funnelforms-free/trunk/frontend/frontend.php?rev=3141470#L223) |  |
  | 222 | 223 | $aScrollToAnchor = false; |
  | 223 | 224 | } |
  |  | 225 | if(isset($base\_json->activateScrollToAnchorDesktop) && ($base\_json->activateScrollToAnchorDesktop === 'true' || $base\_json->activateScrollToAnchorDesktop === true)) { |
  |  | 226 | $aScrollToAnchorDesktop = true; |
  |  | 227 | } |
  | 224 | 228 | if(isset($base\_json->showSuccessScreen) && ($base\_json->showSuccessScreen === 'false' || $base\_json->showSuccessScreen === 'false')) { |
  | 225 | 229 | $aShowSuccessScreen = false; |
  | […](/browser/funnelforms-free/trunk/frontend/frontend.php?rev=3047566#L252) | […](/browser/funnelforms-free/trunk/frontend/frontend.php?rev=3141470#L256) |  |
  | 252 | 256 | $content .= '<div id="af2\_form\_' . $this->frontend\_id . '" class="af2\_form\_wrapper af2\_form-type-'.$type.'" |
  | 253 | 257 | data-preload="' . $preload . '" data-size="' . $size . '" data-rtl="'. $rtl\_layout .'" data-num="' . $this->frontend\_id . '" |
  | 254 |  | data-did="' . $dataid . '" data-errormail="' . $errormail . '" data-activatescrolltoanchor="' . $aScrollToAnchor . '" data-showsuccessscreen="'.$aShowSuccessScreen.'" |
  |  | 258 | data-did="' . $dataid . '" data-errormail="' . $errormail . '" data-activatescrolltoanchor="' . $aScrollToAnchor . '" data-activatescrolltoanchordesktop="'. $aScrollToAnchorDesktop . '" data-showsuccessscreen="'.$aShowSuccessScreen.'" |
  | 255 | 259 | >'; |
  | 256 | 260 |  |
  | […](/browser/funnelforms-free/trunk/frontend/frontend.php?rev=3047566#L2573) | […](/browser/funnelforms-free/trunk/frontend/frontend.php?rev=3141470#L2577) |  |
  | 2573 | 2577 | } |
  | 2574 | 2578 |  |
  | 2575 |  | ~~add\_action('wp\_ajax\_af2\_handel\_file\_upload','fnsf\_af2\_handel\_file\_upload');~~ |
  | 2576 |  | ~~add\_action('wp\_ajax\_nopriv\_af2\_handel\_file\_upload','fnsf\_af2\_handel\_file\_upload');~~ |
  | 2577 |  | ~~function fnsf\_af2\_handel\_file\_upload(){~~ |
  | 2578 |  | ~~$resp = array();~~ |
  | 2579 |  |  |
  | 2580 |  | ~~add\_filter( 'upload\_dir', 'fnsf\_wpaf2\_custom\_upload\_dir' );~~ |
  | 2581 |  | ~~// uploading~~ |
  | 2582 |  | ~~$media\_id = media\_handle\_upload( 'af2\_file', 0 );~~ |
  | 2583 |  | ~~// remove so it doesn't apply to all uploads~~ |
  | 2584 |  | ~~remove\_filter( 'upload\_dir', 'fnsf\_wpaf2\_custom\_upload\_dir' );~~ |
  | 2585 |  |  |
  | 2586 |  | ~~if ( is\_wp\_error( $media\_id ) ) {~~ |
  | 2587 |  | ~~$resp['success'] = false;~~ |
  | 2588 |  | ~~$resp['error'] = $media\_id->get\_error\_message();~~ |
  | 2589 |  | ~~$resp['media\_id'] = 0;~~ |
  | 2590 |  | ~~}else{~~ |
  | 2591 |  | ~~$resp['success'] = true;~~ |
  | 2592 |  | ~~$resp['media\_id'] = $media\_id;~~ |
  | 2593 |  | ~~$resp['media\_url'] = wp\_get\_attachment\_url($media\_id);~~ |
  | 2594 |  | ~~}~~ |
  | 2595 |  |  |
  | 2596 |  | ~~echo json\_encode($resp);~~ |
  | 2597 |  | ~~die();~~ |
  | 2598 |  | ~~}~~ |
  | 2599 |  |  |
  | 2600 |  | ~~add\_action('wp\_ajax\_af2\_handel\_file\_remove','fnsf\_af2\_handel\_file\_remove');~~ |
  | 2601 |  | ~~add\_action('wp\_ajax\_nopriv\_af2\_handel\_file\_remove','fnsf\_af2\_handel\_file\_remove');~~ |
  | 2602 |  |  |
  | 2603 |  | ~~function fnsf\_af2\_handel\_file\_remove(){~~ |
  | 2604 |  | ~~$resp = array();~~ |
  | 2605 |  | ~~$resp['success'] = false;~~ |
  | 2606 |  | ~~if(isset($\_POST['attachment\_id'])){~~ |
  | 2607 |  | ~~$resp['success'] = true;~~ |
  | 2608 |  | ~~wp\_delete\_attachment(sanitize\_text\_field($\_POST['attachment\_id']),true);~~ |
  | 2609 |  | ~~}~~ |
  | 2610 |  | ~~\_e(json\_encode($resp));~~ |
  | 2611 |  | ~~die();~~ |
  | 2612 |  | ~~}~~ |
  | 2613 |  |  |
  | 2614 | 2579 | function fnsf\_af2\_get\_supported\_mime\_types(){ |
  | 2615 | 2580 | $supported\_types = array(); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3141470)
* [Zip Archive](?format=zip&new=3141470)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

