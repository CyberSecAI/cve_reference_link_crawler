=== Content from git.kernel.org_9e11391e_20250111_024006.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=db71ca93259dd1078bcfea3afafde2143cfc2da7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=db71ca93259dd1078bcfea3afafde2143cfc2da7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=db71ca93259dd1078bcfea3afafde2143cfc2da7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=db71ca93259dd1078bcfea3afafde2143cfc2da7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Al Viro <viro@zeniv.linux.org.uk> | 2024-02-25 23:58:42 -0500 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-17 12:02:20 +0200 |
| commit | [db71ca93259dd1078bcfea3afafde2143cfc2da7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=db71ca93259dd1078bcfea3afafde2143cfc2da7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=db71ca93259dd1078bcfea3afafde2143cfc2da7)) | |
| tree | [f6fbc8a5da427c8b7c0da00371e6d160a88216b3](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=db71ca93259dd1078bcfea3afafde2143cfc2da7) | |
| parent | [9b332c72299f2ac284ab3d7c0301969b933e4ca1](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9b332c72299f2ac284ab3d7c0301969b933e4ca1) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=db71ca93259dd1078bcfea3afafde2143cfc2da7&id2=9b332c72299f2ac284ab3d7c0301969b933e4ca1)) | |
| download | [linux-db71ca93259dd1078bcfea3afafde2143cfc2da7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-db71ca93259dd1078bcfea3afafde2143cfc2da7.tar.gz) | |

qibfs: fix dentry leak[ Upstream commit aa23317d0268b309bb3f0801ddd0d61813ff5afb ]
simple\_recursive\_removal() drops the pinning references to all positives
in subtree. For the cases when its argument has been kept alive by
the pinning alone that's exactly the right thing to do, but here
the argument comes from dcache lookup, that needs to be balanced by
explicit dput().
Fixes: e41d237818598 "qib\_fs: switch to simple\_recursive\_removal()"
Fucked-up-by: Al Viro <viro@zeniv.linux.org.uk>
Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=db71ca93259dd1078bcfea3afafde2143cfc2da7)

| -rw-r--r-- | [drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/infiniband/hw/qib/qib_fs.c?id=db71ca93259dd1078bcfea3afafde2143cfc2da7) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/infiniband/hw/qib/qib\_fs.c b/drivers/infiniband/hw/qib/qib\_fs.cindex ed7d4b02f45a63..11155e0fb8395c 100644--- a/[drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/infiniband/hw/qib/qib_fs.c?id=9b332c72299f2ac284ab3d7c0301969b933e4ca1)+++ b/[drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/infiniband/hw/qib/qib_fs.c?id=db71ca93259dd1078bcfea3afafde2143cfc2da7)@@ -439,6 +439,7 @@ static int remove\_device\_files(struct super\_block \*sb, return PTR\_ERR(dir); } simple\_recursive\_removal(dir, NULL);+ dput(dir); return 0; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:38:43 +0000



=== Content from git.kernel.org_8e94acf7_20250111_024003.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=02ee394a5d899d9bd2f0759382e9481cab6166f8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=02ee394a5d899d9bd2f0759382e9481cab6166f8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=02ee394a5d899d9bd2f0759382e9481cab6166f8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02ee394a5d899d9bd2f0759382e9481cab6166f8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Al Viro <viro@zeniv.linux.org.uk> | 2024-02-25 23:58:42 -0500 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-17 12:14:50 +0200 |
| commit | [02ee394a5d899d9bd2f0759382e9481cab6166f8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=02ee394a5d899d9bd2f0759382e9481cab6166f8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=02ee394a5d899d9bd2f0759382e9481cab6166f8)) | |
| tree | [1e34713a8aaed8df6af2ad49ad9498830fb63a07](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=02ee394a5d899d9bd2f0759382e9481cab6166f8) | |
| parent | [024f7744bd09cb2a47a0a96b9c8ad08109de99cc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=024f7744bd09cb2a47a0a96b9c8ad08109de99cc) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02ee394a5d899d9bd2f0759382e9481cab6166f8&id2=024f7744bd09cb2a47a0a96b9c8ad08109de99cc)) | |
| download | [linux-02ee394a5d899d9bd2f0759382e9481cab6166f8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-02ee394a5d899d9bd2f0759382e9481cab6166f8.tar.gz) | |

qibfs: fix dentry leak[ Upstream commit aa23317d0268b309bb3f0801ddd0d61813ff5afb ]
simple\_recursive\_removal() drops the pinning references to all positives
in subtree. For the cases when its argument has been kept alive by
the pinning alone that's exactly the right thing to do, but here
the argument comes from dcache lookup, that needs to be balanced by
explicit dput().
Fixes: e41d237818598 "qib\_fs: switch to simple\_recursive\_removal()"
Fucked-up-by: Al Viro <viro@zeniv.linux.org.uk>
Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02ee394a5d899d9bd2f0759382e9481cab6166f8)

| -rw-r--r-- | [drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/infiniband/hw/qib/qib_fs.c?id=02ee394a5d899d9bd2f0759382e9481cab6166f8) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/infiniband/hw/qib/qib\_fs.c b/drivers/infiniband/hw/qib/qib\_fs.cindex 455e966eeff390..b27791029fa934 100644--- a/[drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/infiniband/hw/qib/qib_fs.c?id=024f7744bd09cb2a47a0a96b9c8ad08109de99cc)+++ b/[drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/infiniband/hw/qib/qib_fs.c?id=02ee394a5d899d9bd2f0759382e9481cab6166f8)@@ -439,6 +439,7 @@ static int remove\_device\_files(struct super\_block \*sb, return PTR\_ERR(dir); } simple\_recursive\_removal(dir, NULL);+ dput(dir); return 0; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:38:41 +0000



=== Content from git.kernel.org_d89021f2_20250111_024005.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Al Viro <viro@zeniv.linux.org.uk> | 2024-02-25 23:58:42 -0500 |
| --- | --- | --- |
| committer | Al Viro <viro@zeniv.linux.org.uk> | 2024-02-25 23:58:42 -0500 |
| commit | [aa23317d0268b309bb3f0801ddd0d61813ff5afb](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb)) | |
| tree | [8a5ac5cebb34a45e0e5f863ebd5d43a833d5a471](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb) | |
| parent | [2c88c16dc20e88dd54d2f6f4d01ae1dce6cc9654](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2c88c16dc20e88dd54d2f6f4d01ae1dce6cc9654) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb&id2=2c88c16dc20e88dd54d2f6f4d01ae1dce6cc9654)) | |
| download | [linux-aa23317d0268b309bb3f0801ddd0d61813ff5afb.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-aa23317d0268b309bb3f0801ddd0d61813ff5afb.tar.gz) | |

qibfs: fix dentry leaksimple\_recursive\_removal() drops the pinning references to all positives
in subtree. For the cases when its argument has been kept alive by
the pinning alone that's exactly the right thing to do, but here
the argument comes from dcache lookup, that needs to be balanced by
explicit dput().
Fixes: e41d237818598 "qib\_fs: switch to simple\_recursive\_removal()"
Fucked-up-by: Al Viro <viro@zeniv.linux.org.uk>
Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb)

| -rw-r--r-- | [drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/infiniband/hw/qib/qib_fs.c?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/infiniband/hw/qib/qib\_fs.c b/drivers/infiniband/hw/qib/qib\_fs.cindex 455e966eeff390..b27791029fa934 100644--- a/[drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/infiniband/hw/qib/qib_fs.c?id=2c88c16dc20e88dd54d2f6f4d01ae1dce6cc9654)+++ b/[drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/infiniband/hw/qib/qib_fs.c?id=aa23317d0268b309bb3f0801ddd0d61813ff5afb)@@ -439,6 +439,7 @@ static int remove\_device\_files(struct super\_block \*sb, return PTR\_ERR(dir); } simple\_recursive\_removal(dir, NULL);+ dput(dir); return 0; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:38:42 +0000



=== Content from git.kernel.org_5a61e02a_20250111_024005.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=bd8f78c71defbcb7a9ed331e7f287507df972b00)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=bd8f78c71defbcb7a9ed331e7f287507df972b00)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bd8f78c71defbcb7a9ed331e7f287507df972b00)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bd8f78c71defbcb7a9ed331e7f287507df972b00)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Al Viro <viro@zeniv.linux.org.uk> | 2024-02-25 23:58:42 -0500 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-17 11:56:10 +0200 |
| commit | [bd8f78c71defbcb7a9ed331e7f287507df972b00](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bd8f78c71defbcb7a9ed331e7f287507df972b00) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=bd8f78c71defbcb7a9ed331e7f287507df972b00)) | |
| tree | [6cbc905eed9bfbb75b25473d3a2f7553f2b9868d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=bd8f78c71defbcb7a9ed331e7f287507df972b00) | |
| parent | [f269a8ce52fa8641206d9b9fa73a1326b09506ce](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f269a8ce52fa8641206d9b9fa73a1326b09506ce) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bd8f78c71defbcb7a9ed331e7f287507df972b00&id2=f269a8ce52fa8641206d9b9fa73a1326b09506ce)) | |
| download | [linux-bd8f78c71defbcb7a9ed331e7f287507df972b00.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-bd8f78c71defbcb7a9ed331e7f287507df972b00.tar.gz) | |

qibfs: fix dentry leak[ Upstream commit aa23317d0268b309bb3f0801ddd0d61813ff5afb ]
simple\_recursive\_removal() drops the pinning references to all positives
in subtree. For the cases when its argument has been kept alive by
the pinning alone that's exactly the right thing to do, but here
the argument comes from dcache lookup, that needs to be balanced by
explicit dput().
Fixes: e41d237818598 "qib\_fs: switch to simple\_recursive\_removal()"
Fucked-up-by: Al Viro <viro@zeniv.linux.org.uk>
Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bd8f78c71defbcb7a9ed331e7f287507df972b00)

| -rw-r--r-- | [drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/infiniband/hw/qib/qib_fs.c?id=bd8f78c71defbcb7a9ed331e7f287507df972b00) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/infiniband/hw/qib/qib\_fs.c b/drivers/infiniband/hw/qib/qib\_fs.cindex a973905afd1320..182a89bb24ef4c 100644--- a/[drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/infiniband/hw/qib/qib_fs.c?id=f269a8ce52fa8641206d9b9fa73a1326b09506ce)+++ b/[drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/infiniband/hw/qib/qib_fs.c?id=bd8f78c71defbcb7a9ed331e7f287507df972b00)@@ -440,6 +440,7 @@ static int remove\_device\_files(struct super\_block \*sb, return PTR\_ERR(dir); } simple\_recursive\_removal(dir, NULL);+ dput(dir); return 0; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:38:43 +0000



=== Content from git.kernel.org_e11f2981_20250111_024004.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Al Viro <viro@zeniv.linux.org.uk> | 2024-02-25 23:58:42 -0500 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-17 11:50:57 +0200 |
| commit | [24dd9b08df718f20ccf2dd1519909fefd8c233ee](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee)) | |
| tree | [7a0f1aafa1e3c7ca2d9f5c9d36c252681885f33a](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee) | |
| parent | [ab5b5e322d12f00af5c916583b63df9ec6e5d2a4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ab5b5e322d12f00af5c916583b63df9ec6e5d2a4) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee&id2=ab5b5e322d12f00af5c916583b63df9ec6e5d2a4)) | |
| download | [linux-24dd9b08df718f20ccf2dd1519909fefd8c233ee.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-24dd9b08df718f20ccf2dd1519909fefd8c233ee.tar.gz) | |

qibfs: fix dentry leak[ Upstream commit aa23317d0268b309bb3f0801ddd0d61813ff5afb ]
simple\_recursive\_removal() drops the pinning references to all positives
in subtree. For the cases when its argument has been kept alive by
the pinning alone that's exactly the right thing to do, but here
the argument comes from dcache lookup, that needs to be balanced by
explicit dput().
Fixes: e41d237818598 "qib\_fs: switch to simple\_recursive\_removal()"
Fucked-up-by: Al Viro <viro@zeniv.linux.org.uk>
Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee)

| -rw-r--r-- | [drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/infiniband/hw/qib/qib_fs.c?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/infiniband/hw/qib/qib\_fs.c b/drivers/infiniband/hw/qib/qib\_fs.cindex a0c5f3bdc3246b..8665e506404f94 100644--- a/[drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/infiniband/hw/qib/qib_fs.c?id=ab5b5e322d12f00af5c916583b63df9ec6e5d2a4)+++ b/[drivers/infiniband/hw/qib/qib\_fs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/infiniband/hw/qib/qib_fs.c?id=24dd9b08df718f20ccf2dd1519909fefd8c233ee)@@ -441,6 +441,7 @@ static int remove\_device\_files(struct super\_block \*sb, return PTR\_ERR(dir); } simple\_recursive\_removal(dir, NULL);+ dput(dir); return 0; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:38:41 +0000


