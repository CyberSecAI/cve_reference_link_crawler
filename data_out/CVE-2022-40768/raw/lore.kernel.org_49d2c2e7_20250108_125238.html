<html><head><title>[PATCH] scsi: stex: properly zero out the passthrough command structure - Greg Kroah-Hartman</title><link
rel=alternate
title="Atom feed"
href="../new.atom"
type="application/atom+xml"/><style>pre{white-space:pre-wrap}*{font-size:100%;font-family:monospace}</style><link
type=text/css
rel=stylesheet
href=../216light.css?66c655cb
media=screen,print /><link
type=text/css
rel=stylesheet
media="screen and (prefers-color-scheme:dark)"
href=../216dark.css?66c655cb /></head><body><form
action="../"><pre><a
href="../?t=20220908145205"><b>All of lore.kernel.org</b></a>
<input
name=q
type=text /><input
type=submit
value=search /> <a
href="../_/text/help/">help</a> / <a
href="../_/text/color/">color</a> / <a
id=mirror
href="../_/text/mirror/">mirror</a> / <a
href="../new.atom">Atom feed</a></pre></form><pre
id=b>From: Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;
To: jejb@linux.ibm.com, martin.petersen@oracle.com
Cc: <a
href="../../linux-scsi/?t=20220908145205">linux-scsi@vger.kernel.org</a>,
	Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;,
	hdthky &lt;hdthky0@gmail.com&gt;, stable &lt;stable@kernel.org&gt;,
	Dan Carpenter &lt;dan.carpenter@oracle.com&gt;
Subject: <a
href="#r"
id=t>[PATCH] scsi: stex: properly zero out the passthrough command structure</a>
Date: Thu,  8 Sep 2022 16:51:54 +0200	<a
href="#r">[thread overview]</a>
Message-ID: &lt;20220908145154.2284098-1-gregkh@linuxfoundation.org&gt; (<a href="raw">raw</a>)

The passthrough structure is declared off of the stack, so it needs to
be zeroed out before copied back to userspace to prevent any
unintentional data leakage.

Reported-by: hdthky &lt;hdthky0@gmail.com&gt;
Cc: stable &lt;stable@kernel.org&gt;
Cc: &#34;James E.J. Bottomley&#34; &lt;jejb@linux.ibm.com&gt;
Cc: &#34;Martin K. Petersen&#34; &lt;martin.petersen@oracle.com&gt;
Reviewed-by: Dan Carpenter &lt;dan.carpenter@oracle.com&gt;
Signed-off-by: Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;
---
 <a
id=iZ31drivers:scsi:stex.c
href=#Z31drivers:scsi:stex.c>drivers/scsi/stex.c</a> | 1 +
 1 file <a href="#related">changed</a>, 1 insertion(+)

<span
class="head"><a
href=#iZ31drivers:scsi:stex.c
id=Z31drivers:scsi:stex.c>diff</a> --git a/drivers/scsi/stex.c b/drivers/scsi/stex.c
index e6420f2127ce..fc5880a35723 100644
--- a/drivers/scsi/stex.c
+++ b/drivers/scsi/stex.c
</span><span
class="hunk">@@ -668,6 +668,7 @@ static int stex_queuecommand_lck(struct scsi_cmnd *cmd)
</span> 			struct st_drvver ver;
 			size_t cp_len = sizeof(ver);
 
<span
class="add">+			memset(&#38;ver, 0x00, sizeof(ver));
</span> 			ver.major = ST_VER_MAJOR;
 			ver.minor = ST_VER_MINOR;
 			ver.oem = ST_OEM;
-- 
2.37.3

</pre><hr><pre><a
href="../YxrjN3OOw2HHl9tx@kroah.com/"
rel=next>next</a>             <a
href="#R">reply</a>	other threads:[<a
href="../?t=20220908145205">~2022-09-08 14:52 UTC</a>|<a
href="../">newest</a>]

<b>Thread overview: </b>5+ messages / expand[<a
href="T/#u">flat</a>|<a
href="t/#u">nested</a>]  <a
href="t.mbox.gz">mbox.gz</a>  <a
href="t.atom">Atom feed</a>  <a
href="#b">top</a>
<b>2022-09-08 14:51 <a
id=r
href="#t">Greg Kroah-Hartman [this message]</a></b>
2022-09-09  6:54 ` <a
href="../YxrjN3OOw2HHl9tx@kroah.com/">[PATCH v2] scsi: stex: properly zero out the passthrough command structure</a> Greg Kroah-Hartman
2022-09-09 16:24   ` <a
href="../fd6a94cd-6d71-f241-fc7b-d8613c1c2616@acm.org/">Bart Van Assche</a>
2022-09-26 15:54     ` <a
href="../6ee86af6-6a0d-4c8d-439d-0ea58dc7c743@suse.com/">Lee Duncan</a>
2022-09-26 16:17       ` <a
href="../YzHQllbrv5zxexYD@kroah.com/">Greg Kroah-Hartman</a>
</pre><form id=related
action=../
><pre>find likely ancestor, descendant, or conflicting patches for <a
href=#t>this message</a>:
<textarea name=q cols=72 rows=3>( dfblob:e6420f2127c dfblob:fc5880a3572 )
 OR (
bs:&#34;[PATCH] scsi: stex: properly zero out the passthrough command structure&#34; )</textarea>
<input type=submit value=search
/>	(<a href=../_/text/help/#search>help</a>)</pre></form>
<hr><pre
id=R><b>Reply instructions:</b>

You may reply publicly to <a
href=#t>this message</a> via plain-text email
using any one of the following methods:

* Save the following mbox file, import it into your mail client,
  and reply-to-all from there: <a
href=raw>mbox</a>

  Avoid top-posting and favor interleaved quoting:
  <a
href="https://en.wikipedia.org/wiki/Posting_style#Interleaved_style">https://en.wikipedia.org/wiki/Posting_style#Interleaved_style</a>

* Reply using the <b>--to</b>, <b>--cc</b>, and <b>--in-reply-to</b>
  switches of git-send-email(1):

  git send-email \
    --in-reply-to=20220908145154.2284098-1-gregkh@linuxfoundation.org \
    --to=gregkh@linuxfoundation.org \
    --cc=dan.carpenter@oracle.com \
    --cc=hdthky0@gmail.com \
    --cc=jejb@linux.ibm.com \
    --cc=linux-scsi@vger.kernel.org \
    --cc=martin.petersen@oracle.com \
    --cc=stable@kernel.org \
    /path/to/YOUR_REPLY

  <a
href="https://kernel.org/pub/software/scm/git/docs/git-send-email.html">https://kernel.org/pub/software/scm/git/docs/git-send-email.html</a>

* If your mail client supports setting the <b>In-Reply-To</b> header
  via mailto: links, try the <a
href="mailto:gregkh@linuxfoundation.org?In-Reply-To=%3C20220908145154.2284098-1-gregkh@linuxfoundation.org%3E&#38;Cc=dan.carpenter%40oracle.com%2Chdthky0%40gmail.com%2Cjejb%40linux.ibm.com%2Clinux-scsi%40vger.kernel.org%2Cmartin.petersen%40oracle.com%2Cstable%40kernel.org&#38;Subject=Re%3A%20%5BPATCH%5D%20scsi%3A%20stex%3A%20properly%20zero%20out%20the%20passthrough%20command%20structure">mailto: link</a>
</pre>

  Be sure your reply has a <b>Subject:</b> header at the top and a blank line
  before the message body.
<hr><pre>This is an external index of several public inboxes,
see <a href="../_/text/mirror/">mirroring instructions</a> on how to clone and mirror
all data and code used by this external index.</pre></body></html>