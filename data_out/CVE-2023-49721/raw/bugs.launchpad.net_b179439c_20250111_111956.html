<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+index" />

    <meta charset="UTF-8" />
    <title>Bug #2040137 “exposing the EFI shell in Secure Boot mode can lea...” : Bugs : edk2 package : Ubuntu</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/@@/apple-touch-icon.png?v=2022" />
    <link rel="icon" type="image/png" sizes="32x32" href="/@@/favicon-32x32.png?v=2022" />
    <link rel="icon" type="image/png" sizes="16x16" href="/@@/favicon-16x16.png?v=2022" />
    <link rel="manifest" href="/@@/site.webmanifest?v=2022" />
    <link rel="mask-icon" href="/@@/safari-pinned-tab.svg?v=2022" color="#e9531f" />
    <link rel="shortcut icon" href="/@@/favicon.ico?v=2022" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="msapplication-config" content="/@@/browserconfig.xml?v=2022" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/2040137" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/2040137/bug.atom" title="Bug 2040137 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev6394e03793719e8d73f5a60b5439440e693c92f1/combo.css" />


    

    
      <meta name="description" content="The EFI shell is available as a built-in Boot Option in Ubuntu's OVMF builds, even when Secure Boot is enabled.

This application has known mechanisms for bypassing UEFI Secure Boot, and has already been barred from signing previously.

It should either: not be built into Secure Boot capable OVMF builds, or disabled when Secure Boot is enabled in any capacity." />
      <meta property="og:description" content="The EFI shell is available as a built-in Boot Option in Ubuntu's OVMF builds, even when Secure Boot is enabled.

This application has known mechanisms for bypassing UEFI Secure Boot, and has already been barred from signing previously.

It should either: not be built into Secure Boot capable OVMF builds, or disabled when Secure Boot is enabled in any capacity." />
    

    
    
      <meta property="og:title" content="Bug #2040137 “exposing the EFI shell in Secure Boot mode can lea...” : Bugs : edk2 package : Ubuntu" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad-og-image.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/2040137" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?lp/',
                    comboBase: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["a11y", "appstream", "bionic", "bisect-done", "bitesize", "block-proposed", "block-proposed-focal", "block-proposed-jammy", "block-proposed-noble", "block-proposed-oracular", "cherry-pick", "community-security", "desktop-file", "dist-upgrade", "fixed-upstream", "focal", "ftbfs", "hw-specific", "jammy", "kernel-bug", "manpage", "metabug", "multiarch", "multigpu", "multimonitor", "needs-bisect", "needs-design", "needs-packaging", "needs-reassignment", "noble", "nvidia", "oracular", "package-conflict", "packaging", "patch", "patch-accepted-debian", "patch-accepted-upstream", "patch-forwarded-debian", "patch-forwarded-upstream", "patch-needswork", "patch-rejected", "patch-rejected-debian", "patch-rejected-upstream", "performing-bisect", "plucky", "qt4-removal", "regression-proposed", "regression-release", "regression-update", "string-fix", "suspend-resume", "systemd-boot", "testcase", "unmetdeps", "update-excuse", "upgrade-software-version", "verification-done-bionic", "verification-done-focal", "verification-done-jammy", "verification-done-noble", "verification-done-oracular", "verification-failed-bionic", "verification-failed-jammy", "verification-needed-bionic", "verification-needed-focal", "verification-needed-jammy", "verification-needed-noble", "verification-needed-oracular", "wayland"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/ubuntu"><img alt="" width="64" height="64" src="https://launchpadlibrarian.net/606381979/CoF%2064px.png" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/ubuntu">Ubuntu</a><br /><a href="https://launchpad.net/ubuntu/+source/edk2">edk2 package</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/ubuntu/+source/edk2">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/ubuntu/+source/edk2">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/ubuntu/+source/edk2">Bugs</a></li>
      
      
    
    
      
      
      <li class="specifications disabled-tab"><span>Blueprints</span></li>
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/ubuntu/+source/edk2">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/ubuntu/+source/edk2">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    exposing the EFI shell in Secure Boot mode can lead to security bypass
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #2040137 reported by
      <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri</a>
      <time title="2023-10-23 07:12:22 UTC" datetime="2023-10-23T07:12:22.683912+00:00">on 2023-10-23</time>
      
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">286</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary3100454">
    <td>
      
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary3100454">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/edk2" title="Latest release: 2024.11-3, uploaded to main on 2024-12-30 16:33:42.760937+00:00 by Debian QEMU Team (pkg-qemu-devel), maintained by Debian QEMU Team (pkg-qemu-devel)">edk2 (Ubuntu)</a>
        </span>
        
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusFIXRELEASED">Fix Released</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3100454">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~dannf">dann frazier</a>
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3146758">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/focal/+source/edk2">Focal</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusFIXRELEASED">Fix Released</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3146758">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~dannf">dann frazier</a>
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3146762">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/jammy/+source/edk2">Jammy</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusFIXRELEASED">Fix Released</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3146762">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~dannf">dann frazier</a>
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3146764">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/mantic/+source/edk2">Mantic</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusFIXRELEASED">Fix Released</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3146764">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~dannf">dann frazier</a>
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3146760">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/noble/+source/edk2">Noble</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusFIXRELEASED">Fix Released</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3146760">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~dannf">dann frazier</a>
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3120825">
    <td>
      
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary3120825">
        <span class="yui3-activator-data-box">
            <a class="sprite package-source" href="https://bugs.launchpad.net/ubuntu/+source/lxd" title="Latest release: 3.0.3-0ubuntu1~18.04.2, uploaded to main on 2022-03-25 00:11:09.800799+00:00 by Stéphane Graber (stgraber), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)">lxd (Ubuntu)</a>
        </span>
        
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusNEW">New</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3120825">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3146759">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/focal/+source/lxd">Focal</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusNEW">New</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3146759">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3146763">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/jammy/+source/lxd">Jammy</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusNEW">New</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3146763">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3146765">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/mantic/+source/lxd">Mantic</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusWONTFIX">Won't Fix</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3146765">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3146761">
    <td>
      
    </td>
    <td style="padding: 0.3em 0em 0.3em 1.5em">
      <span class="sprite milestone"></span>
      
        <a href="https://bugs.launchpad.net/ubuntu/noble/+source/lxd">Noble</a>
      
        
    </td>
    

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusNEW">New</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3146761">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
      </tbody>

    </table>








      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>The EFI shell is available as a built-in Boot Option in Ubuntu&#x27;s OVMF builds, even when Secure Boot is enabled.</p>
<p>This application has known mechanisms for bypassing UEFI Secure Boot, and has already been barred from signing previously.</p>
<p>It should either: not be built into Secure Boot capable OVMF builds, or disabled when Secure Boot is enabled in any capacity.</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            Tags:
          </span>
          <span id="tag-list">
            <a class="official-tag" href="/ubuntu/+source/edk2/+bugs?field.tag=patch">patch</a>
          </span>
          
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2022-36763" title="EDK2 is susceptible to a vulnerabilit...">2022-36763</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2022-36764" title="EDK2 is susceptible to a vulnerabilit...">2022-36764</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2022-36765" title="EDK2 is susceptible to a vulnerabilit...">2022-36765</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2023-45229" title="EDK2's Network Package is susceptible...">2023-45229</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2023-4523" title="Real Time Automation 460 Series produ...">2023-4523</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2023-45230" title="EDK2's Network Package is susceptible...">2023-45230</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2023-45231" title="EDK2's Network Package is susceptible...">2023-45231</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2023-45232" title="EDK2's Network Package is susceptible...">2023-45232</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2023-45233" title="EDK2's Network Package is susceptible...">2023-45233</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2023-45234" title="EDK2's Network Package is susceptible...">2023-45234</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2023-45235" title="EDK2's Network Package is susceptible...">2023-45235</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2023-48733" title="An insecure default to allow UEFI She...">2023-48733</a>
            </li>
            <li class="sprite cve">
              <a href="/bugs/cve/2023-49721" title="An insecure default to allow UEFI She...">2023-49721</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-10-27T21:26:56.590555+00:00" title="2023-10-27 21:26:56 UTC">on 2023-10-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This vulnerability affects both edk2 and LXD.</p>
<p>I will add future subscribers to this bug to <a rel="nofollow" href="https://bugs.launchpad.net/ubuntu/+source/lxd/+bug/2040139">https:/<wbr />/bugs.launchpad<wbr />.net/ubuntu/<wbr />+source/<wbr />lxd/+bug/<wbr />2040139</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This vulnerability affects both edk2 and LXD.

I will add future subscribers to this bug to https://bugs.launchpad.net/ubuntu/+source/lxd/+bug/2040139</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-10-27T22:04:02.384662+00:00" title="2023-10-27 22:04:02 UTC">on 2023-10-27</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Christian, could you please add the appropriate maintainers to this private bug?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Christian, could you please add the appropriate maintainers to this private bug?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-05T19:37:47.537741+00:00" title="2023-12-05 19:37:47 UTC">on 2023-12-05</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2023-12-12T23:20:02.931364+00:00" title="2023-12-12 23:20:02 UTC">on 2023-12-12</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>(edited since issue was merged with LP#2040139)</p>
<p>CVE-2023-48733 describes this issue in edk2 and CVE-2023-49721 describes the implementation of this issue in lxd.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">(edited since issue was merged with LP#2040139)

CVE-2023-48733 describes this issue in edk2 and CVE-2023-49721 describes the implementation of this issue in lxd.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-05T22:42:39.678166+00:00" title="2023-12-05 22:42:39 UTC">on 2023-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I was just subscribed to this and <a href="/bugs/2040139" class="bug-link">bug 2040139</a> today, so catching up..</p>
<p>Disabling the integrated shell only when SecureBoot mode is active is appealing. That seems like the safest mitigation for a stable update. I don&#x27;t see an existing mechanism for that though.</p>
<p>All of the images provided by edk2 include the secureboot code - whether or not it is enforced during boot is an EFI variable setting. For ovmf, we have a separate image tagged for secureboot that requires SMM - it is documented as the recommend image for secureboot VMs, with the other image type already noted as being less secure:<br />
&nbsp;&nbsp;<a rel="nofollow" href="https://salsa.debian.org/qemu-team/edk2/-/blob/debian/debian/ovmf.README.Debian">https:/<wbr />/salsa.<wbr />debian.<wbr />org/qemu-<wbr />team/edk2/<wbr />-/blob/<wbr />debian/<wbr />debian/<wbr />ovmf.README.<wbr />Debian</a></p>
<p>Disabling the built-in shell in all images seems like a big hammer. Newer edk2 packages do provide efi-shell-* packages that contain standalone Shell.efi binaries, but it is sometimes convenient to have the shell built-in for testing things.</p>
<p>One option is to disable the shell in only the secureboot-tagged ovmf image, and introduce secureboot-tagged variants for the other architectures also with no integrated shell. Users would then have the non-secureboot-<wbr />tagged images if they want a built-in shell. We could remove the SecureBoot code from those images to make the features of built-in Shell and the ability to enable SecureBoot mutually exclusive. But having VM firmware suddenly forget how to do SecureBoot mode after an OS update - even if it is not the firmware image we recommend for SecureBoot mode - seems like a bad experience.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I was just subscribed to this and bug 2040139 today, so catching up..

Disabling the integrated shell only when SecureBoot mode is active is appealing. That seems like the safest mitigation for a stable update. I don't see an existing mechanism for that though.

All of the images provided by edk2 include the secureboot code - whether or not it is enforced during boot is an EFI variable setting. For ovmf, we have a separate image tagged for secureboot that requires SMM - it is documented as the recommend image for secureboot VMs, with the other image type already noted as being less secure:
  https://salsa.debian.org/qemu-team/edk2/-/blob/debian/debian/ovmf.README.Debian

Disabling the built-in shell in all images seems like a big hammer. Newer edk2 packages do provide efi-shell-* packages that contain standalone Shell.efi binaries, but it is sometimes convenient to have the shell built-in for testing things.

One option is to disable the shell in only the secureboot-tagged ovmf image, and introduce secureboot-tagged variants for the other architectures also with no integrated shell. Users would then have the non-secureboot-tagged images if they want a built-in shell. We could remove the SecureBoot code from those images to make the features of built-in Shell and the ability to enable SecureBoot mutually exclusive. But having VM firmware suddenly forget how to do SecureBoot mode after an OS update - even if it is not the firmware image we recommend for SecureBoot mode - seems like a bad experience.
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-05T23:22:06.223853+00:00" title="2023-12-05 23:22:06 UTC">on 2023-12-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks Dann!</p>
<p>@mkukri has a solution to replace the EFI shell wtih python-uefivars to enroll keys. I don&#x27;t know the specifics. I believe this would require python-uefivars in main for all affected releases, which would require MIR coordination.</p>
<p>Having images that are clearly documented as not supporting Secure Boot sounds fine to me. This implies a threat model where a local attacker is not a concern. An option to enable EFI Shell on Secure Boot systems is also okay (say for debugging), as long as it is opt in (secure by default) and the risk is well communicated.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks Dann!

@mkukri has a solution to replace the EFI shell wtih python-uefivars to enroll keys. I don't know the specifics. I believe this would require python-uefivars in main for all affected releases, which would require MIR coordination.

Having images that are clearly documented as not supporting Secure Boot sounds fine to me. This implies a threat model where a local attacker is not a concern. An option to enable EFI Shell on Secure Boot systems is also okay (say for debugging), as long as it is opt in (secure by default) and the risk is well communicated.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T00:57:00.551940+00:00" title="2023-12-06 00:57:00 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi - yeah, I mentioned in <a href="/bugs/2040139" class="bug-link">bug 2040139</a> that we shouldn&#x27;t need to change our enrollment method to get this fix out. That&#x27;s done at build-time, and we can just use a non-secure-boot image to do it. I do plan to change the enrollment method, but that&#x27;s just a general improvement we could do in a devel release.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi - yeah, I mentioned in bug 2040139 that we shouldn't need to change our enrollment method to get this fix out. That's done at build-time, and we can just use a non-secure-boot image to do it. I do plan to change the enrollment method, but that's just a general improvement we could do in a devel release.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paelzer" class="sprite person">Christian Ehrhardt  (paelzer)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T06:28:21.234843+00:00" title="2023-12-06 06:28:21 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi,<br />
also just got note of this and catching up on this and  <a href="/bugs/2040139" class="bug-link">bug 2040139</a></p>
<p><span class="foldable-quoted">&gt; @mkukri has a solution to replace the EFI shell wtih python-uefivars to enroll keys. I don&#x27;t know the specifics. I believe this would require python-uefivars in main for all affected releases, which would require MIR coordination.
</span></p>
<p>No, AFAICS it would only be a build time dependency right? Replacing the use of the intermal shell in edk2-vars-<wbr />generator.<wbr />py. Would we want this to be high quality - yes, would we want it to be in main - I guess, but just strictly looking at the rules it does not have to be in main as a pure build time dependency.</p>
<p>Or - as DannF said, even if we would drop the shell in the secure-boot image, we could just use the non-secure-boot image to do the enrollment. In that case also the change is smaller (which is more appealing when changing released Ubuntu versions). In that case python-uefivars would not even be needed as a build time dependency.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi,
also just got note of this and catching up on this and  bug 2040139

&gt; @mkukri has a solution to replace the EFI shell wtih python-uefivars to enroll keys. I don't know the specifics. I believe this would require python-uefivars in main for all affected releases, which would require MIR coordination.

No, AFAICS it would only be a build time dependency right? Replacing the use of the intermal shell in edk2-vars-generator.py. Would we want this to be high quality - yes, would we want it to be in main - I guess, but just strictly looking at the rules it does not have to be in main as a pure build time dependency.

Or - as DannF said, even if we would drop the shell in the secure-boot image, we could just use the non-secure-boot image to do the enrollment. In that case also the change is smaller (which is more appealing when changing released Ubuntu versions). In that case python-uefivars would not even be needed as a build time dependency.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T08:18:52.054576+00:00" title="2023-12-06 08:18:52 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2023-12-06T08:19:57.300823+00:00" title="2023-12-06 08:19:57 UTC">on 2023-12-06</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>If the &quot;non-secure-boot&quot; images still have both the Shell always enabled and give the user the option to enroll their own keys and setup SB, they could still end up with Secure Boot enabled and have the shell. Of course it&#x27;s somewhat better than the same with prod keys, and we can clearly label it as &quot;not supported&quot;, but it still exposes an insecure scenario.</p>
<p>The point I am trying to make is that if we&#x27;d like to have both Secure Boot support and the Shell at the same time in any of the images, I think the ability to launch the shell should be gated against Secure Boot being enabled (maybe with a hopefully upstream-able patch?). Or I guess another option is to compile out secure boot support from images that have the shell.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">If the "non-secure-boot" images still have both the Shell always enabled and give the user the option to enroll their own keys and setup SB, they could still end up with Secure Boot enabled and have the shell. Of course it's somewhat better than the same with prod keys, and we can clearly label it as "not supported", but it still exposes an insecure scenario.

The point I am trying to make is that if we'd like to have both Secure Boot support and the Shell at the same time in any of the images, I think the ability to launch the shell should be gated against Secure Boot being enabled (maybe with a hopefully upstream-able patch?). Or I guess another option is to compile out secure boot support from images that have the shell.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T08:26:16.004365+00:00" title="2023-12-06 08:26:16 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2023-12-06T08:26:33.757353+00:00" title="2023-12-06 08:26:33 UTC">on 2023-12-06</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>A fairly simple and non-invasive fix I could PoC would be to patch EDK2 to only allow launching the Shell if SecureBootEnabl<wbr />ed==0 || SecureBoot==0 || SetupMode==1.</p>
<p>That way key enrollment could stay identical for now, users with SB disabled would still have the shell available, and theoretically (fingers crossed) we&#x27;d get away with a small patch.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">A fairly simple and non-invasive fix I could PoC would be to patch EDK2 to only allow launching the Shell if SecureBootEnabled==0 || SecureBoot==0 || SetupMode==1.

That way key enrollment could stay identical for now, users with SB disabled would still have the shell available, and theoretically (fingers crossed) we'd get away with a small patch.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~paelzer" class="sprite person">Christian Ehrhardt  (paelzer)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T11:03:43.462329+00:00" title="2023-12-06 11:03:43 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>We kept discussing in two places, so I merged these as duplicated.<br />
Have a look at <a href="/bugs/2040139" class="bug-link">bug 2040139</a> for some context on the LXD side of things.<br />
From now on we will discuss it all here.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">We kept discussing in two places, so I merged these as duplicated.
Have a look at bug 2040139 for some context on the LXD side of things.
From now on we will discuss it all here.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T14:35:50+00:00" title="2023-12-06 14:35:50 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/ubuntu/+source/edk2/+bug/2040137/comments/11">
                <strong>Re: [Bug 2040137] Re: exposing the EFI shell in Secure Boot mode can lead to security bypass</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Wed, Dec 6, 2023 at 1:36 AM Mate Kukri &lt;email address hidden&gt; wrote:<br />
<span class="foldable-quoted">
&gt;<br />
&gt; A fairly simple and non-invasive fix I could PoC would be to patch EDK2<br />
&gt; to only allow launching the Shell if SecureBootEnabl<wbr />ed==0 ||<br />
&gt; SecureBoot==0 || SetupMode==1.<br />
&gt;<br />
&gt; That way key enrollment could stay identical for now, users with SB<br />
&gt; disabled would still have the shell available, and theoretically<br />
&gt; (fingers crossed) we&#x27;d get away with a small patch.
</span></p>
<p>Yes, I agree that would be ideal. Is there a channel open with<br />
upstream on this matter where we could discuss such a patch? If not,<br />
shall we open a security bug in their bugzilla?<br />
&nbsp;&nbsp;<a rel="nofollow" href="https://github.com/tianocore/tianocore.github.io/wiki/Reporting-Security-Issues">https:/<wbr />/github.<wbr />com/tianocore/<wbr />tianocore.<wbr />github.<wbr />io/wiki/<wbr />Reporting-<wbr />Security-<wbr />Issues</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Wed, Dec 6, 2023 at 1:36 AM Mate Kukri &lt;2040137@bugs.launchpad.net&gt; wrote:
&gt;
&gt; A fairly simple and non-invasive fix I could PoC would be to patch EDK2
&gt; to only allow launching the Shell if SecureBootEnabled==0 ||
&gt; SecureBoot==0 || SetupMode==1.
&gt;
&gt; That way key enrollment could stay identical for now, users with SB
&gt; disabled would still have the shell available, and theoretically
&gt; (fingers crossed) we'd get away with a small patch.

Yes, I agree that would be ideal. Is there a channel open with
upstream on this matter where we could discuss such a patch? If not,
shall we open a security bug in their bugzilla?
  https://github.com/tianocore/tianocore.github.io/wiki/Reporting-Security-Issues</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T14:49:22.432621+00:00" title="2023-12-06 14:49:22 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2023-12-06T15:30:58.048656+00:00" title="2023-12-06 15:30:58 UTC">on 2023-12-06</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p><span class="foldable-quoted">&gt; Yes, I agree that would be ideal. Is there a channel open with<br />
&gt; upstream on this matter where we could discuss such a patch? If not,<br />
&gt; shall we open a security bug in their bugzilla?<br />
&gt;   <a rel="nofollow" href="https://github.com/tianocore/tianocore.github.io/wiki/Reporting-Security-Issues">https:/<wbr />/github.<wbr />com/tianocore/<wbr />tianocore.<wbr />github.<wbr />io/wiki/<wbr />Reporting-<wbr />Security-<wbr />Issues</a>
</span></p>
<p>That was a new idea, so I don&#x27;t think there is a channel open yet, but I agree it would be ideal to open one.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">&gt; Yes, I agree that would be ideal. Is there a channel open with
&gt; upstream on this matter where we could discuss such a patch? If not,
&gt; shall we open a security bug in their bugzilla?
&gt;   https://github.com/tianocore/tianocore.github.io/wiki/Reporting-Security-Issues

That was a new idea, so I don't think there is a channel open yet, but I agree it would be ideal to open one.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T16:15:22.135346+00:00" title="2023-12-06 16:15:22 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+attachment/5726761/+files/0001-d-p-Disable-the-Shell-when-SecureBoot-is-enabled.pat.patch" class="sprite haspatch-icon">0001-d-p-Disable-the-Shell-when-SecureBoot-is-enabled.pat.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/edk2/+bug/2040137/+attachment/5726761">Edit</a>
        
        (4.4 KiB,
        text/plain)
        
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Here is a proof of concept patch that disables the Shell only in SecureBoot and non-Setup mode.</p>
<p>I&#x27;ve tested this to build and correctly enroll the variables. Then when used as previously in a Secure Boot enabled VM, the Shell does not launch due to the returned EFI_SECURITY_<wbr />VIOLATION.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Here is a proof of concept patch that disables the Shell only in SecureBoot and non-Setup mode.

I've tested this to build and correctly enroll the variables. Then when used as previously in a Secure Boot enabled VM, the Shell does not launch due to the returned EFI_SECURITY_VIOLATION.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T16:48:46.756745+00:00" title="2023-12-06 16:48:46 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks @mkukri!</p>
<p>@eslerm, as you seem to be coordinating, are you +1 with opening an upstream security bug? I can open that if you like since I already have an account, and ask them to subscribe others.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks @mkukri!

@eslerm, as you seem to be coordinating, are you +1 with opening an upstream security bug? I can open that if you like since I already have an account, and ask them to subscribe others.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T17:34:41.573708+00:00" title="2023-12-06 17:34:41 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Dann, we should coordinate with tianocore and Debian.</p>
<p>I can do this, but ideally we set a &quot;coordinated release date&quot; first.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Dann, we should coordinate with tianocore and Debian.

I can do this, but ideally we set a "coordinated release date" first.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-06T21:14:09.494385+00:00" title="2023-12-06 21:14:09 UTC">on 2023-12-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks Mark. fwiw, I&#x27;m fine w/ the end of Jan timeframe for getting patches together for the edk2 package.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks Mark. fwiw, I'm fine w/ the end of Jan timeframe for getting patches together for the edk2 package.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~seth-arnold" class="sprite person">Seth Arnold (seth-arnold)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-08T02:25:40.408904+00:00" title="2023-12-08 02:25:40 UTC">on 2023-12-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;m worried about the &quot;disables the Shell only in SecureBoot and non-Setup mode&quot; approach.</p>
<p>What are the &quot;known mechanisms&quot; to use the Shell to bypass Secure Boot?</p>
<p>Would any of these mechanisms persist through the following process?</p>
<p>- attacker reboots system and enters &quot;bios&quot; setup<br />
- attacker disables secure boot<br />
- attacker boots into Shell<br />
- attacker fiddles the knobs<br />
- attacker reboots system and and enters &quot;bios&quot; setup<br />
- attacker enables secure boot<br />
- attacker bypasses Secure Boot due to the knob fiddling</p>
<p>Thanks</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'm worried about the "disables the Shell only in SecureBoot and non-Setup mode" approach.

What are the "known mechanisms" to use the Shell to bypass Secure Boot?

Would any of these mechanisms persist through the following process?

- attacker reboots system and enters "bios" setup
- attacker disables secure boot
- attacker boots into Shell
- attacker fiddles the knobs
- attacker reboots system and and enters "bios" setup
- attacker enables secure boot
- attacker bypasses Secure Boot due to the knob fiddling

Thanks</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~juliank" class="sprite person">Julian Andres Klode (juliank)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-08T07:57:04.075505+00:00" title="2023-12-08 07:57:04 UTC">on 2023-12-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>That&#x27;s fine Seth if secure boot is disabled you can pretty much fiddle the knobs from everywhere.</p>
<p>If you turn it to setup mode you can conveniently replace the keys from inside Linux too.</p>
<p>It mostly boils down to the efi shell being easy to manipulate over the serial console by a script whereas to go into uefi and toggle secure boot off you&#x27;d likely have to be human or do some machine learning to recognise the screens (or toggle stuff blindly).</p>
<p>Outside of FDE the effects probably are negligible because it&#x27;s much easier to attack the systems by booting them with init=/bin/bash and just rootkit the OS...</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">That's fine Seth if secure boot is disabled you can pretty much fiddle the knobs from everywhere.

If you turn it to setup mode you can conveniently replace the keys from inside Linux too.

It mostly boils down to the efi shell being easy to manipulate over the serial console by a script whereas to go into uefi and toggle secure boot off you'd likely have to be human or do some machine learning to recognise the screens (or toggle stuff blindly).

Outside of FDE the effects probably are negligible because it's much easier to attack the systems by booting them with init=/bin/bash and just rootkit the OS...</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-08T08:48:03.488541+00:00" title="2023-12-08 08:48:03 UTC">on 2023-12-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@seth-arnold The known mechanism is full access to physical memory via Shell commands, which can be turned into arbitrary code execution. However if you have the ability to go through that process you can also just run any unsigned binary after step 2 instead of having to use the Shell, I don&#x27;t think it gets you any extra abilities over simply launching unsigned code.</p>
<p>@juliank If you have root access, you can also drop a script for the EFI shell on the ESP, change the boot order to it then trigger a reboot. After the reboot the shell script can launch a payload that runs a backdoored OSes, etc. FDE is hopefully fine if launching the Shell affects TPM measurements.</p>
<p>I think the issue here is arbitrary unsigned code execution without someone having access to an external console. E.g. similar to previous things tagged bypasses to Secure Boot.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@seth-arnold The known mechanism is full access to physical memory via Shell commands, which can be turned into arbitrary code execution. However if you have the ability to go through that process you can also just run any unsigned binary after step 2 instead of having to use the Shell, I don't think it gets you any extra abilities over simply launching unsigned code.

@juliank If you have root access, you can also drop a script for the EFI shell on the ESP, change the boot order to it then trigger a reboot. After the reboot the shell script can launch a payload that runs a backdoored OSes, etc. FDE is hopefully fine if launching the Shell affects TPM measurements.

I think the issue here is arbitrary unsigned code execution without someone having access to an external console. E.g. similar to previous things tagged bypasses to Secure Boot.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-12T23:18:52.629585+00:00" title="2023-12-12 23:18:52 UTC">on 2023-12-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>CVE-2023-48733 describes this issue in edk2 and CVE-2023-49721 describes the implementation of this issue in lxd.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">CVE-2023-48733 describes this issue in edk2 and CVE-2023-49721 describes the implementation of this issue in lxd.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~seth-arnold" class="sprite person">Seth Arnold (seth-arnold)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-13T21:49:39.026255+00:00" title="2023-12-13 21:49:39 UTC">on 2023-12-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Julian, Mate, thanks. That does sound like a more complex implementation is a fair choice to make.</p>
<p>That leaves me with one new worry:</p>
<p><span class="foldable-quoted">&gt; disables the Shell only in SecureBoot and non-Setup mode
</span></p>
<p>Are we enumerating environments where Shell is disabled? Or are we enumerating environments where Shell is enabled?</p>
<p>Thanks</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Julian, Mate, thanks. That does sound like a more complex implementation is a fair choice to make.

That leaves me with one new worry:

&gt; disables the Shell only in SecureBoot and non-Setup mode

Are we enumerating environments where Shell is disabled? Or are we enumerating environments where Shell is enabled?

Thanks</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-14T09:28:23.012021+00:00" title="2023-12-14 09:28:23 UTC">on 2023-12-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@seth-arnold The patch proposed here patches the Shell binary to exit with &quot;EFI_SECURITY_<wbr />VIOLATION&quot; if the following condition is true: &quot;SecureBootEnab<wbr />led() &amp;&amp; !SetupMode&quot;.</p>
<p>I suppose it is closer to &quot;enumerating environments where Shell is disabled&quot;, but I also believe it is sufficient to restrict access to Shell to environments where unsigned code execution was allowed anyhow.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@seth-arnold The patch proposed here patches the Shell binary to exit with "EFI_SECURITY_VIOLATION" if the following condition is true: "SecureBootEnabled() &amp;&amp; !SetupMode".

I suppose it is closer to "enumerating environments where Shell is disabled", but I also believe it is sufficient to restrict access to Shell to environments where unsigned code execution was allowed anyhow.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-14T15:24:31.524004+00:00" title="2023-12-14 15:24:31 UTC">on 2023-12-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi Mark - have you begun coordination w/ upstream? I&#x27;d like their perspective on our approach. Also, I assume that Incus is vulnerable as well. Have we reached out to them?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi Mark - have you begun coordination w/ upstream? I'd like their perspective on our approach. Also, I assume that Incus is vulnerable as well. Have we reached out to them? </textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-14T18:06:38.817335+00:00" title="2023-12-14 18:06:38 UTC">on 2023-12-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi Dann, I have not coordinated yet. The CRD is loose, is there a specific date we can commit to? edk2 may have their own timeline, but I can reach out for their perspective. January 2nd may be a better date to initiate this conversation.</p>
<p>Downstreams and other vendors will be contacted after we have a solid patching plan and timeline. So far this includes Debian and (once verified) Incus.</p>
<p>Seth, does this sound good to you? If so I will file a report on <a rel="nofollow" href="https://github.com/tianocore/edk2/security">https:/<wbr />/github.<wbr />com/tianocore/<wbr />edk2/security</a> and add you, Dann, and Mate. And offer to add their security devs to this bug.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi Dann, I have not coordinated yet. The CRD is loose, is there a specific date we can commit to? edk2 may have their own timeline, but I can reach out for their perspective. January 2nd may be a better date to initiate this conversation.

Downstreams and other vendors will be contacted after we have a solid patching plan and timeline. So far this includes Debian and (once verified) Incus.

Seth, does this sound good to you? If so I will file a report on https://github.com/tianocore/edk2/security and add you, Dann, and Mate. And offer to add their security devs to this bug.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-14T18:55:03+00:00" title="2023-12-14 18:55:03 UTC">on 2023-12-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Thu, Dec 14, 2023 at 11:15 AM Mark Esler &lt;email address hidden&gt; wrote:<br />
<span class="foldable-quoted">
&gt;<br />
&gt; Hi Dann, I have not coordinated yet. The CRD is loose, is there a<br />
&gt; specific date we can commit to? edk2 may have their own timeline, but I<br />
&gt; can reach out for their perspective. January 2nd may be a better date to<br />
&gt; initiate this conversation.
</span></p>
<p>I&#x27;d prefer not to commit to a date before upstream is engaged. My<br />
concern is that they may prefer a different approach or spot<br />
additional issues that we should take into account, and that may take<br />
more time. As noted in Comment #16, I&#x27;m OK with a date at the end of<br />
January for the edk2 deb part, assuming Mate&#x27;s approach is the<br />
approach we agree to take. That seems straightforward, other than<br />
removing some shell dependencies from the autopkgtests, which I plan<br />
to spend some time on over the holidays.</p>
<p><span class="foldable-quoted">&gt; Downstreams and other vendors will be contacted after we have a solid<br />
&gt; patching plan and timeline. So far this includes Debian and (once<br />
&gt; verified) Incus.
</span></p>
<p>Sounds good.</p>
<p><span class="foldable-quoted">&gt; Seth, does this sound good to you? If so I will file a report on<br />
&gt; <a rel="nofollow" href="https://github.com/tianocore/edk2/security">https:/<wbr />/github.<wbr />com/tianocore/<wbr />edk2/security</a> and add you, Dann, and Mate.<br />
&gt; And offer to add their security devs to this bug.
</span></p>
<p>Note that their docs say to file security bugs in their bugzilla<br />
instance, not github:<br />
<a rel="nofollow" href="https://github.com/tianocore/tianocore.github.io/wiki/Reporting-Security-Issues">https:/<wbr />/github.<wbr />com/tianocore/<wbr />tianocore.<wbr />github.<wbr />io/wiki/<wbr />Reporting-<wbr />Security-<wbr />Issues</a></p>
<p>My bugzilla account there is under &lt;email address hidden&gt;.</p>
<p>&nbsp;&nbsp;&nbsp;-dann</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Thu, Dec 14, 2023 at 11:15 AM Mark Esler &lt;2040137@bugs.launchpad.net&gt; wrote:
&gt;
&gt; Hi Dann, I have not coordinated yet. The CRD is loose, is there a
&gt; specific date we can commit to? edk2 may have their own timeline, but I
&gt; can reach out for their perspective. January 2nd may be a better date to
&gt; initiate this conversation.

I'd prefer not to commit to a date before upstream is engaged. My
concern is that they may prefer a different approach or spot
additional issues that we should take into account, and that may take
more time. As noted in Comment #16, I'm OK with a date at the end of
January for the edk2 deb part, assuming Mate's approach is the
approach we agree to take. That seems straightforward, other than
removing some shell dependencies from the autopkgtests, which I plan
to spend some time on over the holidays.

&gt; Downstreams and other vendors will be contacted after we have a solid
&gt; patching plan and timeline. So far this includes Debian and (once
&gt; verified) Incus.

Sounds good.

&gt; Seth, does this sound good to you? If so I will file a report on
&gt; https://github.com/tianocore/edk2/security and add you, Dann, and Mate.
&gt; And offer to add their security devs to this bug.

Note that their docs say to file security bugs in their bugzilla
instance, not github:
https://github.com/tianocore/tianocore.github.io/wiki/Reporting-Security-Issues

My bugzilla account there is under dannf@dannf.org.

   -dann</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-14T19:12:41.357324+00:00" title="2023-12-14 19:12:41 UTC">on 2023-12-14</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2023-12-14T19:26:00.579371+00:00" title="2023-12-14 19:26:00 UTC">on 2023-12-14</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks Dann! I mistook the &quot;Suggest A Policy&quot; button for something else.</p>
<p>Due to `Tianocore Security Issue product are only visible to the Reporter` would you prefer to be the contact? If so, please include the CVD-ID, that our CRD is late January/early February and that Mate discovered this issue.</p>
<p>I&#x27;ll ping LXD.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks Dann! I mistook the "Suggest A Policy" button for something else.

Due to `Tianocore Security Issue product are only visible to the Reporter` would you prefer to be the contact? If so, please include the CVD-ID, that our CRD is late January/early February and that Mate discovered this issue.

I'll ping LXD.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-14T19:22:59.012437+00:00" title="2023-12-14 19:22:59 UTC">on 2023-12-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Dann, I&#x27;d rather report this through their GitHub&#x27;s Report a Vulnerability feature <a rel="nofollow" href="https://github.com/tianocore/edk2/security">https:/<wbr />/github.<wbr />com/tianocore/<wbr />edk2/security</a></p>
<p>EDK II enabled this feature for reporting, and it is a better platform for all of us to communicate with them.</p>
<p>I can file a bug noting the discrepancy in their reporting policies, and followup on bugzilla to direct their other devs to the GHSA issue.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Dann, I'd rather report this through their GitHub's Report a Vulnerability feature https://github.com/tianocore/edk2/security

EDK II enabled this feature for reporting, and it is a better platform for all of us to communicate with them.

I can file a bug noting the discrepancy in their reporting policies, and followup on bugzilla to direct their other devs to the GHSA issue.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/28" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-14T19:45:57+00:00" title="2023-12-14 19:45:57 UTC">on 2023-12-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/28"> #28</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>On Thu, Dec 14, 2023 at 12:30 PM Mark Esler &lt;email address hidden&gt; wrote:<br />
<span class="foldable-quoted">
&gt;<br />
&gt; Dann, I&#x27;d rather report this through their GitHub&#x27;s Report a<br />
&gt; Vulnerability feature <a rel="nofollow" href="https://github.com/tianocore/edk2/security">https:/<wbr />/github.<wbr />com/tianocore/<wbr />edk2/security</a><br />
&gt;<br />
&gt; EDK II enabled this feature for reporting, and it is a better platform<br />
&gt; for all of us to communicate with them.<br />
&gt;<br />
&gt; I can file a bug noting the discrepancy in their reporting policies, and<br />
&gt; followup on bugzilla to direct their other devs to the GHSA issue.
</span></p>
<p>+1, thanks.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">On Thu, Dec 14, 2023 at 12:30 PM Mark Esler &lt;2040137@bugs.launchpad.net&gt; wrote:
&gt;
&gt; Dann, I'd rather report this through their GitHub's Report a
&gt; Vulnerability feature https://github.com/tianocore/edk2/security
&gt;
&gt; EDK II enabled this feature for reporting, and it is a better platform
&gt; for all of us to communicate with them.
&gt;
&gt; I can file a bug noting the discrepancy in their reporting policies, and
&gt; followup on bugzilla to direct their other devs to the GHSA issue.

+1, thanks.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/29" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-14T22:54:11.711802+00:00" title="2023-12-14 22:54:11 UTC">on 2023-12-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/29"> #29</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>upstream report was made to <a rel="nofollow" href="https://github.com/tianocore/edk2/security/advisories/GHSA-6fhj-3w4g-3vw2#advisory-comment-92555">https:/<wbr />/github.<wbr />com/tianocore/<wbr />edk2/security/<wbr />advisories/<wbr />GHSA-6fhj-<wbr />3w4g-3vw2#<wbr />advisory-<wbr />comment-<wbr />92555</a> with a request to add Dann and Mate</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">upstream report was made to https://github.com/tianocore/edk2/security/advisories/GHSA-6fhj-3w4g-3vw2#advisory-comment-92555 with a request to add Dann and Mate</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/30" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-15T10:15:13.197906+00:00" title="2023-12-15 10:15:13 UTC">on 2023-12-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/30"> #30</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@eslerm thanks for reporting this upstream, will follow-up to any discussion when I get added.</p>
<p>Just keep in mind that this isn&#x27;t a vulnerability in upstream edk2 codebase in the strict sense, as it only affects you if you specifically opt-in to certain configurations in your builds. These being insecure should really be documented by upstream to avoid others falling into the trap however.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@eslerm thanks for reporting this upstream, will follow-up to any discussion when I get added.

Just keep in mind that this isn't a vulnerability in upstream edk2 codebase in the strict sense, as it only affects you if you specifically opt-in to certain configurations in your builds. These being insecure should really be documented by upstream to avoid others falling into the trap however.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/31" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-15T17:00:18.185730+00:00" title="2023-12-15 17:00:18 UTC">on 2023-12-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/31"> #31</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks Mate. I relayed what you said for upstream.</p>
<p>I&#x27;ll rely on you and Dann for technical expertise. I&#x27;ll mostly help mediate conversations and agreements.</p>
<p>Dangerous opt-ins (or combination of opt-ins) should be documented. Could you share an example of this documentation? (after the break is fine!)</p>
<p>Perhaps we need to report this through the distros list if many downstreams are affected.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks Mate. I relayed what you said for upstream.

I'll rely on you and Dann for technical expertise. I'll mostly help mediate conversations and agreements.

Dangerous opt-ins (or combination of opt-ins) should be documented. Could you share an example of this documentation? (after the break is fine!)

Perhaps we need to report this through the distros list if many downstreams are affected.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/32" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-15T17:48:25.263216+00:00" title="2023-12-15 17:48:25 UTC">on 2023-12-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/32"> #32</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@eslerm</p>
<p>I think in this case it is something like:<br />
&nbsp;&quot;Enabling the UEFI Shell in OVMF builds that also support Secure Boot isn&#x27;t recommended, the Shell can be used to bypass Secure Boot.&quot;</p>
<p>However, if my patch (or something similar) gets upstreamed, the warning would no longer be valid, as the patch prohibits executing the UEFI Shell when Secure Boot is enabled.</p>
<p>(And just noting that I still don&#x27;t have access to the upstream advisory.)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@eslerm

I think in this case it is something like:
 "Enabling the UEFI Shell in OVMF builds that also support Secure Boot isn't recommended, the Shell can be used to bypass Secure Boot."

However, if my patch (or something similar) gets upstreamed, the warning would no longer be valid, as the patch prohibits executing the UEFI Shell when Secure Boot is enabled.

(And just noting that I still don't have access to the upstream advisory.)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/33" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-15T17:53:12.773592+00:00" title="2023-12-15 17:53:12 UTC">on 2023-12-15</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2023-12-15T17:53:36.971302+00:00" title="2023-12-15 17:53:36 UTC">on 2023-12-15</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/33"> #33</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>And as far as effected distros go, so far I&#x27;ve confirmed:</p>
<p>- OVMF on Fedora, Red Hat (and likely derivatives): not affected<br />
- OVMF and LXD on Debian, Ubuntu (and likely derivatives): affected</p>
<p>Other distros are still up in the air.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">And as far as effected distros go, so far I've confirmed:

- OVMF on Fedora, Red Hat (and likely derivatives): not affected
- OVMF and LXD on Debian, Ubuntu (and likely derivatives): affected

Other distros are still up in the air.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/34" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-15T19:32:52.416879+00:00" title="2023-12-15 19:32:52 UTC">on 2023-12-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/34"> #34</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@mkukri: Sorry. I meant, could you share an example of their current documentation? If you send specifics, I can review.</p>
<p>I like giving users the option to do something &quot;unsafe&quot;. It might be safe or necessary in their user case, or they might have other reasons to justify their threat model. As long as safe defaults are used and the documentation clearly communicates risks I&#x27;m happy.</p>
<p>We could share patches 1 week before CRD on oss-security&#x27;s distros list, and reach out to other vendors we know about then (distros has a 2 week max embargo period, but prefer 1 week). We can coordinate with Debian before then.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@mkukri: Sorry. I meant, could you share an example of their current documentation? If you send specifics, I can review.

I like giving users the option to do something "unsafe". It might be safe or necessary in their user case, or they might have other reasons to justify their threat model. As long as safe defaults are used and the documentation clearly communicates risks I'm happy.

We could share patches 1 week before CRD on oss-security's distros list, and reach out to other vendors we know about then (distros has a 2 week max embargo period, but prefer 1 week). We can coordinate with Debian before then.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/35" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2023-12-15T20:04:56.426363+00:00" title="2023-12-15 20:04:56 UTC">on 2023-12-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/35"> #35</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@exlerm EDK2 is mostly a developer kit, so there isn&#x27;t much user documentation as such. Mainly there is this README for OVMF: <a rel="nofollow" href="https://github.com/tianocore/edk2/blob/master/OvmfPkg/README">https:/<wbr />/github.<wbr />com/tianocore/<wbr />edk2/blob/<wbr />master/<wbr />OvmfPkg/<wbr />README</a>. There also is a rather sparse GitHub wiki here: <a rel="nofollow" href="https://github.com/tianocore/tianocore.github.io/wiki/edk-ii">https:/<wbr />/github.<wbr />com/tianocore/<wbr />tianocore.<wbr />github.<wbr />io/wiki/<wbr />edk-ii</a>.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@exlerm EDK2 is mostly a developer kit, so there isn't much user documentation as such. Mainly there is this README for OVMF: https://github.com/tianocore/edk2/blob/master/OvmfPkg/README. There also is a rather sparse GitHub wiki here: https://github.com/tianocore/tianocore.github.io/wiki/edk-ii.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/36" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-05T18:18:12.904408+00:00" title="2024-01-05 18:18:12 UTC">on 2024-01-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/36"> #36</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I have not been able to reach TianoCore developers, so I opened a discussion requesting they update their contact information.</p>
<p><a rel="nofollow" href="https://github.com/tianocore/edk2/discussions/5224">https:/<wbr />/github.<wbr />com/tianocore/<wbr />edk2/discussion<wbr />s/5224</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I have not been able to reach TianoCore developers, so I opened a discussion requesting they update their contact information.

https://github.com/tianocore/edk2/discussions/5224</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/37" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-07T16:52:16.865712+00:00" title="2024-01-07 16:52:16 UTC">on 2024-01-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/37"> #37</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+attachment/5737166/+files/0001-Update-autopkgtests-to-not-require-a-shell-when-Secu.patch" class="sprite haspatch-icon">0001-Update-autopkgtests-to-not-require-a-shell-when-Secu.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/edk2/+bug/2040137/+attachment/5737166">Edit</a>
        
        (2.8 KiB,
        text/plain)
        
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks for pinging Mark - I see they&#x27;ve responded.</p>
<p>btw, I&#x27;ve updated the autopkgtests for edk2 to work in this mode. I can backport it to older series once we&#x27;re ready to prepare those uploads.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks for pinging Mark - I see they've responded.

btw, I've updated the autopkgtests for edk2 to work in this mode. I can backport it to older series once we're ready to prepare those uploads.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/38" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-08T07:45:01.483054+00:00" title="2024-01-08 07:45:01 UTC">on 2024-01-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/38"> #38</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I see their response the public post, but I haven&#x27;t been added to the embargoed discussion page yet.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I see their response the public post, but I haven't been added to the embargoed discussion page yet.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/39" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-08T16:09:47.874436+00:00" title="2024-01-08 16:09:47 UTC">on 2024-01-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/39"> #39</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Upstream set a new contact for Bugzilla access. They also added a group to the GHSA report. Feels like progress 🤞</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Upstream set a new contact for Bugzilla access. They also added a group to the GHSA report. Feels like progress 🤞</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/40" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-11T13:21:03.433920+00:00" title="2024-01-11 13:21:03 UTC">on 2024-01-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/40"> #40</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This was reported upstream as <a href="/bugs/4641" class="bug-link">bug #4641</a> on Tianocore&#x27;s bugzilla. Note that unless you have an account there, you won&#x27;t be able to access as it is classified as a private security bug.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This was reported upstream as bug #4641 on Tianocore's bugzilla. Note that unless you have an account there, you won't be able to access as it is classified as a private security bug.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/41" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-22T18:03:54.758153+00:00" title="2024-01-22 18:03:54 UTC">on 2024-01-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/41"> #41</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Tianocore is has begun publishing backlog security issues: <a rel="nofollow" href="https://github.com/tianocore/edk2/security/advisories">https:/<wbr />/github.<wbr />com/tianocore/<wbr />edk2/security/<wbr />advisories</a></p>
<p>@mkukri, if you have all the information you need to release a patch, please choose a CRD date and mention it here and bugzilla.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Tianocore is has begun publishing backlog security issues: https://github.com/tianocore/edk2/security/advisories

@mkukri, if you have all the information you need to release a patch, please choose a CRD date and mention it here and bugzilla.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/42" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-23T07:59:05.506744+00:00" title="2024-01-23 07:59:05 UTC">on 2024-01-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/42"> #42</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+attachment/5741528/+files/Disable-the-Shell-when-SecureBoot-is-enabled.patch" class="sprite haspatch-icon">Disable-the-Shell-when-SecureBoot-is-enabled.patch</a>
        <a class="sprite edit action-icon" href="/ubuntu/+source/edk2/+bug/2040137/+attachment/5741528">Edit</a>
        
        (3.0 KiB,
        text/plain)
        
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@eslerm I think the EDK2 package is easy enough (despite SRU and such troubles), but I&#x27;d like the LXD folks to okay the patch too.</p>
<p>@tomparrott would someone from LXD be able to test this? (To that end I am attaching the &quot;bare&quot; patch for the edk2 tree to this comment).  It should not need any other changes to edk2, nor your key enrollment setup as it only disables the Shell after SB was activated.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@eslerm I think the EDK2 package is easy enough (despite SRU and such troubles), but I'd like the LXD folks to okay the patch too.

@tomparrott would someone from LXD be able to test this? (To that end I am attaching the "bare" patch for the edk2 tree to this comment).  It should not need any other changes to edk2, nor your key enrollment setup as it only disables the Shell after SB was activated.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/43" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tomparrott" class="sprite person">Thomas Parrott (tomparrott)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-23T10:59:47.812317+00:00" title="2024-01-23 10:59:47 UTC">on 2024-01-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/43"> #43</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi @mkukri yes I have created to track this <a rel="nofollow" href="https://warthogs.atlassian.net/browse/LXD-800">https:/<wbr />/warthogs.<wbr />atlassian.<wbr />net/browse/<wbr />LXD-800</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi @mkukri yes I have created to track this https://warthogs.atlassian.net/browse/LXD-800</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/44" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-24T17:08:32.095960+00:00" title="2024-01-24 17:08:32 UTC">on 2024-01-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/44"> #44</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Someone from intel responded to the edk2 bugzilla report, and they are proposing a patch for upstream that just removes the shell from builds when secure boot is enabled, which is probably a better solution but it breaks our current key enrollment, so my patch might be easier for backporting to stable series. Then we can eventually switch to something that doesnt need the shell.</p>
<p>If LXD is okay with the patch, could we make this public around end of February, then do SRUs and LXD updates after that?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Someone from intel responded to the edk2 bugzilla report, and they are proposing a patch for upstream that just removes the shell from builds when secure boot is enabled, which is probably a better solution but it breaks our current key enrollment, so my patch might be easier for backporting to stable series. Then we can eventually switch to something that doesnt need the shell.

If LXD is okay with the patch, could we make this public around end of February, then do SRUs and LXD updates after that?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/45" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tomparrott" class="sprite person">Thomas Parrott (tomparrott)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-24T17:32:53.028350+00:00" title="2024-01-24 17:32:53 UTC">on 2024-01-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/45"> #45</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@mkukri I&#x27;ve asked Aleks to take a look at this patch and try it in the next pulse. We&#x27;ll let you know when we have results. Thanks</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@mkukri I've asked Aleks to take a look at this patch and try it in the next pulse. We'll let you know when we have results. Thanks</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/46" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-24T17:46:53.303396+00:00" title="2024-01-24 17:46:53 UTC">on 2024-01-24</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/46"> #46</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>No rush, I am just trying to keep the ticket updated when I get something about this so it doesn&#x27;t get forgotten.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">No rush, I am just trying to keep the ticket updated when I get something about this so it doesn't get forgotten.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/47" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mihalicyn" class="sprite person">Aleksandr Mikhalitsyn (mihalicyn)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-26T11:41:07.920191+00:00" title="2024-01-26 11:41:07 UTC">on 2024-01-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/47"> #47</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hi, Mate!</p>
<p>I have tested your patch with LXD and it works perfectly well.<br />
I can see that when Secure Boot is enabled then the EFI Shell is not accessible,<br />
but when Secure Boot is disabled then I can access the shell. As it follows<br />
from the code this is intended behavior.</p>
<p>Thanks a lot for your work on that!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hi, Mate!

I have tested your patch with LXD and it works perfectly well.
I can see that when Secure Boot is enabled then the EFI Shell is not accessible,
but when Secure Boot is disabled then I can access the shell. As it follows
from the code this is intended behavior.

Thanks a lot for your work on that!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/48" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mihalicyn" class="sprite person">Aleksandr Mikhalitsyn (mihalicyn)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-26T11:44:44.742418+00:00" title="2024-01-26 11:44:44 UTC">on 2024-01-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/48"> #48</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Do you think that we need to land this change into the LXD or we are still waiting when discussion with edk2 upstream folks will end?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Do you think that we need to land this change into the LXD or we are still waiting when discussion with edk2 upstream folks will end?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/49" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-26T12:08:55.978880+00:00" title="2024-01-26 12:08:55 UTC">on 2024-01-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/49"> #49</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Aleksandr,</p>
<p>Thank you very much for the testing, I appreciate it.</p>
<p>As far as upstream goes, they would like to go with the approach of compiling out the Shell fully from images that support Secure Boot. I ultimately think that is the best approach, and we should eventually do that too and use python-uefivars for key enrollment, but that is likely too big of a change for backporting to stable releases.</p>
<p>So unless there are objections, my current proposal is as follows:<br />
1. Set the CRD for the CVE in Debian/Ubuntu, then after CRD release my patch as the security update on supported releases (applies to both edk2 package and LXD snap).<br />
2. At some (currently unspecified) point in time, I&#x27;ll develop a new key enrollment strategy for the edk2 package (that LXD can also choose to adopt), and then we can drop the patch from devel and compile out the Shell without having to do big changes to stable.</p>
<p>Mate</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Aleksandr,

Thank you very much for the testing, I appreciate it.

As far as upstream goes, they would like to go with the approach of compiling out the Shell fully from images that support Secure Boot. I ultimately think that is the best approach, and we should eventually do that too and use python-uefivars for key enrollment, but that is likely too big of a change for backporting to stable releases.

So unless there are objections, my current proposal is as follows:
1. Set the CRD for the CVE in Debian/Ubuntu, then after CRD release my patch as the security update on supported releases (applies to both edk2 package and LXD snap).
2. At some (currently unspecified) point in time, I'll develop a new key enrollment strategy for the edk2 package (that LXD can also choose to adopt), and then we can drop the patch from devel and compile out the Shell without having to do big changes to stable.

Mate</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/50" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mihalicyn" class="sprite person">Aleksandr Mikhalitsyn (mihalicyn)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-26T12:21:30.847712+00:00" title="2024-01-26 12:21:30 UTC">on 2024-01-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/50"> #50</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p><span class="foldable-quoted">&gt;1. Set the CRD for the CVE in Debian/Ubuntu, then after CRD release my patch as the security update on supported releases (applies to both edk2 package and LXD snap).
</span></p>
<p>Sounds good. So, we are waiting for your ping to land this fix to the LXD then, right?</p>
<p><span class="foldable-quoted">&gt;2. At some (currently unspecified) point in time, I&#x27;ll develop a new key enrollment strategy for the edk2 ...
</span></p>
<p>Sure!</p>
<p>Alex</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">&gt;1. Set the CRD for the CVE in Debian/Ubuntu, then after CRD release my patch as the security update on supported releases (applies to both edk2 package and LXD snap).

Sounds good. So, we are waiting for your ping to land this fix to the LXD then, right?

&gt;2. At some (currently unspecified) point in time, I'll develop a new key enrollment strategy for the edk2 ...

Sure!

Alex</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/51" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-26T12:33:12.296671+00:00" title="2024-01-26 12:33:12 UTC">on 2024-01-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/51"> #51</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p><span class="foldable-quoted">&gt; Sounds good. So, we are waiting for your ping to land this fix to the LXD then, right?
</span></p>
<p>Right, I think end of February is what was discussed here, but nothing is set in stone yet.</p>
<p>@eslerm What if we set Tuesday, 5 March 2024 as the CRD for this?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">&gt; Sounds good. So, we are waiting for your ping to land this fix to the LXD then, right?

Right, I think end of February is what was discussed here, but nothing is set in stone yet.

@eslerm What if we set Tuesday, 5 March 2024 as the CRD for this?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/52" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tomparrott" class="sprite person">Thomas Parrott (tomparrott)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-26T13:01:58.161373+00:00" title="2024-01-26 13:01:58 UTC">on 2024-01-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/52"> #52</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Will it be acceptable for land this fix in LXD sooner so we don&#x27;t miss the Noble feature freeze?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Will it be acceptable for land this fix in LXD sooner so we don't miss the Noble feature freeze?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/53" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-26T13:16:00.542386+00:00" title="2024-01-26 13:16:00 UTC">on 2024-01-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/53"> #53</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I guess if everyone is comfortable with the patch, we should just set an earlier date and do it everywhere.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I guess if everyone is comfortable with the patch, we should just set an earlier date and do it everywhere.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/54" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tomparrott" class="sprite person">Thomas Parrott (tomparrott)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-26T13:26:31.405792+00:00" title="2024-01-26 13:26:31 UTC">on 2024-01-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/54"> #54</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks. I&#x27;d be hesitant to back port it to the 5.0 tree as this is a breaking feature change.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks. I'd be hesitant to back port it to the 5.0 tree as this is a breaking feature change. </textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/55" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tomparrott" class="sprite person">Thomas Parrott (tomparrott)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-26T13:26:51.770526+00:00" title="2024-01-26 13:26:51 UTC">on 2024-01-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/55"> #55</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Which is why im keen to get it into the next LTS tree.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Which is why im keen to get it into the next LTS tree.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/56" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-26T23:52:17.290142+00:00" title="2024-01-26 23:52:17 UTC">on 2024-01-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/56"> #56</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Mate, is Tuesday, 5 March 2024 13:00 UTC+0 as the CRD okay? Ack to whatever hour you prefer and confirm.</p>
<p>Patch releases can coincide with this time. Thank you.</p>
<p>I&#x27;ve subscribed Salvatore Bonaccorso to make Debian Security aware of these issues.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Mate, is Tuesday, 5 March 2024 13:00 UTC+0 as the CRD okay? Ack to whatever hour you prefer and confirm.

Patch releases can coincide with this time. Thank you.

I've subscribed Salvatore Bonaccorso to make Debian Security aware of these issues.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/57" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tomparrott" class="sprite person">Thomas Parrott (tomparrott)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-29T08:19:38.254352+00:00" title="2024-01-29 08:19:38 UTC">on 2024-01-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/57"> #57</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Will we be able to land the patch in LXD in mid Feb to allow us to make the Noble feature freeze?</p>
<p>We don&#x27;t have to make a big thing of it so as to avoid drawing attention, if that helps?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Will we be able to land the patch in LXD in mid Feb to allow us to make the Noble feature freeze?

We don't have to make a big thing of it so as to avoid drawing attention, if that helps?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/58" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-29T08:32:20.343536+00:00" title="2024-01-29 08:32:20 UTC">on 2024-01-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/58"> #58</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Unless someone else here needs more time, I think we should just move the CRD to 14th of February (or some other day around there).</p>
<p>This whole thing is not particularly high risk anyways (in my opinion), and will sit around unfixed for SRU verification in any case.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Unless someone else here needs more time, I think we should just move the CRD to 14th of February (or some other day around there).

This whole thing is not particularly high risk anyways (in my opinion), and will sit around unfixed for SRU verification in any case.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/59" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tomparrott" class="sprite person">Thomas Parrott (tomparrott)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-29T14:40:55.620768+00:00" title="2024-01-29 14:40:55 UTC">on 2024-01-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/59"> #59</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Sounds good to us.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Sounds good to us.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/60" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~tomparrott" class="sprite person">Thomas Parrott (tomparrott)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-29T14:41:48.058552+00:00" title="2024-01-29 14:41:48 UTC">on 2024-01-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/60"> #60</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>BTW, what does CRD stand for?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">BTW, what does CRD stand for?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/61" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-29T14:56:19.168213+00:00" title="2024-01-29 14:56:19 UTC">on 2024-01-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/61"> #61</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@tomparrott Not 100% sure, but I assume it is short for &quot;Coordinated Release Date&quot;.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@tomparrott Not 100% sure, but I assume it is short for "Coordinated Release Date".</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/62" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-29T20:10:50.226220+00:00" title="2024-01-29 20:10:50 UTC">on 2024-01-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/62"> #62</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Yes, &quot;Coordinated Release Date&quot;. Apologize for the jargon.</p>
<p>Let&#x27;s lock in February 14th at 13:00 UTC+0.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Yes, "Coordinated Release Date". Apologize for the jargon.

Let's lock in February 14th at 13:00 UTC+0.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/63" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-01T18:30:27.269846+00:00" title="2024-02-01 18:30:27 UTC">on 2024-02-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/63"> #63</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I discussed this with Multipass and added them to the bug.</p>
<p>Multipass believes they are unaffected as they use EDK2 from source with no special configurations.</p>
<p>Regardless, Multipass is meant for development and their Security Policy states that privilege escalation does not apply to their security scope: <a rel="nofollow" href="https://multipass.run/docs/about-security">https:/<wbr />/multipass.<wbr />run/docs/<wbr />about-security</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I discussed this with Multipass and added them to the bug.

Multipass believes they are unaffected as they use EDK2 from source with no special configurations.

Regardless, Multipass is meant for development and their Security Policy states that privilege escalation does not apply to their security scope: https://multipass.run/docs/about-security</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/64" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-01T18:44:39.815461+00:00" title="2024-02-01 18:44:39 UTC">on 2024-02-01</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2024-02-01T18:45:09.035336+00:00" title="2024-02-01 18:45:09 UTC">on 2024-02-01</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/64"> #64</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@eslerm, the point is, it is the difficult configuration that is affected when building edk2. Unless they build with BuildShell=FALSE (or whatever it is called), they are affected.</p>
<p>Also do they mean the edk2 package, or edk2 from upstream? Because we are fixing the former, so that will get them the fix &quot;for free&quot;. And upstream is changing the default configuration eventually to exclude the Shell from secure boot images.</p>
<p>But I guess if this is outside their security policy, it could be fixed whenever if at all.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@eslerm, the point is, it is the difficult configuration that is affected when building edk2. Unless they build with BuildShell=FALSE (or whatever it is called), they are affected.

Also do they mean the edk2 package, or edk2 from upstream? Because we are fixing the former, so that will get them the fix "for free". And upstream is changing the default configuration eventually to exclude the Shell from secure boot images.

But I guess if this is outside their security policy, it could be fixed whenever if at all.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/65" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-06T03:50:52.557896+00:00" title="2024-02-06 03:50:52 UTC">on 2024-02-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/65"> #65</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@mkukri, they are using edk2 from upstream. The Security Policy could be a little clearer, so I asked for clarification: <a rel="nofollow" href="https://discourse.ubuntu.com/t/about-security/32306/2?u=eslerm">https:/<wbr />/discourse.<wbr />ubuntu.<wbr />com/t/about-<wbr />security/<wbr />32306/2?<wbr />u=eslerm</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@mkukri, they are using edk2 from upstream. The Security Policy could be a little clearer, so I asked for clarification: https://discourse.ubuntu.com/t/about-security/32306/2?u=eslerm</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
    
    <time title="2024-02-11 21:29:02 UTC" datetime="2024-02-11T21:29:02.817894+00:00">on 2024-02-11</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in edk2 (Ubuntu Noble): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; dann frazier (dannf)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in edk2 (Ubuntu Mantic): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; dann frazier (dannf)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in edk2 (Ubuntu Jammy): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; dann frazier (dannf)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
  
  
    
      <tr>
        <td colspan="2">Changed in edk2 (Ubuntu Focal): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; dann frazier (dannf)
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/66" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~dannf" class="sprite person">dann frazier (dannf)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-14T11:11:20.311137+00:00" title="2024-02-14 11:11:20 UTC">on 2024-02-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/66"> #66</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>fyi, I&#x27;ve got tested packages for focal, jammy and mantic in the security PPA. These use @mkukri&#x27;s shell disable patch.</p>
<p>For sid/noble, I&#x27;ve got the following queued up that actually disable the shell in the secboot variants. This required creating new flavors for AARCH64 and IA32 so that users can choose between secboot and shell-capable:</p>
<p>edk2 (2023.11-7) UNRELEASED; urgency=medium</p>
<p>&nbsp;&nbsp;* ovmf, qemu-efi-*: Stop building Secure Boot code into non-secboot<br />
&nbsp;&nbsp;&nbsp;&nbsp;images so they can include a built-in shell which is unsafe in<br />
&nbsp;&nbsp;&nbsp;&nbsp;Secure Boot mode.<br />
&nbsp;&nbsp;* ovmf-ia32: Add non-secboot image. Thanks to Lionel Debroux.<br />
&nbsp;&nbsp;&nbsp;&nbsp;(Closes: #1023491).<br />
&nbsp;&nbsp;* debian/<wbr />tests/shell.<wbr />py: Add tests for ovmf-ia32 non-secboot image.<br />
&nbsp;&nbsp;* qemu-efi-aarch64: Add non-secboot variant. AAVMF_CODE.fd is the<br />
&nbsp;&nbsp;&nbsp;&nbsp;secboot variant, so name it AAVMF_CODE.<wbr />no-secboot.<wbr />fd.<br />
&nbsp;&nbsp;* qemu-efi-aarch64: Rename the secboot variant, AAVMF_CODE.fd,<br />
&nbsp;&nbsp;&nbsp;&nbsp;to AAVMF_CODE.<wbr />secboot.<wbr />fd and add a compat symlink.<br />
&nbsp;&nbsp;* ovmf, ovmf-ia32, qemu-efi-aarch64: Stop including a built-in shell<br />
&nbsp;&nbsp;&nbsp;&nbsp;in secboot variants, CVE-2023-48733. Thanks to Mate Kukri.<br />
&nbsp;&nbsp;&nbsp;&nbsp;LP: <a href="/bugs/2040137" class="bug-link">#2040137</a>.<br />
&nbsp;&nbsp;&nbsp;&nbsp;- d/tests: Drop the boot-to-shell tests for images w/ Secure Boot.<br />
&nbsp;&nbsp;&nbsp;&nbsp;- d/tests: Update run_cmd_<wbr />check_secure_<wbr />boot() to not expect shell<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interaction.</p>
<p>&nbsp;-- dann frazier &lt;email address hidden&gt;  Sat, 10 Feb 2024 21:17:35 -0700</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">fyi, I've got tested packages for focal, jammy and mantic in the security PPA. These use @mkukri's shell disable patch.

For sid/noble, I've got the following queued up that actually disable the shell in the secboot variants. This required creating new flavors for AARCH64 and IA32 so that users can choose between secboot and shell-capable:

edk2 (2023.11-7) UNRELEASED; urgency=medium

  * ovmf, qemu-efi-*: Stop building Secure Boot code into non-secboot
    images so they can include a built-in shell which is unsafe in
    Secure Boot mode.
  * ovmf-ia32: Add non-secboot image. Thanks to Lionel Debroux.
    (Closes: #1023491).
  * debian/tests/shell.py: Add tests for ovmf-ia32 non-secboot image.
  * qemu-efi-aarch64: Add non-secboot variant. AAVMF_CODE.fd is the
    secboot variant, so name it AAVMF_CODE.no-secboot.fd.
  * qemu-efi-aarch64: Rename the secboot variant, AAVMF_CODE.fd,
    to AAVMF_CODE.secboot.fd and add a compat symlink.
  * ovmf, ovmf-ia32, qemu-efi-aarch64: Stop including a built-in shell
    in secboot variants, CVE-2023-48733. Thanks to Mate Kukri.
    LP: #2040137.
    - d/tests: Drop the boot-to-shell tests for images w/ Secure Boot.
    - d/tests: Update run_cmd_check_secure_boot() to not expect shell
      interaction.

 -- dann frazier &lt;dannf@debian.org&gt;  Sat, 10 Feb 2024 21:17:35 -0700
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/67" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-14T11:50:27.542543+00:00" title="2024-02-14 11:50:27 UTC">on 2024-02-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/67"> #67</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Approach sounds good to me, thanks for the work on this.</p>
<p>I am sure the builds are fine, but which PPA is this by the way?</p>
<p>Also I&#x27;ll mail the same report sent to distros to oss-security at 1PM.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Approach sounds good to me, thanks for the work on this.

I am sure the builds are fine, but which PPA is this by the way?

Also I'll mail the same report sent to distros to oss-security at 1PM.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/68" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~mihalicyn" class="sprite person">Aleksandr Mikhalitsyn (mihalicyn)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-14T11:57:56.192590+00:00" title="2024-02-14 11:57:56 UTC">on 2024-02-14</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2024-02-14T11:58:16.860567+00:00" title="2024-02-14 11:58:16 UTC">on 2024-02-14</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/68"> #68</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>LXD snap:<br />
<a rel="nofollow" href="https://github.com/canonical/lxd-pkg-snap/pull/329">https:/<wbr />/github.<wbr />com/canonical/<wbr />lxd-pkg-<wbr />snap/pull/<wbr />329</a><br />
<a rel="nofollow" href="https://github.com/canonical/lxd-pkg-snap/pull/330">https:/<wbr />/github.<wbr />com/canonical/<wbr />lxd-pkg-<wbr />snap/pull/<wbr />330</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">LXD snap:
https://github.com/canonical/lxd-pkg-snap/pull/329
https://github.com/canonical/lxd-pkg-snap/pull/330</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~mkukri" class="sprite person">Mate Kukri (mkukri)</a>
    
    <time title="2024-02-14 14:41:38 UTC" datetime="2024-02-14T14:41:38.431297+00:00">on 2024-02-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/69" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~crichton" class="sprite person">Ubuntu Foundations Team Bug Bot (crichton)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-14T16:18:08.462100+00:00" title="2024-02-14 16:18:08 UTC">on 2024-02-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/69"> #69</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The attachment &quot;0001-d-<wbr />p-Disable-<wbr />the-Shell-<wbr />when-SecureBoot<wbr />-is-enabled.<wbr />pat.patch&quot; seems to be a patch.  If it isn&#x27;t, please remove the &quot;patch&quot; flag from the attachment, remove the &quot;patch&quot; tag, and if you are a member of the ~ubuntu-reviewers, unsubscribe the team.</p>
<p>[This is an automated message performed by a Launchpad user owned by ~brian-murray, for any issues please contact him.]</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The attachment "0001-d-p-Disable-the-Shell-when-SecureBoot-is-enabled.pat.patch" seems to be a patch.  If it isn't, please remove the "patch" flag from the attachment, remove the "patch" tag, and if you are a member of the ~ubuntu-reviewers, unsubscribe the team.

[This is an automated message performed by a Launchpad user owned by ~brian-murray, for any issues please contact him.]</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>tags</b>:
      </td>
      <td>
        added: patch
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/70" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-14T21:39:16.752645+00:00" title="2024-02-14 21:39:16 UTC">on 2024-02-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/70"> #70</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/comments/70/+download">Download full text</a> (3.5 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package edk2 - 2023.05-2ubuntu0.1</p>
<p>---------------<br />
edk2 (2023.05-<wbr />2ubuntu0.<wbr />1) mantic; urgency=medium</p>
<p>&nbsp;&nbsp;* Cherry-pick security fixes from upstream:<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix heap buffer overflow in Tcg2MeasureGptT<wbr />able(), CVE-2022-36763<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-SecurityPk<wbr />g-DxeTpm2Measur<wbr />eBootLib-<wbr />SECURITY-<wbr />PATCH-411.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0002-SecurityPk<wbr />g-DxeTpmMeasure<wbr />BootLib-<wbr />SECURITY-<wbr />PATCH-4117.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0003-SecurityPk<wbr />g-Adding-<wbr />CVE-2022-<wbr />36763-to-<wbr />SecurityFixes.<wbr />y.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix heap buffer overflow in Tcg2MeasurePeIm<wbr />age(), CVE-2022-36764<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-SecurityPk<wbr />g-DxeTpm2Measur<wbr />eBootLib-<wbr />SECURITY-<wbr />PATCH-411-<wbr />2.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0002-SecurityPk<wbr />g-DxeTpmMeasure<wbr />BootLib-<wbr />SECURITY-<wbr />PATCH-4118.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0003-SecurityPk<wbr />g-Adding-<wbr />CVE-2022-<wbr />36764-to-<wbr />SecurityFixes.<wbr />y.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix build failure due to symbol collision in above patches:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-SecurityPk<wbr />g-DxeTpm2Measur<wbr />eBootLib-<wbr />SECURITY-<wbr />PATCH-411-<wbr />3.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0002-SecurityPk<wbr />g-DxeTpmMeasure<wbr />BootLib-<wbr />SECURITY-<wbr />PATCH-4117-<wbr />2.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0003-SecurityPk<wbr />g-Updating-<wbr />SecurityFixes.<wbr />yaml-after-<wbr />symbol.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix integer overflow in CreateHob(), CVE-2022-36765<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-UefiPayloa<wbr />dPkg-Hob-<wbr />Integer-<wbr />Overflow-<wbr />in-CreateHob.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix a buffer overflow via a long server ID option in DHCPv6<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client, CVE-2023-45230:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-NetworkPkg<wbr />-Dhcp6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45230-<wbr />Pa.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0002-NetworkPkg<wbr />-Add-Unit-<wbr />tests-to-<wbr />CI-and-<wbr />create-<wbr />Host-Test.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0003-NetworkPkg<wbr />-Dhcp6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45230-<wbr />Un.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix an out-of-bounds read vulnerability when processing the IA_NA<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or IA_TA option in a DHCPv6 Advertise message, CVE-2023-45229:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0004-NetworkPkg<wbr />-Dhcp6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45229-<wbr />Pa.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0005-NetworkPkg<wbr />-Dhcp6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45229-<wbr />Un.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix an out-of-bounds read when processing Neighbor Discovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Redirect messages, CVE-2023-45231:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0006-NetworkPkg<wbr />-Ip6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45231-<wbr />Patc.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0007-NetworkPkg<wbr />-Ip6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45231-<wbr />Unit.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Avoid an infinite loop when parsing unknown options in the<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destination Options header of IPv6, CVE-2023-45232:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0008-NetworkPkg<wbr />-Ip6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45232-<wbr />Patc.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0009-NetworkPkg<wbr />-Ip6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45232-<wbr />Unit.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Avoid an infinite loop when parsing a PadN option in the<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destination Options header of IPv6, CVE-2023-45233:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0010-NetworkPkg<wbr />-UefiPxeBcDxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-4523.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0011-NetworkPkg<wbr />-UefiPxeBcDxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-4523.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix a potential buffer overflow when processing a DNS Servers<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option from a DHCPv6 Advertise message, CVE-2023-45234:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0013-NetworkPkg<wbr />-UefiPxeBcDxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-4523.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix a potential buffer overflow when handling a Server ID option<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from a DHCPv6 proxy Advertise message, CVE-2023-45235:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0012-MdePkg-<wbr />Test-Add-<wbr />gRT_GetTime-<wbr />Google-<wbr />Test-Mock.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0014-NetworkPkg<wbr />-UefiPxeBcDxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-4523.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Record fixes in a SecurityFix.yaml file:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0015-NetworkPkg<wbr />-Adds-a-<wbr />SecurityFix.<wbr />yaml-file.<wbr />patch<br />
&nbsp;&nbsp;* Disable the built-in Shell when SecureBoot is enabled, CVE-2023-48733.<br />
&nbsp;&nbsp;&nbsp;&nbsp;Th...</p></div>
    
    <p>
      <a href="/ubuntu/+source/edk2/+bug/2040137/comments/70">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package edk2 - 2023.05-2ubuntu0.1

---------------
edk2 (2023.05-2ubuntu0.1) mantic; urgency=medium

  * Cherry-pick security fixes from upstream:
    - Fix heap buffer overflow in Tcg2MeasureGptTable(), CVE-2022-36763
      + 0001-SecurityPkg-DxeTpm2MeasureBootLib-SECURITY-PATCH-411.patch
      + 0002-SecurityPkg-DxeTpmMeasureBootLib-SECURITY-PATCH-4117.patch
      + 0003-SecurityPkg-Adding-CVE-2022-36763-to-SecurityFixes.y.patch
    - Fix heap buffer overflow in Tcg2MeasurePeImage(), CVE-2022-36764
      + 0001-SecurityPkg-DxeTpm2MeasureBootLib-SECURITY-PATCH-411-2.patch
      + 0002-SecurityPkg-DxeTpmMeasureBootLib-SECURITY-PATCH-4118.patch
      + 0003-SecurityPkg-Adding-CVE-2022-36764-to-SecurityFixes.y.patch
    - Fix build failure due to symbol collision in above patches:
      + 0001-SecurityPkg-DxeTpm2MeasureBootLib-SECURITY-PATCH-411-3.patch
      + 0002-SecurityPkg-DxeTpmMeasureBootLib-SECURITY-PATCH-4117-2.patch
      + 0003-SecurityPkg-Updating-SecurityFixes.yaml-after-symbol.patch
    - Fix integer overflow in CreateHob(), CVE-2022-36765
      + 0001-UefiPayloadPkg-Hob-Integer-Overflow-in-CreateHob.patch
    - Fix a buffer overflow via a long server ID option in DHCPv6
      client, CVE-2023-45230:
      + 0001-NetworkPkg-Dhcp6Dxe-SECURITY-PATCH-CVE-2023-45230-Pa.patch
      + 0002-NetworkPkg-Add-Unit-tests-to-CI-and-create-Host-Test.patch
      + 0003-NetworkPkg-Dhcp6Dxe-SECURITY-PATCH-CVE-2023-45230-Un.patch
    - Fix an out-of-bounds read vulnerability when processing the IA_NA
      or IA_TA option in a DHCPv6 Advertise message, CVE-2023-45229:
      + 0004-NetworkPkg-Dhcp6Dxe-SECURITY-PATCH-CVE-2023-45229-Pa.patch
      + 0005-NetworkPkg-Dhcp6Dxe-SECURITY-PATCH-CVE-2023-45229-Un.patch
    - Fix an out-of-bounds read when processing Neighbor Discovery
      Redirect messages, CVE-2023-45231:
      + 0006-NetworkPkg-Ip6Dxe-SECURITY-PATCH-CVE-2023-45231-Patc.patch
      + 0007-NetworkPkg-Ip6Dxe-SECURITY-PATCH-CVE-2023-45231-Unit.patch
    - Avoid an infinite loop when parsing unknown options in the
      Destination Options header of IPv6, CVE-2023-45232:
      + 0008-NetworkPkg-Ip6Dxe-SECURITY-PATCH-CVE-2023-45232-Patc.patch
      + 0009-NetworkPkg-Ip6Dxe-SECURITY-PATCH-CVE-2023-45232-Unit.patch
    - Avoid an infinite loop when parsing a PadN option in the
      Destination Options header of IPv6, CVE-2023-45233:
      + 0010-NetworkPkg-UefiPxeBcDxe-SECURITY-PATCH-CVE-2023-4523.patch
      + 0011-NetworkPkg-UefiPxeBcDxe-SECURITY-PATCH-CVE-2023-4523.patch
    - Fix a potential buffer overflow when processing a DNS Servers
      option from a DHCPv6 Advertise message, CVE-2023-45234:
      + 0013-NetworkPkg-UefiPxeBcDxe-SECURITY-PATCH-CVE-2023-4523.patch
    - Fix a potential buffer overflow when handling a Server ID option
      from a DHCPv6 proxy Advertise message, CVE-2023-45235:
      + 0012-MdePkg-Test-Add-gRT_GetTime-Google-Test-Mock.patch
      + 0014-NetworkPkg-UefiPxeBcDxe-SECURITY-PATCH-CVE-2023-4523.patch
    - Record fixes in a SecurityFix.yaml file:
      + 0015-NetworkPkg-Adds-a-SecurityFix.yaml-file.patch
  * Disable the built-in Shell when SecureBoot is enabled, CVE-2023-48733.
    Thanks to Mate Kukri. LP: #2040137.
    - Disable the built-in Shell when SecureBoot is enabled:
      + Disable-the-Shell-when-SecureBoot-is-enabled.patch
    - d/tests: Drop the boot-to-shell tests for images w/ Secure Boot active.
    - d/tests: Update run_cmd_check_secure_boot() to not expect shell
      interaction.

 -- dann frazier &lt;dannf@ubuntu.com&gt;  Mon, 12 Feb 2024 13:08:56 -0700</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in edk2 (Ubuntu Mantic): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/71" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-14T21:39:19.908056+00:00" title="2024-02-14 21:39:19 UTC">on 2024-02-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/71"> #71</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package edk2 - 0~20191122.<wbr />bd85bf54-<wbr />2ubuntu3.<wbr />5</p>
<p>---------------<br />
edk2 (0~20191122.<wbr />bd85bf54-<wbr />2ubuntu3.<wbr />5) focal; urgency=medium</p>
<p>&nbsp;&nbsp;* Disable the built-in Shell when SecureBoot is enabled, CVE-2023-48733.<br />
&nbsp;&nbsp;&nbsp;&nbsp;Thanks to Mate Kukri. LP: <a href="/bugs/2040137" class="bug-link">#2040137</a>.<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Backport support for GetSetupMode() and IsSecureBootEna<wbr />bled():<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-SecurityPk<wbr />g-Create-<wbr />SecureBootVaria<wbr />bleLib.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0002-ArmVirtPkg<wbr />-add-SecureBoot<wbr />VariableLib-<wbr />class-resolutio<wbr />.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0003-OvmfPkg-<wbr />add-SecureBootV<wbr />ariableLib-<wbr />class-resolutio<wbr />n.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0004-SecurityPk<wbr />g-SecureBootVar<wbr />iableLib-<wbr />Added-newly-<wbr />suppor.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0005-EmulatorPk<wbr />g-add-SecureBoo<wbr />tVariableLib-<wbr />class-resoluti.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Disable the built-in Shell when SecureBoot is enabled:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ Disable-<wbr />the-Shell-<wbr />when-SecureBoot<wbr />-is-enabled.<wbr />patch</p>
<p>&nbsp;-- dann frazier &lt;email address hidden&gt;  Tue, 13 Feb 2024 17:52:30 -0700</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package edk2 - 0~20191122.bd85bf54-2ubuntu3.5

---------------
edk2 (0~20191122.bd85bf54-2ubuntu3.5) focal; urgency=medium

  * Disable the built-in Shell when SecureBoot is enabled, CVE-2023-48733.
    Thanks to Mate Kukri. LP: #2040137.
    - Backport support for GetSetupMode() and IsSecureBootEnabled():
      + 0001-SecurityPkg-Create-SecureBootVariableLib.patch
      + 0002-ArmVirtPkg-add-SecureBootVariableLib-class-resolutio.patch
      + 0003-OvmfPkg-add-SecureBootVariableLib-class-resolution.patch
      + 0004-SecurityPkg-SecureBootVariableLib-Added-newly-suppor.patch
      + 0005-EmulatorPkg-add-SecureBootVariableLib-class-resoluti.patch
    - Disable the built-in Shell when SecureBoot is enabled:
      + Disable-the-Shell-when-SecureBoot-is-enabled.patch

 -- dann frazier &lt;dannf@ubuntu.com&gt;  Tue, 13 Feb 2024 17:52:30 -0700</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in edk2 (Ubuntu Focal): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/72" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-15T00:30:15.303934+00:00" title="2024-02-15 00:30:15 UTC">on 2024-02-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/72"> #72</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/comments/72/+download">Download full text</a> (3.6 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package edk2 - 2022.02-<wbr />3ubuntu0.<wbr />22.04.2</p>
<p>---------------<br />
edk2 (2022.02-<wbr />3ubuntu0.<wbr />22.04.2) jammy; urgency=medium</p>
<p>&nbsp;&nbsp;* Cherry-pick security fixes from upstream:<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix heap buffer overflow in Tcg2MeasureGptT<wbr />able(), CVE-2022-36763<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-SecurityPk<wbr />g-DxeTpm2Measur<wbr />eBootLib-<wbr />SECURITY-<wbr />PATCH-411.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0002-SecurityPk<wbr />g-DxeTpmMeasure<wbr />BootLib-<wbr />SECURITY-<wbr />PATCH-4117.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0003-SecurityPk<wbr />g-Adding-<wbr />CVE-2022-<wbr />36763-to-<wbr />SecurityFixes.<wbr />y.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix heap buffer overflow in Tcg2MeasurePeIm<wbr />age(), CVE-2022-36764<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-SecurityPk<wbr />g-DxeTpm2Measur<wbr />eBootLib-<wbr />SECURITY-<wbr />PATCH-411-<wbr />2.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0002-SecurityPk<wbr />g-DxeTpmMeasure<wbr />BootLib-<wbr />SECURITY-<wbr />PATCH-4118.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0003-SecurityPk<wbr />g-Adding-<wbr />CVE-2022-<wbr />36764-to-<wbr />SecurityFixes.<wbr />y.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix build failure due to symbol collision in above patches:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-SecurityPk<wbr />g-DxeTpm2Measur<wbr />eBootLib-<wbr />SECURITY-<wbr />PATCH-411-<wbr />3.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0002-SecurityPk<wbr />g-DxeTpmMeasure<wbr />BootLib-<wbr />SECURITY-<wbr />PATCH-4117-<wbr />2.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0003-SecurityPk<wbr />g-Updating-<wbr />SecurityFixes.<wbr />yaml-after-<wbr />symbol.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix integer overflow in CreateHob(), CVE-2022-36765<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-UefiPayloa<wbr />dPkg-Hob-<wbr />Integer-<wbr />Overflow-<wbr />in-CreateHob.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix a buffer overflow via a long server ID option in DHCPv6<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client, CVE-2023-45230:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0001-NetworkPkg<wbr />-Dhcp6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45230-<wbr />Pa.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0002-NetworkPkg<wbr />-Add-Unit-<wbr />tests-to-<wbr />CI-and-<wbr />create-<wbr />Host-Test.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0003-NetworkPkg<wbr />-Dhcp6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45230-<wbr />Un.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix an out-of-bounds read vulnerability when processing the IA_NA<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or IA_TA option in a DHCPv6 Advertise message, CVE-2023-45229:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0004-NetworkPkg<wbr />-Dhcp6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45229-<wbr />Pa.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0005-NetworkPkg<wbr />-Dhcp6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45229-<wbr />Un.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix an out-of-bounds read when processing Neighbor Discovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Redirect messages, CVE-2023-45231:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0006-NetworkPkg<wbr />-Ip6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45231-<wbr />Patc.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0007-NetworkPkg<wbr />-Ip6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45231-<wbr />Unit.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Avoid an infinite loop when parsing unknown options in the<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destination Options header of IPv6, CVE-2023-45232:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0008-NetworkPkg<wbr />-Ip6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45232-<wbr />Patc.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0009-NetworkPkg<wbr />-Ip6Dxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-45232-<wbr />Unit.patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Avoid an infinite loop when parsing a PadN option in the<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destination Options header of IPv6, CVE-2023-45233:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0010-NetworkPkg<wbr />-UefiPxeBcDxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-4523.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0011-NetworkPkg<wbr />-UefiPxeBcDxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-4523.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix a potential buffer overflow when processing a DNS Servers<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option from a DHCPv6 Advertise message, CVE-2023-45234:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0013-NetworkPkg<wbr />-UefiPxeBcDxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-4523.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Fix a potential buffer overflow when handling a Server ID option<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from a DHCPv6 proxy Advertise message, CVE-2023-45235:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0014-NetworkPkg<wbr />-UefiPxeBcDxe-<wbr />SECURITY-<wbr />PATCH-CVE-<wbr />2023-4523.<wbr />patch<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Record fixes in a SecurityFix.yaml file:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ 0015-NetworkPkg<wbr />-Adds-a-<wbr />SecurityFix.<wbr />yaml-file.<wbr />patch<br />
&nbsp;&nbsp;* Disable the built-in Shell when SecureBoot is enabled, CVE-2023-48733.<br />
&nbsp;&nbsp;&nbsp;&nbsp;Thanks to Mate Kukri. LP: <a href="/bugs/2040137" class="bug-link">#2040137</a>.<br />
&nbsp;&nbsp;&nbsp;&nbsp;- Backport supp...</p></div>
    
    <p>
      <a href="/ubuntu/+source/edk2/+bug/2040137/comments/72">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package edk2 - 2022.02-3ubuntu0.22.04.2

---------------
edk2 (2022.02-3ubuntu0.22.04.2) jammy; urgency=medium

  * Cherry-pick security fixes from upstream:
    - Fix heap buffer overflow in Tcg2MeasureGptTable(), CVE-2022-36763
      + 0001-SecurityPkg-DxeTpm2MeasureBootLib-SECURITY-PATCH-411.patch
      + 0002-SecurityPkg-DxeTpmMeasureBootLib-SECURITY-PATCH-4117.patch
      + 0003-SecurityPkg-Adding-CVE-2022-36763-to-SecurityFixes.y.patch
    - Fix heap buffer overflow in Tcg2MeasurePeImage(), CVE-2022-36764
      + 0001-SecurityPkg-DxeTpm2MeasureBootLib-SECURITY-PATCH-411-2.patch
      + 0002-SecurityPkg-DxeTpmMeasureBootLib-SECURITY-PATCH-4118.patch
      + 0003-SecurityPkg-Adding-CVE-2022-36764-to-SecurityFixes.y.patch
    - Fix build failure due to symbol collision in above patches:
      + 0001-SecurityPkg-DxeTpm2MeasureBootLib-SECURITY-PATCH-411-3.patch
      + 0002-SecurityPkg-DxeTpmMeasureBootLib-SECURITY-PATCH-4117-2.patch
      + 0003-SecurityPkg-Updating-SecurityFixes.yaml-after-symbol.patch
    - Fix integer overflow in CreateHob(), CVE-2022-36765
      + 0001-UefiPayloadPkg-Hob-Integer-Overflow-in-CreateHob.patch
    - Fix a buffer overflow via a long server ID option in DHCPv6
      client, CVE-2023-45230:
      + 0001-NetworkPkg-Dhcp6Dxe-SECURITY-PATCH-CVE-2023-45230-Pa.patch
      + 0002-NetworkPkg-Add-Unit-tests-to-CI-and-create-Host-Test.patch
      + 0003-NetworkPkg-Dhcp6Dxe-SECURITY-PATCH-CVE-2023-45230-Un.patch
    - Fix an out-of-bounds read vulnerability when processing the IA_NA
      or IA_TA option in a DHCPv6 Advertise message, CVE-2023-45229:
      + 0004-NetworkPkg-Dhcp6Dxe-SECURITY-PATCH-CVE-2023-45229-Pa.patch
      + 0005-NetworkPkg-Dhcp6Dxe-SECURITY-PATCH-CVE-2023-45229-Un.patch
    - Fix an out-of-bounds read when processing Neighbor Discovery
      Redirect messages, CVE-2023-45231:
      + 0006-NetworkPkg-Ip6Dxe-SECURITY-PATCH-CVE-2023-45231-Patc.patch
      + 0007-NetworkPkg-Ip6Dxe-SECURITY-PATCH-CVE-2023-45231-Unit.patch
    - Avoid an infinite loop when parsing unknown options in the
      Destination Options header of IPv6, CVE-2023-45232:
      + 0008-NetworkPkg-Ip6Dxe-SECURITY-PATCH-CVE-2023-45232-Patc.patch
      + 0009-NetworkPkg-Ip6Dxe-SECURITY-PATCH-CVE-2023-45232-Unit.patch
    - Avoid an infinite loop when parsing a PadN option in the
      Destination Options header of IPv6, CVE-2023-45233:
      + 0010-NetworkPkg-UefiPxeBcDxe-SECURITY-PATCH-CVE-2023-4523.patch
      + 0011-NetworkPkg-UefiPxeBcDxe-SECURITY-PATCH-CVE-2023-4523.patch
    - Fix a potential buffer overflow when processing a DNS Servers
      option from a DHCPv6 Advertise message, CVE-2023-45234:
      + 0013-NetworkPkg-UefiPxeBcDxe-SECURITY-PATCH-CVE-2023-4523.patch
    - Fix a potential buffer overflow when handling a Server ID option
      from a DHCPv6 proxy Advertise message, CVE-2023-45235:
      + 0014-NetworkPkg-UefiPxeBcDxe-SECURITY-PATCH-CVE-2023-4523.patch
    - Record fixes in a SecurityFix.yaml file:
      + 0015-NetworkPkg-Adds-a-SecurityFix.yaml-file.patch
  * Disable the built-in Shell when SecureBoot is enabled, CVE-2023-48733.
    Thanks to Mate Kukri. LP: #2040137.
    - Backport support for IsSecureBootEnabled():
      + 0001-SecurityPkg-SecureBootVariableLib-Added-newly-suppor.patch
    - Disable the built-in Shell when SecureBoot is enabled:
      + Disable-the-Shell-when-SecureBoot-is-enabled.patch
    - d/tests: Drop the boot-to-shell tests for images w/ Secure Boot active.
    - d/tests: Update run_cmd_check_secure_boot() to not expect shell
      interaction.

 -- dann frazier &lt;dannf@ubuntu.com&gt;  Mon, 12 Feb 2024 13:19:59 -0700</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in edk2 (Ubuntu Jammy): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/73" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~janitor" class="sprite person-inactive">Launchpad Janitor (janitor)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-22T16:05:17.269814+00:00" title="2024-02-22 16:05:17 UTC">on 2024-02-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/73"> #73</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This bug was fixed in the package edk2 - 2023.11-8</p>
<p>---------------<br />
edk2 (2023.11-8) unstable; urgency=medium</p>
<p>&nbsp;&nbsp;* debian/rules: Add debug flag to edk2-vars-<wbr />generator.<wbr />py commands.<br />
&nbsp;&nbsp;* debian/<wbr />python/<wbr />UEFI/Qemu: Fix var template for snakeoil commands.<br />
&nbsp;&nbsp;* debian/rules: Fix OVMF snakeoil enrollment by using the secboot<br />
&nbsp;&nbsp;&nbsp;&nbsp;CODE variant.<br />
&nbsp;&nbsp;* debian/<wbr />tests/shell.<wbr />py: Detect &quot;Access Denied&quot; message to fix<br />
&nbsp;&nbsp;&nbsp;&nbsp;test_<wbr />*_ms_secure_<wbr />boot_unsigned cases.<br />
&nbsp;&nbsp;* debian/rules: switch to 64bit PEI for OVMF(X64) images now that<br />
&nbsp;&nbsp;&nbsp;&nbsp;it supports S3 suspend. Thanks Hector Cao.</p>
<p>&nbsp;-- dann frazier &lt;email address hidden&gt;  Wed, 21 Feb 2024 16:25:20 -0700</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This bug was fixed in the package edk2 - 2023.11-8

---------------
edk2 (2023.11-8) unstable; urgency=medium

  * debian/rules: Add debug flag to edk2-vars-generator.py commands.
  * debian/python/UEFI/Qemu: Fix var template for snakeoil commands.
  * debian/rules: Fix OVMF snakeoil enrollment by using the secboot
    CODE variant.
  * debian/tests/shell.py: Detect "Access Denied" message to fix
    test_*_ms_secure_boot_unsigned cases.
  * debian/rules: switch to 64bit PEI for OVMF(X64) images now that
    it supports S3 suspend. Thanks Hector Cao.

 -- dann frazier &lt;dannf@debian.org&gt;  Wed, 21 Feb 2024 16:25:20 -0700</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in edk2 (Ubuntu Noble): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/ubuntu/+source/edk2/+bug/2040137/comments/74" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~eslerm" class="sprite person">Mark Esler (eslerm)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-04-29T04:15:59.824473+00:00" title="2024-04-29 04:15:59 UTC">on 2024-04-29</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/ubuntu/+source/edk2/+bug/2040137/comments/74"> #74</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This has been addressed in the LXD snaps 5.21/stable (<a rel="nofollow" href="https://github.com/canonical/lxd-pkg-snap/commit/764ee08b">https:/<wbr />/github.<wbr />com/canonical/<wbr />lxd-pkg-<wbr />snap/commit/<wbr />764ee08b</a>) and 5.0/edge (<a rel="nofollow" href="https://github.com/canonical/lxd-pkg-snap/commit/bfe4270e">https:/<wbr />/github.<wbr />com/canonical/<wbr />lxd-pkg-<wbr />snap/commit/<wbr />bfe4270e</a>).</p>
<p>All LXD software before version 4 are not affected.</p>
<p>Jammy, Mantic, and Noble do not have debs. Focal&#x27;s deb is a snap installer. If LP is meant to track affected debs, all tagged LXD releases are invalid.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This has been addressed in the LXD snaps 5.21/stable (https://github.com/canonical/lxd-pkg-snap/commit/764ee08b) and 5.0/edge (https://github.com/canonical/lxd-pkg-snap/commit/bfe4270e).

All LXD software before version 4 are not affected.

Jammy, Mantic, and Noble do not have debs. Focal's deb is a snap installer. If LP is meant to track affected debs, all tagged LXD releases are invalid.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~0xnishit" class="sprite person">Nishit Majithia (0xnishit)</a>
    
    <time title="2024-07-15 12:23:08 UTC" datetime="2024-07-15T12:23:08.767024+00:00">on 2024-07-15</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in lxd (Ubuntu Mantic): </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Won&#x27;t Fix
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/ubuntu/+source/edk2/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    
    
    
    
    
    
    
  </ul>
  <ul id="lock-status-actions">
    
  </ul>
</div>

      <div class="portlet" id="portlet-duplicates">
  <h2>Duplicates of this bug</h2>
  <ul>
    <li>
      <a class="sprite bug" href="https://bugs.launchpad.net/bugs/2040139" title="exposing the EFI shell in Secure Boot mode can lead to security bypass"> Bug #2040139</a>
    </li>
  </ul>
</div>

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/ubuntu/+source/edk2/+bug/2040137/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+attachment/5726761/+files/0001-d-p-Disable-the-Shell-when-SecureBoot-is-enabled.pat.patch" class="sprite haspatch-icon">0001-d-p-Disable-the-Shell-when-SecureBoot-is-enabled.pat.patch</a>
        <a class="sprite edit action-icon" title="Change patch details" href="/ubuntu/+source/edk2/+bug/2040137/+attachment/5726761">Edit</a>
      </li>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+attachment/5737166/+files/0001-Update-autopkgtests-to-not-require-a-shell-when-Secu.patch" class="sprite haspatch-icon">0001-Update-autopkgtests-to-not-require-a-shell-when-Secu.patch</a>
        <a class="sprite edit action-icon" title="Change patch details" href="/ubuntu/+source/edk2/+bug/2040137/+attachment/5737166">Edit</a>
      </li>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137/+attachment/5741528/+files/Disable-the-Shell-when-SecureBoot-is-enabled.patch" class="sprite haspatch-icon">Disable-the-Shell-when-SecureBoot-is-enabled.patch</a>
        <a class="sprite edit action-icon" title="Change patch details" href="/ubuntu/+source/edk2/+bug/2040137/+attachment/5741528">Edit</a>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/ubuntu/+source/edk2/+bug/2040137/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  


      <div class="portlet" id="portlet-watches">
  <h2>Remote bug watches</h2>
  <ul>
  </ul>
  <p>Bug watches keep track of this bug in other bug trackers.</p>
</div>

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-footer-logo.svg" alt="Launchpad" width="65" height="18" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://ubuntu.social/@launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        6394e03
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"related_features": {}, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/2040137", "web_link": "https://bugs.launchpad.net/bugs/2040137", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 2040137, "private": false, "information_type": "Public Security", "name": null, "title": "exposing the EFI shell in Secure Boot mode can lead to security bypass", "description": "The EFI shell is available as a built-in Boot Option in Ubuntu's OVMF builds, even when Secure Boot is enabled.\n\nThis application has known mechanisms for bypassing UEFI Secure Boot, and has already been barred from signing previously.\n\nIt should either: not be built into Secure Boot capable OVMF builds, or disabled when Secure Boot is enabled in any capacity.", "owner_link": "https://bugs.launchpad.net/api/devel/~mkukri", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/bug_tasks", "duplicate_of_link": null, "date_created": "2023-10-23T07:12:22.683912+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/subscriptions", "date_last_updated": "2024-07-15T12:23:10.033643+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 286, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/cves", "vulnerabilities_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/vulnerabilities", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/attachments", "security_related": true, "latest_patch_uploaded": "2024-01-23T07:59:05.506744+00:00", "tags": ["patch"], "date_last_message": "2024-04-29T04:15:59.824473+00:00", "number_of_duplicates": 1, "message_count": 75, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/messages", "lock_status": "Unlocked", "lock_reason": null, "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2040137/linked_merge_proposals", "http_etag": "\"9588e2a9d83e426468d00ab6d91cff391c5a05d6-7a4182c20db9bb599a146abd746a1a5a1042031d\""}, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/2040137", "self_link": "https://bugs.launchpad.net/api/devel/bugs/2040137"}, "total_comments_and_activity": 130, "initial_comment_batch_offset": 41, "first visible_recent_comment": 34, "information_type_data": {"PUBLIC": {"value": "PUBLIC", "description": "Everyone can see this information.\n", "name": "Public", "order": 0, "is_private": false, "description_css_class": "choice-description"}, "PUBLICSECURITY": {"value": "PUBLICSECURITY", "description": "Everyone can see this security related information.\n", "name": "Public Security", "order": 1, "is_private": false, "description_css_class": "choice-description"}, "PRIVATESECURITY": {"value": "PRIVATESECURITY", "description": "Only the security group can see this information.\n ", "name": "Private Security", "order": 2, "is_private": true, "description_css_class": "choice-description"}, "USERDATA": {"value": "USERDATA", "description": "Only shared with users permitted to see private user information.\n", "name": "Private", "order": 3, "is_private": true, "description_css_class": "choice-description"}}, "bug_is_private": false, "context": {"self_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/edk2/+bug/2040137", "web_link": "https://bugs.launchpad.net/ubuntu/+source/edk2/+bug/2040137", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/2040137", "milestone_link": null, "status": "Fix Released", "status_explanation": null, "importance": "Undecided", "importance_explanation": null, "assignee_link": "https://bugs.launchpad.net/api/devel/~dannf", "bug_target_display_name": "edk2 (Ubuntu)", "bug_target_name": "edk2 (Ubuntu)", "bug_watch_link": null, "date_assigned": "2024-02-11T21:29:04.098890+00:00", "date_created": "2023-10-23T07:12:22.683912+00:00", "date_confirmed": "2024-02-11T21:29:04.097494+00:00", "date_incomplete": null, "date_in_progress": "2024-02-11T21:29:04.097494+00:00", "date_closed": "2024-02-22T16:05:18.170510+00:00", "date_left_new": "2024-02-11T21:29:04.097494+00:00", "date_triaged": "2024-02-11T21:29:04.097494+00:00", "date_fix_committed": "2024-02-22T16:05:18.170510+00:00", "date_fix_released": "2024-02-22T16:05:18.170510+00:00", "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~mkukri", "target_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/edk2", "title": "Bug #2040137 in edk2 (Ubuntu): \"exposing the EFI shell in Secure Boot mode can lead to security bypass\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/ubuntu/+source/edk2/+bug/2040137/related_tasks", "is_complete": true, "http_etag": "\"b7049a706dd525b702d2bf8eb141ac152ed33d8e-3f08e60d705e9e30758cd4c13bdd8509060d7bf0\""}};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 65 queries/external actions issued in 1.20 seconds

    Features: {'profiling.enabled': None, 'hard_timeout': '9000', 'app.mainsite_only.canonical_url': None, 'js.yui_version': None, 'app.maintenance_message': None, 'bugs.affected_count_includes_dupes.disabled': None, 'baselayout.careers_link.disabled': None, 'visible_render_time': None}

    r6394e03

    -->

</html>

