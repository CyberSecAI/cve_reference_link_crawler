=== Content from plugins.trac.wordpress.org_a98cb7df_20250111_155359.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fpowerpress%2Ftrunk%2Fpowerpress-player.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/powerpress/trunk/powerpress-player.php?rev=3115881 "Revision 3115881")
* Next Revision →
* [Blame](/browser/powerpress/trunk/powerpress-player.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/powerpress/trunk/powerpress-player.php)

---

# [source:](/browser?order=name "Go to repository root") [powerpress](/browser/powerpress?order=name "View powerpress")/[trunk](/browser/powerpress/trunk?order=name "View trunk")/[powerpress-player.php](/browser/powerpress/trunk/powerpress-player.php?order=name "View powerpress-player.php")

View diff against:

View revision:

| [Last change](/changeset/3166085/powerpress/trunk/powerpress-player.php "View differences") on this file was [3166085](/changeset/3166085/ "View changeset 3166085"), checked in by benbeecroft, [3 months ago](/timeline?from=2024-10-09T18%3A04%3A23Z&precision=second "See timeline at 10/09/2024 06:04:23 PM") |
| --- |
| PowerPress 11.9.19 |
| **File size:** 63.1 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\* |
| [3](#L3) | PowerPress player options |
| [4](#L4) | \*/ |
| [5](#L5) |  |
| [6](#L6) |  |
| [7](#L7) | function powerpressplayer\_get\_next\_id() |
| [8](#L8) | { |
| [9](#L9) | if( !isset($GLOBALS['g\_powerpress\_player\_id']) ) // Use the global unique player id variable for the surrounding div |
| [10](#L10) | $GLOBALS['g\_powerpress\_player\_id'] = rand(0, 10000); |
| [11](#L11) | else |
| [12](#L12) | $GLOBALS['g\_powerpress\_player\_id']++; // increment the player id for the next div so it is unique |
| [13](#L13) | return $GLOBALS['g\_powerpress\_player\_id']; |
| [14](#L14) | } |
| [15](#L15) |  |
| [16](#L16) | function powerpressplayer\_get\_extension($media\_url, $EpisodeData = array() ) |
| [17](#L17) | { |
| [18](#L18) | $qpos = strpos($media\_url, "?"); |
| [19](#L19) | if ($qpos!==false) { |
| [20](#L20) | $ext = powerpressplayer\_get\_extension(substr($media\_url, 0, $qpos)); |
| [21](#L21) | if ($ext != 'unknown') { |
| [22](#L22) | return $ext; |
| [23](#L23) | } |
| [24](#L24) | } |
| [25](#L25) |  |
| [26](#L26) | $extension = 'unknown'; |
| [27](#L27) | $parts = pathinfo($media\_url); |
| [28](#L28) | if( !empty($parts['extension']) ) |
| [29](#L29) | $extension = strtolower($parts['extension']); |
| [30](#L30) |  |
| [31](#L31) | $qpos = strpos($extension, "?"); |
| [32](#L32) | if ($qpos!==false) { |
| [33](#L33) | $extension = substr($extension, 0, $qpos); |
| [34](#L34) | } |
| [35](#L35) |  |
| [36](#L36) | // Hack to use the audio/mp3 content type to set extension to mp3, some folks use tinyurl.com to mp3 files which remove the file extension... |
| [37](#L37) | if( isset($EpisodeData['type']) && $EpisodeData['type'] == 'audio/mpeg' && $extension != 'mp3' ) |
| [38](#L38) | $extension = 'mp3'; |
| [39](#L39) |  |
| [40](#L40) | return $extension; |
| [41](#L41) | } |
| [42](#L42) |  |
| [43](#L43) | /\* |
| [44](#L44) | Initialize powerpress player handling |
| [45](#L45) | \*/ |
| [46](#L46) | function powerpressplayer\_init($GeneralSettings) |
| [47](#L47) | { |
| [48](#L48) | add\_shortcode('skipto', 'powerpress\_shortcode\_skipto'); // skipto shortcode |
| [49](#L49) |  |
| [50](#L50) | if( !empty($GeneralSettings['seo\_video\_objects']) ) |
| [51](#L51) | add\_filter('powerpress\_player', 'powerpressplayer\_mediaobjects\_video', 1, 3); // Before everythign is added |
| [52](#L52) | if( !empty($GeneralSettings['seo\_audio\_objects']) ) |
| [53](#L53) | add\_filter('powerpress\_player', 'powerpressplayer\_mediaobjects\_audio', 1, 3); // Before everythign is added |
| [54](#L54) | if( !empty($GeneralSettings['seo\_audio\_objects']) || !empty($GeneralSettings['seo\_video\_objects']) ) |
| [55](#L55) | add\_filter('powerpress\_player', 'powerpressplayer\_mediaobjects\_post', 1000, 3); // After everythign is added |
| [56](#L56) |  |
| [57](#L57) | if( isset($\_GET['powerpress\_pinw']) ) |
| [58](#L58) | powerpress\_do\_pinw(htmlspecialchars($\_GET['powerpress\_pinw']), !empty($GeneralSettings['process\_podpress']) ); |
| [59](#L59) |  |
| [60](#L60) | if( isset($\_GET['powerpress\_embed']) ) |
| [61](#L61) | { |
| [62](#L62) | $player = ( !empty($\_GET['powerpress\_player']) ? $\_GET['powerpress\_player'] : 'mejs-v' ); |
| [63](#L63) | powerpress\_do\_embed($player, htmlspecialchars($\_GET['powerpress\_embed']), !empty($GeneralSettings['process\_podpress']) ); |
| [64](#L64) | } |
| [65](#L65) |  |
| [66](#L66) | // If we are to process podpress data.. |
| [67](#L67) | if( !empty($GeneralSettings['process\_podpress']) ) |
| [68](#L68) | { |
| [69](#L69) | add\_shortcode('display\_podcast', 'powerpress\_shortcode\_handler'); |
| [70](#L70) | } |
| [71](#L71) | /\* |
| [72](#L72) | // include what's needed for each plaer |
| [73](#L73) | if( defined('POWERPRESS\_JS\_DEBUG') ) |
| [74](#L74) | wp\_enqueue\_script( 'powerpress-player', powerpress\_get\_root\_url() .'player.js'); |
| [75](#L75) | else |
| [76](#L76) | wp\_enqueue\_script( 'powerpress-player', powerpress\_get\_root\_url() .'player.min.js'); |
| [77](#L77) |  |
| [78](#L78) |  |
| [79](#L79) | $enqueue\_mejs = false; |
| [80](#L80) | if( !isset($GeneralSettings['player']) || !isset($GeneralSettings['video\_player']) ) |
| [81](#L81) | { |
| [82](#L82) | $enqueue\_mejs = true; |
| [83](#L83) | } |
| [84](#L84) | else if( !empty($GeneralSettings['player']) && $GeneralSettings['player'] == 'mediaelement-audio' ) |
| [85](#L85) | { |
| [86](#L86) | $enqueue\_mejs = true; |
| [87](#L87) | } |
| [88](#L88) | else if( !empty($GeneralSettings['video\_player']) && $GeneralSettings['video\_player'] == 'mediaelement-video' ) |
| [89](#L89) | { |
| [90](#L90) | $enqueue\_mejs = true; |
| [91](#L91) | } |
| [92](#L92) |  |
| [93](#L93) | if( $enqueue\_mejs ) |
| [94](#L94) | { |
| [95](#L95) | wp\_enqueue\_style('wp-mediaelement'); |
| [96](#L96) | wp\_enqueue\_script('wp-mediaelement'); |
| [97](#L97) | } |
| [98](#L98) | \*/ |
| [99](#L99) | } |
| [100](#L100) |  |
| [101](#L101) |  |
| [102](#L102) | function powerpress\_shortcode\_handler( $attributes, $content = null ) |
| [103](#L103) | { |
| [104](#L104) | global $post, $g\_powerpress\_player\_added; |
| [105](#L105) |  |
| [106](#L106) | // We can't add flash players to feeds |
| [107](#L107) | if( is\_feed() ) |
| [108](#L108) | return ''; |
| [109](#L109) |  |
| [110](#L110) | $return = ''; |
| [111](#L111) | $feed = ''; |
| [112](#L112) | $channel = ''; |
| [113](#L113) | $slug = ''; // latest and preferred way to specify the feed slug |
| [114](#L114) | $url = ''; |
| [115](#L115) | $image = ''; |
| [116](#L116) | $width = ''; |
| [117](#L117) | $height = ''; |
| [118](#L118) | $sample = ''; |
| [119](#L119) |  |
| [120](#L120) | if (is\_array($attributes)) { |
| [121](#L121) | $attributes = array\_filter($attributes, function ($var) { |
| [122](#L122) | if (strpos($var, 'javascript:') === 0) { |
| [123](#L123) | return ''; |
| [124](#L124) | } else { |
| [125](#L125) | return $var; |
| [126](#L126) | } |
| [127](#L127) | }); |
| [128](#L128) | } |
| [129](#L129) |  |
| [130](#L130) | extract( shortcode\_atts( array( |
| [131](#L131) | 'url' => '', |
| [132](#L132) | 'feed' => '', |
| [133](#L133) | 'channel' => '', |
| [134](#L134) | 'slug' => '', |
| [135](#L135) | 'image' => '', |
| [136](#L136) | 'width' => '', |
| [137](#L137) | 'height' => '', |
| [138](#L138) | 'sample' => '' |
| [139](#L139) | ), $attributes ) ); |
| [140](#L140) |  |
| [141](#L141) | if( empty($channel) && !empty($feed) ) // Feed for backward compat. |
| [142](#L142) | $channel = $feed; |
| [143](#L143) | if( !empty($slug) ) // Foward compatibility |
| [144](#L144) | $channel = $slug; |
| [145](#L145) |  |
| [146](#L146) | if( !$url && $content ) |
| [147](#L147) | { |
| [148](#L148) | $content\_url = trim($content); |
| [149](#L149) | if( @parse\_url($content\_url) ) |
| [150](#L150) | $url = $content\_url; |
| [151](#L151) | } |
| [152](#L152) |  |
| [153](#L153) | if( $url && !$sample ) |
| [154](#L154) | { |
| [155](#L155) | $url = powerpress\_add\_redirect\_url($url); |
| [156](#L156) | $content\_type = ''; |
| [157](#L157) | // Handle the URL differently... |
| [158](#L158) | do\_action('wp\_powerpress\_player\_scripts'); |
| [159](#L159) | $return = apply\_filters('powerpress\_player', '', powerpress\_add\_flag\_to\_redirect\_url($url, 'p'), array('image'=>$image, 'type'=>$content\_type,'width'=>$width, 'height'=>$height) ); |
| [160](#L160) | } |
| [161](#L161) | else if( $channel ) |
| [162](#L162) | { |
| [163](#L163) | if (!empty($post)) { |
| [164](#L164) | $post\_id = $post->ID; |
| [165](#L165) | } else { |
| [166](#L166) | $post\_id = -1; |
| [167](#L167) | } |
| [168](#L168) | $EpisodeData = powerpress\_get\_enclosure\_data($post\_id, $channel); |
| [169](#L169) | if( !empty($EpisodeData['embed']) ) |
| [170](#L170) | $return = $EpisodeData['embed']; |
| [171](#L171) |  |
| [172](#L172) | // Shortcode over-ride settings: |
| [173](#L173) | if( !empty($image) ) |
| [174](#L174) | $EpisodeData['image'] = $image; |
| [175](#L175) | if( !empty($width) ) |
| [176](#L176) | $EpisodeData['width'] = $width; |
| [177](#L177) | if( !empty($height) ) |
| [178](#L178) | $EpisodeData['height'] = $height; |
| [179](#L179) | if (!empty($url)) { |
| [180](#L180) | $EpisodeData['url'] = $url; |
| [181](#L181) | } |
| [182](#L182) | if ($sample && empty($EpisodeData['url'])) { |
| [183](#L183) | // sample player for edit screen block pre-publish |
| [184](#L184) | $return .= "<p>This is a placeholder. Upon publishing, it will be replaced with the actual audio or video player.</p>"; |
| [185](#L185) | $EpisodeData['url'] = "https://media.blubrry.com/blubrrypreview/content.blubrry.com/blubrrypreview/transcript\_test\_episode.mp3"; |
| [186](#L186) | } |
| [187](#L187) | if (empty($EpisodeData['feed']) && !empty($channel)) { |
| [188](#L188) | $EpisodeData['feed'] = $channel; |
| [189](#L189) | } |
| [190](#L190) | if (empty($EpisodeData['type'])) { |
| [191](#L191) | $EpisodeData['type'] = ''; |
| [192](#L192) | } |
| [193](#L193) |  |
| [194](#L194) |  |
| [195](#L195) | $GeneralSettings = get\_option('powerpress\_general'); |
| [196](#L196) | if( isset($GeneralSettings['premium\_caps']) && $GeneralSettings['premium\_caps'] && !powerpress\_premium\_content\_authorized($channel) ) |
| [197](#L197) | { |
| [198](#L198) | $return .= powerpress\_premium\_content\_message($post\_id, $channel, $EpisodeData); |
| [199](#L199) | } |
| [200](#L200) | else |
| [201](#L201) | { |
| [202](#L202) | // If the shortcode specifies a channel, than we definitely want to include the player even if $EpisodeData['no\_player'] is true... |
| [203](#L203) | if( !isset($EpisodeData['no\_player']) && !empty($EpisodeData['url']) ) { |
| [204](#L204) | do\_action('wp\_powerpress\_player\_scripts'); |
| [205](#L205) | $return .= apply\_filters('powerpress\_player', '', powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['url'], 'p'), array('id'=>$post\_id,'feed'=>$channel, 'channel'=>$channel, 'image'=>$image, 'type'=>$EpisodeData['type'],'width'=>$width, 'height'=>$height) ); |
| [206](#L206) | } |
| [207](#L207) | if( empty($EpisodeData['no\_links']) && !empty($EpisodeData['url']) ) { |
| [208](#L208) | do\_action('wp\_powerpress\_player\_scripts'); |
| [209](#L209) | $return .= apply\_filters('powerpress\_player\_links', '',  powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['url'], 'p'), $EpisodeData ); |
| [210](#L210) | $return .= apply\_filters('powerpress\_player\_subscribe\_links', '',  powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['url'], 'p'), $EpisodeData ); |
| [211](#L211) | } |
| [212](#L212) | } |
| [213](#L213) | } |
| [214](#L214) | else |
| [215](#L215) | { |
| [216](#L216) | $GeneralSettings = get\_option('powerpress\_general'); |
| [217](#L217) | if( !isset($GeneralSettings['custom\_feeds']['podcast']) ) |
| [218](#L218) | $GeneralSettings['custom\_feeds']['podcast'] = 'Podcast Feed'; // Fixes scenario where the user never configured the custom default podcast feed. |
| [219](#L219) |  |
| [220](#L220) | // If we have post type podcasting enabled, then we need to use the podcast post type feeds instead here... |
| [221](#L221) | if( !empty($GeneralSettings['posttype\_podcasting']) ) |
| [222](#L222) | { |
| [223](#L223) | $post\_type = get\_query\_var('post\_type'); |
| [224](#L224) | if ( is\_array( $post\_type ) ) { |
| [225](#L225) | $post\_type = reset( $post\_type ); // get first element in array |
| [226](#L226) | } |
| [227](#L227) |  |
| [228](#L228) | // Get the feed slugs and titles for this post type |
| [229](#L229) | $PostTypeSettingsArray = get\_option('powerpress\_posttype\_'.$post\_type); |
| [230](#L230) | // Loop through this array... |
| [231](#L231) | if( !empty($PostTypeSettingsArray) ) |
| [232](#L232) | { |
| [233](#L233) | switch($post\_type) |
| [234](#L234) | { |
| [235](#L235) | case 'post': |
| [236](#L236) | case 'page': { |
| [237](#L237) | // Do nothing!, we want the default podcast and channels to appear in these post types |
| [238](#L238) | }; break; |
| [239](#L239) | default: { |
| [240](#L240) | $GeneralSettings['custom\_feeds'] = array(); // reset this array since we're working with  a custom post type |
| [241](#L241) | }; |
| [242](#L242) | } |
| [243](#L243) |  |
| [244](#L244) | if (is\_array($PostTypeSettingsArray)) { |
| [245](#L245) | foreach ($PostTypeSettingsArray as $feed\_slug => $postTypeSettings) { |
| [246](#L246) | if (!empty($postTypeSettings['title'])) |
| [247](#L247) | $GeneralSettings['custom\_feeds'][$feed\_slug] = $postTypeSettings['title']; |
| [248](#L248) | else |
| [249](#L249) | $GeneralSettings['custom\_feeds'][$feed\_slug] = $feed\_slug; |
| [250](#L250) | } |
| [251](#L251) | } |
| [252](#L252) | } |
| [253](#L253) | } |
| [254](#L254) |  |
| [255](#L255) | if (is\_array($GeneralSettings['custom\_feeds'])) { |
| [256](#L256) | foreach ($GeneralSettings['custom\_feeds'] as $feed\_slug => $feed\_title) { |
| [257](#L257) | if (isset($GeneralSettings['disable\_player']) && isset($GeneralSettings['disable\_player'][$feed\_slug])) |
| [258](#L258) | continue; |
| [259](#L259) |  |
| [260](#L260) | $EpisodeData = powerpress\_get\_enclosure\_data($post->ID, $feed\_slug); |
| [261](#L261) | if (!$EpisodeData && !empty($GeneralSettings['process\_podpress']) && $feed\_slug == 'podcast') |
| [262](#L262) | $EpisodeData = powerpress\_get\_enclosure\_data\_podpress($post->ID); |
| [263](#L263) |  |
| [264](#L264) | if (!$EpisodeData) |
| [265](#L265) | continue; |
| [266](#L266) |  |
| [267](#L267) | if (!empty($EpisodeData['embed'])) |
| [268](#L268) | $return .= $EpisodeData['embed']; |
| [269](#L269) |  |
| [270](#L270) | // Shortcode over-ride settings: |
| [271](#L271) | if (!empty($image)) |
| [272](#L272) | $EpisodeData['image'] = $image; |
| [273](#L273) | if (!empty($width)) |
| [274](#L274) | $EpisodeData['width'] = $width; |
| [275](#L275) | if (!empty($height)) |
| [276](#L276) | $EpisodeData['height'] = $height; |
| [277](#L277) |  |
| [278](#L278) | if (isset($GeneralSettings['premium\_caps']) && $GeneralSettings['premium\_caps'] && !powerpress\_premium\_content\_authorized($feed\_slug)) { |
| [279](#L279) | $return .= powerpress\_premium\_content\_message($post->ID, $feed\_slug, $EpisodeData); |
| [280](#L280) | continue; |
| [281](#L281) | } |
| [282](#L282) |  |
| [283](#L283) | if (!isset($EpisodeData['no\_player'])) { |
| [284](#L284) | do\_action('wp\_powerpress\_player\_scripts'); |
| [285](#L285) | $return .= apply\_filters('powerpress\_player', '', powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['url'], 'p'), $EpisodeData); |
| [286](#L286) | } |
| [287](#L287) | if (!isset($EpisodeData['no\_links'])) { |
| [288](#L288) | do\_action('wp\_powerpress\_player\_scripts'); |
| [289](#L289) | $return .= apply\_filters('powerpress\_player\_links', '', powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['url'], 'p'), $EpisodeData); |
| [290](#L290) | $return .= apply\_filters('powerpress\_player\_subscribe\_links', '', powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['url'], 'p'), $EpisodeData); |
| [291](#L291) | } |
| [292](#L292) | } |
| [293](#L293) | } |
| [294](#L294) | } |
| [295](#L295) |  |
| [296](#L296) | return $return; |
| [297](#L297) | } |
| [298](#L298) |  |
| [299](#L299) | add\_shortcode('powerpress', 'powerpress\_shortcode\_handler'); |
| [300](#L300) | if( !defined('PODCASTING\_VERSION') ) |
| [301](#L301) | { |
| [302](#L302) | add\_shortcode('podcast', 'powerpress\_shortcode\_handler'); |
| [303](#L303) | } |
| [304](#L304) |  |
| [305](#L305) | function wp\_powerpress\_player\_scripts() |
| [306](#L306) | { |
| [307](#L307) | // include what's needed for each plaer |
| [308](#L308) | if( defined('POWERPRESS\_JS\_DEBUG') ) |
| [309](#L309) | wp\_enqueue\_script( 'powerpress-player', powerpress\_get\_root\_url() .'player.js'); |
| [310](#L310) | else |
| [311](#L311) | wp\_enqueue\_script( 'powerpress-player', powerpress\_get\_root\_url() .'player.min.js'); |
| [312](#L312) | } |
| [313](#L313) | add\_action( 'wp\_powerpress\_player\_scripts', 'wp\_powerpress\_player\_scripts' ); |
| [314](#L314) |  |
| [315](#L315) |  |
| [316](#L316) | /\* |
| [317](#L317) | // Everything in $ExtraData except post\_id |
| [318](#L318) | \*/ |
| [319](#L319) | function powerpress\_generate\_embed($player, $EpisodeData) // $post\_id, $feed\_slug, $width=false, $height=false, $media\_url = false, $autoplay = false) |
| [320](#L320) | { |
| [321](#L321) | if( empty($EpisodeData['id']) && empty($EpisodeData['feed']) ) |
| [322](#L322) | return ''; |
| [323](#L323) |  |
| [324](#L324) | if( $player == 'blubrryaudio' || $player == 'blubrrymodern') |
| [325](#L325) | { |
| [326](#L326) | $extension = powerpressplayer\_get\_extension($EpisodeData['url']); |
| [327](#L327) | if( $extension == 'mp3' || $extension == 'm4a' ) |
| [328](#L328) | { |
| [329](#L329) | return powerpressplayer\_build\_blubrryaudio($EpisodeData['url'], $EpisodeData); |
| [330](#L330) | } |
| [331](#L331) | return ''; |
| [332](#L332) | } |
| [333](#L333) |  |
| [334](#L334) | $width = 0; |
| [335](#L335) | $height = 0; |
| [336](#L336) | if( !empty($EpisodeData['width']) && is\_numeric($EpisodeData['width']) ) |
| [337](#L337) | $width = $EpisodeData['width']; |
| [338](#L338) | if( !empty($EpisodeData['height']) && is\_numeric($EpisodeData['height']) ) |
| [339](#L339) | $height = $EpisodeData['height']; |
| [340](#L340) |  |
| [341](#L341) | // More efficient, only pull the general settings if necessary |
| [342](#L342) | if( $height == 0 || $width == 0 ) |
| [343](#L343) | { |
| [344](#L344) | $GeneralSettings = get\_option('powerpress\_general'); |
| [345](#L345) | if( $width == 0 ) |
| [346](#L346) | { |
| [347](#L347) | $width = 400; |
| [348](#L348) | if( !empty($GeneralSettings['player\_width']) ) |
| [349](#L349) | $width = $GeneralSettings['player\_width']; |
| [350](#L350) | } |
| [351](#L351) |  |
| [352](#L352) | if( $height == 0 ) |
| [353](#L353) | { |
| [354](#L354) | $height = 400; |
| [355](#L355) | if( !empty($GeneralSettings['player\_height']) ) |
| [356](#L356) | $height = $GeneralSettings['player\_height']; |
| [357](#L357) | } |
| [358](#L358) |  |
| [359](#L359) | $extension = powerpressplayer\_get\_extension($EpisodeData['url']); |
| [360](#L360) | if( $player == 'mediaelement-audio' ) |
| [361](#L361) | { |
| [362](#L362) | if( $extension == 'mp3' || $extension == 'm4a' || $extension == 'oga') |
| [363](#L363) | { |
| [364](#L364) | $height = 30; // Hack for audio to only include the player without the poster art |
| [365](#L365) | $width = 320; |
| [366](#L366) | if( !empty($GeneralSettings['player\_width\_audio']) ) |
| [367](#L367) | $width = $GeneralSettings['player\_width\_audio']; |
| [368](#L368) | } |
| [369](#L369) | } |
| [370](#L370) | else if ( $player == 'default' ) |
| [371](#L371) | { |
| [372](#L372) | if(  ($extension == 'mp3' || $extension == 'm4a' ) && empty($Settings['poster\_image\_audio']) ) |
| [373](#L373) | { |
| [374](#L374) | $height = 24; // Hack for audio to only include the player without the poster art |
| [375](#L375) | $width = 320; |
| [376](#L376) | if( !empty($GeneralSettings['player\_width\_audio']) ) |
| [377](#L377) | $width = $GeneralSettings['player\_width\_audio']; |
| [378](#L378) | } |
| [379](#L379) | } |
| [380](#L380) | } |
| [381](#L381) |  |
| [382](#L382) | $embed = ''; |
| [383](#L383) | $url = get\_bloginfo('url') .'/?powerpress\_embed=' . $EpisodeData['id'] .'-'. $EpisodeData['feed']; |
| [384](#L384) | if( isset($EpisodeData['autoplay']) && $EpisodeData['autoplay'] ) |
| [385](#L385) | $url .= '&amp;autoplay=true'; |
| [386](#L386) |  |
| [387](#L387) | $url .= '&amp;powerpress\_player='.$player; |
| [388](#L388) | $iframeTitle = esc\_attr( \_\_('Blubrry Podcast Player', 'powerpress') ); |
| [389](#L389) | $embed .= '<iframe'; |
| [390](#L390) | //$embed .= ' class="powerpress-player-embed"'; |
| [391](#L391) | $embed .= ' width="'. htmlspecialchars($width) .'"'; |
| [392](#L392) | $embed .= ' height="'. htmlspecialchars($height) .'"'; |
| [393](#L393) | $embed .= ' src="'. htmlspecialchars($url) .'"'; |
| [394](#L394) | $embed .= ' title="'. htmlspecialchars($iframeTitle) .'"'; |
| [395](#L395) | $embed .= ' frameborder="0" scrolling="no"'; |
| [396](#L396) | if($extension != 'mp3' && $extension != 'm4a' && $extension != 'oga') |
| [397](#L397) | $embed .= ' webkitAllowFullScreen mozallowfullscreen allowFullScreen'; |
| [398](#L398) | $embed .= '></iframe>'; |
| [399](#L399) | return $embed; |
| [400](#L400) | } |
| [401](#L401) |  |
| [402](#L402) | function do\_powerpressplayer\_embed($player, $media\_url, $EpisodeData = array()) |
| [403](#L403) | { |
| [404](#L404) | // Includde the stuff we need... |
| [405](#L405) | wp\_enqueue\_style('wp-mediaelement'); |
| [406](#L406) | wp\_enqueue\_script('wp-mediaelement'); |
| [407](#L407) |  |
| [408](#L408) | $mejs\_video = false; |
| [409](#L409) | $mejs\_audio = false; |
| [410](#L410) | $content\_type = powerpress\_get\_contenttype($media\_url); |
| [411](#L411) | if( preg\_match('/audio\/(mpeg|x-m4a|ogg)/i', $content\_type ) ) |
| [412](#L412) | $mejs\_audio = true; |
| [413](#L413) | else if( preg\_match('/video\/(mpeg|mp4|x-m4v|ogg)/i', $content\_type ) ) |
| [414](#L414) | $mejs\_video = true; |
| [415](#L415) |  |
| [416](#L416) | $content = ''; |
| [417](#L417) | $content .= '<!DOCTYPE html>'. PHP\_EOL; |
| [418](#L418) | $content .= '<html xmlns="http://www.w3.org/1999/xhtml">'. PHP\_EOL; |
| [419](#L419) | $content .= '<head>'. PHP\_EOL; |
| [420](#L420) | $content .= '<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />'. PHP\_EOL; |
| [421](#L421) | $content .= '<title>'. \_\_('Blubrry PowerPress Player', 'powerpress') .'</title>'. PHP\_EOL; |
| [422](#L422) | $content .= '<meta name="robots" content="noindex" />'. PHP\_EOL; |
| [423](#L423) | echo $content; |
| [424](#L424) |  |
| [425](#L425) | wp\_print\_styles(); |
| [426](#L426) | wp\_print\_scripts(); |
| [427](#L427) |  |
| [428](#L428) | $content = ''; |
| [429](#L429) | $content .= '<script type="text/javascript"><!--'. PHP\_EOL; |
| [430](#L430) | $content .= 'jQuery(document).ready(function($) {'. PHP\_EOL; |
| [431](#L431) | $content .= '  powerpress\_load\_player();'. PHP\_EOL; |
| [432](#L432) | $content .= '  jQuery(window).resize(function() {'. PHP\_EOL; |
| [433](#L433) | $content .= '    powerpress\_resize\_player();'. PHP\_EOL; |
| [434](#L434) | $content .= '  });'. PHP\_EOL; |
| [435](#L435) | $content .= '});'. PHP\_EOL; |
| [436](#L436) |  |
| [437](#L437) | $content .= 'function powerpress\_load\_player() {'. PHP\_EOL; |
| [438](#L438) | $content .= '  powerpress\_resize\_player();'.PHP\_EOL; |
| [439](#L439) | $content .= '}'. PHP\_EOL; |
| [440](#L440) |  |
| [441](#L441) | $content .= 'function powerpress\_resize\_player() { '. PHP\_EOL; |
| [442](#L442) | if( $mejs\_video ) |
| [443](#L443) | { |
| [444](#L444) | $content .= '  if( ( parseInt(jQuery(window).width()) \* 0.5625) >= parseInt(jQuery(window).height() ) ) {'. PHP\_EOL; |
| [445](#L445) | $content .= '   var height = parseInt(jQuery(window).height())-10;'. PHP\_EOL; |
| [446](#L446) | $content .= '   var width = Math.round((height\*16) / 9)+\'px\';'. PHP\_EOL; |
| [447](#L447) | $content .= '   jQuery(\'.powerpress\_player\').css(\'width\', width );'. PHP\_EOL; |
| [448](#L448) | $content .= '   jQuery(\'.powerpress\_player\').css(\'height\', height+\'px\' );'. PHP\_EOL; |
| [449](#L449) | $content .= '  } else {'. PHP\_EOL; |
| [450](#L450) | $content .= '   jQuery(\'.powerpress\_player\').css(\'width\', \'100%\' );'. PHP\_EOL; |
| [451](#L451) | $content .= '   jQuery(\'.powerpress\_player\').css(\'height\', \'100%\' );'. PHP\_EOL; |
| [452](#L452) | $content .= '  }'. PHP\_EOL; |
| [453](#L453) | } |
| [454](#L454) | $content .= '}'. PHP\_EOL; |
| [455](#L455) | $content .= "//-->\n"; |
| [456](#L456) | $content .= '</script>'. PHP\_EOL; |
| [457](#L457) | $content .= '<style type="text/css" media="screen">' . PHP\_EOL; |
| [458](#L458) | $content .= '   body { font-size: 13px; font-family: Arial, Helvetica, sans-serif; margin: 0; padding: 0; background-color:transparent; } img { border: 0; } ' . PHP\_EOL; |
| [459](#L459) |  |
| [460](#L460) | if( $mejs\_video ) |
| [461](#L461) | { |
| [462](#L462) | $content .= ' |
| [463](#L463) | .powerpress\_player { margin: 0 auto; } |
| [464](#L464) | .mejs-container { |
| [465](#L465) | width: 100% !important; |
| [466](#L466) | height: auto !important; |
| [467](#L467) | max-height: 500px  !important; |
| [468](#L468) | padding-top: 57%; |
| [469](#L469) | } |
| [470](#L470) | .mejs-overlay, .mejs-poster { |
| [471](#L471) | width: 100% !important; |
| [472](#L472) | height: 100% !important; |
| [473](#L473) | } |
| [474](#L474) | .mejs-mediaelement video { |
| [475](#L475) | position: absolute; |
| [476](#L476) | top: 0; left: 0; right: 0; bottom: 0; |
| [477](#L477) | width: 100% !important; |
| [478](#L478) | height: 100% !important; |
| [479](#L479) | } |
| [480](#L480) | '; |
| [481](#L481) | } |
| [482](#L482) | else |
| [483](#L483) | { |
| [484](#L484) | $content .= '.powerpress\_player  .wp-audio-shortcode { |
| [485](#L485) | max-width: 100% !important; |
| [486](#L486) | }'; |
| [487](#L487) | } |
| [488](#L488) | $content .= '</style>' . PHP\_EOL; |
| [489](#L489) | $content .= '</head>'. PHP\_EOL; |
| [490](#L490) | $content .= '<body>'. PHP\_EOL; |
| [491](#L491) |  |
| [492](#L492) | // Body specific content for player |
| [493](#L493) | if( $mejs\_audio ) |
| [494](#L494) | $content .= powerpressplayer\_build\_mediaelementaudio($media\_url, $EpisodeData, true); |
| [495](#L495) | else if( $mejs\_video ) |
| [496](#L496) | $content .= powerpressplayer\_build\_mediaelementvideo($media\_url, $EpisodeData, true); |
| [497](#L497) | else |
| [498](#L498) | $content .= '<strong>'. \_\_('Player Not Available', 'powerpress') .'</strong>'; |
| [499](#L499) |  |
| [500](#L500) | $content .= '</body>'. PHP\_EOL; |
| [501](#L501) | $content .= '</html>'. PHP\_EOL; |
| [502](#L502) | echo $content; |
| [503](#L503) | } |
| [504](#L504) |  |
| [505](#L505) |  |
| [506](#L506) | /\* |
| [507](#L507) | Audio Players - Flash/HTML5 compliant mp3 audio |
| [508](#L508) |  |
| [509](#L509) | @since 2.0 |
| [510](#L510) | @content - |
| [511](#L511) | @param string $content Content of post or page to add player to |
| [512](#L512) | @param string $media\_url Media URL to add player for |
| [513](#L513) | @param array $EpisodeData Array of key/value settings that optionally can contribute to player being added |
| [514](#L514) | @return string $content The content, possibly modified wih player added |
| [515](#L515) | \*/ |
| [516](#L516) | function powerpressplayer\_player\_audio($content, $media\_url, $EpisodeData = array() ) |
| [517](#L517) | { |
| [518](#L518) | $extension = powerpressplayer\_get\_extension($media\_url); |
| [519](#L519) | switch( $extension ) |
| [520](#L520) | { |
| [521](#L521) | // MP3 |
| [522](#L522) | case 'mp3': |
| [523](#L523) | { |
| [524](#L524) | $Settings = get\_option('powerpress\_general'); |
| [525](#L525) | if( !isset($Settings['player']) ) |
| [526](#L526) | $Settings['player'] = 'mediaelement-audio'; |
| [527](#L527) |  |
| [528](#L528) | switch( $Settings['player'] ) |
| [529](#L529) | { |
| [530](#L530) | case 'blubrryaudio': |
| [531](#L531) | case 'blubrrymodern': { |
| [532](#L532) | $content .= powerpressplayer\_build\_blubrryaudio($media\_url, $EpisodeData); |
| [533](#L533) | }; break; |
| [534](#L534) | case 'html5audio': { |
| [535](#L535) | $content .= powerpressplayer\_build\_html5audio($media\_url, $EpisodeData); |
| [536](#L536) | }; break; |
| [537](#L537) | case 'mediaelement-audio': |
| [538](#L538) | default: { |
| [539](#L539) | $content .= powerpressplayer\_build\_mediaelementaudio($media\_url, $EpisodeData); |
| [540](#L540) | }; break; |
| [541](#L541) | } |
| [542](#L542) |  |
| [543](#L543) | }; break; |
| [544](#L544) | case 'm4a': { |
| [545](#L545) |  |
| [546](#L546) | $Settings = get\_option('powerpress\_general'); |
| [547](#L547) | if( !isset($Settings['player']) ) |
| [548](#L548) | $Settings['player'] = 'mediaelement-audio'; |
| [549](#L549) |  |
| [550](#L550) | switch( $Settings['player'] ) |
| [551](#L551) | { |
| [552](#L552) | case 'blubrryaudio': |
| [553](#L553) | case 'blubrrymodern': { |
| [554](#L554) | $content .= powerpressplayer\_build\_blubrryaudio($media\_url, $EpisodeData); |
| [555](#L555) | }; break; |
| [556](#L556) | case 'html5audio': { |
| [557](#L557) | $content .= powerpressplayer\_build\_html5audio($media\_url, $EpisodeData); |
| [558](#L558) | }; break; |
| [559](#L559) | case 'mediaelement-audio': { |
| [560](#L560) | $content .= powerpressplayer\_build\_mediaelementaudio($media\_url, $EpisodeData); |
| [561](#L561) | }; break; |
| [562](#L562) | default: { |
| [563](#L563) | $content .= powerpressplayer\_build\_playimageaudio($media\_url, true); |
| [564](#L564) | }; |
| [565](#L565) | } |
| [566](#L566) |  |
| [567](#L567) | // Use Flow player if configured |
| [568](#L568) | }; break; |
| [569](#L569) | case 'ogg': { |
| [570](#L570) | if( defined('POWERPRESS\_OGG\_VIDEO') && POWERPRESS\_OGG\_VIDEO ) |
| [571](#L571) | return $content; // Ogg is handled as video |
| [572](#L572) | } |
| [573](#L573) | case 'oga': { |
| [574](#L574) |  |
| [575](#L575) | $Settings = get\_option('powerpress\_general'); |
| [576](#L576) | if( !isset($Settings['player']) ) |
| [577](#L577) | $Settings['player'] = 'mediaelement-audio'; |
| [578](#L578) |  |
| [579](#L579) | switch( $Settings['player'] ) |
| [580](#L580) | { |
| [581](#L581) | case 'mediaelement-audio': { |
| [582](#L582) | $content .= powerpressplayer\_build\_mediaelementaudio($media\_url, $EpisodeData); |
| [583](#L583) | }; break; |
| [584](#L584) | case 'html5audio': |
| [585](#L585) | default: { |
| [586](#L586) | $content .= powerpressplayer\_build\_html5audio($media\_url, $EpisodeData); |
| [587](#L587) | } |
| [588](#L588) | } |
| [589](#L589) | }; break; |
| [590](#L590) | } |
| [591](#L591) |  |
| [592](#L592) | return $content; |
| [593](#L593) | } |
| [594](#L594) |  |
| [595](#L595) | /\* |
| [596](#L596) | Video Players - HTML5/Flash compliant video formats |
| [597](#L597) | \*/ |
| [598](#L598) | function powerpressplayer\_player\_video($content, $media\_url, $EpisodeData = array() ) |
| [599](#L599) | { |
| [600](#L600) | $extension = powerpressplayer\_get\_extension($media\_url); |
| [601](#L601) | switch( $extension ) |
| [602](#L602) | { |
| [603](#L603) | // OGG (audio or video) |
| [604](#L604) | case 'ogg': { |
| [605](#L605) | // Ogg special case, we treat as audio unless specified otherwise |
| [606](#L606) | if( !defined('POWERPRESS\_OGG\_VIDEO') || POWERPRESS\_OGG\_VIDEO == false ) |
| [607](#L607) | return $content; |
| [608](#L608) | } |
| [609](#L609) | // OGG Video / WebM |
| [610](#L610) | case 'webm': |
| [611](#L611) | case 'ogv': { // Use native player when possible |
| [612](#L612) | $Settings = get\_option('powerpress\_general'); |
| [613](#L613) | if( !isset($Settings['video\_player']) ) |
| [614](#L614) | $Settings['video\_player'] = 'mediaelement-video'; |
| [615](#L615) | else if( !isset($Settings['video\_player']) ) |
| [616](#L616) | $Settings['video\_player'] = 'html5video'; |
| [617](#L617) |  |
| [618](#L618) | // HTML5 Video as an embed |
| [619](#L619) | switch( $Settings['video\_player'] ) |
| [620](#L620) | { |
| [621](#L621) | case 'videojs-html5-video-player-for-wordpress': { |
| [622](#L622) | $content .= powerpressplayer\_build\_videojs($media\_url, $EpisodeData); |
| [623](#L623) | }; break; |
| [624](#L624) | case 'mediaelement-video': { |
| [625](#L625) | $content .= powerpressplayer\_build\_mediaelementvideo($media\_url, $EpisodeData); |
| [626](#L626) | }; break; |
| [627](#L627) | default: { |
| [628](#L628) | $content .= powerpressplayer\_build\_html5video($media\_url, $EpisodeData); |
| [629](#L629) | }; break; |
| [630](#L630) | } |
| [631](#L631) | }; break; |
| [632](#L632) | // H.264 |
| [633](#L633) | case 'm4v': |
| [634](#L634) | case 'mp4': |
| [635](#L635) | // Okay, lets see if we we have a player setup to handle this |
| [636](#L636) | { |
| [637](#L637) | $Settings = get\_option('powerpress\_general'); |
| [638](#L638) | if( !isset($Settings['video\_player']) ) |
| [639](#L639) | $Settings['video\_player'] = 'mediaelement-video'; |
| [640](#L640) |  |
| [641](#L641) | switch( $Settings['video\_player'] ) |
| [642](#L642) | { |
| [643](#L643) | case 'videojs-html5-video-player-for-wordpress': { |
| [644](#L644) | $content .= powerpressplayer\_build\_videojs($media\_url, $EpisodeData); |
| [645](#L645) | }; break; |
| [646](#L646) | case 'html5video': { |
| [647](#L647) | // HTML5 Video as an embed |
| [648](#L648) | $content .= powerpressplayer\_build\_html5video($media\_url, $EpisodeData); |
| [649](#L649) | }; break; |
| [650](#L650) | case 'mediaelement-video': |
| [651](#L651) | default: { |
| [652](#L652) | $content .= powerpressplayer\_build\_mediaelementvideo($media\_url, $EpisodeData); |
| [653](#L653) | }; break; |
| [654](#L654) | } |
| [655](#L655) | }; break; |
| [656](#L656) | } |
| [657](#L657) |  |
| [658](#L658) | return $content; |
| [659](#L659) | } |
| [660](#L660) |  |
| [661](#L661) | function powerpressplayer\_player\_other($content, $media\_url, $EpisodeData = array() ) |
| [662](#L662) | { |
| [663](#L663) | // Very important setting, we need to know if the media should auto play or not... |
| [664](#L664) | $autoplay = false; // (default) |
| [665](#L665) | if( isset($EpisodeData['autoplay']) && $EpisodeData['autoplay'] ) |
| [666](#L666) | $autoplay = true; |
| [667](#L667) | $cover\_image = ''; |
| [668](#L668) | if( !empty($EpisodeData['image']) ) |
| [669](#L669) | $cover\_image = $EpisodeData['image']; |
| [670](#L670) |  |
| [671](#L671) | $extension = powerpressplayer\_get\_extension($media\_url); |
| [672](#L672) |  |
| [673](#L673) | switch( $extension ) |
| [674](#L674) | { |
| [675](#L675) | // Common formats, we already handle them separately |
| [676](#L676) | case 'mp3': |
| [677](#L677) | case 'mp4': |
| [678](#L678) | case 'm4v': |
| [679](#L679) | case 'webm'; |
| [680](#L680) | case 'ogg': |
| [681](#L681) | case 'ogv': |
| [682](#L682) | case 'oga': |
| [683](#L683) | case 'flv': |
| [684](#L684) | case 'm4a': { |
| [685](#L685) |  |
| [686](#L686) | return $content; |
| [687](#L687) | }; break; |
| [688](#L688) | case 'swf': // No more support for flash swf files |
| [689](#L689) | case 'avi': |
| [690](#L690) | case 'mpg': |
| [691](#L691) | case 'mpeg': |
| [692](#L692) | case 'm4b': |
| [693](#L693) | case 'm4r': |
| [694](#L694) | case 'qt': |
| [695](#L695) | case 'mov': |
| [696](#L696) | // Windows Media: |
| [697](#L697) | case 'wma': |
| [698](#L698) | case 'wmv': |
| [699](#L699) | case 'asf': { // No more quicktime on multiple platforms, lets display an image with a link and hope for the best |
| [700](#L700) |  |
| [701](#L701) | $content .= powerpressplayer\_build\_playimage($media\_url, $EpisodeData, true); |
| [702](#L702) |  |
| [703](#L703) | }; break; |
| [704](#L704) | case 'pdf': { |
| [705](#L705) | $content .= powerpressplayer\_build\_playimagepdf($media\_url, true); |
| [706](#L706) | }; break; |
| [707](#L707) | case 'epub': { |
| [708](#L708) | $content .= powerpressplayer\_build\_playimageepub($media\_url, true); |
| [709](#L709) | }; break; |
| [710](#L710) |  |
| [711](#L711) | // Default, just display the play image. |
| [712](#L712) | default: { |
| [713](#L713) |  |
| [714](#L714) | $content .= powerpressplayer\_build\_playimage($media\_url, $EpisodeData, true); |
| [715](#L715) |  |
| [716](#L716) | }; break; |
| [717](#L717) | } |
| [718](#L718) |  |
| [719](#L719) | return $content; |
| [720](#L720) | } |
| [721](#L721) |  |
| [722](#L722) | function powerpressplayer\_mediaobjects\_video($content, $media\_url, $EpisodeData = array()) |
| [723](#L723) | { |
| [724](#L724) | $extension = powerpressplayer\_get\_extension($media\_url); |
| [725](#L725) | switch( $extension ) |
| [726](#L726) | { |
| [727](#L727) | // OGG (audio or video) |
| [728](#L728) | case 'ogg': { |
| [729](#L729) | // Ogg special case, we treat as audio unless specified otherwise |
| [730](#L730) | if( !defined('POWERPRESS\_OGG\_VIDEO') || POWERPRESS\_OGG\_VIDEO == false ) |
| [731](#L731) | { |
| [732](#L732) | return $content; |
| [733](#L733) | } |
| [734](#L734) | } // let fall through and handle as video... |
| [735](#L735) | case 'mp4': |
| [736](#L736) | case 'm4v': |
| [737](#L737) | case 'webm': |
| [738](#L738) | case 'ogv': { |
| [739](#L739) | $VideoObject = true; |
| [740](#L740) | }; break; |
| [741](#L741) | default: return $content; |
| [742](#L742) | } |
| [743](#L743) |  |
| [744](#L744) | return powerpressplayer\_mediaobjects('video', $content, $media\_url, $EpisodeData); |
| [745](#L745) | } |
| [746](#L746) |  |
| [747](#L747) | function powerpressplayer\_mediaobjects\_audio($content, $media\_url, $EpisodeData = array()) |
| [748](#L748) | { |
| [749](#L749) | $extension = powerpressplayer\_get\_extension($media\_url); |
| [750](#L750) | switch( $extension ) |
| [751](#L751) | { |
| [752](#L752) | // OGG (audio or video) |
| [753](#L753) | case 'ogg': { |
| [754](#L754) | // Ogg special case, we treat as audio unless specified otherwise |
| [755](#L755) | if( defined('POWERPRESS\_OGG\_VIDEO') && POWERPRESS\_OGG\_VIDEO ) |
| [756](#L756) | { |
| [757](#L757) | return $content; |
| [758](#L758) | } |
| [759](#L759) | } // let fall through and handle as video... |
| [760](#L760) | case 'mp3': |
| [761](#L761) | case 'm4a': |
| [762](#L762) | case 'oga': { |
| [763](#L763) | $AudioObject = true; |
| [764](#L764) | }; break; |
| [765](#L765) | default: return $content; |
| [766](#L766) | } |
| [767](#L767) |  |
| [768](#L768) | return powerpressplayer\_mediaobjects('audio', $content, $media\_url, $EpisodeData); |
| [769](#L769) | } |
| [770](#L770) |  |
| [771](#L771) | function powerpressplayer\_mediaobjects($type, $content, $media\_url, $EpisodeData = array()) |
| [772](#L772) | { |
| [773](#L773) | $GLOBALS['g\_powerpress\_complete\_mediaobject'] = true; |
| [774](#L774) | $addhtml = ''; |
| [775](#L775) | $addhtml .= '<div itemscope itemtype="http://schema.org/'. ($type=='video'?'VideoObject':'AudioObject') .'">'.PHP\_EOL\_WEB; |
| [776](#L776) |  |
| [777](#L777) | if( !empty($EpisodeData['title']) ) |
| [778](#L778) | { |
| [779](#L779) | // We want to use the post title so ignore this for now |
| [780](#L780) | } |
| [781](#L781) |  |
| [782](#L782) | $media\_url = powerpress\_add\_flag\_to\_redirect\_url($media\_url, 's'); // Search tag |
| [783](#L783) |  |
| [784](#L784) | //var\_dump($EpisodeData); |
| [785](#L785) | $post\_title = get\_the\_title(); |
| [786](#L786) | if( !empty($post\_title) ) { |
| [787](#L787) | $addhtml .= '<meta itemprop="name" content="'.  htmlspecialchars($post\_title) .'" />'.PHP\_EOL\_WEB; |
| [788](#L788) | } |
| [789](#L789) |  |
| [790](#L790) | $addhtml .= '<meta itemprop="uploadDate" content="'. esc\_attr( get\_the\_date('c') ) .'" />'.PHP\_EOL\_WEB; |
| [791](#L791) | $addhtml .= '<meta itemprop="encodingFormat" content="'. powerpress\_get\_contenttype($media\_url) .'" />'.PHP\_EOL\_WEB; |
| [792](#L792) | if( !empty($EpisodeData['duration']) ) { |
| [793](#L793) | $addhtml .= '<meta itemprop="duration" content="'. powerpress\_iso8601\_duration($EpisodeData['duration']) .'" />'.PHP\_EOL\_WEB; // http://en.wikipedia.org/wiki/ISO\_8601#Durations |
| [794](#L794) | } |
| [795](#L795) |  |
| [796](#L796) | if( !empty($EpisodeData['subtitle']) ) { |
| [797](#L797) | $addhtml .= '<meta itemprop="description" content="'.  htmlspecialchars($EpisodeData['subtitle']) .'" />'.PHP\_EOL\_WEB; |
| [798](#L798) | } |
| [799](#L799) | else |
| [800](#L800) | {       // Get the current post object... |
| [801](#L801) | $post = get\_post( ); |
| [802](#L802) | if (!empty($post)) { |
| [803](#L803) | // Get a subtitle from the post content or excerpt... |
| [804](#L804) | $subtitle = strip\_tags($post->post\_excerpt); |
| [805](#L805) | if (empty($subtitle)) { |
| [806](#L806) | $subtitle = $post->post\_content; |
| [807](#L807) | $subtitle = strip\_shortcodes($subtitle); |
| [808](#L808) | $subtitle = str\_replace(']]>', ']]&gt;', $subtitle); |
| [809](#L809) | $subtitle = strip\_tags($subtitle); |
| [810](#L810) |  |
| [811](#L811) | $length = (function\_exists('mb\_strlen') ? mb\_strlen($subtitle) : strlen($subtitle)); |
| [812](#L812) | if ($length > 250) { |
| [813](#L813) | $subtitle = (function\_exists('mb\_substr') ? mb\_substr($subtitle, 0, 250) : substr($subtitle, 0, 250)) . '...'; |
| [814](#L814) | } |
| [815](#L815) | } |
| [816](#L816) |  |
| [817](#L817) | if (empty($subtitle)) |
| [818](#L818) | $subtitle = $post\_title; |
| [819](#L819) |  |
| [820](#L820) | $addhtml .= '<meta itemprop="description" content="' . htmlspecialchars($subtitle) . '" />' . PHP\_EOL\_WEB; |
| [821](#L821) | } |
| [822](#L822) | } |
| [823](#L823) | $addhtml .= '<meta itemprop="contentUrl" content="'. htmlspecialchars($media\_url) .'" />'.PHP\_EOL\_WEB; |
| [824](#L824) |  |
| [825](#L825) | // For thumbnail image, use the podcast artwork |
| [826](#L826) | if( !empty($EpisodeData['image']) ) |
| [827](#L827) | { |
| [828](#L828) | $addhtml .= '<meta itemprop="thumbnailURL" content="'.$EpisodeData['image'] .'" />'.PHP\_EOL\_WEB; |
| [829](#L829) | } |
| [830](#L830) |  |
| [831](#L831) | if( !empty($EpisodeData['size']) ) |
| [832](#L832) | { |
| [833](#L833) | $addhtml .= '<meta itemprop="contentSize" content="'. number\_format($EpisodeData['size'] / (1024 \* 1024), 1) .'" />'.PHP\_EOL\_WEB; |
| [834](#L834) | } |
| [835](#L835) |  |
| [836](#L836) | // <meta itemprop="videoQuality" content="HD"/> |
| [837](#L837) | if( !empty($EpisodeData['height']) && is\_numeric($EpisodeData['height']) ) |
| [838](#L838) | { |
| [839](#L839) | $addhtml .= '<meta itemprop="height" content="'.$EpisodeData['height'] .'" />'.PHP\_EOL\_WEB; |
| [840](#L840) | } |
| [841](#L841) |  |
| [842](#L842) | if( !empty($EpisodeData['width']) && is\_numeric($EpisodeData['width']) ) |
| [843](#L843) | { |
| [844](#L844) | $addhtml .= '<meta itemprop="width" content="'.$EpisodeData['width'] .'" />'.PHP\_EOL\_WEB; |
| [845](#L845) | } |
| [846](#L846) |  |
| [847](#L847) | return $content . $addhtml; |
| [848](#L848) | } |
| [849](#L849) |  |
| [850](#L850) | function powerpress\_iso8601\_duration($duration) |
| [851](#L851) | { |
| [852](#L852) | $seconds = 0; |
| [853](#L853) | $parts = explode(':', $duration); |
| [854](#L854) | if( count($parts) == 3 ) |
| [855](#L855) | $seconds = $parts[2] + ($parts[1]\*60) + ($parts[0]\*60\*60); |
| [856](#L856) | else if ( count($parts) == 2 ) |
| [857](#L857) | $seconds = $parts[1] + ($parts[0]\*60); |
| [858](#L858) | else |
| [859](#L859) | $seconds = $parts[0]; |
| [860](#L860) |  |
| [861](#L861) | $hours = 0; |
| [862](#L862) | $minutes = 0; |
| [863](#L863) | if( $seconds >= (60\*60) ) |
| [864](#L864) | { |
| [865](#L865) | $hours = floor( $seconds /(60\*60) ); |
| [866](#L866) | $seconds -= (60\*60\*$hours); |
| [867](#L867) | } |
| [868](#L868) | if( $seconds >= (60) ) |
| [869](#L869) | { |
| [870](#L870) | $minutes = floor( $seconds /(60) ); |
| [871](#L871) | $seconds -= (60\*$minutes); |
| [872](#L872) | } |
| [873](#L873) |  |
| [874](#L874) | if( $hours ) // X:XX:XX (readable) |
| [875](#L875) | return sprintf('PT%dH%02dM%02dS', $hours, $minutes, $seconds); |
| [876](#L876) |  |
| [877](#L877) | return sprintf('PT%dM%02dS', $minutes, $seconds); // X:XX or 0:XX (readable) |
| [878](#L878) | } |
| [879](#L879) |  |
| [880](#L880) | function powerpressplayer\_mediaobjects\_post($content, $media\_url, $EpisodeData = array()) |
| [881](#L881) | { |
| [882](#L882) | if( !empty($GLOBALS['g\_powerpress\_complete\_mediaobject']) ) |
| [883](#L883) | { |
| [884](#L884) | $content .= '</div>'; |
| [885](#L885) | unset($GLOBALS['g\_powerpress\_complete\_mediaobject']); |
| [886](#L886) | } |
| [887](#L887) | return $content; |
| [888](#L888) | } |
| [889](#L889) |  |
| [890](#L890) |  |
| [891](#L891) | add\_filter('powerpress\_player', 'powerpressplayer\_player\_audio', 10, 3); // Audio players (mp3) |
| [892](#L892) | add\_filter('powerpress\_player', 'powerpressplayer\_player\_video', 10, 3); // Video players (mp4/m4v, webm, ogv) |
| [893](#L893) | add\_filter('powerpress\_player', 'powerpressplayer\_player\_other', 10, 3); // Audio/Video flv, wmv, wma, oga, m4a and other non-standard media files |
| [894](#L894) |  |
| [895](#L895) |  |
| [896](#L896) | /\* |
| [897](#L897) | Filters for media links, appear below the selected player |
| [898](#L898) | \*/ |
| [899](#L899) | function powerpressplayer\_link\_download($content, $media\_url, $ExtraData = array() ) |
| [900](#L900) | { |
| [901](#L901) | $media\_url = esc\_url(powerpress\_add\_flag\_to\_redirect\_url($media\_url,'s')); |
| [902](#L902) | $GeneralSettings = get\_option('powerpress\_general'); |
| [903](#L903) | if( !isset($GeneralSettings['podcast\_link']) ) |
| [904](#L904) | $GeneralSettings['podcast\_link'] = 1; |
| [905](#L905) |  |
| [906](#L906) | $player\_links = ''; |
| [907](#L907) | if( $GeneralSettings['podcast\_link'] == 1 ) |
| [908](#L908) | { |
| [909](#L909) | $player\_links .= "<a href=\"{$media\_url}\" class=\"powerpress\_link\_d\" title=\"". POWERPRESS\_DOWNLOAD\_TEXT ."\" rel=\"nofollow\" download=\"". htmlspecialchars(basename($media\_url)) ."\">". POWERPRESS\_DOWNLOAD\_TEXT ."</a>".PHP\_EOL\_WEB; |
| [910](#L910) | } |
| [911](#L911) | else if( $GeneralSettings['podcast\_link'] == 2 ) |
| [912](#L912) | { |
| [913](#L913) | $player\_links .= "<a href=\"{$media\_url}\" class=\"powerpress\_link\_d\" title=\"". POWERPRESS\_DOWNLOAD\_TEXT ."\" rel=\"nofollow\" download=\"". htmlspecialchars(basename($media\_url)) ."\">". POWERPRESS\_DOWNLOAD\_TEXT ."</a> (".powerpress\_byte\_size($ExtraData['size']).") ".PHP\_EOL\_WEB; |
| [914](#L914) | } |
| [915](#L915) | else if( $GeneralSettings['podcast\_link'] == 3 ) |
| [916](#L916) | { |
| [917](#L917) | if( !empty($ExtraData['duration']) && ltrim($ExtraData['duration'], '0:') != '' ) |
| [918](#L918) | $player\_links .= "<a href=\"{$media\_url}\" class=\"powerpress\_link\_d\" title=\"". POWERPRESS\_DOWNLOAD\_TEXT ."\" rel=\"nofollow\" download=\"". htmlspecialchars(basename($media\_url)) ."\">". POWERPRESS\_DOWNLOAD\_TEXT ."</a> (". htmlspecialchars(POWERPRESS\_DURATION\_TEXT) .": " . powerpress\_readable\_duration($ExtraData['duration']) ." &#8212; ".powerpress\_byte\_size($ExtraData['size']).")".PHP\_EOL\_WEB; |
| [919](#L919) | else |
| [920](#L920) | $player\_links .= "<a href=\"{$media\_url}\" class=\"powerpress\_link\_d\" title=\"". POWERPRESS\_DOWNLOAD\_TEXT ."\" rel=\"nofollow\" download=\"". htmlspecialchars(basename($media\_url)) ."\">". POWERPRESS\_DOWNLOAD\_TEXT ."</a> (".powerpress\_byte\_size($ExtraData['size']).")".PHP\_EOL\_WEB; |
| [921](#L921) | } |
| [922](#L922) |  |
| [923](#L923) | if( $player\_links && !empty($content) ) |
| [924](#L924) | $content .= ' '.POWERPRESS\_LINK\_SEPARATOR .' '; |
| [925](#L925) |  |
| [926](#L926) | return $content . $player\_links; |
| [927](#L927) | } |
| [928](#L928) |  |
| [929](#L929) | function powerpressplayer\_link\_pinw($content, $media\_url, $ExtraData = array() ) |
| [930](#L930) | { |
| [931](#L931) | $GeneralSettings = get\_option('powerpress\_general'); |
| [932](#L932) | if( !isset($GeneralSettings['player\_function']) ) |
| [933](#L933) | $GeneralSettings['player\_function'] = 1; |
| [934](#L934) | $is\_pdf = (strtolower( substr($media\_url, -3) ) == 'pdf' ); |
| [935](#L935) |  |
| [936](#L936) | $player\_links = ''; |
| [937](#L937) | $media\_url = htmlspecialchars($media\_url); |
| [938](#L938) | switch( $GeneralSettings['player\_function'] ) |
| [939](#L939) | { |
| [940](#L940) | case 1: // Play on page and new window |
| [941](#L941) | case 3: // Play in new window only |
| [942](#L942) | case 5: { // Play in page and new window |
| [943](#L943) | if( $is\_pdf ) |
| [944](#L944) | $player\_links .= "<a href=\"{$media\_url}\" class=\"powerpress\_link\_pinw\" target=\"\_blank\" title=\"". \_\_('Open in New Window', 'powerpress') ."\" rel=\"nofollow\">". \_\_('Open in New Window', 'powerpress') ."</a>".PHP\_EOL\_WEB; |
| [945](#L945) | else if( !empty($ExtraData['id']) && !empty($ExtraData['feed']) ) { |
| [946](#L946) | $pinw\_url = get\_bloginfo('url') ."/?powerpress\_pinw={$ExtraData['id']}-{$ExtraData['feed']}"; |
| [947](#L947) | $player\_links .= "<a href=\"{$media\_url}\" class=\"powerpress\_link\_pinw\" target=\"\_blank\" title=\"". POWERPRESS\_PLAY\_IN\_NEW\_WINDOW\_TEXT ."\" onclick=\"return powerpress\_pinw('". esc\_js($pinw\_url) ."');\" rel=\"nofollow\">". POWERPRESS\_PLAY\_IN\_NEW\_WINDOW\_TEXT ."</a>".PHP\_EOL\_WEB; |
| [948](#L948) | } |
| [949](#L949) | else |
| [950](#L950) | $player\_links .= "<a href=\"{$media\_url}\" class=\"powerpress\_link\_pinw\" target=\"\_blank\" title=\"". POWERPRESS\_PLAY\_IN\_NEW\_WINDOW\_TEXT ."\" rel=\"nofollow\">". POWERPRESS\_PLAY\_IN\_NEW\_WINDOW\_TEXT ."</a>".PHP\_EOL\_WEB; |
| [951](#L951) | }; break; |
| [952](#L952) | }//end switch |
| [953](#L953) |  |
| [954](#L954) | if( $player\_links && !empty($content) ) |
| [955](#L955) | $content .= ' '.POWERPRESS\_LINK\_SEPARATOR .' '; |
| [956](#L956) |  |
| [957](#L957) | return $content . $player\_links; |
| [958](#L958) | } |
| [959](#L959) |  |
| [960](#L960) | function powerpressplayer\_embedable($media\_url, $ExtraData = array()) |
| [961](#L961) | { |
| [962](#L962) | if( empty($ExtraData['id']) || empty($ExtraData['feed']) ) |
| [963](#L963) | return false; |
| [964](#L964) |  |
| [965](#L965) | $extension = powerpressplayer\_get\_extension($media\_url); |
| [966](#L966) | $player = false; |
| [967](#L967) | if( preg\_match('/(mp3|m4a|oga|mp4|m4v|webm|ogg|ogv)/i', $extension ) ) |
| [968](#L968) | { |
| [969](#L969) | $GeneralSettings = get\_option('powerpress\_general'); |
| [970](#L970) | if( empty($GeneralSettings['podcast\_embed']) ) |
| [971](#L971) | return false; |
| [972](#L972) | if( empty($GeneralSettings['player']) || $GeneralSettings['player'] == 'flow-player-classic' ) |
| [973](#L973) | $GeneralSettings['player'] = 'mediaelement-audio'; |
| [974](#L974) |  |
| [975](#L975) |  |
| [976](#L976) | if( empty($GeneralSettings['video\_player']) || $GeneralSettings['video\_player'] == 'flow-player-classic' ) |
| [977](#L977) | $GeneralSettings['video\_player'] = 'mediaelement-video'; |
| [978](#L978) |  |
| [979](#L979) | switch( $extension ) |
| [980](#L980) | { |
| [981](#L981) | case 'mp3': |
| [982](#L982) | case 'oga': |
| [983](#L983) | case 'm4a': { |
| [984](#L984) | if( in\_array( $GeneralSettings['player'], array('mediaelement-audio', 'default', 'blubrryaudio', 'blubrrymodern') ) ) |
| [985](#L985) | $player = $GeneralSettings['player']; |
| [986](#L986) | }; break; |
| [987](#L987) | case 'mp4': |
| [988](#L988) | case 'm4v': |
| [989](#L989) | case 'webm': |
| [990](#L990) | case 'ogg': |
| [991](#L991) | case 'ogv': { |
| [992](#L992) | if( in\_array( $GeneralSettings['video\_player'], array('mediaelement-video', 'html5video') ) ) |
| [993](#L993) | $player = $GeneralSettings['video\_player']; |
| [994](#L994) | }; break; |
| [995](#L995) | } |
| [996](#L996) | } |
| [997](#L997) |  |
| [998](#L998) | return $player; |
| [999](#L999) | } |
| [1000](#L1000) |  |
| [1001](#L1001) | function powerpressplayer\_link\_embed($content, $media\_url, $ExtraData = array() ) |
| [1002](#L1002) | { |
| [1003](#L1003) | $player\_links = ''; |
| [1004](#L1004) |  |
| [1005](#L1005) | $player = powerpressplayer\_embedable($media\_url, $ExtraData); |
| [1006](#L1006) | if( $player ) |
| [1007](#L1007) | { |
| [1008](#L1008) | $player\_links .= "<a href=\"#\" class=\"powerpress\_link\_e\" title=\"". htmlspecialchars(POWERPRESS\_EMBED\_TEXT) ."\" onclick=\"return powerpress\_show\_embed('{$ExtraData['id']}-{$ExtraData['feed']}');\" rel=\"nofollow\">". htmlspecialchars(POWERPRESS\_EMBED\_TEXT) ."</a>"; |
| [1009](#L1009) | } |
| [1010](#L1010) |  |
| [1011](#L1011) | if( $player\_links && !empty($content) ) |
| [1012](#L1012) | $content .= ' '.POWERPRESS\_LINK\_SEPARATOR .' '; |
| [1013](#L1013) | return $content . $player\_links; |
| [1014](#L1014) | } |
| [1015](#L1015) |  |
| [1016](#L1016) | function powerpressplayer\_link\_title($content, $media\_url, $ExtraData = array() ) |
| [1017](#L1017) | { |
| [1018](#L1018) | if( $content ) |
| [1019](#L1019) | { |
| [1020](#L1020) | $extension = 'unknown'; |
| [1021](#L1021) | $parts = pathinfo($media\_url); |
| [1022](#L1022) | if( $parts && isset($parts['extension']) ) |
| [1023](#L1023) | $extension  = strtolower($parts['extension']); |
| [1024](#L1024) |  |
| [1025](#L1025) | $prefix = ''; |
| [1026](#L1026) | if( $extension == 'pdf' ) |
| [1027](#L1027) | $prefix .= \_\_('E-Book PDF', 'powerpress') . ( $ExtraData['feed']=='pdf'||$ExtraData['feed']=='podcast'?'':" ({$ExtraData['feed']})") .POWERPRESS\_TEXT\_SEPARATOR; |
| [1028](#L1028) | else if( $ExtraData['feed'] != 'podcast' ) |
| [1029](#L1029) | $prefix .= htmlspecialchars(POWERPRESS\_LINKS\_TEXT) .' ('. htmlspecialchars($ExtraData['feed']) .')'. POWERPRESS\_TEXT\_SEPARATOR; |
| [1030](#L1030) | else |
| [1031](#L1031) | $prefix .= htmlspecialchars(POWERPRESS\_LINKS\_TEXT) . POWERPRESS\_TEXT\_SEPARATOR; |
| [1032](#L1032) | if( !empty($prefix) ) |
| [1033](#L1033) | $prefix .= ' '; |
| [1034](#L1034) |  |
| [1035](#L1035) | $return = '<p class="powerpress\_links powerpress\_links\_'. $extension .'" style="margin-bottom: 1px !important;">'. $prefix . $content . '</p>'; |
| [1036](#L1036) | $player = powerpressplayer\_embedable($media\_url, $ExtraData); |
| [1037](#L1037) | if( $player ) |
| [1038](#L1038) | { |
| [1039](#L1039) | if( !empty($ExtraData['embed']) ) |
| [1040](#L1040) | $iframe\_src = $ExtraData['embed']; |
| [1041](#L1041) | else |
| [1042](#L1042) | $iframe\_src = powerpress\_generate\_embed($player, $ExtraData); |
| [1043](#L1043) | $return .= '<p class="powerpress\_embed\_box" id="powerpress\_embed\_'. "{$ExtraData['id']}-{$ExtraData['feed']}" .'" style="display: none;">'; |
| [1044](#L1044) | $return .= '<input id="powerpress\_embed\_'. "{$ExtraData['id']}-{$ExtraData['feed']}" .'\_t" type="text" value="'. htmlspecialchars(str\_replace("&amp;", "&", $iframe\_src)) .'" onclick="javascript: this.select();" onfocus="javascript: this.select();" style="width: 70%;" readOnly>'; |
| [1045](#L1045) | $return .= '</p>'; |
| [1046](#L1046) | } |
| [1047](#L1047) | return $return; |
| [1048](#L1048) | } |
| [1049](#L1049) | return ''; |
| [1050](#L1050) | } |
| [1051](#L1051) |  |
| [1052](#L1052) | add\_filter('powerpress\_player\_links', 'powerpressplayer\_link\_pinw', 30, 3); |
| [1053](#L1053) | add\_filter('powerpress\_player\_links', 'powerpressplayer\_link\_download', 50, 3); |
| [1054](#L1054) | add\_filter('powerpress\_player\_links', 'powerpressplayer\_link\_embed', 50, 3); |
| [1055](#L1055) | add\_filter('powerpress\_player\_links', 'powerpressplayer\_link\_title', 1000, 3); |
| [1056](#L1056) |  |
| [1057](#L1057) | /\* |
| [1058](#L1058) | Do Play in new Window |
| [1059](#L1059) | \*/ |
| [1060](#L1060) | function powerpress\_do\_pinw($pinw, $process\_podpress) |
| [1061](#L1061) | { |
| [1062](#L1062) | if( !WP\_DEBUG && defined('POWERPRESS\_FIX\_WARNINGS') ) |
| [1063](#L1063) | { |
| [1064](#L1064) | @error\_reporting( E\_ALL | E\_CORE\_ERROR | E\_COMPILE\_ERROR  | E\_PARSE ); |
| [1065](#L1065) | } |
| [1066](#L1066) |  |
| [1067](#L1067) | list($post\_id, $feed\_slug) = explode('-', $pinw, 2); |
| [1068](#L1068) | $EpisodeData = powerpress\_get\_enclosure\_data($post\_id, $feed\_slug); |
| [1069](#L1069) |  |
| [1070](#L1070) | if( $EpisodeData == false && $process\_podpress && $feed\_slug == 'podcast' ) |
| [1071](#L1071) | { |
| [1072](#L1072) | $EpisodeData = powerpress\_get\_enclosure\_data\_podpress($post\_id); |
| [1073](#L1073) | } |
| [1074](#L1074) |  |
| [1075](#L1075) | $GeneralSettings = get\_option('powerpress\_general'); |
| [1076](#L1076) |  |
| [1077](#L1077) | echo '<!DOCTYPE html>'; // HTML5! |
| [1078](#L1078) | ?> |
| [1079](#L1079) | <html xmlns="http://www.w3.org/1999/xhtml"> |
| [1080](#L1080) | <head> |
| [1081](#L1081) | <meta http-equiv="Content-Type" content="<?php bloginfo('html\_type'); ?>; charset=<?php bloginfo('charset'); ?>" /> |
| [1082](#L1082) | <title><?php echo \_\_('Blubrry PowerPress Player', 'powerpress'); ?></title> |
| [1083](#L1083) | <meta name="robots" content="noindex" /> |
| [1084](#L1084) | <?php |
| [1085](#L1085) | do\_action('wp\_powerpress\_player\_scripts'); |
| [1086](#L1086) | ?> |
| [1087](#L1087) | <style type="text/css"> |
| [1088](#L1088) | body { font-size: 13px; font-family: Arial, Helvetica, sans-serif; /\* width: 100%; min-height: 100%; } html { height: 100%; \*/ } |
| [1089](#L1089) | </style> |
| [1090](#L1090) | </head> |
| [1091](#L1091) | <body> |
| [1092](#L1092) | <div style="margin: 5px;"> |
| [1093](#L1093) | <?php |
| [1094](#L1094) |  |
| [1095](#L1095) | if( !$EpisodeData ) |
| [1096](#L1096) | { |
| [1097](#L1097) | echo '<p>'.  \_\_('Unable to retrieve media information.', 'powerpress') .'</p>'; |
| [1098](#L1098) | } |
| [1099](#L1099) | else if( !empty($GeneralSettings['premium\_caps']) && !powerpress\_premium\_content\_authorized($feed\_slug) ) |
| [1100](#L1100) | { |
| [1101](#L1101) | echo powerpress\_premium\_content\_message($post\_id, $feed\_slug, $EpisodeData); |
| [1102](#L1102) | } |
| [1103](#L1103) | else if( !empty($EpisodeData['embed']) ) |
| [1104](#L1104) | { |
| [1105](#L1105) | echo $EpisodeData['embed']; |
| [1106](#L1106) | } |
| [1107](#L1107) | else //  if( !isset($EpisodeData['no\_player']) ) // Even if there is no player set, if the play in new window option is enabled then it should play here... |
| [1108](#L1108) | { |
| [1109](#L1109) | echo apply\_filters('powerpress\_player', '', powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['url'], 'p'), array('feed'=>$feed\_slug, 'autoplay'=>true, 'type'=>$EpisodeData['type']) ); |
| [1110](#L1110) | } |
| [1111](#L1111) |  |
| [1112](#L1112) | wp\_print\_styles(); |
| [1113](#L1113) | wp\_print\_scripts(); |
| [1114](#L1114) | ?> |
| [1115](#L1115) | </div> |
| [1116](#L1116) | </body> |
| [1117](#L1117) | </html> |
| [1118](#L1118) | <?php |
| [1119](#L1119) | exit; |
| [1120](#L1120) | } |
| [1121](#L1121) |  |
| [1122](#L1122) | /\* |
| [1123](#L1123) | Do embed |
| [1124](#L1124) | \*/ |
| [1125](#L1125) | function powerpress\_do\_embed($player, $embed, $process\_podpress) |
| [1126](#L1126) | { |
| [1127](#L1127) | list($post\_id, $feed\_slug) = explode('-', $embed, 2); |
| [1128](#L1128) | $EpisodeData = powerpress\_get\_enclosure\_data($post\_id, $feed\_slug); |
| [1129](#L1129) |  |
| [1130](#L1130) | if( $EpisodeData == false && $process\_podpress && $feed\_slug == 'podcast' ) |
| [1131](#L1131) | { |
| [1132](#L1132) | $EpisodeData = powerpress\_get\_enclosure\_data\_podpress($post\_id); |
| [1133](#L1133) | } |
| [1134](#L1134) |  |
| [1135](#L1135) | // Embeds are only available for the following players |
| [1136](#L1136) | do\_powerpressplayer\_embed($player, htmlspecialchars($EpisodeData['url']), $EpisodeData); |
| [1137](#L1137) | exit; |
| [1138](#L1138) | } |
| [1139](#L1139) |  |
| [1140](#L1140) | /\* |
| [1141](#L1141) | HTTML 5 Video Player |
| [1142](#L1142) | \*/ |
| [1143](#L1143) | function powerpressplayer\_build\_html5video($media\_url, $EpisodeData=array(), $embed = false ) |
| [1144](#L1144) | { |
| [1145](#L1145) | $player\_id = powerpressplayer\_get\_next\_id(); |
| [1146](#L1146) | $cover\_image = ''; |
| [1147](#L1147) | $player\_width = 400; |
| [1148](#L1148) | $player\_height = 225; |
| [1149](#L1149) | $autoplay = false; |
| [1150](#L1150) | // Global Settings |
| [1151](#L1151) | $Settings = get\_option('powerpress\_general'); |
| [1152](#L1152) | if( !empty($Settings['player\_width']) ) |
| [1153](#L1153) | $player\_width = $Settings['player\_width']; |
| [1154](#L1154) | if( !empty($Settings['player\_height']) ) |
| [1155](#L1155) | $player\_height = $Settings['player\_height']; |
| [1156](#L1156) | if( !empty($Settings['poster\_image']) ) |
| [1157](#L1157) | $cover\_image = $Settings['poster\_image']; |
| [1158](#L1158) | // Episode Settings |
| [1159](#L1159) | if( !empty($EpisodeData['image']) ) |
| [1160](#L1160) | $cover\_image = $EpisodeData['image']; |
| [1161](#L1161) | if( !empty($EpisodeData['width']) ) |
| [1162](#L1162) | $player\_width = $EpisodeData['width']; |
| [1163](#L1163) | if( !empty($EpisodeData['height']) ) |
| [1164](#L1164) | $player\_height = $EpisodeData['height']; |
| [1165](#L1165) | if( !empty($EpisodeData['autoplay']) ) |
| [1166](#L1166) | $autoplay = true; |
| [1167](#L1167) |  |
| [1168](#L1168) | $content = ''; |
| [1169](#L1169) | if( $embed ) |
| [1170](#L1170) | { |
| [1171](#L1171) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. $player\_id .'">'.PHP\_EOL\_WEB; |
| [1172](#L1172) | $content .= '<video width="'. htmlspecialchars($player\_width) .'" height="'. htmlspecialchars($player\_height) .'" controls="controls"'; |
| [1173](#L1173) | if( $cover\_image ) |
| [1174](#L1174) | $content .= ' poster="'. htmlspecialchars($cover\_image) .'"'; |
| [1175](#L1175) | if( $autoplay ) |
| [1176](#L1176) | $content .= ' autoplay="autoplay"'; |
| [1177](#L1177) | else |
| [1178](#L1178) | $content .= ' preload="none"'; |
| [1179](#L1179) |  |
| [1180](#L1180) | $content .= '>'.PHP\_EOL\_WEB; |
| [1181](#L1181) | $content\_type = powerpress\_get\_contenttype($media\_url); |
| [1182](#L1182) | $content .='<source src="'. htmlspecialchars($media\_url) .'" type="'. $content\_type .'" />'; |
| [1183](#L1183) |  |
| [1184](#L1184) | if( !empty($EpisodeData['webm\_src']) ) |
| [1185](#L1185) | { |
| [1186](#L1186) | $EpisodeData['webm\_src'] = powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['webm\_src'], 'p'); |
| [1187](#L1187) | $content .='<source src="'. htmlspecialchars($EpisodeData['webm\_src']) .'" type="video/webm" />'; |
| [1188](#L1188) | } |
| [1189](#L1189) |  |
| [1190](#L1190) | $content .= powerpressplayer\_build\_playimage($media\_url, $EpisodeData); |
| [1191](#L1191) | $content .= '</video>'.PHP\_EOL\_WEB; |
| [1192](#L1192) | $content .= '</div>'.PHP\_EOL\_WEB; |
| [1193](#L1193) | } |
| [1194](#L1194) | else |
| [1195](#L1195) | { |
| [1196](#L1196) |  |
| [1197](#L1197) | if( !$cover\_image ) |
| [1198](#L1198) | $cover\_image = powerpress\_get\_root\_url() . 'black.png'; |
| [1199](#L1199) | $webm\_src = ''; |
| [1200](#L1200) | if( !empty($EpisodeData['webm\_src']) ) |
| [1201](#L1201) | $webm\_src = powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['webm\_src'], 'p'); |
| [1202](#L1202) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. $player\_id .'">'; |
| [1203](#L1203) | $content .= '<a href="'. htmlspecialchars($media\_url) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" onclick="return powerpress\_embed\_html5v(\''.$player\_id.'\',\''.htmlspecialchars($media\_url).'\',\''. htmlspecialchars($player\_width) .'\',\''. htmlspecialchars($player\_height) .'\', \''. htmlspecialchars($webm\_src) .'\');" target="\_blank" style="position: relative;">'; |
| [1204](#L1204) | if( !empty($EpisodeData['custom\_play\_button']) ) // This currently does not apply |
| [1205](#L1205) | { |
| [1206](#L1206) | $cover\_image = $EpisodeData['custom\_play\_button']; |
| [1207](#L1207) | $Settings['poster\_play\_image'] = false; |
| [1208](#L1208) | $content .= '<img class="powerpress-player-poster" src="'. htmlspecialchars($cover\_image) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" alt="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" />'; |
| [1209](#L1209) | } |
| [1210](#L1210) | else |
| [1211](#L1211) | { |
| [1212](#L1212) | $content .= '<img class="powerpress-player-poster" src="'. htmlspecialchars($cover\_image) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" alt="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" style="width: '. htmlspecialchars($player\_width) .'px; height: '. htmlspecialchars($player\_height) .'px;" />'; |
| [1213](#L1213) | } |
| [1214](#L1214) |  |
| [1215](#L1215) | if(!isset($Settings['poster\_play\_image']) || $Settings['poster\_play\_image'] ) |
| [1216](#L1216) | { |
| [1217](#L1217) | $play\_image\_button\_url = powerpress\_get\_root\_url() .'play\_video.png'; |
| [1218](#L1218) | if( !empty($Settings['video\_custom\_play\_button']) ) |
| [1219](#L1219) | $play\_image\_button\_url = $Settings['video\_custom\_play\_button']; |
| [1220](#L1220) |  |
| [1221](#L1221) | $bottom = floor(($player\_height/2)-30); |
| [1222](#L1222) | if( $bottom < 0 ) |
| [1223](#L1223) | $bottom = 0; |
| [1224](#L1224) | $left = floor(($player\_width/2)-30); |
| [1225](#L1225) | if( $left < 0 ) |
| [1226](#L1226) | $left = 0; |
| [1227](#L1227) | $content .= '<img class="powerpress-player-play-image" src="'. htmlspecialchars($play\_image\_button\_url) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" alt="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" style="position: absolute; bottom: '. $bottom .'px; left: '. $left .'px; border:0;" />'; |
| [1228](#L1228) | } |
| [1229](#L1229) | $content .= '</a>'; |
| [1230](#L1230) | $content .= "</div>\n"; |
| [1231](#L1231) |  |
| [1232](#L1232) | if( $autoplay ) |
| [1233](#L1233) | { |
| [1234](#L1234) | $content .= '<script type="text/javascript"><!--'.PHP\_EOL; |
| [1235](#L1235) | $content .= "powerpress\_embed\_html5v('{$player\_id}','" . htmlspecialchars($media\_url) . "'," . htmlspecialchars($player\_width) . "," . htmlspecialchars($player\_height) . ",'" . htmlspecialchars($webm\_src) . "');\n"; |
| [1236](#L1236) | $content .= "//-->\n"; |
| [1237](#L1237) | $content .= "</script>\n"; |
| [1238](#L1238) | } |
| [1239](#L1239) | } |
| [1240](#L1240) | return $content; |
| [1241](#L1241) | } |
| [1242](#L1242) |  |
| [1243](#L1243) | /\* |
| [1244](#L1244) | MediaElement.js Video Player |
| [1245](#L1245) | \*/ |
| [1246](#L1246) | function powerpressplayer\_build\_mediaelementvideo($media\_url, $EpisodeData=array(), $embed = false ) |
| [1247](#L1247) | { |
| [1248](#L1248) | if( !function\_exists('wp\_video\_shortcode') ) |
| [1249](#L1249) | { |
| [1250](#L1250) | // Return the HTML5 video shortcode instead |
| [1251](#L1251) | return powerpressplayer\_build\_html5video($media\_url, $EpisodeData, $embed); |
| [1252](#L1252) | } |
| [1253](#L1253) |  |
| [1254](#L1254) | $player\_id = powerpressplayer\_get\_next\_id(); |
| [1255](#L1255) | $cover\_image = ''; |
| [1256](#L1256) | $player\_width = ''; |
| [1257](#L1257) | $player\_height = ''; |
| [1258](#L1258) | $autoplay = false; |
| [1259](#L1259) | // Global Settings |
| [1260](#L1260) | $Settings = get\_option('powerpress\_general'); |
| [1261](#L1261) | if( !empty($Settings['player\_width']) ) |
| [1262](#L1262) | $player\_width = $Settings['player\_width']; |
| [1263](#L1263) | if( !empty($Settings['player\_height']) ) |
| [1264](#L1264) | $player\_height = $Settings['player\_height']; |
| [1265](#L1265) | if( !empty($Settings['poster\_image']) ) |
| [1266](#L1266) | $cover\_image = $Settings['poster\_image']; |
| [1267](#L1267) | // Episode Settings |
| [1268](#L1268) | if( !empty($EpisodeData['image']) ) |
| [1269](#L1269) | $cover\_image = $EpisodeData['image']; |
| [1270](#L1270) | if( !empty($EpisodeData['width']) ) |
| [1271](#L1271) | $player\_width = $EpisodeData['width']; |
| [1272](#L1272) | if( !empty($EpisodeData['height']) ) |
| [1273](#L1273) | $player\_height = $EpisodeData['height']; |
| [1274](#L1274) | if( !empty($EpisodeData['autoplay']) ) |
| [1275](#L1275) | $autoplay = true; |
| [1276](#L1276) |  |
| [1277](#L1277) | if( $embed ) |
| [1278](#L1278) | { |
| [1279](#L1279) | $player\_height = '123'; |
| [1280](#L1280) | $player\_width = '456'; |
| [1281](#L1281) | } |
| [1282](#L1282) |  |
| [1283](#L1283) |  |
| [1284](#L1284) | $content = ''; |
| [1285](#L1285) |  |
| [1286](#L1286) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. $player\_id .'">'.PHP\_EOL\_WEB; |
| [1287](#L1287) | $attr = array('src'=>htmlspecialchars($media\_url), 'poster'=>'', 'loop'=>'', 'autoplay'=>'', 'preload'=>'none'); // , 'width'=>'', 'height'=>''); |
| [1288](#L1288) | if( !empty($player\_width) ) |
| [1289](#L1289) | $attr['width'] = $player\_width; |
| [1290](#L1290) | if( !empty($player\_height) ) |
| [1291](#L1291) | $attr['height'] = $player\_height; |
| [1292](#L1292) | if( !empty($cover\_image) ) |
| [1293](#L1293) | $attr['poster'] = htmlspecialchars($cover\_image); |
| [1294](#L1294) | if( !empty($autoplay) ) |
| [1295](#L1295) | $attr['autoplay'] = 'on'; |
| [1296](#L1296) | if( !empty($EpisodeData['webm\_src']) ) |
| [1297](#L1297) | $attr['webm'] = powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['webm\_src'], 'p'); |
| [1298](#L1298) |  |
| [1299](#L1299) | // Double check that WordPress is providing the shortcode... |
| [1300](#L1300) | global $shortcode\_tags; |
| [1301](#L1301) | if( !defined('POWERPRESS\_DO\_SHORTCODE') ) { |
| [1302](#L1302) | $shortcode = wp\_video\_shortcode( $attr ); |
| [1303](#L1303) | } else { |
| [1304](#L1304) | $shortcode\_value = '[video '; |
| [1305](#L1305) | foreach( $attr as $tag\_name => $tag\_value ) { |
| [1306](#L1306) | $shortcode\_value .= ' '.esc\_attr($tag\_name).'="'. esc\_attr($tag\_value) .'"'; |
| [1307](#L1307) | } |
| [1308](#L1308) | $shortcode\_value .= ']'; |
| [1309](#L1309) | $shortcode .= do\_shortcode($shortcode\_value); |
| [1310](#L1310) | } |
| [1311](#L1311) |  |
| [1312](#L1312) |  |
| [1313](#L1313) | if( $embed ) |
| [1314](#L1314) | { |
| [1315](#L1315) | $shortcode = str\_replace( array('"123"', '"456"', '456px;'), array('"100%"', '"100%"', '100%;'), $shortcode); |
| [1316](#L1316) | } |
| [1317](#L1317) | $content .= $shortcode; |
| [1318](#L1318) | $content .= '</div>'.PHP\_EOL\_WEB; |
| [1319](#L1319) | return $content; |
| [1320](#L1320) | } |
| [1321](#L1321) |  |
| [1322](#L1322) | /\* |
| [1323](#L1323) | HTTML 5 Audio Player |
| [1324](#L1324) | \*/ |
| [1325](#L1325) | function powerpressplayer\_build\_html5audio($media\_url, $EpisodeData=array(), $embed = false ) |
| [1326](#L1326) | { |
| [1327](#L1327) | $player\_id = powerpressplayer\_get\_next\_id(); |
| [1328](#L1328) | $autoplay = false; |
| [1329](#L1329) | // Episode Settings |
| [1330](#L1330) | if( !empty($EpisodeData['autoplay']) ) |
| [1331](#L1331) | $autoplay = true; |
| [1332](#L1332) | $content = ''; |
| [1333](#L1333) | if( $embed ) |
| [1334](#L1334) | { |
| [1335](#L1335) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. $player\_id .'">'.PHP\_EOL\_WEB; |
| [1336](#L1336) | $content .= '<audio controls="controls"'; |
| [1337](#L1337) | $content .=' src="'. htmlspecialchars($media\_url) .'"'; |
| [1338](#L1338) | if( $autoplay ) |
| [1339](#L1339) | $content .= ' autoplay="autoplay"'; |
| [1340](#L1340) | else |
| [1341](#L1341) | $content .= ' preload="none"'; |
| [1342](#L1342) | $content .= '>'.PHP\_EOL\_WEB; |
| [1343](#L1343) |  |
| [1344](#L1344) | $content .= powerpressplayer\_build\_playimageaudio($media\_url); |
| [1345](#L1345) | $content .= '</audio>'.PHP\_EOL\_WEB; |
| [1346](#L1346) | $content .= '</div>'.PHP\_EOL\_WEB; |
| [1347](#L1347) | } |
| [1348](#L1348) | else |
| [1349](#L1349) | { |
| [1350](#L1350) | $GeneralSettings = get\_option('powerpress\_general'); |
| [1351](#L1351) | $cover\_image = powerpress\_get\_root\_url() . 'play\_audio.png'; |
| [1352](#L1352) | $cover\_image\_default = $cover\_image; |
| [1353](#L1353) | if( !empty($EpisodeData['custom\_play\_button']) ) |
| [1354](#L1354) | { |
| [1355](#L1355) | $cover\_image = $EpisodeData['custom\_play\_button']; |
| [1356](#L1356) | } |
| [1357](#L1357) | else if( !empty($GeneralSettings['audio\_custom\_play\_button']) ) |
| [1358](#L1358) | { |
| [1359](#L1359) | $cover\_image = $GeneralSettings['audio\_custom\_play\_button']; |
| [1360](#L1360) | } |
| [1361](#L1361) |  |
| [1362](#L1362) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. $player\_id .'">'; |
| [1363](#L1363) | $content .= '<a href="'. htmlspecialchars($media\_url) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" onclick="return powerpress\_embed\_html5a(\''.$player\_id.'\',\''.htmlspecialchars($media\_url).'\');" target="\_blank">'; |
| [1364](#L1364) | if( $cover\_image\_default == $cover\_image ) |
| [1365](#L1365) | $content .= '<img src="'. htmlspecialchars($cover\_image) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" alt="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" style="border:0;" width="23px" height="24px" />'; |
| [1366](#L1366) | else |
| [1367](#L1367) | $content .= '<img src="'. htmlspecialchars($cover\_image) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" alt="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" style="border:0;" />'; |
| [1368](#L1368) | $content .= '</a>'; |
| [1369](#L1369) | $content .= "</div>\n"; |
| [1370](#L1370) |  |
| [1371](#L1371) | if( $autoplay ) |
| [1372](#L1372) | { |
| [1373](#L1373) | $content .= '<script type="text/javascript"><!--'.PHP\_EOL; |
| [1374](#L1374) | $content .= "powerpress\_embed\_html5a('{$player\_id}','" . htmlspecialchars($media\_url) . "');\n"; |
| [1375](#L1375) | $content .= "//-->\n"; |
| [1376](#L1376) | $content .= "</script>\n"; |
| [1377](#L1377) | } |
| [1378](#L1378) | } |
| [1379](#L1379) |  |
| [1380](#L1380) | return $content; |
| [1381](#L1381) | } |
| [1382](#L1382) |  |
| [1383](#L1383) |  |
| [1384](#L1384) | /\* |
| [1385](#L1385) | \*/ |
| [1386](#L1386) | function powerpressplayer\_build\_blubrryaudio($media\_url, $EpisodeData=array(), $embed = false ) |
| [1387](#L1387) | { |
| [1388](#L1388) | static $instance = 0; |
| [1389](#L1389) | $instance++; |
| [1390](#L1390) |  |
| [1391](#L1391) | // media URL is all we need., as long as it's hosted at blubrry.com... |
| [1392](#L1392) | if( preg\_match('/(content|protected|ins|mc)\.blubrry\.com/', $media\_url) ) |
| [1393](#L1393) | { |
| [1394](#L1394) | $GeneralSettings = get\_option('powerpress\_general'); |
| [1395](#L1395) | $playerSettings = get\_option('powerpress\_bplayer'); |
| [1396](#L1396) | $hash = ''; |
| [1397](#L1397) | if(!empty($playerSettings)){ |
| [1398](#L1398) | if(is\_string($playerSettings)){ |
| [1399](#L1399) | $decodedSettings = json\_decode($playerSettings); |
| [1400](#L1400) |  |
| [1401](#L1401) | if($decodedSettings && isset($decodedSettings->mode) && isset($decodedSettings->border) && isset($decodedSettings->progress)){ |
| [1402](#L1402) | $hash = 'mode-' . $decodedSettings->mode . '&border-' . $decodedSettings->border . '&progress-' . $decodedSettings->progress; |
| [1403](#L1403) | $hash = str\_replace('#', '', $hash);  // remove # symbol from hex colors |
| [1404](#L1404) | $hash = '#' . $hash; |
| [1405](#L1405) |  |
| [1406](#L1406) | } else { |
| [1407](#L1407) | $hash = '#mode-Light&border-000000&progress-000000'; |
| [1408](#L1408) | } |
| [1409](#L1409) | } else { |
| [1410](#L1410) | $hash = '#mode-Light&border-000000&progress-000000'; |
| [1411](#L1411) | } |
| [1412](#L1412) | } |
| [1413](#L1413) |  |
| [1414](#L1414) | if( !empty($EpisodeData['podcast\_id']) ) { |
| [1415](#L1415) | $url = 'https://player.blubrry.com/?podcast\_id='. intval($EpisodeData['podcast\_id']) . '&amp;media\_url='. urlencode($media\_url); |
| [1416](#L1416) | if ($GeneralSettings['player'] == 'blubrrymodern') { |
| [1417](#L1417) | $url .= '&amp;modern=1'; |
| [1418](#L1418) | } |
| [1419](#L1419) | } else { |
| [1420](#L1420) | $url = 'https://player.blubrry.com/?media\_url='. urlencode($media\_url); |
| [1421](#L1421) | if ($GeneralSettings['player'] == 'blubrrymodern') { |
| [1422](#L1422) | $url .= '&amp;modern=1'; |
| [1423](#L1423) | } |
| [1424](#L1424) | if( !empty($EpisodeData['id']) ) { |
| [1425](#L1425) | // Get permalink URL |
| [1426](#L1426) | $permalink = get\_permalink( $EpisodeData['id'] ); |
| [1427](#L1427) | if( !empty($permalink) ) |
| [1428](#L1428) | $url.= '&amp;podcast\_link='. urlencode($permalink); |
| [1429](#L1429) | } |
| [1430](#L1430) | if( !empty($EpisodeData['itunes\_image']) ) { |
| [1431](#L1431) | if(isset($GeneralSettings['bp\_episode\_image']) && $GeneralSettings['bp\_episode\_image'] != false) |
| [1432](#L1432) | $url.= '&amp;artwork\_url='. urlencode($EpisodeData['itunes\_image']); |
| [1433](#L1433) | } |
| [1434](#L1434) |  |
| [1435](#L1435) | } |
| [1436](#L1436) | $url = $url.$hash; |
| [1437](#L1437) | $playerID = sprintf('blubrryplayer-%d', $instance); |
| [1438](#L1438) |  |
| [1439](#L1439) | $feedSlug = 'podcast'; |
| [1440](#L1440) | if( !empty($EpisodeData['feed']) ) |
| [1441](#L1441) | $feedSlug = $EpisodeData['feed']; |
| [1442](#L1442) |  |
| [1443](#L1443) | if( empty($GLOBALS['powerpress\_skipto\_player'][ get\_the\_ID() ][ $feedSlug ] ) ) |
| [1444](#L1444) | $GLOBALS['powerpress\_skipto\_player'][ get\_the\_ID() ][ $feedSlug ] = $playerID; |
| [1445](#L1445) |  |
| [1446](#L1446) | $iframeTitle = esc\_attr( \_\_('Blubrry Podcast Player', 'powerpress') ); |
| [1447](#L1447) |  |
| [1448](#L1448) | // 'sample' signifies that this player is appearing inside the block editor and therefore requires the sandbox attribute to render |
| [1449](#L1449) | if (!empty($EpisodeData['sample'])) { |
| [1450](#L1450) | return '<iframe sandbox="allow-scripts allow-popups allow-forms" src="' . $url . '" scrolling="no" width="100%" height="165" frameborder="0" id="' . $playerID . '" class="blubrryplayer" title="' . $iframeTitle . '"></iframe>'; |
| [1451](#L1451) | } else { |
| [1452](#L1452) | return '<iframe src="' . $url . '" scrolling="no" width="100%" height="165" frameborder="0" id="' . $playerID . '" class="blubrryplayer" title="' . $iframeTitle . '"></iframe>'; |
| [1453](#L1453) | } |
| [1454](#L1454) | } |
| [1455](#L1455) |  |
| [1456](#L1456) | return powerpressplayer\_build\_mediaelementaudio($media\_url, $EpisodeData, $embed); |
| [1457](#L1457) | } |
| [1458](#L1458) |  |
| [1459](#L1459) | function powerpressplayer\_build\_blubrryaudio\_by\_id($playerSettings = false){ |
| [1460](#L1460) | $local = (strpos($\_SERVER['HTTP\_HOST'], '.local') !== false); |
| [1461](#L1461) | $playerUrl = ($local ? 'http://player.blubrry.local' : 'https://player.blubrry.com'); |
| [1462](#L1462) | $directory\_episode\_id = ($local ? 12559710 : 80155910); |
| [1463](#L1463) | $playerUrlSrc = $playerUrl . '/?id=' . $directory\_episode\_id . '&preview=1&cache=' . time(); |
| [1464](#L1464) | if(!empty($playerSettings)){ |
| [1465](#L1465) | $playerUrlSrc .= '#mode-' . str\_replace('#', '', $playerSettings->mode) . '&border-' . str\_replace('#', '', $playerSettings->border) . '&progress-' . str\_replace('#', '', $playerSettings->progress); |
| [1466](#L1466) | } |
| [1467](#L1467) |  |
| [1468](#L1468) | $iframeTitle = esc\_attr(\_\_('Modern Blubrry Player', 'powerpress')); |
| [1469](#L1469) | return '<iframe src="' . $playerUrlSrc . '" id="playeriframe" class="" scrolling="yes" width="100%" height="165px" frameborder="0" title="' . $iframeTitle . '"></iframe>'; |
| [1470](#L1470) | } |
| [1471](#L1471) |  |
| [1472](#L1472) | /\* |
| [1473](#L1473) | MediaElement.js Audio Player |
| [1474](#L1474) | \*/ |
| [1475](#L1475) | function powerpressplayer\_build\_mediaelementaudio($media\_url, $EpisodeData=array(), $embed = false ) |
| [1476](#L1476) | { |
| [1477](#L1477) | if( !function\_exists('wp\_audio\_shortcode') ) |
| [1478](#L1478) | { |
| [1479](#L1479) | // Return the HTML5 audio shortcode instead |
| [1480](#L1480) | return powerpressplayer\_build\_html5audio($media\_url, $EpisodeData, $embed); |
| [1481](#L1481) | } |
| [1482](#L1482) |  |
| [1483](#L1483) | $player\_id = powerpressplayer\_get\_next\_id(); |
| [1484](#L1484) | $autoplay = false; |
| [1485](#L1485) | // Episode Settings |
| [1486](#L1486) | if( !empty($EpisodeData['autoplay']) ) |
| [1487](#L1487) | $autoplay = true; |
| [1488](#L1488) | $content = ''; |
| [1489](#L1489) |  |
| [1490](#L1490) |  |
| [1491](#L1491) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. $player\_id .'">'.PHP\_EOL\_WEB; |
| [1492](#L1492) |  |
| [1493](#L1493) | $attr = array( |
| [1494](#L1494) | 'src'      => htmlspecialchars($media\_url), |
| [1495](#L1495) | 'loop'     => '', // off |
| [1496](#L1496) | 'autoplay' => ( $autoplay ?'on':''), |
| [1497](#L1497) | 'preload'  => 'none' |
| [1498](#L1498) | ); |
| [1499](#L1499) |  |
| [1500](#L1500) | // Double check that WordPress is providing the shortcode... |
| [1501](#L1501) | global $shortcode\_tags; |
| [1502](#L1502) | $player = ''; |
| [1503](#L1503) | if( !defined('POWERPRESS\_DO\_SHORTCODE') ) { // && !empty($shortcode\_tags['audio']) && is\_string($shortcode\_tags['audio']) && $shortcode\_tags['audio'] == 'wp\_audio\_shortcode' ) { |
| [1504](#L1504) | $player .= wp\_audio\_shortcode( $attr ); |
| [1505](#L1505) | } else { |
| [1506](#L1506) | $player .= do\_shortcode( '[audio src="'.  esc\_attr($media\_url) .'" autoplay="'. ( $autoplay ?'on':'') .'" loop="" preload="none"]'); |
| [1507](#L1507) | } |
| [1508](#L1508) |  |
| [1509](#L1509) | // Get the DIV id for this element |
| [1510](#L1510) | $feedSlug = 'podcast'; |
| [1511](#L1511) | if( !empty($EpisodeData['feed']) ) |
| [1512](#L1512) | $feedSlug = $EpisodeData['feed']; |
| [1513](#L1513) |  |
| [1514](#L1514) | if( empty($GLOBALS['powerpress\_skipto\_player'][ get\_the\_ID() ][ $feedSlug ]) && preg\_match('/\<audio.\*id="([^"]\*)"/i', $player, $matches) ) { |
| [1515](#L1515) | $GLOBALS['powerpress\_skipto\_player'][ get\_the\_ID() ][ $feedSlug ] = $matches[1]; |
| [1516](#L1516) | } |
| [1517](#L1517) |  |
| [1518](#L1518) | $content .= $player .'</div>'.PHP\_EOL\_WEB; |
| [1519](#L1519) | return $content; |
| [1520](#L1520) | } |
| [1521](#L1521) |  |
| [1522](#L1522) |  |
| [1523](#L1523) | function powerpressplayer\_build\_playimage($media\_url, $EpisodeData = array(), $include\_div = false) |
| [1524](#L1524) | { |
| [1525](#L1525) | $content = ''; |
| [1526](#L1526) | $autoplay = false; |
| [1527](#L1527) | if( !empty($EpisodeData['autoplay']) && $EpisodeData['autoplay'] ) |
| [1528](#L1528) | $autoplay = true; |
| [1529](#L1529) | $player\_width = 400; |
| [1530](#L1530) | $player\_height = 225; |
| [1531](#L1531) | $cover\_image = ''; |
| [1532](#L1532) | // Global settings |
| [1533](#L1533) | $Settings = get\_option('powerpress\_general'); |
| [1534](#L1534) | if( !empty($Settings['player\_width']) ) |
| [1535](#L1535) | $player\_width = $Settings['player\_width']; |
| [1536](#L1536) | if( !empty($Settings['player\_height']) ) |
| [1537](#L1537) | $player\_height = $Settings['player\_height']; |
| [1538](#L1538) | if( !empty($Settings['poster\_image']) ) |
| [1539](#L1539) | $cover\_image = $Settings['poster\_image']; |
| [1540](#L1540) | // episode settings |
| [1541](#L1541) | if( !empty($EpisodeData['width']) ) |
| [1542](#L1542) | $player\_width = $EpisodeData['width']; |
| [1543](#L1543) | if( !empty($EpisodeData['height']) ) |
| [1544](#L1544) | $player\_height = $EpisodeData['height']; |
| [1545](#L1545) | if( !empty($EpisodeData['image']) ) |
| [1546](#L1546) | $cover\_image = $EpisodeData['image']; |
| [1547](#L1547) |  |
| [1548](#L1548) | if( !$cover\_image ) |
| [1549](#L1549) | $cover\_image = powerpress\_get\_root\_url() . 'black.png'; |
| [1550](#L1550) |  |
| [1551](#L1551) | if( $include\_div ) |
| [1552](#L1552) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. powerpressplayer\_get\_next\_id() .'">'; |
| [1553](#L1553) | $content .= '<a href="'. htmlspecialchars($media\_url) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" target="\_blank" style="position: relative;">'; |
| [1554](#L1554) | $content .= '<img src="'. htmlspecialchars($cover\_image) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" alt="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" style="width: '. htmlspecialchars($player\_width) .'px; height: '. htmlspecialchars($player\_height) .'px;" />'; |
| [1555](#L1555) | if(!isset($Settings['poster\_play\_image']) || $Settings['poster\_play\_image'] ) |
| [1556](#L1556) | { |
| [1557](#L1557) | $play\_image\_button\_url = powerpress\_get\_root\_url() .'play\_video.png'; |
| [1558](#L1558) | if( !empty($Settings['video\_custom\_play\_button']) ) |
| [1559](#L1559) | $play\_image\_button\_url = $Settings['video\_custom\_play\_button']; |
| [1560](#L1560) |  |
| [1561](#L1561) | $bottom = floor(($player\_height/2)-30); |
| [1562](#L1562) | if( $bottom < 0 ) |
| [1563](#L1563) | $bottom = 0; |
| [1564](#L1564) | $left = floor(($player\_width/2)-30); |
| [1565](#L1565) | if( $left < 0 ) |
| [1566](#L1566) | $left = 0; |
| [1567](#L1567) | $content .= '<img src="'. htmlspecialchars($play\_image\_button\_url) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" alt="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" style="position: absolute; bottom:'. $bottom .'px; left:'. $left .'px; border:0;" />'; |
| [1568](#L1568) | } |
| [1569](#L1569) | $content .= '</a>'; |
| [1570](#L1570) | if( $include\_div ) |
| [1571](#L1571) | $content .= "</div>\n"; |
| [1572](#L1572) | return $content; |
| [1573](#L1573) | } |
| [1574](#L1574) |  |
| [1575](#L1575) | function powerpressplayer\_build\_playimageaudio($media\_url, $include\_div = false) |
| [1576](#L1576) | { |
| [1577](#L1577) | $content = ''; |
| [1578](#L1578) | $cover\_image = powerpress\_get\_root\_url() . 'play\_audio.png'; |
| [1579](#L1579) | $GeneralSettings = get\_option('powerpress\_general'); |
| [1580](#L1580) | if( !empty($GeneralSettings['custom\_play\_button']) ) |
| [1581](#L1581) | $cover\_image = $GeneralSettings['custom\_play\_button']; |
| [1582](#L1582) |  |
| [1583](#L1583) | if( $include\_div ) |
| [1584](#L1584) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. powerpressplayer\_get\_next\_id() .'">'; |
| [1585](#L1585) | $content .= '<a href="'. htmlspecialchars($media\_url) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" target="\_blank">'; |
| [1586](#L1586) | $content .= '<img src="'. htmlspecialchars($cover\_image) .'" title="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" alt="'. htmlspecialchars(POWERPRESS\_PLAY\_TEXT) .'" style="border:0;" />'; |
| [1587](#L1587) | $content .= '</a>'; |
| [1588](#L1588) | if( $include\_div ) |
| [1589](#L1589) | $content .= "</div>\n"; |
| [1590](#L1590) | return $content; |
| [1591](#L1591) | } |
| [1592](#L1592) |  |
| [1593](#L1593) | function powerpressplayer\_build\_playimagepdf($media\_url, $include\_div = false) |
| [1594](#L1594) | { |
| [1595](#L1595) | $content = ''; |
| [1596](#L1596) | $cover\_image = powerpress\_get\_root\_url() . 'play\_pdf.png'; |
| [1597](#L1597) | $GeneralSettings = get\_option('powerpress\_general'); |
| [1598](#L1598) | if( !empty($GeneralSettings['pdf\_custom\_play\_button']) ) |
| [1599](#L1599) | $cover\_image = $GeneralSettings['pdf\_custom\_play\_button']; |
| [1600](#L1600) |  |
| [1601](#L1601) | if( $include\_div ) |
| [1602](#L1602) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. powerpressplayer\_get\_next\_id() .'">'; |
| [1603](#L1603) | $content .= '<a href="'. htmlspecialchars($media\_url) .'" title="'. htmlspecialchars(POWERPRESS\_READ\_TEXT) .'" target="\_blank">'; |
| [1604](#L1604) | $content .= '<img src="'. htmlspecialchars($cover\_image) .'" title="'. htmlspecialchars(POWERPRESS\_READ\_TEXT) .'" alt="'. htmlspecialchars(POWERPRESS\_READ\_TEXT) .'" style="border:0;" />'; |
| [1605](#L1605) | $content .= '</a>'; |
| [1606](#L1606) | if( $include\_div ) |
| [1607](#L1607) | $content .= "</div>\n"; |
| [1608](#L1608) | return $content; |
| [1609](#L1609) | } |
| [1610](#L1610) |  |
| [1611](#L1611) | function powerpressplayer\_build\_playimageepub($media\_url, $include\_div = false) |
| [1612](#L1612) | { |
| [1613](#L1613) | $content = ''; |
| [1614](#L1614) | $cover\_image = powerpress\_get\_root\_url() . 'play\_epub.png'; |
| [1615](#L1615) | $GeneralSettings = get\_option('powerpress\_general'); |
| [1616](#L1616) | if( !empty($GeneralSettings['epub\_custom\_play\_button']) ) |
| [1617](#L1617) | $cover\_image = $GeneralSettings['epub\_custom\_play\_button']; |
| [1618](#L1618) |  |
| [1619](#L1619) | if( $include\_div ) |
| [1620](#L1620) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. powerpressplayer\_get\_next\_id() .'">'; |
| [1621](#L1621) | $content .= '<a href="'. htmlspecialchars($media\_url) .'" title="'. htmlspecialchars(POWERPRESS\_READ\_TEXT) .'" target="\_blank">'; |
| [1622](#L1622) | $content .= '<img src="'. htmlspecialchars($cover\_image) .'" title="'. htmlspecialchars(POWERPRESS\_READ\_TEXT) .'" alt="'. htmlspecialchars(POWERPRESS\_READ\_TEXT) .'" style="border:0;" />'; |
| [1623](#L1623) | $content .= '</a>'; |
| [1624](#L1624) | if( $include\_div ) |
| [1625](#L1625) | $content .= "</div>\n"; |
| [1626](#L1626) | return $content; |
| [1627](#L1627) | } |
| [1628](#L1628) |  |
| [1629](#L1629) | /\* |
| [1630](#L1630) | VideoJS for PowerPress 4.0 |
| [1631](#L1631) | \*/ |
| [1632](#L1632) | function powerpressplayer\_build\_videojs($media\_url, $EpisodeData = array()) |
| [1633](#L1633) | { |
| [1634](#L1634) | $content = ''; |
| [1635](#L1635) | if( function\_exists('add\_videojs\_header') ) |
| [1636](#L1636) | { |
| [1637](#L1637) | // Global Settings |
| [1638](#L1638) | $Settings = get\_option('powerpress\_general'); |
| [1639](#L1639) |  |
| [1640](#L1640) | $player\_id = powerpressplayer\_get\_next\_id(); |
| [1641](#L1641) | $cover\_image = ''; |
| [1642](#L1642) | $player\_width = 400; |
| [1643](#L1643) | $player\_height = 225; |
| [1644](#L1644) | $autoplay = false; |
| [1645](#L1645) |  |
| [1646](#L1646) | if( !empty($Settings['player\_width']) ) |
| [1647](#L1647) | $player\_width = $Settings['player\_width']; |
| [1648](#L1648) | if( !empty($Settings['player\_height']) ) |
| [1649](#L1649) | $player\_height = $Settings['player\_height']; |
| [1650](#L1650) | if( !empty($Settings['poster\_image']) ) |
| [1651](#L1651) | $cover\_image = $Settings['poster\_image']; |
| [1652](#L1652) |  |
| [1653](#L1653) | // Episode Settings |
| [1654](#L1654) | if( !empty($EpisodeData['image']) ) |
| [1655](#L1655) | $cover\_image = $EpisodeData['image']; |
| [1656](#L1656) | if( !empty($EpisodeData['width']) ) |
| [1657](#L1657) | $player\_width = $EpisodeData['width']; |
| [1658](#L1658) | if( !empty($EpisodeData['height']) ) |
| [1659](#L1659) | $player\_height = $EpisodeData['height']; |
| [1660](#L1660) | if( !empty($EpisodeData['autoplay']) ) |
| [1661](#L1661) | $autoplay = true; |
| [1662](#L1662) |  |
| [1663](#L1663) | // Poster image supplied |
| [1664](#L1664) | $poster\_attribute = ''; |
| [1665](#L1665) | if ($cover\_image) |
| [1666](#L1666) | $poster\_attribute = ' poster="'.htmlspecialchars($cover\_image).'"'; |
| [1667](#L1667) |  |
| [1668](#L1668) | // Autoplay the video? |
| [1669](#L1669) | $autoplay\_attribute = ''; |
| [1670](#L1670) | if ( $autoplay ) |
| [1671](#L1671) | $autoplay\_attribute = ' autoplay'; |
| [1672](#L1672) |  |
| [1673](#L1673) | // We never do pre-poading for podcasting as it inflates statistics |
| [1674](#L1674) |  |
| [1675](#L1675) | // Is there a custom class? |
| [1676](#L1676) | $class = ''; |
| [1677](#L1677) | if ( !empty($Settings['videojs\_css\_class']) ) |
| [1678](#L1678) | $class = ' '. htmlspecialchars($Settings['videojs\_css\_class']); |
| [1679](#L1679) |  |
| [1680](#L1680) | $content .= '<div class="powerpress\_player" id="powerpress\_player\_'. $player\_id .'">'; |
| [1681](#L1681) |  |
| [1682](#L1682) | $content .= '<video id="videojs\_player\_'. $player\_id .'" class="video-js vjs-default-skin'. $class .'" width="'. htmlspecialchars($player\_width) .'" height="'. htmlspecialchars($player\_height) .'"'. $poster\_attribute .' controls '. $autoplay\_attribute .' data-setup="{}">'; |
| [1683](#L1683) |  |
| [1684](#L1684) | $content\_type = powerpress\_get\_contenttype($media\_url); |
| [1685](#L1685) | if( $content\_type == 'video/x-m4v' ) |
| [1686](#L1686) | $content\_type = 'video/mp4'; // Mp4 |
| [1687](#L1687) | $content .='<source src="'. htmlspecialchars($media\_url) .'" type="'. $content\_type .'" />'; |
| [1688](#L1688) |  |
| [1689](#L1689) | if( !empty($EpisodeData['webm\_src']) ) |
| [1690](#L1690) | { |
| [1691](#L1691) | $EpisodeData['webm\_src'] = powerpress\_add\_flag\_to\_redirect\_url($EpisodeData['webm\_src'], 'p'); |
| [1692](#L1692) | $content .='<source src="'. htmlspecialchars($EpisodeData['webm\_src']) .'" type="video/webm; codecs="vp8, vorbis" />'; |
| [1693](#L1693) | } |
| [1694](#L1694) |  |
| [1695](#L1695) | $content .= '</video>'; |
| [1696](#L1696) | $content .= "</div>\n"; |
| [1697](#L1697) | } |
| [1698](#L1698) | else |
| [1699](#L1699) | { |
| [1700](#L1700) | $content .= powerpressplayer\_build\_html5video($media\_url, $EpisodeData); |
| [1701](#L1701) | } |
| [1702](#L1702) |  |
| [1703](#L1703) | return $content; |
| [1704](#L1704) | } |
| [1705](#L1705) |  |
| [1706](#L1706) | function powerpress\_shortcode\_skipto($attributes, $content = null) |
| [1707](#L1707) | { |
| [1708](#L1708) | $pos = ''; |
| [1709](#L1709) | if( isset($attributes['time']) ) { |
| [1710](#L1710) | $pos = $attributes['time']; |
| [1711](#L1711) | } else if (isset($attributes['timestamp'])) { |
| [1712](#L1712) | $pos = $attributes['timestamp']; |
| [1713](#L1713) | } else if (isset($attributes['ts'])) { |
| [1714](#L1714) | $pos = $attributes['ts']; |
| [1715](#L1715) | } |
| [1716](#L1716) |  |
| [1717](#L1717) | // only allow digits and colons to prevent XSS |
| [1718](#L1718) | if (!preg\_match('/^[\d:]+$/', $pos)) { |
| [1719](#L1719) | $pos = ''; |
| [1720](#L1720) | } |
| [1721](#L1721) |  |
| [1722](#L1722) | if( empty($pos) ) |
| [1723](#L1723) | return $content; |
| [1724](#L1724) |  |
| [1725](#L1725) | // Prepare data |
| [1726](#L1726) | $timeInSeconds = powerpress\_raw\_duration($pos); |
| [1727](#L1727) | $readableTime = $pos; |
| [1728](#L1728) | if( strpos($readableTime, ':') === false ) // If the time they entered is not in colon format, lets use a readable format with the colons... |
| [1729](#L1729) | $readableTime = powerpress\_readable\_duration($timeInSeconds); |
| [1730](#L1730) | if( empty($content) ) |
| [1731](#L1731) | $content = $readableTime; |
| [1732](#L1732) |  |
| [1733](#L1733) | // We can't add players to feeds |
| [1734](#L1734) | if( is\_feed() ) { |
| [1735](#L1735) | if( empty($content) ) // If no custom label is set, lets use this timestamp in a readable format with colons |
| [1736](#L1736) | return $readableTime; |
| [1737](#L1737) | return $content; |
| [1738](#L1738) | } |
| [1739](#L1739) |  |
| [1740](#L1740) | $feedSlug = 'podcast'; |
| [1741](#L1741) | if( !empty($attributes['channel']) ) |
| [1742](#L1742) | $feedSlug = $attributes['channel']; |
| [1743](#L1743) |  |
| [1744](#L1744) | if( empty($GLOBALS['powerpress\_skipto\_player'][ get\_the\_ID() ][ $feedSlug ]) ) { |
| [1745](#L1745) | if( function\_exists('qed\_stt\_shortcode') ) { // If using the skip to timestamp plugin, we will fall back to it since we are not handling the player... |
| [1746](#L1746) | return qed\_stt\_shortcode($attributes, $content); |
| [1747](#L1747) | } |
| [1748](#L1748) |  |
| [1749](#L1749) | return $content; |
| [1750](#L1750) | } |
| [1751](#L1751) |  |
| [1752](#L1752) | $playerID = $GLOBALS['powerpress\_skipto\_player'][ get\_the\_ID() ][ $feedSlug ]; |
| [1753](#L1753) | return '<a title="'. esc\_attr(sprintf(\_\_('Skip to %s', 'powerpress'), $readableTime)) .'" href="'. get\_permalink() .'#" onclick="return powerpress\_stp(event);" class="powerpress-skip-a" data-pp-stp="'. $timeInSeconds .'" data-pp-player="'. $playerID .'">'. $content .'</a>'; |
| [1754](#L1754) | } |
| [1755](#L1755) |  |
| [1756](#L1756) |  |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/powerpress/trunk/powerpress-player.php?format=txt)
* [Original Format](/export/3220771/powerpress/trunk/powerpress-player.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_ef1e0b53_20250111_155400.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3115881)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3115880 "Changeset 3115880")
* [Next Changeset](/changeset/3115882 "Changeset 3115882") →

---

# Changeset 3115881

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
07/10/2024 08:34:57 PM
([6 months](/timeline?from=2024-07-10T20%3A34%3A57Z&precision=second "See timeline at 07/10/2024 08:34:57 PM") ago)

Author:
benbeecroft
Message:

PowerPress 11.9.11

Location:
[powerpress/trunk](/browser/powerpress/trunk?rev=3115881)
Files:

4 edited

* [powerpress-player.php](/browser/powerpress/trunk/powerpress-player.php?rev=3115881 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [powerpress.php](/browser/powerpress/trunk/powerpress.php?rev=3115881 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [readme.txt](/browser/powerpress/trunk/readme.txt?rev=3115881 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [version.txt](/browser/powerpress/trunk/version.txt?rev=3115881 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [powerpress/trunk/powerpress-player.php](/changeset/3115881/powerpress/trunk/powerpress-player.php "Show the changeset 3115881 restricted to powerpress/trunk/powerpress-player.php")

  | [r3046538](/browser/powerpress/trunk/powerpress-player.php?rev=3046538#L935 "Show revision 3046538 of this file in browser") | [r3115881](/browser/powerpress/trunk/powerpress-player.php?rev=3115881#L935 "Show revision 3115881 of this file in browser") |  |
  | --- | --- | --- |
  | 935 | 935 |  |
  | 936 | 936 | $player\_links = ''; |
  |  | 937 | $media\_url = htmlspecialchars($media\_url); |
  | 937 | 938 | switch( $GeneralSettings['player\_function'] ) |
  | 938 | 939 | { |
* ## [powerpress/trunk/powerpress.php](/changeset/3115881/powerpress/trunk/powerpress.php "Show the changeset 3115881 restricted to powerpress/trunk/powerpress.php")

  | [r3115759](/browser/powerpress/trunk/powerpress.php?rev=3115759#L4 "Show revision 3115759 of this file in browser") | [r3115881](/browser/powerpress/trunk/powerpress.php?rev=3115881#L4 "Show revision 3115881 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://blubrry.com/services/powerpress-plugin/ |
  | 5 | 5 | Description: <a href="https://blubrry.com/services/powerpress-plugin/" target="\_blank">Blubrry PowerPress</a> is the No. 1 Podcasting plugin for WordPress. Developed by podcasters for podcasters; features include Simple and Advanced modes, multiple audio/video player options, subscribe to podcast tools, podcast SEO features, and more! Fully supports Apple Podcasts (previously iTunes), Google Podcasts, Spotify, and Blubrry Podcasting directories, as well as all podcast applications and clients. |
  | 6 |  | Version: 11.9.1~~0~~ |
  |  | 6 | Version: 11.9.11 |
  | 7 | 7 | Author: Blubrry |
  | 8 | 8 | Author URI: https://blubrry.com/ |
  | […](/browser/powerpress/trunk/powerpress.php?rev=3115759#L133) | […](/browser/powerpress/trunk/powerpress.php?rev=3115881#L133) |  |
  | 133 | 133 |  |
  | 134 | 134 | // WP\_PLUGIN\_DIR (REMEMBER TO USE THIS DEFINE IF NEEDED) |
  | 135 |  | define('POWERPRESS\_VERSION', '11.9.1~~0~~' ); |
  |  | 135 | define('POWERPRESS\_VERSION', '11.9.11' ); |
  | 136 | 136 |  |
  | 137 | 137 | // Translation support: |
* ## [powerpress/trunk/readme.txt](/changeset/3115881/powerpress/trunk/readme.txt "Show the changeset 3115881 restricted to powerpress/trunk/readme.txt")

  | [r3115759](/browser/powerpress/trunk/readme.txt?rev=3115759#L5 "Show revision 3115759 of this file in browser") | [r3115881](/browser/powerpress/trunk/readme.txt?rev=3115881#L5 "Show revision 3115881 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires PHP: 5.2 |
  | 6 | 6 | Tested up to: 6.5 |
  | 7 |  | Stable tag: 11.9.1~~0~~ |
  |  | 7 | Stable tag: 11.9.11 |
  | 8 | 8 | Donate link: https://blubrry.com/services/podcast-hosting/ |
  | 9 | 9 | License: GPLv2 or later |
  | […](/browser/powerpress/trunk/readme.txt?rev=3115759#L163) | […](/browser/powerpress/trunk/readme.txt?rev=3115881#L163) |  |
  | 163 | 163 |  |
  | 164 | 164 | == Changelog == |
  |  | 165 | = 11.9.11 = |
  |  | 166 | \* Released on 07/10/2024 |
  |  | 167 | \* Security updates |
  |  | 168 |  |
  | 165 | 169 | = 11.9.10 = |
  |  | 170 | \* Released on 07/10/2024 |
  | 166 | 171 | \* Free Transcription messaging for July |
  | 167 | 172 |  |
* ## [powerpress/trunk/version.txt](/changeset/3115881/powerpress/trunk/version.txt "Show the changeset 3115881 restricted to powerpress/trunk/version.txt")

  | [r3115759](/browser/powerpress/trunk/version.txt?rev=3115759#L1 "Show revision 3115759 of this file in browser") | [r3115881](/browser/powerpress/trunk/version.txt?rev=3115881#L1 "Show revision 3115881 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | 11.9.1~~0~~ |
  |  | 1 | 11.9.11 |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3115881)
* [Zip Archive](?format=zip&new=3115881)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from wordpress.org_8bd8aa3d_20250111_155401.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

PowerPress Podcasting plugin by Blubrry

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fpowerpress&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fpowerpress&locale=en_US)

Search plugins

![](https://ps.w.org/powerpress/assets/banner-772x250.jpg?rev=2849859)
![](https://ps.w.org/powerpress/assets/icon.svg?rev=2849869)
# PowerPress Podcasting plugin by Blubrry

By [Blubrry](https://blubrry.com/)

[Download](https://downloads.wordpress.org/plugin/powerpress.11.10.11.zip)

* [Details](https://wordpress.org/plugins/powerpress/#description)
* [Reviews](https://wordpress.org/plugins/powerpress/#reviews)
* [Installation](https://wordpress.org/plugins/powerpress/#installation)
* [Development](https://wordpress.org/plugins/powerpress/#developers)

[Support](https://wordpress.org/support/plugin/powerpress/)

## Description

No. 1 Podcasting plugin for WordPress.

This is PowerPress, the ultimate podcasting plugin developed by Blubrry Podcasting. Designed by podcasters for podcasters, PowerPress enables you to publish and manage one or multiple podcasts directly from your WordPress website. Strengthen your brand and reach audiences across all major platforms, such as Apple Podcasts, Spotify, YouTube Music, Amazon Music, and more.

#### Key Features at a Glance:

* **Integrated Players:** Choose from audio and video players with embedded support for platforms like YouTube. The ‘Skip to Position in Player’ shortcode allows listeners to jump to specific episode timestamps, and the Playlist Player will enable you to show multiple episodes at a glance.
* **Effortless Podcast Import and Migration:** Seamlessly transition from hosts such as Spotify for Podcasters, SoundCloud, Libsyn, and more. Our Import Podcast and Migrate Media tools ensure a smooth transfer, especially to Blubrry Hosting, without losing content.
* **Subscribe Tools:** Boost your audience engagement with our subscribe page and sidebar widgets. Designed for responsive websites and high-resolution screens, these tools are optimized for standard and Apple Retina displays.
* **Multiple Podcast Management:** Easily handle multiple podcasts on one website with our Category Podcasting and Podcast Channels features.
* **Global Language Support:** PowerPress speaks your language, with numerous translations available and emoji support for your podcast feed.
* **Podcasting 2.0:** As podcasting advances, Blubrry is at the forefront, implementing new Podcasting 2.0 features regularly, such as transcripts, funding, Value Time Split, chapters, live, and many more.

#### Get Started with Ease:

Dive into podcasting with our user-friendly onboarding. From essential settings to publishing your first episode, we guide you through each step. Plus, easily submit your podcast to major directories for maximum reach.

#### Integrated Media Players – Tailored for Your Content:

* **Audio Players:** Choose from Blubrry Player (exclusive for Blubrry Hosting customers) with close captions and chapter support, MediaElement.js, the native HTML5 audio player, or use another player of your choice.
* **Video Players:** Video podcasting support select from MediaElement.js, VideoJS, or the native HTML5 video player.
* **Customizable Positioning:** Place your player above or below content with easy-to-use player shortcodes.
* **Playlist Player Embed:** Showcase a playlist of your latest episodes effortlessly.
* **Diverse File Support:** PowerPress supports various audio and video formats, with a strong recommendation for MP3 for audio & MP4 for video.

#### Exclusive Integrated Subscribe Tools for Audience Growth:

Create a dedicated subscribe page and a mobile-optimized sidebar widget. Our tools are designed for clarity and ease, ensuring visitors become loyal followers/subscribers.

#### Blubrry Podcast Hosting Customers – Enjoy Streamlined Features:

* Publish media directly from your site.
* View hosting usage and manage monthly quotas with ease.
* Conveniently migrate media files to your Blubrry account.
* Access IAB Certified Compliant statistics, with free and advanced options.
* Automated Transcripts (Optional)
* Media Mastering of Audio Files (Optional)

#### Migrating from Other Platforms?

PowerPress makes it easy. Whether you’re coming from another podcast plugin or a different service such as Libsyn or PodBean, our Import Podcast tool efficiently transfers your RSS feed and episodes.

#### PowerPress in Your Language:

Join our global community with PowerPress’ multilingual support. Interested in contributing translations? Contact us for an opportunity to get involved and gain recognition.

#### Ready to Transform Your Podcast?

Embrace the power of PowerPress for a seamless, feature-rich podcasting experience. Visit our website to learn more, download the plugin, and start your podcasting adventure today!

#### Need Help?

Contact the Blubrry Support team and look through the PowerPress [documentation](https://blubrry.com/support/powerpress-documentation/powerpress-documentation/) we’ve created.

#### Contributors

* Angelo Mandato, CIO [Blubrry](http://www.blubrry.com) – Plugin founder, architect and lead developer
* Pat McSweeny, PHP Developer – Developed initial version (v0.1.0) of plugin
* Jerry Stephens, [Way of the Geek](http://wayofthegeek.org) – Contributed initial code fix for excerpt bug resolved in v0.6.1, wrote initial code for the 4 new flash players.
* Darcy Fiander, [Rooty Radio](http://rootyradio.com) – Fixed bug with category links to FeedValidator.org and category title warning when validating category feeds.
* Joel Haasnoot, [Personal Blog](http://waarisdetrein.nl/joelhaasnoot/) – Developed PodPress archive statistics.
* Nicolas Bouliane, [Personal Blog](http://nicolasbouliane.com/) – Contributed code for `get_the_powerpress_all_players()` function.
* Isiah Lloyd – Developed features in PowerPress 7.5, 7.6 and part of 8.0
* Ben Beecroft – Developed features in PowerPress 8.1+

#### Translators

* Danish translation for v1.0.11+ by [Team Blogos](http://wordpress.blogos.dk/s%C3%B8g-efter-downloads/?did=280) – Latest translation available [here](http://wordpress.blogos.dk/s%C3%B8g-efter-downloads/?did=280)
* French translation for v1.0.11+ by [Aur�lien Denis](http://wpchannel.com/) – Aur�lien is looking for assistance maintaining the French translation, email wpchannel [at] gmail.com if interested.
* Simplified Chinese for v1.0.12+ by [webmote](http://codeex.cn) – From webmote: Welcome to use the plugin. Very good! and then hope you to access my site.
* Italian translation for v2.0.4+ by [Umberto Sartori](http://veneziadoc.net/)
* Romanian translation for v2.0.4+ by Alexander Ovsov (Web Geek Sciense: http://webhostinggeeks.com/science/)
* Russian translation for v4.0.5+ by [Igor Mercury](http://www.nightdiary.ru/)
* Brazilian Portuguese translation for v6.0+ by [Leo Lopes from Radiofobia](http://radiofobia.com.br/)

#### Support

<https://blubrry.com/support/>

#### Blubrry Social

[Twitter](https://twitter.com/blubrry) – [Facebook](https://www.facebook.com/blubrry) – [Instagram](https://www.instagram.com/blubrry_podcasting/) – [YouTube](https://www.youtube.com/channel/UC9sE1Yz2deZiGAP67xYx9Xg)

## Screenshots

* [![](https://ps.w.org/powerpress/assets/screenshot-1.png?rev=1276651)](https://ps.w.org/powerpress/assets/screenshot-1.png?rev=1276651)

  PowerPress’s Simple Mode will walk you through setting up your podcast in 3 easy steps.
* [![](https://ps.w.org/powerpress/assets/screenshot-2.png?rev=1276639)](https://ps.w.org/powerpress/assets/screenshot-2.png?rev=1276639)

  Just like blogging, podcasting utilizes blog posting features with the addition of a podcast episode box. Yes, podcasting is that simple!
* [![](https://ps.w.org/powerpress/assets/screenshot-3.png?rev=1598857)](https://ps.w.org/powerpress/assets/screenshot-3.png?rev=1598857)

  PowerPress integrates seamlessly with Blubrry Podcast Hosting’s exclusive player.
* [![](https://ps.w.org/powerpress/assets/screenshot-4.png?rev=1598857)](https://ps.w.org/powerpress/assets/screenshot-4.png?rev=1598857)

  PowerPress comes with a built-in subscribe sidebar widget to help your audience subscribe to your podcast.
* [![](https://ps.w.org/powerpress/assets/screenshot-5.png?rev=1598857)](https://ps.w.org/powerpress/assets/screenshot-5.png?rev=1598857)

  PowerPress comes with an editable subscribe page builder with a subscribe embed tool to help your web visitors subscribe.
* [![](https://ps.w.org/powerpress/assets/screenshot-6.png?rev=1598857)](https://ps.w.org/powerpress/assets/screenshot-6.png?rev=1598857)

  PowerPress’s Advanced Mode settings let you dig in as deep as you want to with every possible setting for podcasting at your fingertips.
* [![](https://ps.w.org/powerpress/assets/screenshot-7.png?rev=1598857)](https://ps.w.org/powerpress/assets/screenshot-7.png?rev=1598857)

  PowerPress incorporates the built-in WordPress media players into your blog posts and pages.

## Blocks

This plugin provides 1 block.

* PowerPress Player
  Media player for PowerPress podcast

## Installation

#### Point and Click Installation

1. Sign into your blog, go to the plugins section and click ‘Add New’.
2. In the search box enter “PowerPress”, then click ‘Search’.
3. Click the ‘Install Now’ link and proceed to install the plugin.
4. Once installed, click ‘Activate’.
5. Configure your Blubrry PowerPress by going to the **Settings** > **Blubrry PowerPress** page.

#### Manual Installation

To install Blubrry PowerPress manually, follow these steps:

1. Download [PowerPress from WordPress.org](https://wordpress.org/plugins/powerpress/).
2. Extract the downloaded zip file to a temporary folder.
3. Copy the entire powerpress folder from the downloaded zip file into the /wp-content/plugins/ folder on your server.
4. Activate the “Blubrry PowerPress” plugin in your blog’s Plugin Management page.
5. Configure your Blubrry PowerPress by going to the **Settings** > **Blubrry PowerPress** page.

#### Next Major Release Announcements

* We are looking for beta testers! If you would like to beta test future versions of PowerPress, please [contact us](http://blubrry.com/contact.php#feedback) with your name and email.

#### Fan of PowerPress and want to show your support?

If you are a fan of PowerPress, we would greatly appreciate it if you could take a moment and [leave us a review on WordPress.org](https://wordpress.org/support/plugin/powerpress/reviews/?rate=5#new-post). Your support is greatly appreciated!

## FAQ

### Compatible Themes and Plugins

Most themes and plugins are compatible with PowerPress. PowerPress is developed and tested using the default themes packaged with WordPress. These themes use WordPress best practices and adhere to theme rules set by WordPress.org. Any child theme based on these themes should also work without issue.

If you are having a problem, try [Diagnosing Feed and/or Player Issues](https://blubrry.com/support/powerpress-documentation/diagnosing-feed-andor-player-issues-with-powerpress/).

If you are having a problem specifically with the player and links, try the “Having issues?” option under PowerPress Settings > Website > PowerPress Shortcodes tab. Visit [Resolving Plugin or Theme Conflicts](https://blubrry.com/support/powerpress-documentation/media-appearance/resolving-plugin-theme-conflict-issues/) for details.

### Premium podcasting themes compatible with PowerPress

Second Line Themes are designed specifically to take advantage of built-in features, settings, and podcast episode metadata in PowerPress. The Blubrry team works with the Appendipity team during beta testing and major WordPress releases to make sure the Podcast Pro theme and PowerPress work together seamlessly.

### Why doesn’t Blubrry PowerPress support multiple enclosures in one feed item/post?

PowerPress does not allow you to include multiple media files for one feed item (blog post). This is because each podcatcher handles multiple enclosures in feeds differently. Apple Podcasts will download the first enclosure that it sees in the feed ignoring the rest. Other podcatchers and podcasting directories either pick up the first enclosure or the last in each post item. This inconsistency, combined with the fact that [Dave Winer does not recommend multiple enclosures](http://www.reallysimplesyndication.com/2004/12/21), is why the Blubrry PowerPress does not support them.

As an alternative, PowerPress allows you to create additional custom podcast feeds and channels to associate any magnitude of media format and/or length in a blog post to specific custom feeds. For example, you can create one blog post associated with separate video and audio podcast feeds, saving you time from entering your show notes twice.

### Why doesn’t Blubrry PowerPress include media statistics built-in?

Blubrry’s PowerPress does not include media statistics built-in. This is not because Blubrry has its own statistics service, although that’s a good reason by itself. Maintaining and calculating statistics is a resource and server intensive task that would detract from an otherwise efficient WordPress podcasting plugin. We recommend using your media hosting’s web statistics to give you basic download numbers and, if you are seeking more granular measurements, such as client and geographical information for each episode, you’re more than welcome to use the [Blubrry Statistics service](https://blubrry.com/services/podcast-statistics/) as well.

### How do you insert the player within a blog post?

You can insert the media player within your blog posts by using the WordPress shortcode feature. The shortcode for PowerPress is `[powerpress]` (all lowercase).

You may use the shortcode to add a player to other media files (non episode files) by specifying the media url in the shortcode: [powerpress url=”http://example.com/path/to/media.mp3″]

For advanced users with multiple podcast feeds, you may insert the player for a specific feed by specifying the feed slug in the shortcode: [powerpress feed=”podcast”]

If you want to specify a cover image, add an image attribute which points to the specific image url: [powerpress image=”http://example.com/path/to/cover\_image.jpg”] *This is an experimental feature.*

### Why can’t you upload large media files?

File uploads are tricky to handle because there are so many web hosting variations with different upload size limits. We recommend using an FTP application to upload large media files. FTP is much more efficient than web based uploads and is typically provided by nearly all web hosting providers.

Alternatively, you can sign up for a Blubrry [hosting plan](https://blubrry.com/services/podcast-hosting/), which makes file uploads in PowerPress easier.

### The Media Player does not appear on my site (or the RSS feed is invalid)

This can happen when there is a theme or plugin conflict. Please visit our [Diagnosing Feed and/or Player Issues](https://blubrry.com/support/powerpress-documentation/diagnosing-feed-andor-player-issues-with-powerpress/) for instructions how to resolve such issues.

## Reviews

![](https://secure.gravatar.com/avatar/a151d307ee54648f9c6d0a70c00eeee72c5ce632846d78502b796cd68fe2edb4?s=60&d=retro&r=g)
### [Interface is a mess, no cpt](https://wordpress.org/support/topic/interface-is-a-mess-no-cpt/)

[Anonymous User 11986954](https://profiles.wordpress.org/anonymized-11986954/ "Posts by Anonymous User 11986954")
January 12, 2024
1 reply

Not event bothered to use a custom post type. The interface is a mess.

![](https://secure.gravatar.com/avatar/4960b349377bdad34f19f86540918c033a673129bba38e55b82c7e8c110ed114?s=60&d=retro&r=g)
### [Super!](https://wordpress.org/support/topic/super-2890/)

[rima](https://profiles.wordpress.org/ifixwordpress/ "Posts by rima")
November 22, 2023

The Plugin, the Team, the Support, everything is STELLAR. Kudos to an amazing developer!

![](https://secure.gravatar.com/avatar/76bf85785f06c9a43d8f109bb16dbbc3c1d66f211999f06ae161d12b9ad53d8c?s=60&d=retro&r=g)
### [Terrible, Buggy Plugin](https://wordpress.org/support/topic/terrible-buggy-plugin-2/)

[iamklove](https://profiles.wordpress.org/iamklove/ "Posts by iamklove")
May 11, 2023
3 replies

This plugin does not work at all. I tried it once, then deactivated and deleted it.
Later on, I decided to give it another shot. Somehow, even though I had cleared the WP cache and dropped any and all parts of the database, it remembered the podcast. So, I couldn’t import the episodes, because this stupid plugin said they already existed.
There’s no way for me to delete the podcast and start over.
Huge waste of time.

![](https://secure.gravatar.com/avatar/7a0fd818983c9497fbe45adcf0dd9c4250850da0e036e48a6e668f112ce24cec?s=60&d=retro&r=g)
### [Awesome Performance](https://wordpress.org/support/topic/awesome-performance-7/)

[Masum Billah](https://profiles.wordpress.org/masumwp/ "Posts by Masum Billah")
April 23, 2023

One-stop podcast solution

![](https://secure.gravatar.com/avatar/9bb98e45ec2dc97ad64a02a0f2023e4227dd199739db0c4bb3ebf78b8d6e49c5?s=60&d=retro&r=g)
### [A Real Workhorse…](https://wordpress.org/support/topic/a-real-workhorse/)

[brothered2021](https://profiles.wordpress.org/brothered2021/ "Posts by brothered2021")
June 7, 2022

I’ve been using this now for almost 7 years, with about 250-300 podcasts per year. There have been some blips, some caused by own ignorance and some hiccups in the software but all in all it’s been a real workhorse and has been one of the focal points of the podcast. The support team is outstanding and they’ve been gracious and patient with me.
Can’t recommend this enough…

![](https://secure.gravatar.com/avatar/75974316173beb03ae0172db9aa3b262d72e7c3ff76b4b624c9d03cadfc5c942?s=60&d=retro&r=g)
### [Misunderstood](https://wordpress.org/support/topic/is-good-18/)

[ali3oli](https://profiles.wordpress.org/ali3oli/ "Posts by ali3oli")
May 8, 2021
1 reply

Misunderstood

[Read all 229 reviews](https://wordpress.org/support/plugin/powerpress/reviews/)
## Contributors & Developers

“PowerPress Podcasting plugin by Blubrry” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/0cc80b3c7477d4c43816adc9097d0104394141aed7c6fc7a9d652d3d8f1daf0e?s=32&d=mm&r=g) [Angelo Mandato](https://profiles.wordpress.org/amandato/)
* ![](https://secure.gravatar.com/avatar/d3a6fd7d751abbe02685f061760a3274d7c8a2e4e03d098405cd17f80b447309?s=32&d=mm&r=g) [blubrry](https://profiles.wordpress.org/blubrry/)

“PowerPress Podcasting plugin by Blubrry” has been translated into 3 locales. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/powerpress/contributors) for their contributions.

[Translate “PowerPress Podcasting plugin by Blubrry” into your language.](https://translate.wordpress.org/projects/wp-plugins/powerpress)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/powerpress/), check out the [SVN repository](https://plugins.svn.wordpress.org/powerpress/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/powerpress/) by [RSS](https://plugins.trac.wordpress.org/log/powerpress/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 11.10.11

* Released on 01/08/2025
* Fixed onboarding related bugs for post type podcasting

#### 11.10.10

* Released on 01/06/2025
* Prevent deprecation message “Automatic conversion of false to array”

#### 11.10.9

* Released on 12/20/2024
* Bugfix for network section

#### 11.10.8

* Released on 12/09/2024
* Remove googleplay tags

#### 11.10.7

* Released on 12/09/2024
* Remove googleplay namespace
* Remove chartable redirect

#### 11.10.6

* Released on 11/27/2024
* Updated token check

#### 11.10.5

* Released on 11/25/2024
* Moved logic for Blubrry Programmatic Ads sync into a wpcron task

#### 11.10.4

* Released on 11/20/2024
* Fix poster image aspect ratio
* Hide Blubrry Podcast Directory destination for non-hosting customers
* Copy tweaks

#### 11.10.3

* Released on 11/4/2024
* Updates to Chartable warning

#### 11.10.2

* Released on 11/1/2024
* Tested with WP6.7
* Added a warning about Chartable shutting down

#### 11.10.1

* Released on 10/23/2024
* Bugfix in chapter builder
* Remove Submit to TuneIn instructions, as they are no longer accepting podcast submissions

#### 11.10.0

* Released on 10/21/2024
* Update to support multiple alternate enclosures
* Add contentLink tag

#### 11.9.19

* Released on 10/09/2024
* Security Updates

#### 11.9.18

* Released on 09/30/2024
* Updated location of rawvoice namespace declaration
* Security Updates

#### 11.9.17

* Released on 08/21/2024
* Fixed a PHP error in edit post screen

#### 11.9.16

* Released on 08/14/2024
* Fixed some PHP warnings

#### 11.9.15

* Released on 08/05/2024
* Fix Playlist Player embed code update
* Fix open tags warning

#### 11.9.14

* Released on 07/24/2024
* Delete more unused files

#### 11.9.13

* Released on 07/22/2024
* Bugfix related to the Access-Control-Allow-Origin header added last update
* Remove podcast status from welcome page
* Delete unused files

#### 11.9.12

* Released on 07/15/2024
* Added course option to medium tag
* Added ‘Access-Control-Allow-Origin: \*’ to feeds

#### 11.9.11

* Released on 07/10/2024
* Security updates

#### 11.9.10

* Released on 07/10/2024
* Free Transcription messaging for July

#### 11.9.9

* Released on 07/02/2024
* Further improved efficiency of user query

#### 11.9.8

* Released on 07/01/2024
* Improved efficiency of user query
* Updated messaging and added contact link

= 11.9.5 – 11.9.7

\* Reverted previous versions

#### 11.9.2

* Released on 06/12/2024
* Syntax fix
* Bugfix episode for duration
* Hide ‘show under media player’ checkboxes in destinations unless ‘Display subscribe links below player and media links’ is selected

#### 11.9.1

* Released on 06/03/2024
* Changed alternate enclosure type for YouTube URLs

#### 11.9

* Released on 05/22/2024
* Added support for one alternate enclosure in feed

#### 11.8.3

* Released on 05/13/2024
* Bugfix for Amazon Music destination in feed
* Removed note about 300 episode limit

#### 11.8.2

* Released on 04/29/2024
* Revert copy and restore backend Add Capability functionality for User Role Management

#### 11.8.1

* Released on 04/24/2024
* Copy update to clarify User Role Management

#### 11.8

* Released on 04/15/2024
* Detect transcript plan for Blubrry users and auto-select generate if necessary

#### 11.7.7

* Released on 04/01/2024
* Enable subscribe sidebar widget on taxonomy feeds

#### 11.7.6

* Released on 03/27/2024
* Bugfix related to undefined variable

#### 11.7.5

* Released on 03/27/2024
* Styling issue on uploader

#### 11.7.4

* Released on 03/26/2024
* Bugfix relating to Statistics Widget

#### 11.7.3

* Released on 03/20/2024
* Bugfix relating to artwork in the blubrry player

#### 11.7.2

* Released on 03/18/2024
* Bugfix to refresh Blubrry stats more often
* Updates to the readme description

#### 11.7.1

* Released on 03/13/2024
* Fixed the Live Item times in the feed
* Added new tag to ensure Blubrry has the correct timezone for live items

#### 11.7

* Released on 03/11/2024
* Updated the rawvoice:subscribe tag with newer destinations
* Revamped the chapter builder
* Removed Google Podcasts as a destination
* Security updates

#### 11.6.6

* Released on 03/05/2024
* Updated spacing between Podcast and Subscribe rows beneath the player within a post

#### 11.6.5

* Released on 02/29/2024
* Fixed issue with player embed links

#### 11.6.4

* Released on 02/28/2024
* Fixed a bug that was preventing value time splits from showing up in podcast episodes in some category feeds

#### 11.6.3

* Released on 02/21/2024
* Security updates

#### 11.6.2

* Released on 02/20/2024
* Versioning issue

#### 11.6.1

* Released on 02/20/2024
* Added check for valid string before json decoding

#### 11.6

* Released on 02/19/2024
* Updates to Blubrry Player

#### 11.5.2

* Released on 02/12/2024
* Implemented security updates

#### 11.5.1

* Released on 02/06/2024
* Fix destinations icons

#### 11.5

* Released on 02/06/2024
* Bugfix in onboarding where show info was getting double-encoded for Blubrry signups
* Added Youtube Music as a destination

#### 11.4.5

* Released on 01/24/2024
* Versioning issue

#### 11.4.4

* Released on 01/24/2024
* Fix undefined index errors in onboarding

#### 11.4.3

* Released on 01/17/2024
* Don’t render podcast guid when feed url empty

#### 11.4.2

* Released on 01/15/2024
* Remove old classic player spacing from code

#### 11.4.1

* Released on 01/08/2024
* Enable feed email by default

#### 11.4

* Released on 12/11/2023
* Values Time Split tag
* Onboarding redesign
* Exclude podcast episode box from pages

#### 11.3.1

* Released on 11/29/2023
* JS syntax bugfix where feed slugs with hyphens were being used as js variables

#### 11.3

* Released on 11/15/2023
* Added Podcasting 2.0 tags: Remote Item/Podroll, Update Frequency, and Block

#### 11.2.4

* Released on 11/08/2023
* Added a setting to specify whether the user needs to display errors in the block

#### 11.2.3

* Released on 10/31/2023
* Added aac to recognized file types
* Small bugfix on player page for non-blubrry customers

#### 11.2.2

* Released on 10/30/2023
* Botched version number in the last release

#### 11.2.1

* Released on 10/30/2023
* CSS bugfixes
* Removed Stitcher from plugin description

#### 11.2

* Released on 10/23/2023
* Allow editing of chapters before uploading media

#### 11.1

* Released on 10/16/2023
* Remove Stitcher from destinations

#### 11.0.14

* Released on 10/04/2023
* Bugfix for fresh install (no player selected)

#### 11.0.13

* Released on 09/27/2023
* Fixed small live item bugs
* Regex fix for hostname validation
* Re-add user role management option

#### 11.0.12

* Released on 09/19/2023
* Escaped user input URL

#### 11.0.11

* Released on 09/13/2023
* More security updates, in onboarding and network sections

#### 11.0.10

* Released on 09/11/2023
* Fixed bug with Live Item settings displaying incorrect channel
* Bugfix for transcript generation for Blubrry users

#### 11.0.9

* Released on 09/07/2023
* PHP 8.1 compatibility issue
* Sanitize media url field to prevent XSS

#### 11.0.8

* Released on 09/06/2023
* Tightened the new security checks and added clarification to new warning
* Updated copy for display player setting

#### 11.0.7

* Released on 09/05/2023
* Added additional security checks to media verification feature
* Bugfix for undefined function register\_block\_type()

#### 11.0.6

* Released on 08/28/2023
* Update feed values for explicit to ‘true’ and ‘false’

#### 11.0.5

* Released on 08/21/2023
* Remove defunct ‘User Role Management’ option
* Fix to alleviate rare Blubrry Player bugs

#### 11.0.4

* Released on 08/16/2023
* Remove ‘Use as Apple Podcasts Episode Image’ option

#### 11.0.3

* Released on 08/16/2023
* Fix the PowerPress Player block
* Remove RSS2 image, use Apple Podcasts Image in all places

#### 11.0.2

* Released on 08/15/2023
* Correct version number issue

#### 11.0.1

* Released on 08/15/2023
* Undo the PowerPress Player block

#### 11.0

* Released on 08/14/2023
* New PowerPress Player block

#### 10.6.1

* Released on 08/02/2023
* Compatibility with WP6.3
* Minor PHP fixes
* Remove link to survey

#### 10.6

* Released on 07/31/2023
* Compatibility with PHP8.1

#### 10.5

* Released on 07/17/2023
* Added podping tag
* Option to match existing posts by title when importing a podcast feed
* Fixed some small bugs with the player

#### 10.4

* Added logic to handle a post being moved to the trash bin for the player

#### 10.3

* Released on 07/05/2023
* Blubrry Modern Playlist Player
* Blubrry Modern Most Recent Episode Player
* Destinations admin section facelift

#### 10.2.4

* Released on 06/06/2023
* Security update

#### 10.2.3

* Released on 05/31/2023
* Fixed issue preventing storage space error from showing up
* Added chapter export functionality
* Fixed an issue with sideloading program-level artwork

#### 10.2.2

* Released on 05/30/2023
* Fixed styling issue with chapter builder

#### 10.2.1

* Released on 05/30/2023
* Fixed bug with explicit settings

#### 10.2

* Released on 05/30/2023
* Chapter builder interface

#### 10.1

* Released on 05/15/2023
* Added medium, soundbite, and social interact tags from podcast 2.0 namespace

#### 10.0.8

* Released on 05/08/2023
* Update URL for podcastindex namespace
* Fixed bug with trailer tag
* Fixed bug with episode type

#### 10.0.7

* Released on 04/20/2023
* Readd trailer tag logic with bug fixed

#### 10.0.6

* Released on 04/20/2023
* Hide trailer tag logic

#### 10.0.5

* Released on 04/19/2023
* Bugfix for trailer tag
* Add Create Show Page to network section

#### 10.0.4

* Released on 04/17/2023
* Bugfix in player

#### 10.0.3

* Released on 04/14/2023
* Bugfix for trailer tag

#### 10.0.2

* Released on 04/14/2023
* Bugfix in shortcodes
* Another security update for shortcodes

#### 10.0.1

* Released on 04/10/2023
* Bugfix in suscribe widget
* Stop disabling widget block editor
* Security updates for shortcodes

#### 10.0

* Released on 04/06/2023
* Network section redesign
* New features: Add program to list, undo applicant status, delete rejected applicant

#### 9.10.5

* Released on 03/07/2023
* Fixed bug with taxonomy terms
* Made feed email optional

#### 9.10.4

* Released on 02/23/2023
* Fixed bug related to duplicate GUIDs

#### 9.10.3

* Released on 02/22/2023
* Fix bugs relating to pulling episode data into the Blubrry player
* Option to exclude space below Blubrry Modern Player
* Fix characters warning on Blubrry Programmatic Advertising media URLs

#### 9.10.2

* Released on 02/20/2023
* Value Tag – Strip whitespace from entered lightning address
* GUID – Fixed bug where multiple shows could have the same GUID

#### 9.10.1

* Released on 02/13/2023
* Live Item Tag – Updated GUID functionality
* Live Item Tag – Added HLS media type
* Miscellaneous PHP warnings
* Minor display updates
* Uploader bugfix

#### 9.10

* Released on 02/03/2023
* Live Item Tag

#### 9.9.1

* Released on 01/25/2023
* Minified css to fix styling

#### 9.9

* Released on 01/25/2023
* Small bugfixes
* New Podcast 2.0 tags

#### 9.8.1

* Released on 01/19/2023
* Enable Media Mastering for Blubrry users

#### 9.8

* Released on 01/16/2023
* Updated statistics redirect copy to stats prefix
* Support for Media Mastering for Blubrry users

#### 9.7.4

* Released on 12/07/2022
* Bugfix for artwork uploader
* Other small bugfixes
* Added Swahili to podcast feed language options

#### 9.7.3

* Released on 11/17/2022
* Bugfixes for the Post Type Podcasting page
* Open destinations links in a new tab

#### 9.7.2

* Released on 11/07/2022
* Bugfixes for feed artwork and subscribe page styling

#### 9.7.1

* Released on 11/02/2022
* Bugfix where posts with Blubrry programmatic ads would switch back to no ads when updated

#### 9.7

* Released on 10/31/2022
* New subscribe page design

#### 9.6.1

* Released on 10/24/2022
* Various bugfixes
* Refactored Channels page and added missing ajax div
* Refactored form submission on Category page

#### 9.6

* Released on 10/10/2022
* Redesign pages for tools, channels, categories, taxonomies, and post types
* Add Buzzsprout import option

#### 9.5.2

* Released on 10/12/2022
* Bugfix for division by zero

#### 9.5.1

* Released on 09/30/2022
* Allow transcripts for past episodes to be generated
* Allow users to hide the RSS link
* Bugfixes in media\_info check and stats prefix settings

#### 9.5

* Released on 09/26/2022
* Moved MP3 Tag settings to Feed settings
* Updated styling on player pages
* Podping implementation

#### 9.4.2

* Released on 09/20/2022
* Bugfix

#### 9.4.1

* Released on 09/19/2022
* Bugfix for Modern Player Customization
* Bugfix for modern player embed link

#### 9.4

* Released on 09/12/2022
* Customization for Modern Blubrry Player
* Bugfix for generating transcripts

#### 9.3.1

* Released on 09/07/2022
* Language selection for transcripts thru Blubrry
* Bugfix for transcripts

#### 9.3

* Released on 08/22/2022
* Support for transcripts thru Blubrry

#### 9.2.1

* Released on 08/23/2022
* Bugfix for Blubrry Programmatic Ads

#### 9.2

* Released on 08/17/2022
* Support for Programmatic Ads thru Blubrry

#### 9.1.4

* Released on 08/03/2022
* Encode html special characters in media URLs
* Allow more characters for certain Blubrry media URLs

#### 9.1.3

* Released on 07/27/2022
* Updated wording for ‘Stats Prefix’
* Allow some HTML tags in descriptions in the PowerPress Network section

#### 9.1.2

* Released on 07/18/2022
* Small bugfixes for podcast publishing

#### 9.1.1

* Released on 06/08/2022
* Bugfix for pro hosting Blubrry customers

#### 9.1

* Released on 06/01/2022
* Revamped the migration flow for Blubrry hosting customers

#### 9.0.4

* Released on 05/25/2022
* Small bugfixes
* Styling tweaks on Welcome tab in PowerPress Settings

#### 9.0.3

* Released on 05/11/2022
* Disabled php notices in podcast feeds
* Removed ‘No Default’ option
* Fixed a bug causing some to see an error that podcast data had been entered

#### 9.0.2

* Released on 04/19/2022
* Fixed a strict category mode bug, where the player was added to non-podcast posts

#### 9.0.1

* Released on 04/11/2022
* Fixed a bug in the network section related to application submission
* Fixed a bug related to the new PowerPress migration alert
* Added rel=”captions” attribute to podcast:transcript tag
* Prevent episode numbers like 2.0 from going into the feed–ints only
* Added podcast description to onboarding
* Insert author name during Blubrry onboarding

#### 9.0

* Released on 03/08/2022
* Updated feed import flow
* Updated media migration flow
* Updated Blubrry signin flow

#### 8.7.14

* Released on 03/30/2022
* Fixed publishing bug that was affecting multi-program users
* Allow podcast data to be saved to a post without a media URL (while excluding that post from podcast feeds)

#### 8.7.13

* Released on 03/21/2022
* Fixed media publishing bug

#### 8.7.12

* Released on 03/18/2022
* Fixed verify media bug

#### 8.7.11

* Released on 03/02/2022
* Fixed verify media bug for drafts
* Fixed clear cache button in network section
* Clear cache on application accept

#### 8.7.10

* Released on 02/07/2022
* Removed warning for Blubrry media URLs with query strings
* Compatibility with WordPress 5.9
* Added warning for PHP max query vars reached for sites with many podcast channels (commented until link is fixed)

#### 8.7.9

* Released on 01/10/2022
* Fixed PHP8 fatal error
* Fixed a bug with Blubrry account linking
* Fixed a bug related to Blubrry uploader cross-origin issues

#### 8.7.8

* Released on 11/22/2021
* Bugfix for already published media

#### 8.7.7

* Released on 11/15/2021
* Bugfix for media publishing filename issue

#### 8.7.6

* Released on 11/04/2021
* Solved a bug in the wp\_audio\_shortcode\_override action
* Added 2021 icon sprites
* Added wp\_nonce to admin-ajax actions
* Updated links to Blubrry hosting onboarding

#### 8.7.5

* Released on 10/25/2021
* Solved a bug that occurred when detecting a filetype on media with a query string

#### 8.7.4

* Released on 10/04/2021
* Fixed a missing CSS issue in the onboarding section
* Updated copy
* Allow query strings in media from trusted hosts

#### 8.7.3

* Released on 09/13/2021
* Corrected admin url in several places to exclude unnecessary admin.php

#### 8.7.2

* Released on 09/01/2021
* Solved conflict with woocommerce
* Updated video and image in readme
* Added title attribute to Blubrry player for ADA compliance

#### 8.7.1

* Released on 08/18/2021
* Start sending website admin URL on migrate for Blubrry users

#### 8.7

* Released 07/19/2021
* Bugfixes in the PowerPress Network section

#### 8.6.6

* Released 06/09/2021
* Added a setting to suppress itunes:author, itunes:isClosedCaptioned, itunes:summary, and itunes:subtitle inside item tags
* Small bugfix in stats widget area
* Stop caching list of applicants in network section

#### 8.6.5

* Released 06/02/2021
* Bypass caching in network-related API calls
* Start sending website admin URL for Blubrry users

#### 8.6.4

* Released 05/19/2021
* Small bugfix from today’s earlier release

#### 8.6.3

* Released 05/19/2021
* Small bugfixes

#### 8.6.2

* Released 05/10/2021
* Bugfixes in Blubrry uploader, network subscribe widget, and channel CSS
* Fixed a vulnerability in the PowerPress Settings section pointed out by Darius Sveikauskas

#### 8.6.1

* Released 05/04/2021
* Fixed a bug related to the stats data cache

#### 8.6

* Released 05/03/2021
* Add Blubrry stats widget to WordPress dashboard and PowerPress settings
* Remove deprecated Post to Social feature
* Small bug fixes
* Changes to links and Blubrry messages
* 8.5.8 =
* Released on 04/29/2021
* Fixed a PowerPress uploader bug introduced in a chrome update

#### 8.5.7

* Released 04/22/2021
* Fixed a bug in the PowerPress Network area

#### 8.5.6

* Released 04/14/2021
* Fixed Create New Episode button for Post Type feeds
* Fixed soon-to-be broken assets2.blubrry.com links
* Small bugfixes

#### 8.5.5

* Released 04/08/2021
* Accept JSON uploads in episode box
* Small bugfix for PHP strpos error in feed auth
* Remove unnecessary link in migrate area

#### 8.5.4

* Released 03/26/2021
* Remove broken YouTube link from readme

#### 8.5.3

* Released 03/12/2021
* Podcast Index namespace-related bugfix

#### 8.5.2

* Released 03/12/2021
* Podcast Index namespace-related bugfix

#### 8.5.1

* Released 03/10/2021
* Bugfix–added Podcast Index namespace

#### 8.5

* Released 03/10/2021
* Added settings for Podcast Index tags: locked, location, funding, transcript, chapters
* Several small bug fixes

#### 8.4.8

* Released 01/13/2021
* Fixed a bug in the Blubrry account linking

#### 8.4.7

* Released 12/22/2020
* Added destinations for JioSaavn, Gaana, and Podchaser
* Added destinations to the rawvoice:subscribe tag in the feed

#### 8.4.6

* Released 12/08/2020
* Tested with WordPress version 5.6
* Added query string so as to circumvent server caching when grabbing Blubrry shows associated to account
* Updated readme with up-to-date information about the plugin

#### 8.4.5

* Released 11/30/2020
* Fixed CSRF security vulnerabilities inside the new login
* Fixed XSS vulnerabilities in metamarks function
* Replaced deprecated wp\_make\_content\_images\_responsive with wp\_filter\_content\_tags
* Fixed a bug that was causing the text color to be white in the Title input in post editor

#### 8.4.4

* Released 11/17/2020
* Re-ordered destinations to better integrate new Amazon Music and Podcast Index
* Updated the episode box so that if validation is skipped, the user doesn’t have to click Edit Media to edit
* No longer forcing Apple or Google icons in any locations
* Made an adjustment for the modern Blubrry icon–was getting cut off on Chrome for Mac
* Fixed text in amazon music subscribe link under player–previously said “Blubrry”

#### 8.4.3

* Released 11/6/2020
* Fixed text in podcast index subscribe link under player–previously said “Blubrry”
* Re-added Unlink option if there is an error in Connected to Blubrry Account menu

#### 8.4.2

* Released 11/5/2020
* Added subscribe links for Podcast Index
* Fixed a JS error

#### 8.4.1

* Released 10/29/2020
* Refactored sprites so new icons would show up
* Deleted leftover code that was tagging PowerPress Network as its own plugin

#### 8.4

* Released 10/29/2020
* Network Mode setting renamed to Multi-Program Mode
* Added Destinations for Amazon Music and Podcast Index
* Merged PowerPress Network plugin into PowerPress
* Switched Blubrry authentication method to oauth2

#### 8.3.8

* Released 10/08/2020
* Fixed a security vulnerability concerning image uploads
* Small bugfix so that welcome tab of settings page shows the correct feed info

#### 8.3.7

* Released 08/31/2020
* Fixed a bug that was displaying subscribe links that had not been set
* Fixed a couple bugs that were throwing PHP errors

#### 8.3.6

* Released 08/24/2020
* Fixed a bug in the player settings tab that was messing with episode artwork setting
* Re-added ‘Disable Blubrry Stats in Dasboard’ option, into Advanced Settings
* Fixed a jQuery bug

#### 8.3.5

* Released 08/11/2020
* Small bugfix
* Tested with WordPress 5.5 beta

#### 8.3.4

* Released 07/01/2020
* Added Farsi language
* Small CSS fixes
* Stopped showing general ‘feeds’ settings for custom feeds
* Fixed a bug where the Subscription Links Under Player setting wasn’t saving

#### 8.3.3

* Released 06/03/2020
* Styled news items in WP Dashboard
* Fixed a bug where artwork settings weren’t saving properly
* Fxied bug where player link options would not save correctly

#### 8.3.2

* Released 06/02/2020
* Added a check in the welcome page so that if there are >1000 posts, powerpress won’t query all of them
* Added the Save button back to Audio Player, Video Player, and MP3 Tags Settings pages which it had been removed from
* Started using WordPress functions to link JS code, as tags were causing an issue

#### 8.3.1

* Released 06/01/2020
* Bug fix to artwork upload in Settings

#### 8.3

* Released 06/01/2020
* Fresh new appearance for PowerPress settings tabs
* Now, helpful info about your show and its progress appear at the top of the Welcome tab
* Destinations-related settings consolidated to the Destinations tab
* Podcast SEO and Advanced Settings are now within the Settings tabs

#### 8.2.11

* Released 04/29/2020
* Entry Box Settings are back–this time, find them by clicking the gear in the upper right of the entry box
* The Permalinks setting has been moved from the Website tab in Settings to the new Entry Box Settings
* Fixed a bug from 8.2.10 where media couldn’t be removed from a post
* Fixed a bug where “Verify” error messages were not showing up in the right spot

#### 8.2.10

* Released 04/23/2020
* Update design for episode box–media URL section and Remove Episode moved
* Artwork previews now will use default images rather than broken ones
* Fixed a compatibility issue with older php versions

#### 8.2.9

* Released 04/03/2020
* Corrected a typo in Non-Profit Apple category
* Fixed bug with PodPress data clobbering an already imported episode in certain circumstances.
* Added logic to handle importing with all supported Blubrry media URLs.

#### 8.2.8

* Released 3/30/2020
* Tested with new WordPress 5.4 beta
* Subscribe on Email is now toggled by the checkbox in the Settings tab
* Fixed a bug where Apple category tags with no subcategory were not generated correctly

#### 8.2.7

* Released 3/20/2020
* Stopped filling a default season number
* Started displaying all of PowerPress to new installs so that the Settings link isn’t broken on the Plugins page
* Fixed a bug where GUIDs were not preserved on import for some feeds with newer versions of WordPress
* Added the dark theme again which was mistakenly removed from the minified CSS file
* Deleted notification about Apple’s category changes
* Fixed a number of small CSS problems

#### 8.2.6

* Released 3/4/2020
* Fixed a bug that was messing with some users’ season numbers
* Added an option in Settings to display the whole episode box (as opposed to verifying the media link before allowing any metadata to be entered)
* Fixed a bug that was being caused by translated characters
* Corrected the powerpress player shortcode [powerpress] in the episode box
* Fixed some smaller bugs dealing with the functionality of the tabs and the artwork preview for multiple categories

#### 8.2.5

* Released 2/20/2020
* Fixed a bug that was preventing the explicit setting from saving

#### 8.2.4

* Released 2/18/2020
* Minified CSS files for faster loading times
* Consolidated CSS classes and gave them more unique names so as to avoid conflict with other plugins
* Added the ability for PowerPress to remember the season of the last episode published and put this as a default value in this field for new posts
* Made poster image setting visible to all

#### 8.2.3

* Released 2/13/2020
* Added Remove Episode option back into episode box
* Fixed a bug where title input wasn’t showing up (for users who had selected to specify an episode title)
* Season value is now allowed to be empty
* Added a label for the explicit setting
* Fixed a bug where the settings for the player size weren’t showing up for video media

#### 8.2.2

* Released 2/12/2020
* Tweaked id3 library so as to prevent php compatibility errors
* Fixed a bug that was throwing an error in the subscribe widget
* Slight CSS tweaks

#### 8.2.1

* Released 2/11/2020
* Fixed editor detection–now styling/responsiveness will accommodate for classic editor
* Fixed a bug where the .js file wasn’t getting loaded for everyone
* Fixed a bug that would reload the page when a “View More”-type link was clicked

#### 8.2

* Released 2/10/2020
* Eliminated Episode tab–whole episode box appears
* New interface with multiple tabs and cleaner, clearer settings
* Media link is now verified automatically
* Updated id3 library to be compatible with PHP 7.4

#### 8.1.2

* Released 1/17/2020
* Now, if users define(‘POWERPRESS\_NO\_REMOVE\_WP\_HEAD’), links will not be removed from webpage head
* Updated readme to reflect that PowerPress is compatible with the most recent version of WordPress

#### 8.1.1

* Added images that were missing in the Getting Started section

#### 8.1

* Eliminated Simple Mode
* Replaced Simple Mode with a Getting Started section which shows up the first time someone opens PowerPress
* Getting Started includes feed info settings, feed import, and media migration
* Getting Started can also be revisited at any time
* Added trim call for ajax returns in case website is sending extra new lines due to a theme or plugin
* Now using the latest media detection library (getid3) in WordPress

#### 8.0.3

* Released on 11/15/2019
* Added titles to iframes so as to be compliant with ADA
* Made a styling tweak in the subscribe shortcode
* Now, all three Apple categories will show up regardless of whether they are set
* Users can no longer hide certain ios11 settings in their Tools tab

#### 8.0.2

* Released on 10/24/2019
* Brought back the ability to render black subscribe buttons using [powerpress\_subscribe style=”dark”] (Thanks @vennstone for bringing to our attention!)
* Improved custom CSS setting so that !important tags could be stripped from subscribe sidebar widgets (Thanks Bree @lifesgood for pointing out the problem)
* Feed Landing Page URL setting can now be set for the default podcast feed (Thanks Daniel for the suggestion)
* Next week, we will release an update to Blubrry’s Media uploader to work better within PowerPress so that it is more accessible with text reading software such as JAWS and ZoomText (Thanks Gary for helping us!)
* Added support for the WPML plugin (Thanks David and Bobby from WPML!)
* Configured Websub publish API call timeout to 3 seconds.

#### 8.0.1

* Released on 10/09/2019
* Fixed submit links for iHeartRadio, Deezer, and Pandora
* Deleted Google Play Image settings

#### 8.0

* Released on 10/7/2019
* New Subscribe Destinations added:

  \*\* Deezer – Anyone can now submit their podcast to Deezer with just a blubrry.com account. [Learn more](https://powerpresspodcast.com/2019/08/07/blubrry-podcasts-coming-deezer/)

  \*\* Pandora – [Submit your podcast to Pandora](https://blubrry.com/manual/podcast-promotion/submit-podcast-to-pandora/)

  \*\* iHeart – [Submit your podcast to iHeart radio](https://blubrry.com/manual/podcast-promotion/submit-podcast-to-iheartradio/).
* New *Subscribe* button styling options!!!

  \*\* Buttons now use an SVG sprite, providing a small footprint while being optimized for retina displays. Subscribe buttons have never been so crisp!

  \*\* There is a new “Modern” color scheme, with the traditional square or new rounded corners.

  \*\* Subscribe Widget can now be configured horizontally for use in horizontal widget areas.
* Added an option to remove !important and text-align left styling to subscribe buttons.
* Switched the `plugin_action_links` filter to use `array_push` function call to avoid notice messages when another plugin or theme converts the links array to a string.
* Fixed bug since recent update to WordPress where the default feed had the word feed in the URL twice. (Thanks Daniel for pointing out the issue!)

#### 7.5.4

* Released on 8/30/2019
* Apple category “After Shows” updated.
* Now using the https version for (castfeedvalidator.com)[https://castfeedlivadator.com] when clicking validate for feeds.
* CastFeedValidator diagnoses problems with your feed that could be preventing your episodes from …

## Meta

* Version **11.10.11**
* Last updated **3 days ago**
* Active installations **30,000+**
* WordPress version **3.6 or higher**
* Tested up to **6.7.1**
* PHP version **5.2 or higher**
* Languages
  See all 4

  Close

  [Danish](https://da.wordpress.org/plugins/powerpress/), [English (US)](https://wordpress.org/plugins/powerpress/), [Spanish (Spain)](https://es.wordpress.org/plugins/powerpress/), and [Spanish (Venezuela)](https://ve.wordpress.org/plugins/powerpress/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/powerpress)
* Tags [itunes](https://wordpress.org/plugins/tags/itunes/)[podcast](https://wordpress.org/plugins/tags/podcast/)[podcaster](https://wordpress.org/plugins/tags/podcaster/)[podcasting](https://wordpress.org/plugins/tags/podcasting/)[powerpress](https://wordpress.org/plugins/tags/powerpress/)
* [Advanced View](https://wordpress.org/plugins/powerpress/advanced/)

## Ratings

4.6 out of 5 stars.

* [197 5-star reviews
  5 stars

  197](https://wordpress.org/support/plugin/powerpress/reviews/?filter=5)
* [10 4-star reviews
  4 stars

  10](https://wordpress.org/support/plugin/powerpress/reviews/?filter=4)
* [3 3-star reviews
  3 stars

  3](https://wordpress.org/support/plugin/powerpress/reviews/?filter=3)
* [5 2-star reviews
  2 stars

  5](https://wordpress.org/support/plugin/powerpress/reviews/?filter=2)
* [14 1-star reviews
  1 star

  14](https://wordpress.org/support/plugin/powerpress/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/powerpress/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/powerpress/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/0cc80b3c7477d4c43816adc9097d0104394141aed7c6fc7a9d652d3d8f1daf0e?s=32&d=mm&r=g) [Angelo Mandato](https://profiles.wordpress.org/amandato/)
* ![](https://secure.gravatar.com/avatar/d3a6fd7d751abbe02685f061760a3274d7c8a2e4e03d098405cd17f80b447309?s=32&d=mm&r=g) [blubrry](https://profiles.wordpress.org/blubrry/)
## Support

Issues resolved in last two months:

5 out of 9

[View support forum](https://wordpress.org/support/plugin/powerpress/)

## Donate

Would you like to support the advancement of this plugin?

[Donate to this plugin](https://blubrry.com/services/podcast-hosting/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_ab927a32_20250111_155402.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# PowerPress Podcasting plugin by Blubrry <= 11.9.10 - Authenticated (Contributor+) Stored Cross-Site Scripting via media\_url Parameter

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   PowerPress Podcasting plugin by Blubrry <= 11.9.10 - Authenticated (Contributor+) Stored Cross-Site Scripting via media\_url Parameter

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-6588](https://www.cve.org/CVERecord?id=CVE-2024-6588) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | July 11, 2024 |
| Last Updated | July 12, 2024 |
| Researcher | [Webbernaut](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/webbernaut) |

### Description

The PowerPress Podcasting plugin by Blubrry plugin for WordPress is vulnerable to Reflected Cross-Site Scripting via the ‘media\_url’ parameter in all versions up to, and including, 11.9.10 due to insufficient input sanitization and output escaping. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that execute if they can successfully trick a user into performing an action such as clicking on a link.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/powerpress/trunk/powerpress-player.php#L1015)
* [wordpress.org](https://wordpress.org/plugins/powerpress/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3115881/#file0)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpowerpress%2Fpowerpress-podcasting-plugin-by-blubrry-11910-authenticated-contributor-stored-cross-site-scripting-via-media-url-parameter&t=PowerPress%20Podcasting%20plugin%20by%20Blubrry%20%3C%3D%2011.9.10%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20media_url%20Parameter "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpowerpress%2Fpowerpress-podcasting-plugin-by-blubrry-11910-authenticated-contributor-stored-cross-site-scripting-via-media-url-parameter&text=PowerPress%20Podcasting%20plugin%20by%20Blubrry%20%3C%3D%2011.9.10%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20media_url%20Parameter "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fpowerpress%2Fpowerpress-podcasting-plugin-by-blubrry-11910-authenticated-contributor-stored-cross-site-scripting-via-media-url-parameter "LinkedIn")
Email

## Vulnerability Details for PowerPress Podcasting plugin by Blubrry

#### [PowerPress Podcasting plugin by Blubrry](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/powerpress)

| Software Type | Plugin |
| --- | --- |
| Software Slug | powerpress [(view on wordpress.org)](https://wordpress.org/plugins/powerpress) |
| Patched? | Yes |
| Remediation | Update to version 11.9.11, or a newer patched version |
| Affected Version | * <= 11.9.10 |
| Patched Version | * 11.9.11 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation


