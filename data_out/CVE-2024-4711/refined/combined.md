=== Content from plugins.trac.wordpress.org_2f5f588e_20250110_234052.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3095200%2540ajax-load-more%26old%3D3095200%2540ajax-load-more)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3084561/ajax-load-more "Changeset 3084561 for ajax-load-more")
* [Next Change](/changeset/3160896/ajax-load-more "Changeset 3160896 for ajax-load-more") →

---

# Changeset [3095200](/changeset/3095200 "Show full changeset") for [ajax-load-more](/browser/ajax-load-more?rev=3095200 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
05/30/2024 01:56:24 PM
([8 months](/timeline?from=2024-05-30T13%3A56%3A24Z&precision=second "See timeline at 05/30/2024 01:56:24 PM") ago)

Author:
dcooney
Message:

Update to version 7.1.2 from GitHub

Location:
[ajax-load-more](/browser/ajax-load-more?rev=3095200)
Files:

8 edited
1 copied

* [tags/7.1.2](/browser/ajax-load-more/tags/7.1.2?rev=3095200 "Show entry in browser")
  (copied)
  *(copied from [ajax-load-more/trunk](/browser/ajax-load-more/trunk?rev=3084561 "Show original file (revision 3095199)"))*
* [tags/7.1.2/README.txt](/browser/ajax-load-more/tags/7.1.2/README.txt?rev=3095200 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [tags/7.1.2/ajax-load-more.php](/browser/ajax-load-more/tags/7.1.2/ajax-load-more.php?rev=3095200 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [tags/7.1.2/core/classes/class-alm-shortcode.php](/browser/ajax-load-more/tags/7.1.2/core/classes/class-alm-shortcode.php?rev=3095200 "Show entry in browser")
  (modified)
  ([4 diffs](#file3 "Show differences"))
* [tags/7.1.2/lang/ajax-load-more.pot](/browser/ajax-load-more/tags/7.1.2/lang/ajax-load-more.pot?rev=3095200 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [trunk/README.txt](/browser/ajax-load-more/trunk/README.txt?rev=3095200 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [trunk/ajax-load-more.php](/browser/ajax-load-more/trunk/ajax-load-more.php?rev=3095200 "Show entry in browser")
  (modified)
  ([2 diffs](#file6 "Show differences"))
* [trunk/core/classes/class-alm-shortcode.php](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3095200 "Show entry in browser")
  (modified)
  ([4 diffs](#file7 "Show differences"))
* [trunk/lang/ajax-load-more.pot](/browser/ajax-load-more/trunk/lang/ajax-load-more.pot?rev=3095200 "Show entry in browser")
  (modified)
  ([2 diffs](#file8 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [ajax-load-more/tags/7.1.2/README.txt](/changeset/3095200/ajax-load-more/tags/7.1.2/README.txt "Show the changeset 3095200 restricted to ajax-load-more/tags/7.1.2/README.txt")

  | [r3084561](/browser/ajax-load-more/trunk/README.txt?rev=3084561#L6 "Show revision 3084561 of this file in browser") | [r3095200](/browser/ajax-load-more/tags/7.1.2/README.txt?rev=3095200#L6 "Show revision 3095200 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Requires PHP: 5.6 |
  | 7 | 7 | Tested up to: 6.5 |
  | 8 |  | Stable tag: 7.1.~~1~~ |
  |  | 8 | Stable tag: 7.1.2 |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/ajax-load-more/trunk/README.txt?rev=3084561#L261) | […](/browser/ajax-load-more/tags/7.1.2/README.txt?rev=3095200#L261) |  |
  | 261 | 261 | == Changelog == |
  | 262 | 262 |  |
  |  | 263 | = 7.1.2 - May 30, 2024 = |
  |  | 264 | \* FIX: Fixed issue with full article loading in Next Page add-on. |
  |  | 265 | \* UPDATE: Various security fixes. |
  |  | 266 |  |
  |  | 267 |  |
  | 263 | 268 | = 7.1.1 - May 10, 2024 = |
  | 264 | 269 | \* UPDATE: Added required functionality and support to allow for Next Page add-on to be used with Single Posts for full article loading with split pages. |
* ## [ajax-load-more/tags/7.1.2/ajax-load-more.php](/changeset/3095200/ajax-load-more/tags/7.1.2/ajax-load-more.php "Show the changeset 3095200 restricted to ajax-load-more/tags/7.1.2/ajax-load-more.php")

  | [r3084561](/browser/ajax-load-more/trunk/ajax-load-more.php?rev=3084561#L8 "Show revision 3084561 of this file in browser") | [r3095200](/browser/ajax-load-more/tags/7.1.2/ajax-load-more.php?rev=3095200#L8 "Show revision 3095200 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | \* Twitter: @KaptonKaos |
  | 9 | 9 | \* Author URI: https://connekthq.com |
  | 10 |  | \* Version: 7.1.~~1~~ |
  |  | 10 | \* Version: 7.1.2 |
  | 11 | 11 | \* License: GPL |
  | 12 | 12 | \* Copyright: Darren Cooney & Connekt Media |
  | […](/browser/ajax-load-more/trunk/ajax-load-more.php?rev=3084561#L15) | […](/browser/ajax-load-more/tags/7.1.2/ajax-load-more.php?rev=3095200#L15) |  |
  | 15 | 15 | \*/ |
  | 16 | 16 |  |
  | 17 |  | define( 'ALM\_VERSION', '7.1.~~1~~' ); |
  | 18 |  | define( 'ALM\_RELEASE', 'May ~~1~~0, 2024' ); |
  |  | 17 | define( 'ALM\_VERSION', '7.1.2' ); |
  |  | 18 | define( 'ALM\_RELEASE', 'May 30, 2024' ); |
  | 19 | 19 | define( 'ALM\_STORE\_URL', 'https://connekthq.com' ); |
  | 20 | 20 |  |
* ## [ajax-load-more/tags/7.1.2/core/classes/class-alm-shortcode.php](/changeset/3095200/ajax-load-more/tags/7.1.2/core/classes/class-alm-shortcode.php "Show the changeset 3095200 restricted to ajax-load-more/tags/7.1.2/core/classes/class-alm-shortcode.php")

  | [r3084561](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3084561#L254 "Show revision 3084561 of this file in browser") | [r3095200](/browser/ajax-load-more/tags/7.1.2/core/classes/class-alm-shortcode.php?rev=3095200#L254 "Show revision 3095200 of this file in browser") |  |
  | --- | --- | --- |
  | 254 | 254 | // phpcs:enable |
  | 255 | 255 |  |
  | 256 |  | $id = sanitize\_key( $id ); |
  |  | 256 | $id   = sanitize\_key( $id ); |
  |  | 257 | $vars = self::alm\_strip\_tags( $vars ); |
  | 257 | 258 |  |
  | 258 | 259 | // Elementor. |
  | […](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3084561#L1190) | […](/browser/ajax-load-more/tags/7.1.2/core/classes/class-alm-shortcode.php?rev=3095200#L1191) |  |
  | 1190 | 1191 |  |
  | 1191 | 1192 | // Button. |
  | 1192 |  | $ajaxloadmore .= ' data-button-label="' . ~~esc\_html~~( $button\_label ) . '"'; |
  | 1193 |  | $ajaxloadmore .= $button\_loading\_label ? ' data-button-loading-label="' . ~~esc\_html~~( $button\_loading\_label ) . '"' : ''; |
  | 1194 |  | $ajaxloadmore .= $button\_done\_label ? ' data-button-done-label="' . ~~esc\_html~~( $button\_done\_label ) . '"' : ''; |
  |  | 1193 | $ajaxloadmore .= ' data-button-label="' . self::alm\_strip\_tags( $button\_label ) . '"'; |
  |  | 1194 | $ajaxloadmore .= $button\_loading\_label ? ' data-button-loading-label="' . self::alm\_strip\_tags( $button\_loading\_label ) . '"' : ''; |
  |  | 1195 | $ajaxloadmore .= $button\_done\_label ? ' data-button-done-label="' . self::alm\_strip\_tags( $button\_done\_label ) . '"' : ''; |
  | 1195 | 1196 |  |
  | 1196 | 1197 | // Destroy After. |
  | […](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3084561#L1273) | […](/browser/ajax-load-more/tags/7.1.2/core/classes/class-alm-shortcode.php?rev=3095200#L1274) |  |
  | 1273 | 1274 | \* @return html; |
  | 1274 | 1275 | \*/ |
  | 1275 |  | $ajaxloadmore .= apply\_filters( 'alm\_init\_nextpage', $nextpage\_post\_id, $nextpage\_start, $nextpage\_is\_paged, $paging, $div\_id, $id, $ne~~sted, $ne~~xtpage\_type ); |
  |  | 1276 | $ajaxloadmore .= apply\_filters( 'alm\_init\_nextpage', $nextpage\_post\_id, $nextpage\_start, $nextpage\_is\_paged, $paging, $div\_id, $id, $nextpage\_type ); |
  | 1276 | 1277 | } |
  | 1277 | 1278 |  |
  | […](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3084561#L1408) | […](/browser/ajax-load-more/tags/7.1.2/core/classes/class-alm-shortcode.php?rev=3095200#L1409) |  |
  | 1408 | 1409 | \* Render the load more button. |
  | 1409 | 1410 | \* |
  | 1410 |  | \* @param  string $paging         Is this for the Paging add-on. |
  | 1411 |  | \* @param  string $~~button\_classname Custom button~~ classnames. |
  | 1412 |  | \* @param  string ~~$button\_label~~     The label for the button. |
  | 1413 |  | \* @param  string $elementor\_link Elementor paged link. |
  | 1414 |  | \* @param  string $id             ALM div ID. |
  | 1415 |  | \* @return string                 The button html and wrapper. |
  |  | 1411 | \* @param  string $paging         Is this for the Paging add-on. |
  |  | 1412 | \* @param  string $classname      Custom classnames. |
  |  | 1413 | \* @param  string label           The label for the button. |
  |  | 1414 | \* @param  string $elementor\_link Elementor paged link. |
  |  | 1415 | \* @param  string $id             ALM div ID. |
  |  | 1416 | \* @return string                 The button html and wrapper. |
  | 1416 | 1417 | \* @since  3.3.2 |
  | 1417 | 1418 | \*/ |
  | 1418 |  | public static function alm\_render\_button( $paging, $button\_classname, $button\_label, $elementor\_link, $id ) { |
  | 1419 |  | $classes     = has\_filter( 'alm\_button\_wrap\_classes' ) ? ' ' . apply\_filters( 'alm\_button\_wrap\_classes', '' ) : ''; |
  | 1420 |  | $btn\_element = 'button'; |
  | 1421 |  | $html        = '<div class="alm-btn-wrap' . $classes . '" style="visibility: hidden;" data-rel="' . esc\_attr( $id ) . '">'; |
  |  | 1419 | public static function alm\_render\_button( $paging, $classname, $label, $elementor\_link, $id ) { |
  |  | 1420 | $classes = has\_filter( 'alm\_button\_wrap\_classes' ) ? ' ' . apply\_filters( 'alm\_button\_wrap\_classes', '' ) : ''; |
  |  | 1421 | $html    = '<div class="alm-btn-wrap' . $classes . '" style="visibility: hidden;" data-rel="' . esc\_attr( $id ) . '">'; |
  | 1422 | 1422 |  |
  | 1423 | 1423 | if ( $paging !== 'true' ) { |
  | 1424 | 1424 | $html .= ! empty( $elementor\_link ) ? $elementor\_link : ''; // Elementor Page Link. |
  | 1425 |  | $html .= '<~~' . esc\_attr( $btn\_element ) . ' class="alm-load-more-btn more' . esc\_attr( $button\_classname ) . '" rel="next" type="button">' . $button\_label . '</' . $btn\_element . '~~>'; |
  |  | 1425 | $html .= '<button class="alm-load-more-btn more' . esc\_attr( $classname ) . '" rel="next" type="button">' . self::alm\_strip\_tags( $label ) . '</button>'; |
  | 1426 | 1426 | } |
  | 1427 | 1427 |  |
  | 1428 | 1428 | $html .= '</div>'; |
  | 1429 | 1429 | return wp\_kses\_post( $html ); |
  |  | 1430 | } |
  |  | 1431 |  |
  |  | 1432 | /\*\* |
  |  | 1433 | \* Strip tags from param. |
  |  | 1434 | \* |
  |  | 1435 | \* @param string $str String to sanitize. |
  |  | 1436 | \* @return string    Stripped string. |
  |  | 1437 | \*/ |
  |  | 1438 | public static function alm\_strip\_tags( $str ) { |
  |  | 1439 | $str = str\_replace( [ '&lt;' ], '', $str ); // Remove < entity tag. |
  |  | 1440 | $str = str\_replace( [ '&gt;' ], '', $str ); // Remove > entity tag. |
  |  | 1441 | return esc\_html( strip\_tags( $str, '<span><i><b><strong>' ) ); |
  | 1430 | 1442 | } |
  | 1431 | 1443 |  |
* ## [ajax-load-more/tags/7.1.2/lang/ajax-load-more.pot](/changeset/3095200/ajax-load-more/tags/7.1.2/lang/ajax-load-more.pot "Show the changeset 3095200 restricted to ajax-load-more/tags/7.1.2/lang/ajax-load-more.pot")

  | [r3084561](/browser/ajax-load-more/trunk/lang/ajax-load-more.pot?rev=3084561#L3 "Show revision 3084561 of this file in browser") | [r3095200](/browser/ajax-load-more/tags/7.1.2/lang/ajax-load-more.pot?rev=3095200#L3 "Show revision 3095200 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: Ajax Load More 7.1.~~1~~\n" |
  |  | 5 | "Project-Id-Version: Ajax Load More 7.1.2\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: https://wordpress.org/support/plugin/ajax-load-more\n" |
  | 7 | 7 | "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n" |
  | […](/browser/ajax-load-more/trunk/lang/ajax-load-more.pot?rev=3084561#L10) | […](/browser/ajax-load-more/tags/7.1.2/lang/ajax-load-more.pot?rev=3095200#L10) |  |
  | 10 | 10 | "Content-Type: text/plain; charset=UTF-8\n" |
  | 11 | 11 | "Content-Transfer-Encoding: 8bit\n" |
  | 12 |  | "POT-Creation-Date: 2024-05-~~10T14:11:15~~+00:00\n" |
  |  | 12 | "POT-Creation-Date: 2024-05-30T13:55:54+00:00\n" |
  | 13 | 13 | "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n" |
  | 14 | 14 | "X-Generator: WP-CLI 2.9.0\n" |
* ## [ajax-load-more/trunk/README.txt](/changeset/3095200/ajax-load-more/trunk/README.txt "Show the changeset 3095200 restricted to ajax-load-more/trunk/README.txt")

  | [r3084561](/browser/ajax-load-more/trunk/README.txt?rev=3084561#L6 "Show revision 3084561 of this file in browser") | [r3095200](/browser/ajax-load-more/trunk/README.txt?rev=3095200#L6 "Show revision 3095200 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Requires PHP: 5.6 |
  | 7 | 7 | Tested up to: 6.5 |
  | 8 |  | Stable tag: 7.1.~~1~~ |
  |  | 8 | Stable tag: 7.1.2 |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/ajax-load-more/trunk/README.txt?rev=3084561#L261) | […](/browser/ajax-load-more/trunk/README.txt?rev=3095200#L261) |  |
  | 261 | 261 | == Changelog == |
  | 262 | 262 |  |
  |  | 263 | = 7.1.2 - May 30, 2024 = |
  |  | 264 | \* FIX: Fixed issue with full article loading in Next Page add-on. |
  |  | 265 | \* UPDATE: Various security fixes. |
  |  | 266 |  |
  |  | 267 |  |
  | 263 | 268 | = 7.1.1 - May 10, 2024 = |
  | 264 | 269 | \* UPDATE: Added required functionality and support to allow for Next Page add-on to be used with Single Posts for full article loading with split pages. |
* ## [ajax-load-more/trunk/ajax-load-more.php](/changeset/3095200/ajax-load-more/trunk/ajax-load-more.php "Show the changeset 3095200 restricted to ajax-load-more/trunk/ajax-load-more.php")

  | [r3084561](/browser/ajax-load-more/trunk/ajax-load-more.php?rev=3084561#L8 "Show revision 3084561 of this file in browser") | [r3095200](/browser/ajax-load-more/trunk/ajax-load-more.php?rev=3095200#L8 "Show revision 3095200 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | \* Twitter: @KaptonKaos |
  | 9 | 9 | \* Author URI: https://connekthq.com |
  | 10 |  | \* Version: 7.1.~~1~~ |
  |  | 10 | \* Version: 7.1.2 |
  | 11 | 11 | \* License: GPL |
  | 12 | 12 | \* Copyright: Darren Cooney & Connekt Media |
  | […](/browser/ajax-load-more/trunk/ajax-load-more.php?rev=3084561#L15) | […](/browser/ajax-load-more/trunk/ajax-load-more.php?rev=3095200#L15) |  |
  | 15 | 15 | \*/ |
  | 16 | 16 |  |
  | 17 |  | define( 'ALM\_VERSION', '7.1.~~1~~' ); |
  | 18 |  | define( 'ALM\_RELEASE', 'May ~~1~~0, 2024' ); |
  |  | 17 | define( 'ALM\_VERSION', '7.1.2' ); |
  |  | 18 | define( 'ALM\_RELEASE', 'May 30, 2024' ); |
  | 19 | 19 | define( 'ALM\_STORE\_URL', 'https://connekthq.com' ); |
  | 20 | 20 |  |
* ## [ajax-load-more/trunk/core/classes/class-alm-shortcode.php](/changeset/3095200/ajax-load-more/trunk/core/classes/class-alm-shortcode.php "Show the changeset 3095200 restricted to ajax-load-more/trunk/core/classes/class-alm-shortcode.php")

  | [r3084561](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3084561#L254 "Show revision 3084561 of this file in browser") | [r3095200](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3095200#L254 "Show revision 3095200 of this file in browser") |  |
  | --- | --- | --- |
  | 254 | 254 | // phpcs:enable |
  | 255 | 255 |  |
  | 256 |  | $id = sanitize\_key( $id ); |
  |  | 256 | $id   = sanitize\_key( $id ); |
  |  | 257 | $vars = self::alm\_strip\_tags( $vars ); |
  | 257 | 258 |  |
  | 258 | 259 | // Elementor. |
  | […](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3084561#L1190) | […](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3095200#L1191) |  |
  | 1190 | 1191 |  |
  | 1191 | 1192 | // Button. |
  | 1192 |  | $ajaxloadmore .= ' data-button-label="' . ~~esc\_html~~( $button\_label ) . '"'; |
  | 1193 |  | $ajaxloadmore .= $button\_loading\_label ? ' data-button-loading-label="' . ~~esc\_html~~( $button\_loading\_label ) . '"' : ''; |
  | 1194 |  | $ajaxloadmore .= $button\_done\_label ? ' data-button-done-label="' . ~~esc\_html~~( $button\_done\_label ) . '"' : ''; |
  |  | 1193 | $ajaxloadmore .= ' data-button-label="' . self::alm\_strip\_tags( $button\_label ) . '"'; |
  |  | 1194 | $ajaxloadmore .= $button\_loading\_label ? ' data-button-loading-label="' . self::alm\_strip\_tags( $button\_loading\_label ) . '"' : ''; |
  |  | 1195 | $ajaxloadmore .= $button\_done\_label ? ' data-button-done-label="' . self::alm\_strip\_tags( $button\_done\_label ) . '"' : ''; |
  | 1195 | 1196 |  |
  | 1196 | 1197 | // Destroy After. |
  | […](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3084561#L1273) | […](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3095200#L1274) |  |
  | 1273 | 1274 | \* @return html; |
  | 1274 | 1275 | \*/ |
  | 1275 |  | $ajaxloadmore .= apply\_filters( 'alm\_init\_nextpage', $nextpage\_post\_id, $nextpage\_start, $nextpage\_is\_paged, $paging, $div\_id, $id, $ne~~sted, $ne~~xtpage\_type ); |
  |  | 1276 | $ajaxloadmore .= apply\_filters( 'alm\_init\_nextpage', $nextpage\_post\_id, $nextpage\_start, $nextpage\_is\_paged, $paging, $div\_id, $id, $nextpage\_type ); |
  | 1276 | 1277 | } |
  | 1277 | 1278 |  |
  | […](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3084561#L1408) | […](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3095200#L1409) |  |
  | 1408 | 1409 | \* Render the load more button. |
  | 1409 | 1410 | \* |
  | 1410 |  | \* @param  string $paging         Is this for the Paging add-on. |
  | 1411 |  | \* @param  string $~~button\_classname Custom button~~ classnames. |
  | 1412 |  | \* @param  string ~~$button\_label~~     The label for the button. |
  | 1413 |  | \* @param  string $elementor\_link Elementor paged link. |
  | 1414 |  | \* @param  string $id             ALM div ID. |
  | 1415 |  | \* @return string                 The button html and wrapper. |
  |  | 1411 | \* @param  string $paging         Is this for the Paging add-on. |
  |  | 1412 | \* @param  string $classname      Custom classnames. |
  |  | 1413 | \* @param  string label           The label for the button. |
  |  | 1414 | \* @param  string $elementor\_link Elementor paged link. |
  |  | 1415 | \* @param  string $id             ALM div ID. |
  |  | 1416 | \* @return string                 The button html and wrapper. |
  | 1416 | 1417 | \* @since  3.3.2 |
  | 1417 | 1418 | \*/ |
  | 1418 |  | public static function alm\_render\_button( $paging, $button\_classname, $button\_label, $elementor\_link, $id ) { |
  | 1419 |  | $classes     = has\_filter( 'alm\_button\_wrap\_classes' ) ? ' ' . apply\_filters( 'alm\_button\_wrap\_classes', '' ) : ''; |
  | 1420 |  | $btn\_element = 'button'; |
  | 1421 |  | $html        = '<div class="alm-btn-wrap' . $classes . '" style="visibility: hidden;" data-rel="' . esc\_attr( $id ) . '">'; |
  |  | 1419 | public static function alm\_render\_button( $paging, $classname, $label, $elementor\_link, $id ) { |
  |  | 1420 | $classes = has\_filter( 'alm\_button\_wrap\_classes' ) ? ' ' . apply\_filters( 'alm\_button\_wrap\_classes', '' ) : ''; |
  |  | 1421 | $html    = '<div class="alm-btn-wrap' . $classes . '" style="visibility: hidden;" data-rel="' . esc\_attr( $id ) . '">'; |
  | 1422 | 1422 |  |
  | 1423 | 1423 | if ( $paging !== 'true' ) { |
  | 1424 | 1424 | $html .= ! empty( $elementor\_link ) ? $elementor\_link : ''; // Elementor Page Link. |
  | 1425 |  | $html .= '<~~' . esc\_attr( $btn\_element ) . ' class="alm-load-more-btn more' . esc\_attr( $button\_classname ) . '" rel="next" type="button">' . $button\_label . '</' . $btn\_element . '~~>'; |
  |  | 1425 | $html .= '<button class="alm-load-more-btn more' . esc\_attr( $classname ) . '" rel="next" type="button">' . self::alm\_strip\_tags( $label ) . '</button>'; |
  | 1426 | 1426 | } |
  | 1427 | 1427 |  |
  | 1428 | 1428 | $html .= '</div>'; |
  | 1429 | 1429 | return wp\_kses\_post( $html ); |
  |  | 1430 | } |
  |  | 1431 |  |
  |  | 1432 | /\*\* |
  |  | 1433 | \* Strip tags from param. |
  |  | 1434 | \* |
  |  | 1435 | \* @param string $str String to sanitize. |
  |  | 1436 | \* @return string    Stripped string. |
  |  | 1437 | \*/ |
  |  | 1438 | public static function alm\_strip\_tags( $str ) { |
  |  | 1439 | $str = str\_replace( [ '&lt;' ], '', $str ); // Remove < entity tag. |
  |  | 1440 | $str = str\_replace( [ '&gt;' ], '', $str ); // Remove > entity tag. |
  |  | 1441 | return esc\_html( strip\_tags( $str, '<span><i><b><strong>' ) ); |
  | 1430 | 1442 | } |
  | 1431 | 1443 |  |
* ## [ajax-load-more/trunk/lang/ajax-load-more.pot](/changeset/3095200/ajax-load-more/trunk/lang/ajax-load-more.pot "Show the changeset 3095200 restricted to ajax-load-more/trunk/lang/ajax-load-more.pot")

  | [r3084561](/browser/ajax-load-more/trunk/lang/ajax-load-more.pot?rev=3084561#L3 "Show revision 3084561 of this file in browser") | [r3095200](/browser/ajax-load-more/trunk/lang/ajax-load-more.pot?rev=3095200#L3 "Show revision 3095200 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: Ajax Load More 7.1.~~1~~\n" |
  |  | 5 | "Project-Id-Version: Ajax Load More 7.1.2\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: https://wordpress.org/support/plugin/ajax-load-more\n" |
  | 7 | 7 | "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n" |
  | […](/browser/ajax-load-more/trunk/lang/ajax-load-more.pot?rev=3084561#L10) | […](/browser/ajax-load-more/trunk/lang/ajax-load-more.pot?rev=3095200#L10) |  |
  | 10 | 10 | "Content-Type: text/plain; charset=UTF-8\n" |
  | 11 | 11 | "Content-Transfer-Encoding: 8bit\n" |
  | 12 |  | "POT-Creation-Date: 2024-05-~~10T14:11:15~~+00:00\n" |
  |  | 12 | "POT-Creation-Date: 2024-05-30T13:55:54+00:00\n" |
  | 13 | 13 | "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n" |
  | 14 | 14 | "X-Generator: WP-CLI 2.9.0\n" |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3095200)
* [Zip Archive](?format=zip&new=3095200)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_647bd79c_20250110_234053.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# WordPress Infinite Scroll – Ajax Load More <= 7.1.1 - Authenticated (Contributor+) Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   WordPress Infinite Scroll – Ajax Load More <= 7.1.1 - Authenticated (Contributor+) Cross-Site Scripting

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-4711](https://www.cve.org/CVERecord?id=CVE-2024-4711) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | May 31, 2024 |
| Last Updated | June 1, 2024 |
| Researcher | [Webbernaut](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/webbernaut) |

### Description

The WordPress Infinite Scroll – Ajax Load More plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the ajax\_load\_more shortcode in versions up to, and including, 7.1.1 due to insufficient input sanitization and output escaping. This makes it possible for authenticated attackers, with contributor-level permissions and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php#L1191)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/ajax-load-more/trunk/build/frontend/ajax-load-more.js)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=3095200%40ajax-load-more&new=3095200%40ajax-load-more&sfp_email=&sfph_mail=#file3)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fajax-load-more%2Fwordpress-infinite-scroll-ajax-load-more-711-authenticated-contributor-cross-site-scripting&t=WordPress%20Infinite%20Scroll%20%E2%80%93%20Ajax%20Load%20More%20%3C%3D%207.1.1%20-%20Authenticated%20%28Contributor%2B%29%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fajax-load-more%2Fwordpress-infinite-scroll-ajax-load-more-711-authenticated-contributor-cross-site-scripting&text=WordPress%20Infinite%20Scroll%20%E2%80%93%20Ajax%20Load%20More%20%3C%3D%207.1.1%20-%20Authenticated%20%28Contributor%2B%29%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fajax-load-more%2Fwordpress-infinite-scroll-ajax-load-more-711-authenticated-contributor-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for WordPress Infinite Scroll – Ajax Load More

#### [WordPress Infinite Scroll – Ajax Load More](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/ajax-load-more)

| Software Type | Plugin |
| --- | --- |
| Software Slug | ajax-load-more [(view on wordpress.org)](https://wordpress.org/plugins/ajax-load-more) |
| Patched? | Yes |
| Remediation | Update to version 7.1.2, or a newer patched version |
| Affected Version | * <= 7.1.1 |
| Patched Version | * 7.1.2 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_ee665ca5_20250110_234049.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fajax-load-more%2Ftrunk%2Fcore%2Fclasses%2Fclass-alm-shortcode.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?rev=3160896 "Revision 3160896")
* Next Revision →
* [Blame](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/ajax-load-more/trunk/core/classes/class-alm-shortcode.php)

---

# [source:](/browser?order=name "Go to repository root") [ajax-load-more](/browser/ajax-load-more?order=name "View ajax-load-more")/[trunk](/browser/ajax-load-more/trunk?order=name "View trunk")/[core](/browser/ajax-load-more/trunk/core?order=name "View core")/[classes](/browser/ajax-load-more/trunk/core/classes?order=name "View classes")/[class-alm-shortcode.php](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?order=name "View class-alm-shortcode.php")

View diff against:

View revision:

| [Last change](/changeset/3202459/ajax-load-more/trunk/core/classes/class-alm-shortcode.php "View differences") on this file was [3202459](/changeset/3202459/ "View changeset 3202459"), checked in by dcooney, [5 weeks ago](/timeline?from=2024-12-04T14%3A20%3A00Z&precision=second "See timeline at 12/04/2024 02:20:00 PM") |
| --- |
| Update to version 7.1.4 from GitHub |
| * Property **svn:executable** set to   *`*`* | |
| **File size:** 52.9 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Ajax Load More Shortcode. |
| [4](#L4) | \* Returns a parsed [ajax\_load\_more {params}] shortcode. |
| [5](#L5) | \* |
| [6](#L6) | \* @package  AjaxLoadMore |
| [7](#L7) | \* @since    2.10.1 |
| [8](#L8) | \*/ |
| [9](#L9) |  |
| [10](#L10) | if ( ! defined( 'ABSPATH' ) ) { |
| [11](#L11) | exit; |
| [12](#L12) | } |
| [13](#L13) |  |
| [14](#L14) | if ( ! class\_exists( 'ALM\_SHORTCODE' ) ) : |
| [15](#L15) |  |
| [16](#L16) | /\*\* |
| [17](#L17) | \* Initiate the class. |
| [18](#L18) | \*/ |
| [19](#L19) | class ALM\_SHORTCODE { |
| [20](#L20) |  |
| [21](#L21) | /\*\* |
| [22](#L22) | \* Shortcode counter. |
| [23](#L23) | \* |
| [24](#L24) | \* @var $counter |
| [25](#L25) | \*/ |
| [26](#L26) | public static $counter = 0; |
| [27](#L27) |  |
| [28](#L28) | /\*\* |
| [29](#L29) | \* Default container type. |
| [30](#L30) | \* |
| [31](#L31) | \* @var string |
| [32](#L32) | \*/ |
| [33](#L33) | public static $default\_container\_type = 'ul'; |
| [34](#L34) |  |
| [35](#L35) | /\*\* |
| [36](#L36) | \* Parse & render ALM shortcode. |
| [37](#L37) | \* |
| [38](#L38) | \* @param array $atts Shortcode attributes. |
| [39](#L39) | \* @since 2.10.1 |
| [40](#L40) | \*/ |
| [41](#L41) | public static function alm\_render\_shortcode( $atts ) { |
| [42](#L42) | global $post; // Global $post obj. |
| [43](#L43) |  |
| [44](#L44) | // Initial variables. |
| [45](#L45) | ++self::$counter; // ALM counter. |
| [46](#L46) | $slug              = apply\_filters( 'alm\_page\_slug', alm\_get\_page\_slug( $post ) ); // Define page slug. |
| [47](#L47) | $post\_id           = apply\_filters( 'alm\_page\_id', alm\_get\_page\_id( $post ) ); // Define post ID. |
| [48](#L48) | $wp\_posts\_per\_page = get\_option( 'posts\_per\_page' ); // Global Posts Per Page. |
| [49](#L49) |  |
| [50](#L50) | // Get ALM options. |
| [51](#L51) | $options = get\_option( 'alm\_settings' ); |
| [52](#L52) |  |
| [53](#L53) | /\*\* |
| [54](#L54) | \* Override default ALM Settings. |
| [55](#L55) | \* ALM Core Filter Hook. |
| [56](#L56) | \* |
| [57](#L57) | \* @return array $options Options array. |
| [58](#L58) | \*/ |
| [59](#L59) | $options            = has\_filter( 'alm\_settings' ) ? apply\_filters( 'alm\_settings', $options ) : $options; |
| [60](#L60) | $options = ! $options ? [] : $options; // Set options to an array by default. |
| [61](#L61) | $options['post\_id'] = $post\_id; // Add post ID to options array. |
| [62](#L62) | $options['slug']    = $slug; // Add post slug to options array. |
| [63](#L63) |  |
| [64](#L64) | // Custom CSS for Layouts - Only run this once. |
| [65](#L65) | if ( has\_action( 'alm\_layouts\_custom\_css' ) ) { |
| [66](#L66) | do\_action( 'alm\_layouts\_custom\_css', self::$counter ); |
| [67](#L67) | } |
| [68](#L68) |  |
| [69](#L69) | /\*\* |
| [70](#L70) | \* Set default shortcode values that can be over written via shortcode atts |
| [71](#L71) | \* ALM Core Filter Hook |
| [72](#L72) | \* |
| [73](#L73) | \* @return array |
| [74](#L74) | \*/ |
| [75](#L75) | $default\_atts = apply\_filters( 'alm\_shortcode\_defaults', [] ); |
| [76](#L76) |  |
| [77](#L77) | // Merge arrays. Allows for defaults to be overwritten by the shortcode. |
| [78](#L78) | $atts = $default\_atts ? array\_merge( $default\_atts, $atts ) : $atts; |
| [79](#L79) |  |
| [80](#L80) | // Extact shortcode arrtibutes to variables. |
| [81](#L81) | // phpcs:disable |
| [82](#L82) | extract( |
| [83](#L83) | shortcode\_atts( |
| [84](#L84) | [ |
| [85](#L85) | 'nested'                       => false, |
| [86](#L86) | 'woo'                          => false, |
| [87](#L87) | 'woo\_template'                 => '', |
| [88](#L88) | 'queryloop'                    => false, |
| [89](#L89) | 'layouts'                      => false, |
| [90](#L90) | 'layouts\_cols'                 => '3', |
| [91](#L91) | 'layouts\_gap'                  => 'default', |
| [92](#L92) | 'filters'                      => false, |
| [93](#L93) | 'target'                       => '', |
| [94](#L94) | 'facets'                       => false, |
| [95](#L95) | 'filters\_url'                  => 'true', |
| [96](#L96) | 'filters\_paging'               => 'true', |
| [97](#L97) | 'filters\_scroll'               => 'false', |
| [98](#L98) | 'filters\_scrolltop'            => '30', |
| [99](#L99) | 'filters\_debug'                => false, |
| [100](#L100) | 'filters\_redirect'             => false, |
| [101](#L101) | 'term\_query'                   => false, |
| [102](#L102) | 'term\_query\_taxonomy'          => '', |
| [103](#L103) | 'term\_query\_hide\_empty'        => 'true', |
| [104](#L104) | 'term\_query\_number'            => '5', |
| [105](#L105) | 'acf'                          => false, |
| [106](#L106) | 'acf\_post\_id'                  => '', |
| [107](#L107) | 'acf\_field\_type'               => 'repeater', |
| [108](#L108) | 'acf\_field\_name'               => '', |
| [109](#L109) | 'acf\_parent\_field\_name'        => '', |
| [110](#L110) | 'acf\_row\_index'                => 0, |
| [111](#L111) | 'restapi'                      => false, |
| [112](#L112) | 'restapi\_base'                 => '/wp-json', |
| [113](#L113) | 'restapi\_namespace'            => 'ajaxloadmore', |
| [114](#L114) | 'restapi\_endpoint'             => 'posts', |
| [115](#L115) | 'restapi\_template\_id'          => '', |
| [116](#L116) | 'restapi\_debug'                => false, |
| [117](#L117) | 'users'                        => false, |
| [118](#L118) | 'users\_role'                   => '', |
| [119](#L119) | 'users\_include'                => '', |
| [120](#L120) | 'users\_exclude'                => '', |
| [121](#L121) | 'users\_per\_page'               => '5', |
| [122](#L122) | 'users\_order'                  => 'ASC', |
| [123](#L123) | 'users\_orderby'                => 'login', |
| [124](#L124) | 'comments'                     => false, |
| [125](#L125) | 'comments\_per\_page'            => '5', |
| [126](#L126) | 'comments\_type'                => 'comment', |
| [127](#L127) | 'comments\_style'               => 'ol', |
| [128](#L128) | 'comments\_template'            => 'none', |
| [129](#L129) | 'comments\_callback'            => '', |
| [130](#L130) | 'comments\_post\_id'             => '', |
| [131](#L131) | 'nextpage'                     => false, |
| [132](#L132) | 'nextpage\_post\_id'             => '', |
| [133](#L133) | 'nextpage\_urls'                => 'true', |
| [134](#L134) | 'nextpage\_scroll'              => 'false:30', |
| [135](#L135) | 'nextpage\_title\_template'      => '', |
| [136](#L136) | 'nextpage\_type'                => 'paged', |
| [137](#L137) | 'nextpage\_start'               => 1, |
| [138](#L138) | 'previous\_post'                => false, |
| [139](#L139) | 'previous\_post\_id'             => '', |
| [140](#L140) | 'previous\_post\_order'          => 'previous', |
| [141](#L141) | 'previous\_post\_taxonomy'       => '', |
| [142](#L142) | 'previous\_post\_excluded\_terms' => '', |
| [143](#L143) | 'single\_post'                  => false, |
| [144](#L144) | 'single\_post\_id'               => '', |
| [145](#L145) | 'single\_post\_order'            => 'previous', |
| [146](#L146) | 'single\_post\_query\_order'      => 'previous', |
| [147](#L147) | 'single\_post\_taxonomy'         => '', |
| [148](#L148) | 'single\_post\_excluded\_terms'   => '', |
| [149](#L149) | 'single\_post\_progress\_bar'     => '', |
| [150](#L150) | 'single\_post\_target'           => '', |
| [151](#L151) | 'single\_post\_preview'          => '', |
| [152](#L152) | 'cache'                        => 'false', |
| [153](#L153) | 'cache\_id'                     => '', |
| [154](#L154) | 'paging'                       => 'false', |
| [155](#L155) | 'paging\_controls'              => 'false', |
| [156](#L156) | 'paging\_show\_at\_most'          => '7', |
| [157](#L157) | 'paging\_scroll'                => false, |
| [158](#L158) | 'paging\_classes'               => apply\_filters( 'paging\_classes', '' ), |
| [159](#L159) | 'paging\_container\_classes'     => apply\_filters( 'alm\_paging\_container\_classes', '' ), |
| [160](#L160) | 'paging\_first\_label'           => apply\_filters( 'alm\_paging\_first\_label', '' ), |
| [161](#L161) | 'paging\_last\_label'            => apply\_filters( 'alm\_paging\_last\_label', '' ), |
| [162](#L162) | 'paging\_previous\_label'        => apply\_filters( 'alm\_paging\_previous\_label', '&laquo;' ), |
| [163](#L163) | 'paging\_next\_label'            => apply\_filters( 'alm\_paging\_next\_label', '&raquo;' ), |
| [164](#L164) | 'preloaded'                    => 'false', |
| [165](#L165) | 'preloaded\_amount'             => '5', |
| [166](#L166) | 'seo'                          => 'false', |
| [167](#L167) | 'seo\_offset'                   => false, |
| [168](#L168) | 'repeater'                     => 'default', |
| [169](#L169) | 'theme\_repeater'               => 'null', |
| [170](#L170) | 'cta'                          => false, |
| [171](#L171) | 'cta\_position'                 => 'before:1', |
| [172](#L172) | 'cta\_repeater'                 => 'null', |
| [173](#L173) | 'cta\_theme\_repeater'           => 'null', |
| [174](#L174) | 'masonry'                      => '', |
| [175](#L175) | 'post\_type'                    => 'post', |
| [176](#L176) | 'sticky\_posts'                 => false, |
| [177](#L177) | 'post\_format'                  => '', |
| [178](#L178) | 'category'                     => '', |
| [179](#L179) | 'category\_\_and'                => '', |
| [180](#L180) | 'category\_\_not\_in'             => '', |
| [181](#L181) | 'tag'                          => '', |
| [182](#L182) | 'tag\_\_and'                     => '', |
| [183](#L183) | 'tag\_\_not\_in'                  => '', |
| [184](#L184) | 'taxonomy'                     => '', |
| [185](#L185) | 'taxonomy\_terms'               => '', |
| [186](#L186) | 'taxonomy\_operator'            => '', |
| [187](#L187) | 'taxonomy\_relation'            => '', |
| [188](#L188) | 'taxonomy\_include\_children'    => '', |
| [189](#L189) | 'sort\_key'                                                       => '', |
| [190](#L190) | 'meta\_key'                     => '', |
| [191](#L191) | 'meta\_value'                   => '', |
| [192](#L192) | 'meta\_compare'                 => '', |
| [193](#L193) | 'meta\_relation'                => '', |
| [194](#L194) | 'meta\_type'                    => '', |
| [195](#L195) | 'year'                         => '', |
| [196](#L196) | 'month'                        => '', |
| [197](#L197) | 'day'                          => '', |
| [198](#L198) | 'author'                       => '', |
| [199](#L199) | 'search'                       => '', |
| [200](#L200) | 'custom\_args'                  => '', |
| [201](#L201) | 'post\_status'                  => '', |
| [202](#L202) | 'order'                        => 'DESC', |
| [203](#L203) | 'orderby'                      => 'date', |
| [204](#L204) | 'post\_\_in'                     => '', |
| [205](#L205) | 'post\_\_not\_in'                 => '', |
| [206](#L206) | 'exclude'                      => '', |
| [207](#L207) | 'offset'                       => '0', |
| [208](#L208) | 'posts\_per\_page'               => '5', |
| [209](#L209) | 'scroll'                       => 'true', |
| [210](#L210) | 'scroll\_distance'              => '100', |
| [211](#L211) | 'scroll\_container'             => '', |
| [212](#L212) | 'scroll\_direction'             => '', |
| [213](#L213) | 'max\_pages'                    => '0', |
| [214](#L214) | 'pause\_override'               => '', |
| [215](#L215) | 'pause'                        => 'false', |
| [216](#L216) | 'destroy\_after'                => '', |
| [217](#L217) | 'transition'                   => 'fade', |
| [218](#L218) | 'transition\_delay'             => "0", |
| [219](#L219) | 'transition\_container\_classes' => '', |
| [220](#L220) | 'masonry\_selector'             => '', |
| [221](#L221) | 'masonry\_columnwidth'          => '', |
| [222](#L222) | 'masonry\_animation'            => '', |
| [223](#L223) | 'masonry\_horizontalorder'      => '', |
| [224](#L224) | 'progress\_bar'                 => 'false', |
| [225](#L225) | 'progress\_bar\_color'           => 'ed7070', |
| [226](#L226) | 'images\_loaded'                => 'false', |
| [227](#L227) | 'button\_label'                 => AjaxLoadMore::alm\_default\_button\_label(), |
| [228](#L228) | 'button\_loading\_label'         => '', |
| [229](#L229) | 'button\_done\_label'            => '', |
| [230](#L230) | 'wrapper\_classes'              => '', |
| [231](#L231) | 'css\_classes'                  => '', |
| [232](#L232) | 'container\_type'               => '', |
| [233](#L233) | 'container\_classes'            => '', |
| [234](#L234) | 'loading\_style'                => '', |
| [235](#L235) | 'id'                           => '', |
| [236](#L236) | 'vars'                         => '', |
| [237](#L237) | 'primary'                      => false, |
| [238](#L238) | 'no\_results\_text'              => '', |
| [239](#L239) | 'placeholder'                  => '', |
| [240](#L240) | 'lazy\_images'                  => false, |
| [241](#L241) | 'archive'                      => false, |
| [242](#L242) | 'woocommerce'                  => false, |
| [243](#L243) | 'elementor'                    => false, |
| [244](#L244) | 'elementor\_target'             => '', |
| [245](#L245) | 'elementor\_url'                => '', |
| [246](#L246) | 'elementor\_link\_label'         => '', |
| [247](#L247) | 'elementor\_controls'           => '', |
| [248](#L248) | 'elementor\_scrolltop'          => '', |
| [249](#L249) | 'elementor\_paged'              => ! get\_query\_var( 'page' ) || get\_query\_var( 'page' ) === 0 ? 1 : (int) get\_query\_var( 'page' ), |
| [250](#L250) | 'elementor\_woo\_paged'          => ! isset( $\_GET['product-page'] ) || $\_GET['product-page'] === 1 ? 1 : (int) $\_GET['product-page'], |
| [251](#L251) | ], |
| [252](#L252) | $atts |
| [253](#L253) | ) |
| [254](#L254) | ); |
| [255](#L255) | // phpcs:enable |
| [256](#L256) |  |
| [257](#L257) | $id   = sanitize\_key( $id ); |
| [258](#L258) | $vars = self::alm\_strip\_tags( $vars ); |
| [259](#L259) |  |
| [260](#L260) | // Query Loop. |
| [261](#L261) | $queryloop = $queryloop === 'true'; |
| [262](#L262) |  |
| [263](#L263) | // Elementor. |
| [264](#L264) | $elementor = $elementor === 'true' ? 'single' : $elementor; |
| [265](#L265) | if ( 'single' === $elementor ) { // Single Template. |
| [266](#L266) | if ( ! is\_singular( $post\_type ) ) { |
| [267](#L267) | // Exit if not singular template. |
| [268](#L268) | return false; |
| [269](#L269) | } |
| [270](#L270) | $container\_element = 'div'; |
| [271](#L271) | $offset            = '1'; |
| [272](#L272) | } |
| [273](#L273) |  |
| [274](#L274) | if ( $elementor === 'posts' && ! empty( $elementor\_target ) ) { // Posts Grid. |
| [275](#L275) | $container\_element = 'div'; |
| [276](#L276) | $pause             = 'true'; |
| [277](#L277) | } |
| [278](#L278) |  |
| [279](#L279) | // WooCommerce. |
| [280](#L280) | $woo         = $woo === 'true'; // Add-on. |
| [281](#L281) | $woocommerce = $woocommerce === 'true'; // Standard ALM. |
| [282](#L282) |  |
| [283](#L283) | // Archives. |
| [284](#L284) | $archive = $archive === 'true'; |
| [285](#L285) |  |
| [286](#L286) | // Backwards compat. |
| [287](#L287) | // If $previous\_post\_ is true, set the $single\_post\_{value} params. |
| [288](#L288) | if ( $previous\_post === 'true' ) { |
| [289](#L289) | $single\_post                = 'true'; |
| [290](#L290) | $single\_post\_id             = $previous\_post\_id; |
| [291](#L291) | $single\_post\_order          = $previous\_post\_order; |
| [292](#L292) | $single\_post\_taxonomy       = $previous\_post\_taxonomy; |
| [293](#L293) | $single\_post\_excluded\_terms = $previous\_post\_excluded\_terms; |
| [294](#L294) | } |
| [295](#L295) |  |
| [296](#L296) | // Start Enqueue Scripts. |
| [297](#L297) |  |
| [298](#L298) | // Inline Core CSS. |
| [299](#L299) | $inline\_css = ''; |
| [300](#L300) | if ( ! is\_admin() && alm\_do\_inline\_css( '\_alm\_inline\_css' ) && ! alm\_css\_disabled( '\_alm\_disable\_css' ) && self::$counter === 1 ) { |
| [301](#L301) | $inline\_css = ALM\_ENQUEUE::alm\_inline\_css( ALM\_SLUG, ALM\_CSS\_PATH, ALM\_URL ); |
| [302](#L302) | } |
| [303](#L303) |  |
| [304](#L304) | // Legacy Callback - ALM Setting. |
| [305](#L305) | if ( isset( $options['\_alm\_legacy\_callbacks'] ) && $options['\_alm\_legacy\_callbacks'] === '1' ) { // Load if active. |
| [306](#L306) | wp\_enqueue\_script( 'ajax-load-more-legacy-callbacks' ); |
| [307](#L307) | } |
| [308](#L308) |  |
| [309](#L309) | // Core ALM. |
| [310](#L310) | wp\_enqueue\_script( 'ajax-load-more' ); |
| [311](#L311) |  |
| [312](#L312) | // Layouts CSS. |
| [313](#L313) | $inline\_layouts\_css = ''; |
| [314](#L314) | if ( has\_action( 'alm\_layouts\_installed' ) && ! is\_admin() && alm\_do\_inline\_css( '\_alm\_inline\_css' ) && self::$counter === 1 ) { |
| [315](#L315) | if ( defined( 'ALM\_LAYOUTS\_PATH' ) && defined( 'ALM\_LAYOUTS\_URL' ) ) { |
| [316](#L316) | $file               = ALM\_LAYOUTS\_PATH . '/core/css/ajax-load-more-layouts.min.css'; |
| [317](#L317) | $inline\_layouts\_css = ALM\_ENQUEUE::alm\_inline\_css( 'ajax-load-more-layouts', $file, ALM\_LAYOUTS\_URL ); |
| [318](#L318) | } |
| [319](#L319) | } |
| [320](#L320) |  |
| [321](#L321) | // Masonry. |
| [322](#L322) | if ( $transition === 'masonry' ) { |
| [323](#L323) | wp\_enqueue\_script( 'ajax-load-more-masonry' ); // Enqueue before core ALM. |
| [324](#L324) | } |
| [325](#L325) |  |
| [326](#L326) | // Next Page. |
| [327](#L327) | if ( has\_action( 'alm\_nextpage\_installed' ) && $nextpage === 'true' ) { |
| [328](#L328) | wp\_enqueue\_script( 'ajax-load-more-nextpage' ); |
| [329](#L329) | } |
| [330](#L330) |  |
| [331](#L331) | // Paging. |
| [332](#L332) | $inline\_paging\_css = ''; |
| [333](#L333) | if ( has\_action( 'alm\_paging\_installed' ) && $paging === 'true' ) { |
| [334](#L334) | wp\_enqueue\_script( 'ajax-load-more-paging' ); |
| [335](#L335) | wp\_enqueue\_script( 'ajax-load-more-images-loaded' ); // Required for Paging. |
| [336](#L336) |  |
| [337](#L337) | // Inline paging CSS. |
| [338](#L338) | if ( ! is\_admin() && alm\_do\_inline\_css( '\_alm\_inline\_css' ) && ! alm\_css\_disabled( '\_alm\_paging\_disable\_css' ) ) { |
| [339](#L339) | if ( defined( 'ALM\_PAGING\_PATH' ) && defined( 'ALM\_PAGING\_URL' ) ) { |
| [340](#L340) | $file              = ALM\_PAGING\_PATH . '/core/css/ajax-load-more-paging.min.css'; |
| [341](#L341) | $inline\_paging\_css = ALM\_ENQUEUE::alm\_inline\_css( 'ajax-load-more-paging', $file, ALM\_PAGING\_URL ); |
| [342](#L342) | } |
| [343](#L343) | } |
| [344](#L344) | } |
| [345](#L345) |  |
| [346](#L346) | // Progress Bar. |
| [347](#L347) | if ( $progress\_bar === 'true' ) { |
| [348](#L348) | wp\_add\_inline\_script( 'ajax-load-more', 'window.paceOptions = {restartOnPushState: false};' ); |
| [349](#L349) | wp\_enqueue\_script( 'ajax-load-more-progress' ); |
| [350](#L350) | } |
| [351](#L351) |  |
| [352](#L352) | // Single Post. |
| [353](#L353) | $inline\_single\_posts\_css = ''; |
| [354](#L354) | if ( has\_action( 'alm\_single\_post\_installed' ) && $single\_post === 'true' ) { |
| [355](#L355) | wp\_enqueue\_script( 'alm-single-posts' ); |
| [356](#L356) |  |
| [357](#L357) | // Preview CSS. |
| [358](#L358) | if ( ! empty( $single\_post\_preview ) && $single\_post\_preview !== 'false' ) { |
| [359](#L359) | if ( ! is\_admin() ) { |
| [360](#L360) | $file                    = ALM\_PREV\_POST\_PATH . 'dist/css/ajax-load-more-single-posts.css'; |
| [361](#L361) | $inline\_single\_posts\_css = ALM\_ENQUEUE::alm\_inline\_css( 'ajax-load-more-single-posts', $file, ALM\_PREV\_POST\_URL ); |
| [362](#L362) | } |
| [363](#L363) | } |
| [364](#L364) | } |
| [365](#L365) |  |
| [366](#L366) | // SEO. |
| [367](#L367) | if ( has\_action( 'alm\_seo\_installed' ) && $seo === 'true' ) { |
| [368](#L368) | wp\_enqueue\_script( 'ajax-load-more-seo' ); |
| [369](#L369) | } |
| [370](#L370) |  |
| [371](#L371) | // WooCommerce. |
| [372](#L372) | if ( has\_action( 'alm\_woocommerce\_installed' ) && $woo ) { |
| [373](#L373) | wp\_enqueue\_script( 'ajax-load-more-woocommerce' ); |
| [374](#L374) | } |
| [375](#L375) |  |
| [376](#L376) | // Elementor. |
| [377](#L377) | if ( has\_action( 'alm\_elementor\_installed' ) && $elementor === 'posts' && $elementor\_url === 'true' ) { |
| [378](#L378) | // Only load external script if URLs are set to true. |
| [379](#L379) | wp\_enqueue\_script( 'ajax-load-more-elementor' ); |
| [380](#L380) | } |
| [381](#L381) |  |
| [382](#L382) | /\*\* |
| [383](#L383) | \* ALM Core Action. |
| [384](#L384) | \* Load JavaScript located in external add-ons and extensions. |
| [385](#L385) | \*/ |
| [386](#L386) | do\_action( 'alm\_enqueue\_external\_scripts', $atts ); |
| [387](#L387) |  |
| [388](#L388) | // End Enqueue Scripts. |
| [389](#L389) |  |
| [390](#L390) | // Filters - Set initial shortcode state. |
| [391](#L391) | $filters = $filters === 'true' && class\_exists( 'ALMFilters' ); |
| [392](#L392) | if ( $filters ) { |
| [393](#L393) | $single\_post = false; |
| [394](#L394) | $seo         = false; |
| [395](#L395) | $nextpage    = false; |
| [396](#L396) | if ( defined( 'ALM\_FILTERS\_PATH' ) ) { |
| [397](#L397) | include ALM\_FILTERS\_PATH . 'includes/initial-state-params.php'; |
| [398](#L398) | } |
| [399](#L399) | } |
| [400](#L400) |  |
| [401](#L401) | $single\_post = $single\_post === 'true'; |
| [402](#L402) |  |
| [403](#L403) | // REST API. |
| [404](#L404) | if ( $restapi === 'true' ) { |
| [405](#L405) | $restapi   = true; |
| [406](#L406) | $preloaded = false; |
| [407](#L407) | } |
| [408](#L408) |  |
| [409](#L409) | // Get container elements (ul | div). |
| [410](#L410) | $container\_element = self::$default\_container\_type; |
| [411](#L411) | if ( isset( $options ) && ( isset( $options['\_alm\_container\_type'] ) && '2' === $options['\_alm\_container\_type'] || $single\_post ) ) { |
| [412](#L412) | $container\_element = 'div'; |
| [413](#L413) | } |
| [414](#L414) |  |
| [415](#L415) | // Transition Container Classes. |
| [416](#L416) | $tcc = ! empty( $transition\_container\_classes ) ? $transition\_container\_classes : ''; |
| [417](#L417) |  |
| [418](#L418) | // Wrapper/CSS Classes. |
| [419](#L419) | $wrapper\_classes = ! empty( $wrapper\_classes ) ? ' ' . $wrapper\_classes : ''; |
| [420](#L420) | $css\_classes = ! empty( $css\_classes ) ? ' ' . $css\_classes : ''; |
| [421](#L421) |  |
| [422](#L422) | // Append transition container classes. |
| [423](#L423) | $css\_classes = ! empty( $tcc ) ? $css\_classes . ' ' . $tcc : $css\_classes; |
| [424](#L424) |  |
| [425](#L425) | // Add Layouts add-on classes. |
| [426](#L426) | if ( $layouts === 'true' && has\_filter( 'alm\_get\_layout\_classes' ) ) { |
| [427](#L427) | $css\_classes = apply\_filters( 'alm\_get\_layout\_classes', $layouts\_cols, $layouts\_gap, $css\_classes ); |
| [428](#L428) | } |
| [429](#L429) |  |
| [430](#L430) | // Override shortcode param. |
| [431](#L431) | $container\_element = $container\_type ? $container\_type : $container\_element; |
| [432](#L432) |  |
| [433](#L433) | // Single Posts. |
| [434](#L434) | if ( $single\_post ) { |
| [435](#L435) | $posts\_per\_page    = 1; |
| [436](#L436) | $container\_element = 'div'; |
| [437](#L437) | $seo               = false; |
| [438](#L438) | } |
| [439](#L439) |  |
| [440](#L440) | // Users. |
| [441](#L441) | $users = $users === 'true'; |
| [442](#L442) |  |
| [443](#L443) | // Terms Query. |
| [444](#L444) | $term\_query = $term\_query === 'true'; |
| [445](#L445) |  |
| [446](#L446) | // Comments. |
| [447](#L447) | $container\_element = $comments === 'true' ? $comments\_style : $container\_element; |
| [448](#L448) |  |
| [449](#L449) | // Get added classnames. |
| [450](#L450) | $classname = ''; |
| [451](#L451) | if ( isset( $options['\_alm\_classname'] ) ) { |
| [452](#L452) | $classname = $options['\_alm\_classname']; |
| [453](#L453) | $classname = empty( $classname ) ? '' : ' ' . $classname; |
| [454](#L454) | } |
| [455](#L455) |  |
| [456](#L456) | // Get loading style (color/style). |
| [457](#L457) | $alm\_loading\_style = isset( $options['\_alm\_btn\_color'] ) ? ' ' . $options['\_alm\_btn\_color'] : ' default'; |
| [458](#L458) | $alm\_loading\_style = $loading\_style !== '' ? ' ' . $loading\_style : $alm\_loading\_style; |
| [459](#L459) |  |
| [460](#L460) | // Get paging color. |
| [461](#L461) | $paging\_color = isset( $options['\_alm\_paging\_color'] ) && has\_action( 'alm\_paging\_installed' ) && $paging === 'true' ? ' alm-paging paging-' . $options['\_alm\_paging\_color'] : ''; |
| [462](#L462) |  |
| [463](#L463) | // Layouts Class. |
| [464](#L464) | $alm\_layouts = has\_action( 'alm\_layouts\_installed' ) ? ' alm-layouts' : ''; |
| [465](#L465) |  |
| [466](#L466) | // Get btn classnames. |
| [467](#L467) | $button\_classname = isset( $options['\_alm\_btn\_classname'] ) ? ' ' . $options['\_alm\_btn\_classname'] : ''; |
| [468](#L468) |  |
| [469](#L469) | // Language support. |
| [470](#L470) |  |
| [471](#L471) | /\*\* |
| [472](#L472) | \* Plugin: WPML. |
| [473](#L473) | \* |
| [474](#L474) | \* @see http://wpml.org |
| [475](#L475) | \*/ |
| [476](#L476) | $lang = defined( 'ICL\_LANGUAGE\_CODE' ) ? ICL\_LANGUAGE\_CODE : ''; |
| [477](#L477) |  |
| [478](#L478) | /\*\* |
| [479](#L479) | \* Plugin: Polylang. |
| [480](#L480) | \* |
| [481](#L481) | \* @see https://wordpress.org/plugins/polylang/ |
| [482](#L482) | \*/ |
| [483](#L483) | if ( function\_exists( 'pll\_current\_language' ) ) { |
| [484](#L484) | $lang = pll\_current\_language(); |
| [485](#L485) | } |
| [486](#L486) |  |
| [487](#L487) | /\*\* |
| [488](#L488) | \* Plugin: qTranslate. |
| [489](#L489) | \* |
| [490](#L490) | \* @see https://wordpress.org/plugins/qtranslate/ |
| [491](#L491) | \*/ |
| [492](#L492) | if ( function\_exists( 'qtrans\_getLanguage' ) ) { |
| [493](#L493) | $lang = qtrans\_getLanguage(); |
| [494](#L494) | } |
| [495](#L495) |  |
| [496](#L496) | // SEO: Posts Per Page. |
| [497](#L497) | if ( $seo === 'true' && has\_action( 'alm\_seo\_installed' ) && $wp\_posts\_per\_page > $posts\_per\_page ) { |
| [498](#L498) | $posts\_per\_page = apply\_filters( 'alm\_seo\_posts\_per\_page', true ) ? $wp\_posts\_per\_page : $posts\_per\_page; |
| [499](#L499) | } |
| [500](#L500) |  |
| [501](#L501) | // Paging. |
| [502](#L502) | $paging\_container\_class = ''; |
| [503](#L503) | $paging\_transition      = ''; |
| [504](#L504) | if ( $paging === 'true' ) { |
| [505](#L505) | $paging\_container\_class = ' alm-paging-wrap'; |
| [506](#L506) | $paging\_transition      = 'style="transition: height 0.2s linear;"'; |
| [507](#L507) | // If Preloaded & Paging, pause loading by default. |
| [508](#L508) | if ( $preloaded === 'true' ) { |
| [509](#L509) | $pause          = 'true'; |
| [510](#L510) | $pause\_override = 'false'; |
| [511](#L511) | } |
| [512](#L512) | } |
| [513](#L513) |  |
| [514](#L514) | // Start ALM object. |
| [515](#L515) |  |
| [516](#L516) | $ajaxloadmore  = ''; |
| [517](#L517) | $ajaxloadmore .= ALM\_WOOCOMMERCE::hide\_pagination( $woocommerce ); |
| [518](#L518) | $ajaxloadmore .= ALM\_WOOCOMMERCE::hide\_orderby( $woocommerce ); |
| [519](#L519) |  |
| [520](#L520) | // Elementor: Posts Widget Hook (Before). |
| [521](#L521) | $ajaxloadmore .= has\_action( 'alm\_elementor\_installed' ) && $elementor === 'posts' ? apply\_filters( 'alm\_elementor\_hide\_pagination', '' ) : ''; |
| [522](#L522) |  |
| [523](#L523) | /\* |
| [524](#L524) | \* ALM Before Container. |
| [525](#L525) | \* ALM Core Filter Hook. |
| [526](#L526) | \* |
| [527](#L527) | \* @return html |
| [528](#L528) | \*/ |
| [529](#L529) | $ajaxloadmore .= apply\_filters( 'alm\_before\_container', '' ); |
| [530](#L530) |  |
| [531](#L531) | // Generate ALM ID. |
| [532](#L532) | $div\_id = self::$counter > 1 ? 'ajax-load-more-' . self::$counter : 'ajax-load-more'; |
| [533](#L533) |  |
| [534](#L534) | // Localized ID - ID used for storing localized variables. |
| [535](#L535) | $localize\_id = empty( $id ) ? $div\_id : 'ajax-load-more-' . $id; |
| [536](#L536) |  |
| [537](#L537) | // Master ID - Manual or generated ALM ID. |
| [538](#L538) | $master\_id = empty( $id ) ? $div\_id : $id; |
| [539](#L539) |  |
| [540](#L540) | // Unique ALM ID. |
| [541](#L541) | $unique\_id = ! empty( $id ) ? 'data-id="' . $id . '"' : ''; |
| [542](#L542) |  |
| [543](#L543) | // Search atts - Used with SEO. |
| [544](#L544) | $is\_search = is\_search() ? 'data-search="true"' : ''; |
| [545](#L545) |  |
| [546](#L546) | // Nested Instance. |
| [547](#L547) | $is\_nested = $nested === 'true' ? ' data-nested="true"' : ''; |
| [548](#L548) |  |
| [549](#L549) | // Build Canonical URL. |
| [550](#L550) | $canonical\_url = apply\_filters( 'alm\_canonical\_url\_' . $id, alm\_get\_canonical\_url() ); |
| [551](#L551) |  |
| [552](#L552) | // ALM Wrapper Class. |
| [553](#L553) | $alm\_wrapper\_class = $woocommerce ? 'ajax-load-more-wrap ' . ALM\_WOOCOMMERCE::get\_wrapper\_class() : 'ajax-load-more-wrap'; |
| [554](#L554) |  |
| [555](#L555) | // ALM Direction. |
| [556](#L556) | $alm\_direction = $scroll\_direction ? ' alm-' . $scroll\_direction : ''; |
| [557](#L557) |  |
| [558](#L558) | // Start $ajaxloadmore element. |
| [559](#L559) | $ajaxloadmore .= '<div id="' . esc\_attr( $div\_id ) . '" class="' . esc\_attr( $alm\_wrapper\_class ) . esc\_attr( $wrapper\_classes ) . esc\_attr( $alm\_loading\_style ) . esc\_attr( $paging\_color ) . esc\_attr( $alm\_layouts ) . esc\_attr( $alm\_direction ) . '" ' . $unique\_id . ' data-alm-id="" data-canonical-url="' . esc\_attr( $canonical\_url ) . '" data-slug="' . esc\_attr( $slug ) . '" data-post-id="' . esc\_attr( $post\_id ) . '" ' . wp\_kses\_post( $is\_search ) . esc\_attr( $is\_nested ) . ' data-localized="' . alm\_convert\_dashes\_to\_underscore( $localize\_id ) . '\_vars" data-alm-object="' . alm\_convert\_dashes\_to\_underscore( $localize\_id ) . '">'; |
| [560](#L560) |  |
| [561](#L561) | /\*\* |
| [562](#L562) | \* ALM Inline CSS. |
| [563](#L563) | \*/ |
| [564](#L564) | $ajaxloadmore .= $inline\_css . $inline\_layouts\_css . $inline\_paging\_css . $inline\_single\_posts\_css; |
| [565](#L565) |  |
| [566](#L566) | // Horizontal Scroll CSS. |
| [567](#L567) | if ( $scroll\_direction === 'horizontal' && $scroll\_container ) { |
| [568](#L568) | // Add style for overflow style of the container. |
| [569](#L569) | $ajaxloadmore .= '<style>' . $scroll\_container . '{ height: auto; width: 100%; overflow: hidden; overflow-x: auto; -webkit-overflow-scrolling: touch; }</style>'; |
| [570](#L570) | } |
| [571](#L571) |  |
| [572](#L572) | // Masonry Hook (Before). |
| [573](#L573) | $ajaxloadmore .= apply\_filters( 'alm\_masonry\_before', $transition ); |
| [574](#L574) |  |
| [575](#L575) | /\*\* |
| [576](#L576) | \* WooCommerce Config |
| [577](#L577) | \* Set required WooCommerce config options |
| [578](#L578) | \*/ |
| [579](#L579) | if ( $woocommerce ) { |
| [580](#L580) | $container\_element = apply\_filters( 'alm\_woo\_container\_element', 'ul' ); |
| [581](#L581) | $post\_type         = 'product'; |
| [582](#L582) |  |
| [583](#L583) | $woo\_config = [ |
| [584](#L584) | 'classes'  => apply\_filters( 'alm\_woo\_classes', 'products stylefree' ), |
| [585](#L585) | 'columns'  => ALM\_WOOCOMMERCE::get\_loop\_prop( 'columns', '4' ), |
| [586](#L586) | 'per\_page' => ALM\_WOOCOMMERCE::get\_loop\_prop( 'per\_page', $posts\_per\_page ), |
| [587](#L587) | ]; |
| [588](#L588) |  |
| [589](#L589) | /\*\* |
| [590](#L590) | \* WooCommerce hook to filter columns, per\_page, classes etc |
| [591](#L591) | \* |
| [592](#L592) | \* @return array |
| [593](#L593) | \*/ |
| [594](#L594) | $woo\_config = apply\_filters( 'alm\_woo\_config', $woo\_config ); |
| [595](#L595) |  |
| [596](#L596) | $css\_classes      = $css\_classes . ' ' . $woo\_config['classes'] . ' columns-' . $woo\_config['columns']; |
| [597](#L597) | $posts\_per\_page   = $woo\_config['per\_page']; |
| [598](#L598) | $preloaded\_amount = $woo\_config['per\_page']; |
| [599](#L599) |  |
| [600](#L600) | if ( is\_archive() ) { |
| [601](#L601) | $obj = get\_queried\_object(); |
| [602](#L602) | if ( isset( $obj->taxonomy ) && isset( $obj->slug ) ) { |
| [603](#L603) | $taxonomy          = $obj->taxonomy; |
| [604](#L604) | $taxonomy\_terms    = $obj->slug; |
| [605](#L605) | $taxonomy\_operator = 'IN'; |
| [606](#L606) | } |
| [607](#L607) | } |
| [608](#L608) |  |
| [609](#L609) | if ( ! $filters ) { |
| [610](#L610) | // Do not run if ALM filters are active. |
| [611](#L611) | $woo\_orderby\_value = ( function\_exists( 'wc\_clean' ) && isset( $\_GET['orderby'] ) ) ? wc\_clean( $\_GET['orderby'] ) : apply\_filters( 'woocommerce\_default\_catalog\_orderby', get\_option( 'woocommerce\_default\_catalog\_orderby' ) ); // phpcs:ignore |
| [612](#L612) |  |
| [613](#L613) | switch ( $woo\_orderby\_value ) { |
| [614](#L614) | case 'popularity': |
| [615](#L615) | $meta\_key = 'total\_sales'; |
| [616](#L616) | $orderby  = 'meta\_value\_num'; |
| [617](#L617) | $order    = 'DESC'; |
| [618](#L618) | break; |
| [619](#L619) |  |
| [620](#L620) | case 'rating': |
| [621](#L621) | $meta\_key = '\_wc\_average\_rating'; |
| [622](#L622) | $orderby  = 'meta\_value\_num'; |
| [623](#L623) | $order    = 'DESC'; |
| [624](#L624) | break; |
| [625](#L625) |  |
| [626](#L626) | case 'price-desc': |
| [627](#L627) | $meta\_key = '\_price'; |
| [628](#L628) | $orderby  = 'meta\_value\_num'; |
| [629](#L629) | $order    = 'DESC'; |
| [630](#L630) | break; |
| [631](#L631) |  |
| [632](#L632) | case 'price': |
| [633](#L633) | $meta\_key = '\_price'; |
| [634](#L634) | $orderby  = 'meta\_value\_num'; |
| [635](#L635) | $order    = 'ASC'; |
| [636](#L636) | break; |
| [637](#L637) |  |
| [638](#L638) | default: |
| [639](#L639) | $custom\_options = apply\_filters( 'alm\_woo\_orderby\_options', '' ); |
| [640](#L640) | if ( ! empty( $custom\_options ) ) { |
| [641](#L641) | foreach ( $custom\_options as $option ) { |
| [642](#L642) | if ( isset( $option['name'] ) && $option['name'] === $woo\_orderby\_value ) { |
| [643](#L643) | $meta\_key = isset( $option['meta\_key'] ) ? wc\_clean( $option['meta\_key'] ) : $meta\_key; |
| [644](#L644) | $orderby  = isset( $option['orderby'] ) ? wc\_clean( $option['orderby'] ) : $orderby; |
| [645](#L645) | $order    = isset( $option['order'] ) ? wc\_clean( $option['order'] ) : $order; |
| [646](#L646) | } |
| [647](#L647) | } |
| [648](#L648) | } |
| [649](#L649) | break; |
| [650](#L650) | } |
| [651](#L651) | } |
| [652](#L652) | } |
| [653](#L653) |  |
| [654](#L654) | /\*\* |
| [655](#L655) | \* Archive Integration. |
| [656](#L656) | \* Set required archive config options. |
| [657](#L657) | \*/ |
| [658](#L658) | if ( $archive ) { |
| [659](#L659) | if( is\_archive() ) { |
| [660](#L660) | if ( is\_date() ) { |
| [661](#L661) | $archive\_year  = get\_the\_date( 'Y' ); |
| [662](#L662) | $archive\_month = get\_the\_date( 'm' ); |
| [663](#L663) | $archive\_day   = get\_the\_date( 'd' ); |
| [664](#L664) | if ( is\_year() ) { |
| [665](#L665) | $year = $archive\_year; |
| [666](#L666) | } |
| [667](#L667) | if ( is\_month() ) { |
| [668](#L668) | $month = $archive\_month; |
| [669](#L669) | $year  = $archive\_year; |
| [670](#L670) | } |
| [671](#L671) | if ( is\_day() ) { |
| [672](#L672) | $year  = $archive\_year; |
| [673](#L673) | $month = $archive\_month; |
| [674](#L674) | $day   = $archive\_day; |
| [675](#L675) | } |
| [676](#L676) | } |
| [677](#L677) | if ( is\_author() ) { |
| [678](#L678) | $author = get\_the\_author\_meta( 'ID' ); |
| [679](#L679) | } |
| [680](#L680) | if ( is\_tax() || is\_category() || is\_tag() ) { |
| [681](#L681) | $obj               = get\_queried\_object(); |
| [682](#L682) | $taxonomy          = $obj->taxonomy; |
| [683](#L683) | $taxonomy\_terms    = $obj->slug; |
| [684](#L684) | $taxonomy\_operator = 'IN'; |
| [685](#L685) | } |
| [686](#L686) | if ( is\_post\_type\_archive() ) { |
| [687](#L687) | $obj = get\_queried\_object(); |
| [688](#L688) | if ( isset( $obj->name ) ) { |
| [689](#L689) | $post\_type = $obj->name; |
| [690](#L690) | } |
| [691](#L691) | } |
| [692](#L692) | } |
| [693](#L693) | if ( is\_search() ) { |
| [694](#L694) | $search = get\_search\_query(); |
| [695](#L695) | } |
| [696](#L696) | } |
| [697](#L697) |  |
| [698](#L698) | // WooCommerce Add-on || Elementor Add-on. |
| [699](#L699) | if ( $woo || $elementor === 'posts' ) { |
| [700](#L700) | $filters     = false; |
| [701](#L701) | $single\_post = false; |
| [702](#L702) | $seo         = false; |
| [703](#L703) | $paging      = false; |
| [704](#L704) | $comments    = false; |
| [705](#L705) | $nextpage    = false; |
| [706](#L706) | $acf         = false; |
| [707](#L707) | $users       = false; |
| [708](#L708) | $preloaded   = false; |
| [709](#L709) | } |
| [710](#L710) | $woo = $elementor === 'posts' ? false : $woo; |
| [711](#L711) |  |
| [712](#L712) | // Single Post Add-on. |
| [713](#L713) | if ( $single\_post ) { |
| [714](#L714) | $preloaded = false; |
| [715](#L715) | $seo       = false; |
| [716](#L716) | $paging    = false; |
| [717](#L717) | $comments  = false; |
| [718](#L718) | $acf       = false; |
| [719](#L719) | } |
| [720](#L720) |  |
| [721](#L721) | // Comments Add-on. |
| [722](#L722) | if ( $comments ) { |
| [723](#L723) | $single\_post    = false; |
| [724](#L724) | $seo            = false; |
| [725](#L725) | $filters        = false; |
| [726](#L726) | $acf            = false; |
| [727](#L727) | $posts\_per\_page = $comments\_per\_page; |
| [728](#L728) | if ( $preloaded === 'true' ) { |
| [729](#L729) | $preloaded\_amount = $comments\_per\_page; |
| [730](#L730) | } |
| [731](#L731) | } |
| [732](#L732) |  |
| [733](#L733) | // Users Add-on. |
| [734](#L734) | if ( $users ) { |
| [735](#L735) | $posts\_per\_page = $users\_per\_page; |
| [736](#L736) | } |
| [737](#L737) |  |
| [738](#L738) | // Term Query. |
| [739](#L739) | if ( $term\_query ) { |
| [740](#L740) | $posts\_per\_page = $term\_query\_number; |
| [741](#L741) | } |
| [742](#L742) |  |
| [743](#L743) | // Nextpage Add-on. |
| [744](#L744) | if ( $nextpage ) { |
| [745](#L745) | $single\_post = false; |
| [746](#L746) | $seo         = false; |
| [747](#L747) | $preloaded   = false; |
| [748](#L748) | $comments    = false; |
| [749](#L749) | $acf         = false; |
| [750](#L750) | $pause       = 'true'; |
| [751](#L751) | } |
| [752](#L752) |  |
| [753](#L753) | // If SEO, Filters or Paging - set preloaded\_amount to posts\_per\_page. |
| [754](#L754) | if ( $seo === 'true' || $filters ) { |
| [755](#L755) | $preloaded\_amount = $posts\_per\_page; |
| [756](#L756) | } |
| [757](#L757) |  |
| [758](#L758) | // $query\_args array to store global ALM variables. |
| [759](#L759) | $query\_args = [ |
| [760](#L760) | 'post\_id'                   => $post\_id, |
| [761](#L761) | 'preloaded'                 => $preloaded, |
| [762](#L762) | 'preloaded\_amount'          => $preloaded\_amount, |
| [763](#L763) | 'filters'                   => $filters, |
| [764](#L764) | 'facets'                    => $facets, |
| [765](#L765) | 'acf'                       => $acf, |
| [766](#L766) | 'acf\_post\_id'               => $acf\_post\_id, |
| [767](#L767) | 'acf\_field\_type'            => $acf\_field\_type, |
| [768](#L768) | 'acf\_field\_name'            => $acf\_field\_name, |
| [769](#L769) | 'acf\_parent\_field\_name'     => $acf\_parent\_field\_name, |
| [770](#L770) | 'acf\_row\_index'             => $acf\_row\_index, |
| [771](#L771) | 'term\_query'                => [ |
| [772](#L772) | 'taxonomy'   => $term\_query\_taxonomy, |
| [773](#L773) | 'hide\_empty' => $term\_query\_hide\_empty, |
| [774](#L774) | 'number'     => $term\_query\_number, |
| [775](#L775) | ], |
| [776](#L776) | 'nextpage'                  => $nextpage, |
| [777](#L777) | 'users'                     => $users, |
| [778](#L778) | 'users\_role'                => $users\_role, |
| [779](#L779) | 'users\_include'             => $users\_include, |
| [780](#L780) | 'users\_exclude'             => $users\_exclude, |
| [781](#L781) | 'users\_per\_page'            => $users\_per\_page, |
| [782](#L782) | 'users\_order'               => $users\_order, |
| [783](#L783) | 'users\_orderby'             => $users\_orderby, |
| [784](#L784) | 'comments'                  => $comments, |
| [785](#L785) | 'comments\_per\_page'         => $comments\_per\_page, |
| [786](#L786) | 'comments\_type'             => $comments\_type, |
| [787](#L787) | 'comments\_style'            => $comments\_style, |
| [788](#L788) | 'comments\_template'         => $comments\_template, |
| [789](#L789) | 'comments\_callback'         => $comments\_callback, |
| [790](#L790) | 'comments\_post\_id'          => $comments\_post\_id, |
| [791](#L791) | 'post\_type'                 => $post\_type, |
| [792](#L792) | 'sticky\_posts'              => $sticky\_posts, |
| [793](#L793) | 'post\_format'               => $post\_format, |
| [794](#L794) | 'category'                  => $category, |
| [795](#L795) | 'category\_\_and'             => $category\_\_and, |
| [796](#L796) | 'category\_\_not\_in'          => $category\_\_not\_in, |
| [797](#L797) | 'tag'                       => $tag, |
| [798](#L798) | 'tag\_\_and'                  => $tag\_\_and, |
| [799](#L799) | 'tag\_\_not\_in'               => $tag\_\_not\_in, |
| [800](#L800) | 'taxonomy'                  => $taxonomy, |
| [801](#L801) | 'taxonomy\_terms'            => $taxonomy\_terms, |
| [802](#L802) | 'taxonomy\_operator'         => $taxonomy\_operator, |
| [803](#L803) | 'taxonomy\_include\_children' => $taxonomy\_include\_children, |
| [804](#L804) | 'taxonomy\_relation'         => $taxonomy\_relation, |
| [805](#L805) | 'sort\_key'                  => $sort\_key, |
| [806](#L806) | 'meta\_key'                  => $meta\_key, |
| [807](#L807) | 'meta\_value'                => $meta\_value, |
| [808](#L808) | 'meta\_compare'              => $meta\_compare, |
| [809](#L809) | 'meta\_relation'             => $meta\_relation, |
| [810](#L810) | 'meta\_type'                 => $meta\_type, |
| [811](#L811) | 'year'                      => $year, |
| [812](#L812) | 'month'                     => $month, |
| [813](#L813) | 'day'                       => $day, |
| [814](#L814) | 'author'                    => $author, |
| [815](#L815) | 'post\_\_in'                  => $post\_\_in, |
| [816](#L816) | 'post\_\_not\_in'              => $post\_\_not\_in, |
| [817](#L817) | 'search'                    => $search, |
| [818](#L818) | 'custom\_args'               => $custom\_args, |
| [819](#L819) | 'post\_status'               => $post\_status, |
| [820](#L820) | 'order'                     => $order, |
| [821](#L821) | 'orderby'                   => $orderby, |
| [822](#L822) | 'exclude'                   => $exclude, |
| [823](#L823) | 'offset'                    => $offset, |
| [824](#L824) | 'posts\_per\_page'            => $posts\_per\_page, |
| [825](#L825) | 'lang'                      => $lang, |
| [826](#L826) | 'css\_classes'               => $css\_classes, |
| [827](#L827) | 'id'                        => $id, |
| [828](#L828) | 'vars'                      => $vars, |
| [829](#L829) | 'repeater'                  => $repeater, |
| [830](#L830) | 'theme\_repeater'            => $theme\_repeater, |
| [831](#L831) | 'paged'                     => get\_query\_var( 'paged' ) ? get\_query\_var( 'paged' ) : 1, |
| [832](#L832) | ]; |
| [833](#L833) |  |
| [834](#L834) | // Set `alm-listing` classname. |
| [835](#L835) | $listing\_class = $comments === 'true' ? 'commentlist alm-comments' : 'alm-listing'; // If Comments. |
| [836](#L836) |  |
| [837](#L837) | // Confirm container element type is valid. |
| [838](#L838) | $container\_element\_array = [ 'ul', 'ol', 'div', 'article', 'table', 'section', 'dl' ]; |
| [839](#L839) | $container\_element       = in\_array( $container\_element, $container\_element\_array, true ) ? $container\_element : 'ul'; |
| [840](#L840) |  |
| [841](#L841) | // Open #ajax-load-more. |
| [842](#L842) | $ajaxloadmore .= '<' . esc\_attr( $container\_element ) . ' aria-live="polite" aria-atomic="true"'; |
| [843](#L843) | $ajaxloadmore .= ' class="' . esc\_attr( $listing\_class ) . ' alm-ajax' . esc\_attr( $paging\_container\_class ) . esc\_attr( $classname ) . esc\_attr( $css\_classes ) . '"'; |
| [844](#L844) | $ajaxloadmore .= $paging\_transition; |
| [845](#L845) |  |
| [846](#L846) | // Build container data atts. |
| [847](#L847) |  |
| [848](#L848) | // Query loop. |
| [849](#L849) | if( $queryloop) { |
| [850](#L850) | $ajaxloadmore .= ' data-query-loop="true"'; |
| [851](#L851) | } |
| [852](#L852) |  |
| [853](#L853) | // Advanced Custom Fields Extension. |
| [854](#L854) | if ( has\_action( 'alm\_acf\_installed' ) && $acf === 'true' ) { |
| [855](#L855) | $acf\_return    = apply\_filters( |
| [856](#L856) | 'alm\_acf\_shortcode', |
| [857](#L857) | $acf, |
| [858](#L858) | $acf\_field\_type, |
| [859](#L859) | $acf\_field\_name, |
| [860](#L860) | $acf\_post\_id, |
| [861](#L861) | $post\_id, |
| [862](#L862) | $acf\_parent\_field\_name, |
| [863](#L863) | $acf\_row\_index |
| [864](#L864) | ); |
| [865](#L865) | $ajaxloadmore .= wp\_kses\_post( $acf\_return ); |
| [866](#L866) | } |
| [867](#L867) |  |
| [868](#L868) | // Cache Add-on. |
| [869](#L869) | $alm\_auto\_cache = isset( $\_GET['alm\_auto\_cache'] ); |
| [870](#L870) | if ( has\_action( 'alm\_cache\_installed' ) && $cache === 'true' ) { |
| [871](#L871) | // Confirm cache version is 2.0 or greater. |
| [872](#L872) | $cache\_version\_check = defined( 'ALM\_CACHE\_VERSION' ) && version\_compare( ALM\_CACHE\_VERSION, '2.0', '>=' ); |
| [873](#L873) | if ( $cache\_version\_check ) { |
| [874](#L874) | $cache\_return  = apply\_filters( |
| [875](#L875) | 'alm\_cache\_shortcode', |
| [876](#L876) | $cache, |
| [877](#L877) | $cache\_id, |
| [878](#L878) | $options |
| [879](#L879) | ); |
| [880](#L880) | $paging        = $alm\_auto\_cache ? false : $paging;    // Disable paging if auto generate cache active. |
| [881](#L881) | $ajaxloadmore .= wp\_kses\_post( $cache\_return ); |
| [882](#L882) | } |
| [883](#L883) | } |
| [884](#L884) |  |
| [885](#L885) | // CTA Add-on. |
| [886](#L886) | if ( has\_action( 'alm\_cta\_installed' ) && $cta === 'true' ) { |
| [887](#L887) | $cta\_return    = apply\_filters( |
| [888](#L888) | 'alm\_cta\_shortcode', |
| [889](#L889) | $cta, |
| [890](#L890) | $cta\_position, |
| [891](#L891) | $cta\_repeater, |
| [892](#L892) | $cta\_theme\_repeater |
| [893](#L893) | ); |
| [894](#L894) | $ajaxloadmore .= wp\_kses\_post( $cta\_return ); |
| [895](#L895) | } |
| [896](#L896) |  |
| [897](#L897) | // Comments Add-on. |
| [898](#L898) | if ( has\_action( 'alm\_comments\_installed' ) && $comments === 'true' ) { |
| [899](#L899) | $comments\_return = apply\_filters( |
| [900](#L900) | 'alm\_comments\_shortcode', |
| [901](#L901) | $comments, |
| [902](#L902) | $comments\_per\_page, |
| [903](#L903) | $comments\_type, |
| [904](#L904) | $comments\_style, |
| [905](#L905) | $comments\_template, |
| [906](#L906) | $comments\_callback, |
| [907](#L907) | $comments\_post\_id |
| [908](#L908) | ); |
| [909](#L909) | $ajaxloadmore   .= wp\_kses\_post( $comments\_return ); |
| [910](#L910) | } |
| [911](#L911) |  |
| [912](#L912) | // Filters Add-on. |
| [913](#L913) | if ( has\_action( 'alm\_filters\_installed' ) && $filters ) { |
| [914](#L914) | $seo            = false; |
| [915](#L915) | $filters\_return = apply\_filters( |
| [916](#L916) | 'alm\_filters\_shortcode\_params', |
| [917](#L917) | $filters, |
| [918](#L918) | $target, |
| [919](#L919) | $filters\_url, |
| [920](#L920) | $filters\_paging, |
| [921](#L921) | $filters\_scroll, |
| [922](#L922) | $filters\_scrolltop, |
| [923](#L923) | $filters\_debug, |
| [924](#L924) | $options |
| [925](#L925) | ); |
| [926](#L926) | $ajaxloadmore  .= wp\_kses\_post( $filters\_return ); |
| [927](#L927) | $facets         = function\_exists( 'alm\_filters\_has\_facets' ) && alm\_filters\_has\_facets( $target ); |
| [928](#L928) | } |
| [929](#L929) |  |
| [930](#L930) | // Nextpage Post Add-on. |
| [931](#L931) | if ( has\_action( 'alm\_nextpage\_installed' ) && $nextpage ) { |
| [932](#L932) | // If post ID is null or equals the shortcode builder output convert to post ID. |
| [933](#L933) | if ( ! $nextpage\_post\_id || $nextpage\_post\_id === '%post\_id%' || $nextpage\_post\_id === "'.get\_the\_ID().'" ) { |
| [934](#L934) | global $post; |
| [935](#L935) | $nextpage\_post\_id = $post->ID; |
| [936](#L936) | } |
| [937](#L937) |  |
| [938](#L938) | // Build shortcode output. |
| [939](#L939) | $nextpage\_return = apply\_filters( |
| [940](#L940) | 'alm\_nextpage\_shortcode', |
| [941](#L941) | $nextpage\_urls, |
| [942](#L942) | $nextpage\_post\_id, |
| [943](#L943) | $nextpage\_scroll, |
| [944](#L944) | $nextpage\_title\_template, |
| [945](#L945) | $nextpage\_type, |
| [946](#L946) | $id |
| [947](#L947) | ); |
| [948](#L948) | $ajaxloadmore   .= wp\_kses\_post( $nextpage\_return ); |
| [949](#L949) | } |
| [950](#L950) |  |
| [951](#L951) | // Paging Add-on. |
| [952](#L952) | if ( has\_action( 'alm\_paging\_installed' ) && $paging === 'true' ) { |
| [953](#L953) | $paging\_return = apply\_filters( |
| [954](#L954) | 'alm\_paging\_shortcode', |
| [955](#L955) | $paging, |
| [956](#L956) | $paging\_controls, |
| [957](#L957) | $paging\_show\_at\_most, |
| [958](#L958) | $paging\_classes, |
| [959](#L959) | $paging\_first\_label, |
| [960](#L960) | $paging\_last\_label, |
| [961](#L961) | $paging\_previous\_label, |
| [962](#L962) | $paging\_next\_label, |
| [963](#L963) | $paging\_scroll |
| [964](#L964) | ); |
| [965](#L965) | $ajaxloadmore .= wp\_kses\_post( $paging\_return ); |
| [966](#L966) | } |
| [967](#L967) |  |
| [968](#L968) | // Preloaded Add-on. |
| [969](#L969) | if ( $preloaded === 'true' && has\_action( 'alm\_preload\_installed' ) ) { |
| [970](#L970) | // Set preloaded to false if SEO, not Paging and page is greaten than 1. |
| [971](#L971) | if ( $seo === 'true' && $paging !== 'true' && (int) $query\_args['paged'] > 1 ) { |
| [972](#L972) | $preloaded     = false; |
| [973](#L973) | $ajaxloadmore .= ' data-is-preloaded="true"'; |
| [974](#L974) | } |
| [975](#L975) |  |
| [976](#L976) | // Filters. |
| [977](#L977) | if ( $filters && $\_SERVER['QUERY\_STRING'] ) {  // phpcs:ignore |
| [978](#L978) | $filters\_paged = isset( $\_GET['pg'] ) ? (int) $\_GET['pg'] : 1; |
| [979](#L979) | if ( $filters\_paged > 1 ) { |
| [980](#L980) | // Set global $paged to querystring pg. |
| [981](#L981) | $query\_args['paged'] = $filters\_paged; |
| [982](#L982) |  |
| [983](#L983) | if ( $paging !== 'true' ) { |
| [984](#L984) | $preloaded     = false; |
| [985](#L985) | $ajaxloadmore .= ' data-is-preloaded="true"'; |
| [986](#L986) | } |
| [987](#L987) | } |
| [988](#L988) | } |
| [989](#L989) | $ajaxloadmore .= ' data-preloaded="' . esc\_attr( $preloaded ) . '"'; |
| [990](#L990) | $ajaxloadmore .= ' data-preloaded-amount="' . esc\_attr( $preloaded\_amount ) . '"'; |
| [991](#L991) | } |
| [992](#L992) |  |
| [993](#L993) | // REST API Extension. |
| [994](#L994) | if ( has\_action( 'alm\_rest\_api\_installed' ) && $restapi === true ) { |
| [995](#L995) | $restapi\_return = apply\_filters( |
| [996](#L996) | 'alm\_rest\_api\_shortcode', |
| [997](#L997) | 'true', |
| [998](#L998) | $restapi\_base, |
| [999](#L999) | $restapi\_namespace, |
| [1000](#L1000) | $restapi\_endpoint, |
| [1001](#L1001) | $restapi\_template\_id, |
| [1002](#L1002) | $restapi\_debug |
| [1003](#L1003) | ); |
| [1004](#L1004) | $ajaxloadmore  .= wp\_kses\_post( $restapi\_return ); |
| [1005](#L1005) | } |
| [1006](#L1006) |  |
| [1007](#L1007) | // SEO Add-on. |
| [1008](#L1008) | if ( has\_action( 'alm\_seo\_installed' ) && $seo === 'true' ) { |
| [1009](#L1009) | $seo\_return    = apply\_filters( |
| [1010](#L1010) | 'alm\_seo\_shortcode', |
| [1011](#L1011) | $seo, |
| [1012](#L1012) | $preloaded, |
| [1013](#L1013) | $options, |
| [1014](#L1014) | $seo\_offset |
| [1015](#L1015) | ); |
| [1016](#L1016) | $ajaxloadmore .= wp\_kses\_post( $seo\_return ); |
| [1017](#L1017) | } |
| [1018](#L1018) |  |
| [1019](#L1019) | // Single Posts Add-on. |
| [1020](#L1020) | if ( has\_action( 'alm\_single\_post\_installed' ) && $single\_post ) { |
| [1021](#L1021) | // Get post ID if null. |
| [1022](#L1022) | if ( ! $single\_post\_id ) { |
| [1023](#L1023) | global $post; |
| [1024](#L1024) | $single\_post\_id = $post->ID; |
| [1025](#L1025) | } |
| [1026](#L1026) | // Check for target element. |
| [1027](#L1027) | if ( $single\_post\_target ) { |
| [1028](#L1028) | $offset = 1; |
| [1029](#L1029) | $pause  = 'true'; |
| [1030](#L1030) | } |
| [1031](#L1031) | // Build Shortcode. |
| [1032](#L1032) | $single\_post\_return = apply\_filters( |
| [1033](#L1033) | 'alm\_single\_post\_shortcode', |
| [1034](#L1034) | $single\_post\_id, |
| [1035](#L1035) | $single\_post\_order, |
| [1036](#L1036) | $single\_post\_taxonomy, |
| [1037](#L1037) | $single\_post\_excluded\_terms, |
| [1038](#L1038) | $single\_post\_progress\_bar, |
| [1039](#L1039) | $options, |
| [1040](#L1040) | $single\_post\_target, |
| [1041](#L1041) | $single\_post\_query\_order, |
| [1042](#L1042) | $query\_args, |
| [1043](#L1043) | $single\_post\_preview |
| [1044](#L1044) | ); |
| [1045](#L1045) |  |
| [1046](#L1046) | $ajaxloadmore .= wp\_kses\_post( $single\_post\_return ); |
| [1047](#L1047) | } |
| [1048](#L1048) |  |
| [1049](#L1049) | // Term Query Extension. |
| [1050](#L1050) | if ( has\_action( 'alm\_terms\_installed' ) && $term\_query ) { |
| [1051](#L1051) | $term\_query\_return = apply\_filters( |
| [1052](#L1052) | 'alm\_terms\_shortcode', |
| [1053](#L1053) | $term\_query, |
| [1054](#L1054) | $term\_query\_taxonomy, |
| [1055](#L1055) | $term\_query\_hide\_empty, |
| [1056](#L1056) | $term\_query\_number |
| [1057](#L1057) | ); |
| [1058](#L1058) |  |
| [1059](#L1059) | $ajaxloadmore .= wp\_kses\_post( $term\_query\_return ); |
| [1060](#L1060) | } |
| [1061](#L1061) |  |
| [1062](#L1062) | // Users Extension. |
| [1063](#L1063) | if ( has\_action( 'alm\_users\_installed' ) && $users ) { |
| [1064](#L1064) | $posts\_per\_page = $users\_per\_page; // Update $posts\_per\_page var to be $users\_per\_page. |
| [1065](#L1065) | $users\_return   = apply\_filters( |
| [1066](#L1066) | 'alm\_users\_shortcode', |
| [1067](#L1067) | $users\_role, |
| [1068](#L1068) | $users\_include, |
| [1069](#L1069) | $users\_exclude, |
| [1070](#L1070) | $posts\_per\_page, |
| [1071](#L1071) | $users\_order, |
| [1072](#L1072) | $users\_orderby, |
| [1073](#L1073) | $options |
| [1074](#L1074) | ); |
| [1075](#L1075) | $ajaxloadmore  .= wp\_kses\_post( $users\_return ); |
| [1076](#L1076) | } |
| [1077](#L1077) |  |
| [1078](#L1078) | // Woocommerce Add-on. |
| [1079](#L1079) | // phpcs:ignore |
| [1080](#L1080) | if ( $woo && has\_action( 'alm\_woocommerce\_shortcode' ) && in\_array( 'woocommerce/woocommerce.php', apply\_filters( 'active\_plugins', get\_option( 'active\_plugins' ) ), true ) ) { |
| [1081](#L1081) | $woo\_return    = apply\_filters( 'alm\_woocommerce\_shortcode', $localize\_id, $query\_args ); |
| [1082](#L1082) | $ajaxloadmore .= wp\_kses\_post( $woo\_return ); |
| [1083](#L1083) | } |
| [1084](#L1084) |  |
| [1085](#L1085) | // phpcs:ignore |
| [1086](#L1086) | if ( $elementor === 'posts' && $elementor\_target && has\_action( 'alm\_elementor\_params' ) && in\_array( 'elementor-pro/elementor-pro.php', apply\_filters( 'active\_plugins', get\_option( 'active\_plugins' ) ) ) ) { |
| [1087](#L1087) | $elementor\_params = [ |
| [1088](#L1088) | 'target'     => $elementor\_target, |
| [1089](#L1089) | 'url'        => $elementor\_url, |
| [1090](#L1090) | 'paged'      => $elementor\_woo\_paged !== 1 ? $elementor\_woo\_paged : $elementor\_paged, |
| [1091](#L1091) | 'controls'   => $elementor\_controls, |
| [1092](#L1092) | 'scrolltop'  => $elementor\_scrolltop, |
| [1093](#L1093) | 'prev\_label' => $elementor\_link\_label |
| [1094](#L1094) | ]; |
| [1095](#L1095) |  |
| [1096](#L1096) | $elementor\_return = apply\_filters( 'alm\_elementor\_params', $elementor\_params ); |
| [1097](#L1097) |  |
| [1098](#L1098) | $ajaxloadmore .= ' data-elementor="posts"'; |
| [1099](#L1099) | $ajaxloadmore .= wp\_kses\_post( $elementor\_return ); |
| [1100](#L1100) | } |
| [1101](#L1101) |  |
| [1102](#L1102) | $ajaxloadmore .= ' data-container-type="' . esc\_attr( $container\_element ) . '"'; |
| [1103](#L1103) | $ajaxloadmore .= ' data-loading-style="' . esc\_attr( ltrim( $alm\_loading\_style ) ) . '"'; |
| [1104](#L1104) |  |
| [1105](#L1105) | // Archive. |
| [1106](#L1106) | $ajaxloadmore .= $archive ? ' data-archive="true"' : ''; |
| [1107](#L1107) |  |
| [1108](#L1108) | // Woocommerce. |
| [1109](#L1109) | $ajaxloadmore .= $woocommerce ? ' data-woocommerce="true"' : ''; |
| [1110](#L1110) |  |
| [1111](#L1111) | // Repeaters. |
| [1112](#L1112) | if ( ! $woo && $elementor !== 'posts' ) { |
| [1113](#L1113) | $ajaxloadmore .= $theme\_repeater === 'null' ? ' data-repeater="' . esc\_attr( $repeater ) . '"' : ''; |
| [1114](#L1114) | $ajaxloadmore .= $theme\_repeater !== 'null' ? ' data-theme-repeater="' . esc\_attr( $theme\_repeater ) . '"' : ''; |
| [1115](#L1115) | } |
| [1116](#L1116) |  |
| [1117](#L1117) | // Post Type. |
| [1118](#L1118) | $ajaxloadmore .= ' data-post-type="' . esc\_attr( $post\_type ) . '"'; |
| [1119](#L1119) |  |
| [1120](#L1120) | // Sticky posts. |
| [1121](#L1121) | $ajaxloadmore .= $sticky\_posts === 'true' ? ' data-sticky-posts="' . esc\_attr( $sticky\_posts ) . '"' : ''; |
| [1122](#L1122) |  |
| [1123](#L1123) | // Post Format. |
| [1124](#L1124) | $ajaxloadmore .= $post\_format ? ' data-post-format="' . esc\_attr( $post\_format ) . '"' : ''; |
| [1125](#L1125) |  |
| [1126](#L1126) | // Category. |
| [1127](#L1127) | $ajaxloadmore .= $category ? ' data-category="' . esc\_attr( $category ) . '"' : ''; |
| [1128](#L1128) | $ajaxloadmore .= $category\_\_and ? ' data-category-and="' . esc\_attr( $category\_\_and ) . '"' : ''; |
| [1129](#L1129) | $ajaxloadmore .= $category\_\_not\_in ? ' data-category-not-in="' . esc\_attr( $category\_\_not\_in ) . '"' : ''; |
| [1130](#L1130) |  |
| [1131](#L1131) | // Tag. |
| [1132](#L1132) | $ajaxloadmore .= $tag ? ' data-tag="' . esc\_attr( $tag ) . '"' : ''; |
| [1133](#L1133) | $ajaxloadmore .= $tag\_\_and ? ' data-tag-and="' . esc\_attr( $tag\_\_and ) . '"' : ''; |
| [1134](#L1134) | $ajaxloadmore .= $tag\_\_not\_in ? ' data-tag-not-in="' . esc\_attr( $tag\_\_not\_in ) . '"' : ''; |
| [1135](#L1135) |  |
| [1136](#L1136) | // Taxonomy. |
| [1137](#L1137) | $ajaxloadmore .= $taxonomy ? ' data-taxonomy="' . esc\_attr( $taxonomy ) . '"' : ''; |
| [1138](#L1138) | $ajaxloadmore .= $taxonomy\_terms ? ' data-taxonomy-terms="' . esc\_attr( $taxonomy\_terms ) . '"' : ''; |
| [1139](#L1139) | $ajaxloadmore .= $taxonomy\_operator ? ' data-taxonomy-operator="' . esc\_attr( $taxonomy\_operator ) . '"' : ''; |
| [1140](#L1140) | $ajaxloadmore .= $taxonomy\_include\_children ? ' data-taxonomy-include-children="' . esc\_attr( $taxonomy\_include\_children ) . '"' : ''; |
| [1141](#L1141) | $ajaxloadmore .= $taxonomy\_relation ? ' data-taxonomy-relation="' . esc\_attr( $taxonomy\_relation ) . '"' : ''; |
| [1142](#L1142) |  |
| [1143](#L1143) | // Meta Query. |
| [1144](#L1144) | $ajaxloadmore .= $sort\_key ? ' data-sort-key="' . esc\_attr( $sort\_key ) . '"' : ''; |
| [1145](#L1145) | $ajaxloadmore .= $meta\_key ? ' data-meta-key="' . esc\_attr( $meta\_key ) . '"' : ''; |
| [1146](#L1146) | $ajaxloadmore .= $meta\_value || $meta\_value === '0' ? ' data-meta-value="' . esc\_attr( $meta\_value ) . '"' : ''; |
| [1147](#L1147) | $ajaxloadmore .= $meta\_compare ? ' data-meta-compare="' . esc\_attr( $meta\_compare ) . '"' : ''; |
| [1148](#L1148) | $ajaxloadmore .= $meta\_relation ? ' data-meta-relation="' . esc\_attr( $meta\_relation ) . '"' : ''; |
| [1149](#L1149) | $ajaxloadmore .= $meta\_type ? ' data-meta-type="' . esc\_attr( $meta\_type ) . '"' : ''; |
| [1150](#L1150) |  |
| [1151](#L1151) | // Dates. |
| [1152](#L1152) | $ajaxloadmore .= $year ? ' data-year="' . esc\_attr( $year ) . '"' : ''; |
| [1153](#L1153) | $ajaxloadmore .= $month ? ' data-month="' . esc\_attr( $month ) . '"' : ''; |
| [1154](#L1154) | $ajaxloadmore .= $day ? ' data-day="' . esc\_attr( $day ) . '"' : ''; |
| [1155](#L1155) |  |
| [1156](#L1156) | // Author. |
| [1157](#L1157) | $ajaxloadmore .= $author ? ' data-author="' . esc\_attr( $author ) . '"' : ''; |
| [1158](#L1158) |  |
| [1159](#L1159) | // Post Parameters. |
| [1160](#L1160) | $ajaxloadmore .= $post\_\_in ? ' data-post-in="' . esc\_attr( $post\_\_in ) . '"' : ''; |
| [1161](#L1161) | $ajaxloadmore .= $post\_\_not\_in ? ' data-post-not-in="' . esc\_attr( $post\_\_not\_in ) . '"' : ''; |
| [1162](#L1162) | $ajaxloadmore .= $exclude ? ' data-exclude="' . esc\_attr( $exclude ) . '"' : ''; |
| [1163](#L1163) |  |
| [1164](#L1164) | // Search. |
| [1165](#L1165) | $ajaxloadmore .= $search ? ' data-search="' . esc\_attr( $search ) . '"' : ''; |
| [1166](#L1166) |  |
| [1167](#L1167) | // Custom Args. |
| [1168](#L1168) | $ajaxloadmore .= $custom\_args ? ' data-custom-args="' . esc\_attr( $custom\_args ) . '"' : ''; |
| [1169](#L1169) |  |
| [1170](#L1170) | // Vars. |
| [1171](#L1171) | $ajaxloadmore .= $vars ? ' data-vars="' . esc\_attr( $vars ) . '"' : ''; |
| [1172](#L1172) |  |
| [1173](#L1173) | // Status. |
| [1174](#L1174) | $ajaxloadmore .= $post\_status ? ' data-post-status="' . esc\_attr( $post\_status ) . '"' : ''; |
| [1175](#L1175) |  |
| [1176](#L1176) | // Order. |
| [1177](#L1177) | $ajaxloadmore .= ' data-order="' . esc\_attr( $order ) . '"'; // Order. |
| [1178](#L1178) | $ajaxloadmore .= ' data-orderby="' . esc\_attr( $orderby ) . '"'; // Orderby. |
| [1179](#L1179) | $ajaxloadmore .= ' data-offset="' . esc\_attr( $offset ) . '"'; // Offset. |
| [1180](#L1180) | $ajaxloadmore .= ' data-posts-per-page="' . esc\_attr( $posts\_per\_page ) . '"'; // Posts Per Page. |
| [1181](#L1181) |  |
| [1182](#L1182) | // Lang. |
| [1183](#L1183) | $ajaxloadmore .= $lang ? ' data-lang="' . esc\_attr( $lang ) . '"' : ''; |
| [1184](#L1184) |  |
| [1185](#L1185) | // Scroll. |
| [1186](#L1186) | if ( $paging !== 'true' ) { |
| [1187](#L1187) | $ajaxloadmore .= $scroll === 'false' ? ' data-scroll="false"' : ''; |
| [1188](#L1188) | if ( $scroll === 'true' ) { |
| [1189](#L1189) | $ajaxloadmore .= $scroll\_distance !== '100' ? ' data-scroll-distance="' . esc\_attr( $scroll\_distance ) . '"' : ''; |
| [1190](#L1190) | $ajaxloadmore .= $scroll\_container ? ' data-scroll-container="' . esc\_attr( $scroll\_container ) . '"' : ''; |
| [1191](#L1191) | $ajaxloadmore .= $scroll\_direction ? ' data-scroll-direction="' . esc\_attr( $scroll\_direction ) . '"' : ''; |
| [1192](#L1192) | $ajaxloadmore .= $max\_pages && $max\_pages !== '0' ? ' data-max-pages="' . esc\_attr( $max\_pages ) . '"' : ''; |
| [1193](#L1193) | $ajaxloadmore .= $pause\_override ? ' data-pause-override="' . esc\_attr( $pause\_override ) . '"' : ''; |
| [1194](#L1194) | } |
| [1195](#L1195) | } |
| [1196](#L1196) |  |
| [1197](#L1197) | // Pause. |
| [1198](#L1198) | $ajaxloadmore .= $pause === 'true' ? ' data-pause="true"' : ''; |
| [1199](#L1199) |  |
| [1200](#L1200) | // Button. |
| [1201](#L1201) | $ajaxloadmore .= ' data-button-label="' . self::alm\_strip\_tags( $button\_label ) . '"'; |
| [1202](#L1202) | $ajaxloadmore .= $button\_loading\_label ? ' data-button-loading-label="' . self::alm\_strip\_tags( $button\_loading\_label ) . '"' : ''; |
| [1203](#L1203) | $ajaxloadmore .= $button\_done\_label ? ' data-button-done-label="' . self::alm\_strip\_tags( $button\_done\_label ) . '"' : ''; |
| [1204](#L1204) |  |
| [1205](#L1205) | // Destroy After. |
| [1206](#L1206) | $ajaxloadmore .= $destroy\_after ? ' data-destroy-after="' . esc\_attr( $destroy\_after ) . '"' : ''; |
| [1207](#L1207) |  |
| [1208](#L1208) | // Transition. |
| [1209](#L1209) | $ajaxloadmore .= $transition !== 'fade' ? ' data-transition="' . esc\_attr( $transition ) . '"' : ''; |
| [1210](#L1210) | $ajaxloadmore .= $transition\_delay !== '0' && $transition === 'fade' ? ' data-transition-delay="' . esc\_attr( $transition\_delay ) . '"' : ''; |
| [1211](#L1211) |  |
| [1212](#L1212) | // Masonry. |
| [1213](#L1213) | if ( 'masonry' === $transition ) { |
| [1214](#L1214) | $masonry\_config = [ |
| [1215](#L1215) | 'selector'        => esc\_attr( $masonry\_selector ), |
| [1216](#L1216) | 'columnwidth'     => esc\_attr( $masonry\_columnwidth ), |
| [1217](#L1217) | 'animation'       => esc\_attr( $masonry\_animation ), |
| [1218](#L1218) | 'horizontalorder' => esc\_attr( $masonry\_horizontalorder ), |
| [1219](#L1219) | ]; |
| [1220](#L1220) | $ajaxloadmore  .= ' data-masonry-config="' . htmlspecialchars( wp\_json\_encode( $masonry\_config ), ENT\_QUOTES, 'UTF-8' ) . '"'; |
| [1221](#L1221) | } |
| [1222](#L1222) |  |
| [1223](#L1223) | // Images Loaded. |
| [1224](#L1224) | $ajaxloadmore .= $images\_loaded !== 'false' ? ' data-images-loaded="' . esc\_attr( $images\_loaded ) . '"' : ''; |
| [1225](#L1225) |  |
| [1226](#L1226) | // Lazy Load Images. |
| [1227](#L1227) | $ajaxloadmore .= $lazy\_images !== false ? ' data-lazy-images="' . esc\_attr( $lazy\_images ) . '"' : ''; |
| [1228](#L1228) |  |
| [1229](#L1229) | // Primary. |
| [1230](#L1230) | $ajaxloadmore .= $primary !== false ? ' data-primary="true"' : ''; |
| [1231](#L1231) |  |
| [1232](#L1232) | $ajaxloadmore .= '>'; |
| [1233](#L1233) | // End .alm-listing data. |
| [1234](#L1234) |  |
| [1235](#L1235) | // Paging before. |
| [1236](#L1236) | if ( has\_action( 'alm\_paging\_installed' ) && $paging === 'true' ) { |
| [1237](#L1237) | $paging\_container\_classes = $paging\_container\_classes ? ' ' . esc\_attr( $paging\_container\_classes ) : ''; |
| [1238](#L1238) | $ajaxloadmore            .= apply\_filters( 'alm\_paging\_before', '<div class="alm-paging-content' . $paging\_container\_classes . '" style="opacity: 0; outline: none;">' ); |
| [1239](#L1239) | } |
| [1240](#L1240) |  |
| [1241](#L1241) | // Preloaded. |
| [1242](#L1242) | $noscript\_pagingnav = ''; |
| [1243](#L1243) | if ( has\_action( 'alm\_preload\_installed' ) && $preloaded === 'true' ) { |
| [1244](#L1244) | include ALM\_PATH . 'core/classes/includes/preloaded.php'; |
| [1245](#L1245) | } |
| [1246](#L1246) |  |
| [1247](#L1247) | // Single Post. |
| [1248](#L1248) | // Get first post and append to alm object. |
| [1249](#L1249) | if ( has\_action( 'alm\_single\_post\_installed' ) && $single\_post ) { |
| [1250](#L1250) | $repeater\_type = preg\_split( '/(?=\d)/', $repeater, 2 ); // split $repeater at number to retrieve type. |
| [1251](#L1251) | $repeater\_type = $repeater\_type[0]; // default / repeater / template\_{x}. |
| [1252](#L1252) | $repeater\_type = $theme\_repeater !== 'null' && has\_filter( 'alm\_get\_theme\_repeater' ) ? null : $repeater\_type; |
| [1253](#L1253) |  |
| [1254](#L1254) | // Get current permalink - (including querystring). |
| [1255](#L1255) | $single\_post\_permanlink = $\_SERVER['QUERY\_STRING'] ? get\_permalink( $single\_post\_id ) . '?' . esc\_attr( $\_SERVER['QUERY\_STRING'] ) : get\_permalink( $single\_post\_id ); |
| [1256](#L1256) |  |
| [1257](#L1257) | // Get previous post include, build output from the next post filter. |
| [1258](#L1258) | $single\_post\_output = '<div class="alm-single-post post-' . $single\_post\_id . '" data-url="' . $single\_post\_permanlink . '" data-title="' . wp\_strip\_all\_tags( get\_the\_title( $single\_post\_id ) ) . '" data-id="' . $single\_post\_id . '" data-page="0">'; |
| [1259](#L1259) |  |
| [1260](#L1260) | /\*\* |
| [1261](#L1261) | \* Single Post Add-on hook |
| [1262](#L1262) | \* |
| [1263](#L1263) | \* @return $args; |
| [1264](#L1264) | \*/ |
| [1265](#L1265) | if ( $offset < 1 ) { |
| [1266](#L1266) | // Only render include if offset is zero. |
| [1267](#L1267) | $single\_post\_output .= apply\_filters( 'alm\_single\_post\_inc', $repeater, $repeater\_type, $theme\_repeater, $single\_post\_id, $post\_type ); |
| [1268](#L1268) | } |
| [1269](#L1269) |  |
| [1270](#L1270) | $single\_post\_output .= '</div>'; |
| [1271](#L1271) | $ajaxloadmore       .= $single\_post\_output; // Append $single\_post\_output data to $ajaxloadmore. |
| [1272](#L1272) | } |
| [1273](#L1273) |  |
| [1274](#L1274) | // Next Page Add-on. |
| [1275](#L1275) | if ( has\_action( 'alm\_nextpage\_installed' ) && $nextpage ) { |
| [1276](#L1276) | $nextpage\_start    = alm\_get\_startpage(); // Located in `core/functions.php`. |
| [1277](#L1277) | $nextpage\_is\_paged = apply\_filters( 'alm\_nextpage\_paged', $nextpage\_start > 1 ); |
| [1278](#L1278) |  |
| [1279](#L1279) | /\*\* |
| [1280](#L1280) | \* Next Page Add-on hook. |
| [1281](#L1281) | \* |
| [1282](#L1282) | \* @return html; |
| [1283](#L1283) | \*/ |
| [1284](#L1284) | $ajaxloadmore .= apply\_filters( 'alm\_init\_nextpage', $nextpage\_post\_id, $nextpage\_start, $nextpage\_is\_paged, $paging, $div\_id, $id, $nextpage\_type ); |
| [1285](#L1285) | } |
| [1286](#L1286) |  |
| [1287](#L1287) | // Paging after. |
| [1288](#L1288) | if ( has\_action( 'alm\_paging\_installed' ) && $paging === 'true' ) { |
| [1289](#L1289) | $ajaxloadmore .= apply\_filters( 'alm\_paging\_after', '</div>' ); |
| [1290](#L1290) | $ajaxloadmore .= apply\_filters( 'alm\_paging\_loader', '<div class="alm-paging-loading"></div>' ); |
| [1291](#L1291) | } |
| [1292](#L1292) |  |
| [1293](#L1293) | // Masonry Hook (After). |
| [1294](#L1294) | $ajaxloadmore .= apply\_filters( 'alm\_masonry\_after', $transition ); |
| [1295](#L1295) |  |
| [1296](#L1296) | // Close ALM container element. |
| [1297](#L1297) | $ajaxloadmore .= '</' . esc\_attr( $container\_element ) . '>'; |
| [1298](#L1298) |  |
| [1299](#L1299) | // Create Placeholder. |
| [1300](#L1300) | $ajaxloadmore .= self::alm\_render\_placeholder( $placeholder, $paging ); |
| [1301](#L1301) |  |
| [1302](#L1302) | /\*\* |
| [1303](#L1303) | \* Generates <noscript/> element of current query. |
| [1304](#L1304) | \* ALM Core Filter Hook |
| [1305](#L1305) | \* |
| [1306](#L1306) | \* @return html |
| [1307](#L1307) | \*/ |
| [1308](#L1308) | if ( ( $seo === 'true' || $filters ) && $preloaded !== 'true' && ! $restapi ) { |
| [1309](#L1309) | if ( ! apply\_filters( 'alm\_disable\_noscript\_' . $id, false ) ) { |
| [1310](#L1310) | $ajaxloadmore .= apply\_filters( 'alm\_noscript', $query\_args, $container\_element, $css\_classes, $canonical\_url ); |
| [1311](#L1311) | } |
| [1312](#L1312) | } |
| [1313](#L1313) |  |
| [1314](#L1314) | // Render <noscript> pagination for SEO and Preloaded (./preloaded.php). |
| [1315](#L1315) | $ajaxloadmore .= ! empty( $noscript\_pagingnav ) ? $noscript\_pagingnav : ''; |
| [1316](#L1316) |  |
| [1317](#L1317) | /\*\* |
| [1318](#L1318) | \* Before Button |
| [1319](#L1319) | \* ALM Core Filter Hook |
| [1320](#L1320) | \* |
| [1321](#L1321) | \* @return html |
| [1322](#L1322) | \*/ |
| [1323](#L1323) | $ajaxloadmore .= apply\_filters( 'alm\_before\_button', '' ); |
| [1324](#L1324) |  |
| [1325](#L1325) | // Create Load More button and button wrapper. |
| [1326](#L1326) | $ajaxloadmore .= self::alm\_render\_button( $paging, $button\_classname, $button\_label, $div\_id ); |
| [1327](#L1327) |  |
| [1328](#L1328) | /\*\* |
| [1329](#L1329) | \* After Button |
| [1330](#L1330) | \* ALM Core Filter Hook |
| [1331](#L1331) | \* |
| [1332](#L1332) | \* @return html |
| [1333](#L1333) | \*/ |
| [1334](#L1334) | $ajaxloadmore .= apply\_filters( 'alm\_after\_button', '' ); |
| [1335](#L1335) |  |
| [1336](#L1336) | // No results text. |
| [1337](#L1337) | if ( $no\_results\_text !== '' && ! empty( $no\_results\_text ) ) { |
| [1338](#L1338) | $ajaxloadmore .= '<div class="alm-no-results" style="display: none;">' . wp\_kses\_post( $no\_results\_text ) . '</div>'; |
| [1339](#L1339) | } |
| [1340](#L1340) |  |
| [1341](#L1341) | // Render <noscript> pagination for Nextpage addon. |
| [1342](#L1342) | if ( has\_action( 'alm\_nextpage\_installed' ) && $nextpage && $nextpage\_urls === 'true' ) { |
| [1343](#L1343) |  |
| [1344](#L1344) | /\*\* |
| [1345](#L1345) | \* Nextpage Core Filer Hook |
| [1346](#L1346) | \* |
| [1347](#L1347) | \* @see ajax-load-more/next-page/functions.php |
| [1348](#L1348) | \*/ |
| [1349](#L1349) | $ajaxloadmore .= apply\_filters( 'alm\_nextpage\_noscript\_paging', $query\_args['post\_id'], $query\_args['id'] ); |
| [1350](#L1350) | } |
| [1351](#L1351) |  |
| [1352](#L1352) | $ajaxloadmore .= '</div>'; // Close #ajax-load-more output. |
| [1353](#L1353) |  |
| [1354](#L1354) | /\*\* |
| [1355](#L1355) | \* After Container. |
| [1356](#L1356) | \* ALM Core Filter Hook. |
| [1357](#L1357) | \* |
| [1358](#L1358) | \* @return string |
| [1359](#L1359) | \*/ |
| [1360](#L1360) | $ajaxloadmore .= apply\_filters( 'alm\_after\_container', '' ); |
| [1361](#L1361) |  |
| [1362](#L1362) | /\*\* |
| [1363](#L1363) | \* ALM Core Filter Hook. |
| [1364](#L1364) | \* Progress Bar CSS. |
| [1365](#L1365) | \* |
| [1366](#L1366) | \* @return string |
| [1367](#L1367) | \*/ |
| [1368](#L1368) | $ajaxloadmore .= apply\_filters( 'alm\_progress\_css', self::$counter, $progress\_bar, $progress\_bar\_color ); |
| [1369](#L1369) |  |
| [1370](#L1370) | /\*\* |
| [1371](#L1371) | \* Custom JavaScript. |
| [1372](#L1372) | \* ALM core setting parameter. |
| [1373](#L1373) | \*/ |
| [1374](#L1374) | $ajaxloadmore .= isset( $options['\_alm\_custom\_js'] ) && ! empty( $options['\_alm\_custom\_js'] ) ? '<script>' . $options['\_alm\_custom\_js'] . '</script>' : ''; // phpcs:ignore WordPress.Security.EscapeOutput.OutputNotEscaped |
| [1375](#L1375) |  |
| [1376](#L1376) | /\*\* |
| [1377](#L1377) | \* REST API Add-on |
| [1378](#L1378) | \* Add <script/> template to page. |
| [1379](#L1379) | \*/ |
| [1380](#L1380) | if ( has\_action( 'alm\_rest\_api\_installed' ) && $restapi ) { |
| [1381](#L1381) | if ( $theme\_repeater !== 'null' && has\_action( 'alm\_get\_rest\_theme\_repeater' ) ) { |
| [1382](#L1382) | do\_action( 'alm\_get\_rest\_theme\_repeater', $theme\_repeater ); |
| [1383](#L1383) | } else { |
| [1384](#L1384) | do\_action( 'alm\_get\_rest\_api\_template', $repeater, alm\_get\_repeater\_type( $repeater ) ); |
| [1385](#L1385) | } |
| [1386](#L1386) | } |
| [1387](#L1387) |  |
| [1388](#L1388) | /\*\* |
| [1389](#L1389) | \* Build localized script variables for each ALM instance. |
| [1390](#L1390) | \*/ |
| [1391](#L1391) |  |
| [1392](#L1392) | // Add basic localized vars. |
| [1393](#L1393) | ALM\_LOCALIZE::add\_localized\_var( 'id', $master\_id, $localize\_id ); |
| [1394](#L1394) | ALM\_LOCALIZE::add\_localized\_var( 'script', alm\_convert\_dashes\_to\_underscore( $localize\_id ) . '\_vars', $localize\_id ); |
| [1395](#L1395) |  |
| [1396](#L1396) | // Get the localized data. |
| [1397](#L1397) | $localized\_data = ALM\_LOCALIZE::return\_localized\_data( $localize\_id ); |
| [1398](#L1398) |  |
| [1399](#L1399) | /\*\* |
| [1400](#L1400) | \* Append the localized data `<script/>` using `wp\_footer`. |
| [1401](#L1401) | \* |
| [1402](#L1402) | \* @see https://developer.wordpress.org/reference/functions/wp\_add\_inline\_script/#comment-5828 |
| [1403](#L1403) | \*/ |
| [1404](#L1404) | add\_action( |
| [1405](#L1405) | 'wp\_footer', |
| [1406](#L1406) | function () use ( $localized\_data, $localize\_id ) { |
| [1407](#L1407) | // phpcs:ignore |
| [1408](#L1408) | printf( '<script type="text/javascript" id="' . $localized\_data[ $localize\_id ]['script'] . '">var ' . $localized\_data[ $localize\_id ]['script'] . ' = %s</script>', json\_encode( $localized\_data[ $localize\_id ] ) ); |
| [1409](#L1409) | } |
| [1410](#L1410) | ); |
| [1411](#L1411) |  |
| [1412](#L1412) | // End $ajaxloadmore element. |
| [1413](#L1413) | return $ajaxloadmore; |
| [1414](#L1414) | } |
| [1415](#L1415) |  |
| [1416](#L1416) | /\*\* |
| [1417](#L1417) | \* Render the load more button. |
| [1418](#L1418) | \* |
| [1419](#L1419) | \* @param  string $paging         Is this for the Paging add-on. |
| [1420](#L1420) | \* @param  string $classname      Custom classnames. |
| [1421](#L1421) | \* @param  string label           The label for the button. |
| [1422](#L1422) | \* @param  string $id             ALM div ID. |
| [1423](#L1423) | \* @return string                 The button html and wrapper. |
| [1424](#L1424) | \* @since  3.3.2 |
| [1425](#L1425) | \*/ |
| [1426](#L1426) | public static function alm\_render\_button( $paging, $classname, $label, $id ) { |
| [1427](#L1427) | $classes = has\_filter( 'alm\_button\_wrap\_classes' ) ? ' ' . apply\_filters( 'alm\_button\_wrap\_classes', '' ) : ''; |
| [1428](#L1428) | $html    = '<div class="alm-btn-wrap' . $classes . '" style="visibility: hidden;" data-rel="' . esc\_attr( $id ) . '">'; |
| [1429](#L1429) |  |
| [1430](#L1430) | if ( $paging !== 'true' ) { |
| [1431](#L1431) | $html .= '<button class="alm-load-more-btn more' . esc\_attr( $classname ) . '" rel="next" type="button">' . self::alm\_strip\_tags( $label ) . '</button>'; |
| [1432](#L1432) | } |
| [1433](#L1433) |  |
| [1434](#L1434) | $html .= '</div>'; |
| [1435](#L1435) | return wp\_kses\_post( $html ); |
| [1436](#L1436) | } |
| [1437](#L1437) |  |
| [1438](#L1438) | /\*\* |
| [1439](#L1439) | \* Strip tags from param. |
| [1440](#L1440) | \* |
| [1441](#L1441) | \* @param string $str String to sanitize. |
| [1442](#L1442) | \* @return string        Stripped string. |
| [1443](#L1443) | \*/ |
| [1444](#L1444) | public static function alm\_strip\_tags( $str ) { |
| [1445](#L1445) | $str = str\_replace( [ '&lt;', '&gt;', '&#60;', '&#62;' ], '', $str ); // Remove < & > entity tags. |
| [1446](#L1446) | return esc\_html( strip\_tags( $str, '<span><i><b><strong>' ) ); |
| [1447](#L1447) | } |
| [1448](#L1448) |  |
| [1449](#L1449) | /\*\* |
| [1450](#L1450) | \* Render a placeholder loader. |
| [1451](#L1451) | \* |
| [1452](#L1452) | \* @param string $placeholder The value of the placeholder. |
| [1453](#L1453) | \* @param string $paging      Is paging true. |
| [1454](#L1454) | \* @return string             Raw HTML string. |
| [1455](#L1455) | \* @since 5.1.7 |
| [1456](#L1456) | \*/ |
| [1457](#L1457) | public static function alm\_render\_placeholder( $placeholder, $paging ) { |
| [1458](#L1458) | if ( isset( $placeholder ) && ! empty( $placeholder ) && $paging !== 'true' ) { |
| [1459](#L1459) | $placeholder\_url = $placeholder === 'true' ? ALM\_URL . '/build/frontend/img/placeholder.png' : $placeholder; |
| [1460](#L1460) | if ( $placeholder\_url ) { |
| [1461](#L1461) | $html = '<div class="alm-placeholder"><img src="' . esc\_url( $placeholder\_url ) . '" alt=""></div>'; |
| [1462](#L1462) | return wp\_kses\_post( $html ); |
| [1463](#L1463) | } |
| [1464](#L1464) | } |
| [1465](#L1465) | } |
| [1466](#L1466) | } |
| [1467](#L1467) |  |
| [1468](#L1468) | endif; |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/ajax-load-more/trunk/core/classes/class-alm-shortcode.php?format=txt)
* [Original Format](/export/3220493/ajax-load-more/trunk/core/classes/class-alm-shortcode.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_a812aff4_20250110_234044.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fajax-load-more%2Ftrunk%2Fbuild%2Ffrontend%2Fajax-load-more.js)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/ajax-load-more/trunk/build/frontend/ajax-load-more.js?rev=3084561 "Revision 3084561")
* Next Revision →
* [Blame](/browser/ajax-load-more/trunk/build/frontend/ajax-load-more.js?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/ajax-load-more/trunk/build/frontend/ajax-load-more.js)

---

# [source:](/browser?order=name "Go to repository root") [ajax-load-more](/browser/ajax-load-more?order=name "View ajax-load-more")/[trunk](/browser/ajax-load-more/trunk?order=name "View trunk")/[build](/browser/ajax-load-more/trunk/build?order=name "View build")/[frontend](/browser/ajax-load-more/trunk/build/frontend?order=name "View frontend")/[ajax-load-more.js](/browser/ajax-load-more/trunk/build/frontend/ajax-load-more.js?order=name "View ajax-load-more.js")

View diff against:

View revision:

| [Last change](/changeset/3202459/ajax-load-more/trunk/build/frontend/ajax-load-more.js "View differences") on this file was [3202459](/changeset/3202459/ "View changeset 3202459"), checked in by dcooney, [5 weeks ago](/timeline?from=2024-12-04T14%3A20%3A00Z&precision=second "See timeline at 12/04/2024 02:20:00 PM") |
| --- |
| Update to version 7.1.4 from GitHub |
| **File size:** 521.9 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | var ajaxloadmore; |
| [2](#L2) | /\*\*\*\*\*\*/ (function() { // webpackBootstrap |
| [3](#L3) | /\*\*\*\*\*\*/        var \_\_webpack\_modules\_\_ = ({ |
| [4](#L4) |  |
| [5](#L5) | /\*\*\*/ 924: |
| [6](#L6) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [7](#L7) |  |
| [8](#L8) | "use strict"; |
| [9](#L9) |  |
| [10](#L10) |  |
| [11](#L11) | var GetIntrinsic = \_\_webpack\_require\_\_(210); |
| [12](#L12) |  |
| [13](#L13) | var callBind = \_\_webpack\_require\_\_(559); |
| [14](#L14) |  |
| [15](#L15) | var $indexOf = callBind(GetIntrinsic('String.prototype.indexOf')); |
| [16](#L16) |  |
| [17](#L17) | module.exports = function callBoundIntrinsic(name, allowMissing) { |
| [18](#L18) | var intrinsic = GetIntrinsic(name, !!allowMissing); |
| [19](#L19) | if (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) { |
| [20](#L20) | return callBind(intrinsic); |
| [21](#L21) | } |
| [22](#L22) | return intrinsic; |
| [23](#L23) | }; |
| [24](#L24) |  |
| [25](#L25) |  |
| [26](#L26) | /\*\*\*/ }), |
| [27](#L27) |  |
| [28](#L28) | /\*\*\*/ 559: |
| [29](#L29) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [30](#L30) |  |
| [31](#L31) | "use strict"; |
| [32](#L32) |  |
| [33](#L33) |  |
| [34](#L34) | var bind = \_\_webpack\_require\_\_(612); |
| [35](#L35) | var GetIntrinsic = \_\_webpack\_require\_\_(210); |
| [36](#L36) |  |
| [37](#L37) | var $apply = GetIntrinsic('%Function.prototype.apply%'); |
| [38](#L38) | var $call = GetIntrinsic('%Function.prototype.call%'); |
| [39](#L39) | var $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply); |
| [40](#L40) |  |
| [41](#L41) | var $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true); |
| [42](#L42) | var $defineProperty = GetIntrinsic('%Object.defineProperty%', true); |
| [43](#L43) | var $max = GetIntrinsic('%Math.max%'); |
| [44](#L44) |  |
| [45](#L45) | if ($defineProperty) { |
| [46](#L46) | try { |
| [47](#L47) | $defineProperty({}, 'a', { value: 1 }); |
| [48](#L48) | } catch (e) { |
| [49](#L49) | // IE 8 has a broken defineProperty |
| [50](#L50) | $defineProperty = null; |
| [51](#L51) | } |
| [52](#L52) | } |
| [53](#L53) |  |
| [54](#L54) | module.exports = function callBind(originalFunction) { |
| [55](#L55) | var func = $reflectApply(bind, $call, arguments); |
| [56](#L56) | if ($gOPD && $defineProperty) { |
| [57](#L57) | var desc = $gOPD(func, 'length'); |
| [58](#L58) | if (desc.configurable) { |
| [59](#L59) | // original length, plus the receiver, minus any additional arguments (after the receiver) |
| [60](#L60) | $defineProperty( |
| [61](#L61) | func, |
| [62](#L62) | 'length', |
| [63](#L63) | { value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) } |
| [64](#L64) | ); |
| [65](#L65) | } |
| [66](#L66) | } |
| [67](#L67) | return func; |
| [68](#L68) | }; |
| [69](#L69) |  |
| [70](#L70) | var applyBind = function applyBind() { |
| [71](#L71) | return $reflectApply(bind, $apply, arguments); |
| [72](#L72) | }; |
| [73](#L73) |  |
| [74](#L74) | if ($defineProperty) { |
| [75](#L75) | $defineProperty(module.exports, 'apply', { value: applyBind }); |
| [76](#L76) | } else { |
| [77](#L77) | module.exports.apply = applyBind; |
| [78](#L78) | } |
| [79](#L79) |  |
| [80](#L80) |  |
| [81](#L81) | /\*\*\*/ }), |
| [82](#L82) |  |
| [83](#L83) | /\*\*\*/ 249: |
| [84](#L84) | /\*\*\*/ (function(module, exports, \_\_webpack\_require\_\_) { |
| [85](#L85) |  |
| [86](#L86) | ;(function (root, factory) { |
| [87](#L87) | if (true) { |
| [88](#L88) | // CommonJS |
| [89](#L89) | module.exports = exports = factory(); |
| [90](#L90) | } |
| [91](#L91) | else {} |
| [92](#L92) | }(this, function () { |
| [93](#L93) |  |
| [94](#L94) | /\*globals window, global, require\*/ |
| [95](#L95) |  |
| [96](#L96) | /\*\* |
| [97](#L97) | \* CryptoJS core components. |
| [98](#L98) | \*/ |
| [99](#L99) | var CryptoJS = CryptoJS || (function (Math, undefined) { |
| [100](#L100) |  |
| [101](#L101) | var crypto; |
| [102](#L102) |  |
| [103](#L103) | // Native crypto from window (Browser) |
| [104](#L104) | if (typeof window !== 'undefined' && window.crypto) { |
| [105](#L105) | crypto = window.crypto; |
| [106](#L106) | } |
| [107](#L107) |  |
| [108](#L108) | // Native crypto in web worker (Browser) |
| [109](#L109) | if (typeof self !== 'undefined' && self.crypto) { |
| [110](#L110) | crypto = self.crypto; |
| [111](#L111) | } |
| [112](#L112) |  |
| [113](#L113) | // Native crypto from worker |
| [114](#L114) | if (typeof globalThis !== 'undefined' && globalThis.crypto) { |
| [115](#L115) | crypto = globalThis.crypto; |
| [116](#L116) | } |
| [117](#L117) |  |
| [118](#L118) | // Native (experimental IE 11) crypto from window (Browser) |
| [119](#L119) | if (!crypto && typeof window !== 'undefined' && window.msCrypto) { |
| [120](#L120) | crypto = window.msCrypto; |
| [121](#L121) | } |
| [122](#L122) |  |
| [123](#L123) | // Native crypto from global (NodeJS) |
| [124](#L124) | if (!crypto && typeof \_\_webpack\_require\_\_.g !== 'undefined' && \_\_webpack\_require\_\_.g.crypto) { |
| [125](#L125) | crypto = \_\_webpack\_require\_\_.g.crypto; |
| [126](#L126) | } |
| [127](#L127) |  |
| [128](#L128) | // Native crypto import via require (NodeJS) |
| [129](#L129) | if (!crypto && "function" === 'function') { |
| [130](#L130) | try { |
| [131](#L131) | crypto = \_\_webpack\_require\_\_(480); |
| [132](#L132) | } catch (err) {} |
| [133](#L133) | } |
| [134](#L134) |  |
| [135](#L135) | /\* |
| [136](#L136) | \* Cryptographically secure pseudorandom number generator |
| [137](#L137) | \* |
| [138](#L138) | \* As Math.random() is cryptographically not safe to use |
| [139](#L139) | \*/ |
| [140](#L140) | var cryptoSecureRandomInt = function () { |
| [141](#L141) | if (crypto) { |
| [142](#L142) | // Use getRandomValues method (Browser) |
| [143](#L143) | if (typeof crypto.getRandomValues === 'function') { |
| [144](#L144) | try { |
| [145](#L145) | return crypto.getRandomValues(new Uint32Array(1))[0]; |
| [146](#L146) | } catch (err) {} |
| [147](#L147) | } |
| [148](#L148) |  |
| [149](#L149) | // Use randomBytes method (NodeJS) |
| [150](#L150) | if (typeof crypto.randomBytes === 'function') { |
| [151](#L151) | try { |
| [152](#L152) | return crypto.randomBytes(4).readInt32LE(); |
| [153](#L153) | } catch (err) {} |
| [154](#L154) | } |
| [155](#L155) | } |
| [156](#L156) |  |
| [157](#L157) | throw new Error('Native crypto module could not be used to get secure random number.'); |
| [158](#L158) | }; |
| [159](#L159) |  |
| [160](#L160) | /\* |
| [161](#L161) | \* Local polyfill of Object.create |
| [162](#L162) |  |
| [163](#L163) | \*/ |
| [164](#L164) | var create = Object.create || (function () { |
| [165](#L165) | function F() {} |
| [166](#L166) |  |
| [167](#L167) | return function (obj) { |
| [168](#L168) | var subtype; |
| [169](#L169) |  |
| [170](#L170) | F.prototype = obj; |
| [171](#L171) |  |
| [172](#L172) | subtype = new F(); |
| [173](#L173) |  |
| [174](#L174) | F.prototype = null; |
| [175](#L175) |  |
| [176](#L176) | return subtype; |
| [177](#L177) | }; |
| [178](#L178) | }()); |
| [179](#L179) |  |
| [180](#L180) | /\*\* |
| [181](#L181) | \* CryptoJS namespace. |
| [182](#L182) | \*/ |
| [183](#L183) | var C = {}; |
| [184](#L184) |  |
| [185](#L185) | /\*\* |
| [186](#L186) | \* Library namespace. |
| [187](#L187) | \*/ |
| [188](#L188) | var C\_lib = C.lib = {}; |
| [189](#L189) |  |
| [190](#L190) | /\*\* |
| [191](#L191) | \* Base object for prototypal inheritance. |
| [192](#L192) | \*/ |
| [193](#L193) | var Base = C\_lib.Base = (function () { |
| [194](#L194) |  |
| [195](#L195) |  |
| [196](#L196) | return { |
| [197](#L197) | /\*\* |
| [198](#L198) | \* Creates a new object that inherits from this object. |
| [199](#L199) | \* |
| [200](#L200) | \* @param {Object} overrides Properties to copy into the new object. |
| [201](#L201) | \* |
| [202](#L202) | \* @return {Object} The new object. |
| [203](#L203) | \* |
| [204](#L204) | \* @static |
| [205](#L205) | \* |
| [206](#L206) | \* @example |
| [207](#L207) | \* |
| [208](#L208) | \*     var MyType = CryptoJS.lib.Base.extend({ |
| [209](#L209) | \*         field: 'value', |
| [210](#L210) | \* |
| [211](#L211) | \*         method: function () { |
| [212](#L212) | \*         } |
| [213](#L213) | \*     }); |
| [214](#L214) | \*/ |
| [215](#L215) | extend: function (overrides) { |
| [216](#L216) | // Spawn |
| [217](#L217) | var subtype = create(this); |
| [218](#L218) |  |
| [219](#L219) | // Augment |
| [220](#L220) | if (overrides) { |
| [221](#L221) | subtype.mixIn(overrides); |
| [222](#L222) | } |
| [223](#L223) |  |
| [224](#L224) | // Create default initializer |
| [225](#L225) | if (!subtype.hasOwnProperty('init') || this.init === subtype.init) { |
| [226](#L226) | subtype.init = function () { |
| [227](#L227) | subtype.$super.init.apply(this, arguments); |
| [228](#L228) | }; |
| [229](#L229) | } |
| [230](#L230) |  |
| [231](#L231) | // Initializer's prototype is the subtype object |
| [232](#L232) | subtype.init.prototype = subtype; |
| [233](#L233) |  |
| [234](#L234) | // Reference supertype |
| [235](#L235) | subtype.$super = this; |
| [236](#L236) |  |
| [237](#L237) | return subtype; |
| [238](#L238) | }, |
| [239](#L239) |  |
| [240](#L240) | /\*\* |
| [241](#L241) | \* Extends this object and runs the init method. |
| [242](#L242) | \* Arguments to create() will be passed to init(). |
| [243](#L243) | \* |
| [244](#L244) | \* @return {Object} The new object. |
| [245](#L245) | \* |
| [246](#L246) | \* @static |
| [247](#L247) | \* |
| [248](#L248) | \* @example |
| [249](#L249) | \* |
| [250](#L250) | \*     var instance = MyType.create(); |
| [251](#L251) | \*/ |
| [252](#L252) | create: function () { |
| [253](#L253) | var instance = this.extend(); |
| [254](#L254) | instance.init.apply(instance, arguments); |
| [255](#L255) |  |
| [256](#L256) | return instance; |
| [257](#L257) | }, |
| [258](#L258) |  |
| [259](#L259) | /\*\* |
| [260](#L260) | \* Initializes a newly created object. |
| [261](#L261) | \* Override this method to add some logic when your objects are created. |
| [262](#L262) | \* |
| [263](#L263) | \* @example |
| [264](#L264) | \* |
| [265](#L265) | \*     var MyType = CryptoJS.lib.Base.extend({ |
| [266](#L266) | \*         init: function () { |
| [267](#L267) | \*             // ... |
| [268](#L268) | \*         } |
| [269](#L269) | \*     }); |
| [270](#L270) | \*/ |
| [271](#L271) | init: function () { |
| [272](#L272) | }, |
| [273](#L273) |  |
| [274](#L274) | /\*\* |
| [275](#L275) | \* Copies properties into this object. |
| [276](#L276) | \* |
| [277](#L277) | \* @param {Object} properties The properties to mix in. |
| [278](#L278) | \* |
| [279](#L279) | \* @example |
| [280](#L280) | \* |
| [281](#L281) | \*     MyType.mixIn({ |
| [282](#L282) | \*         field: 'value' |
| [283](#L283) | \*     }); |
| [284](#L284) | \*/ |
| [285](#L285) | mixIn: function (properties) { |
| [286](#L286) | for (var propertyName in properties) { |
| [287](#L287) | if (properties.hasOwnProperty(propertyName)) { |
| [288](#L288) | this[propertyName] = properties[propertyName]; |
| [289](#L289) | } |
| [290](#L290) | } |
| [291](#L291) |  |
| [292](#L292) | // IE won't copy toString using the loop above |
| [293](#L293) | if (properties.hasOwnProperty('toString')) { |
| [294](#L294) | this.toString = properties.toString; |
| [295](#L295) | } |
| [296](#L296) | }, |
| [297](#L297) |  |
| [298](#L298) | /\*\* |
| [299](#L299) | \* Creates a copy of this object. |
| [300](#L300) | \* |
| [301](#L301) | \* @return {Object} The clone. |
| [302](#L302) | \* |
| [303](#L303) | \* @example |
| [304](#L304) | \* |
| [305](#L305) | \*     var clone = instance.clone(); |
| [306](#L306) | \*/ |
| [307](#L307) | clone: function () { |
| [308](#L308) | return this.init.prototype.extend(this); |
| [309](#L309) | } |
| [310](#L310) | }; |
| [311](#L311) | }()); |
| [312](#L312) |  |
| [313](#L313) | /\*\* |
| [314](#L314) | \* An array of 32-bit words. |
| [315](#L315) | \* |
| [316](#L316) | \* @property {Array} words The array of 32-bit words. |
| [317](#L317) | \* @property {number} sigBytes The number of significant bytes in this word array. |
| [318](#L318) | \*/ |
| [319](#L319) | var WordArray = C\_lib.WordArray = Base.extend({ |
| [320](#L320) | /\*\* |
| [321](#L321) | \* Initializes a newly created word array. |
| [322](#L322) | \* |
| [323](#L323) | \* @param {Array} words (Optional) An array of 32-bit words. |
| [324](#L324) | \* @param {number} sigBytes (Optional) The number of significant bytes in the words. |
| [325](#L325) | \* |
| [326](#L326) | \* @example |
| [327](#L327) | \* |
| [328](#L328) | \*     var wordArray = CryptoJS.lib.WordArray.create(); |
| [329](#L329) | \*     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]); |
| [330](#L330) | \*     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6); |
| [331](#L331) | \*/ |
| [332](#L332) | init: function (words, sigBytes) { |
| [333](#L333) | words = this.words = words || []; |
| [334](#L334) |  |
| [335](#L335) | if (sigBytes != undefined) { |
| [336](#L336) | this.sigBytes = sigBytes; |
| [337](#L337) | } else { |
| [338](#L338) | this.sigBytes = words.length \* 4; |
| [339](#L339) | } |
| [340](#L340) | }, |
| [341](#L341) |  |
| [342](#L342) | /\*\* |
| [343](#L343) | \* Converts this word array to a string. |
| [344](#L344) | \* |
| [345](#L345) | \* @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex |
| [346](#L346) | \* |
| [347](#L347) | \* @return {string} The stringified word array. |
| [348](#L348) | \* |
| [349](#L349) | \* @example |
| [350](#L350) | \* |
| [351](#L351) | \*     var string = wordArray + ''; |
| [352](#L352) | \*     var string = wordArray.toString(); |
| [353](#L353) | \*     var string = wordArray.toString(CryptoJS.enc.Utf8); |
| [354](#L354) | \*/ |
| [355](#L355) | toString: function (encoder) { |
| [356](#L356) | return (encoder || Hex).stringify(this); |
| [357](#L357) | }, |
| [358](#L358) |  |
| [359](#L359) | /\*\* |
| [360](#L360) | \* Concatenates a word array to this word array. |
| [361](#L361) | \* |
| [362](#L362) | \* @param {WordArray} wordArray The word array to append. |
| [363](#L363) | \* |
| [364](#L364) | \* @return {WordArray} This word array. |
| [365](#L365) | \* |
| [366](#L366) | \* @example |
| [367](#L367) | \* |
| [368](#L368) | \*     wordArray1.concat(wordArray2); |
| [369](#L369) | \*/ |
| [370](#L370) | concat: function (wordArray) { |
| [371](#L371) | // Shortcuts |
| [372](#L372) | var thisWords = this.words; |
| [373](#L373) | var thatWords = wordArray.words; |
| [374](#L374) | var thisSigBytes = this.sigBytes; |
| [375](#L375) | var thatSigBytes = wordArray.sigBytes; |
| [376](#L376) |  |
| [377](#L377) | // Clamp excess bits |
| [378](#L378) | this.clamp(); |
| [379](#L379) |  |
| [380](#L380) | // Concat |
| [381](#L381) | if (thisSigBytes % 4) { |
| [382](#L382) | // Copy one byte at a time |
| [383](#L383) | for (var i = 0; i < thatSigBytes; i++) { |
| [384](#L384) | var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) \* 8)) & 0xff; |
| [385](#L385) | thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) \* 8); |
| [386](#L386) | } |
| [387](#L387) | } else { |
| [388](#L388) | // Copy one word at a time |
| [389](#L389) | for (var j = 0; j < thatSigBytes; j += 4) { |
| [390](#L390) | thisWords[(thisSigBytes + j) >>> 2] = thatWords[j >>> 2]; |
| [391](#L391) | } |
| [392](#L392) | } |
| [393](#L393) | this.sigBytes += thatSigBytes; |
| [394](#L394) |  |
| [395](#L395) | // Chainable |
| [396](#L396) | return this; |
| [397](#L397) | }, |
| [398](#L398) |  |
| [399](#L399) | /\*\* |
| [400](#L400) | \* Removes insignificant bits. |
| [401](#L401) | \* |
| [402](#L402) | \* @example |
| [403](#L403) | \* |
| [404](#L404) | \*     wordArray.clamp(); |
| [405](#L405) | \*/ |
| [406](#L406) | clamp: function () { |
| [407](#L407) | // Shortcuts |
| [408](#L408) | var words = this.words; |
| [409](#L409) | var sigBytes = this.sigBytes; |
| [410](#L410) |  |
| [411](#L411) | // Clamp |
| [412](#L412) | words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) \* 8); |
| [413](#L413) | words.length = Math.ceil(sigBytes / 4); |
| [414](#L414) | }, |
| [415](#L415) |  |
| [416](#L416) | /\*\* |
| [417](#L417) | \* Creates a copy of this word array. |
| [418](#L418) | \* |
| [419](#L419) | \* @return {WordArray} The clone. |
| [420](#L420) | \* |
| [421](#L421) | \* @example |
| [422](#L422) | \* |
| [423](#L423) | \*     var clone = wordArray.clone(); |
| [424](#L424) | \*/ |
| [425](#L425) | clone: function () { |
| [426](#L426) | var clone = Base.clone.call(this); |
| [427](#L427) | clone.words = this.words.slice(0); |
| [428](#L428) |  |
| [429](#L429) | return clone; |
| [430](#L430) | }, |
| [431](#L431) |  |
| [432](#L432) | /\*\* |
| [433](#L433) | \* Creates a word array filled with random bytes. |
| [434](#L434) | \* |
| [435](#L435) | \* @param {number} nBytes The number of random bytes to generate. |
| [436](#L436) | \* |
| [437](#L437) | \* @return {WordArray} The random word array. |
| [438](#L438) | \* |
| [439](#L439) | \* @static |
| [440](#L440) | \* |
| [441](#L441) | \* @example |
| [442](#L442) | \* |
| [443](#L443) | \*     var wordArray = CryptoJS.lib.WordArray.random(16); |
| [444](#L444) | \*/ |
| [445](#L445) | random: function (nBytes) { |
| [446](#L446) | var words = []; |
| [447](#L447) |  |
| [448](#L448) | for (var i = 0; i < nBytes; i += 4) { |
| [449](#L449) | words.push(cryptoSecureRandomInt()); |
| [450](#L450) | } |
| [451](#L451) |  |
| [452](#L452) | return new WordArray.init(words, nBytes); |
| [453](#L453) | } |
| [454](#L454) | }); |
| [455](#L455) |  |
| [456](#L456) | /\*\* |
| [457](#L457) | \* Encoder namespace. |
| [458](#L458) | \*/ |
| [459](#L459) | var C\_enc = C.enc = {}; |
| [460](#L460) |  |
| [461](#L461) | /\*\* |
| [462](#L462) | \* Hex encoding strategy. |
| [463](#L463) | \*/ |
| [464](#L464) | var Hex = C\_enc.Hex = { |
| [465](#L465) | /\*\* |
| [466](#L466) | \* Converts a word array to a hex string. |
| [467](#L467) | \* |
| [468](#L468) | \* @param {WordArray} wordArray The word array. |
| [469](#L469) | \* |
| [470](#L470) | \* @return {string} The hex string. |
| [471](#L471) | \* |
| [472](#L472) | \* @static |
| [473](#L473) | \* |
| [474](#L474) | \* @example |
| [475](#L475) | \* |
| [476](#L476) | \*     var hexString = CryptoJS.enc.Hex.stringify(wordArray); |
| [477](#L477) | \*/ |
| [478](#L478) | stringify: function (wordArray) { |
| [479](#L479) | // Shortcuts |
| [480](#L480) | var words = wordArray.words; |
| [481](#L481) | var sigBytes = wordArray.sigBytes; |
| [482](#L482) |  |
| [483](#L483) | // Convert |
| [484](#L484) | var hexChars = []; |
| [485](#L485) | for (var i = 0; i < sigBytes; i++) { |
| [486](#L486) | var bite = (words[i >>> 2] >>> (24 - (i % 4) \* 8)) & 0xff; |
| [487](#L487) | hexChars.push((bite >>> 4).toString(16)); |
| [488](#L488) | hexChars.push((bite & 0x0f).toString(16)); |
| [489](#L489) | } |
| [490](#L490) |  |
| [491](#L491) | return hexChars.join(''); |
| [492](#L492) | }, |
| [493](#L493) |  |
| [494](#L494) | /\*\* |
| [495](#L495) | \* Converts a hex string to a word array. |
| [496](#L496) | \* |
| [497](#L497) | \* @param {string} hexStr The hex string. |
| [498](#L498) | \* |
| [499](#L499) | \* @return {WordArray} The word array. |
| [500](#L500) | \* |
| [501](#L501) | \* @static |
| [502](#L502) | \* |
| [503](#L503) | \* @example |
| [504](#L504) | \* |
| [505](#L505) | \*     var wordArray = CryptoJS.enc.Hex.parse(hexString); |
| [506](#L506) | \*/ |
| [507](#L507) | parse: function (hexStr) { |
| [508](#L508) | // Shortcut |
| [509](#L509) | var hexStrLength = hexStr.length; |
| [510](#L510) |  |
| [511](#L511) | // Convert |
| [512](#L512) | var words = []; |
| [513](#L513) | for (var i = 0; i < hexStrLength; i += 2) { |
| [514](#L514) | words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) \* 4); |
| [515](#L515) | } |
| [516](#L516) |  |
| [517](#L517) | return new WordArray.init(words, hexStrLength / 2); |
| [518](#L518) | } |
| [519](#L519) | }; |
| [520](#L520) |  |
| [521](#L521) | /\*\* |
| [522](#L522) | \* Latin1 encoding strategy. |
| [523](#L523) | \*/ |
| [524](#L524) | var Latin1 = C\_enc.Latin1 = { |
| [525](#L525) | /\*\* |
| [526](#L526) | \* Converts a word array to a Latin1 string. |
| [527](#L527) | \* |
| [528](#L528) | \* @param {WordArray} wordArray The word array. |
| [529](#L529) | \* |
| [530](#L530) | \* @return {string} The Latin1 string. |
| [531](#L531) | \* |
| [532](#L532) | \* @static |
| [533](#L533) | \* |
| [534](#L534) | \* @example |
| [535](#L535) | \* |
| [536](#L536) | \*     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray); |
| [537](#L537) | \*/ |
| [538](#L538) | stringify: function (wordArray) { |
| [539](#L539) | // Shortcuts |
| [540](#L540) | var words = wordArray.words; |
| [541](#L541) | var sigBytes = wordArray.sigBytes; |
| [542](#L542) |  |
| [543](#L543) | // Convert |
| [544](#L544) | var latin1Chars = []; |
| [545](#L545) | for (var i = 0; i < sigBytes; i++) { |
| [546](#L546) | var bite = (words[i >>> 2] >>> (24 - (i % 4) \* 8)) & 0xff; |
| [547](#L547) | latin1Chars.push(String.fromCharCode(bite)); |
| [548](#L548) | } |
| [549](#L549) |  |
| [550](#L550) | return latin1Chars.join(''); |
| [551](#L551) | }, |
| [552](#L552) |  |
| [553](#L553) | /\*\* |
| [554](#L554) | \* Converts a Latin1 string to a word array. |
| [555](#L555) | \* |
| [556](#L556) | \* @param {string} latin1Str The Latin1 string. |
| [557](#L557) | \* |
| [558](#L558) | \* @return {WordArray} The word array. |
| [559](#L559) | \* |
| [560](#L560) | \* @static |
| [561](#L561) | \* |
| [562](#L562) | \* @example |
| [563](#L563) | \* |
| [564](#L564) | \*     var wordArray = CryptoJS.enc.Latin1.parse(latin1String); |
| [565](#L565) | \*/ |
| [566](#L566) | parse: function (latin1Str) { |
| [567](#L567) | // Shortcut |
| [568](#L568) | var latin1StrLength = latin1Str.length; |
| [569](#L569) |  |
| [570](#L570) | // Convert |
| [571](#L571) | var words = []; |
| [572](#L572) | for (var i = 0; i < latin1StrLength; i++) { |
| [573](#L573) | words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) \* 8); |
| [574](#L574) | } |
| [575](#L575) |  |
| [576](#L576) | return new WordArray.init(words, latin1StrLength); |
| [577](#L577) | } |
| [578](#L578) | }; |
| [579](#L579) |  |
| [580](#L580) | /\*\* |
| [581](#L581) | \* UTF-8 encoding strategy. |
| [582](#L582) | \*/ |
| [583](#L583) | var Utf8 = C\_enc.Utf8 = { |
| [584](#L584) | /\*\* |
| [585](#L585) | \* Converts a word array to a UTF-8 string. |
| [586](#L586) | \* |
| [587](#L587) | \* @param {WordArray} wordArray The word array. |
| [588](#L588) | \* |
| [589](#L589) | \* @return {string} The UTF-8 string. |
| [590](#L590) | \* |
| [591](#L591) | \* @static |
| [592](#L592) | \* |
| [593](#L593) | \* @example |
| [594](#L594) | \* |
| [595](#L595) | \*     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray); |
| [596](#L596) | \*/ |
| [597](#L597) | stringify: function (wordArray) { |
| [598](#L598) | try { |
| [599](#L599) | return decodeURIComponent(escape(Latin1.stringify(wordArray))); |
| [600](#L600) | } catch (e) { |
| [601](#L601) | throw new Error('Malformed UTF-8 data'); |
| [602](#L602) | } |
| [603](#L603) | }, |
| [604](#L604) |  |
| [605](#L605) | /\*\* |
| [606](#L606) | \* Converts a UTF-8 string to a word array. |
| [607](#L607) | \* |
| [608](#L608) | \* @param {string} utf8Str The UTF-8 string. |
| [609](#L609) | \* |
| [610](#L610) | \* @return {WordArray} The word array. |
| [611](#L611) | \* |
| [612](#L612) | \* @static |
| [613](#L613) | \* |
| [614](#L614) | \* @example |
| [615](#L615) | \* |
| [616](#L616) | \*     var wordArray = CryptoJS.enc.Utf8.parse(utf8String); |
| [617](#L617) | \*/ |
| [618](#L618) | parse: function (utf8Str) { |
| [619](#L619) | return Latin1.parse(unescape(encodeURIComponent(utf8Str))); |
| [620](#L620) | } |
| [621](#L621) | }; |
| [622](#L622) |  |
| [623](#L623) | /\*\* |
| [624](#L624) | \* Abstract buffered block algorithm template. |
| [625](#L625) | \* |
| [626](#L626) | \* The property blockSize must be implemented in a concrete subtype. |
| [627](#L627) | \* |
| [628](#L628) | \* @property {number} \_minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0 |
| [629](#L629) | \*/ |
| [630](#L630) | var BufferedBlockAlgorithm = C\_lib.BufferedBlockAlgorithm = Base.extend({ |
| [631](#L631) | /\*\* |
| [632](#L632) | \* Resets this block algorithm's data buffer to its initial state. |
| [633](#L633) | \* |
| [634](#L634) | \* @example |
| [635](#L635) | \* |
| [636](#L636) | \*     bufferedBlockAlgorithm.reset(); |
| [637](#L637) | \*/ |
| [638](#L638) | reset: function () { |
| [639](#L639) | // Initial values |
| [640](#L640) | this.\_data = new WordArray.init(); |
| [641](#L641) | this.\_nDataBytes = 0; |
| [642](#L642) | }, |
| [643](#L643) |  |
| [644](#L644) | /\*\* |
| [645](#L645) | \* Adds new data to this block algorithm's buffer. |
| [646](#L646) | \* |
| [647](#L647) | \* @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8. |
| [648](#L648) | \* |
| [649](#L649) | \* @example |
| [650](#L650) | \* |
| [651](#L651) | \*     bufferedBlockAlgorithm.\_append('data'); |
| [652](#L652) | \*     bufferedBlockAlgorithm.\_append(wordArray); |
| [653](#L653) | \*/ |
| [654](#L654) | \_append: function (data) { |
| [655](#L655) | // Convert string to WordArray, else assume WordArray already |
| [656](#L656) | if (typeof data == 'string') { |
| [657](#L657) | data = Utf8.parse(data); |
| [658](#L658) | } |
| [659](#L659) |  |
| [660](#L660) | // Append |
| [661](#L661) | this.\_data.concat(data); |
| [662](#L662) | this.\_nDataBytes += data.sigBytes; |
| [663](#L663) | }, |
| [664](#L664) |  |
| [665](#L665) | /\*\* |
| [666](#L666) | \* Processes available data blocks. |
| [667](#L667) | \* |
| [668](#L668) | \* This method invokes \_doProcessBlock(offset), which must be implemented by a concrete subtype. |
| [669](#L669) | \* |
| [670](#L670) | \* @param {boolean} doFlush Whether all blocks and partial blocks should be processed. |
| [671](#L671) | \* |
| [672](#L672) | \* @return {WordArray} The processed data. |
| [673](#L673) | \* |
| [674](#L674) | \* @example |
| [675](#L675) | \* |
| [676](#L676) | \*     var processedData = bufferedBlockAlgorithm.\_process(); |
| [677](#L677) | \*     var processedData = bufferedBlockAlgorithm.\_process(!!'flush'); |
| [678](#L678) | \*/ |
| [679](#L679) | \_process: function (doFlush) { |
| [680](#L680) | var processedWords; |
| [681](#L681) |  |
| [682](#L682) | // Shortcuts |
| [683](#L683) | var data = this.\_data; |
| [684](#L684) | var dataWords = data.words; |
| [685](#L685) | var dataSigBytes = data.sigBytes; |
| [686](#L686) | var blockSize = this.blockSize; |
| [687](#L687) | var blockSizeBytes = blockSize \* 4; |
| [688](#L688) |  |
| [689](#L689) | // Count blocks ready |
| [690](#L690) | var nBlocksReady = dataSigBytes / blockSizeBytes; |
| [691](#L691) | if (doFlush) { |
| [692](#L692) | // Round up to include partial blocks |
| [693](#L693) | nBlocksReady = Math.ceil(nBlocksReady); |
| [694](#L694) | } else { |
| [695](#L695) | // Round down to include only full blocks, |
| [696](#L696) | // less the number of blocks that must remain in the buffer |
| [697](#L697) | nBlocksReady = Math.max((nBlocksReady | 0) - this.\_minBufferSize, 0); |
| [698](#L698) | } |
| [699](#L699) |  |
| [700](#L700) | // Count words ready |
| [701](#L701) | var nWordsReady = nBlocksReady \* blockSize; |
| [702](#L702) |  |
| [703](#L703) | // Count bytes ready |
| [704](#L704) | var nBytesReady = Math.min(nWordsReady \* 4, dataSigBytes); |
| [705](#L705) |  |
| [706](#L706) | // Process blocks |
| [707](#L707) | if (nWordsReady) { |
| [708](#L708) | for (var offset = 0; offset < nWordsReady; offset += blockSize) { |
| [709](#L709) | // Perform concrete-algorithm logic |
| [710](#L710) | this.\_doProcessBlock(dataWords, offset); |
| [711](#L711) | } |
| [712](#L712) |  |
| [713](#L713) | // Remove processed words |
| [714](#L714) | processedWords = dataWords.splice(0, nWordsReady); |
| [715](#L715) | data.sigBytes -= nBytesReady; |
| [716](#L716) | } |
| [717](#L717) |  |
| [718](#L718) | // Return processed words |
| [719](#L719) | return new WordArray.init(processedWords, nBytesReady); |
| [720](#L720) | }, |
| [721](#L721) |  |
| [722](#L722) | /\*\* |
| [723](#L723) | \* Creates a copy of this object. |
| [724](#L724) | \* |
| [725](#L725) | \* @return {Object} The clone. |
| [726](#L726) | \* |
| [727](#L727) | \* @example |
| [728](#L728) | \* |
| [729](#L729) | \*     var clone = bufferedBlockAlgorithm.clone(); |
| [730](#L730) | \*/ |
| [731](#L731) | clone: function () { |
| [732](#L732) | var clone = Base.clone.call(this); |
| [733](#L733) | clone.\_data = this.\_data.clone(); |
| [734](#L734) |  |
| [735](#L735) | return clone; |
| [736](#L736) | }, |
| [737](#L737) |  |
| [738](#L738) | \_minBufferSize: 0 |
| [739](#L739) | }); |
| [740](#L740) |  |
| [741](#L741) | /\*\* |
| [742](#L742) | \* Abstract hasher template. |
| [743](#L743) | \* |
| [744](#L744) | \* @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits) |
| [745](#L745) | \*/ |
| [746](#L746) | var Hasher = C\_lib.Hasher = BufferedBlockAlgorithm.extend({ |
| [747](#L747) | /\*\* |
| [748](#L748) | \* Configuration options. |
| [749](#L749) | \*/ |
| [750](#L750) | cfg: Base.extend(), |
| [751](#L751) |  |
| [752](#L752) | /\*\* |
| [753](#L753) | \* Initializes a newly created hasher. |
| [754](#L754) | \* |
| [755](#L755) | \* @param {Object} cfg (Optional) The configuration options to use for this hash computation. |
| [756](#L756) | \* |
| [757](#L757) | \* @example |
| [758](#L758) | \* |
| [759](#L759) | \*     var hasher = CryptoJS.algo.SHA256.create(); |
| [760](#L760) | \*/ |
| [761](#L761) | init: function (cfg) { |
| [762](#L762) | // Apply config defaults |
| [763](#L763) | this.cfg = this.cfg.extend(cfg); |
| [764](#L764) |  |
| [765](#L765) | // Set initial values |
| [766](#L766) | this.reset(); |
| [767](#L767) | }, |
| [768](#L768) |  |
| [769](#L769) | /\*\* |
| [770](#L770) | \* Resets this hasher to its initial state. |
| [771](#L771) | \* |
| [772](#L772) | \* @example |
| [773](#L773) | \* |
| [774](#L774) | \*     hasher.reset(); |
| [775](#L775) | \*/ |
| [776](#L776) | reset: function () { |
| [777](#L777) | // Reset data buffer |
| [778](#L778) | BufferedBlockAlgorithm.reset.call(this); |
| [779](#L779) |  |
| [780](#L780) | // Perform concrete-hasher logic |
| [781](#L781) | this.\_doReset(); |
| [782](#L782) | }, |
| [783](#L783) |  |
| [784](#L784) | /\*\* |
| [785](#L785) | \* Updates this hasher with a message. |
| [786](#L786) | \* |
| [787](#L787) | \* @param {WordArray|string} messageUpdate The message to append. |
| [788](#L788) | \* |
| [789](#L789) | \* @return {Hasher} This hasher. |
| [790](#L790) | \* |
| [791](#L791) | \* @example |
| [792](#L792) | \* |
| [793](#L793) | \*     hasher.update('message'); |
| [794](#L794) | \*     hasher.update(wordArray); |
| [795](#L795) | \*/ |
| [796](#L796) | update: function (messageUpdate) { |
| [797](#L797) | // Append |
| [798](#L798) | this.\_append(messageUpdate); |
| [799](#L799) |  |
| [800](#L800) | // Update the hash |
| [801](#L801) | this.\_process(); |
| [802](#L802) |  |
| [803](#L803) | // Chainable |
| [804](#L804) | return this; |
| [805](#L805) | }, |
| [806](#L806) |  |
| [807](#L807) | /\*\* |
| [808](#L808) | \* Finalizes the hash computation. |
| [809](#L809) | \* Note that the finalize operation is effectively a destructive, read-once operation. |
| [810](#L810) | \* |
| [811](#L811) | \* @param {WordArray|string} messageUpdate (Optional) A final message update. |
| [812](#L812) | \* |
| [813](#L813) | \* @return {WordArray} The hash. |
| [814](#L814) | \* |
| [815](#L815) | \* @example |
| [816](#L816) | \* |
| [817](#L817) | \*     var hash = hasher.finalize(); |
| [818](#L818) | \*     var hash = hasher.finalize('message'); |
| [819](#L819) | \*     var hash = hasher.finalize(wordArray); |
| [820](#L820) | \*/ |
| [821](#L821) | finalize: function (messageUpdate) { |
| [822](#L822) | // Final message update |
| [823](#L823) | if (messageUpdate) { |
| [824](#L824) | this.\_append(messageUpdate); |
| [825](#L825) | } |
| [826](#L826) |  |
| [827](#L827) | // Perform concrete-hasher logic |
| [828](#L828) | var hash = this.\_doFinalize(); |
| [829](#L829) |  |
| [830](#L830) | return hash; |
| [831](#L831) | }, |
| [832](#L832) |  |
| [833](#L833) | blockSize: 512/32, |
| [834](#L834) |  |
| [835](#L835) | /\*\* |
| [836](#L836) | \* Creates a shortcut function to a hasher's object interface. |
| [837](#L837) | \* |
| [838](#L838) | \* @param {Hasher} hasher The hasher to create a helper for. |
| [839](#L839) | \* |
| [840](#L840) | \* @return {Function} The shortcut function. |
| [841](#L841) | \* |
| [842](#L842) | \* @static |
| [843](#L843) | \* |
| [844](#L844) | \* @example |
| [845](#L845) | \* |
| [846](#L846) | \*     var SHA256 = CryptoJS.lib.Hasher.\_createHelper(CryptoJS.algo.SHA256); |
| [847](#L847) | \*/ |
| [848](#L848) | \_createHelper: function (hasher) { |
| [849](#L849) | return function (message, cfg) { |
| [850](#L850) | return new hasher.init(cfg).finalize(message); |
| [851](#L851) | }; |
| [852](#L852) | }, |
| [853](#L853) |  |
| [854](#L854) | /\*\* |
| [855](#L855) | \* Creates a shortcut function to the HMAC's object interface. |
| [856](#L856) | \* |
| [857](#L857) | \* @param {Hasher} hasher The hasher to use in this HMAC helper. |
| [858](#L858) | \* |
| [859](#L859) | \* @return {Function} The shortcut function. |
| [860](#L860) | \* |
| [861](#L861) | \* @static |
| [862](#L862) | \* |
| [863](#L863) | \* @example |
| [864](#L864) | \* |
| [865](#L865) | \*     var HmacSHA256 = CryptoJS.lib.Hasher.\_createHmacHelper(CryptoJS.algo.SHA256); |
| [866](#L866) | \*/ |
| [867](#L867) | \_createHmacHelper: function (hasher) { |
| [868](#L868) | return function (message, key) { |
| [869](#L869) | return new C\_algo.HMAC.init(hasher, key).finalize(message); |
| [870](#L870) | }; |
| [871](#L871) | } |
| [872](#L872) | }); |
| [873](#L873) |  |
| [874](#L874) | /\*\* |
| [875](#L875) | \* Algorithm namespace. |
| [876](#L876) | \*/ |
| [877](#L877) | var C\_algo = C.algo = {}; |
| [878](#L878) |  |
| [879](#L879) | return C; |
| [880](#L880) | }(Math)); |
| [881](#L881) |  |
| [882](#L882) |  |
| [883](#L883) | return CryptoJS; |
| [884](#L884) |  |
| [885](#L885) | })); |
| [886](#L886) |  |
| [887](#L887) | /\*\*\*/ }), |
| [888](#L888) |  |
| [889](#L889) | /\*\*\*/ 214: |
| [890](#L890) | /\*\*\*/ (function(module, exports, \_\_webpack\_require\_\_) { |
| [891](#L891) |  |
| [892](#L892) | ;(function (root, factory) { |
| [893](#L893) | if (true) { |
| [894](#L894) | // CommonJS |
| [895](#L895) | module.exports = exports = factory(\_\_webpack\_require\_\_(249)); |
| [896](#L896) | } |
| [897](#L897) | else {} |
| [898](#L898) | }(this, function (CryptoJS) { |
| [899](#L899) |  |
| [900](#L900) | (function (Math) { |
| [901](#L901) | // Shortcuts |
| [902](#L902) | var C = CryptoJS; |
| [903](#L903) | var C\_lib = C.lib; |
| [904](#L904) | var WordArray = C\_lib.WordArray; |
| [905](#L905) | var Hasher = C\_lib.Hasher; |
| [906](#L906) | var C\_algo = C.algo; |
| [907](#L907) |  |
| [908](#L908) | // Constants table |
| [909](#L909) | var T = []; |
| [910](#L910) |  |
| [911](#L911) | // Compute constants |
| [912](#L912) | (function () { |
| [913](#L913) | for (var i = 0; i < 64; i++) { |
| [914](#L914) | T[i] = (Math.abs(Math.sin(i + 1)) \* 0x100000000) | 0; |
| [915](#L915) | } |
| [916](#L916) | }()); |
| [917](#L917) |  |
| [918](#L918) | /\*\* |
| [919](#L919) | \* MD5 hash algorithm. |
| [920](#L920) | \*/ |
| [921](#L921) | var MD5 = C\_algo.MD5 = Hasher.extend({ |
| [922](#L922) | \_doReset: function () { |
| [923](#L923) | this.\_hash = new WordArray.init([ |
| [924](#L924) | 0x67452301, 0xefcdab89, |
| [925](#L925) | 0x98badcfe, 0x10325476 |
| [926](#L926) | ]); |
| [927](#L927) | }, |
| [928](#L928) |  |
| [929](#L929) | \_doProcessBlock: function (M, offset) { |
| [930](#L930) | // Swap endian |
| [931](#L931) | for (var i = 0; i < 16; i++) { |
| [932](#L932) | // Shortcuts |
| [933](#L933) | var offset\_i = offset + i; |
| [934](#L934) | var M\_offset\_i = M[offset\_i]; |
| [935](#L935) |  |
| [936](#L936) | M[offset\_i] = ( |
| [937](#L937) | (((M\_offset\_i << 8)  | (M\_offset\_i >>> 24)) & 0x00ff00ff) | |
| [938](#L938) | (((M\_offset\_i << 24) | (M\_offset\_i >>> 8))  & 0xff00ff00) |
| [939](#L939) | ); |
| [940](#L940) | } |
| [941](#L941) |  |
| [942](#L942) | // Shortcuts |
| [943](#L943) | var H = this.\_hash.words; |
| [944](#L944) |  |
| [945](#L945) | var M\_offset\_0  = M[offset + 0]; |
| [946](#L946) | var M\_offset\_1  = M[offset + 1]; |
| [947](#L947) | var M\_offset\_2  = M[offset + 2]; |
| [948](#L948) | var M\_offset\_3  = M[offset + 3]; |
| [949](#L949) | var M\_offset\_4  = M[offset + 4]; |
| [950](#L950) | var M\_offset\_5  = M[offset + 5]; |
| [951](#L951) | var M\_offset\_6  = M[offset + 6]; |
| [952](#L952) | var M\_offset\_7  = M[offset + 7]; |
| [953](#L953) | var M\_offset\_8  = M[offset + 8]; |
| [954](#L954) | var M\_offset\_9  = M[offset + 9]; |
| [955](#L955) | var M\_offset\_10 = M[offset + 10]; |
| [956](#L956) | var M\_offset\_11 = M[offset + 11]; |
| [957](#L957) | var M\_offset\_12 = M[offset + 12]; |
| [958](#L958) | var M\_offset\_13 = M[offset + 13]; |
| [959](#L959) | var M\_offset\_14 = M[offset + 14]; |
| [960](#L960) | var M\_offset\_15 = M[offset + 15]; |
| [961](#L961) |  |
| [962](#L962) | // Working varialbes |
| [963](#L963) | var a = H[0]; |
| [964](#L964) | var b = H[1]; |
| [965](#L965) | var c = H[2]; |
| [966](#L966) | var d = H[3]; |
| [967](#L967) |  |
| [968](#L968) | // Computation |
| [969](#L969) | a = FF(a, b, c, d, M\_offset\_0,  7,  T[0]); |
| [970](#L970) | d = FF(d, a, b, c, M\_offset\_1,  12, T[1]); |
| [971](#L971) | c = FF(c, d, a, b, M\_offset\_2,  17, T[2]); |
| [972](#L972) | b = FF(b, c, d, a, M\_offset\_3,  22, T[3]); |
| [973](#L973) | a = FF(a, b, c, d, M\_offset\_4,  7,  T[4]); |
| [974](#L974) | d = FF(d, a, b, c, M\_offset\_5,  12, T[5]); |
| [975](#L975) | c = FF(c, d, a, b, M\_offset\_6,  17, T[6]); |
| [976](#L976) | b = FF(b, c, d, a, M\_offset\_7,  22, T[7]); |
| [977](#L977) | a = FF(a, b, c, d, M\_offset\_8,  7,  T[8]); |
| [978](#L978) | d = FF(d, a, b, c, M\_offset\_9,  12, T[9]); |
| [979](#L979) | c = FF(c, d, a, b, M\_offset\_10, 17, T[10]); |
| [980](#L980) | b = FF(b, c, d, a, M\_offset\_11, 22, T[11]); |
| [981](#L981) | a = FF(a, b, c, d, M\_offset\_12, 7,  T[12]); |
| [982](#L982) | d = FF(d, a, b, c, M\_offset\_13, 12, T[13]); |
| [983](#L983) | c = FF(c, d, a, b, M\_offset\_14, 17, T[14]); |
| [984](#L984) | b = FF(b, c, d, a, M\_offset\_15, 22, T[15]); |
| [985](#L985) |  |
| [986](#L986) | a = GG(a, b, c, d, M\_offset\_1,  5,  T[16]); |
| [987](#L987) | d = GG(d, a, b, c, M\_offset\_6,  9,  T[17]); |
| [988](#L988) | c = GG(c, d, a, b, M\_offset\_11, 14, T[18]); |
| [989](#L989) | b = GG(b, c, d, a, M\_offset\_0,  20, T[19]); |
| [990](#L990) | a = GG(a, b, c, d, M\_offset\_5,  5,  T[20]); |
| [991](#L991) | d = GG(d, a, b, c, M\_offset\_10, 9,  T[21]); |
| [992](#L992) | c = GG(c, d, a, b, M\_offset\_15, 14, T[22]); |
| [993](#L993) | b = GG(b, c, d, a, M\_offset\_4,  20, T[23]); |
| [994](#L994) | a = GG(a, b, c, d, M\_offset\_9,  5,  T[24]); |
| [995](#L995) | d = GG(d, a, b, c, M\_offset\_14, 9,  T[25]); |
| [996](#L996) | c = GG(c, d, a, b, M\_offset\_3,  14, T[26]); |
| [997](#L997) | b = GG(b, c, d, a, M\_offset\_8,  20, T[27]); |
| [998](#L998) | a = GG(a, b, c, d, M\_offset\_13, 5,  T[28]); |
| [999](#L999) | d = GG(d, a, b, c, M\_offset\_2,  9,  T[29]); |
| [1000](#L1000) | c = GG(c, d, a, b, M\_offset\_7,  14, T[30]); |
| [1001](#L1001) | b = GG(b, c, d, a, M\_offset\_12, 20, T[31]); |
| [1002](#L1002) |  |
| [1003](#L1003) | a = HH(a, b, c, d, M\_offset\_5,  4,  T[32]); |
| [1004](#L1004) | d = HH(d, a, b, c, M\_offset\_8,  11, T[33]); |
| [1005](#L1005) | c = HH(c, d, a, b, M\_offset\_11, 16, T[34]); |
| [1006](#L1006) | b = HH(b, c, d, a, M\_offset\_14, 23, T[35]); |
| [1007](#L1007) | a = HH(a, b, c, d, M\_offset\_1,  4,  T[36]); |
| [1008](#L1008) | d = HH(d, a, b, c, M\_offset\_4,  11, T[37]); |
| [1009](#L1009) | c = HH(c, d, a, b, M\_offset\_7,  16, T[38]); |
| [1010](#L1010) | b = HH(b, c, d, a, M\_offset\_10, 23, T[39]); |
| [1011](#L1011) | a = HH(a, b, c, d, M\_offset\_13, 4,  T[40]); |
| [1012](#L1012) | d = HH(d, a, b, c, M\_offset\_0,  11, T[41]); |
| [1013](#L1013) | c = HH(c, d, a, b, M\_offset\_3,  16, T[42]); |
| [1014](#L1014) | b = HH(b, c, d, a, M\_offset\_6,  23, T[43]); |
| [1015](#L1015) | a = HH(a, b, c, d, M\_offset\_9,  4,  T[44]); |
| [1016](#L1016) | d = HH(d, a, b, c, M\_offset\_12, 11, T[45]); |
| [1017](#L1017) | c = HH(c, d, a, b, M\_offset\_15, 16, T[46]); |
| [1018](#L1018) | b = HH(b, c, d, a, M\_offset\_2,  23, T[47]); |
| [1019](#L1019) |  |
| [1020](#L1020) | a = II(a, b, c, d, M\_offset\_0,  6,  T[48]); |
| [1021](#L1021) | d = II(d, a, b, c, M\_offset\_7,  10, T[49]); |
| [1022](#L1022) | c = II(c, d, a, b, M\_offset\_14, 15, T[50]); |
| [1023](#L1023) | b = II(b, c, d, a, M\_offset\_5,  21, T[51]); |
| [1024](#L1024) | a = II(a, b, c, d, M\_offset\_12, 6,  T[52]); |
| [1025](#L1025) | d = II(d, a, b, c, M\_offset\_3,  10, T[53]); |
| [1026](#L1026) | c = II(c, d, a, b, M\_offset\_10, 15, T[54]); |
| [1027](#L1027) | b = II(b, c, d, a, M\_offset\_1,  21, T[55]); |
| [1028](#L1028) | a = II(a, b, c, d, M\_offset\_8,  6,  T[56]); |
| [1029](#L1029) | d = II(d, a, b, c, M\_offset\_15, 10, T[57]); |
| [1030](#L1030) | c = II(c, d, a, b, M\_offset\_6,  15, T[58]); |
| [1031](#L1031) | b = II(b, c, d, a, M\_offset\_13, 21, T[59]); |
| [1032](#L1032) | a = II(a, b, c, d, M\_offset\_4,  6,  T[60]); |
| [1033](#L1033) | d = II(d, a, b, c, M\_offset\_11, 10, T[61]); |
| [1034](#L1034) | c = II(c, d, a, b, M\_offset\_2,  15, T[62]); |
| [1035](#L1035) | b = II(b, c, d, a, M\_offset\_9,  21, T[63]); |
| [1036](#L1036) |  |
| [1037](#L1037) | // Intermediate hash value |
| [1038](#L1038) | H[0] = (H[0] + a) | 0; |
| [1039](#L1039) | H[1] = (H[1] + b) | 0; |
| [1040](#L1040) | H[2] = (H[2] + c) | 0; |
| [1041](#L1041) | H[3] = (H[3] + d) | 0; |
| [1042](#L1042) | }, |
| [1043](#L1043) |  |
| [1044](#L1044) | \_doFinalize: function () { |
| [1045](#L1045) | // Shortcuts |
| [1046](#L1046) | var data = this.\_data; |
| [1047](#L1047) | var dataWords = data.words; |
| [1048](#L1048) |  |
| [1049](#L1049) | var nBitsTotal = this.\_nDataBytes \* 8; |
| [1050](#L1050) | var nBitsLeft = data.sigBytes \* 8; |
| [1051](#L1051) |  |
| [1052](#L1052) | // Add padding |
| [1053](#L1053) | dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32); |
| [1054](#L1054) |  |
| [1055](#L1055) | var nBitsTotalH = Math.floor(nBitsTotal / 0x100000000); |
| [1056](#L1056) | var nBitsTotalL = nBitsTotal; |
| [1057](#L1057) | dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = ( |
| [1058](#L1058) | (((nBitsTotalH << 8)  | (nBitsTotalH >>> 24)) & 0x00ff00ff) | |
| [1059](#L1059) | (((nBitsTotalH << 24) | (nBitsTotalH >>> 8))  & 0xff00ff00) |
| [1060](#L1060) | ); |
| [1061](#L1061) | dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = ( |
| [1062](#L1062) | (((nBitsTotalL << 8)  | (nBitsTotalL >>> 24)) & 0x00ff00ff) | |
| [1063](#L1063) | (((nBitsTotalL << 24) | (nBitsTotalL >>> 8))  & 0xff00ff00) |
| [1064](#L1064) | ); |
| [1065](#L1065) |  |
| [1066](#L1066) | data.sigBytes = (dataWords.length + 1) \* 4; |
| [1067](#L1067) |  |
| [1068](#L1068) | // Hash final blocks |
| [1069](#L1069) | this.\_process(); |
| [1070](#L1070) |  |
| [1071](#L1071) | // Shortcuts |
| [1072](#L1072) | var hash = this.\_hash; |
| [1073](#L1073) | var H = hash.words; |
| [1074](#L1074) |  |
| [1075](#L1075) | // Swap endian |
| [1076](#L1076) | for (var i = 0; i < 4; i++) { |
| [1077](#L1077) | // Shortcut |
| [1078](#L1078) | var H\_i = H[i]; |
| [1079](#L1079) |  |
| [1080](#L1080) | H[i] = (((H\_i << 8)  | (H\_i >>> 24)) & 0x00ff00ff) | |
| [1081](#L1081) | (((H\_i << 24) | (H\_i >>> 8))  & 0xff00ff00); |
| [1082](#L1082) | } |
| [1083](#L1083) |  |
| [1084](#L1084) | // Return final computed hash |
| [1085](#L1085) | return hash; |
| [1086](#L1086) | }, |
| [1087](#L1087) |  |
| [1088](#L1088) | clone: function () { |
| [1089](#L1089) | var clone = Hasher.clone.call(this); |
| [1090](#L1090) | clone.\_hash = this.\_hash.clone(); |
| [1091](#L1091) |  |
| [1092](#L1092) | return clone; |
| [1093](#L1093) | } |
| [1094](#L1094) | }); |
| [1095](#L1095) |  |
| [1096](#L1096) | function FF(a, b, c, d, x, s, t) { |
| [1097](#L1097) | var n = a + ((b & c) | (~b & d)) + x + t; |
| [1098](#L1098) | return ((n << s) | (n >>> (32 - s))) + b; |
| [1099](#L1099) | } |
| [1100](#L1100) |  |
| [1101](#L1101) | function GG(a, b, c, d, x, s, t) { |
| [1102](#L1102) | var n = a + ((b & d) | (c & ~d)) + x + t; |
| [1103](#L1103) | return ((n << s) | (n >>> (32 - s))) + b; |
| [1104](#L1104) | } |
| [1105](#L1105) |  |
| [1106](#L1106) | function HH(a, b, c, d, x, s, t) { |
| [1107](#L1107) | var n = a + (b ^ c ^ d) + x + t; |
| [1108](#L1108) | return ((n << s) | (n >>> (32 - s))) + b; |
| [1109](#L1109) | } |
| [1110](#L1110) |  |
| [1111](#L1111) | function II(a, b, c, d, x, s, t) { |
| [1112](#L1112) | var n = a + (c ^ (b | ~d)) + x + t; |
| [1113](#L1113) | return ((n << s) | (n >>> (32 - s))) + b; |
| [1114](#L1114) | } |
| [1115](#L1115) |  |
| [1116](#L1116) | /\*\* |
| [1117](#L1117) | \* Shortcut function to the hasher's object interface. |
| [1118](#L1118) | \* |
| [1119](#L1119) | \* @param {WordArray|string} message The message to hash. |
| [1120](#L1120) | \* |
| [1121](#L1121) | \* @return {WordArray} The hash. |
| [1122](#L1122) | \* |
| [1123](#L1123) | \* @static |
| [1124](#L1124) | \* |
| [1125](#L1125) | \* @example |
| [1126](#L1126) | \* |
| [1127](#L1127) | \*     var hash = CryptoJS.MD5('message'); |
| [1128](#L1128) | \*     var hash = CryptoJS.MD5(wordArray); |
| [1129](#L1129) | \*/ |
| [1130](#L1130) | C.MD5 = Hasher.\_createHelper(MD5); |
| [1131](#L1131) |  |
| [1132](#L1132) | /\*\* |
| [1133](#L1133) | \* Shortcut function to the HMAC's object interface. |
| [1134](#L1134) | \* |
| [1135](#L1135) | \* @param {WordArray|string} message The message to hash. |
| [1136](#L1136) | \* @param {WordArray|string} key The secret key. |
| [1137](#L1137) | \* |
| [1138](#L1138) | \* @return {WordArray} The HMAC. |
| [1139](#L1139) | \* |
| [1140](#L1140) | \* @static |
| [1141](#L1141) | \* |
| [1142](#L1142) | \* @example |
| [1143](#L1143) | \* |
| [1144](#L1144) | \*     var hmac = CryptoJS.HmacMD5(message, key); |
| [1145](#L1145) | \*/ |
| [1146](#L1146) | C.HmacMD5 = Hasher.\_createHmacHelper(MD5); |
| [1147](#L1147) | }(Math)); |
| [1148](#L1148) |  |
| [1149](#L1149) |  |
| [1150](#L1150) | return CryptoJS.MD5; |
| [1151](#L1151) |  |
| [1152](#L1152) | })); |
| [1153](#L1153) |  |
| [1154](#L1154) | /\*\*\*/ }), |
| [1155](#L1155) |  |
| [1156](#L1156) | /\*\*\*/ 158: |
| [1157](#L1157) | /\*\*\*/ (function(module, exports, \_\_webpack\_require\_\_) { |
| [1158](#L1158) |  |
| [1159](#L1159) | var \_\_WEBPACK\_AMD\_DEFINE\_FACTORY\_\_, \_\_WEBPACK\_AMD\_DEFINE\_RESULT\_\_;/\*\* |
| [1160](#L1160) | \* EvEmitter v1.1.0 |
| [1161](#L1161) | \* Lil' event emitter |
| [1162](#L1162) | \* MIT License |
| [1163](#L1163) | \*/ |
| [1164](#L1164) |  |
| [1165](#L1165) | /\* jshint unused: true, undef: true, strict: true \*/ |
| [1166](#L1166) |  |
| [1167](#L1167) | ( function( global, factory ) { |
| [1168](#L1168) | // universal module definition |
| [1169](#L1169) | /\* jshint strict: false \*/ /\* globals define, module, window \*/ |
| [1170](#L1170) | if ( true ) { |
| [1171](#L1171) | // AMD - RequireJS |
| [1172](#L1172) | !(\_\_WEBPACK\_AMD\_DEFINE\_FACTORY\_\_ = (factory), |
| [1173](#L1173) | \_\_WEBPACK\_AMD\_DEFINE\_RESULT\_\_ = (typeof \_\_WEBPACK\_AMD\_DEFINE\_FACTORY\_\_ === 'function' ? |
| [1174](#L1174) | (\_\_WEBPACK\_AMD\_DEFINE\_FACTORY\_\_.call(exports, \_\_webpack\_require\_\_, exports, module)) : |
| [1175](#L1175) | \_\_WEBPACK\_AMD\_DEFINE\_FACTORY\_\_), |
| [1176](#L1176) | \_\_WEBPACK\_AMD\_DEFINE\_RESULT\_\_ !== undefined && (module.exports = \_\_WEBPACK\_AMD\_DEFINE\_RESULT\_\_)); |
| [1177](#L1177) | } else {} |
| [1178](#L1178) |  |
| [1179](#L1179) | }( typeof window != 'undefined' ? window : this, function() { |
| [1180](#L1180) |  |
| [1181](#L1181) | "use strict"; |
| [1182](#L1182) |  |
| [1183](#L1183) | function EvEmitter() {} |
| [1184](#L1184) |  |
| [1185](#L1185) | var proto = EvEmitter.prototype; |
| [1186](#L1186) |  |
| [1187](#L1187) | proto.on = function( eventName, listener ) { |
| [1188](#L1188) | if ( !eventName || !listener ) { |
| [1189](#L1189) | return; |
| [1190](#L1190) | } |
| [1191](#L1191) | // set events hash |
| [1192](#L1192) | var events = this.\_events = this.\_events || {}; |
| [1193](#L1193) | // set listeners array |
| [1194](#L1194) | var listeners = events[ eventName ] = events[ eventName ] || []; |
| [1195](#L1195) | // only add once |
| [1196](#L1196) | if ( listeners.indexOf( listener ) == -1 ) { |
| [1197](#L1197) | listeners.push( listener ); |
| [1198](#L1198) | } |
| [1199](#L1199) |  |
| [1200](#L1200) | return this; |
| [1201](#L1201) | }; |
| [1202](#L1202) |  |
| [1203](#L1203) | proto.once = function( eventName, listener ) { |
| [1204](#L1204) | if ( !eventName || !listener ) { |
| [1205](#L1205) | return; |
| [1206](#L1206) | } |
| [1207](#L1207) | // add event |
| [1208](#L1208) | this.on( eventName, listener ); |
| [1209](#L1209) | // set once flag |
| [1210](#L1210) | // set onceEvents hash |
| [1211](#L1211) | var onceEvents = this.\_onceEvents = this.\_onceEvents || {}; |
| [1212](#L1212) | // set onceListeners object |
| [1213](#L1213) | var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {}; |
| [1214](#L1214) | // set flag |
| [1215](#L1215) | onceListeners[ listener ] = true; |
| [1216](#L1216) |  |
| [1217](#L1217) | return this; |
| [1218](#L1218) | }; |
| [1219](#L1219) |  |
| [1220](#L1220) | proto.off = function( eventName, listener ) { |
| [1221](#L1221) | var listeners = this.\_events && this.\_events[ eventName ]; |
| [1222](#L1222) | if ( !listeners || !listeners.length ) { |
| [1223](#L1223) | return; |
| [1224](#L1224) | } |
| [1225](#L1225) | var index = listeners.indexOf( listener ); |
| [1226](#L1226) | if ( index != -1 ) { |
| [1227](#L1227) | listeners.splice( index, 1 ); |
| [1228](#L1228) | } |
| [1229](#L1229) |  |
| [1230](#L1230) | return this; |
| [1231](#L1231) | }; |
| [1232](#L1232) |  |
| [1233](#L1233) | proto.emitEvent = function( eventName, args ) { |
| [1234](#L1234) | var listeners = this.\_events && this.\_events[ eventName ]; |
| [1235](#L1235) | if ( !listeners || !listeners.length ) { |
| [1236](#L1236) | return; |
| [1237](#L1237) | } |
| [1238](#L1238) | // copy over to avoid interference if .off() in listener |
| [1239](#L1239) | listeners = listeners.slice(0); |
| [1240](#L1240) | args = args || []; |
| [1241](#L1241) | // once stuff |
| [1242](#L1242) | var onceListeners = this.\_onceEvents && this.\_onceEvents[ eventName ]; |
| [1243](#L1243) |  |
| [1244](#L1244) | for ( var i=0; i < listeners.length; i++ ) { |
| [1245](#L1245) | var listener = listeners[i] |
| [1246](#L1246) | var isOnce = onceListeners && onceListeners[ listener ]; |
| [1247](#L1247) | if ( isOnce ) { |
| [1248](#L1248) | // remove listener |
| [1249](#L1249) | // remove before trigger to prevent recursion |
| [1250](#L1250) | this.off( eventName, listener ); |
| [1251](#L1251) | // unset once flag |
| [1252](#L1252) | delete onceListeners[ listener ]; |
| [1253](#L1253) | } |
| [1254](#L1254) | // trigger listener |
| [1255](#L1255) | listener.apply( this, args ); |
| [1256](#L1256) | } |
| [1257](#L1257) |  |
| [1258](#L1258) | return this; |
| [1259](#L1259) | }; |
| [1260](#L1260) |  |
| [1261](#L1261) | proto.allOff = function() { |
| [1262](#L1262) | delete this.\_events; |
| [1263](#L1263) | delete this.\_onceEvents; |
| [1264](#L1264) | }; |
| [1265](#L1265) |  |
| [1266](#L1266) | return EvEmitter; |
| [1267](#L1267) |  |
| [1268](#L1268) | })); |
| [1269](#L1269) |  |
| [1270](#L1270) |  |
| [1271](#L1271) | /\*\*\*/ }), |
| [1272](#L1272) |  |
| [1273](#L1273) | /\*\*\*/ 334: |
| [1274](#L1274) | /\*\*\*/ (function() { |
| [1275](#L1275) |  |
| [1276](#L1276) | // focus - focusOptions - preventScroll polyfill |
| [1277](#L1277) | (function() { |
| [1278](#L1278) | if ( |
| [1279](#L1279) | typeof window === "undefined" || |
| [1280](#L1280) | typeof document === "undefined" || |
| [1281](#L1281) | typeof HTMLElement === "undefined" |
| [1282](#L1282) | ) { |
| [1283](#L1283) | return; |
| [1284](#L1284) | } |
| [1285](#L1285) |  |
| [1286](#L1286) | var supportsPreventScrollOption = false; |
| [1287](#L1287) | try { |
| [1288](#L1288) | var focusElem = document.createElement("div"); |
| [1289](#L1289) | focusElem.addEventListener( |
| [1290](#L1290) | "focus", |
| [1291](#L1291) | function(event) { |
| [1292](#L1292) | event.preventDefault(); |
| [1293](#L1293) | event.stopPropagation(); |
| [1294](#L1294) | }, |
| [1295](#L1295) | true |
| [1296](#L1296) | ); |
| [1297](#L1297) | focusElem.focus( |
| [1298](#L1298) | Object.defineProperty({}, "preventScroll", { |
| [1299](#L1299) | get: function() { |
| [1300](#L1300) | // Edge v18 gives a false positive for supporting inputs |
| [1301](#L1301) | if ( |
| [1302](#L1302) | navigator && |
| [1303](#L1303) | typeof navigator.userAgent !== 'undefined' && |
| [1304](#L1304) | navigator.userAgent && |
| [1305](#L1305) | navigator.userAgent.match(/Edge\/1[7-8]/)) { |
| [1306](#L1306) | return supportsPreventScrollOption = false |
| [1307](#L1307) | } |
| [1308](#L1308) |  |
| [1309](#L1309) | supportsPreventScrollOption = true; |
| [1310](#L1310) | } |
| [1311](#L1311) | }) |
| [1312](#L1312) | ); |
| [1313](#L1313) | } catch (e) {} |
| [1314](#L1314) |  |
| [1315](#L1315) | if ( |
| [1316](#L1316) | HTMLElement.prototype.nativeFocus === undefined && |
| [1317](#L1317) | !supportsPreventScrollOption |
| [1318](#L1318) | ) { |
| [1319](#L1319) | HTMLElement.prototype.nativeFocus = HTMLElement.prototype.focus; |
| [1320](#L1320) |  |
| [1321](#L1321) | var calcScrollableElements = function(element) { |
| [1322](#L1322) | var parent = element.parentNode; |
| [1323](#L1323) | var scrollableElements = []; |
| [1324](#L1324) | var rootScrollingElement = |
| [1325](#L1325) | document.scrollingElement || document.documentElement; |
| [1326](#L1326) |  |
| [1327](#L1327) | while (parent && parent !== rootScrollingElement) { |
| [1328](#L1328) | if ( |
| [1329](#L1329) | parent.offsetHeight < parent.scrollHeight || |
| [1330](#L1330) | parent.offsetWidth < parent.scrollWidth |
| [1331](#L1331) | ) { |
| [1332](#L1332) | scrollableElements.push([ |
| [1333](#L1333) | parent, |
| [1334](#L1334) | parent.scrollTop, |
| [1335](#L1335) | parent.scrollLeft |
| [1336](#L1336) | ]); |
| [1337](#L1337) | } |
| [1338](#L1338) | parent = parent.parentNode; |
| [1339](#L1339) | } |
| [1340](#L1340) | parent = rootScrollingElement; |
| [1341](#L1341) | scrollableElements.push([parent, parent.scrollTop, parent.scrollLeft]); |
| [1342](#L1342) |  |
| [1343](#L1343) | return scrollableElements; |
| [1344](#L1344) | }; |
| [1345](#L1345) |  |
| [1346](#L1346) | var restoreScrollPosition = function(scrollableElements) { |
| [1347](#L1347) | for (var i = 0; i < scrollableElements.length; i++) { |
| [1348](#L1348) | scrollableElements[i][0].scrollTop = scrollableElements[i][1]; |
| [1349](#L1349) | scrollableElements[i][0].scrollLeft = scrollableElements[i][2]; |
| [1350](#L1350) | } |
| [1351](#L1351) | scrollableElements = []; |
| [1352](#L1352) | }; |
| [1353](#L1353) |  |
| [1354](#L1354) | var patchedFocus = function(args) { |
| [1355](#L1355) | if (args && args.preventScroll) { |
| [1356](#L1356) | var evScrollableElements = calcScrollableElements(this); |
| [1357](#L1357) | if (typeof setTimeout === 'function') { |
| [1358](#L1358) | var thisElem = this; |
| [1359](#L1359) | setTimeout(function () { |
| [1360](#L1360) | thisElem.nativeFocus(); |
| [1361](#L1361) | restoreScrollPosition(evScrollableElements); |
| [1362](#L1362) | }, 0); |
| [1363](#L1363) | } else { |
| [1364](#L1364) | this.nativeFocus(); |
| [1365](#L1365) | restoreScrollPosition(evScrollableElements); |
| [1366](#L1366) | } |
| [1367](#L1367) | } |
| [1368](#L1368) | else { |
| [1369](#L1369) | this.nativeFocus(); |
| [1370](#L1370) | } |
| [1371](#L1371) | }; |
| [1372](#L1372) |  |
| [1373](#L1373) | HTMLElement.prototype.focus = patchedFocus; |
| [1374](#L1374) | } |
| [1375](#L1375) | })(); |
| [1376](#L1376) |  |
| [1377](#L1377) |  |
| [1378](#L1378) | /\*\*\*/ }), |
| [1379](#L1379) |  |
| [1380](#L1380) | /\*\*\*/ 648: |
| [1381](#L1381) | /\*\*\*/ (function(module) { |
| [1382](#L1382) |  |
| [1383](#L1383) | "use strict"; |
| [1384](#L1384) |  |
| [1385](#L1385) |  |
| [1386](#L1386) | /\* eslint no-invalid-this: 1 \*/ |
| [1387](#L1387) |  |
| [1388](#L1388) | var ERROR\_MESSAGE = 'Function.prototype.bind called on incompatible '; |
| [1389](#L1389) | var slice = Array.prototype.slice; |
| [1390](#L1390) | var toStr = Object.prototype.toString; |
| [1391](#L1391) | var funcType = '[object Function]'; |
| [1392](#L1392) |  |
| [1393](#L1393) | module.exports = function bind(that) { |
| [1394](#L1394) | var target = this; |
| [1395](#L1395) | if (typeof target !== 'function' || toStr.call(target) !== funcType) { |
| [1396](#L1396) | throw new TypeError(ERROR\_MESSAGE + target); |
| [1397](#L1397) | } |
| [1398](#L1398) | var args = slice.call(arguments, 1); |
| [1399](#L1399) |  |
| [1400](#L1400) | var bound; |
| [1401](#L1401) | var binder = function () { |
| [1402](#L1402) | if (this instanceof bound) { |
| [1403](#L1403) | var result = target.apply( |
| [1404](#L1404) | this, |
| [1405](#L1405) | args.concat(slice.call(arguments)) |
| [1406](#L1406) | ); |
| [1407](#L1407) | if (Object(result) === result) { |
| [1408](#L1408) | return result; |
| [1409](#L1409) | } |
| [1410](#L1410) | return this; |
| [1411](#L1411) | } else { |
| [1412](#L1412) | return target.apply( |
| [1413](#L1413) | that, |
| [1414](#L1414) | args.concat(slice.call(arguments)) |
| [1415](#L1415) | ); |
| [1416](#L1416) | } |
| [1417](#L1417) | }; |
| [1418](#L1418) |  |
| [1419](#L1419) | var boundLength = Math.max(0, target.length - args.length); |
| [1420](#L1420) | var boundArgs = []; |
| [1421](#L1421) | for (var i = 0; i < boundLength; i++) { |
| [1422](#L1422) | boundArgs.push('$' + i); |
| [1423](#L1423) | } |
| [1424](#L1424) |  |
| [1425](#L1425) | bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder); |
| [1426](#L1426) |  |
| [1427](#L1427) | if (target.prototype) { |
| [1428](#L1428) | var Empty = function Empty() {}; |
| [1429](#L1429) | Empty.prototype = target.prototype; |
| [1430](#L1430) | bound.prototype = new Empty(); |
| [1431](#L1431) | Empty.prototype = null; |
| [1432](#L1432) | } |
| [1433](#L1433) |  |
| [1434](#L1434) | return bound; |
| [1435](#L1435) | }; |
| [1436](#L1436) |  |
| [1437](#L1437) |  |
| [1438](#L1438) | /\*\*\*/ }), |
| [1439](#L1439) |  |
| [1440](#L1440) | /\*\*\*/ 612: |
| [1441](#L1441) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [1442](#L1442) |  |
| [1443](#L1443) | "use strict"; |
| [1444](#L1444) |  |
| [1445](#L1445) |  |
| [1446](#L1446) | var implementation = \_\_webpack\_require\_\_(648); |
| [1447](#L1447) |  |
| [1448](#L1448) | module.exports = Function.prototype.bind || implementation; |
| [1449](#L1449) |  |
| [1450](#L1450) |  |
| [1451](#L1451) | /\*\*\*/ }), |
| [1452](#L1452) |  |
| [1453](#L1453) | /\*\*\*/ 210: |
| [1454](#L1454) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [1455](#L1455) |  |
| [1456](#L1456) | "use strict"; |
| [1457](#L1457) |  |
| [1458](#L1458) |  |
| [1459](#L1459) | var undefined; |
| [1460](#L1460) |  |
| [1461](#L1461) | var $SyntaxError = SyntaxError; |
| [1462](#L1462) | var $Function = Function; |
| [1463](#L1463) | var $TypeError = TypeError; |
| [1464](#L1464) |  |
| [1465](#L1465) | // eslint-disable-next-line consistent-return |
| [1466](#L1466) | var getEvalledConstructor = function (expressionSyntax) { |
| [1467](#L1467) | try { |
| [1468](#L1468) | return $Function('"use strict"; return (' + expressionSyntax + ').constructor;')(); |
| [1469](#L1469) | } catch (e) {} |
| [1470](#L1470) | }; |
| [1471](#L1471) |  |
| [1472](#L1472) | var $gOPD = Object.getOwnPropertyDescriptor; |
| [1473](#L1473) | if ($gOPD) { |
| [1474](#L1474) | try { |
| [1475](#L1475) | $gOPD({}, ''); |
| [1476](#L1476) | } catch (e) { |
| [1477](#L1477) | $gOPD = null; // this is IE 8, which has a broken gOPD |
| [1478](#L1478) | } |
| [1479](#L1479) | } |
| [1480](#L1480) |  |
| [1481](#L1481) | var throwTypeError = function () { |
| [1482](#L1482) | throw new $TypeError(); |
| [1483](#L1483) | }; |
| [1484](#L1484) | var ThrowTypeError = $gOPD |
| [1485](#L1485) | ? (function () { |
| [1486](#L1486) | try { |
| [1487](#L1487) | // eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties |
| [1488](#L1488) | arguments.callee; // IE 8 does not throw here |
| [1489](#L1489) | return throwTypeError; |
| [1490](#L1490) | } catch (calleeThrows) { |
| [1491](#L1491) | try { |
| [1492](#L1492) | // IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '') |
| [1493](#L1493) | return $gOPD(arguments, 'callee').get; |
| [1494](#L1494) | } catch (gOPDthrows) { |
| [1495](#L1495) | return throwTypeError; |
| [1496](#L1496) | } |
| [1497](#L1497) | } |
| [1498](#L1498) | }()) |
| [1499](#L1499) | : throwTypeError; |
| [1500](#L1500) |  |
| [1501](#L1501) | var hasSymbols = \_\_webpack\_require\_\_(405)(); |
| [1502](#L1502) | var hasProto = \_\_webpack\_require\_\_(185)(); |
| [1503](#L1503) |  |
| [1504](#L1504) | var getProto = Object.getPrototypeOf || ( |
| [1505](#L1505) | hasProto |
| [1506](#L1506) | ? function (x) { return x.\_\_proto\_\_; } // eslint-disable-line no-proto |
| [1507](#L1507) | : null |
| [1508](#L1508) | ); |
| [1509](#L1509) |  |
| [1510](#L1510) | var needsEval = {}; |
| [1511](#L1511) |  |
| [1512](#L1512) | var TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array); |
| [1513](#L1513) |  |
| [1514](#L1514) | var INTRINSICS = { |
| [1515](#L1515) | '%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError, |
| [1516](#L1516) | '%Array%': Array, |
| [1517](#L1517) | '%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer, |
| [1518](#L1518) | '%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined, |
| [1519](#L1519) | '%AsyncFromSyncIteratorPrototype%': undefined, |
| [1520](#L1520) | '%AsyncFunction%': needsEval, |
| [1521](#L1521) | '%AsyncGenerator%': needsEval, |
| [1522](#L1522) | '%AsyncGeneratorFunction%': needsEval, |
| [1523](#L1523) | '%AsyncIteratorPrototype%': needsEval, |
| [1524](#L1524) | '%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics, |
| [1525](#L1525) | '%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt, |
| [1526](#L1526) | '%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array, |
| [1527](#L1527) | '%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array, |
| [1528](#L1528) | '%Boolean%': Boolean, |
| [1529](#L1529) | '%DataView%': typeof DataView === 'undefined' ? undefined : DataView, |
| [1530](#L1530) | '%Date%': Date, |
| [1531](#L1531) | '%decodeURI%': decodeURI, |
| [1532](#L1532) | '%decodeURIComponent%': decodeURIComponent, |
| [1533](#L1533) | '%encodeURI%': encodeURI, |
| [1534](#L1534) | '%encodeURIComponent%': encodeURIComponent, |
| [1535](#L1535) | '%Error%': Error, |
| [1536](#L1536) | '%eval%': eval, // eslint-disable-line no-eval |
| [1537](#L1537) | '%EvalError%': EvalError, |
| [1538](#L1538) | '%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array, |
| [1539](#L1539) | '%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array, |
| [1540](#L1540) | '%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry, |
| [1541](#L1541) | '%Function%': $Function, |
| [1542](#L1542) | '%GeneratorFunction%': needsEval, |
| [1543](#L1543) | '%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array, |
| [1544](#L1544) | '%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array, |
| [1545](#L1545) | '%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array, |
| [1546](#L1546) | '%isFinite%': isFinite, |
| [1547](#L1547) | '%isNaN%': isNaN, |
| [1548](#L1548) | '%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined, |
| [1549](#L1549) | '%JSON%': typeof JSON === 'object' ? JSON : undefined, |
| [1550](#L1550) | '%Map%': typeof Map === 'undefined' ? undefined : Map, |
| [1551](#L1551) | '%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()), |
| [1552](#L1552) | '%Math%': Math, |
| [1553](#L1553) | '%Number%': Number, |
| [1554](#L1554) | '%Object%': Object, |
| [1555](#L1555) | '%parseFloat%': parseFloat, |
| [1556](#L1556) | '%parseInt%': parseInt, |
| [1557](#L1557) | '%Promise%': typeof Promise === 'undefined' ? undefined : Promise, |
| [1558](#L1558) | '%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy, |
| [1559](#L1559) | '%RangeError%': RangeError, |
| [1560](#L1560) | '%ReferenceError%': ReferenceError, |
| [1561](#L1561) | '%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect, |
| [1562](#L1562) | '%RegExp%': RegExp, |
| [1563](#L1563) | '%Set%': typeof Set === 'undefined' ? undefined : Set, |
| [1564](#L1564) | '%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()), |
| [1565](#L1565) | '%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer, |
| [1566](#L1566) | '%String%': String, |
| [1567](#L1567) | '%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined, |
| [1568](#L1568) | '%Symbol%': hasSymbols ? Symbol : undefined, |
| [1569](#L1569) | '%SyntaxError%': $SyntaxError, |
| [1570](#L1570) | '%ThrowTypeError%': ThrowTypeError, |
| [1571](#L1571) | '%TypedArray%': TypedArray, |
| [1572](#L1572) | '%TypeError%': $TypeError, |
| [1573](#L1573) | '%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array, |
| [1574](#L1574) | '%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray, |
| [1575](#L1575) | '%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array, |
| [1576](#L1576) | '%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array, |
| [1577](#L1577) | '%URIError%': URIError, |
| [1578](#L1578) | '%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap, |
| [1579](#L1579) | '%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef, |
| [1580](#L1580) | '%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet |
| [1581](#L1581) | }; |
| [1582](#L1582) |  |
| [1583](#L1583) | if (getProto) { |
| [1584](#L1584) | try { |
| [1585](#L1585) | null.error; // eslint-disable-line no-unused-expressions |
| [1586](#L1586) | } catch (e) { |
| [1587](#L1587) | // https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229 |
| [1588](#L1588) | var errorProto = getProto(getProto(e)); |
| [1589](#L1589) | INTRINSICS['%Error.prototype%'] = errorProto; |
| [1590](#L1590) | } |
| [1591](#L1591) | } |
| [1592](#L1592) |  |
| [1593](#L1593) | var doEval = function doEval(name) { |
| [1594](#L1594) | var value; |
| [1595](#L1595) | if (name === '%AsyncFunction%') { |
| [1596](#L1596) | value = getEvalledConstructor('async function () {}'); |
| [1597](#L1597) | } else if (name === '%GeneratorFunction%') { |
| [1598](#L1598) | value = getEvalledConstructor('function\* () {}'); |
| [1599](#L1599) | } else if (name === '%AsyncGeneratorFunction%') { |
| [1600](#L1600) | value = getEvalledConstructor('async function\* () {}'); |
| [1601](#L1601) | } else if (name === '%AsyncGenerator%') { |
| [1602](#L1602) | var fn = doEval('%AsyncGeneratorFunction%'); |
| [1603](#L1603) | if (fn) { |
| [1604](#L1604) | value = fn.prototype; |
| [1605](#L1605) | } |
| [1606](#L1606) | } else if (name === '%AsyncIteratorPrototype%') { |
| [1607](#L1607) | var gen = doEval('%AsyncGenerator%'); |
| [1608](#L1608) | if (gen && getProto) { |
| [1609](#L1609) | value = getProto(gen.prototype); |
| [1610](#L1610) | } |
| [1611](#L1611) | } |
| [1612](#L1612) |  |
| [1613](#L1613) | INTRINSICS[name] = value; |
| [1614](#L1614) |  |
| [1615](#L1615) | return value; |
| [1616](#L1616) | }; |
| [1617](#L1617) |  |
| [1618](#L1618) | var LEGACY\_ALIASES = { |
| [1619](#L1619) | '%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'], |
| [1620](#L1620) | '%ArrayPrototype%': ['Array', 'prototype'], |
| [1621](#L1621) | '%ArrayProto\_entries%': ['Array', 'prototype', 'entries'], |
| [1622](#L1622) | '%ArrayProto\_forEach%': ['Array', 'prototype', 'forEach'], |
| [1623](#L1623) | '%ArrayProto\_keys%': ['Array', 'prototype', 'keys'], |
| [1624](#L1624) | '%ArrayProto\_values%': ['Array', 'prototype', 'values'], |
| [1625](#L1625) | '%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'], |
| [1626](#L1626) | '%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'], |
| [1627](#L1627) | '%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'], |
| [1628](#L1628) | '%BooleanPrototype%': ['Boolean', 'prototype'], |
| [1629](#L1629) | '%DataViewPrototype%': ['DataView', 'prototype'], |
| [1630](#L1630) | '%DatePrototype%': ['Date', 'prototype'], |
| [1631](#L1631) | '%ErrorPrototype%': ['Error', 'prototype'], |
| [1632](#L1632) | '%EvalErrorPrototype%': ['EvalError', 'prototype'], |
| [1633](#L1633) | '%Float32ArrayPrototype%': ['Float32Array', 'prototype'], |
| [1634](#L1634) | '%Float64ArrayPrototype%': ['Float64Array', 'prototype'], |
| [1635](#L1635) | '%FunctionPrototype%': ['Function', 'prototype'], |
| [1636](#L1636) | '%Generator%': ['GeneratorFunction', 'prototype'], |
| [1637](#L1637) | '%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'], |
| [1638](#L1638) | '%Int8ArrayPrototype%': ['Int8Array', 'prototype'], |
| [1639](#L1639) | '%Int16ArrayPrototype%': ['Int16Array', 'prototype'], |
| [1640](#L1640) | '%Int32ArrayPrototype%': ['Int32Array', 'prototype'], |
| [1641](#L1641) | '%JSONParse%': ['JSON', 'parse'], |
| [1642](#L1642) | '%JSONStringify%': ['JSON', 'stringify'], |
| [1643](#L1643) | '%MapPrototype%': ['Map', 'prototype'], |
| [1644](#L1644) | '%NumberPrototype%': ['Number', 'prototype'], |
| [1645](#L1645) | '%ObjectPrototype%': ['Object', 'prototype'], |
| [1646](#L1646) | '%ObjProto\_toString%': ['Object', 'prototype', 'toString'], |
| [1647](#L1647) | '%ObjProto\_valueOf%': ['Object', 'prototype', 'valueOf'], |
| [1648](#L1648) | '%PromisePrototype%': ['Promise', 'prototype'], |
| [1649](#L1649) | '%PromiseProto\_then%': ['Promise', 'prototype', 'then'], |
| [1650](#L1650) | '%Promise\_all%': ['Promise', 'all'], |
| [1651](#L1651) | '%Promise\_reject%': ['Promise', 'reject'], |
| [1652](#L1652) | '%Promise\_resolve%': ['Promise', 'resolve'], |
| [1653](#L1653) | '%RangeErrorPrototype%': ['RangeError', 'prototype'], |
| [1654](#L1654) | '%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'], |
| [1655](#L1655) | '%RegExpPrototype%': ['RegExp', 'prototype'], |
| [1656](#L1656) | '%SetPrototype%': ['Set', 'prototype'], |
| [1657](#L1657) | '%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'], |
| [1658](#L1658) | '%StringPrototype%': ['String', 'prototype'], |
| [1659](#L1659) | '%SymbolPrototype%': ['Symbol', 'prototype'], |
| [1660](#L1660) | '%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'], |
| [1661](#L1661) | '%TypedArrayPrototype%': ['TypedArray', 'prototype'], |
| [1662](#L1662) | '%TypeErrorPrototype%': ['TypeError', 'prototype'], |
| [1663](#L1663) | '%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'], |
| [1664](#L1664) | '%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'], |
| [1665](#L1665) | '%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'], |
| [1666](#L1666) | '%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'], |
| [1667](#L1667) | '%URIErrorPrototype%': ['URIError', 'prototype'], |
| [1668](#L1668) | '%WeakMapPrototype%': ['WeakMap', 'prototype'], |
| [1669](#L1669) | '%WeakSetPrototype%': ['WeakSet', 'prototype'] |
| [1670](#L1670) | }; |
| [1671](#L1671) |  |
| [1672](#L1672) | var bind = \_\_webpack\_require\_\_(612); |
| [1673](#L1673) | var hasOwn = \_\_webpack\_require\_\_(642); |
| [1674](#L1674) | var $concat = bind.call(Function.call, Array.prototype.concat); |
| [1675](#L1675) | var $spliceApply = bind.call(Function.apply, Array.prototype.splice); |
| [1676](#L1676) | var $replace = bind.call(Function.call, String.prototype.replace); |
| [1677](#L1677) | var $strSlice = bind.call(Function.call, String.prototype.slice); |
| [1678](#L1678) | var $exec = bind.call(Function.call, RegExp.prototype.exec); |
| [1679](#L1679) |  |
| [1680](#L1680) | /\* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 \*/ |
| [1681](#L1681) | var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)\*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g; |
| [1682](#L1682) | var reEscapeChar = /\\(\\)?/g; /\*\* Used to match backslashes in property paths. \*/ |
| [1683](#L1683) | var stringToPath = function stringToPath(string) { |
| [1684](#L1684) | var first = $strSlice(string, 0, 1); |
| [1685](#L1685) | var last = $strSlice(string, -1); |
| [1686](#L1686) | if (first === '%' && last !== '%') { |
| [1687](#L1687) | throw new $SyntaxError('invalid intrinsic syntax, expected closing `%`'); |
| [1688](#L1688) | } else if (last === '%' && first !== '%') { |
| [1689](#L1689) | throw new $SyntaxError('invalid intrinsic syntax, expected opening `%`'); |
| [1690](#L1690) | } |
| [1691](#L1691) | var result = []; |
| [1692](#L1692) | $replace(string, rePropName, function (match, number, quote, subString) { |
| [1693](#L1693) | result[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match; |
| [1694](#L1694) | }); |
| [1695](#L1695) | return result; |
| [1696](#L1696) | }; |
| [1697](#L1697) | /\* end adaptation \*/ |
| [1698](#L1698) |  |
| [1699](#L1699) | var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) { |
| [1700](#L1700) | var intrinsicName = name; |
| [1701](#L1701) | var alias; |
| [1702](#L1702) | if (hasOwn(LEGACY\_ALIASES, intrinsicName)) { |
| [1703](#L1703) | alias = LEGACY\_ALIASES[intrinsicName]; |
| [1704](#L1704) | intrinsicName = '%' + alias[0] + '%'; |
| [1705](#L1705) | } |
| [1706](#L1706) |  |
| [1707](#L1707) | if (hasOwn(INTRINSICS, intrinsicName)) { |
| [1708](#L1708) | var value = INTRINSICS[intrinsicName]; |
| [1709](#L1709) | if (value === needsEval) { |
| [1710](#L1710) | value = doEval(intrinsicName); |
| [1711](#L1711) | } |
| [1712](#L1712) | if (typeof value === 'undefined' && !allowMissing) { |
| [1713](#L1713) | throw new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!'); |
| [1714](#L1714) | } |
| [1715](#L1715) |  |
| [1716](#L1716) | return { |
| [1717](#L1717) | alias: alias, |
| [1718](#L1718) | name: intrinsicName, |
| [1719](#L1719) | value: value |
| [1720](#L1720) | }; |
| [1721](#L1721) | } |
| [1722](#L1722) |  |
| [1723](#L1723) | throw new $SyntaxError('intrinsic ' + name + ' does not exist!'); |
| [1724](#L1724) | }; |
| [1725](#L1725) |  |
| [1726](#L1726) | module.exports = function GetIntrinsic(name, allowMissing) { |
| [1727](#L1727) | if (typeof name !== 'string' || name.length === 0) { |
| [1728](#L1728) | throw new $TypeError('intrinsic name must be a non-empty string'); |
| [1729](#L1729) | } |
| [1730](#L1730) | if (arguments.length > 1 && typeof allowMissing !== 'boolean') { |
| [1731](#L1731) | throw new $TypeError('"allowMissing" argument must be a boolean'); |
| [1732](#L1732) | } |
| [1733](#L1733) |  |
| [1734](#L1734) | if ($exec(/^%?[^%]\*%?$/, name) === null) { |
| [1735](#L1735) | throw new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name'); |
| [1736](#L1736) | } |
| [1737](#L1737) | var parts = stringToPath(name); |
| [1738](#L1738) | var intrinsicBaseName = parts.length > 0 ? parts[0] : ''; |
| [1739](#L1739) |  |
| [1740](#L1740) | var intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing); |
| [1741](#L1741) | var intrinsicRealName = intrinsic.name; |
| [1742](#L1742) | var value = intrinsic.value; |
| [1743](#L1743) | var skipFurtherCaching = false; |
| [1744](#L1744) |  |
| [1745](#L1745) | var alias = intrinsic.alias; |
| [1746](#L1746) | if (alias) { |
| [1747](#L1747) | intrinsicBaseName = alias[0]; |
| [1748](#L1748) | $spliceApply(parts, $concat([0, 1], alias)); |
| [1749](#L1749) | } |
| [1750](#L1750) |  |
| [1751](#L1751) | for (var i = 1, isOwn = true; i < parts.length; i += 1) { |
| [1752](#L1752) | var part = parts[i]; |
| [1753](#L1753) | var first = $strSlice(part, 0, 1); |
| [1754](#L1754) | var last = $strSlice(part, -1); |
| [1755](#L1755) | if ( |
| [1756](#L1756) | ( |
| [1757](#L1757) | (first === '"' || first === "'" || first === '`') |
| [1758](#L1758) | || (last === '"' || last === "'" || last === '`') |
| [1759](#L1759) | ) |
| [1760](#L1760) | && first !== last |
| [1761](#L1761) | ) { |
| [1762](#L1762) | throw new $SyntaxError('property names with quotes must have matching quotes'); |
| [1763](#L1763) | } |
| [1764](#L1764) | if (part === 'constructor' || !isOwn) { |
| [1765](#L1765) | skipFurtherCaching = true; |
| [1766](#L1766) | } |
| [1767](#L1767) |  |
| [1768](#L1768) | intrinsicBaseName += '.' + part; |
| [1769](#L1769) | intrinsicRealName = '%' + intrinsicBaseName + '%'; |
| [1770](#L1770) |  |
| [1771](#L1771) | if (hasOwn(INTRINSICS, intrinsicRealName)) { |
| [1772](#L1772) | value = INTRINSICS[intrinsicRealName]; |
| [1773](#L1773) | } else if (value != null) { |
| [1774](#L1774) | if (!(part in value)) { |
| [1775](#L1775) | if (!allowMissing) { |
| [1776](#L1776) | throw new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.'); |
| [1777](#L1777) | } |
| [1778](#L1778) | return void undefined; |
| [1779](#L1779) | } |
| [1780](#L1780) | if ($gOPD && (i + 1) >= parts.length) { |
| [1781](#L1781) | var desc = $gOPD(value, part); |
| [1782](#L1782) | isOwn = !!desc; |
| [1783](#L1783) |  |
| [1784](#L1784) | // By convention, when a data property is converted to an accessor |
| [1785](#L1785) | // property to emulate a data property that does not suffer from |
| [1786](#L1786) | // the override mistake, that accessor's getter is marked with |
| [1787](#L1787) | // an `originalValue` property. Here, when we detect this, we |
| [1788](#L1788) | // uphold the illusion by pretending to see that original data |
| [1789](#L1789) | // property, i.e., returning the value rather than the getter |
| [1790](#L1790) | // itself. |
| [1791](#L1791) | if (isOwn && 'get' in desc && !('originalValue' in desc.get)) { |
| [1792](#L1792) | value = desc.get; |
| [1793](#L1793) | } else { |
| [1794](#L1794) | value = value[part]; |
| [1795](#L1795) | } |
| [1796](#L1796) | } else { |
| [1797](#L1797) | isOwn = hasOwn(value, part); |
| [1798](#L1798) | value = value[part]; |
| [1799](#L1799) | } |
| [1800](#L1800) |  |
| [1801](#L1801) | if (isOwn && !skipFurtherCaching) { |
| [1802](#L1802) | INTRINSICS[intrinsicRealName] = value; |
| [1803](#L1803) | } |
| [1804](#L1804) | } |
| [1805](#L1805) | } |
| [1806](#L1806) | return value; |
| [1807](#L1807) | }; |
| [1808](#L1808) |  |
| [1809](#L1809) |  |
| [1810](#L1810) | /\*\*\*/ }), |
| [1811](#L1811) |  |
| [1812](#L1812) | /\*\*\*/ 185: |
| [1813](#L1813) | /\*\*\*/ (function(module) { |
| [1814](#L1814) |  |
| [1815](#L1815) | "use strict"; |
| [1816](#L1816) |  |
| [1817](#L1817) |  |
| [1818](#L1818) | var test = { |
| [1819](#L1819) | foo: {} |
| [1820](#L1820) | }; |
| [1821](#L1821) |  |
| [1822](#L1822) | var $Object = Object; |
| [1823](#L1823) |  |
| [1824](#L1824) | module.exports = function hasProto() { |
| [1825](#L1825) | return { \_\_proto\_\_: test }.foo === test.foo && !({ \_\_proto\_\_: null } instanceof $Object); |
| [1826](#L1826) | }; |
| [1827](#L1827) |  |
| [1828](#L1828) |  |
| [1829](#L1829) | /\*\*\*/ }), |
| [1830](#L1830) |  |
| [1831](#L1831) | /\*\*\*/ 405: |
| [1832](#L1832) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [1833](#L1833) |  |
| [1834](#L1834) | "use strict"; |
| [1835](#L1835) |  |
| [1836](#L1836) |  |
| [1837](#L1837) | var origSymbol = typeof Symbol !== 'undefined' && Symbol; |
| [1838](#L1838) | var hasSymbolSham = \_\_webpack\_require\_\_(419); |
| [1839](#L1839) |  |
| [1840](#L1840) | module.exports = function hasNativeSymbols() { |
| [1841](#L1841) | if (typeof origSymbol !== 'function') { return false; } |
| [1842](#L1842) | if (typeof Symbol !== 'function') { return false; } |
| [1843](#L1843) | if (typeof origSymbol('foo') !== 'symbol') { return false; } |
| [1844](#L1844) | if (typeof Symbol('bar') !== 'symbol') { return false; } |
| [1845](#L1845) |  |
| [1846](#L1846) | return hasSymbolSham(); |
| [1847](#L1847) | }; |
| [1848](#L1848) |  |
| [1849](#L1849) |  |
| [1850](#L1850) | /\*\*\*/ }), |
| [1851](#L1851) |  |
| [1852](#L1852) | /\*\*\*/ 419: |
| [1853](#L1853) | /\*\*\*/ (function(module) { |
| [1854](#L1854) |  |
| [1855](#L1855) | "use strict"; |
| [1856](#L1856) |  |
| [1857](#L1857) |  |
| [1858](#L1858) | /\* eslint complexity: [2, 18], max-statements: [2, 33] \*/ |
| [1859](#L1859) | module.exports = function hasSymbols() { |
| [1860](#L1860) | if (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; } |
| [1861](#L1861) | if (typeof Symbol.iterator === 'symbol') { return true; } |
| [1862](#L1862) |  |
| [1863](#L1863) | var obj = {}; |
| [1864](#L1864) | var sym = Symbol('test'); |
| [1865](#L1865) | var symObj = Object(sym); |
| [1866](#L1866) | if (typeof sym === 'string') { return false; } |
| [1867](#L1867) |  |
| [1868](#L1868) | if (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; } |
| [1869](#L1869) | if (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; } |
| [1870](#L1870) |  |
| [1871](#L1871) | // temp disabled per https://github.com/ljharb/object.assign/issues/17 |
| [1872](#L1872) | // if (sym instanceof Symbol) { return false; } |
| [1873](#L1873) | // temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4 |
| [1874](#L1874) | // if (!(symObj instanceof Symbol)) { return false; } |
| [1875](#L1875) |  |
| [1876](#L1876) | // if (typeof Symbol.prototype.toString !== 'function') { return false; } |
| [1877](#L1877) | // if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; } |
| [1878](#L1878) |  |
| [1879](#L1879) | var symVal = 42; |
| [1880](#L1880) | obj[sym] = symVal; |
| [1881](#L1881) | for (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop |
| [1882](#L1882) | if (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; } |
| [1883](#L1883) |  |
| [1884](#L1884) | if (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; } |
| [1885](#L1885) |  |
| [1886](#L1886) | var syms = Object.getOwnPropertySymbols(obj); |
| [1887](#L1887) | if (syms.length !== 1 || syms[0] !== sym) { return false; } |
| [1888](#L1888) |  |
| [1889](#L1889) | if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; } |
| [1890](#L1890) |  |
| [1891](#L1891) | if (typeof Object.getOwnPropertyDescriptor === 'function') { |
| [1892](#L1892) | var descriptor = Object.getOwnPropertyDescriptor(obj, sym); |
| [1893](#L1893) | if (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; } |
| [1894](#L1894) | } |
| [1895](#L1895) |  |
| [1896](#L1896) | return true; |
| [1897](#L1897) | }; |
| [1898](#L1898) |  |
| [1899](#L1899) |  |
| [1900](#L1900) | /\*\*\*/ }), |
| [1901](#L1901) |  |
| [1902](#L1902) | /\*\*\*/ 642: |
| [1903](#L1903) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [1904](#L1904) |  |
| [1905](#L1905) | "use strict"; |
| [1906](#L1906) |  |
| [1907](#L1907) |  |
| [1908](#L1908) | var bind = \_\_webpack\_require\_\_(612); |
| [1909](#L1909) |  |
| [1910](#L1910) | module.exports = bind.call(Function.call, Object.prototype.hasOwnProperty); |
| [1911](#L1911) |  |
| [1912](#L1912) |  |
| [1913](#L1913) | /\*\*\*/ }), |
| [1914](#L1914) |  |
| [1915](#L1915) | /\*\*\*/ 564: |
| [1916](#L1916) | /\*\*\*/ (function(module, exports, \_\_webpack\_require\_\_) { |
| [1917](#L1917) |  |
| [1918](#L1918) | var \_\_WEBPACK\_AMD\_DEFINE\_ARRAY\_\_, \_\_WEBPACK\_AMD\_DEFINE\_RESULT\_\_;/\*! |
| [1919](#L1919) | \* imagesLoaded v4.1.4 |
| [1920](#L1920) | \* JavaScript is all like "You images are done yet or what?" |
| [1921](#L1921) | \* MIT License |
| [1922](#L1922) | \*/ |
| [1923](#L1923) |  |
| [1924](#L1924) | ( function( window, factory ) { 'use strict'; |
| [1925](#L1925) | // universal module definition |
| [1926](#L1926) |  |
| [1927](#L1927) | /\*global define: false, module: false, require: false \*/ |
| [1928](#L1928) |  |
| [1929](#L1929) | if ( true ) { |
| [1930](#L1930) | // AMD |
| [1931](#L1931) | !(\_\_WEBPACK\_AMD\_DEFINE\_ARRAY\_\_ = [ |
| [1932](#L1932) | \_\_webpack\_require\_\_(158) |
| [1933](#L1933) | ], \_\_WEBPACK\_AMD\_DEFINE\_RESULT\_\_ = (function( EvEmitter ) { |
| [1934](#L1934) | return factory( window, EvEmitter ); |
| [1935](#L1935) | }).apply(exports, \_\_WEBPACK\_AMD\_DEFINE\_ARRAY\_\_), |
| [1936](#L1936) | \_\_WEBPACK\_AMD\_DEFINE\_RESULT\_\_ !== undefined && (module.exports = \_\_WEBPACK\_AMD\_DEFINE\_RESULT\_\_)); |
| [1937](#L1937) | } else {} |
| [1938](#L1938) |  |
| [1939](#L1939) | })( typeof window !== 'undefined' ? window : this, |
| [1940](#L1940) |  |
| [1941](#L1941) | // --------------------------  factory -------------------------- // |
| [1942](#L1942) |  |
| [1943](#L1943) | function factory( window, EvEmitter ) { |
| [1944](#L1944) |  |
| [1945](#L1945) | 'use strict'; |
| [1946](#L1946) |  |
| [1947](#L1947) | var $ = window.jQuery; |
| [1948](#L1948) | var console = window.console; |
| [1949](#L1949) |  |
| [1950](#L1950) | // -------------------------- helpers -------------------------- // |
| [1951](#L1951) |  |
| [1952](#L1952) | // extend objects |
| [1953](#L1953) | function extend( a, b ) { |
| [1954](#L1954) | for ( var prop in b ) { |
| [1955](#L1955) | a[ prop ] = b[ prop ]; |
| [1956](#L1956) | } |
| [1957](#L1957) | return a; |
| [1958](#L1958) | } |
| [1959](#L1959) |  |
| [1960](#L1960) | var arraySlice = Array.prototype.slice; |
| [1961](#L1961) |  |
| [1962](#L1962) | // turn element or nodeList into an array |
| [1963](#L1963) | function makeArray( obj ) { |
| [1964](#L1964) | if ( Array.isArray( obj ) ) { |
| [1965](#L1965) | // use object if already an array |
| [1966](#L1966) | return obj; |
| [1967](#L1967) | } |
| [1968](#L1968) |  |
| [1969](#L1969) | var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number'; |
| [1970](#L1970) | if ( isArrayLike ) { |
| [1971](#L1971) | // convert nodeList to array |
| [1972](#L1972) | return arraySlice.call( obj ); |
| [1973](#L1973) | } |
| [1974](#L1974) |  |
| [1975](#L1975) | // array of single index |
| [1976](#L1976) | return [ obj ]; |
| [1977](#L1977) | } |
| [1978](#L1978) |  |
| [1979](#L1979) | // -------------------------- imagesLoaded -------------------------- // |
| [1980](#L1980) |  |
| [1981](#L1981) | /\*\* |
| [1982](#L1982) | \* @param {Array, Element, NodeList, String} elem |
| [1983](#L1983) | \* @param {Object or Function} options - if function, use as callback |
| [1984](#L1984) | \* @param {Function} onAlways - callback function |
| [1985](#L1985) | \*/ |
| [1986](#L1986) | function ImagesLoaded( elem, options, onAlways ) { |
| [1987](#L1987) | // coerce ImagesLoaded() without new, to be new ImagesLoaded() |
| [1988](#L1988) | if ( !( this instanceof ImagesLoaded ) ) { |
| [1989](#L1989) | return new ImagesLoaded( elem, options, onAlways ); |
| [1990](#L1990) | } |
| [1991](#L1991) | // use elem as selector string |
| [1992](#L1992) | var queryElem = elem; |
| [1993](#L1993) | if ( typeof elem == 'string' ) { |
| [1994](#L1994) | queryElem = document.querySelectorAll( elem ); |
| [1995](#L1995) | } |
| [1996](#L1996) | // bail if bad element |
| [1997](#L1997) | if ( !queryElem ) { |
| [1998](#L1998) | console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) ); |
| [1999](#L1999) | return; |
| [2000](#L2000) | } |
| [2001](#L2001) |  |
| [2002](#L2002) | this.elements = makeArray( queryElem ); |
| [2003](#L2003) | this.options = extend( {}, this.options ); |
| [2004](#L2004) | // shift arguments if no options set |
| [2005](#L2005) | if ( typeof options == 'function' ) { |
| [2006](#L2006) | onAlways = options; |
| [2007](#L2007) | } else { |
| [2008](#L2008) | extend( this.options, options ); |
| [2009](#L2009) | } |
| [2010](#L2010) |  |
| [2011](#L2011) | if ( onAlways ) { |
| [2012](#L2012) | this.on( 'always', onAlways ); |
| [2013](#L2013) | } |
| [2014](#L2014) |  |
| [2015](#L2015) | this.getImages(); |
| [2016](#L2016) |  |
| [2017](#L2017) | if ( $ ) { |
| [2018](#L2018) | // add jQuery Deferred object |
| [2019](#L2019) | this.jqDeferred = new $.Deferred(); |
| [2020](#L2020) | } |
| [2021](#L2021) |  |
| [2022](#L2022) | // HACK check async to allow time to bind listeners |
| [2023](#L2023) | setTimeout( this.check.bind( this ) ); |
| [2024](#L2024) | } |
| [2025](#L2025) |  |
| [2026](#L2026) | ImagesLoaded.prototype = Object.create( EvEmitter.prototype ); |
| [2027](#L2027) |  |
| [2028](#L2028) | ImagesLoaded.prototype.options = {}; |
| [2029](#L2029) |  |
| [2030](#L2030) | ImagesLoaded.prototype.getImages = function() { |
| [2031](#L2031) | this.images = []; |
| [2032](#L2032) |  |
| [2033](#L2033) | // filter & find items if we have an item selector |
| [2034](#L2034) | this.elements.forEach( this.addElementImages, this ); |
| [2035](#L2035) | }; |
| [2036](#L2036) |  |
| [2037](#L2037) | /\*\* |
| [2038](#L2038) | \* @param {Node} element |
| [2039](#L2039) | \*/ |
| [2040](#L2040) | ImagesLoaded.prototype.addElementImages = function( elem ) { |
| [2041](#L2041) | // filter siblings |
| [2042](#L2042) | if ( elem.nodeName == 'IMG' ) { |
| [2043](#L2043) | this.addImage( elem ); |
| [2044](#L2044) | } |
| [2045](#L2045) | // get background image on element |
| [2046](#L2046) | if ( this.options.background === true ) { |
| [2047](#L2047) | this.addElementBackgroundImages( elem ); |
| [2048](#L2048) | } |
| [2049](#L2049) |  |
| [2050](#L2050) | // find children |
| [2051](#L2051) | // no non-element nodes, #143 |
| [2052](#L2052) | var nodeType = elem.nodeType; |
| [2053](#L2053) | if ( !nodeType || !elementNodeTypes[ nodeType ] ) { |
| [2054](#L2054) | return; |
| [2055](#L2055) | } |
| [2056](#L2056) | var childImgs = elem.querySelectorAll('img'); |
| [2057](#L2057) | // concat childElems to filterFound array |
| [2058](#L2058) | for ( var i=0; i < childImgs.length; i++ ) { |
| [2059](#L2059) | var img = childImgs[i]; |
| [2060](#L2060) | this.addImage( img ); |
| [2061](#L2061) | } |
| [2062](#L2062) |  |
| [2063](#L2063) | // get child background images |
| [2064](#L2064) | if ( typeof this.options.background == 'string' ) { |
| [2065](#L2065) | var children = elem.querySelectorAll( this.options.background ); |
| [2066](#L2066) | for ( i=0; i < children.length; i++ ) { |
| [2067](#L2067) | var child = children[i]; |
| [2068](#L2068) | this.addElementBackgroundImages( child ); |
| [2069](#L2069) | } |
| [2070](#L2070) | } |
| [2071](#L2071) | }; |
| [2072](#L2072) |  |
| [2073](#L2073) | var elementNodeTypes = { |
| [2074](#L2074) | 1: true, |
| [2075](#L2075) | 9: true, |
| [2076](#L2076) | 11: true |
| [2077](#L2077) | }; |
| [2078](#L2078) |  |
| [2079](#L2079) | ImagesLoaded.prototype.addElementBackgroundImages = function( elem ) { |
| [2080](#L2080) | var style = getComputedStyle( elem ); |
| [2081](#L2081) | if ( !style ) { |
| [2082](#L2082) | // Firefox returns null if in a hidden iframe https://bugzil.la/548397 |
| [2083](#L2083) | return; |
| [2084](#L2084) | } |
| [2085](#L2085) | // get url inside url("...") |
| [2086](#L2086) | var reURL = /url\((['"])?(.\*?)\1\)/gi; |
| [2087](#L2087) | var matches = reURL.exec( style.backgroundImage ); |
| [2088](#L2088) | while ( matches !== null ) { |
| [2089](#L2089) | var url = matches && matches[2]; |
| [2090](#L2090) | if ( url ) { |
| [2091](#L2091) | this.addBackground( url, elem ); |
| [2092](#L2092) | } |
| [2093](#L2093) | matches = reURL.exec( style.backgroundImage ); |
| [2094](#L2094) | } |
| [2095](#L2095) | }; |
| [2096](#L2096) |  |
| [2097](#L2097) | /\*\* |
| [2098](#L2098) | \* @param {Image} img |
| [2099](#L2099) | \*/ |
| [2100](#L2100) | ImagesLoaded.prototype.addImage = function( img ) { |
| [2101](#L2101) | var loadingImage = new LoadingImage( img ); |
| [2102](#L2102) | this.images.push( loadingImage ); |
| [2103](#L2103) | }; |
| [2104](#L2104) |  |
| [2105](#L2105) | ImagesLoaded.prototype.addBackground = function( url, elem ) { |
| [2106](#L2106) | var background = new Background( url, elem ); |
| [2107](#L2107) | this.images.push( background ); |
| [2108](#L2108) | }; |
| [2109](#L2109) |  |
| [2110](#L2110) | ImagesLoaded.prototype.check = function() { |
| [2111](#L2111) | var \_this = this; |
| [2112](#L2112) | this.progressedCount = 0; |
| [2113](#L2113) | this.hasAnyBroken = false; |
| [2114](#L2114) | // complete if no images |
| [2115](#L2115) | if ( !this.images.length ) { |
| [2116](#L2116) | this.complete(); |
| [2117](#L2117) | return; |
| [2118](#L2118) | } |
| [2119](#L2119) |  |
| [2120](#L2120) | function onProgress( image, elem, message ) { |
| [2121](#L2121) | // HACK - Chrome triggers event before object properties have changed. #83 |
| [2122](#L2122) | setTimeout( function() { |
| [2123](#L2123) | \_this.progress( image, elem, message ); |
| [2124](#L2124) | }); |
| [2125](#L2125) | } |
| [2126](#L2126) |  |
| [2127](#L2127) | this.images.forEach( function( loadingImage ) { |
| [2128](#L2128) | loadingImage.once( 'progress', onProgress ); |
| [2129](#L2129) | loadingImage.check(); |
| [2130](#L2130) | }); |
| [2131](#L2131) | }; |
| [2132](#L2132) |  |
| [2133](#L2133) | ImagesLoaded.prototype.progress = function( image, elem, message ) { |
| [2134](#L2134) | this.progressedCount++; |
| [2135](#L2135) | this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded; |
| [2136](#L2136) | // progress event |
| [2137](#L2137) | this.emitEvent( 'progress', [ this, image, elem ] ); |
| [2138](#L2138) | if ( this.jqDeferred && this.jqDeferred.notify ) { |
| [2139](#L2139) | this.jqDeferred.notify( this, image ); |
| [2140](#L2140) | } |
| [2141](#L2141) | // check if completed |
| [2142](#L2142) | if ( this.progressedCount == this.images.length ) { |
| [2143](#L2143) | this.complete(); |
| [2144](#L2144) | } |
| [2145](#L2145) |  |
| [2146](#L2146) | if ( this.options.debug && console ) { |
| [2147](#L2147) | console.log( 'progress: ' + message, image, elem ); |
| [2148](#L2148) | } |
| [2149](#L2149) | }; |
| [2150](#L2150) |  |
| [2151](#L2151) | ImagesLoaded.prototype.complete = function() { |
| [2152](#L2152) | var eventName = this.hasAnyBroken ? 'fail' : 'done'; |
| [2153](#L2153) | this.isComplete = true; |
| [2154](#L2154) | this.emitEvent( eventName, [ this ] ); |
| [2155](#L2155) | this.emitEvent( 'always', [ this ] ); |
| [2156](#L2156) | if ( this.jqDeferred ) { |
| [2157](#L2157) | var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve'; |
| [2158](#L2158) | this.jqDeferred[ jqMethod ]( this ); |
| [2159](#L2159) | } |
| [2160](#L2160) | }; |
| [2161](#L2161) |  |
| [2162](#L2162) | // --------------------------  -------------------------- // |
| [2163](#L2163) |  |
| [2164](#L2164) | function LoadingImage( img ) { |
| [2165](#L2165) | this.img = img; |
| [2166](#L2166) | } |
| [2167](#L2167) |  |
| [2168](#L2168) | LoadingImage.prototype = Object.create( EvEmitter.prototype ); |
| [2169](#L2169) |  |
| [2170](#L2170) | LoadingImage.prototype.check = function() { |
| [2171](#L2171) | // If complete is true and browser supports natural sizes, |
| [2172](#L2172) | // try to check for image status manually. |
| [2173](#L2173) | var isComplete = this.getIsImageComplete(); |
| [2174](#L2174) | if ( isComplete ) { |
| [2175](#L2175) | // report based on naturalWidth |
| [2176](#L2176) | this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' ); |
| [2177](#L2177) | return; |
| [2178](#L2178) | } |
| [2179](#L2179) |  |
| [2180](#L2180) | // If none of the checks above matched, simulate loading on detached element. |
| [2181](#L2181) | this.proxyImage = new Image(); |
| [2182](#L2182) | this.proxyImage.addEventListener( 'load', this ); |
| [2183](#L2183) | this.proxyImage.addEventListener( 'error', this ); |
| [2184](#L2184) | // bind to image as well for Firefox. #191 |
| [2185](#L2185) | this.img.addEventListener( 'load', this ); |
| [2186](#L2186) | this.img.addEventListener( 'error', this ); |
| [2187](#L2187) | this.proxyImage.src = this.img.src; |
| [2188](#L2188) | }; |
| [2189](#L2189) |  |
| [2190](#L2190) | LoadingImage.prototype.getIsImageComplete = function() { |
| [2191](#L2191) | // check for non-zero, non-undefined naturalWidth |
| [2192](#L2192) | // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671 |
| [2193](#L2193) | return this.img.complete && this.img.naturalWidth; |
| [2194](#L2194) | }; |
| [2195](#L2195) |  |
| [2196](#L2196) | LoadingImage.prototype.confirm = function( isLoaded, message ) { |
| [2197](#L2197) | this.isLoaded = isLoaded; |
| [2198](#L2198) | this.emitEvent( 'progress', [ this, this.img, message ] ); |
| [2199](#L2199) | }; |
| [2200](#L2200) |  |
| [2201](#L2201) | // ----- events ----- // |
| [2202](#L2202) |  |
| [2203](#L2203) | // trigger specified handler for event type |
| [2204](#L2204) | LoadingImage.prototype.handleEvent = function( event ) { |
| [2205](#L2205) | var method = 'on' + event.type; |
| [2206](#L2206) | if ( this[ method ] ) { |
| [2207](#L2207) | this[ method ]( event ); |
| [2208](#L2208) | } |
| [2209](#L2209) | }; |
| [2210](#L2210) |  |
| [2211](#L2211) | LoadingImage.prototype.onload = function() { |
| [2212](#L2212) | this.confirm( true, 'onload' ); |
| [2213](#L2213) | this.unbindEvents(); |
| [2214](#L2214) | }; |
| [2215](#L2215) |  |
| [2216](#L2216) | LoadingImage.prototype.onerror = function() { |
| [2217](#L2217) | this.confirm( false, 'onerror' ); |
| [2218](#L2218) | this.unbindEvents(); |
| [2219](#L2219) | }; |
| [2220](#L2220) |  |
| [2221](#L2221) | LoadingImage.prototype.unbindEvents = function() { |
| [2222](#L2222) | this.proxyImage.removeEventListener( 'load', this ); |
| [2223](#L2223) | this.proxyImage.removeEventListener( 'error', this ); |
| [2224](#L2224) | this.img.removeEventListener( 'load', this ); |
| [2225](#L2225) | this.img.removeEventListener( 'error', this ); |
| [2226](#L2226) | }; |
| [2227](#L2227) |  |
| [2228](#L2228) | // -------------------------- Background -------------------------- // |
| [2229](#L2229) |  |
| [2230](#L2230) | function Background( url, element ) { |
| [2231](#L2231) | this.url = url; |
| [2232](#L2232) | this.element = element; |
| [2233](#L2233) | this.img = new Image(); |
| [2234](#L2234) | } |
| [2235](#L2235) |  |
| [2236](#L2236) | // inherit LoadingImage prototype |
| [2237](#L2237) | Background.prototype = Object.create( LoadingImage.prototype ); |
| [2238](#L2238) |  |
| [2239](#L2239) | Background.prototype.check = function() { |
| [2240](#L2240) | this.img.addEventListener( 'load', this ); |
| [2241](#L2241) | this.img.addEventListener( 'error', this ); |
| [2242](#L2242) | this.img.src = this.url; |
| [2243](#L2243) | // check if image is already complete |
| [2244](#L2244) | var isComplete = this.getIsImageComplete(); |
| [2245](#L2245) | if ( isComplete ) { |
| [2246](#L2246) | this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' ); |
| [2247](#L2247) | this.unbindEvents(); |
| [2248](#L2248) | } |
| [2249](#L2249) | }; |
| [2250](#L2250) |  |
| [2251](#L2251) | Background.prototype.unbindEvents = function() { |
| [2252](#L2252) | this.img.removeEventListener( 'load', this ); |
| [2253](#L2253) | this.img.removeEventListener( 'error', this ); |
| [2254](#L2254) | }; |
| [2255](#L2255) |  |
| [2256](#L2256) | Background.prototype.confirm = function( isLoaded, message ) { |
| [2257](#L2257) | this.isLoaded = isLoaded; |
| [2258](#L2258) | this.emitEvent( 'progress', [ this, this.element, message ] ); |
| [2259](#L2259) | }; |
| [2260](#L2260) |  |
| [2261](#L2261) | // -------------------------- jQuery -------------------------- // |
| [2262](#L2262) |  |
| [2263](#L2263) | ImagesLoaded.makeJQueryPlugin = function( jQuery ) { |
| [2264](#L2264) | jQuery = jQuery || window.jQuery; |
| [2265](#L2265) | if ( !jQuery ) { |
| [2266](#L2266) | return; |
| [2267](#L2267) | } |
| [2268](#L2268) | // set local variable |
| [2269](#L2269) | $ = jQuery; |
| [2270](#L2270) | // $().imagesLoaded() |
| [2271](#L2271) | $.fn.imagesLoaded = function( options, callback ) { |
| [2272](#L2272) | var instance = new ImagesLoaded( this, options, callback ); |
| [2273](#L2273) | return instance.jqDeferred.promise( $(this) ); |
| [2274](#L2274) | }; |
| [2275](#L2275) | }; |
| [2276](#L2276) | // try making plugin |
| [2277](#L2277) | ImagesLoaded.makeJQueryPlugin(); |
| [2278](#L2278) |  |
| [2279](#L2279) | // --------------------------  -------------------------- // |
| [2280](#L2280) |  |
| [2281](#L2281) | return ImagesLoaded; |
| [2282](#L2282) |  |
| [2283](#L2283) | }); |
| [2284](#L2284) |  |
| [2285](#L2285) |  |
| [2286](#L2286) | /\*\*\*/ }), |
| [2287](#L2287) |  |
| [2288](#L2288) | /\*\*\*/ 792: |
| [2289](#L2289) | /\*\*\*/ (function() { |
| [2290](#L2290) |  |
| [2291](#L2291) | // extracted by mini-css-extract-plugin |
| [2292](#L2292) |  |
| [2293](#L2293) | /\*\*\*/ }), |
| [2294](#L2294) |  |
| [2295](#L2295) | /\*\*\*/ 631: |
| [2296](#L2296) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [2297](#L2297) |  |
| [2298](#L2298) | var hasMap = typeof Map === 'function' && Map.prototype; |
| [2299](#L2299) | var mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null; |
| [2300](#L2300) | var mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null; |
| [2301](#L2301) | var mapForEach = hasMap && Map.prototype.forEach; |
| [2302](#L2302) | var hasSet = typeof Set === 'function' && Set.prototype; |
| [2303](#L2303) | var setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null; |
| [2304](#L2304) | var setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null; |
| [2305](#L2305) | var setForEach = hasSet && Set.prototype.forEach; |
| [2306](#L2306) | var hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype; |
| [2307](#L2307) | var weakMapHas = hasWeakMap ? WeakMap.prototype.has : null; |
| [2308](#L2308) | var hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype; |
| [2309](#L2309) | var weakSetHas = hasWeakSet ? WeakSet.prototype.has : null; |
| [2310](#L2310) | var hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype; |
| [2311](#L2311) | var weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null; |
| [2312](#L2312) | var booleanValueOf = Boolean.prototype.valueOf; |
| [2313](#L2313) | var objectToString = Object.prototype.toString; |
| [2314](#L2314) | var functionToString = Function.prototype.toString; |
| [2315](#L2315) | var $match = String.prototype.match; |
| [2316](#L2316) | var $slice = String.prototype.slice; |
| [2317](#L2317) | var $replace = String.prototype.replace; |
| [2318](#L2318) | var $toUpperCase = String.prototype.toUpperCase; |
| [2319](#L2319) | var $toLowerCase = String.prototype.toLowerCase; |
| [2320](#L2320) | var $test = RegExp.prototype.test; |
| [2321](#L2321) | var $concat = Array.prototype.concat; |
| [2322](#L2322) | var $join = Array.prototype.join; |
| [2323](#L2323) | var $arrSlice = Array.prototype.slice; |
| [2324](#L2324) | var $floor = Math.floor; |
| [2325](#L2325) | var bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null; |
| [2326](#L2326) | var gOPS = Object.getOwnPropertySymbols; |
| [2327](#L2327) | var symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null; |
| [2328](#L2328) | var hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object'; |
| [2329](#L2329) | // ie, `has-tostringtag/shams |
| [2330](#L2330) | var toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol') |
| [2331](#L2331) | ? Symbol.toStringTag |
| [2332](#L2332) | : null; |
| [2333](#L2333) | var isEnumerable = Object.prototype.propertyIsEnumerable; |
| [2334](#L2334) |  |
| [2335](#L2335) | var gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || ( |
| [2336](#L2336) | [].\_\_proto\_\_ === Array.prototype // eslint-disable-line no-proto |
| [2337](#L2337) | ? function (O) { |
| [2338](#L2338) | return O.\_\_proto\_\_; // eslint-disable-line no-proto |
| [2339](#L2339) | } |
| [2340](#L2340) | : null |
| [2341](#L2341) | ); |
| [2342](#L2342) |  |
| [2343](#L2343) | function addNumericSeparator(num, str) { |
| [2344](#L2344) | if ( |
| [2345](#L2345) | num === Infinity |
| [2346](#L2346) | || num === -Infinity |
| [2347](#L2347) | || num !== num |
| [2348](#L2348) | || (num && num > -1000 && num < 1000) |
| [2349](#L2349) | || $test.call(/e/, str) |
| [2350](#L2350) | ) { |
| [2351](#L2351) | return str; |
| [2352](#L2352) | } |
| [2353](#L2353) | var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g; |
| [2354](#L2354) | if (typeof num === 'number') { |
| [2355](#L2355) | var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num) |
| [2356](#L2356) | if (int !== num) { |
| [2357](#L2357) | var intStr = String(int); |
| [2358](#L2358) | var dec = $slice.call(str, intStr.length + 1); |
| [2359](#L2359) | return $replace.call(intStr, sepRegex, '$&\_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&\_'), /\_$/, ''); |
| [2360](#L2360) | } |
| [2361](#L2361) | } |
| [2362](#L2362) | return $replace.call(str, sepRegex, '$&\_'); |
| [2363](#L2363) | } |
| [2364](#L2364) |  |
| [2365](#L2365) | var utilInspect = \_\_webpack\_require\_\_(654); |
| [2366](#L2366) | var inspectCustom = utilInspect.custom; |
| [2367](#L2367) | var inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null; |
| [2368](#L2368) |  |
| [2369](#L2369) | module.exports = function inspect\_(obj, options, depth, seen) { |
| [2370](#L2370) | var opts = options || {}; |
| [2371](#L2371) |  |
| [2372](#L2372) | if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) { |
| [2373](#L2373) | throw new TypeError('option "quoteStyle" must be "single" or "double"'); |
| [2374](#L2374) | } |
| [2375](#L2375) | if ( |
| [2376](#L2376) | has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number' |
| [2377](#L2377) | ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity |
| [2378](#L2378) | : opts.maxStringLength !== null |
| [2379](#L2379) | ) |
| [2380](#L2380) | ) { |
| [2381](#L2381) | throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`'); |
| [2382](#L2382) | } |
| [2383](#L2383) | var customInspect = has(opts, 'customInspect') ? opts.customInspect : true; |
| [2384](#L2384) | if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') { |
| [2385](#L2385) | throw new TypeError('option "customInspect", if provided, must be `true`, `false`, or `\'symbol\'`'); |
| [2386](#L2386) | } |
| [2387](#L2387) |  |
| [2388](#L2388) | if ( |
| [2389](#L2389) | has(opts, 'indent') |
| [2390](#L2390) | && opts.indent !== null |
| [2391](#L2391) | && opts.indent !== '\t' |
| [2392](#L2392) | && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0) |
| [2393](#L2393) | ) { |
| [2394](#L2394) | throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`'); |
| [2395](#L2395) | } |
| [2396](#L2396) | if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') { |
| [2397](#L2397) | throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`'); |
| [2398](#L2398) | } |
| [2399](#L2399) | var numericSeparator = opts.numericSeparator; |
| [2400](#L2400) |  |
| [2401](#L2401) | if (typeof obj === 'undefined') { |
| [2402](#L2402) | return 'undefined'; |
| [2403](#L2403) | } |
| [2404](#L2404) | if (obj === null) { |
| [2405](#L2405) | return 'null'; |
| [2406](#L2406) | } |
| [2407](#L2407) | if (typeof obj === 'boolean') { |
| [2408](#L2408) | return obj ? 'true' : 'false'; |
| [2409](#L2409) | } |
| [2410](#L2410) |  |
| [2411](#L2411) | if (typeof obj === 'string') { |
| [2412](#L2412) | return inspectString(obj, opts); |
| [2413](#L2413) | } |
| [2414](#L2414) | if (typeof obj === 'number') { |
| [2415](#L2415) | if (obj === 0) { |
| [2416](#L2416) | return Infinity / obj > 0 ? '0' : '-0'; |
| [2417](#L2417) | } |
| [2418](#L2418) | var str = String(obj); |
| [2419](#L2419) | return numericSeparator ? addNumericSeparator(obj, str) : str; |
| [2420](#L2420) | } |
| [2421](#L2421) | if (typeof obj === 'bigint') { |
| [2422](#L2422) | var bigIntStr = String(obj) + 'n'; |
| [2423](#L2423) | return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr; |
| [2424](#L2424) | } |
| [2425](#L2425) |  |
| [2426](#L2426) | var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth; |
| [2427](#L2427) | if (typeof depth === 'undefined') { depth = 0; } |
| [2428](#L2428) | if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') { |
| [2429](#L2429) | return isArray(obj) ? '[Array]' : '[Object]'; |
| [2430](#L2430) | } |
| [2431](#L2431) |  |
| [2432](#L2432) | var indent = getIndent(opts, depth); |
| [2433](#L2433) |  |
| [2434](#L2434) | if (typeof seen === 'undefined') { |
| [2435](#L2435) | seen = []; |
| [2436](#L2436) | } else if (indexOf(seen, obj) >= 0) { |
| [2437](#L2437) | return '[Circular]'; |
| [2438](#L2438) | } |
| [2439](#L2439) |  |
| [2440](#L2440) | function inspect(value, from, noIndent) { |
| [2441](#L2441) | if (from) { |
| [2442](#L2442) | seen = $arrSlice.call(seen); |
| [2443](#L2443) | seen.push(from); |
| [2444](#L2444) | } |
| [2445](#L2445) | if (noIndent) { |
| [2446](#L2446) | var newOpts = { |
| [2447](#L2447) | depth: opts.depth |
| [2448](#L2448) | }; |
| [2449](#L2449) | if (has(opts, 'quoteStyle')) { |
| [2450](#L2450) | newOpts.quoteStyle = opts.quoteStyle; |
| [2451](#L2451) | } |
| [2452](#L2452) | return inspect\_(value, newOpts, depth + 1, seen); |
| [2453](#L2453) | } |
| [2454](#L2454) | return inspect\_(value, opts, depth + 1, seen); |
| [2455](#L2455) | } |
| [2456](#L2456) |  |
| [2457](#L2457) | if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable |
| [2458](#L2458) | var name = nameOf(obj); |
| [2459](#L2459) | var keys = arrObjKeys(obj, inspect); |
| [2460](#L2460) | return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : ''); |
| [2461](#L2461) | } |
| [2462](#L2462) | if (isSymbol(obj)) { |
| [2463](#L2463) | var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\(.\*\))\_[^)]\*$/, '$1') : symToString.call(obj); |
| [2464](#L2464) | return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString; |
| [2465](#L2465) | } |
| [2466](#L2466) | if (isElement(obj)) { |
| [2467](#L2467) | var s = '<' + $toLowerCase.call(String(obj.nodeName)); |
| [2468](#L2468) | var attrs = obj.attributes || []; |
| [2469](#L2469) | for (var i = 0; i < attrs.length; i++) { |
| [2470](#L2470) | s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts); |
| [2471](#L2471) | } |
| [2472](#L2472) | s += '>'; |
| [2473](#L2473) | if (obj.childNodes && obj.childNodes.length) { s += '...'; } |
| [2474](#L2474) | s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>'; |
| [2475](#L2475) | return s; |
| [2476](#L2476) | } |
| [2477](#L2477) | if (isArray(obj)) { |
| [2478](#L2478) | if (obj.length === 0) { return '[]'; } |
| [2479](#L2479) | var xs = arrObjKeys(obj, inspect); |
| [2480](#L2480) | if (indent && !singleLineValues(xs)) { |
| [2481](#L2481) | return '[' + indentedJoin(xs, indent) + ']'; |
| [2482](#L2482) | } |
| [2483](#L2483) | return '[ ' + $join.call(xs, ', ') + ' ]'; |
| [2484](#L2484) | } |
| [2485](#L2485) | if (isError(obj)) { |
| [2486](#L2486) | var parts = arrObjKeys(obj, inspect); |
| [2487](#L2487) | if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) { |
| [2488](#L2488) | return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }'; |
| [2489](#L2489) | } |
| [2490](#L2490) | if (parts.length === 0) { return '[' + String(obj) + ']'; } |
| [2491](#L2491) | return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }'; |
| [2492](#L2492) | } |
| [2493](#L2493) | if (typeof obj === 'object' && customInspect) { |
| [2494](#L2494) | if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) { |
| [2495](#L2495) | return utilInspect(obj, { depth: maxDepth - depth }); |
| [2496](#L2496) | } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') { |
| [2497](#L2497) | return obj.inspect(); |
| [2498](#L2498) | } |
| [2499](#L2499) | } |
| [2500](#L2500) | if (isMap(obj)) { |
| [2501](#L2501) | var mapParts = []; |
| [2502](#L2502) | if (mapForEach) { |
| [2503](#L2503) | mapForEach.call(obj, function (value, key) { |
| [2504](#L2504) | mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj)); |
| [2505](#L2505) | }); |
| [2506](#L2506) | } |
| [2507](#L2507) | return collectionOf('Map', mapSize.call(obj), mapParts, indent); |
| [2508](#L2508) | } |
| [2509](#L2509) | if (isSet(obj)) { |
| [2510](#L2510) | var setParts = []; |
| [2511](#L2511) | if (setForEach) { |
| [2512](#L2512) | setForEach.call(obj, function (value) { |
| [2513](#L2513) | setParts.push(inspect(value, obj)); |
| [2514](#L2514) | }); |
| [2515](#L2515) | } |
| [2516](#L2516) | return collectionOf('Set', setSize.call(obj), setParts, indent); |
| [2517](#L2517) | } |
| [2518](#L2518) | if (isWeakMap(obj)) { |
| [2519](#L2519) | return weakCollectionOf('WeakMap'); |
| [2520](#L2520) | } |
| [2521](#L2521) | if (isWeakSet(obj)) { |
| [2522](#L2522) | return weakCollectionOf('WeakSet'); |
| [2523](#L2523) | } |
| [2524](#L2524) | if (isWeakRef(obj)) { |
| [2525](#L2525) | return weakCollectionOf('WeakRef'); |
| [2526](#L2526) | } |
| [2527](#L2527) | if (isNumber(obj)) { |
| [2528](#L2528) | return markBoxed(inspect(Number(obj))); |
| [2529](#L2529) | } |
| [2530](#L2530) | if (isBigInt(obj)) { |
| [2531](#L2531) | return markBoxed(inspect(bigIntValueOf.call(obj))); |
| [2532](#L2532) | } |
| [2533](#L2533) | if (isBoolean(obj)) { |
| [2534](#L2534) | return markBoxed(booleanValueOf.call(obj)); |
| [2535](#L2535) | } |
| [2536](#L2536) | if (isString(obj)) { |
| [2537](#L2537) | return markBoxed(inspect(String(obj))); |
| [2538](#L2538) | } |
| [2539](#L2539) | if (!isDate(obj) && !isRegExp(obj)) { |
| [2540](#L2540) | var ys = arrObjKeys(obj, inspect); |
| [2541](#L2541) | var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object; |
| [2542](#L2542) | var protoTag = obj instanceof Object ? '' : 'null prototype'; |
| [2543](#L2543) | var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : ''; |
| [2544](#L2544) | var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : ''; |
| [2545](#L2545) | var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : ''); |
| [2546](#L2546) | if (ys.length === 0) { return tag + '{}'; } |
| [2547](#L2547) | if (indent) { |
| [2548](#L2548) | return tag + '{' + indentedJoin(ys, indent) + '}'; |
| [2549](#L2549) | } |
| [2550](#L2550) | return tag + '{ ' + $join.call(ys, ', ') + ' }'; |
| [2551](#L2551) | } |
| [2552](#L2552) | return String(obj); |
| [2553](#L2553) | }; |
| [2554](#L2554) |  |
| [2555](#L2555) | function wrapQuotes(s, defaultStyle, opts) { |
| [2556](#L2556) | var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '"' : "'"; |
| [2557](#L2557) | return quoteChar + s + quoteChar; |
| [2558](#L2558) | } |
| [2559](#L2559) |  |
| [2560](#L2560) | function quote(s) { |
| [2561](#L2561) | return $replace.call(String(s), /"/g, '&quot;'); |
| [2562](#L2562) | } |
| [2563](#L2563) |  |
| [2564](#L2564) | function isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); } |
| [2565](#L2565) | function isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); } |
| [2566](#L2566) | function isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); } |
| [2567](#L2567) | function isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); } |
| [2568](#L2568) | function isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); } |
| [2569](#L2569) | function isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); } |
| [2570](#L2570) | function isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); } |
| [2571](#L2571) |  |
| [2572](#L2572) | // Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives |
| [2573](#L2573) | function isSymbol(obj) { |
| [2574](#L2574) | if (hasShammedSymbols) { |
| [2575](#L2575) | return obj && typeof obj === 'object' && obj instanceof Symbol; |
| [2576](#L2576) | } |
| [2577](#L2577) | if (typeof obj === 'symbol') { |
| [2578](#L2578) | return true; |
| [2579](#L2579) | } |
| [2580](#L2580) | if (!obj || typeof obj !== 'object' || !symToString) { |
| [2581](#L2581) | return false; |
| [2582](#L2582) | } |
| [2583](#L2583) | try { |
| [2584](#L2584) | symToString.call(obj); |
| [2585](#L2585) | return true; |
| [2586](#L2586) | } catch (e) {} |
| [2587](#L2587) | return false; |
| [2588](#L2588) | } |
| [2589](#L2589) |  |
| [2590](#L2590) | function isBigInt(obj) { |
| [2591](#L2591) | if (!obj || typeof obj !== 'object' || !bigIntValueOf) { |
| [2592](#L2592) | return false; |
| [2593](#L2593) | } |
| [2594](#L2594) | try { |
| [2595](#L2595) | bigIntValueOf.call(obj); |
| [2596](#L2596) | return true; |
| [2597](#L2597) | } catch (e) {} |
| [2598](#L2598) | return false; |
| [2599](#L2599) | } |
| [2600](#L2600) |  |
| [2601](#L2601) | var hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; }; |
| [2602](#L2602) | function has(obj, key) { |
| [2603](#L2603) | return hasOwn.call(obj, key); |
| [2604](#L2604) | } |
| [2605](#L2605) |  |
| [2606](#L2606) | function toStr(obj) { |
| [2607](#L2607) | return objectToString.call(obj); |
| [2608](#L2608) | } |
| [2609](#L2609) |  |
| [2610](#L2610) | function nameOf(f) { |
| [2611](#L2611) | if (f.name) { return f.name; } |
| [2612](#L2612) | var m = $match.call(functionToString.call(f), /^function\s\*([\w$]+)/); |
| [2613](#L2613) | if (m) { return m[1]; } |
| [2614](#L2614) | return null; |
| [2615](#L2615) | } |
| [2616](#L2616) |  |
| [2617](#L2617) | function indexOf(xs, x) { |
| [2618](#L2618) | if (xs.indexOf) { return xs.indexOf(x); } |
| [2619](#L2619) | for (var i = 0, l = xs.length; i < l; i++) { |
| [2620](#L2620) | if (xs[i] === x) { return i; } |
| [2621](#L2621) | } |
| [2622](#L2622) | return -1; |
| [2623](#L2623) | } |
| [2624](#L2624) |  |
| [2625](#L2625) | function isMap(x) { |
| [2626](#L2626) | if (!mapSize || !x || typeof x !== 'object') { |
| [2627](#L2627) | return false; |
| [2628](#L2628) | } |
| [2629](#L2629) | try { |
| [2630](#L2630) | mapSize.call(x); |
| [2631](#L2631) | try { |
| [2632](#L2632) | setSize.call(x); |
| [2633](#L2633) | } catch (s) { |
| [2634](#L2634) | return true; |
| [2635](#L2635) | } |
| [2636](#L2636) | return x instanceof Map; // core-js workaround, pre-v2.5.0 |
| [2637](#L2637) | } catch (e) {} |
| [2638](#L2638) | return false; |
| [2639](#L2639) | } |
| [2640](#L2640) |  |
| [2641](#L2641) | function isWeakMap(x) { |
| [2642](#L2642) | if (!weakMapHas || !x || typeof x !== 'object') { |
| [2643](#L2643) | return false; |
| [2644](#L2644) | } |
| [2645](#L2645) | try { |
| [2646](#L2646) | weakMapHas.call(x, weakMapHas); |
| [2647](#L2647) | try { |
| [2648](#L2648) | weakSetHas.call(x, weakSetHas); |
| [2649](#L2649) | } catch (s) { |
| [2650](#L2650) | return true; |
| [2651](#L2651) | } |
| [2652](#L2652) | return x instanceof WeakMap; // core-js workaround, pre-v2.5.0 |
| [2653](#L2653) | } catch (e) {} |
| [2654](#L2654) | return false; |
| [2655](#L2655) | } |
| [2656](#L2656) |  |
| [2657](#L2657) | function isWeakRef(x) { |
| [2658](#L2658) | if (!weakRefDeref || !x || typeof x !== 'object') { |
| [2659](#L2659) | return false; |
| [2660](#L2660) | } |
| [2661](#L2661) | try { |
| [2662](#L2662) | weakRefDeref.call(x); |
| [2663](#L2663) | return true; |
| [2664](#L2664) | } catch (e) {} |
| [2665](#L2665) | return false; |
| [2666](#L2666) | } |
| [2667](#L2667) |  |
| [2668](#L2668) | function isSet(x) { |
| [2669](#L2669) | if (!setSize || !x || typeof x !== 'object') { |
| [2670](#L2670) | return false; |
| [2671](#L2671) | } |
| [2672](#L2672) | try { |
| [2673](#L2673) | setSize.call(x); |
| [2674](#L2674) | try { |
| [2675](#L2675) | mapSize.call(x); |
| [2676](#L2676) | } catch (m) { |
| [2677](#L2677) | return true; |
| [2678](#L2678) | } |
| [2679](#L2679) | return x instanceof Set; // core-js workaround, pre-v2.5.0 |
| [2680](#L2680) | } catch (e) {} |
| [2681](#L2681) | return false; |
| [2682](#L2682) | } |
| [2683](#L2683) |  |
| [2684](#L2684) | function isWeakSet(x) { |
| [2685](#L2685) | if (!weakSetHas || !x || typeof x !== 'object') { |
| [2686](#L2686) | return false; |
| [2687](#L2687) | } |
| [2688](#L2688) | try { |
| [2689](#L2689) | weakSetHas.call(x, weakSetHas); |
| [2690](#L2690) | try { |
| [2691](#L2691) | weakMapHas.call(x, weakMapHas); |
| [2692](#L2692) | } catch (s) { |
| [2693](#L2693) | return true; |
| [2694](#L2694) | } |
| [2695](#L2695) | return x instanceof WeakSet; // core-js workaround, pre-v2.5.0 |
| [2696](#L2696) | } catch (e) {} |
| [2697](#L2697) | return false; |
| [2698](#L2698) | } |
| [2699](#L2699) |  |
| [2700](#L2700) | function isElement(x) { |
| [2701](#L2701) | if (!x || typeof x !== 'object') { return false; } |
| [2702](#L2702) | if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) { |
| [2703](#L2703) | return true; |
| [2704](#L2704) | } |
| [2705](#L2705) | return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function'; |
| [2706](#L2706) | } |
| [2707](#L2707) |  |
| [2708](#L2708) | function inspectString(str, opts) { |
| [2709](#L2709) | if (str.length > opts.maxStringLength) { |
| [2710](#L2710) | var remaining = str.length - opts.maxStringLength; |
| [2711](#L2711) | var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : ''); |
| [2712](#L2712) | return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer; |
| [2713](#L2713) | } |
| [2714](#L2714) | // eslint-disable-next-line no-control-regex |
| [2715](#L2715) | var s = $replace.call($replace.call(str, /(['\\])/g, '\\$1'), /[\x00-\x1f]/g, lowbyte); |
| [2716](#L2716) | return wrapQuotes(s, 'single', opts); |
| [2717](#L2717) | } |
| [2718](#L2718) |  |
| [2719](#L2719) | function lowbyte(c) { |
| [2720](#L2720) | var n = c.charCodeAt(0); |
| [2721](#L2721) | var x = { |
| [2722](#L2722) | 8: 'b', |
| [2723](#L2723) | 9: 't', |
| [2724](#L2724) | 10: 'n', |
| [2725](#L2725) | 12: 'f', |
| [2726](#L2726) | 13: 'r' |
| [2727](#L2727) | }[n]; |
| [2728](#L2728) | if (x) { return '\\' + x; } |
| [2729](#L2729) | return '\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16)); |
| [2730](#L2730) | } |
| [2731](#L2731) |  |
| [2732](#L2732) | function markBoxed(str) { |
| [2733](#L2733) | return 'Object(' + str + ')'; |
| [2734](#L2734) | } |
| [2735](#L2735) |  |
| [2736](#L2736) | function weakCollectionOf(type) { |
| [2737](#L2737) | return type + ' { ? }'; |
| [2738](#L2738) | } |
| [2739](#L2739) |  |
| [2740](#L2740) | function collectionOf(type, size, entries, indent) { |
| [2741](#L2741) | var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', '); |
| [2742](#L2742) | return type + ' (' + size + ') {' + joinedEntries + '}'; |
| [2743](#L2743) | } |
| [2744](#L2744) |  |
| [2745](#L2745) | function singleLineValues(xs) { |
| [2746](#L2746) | for (var i = 0; i < xs.length; i++) { |
| [2747](#L2747) | if (indexOf(xs[i], '\n') >= 0) { |
| [2748](#L2748) | return false; |
| [2749](#L2749) | } |
| [2750](#L2750) | } |
| [2751](#L2751) | return true; |
| [2752](#L2752) | } |
| [2753](#L2753) |  |
| [2754](#L2754) | function getIndent(opts, depth) { |
| [2755](#L2755) | var baseIndent; |
| [2756](#L2756) | if (opts.indent === '\t') { |
| [2757](#L2757) | baseIndent = '\t'; |
| [2758](#L2758) | } else if (typeof opts.indent === 'number' && opts.indent > 0) { |
| [2759](#L2759) | baseIndent = $join.call(Array(opts.indent + 1), ' '); |
| [2760](#L2760) | } else { |
| [2761](#L2761) | return null; |
| [2762](#L2762) | } |
| [2763](#L2763) | return { |
| [2764](#L2764) | base: baseIndent, |
| [2765](#L2765) | prev: $join.call(Array(depth + 1), baseIndent) |
| [2766](#L2766) | }; |
| [2767](#L2767) | } |
| [2768](#L2768) |  |
| [2769](#L2769) | function indentedJoin(xs, indent) { |
| [2770](#L2770) | if (xs.length === 0) { return ''; } |
| [2771](#L2771) | var lineJoiner = '\n' + indent.prev + indent.base; |
| [2772](#L2772) | return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\n' + indent.prev; |
| [2773](#L2773) | } |
| [2774](#L2774) |  |
| [2775](#L2775) | function arrObjKeys(obj, inspect) { |
| [2776](#L2776) | var isArr = isArray(obj); |
| [2777](#L2777) | var xs = []; |
| [2778](#L2778) | if (isArr) { |
| [2779](#L2779) | xs.length = obj.length; |
| [2780](#L2780) | for (var i = 0; i < obj.length; i++) { |
| [2781](#L2781) | xs[i] = has(obj, i) ? inspect(obj[i], obj) : ''; |
| [2782](#L2782) | } |
| [2783](#L2783) | } |
| [2784](#L2784) | var syms = typeof gOPS === 'function' ? gOPS(obj) : []; |
| [2785](#L2785) | var symMap; |
| [2786](#L2786) | if (hasShammedSymbols) { |
| [2787](#L2787) | symMap = {}; |
| [2788](#L2788) | for (var k = 0; k < syms.length; k++) { |
| [2789](#L2789) | symMap['$' + syms[k]] = syms[k]; |
| [2790](#L2790) | } |
| [2791](#L2791) | } |
| [2792](#L2792) |  |
| [2793](#L2793) | for (var key in obj) { // eslint-disable-line no-restricted-syntax |
| [2794](#L2794) | if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue |
| [2795](#L2795) | if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue |
| [2796](#L2796) | if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) { |
| [2797](#L2797) | // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section |
| [2798](#L2798) | continue; // eslint-disable-line no-restricted-syntax, no-continue |
| [2799](#L2799) | } else if ($test.call(/[^\w$]/, key)) { |
| [2800](#L2800) | xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj)); |
| [2801](#L2801) | } else { |
| [2802](#L2802) | xs.push(key + ': ' + inspect(obj[key], obj)); |
| [2803](#L2803) | } |
| [2804](#L2804) | } |
| [2805](#L2805) | if (typeof gOPS === 'function') { |
| [2806](#L2806) | for (var j = 0; j < syms.length; j++) { |
| [2807](#L2807) | if (isEnumerable.call(obj, syms[j])) { |
| [2808](#L2808) | xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj)); |
| [2809](#L2809) | } |
| [2810](#L2810) | } |
| [2811](#L2811) | } |
| [2812](#L2812) | return xs; |
| [2813](#L2813) | } |
| [2814](#L2814) |  |
| [2815](#L2815) |  |
| [2816](#L2816) | /\*\*\*/ }), |
| [2817](#L2817) |  |
| [2818](#L2818) | /\*\*\*/ 798: |
| [2819](#L2819) | /\*\*\*/ (function(module) { |
| [2820](#L2820) |  |
| [2821](#L2821) | "use strict"; |
| [2822](#L2822) |  |
| [2823](#L2823) |  |
| [2824](#L2824) | var replace = String.prototype.replace; |
| [2825](#L2825) | var percentTwenties = /%20/g; |
| [2826](#L2826) |  |
| [2827](#L2827) | var Format = { |
| [2828](#L2828) | RFC1738: 'RFC1738', |
| [2829](#L2829) | RFC3986: 'RFC3986' |
| [2830](#L2830) | }; |
| [2831](#L2831) |  |
| [2832](#L2832) | module.exports = { |
| [2833](#L2833) | 'default': Format.RFC3986, |
| [2834](#L2834) | formatters: { |
| [2835](#L2835) | RFC1738: function (value) { |
| [2836](#L2836) | return replace.call(value, percentTwenties, '+'); |
| [2837](#L2837) | }, |
| [2838](#L2838) | RFC3986: function (value) { |
| [2839](#L2839) | return String(value); |
| [2840](#L2840) | } |
| [2841](#L2841) | }, |
| [2842](#L2842) | RFC1738: Format.RFC1738, |
| [2843](#L2843) | RFC3986: Format.RFC3986 |
| [2844](#L2844) | }; |
| [2845](#L2845) |  |
| [2846](#L2846) |  |
| [2847](#L2847) | /\*\*\*/ }), |
| [2848](#L2848) |  |
| [2849](#L2849) | /\*\*\*/ 129: |
| [2850](#L2850) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [2851](#L2851) |  |
| [2852](#L2852) | "use strict"; |
| [2853](#L2853) |  |
| [2854](#L2854) |  |
| [2855](#L2855) | var stringify = \_\_webpack\_require\_\_(261); |
| [2856](#L2856) | var parse = \_\_webpack\_require\_\_(235); |
| [2857](#L2857) | var formats = \_\_webpack\_require\_\_(798); |
| [2858](#L2858) |  |
| [2859](#L2859) | module.exports = { |
| [2860](#L2860) | formats: formats, |
| [2861](#L2861) | parse: parse, |
| [2862](#L2862) | stringify: stringify |
| [2863](#L2863) | }; |
| [2864](#L2864) |  |
| [2865](#L2865) |  |
| [2866](#L2866) | /\*\*\*/ }), |
| [2867](#L2867) |  |
| [2868](#L2868) | /\*\*\*/ 235: |
| [2869](#L2869) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [2870](#L2870) |  |
| [2871](#L2871) | "use strict"; |
| [2872](#L2872) |  |
| [2873](#L2873) |  |
| [2874](#L2874) | var utils = \_\_webpack\_require\_\_(769); |
| [2875](#L2875) |  |
| [2876](#L2876) | var has = Object.prototype.hasOwnProperty; |
| [2877](#L2877) | var isArray = Array.isArray; |
| [2878](#L2878) |  |
| [2879](#L2879) | var defaults = { |
| [2880](#L2880) | allowDots: false, |
| [2881](#L2881) | allowPrototypes: false, |
| [2882](#L2882) | allowSparse: false, |
| [2883](#L2883) | arrayLimit: 20, |
| [2884](#L2884) | charset: 'utf-8', |
| [2885](#L2885) | charsetSentinel: false, |
| [2886](#L2886) | comma: false, |
| [2887](#L2887) | decoder: utils.decode, |
| [2888](#L2888) | delimiter: '&', |
| [2889](#L2889) | depth: 5, |
| [2890](#L2890) | ignoreQueryPrefix: false, |
| [2891](#L2891) | interpretNumericEntities: false, |
| [2892](#L2892) | parameterLimit: 1000, |
| [2893](#L2893) | parseArrays: true, |
| [2894](#L2894) | plainObjects: false, |
| [2895](#L2895) | strictNullHandling: false |
| [2896](#L2896) | }; |
| [2897](#L2897) |  |
| [2898](#L2898) | var interpretNumericEntities = function (str) { |
| [2899](#L2899) | return str.replace(/&#(\d+);/g, function ($0, numberStr) { |
| [2900](#L2900) | return String.fromCharCode(parseInt(numberStr, 10)); |
| [2901](#L2901) | }); |
| [2902](#L2902) | }; |
| [2903](#L2903) |  |
| [2904](#L2904) | var parseArrayValue = function (val, options) { |
| [2905](#L2905) | if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) { |
| [2906](#L2906) | return val.split(','); |
| [2907](#L2907) | } |
| [2908](#L2908) |  |
| [2909](#L2909) | return val; |
| [2910](#L2910) | }; |
| [2911](#L2911) |  |
| [2912](#L2912) | // This is what browsers will submit when the ✓ character occurs in an |
| [2913](#L2913) | // application/x-www-form-urlencoded body and the encoding of the page containing |
| [2914](#L2914) | // the form is iso-8859-1, or when the submitted form has an accept-charset |
| [2915](#L2915) | // attribute of iso-8859-1. Presumably also with other charsets that do not contain |
| [2916](#L2916) | // the ✓ character, such as us-ascii. |
| [2917](#L2917) | var isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;') |
| [2918](#L2918) |  |
| [2919](#L2919) | // These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded. |
| [2920](#L2920) | var charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓') |
| [2921](#L2921) |  |
| [2922](#L2922) | var parseValues = function parseQueryStringValues(str, options) { |
| [2923](#L2923) | var obj = { \_\_proto\_\_: null }; |
| [2924](#L2924) |  |
| [2925](#L2925) | var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\?/, '') : str; |
| [2926](#L2926) | var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit; |
| [2927](#L2927) | var parts = cleanStr.split(options.delimiter, limit); |
| [2928](#L2928) | var skipIndex = -1; // Keep track of where the utf8 sentinel was found |
| [2929](#L2929) | var i; |
| [2930](#L2930) |  |
| [2931](#L2931) | var charset = options.charset; |
| [2932](#L2932) | if (options.charsetSentinel) { |
| [2933](#L2933) | for (i = 0; i < parts.length; ++i) { |
| [2934](#L2934) | if (parts[i].indexOf('utf8=') === 0) { |
| [2935](#L2935) | if (parts[i] === charsetSentinel) { |
| [2936](#L2936) | charset = 'utf-8'; |
| [2937](#L2937) | } else if (parts[i] === isoSentinel) { |
| [2938](#L2938) | charset = 'iso-8859-1'; |
| [2939](#L2939) | } |
| [2940](#L2940) | skipIndex = i; |
| [2941](#L2941) | i = parts.length; // The eslint settings do not allow break; |
| [2942](#L2942) | } |
| [2943](#L2943) | } |
| [2944](#L2944) | } |
| [2945](#L2945) |  |
| [2946](#L2946) | for (i = 0; i < parts.length; ++i) { |
| [2947](#L2947) | if (i === skipIndex) { |
| [2948](#L2948) | continue; |
| [2949](#L2949) | } |
| [2950](#L2950) | var part = parts[i]; |
| [2951](#L2951) |  |
| [2952](#L2952) | var bracketEqualsPos = part.indexOf(']='); |
| [2953](#L2953) | var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1; |
| [2954](#L2954) |  |
| [2955](#L2955) | var key, val; |
| [2956](#L2956) | if (pos === -1) { |
| [2957](#L2957) | key = options.decoder(part, defaults.decoder, charset, 'key'); |
| [2958](#L2958) | val = options.strictNullHandling ? null : ''; |
| [2959](#L2959) | } else { |
| [2960](#L2960) | key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key'); |
| [2961](#L2961) | val = utils.maybeMap( |
| [2962](#L2962) | parseArrayValue(part.slice(pos + 1), options), |
| [2963](#L2963) | function (encodedVal) { |
| [2964](#L2964) | return options.decoder(encodedVal, defaults.decoder, charset, 'value'); |
| [2965](#L2965) | } |
| [2966](#L2966) | ); |
| [2967](#L2967) | } |
| [2968](#L2968) |  |
| [2969](#L2969) | if (val && options.interpretNumericEntities && charset === 'iso-8859-1') { |
| [2970](#L2970) | val = interpretNumericEntities(val); |
| [2971](#L2971) | } |
| [2972](#L2972) |  |
| [2973](#L2973) | if (part.indexOf('[]=') > -1) { |
| [2974](#L2974) | val = isArray(val) ? [val] : val; |
| [2975](#L2975) | } |
| [2976](#L2976) |  |
| [2977](#L2977) | if (has.call(obj, key)) { |
| [2978](#L2978) | obj[key] = utils.combine(obj[key], val); |
| [2979](#L2979) | } else { |
| [2980](#L2980) | obj[key] = val; |
| [2981](#L2981) | } |
| [2982](#L2982) | } |
| [2983](#L2983) |  |
| [2984](#L2984) | return obj; |
| [2985](#L2985) | }; |
| [2986](#L2986) |  |
| [2987](#L2987) | var parseObject = function (chain, val, options, valuesParsed) { |
| [2988](#L2988) | var leaf = valuesParsed ? val : parseArrayValue(val, options); |
| [2989](#L2989) |  |
| [2990](#L2990) | for (var i = chain.length - 1; i >= 0; --i) { |
| [2991](#L2991) | var obj; |
| [2992](#L2992) | var root = chain[i]; |
| [2993](#L2993) |  |
| [2994](#L2994) | if (root === '[]' && options.parseArrays) { |
| [2995](#L2995) | obj = [].concat(leaf); |
| [2996](#L2996) | } else { |
| [2997](#L2997) | obj = options.plainObjects ? Object.create(null) : {}; |
| [2998](#L2998) | var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root; |
| [2999](#L2999) | var index = parseInt(cleanRoot, 10); |
| [3000](#L3000) | if (!options.parseArrays && cleanRoot === '') { |
| [3001](#L3001) | obj = { 0: leaf }; |
| [3002](#L3002) | } else if ( |
| [3003](#L3003) | !isNaN(index) |
| [3004](#L3004) | && root !== cleanRoot |
| [3005](#L3005) | && String(index) === cleanRoot |
| [3006](#L3006) | && index >= 0 |
| [3007](#L3007) | && (options.parseArrays && index <= options.arrayLimit) |
| [3008](#L3008) | ) { |
| [3009](#L3009) | obj = []; |
| [3010](#L3010) | obj[index] = leaf; |
| [3011](#L3011) | } else if (cleanRoot !== '\_\_proto\_\_') { |
| [3012](#L3012) | obj[cleanRoot] = leaf; |
| [3013](#L3013) | } |
| [3014](#L3014) | } |
| [3015](#L3015) |  |
| [3016](#L3016) | leaf = obj; |
| [3017](#L3017) | } |
| [3018](#L3018) |  |
| [3019](#L3019) | return leaf; |
| [3020](#L3020) | }; |
| [3021](#L3021) |  |
| [3022](#L3022) | var parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) { |
| [3023](#L3023) | if (!givenKey) { |
| [3024](#L3024) | return; |
| [3025](#L3025) | } |
| [3026](#L3026) |  |
| [3027](#L3027) | // Transform dot notation to bracket notation |
| [3028](#L3028) | var key = options.allowDots ? givenKey.replace(/\.([^.[]+)/g, '[$1]') : givenKey; |
| [3029](#L3029) |  |
| [3030](#L3030) | // The regex chunks |
| [3031](#L3031) |  |
| [3032](#L3032) | var brackets = /(\[[^[\]]\*])/; |
| [3033](#L3033) | var child = /(\[[^[\]]\*])/g; |
| [3034](#L3034) |  |
| [3035](#L3035) | // Get the parent |
| [3036](#L3036) |  |
| [3037](#L3037) | var segment = options.depth > 0 && brackets.exec(key); |
| [3038](#L3038) | var parent = segment ? key.slice(0, segment.index) : key; |
| [3039](#L3039) |  |
| [3040](#L3040) | // Stash the parent if it exists |
| [3041](#L3041) |  |
| [3042](#L3042) | var keys = []; |
| [3043](#L3043) | if (parent) { |
| [3044](#L3044) | // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties |
| [3045](#L3045) | if (!options.plainObjects && has.call(Object.prototype, parent)) { |
| [3046](#L3046) | if (!options.allowPrototypes) { |
| [3047](#L3047) | return; |
| [3048](#L3048) | } |
| [3049](#L3049) | } |
| [3050](#L3050) |  |
| [3051](#L3051) | keys.push(parent); |
| [3052](#L3052) | } |
| [3053](#L3053) |  |
| [3054](#L3054) | // Loop through children appending to the array until we hit depth |
| [3055](#L3055) |  |
| [3056](#L3056) | var i = 0; |
| [3057](#L3057) | while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) { |
| [3058](#L3058) | i += 1; |
| [3059](#L3059) | if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) { |
| [3060](#L3060) | if (!options.allowPrototypes) { |
| [3061](#L3061) | return; |
| [3062](#L3062) | } |
| [3063](#L3063) | } |
| [3064](#L3064) | keys.push(segment[1]); |
| [3065](#L3065) | } |
| [3066](#L3066) |  |
| [3067](#L3067) | // If there's a remainder, just add whatever is left |
| [3068](#L3068) |  |
| [3069](#L3069) | if (segment) { |
| [3070](#L3070) | keys.push('[' + key.slice(segment.index) + ']'); |
| [3071](#L3071) | } |
| [3072](#L3072) |  |
| [3073](#L3073) | return parseObject(keys, val, options, valuesParsed); |
| [3074](#L3074) | }; |
| [3075](#L3075) |  |
| [3076](#L3076) | var normalizeParseOptions = function normalizeParseOptions(opts) { |
| [3077](#L3077) | if (!opts) { |
| [3078](#L3078) | return defaults; |
| [3079](#L3079) | } |
| [3080](#L3080) |  |
| [3081](#L3081) | if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') { |
| [3082](#L3082) | throw new TypeError('Decoder has to be a function.'); |
| [3083](#L3083) | } |
| [3084](#L3084) |  |
| [3085](#L3085) | if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') { |
| [3086](#L3086) | throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined'); |
| [3087](#L3087) | } |
| [3088](#L3088) | var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset; |
| [3089](#L3089) |  |
| [3090](#L3090) | return { |
| [3091](#L3091) | allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots, |
| [3092](#L3092) | allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes, |
| [3093](#L3093) | allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse, |
| [3094](#L3094) | arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit, |
| [3095](#L3095) | charset: charset, |
| [3096](#L3096) | charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel, |
| [3097](#L3097) | comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma, |
| [3098](#L3098) | decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder, |
| [3099](#L3099) | delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter, |
| [3100](#L3100) | // eslint-disable-next-line no-implicit-coercion, no-extra-parens |
| [3101](#L3101) | depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth, |
| [3102](#L3102) | ignoreQueryPrefix: opts.ignoreQueryPrefix === true, |
| [3103](#L3103) | interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities, |
| [3104](#L3104) | parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit, |
| [3105](#L3105) | parseArrays: opts.parseArrays !== false, |
| [3106](#L3106) | plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects, |
| [3107](#L3107) | strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling |
| [3108](#L3108) | }; |
| [3109](#L3109) | }; |
| [3110](#L3110) |  |
| [3111](#L3111) | module.exports = function (str, opts) { |
| [3112](#L3112) | var options = normalizeParseOptions(opts); |
| [3113](#L3113) |  |
| [3114](#L3114) | if (str === '' || str === null || typeof str === 'undefined') { |
| [3115](#L3115) | return options.plainObjects ? Object.create(null) : {}; |
| [3116](#L3116) | } |
| [3117](#L3117) |  |
| [3118](#L3118) | var tempObj = typeof str === 'string' ? parseValues(str, options) : str; |
| [3119](#L3119) | var obj = options.plainObjects ? Object.create(null) : {}; |
| [3120](#L3120) |  |
| [3121](#L3121) | // Iterate over the keys and setup the new object |
| [3122](#L3122) |  |
| [3123](#L3123) | var keys = Object.keys(tempObj); |
| [3124](#L3124) | for (var i = 0; i < keys.length; ++i) { |
| [3125](#L3125) | var key = keys[i]; |
| [3126](#L3126) | var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string'); |
| [3127](#L3127) | obj = utils.merge(obj, newObj, options); |
| [3128](#L3128) | } |
| [3129](#L3129) |  |
| [3130](#L3130) | if (options.allowSparse === true) { |
| [3131](#L3131) | return obj; |
| [3132](#L3132) | } |
| [3133](#L3133) |  |
| [3134](#L3134) | return utils.compact(obj); |
| [3135](#L3135) | }; |
| [3136](#L3136) |  |
| [3137](#L3137) |  |
| [3138](#L3138) | /\*\*\*/ }), |
| [3139](#L3139) |  |
| [3140](#L3140) | /\*\*\*/ 261: |
| [3141](#L3141) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [3142](#L3142) |  |
| [3143](#L3143) | "use strict"; |
| [3144](#L3144) |  |
| [3145](#L3145) |  |
| [3146](#L3146) | var getSideChannel = \_\_webpack\_require\_\_(478); |
| [3147](#L3147) | var utils = \_\_webpack\_require\_\_(769); |
| [3148](#L3148) | var formats = \_\_webpack\_require\_\_(798); |
| [3149](#L3149) | var has = Object.prototype.hasOwnProperty; |
| [3150](#L3150) |  |
| [3151](#L3151) | var arrayPrefixGenerators = { |
| [3152](#L3152) | brackets: function brackets(prefix) { |
| [3153](#L3153) | return prefix + '[]'; |
| [3154](#L3154) | }, |
| [3155](#L3155) | comma: 'comma', |
| [3156](#L3156) | indices: function indices(prefix, key) { |
| [3157](#L3157) | return prefix + '[' + key + ']'; |
| [3158](#L3158) | }, |
| [3159](#L3159) | repeat: function repeat(prefix) { |
| [3160](#L3160) | return prefix; |
| [3161](#L3161) | } |
| [3162](#L3162) | }; |
| [3163](#L3163) |  |
| [3164](#L3164) | var isArray = Array.isArray; |
| [3165](#L3165) | var push = Array.prototype.push; |
| [3166](#L3166) | var pushToArray = function (arr, valueOrArray) { |
| [3167](#L3167) | push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]); |
| [3168](#L3168) | }; |
| [3169](#L3169) |  |
| [3170](#L3170) | var toISO = Date.prototype.toISOString; |
| [3171](#L3171) |  |
| [3172](#L3172) | var defaultFormat = formats['default']; |
| [3173](#L3173) | var defaults = { |
| [3174](#L3174) | addQueryPrefix: false, |
| [3175](#L3175) | allowDots: false, |
| [3176](#L3176) | charset: 'utf-8', |
| [3177](#L3177) | charsetSentinel: false, |
| [3178](#L3178) | delimiter: '&', |
| [3179](#L3179) | encode: true, |
| [3180](#L3180) | encoder: utils.encode, |
| [3181](#L3181) | encodeValuesOnly: false, |
| [3182](#L3182) | format: defaultFormat, |
| [3183](#L3183) | formatter: formats.formatters[defaultFormat], |
| [3184](#L3184) | // deprecated |
| [3185](#L3185) | indices: false, |
| [3186](#L3186) | serializeDate: function serializeDate(date) { |
| [3187](#L3187) | return toISO.call(date); |
| [3188](#L3188) | }, |
| [3189](#L3189) | skipNulls: false, |
| [3190](#L3190) | strictNullHandling: false |
| [3191](#L3191) | }; |
| [3192](#L3192) |  |
| [3193](#L3193) | var isNonNullishPrimitive = function isNonNullishPrimitive(v) { |
| [3194](#L3194) | return typeof v === 'string' |
| [3195](#L3195) | || typeof v === 'number' |
| [3196](#L3196) | || typeof v === 'boolean' |
| [3197](#L3197) | || typeof v === 'symbol' |
| [3198](#L3198) | || typeof v === 'bigint'; |
| [3199](#L3199) | }; |
| [3200](#L3200) |  |
| [3201](#L3201) | var sentinel = {}; |
| [3202](#L3202) |  |
| [3203](#L3203) | var stringify = function stringify( |
| [3204](#L3204) | object, |
| [3205](#L3205) | prefix, |
| [3206](#L3206) | generateArrayPrefix, |
| [3207](#L3207) | commaRoundTrip, |
| [3208](#L3208) | strictNullHandling, |
| [3209](#L3209) | skipNulls, |
| [3210](#L3210) | encoder, |
| [3211](#L3211) | filter, |
| [3212](#L3212) | sort, |
| [3213](#L3213) | allowDots, |
| [3214](#L3214) | serializeDate, |
| [3215](#L3215) | format, |
| [3216](#L3216) | formatter, |
| [3217](#L3217) | encodeValuesOnly, |
| [3218](#L3218) | charset, |
| [3219](#L3219) | sideChannel |
| [3220](#L3220) | ) { |
| [3221](#L3221) | var obj = object; |
| [3222](#L3222) |  |
| [3223](#L3223) | var tmpSc = sideChannel; |
| [3224](#L3224) | var step = 0; |
| [3225](#L3225) | var findFlag = false; |
| [3226](#L3226) | while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) { |
| [3227](#L3227) | // Where object last appeared in the ref tree |
| [3228](#L3228) | var pos = tmpSc.get(object); |
| [3229](#L3229) | step += 1; |
| [3230](#L3230) | if (typeof pos !== 'undefined') { |
| [3231](#L3231) | if (pos === step) { |
| [3232](#L3232) | throw new RangeError('Cyclic object value'); |
| [3233](#L3233) | } else { |
| [3234](#L3234) | findFlag = true; // Break while |
| [3235](#L3235) | } |
| [3236](#L3236) | } |
| [3237](#L3237) | if (typeof tmpSc.get(sentinel) === 'undefined') { |
| [3238](#L3238) | step = 0; |
| [3239](#L3239) | } |
| [3240](#L3240) | } |
| [3241](#L3241) |  |
| [3242](#L3242) | if (typeof filter === 'function') { |
| [3243](#L3243) | obj = filter(prefix, obj); |
| [3244](#L3244) | } else if (obj instanceof Date) { |
| [3245](#L3245) | obj = serializeDate(obj); |
| [3246](#L3246) | } else if (generateArrayPrefix === 'comma' && isArray(obj)) { |
| [3247](#L3247) | obj = utils.maybeMap(obj, function (value) { |
| [3248](#L3248) | if (value instanceof Date) { |
| [3249](#L3249) | return serializeDate(value); |
| [3250](#L3250) | } |
| [3251](#L3251) | return value; |
| [3252](#L3252) | }); |
| [3253](#L3253) | } |
| [3254](#L3254) |  |
| [3255](#L3255) | if (obj === null) { |
| [3256](#L3256) | if (strictNullHandling) { |
| [3257](#L3257) | return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix; |
| [3258](#L3258) | } |
| [3259](#L3259) |  |
| [3260](#L3260) | obj = ''; |
| [3261](#L3261) | } |
| [3262](#L3262) |  |
| [3263](#L3263) | if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) { |
| [3264](#L3264) | if (encoder) { |
| [3265](#L3265) | var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format); |
| [3266](#L3266) | return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))]; |
| [3267](#L3267) | } |
| [3268](#L3268) | return [formatter(prefix) + '=' + formatter(String(obj))]; |
| [3269](#L3269) | } |
| [3270](#L3270) |  |
| [3271](#L3271) | var values = []; |
| [3272](#L3272) |  |
| [3273](#L3273) | if (typeof obj === 'undefined') { |
| [3274](#L3274) | return values; |
| [3275](#L3275) | } |
| [3276](#L3276) |  |
| [3277](#L3277) | var objKeys; |
| [3278](#L3278) | if (generateArrayPrefix === 'comma' && isArray(obj)) { |
| [3279](#L3279) | // we need to join elements in |
| [3280](#L3280) | if (encodeValuesOnly && encoder) { |
| [3281](#L3281) | obj = utils.maybeMap(obj, encoder); |
| [3282](#L3282) | } |
| [3283](#L3283) | objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }]; |
| [3284](#L3284) | } else if (isArray(filter)) { |
| [3285](#L3285) | objKeys = filter; |
| [3286](#L3286) | } else { |
| [3287](#L3287) | var keys = Object.keys(obj); |
| [3288](#L3288) | objKeys = sort ? keys.sort(sort) : keys; |
| [3289](#L3289) | } |
| [3290](#L3290) |  |
| [3291](#L3291) | var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? prefix + '[]' : prefix; |
| [3292](#L3292) |  |
| [3293](#L3293) | for (var j = 0; j < objKeys.length; ++j) { |
| [3294](#L3294) | var key = objKeys[j]; |
| [3295](#L3295) | var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key]; |
| [3296](#L3296) |  |
| [3297](#L3297) | if (skipNulls && value === null) { |
| [3298](#L3298) | continue; |
| [3299](#L3299) | } |
| [3300](#L3300) |  |
| [3301](#L3301) | var keyPrefix = isArray(obj) |
| [3302](#L3302) | ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, key) : adjustedPrefix |
| [3303](#L3303) | : adjustedPrefix + (allowDots ? '.' + key : '[' + key + ']'); |
| [3304](#L3304) |  |
| [3305](#L3305) | sideChannel.set(object, step); |
| [3306](#L3306) | var valueSideChannel = getSideChannel(); |
| [3307](#L3307) | valueSideChannel.set(sentinel, sideChannel); |
| [3308](#L3308) | pushToArray(values, stringify( |
| [3309](#L3309) | value, |
| [3310](#L3310) | keyPrefix, |
| [3311](#L3311) | generateArrayPrefix, |
| [3312](#L3312) | commaRoundTrip, |
| [3313](#L3313) | strictNullHandling, |
| [3314](#L3314) | skipNulls, |
| [3315](#L3315) | generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder, |
| [3316](#L3316) | filter, |
| [3317](#L3317) | sort, |
| [3318](#L3318) | allowDots, |
| [3319](#L3319) | serializeDate, |
| [3320](#L3320) | format, |
| [3321](#L3321) | formatter, |
| [3322](#L3322) | encodeValuesOnly, |
| [3323](#L3323) | charset, |
| [3324](#L3324) | valueSideChannel |
| [3325](#L3325) | )); |
| [3326](#L3326) | } |
| [3327](#L3327) |  |
| [3328](#L3328) | return values; |
| [3329](#L3329) | }; |
| [3330](#L3330) |  |
| [3331](#L3331) | var normalizeStringifyOptions = function normalizeStringifyOptions(opts) { |
| [3332](#L3332) | if (!opts) { |
| [3333](#L3333) | return defaults; |
| [3334](#L3334) | } |
| [3335](#L3335) |  |
| [3336](#L3336) | if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') { |
| [3337](#L3337) | throw new TypeError('Encoder has to be a function.'); |
| [3338](#L3338) | } |
| [3339](#L3339) |  |
| [3340](#L3340) | var charset = opts.charset || defaults.charset; |
| [3341](#L3341) | if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') { |
| [3342](#L3342) | throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined'); |
| [3343](#L3343) | } |
| [3344](#L3344) |  |
| [3345](#L3345) | var format = formats['default']; |
| [3346](#L3346) | if (typeof opts.format !== 'undefined') { |
| [3347](#L3347) | if (!has.call(formats.formatters, opts.format)) { |
| [3348](#L3348) | throw new TypeError('Unknown format option provided.'); |
| [3349](#L3349) | } |
| [3350](#L3350) | format = opts.format; |
| [3351](#L3351) | } |
| [3352](#L3352) | var formatter = formats.formatters[format]; |
| [3353](#L3353) |  |
| [3354](#L3354) | var filter = defaults.filter; |
| [3355](#L3355) | if (typeof opts.filter === 'function' || isArray(opts.filter)) { |
| [3356](#L3356) | filter = opts.filter; |
| [3357](#L3357) | } |
| [3358](#L3358) |  |
| [3359](#L3359) | return { |
| [3360](#L3360) | addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix, |
| [3361](#L3361) | allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots, |
| [3362](#L3362) | charset: charset, |
| [3363](#L3363) | charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel, |
| [3364](#L3364) | delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter, |
| [3365](#L3365) | encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode, |
| [3366](#L3366) | encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder, |
| [3367](#L3367) | encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly, |
| [3368](#L3368) | filter: filter, |
| [3369](#L3369) | format: format, |
| [3370](#L3370) | formatter: formatter, |
| [3371](#L3371) | serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate, |
| [3372](#L3372) | skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls, |
| [3373](#L3373) | sort: typeof opts.sort === 'function' ? opts.sort : null, |
| [3374](#L3374) | strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling |
| [3375](#L3375) | }; |
| [3376](#L3376) | }; |
| [3377](#L3377) |  |
| [3378](#L3378) | module.exports = function (object, opts) { |
| [3379](#L3379) | var obj = object; |
| [3380](#L3380) | var options = normalizeStringifyOptions(opts); |
| [3381](#L3381) |  |
| [3382](#L3382) | var objKeys; |
| [3383](#L3383) | var filter; |
| [3384](#L3384) |  |
| [3385](#L3385) | if (typeof options.filter === 'function') { |
| [3386](#L3386) | filter = options.filter; |
| [3387](#L3387) | obj = filter('', obj); |
| [3388](#L3388) | } else if (isArray(options.filter)) { |
| [3389](#L3389) | filter = options.filter; |
| [3390](#L3390) | objKeys = filter; |
| [3391](#L3391) | } |
| [3392](#L3392) |  |
| [3393](#L3393) | var keys = []; |
| [3394](#L3394) |  |
| [3395](#L3395) | if (typeof obj !== 'object' || obj === null) { |
| [3396](#L3396) | return ''; |
| [3397](#L3397) | } |
| [3398](#L3398) |  |
| [3399](#L3399) | var arrayFormat; |
| [3400](#L3400) | if (opts && opts.arrayFormat in arrayPrefixGenerators) { |
| [3401](#L3401) | arrayFormat = opts.arrayFormat; |
| [3402](#L3402) | } else if (opts && 'indices' in opts) { |
| [3403](#L3403) | arrayFormat = opts.indices ? 'indices' : 'repeat'; |
| [3404](#L3404) | } else { |
| [3405](#L3405) | arrayFormat = 'indices'; |
| [3406](#L3406) | } |
| [3407](#L3407) |  |
| [3408](#L3408) | var generateArrayPrefix = arrayPrefixGenerators[arrayFormat]; |
| [3409](#L3409) | if (opts && 'commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') { |
| [3410](#L3410) | throw new TypeError('`commaRoundTrip` must be a boolean, or absent'); |
| [3411](#L3411) | } |
| [3412](#L3412) | var commaRoundTrip = generateArrayPrefix === 'comma' && opts && opts.commaRoundTrip; |
| [3413](#L3413) |  |
| [3414](#L3414) | if (!objKeys) { |
| [3415](#L3415) | objKeys = Object.keys(obj); |
| [3416](#L3416) | } |
| [3417](#L3417) |  |
| [3418](#L3418) | if (options.sort) { |
| [3419](#L3419) | objKeys.sort(options.sort); |
| [3420](#L3420) | } |
| [3421](#L3421) |  |
| [3422](#L3422) | var sideChannel = getSideChannel(); |
| [3423](#L3423) | for (var i = 0; i < objKeys.length; ++i) { |
| [3424](#L3424) | var key = objKeys[i]; |
| [3425](#L3425) |  |
| [3426](#L3426) | if (options.skipNulls && obj[key] === null) { |
| [3427](#L3427) | continue; |
| [3428](#L3428) | } |
| [3429](#L3429) | pushToArray(keys, stringify( |
| [3430](#L3430) | obj[key], |
| [3431](#L3431) | key, |
| [3432](#L3432) | generateArrayPrefix, |
| [3433](#L3433) | commaRoundTrip, |
| [3434](#L3434) | options.strictNullHandling, |
| [3435](#L3435) | options.skipNulls, |
| [3436](#L3436) | options.encode ? options.encoder : null, |
| [3437](#L3437) | options.filter, |
| [3438](#L3438) | options.sort, |
| [3439](#L3439) | options.allowDots, |
| [3440](#L3440) | options.serializeDate, |
| [3441](#L3441) | options.format, |
| [3442](#L3442) | options.formatter, |
| [3443](#L3443) | options.encodeValuesOnly, |
| [3444](#L3444) | options.charset, |
| [3445](#L3445) | sideChannel |
| [3446](#L3446) | )); |
| [3447](#L3447) | } |
| [3448](#L3448) |  |
| [3449](#L3449) | var joined = keys.join(options.delimiter); |
| [3450](#L3450) | var prefix = options.addQueryPrefix === true ? '?' : ''; |
| [3451](#L3451) |  |
| [3452](#L3452) | if (options.charsetSentinel) { |
| [3453](#L3453) | if (options.charset === 'iso-8859-1') { |
| [3454](#L3454) | // encodeURIComponent('&#10003;'), the "numeric entity" representation of a checkmark |
| [3455](#L3455) | prefix += 'utf8=%26%2310003%3B&'; |
| [3456](#L3456) | } else { |
| [3457](#L3457) | // encodeURIComponent('✓') |
| [3458](#L3458) | prefix += 'utf8=%E2%9C%93&'; |
| [3459](#L3459) | } |
| [3460](#L3460) | } |
| [3461](#L3461) |  |
| [3462](#L3462) | return joined.length > 0 ? prefix + joined : ''; |
| [3463](#L3463) | }; |
| [3464](#L3464) |  |
| [3465](#L3465) |  |
| [3466](#L3466) | /\*\*\*/ }), |
| [3467](#L3467) |  |
| [3468](#L3468) | /\*\*\*/ 769: |
| [3469](#L3469) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [3470](#L3470) |  |
| [3471](#L3471) | "use strict"; |
| [3472](#L3472) |  |
| [3473](#L3473) |  |
| [3474](#L3474) | var formats = \_\_webpack\_require\_\_(798); |
| [3475](#L3475) |  |
| [3476](#L3476) | var has = Object.prototype.hasOwnProperty; |
| [3477](#L3477) | var isArray = Array.isArray; |
| [3478](#L3478) |  |
| [3479](#L3479) | var hexTable = (function () { |
| [3480](#L3480) | var array = []; |
| [3481](#L3481) | for (var i = 0; i < 256; ++i) { |
| [3482](#L3482) | array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase()); |
| [3483](#L3483) | } |
| [3484](#L3484) |  |
| [3485](#L3485) | return array; |
| [3486](#L3486) | }()); |
| [3487](#L3487) |  |
| [3488](#L3488) | var compactQueue = function compactQueue(queue) { |
| [3489](#L3489) | while (queue.length > 1) { |
| [3490](#L3490) | var item = queue.pop(); |
| [3491](#L3491) | var obj = item.obj[item.prop]; |
| [3492](#L3492) |  |
| [3493](#L3493) | if (isArray(obj)) { |
| [3494](#L3494) | var compacted = []; |
| [3495](#L3495) |  |
| [3496](#L3496) | for (var j = 0; j < obj.length; ++j) { |
| [3497](#L3497) | if (typeof obj[j] !== 'undefined') { |
| [3498](#L3498) | compacted.push(obj[j]); |
| [3499](#L3499) | } |
| [3500](#L3500) | } |
| [3501](#L3501) |  |
| [3502](#L3502) | item.obj[item.prop] = compacted; |
| [3503](#L3503) | } |
| [3504](#L3504) | } |
| [3505](#L3505) | }; |
| [3506](#L3506) |  |
| [3507](#L3507) | var arrayToObject = function arrayToObject(source, options) { |
| [3508](#L3508) | var obj = options && options.plainObjects ? Object.create(null) : {}; |
| [3509](#L3509) | for (var i = 0; i < source.length; ++i) { |
| [3510](#L3510) | if (typeof source[i] !== 'undefined') { |
| [3511](#L3511) | obj[i] = source[i]; |
| [3512](#L3512) | } |
| [3513](#L3513) | } |
| [3514](#L3514) |  |
| [3515](#L3515) | return obj; |
| [3516](#L3516) | }; |
| [3517](#L3517) |  |
| [3518](#L3518) | var merge = function merge(target, source, options) { |
| [3519](#L3519) | /\* eslint no-param-reassign: 0 \*/ |
| [3520](#L3520) | if (!source) { |
| [3521](#L3521) | return target; |
| [3522](#L3522) | } |
| [3523](#L3523) |  |
| [3524](#L3524) | if (typeof source !== 'object') { |
| [3525](#L3525) | if (isArray(target)) { |
| [3526](#L3526) | target.push(source); |
| [3527](#L3527) | } else if (target && typeof target === 'object') { |
| [3528](#L3528) | if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) { |
| [3529](#L3529) | target[source] = true; |
| [3530](#L3530) | } |
| [3531](#L3531) | } else { |
| [3532](#L3532) | return [target, source]; |
| [3533](#L3533) | } |
| [3534](#L3534) |  |
| [3535](#L3535) | return target; |
| [3536](#L3536) | } |
| [3537](#L3537) |  |
| [3538](#L3538) | if (!target || typeof target !== 'object') { |
| [3539](#L3539) | return [target].concat(source); |
| [3540](#L3540) | } |
| [3541](#L3541) |  |
| [3542](#L3542) | var mergeTarget = target; |
| [3543](#L3543) | if (isArray(target) && !isArray(source)) { |
| [3544](#L3544) | mergeTarget = arrayToObject(target, options); |
| [3545](#L3545) | } |
| [3546](#L3546) |  |
| [3547](#L3547) | if (isArray(target) && isArray(source)) { |
| [3548](#L3548) | source.forEach(function (item, i) { |
| [3549](#L3549) | if (has.call(target, i)) { |
| [3550](#L3550) | var targetItem = target[i]; |
| [3551](#L3551) | if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') { |
| [3552](#L3552) | target[i] = merge(targetItem, item, options); |
| [3553](#L3553) | } else { |
| [3554](#L3554) | target.push(item); |
| [3555](#L3555) | } |
| [3556](#L3556) | } else { |
| [3557](#L3557) | target[i] = item; |
| [3558](#L3558) | } |
| [3559](#L3559) | }); |
| [3560](#L3560) | return target; |
| [3561](#L3561) | } |
| [3562](#L3562) |  |
| [3563](#L3563) | return Object.keys(source).reduce(function (acc, key) { |
| [3564](#L3564) | var value = source[key]; |
| [3565](#L3565) |  |
| [3566](#L3566) | if (has.call(acc, key)) { |
| [3567](#L3567) | acc[key] = merge(acc[key], value, options); |
| [3568](#L3568) | } else { |
| [3569](#L3569) | acc[key] = value; |
| [3570](#L3570) | } |
| [3571](#L3571) | return acc; |
| [3572](#L3572) | }, mergeTarget); |
| [3573](#L3573) | }; |
| [3574](#L3574) |  |
| [3575](#L3575) | var assign = function assignSingleSource(target, source) { |
| [3576](#L3576) | return Object.keys(source).reduce(function (acc, key) { |
| [3577](#L3577) | acc[key] = source[key]; |
| [3578](#L3578) | return acc; |
| [3579](#L3579) | }, target); |
| [3580](#L3580) | }; |
| [3581](#L3581) |  |
| [3582](#L3582) | var decode = function (str, decoder, charset) { |
| [3583](#L3583) | var strWithoutPlus = str.replace(/\+/g, ' '); |
| [3584](#L3584) | if (charset === 'iso-8859-1') { |
| [3585](#L3585) | // unescape never throws, no try...catch needed: |
| [3586](#L3586) | return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape); |
| [3587](#L3587) | } |
| [3588](#L3588) | // utf-8 |
| [3589](#L3589) | try { |
| [3590](#L3590) | return decodeURIComponent(strWithoutPlus); |
| [3591](#L3591) | } catch (e) { |
| [3592](#L3592) | return strWithoutPlus; |
| [3593](#L3593) | } |
| [3594](#L3594) | }; |
| [3595](#L3595) |  |
| [3596](#L3596) | var encode = function encode(str, defaultEncoder, charset, kind, format) { |
| [3597](#L3597) | // This code was originally written by Brian White (mscdex) for the io.js core querystring library. |
| [3598](#L3598) | // It has been adapted here for stricter adherence to RFC 3986 |
| [3599](#L3599) | if (str.length === 0) { |
| [3600](#L3600) | return str; |
| [3601](#L3601) | } |
| [3602](#L3602) |  |
| [3603](#L3603) | var string = str; |
| [3604](#L3604) | if (typeof str === 'symbol') { |
| [3605](#L3605) | string = Symbol.prototype.toString.call(str); |
| [3606](#L3606) | } else if (typeof str !== 'string') { |
| [3607](#L3607) | string = String(str); |
| [3608](#L3608) | } |
| [3609](#L3609) |  |
| [3610](#L3610) | if (charset === 'iso-8859-1') { |
| [3611](#L3611) | return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) { |
| [3612](#L3612) | return '%26%23' + parseInt($0.slice(2), 16) + '%3B'; |
| [3613](#L3613) | }); |
| [3614](#L3614) | } |
| [3615](#L3615) |  |
| [3616](#L3616) | var out = ''; |
| [3617](#L3617) | for (var i = 0; i < string.length; ++i) { |
| [3618](#L3618) | var c = string.charCodeAt(i); |
| [3619](#L3619) |  |
| [3620](#L3620) | if ( |
| [3621](#L3621) | c === 0x2D // - |
| [3622](#L3622) | || c === 0x2E // . |
| [3623](#L3623) | || c === 0x5F // \_ |
| [3624](#L3624) | || c === 0x7E // ~ |
| [3625](#L3625) | || (c >= 0x30 && c <= 0x39) // 0-9 |
| [3626](#L3626) | || (c >= 0x41 && c <= 0x5A) // a-z |
| [3627](#L3627) | || (c >= 0x61 && c <= 0x7A) // A-Z |
| [3628](#L3628) | || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( ) |
| [3629](#L3629) | ) { |
| [3630](#L3630) | out += string.charAt(i); |
| [3631](#L3631) | continue; |
| [3632](#L3632) | } |
| [3633](#L3633) |  |
| [3634](#L3634) | if (c < 0x80) { |
| [3635](#L3635) | out = out + hexTable[c]; |
| [3636](#L3636) | continue; |
| [3637](#L3637) | } |
| [3638](#L3638) |  |
| [3639](#L3639) | if (c < 0x800) { |
| [3640](#L3640) | out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]); |
| [3641](#L3641) | continue; |
| [3642](#L3642) | } |
| [3643](#L3643) |  |
| [3644](#L3644) | if (c < 0xD800 || c >= 0xE000) { |
| [3645](#L3645) | out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]); |
| [3646](#L3646) | continue; |
| [3647](#L3647) | } |
| [3648](#L3648) |  |
| [3649](#L3649) | i += 1; |
| [3650](#L3650) | c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF)); |
| [3651](#L3651) | /\* eslint operator-linebreak: [2, "before"] \*/ |
| [3652](#L3652) | out += hexTable[0xF0 | (c >> 18)] |
| [3653](#L3653) | + hexTable[0x80 | ((c >> 12) & 0x3F)] |
| [3654](#L3654) | + hexTable[0x80 | ((c >> 6) & 0x3F)] |
| [3655](#L3655) | + hexTable[0x80 | (c & 0x3F)]; |
| [3656](#L3656) | } |
| [3657](#L3657) |  |
| [3658](#L3658) | return out; |
| [3659](#L3659) | }; |
| [3660](#L3660) |  |
| [3661](#L3661) | var compact = function compact(value) { |
| [3662](#L3662) | var queue = [{ obj: { o: value }, prop: 'o' }]; |
| [3663](#L3663) | var refs = []; |
| [3664](#L3664) |  |
| [3665](#L3665) | for (var i = 0; i < queue.length; ++i) { |
| [3666](#L3666) | var item = queue[i]; |
| [3667](#L3667) | var obj = item.obj[item.prop]; |
| [3668](#L3668) |  |
| [3669](#L3669) | var keys = Object.keys(obj); |
| [3670](#L3670) | for (var j = 0; j < keys.length; ++j) { |
| [3671](#L3671) | var key = keys[j]; |
| [3672](#L3672) | var val = obj[key]; |
| [3673](#L3673) | if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) { |
| [3674](#L3674) | queue.push({ obj: obj, prop: key }); |
| [3675](#L3675) | refs.push(val); |
| [3676](#L3676) | } |
| [3677](#L3677) | } |
| [3678](#L3678) | } |
| [3679](#L3679) |  |
| [3680](#L3680) | compactQueue(queue); |
| [3681](#L3681) |  |
| [3682](#L3682) | return value; |
| [3683](#L3683) | }; |
| [3684](#L3684) |  |
| [3685](#L3685) | var isRegExp = function isRegExp(obj) { |
| [3686](#L3686) | return Object.prototype.toString.call(obj) === '[object RegExp]'; |
| [3687](#L3687) | }; |
| [3688](#L3688) |  |
| [3689](#L3689) | var isBuffer = function isBuffer(obj) { |
| [3690](#L3690) | if (!obj || typeof obj !== 'object') { |
| [3691](#L3691) | return false; |
| [3692](#L3692) | } |
| [3693](#L3693) |  |
| [3694](#L3694) | return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj)); |
| [3695](#L3695) | }; |
| [3696](#L3696) |  |
| [3697](#L3697) | var combine = function combine(a, b) { |
| [3698](#L3698) | return [].concat(a, b); |
| [3699](#L3699) | }; |
| [3700](#L3700) |  |
| [3701](#L3701) | var maybeMap = function maybeMap(val, fn) { |
| [3702](#L3702) | if (isArray(val)) { |
| [3703](#L3703) | var mapped = []; |
| [3704](#L3704) | for (var i = 0; i < val.length; i += 1) { |
| [3705](#L3705) | mapped.push(fn(val[i])); |
| [3706](#L3706) | } |
| [3707](#L3707) | return mapped; |
| [3708](#L3708) | } |
| [3709](#L3709) | return fn(val); |
| [3710](#L3710) | }; |
| [3711](#L3711) |  |
| [3712](#L3712) | module.exports = { |
| [3713](#L3713) | arrayToObject: arrayToObject, |
| [3714](#L3714) | assign: assign, |
| [3715](#L3715) | combine: combine, |
| [3716](#L3716) | compact: compact, |
| [3717](#L3717) | decode: decode, |
| [3718](#L3718) | encode: encode, |
| [3719](#L3719) | isBuffer: isBuffer, |
| [3720](#L3720) | isRegExp: isRegExp, |
| [3721](#L3721) | maybeMap: maybeMap, |
| [3722](#L3722) | merge: merge |
| [3723](#L3723) | }; |
| [3724](#L3724) |  |
| [3725](#L3725) |  |
| [3726](#L3726) | /\*\*\*/ }), |
| [3727](#L3727) |  |
| [3728](#L3728) | /\*\*\*/ 478: |
| [3729](#L3729) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [3730](#L3730) |  |
| [3731](#L3731) | "use strict"; |
| [3732](#L3732) |  |
| [3733](#L3733) |  |
| [3734](#L3734) | var GetIntrinsic = \_\_webpack\_require\_\_(210); |
| [3735](#L3735) | var callBound = \_\_webpack\_require\_\_(924); |
| [3736](#L3736) | var inspect = \_\_webpack\_require\_\_(631); |
| [3737](#L3737) |  |
| [3738](#L3738) | var $TypeError = GetIntrinsic('%TypeError%'); |
| [3739](#L3739) | var $WeakMap = GetIntrinsic('%WeakMap%', true); |
| [3740](#L3740) | var $Map = GetIntrinsic('%Map%', true); |
| [3741](#L3741) |  |
| [3742](#L3742) | var $weakMapGet = callBound('WeakMap.prototype.get', true); |
| [3743](#L3743) | var $weakMapSet = callBound('WeakMap.prototype.set', true); |
| [3744](#L3744) | var $weakMapHas = callBound('WeakMap.prototype.has', true); |
| [3745](#L3745) | var $mapGet = callBound('Map.prototype.get', true); |
| [3746](#L3746) | var $mapSet = callBound('Map.prototype.set', true); |
| [3747](#L3747) | var $mapHas = callBound('Map.prototype.has', true); |
| [3748](#L3748) |  |
| [3749](#L3749) | /\* |
| [3750](#L3750) | \* This function traverses the list returning the node corresponding to the |
| [3751](#L3751) | \* given key. |
| [3752](#L3752) | \* |
| [3753](#L3753) | \* That node is also moved to the head of the list, so that if it's accessed |
| [3754](#L3754) | \* again we don't need to traverse the whole list. By doing so, all the recently |
| [3755](#L3755) | \* used nodes can be accessed relatively quickly. |
| [3756](#L3756) | \*/ |
| [3757](#L3757) | var listGetNode = function (list, key) { // eslint-disable-line consistent-return |
| [3758](#L3758) | for (var prev = list, curr; (curr = prev.next) !== null; prev = curr) { |
| [3759](#L3759) | if (curr.key === key) { |
| [3760](#L3760) | prev.next = curr.next; |
| [3761](#L3761) | curr.next = list.next; |
| [3762](#L3762) | list.next = curr; // eslint-disable-line no-param-reassign |
| [3763](#L3763) | return curr; |
| [3764](#L3764) | } |
| [3765](#L3765) | } |
| [3766](#L3766) | }; |
| [3767](#L3767) |  |
| [3768](#L3768) | var listGet = function (objects, key) { |
| [3769](#L3769) | var node = listGetNode(objects, key); |
| [3770](#L3770) | return node && node.value; |
| [3771](#L3771) | }; |
| [3772](#L3772) | var listSet = function (objects, key, value) { |
| [3773](#L3773) | var node = listGetNode(objects, key); |
| [3774](#L3774) | if (node) { |
| [3775](#L3775) | node.value = value; |
| [3776](#L3776) | } else { |
| [3777](#L3777) | // Prepend the new node to the beginning of the list |
| [3778](#L3778) | objects.next = { // eslint-disable-line no-param-reassign |
| [3779](#L3779) | key: key, |
| [3780](#L3780) | next: objects.next, |
| [3781](#L3781) | value: value |
| [3782](#L3782) | }; |
| [3783](#L3783) | } |
| [3784](#L3784) | }; |
| [3785](#L3785) | var listHas = function (objects, key) { |
| [3786](#L3786) | return !!listGetNode(objects, key); |
| [3787](#L3787) | }; |
| [3788](#L3788) |  |
| [3789](#L3789) | module.exports = function getSideChannel() { |
| [3790](#L3790) | var $wm; |
| [3791](#L3791) | var $m; |
| [3792](#L3792) | var $o; |
| [3793](#L3793) | var channel = { |
| [3794](#L3794) | assert: function (key) { |
| [3795](#L3795) | if (!channel.has(key)) { |
| [3796](#L3796) | throw new $TypeError('Side channel does not contain ' + inspect(key)); |
| [3797](#L3797) | } |
| [3798](#L3798) | }, |
| [3799](#L3799) | get: function (key) { // eslint-disable-line consistent-return |
| [3800](#L3800) | if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) { |
| [3801](#L3801) | if ($wm) { |
| [3802](#L3802) | return $weakMapGet($wm, key); |
| [3803](#L3803) | } |
| [3804](#L3804) | } else if ($Map) { |
| [3805](#L3805) | if ($m) { |
| [3806](#L3806) | return $mapGet($m, key); |
| [3807](#L3807) | } |
| [3808](#L3808) | } else { |
| [3809](#L3809) | if ($o) { // eslint-disable-line no-lonely-if |
| [3810](#L3810) | return listGet($o, key); |
| [3811](#L3811) | } |
| [3812](#L3812) | } |
| [3813](#L3813) | }, |
| [3814](#L3814) | has: function (key) { |
| [3815](#L3815) | if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) { |
| [3816](#L3816) | if ($wm) { |
| [3817](#L3817) | return $weakMapHas($wm, key); |
| [3818](#L3818) | } |
| [3819](#L3819) | } else if ($Map) { |
| [3820](#L3820) | if ($m) { |
| [3821](#L3821) | return $mapHas($m, key); |
| [3822](#L3822) | } |
| [3823](#L3823) | } else { |
| [3824](#L3824) | if ($o) { // eslint-disable-line no-lonely-if |
| [3825](#L3825) | return listHas($o, key); |
| [3826](#L3826) | } |
| [3827](#L3827) | } |
| [3828](#L3828) | return false; |
| [3829](#L3829) | }, |
| [3830](#L3830) | set: function (key, value) { |
| [3831](#L3831) | if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) { |
| [3832](#L3832) | if (!$wm) { |
| [3833](#L3833) | $wm = new $WeakMap(); |
| [3834](#L3834) | } |
| [3835](#L3835) | $weakMapSet($wm, key, value); |
| [3836](#L3836) | } else if ($Map) { |
| [3837](#L3837) | if (!$m) { |
| [3838](#L3838) | $m = new $Map(); |
| [3839](#L3839) | } |
| [3840](#L3840) | $mapSet($m, key, value); |
| [3841](#L3841) | } else { |
| [3842](#L3842) | if (!$o) { |
| [3843](#L3843) | /\* |
| [3844](#L3844) | \* Initialize the linked list as an empty node, so that we don't have |
| [3845](#L3845) | \* to special-case handling of the first node: we can always refer to |
| [3846](#L3846) | \* it as (previous node).next, instead of something like (list).head |
| [3847](#L3847) | \*/ |
| [3848](#L3848) | $o = { key: {}, next: null }; |
| [3849](#L3849) | } |
| [3850](#L3850) | listSet($o, key, value); |
| [3851](#L3851) | } |
| [3852](#L3852) | } |
| [3853](#L3853) | }; |
| [3854](#L3854) | return channel; |
| [3855](#L3855) | }; |
| [3856](#L3856) |  |
| [3857](#L3857) |  |
| [3858](#L3858) | /\*\*\*/ }), |
| [3859](#L3859) |  |
| [3860](#L3860) | /\*\*\*/ 379: |
| [3861](#L3861) | /\*\*\*/ (function(module) { |
| [3862](#L3862) |  |
| [3863](#L3863) | "use strict"; |
| [3864](#L3864) |  |
| [3865](#L3865) |  |
| [3866](#L3866) | var stylesInDOM = []; |
| [3867](#L3867) | function getIndexByIdentifier(identifier) { |
| [3868](#L3868) | var result = -1; |
| [3869](#L3869) | for (var i = 0; i < stylesInDOM.length; i++) { |
| [3870](#L3870) | if (stylesInDOM[i].identifier === identifier) { |
| [3871](#L3871) | result = i; |
| [3872](#L3872) | break; |
| [3873](#L3873) | } |
| [3874](#L3874) | } |
| [3875](#L3875) | return result; |
| [3876](#L3876) | } |
| [3877](#L3877) | function modulesToDom(list, options) { |
| [3878](#L3878) | var idCountMap = {}; |
| [3879](#L3879) | var identifiers = []; |
| [3880](#L3880) | for (var i = 0; i < list.length; i++) { |
| [3881](#L3881) | var item = list[i]; |
| [3882](#L3882) | var id = options.base ? item[0] + options.base : item[0]; |
| [3883](#L3883) | var count = idCountMap[id] || 0; |
| [3884](#L3884) | var identifier = "".concat(id, " ").concat(count); |
| [3885](#L3885) | idCountMap[id] = count + 1; |
| [3886](#L3886) | var indexByIdentifier = getIndexByIdentifier(identifier); |
| [3887](#L3887) | var obj = { |
| [3888](#L3888) | css: item[1], |
| [3889](#L3889) | media: item[2], |
| [3890](#L3890) | sourceMap: item[3], |
| [3891](#L3891) | supports: item[4], |
| [3892](#L3892) | layer: item[5] |
| [3893](#L3893) | }; |
| [3894](#L3894) | if (indexByIdentifier !== -1) { |
| [3895](#L3895) | stylesInDOM[indexByIdentifier].references++; |
| [3896](#L3896) | stylesInDOM[indexByIdentifier].updater(obj); |
| [3897](#L3897) | } else { |
| [3898](#L3898) | var updater = addElementStyle(obj, options); |
| [3899](#L3899) | options.byIndex = i; |
| [3900](#L3900) | stylesInDOM.splice(i, 0, { |
| [3901](#L3901) | identifier: identifier, |
| [3902](#L3902) | updater: updater, |
| [3903](#L3903) | references: 1 |
| [3904](#L3904) | }); |
| [3905](#L3905) | } |
| [3906](#L3906) | identifiers.push(identifier); |
| [3907](#L3907) | } |
| [3908](#L3908) | return identifiers; |
| [3909](#L3909) | } |
| [3910](#L3910) | function addElementStyle(obj, options) { |
| [3911](#L3911) | var api = options.domAPI(options); |
| [3912](#L3912) | api.update(obj); |
| [3913](#L3913) | var updater = function updater(newObj) { |
| [3914](#L3914) | if (newObj) { |
| [3915](#L3915) | if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) { |
| [3916](#L3916) | return; |
| [3917](#L3917) | } |
| [3918](#L3918) | api.update(obj = newObj); |
| [3919](#L3919) | } else { |
| [3920](#L3920) | api.remove(); |
| [3921](#L3921) | } |
| [3922](#L3922) | }; |
| [3923](#L3923) | return updater; |
| [3924](#L3924) | } |
| [3925](#L3925) | module.exports = function (list, options) { |
| [3926](#L3926) | options = options || {}; |
| [3927](#L3927) | list = list || []; |
| [3928](#L3928) | var lastIdentifiers = modulesToDom(list, options); |
| [3929](#L3929) | return function update(newList) { |
| [3930](#L3930) | newList = newList || []; |
| [3931](#L3931) | for (var i = 0; i < lastIdentifiers.length; i++) { |
| [3932](#L3932) | var identifier = lastIdentifiers[i]; |
| [3933](#L3933) | var index = getIndexByIdentifier(identifier); |
| [3934](#L3934) | stylesInDOM[index].references--; |
| [3935](#L3935) | } |
| [3936](#L3936) | var newLastIdentifiers = modulesToDom(newList, options); |
| [3937](#L3937) | for (var \_i = 0; \_i < lastIdentifiers.length; \_i++) { |
| [3938](#L3938) | var \_identifier = lastIdentifiers[\_i]; |
| [3939](#L3939) | var \_index = getIndexByIdentifier(\_identifier); |
| [3940](#L3940) | if (stylesInDOM[\_index].references === 0) { |
| [3941](#L3941) | stylesInDOM[\_index].updater(); |
| [3942](#L3942) | stylesInDOM.splice(\_index, 1); |
| [3943](#L3943) | } |
| [3944](#L3944) | } |
| [3945](#L3945) | lastIdentifiers = newLastIdentifiers; |
| [3946](#L3946) | }; |
| [3947](#L3947) | }; |
| [3948](#L3948) |  |
| [3949](#L3949) | /\*\*\*/ }), |
| [3950](#L3950) |  |
| [3951](#L3951) | /\*\*\*/ 569: |
| [3952](#L3952) | /\*\*\*/ (function(module) { |
| [3953](#L3953) |  |
| [3954](#L3954) | "use strict"; |
| [3955](#L3955) |  |
| [3956](#L3956) |  |
| [3957](#L3957) | var memo = {}; |
| [3958](#L3958) |  |
| [3959](#L3959) | /\* istanbul ignore next  \*/ |
| [3960](#L3960) | function getTarget(target) { |
| [3961](#L3961) | if (typeof memo[target] === "undefined") { |
| [3962](#L3962) | var styleTarget = document.querySelector(target); |
| [3963](#L3963) |  |
| [3964](#L3964) | // Special case to return head of iframe instead of iframe itself |
| [3965](#L3965) | if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) { |
| [3966](#L3966) | try { |
| [3967](#L3967) | // This will throw an exception if access to iframe is blocked |
| [3968](#L3968) | // due to cross-origin restrictions |
| [3969](#L3969) | styleTarget = styleTarget.contentDocument.head; |
| [3970](#L3970) | } catch (e) { |
| [3971](#L3971) | // istanbul ignore next |
| [3972](#L3972) | styleTarget = null; |
| [3973](#L3973) | } |
| [3974](#L3974) | } |
| [3975](#L3975) | memo[target] = styleTarget; |
| [3976](#L3976) | } |
| [3977](#L3977) | return memo[target]; |
| [3978](#L3978) | } |
| [3979](#L3979) |  |
| [3980](#L3980) | /\* istanbul ignore next  \*/ |
| [3981](#L3981) | function insertBySelector(insert, style) { |
| [3982](#L3982) | var target = getTarget(insert); |
| [3983](#L3983) | if (!target) { |
| [3984](#L3984) | throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."); |
| [3985](#L3985) | } |
| [3986](#L3986) | target.appendChild(style); |
| [3987](#L3987) | } |
| [3988](#L3988) | module.exports = insertBySelector; |
| [3989](#L3989) |  |
| [3990](#L3990) | /\*\*\*/ }), |
| [3991](#L3991) |  |
| [3992](#L3992) | /\*\*\*/ 216: |
| [3993](#L3993) | /\*\*\*/ (function(module) { |
| [3994](#L3994) |  |
| [3995](#L3995) | "use strict"; |
| [3996](#L3996) |  |
| [3997](#L3997) |  |
| [3998](#L3998) | /\* istanbul ignore next  \*/ |
| [3999](#L3999) | function insertStyleElement(options) { |
| [4000](#L4000) | var element = document.createElement("style"); |
| [4001](#L4001) | options.setAttributes(element, options.attributes); |
| [4002](#L4002) | options.insert(element, options.options); |
| [4003](#L4003) | return element; |
| [4004](#L4004) | } |
| [4005](#L4005) | module.exports = insertStyleElement; |
| [4006](#L4006) |  |
| [4007](#L4007) | /\*\*\*/ }), |
| [4008](#L4008) |  |
| [4009](#L4009) | /\*\*\*/ 565: |
| [4010](#L4010) | /\*\*\*/ (function(module, \_\_unused\_webpack\_exports, \_\_webpack\_require\_\_) { |
| [4011](#L4011) |  |
| [4012](#L4012) | "use strict"; |
| [4013](#L4013) |  |
| [4014](#L4014) |  |
| [4015](#L4015) | /\* istanbul ignore next  \*/ |
| [4016](#L4016) | function setAttributesWithoutAttributes(styleElement) { |
| [4017](#L4017) | var nonce =  true ? \_\_webpack\_require\_\_.nc : 0; |
| [4018](#L4018) | if (nonce) { |
| [4019](#L4019) | styleElement.setAttribute("nonce", nonce); |
| [4020](#L4020) | } |
| [4021](#L4021) | } |
| [4022](#L4022) | module.exports = setAttributesWithoutAttributes; |
| [4023](#L4023) |  |
| [4024](#L4024) | /\*\*\*/ }), |
| [4025](#L4025) |  |
| [4026](#L4026) | /\*\*\*/ 795: |
| [4027](#L4027) | /\*\*\*/ (function(module) { |
| [4028](#L4028) |  |
| [4029](#L4029) | "use strict"; |
| [4030](#L4030) |  |
| [4031](#L4031) |  |
| [4032](#L4032) | /\* istanbul ignore next  \*/ |
| [4033](#L4033) | function apply(styleElement, options, obj) { |
| [4034](#L4034) | var css = ""; |
| [4035](#L4035) | if (obj.supports) { |
| [4036](#L4036) | css += "@supports (".concat(obj.supports, ") {"); |
| [4037](#L4037) | } |
| [4038](#L4038) | if (obj.media) { |
| [4039](#L4039) | css += "@media ".concat(obj.media, " {"); |
| [4040](#L4040) | } |
| [4041](#L4041) | var needLayer = typeof obj.layer !== "undefined"; |
| [4042](#L4042) | if (needLayer) { |
| [4043](#L4043) | css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {"); |
| [4044](#L4044) | } |
| [4045](#L4045) | css += obj.css; |
| [4046](#L4046) | if (needLayer) { |
| [4047](#L4047) | css += "}"; |
| [4048](#L4048) | } |
| [4049](#L4049) | if (obj.media) { |
| [4050](#L4050) | css += "}"; |
| [4051](#L4051) | } |
| [4052](#L4052) | if (obj.supports) { |
| [4053](#L4053) | css += "}"; |
| [4054](#L4054) | } |
| [4055](#L4055) | var sourceMap = obj.sourceMap; |
| [4056](#L4056) | if (sourceMap && typeof btoa !== "undefined") { |
| [4057](#L4057) | css += "\n/\*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " \*/"); |
| [4058](#L4058) | } |
| [4059](#L4059) |  |
| [4060](#L4060) | // For old IE |
| [4061](#L4061) | /\* istanbul ignore if  \*/ |
| [4062](#L4062) | options.styleTagTransform(css, styleElement, options.options); |
| [4063](#L4063) | } |
| [4064](#L4064) | function removeStyleElement(styleElement) { |
| [4065](#L4065) | // istanbul ignore if |
| [4066](#L4066) | if (styleElement.parentNode === null) { |
| [4067](#L4067) | return false; |
| [4068](#L4068) | } |
| [4069](#L4069) | styleElement.parentNode.removeChild(styleElement); |
| [4070](#L4070) | } |
| [4071](#L4071) |  |
| [4072](#L4072) | /\* istanbul ignore next  \*/ |
| [4073](#L4073) | function domAPI(options) { |
| [4074](#L4074) | if (typeof document === "undefined") { |
| [4075](#L4075) | return { |
| [4076](#L4076) | update: function update() {}, |
| [4077](#L4077) | remove: function remove() {} |
| [4078](#L4078) | }; |
| [4079](#L4079) | } |
| [4080](#L4080) | var styleElement = options.insertStyleElement(options); |
| [4081](#L4081) | return { |
| [4082](#L4082) | update: function update(obj) { |
| [4083](#L4083) | apply(styleElement, options, obj); |
| [4084](#L4084) | }, |
| [4085](#L4085) | remove: function remove() { |
| [4086](#L4086) | removeStyleElement(styleElement); |
| [4087](#L4087) | } |
| [4088](#L4088) | }; |
| [4089](#L4089) | } |
| [4090](#L4090) | module.exports = domAPI; |
| [4091](#L4091) |  |
| [4092](#L4092) | /\*\*\*/ }), |
| [4093](#L4093) |  |
| [4094](#L4094) | /\*\*\*/ 589: |
| [4095](#L4095) | /\*\*\*/ (function(module) { |
| [4096](#L4096) |  |
| [4097](#L4097) | "use strict"; |
| [4098](#L4098) |  |
| [4099](#L4099) |  |
| [4100](#L4100) | /\* istanbul ignore next  \*/ |
| [4101](#L4101) | function styleTagTransform(css, styleElement) { |
| [4102](#L4102) | if (styleElement.styleSheet) { |
| [4103](#L4103) | styleElement.styleSheet.cssText = css; |
| [4104](#L4104) | } else { |
| [4105](#L4105) | while (styleElement.firstChild) { |
| [4106](#L4106) | styleElement.removeChild(styleElement.firstChild); |
| [4107](#L4107) | } |
| [4108](#L4108) | styleElement.appendChild(document.createTextNode(css)); |
| [4109](#L4109) | } |
| [4110](#L4110) | } |
| [4111](#L4111) | module.exports = styleTagTransform; |
| [4112](#L4112) |  |
| [4113](#L4113) | /\*\*\*/ }), |
| [4114](#L4114) |  |
| [4115](#L4115) | /\*\*\*/ 480: |
| [4116](#L4116) | /\*\*\*/ (function() { |
| [4117](#L4117) |  |
| [4118](#L4118) | /\* (ignored) \*/ |
| [4119](#L4119) |  |
| [4120](#L4120) | /\*\*\*/ }), |
| [4121](#L4121) |  |
| [4122](#L4122) | /\*\*\*/ 654: |
| [4123](#L4123) | /\*\*\*/ (function() { |
| [4124](#L4124) |  |
| [4125](#L4125) | /\* (ignored) \*/ |
| [4126](#L4126) |  |
| [4127](#L4127) | /\*\*\*/ }) |
| [4128](#L4128) |  |
| [4129](#L4129) | /\*\*\*\*\*\*/        }); |
| [4130](#L4130) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [4131](#L4131) | /\*\*\*\*\*\*/        // The module cache |
| [4132](#L4132) | /\*\*\*\*\*\*/        var \_\_webpack\_module\_cache\_\_ = {}; |
| [4133](#L4133) | /\*\*\*\*\*\*/ |
| [4134](#L4134) | /\*\*\*\*\*\*/        // The require function |
| [4135](#L4135) | /\*\*\*\*\*\*/        function \_\_webpack\_require\_\_(moduleId) { |
| [4136](#L4136) | /\*\*\*\*\*\*/                // Check if module is in cache |
| [4137](#L4137) | /\*\*\*\*\*\*/                var cachedModule = \_\_webpack\_module\_cache\_\_[moduleId]; |
| [4138](#L4138) | /\*\*\*\*\*\*/                if (cachedModule !== undefined) { |
| [4139](#L4139) | /\*\*\*\*\*\*/                        return cachedModule.exports; |
| [4140](#L4140) | /\*\*\*\*\*\*/                } |
| [4141](#L4141) | /\*\*\*\*\*\*/                // Create a new module (and put it into the cache) |
| [4142](#L4142) | /\*\*\*\*\*\*/                var module = \_\_webpack\_module\_cache\_\_[moduleId] = { |
| [4143](#L4143) | /\*\*\*\*\*\*/                        // no module.id needed |
| [4144](#L4144) | /\*\*\*\*\*\*/                        // no module.loaded needed |
| [4145](#L4145) | /\*\*\*\*\*\*/                        exports: {} |
| [4146](#L4146) | /\*\*\*\*\*\*/                }; |
| [4147](#L4147) | /\*\*\*\*\*\*/ |
| [4148](#L4148) | /\*\*\*\*\*\*/                // Execute the module function |
| [4149](#L4149) | /\*\*\*\*\*\*/                \_\_webpack\_modules\_\_[moduleId].call(module.exports, module, module.exports, \_\_webpack\_require\_\_); |
| [4150](#L4150) | /\*\*\*\*\*\*/ |
| [4151](#L4151) | /\*\*\*\*\*\*/                // Return the exports of the module |
| [4152](#L4152) | /\*\*\*\*\*\*/                return module.exports; |
| [4153](#L4153) | /\*\*\*\*\*\*/        } |
| [4154](#L4154) | /\*\*\*\*\*\*/ |
| [4155](#L4155) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [4156](#L4156) | /\*\*\*\*\*\*/        /\* webpack/runtime/compat get default export \*/ |
| [4157](#L4157) | /\*\*\*\*\*\*/        !function() { |
| [4158](#L4158) | /\*\*\*\*\*\*/                // getDefaultExport function for compatibility with non-harmony modules |
| [4159](#L4159) | /\*\*\*\*\*\*/                \_\_webpack\_require\_\_.n = function(module) { |
| [4160](#L4160) | /\*\*\*\*\*\*/                        var getter = module && module.\_\_esModule ? |
| [4161](#L4161) | /\*\*\*\*\*\*/                                function() { return module['default']; } : |
| [4162](#L4162) | /\*\*\*\*\*\*/                                function() { return module; }; |
| [4163](#L4163) | /\*\*\*\*\*\*/                        \_\_webpack\_require\_\_.d(getter, { a: getter }); |
| [4164](#L4164) | /\*\*\*\*\*\*/                        return getter; |
| [4165](#L4165) | /\*\*\*\*\*\*/                }; |
| [4166](#L4166) | /\*\*\*\*\*\*/        }(); |
| [4167](#L4167) | /\*\*\*\*\*\*/ |
| [4168](#L4168) | /\*\*\*\*\*\*/        /\* webpack/runtime/define property getters \*/ |
| [4169](#L4169) | /\*\*\*\*\*\*/        !function() { |
| [4170](#L4170) | /\*\*\*\*\*\*/                // define getter functions for harmony exports |
| [4171](#L4171) | /\*\*\*\*\*\*/                \_\_webpack\_require\_\_.d = function(exports, definition) { |
| [4172](#L4172) | /\*\*\*\*\*\*/                        for(var key in definition) { |
| [4173](#L4173) | /\*\*\*\*\*\*/                                if(\_\_webpack\_require\_\_.o(definition, key) && !\_\_webpack\_require\_\_.o(exports, key)) { |
| [4174](#L4174) | /\*\*\*\*\*\*/                                        Object.defineProperty(exports, key, { enumerable: true, get: definition[key] }); |
| [4175](#L4175) | /\*\*\*\*\*\*/                                } |
| [4176](#L4176) | /\*\*\*\*\*\*/                        } |
| [4177](#L4177) | /\*\*\*\*\*\*/                }; |
| [4178](#L4178) | /\*\*\*\*\*\*/        }(); |
| [4179](#L4179) | /\*\*\*\*\*\*/ |
| [4180](#L4180) | /\*\*\*\*\*\*/        /\* webpack/runtime/global \*/ |
| [4181](#L4181) | /\*\*\*\*\*\*/        !function() { |
| [4182](#L4182) | /\*\*\*\*\*\*/                \_\_webpack\_require\_\_.g = (function() { |
| [4183](#L4183) | /\*\*\*\*\*\*/                        if (typeof globalThis === 'object') return globalThis; |
| [4184](#L4184) | /\*\*\*\*\*\*/                        try { |
| [4185](#L4185) | /\*\*\*\*\*\*/                                return this || new Function('return this')(); |
| [4186](#L4186) | /\*\*\*\*\*\*/                        } catch (e) { |
| [4187](#L4187) | /\*\*\*\*\*\*/                                if (typeof window === 'object') return window; |
| [4188](#L4188) | /\*\*\*\*\*\*/                        } |
| [4189](#L4189) | /\*\*\*\*\*\*/                })(); |
| [4190](#L4190) | /\*\*\*\*\*\*/        }(); |
| [4191](#L4191) | /\*\*\*\*\*\*/ |
| [4192](#L4192) | /\*\*\*\*\*\*/        /\* webpack/runtime/hasOwnProperty shorthand \*/ |
| [4193](#L4193) | /\*\*\*\*\*\*/        !function() { |
| [4194](#L4194) | /\*\*\*\*\*\*/                \_\_webpack\_require\_\_.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); } |
| [4195](#L4195) | /\*\*\*\*\*\*/        }(); |
| [4196](#L4196) | /\*\*\*\*\*\*/ |
| [4197](#L4197) | /\*\*\*\*\*\*/        /\* webpack/runtime/make namespace object \*/ |
| [4198](#L4198) | /\*\*\*\*\*\*/        !function() { |
| [4199](#L4199) | /\*\*\*\*\*\*/                // define \_\_esModule on exports |
| [4200](#L4200) | /\*\*\*\*\*\*/                \_\_webpack\_require\_\_.r = function(exports) { |
| [4201](#L4201) | /\*\*\*\*\*\*/                        if(typeof Symbol !== 'undefined' && Symbol.toStringTag) { |
| [4202](#L4202) | /\*\*\*\*\*\*/                                Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' }); |
| [4203](#L4203) | /\*\*\*\*\*\*/                        } |
| [4204](#L4204) | /\*\*\*\*\*\*/                        Object.defineProperty(exports, '\_\_esModule', { value: true }); |
| [4205](#L4205) | /\*\*\*\*\*\*/                }; |
| [4206](#L4206) | /\*\*\*\*\*\*/        }(); |
| [4207](#L4207) | /\*\*\*\*\*\*/ |
| [4208](#L4208) | /\*\*\*\*\*\*/        /\* webpack/runtime/nonce \*/ |
| [4209](#L4209) | /\*\*\*\*\*\*/        !function() { |
| [4210](#L4210) | /\*\*\*\*\*\*/                \_\_webpack\_require\_\_.nc = undefined; |
| [4211](#L4211) | /\*\*\*\*\*\*/        }(); |
| [4212](#L4212) | /\*\*\*\*\*\*/ |
| [4213](#L4213) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [4214](#L4214) | var \_\_webpack\_exports\_\_ = {}; |
| [4215](#L4215) | // This entry need to be wrapped in an IIFE because it need to be in strict mode. |
| [4216](#L4216) | !function() { |
| [4217](#L4217) | "use strict"; |
| [4218](#L4218) | // ESM COMPAT FLAG |
| [4219](#L4219) | \_\_webpack\_require\_\_.r(\_\_webpack\_exports\_\_); |
| [4220](#L4220) |  |
| [4221](#L4221) | // EXPORTS |
| [4222](#L4222) | \_\_webpack\_require\_\_.d(\_\_webpack\_exports\_\_, { |
| [4223](#L4223) | almScroll: function() { return /\* binding \*/ almScroll; }, |
| [4224](#L4224) | analytics: function() { return /\* binding \*/ analytics; }, |
| [4225](#L4225) | click: function() { return /\* binding \*/ click; }, |
| [4226](#L4226) | filter: function() { return /\* binding \*/ filter; }, |
| [4227](#L4227) | getOffset: function() { return /\* binding \*/ getOffset; }, |
| [4228](#L4228) | getPostCount: function() { return /\* binding \*/ ajax\_load\_more\_getPostCount; }, |
| [4229](#L4229) | getTotalPosts: function() { return /\* binding \*/ getTotalPosts; }, |
| [4230](#L4230) | getTotalRemaining: function() { return /\* binding \*/ getTotalRemaining; }, |
| [4231](#L4231) | reset: function() { return /\* binding \*/ ajax\_load\_more\_reset; }, |
| [4232](#L4232) | start: function() { return /\* binding \*/ start; }, |
| [4233](#L4233) | wpblock: function() { return /\* binding \*/ wpblock; } |
| [4234](#L4234) | }); |
| [4235](#L4235) |  |
| [4236](#L4236) | // NAMESPACE OBJECT: ./node\_modules/axios/lib/platform/common/utils.js |
| [4237](#L4237) | var common\_utils\_namespaceObject = {}; |
| [4238](#L4238) | \_\_webpack\_require\_\_.r(common\_utils\_namespaceObject); |
| [4239](#L4239) | \_\_webpack\_require\_\_.d(common\_utils\_namespaceObject, { |
| [4240](#L4240) | hasBrowserEnv: function() { return hasBrowserEnv; }, |
| [4241](#L4241) | hasStandardBrowserEnv: function() { return hasStandardBrowserEnv; }, |
| [4242](#L4242) | hasStandardBrowserWebWorkerEnv: function() { return hasStandardBrowserWebWorkerEnv; }, |
| [4243](#L4243) | origin: function() { return origin; } |
| [4244](#L4244) | }); |
| [4245](#L4245) |  |
| [4246](#L4246) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/bind.js |
| [4247](#L4247) |  |
| [4248](#L4248) |  |
| [4249](#L4249) | function bind(fn, thisArg) { |
| [4250](#L4250) | return function wrap() { |
| [4251](#L4251) | return fn.apply(thisArg, arguments); |
| [4252](#L4252) | }; |
| [4253](#L4253) | } |
| [4254](#L4254) |  |
| [4255](#L4255) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/utils.js |
| [4256](#L4256) |  |
| [4257](#L4257) |  |
| [4258](#L4258) |  |
| [4259](#L4259) |  |
| [4260](#L4260) | // utils is a library of generic helper functions non-specific to axios |
| [4261](#L4261) |  |
| [4262](#L4262) | const {toString: utils\_toString} = Object.prototype; |
| [4263](#L4263) | const {getPrototypeOf} = Object; |
| [4264](#L4264) |  |
| [4265](#L4265) | const kindOf = (cache => thing => { |
| [4266](#L4266) | const str = utils\_toString.call(thing); |
| [4267](#L4267) | return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase()); |
| [4268](#L4268) | })(Object.create(null)); |
| [4269](#L4269) |  |
| [4270](#L4270) | const kindOfTest = (type) => { |
| [4271](#L4271) | type = type.toLowerCase(); |
| [4272](#L4272) | return (thing) => kindOf(thing) === type |
| [4273](#L4273) | } |
| [4274](#L4274) |  |
| [4275](#L4275) | const typeOfTest = type => thing => typeof thing === type; |
| [4276](#L4276) |  |
| [4277](#L4277) | /\*\* |
| [4278](#L4278) | \* Determine if a value is an Array |
| [4279](#L4279) | \* |
| [4280](#L4280) | \* @param {Object} val The value to test |
| [4281](#L4281) | \* |
| [4282](#L4282) | \* @returns {boolean} True if value is an Array, otherwise false |
| [4283](#L4283) | \*/ |
| [4284](#L4284) | const {isArray} = Array; |
| [4285](#L4285) |  |
| [4286](#L4286) | /\*\* |
| [4287](#L4287) | \* Determine if a value is undefined |
| [4288](#L4288) | \* |
| [4289](#L4289) | \* @param {\*} val The value to test |
| [4290](#L4290) | \* |
| [4291](#L4291) | \* @returns {boolean} True if the value is undefined, otherwise false |
| [4292](#L4292) | \*/ |
| [4293](#L4293) | const isUndefined = typeOfTest('undefined'); |
| [4294](#L4294) |  |
| [4295](#L4295) | /\*\* |
| [4296](#L4296) | \* Determine if a value is a Buffer |
| [4297](#L4297) | \* |
| [4298](#L4298) | \* @param {\*} val The value to test |
| [4299](#L4299) | \* |
| [4300](#L4300) | \* @returns {boolean} True if value is a Buffer, otherwise false |
| [4301](#L4301) | \*/ |
| [4302](#L4302) | function isBuffer(val) { |
| [4303](#L4303) | return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor) |
| [4304](#L4304) | && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val); |
| [4305](#L4305) | } |
| [4306](#L4306) |  |
| [4307](#L4307) | /\*\* |
| [4308](#L4308) | \* Determine if a value is an ArrayBuffer |
| [4309](#L4309) | \* |
| [4310](#L4310) | \* @param {\*} val The value to test |
| [4311](#L4311) | \* |
| [4312](#L4312) | \* @returns {boolean} True if value is an ArrayBuffer, otherwise false |
| [4313](#L4313) | \*/ |
| [4314](#L4314) | const isArrayBuffer = kindOfTest('ArrayBuffer'); |
| [4315](#L4315) |  |
| [4316](#L4316) |  |
| [4317](#L4317) | /\*\* |
| [4318](#L4318) | \* Determine if a value is a view on an ArrayBuffer |
| [4319](#L4319) | \* |
| [4320](#L4320) | \* @param {\*} val The value to test |
| [4321](#L4321) | \* |
| [4322](#L4322) | \* @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false |
| [4323](#L4323) | \*/ |
| [4324](#L4324) | function isArrayBufferView(val) { |
| [4325](#L4325) | let result; |
| [4326](#L4326) | if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) { |
| [4327](#L4327) | result = ArrayBuffer.isView(val); |
| [4328](#L4328) | } else { |
| [4329](#L4329) | result = (val) && (val.buffer) && (isArrayBuffer(val.buffer)); |
| [4330](#L4330) | } |
| [4331](#L4331) | return result; |
| [4332](#L4332) | } |
| [4333](#L4333) |  |
| [4334](#L4334) | /\*\* |
| [4335](#L4335) | \* Determine if a value is a String |
| [4336](#L4336) | \* |
| [4337](#L4337) | \* @param {\*} val The value to test |
| [4338](#L4338) | \* |
| [4339](#L4339) | \* @returns {boolean} True if value is a String, otherwise false |
| [4340](#L4340) | \*/ |
| [4341](#L4341) | const isString = typeOfTest('string'); |
| [4342](#L4342) |  |
| [4343](#L4343) | /\*\* |
| [4344](#L4344) | \* Determine if a value is a Function |
| [4345](#L4345) | \* |
| [4346](#L4346) | \* @param {\*} val The value to test |
| [4347](#L4347) | \* @returns {boolean} True if value is a Function, otherwise false |
| [4348](#L4348) | \*/ |
| [4349](#L4349) | const isFunction = typeOfTest('function'); |
| [4350](#L4350) |  |
| [4351](#L4351) | /\*\* |
| [4352](#L4352) | \* Determine if a value is a Number |
| [4353](#L4353) | \* |
| [4354](#L4354) | \* @param {\*} val The value to test |
| [4355](#L4355) | \* |
| [4356](#L4356) | \* @returns {boolean} True if value is a Number, otherwise false |
| [4357](#L4357) | \*/ |
| [4358](#L4358) | const isNumber = typeOfTest('number'); |
| [4359](#L4359) |  |
| [4360](#L4360) | /\*\* |
| [4361](#L4361) | \* Determine if a value is an Object |
| [4362](#L4362) | \* |
| [4363](#L4363) | \* @param {\*} thing The value to test |
| [4364](#L4364) | \* |
| [4365](#L4365) | \* @returns {boolean} True if value is an Object, otherwise false |
| [4366](#L4366) | \*/ |
| [4367](#L4367) | const isObject = (thing) => thing !== null && typeof thing === 'object'; |
| [4368](#L4368) |  |
| [4369](#L4369) | /\*\* |
| [4370](#L4370) | \* Determine if a value is a Boolean |
| [4371](#L4371) | \* |
| [4372](#L4372) | \* @param {\*} thing The value to test |
| [4373](#L4373) | \* @returns {boolean} True if value is a Boolean, otherwise false |
| [4374](#L4374) | \*/ |
| [4375](#L4375) | const isBoolean = thing => thing === true || thing === false; |
| [4376](#L4376) |  |
| [4377](#L4377) | /\*\* |
| [4378](#L4378) | \* Determine if a value is a plain Object |
| [4379](#L4379) | \* |
| [4380](#L4380) | \* @param {\*} val The value to test |
| [4381](#L4381) | \* |
| [4382](#L4382) | \* @returns {boolean} True if value is a plain Object, otherwise false |
| [4383](#L4383) | \*/ |
| [4384](#L4384) | const isPlainObject = (val) => { |
| [4385](#L4385) | if (kindOf(val) !== 'object') { |
| [4386](#L4386) | return false; |
| [4387](#L4387) | } |
| [4388](#L4388) |  |
| [4389](#L4389) | const prototype = getPrototypeOf(val); |
| [4390](#L4390) | return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val); |
| [4391](#L4391) | } |
| [4392](#L4392) |  |
| [4393](#L4393) | /\*\* |
| [4394](#L4394) | \* Determine if a value is a Date |
| [4395](#L4395) | \* |
| [4396](#L4396) | \* @param {\*} val The value to test |
| [4397](#L4397) | \* |
| [4398](#L4398) | \* @returns {boolean} True if value is a Date, otherwise false |
| [4399](#L4399) | \*/ |
| [4400](#L4400) | const isDate = kindOfTest('Date'); |
| [4401](#L4401) |  |
| [4402](#L4402) | /\*\* |
| [4403](#L4403) | \* Determine if a value is a File |
| [4404](#L4404) | \* |
| [4405](#L4405) | \* @param {\*} val The value to test |
| [4406](#L4406) | \* |
| [4407](#L4407) | \* @returns {boolean} True if value is a File, otherwise false |
| [4408](#L4408) | \*/ |
| [4409](#L4409) | const isFile = kindOfTest('File'); |
| [4410](#L4410) |  |
| [4411](#L4411) | /\*\* |
| [4412](#L4412) | \* Determine if a value is a Blob |
| [4413](#L4413) | \* |
| [4414](#L4414) | \* @param {\*} val The value to test |
| [4415](#L4415) | \* |
| [4416](#L4416) | \* @returns {boolean} True if value is a Blob, otherwise false |
| [4417](#L4417) | \*/ |
| [4418](#L4418) | const isBlob = kindOfTest('Blob'); |
| [4419](#L4419) |  |
| [4420](#L4420) | /\*\* |
| [4421](#L4421) | \* Determine if a value is a FileList |
| [4422](#L4422) | \* |
| [4423](#L4423) | \* @param {\*} val The value to test |
| [4424](#L4424) | \* |
| [4425](#L4425) | \* @returns {boolean} True if value is a File, otherwise false |
| [4426](#L4426) | \*/ |
| [4427](#L4427) | const isFileList = kindOfTest('FileList'); |
| [4428](#L4428) |  |
| [4429](#L4429) | /\*\* |
| [4430](#L4430) | \* Determine if a value is a Stream |
| [4431](#L4431) | \* |
| [4432](#L4432) | \* @param {\*} val The value to test |
| [4433](#L4433) | \* |
| [4434](#L4434) | \* @returns {boolean} True if value is a Stream, otherwise false |
| [4435](#L4435) | \*/ |
| [4436](#L4436) | const isStream = (val) => isObject(val) && isFunction(val.pipe); |
| [4437](#L4437) |  |
| [4438](#L4438) | /\*\* |
| [4439](#L4439) | \* Determine if a value is a FormData |
| [4440](#L4440) | \* |
| [4441](#L4441) | \* @param {\*} thing The value to test |
| [4442](#L4442) | \* |
| [4443](#L4443) | \* @returns {boolean} True if value is an FormData, otherwise false |
| [4444](#L4444) | \*/ |
| [4445](#L4445) | const isFormData = (thing) => { |
| [4446](#L4446) | let kind; |
| [4447](#L4447) | return thing && ( |
| [4448](#L4448) | (typeof FormData === 'function' && thing instanceof FormData) || ( |
| [4449](#L4449) | isFunction(thing.append) && ( |
| [4450](#L4450) | (kind = kindOf(thing)) === 'formdata' || |
| [4451](#L4451) | // detect form-data instance |
| [4452](#L4452) | (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]') |
| [4453](#L4453) | ) |
| [4454](#L4454) | ) |
| [4455](#L4455) | ) |
| [4456](#L4456) | } |
| [4457](#L4457) |  |
| [4458](#L4458) | /\*\* |
| [4459](#L4459) | \* Determine if a value is a URLSearchParams object |
| [4460](#L4460) | \* |
| [4461](#L4461) | \* @param {\*} val The value to test |
| [4462](#L4462) | \* |
| [4463](#L4463) | \* @returns {boolean} True if value is a URLSearchParams object, otherwise false |
| [4464](#L4464) | \*/ |
| [4465](#L4465) | const isURLSearchParams = kindOfTest('URLSearchParams'); |
| [4466](#L4466) |  |
| [4467](#L4467) | const [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest); |
| [4468](#L4468) |  |
| [4469](#L4469) | /\*\* |
| [4470](#L4470) | \* Trim excess whitespace off the beginning and end of a string |
| [4471](#L4471) | \* |
| [4472](#L4472) | \* @param {String} str The String to trim |
| [4473](#L4473) | \* |
| [4474](#L4474) | \* @returns {String} The String freed of excess whitespace |
| [4475](#L4475) | \*/ |
| [4476](#L4476) | const trim = (str) => str.trim ? |
| [4477](#L4477) | str.trim() : str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ''); |
| [4478](#L4478) |  |
| [4479](#L4479) | /\*\* |
| [4480](#L4480) | \* Iterate over an Array or an Object invoking a function for each item. |
| [4481](#L4481) | \* |
| [4482](#L4482) | \* If `obj` is an Array callback will be called passing |
| [4483](#L4483) | \* the value, index, and complete array for each item. |
| [4484](#L4484) | \* |
| [4485](#L4485) | \* If 'obj' is an Object callback will be called passing |
| [4486](#L4486) | \* the value, key, and complete object for each property. |
| [4487](#L4487) | \* |
| [4488](#L4488) | \* @param {Object|Array} obj The object to iterate |
| [4489](#L4489) | \* @param {Function} fn The callback to invoke for each item |
| [4490](#L4490) | \* |
| [4491](#L4491) | \* @param {Boolean} [allOwnKeys = false] |
| [4492](#L4492) | \* @returns {any} |
| [4493](#L4493) | \*/ |
| [4494](#L4494) | function forEach(obj, fn, {allOwnKeys = false} = {}) { |
| [4495](#L4495) | // Don't bother if no value provided |
| [4496](#L4496) | if (obj === null || typeof obj === 'undefined') { |
| [4497](#L4497) | return; |
| [4498](#L4498) | } |
| [4499](#L4499) |  |
| [4500](#L4500) | let i; |
| [4501](#L4501) | let l; |
| [4502](#L4502) |  |
| [4503](#L4503) | // Force an array if not already something iterable |
| [4504](#L4504) | if (typeof obj !== 'object') { |
| [4505](#L4505) | /\*eslint no-param-reassign:0\*/ |
| [4506](#L4506) | obj = [obj]; |
| [4507](#L4507) | } |
| [4508](#L4508) |  |
| [4509](#L4509) | if (isArray(obj)) { |
| [4510](#L4510) | // Iterate over array values |
| [4511](#L4511) | for (i = 0, l = obj.length; i < l; i++) { |
| [4512](#L4512) | fn.call(null, obj[i], i, obj); |
| [4513](#L4513) | } |
| [4514](#L4514) | } else { |
| [4515](#L4515) | // Iterate over object keys |
| [4516](#L4516) | const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj); |
| [4517](#L4517) | const len = keys.length; |
| [4518](#L4518) | let key; |
| [4519](#L4519) |  |
| [4520](#L4520) | for (i = 0; i < len; i++) { |
| [4521](#L4521) | key = keys[i]; |
| [4522](#L4522) | fn.call(null, obj[key], key, obj); |
| [4523](#L4523) | } |
| [4524](#L4524) | } |
| [4525](#L4525) | } |
| [4526](#L4526) |  |
| [4527](#L4527) | function findKey(obj, key) { |
| [4528](#L4528) | key = key.toLowerCase(); |
| [4529](#L4529) | const keys = Object.keys(obj); |
| [4530](#L4530) | let i = keys.length; |
| [4531](#L4531) | let \_key; |
| [4532](#L4532) | while (i-- > 0) { |
| [4533](#L4533) | \_key = keys[i]; |
| [4534](#L4534) | if (key === \_key.toLowerCase()) { |
| [4535](#L4535) | return \_key; |
| [4536](#L4536) | } |
| [4537](#L4537) | } |
| [4538](#L4538) | return null; |
| [4539](#L4539) | } |
| [4540](#L4540) |  |
| [4541](#L4541) | const \_global = (() => { |
| [4542](#L4542) | /\*eslint no-undef:0\*/ |
| [4543](#L4543) | if (typeof globalThis !== "undefined") return globalThis; |
| [4544](#L4544) | return typeof self !== "undefined" ? self : (typeof window !== 'undefined' ? window : global) |
| [4545](#L4545) | })(); |
| [4546](#L4546) |  |
| [4547](#L4547) | const isContextDefined = (context) => !isUndefined(context) && context !== \_global; |
| [4548](#L4548) |  |
| [4549](#L4549) | /\*\* |
| [4550](#L4550) | \* Accepts varargs expecting each argument to be an object, then |
| [4551](#L4551) | \* immutably merges the properties of each object and returns result. |
| [4552](#L4552) | \* |
| [4553](#L4553) | \* When multiple objects contain the same key the later object in |
| [4554](#L4554) | \* the arguments list will take precedence. |
| [4555](#L4555) | \* |
| [4556](#L4556) | \* Example: |
| [4557](#L4557) | \* |
| [4558](#L4558) | \* ```js |
| [4559](#L4559) | \* var result = merge({foo: 123}, {foo: 456}); |
| [4560](#L4560) | \* console.log(result.foo); // outputs 456 |
| [4561](#L4561) | \* ``` |
| [4562](#L4562) | \* |
| [4563](#L4563) | \* @param {Object} obj1 Object to merge |
| [4564](#L4564) | \* |
| [4565](#L4565) | \* @returns {Object} Result of all merge properties |
| [4566](#L4566) | \*/ |
| [4567](#L4567) | function merge(/\* obj1, obj2, obj3, ... \*/) { |
| [4568](#L4568) | const {caseless} = isContextDefined(this) && this || {}; |
| [4569](#L4569) | const result = {}; |
| [4570](#L4570) | const assignValue = (val, key) => { |
| [4571](#L4571) | const targetKey = caseless && findKey(result, key) || key; |
| [4572](#L4572) | if (isPlainObject(result[targetKey]) && isPlainObject(val)) { |
| [4573](#L4573) | result[targetKey] = merge(result[targetKey], val); |
| [4574](#L4574) | } else if (isPlainObject(val)) { |
| [4575](#L4575) | result[targetKey] = merge({}, val); |
| [4576](#L4576) | } else if (isArray(val)) { |
| [4577](#L4577) | result[targetKey] = val.slice(); |
| [4578](#L4578) | } else { |
| [4579](#L4579) | result[targetKey] = val; |
| [4580](#L4580) | } |
| [4581](#L4581) | } |
| [4582](#L4582) |  |
| [4583](#L4583) | for (let i = 0, l = arguments.length; i < l; i++) { |
| [4584](#L4584) | arguments[i] && forEach(arguments[i], assignValue); |
| [4585](#L4585) | } |
| [4586](#L4586) | return result; |
| [4587](#L4587) | } |
| [4588](#L4588) |  |
| [4589](#L4589) | /\*\* |
| [4590](#L4590) | \* Extends object a by mutably adding to it the properties of object b. |
| [4591](#L4591) | \* |
| [4592](#L4592) | \* @param {Object} a The object to be extended |
| [4593](#L4593) | \* @param {Object} b The object to copy properties from |
| [4594](#L4594) | \* @param {Object} thisArg The object to bind function to |
| [4595](#L4595) | \* |
| [4596](#L4596) | \* @param {Boolean} [allOwnKeys] |
| [4597](#L4597) | \* @returns {Object} The resulting value of object a |
| [4598](#L4598) | \*/ |
| [4599](#L4599) | const extend = (a, b, thisArg, {allOwnKeys}= {}) => { |
| [4600](#L4600) | forEach(b, (val, key) => { |
| [4601](#L4601) | if (thisArg && isFunction(val)) { |
| [4602](#L4602) | a[key] = bind(val, thisArg); |
| [4603](#L4603) | } else { |
| [4604](#L4604) | a[key] = val; |
| [4605](#L4605) | } |
| [4606](#L4606) | }, {allOwnKeys}); |
| [4607](#L4607) | return a; |
| [4608](#L4608) | } |
| [4609](#L4609) |  |
| [4610](#L4610) | /\*\* |
| [4611](#L4611) | \* Remove byte order marker. This catches EF BB BF (the UTF-8 BOM) |
| [4612](#L4612) | \* |
| [4613](#L4613) | \* @param {string} content with BOM |
| [4614](#L4614) | \* |
| [4615](#L4615) | \* @returns {string} content value without BOM |
| [4616](#L4616) | \*/ |
| [4617](#L4617) | const stripBOM = (content) => { |
| [4618](#L4618) | if (content.charCodeAt(0) === 0xFEFF) { |
| [4619](#L4619) | content = content.slice(1); |
| [4620](#L4620) | } |
| [4621](#L4621) | return content; |
| [4622](#L4622) | } |
| [4623](#L4623) |  |
| [4624](#L4624) | /\*\* |
| [4625](#L4625) | \* Inherit the prototype methods from one constructor into another |
| [4626](#L4626) | \* @param {function} constructor |
| [4627](#L4627) | \* @param {function} superConstructor |
| [4628](#L4628) | \* @param {object} [props] |
| [4629](#L4629) | \* @param {object} [descriptors] |
| [4630](#L4630) | \* |
| [4631](#L4631) | \* @returns {void} |
| [4632](#L4632) | \*/ |
| [4633](#L4633) | const inherits = (constructor, superConstructor, props, descriptors) => { |
| [4634](#L4634) | constructor.prototype = Object.create(superConstructor.prototype, descriptors); |
| [4635](#L4635) | constructor.prototype.constructor = constructor; |
| [4636](#L4636) | Object.defineProperty(constructor, 'super', { |
| [4637](#L4637) | value: superConstructor.prototype |
| [4638](#L4638) | }); |
| [4639](#L4639) | props && Object.assign(constructor.prototype, props); |
| [4640](#L4640) | } |
| [4641](#L4641) |  |
| [4642](#L4642) | /\*\* |
| [4643](#L4643) | \* Resolve object with deep prototype chain to a flat object |
| [4644](#L4644) | \* @param {Object} sourceObj source object |
| [4645](#L4645) | \* @param {Object} [destObj] |
| [4646](#L4646) | \* @param {Function|Boolean} [filter] |
| [4647](#L4647) | \* @param {Function} [propFilter] |
| [4648](#L4648) | \* |
| [4649](#L4649) | \* @returns {Object} |
| [4650](#L4650) | \*/ |
| [4651](#L4651) | const toFlatObject = (sourceObj, destObj, filter, propFilter) => { |
| [4652](#L4652) | let props; |
| [4653](#L4653) | let i; |
| [4654](#L4654) | let prop; |
| [4655](#L4655) | const merged = {}; |
| [4656](#L4656) |  |
| [4657](#L4657) | destObj = destObj || {}; |
| [4658](#L4658) | // eslint-disable-next-line no-eq-null,eqeqeq |
| [4659](#L4659) | if (sourceObj == null) return destObj; |
| [4660](#L4660) |  |
| [4661](#L4661) | do { |
| [4662](#L4662) | props = Object.getOwnPropertyNames(sourceObj); |
| [4663](#L4663) | i = props.length; |
| [4664](#L4664) | while (i-- > 0) { |
| [4665](#L4665) | prop = props[i]; |
| [4666](#L4666) | if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) { |
| [4667](#L4667) | destObj[prop] = sourceObj[prop]; |
| [4668](#L4668) | merged[prop] = true; |
| [4669](#L4669) | } |
| [4670](#L4670) | } |
| [4671](#L4671) | sourceObj = filter !== false && getPrototypeOf(sourceObj); |
| [4672](#L4672) | } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype); |
| [4673](#L4673) |  |
| [4674](#L4674) | return destObj; |
| [4675](#L4675) | } |
| [4676](#L4676) |  |
| [4677](#L4677) | /\*\* |
| [4678](#L4678) | \* Determines whether a string ends with the characters of a specified string |
| [4679](#L4679) | \* |
| [4680](#L4680) | \* @param {String} str |
| [4681](#L4681) | \* @param {String} searchString |
| [4682](#L4682) | \* @param {Number} [position= 0] |
| [4683](#L4683) | \* |
| [4684](#L4684) | \* @returns {boolean} |
| [4685](#L4685) | \*/ |
| [4686](#L4686) | const endsWith = (str, searchString, position) => { |
| [4687](#L4687) | str = String(str); |
| [4688](#L4688) | if (position === undefined || position > str.length) { |
| [4689](#L4689) | position = str.length; |
| [4690](#L4690) | } |
| [4691](#L4691) | position -= searchString.length; |
| [4692](#L4692) | const lastIndex = str.indexOf(searchString, position); |
| [4693](#L4693) | return lastIndex !== -1 && lastIndex === position; |
| [4694](#L4694) | } |
| [4695](#L4695) |  |
| [4696](#L4696) |  |
| [4697](#L4697) | /\*\* |
| [4698](#L4698) | \* Returns new array from array like object or null if failed |
| [4699](#L4699) | \* |
| [4700](#L4700) | \* @param {\*} [thing] |
| [4701](#L4701) | \* |
| [4702](#L4702) | \* @returns {?Array} |
| [4703](#L4703) | \*/ |
| [4704](#L4704) | const toArray = (thing) => { |
| [4705](#L4705) | if (!thing) return null; |
| [4706](#L4706) | if (isArray(thing)) return thing; |
| [4707](#L4707) | let i = thing.length; |
| [4708](#L4708) | if (!isNumber(i)) return null; |
| [4709](#L4709) | const arr = new Array(i); |
| [4710](#L4710) | while (i-- > 0) { |
| [4711](#L4711) | arr[i] = thing[i]; |
| [4712](#L4712) | } |
| [4713](#L4713) | return arr; |
| [4714](#L4714) | } |
| [4715](#L4715) |  |
| [4716](#L4716) | /\*\* |
| [4717](#L4717) | \* Checking if the Uint8Array exists and if it does, it returns a function that checks if the |
| [4718](#L4718) | \* thing passed in is an instance of Uint8Array |
| [4719](#L4719) | \* |
| [4720](#L4720) | \* @param {TypedArray} |
| [4721](#L4721) | \* |
| [4722](#L4722) | \* @returns {Array} |
| [4723](#L4723) | \*/ |
| [4724](#L4724) | // eslint-disable-next-line func-names |
| [4725](#L4725) | const isTypedArray = (TypedArray => { |
| [4726](#L4726) | // eslint-disable-next-line func-names |
| [4727](#L4727) | return thing => { |
| [4728](#L4728) | return TypedArray && thing instanceof TypedArray; |
| [4729](#L4729) | }; |
| [4730](#L4730) | })(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array)); |
| [4731](#L4731) |  |
| [4732](#L4732) | /\*\* |
| [4733](#L4733) | \* For each entry in the object, call the function with the key and value. |
| [4734](#L4734) | \* |
| [4735](#L4735) | \* @param {Object<any, any>} obj - The object to iterate over. |
| [4736](#L4736) | \* @param {Function} fn - The function to call for each entry. |
| [4737](#L4737) | \* |
| [4738](#L4738) | \* @returns {void} |
| [4739](#L4739) | \*/ |
| [4740](#L4740) | const forEachEntry = (obj, fn) => { |
| [4741](#L4741) | const generator = obj && obj[Symbol.iterator]; |
| [4742](#L4742) |  |
| [4743](#L4743) | const iterator = generator.call(obj); |
| [4744](#L4744) |  |
| [4745](#L4745) | let result; |
| [4746](#L4746) |  |
| [4747](#L4747) | while ((result = iterator.next()) && !result.done) { |
| [4748](#L4748) | const pair = result.value; |
| [4749](#L4749) | fn.call(obj, pair[0], pair[1]); |
| [4750](#L4750) | } |
| [4751](#L4751) | } |
| [4752](#L4752) |  |
| [4753](#L4753) | /\*\* |
| [4754](#L4754) | \* It takes a regular expression and a string, and returns an array of all the matches |
| [4755](#L4755) | \* |
| [4756](#L4756) | \* @param {string} regExp - The regular expression to match against. |
| [4757](#L4757) | \* @param {string} str - The string to search. |
| [4758](#L4758) | \* |
| [4759](#L4759) | \* @returns {Array<boolean>} |
| [4760](#L4760) | \*/ |
| [4761](#L4761) | const matchAll = (regExp, str) => { |
| [4762](#L4762) | let matches; |
| [4763](#L4763) | const arr = []; |
| [4764](#L4764) |  |
| [4765](#L4765) | while ((matches = regExp.exec(str)) !== null) { |
| [4766](#L4766) | arr.push(matches); |
| [4767](#L4767) | } |
| [4768](#L4768) |  |
| [4769](#L4769) | return arr; |
| [4770](#L4770) | } |
| [4771](#L4771) |  |
| [4772](#L4772) | /\* Checking if the kindOfTest function returns true when passed an HTMLFormElement. \*/ |
| [4773](#L4773) | const isHTMLForm = kindOfTest('HTMLFormElement'); |
| [4774](#L4774) |  |
| [4775](#L4775) | const toCamelCase = str => { |
| [4776](#L4776) | return str.toLowerCase().replace(/[-\_\s]([a-z\d])(\w\*)/g, |
| [4777](#L4777) | function replacer(m, p1, p2) { |
| [4778](#L4778) | return p1.toUpperCase() + p2; |
| [4779](#L4779) | } |
| [4780](#L4780) | ); |
| [4781](#L4781) | }; |
| [4782](#L4782) |  |
| [4783](#L4783) | /\* Creating a function that will check if an object has a property. \*/ |
| [4784](#L4784) | const utils\_hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype); |
| [4785](#L4785) |  |
| [4786](#L4786) | /\*\* |
| [4787](#L4787) | \* Determine if a value is a RegExp object |
| [4788](#L4788) | \* |
| [4789](#L4789) | \* @param {\*} val The value to test |
| [4790](#L4790) | \* |
| [4791](#L4791) | \* @returns {boolean} True if value is a RegExp object, otherwise false |
| [4792](#L4792) | \*/ |
| [4793](#L4793) | const isRegExp = kindOfTest('RegExp'); |
| [4794](#L4794) |  |
| [4795](#L4795) | const reduceDescriptors = (obj, reducer) => { |
| [4796](#L4796) | const descriptors = Object.getOwnPropertyDescriptors(obj); |
| [4797](#L4797) | const reducedDescriptors = {}; |
| [4798](#L4798) |  |
| [4799](#L4799) | forEach(descriptors, (descriptor, name) => { |
| [4800](#L4800) | let ret; |
| [4801](#L4801) | if ((ret = reducer(descriptor, name, obj)) !== false) { |
| [4802](#L4802) | reducedDescriptors[name] = ret || descriptor; |
| [4803](#L4803) | } |
| [4804](#L4804) | }); |
| [4805](#L4805) |  |
| [4806](#L4806) | Object.defineProperties(obj, reducedDescriptors); |
| [4807](#L4807) | } |
| [4808](#L4808) |  |
| [4809](#L4809) | /\*\* |
| [4810](#L4810) | \* Makes all methods read-only |
| [4811](#L4811) | \* @param {Object} obj |
| [4812](#L4812) | \*/ |
| [4813](#L4813) |  |
| [4814](#L4814) | const freezeMethods = (obj) => { |
| [4815](#L4815) | reduceDescriptors(obj, (descriptor, name) => { |
| [4816](#L4816) | // skip restricted props in strict mode |
| [4817](#L4817) | if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) { |
| [4818](#L4818) | return false; |
| [4819](#L4819) | } |
| [4820](#L4820) |  |
| [4821](#L4821) | const value = obj[name]; |
| [4822](#L4822) |  |
| [4823](#L4823) | if (!isFunction(value)) return; |
| [4824](#L4824) |  |
| [4825](#L4825) | descriptor.enumerable = false; |
| [4826](#L4826) |  |
| [4827](#L4827) | if ('writable' in descriptor) { |
| [4828](#L4828) | descriptor.writable = false; |
| [4829](#L4829) | return; |
| [4830](#L4830) | } |
| [4831](#L4831) |  |
| [4832](#L4832) | if (!descriptor.set) { |
| [4833](#L4833) | descriptor.set = () => { |
| [4834](#L4834) | throw Error('Can not rewrite read-only method \'' + name + '\''); |
| [4835](#L4835) | }; |
| [4836](#L4836) | } |
| [4837](#L4837) | }); |
| [4838](#L4838) | } |
| [4839](#L4839) |  |
| [4840](#L4840) | const toObjectSet = (arrayOrString, delimiter) => { |
| [4841](#L4841) | const obj = {}; |
| [4842](#L4842) |  |
| [4843](#L4843) | const define = (arr) => { |
| [4844](#L4844) | arr.forEach(value => { |
| [4845](#L4845) | obj[value] = true; |
| [4846](#L4846) | }); |
| [4847](#L4847) | } |
| [4848](#L4848) |  |
| [4849](#L4849) | isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter)); |
| [4850](#L4850) |  |
| [4851](#L4851) | return obj; |
| [4852](#L4852) | } |
| [4853](#L4853) |  |
| [4854](#L4854) | const noop = () => {} |
| [4855](#L4855) |  |
| [4856](#L4856) | const toFiniteNumber = (value, defaultValue) => { |
| [4857](#L4857) | return value != null && Number.isFinite(value = +value) ? value : defaultValue; |
| [4858](#L4858) | } |
| [4859](#L4859) |  |
| [4860](#L4860) | const ALPHA = 'abcdefghijklmnopqrstuvwxyz' |
| [4861](#L4861) |  |
| [4862](#L4862) | const DIGIT = '0123456789'; |
| [4863](#L4863) |  |
| [4864](#L4864) | const ALPHABET = { |
| [4865](#L4865) | DIGIT, |
| [4866](#L4866) | ALPHA, |
| [4867](#L4867) | ALPHA\_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT |
| [4868](#L4868) | } |
| [4869](#L4869) |  |
| [4870](#L4870) | const generateString = (size = 16, alphabet = ALPHABET.ALPHA\_DIGIT) => { |
| [4871](#L4871) | let str = ''; |
| [4872](#L4872) | const {length} = alphabet; |
| [4873](#L4873) | while (size--) { |
| [4874](#L4874) | str += alphabet[Math.random() \* length|0] |
| [4875](#L4875) | } |
| [4876](#L4876) |  |
| [4877](#L4877) | return str; |
| [4878](#L4878) | } |
| [4879](#L4879) |  |
| [4880](#L4880) | /\*\* |
| [4881](#L4881) | \* If the thing is a FormData object, return true, otherwise return false. |
| [4882](#L4882) | \* |
| [4883](#L4883) | \* @param {unknown} thing - The thing to check. |
| [4884](#L4884) | \* |
| [4885](#L4885) | \* @returns {boolean} |
| [4886](#L4886) | \*/ |
| [4887](#L4887) | function isSpecCompliantForm(thing) { |
| [4888](#L4888) | return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]); |
| [4889](#L4889) | } |
| [4890](#L4890) |  |
| [4891](#L4891) | const toJSONObject = (obj) => { |
| [4892](#L4892) | const stack = new Array(10); |
| [4893](#L4893) |  |
| [4894](#L4894) | const visit = (source, i) => { |
| [4895](#L4895) |  |
| [4896](#L4896) | if (isObject(source)) { |
| [4897](#L4897) | if (stack.indexOf(source) >= 0) { |
| [4898](#L4898) | return; |
| [4899](#L4899) | } |
| [4900](#L4900) |  |
| [4901](#L4901) | if(!('toJSON' in source)) { |
| [4902](#L4902) | stack[i] = source; |
| [4903](#L4903) | const target = isArray(source) ? [] : {}; |
| [4904](#L4904) |  |
| [4905](#L4905) | forEach(source, (value, key) => { |
| [4906](#L4906) | const reducedValue = visit(value, i + 1); |
| [4907](#L4907) | !isUndefined(reducedValue) && (target[key] = reducedValue); |
| [4908](#L4908) | }); |
| [4909](#L4909) |  |
| [4910](#L4910) | stack[i] = undefined; |
| [4911](#L4911) |  |
| [4912](#L4912) | return target; |
| [4913](#L4913) | } |
| [4914](#L4914) | } |
| [4915](#L4915) |  |
| [4916](#L4916) | return source; |
| [4917](#L4917) | } |
| [4918](#L4918) |  |
| [4919](#L4919) | return visit(obj, 0); |
| [4920](#L4920) | } |
| [4921](#L4921) |  |
| [4922](#L4922) | const isAsyncFn = kindOfTest('AsyncFunction'); |
| [4923](#L4923) |  |
| [4924](#L4924) | const isThenable = (thing) => |
| [4925](#L4925) | thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch); |
| [4926](#L4926) |  |
| [4927](#L4927) | /\* harmony default export \*/ var utils = ({ |
| [4928](#L4928) | isArray, |
| [4929](#L4929) | isArrayBuffer, |
| [4930](#L4930) | isBuffer, |
| [4931](#L4931) | isFormData, |
| [4932](#L4932) | isArrayBufferView, |
| [4933](#L4933) | isString, |
| [4934](#L4934) | isNumber, |
| [4935](#L4935) | isBoolean, |
| [4936](#L4936) | isObject, |
| [4937](#L4937) | isPlainObject, |
| [4938](#L4938) | isReadableStream, |
| [4939](#L4939) | isRequest, |
| [4940](#L4940) | isResponse, |
| [4941](#L4941) | isHeaders, |
| [4942](#L4942) | isUndefined, |
| [4943](#L4943) | isDate, |
| [4944](#L4944) | isFile, |
| [4945](#L4945) | isBlob, |
| [4946](#L4946) | isRegExp, |
| [4947](#L4947) | isFunction, |
| [4948](#L4948) | isStream, |
| [4949](#L4949) | isURLSearchParams, |
| [4950](#L4950) | isTypedArray, |
| [4951](#L4951) | isFileList, |
| [4952](#L4952) | forEach, |
| [4953](#L4953) | merge, |
| [4954](#L4954) | extend, |
| [4955](#L4955) | trim, |
| [4956](#L4956) | stripBOM, |
| [4957](#L4957) | inherits, |
| [4958](#L4958) | toFlatObject, |
| [4959](#L4959) | kindOf, |
| [4960](#L4960) | kindOfTest, |
| [4961](#L4961) | endsWith, |
| [4962](#L4962) | toArray, |
| [4963](#L4963) | forEachEntry, |
| [4964](#L4964) | matchAll, |
| [4965](#L4965) | isHTMLForm, |
| [4966](#L4966) | hasOwnProperty: utils\_hasOwnProperty, |
| [4967](#L4967) | hasOwnProp: utils\_hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection |
| [4968](#L4968) | reduceDescriptors, |
| [4969](#L4969) | freezeMethods, |
| [4970](#L4970) | toObjectSet, |
| [4971](#L4971) | toCamelCase, |
| [4972](#L4972) | noop, |
| [4973](#L4973) | toFiniteNumber, |
| [4974](#L4974) | findKey, |
| [4975](#L4975) | global: \_global, |
| [4976](#L4976) | isContextDefined, |
| [4977](#L4977) | ALPHABET, |
| [4978](#L4978) | generateString, |
| [4979](#L4979) | isSpecCompliantForm, |
| [4980](#L4980) | toJSONObject, |
| [4981](#L4981) | isAsyncFn, |
| [4982](#L4982) | isThenable |
| [4983](#L4983) | }); |
| [4984](#L4984) |  |
| [4985](#L4985) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/core/AxiosError.js |
| [4986](#L4986) |  |
| [4987](#L4987) |  |
| [4988](#L4988) |  |
| [4989](#L4989) |  |
| [4990](#L4990) | /\*\* |
| [4991](#L4991) | \* Create an Error with the specified message, config, error code, request and response. |
| [4992](#L4992) | \* |
| [4993](#L4993) | \* @param {string} message The error message. |
| [4994](#L4994) | \* @param {string} [code] The error code (for example, 'ECONNABORTED'). |
| [4995](#L4995) | \* @param {Object} [config] The config. |
| [4996](#L4996) | \* @param {Object} [request] The request. |
| [4997](#L4997) | \* @param {Object} [response] The response. |
| [4998](#L4998) | \* |
| [4999](#L4999) | \* @returns {Error} The created error. |
| [5000](#L5000) | \*/ |
| [5001](#L5001) | function AxiosError(message, code, config, request, response) { |
| [5002](#L5002) | Error.call(this); |
| [5003](#L5003) |  |
| [5004](#L5004) | if (Error.captureStackTrace) { |
| [5005](#L5005) | Error.captureStackTrace(this, this.constructor); |
| [5006](#L5006) | } else { |
| [5007](#L5007) | this.stack = (new Error()).stack; |
| [5008](#L5008) | } |
| [5009](#L5009) |  |
| [5010](#L5010) | this.message = message; |
| [5011](#L5011) | this.name = 'AxiosError'; |
| [5012](#L5012) | code && (this.code = code); |
| [5013](#L5013) | config && (this.config = config); |
| [5014](#L5014) | request && (this.request = request); |
| [5015](#L5015) | response && (this.response = response); |
| [5016](#L5016) | } |
| [5017](#L5017) |  |
| [5018](#L5018) | utils.inherits(AxiosError, Error, { |
| [5019](#L5019) | toJSON: function toJSON() { |
| [5020](#L5020) | return { |
| [5021](#L5021) | // Standard |
| [5022](#L5022) | message: this.message, |
| [5023](#L5023) | name: this.name, |
| [5024](#L5024) | // Microsoft |
| [5025](#L5025) | description: this.description, |
| [5026](#L5026) | number: this.number, |
| [5027](#L5027) | // Mozilla |
| [5028](#L5028) | fileName: this.fileName, |
| [5029](#L5029) | lineNumber: this.lineNumber, |
| [5030](#L5030) | columnNumber: this.columnNumber, |
| [5031](#L5031) | stack: this.stack, |
| [5032](#L5032) | // Axios |
| [5033](#L5033) | config: utils.toJSONObject(this.config), |
| [5034](#L5034) | code: this.code, |
| [5035](#L5035) | status: this.response && this.response.status ? this.response.status : null |
| [5036](#L5036) | }; |
| [5037](#L5037) | } |
| [5038](#L5038) | }); |
| [5039](#L5039) |  |
| [5040](#L5040) | const AxiosError\_prototype = AxiosError.prototype; |
| [5041](#L5041) | const descriptors = {}; |
| [5042](#L5042) |  |
| [5043](#L5043) | [ |
| [5044](#L5044) | 'ERR\_BAD\_OPTION\_VALUE', |
| [5045](#L5045) | 'ERR\_BAD\_OPTION', |
| [5046](#L5046) | 'ECONNABORTED', |
| [5047](#L5047) | 'ETIMEDOUT', |
| [5048](#L5048) | 'ERR\_NETWORK', |
| [5049](#L5049) | 'ERR\_FR\_TOO\_MANY\_REDIRECTS', |
| [5050](#L5050) | 'ERR\_DEPRECATED', |
| [5051](#L5051) | 'ERR\_BAD\_RESPONSE', |
| [5052](#L5052) | 'ERR\_BAD\_REQUEST', |
| [5053](#L5053) | 'ERR\_CANCELED', |
| [5054](#L5054) | 'ERR\_NOT\_SUPPORT', |
| [5055](#L5055) | 'ERR\_INVALID\_URL' |
| [5056](#L5056) | // eslint-disable-next-line func-names |
| [5057](#L5057) | ].forEach(code => { |
| [5058](#L5058) | descriptors[code] = {value: code}; |
| [5059](#L5059) | }); |
| [5060](#L5060) |  |
| [5061](#L5061) | Object.defineProperties(AxiosError, descriptors); |
| [5062](#L5062) | Object.defineProperty(AxiosError\_prototype, 'isAxiosError', {value: true}); |
| [5063](#L5063) |  |
| [5064](#L5064) | // eslint-disable-next-line func-names |
| [5065](#L5065) | AxiosError.from = (error, code, config, request, response, customProps) => { |
| [5066](#L5066) | const axiosError = Object.create(AxiosError\_prototype); |
| [5067](#L5067) |  |
| [5068](#L5068) | utils.toFlatObject(error, axiosError, function filter(obj) { |
| [5069](#L5069) | return obj !== Error.prototype; |
| [5070](#L5070) | }, prop => { |
| [5071](#L5071) | return prop !== 'isAxiosError'; |
| [5072](#L5072) | }); |
| [5073](#L5073) |  |
| [5074](#L5074) | AxiosError.call(axiosError, error.message, code, config, request, response); |
| [5075](#L5075) |  |
| [5076](#L5076) | axiosError.cause = error; |
| [5077](#L5077) |  |
| [5078](#L5078) | axiosError.name = error.name; |
| [5079](#L5079) |  |
| [5080](#L5080) | customProps && Object.assign(axiosError, customProps); |
| [5081](#L5081) |  |
| [5082](#L5082) | return axiosError; |
| [5083](#L5083) | }; |
| [5084](#L5084) |  |
| [5085](#L5085) | /\* harmony default export \*/ var core\_AxiosError = (AxiosError); |
| [5086](#L5086) |  |
| [5087](#L5087) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/null.js |
| [5088](#L5088) | // eslint-disable-next-line strict |
| [5089](#L5089) | /\* harmony default export \*/ var helpers\_null = (null); |
| [5090](#L5090) |  |
| [5091](#L5091) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/toFormData.js |
| [5092](#L5092) |  |
| [5093](#L5093) |  |
| [5094](#L5094) |  |
| [5095](#L5095) |  |
| [5096](#L5096) | // temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored |
| [5097](#L5097) |  |
| [5098](#L5098) |  |
| [5099](#L5099) | /\*\* |
| [5100](#L5100) | \* Determines if the given thing is a array or js object. |
| [5101](#L5101) | \* |
| [5102](#L5102) | \* @param {string} thing - The object or array to be visited. |
| [5103](#L5103) | \* |
| [5104](#L5104) | \* @returns {boolean} |
| [5105](#L5105) | \*/ |
| [5106](#L5106) | function isVisitable(thing) { |
| [5107](#L5107) | return utils.isPlainObject(thing) || utils.isArray(thing); |
| [5108](#L5108) | } |
| [5109](#L5109) |  |
| [5110](#L5110) | /\*\* |
| [5111](#L5111) | \* It removes the brackets from the end of a string |
| [5112](#L5112) | \* |
| [5113](#L5113) | \* @param {string} key - The key of the parameter. |
| [5114](#L5114) | \* |
| [5115](#L5115) | \* @returns {string} the key without the brackets. |
| [5116](#L5116) | \*/ |
| [5117](#L5117) | function removeBrackets(key) { |
| [5118](#L5118) | return utils.endsWith(key, '[]') ? key.slice(0, -2) : key; |
| [5119](#L5119) | } |
| [5120](#L5120) |  |
| [5121](#L5121) | /\*\* |
| [5122](#L5122) | \* It takes a path, a key, and a boolean, and returns a string |
| [5123](#L5123) | \* |
| [5124](#L5124) | \* @param {string} path - The path to the current key. |
| [5125](#L5125) | \* @param {string} key - The key of the current object being iterated over. |
| [5126](#L5126) | \* @param {string} dots - If true, the key will be rendered with dots instead of brackets. |
| [5127](#L5127) | \* |
| [5128](#L5128) | \* @returns {string} The path to the current key. |
| [5129](#L5129) | \*/ |
| [5130](#L5130) | function renderKey(path, key, dots) { |
| [5131](#L5131) | if (!path) return key; |
| [5132](#L5132) | return path.concat(key).map(function each(token, i) { |
| [5133](#L5133) | // eslint-disable-next-line no-param-reassign |
| [5134](#L5134) | token = removeBrackets(token); |
| [5135](#L5135) | return !dots && i ? '[' + token + ']' : token; |
| [5136](#L5136) | }).join(dots ? '.' : ''); |
| [5137](#L5137) | } |
| [5138](#L5138) |  |
| [5139](#L5139) | /\*\* |
| [5140](#L5140) | \* If the array is an array and none of its elements are visitable, then it's a flat array. |
| [5141](#L5141) | \* |
| [5142](#L5142) | \* @param {Array<any>} arr - The array to check |
| [5143](#L5143) | \* |
| [5144](#L5144) | \* @returns {boolean} |
| [5145](#L5145) | \*/ |
| [5146](#L5146) | function isFlatArray(arr) { |
| [5147](#L5147) | return utils.isArray(arr) && !arr.some(isVisitable); |
| [5148](#L5148) | } |
| [5149](#L5149) |  |
| [5150](#L5150) | const predicates = utils.toFlatObject(utils, {}, null, function filter(prop) { |
| [5151](#L5151) | return /^is[A-Z]/.test(prop); |
| [5152](#L5152) | }); |
| [5153](#L5153) |  |
| [5154](#L5154) | /\*\* |
| [5155](#L5155) | \* Convert a data object to FormData |
| [5156](#L5156) | \* |
| [5157](#L5157) | \* @param {Object} obj |
| [5158](#L5158) | \* @param {?Object} [formData] |
| [5159](#L5159) | \* @param {?Object} [options] |
| [5160](#L5160) | \* @param {Function} [options.visitor] |
| [5161](#L5161) | \* @param {Boolean} [options.metaTokens = true] |
| [5162](#L5162) | \* @param {Boolean} [options.dots = false] |
| [5163](#L5163) | \* @param {?Boolean} [options.indexes = false] |
| [5164](#L5164) | \* |
| [5165](#L5165) | \* @returns {Object} |
| [5166](#L5166) | \*\*/ |
| [5167](#L5167) |  |
| [5168](#L5168) | /\*\* |
| [5169](#L5169) | \* It converts an object into a FormData object |
| [5170](#L5170) | \* |
| [5171](#L5171) | \* @param {Object<any, any>} obj - The object to convert to form data. |
| [5172](#L5172) | \* @param {string} formData - The FormData object to append to. |
| [5173](#L5173) | \* @param {Object<string, any>} options |
| [5174](#L5174) | \* |
| [5175](#L5175) | \* @returns |
| [5176](#L5176) | \*/ |
| [5177](#L5177) | function toFormData(obj, formData, options) { |
| [5178](#L5178) | if (!utils.isObject(obj)) { |
| [5179](#L5179) | throw new TypeError('target must be an object'); |
| [5180](#L5180) | } |
| [5181](#L5181) |  |
| [5182](#L5182) | // eslint-disable-next-line no-param-reassign |
| [5183](#L5183) | formData = formData || new (helpers\_null || FormData)(); |
| [5184](#L5184) |  |
| [5185](#L5185) | // eslint-disable-next-line no-param-reassign |
| [5186](#L5186) | options = utils.toFlatObject(options, { |
| [5187](#L5187) | metaTokens: true, |
| [5188](#L5188) | dots: false, |
| [5189](#L5189) | indexes: false |
| [5190](#L5190) | }, false, function defined(option, source) { |
| [5191](#L5191) | // eslint-disable-next-line no-eq-null,eqeqeq |
| [5192](#L5192) | return !utils.isUndefined(source[option]); |
| [5193](#L5193) | }); |
| [5194](#L5194) |  |
| [5195](#L5195) | const metaTokens = options.metaTokens; |
| [5196](#L5196) | // eslint-disable-next-line no-use-before-define |
| [5197](#L5197) | const visitor = options.visitor || defaultVisitor; |
| [5198](#L5198) | const dots = options.dots; |
| [5199](#L5199) | const indexes = options.indexes; |
| [5200](#L5200) | const \_Blob = options.Blob || typeof Blob !== 'undefined' && Blob; |
| [5201](#L5201) | const useBlob = \_Blob && utils.isSpecCompliantForm(formData); |
| [5202](#L5202) |  |
| [5203](#L5203) | if (!utils.isFunction(visitor)) { |
| [5204](#L5204) | throw new TypeError('visitor must be a function'); |
| [5205](#L5205) | } |
| [5206](#L5206) |  |
| [5207](#L5207) | function convertValue(value) { |
| [5208](#L5208) | if (value === null) return ''; |
| [5209](#L5209) |  |
| [5210](#L5210) | if (utils.isDate(value)) { |
| [5211](#L5211) | return value.toISOString(); |
| [5212](#L5212) | } |
| [5213](#L5213) |  |
| [5214](#L5214) | if (!useBlob && utils.isBlob(value)) { |
| [5215](#L5215) | throw new core\_AxiosError('Blob is not supported. Use a Buffer instead.'); |
| [5216](#L5216) | } |
| [5217](#L5217) |  |
| [5218](#L5218) | if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) { |
| [5219](#L5219) | return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value); |
| [5220](#L5220) | } |
| [5221](#L5221) |  |
| [5222](#L5222) | return value; |
| [5223](#L5223) | } |
| [5224](#L5224) |  |
| [5225](#L5225) | /\*\* |
| [5226](#L5226) | \* Default visitor. |
| [5227](#L5227) | \* |
| [5228](#L5228) | \* @param {\*} value |
| [5229](#L5229) | \* @param {String|Number} key |
| [5230](#L5230) | \* @param {Array<String|Number>} path |
| [5231](#L5231) | \* @this {FormData} |
| [5232](#L5232) | \* |
| [5233](#L5233) | \* @returns {boolean} return true to visit the each prop of the value recursively |
| [5234](#L5234) | \*/ |
| [5235](#L5235) | function defaultVisitor(value, key, path) { |
| [5236](#L5236) | let arr = value; |
| [5237](#L5237) |  |
| [5238](#L5238) | if (value && !path && typeof value === 'object') { |
| [5239](#L5239) | if (utils.endsWith(key, '{}')) { |
| [5240](#L5240) | // eslint-disable-next-line no-param-reassign |
| [5241](#L5241) | key = metaTokens ? key : key.slice(0, -2); |
| [5242](#L5242) | // eslint-disable-next-line no-param-reassign |
| [5243](#L5243) | value = JSON.stringify(value); |
| [5244](#L5244) | } else if ( |
| [5245](#L5245) | (utils.isArray(value) && isFlatArray(value)) || |
| [5246](#L5246) | ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value)) |
| [5247](#L5247) | )) { |
| [5248](#L5248) | // eslint-disable-next-line no-param-reassign |
| [5249](#L5249) | key = removeBrackets(key); |
| [5250](#L5250) |  |
| [5251](#L5251) | arr.forEach(function each(el, index) { |
| [5252](#L5252) | !(utils.isUndefined(el) || el === null) && formData.append( |
| [5253](#L5253) | // eslint-disable-next-line no-nested-ternary |
| [5254](#L5254) | indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'), |
| [5255](#L5255) | convertValue(el) |
| [5256](#L5256) | ); |
| [5257](#L5257) | }); |
| [5258](#L5258) | return false; |
| [5259](#L5259) | } |
| [5260](#L5260) | } |
| [5261](#L5261) |  |
| [5262](#L5262) | if (isVisitable(value)) { |
| [5263](#L5263) | return true; |
| [5264](#L5264) | } |
| [5265](#L5265) |  |
| [5266](#L5266) | formData.append(renderKey(path, key, dots), convertValue(value)); |
| [5267](#L5267) |  |
| [5268](#L5268) | return false; |
| [5269](#L5269) | } |
| [5270](#L5270) |  |
| [5271](#L5271) | const stack = []; |
| [5272](#L5272) |  |
| [5273](#L5273) | const exposedHelpers = Object.assign(predicates, { |
| [5274](#L5274) | defaultVisitor, |
| [5275](#L5275) | convertValue, |
| [5276](#L5276) | isVisitable |
| [5277](#L5277) | }); |
| [5278](#L5278) |  |
| [5279](#L5279) | function build(value, path) { |
| [5280](#L5280) | if (utils.isUndefined(value)) return; |
| [5281](#L5281) |  |
| [5282](#L5282) | if (stack.indexOf(value) !== -1) { |
| [5283](#L5283) | throw Error('Circular reference detected in ' + path.join('.')); |
| [5284](#L5284) | } |
| [5285](#L5285) |  |
| [5286](#L5286) | stack.push(value); |
| [5287](#L5287) |  |
| [5288](#L5288) | utils.forEach(value, function each(el, key) { |
| [5289](#L5289) | const result = !(utils.isUndefined(el) || el === null) && visitor.call( |
| [5290](#L5290) | formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers |
| [5291](#L5291) | ); |
| [5292](#L5292) |  |
| [5293](#L5293) | if (result === true) { |
| [5294](#L5294) | build(el, path ? path.concat(key) : [key]); |
| [5295](#L5295) | } |
| [5296](#L5296) | }); |
| [5297](#L5297) |  |
| [5298](#L5298) | stack.pop(); |
| [5299](#L5299) | } |
| [5300](#L5300) |  |
| [5301](#L5301) | if (!utils.isObject(obj)) { |
| [5302](#L5302) | throw new TypeError('data must be an object'); |
| [5303](#L5303) | } |
| [5304](#L5304) |  |
| [5305](#L5305) | build(obj); |
| [5306](#L5306) |  |
| [5307](#L5307) | return formData; |
| [5308](#L5308) | } |
| [5309](#L5309) |  |
| [5310](#L5310) | /\* harmony default export \*/ var helpers\_toFormData = (toFormData); |
| [5311](#L5311) |  |
| [5312](#L5312) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/AxiosURLSearchParams.js |
| [5313](#L5313) |  |
| [5314](#L5314) |  |
| [5315](#L5315) |  |
| [5316](#L5316) |  |
| [5317](#L5317) | /\*\* |
| [5318](#L5318) | \* It encodes a string by replacing all characters that are not in the unreserved set with |
| [5319](#L5319) | \* their percent-encoded equivalents |
| [5320](#L5320) | \* |
| [5321](#L5321) | \* @param {string} str - The string to encode. |
| [5322](#L5322) | \* |
| [5323](#L5323) | \* @returns {string} The encoded string. |
| [5324](#L5324) | \*/ |
| [5325](#L5325) | function encode(str) { |
| [5326](#L5326) | const charMap = { |
| [5327](#L5327) | '!': '%21', |
| [5328](#L5328) | "'": '%27', |
| [5329](#L5329) | '(': '%28', |
| [5330](#L5330) | ')': '%29', |
| [5331](#L5331) | '~': '%7E', |
| [5332](#L5332) | '%20': '+', |
| [5333](#L5333) | '%00': '\x00' |
| [5334](#L5334) | }; |
| [5335](#L5335) | return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) { |
| [5336](#L5336) | return charMap[match]; |
| [5337](#L5337) | }); |
| [5338](#L5338) | } |
| [5339](#L5339) |  |
| [5340](#L5340) | /\*\* |
| [5341](#L5341) | \* It takes a params object and converts it to a FormData object |
| [5342](#L5342) | \* |
| [5343](#L5343) | \* @param {Object<string, any>} params - The parameters to be converted to a FormData object. |
| [5344](#L5344) | \* @param {Object<string, any>} options - The options object passed to the Axios constructor. |
| [5345](#L5345) | \* |
| [5346](#L5346) | \* @returns {void} |
| [5347](#L5347) | \*/ |
| [5348](#L5348) | function AxiosURLSearchParams(params, options) { |
| [5349](#L5349) | this.\_pairs = []; |
| [5350](#L5350) |  |
| [5351](#L5351) | params && helpers\_toFormData(params, this, options); |
| [5352](#L5352) | } |
| [5353](#L5353) |  |
| [5354](#L5354) | const AxiosURLSearchParams\_prototype = AxiosURLSearchParams.prototype; |
| [5355](#L5355) |  |
| [5356](#L5356) | AxiosURLSearchParams\_prototype.append = function append(name, value) { |
| [5357](#L5357) | this.\_pairs.push([name, value]); |
| [5358](#L5358) | }; |
| [5359](#L5359) |  |
| [5360](#L5360) | AxiosURLSearchParams\_prototype.toString = function toString(encoder) { |
| [5361](#L5361) | const \_encode = encoder ? function(value) { |
| [5362](#L5362) | return encoder.call(this, value, encode); |
| [5363](#L5363) | } : encode; |
| [5364](#L5364) |  |
| [5365](#L5365) | return this.\_pairs.map(function each(pair) { |
| [5366](#L5366) | return \_encode(pair[0]) + '=' + \_encode(pair[1]); |
| [5367](#L5367) | }, '').join('&'); |
| [5368](#L5368) | }; |
| [5369](#L5369) |  |
| [5370](#L5370) | /\* harmony default export \*/ var helpers\_AxiosURLSearchParams = (AxiosURLSearchParams); |
| [5371](#L5371) |  |
| [5372](#L5372) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/buildURL.js |
| [5373](#L5373) |  |
| [5374](#L5374) |  |
| [5375](#L5375) |  |
| [5376](#L5376) |  |
| [5377](#L5377) |  |
| [5378](#L5378) | /\*\* |
| [5379](#L5379) | \* It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their |
| [5380](#L5380) | \* URI encoded counterparts |
| [5381](#L5381) | \* |
| [5382](#L5382) | \* @param {string} val The value to be encoded. |
| [5383](#L5383) | \* |
| [5384](#L5384) | \* @returns {string} The encoded value. |
| [5385](#L5385) | \*/ |
| [5386](#L5386) | function buildURL\_encode(val) { |
| [5387](#L5387) | return encodeURIComponent(val). |
| [5388](#L5388) | replace(/%3A/gi, ':'). |
| [5389](#L5389) | replace(/%24/g, '$'). |
| [5390](#L5390) | replace(/%2C/gi, ','). |
| [5391](#L5391) | replace(/%20/g, '+'). |
| [5392](#L5392) | replace(/%5B/gi, '['). |
| [5393](#L5393) | replace(/%5D/gi, ']'); |
| [5394](#L5394) | } |
| [5395](#L5395) |  |
| [5396](#L5396) | /\*\* |
| [5397](#L5397) | \* Build a URL by appending params to the end |
| [5398](#L5398) | \* |
| [5399](#L5399) | \* @param {string} url The base of the url (e.g., http://www.google.com) |
| [5400](#L5400) | \* @param {object} [params] The params to be appended |
| [5401](#L5401) | \* @param {?object} options |
| [5402](#L5402) | \* |
| [5403](#L5403) | \* @returns {string} The formatted url |
| [5404](#L5404) | \*/ |
| [5405](#L5405) | function buildURL(url, params, options) { |
| [5406](#L5406) | /\*eslint no-param-reassign:0\*/ |
| [5407](#L5407) | if (!params) { |
| [5408](#L5408) | return url; |
| [5409](#L5409) | } |
| [5410](#L5410) |  |
| [5411](#L5411) | const \_encode = options && options.encode || buildURL\_encode; |
| [5412](#L5412) |  |
| [5413](#L5413) | const serializeFn = options && options.serialize; |
| [5414](#L5414) |  |
| [5415](#L5415) | let serializedParams; |
| [5416](#L5416) |  |
| [5417](#L5417) | if (serializeFn) { |
| [5418](#L5418) | serializedParams = serializeFn(params, options); |
| [5419](#L5419) | } else { |
| [5420](#L5420) | serializedParams = utils.isURLSearchParams(params) ? |
| [5421](#L5421) | params.toString() : |
| [5422](#L5422) | new helpers\_AxiosURLSearchParams(params, options).toString(\_encode); |
| [5423](#L5423) | } |
| [5424](#L5424) |  |
| [5425](#L5425) | if (serializedParams) { |
| [5426](#L5426) | const hashmarkIndex = url.indexOf("#"); |
| [5427](#L5427) |  |
| [5428](#L5428) | if (hashmarkIndex !== -1) { |
| [5429](#L5429) | url = url.slice(0, hashmarkIndex); |
| [5430](#L5430) | } |
| [5431](#L5431) | url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams; |
| [5432](#L5432) | } |
| [5433](#L5433) |  |
| [5434](#L5434) | return url; |
| [5435](#L5435) | } |
| [5436](#L5436) |  |
| [5437](#L5437) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/core/InterceptorManager.js |
| [5438](#L5438) |  |
| [5439](#L5439) |  |
| [5440](#L5440) |  |
| [5441](#L5441) |  |
| [5442](#L5442) | class InterceptorManager { |
| [5443](#L5443) | constructor() { |
| [5444](#L5444) | this.handlers = []; |
| [5445](#L5445) | } |
| [5446](#L5446) |  |
| [5447](#L5447) | /\*\* |
| [5448](#L5448) | \* Add a new interceptor to the stack |
| [5449](#L5449) | \* |
| [5450](#L5450) | \* @param {Function} fulfilled The function to handle `then` for a `Promise` |
| [5451](#L5451) | \* @param {Function} rejected The function to handle `reject` for a `Promise` |
| [5452](#L5452) | \* |
| [5453](#L5453) | \* @return {Number} An ID used to remove interceptor later |
| [5454](#L5454) | \*/ |
| [5455](#L5455) | use(fulfilled, rejected, options) { |
| [5456](#L5456) | this.handlers.push({ |
| [5457](#L5457) | fulfilled, |
| [5458](#L5458) | rejected, |
| [5459](#L5459) | synchronous: options ? options.synchronous : false, |
| [5460](#L5460) | runWhen: options ? options.runWhen : null |
| [5461](#L5461) | }); |
| [5462](#L5462) | return this.handlers.length - 1; |
| [5463](#L5463) | } |
| [5464](#L5464) |  |
| [5465](#L5465) | /\*\* |
| [5466](#L5466) | \* Remove an interceptor from the stack |
| [5467](#L5467) | \* |
| [5468](#L5468) | \* @param {Number} id The ID that was returned by `use` |
| [5469](#L5469) | \* |
| [5470](#L5470) | \* @returns {Boolean} `true` if the interceptor was removed, `false` otherwise |
| [5471](#L5471) | \*/ |
| [5472](#L5472) | eject(id) { |
| [5473](#L5473) | if (this.handlers[id]) { |
| [5474](#L5474) | this.handlers[id] = null; |
| [5475](#L5475) | } |
| [5476](#L5476) | } |
| [5477](#L5477) |  |
| [5478](#L5478) | /\*\* |
| [5479](#L5479) | \* Clear all interceptors from the stack |
| [5480](#L5480) | \* |
| [5481](#L5481) | \* @returns {void} |
| [5482](#L5482) | \*/ |
| [5483](#L5483) | clear() { |
| [5484](#L5484) | if (this.handlers) { |
| [5485](#L5485) | this.handlers = []; |
| [5486](#L5486) | } |
| [5487](#L5487) | } |
| [5488](#L5488) |  |
| [5489](#L5489) | /\*\* |
| [5490](#L5490) | \* Iterate over all the registered interceptors |
| [5491](#L5491) | \* |
| [5492](#L5492) | \* This method is particularly useful for skipping over any |
| [5493](#L5493) | \* interceptors that may have become `null` calling `eject`. |
| [5494](#L5494) | \* |
| [5495](#L5495) | \* @param {Function} fn The function to call for each interceptor |
| [5496](#L5496) | \* |
| [5497](#L5497) | \* @returns {void} |
| [5498](#L5498) | \*/ |
| [5499](#L5499) | forEach(fn) { |
| [5500](#L5500) | utils.forEach(this.handlers, function forEachHandler(h) { |
| [5501](#L5501) | if (h !== null) { |
| [5502](#L5502) | fn(h); |
| [5503](#L5503) | } |
| [5504](#L5504) | }); |
| [5505](#L5505) | } |
| [5506](#L5506) | } |
| [5507](#L5507) |  |
| [5508](#L5508) | /\* harmony default export \*/ var core\_InterceptorManager = (InterceptorManager); |
| [5509](#L5509) |  |
| [5510](#L5510) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/defaults/transitional.js |
| [5511](#L5511) |  |
| [5512](#L5512) |  |
| [5513](#L5513) | /\* harmony default export \*/ var defaults\_transitional = ({ |
| [5514](#L5514) | silentJSONParsing: true, |
| [5515](#L5515) | forcedJSONParsing: true, |
| [5516](#L5516) | clarifyTimeoutError: false |
| [5517](#L5517) | }); |
| [5518](#L5518) |  |
| [5519](#L5519) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/platform/browser/classes/URLSearchParams.js |
| [5520](#L5520) |  |
| [5521](#L5521) |  |
| [5522](#L5522) |  |
| [5523](#L5523) | /\* harmony default export \*/ var classes\_URLSearchParams = (typeof URLSearchParams !== 'undefined' ? URLSearchParams : helpers\_AxiosURLSearchParams); |
| [5524](#L5524) |  |
| [5525](#L5525) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/platform/browser/classes/FormData.js |
| [5526](#L5526) |  |
| [5527](#L5527) |  |
| [5528](#L5528) | /\* harmony default export \*/ var classes\_FormData = (typeof FormData !== 'undefined' ? FormData : null); |
| [5529](#L5529) |  |
| [5530](#L5530) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/platform/browser/classes/Blob.js |
| [5531](#L5531) |  |
| [5532](#L5532) |  |
| [5533](#L5533) | /\* harmony default export \*/ var classes\_Blob = (typeof Blob !== 'undefined' ? Blob : null); |
| [5534](#L5534) |  |
| [5535](#L5535) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/platform/browser/index.js |
| [5536](#L5536) |  |
| [5537](#L5537) |  |
| [5538](#L5538) |  |
| [5539](#L5539) |  |
| [5540](#L5540) | /\* harmony default export \*/ var browser = ({ |
| [5541](#L5541) | isBrowser: true, |
| [5542](#L5542) | classes: { |
| [5543](#L5543) | URLSearchParams: classes\_URLSearchParams, |
| [5544](#L5544) | FormData: classes\_FormData, |
| [5545](#L5545) | Blob: classes\_Blob |
| [5546](#L5546) | }, |
| [5547](#L5547) | protocols: ['http', 'https', 'file', 'blob', 'url', 'data'] |
| [5548](#L5548) | }); |
| [5549](#L5549) |  |
| [5550](#L5550) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/platform/common/utils.js |
| [5551](#L5551) | const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined'; |
| [5552](#L5552) |  |
| [5553](#L5553) | /\*\* |
| [5554](#L5554) | \* Determine if we're running in a standard browser environment |
| [5555](#L5555) | \* |
| [5556](#L5556) | \* This allows axios to run in a web worker, and react-native. |
| [5557](#L5557) | \* Both environments support XMLHttpRequest, but not fully standard globals. |
| [5558](#L5558) | \* |
| [5559](#L5559) | \* web workers: |
| [5560](#L5560) | \*  typeof window -> undefined |
| [5561](#L5561) | \*  typeof document -> undefined |
| [5562](#L5562) | \* |
| [5563](#L5563) | \* react-native: |
| [5564](#L5564) | \*  navigator.product -> 'ReactNative' |
| [5565](#L5565) | \* nativescript |
| [5566](#L5566) | \*  navigator.product -> 'NativeScript' or 'NS' |
| [5567](#L5567) | \* |
| [5568](#L5568) | \* @returns {boolean} |
| [5569](#L5569) | \*/ |
| [5570](#L5570) | const hasStandardBrowserEnv = ( |
| [5571](#L5571) | (product) => { |
| [5572](#L5572) | return hasBrowserEnv && ['ReactNative', 'NativeScript', 'NS'].indexOf(product) < 0 |
| [5573](#L5573) | })(typeof navigator !== 'undefined' && navigator.product); |
| [5574](#L5574) |  |
| [5575](#L5575) | /\*\* |
| [5576](#L5576) | \* Determine if we're running in a standard browser webWorker environment |
| [5577](#L5577) | \* |
| [5578](#L5578) | \* Although the `isStandardBrowserEnv` method indicates that |
| [5579](#L5579) | \* `allows axios to run in a web worker`, the WebWorker will still be |
| [5580](#L5580) | \* filtered out due to its judgment standard |
| [5581](#L5581) | \* `typeof window !== 'undefined' && typeof document !== 'undefined'`. |
| [5582](#L5582) | \* This leads to a problem when axios post `FormData` in webWorker |
| [5583](#L5583) | \*/ |
| [5584](#L5584) | const hasStandardBrowserWebWorkerEnv = (() => { |
| [5585](#L5585) | return ( |
| [5586](#L5586) | typeof WorkerGlobalScope !== 'undefined' && |
| [5587](#L5587) | // eslint-disable-next-line no-undef |
| [5588](#L5588) | self instanceof WorkerGlobalScope && |
| [5589](#L5589) | typeof self.importScripts === 'function' |
| [5590](#L5590) | ); |
| [5591](#L5591) | })(); |
| [5592](#L5592) |  |
| [5593](#L5593) | const origin = hasBrowserEnv && window.location.href || 'http://localhost'; |
| [5594](#L5594) |  |
| [5595](#L5595) |  |
| [5596](#L5596) |  |
| [5597](#L5597) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/platform/index.js |
| [5598](#L5598) |  |
| [5599](#L5599) |  |
| [5600](#L5600) |  |
| [5601](#L5601) | /\* harmony default export \*/ var platform = ({ |
| [5602](#L5602) | ...common\_utils\_namespaceObject, |
| [5603](#L5603) | ...browser |
| [5604](#L5604) | }); |
| [5605](#L5605) |  |
| [5606](#L5606) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/toURLEncodedForm.js |
| [5607](#L5607) |  |
| [5608](#L5608) |  |
| [5609](#L5609) |  |
| [5610](#L5610) |  |
| [5611](#L5611) |  |
| [5612](#L5612) |  |
| [5613](#L5613) | function toURLEncodedForm(data, options) { |
| [5614](#L5614) | return helpers\_toFormData(data, new platform.classes.URLSearchParams(), Object.assign({ |
| [5615](#L5615) | visitor: function(value, key, path, helpers) { |
| [5616](#L5616) | if (platform.isNode && utils.isBuffer(value)) { |
| [5617](#L5617) | this.append(key, value.toString('base64')); |
| [5618](#L5618) | return false; |
| [5619](#L5619) | } |
| [5620](#L5620) |  |
| [5621](#L5621) | return helpers.defaultVisitor.apply(this, arguments); |
| [5622](#L5622) | } |
| [5623](#L5623) | }, options)); |
| [5624](#L5624) | } |
| [5625](#L5625) |  |
| [5626](#L5626) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/formDataToJSON.js |
| [5627](#L5627) |  |
| [5628](#L5628) |  |
| [5629](#L5629) |  |
| [5630](#L5630) |  |
| [5631](#L5631) | /\*\* |
| [5632](#L5632) | \* It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z'] |
| [5633](#L5633) | \* |
| [5634](#L5634) | \* @param {string} name - The name of the property to get. |
| [5635](#L5635) | \* |
| [5636](#L5636) | \* @returns An array of strings. |
| [5637](#L5637) | \*/ |
| [5638](#L5638) | function parsePropPath(name) { |
| [5639](#L5639) | // foo[x][y][z] |
| [5640](#L5640) | // foo.x.y.z |
| [5641](#L5641) | // foo-x-y-z |
| [5642](#L5642) | // foo x y z |
| [5643](#L5643) | return utils.matchAll(/\w+|\[(\w\*)]/g, name).map(match => { |
| [5644](#L5644) | return match[0] === '[]' ? '' : match[1] || match[0]; |
| [5645](#L5645) | }); |
| [5646](#L5646) | } |
| [5647](#L5647) |  |
| [5648](#L5648) | /\*\* |
| [5649](#L5649) | \* Convert an array to an object. |
| [5650](#L5650) | \* |
| [5651](#L5651) | \* @param {Array<any>} arr - The array to convert to an object. |
| [5652](#L5652) | \* |
| [5653](#L5653) | \* @returns An object with the same keys and values as the array. |
| [5654](#L5654) | \*/ |
| [5655](#L5655) | function arrayToObject(arr) { |
| [5656](#L5656) | const obj = {}; |
| [5657](#L5657) | const keys = Object.keys(arr); |
| [5658](#L5658) | let i; |
| [5659](#L5659) | const len = keys.length; |
| [5660](#L5660) | let key; |
| [5661](#L5661) | for (i = 0; i < len; i++) { |
| [5662](#L5662) | key = keys[i]; |
| [5663](#L5663) | obj[key] = arr[key]; |
| [5664](#L5664) | } |
| [5665](#L5665) | return obj; |
| [5666](#L5666) | } |
| [5667](#L5667) |  |
| [5668](#L5668) | /\*\* |
| [5669](#L5669) | \* It takes a FormData object and returns a JavaScript object |
| [5670](#L5670) | \* |
| [5671](#L5671) | \* @param {string} formData The FormData object to convert to JSON. |
| [5672](#L5672) | \* |
| [5673](#L5673) | \* @returns {Object<string, any> | null} The converted object. |
| [5674](#L5674) | \*/ |
| [5675](#L5675) | function formDataToJSON(formData) { |
| [5676](#L5676) | function buildPath(path, value, target, index) { |
| [5677](#L5677) | let name = path[index++]; |
| [5678](#L5678) |  |
| [5679](#L5679) | if (name === '\_\_proto\_\_') return true; |
| [5680](#L5680) |  |
| [5681](#L5681) | const isNumericKey = Number.isFinite(+name); |
| [5682](#L5682) | const isLast = index >= path.length; |
| [5683](#L5683) | name = !name && utils.isArray(target) ? target.length : name; |
| [5684](#L5684) |  |
| [5685](#L5685) | if (isLast) { |
| [5686](#L5686) | if (utils.hasOwnProp(target, name)) { |
| [5687](#L5687) | target[name] = [target[name], value]; |
| [5688](#L5688) | } else { |
| [5689](#L5689) | target[name] = value; |
| [5690](#L5690) | } |
| [5691](#L5691) |  |
| [5692](#L5692) | return !isNumericKey; |
| [5693](#L5693) | } |
| [5694](#L5694) |  |
| [5695](#L5695) | if (!target[name] || !utils.isObject(target[name])) { |
| [5696](#L5696) | target[name] = []; |
| [5697](#L5697) | } |
| [5698](#L5698) |  |
| [5699](#L5699) | const result = buildPath(path, value, target[name], index); |
| [5700](#L5700) |  |
| [5701](#L5701) | if (result && utils.isArray(target[name])) { |
| [5702](#L5702) | target[name] = arrayToObject(target[name]); |
| [5703](#L5703) | } |
| [5704](#L5704) |  |
| [5705](#L5705) | return !isNumericKey; |
| [5706](#L5706) | } |
| [5707](#L5707) |  |
| [5708](#L5708) | if (utils.isFormData(formData) && utils.isFunction(formData.entries)) { |
| [5709](#L5709) | const obj = {}; |
| [5710](#L5710) |  |
| [5711](#L5711) | utils.forEachEntry(formData, (name, value) => { |
| [5712](#L5712) | buildPath(parsePropPath(name), value, obj, 0); |
| [5713](#L5713) | }); |
| [5714](#L5714) |  |
| [5715](#L5715) | return obj; |
| [5716](#L5716) | } |
| [5717](#L5717) |  |
| [5718](#L5718) | return null; |
| [5719](#L5719) | } |
| [5720](#L5720) |  |
| [5721](#L5721) | /\* harmony default export \*/ var helpers\_formDataToJSON = (formDataToJSON); |
| [5722](#L5722) |  |
| [5723](#L5723) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/defaults/index.js |
| [5724](#L5724) |  |
| [5725](#L5725) |  |
| [5726](#L5726) |  |
| [5727](#L5727) |  |
| [5728](#L5728) |  |
| [5729](#L5729) |  |
| [5730](#L5730) |  |
| [5731](#L5731) |  |
| [5732](#L5732) |  |
| [5733](#L5733) |  |
| [5734](#L5734) | /\*\* |
| [5735](#L5735) | \* It takes a string, tries to parse it, and if it fails, it returns the stringified version |
| [5736](#L5736) | \* of the input |
| [5737](#L5737) | \* |
| [5738](#L5738) | \* @param {any} rawValue - The value to be stringified. |
| [5739](#L5739) | \* @param {Function} parser - A function that parses a string into a JavaScript object. |
| [5740](#L5740) | \* @param {Function} encoder - A function that takes a value and returns a string. |
| [5741](#L5741) | \* |
| [5742](#L5742) | \* @returns {string} A stringified version of the rawValue. |
| [5743](#L5743) | \*/ |
| [5744](#L5744) | function stringifySafely(rawValue, parser, encoder) { |
| [5745](#L5745) | if (utils.isString(rawValue)) { |
| [5746](#L5746) | try { |
| [5747](#L5747) | (parser || JSON.parse)(rawValue); |
| [5748](#L5748) | return utils.trim(rawValue); |
| [5749](#L5749) | } catch (e) { |
| [5750](#L5750) | if (e.name !== 'SyntaxError') { |
| [5751](#L5751) | throw e; |
| [5752](#L5752) | } |
| [5753](#L5753) | } |
| [5754](#L5754) | } |
| [5755](#L5755) |  |
| [5756](#L5756) | return (encoder || JSON.stringify)(rawValue); |
| [5757](#L5757) | } |
| [5758](#L5758) |  |
| [5759](#L5759) | const defaults = { |
| [5760](#L5760) |  |
| [5761](#L5761) | transitional: defaults\_transitional, |
| [5762](#L5762) |  |
| [5763](#L5763) | adapter: ['xhr', 'http', 'fetch'], |
| [5764](#L5764) |  |
| [5765](#L5765) | transformRequest: [function transformRequest(data, headers) { |
| [5766](#L5766) | const contentType = headers.getContentType() || ''; |
| [5767](#L5767) | const hasJSONContentType = contentType.indexOf('application/json') > -1; |
| [5768](#L5768) | const isObjectPayload = utils.isObject(data); |
| [5769](#L5769) |  |
| [5770](#L5770) | if (isObjectPayload && utils.isHTMLForm(data)) { |
| [5771](#L5771) | data = new FormData(data); |
| [5772](#L5772) | } |
| [5773](#L5773) |  |
| [5774](#L5774) | const isFormData = utils.isFormData(data); |
| [5775](#L5775) |  |
| [5776](#L5776) | if (isFormData) { |
| [5777](#L5777) | return hasJSONContentType ? JSON.stringify(helpers\_formDataToJSON(data)) : data; |
| [5778](#L5778) | } |
| [5779](#L5779) |  |
| [5780](#L5780) | if (utils.isArrayBuffer(data) || |
| [5781](#L5781) | utils.isBuffer(data) || |
| [5782](#L5782) | utils.isStream(data) || |
| [5783](#L5783) | utils.isFile(data) || |
| [5784](#L5784) | utils.isBlob(data) || |
| [5785](#L5785) | utils.isReadableStream(data) |
| [5786](#L5786) | ) { |
| [5787](#L5787) | return data; |
| [5788](#L5788) | } |
| [5789](#L5789) | if (utils.isArrayBufferView(data)) { |
| [5790](#L5790) | return data.buffer; |
| [5791](#L5791) | } |
| [5792](#L5792) | if (utils.isURLSearchParams(data)) { |
| [5793](#L5793) | headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false); |
| [5794](#L5794) | return data.toString(); |
| [5795](#L5795) | } |
| [5796](#L5796) |  |
| [5797](#L5797) | let isFileList; |
| [5798](#L5798) |  |
| [5799](#L5799) | if (isObjectPayload) { |
| [5800](#L5800) | if (contentType.indexOf('application/x-www-form-urlencoded') > -1) { |
| [5801](#L5801) | return toURLEncodedForm(data, this.formSerializer).toString(); |
| [5802](#L5802) | } |
| [5803](#L5803) |  |
| [5804](#L5804) | if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) { |
| [5805](#L5805) | const \_FormData = this.env && this.env.FormData; |
| [5806](#L5806) |  |
| [5807](#L5807) | return helpers\_toFormData( |
| [5808](#L5808) | isFileList ? {'files[]': data} : data, |
| [5809](#L5809) | \_FormData && new \_FormData(), |
| [5810](#L5810) | this.formSerializer |
| [5811](#L5811) | ); |
| [5812](#L5812) | } |
| [5813](#L5813) | } |
| [5814](#L5814) |  |
| [5815](#L5815) | if (isObjectPayload || hasJSONContentType ) { |
| [5816](#L5816) | headers.setContentType('application/json', false); |
| [5817](#L5817) | return stringifySafely(data); |
| [5818](#L5818) | } |
| [5819](#L5819) |  |
| [5820](#L5820) | return data; |
| [5821](#L5821) | }], |
| [5822](#L5822) |  |
| [5823](#L5823) | transformResponse: [function transformResponse(data) { |
| [5824](#L5824) | const transitional = this.transitional || defaults.transitional; |
| [5825](#L5825) | const forcedJSONParsing = transitional && transitional.forcedJSONParsing; |
| [5826](#L5826) | const JSONRequested = this.responseType === 'json'; |
| [5827](#L5827) |  |
| [5828](#L5828) | if (utils.isResponse(data) || utils.isReadableStream(data)) { |
| [5829](#L5829) | return data; |
| [5830](#L5830) | } |
| [5831](#L5831) |  |
| [5832](#L5832) | if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) { |
| [5833](#L5833) | const silentJSONParsing = transitional && transitional.silentJSONParsing; |
| [5834](#L5834) | const strictJSONParsing = !silentJSONParsing && JSONRequested; |
| [5835](#L5835) |  |
| [5836](#L5836) | try { |
| [5837](#L5837) | return JSON.parse(data); |
| [5838](#L5838) | } catch (e) { |
| [5839](#L5839) | if (strictJSONParsing) { |
| [5840](#L5840) | if (e.name === 'SyntaxError') { |
| [5841](#L5841) | throw core\_AxiosError.from(e, core\_AxiosError.ERR\_BAD\_RESPONSE, this, null, this.response); |
| [5842](#L5842) | } |
| [5843](#L5843) | throw e; |
| [5844](#L5844) | } |
| [5845](#L5845) | } |
| [5846](#L5846) | } |
| [5847](#L5847) |  |
| [5848](#L5848) | return data; |
| [5849](#L5849) | }], |
| [5850](#L5850) |  |
| [5851](#L5851) | /\*\* |
| [5852](#L5852) | \* A timeout in milliseconds to abort a request. If set to 0 (default) a |
| [5853](#L5853) | \* timeout is not created. |
| [5854](#L5854) | \*/ |
| [5855](#L5855) | timeout: 0, |
| [5856](#L5856) |  |
| [5857](#L5857) | xsrfCookieName: 'XSRF-TOKEN', |
| [5858](#L5858) | xsrfHeaderName: 'X-XSRF-TOKEN', |
| [5859](#L5859) |  |
| [5860](#L5860) | maxContentLength: -1, |
| [5861](#L5861) | maxBodyLength: -1, |
| [5862](#L5862) |  |
| [5863](#L5863) | env: { |
| [5864](#L5864) | FormData: platform.classes.FormData, |
| [5865](#L5865) | Blob: platform.classes.Blob |
| [5866](#L5866) | }, |
| [5867](#L5867) |  |
| [5868](#L5868) | validateStatus: function validateStatus(status) { |
| [5869](#L5869) | return status >= 200 && status < 300; |
| [5870](#L5870) | }, |
| [5871](#L5871) |  |
| [5872](#L5872) | headers: { |
| [5873](#L5873) | common: { |
| [5874](#L5874) | 'Accept': 'application/json, text/plain, \*/\*', |
| [5875](#L5875) | 'Content-Type': undefined |
| [5876](#L5876) | } |
| [5877](#L5877) | } |
| [5878](#L5878) | }; |
| [5879](#L5879) |  |
| [5880](#L5880) | utils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => { |
| [5881](#L5881) | defaults.headers[method] = {}; |
| [5882](#L5882) | }); |
| [5883](#L5883) |  |
| [5884](#L5884) | /\* harmony default export \*/ var lib\_defaults = (defaults); |
| [5885](#L5885) |  |
| [5886](#L5886) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/parseHeaders.js |
| [5887](#L5887) |  |
| [5888](#L5888) |  |
| [5889](#L5889) |  |
| [5890](#L5890) |  |
| [5891](#L5891) | // RawAxiosHeaders whose duplicates are ignored by node |
| [5892](#L5892) | // c.f. https://nodejs.org/api/http.html#http\_message\_headers |
| [5893](#L5893) | const ignoreDuplicateOf = utils.toObjectSet([ |
| [5894](#L5894) | 'age', 'authorization', 'content-length', 'content-type', 'etag', |
| [5895](#L5895) | 'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since', |
| [5896](#L5896) | 'last-modified', 'location', 'max-forwards', 'proxy-authorization', |
| [5897](#L5897) | 'referer', 'retry-after', 'user-agent' |
| [5898](#L5898) | ]); |
| [5899](#L5899) |  |
| [5900](#L5900) | /\*\* |
| [5901](#L5901) | \* Parse headers into an object |
| [5902](#L5902) | \* |
| [5903](#L5903) | \* ``` |
| [5904](#L5904) | \* Date: Wed, 27 Aug 2014 08:58:49 GMT |
| [5905](#L5905) | \* Content-Type: application/json |
| [5906](#L5906) | \* Connection: keep-alive |
| [5907](#L5907) | \* Transfer-Encoding: chunked |
| [5908](#L5908) | \* ``` |
| [5909](#L5909) | \* |
| [5910](#L5910) | \* @param {String} rawHeaders Headers needing to be parsed |
| [5911](#L5911) | \* |
| [5912](#L5912) | \* @returns {Object} Headers parsed into an object |
| [5913](#L5913) | \*/ |
| [5914](#L5914) | /\* harmony default export \*/ var parseHeaders = (rawHeaders => { |
| [5915](#L5915) | const parsed = {}; |
| [5916](#L5916) | let key; |
| [5917](#L5917) | let val; |
| [5918](#L5918) | let i; |
| [5919](#L5919) |  |
| [5920](#L5920) | rawHeaders && rawHeaders.split('\n').forEach(function parser(line) { |
| [5921](#L5921) | i = line.indexOf(':'); |
| [5922](#L5922) | key = line.substring(0, i).trim().toLowerCase(); |
| [5923](#L5923) | val = line.substring(i + 1).trim(); |
| [5924](#L5924) |  |
| [5925](#L5925) | if (!key || (parsed[key] && ignoreDuplicateOf[key])) { |
| [5926](#L5926) | return; |
| [5927](#L5927) | } |
| [5928](#L5928) |  |
| [5929](#L5929) | if (key === 'set-cookie') { |
| [5930](#L5930) | if (parsed[key]) { |
| [5931](#L5931) | parsed[key].push(val); |
| [5932](#L5932) | } else { |
| [5933](#L5933) | parsed[key] = [val]; |
| [5934](#L5934) | } |
| [5935](#L5935) | } else { |
| [5936](#L5936) | parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val; |
| [5937](#L5937) | } |
| [5938](#L5938) | }); |
| [5939](#L5939) |  |
| [5940](#L5940) | return parsed; |
| [5941](#L5941) | }); |
| [5942](#L5942) |  |
| [5943](#L5943) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/core/AxiosHeaders.js |
| [5944](#L5944) |  |
| [5945](#L5945) |  |
| [5946](#L5946) |  |
| [5947](#L5947) |  |
| [5948](#L5948) |  |
| [5949](#L5949) | const $internals = Symbol('internals'); |
| [5950](#L5950) |  |
| [5951](#L5951) | function normalizeHeader(header) { |
| [5952](#L5952) | return header && String(header).trim().toLowerCase(); |
| [5953](#L5953) | } |
| [5954](#L5954) |  |
| [5955](#L5955) | function normalizeValue(value) { |
| [5956](#L5956) | if (value === false || value == null) { |
| [5957](#L5957) | return value; |
| [5958](#L5958) | } |
| [5959](#L5959) |  |
| [5960](#L5960) | return utils.isArray(value) ? value.map(normalizeValue) : String(value); |
| [5961](#L5961) | } |
| [5962](#L5962) |  |
| [5963](#L5963) | function parseTokens(str) { |
| [5964](#L5964) | const tokens = Object.create(null); |
| [5965](#L5965) | const tokensRE = /([^\s,;=]+)\s\*(?:=\s\*([^,;]+))?/g; |
| [5966](#L5966) | let match; |
| [5967](#L5967) |  |
| [5968](#L5968) | while ((match = tokensRE.exec(str))) { |
| [5969](#L5969) | tokens[match[1]] = match[2]; |
| [5970](#L5970) | } |
| [5971](#L5971) |  |
| [5972](#L5972) | return tokens; |
| [5973](#L5973) | } |
| [5974](#L5974) |  |
| [5975](#L5975) | const isValidHeaderName = (str) => /^[-\_a-zA-Z0-9^`|~,!#$%&'\*+.]+$/.test(str.trim()); |
| [5976](#L5976) |  |
| [5977](#L5977) | function matchHeaderValue(context, value, header, filter, isHeaderNameFilter) { |
| [5978](#L5978) | if (utils.isFunction(filter)) { |
| [5979](#L5979) | return filter.call(this, value, header); |
| [5980](#L5980) | } |
| [5981](#L5981) |  |
| [5982](#L5982) | if (isHeaderNameFilter) { |
| [5983](#L5983) | value = header; |
| [5984](#L5984) | } |
| [5985](#L5985) |  |
| [5986](#L5986) | if (!utils.isString(value)) return; |
| [5987](#L5987) |  |
| [5988](#L5988) | if (utils.isString(filter)) { |
| [5989](#L5989) | return value.indexOf(filter) !== -1; |
| [5990](#L5990) | } |
| [5991](#L5991) |  |
| [5992](#L5992) | if (utils.isRegExp(filter)) { |
| [5993](#L5993) | return filter.test(value); |
| [5994](#L5994) | } |
| [5995](#L5995) | } |
| [5996](#L5996) |  |
| [5997](#L5997) | function formatHeader(header) { |
| [5998](#L5998) | return header.trim() |
| [5999](#L5999) | .toLowerCase().replace(/([a-z\d])(\w\*)/g, (w, char, str) => { |
| [6000](#L6000) | return char.toUpperCase() + str; |
| [6001](#L6001) | }); |
| [6002](#L6002) | } |
| [6003](#L6003) |  |
| [6004](#L6004) | function buildAccessors(obj, header) { |
| [6005](#L6005) | const accessorName = utils.toCamelCase(' ' + header); |
| [6006](#L6006) |  |
| [6007](#L6007) | ['get', 'set', 'has'].forEach(methodName => { |
| [6008](#L6008) | Object.defineProperty(obj, methodName + accessorName, { |
| [6009](#L6009) | value: function(arg1, arg2, arg3) { |
| [6010](#L6010) | return this[methodName].call(this, header, arg1, arg2, arg3); |
| [6011](#L6011) | }, |
| [6012](#L6012) | configurable: true |
| [6013](#L6013) | }); |
| [6014](#L6014) | }); |
| [6015](#L6015) | } |
| [6016](#L6016) |  |
| [6017](#L6017) | class AxiosHeaders { |
| [6018](#L6018) | constructor(headers) { |
| [6019](#L6019) | headers && this.set(headers); |
| [6020](#L6020) | } |
| [6021](#L6021) |  |
| [6022](#L6022) | set(header, valueOrRewrite, rewrite) { |
| [6023](#L6023) | const self = this; |
| [6024](#L6024) |  |
| [6025](#L6025) | function setHeader(\_value, \_header, \_rewrite) { |
| [6026](#L6026) | const lHeader = normalizeHeader(\_header); |
| [6027](#L6027) |  |
| [6028](#L6028) | if (!lHeader) { |
| [6029](#L6029) | throw new Error('header name must be a non-empty string'); |
| [6030](#L6030) | } |
| [6031](#L6031) |  |
| [6032](#L6032) | const key = utils.findKey(self, lHeader); |
| [6033](#L6033) |  |
| [6034](#L6034) | if(!key || self[key] === undefined || \_rewrite === true || (\_rewrite === undefined && self[key] !== false)) { |
| [6035](#L6035) | self[key || \_header] = normalizeValue(\_value); |
| [6036](#L6036) | } |
| [6037](#L6037) | } |
| [6038](#L6038) |  |
| [6039](#L6039) | const setHeaders = (headers, \_rewrite) => |
| [6040](#L6040) | utils.forEach(headers, (\_value, \_header) => setHeader(\_value, \_header, \_rewrite)); |
| [6041](#L6041) |  |
| [6042](#L6042) | if (utils.isPlainObject(header) || header instanceof this.constructor) { |
| [6043](#L6043) | setHeaders(header, valueOrRewrite) |
| [6044](#L6044) | } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) { |
| [6045](#L6045) | setHeaders(parseHeaders(header), valueOrRewrite); |
| [6046](#L6046) | } else if (utils.isHeaders(header)) { |
| [6047](#L6047) | for (const [key, value] of header.entries()) { |
| [6048](#L6048) | setHeader(value, key, rewrite); |
| [6049](#L6049) | } |
| [6050](#L6050) | } else { |
| [6051](#L6051) | header != null && setHeader(valueOrRewrite, header, rewrite); |
| [6052](#L6052) | } |
| [6053](#L6053) |  |
| [6054](#L6054) | return this; |
| [6055](#L6055) | } |
| [6056](#L6056) |  |
| [6057](#L6057) | get(header, parser) { |
| [6058](#L6058) | header = normalizeHeader(header); |
| [6059](#L6059) |  |
| [6060](#L6060) | if (header) { |
| [6061](#L6061) | const key = utils.findKey(this, header); |
| [6062](#L6062) |  |
| [6063](#L6063) | if (key) { |
| [6064](#L6064) | const value = this[key]; |
| [6065](#L6065) |  |
| [6066](#L6066) | if (!parser) { |
| [6067](#L6067) | return value; |
| [6068](#L6068) | } |
| [6069](#L6069) |  |
| [6070](#L6070) | if (parser === true) { |
| [6071](#L6071) | return parseTokens(value); |
| [6072](#L6072) | } |
| [6073](#L6073) |  |
| [6074](#L6074) | if (utils.isFunction(parser)) { |
| [6075](#L6075) | return parser.call(this, value, key); |
| [6076](#L6076) | } |
| [6077](#L6077) |  |
| [6078](#L6078) | if (utils.isRegExp(parser)) { |
| [6079](#L6079) | return parser.exec(value); |
| [6080](#L6080) | } |
| [6081](#L6081) |  |
| [6082](#L6082) | throw new TypeError('parser must be boolean|regexp|function'); |
| [6083](#L6083) | } |
| [6084](#L6084) | } |
| [6085](#L6085) | } |
| [6086](#L6086) |  |
| [6087](#L6087) | has(header, matcher) { |
| [6088](#L6088) | header = normalizeHeader(header); |
| [6089](#L6089) |  |
| [6090](#L6090) | if (header) { |
| [6091](#L6091) | const key = utils.findKey(this, header); |
| [6092](#L6092) |  |
| [6093](#L6093) | return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher))); |
| [6094](#L6094) | } |
| [6095](#L6095) |  |
| [6096](#L6096) | return false; |
| [6097](#L6097) | } |
| [6098](#L6098) |  |
| [6099](#L6099) | delete(header, matcher) { |
| [6100](#L6100) | const self = this; |
| [6101](#L6101) | let deleted = false; |
| [6102](#L6102) |  |
| [6103](#L6103) | function deleteHeader(\_header) { |
| [6104](#L6104) | \_header = normalizeHeader(\_header); |
| [6105](#L6105) |  |
| [6106](#L6106) | if (\_header) { |
| [6107](#L6107) | const key = utils.findKey(self, \_header); |
| [6108](#L6108) |  |
| [6109](#L6109) | if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) { |
| [6110](#L6110) | delete self[key]; |
| [6111](#L6111) |  |
| [6112](#L6112) | deleted = true; |
| [6113](#L6113) | } |
| [6114](#L6114) | } |
| [6115](#L6115) | } |
| [6116](#L6116) |  |
| [6117](#L6117) | if (utils.isArray(header)) { |
| [6118](#L6118) | header.forEach(deleteHeader); |
| [6119](#L6119) | } else { |
| [6120](#L6120) | deleteHeader(header); |
| [6121](#L6121) | } |
| [6122](#L6122) |  |
| [6123](#L6123) | return deleted; |
| [6124](#L6124) | } |
| [6125](#L6125) |  |
| [6126](#L6126) | clear(matcher) { |
| [6127](#L6127) | const keys = Object.keys(this); |
| [6128](#L6128) | let i = keys.length; |
| [6129](#L6129) | let deleted = false; |
| [6130](#L6130) |  |
| [6131](#L6131) | while (i--) { |
| [6132](#L6132) | const key = keys[i]; |
| [6133](#L6133) | if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) { |
| [6134](#L6134) | delete this[key]; |
| [6135](#L6135) | deleted = true; |
| [6136](#L6136) | } |
| [6137](#L6137) | } |
| [6138](#L6138) |  |
| [6139](#L6139) | return deleted; |
| [6140](#L6140) | } |
| [6141](#L6141) |  |
| [6142](#L6142) | normalize(format) { |
| [6143](#L6143) | const self = this; |
| [6144](#L6144) | const headers = {}; |
| [6145](#L6145) |  |
| [6146](#L6146) | utils.forEach(this, (value, header) => { |
| [6147](#L6147) | const key = utils.findKey(headers, header); |
| [6148](#L6148) |  |
| [6149](#L6149) | if (key) { |
| [6150](#L6150) | self[key] = normalizeValue(value); |
| [6151](#L6151) | delete self[header]; |
| [6152](#L6152) | return; |
| [6153](#L6153) | } |
| [6154](#L6154) |  |
| [6155](#L6155) | const normalized = format ? formatHeader(header) : String(header).trim(); |
| [6156](#L6156) |  |
| [6157](#L6157) | if (normalized !== header) { |
| [6158](#L6158) | delete self[header]; |
| [6159](#L6159) | } |
| [6160](#L6160) |  |
| [6161](#L6161) | self[normalized] = normalizeValue(value); |
| [6162](#L6162) |  |
| [6163](#L6163) | headers[normalized] = true; |
| [6164](#L6164) | }); |
| [6165](#L6165) |  |
| [6166](#L6166) | return this; |
| [6167](#L6167) | } |
| [6168](#L6168) |  |
| [6169](#L6169) | concat(...targets) { |
| [6170](#L6170) | return this.constructor.concat(this, ...targets); |
| [6171](#L6171) | } |
| [6172](#L6172) |  |
| [6173](#L6173) | toJSON(asStrings) { |
| [6174](#L6174) | const obj = Object.create(null); |
| [6175](#L6175) |  |
| [6176](#L6176) | utils.forEach(this, (value, header) => { |
| [6177](#L6177) | value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value); |
| [6178](#L6178) | }); |
| [6179](#L6179) |  |
| [6180](#L6180) | return obj; |
| [6181](#L6181) | } |
| [6182](#L6182) |  |
| [6183](#L6183) | [Symbol.iterator]() { |
| [6184](#L6184) | return Object.entries(this.toJSON())[Symbol.iterator](); |
| [6185](#L6185) | } |
| [6186](#L6186) |  |
| [6187](#L6187) | toString() { |
| [6188](#L6188) | return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\n'); |
| [6189](#L6189) | } |
| [6190](#L6190) |  |
| [6191](#L6191) | get [Symbol.toStringTag]() { |
| [6192](#L6192) | return 'AxiosHeaders'; |
| [6193](#L6193) | } |
| [6194](#L6194) |  |
| [6195](#L6195) | static from(thing) { |
| [6196](#L6196) | return thing instanceof this ? thing : new this(thing); |
| [6197](#L6197) | } |
| [6198](#L6198) |  |
| [6199](#L6199) | static concat(first, ...targets) { |
| [6200](#L6200) | const computed = new this(first); |
| [6201](#L6201) |  |
| [6202](#L6202) | targets.forEach((target) => computed.set(target)); |
| [6203](#L6203) |  |
| [6204](#L6204) | return computed; |
| [6205](#L6205) | } |
| [6206](#L6206) |  |
| [6207](#L6207) | static accessor(header) { |
| [6208](#L6208) | const internals = this[$internals] = (this[$internals] = { |
| [6209](#L6209) | accessors: {} |
| [6210](#L6210) | }); |
| [6211](#L6211) |  |
| [6212](#L6212) | const accessors = internals.accessors; |
| [6213](#L6213) | const prototype = this.prototype; |
| [6214](#L6214) |  |
| [6215](#L6215) | function defineAccessor(\_header) { |
| [6216](#L6216) | const lHeader = normalizeHeader(\_header); |
| [6217](#L6217) |  |
| [6218](#L6218) | if (!accessors[lHeader]) { |
| [6219](#L6219) | buildAccessors(prototype, \_header); |
| [6220](#L6220) | accessors[lHeader] = true; |
| [6221](#L6221) | } |
| [6222](#L6222) | } |
| [6223](#L6223) |  |
| [6224](#L6224) | utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header); |
| [6225](#L6225) |  |
| [6226](#L6226) | return this; |
| [6227](#L6227) | } |
| [6228](#L6228) | } |
| [6229](#L6229) |  |
| [6230](#L6230) | AxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']); |
| [6231](#L6231) |  |
| [6232](#L6232) | // reserved names hotfix |
| [6233](#L6233) | utils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => { |
| [6234](#L6234) | let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set` |
| [6235](#L6235) | return { |
| [6236](#L6236) | get: () => value, |
| [6237](#L6237) | set(headerValue) { |
| [6238](#L6238) | this[mapped] = headerValue; |
| [6239](#L6239) | } |
| [6240](#L6240) | } |
| [6241](#L6241) | }); |
| [6242](#L6242) |  |
| [6243](#L6243) | utils.freezeMethods(AxiosHeaders); |
| [6244](#L6244) |  |
| [6245](#L6245) | /\* harmony default export \*/ var core\_AxiosHeaders = (AxiosHeaders); |
| [6246](#L6246) |  |
| [6247](#L6247) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/core/transformData.js |
| [6248](#L6248) |  |
| [6249](#L6249) |  |
| [6250](#L6250) |  |
| [6251](#L6251) |  |
| [6252](#L6252) |  |
| [6253](#L6253) |  |
| [6254](#L6254) | /\*\* |
| [6255](#L6255) | \* Transform the data for a request or a response |
| [6256](#L6256) | \* |
| [6257](#L6257) | \* @param {Array|Function} fns A single function or Array of functions |
| [6258](#L6258) | \* @param {?Object} response The response object |
| [6259](#L6259) | \* |
| [6260](#L6260) | \* @returns {\*} The resulting transformed data |
| [6261](#L6261) | \*/ |
| [6262](#L6262) | function transformData(fns, response) { |
| [6263](#L6263) | const config = this || lib\_defaults; |
| [6264](#L6264) | const context = response || config; |
| [6265](#L6265) | const headers = core\_AxiosHeaders.from(context.headers); |
| [6266](#L6266) | let data = context.data; |
| [6267](#L6267) |  |
| [6268](#L6268) | utils.forEach(fns, function transform(fn) { |
| [6269](#L6269) | data = fn.call(config, data, headers.normalize(), response ? response.status : undefined); |
| [6270](#L6270) | }); |
| [6271](#L6271) |  |
| [6272](#L6272) | headers.normalize(); |
| [6273](#L6273) |  |
| [6274](#L6274) | return data; |
| [6275](#L6275) | } |
| [6276](#L6276) |  |
| [6277](#L6277) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/cancel/isCancel.js |
| [6278](#L6278) |  |
| [6279](#L6279) |  |
| [6280](#L6280) | function isCancel(value) { |
| [6281](#L6281) | return !!(value && value.\_\_CANCEL\_\_); |
| [6282](#L6282) | } |
| [6283](#L6283) |  |
| [6284](#L6284) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/cancel/CanceledError.js |
| [6285](#L6285) |  |
| [6286](#L6286) |  |
| [6287](#L6287) |  |
| [6288](#L6288) |  |
| [6289](#L6289) |  |
| [6290](#L6290) | /\*\* |
| [6291](#L6291) | \* A `CanceledError` is an object that is thrown when an operation is canceled. |
| [6292](#L6292) | \* |
| [6293](#L6293) | \* @param {string=} message The message. |
| [6294](#L6294) | \* @param {Object=} config The config. |
| [6295](#L6295) | \* @param {Object=} request The request. |
| [6296](#L6296) | \* |
| [6297](#L6297) | \* @returns {CanceledError} The created error. |
| [6298](#L6298) | \*/ |
| [6299](#L6299) | function CanceledError(message, config, request) { |
| [6300](#L6300) | // eslint-disable-next-line no-eq-null,eqeqeq |
| [6301](#L6301) | core\_AxiosError.call(this, message == null ? 'canceled' : message, core\_AxiosError.ERR\_CANCELED, config, request); |
| [6302](#L6302) | this.name = 'CanceledError'; |
| [6303](#L6303) | } |
| [6304](#L6304) |  |
| [6305](#L6305) | utils.inherits(CanceledError, core\_AxiosError, { |
| [6306](#L6306) | \_\_CANCEL\_\_: true |
| [6307](#L6307) | }); |
| [6308](#L6308) |  |
| [6309](#L6309) | /\* harmony default export \*/ var cancel\_CanceledError = (CanceledError); |
| [6310](#L6310) |  |
| [6311](#L6311) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/core/settle.js |
| [6312](#L6312) |  |
| [6313](#L6313) |  |
| [6314](#L6314) |  |
| [6315](#L6315) |  |
| [6316](#L6316) | /\*\* |
| [6317](#L6317) | \* Resolve or reject a Promise based on response status. |
| [6318](#L6318) | \* |
| [6319](#L6319) | \* @param {Function} resolve A function that resolves the promise. |
| [6320](#L6320) | \* @param {Function} reject A function that rejects the promise. |
| [6321](#L6321) | \* @param {object} response The response. |
| [6322](#L6322) | \* |
| [6323](#L6323) | \* @returns {object} The response. |
| [6324](#L6324) | \*/ |
| [6325](#L6325) | function settle(resolve, reject, response) { |
| [6326](#L6326) | const validateStatus = response.config.validateStatus; |
| [6327](#L6327) | if (!response.status || !validateStatus || validateStatus(response.status)) { |
| [6328](#L6328) | resolve(response); |
| [6329](#L6329) | } else { |
| [6330](#L6330) | reject(new core\_AxiosError( |
| [6331](#L6331) | 'Request failed with status code ' + response.status, |
| [6332](#L6332) | [core\_AxiosError.ERR\_BAD\_REQUEST, core\_AxiosError.ERR\_BAD\_RESPONSE][Math.floor(response.status / 100) - 4], |
| [6333](#L6333) | response.config, |
| [6334](#L6334) | response.request, |
| [6335](#L6335) | response |
| [6336](#L6336) | )); |
| [6337](#L6337) | } |
| [6338](#L6338) | } |
| [6339](#L6339) |  |
| [6340](#L6340) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/parseProtocol.js |
| [6341](#L6341) |  |
| [6342](#L6342) |  |
| [6343](#L6343) | function parseProtocol(url) { |
| [6344](#L6344) | const match = /^([-+\w]{1,25})(:?\/\/|:)/.exec(url); |
| [6345](#L6345) | return match && match[1] || ''; |
| [6346](#L6346) | } |
| [6347](#L6347) |  |
| [6348](#L6348) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/speedometer.js |
| [6349](#L6349) |  |
| [6350](#L6350) |  |
| [6351](#L6351) | /\*\* |
| [6352](#L6352) | \* Calculate data maxRate |
| [6353](#L6353) | \* @param {Number} [samplesCount= 10] |
| [6354](#L6354) | \* @param {Number} [min= 1000] |
| [6355](#L6355) | \* @returns {Function} |
| [6356](#L6356) | \*/ |
| [6357](#L6357) | function speedometer(samplesCount, min) { |
| [6358](#L6358) | samplesCount = samplesCount || 10; |
| [6359](#L6359) | const bytes = new Array(samplesCount); |
| [6360](#L6360) | const timestamps = new Array(samplesCount); |
| [6361](#L6361) | let head = 0; |
| [6362](#L6362) | let tail = 0; |
| [6363](#L6363) | let firstSampleTS; |
| [6364](#L6364) |  |
| [6365](#L6365) | min = min !== undefined ? min : 1000; |
| [6366](#L6366) |  |
| [6367](#L6367) | return function push(chunkLength) { |
| [6368](#L6368) | const now = Date.now(); |
| [6369](#L6369) |  |
| [6370](#L6370) | const startedAt = timestamps[tail]; |
| [6371](#L6371) |  |
| [6372](#L6372) | if (!firstSampleTS) { |
| [6373](#L6373) | firstSampleTS = now; |
| [6374](#L6374) | } |
| [6375](#L6375) |  |
| [6376](#L6376) | bytes[head] = chunkLength; |
| [6377](#L6377) | timestamps[head] = now; |
| [6378](#L6378) |  |
| [6379](#L6379) | let i = tail; |
| [6380](#L6380) | let bytesCount = 0; |
| [6381](#L6381) |  |
| [6382](#L6382) | while (i !== head) { |
| [6383](#L6383) | bytesCount += bytes[i++]; |
| [6384](#L6384) | i = i % samplesCount; |
| [6385](#L6385) | } |
| [6386](#L6386) |  |
| [6387](#L6387) | head = (head + 1) % samplesCount; |
| [6388](#L6388) |  |
| [6389](#L6389) | if (head === tail) { |
| [6390](#L6390) | tail = (tail + 1) % samplesCount; |
| [6391](#L6391) | } |
| [6392](#L6392) |  |
| [6393](#L6393) | if (now - firstSampleTS < min) { |
| [6394](#L6394) | return; |
| [6395](#L6395) | } |
| [6396](#L6396) |  |
| [6397](#L6397) | const passed = startedAt && now - startedAt; |
| [6398](#L6398) |  |
| [6399](#L6399) | return passed ? Math.round(bytesCount \* 1000 / passed) : undefined; |
| [6400](#L6400) | }; |
| [6401](#L6401) | } |
| [6402](#L6402) |  |
| [6403](#L6403) | /\* harmony default export \*/ var helpers\_speedometer = (speedometer); |
| [6404](#L6404) |  |
| [6405](#L6405) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/throttle.js |
| [6406](#L6406) |  |
| [6407](#L6407) |  |
| [6408](#L6408) | /\*\* |
| [6409](#L6409) | \* Throttle decorator |
| [6410](#L6410) | \* @param {Function} fn |
| [6411](#L6411) | \* @param {Number} freq |
| [6412](#L6412) | \* @return {Function} |
| [6413](#L6413) | \*/ |
| [6414](#L6414) | function throttle(fn, freq) { |
| [6415](#L6415) | let timestamp = 0; |
| [6416](#L6416) | const threshold = 1000 / freq; |
| [6417](#L6417) | let timer = null; |
| [6418](#L6418) | return function throttled() { |
| [6419](#L6419) | const force = this === true; |
| [6420](#L6420) |  |
| [6421](#L6421) | const now = Date.now(); |
| [6422](#L6422) | if (force || now - timestamp > threshold) { |
| [6423](#L6423) | if (timer) { |
| [6424](#L6424) | clearTimeout(timer); |
| [6425](#L6425) | timer = null; |
| [6426](#L6426) | } |
| [6427](#L6427) | timestamp = now; |
| [6428](#L6428) | return fn.apply(null, arguments); |
| [6429](#L6429) | } |
| [6430](#L6430) | if (!timer) { |
| [6431](#L6431) | timer = setTimeout(() => { |
| [6432](#L6432) | timer = null; |
| [6433](#L6433) | timestamp = Date.now(); |
| [6434](#L6434) | return fn.apply(null, arguments); |
| [6435](#L6435) | }, threshold - (now - timestamp)); |
| [6436](#L6436) | } |
| [6437](#L6437) | }; |
| [6438](#L6438) | } |
| [6439](#L6439) |  |
| [6440](#L6440) | /\* harmony default export \*/ var helpers\_throttle = (throttle); |
| [6441](#L6441) |  |
| [6442](#L6442) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/progressEventReducer.js |
| [6443](#L6443) |  |
| [6444](#L6444) |  |
| [6445](#L6445) |  |
| [6446](#L6446) | /\* harmony default export \*/ var progressEventReducer = ((listener, isDownloadStream, freq = 3) => { |
| [6447](#L6447) | let bytesNotified = 0; |
| [6448](#L6448) | const \_speedometer = helpers\_speedometer(50, 250); |
| [6449](#L6449) |  |
| [6450](#L6450) | return helpers\_throttle(e => { |
| [6451](#L6451) | const loaded = e.loaded; |
| [6452](#L6452) | const total = e.lengthComputable ? e.total : undefined; |
| [6453](#L6453) | const progressBytes = loaded - bytesNotified; |
| [6454](#L6454) | const rate = \_speedometer(progressBytes); |
| [6455](#L6455) | const inRange = loaded <= total; |
| [6456](#L6456) |  |
| [6457](#L6457) | bytesNotified = loaded; |
| [6458](#L6458) |  |
| [6459](#L6459) | const data = { |
| [6460](#L6460) | loaded, |
| [6461](#L6461) | total, |
| [6462](#L6462) | progress: total ? (loaded / total) : undefined, |
| [6463](#L6463) | bytes: progressBytes, |
| [6464](#L6464) | rate: rate ? rate : undefined, |
| [6465](#L6465) | estimated: rate && total && inRange ? (total - loaded) / rate : undefined, |
| [6466](#L6466) | event: e, |
| [6467](#L6467) | lengthComputable: total != null |
| [6468](#L6468) | }; |
| [6469](#L6469) |  |
| [6470](#L6470) | data[isDownloadStream ? 'download' : 'upload'] = true; |
| [6471](#L6471) |  |
| [6472](#L6472) | listener(data); |
| [6473](#L6473) | }, freq); |
| [6474](#L6474) | }); |
| [6475](#L6475) |  |
| [6476](#L6476) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/isURLSameOrigin.js |
| [6477](#L6477) |  |
| [6478](#L6478) |  |
| [6479](#L6479) |  |
| [6480](#L6480) |  |
| [6481](#L6481) |  |
| [6482](#L6482) | /\* harmony default export \*/ var isURLSameOrigin = (platform.hasStandardBrowserEnv ? |
| [6483](#L6483) |  |
| [6484](#L6484) | // Standard browser envs have full support of the APIs needed to test |
| [6485](#L6485) | // whether the request URL is of the same origin as current location. |
| [6486](#L6486) | (function standardBrowserEnv() { |
| [6487](#L6487) | const msie = /(msie|trident)/i.test(navigator.userAgent); |
| [6488](#L6488) | const urlParsingNode = document.createElement('a'); |
| [6489](#L6489) | let originURL; |
| [6490](#L6490) |  |
| [6491](#L6491) | /\*\* |
| [6492](#L6492) | \* Parse a URL to discover its components |
| [6493](#L6493) | \* |
| [6494](#L6494) | \* @param {String} url The URL to be parsed |
| [6495](#L6495) | \* @returns {Object} |
| [6496](#L6496) | \*/ |
| [6497](#L6497) | function resolveURL(url) { |
| [6498](#L6498) | let href = url; |
| [6499](#L6499) |  |
| [6500](#L6500) | if (msie) { |
| [6501](#L6501) | // IE needs attribute set twice to normalize properties |
| [6502](#L6502) | urlParsingNode.setAttribute('href', href); |
| [6503](#L6503) | href = urlParsingNode.href; |
| [6504](#L6504) | } |
| [6505](#L6505) |  |
| [6506](#L6506) | urlParsingNode.setAttribute('href', href); |
| [6507](#L6507) |  |
| [6508](#L6508) | // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils |
| [6509](#L6509) | return { |
| [6510](#L6510) | href: urlParsingNode.href, |
| [6511](#L6511) | protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '', |
| [6512](#L6512) | host: urlParsingNode.host, |
| [6513](#L6513) | search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, '') : '', |
| [6514](#L6514) | hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '', |
| [6515](#L6515) | hostname: urlParsingNode.hostname, |
| [6516](#L6516) | port: urlParsingNode.port, |
| [6517](#L6517) | pathname: (urlParsingNode.pathname.charAt(0) === '/') ? |
| [6518](#L6518) | urlParsingNode.pathname : |
| [6519](#L6519) | '/' + urlParsingNode.pathname |
| [6520](#L6520) | }; |
| [6521](#L6521) | } |
| [6522](#L6522) |  |
| [6523](#L6523) | originURL = resolveURL(window.location.href); |
| [6524](#L6524) |  |
| [6525](#L6525) | /\*\* |
| [6526](#L6526) | \* Determine if a URL shares the same origin as the current location |
| [6527](#L6527) | \* |
| [6528](#L6528) | \* @param {String} requestURL The URL to test |
| [6529](#L6529) | \* @returns {boolean} True if URL shares the same origin, otherwise false |
| [6530](#L6530) | \*/ |
| [6531](#L6531) | return function isURLSameOrigin(requestURL) { |
| [6532](#L6532) | const parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL; |
| [6533](#L6533) | return (parsed.protocol === originURL.protocol && |
| [6534](#L6534) | parsed.host === originURL.host); |
| [6535](#L6535) | }; |
| [6536](#L6536) | })() : |
| [6537](#L6537) |  |
| [6538](#L6538) | // Non standard browser envs (web workers, react-native) lack needed support. |
| [6539](#L6539) | (function nonStandardBrowserEnv() { |
| [6540](#L6540) | return function isURLSameOrigin() { |
| [6541](#L6541) | return true; |
| [6542](#L6542) | }; |
| [6543](#L6543) | })()); |
| [6544](#L6544) |  |
| [6545](#L6545) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/cookies.js |
| [6546](#L6546) |  |
| [6547](#L6547) |  |
| [6548](#L6548) |  |
| [6549](#L6549) | /\* harmony default export \*/ var cookies = (platform.hasStandardBrowserEnv ? |
| [6550](#L6550) |  |
| [6551](#L6551) | // Standard browser envs support document.cookie |
| [6552](#L6552) | { |
| [6553](#L6553) | write(name, value, expires, path, domain, secure) { |
| [6554](#L6554) | const cookie = [name + '=' + encodeURIComponent(value)]; |
| [6555](#L6555) |  |
| [6556](#L6556) | utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString()); |
| [6557](#L6557) |  |
| [6558](#L6558) | utils.isString(path) && cookie.push('path=' + path); |
| [6559](#L6559) |  |
| [6560](#L6560) | utils.isString(domain) && cookie.push('domain=' + domain); |
| [6561](#L6561) |  |
| [6562](#L6562) | secure === true && cookie.push('secure'); |
| [6563](#L6563) |  |
| [6564](#L6564) | document.cookie = cookie.join('; '); |
| [6565](#L6565) | }, |
| [6566](#L6566) |  |
| [6567](#L6567) | read(name) { |
| [6568](#L6568) | const match = document.cookie.match(new RegExp('(^|;\\s\*)(' + name + ')=([^;]\*)')); |
| [6569](#L6569) | return (match ? decodeURIComponent(match[3]) : null); |
| [6570](#L6570) | }, |
| [6571](#L6571) |  |
| [6572](#L6572) | remove(name) { |
| [6573](#L6573) | this.write(name, '', Date.now() - 86400000); |
| [6574](#L6574) | } |
| [6575](#L6575) | } |
| [6576](#L6576) |  |
| [6577](#L6577) | : |
| [6578](#L6578) |  |
| [6579](#L6579) | // Non-standard browser env (web workers, react-native) lack needed support. |
| [6580](#L6580) | { |
| [6581](#L6581) | write() {}, |
| [6582](#L6582) | read() { |
| [6583](#L6583) | return null; |
| [6584](#L6584) | }, |
| [6585](#L6585) | remove() {} |
| [6586](#L6586) | }); |
| [6587](#L6587) |  |
| [6588](#L6588) |  |
| [6589](#L6589) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/isAbsoluteURL.js |
| [6590](#L6590) |  |
| [6591](#L6591) |  |
| [6592](#L6592) | /\*\* |
| [6593](#L6593) | \* Determines whether the specified URL is absolute |
| [6594](#L6594) | \* |
| [6595](#L6595) | \* @param {string} url The URL to test |
| [6596](#L6596) | \* |
| [6597](#L6597) | \* @returns {boolean} True if the specified URL is absolute, otherwise false |
| [6598](#L6598) | \*/ |
| [6599](#L6599) | function isAbsoluteURL(url) { |
| [6600](#L6600) | // A URL is considered absolute if it begins with "<scheme>://" or "//" (protocol-relative URL). |
| [6601](#L6601) | // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed |
| [6602](#L6602) | // by any combination of letters, digits, plus, period, or hyphen. |
| [6603](#L6603) | return /^([a-z][a-z\d+\-.]\*:)?\/\//i.test(url); |
| [6604](#L6604) | } |
| [6605](#L6605) |  |
| [6606](#L6606) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/combineURLs.js |
| [6607](#L6607) |  |
| [6608](#L6608) |  |
| [6609](#L6609) | /\*\* |
| [6610](#L6610) | \* Creates a new URL by combining the specified URLs |
| [6611](#L6611) | \* |
| [6612](#L6612) | \* @param {string} baseURL The base URL |
| [6613](#L6613) | \* @param {string} relativeURL The relative URL |
| [6614](#L6614) | \* |
| [6615](#L6615) | \* @returns {string} The combined URL |
| [6616](#L6616) | \*/ |
| [6617](#L6617) | function combineURLs(baseURL, relativeURL) { |
| [6618](#L6618) | return relativeURL |
| [6619](#L6619) | ? baseURL.replace(/\/?\/$/, '') + '/' + relativeURL.replace(/^\/+/, '') |
| [6620](#L6620) | : baseURL; |
| [6621](#L6621) | } |
| [6622](#L6622) |  |
| [6623](#L6623) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/core/buildFullPath.js |
| [6624](#L6624) |  |
| [6625](#L6625) |  |
| [6626](#L6626) |  |
| [6627](#L6627) |  |
| [6628](#L6628) |  |
| [6629](#L6629) | /\*\* |
| [6630](#L6630) | \* Creates a new URL by combining the baseURL with the requestedURL, |
| [6631](#L6631) | \* only when the requestedURL is not already an absolute URL. |
| [6632](#L6632) | \* If the requestURL is absolute, this function returns the requestedURL untouched. |
| [6633](#L6633) | \* |
| [6634](#L6634) | \* @param {string} baseURL The base URL |
| [6635](#L6635) | \* @param {string} requestedURL Absolute or relative URL to combine |
| [6636](#L6636) | \* |
| [6637](#L6637) | \* @returns {string} The combined full path |
| [6638](#L6638) | \*/ |
| [6639](#L6639) | function buildFullPath(baseURL, requestedURL) { |
| [6640](#L6640) | if (baseURL && !isAbsoluteURL(requestedURL)) { |
| [6641](#L6641) | return combineURLs(baseURL, requestedURL); |
| [6642](#L6642) | } |
| [6643](#L6643) | return requestedURL; |
| [6644](#L6644) | } |
| [6645](#L6645) |  |
| [6646](#L6646) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/core/mergeConfig.js |
| [6647](#L6647) |  |
| [6648](#L6648) |  |
| [6649](#L6649) |  |
| [6650](#L6650) |  |
| [6651](#L6651) |  |
| [6652](#L6652) | const headersToObject = (thing) => thing instanceof core\_AxiosHeaders ? { ...thing } : thing; |
| [6653](#L6653) |  |
| [6654](#L6654) | /\*\* |
| [6655](#L6655) | \* Config-specific merge-function which creates a new config-object |
| [6656](#L6656) | \* by merging two configuration objects together. |
| [6657](#L6657) | \* |
| [6658](#L6658) | \* @param {Object} config1 |
| [6659](#L6659) | \* @param {Object} config2 |
| [6660](#L6660) | \* |
| [6661](#L6661) | \* @returns {Object} New object resulting from merging config2 to config1 |
| [6662](#L6662) | \*/ |
| [6663](#L6663) | function mergeConfig(config1, config2) { |
| [6664](#L6664) | // eslint-disable-next-line no-param-reassign |
| [6665](#L6665) | config2 = config2 || {}; |
| [6666](#L6666) | const config = {}; |
| [6667](#L6667) |  |
| [6668](#L6668) | function getMergedValue(target, source, caseless) { |
| [6669](#L6669) | if (utils.isPlainObject(target) && utils.isPlainObject(source)) { |
| [6670](#L6670) | return utils.merge.call({caseless}, target, source); |
| [6671](#L6671) | } else if (utils.isPlainObject(source)) { |
| [6672](#L6672) | return utils.merge({}, source); |
| [6673](#L6673) | } else if (utils.isArray(source)) { |
| [6674](#L6674) | return source.slice(); |
| [6675](#L6675) | } |
| [6676](#L6676) | return source; |
| [6677](#L6677) | } |
| [6678](#L6678) |  |
| [6679](#L6679) | // eslint-disable-next-line consistent-return |
| [6680](#L6680) | function mergeDeepProperties(a, b, caseless) { |
| [6681](#L6681) | if (!utils.isUndefined(b)) { |
| [6682](#L6682) | return getMergedValue(a, b, caseless); |
| [6683](#L6683) | } else if (!utils.isUndefined(a)) { |
| [6684](#L6684) | return getMergedValue(undefined, a, caseless); |
| [6685](#L6685) | } |
| [6686](#L6686) | } |
| [6687](#L6687) |  |
| [6688](#L6688) | // eslint-disable-next-line consistent-return |
| [6689](#L6689) | function valueFromConfig2(a, b) { |
| [6690](#L6690) | if (!utils.isUndefined(b)) { |
| [6691](#L6691) | return getMergedValue(undefined, b); |
| [6692](#L6692) | } |
| [6693](#L6693) | } |
| [6694](#L6694) |  |
| [6695](#L6695) | // eslint-disable-next-line consistent-return |
| [6696](#L6696) | function defaultToConfig2(a, b) { |
| [6697](#L6697) | if (!utils.isUndefined(b)) { |
| [6698](#L6698) | return getMergedValue(undefined, b); |
| [6699](#L6699) | } else if (!utils.isUndefined(a)) { |
| [6700](#L6700) | return getMergedValue(undefined, a); |
| [6701](#L6701) | } |
| [6702](#L6702) | } |
| [6703](#L6703) |  |
| [6704](#L6704) | // eslint-disable-next-line consistent-return |
| [6705](#L6705) | function mergeDirectKeys(a, b, prop) { |
| [6706](#L6706) | if (prop in config2) { |
| [6707](#L6707) | return getMergedValue(a, b); |
| [6708](#L6708) | } else if (prop in config1) { |
| [6709](#L6709) | return getMergedValue(undefined, a); |
| [6710](#L6710) | } |
| [6711](#L6711) | } |
| [6712](#L6712) |  |
| [6713](#L6713) | const mergeMap = { |
| [6714](#L6714) | url: valueFromConfig2, |
| [6715](#L6715) | method: valueFromConfig2, |
| [6716](#L6716) | data: valueFromConfig2, |
| [6717](#L6717) | baseURL: defaultToConfig2, |
| [6718](#L6718) | transformRequest: defaultToConfig2, |
| [6719](#L6719) | transformResponse: defaultToConfig2, |
| [6720](#L6720) | paramsSerializer: defaultToConfig2, |
| [6721](#L6721) | timeout: defaultToConfig2, |
| [6722](#L6722) | timeoutMessage: defaultToConfig2, |
| [6723](#L6723) | withCredentials: defaultToConfig2, |
| [6724](#L6724) | withXSRFToken: defaultToConfig2, |
| [6725](#L6725) | adapter: defaultToConfig2, |
| [6726](#L6726) | responseType: defaultToConfig2, |
| [6727](#L6727) | xsrfCookieName: defaultToConfig2, |
| [6728](#L6728) | xsrfHeaderName: defaultToConfig2, |
| [6729](#L6729) | onUploadProgress: defaultToConfig2, |
| [6730](#L6730) | onDownloadProgress: defaultToConfig2, |
| [6731](#L6731) | decompress: defaultToConfig2, |
| [6732](#L6732) | maxContentLength: defaultToConfig2, |
| [6733](#L6733) | maxBodyLength: defaultToConfig2, |
| [6734](#L6734) | beforeRedirect: defaultToConfig2, |
| [6735](#L6735) | transport: defaultToConfig2, |
| [6736](#L6736) | httpAgent: defaultToConfig2, |
| [6737](#L6737) | httpsAgent: defaultToConfig2, |
| [6738](#L6738) | cancelToken: defaultToConfig2, |
| [6739](#L6739) | socketPath: defaultToConfig2, |
| [6740](#L6740) | responseEncoding: defaultToConfig2, |
| [6741](#L6741) | validateStatus: mergeDirectKeys, |
| [6742](#L6742) | headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true) |
| [6743](#L6743) | }; |
| [6744](#L6744) |  |
| [6745](#L6745) | utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) { |
| [6746](#L6746) | const merge = mergeMap[prop] || mergeDeepProperties; |
| [6747](#L6747) | const configValue = merge(config1[prop], config2[prop], prop); |
| [6748](#L6748) | (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue); |
| [6749](#L6749) | }); |
| [6750](#L6750) |  |
| [6751](#L6751) | return config; |
| [6752](#L6752) | } |
| [6753](#L6753) |  |
| [6754](#L6754) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/resolveConfig.js |
| [6755](#L6755) |  |
| [6756](#L6756) |  |
| [6757](#L6757) |  |
| [6758](#L6758) |  |
| [6759](#L6759) |  |
| [6760](#L6760) |  |
| [6761](#L6761) |  |
| [6762](#L6762) |  |
| [6763](#L6763) |  |
| [6764](#L6764) | /\* harmony default export \*/ var resolveConfig = ((config) => { |
| [6765](#L6765) | const newConfig = mergeConfig({}, config); |
| [6766](#L6766) |  |
| [6767](#L6767) | let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig; |
| [6768](#L6768) |  |
| [6769](#L6769) | newConfig.headers = headers = core\_AxiosHeaders.from(headers); |
| [6770](#L6770) |  |
| [6771](#L6771) | newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer); |
| [6772](#L6772) |  |
| [6773](#L6773) | // HTTP basic authentication |
| [6774](#L6774) | if (auth) { |
| [6775](#L6775) | headers.set('Authorization', 'Basic ' + |
| [6776](#L6776) | btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : '')) |
| [6777](#L6777) | ); |
| [6778](#L6778) | } |
| [6779](#L6779) |  |
| [6780](#L6780) | let contentType; |
| [6781](#L6781) |  |
| [6782](#L6782) | if (utils.isFormData(data)) { |
| [6783](#L6783) | if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) { |
| [6784](#L6784) | headers.setContentType(undefined); // Let the browser set it |
| [6785](#L6785) | } else if ((contentType = headers.getContentType()) !== false) { |
| [6786](#L6786) | // fix semicolon duplication issue for ReactNative FormData implementation |
| [6787](#L6787) | const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : []; |
| [6788](#L6788) | headers.setContentType([type || 'multipart/form-data', ...tokens].join('; ')); |
| [6789](#L6789) | } |
| [6790](#L6790) | } |
| [6791](#L6791) |  |
| [6792](#L6792) | // Add xsrf header |
| [6793](#L6793) | // This is only done if running in a standard browser environment. |
| [6794](#L6794) | // Specifically not if we're in a web worker, or react-native. |
| [6795](#L6795) |  |
| [6796](#L6796) | if (platform.hasStandardBrowserEnv) { |
| [6797](#L6797) | withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig)); |
| [6798](#L6798) |  |
| [6799](#L6799) | if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) { |
| [6800](#L6800) | // Add xsrf header |
| [6801](#L6801) | const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName); |
| [6802](#L6802) |  |
| [6803](#L6803) | if (xsrfValue) { |
| [6804](#L6804) | headers.set(xsrfHeaderName, xsrfValue); |
| [6805](#L6805) | } |
| [6806](#L6806) | } |
| [6807](#L6807) | } |
| [6808](#L6808) |  |
| [6809](#L6809) | return newConfig; |
| [6810](#L6810) | }); |
| [6811](#L6811) |  |
| [6812](#L6812) |  |
| [6813](#L6813) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/adapters/xhr.js |
| [6814](#L6814) |  |
| [6815](#L6815) |  |
| [6816](#L6816) |  |
| [6817](#L6817) |  |
| [6818](#L6818) |  |
| [6819](#L6819) |  |
| [6820](#L6820) |  |
| [6821](#L6821) |  |
| [6822](#L6822) |  |
| [6823](#L6823) |  |
| [6824](#L6824) |  |
| [6825](#L6825) | const isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined'; |
| [6826](#L6826) |  |
| [6827](#L6827) | /\* harmony default export \*/ var xhr = (isXHRAdapterSupported && function (config) { |
| [6828](#L6828) | return new Promise(function dispatchXhrRequest(resolve, reject) { |
| [6829](#L6829) | const \_config = resolveConfig(config); |
| [6830](#L6830) | let requestData = \_config.data; |
| [6831](#L6831) | const requestHeaders = core\_AxiosHeaders.from(\_config.headers).normalize(); |
| [6832](#L6832) | let {responseType} = \_config; |
| [6833](#L6833) | let onCanceled; |
| [6834](#L6834) | function done() { |
| [6835](#L6835) | if (\_config.cancelToken) { |
| [6836](#L6836) | \_config.cancelToken.unsubscribe(onCanceled); |
| [6837](#L6837) | } |
| [6838](#L6838) |  |
| [6839](#L6839) | if (\_config.signal) { |
| [6840](#L6840) | \_config.signal.removeEventListener('abort', onCanceled); |
| [6841](#L6841) | } |
| [6842](#L6842) | } |
| [6843](#L6843) |  |
| [6844](#L6844) | let request = new XMLHttpRequest(); |
| [6845](#L6845) |  |
| [6846](#L6846) | request.open(\_config.method.toUpperCase(), \_config.url, true); |
| [6847](#L6847) |  |
| [6848](#L6848) | // Set the request timeout in MS |
| [6849](#L6849) | request.timeout = \_config.timeout; |
| [6850](#L6850) |  |
| [6851](#L6851) | function onloadend() { |
| [6852](#L6852) | if (!request) { |
| [6853](#L6853) | return; |
| [6854](#L6854) | } |
| [6855](#L6855) | // Prepare the response |
| [6856](#L6856) | const responseHeaders = core\_AxiosHeaders.from( |
| [6857](#L6857) | 'getAllResponseHeaders' in request && request.getAllResponseHeaders() |
| [6858](#L6858) | ); |
| [6859](#L6859) | const responseData = !responseType || responseType === 'text' || responseType === 'json' ? |
| [6860](#L6860) | request.responseText : request.response; |
| [6861](#L6861) | const response = { |
| [6862](#L6862) | data: responseData, |
| [6863](#L6863) | status: request.status, |
| [6864](#L6864) | statusText: request.statusText, |
| [6865](#L6865) | headers: responseHeaders, |
| [6866](#L6866) | config, |
| [6867](#L6867) | request |
| [6868](#L6868) | }; |
| [6869](#L6869) |  |
| [6870](#L6870) | settle(function \_resolve(value) { |
| [6871](#L6871) | resolve(value); |
| [6872](#L6872) | done(); |
| [6873](#L6873) | }, function \_reject(err) { |
| [6874](#L6874) | reject(err); |
| [6875](#L6875) | done(); |
| [6876](#L6876) | }, response); |
| [6877](#L6877) |  |
| [6878](#L6878) | // Clean up request |
| [6879](#L6879) | request = null; |
| [6880](#L6880) | } |
| [6881](#L6881) |  |
| [6882](#L6882) | if ('onloadend' in request) { |
| [6883](#L6883) | // Use onloadend if available |
| [6884](#L6884) | request.onloadend = onloadend; |
| [6885](#L6885) | } else { |
| [6886](#L6886) | // Listen for ready state to emulate onloadend |
| [6887](#L6887) | request.onreadystatechange = function handleLoad() { |
| [6888](#L6888) | if (!request || request.readyState !== 4) { |
| [6889](#L6889) | return; |
| [6890](#L6890) | } |
| [6891](#L6891) |  |
| [6892](#L6892) | // The request errored out and we didn't get a response, this will be |
| [6893](#L6893) | // handled by onerror instead |
| [6894](#L6894) | // With one exception: request that using file: protocol, most browsers |
| [6895](#L6895) | // will return status as 0 even though it's a successful request |
| [6896](#L6896) | if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) { |
| [6897](#L6897) | return; |
| [6898](#L6898) | } |
| [6899](#L6899) | // readystate handler is calling before onerror or ontimeout handlers, |
| [6900](#L6900) | // so we should call onloadend on the next 'tick' |
| [6901](#L6901) | setTimeout(onloadend); |
| [6902](#L6902) | }; |
| [6903](#L6903) | } |
| [6904](#L6904) |  |
| [6905](#L6905) | // Handle browser request cancellation (as opposed to a manual cancellation) |
| [6906](#L6906) | request.onabort = function handleAbort() { |
| [6907](#L6907) | if (!request) { |
| [6908](#L6908) | return; |
| [6909](#L6909) | } |
| [6910](#L6910) |  |
| [6911](#L6911) | reject(new core\_AxiosError('Request aborted', core\_AxiosError.ECONNABORTED, \_config, request)); |
| [6912](#L6912) |  |
| [6913](#L6913) | // Clean up request |
| [6914](#L6914) | request = null; |
| [6915](#L6915) | }; |
| [6916](#L6916) |  |
| [6917](#L6917) | // Handle low level network errors |
| [6918](#L6918) | request.onerror = function handleError() { |
| [6919](#L6919) | // Real errors are hidden from us by the browser |
| [6920](#L6920) | // onerror should only fire if it's a network error |
| [6921](#L6921) | reject(new core\_AxiosError('Network Error', core\_AxiosError.ERR\_NETWORK, \_config, request)); |
| [6922](#L6922) |  |
| [6923](#L6923) | // Clean up request |
| [6924](#L6924) | request = null; |
| [6925](#L6925) | }; |
| [6926](#L6926) |  |
| [6927](#L6927) | // Handle timeout |
| [6928](#L6928) | request.ontimeout = function handleTimeout() { |
| [6929](#L6929) | let timeoutErrorMessage = \_config.timeout ? 'timeout of ' + \_config.timeout + 'ms exceeded' : 'timeout exceeded'; |
| [6930](#L6930) | const transitional = \_config.transitional || defaults\_transitional; |
| [6931](#L6931) | if (\_config.timeoutErrorMessage) { |
| [6932](#L6932) | timeoutErrorMessage = \_config.timeoutErrorMessage; |
| [6933](#L6933) | } |
| [6934](#L6934) | reject(new core\_AxiosError( |
| [6935](#L6935) | timeoutErrorMessage, |
| [6936](#L6936) | transitional.clarifyTimeoutError ? core\_AxiosError.ETIMEDOUT : core\_AxiosError.ECONNABORTED, |
| [6937](#L6937) | \_config, |
| [6938](#L6938) | request)); |
| [6939](#L6939) |  |
| [6940](#L6940) | // Clean up request |
| [6941](#L6941) | request = null; |
| [6942](#L6942) | }; |
| [6943](#L6943) |  |
| [6944](#L6944) | // Remove Content-Type if data is undefined |
| [6945](#L6945) | requestData === undefined && requestHeaders.setContentType(null); |
| [6946](#L6946) |  |
| [6947](#L6947) | // Add headers to the request |
| [6948](#L6948) | if ('setRequestHeader' in request) { |
| [6949](#L6949) | utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) { |
| [6950](#L6950) | request.setRequestHeader(key, val); |
| [6951](#L6951) | }); |
| [6952](#L6952) | } |
| [6953](#L6953) |  |
| [6954](#L6954) | // Add withCredentials to request if needed |
| [6955](#L6955) | if (!utils.isUndefined(\_config.withCredentials)) { |
| [6956](#L6956) | request.withCredentials = !!\_config.withCredentials; |
| [6957](#L6957) | } |
| [6958](#L6958) |  |
| [6959](#L6959) | // Add responseType to request if needed |
| [6960](#L6960) | if (responseType && responseType !== 'json') { |
| [6961](#L6961) | request.responseType = \_config.responseType; |
| [6962](#L6962) | } |
| [6963](#L6963) |  |
| [6964](#L6964) | // Handle progress if needed |
| [6965](#L6965) | if (typeof \_config.onDownloadProgress === 'function') { |
| [6966](#L6966) | request.addEventListener('progress', progressEventReducer(\_config.onDownloadProgress, true)); |
| [6967](#L6967) | } |
| [6968](#L6968) |  |
| [6969](#L6969) | // Not all browsers support upload events |
| [6970](#L6970) | if (typeof \_config.onUploadProgress === 'function' && request.upload) { |
| [6971](#L6971) | request.upload.addEventListener('progress', progressEventReducer(\_config.onUploadProgress)); |
| [6972](#L6972) | } |
| [6973](#L6973) |  |
| [6974](#L6974) | if (\_config.cancelToken || \_config.signal) { |
| [6975](#L6975) | // Handle cancellation |
| [6976](#L6976) | // eslint-disable-next-line func-names |
| [6977](#L6977) | onCanceled = cancel => { |
| [6978](#L6978) | if (!request) { |
| [6979](#L6979) | return; |
| [6980](#L6980) | } |
| [6981](#L6981) | reject(!cancel || cancel.type ? new cancel\_CanceledError(null, config, request) : cancel); |
| [6982](#L6982) | request.abort(); |
| [6983](#L6983) | request = null; |
| [6984](#L6984) | }; |
| [6985](#L6985) |  |
| [6986](#L6986) | \_config.cancelToken && \_config.cancelToken.subscribe(onCanceled); |
| [6987](#L6987) | if (\_config.signal) { |
| [6988](#L6988) | \_config.signal.aborted ? onCanceled() : \_config.signal.addEventListener('abort', onCanceled); |
| [6989](#L6989) | } |
| [6990](#L6990) | } |
| [6991](#L6991) |  |
| [6992](#L6992) | const protocol = parseProtocol(\_config.url); |
| [6993](#L6993) |  |
| [6994](#L6994) | if (protocol && platform.protocols.indexOf(protocol) === -1) { |
| [6995](#L6995) | reject(new core\_AxiosError('Unsupported protocol ' + protocol + ':', core\_AxiosError.ERR\_BAD\_REQUEST, config)); |
| [6996](#L6996) | return; |
| [6997](#L6997) | } |
| [6998](#L6998) |  |
| [6999](#L6999) |  |
| [7000](#L7000) | // Send the request |
| [7001](#L7001) | request.send(requestData || null); |
| [7002](#L7002) | }); |
| [7003](#L7003) | }); |
| [7004](#L7004) |  |
| [7005](#L7005) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/composeSignals.js |
| [7006](#L7006) |  |
| [7007](#L7007) |  |
| [7008](#L7008) |  |
| [7009](#L7009) | const composeSignals = (signals, timeout) => { |
| [7010](#L7010) | let controller = new AbortController(); |
| [7011](#L7011) |  |
| [7012](#L7012) | let aborted; |
| [7013](#L7013) |  |
| [7014](#L7014) | const onabort = function (cancel) { |
| [7015](#L7015) | if (!aborted) { |
| [7016](#L7016) | aborted = true; |
| [7017](#L7017) | unsubscribe(); |
| [7018](#L7018) | const err = cancel instanceof Error ? cancel : this.reason; |
| [7019](#L7019) | controller.abort(err instanceof core\_AxiosError ? err : new cancel\_CanceledError(err instanceof Error ? err.message : err)); |
| [7020](#L7020) | } |
| [7021](#L7021) | } |
| [7022](#L7022) |  |
| [7023](#L7023) | let timer = timeout && setTimeout(() => { |
| [7024](#L7024) | onabort(new core\_AxiosError(`timeout ${timeout} of ms exceeded`, core\_AxiosError.ETIMEDOUT)) |
| [7025](#L7025) | }, timeout) |
| [7026](#L7026) |  |
| [7027](#L7027) | const unsubscribe = () => { |
| [7028](#L7028) | if (signals) { |
| [7029](#L7029) | timer && clearTimeout(timer); |
| [7030](#L7030) | timer = null; |
| [7031](#L7031) | signals.forEach(signal => { |
| [7032](#L7032) | signal && |
| [7033](#L7033) | (signal.removeEventListener ? signal.removeEventListener('abort', onabort) : signal.unsubscribe(onabort)); |
| [7034](#L7034) | }); |
| [7035](#L7035) | signals = null; |
| [7036](#L7036) | } |
| [7037](#L7037) | } |
| [7038](#L7038) |  |
| [7039](#L7039) | signals.forEach((signal) => signal && signal.addEventListener && signal.addEventListener('abort', onabort)); |
| [7040](#L7040) |  |
| [7041](#L7041) | const {signal} = controller; |
| [7042](#L7042) |  |
| [7043](#L7043) | signal.unsubscribe = unsubscribe; |
| [7044](#L7044) |  |
| [7045](#L7045) | return [signal, () => { |
| [7046](#L7046) | timer && clearTimeout(timer); |
| [7047](#L7047) | timer = null; |
| [7048](#L7048) | }]; |
| [7049](#L7049) | } |
| [7050](#L7050) |  |
| [7051](#L7051) | /\* harmony default export \*/ var helpers\_composeSignals = (composeSignals); |
| [7052](#L7052) |  |
| [7053](#L7053) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/trackStream.js |
| [7054](#L7054) |  |
| [7055](#L7055) |  |
| [7056](#L7056) | const streamChunk = function\* (chunk, chunkSize) { |
| [7057](#L7057) | let len = chunk.byteLength; |
| [7058](#L7058) |  |
| [7059](#L7059) | if (!chunkSize || len < chunkSize) { |
| [7060](#L7060) | yield chunk; |
| [7061](#L7061) | return; |
| [7062](#L7062) | } |
| [7063](#L7063) |  |
| [7064](#L7064) | let pos = 0; |
| [7065](#L7065) | let end; |
| [7066](#L7066) |  |
| [7067](#L7067) | while (pos < len) { |
| [7068](#L7068) | end = pos + chunkSize; |
| [7069](#L7069) | yield chunk.slice(pos, end); |
| [7070](#L7070) | pos = end; |
| [7071](#L7071) | } |
| [7072](#L7072) | } |
| [7073](#L7073) |  |
| [7074](#L7074) | const readBytes = async function\* (iterable, chunkSize, encode) { |
| [7075](#L7075) | for await (const chunk of iterable) { |
| [7076](#L7076) | yield\* streamChunk(ArrayBuffer.isView(chunk) ? chunk : (await encode(String(chunk))), chunkSize); |
| [7077](#L7077) | } |
| [7078](#L7078) | } |
| [7079](#L7079) |  |
| [7080](#L7080) | const trackStream = (stream, chunkSize, onProgress, onFinish, encode) => { |
| [7081](#L7081) | const iterator = readBytes(stream, chunkSize, encode); |
| [7082](#L7082) |  |
| [7083](#L7083) | let bytes = 0; |
| [7084](#L7084) |  |
| [7085](#L7085) | return new ReadableStream({ |
| [7086](#L7086) | type: 'bytes', |
| [7087](#L7087) |  |
| [7088](#L7088) | async pull(controller) { |
| [7089](#L7089) | const {done, value} = await iterator.next(); |
| [7090](#L7090) |  |
| [7091](#L7091) | if (done) { |
| [7092](#L7092) | controller.close(); |
| [7093](#L7093) | onFinish(); |
| [7094](#L7094) | return; |
| [7095](#L7095) | } |
| [7096](#L7096) |  |
| [7097](#L7097) | let len = value.byteLength; |
| [7098](#L7098) | onProgress && onProgress(bytes += len); |
| [7099](#L7099) | controller.enqueue(new Uint8Array(value)); |
| [7100](#L7100) | }, |
| [7101](#L7101) | cancel(reason) { |
| [7102](#L7102) | onFinish(reason); |
| [7103](#L7103) | return iterator.return(); |
| [7104](#L7104) | } |
| [7105](#L7105) | }, { |
| [7106](#L7106) | highWaterMark: 2 |
| [7107](#L7107) | }) |
| [7108](#L7108) | } |
| [7109](#L7109) |  |
| [7110](#L7110) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/adapters/fetch.js |
| [7111](#L7111) |  |
| [7112](#L7112) |  |
| [7113](#L7113) |  |
| [7114](#L7114) |  |
| [7115](#L7115) |  |
| [7116](#L7116) |  |
| [7117](#L7117) |  |
| [7118](#L7118) |  |
| [7119](#L7119) |  |
| [7120](#L7120) |  |
| [7121](#L7121) | const fetchProgressDecorator = (total, fn) => { |
| [7122](#L7122) | const lengthComputable = total != null; |
| [7123](#L7123) | return (loaded) => setTimeout(() => fn({ |
| [7124](#L7124) | lengthComputable, |
| [7125](#L7125) | total, |
| [7126](#L7126) | loaded |
| [7127](#L7127) | })); |
| [7128](#L7128) | } |
| [7129](#L7129) |  |
| [7130](#L7130) | const isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function'; |
| [7131](#L7131) | const isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function'; |
| [7132](#L7132) |  |
| [7133](#L7133) | // used only inside the fetch adapter |
| [7134](#L7134) | const encodeText = isFetchSupported && (typeof TextEncoder === 'function' ? |
| [7135](#L7135) | ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) : |
| [7136](#L7136) | async (str) => new Uint8Array(await new Response(str).arrayBuffer()) |
| [7137](#L7137) | ); |
| [7138](#L7138) |  |
| [7139](#L7139) | const supportsRequestStream = isReadableStreamSupported && (() => { |
| [7140](#L7140) | let duplexAccessed = false; |
| [7141](#L7141) |  |
| [7142](#L7142) | const hasContentType = new Request(platform.origin, { |
| [7143](#L7143) | body: new ReadableStream(), |
| [7144](#L7144) | method: 'POST', |
| [7145](#L7145) | get duplex() { |
| [7146](#L7146) | duplexAccessed = true; |
| [7147](#L7147) | return 'half'; |
| [7148](#L7148) | }, |
| [7149](#L7149) | }).headers.has('Content-Type'); |
| [7150](#L7150) |  |
| [7151](#L7151) | return duplexAccessed && !hasContentType; |
| [7152](#L7152) | })(); |
| [7153](#L7153) |  |
| [7154](#L7154) | const DEFAULT\_CHUNK\_SIZE = 64 \* 1024; |
| [7155](#L7155) |  |
| [7156](#L7156) | const supportsResponseStream = isReadableStreamSupported && !!(()=> { |
| [7157](#L7157) | try { |
| [7158](#L7158) | return utils.isReadableStream(new Response('').body); |
| [7159](#L7159) | } catch(err) { |
| [7160](#L7160) | // return undefined |
| [7161](#L7161) | } |
| [7162](#L7162) | })(); |
| [7163](#L7163) |  |
| [7164](#L7164) | const resolvers = { |
| [7165](#L7165) | stream: supportsResponseStream && ((res) => res.body) |
| [7166](#L7166) | }; |
| [7167](#L7167) |  |
| [7168](#L7168) | isFetchSupported && (((res) => { |
| [7169](#L7169) | ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => { |
| [7170](#L7170) | !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() : |
| [7171](#L7171) | (\_, config) => { |
| [7172](#L7172) | throw new core\_AxiosError(`Response type '${type}' is not supported`, core\_AxiosError.ERR\_NOT\_SUPPORT, config); |
| [7173](#L7173) | }) |
| [7174](#L7174) | }); |
| [7175](#L7175) | })(new Response)); |
| [7176](#L7176) |  |
| [7177](#L7177) | const getBodyLength = async (body) => { |
| [7178](#L7178) | if (body == null) { |
| [7179](#L7179) | return 0; |
| [7180](#L7180) | } |
| [7181](#L7181) |  |
| [7182](#L7182) | if(utils.isBlob(body)) { |
| [7183](#L7183) | return body.size; |
| [7184](#L7184) | } |
| [7185](#L7185) |  |
| [7186](#L7186) | if(utils.isSpecCompliantForm(body)) { |
| [7187](#L7187) | return (await new Request(body).arrayBuffer()).byteLength; |
| [7188](#L7188) | } |
| [7189](#L7189) |  |
| [7190](#L7190) | if(utils.isArrayBufferView(body)) { |
| [7191](#L7191) | return body.byteLength; |
| [7192](#L7192) | } |
| [7193](#L7193) |  |
| [7194](#L7194) | if(utils.isURLSearchParams(body)) { |
| [7195](#L7195) | body = body + ''; |
| [7196](#L7196) | } |
| [7197](#L7197) |  |
| [7198](#L7198) | if(utils.isString(body)) { |
| [7199](#L7199) | return (await encodeText(body)).byteLength; |
| [7200](#L7200) | } |
| [7201](#L7201) | } |
| [7202](#L7202) |  |
| [7203](#L7203) | const resolveBodyLength = async (headers, body) => { |
| [7204](#L7204) | const length = utils.toFiniteNumber(headers.getContentLength()); |
| [7205](#L7205) |  |
| [7206](#L7206) | return length == null ? getBodyLength(body) : length; |
| [7207](#L7207) | } |
| [7208](#L7208) |  |
| [7209](#L7209) | /\* harmony default export \*/ var adapters\_fetch = (isFetchSupported && (async (config) => { |
| [7210](#L7210) | let { |
| [7211](#L7211) | url, |
| [7212](#L7212) | method, |
| [7213](#L7213) | data, |
| [7214](#L7214) | signal, |
| [7215](#L7215) | cancelToken, |
| [7216](#L7216) | timeout, |
| [7217](#L7217) | onDownloadProgress, |
| [7218](#L7218) | onUploadProgress, |
| [7219](#L7219) | responseType, |
| [7220](#L7220) | headers, |
| [7221](#L7221) | withCredentials = 'same-origin', |
| [7222](#L7222) | fetchOptions |
| [7223](#L7223) | } = resolveConfig(config); |
| [7224](#L7224) |  |
| [7225](#L7225) | responseType = responseType ? (responseType + '').toLowerCase() : 'text'; |
| [7226](#L7226) |  |
| [7227](#L7227) | let [composedSignal, stopTimeout] = (signal || cancelToken || timeout) ? |
| [7228](#L7228) | helpers\_composeSignals([signal, cancelToken], timeout) : []; |
| [7229](#L7229) |  |
| [7230](#L7230) | let finished, request; |
| [7231](#L7231) |  |
| [7232](#L7232) | const onFinish = () => { |
| [7233](#L7233) | !finished && setTimeout(() => { |
| [7234](#L7234) | composedSignal && composedSignal.unsubscribe(); |
| [7235](#L7235) | }); |
| [7236](#L7236) |  |
| [7237](#L7237) | finished = true; |
| [7238](#L7238) | } |
| [7239](#L7239) |  |
| [7240](#L7240) | let requestContentLength; |
| [7241](#L7241) |  |
| [7242](#L7242) | try { |
| [7243](#L7243) | if ( |
| [7244](#L7244) | onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' && |
| [7245](#L7245) | (requestContentLength = await resolveBodyLength(headers, data)) !== 0 |
| [7246](#L7246) | ) { |
| [7247](#L7247) | let \_request = new Request(url, { |
| [7248](#L7248) | method: 'POST', |
| [7249](#L7249) | body: data, |
| [7250](#L7250) | duplex: "half" |
| [7251](#L7251) | }); |
| [7252](#L7252) |  |
| [7253](#L7253) | let contentTypeHeader; |
| [7254](#L7254) |  |
| [7255](#L7255) | if (utils.isFormData(data) && (contentTypeHeader = \_request.headers.get('content-type'))) { |
| [7256](#L7256) | headers.setContentType(contentTypeHeader) |
| [7257](#L7257) | } |
| [7258](#L7258) |  |
| [7259](#L7259) | if (\_request.body) { |
| [7260](#L7260) | data = trackStream(\_request.body, DEFAULT\_CHUNK\_SIZE, fetchProgressDecorator( |
| [7261](#L7261) | requestContentLength, |
| [7262](#L7262) | progressEventReducer(onUploadProgress) |
| [7263](#L7263) | ), null, encodeText); |
| [7264](#L7264) | } |
| [7265](#L7265) | } |
| [7266](#L7266) |  |
| [7267](#L7267) | if (!utils.isString(withCredentials)) { |
| [7268](#L7268) | withCredentials = withCredentials ? 'cors' : 'omit'; |
| [7269](#L7269) | } |
| [7270](#L7270) |  |
| [7271](#L7271) | request = new Request(url, { |
| [7272](#L7272) | ...fetchOptions, |
| [7273](#L7273) | signal: composedSignal, |
| [7274](#L7274) | method: method.toUpperCase(), |
| [7275](#L7275) | headers: headers.normalize().toJSON(), |
| [7276](#L7276) | body: data, |
| [7277](#L7277) | duplex: "half", |
| [7278](#L7278) | withCredentials |
| [7279](#L7279) | }); |
| [7280](#L7280) |  |
| [7281](#L7281) | let response = await fetch(request); |
| [7282](#L7282) |  |
| [7283](#L7283) | const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response'); |
| [7284](#L7284) |  |
| [7285](#L7285) | if (supportsResponseStream && (onDownloadProgress || isStreamResponse)) { |
| [7286](#L7286) | const options = {}; |
| [7287](#L7287) |  |
| [7288](#L7288) | ['status', 'statusText', 'headers'].forEach(prop => { |
| [7289](#L7289) | options[prop] = response[prop]; |
| [7290](#L7290) | }); |
| [7291](#L7291) |  |
| [7292](#L7292) | const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length')); |
| [7293](#L7293) |  |
| [7294](#L7294) | response = new Response( |
| [7295](#L7295) | trackStream(response.body, DEFAULT\_CHUNK\_SIZE, onDownloadProgress && fetchProgressDecorator( |
| [7296](#L7296) | responseContentLength, |
| [7297](#L7297) | progressEventReducer(onDownloadProgress, true) |
| [7298](#L7298) | ), isStreamResponse && onFinish, encodeText), |
| [7299](#L7299) | options |
| [7300](#L7300) | ); |
| [7301](#L7301) | } |
| [7302](#L7302) |  |
| [7303](#L7303) | responseType = responseType || 'text'; |
| [7304](#L7304) |  |
| [7305](#L7305) | let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config); |
| [7306](#L7306) |  |
| [7307](#L7307) | !isStreamResponse && onFinish(); |
| [7308](#L7308) |  |
| [7309](#L7309) | stopTimeout && stopTimeout(); |
| [7310](#L7310) |  |
| [7311](#L7311) | return await new Promise((resolve, reject) => { |
| [7312](#L7312) | settle(resolve, reject, { |
| [7313](#L7313) | data: responseData, |
| [7314](#L7314) | headers: core\_AxiosHeaders.from(response.headers), |
| [7315](#L7315) | status: response.status, |
| [7316](#L7316) | statusText: response.statusText, |
| [7317](#L7317) | config, |
| [7318](#L7318) | request |
| [7319](#L7319) | }) |
| [7320](#L7320) | }) |
| [7321](#L7321) | } catch (err) { |
| [7322](#L7322) | onFinish(); |
| [7323](#L7323) |  |
| [7324](#L7324) | if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) { |
| [7325](#L7325) | throw Object.assign( |
| [7326](#L7326) | new core\_AxiosError('Network Error', core\_AxiosError.ERR\_NETWORK, config, request), |
| [7327](#L7327) | { |
| [7328](#L7328) | cause: err.cause || err |
| [7329](#L7329) | } |
| [7330](#L7330) | ) |
| [7331](#L7331) | } |
| [7332](#L7332) |  |
| [7333](#L7333) | throw core\_AxiosError.from(err, err && err.code, config, request); |
| [7334](#L7334) | } |
| [7335](#L7335) | })); |
| [7336](#L7336) |  |
| [7337](#L7337) |  |
| [7338](#L7338) |  |
| [7339](#L7339) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/adapters/adapters.js |
| [7340](#L7340) |  |
| [7341](#L7341) |  |
| [7342](#L7342) |  |
| [7343](#L7343) |  |
| [7344](#L7344) |  |
| [7345](#L7345) |  |
| [7346](#L7346) | const knownAdapters = { |
| [7347](#L7347) | http: helpers\_null, |
| [7348](#L7348) | xhr: xhr, |
| [7349](#L7349) | fetch: adapters\_fetch |
| [7350](#L7350) | } |
| [7351](#L7351) |  |
| [7352](#L7352) | utils.forEach(knownAdapters, (fn, value) => { |
| [7353](#L7353) | if (fn) { |
| [7354](#L7354) | try { |
| [7355](#L7355) | Object.defineProperty(fn, 'name', {value}); |
| [7356](#L7356) | } catch (e) { |
| [7357](#L7357) | // eslint-disable-next-line no-empty |
| [7358](#L7358) | } |
| [7359](#L7359) | Object.defineProperty(fn, 'adapterName', {value}); |
| [7360](#L7360) | } |
| [7361](#L7361) | }); |
| [7362](#L7362) |  |
| [7363](#L7363) | const renderReason = (reason) => `- ${reason}`; |
| [7364](#L7364) |  |
| [7365](#L7365) | const isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false; |
| [7366](#L7366) |  |
| [7367](#L7367) | /\* harmony default export \*/ var adapters = ({ |
| [7368](#L7368) | getAdapter: (adapters) => { |
| [7369](#L7369) | adapters = utils.isArray(adapters) ? adapters : [adapters]; |
| [7370](#L7370) |  |
| [7371](#L7371) | const {length} = adapters; |
| [7372](#L7372) | let nameOrAdapter; |
| [7373](#L7373) | let adapter; |
| [7374](#L7374) |  |
| [7375](#L7375) | const rejectedReasons = {}; |
| [7376](#L7376) |  |
| [7377](#L7377) | for (let i = 0; i < length; i++) { |
| [7378](#L7378) | nameOrAdapter = adapters[i]; |
| [7379](#L7379) | let id; |
| [7380](#L7380) |  |
| [7381](#L7381) | adapter = nameOrAdapter; |
| [7382](#L7382) |  |
| [7383](#L7383) | if (!isResolvedHandle(nameOrAdapter)) { |
| [7384](#L7384) | adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()]; |
| [7385](#L7385) |  |
| [7386](#L7386) | if (adapter === undefined) { |
| [7387](#L7387) | throw new core\_AxiosError(`Unknown adapter '${id}'`); |
| [7388](#L7388) | } |
| [7389](#L7389) | } |
| [7390](#L7390) |  |
| [7391](#L7391) | if (adapter) { |
| [7392](#L7392) | break; |
| [7393](#L7393) | } |
| [7394](#L7394) |  |
| [7395](#L7395) | rejectedReasons[id || '#' + i] = adapter; |
| [7396](#L7396) | } |
| [7397](#L7397) |  |
| [7398](#L7398) | if (!adapter) { |
| [7399](#L7399) |  |
| [7400](#L7400) | const reasons = Object.entries(rejectedReasons) |
| [7401](#L7401) | .map(([id, state]) => `adapter ${id} ` + |
| [7402](#L7402) | (state === false ? 'is not supported by the environment' : 'is not available in the build') |
| [7403](#L7403) | ); |
| [7404](#L7404) |  |
| [7405](#L7405) | let s = length ? |
| [7406](#L7406) | (reasons.length > 1 ? 'since :\n' + reasons.map(renderReason).join('\n') : ' ' + renderReason(reasons[0])) : |
| [7407](#L7407) | 'as no adapter specified'; |
| [7408](#L7408) |  |
| [7409](#L7409) | throw new core\_AxiosError( |
| [7410](#L7410) | `There is no suitable adapter to dispatch the request ` + s, |
| [7411](#L7411) | 'ERR\_NOT\_SUPPORT' |
| [7412](#L7412) | ); |
| [7413](#L7413) | } |
| [7414](#L7414) |  |
| [7415](#L7415) | return adapter; |
| [7416](#L7416) | }, |
| [7417](#L7417) | adapters: knownAdapters |
| [7418](#L7418) | }); |
| [7419](#L7419) |  |
| [7420](#L7420) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/core/dispatchRequest.js |
| [7421](#L7421) |  |
| [7422](#L7422) |  |
| [7423](#L7423) |  |
| [7424](#L7424) |  |
| [7425](#L7425) |  |
| [7426](#L7426) |  |
| [7427](#L7427) |  |
| [7428](#L7428) |  |
| [7429](#L7429) |  |
| [7430](#L7430) | /\*\* |
| [7431](#L7431) | \* Throws a `CanceledError` if cancellation has been requested. |
| [7432](#L7432) | \* |
| [7433](#L7433) | \* @param {Object} config The config that is to be used for the request |
| [7434](#L7434) | \* |
| [7435](#L7435) | \* @returns {void} |
| [7436](#L7436) | \*/ |
| [7437](#L7437) | function throwIfCancellationRequested(config) { |
| [7438](#L7438) | if (config.cancelToken) { |
| [7439](#L7439) | config.cancelToken.throwIfRequested(); |
| [7440](#L7440) | } |
| [7441](#L7441) |  |
| [7442](#L7442) | if (config.signal && config.signal.aborted) { |
| [7443](#L7443) | throw new cancel\_CanceledError(null, config); |
| [7444](#L7444) | } |
| [7445](#L7445) | } |
| [7446](#L7446) |  |
| [7447](#L7447) | /\*\* |
| [7448](#L7448) | \* Dispatch a request to the server using the configured adapter. |
| [7449](#L7449) | \* |
| [7450](#L7450) | \* @param {object} config The config that is to be used for the request |
| [7451](#L7451) | \* |
| [7452](#L7452) | \* @returns {Promise} The Promise to be fulfilled |
| [7453](#L7453) | \*/ |
| [7454](#L7454) | function dispatchRequest(config) { |
| [7455](#L7455) | throwIfCancellationRequested(config); |
| [7456](#L7456) |  |
| [7457](#L7457) | config.headers = core\_AxiosHeaders.from(config.headers); |
| [7458](#L7458) |  |
| [7459](#L7459) | // Transform request data |
| [7460](#L7460) | config.data = transformData.call( |
| [7461](#L7461) | config, |
| [7462](#L7462) | config.transformRequest |
| [7463](#L7463) | ); |
| [7464](#L7464) |  |
| [7465](#L7465) | if (['post', 'put', 'patch'].indexOf(config.method) !== -1) { |
| [7466](#L7466) | config.headers.setContentType('application/x-www-form-urlencoded', false); |
| [7467](#L7467) | } |
| [7468](#L7468) |  |
| [7469](#L7469) | const adapter = adapters.getAdapter(config.adapter || lib\_defaults.adapter); |
| [7470](#L7470) |  |
| [7471](#L7471) | return adapter(config).then(function onAdapterResolution(response) { |
| [7472](#L7472) | throwIfCancellationRequested(config); |
| [7473](#L7473) |  |
| [7474](#L7474) | // Transform response data |
| [7475](#L7475) | response.data = transformData.call( |
| [7476](#L7476) | config, |
| [7477](#L7477) | config.transformResponse, |
| [7478](#L7478) | response |
| [7479](#L7479) | ); |
| [7480](#L7480) |  |
| [7481](#L7481) | response.headers = core\_AxiosHeaders.from(response.headers); |
| [7482](#L7482) |  |
| [7483](#L7483) | return response; |
| [7484](#L7484) | }, function onAdapterRejection(reason) { |
| [7485](#L7485) | if (!isCancel(reason)) { |
| [7486](#L7486) | throwIfCancellationRequested(config); |
| [7487](#L7487) |  |
| [7488](#L7488) | // Transform response data |
| [7489](#L7489) | if (reason && reason.response) { |
| [7490](#L7490) | reason.response.data = transformData.call( |
| [7491](#L7491) | config, |
| [7492](#L7492) | config.transformResponse, |
| [7493](#L7493) | reason.response |
| [7494](#L7494) | ); |
| [7495](#L7495) | reason.response.headers = core\_AxiosHeaders.from(reason.response.headers); |
| [7496](#L7496) | } |
| [7497](#L7497) | } |
| [7498](#L7498) |  |
| [7499](#L7499) | return Promise.reject(reason); |
| [7500](#L7500) | }); |
| [7501](#L7501) | } |
| [7502](#L7502) |  |
| [7503](#L7503) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/env/data.js |
| [7504](#L7504) | const VERSION = "1.7.2"; |
| [7505](#L7505) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/validator.js |
| [7506](#L7506) |  |
| [7507](#L7507) |  |
| [7508](#L7508) |  |
| [7509](#L7509) |  |
| [7510](#L7510) |  |
| [7511](#L7511) | const validators = {}; |
| [7512](#L7512) |  |
| [7513](#L7513) | // eslint-disable-next-line func-names |
| [7514](#L7514) | ['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => { |
| [7515](#L7515) | validators[type] = function validator(thing) { |
| [7516](#L7516) | return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type; |
| [7517](#L7517) | }; |
| [7518](#L7518) | }); |
| [7519](#L7519) |  |
| [7520](#L7520) | const deprecatedWarnings = {}; |
| [7521](#L7521) |  |
| [7522](#L7522) | /\*\* |
| [7523](#L7523) | \* Transitional option validator |
| [7524](#L7524) | \* |
| [7525](#L7525) | \* @param {function|boolean?} validator - set to false if the transitional option has been removed |
| [7526](#L7526) | \* @param {string?} version - deprecated version / removed since version |
| [7527](#L7527) | \* @param {string?} message - some message with additional info |
| [7528](#L7528) | \* |
| [7529](#L7529) | \* @returns {function} |
| [7530](#L7530) | \*/ |
| [7531](#L7531) | validators.transitional = function transitional(validator, version, message) { |
| [7532](#L7532) | function formatMessage(opt, desc) { |
| [7533](#L7533) | return '[Axios v' + VERSION + '] Transitional option \'' + opt + '\'' + desc + (message ? '. ' + message : ''); |
| [7534](#L7534) | } |
| [7535](#L7535) |  |
| [7536](#L7536) | // eslint-disable-next-line func-names |
| [7537](#L7537) | return (value, opt, opts) => { |
| [7538](#L7538) | if (validator === false) { |
| [7539](#L7539) | throw new core\_AxiosError( |
| [7540](#L7540) | formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')), |
| [7541](#L7541) | core\_AxiosError.ERR\_DEPRECATED |
| [7542](#L7542) | ); |
| [7543](#L7543) | } |
| [7544](#L7544) |  |
| [7545](#L7545) | if (version && !deprecatedWarnings[opt]) { |
| [7546](#L7546) | deprecatedWarnings[opt] = true; |
| [7547](#L7547) | // eslint-disable-next-line no-console |
| [7548](#L7548) | console.warn( |
| [7549](#L7549) | formatMessage( |
| [7550](#L7550) | opt, |
| [7551](#L7551) | ' has been deprecated since v' + version + ' and will be removed in the near future' |
| [7552](#L7552) | ) |
| [7553](#L7553) | ); |
| [7554](#L7554) | } |
| [7555](#L7555) |  |
| [7556](#L7556) | return validator ? validator(value, opt, opts) : true; |
| [7557](#L7557) | }; |
| [7558](#L7558) | }; |
| [7559](#L7559) |  |
| [7560](#L7560) | /\*\* |
| [7561](#L7561) | \* Assert object's properties type |
| [7562](#L7562) | \* |
| [7563](#L7563) | \* @param {object} options |
| [7564](#L7564) | \* @param {object} schema |
| [7565](#L7565) | \* @param {boolean?} allowUnknown |
| [7566](#L7566) | \* |
| [7567](#L7567) | \* @returns {object} |
| [7568](#L7568) | \*/ |
| [7569](#L7569) |  |
| [7570](#L7570) | function assertOptions(options, schema, allowUnknown) { |
| [7571](#L7571) | if (typeof options !== 'object') { |
| [7572](#L7572) | throw new core\_AxiosError('options must be an object', core\_AxiosError.ERR\_BAD\_OPTION\_VALUE); |
| [7573](#L7573) | } |
| [7574](#L7574) | const keys = Object.keys(options); |
| [7575](#L7575) | let i = keys.length; |
| [7576](#L7576) | while (i-- > 0) { |
| [7577](#L7577) | const opt = keys[i]; |
| [7578](#L7578) | const validator = schema[opt]; |
| [7579](#L7579) | if (validator) { |
| [7580](#L7580) | const value = options[opt]; |
| [7581](#L7581) | const result = value === undefined || validator(value, opt, options); |
| [7582](#L7582) | if (result !== true) { |
| [7583](#L7583) | throw new core\_AxiosError('option ' + opt + ' must be ' + result, core\_AxiosError.ERR\_BAD\_OPTION\_VALUE); |
| [7584](#L7584) | } |
| [7585](#L7585) | continue; |
| [7586](#L7586) | } |
| [7587](#L7587) | if (allowUnknown !== true) { |
| [7588](#L7588) | throw new core\_AxiosError('Unknown option ' + opt, core\_AxiosError.ERR\_BAD\_OPTION); |
| [7589](#L7589) | } |
| [7590](#L7590) | } |
| [7591](#L7591) | } |
| [7592](#L7592) |  |
| [7593](#L7593) | /\* harmony default export \*/ var validator = ({ |
| [7594](#L7594) | assertOptions, |
| [7595](#L7595) | validators |
| [7596](#L7596) | }); |
| [7597](#L7597) |  |
| [7598](#L7598) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/core/Axios.js |
| [7599](#L7599) |  |
| [7600](#L7600) |  |
| [7601](#L7601) |  |
| [7602](#L7602) |  |
| [7603](#L7603) |  |
| [7604](#L7604) |  |
| [7605](#L7605) |  |
| [7606](#L7606) |  |
| [7607](#L7607) |  |
| [7608](#L7608) |  |
| [7609](#L7609) |  |
| [7610](#L7610) | const Axios\_validators = validator.validators; |
| [7611](#L7611) |  |
| [7612](#L7612) | /\*\* |
| [7613](#L7613) | \* Create a new instance of Axios |
| [7614](#L7614) | \* |
| [7615](#L7615) | \* @param {Object} instanceConfig The default config for the instance |
| [7616](#L7616) | \* |
| [7617](#L7617) | \* @return {Axios} A new instance of Axios |
| [7618](#L7618) | \*/ |
| [7619](#L7619) | class Axios { |
| [7620](#L7620) | constructor(instanceConfig) { |
| [7621](#L7621) | this.defaults = instanceConfig; |
| [7622](#L7622) | this.interceptors = { |
| [7623](#L7623) | request: new core\_InterceptorManager(), |
| [7624](#L7624) | response: new core\_InterceptorManager() |
| [7625](#L7625) | }; |
| [7626](#L7626) | } |
| [7627](#L7627) |  |
| [7628](#L7628) | /\*\* |
| [7629](#L7629) | \* Dispatch a request |
| [7630](#L7630) | \* |
| [7631](#L7631) | \* @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults) |
| [7632](#L7632) | \* @param {?Object} config |
| [7633](#L7633) | \* |
| [7634](#L7634) | \* @returns {Promise} The Promise to be fulfilled |
| [7635](#L7635) | \*/ |
| [7636](#L7636) | async request(configOrUrl, config) { |
| [7637](#L7637) | try { |
| [7638](#L7638) | return await this.\_request(configOrUrl, config); |
| [7639](#L7639) | } catch (err) { |
| [7640](#L7640) | if (err instanceof Error) { |
| [7641](#L7641) | let dummy; |
| [7642](#L7642) |  |
| [7643](#L7643) | Error.captureStackTrace ? Error.captureStackTrace(dummy = {}) : (dummy = new Error()); |
| [7644](#L7644) |  |
| [7645](#L7645) | // slice off the Error: ... line |
| [7646](#L7646) | const stack = dummy.stack ? dummy.stack.replace(/^.+\n/, '') : ''; |
| [7647](#L7647) | try { |
| [7648](#L7648) | if (!err.stack) { |
| [7649](#L7649) | err.stack = stack; |
| [7650](#L7650) | // match without the 2 top stack lines |
| [7651](#L7651) | } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\n.+\n/, ''))) { |
| [7652](#L7652) | err.stack += '\n' + stack |
| [7653](#L7653) | } |
| [7654](#L7654) | } catch (e) { |
| [7655](#L7655) | // ignore the case where "stack" is an un-writable property |
| [7656](#L7656) | } |
| [7657](#L7657) | } |
| [7658](#L7658) |  |
| [7659](#L7659) | throw err; |
| [7660](#L7660) | } |
| [7661](#L7661) | } |
| [7662](#L7662) |  |
| [7663](#L7663) | \_request(configOrUrl, config) { |
| [7664](#L7664) | /\*eslint no-param-reassign:0\*/ |
| [7665](#L7665) | // Allow for axios('example/url'[, config]) a la fetch API |
| [7666](#L7666) | if (typeof configOrUrl === 'string') { |
| [7667](#L7667) | config = config || {}; |
| [7668](#L7668) | config.url = configOrUrl; |
| [7669](#L7669) | } else { |
| [7670](#L7670) | config = configOrUrl || {}; |
| [7671](#L7671) | } |
| [7672](#L7672) |  |
| [7673](#L7673) | config = mergeConfig(this.defaults, config); |
| [7674](#L7674) |  |
| [7675](#L7675) | const {transitional, paramsSerializer, headers} = config; |
| [7676](#L7676) |  |
| [7677](#L7677) | if (transitional !== undefined) { |
| [7678](#L7678) | validator.assertOptions(transitional, { |
| [7679](#L7679) | silentJSONParsing: Axios\_validators.transitional(Axios\_validators.boolean), |
| [7680](#L7680) | forcedJSONParsing: Axios\_validators.transitional(Axios\_validators.boolean), |
| [7681](#L7681) | clarifyTimeoutError: Axios\_validators.transitional(Axios\_validators.boolean) |
| [7682](#L7682) | }, false); |
| [7683](#L7683) | } |
| [7684](#L7684) |  |
| [7685](#L7685) | if (paramsSerializer != null) { |
| [7686](#L7686) | if (utils.isFunction(paramsSerializer)) { |
| [7687](#L7687) | config.paramsSerializer = { |
| [7688](#L7688) | serialize: paramsSerializer |
| [7689](#L7689) | } |
| [7690](#L7690) | } else { |
| [7691](#L7691) | validator.assertOptions(paramsSerializer, { |
| [7692](#L7692) | encode: Axios\_validators.function, |
| [7693](#L7693) | serialize: Axios\_validators.function |
| [7694](#L7694) | }, true); |
| [7695](#L7695) | } |
| [7696](#L7696) | } |
| [7697](#L7697) |  |
| [7698](#L7698) | // Set config.method |
| [7699](#L7699) | config.method = (config.method || this.defaults.method || 'get').toLowerCase(); |
| [7700](#L7700) |  |
| [7701](#L7701) | // Flatten headers |
| [7702](#L7702) | let contextHeaders = headers && utils.merge( |
| [7703](#L7703) | headers.common, |
| [7704](#L7704) | headers[config.method] |
| [7705](#L7705) | ); |
| [7706](#L7706) |  |
| [7707](#L7707) | headers && utils.forEach( |
| [7708](#L7708) | ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'], |
| [7709](#L7709) | (method) => { |
| [7710](#L7710) | delete headers[method]; |
| [7711](#L7711) | } |
| [7712](#L7712) | ); |
| [7713](#L7713) |  |
| [7714](#L7714) | config.headers = core\_AxiosHeaders.concat(contextHeaders, headers); |
| [7715](#L7715) |  |
| [7716](#L7716) | // filter out skipped interceptors |
| [7717](#L7717) | const requestInterceptorChain = []; |
| [7718](#L7718) | let synchronousRequestInterceptors = true; |
| [7719](#L7719) | this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) { |
| [7720](#L7720) | if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) { |
| [7721](#L7721) | return; |
| [7722](#L7722) | } |
| [7723](#L7723) |  |
| [7724](#L7724) | synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous; |
| [7725](#L7725) |  |
| [7726](#L7726) | requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected); |
| [7727](#L7727) | }); |
| [7728](#L7728) |  |
| [7729](#L7729) | const responseInterceptorChain = []; |
| [7730](#L7730) | this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) { |
| [7731](#L7731) | responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected); |
| [7732](#L7732) | }); |
| [7733](#L7733) |  |
| [7734](#L7734) | let promise; |
| [7735](#L7735) | let i = 0; |
| [7736](#L7736) | let len; |
| [7737](#L7737) |  |
| [7738](#L7738) | if (!synchronousRequestInterceptors) { |
| [7739](#L7739) | const chain = [dispatchRequest.bind(this), undefined]; |
| [7740](#L7740) | chain.unshift.apply(chain, requestInterceptorChain); |
| [7741](#L7741) | chain.push.apply(chain, responseInterceptorChain); |
| [7742](#L7742) | len = chain.length; |
| [7743](#L7743) |  |
| [7744](#L7744) | promise = Promise.resolve(config); |
| [7745](#L7745) |  |
| [7746](#L7746) | while (i < len) { |
| [7747](#L7747) | promise = promise.then(chain[i++], chain[i++]); |
| [7748](#L7748) | } |
| [7749](#L7749) |  |
| [7750](#L7750) | return promise; |
| [7751](#L7751) | } |
| [7752](#L7752) |  |
| [7753](#L7753) | len = requestInterceptorChain.length; |
| [7754](#L7754) |  |
| [7755](#L7755) | let newConfig = config; |
| [7756](#L7756) |  |
| [7757](#L7757) | i = 0; |
| [7758](#L7758) |  |
| [7759](#L7759) | while (i < len) { |
| [7760](#L7760) | const onFulfilled = requestInterceptorChain[i++]; |
| [7761](#L7761) | const onRejected = requestInterceptorChain[i++]; |
| [7762](#L7762) | try { |
| [7763](#L7763) | newConfig = onFulfilled(newConfig); |
| [7764](#L7764) | } catch (error) { |
| [7765](#L7765) | onRejected.call(this, error); |
| [7766](#L7766) | break; |
| [7767](#L7767) | } |
| [7768](#L7768) | } |
| [7769](#L7769) |  |
| [7770](#L7770) | try { |
| [7771](#L7771) | promise = dispatchRequest.call(this, newConfig); |
| [7772](#L7772) | } catch (error) { |
| [7773](#L7773) | return Promise.reject(error); |
| [7774](#L7774) | } |
| [7775](#L7775) |  |
| [7776](#L7776) | i = 0; |
| [7777](#L7777) | len = responseInterceptorChain.length; |
| [7778](#L7778) |  |
| [7779](#L7779) | while (i < len) { |
| [7780](#L7780) | promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]); |
| [7781](#L7781) | } |
| [7782](#L7782) |  |
| [7783](#L7783) | return promise; |
| [7784](#L7784) | } |
| [7785](#L7785) |  |
| [7786](#L7786) | getUri(config) { |
| [7787](#L7787) | config = mergeConfig(this.defaults, config); |
| [7788](#L7788) | const fullPath = buildFullPath(config.baseURL, config.url); |
| [7789](#L7789) | return buildURL(fullPath, config.params, config.paramsSerializer); |
| [7790](#L7790) | } |
| [7791](#L7791) | } |
| [7792](#L7792) |  |
| [7793](#L7793) | // Provide aliases for supported request methods |
| [7794](#L7794) | utils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) { |
| [7795](#L7795) | /\*eslint func-names:0\*/ |
| [7796](#L7796) | Axios.prototype[method] = function(url, config) { |
| [7797](#L7797) | return this.request(mergeConfig(config || {}, { |
| [7798](#L7798) | method, |
| [7799](#L7799) | url, |
| [7800](#L7800) | data: (config || {}).data |
| [7801](#L7801) | })); |
| [7802](#L7802) | }; |
| [7803](#L7803) | }); |
| [7804](#L7804) |  |
| [7805](#L7805) | utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) { |
| [7806](#L7806) | /\*eslint func-names:0\*/ |
| [7807](#L7807) |  |
| [7808](#L7808) | function generateHTTPMethod(isForm) { |
| [7809](#L7809) | return function httpMethod(url, data, config) { |
| [7810](#L7810) | return this.request(mergeConfig(config || {}, { |
| [7811](#L7811) | method, |
| [7812](#L7812) | headers: isForm ? { |
| [7813](#L7813) | 'Content-Type': 'multipart/form-data' |
| [7814](#L7814) | } : {}, |
| [7815](#L7815) | url, |
| [7816](#L7816) | data |
| [7817](#L7817) | })); |
| [7818](#L7818) | }; |
| [7819](#L7819) | } |
| [7820](#L7820) |  |
| [7821](#L7821) | Axios.prototype[method] = generateHTTPMethod(); |
| [7822](#L7822) |  |
| [7823](#L7823) | Axios.prototype[method + 'Form'] = generateHTTPMethod(true); |
| [7824](#L7824) | }); |
| [7825](#L7825) |  |
| [7826](#L7826) | /\* harmony default export \*/ var core\_Axios = (Axios); |
| [7827](#L7827) |  |
| [7828](#L7828) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/cancel/CancelToken.js |
| [7829](#L7829) |  |
| [7830](#L7830) |  |
| [7831](#L7831) |  |
| [7832](#L7832) |  |
| [7833](#L7833) | /\*\* |
| [7834](#L7834) | \* A `CancelToken` is an object that can be used to request cancellation of an operation. |
| [7835](#L7835) | \* |
| [7836](#L7836) | \* @param {Function} executor The executor function. |
| [7837](#L7837) | \* |
| [7838](#L7838) | \* @returns {CancelToken} |
| [7839](#L7839) | \*/ |
| [7840](#L7840) | class CancelToken { |
| [7841](#L7841) | constructor(executor) { |
| [7842](#L7842) | if (typeof executor !== 'function') { |
| [7843](#L7843) | throw new TypeError('executor must be a function.'); |
| [7844](#L7844) | } |
| [7845](#L7845) |  |
| [7846](#L7846) | let resolvePromise; |
| [7847](#L7847) |  |
| [7848](#L7848) | this.promise = new Promise(function promiseExecutor(resolve) { |
| [7849](#L7849) | resolvePromise = resolve; |
| [7850](#L7850) | }); |
| [7851](#L7851) |  |
| [7852](#L7852) | const token = this; |
| [7853](#L7853) |  |
| [7854](#L7854) | // eslint-disable-next-line func-names |
| [7855](#L7855) | this.promise.then(cancel => { |
| [7856](#L7856) | if (!token.\_listeners) return; |
| [7857](#L7857) |  |
| [7858](#L7858) | let i = token.\_listeners.length; |
| [7859](#L7859) |  |
| [7860](#L7860) | while (i-- > 0) { |
| [7861](#L7861) | token.\_listeners[i](cancel); |
| [7862](#L7862) | } |
| [7863](#L7863) | token.\_listeners = null; |
| [7864](#L7864) | }); |
| [7865](#L7865) |  |
| [7866](#L7866) | // eslint-disable-next-line func-names |
| [7867](#L7867) | this.promise.then = onfulfilled => { |
| [7868](#L7868) | let \_resolve; |
| [7869](#L7869) | // eslint-disable-next-line func-names |
| [7870](#L7870) | const promise = new Promise(resolve => { |
| [7871](#L7871) | token.subscribe(resolve); |
| [7872](#L7872) | \_resolve = resolve; |
| [7873](#L7873) | }).then(onfulfilled); |
| [7874](#L7874) |  |
| [7875](#L7875) | promise.cancel = function reject() { |
| [7876](#L7876) | token.unsubscribe(\_resolve); |
| [7877](#L7877) | }; |
| [7878](#L7878) |  |
| [7879](#L7879) | return promise; |
| [7880](#L7880) | }; |
| [7881](#L7881) |  |
| [7882](#L7882) | executor(function cancel(message, config, request) { |
| [7883](#L7883) | if (token.reason) { |
| [7884](#L7884) | // Cancellation has already been requested |
| [7885](#L7885) | return; |
| [7886](#L7886) | } |
| [7887](#L7887) |  |
| [7888](#L7888) | token.reason = new cancel\_CanceledError(message, config, request); |
| [7889](#L7889) | resolvePromise(token.reason); |
| [7890](#L7890) | }); |
| [7891](#L7891) | } |
| [7892](#L7892) |  |
| [7893](#L7893) | /\*\* |
| [7894](#L7894) | \* Throws a `CanceledError` if cancellation has been requested. |
| [7895](#L7895) | \*/ |
| [7896](#L7896) | throwIfRequested() { |
| [7897](#L7897) | if (this.reason) { |
| [7898](#L7898) | throw this.reason; |
| [7899](#L7899) | } |
| [7900](#L7900) | } |
| [7901](#L7901) |  |
| [7902](#L7902) | /\*\* |
| [7903](#L7903) | \* Subscribe to the cancel signal |
| [7904](#L7904) | \*/ |
| [7905](#L7905) |  |
| [7906](#L7906) | subscribe(listener) { |
| [7907](#L7907) | if (this.reason) { |
| [7908](#L7908) | listener(this.reason); |
| [7909](#L7909) | return; |
| [7910](#L7910) | } |
| [7911](#L7911) |  |
| [7912](#L7912) | if (this.\_listeners) { |
| [7913](#L7913) | this.\_listeners.push(listener); |
| [7914](#L7914) | } else { |
| [7915](#L7915) | this.\_listeners = [listener]; |
| [7916](#L7916) | } |
| [7917](#L7917) | } |
| [7918](#L7918) |  |
| [7919](#L7919) | /\*\* |
| [7920](#L7920) | \* Unsubscribe from the cancel signal |
| [7921](#L7921) | \*/ |
| [7922](#L7922) |  |
| [7923](#L7923) | unsubscribe(listener) { |
| [7924](#L7924) | if (!this.\_listeners) { |
| [7925](#L7925) | return; |
| [7926](#L7926) | } |
| [7927](#L7927) | const index = this.\_listeners.indexOf(listener); |
| [7928](#L7928) | if (index !== -1) { |
| [7929](#L7929) | this.\_listeners.splice(index, 1); |
| [7930](#L7930) | } |
| [7931](#L7931) | } |
| [7932](#L7932) |  |
| [7933](#L7933) | /\*\* |
| [7934](#L7934) | \* Returns an object that contains a new `CancelToken` and a function that, when called, |
| [7935](#L7935) | \* cancels the `CancelToken`. |
| [7936](#L7936) | \*/ |
| [7937](#L7937) | static source() { |
| [7938](#L7938) | let cancel; |
| [7939](#L7939) | const token = new CancelToken(function executor(c) { |
| [7940](#L7940) | cancel = c; |
| [7941](#L7941) | }); |
| [7942](#L7942) | return { |
| [7943](#L7943) | token, |
| [7944](#L7944) | cancel |
| [7945](#L7945) | }; |
| [7946](#L7946) | } |
| [7947](#L7947) | } |
| [7948](#L7948) |  |
| [7949](#L7949) | /\* harmony default export \*/ var cancel\_CancelToken = (CancelToken); |
| [7950](#L7950) |  |
| [7951](#L7951) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/spread.js |
| [7952](#L7952) |  |
| [7953](#L7953) |  |
| [7954](#L7954) | /\*\* |
| [7955](#L7955) | \* Syntactic sugar for invoking a function and expanding an array for arguments. |
| [7956](#L7956) | \* |
| [7957](#L7957) | \* Common use case would be to use `Function.prototype.apply`. |
| [7958](#L7958) | \* |
| [7959](#L7959) | \*  ```js |
| [7960](#L7960) | \*  function f(x, y, z) {} |
| [7961](#L7961) | \*  var args = [1, 2, 3]; |
| [7962](#L7962) | \*  f.apply(null, args); |
| [7963](#L7963) | \*  ``` |
| [7964](#L7964) | \* |
| [7965](#L7965) | \* With `spread` this example can be re-written. |
| [7966](#L7966) | \* |
| [7967](#L7967) | \*  ```js |
| [7968](#L7968) | \*  spread(function(x, y, z) {})([1, 2, 3]); |
| [7969](#L7969) | \*  ``` |
| [7970](#L7970) | \* |
| [7971](#L7971) | \* @param {Function} callback |
| [7972](#L7972) | \* |
| [7973](#L7973) | \* @returns {Function} |
| [7974](#L7974) | \*/ |
| [7975](#L7975) | function spread(callback) { |
| [7976](#L7976) | return function wrap(arr) { |
| [7977](#L7977) | return callback.apply(null, arr); |
| [7978](#L7978) | }; |
| [7979](#L7979) | } |
| [7980](#L7980) |  |
| [7981](#L7981) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/isAxiosError.js |
| [7982](#L7982) |  |
| [7983](#L7983) |  |
| [7984](#L7984) |  |
| [7985](#L7985) |  |
| [7986](#L7986) | /\*\* |
| [7987](#L7987) | \* Determines whether the payload is an error thrown by Axios |
| [7988](#L7988) | \* |
| [7989](#L7989) | \* @param {\*} payload The value to test |
| [7990](#L7990) | \* |
| [7991](#L7991) | \* @returns {boolean} True if the payload is an error thrown by Axios, otherwise false |
| [7992](#L7992) | \*/ |
| [7993](#L7993) | function isAxiosError(payload) { |
| [7994](#L7994) | return utils.isObject(payload) && (payload.isAxiosError === true); |
| [7995](#L7995) | } |
| [7996](#L7996) |  |
| [7997](#L7997) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/helpers/HttpStatusCode.js |
| [7998](#L7998) | const HttpStatusCode = { |
| [7999](#L7999) | Continue: 100, |
| [8000](#L8000) | SwitchingProtocols: 101, |
| [8001](#L8001) | Processing: 102, |
| [8002](#L8002) | EarlyHints: 103, |
| [8003](#L8003) | Ok: 200, |
| [8004](#L8004) | Created: 201, |
| [8005](#L8005) | Accepted: 202, |
| [8006](#L8006) | NonAuthoritativeInformation: 203, |
| [8007](#L8007) | NoContent: 204, |
| [8008](#L8008) | ResetContent: 205, |
| [8009](#L8009) | PartialContent: 206, |
| [8010](#L8010) | MultiStatus: 207, |
| [8011](#L8011) | AlreadyReported: 208, |
| [8012](#L8012) | ImUsed: 226, |
| [8013](#L8013) | MultipleChoices: 300, |
| [8014](#L8014) | MovedPermanently: 301, |
| [8015](#L8015) | Found: 302, |
| [8016](#L8016) | SeeOther: 303, |
| [8017](#L8017) | NotModified: 304, |
| [8018](#L8018) | UseProxy: 305, |
| [8019](#L8019) | Unused: 306, |
| [8020](#L8020) | TemporaryRedirect: 307, |
| [8021](#L8021) | PermanentRedirect: 308, |
| [8022](#L8022) | BadRequest: 400, |
| [8023](#L8023) | Unauthorized: 401, |
| [8024](#L8024) | PaymentRequired: 402, |
| [8025](#L8025) | Forbidden: 403, |
| [8026](#L8026) | NotFound: 404, |
| [8027](#L8027) | MethodNotAllowed: 405, |
| [8028](#L8028) | NotAcceptable: 406, |
| [8029](#L8029) | ProxyAuthenticationRequired: 407, |
| [8030](#L8030) | RequestTimeout: 408, |
| [8031](#L8031) | Conflict: 409, |
| [8032](#L8032) | Gone: 410, |
| [8033](#L8033) | LengthRequired: 411, |
| [8034](#L8034) | PreconditionFailed: 412, |
| [8035](#L8035) | PayloadTooLarge: 413, |
| [8036](#L8036) | UriTooLong: 414, |
| [8037](#L8037) | UnsupportedMediaType: 415, |
| [8038](#L8038) | RangeNotSatisfiable: 416, |
| [8039](#L8039) | ExpectationFailed: 417, |
| [8040](#L8040) | ImATeapot: 418, |
| [8041](#L8041) | MisdirectedRequest: 421, |
| [8042](#L8042) | UnprocessableEntity: 422, |
| [8043](#L8043) | Locked: 423, |
| [8044](#L8044) | FailedDependency: 424, |
| [8045](#L8045) | TooEarly: 425, |
| [8046](#L8046) | UpgradeRequired: 426, |
| [8047](#L8047) | PreconditionRequired: 428, |
| [8048](#L8048) | TooManyRequests: 429, |
| [8049](#L8049) | RequestHeaderFieldsTooLarge: 431, |
| [8050](#L8050) | UnavailableForLegalReasons: 451, |
| [8051](#L8051) | InternalServerError: 500, |
| [8052](#L8052) | NotImplemented: 501, |
| [8053](#L8053) | BadGateway: 502, |
| [8054](#L8054) | ServiceUnavailable: 503, |
| [8055](#L8055) | GatewayTimeout: 504, |
| [8056](#L8056) | HttpVersionNotSupported: 505, |
| [8057](#L8057) | VariantAlsoNegotiates: 506, |
| [8058](#L8058) | InsufficientStorage: 507, |
| [8059](#L8059) | LoopDetected: 508, |
| [8060](#L8060) | NotExtended: 510, |
| [8061](#L8061) | NetworkAuthenticationRequired: 511, |
| [8062](#L8062) | }; |
| [8063](#L8063) |  |
| [8064](#L8064) | Object.entries(HttpStatusCode).forEach(([key, value]) => { |
| [8065](#L8065) | HttpStatusCode[value] = key; |
| [8066](#L8066) | }); |
| [8067](#L8067) |  |
| [8068](#L8068) | /\* harmony default export \*/ var helpers\_HttpStatusCode = (HttpStatusCode); |
| [8069](#L8069) |  |
| [8070](#L8070) | ;// CONCATENATED MODULE: ./node\_modules/axios/lib/axios.js |
| [8071](#L8071) |  |
| [8072](#L8072) |  |
| [8073](#L8073) |  |
| [8074](#L8074) |  |
| [8075](#L8075) |  |
| [8076](#L8076) |  |
| [8077](#L8077) |  |
| [8078](#L8078) |  |
| [8079](#L8079) |  |
| [8080](#L8080) |  |
| [8081](#L8081) |  |
| [8082](#L8082) |  |
| [8083](#L8083) |  |
| [8084](#L8084) |  |
| [8085](#L8085) |  |
| [8086](#L8086) |  |
| [8087](#L8087) |  |
| [8088](#L8088) |  |
| [8089](#L8089) |  |
| [8090](#L8090) |  |
| [8091](#L8091) | /\*\* |
| [8092](#L8092) | \* Create an instance of Axios |
| [8093](#L8093) | \* |
| [8094](#L8094) | \* @param {Object} defaultConfig The default config for the instance |
| [8095](#L8095) | \* |
| [8096](#L8096) | \* @returns {Axios} A new instance of Axios |
| [8097](#L8097) | \*/ |
| [8098](#L8098) | function createInstance(defaultConfig) { |
| [8099](#L8099) | const context = new core\_Axios(defaultConfig); |
| [8100](#L8100) | const instance = bind(core\_Axios.prototype.request, context); |
| [8101](#L8101) |  |
| [8102](#L8102) | // Copy axios.prototype to instance |
| [8103](#L8103) | utils.extend(instance, core\_Axios.prototype, context, {allOwnKeys: true}); |
| [8104](#L8104) |  |
| [8105](#L8105) | // Copy context to instance |
| [8106](#L8106) | utils.extend(instance, context, null, {allOwnKeys: true}); |
| [8107](#L8107) |  |
| [8108](#L8108) | // Factory for creating new instances |
| [8109](#L8109) | instance.create = function create(instanceConfig) { |
| [8110](#L8110) | return createInstance(mergeConfig(defaultConfig, instanceConfig)); |
| [8111](#L8111) | }; |
| [8112](#L8112) |  |
| [8113](#L8113) | return instance; |
| [8114](#L8114) | } |
| [8115](#L8115) |  |
| [8116](#L8116) | // Create the default instance to be exported |
| [8117](#L8117) | const axios = createInstance(lib\_defaults); |
| [8118](#L8118) |  |
| [8119](#L8119) | // Expose Axios class to allow class inheritance |
| [8120](#L8120) | axios.Axios = core\_Axios; |
| [8121](#L8121) |  |
| [8122](#L8122) | // Expose Cancel & CancelToken |
| [8123](#L8123) | axios.CanceledError = cancel\_CanceledError; |
| [8124](#L8124) | axios.CancelToken = cancel\_CancelToken; |
| [8125](#L8125) | axios.isCancel = isCancel; |
| [8126](#L8126) | axios.VERSION = VERSION; |
| [8127](#L8127) | axios.toFormData = helpers\_toFormData; |
| [8128](#L8128) |  |
| [8129](#L8129) | // Expose AxiosError class |
| [8130](#L8130) | axios.AxiosError = core\_AxiosError; |
| [8131](#L8131) |  |
| [8132](#L8132) | // alias for CanceledError for backward compatibility |
| [8133](#L8133) | axios.Cancel = axios.CanceledError; |
| [8134](#L8134) |  |
| [8135](#L8135) | // Expose all/spread |
| [8136](#L8136) | axios.all = function all(promises) { |
| [8137](#L8137) | return Promise.all(promises); |
| [8138](#L8138) | }; |
| [8139](#L8139) |  |
| [8140](#L8140) | axios.spread = spread; |
| [8141](#L8141) |  |
| [8142](#L8142) | // Expose isAxiosError |
| [8143](#L8143) | axios.isAxiosError = isAxiosError; |
| [8144](#L8144) |  |
| [8145](#L8145) | // Expose mergeConfig |
| [8146](#L8146) | axios.mergeConfig = mergeConfig; |
| [8147](#L8147) |  |
| [8148](#L8148) | axios.AxiosHeaders = core\_AxiosHeaders; |
| [8149](#L8149) |  |
| [8150](#L8150) | axios.formToJSON = thing => helpers\_formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing); |
| [8151](#L8151) |  |
| [8152](#L8152) | axios.getAdapter = adapters.getAdapter; |
| [8153](#L8153) |  |
| [8154](#L8154) | axios.HttpStatusCode = helpers\_HttpStatusCode; |
| [8155](#L8155) |  |
| [8156](#L8156) | axios.default = axios; |
| [8157](#L8157) |  |
| [8158](#L8158) | // this module should only have a default export |
| [8159](#L8159) | /\* harmony default export \*/ var lib\_axios = (axios); |
| [8160](#L8160) |  |
| [8161](#L8161) | // EXTERNAL MODULE: ./node\_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js |
| [8162](#L8162) | var injectStylesIntoStyleTag = \_\_webpack\_require\_\_(379); |
| [8163](#L8163) | var injectStylesIntoStyleTag\_default = /\*#\_\_PURE\_\_\*/\_\_webpack\_require\_\_.n(injectStylesIntoStyleTag); |
| [8164](#L8164) | // EXTERNAL MODULE: ./node\_modules/style-loader/dist/runtime/styleDomAPI.js |
| [8165](#L8165) | var styleDomAPI = \_\_webpack\_require\_\_(795); |
| [8166](#L8166) | var styleDomAPI\_default = /\*#\_\_PURE\_\_\*/\_\_webpack\_require\_\_.n(styleDomAPI); |
| [8167](#L8167) | // EXTERNAL MODULE: ./node\_modules/style-loader/dist/runtime/insertBySelector.js |
| [8168](#L8168) | var insertBySelector = \_\_webpack\_require\_\_(569); |
| [8169](#L8169) | var insertBySelector\_default = /\*#\_\_PURE\_\_\*/\_\_webpack\_require\_\_.n(insertBySelector); |
| [8170](#L8170) | // EXTERNAL MODULE: ./node\_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js |
| [8171](#L8171) | var setAttributesWithoutAttributes = \_\_webpack\_require\_\_(565); |
| [8172](#L8172) | var setAttributesWithoutAttributes\_default = /\*#\_\_PURE\_\_\*/\_\_webpack\_require\_\_.n(setAttributesWithoutAttributes); |
| [8173](#L8173) | // EXTERNAL MODULE: ./node\_modules/style-loader/dist/runtime/insertStyleElement.js |
| [8174](#L8174) | var insertStyleElement = \_\_webpack\_require\_\_(216); |
| [8175](#L8175) | var insertStyleElement\_default = /\*#\_\_PURE\_\_\*/\_\_webpack\_require\_\_.n(insertStyleElement); |
| [8176](#L8176) | // EXTERNAL MODULE: ./node\_modules/style-loader/dist/runtime/styleTagTransform.js |
| [8177](#L8177) | var styleTagTransform = \_\_webpack\_require\_\_(589); |
| [8178](#L8178) | var styleTagTransform\_default = /\*#\_\_PURE\_\_\*/\_\_webpack\_require\_\_.n(styleTagTransform); |
| [8179](#L8179) | // EXTERNAL MODULE: ./node\_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[2].use[1]!./node\_modules/css-loader/dist/cjs.js!./node\_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./src/frontend/scss/ajax-load-more.scss |
| [8180](#L8180) | var ajax\_load\_more = \_\_webpack\_require\_\_(792); |
| [8181](#L8181) | var ajax\_load\_more\_default = /\*#\_\_PURE\_\_\*/\_\_webpack\_require\_\_.n(ajax\_load\_more); |
| [8182](#L8182) | ;// CONCATENATED MODULE: ./src/frontend/scss/ajax-load-more.scss |
| [8183](#L8183) |  |
| [8184](#L8184) |  |
| [8185](#L8185) |  |
| [8186](#L8186) |  |
| [8187](#L8187) |  |
| [8188](#L8188) |  |
| [8189](#L8189) |  |
| [8190](#L8190) |  |
| [8191](#L8191) |  |
| [8192](#L8192) |  |
| [8193](#L8193) |  |
| [8194](#L8194) | var options = {}; |
| [8195](#L8195) |  |
| [8196](#L8196) | options.styleTagTransform = (styleTagTransform\_default()); |
| [8197](#L8197) | options.setAttributes = (setAttributesWithoutAttributes\_default()); |
| [8198](#L8198) |  |
| [8199](#L8199) | options.insert = insertBySelector\_default().bind(null, "head"); |
| [8200](#L8200) |  |
| [8201](#L8201) | options.domAPI = (styleDomAPI\_default()); |
| [8202](#L8202) | options.insertStyleElement = (insertStyleElement\_default()); |
| [8203](#L8203) |  |
| [8204](#L8204) | var update = injectStylesIntoStyleTag\_default()((ajax\_load\_more\_default()), options); |
| [8205](#L8205) |  |
| [8206](#L8206) |  |
| [8207](#L8207) |  |
| [8208](#L8208) |  |
| [8209](#L8209) | /\* harmony default export \*/ var scss\_ajax\_load\_more = ((ajax\_load\_more\_default()) && (ajax\_load\_more\_default()).locals ? (ajax\_load\_more\_default()).locals : undefined); |
| [8210](#L8210) |  |
| [8211](#L8211) | // EXTERNAL MODULE: ./node\_modules/crypto-js/md5.js |
| [8212](#L8212) | var md5 = \_\_webpack\_require\_\_(214); |
| [8213](#L8213) | var md5\_default = /\*#\_\_PURE\_\_\*/\_\_webpack\_require\_\_.n(md5); |
| [8214](#L8214) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/api.js |
| [8215](#L8215) |  |
| [8216](#L8216) | var \_alm\_localize = alm\_localize, |
| [8217](#L8217) | rest\_api = \_alm\_localize.rest\_api, |
| [8218](#L8218) | rest\_nonce = \_alm\_localize.rest\_nonce; |
| [8219](#L8219) |  |
| [8220](#L8220) | /\* |
| [8221](#L8221) | \* Create a Api object with Axios and configure it for the WordPRess Rest API. |
| [8222](#L8222) | \* |
| [8223](#L8223) | \* @see https://axios-http.com/docs/instance |
| [8224](#L8224) | \*/ |
| [8225](#L8225) | var api = lib\_axios.create({ |
| [8226](#L8226) | baseURL: rest\_api, |
| [8227](#L8227) | headers: { |
| [8228](#L8228) | 'content-type': 'application/json', |
| [8229](#L8229) | 'X-WP-Nonce': rest\_nonce |
| [8230](#L8230) | } |
| [8231](#L8231) | }); |
| [8232](#L8232) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/getButtonURL.js |
| [8233](#L8233) | /\*\* |
| [8234](#L8234) | \* Get the URL for Load More button. |
| [8235](#L8235) | \* |
| [8236](#L8236) | \* @param {Object} alm The Ajax Load More object. |
| [8237](#L8237) | \* @param {string} rel The type of load more, `next` or `previous`. |
| [8238](#L8238) | \* @since 5.4.0 |
| [8239](#L8239) | \*/ |
| [8240](#L8240) | function getButtonURL(alm) { |
| [8241](#L8241) | var \_button; |
| [8242](#L8242) | var rel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'next'; |
| [8243](#L8243) | if (!alm || !alm.trigger) { |
| [8244](#L8244) | return false; |
| [8245](#L8245) | } |
| [8246](#L8246) | var button = alm.trigger.querySelector('.alm-load-more-btn'); |
| [8247](#L8247) | if (rel === 'prev') { |
| [8248](#L8248) | button = document.querySelector('.alm-load-more-btn--prev'); |
| [8249](#L8249) | } |
| [8250](#L8250) | return ((\_button = button) === null || \_button === void 0 || (\_button = \_button.dataset) === null || \_button === void 0 ? void 0 : \_button.url) || ''; |
| [8251](#L8251) | } |
| [8252](#L8252) |  |
| [8253](#L8253) | /\*\* |
| [8254](#L8254) | \* Set button dataset attributes. |
| [8255](#L8255) | \* |
| [8256](#L8256) | \* @param {Element} button The HTML element. |
| [8257](#L8257) | \* @param {number}  page   The current page number. |
| [8258](#L8258) | \* @param {string}  url    The URL for updating. |
| [8259](#L8259) | \*/ |
| [8260](#L8260) | function setButtonAtts(button, page, url) { |
| [8261](#L8261) | if (!button || page === 0) { |
| [8262](#L8262) | return; |
| [8263](#L8263) | } |
| [8264](#L8264) | if ((button === null || button === void 0 ? void 0 : button.rel) === 'prev') { |
| [8265](#L8265) | button.href = url; |
| [8266](#L8266) | } |
| [8267](#L8267) |  |
| [8268](#L8268) | // Set page & URL attributes. |
| [8269](#L8269) | button.dataset.page = page; |
| [8270](#L8270) | button.dataset.url = url ? url : ''; |
| [8271](#L8271) | } |
| [8272](#L8272) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/cache.js |
| [8273](#L8273) | function \_typeof(o) { "@babel/helpers - typeof"; return \_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, \_typeof(o); } |
| [8274](#L8274) | function \_regeneratorRuntime() { "use strict"; /\*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE \*/ \_regeneratorRuntime = function \_regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "\_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this.\_invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == \_typeof(h) && n.call(h, "\_\_await") ? e.resolve(h.\_\_await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "\_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n.\_sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(\_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.\_\_proto\_\_ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { \_\_await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this.\_sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function \_catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; } |
| [8275](#L8275) | function asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(\_next, \_throw); } } |
| [8276](#L8276) | function \_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function \_next(value) { asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "next", value); } function \_throw(err) { asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "throw", err); } \_next(undefined); }); }; } |
| [8277](#L8277) |  |
| [8278](#L8278) |  |
| [8279](#L8279) |  |
| [8280](#L8280) |  |
| [8281](#L8281) | /\*\* |
| [8282](#L8282) | \* Create add-on params for ALM. |
| [8283](#L8283) | \* |
| [8284](#L8284) | \* @param {Object} alm The alm object. |
| [8285](#L8285) | \* @return {Object}    The modified object. |
| [8286](#L8286) | \*/ |
| [8287](#L8287) | function cacheCreateParams(alm) { |
| [8288](#L8288) | var \_listing$dataset; |
| [8289](#L8289) | var listing = alm.listing; |
| [8290](#L8290) | alm.addons.cache = (listing === null || listing === void 0 || (\_listing$dataset = listing.dataset) === null || \_listing$dataset === void 0 ? void 0 : \_listing$dataset.cache) === 'true'; |
| [8291](#L8291) | if (alm.addons.cache) { |
| [8292](#L8292) | alm.addons.cache\_id = listing.dataset.cacheId; |
| [8293](#L8293) | alm.addons.cache\_path = listing.dataset.cachePath; |
| [8294](#L8294) | alm.addons.cache\_logged\_in = listing.dataset.cacheLoggedIn ? listing.dataset.cacheLoggedIn : false; |
| [8295](#L8295) | } |
| [8296](#L8296) | return alm; |
| [8297](#L8297) | } |
| [8298](#L8298) |  |
| [8299](#L8299) | /\*\* |
| [8300](#L8300) | \* Create unique cache slug from query params. |
| [8301](#L8301) | \* |
| [8302](#L8302) | \* @param {Object} alm  The ALM object. |
| [8303](#L8303) | \* @param {Object} data The data object. |
| [8304](#L8304) | \* @return {string}     The cache file slug. |
| [8305](#L8305) | \*/ |
| [8306](#L8306) | function getCacheSlug(alm, data) { |
| [8307](#L8307) | var addons = alm.addons, |
| [8308](#L8308) | pagePrev = alm.pagePrev, |
| [8309](#L8309) | page = alm.page, |
| [8310](#L8310) | \_alm$rel = alm.rel, |
| [8311](#L8311) | rel = \_alm$rel === void 0 ? 'next' : \_alm$rel; |
| [8312](#L8312) | if (addons.nextpage) { |
| [8313](#L8313) | // Nextpage. |
| [8314](#L8314) | return "page-".concat(page + addons.nextpage\_startpage); |
| [8315](#L8315) | } else if (addons.single\_post) { |
| [8316](#L8316) | // Single Post. |
| [8317](#L8317) | return addons.single\_post\_id; |
| [8318](#L8318) | } else if (addons.queryloop) { |
| [8319](#L8319) | // Query Loop, use the button URL. |
| [8320](#L8320) | return md5\_default()(JSON.stringify(getButtonURL(alm, alm.rel))).toString(); |
| [8321](#L8321) | } else if (addons.woocommerce || addons.elementor) { |
| [8322](#L8322) | // WooCommerce || Elementor. |
| [8323](#L8323) | return rel === 'prev' ? "page-".concat(pagePrev) : "page-".concat(page + 1); |
| [8324](#L8324) | } |
| [8325](#L8325) | return md5\_default()(JSON.stringify(data)).toString(); // Standard. |
| [8326](#L8326) | } |
| [8327](#L8327) |  |
| [8328](#L8328) | /\*\* |
| [8329](#L8329) | \* Create a cache file. |
| [8330](#L8330) | \* |
| [8331](#L8331) | \* @param {Object} alm  The ALM object. |
| [8332](#L8332) | \* @param {string} data Content to cache. |
| [8333](#L8333) | \* @param {string} name The cache slug |
| [8334](#L8334) | \* @since 5.3.1 |
| [8335](#L8335) | \*/ |
| [8336](#L8336) | function createCache(\_x, \_x2, \_x3) { |
| [8337](#L8337) | return \_createCache.apply(this, arguments); |
| [8338](#L8338) | } |
| [8339](#L8339) |  |
| [8340](#L8340) | /\*\* |
| [8341](#L8341) | \* Get cache data file. |
| [8342](#L8342) | \* |
| [8343](#L8343) | \* @param {Object} alm    The ALM object. |
| [8344](#L8344) | \* @param {Object} params Query params. |
| [8345](#L8345) | \* @return {Promise}      Cache data or false. |
| [8346](#L8346) | \*/ |
| [8347](#L8347) | function \_createCache() { |
| [8348](#L8348) | \_createCache = \_asyncToGenerator( /\*#\_\_PURE\_\_\*/\_regeneratorRuntime().mark(function \_callee(alm, data, name) { |
| [8349](#L8349) | var \_data$html, html, \_data$meta, meta, params, res; |
| [8350](#L8350) | return \_regeneratorRuntime().wrap(function \_callee$(\_context) { |
| [8351](#L8351) | while (1) switch (\_context.prev = \_context.next) { |
| [8352](#L8352) | case 0: |
| [8353](#L8353) | \_data$html = data.html, html = \_data$html === void 0 ? '' : \_data$html, \_data$meta = data.meta, meta = \_data$meta === void 0 ? {} : \_data$meta; |
| [8354](#L8354) | if (!(!html || !alm.addons.cache)) { |
| [8355](#L8355) | \_context.next = 3; |
| [8356](#L8356) | break; |
| [8357](#L8357) | } |
| [8358](#L8358) | return \_context.abrupt("return"); |
| [8359](#L8359) | case 3: |
| [8360](#L8360) | params = { |
| [8361](#L8361) | cache\_id: alm.addons.cache\_id, |
| [8362](#L8362) | cache\_logged\_in: alm.addons.cache\_logged\_in, |
| [8363](#L8363) | canonical\_url: alm.canonical\_url, |
| [8364](#L8364) | name: name, |
| [8365](#L8365) | html: html.trim(), |
| [8366](#L8366) | postcount: meta.postcount, |
| [8367](#L8367) | totalposts: meta.totalposts |
| [8368](#L8368) | }; // Create the cache file via REST API. |
| [8369](#L8369) | \_context.next = 6; |
| [8370](#L8370) | return api.post('ajax-load-more/cache/create', params); |
| [8371](#L8371) | case 6: |
| [8372](#L8372) | res = \_context.sent; |
| [8373](#L8373) | if (res.status === 200 && res.data && res.data.success) { |
| [8374](#L8374) | console.log(res.data.msg); // eslint-disable-line no-console |
| [8375](#L8375) | } |
| [8376](#L8376) | case 8: |
| [8377](#L8377) | case "end": |
| [8378](#L8378) | return \_context.stop(); |
| [8379](#L8379) | } |
| [8380](#L8380) | }, \_callee); |
| [8381](#L8381) | })); |
| [8382](#L8382) | return \_createCache.apply(this, arguments); |
| [8383](#L8383) | } |
| [8384](#L8384) | function getCache(\_x4, \_x5) { |
| [8385](#L8385) | return \_getCache.apply(this, arguments); |
| [8386](#L8386) | } |
| [8387](#L8387) | function \_getCache() { |
| [8388](#L8388) | \_getCache = \_asyncToGenerator( /\*#\_\_PURE\_\_\*/\_regeneratorRuntime().mark(function \_callee2(alm, params) { |
| [8389](#L8389) | var restParams, res; |
| [8390](#L8390) | return \_regeneratorRuntime().wrap(function \_callee2$(\_context2) { |
| [8391](#L8391) | while (1) switch (\_context2.prev = \_context2.next) { |
| [8392](#L8392) | case 0: |
| [8393](#L8393) | if (!(!alm.addons.cache || alm.addons.cache && alm.addons.cache\_logged\_in)) { |
| [8394](#L8394) | \_context2.next = 2; |
| [8395](#L8395) | break; |
| [8396](#L8396) | } |
| [8397](#L8397) | return \_context2.abrupt("return", false); |
| [8398](#L8398) | case 2: |
| [8399](#L8399) | restParams = { |
| [8400](#L8400) | id: alm.addons.cache\_id, |
| [8401](#L8401) | name: params.cache\_slug |
| [8402](#L8402) | }; |
| [8403](#L8403) | \_context2.next = 5; |
| [8404](#L8404) | return api.get('ajax-load-more/cache/get', { |
| [8405](#L8405) | params: restParams |
| [8406](#L8406) | }); |
| [8407](#L8407) | case 5: |
| [8408](#L8408) | res = \_context2.sent; |
| [8409](#L8409) | if (!(res.status === 200 && res.data)) { |
| [8410](#L8410) | \_context2.next = 8; |
| [8411](#L8411) | break; |
| [8412](#L8412) | } |
| [8413](#L8413) | return \_context2.abrupt("return", res.data); |
| [8414](#L8414) | case 8: |
| [8415](#L8415) | return \_context2.abrupt("return", false); |
| [8416](#L8416) | case 9: |
| [8417](#L8417) | case "end": |
| [8418](#L8418) | return \_context2.stop(); |
| [8419](#L8419) | } |
| [8420](#L8420) | }, \_callee2); |
| [8421](#L8421) | })); |
| [8422](#L8422) | return \_getCache.apply(this, arguments); |
| [8423](#L8423) | } |
| [8424](#L8424) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/call-to-actions.js |
| [8425](#L8425) | /\*\* |
| [8426](#L8426) | \* Create add-on params for ALM. |
| [8427](#L8427) | \* |
| [8428](#L8428) | \* @param {Object} alm The alm object. |
| [8429](#L8429) | \* @return {Object}    The modified object. |
| [8430](#L8430) | \*/ |
| [8431](#L8431) | function ctaCreateParams(alm) { |
| [8432](#L8432) | var \_listing$dataset; |
| [8433](#L8433) | var listing = alm.listing; |
| [8434](#L8434) | alm.addons.cta = (listing === null || listing === void 0 || (\_listing$dataset = listing.dataset) === null || \_listing$dataset === void 0 ? void 0 : \_listing$dataset.cta) === 'true'; |
| [8435](#L8435) | if (alm.addons.cta) { |
| [8436](#L8436) | alm.addons.cta\_position = listing.dataset.ctaPosition; |
| [8437](#L8437) | alm.addons.cta\_repeater = listing.dataset.ctaRepeater; |
| [8438](#L8438) | alm.addons.cta\_theme\_repeater = listing.dataset.ctaThemeRepeater; |
| [8439](#L8439) | } |
| [8440](#L8440) | return alm; |
| [8441](#L8441) | } |
| [8442](#L8442) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/comments.js |
| [8443](#L8443) | /\*\* |
| [8444](#L8444) | \* Create add-on params for ALM. |
| [8445](#L8445) | \* |
| [8446](#L8446) | \* @param {Object} alm The alm object. |
| [8447](#L8447) | \* @return {Object}    The modified object. |
| [8448](#L8448) | \*/ |
| [8449](#L8449) | function commentsCreateParams(alm) { |
| [8450](#L8450) | var \_listing$dataset; |
| [8451](#L8451) | var listing = alm.listing; |
| [8452](#L8452) | alm.addons.comments = (listing === null || listing === void 0 || (\_listing$dataset = listing.dataset) === null || \_listing$dataset === void 0 ? void 0 : \_listing$dataset.comments) === 'true'; |
| [8453](#L8453) | if (alm.addons.comments) { |
| [8454](#L8454) | alm.addons.comments\_post\_id = listing.dataset.comments\_post\_id; |
| [8455](#L8455) | alm.addons.comments\_per\_page = listing.dataset.comments\_per\_page; |
| [8456](#L8456) | alm.addons.comments\_per\_page = alm.addons.comments\_per\_page === undefined ? '5' : alm.addons.comments\_per\_page; |
| [8457](#L8457) | alm.addons.comments\_type = listing.dataset.comments\_type; |
| [8458](#L8458) | alm.addons.comments\_style = listing.dataset.comments\_style; |
| [8459](#L8459) | alm.addons.comments\_template = listing.dataset.comments\_template; |
| [8460](#L8460) | alm.addons.comments\_callback = listing.dataset.comments\_callback; |
| [8461](#L8461) | } |
| [8462](#L8462) | return alm; |
| [8463](#L8463) | } |
| [8464](#L8464) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/constants.js |
| [8465](#L8465) | var EXCLUDED\_NODES = ['#text', '#comment']; |
| [8466](#L8466) | var API\_DATA\_SHAPE = { |
| [8467](#L8467) | html: '', |
| [8468](#L8468) | meta: { |
| [8469](#L8469) | postcount: 0, |
| [8470](#L8470) | totalposts: 0 |
| [8471](#L8471) | } |
| [8472](#L8472) | }; |
| [8473](#L8473) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/dispatchScrollEvent.js |
| [8474](#L8474) | /\*\* |
| [8475](#L8475) | \* Dispatch a window scroll event. |
| [8476](#L8476) | \* |
| [8477](#L8477) | \* @param {boolean} delay Should this be delayed. |
| [8478](#L8478) | \* @since 5.5 |
| [8479](#L8479) | \*/ |
| [8480](#L8480) | function dispatchScrollEvent() { |
| [8481](#L8481) | var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true; |
| [8482](#L8482) | if (typeof Event === 'function') { |
| [8483](#L8483) | setTimeout(function () { |
| [8484](#L8484) | window.dispatchEvent(new CustomEvent('scroll')); |
| [8485](#L8485) | }, delay ? 150 : 1); |
| [8486](#L8486) | } |
| [8487](#L8487) | } |
| [8488](#L8488) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/setContentParams.js |
| [8489](#L8489) | /\*\* |
| [8490](#L8490) | \* Set accessibility attributes on the containers. |
| [8491](#L8491) | \* |
| [8492](#L8492) | \* @param {Element} container  The container element. |
| [8493](#L8493) | \* @param {Element} almListing The Ajax Load More container. |
| [8494](#L8494) | \*/ |
| [8495](#L8495) | function setContentContainersParams(container, almListing) { |
| [8496](#L8496) | container.setAttribute('aria-live', 'polite'); |
| [8497](#L8497) | container.setAttribute('aria-atomic', 'true'); |
| [8498](#L8498) | almListing.removeAttribute('aria-live'); |
| [8499](#L8499) | almListing.removeAttribute('aria-atomic'); |
| [8500](#L8500) | } |
| [8501](#L8501) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/lazyImages.js |
| [8502](#L8502) | function \_toConsumableArray(arr) { return \_arrayWithoutHoles(arr) || \_iterableToArray(arr) || \_unsupportedIterableToArray(arr) || \_nonIterableSpread(); } |
| [8503](#L8503) | function \_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } |
| [8504](#L8504) | function \_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return \_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return \_arrayLikeToArray(o, minLen); } |
| [8505](#L8505) | function \_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); } |
| [8506](#L8506) | function \_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return \_arrayLikeToArray(arr); } |
| [8507](#L8507) | function \_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } |
| [8508](#L8508) | /\*\* |
| [8509](#L8509) | \* Lazy load images helper. |
| [8510](#L8510) | \* When a plugin or 3rd party script has hooked into WP Post Thumbnails to provide a lazy load solution, images will not load via Ajax. |
| [8511](#L8511) | \* This helper provides a fix by grabbing the dataset value and making it the src. |
| [8512](#L8512) | \* |
| [8513](#L8513) | \* @param {Object} alm The Ajax Load More object. |
| [8514](#L8514) | \*/ |
| [8515](#L8515) | function lazyImages(alm) { |
| [8516](#L8516) | var lazy\_images = alm.lazy\_images, |
| [8517](#L8517) | last\_loaded = alm.last\_loaded; |
| [8518](#L8518) | if (lazy\_images && last\_loaded !== null && last\_loaded !== void 0 && last\_loaded.length) { |
| [8519](#L8519) | last\_loaded.forEach(function (item) { |
| [8520](#L8520) | lazyImagesReplace(item); |
| [8521](#L8521) | }); |
| [8522](#L8522) | } |
| [8523](#L8523) | } |
| [8524](#L8524) |  |
| [8525](#L8525) | /\*\* |
| [8526](#L8526) | \* Loop all images in container and replace the src. |
| [8527](#L8527) | \* |
| [8528](#L8528) | \* @param {HTMLElement} container The element HTML. |
| [8529](#L8529) | \*/ |
| [8530](#L8530) | function lazyImagesReplace(container) { |
| [8531](#L8531) | var images = container.querySelectorAll('img'); |
| [8532](#L8532) | if (images) { |
| [8533](#L8533) | // Loop all images. |
| [8534](#L8534) | \_toConsumableArray(images).forEach(function (image) { |
| [8535](#L8535) | if (image) { |
| [8536](#L8536) | replaceSrc(image); |
| [8537](#L8537) | } |
| [8538](#L8538) | }); |
| [8539](#L8539) | } |
| [8540](#L8540) | } |
| [8541](#L8541) |  |
| [8542](#L8542) | /\*\* |
| [8543](#L8543) | \* Replace the image src with the value from data-src attributes. |
| [8544](#L8544) | \* |
| [8545](#L8545) | \* @param {HTMLElement} img The HTML image element. |
| [8546](#L8546) | \*/ |
| [8547](#L8547) | function replaceSrc(img) { |
| [8548](#L8548) | var \_img$dataset, \_img$dataset2, \_img$dataset3, \_img$dataset4; |
| [8549](#L8549) | if (!img) { |
| [8550](#L8550) | return; |
| [8551](#L8551) | } |
| [8552](#L8552) | if (img !== null && img !== void 0 && (\_img$dataset = img.dataset) !== null && \_img$dataset !== void 0 && \_img$dataset.src) { |
| [8553](#L8553) | img.src = img.dataset.src; |
| [8554](#L8554) | } |
| [8555](#L8555) | if (img !== null && img !== void 0 && (\_img$dataset2 = img.dataset) !== null && \_img$dataset2 !== void 0 && \_img$dataset2.srcset) { |
| [8556](#L8556) | img.srcset = img.dataset.srcset; |
| [8557](#L8557) | } |
| [8558](#L8558) | // Blocksy Pro. |
| [8559](#L8559) | // @see https://creativethemes.com/blocksy |
| [8560](#L8560) | if (img !== null && img !== void 0 && (\_img$dataset3 = img.dataset) !== null && \_img$dataset3 !== void 0 && \_img$dataset3.ctLazy) { |
| [8561](#L8561) | img.src = img.dataset.ctLazy; |
| [8562](#L8562) | } |
| [8563](#L8563) | if (img !== null && img !== void 0 && (\_img$dataset4 = img.dataset) !== null && \_img$dataset4 !== void 0 && \_img$dataset4.ctLazySet) { |
| [8564](#L8564) | img.srcset = img.dataset.ctLazySet; |
| [8565](#L8565) | } |
| [8566](#L8566) | } |
| [8567](#L8567) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/srcsetPolyfill.js |
| [8568](#L8568) | /\*\* |
| [8569](#L8569) | \* A srcset polyfill to get Masonry and ImagesLoaded working with Safari and Firefox. |
| [8570](#L8570) | \* |
| [8571](#L8571) | \* @param {HTMLElement} container Container HTML element. |
| [8572](#L8572) | \* @param {string}      ua        The user-agent string. |
| [8573](#L8573) | \* @since 5.0.2 |
| [8574](#L8574) | \*/ |
| [8575](#L8575) | function srcsetPolyfill() { |
| [8576](#L8576) | var container = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null; |
| [8577](#L8577) | var ua = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ''; |
| [8578](#L8578) | if (!container) { |
| [8579](#L8579) | return false; // Exit if no container. |
| [8580](#L8580) | } |
| [8581](#L8581) |  |
| [8582](#L8582) | // Exit if useragent is Chrome, Safari or Windows. |
| [8583](#L8583) | if (ua.indexOf('Safari') > -1 && ua.indexOf('Chrome') !== -1 || ua.indexOf('Firefox') > -1 || ua.indexOf('Windows') > -1) { |
| [8584](#L8584) | return false; |
| [8585](#L8585) | } |
| [8586](#L8586) |  |
| [8587](#L8587) | // Get all images. |
| [8588](#L8588) | var imgs = container.querySelectorAll('img[srcset]:not(.alm-loaded)'); |
| [8589](#L8589) |  |
| [8590](#L8590) | // Loop images. |
| [8591](#L8591) | for (var i = 0; i < imgs.length; i++) { |
| [8592](#L8592) | var img = imgs[i]; |
| [8593](#L8593) | img.classList.add('alm-loaded'); |
| [8594](#L8594) | img.outerHTML = img.outerHTML; |
| [8595](#L8595) | } |
| [8596](#L8596) | } |
| [8597](#L8597) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/loadImage.js |
| [8598](#L8598) |  |
| [8599](#L8599) |  |
| [8600](#L8600) | var imagesLoaded = \_\_webpack\_require\_\_(564); |
| [8601](#L8601) |  |
| [8602](#L8602) | /\*\* |
| [8603](#L8603) | \* Load the image with imagesLoaded |
| [8604](#L8604) | \* |
| [8605](#L8605) | \* @param {Element} container     The HTML container. |
| [8606](#L8606) | \* @param {Element} item          The element to load. |
| [8607](#L8607) | \* @param {string}  ua            Browser user-agent. |
| [8608](#L8608) | \* @param {string}  rel           The loading direction, next or prev. |
| [8609](#L8609) | \* @param {boolean} waitForImages Wait for images to load before loading next item. |
| [8610](#L8610) | \*/ |
| [8611](#L8611) | function loadImage(container, item, ua) { |
| [8612](#L8612) | var rel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'next'; |
| [8613](#L8613) | var waitForImages = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true; |
| [8614](#L8614) | /\*\* |
| [8615](#L8615) | \* Append item to container. |
| [8616](#L8616) | \*/ |
| [8617](#L8617) | function appendImage() { |
| [8618](#L8618) | if (rel === 'prev') { |
| [8619](#L8619) | container.insertBefore(item, container.childNodes[0]); |
| [8620](#L8620) | } else { |
| [8621](#L8621) | container.appendChild(item); |
| [8622](#L8622) | } |
| [8623](#L8623) | lazyImagesReplace(item); // Lazy load image fix. |
| [8624](#L8624) | srcsetPolyfill(item, ua); // Safari/Firefox polyfills. |
| [8625](#L8625) | } |
| [8626](#L8626) |  |
| [8627](#L8627) | return new Promise(function (resolve) { |
| [8628](#L8628) | item.style.transition = 'all 0.25s ease'; // Add CSS transition to each item. |
| [8629](#L8629) |  |
| [8630](#L8630) | if (waitForImages) { |
| [8631](#L8631) | imagesLoaded(item, function () { |
| [8632](#L8632) | appendImage(); |
| [8633](#L8633) | resolve(true); // Send Promise callback |
| [8634](#L8634) | }); |
| [8635](#L8635) | } else { |
| [8636](#L8636) | appendImage(); |
| [8637](#L8637) | resolve(true); // Send Promise callback |
| [8638](#L8638) | } |
| [8639](#L8639) | }); |
| [8640](#L8640) | } |
| [8641](#L8641) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/setFocus.js |
| [8642](#L8642) | /\*\* |
| [8643](#L8643) | \* Set user focus to improve accessibility after load events. |
| [8644](#L8644) | \* |
| [8645](#L8645) | \* @param {Object}  alm       ALM object. |
| [8646](#L8646) | \* @param {Element} element   The element to focus on. |
| [8647](#L8647) | \* @param {number}  total     The total number of posts returned. |
| [8648](#L8648) | \* @param {boolean} filtering Is this a filtering event. |
| [8649](#L8649) | \* @since 5.1 |
| [8650](#L8650) | \*/ |
| [8651](#L8651) | function setFocus(alm) { |
| [8652](#L8652) | var \_alm\_localize; |
| [8653](#L8653) | var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null; |
| [8654](#L8654) | var total = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0; |
| [8655](#L8655) | var filtering = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false; |
| [8656](#L8656) | if (!((\_alm\_localize = alm\_localize) !== null && \_alm\_localize !== void 0 && \_alm\_localize.a11y\_focus) || !element) { |
| [8657](#L8657) | return; |
| [8658](#L8658) | } |
| [8659](#L8659) |  |
| [8660](#L8660) | // WooCommerce||ELementor Add-ons. |
| [8661](#L8661) | if (alm.addons.woocommerce || alm.addons.elementor) { |
| [8662](#L8662) | moveFocus(false, false, element, false); |
| [8663](#L8663) | return; |
| [8664](#L8664) | } |
| [8665](#L8665) | if (total < 1) { |
| [8666](#L8666) | return; // Exit if no posts returned. |
| [8667](#L8667) | } |
| [8668](#L8668) |  |
| [8669](#L8669) | if (alm.addons.paging) { |
| [8670](#L8670) | // Paging. |
| [8671](#L8671) | moveFocus(alm.init, alm.addons.preloaded, alm.listing, filtering); |
| [8672](#L8672) | } else if (alm.addons.single\_post || alm.addons.nextpage) { |
| [8673](#L8673) | // Single Posts || Next Page - Set `init` to false to trigger focus. |
| [8674](#L8674) | moveFocus(false, alm.addons.preloaded, element, filtering); |
| [8675](#L8675) | } else { |
| [8676](#L8676) | // Standard. |
| [8677](#L8677) | moveFocus(alm.init, alm.addons.preloaded, element, filtering); |
| [8678](#L8678) | } |
| [8679](#L8679) | } |
| [8680](#L8680) |  |
| [8681](#L8681) | /\*\* |
| [8682](#L8682) | \* Move user focus to latest elements that have been loaded. |
| [8683](#L8683) | \* |
| [8684](#L8684) | \* @param {boolean} init      Initial run true or false. |
| [8685](#L8685) | \* @param {string}  preloaded Preloaded true or false. |
| [8686](#L8686) | \* @param {Element} element   The container HTML element. |
| [8687](#L8687) | \* @param {boolean} filtering Filtering true or false. |
| [8688](#L8688) | \* @since 5.1 |
| [8689](#L8689) | \*/ |
| [8690](#L8690) |  |
| [8691](#L8691) | function moveFocus() { |
| [8692](#L8692) | var init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true; |
| [8693](#L8693) | var preloaded = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'false'; |
| [8694](#L8694) | var element = arguments.length > 2 ? arguments[2] : undefined; |
| [8695](#L8695) | var filtering = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false; |
| [8696](#L8696) | if (!filtering) { |
| [8697](#L8697) | if ((init || !element) && preloaded !== 'true') { |
| [8698](#L8698) | return; // Exit if first run |
| [8699](#L8699) | } |
| [8700](#L8700) | } |
| [8701](#L8701) |  |
| [8702](#L8702) | element.setAttribute('tabIndex', '-1'); // Set tabIndex. |
| [8703](#L8703) | element.style.outline = 'none'; // Set element outline. |
| [8704](#L8704) |  |
| [8705](#L8705) | // Add slight delay for elements to settle into DOM. |
| [8706](#L8706) | setTimeout(function () { |
| [8707](#L8707) | element.focus({ |
| [8708](#L8708) | preventScroll: true |
| [8709](#L8709) | }); |
| [8710](#L8710) | }, 25); |
| [8711](#L8711) | } |
| [8712](#L8712) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/loadItems.js |
| [8713](#L8713) | function loadItems\_typeof(o) { "@babel/helpers - typeof"; return loadItems\_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, loadItems\_typeof(o); } |
| [8714](#L8714) | function loadItems\_regeneratorRuntime() { "use strict"; /\*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE \*/ loadItems\_regeneratorRuntime = function \_regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "\_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this.\_invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == loadItems\_typeof(h) && n.call(h, "\_\_await") ? e.resolve(h.\_\_await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "\_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n.\_sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(loadItems\_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.\_\_proto\_\_ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { \_\_await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this.\_sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function \_catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; } |
| [8715](#L8715) | function loadItems\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(\_next, \_throw); } } |
| [8716](#L8716) | function loadItems\_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function \_next(value) { loadItems\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "next", value); } function \_throw(err) { loadItems\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "throw", err); } \_next(undefined); }); }; } |
| [8717](#L8717) |  |
| [8718](#L8718) |  |
| [8719](#L8719) |  |
| [8720](#L8720) | /\*\* |
| [8721](#L8721) | \* Load all items after Ajax request. |
| [8722](#L8722) | \* |
| [8723](#L8723) | \* Note: The function is used with WooCommerce and Elementor add-ons. |
| [8724](#L8724) | \* |
| [8725](#L8725) | \* @param {HTMLElement} container     The HTML container. |
| [8726](#L8726) | \* @param {Array}       items         Array of items. |
| [8727](#L8727) | \* @param {Object}      alm           The ALM object. |
| [8728](#L8728) | \* @param {boolean}     waitForImages Wait for images to load before loading next item. |
| [8729](#L8729) | \*/ |
| [8730](#L8730) | function loadItems(container, items, alm) { |
| [8731](#L8731) | var waitForImages = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true; |
| [8732](#L8732) | return new Promise(function (resolve) { |
| [8733](#L8733) | var \_alm$rel = alm.rel, |
| [8734](#L8734) | rel = \_alm$rel === void 0 ? 'next' : \_alm$rel; |
| [8735](#L8735) | var total = items.length; |
| [8736](#L8736) | var index = 0; |
| [8737](#L8737) | var count = 1; |
| [8738](#L8738) |  |
| [8739](#L8739) | // Reverse items array if rel is 'prev'. |
| [8740](#L8740) | items = rel === 'prev' ? items.reverse() : items; |
| [8741](#L8741) | function loadItem() { |
| [8742](#L8742) | if (count <= total) { |
| [8743](#L8743) | loadItems\_asyncToGenerator( /\*#\_\_PURE\_\_\*/loadItems\_regeneratorRuntime().mark(function \_callee() { |
| [8744](#L8744) | return loadItems\_regeneratorRuntime().wrap(function \_callee$(\_context) { |
| [8745](#L8745) | while (1) switch (\_context.prev = \_context.next) { |
| [8746](#L8746) | case 0: |
| [8747](#L8747) | items[index].style.opacity = 0; |
| [8748](#L8748) | \_context.next = 3; |
| [8749](#L8749) | return loadImage(container, items[index], alm.ua, rel, waitForImages); |
| [8750](#L8750) | case 3: |
| [8751](#L8751) | count++; |
| [8752](#L8752) | index++; |
| [8753](#L8753) | loadItem(); |
| [8754](#L8754) | case 6: |
| [8755](#L8755) | case "end": |
| [8756](#L8756) | return \_context.stop(); |
| [8757](#L8757) | } |
| [8758](#L8758) | }, \_callee); |
| [8759](#L8759) | }))()["catch"](function () { |
| [8760](#L8760) | console.warn('There was an error loading the items.'); |
| [8761](#L8761) | }); |
| [8762](#L8762) | } else { |
| [8763](#L8763) | // Delay for effect only |
| [8764](#L8764) | setTimeout(function () { |
| [8765](#L8765) | items.map(function (item) { |
| [8766](#L8766) | item.style.opacity = 1; |
| [8767](#L8767) | return item; |
| [8768](#L8768) | }); |
| [8769](#L8769) | if (items[0]) { |
| [8770](#L8770) | var focusItem = rel === 'prev' ? items[items.length - 1] : items[0]; // Get the item to focus. |
| [8771](#L8771) | setFocus(alm, focusItem, null, false); // Set the focus. |
| [8772](#L8772) | } |
| [8773](#L8773) | }, 25); |
| [8774](#L8774) | resolve(true); |
| [8775](#L8775) | } |
| [8776](#L8776) | } |
| [8777](#L8777) | loadItem(); |
| [8778](#L8778) | }); |
| [8779](#L8779) | } |
| [8780](#L8780) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/loadPrevious.js |
| [8781](#L8781) | /\*\* |
| [8782](#L8782) | \* Create a Load Previous button. |
| [8783](#L8783) | \* |
| [8784](#L8784) | \* @param {Object} alm       The Ajax Load More object. |
| [8785](#L8785) | \* @param {Object} container The container element. |
| [8786](#L8786) | \* @param {number} page      The previous page number. |
| [8787](#L8787) | \* @param {string} url       The previous page url. |
| [8788](#L8788) | \* @param {string} label     The label for the button. |
| [8789](#L8789) | \* @since 5.5.0 |
| [8790](#L8790) | \*/ |
| [8791](#L8791) | function createLoadPreviousButton(alm, container) { |
| [8792](#L8792) | var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1; |
| [8793](#L8793) | var url = arguments.length > 3 ? arguments[3] : undefined; |
| [8794](#L8794) | var label = arguments.length > 4 ? arguments[4] : undefined; |
| [8795](#L8795) | if (!label) { |
| [8796](#L8796) | return; |
| [8797](#L8797) | } |
| [8798](#L8798) |  |
| [8799](#L8799) | // Create wrapper. |
| [8800](#L8800) | var btnWrap = document.createElement('div'); |
| [8801](#L8801) | btnWrap.classList.add('alm-btn-wrap--prev'); |
| [8802](#L8802) |  |
| [8803](#L8803) | // Create button. |
| [8804](#L8804) | var button = document.createElement('a'); |
| [8805](#L8805) | button.href = url; |
| [8806](#L8806) | button.innerHTML = label; |
| [8807](#L8807) | button.setAttribute('rel', 'prev'); |
| [8808](#L8808) | button.dataset.page = page; |
| [8809](#L8809) | button.dataset.url = url; |
| [8810](#L8810) | button.setAttribute('class', "alm-load-more-btn alm-load-more-btn--prev ".concat(alm.loading\_style)); |
| [8811](#L8811) |  |
| [8812](#L8812) | // Click event. |
| [8813](#L8813) | button.addEventListener('click', function (e) { |
| [8814](#L8814) | alm.AjaxLoadMore.prevClick(e); |
| [8815](#L8815) | }); |
| [8816](#L8816) |  |
| [8817](#L8817) | // Set alm previous button to this button. |
| [8818](#L8818) | alm.AjaxLoadMore.setPreviousButton(button); |
| [8819](#L8819) |  |
| [8820](#L8820) | // Append button to wrap. |
| [8821](#L8821) | btnWrap.appendChild(button); |
| [8822](#L8822) |  |
| [8823](#L8823) | // Get parent element. |
| [8824](#L8824) | var parent = container.parentNode; |
| [8825](#L8825) |  |
| [8826](#L8826) | // Append button before container. |
| [8827](#L8827) | parent.insertBefore(btnWrap, container); |
| [8828](#L8828) | } |
| [8829](#L8829) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/elementor.js |
| [8830](#L8830) | function elementor\_typeof(o) { "@babel/helpers - typeof"; return elementor\_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, elementor\_typeof(o); } |
| [8831](#L8831) | function elementor\_regeneratorRuntime() { "use strict"; /\*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE \*/ elementor\_regeneratorRuntime = function \_regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "\_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this.\_invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == elementor\_typeof(h) && n.call(h, "\_\_await") ? e.resolve(h.\_\_await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "\_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n.\_sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(elementor\_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.\_\_proto\_\_ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { \_\_await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this.\_sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function \_catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; } |
| [8832](#L8832) | function elementor\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(\_next, \_throw); } } |
| [8833](#L8833) | function elementor\_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function \_next(value) { elementor\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "next", value); } function \_throw(err) { elementor\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "throw", err); } \_next(undefined); }); }; } |
| [8834](#L8834) |  |
| [8835](#L8835) |  |
| [8836](#L8836) |  |
| [8837](#L8837) |  |
| [8838](#L8838) |  |
| [8839](#L8839) |  |
| [8840](#L8840) |  |
| [8841](#L8841) |  |
| [8842](#L8842) |  |
| [8843](#L8843) | /\*\* |
| [8844](#L8844) | \* Create add-on params for ALM. |
| [8845](#L8845) | \* |
| [8846](#L8846) | \* @param {Object} alm The alm object. |
| [8847](#L8847) | \* @return {Object}    The modified object. |
| [8848](#L8848) | \*/ |
| [8849](#L8849) | function elementorCreateParams(alm) { |
| [8850](#L8850) | var \_alm = alm, |
| [8851](#L8851) | listing = \_alm.listing; |
| [8852](#L8852) | alm.addons.elementor = listing.dataset.elementor === 'posts' && listing.dataset.elementorSettings; |
| [8853](#L8853) | if (alm.addons.elementor) { |
| [8854](#L8854) | alm.addons.elementor\_type = 'posts'; |
| [8855](#L8855) | alm.addons.elementor\_settings = JSON.parse(alm.listing.dataset.elementorSettings); |
| [8856](#L8856) |  |
| [8857](#L8857) | // Parse Container Settings |
| [8858](#L8858) | alm.addons.elementor\_target = alm.addons.elementor\_settings.target; |
| [8859](#L8859) | alm.addons.elementor\_element = alm.addons.elementor\_settings.target ? document.querySelector(".elementor-element ".concat(alm.addons.elementor\_settings.target)) : ''; |
| [8860](#L8860) | alm.addons.elementor\_widget = elementorGetWidgetType(alm.addons.elementor\_element); |
| [8861](#L8861) |  |
| [8862](#L8862) | // Masonry |
| [8863](#L8863) | alm = setElementorClasses(alm, alm.addons.elementor\_widget); |
| [8864](#L8864) |  |
| [8865](#L8865) | // Pagination Element |
| [8866](#L8866) | alm.addons.elementor\_controls = alm.addons.elementor\_settings.controls; |
| [8867](#L8867) | alm.addons.elementor\_controls = alm.addons.elementor\_controls === 'true' ? true : false; |
| [8868](#L8868) | alm.addons.elementor\_scrolltop = parseInt(alm.addons.elementor\_settings.scrolltop); |
| [8869](#L8869) | alm.addons.elementor\_prev\_label = alm.addons.elementor\_settings.prev\_label || ''; |
| [8870](#L8870) |  |
| [8871](#L8871) | // Get next page URL. |
| [8872](#L8872) | alm.addons.elementor\_next\_page = elementorGetPagedURL(alm, alm.addons.elementor\_element); |
| [8873](#L8873) | alm.addons.elementor\_prev\_page = elementorGetPagedURL(alm, alm.addons.elementor\_element, 'prev'); |
| [8874](#L8874) |  |
| [8875](#L8875) | // Get the max pages. |
| [8876](#L8876) | alm.addons.elementor\_max\_pages = alm.addons.elementor\_element.querySelector('.e-load-more-anchor'); |
| [8877](#L8877) | alm.addons.elementor\_max\_pages = alm.addons.elementor\_max\_pages ? parseInt(alm.addons.elementor\_max\_pages.dataset.maxPage) : 999; |
| [8878](#L8878) | alm.addons.elementor\_paged = alm.addons.elementor\_settings.paged ? parseInt(alm.addons.elementor\_settings.paged) : 1; |
| [8879](#L8879) | alm.page = parseInt(alm.page) + alm.addons.elementor\_paged; |
| [8880](#L8880) |  |
| [8881](#L8881) | // Masonry |
| [8882](#L8882) | alm = parseMasonryConfig(alm); |
| [8883](#L8883) | if (!alm.addons.elementor\_element) { |
| [8884](#L8884) | console.warn("Ajax Load More: Unable to locate Elementor Widget. Are you sure you've set up your target parameter correctly?"); |
| [8885](#L8885) | } |
| [8886](#L8886) | if (!alm.addons.elementor\_next\_page) { |
| [8887](#L8887) | console.warn('Ajax Load More: Unable to locate Elementor pagination. There are either no results or Ajax Load More is unable to locate the pagination widget?'); |
| [8888](#L8888) | } |
| [8889](#L8889) | } |
| [8890](#L8890) | return alm; |
| [8891](#L8891) | } |
| [8892](#L8892) |  |
| [8893](#L8893) | /\*\* |
| [8894](#L8894) | \* Set up the instance on Elementor |
| [8895](#L8895) | \* |
| [8896](#L8896) | \* @param {Object} alm |
| [8897](#L8897) | \*/ |
| [8898](#L8898) | function elementorInit(alm) { |
| [8899](#L8899) | var addons = alm.addons; |
| [8900](#L8900) | if (!addons.elementor || !addons.elementor\_type || !addons.elementor\_type === 'posts') { |
| [8901](#L8901) | return false; |
| [8902](#L8902) | } |
| [8903](#L8903) | var container = addons.elementor\_element; |
| [8904](#L8904) | if (!container) { |
| [8905](#L8905) | return false; |
| [8906](#L8906) | } |
| [8907](#L8907) | alm.button.dataset.page = addons.elementor\_paged; // Set button data attributes |
| [8908](#L8908) |  |
| [8909](#L8909) | // Set button URL |
| [8910](#L8910) | var nextPage = addons.elementor\_next\_page; |
| [8911](#L8911) | alm.button.dataset.url = nextPage ? nextPage : ''; |
| [8912](#L8912) |  |
| [8913](#L8913) | // Set attributes on containers. |
| [8914](#L8914) | setContentContainersParams(container, alm.listing); |
| [8915](#L8915) |  |
| [8916](#L8916) | // Set data attributes on first item. |
| [8917](#L8917) | var item = container.querySelector(".".concat(addons.elementor\_item\_class)); // Get first item |
| [8918](#L8918) | if (item) { |
| [8919](#L8919) | item.classList.add('alm-elementor'); |
| [8920](#L8920) | item.dataset.url = window.location; |
| [8921](#L8921) | item.dataset.page = addons.elementor\_paged; |
| [8922](#L8922) | item.dataset.pageTitle = document.title; |
| [8923](#L8923) | } |
| [8924](#L8924) |  |
| [8925](#L8925) | // Paged URL: Create previous button. |
| [8926](#L8926) | if (addons.elementor\_paged > 1 && addons.elementor\_prev\_page && addons.elementor\_prev\_label) { |
| [8927](#L8927) | createLoadPreviousButton(alm, container, addons.elementor\_paged, addons.elementor\_prev\_page, addons.elementor\_prev\_label); |
| [8928](#L8928) | } |
| [8929](#L8929) |  |
| [8930](#L8930) | // Masonry Window Resize. Delay for masonry to be added via Elementor. |
| [8931](#L8931) | if (addons.elementor\_masonry) { |
| [8932](#L8932) | var resizeTimeout; |
| [8933](#L8933) | setTimeout(function () { |
| [8934](#L8934) | window.addEventListener('resize', function () { |
| [8935](#L8935) | clearTimeout(resizeTimeout); |
| [8936](#L8936) | resizeTimeout = setTimeout(function () { |
| [8937](#L8937) | positionMasonryItems(alm, ".".concat(addons.elementor\_container\_class), ".".concat(addons.elementor\_item\_class)); |
| [8938](#L8938) | }, 100); |
| [8939](#L8939) | }); |
| [8940](#L8940) | }, 250); |
| [8941](#L8941) | } |
| [8942](#L8942) | } |
| [8943](#L8943) |  |
| [8944](#L8944) | /\*\* |
| [8945](#L8945) | \* Get the content, title and results text from the Ajax response. |
| [8946](#L8946) | \* |
| [8947](#L8947) | \* @param {Object} alm        The alm object. |
| [8948](#L8948) | \* @param {string} url        The request URL. |
| [8949](#L8949) | \* @param {Object} response   Query response. |
| [8950](#L8950) | \* @param {string} cache\_slug The cache slug. |
| [8951](#L8951) | \* @return {Object}           Results data. |
| [8952](#L8952) | \*/ |
| [8953](#L8953) | function elementorGetContent(alm, url, response, cache\_slug) { |
| [8954](#L8954) | var data = API\_DATA\_SHAPE; // Default data object. |
| [8955](#L8955) |  |
| [8956](#L8956) | // Successful response. |
| [8957](#L8957) | if (response.status === 200 && response.data) { |
| [8958](#L8958) | var addons = alm.addons, |
| [8959](#L8959) | page = alm.page, |
| [8960](#L8960) | button = alm.button, |
| [8961](#L8961) | buttonPrev = alm.buttonPrev, |
| [8962](#L8962) | rel = alm.rel; |
| [8963](#L8963) | var elementor\_target = addons.elementor\_target, |
| [8964](#L8964) | elementor\_container\_class = addons.elementor\_container\_class, |
| [8965](#L8965) | elementor\_item\_class = addons.elementor\_item\_class; |
| [8966](#L8966) |  |
| [8967](#L8967) | // Create temp div to hold response data. |
| [8968](#L8968) | var content = document.createElement('div'); |
| [8969](#L8969) | content.innerHTML = response.data; |
| [8970](#L8970) |  |
| [8971](#L8971) | // Set button state & URL. |
| [8972](#L8972) | if (rel === 'prev' && buttonPrev) { |
| [8973](#L8973) | var prevURL = elementorGetPagedURL(alm, content, 'prev'); |
| [8974](#L8974) | if (prevURL) { |
| [8975](#L8975) | setButtonAtts(buttonPrev, page - 1, prevURL); |
| [8976](#L8976) | } else { |
| [8977](#L8977) | alm.AjaxLoadMore.triggerDonePrev(); |
| [8978](#L8978) | } |
| [8979](#L8979) | } else { |
| [8980](#L8980) | var nextURL = elementorGetPagedURL(alm, content); |
| [8981](#L8981) | if (nextURL) { |
| [8982](#L8982) | setButtonAtts(button, page + 1, nextURL); |
| [8983](#L8983) | } else { |
| [8984](#L8984) | alm.AjaxLoadMore.triggerDone(); |
| [8985](#L8985) | } |
| [8986](#L8986) | } |
| [8987](#L8987) |  |
| [8988](#L8988) | // Get Page Title |
| [8989](#L8989) | var title = content.querySelector('title').innerHTML; |
| [8990](#L8990) | data.pageTitle = title; |
| [8991](#L8991) |  |
| [8992](#L8992) | // Get Elementor container. |
| [8993](#L8993) | var container = content.querySelector("".concat(elementor\_target, " .").concat(elementor\_container\_class)); |
| [8994](#L8994) | if (!container) { |
| [8995](#L8995) | console.warn("Ajax Load More Elementor: Unable to find Elementor container element."); |
| [8996](#L8996) | return data; |
| [8997](#L8997) | } |
| [8998](#L8998) |  |
| [8999](#L8999) | // Get the first item and append data attributes. |
| [9000](#L9000) | var item = container ? container.querySelector(".".concat(elementor\_item\_class)) : null; |
| [9001](#L9001) | if (item) { |
| [9002](#L9002) | item.classList.add('alm-elementor'); |
| [9003](#L9003) | item.dataset.url = url; |
| [9004](#L9004) | item.dataset.page = rel === 'next' ? page + 1 : page - 1; |
| [9005](#L9005) | item.dataset.pageTitle = title; |
| [9006](#L9006) | } |
| [9007](#L9007) |  |
| [9008](#L9008) | // Count the number of returned items. |
| [9009](#L9009) | var items = container.querySelectorAll(".".concat(elementor\_item\_class)); |
| [9010](#L9010) | if (items) { |
| [9011](#L9011) | // Set the html to the elementor container data. |
| [9012](#L9012) | data.html = container ? container.innerHTML : ''; |
| [9013](#L9013) | data.meta.postcount = items.length; |
| [9014](#L9014) | data.meta.totalposts = items.length; |
| [9015](#L9015) |  |
| [9016](#L9016) | // Create cache file. |
| [9017](#L9017) | createCache(alm, data, cache\_slug); |
| [9018](#L9018) | } |
| [9019](#L9019) | } |
| [9020](#L9020) | return data; |
| [9021](#L9021) | } |
| [9022](#L9022) |  |
| [9023](#L9023) | /\*\* |
| [9024](#L9024) | \* Core ALM Elementor loader. |
| [9025](#L9025) | \* |
| [9026](#L9026) | \* @param {HTMLElement} content The HTML data. |
| [9027](#L9027) | \* @param {Object}      alm     The alm object. |
| [9028](#L9028) | \*/ |
| [9029](#L9029) | function elementor(content, alm) { |
| [9030](#L9030) | if (!content || !alm) { |
| [9031](#L9031) | alm.AjaxLoadMore.triggerDone(); |
| [9032](#L9032) | return false; |
| [9033](#L9033) | } |
| [9034](#L9034) | return new Promise(function (resolve) { |
| [9035](#L9035) | var addons = alm.addons; |
| [9036](#L9036) | var container = alm.addons.elementor\_element.querySelector(".".concat(addons.elementor\_container\_class)); // Get post container |
| [9037](#L9037) | var items = content.querySelectorAll(".".concat(addons.elementor\_item\_class)); // Get all items in container |
| [9038](#L9038) |  |
| [9039](#L9039) | if (container && items) { |
| [9040](#L9040) | var ElementorItems = Array.prototype.slice.call(items); // Convert NodeList to Array |
| [9041](#L9041) |  |
| [9042](#L9042) | // Trigger almElementorLoaded callback. |
| [9043](#L9043) | if (typeof almElementorLoaded === 'function') { |
| [9044](#L9044) | window.almElementorLoaded(ElementorItems); |
| [9045](#L9045) | } |
| [9046](#L9046) |  |
| [9047](#L9047) | // Load the items. |
| [9048](#L9048) | elementor\_asyncToGenerator( /\*#\_\_PURE\_\_\*/elementor\_regeneratorRuntime().mark(function \_callee() { |
| [9049](#L9049) | return elementor\_regeneratorRuntime().wrap(function \_callee$(\_context) { |
| [9050](#L9050) | while (1) switch (\_context.prev = \_context.next) { |
| [9051](#L9051) | case 0: |
| [9052](#L9052) | \_context.next = 2; |
| [9053](#L9053) | return loadItems(container, ElementorItems, alm); |
| [9054](#L9054) | case 2: |
| [9055](#L9055) | if (addons.elementor\_masonry) { |
| [9056](#L9056) | setTimeout(function () { |
| [9057](#L9057) | positionMasonryItems(alm, ".".concat(addons.elementor\_container\_class), ".".concat(addons.elementor\_item\_class)); |
| [9058](#L9058) | }, 125); |
| [9059](#L9059) | } |
| [9060](#L9060) | resolve(true); |
| [9061](#L9061) | case 4: |
| [9062](#L9062) | case "end": |
| [9063](#L9063) | return \_context.stop(); |
| [9064](#L9064) | } |
| [9065](#L9065) | }, \_callee); |
| [9066](#L9066) | }))()["catch"](function (e) { |
| [9067](#L9067) | console.warn(e, 'There was an error with Elementor'); // eslint-disable-line no-console |
| [9068](#L9068) | }); |
| [9069](#L9069) | } else { |
| [9070](#L9070) | resolve(false); |
| [9071](#L9071) | } |
| [9072](#L9072) | }); |
| [9073](#L9073) | } |
| [9074](#L9074) |  |
| [9075](#L9075) | /\*\* |
| [9076](#L9076) | \* Elementor loaded and dispatch actions. |
| [9077](#L9077) | \* |
| [9078](#L9078) | \* @param {Object} alm The alm object. |
| [9079](#L9079) | \*/ |
| [9080](#L9080) | function elementorLoaded(alm) { |
| [9081](#L9081) | var page = alm.page, |
| [9082](#L9082) | AjaxLoadMore = alm.AjaxLoadMore, |
| [9083](#L9083) | addons = alm.addons; |
| [9084](#L9084) | var nextPage = page + 1; |
| [9085](#L9085) | var elementor\_max\_pages = addons.elementor\_max\_pages; |
| [9086](#L9086) | lazyImages(alm); // Lazy load images if necessary. |
| [9087](#L9087) |  |
| [9088](#L9088) | if (typeof almComplete === 'function' && alm.transition !== 'masonry') { |
| [9089](#L9089) | window.almComplete(alm); // Trigger almComplete. |
| [9090](#L9090) | } |
| [9091](#L9091) |  |
| [9092](#L9092) | AjaxLoadMore.transitionEnd(); // End transitions. |
| [9093](#L9093) |  |
| [9094](#L9094) | if (nextPage >= elementor\_max\_pages) { |
| [9095](#L9095) | AjaxLoadMore.triggerDone(); // ALM Done. |
| [9096](#L9096) | } |
| [9097](#L9097) |  |
| [9098](#L9098) | dispatchScrollEvent(); |
| [9099](#L9099) | } |
| [9100](#L9100) |  |
| [9101](#L9101) | /\*\* |
| [9102](#L9102) | \* Set the required classnames for parsing data and injecting content into the Elementor listing |
| [9103](#L9103) | \* |
| [9104](#L9104) | \* @param {Object} alm  The alm object. |
| [9105](#L9105) | \* @param {string} type The Elementor type. |
| [9106](#L9106) | \* @return {Object}     The modified object. |
| [9107](#L9107) | \*/ |
| [9108](#L9108) | function setElementorClasses(alm) { |
| [9109](#L9109) | var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'posts'; |
| [9110](#L9110) | // Get the items based on the Elementor type. |
| [9111](#L9111) | alm.addons.elementor\_container\_class = alm.addons.elementor\_settings.container\_class; // Container class |
| [9112](#L9112) |  |
| [9113](#L9113) | switch (type) { |
| [9114](#L9114) | case 'woocommerce': |
| [9115](#L9115) | alm.addons.elementor\_item\_class = alm.addons.elementor\_settings.woo\_item\_class; // item class. |
| [9116](#L9116) | alm.addons.elementor\_pagination\_class = ".".concat(alm.addons.elementor\_settings.woo\_pagination\_class); // Pagination class. |
| [9117](#L9117) | break; |
| [9118](#L9118) | case 'loop-grid': |
| [9119](#L9119) | alm.addons.elementor\_item\_class = alm.addons.elementor\_settings.loop\_grid\_item\_class; // item class. |
| [9120](#L9120) | alm.addons.elementor\_pagination\_class = ".".concat(alm.addons.elementor\_settings.loop\_grid\_pagination\_class); // Pagination class. |
| [9121](#L9121) | break; |
| [9122](#L9122) | default: |
| [9123](#L9123) | alm.addons.elementor\_item\_class = alm.addons.elementor\_settings.posts\_item\_class; // item class. |
| [9124](#L9124) | alm.addons.elementor\_pagination\_class = ".".concat(alm.addons.elementor\_settings.posts\_pagination\_class); // Pagination class. |
| [9125](#L9125) | break; |
| [9126](#L9126) | } |
| [9127](#L9127) | return alm; |
| [9128](#L9128) | } |
| [9129](#L9129) |  |
| [9130](#L9130) | /\*\* |
| [9131](#L9131) | \* Parse Masonry Settings from Elementor Data atts |
| [9132](#L9132) | \* |
| [9133](#L9133) | \* @param {Object} alm The alm object. |
| [9134](#L9134) | \* @return {Object}    The modified object. |
| [9135](#L9135) | \*/ |
| [9136](#L9136) | function parseMasonryConfig(alm) { |
| [9137](#L9137) | var \_target$dataset; |
| [9138](#L9138) | var addons = alm.addons; |
| [9139](#L9139) | if (!addons.elementor\_element) { |
| [9140](#L9140) | return alm; // Exit if not found. |
| [9141](#L9141) | } |
| [9142](#L9142) |  |
| [9143](#L9143) | var target = addons.elementor\_element; |
| [9144](#L9144) | var settings = target !== null && target !== void 0 && (\_target$dataset = target.dataset) !== null && \_target$dataset !== void 0 && \_target$dataset.settings ? JSON.parse(target.dataset.settings) : ''; |
| [9145](#L9145) | if (!settings) { |
| [9146](#L9146) | return alm; // Exit if not found. |
| [9147](#L9147) | } |
| [9148](#L9148) |  |
| [9149](#L9149) | addons.elementor\_masonry = settings.hasOwnProperty('cards\_masonry') || settings.hasOwnProperty('classic\_masonry') || settings.hasOwnProperty('masonry'); |
| [9150](#L9150) | if (addons.elementor\_masonry) { |
| [9151](#L9151) | var \_settings$cards\_row\_g, \_settings$row\_gap; |
| [9152](#L9152) | addons.elementor\_masonry\_columns = parseInt(settings === null || settings === void 0 ? void 0 : settings.cards\_columns) || parseInt(settings === null || settings === void 0 ? void 0 : settings.classic\_columns) || parseInt(settings === null || settings === void 0 ? void 0 : settings.columns); |
| [9153](#L9153) | addons.elementor\_masonry\_columns\_mobile = parseInt(settings === null || settings === void 0 ? void 0 : settings.cards\_columns\_mobile) || parseInt(settings === null || settings === void 0 ? void 0 : settings.classic\_columns\_mobile) || parseInt(settings === null || settings === void 0 ? void 0 : settings.columns\_mobile); |
| [9154](#L9154) | addons.elementor\_masonry\_columns\_tablet = parseInt(settings === null || settings === void 0 ? void 0 : settings.cards\_columns\_tablet) || parseInt(settings === null || settings === void 0 ? void 0 : settings.classic\_columns\_tablet) || parseInt(settings === null || settings === void 0 ? void 0 : settings.columns\_tablet); |
| [9155](#L9155) | addons.elementor\_masonry\_gap = parseInt(settings === null || settings === void 0 || (\_settings$cards\_row\_g = settings.cards\_row\_gap) === null || \_settings$cards\_row\_g === void 0 ? void 0 : \_settings$cards\_row\_g.size) || parseInt(settings === null || settings === void 0 || (\_settings$row\_gap = settings.row\_gap) === null || \_settings$row\_gap === void 0 ? void 0 : \_settings$row\_gap.size); |
| [9156](#L9156) | } |
| [9157](#L9157) | return alm; |
| [9158](#L9158) | } |
| [9159](#L9159) |  |
| [9160](#L9160) | /\*\* |
| [9161](#L9161) | \* Position Elementor Masonry Items |
| [9162](#L9162) | \* |
| [9163](#L9163) | \* @param {Object} alm             The alm object. |
| [9164](#L9164) | \* @param {string} container\_class The container classname. |
| [9165](#L9165) | \* @param {string} item\_class      The item classname. |
| [9166](#L9166) | \*/ |
| [9167](#L9167) | function positionMasonryItems(alm, container\_class, item\_class) { |
| [9168](#L9168) | var heights = []; |
| [9169](#L9169) |  |
| [9170](#L9170) | // Get Elementor Settings |
| [9171](#L9171) | var columnsCount = alm.addons.elementor\_masonry\_columns; |
| [9172](#L9172) | var columnsCountTablet = alm.addons.elementor\_masonry\_columns\_tablet; |
| [9173](#L9173) | var columnsCountMobile = alm.addons.elementor\_masonry\_columns\_mobile; |
| [9174](#L9174) | var verticalSpaceBetween = alm.addons.elementor\_masonry\_gap; |
| [9175](#L9175) | var columns = columnsCount; |
| [9176](#L9176) |  |
| [9177](#L9177) | // Get Elementor Breakpoints |
| [9178](#L9178) | var breakpoints = window.elementorFrontendConfig && window.elementorFrontendConfig.breakpoints ? window.elementorFrontendConfig.breakpoints : 0; |
| [9179](#L9179) | var windowW = window.innerWidth; |
| [9180](#L9180) |  |
| [9181](#L9181) | // Set Columns |
| [9182](#L9182) | if (windowW > breakpoints.lg) { |
| [9183](#L9183) | columns = columnsCount; |
| [9184](#L9184) | } else if (windowW > breakpoints.md) { |
| [9185](#L9185) | columns = columnsCountTablet; |
| [9186](#L9186) | } else { |
| [9187](#L9187) | columns = columnsCountMobile; |
| [9188](#L9188) | } |
| [9189](#L9189) |  |
| [9190](#L9190) | // Get Containers |
| [9191](#L9191) | var container = document.querySelector(container\_class); |
| [9192](#L9192) | if (!container) { |
| [9193](#L9193) | return false; |
| [9194](#L9194) | } |
| [9195](#L9195) | var items = container.querySelectorAll(item\_class); |
| [9196](#L9196) | if (!items) { |
| [9197](#L9197) | return false; |
| [9198](#L9198) | } |
| [9199](#L9199) |  |
| [9200](#L9200) | // Loop items |
| [9201](#L9201) | items.forEach(function (item, index) { |
| [9202](#L9202) | var row = Math.floor(index / columns); |
| [9203](#L9203) | var itemHeight = item.getBoundingClientRect().height + verticalSpaceBetween; |
| [9204](#L9204) | if (row) { |
| [9205](#L9205) | var itemPosition = jQuery(item).position(); |
| [9206](#L9206) | var indexAtRow = index % columns; |
| [9207](#L9207) | var pullHeight = Math.round(itemPosition.top) - heights[indexAtRow]; |
| [9208](#L9208) | pullHeight \*= -1; |
| [9209](#L9209) | item.style.marginTop = "".concat(Math.round(pullHeight), "px"); |
| [9210](#L9210) | heights[indexAtRow] += itemHeight; |
| [9211](#L9211) | } else { |
| [9212](#L9212) | heights.push(itemHeight); |
| [9213](#L9213) | } |
| [9214](#L9214) | }); |
| [9215](#L9215) | } |
| [9216](#L9216) |  |
| [9217](#L9217) | /\*\* |
| [9218](#L9218) | \* Determine the type of elementor widget (woocommerce || posts) |
| [9219](#L9219) | \* |
| [9220](#L9220) | \* @param {HTMLElement} target The target element. |
| [9221](#L9221) | \* @return {string}            The Elementor type. |
| [9222](#L9222) | \*/ |
| [9223](#L9223) | function elementorGetWidgetType(target) { |
| [9224](#L9224) | if (!target) { |
| [9225](#L9225) | return false; |
| [9226](#L9226) | } |
| [9227](#L9227) |  |
| [9228](#L9228) | // Get Elementor type based on container class. |
| [9229](#L9229) | if (target.classList.contains('elementor-wc-products')) { |
| [9230](#L9230) | return 'woocommerce'; |
| [9231](#L9231) | } else if (target.classList.contains('elementor-widget-loop-grid')) { |
| [9232](#L9232) | return 'loop-grid'; |
| [9233](#L9233) | } |
| [9234](#L9234) | return 'posts'; |
| [9235](#L9235) | } |
| [9236](#L9236) |  |
| [9237](#L9237) | /\*\* |
| [9238](#L9238) | \* Get the pagination container for the Elementor pagination. |
| [9239](#L9239) | \* |
| [9240](#L9240) | \* @param {Object}  alm     The alm object. |
| [9241](#L9241) | \* @param {Element} content The HTML content to search. |
| [9242](#L9242) | \* @param {string}  dir     the direction, next of prev. |
| [9243](#L9243) | \* @return {HTMLElement}    The pagination element. |
| [9244](#L9244) | \*/ |
| [9245](#L9245) | function elementorGetPagedURL(alm, content) { |
| [9246](#L9246) | var \_addons$elementor\_set, \_element$querySelecto; |
| [9247](#L9247) | var dir = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'next'; |
| [9248](#L9248) | var \_alm$addons = alm.addons, |
| [9249](#L9249) | addons = \_alm$addons === void 0 ? {} : \_alm$addons; |
| [9250](#L9250) |  |
| [9251](#L9251) | // Locate the pagination container. |
| [9252](#L9252) | var element = (content === null || content === void 0 ? void 0 : content.querySelector(addons === null || addons === void 0 ? void 0 : addons.elementor\_pagination\_class)) || (content === null || content === void 0 ? void 0 : content.querySelector(".".concat(addons === null || addons === void 0 || (\_addons$elementor\_set = addons.elementor\_settings) === null || \_addons$elementor\_set === void 0 ? void 0 : \_addons$elementor\_set.pagination\_class))); |
| [9253](#L9253) |  |
| [9254](#L9254) | // Get URL from the pagination element. |
| [9255](#L9255) | var page = element === null || element === void 0 || (\_element$querySelecto = element.querySelector("a.".concat(dir))) === null || \_element$querySelecto === void 0 ? void 0 : \_element$querySelecto.href; |
| [9256](#L9256) |  |
| [9257](#L9257) | // Return the paged URL element. |
| [9258](#L9258) | return page ? page : false; |
| [9259](#L9259) | } |
| [9260](#L9260) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/getParameterByName.js |
| [9261](#L9261) | /\*\* |
| [9262](#L9262) | \* Return a query param by name. |
| [9263](#L9263) | \* |
| [9264](#L9264) | \* @param {string} name The query param name. |
| [9265](#L9265) | \* @param {string} url  The URL. |
| [9266](#L9266) | \* @return {string}     The query param value. |
| [9267](#L9267) | \*/ |
| [9268](#L9268) | function getParameterByName(name, url) { |
| [9269](#L9269) | if (!url) url = window.location.href; |
| [9270](#L9270) | name = name.replace(/[\[\]]/g, '\\$&'); |
| [9271](#L9271) | var regex = new RegExp('[?&]' + name + '(=([^&#]\*)|&|#|$)'); |
| [9272](#L9272) | var results = regex.exec(url); |
| [9273](#L9273) | if (!results) { |
| [9274](#L9274) | return null; |
| [9275](#L9275) | } |
| [9276](#L9276) | if (!results[2]) { |
| [9277](#L9277) | return ''; |
| [9278](#L9278) | } |
| [9279](#L9279) | return decodeURIComponent(results[2].replace(/\+/g, ' ')); |
| [9280](#L9280) | } |
| [9281](#L9281) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/getQueryVariable.js |
| [9282](#L9282) | /\*\* |
| [9283](#L9283) | \* Get a query variable from location querystring |
| [9284](#L9284) | \* |
| [9285](#L9285) | \* @param {string} variable |
| [9286](#L9286) | \* @since 5.3.4 |
| [9287](#L9287) | \*/ |
| [9288](#L9288) | function getQueryVariable(variable) { |
| [9289](#L9289) | var query = window.location.search.substring(1); |
| [9290](#L9290) | var vars = query.split('&'); |
| [9291](#L9291) | for (var i = 0; i < vars.length; i++) { |
| [9292](#L9292) | var pair = vars[i].split('='); |
| [9293](#L9293) | if (decodeURIComponent(pair[0]) === variable) { |
| [9294](#L9294) | return decodeURIComponent(pair[1]); |
| [9295](#L9295) | } |
| [9296](#L9296) | } |
| [9297](#L9297) | return false; |
| [9298](#L9298) | } |
| [9299](#L9299) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/filters.js |
| [9300](#L9300) |  |
| [9301](#L9301) |  |
| [9302](#L9302) |  |
| [9303](#L9303) | /\*\* |
| [9304](#L9304) | \* Create add-on params for ALM. |
| [9305](#L9305) | \* |
| [9306](#L9306) | \* @param {Object} alm The alm object. |
| [9307](#L9307) | \* @return {Object}    The modified object. |
| [9308](#L9308) | \*/ |
| [9309](#L9309) | function filtersCreateParams(alm) { |
| [9310](#L9310) | var \_alm$listing; |
| [9311](#L9311) | var listing = alm.listing; |
| [9312](#L9312) | alm.addons.filters = (alm === null || alm === void 0 || (\_alm$listing = alm.listing) === null || \_alm$listing === void 0 || (\_alm$listing = \_alm$listing.dataset) === null || \_alm$listing === void 0 ? void 0 : \_alm$listing.filters) === 'true'; |
| [9313](#L9313) | if (alm.addons.filters) { |
| [9314](#L9314) | alm.addons.filters\_url = listing.dataset.filtersUrl === 'true'; |
| [9315](#L9315) | alm.addons.filters\_target = listing.dataset.filtersTarget ? listing.dataset.filtersTarget : false; |
| [9316](#L9316) | alm.addons.filters\_paging = listing.dataset.filtersPaging === 'true'; |
| [9317](#L9317) | alm.addons.filters\_scroll = listing.dataset.filtersScroll === 'true'; |
| [9318](#L9318) | alm.addons.filters\_scrolltop = listing.dataset.filtersScrolltop ? listing.dataset.filtersScrolltop : '30'; |
| [9319](#L9319) | alm.addons.filters\_debug = listing.dataset.filtersDebug; |
| [9320](#L9320) | alm.facets = listing.dataset.facets === 'true'; |
| [9321](#L9321) |  |
| [9322](#L9322) | // Display warning when `filters\_target` parameter is missing. |
| [9323](#L9323) | if (!alm.addons.filters\_target) { |
| [9324](#L9324) | console.warn('Ajax Load More: Unable to locate a target for Filters. Make sure you set a target parameter in the core Ajax Load More shortcode - e.g. [ajax\_load\_more filters="true" target="filters"]'); |
| [9325](#L9325) | } |
| [9326](#L9326) |  |
| [9327](#L9327) | // Parse querystring value for pg. |
| [9328](#L9328) | var page = getParameterByName('pg'); |
| [9329](#L9329) | alm.addons.filters\_startpage = page !== null ? parseInt(page) : 0; |
| [9330](#L9330) |  |
| [9331](#L9331) | // Handle a paged URL with filters. |
| [9332](#L9332) | if (alm.addons.filters\_startpage > 0) { |
| [9333](#L9333) | if (alm.addons.paging) { |
| [9334](#L9334) | // Paging add-on: Set current page value. |
| [9335](#L9335) | alm.page = alm.addons.filters\_startpage - 1; |
| [9336](#L9336) | } else { |
| [9337](#L9337) | // Set posts\_per\_page value to load all required posts. |
| [9338](#L9338) | alm.posts\_per\_page = alm.posts\_per\_page \* alm.addons.filters\_startpage; |
| [9339](#L9339) | alm.paged = true; |
| [9340](#L9340) | } |
| [9341](#L9341) | } |
| [9342](#L9342) | } |
| [9343](#L9343) | return alm; |
| [9344](#L9344) | } |
| [9345](#L9345) |  |
| [9346](#L9346) | /\*\* |
| [9347](#L9347) | \* Create data attributes for a Filters item. |
| [9348](#L9348) | \* |
| [9349](#L9349) | \* @param {Object}      alm     The ALM object. |
| [9350](#L9350) | \* @param {HTMLElement} element The element HTML node. |
| [9351](#L9351) | \* @param {number}      pagenum The current page number. |
| [9352](#L9352) | \* @return {HTMLElement}        Modified HTML element. |
| [9353](#L9353) | \*/ |
| [9354](#L9354) | function addFiltersAttributes(alm, element, pagenum) { |
| [9355](#L9355) | var canonical\_url = alm.canonical\_url; |
| [9356](#L9356) | var querystring = window.location.search; |
| [9357](#L9357) | element.classList.add('alm-filters'); |
| [9358](#L9358) | element.dataset.page = pagenum; |
| [9359](#L9359) | if (pagenum > 1) { |
| [9360](#L9360) | element.dataset.url = canonical\_url + buildFilterURL(alm, querystring, pagenum); |
| [9361](#L9361) | } else { |
| [9362](#L9362) | element.dataset.url = canonical\_url + buildFilterURL(alm, querystring, 0); |
| [9363](#L9363) | } |
| [9364](#L9364) | return element; |
| [9365](#L9365) | } |
| [9366](#L9366) |  |
| [9367](#L9367) | /\*\* |
| [9368](#L9368) | \* Parse a filter querystring for returning caches directories. |
| [9369](#L9369) | \* |
| [9370](#L9370) | \* @param {string} path The URL path. |
| [9371](#L9371) | \* @since 5.3.1 |
| [9372](#L9372) | \*/ |
| [9373](#L9373) | function parseQuerystring(path) { |
| [9374](#L9374) | // Get querystring |
| [9375](#L9375) | var query = window.location.search.substring(1); |
| [9376](#L9376) | var obj = ''; |
| [9377](#L9377) | var cache\_dir = ''; |
| [9378](#L9378) |  |
| [9379](#L9379) | // Parse querystring into object |
| [9380](#L9380) | if (query) { |
| [9381](#L9381) | obj = JSON.parse('{"' + query.replace(/&/g, '","').replace(/=/g, '":"') + '"}', function (key, value) { |
| [9382](#L9382) | // Replace + with - in URL |
| [9383](#L9383) | return key === '' ? value : decodeURIComponent(value.replace(/\+/g, '-')); |
| [9384](#L9384) | }); |
| [9385](#L9385) |  |
| [9386](#L9386) | // Remove the following properties from the object as they should not be included in the cache ID |
| [9387](#L9387) |  |
| [9388](#L9388) | if (obj.pg) { |
| [9389](#L9389) | // `pg` object prop |
| [9390](#L9390) | delete obj.pg; |
| [9391](#L9391) | } |
| [9392](#L9392) | if (obj.auto) { |
| [9393](#L9393) | // `auto` object prop |
| [9394](#L9394) | delete obj.auto; |
| [9395](#L9395) | } |
| [9396](#L9396) | } |
| [9397](#L9397) | if (obj) { |
| [9398](#L9398) | cache\_dir += '/'; |
| [9399](#L9399) | Object.keys(obj).forEach(function (key, index) { |
| [9400](#L9400) | cache\_dir += index > 0 ? '--' : ''; |
| [9401](#L9401) | cache\_dir += "".concat(key, "--").concat(obj[key]); |
| [9402](#L9402) | }); |
| [9403](#L9403) | } |
| [9404](#L9404) | return path + cache\_dir; |
| [9405](#L9405) | } |
| [9406](#L9406) |  |
| [9407](#L9407) | /\*\* |
| [9408](#L9408) | \* Build new paging URL for filters. |
| [9409](#L9409) | \* |
| [9410](#L9410) | \* @param {Object} alm         The ALM object. |
| [9411](#L9411) | \* @param {string} querystring The current querystring. |
| [9412](#L9412) | \* @param {number} page        The page number. |
| [9413](#L9413) | \* @return {string}            The querystring. |
| [9414](#L9414) | \* @since 5.3.5 |
| [9415](#L9415) | \*/ |
| [9416](#L9416) | function buildFilterURL(alm) { |
| [9417](#L9417) | var querystring = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ''; |
| [9418](#L9418) | var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0; |
| [9419](#L9419) | var qs = querystring; |
| [9420](#L9420) | if (alm.addons.filters\_paging) { |
| [9421](#L9421) | if (page > 1) { |
| [9422](#L9422) | // Paged |
| [9423](#L9423) | if (qs) { |
| [9424](#L9424) | // If already has `pg` in querystring |
| [9425](#L9425) | if (getQueryVariable('pg')) { |
| [9426](#L9426) | qs = querystring.replace(/(pg=)[^\&]+/, '$1' + page); |
| [9427](#L9427) | } else { |
| [9428](#L9428) | qs = querystring + '&pg=' + page; |
| [9429](#L9429) | } |
| [9430](#L9430) | } else { |
| [9431](#L9431) | qs = '?pg=' + page; |
| [9432](#L9432) | } |
| [9433](#L9433) | } else { |
| [9434](#L9434) | // Not Paged |
| [9435](#L9435) | qs = querystring.replace(/(pg=)[^\&]+/, ''); |
| [9436](#L9436) | qs = qs === '?' ? '' : qs; // Remove `?` if only symbol in querystring |
| [9437](#L9437) | qs = qs[qs.length - 1] === '&' ? qs.slice(0, -1) : qs; // Remove trailing `&` symbols |
| [9438](#L9438) | } |
| [9439](#L9439) | } |
| [9440](#L9440) |  |
| [9441](#L9441) | return qs; |
| [9442](#L9442) | } |
| [9443](#L9443) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/next-page.js |
| [9444](#L9444) | /\*\* |
| [9445](#L9445) | \* Create add-on params for ALM. |
| [9446](#L9446) | \* |
| [9447](#L9447) | \* @param {Object} alm The alm object. |
| [9448](#L9448) | \* @return {Object}    The modified object. |
| [9449](#L9449) | \*/ |
| [9450](#L9450) | function nextpageCreateParams(alm) { |
| [9451](#L9451) | var \_listing$dataset; |
| [9452](#L9452) | var listing = alm.listing; |
| [9453](#L9453) | alm.addons.nextpage = (listing === null || listing === void 0 || (\_listing$dataset = listing.dataset) === null || \_listing$dataset === void 0 ? void 0 : \_listing$dataset.nextpage) === 'true'; |
| [9454](#L9454) | if (alm.addons.nextpage) { |
| [9455](#L9455) | alm.addons.nextpage\_urls = listing.dataset.nextpageUrls === undefined ? 'true' : listing.dataset.nextpageUrls; |
| [9456](#L9456) | alm.addons.nextpage\_scroll = listing.dataset.nextpageScroll === undefined ? 'false:30' : listing.dataset.nextpageScroll; |
| [9457](#L9457) | alm.addons.nextpage\_post\_id = listing.dataset.nextpagePostId ? listing.dataset.nextpagePostId : false; |
| [9458](#L9458) | alm.addons.nextpage\_startpage = listing.dataset.nextpageStartpage ? parseInt(listing.dataset.nextpageStartpage) : 1; |
| [9459](#L9459) | alm.addons.nextpage\_title\_template = listing.dataset.nextpageTitleTemplate; |
| [9460](#L9460) | alm.addons.nextpage\_postTitle = alm.listing.dataset.nextpagePostTitle; |
| [9461](#L9461) |  |
| [9462](#L9462) | // Set default fallbacks. |
| [9463](#L9463) | alm.posts\_per\_page = 1; |
| [9464](#L9464) | alm.orginal\_posts\_per\_page = 1; |
| [9465](#L9465) | if (!alm.addons.nextpage\_post\_id) { |
| [9466](#L9466) | alm.addons.nextpage = false; |
| [9467](#L9467) | } |
| [9468](#L9468) | if (alm.addons.nextpage\_startpage > 1) { |
| [9469](#L9469) | alm.paged = true; |
| [9470](#L9470) | } |
| [9471](#L9471) | } |
| [9472](#L9472) | return alm; |
| [9473](#L9473) | } |
| [9474](#L9474) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/insertScript.js |
| [9475](#L9475) | /\*\* |
| [9476](#L9476) | \* Search nodes for <script/> tags and run scripts. |
| [9477](#L9477) | \* Scripts cannot run with appendChild or innerHTML so this is necessary to function. |
| [9478](#L9478) | \* |
| [9479](#L9479) | \* @since 5.0 |
| [9480](#L9480) | \*/ |
| [9481](#L9481) | var insertScript = { |
| [9482](#L9482) | /\*\* |
| [9483](#L9483) | \* Initiate the script insertion. |
| [9484](#L9484) | \* |
| [9485](#L9485) | \* @param {Array} nodes The HTML nodes. |
| [9486](#L9486) | \*/ |
| [9487](#L9487) | init: function init(nodes) { |
| [9488](#L9488) | var \_this = this; |
| [9489](#L9489) | if (!(nodes !== null && nodes !== void 0 && nodes.length)) { |
| [9490](#L9490) | return false; |
| [9491](#L9491) | } |
| [9492](#L9492) | nodes.forEach(function (node) { |
| [9493](#L9493) | \_this.check(node); |
| [9494](#L9494) | }); |
| [9495](#L9495) | }, |
| [9496](#L9496) | /\*\* |
| [9497](#L9497) | \* Parse HTML node from script. |
| [9498](#L9498) | \* |
| [9499](#L9499) | \* @param {HTMLElement} node The HTML node/element. |
| [9500](#L9500) | \* @return {HTMLElement}     The modified HTML node. |
| [9501](#L9501) | \*/ |
| [9502](#L9502) | check: function check(node) { |
| [9503](#L9503) | if (this.isScript(node) === true) { |
| [9504](#L9504) | node.parentNode.replaceChild(this.clone(node), node); |
| [9505](#L9505) | } else { |
| [9506](#L9506) | var i = 0; |
| [9507](#L9507) | var children = node.childNodes; |
| [9508](#L9508) | if (children === undefined) { |
| [9509](#L9509) | var parser = new DOMParser(); |
| [9510](#L9510) | var data = parser.parseFromString(node, 'text/html'); |
| [9511](#L9511) | if (data) { |
| [9512](#L9512) | children = data.body.childNodes; |
| [9513](#L9513) | } |
| [9514](#L9514) | } |
| [9515](#L9515) | while (i < children.length) { |
| [9516](#L9516) | this.replace(children[i++]); |
| [9517](#L9517) | } |
| [9518](#L9518) | } |
| [9519](#L9519) | return node; |
| [9520](#L9520) | }, |
| [9521](#L9521) | /\*\* |
| [9522](#L9522) | \* Replace the script tag with a clone. |
| [9523](#L9523) | \* |
| [9524](#L9524) | \* @param {HTMLElement} node The HTML node/element. |
| [9525](#L9525) | \* @return {HTMLElement}     The modified node. |
| [9526](#L9526) | \*/ |
| [9527](#L9527) | replace: function replace(node) { |
| [9528](#L9528) | if (this.isScript(node) === true) { |
| [9529](#L9529) | node.parentNode.replaceChild(this.clone(node), node); |
| [9530](#L9530) | } else { |
| [9531](#L9531) | var i = 0; |
| [9532](#L9532) | var children = node.childNodes; |
| [9533](#L9533) | while (i < children.length) { |
| [9534](#L9534) | this.replace(children[i++]); |
| [9535](#L9535) | } |
| [9536](#L9536) | } |
| [9537](#L9537) | return node; |
| [9538](#L9538) | }, |
| [9539](#L9539) | /\*\* |
| [9540](#L9540) | \* Clone the tag. |
| [9541](#L9541) | \* |
| [9542](#L9542) | \* @param {HTMLElement} node The HTML node/element. |
| [9543](#L9543) | \* @return {HTMLElement}     The cloned node. |
| [9544](#L9544) | \*/ |
| [9545](#L9545) | clone: function clone(node) { |
| [9546](#L9546) | var script = document.createElement('script'); |
| [9547](#L9547) | script.text = node.innerHTML; |
| [9548](#L9548) | for (var i = node.attributes.length - 1; i >= 0; i--) { |
| [9549](#L9549) | script.setAttribute(node.attributes[i].name, node.attributes[i].value); |
| [9550](#L9550) | } |
| [9551](#L9551) | return script; |
| [9552](#L9552) | }, |
| [9553](#L9553) | /\*\* |
| [9554](#L9554) | \* Is the node a script tag. |
| [9555](#L9555) | \* |
| [9556](#L9556) | \* @param {HTMLElement} node The html node. |
| [9557](#L9557) | \*/ |
| [9558](#L9558) | isScript: function isScript(node) { |
| [9559](#L9559) | return node.tagName === 'SCRIPT'; |
| [9560](#L9560) | } |
| [9561](#L9561) | }; |
| [9562](#L9562) | /\* harmony default export \*/ var modules\_insertScript = (insertScript); |
| [9563](#L9563) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/paging.js |
| [9564](#L9564) |  |
| [9565](#L9565) |  |
| [9566](#L9566) | /\*\* |
| [9567](#L9567) | \* Create add-on params for ALM. |
| [9568](#L9568) | \* |
| [9569](#L9569) | \* @param {Object} alm The alm object. |
| [9570](#L9570) | \* @return {Object}    The modified object. |
| [9571](#L9571) | \*/ |
| [9572](#L9572) | function pagingCreateParams(alm) { |
| [9573](#L9573) | var listing = alm.listing; |
| [9574](#L9574) | alm.addons.paging = listing.dataset.paging === 'true'; |
| [9575](#L9575) | if (alm.addons.paging) { |
| [9576](#L9576) | alm.addons.paging\_init = true; |
| [9577](#L9577) | alm.addons.paging\_controls = listing.dataset.pagingControls === 'true'; |
| [9578](#L9578) | alm.addons.paging\_show\_at\_most = listing.dataset.pagingShowAtMost ? parseInt(listing.dataset.pagingShowAtMost) : 6; |
| [9579](#L9579) | alm.addons.paging\_classes = listing.dataset.pagingClasses; |
| [9580](#L9580) | alm.addons.paging\_first\_label = listing.dataset.pagingFirstLabel; |
| [9581](#L9581) | alm.addons.paging\_previous\_label = listing.dataset.pagingPreviousLabel; |
| [9582](#L9582) | alm.addons.paging\_next\_label = listing.dataset.pagingNextLabel; |
| [9583](#L9583) | alm.addons.paging\_last\_label = listing.dataset.pagingLastLabel; |
| [9584](#L9584) | alm.addons.paging\_scroll = listing.dataset.pagingScroll ? listing.dataset.pagingScroll : false; |
| [9585](#L9585) | alm.addons.paging\_scrolltop = listing.dataset.pagingScrolltop ? parseInt(listing.dataset.pagingScrolltop) : 100; |
| [9586](#L9586) | alm.addons.paging\_container = listing.querySelector('.alm-paging-content'); |
| [9587](#L9587) | alm.pause = alm.addons.preloaded ? true : alm.pause; // If preloaded, pause ALM. |
| [9588](#L9588) | } |
| [9589](#L9589) |  |
| [9590](#L9590) | return alm; |
| [9591](#L9591) | } |
| [9592](#L9592) |  |
| [9593](#L9593) | /\*\* |
| [9594](#L9594) | \* Function dispatched after paging content has been loaded. |
| [9595](#L9595) | \* |
| [9596](#L9596) | \* @param {Object}  alm              The alm object. |
| [9597](#L9597) | \* @param {boolean} alm\_is\_filtering Is ALM filtering. |
| [9598](#L9598) | \* @param {boolean} init             Is first run. |
| [9599](#L9599) | \*/ |
| [9600](#L9600) | function pagingComplete(alm) { |
| [9601](#L9601) | var alm\_is\_filtering = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false; |
| [9602](#L9602) | var init = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false; |
| [9603](#L9603) | var main = alm.main, |
| [9604](#L9604) | AjaxLoadMore = alm.AjaxLoadMore, |
| [9605](#L9605) | last\_loaded = alm.last\_loaded; |
| [9606](#L9606) | main.classList.remove('alm-loading'); |
| [9607](#L9607) | AjaxLoadMore.triggerAddons(alm); |
| [9608](#L9608) | if (init) { |
| [9609](#L9609) | if (typeof almPagingComplete === 'function') { |
| [9610](#L9610) | window.almPagingComplete(); |
| [9611](#L9611) | } |
| [9612](#L9612) | } else { |
| [9613](#L9613) | // Dispatch almOnPagingComplete callback when not alm.init. |
| [9614](#L9614) | if (typeof almOnPagingComplete === 'function') { |
| [9615](#L9615) | window.almOnPagingComplete(alm); // Callback: Paging Add-on Complete. |
| [9616](#L9616) | } |
| [9617](#L9617) | } |
| [9618](#L9618) |  |
| [9619](#L9619) | if (alm\_is\_filtering && alm.addons.filters && typeof almFiltersAddonComplete === 'function') { |
| [9620](#L9620) | window.almFiltersAddonComplete(main); // Callback: Filters Add-on Complete |
| [9621](#L9621) | } |
| [9622](#L9622) |  |
| [9623](#L9623) | if (typeof almComplete === 'function') { |
| [9624](#L9624) | window.almComplete(alm); // Callback: ALM Complete |
| [9625](#L9625) | } |
| [9626](#L9626) |  |
| [9627](#L9627) | // Trigger <script /> tags in templates. |
| [9628](#L9628) | modules\_insertScript.init(last\_loaded); |
| [9629](#L9629) | } |
| [9630](#L9630) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/stripEmptyNodes.js |
| [9631](#L9631) |  |
| [9632](#L9632) |  |
| [9633](#L9633) | /\*\* |
| [9634](#L9634) | \* Remove empty HTML nodes from array of nodes. |
| [9635](#L9635) | \* Filter out nodes by nodeName. |
| [9636](#L9636) | \* |
| [9637](#L9637) | \* @param {Array} nodes Array of HTML nodes |
| [9638](#L9638) | \* @return {Array} The filtered array of HTML nodes |
| [9639](#L9639) | \* @since 5.1.3 |
| [9640](#L9640) | \*/ |
| [9641](#L9641) | var stripEmptyNodes = function stripEmptyNodes() { |
| [9642](#L9642) | var nodes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : []; |
| [9643](#L9643) | return (nodes === null || nodes === void 0 ? void 0 : nodes.length) && nodes.filter(function (node) { |
| [9644](#L9644) | return EXCLUDED\_NODES.indexOf(node.nodeName.toLowerCase()) === -1; |
| [9645](#L9645) | }); |
| [9646](#L9646) | }; |
| [9647](#L9647) | /\* harmony default export \*/ var functions\_stripEmptyNodes = (stripEmptyNodes); |
| [9648](#L9648) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/seo.js |
| [9649](#L9649) | /\*\* |
| [9650](#L9650) | \* Create add-on params for ALM. |
| [9651](#L9651) | \* |
| [9652](#L9652) | \* @param {Object} alm The alm object. |
| [9653](#L9653) | \* @return {Object}    The modified object. |
| [9654](#L9654) | \*/ |
| [9655](#L9655) | function seoCreateParams(alm) { |
| [9656](#L9656) | var \_alm$listing; |
| [9657](#L9657) | var listing = alm.listing; |
| [9658](#L9658) | alm.addons.seo = listing.dataset.seo === 'true'; |
| [9659](#L9659) | if (alm.addons.seo) { |
| [9660](#L9660) | alm.addons.seo\_offset = listing.dataset.seoOffset || false; |
| [9661](#L9661) | alm.addons.seo\_permalink = listing.dataset.seoPermalink; |
| [9662](#L9662) | alm.addons.seo\_trailing\_slash = listing.dataset.seoTrailingSlash === 'false' ? '' : '/'; |
| [9663](#L9663) | alm.addons.seo\_leading\_slash = listing.dataset.seoLeadingSlash === 'true' ? '/' : ''; |
| [9664](#L9664) | if (alm.addons.seo\_offset === 'true') { |
| [9665](#L9665) | alm.offset = alm.posts\_per\_page; |
| [9666](#L9666) | } |
| [9667](#L9667) | } |
| [9668](#L9668) | alm.start\_page = (alm === null || alm === void 0 || (\_alm$listing = alm.listing) === null || \_alm$listing === void 0 || (\_alm$listing = \_alm$listing.dataset) === null || \_alm$listing === void 0 ? void 0 : \_alm$listing.seoStartPage) || ''; |
| [9669](#L9669) | if (alm.start\_page) { |
| [9670](#L9670) | alm.start\_page = parseInt(alm.start\_page); |
| [9671](#L9671) | alm.addons.seo\_scroll = listing.dataset.seoScroll; |
| [9672](#L9672) | alm.addons.seo\_scrolltop = listing.dataset.seoScrolltop; |
| [9673](#L9673) | alm.addons.seo\_controls = listing.dataset.seoControls; |
| [9674](#L9674) | alm.paged = false; |
| [9675](#L9675) | if (alm.start\_page > 1) { |
| [9676](#L9676) | alm.paged = true; |
| [9677](#L9677) | if (alm.addons.paging) { |
| [9678](#L9678) | // Paging add-on: Set current page value. |
| [9679](#L9679) | alm.page = alm.start\_page - 1; |
| [9680](#L9680) | } else { |
| [9681](#L9681) | // Set posts\_per\_page value to load all required posts. |
| [9682](#L9682) | alm.posts\_per\_page = alm.start\_page \* alm.posts\_per\_page; |
| [9683](#L9683) | } |
| [9684](#L9684) | } |
| [9685](#L9685) | } else { |
| [9686](#L9686) | alm.start\_page = 1; |
| [9687](#L9687) | } |
| [9688](#L9688) | return alm; |
| [9689](#L9689) | } |
| [9690](#L9690) |  |
| [9691](#L9691) | /\*\* |
| [9692](#L9692) | \* Create data attributes for an SEO item. |
| [9693](#L9693) | \* |
| [9694](#L9694) | \* @param {Object}      alm        The ALM object. |
| [9695](#L9695) | \* @param {HTMLElement} element    The element HTML node. |
| [9696](#L9696) | \* @param {number}      pagenum    The current page number. |
| [9697](#L9697) | \* @param {boolean}     skipOffset Skip the SEO offset check. |
| [9698](#L9698) | \* @return {HTMLElement}           Modified HTML element. |
| [9699](#L9699) | \*/ |
| [9700](#L9700) | function addSEOAttributes(alm, element, pagenum) { |
| [9701](#L9701) | var skipOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false; |
| [9702](#L9702) | var addons = alm.addons, |
| [9703](#L9703) | canonical\_url = alm.canonical\_url; |
| [9704](#L9704) | var \_alm\_localize = alm\_localize, |
| [9705](#L9705) | \_alm\_localize$retain\_ = \_alm\_localize.retain\_querystring, |
| [9706](#L9706) | retain\_querystring = \_alm\_localize$retain\_ === void 0 ? true : \_alm\_localize$retain\_; |
| [9707](#L9707) | var querystring = retain\_querystring ? window.location.search : ''; |
| [9708](#L9708) | pagenum = !skipOffset ? getSEOPageNum(addons === null || addons === void 0 ? void 0 : addons.seo\_offset, pagenum) : pagenum; |
| [9709](#L9709) | element.classList.add('alm-seo'); |
| [9710](#L9710) | element.dataset.page = pagenum; |
| [9711](#L9711) | if (addons.seo\_permalink === 'default') { |
| [9712](#L9712) | // Default Permalinks |
| [9713](#L9713) | if (pagenum > 1) { |
| [9714](#L9714) | element.dataset.url = "".concat(canonical\_url).concat(querystring, "&paged=").concat(pagenum); |
| [9715](#L9715) | } else { |
| [9716](#L9716) | element.dataset.url = "".concat(canonical\_url).concat(querystring); |
| [9717](#L9717) | } |
| [9718](#L9718) | } else { |
| [9719](#L9719) | // Pretty Permalinks |
| [9720](#L9720) | if (pagenum > 1) { |
| [9721](#L9721) | element.dataset.url = "".concat(canonical\_url).concat(addons.seo\_leading\_slash, "page/").concat(pagenum).concat(addons.seo\_trailing\_slash).concat(querystring); |
| [9722](#L9722) | } else { |
| [9723](#L9723) | element.dataset.url = "".concat(canonical\_url).concat(querystring); |
| [9724](#L9724) | } |
| [9725](#L9725) | } |
| [9726](#L9726) | return element; |
| [9727](#L9727) | } |
| [9728](#L9728) |  |
| [9729](#L9729) | /\*\* |
| [9730](#L9730) | \* Get the current page number. |
| [9731](#L9731) | \* |
| [9732](#L9732) | \* @param {string} seo\_offset Is this an SEO offset. |
| [9733](#L9733) | \* @param {number} page       The page number, |
| [9734](#L9734) | \* @return {number}           The page number. |
| [9735](#L9735) | \*/ |
| [9736](#L9736) | function getSEOPageNum(seo\_offset, page) { |
| [9737](#L9737) | return seo\_offset === 'true' ? parseInt(page) + 1 : parseInt(page); |
| [9738](#L9738) | } |
| [9739](#L9739) |  |
| [9740](#L9740) | /\*\* |
| [9741](#L9741) | \* Create div to hold offset values for SEO. |
| [9742](#L9742) | \* |
| [9743](#L9743) | \* @param {Object} alm The ALM object. |
| [9744](#L9744) | \*/ |
| [9745](#L9745) | function createSEOOffset(alm) { |
| [9746](#L9746) | var offsetDiv = document.createElement('div'); |
| [9747](#L9747) | // Add data attributes. |
| [9748](#L9748) | offsetDiv = addSEOAttributes(alm, offsetDiv, 1, true); |
| [9749](#L9749) |  |
| [9750](#L9750) | // Insert into ALM container. |
| [9751](#L9751) | alm.main.insertBefore(offsetDiv, alm.listing); |
| [9752](#L9752) | } |
| [9753](#L9753) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/preloaded.js |
| [9754](#L9754) | function preloaded\_toConsumableArray(arr) { return preloaded\_arrayWithoutHoles(arr) || preloaded\_iterableToArray(arr) || preloaded\_unsupportedIterableToArray(arr) || preloaded\_nonIterableSpread(); } |
| [9755](#L9755) | function preloaded\_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } |
| [9756](#L9756) | function preloaded\_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return preloaded\_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return preloaded\_arrayLikeToArray(o, minLen); } |
| [9757](#L9757) | function preloaded\_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); } |
| [9758](#L9758) | function preloaded\_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return preloaded\_arrayLikeToArray(arr); } |
| [9759](#L9759) | function preloaded\_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } |
| [9760](#L9760) |  |
| [9761](#L9761) |  |
| [9762](#L9762) |  |
| [9763](#L9763) |  |
| [9764](#L9764) | /\*\* |
| [9765](#L9765) | \* Create add-on params for ALM. |
| [9766](#L9766) | \* |
| [9767](#L9767) | \* @param {Object} alm The alm object. |
| [9768](#L9768) | \* @return {Object}    The modified object. |
| [9769](#L9769) | \*/ |
| [9770](#L9770) | function preloadedCreateParams(alm) { |
| [9771](#L9771) | var \_listing$dataset; |
| [9772](#L9772) | var listing = alm.listing, |
| [9773](#L9773) | addons = alm.addons; |
| [9774](#L9774) | alm.addons.preloaded = listing.dataset.preloaded === 'true'; |
| [9775](#L9775) | alm.addons.preloaded\_amount = listing !== null && listing !== void 0 && (\_listing$dataset = listing.dataset) !== null && \_listing$dataset !== void 0 && \_listing$dataset.preloadedAmount ? parseInt(listing.dataset.preloadedAmount) : alm.posts\_per\_page; |
| [9776](#L9776) | if (!alm.addons.preloaded) { |
| [9777](#L9777) | alm.addons.preloaded\_amount = 0; |
| [9778](#L9778) | } |
| [9779](#L9779) | if (addons.preloaded) { |
| [9780](#L9780) | if (alm !== null && alm !== void 0 && alm.localize) { |
| [9781](#L9781) | // Disable ALM if total\_posts is equal to or less than preloaded\_amount. |
| [9782](#L9782) | var \_alm$localize$total\_p = alm.localize.total\_posts, |
| [9783](#L9783) | total\_posts = \_alm$localize$total\_p === void 0 ? 0 : \_alm$localize$total\_p; |
| [9784](#L9784) | if (parseInt(total\_posts) <= addons.preloaded\_amount) { |
| [9785](#L9785) | alm.addons.preloaded\_total\_posts = parseInt(total\_posts); |
| [9786](#L9786) | alm.disable\_ajax = true; |
| [9787](#L9787) | } |
| [9788](#L9788) | } |
| [9789](#L9789) | } |
| [9790](#L9790) | return alm; |
| [9791](#L9791) | } |
| [9792](#L9792) |  |
| [9793](#L9793) | /\*\* |
| [9794](#L9794) | \* Set parameters on HTML elements for preloaded results. |
| [9795](#L9795) | \* |
| [9796](#L9796) | \* @param {Object} alm The ALM object. |
| [9797](#L9797) | \* @since 7.0.0 |
| [9798](#L9798) | \*/ |
| [9799](#L9799) | function setPreloadedParams(alm) { |
| [9800](#L9800) | var addons = alm.addons, |
| [9801](#L9801) | listing = alm.listing; |
| [9802](#L9802) | if (addons.paging) { |
| [9803](#L9803) | return; // Exit if paging. |
| [9804](#L9804) | } |
| [9805](#L9805) |  |
| [9806](#L9806) | // Parse preloaded data into array of HTML elements. |
| [9807](#L9807) | var data = functions\_stripEmptyNodes(preloaded\_toConsumableArray(listing === null || listing === void 0 ? void 0 : listing.childNodes)); |
| [9808](#L9808) |  |
| [9809](#L9809) | // Get first element in the data array. |
| [9810](#L9810) | var firstElement = data !== null && data !== void 0 && data.length && data[0] ? data[0] : false; |
| [9811](#L9811) | if (firstElement) { |
| [9812](#L9812) | if (addons !== null && addons !== void 0 && addons.seo) { |
| [9813](#L9813) | addSEOAttributes(alm, firstElement, 1); |
| [9814](#L9814) | } |
| [9815](#L9815) | if (addons !== null && addons !== void 0 && addons.filters) { |
| [9816](#L9816) | addFiltersAttributes(alm, firstElement, 1); |
| [9817](#L9817) | } |
| [9818](#L9818) | } |
| [9819](#L9819) | } |
| [9820](#L9820) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/queryLoop.js |
| [9821](#L9821) | function queryLoop\_typeof(o) { "@babel/helpers - typeof"; return queryLoop\_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, queryLoop\_typeof(o); } |
| [9822](#L9822) | function queryLoop\_regeneratorRuntime() { "use strict"; /\*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE \*/ queryLoop\_regeneratorRuntime = function \_regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "\_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this.\_invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == queryLoop\_typeof(h) && n.call(h, "\_\_await") ? e.resolve(h.\_\_await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "\_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n.\_sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(queryLoop\_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.\_\_proto\_\_ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { \_\_await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this.\_sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function \_catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; } |
| [9823](#L9823) | function queryLoop\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(\_next, \_throw); } } |
| [9824](#L9824) | function queryLoop\_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function \_next(value) { queryLoop\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "next", value); } function \_throw(err) { queryLoop\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "throw", err); } \_next(undefined); }); }; } |
| [9825](#L9825) |  |
| [9826](#L9826) |  |
| [9827](#L9827) |  |
| [9828](#L9828) |  |
| [9829](#L9829) |  |
| [9830](#L9830) |  |
| [9831](#L9831) |  |
| [9832](#L9832) | /\*\* |
| [9833](#L9833) | \* Create add-on params for ALM. |
| [9834](#L9834) | \* |
| [9835](#L9835) | \* @param {Object} alm The alm object. |
| [9836](#L9836) | \* @return {Object|null}    The modified object. |
| [9837](#L9837) | \*/ |
| [9838](#L9838) | function queryLoopCreateParams(alm) { |
| [9839](#L9839) | var main = alm.main; |
| [9840](#L9840) | var blockClassname = 'wp-block-query'; |
| [9841](#L9841) |  |
| [9842](#L9842) | // Get the parent container. |
| [9843](#L9843) | var container = main.closest(".".concat(blockClassname)); |
| [9844](#L9844) |  |
| [9845](#L9845) | // If parent is not a .wp-block-query, return alm. |
| [9846](#L9846) | if (!container) { |
| [9847](#L9847) | return alm; |
| [9848](#L9848) | } |
| [9849](#L9849) |  |
| [9850](#L9850) | // If parent is a wp-block-query, set queryloop settings. |
| [9851](#L9851) | alm.addons.queryloop = true; |
| [9852](#L9852) | alm.addons.queryloop\_settings = { |
| [9853](#L9853) | container: container, |
| [9854](#L9854) | classes: { |
| [9855](#L9855) | container: ".".concat(container.className.replace(/ /g, '.')), |
| [9856](#L9856) | listing: '.wp-block-post-template', |
| [9857](#L9857) | element: '.wp-block-post', |
| [9858](#L9858) | pagination: '.wp-block-query-pagination', |
| [9859](#L9859) | pagination\_prev: 'a.wp-block-query-pagination-previous', |
| [9860](#L9860) | pagination\_next: 'a.wp-block-query-pagination-next' |
| [9861](#L9861) | }, |
| [9862](#L9862) | pagination: container.querySelector('.wp-block-query-pagination'), |
| [9863](#L9863) | pagination\_prev: container.querySelector('a.wp-block-query-pagination-previous'), |
| [9864](#L9864) | pagination\_next: container.querySelector('a.wp-block-query-pagination-next') |
| [9865](#L9865) | }; |
| [9866](#L9866) | return alm; |
| [9867](#L9867) | } |
| [9868](#L9868) |  |
| [9869](#L9869) | /\*\* |
| [9870](#L9870) | \* Set up the instance of Query Loop. |
| [9871](#L9871) | \* |
| [9872](#L9872) | \* @param {Object} alm |
| [9873](#L9873) | \*/ |
| [9874](#L9874) | function queryLoopInit(alm) { |
| [9875](#L9875) | var rel = alm.rel, |
| [9876](#L9876) | addons = alm.addons, |
| [9877](#L9877) | button = alm.button, |
| [9878](#L9878) | buttonPrev = alm.buttonPrev, |
| [9879](#L9879) | page = alm.page; |
| [9880](#L9880) | var \_addons$queryloop\_set = addons.queryloop\_settings, |
| [9881](#L9881) | settings = \_addons$queryloop\_set === void 0 ? {} : \_addons$queryloop\_set; |
| [9882](#L9882) |  |
| [9883](#L9883) | // Set button state & URL. |
| [9884](#L9884) | if (rel === 'prev' && buttonPrev) { |
| [9885](#L9885) | var \_settings$pagination\_; |
| [9886](#L9886) | var prevURL = (settings === null || settings === void 0 || (\_settings$pagination\_ = settings.pagination\_prev) === null || \_settings$pagination\_ === void 0 ? void 0 : \_settings$pagination\_.href) || false; |
| [9887](#L9887) | if (prevURL) { |
| [9888](#L9888) | setButtonAtts(buttonPrev, page - 1, prevURL); |
| [9889](#L9889) | } else { |
| [9890](#L9890) | alm.AjaxLoadMore.triggerDonePrev(); |
| [9891](#L9891) | } |
| [9892](#L9892) | } else { |
| [9893](#L9893) | var \_settings$pagination\_2; |
| [9894](#L9894) | var nextURL = (settings === null || settings === void 0 || (\_settings$pagination\_2 = settings.pagination\_next) === null || \_settings$pagination\_2 === void 0 ? void 0 : \_settings$pagination\_2.href) || false; |
| [9895](#L9895) | if (nextURL) { |
| [9896](#L9896) | setButtonAtts(button, page + 1, nextURL); |
| [9897](#L9897) | } else { |
| [9898](#L9898) | alm.AjaxLoadMore.triggerDone(); |
| [9899](#L9899) | } |
| [9900](#L9900) | } |
| [9901](#L9901) | } |
| [9902](#L9902) |  |
| [9903](#L9903) | /\*\* |
| [9904](#L9904) | \* Get the content, title and results text from the Ajax response. |
| [9905](#L9905) | \* |
| [9906](#L9906) | \* @param {Object} alm        The alm object. |
| [9907](#L9907) | \* @param {string} url        The request URL. |
| [9908](#L9908) | \* @param {Object} response   Query response. |
| [9909](#L9909) | \* @param {string} cache\_slug The cache slug. |
| [9910](#L9910) | \* @return {Object}           Results data. |
| [9911](#L9911) | \*/ |
| [9912](#L9912) | function queryLoopGetContent(alm, url, response, cache\_slug) { |
| [9913](#L9913) | var data = API\_DATA\_SHAPE; // Default data object. |
| [9914](#L9914) |  |
| [9915](#L9915) | // Successful response. |
| [9916](#L9916) | if (response.status === 200 && response.data) { |
| [9917](#L9917) | var \_queryloop\_settings$c, \_queryloop\_settings$c2, \_queryloop\_settings$c3, \_queryloop\_settings$c4; |
| [9918](#L9918) | var addons = alm.addons, |
| [9919](#L9919) | page = alm.page, |
| [9920](#L9920) | button = alm.button, |
| [9921](#L9921) | buttonPrev = alm.buttonPrev, |
| [9922](#L9922) | rel = alm.rel; |
| [9923](#L9923) | var \_addons$queryloop\_set2 = addons.queryloop\_settings, |
| [9924](#L9924) | queryloop\_settings = \_addons$queryloop\_set2 === void 0 ? {} : \_addons$queryloop\_set2; |
| [9925](#L9925) |  |
| [9926](#L9926) | // Create temp div to hold response data. |
| [9927](#L9927) | var content = document.createElement('div'); |
| [9928](#L9928) | content.innerHTML = response.data; |
| [9929](#L9929) |  |
| [9930](#L9930) | // Set button state & URL. |
| [9931](#L9931) | if (rel === 'prev' && buttonPrev) { |
| [9932](#L9932) | var prevURL = getPagedURL(queryloop\_settings, content, 'prev'); |
| [9933](#L9933) | if (prevURL) { |
| [9934](#L9934) | setButtonAtts(buttonPrev, page - 1, prevURL); |
| [9935](#L9935) | } else { |
| [9936](#L9936) | alm.AjaxLoadMore.triggerDonePrev(); |
| [9937](#L9937) | } |
| [9938](#L9938) | } else { |
| [9939](#L9939) | var nextURL = getPagedURL(queryloop\_settings, content); |
| [9940](#L9940) | if (nextURL) { |
| [9941](#L9941) | setButtonAtts(button, page + 1, nextURL); |
| [9942](#L9942) | } else { |
| [9943](#L9943) | alm.AjaxLoadMore.triggerDone(); |
| [9944](#L9944) | } |
| [9945](#L9945) | } |
| [9946](#L9946) |  |
| [9947](#L9947) | // Get Page Title |
| [9948](#L9948) | var title = content.querySelector('title').innerHTML; |
| [9949](#L9949) | data.pageTitle = title; |
| [9950](#L9950) |  |
| [9951](#L9951) | // Get container. |
| [9952](#L9952) | var container = content === null || content === void 0 ? void 0 : content.querySelector("".concat(queryloop\_settings === null || queryloop\_settings === void 0 || (\_queryloop\_settings$c = queryloop\_settings.classes) === null || \_queryloop\_settings$c === void 0 ? void 0 : \_queryloop\_settings$c.container, " ").concat(queryloop\_settings === null || queryloop\_settings === void 0 || (\_queryloop\_settings$c2 = queryloop\_settings.classes) === null || \_queryloop\_settings$c2 === void 0 ? void 0 : \_queryloop\_settings$c2.listing)); |
| [9953](#L9953) | if (!container) { |
| [9954](#L9954) | console.warn('Ajax Load More: Unable to locate Query Loop container.'); |
| [9955](#L9955) | return data; |
| [9956](#L9956) | } |
| [9957](#L9957) |  |
| [9958](#L9958) | // Get the first item and append data attributes. |
| [9959](#L9959) | var item = container ? container.querySelector(queryloop\_settings === null || queryloop\_settings === void 0 || (\_queryloop\_settings$c3 = queryloop\_settings.classes) === null || \_queryloop\_settings$c3 === void 0 ? void 0 : \_queryloop\_settings$c3.element) : null; |
| [9960](#L9960) | if (item) { |
| [9961](#L9961) | item.classList.add('alm-queryloop'); |
| [9962](#L9962) | item.dataset.url = url; |
| [9963](#L9963) | item.dataset.page = rel === 'next' ? page + 1 : page - 1; |
| [9964](#L9964) | item.dataset.pageTitle = title; |
| [9965](#L9965) | } |
| [9966](#L9966) |  |
| [9967](#L9967) | // Count the number of returned items. |
| [9968](#L9968) | var items = container.querySelectorAll(queryloop\_settings === null || queryloop\_settings === void 0 || (\_queryloop\_settings$c4 = queryloop\_settings.classes) === null || \_queryloop\_settings$c4 === void 0 ? void 0 : \_queryloop\_settings$c4.element); |
| [9969](#L9969) | if (items) { |
| [9970](#L9970) | // Set the html to the elementor container data. |
| [9971](#L9971) | data.html = container ? container.innerHTML : ''; |
| [9972](#L9972) | data.meta.postcount = items.length; |
| [9973](#L9973) | data.meta.totalposts = items.length; |
| [9974](#L9974) |  |
| [9975](#L9975) | // Create cache file. |
| [9976](#L9976) | createCache(alm, data, cache\_slug); |
| [9977](#L9977) | } |
| [9978](#L9978) | } |
| [9979](#L9979) | return data; |
| [9980](#L9980) | } |
| [9981](#L9981) |  |
| [9982](#L9982) | /\*\* |
| [9983](#L9983) | \* Core ALM Query Loop loader. |
| [9984](#L9984) | \* |
| [9985](#L9985) | \* @param {HTMLElement} content The HTML data. |
| [9986](#L9986) | \* @param {Object}      alm     The alm object. |
| [9987](#L9987) | \*/ |
| [9988](#L9988) | function queryloop(content, alm) { |
| [9989](#L9989) | if (!content || !alm) { |
| [9990](#L9990) | alm.AjaxLoadMore.triggerDone(); |
| [9991](#L9991) | return false; |
| [9992](#L9992) | } |
| [9993](#L9993) | return new Promise(function (resolve) { |
| [9994](#L9994) | var \_queryloop\_settings$c5, \_queryloop\_settings$c6; |
| [9995](#L9995) | var addons = alm.addons; |
| [9996](#L9996) | var \_addons$queryloop\_set3 = addons.queryloop\_settings, |
| [9997](#L9997) | queryloop\_settings = \_addons$queryloop\_set3 === void 0 ? {} : \_addons$queryloop\_set3; |
| [9998](#L9998) |  |
| [9999](#L9999) | // Get post listing container. |
| [10000](#L10000) | var container = queryloop\_settings === null || queryloop\_settings === void 0 || (\_queryloop\_settings$c5 = queryloop\_settings.container) === null || \_queryloop\_settings$c5 === void 0 ? void 0 : \_queryloop\_settings$c5.querySelector("".concat(queryloop\_settings.classes.listing)); |
| [10001](#L10001) |  |
| [10002](#L10002) | // Get all individual items in Ajax response. |
| [10003](#L10003) | var items = content.querySelectorAll("".concat(queryloop\_settings === null || queryloop\_settings === void 0 || (\_queryloop\_settings$c6 = queryloop\_settings.classes) === null || \_queryloop\_settings$c6 === void 0 ? void 0 : \_queryloop\_settings$c6.element)); |
| [10004](#L10004) | if (container && items) { |
| [10005](#L10005) | var queryloopItems = Array.prototype.slice.call(items); // Convert NodeList to Array |
| [10006](#L10006) |  |
| [10007](#L10007) | // Trigger almQueryLoopLoaded callback. |
| [10008](#L10008) | if (typeof almQueryLoopLoaded === 'function') { |
| [10009](#L10009) | window.almQueryLoopLoaded(queryloopItems); |
| [10010](#L10010) | } |
| [10011](#L10011) |  |
| [10012](#L10012) | // Load the items. |
| [10013](#L10013) | queryLoop\_asyncToGenerator( /\*#\_\_PURE\_\_\*/queryLoop\_regeneratorRuntime().mark(function \_callee() { |
| [10014](#L10014) | return queryLoop\_regeneratorRuntime().wrap(function \_callee$(\_context) { |
| [10015](#L10015) | while (1) switch (\_context.prev = \_context.next) { |
| [10016](#L10016) | case 0: |
| [10017](#L10017) | \_context.next = 2; |
| [10018](#L10018) | return loadItems(container, queryloopItems, alm); |
| [10019](#L10019) | case 2: |
| [10020](#L10020) | resolve(true); |
| [10021](#L10021) | case 3: |
| [10022](#L10022) | case "end": |
| [10023](#L10023) | return \_context.stop(); |
| [10024](#L10024) | } |
| [10025](#L10025) | }, \_callee); |
| [10026](#L10026) | }))()["catch"](function (e) { |
| [10027](#L10027) | console.warn(e, 'There was an error with Query Loop'); // eslint-disable-line no-console |
| [10028](#L10028) | }); |
| [10029](#L10029) | } else { |
| [10030](#L10030) | resolve(false); |
| [10031](#L10031) | } |
| [10032](#L10032) | }); |
| [10033](#L10033) | } |
| [10034](#L10034) |  |
| [10035](#L10035) | /\*\* |
| [10036](#L10036) | \* Query Loop loaded and dispatch actions. |
| [10037](#L10037) | \* |
| [10038](#L10038) | \* @param {Object} alm The alm object. |
| [10039](#L10039) | \*/ |
| [10040](#L10040) | function queryloopLoaded(alm) { |
| [10041](#L10041) | var page = alm.page, |
| [10042](#L10042) | AjaxLoadMore = alm.AjaxLoadMore, |
| [10043](#L10043) | addons = alm.addons; |
| [10044](#L10044) | var nextPage = page + 1; |
| [10045](#L10045) | var max\_pages = addons.elementor\_max\_pages; |
| [10046](#L10046) |  |
| [10047](#L10047) | // Lazy load images if necessary. |
| [10048](#L10048) | lazyImages(alm); |
| [10049](#L10049) |  |
| [10050](#L10050) | // Trigger almComplete. |
| [10051](#L10051) | if (typeof almComplete === 'function' && alm.transition !== 'masonry') { |
| [10052](#L10052) | window.almComplete(alm); |
| [10053](#L10053) | } |
| [10054](#L10054) |  |
| [10055](#L10055) | // End transitions. |
| [10056](#L10056) | AjaxLoadMore.transitionEnd(); |
| [10057](#L10057) |  |
| [10058](#L10058) | // ALM Done. |
| [10059](#L10059) | if (nextPage >= max\_pages) { |
| [10060](#L10060) | AjaxLoadMore.triggerDone(); |
| [10061](#L10061) | } |
| [10062](#L10062) | dispatchScrollEvent(); |
| [10063](#L10063) | } |
| [10064](#L10064) |  |
| [10065](#L10065) | /\*\* |
| [10066](#L10066) | \* Get the pagination container for the Elementor pagination. |
| [10067](#L10067) | \* |
| [10068](#L10068) | \* @param {Object}  settings The query loop settings object. |
| [10069](#L10069) | \* @param {Element} content  The HTML content to search. |
| [10070](#L10070) | \* @param {string}  dir      the direction, next of prev. |
| [10071](#L10071) | \* @return {HTMLElement}     The pagination element. |
| [10072](#L10072) | \*/ |
| [10073](#L10073) | function getPagedURL(settings, content) { |
| [10074](#L10074) | var \_settings$classes, \_settings$classes2, \_pagination$querySele; |
| [10075](#L10075) | var dir = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'next'; |
| [10076](#L10076) | // Locate the pagination container. |
| [10077](#L10077) | var pagination = content === null || content === void 0 ? void 0 : content.querySelector("".concat(settings.classes.container, " ").concat(settings.classes.pagination)); |
| [10078](#L10078) |  |
| [10079](#L10079) | // Get the pagination target class. |
| [10080](#L10080) | var target = dir === 'next' ? (\_settings$classes = settings.classes) === null || \_settings$classes === void 0 ? void 0 : \_settings$classes.pagination\_next : (\_settings$classes2 = settings.classes) === null || \_settings$classes2 === void 0 ? void 0 : \_settings$classes2.pagination\_prev; |
| [10081](#L10081) |  |
| [10082](#L10082) | // Get the next URL from the pagination element. |
| [10083](#L10083) | var page = pagination === null || pagination === void 0 || (\_pagination$querySele = pagination.querySelector(target)) === null || \_pagination$querySele === void 0 ? void 0 : \_pagination$querySele.href; |
| [10084](#L10084) |  |
| [10085](#L10085) | // Return the next page URL. |
| [10086](#L10086) | return page ? page : false; |
| [10087](#L10087) | } |
| [10088](#L10088) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/singleposts.js |
| [10089](#L10089) |  |
| [10090](#L10090) |  |
| [10091](#L10091) | /\*\* |
| [10092](#L10092) | \* Create add-on params for ALM. |
| [10093](#L10093) | \* |
| [10094](#L10094) | \* @param {Object} alm The alm object. |
| [10095](#L10095) | \* @return {Object}    The modified object. |
| [10096](#L10096) | \*/ |
| [10097](#L10097) | function singlepostsCreateParams(alm) { |
| [10098](#L10098) | var \_listing$dataset; |
| [10099](#L10099) | var listing = alm.listing; |
| [10100](#L10100) | alm.addons.single\_post = (listing === null || listing === void 0 || (\_listing$dataset = listing.dataset) === null || \_listing$dataset === void 0 ? void 0 : \_listing$dataset.singlePost) === 'true'; |
| [10101](#L10101) | if (alm.addons.single\_post) { |
| [10102](#L10102) | alm.addons.single\_post\_id = listing.dataset.singlePostId; |
| [10103](#L10103) | alm.addons.single\_post\_query = listing.dataset.singlePostQuery; |
| [10104](#L10104) | alm.addons.single\_post\_order = listing.dataset.singlePostOrder === undefined ? 'previous' : listing.dataset.singlePostOrder; |
| [10105](#L10105) | alm.addons.single\_post\_init\_id = listing.dataset.singlePostId; |
| [10106](#L10106) | alm.addons.single\_post\_taxonomy = listing.dataset.singlePostTaxonomy === undefined ? '' : listing.dataset.singlePostTaxonomy; |
| [10107](#L10107) | alm.addons.single\_post\_excluded\_terms = listing.dataset.singlePostExcludedTerms === undefined ? '' : listing.dataset.singlePostExcludedTerms; |
| [10108](#L10108) | alm.addons.single\_post\_progress\_bar = listing.dataset.singlePostProgressBar === undefined ? '' : listing.dataset.singlePostProgressBar; |
| [10109](#L10109) | alm.addons.single\_post\_target = listing.dataset.singlePostTarget === undefined ? '' : listing.dataset.singlePostTarget; |
| [10110](#L10110) | alm.addons.single\_post\_preview = listing.dataset.singlePostPreview === undefined ? false : true; |
| [10111](#L10111) |  |
| [10112](#L10112) | // Post Preview. Does this even work? |
| [10113](#L10113) | if (alm.addons.single\_post\_preview) { |
| [10114](#L10114) | var singlePostPreviewData = listing.dataset.singlePostPreview.split(':'); |
| [10115](#L10115) | alm.addons.single\_post\_preview\_data = { |
| [10116](#L10116) | button\_label: singlePostPreviewData[0] ? singlePostPreviewData[0] : 'Continue Reading', |
| [10117](#L10117) | height: singlePostPreviewData[1] ? singlePostPreviewData[1] : 500, |
| [10118](#L10118) | element: singlePostPreviewData[2] ? singlePostPreviewData[2] : 'default', |
| [10119](#L10119) | className: 'alm-single-post--preview' |
| [10120](#L10120) | }; |
| [10121](#L10121) | } |
| [10122](#L10122) | if (alm.addons.single\_post\_id === undefined) { |
| [10123](#L10123) | alm.addons.single\_post\_id = ''; |
| [10124](#L10124) | alm.addons.single\_post\_init\_id = ''; |
| [10125](#L10125) | } |
| [10126](#L10126) |  |
| [10127](#L10127) | // Set default fallbacks. |
| [10128](#L10128) | alm.addons.single\_post\_permalink = ''; |
| [10129](#L10129) | alm.addons.single\_post\_title = ''; |
| [10130](#L10130) | alm.addons.single\_post\_slug = ''; |
| [10131](#L10131) | alm.addons.single\_post\_cache = false; |
| [10132](#L10132) | alm.addons.single\_post\_title\_template = listing.dataset.singlePostTitleTemplate; |
| [10133](#L10133) | alm.addons.single\_post\_siteTitle = listing.dataset.singlePostSiteTitle; |
| [10134](#L10134) | alm.addons.single\_post\_siteTagline = listing.dataset.singlePostSiteTagline; |
| [10135](#L10135) | alm.addons.single\_post\_scroll = listing.dataset.singlePostScroll; |
| [10136](#L10136) | alm.addons.single\_post\_scroll\_speed = listing.dataset.singlePostScrollSpeed; |
| [10137](#L10137) | alm.addons.single\_post\_scroll\_top = listing.dataset.singlePostScrolltop; |
| [10138](#L10138) | alm.addons.single\_post\_controls = listing.dataset.singlePostControls; |
| [10139](#L10139) | } |
| [10140](#L10140) | return alm; |
| [10141](#L10141) | } |
| [10142](#L10142) |  |
| [10143](#L10143) | /\*\* |
| [10144](#L10144) | \* Create the HTML for loading Single Posts. |
| [10145](#L10145) | \* |
| [10146](#L10146) | \* @param {Object} alm        The alm object. |
| [10147](#L10147) | \* @param {Object} response   Query response. |
| [10148](#L10148) | \* @param {string} cache\_slug The cache slug. |
| [10149](#L10149) | \* @return {Object}           Results data. |
| [10150](#L10150) | \* @since 5.1.8.1 |
| [10151](#L10151) | \*/ |
| [10152](#L10152) | function singlepostsHTML(alm, response, cache\_slug) { |
| [10153](#L10153) | var data = { |
| [10154](#L10154) | html: '', |
| [10155](#L10155) | meta: { |
| [10156](#L10156) | postcount: 0, |
| [10157](#L10157) | totalposts: 0 |
| [10158](#L10158) | } |
| [10159](#L10159) | }; |
| [10160](#L10160) |  |
| [10161](#L10161) | // Get target element. |
| [10162](#L10162) | var \_alm$addons = alm.addons, |
| [10163](#L10163) | single\_post\_target = \_alm$addons.single\_post\_target, |
| [10164](#L10164) | single\_post\_id = \_alm$addons.single\_post\_id; |
| [10165](#L10165) | if (response.status === 200 && response.data && single\_post\_target) { |
| [10166](#L10166) | var \_window; |
| [10167](#L10167) | // Create temp div to hold response data. |
| [10168](#L10168) | var div = document.createElement('div'); |
| [10169](#L10169) | div.innerHTML = response.data; |
| [10170](#L10170) |  |
| [10171](#L10171) | // Get target element. |
| [10172](#L10172) | var html = div.querySelector(single\_post\_target); |
| [10173](#L10173) | if (!html) { |
| [10174](#L10174) | console.warn("Ajax Load More: Unable to find ".concat(single\_post\_target, " element.")); |
| [10175](#L10175) | return data; |
| [10176](#L10176) | } |
| [10177](#L10177) |  |
| [10178](#L10178) | // Get any custom target elements. |
| [10179](#L10179) | if ((\_window = window) !== null && \_window !== void 0 && \_window.almSinglePostsCustomElements) { |
| [10180](#L10180) | var \_window2; |
| [10181](#L10181) | var customElements = singlepostsGetCustomElements(div, (\_window2 = window) === null || \_window2 === void 0 ? void 0 : \_window2.almSinglePostsCustomElements, single\_post\_id); |
| [10182](#L10182) | if (customElements) { |
| [10183](#L10183) | // Get first element in HTML. |
| [10184](#L10184) | var target = html.querySelector('article, section, div'); |
| [10185](#L10185) | if (target) { |
| [10186](#L10186) | target.appendChild(customElements); |
| [10187](#L10187) | } |
| [10188](#L10188) | } |
| [10189](#L10189) | } |
| [10190](#L10190) | data.html = html.innerHTML; |
| [10191](#L10191) | data.meta = { |
| [10192](#L10192) | postcount: 1, |
| [10193](#L10193) | totalposts: 1 |
| [10194](#L10194) | }; |
| [10195](#L10195) |  |
| [10196](#L10196) | // Create cache file. |
| [10197](#L10197) | createCache(alm, data, cache\_slug); |
| [10198](#L10198) | } |
| [10199](#L10199) | return data; |
| [10200](#L10200) | } |
| [10201](#L10201) |  |
| [10202](#L10202) | /\*\* |
| [10203](#L10203) | \* Find nested Next Page instance and prepend first element to the returned HTML. |
| [10204](#L10204) | \* |
| [10205](#L10205) | \* @param {Element} html The wrapper element. |
| [10206](#L10206) | \* @return {Element}     The modified element. |
| [10207](#L10207) | \*/ |
| [10208](#L10208) | function getNestedNextPageElement(html) { |
| [10209](#L10209) | var nextpageElement = html.querySelector('.ajax-load-more-wrap .alm-nextpage'); |
| [10210](#L10210) | if (!nextpageElement) { |
| [10211](#L10211) | return html; |
| [10212](#L10212) | } |
| [10213](#L10213) |  |
| [10214](#L10214) | // Clone the nextpage element and clear the contents. |
| [10215](#L10215) | var clone = nextpageElement.cloneNode(true); |
| [10216](#L10216) | clone.innerHTML = ''; |
| [10217](#L10217) |  |
| [10218](#L10218) | // Insert the clone before the first child. |
| [10219](#L10219) | html.insertBefore(clone, html.querySelector(':first-child')); |
| [10220](#L10220) | return html; |
| [10221](#L10221) | } |
| [10222](#L10222) |  |
| [10223](#L10223) | /\*\* |
| [10224](#L10224) | \* Collect custom target elements and append them to the returned HTML. |
| [10225](#L10225) | \* This function is useful to get elements from outside the ALM target and bring them into the returned HTML. |
| [10226](#L10226) | \* Useful for when CSS or JS may be loaded in the <head/> and we need it brought into the HTML for Single Posts. |
| [10227](#L10227) | \* |
| [10228](#L10228) | \* e.g. window.almSinglePostsCustomElements = ['#woocommerce-inline-inline-css', '#wc-block-style-css']; |
| [10229](#L10229) | \* |
| [10230](#L10230) | \* @param {HTMLElement}   content        The HTML element. |
| [10231](#L10231) | \* @param {Array}         customElements The elements to search for in content. |
| [10232](#L10232) | \* @param {string|number} id             The Post ID. |
| [10233](#L10233) | \* @return {HTMLElement}                 The HTML elements. |
| [10234](#L10234) | \*/ |
| [10235](#L10235) | function singlepostsGetCustomElements() { |
| [10236](#L10236) | var content = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; |
| [10237](#L10237) | var customElements = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : []; |
| [10238](#L10238) | var id = arguments.length > 2 ? arguments[2] : undefined; |
| [10239](#L10239) | if (!content || !customElements) { |
| [10240](#L10240) | return container; // Exit if empty. |
| [10241](#L10241) | } |
| [10242](#L10242) |  |
| [10243](#L10243) | // Create container element if if doesn't exist. |
| [10244](#L10244) | var container = document.createElement('div'); |
| [10245](#L10245) | container.classList.add('alm-custom-elements'); |
| [10246](#L10246) | container.dataset.id = id; |
| [10247](#L10247) |  |
| [10248](#L10248) | // Convert customElements to an Array. |
| [10249](#L10249) | customElements = !Array.isArray(customElements) ? [customElements] : customElements; |
| [10250](#L10250) |  |
| [10251](#L10251) | // Loop Array to extract elements and append to container. |
| [10252](#L10252) | for (var i = 0; i < customElements.length; i++) { |
| [10253](#L10253) | var element = content.querySelector(customElements[i]); |
| [10254](#L10254) | if (element) { |
| [10255](#L10255) | element.classList.add('alm-custom-element'); |
| [10256](#L10256) | container.appendChild(element); |
| [10257](#L10257) | } |
| [10258](#L10258) | } |
| [10259](#L10259) | return container; |
| [10260](#L10260) | } |
| [10261](#L10261) |  |
| [10262](#L10262) | /\*\* |
| [10263](#L10263) | \* Create data attributes for a Single Post item. |
| [10264](#L10264) | \* |
| [10265](#L10265) | \* @param {Object}  alm     The ALM object. |
| [10266](#L10266) | \* @param {Element} element The elements HTML element to add data params. |
| [10267](#L10267) | \* @return {Array}          Modified HTML element. |
| [10268](#L10268) | \*/ |
| [10269](#L10269) | function addSinglePostsAttributes(alm, element) { |
| [10270](#L10270) | if (!element) { |
| [10271](#L10271) | return []; |
| [10272](#L10272) | } |
| [10273](#L10273) | var page = alm.page, |
| [10274](#L10274) | addons = alm.addons; |
| [10275](#L10275) | element.setAttribute('class', "alm-single-post post-".concat(addons.single\_post\_id)); |
| [10276](#L10276) | element.dataset.id = addons.single\_post\_id; |
| [10277](#L10277) | element.dataset.url = addons.single\_post\_permalink; |
| [10278](#L10278) | element.dataset.page = addons.single\_post\_target ? parseInt(page) + 1 : page; |
| [10279](#L10279) | element.dataset.title = addons.single\_post\_title; |
| [10280](#L10280) | return element; |
| [10281](#L10281) | } |
| [10282](#L10282) | ;// CONCATENATED MODULE: ./src/frontend/js/addons/woocommerce.js |
| [10283](#L10283) | function woocommerce\_typeof(o) { "@babel/helpers - typeof"; return woocommerce\_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, woocommerce\_typeof(o); } |
| [10284](#L10284) | function woocommerce\_regeneratorRuntime() { "use strict"; /\*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE \*/ woocommerce\_regeneratorRuntime = function \_regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "\_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this.\_invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == woocommerce\_typeof(h) && n.call(h, "\_\_await") ? e.resolve(h.\_\_await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "\_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n.\_sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(woocommerce\_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.\_\_proto\_\_ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { \_\_await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this.\_sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function \_catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; } |
| [10285](#L10285) | function woocommerce\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(\_next, \_throw); } } |
| [10286](#L10286) | function woocommerce\_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function \_next(value) { woocommerce\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "next", value); } function \_throw(err) { woocommerce\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "throw", err); } \_next(undefined); }); }; } |
| [10287](#L10287) |  |
| [10288](#L10288) |  |
| [10289](#L10289) |  |
| [10290](#L10290) |  |
| [10291](#L10291) |  |
| [10292](#L10292) |  |
| [10293](#L10293) |  |
| [10294](#L10294) |  |
| [10295](#L10295) |  |
| [10296](#L10296) |  |
| [10297](#L10297) | /\*\* |
| [10298](#L10298) | \* Create add-on params for ALM. |
| [10299](#L10299) | \* |
| [10300](#L10300) | \* @param {Object} alm The alm object. |
| [10301](#L10301) | \* @return {Object}    The modified object. |
| [10302](#L10302) | \*/ |
| [10303](#L10303) | function wooCreateParams(alm) { |
| [10304](#L10304) | var \_listing$dataset; |
| [10305](#L10305) | var listing = alm.listing, |
| [10306](#L10306) | addons = alm.addons; |
| [10307](#L10307) | alm.addons.woocommerce = (listing === null || listing === void 0 || (\_listing$dataset = listing.dataset) === null || \_listing$dataset === void 0 ? void 0 : \_listing$dataset.woo) === 'true'; |
| [10308](#L10308) | if (alm.addons.woocommerce && listing.dataset.wooSettings) { |
| [10309](#L10309) | var \_addons$woocommerce\_s; |
| [10310](#L10310) | alm.addons.woocommerce\_settings = JSON.parse(listing.dataset.wooSettings); |
| [10311](#L10311) | alm.addons.woocommerce\_settings.results\_text = document.querySelectorAll(addons === null || addons === void 0 || (\_addons$woocommerce\_s = addons.woocommerce\_settings) === null || \_addons$woocommerce\_s === void 0 ? void 0 : \_addons$woocommerce\_s.results); // Add Results Text |
| [10312](#L10312) | alm.page = parseInt(alm.page) + parseInt(addons.woocommerce\_settings.paged); |
| [10313](#L10313) | } |
| [10314](#L10314) | return alm; |
| [10315](#L10315) | } |
| [10316](#L10316) |  |
| [10317](#L10317) | /\*\* |
| [10318](#L10318) | \* Set up instance of ALM WooCommerce |
| [10319](#L10319) | \* |
| [10320](#L10320) | \* @param {Object} alm ALM object. |
| [10321](#L10321) | \* @since 5.3.0 |
| [10322](#L10322) | \*/ |
| [10323](#L10323) | function wooInit(alm) { |
| [10324](#L10324) | if (!alm || !alm.addons.woocommerce) { |
| [10325](#L10325) | return false; |
| [10326](#L10326) | } |
| [10327](#L10327) | var container = document.querySelector(alm.addons.woocommerce\_settings.container); // Get `ul.products` |
| [10328](#L10328) | if (!container) { |
| [10329](#L10329) | console.warn('ALM WooCommerce: Unable to locate container element. Get more information -> https://connekthq.com/plugins/ajax-load-more/docs/add-ons/woocommerce/#alm\_woocommerce\_container'); |
| [10330](#L10330) | return; |
| [10331](#L10331) | } |
| [10332](#L10332) | alm.button.dataset.page = alm.addons.woocommerce\_settings.paged + 1; // Page |
| [10333](#L10333) |  |
| [10334](#L10334) | // Get upcoming URL. |
| [10335](#L10335) | var nextPage = alm.addons.woocommerce\_settings.paged\_urls[alm.addons.woocommerce\_settings.paged]; |
| [10336](#L10336) | if (nextPage) { |
| [10337](#L10337) | alm.button.dataset.url = nextPage; |
| [10338](#L10338) | } else { |
| [10339](#L10339) | alm.button.dataset.url = ''; |
| [10340](#L10340) | } |
| [10341](#L10341) | var count = countContainers(alm.addons.woocommerce\_settings.container); |
| [10342](#L10342) | var page = alm.addons.woocommerce\_settings.paged; |
| [10343](#L10343) | if (count > 1) { |
| [10344](#L10344) | // Display warning if multiple containers were found. |
| [10345](#L10345) | console.warn('ALM WooCommerce: Multiple containers with the same classname or ID found. The WooCommerce add-on requires a single container to be defined. Get more information -> https://connekthq.com/plugins/ajax-load-more/docs/add-ons/woocommerce/'); |
| [10346](#L10346) | } |
| [10347](#L10347) |  |
| [10348](#L10348) | // Set attributes on containers. |
| [10349](#L10349) | setContentContainersParams(container, alm.listing); |
| [10350](#L10350) |  |
| [10351](#L10351) | // Set data attributes on first item. |
| [10352](#L10352) | var item = container.querySelector(alm.addons.woocommerce\_settings.products); // Get first `.product` item |
| [10353](#L10353) | if (item) { |
| [10354](#L10354) | item.classList.add('alm-woocommerce'); |
| [10355](#L10355) | item.dataset.url = alm.addons.woocommerce\_settings.paged\_urls[alm.addons.woocommerce\_settings.paged - 1]; |
| [10356](#L10356) | item.dataset.page = alm.page; |
| [10357](#L10357) | item.dataset.pageTitle = document.title; |
| [10358](#L10358) | } else { |
| [10359](#L10359) | console.warn('ALM WooCommerce: Unable to locate products. Get more information -> https://connekthq.com/plugins/ajax-load-more/docs/add-ons/woocommerce/#alm\_woocommerce\_products'); |
| [10360](#L10360) | } |
| [10361](#L10361) |  |
| [10362](#L10362) | // Paged URL: Create previous button. |
| [10363](#L10363) | if (page > 1 && alm.addons.woocommerce\_settings.settings.previous\_products) { |
| [10364](#L10364) | var prevURL = alm.addons.woocommerce\_settings.paged\_urls[page - 2]; |
| [10365](#L10365) | var label = alm.addons.woocommerce\_settings.settings.previous\_products; |
| [10366](#L10366) | createLoadPreviousButton(alm, container, page - 1, prevURL, label); |
| [10367](#L10367) | } |
| [10368](#L10368) | } |
| [10369](#L10369) |  |
| [10370](#L10370) | /\*\* |
| [10371](#L10371) | \* Core ALM WooCommerce product loader |
| [10372](#L10372) | \* |
| [10373](#L10373) | \* @param {Element} content WooCommerce content container. |
| [10374](#L10374) | \* @param {Object}  alm     ALM object. |
| [10375](#L10375) | \* @since 5.3.0 |
| [10376](#L10376) | \*/ |
| [10377](#L10377) | function woocommerce(content, alm) { |
| [10378](#L10378) | if (!content || !alm) { |
| [10379](#L10379) | return false; |
| [10380](#L10380) | } |
| [10381](#L10381) | return new Promise(function (resolve) { |
| [10382](#L10382) | var \_alm$addons$woocommer = alm.addons.woocommerce\_settings, |
| [10383](#L10383) | woocommerce\_settings = \_alm$addons$woocommer === void 0 ? {} : \_alm$addons$woocommer; |
| [10384](#L10384) | var \_woocommerce\_settings = woocommerce\_settings.settings, |
| [10385](#L10385) | settings = \_woocommerce\_settings === void 0 ? {} : \_woocommerce\_settings; |
| [10386](#L10386) | var container = document.querySelector(woocommerce\_settings.container); // Get `ul.products` |
| [10387](#L10387) | var products = content.querySelectorAll(woocommerce\_settings.products); // Get all `.products` |
| [10388](#L10388) | var waitForImages = settings && settings.images\_loaded === 'true' ? true : false; |
| [10389](#L10389) | if (container && products) { |
| [10390](#L10390) | var wooProducts = Array.prototype.slice.call(products); // Convert NodeList to Array. |
| [10391](#L10391) |  |
| [10392](#L10392) | // Load the items. |
| [10393](#L10393) | woocommerce\_asyncToGenerator( /\*#\_\_PURE\_\_\*/woocommerce\_regeneratorRuntime().mark(function \_callee() { |
| [10394](#L10394) | return woocommerce\_regeneratorRuntime().wrap(function \_callee$(\_context) { |
| [10395](#L10395) | while (1) switch (\_context.prev = \_context.next) { |
| [10396](#L10396) | case 0: |
| [10397](#L10397) | \_context.next = 2; |
| [10398](#L10398) | return loadItems(container, wooProducts, alm, waitForImages); |
| [10399](#L10399) | case 2: |
| [10400](#L10400) | resolve(true); |
| [10401](#L10401) | case 3: |
| [10402](#L10402) | case "end": |
| [10403](#L10403) | return \_context.stop(); |
| [10404](#L10404) | } |
| [10405](#L10405) | }, \_callee); |
| [10406](#L10406) | }))()["catch"](function (e) { |
| [10407](#L10407) | console.warn(e, 'There was an error with WooCommerce'); // eslint-disable-line no-console |
| [10408](#L10408) | }); |
| [10409](#L10409) |  |
| [10410](#L10410) | // Trigger almWooCommerceLoaded callback. |
| [10411](#L10411) | if (typeof almWooCommerceLoaded === 'function') { |
| [10412](#L10412) | window.almWooCommerceLoaded(products); |
| [10413](#L10413) | } |
| [10414](#L10414) | } |
| [10415](#L10415) | }); |
| [10416](#L10416) | } |
| [10417](#L10417) |  |
| [10418](#L10418) | /\*\* |
| [10419](#L10419) | \* Get the content, title and results from the Ajax request. |
| [10420](#L10420) | \* |
| [10421](#L10421) | \* @param {Object} alm        The alm object. |
| [10422](#L10422) | \* @param {string} url        The request URL. |
| [10423](#L10423) | \* @param {Object} response   Query response. |
| [10424](#L10424) | \* @param {string} cache\_slug The cache slug. |
| [10425](#L10425) | \* @return {Object}           Results data. |
| [10426](#L10426) | \* @since 5.3.0 |
| [10427](#L10427) | \*/ |
| [10428](#L10428) | function wooGetContent(alm, url, response, cache\_slug) { |
| [10429](#L10429) | var data = API\_DATA\_SHAPE; // Default data object. |
| [10430](#L10430) |  |
| [10431](#L10431) | // Successful response. |
| [10432](#L10432) | if (response.status === 200 && response.data) { |
| [10433](#L10433) | var addons = alm.addons, |
| [10434](#L10434) | pagePrev = alm.pagePrev, |
| [10435](#L10435) | \_alm$rel = alm.rel, |
| [10436](#L10436) | rel = \_alm$rel === void 0 ? 'next' : \_alm$rel, |
| [10437](#L10437) | page = alm.page, |
| [10438](#L10438) | localize = alm.localize; |
| [10439](#L10439) | var total\_posts = localize.total\_posts; |
| [10440](#L10440) | var \_addons$woocommerce\_s2 = addons.woocommerce\_settings, |
| [10441](#L10441) | woocommerce\_settings = \_addons$woocommerce\_s2 === void 0 ? {} : \_addons$woocommerce\_s2; |
| [10442](#L10442) |  |
| [10443](#L10443) | // Get the page number. |
| [10444](#L10444) | var currentPage = rel === 'prev' ? pagePrev : page + 1; |
| [10445](#L10445) |  |
| [10446](#L10446) | // Create temp div to hold response data. |
| [10447](#L10447) | var content = document.createElement('div'); |
| [10448](#L10448) | content.innerHTML = response.data; |
| [10449](#L10449) |  |
| [10450](#L10450) | // Get Page Title |
| [10451](#L10451) | var title = content.querySelector('title').innerHTML; |
| [10452](#L10452) | data.pageTitle = title; |
| [10453](#L10453) |  |
| [10454](#L10454) | // Get WooCommerce products container. |
| [10455](#L10455) | var container = content.querySelector(woocommerce\_settings.container); |
| [10456](#L10456) | if (!container) { |
| [10457](#L10457) | console.warn("Ajax Load More WooCommerce: Unable to find WooCommerce ".concat(woocommerce\_settings.container, " element.")); |
| [10458](#L10458) | return data; |
| [10459](#L10459) | } |
| [10460](#L10460) |  |
| [10461](#L10461) | // Get the first item and append data attributes. |
| [10462](#L10462) | var item = container ? container.querySelector(woocommerce\_settings.products) : null; |
| [10463](#L10463) | if (item) { |
| [10464](#L10464) | item.classList.add('alm-woocommerce'); |
| [10465](#L10465) | item.dataset.url = url; |
| [10466](#L10466) | item.dataset.page = currentPage; |
| [10467](#L10467) | item.dataset.pageTitle = title; |
| [10468](#L10468) | } |
| [10469](#L10469) |  |
| [10470](#L10470) | // Count the number of returned items. |
| [10471](#L10471) | var items = container.querySelectorAll(woocommerce\_settings.products); |
| [10472](#L10472) | if (items) { |
| [10473](#L10473) | // Set the html to the elementor container data. |
| [10474](#L10474) | data.html = container ? container.innerHTML : ''; |
| [10475](#L10475) | data.meta.postcount = items.length; |
| [10476](#L10476) | data.meta.totalposts = total\_posts; |
| [10477](#L10477) |  |
| [10478](#L10478) | // Create cache file. |
| [10479](#L10479) | createCache(alm, data, cache\_slug); |
| [10480](#L10480) | } |
| [10481](#L10481) |  |
| [10482](#L10482) | // Results Text |
| [10483](#L10483) | almWooCommerceResultsText(content, alm); |
| [10484](#L10484) | } |
| [10485](#L10485) | return data; |
| [10486](#L10486) | } |
| [10487](#L10487) |  |
| [10488](#L10488) | /\*\* |
| [10489](#L10489) | \* Handle WooCommerce loaded functionality and dispatch actions. |
| [10490](#L10490) | \* |
| [10491](#L10491) | \* @param {Object} alm ALM object. |
| [10492](#L10492) | \* @since 5.5.0 |
| [10493](#L10493) | \*/ |
| [10494](#L10494) | function woocommerceLoaded(alm) { |
| [10495](#L10495) | var addons = alm.addons; |
| [10496](#L10496) | var nextPageNum = alm.page + 2; |
| [10497](#L10497) | var nextPage = addons.woocommerce\_settings.paged\_urls[nextPageNum - 1]; // Get URL. |
| [10498](#L10498) |  |
| [10499](#L10499) | // Set button state & URL. |
| [10500](#L10500) | if (alm.rel === 'prev' && alm.buttonPrev) { |
| [10501](#L10501) | var prevPage = addons.woocommerce\_settings.paged\_urls[alm.pagePrev - 2]; |
| [10502](#L10502) | setButtonAtts(alm.buttonPrev, parseInt(alm.pagePrev) - 1, prevPage); |
| [10503](#L10503) | } else { |
| [10504](#L10504) | setButtonAtts(alm.button, nextPageNum, nextPage); |
| [10505](#L10505) | } |
| [10506](#L10506) |  |
| [10507](#L10507) | // Lazy load images if necessary. |
| [10508](#L10508) | lazyImages(alm); |
| [10509](#L10509) |  |
| [10510](#L10510) | // Trigger almComplete. |
| [10511](#L10511) | if (typeof almComplete === 'function' && alm.transition !== 'masonry') { |
| [10512](#L10512) | window.almComplete(alm); |
| [10513](#L10513) | } |
| [10514](#L10514) |  |
| [10515](#L10515) | // End transitions. |
| [10516](#L10516) | alm.AjaxLoadMore.transitionEnd(); |
| [10517](#L10517) |  |
| [10518](#L10518) | // ALM Done. |
| [10519](#L10519) | if (alm.rel === 'prev' && alm.pagePrev <= 1) { |
| [10520](#L10520) | alm.AjaxLoadMore.triggerDonePrev(); |
| [10521](#L10521) | } |
| [10522](#L10522) | if (alm.rel === 'next' && nextPageNum > parseInt(alm.addons.woocommerce\_settings.pages)) { |
| [10523](#L10523) | alm.AjaxLoadMore.triggerDone(); |
| [10524](#L10524) | } |
| [10525](#L10525) | dispatchScrollEvent(); |
| [10526](#L10526) | } |
| [10527](#L10527) |  |
| [10528](#L10528) | /\*\* |
| [10529](#L10529) | \* Reset a WooCommerce Instance by hitting the updated site URL. |
| [10530](#L10530) | \* |
| [10531](#L10531) | \* @since 5.3.8 |
| [10532](#L10532) | \*/ |
| [10533](#L10533) | function wooReset() { |
| [10534](#L10534) | return new Promise(function (resolve) { |
| [10535](#L10535) | var url = window.location; |
| [10536](#L10536) | lib\_axios.get(url).then(function (response) { |
| [10537](#L10537) | if (response.status === 200 && response.data) { |
| [10538](#L10538) | var div = document.createElement('div'); |
| [10539](#L10539) | div.innerHTML = response.data; // Add data to div |
| [10540](#L10540) |  |
| [10541](#L10541) | var alm = div.querySelector('.ajax-load-more-wrap .alm-listing[data-woo="true"]'); // Get ALM instance |
| [10542](#L10542) | var settings = alm ? alm.dataset.wooSettings : ''; // Get settings data |
| [10543](#L10543) | resolve(settings); |
| [10544](#L10544) | } else { |
| [10545](#L10545) | resolve(false); |
| [10546](#L10546) | } |
| [10547](#L10547) | })["catch"](function () { |
| [10548](#L10548) | resolve(false); |
| [10549](#L10549) | }); |
| [10550](#L10550) | }); |
| [10551](#L10551) | } |
| [10552](#L10552) |  |
| [10553](#L10553) | /\*\* |
| [10554](#L10554) | \* Set results text for WooCommerce Add-on. |
| [10555](#L10555) | \* |
| [10556](#L10556) | \* @param {Element} target The target HTML element. |
| [10557](#L10557) | \* @param {Object}  alm    ALM object. |
| [10558](#L10558) | \* @since 5.3 |
| [10559](#L10559) | \*/ |
| [10560](#L10560) | function almWooCommerceResultsText() { |
| [10561](#L10561) | var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; |
| [10562](#L10562) | var alm = arguments.length > 1 ? arguments[1] : undefined; |
| [10563](#L10563) | if (target && alm && alm.addons.woocommerce\_settings.results\_text) { |
| [10564](#L10564) | var currentResults = target.querySelector(alm.addons.woocommerce\_settings.results); |
| [10565](#L10565) | if (alm.addons.woocommerce\_settings.results\_text) { |
| [10566](#L10566) | //let link = alm.addons.woocommerce\_settings.settings.previous\_page\_link; |
| [10567](#L10567) | //let label = alm.addons.woocommerce\_settings.settings.previous\_page\_label; |
| [10568](#L10568) | //let sep = alm.addons.woocommerce\_settings.settings.previous\_page\_sep; |
| [10569](#L10569) | alm.addons.woocommerce\_settings.results\_text.forEach(function (element) { |
| [10570](#L10570) | element.innerHTML = currentResults.innerHTML; |
| [10571](#L10571) | // if (link && label) { |
| [10572](#L10572) | //      element.innerHTML = returnButton(currentResults, link, label, sep); |
| [10573](#L10573) | // } else { |
| [10574](#L10574) | //      element.innerHTML = currentResults.innerHTML; |
| [10575](#L10575) | // } |
| [10576](#L10576) | }); |
| [10577](#L10577) | } |
| [10578](#L10578) | } |
| [10579](#L10579) | } |
| [10580](#L10580) |  |
| [10581](#L10581) | /\*\* |
| [10582](#L10582) | \* Initiate Results text. |
| [10583](#L10583) | \* |
| [10584](#L10584) | \* @param {Object} alm ALM object. |
| [10585](#L10585) | \* @since 5.3 |
| [10586](#L10586) | \* @deprecated 5.5 |
| [10587](#L10587) | \*/ |
| [10588](#L10588) | function almWooCommerceResultsTextInit(alm) { |
| [10589](#L10589) | if (alm && alm.addons.woocommerce\_settings.results\_text) { |
| [10590](#L10590) | var results = document.querySelectorAll(alm.addons.woocommerce\_settings.results); |
| [10591](#L10591) | if (results.length < 1) { |
| [10592](#L10592) | return false; |
| [10593](#L10593) | } |
| [10594](#L10594) | var link = alm.addons.woocommerce\_settings.settings.previous\_page\_link; |
| [10595](#L10595) | var label = alm.addons.woocommerce\_settings.settings.previous\_page\_label; |
| [10596](#L10596) | var sep = alm.addons.woocommerce\_settings.settings.previous\_page\_sep; |
| [10597](#L10597) | // Loop all result text elements |
| [10598](#L10598) | results.forEach(function (element) { |
| [10599](#L10599) | if (link && label) { |
| [10600](#L10600) | element.innerHTML = returnButton(element, link, label, sep); |
| [10601](#L10601) | } |
| [10602](#L10602) | }); |
| [10603](#L10603) | } |
| [10604](#L10604) | } |
| [10605](#L10605) |  |
| [10606](#L10606) | /\*\* |
| [10607](#L10607) | \* Create button text for returning to the first page |
| [10608](#L10608) | \* |
| [10609](#L10609) | \* @param {Element} text      The button text. |
| [10610](#L10610) | \* @param {string}  link      Link URL. |
| [10611](#L10611) | \* @param {string}  label     Button label. |
| [10612](#L10612) | \* @param {string}  seperator HTML separator. |
| [10613](#L10613) | \*/ |
| [10614](#L10614) | function returnButton(text, link, label, seperator) { |
| [10615](#L10615) | var button = " ".concat(seperator, " <a href=\"").concat(link, "\">").concat(label, "</a>"); |
| [10616](#L10616) | return text.innerHTML + button; |
| [10617](#L10617) | } |
| [10618](#L10618) |  |
| [10619](#L10619) | /\*\* |
| [10620](#L10620) | \* Get total count of WooCommerce containers. |
| [10621](#L10621) | \* |
| [10622](#L10622) | \* @param {string} container The container class. |
| [10623](#L10623) | \* @return {number}          The total number of containers. |
| [10624](#L10624) | \*/ |
| [10625](#L10625) | function countContainers(container) { |
| [10626](#L10626) | if (!container) { |
| [10627](#L10627) | return 0; |
| [10628](#L10628) | } |
| [10629](#L10629) | var containers = document.querySelectorAll(container); // Get all containers. |
| [10630](#L10630) | if (!containers) { |
| [10631](#L10631) | return 0; |
| [10632](#L10632) | } |
| [10633](#L10633) | return containers.length; |
| [10634](#L10634) | } |
| [10635](#L10635) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/displayResults.js |
| [10636](#L10636) |  |
| [10637](#L10637) |  |
| [10638](#L10638) |  |
| [10639](#L10639) | var displayResults\_imagesLoaded = \_\_webpack\_require\_\_(564); |
| [10640](#L10640) |  |
| [10641](#L10641) | /\*\* |
| [10642](#L10642) | \* Append and display Ajax results to the ALM container. |
| [10643](#L10643) | \* |
| [10644](#L10644) | \* @param {Object} alm   The ALM object. |
| [10645](#L10645) | \* @param {Array}  nodes The HTML nodes to append. |
| [10646](#L10646) | \* @return {Promise}     The Promise object. |
| [10647](#L10647) | \*/ |
| [10648](#L10648) | function displayResults(alm, nodes) { |
| [10649](#L10649) | var container = alm.listing, |
| [10650](#L10650) | transition = alm.transition, |
| [10651](#L10651) | speed = alm.speed, |
| [10652](#L10652) | images\_loaded = alm.images\_loaded; |
| [10653](#L10653) | return new Promise(function (resolve) { |
| [10654](#L10654) | if (!container || !nodes) { |
| [10655](#L10655) | resolve(true); |
| [10656](#L10656) | return; |
| [10657](#L10657) | } |
| [10658](#L10658) | var useTransition = transition === 'fade' ? true : false; |
| [10659](#L10659) |  |
| [10660](#L10660) | // Add each node to the alm listing container. |
| [10661](#L10661) | nodes.forEach(function (node) { |
| [10662](#L10662) | var nodeName = node.nodeName.toLowerCase(); |
| [10663](#L10663) | if (useTransition || images\_loaded) { |
| [10664](#L10664) | node.style.opacity = 0; |
| [10665](#L10665) | if (useTransition) { |
| [10666](#L10666) | node.style.transition = "all ".concat(speed, "ms ease"); |
| [10667](#L10667) | } |
| [10668](#L10668) | } |
| [10669](#L10669) |  |
| [10670](#L10670) | /\*\* |
| [10671](#L10671) | \* Do not append elements that are not actual element nodes (i.e. #text node). |
| [10672](#L10672) | \* Add item if not in exclude array. |
| [10673](#L10673) | \*/ |
| [10674](#L10674) | if (EXCLUDED\_NODES.indexOf(nodeName) === -1) { |
| [10675](#L10675) | container.appendChild(node); |
| [10676](#L10676) | } |
| [10677](#L10677) | }); |
| [10678](#L10678) |  |
| [10679](#L10679) | // Run srcSet polyfill. |
| [10680](#L10680) | srcsetPolyfill(container, alm.ua); |
| [10681](#L10681) |  |
| [10682](#L10682) | // Lazy load images. |
| [10683](#L10683) | lazyImages(alm); |
| [10684](#L10684) |  |
| [10685](#L10685) | // Display the results. |
| [10686](#L10686) | if (images\_loaded) { |
| [10687](#L10687) | displayResults\_imagesLoaded(container, function () { |
| [10688](#L10688) | display(alm, nodes, useTransition); |
| [10689](#L10689) | }); |
| [10690](#L10690) | } else { |
| [10691](#L10691) | display(alm, nodes, useTransition); |
| [10692](#L10692) | } |
| [10693](#L10693) | resolve(true); |
| [10694](#L10694) | }); |
| [10695](#L10695) | } |
| [10696](#L10696) |  |
| [10697](#L10697) | /\*\* |
| [10698](#L10698) | \* Append and display Ajax results to the Paging container. |
| [10699](#L10699) | \* |
| [10700](#L10700) | \* @param {Object} alm   The ALM object. |
| [10701](#L10701) | \* @param {Array}  nodes The HTML nodes to append. |
| [10702](#L10702) | \* @return {Promise}     The Promise object. |
| [10703](#L10703) | \*/ |
| [10704](#L10704) | function displayPagingResults(alm, nodes) { |
| [10705](#L10705) | var addons = alm.addons; |
| [10706](#L10706) | var container = addons.paging\_container; |
| [10707](#L10707) | return new Promise(function (resolve) { |
| [10708](#L10708) | if (!container || !nodes) { |
| [10709](#L10709) | resolve(true); |
| [10710](#L10710) | return; |
| [10711](#L10711) | } |
| [10712](#L10712) |  |
| [10713](#L10713) | // Clear contents of Paging container. |
| [10714](#L10714) | container.style.opacity = 0; |
| [10715](#L10715) | container.innerHTML = ''; |
| [10716](#L10716) |  |
| [10717](#L10717) | // Add each node to the paging container. |
| [10718](#L10718) | nodes.forEach(function (node) { |
| [10719](#L10719) | var nodeName = node.nodeName.toLowerCase(); |
| [10720](#L10720) | /\*\* |
| [10721](#L10721) | \* Do not append elements that are not actual element nodes (i.e. #text node). |
| [10722](#L10722) | \* Add item if not in exclude array. |
| [10723](#L10723) | \*/ |
| [10724](#L10724) | if (EXCLUDED\_NODES.indexOf(nodeName) === -1) { |
| [10725](#L10725) | container.appendChild(node); |
| [10726](#L10726) | } |
| [10727](#L10727) | }); |
| [10728](#L10728) |  |
| [10729](#L10729) | // Run srcSet polyfill. |
| [10730](#L10730) | srcsetPolyfill(container, alm.ua); |
| [10731](#L10731) |  |
| [10732](#L10732) | // Lazy load images. |
| [10733](#L10733) | lazyImages(alm); |
| [10734](#L10734) | resolve(true); |
| [10735](#L10735) | }); |
| [10736](#L10736) | } |
| [10737](#L10737) |  |
| [10738](#L10738) | /\*\* |
| [10739](#L10739) | \* Display the loaded results via CSS transition. |
| [10740](#L10740) | \* |
| [10741](#L10741) | \* @param {Object}  alm           The ALM object. |
| [10742](#L10742) | \* @param {Array}   nodes         The HTML nodes to append. |
| [10743](#L10743) | \* @param {boolean} useTransition Use CSS transition. |
| [10744](#L10744) | \*/ |
| [10745](#L10745) | function display(alm, nodes) { |
| [10746](#L10746) | var useTransition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true; |
| [10747](#L10747) | var delay = alm.transition\_delay, |
| [10748](#L10748) | images\_loaded = alm.images\_loaded; |
| [10749](#L10749) | var offset = useTransition ? parseInt(delay) : 0; // Delay offset timing. |
| [10750](#L10750) |  |
| [10751](#L10751) | if (nodes) { |
| [10752](#L10752) | setTimeout(function () { |
| [10753](#L10753) | if (useTransition || images\_loaded) { |
| [10754](#L10754) | nodes.forEach(function (node, index) { |
| [10755](#L10755) | setTimeout(function () { |
| [10756](#L10756) | node.style.opacity = 1; |
| [10757](#L10757) | }, index \* offset); |
| [10758](#L10758) | }); |
| [10759](#L10759) | } |
| [10760](#L10760) | alm.AjaxLoadMore.transitionEnd(); |
| [10761](#L10761) | }, 50); |
| [10762](#L10762) | } |
| [10763](#L10763) | } |
| [10764](#L10764) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/formatHTML.js |
| [10765](#L10765) | function formatHTML\_toConsumableArray(arr) { return formatHTML\_arrayWithoutHoles(arr) || formatHTML\_iterableToArray(arr) || formatHTML\_unsupportedIterableToArray(arr) || formatHTML\_nonIterableSpread(); } |
| [10766](#L10766) | function formatHTML\_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } |
| [10767](#L10767) | function formatHTML\_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return formatHTML\_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return formatHTML\_arrayLikeToArray(o, minLen); } |
| [10768](#L10768) | function formatHTML\_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); } |
| [10769](#L10769) | function formatHTML\_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return formatHTML\_arrayLikeToArray(arr); } |
| [10770](#L10770) | function formatHTML\_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } |
| [10771](#L10771) |  |
| [10772](#L10772) |  |
| [10773](#L10773) |  |
| [10774](#L10774) |  |
| [10775](#L10775) |  |
| [10776](#L10776) | /\*\* |
| [10777](#L10777) | \* Create data attributes for Single Posts, SEO and Filter paged results. |
| [10778](#L10778) | \* |
| [10779](#L10779) | \* @param {Object} alm      The ALM object. |
| [10780](#L10780) | \* @param {Array}  elements The element HTML nodes. |
| [10781](#L10781) | \* @return {Array}          The modified elements. |
| [10782](#L10782) | \* @since 7.0.0 |
| [10783](#L10783) | \*/ |
| [10784](#L10784) | function formatHTML(alm, elements) { |
| [10785](#L10785) | var \_elements; |
| [10786](#L10786) | if (!((\_elements = elements) !== null && \_elements !== void 0 && \_elements.length)) { |
| [10787](#L10787) | return []; |
| [10788](#L10788) | } |
| [10789](#L10789) | var addons = alm.addons, |
| [10790](#L10790) | page = alm.page, |
| [10791](#L10791) | posts\_per\_page = alm.posts\_per\_page, |
| [10792](#L10792) | init = alm.init, |
| [10793](#L10793) | start\_page = alm.start\_page, |
| [10794](#L10794) | container\_type = alm.container\_type; |
| [10795](#L10795) |  |
| [10796](#L10796) | // Single Posts. |
| [10797](#L10797) | if (addons !== null && addons !== void 0 && addons.single\_post) { |
| [10798](#L10798) | var singleWrap = document.createElement('div'); |
| [10799](#L10799) | singleWrap.innerHTML = alm.html; |
| [10800](#L10800) | singleWrap = addSinglePostsAttributes(alm, singleWrap); |
| [10801](#L10801) | singleWrap = getNestedNextPageElement(singleWrap); |
| [10802](#L10802) |  |
| [10803](#L10803) | // Single Post Preview. |
| [10804](#L10804) | if (addons !== null && addons !== void 0 && addons.single\_post\_preview && addons !== null && addons !== void 0 && addons.single\_post\_preview\_data && typeof almSinglePostCreatePreview === 'function') { |
| [10805](#L10805) | var singlePreview = almSinglePostCreatePreview(singleWrap, addons.single\_post\_id, addons.single\_post\_preview\_data); |
| [10806](#L10806) | if (singlePreview) { |
| [10807](#L10807) | singleWrap.replaceChildren(singlePreview); |
| [10808](#L10808) | } |
| [10809](#L10809) | } |
| [10810](#L10810) | alm.last\_loaded = [singleWrap]; |
| [10811](#L10811) | return [singleWrap]; |
| [10812](#L10812) | } |
| [10813](#L10813) |  |
| [10814](#L10814) | // Exit if not SEO or Filters. |
| [10815](#L10815) | if (!(addons !== null && addons !== void 0 && addons.seo) && !(addons !== null && addons !== void 0 && addons.filters)) { |
| [10816](#L10816) | return elements; |
| [10817](#L10817) | } |
| [10818](#L10818) | var current = parseInt(page) + 1; |
| [10819](#L10819) | current = addons !== null && addons !== void 0 && addons.preloaded ? current + 1 : current; |
| [10820](#L10820) |  |
| [10821](#L10821) | // If init and SEO or Filter start\_page, set pagenum to 1. |
| [10822](#L10822) | if (init && (parseInt(start\_page) > 1 || (addons === null || addons === void 0 ? void 0 : addons.filters\_startpage) > 1)) { |
| [10823](#L10823) | current = 1; |
| [10824](#L10824) | } |
| [10825](#L10825) |  |
| [10826](#L10826) | // Call to Action add-on: Add 1 if CTA is true. |
| [10827](#L10827) | var per\_page = addons !== null && addons !== void 0 && addons.cta ? parseInt(posts\_per\_page) + 1 : parseInt(posts\_per\_page); |
| [10828](#L10828) |  |
| [10829](#L10829) | // If table, format the return data. |
| [10830](#L10830) | if (container\_type === 'table') { |
| [10831](#L10831) | elements = formatTable(elements); |
| [10832](#L10832) | } |
| [10833](#L10833) |  |
| [10834](#L10834) | /\*\* |
| [10835](#L10835) | \* Split elements array into individual pages. |
| [10836](#L10836) | \*/ |
| [10837](#L10837) | var pages = []; |
| [10838](#L10838) | for (var i = 0; i < ((\_elements2 = elements) === null || \_elements2 === void 0 ? void 0 : \_elements2.length); i += per\_page) { |
| [10839](#L10839) | var \_elements2; |
| [10840](#L10840) | pages.push(elements.slice(i, per\_page + i)); |
| [10841](#L10841) | } |
| [10842](#L10842) |  |
| [10843](#L10843) | /\*\* |
| [10844](#L10844) | \* Loop pages and modify first element in return data. |
| [10845](#L10845) | \*/ |
| [10846](#L10846) | if (pages) { |
| [10847](#L10847) | for (var \_i = 0; \_i < pages.length; \_i++) { |
| [10848](#L10848) | var index = \_i > 0 ? \_i \* per\_page : 0; |
| [10849](#L10849) | if (elements[index]) { |
| [10850](#L10850) | if (addons !== null && addons !== void 0 && addons.seo) { |
| [10851](#L10851) | elements[index] = addSEOAttributes(alm, elements[index], \_i + current); |
| [10852](#L10852) | } |
| [10853](#L10853) | if (addons !== null && addons !== void 0 && addons.filters) { |
| [10854](#L10854) | elements[index] = addFiltersAttributes(alm, elements[index], \_i + current); |
| [10855](#L10855) | } |
| [10856](#L10856) | } |
| [10857](#L10857) | } |
| [10858](#L10858) | } |
| [10859](#L10859) | return elements; |
| [10860](#L10860) | } |
| [10861](#L10861) |  |
| [10862](#L10862) | /\*\* |
| [10863](#L10863) | \* Format return table data. |
| [10864](#L10864) | \* |
| [10865](#L10865) | \* @param {Array} elements The element HTML nodes. |
| [10866](#L10866) | \* @return {Array}         The modified elements. |
| [10867](#L10867) | \*/ |
| [10868](#L10868) | function formatTable() { |
| [10869](#L10869) | var \_elements3; |
| [10870](#L10870) | var elements = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : []; |
| [10871](#L10871) | if (!elements) { |
| [10872](#L10872) | return []; |
| [10873](#L10873) | } |
| [10874](#L10874) | var tableChildren = (\_elements3 = elements) !== null && \_elements3 !== void 0 && \_elements3.length ? elements[0].childNodes : []; |
| [10875](#L10875) | if (tableChildren) { |
| [10876](#L10876) | elements = functions\_stripEmptyNodes(formatHTML\_toConsumableArray(tableChildren)); |
| [10877](#L10877) | } |
| [10878](#L10878) | return elements; |
| [10879](#L10879) | } |
| [10880](#L10880) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/getScrollPercentage.js |
| [10881](#L10881) | /\*\* |
| [10882](#L10882) | \* Get the scroll distance in pixels from a percentage. |
| [10883](#L10883) | \* |
| [10884](#L10884) | \* @param {Object} alm The Ajax Load More object. |
| [10885](#L10885) | \* @return {number}    The new distance. |
| [10886](#L10886) | \* @since 5.2 |
| [10887](#L10887) | \*/ |
| [10888](#L10888) | function getScrollPercentage(alm) { |
| [10889](#L10889) | if (!alm) { |
| [10890](#L10890) | return false; |
| [10891](#L10891) | } |
| [10892](#L10892) | var is\_negative = alm.scroll\_distance\_orig.toString().indexOf('-') === -1 ? false : true; // Is this a negative number |
| [10893](#L10893) | var raw\_distance = alm.scroll\_distance\_orig.toString().replace('-', '').replace('%', ''); // Remove - and perc |
| [10894](#L10894) | var wh = alm.window.innerHeight; // window height |
| [10895](#L10895) | var height = Math.floor(wh / 100 \* parseInt(raw\_distance)); // Do math to get distance |
| [10896](#L10896) | var newdistance = is\_negative ? "-".concat(height) : height; // Set the distance |
| [10897](#L10897) |  |
| [10898](#L10898) | return parseInt(newdistance); |
| [10899](#L10899) | } |
| [10900](#L10900) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/getTotals.js |
| [10901](#L10901) | /\*\* |
| [10902](#L10902) | \* Get the total posts remaining in the current query by ALM instance ID. |
| [10903](#L10903) | \* Note: Uses localized ALM variables. |
| [10904](#L10904) | \* |
| [10905](#L10905) | \* @see https://github.com/dcooney/wordpress-ajax-load-more/blob/main/core/classes/class-alm-localize.php |
| [10906](#L10906) | \* @param {string} type The type of total to retrieve. |
| [10907](#L10907) | \* @param {string} id   An optional Ajax Load More ID. |
| [10908](#L10908) | \* @return {number}     A total post count. |
| [10909](#L10909) | \*/ |
| [10910](#L10910) | function getTotals(type) { |
| [10911](#L10911) | var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ''; |
| [10912](#L10912) | // Get the ALM localized variable name. |
| [10913](#L10913) | var localize\_var = id ? "ajax\_load\_more\_".concat(id.replace(/-/g, '\_'), "\_vars") : 'ajax\_load\_more\_vars'; |
| [10914](#L10914) |  |
| [10915](#L10915) | // Get the localized value from the window object. |
| [10916](#L10916) | var localized = window[localize\_var]; |
| [10917](#L10917) | if (!localized) { |
| [10918](#L10918) | return null; |
| [10919](#L10919) | } |
| [10920](#L10920) |  |
| [10921](#L10921) | // Deconstruct the object. |
| [10922](#L10922) | var total\_posts = localized.total\_posts, |
| [10923](#L10923) | post\_count = localized.post\_count, |
| [10924](#L10924) | page = localized.page, |
| [10925](#L10925) | pages = localized.pages; |
| [10926](#L10926) | switch (type) { |
| [10927](#L10927) | case 'total\_posts': |
| [10928](#L10928) | return total\_posts ? parseInt(total\_posts) : ''; |
| [10929](#L10929) | case 'post\_count': |
| [10930](#L10930) | return post\_count ? parseInt(post\_count) : ''; |
| [10931](#L10931) | case 'page': |
| [10932](#L10932) | return page ? parseInt(page) : ''; |
| [10933](#L10933) | case 'pages': |
| [10934](#L10934) | return pages ? parseInt(pages) : ''; |
| [10935](#L10935) | case 'remaining': |
| [10936](#L10936) | if (!total\_posts || !post\_count) { |
| [10937](#L10937) | return ''; |
| [10938](#L10938) | } |
| [10939](#L10939) | return parseInt(total\_posts) - parseInt(post\_count); |
| [10940](#L10940) | } |
| [10941](#L10941) | } |
| [10942](#L10942) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/noResults.js |
| [10943](#L10943) | /\*\* |
| [10944](#L10944) | \* Set the results text if required. |
| [10945](#L10945) | \* |
| [10946](#L10946) | \* @param {Element} element Target HTML element |
| [10947](#L10947) | \* @param {string}  html    Text as HTML to display. |
| [10948](#L10948) | \* @since 5.1 |
| [10949](#L10949) | \*/ |
| [10950](#L10950) | function noResults(element) { |
| [10951](#L10951) | var html = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ''; |
| [10952](#L10952) | if (!html || !element) { |
| [10953](#L10953) | return; // Exit if empty. |
| [10954](#L10954) | } |
| [10955](#L10955) |  |
| [10956](#L10956) | // Remove empty <p/> tags. |
| [10957](#L10957) | html = html.replace(/(<p><\/p>)+/g, ''); |
| [10958](#L10958) |  |
| [10959](#L10959) | // Is this a paging instance. |
| [10960](#L10960) | var paging = element === null || element === void 0 ? void 0 : element.querySelector('.alm-paging-content'); |
| [10961](#L10961) | if (paging) { |
| [10962](#L10962) | paging.innerHTML = html; |
| [10963](#L10963) | } else { |
| [10964](#L10964) | element.innerHTML = html; |
| [10965](#L10965) | } |
| [10966](#L10966) | } |
| [10967](#L10967) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/parsers.js |
| [10968](#L10968) | function parsers\_toConsumableArray(arr) { return parsers\_arrayWithoutHoles(arr) || parsers\_iterableToArray(arr) || parsers\_unsupportedIterableToArray(arr) || parsers\_nonIterableSpread(); } |
| [10969](#L10969) | function parsers\_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } |
| [10970](#L10970) | function parsers\_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return parsers\_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return parsers\_arrayLikeToArray(o, minLen); } |
| [10971](#L10971) | function parsers\_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); } |
| [10972](#L10972) | function parsers\_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return parsers\_arrayLikeToArray(arr); } |
| [10973](#L10973) | function parsers\_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } |
| [10974](#L10974) |  |
| [10975](#L10975) |  |
| [10976](#L10976) | /\*\* |
| [10977](#L10977) | \* Convert a plain text string into an array of HTML nodes. |
| [10978](#L10978) | \* |
| [10979](#L10979) | \* @param {string} html The HTML string |
| [10980](#L10980) | \* @param {string} type The element type. |
| [10981](#L10981) | \* @return {Array}      The HTML nodes as an array. |
| [10982](#L10982) | \* @since 5.0 |
| [10983](#L10983) | \*/ |
| [10984](#L10984) | function domParser() { |
| [10985](#L10985) | var \_data$body; |
| [10986](#L10986) | var html = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; |
| [10987](#L10987) | var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'text/html'; |
| [10988](#L10988) | if (!html) { |
| [10989](#L10989) | return []; |
| [10990](#L10990) | } |
| [10991](#L10991) | var parser = new DOMParser(); |
| [10992](#L10992) | var data = parser.parseFromString(html, type); |
| [10993](#L10993) | var nodes = data === null || data === void 0 || (\_data$body = data.body) === null || \_data$body === void 0 ? void 0 : \_data$body.childNodes; |
| [10994](#L10994) | return nodes ? functions\_stripEmptyNodes(parsers\_toConsumableArray(nodes)) : []; |
| [10995](#L10995) | } |
| [10996](#L10996) |  |
| [10997](#L10997) | /\*\* |
| [10998](#L10998) | \* Convert retun table data into an array of HTML elements. |
| [10999](#L10999) | \* |
| [11000](#L11000) | \* @param {string} html Plain text HTML. |
| [11001](#L11001) | \* @return {Array}      Array of HTML elements. |
| [11002](#L11002) | \* @since 5.0 |
| [11003](#L11003) | \*/ |
| [11004](#L11004) | function tableParser() { |
| [11005](#L11005) | var html = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null; |
| [11006](#L11006) | if (!html) { |
| [11007](#L11007) | return []; |
| [11008](#L11008) | } |
| [11009](#L11009) | // Create table element and add results to table body. |
| [11010](#L11010) | var tbody = document.createElement('tbody'); |
| [11011](#L11011) | tbody.innerHTML = html; |
| [11012](#L11012) | return [tbody]; |
| [11013](#L11013) | } |
| [11014](#L11014) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/queryParams.js |
| [11015](#L11015) |  |
| [11016](#L11016) |  |
| [11017](#L11017) | /\*\* |
| [11018](#L11018) | \* Build the data object to send with the Ajax request. |
| [11019](#L11019) | \* |
| [11020](#L11020) | \* @param {Object} alm       The ALM object. |
| [11021](#L11021) | \* @param {string} queryType The query type. |
| [11022](#L11022) | \* @return {Object}          The data object. |
| [11023](#L11023) | \* @since 3.6 |
| [11024](#L11024) | \*/ |
| [11025](#L11025) | function getAjaxParams(alm, queryType) { |
| [11026](#L11026) | var addons = alm.addons, |
| [11027](#L11027) | extensions = alm.extensions; |
| [11028](#L11028) |  |
| [11029](#L11029) | // Defaults |
| [11030](#L11030) | var data = { |
| [11031](#L11031) | action: 'alm\_get\_posts', |
| [11032](#L11032) | query\_type: queryType, |
| [11033](#L11033) | id: alm.id, |
| [11034](#L11034) | post\_id: parseInt(alm.post\_id), |
| [11035](#L11035) | slug: alm.slug, |
| [11036](#L11036) | canonical\_url: encodeURIComponent(alm.canonical\_url), |
| [11037](#L11037) | posts\_per\_page: parseInt(alm.posts\_per\_page), |
| [11038](#L11038) | page: parseInt(alm.page), |
| [11039](#L11039) | offset: parseInt(alm.offset), |
| [11040](#L11040) | post\_type: alm.post\_type, |
| [11041](#L11041) | repeater: alm.repeater, |
| [11042](#L11042) | seo\_start\_page: alm.start\_page |
| [11043](#L11043) | }; |
| [11044](#L11044) |  |
| [11045](#L11045) | // Addons & Extensions |
| [11046](#L11046) |  |
| [11047](#L11047) | if (extensions.acf) { |
| [11048](#L11048) | data.acf = getTypeParams(alm, 'acf'); |
| [11049](#L11049) | if (extensions.acf\_field\_type !== 'relationship') { |
| [11050](#L11050) | data.action = 'alm\_acf'; |
| [11051](#L11051) | } |
| [11052](#L11052) | } |
| [11053](#L11053) | if (addons.comments) { |
| [11054](#L11054) | data.comments = getTypeParams(alm, 'comments'); |
| [11055](#L11055) | data.posts\_per\_page = addons.comments\_per\_page; |
| [11056](#L11056) | data.action = 'alm\_comments'; |
| [11057](#L11057) | } |
| [11058](#L11058) | if (addons.cta) { |
| [11059](#L11059) | data.cta = getTypeParams(alm, 'cta'); |
| [11060](#L11060) | } |
| [11061](#L11061) | if (addons.filters) { |
| [11062](#L11062) | data.filters = addons.filters; |
| [11063](#L11063) | data.filters\_startpage = addons.filters\_startpage; |
| [11064](#L11064) | data.filters\_target = addons.filters\_target; |
| [11065](#L11065) | data.facets = alm.facets; |
| [11066](#L11066) | } |
| [11067](#L11067) | if (addons.nextpage) { |
| [11068](#L11068) | data.nextpage = getTypeParams(alm, 'nextpage'); |
| [11069](#L11069) | data.action = 'alm\_nextpage'; |
| [11070](#L11070) | } |
| [11071](#L11071) | if (addons.paging) { |
| [11072](#L11072) | data.paging = addons.paging; |
| [11073](#L11073) | } |
| [11074](#L11074) | if (addons.preloaded) { |
| [11075](#L11075) | data.preloaded = addons.preloaded; |
| [11076](#L11076) | data.preloaded\_amount = parseInt(addons.preloaded\_amount); |
| [11077](#L11077) | } |
| [11078](#L11078) | if (addons.single\_post) { |
| [11079](#L11079) | data.single\_post = getTypeParams(alm, 'single\_post'); |
| [11080](#L11080) | } |
| [11081](#L11081) | if (extensions.term\_query) { |
| [11082](#L11082) | data.term\_query = getTypeParams(alm, 'term\_query'); |
| [11083](#L11083) | data.action = 'alm\_get\_terms'; |
| [11084](#L11084) | } |
| [11085](#L11085) | if (alm.extensions.users) { |
| [11086](#L11086) | data.users = getTypeParams(alm, 'users'); |
| [11087](#L11087) | data.action = 'alm\_users'; |
| [11088](#L11088) | } |
| [11089](#L11089) | if (alm.theme\_repeater) { |
| [11090](#L11090) | data.theme\_repeater = alm.theme\_repeater; |
| [11091](#L11091) | } |
| [11092](#L11092) |  |
| [11093](#L11093) | // Query data params from ALM HTML element. |
| [11094](#L11094) | if (alm.listing.dataset.lang) { |
| [11095](#L11095) | data.lang = alm.listing.dataset.lang; |
| [11096](#L11096) | } |
| [11097](#L11097) | if (alm.listing.dataset.stickyPosts) { |
| [11098](#L11098) | data.sticky\_posts = alm.listing.dataset.stickyPosts; |
| [11099](#L11099) | } |
| [11100](#L11100) | if (alm.listing.dataset.postFormat) { |
| [11101](#L11101) | data.post\_format = alm.listing.dataset.postFormat; |
| [11102](#L11102) | } |
| [11103](#L11103) | if (alm.listing.dataset.category) { |
| [11104](#L11104) | data.category = alm.listing.dataset.category; |
| [11105](#L11105) | } |
| [11106](#L11106) | if (alm.listing.dataset.categoryAnd) { |
| [11107](#L11107) | data.category\_\_and = alm.listing.dataset.categoryAnd; |
| [11108](#L11108) | } |
| [11109](#L11109) | if (alm.listing.dataset.categoryNotIn) { |
| [11110](#L11110) | data.category\_\_not\_in = alm.listing.dataset.categoryNotIn; |
| [11111](#L11111) | } |
| [11112](#L11112) | if (alm.listing.dataset.tag) { |
| [11113](#L11113) | data.tag = alm.listing.dataset.tag; |
| [11114](#L11114) | } |
| [11115](#L11115) | if (alm.listing.dataset.tagAnd) { |
| [11116](#L11116) | data.tag\_\_and = alm.listing.dataset.tagAnd; |
| [11117](#L11117) | } |
| [11118](#L11118) | if (alm.listing.dataset.tagNotIn) { |
| [11119](#L11119) | data.tag\_\_not\_in = alm.listing.dataset.tagNotIn; |
| [11120](#L11120) | } |
| [11121](#L11121) | if (alm.listing.dataset.taxonomy) { |
| [11122](#L11122) | data.taxonomy = alm.listing.dataset.taxonomy; |
| [11123](#L11123) | } |
| [11124](#L11124) | if (alm.listing.dataset.taxonomyTerms) { |
| [11125](#L11125) | data.taxonomy\_terms = alm.listing.dataset.taxonomyTerms; |
| [11126](#L11126) | } |
| [11127](#L11127) | if (alm.listing.dataset.taxonomyOperator) { |
| [11128](#L11128) | data.taxonomy\_operator = alm.listing.dataset.taxonomyOperator; |
| [11129](#L11129) | } |
| [11130](#L11130) | if (alm.listing.dataset.taxonomyIncludeChildren) { |
| [11131](#L11131) | data.taxonomy\_include\_children = alm.listing.dataset.taxonomyIncludeChildren; |
| [11132](#L11132) | } |
| [11133](#L11133) | if (alm.listing.dataset.taxonomyRelation) { |
| [11134](#L11134) | data.taxonomy\_relation = alm.listing.dataset.taxonomyRelation; |
| [11135](#L11135) | } |
| [11136](#L11136) | if (alm.listing.dataset.sortKey) { |
| [11137](#L11137) | data.sort\_key = alm.listing.dataset.sortKey; |
| [11138](#L11138) | } |
| [11139](#L11139) | if (alm.listing.dataset.metaKey) { |
| [11140](#L11140) | data.meta\_key = alm.listing.dataset.metaKey; |
| [11141](#L11141) | } |
| [11142](#L11142) | if (alm.listing.dataset.metaValue) { |
| [11143](#L11143) | data.meta\_value = alm.listing.dataset.metaValue; |
| [11144](#L11144) | } |
| [11145](#L11145) | if (alm.listing.dataset.metaCompare) { |
| [11146](#L11146) | data.meta\_compare = alm.listing.dataset.metaCompare; |
| [11147](#L11147) | } |
| [11148](#L11148) | if (alm.listing.dataset.metaRelation) { |
| [11149](#L11149) | data.meta\_relation = alm.listing.dataset.metaRelation; |
| [11150](#L11150) | } |
| [11151](#L11151) | if (alm.listing.dataset.metaType) { |
| [11152](#L11152) | data.meta\_type = alm.listing.dataset.metaType; |
| [11153](#L11153) | } |
| [11154](#L11154) | if (alm.listing.dataset.author) { |
| [11155](#L11155) | data.author = alm.listing.dataset.author; |
| [11156](#L11156) | } |
| [11157](#L11157) | if (alm.listing.dataset.year) { |
| [11158](#L11158) | data.year = alm.listing.dataset.year; |
| [11159](#L11159) | } |
| [11160](#L11160) | if (alm.listing.dataset.month) { |
| [11161](#L11161) | data.month = alm.listing.dataset.month; |
| [11162](#L11162) | } |
| [11163](#L11163) | if (alm.listing.dataset.day) { |
| [11164](#L11164) | data.day = alm.listing.dataset.day; |
| [11165](#L11165) | } |
| [11166](#L11166) | if (alm.listing.dataset.order) { |
| [11167](#L11167) | data.order = alm.listing.dataset.order; |
| [11168](#L11168) | } |
| [11169](#L11169) | if (alm.listing.dataset.orderby) { |
| [11170](#L11170) | data.orderby = alm.listing.dataset.orderby; |
| [11171](#L11171) | } |
| [11172](#L11172) | if (alm.listing.dataset.postStatus) { |
| [11173](#L11173) | data.post\_status = alm.listing.dataset.postStatus; |
| [11174](#L11174) | } |
| [11175](#L11175) | if (alm.listing.dataset.postIn) { |
| [11176](#L11176) | data.post\_\_in = alm.listing.dataset.postIn; |
| [11177](#L11177) | } |
| [11178](#L11178) | if (alm.listing.dataset.postNotIn) { |
| [11179](#L11179) | data.post\_\_not\_in = alm.listing.dataset.postNotIn; |
| [11180](#L11180) | } |
| [11181](#L11181) | if (alm.listing.dataset.exclude) { |
| [11182](#L11182) | data.exclude = alm.listing.dataset.exclude; |
| [11183](#L11183) | } |
| [11184](#L11184) | if (alm.listing.dataset.search) { |
| [11185](#L11185) | data.search = alm.listing.dataset.search; |
| [11186](#L11186) | } |
| [11187](#L11187) | if (alm.listing.dataset.s) { |
| [11188](#L11188) | data.search = alm.listing.dataset.s; |
| [11189](#L11189) | } |
| [11190](#L11190) | if (alm.listing.dataset.customArgs) { |
| [11191](#L11191) | data.custom\_args = alm.listing.dataset.customArgs; |
| [11192](#L11192) | } |
| [11193](#L11193) | if (alm.listing.dataset.vars) { |
| [11194](#L11194) | data.vars = alm.listing.dataset.vars; |
| [11195](#L11195) | } |
| [11196](#L11196) |  |
| [11197](#L11197) | // Cache Params |
| [11198](#L11198) |  |
| [11199](#L11199) | if (addons.cache) { |
| [11200](#L11200) | data.cache\_id = addons.cache\_id; |
| [11201](#L11201) | data.cache\_logged\_in = addons.cache\_logged\_in; |
| [11202](#L11202) | data.cache\_slug = getCacheSlug(alm, data); |
| [11203](#L11203) | } |
| [11204](#L11204) | return data; |
| [11205](#L11205) | } |
| [11206](#L11206) |  |
| [11207](#L11207) | /\*\* |
| [11208](#L11208) | \* Build the query params for content types. |
| [11209](#L11209) | \* |
| [11210](#L11210) | \* @param {Object} alm  The ALM object. |
| [11211](#L11211) | \* @param {string} type The query type. |
| [11212](#L11212) | \* @return {Object}     The query params. |
| [11213](#L11213) | \*/ |
| [11214](#L11214) | function getTypeParams(alm, type) { |
| [11215](#L11215) | var addons = alm.addons, |
| [11216](#L11216) | extensions = alm.extensions; |
| [11217](#L11217) | switch (type) { |
| [11218](#L11218) | case 'acf': |
| [11219](#L11219) | return { |
| [11220](#L11220) | acf: 'true', |
| [11221](#L11221) | post\_id: extensions.acf\_post\_id, |
| [11222](#L11222) | field\_type: extensions.acf\_field\_type, |
| [11223](#L11223) | field\_name: extensions.acf\_field\_name, |
| [11224](#L11224) | parent\_field\_name: extensions.acf\_parent\_field\_name, |
| [11225](#L11225) | row\_index: extensions.acf\_row\_index |
| [11226](#L11226) | }; |
| [11227](#L11227) | case 'comments': |
| [11228](#L11228) | return { |
| [11229](#L11229) | comments: 'true', |
| [11230](#L11230) | post\_id: addons.comments\_post\_id, |
| [11231](#L11231) | per\_page: addons.comments\_per\_page, |
| [11232](#L11232) | type: addons.comments\_type, |
| [11233](#L11233) | style: addons.comments\_style, |
| [11234](#L11234) | template: addons.comments\_template, |
| [11235](#L11235) | callback: addons.comments\_callback |
| [11236](#L11236) | }; |
| [11237](#L11237) | case 'cta': |
| [11238](#L11238) | return { |
| [11239](#L11239) | cta: 'true', |
| [11240](#L11240) | cta\_position: addons.cta\_position, |
| [11241](#L11241) | cta\_repeater: addons.cta\_repeater, |
| [11242](#L11242) | cta\_theme\_repeater: addons.cta\_theme\_repeater |
| [11243](#L11243) | }; |
| [11244](#L11244) | case 'nextpage': |
| [11245](#L11245) | return { |
| [11246](#L11246) | nextpage: 'true', |
| [11247](#L11247) | urls: addons.nextpage\_urls, |
| [11248](#L11248) | scroll: addons.nextpage\_scroll, |
| [11249](#L11249) | post\_id: addons.nextpage\_post\_id, |
| [11250](#L11250) | startpage: addons.nextpage\_startpage, |
| [11251](#L11251) | nested: alm.nested |
| [11252](#L11252) | }; |
| [11253](#L11253) | case 'single\_post': |
| [11254](#L11254) | return { |
| [11255](#L11255) | single\_post: 'true', |
| [11256](#L11256) | id: addons.single\_post\_id, |
| [11257](#L11257) | slug: addons.single\_post\_slug |
| [11258](#L11258) | }; |
| [11259](#L11259) | case 'term\_query': |
| [11260](#L11260) | return { |
| [11261](#L11261) | term\_query: 'true', |
| [11262](#L11262) | taxonomy: extensions.term\_query\_taxonomy, |
| [11263](#L11263) | hide\_empty: extensions.term\_query\_hide\_empty, |
| [11264](#L11264) | number: extensions.term\_query\_number |
| [11265](#L11265) | }; |
| [11266](#L11266) | case 'users': |
| [11267](#L11267) | return { |
| [11268](#L11268) | users: 'true', |
| [11269](#L11269) | role: alm.listing.dataset.usersRole, |
| [11270](#L11270) | include: alm.listing.dataset.usersInclude, |
| [11271](#L11271) | exclude: alm.listing.dataset.usersExclude, |
| [11272](#L11272) | per\_page: alm.posts\_per\_page, |
| [11273](#L11273) | order: alm.listing.dataset.usersOrder, |
| [11274](#L11274) | orderby: alm.listing.dataset.usersOrderby |
| [11275](#L11275) | }; |
| [11276](#L11276) | } |
| [11277](#L11277) | } |
| [11278](#L11278) |  |
| [11279](#L11279) | /\*\* |
| [11280](#L11280) | \* Build the REST API data object to send with REST API request. |
| [11281](#L11281) | \* |
| [11282](#L11282) | \* @param {Object} alm The ALM object. |
| [11283](#L11283) | \* @return {Object}    The data object. |
| [11284](#L11284) | \* @since 3.6 |
| [11285](#L11285) | \*/ |
| [11286](#L11286) | function getRestAPIParams(alm) { |
| [11287](#L11287) | var data = { |
| [11288](#L11288) | id: alm.id, |
| [11289](#L11289) | post\_id: parseInt(alm.post\_id), |
| [11290](#L11290) | posts\_per\_page: alm.posts\_per\_page, |
| [11291](#L11291) | page: alm.page, |
| [11292](#L11292) | offset: alm.offset, |
| [11293](#L11293) | slug: alm.slug, |
| [11294](#L11294) | canonical\_url: encodeURIComponent(alm.canonical\_url), |
| [11295](#L11295) | post\_type: alm.post\_type, |
| [11296](#L11296) | post\_format: alm.listing.dataset.postFormat, |
| [11297](#L11297) | category: alm.listing.dataset.category, |
| [11298](#L11298) | category\_\_not\_in: alm.listing.dataset.categoryNotIn, |
| [11299](#L11299) | tag: alm.listing.dataset.tag, |
| [11300](#L11300) | tag\_\_not\_in: alm.listing.dataset.tagNotIn, |
| [11301](#L11301) | taxonomy: alm.listing.dataset.taxonomy, |
| [11302](#L11302) | taxonomy\_terms: alm.listing.dataset.taxonomyTerms, |
| [11303](#L11303) | taxonomy\_operator: alm.listing.dataset.taxonomyOperator, |
| [11304](#L11304) | taxonomy\_relation: alm.listing.dataset.taxonomyRelation, |
| [11305](#L11305) | meta\_key: alm.listing.dataset.metaKey, |
| [11306](#L11306) | meta\_value: alm.listing.dataset.metaValue, |
| [11307](#L11307) | meta\_compare: alm.listing.dataset.metaCompare, |
| [11308](#L11308) | meta\_relation: alm.listing.dataset.metaRelation, |
| [11309](#L11309) | meta\_type: alm.listing.dataset.metaType, |
| [11310](#L11310) | author: alm.listing.dataset.author, |
| [11311](#L11311) | year: alm.listing.dataset.year, |
| [11312](#L11312) | month: alm.listing.dataset.month, |
| [11313](#L11313) | day: alm.listing.dataset.day, |
| [11314](#L11314) | post\_status: alm.listing.dataset.postStatus, |
| [11315](#L11315) | order: alm.listing.dataset.order, |
| [11316](#L11316) | orderby: alm.listing.dataset.orderby, |
| [11317](#L11317) | post\_\_in: alm.listing.dataset.postIn, |
| [11318](#L11318) | post\_\_not\_in: alm.listing.dataset.postNotIn, |
| [11319](#L11319) | search: alm.listing.dataset.search, |
| [11320](#L11320) | s: alm.listing.dataset.s, |
| [11321](#L11321) | custom\_args: alm.listing.dataset.customArgs, |
| [11322](#L11322) | vars: alm.listing.dataset.vars, |
| [11323](#L11323) | lang: alm.lang, |
| [11324](#L11324) | preloaded: alm.addons.preloaded, |
| [11325](#L11325) | preloaded\_amount: alm.addons.preloaded\_amount, |
| [11326](#L11326) | seo\_start\_page: alm.start\_page |
| [11327](#L11327) | }; |
| [11328](#L11328) | return data; |
| [11329](#L11329) | } |
| [11330](#L11330) | ;// CONCATENATED MODULE: ./src/frontend/js/functions/windowResize.js |
| [11331](#L11331) | /\*\* |
| [11332](#L11332) | \* Trigger a window resize browser function. |
| [11333](#L11333) | \* |
| [11334](#L11334) | \* @since 5.3.1 |
| [11335](#L11335) | \*/ |
| [11336](#L11336) | function triggerWindowResize() { |
| [11337](#L11337) | if (typeof Event === 'function') { |
| [11338](#L11338) | // Modern browsers. |
| [11339](#L11339) | window.dispatchEvent(new Event('resize')); |
| [11340](#L11340) | } else { |
| [11341](#L11341) | // Executed on old browsers and especially IE. |
| [11342](#L11342) | var resizeEvent = window.document.createEvent('UIEvents'); |
| [11343](#L11343) | resizeEvent.initUIEvent('resize', true, false, window, 0); |
| [11344](#L11344) | window.dispatchEvent(resizeEvent); |
| [11345](#L11345) | } |
| [11346](#L11346) | } |
| [11347](#L11347) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/almDebug.js |
| [11348](#L11348) | /\*\* |
| [11349](#L11349) | \* Display Ajax Load More debug results. |
| [11350](#L11350) | \* |
| [11351](#L11351) | \* @see https://connekthq.com/plugins/ajax-load-more/docs/filter-hooks/#alm\_debug |
| [11352](#L11352) | \* @param {Object} alm ALM object. |
| [11353](#L11353) | \* @since 5.1.6 |
| [11354](#L11354) | \*/ |
| [11355](#L11355) | function almDebug(alm) { |
| [11356](#L11356) | if (alm && alm.debug) { |
| [11357](#L11357) | var obj = { |
| [11358](#L11358) | query: alm.debug, |
| [11359](#L11359) | localize: alm.localize |
| [11360](#L11360) | }; |
| [11361](#L11361) | console.log('ALM Debug:', obj); // eslint-disable-line no-console |
| [11362](#L11362) | } |
| [11363](#L11363) | } |
| [11364](#L11364) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/fade.js |
| [11365](#L11365) | /\*\* |
| [11366](#L11366) | \* Fade element in. |
| [11367](#L11367) | \* |
| [11368](#L11368) | \* @param {HTMLElement} element The HTML element to fade in. |
| [11369](#L11369) | \* @param {number}      speed   The transition speed. |
| [11370](#L11370) | \* @return {Promise}            The Promise object. |
| [11371](#L11371) | \*/ |
| [11372](#L11372) | var almFadeIn = function almFadeIn(element, speed) { |
| [11373](#L11373) | return new Promise(function (resolve) { |
| [11374](#L11374) | if (speed === 0) { |
| [11375](#L11375) | element.style.opacity = 1; |
| [11376](#L11376) | element.style.height = 'auto'; |
| [11377](#L11377) | resolve(true); |
| [11378](#L11378) | } else { |
| [11379](#L11379) | speed = speed / 10; |
| [11380](#L11380) | var op = 0; // initial opacity |
| [11381](#L11381) | var timer = setInterval(function () { |
| [11382](#L11382) | if (op > 0.9) { |
| [11383](#L11383) | element.style.opacity = 1; |
| [11384](#L11384) | resolve(true); |
| [11385](#L11385) | clearInterval(timer); |
| [11386](#L11386) | } |
| [11387](#L11387) | element.style.opacity = op; |
| [11388](#L11388) | op += 0.1; |
| [11389](#L11389) | }, speed); |
| [11390](#L11390) | element.style.height = 'auto'; |
| [11391](#L11391) | } |
| [11392](#L11392) | }); |
| [11393](#L11393) | }; |
| [11394](#L11394) |  |
| [11395](#L11395) | /\*\* |
| [11396](#L11396) | \* Fade element out. |
| [11397](#L11397) | \* |
| [11398](#L11398) | \* @param {HTMLElement} element The HTML element to fade out. |
| [11399](#L11399) | \* @param {number}      speed   The transition speed. |
| [11400](#L11400) | \* @return {Promise}            The Promise object. |
| [11401](#L11401) | \*/ |
| [11402](#L11402) | var almFadeOut = function almFadeOut(element, speed) { |
| [11403](#L11403) | return new Promise(function (resolve) { |
| [11404](#L11404) | speed = speed / 10; |
| [11405](#L11405) | element.style.opacity = 0.5; |
| [11406](#L11406) | var fadeEffect = setInterval(function () { |
| [11407](#L11407) | if (element.style.opacity < 0.1) { |
| [11408](#L11408) | element.style.opacity = 0; |
| [11409](#L11409) | clearInterval(fadeEffect); |
| [11410](#L11410) | resolve(true); |
| [11411](#L11411) | } else { |
| [11412](#L11412) | element.style.opacity -= 0.1; |
| [11413](#L11413) | } |
| [11414](#L11414) | }, speed); |
| [11415](#L11415) | }); |
| [11416](#L11416) | }; |
| [11417](#L11417) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/tableofcontents.js |
| [11418](#L11418) |  |
| [11419](#L11419) |  |
| [11420](#L11420) |  |
| [11421](#L11421) | /\*\* |
| [11422](#L11422) | \* Create a numbered table of contents navigation. |
| [11423](#L11423) | \* |
| [11424](#L11424) | \* @param {Object}  alm            The alm object. |
| [11425](#L11425) | \* @param {boolean} init           Init boolean. |
| [11426](#L11426) | \* @param {boolean} from\_preloaded Preloaded boolean. |
| [11427](#L11427) | \* @since 5.2 |
| [11428](#L11428) | \*/ |
| [11429](#L11429) | function tableOfContents(alm) { |
| [11430](#L11430) | var init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false; |
| [11431](#L11431) | var from\_preloaded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false; |
| [11432](#L11432) | var totalPosts = alm.localize && alm.localize.post\_count ? parseInt(alm.localize.post\_count) : 0; |
| [11433](#L11433) |  |
| [11434](#L11434) | // eslint-disable-next-line eqeqeq |
| [11435](#L11435) | if (totalPosts == 0 && !alm.addons.single\_post) { |
| [11436](#L11436) | // Exit if zero posts and not single posts |
| [11437](#L11437) | return false; |
| [11438](#L11438) | } |
| [11439](#L11439) | if (alm && alm.tableofcontents && alm.transition !== 'masonry') { |
| [11440](#L11440) | var offset = alm.tableofcontents.dataset.offset ? parseInt(alm.tableofcontents.dataset.offset) : 30; |
| [11441](#L11441) | var startPage = alm.start\_page ? parseInt(alm.start\_page) : 0; |
| [11442](#L11442) | var filterStartPage = alm.addons.filters\_startpage ? parseInt(alm.addons.filters\_startpage) : 0; |
| [11443](#L11443) | var nextpageStartPage = alm.addons.nextpage\_startpage ? parseInt(alm.addons.nextpage\_startpage) : 0; |
| [11444](#L11444) | var page = parseInt(alm.page); |
| [11445](#L11445) | var preloaded = alm.addons.preloaded ? true : false; |
| [11446](#L11446) |  |
| [11447](#L11447) | // Exit if Paging or Next Page |
| [11448](#L11448) | if (alm.addons.paging || alm.addons.nextpage) { |
| [11449](#L11449) | return false; |
| [11450](#L11450) | } |
| [11451](#L11451) |  |
| [11452](#L11452) | // Init. |
| [11453](#L11453) | if (init) { |
| [11454](#L11454) | setTimeout(function () { |
| [11455](#L11455) | // Paged results |
| [11456](#L11456) | if (alm.addons.seo && startPage > 1 || alm.addons.filters && filterStartPage > 1 || alm.addons.nextpage && nextpageStartPage > 1) { |
| [11457](#L11457) | // SEO |
| [11458](#L11458) | if (alm.addons.seo && startPage > 1) { |
| [11459](#L11459) | for (var i = 0; i < startPage; i++) { |
| [11460](#L11460) | createTOCButton(alm, i, offset); |
| [11461](#L11461) | } |
| [11462](#L11462) | } |
| [11463](#L11463) | // Filters |
| [11464](#L11464) | if (alm.addons.filters && filterStartPage > 1) { |
| [11465](#L11465) | for (var \_i = 0; \_i < filterStartPage; \_i++) { |
| [11466](#L11466) | createTOCButton(alm, \_i, offset); |
| [11467](#L11467) | } |
| [11468](#L11468) | } |
| [11469](#L11469) | // Nextpage |
| [11470](#L11470) | if (alm.addons.nextpage && nextpageStartPage > 1) { |
| [11471](#L11471) | for (var \_i2 = 0; \_i2 < nextpageStartPage; \_i2++) { |
| [11472](#L11472) | createTOCButton(alm, \_i2, offset); |
| [11473](#L11473) | } |
| [11474](#L11474) | } |
| [11475](#L11475) | } else { |
| [11476](#L11476) | if (!from\_preloaded && preloaded) { |
| [11477](#L11477) | page = page + 1; |
| [11478](#L11478) | } |
| [11479](#L11479) | createTOCButton(alm, page, offset); |
| [11480](#L11480) | } |
| [11481](#L11481) | }, 100); |
| [11482](#L11482) | } else { |
| [11483](#L11483) | // Preloaded |
| [11484](#L11484) | if (preloaded) { |
| [11485](#L11485) | if (alm.addons.seo && startPage > 0) { |
| [11486](#L11486) | page = page; |
| [11487](#L11487) | } else if (alm.addons.filters && filterStartPage > 0) { |
| [11488](#L11488) | page = page; |
| [11489](#L11489) | } else { |
| [11490](#L11490) | page = page + 1; |
| [11491](#L11491) | } |
| [11492](#L11492) | } |
| [11493](#L11493) | createTOCButton(alm, page, offset); |
| [11494](#L11494) | } |
| [11495](#L11495) | } |
| [11496](#L11496) | } |
| [11497](#L11497) |  |
| [11498](#L11498) | /\*\* |
| [11499](#L11499) | \* Clear table of contents. |
| [11500](#L11500) | \*/ |
| [11501](#L11501) | function clearTOC() { |
| [11502](#L11502) | var toc = document.querySelector('.alm-toc'); |
| [11503](#L11503) | if (toc) { |
| [11504](#L11504) | toc.innerHTML = ''; |
| [11505](#L11505) | } |
| [11506](#L11506) | } |
| [11507](#L11507) |  |
| [11508](#L11508) | /\*\* |
| [11509](#L11509) | \* Create Standard Page Button. |
| [11510](#L11510) | \* |
| [11511](#L11511) | \* @param {Object} alm    The alm object. |
| [11512](#L11512) | \* @param {string} page   Current page. |
| [11513](#L11513) | \* @param {number} offset The page offset. |
| [11514](#L11514) | \*/ |
| [11515](#L11515) | function createTOCButton(alm, page, offset) { |
| [11516](#L11516) | if (!alm.tableofcontents) { |
| [11517](#L11517) | return false; |
| [11518](#L11518) | } |
| [11519](#L11519) | page = parseInt(page); |
| [11520](#L11520) | var posts\_per\_page = parseInt(alm.posts\_per\_page); |
| [11521](#L11521) |  |
| [11522](#L11522) | // Create button. |
| [11523](#L11523) | var button = document.createElement('button'); |
| [11524](#L11524) | button.type = 'button'; |
| [11525](#L11525) | button.innerHTML = getTOCLabel(alm, page + 1); |
| [11526](#L11526) | button.dataset.page = alm.addons.single\_post\_target && alm.init ? page - 1 : page + 1; |
| [11527](#L11527) | button.dataset.target = (page + 1) \* posts\_per\_page - posts\_per\_page + 1; |
| [11528](#L11528) |  |
| [11529](#L11529) | // Add button to TOC. |
| [11530](#L11530) | alm.tableofcontents.appendChild(button); |
| [11531](#L11531) |  |
| [11532](#L11532) | // Click event listener. |
| [11533](#L11533) | button.addEventListener('click', function () { |
| [11534](#L11534) | var current = this.dataset.page; |
| [11535](#L11535) | var target = this.dataset.target; |
| [11536](#L11536) |  |
| [11537](#L11537) | // Get all listing children. |
| [11538](#L11538) | var children = alm.listing.children; |
| [11539](#L11539) |  |
| [11540](#L11540) | // Find element. |
| [11541](#L11541) | var element = children[target - 1]; |
| [11542](#L11542) |  |
| [11543](#L11543) | // Next Page. |
| [11544](#L11544) | if (alm.addons.nextpage) { |
| [11545](#L11545) | element = document.querySelector(".alm-nextpage[data-page=\"".concat(current, "\"]")); |
| [11546](#L11546) | } |
| [11547](#L11547) | // Single Posts. |
| [11548](#L11548) | if (alm.addons.single\_post\_target) { |
| [11549](#L11549) | element = document.querySelector(".alm-single-post[data-page=\"".concat(current, "\"]")); |
| [11550](#L11550) | } |
| [11551](#L11551) | if (!element) { |
| [11552](#L11552) | return; // Exit if no target. |
| [11553](#L11553) | } |
| [11554](#L11554) |  |
| [11555](#L11555) | var top = typeof getOffset === 'function' ? getOffset(element).top : element.offsetTop; |
| [11556](#L11556) | almScroll(top - offset); |
| [11557](#L11557) | setTimeout(function () { |
| [11558](#L11558) | setFocus(alm, element, target, false); |
| [11559](#L11559) | }, 500); |
| [11560](#L11560) | }); |
| [11561](#L11561) | } |
| [11562](#L11562) |  |
| [11563](#L11563) | /\*\* |
| [11564](#L11564) | \* Get Button Label. |
| [11565](#L11565) | \* |
| [11566](#L11566) | \* @param {Object} alm  The alm object. |
| [11567](#L11567) | \* @param {string} page The current page. |
| [11568](#L11568) | \* @return {string}     The Label. |
| [11569](#L11569) | \*/ |
| [11570](#L11570) | function getTOCLabel(alm, page) { |
| [11571](#L11571) | var label = page; |
| [11572](#L11572) |  |
| [11573](#L11573) | // Single Posts |
| [11574](#L11574) | if (alm.addons.single\_post) { |
| [11575](#L11575) | var thePage = page - 1; |
| [11576](#L11576) | var element; |
| [11577](#L11577) | if (alm.addons.single\_post\_target) { |
| [11578](#L11578) | // Special functionality for Single Post with a loading target type |
| [11579](#L11579) | if (alm.init) { |
| [11580](#L11580) | thePage = thePage; |
| [11581](#L11581) | } else { |
| [11582](#L11582) | thePage = thePage + 1; |
| [11583](#L11583) | } |
| [11584](#L11584) | var posts = document.querySelectorAll(".alm-single-post"); |
| [11585](#L11585) | if (posts) { |
| [11586](#L11586) | element = posts[thePage]; |
| [11587](#L11587) | } |
| [11588](#L11588) | } else { |
| [11589](#L11589) | element = document.querySelector(".alm-single-post[data-page=".concat(page - 1, "]")); |
| [11590](#L11590) | } |
| [11591](#L11591) | label = element ? element.dataset.title : label; |
| [11592](#L11592) | } |
| [11593](#L11593) |  |
| [11594](#L11594) | // Dynamic function name. |
| [11595](#L11595) | var funcName = "almTOCLabel\_".concat(alm.id); |
| [11596](#L11596) | if (typeof window[funcName] === 'function') { |
| [11597](#L11597) | label = window[funcName](page, label); |
| [11598](#L11598) | } |
| [11599](#L11599) | return label; |
| [11600](#L11600) | } |
| [11601](#L11601) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/filtering.js |
| [11602](#L11602) | function \_slicedToArray(arr, i) { return \_arrayWithHoles(arr) || \_iterableToArrayLimit(arr, i) || filtering\_unsupportedIterableToArray(arr, i) || \_nonIterableRest(); } |
| [11603](#L11603) | function \_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } |
| [11604](#L11604) | function \_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } } |
| [11605](#L11605) | function \_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; } |
| [11606](#L11606) | function filtering\_toConsumableArray(arr) { return filtering\_arrayWithoutHoles(arr) || filtering\_iterableToArray(arr) || filtering\_unsupportedIterableToArray(arr) || filtering\_nonIterableSpread(); } |
| [11607](#L11607) | function filtering\_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } |
| [11608](#L11608) | function filtering\_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return filtering\_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return filtering\_arrayLikeToArray(o, minLen); } |
| [11609](#L11609) | function filtering\_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); } |
| [11610](#L11610) | function filtering\_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return filtering\_arrayLikeToArray(arr); } |
| [11611](#L11611) | function filtering\_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } |
| [11612](#L11612) |  |
| [11613](#L11613) |  |
| [11614](#L11614) |  |
| [11615](#L11615) | /\*\* |
| [11616](#L11616) | \* Filter an Ajax Load More instance. |
| [11617](#L11617) | \* |
| [11618](#L11618) | \* @param {string} transition Transition type. |
| [11619](#L11619) | \* @param {number} speed      Transition speed. |
| [11620](#L11620) | \* @param {Object} data       Data object. |
| [11621](#L11621) | \* @param {string} type       Type of filter. |
| [11622](#L11622) | \* @since 2.6.1 |
| [11623](#L11623) | \*/ |
| [11624](#L11624) | function almFilter(transition) { |
| [11625](#L11625) | var speed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 150; |
| [11626](#L11626) | var data = arguments.length > 2 ? arguments[2] : undefined; |
| [11627](#L11627) | var type = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'filter'; |
| [11628](#L11628) | if (data.target) { |
| [11629](#L11629) | // Target has been specified. |
| [11630](#L11630) | var alm = document.querySelectorAll('.ajax-load-more-wrap[data-id="' + data.target.toLowerCase() + '"]'); |
| [11631](#L11631) | if (alm) { |
| [11632](#L11632) | alm.forEach(function (element) { |
| [11633](#L11633) | almFilterTransition(transition, speed, data, type, element); |
| [11634](#L11634) | }); |
| [11635](#L11635) | } |
| [11636](#L11636) | } else { |
| [11637](#L11637) | // Target not specified. |
| [11638](#L11638) | var \_alm = document.querySelectorAll('.ajax-load-more-wrap'); |
| [11639](#L11639) | if (\_alm) { |
| [11640](#L11640) | \_alm.forEach(function (element) { |
| [11641](#L11641) | almFilterTransition(transition, speed, data, type, element); |
| [11642](#L11642) | }); |
| [11643](#L11643) | } |
| [11644](#L11644) | } |
| [11645](#L11645) | clearTOC(); // Clear table of contents if required |
| [11646](#L11646) | } |
| [11647](#L11647) |  |
| [11648](#L11648) | /\*\* |
| [11649](#L11649) | \* Transition Ajax Load More |
| [11650](#L11650) | \* |
| [11651](#L11651) | \* @param {string}  transition Transition type. |
| [11652](#L11652) | \* @param {number}  speed      Transition speed. |
| [11653](#L11653) | \* @param {Object}  data       Data object. |
| [11654](#L11654) | \* @param {string}  type       Type of filter. |
| [11655](#L11655) | \* @param {Element} element    Target element. |
| [11656](#L11656) | \* @since 2.13.1 |
| [11657](#L11657) | \*/ |
| [11658](#L11658) | function almFilterTransition(transition, speed, data, type, element) { |
| [11659](#L11659) | if (transition === 'fade' || transition === 'masonry') { |
| [11660](#L11660) | // Fade, Masonry transition |
| [11661](#L11661) |  |
| [11662](#L11662) | switch (type) { |
| [11663](#L11663) | case 'filter': |
| [11664](#L11664) | element.classList.add('alm-is-filtering'); |
| [11665](#L11665) | almFadeOut(element, speed); |
| [11666](#L11666) | break; |
| [11667](#L11667) | } |
| [11668](#L11668) |  |
| [11669](#L11669) | // Move to next function |
| [11670](#L11670) | setTimeout(function () { |
| [11671](#L11671) | almCompleteFilterTransition(speed, data, type, element); |
| [11672](#L11672) | }, speed); |
| [11673](#L11673) | } else { |
| [11674](#L11674) | // No transition |
| [11675](#L11675) | element.classList.add('alm-is-filtering'); |
| [11676](#L11676) | almCompleteFilterTransition(speed, data, type, element); |
| [11677](#L11677) | } |
| [11678](#L11678) | } |
| [11679](#L11679) |  |
| [11680](#L11680) | /\*\* |
| [11681](#L11681) | \* Complete the filter transition. |
| [11682](#L11682) | \* |
| [11683](#L11683) | \* @param {number}  speed   Transition speed. |
| [11684](#L11684) | \* @param {Object}  data    Data object. |
| [11685](#L11685) | \* @param {string}  type    Type of filter. |
| [11686](#L11686) | \* @param {Element} element Target element. |
| [11687](#L11687) | \* @since 3.3 |
| [11688](#L11688) | \*/ |
| [11689](#L11689) | function almCompleteFilterTransition(speed, data, type, element) { |
| [11690](#L11690) | var btnWrap = element.querySelector('.alm-btn-wrap'); // Get `.alm-btn-wrap` element |
| [11691](#L11691) | var listing = element.querySelectorAll('.alm-listing'); // Get `.alm-listing` element |
| [11692](#L11692) |  |
| [11693](#L11693) | if (!listing || !btnWrap) { |
| [11694](#L11694) | // Exit if elements doesn't exist. |
| [11695](#L11695) | return false; |
| [11696](#L11696) | } |
| [11697](#L11697) |  |
| [11698](#L11698) | // Loop over all .alm-listing divs and clear HTML. |
| [11699](#L11699) | filtering\_toConsumableArray(listing).forEach(function (element) { |
| [11700](#L11700) | // Is this a paging instance. |
| [11701](#L11701) | var paging = element.querySelector('.alm-paging-content'); |
| [11702](#L11702) | if (paging) { |
| [11703](#L11703) | paging.innerHTML = ''; |
| [11704](#L11704) | } else { |
| [11705](#L11705) | element.innerHTML = ''; |
| [11706](#L11706) | } |
| [11707](#L11707) | }); |
| [11708](#L11708) |  |
| [11709](#L11709) | // Get Load More button |
| [11710](#L11710) | var button = btnWrap.querySelector('.alm-load-more-btn'); |
| [11711](#L11711) | if (button) { |
| [11712](#L11712) | button.classList.remove('done'); // Reset Button |
| [11713](#L11713) | } |
| [11714](#L11714) |  |
| [11715](#L11715) | // Clear paging navigation |
| [11716](#L11716) | var paging = btnWrap.querySelector('.alm-paging'); |
| [11717](#L11717) | if (paging) { |
| [11718](#L11718) | paging.style.opacity = 0; |
| [11719](#L11719) | } |
| [11720](#L11720) |  |
| [11721](#L11721) | // Reset Preloaded Amount |
| [11722](#L11722) | data.preloadedAmount = 0; |
| [11723](#L11723) |  |
| [11724](#L11724) | // Dispatch Filters |
| [11725](#L11725) | almSetFilters(speed, data, type, element); |
| [11726](#L11726) | } |
| [11727](#L11727) |  |
| [11728](#L11728) | /\*\* |
| [11729](#L11729) | \* Set filter parameters on .alm-listing element. |
| [11730](#L11730) | \* |
| [11731](#L11731) | \* @param {number}  speed   Transition speed. |
| [11732](#L11732) | \* @param {Object}  data    Data object. |
| [11733](#L11733) | \* @param {string}  type    Type of filter. |
| [11734](#L11734) | \* @param {Element} element Target element. |
| [11735](#L11735) | \* @since 2.6.1 |
| [11736](#L11736) | \*/ |
| [11737](#L11737) | function almSetFilters(speed, data, type, element) { |
| [11738](#L11738) | // Get `alm-listing` container. |
| [11739](#L11739) | var listing = element.querySelector('.alm-listing') || element.querySelector('.alm-comments'); |
| [11740](#L11740) | if (!listing) { |
| [11741](#L11741) | return false; |
| [11742](#L11742) | } |
| [11743](#L11743) | switch (type) { |
| [11744](#L11744) | case 'filter': |
| [11745](#L11745) | // Update data attributes |
| [11746](#L11746) | for (var \_i = 0, \_Object$entries = Object.entries(data); \_i < \_Object$entries.length; \_i++) { |
| [11747](#L11747) | var \_Object$entries$\_i = \_slicedToArray(\_Object$entries[\_i], 2), |
| [11748](#L11748) | key = \_Object$entries$\_i[0], |
| [11749](#L11749) | value = \_Object$entries$\_i[1]; |
| [11750](#L11750) | // Convert camelCase data atts back to dashes (-). |
| [11751](#L11751) | key = key.replace(/\W+/g, '-').replace(/([a-z\d])([A-Z])/g, '$1-$2').toLowerCase(); |
| [11752](#L11752) | listing.setAttribute('data-' + key, value); |
| [11753](#L11753) | } |
| [11754](#L11754) | // Fade ALM back (Filters only) |
| [11755](#L11755) | almFadeIn(element, speed); |
| [11756](#L11756) | break; |
| [11757](#L11757) | } |
| [11758](#L11758) |  |
| [11759](#L11759) | // Re-initiate Ajax Load More. |
| [11760](#L11760) | var target = ''; |
| [11761](#L11761) | if (data.target) { |
| [11762](#L11762) | // Target has been specified |
| [11763](#L11763) | target = document.querySelector('.ajax-load-more-wrap[data-id="' + data.target + '"]'); |
| [11764](#L11764) | if (target) { |
| [11765](#L11765) | window.almInit(target); |
| [11766](#L11766) | } |
| [11767](#L11767) | } else { |
| [11768](#L11768) | // Target not specified |
| [11769](#L11769) | target = document.querySelector('.ajax-load-more-wrap'); |
| [11770](#L11770) | if (target) { |
| [11771](#L11771) | window.almInit(target); |
| [11772](#L11772) | } |
| [11773](#L11773) | } |
| [11774](#L11774) | switch (type) { |
| [11775](#L11775) | case 'filter': |
| [11776](#L11776) | // Filters Complete (not the add-on) |
| [11777](#L11777) | if (typeof almFilterComplete === 'function') { |
| [11778](#L11778) | // Standard Filtering |
| [11779](#L11779) | almFilterComplete(); |
| [11780](#L11780) | } |
| [11781](#L11781) | break; |
| [11782](#L11782) | } |
| [11783](#L11783) | } |
| [11784](#L11784) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/masonry.js |
| [11785](#L11785) | function masonry\_typeof(o) { "@babel/helpers - typeof"; return masonry\_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, masonry\_typeof(o); } |
| [11786](#L11786) | function masonry\_regeneratorRuntime() { "use strict"; /\*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE \*/ masonry\_regeneratorRuntime = function \_regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "\_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this.\_invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == masonry\_typeof(h) && n.call(h, "\_\_await") ? e.resolve(h.\_\_await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "\_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n.\_sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(masonry\_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.\_\_proto\_\_ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { \_\_await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this.\_sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function \_catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; } |
| [11787](#L11787) | function masonry\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(\_next, \_throw); } } |
| [11788](#L11788) | function masonry\_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function \_next(value) { masonry\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "next", value); } function \_throw(err) { masonry\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "throw", err); } \_next(undefined); }); }; } |
| [11789](#L11789) |  |
| [11790](#L11790) | var masonry\_imagesLoaded = \_\_webpack\_require\_\_(564); |
| [11791](#L11791) |  |
| [11792](#L11792) | /\*\* |
| [11793](#L11793) | \* Function to trigger built-in Ajax Load More Masonry. |
| [11794](#L11794) | \* |
| [11795](#L11795) | \* @param {Object}  alm       ALM object. |
| [11796](#L11796) | \* @param {boolean} init      Initial run true or false. |
| [11797](#L11797) | \* @param {boolean} filtering Is this a filtering event. |
| [11798](#L11798) | \* @since 3.1 |
| [11799](#L11799) | \*/ |
| [11800](#L11800) | function almMasonry(alm, init, filtering) { |
| [11801](#L11801) | if (!alm.masonry) { |
| [11802](#L11802) | console.warn('Ajax Load More: Unable to locate Masonry settings.'); |
| [11803](#L11803) | } |
| [11804](#L11804) | var container = alm.listing, |
| [11805](#L11805) | last\_loaded = alm.last\_loaded, |
| [11806](#L11806) | speed = alm.speed; |
| [11807](#L11807) | return new Promise(function (resolve) { |
| [11808](#L11808) | var \_alm$masonry; |
| [11809](#L11809) | var selector = alm.masonry.selector; |
| [11810](#L11810) | var animation = alm.masonry.animation; |
| [11811](#L11811) | var horizontalOrder = (alm === null || alm === void 0 || (\_alm$masonry = alm.masonry) === null || \_alm$masonry === void 0 ? void 0 : \_alm$masonry.horizontalorder) === 'true' ? true : false; |
| [11812](#L11812) | var masonry\_init = alm.masonry.init; |
| [11813](#L11813) | var columnWidth = alm.masonry.columnwidth; |
| [11814](#L11814) | var duration = (speed + 100) / 1000 + 's'; // Add 100 for some delay |
| [11815](#L11815) | var hidden = 'scale(0.5)'; |
| [11816](#L11816) | var visible = 'scale(1)'; |
| [11817](#L11817) | if (animation === 'zoom-out') { |
| [11818](#L11818) | hidden = 'translateY(-20px) scale(1.25)'; |
| [11819](#L11819) | visible = 'translateY(0) scale(1)'; |
| [11820](#L11820) | } |
| [11821](#L11821) | if (animation === 'slide-up') { |
| [11822](#L11822) | hidden = 'translateY(50px)'; |
| [11823](#L11823) | visible = 'translateY(0)'; |
| [11824](#L11824) | } |
| [11825](#L11825) | if (animation === 'slide-down') { |
| [11826](#L11826) | hidden = 'translateY(-50px)'; |
| [11827](#L11827) | visible = 'translateY(0)'; |
| [11828](#L11828) | } |
| [11829](#L11829) | if (animation === 'none') { |
| [11830](#L11830) | hidden = 'translateY(0)'; |
| [11831](#L11831) | visible = 'translateY(0)'; |
| [11832](#L11832) | } |
| [11833](#L11833) |  |
| [11834](#L11834) | // columnWidth |
| [11835](#L11835) | if (columnWidth) { |
| [11836](#L11836) | if (!isNaN(columnWidth)) { |
| [11837](#L11837) | columnWidth = parseInt(columnWidth); // Check if number. |
| [11838](#L11838) | } |
| [11839](#L11839) | } else { |
| [11840](#L11840) | columnWidth = selector; // No columnWidth, use the selector |
| [11841](#L11841) | } |
| [11842](#L11842) |  |
| [11843](#L11843) | if (!filtering) { |
| [11844](#L11844) | // First Run. |
| [11845](#L11845) | if (masonry\_init && init) { |
| [11846](#L11846) | masonry\_imagesLoaded(container, function () { |
| [11847](#L11847) | var \_window; |
| [11848](#L11848) | var defaults = { |
| [11849](#L11849) | itemSelector: selector, |
| [11850](#L11850) | transitionDuration: duration, |
| [11851](#L11851) | columnWidth: columnWidth, |
| [11852](#L11852) | // eslint-disable-line |
| [11853](#L11853) | horizontalOrder: horizontalOrder, |
| [11854](#L11854) | // eslint-disable-line |
| [11855](#L11855) | hiddenStyle: { |
| [11856](#L11856) | transform: hidden, |
| [11857](#L11857) | opacity: 0 |
| [11858](#L11858) | }, |
| [11859](#L11859) | visibleStyle: { |
| [11860](#L11860) | transform: visible, |
| [11861](#L11861) | opacity: 1 |
| [11862](#L11862) | } |
| [11863](#L11863) | }; |
| [11864](#L11864) |  |
| [11865](#L11865) | // Get custom Masonry options (https://masonry.desandro.com/options.html). |
| [11866](#L11866) | var alm\_masonry\_vars = (\_window = window) === null || \_window === void 0 ? void 0 : \_window.alm\_masonry\_vars; |
| [11867](#L11867) | if (alm\_masonry\_vars) { |
| [11868](#L11868) | Object.keys(alm\_masonry\_vars).forEach(function (key) { |
| [11869](#L11869) | // Loop object    to create key:prop |
| [11870](#L11870) | defaults[key] = alm\_masonry\_vars[key]; |
| [11871](#L11871) | }); |
| [11872](#L11872) | } |
| [11873](#L11873) |  |
| [11874](#L11874) | // Init Masonry, delay to allow time for items to be added to the page. |
| [11875](#L11875) | setTimeout( /\*#\_\_PURE\_\_\*/masonry\_asyncToGenerator( /\*#\_\_PURE\_\_\*/masonry\_regeneratorRuntime().mark(function \_callee() { |
| [11876](#L11876) | return masonry\_regeneratorRuntime().wrap(function \_callee$(\_context) { |
| [11877](#L11877) | while (1) switch (\_context.prev = \_context.next) { |
| [11878](#L11878) | case 0: |
| [11879](#L11879) | alm.msnry = new Masonry(container, defaults); |
| [11880](#L11880) | \_context.next = 3; |
| [11881](#L11881) | return almFadeIn(container.parentNode, 175); |
| [11882](#L11882) | case 3: |
| [11883](#L11883) | resolve(true); |
| [11884](#L11884) | case 4: |
| [11885](#L11885) | case "end": |
| [11886](#L11886) | return \_context.stop(); |
| [11887](#L11887) | } |
| [11888](#L11888) | }, \_callee); |
| [11889](#L11889) | })), 25); |
| [11890](#L11890) | }); |
| [11891](#L11891) | } else { |
| [11892](#L11892) | // Standard / Append content. |
| [11893](#L11893) | // eslint-disable-next-line no-lonely-if |
| [11894](#L11894) | if (last\_loaded) { |
| [11895](#L11895) | // ImagesLoaded & appended. |
| [11896](#L11896) | masonry\_imagesLoaded(container, function () { |
| [11897](#L11897) | setTimeout( /\*#\_\_PURE\_\_\*/masonry\_asyncToGenerator( /\*#\_\_PURE\_\_\*/masonry\_regeneratorRuntime().mark(function \_callee2() { |
| [11898](#L11898) | return masonry\_regeneratorRuntime().wrap(function \_callee2$(\_context2) { |
| [11899](#L11899) | while (1) switch (\_context2.prev = \_context2.next) { |
| [11900](#L11900) | case 0: |
| [11901](#L11901) | alm.msnry.appended(last\_loaded); |
| [11902](#L11902) | resolve(true); |
| [11903](#L11903) | case 2: |
| [11904](#L11904) | case "end": |
| [11905](#L11905) | return \_context2.stop(); |
| [11906](#L11906) | } |
| [11907](#L11907) | }, \_callee2); |
| [11908](#L11908) | })), 25); |
| [11909](#L11909) | }); |
| [11910](#L11910) | } |
| [11911](#L11911) | } |
| [11912](#L11912) | } else { |
| [11913](#L11913) | // Reset instance. |
| [11914](#L11914) | container.parentNode.style.opacity = 0; |
| [11915](#L11915) | almMasonry(alm, true, false); |
| [11916](#L11916) | resolve(true); |
| [11917](#L11917) | } |
| [11918](#L11918) | }); |
| [11919](#L11919) | } |
| [11920](#L11920) |  |
| [11921](#L11921) | /\*\* |
| [11922](#L11922) | \* Set up initial Masonry Configuration. |
| [11923](#L11923) | \* |
| [11924](#L11924) | \* @param {Object} alm ALM Object. |
| [11925](#L11925) | \* @return {Object}    Configuration object. |
| [11926](#L11926) | \*/ |
| [11927](#L11927) | function almMasonryConfig(alm) { |
| [11928](#L11928) | alm.masonry = {}; |
| [11929](#L11929) | alm.masonry.init = true; |
| [11930](#L11930) | if (alm.msnry) { |
| [11931](#L11931) | // destroy masonry if it currently exists. |
| [11932](#L11932) | alm.msnry.destroy(); |
| [11933](#L11933) | } else { |
| [11934](#L11934) | alm.msnry = ''; |
| [11935](#L11935) | } |
| [11936](#L11936) | var masonry\_config = JSON.parse(alm.listing.dataset.masonryConfig); |
| [11937](#L11937) | if (masonry\_config) { |
| [11938](#L11938) | alm.masonry.selector = masonry\_config.selector; |
| [11939](#L11939) | alm.masonry.columnwidth = masonry\_config.columnwidth; |
| [11940](#L11940) | alm.masonry.animation = masonry\_config.animation === '' ? 'standard' : masonry\_config.animation; |
| [11941](#L11941) | alm.masonry.horizontalorder = masonry\_config.horizontalorder === '' ? 'true' : masonry\_config.horizontalorder; |
| [11942](#L11942) | alm.images\_loaded = true; |
| [11943](#L11943) | alm.transition\_delay = 0; |
| [11944](#L11944) | } else { |
| [11945](#L11945) | console.warn('Ajax Load More: Unable to locate Masonry configuration settings.'); |
| [11946](#L11946) | } |
| [11947](#L11947) | return alm; |
| [11948](#L11948) | } |
| [11949](#L11949) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/placeholder.js |
| [11950](#L11950) | function placeholder\_typeof(o) { "@babel/helpers - typeof"; return placeholder\_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, placeholder\_typeof(o); } |
| [11951](#L11951) | function placeholder\_regeneratorRuntime() { "use strict"; /\*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE \*/ placeholder\_regeneratorRuntime = function \_regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "\_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this.\_invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == placeholder\_typeof(h) && n.call(h, "\_\_await") ? e.resolve(h.\_\_await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "\_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n.\_sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(placeholder\_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.\_\_proto\_\_ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { \_\_await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this.\_sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function \_catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; } |
| [11952](#L11952) | function placeholder\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(\_next, \_throw); } } |
| [11953](#L11953) | function placeholder\_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function \_next(value) { placeholder\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "next", value); } function \_throw(err) { placeholder\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "throw", err); } \_next(undefined); }); }; } |
| [11954](#L11954) |  |
| [11955](#L11955) |  |
| [11956](#L11956) | /\*\* |
| [11957](#L11957) | \* Show placeholder div. |
| [11958](#L11958) | \* |
| [11959](#L11959) | \* @param {string} type The direction. |
| [11960](#L11960) | \* @param {Object} alm  The ALM object. |
| [11961](#L11961) | \*/ |
| [11962](#L11962) | function placeholder() { |
| [11963](#L11963) | return \_placeholder.apply(this, arguments); |
| [11964](#L11964) | } |
| [11965](#L11965) | function \_placeholder() { |
| [11966](#L11966) | \_placeholder = placeholder\_asyncToGenerator( /\*#\_\_PURE\_\_\*/placeholder\_regeneratorRuntime().mark(function \_callee() { |
| [11967](#L11967) | var type, |
| [11968](#L11968) | alm, |
| [11969](#L11969) | placeholder, |
| [11970](#L11970) | addons, |
| [11971](#L11971) | rel, |
| [11972](#L11972) | \_args = arguments; |
| [11973](#L11973) | return placeholder\_regeneratorRuntime().wrap(function \_callee$(\_context) { |
| [11974](#L11974) | while (1) switch (\_context.prev = \_context.next) { |
| [11975](#L11975) | case 0: |
| [11976](#L11976) | type = \_args.length > 0 && \_args[0] !== undefined ? \_args[0] : 'show'; |
| [11977](#L11977) | alm = \_args.length > 1 ? \_args[1] : undefined; |
| [11978](#L11978) | placeholder = alm.placeholder, addons = alm.addons, rel = alm.rel; |
| [11979](#L11979) | if (!(!placeholder || addons.paging || rel === 'prev')) { |
| [11980](#L11980) | \_context.next = 5; |
| [11981](#L11981) | break; |
| [11982](#L11982) | } |
| [11983](#L11983) | return \_context.abrupt("return", false); |
| [11984](#L11984) | case 5: |
| [11985](#L11985) | \_context.t0 = type; |
| [11986](#L11986) | \_context.next = \_context.t0 === 'hide' ? 8 : 12; |
| [11987](#L11987) | break; |
| [11988](#L11988) | case 8: |
| [11989](#L11989) | \_context.next = 10; |
| [11990](#L11990) | return almFadeOut(placeholder, 175); |
| [11991](#L11991) | case 10: |
| [11992](#L11992) | setTimeout(function () { |
| [11993](#L11993) | placeholder.style.display = 'none'; |
| [11994](#L11994) | }, 75); |
| [11995](#L11995) | return \_context.abrupt("break", 15); |
| [11996](#L11996) | case 12: |
| [11997](#L11997) | placeholder.style.display = 'block'; |
| [11998](#L11998) | almFadeIn(placeholder, 175); |
| [11999](#L11999) | return \_context.abrupt("break", 15); |
| [12000](#L12000) | case 15: |
| [12001](#L12001) | case "end": |
| [12002](#L12002) | return \_context.stop(); |
| [12003](#L12003) | } |
| [12004](#L12004) | }, \_callee); |
| [12005](#L12005) | })); |
| [12006](#L12006) | return \_placeholder.apply(this, arguments); |
| [12007](#L12007) | } |
| [12008](#L12008) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/resultsText.js |
| [12009](#L12009) |  |
| [12010](#L12010) |  |
| [12011](#L12011) | /\*\* |
| [12012](#L12012) | \* Set the results text if required. |
| [12013](#L12013) | \* |
| [12014](#L12014) | \* @param {Object} alm  ALM object. |
| [12015](#L12015) | \* @param {string} type Type of results. |
| [12016](#L12016) | \* @since 5.1 |
| [12017](#L12017) | \*/ |
| [12018](#L12018) | function almResultsText(alm) { |
| [12019](#L12019) | var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'standard'; |
| [12020](#L12020) | if (!alm.resultsText || alm.nested === 'true') { |
| [12021](#L12021) | return false; |
| [12022](#L12022) | } |
| [12023](#L12023) | var resultsType = type === 'nextpage' || type === 'woocommerce' ? type : 'standard'; |
| [12024](#L12024) | almGetResultsText(alm, resultsType); |
| [12025](#L12025) | } |
| [12026](#L12026) |  |
| [12027](#L12027) | /\*\* |
| [12028](#L12028) | \* Get values for showing results text. |
| [12029](#L12029) | \* |
| [12030](#L12030) | \* @param {Object} alm  ALM object. |
| [12031](#L12031) | \* @param {string} type Type of results. |
| [12032](#L12032) | \* @since 4.1 |
| [12033](#L12033) | \*/ |
| [12034](#L12034) | function almGetResultsText(alm) { |
| [12035](#L12035) | var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'standard'; |
| [12036](#L12036) | if (!alm.resultsText || !alm.localize || alm.nested === 'true') { |
| [12037](#L12037) | return false; |
| [12038](#L12038) | } |
| [12039](#L12039) | var page = 0; |
| [12040](#L12040) | var pages = 0; |
| [12041](#L12041) | var post\_count = 0; |
| [12042](#L12042) | var total\_posts = 0; |
| [12043](#L12043) | var posts\_per\_page = alm.orginal\_posts\_per\_page; |
| [12044](#L12044) | switch (type) { |
| [12045](#L12045) | // Nextpage |
| [12046](#L12046) | case 'nextpage': |
| [12047](#L12047) | page = parseInt(alm.localize.page); |
| [12048](#L12048) | post\_count = page; |
| [12049](#L12049) | pages = parseInt(alm.localize.total\_posts); |
| [12050](#L12050) | total\_posts = parseInt(pages); |
| [12051](#L12051) | almRenderResultsText(alm.resultsText, page, pages, post\_count, total\_posts, posts\_per\_page); |
| [12052](#L12052) | break; |
| [12053](#L12053) |  |
| [12054](#L12054) | // WooCommerce |
| [12055](#L12055) | case 'woocommerce': |
| [12056](#L12056) | // Don't do anything |
| [12057](#L12057) | break; |
| [12058](#L12058) | default: |
| [12059](#L12059) | page = getTotals('page', alm.id); |
| [12060](#L12060) | pages = getTotals('pages', alm.id); |
| [12061](#L12061) | post\_count = getTotals('post\_count', alm.id); |
| [12062](#L12062) | total\_posts = getTotals('total\_posts', alm.id); |
| [12063](#L12063) | almRenderResultsText(alm.resultsText, page, pages, post\_count, total\_posts, posts\_per\_page); |
| [12064](#L12064) | } |
| [12065](#L12065) | } |
| [12066](#L12066) |  |
| [12067](#L12067) | /\*\* |
| [12068](#L12068) | \* Display `Showing {x} of {y} pages` text. |
| [12069](#L12069) | \* |
| [12070](#L12070) | \* @param {Object} alm  ALM object. |
| [12071](#L12071) | \* @param {string} type Type of results. |
| [12072](#L12072) | \* @since 4.1 |
| [12073](#L12073) | \*/ |
| [12074](#L12074) | function almInitResultsText(alm) { |
| [12075](#L12075) | var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'standard'; |
| [12076](#L12076) | if (!alm.resultsText || !alm.localize || alm.nested === 'true') { |
| [12077](#L12077) | return false; |
| [12078](#L12078) | } |
| [12079](#L12079) | var page = 0; |
| [12080](#L12080) | var pages = Math.ceil(alm.localize.total\_posts / alm.orginal\_posts\_per\_page); |
| [12081](#L12081) | var post\_count = parseInt(alm.localize.post\_count); |
| [12082](#L12082) | var total\_posts = parseInt(alm.localize.total\_posts); |
| [12083](#L12083) | switch (type) { |
| [12084](#L12084) | case 'nextpage': |
| [12085](#L12085) | // Nextpage |
| [12086](#L12086) | page = alm.addons.nextpage\_startpage; |
| [12087](#L12087) | post\_count = page; |
| [12088](#L12088) | pages = total\_posts; |
| [12089](#L12089) | almRenderResultsText(alm.resultsText, page, total\_posts, post\_count, total\_posts, alm.posts\_per\_page); |
| [12090](#L12090) | break; |
| [12091](#L12091) | case 'preloaded': |
| [12092](#L12092) | // Preloaded |
| [12093](#L12093) | page = alm.addons.paging && alm.addons.seo ? alm.start\_page + 1 : parseInt(alm.page) + 1; |
| [12094](#L12094) | almRenderResultsText(alm.resultsText, page, pages, post\_count, total\_posts, alm.posts\_per\_page); |
| [12095](#L12095) | break; |
| [12096](#L12096) | case 'woocommerce': |
| [12097](#L12097) | // WooCommerce |
| [12098](#L12098) | // Don't do anything |
| [12099](#L12099) | break; |
| [12100](#L12100) | } |
| [12101](#L12101) | } |
| [12102](#L12102) |  |
| [12103](#L12103) | /\*\* |
| [12104](#L12104) | \* Render `Showing {x} of {y} results` text. |
| [12105](#L12105) | \* |
| [12106](#L12106) | \* @param {Element} el          The results text HTML element. |
| [12107](#L12107) | \* @param {string}  page        The current page number. |
| [12108](#L12108) | \* @param {string}  pages       The total pages. |
| [12109](#L12109) | \* @param {string}  post\_count  Total posts displayed. |
| [12110](#L12110) | \* @param {string}  total\_posts Total amount of posts in query. |
| [12111](#L12111) | \* @param {string}  per\_page    Total amount of posts per page. |
| [12112](#L12112) | \* @since 4.1 |
| [12113](#L12113) | \*/ |
| [12114](#L12114) | var almRenderResultsText = function almRenderResultsText(el, page, pages, post\_count, total\_posts, per\_page) { |
| [12115](#L12115) | el.forEach(function (result) { |
| [12116](#L12116) | pages = parseInt(pages); |
| [12117](#L12117) | var text = pages > 0 ? alm\_localize.results\_text : alm\_localize.no\_results\_text; |
| [12118](#L12118) |  |
| [12119](#L12119) | // Paging add-on. |
| [12120](#L12120) | // Start and End values for posts in view. |
| [12121](#L12121) | var start = page \* per\_page - per\_page + 1; |
| [12122](#L12122) | var end\_val = page \* per\_page; |
| [12123](#L12123) | var end = end\_val <= total\_posts ? end\_val : total\_posts; |
| [12124](#L12124) | if (pages > 0) { |
| [12125](#L12125) | text = text.replace('{num}', "<span class=\"alm-results-num\">".concat(page, "</span>")); // Deprecated |
| [12126](#L12126) | text = text.replace('{page}', "<span class=\"alm-results-page\">".concat(page, "</span>")); |
| [12127](#L12127) | text = text.replace('{start}', "<span class=\"alm-results-start\">".concat(start, "</span>")); |
| [12128](#L12128) | text = text.replace('{end}', "<span class=\"alm-results-start\">".concat(end, "</span>")); |
| [12129](#L12129) | text = text.replace('{total}', "<span class=\"alm-results-total\">".concat(pages, "</span>")); // Deprecated |
| [12130](#L12130) | text = text.replace('{pages}', "<span class=\"alm-results-pages\">".concat(pages, "</span>")); |
| [12131](#L12131) | text = text.replace('{post\_count}', "<span class=\"alm-results-post\_count\">".concat(post\_count, "</span>")); |
| [12132](#L12132) | text = text.replace('{total\_posts}', "<span class=\"alm-results-total\_posts\">".concat(total\_posts, "</span>")); |
| [12133](#L12133) | result.innerHTML = text; |
| [12134](#L12134) | } else { |
| [12135](#L12135) | result.innerHTML = text; |
| [12136](#L12136) | } |
| [12137](#L12137) | }); |
| [12138](#L12138) | }; |
| [12139](#L12139) | ;// CONCATENATED MODULE: ./src/frontend/js/modules/setLocalizedVars.js |
| [12140](#L12140) |  |
| [12141](#L12141) |  |
| [12142](#L12142) | /\*\* |
| [12143](#L12143) | \* Set localized variables |
| [12144](#L12144) | \* |
| [12145](#L12145) | \* @param {Object} alm ALM object |
| [12146](#L12146) | \* @since 4.1 |
| [12147](#L12147) | \*/ |
| [12148](#L12148) | function setLocalizedVars(alm) { |
| [12149](#L12149) | var addons = alm.addons; |
| [12150](#L12150) | return new Promise(function (resolve) { |
| [12151](#L12151) | var type = 'standard'; |
| [12152](#L12152) | if (addons.nextpage) { |
| [12153](#L12153) | // Nextpage |
| [12154](#L12154) | type = 'nextpage'; |
| [12155](#L12155) | if (addons.paging) { |
| [12156](#L12156) | alm.AjaxLoadMore.setLocalizedVar('page', parseInt(alm.page) + 1); |
| [12157](#L12157) | } else { |
| [12158](#L12158) | alm.AjaxLoadMore.setLocalizedVar('page', parseInt(alm.page) + parseInt(addons.nextpage\_startpage) + 1); |
| [12159](#L12159) | } |
| [12160](#L12160) | } else if (addons.woocommerce) { |
| [12161](#L12161) | // WooCommerce |
| [12162](#L12162) | type = 'woocommerce'; |
| [12163](#L12163) | alm.AjaxLoadMore.setLocalizedVar('page', parseInt(alm.page) + 1); |
| [12164](#L12164) | } else { |
| [12165](#L12165) | // Standard ALM. |
| [12166](#L12166) | var page = parseInt(alm.page) + 1 + (addons.preloaded && !addons.paging ? 1 : 0); // Add 1 page for preloaded. |
| [12167](#L12167) | alm.AjaxLoadMore.setLocalizedVar('page', parseInt(page)); |
| [12168](#L12168) | var pages = Math.ceil(alm.totalposts / alm.orginal\_posts\_per\_page); |
| [12169](#L12169) | alm.AjaxLoadMore.setLocalizedVar('pages', parseInt(pages)); |
| [12170](#L12170) | } |
| [12171](#L12171) |  |
| [12172](#L12172) | // Total Posts `total\_posts`. |
| [12173](#L12173) | // Only update if !preloaded && !nextpage && !woocommerce |
| [12174](#L12174) | if (addons.preloaded !== 'true' && !addons.nextpage && !addons.woocommerce) { |
| [12175](#L12175) | alm.AjaxLoadMore.setLocalizedVar('total\_posts', alm.totalposts); |
| [12176](#L12176) | } |
| [12177](#L12177) |  |
| [12178](#L12178) | // Viewing count. |
| [12179](#L12179) | alm.AjaxLoadMore.setLocalizedVar('post\_count', getPostCount(alm)); |
| [12180](#L12180) |  |
| [12181](#L12181) | // Set Results Text (if required). |
| [12182](#L12182) | almResultsText(alm, type); |
| [12183](#L12183) | resolve(true); |
| [12184](#L12184) | }); |
| [12185](#L12185) | } |
| [12186](#L12186) |  |
| [12187](#L12187) | /\*\* |
| [12188](#L12188) | \* Get total post\_count. |
| [12189](#L12189) | \* |
| [12190](#L12190) | \* @param {Object} alm ALM object. |
| [12191](#L12191) | \* @return {number}    Total post count. |
| [12192](#L12192) | \*/ |
| [12193](#L12193) | function getPostCount(alm) { |
| [12194](#L12194) | var postcount = alm.postcount, |
| [12195](#L12195) | addons = alm.addons, |
| [12196](#L12196) | start\_page = alm.start\_page; |
| [12197](#L12197) | var preloaded\_amount = addons.preloaded\_amount; |
| [12198](#L12198) |  |
| [12199](#L12199) | // Construct post count. |
| [12200](#L12200) | var count = parseInt(postcount) + parseInt(preloaded\_amount); |
| [12201](#L12201) | count = start\_page > 1 ? count - parseInt(preloaded\_amount) : count; // SEO |
| [12202](#L12202) | count = addons.filters\_startpage > 1 ? count - parseInt(preloaded\_amount) : count; // Filters |
| [12203](#L12203) | count = addons.single\_post ? count + 1 : count; // Single Posts |
| [12204](#L12204) | count = addons.nextpage ? count + 1 : count; // Next Page |
| [12205](#L12205) |  |
| [12206](#L12206) | return count; |
| [12207](#L12207) | } |
| [12208](#L12208) | ;// CONCATENATED MODULE: ./src/frontend/js/ajax-load-more.js |
| [12209](#L12209) | function ajax\_load\_more\_typeof(o) { "@babel/helpers - typeof"; return ajax\_load\_more\_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, ajax\_load\_more\_typeof(o); } |
| [12210](#L12210) | function ajax\_load\_more\_regeneratorRuntime() { "use strict"; /\*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE \*/ ajax\_load\_more\_regeneratorRuntime = function \_regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "\_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this.\_invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == ajax\_load\_more\_typeof(h) && n.call(h, "\_\_await") ? e.resolve(h.\_\_await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "\_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n.\_sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(ajax\_load\_more\_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.\_\_proto\_\_ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { \_\_await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this.\_sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function \_catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; } |
| [12211](#L12211) | function ajax\_load\_more\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(\_next, \_throw); } } |
| [12212](#L12212) | function ajax\_load\_more\_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function \_next(value) { ajax\_load\_more\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "next", value); } function \_throw(err) { ajax\_load\_more\_asyncGeneratorStep(gen, resolve, reject, \_next, \_throw, "throw", err); } \_next(undefined); }); }; } |
| [12213](#L12213) | function ajax\_load\_more\_toConsumableArray(arr) { return ajax\_load\_more\_arrayWithoutHoles(arr) || ajax\_load\_more\_iterableToArray(arr) || ajax\_load\_more\_unsupportedIterableToArray(arr) || ajax\_load\_more\_nonIterableSpread(); } |
| [12214](#L12214) | function ajax\_load\_more\_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } |
| [12215](#L12215) | function ajax\_load\_more\_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return ajax\_load\_more\_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return ajax\_load\_more\_arrayLikeToArray(o, minLen); } |
| [12216](#L12216) | function ajax\_load\_more\_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); } |
| [12217](#L12217) | function ajax\_load\_more\_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return ajax\_load\_more\_arrayLikeToArray(arr); } |
| [12218](#L12218) | function ajax\_load\_more\_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } |
| [12219](#L12219) | // ALM Modules |
| [12220](#L12220) |  |
| [12221](#L12221) |  |
| [12222](#L12222) |  |
| [12223](#L12223) |  |
| [12224](#L12224) |  |
| [12225](#L12225) |  |
| [12226](#L12226) |  |
| [12227](#L12227) |  |
| [12228](#L12228) |  |
| [12229](#L12229) |  |
| [12230](#L12230) |  |
| [12231](#L12231) |  |
| [12232](#L12232) |  |
| [12233](#L12233) |  |
| [12234](#L12234) |  |
| [12235](#L12235) |  |
| [12236](#L12236) |  |
| [12237](#L12237) |  |
| [12238](#L12238) |  |
| [12239](#L12239) |  |
| [12240](#L12240) |  |
| [12241](#L12241) |  |
| [12242](#L12242) |  |
| [12243](#L12243) |  |
| [12244](#L12244) |  |
| [12245](#L12245) |  |
| [12246](#L12246) |  |
| [12247](#L12247) |  |
| [12248](#L12248) |  |
| [12249](#L12249) |  |
| [12250](#L12250) |  |
| [12251](#L12251) |  |
| [12252](#L12252) |  |
| [12253](#L12253) |  |
| [12254](#L12254) | // External packages. |
| [12255](#L12255) | var qs = \_\_webpack\_require\_\_(129); |
| [12256](#L12256) | var ajax\_load\_more\_imagesLoaded = \_\_webpack\_require\_\_(564); |
| [12257](#L12257) |  |
| [12258](#L12258) | // Axios Config. |
| [12259](#L12259) | lib\_axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'; |
| [12260](#L12260) |  |
| [12261](#L12261) | // Axios Interceptor for nested data objects |
| [12262](#L12262) | lib\_axios.interceptors.request.use(function (config) { |
| [12263](#L12263) | config.paramsSerializer = function (params) { |
| [12264](#L12264) | // Qs is already included in the Axios package |
| [12265](#L12265) | return qs.stringify(params, { |
| [12266](#L12266) | arrayFormat: 'brackets', |
| [12267](#L12267) | encode: false |
| [12268](#L12268) | }); |
| [12269](#L12269) | }; |
| [12270](#L12270) | return config; |
| [12271](#L12271) | }); |
| [12272](#L12272) |  |
| [12273](#L12273) | // Focus Polyfill. |
| [12274](#L12274) | \_\_webpack\_require\_\_(334); |
| [12275](#L12275) |  |
| [12276](#L12276) | // Global filtering state. |
| [12277](#L12277) | var alm\_is\_filtering = false; |
| [12278](#L12278) |  |
| [12279](#L12279) | // Start ALM |
| [12280](#L12280) | (function () { |
| [12281](#L12281) | 'use strict'; |
| [12282](#L12282) |  |
| [12283](#L12283) | /\*\* |
| [12284](#L12284) | \* Initiate Ajax Load More. |
| [12285](#L12285) | \* |
| [12286](#L12286) | \* @param {Element} el    The Ajax Load More DOM element/container. |
| [12287](#L12287) | \* @param {number}  index The current index number of the Ajax Load More instance. |
| [12288](#L12288) | \*/ |
| [12289](#L12289) | var ajaxloadmore = function ajaxloadmore(el, index) { |
| [12290](#L12290) | var \_alm\_localize, \_el$dataset, \_alm, \_alm2, \_alm3, \_alm4, \_alm5, \_alm6, \_alm\_localize2, \_alm7, \_alm8, \_alm9, \_alm10, \_alm11, \_alm12, \_alm13, \_alm14, \_alm15, \_alm16, \_alm\_localize3, \_alm17, \_alm18, \_alm19, \_alm20, \_alm21, \_alm22; |
| [12291](#L12291) | // Move user to top of page to prevent loading of unnessasry posts |
| [12292](#L12292) | if (((\_alm\_localize = alm\_localize) === null || \_alm\_localize === void 0 ? void 0 : \_alm\_localize.scrolltop) === 'true') { |
| [12293](#L12293) | window.scrollTo(0, 0); |
| [12294](#L12294) | } |
| [12295](#L12295) |  |
| [12296](#L12296) | // Set ALM Variables |
| [12297](#L12297) | var alm = this; |
| [12298](#L12298) | alm.AjaxLoadMore = {}; |
| [12299](#L12299) | alm.addons = {}; |
| [12300](#L12300) | alm.extensions = {}; |
| [12301](#L12301) | alm.integration = {}; |
| [12302](#L12302) | alm.window = window; |
| [12303](#L12303) | alm.page = 0; |
| [12304](#L12304) | alm.postcount = 0; |
| [12305](#L12305) | alm.totalposts = 0; |
| [12306](#L12306) | alm.proceed = false; |
| [12307](#L12307) | alm.disable\_ajax = false; |
| [12308](#L12308) | alm.init = true; |
| [12309](#L12309) | alm.loading = true; |
| [12310](#L12310) | alm.finished = false; |
| [12311](#L12311) | alm.timer = null; |
| [12312](#L12312) | alm.rel = 'next'; |
| [12313](#L12313) | alm.ua = window.navigator.userAgent ? window.navigator.userAgent : ''; // Browser User Agent |
| [12314](#L12314) | alm.vendor = window.navigator.vendor ? window.navigator.vendor : ''; // Browser Vendor |
| [12315](#L12315) |  |
| [12316](#L12316) | el.classList.add('alm-' + index); // Add unique classname. |
| [12317](#L12317) | el.setAttribute('data-alm-id', index); // Add unique data id. |
| [12318](#L12318) |  |
| [12319](#L12319) | // The defined or generated ID for the ALM instance. |
| [12320](#L12320) | alm.master\_id = el.dataset.id ? "ajax\_load\_more\_".concat(el.dataset.id) : el.id; |
| [12321](#L12321) | alm.master\_id = alm.master\_id.replace(/-/g, '\_'); |
| [12322](#L12322) |  |
| [12323](#L12323) | // Localized <script/> variables. |
| [12324](#L12324) | alm.localized\_var = "".concat(alm.master\_id, "\_vars"); |
| [12325](#L12325) | alm.localize = window[alm.localized\_var]; |
| [12326](#L12326) | if (!alm.localize) { |
| [12327](#L12327) | window[alm.localized\_var] = {}; // Create empty object if not defined. |
| [12328](#L12328) | alm.localize = window[alm.localized\_var]; |
| [12329](#L12329) | } |
| [12330](#L12330) |  |
| [12331](#L12331) | // Add ALM object to the global window scope. |
| [12332](#L12332) | window[alm.master\_id] = alm; // e.g. window.ajax\_load\_more or window.ajax\_load\_more\_{id} |
| [12333](#L12333) |  |
| [12334](#L12334) | // ALM Element Containers |
| [12335](#L12335) | alm.main = el; // Top level DOM element |
| [12336](#L12336) | alm.listing = el.querySelector('.alm-listing') || el.querySelector('.alm-comments'); |
| [12337](#L12337) | alm.content = alm.listing; |
| [12338](#L12338) | alm.ajax = el.querySelector('.alm-ajax'); |
| [12339](#L12339) | alm.container\_type = alm.listing.dataset.containerType; |
| [12340](#L12340) | alm.loading\_style = alm.listing.dataset.loadingStyle; |
| [12341](#L12341) |  |
| [12342](#L12342) | // Instance Params |
| [12343](#L12343) | alm.canonical\_url = el.dataset.canonicalUrl; |
| [12344](#L12344) | alm.nested = el.dataset.nested ? el.dataset.nested : false; |
| [12345](#L12345) | alm.is\_search = (el === null || el === void 0 || (\_el$dataset = el.dataset) === null || \_el$dataset === void 0 ? void 0 : \_el$dataset.search) === 'true' ? 'true' : false; |
| [12346](#L12346) | alm.search\_value = alm.is\_search === 'true' ? alm.slug : ''; // Convert to value of slug for appending to seo url. |
| [12347](#L12347) | alm.slug = el.dataset.slug; |
| [12348](#L12348) | alm.post\_id = parseInt(el.dataset.postId); |
| [12349](#L12349) | alm.id = el.dataset.id ? el.dataset.id : ''; |
| [12350](#L12350) |  |
| [12351](#L12351) | // Shortcode Params |
| [12352](#L12352) |  |
| [12353](#L12353) | alm.repeater = ((\_alm = alm) === null || \_alm === void 0 || (\_alm = \_alm.listing) === null || \_alm === void 0 || (\_alm = \_alm.dataset) === null || \_alm === void 0 ? void 0 : \_alm.repeater) || 'default'; |
| [12354](#L12354) | alm.theme\_repeater = ((\_alm2 = alm) === null || \_alm2 === void 0 || (\_alm2 = \_alm2.listing) === null || \_alm2 === void 0 || (\_alm2 = \_alm2.dataset) === null || \_alm2 === void 0 ? void 0 : \_alm2.themeRepeater) || false; |
| [12355](#L12355) | alm.post\_type = ((\_alm3 = alm) === null || \_alm3 === void 0 || (\_alm3 = \_alm3.listing) === null || \_alm3 === void 0 || (\_alm3 = \_alm3.dataset) === null || \_alm3 === void 0 ? void 0 : \_alm3.postType) || 'post'; |
| [12356](#L12356) | alm.sticky\_posts = ((\_alm4 = alm) === null || \_alm4 === void 0 || (\_alm4 = \_alm4.listing) === null || \_alm4 === void 0 || (\_alm4 = \_alm4.dataset) === null || \_alm4 === void 0 ? void 0 : \_alm4.stickyPosts) || false; |
| [12357](#L12357) | alm.btnWrap = el.querySelectorAll('.alm-btn-wrap'); // Get all `.alm-button-wrap` divs |
| [12358](#L12358) | alm.btnWrap = ajax\_load\_more\_toConsumableArray(alm.btnWrap); // Convert NodeList to array |
| [12359](#L12359) | alm.btnWrap[alm.btnWrap.length - 1].style.visibility = 'visible'; // Get last element (used for nesting) |
| [12360](#L12360) | alm.trigger = alm.btnWrap[alm.btnWrap.length - 1]; |
| [12361](#L12361) | alm.button = ((\_alm5 = alm) === null || \_alm5 === void 0 || (\_alm5 = \_alm5.trigger) === null || \_alm5 === void 0 ? void 0 : \_alm5.querySelector('button.alm-load-more-btn')) || null; |
| [12362](#L12362) | alm.button\_labels = { |
| [12363](#L12363) | "default": ((\_alm6 = alm) === null || \_alm6 === void 0 || (\_alm6 = \_alm6.listing) === null || \_alm6 === void 0 || (\_alm6 = \_alm6.dataset) === null || \_alm6 === void 0 ? void 0 : \_alm6.buttonLabel) || ((\_alm\_localize2 = alm\_localize) === null || \_alm\_localize2 === void 0 ? void 0 : \_alm\_localize2.button\_label), |
| [12364](#L12364) | loading: ((\_alm7 = alm) === null || \_alm7 === void 0 || (\_alm7 = \_alm7.listing) === null || \_alm7 === void 0 || (\_alm7 = \_alm7.dataset) === null || \_alm7 === void 0 ? void 0 : \_alm7.buttonLoadingLabel) || null, |
| [12365](#L12365) | done: ((\_alm8 = alm) === null || \_alm8 === void 0 || (\_alm8 = \_alm8.listing) === null || \_alm8 === void 0 || (\_alm8 = \_alm8.dataset) === null || \_alm8 === void 0 ? void 0 : \_alm8.buttonDoneLabel) || null |
| [12366](#L12366) | }; |
| [12367](#L12367) | alm.placeholder = alm.main.querySelector('.alm-placeholder') || false; |
| [12368](#L12368) | alm.scroll\_distance = ((\_alm9 = alm) === null || \_alm9 === void 0 || (\_alm9 = \_alm9.listing) === null || \_alm9 === void 0 ? void 0 : \_alm9.dataset.scrollDistance) || 100; |
| [12369](#L12369) | alm.scroll\_container = ((\_alm10 = alm) === null || \_alm10 === void 0 || (\_alm10 = \_alm10.listing) === null || \_alm10 === void 0 ? void 0 : \_alm10.dataset.scrollContainer) || null; |
| [12370](#L12370) | alm.scroll\_direction = ((\_alm11 = alm) === null || \_alm11 === void 0 || (\_alm11 = \_alm11.listing) === null || \_alm11 === void 0 || (\_alm11 = \_alm11.dataset) === null || \_alm11 === void 0 ? void 0 : \_alm11.scrollDirection) || 'vertical'; |
| [12371](#L12371) | alm.max\_pages = (\_alm12 = alm) !== null && \_alm12 !== void 0 && (\_alm12 = \_alm12.listing) !== null && \_alm12 !== void 0 && (\_alm12 = \_alm12.dataset) !== null && \_alm12 !== void 0 && \_alm12.maxPages ? parseInt(alm.listing.dataset.maxPages) : 0; |
| [12372](#L12372) | alm.pause\_override = ((\_alm13 = alm) === null || \_alm13 === void 0 || (\_alm13 = \_alm13.listing) === null || \_alm13 === void 0 || (\_alm13 = \_alm13.dataset) === null || \_alm13 === void 0 ? void 0 : \_alm13.pauseOverride) || false; // true | false |
| [12373](#L12373) | alm.pause = ((\_alm14 = alm) === null || \_alm14 === void 0 || (\_alm14 = \_alm14.listing) === null || \_alm14 === void 0 || (\_alm14 = \_alm14.dataset) === null || \_alm14 === void 0 ? void 0 : \_alm14.pause) || false; // true | false |
| [12374](#L12374) | alm.transition = ((\_alm15 = alm) === null || \_alm15 === void 0 || (\_alm15 = \_alm15.listing) === null || \_alm15 === void 0 || (\_alm15 = \_alm15.dataset) === null || \_alm15 === void 0 ? void 0 : \_alm15.transition) || 'fade'; // Transition |
| [12375](#L12375) | alm.transition\_delay = ((\_alm16 = alm) === null || \_alm16 === void 0 || (\_alm16 = \_alm16.listing) === null || \_alm16 === void 0 || (\_alm16 = \_alm16.dataset) === null || \_alm16 === void 0 ? void 0 : \_alm16.transitionDelay) || 0; |
| [12376](#L12376) | alm.speed = (\_alm\_localize3 = alm\_localize) !== null && \_alm\_localize3 !== void 0 && \_alm\_localize3.speed ? parseInt(alm\_localize.speed) : 250; |
| [12377](#L12377) | alm.images\_loaded = ((\_alm17 = alm) === null || \_alm17 === void 0 || (\_alm17 = \_alm17.listing) === null || \_alm17 === void 0 || (\_alm17 = \_alm17.dataset) === null || \_alm17 === void 0 ? void 0 : \_alm17.imagesLoaded) === 'true'; |
| [12378](#L12378) | alm.destroy\_after = (\_alm18 = alm) !== null && \_alm18 !== void 0 && (\_alm18 = \_alm18.listing) !== null && \_alm18 !== void 0 && (\_alm18 = \_alm18.dataset) !== null && \_alm18 !== void 0 && \_alm18.destroyAfter ? parseInt(alm.listing.dataset.destroyAfter) : false; |
| [12379](#L12379) | alm.lazy\_images = ((\_alm19 = alm) === null || \_alm19 === void 0 || (\_alm19 = \_alm19.listing.dataset) === null || \_alm19 === void 0 ? void 0 : \_alm19.lazyImages) === 'true' ? true : false; |
| [12380](#L12380) | alm.integration.woocommerce = ((\_alm20 = alm) === null || \_alm20 === void 0 || (\_alm20 = \_alm20.listing) === null || \_alm20 === void 0 || (\_alm20 = \_alm20.dataset) === null || \_alm20 === void 0 ? void 0 : \_alm20.woocommerce) === 'true' ? true : false; |
| [12381](#L12381) | alm.scroll = ((\_alm21 = alm) === null || \_alm21 === void 0 || (\_alm21 = \_alm21.listing) === null || \_alm21 === void 0 || (\_alm21 = \_alm21.dataset) === null || \_alm21 === void 0 ? void 0 : \_alm21.scroll) === 'false' ? false : true; |
| [12382](#L12382) | alm.orginal\_posts\_per\_page = parseInt(alm.listing.dataset.postsPerPage); // Used for paging add-on |
| [12383](#L12383) | alm.posts\_per\_page = parseInt(alm.listing.dataset.postsPerPage); |
| [12384](#L12384) | alm.offset = (\_alm22 = alm) !== null && \_alm22 !== void 0 && (\_alm22 = \_alm22.listing) !== null && \_alm22 !== void 0 && (\_alm22 = \_alm22.dataset) !== null && \_alm22 !== void 0 && \_alm22.offset ? parseInt(alm.listing.dataset.offset) : 0; |
| [12385](#L12385) | alm.paged = false; |
| [12386](#L12386) |  |
| [12387](#L12387) | // Add-on Shortcode Params |
| [12388](#L12388) |  |
| [12389](#L12389) | alm = queryLoopCreateParams(alm); // Query Loop add-on |
| [12390](#L12390) | alm = elementorCreateParams(alm); // Elementor add-on |
| [12391](#L12391) | alm = wooCreateParams(alm); // WooCommerce add-on |
| [12392](#L12392) | alm = cacheCreateParams(alm); // Cache add-on |
| [12393](#L12393) | alm = ctaCreateParams(alm); // CTA add-on |
| [12394](#L12394) | alm = nextpageCreateParams(alm); // Nextpage add-on |
| [12395](#L12395) | alm = singlepostsCreateParams(alm); // Single Posts add-on |
| [12396](#L12396) | alm = commentsCreateParams(alm); // Comments add-on |
| [12397](#L12397) | alm = preloadedCreateParams(alm); // Preloaded add-on. |
| [12398](#L12398) | alm = pagingCreateParams(alm); // Paging add-on. |
| [12399](#L12399) | alm = filtersCreateParams(alm); // Filters add-on. |
| [12400](#L12400) | alm = seoCreateParams(alm); // SEO add-on. |
| [12401](#L12401) |  |
| [12402](#L12402) | // Extension Shortcode Params |
| [12403](#L12403) |  |
| [12404](#L12404) | // Users |
| [12405](#L12405) | alm.extensions.users = alm.listing.dataset.users === 'true'; |
| [12406](#L12406) | if (alm.extensions.users) { |
| [12407](#L12407) | // Override paging params for users |
| [12408](#L12408) | alm.orginal\_posts\_per\_page = parseInt(alm.listing.dataset.usersPerPage); |
| [12409](#L12409) | alm.posts\_per\_page = parseInt(alm.listing.dataset.usersPerPage); |
| [12410](#L12410) | } |
| [12411](#L12411) |  |
| [12412](#L12412) | // REST API. |
| [12413](#L12413) | alm.extensions.restapi = alm.listing.dataset.restapi === 'true'; |
| [12414](#L12414) | if (alm.extensions.restapi) { |
| [12415](#L12415) | alm.extensions.restapi\_base\_url = alm.listing.dataset.restapiBaseUrl; |
| [12416](#L12416) | alm.extensions.restapi\_namespace = alm.listing.dataset.restapiNamespace; |
| [12417](#L12417) | alm.extensions.restapi\_endpoint = alm.listing.dataset.restapiEndpoint; |
| [12418](#L12418) | alm.extensions.restapi\_template\_id = alm.listing.dataset.restapiTemplateId; |
| [12419](#L12419) | alm.extensions.restapi\_debug = alm.listing.dataset.restapiDebug; |
| [12420](#L12420) | if (alm.extensions.restapi\_template\_id === '') { |
| [12421](#L12421) | alm.extensions.restapi = false; |
| [12422](#L12422) | } |
| [12423](#L12423) | } |
| [12424](#L12424) |  |
| [12425](#L12425) | // ACF. |
| [12426](#L12426) | alm.extensions.acf = alm.listing.dataset.acf === 'true' ? true : false; |
| [12427](#L12427) | if (alm.extensions.acf) { |
| [12428](#L12428) | alm.extensions.acf\_field\_type = alm.listing.dataset.acfFieldType; |
| [12429](#L12429) | alm.extensions.acf\_field\_name = alm.listing.dataset.acfFieldName; |
| [12430](#L12430) | alm.extensions.acf\_parent\_field\_name = alm.listing.dataset.acfParentFieldName; |
| [12431](#L12431) | alm.extensions.acf\_row\_index = alm.listing.dataset.acfRowIndex; |
| [12432](#L12432) | alm.extensions.acf\_post\_id = alm.listing.dataset.acfPostId; |
| [12433](#L12433) | // if field type, name or post ID is empty. |
| [12434](#L12434) | if (alm.extensions.acf\_field\_type === undefined || alm.extensions.acf\_field\_name === undefined || alm.extensions.acf\_post\_id === undefined) { |
| [12435](#L12435) | alm.extensions.acf = false; |
| [12436](#L12436) | } |
| [12437](#L12437) | } |
| [12438](#L12438) |  |
| [12439](#L12439) | // Term Query. |
| [12440](#L12440) | alm.extensions.term\_query = alm.listing.dataset.termQuery === 'true'; |
| [12441](#L12441) | if (alm.extensions.term\_query) { |
| [12442](#L12442) | alm.extensions.term\_query\_taxonomy = alm.listing.dataset.termQueryTaxonomy; |
| [12443](#L12443) | alm.extensions.term\_query\_hide\_empty = alm.listing.dataset.termQueryHideEmpty; |
| [12444](#L12444) | alm.extensions.term\_query\_number = alm.listing.dataset.termQueryNumber; |
| [12445](#L12445) | } |
| [12446](#L12446) |  |
| [12447](#L12447) | /\* Pause \*/ |
| [12448](#L12448) | if (alm.pause === undefined || alm.addons.seo && alm.start\_page > 1) { |
| [12449](#L12449) | // SEO only. |
| [12450](#L12450) | alm.pause = false; |
| [12451](#L12451) | } |
| [12452](#L12452) | if (alm.addons.preloaded && alm.addons.seo && alm.start\_page > 0) { |
| [12453](#L12453) | // SEO + Preloaded. |
| [12454](#L12454) | alm.pause = false; |
| [12455](#L12455) | } |
| [12456](#L12456) | if (alm.addons.filters && alm.addons.filters\_startpage > 0) { |
| [12457](#L12457) | // Filters. |
| [12458](#L12458) | alm.pause = false; |
| [12459](#L12459) | } |
| [12460](#L12460) | if (alm.addons.preloaded && alm.addons.paging) { |
| [12461](#L12461) | alm.pause = true; |
| [12462](#L12462) | } |
| [12463](#L12463) |  |
| [12464](#L12464) | /\* Max Pages \*/ |
| [12465](#L12465) | alm.max\_pages = alm.max\_pages === undefined || alm.max\_pages === 0 ? 9999 : alm.max\_pages; |
| [12466](#L12466) |  |
| [12467](#L12467) | /\* Scroll Distance \*/ |
| [12468](#L12468) | alm.scroll\_distance = alm.scroll\_distance === undefined ? 100 : alm.scroll\_distance; |
| [12469](#L12469) | alm.scroll\_distance\_perc = false; |
| [12470](#L12470) | if (alm.scroll\_distance.toString().indexOf('%') === -1) { |
| [12471](#L12471) | // Standard scroll\_distance |
| [12472](#L12472) | alm.scroll\_distance = parseInt(alm.scroll\_distance); |
| [12473](#L12473) | } else { |
| [12474](#L12474) | // Percentage scroll\_distance |
| [12475](#L12475) | alm.scroll\_distance\_perc = true; |
| [12476](#L12476) | alm.scroll\_distance\_orig = parseInt(alm.scroll\_distance); |
| [12477](#L12477) | alm.scroll\_distance = getScrollPercentage(alm); |
| [12478](#L12478) | } |
| [12479](#L12479) |  |
| [12480](#L12480) | /\* Masonry \*/ |
| [12481](#L12481) | if (alm.transition === 'masonry') { |
| [12482](#L12482) | alm = almMasonryConfig(alm); |
| [12483](#L12483) | } |
| [12484](#L12484) |  |
| [12485](#L12485) | /\* Paging \*/ |
| [12486](#L12486) | if (alm.addons.paging) { |
| [12487](#L12487) | // Add loading class to main container. |
| [12488](#L12488) | alm.main.classList.add('alm-loading'); |
| [12489](#L12489) | } else { |
| [12490](#L12490) | var almChildren = el.childNodes; // Get child nodes of instance [nodeList] |
| [12491](#L12491) | if (almChildren) { |
| [12492](#L12492) | var almChildArray = ajax\_load\_more\_toConsumableArray(almChildren); // Convert nodeList to array |
| [12493](#L12493) |  |
| [12494](#L12494) | // Filter array to find the `.alm-btn-wrap` div |
| [12495](#L12495) | var btnWrap = almChildArray.filter(function (element) { |
| [12496](#L12496) | if (!element.classList) { |
| [12497](#L12497) | // If not element (#text node) |
| [12498](#L12498) | return false; |
| [12499](#L12499) | } |
| [12500](#L12500) | return element.classList.contains('alm-btn-wrap'); |
| [12501](#L12501) | }); |
| [12502](#L12502) | alm.button = btnWrap ? btnWrap[0].querySelector('.alm-load-more-btn') : container.querySelector('.alm-btn-wrap .alm-load-more-btn'); |
| [12503](#L12503) | } else { |
| [12504](#L12504) | alm.button = container.querySelector('.alm-btn-wrap .alm-load-more-btn'); |
| [12505](#L12505) | } |
| [12506](#L12506) |  |
| [12507](#L12507) | // Reset button state |
| [12508](#L12508) | alm.button.disabled = false; |
| [12509](#L12509) | alm.button.style.display = ''; |
| [12510](#L12510) | } |
| [12511](#L12511) |  |
| [12512](#L12512) | /\*\* |
| [12513](#L12513) | \* No Results. |
| [12514](#L12514) | \* Set template for showing no results HTML. |
| [12515](#L12515) | \*/ |
| [12516](#L12516) | var alm\_no\_results = el.querySelector('.alm-no-results'); |
| [12517](#L12517) | alm.no\_results = alm\_no\_results ? alm\_no\_results.innerHTML : ''; |
| [12518](#L12518) |  |
| [12519](#L12519) | /\*\* |
| [12520](#L12520) | \* Results Text. |
| [12521](#L12521) | \* Render "Showing x of y results" text. |
| [12522](#L12522) | \*/ |
| [12523](#L12523) | if (alm.integration.woocommerce) { |
| [12524](#L12524) | var \_alm23; |
| [12525](#L12525) | // If woocommerce, get the default woocommerce results block |
| [12526](#L12526) | alm.resultsText = document.querySelectorAll('.woocommerce-result-count'); |
| [12527](#L12527) | if (((\_alm23 = alm) === null || \_alm23 === void 0 || (\_alm23 = \_alm23.resultsText) === null || \_alm23 === void 0 ? void 0 : \_alm23.length) < 1) { |
| [12528](#L12528) | alm.resultsText = document.querySelectorAll('.alm-results-text'); |
| [12529](#L12529) | } |
| [12530](#L12530) | } else { |
| [12531](#L12531) | alm.resultsText = document.querySelectorAll('.alm-results-text'); |
| [12532](#L12532) | } |
| [12533](#L12533) | if (alm.resultsText) { |
| [12534](#L12534) | alm.resultsText.forEach(function (results) { |
| [12535](#L12535) | results.setAttribute('aria-live', 'polite'); |
| [12536](#L12536) | results.setAttribute('aria-atomic', 'true'); |
| [12537](#L12537) | }); |
| [12538](#L12538) | } else { |
| [12539](#L12539) | alm.resultsText = false; |
| [12540](#L12540) | } |
| [12541](#L12541) |  |
| [12542](#L12542) | // Table of Contents: Render 1, 2, 3 etc. when pages are loaded |
| [12543](#L12543) | alm.tableofcontents = document.querySelector('.alm-toc') || false; |
| [12544](#L12544) | if (alm.tableofcontents) { |
| [12545](#L12545) | alm.tableofcontents.setAttribute('aria-live', 'polite'); |
| [12546](#L12546) | alm.tableofcontents.setAttribute('aria-atomic', 'true'); |
| [12547](#L12547) | } |
| [12548](#L12548) |  |
| [12549](#L12549) | /\*\* |
| [12550](#L12550) | \* The function to get posts via Ajax/HTTP request. |
| [12551](#L12551) | \* |
| [12552](#L12552) | \* @since 2.0.0 |
| [12553](#L12553) | \*/ |
| [12554](#L12554) | alm.AjaxLoadMore.loadPosts = function () { |
| [12555](#L12555) | if (alm.disable\_ajax) { |
| [12556](#L12556) | return; |
| [12557](#L12557) | } |
| [12558](#L12558) | if (typeof almOnChange === 'function') { |
| [12559](#L12559) | window.almOnChange(alm); |
| [12560](#L12560) | } |
| [12561](#L12561) |  |
| [12562](#L12562) | // Set loading attributes. |
| [12563](#L12563) | alm.loading = true; |
| [12564](#L12564) | alm.main.classList.add('alm-loading'); |
| [12565](#L12565) | placeholder('show', alm); |
| [12566](#L12566) |  |
| [12567](#L12567) | // Add loading styles to buttons. |
| [12568](#L12568) | if (!alm.addons.paging) { |
| [12569](#L12569) | if (alm.rel === 'prev') { |
| [12570](#L12570) | alm.buttonPrev.classList.add('loading'); |
| [12571](#L12571) | } else { |
| [12572](#L12572) | alm.button.classList.add('loading'); |
| [12573](#L12573) | if (alm.button\_labels.loading) { |
| [12574](#L12574) | alm.button.innerHTML = alm.button\_labels.loading; |
| [12575](#L12575) | } |
| [12576](#L12576) | } |
| [12577](#L12577) | } |
| [12578](#L12578) |  |
| [12579](#L12579) | // Dispatch Ajax request. |
| [12580](#L12580) | alm.AjaxLoadMore.ajax(); |
| [12581](#L12581) | }; |
| [12582](#L12582) |  |
| [12583](#L12583) | /\*\* |
| [12584](#L12584) | \* The core Ajax Load More Ajax function. |
| [12585](#L12585) | \* |
| [12586](#L12586) | \* @param {string} type The type of Ajax request [standard|totalposts|totalpages]. |
| [12587](#L12587) | \* @since 2.6.0 |
| [12588](#L12588) | \*/ |
| [12589](#L12589) | alm.AjaxLoadMore.ajax = /\*#\_\_PURE\_\_\*/ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee() { |
| [12590](#L12590) | var type, |
| [12591](#L12591) | \_alm24, |
| [12592](#L12592) | params, |
| [12593](#L12593) | cache, |
| [12594](#L12594) | \_args = arguments; |
| [12595](#L12595) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee$(\_context) { |
| [12596](#L12596) | while (1) switch (\_context.prev = \_context.next) { |
| [12597](#L12597) | case 0: |
| [12598](#L12598) | type = \_args.length > 0 && \_args[0] !== undefined ? \_args[0] : 'standard'; |
| [12599](#L12599) | if (!alm.extensions.restapi) { |
| [12600](#L12600) | \_context.next = 5; |
| [12601](#L12601) | break; |
| [12602](#L12602) | } |
| [12603](#L12603) | alm.AjaxLoadMore.restapi(alm); |
| [12604](#L12604) | \_context.next = 14; |
| [12605](#L12605) | break; |
| [12606](#L12606) | case 5: |
| [12607](#L12607) | // Standard ALM. |
| [12608](#L12608) | params = getAjaxParams(alm, type); // Cache. |
| [12609](#L12609) | if (!((\_alm24 = alm) !== null && \_alm24 !== void 0 && (\_alm24 = \_alm24.addons) !== null && \_alm24 !== void 0 && \_alm24.cache && !['totalposts', 'totalpages'].includes(type))) { |
| [12610](#L12610) | \_context.next = 13; |
| [12611](#L12611) | break; |
| [12612](#L12612) | } |
| [12613](#L12613) | \_context.next = 9; |
| [12614](#L12614) | return getCache(alm, Object.assign({}, params)); |
| [12615](#L12615) | case 9: |
| [12616](#L12616) | cache = \_context.sent; |
| [12617](#L12617) | if (cache) { |
| [12618](#L12618) | alm.AjaxLoadMore.render(cache); |
| [12619](#L12619) | } else { |
| [12620](#L12620) | alm.AjaxLoadMore.adminajax(params, type); |
| [12621](#L12621) | } |
| [12622](#L12622) | \_context.next = 14; |
| [12623](#L12623) | break; |
| [12624](#L12624) | case 13: |
| [12625](#L12625) | alm.AjaxLoadMore.adminajax(params, type); |
| [12626](#L12626) | case 14: |
| [12627](#L12627) | case "end": |
| [12628](#L12628) | return \_context.stop(); |
| [12629](#L12629) | } |
| [12630](#L12630) | }, \_callee); |
| [12631](#L12631) | })); |
| [12632](#L12632) |  |
| [12633](#L12633) | /\*\* |
| [12634](#L12634) | \* Send request to the admin-ajax.php |
| [12635](#L12635) | \* |
| [12636](#L12636) | \* @param {Object} params Query params. |
| [12637](#L12637) | \* @param {string} type   The type of Ajax request [standard|totalposts|totalpages]. |
| [12638](#L12638) | \* @since 5.0.0 |
| [12639](#L12639) | \*/ |
| [12640](#L12640) | alm.AjaxLoadMore.adminajax = /\*#\_\_PURE\_\_\*/function () { |
| [12641](#L12641) | var \_ref2 = ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee2(params, type) { |
| [12642](#L12642) | var \_alm\_localize4, ajaxurl, \_params, \_params$cache\_slug, cache\_slug, data; |
| [12643](#L12643) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee2$(\_context2) { |
| [12644](#L12644) | while (1) switch (\_context2.prev = \_context2.next) { |
| [12645](#L12645) | case 0: |
| [12646](#L12646) | \_alm\_localize4 = alm\_localize, ajaxurl = \_alm\_localize4.ajaxurl; // Get Ajax URL |
| [12647](#L12647) | \_params = params, \_params$cache\_slug = \_params.cache\_slug, cache\_slug = \_params$cache\_slug === void 0 ? '' : \_params$cache\_slug; // Deconstruct query params. |
| [12648](#L12648) | /\*\* |
| [12649](#L12649) | \* Single Posts. |
| [12650](#L12650) | \* If `single\_post\_target`, adjust the Ajax URL to the post URL. |
| [12651](#L12651) | \*/ |
| [12652](#L12652) | if (alm.addons.single\_post && alm.addons.single\_post\_target) { |
| [12653](#L12653) | ajaxurl = "".concat(alm.addons.single\_post\_permalink, "?id=").concat(alm.addons.single\_post\_id, "&alm\_page=").concat(parseInt(alm.page) + 1); |
| [12654](#L12654) | params = ''; |
| [12655](#L12655) | } |
| [12656](#L12656) |  |
| [12657](#L12657) | // Query Loop || WooCommerce || Elementor. |
| [12658](#L12658) | if (alm.addons.queryloop || alm.addons.woocommerce || alm.addons.elementor && alm.addons.elementor\_type === 'posts') { |
| [12659](#L12659) | ajaxurl = getButtonURL(alm, alm.rel); |
| [12660](#L12660) | params = ''; |
| [12661](#L12661) | } |
| [12662](#L12662) |  |
| [12663](#L12663) | // Send HTTP request via axios. |
| [12664](#L12664) | \_context2.next = 6; |
| [12665](#L12665) | return lib\_axios.get(ajaxurl, { |
| [12666](#L12666) | params: params |
| [12667](#L12667) | }).then(function (response) { |
| [12668](#L12668) | if (alm.addons.single\_post && alm.addons.single\_post\_target) { |
| [12669](#L12669) | // Single Posts |
| [12670](#L12670) | return singlepostsHTML(alm, response, cache\_slug); |
| [12671](#L12671) | } else if (alm.addons.woocommerce) { |
| [12672](#L12672) | // WooCommerce. |
| [12673](#L12673) | return wooGetContent(alm, ajaxurl, response, cache\_slug); |
| [12674](#L12674) | } else if (alm.addons.elementor) { |
| [12675](#L12675) | // Elementor |
| [12676](#L12676) | return elementorGetContent(alm, ajaxurl, response, cache\_slug); |
| [12677](#L12677) | } else if (alm.addons.queryloop) { |
| [12678](#L12678) | // Query Loop |
| [12679](#L12679) | return queryLoopGetContent(alm, ajaxurl, response, cache\_slug); |
| [12680](#L12680) | } |
| [12681](#L12681) |  |
| [12682](#L12682) | // Standard ALM - Get data from response. |
| [12683](#L12683) | return response.data; |
| [12684](#L12684) | })["catch"](function (error) { |
| [12685](#L12685) | // Error |
| [12686](#L12686) | alm.AjaxLoadMore.error(error, 'adminajax'); |
| [12687](#L12687) | }); |
| [12688](#L12688) | case 6: |
| [12689](#L12689) | data = \_context2.sent; |
| [12690](#L12690) | \_context2.t0 = type; |
| [12691](#L12691) | \_context2.next = \_context2.t0 === 'standard' ? 10 : \_context2.t0 === 'totalposts' ? 12 : \_context2.t0 === 'totalpages' ? 12 : 14; |
| [12692](#L12692) | break; |
| [12693](#L12693) | case 10: |
| [12694](#L12694) | alm.AjaxLoadMore.render(data); |
| [12695](#L12695) | return \_context2.abrupt("break", 14); |
| [12696](#L12696) | case 12: |
| [12697](#L12697) | if (alm.addons.paging && alm.addons.nextpage && typeof almBuildPagination === 'function') { |
| [12698](#L12698) | window.almBuildPagination(data.totalpages, alm); |
| [12699](#L12699) | alm.totalpages = data.totalpages; |
| [12700](#L12700) | } else { |
| [12701](#L12701) | if (alm.addons.paging && typeof almBuildPagination === 'function') { |
| [12702](#L12702) | window.almBuildPagination(data.totalposts, alm); |
| [12703](#L12703) | } |
| [12704](#L12704) | } |
| [12705](#L12705) | return \_context2.abrupt("break", 14); |
| [12706](#L12706) | case 14: |
| [12707](#L12707) | case "end": |
| [12708](#L12708) | return \_context2.stop(); |
| [12709](#L12709) | } |
| [12710](#L12710) | }, \_callee2); |
| [12711](#L12711) | })); |
| [12712](#L12712) | return function (\_x, \_x2) { |
| [12713](#L12713) | return \_ref2.apply(this, arguments); |
| [12714](#L12714) | }; |
| [12715](#L12715) | }(); |
| [12716](#L12716) |  |
| [12717](#L12717) | /\*\* |
| [12718](#L12718) | \* Send request to the WP REST API |
| [12719](#L12719) | \* |
| [12720](#L12720) | \* @param {Object} alm The Ajax Load More object. |
| [12721](#L12721) | \* @since 5.0.0 |
| [12722](#L12722) | \*/ |
| [12723](#L12723) | alm.AjaxLoadMore.restapi = function (alm) { |
| [12724](#L12724) | var \_alm\_localize5 = alm\_localize, |
| [12725](#L12725) | rest\_api\_url = \_alm\_localize5.rest\_api\_url; // Get Rest API URL |
| [12726](#L12726) | var \_alm$extensions = alm.extensions, |
| [12727](#L12727) | restapi\_base\_url = \_alm$extensions.restapi\_base\_url, |
| [12728](#L12728) | restapi\_namespace = \_alm$extensions.restapi\_namespace, |
| [12729](#L12729) | restapi\_endpoint = \_alm$extensions.restapi\_endpoint, |
| [12730](#L12730) | restapi\_template\_id = \_alm$extensions.restapi\_template\_id; |
| [12731](#L12731) | var alm\_rest\_template = wp.template(restapi\_template\_id); |
| [12732](#L12732) | var alm\_rest\_url = "".concat(rest\_api\_url).concat(restapi\_base\_url, "/").concat(restapi\_namespace, "/").concat(restapi\_endpoint); |
| [12733](#L12733) | var params = getRestAPIParams(alm); |
| [12734](#L12734) | lib\_axios.get(alm\_rest\_url, { |
| [12735](#L12735) | params: params |
| [12736](#L12736) | }).then(function (response) { |
| [12737](#L12737) | // Success |
| [12738](#L12738) | var results = response.data; // Get data from response |
| [12739](#L12739) | var \_results$html = results.html, |
| [12740](#L12740) | items = \_results$html === void 0 ? null : \_results$html, |
| [12741](#L12741) | \_results$meta = results.meta, |
| [12742](#L12742) | meta = \_results$meta === void 0 ? null : \_results$meta; |
| [12743](#L12743) | var postcount = meta && meta.postcount ? meta.postcount : 0; |
| [12744](#L12744) | var totalposts = meta && meta.totalposts ? meta.totalposts : 0; |
| [12745](#L12745) |  |
| [12746](#L12746) | // loop results to get data from each. |
| [12747](#L12747) | var data = ''; |
| [12748](#L12748) | for (var i = 0; i < items.length; i++) { |
| [12749](#L12749) | var result = items[i]; |
| [12750](#L12750) | data += alm\_rest\_template(result); |
| [12751](#L12751) | } |
| [12752](#L12752) |  |
| [12753](#L12753) | // Rest API debug. |
| [12754](#L12754) | if (alm.extensions.restapi\_debug === 'true') { |
| [12755](#L12755) | console.log('ALM RestAPI Debug:', items); // eslint-disable-line no-console |
| [12756](#L12756) | } |
| [12757](#L12757) |  |
| [12758](#L12758) | // Create results object. |
| [12759](#L12759) | var obj = { |
| [12760](#L12760) | html: data, |
| [12761](#L12761) | meta: { |
| [12762](#L12762) | postcount: postcount, |
| [12763](#L12763) | totalposts: totalposts |
| [12764](#L12764) | } |
| [12765](#L12765) | }; |
| [12766](#L12766) | alm.AjaxLoadMore.render(obj); |
| [12767](#L12767) | })["catch"](function (error) { |
| [12768](#L12768) | // Error |
| [12769](#L12769) | alm.AjaxLoadMore.error(error, 'restapi'); |
| [12770](#L12770) | }); |
| [12771](#L12771) | }; |
| [12772](#L12772) |  |
| [12773](#L12773) | /\*\* |
| [12774](#L12774) | \* Display/render results function. |
| [12775](#L12775) | \* |
| [12776](#L12776) | \* @param {Object} data The results of the Ajax request. |
| [12777](#L12777) | \* @since 2.6.0 |
| [12778](#L12778) | \*/ |
| [12779](#L12779) | alm.AjaxLoadMore.render = /\*#\_\_PURE\_\_\*/function () { |
| [12780](#L12780) | var \_ref3 = ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee8(data) { |
| [12781](#L12781) | var \_alm29; |
| [12782](#L12782) | var html, meta, total, totalposts, nodes, temp, paging\_container, currentPage; |
| [12783](#L12783) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee8$(\_context8) { |
| [12784](#L12784) | while (1) switch (\_context8.prev = \_context8.next) { |
| [12785](#L12785) | case 0: |
| [12786](#L12786) | if (alm.addons.single\_post) { |
| [12787](#L12787) | alm.AjaxLoadMore.getSinglePost(); // Fetch  single post data for next post. |
| [12788](#L12788) | } |
| [12789](#L12789) |  |
| [12790](#L12790) | // Parse incoming data. |
| [12791](#L12791) | html = data.html, meta = data.meta; |
| [12792](#L12792) | total = meta ? parseInt(meta.postcount) : parseInt(alm.posts\_per\_page); // Get current post counts. |
| [12793](#L12793) | totalposts = typeof meta !== 'undefined' ? meta.totalposts : alm.posts\_per\_page \* 5; |
| [12794](#L12794) | alm.totalposts = totalposts; |
| [12795](#L12795) | alm.postcount = alm.addons.paging ? total : alm.postcount + total; |
| [12796](#L12796) |  |
| [12797](#L12797) | // Set alm.html as plain text return. |
| [12798](#L12798) | alm.html = alm.container\_type === 'table' ? html : html; |
| [12799](#L12799) | if (!meta) { |
| [12800](#L12800) | // Display warning if `meta` is missing from response. |
| [12801](#L12801) | console.warn('Ajax Load More: Unable to access `meta` object in Ajax response. There may be an issue in your Repeater Template or another theme/plugin hook causing interference with the Ajax request.'); |
| [12802](#L12802) | } |
| [12803](#L12803) |  |
| [12804](#L12804) | // ALM Init: First run only. |
| [12805](#L12805) | if (alm.init) { |
| [12806](#L12806) | if (meta) { |
| [12807](#L12807) | alm.main.dataset.totalPosts = meta.totalposts ? meta.totalposts : 0; |
| [12808](#L12808) | } |
| [12809](#L12809) |  |
| [12810](#L12810) | // No Results / ALM Empty. |
| [12811](#L12811) | if (total === 0) { |
| [12812](#L12812) | if (alm.addons.paging && typeof almPagingEmpty === 'function') { |
| [12813](#L12813) | window.almPagingEmpty(alm); |
| [12814](#L12814) | } |
| [12815](#L12815) | if (typeof almEmpty === 'function') { |
| [12816](#L12816) | window.almEmpty(alm); |
| [12817](#L12817) | } |
| [12818](#L12818) | if (alm.no\_results) { |
| [12819](#L12819) | noResults(alm.content, alm.no\_results); |
| [12820](#L12820) | } |
| [12821](#L12821) | } |
| [12822](#L12822) |  |
| [12823](#L12823) | // Paging Add-on. |
| [12824](#L12824) | if (alm.addons.paging) { |
| [12825](#L12825) | // Dispatch call to build pagination. |
| [12826](#L12826) | if (typeof almBuildPagination === 'function') { |
| [12827](#L12827) | window.almBuildPagination(totalposts, alm, false); |
| [12828](#L12828) | } |
| [12829](#L12829) | if (total > 0) { |
| [12830](#L12830) | // Reset container opacity. |
| [12831](#L12831) | alm.addons.paging\_container.style.opacity = 0; |
| [12832](#L12832) |  |
| [12833](#L12833) | // Start paging functionaity. |
| [12834](#L12834) | alm.AjaxLoadMore.pagingInit(); |
| [12835](#L12835) | } |
| [12836](#L12836) | } |
| [12837](#L12837) |  |
| [12838](#L12838) | // SEO Offset. |
| [12839](#L12839) | if (alm.addons.seo && alm.addons.seo\_offset && !alm.addons.paging) { |
| [12840](#L12840) | createSEOOffset(alm); |
| [12841](#L12841) | } |
| [12842](#L12842) |  |
| [12843](#L12843) | /\*\* |
| [12844](#L12844) | \* SEO & Filters add-on. |
| [12845](#L12845) | \* Handle isPaged results. |
| [12846](#L12846) | \*/ |
| [12847](#L12847) | if (alm.paged) { |
| [12848](#L12848) | // Reset the posts\_per\_page value. |
| [12849](#L12849) | if (alm.addons.seo || alm.addons.filters || alm.extensions.users) { |
| [12850](#L12850) | // Reset posts per page value. |
| [12851](#L12851) | alm.posts\_per\_page = alm.orginal\_posts\_per\_page; |
| [12852](#L12852) | } |
| [12853](#L12853) |  |
| [12854](#L12854) | // SEO add-on. |
| [12855](#L12855) | if (alm.addons.seo) { |
| [12856](#L12856) | alm.page = alm.start\_page ? alm.start\_page - 1 : alm.page; // Set new page number. |
| [12857](#L12857) | } |
| [12858](#L12858) |  |
| [12859](#L12859) | // Filters add-on. |
| [12860](#L12860) | if (alm.addons.filters && alm.addons.filters\_startpage > 0) { |
| [12861](#L12861) | alm.page = alm.addons.filters\_startpage - 1; // Set new page number. |
| [12862](#L12862) | } |
| [12863](#L12863) | } |
| [12864](#L12864) | // Filters onLoad |
| [12865](#L12865) | if (typeof almFiltersOnload === 'function') { |
| [12866](#L12866) | window.almFiltersOnload(alm); |
| [12867](#L12867) | } |
| [12868](#L12868) | } |
| [12869](#L12869) | // End ALM Init. |
| [12870](#L12870) |  |
| [12871](#L12871) | /\*\* |
| [12872](#L12872) | \* Set Filter Facets. |
| [12873](#L12873) | \*/ |
| [12874](#L12874) | if (alm.addons.filters && alm.facets && data.facets && typeof almFiltersFacets === 'function') { |
| [12875](#L12875) | window.almFiltersFacets(data.facets); |
| [12876](#L12876) | } |
| [12877](#L12877) |  |
| [12878](#L12878) | /\*\* |
| [12879](#L12879) | \* Display alm\_debug results. |
| [12880](#L12880) | \*/ |
| [12881](#L12881) | almDebug(alm); |
| [12882](#L12882) |  |
| [12883](#L12883) | /\*\* |
| [12884](#L12884) | \* Set localized variables and Results Text. |
| [12885](#L12885) | \*/ |
| [12886](#L12886) | ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee3() { |
| [12887](#L12887) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee3$(\_context3) { |
| [12888](#L12888) | while (1) switch (\_context3.prev = \_context3.next) { |
| [12889](#L12889) | case 0: |
| [12890](#L12890) | \_context3.next = 2; |
| [12891](#L12891) | return setLocalizedVars(alm); |
| [12892](#L12892) | case 2: |
| [12893](#L12893) | case "end": |
| [12894](#L12894) | return \_context3.stop(); |
| [12895](#L12895) | } |
| [12896](#L12896) | }, \_callee3); |
| [12897](#L12897) | }))(); |
| [12898](#L12898) |  |
| [12899](#L12899) | // Get all returned data as an array of DOM nodes. |
| [12900](#L12900) | nodes = alm.container\_type === 'table' ? tableParser(alm.html) : domParser(alm.html); |
| [12901](#L12901) | alm.last\_loaded = nodes; |
| [12902](#L12902) |  |
| [12903](#L12903) | // Render results. |
| [12904](#L12904) | if (!(total > 0)) { |
| [12905](#L12905) | \_context8.next = 52; |
| [12906](#L12906) | break; |
| [12907](#L12907) | } |
| [12908](#L12908) | if (!(alm.addons.woocommerce || alm.addons.elementor || alm.addons.queryloop)) { |
| [12909](#L12909) | \_context8.next = 21; |
| [12910](#L12910) | break; |
| [12911](#L12911) | } |
| [12912](#L12912) | temp = document.createElement('div'); |
| [12913](#L12913) | temp.innerHTML = html; |
| [12914](#L12914) | ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee4() { |
| [12915](#L12915) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee4$(\_context4) { |
| [12916](#L12916) | while (1) switch (\_context4.prev = \_context4.next) { |
| [12917](#L12917) | case 0: |
| [12918](#L12918) | if (!alm.addons.woocommerce) { |
| [12919](#L12919) | \_context4.next = 4; |
| [12920](#L12920) | break; |
| [12921](#L12921) | } |
| [12922](#L12922) | \_context4.next = 3; |
| [12923](#L12923) | return woocommerce(temp, alm); |
| [12924](#L12924) | case 3: |
| [12925](#L12925) | woocommerceLoaded(alm); |
| [12926](#L12926) | case 4: |
| [12927](#L12927) | if (!alm.addons.elementor) { |
| [12928](#L12928) | \_context4.next = 8; |
| [12929](#L12929) | break; |
| [12930](#L12930) | } |
| [12931](#L12931) | \_context4.next = 7; |
| [12932](#L12932) | return elementor(temp, alm); |
| [12933](#L12933) | case 7: |
| [12934](#L12934) | elementorLoaded(alm); |
| [12935](#L12935) | case 8: |
| [12936](#L12936) | if (!alm.addons.queryloop) { |
| [12937](#L12937) | \_context4.next = 12; |
| [12938](#L12938) | break; |
| [12939](#L12939) | } |
| [12940](#L12940) | \_context4.next = 11; |
| [12941](#L12941) | return queryloop(temp, alm); |
| [12942](#L12942) | case 11: |
| [12943](#L12943) | queryloopLoaded(alm); |
| [12944](#L12944) | case 12: |
| [12945](#L12945) | case "end": |
| [12946](#L12946) | return \_context4.stop(); |
| [12947](#L12947) | } |
| [12948](#L12948) | }, \_callee4); |
| [12949](#L12949) | }))()["catch"](function (e) { |
| [12950](#L12950) | if (alm.addons.woocommerce) { |
| [12951](#L12951) | console.warn('Ajax Load More: There was an error loading WooCommerce products.', e); |
| [12952](#L12952) | } |
| [12953](#L12953) | if (alm.addons.elementor) { |
| [12954](#L12954) | console.warn('Ajax Load More: There was an error loading Clementor items.', e); |
| [12955](#L12955) | } |
| [12956](#L12956) | if (alm.addons.queryloop) { |
| [12957](#L12957) | console.warn('Ajax Load More: There was an error loading Query Loop items.', e); |
| [12958](#L12958) | } |
| [12959](#L12959) | }); |
| [12960](#L12960) | alm.init = false; |
| [12961](#L12961) | return \_context8.abrupt("return"); |
| [12962](#L12962) | case 21: |
| [12963](#L12963) | if (alm.addons.paging) { |
| [12964](#L12964) | \_context8.next = 36; |
| [12965](#L12965) | break; |
| [12966](#L12966) | } |
| [12967](#L12967) | /\*\* |
| [12968](#L12968) | \* Infinite Scroll Results. |
| [12969](#L12969) | \*/ |
| [12970](#L12970) | nodes = formatHTML(alm, nodes); |
| [12971](#L12971) | \_context8.t0 = alm.transition; |
| [12972](#L12972) | \_context8.next = \_context8.t0 === 'masonry' ? 26 : 30; |
| [12973](#L12973) | break; |
| [12974](#L12974) | case 26: |
| [12975](#L12975) | \_context8.next = 28; |
| [12976](#L12976) | return displayResults(alm, nodes); |
| [12977](#L12977) | case 28: |
| [12978](#L12978) | // Wrap almMasonry in anonymous async/await function |
| [12979](#L12979) | ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee5() { |
| [12980](#L12980) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee5$(\_context5) { |
| [12981](#L12981) | while (1) switch (\_context5.prev = \_context5.next) { |
| [12982](#L12982) | case 0: |
| [12983](#L12983) | \_context5.next = 2; |
| [12984](#L12984) | return almMasonry(alm, alm.init, alm\_is\_filtering); |
| [12985](#L12985) | case 2: |
| [12986](#L12986) | alm.masonry.init = false; |
| [12987](#L12987) | triggerWindowResize(); |
| [12988](#L12988) |  |
| [12989](#L12989) | // Callback: ALM Complete |
| [12990](#L12990) | if (typeof almComplete === 'function') { |
| [12991](#L12991) | window.almComplete(alm); |
| [12992](#L12992) | } |
| [12993](#L12993) | case 5: |
| [12994](#L12994) | case "end": |
| [12995](#L12995) | return \_context5.stop(); |
| [12996](#L12996) | } |
| [12997](#L12997) | }, \_callee5); |
| [12998](#L12998) | }))()["catch"](function () { |
| [12999](#L12999) | console.error('There was an error with ALM Masonry'); //eslint-disable-line no-console |
| [13000](#L13000) | }); |
| [13001](#L13001) | return \_context8.abrupt("break", 33); |
| [13002](#L13002) | case 30: |
| [13003](#L13003) | \_context8.next = 32; |
| [13004](#L13004) | return displayResults(alm, nodes); |
| [13005](#L13005) | case 32: |
| [13006](#L13006) | return \_context8.abrupt("break", 33); |
| [13007](#L13007) | case 33: |
| [13008](#L13008) | // Infinite Scroll -> Images Loaded: Run complete callbacks and checks. |
| [13009](#L13009) | ajax\_load\_more\_imagesLoaded(alm.listing, function () { |
| [13010](#L13010) | alm.AjaxLoadMore.nested(); // Nested ALM. |
| [13011](#L13011) |  |
| [13012](#L13012) | if (alm\_is\_filtering && alm.addons.filters) { |
| [13013](#L13013) | if (typeof almFiltersAddonComplete === 'function') { |
| [13014](#L13014) | window.almFiltersAddonComplete(el); // Callback: Filters Add-on Complete |
| [13015](#L13015) | } |
| [13016](#L13016) | } |
| [13017](#L13017) |  |
| [13018](#L13018) | if (typeof almComplete === 'function' && alm.transition !== 'masonry') { |
| [13019](#L13019) | window.almComplete(alm); // Callback: ALM Complete |
| [13020](#L13020) | } |
| [13021](#L13021) |  |
| [13022](#L13022) | // Trigger <script /> tags in templates. |
| [13023](#L13023) | modules\_insertScript.init(alm.last\_loaded); |
| [13024](#L13024) |  |
| [13025](#L13025) | // ALM Done. |
| [13026](#L13026) | if (!alm.addons.single\_post) { |
| [13027](#L13027) | if (alm.addons.nextpage) { |
| [13028](#L13028) | var \_alm25, \_alm26; |
| [13029](#L13029) | // Nextpage. |
| [13030](#L13030) | if (((\_alm25 = alm) === null || \_alm25 === void 0 || (\_alm25 = \_alm25.localize) === null || \_alm25 === void 0 ? void 0 : \_alm25.post\_count) + (alm.addons.nextpage\_startpage - 1) >= ((\_alm26 = alm) === null || \_alm26 === void 0 || (\_alm26 = \_alm26.localize) === null || \_alm26 === void 0 ? void 0 : \_alm26.total\_posts)) { |
| [13031](#L13031) | alm.AjaxLoadMore.triggerDone(); |
| [13032](#L13032) | } |
| [13033](#L13033) | } else { |
| [13034](#L13034) | var \_alm27, \_alm28; |
| [13035](#L13035) | if (((\_alm27 = alm) === null || \_alm27 === void 0 || (\_alm27 = \_alm27.localize) === null || \_alm27 === void 0 ? void 0 : \_alm27.post\_count) >= ((\_alm28 = alm) === null || \_alm28 === void 0 || (\_alm28 = \_alm28.localize) === null || \_alm28 === void 0 ? void 0 : \_alm28.total\_posts)) { |
| [13036](#L13036) | alm.AjaxLoadMore.triggerDone(); |
| [13037](#L13037) | } |
| [13038](#L13038) | } |
| [13039](#L13039) | } |
| [13040](#L13040) | alm\_is\_filtering = false; |
| [13041](#L13041) | }); |
| [13042](#L13042) | /\*\* |
| [13043](#L13043) | \* End: Infinite Scroll Results. |
| [13044](#L13044) | \*/ |
| [13045](#L13045) | \_context8.next = 50; |
| [13046](#L13046) | break; |
| [13047](#L13047) | case 36: |
| [13048](#L13048) | /\*\* |
| [13049](#L13049) | \* Paging. |
| [13050](#L13050) | \*/ |
| [13051](#L13051) | paging\_container = alm.addons.paging\_container; |
| [13052](#L13052) | if (!alm.init) { |
| [13053](#L13053) | \_context8.next = 44; |
| [13054](#L13054) | break; |
| [13055](#L13055) | } |
| [13056](#L13056) | if (!paging\_container) { |
| [13057](#L13057) | \_context8.next = 42; |
| [13058](#L13058) | break; |
| [13059](#L13059) | } |
| [13060](#L13060) | \_context8.next = 41; |
| [13061](#L13061) | return displayPagingResults(alm, nodes); |
| [13062](#L13062) | case 41: |
| [13063](#L13063) | // Inject content. |
| [13064](#L13064) |  |
| [13065](#L13065) | // Paging -> Images Loaded: Run complete callbacks and checks. |
| [13066](#L13066) | ajax\_load\_more\_imagesLoaded(paging\_container, /\*#\_\_PURE\_\_\*/ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee6() { |
| [13067](#L13067) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee6$(\_context6) { |
| [13068](#L13068) | while (1) switch (\_context6.prev = \_context6.next) { |
| [13069](#L13069) | case 0: |
| [13070](#L13070) | pagingComplete(alm, alm\_is\_filtering, true); |
| [13071](#L13071) | alm\_is\_filtering = false; |
| [13072](#L13072) | case 2: |
| [13073](#L13073) | case "end": |
| [13074](#L13074) | return \_context6.stop(); |
| [13075](#L13075) | } |
| [13076](#L13076) | }, \_callee6); |
| [13077](#L13077) | }))); |
| [13078](#L13078) | case 42: |
| [13079](#L13079) | \_context8.next = 50; |
| [13080](#L13080) | break; |
| [13081](#L13081) | case 44: |
| [13082](#L13082) | if (!paging\_container) { |
| [13083](#L13083) | \_context8.next = 50; |
| [13084](#L13084) | break; |
| [13085](#L13085) | } |
| [13086](#L13086) | \_context8.next = 47; |
| [13087](#L13087) | return almFadeOut(paging\_container, 250); |
| [13088](#L13088) | case 47: |
| [13089](#L13089) | \_context8.next = 49; |
| [13090](#L13090) | return displayPagingResults(alm, nodes); |
| [13091](#L13091) | case 49: |
| [13092](#L13092) | // Inject content. |
| [13093](#L13093) |  |
| [13094](#L13094) | // Paging -> Images Loaded: Run complete callbacks and checks. |
| [13095](#L13095) | ajax\_load\_more\_imagesLoaded(paging\_container, /\*#\_\_PURE\_\_\*/ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee7() { |
| [13096](#L13096) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee7$(\_context7) { |
| [13097](#L13097) | while (1) switch (\_context7.prev = \_context7.next) { |
| [13098](#L13098) | case 0: |
| [13099](#L13099) | \_context7.next = 2; |
| [13100](#L13100) | return almFadeIn(paging\_container, 250); |
| [13101](#L13101) | case 2: |
| [13102](#L13102) | paging\_container.style.opacity = ''; |
| [13103](#L13103) | pagingComplete(alm, alm\_is\_filtering); |
| [13104](#L13104) | alm\_is\_filtering = false; |
| [13105](#L13105) | case 5: |
| [13106](#L13106) | case "end": |
| [13107](#L13107) | return \_context7.stop(); |
| [13108](#L13108) | } |
| [13109](#L13109) | }, \_callee7); |
| [13110](#L13110) | }))); |
| [13111](#L13111) | case 50: |
| [13112](#L13112) | \_context8.next = 54; |
| [13113](#L13113) | break; |
| [13114](#L13114) | case 52: |
| [13115](#L13115) | /\*\* |
| [13116](#L13116) | \* No results from Ajax. |
| [13117](#L13117) | \*/ |
| [13118](#L13118) | alm.AjaxLoadMore.noresults(); |
| [13119](#L13119) | alm.AjaxLoadMore.transitionEnd(); |
| [13120](#L13120) | case 54: |
| [13121](#L13121) | /\*\* |
| [13122](#L13122) | \* Destroy After |
| [13123](#L13123) | \*/ |
| [13124](#L13124) | if (alm.destroy\_after) { |
| [13125](#L13125) | currentPage = alm.page + 1; // Add 1 because alm.page starts at 0 |
| [13126](#L13126) | currentPage = alm.addons.preloaded ? currentPage++ : currentPage; // Add 1 for preloaded |
| [13127](#L13127) | if (parseInt(currentPage) === parseInt(alm.destroy\_after)) { |
| [13128](#L13128) | alm.AjaxLoadMore.destroyed(); // Disable ALM if page = alm.destroy\_after value. |
| [13129](#L13129) | } |
| [13130](#L13130) | } |
| [13131](#L13131) |  |
| [13132](#L13132) | /\*\* |
| [13133](#L13133) | \* Display Table of Contents |
| [13134](#L13134) | \*/ |
| [13135](#L13135) | tableOfContents(alm, alm.init); |
| [13136](#L13136) |  |
| [13137](#L13137) | /\*\* |
| [13138](#L13138) | \* Set Focus for accessibility. |
| [13139](#L13139) | \*/ |
| [13140](#L13140) | if ((\_alm29 = alm) !== null && \_alm29 !== void 0 && (\_alm29 = \_alm29.last\_loaded) !== null && \_alm29 !== void 0 && \_alm29.length) { |
| [13141](#L13141) | setFocus(alm, alm.last\_loaded[0], total, alm\_is\_filtering); |
| [13142](#L13142) | } |
| [13143](#L13143) | alm.main.classList.remove('alm-is-filtering'); // Remove filtering class. |
| [13144](#L13144) |  |
| [13145](#L13145) | if (alm.init) { |
| [13146](#L13146) | alm.main.classList.add('alm-is-loaded'); // Add loaded class to main container. |
| [13147](#L13147) | } |
| [13148](#L13148) |  |
| [13149](#L13149) | alm.init = false; // Set init flag. |
| [13150](#L13150) | case 60: |
| [13151](#L13151) | case "end": |
| [13152](#L13152) | return \_context8.stop(); |
| [13153](#L13153) | } |
| [13154](#L13154) | }, \_callee8); |
| [13155](#L13155) | })); |
| [13156](#L13156) | return function (\_x3) { |
| [13157](#L13157) | return \_ref3.apply(this, arguments); |
| [13158](#L13158) | }; |
| [13159](#L13159) | }(); |
| [13160](#L13160) |  |
| [13161](#L13161) | /\*\* |
| [13162](#L13162) | \* Function runs when no results are returned. |
| [13163](#L13163) | \* |
| [13164](#L13164) | \* @since 5.3.1 |
| [13165](#L13165) | \*/ |
| [13166](#L13166) | alm.AjaxLoadMore.noresults = function () { |
| [13167](#L13167) | if (!alm.addons.paging) { |
| [13168](#L13168) | var \_alm30, \_alm31; |
| [13169](#L13169) | // Add .done class, reset btn text |
| [13170](#L13170) | (\_alm30 = alm) === null || \_alm30 === void 0 || (\_alm30 = \_alm30.button) === null || \_alm30 === void 0 || (\_alm30 = \_alm30.classList) === null || \_alm30 === void 0 || \_alm30.remove('loading'); |
| [13171](#L13171) | (\_alm31 = alm) === null || \_alm31 === void 0 || (\_alm31 = \_alm31.button) === null || \_alm31 === void 0 || (\_alm31 = \_alm31.classList) === null || \_alm31 === void 0 || \_alm31.add('done'); |
| [13172](#L13172) | alm.AjaxLoadMore.resetBtnText(); |
| [13173](#L13173) | } |
| [13174](#L13174) |  |
| [13175](#L13175) | // Callback: ALM Complete |
| [13176](#L13176) | if (typeof almComplete === 'function' && alm.transition !== 'masonry') { |
| [13177](#L13177) | window.almComplete(alm); |
| [13178](#L13178) | } |
| [13179](#L13179) |  |
| [13180](#L13180) | // Filters Add-on Complete |
| [13181](#L13181) | if (alm\_is\_filtering && alm.addons.filters) { |
| [13182](#L13182) | if (typeof almFiltersAddonComplete === 'function') { |
| [13183](#L13183) | window.almFiltersAddonComplete(el); |
| [13184](#L13184) | } |
| [13185](#L13185) | alm\_is\_filtering = false; |
| [13186](#L13186) | } |
| [13187](#L13187) |  |
| [13188](#L13188) | // Masonry, clear `alm-listing` height. |
| [13189](#L13189) | if (alm.transition === 'masonry') { |
| [13190](#L13190) | alm.content.style.height = 'auto'; |
| [13191](#L13191) | } |
| [13192](#L13192) |  |
| [13193](#L13193) | // ALM Done |
| [13194](#L13194) | alm.AjaxLoadMore.triggerDone(); |
| [13195](#L13195) | }; |
| [13196](#L13196) |  |
| [13197](#L13197) | /\*\* |
| [13198](#L13198) | \* Init Paging + Preloaded add-ons. |
| [13199](#L13199) | \* |
| [13200](#L13200) | \* @param {string} html Results of Ajax request. |
| [13201](#L13201) | \* @since 2.11.3 |
| [13202](#L13202) | \*/ |
| [13203](#L13203) | alm.AjaxLoadMore.pagingPreloadedInit = function () { |
| [13204](#L13204) | var html = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null; |
| [13205](#L13205) | alm.AjaxLoadMore.pagingInit(); // Set up paging functionality. |
| [13206](#L13206) |  |
| [13207](#L13207) | if (!html) { |
| [13208](#L13208) | if (typeof almPagingEmpty === 'function') { |
| [13209](#L13209) | window.almPagingEmpty(alm); |
| [13210](#L13210) | } |
| [13211](#L13211) | if (typeof almEmpty === 'function') { |
| [13212](#L13212) | window.almEmpty(alm); |
| [13213](#L13213) | } |
| [13214](#L13214) | if (alm.no\_results) { |
| [13215](#L13215) | noResults(alm.content, alm.no\_results); |
| [13216](#L13216) | } |
| [13217](#L13217) | } |
| [13218](#L13218) | }; |
| [13219](#L13219) |  |
| [13220](#L13220) | /\*\* |
| [13221](#L13221) | \* Init Paging + Next Page add-ons. |
| [13222](#L13222) | \* |
| [13223](#L13223) | \* @since 2.14.0 |
| [13224](#L13224) | \*/ |
| [13225](#L13225) | alm.AjaxLoadMore.pagingNextpageInit = function () { |
| [13226](#L13226) | alm.AjaxLoadMore.pagingInit(); // Set up paging functionality. |
| [13227](#L13227) |  |
| [13228](#L13228) | if (typeof almSetNextPageVars === 'function') { |
| [13229](#L13229) | window.almSetNextPageVars(alm); // Set up Nextpage Vars. |
| [13230](#L13230) | } |
| [13231](#L13231) | }; |
| [13232](#L13232) |  |
| [13233](#L13233) | /\*\* |
| [13234](#L13234) | \* Paging add-on first to create required containers. |
| [13235](#L13235) | \* |
| [13236](#L13236) | \* @since 5.0 |
| [13237](#L13237) | \*/ |
| [13238](#L13238) | alm.AjaxLoadMore.pagingInit = function () { |
| [13239](#L13239) | var paging\_container = alm.addons.paging\_container; // Get content container. |
| [13240](#L13240) |  |
| [13241](#L13241) | if (paging\_container) { |
| [13242](#L13242) | almFadeIn(paging\_container, 150); // Fade in paging container. |
| [13243](#L13243) |  |
| [13244](#L13244) | // Delay reveal of paging content. |
| [13245](#L13245) | setTimeout(function () { |
| [13246](#L13246) | alm.main.classList.remove('alm-loading'); // Remove `alm-loading` class |
| [13247](#L13247) | }, 150); |
| [13248](#L13248) |  |
| [13249](#L13249) | // Delay initial pagination display to avoid positioning issues. |
| [13250](#L13250) | setTimeout(function () { |
| [13251](#L13251) | paging\_container.style.removeProperty('opacity'); // Remove initial opacity prop. |
| [13252](#L13252) |  |
| [13253](#L13253) | if (typeof almFadePageControls === 'function') { |
| [13254](#L13254) | window.almFadePageControls(alm.btnWrap); // Fade in paging controls. |
| [13255](#L13255) | } |
| [13256](#L13256) |  |
| [13257](#L13257) | if (typeof almPagingSetHeight === 'function') { |
| [13258](#L13258) | window.almPagingSetHeight(paging\_container); // Fade in container height. |
| [13259](#L13259) | } |
| [13260](#L13260) | }, 275); |
| [13261](#L13261) | } |
| [13262](#L13262) | }; |
| [13263](#L13263) |  |
| [13264](#L13264) | /\*\* |
| [13265](#L13265) | \*  Automatically trigger nested ALM instances. |
| [13266](#L13266) | \* |
| [13267](#L13267) | \* @since 5.0 |
| [13268](#L13268) | \*/ |
| [13269](#L13269) | alm.AjaxLoadMore.nested = function () { |
| [13270](#L13270) | var nested = alm.listing.querySelectorAll('.ajax-load-more-wrap:not(.alm-is-loaded)'); // Get all new instances |
| [13271](#L13271) | if (nested) { |
| [13272](#L13272) | ajax\_load\_more\_toConsumableArray(nested).forEach(function (element) { |
| [13273](#L13273) | window.almInit(element); |
| [13274](#L13274) | }); |
| [13275](#L13275) | } |
| [13276](#L13276) | }; |
| [13277](#L13277) |  |
| [13278](#L13278) | /\*\* |
| [13279](#L13279) | \*  Get the Single Posts post ID via ajax. |
| [13280](#L13280) | \* |
| [13281](#L13281) | \*  @since 2.7.4 |
| [13282](#L13282) | \*/ |
| [13283](#L13283) | alm.AjaxLoadMore.getSinglePost = /\*#\_\_PURE\_\_\*/ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee9() { |
| [13284](#L13284) | var params, singlePostData; |
| [13285](#L13285) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee9$(\_context9) { |
| [13286](#L13286) | while (1) switch (\_context9.prev = \_context9.next) { |
| [13287](#L13287) | case 0: |
| [13288](#L13288) | if (!alm.fetchingPreviousPost) { |
| [13289](#L13289) | \_context9.next = 2; |
| [13290](#L13290) | break; |
| [13291](#L13291) | } |
| [13292](#L13292) | return \_context9.abrupt("return"); |
| [13293](#L13293) | case 2: |
| [13294](#L13294) | alm.fetchingPreviousPost = true; // Set loading flag. |
| [13295](#L13295) |  |
| [13296](#L13296) | // Create data params. |
| [13297](#L13297) | params = { |
| [13298](#L13298) | action: 'alm\_get\_single', |
| [13299](#L13299) | id: alm.addons.single\_post\_id, |
| [13300](#L13300) | initial\_id: alm.addons.single\_post\_init\_id, |
| [13301](#L13301) | order: alm.addons.single\_post\_order, |
| [13302](#L13302) | taxonomy: alm.addons.single\_post\_taxonomy, |
| [13303](#L13303) | excluded\_terms: alm.addons.single\_post\_excluded\_terms, |
| [13304](#L13304) | post\_type: alm.post\_type, |
| [13305](#L13305) | init: alm.addons.single\_post\_init |
| [13306](#L13306) | }; // Send HTTP request via Axios. |
| [13307](#L13307) | \_context9.next = 6; |
| [13308](#L13308) | return lib\_axios.get(alm\_localize.ajaxurl, { |
| [13309](#L13309) | params: params |
| [13310](#L13310) | }).then(function (response) { |
| [13311](#L13311) | // Get data from response. |
| [13312](#L13312) | var data = response.data; |
| [13313](#L13313) | if (data.has\_previous\_post) { |
| [13314](#L13314) | alm.listing.dataset.singlePostId = data.prev\_id; // Update single-post-id on instance |
| [13315](#L13315) | alm.addons.single\_post\_id = data.prev\_id; |
| [13316](#L13316) | alm.addons.single\_post\_permalink = data.prev\_permalink; |
| [13317](#L13317) | alm.addons.single\_post\_title = data.prev\_title; |
| [13318](#L13318) | alm.addons.single\_post\_slug = data.prev\_slug; |
| [13319](#L13319) | alm.addons.single\_post\_cache = data.cache; |
| [13320](#L13320) | } else { |
| [13321](#L13321) | alm.addons.single\_post\_cache = false; |
| [13322](#L13322) | if (!data.has\_previous\_post) { |
| [13323](#L13323) | alm.AjaxLoadMore.triggerDone(); |
| [13324](#L13324) | } |
| [13325](#L13325) | } |
| [13326](#L13326) | if (typeof window.almSetSinglePost === 'function') { |
| [13327](#L13327) | window.almSetSinglePost(alm, data.current\_id, data.permalink, data.title); |
| [13328](#L13328) | } |
| [13329](#L13329) | alm.fetchingPreviousPost = false; |
| [13330](#L13330) | alm.addons.single\_post\_init = false; |
| [13331](#L13331) | return data; |
| [13332](#L13332) | })["catch"](function (error) { |
| [13333](#L13333) | // Error |
| [13334](#L13334) | alm.AjaxLoadMore.error(error, 'getSinglePost'); |
| [13335](#L13335) | alm.fetchingPreviousPost = false; |
| [13336](#L13336) | }); |
| [13337](#L13337) | case 6: |
| [13338](#L13338) | singlePostData = \_context9.sent; |
| [13339](#L13339) | return \_context9.abrupt("return", singlePostData); |
| [13340](#L13340) | case 8: |
| [13341](#L13341) | case "end": |
| [13342](#L13342) | return \_context9.stop(); |
| [13343](#L13343) | } |
| [13344](#L13344) | }, \_callee9); |
| [13345](#L13345) | })); |
| [13346](#L13346) | if (alm.addons.single\_post\_id) { |
| [13347](#L13347) | alm.fetchingPreviousPost = false; |
| [13348](#L13348) | alm.addons.single\_post\_init = true; |
| [13349](#L13349) | } |
| [13350](#L13350) |  |
| [13351](#L13351) | /\*\* |
| [13352](#L13352) | \* Triggers various add-on functions after load complete. |
| [13353](#L13353) | \* |
| [13354](#L13354) | \* @param {Object} alm The ALM object. |
| [13355](#L13355) | \* @since 2.14.0 |
| [13356](#L13356) | \*/ |
| [13357](#L13357) | alm.AjaxLoadMore.triggerAddons = function (alm) { |
| [13358](#L13358) | if (typeof almSetNextPage === 'function' && alm.addons.nextpage) { |
| [13359](#L13359) | window.almSetNextPage(alm); |
| [13360](#L13360) | } |
| [13361](#L13361) | if (typeof almSEO === 'function' && alm.addons.seo) { |
| [13362](#L13362) | window.almSEO(alm, false); |
| [13363](#L13363) | } |
| [13364](#L13364) | if (typeof almWooCommerce === 'function' && alm.addons.woocommerce) { |
| [13365](#L13365) | window.almWooCommerce(alm); |
| [13366](#L13366) | } |
| [13367](#L13367) | if (typeof almElementor === 'function' && alm.addons.elementor) { |
| [13368](#L13368) | window.almElementor(alm); |
| [13369](#L13369) | } |
| [13370](#L13370) | }; |
| [13371](#L13371) |  |
| [13372](#L13372) | /\*\* |
| [13373](#L13373) | \* Fires a set of actions and functions when ALM has no other posts to load. |
| [13374](#L13374) | \* |
| [13375](#L13375) | \* @since 2.11.3 |
| [13376](#L13376) | \*/ |
| [13377](#L13377) | alm.AjaxLoadMore.triggerDone = function () { |
| [13378](#L13378) | alm.loading = false; |
| [13379](#L13379) | alm.finished = true; |
| [13380](#L13380) | placeholder('hide', alm); |
| [13381](#L13381) | if (!alm.addons.paging) { |
| [13382](#L13382) | if (alm.button\_labels.done) { |
| [13383](#L13383) | setTimeout(function () { |
| [13384](#L13384) | alm.button.innerHTML = alm.button\_labels.done; |
| [13385](#L13385) | }, 75); |
| [13386](#L13386) | } |
| [13387](#L13387) | alm.button.classList.add('done'); |
| [13388](#L13388) | alm.button.removeAttribute('rel'); |
| [13389](#L13389) | alm.button.disabled = true; |
| [13390](#L13390) | } |
| [13391](#L13391) |  |
| [13392](#L13392) | // almDone |
| [13393](#L13393) | if (typeof almDone === 'function') { |
| [13394](#L13394) | // Delay done until animations complete |
| [13395](#L13395) | setTimeout(function () { |
| [13396](#L13396) | window.almDone(alm); |
| [13397](#L13397) | }, alm.speed + 10); |
| [13398](#L13398) | } |
| [13399](#L13399) | }; |
| [13400](#L13400) |  |
| [13401](#L13401) | /\*\* |
| [13402](#L13402) | \* Fires a set of actions once ALm Previous hits the first page. |
| [13403](#L13403) | \* |
| [13404](#L13404) | \* @since 5.5.0 |
| [13405](#L13405) | \*/ |
| [13406](#L13406) | alm.AjaxLoadMore.triggerDonePrev = function () { |
| [13407](#L13407) | alm.loading = false; |
| [13408](#L13408) | placeholder('hide', alm); |
| [13409](#L13409) | if (!alm.addons.paging) { |
| [13410](#L13410) | alm.buttonPrev.classList.add('done'); |
| [13411](#L13411) | alm.buttonPrev.style.opacity = '0.5'; |
| [13412](#L13412) | alm.buttonPrev.disabled = true; |
| [13413](#L13413) | } |
| [13414](#L13414) |  |
| [13415](#L13415) | // almDonePrev Callback. |
| [13416](#L13416) | if (typeof almDonePrev === 'function') { |
| [13417](#L13417) | // Delay done until animations complete |
| [13418](#L13418) | setTimeout(function () { |
| [13419](#L13419) | window.almDonePrev(alm); |
| [13420](#L13420) | }, alm.speed + 10); |
| [13421](#L13421) | } |
| [13422](#L13422) | }; |
| [13423](#L13423) |  |
| [13424](#L13424) | /\*\* |
| [13425](#L13425) | \* Resets the loading button text after loading has completed. |
| [13426](#L13426) | \* |
| [13427](#L13427) | \* @since 2.8.4 |
| [13428](#L13428) | \*/ |
| [13429](#L13429) | alm.AjaxLoadMore.resetBtnText = function () { |
| [13430](#L13430) | if (alm.button && alm.button\_labels.loading) { |
| [13431](#L13431) | alm.button.innerHTML = alm.button\_labels["default"]; |
| [13432](#L13432) | } |
| [13433](#L13433) | }; |
| [13434](#L13434) |  |
| [13435](#L13435) | /\*\* |
| [13436](#L13436) | \* Button click handler to load posts. |
| [13437](#L13437) | \* |
| [13438](#L13438) | \* @param {Object} e The target button element. |
| [13439](#L13439) | \* @since 4.2.0 |
| [13440](#L13440) | \*/ |
| [13441](#L13441) | alm.AjaxLoadMore.click = function (e) { |
| [13442](#L13442) | var button = e.currentTarget || e.target; |
| [13443](#L13443) | alm.rel = 'next'; |
| [13444](#L13444) | if (alm.pause === 'true') { |
| [13445](#L13445) | alm.pause = false; |
| [13446](#L13446) | alm.pause\_override = false; |
| [13447](#L13447) | alm.AjaxLoadMore.loadPosts(); |
| [13448](#L13448) | } |
| [13449](#L13449) | if (!alm.loading && !alm.finished && !button.classList.contains('done')) { |
| [13450](#L13450) | alm.loading = true; |
| [13451](#L13451) | alm.page++; |
| [13452](#L13452) | alm.AjaxLoadMore.loadPosts(); |
| [13453](#L13453) | } |
| [13454](#L13454) | button.blur(); // Remove button focus |
| [13455](#L13455) | }; |
| [13456](#L13456) |  |
| [13457](#L13457) | /\*\* |
| [13458](#L13458) | \* Button click handler for previous load more. |
| [13459](#L13459) | \* |
| [13460](#L13460) | \* @param {Object} e The target button element. |
| [13461](#L13461) | \* @since 5.5.0 |
| [13462](#L13462) | \*/ |
| [13463](#L13463) | alm.AjaxLoadMore.prevClick = function (e) { |
| [13464](#L13464) | var button = e.currentTarget || e.target; |
| [13465](#L13465) | e.preventDefault(); |
| [13466](#L13466) | if (!alm.loading && !button.classList.contains('done')) { |
| [13467](#L13467) | alm.loading = true; |
| [13468](#L13468) | alm.pagePrev--; |
| [13469](#L13469) | alm.rel = 'prev'; |
| [13470](#L13470) | alm.AjaxLoadMore.loadPosts(); |
| [13471](#L13471) | button.blur(); // Remove button focus |
| [13472](#L13472) | } |
| [13473](#L13473) | }; |
| [13474](#L13474) |  |
| [13475](#L13475) | /\*\* |
| [13476](#L13476) | \* Set the Load Previous button to alm object. |
| [13477](#L13477) | \* |
| [13478](#L13478) | \* @param {Element} button The button element. |
| [13479](#L13479) | \* @since 5.5.0 |
| [13480](#L13480) | \*/ |
| [13481](#L13481) | alm.AjaxLoadMore.setPreviousButton = function (button) { |
| [13482](#L13482) | alm.pagePrev = alm.page; |
| [13483](#L13483) | alm.buttonPrev = button; |
| [13484](#L13484) | }; |
| [13485](#L13485) |  |
| [13486](#L13486) | /\*\* |
| [13487](#L13487) | \* Load More button click event handler. |
| [13488](#L13488) | \* |
| [13489](#L13489) | \* @since 1.0.0 |
| [13490](#L13490) | \*/ |
| [13491](#L13491) | if (!alm.addons.paging && !alm.fetchingPreviousPost) { |
| [13492](#L13492) | alm.button.onclick = alm.AjaxLoadMore.click; |
| [13493](#L13493) | } |
| [13494](#L13494) |  |
| [13495](#L13495) | /\*\* |
| [13496](#L13496) | \* Window resize functions for Paging, Scroll Distance Percentage etc. |
| [13497](#L13497) | \* |
| [13498](#L13498) | \* @since 2.1.2 |
| [13499](#L13499) | \*/ |
| [13500](#L13500) | if (alm.addons.paging || alm.scroll\_distance\_perc || alm.scroll\_direction === 'horizontal') { |
| [13501](#L13501) | var resize; |
| [13502](#L13502) | alm.window.onresize = function () { |
| [13503](#L13503) | clearTimeout(resize); |
| [13504](#L13504) | resize = setTimeout(function () { |
| [13505](#L13505) | if (alm.addons.paging) { |
| [13506](#L13506) | // Paging |
| [13507](#L13507) | if (typeof almOnWindowResize === 'function') { |
| [13508](#L13508) | window.almOnWindowResize(alm); |
| [13509](#L13509) | } |
| [13510](#L13510) | } |
| [13511](#L13511) | if (alm.scroll\_distance\_perc) { |
| [13512](#L13512) | alm.scroll\_distance = getScrollPercentage(alm); |
| [13513](#L13513) | } |
| [13514](#L13514) | if (alm.scroll\_direction === 'horizontal') { |
| [13515](#L13515) | alm.AjaxLoadMore.horizontal(); |
| [13516](#L13516) | } |
| [13517](#L13517) | }, alm.speed); |
| [13518](#L13518) | }; |
| [13519](#L13519) | } |
| [13520](#L13520) |  |
| [13521](#L13521) | /\*\* |
| [13522](#L13522) | \* Check to see if element is visible before loading posts. |
| [13523](#L13523) | \* |
| [13524](#L13524) | \* @since 2.1.2 |
| [13525](#L13525) | \*/ |
| [13526](#L13526) | alm.AjaxLoadMore.isVisible = function () { |
| [13527](#L13527) | // Check for a width and height to determine visibility |
| [13528](#L13528) | alm.visible = alm.main.clientWidth > 0 && alm.main.clientHeight > 0 ? true : false; |
| [13529](#L13529) | return alm.visible; |
| [13530](#L13530) | }; |
| [13531](#L13531) |  |
| [13532](#L13532) | /\*\* |
| [13533](#L13533) | \* Load posts as user scrolls the page. |
| [13534](#L13534) | \* |
| [13535](#L13535) | \* @since 1.0 |
| [13536](#L13536) | \*/ |
| [13537](#L13537) | alm.AjaxLoadMore.scroll = function () { |
| [13538](#L13538) | if (alm.timer) { |
| [13539](#L13539) | clearTimeout(alm.timer); |
| [13540](#L13540) | } |
| [13541](#L13541) | alm.timer = setTimeout(function () { |
| [13542](#L13542) | if (alm.AjaxLoadMore.isVisible() && !alm.fetchingPreviousPost) { |
| [13543](#L13543) | var trigger = alm.trigger.getBoundingClientRect(); |
| [13544](#L13544) | var btnPos = Math.round(trigger.top - alm.window.innerHeight) + alm.scroll\_distance; |
| [13545](#L13545) | var scrollTrigger = btnPos <= 0 ? true : false; |
| [13546](#L13546) |  |
| [13547](#L13547) | // Scroll Container |
| [13548](#L13548) | if (alm.window !== window) { |
| [13549](#L13549) | var scrollHeight = alm.main.offsetHeight; // ALM height |
| [13550](#L13550) | var scrollWidth = alm.main.offsetWidth; // ALM Width |
| [13551](#L13551) | var scrollPosition = ''; |
| [13552](#L13552) | if (alm.scroll\_direction === 'horizontal') { |
| [13553](#L13553) | // Left/Right |
| [13554](#L13554) | alm.AjaxLoadMore.horizontal(); |
| [13555](#L13555) | scrollPosition = Math.round(alm.window.scrollLeft + alm.window.offsetWidth - alm.scroll\_distance); // How far user has scrolled |
| [13556](#L13556) | scrollTrigger = scrollWidth <= scrollPosition ? true : false; |
| [13557](#L13557) | } else { |
| [13558](#L13558) | // Up/Down |
| [13559](#L13559) | scrollPosition = Math.round(alm.window.scrollTop + alm.window.offsetHeight - alm.scroll\_distance); // How far user has scrolled |
| [13560](#L13560) | scrollTrigger = scrollHeight <= scrollPosition ? true : false; |
| [13561](#L13561) | } |
| [13562](#L13562) | } |
| [13563](#L13563) |  |
| [13564](#L13564) | // If Pause && Pause Override |
| [13565](#L13565) | if (!alm.loading && !alm.finished && scrollTrigger && alm.page < alm.max\_pages - 1 && alm.proceed && alm.pause === 'true' && alm.pause\_override === 'true') { |
| [13566](#L13566) | alm.button.click(); |
| [13567](#L13567) | } |
| [13568](#L13568) |  |
| [13569](#L13569) | // Standard Scroll |
| [13570](#L13570) | else { |
| [13571](#L13571) | if (!alm.loading && !alm.finished && scrollTrigger && alm.page < alm.max\_pages - 1 && alm.proceed && alm.pause !== 'true') { |
| [13572](#L13572) | alm.button.click(); |
| [13573](#L13573) | } |
| [13574](#L13574) | } |
| [13575](#L13575) | } |
| [13576](#L13576) | }, 25); |
| [13577](#L13577) | }; |
| [13578](#L13578) |  |
| [13579](#L13579) | /\*\* |
| [13580](#L13580) | \* Add scroll eventlisteners, only when needed. |
| [13581](#L13581) | \* |
| [13582](#L13582) | \* @since 5.2.0 |
| [13583](#L13583) | \*/ |
| [13584](#L13584) | alm.AjaxLoadMore.scrollSetup = function () { |
| [13585](#L13585) | if (alm.scroll && !alm.addons.paging) { |
| [13586](#L13586) | if (alm.scroll\_container) { |
| [13587](#L13587) | // Scroll Container |
| [13588](#L13588) | alm.window = document.querySelector(alm.scroll\_container) ? document.querySelector(alm.scroll\_container) : alm.window; |
| [13589](#L13589) | setTimeout(function () { |
| [13590](#L13590) | // Delay to allow for ALM container to resize on load. |
| [13591](#L13591) | alm.AjaxLoadMore.horizontal(); |
| [13592](#L13592) | }, 500); |
| [13593](#L13593) | } |
| [13594](#L13594) | alm.window.addEventListener('scroll', alm.AjaxLoadMore.scroll); // Scroll |
| [13595](#L13595) | alm.window.addEventListener('touchstart', alm.AjaxLoadMore.scroll); // Touch Devices |
| [13596](#L13596) | alm.window.addEventListener('wheel', function (e) { |
| [13597](#L13597) | // Mousewheel |
| [13598](#L13598) | var direction = Math.sign(e.deltaY); |
| [13599](#L13599) | if (direction > 0) { |
| [13600](#L13600) | alm.AjaxLoadMore.scroll(); |
| [13601](#L13601) | } |
| [13602](#L13602) | }); |
| [13603](#L13603) | alm.window.addEventListener('keyup', function (e) { |
| [13604](#L13604) | var key = e.key; |
| [13605](#L13605) | switch (key) { |
| [13606](#L13606) | case 'End': |
| [13607](#L13607) | case 'PageDown': |
| [13608](#L13608) | alm.AjaxLoadMore.scroll(); |
| [13609](#L13609) | break; |
| [13610](#L13610) | } |
| [13611](#L13611) | }); |
| [13612](#L13612) | } |
| [13613](#L13613) | }; |
| [13614](#L13614) |  |
| [13615](#L13615) | /\*\* |
| [13616](#L13616) | \* Configure horizontal scroll settings. |
| [13617](#L13617) | \* |
| [13618](#L13618) | \* @since 5.3.6 |
| [13619](#L13619) | \*/ |
| [13620](#L13620) | alm.AjaxLoadMore.horizontal = function () { |
| [13621](#L13621) | if (alm.scroll\_direction === 'horizontal') { |
| [13622](#L13622) | alm.main.style.width = "".concat(alm.listing.offsetWidth, "px"); |
| [13623](#L13623) | } |
| [13624](#L13624) | }; |
| [13625](#L13625) |  |
| [13626](#L13626) | /\*\* |
| [13627](#L13627) | \* Destroy Ajax Load More functionality. |
| [13628](#L13628) | \* |
| [13629](#L13629) | \* @since 3.4.2 |
| [13630](#L13630) | \*/ |
| [13631](#L13631) | alm.AjaxLoadMore.destroyed = function () { |
| [13632](#L13632) | alm.disable\_ajax = true; |
| [13633](#L13633) | if (!alm.addons.paging) { |
| [13634](#L13634) | alm.button.style.display = 'none'; |
| [13635](#L13635) | alm.AjaxLoadMore.triggerDone(); |
| [13636](#L13636) | if (typeof almDestroyed === 'function') { |
| [13637](#L13637) | window.almDestroyed(alm); |
| [13638](#L13638) | } |
| [13639](#L13639) | } |
| [13640](#L13640) | }; |
| [13641](#L13641) |  |
| [13642](#L13642) | /\*\* |
| [13643](#L13643) | \* Set variables after loading transition completes. |
| [13644](#L13644) | \* |
| [13645](#L13645) | \* @since 3.5 |
| [13646](#L13646) | \*/ |
| [13647](#L13647) | alm.AjaxLoadMore.transitionEnd = function () { |
| [13648](#L13648) | setTimeout(function () { |
| [13649](#L13649) | alm.AjaxLoadMore.resetBtnText(); |
| [13650](#L13650) | alm.main.classList.remove('alm-loading'); |
| [13651](#L13651) |  |
| [13652](#L13652) | // Loading buttons. |
| [13653](#L13653) | if (alm.rel === 'prev') { |
| [13654](#L13654) | var \_alm32; |
| [13655](#L13655) | (\_alm32 = alm) === null || \_alm32 === void 0 || (\_alm32 = \_alm32.buttonPrev) === null || \_alm32 === void 0 || (\_alm32 = \_alm32.classList) === null || \_alm32 === void 0 || \_alm32.remove('loading'); |
| [13656](#L13656) | } else { |
| [13657](#L13657) | var \_alm33; |
| [13658](#L13658) | (\_alm33 = alm) === null || \_alm33 === void 0 || (\_alm33 = \_alm33.button) === null || \_alm33 === void 0 || (\_alm33 = \_alm33.classList) === null || \_alm33 === void 0 || \_alm33.remove('loading'); |
| [13659](#L13659) | } |
| [13660](#L13660) | alm.AjaxLoadMore.triggerAddons(alm); |
| [13661](#L13661) | if (!alm.addons.paging) { |
| [13662](#L13662) | setTimeout(function () { |
| [13663](#L13663) | alm.loading = false; // Delay to prevent loading to fast |
| [13664](#L13664) | }, alm.speed \* 2); |
| [13665](#L13665) | } |
| [13666](#L13666) | }, 25); |
| [13667](#L13667) |  |
| [13668](#L13668) | // Hide loading placeholder. |
| [13669](#L13669) | placeholder('hide', alm); |
| [13670](#L13670) | }; |
| [13671](#L13671) |  |
| [13672](#L13672) | /\*\* |
| [13673](#L13673) | \* Set individual localized variable. |
| [13674](#L13674) | \* |
| [13675](#L13675) | \* @param {string} name |
| [13676](#L13676) | \* @param {string} value |
| [13677](#L13677) | \* @since 4.1 |
| [13678](#L13678) | \*/ |
| [13679](#L13679) | alm.AjaxLoadMore.setLocalizedVar = function () { |
| [13680](#L13680) | var \_alm34; |
| [13681](#L13681) | var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; |
| [13682](#L13682) | var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ''; |
| [13683](#L13683) | if ((\_alm34 = alm) !== null && \_alm34 !== void 0 && \_alm34.localize && name !== '' && value !== '') { |
| [13684](#L13684) | alm.localize[name] = value; // Set ALM localize var. |
| [13685](#L13685) | window[alm.localized\_var][name] = value; // Update vars. |
| [13686](#L13686) | } |
| [13687](#L13687) | }; |
| [13688](#L13688) |  |
| [13689](#L13689) | /\*\* |
| [13690](#L13690) | \* Init Ajax load More functionality and add-ons. |
| [13691](#L13691) | \* |
| [13692](#L13692) | \* @since 2.0 |
| [13693](#L13693) | \*/ |
| [13694](#L13694) | alm.AjaxLoadMore.init = /\*#\_\_PURE\_\_\*/ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee12() { |
| [13695](#L13695) | var nextpage\_pages, \_alm35, nextpage\_first, nextpage\_total; |
| [13696](#L13696) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee12$(\_context12) { |
| [13697](#L13697) | while (1) switch (\_context12.prev = \_context12.next) { |
| [13698](#L13698) | case 0: |
| [13699](#L13699) | // Preloaded and Destroy After is 1. |
| [13700](#L13700) | if (alm.addons.preloaded && alm.destroy\_after === 1) { |
| [13701](#L13701) | alm.AjaxLoadMore.destroyed(); |
| [13702](#L13702) | } |
| [13703](#L13703) |  |
| [13704](#L13704) | // Paging Add-on. |
| [13705](#L13705) | if (alm.addons.paging) { |
| [13706](#L13706) | if (alm.addons.preloaded) { |
| [13707](#L13707) | // Preloaded. |
| [13708](#L13708) | alm.AjaxLoadMore.ajax('totalposts'); |
| [13709](#L13709) | } else if (alm.addons.nextpage) { |
| [13710](#L13710) | // Next Page. |
| [13711](#L13711) | alm.AjaxLoadMore.ajax('totalpages'); |
| [13712](#L13712) | } else { |
| [13713](#L13713) | // Standard. |
| [13714](#L13714) | alm.AjaxLoadMore.loadPosts(); |
| [13715](#L13715) | } |
| [13716](#L13716) | } |
| [13717](#L13717) |  |
| [13718](#L13718) | // Not Paging & not Single Post. |
| [13719](#L13719) | if (!alm.addons.paging && !alm.addons.single\_post) { |
| [13720](#L13720) | if (alm.disable\_ajax) { |
| [13721](#L13721) | alm.finished = true; |
| [13722](#L13722) | alm.button.classList.add('done'); |
| [13723](#L13723) | } else { |
| [13724](#L13724) | // Set button label. |
| [13725](#L13725) | alm.button.innerHTML = alm.button\_labels["default"]; |
| [13726](#L13726) |  |
| [13727](#L13727) | // Check pause. |
| [13728](#L13728) | if (alm.pause === 'true') { |
| [13729](#L13729) | alm.loading = false; |
| [13730](#L13730) | } else { |
| [13731](#L13731) | alm.AjaxLoadMore.loadPosts(); |
| [13732](#L13732) | } |
| [13733](#L13733) | } |
| [13734](#L13734) | } |
| [13735](#L13735) |  |
| [13736](#L13736) | // Single Post Add-on. |
| [13737](#L13737) | if (alm.addons.single\_post) { |
| [13738](#L13738) | // Add delay for setup and scripts to load. |
| [13739](#L13739) | setTimeout( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee10() { |
| [13740](#L13740) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee10$(\_context10) { |
| [13741](#L13741) | while (1) switch (\_context10.prev = \_context10.next) { |
| [13742](#L13742) | case 0: |
| [13743](#L13743) | \_context10.next = 2; |
| [13744](#L13744) | return alm.AjaxLoadMore.getSinglePost(); |
| [13745](#L13745) | case 2: |
| [13746](#L13746) | // Set next post on load |
| [13747](#L13747) |  |
| [13748](#L13748) | // Trigger done if custom query and no posts to render |
| [13749](#L13749) | if (alm.addons.single\_post\_query && alm.addons.single\_post\_order === '') { |
| [13750](#L13750) | alm.AjaxLoadMore.triggerDone(); |
| [13751](#L13751) | } |
| [13752](#L13752) | alm.loading = false; |
| [13753](#L13753) | tableOfContents(alm, true, true); |
| [13754](#L13754) | case 5: |
| [13755](#L13755) | case "end": |
| [13756](#L13756) | return \_context10.stop(); |
| [13757](#L13757) | } |
| [13758](#L13758) | }, \_callee10); |
| [13759](#L13759) | })), 250); |
| [13760](#L13760) | } |
| [13761](#L13761) |  |
| [13762](#L13762) | // Query Loop Add-on. |
| [13763](#L13763) | if (alm.addons.queryloop && alm.addons.queryloop\_settings) { |
| [13764](#L13764) | queryLoopInit(alm); |
| [13765](#L13765) | } |
| [13766](#L13766) |  |
| [13767](#L13767) | // Preloaded + SEO && !Paging. |
| [13768](#L13768) | if (alm.addons.preloaded && alm.addons.seo && !alm.addons.paging) { |
| [13769](#L13769) | // Add delay for setup and scripts to load. |
| [13770](#L13770) | setTimeout(function () { |
| [13771](#L13771) | if (typeof almSEO === 'function' && alm.start\_page < 1) { |
| [13772](#L13772) | window.almSEO(alm, true); |
| [13773](#L13773) | } |
| [13774](#L13774) | }, 200); |
| [13775](#L13775) | } |
| [13776](#L13776) |  |
| [13777](#L13777) | // Preloaded && !Paging. |
| [13778](#L13778) | if (alm.addons.preloaded && !alm.addons.paging) { |
| [13779](#L13779) | // Add delay for setup and scripts to load. |
| [13780](#L13780) | setTimeout(function () { |
| [13781](#L13781) | if (alm.addons.preloaded\_total\_posts <= alm.addons.preloaded\_amount) { |
| [13782](#L13782) | alm.AjaxLoadMore.triggerDone(); |
| [13783](#L13783) | } |
| [13784](#L13784) | // almEmpty callback. |
| [13785](#L13785) | if (alm.addons.preloaded\_total\_posts === 0) { |
| [13786](#L13786) | if (typeof almEmpty === 'function') { |
| [13787](#L13787) | window.almEmpty(alm); |
| [13788](#L13788) | } |
| [13789](#L13789) | if (alm.no\_results) { |
| [13790](#L13790) | noResults(alm.content, alm.no\_results); |
| [13791](#L13791) | } |
| [13792](#L13792) | } |
| [13793](#L13793) | }, alm.speed); |
| [13794](#L13794) | } |
| [13795](#L13795) |  |
| [13796](#L13796) | // Preloaded Add-on ONLY. |
| [13797](#L13797) | if (alm.addons.preloaded) { |
| [13798](#L13798) | if (alm.resultsText) { |
| [13799](#L13799) | almInitResultsText(alm, 'preloaded'); |
| [13800](#L13800) | } |
| [13801](#L13801) | tableOfContents(alm, alm.init, true); |
| [13802](#L13802) | } |
| [13803](#L13803) |  |
| [13804](#L13804) | // Next Page Add-on. |
| [13805](#L13805) | if (alm.addons.nextpage) { |
| [13806](#L13806) | // Check that posts remain on load |
| [13807](#L13807) | if (alm.listing.querySelector('.alm-nextpage') && !alm.addons.paging) { |
| [13808](#L13808) | nextpage\_pages = alm.listing.querySelectorAll('.alm-nextpage'); // All Next Page Items. |
| [13809](#L13809) | if (nextpage\_pages) { |
| [13810](#L13810) | nextpage\_first = nextpage\_pages[0]; |
| [13811](#L13811) | nextpage\_total = nextpage\_first.dataset.totalPosts ? parseInt(nextpage\_first.dataset.totalPosts) : (\_alm35 = alm) === null || \_alm35 === void 0 || (\_alm35 = \_alm35.localize) === null || \_alm35 === void 0 ? void 0 : \_alm35.total\_posts; // Disable if last page loaded |
| [13812](#L13812) | if (nextpage\_pages.length === nextpage\_total || parseInt(nextpage\_first.dataset.page) === nextpage\_total) { |
| [13813](#L13813) | alm.AjaxLoadMore.triggerDone(); |
| [13814](#L13814) | } |
| [13815](#L13815) | } |
| [13816](#L13816) | } |
| [13817](#L13817) | if (alm.resultsText) { |
| [13818](#L13818) | almInitResultsText(alm, 'nextpage'); |
| [13819](#L13819) | } |
| [13820](#L13820) | tableOfContents(alm, alm.init, true); |
| [13821](#L13821) | } |
| [13822](#L13822) |  |
| [13823](#L13823) | // WooCommerce Add-on. |
| [13824](#L13824) | if (alm.addons.woocommerce) { |
| [13825](#L13825) | wooInit(alm); |
| [13826](#L13826) | if (alm.addons.woocommerce\_settings.paged >= parseInt(alm.addons.woocommerce\_settings.pages)) { |
| [13827](#L13827) | alm.AjaxLoadMore.triggerDone(); // Done if `paged is less than `pages`. |
| [13828](#L13828) | } |
| [13829](#L13829) | } |
| [13830](#L13830) |  |
| [13831](#L13831) | // Elementor Add-on. |
| [13832](#L13832) | if (alm.addons.elementor && alm.addons.elementor\_type && alm.addons.elementor\_type === 'posts') { |
| [13833](#L13833) | elementorInit(alm); |
| [13834](#L13834) | if (!alm.addons.elementor\_next\_page) { |
| [13835](#L13835) | alm.AjaxLoadMore.triggerDone(); // Done if `elementor\_next\_page` is false. |
| [13836](#L13836) | } |
| [13837](#L13837) | } |
| [13838](#L13838) |  |
| [13839](#L13839) | // Window Load. |
| [13840](#L13840) | alm.window.addEventListener('load', function () { |
| [13841](#L13841) | // Masonry & Preloaded. |
| [13842](#L13842) | if (alm.transition === 'masonry' && alm.addons.preloaded) { |
| [13843](#L13843) | // Wrap almMasonry in anonymous async/await function |
| [13844](#L13844) | ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee11() { |
| [13845](#L13845) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee11$(\_context11) { |
| [13846](#L13846) | while (1) switch (\_context11.prev = \_context11.next) { |
| [13847](#L13847) | case 0: |
| [13848](#L13848) | \_context11.next = 2; |
| [13849](#L13849) | return almMasonry(alm, true, false); |
| [13850](#L13850) | case 2: |
| [13851](#L13851) | alm.masonry.init = false; |
| [13852](#L13852) | case 3: |
| [13853](#L13853) | case "end": |
| [13854](#L13854) | return \_context11.stop(); |
| [13855](#L13855) | } |
| [13856](#L13856) | }, \_callee11); |
| [13857](#L13857) | }))()["catch"](function () { |
| [13858](#L13858) | console.error('There was an error with ALM Masonry'); |
| [13859](#L13859) | }); |
| [13860](#L13860) | } |
| [13861](#L13861) |  |
| [13862](#L13862) | //  Filters, Facets & Preloaded Facets |
| [13863](#L13863) | if (alm.addons.preloaded && alm.addons.filters && alm.facets) { |
| [13864](#L13864) | if (typeof almFiltersFacets === 'function') { |
| [13865](#L13865) | var \_alm36; |
| [13866](#L13866) | var facets = (\_alm36 = alm) === null || \_alm36 === void 0 || (\_alm36 = \_alm36.localize) === null || \_alm36 === void 0 ? void 0 : \_alm36.facets; |
| [13867](#L13867) | if (facets) { |
| [13868](#L13868) | window.almFiltersFacets(facets); |
| [13869](#L13869) | } |
| [13870](#L13870) | } |
| [13871](#L13871) | } |
| [13872](#L13872) |  |
| [13873](#L13873) | // Window Load Callback. |
| [13874](#L13874) | if (typeof almOnLoad === 'function') { |
| [13875](#L13875) | window.almOnLoad(alm); // eslint-disable-line |
| [13876](#L13876) | } |
| [13877](#L13877) | }); |
| [13878](#L13878) |  |
| [13879](#L13879) | setPreloadedParams(alm); // Set preloaded params. |
| [13880](#L13880) | case 13: |
| [13881](#L13881) | case "end": |
| [13882](#L13882) | return \_context12.stop(); |
| [13883](#L13883) | } |
| [13884](#L13884) | }, \_callee12); |
| [13885](#L13885) | })); |
| [13886](#L13886) |  |
| [13887](#L13887) | /\*\* |
| [13888](#L13888) | \* Handle error messages. |
| [13889](#L13889) | \* |
| [13890](#L13890) | \* @param {string} error    The error message. |
| [13891](#L13891) | \* @param {string} location The location the error occured. |
| [13892](#L13892) | \* @since 2.6.0 |
| [13893](#L13893) | \*/ |
| [13894](#L13894) | alm.AjaxLoadMore.error = function (error) { |
| [13895](#L13895) | var location = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null; |
| [13896](#L13896) | alm.loading = false; |
| [13897](#L13897) | if (!alm.addons.paging) { |
| [13898](#L13898) | alm.button.classList.remove('loading'); |
| [13899](#L13899) | alm.AjaxLoadMore.resetBtnText(); |
| [13900](#L13900) | } |
| [13901](#L13901) | console.warn('Error: ', error); |
| [13902](#L13902) | if (error.response) { |
| [13903](#L13903) | // The request was made and the server responded with a status code that falls out of the range of 2xx. |
| [13904](#L13904) | console.error('Error Msg: ', error.message); |
| [13905](#L13905) | } else if (error.request) { |
| [13906](#L13906) | // The request was made but no response was received. |
| [13907](#L13907) | console.error(error.request); |
| [13908](#L13908) | } else { |
| [13909](#L13909) | // Something happened in setting up the request that triggered an Error. |
| [13910](#L13910) | console.error('Error Msg: ', error.message); |
| [13911](#L13911) | } |
| [13912](#L13912) | if (location) { |
| [13913](#L13913) | console.error('ALM Error started in ' + location); |
| [13914](#L13914) | } |
| [13915](#L13915) | if (error.config) { |
| [13916](#L13916) | console.error('ALM Error Debug: ', error.config); |
| [13917](#L13917) | } |
| [13918](#L13918) | }; |
| [13919](#L13919) |  |
| [13920](#L13920) | /\*\* |
| [13921](#L13921) | \* Update Current Page. |
| [13922](#L13922) | \* Note: Callback function triggered from Paging add-on. |
| [13923](#L13923) | \* |
| [13924](#L13924) | \* @param {number} current Current page number. |
| [13925](#L13925) | \* @param {Object} obj     Optional object (Deprecated). |
| [13926](#L13926) | \* @param {Object} alm     The ALM object. |
| [13927](#L13927) | \* @since 2.7.0 |
| [13928](#L13928) | \*/ |
| [13929](#L13929) | window.almUpdateCurrentPage = function (current, obj, alm) { |
| [13930](#L13930) | // eslint-disable-line |
| [13931](#L13931) | alm.page = current; |
| [13932](#L13932) | alm.page = alm.addons.nextpage && !alm.addons.paging ? alm.page - 1 : alm.page; // Next Page add-on |
| [13933](#L13933) |  |
| [13934](#L13934) | var target = alm.listing; |
| [13935](#L13935) | var data = target === null || target === void 0 ? void 0 : target.innerHTML; // Get content |
| [13936](#L13936) |  |
| [13937](#L13937) | if (alm.addons.paging\_init && alm.addons.preloaded) { |
| [13938](#L13938) | // Paging + Preloaded Firstrun. |
| [13939](#L13939) | alm.addons.preloaded\_amount = 0; // Reset preloaded\_amount param. |
| [13940](#L13940) | alm.AjaxLoadMore.pagingPreloadedInit(data); |
| [13941](#L13941) | alm.addons.paging\_init = false; |
| [13942](#L13942) | alm.init = false; |
| [13943](#L13943) | } else if (alm.addons.paging\_init && alm.addons.nextpage) { |
| [13944](#L13944) | // Paging + Next Page on firstrun. |
| [13945](#L13945) | alm.AjaxLoadMore.pagingNextpageInit(); |
| [13946](#L13946) | alm.addons.paging\_init = false; |
| [13947](#L13947) | alm.init = false; |
| [13948](#L13948) | } else { |
| [13949](#L13949) | // Standard Paging |
| [13950](#L13950) | alm.AjaxLoadMore.loadPosts(); |
| [13951](#L13951) | } |
| [13952](#L13952) | }; |
| [13953](#L13953) |  |
| [13954](#L13954) | /\*\* |
| [13955](#L13955) | \* Get the parent ALM container. |
| [13956](#L13956) | \* |
| [13957](#L13957) | \* @return {HTMLElement} The ALM listing container. |
| [13958](#L13958) | \* @since 2.7.0 |
| [13959](#L13959) | \*/ |
| [13960](#L13960) | window.almGetParentContainer = function () { |
| [13961](#L13961) | var \_alm37; |
| [13962](#L13962) | return (\_alm37 = alm) === null || \_alm37 === void 0 ? void 0 : \_alm37.listing; |
| [13963](#L13963) | }; |
| [13964](#L13964) |  |
| [13965](#L13965) | /\*\* |
| [13966](#L13966) | \* Returns the current ALM obj. |
| [13967](#L13967) | \* |
| [13968](#L13968) | \* @param {string} obj The ALM object to return. |
| [13969](#L13969) | \* @return {Object}    The ALM object. |
| [13970](#L13970) | \* @since 2.7.0 |
| [13971](#L13971) | \*/ |
| [13972](#L13972) | window.almGetObj = function () { |
| [13973](#L13973) | var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; |
| [13974](#L13974) | if (obj) { |
| [13975](#L13975) | return alm[obj]; // Return specific param. |
| [13976](#L13976) | } |
| [13977](#L13977) |  |
| [13978](#L13978) | return alm; // Return the entire alm object |
| [13979](#L13979) | }; |
| [13980](#L13980) |  |
| [13981](#L13981) | /\*\* |
| [13982](#L13982) | \* Trigger ajaxloadmore from any element on page. |
| [13983](#L13983) | \* |
| [13984](#L13984) | \* @since 2.12.0 |
| [13985](#L13985) | \*/ |
| [13986](#L13986) | window.almTriggerClick = function () { |
| [13987](#L13987) | alm.button.click(); |
| [13988](#L13988) | }; |
| [13989](#L13989) |  |
| [13990](#L13990) | // Delay to prevent immediate loading of posts on initial page load via scroll. |
| [13991](#L13991) | setTimeout(function () { |
| [13992](#L13992) | alm.proceed = true; |
| [13993](#L13993) | alm.AjaxLoadMore.scrollSetup(); |
| [13994](#L13994) | }, 1000); |
| [13995](#L13995) |  |
| [13996](#L13996) | // Init Ajax Load More |
| [13997](#L13997) | alm.AjaxLoadMore.init(); |
| [13998](#L13998) | }; |
| [13999](#L13999) |  |
| [14000](#L14000) | // End ajaxloadmore |
| [14001](#L14001) |  |
| [14002](#L14002) | /\*\* |
| [14003](#L14003) | \* Initiate instance of Ajax load More |
| [14004](#L14004) | \* |
| [14005](#L14005) | \* @param {HTMLElement} el The ALM element. |
| [14006](#L14006) | \* @param {number}      id The ALM instance ID. |
| [14007](#L14007) | \* @since 5.0 |
| [14008](#L14008) | \*/ |
| [14009](#L14009) | window.almInit = function (el) { |
| [14010](#L14010) | var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; |
| [14011](#L14011) | new ajaxloadmore(el, id); |
| [14012](#L14012) | }; |
| [14013](#L14013) |  |
| [14014](#L14014) | /\*\* |
| [14015](#L14015) | \* Initiate Ajax load More if div is present on screen |
| [14016](#L14016) | \* |
| [14017](#L14017) | \* @since 2.1.2 |
| [14018](#L14018) | \*/ |
| [14019](#L14019) | var alm\_instances = document.querySelectorAll('.ajax-load-more-wrap'); |
| [14020](#L14020) | if (alm\_instances.length) { |
| [14021](#L14021) | ajax\_load\_more\_toConsumableArray(alm\_instances).forEach(function (alm, index) { |
| [14022](#L14022) | new ajaxloadmore(alm, index); |
| [14023](#L14023) | }); |
| [14024](#L14024) | } |
| [14025](#L14025) | })(); |
| [14026](#L14026) |  |
| [14027](#L14027) | /\*\* |
| [14028](#L14028) | \* Filter an Ajax Load More instance. |
| [14029](#L14029) | \* |
| [14030](#L14030) | \* @param {string} transition The transition type. |
| [14031](#L14031) | \* @param {string} speed      The speed of the filter transition. |
| [14032](#L14032) | \* @param {Object} data       Query data as an object. |
| [14033](#L14033) | \* @since 5.0 |
| [14034](#L14034) | \*/ |
| [14035](#L14035) | var filter = function filter() { |
| [14036](#L14036) | var transition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'fade'; |
| [14037](#L14037) | var speed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '200'; |
| [14038](#L14038) | var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ''; |
| [14039](#L14039) | if (!transition || !speed || !data) { |
| [14040](#L14040) | return false; |
| [14041](#L14041) | } |
| [14042](#L14042) | alm\_is\_filtering = true; |
| [14043](#L14043) | almFilter(transition, speed, data, 'filter'); |
| [14044](#L14044) | }; |
| [14045](#L14045) |  |
| [14046](#L14046) | /\*\* |
| [14047](#L14047) | \* Reset an Ajax Load More instance. |
| [14048](#L14048) | \* |
| [14049](#L14049) | \* @since 5.3.8 |
| [14050](#L14050) | \* @param {Object} props The ALM props as an object. |
| [14051](#L14051) | \*/ |
| [14052](#L14052) | var ajax\_load\_more\_reset = function reset() { |
| [14053](#L14053) | var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; |
| [14054](#L14054) | var data = {}; |
| [14055](#L14055) | alm\_is\_filtering = true; |
| [14056](#L14056) | if (props && props.target) { |
| [14057](#L14057) | data = { |
| [14058](#L14058) | target: target |
| [14059](#L14059) | }; |
| [14060](#L14060) | } |
| [14061](#L14061) | if (props && props.type === 'woocommerce') { |
| [14062](#L14062) | // WooCommerce |
| [14063](#L14063) | ajax\_load\_more\_asyncToGenerator( /\*#\_\_PURE\_\_\*/ajax\_load\_more\_regeneratorRuntime().mark(function \_callee13() { |
| [14064](#L14064) | var instance, settings; |
| [14065](#L14065) | return ajax\_load\_more\_regeneratorRuntime().wrap(function \_callee13$(\_context13) { |
| [14066](#L14066) | while (1) switch (\_context13.prev = \_context13.next) { |
| [14067](#L14067) | case 0: |
| [14068](#L14068) | instance = document.querySelector('.ajax-load-more-wrap .alm-listing[data-woo="true"]'); // Get ALM instance |
| [14069](#L14069) | \_context13.next = 3; |
| [14070](#L14070) | return wooReset(); |
| [14071](#L14071) | case 3: |
| [14072](#L14072) | settings = \_context13.sent; |
| [14073](#L14073) | // Get WooCommerce `settings` via Ajax |
| [14074](#L14074) | if (settings) { |
| [14075](#L14075) | instance.dataset.wooSettings = settings; // Update data atts |
| [14076](#L14076) | almFilter('fade', '100', data, 'filter'); |
| [14077](#L14077) | } |
| [14078](#L14078) | case 5: |
| [14079](#L14079) | case "end": |
| [14080](#L14080) | return \_context13.stop(); |
| [14081](#L14081) | } |
| [14082](#L14082) | }, \_callee13); |
| [14083](#L14083) | }))()["catch"](function () { |
| [14084](#L14084) | console.warn('Ajax Load More: There was an issue resetting the Ajax Load More instance.'); |
| [14085](#L14085) | }); |
| [14086](#L14086) | } else { |
| [14087](#L14087) | // Standard ALM |
| [14088](#L14088) | almFilter('fade', '200', data, 'filter'); |
| [14089](#L14089) | } |
| [14090](#L14090) | }; |
| [14091](#L14091) |  |
| [14092](#L14092) | /\*\* |
| [14093](#L14093) | \* Get the total post count in the current query by ALM instance ID. |
| [14094](#L14094) | \* Note: Uses localized ALM variables. |
| [14095](#L14095) | \* |
| [14096](#L14096) | \* @see https://github.com/dcooney/wordpress-ajax-load-more/blob/main/core/classes/class-alm-localize.php |
| [14097](#L14097) | \* @param {string} id An optional Ajax Load More ID. |
| [14098](#L14098) | \* @return {number}   The results from the localized variable. |
| [14099](#L14099) | \*/ |
| [14100](#L14100) | var ajax\_load\_more\_getPostCount = function getPostCount() { |
| [14101](#L14101) | var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; |
| [14102](#L14102) | return getTotals('post\_count', id); |
| [14103](#L14103) | }; |
| [14104](#L14104) |  |
| [14105](#L14105) | /\*\* |
| [14106](#L14106) | \* Get the total number of posts by ALM instance ID. |
| [14107](#L14107) | \* Note: Uses localized ALM variables. |
| [14108](#L14108) | \* |
| [14109](#L14109) | \* @param {string} id An optional Ajax Load More ID. |
| [14110](#L14110) | \* @return {number}   The results from the localized variable. |
| [14111](#L14111) | \*/ |
| [14112](#L14112) | var getTotalPosts = function getTotalPosts() { |
| [14113](#L14113) | var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; |
| [14114](#L14114) | return getTotals('total\_posts', id); |
| [14115](#L14115) | }; |
| [14116](#L14116) |  |
| [14117](#L14117) | /\*\* |
| [14118](#L14118) | \* Get the total posts remaining in the current query by ALM instance ID. |
| [14119](#L14119) | \* Note: Uses localized ALM variables. |
| [14120](#L14120) | \* |
| [14121](#L14121) | \* @see https://github.com/dcooney/wordpress-ajax-load-more/blob/main/core/classes/class-alm-localize.php |
| [14122](#L14122) | \* @param {string} id An optional Ajax Load More ID. |
| [14123](#L14123) | \* @return {number}   The total remaining posts. |
| [14124](#L14124) | \*/ |
| [14125](#L14125) | var getTotalRemaining = function getTotalRemaining() { |
| [14126](#L14126) | var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; |
| [14127](#L14127) | return getTotals('remaining', id); |
| [14128](#L14128) | }; |
| [14129](#L14129) |  |
| [14130](#L14130) | /\*\* |
| [14131](#L14131) | \* Track Page Views and Analytics |
| [14132](#L14132) | \* |
| [14133](#L14133) | \* @since 5.0 |
| [14134](#L14134) | \* @param {string} type The add-on type that is triggering the analytics. |
| [14135](#L14135) | \*/ |
| [14136](#L14136) | var analytics = function analytics() { |
| [14137](#L14137) | var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; |
| [14138](#L14138) | var \_window$location = window.location, |
| [14139](#L14139) | \_window$location$path = \_window$location.pathname, |
| [14140](#L14140) | pathname = \_window$location$path === void 0 ? '' : \_window$location$path, |
| [14141](#L14141) | \_window$location$sear = \_window$location.search, |
| [14142](#L14142) | search = \_window$location$sear === void 0 ? '' : \_window$location$sear; |
| [14143](#L14143) |  |
| [14144](#L14144) | /\*\* |
| [14145](#L14145) | \* ALM Callback Function (URL Change) |
| [14146](#L14146) | \* |
| [14147](#L14147) | \* @see https://connekthq.com/plugins/ajax-load-more/docs/callback-functions/#url-update |
| [14148](#L14148) | \*/ |
| [14149](#L14149) | if (typeof almUrlUpdate === 'function') { |
| [14150](#L14150) | window.almUrlUpdate(pathname + search, type); |
| [14151](#L14151) | } |
| [14152](#L14152) |  |
| [14153](#L14153) | /\*\* |
| [14154](#L14154) | \* ALM Callback Function |
| [14155](#L14155) | \*/ |
| [14156](#L14156) | if (typeof almAnalytics === 'function') { |
| [14157](#L14157) | window.almAnalytics(pathname + search, type); |
| [14158](#L14158) | } |
| [14159](#L14159) | }; |
| [14160](#L14160) |  |
| [14161](#L14161) | /\*\* |
| [14162](#L14162) | \* Trigger Ajax Load More from other events. |
| [14163](#L14163) | \* |
| [14164](#L14164) | \* @since 5.0 |
| [14165](#L14165) | \* @param {Element} instance The HTML element. |
| [14166](#L14166) | \*/ |
| [14167](#L14167) | var start = function start(instance) { |
| [14168](#L14168) | if (!instance) { |
| [14169](#L14169) | return false; |
| [14170](#L14170) | } |
| [14171](#L14171) | window.almInit(instance); |
| [14172](#L14172) | }; |
| [14173](#L14173) |  |
| [14174](#L14174) | /\*\* |
| [14175](#L14175) | \* Scroll window to position (global function). |
| [14176](#L14176) | \* |
| [14177](#L14177) | \* @since 5.0 |
| [14178](#L14178) | \* @param {string} position The position to scroll. |
| [14179](#L14179) | \*/ |
| [14180](#L14180) | var almScroll = function almScroll(position) { |
| [14181](#L14181) | if (!position) { |
| [14182](#L14182) | return false; |
| [14183](#L14183) | } |
| [14184](#L14184) | window.scrollTo({ |
| [14185](#L14185) | top: position, |
| [14186](#L14186) | behavior: 'smooth' |
| [14187](#L14187) | }); |
| [14188](#L14188) | }; |
| [14189](#L14189) |  |
| [14190](#L14190) | /\*\* |
| [14191](#L14191) | \* Get the current top/left coordinates of an element relative to the document. |
| [14192](#L14192) | \* |
| [14193](#L14193) | \* @since 5.0 |
| [14194](#L14194) | \* @param {HTMLElement} el The HTML element. |
| [14195](#L14195) | \* @return {Object}        The top/left coordinates. |
| [14196](#L14196) | \*/ |
| [14197](#L14197) | var getOffset = function getOffset() { |
| [14198](#L14198) | var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null; |
| [14199](#L14199) | if (!el) { |
| [14200](#L14200) | return false; |
| [14201](#L14201) | } |
| [14202](#L14202) | var rect = el.getBoundingClientRect(); |
| [14203](#L14203) | var scrollLeft = window.scrollX || document.documentElement.scrollLeft; |
| [14204](#L14204) | var scrollTop = window.scrollY || document.documentElement.scrollTop; |
| [14205](#L14205) | return { |
| [14206](#L14206) | top: rect.top + scrollTop, |
| [14207](#L14207) | left: rect.left + scrollLeft |
| [14208](#L14208) | }; |
| [14209](#L14209) | }; |
| [14210](#L14210) |  |
| [14211](#L14211) | /\*\* |
| [14212](#L14212) | \* Trigger a click event to load Ajax Load More content. |
| [14213](#L14213) | \* |
| [14214](#L14214) | \* @param {string} id The Ajax Load More ID. |
| [14215](#L14215) | \*/ |
| [14216](#L14216) | var click = function click() { |
| [14217](#L14217) | var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''; |
| [14218](#L14218) | var alm = document.querySelector('.ajax-load-more-wrap'); |
| [14219](#L14219) | var button = ''; |
| [14220](#L14220) | if (!id && alm) { |
| [14221](#L14221) | // Default ALM element. |
| [14222](#L14222) | button = alm.querySelector('button.alm-load-more-btn'); |
| [14223](#L14223) | if (button) { |
| [14224](#L14224) | button.click(); |
| [14225](#L14225) | } |
| [14226](#L14226) | } else { |
| [14227](#L14227) | // Ajax Load More by ID. |
| [14228](#L14228) | alm = document.querySelector(".ajax-load-more-wrap[data-id=\"".concat(id, "\"]")); |
| [14229](#L14229) | if (alm) { |
| [14230](#L14230) | button = alm.querySelector('button.alm-load-more-btn'); |
| [14231](#L14231) | if (button) { |
| [14232](#L14232) | button.click(); |
| [14233](#L14233) | } |
| [14234](#L14234) | } |
| [14235](#L14235) | } |
| [14236](#L14236) | }; |
| [14237](#L14237) |  |
| [14238](#L14238) | /\*\* |
| [14239](#L14239) | \* Load ALM inside the WP Block Editor. |
| [14240](#L14240) | \* |
| [14241](#L14241) | \* @since 7.1.0 |
| [14242](#L14242) | \* @param {Element} instance The HTML element. |
| [14243](#L14243) | \*/ |
| [14244](#L14244) | var wpblock = function wpblock(instance) { |
| [14245](#L14245) | var listing = instance.querySelector('.alm-listing'); |
| [14246](#L14246) | if (!listing || instance.dataset.blockLoaded === 'true') { |
| [14247](#L14247) | return; // Exit if does not exist or block already loaded. |
| [14248](#L14248) | } |
| [14249](#L14249) |  |
| [14250](#L14250) | instance.dataset.blockLoaded = 'true'; |
| [14251](#L14251) | listing.dataset.scroll = 'false'; // Remove scroll. |
| [14252](#L14252) | start(instance); |
| [14253](#L14253) | }; |
| [14254](#L14254) | }(); |
| [14255](#L14255) | ajaxloadmore = \_\_webpack\_exports\_\_; |
| [14256](#L14256) | /\*\*\*\*\*\*/ })() |
| [14257](#L14257) | ; |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/ajax-load-more/trunk/build/frontend/ajax-load-more.js?format=txt)
* [Original Format](/export/3220493/ajax-load-more/trunk/build/frontend/ajax-load-more.js)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


