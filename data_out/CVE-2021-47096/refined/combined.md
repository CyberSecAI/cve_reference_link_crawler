=== Content from git.kernel.org_1937dd12_20250111_193156.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Jaroslav Kysela <perex@perex.cz> | 2021-12-18 13:39:25 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-12-29 12:28:50 +0100 |
| commit | [b398fcbe4de1e1100867fdb6f447c6fbc8fe7085](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085)) | |
| tree | [a31485f18a96bf9b1c00fac44faf52858ad63099](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085) | |
| parent | [3fd58303b05e23eaf752d7b300c2d67c95267d01](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3fd58303b05e23eaf752d7b300c2d67c95267d01) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085&id2=3fd58303b05e23eaf752d7b300c2d67c95267d01)) | |
| download | [linux-b398fcbe4de1e1100867fdb6f447c6fbc8fe7085.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b398fcbe4de1e1100867fdb6f447c6fbc8fe7085.tar.gz) | |

ALSA: rawmidi - fix the uninitalized user\_pversioncommit 39a8fc4971a00d22536aeb7d446ee4a97810611b upstream.
The user\_pversion was uninitialized for the user space file structure
in the open function, because the file private structure use
kmalloc for the allocation.
The kernel ALSA sequencer code clears the file structure, so no additional
fixes are required.
Cc: stable@kernel.org
Cc: broonie@kernel.org
BugLink: https://github.com/alsa-project/alsa-lib/issues/178
Fixes: 09d23174402d ("ALSA: rawmidi: introduce SNDRV\_RAWMIDI\_IOCTL\_USER\_PVERSION")
Reported-by: syzbot+88412ee8811832b00dbe@syzkaller.appspotmail.com
Signed-off-by: Jaroslav Kysela <perex@perex.cz>
Link: [https://lore.kernel.org/r/20211218123925.2583847-1-perex@perex.cz](https://lore.kernel.org/r/20211218123925.2583847-1-perex%40perex.cz)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085)

| -rw-r--r-- | [sound/core/rawmidi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/core/rawmidi.c?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/sound/core/rawmidi.c b/sound/core/rawmidi.cindex 6f30231bdb8845..befa9809ff001e 100644--- a/[sound/core/rawmidi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/core/rawmidi.c?id=3fd58303b05e23eaf752d7b300c2d67c95267d01)+++ b/[sound/core/rawmidi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/core/rawmidi.c?id=b398fcbe4de1e1100867fdb6f447c6fbc8fe7085)@@ -447,6 +447,7 @@ static int snd\_rawmidi\_open(struct inode \*inode, struct file \*file) err = -ENOMEM; goto \_\_error; }+ rawmidi\_file->user\_pversion = 0; init\_waitqueue\_entry(&wait, current); add\_wait\_queue(&rmidi->open\_wait, &wait); while (1) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 19:30:33 +0000



=== Content from git.kernel.org_2442f972_20250111_193154.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=39a8fc4971a00d22536aeb7d446ee4a97810611b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=39a8fc4971a00d22536aeb7d446ee4a97810611b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=39a8fc4971a00d22536aeb7d446ee4a97810611b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=39a8fc4971a00d22536aeb7d446ee4a97810611b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Jaroslav Kysela <perex@perex.cz> | 2021-12-18 13:39:25 +0100 |
| --- | --- | --- |
| committer | Takashi Iwai <tiwai@suse.de> | 2021-12-22 20:18:27 +0100 |
| commit | [39a8fc4971a00d22536aeb7d446ee4a97810611b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=39a8fc4971a00d22536aeb7d446ee4a97810611b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=39a8fc4971a00d22536aeb7d446ee4a97810611b)) | |
| tree | [4e802f8d7e861cb9455db41446d737c923351168](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=39a8fc4971a00d22536aeb7d446ee4a97810611b) | |
| parent | [78ea40efb48e978756db2ce45fcfa55bac056b91](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=78ea40efb48e978756db2ce45fcfa55bac056b91) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=39a8fc4971a00d22536aeb7d446ee4a97810611b&id2=78ea40efb48e978756db2ce45fcfa55bac056b91)) | |
| download | [linux-39a8fc4971a00d22536aeb7d446ee4a97810611b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-39a8fc4971a00d22536aeb7d446ee4a97810611b.tar.gz) | |

ALSA: rawmidi - fix the uninitalized user\_pversionThe user\_pversion was uninitialized for the user space file structure
in the open function, because the file private structure use
kmalloc for the allocation.
The kernel ALSA sequencer code clears the file structure, so no additional
fixes are required.
Cc: stable@kernel.org
Cc: broonie@kernel.org
BugLink: https://github.com/alsa-project/alsa-lib/issues/178
Fixes: 09d23174402d ("ALSA: rawmidi: introduce SNDRV\_RAWMIDI\_IOCTL\_USER\_PVERSION")
Reported-by: syzbot+88412ee8811832b00dbe@syzkaller.appspotmail.com
Signed-off-by: Jaroslav Kysela <perex@perex.cz>
Link: [https://lore.kernel.org/r/20211218123925.2583847-1-perex@perex.cz](https://lore.kernel.org/r/20211218123925.2583847-1-perex%40perex.cz)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=39a8fc4971a00d22536aeb7d446ee4a97810611b)

| -rw-r--r-- | [sound/core/rawmidi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/core/rawmidi.c?id=39a8fc4971a00d22536aeb7d446ee4a97810611b) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/sound/core/rawmidi.c b/sound/core/rawmidi.cindex 6f30231bdb8845..befa9809ff001e 100644--- a/[sound/core/rawmidi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/core/rawmidi.c?id=78ea40efb48e978756db2ce45fcfa55bac056b91)+++ b/[sound/core/rawmidi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/core/rawmidi.c?id=39a8fc4971a00d22536aeb7d446ee4a97810611b)@@ -447,6 +447,7 @@ static int snd\_rawmidi\_open(struct inode \*inode, struct file \*file) err = -ENOMEM; goto \_\_error; }+ rawmidi\_file->user\_pversion = 0; init\_waitqueue\_entry(&wait, current); add\_wait\_queue(&rmidi->open\_wait, &wait); while (1) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 19:30:32 +0000


