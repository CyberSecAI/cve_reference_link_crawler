

Bugzilla – Bug 701843
Division by Zero at devices/gdevepsn.c:343 in eps\_print\_page
Last modified: 2019-11-06 12:20:56 UTC

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=701843&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=701843&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 701843**](show_bug.cgi?id=701843)
- Division by Zero at devices/gdevepsn.c:343 in eps\_print\_page

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Division by Zero at devices/gdevepsn.c:343 in eps\_print\_page

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Ghostscript | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Ghostscript "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | General ([show other bugs](buglist.cgi?component=General&product=Ghostscript&bug_status=__open__)) | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | master | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | PC Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | P4 normal | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Julian Smith | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2019-11-05 17:02 UTC by Suhwan | | --- | --- | | Modified: | 2019-11-06 12:20 UTC ([History](show_activity.cgi?id=701843)) | | CC List: | 0 users | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Customer:](page.cgi?id=fields.html#cf_customer "A custom Free Text field in this installation of Bugzilla.") |  | | [Word Size:](page.cgi?id=fields.html#cf_wordsize "For example x86 would be 32 and x86_64 would be 64.") | --- | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [**poc**](attachment.cgi?id=18448 "View the content of the attachment") (117.73 KB, application/pdf)  [2019-11-05 17:02 UTC](#attach_18448 "Go to the comment associated with the attachment"), Suhwan | [Details](attachment.cgi?id=18448&action=edit) | | [Add an attachment](attachment.cgi?bugid=701843&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=701843&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=701843#c0)  Suhwan    2019-11-05 17:02:06 UTC  ``` Created [attachment 18448](attachment.cgi?id=18448 "poc") [[details]](attachment.cgi?id=18448&action=edit "poc") poc  Hello  I found a Division by Zero bug in GhostScript. Please confirm.  Thanks.  OS:        Ubuntu 18.04 64bit Version:   commit [1159afbcad927e1a32008b0ab87e257fc21da8e2](http://www.ghostscript.com/cgi-bin/findgit.cgi?1159afbcad927e1a32008b0ab87e257fc21da8e2)  Steps to reproduce: 1. Download the .POC files. 2. Compile the source code with "make sanitize" using gcc. 3. Run following cmd.  gs -dBATCH -dNOPAUSE -dSAFER -r8 -dNOCIE -dFitPage -sOutputFile=tmp -sDEVICE=eps9mid $PoC  Here's ASAN report.  ==7611==ERROR: AddressSanitizer: FPE on unknown address 0x55ca65b69916 (pc 0x55ca65b69916 bp 0x7ffc89ba5a20 sp 0x7ffc89ba58b0 T0)     #0 0x55ca65b69915 in eps_print_page devices/gdevepsn.c:343     #1 0x55ca65b6a08e in eps9mid_print_page devices/gdevepsn.c:476     #2 0x55ca65663a02 in gx_default_print_page_copies base/gdevprn.c:1231     #3 0x55ca656633d1 in gdev_prn_output_page_aux base/gdevprn.c:1133     #4 0x55ca656636cb in gdev_prn_bg_output_page base/gdevprn.c:1181     #5 0x55ca65d4183e in gs_output_page base/gsdevice.c:212     #6 0x55ca663a0e6b in zoutputpage psi/zdevice.c:416     #7 0x55ca662bdbc6 in do_call_operator psi/interp.c:86     #8 0x55ca662c7345 in interp psi/interp.c:1300     #9 0x55ca662bf713 in gs_call_interp psi/interp.c:520     #10 0x55ca662bedb8 in gs_interpret psi/interp.c:477     #11 0x55ca6629330f in gs_main_interpret psi/imain.c:253     #12 0x55ca662967c4 in gs_main_run_string_end psi/imain.c:791     #13 0x55ca66296189 in gs_main_run_string_with_length psi/imain.c:735     #14 0x55ca662960fb in gs_main_run_string psi/imain.c:716     #15 0x55ca662a2dbf in run_string psi/imainarg.c:1117     #16 0x55ca662a2b62 in runarg psi/imainarg.c:1086     #17 0x55ca662a23e1 in argproc psi/imainarg.c:1008     #18 0x55ca6629cbad in gs_main_init_with_args01 psi/imainarg.c:241     #19 0x55ca6629d011 in gs_main_init_with_args psi/imainarg.c:288     #20 0x55ca662a8541 in psapi_init_with_args psi/psapi.c:272     #21 0x55ca66477b71 in gsapi_init_with_args psi/iapi.c:148     #22 0x55ca65047ef8 in main psi/gs.c:95     #23 0x7f07735dfb96 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21b96)     #24 0x55ca65047c99 in _start (gs+0x36cc99)  AddressSanitizer can not provide additional info. SUMMARY: AddressSanitizer: FPE devices/gdevepsn.c:343 in eps_print_page ```  [Comment 1](show_bug.cgi?id=701843#c1)  Julian Smith    2019-11-06 11:55:28 UTC  ``` There's a similar bug in devices/gdevepsc.c:epsc_print_page, which can be seen with:      ./sanbin/gs -dBATCH -dNOPAUSE -dSAFER -r8 -dNOCIE -dFitPage -sOutputFile=tmp -sDEVICE=epsonc  ../bug-701843.pdf ```  [Comment 2](show_bug.cgi?id=701843#c2)  Julian Smith    2019-11-06 12:20:56 UTC  ``` Fixed in:     <https://git.ghostscript.com/?p=ghostpdl.git;a=commit;h=f70ab2044429fe4b991801476ea3f4b4a5c0cdf4>     <https://git.ghostscript.com/?p=ghostpdl.git;a=commit;h=4e713293de84b689c4ab358f3e110ea54aa81925> ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=701843)
* - [XML](show_bug.cgi?ctype=xml&id=701843)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=701843)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=701843&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=701843&GoAheadAndLogIn=1#forgot)
    Login:

    [x]

