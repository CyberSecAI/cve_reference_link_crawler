=== Content from plugins.trac.wordpress.org_a2ed042e_20250111_085333.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3039989%2540sms-alert%252Ftrunk%26old%3D3032487%2540sms-alert%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3032487/sms-alert/trunk?old=3039989&old_path=%2Fsms-alert%2Ftrunk)

---

# Changes in [sms-alert/trunk](/browser/sms-alert/trunk?rev=3039989 "Show entry in browser") [[3032487:3039989]](/log/sms-alert/trunk?rev=3039989&stop_rev=3032487 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[sms-alert/trunk](/browser/sms-alert/trunk?rev=3039989)
Files:

30 edited

* [SMSAlert-wc-order-sms.php](/browser/sms-alert/trunk/SMSAlert-wc-order-sms.php?rev=3039989 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [classes/setting-options.php](/browser/sms-alert/trunk/classes/setting-options.php?rev=3036521 "Show entry in browser")
  (modified)
  ([3 diffs](#file1 "Show differences"))
* [css/admin.css](/browser/sms-alert/trunk/css/admin.css?rev=3036521 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [handler/forms/class-bookingcalendar.php](/browser/sms-alert/trunk/handler/forms/class-bookingcalendar.php?rev=3039613 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [handler/forms/class-elementor.php](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3039613 "Show entry in browser")
  (modified)
  ([6 diffs](#file4 "Show differences"))
* [handler/forms/class-fluentform.php](/browser/sms-alert/trunk/handler/forms/class-fluentform.php?rev=3039613 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [handler/forms/class-forminator.php](/browser/sms-alert/trunk/handler/forms/class-forminator.php?rev=3039613 "Show entry in browser")
  (modified)
  ([2 diffs](#file6 "Show differences"))
* [handler/forms/class-formmaker.php](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=3039613 "Show entry in browser")
  (modified)
  ([6 diffs](#file7 "Show differences"))
* [handler/forms/class-ninjaform.php](/browser/sms-alert/trunk/handler/forms/class-ninjaform.php?rev=3036521 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [handler/forms/class-pieregistration.php](/browser/sms-alert/trunk/handler/forms/class-pieregistration.php?rev=3039613 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [handler/forms/class-ultimatemember.php](/browser/sms-alert/trunk/handler/forms/class-ultimatemember.php?rev=3039613 "Show entry in browser")
  (modified)
  ([1 diff](#file10 "Show differences"))
* [handler/forms/class-userswpform.php](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3039613 "Show entry in browser")
  (modified)
  ([5 diffs](#file11 "Show differences"))
* [handler/forms/class-wpcafe.php](/browser/sms-alert/trunk/handler/forms/class-wpcafe.php?rev=3039613 "Show entry in browser")
  (modified)
  ([2 diffs](#file12 "Show differences"))
* [handler/forms/class-wpforms.php](/browser/sms-alert/trunk/handler/forms/class-wpforms.php?rev=3039613 "Show entry in browser")
  (modified)
  ([4 diffs](#file13 "Show differences"))
* [handler/forms/class-wplogin.php](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3038252 "Show entry in browser")
  (modified)
  ([6 diffs](#file14 "Show differences"))
* [handler/forms/class-wpmember.php](/browser/sms-alert/trunk/handler/forms/class-wpmember.php?rev=3039613 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [handler/forms/woocommerce/wc-checkout.php](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613 "Show entry in browser")
  (modified)
  ([13 diffs](#file16 "Show differences"))
* [handler/forms/woocommerce/wc-registration.php](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3039613 "Show entry in browser")
  (modified)
  ([6 diffs](#file17 "Show differences"))
* [helper/class-abandonedcart.php](/browser/sms-alert/trunk/helper/class-abandonedcart.php?rev=3036826 "Show entry in browser")
  (modified)
  ([2 diffs](#file18 "Show differences"))
* [helper/class-backinstock.php](/browser/sms-alert/trunk/helper/class-backinstock.php?rev=3036826 "Show entry in browser")
  (modified)
  ([1 diff](#file19 "Show differences"))
* [helper/class-shortcode.php](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3039613 "Show entry in browser")
  (modified)
  ([6 diffs](#file20 "Show differences"))
* [helper/constants.php](/browser/sms-alert/trunk/helper/constants.php?rev=3039989 "Show entry in browser")
  (modified)
  ([1 diff](#file21 "Show differences"))
* [helper/delivery-drivers-woocommerce.php](/browser/sms-alert/trunk/helper/delivery-drivers-woocommerce.php?rev=3039613 "Show entry in browser")
  (modified)
  ([2 diffs](#file22 "Show differences"))
* [helper/shortcode.php](/browser/sms-alert/trunk/helper/shortcode.php?rev=3036521 "Show entry in browser")
  (modified)
  ([3 diffs](#file23 "Show differences"))
* [helper/utility.php](/browser/sms-alert/trunk/helper/utility.php?rev=3039613 "Show entry in browser")
  (modified)
  ([1 diff](#file24 "Show differences"))
* [helper/wc-integration.php](/browser/sms-alert/trunk/helper/wc-integration.php?rev=3036826 "Show entry in browser")
  (modified)
  ([2 diffs](#file25 "Show differences"))
* [js/otp-sms.min.js](/browser/sms-alert/trunk/js/otp-sms.min.js?rev=3038252 "Show entry in browser")
  (modified)
  ([3 diffs](#file26 "Show differences"))
* [js/phone-number-validate.js](/browser/sms-alert/trunk/js/phone-number-validate.js?rev=3039613 "Show entry in browser")
  (modified)
  ([1 diff](#file27 "Show differences"))
* [readme.txt](/browser/sms-alert/trunk/readme.txt?rev=3039989 "Show entry in browser")
  (modified)
  ([2 diffs](#file28 "Show differences"))
* [views/otp-section-template.php](/browser/sms-alert/trunk/views/otp-section-template.php?rev=3036521 "Show entry in browser")
  (modified)
  ([3 diffs](#file29 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [sms-alert/trunk/SMSAlert-wc-order-sms.php](/changeset/3039989/sms-alert/trunk/SMSAlert-wc-order-sms.php?old=3032487&old_path=sms-alert%2Ftrunk%2FSMSAlert-wc-order-sms.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/SMSAlert-wc-order-sms.php")

  | [r3032487](/browser/sms-alert/trunk/SMSAlert-wc-order-sms.php?rev=3032487#L12 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/SMSAlert-wc-order-sms.php?rev=3039989#L12 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 12 | 12 | \* Plugin URI: https://wordpress.org/plugins/sms-alert/ |
  | 13 | 13 | \* Description: This is a WooCommerce add-on. By Using this plugin admin and buyer can get notification after placing order via sms using SMS Alert. |
  | 14 |  | \* Version: 3.~~6.9~~ |
  |  | 14 | \* Version: 3.7.0 |
  | 15 | 15 | \* Author: Cozy Vision Technologies Pvt. Ltd. |
  | 16 | 16 | \* Author URI: https://www.smsalert.co.in |
  | 17 | 17 | \* WC requires at least: 2.0.0 |
  | 18 |  | \* WC tested up to: 8.~~5.2~~ |
  |  | 18 | \* WC tested up to: 8.6.1 |
  | 19 | 19 | \* Text Domain: sms-alert |
  | 20 | 20 | \* License: GPLv2 |
* ## [sms-alert/trunk/classes/setting-options.php](/changeset/3036521/sms-alert/trunk/classes/setting-options.php?old=3026647&old_path=sms-alert%2Ftrunk%2Fclasses%2Fsetting-options.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/classes/setting-options.php")

  | [r3032487](/browser/sms-alert/trunk/classes/setting-options.php?rev=3026647#L376 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/classes/setting-options.php?rev=3036521#L376 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 376 | 376 | 'enable\_short\_url'             => 'off', |
  | 377 | 377 | 'subscription\_reminder\_cron\_time' => '10:00', |
  | 378 |  | 'auto\_sync'                    => 'off', |
  | 379 |  | 'low\_bal\_alert'                => 'off', |
  | 380 |  | 'show\_flag'                    => 'off', |
  | 381 |  | 'alert\_email'                  => '', |
  | 382 |  | 'otp\_template\_style'           => 'popup-4', |
  | 383 |  | 'checkout\_payment\_plans'       => '', |
  | 384 |  | 'otp\_for\_selected\_gateways'    => 'off', |
  | 385 |  | 'otp\_for\_roles'                => 'off', |
  | 386 |  | 'otp\_verify\_btn\_text'          => 'Click here to verify your Phone', |
  | 387 |  | 'default\_country\_code'         => '91', |
  | 388 |  | 'sa\_mobile\_pattern'            => '', |
  | 389 |  | 'login\_with\_otp'               => 'off', |
  | 390 |  | 'hide\_default\_login\_form'      => 'off', |
  | 391 |  | 'registration\_msg'             => 'off', |
  | 392 |  | 'admin\_registration\_msg'       => 'off', |
  | 393 |  | 'admin\_low\_stock\_msg'          => 'off', |
  | 394 |  | 'admin\_out\_of\_stock\_msg'       => 'off', |
  | 395 |  | 'reset\_password'               => 'off', |
  | 396 |  | 'otp\_in\_popup'                 => 'off', |
  | 397 |  | 'post\_order\_verification'      => 'off', |
  | 398 |  | 'pre\_order\_verification'       => 'off', |
  |  | 378 | 'auto\_sync'                     => 'off', |
  |  | 379 | 'low\_bal\_alert'                 => 'off', |
  |  | 380 | 'show\_flag'                     => 'off', |
  |  | 381 | 'alert\_email'                   => '', |
  |  | 382 | 'otp\_template\_style'            => 'popup-4', |
  |  | 383 | 'checkout\_payment\_plans'        => '', |
  |  | 384 | 'otp\_for\_selected\_gateways'     => 'off', |
  |  | 385 | 'otp\_for\_roles'                 => 'off', |
  |  | 386 | 'otp\_verify\_btn\_text'           => 'Click here to verify your Phone', |
  |  | 387 | 'default\_country\_code'          => '91', |
  |  | 388 | 'sa\_mobile\_pattern'             => '', |
  |  | 389 | 'login\_with\_otp'                => 'off', |
  |  | 390 | 'login\_with\_admin\_otp'          => 'off', |
  |  | 391 | 'hide\_default\_login\_form'       => 'off', |
  |  | 392 | 'hide\_default\_admin\_login\_form' => 'off', |
  |  | 393 | 'registration\_msg'              => 'off', |
  |  | 394 | 'admin\_registration\_msg'        => 'off', |
  |  | 395 | 'admin\_low\_stock\_msg'           => 'off', |
  |  | 396 | 'admin\_out\_of\_stock\_msg'        => 'off', |
  |  | 397 | 'reset\_password'                => 'off', |
  |  | 398 | 'otp\_in\_popup'                  => 'off', |
  |  | 399 | 'post\_order\_verification'       => 'off', |
  |  | 400 | 'pre\_order\_verification'        => 'off', |
  | 399 | 401 | ), |
  | 400 | 402 | 'smsalert\_sync'                 => array( |
  | […](/browser/sms-alert/trunk/classes/setting-options.php?rev=3026647#L475) | […](/browser/sms-alert/trunk/classes/setting-options.php?rev=3036521#L477) |  |
  | 475 | 477 | $sa\_mobile\_pattern          = smsalert\_get\_option('sa\_mobile\_pattern', 'smsalert\_general', ''); |
  | 476 | 478 | $login\_with\_otp             = smsalert\_get\_option('login\_with\_otp', 'smsalert\_general', 'off'); |
  |  | 479 | $login\_with\_admin\_otp      = smsalert\_get\_option('login\_with\_admin\_otp', 'smsalert\_general', 'off'); |
  | 477 | 480 | $hide\_default\_login\_form    = smsalert\_get\_option('hide\_default\_login\_form', 'smsalert\_general', 'off'); |
  |  | 481 | $hide\_default\_admin\_login\_form    = smsalert\_get\_option('hide\_default\_admin\_login\_form', 'smsalert\_general', 'off'); |
  | 478 | 482 | $daily\_bal\_alert            = smsalert\_get\_option('daily\_bal\_alert', 'smsalert\_general', 'on'); |
  | 479 | 483 | $subscription\_reminder\_cron\_time           = smsalert\_get\_option('subscription\_reminder\_cron\_time', 'smsalert\_general', '10:00'); |
  | […](/browser/sms-alert/trunk/classes/setting-options.php?rev=3026647#L657) | […](/browser/sms-alert/trunk/classes/setting-options.php?rev=3036521#L661) |  |
  | 657 | 661 | 'sms\_otp\_send'                     => $sms\_otp\_send, |
  | 658 | 662 | 'login\_with\_otp'                   => $login\_with\_otp, |
  |  | 663 | 'login\_with\_admin\_otp'             => $login\_with\_admin\_otp, |
  | 659 | 664 | 'hide\_default\_login\_form'          => $hide\_default\_login\_form, |
  |  | 665 | 'hide\_default\_admin\_login\_form'    => $hide\_default\_admin\_login\_form, |
  | 660 | 666 | 'enable\_reset\_password'            => $enable\_reset\_password, |
  | 661 | 667 | 'otp\_in\_popup'                     => $otp\_in\_popup, |
* ## [sms-alert/trunk/css/admin.css](/changeset/3036521/sms-alert/trunk/css/admin.css?old=2991898&old_path=sms-alert%2Ftrunk%2Fcss%2Fadmin.css "Show the [3032487:3039989] differences restricted to sms-alert/trunk/css/admin.css")

  | [r3032487](/browser/sms-alert/trunk/css/admin.css?rev=2991898#L1 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/css/admin.css?rev=3036521#L1 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | #SMSAlert\_send\_sms\_overlay\_block{position:absolute;background:rgba(255,255,255,.5);top:0;left:0;z-index:9999;display:none}#SMSAlert\_send\_sms\_overlay\_block img{position:absolute;top:40%;left:47%}.SMSAlert\_send\_sms\_result{background-color:#ffffe0;padding:6px;width:93%;display:none}#SMSAlert\_send\_sms\_any{margin-top:20px;margin-top:20px;margin-top:20px}#SMSAlert\_send\_sms\_any h3.hndle{padding:15px}#SMSAlert\_send\_sms\_any .inside{padding:0 15px}#SMSAlert\_send\_sms\_any label{font-size:15px;padding-bottom:10px}#SMSAlert\_send\_sms\_any input,#SMSAlert\_send\_sms\_any textarea{display:block}#SMSAlert\_send\_sms\_any span{font-style:italic;color:#4e4e4e}#SMSAlert\_receiver\_number{width:350px;height:29px;padding:5px}#SMSAlert\_send\_sms\_any{margin-bottom:15px}.send\_sms\_to\_any\_notice{padding:7px 10px}.send\_sms\_to\_any\_notice p{line-height:25px;font-size:14px}.SMSAlert\_sub\_active .SMSAlert\_tab\_remove{cursor:pointer!important;opacity:1;filter:Alpha(opacity=100)}.SMSAlert\_box.SMSAlert\_active,.SMSAlert\_box.SMSAlert\_sub\_active{display:block}.SMSAlert\_tab\_label{display:block;width:inherit}.SMSAlert\_settings\_box{margin-top:20px}.SMSAlert\_nav\_tabs{background-color:#f5f5f5;border-right:1px solid #dfdfdf;float:left;height:700px;margin:0;width:190px;margin-left:14px}.SMSAlert\_nav\_tabs ul{list-style:none outside none;margin:0 0;padding:0}.SMSAlert\_nav\_tabs .SMSAlert\_active,.SMSAlert\_nav\_tabs .SMSAlert\_active a,.SMSAlert\_nav\_tabs .SMSAlert\_active a:hover,.SMSAlert\_nav\_tabs .SMSAlert\_sub\_active,.SMSAlert\_nav\_tabs .SMSAlert\_sub\_active a,.SMSAlert\_nav\_tabs .SMSAlert\_sub\_active a:hover{background:none repeat scroll 0 0 #fff;color:#333}.SMSAlert\_nav\_tabs .SMSAlert\_active a{outline:0;box-shadow:none}.SMSAlert\_nav\_tabs .SMSAlert\_active{border-color:#da4722;border-width:1px 0 1px 1px;border-style:solid;margin:0 -2px 0 -1px;padding:0}.SMSAlert\_nav\_tabs li{border-color:transparent;border-style:solid;border-width:1px 0;list-style-type:none;margin-bottom:0}.SMSAlert\_nav\_tabs a{display:block;line-height:18px;padding:5px 5px 5px 12px;text-decoration:none;font-size:14px;color:#da4722}.SMSAlert\_nav\_tabs a:hover{color:#000}.SMSAlert\_nav\_tabs li a span.dashicons-before:before{font-size:20px}.SMSAlert\_nav\_box{background:none repeat scroll 0 0 #fff;display:none;min-height:350px;overflow:auto;padding:15px}.SMSAlert\_nav\_box.SMSAlert\_active{display:block;border:1px solid #da4722}.SMSAlert\_nav\_box table.form-table textarea,.cvt-accordion.SMSAlert\_box table.form-table textarea,.woocommerce .SMSAlert\_nav\_box table.form-table textarea,.woocommerce .cvt-accordion table.form-table textarea{width:100%;padding:15px;height:88px;margin-top:15px}.SMSAlert\_box table.form-table td{padding:10px 10px}td>input[type=checkbox]{margin-top:-3px}.SMSAlert\_nav\_box h2{margin:.5em 0}.smsalert\_wrapper .form-table td,.smsalert\_wrapper .form-table th{padding-top:5px}.SMSAlert\_nav\_box .hidden{display:none!important}.creditlist{clear:both;width:100%;display:inline-block;border-left:5px solid #00a0d4;padding-left:0}.route{width:59%;float:left;background:#efefef;padding-left:13px;border:1px solid #dad2d2}.credit{float:left;border-left:5px solid #50b74f;padding-left:5px;height:79px;line-height:35px}.cvt-accordion{overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.25);border-radius:3px;background:#f7f7f7}.cvt-accordion-body{margin:5px}.accordion-section .cvt-accordion-body-title{position:relative;text-align:left}.accordion-section .cvt-accordion-body-title:hover{color:#da4722}.cvt-accordion-body-title{width:97.5%;padding:12px 1%;display:inline-block;transition:all linear .15s;box-shadow:2px 2px 4px rgba(95,95,95,.83);text-decoration:none;font-weight:600;font-size:14px;background:#e5e5e5;color:#555;margin-bottom:0;cursor:pointer;}.expand\_btn{height:43px;float:right;position:absolute;top:0;right:10px}.expand\_btn:after{content:'\002B';color:#da4722;float:right;font-weight:700;font-size:25px;margin-top:8px}.expand\_btn.active:after{content:"\2212"}.cvt-accordion-body-title:hover{background:#f1f1f1}.cvt-accordion-body-title a:hover{color:#555}.cvt-accordion-body-content{padding:15px;text-align:justify;display:none}.cvt-accordion-body-title:active,.cvt-accordion-body-title:focus,.cvt-accordion-body-title:hover{outline:0;box-shadow:2px 2px 4px rgba(95,95,95,.83)}.anchordisabled{pointer-events:none;opacity:.5}.admin\_no{padding-bottom:6px;padding-top:1px}.chosen-select{width:100%}.chosen-select-deselect{width:100%}.chosen-container{display:inline-block;font-size:14px;position:relative;vertical-align:middle}.chosen-container .chosen-drop{background:#fff;border:1px solid #ccc;border-bottom-right-radius:4px;border-bottom-left-radius:4px;-webkit-box-shadow:0 8px 8px rgba(0,0,0,.25);box-shadow:0 8px 8px rgba(0,0,0,.25);margin-top:-1px;position:absolute;top:100%;left:-9000px;z-index:1060}.chosen-container.chosen-with-drop .chosen-drop{left:0;right:0}.chosen-container .chosen-results{color:#555;margin:0 4px 4px 0;max-height:80px!important;padding:0 0 0 4px;position:relative;overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}.chosen-container .chosen-results li{display:none;line-height:1.42857;list-style:none;margin:0;padding:5px 6px}.chosen-container .chosen-results li em{background:#feffde;font-style:normal}.chosen-container .chosen-results li.group-result{display:list-item;cursor:default;color:#999;font-weight:700}.chosen-container .chosen-results li.group-option{padding-left:15px}.chosen-container .chosen-results li.active-result{cursor:pointer;display:list-item}.chosen-container .chosen-results li.highlighted{background-color:#337ab7;background-image:none;color:#fff}.chosen-container .chosen-results li.highlighted em{background:0 0}.chosen-container .chosen-results li.disabled-result{display:list-item;color:#777}.chosen-container .chosen-results .no-results{background:#eee;display:list-item}.chosen-container .chosen-results-scroll{background:#fff;margin:0 4px;position:absolute;text-align:center;width:321px;z-index:1}.chosen-container .chosen-results-scroll span{display:inline-block;height:1.42857;text-indent:-5000px;width:9px}.chosen-container .chosen-results-scroll-down{bottom:0}.chosen-container .chosen-results-scroll-down span{background:url(../images/chosen-sprite.png) no-repeat -4px -3px}.chosen-container .chosen-results-scroll-up span{background:url(../images/chosen-sprite.png) no-repeat -22px -3px}.chosen-container-single .chosen-single{background-color:#fff;-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;border:1px solid #ccc;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);color:#555;display:block;height:34px;overflow:hidden;line-height:34px;padding:0 0 0 8px;position:relative;text-decoration:none;white-space:nowrap}.chosen-container-single .chosen-single span{display:block;margin-right:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chosen-container-single .chosen-single abbr{background:url(../images/chosen-sprite.png) right top no-repeat;display:block;font-size:1px;height:10px;position:absolute;right:26px;top:12px;width:12px}.chosen-container-single .chosen-single abbr:hover{background-position:right -11px}.chosen-container-single .chosen-single.chosen-disabled .chosen-single abbr:hover{background-position:right 2px}.chosen-container-single .chosen-single div{display:block;height:100%;position:absolute;top:0;right:0;width:18px}.chosen-container-single .chosen-single div b{background:url(../images/chosen-sprite.png) no-repeat 0 7px;display:block;height:100%;width:100%}.chosen-container-single .chosen-default{color:#777}.chosen-container-single .chosen-search{margin:0;padding:3px 4px;position:relative;white-space:nowrap;z-index:1000}.chosen-container-single .chosen-search input[type=text]{background:url(../images/chosen-sprite.png) no-repeat 100% -20px,#fff;border:1px solid #ccc;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);margin:1px 0;padding:4px 20px 4px 4px;width:100%}.chosen-container-single .chosen-drop{margin-top:-1px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box}.chosen-container-single-nosearch .chosen-search input[type=text]{position:absolute;left:-9000px}.chosen-container-multi .chosen-choices{background-color:#fff;border:1px solid #ccc;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);cursor:text;height:auto!important;height:1%;margin:0;overflow:hidden;padding:0;position:relative}.chosen-container-multi .chosen-choices li{float:left;list-style:none}.chosen-container-multi .chosen-choices .search-field{margin:0;padding:0;white-space:nowrap}.chosen-container-multi .chosen-choices .search-field input[type=text]{background:0 0!important;border:0!important;-webkit-box-shadow:none;box-shadow:none;color:#555;height:32px;margin:0;padding:4px;outline:0}.chosen-container-multi .chosen-choices .search-field .default{color:#999}.chosen-container-multi .chosen-choices .search-choice{-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;background-color:#eee;border:1px solid #ccc;border-radius:40px;background-image:-webkit-linear-gradient(top,#fff 0,#eee 100%);background-image:-o-linear-gradient(top,#fff 0,#eee 100%);background-image:linear-gradient(to bottom,#fff 0,#eee 100%);background-repeat:repeat-x;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);color:#333;cursor:default;line-height:13px;margin:5px 0 3px 5px;padding:3px 20px 3px 5px;position:relative}.chosen-container-multi .chosen-choices .search-choice .search-choice-close{background:url(../images/chosen-sprite.png) right top no-repeat;display:block;font-size:1px;height:10px;position:absolute;right:4px;top:5px;width:12px;cursor:pointer}.chosen-container-multi .chosen-choices .search-choice .search-choice-close:hover{background-position:right -11px}.chosen-container-multi .chosen-choices .search-choice-focus{background:#d4d4d4}.chosen-container-multi .chosen-choices .search-choice-focus .search-choice-close{background-position:right -11px}.chosen-container-multi .chosen-results{margin:0;padding:0}.chosen-container-multi .chosen-drop .result-selected{display:none}.chosen-container-active .chosen-single{border:1px solid #66afe9;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;-webkit-transition:border linear .2s,box-shadow linear .2s;-o-transition:border linear .2s,box-shadow linear .2s;transition:border linear .2s,box-shadow linear .2s}.chosen-container-active.chosen-with-drop .chosen-single{background-color:#fff;border:1px solid #66afe9;border-bottom-right-radius:0;border-bottom-left-radius:0;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;-webkit-transition:border linear .2s,box-shadow linear .2s;-o-transition:border linear .2s,box-shadow linear .2s;transition:border linear .2s,box-shadow linear .2s}.chosen-container-active.chosen-with-drop .chosen-single div{background:0 0;border-left:none}.chosen-container-active.chosen-with-drop .chosen-single div b{background-position:-18px 7px}.chosen-container-active .chosen-choices{border:1px solid #66afe9;border-bottom-right-radius:0;border-bottom-left-radius:0;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;-webkit-transition:border linear .2s,box-shadow linear .2s;-o-transition:border linear .2s,box-shadow linear .2s;transition:border linear .2s,box-shadow linear .2s}.chosen-container-active .chosen-choices .search-field input[type=text]{color:#111!important}.chosen-container-active.chosen-with-drop .chosen-choices{border-bottom-right-radius:0;border-bottom-left-radius:0}.chosen-disabled{cursor:default;opacity:.5!important}.chosen-disabled .chosen-single{cursor:default}.chosen-disabled .chosen-choices .search-choice .search-choice-close{cursor:default}.chosen-rtl{text-align:right}.chosen-rtl .chosen-single{padding:0 8px 0 0;overflow:visible}.chosen-rtl .chosen-single span{margin-left:26px;margin-right:0;direction:rtl}.chosen-rtl .chosen-single div{left:7px;right:auto}.chosen-rtl .chosen-single abbr{left:26px;right:auto}.chosen-rtl .chosen-choices .search-field input[type=text]{direction:rtl}.chosen-rtl .chosen-choices li{float:right}.chosen-rtl .chosen-choices .search-choice{margin:6px 5px 3px 0;padding:3px 5px 3px 19px}.chosen-rtl .chosen-choices .search-choice .search-choice-close{background-position:right top;left:4px;right:auto}.chosen-rtl.chosen-container-single .chosen-results{margin:0 0 4px 4px;padding:0 4px 0 0}.chosen-rtl .chosen-results .group-option{padding-left:0;padding-right:15px}.chosen-rtl.chosen-container-active.chosen-with-drop .chosen-single div{border-right:none}.chosen-rtl .chosen-search input[type=text]{background:url(../images/chosen-sprite.png) no-repeat -28px -20px,#fff;direction:rtl;padding:4px 5px 4px 20px}@media only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min-resolution:2dppx){.chosen-container .chosen-results-scroll-down span,.chosen-container .chosen-results-scroll-up span,.chosen-container-multi .chosen-choices .search-choice .search-choice-close,.chosen-container-single .chosen-search input[type=text],.chosen-container-single .chosen-single abbr,.chosen-container-single .chosen-single div b,.chosen-rtl .chosen-search input[type=text]{background-image:url(../images/chosen-sprite@2x.png)!important;background-size:52px 37px!important;background-repeat:no-repeat!important}}.SMSAlert\_nav\_box .chosen-container-multi .chosen-choices{height:30px!important}.SMSAlert\_nav\_box .chosen-container-multi .chosen-choices li.search-field input[type=text]{height:auto}.woocommerce .SMSAlert\_nav\_box table.form-table input[type=text],.woocommerce .SMSAlert\_nav\_box table.form-table select{width:auto;padding:3px 5px}.tooltip{display:inline;position:absolute;font-size:10px}.tooltip:hover:after{background:#333;background:rgba(0,0,0,.8);border-radius:5px;bottom:26px;color:#fff;content:attr(data-title);left:20%;padding:5px 15px;position:absolute;z-index:98;min-width:100px}.tooltip:hover:before{border:solid;border-color:#333 transparent;border-width:6px 6px 0 6px;bottom:20px;content:"";left:50%;position:absolute;z-index:99}.tooltip .dashicons:before{font-size:14px;cursor:help}.tooltip .dashicons,.tooltip .dashicons-before:before{vertical-align:sub}#sa\_progressbar{width:600px;overflow:hidden;position:relative}@keyframes loader-animation{0%{left:-100%}49%{left:100%}50%{left:100%}100%{left:-100%}}.loader{height:5px;width:100%}.loader .bar{width:100%;position:absolute;height:5px;background-color:#1e90ff;animation-name:loader-animation;animation-duration:3s;animation-iteration-count:infinite;animation-timing-function:ease-in-out}#smsalert\_bckendform\_btn,.button-primary{margin-left:10px}#smsalert\_bckendform\_btn:focus,a:focus{box-shadow:none}.dashicons{vertical-align:middle}h3 .dashicons{height:40px!important;width:40px!important;font-size:40px!important}label{vertical-align:text-bottom}.form-table .login-width{width:29%}.tags-input-wrapper{background:#fff;padding:3px;border-radius:4px;min-width:450px;border:1px solid #ccc;float:left;max-width:540px}.tags-input-wrapper input{border:none;background:0 0;outline:0;width:150px}.tags-input-wrapper .tag{display:inline-block;background-image:linear-gradient(to bottom,#fff 0,#eee 100%);color:#333;border-radius:40px;padding:2px 0 0 5px;margin-right:5px;border:1px solid #c7c7c7}.tags-input-wrapper .tag a{margin:0 7px 0 5px;display:inline-block;cursor:pointer;color:#000;vertical-align:text-bottom}.header .logo{display:none}.header .menu-btn{display:none}@media (max-width:40em){.header .menu-btn:checked~.menu{max-height:350px}.header .menu-btn:checked~.menu-icon .navicon{background:0 0}.header .menu-btn:checked~.menu-icon .navicon:before{transform:rotate(-45deg)}.header .menu-btn:checked~.menu-icon .navicon:after{transform:rotate(45deg)}.header .menu-btn:checked~.menu-icon:not(.steps) .navicon:after,.header .menu-btn:checked~.menu-icon:not(.steps) .navicon:before{top:0}.header li a{display:block;border-right:1px solid #f4f4f4;text-decoration:none}.header .menu-btn:hover,.header li a:hover{background-color:#f4f4f4}.header .menu{clear:none;float:left;max-height:none;width:100%}.header .menu-icon{display:none}.header ul{margin:0;padding:0;list-style:none;overflow:hidden;background-color:#fff}.header .menu{clear:both;max-height:0;transition:max-height .2s ease-out}.header{background-color:#fff;box-shadow:1px 1px 4px 0 rgba(0,0,0,.1);position:absolute;width:100%;z-index:3}.header .menu-icon{cursor:pointer;display:inline-block;float:left;padding:28px 20px;position:relative;user-select:none}.header .menu-icon .navicon{background:#333;display:block;height:2px;position:relative;transition:background .2s ease-out;width:18px}.header .menu-icon .navicon:after,.header .menu-icon .navicon:before{background:#333;content:'';display:block;height:100%;position:absolute;transition:all .2s ease-out;width:100%}.header .menu-icon .navicon:before{top:5px}.header .menu-icon .navicon:after{top:-5px}.header .logo{display:block;text-align:center;font-size:25px;padding:20px 50px;text-decoration:none}.admin\_email,.admin\_no{display:none!important}.tags-input-wrapper{max-width:265px;min-width:0}.tags-input-wrapper .tag{margin-top:4px}.form-table .login-width{width:100%}.tooltip{position:relative}}@media (max-width:48em){.SMSAlert\_nav\_tabs{height:0;margin:0;width:0;margin-left:0}.cvt-accordion{margin-top:0}.cvt-accordion:nth-child(1){margin-top:60px}.hidemb{display:none}.form-table select,.form-table td input[type=text],input[type=checkbox]{margin-bottom:5px;margin-top:5px}.expand\_btn:after{margin-top:18px}h3 .dashicons{height:25px!important;width:25px!important;font-size:25px!important}.route{width:55%}.credit{height:66px}.form-table td input[type=text],.form-table td select#default\_country\_code,.form-table td select#group\_auto\_sync{width:47%}input[type=number]{width:18%}}.cwginstock-panel-heading h4{color:#fff}.center-block{display:block;margin-right:auto;margin-left:auto}.form-group{margin-bottom:15px}#cwg-bis-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;-moz-opacity:.5;-khtml-opacity:.5;opacity:.5;z-index:10000}.cwgstock\_button{width:100%;padding-top:5px;background:#87ceeb;color:#fff}.admin\_page\_all-order-variable #wpadminbar{display:none}.admin\_page\_all-order-variable #adminmenuback{display:none}.admin\_page\_all-order-variable #adminmenuwrap{display:none}.admin\_page\_all-order-variable #wpfooter{display:none}.admin\_page\_all-order-variable .notice{display:none!important}.order\_click{cursor:pointer}.nested::before,.open-list::before{content:"\002b";margin-right:5px;font-size:20px;color:#000;font-weight:900}.nested-close::before{content:"\2212"!important}#sa\_order\_variable ul{margin-left:25px}#sa\_order\_variable a,.nested{text-decoration:none;font-size:16px}#order\_list li{list-style:square;line-height:30px}.h3-background{background:#0073aa;padding:10px;color:#fff;border-radius:4px}.more\_tab ul li input[type=radio],.tabset>ul>li>input[type=radio]{position:absolute;display:none;}.tabset .tab-panel{display:none}li.more\_tab a{color:#444;font-weight:600;font-size:13px;text-decoration:none;vertical-align:-webkit-baseline-middle;margin:10px}li.more\_tab a span{margin-top:10px}.tabset .more\_tab ul{position:absolute;z-index:9;background:#fff;padding:10px;box-shadow:2px 2px 4px rgb(95 95 95 / 83%);margin:10px 0;display:block}.tab-panels .tab-panel:first-child{display:block}.tabset ul li>label{position:relative;display:inline-block;padding:5px 10px 15px;cursor:pointer;font-weight:600}.tabset ul li>label::after{content:"";position:absolute;left:15px;bottom:10px;width:22px;height:4px;background:#8d8d8d}.tabset ul li>input:focus+label,.tabset ul li>label:hover,li.more\_tab a:hover{color:#000}.tabset ul li>input:checked+label::after,.tabset ul li>input:focus+label::after,.tabset ul li>label:hover::after{background:#da4722}.tabset>ul>li>input:checked+label{border-color:#ccc;border-bottom:1px solid #fff!important;margin-bottom:2px;border:1px solid #da4722}.tab-panel{padding:15px 0;border-top:1px solid #da4722}.tabset>ul{display:flex;margin:0}.tabset>ul li{margin-bottom:-4px}.wp-core-ui .button-danger{background:#e14d43;border-color:#d02c21 #ba281e #ba281e;color:#fff;box-shadow:0 1px 0 #ba281e;text-shadow:0 -1px 1px #ba281e,1px 0 1px #ba281e,0 1px 1px #ba281e,-1px 0 1px #ba281e}.wp-core-ui .button-danger:focus,.wp-core-ui .button-danger:hover{background:#e35950;border-color:#ba281e;color:#fff;box-shadow:0 1px 0 #ba281e}#smsalert\_form .hide{display:none}.sa-modal-title{font-size:1.75rem;margin:0;display:flex}.sa-close{cursor:pointer;font-size:1.525rem;font-weight:700;color:#000;opacity:.5;margin-left:auto;order:2;background:0 0;border:none;line-height:12px}.sa-close:active,.sa-close:focus,.sa-close:hover{border:none!important;outline:0!important}.sa-modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000;display:none;width:100%}.sa-modal-backdrop.sa-show{opacity:.5!important;display:block}.sa-modal.sa-show{display:block}.sa-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;display:none;overflow:hidden;outline:0}.sa-modal-header{padding:1rem;border-bottom:1px solid #e9ecef;border-top-left-radius:.3rem;border-top-right-radius:.3rem;display:flex}.sa-modal-body{position:relative;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding:1rem}.sa-fade.sa-show{opacity:1}.sa-fade{opacity:0;transition:opacity .15s linear}.sa-modal-dialog{max-width:500px;margin:4.75rem auto;background:#fff;padding:15px;border-radius:5px}.sa-modal-footer{display:flex;padding:1rem;justify-content:flex-end}.sa-modal-footer>:not(:last-child){margin-right:.25rem}.bottom-border{border-bottom:1px dashed #b4b9be}.sa-delete-btn{text-decoration:none;font-size:14px}.sa-delete-btn span{font-size:16px}sup{color:#da4722}.nopointer{pointer-events:none}.sa\_bg\_warning{background:#fbe1da}.sa\_help\_guide{text-transform:uppercase;margin-top:8px;line-height:22px}.sa\_txt\_warning{color:#f5273b}.blink\_me{animation:blinker 1s linear infinite}@keyframes blinker{50%{opacity:0}}.hasErrorField{border-color:red!important}.td-heading{font-weight:600}#send\_admin\_sms\_to{width:96px;float:left}.otp\_modal[type=radio]{position:absolute;opacity:0;width:0;height:0}.otp\_modal[type=radio]+img{cursor:pointer}.otp\_modal[type=radio]:checked+img{outline:2px solid #8bd882}.rad\_thumb{margin-right:20px}.rad\_thumb img{width:100px;height:100px}.btn-outline{color:#ba281e!important;float:right;margin-right:15px!important;padding:5px;text-decoration:none;font-size:14px}.btn-outline:hover{text-decoration:underline}#cf7si-sms-sortables .cvt-accordion-body-title.active{color:#222;background:#e5e5e5}#cf7si-sms-sortables .cvt-accordion-body-title .expand\_btn.active{background:0 0}.sa-menu-token{background-color:#fff;position:absolute;z-index:9;overflow:auto;max-height:300px}.sa-menu-token .menu-item{cursor:pointer;padding:.4rem}.sa-menu-token .menu-item.selected{background-color:#2271b1;color:#fff}.sa-menu-token .menu-token .menu-item:hover{background-color:#2271b1;color:#fff}#wc\_sms\_alert\_send\_sms\_meta\_box .sa-menu-token{top:145px!important;left:15px!important}.sa\_widget\_title\_container{text-align:center;padding:8px}.sa\_counter\_title{font-size:14px}.sa\_counter\_body{padding:.5em;text-align:center;font-size:2em}.counter\_widget{min-width:150px;margin-right:2%;width:18.4%;float:left;background-color:#fff;margin-top:2em;color:#fff}.count\_widget\_right{margin-right:0}.counter\_widget{display:inline-block;position:relative}#sa\_counter\_container{width:100%}#sa\_total\_recovered\_count{background-color:#cd4c26}#sa\_total\_recovered\_amount{background-color:#0192a5}#sa\_total\_abandoned\_count{background-color:#01a300}#sa\_total\_abandoned\_amount{background-color:#5a3bb3}#sa\_total\_recovery\_rate{background-color:#ea8906}#sa\_start\_end\_date\_div,#sa\_submit\_button,#smsalert\_date\_range,.date\_time\_filter\_label{float:left;margin-right:5px}.tags-input-wrapper input:focus{border:none;outline:0;box-shadow:none}.wpforms-panel-content-section-smsalert .wpforms-panel-field .tags-input-wrapper{max-width:inherit;width:100%;min-width:inherit}.min\_width\_200{min-width:200px;} |
  |  | 1 | #SMSAlert\_send\_sms\_overlay\_block{position:absolute;background:rgba(255,255,255,.5);top:0;left:0;z-index:9999;display:none}#SMSAlert\_send\_sms\_overlay\_block img{position:absolute;top:40%;left:47%}.SMSAlert\_send\_sms\_result{background-color:#ffffe0;padding:6px;width:93%;display:none}#SMSAlert\_send\_sms\_any{margin-top:20px;margin-top:20px;margin-top:20px}#SMSAlert\_send\_sms\_any h3.hndle{padding:15px}#SMSAlert\_send\_sms\_any .inside{padding:0 15px}#SMSAlert\_send\_sms\_any label{font-size:15px;padding-bottom:10px}#SMSAlert\_send\_sms\_any input,#SMSAlert\_send\_sms\_any textarea{display:block}#SMSAlert\_send\_sms\_any span{font-style:italic;color:#4e4e4e}#SMSAlert\_receiver\_number{width:350px;height:29px;padding:5px}#SMSAlert\_send\_sms\_any{margin-bottom:15px}.send\_sms\_to\_any\_notice{padding:7px 10px}.send\_sms\_to\_any\_notice p{line-height:25px;font-size:14px}.SMSAlert\_sub\_active .SMSAlert\_tab\_remove{cursor:pointer!important;opacity:1;filter:Alpha(opacity=100)}.SMSAlert\_box.SMSAlert\_active,.SMSAlert\_box.SMSAlert\_sub\_active{display:block}.SMSAlert\_tab\_label{display:block;width:inherit}.SMSAlert\_settings\_box{margin-top:20px}.SMSAlert\_nav\_tabs{background-color:#f5f5f5;border-right:1px solid #dfdfdf;float:left;height:700px;margin:0;width:190px;margin-left:14px}.SMSAlert\_nav\_tabs ul{list-style:none outside none;margin:0 0;padding:0}.SMSAlert\_nav\_tabs .SMSAlert\_active,.SMSAlert\_nav\_tabs .SMSAlert\_active a,.SMSAlert\_nav\_tabs .SMSAlert\_active a:hover,.SMSAlert\_nav\_tabs .SMSAlert\_sub\_active,.SMSAlert\_nav\_tabs .SMSAlert\_sub\_active a,.SMSAlert\_nav\_tabs .SMSAlert\_sub\_active a:hover{background:none repeat scroll 0 0 #fff;color:#333}.SMSAlert\_nav\_tabs .SMSAlert\_active a{outline:0;box-shadow:none}.SMSAlert\_nav\_tabs .SMSAlert\_active{border-color:#da4722;border-width:1px 0 1px 1px;border-style:solid;margin:0 -2px 0 -1px;padding:0}.SMSAlert\_nav\_tabs li{border-color:transparent;border-style:solid;border-width:1px 0;list-style-type:none;margin-bottom:0}.SMSAlert\_nav\_tabs a{display:block;line-height:18px;padding:5px 5px 5px 12px;text-decoration:none;font-size:14px;color:#da4722}.SMSAlert\_nav\_tabs a:hover{color:#000}.SMSAlert\_nav\_tabs li a span.dashicons-before:before{font-size:20px}.SMSAlert\_nav\_box{background:none repeat scroll 0 0 #fff;display:none;min-height:350px;overflow:auto;padding:15px}.SMSAlert\_nav\_box.SMSAlert\_active{display:block;border:1px solid #da4722}.SMSAlert\_nav\_box table.form-table textarea,.cvt-accordion.SMSAlert\_box table.form-table textarea,.woocommerce .SMSAlert\_nav\_box table.form-table textarea,.woocommerce .cvt-accordion table.form-table textarea{width:100%;padding:15px;height:88px;margin-top:15px}.SMSAlert\_box table.form-table td{padding:10px 10px}td>input[type=checkbox]{margin-top:-3px}.SMSAlert\_nav\_box h2{margin:.5em 0}.smsalert\_wrapper .form-table td,.smsalert\_wrapper .form-table th{padding-top:5px}.SMSAlert\_nav\_box .hidden{display:none!important}.creditlist{clear:both;width:100%;display:inline-block;border-left:5px solid #00a0d4;padding-left:0}.route{width:59%;float:left;background:#efefef;padding-left:13px;border:1px solid #dad2d2}.credit{float:left;border-left:5px solid #50b74f;padding-left:5px;height:79px;line-height:35px}.cvt-accordion{overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.25);border-radius:3px;background:#f7f7f7}.cvt-accordion-body{margin:5px}.accordion-section .cvt-accordion-body-title{position:relative;text-align:left}.accordion-section .cvt-accordion-body-title:hover{color:#da4722}.cvt-accordion-body-title{width:97.5%;padding:12px 1%;display:inline-block;transition:all linear .15s;box-shadow:2px 2px 4px rgba(95,95,95,.83);text-decoration:none;font-weight:600;font-size:14px;background:#e5e5e5;color:#555;margin-bottom:0;cursor:pointer;}.expand\_btn{height:43px;float:right;position:absolute;top:0;right:10px}.expand\_btn:after{content:'\002B';color:#da4722;float:right;font-weight:700;font-size:25px;margin-top:8px}.expand\_btn.active:after{content:"\2212"}.cvt-accordion-body-title:hover{background:#f1f1f1}.cvt-accordion-body-title a:hover{color:#555}.cvt-accordion-body-content{padding:15px;text-align:justify;display:none}.cvt-accordion-body-title:active,.cvt-accordion-body-title:focus,.cvt-accordion-body-title:hover{outline:0;box-shadow:2px 2px 4px rgba(95,95,95,.83)}.anchordisabled{pointer-events:none;opacity:.5}.admin\_no{padding-bottom:6px;padding-top:1px}.chosen-select{width:100%}.chosen-select-deselect{width:100%}.chosen-container{display:inline-block;font-size:14px;position:relative;vertical-align:middle}.chosen-container .chosen-drop{background:#fff;border:1px solid #ccc;border-bottom-right-radius:4px;border-bottom-left-radius:4px;-webkit-box-shadow:0 8px 8px rgba(0,0,0,.25);box-shadow:0 8px 8px rgba(0,0,0,.25);margin-top:-1px;position:absolute;top:100%;left:-9000px;z-index:1060}.chosen-container.chosen-with-drop .chosen-drop{left:0;right:0}.chosen-container .chosen-results{color:#555;margin:0 4px 4px 0;max-height:80px!important;padding:0 0 0 4px;position:relative;overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}.chosen-container .chosen-results li{display:none;line-height:1.42857;list-style:none;margin:0;padding:5px 6px}.chosen-container .chosen-results li em{background:#feffde;font-style:normal}.chosen-container .chosen-results li.group-result{display:list-item;cursor:default;color:#999;font-weight:700}.chosen-container .chosen-results li.group-option{padding-left:15px}.chosen-container .chosen-results li.active-result{cursor:pointer;display:list-item}.chosen-container .chosen-results li.highlighted{background-color:#337ab7;background-image:none;color:#fff}.chosen-container .chosen-results li.highlighted em{background:0 0}.chosen-container .chosen-results li.disabled-result{display:list-item;color:#777}.chosen-container .chosen-results .no-results{background:#eee;display:list-item}.chosen-container .chosen-results-scroll{background:#fff;margin:0 4px;position:absolute;text-align:center;width:321px;z-index:1}.chosen-container .chosen-results-scroll span{display:inline-block;height:1.42857;text-indent:-5000px;width:9px}.chosen-container .chosen-results-scroll-down{bottom:0}.chosen-container .chosen-results-scroll-down span{background:url(../images/chosen-sprite.png) no-repeat -4px -3px}.chosen-container .chosen-results-scroll-up span{background:url(../images/chosen-sprite.png) no-repeat -22px -3px}.chosen-container-single .chosen-single{background-color:#fff;-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;border:1px solid #ccc;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);color:#555;display:block;height:34px;overflow:hidden;line-height:34px;padding:0 0 0 8px;position:relative;text-decoration:none;white-space:nowrap}.chosen-container-single .chosen-single span{display:block;margin-right:26px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chosen-container-single .chosen-single abbr{background:url(../images/chosen-sprite.png) right top no-repeat;display:block;font-size:1px;height:10px;position:absolute;right:26px;top:12px;width:12px}.chosen-container-single .chosen-single abbr:hover{background-position:right -11px}.chosen-container-single .chosen-single.chosen-disabled .chosen-single abbr:hover{background-position:right 2px}.chosen-container-single .chosen-single div{display:block;height:100%;position:absolute;top:0;right:0;width:18px}.chosen-container-single .chosen-single div b{background:url(../images/chosen-sprite.png) no-repeat 0 7px;display:block;height:100%;width:100%}.chosen-container-single .chosen-default{color:#777}.chosen-container-single .chosen-search{margin:0;padding:3px 4px;position:relative;white-space:nowrap;z-index:1000}.chosen-container-single .chosen-search input[type=text]{background:url(../images/chosen-sprite.png) no-repeat 100% -20px,#fff;border:1px solid #ccc;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);margin:1px 0;padding:4px 20px 4px 4px;width:100%}.chosen-container-single .chosen-drop{margin-top:-1px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box}.chosen-container-single-nosearch .chosen-search input[type=text]{position:absolute;left:-9000px}.chosen-container-multi .chosen-choices{background-color:#fff;border:1px solid #ccc;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);cursor:text;height:auto!important;height:1%;margin:0;overflow:hidden;padding:0;position:relative}.chosen-container-multi .chosen-choices li{float:left;list-style:none}.chosen-container-multi .chosen-choices .search-field{margin:0;padding:0;white-space:nowrap}.chosen-container-multi .chosen-choices .search-field input[type=text]{background:0 0!important;border:0!important;-webkit-box-shadow:none;box-shadow:none;color:#555;height:32px;margin:0;padding:4px;outline:0}.chosen-container-multi .chosen-choices .search-field .default{color:#999}.chosen-container-multi .chosen-choices .search-choice{-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;background-color:#eee;border:1px solid #ccc;border-radius:40px;background-image:-webkit-linear-gradient(top,#fff 0,#eee 100%);background-image:-o-linear-gradient(top,#fff 0,#eee 100%);background-image:linear-gradient(to bottom,#fff 0,#eee 100%);background-repeat:repeat-x;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);color:#333;cursor:default;line-height:13px;margin:5px 0 3px 5px;padding:3px 20px 3px 5px;position:relative}.chosen-container-multi .chosen-choices .search-choice .search-choice-close{background:url(../images/chosen-sprite.png) right top no-repeat;display:block;font-size:1px;height:10px;position:absolute;right:4px;top:5px;width:12px;cursor:pointer}.chosen-container-multi .chosen-choices .search-choice .search-choice-close:hover{background-position:right -11px}.chosen-container-multi .chosen-choices .search-choice-focus{background:#d4d4d4}.chosen-container-multi .chosen-choices .search-choice-focus .search-choice-close{background-position:right -11px}.chosen-container-multi .chosen-results{margin:0;padding:0}.chosen-container-multi .chosen-drop .result-selected{display:none}.chosen-container-active .chosen-single{border:1px solid #66afe9;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;-webkit-transition:border linear .2s,box-shadow linear .2s;-o-transition:border linear .2s,box-shadow linear .2s;transition:border linear .2s,box-shadow linear .2s}.chosen-container-active.chosen-with-drop .chosen-single{background-color:#fff;border:1px solid #66afe9;border-bottom-right-radius:0;border-bottom-left-radius:0;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;-webkit-transition:border linear .2s,box-shadow linear .2s;-o-transition:border linear .2s,box-shadow linear .2s;transition:border linear .2s,box-shadow linear .2s}.chosen-container-active.chosen-with-drop .chosen-single div{background:0 0;border-left:none}.chosen-container-active.chosen-with-drop .chosen-single div b{background-position:-18px 7px}.chosen-container-active .chosen-choices{border:1px solid #66afe9;border-bottom-right-radius:0;border-bottom-left-radius:0;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;box-shadow:0 1px 1px rgba(0,0,0,.075) inset,0 0 8px #66afe9;-webkit-transition:border linear .2s,box-shadow linear .2s;-o-transition:border linear .2s,box-shadow linear .2s;transition:border linear .2s,box-shadow linear .2s}.chosen-container-active .chosen-choices .search-field input[type=text]{color:#111!important}.chosen-container-active.chosen-with-drop .chosen-choices{border-bottom-right-radius:0;border-bottom-left-radius:0}.chosen-disabled{cursor:default;opacity:.5!important}.chosen-disabled .chosen-single{cursor:default}.chosen-disabled .chosen-choices .search-choice .search-choice-close{cursor:default}.chosen-rtl{text-align:right}.chosen-rtl .chosen-single{padding:0 8px 0 0;overflow:visible}.chosen-rtl .chosen-single span{margin-left:26px;margin-right:0;direction:rtl}.chosen-rtl .chosen-single div{left:7px;right:auto}.chosen-rtl .chosen-single abbr{left:26px;right:auto}.chosen-rtl .chosen-choices .search-field input[type=text]{direction:rtl}.chosen-rtl .chosen-choices li{float:right}.chosen-rtl .chosen-choices .search-choice{margin:6px 5px 3px 0;padding:3px 5px 3px 19px}.chosen-rtl .chosen-choices .search-choice .search-choice-close{background-position:right top;left:4px;right:auto}.chosen-rtl.chosen-container-single .chosen-results{margin:0 0 4px 4px;padding:0 4px 0 0}.chosen-rtl .chosen-results .group-option{padding-left:0;padding-right:15px}.chosen-rtl.chosen-container-active.chosen-with-drop .chosen-single div{border-right:none}.chosen-rtl .chosen-search input[type=text]{background:url(../images/chosen-sprite.png) no-repeat -28px -20px,#fff;direction:rtl;padding:4px 5px 4px 20px}@media only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min-resolution:2dppx){.chosen-container .chosen-results-scroll-down span,.chosen-container .chosen-results-scroll-up span,.chosen-container-multi .chosen-choices .search-choice .search-choice-close,.chosen-container-single .chosen-search input[type=text],.chosen-container-single .chosen-single abbr,.chosen-container-single .chosen-single div b,.chosen-rtl .chosen-search input[type=text]{background-image:url(../images/chosen-sprite@2x.png)!important;background-size:52px 37px!important;background-repeat:no-repeat!important}}.SMSAlert\_nav\_box .chosen-container-multi .chosen-choices{height:30px!important}.SMSAlert\_nav\_box .chosen-container-multi .chosen-choices li.search-field input[type=text]{height:auto}.woocommerce .SMSAlert\_nav\_box table.form-table input[type=text],.woocommerce .SMSAlert\_nav\_box table.form-table select{width:auto;padding:3px 5px}.tooltip{display:inline;position:absolute;font-size:10px}.tooltip:hover:after{background:#333;background:rgba(0,0,0,.8);border-radius:5px;bottom:26px;color:#fff;content:attr(data-title);left:20%;padding:5px 15px;position:absolute;z-index:98;min-width:100px}.tooltip:hover:before{border:solid;border-color:#333 transparent;border-width:6px 6px 0 6px;bottom:20px;content:"";left:50%;position:absolute;z-index:99}.tooltip .dashicons:before{font-size:14px;cursor:help}.tooltip .dashicons,.tooltip .dashicons-before:before{vertical-align:sub}#sa\_progressbar{width:600px;overflow:hidden;position:relative}@keyframes loader-animation{0%{left:-100%}49%{left:100%}50%{left:100%}100%{left:-100%}}.loader{height:5px;width:100%}.loader .bar{width:100%;position:absolute;height:5px;background-color:#1e90ff;animation-name:loader-animation;animation-duration:3s;animation-iteration-count:infinite;animation-timing-function:ease-in-out}#smsalert\_bckendform\_btn,.button-primary{margin-left:10px}#smsalert\_bckendform\_btn:focus,a:focus{box-shadow:none}.dashicons{vertical-align:middle}h3 .dashicons{height:40px!important;width:40px!important;font-size:40px!important}label{vertical-align:text-bottom}.form-table .login-width{width:29%}.tags-input-wrapper{background:#fff;padding:3px;border-radius:4px;min-width:450px;border:1px solid #ccc;float:left;max-width:540px}.tags-input-wrapper input{border:none;background:0 0;outline:0;width:150px}.tags-input-wrapper .tag{display:inline-block;background-image:linear-gradient(to bottom,#fff 0,#eee 100%);color:#333;border-radius:40px;padding:2px 0 0 5px;margin-right:5px;border:1px solid #c7c7c7}.tags-input-wrapper .tag a{margin:0 7px 0 5px;display:inline-block;cursor:pointer;color:#000;vertical-align:text-bottom}.header .logo{display:none}.header .menu-btn{display:none}@media (max-width:40em){.header .menu-btn:checked~.menu{max-height:350px}.header .menu-btn:checked~.menu-icon .navicon{background:0 0}.header .menu-btn:checked~.menu-icon .navicon:before{transform:rotate(-45deg)}.header .menu-btn:checked~.menu-icon .navicon:after{transform:rotate(45deg)}.header .menu-btn:checked~.menu-icon:not(.steps) .navicon:after,.header .menu-btn:checked~.menu-icon:not(.steps) .navicon:before{top:0}.header li a{display:block;border-right:1px solid #f4f4f4;text-decoration:none}.header .menu-btn:hover,.header li a:hover{background-color:#f4f4f4}.header .menu{clear:none;float:left;max-height:none;width:100%}.header .menu-icon{display:none}.header ul{margin:0;padding:0;list-style:none;overflow:hidden;background-color:#fff}.header .menu{clear:both;max-height:0;transition:max-height .2s ease-out}.header{background-color:#fff;box-shadow:1px 1px 4px 0 rgba(0,0,0,.1);position:absolute;width:100%;z-index:3}.header .menu-icon{cursor:pointer;display:inline-block;float:left;padding:28px 20px;position:relative;user-select:none}.header .menu-icon .navicon{background:#333;display:block;height:2px;position:relative;transition:background .2s ease-out;width:18px}.header .menu-icon .navicon:after,.header .menu-icon .navicon:before{background:#333;content:'';display:block;height:100%;position:absolute;transition:all .2s ease-out;width:100%}.header .menu-icon .navicon:before{top:5px}.header .menu-icon .navicon:after{top:-5px}.header .logo{display:block;text-align:center;font-size:25px;padding:20px 50px;text-decoration:none}.admin\_email,.admin\_no{display:none!important}.tags-input-wrapper{max-width:265px;min-width:0}.tags-input-wrapper .tag{margin-top:4px}.form-table .login-width{width:100%}.tooltip{position:relative}}@media (max-width:48em){.SMSAlert\_nav\_tabs{height:0;margin:0;width:0;margin-left:0}.cvt-accordion{margin-top:0}.cvt-accordion:nth-child(1){margin-top:60px}.hidemb{display:none}.form-table select,.form-table td input[type=text],input[type=checkbox]{margin-bottom:5px;margin-top:5px}.expand\_btn:after{margin-top:18px}h3 .dashicons{height:25px!important;width:25px!important;font-size:25px!important}.route{width:55%}.credit{height:66px}.form-table td input[type=text],.form-table td select#default\_country\_code,.form-table td select#group\_auto\_sync{width:47%}input[type=number]{width:18%}}.cwginstock-panel-heading h4{color:#fff}.center-block{display:block;margin-right:auto;margin-left:auto}.form-group{margin-bottom:15px}#cwg-bis-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;-moz-opacity:.5;-khtml-opacity:.5;opacity:.5;z-index:10000}.cwgstock\_button{width:100%;padding-top:5px;background:#87ceeb;color:#fff}.admin\_page\_all-order-variable #wpadminbar{display:none}.admin\_page\_all-order-variable #adminmenuback{display:none}.admin\_page\_all-order-variable #adminmenuwrap{display:none}.admin\_page\_all-order-variable #wpfooter{display:none}.admin\_page\_all-order-variable .notice{display:none!important}.order\_click{cursor:pointer}.nested::before,.open-list::before{content:"\002b";margin-right:5px;font-size:20px;color:#000;font-weight:900}.nested-close::before{content:"\2212"!important}#sa\_order\_variable ul{margin-left:25px}#sa\_order\_variable a,.nested{text-decoration:none;font-size:16px}#order\_list li{list-style:square;line-height:30px}.h3-background{background:#0073aa;padding:10px;color:#fff;border-radius:4px}.more\_tab ul li input[type=radio],.tabset>ul>li>input[type=radio]{position:absolute;display:none;}.tabset .tab-panel{display:none}li.more\_tab a{color:#444;font-weight:600;font-size:13px;text-decoration:none;vertical-align:-webkit-baseline-middle;margin:10px}li.more\_tab a span{margin-top:10px}.tabset .more\_tab ul{position:absolute;z-index:9;background:#fff;padding:10px;box-shadow:2px 2px 4px rgb(95 95 95 / 83%);margin:10px 0;display:block}.tab-panels .tab-panel:first-child{display:block}.tabset ul li>label{position:relative;display:inline-block;padding:5px 10px 15px;cursor:pointer;font-weight:600}.tabset ul li>label::after{content:"";position:absolute;left:15px;bottom:10px;width:22px;height:4px;background:#8d8d8d}.tabset ul li>input:focus+label,.tabset ul li>label:hover,li.more\_tab a:hover{color:#000}.tabset ul li>input:checked+label::after,.tabset ul li>input:focus+label::after,.tabset ul li>label:hover::after{background:#da4722}.tabset>ul>li>input:checked+label{border-color:#ccc;border-bottom:1px solid #fff!important;margin-bottom:2px;border:1px solid #da4722}.tab-panel{padding:15px 0;border-top:1px solid #da4722}.tabset>ul{display:flex;margin:0}.tabset>ul li{margin-bottom:-4px}.wp-core-ui .button-danger{background:#e14d43;border-color:#d02c21 #ba281e #ba281e;color:#fff;box-shadow:0 1px 0 #ba281e;text-shadow:0 -1px 1px #ba281e,1px 0 1px #ba281e,0 1px 1px #ba281e,-1px 0 1px #ba281e}.wp-core-ui .button-danger:focus,.wp-core-ui .button-danger:hover{background:#e35950;border-color:#ba281e;color:#fff;box-shadow:0 1px 0 #ba281e}#smsalert\_form .hide{display:none}.sa-modal-title{font-size:1.75rem;margin:0;display:flex}.sa-close{cursor:pointer;font-size:1.525rem;font-weight:700;color:#000;opacity:.5;margin-left:auto;order:2;background:0 0;border:none;line-height:12px}.sa-close:active,.sa-close:focus,.sa-close:hover{border:none!important;outline:0!important}.sa-modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000;display:none;width:100%}.sa-modal-backdrop.sa-show{opacity:.5!important;display:block}.sa-modal.sa-show{display:block}.sa-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;display:none;overflow:hidden;outline:0}.sa-modal-header{padding:1rem;border-bottom:1px solid #e9ecef;border-top-left-radius:.3rem;border-top-right-radius:.3rem;display:flex}.sa-modal-body{position:relative;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;padding:1rem}.sa-fade.sa-show{opacity:1}.sa-fade{opacity:0;transition:opacity .15s linear}.sa-modal-dialog{max-width:500px;margin:4.75rem auto;background:#fff;padding:15px;border-radius:5px}.sa-modal-footer{display:flex;padding:1rem;justify-content:flex-end}.sa-modal-footer>:not(:last-child){margin-right:.25rem}.bottom-border{border-bottom:1px dashed #b4b9be}.sa-delete-btn{text-decoration:none;font-size:14px}.sa-delete-btn span{font-size:16px}sup{color:#da4722}.nopointer{pointer-events:none}.sa\_bg\_warning{background:#fbe1da}.sa\_help\_guide{text-transform:uppercase;margin-top:8px;line-height:22px}.sa\_txt\_warning{color:#f5273b}.blink\_me{animation:blinker 1s linear infinite}@keyframes blinker{50%{opacity:0}}.hasErrorField{border-color:red!important}.td-heading{font-weight:600}#send\_admin\_sms\_to{width:96px;float:left}.otp\_modal[type=radio]{position:absolute;opacity:0;width:0;height:0}.otp\_modal[type=radio]+img{cursor:pointer}.otp\_modal[type=radio]:checked+img{outline:2px solid #8bd882}.rad\_thumb{margin-right:20px}.rad\_thumb img{width:100px;height:100px}.btn-outline{color:#ba281e!important;float:right;margin-right:15px!important;padding:5px;text-decoration:none;font-size:14px}.btn-outline:hover{text-decoration:underline}#cf7si-sms-sortables .cvt-accordion-body-title.active{color:#222;background:#e5e5e5}#cf7si-sms-sortables .cvt-accordion-body-title .expand\_btn.active{background:0 0}.sa-menu-token{background-color:#fff;position:absolute;z-index:9;overflow:auto;max-height:300px}.sa-menu-token .menu-item{cursor:pointer;padding:.4rem}.sa-menu-token .menu-item.selected{background-color:#2271b1;color:#fff}.sa-menu-token .menu-token .menu-item:hover{background-color:#2271b1;color:#fff}#wc\_sms\_alert\_send\_sms\_meta\_box .sa-menu-token{top:145px!important;left:15px!important}.sa\_widget\_title\_container{text-align:center;padding:8px}.sa\_counter\_title{font-size:14px}.sa\_counter\_body{padding:.5em;text-align:center;font-size:2em}.counter\_widget{min-width:150px;margin-right:2%;width:18.4%;float:left;background-color:#fff;margin-top:2em;color:#fff}.count\_widget\_right{margin-right:0}.counter\_widget{display:inline-block;position:relative}#sa\_counter\_container{width:100%}#sa\_total\_recovered\_count{background-color:#cd4c26}#sa\_total\_recovered\_amount{background-color:#0192a5}#sa\_total\_abandoned\_count{background-color:#01a300}#sa\_total\_abandoned\_amount{background-color:#5a3bb3}#sa\_total\_recovery\_rate{background-color:#ea8906}#sa\_start\_end\_date\_div,#sa\_submit\_button,#smsalert\_date\_range,.date\_time\_filter\_label{float:left;margin-right:5px}.tags-input-wrapper input:focus{border:none;outline:0;box-shadow:none}.wpforms-panel-content-section-smsalert .wpforms-panel-field .tags-input-wrapper{max-width:inherit;width:100%;min-width:inherit}.min\_width\_200{min-width:200px;}.accordion-section .cvt-accordion-body-title input[type=checkbox]{text-indent: 0.002em !important;} |
* ## [sms-alert/trunk/handler/forms/class-bookingcalendar.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-bookingcalendar.php?old=3021199&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-bookingcalendar.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-bookingcalendar.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-bookingcalendar.php?rev=3021199#L176 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-bookingcalendar.php?rev=3039613#L176 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 176 | 176 | public function getFormField($form , $my\_boook\_type) |
  | 177 | 177 | { |
  | 178 |  |  |
  |  | 178 | $inline\_script = ''; |
  | 179 | 179 | if ('on' === smsalert\_get\_option('checkout\_show\_country\_code', 'smsalert\_general') &&  'off' === smsalert\_get\_option('otp\_enable', 'smsalert\_bc\_general') && ( 'on' === smsalert\_get\_option('customer\_bc\_notify\_pending', 'smsalert\_bc\_general') || 'on' === smsalert\_get\_option('customer\_bc\_notify\_approved', 'smsalert\_bc\_general') || 'on' === smsalert\_get\_option('customer\_bc\_notify\_trash', 'smsalert\_bc\_general') )) { |
  | 180 |  | $form .= '<script> |
  | 181 |  | jQuery("#phone1").addClass("phone-valid"); |
  | 182 |  | </script>'; |
  |  | 180 | $inline\_script .= 'jQuery("#phone1").addClass("phone-valid");'; |
  | 183 | 181 | } |
  | 184 | 182 | if ('on' === smsalert\_get\_option('checkout\_show\_country\_code', 'smsalert\_general') ||  'on' === smsalert\_get\_option('otp\_enable', 'smsalert\_bc\_general')) { |
  | 185 |  | $form .= '<script> |
  | 186 |  | var get\_click = jQuery(".btn-default").attr("onclick"); |
  |  | 183 | $inline\_script .= 'var get\_click = jQuery(".btn-default").attr("onclick"); |
  | 187 | 184 | jQuery(".btn-default").removeAttr("onclick"); |
  | 188 | 185 | var sub\_form = ""; |
  | […](/browser/sms-alert/trunk/handler/forms/class-bookingcalendar.php?rev=3021199#L198) | […](/browser/sms-alert/trunk/handler/forms/class-bookingcalendar.php?rev=3039613#L195) |  |
  | 198 | 195 | default\_click = Function(get\_click.replace("this.form", "sub\_form")); |
  | 199 | 196 | default\_click(); |
  | 200 |  | }); |
  | 201 |  | </script>'; |
  |  | 197 | });'; |
  | 202 | 198 | } |
  | 203 | 199 | if ('on' === smsalert\_get\_option('otp\_enable', 'smsalert\_bc\_general')) { |
  | 204 | 200 |  |
  | 205 | 201 | $form .= do\_shortcode('[sa\_verify phone\_selector="#phone1" submit\_selector= "form.booking\_form button"]'); |
  | 206 |  | $form .= '<script> |
  | 207 |  | setTimeout(function (){jQuery(".sa-otp-btn-init").removeAttr("onclick")}, 1000); |
  | 208 |  | </script>'; |
  | 209 |  | } |
  | 210 |  | return($form); |
  |  | 202 | $inline\_script .= 'setTimeout(function (){jQuery(".sa-otp-btn-init").removeAttr("onclick")}, 1000);'; |
  |  | 203 | } |
  |  | 204 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 205 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 206 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 207 | } |
  |  | 208 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  |  | 209 | return $form; |
  | 211 | 210 | } |
  | 212 | 211 |  |
* ## [sms-alert/trunk/handler/forms/class-elementor.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-elementor.php?old=3021199&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-elementor.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-elementor.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3021199#L398 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3039613#L398 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 398 | 398 | $form\_name                 = $settings['form\_name']; |
  | 399 | 399 | $fields                       = $settings['form\_fields']; |
  | 400 |  |  |
  |  | 400 | $inline\_script = ''; |
  | 401 | 401 | foreach ($fields as $field) { |
  | 402 | 402 | if ($field['field\_type'] == 'sa\_billing\_phone' ) { |
  | […](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3021199#L404) | […](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3039613#L404) |  |
  | 404 | 404 | $uniqueNo = rand(); |
  | 405 | 405 | $unique  = $form->get\_id(); |
  | 406 |  | echo '<script> |
  | 407 |  | jQuery(document).ready(function(){ |
  |  | 406 | $inline\_script .= 'jQuery(document).ready(function(){ |
  | 408 | 407 | jQuery(".elementor-form #form-field-'.$field['custom\_id'].'").each(function () |
  | 409 | 408 | { |
  | […](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3021199#L411) | […](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3039613#L410) |  |
  | 411 | 410 | }); |
  | 412 | 411 | initialiseCountrySelector(".phone-valid"); |
  | 413 |  | }) |
  | 414 |  | </script>'; |
  |  | 412 | });'; |
  | 415 | 413 | } |
  | 416 | 414 | if ('true' === $settings['otp\_verification\_enable'] ) { |
  | […](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3021199#L418) | […](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3039613#L416) |  |
  | 418 | 416 |  |
  | 419 | 417 | echo do\_shortcode('[sa\_verify id="" phone\_selector="#form-field-'.$field['custom\_id'].'" submit\_selector=".elementor-element-'.$unique.' .elementor-field-type-submit .elementor-button"]'); |
  | 420 |  | ?> |
  | 421 |  | <script> |
  | 422 |  | jQuery(document).ready(function(){ |
  |  | 418 |  |
  |  | 419 | $inline\_script .= 'jQuery(document).ready(function(){ |
  | 423 | 420 | function addModalInForm(){ |
  | 424 | 421 |  |
  | […](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3021199#L429) | […](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3039613#L426) |  |
  | 429 | 426 | if ( form\_id.indexOf("saFormNo\_") > -1){ |
  | 430 | 427 |  |
  | 431 |  | var class\_unq = form\_id.substring(form\_id.indexOf("\_")+ 1);                                jQuery("#sa\_verify\_"+class\_unq).parents(~~'form'~~).append(jQuery(".modal.smsalertModal[data-form-id="+form\_id+"]")); |
  |  | 428 | var class\_unq = form\_id.substring(form\_id.indexOf("\_")+ 1);                                jQuery("#sa\_verify\_"+class\_unq).parents("form").append(jQuery(".modal.smsalertModal[data-form-id="+form\_id+"]")); |
  | 432 | 429 | } |
  | 433 | 430 | }); |
  | 434 | 431 | } |
  | 435 | 432 | setTimeout(function(){ addModalInForm(); }, 3000); |
  | 436 |  | }); |
  | 437 |  | </script> |
  | 438 |  | <?php |
  |  | 433 | });'; |
  | 439 | 434 | } |
  | 440 | 435 | } elseif ('recaptcha\_v3' == $field['field\_type'] && 'true' === $settings['otp\_verification\_enable']) { |
  | 441 |  | echo '<script> |
  | 442 |  | jQuery(document).ready(function(){ |
  |  | 436 | $inline\_script .= 'jQuery(document).ready(function(){ |
  | 443 | 437 | var recaptcha\_div = jQuery("#form-field-'.$field['custom\_id'].'").parents("form").find("[data-sitekey]"); |
  | 444 | 438 | if(recaptcha\_div.length>0 && recaptcha\_div.attr("data-size") == "invisible") |
  | […](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3021199#L453) | […](/browser/sms-alert/trunk/handler/forms/class-elementor.php?rev=3039613#L447) |  |
  | 453 | 447 | }); |
  | 454 | 448 | } |
  | 455 |  | }); |
  | 456 |  | </script>'; |
  |  | 449 | });'; |
  | 457 | 450 | } |
  |  | 451 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 452 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 453 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 454 | } |
  |  | 455 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 458 | 456 | } |
  | 459 | 457 | } |
* ## [sms-alert/trunk/handler/forms/class-fluentform.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-fluentform.php?old=3021738&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-fluentform.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-fluentform.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-fluentform.php?rev=3021738#L139 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-fluentform.php?rev=3039613#L139 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 139 | 139 | $otp\_enable  = smsalert\_get\_option('fluent\_otp\_' . $form\_id, 'smsalert\_fluent\_general', 'on'); |
  | 140 | 140 | $phone\_field = smsalert\_get\_option('fluent\_sms\_phone\_' . $form\_id, 'smsalert\_fluent\_general', ''); |
  | 141 |  | echo '<script> |
  | 142 |  | jQuery("input[name='.$phone\_field.']").addClass("phone-valid"); |
  | 143 |  | </script>'; |
  |  | 141 | $inline\_script = 'jQuery("input[name='.$phone\_field.']").addClass("phone-valid");'; |
  | 144 | 142 | if ('on' === $form\_enable && 'on' === $otp\_enable && '' !== $phone\_field ) { |
  | 145 | 143 | $uniqueNo = rand(); |
  | 146 |  | echo '<script> |
  | 147 |  | jQuery("form#fluentform\_' . esc\_attr($form\_id) . '").each(function () |
  |  | 144 | $inline\_script .= 'jQuery("form#fluentform\_' . esc\_attr($form\_id) . '").each(function () |
  | 148 | 145 | { |
  | 149 | 146 | if(!jQuery(this).hasClass("sa-wp-form")) |
  | […](/browser/sms-alert/trunk/handler/forms/class-fluentform.php?rev=3021738#L159) | […](/browser/sms-alert/trunk/handler/forms/class-fluentform.php?rev=3039613#L156) |  |
  | 159 | 156 | }); |
  | 160 | 157 | initialiseCountrySelector(".phone-valid"); |
  | 161 |  | }); |
  | 162 |  | </script>'; |
  |  | 158 | });'; |
  | 163 | 159 | echo do\_shortcode('[sa\_verify id="form1" phone\_selector="' . esc\_attr($phone\_field) . '" submit\_selector= ".'.$unique\_class.' .ff-btn-submit" ]'); |
  | 164 | 160 | } |
  |  | 161 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 162 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 163 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 164 | } |
  |  | 165 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 165 | 166 | } |
  | 166 | 167 |  |
* ## [sms-alert/trunk/handler/forms/class-forminator.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-forminator.php?old=3021738&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-forminator.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-forminator.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-forminator.php?rev=3021738#L70 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-forminator.php?rev=3039613#L70 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 70 | 70 | $phone\_field = smsalert\_get\_option('forminator\_sms\_phone\_' . $id, 'smsalert\_forminator\_general', ''); |
  | 71 | 71 | if ('on' === $form\_enable && 'on' === $otp\_enable && '' !== $phone\_field ) { |
  | 72 |  | echo '<script> |
  | 73 |  | jQuery(document).ready(function(){ |
  |  | 72 | $inline\_script = 'jQuery(document).ready(function(){ |
  | 74 | 73 | jQuery("form#forminator-module-' . esc\_attr($id) . '").each(function () |
  | 75 | 74 | { |
  | […](/browser/sms-alert/trunk/handler/forms/class-forminator.php?rev=3021738#L108) | […](/browser/sms-alert/trunk/handler/forms/class-forminator.php?rev=3039613#L107) |  |
  | 108 | 107 | }); |
  | 109 | 108 | } |
  | 110 |  | } |
  | 111 |  | </script>'; |
  | 112 |  | ?> |
  | 113 |  | <script> |
  |  | 109 | } |
  | 114 | 110 | setTimeout(function() { |
  | 115 | 111 | if (jQuery(".modal.smsalertModal").length==0) |
  | 116 | 112 | { |
  | 117 |  | var popup = ~~'<?php echo str\_replace(array("\n","\r","\r\n"), '', (get\_smsalert\_template("template/otp-popup.php", array(), true))); ?>~~'; |
  | 118 |  | jQuery(~~'body'~~).append(popup); |
  |  | 113 | var popup = \''.str\_replace(array("\n","\r","\r\n"), "", (get\_smsalert\_template("template/otp-popup.php", array(), true))).'\'; |
  |  | 114 | jQuery("body").append(popup); |
  | 119 | 115 | } |
  | 120 | 116 | }, 200); |
  | 121 |  | </script> |
  | 122 |  | <?php |
  |  | 117 | '; |
  |  | 118 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 119 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 120 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 121 | } |
  |  | 122 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 123 | 123 | } |
  | 124 | 124 | } |
* ## [sms-alert/trunk/handler/forms/class-formmaker.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-formmaker.php?old=2992042&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-formmaker.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-formmaker.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=2992042#L68 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=3039613#L68 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 68 | 68 | { |
  | 69 | 69 | $unique\_class    = 'sa-class-'.mt\_rand(1, 100); |
  | 70 |  | $form\_id     = $form['form']->id; |
  | 71 |  | $form\_enable = smsalert\_get\_option('formmaker\_order\_status\_' . $form\_id, 'smsalert\_formmaker\_general', 'on'); |
  | 72 |  | $otp\_enable  = smsalert\_get\_option('formmaker\_otp\_' . $form\_id, 'smsalert\_formmaker\_general', 'on'); |
  | 73 |  | $phone\_field = smsalert\_get\_option('formmaker\_sms\_phone\_' . $form\_id, 'smsalert\_formmaker\_general', ''); |
  |  | 70 | $form\_id     = $form['form']->id; |
  |  | 71 |  |
  |  | 72 | $form\_enable = smsalert\_get\_option('formmarker\_order\_status\_' . $form\_id, 'smsalert\_formmarker\_general', 'on'); |
  |  | 73 | $otp\_enable  = smsalert\_get\_option('formmarker\_otp\_' . $form\_id, 'smsalert\_formmarker\_general', 'off'); |
  |  | 74 |  |
  |  | 75 | $phone\_field = smsalert\_get\_option('formmarker\_sms\_phone\_' . $form\_id, 'smsalert\_formmarker\_general', ''); |
  | 74 | 76 | $phonevalue = explode(":", $phone\_field); |
  | 75 | 77 | $fieldid = !empty($phonevalue[1])?$phonevalue[1]:''; |
  | 76 | 78 | if ('on' === $form\_enable && 'on' === $otp\_enable && '' !== $phone\_field ) { |
  | 77 | 79 | $uniqueNo = rand(); |
  | 78 |  | echo '<script> |
  | 79 |  | jQuery(document).ready(function(){ |
  |  | 80 | $inline\_script = 'jQuery(document).ready(function(){ |
  | 80 | 81 |  |
  | 81 | 82 | jQuery("form#form'. $form\_id .'").each(function () |
  | […](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=2992042#L86) | […](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=3039613#L87) |  |
  | 86 | 87 | } |
  | 87 | 88 | }); |
  | 88 |  | }); |
  | 89 |  | </script>'; |
  |  | 89 | });'; |
  |  | 90 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 91 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 92 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 93 | } |
  |  | 94 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 90 | 95 | echo do\_shortcode('[sa\_verify id="form'. esc\_attr($form\_id) . '" phone\_selector="#wdform\_'. $fieldid .'\_element'. $form\_id .'" submit\_selector= "#form'. $form\_id .' .button-submit" ]'); |
  | 91 | 96 | } |
  | […](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=2992042#L102) | […](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=3039613#L107) |  |
  | 102 | 107 | public function formmakerSubmissionComplete($form ) |
  | 103 | 108 | { |
  |  | 109 |  |
  | 104 | 110 | $form\_id          = $form['form\_id']; |
  | 105 |  | $form\_enable      = smsalert\_get\_option('formmaker\_order\_status\_' . $form\_id, 'smsalert\_formmaker\_general', 'on'); |
  | 106 |  | $phone\_field      = smsalert\_get\_option('formmaker\_sms\_phone\_' . $form\_id, 'smsalert\_formmaker\_general', ''); |
  | 107 |  | $buyer\_sms\_notify = smsalert\_get\_option('formmaker\_message\_' . $form\_id, 'smsalert\_formmaker\_general', 'on'); |
  | 108 |  | $admin\_sms\_notify = smsalert\_get\_option('formmaker\_admin\_notification\_' . $form\_id, 'smsalert\_formmaker\_general', 'on'); |
  |  | 111 | $form\_enable      = smsalert\_get\_option('formmarker\_order\_status\_' . $form\_id, 'smsalert\_formmarker\_general', 'on'); |
  |  | 112 |  |
  |  | 113 | $phone\_field      = smsalert\_get\_option('formmarker\_sms\_phone\_' . $form\_id, 'smsalert\_formmarker\_general', ''); |
  |  | 114 | $buyer\_sms\_notify = smsalert\_get\_option('formmarker\_message\_' . $form\_id, 'smsalert\_formmarker\_general', 'on'); |
  |  | 115 | $admin\_sms\_notify = smsalert\_get\_option('formmarker\_admin\_notification\_' . $form\_id, 'smsalert\_formmarker\_general', 'on'); |
  | 109 | 116 | if ('on' === $form\_enable && 'on' === $buyer\_sms\_notify) { |
  | 110 |  | $buyer\_sms\_content = smsalert\_get\_option('formma~~ker\_sms\_body\_'. $form\_id, 'smsalert\_formmaker\_message', '');~~ |
  |  | 117 | $buyer\_sms\_content = smsalert\_get\_option('formmarker\_sms\_body\_' . $form\_id, 'smsalert\_formmarker\_message', ''); |
  | 111 | 118 | $datas = $form['fvals'] ; |
  | 112 | 119 | $fmmobile = explode(":", $phone\_field); |
  | […](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=2992042#L121) | […](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=3039613#L128) |  |
  | 121 | 128 | $admin\_phone\_number = str\_replace('post\_author', '', $admin\_phone\_number); |
  | 122 | 129 | if (! empty($admin\_phone\_number) ) { |
  | 123 |  | $admin\_sms\_content = smsalert\_get\_option('formma~~ker\_admin\_sms\_body\_' . $form\_id, 'smsalert\_formma~~ker\_message', ''); |
  |  | 130 | $admin\_sms\_content = smsalert\_get\_option('formmarker\_admin\_sms\_body\_'. $form\_id, 'smsalert\_formmarker\_message', ''); |
  | 124 | 131 | do\_action('sa\_send\_sms', $admin\_phone\_number, self::parseSmsContent($admin\_sms\_content, $form)); |
  | 125 | 132 | } |
  | […](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=2992042#L260) | […](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=3039613#L267) |  |
  | 260 | 267 | public static function addTabs( $tabs = array() ) |
  | 261 | 268 | { |
  | 262 |  | $tabs['formmaker']['nav']  = 'Form Maker'; |
  | 263 |  | $tabs['formmaker']['icon'] = 'dashicons-list-view'; |
  | 264 |  |  |
  | 265 |  | $tabs['formma~~ker']['inner\_nav']['formma~~ker\_cust']['title']        = 'Customer Notifications'; |
  | 266 |  | $tabs['formma~~ker']['inner\_nav']['formmaker\_cust']['tab\_section']  = 'formma~~kertemplates'; |
  | 267 |  | $tabs['formma~~ker']['inner\_nav']['formma~~ker\_cust']['first\_active'] = true; |
  | 268 |  | $tabs['formma~~ker']['inner\_nav']['formma~~ker\_cust']['tabContent']   = array(); |
  | 269 |  | $tabs['formma~~ker']['inner\_nav']['formma~~ker\_cust']['filePath']     = 'views/formmaker\_customer\_template.php'; |
  | 270 |  |  |
  | 271 |  | $tabs['formma~~ker']['inner\_nav']['formma~~ker\_admin']['title']       = 'Admin Notifications'; |
  | 272 |  | $tabs['formma~~ker']['inner\_nav']['formmaker\_admin']['tab\_section'] = 'formma~~keradmintemplates'; |
  | 273 |  | $tabs['formma~~ker']['inner\_nav']['formma~~ker\_admin']['tabContent']  = array(); |
  | 274 |  | $tabs['formma~~ker']['inner\_nav']['formma~~ker\_admin']['filePath']    = 'views/formmaker\_admin\_template.php'; |
  | 275 |  |  |
  | 276 |  | $tabs['formma~~ker']['inner\_nav']['formma~~ker\_admin']['icon'] = 'dashicons-list-view'; |
  | 277 |  | $tabs['formma~~ker']['inner\_nav']['formma~~ker\_cust']['icon']  = 'dashicons-admin-users'; |
  | 278 |  | $tabs['formmaker']['help\_links']                        = array( |
  |  | 269 | $tabs['formmarker']['nav']  = 'Form Maker'; |
  |  | 270 | $tabs['formmarker']['icon'] = 'dashicons-list-view'; |
  |  | 271 |  |
  |  | 272 | $tabs['formmarker']['inner\_nav']['formmarker\_cust']['title']        = 'Customer Notifications'; |
  |  | 273 | $tabs['formmarker']['inner\_nav']['formmarker\_cust']['tab\_section']  = 'formmarkertemplates'; |
  |  | 274 | $tabs['formmarker']['inner\_nav']['formmarker\_cust']['first\_active'] = true; |
  |  | 275 | $tabs['formmarker']['inner\_nav']['formmarker\_cust']['tabContent']   = array(); |
  |  | 276 | $tabs['formmarker']['inner\_nav']['formmarker\_cust']['filePath']     = 'views/formmaker\_customer\_template.php'; |
  |  | 277 |  |
  |  | 278 | $tabs['formmarker']['inner\_nav']['formmarker\_admin']['title']       = 'Admin Notifications'; |
  |  | 279 | $tabs['formmarker']['inner\_nav']['formmarker\_admin']['tab\_section'] = 'formmarkeradmintemplates'; |
  |  | 280 | $tabs['formmarker']['inner\_nav']['formmarker\_admin']['tabContent']  = array(); |
  |  | 281 | $tabs['formmarker']['inner\_nav']['formmarker\_admin']['filePath']    = 'views/formmaker\_admin\_template.php'; |
  |  | 282 |  |
  |  | 283 | $tabs['formmarker']['inner\_nav']['formmarker\_admin']['icon'] = 'dashicons-list-view'; |
  |  | 284 | $tabs['formmarker']['inner\_nav']['formmarker\_cust']['icon']  = 'dashicons-admin-users'; |
  |  | 285 | $tabs['formmarker']['help\_links']                        = array( |
  | 279 | 286 |  |
  | 280 | 287 | 'kb\_link'      => array( |
  | […](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=2992042#L333) | […](/browser/sms-alert/trunk/handler/forms/class-formmaker.php?rev=3039613#L340) |  |
  | 333 | 340 | $wpam\_statuses = self::getFormMaker(); |
  | 334 | 341 | foreach ( $wpam\_statuses as $ks => $vs ) { |
  | 335 |  | $defaults['smsalert\_formma~~ker\_general'][ 'formma~~ker\_admin\_notification\_' . $ks ] = 'off'; |
  | 336 |  | $defaults['smsalert\_formma~~ker\_general'][ 'formma~~ker\_order\_status\_' . $ks ]       = 'off'; |
  | 337 |  | $defaults['smsalert\_formma~~ker\_general'][ 'formma~~ker\_message\_' . $ks ]            = 'off'; |
  | 338 |  | $defaults['smsalert\_formma~~ker\_message'][ 'formma~~ker\_admin\_sms\_body\_' . $ks ]     = ''; |
  | 339 |  | $defaults['smsalert\_formma~~ker\_message'][ 'formma~~ker\_sms\_body\_' . $ks ]           = ''; |
  | 340 |  | $defaults['smsalert\_formma~~ker\_general'][ 'formma~~ker\_sms\_phone\_' . $ks ]          = ''; |
  | 341 |  | $defaults['smsalert\_formma~~ker\_general'][ 'formma~~ker\_sms\_otp\_' . $ks ]            = ''; |
  | 342 |  | $defaults['smsalert\_formma~~ker\_general'][ 'formma~~ker\_otp\_' . $ks ]                = ''; |
  | 343 |  | $defaults['smsalert\_formma~~ker\_message'][ 'formma~~ker\_otp\_sms\_' . $ks ]            = ''; |
  |  | 342 | $defaults['smsalert\_formmarker\_general'][ 'formmarker\_admin\_notification\_' . $ks ] = 'off'; |
  |  | 343 | $defaults['smsalert\_formmarker\_general'][ 'formmarker\_order\_status\_' . $ks ]       = 'off'; |
  |  | 344 | $defaults['smsalert\_formmarker\_general'][ 'formmarker\_message\_' . $ks ]            = 'off'; |
  |  | 345 | $defaults['smsalert\_formmarker\_message'][ 'formmarker\_admin\_sms\_body\_' . $ks ]     = ''; |
  |  | 346 | $defaults['smsalert\_formmarker\_message'][ 'formmarker\_sms\_body\_' . $ks ]           = ''; |
  |  | 347 | $defaults['smsalert\_formmarker\_general'][ 'formmarker\_sms\_phone\_' . $ks ]          = ''; |
  |  | 348 | $defaults['smsalert\_formmarker\_general'][ 'formmarker\_sms\_otp\_' . $ks ]            = ''; |
  |  | 349 | $defaults['smsalert\_formmarker\_general'][ 'formmarker\_otp\_' . $ks ]                = ''; |
  |  | 350 | $defaults['smsalert\_formmarker\_message'][ 'formmarker\_otp\_sms\_' . $ks ]            = ''; |
  | 344 | 351 | } |
  | 345 | 352 | return $defaults; |
* ## [sms-alert/trunk/handler/forms/class-ninjaform.php](/changeset/3036521/sms-alert/trunk/handler/forms/class-ninjaform.php?old=3028011&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-ninjaform.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-ninjaform.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-ninjaform.php?rev=3028011#L361 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-ninjaform.php?rev=3036521#L361 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 361 | 361 | public static function getNinjavariables( $form\_id = null ) |
  | 362 | 362 | { |
  | 363 |  | ~~$variables = array();~~ |
  | 364 | 363 | $form      = Ninja\_Forms()->form($form\_id)->get(); |
  | 365 | 364 | $form\_name = $form->get\_settings(); |
  | 366 |  | array\_push($form\_name['formContentData'], 'store\_name', 'shop\_url'); |
  | 367 |  | return $form\_name['formContentData']; |
  |  | 365 | $variables = is\_array($form\_name['formContentData'])?$form\_name['formContentData']:array(); |
  |  | 366 | array\_push($variables, 'store\_name', 'shop\_url'); |
  |  | 367 | return $variables; |
  | 368 | 368 |  |
  | 369 | 369 | } |
* ## [sms-alert/trunk/handler/forms/class-pieregistration.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-pieregistration.php?old=3028563&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-pieregistration.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-pieregistration.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-pieregistration.php?rev=3028563#L110 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-pieregistration.php?rev=3039613#L110 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 110 | 110 | $phone\_field         = $this->getPhoneFieldKey(); |
  | 111 | 111 | $enabled\_country    = smsalert\_get\_option('checkout\_show\_country\_code', 'smsalert\_general'); |
  | 112 |  | $data .= do\_shortcode('[sa\_verify phone\_selector="#'.$phone\_field.'" submit\_selector= ".pie\_submit"]').'<script> |
  | 113 |  | jQuery(".pie\_register\_reg\_form .pie\_wrap\_buttons").prepend(\'<input name="pie\_submit" type="hidden" value="Submit">\'); |
  | 114 |  | </script>'; |
  |  | 112 | $data .= do\_shortcode('[sa\_verify phone\_selector="#'.$phone\_field.'" submit\_selector= ".pie\_submit"]'); |
  |  | 113 | $inline\_script = 'jQuery(".pie\_register\_reg\_form .pie\_wrap\_buttons").prepend(\'<input name="pie\_submit" type="hidden" value="Submit">\');'; |
  | 115 | 114 | if ('on' === $enabled\_country ) { |
  | 116 |  | $data .='<script> |
  | 117 |  | jQuery("#'.$phone\_field.'").addClass("phone-valid"); |
  |  | 115 | $inline\_script .='jQuery("#'.$phone\_field.'").addClass("phone-valid"); |
  | 118 | 116 | setTimeout(addStyle, 1000); |
  | 119 | 117 | function addStyle() { |
  | 120 | 118 | jQuery(".phone-valid").closest(".fieldset").parent().css({"overflow":"inherit"}); |
  | 121 | 119 | jQuery(".phone-valid").closest(".fieldset").css({"overflow":"inherit"}); |
  | 122 |  | } |
  | 123 |  | </script>'; |
  |  | 120 | }'; |
  | 124 | 121 | } |
  | 125 | 122 | $data .= '<style>.sa-hide{display:none !important}.pie\_register\_reg\_form .iti{float: left;width: 70%;}</style>'; |
  |  | 123 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 124 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 125 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 126 | } |
  |  | 127 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 126 | 128 | } |
  | 127 | 129 | return $data; |
* ## [sms-alert/trunk/handler/forms/class-ultimatemember.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-ultimatemember.php?old=3026647&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-ultimatemember.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-ultimatemember.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-ultimatemember.php?rev=3026647#L247 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-ultimatemember.php?rev=3039613#L247 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 247 | 247 |  |
  | 248 | 248 | if ('register' === $args['mode'] && 'on' === $enabled\_country ) { |
  | 249 |  | ~~echo '<script>~~ |
  |  | 249 | $inline\_script = 'jQuery("#billing\_phone-'.$args['form\_id'].'").addClass("phone-valid"); |
  | 250 | 250 | jQuery(document).ready(function(){ |
  | 251 | 251 | initialiseCountrySelector("#billing\_phone-'.$args['form\_id'].'"); |
  | 252 |  | }) |
  | 253 |  | </script>'; |
  | 254 |  | } |
  | 255 |  | echo '<script> |
  | 256 |  | jQuery("#billing\_phone-'.$args['form\_id'].'").addClass("phone-valid"); |
  | 257 |  | </script>'; |
  |  | 252 | });'; |
  |  | 253 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 254 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 255 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 256 | } |
  |  | 257 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  |  | 258 | } |
  | 258 | 259 | } |
  | 259 | 260 |  |
* ## [sms-alert/trunk/handler/forms/class-userswpform.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-userswpform.php?old=3026647&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-userswpform.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-userswpform.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3026647#L189 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3039613#L189 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 189 | 189 | $enabled\_country          = smsalert\_get\_option('checkout\_show\_country\_code', 'smsalert\_general'); |
  | 190 | 190 | $default\_login\_form = smsalert\_get\_option('hide\_default\_login\_form', 'smsalert\_general'); |
  |  | 191 | $inline\_script =''; |
  | 191 | 192 | if ($this->popup\_enabled && 'register' === $form\_type ) { |
  | 192 | 193 | echo do\_shortcode('[sa\_verify phone\_selector="#billing\_phone" submit\_selector= ".uwp\_register\_submit"]'); |
  | 193 | 194 | $uniqueNo = rand(); |
  | 194 | 195 | $this->addSmsalertModal(); |
  | 195 |  | ?> |
  | 196 |  | <script> |
  | 197 |  | if (jQuery('.uwp-auth-modal').hasClass('show') || jQuery('.uwp-auth-modal').hasClass('in')){ |
  | 198 |  | add\_smsalert\_button(".uwp\_register\_submit","#billing\_phone","<?php echo $uniqueNo; ?>"); |
  | 199 |  | jQuery(document).on("click", "#sa\_verify\_<?php echo $uniqueNo; ?>",function(event){ |
  |  | 196 | $inline\_script .= 'if (jQuery(".uwp-auth-modal").hasClass("show") || jQuery(".uwp-auth-modal").hasClass("in")){ |
  |  | 197 | add\_smsalert\_button(".uwp\_register\_submit","#billing\_phone","'.$uniqueNo.'"); |
  |  | 198 | jQuery(document).on("click", "#sa\_verify\_'.$uniqueNo.'",function(event){ |
  | 200 | 199 | event.preventDefault(); |
  | 201 | 200 | send\_otp(this,".uwp\_register\_submit","#billing\_phone","",""); |
  | […](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3026647#L203) | […](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3039613#L202) |  |
  | 203 | 202 | jQuery(document).on("keypress", "input", function(e){ |
  | 204 | 203 | var pform     = jQuery(this).parents("form"); |
  | 205 |  | if (e.which === 13 && pform.find("#sa\_verify\_~~<?php echo $uniqueNo; ?>~~").length > 0) |
  |  | 204 | if (e.which === 13 && pform.find("#sa\_verify\_'.$uniqueNo.'").length > 0) |
  | 206 | 205 | { |
  | 207 | 206 | e.preventDefault(); |
  | 208 |  | pform.find("#sa\_verify\_~~<?php echo $uniqueNo; ?>~~").trigger("click"); |
  |  | 207 | pform.find("#sa\_verify\_'.$uniqueNo.'").trigger("click"); |
  | 209 | 208 | } |
  | 210 | 209 | }); |
  | 211 |  | } |
  | 212 |  | </script> |
  | 213 |  | <?php |
  |  | 210 | }'; |
  | 214 | 211 | } elseif ('on' === $enabled\_login\_with\_otp && 'login' === $form\_type ) { |
  | 215 | 212 | $this->addLoginWithOtpPopup(); |
  | 216 | 213 | $uniqueNo = rand(); |
  | 217 |  | ?> |
  | 218 |  | <script> |
  | 219 |  | if (!jQuery('.uwp-login-class .lwo-container button').hasClass('sa\_myaccount\_btn')) |
  |  | 214 | $inline\_script .= 'if (!jQuery(".uwp-login-class .lwo-container button").hasClass("sa\_myaccount\_btn")) |
  | 220 | 215 | { |
  | 221 |  | jQuery(~~'.uwp-login-form'~~).addClass("login"); |
  | 222 |  | jQuery(~~'<div class="lwo-container"><div class="sa\_or">OR</div><button type="button" class="button sa\_myaccount\_btn" name="sa\_myaccount\_btn\_login" value="Login with OTP" style="width: 100%;">Login with OTP</button></div>'~~).insertAfter(".uwp-login-class .uwp\_login\_submit"); |
  | 223 |  | } |
  | 224 |  | if (!jQuery(~~'.uwp-auth-modal .lwo-container button').hasClass('sa\_myaccount\_btn'~~)){ |
  | 225 |  | jQuery(~~'.uwp-login-form'~~).addClass("login"); |
  | 226 |  | jQuery(~~'<div class="lwo-container"><div class="sa\_or">OR</div><button type="button" class="button sa\_myaccount\_btn" name="sa\_myaccount\_btn\_login" value="Login with OTP" style="width: 100%;">Login with OTP</button></div>'~~).insertAfter(".uwp-auth-modal .uwp\_login\_submit"); |
  | 227 |  | if (jQuery(~~'.uwp-auth-modal').hasClass('show') || jQuery('.uwp-auth-modal').hasClass('in'~~)){ |
  | 228 |  | add\_smsalert\_button(".smsalert\_login\_with\_otp\_btn",".sa\_mobileno","~~<?php echo $uniqueNo; ?>~~"); |
  | 229 |  | jQuery(document).on("click", "#sa\_verify\_~~<?php echo $uniqueNo; ?>~~",function(event){ |
  |  | 216 | jQuery(".uwp-login-form").addClass("login"); |
  |  | 217 | jQuery("<div class=\"lwo-container\"><div class=\"sa\_or\">OR</div><button type=\"button\" class=\"button sa\_myaccount\_btn\" name=\"sa\_myaccount\_btn\_login\" value=\"Login with OTP\" style=\"width: 100%;\">Login with OTP</button></div>").insertAfter(".uwp-login-class .uwp\_login\_submit"); |
  |  | 218 | } |
  |  | 219 | if (!jQuery(".uwp-auth-modal .lwo-container button").hasClass("sa\_myaccount\_btn")){ |
  |  | 220 | jQuery(".uwp-login-form").addClass("login"); |
  |  | 221 | jQuery("<div class=\"lwo-container\"><div class=\"sa\_or\">OR</div><button type=\"button\" class=\"button sa\_myaccount\_btn\" name=\"sa\_myaccount\_btn\_login\" value=\"Login with OTP\" style=\"width: 100%;\">Login with OTP</button></div>").insertAfter(".uwp-auth-modal .uwp\_login\_submit"); |
  |  | 222 | if (jQuery(".uwp-auth-modal").hasClass("show") || jQuery(".uwp-auth-modal").hasClass("in")){ |
  |  | 223 | add\_smsalert\_button(".smsalert\_login\_with\_otp\_btn",".sa\_mobileno","'.$uniqueNo.'"); |
  |  | 224 | jQuery(document).on("click", "#sa\_verify\_'.$uniqueNo.'",function(event){ |
  | 230 | 225 | event.preventDefault(); |
  | 231 | 226 | send\_otp(this,".smsalert\_login\_with\_otp\_btn",".sa\_mobileno","",""); |
  | […](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3026647#L233) | […](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3039613#L228) |  |
  | 233 | 228 | jQuery(document).on("keypress", "input", function(e){ |
  | 234 | 229 | var pform     = jQuery(this).parents("form"); |
  | 235 |  | if (e.which === 13 && pform.find("#sa\_verify\_~~<?php echo $uniqueNo; ?>~~").length > 0) |
  |  | 230 | if (e.which === 13 && pform.find("#sa\_verify\_'.$uniqueNo.'").length > 0) |
  | 236 | 231 | { |
  | 237 | 232 | e.preventDefault(); |
  | 238 |  | pform.find("#sa\_verify\_~~<?php echo $uniqueNo; ?>~~").trigger("click"); |
  |  | 233 | pform.find("#sa\_verify\_'.$uniqueNo.'").trigger("click"); |
  | 239 | 234 | } |
  | 240 | 235 | }); |
  | 241 | 236 | } |
  | 242 | 237 | } |
  | 243 |  | jQuery('.sa-lwo-form input[name=redirect]').val(jQuery('.uwp-login-form input[name=redirect\_to]').val()); |
  | 244 |  | </script> |
  | 245 |  | <?php |
  |  | 238 | jQuery(".sa-lwo-form input[name=redirect]").val(jQuery(".uwp-login-form input[name=redirect\_to]").val());'; |
  | 246 | 239 | if ('on' === $default\_login\_form ) { |
  | 247 |  | ~~echo '<script>~~jQuery(".sa\_myaccount\_btn").trigger("click"); |
  | 248 |  | jQuery(".sa\_default\_login\_form").hide();~~</script>~~'; |
  |  | 240 | $inline\_script .= 'jQuery(".sa\_myaccount\_btn").trigger("click"); |
  |  | 241 | jQuery(".sa\_default\_login\_form").hide();'; |
  | 249 | 242 | } |
  | 250 | 243 | } |
  | 251 | 244 |  |
  | 252 | 245 | if ('on' === $enabled\_country && ( 'register' === $form\_type || 'login' === $form\_type )) { |
  | 253 |  | echo '<script> |
  | 254 |  | jQuery(".phone-valid").on("countrychange", function () { |
  |  | 246 | $inline\_script .= 'jQuery(".phone-valid").on("countrychange", function () { |
  | 255 | 247 | var default\_cc = jQuery(this).intlTelInput("getSelectedCountryData"); |
  | 256 | 248 | var fullnumber =  jQuery(this).intlTelInput("getNumber"); |
  | 257 | 249 | var field\_name = jQuery(this).attr("name"); |
  | 258 | 250 | jQuery(this).parents("form").find("[name="+field\_name+"]:hidden").val(fullnumber); |
  | 259 |  | }); |
  | 260 |  | </script> |
  | 261 |  | '; |
  | 262 |  | echo '<script> |
  |  | 251 | }); |
  | 263 | 252 | if( typeof sa\_otp\_settings !=  "undefined" && sa\_otp\_settings["show\_countrycode"] == "on" ) |
  | 264 | 253 | { |
  | 265 | 254 | initialiseCountrySelector(".modal .phone-valid"); |
  | 266 |  | } |
  | 267 |  | </script>'; |
  |  | 255 | }'; |
  | 268 | 256 | } |
  | 269 | 257 | if ('login' === $form\_type && 'on' === $default\_login\_otp && 'on' === $enabled\_login\_popup && 'on' !== $default\_login\_form) { |
  | 270 | 258 | $uniqueNo = rand(); |
  | 271 |  | ?> |
  | 272 |  | <script> |
  | 273 |  | if (jQuery('.uwp-auth-modal').hasClass('show') || jQuery('.uwp-auth-modal').hasClass('in')){ |
  | 274 |  | add\_smsalert\_button(".uwp\_login\_submit","","<?php echo $uniqueNo; ?>"); |
  | 275 |  | jQuery(document).on("click", "#sa\_verify\_<?php echo $uniqueNo; ?>",function(event){ |
  |  | 259 | $inline\_script .= 'if (jQuery(".uwp-auth-modal").hasClass("show") || jQuery(".uwp-auth-modal").hasClass("in")){ |
  |  | 260 | add\_smsalert\_button(".uwp\_login\_submit","","'.$uniqueNo.'"); |
  |  | 261 | jQuery(document).on("click", "#sa\_verify\_'.$uniqueNo.'",function(event){ |
  | 276 | 262 | event.preventDefault(); |
  | 277 | 263 | send\_otp(this,".uwp\_login\_submit","","#username","#password"); |
  | […](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3026647#L279) | […](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3039613#L265) |  |
  | 279 | 265 | jQuery(document).on("keypress", "input", function(e){ |
  | 280 | 266 | var pform     = jQuery(this).parents("form"); |
  | 281 |  | if (e.which === 13 && pform.find("#sa\_verify\_~~<?php echo $uniqueNo; ?>~~").length > 0) |
  |  | 267 | if (e.which === 13 && pform.find("#sa\_verify\_'.$uniqueNo.'").length > 0) |
  | 282 | 268 | { |
  | 283 | 269 | e.preventDefault(); |
  | 284 |  | pform.find("#sa\_verify\_~~<?php echo $uniqueNo; ?>~~").trigger("click"); |
  |  | 270 | pform.find("#sa\_verify\_'.$uniqueNo.'").trigger("click"); |
  | 285 | 271 | } |
  | 286 | 272 | }); |
  | 287 |  | } |
  | 288 |  | </script> |
  | 289 |  | <?php |
  | 290 |  | } |
  |  | 273 | }'; |
  |  | 274 | } |
  |  | 275 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ){ |
  |  | 276 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 277 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 278 | } |
  |  | 279 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 291 | 280 | } |
  | 292 | 281 |  |
  | […](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3026647#L318) | […](/browser/sms-alert/trunk/handler/forms/class-userswpform.php?rev=3039613#L307) |  |
  | 318 | 307 | public static function addSmsalertModal() |
  | 319 | 308 | { |
  | 320 |  | ?> |
  | 321 |  | <script> |
  | 322 |  | jQuery('.uwp-auth-modal').removeAttr('tabindex'); |
  | 323 |  | if (jQuery(".modal.smsalertModal").length==0 && jQuery('.uwp-auth-modal').hasClass('show')) |
  | 324 |  | { |
  | 325 |  | var popup = '<?php echo str\_replace(array("\n","\r","\r\n"), '', (get\_smsalert\_template("template/otp-popup.php", array(), true))); ?>'; |
  | 326 |  | jQuery('body').append(popup); |
  | 327 |  | } |
  | 328 |  | </script> |
  | 329 |  | <?php |
  |  | 309 | $otp\_modal = ' |
  |  | 310 | jQuery(".uwp-auth-modal").removeAttr("tabindex"); |
  |  | 311 | if (jQuery(".modal.smsalertModal").length==0 && jQuery(".uwp-auth-modal").hasClass("show")) |
  |  | 312 | { |
  |  | 313 | var popup = \''.str\_replace(array("\n","\r","\r\n"), "", (get\_smsalert\_template("template/otp-popup.php", array(), true))).'\'; |
  |  | 314 | jQuery("body").append(popup); |
  |  | 315 | } |
  |  | 316 | '; |
  |  | 317 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 318 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 319 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 320 | } |
  |  | 321 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $otp\_modal); |
  | 330 | 322 | } |
  | 331 | 323 |  |
* ## [sms-alert/trunk/handler/forms/class-wpcafe.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-wpcafe.php?old=2991898&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-wpcafe.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-wpcafe.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-wpcafe.php?rev=2991898#L63 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-wpcafe.php?rev=3039613#L63 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 63 | 63 | if (smsalert\_get\_option('otp\_enable', 'smsalert\_wcf\_general') === 'on') { |
  | 64 | 64 | $uniqueNo = rand(); |
  | 65 |  | echo '<script> |
  | 66 |  | jQuery(document).ready(function(){ |
  |  | 65 | $inline\_script = 'jQuery(document).ready(function(){ |
  | 67 | 66 | add\_smsalert\_button(".confirm\_booking\_btn",".wpc\_check\_phone","'.$uniqueNo.'"); |
  | 68 | 67 | setTimeout(function(){ jQuery(".confirm\_booking\_btn#sa\_verify\_'.$uniqueNo.'").unbind("click"); }, 3000); |
  | […](/browser/sms-alert/trunk/handler/forms/class-wpcafe.php?rev=2991898#L73) | […](/browser/sms-alert/trunk/handler/forms/class-wpcafe.php?rev=3039613#L72) |  |
  | 73 | 72 | return false; |
  | 74 | 73 | }); |
  | 75 |  | }) |
  | 76 |  | </script>'; |
  | 77 |  | ?> |
  | 78 |  | <script> |
  |  | 74 | }); |
  | 79 | 75 | setTimeout(function() { |
  | 80 | 76 | if (jQuery(".modal.smsalertModal").length==0) |
  | 81 | 77 | { |
  | 82 |  | var popup = ~~'<?php echo str\_replace(array("\n","\r","\r\n"), '', (get\_smsalert\_template("template/otp-popup.php", array(), true))); ?>~~'; |
  | 83 |  | jQuery(~~'body'~~).append(popup); |
  |  | 78 | var popup = \''.str\_replace(array("\n","\r","\r\n"), "", (get\_smsalert\_template("template/otp-popup.php", array(), true))).'\'; |
  |  | 79 | jQuery("body").append(popup); |
  | 84 | 80 | } |
  | 85 | 81 | }, 200); |
  | 86 |  | </script> |
  | 87 |  | <?php |
  |  | 82 | '; |
  |  | 83 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 84 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 85 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 86 | } |
  |  | 87 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 88 | 88 | } |
  | 89 | 89 | } |
* ## [sms-alert/trunk/handler/forms/class-wpforms.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-wpforms.php?old=3026647&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-wpforms.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-wpforms.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-wpforms.php?rev=3026647#L211 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-wpforms.php?rev=3039613#L211 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 211 | 211 | $phone\_field\_id  = preg\_replace('/[^0-9]/', '', $phone\_field); |
  | 212 | 212 | $enabled\_country = smsalert\_get\_option('checkout\_show\_country\_code', 'smsalert\_general', ''); |
  | 213 |  |  |
  |  | 213 | $inline\_script = ''; |
  | 214 | 214 | if (isset($form\_data['settings']['smsalert']['otp\_enable']) && $islogged && ($field['id'] === $phone\_field\_id) ) { |
  | 215 | 215 |  |
  | […](/browser/sms-alert/trunk/handler/forms/class-wpforms.php?rev=3026647#L217) | […](/browser/sms-alert/trunk/handler/forms/class-wpforms.php?rev=3039613#L217) |  |
  | 217 | 217 |  |
  | 218 | 218 | if ($otp\_enable ) { |
  | 219 |  | echo '<script> |
  | 220 |  | jQuery("form#wpforms-form-' . esc\_attr($form\_data['id']) . '").each(function () |
  |  | 219 | $inline\_script .= 'jQuery("form#wpforms-form-' . esc\_attr($form\_data['id']) . '").each(function () |
  | 221 | 220 | { |
  | 222 | 221 | if(!jQuery(this).hasClass("sa-wp-form")) |
  | […](/browser/sms-alert/trunk/handler/forms/class-wpforms.php?rev=3026647#L224) | […](/browser/sms-alert/trunk/handler/forms/class-wpforms.php?rev=3039613#L223) |  |
  | 224 | 223 | jQuery(this).addClass("'.$unique\_class.' sa-wp-form"); |
  | 225 | 224 | } |
  | 226 |  | }); |
  | 227 |  | </script>'; |
  |  | 225 | });'; |
  | 228 | 226 | echo do\_shortcode('[sa\_verify id="" phone\_selector=".smsalert-phone #wpforms-' . esc\_attr($form\_data['id']) . '-field\_' . esc\_attr($phone\_field\_id) . '" submit\_selector= ".'.$unique\_class.' .wpforms-submit" ]'); |
  | 229 | 227 | } |
  | […](/browser/sms-alert/trunk/handler/forms/class-wpforms.php?rev=3026647#L231) | […](/browser/sms-alert/trunk/handler/forms/class-wpforms.php?rev=3039613#L229) |  |
  | 231 | 229 |  |
  | 232 | 230 | if (isset($form\_data['settings']['smsalert']) && 'on' === $enabled\_country && !array\_key\_exists('otp\_enable', (array)$form\_data['settings']['smsalert']) ) { |
  | 233 |  | echo '<script> |
  | 234 |  | jQuery(document).ready(function(){ |
  |  | 231 | $inline\_script .= 'jQuery(document).ready(function(){ |
  | 235 | 232 | initialiseCountrySelector(".smsalert-phone #wpforms-' . esc\_attr($form\_data['id']) . '-field\_' . esc\_attr($phone\_field\_id) . '"); |
  | 236 |  | }) |
  | 237 |  | </script>'; |
  | 238 |  | } |
  |  | 233 | });'; |
  |  | 234 | } |
  |  | 235 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 236 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 237 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 238 | } |
  |  | 239 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 239 | 240 | } |
  | 240 | 241 |  |
* ## [sms-alert/trunk/handler/forms/class-wplogin.php](/changeset/3038252/sms-alert/trunk/handler/forms/class-wplogin.php?old=3031689&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-wplogin.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-wplogin.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3031689#L71 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3038252#L71 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 71 | 71 | } |
  | 72 | 72 | $enabled\_login\_popup = smsalert\_get\_option('otp\_in\_popup', 'smsalert\_general', 'on'); |
  |  | 73 | $is\_admin\_login = (is\_login()) ? true : false; |
  | 73 | 74 | $this->routeData(); |
  |  | 75 | $enable\_login\_with\_admin\_otp = smsalert\_get\_option('login\_with\_admin\_otp', 'smsalert\_general'); |
  | 74 | 76 | $enabled\_login\_with\_otp = smsalert\_get\_option('login\_with\_otp', 'smsalert\_general'); |
  | 75 | 77 | $default\_login\_otp      = smsalert\_get\_option('buyer\_login\_otp', 'smsalert\_general'); |
  | […](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3031689#L83) | […](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3038252#L85) |  |
  | 83 | 85 | //} else { |
  | 84 | 86 | add\_filter('authenticate', array( $this, 'handleSmsalertWpLogin' ), 99, 4); |
  |  | 87 | add\_action('thim\_after\_login\_form', array( $this, 'edumaLoginOtpPopup' ),10); |
  | 85 | 88 | //} |
  | 86 | 89 | } |
  | […](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3031689#L93) | […](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3038252#L96) |  |
  | 93 | 96 | add\_action('woocommerce\_login\_form\_end', array( $this, 'smsalertDisplayLoginWithOtp' )); |
  | 94 | 97 | add\_action('um\_after\_login\_fields', array( $this, 'smsalertDisplayLoginWithOtp' ), 1002); |
  | 95 |  | add\_action('login\_form', array( $this, 'showLoginWithOtpAdmin' ),10); |
  | 96 |  | } |
  | 97 |  |  |
  |  | 98 | add\_action('thim\_after\_login\_form', array( $this, 'smsalertDisplayLoginWithOtp' ),10); |
  |  | 99 | } |
  |  | 100 | if ('on' === $enable\_login\_with\_admin\_otp &&  $is\_admin\_login ) { |
  |  | 101 | add\_action('login\_form', array( $this, 'showLoginWithOtpAdmin' ),10); |
  |  | 102 | } |
  | 98 | 103 | if (is\_plugin\_active('google-captcha/google-captcha.php')) { |
  | 99 | 104 | add\_filter( 'gglcptch\_add\_custom\_form', array( $this, 'add\_custom\_recaptcha\_forms'),10,1 ); |
  | […](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3031689#L274) | […](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3038252#L279) |  |
  | 274 | 279 | add\_action('login\_footer', array( $this, 'addAdminLoginWithOtpShortcode' ),15); |
  | 275 | 280 |  |
  | 276 |  | } |
  | 277 |  |  |
  |  | 281 | } |
  |  | 282 |  |
  | 278 | 283 | /\*\* |
  | 279 | 284 | \* Add login otp in admin login form page. |
  | […](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3031689#L310) | […](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3038252#L315) |  |
  | 310 | 315 | } |
  | 311 | 316 | } |
  |  | 317 |  |
  | 312 | 318 |  |
  | 313 | 319 | /\*\* |
  | […](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3031689#L334) | […](/browser/sms-alert/trunk/handler/forms/class-wplogin.php?rev=3038252#L340) |  |
  | 334 | 340 | } |
  | 335 | 341 | } |
  |  | 342 | /\*\* |
  |  | 343 | \* Add login with otp form code in login form page. |
  |  | 344 | \* |
  |  | 345 | \* @return void |
  |  | 346 | \*/ |
  |  | 347 | public function edumaLoginOtpPopup() |
  |  | 348 | { |
  |  | 349 | $enabled\_login\_popup    = smsalert\_get\_option('otp\_in\_popup', 'smsalert\_general', 'on'); |
  |  | 350 | $default\_login\_otp      = smsalert\_get\_option('buyer\_login\_otp', 'smsalert\_general'); |
  |  | 351 | if ('on' === $enabled\_login\_popup && 'on' === $default\_login\_otp) { |
  |  | 352 | $unique\_class    = 'sa-class-'.mt\_rand(1, 100); |
  |  | 353 | echo '<script> |
  |  | 354 | jQuery("form[name=loginpopopform]").each(function () |
  |  | 355 | { |
  |  | 356 | if(!jQuery(this).hasClass("sa-login-form")) |
  |  | 357 | { |
  |  | 358 | jQuery(this).addClass("'.$unique\_class.' sa-login-form"); |
  |  | 359 | } |
  |  | 360 | }); |
  |  | 361 | </script>'; |
  |  | 362 | echo do\_shortcode('[sa\_verify user\_selector="log" pwd\_selector="pwd" submit\_selector=".thim-login .login-submit .button"]'); |
  |  | 363 | } |
  |  | 364 | } |
  | 336 | 365 |  |
  | 337 | 366 | /\*\* |
* ## [sms-alert/trunk/handler/forms/class-wpmember.php](/changeset/3039613/sms-alert/trunk/handler/forms/class-wpmember.php?old=2938104&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fclass-wpmember.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/class-wpmember.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/class-wpmember.php?rev=2938104#L259 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/class-wpmember.php?rev=3039613#L259 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 259 | 259 | $field\_content .= "<div style='margin-top:2%'><div id='salert\_message' hidden='' style='background-color: #f7f6f7;padding: "; |
  | 260 | 260 | $field\_content .= "1em 2em 1em 3.5em;'></div></div>"; |
  | 261 |  | $field\_content .= '<script>jQuery("input[name=' . $field . ']").addClass("phone-valid");jQuery(document).ready(function(){jQuery("#smsalert\_otp\_token\_submit").click(function(o){ '; |
  | 262 |  | $field\_content .= 'var e=(typeof sa\_otp\_settings  != "undefined" && sa\_otp\_settings["show\_countrycode"]=="on") ? jQuery("input[name=' . $field . ']:hidden").val() : jQuery("input[name=' . $field . ']").val(); jQuery("#salert\_message").empty(),jQuery("#salert\_message").append("Sending OTP..."),'; |
  | 263 |  | $field\_content .= 'jQuery("#salert\_message").show(),jQuery.ajax({url:"' . site\_url() . '/?option=smsalert-wpmember-form",type:"POST",'; |
  | 264 |  | $field\_content .= 'data:{user\_' . $sa\_type . ':e},crossDomain:!0,dataType:"json",success:function(o){ '; |
  | 265 |  | $field\_content .= 'if(o.result=="success"){jQuery("#salert\_message").empty(),jQuery("#salert\_message").append(o.message),'; |
  | 266 |  | $field\_content .= 'jQuery("#salert\_message").css("border-top","3px solid green"),jQuery("input[name=email\_verify]").focus()}else{'; |
  | 267 |  | $field\_content .= 'jQuery("#salert\_message").empty(),jQuery("#salert\_message").append(o.message),jQuery("#salert\_message").css("border-top","3px solid red")'; |
  | 268 |  | $field\_content .= ',jQuery("input[name=phone\_verify]").focus()} ;},error:function(o,e,n){}})});});</script>'; |
  | 269 |  |  |
  |  | 261 |  |
  |  | 262 | $inline\_script = 'jQuery("input[name=' . $field . ']").addClass("phone-valid");jQuery(document).ready(function(){jQuery("#smsalert\_otp\_token\_submit").click(function(o){ |
  |  | 263 | var e=(typeof sa\_otp\_settings  != "undefined" && sa\_otp\_settings["show\_countrycode"]=="on") ? jQuery("input[name=' . $field . ']:hidden").val() : jQuery("input[name=' . $field . ']").val(); jQuery("#salert\_message").empty(),jQuery("#salert\_message").append("Sending OTP..."); |
  |  | 264 | jQuery("#salert\_message").show(),jQuery.ajax({url:"' . site\_url() . '/?option=smsalert-wpmember-form",type:"POST", |
  |  | 265 | data:{user\_' . $sa\_type . ':e},crossDomain:!0,dataType:"json",success:function(o){ if(o.result=="success"){ |
  |  | 266 | jQuery("#salert\_message").empty(); |
  |  | 267 | jQuery("#salert\_message").append(o.message); |
  |  | 268 | jQuery("#salert\_message").css("border-top","3px solid green");jQuery("input[name=email\_verify]").focus(); |
  |  | 269 | }else{ |
  |  | 270 | jQuery("#salert\_message").empty(),jQuery("#salert\_message").append(o.message),jQuery("#salert\_message").css("border-top","3px solid red"); |
  |  | 271 | jQuery("input[name=phone\_verify]").focus()} ;},error:function(o,e,n){}})});});'; |
  |  | 272 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 273 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 274 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 275 | } |
  |  | 276 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 270 | 277 | return $field\_content; |
  | 271 | 278 | } |
* ## [sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php](/changeset/3039613/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?old=3026647&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fwoocommerce%2Fwc-checkout.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L324 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L324 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 324 | 324 | { |
  | 325 | 325 | $checkout\_otp\_enabled = smsalert\_get\_option('buyer\_checkout\_otp', 'smsalert\_general'); |
  | 326 |  | echo ' |
  | 327 |  | <script> |
  | 328 |  | var signup\_checkout = "'.get\_option('woocommerce\_enable\_signup\_and\_login\_from\_checkout').'"; |
  |  | 326 | $inline\_script = 'var signup\_checkout = "'.get\_option('woocommerce\_enable\_signup\_and\_login\_from\_checkout').'"; |
  | 329 | 327 | var guest\_checkout = "'.get\_option('woocommerce\_enable\_guest\_checkout').'"; |
  | 330 | 328 | var user\_logged\_in = "'.is\_user\_logged\_in().'"; |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L358) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L356) |  |
  | 358 | 356 | }); |
  | 359 | 357 | } |
  | 360 |  | jQuery(document).on("click","input[name=payment\_method],input[name=radio-control-wc-payment-method-options]",function() { |
  |  | 358 | jQuery(document).on("click","input[name=payment\_method],input[name=radio-control-wc-payment-method-options]",function() { |
  | 361 | 359 | var pay\_method = jQuery("input[name=payment\_method]:checked,input[name=radio-control-wc-payment-method-options]:checked").val(); |
  | 362 | 360 | onChangePayment(pay\_method); |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L437) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L435) |  |
  | 437 | 435 | } |
  | 438 | 436 | removeShortcode(); |
  | 439 |  | ~~jQuery(".phone-valid,#billing\_phone").trigger("keyup");~~ |
  | 440 | 437 | reset\_otp\_val(); |
  | 441 | 438 | if (is\_popup) |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L457) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L454) |  |
  | 457 | 454 | }); |
  | 458 | 455 | } |
  |  | 456 | jQuery(".phone-valid,#billing\_phone").trigger("keyup"); |
  | 459 | 457 | jQuery(document).on("keypress", "input", function(e){ |
  | 460 | 458 | var pform   = jQuery(this).parents("form"); |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L469) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L467) |  |
  | 469 | 467 | } |
  | 470 | 468 | } |
  | 471 |  |  |
  | 472 | 469 | function removeShortcode() |
  | 473 | 470 | { |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L480) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L477) |  |
  | 480 | 477 | } |
  | 481 | 478 | } |
  | 482 |  |  |
  | 483 | 479 | function generateUniqueId() |
  | 484 | 480 | { |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L488) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L484) |  |
  | 488 | 484 | { |
  | 489 | 485 | "11111" == jQuery("#order\_verify").val() && jQuery("#order\_verify").val(""); |
  | 490 |  | } |
  | 491 |  | </script> |
  | 492 |  | '; |
  |  | 486 | }'; |
  |  | 487 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 488 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 489 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 490 | } |
  |  | 491 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 493 | 492 | } |
  | 494 | 493 |  |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L518) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L517) |  |
  | 518 | 517 | { |
  | 519 | 518 | add\_action('wp\_footer', array( $this, 'addShortcode' ), 1, 1); |
  | 520 |  | ?> |
  | 521 |  | <script> |
  |  | 519 | $otp\_modal = ' |
  | 522 | 520 | setTimeout(function() { |
  | 523 | 521 | if (jQuery(".modal.smsalertModal").length==0) |
  | 524 | 522 | { |
  | 525 |  | var popup = ~~'<?php echo str\_replace(array("\n","\r","\r\n"), '', (get\_smsalert\_template("template/otp-popup.php", array(), true))); ?>~~'; |
  | 526 |  | jQuery(~~'body'~~).append(popup); |
  |  | 523 | var popup = \''.str\_replace(array("\n","\r","\r\n"), "", (get\_smsalert\_template("template/otp-popup.php", array(), true))).'\'; |
  |  | 524 | jQuery("body").append(popup); |
  | 527 | 525 | } |
  | 528 | 526 | }, 200); |
  | 529 |  | </script> |
  | 530 |  | <?php |
  |  | 527 | '; |
  |  | 528 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 529 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 530 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 531 | } |
  |  | 532 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $otp\_modal); |
  |  | 533 |  |
  | 531 | 534 | } |
  | 532 | 535 |  |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L608) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L611) |  |
  | 608 | 611 | public function myCustomCheckoutField( $checkout ) |
  | 609 | 612 | { |
  | 610 |  | ?> |
  | 611 |  | <script> |
  |  | 613 | $otp\_modal = ' |
  | 612 | 614 | setTimeout(function() { |
  | 613 | 615 | if (jQuery(".modal.smsalertModal").length==0) |
  | 614 | 616 | { |
  | 615 |  | var popup = ~~'<?php echo str\_replace(array("\n","\r","\r\n"), '', (get\_smsalert\_template("template/otp-popup.php", array(), true))); ?>~~'; |
  | 616 |  | jQuery(~~'body'~~).append(popup); |
  |  | 617 | var popup = \''.str\_replace(array("\n","\r","\r\n"), "", (get\_smsalert\_template("template/otp-popup.php", array(), true))).'\'; |
  |  | 618 | jQuery("body").append(popup); |
  | 617 | 619 | } |
  | 618 | 620 | }, 200); |
  | 619 |  | </script> |
  | 620 |  | <?php |
  |  | 621 | '; |
  |  | 622 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 623 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 624 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 625 | } |
  |  | 626 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $otp\_modal); |
  |  | 627 |  |
  | 621 | 628 | if ($this->guest\_check\_out\_only && is\_user\_logged\_in() ) { |
  | 622 | 629 | return; |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L678) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L685) |  |
  | 678 | 685 | { |
  | 679 | 686 | $otp\_resend\_timer = !empty(SmsAlertUtility::get\_elementor\_data("sa\_otp\_re\_send\_timer"))?SmsAlertUtility::get\_elementor\_data("sa\_otp\_re\_send\_timer"):smsalert\_get\_option('otp\_resend\_timer', 'smsalert\_general', '15'); |
  | 680 |  | echo '<script> jQuery(document).ready(function() {jQuery("div.woocommerce #billing\_phone").addClass("phone-valid");'; |
  | 681 |  | echo 'jQuery(".woocommerce-message").length>0&&(jQuery("#order\_verify").focus(),jQuery("#salert\_message").addClass("woocommerce-message"));'; |
  | 682 |  | echo 'jQuery("#smsalert\_otp\_token\_submit").click(function(o){'; |
  | 683 |  | echo 'var action\_url = "'. esc\_url(site\_url()) . '/?option=smsalert-shortcode-ajax-verify";'; |
  |  | 687 | $inline\_script = 'jQuery(document).ready(function() { |
  |  | 688 | var ischeckout = "'.is\_checkout().'"; |
  |  | 689 | var sa\_country\_enable = "'.smsalert\_get\_option("checkout\_show\_country\_code", "smsalert\_general").'"; |
  |  | 690 | jQuery("div.woocommerce #billing\_phone").addClass("phone-valid"); |
  |  | 691 | jQuery(".woocommerce-message").length>0&&(jQuery("#order\_verify").focus(),jQuery("#salert\_message").addClass("woocommerce-message")); |
  |  | 692 | jQuery("#smsalert\_otp\_token\_submit").click(function(o){ |
  |  | 693 | var action\_url = "'. esc\_url(site\_url()) . '/?option=smsalert-shortcode-ajax-verify"; |
  | 684 | 694 |  |
  | 685 |  | if (is~~\_checkout() && smsalert\_get\_option('checkout\_show\_country\_code', 'smsalert\_general') === 'on'~~ ) { |
  | 686 |  | ~~echo 'm=jQuery(this).parents("form").find("input[name=billing\_phone]").intlTelInput("getNumber"),'~~; |
  |  | 695 | if (ischeckout && sa\_country\_enable === "on" ) { |
  |  | 696 | m=jQuery(this).parents("form").find("input[name=billing\_phone]").intlTelInput("getNumber"); |
  | 687 | 697 | } else { |
  | 688 |  | echo 'm=jQuery(this).parents("form").find("input[name=billing\_phone]").val(),'; |
  | 689 |  | } |
  | 690 |  | echo 'a=jQuery("div.woocommerce");a.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}), |
  | 691 |  | jQuery(this).addClass("sa-otp-btn-init"); |
  | 692 |  | saInitOTPProcess( |
  | 693 |  | this, |
  | 694 |  | action\_url, |
  | 695 |  | {user\_phone:m}, |
  | 696 |  | ' . esc\_attr($otp\_resend\_timer) . ', |
  | 697 |  | function(resp){ |
  | 698 |  | a.removeClass( "processing" ).unblock(); |
  | 699 |  | }, |
  | 700 |  | function(resp){ |
  | 701 |  | a.removeClass( "processing" ).unblock(); |
  | 702 |  | }, |
  | 703 |  | "input[name=billing\_phone]" |
  | 704 |  | ) |
  | 705 |  | return false; |
  | 706 |  | }),'; |
  | 707 |  | echo '""!=jQuery("input[name=billing\_phone]").val()&&jQuery("#smsalert\_otp\_token\_submit").prop( "disabled", false ); |
  |  | 698 | m=jQuery(this).parents("form").find("input[name=billing\_phone]").val(); |
  |  | 699 | } |
  |  | 700 | a=jQuery("div.woocommerce"); |
  |  | 701 | a.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}); |
  |  | 702 | jQuery(this).addClass("sa-otp-btn-init"); |
  |  | 703 | saInitOTPProcess( |
  |  | 704 | this, |
  |  | 705 | action\_url, |
  |  | 706 | {user\_phone:m}, |
  |  | 707 | ' . esc\_attr($otp\_resend\_timer) . ', |
  |  | 708 | function(resp){ |
  |  | 709 | a.removeClass( "processing" ).unblock(); |
  |  | 710 | }, |
  |  | 711 | function(resp){ |
  |  | 712 | a.removeClass( "processing" ).unblock(); |
  |  | 713 | }, |
  |  | 714 | "input[name=billing\_phone]" |
  |  | 715 | ); |
  |  | 716 | return false; |
  |  | 717 | }); |
  |  | 718 | ""!=jQuery("input[name=billing\_phone]").val()&&jQuery("#smsalert\_otp\_token\_submit").prop( "disabled", false ); |
  | 708 | 719 | jQuery(document).on("input change","input[name=billing\_phone]",function() { |
  | 709 | 720 | jQuery(this).val(jQuery(this).val().replace(/^0+/, "").replace(/\s+/g, "")); |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L722) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L733) |  |
  | 722 | 733 | jQuery("#smsalert\_otp\_token\_submit").prop( "disabled", false ); |
  | 723 | 734 |  |
  | 724 |  | } else { jQuery("#smsalert\_otp\_token\_submit").prop( "disabled", true ); }}),jQuery("input[name=billing\_phone]").trigger( "input").trigger( "change")});</script>'; |
  |  | 735 | } else { jQuery("#smsalert\_otp\_token\_submit").prop( "disabled", true ); }}); |
  |  | 736 | jQuery("input[name=billing\_phone]").trigger( "input").trigger( "change"); |
  |  | 737 | });'; |
  |  | 738 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 739 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 740 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 741 | } |
  |  | 742 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 725 | 743 | } |
  | 726 | 744 |  |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L1270) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L1288) |  |
  | 1270 | 1288 | ); |
  | 1271 | 1289 |  |
  | 1272 |  | preg\_match\_all('/\[item\_name(.\*?)\]/', $content, $matches); |
  |  | 1290 | preg\_match\_all('/\[item\_name (.\*?)\]/', $content, $matches); |
  | 1273 | 1291 | if (!empty($matches[1][0])) { |
  | 1274 | 1292 | $item\_attr = $matches[1][0]; |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3026647#L1282) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-checkout.php?rev=3039613#L1300) |  |
  | 1282 | 1300 | $content = str\_replace($matches[0], $item\_name, $content); |
  | 1283 | 1301 | } |
  | 1284 |  |  |
  | 1285 | 1302 | $item\_name\_with\_qty = implode( |
  | 1286 | 1303 | ', ', |
* ## [sms-alert/trunk/handler/forms/woocommerce/wc-registration.php](/changeset/3039613/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?old=3026647&old_path=sms-alert%2Ftrunk%2Fhandler%2Fforms%2Fwoocommerce%2Fwc-registration.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/handler/forms/woocommerce/wc-registration.php")

  | [r3032487](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3026647#L91 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3039613#L91 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 91 | 91 | add\_action('xoo\_el\_register\_add\_fields', array( $this, 'xooElSmsalertDisplayRegisterOTPBtn' )); |
  | 92 | 92 | } |
  | 93 |  | } |
  |  | 93 |  |
  |  | 94 | } |
  |  | 95 | add\_action('register\_form', array( $this, 'edumaSmsalertDisplayRegisterOTPBtn' ), 10); |
  | 94 | 96 | } |
  | 95 | 97 |  |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3026647#L106) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3039613#L108) |  |
  | 106 | 108 | add\_action('xoo\_el\_form\_end', array( $this, 'smsalertDisplaySignupWithMobile' ), 10); |
  | 107 | 109 | } |
  | 108 |  | add\_action('woocommerce\_register\_form\_end', array( $this, 'smsalertDisplaySignupWithMobile' ), 10); |
  |  | 110 | add\_action('woocommerce\_register\_form\_end', array( $this, 'smsalertDisplaySignupWithMobile' ), 10); |
  |  | 111 |  |
  | 109 | 112 | } |
  | 110 | 113 | add\_filter( 'before\_sa\_campaign\_send',array( $this, 'modifyMessage' ),10, 3 ); |
  | 111 | 114 | $this->routeData(); |
  | 112 | 115 | } |
  | 113 |  |  |
  |  | 116 |  |
  | 114 | 117 | /\*\* |
  | 115 | 118 | \* replace sms campaign text variable. |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3026647#L181) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3039613#L184) |  |
  | 181 | 184 | } |
  | 182 | 185 | } |
  | 183 |  |  |
  | 184 |  | /\*\* |
  |  | 186 |  |
  |  | 187 | /\*\* |
  | 185 | 188 | \* Add signup with mobile shortcode. |
  | 186 | 189 | \* |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3026647#L345) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3039613#L348) |  |
  | 345 | 348 | echo do\_shortcode('[sa\_verify phone\_selector="#reg\_billing\_phone" submit\_selector= ".'.$unique\_class.'.register .woocommerce-Button"]'); |
  | 346 | 349 | } |
  |  | 350 |  |
  | 347 | 351 |  |
  | 348 | 352 | /\*\* |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3026647#L364) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3039613#L368) |  |
  | 364 | 368 | </script>'; |
  | 365 | 369 | echo do\_shortcode('[sa\_verify phone\_selector="#reg\_billing\_phone" submit\_selector= ".'.$unique\_class.' .xoo-el-register-btn"]'); |
  |  | 370 | } |
  |  | 371 | /\*\* |
  |  | 372 | \* This function displays a OTP button on registration form. |
  |  | 373 | \* |
  |  | 374 | \* @return void. |
  |  | 375 | \*/ |
  |  | 376 | public static function edumaSmsalertDisplayRegisterOTPBtn() |
  |  | 377 | { |
  |  | 378 | echo do\_shortcode('[sa\_verify phone\_selector="#reg\_billing\_phone" submit\_selector= ".thim-register .submit .button"]'); |
  | 366 | 379 | } |
  | 367 | 380 |  |
  | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3026647#L489) | […](/browser/sms-alert/trunk/handler/forms/woocommerce/wc-registration.php?rev=3039613#L502) |  |
  | 489 | 502 | { |
  | 490 | 503 | $this->smsalertAddPhoneField(); |
  | 491 |  | ?> |
  | 492 |  | <script> |
  | 493 |  | jQuery( window ).on('load', function() { |
  | 494 |  | jQuery( "#shop-phone" ).addClass('phone-valid'); |
  | 495 |  | jQuery('.user-role input[type="radio"]').change(function(e){ |
  |  | 504 | $inline\_script = 'jQuery( window ).on("load", function() { |
  |  | 505 | jQuery( "#shop-phone" ).addClass("phone-valid"); |
  |  | 506 | jQuery(".user-role input[type=\"radio\"]").change(function(e){ |
  | 496 | 507 | if(jQuery(this).val() == "seller") { |
  | 497 |  | jQuery('#reg\_billing\_phone').parent().hide(); |
  | 498 |  | jQuery('label[for=reg\_billing\_phone]').hide(); |
  |  | 508 | initialiseCountrySelector("#shop-phone"); |
  |  | 509 | jQuery("#reg\_billing\_phone").parent().hide(); |
  |  | 510 | jQuery("label[for=reg\_billing\_phone]").hide(); |
  | 499 | 511 |  |
  | 500 | 512 | } |
  | 501 | 513 | else { |
  | 502 |  | jQuery(~~'#reg\_billing\_phone'~~).parent().show(); |
  | 503 |  | jQuery(~~'label[for=reg\_billing\_phone]'~~).show(); |
  |  | 514 | jQuery("#reg\_billing\_phone").parent().show(); |
  |  | 515 | jQuery("label[for=reg\_billing\_phone]").show(); |
  | 504 | 516 | } |
  | 505 | 517 | }); |
  | 506 | 518 | jQuery( "#shop-phone" ).change(function() { |
  | 507 |  | jQuery(~~'#reg\_billing\_phone'~~).val(this.value); |
  | 508 |  | if( typeof sa\_otp\_settings !=  ~~'undefined' && sa\_otp\_settings['show\_countrycode'] == 'on'~~ ) |
  |  | 519 | jQuery("#reg\_billing\_phone").val(this.value); |
  |  | 520 | if( typeof sa\_otp\_settings !=  "undefined" && sa\_otp\_settings["show\_countrycode"] == "on" ) |
  | 509 | 521 | { |
  | 510 | 522 | var default\_cc = jQuery(this).intlTelInput("getSelectedCountryData"); |
  | 511 |  | jQuery(~~'#reg\_billing\_phone'~~).intlTelInput("setCountry",default\_cc.iso2); |
  | 512 |  | var phone\_num = jQuery(~~'#reg\_billing\_phone'~~).intlTelInput("getNumber"); |
  | 513 |  | //var phone\_num = jQuery(~~'input:hidden[name=phone]'~~).val(); |
  | 514 |  | jQuery(~~'#reg\_billing\_phone'~~).next("[name=billing\_phone]").val(phone\_num); |
  |  | 523 | jQuery("#reg\_billing\_phone").intlTelInput("setCountry",default\_cc.iso2); |
  |  | 524 | var phone\_num = jQuery("#reg\_billing\_phone").intlTelInput("getNumber"); |
  |  | 525 | //var phone\_num = jQuery("input:hidden[name=phone]").val(); |
  |  | 526 | jQuery("#reg\_billing\_phone").next("[name=billing\_phone]").val(phone\_num); |
  | 515 | 527 | } |
  | 516 | 528 | }); |
  | 517 | 529 | }); |
  | 518 | 530 | jQuery(document).ready(function(){ |
  | 519 |  | jQuery(~~'#shop-phone').on('countrychange'~~, function () { |
  |  | 531 | jQuery("#shop-phone").on("countrychange", function () { |
  | 520 | 532 | var default\_cc = jQuery(this).intlTelInput("getSelectedCountryData"); |
  | 521 |  | jQuery(~~'#reg\_billing\_phone'~~).intlTelInput("setCountry",default\_cc.iso2); |
  |  | 533 | jQuery("#reg\_billing\_phone").intlTelInput("setCountry",default\_cc.iso2); |
  | 522 | 534 | }); |
  | 523 |  | }) |
  | 524 |  | </script> |
  | 525 |  | <?php |
  |  | 535 | });'; |
  |  | 536 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 537 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 538 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 539 | } |
  |  | 540 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 526 | 541 | } |
  | 527 | 542 |  |
* ## [sms-alert/trunk/helper/class-abandonedcart.php](/changeset/3036826/sms-alert/trunk/helper/class-abandonedcart.php?old=2977349&old_path=sms-alert%2Ftrunk%2Fhelper%2Fclass-abandonedcart.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/helper/class-abandonedcart.php")

  | [r3032487](/browser/sms-alert/trunk/helper/class-abandonedcart.php?rev=2977349#L1670 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/helper/class-abandonedcart.php?rev=3036826#L1670 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 1670 | 1670 | global $wpdb; |
  | 1671 | 1671 | $table\_name = $wpdb->prefix . SA\_CART\_TABLE\_NAME; // do not forget about tables prefix |
  | 1672 |  |  |
  |  | 1672 | $verify = !empty($\_REQUEST['\_wpnonce'])?wp\_verify\_nonce( $\_REQUEST['\_wpnonce'], 'bulk-' . $this->\_args['plural'] ):false; |
  |  | 1673 | if($verify) |
  |  | 1674 | { |
  | 1673 | 1675 | if ('delete' === $this->current\_action() ) { |
  | 1674 | 1676 | $ids = isset($\_REQUEST['id']) ? smsalert\_sanitize\_array($\_REQUEST['id']) : array(); |
  | […](/browser/sms-alert/trunk/helper/class-abandonedcart.php?rev=2977349#L1708) | […](/browser/sms-alert/trunk/helper/class-abandonedcart.php?rev=3036826#L1710) |  |
  | 1708 | 1710 | exit(); |
  | 1709 | 1711 | } |
  |  | 1712 | } |
  | 1710 | 1713 | } |
  | 1711 | 1714 |  |
* ## [sms-alert/trunk/helper/class-backinstock.php](/changeset/3036826/sms-alert/trunk/helper/class-backinstock.php?old=2944050&old_path=sms-alert%2Ftrunk%2Fhelper%2Fclass-backinstock.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/helper/class-backinstock.php")

  | [r3032487](/browser/sms-alert/trunk/helper/class-backinstock.php?rev=2944050#L947 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/helper/class-backinstock.php?rev=3036826#L947 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 947 | 947 | global $wpdb; |
  | 948 | 948 | // $table\_name = $wpdb->prefix; // do not forget about tables prefix |
  | 949 |  |  |
  | 950 |  | if ('delete' === $this->current\_action() ) { |
  | 951 |  | $ids = isset($\_REQUEST['ID']) ? smsalert\_sanitize\_array($\_REQUEST['ID']) : array(); |
  | 952 |  | if (is\_array($ids) ) { |
  | 953 |  | $ids = implode(',', $ids); |
  | 954 |  | } |
  | 955 |  |  |
  | 956 |  | if (! empty($ids) ) { |
  | 957 |  | $wpdb->query("DELETE P, PM FROM {$wpdb->prefix}posts P inner join {$wpdb->prefix}postmeta PM on P.ID = PM.post\_id WHERE ID IN($ids)"); |
  | 958 |  | } |
  | 959 |  | } |
  | 960 |  |  |
  | 961 |  | if ( 'sa\_sub\_sendsms' === $this->current\_action() ) |
  |  | 949 | $verify = !empty($\_REQUEST['\_wpnonce'])?wp\_verify\_nonce( $\_REQUEST['\_wpnonce'], 'bulk-' . $this->\_args['plural'] ):false; |
  |  | 950 | if($verify) |
  | 962 | 951 | { |
  | 963 |  | $id = isset( $\_REQUEST['ID'] ) ? smsalert\_sanitize\_array( $\_REQUEST['ID'] ) : array(); |
  | 964 |  | $params =array( |
  | 965 |  | 'post\_ids'=> $id, |
  | 966 |  | 'type'=> 'subscribe\_data', |
  | 967 |  | ); |
  | 968 |  | echo get\_smsalert\_template( 'template/sms\_campaign.php', $params, true ); |
  | 969 |  | exit(); |
  | 970 |  | } |
  |  | 952 | if ('delete' === $this->current\_action() ) { |
  |  | 953 | $ids = isset($\_REQUEST['ID']) ? smsalert\_sanitize\_array($\_REQUEST['ID']) : array(); |
  |  | 954 | if (is\_array($ids) ) { |
  |  | 955 | $ids = implode(',', $ids); |
  |  | 956 | } |
  |  | 957 |  |
  |  | 958 | if (! empty($ids) ) { |
  |  | 959 | $wpdb->query("DELETE P, PM FROM {$wpdb->prefix}posts P inner join {$wpdb->prefix}postmeta PM on P.ID = PM.post\_id WHERE ID IN($ids) AND P.post\_type = 'sainstocknotifier'"); |
  |  | 960 | } |
  |  | 961 | } |
  |  | 962 |  |
  |  | 963 | if ( 'sa\_sub\_sendsms' === $this->current\_action() ) |
  |  | 964 | { |
  |  | 965 | $id = isset( $\_REQUEST['ID'] ) ? smsalert\_sanitize\_array( $\_REQUEST['ID'] ) : array(); |
  |  | 966 | $params =array( |
  |  | 967 | 'post\_ids'=> $id, |
  |  | 968 | 'type'=> 'subscribe\_data', |
  |  | 969 | ); |
  |  | 970 | echo get\_smsalert\_template( 'template/sms\_campaign.php', $params, true ); |
  |  | 971 | exit(); |
  |  | 972 | } |
  |  | 973 | } |
  | 971 | 974 | } |
  | 972 | 975 |  |
* ## [sms-alert/trunk/helper/class-shortcode.php](/changeset/3039613/sms-alert/trunk/helper/class-shortcode.php?old=3021199&old_path=sms-alert%2Ftrunk%2Fhelper%2Fclass-shortcode.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/helper/class-shortcode.php")

  | [r3032487](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3021199#L100 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3039613#L100 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 100 | 100 | $sa\_mobile\_placeholder = ( ! empty($callback['sa\_mobile\_placeholder']) ) ? $callback['sa\_mobile\_placeholder'] : esc\_html\_\_('Enter Mobile Number', 'sms-alert') ; |
  | 101 | 101 | $sa\_button = ( ! empty($callback['sa\_button']) ) ? $callback['sa\_button'] : esc\_html\_\_('Subscribe', 'sms-alert'); |
  | 102 |  | ~~return~~ "<form id='sa-subscribe-form'> |
  |  | 102 | $form\_html = "<form id='sa-subscribe-form'> |
  | 103 | 103 | <input type='hidden' name='grp\_name' id='sa\_grp\_name' value='".$grp\_name."'> |
  | 104 | 104 | <p> |
  | […](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3021199#L111) | […](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3039613#L111) |  |
  | 111 | 111 | </p> |
  | 112 | 112 | <div class='sasub\_output'></div> |
  | 113 |  | </form> |
  | 114 |  | <script>jQuery('#sa\_subscribe').click(function(){ |
  |  | 113 | </form>"; |
  |  | 114 |  |
  |  | 115 | $inline\_script = "jQuery('#sa\_subscribe').click(function(){ |
  | 115 | 116 | var name=jQuery('#sa\_name').val(); |
  | 116 | 117 | var mobile = jQuery('[name=sa\_mobile]:hidden').val()?jQuery('[name=sa\_mobile]:hidden').val():jQuery('[name=sa\_mobile]').val(); |
  | […](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3021199#L127) | […](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3039613#L128) |  |
  | 127 | 128 | } |
  | 128 | 129 | }) |
  | 129 |  | });</script>"; |
  |  | 130 | });"; |
  |  | 131 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 132 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 133 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 134 | } |
  |  | 135 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  |  | 136 | return $form\_html; |
  | 130 | 137 | } |
  | 131 | 138 |  |
  | […](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3021199#L161) | […](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3039613#L168) |  |
  | 161 | 168 | $placeholder\_field    = ( ! empty($callback['sa\_placeholder']) ) ? $callback['sa\_placeholder'] : 'Enter Number'; |
  | 162 | 169 | $button\_field    = ( ! empty($callback['sa\_button']) ) ? $callback['sa\_button'] : 'Login with OTP'; |
  | 163 |  | ~~$enabled\_login\_with\_otp = smsalert\_get\_option('login\_with\_otp', 'smsalert\_general');~~ |
  | 164 | 170 | $unique\_class    = 'sa-lwo-'.mt\_rand(1, 100); |
  | 165 |  | if (~~('on' !== $enabled\_login\_with\_otp) || (is\_user\_logged\_in() && !current\_user\_can('administrator'))~~ ) { |
  |  | 171 | if (is\_user\_logged\_in() && !current\_user\_can('administrator')) { |
  | 166 | 172 | return; |
  | 167 | 173 | } |
  | […](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3021199#L173) | […](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3039613#L179) |  |
  | 173 | 179 | echo '</form><style>.sa\_default\_login\_form{display:none;}</style>'; |
  | 174 | 180 | echo do\_shortcode('[sa\_verify phone\_selector=".sa\_mobileno" submit\_selector= ".'.$unique\_class.' .smsalert\_login\_with\_otp\_btn"]'); |
  | 175 |  | ?> |
  | 176 |  | <script> |
  |  | 181 | $otp\_modal = ' |
  | 177 | 182 | setTimeout(function() { |
  | 178 |  | if (jQuery(".modal.smsalertModal").length==0) { |
  | 179 |  | var popup = '<?php echo str\_replace(array("\n","\r","\r\n"), '', (get\_smsalert\_template("template/otp-popup.php", array(), true))); ?>'; |
  | 180 |  | jQuery('body').append(popup); |
  |  | 183 | if (jQuery(".modal.smsalertModal").length==0) |
  |  | 184 | { |
  |  | 185 | var popup = \''.str\_replace(array("\n","\r","\r\n"), "", (get\_smsalert\_template("template/otp-popup.php", array(), true))).'\'; |
  |  | 186 | jQuery("body").append(popup); |
  | 181 | 187 | } |
  | 182 | 188 | }, 200); |
  | 183 |  | </script> |
  | 184 |  | <?php |
  |  | 189 | '; |
  |  | 190 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 191 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 192 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 193 | } |
  |  | 194 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $otp\_modal); |
  | 185 | 195 | $content = ob\_get\_clean(); |
  | 186 | 196 | return $content; |
  | […](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3021199#L209) | […](/browser/sms-alert/trunk/helper/class-shortcode.php?rev=3039613#L219) |  |
  | 209 | 219 | echo wp\_nonce\_field('smsalert\_wp\_signupwithmobile\_nonce', 'smsalert\_signupwithmobile\_nonce', true, false); |
  | 210 | 220 | echo '</form><style>.sa\_default\_signup\_form{display:none;}</style>'; |
  | 211 |  | echo do\_shortcode('[sa\_verify phone\_selector="#reg\_with\_mob" submit\_selector= ".'.$unique\_class.' .smsalert\_reg\_with\_otp\_btn"]'); |
  | 212 |  | ?> |
  | 213 |  | <script> |
  |  | 221 | echo do\_shortcode('[sa\_verify phone\_selector="#reg\_with\_mob" submit\_selector= ".'.$unique\_class.' .smsalert\_reg\_with\_otp\_btn"]'); |
  |  | 222 | $otp\_modal = ' |
  | 214 | 223 | setTimeout(function() { |
  | 215 |  | if(jQuery(".modal.smsalertModal").length==0) |
  |  | 224 | if (jQuery(".modal.smsalertModal").length==0) |
  | 216 | 225 | { |
  | 217 |  | var popup = ~~'<?php echo str\_replace(array("\n","\r","\r\n"), '', (get\_smsalert\_template("template/otp-popup.php", array(), true))); ?>~~'; |
  | 218 |  | jQuery(~~'body'~~).append(popup); |
  |  | 226 | var popup = \''.str\_replace(array("\n","\r","\r\n"), "", (get\_smsalert\_template("template/otp-popup.php", array(), true))).'\'; |
  |  | 227 | jQuery("body").append(popup); |
  | 219 | 228 | } |
  | 220 | 229 | }, 200); |
  | 221 |  | </script> |
  | 222 |  | <?php |
  |  | 230 | '; |
  |  | 231 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 232 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 233 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 234 | } |
  |  | 235 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $otp\_modal); |
  | 223 | 236 | $content = ob\_get\_clean(); |
  | 224 | 237 | return $content; |
* ## [sms-alert/trunk/helper/constants.php](/changeset/3039989/sms-alert/trunk/helper/constants.php?old=3032487&old_path=sms-alert%2Ftrunk%2Fhelper%2Fconstants.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/helper/constants.php")

  | [r3032487](/browser/sms-alert/trunk/helper/constants.php?rev=3032487#L34 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/helper/constants.php?rev=3039989#L34 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | const SUCCESS\_JSON\_TYPE      = 'success'; |
  | 35 | 35 | const USERPRO\_VER\_FIELD\_META = 'verification\_form'; |
  | 36 |  | const SA\_VERSION             = '3.~~6.9~~'; |
  |  | 36 | const SA\_VERSION             = '3.7.0'; |
  | 37 | 37 |  |
  | 38 | 38 |  |
* ## [sms-alert/trunk/helper/delivery-drivers-woocommerce.php](/changeset/3039613/sms-alert/trunk/helper/delivery-drivers-woocommerce.php?old=2991898&old_path=sms-alert%2Ftrunk%2Fhelper%2Fdelivery-drivers-woocommerce.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/helper/delivery-drivers-woocommerce.php")

  | [r3032487](/browser/sms-alert/trunk/helper/delivery-drivers-woocommerce.php?rev=2991898#L77 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/helper/delivery-drivers-woocommerce.php?rev=3039613#L77 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 77 | 77 | $invalid\_message = SmsAlertMessages::showMessage('INVALID\_OTP'); |
  | 78 | 78 | if ('out-for-delivery' === $order\_status && '0' === $verify\_code\_status && ! empty($delivery\_code) ) { |
  | 79 |  | echo '<script> |
  | 80 |  | jQuery(document).ready(function(){ |
  |  | 79 | $inline\_script = 'jQuery(document).ready(function(){ |
  | 81 | 80 | var button = jQuery("input[name=ordercompleted]");                  jQuery("input[name=ordercompleted]").attr("type","hidden");         jQuery("input[name=ordercompleted]").after(button.clone()).addClass("sa-otp-btn-init").html(); |
  | 82 | 81 | jQuery(".sa-otp-btn-init").attr("type","submit");               jQuery(".sa-otp-btn-init").attr("id","submit\_code").attr("name","submit\_code"); |
  | […](/browser/sms-alert/trunk/helper/delivery-drivers-woocommerce.php?rev=2991898#L111) | […](/browser/sms-alert/trunk/helper/delivery-drivers-woocommerce.php?rev=3039613#L110) |  |
  | 111 | 110 | return false; |
  | 112 | 111 | }); |
  | 113 |  | }); |
  | 114 |  | </script>'; |
  |  | 112 | });'; |
  |  | 113 | if ( ! wp\_script\_is( 'sainlinescript-handle-footer', 'enqueued' ) ) { |
  |  | 114 | wp\_register\_script( 'sainlinescript-handle-footer', '', [], '', true ); |
  |  | 115 | wp\_enqueue\_script( 'sainlinescript-handle-footer'  ); |
  |  | 116 | } |
  |  | 117 | wp\_add\_inline\_script( "sainlinescript-handle-footer", $inline\_script); |
  | 115 | 118 | add\_action('wp\_footer', array( 'SAVerify', 'add\_shortcode\_popup\_html' )); |
  | 116 | 119 | } |
* ## [sms-alert/trunk/helper/shortcode.php](/changeset/3036521/sms-alert/trunk/helper/shortcode.php?old=3028011&old_path=sms-alert%2Ftrunk%2Fhelper%2Fshortcode.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/helper/shortcode.php")

  | [r3032487](/browser/sms-alert/trunk/helper/shortcode.php?rev=3028011#L274 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/helper/shortcode.php?rev=3036521#L274 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 274 | 274 | public static function enqueue\_otp\_js\_script() |
  | 275 | 275 | { |
  |  | 276 |  |
  | 276 | 277 | $enabled\_login\_with\_otp = smsalert\_get\_option('login\_with\_otp', 'smsalert\_general'); |
  | 277 | 278 | $default\_login\_otp      = smsalert\_get\_option('buyer\_login\_otp', 'smsalert\_general'); |
  | […](/browser/sms-alert/trunk/helper/shortcode.php?rev=3028011#L285) | […](/browser/sms-alert/trunk/helper/shortcode.php?rev=3036521#L286) |  |
  | 285 | 286 | $otp\_resend\_timer = !empty(SmsAlertUtility::get\_elementor\_data("sa\_otp\_re\_send\_timer"))?SmsAlertUtility::get\_elementor\_data("sa\_otp\_re\_send\_timer"):smsalert\_get\_option('otp\_resend\_timer', 'smsalert\_general', '15'); |
  | 286 | 287 | $auto\_validate = !empty(SmsAlertUtility::get\_elementor\_data("auto\_validate"))?SmsAlertUtility::get\_elementor\_data("auto\_validate"):SmsAlertUtility::get\_elementor\_data('auto\_validate', 'smsalert\_general', 'off'); |
  | 287 |  |  |
  | 288 | 288 | wp\_localize\_script( |
  | 289 | 289 | 'sa-handle-footer', |
  | […](/browser/sms-alert/trunk/helper/shortcode.php?rev=3028011#L303) | […](/browser/sms-alert/trunk/helper/shortcode.php?rev=3036521#L303) |  |
  | 303 | 303 | 'buyer\_login\_otp'         => ( 'on' === $default\_login\_otp ? true : false ), |
  | 304 | 304 | 'hide\_default\_login\_form' => smsalert\_get\_option('hide\_default\_login\_form', 'smsalert\_general'), |
  |  | 305 | 'hide\_default\_admin\_login\_form' => smsalert\_get\_option('hide\_default\_admin\_login\_form', 'smsalert\_general'), |
  |  | 306 | 'is\_wp\_login'             => (is\_login()) ? true : false, |
  | 305 | 307 | 'signup\_with\_mobile'      => ( 'on' === $signup\_with\_mobile ? true : false ), |
  | 306 | 308 | 'lang' => $wpml\_lang |
* ## [sms-alert/trunk/helper/utility.php](/changeset/3039613/sms-alert/trunk/helper/utility.php?old=3026647&old_path=sms-alert%2Ftrunk%2Fhelper%2Futility.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/helper/utility.php")

  | [r3032487](/browser/sms-alert/trunk/helper/utility.php?rev=3026647#L251 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/helper/utility.php?rev=3039613#L251 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 251 | 251 | 'buyer\_checkout\_otp'        => smsalert\_get\_option('buyer\_checkout\_otp', 'smsalert\_general', 'off'), |
  | 252 | 252 | 'is\_checkout'             => ( ( function\_exists('is\_checkout') && is\_checkout() ) ? true : false ), |
  |  | 253 | 'post\_verify'             => ( smsalert\_get\_option('post\_order\_verification', 'smsalert\_general') === 'on' ) ? true : false, |
  | 253 | 254 | 'whitelist\_countries' => ('on'===smsalert\_get\_option('enable\_selected\_country', 'smsalert\_general'))?smsalert\_get\_option('whitelist\_country', 'smsalert\_general'):'', |
  | 254 | 255 | ) |
* ## [sms-alert/trunk/helper/wc-integration.php](/changeset/3036826/sms-alert/trunk/helper/wc-integration.php?old=2938104&old_path=sms-alert%2Ftrunk%2Fhelper%2Fwc-integration.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/helper/wc-integration.php")

  | [r3032487](/browser/sms-alert/trunk/helper/wc-integration.php?rev=2938104#L1592 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/helper/wc-integration.php?rev=3036826#L1592 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 1592 | 1592 | \* @return void |
  | 1593 | 1593 | \*/ |
  | 1594 |  | function process\_bulk\_action() |
  | 1595 |  | { |
  | 1596 |  | global $wpdb; |
  | 1597 |  | $table\_name = $wpdb->prefix . 'smsalert\_booking\_reminder'; // do not forget about tables prefix |
  | 1598 |  | if ('delete' === $this->current\_action() ) { |
  | 1599 |  | $ids = isset($\_REQUEST['id']) ? smsalert\_sanitize\_array($\_REQUEST['id']) : array(); |
  |  | 1594 | function processBulkAction() |
  |  | 1595 | { |
  |  | 1596 | global $wpdb; |
  |  | 1597 | $table\_name = $wpdb->prefix . 'smsalert\_booking\_reminder'; // do not forget about tables prefix |
  |  | 1598 | $verify = !empty($\_REQUEST['\_wpnonce'])?wp\_verify\_nonce( $\_REQUEST['\_wpnonce'], 'bulk-' . $this->\_args['plural'] ):false; |
  |  | 1599 | if ('delete' === $this->current\_action() && $verify ) { |
  |  | 1600 | $ids = isset($\_REQUEST['id']) ? smsalert\_sanitize\_array($\_REQUEST['id']) : array(); |
  | 1600 | 1601 | if (! empty($ids) ) { |
  | 1601 | 1602 | if (is\_array($ids) ) { // Bulk booking reminder deletion |
  | […](/browser/sms-alert/trunk/helper/wc-integration.php?rev=2938104#L1646) | […](/browser/sms-alert/trunk/helper/wc-integration.php?rev=3036826#L1647) |  |
  | 1646 | 1647 | $sortable              = $this->get\_sortable\_columns(); |
  | 1647 | 1648 | $this->\_column\_headers = array( $columns, $hidden, $sortable ); // here we configure table headers, defined in our methods |
  | 1648 |  | $this->process~~\_bulk\_a~~ction(); // process bulk action if any |
  |  | 1649 | $this->processBulkAction(); // process bulk action if any |
  | 1649 | 1650 | $total\_items = $wpdb->get\_var("SELECT COUNT(id) FROM $table\_name WHERE source='".$source."'");// will be used in pagination settings |
  | 1650 | 1651 | // prepare query params, as usual current page, order by and order direction |
* ## [sms-alert/trunk/js/otp-sms.min.js](/changeset/3038252/sms-alert/trunk/js/otp-sms.min.js?old=3031689&old_path=sms-alert%2Ftrunk%2Fjs%2Fotp-sms.min.js "Show the [3032487:3039989] differences restricted to sms-alert/trunk/js/otp-sms.min.js")

  | [r3032487](/browser/sms-alert/trunk/js/otp-sms.min.js?rev=3031689#L26 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/js/otp-sms.min.js?rev=3038252#L26 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 26 | 26 | || (typeof sa\_otp\_settings !=  'undefined' && sa\_otp\_settings['buyer\_login\_otp'])) && $sa(".showlogin").parents(".woocommerce").find(".cod-showlogin").length == 0 |
  | 27 | 27 | ) { |
  | 28 |  | $sa(".showlogin").parents(".woocommerce-~~info~~").hide(); |
  | 29 |  | var content     = $sa(".showlogin").parents(".woocommerce-~~info~~").clone(); |
  |  | 28 | $sa(".showlogin").parents(".woocommerce-form-login-toggle").hide(); |
  |  | 29 | var content     = $sa(".showlogin").parents(".woocommerce-form-login-toggle").clone(); |
  | 30 | 30 |  |
  | 31 |  | var child\_div     = $sa(".showlogin").parents(".woocommerce-~~info~~").after(content); |
  |  | 31 | var child\_div     = $sa(".showlogin").parents(".woocommerce-form-login-toggle").after(content); |
  | 32 | 32 |  |
  | 33 | 33 | child\_div.show(); |
  | […](/browser/sms-alert/trunk/js/otp-sms.min.js?rev=3031689#L75) | […](/browser/sms-alert/trunk/js/otp-sms.min.js?rev=3038252#L75) |  |
  | 75 | 75 | $sa('.loginwithotp').removeAttr('inert'); |
  | 76 | 76 | var parentForm =  $sa(this).parents("form"); |
  | 77 |  | if(parentForm.parents('.um-login').length > 0 || parentForm.parents('#login').length > 0 || parentForm.parents('#tab-customlogin').length > 0 || parentForm.parents('.xoo-el-section-login').length > 0 || parentForm.hasClass('xoo-el-form-login') || parentForm.hasClass('checkoutwc') || parentForm.find('#bp-login-widget-form').length > 0) { |
  |  | 77 | if(parentForm.parents('.um-login').length > 0 || parentForm.parents('#login').length > 0 || parentForm.parents('#tab-customlogin').length > 0 || parentForm.parents('.xoo-el-section-login').length > 0 || parentForm.hasClass('xoo-el-form-login') || parentForm.hasClass('checkoutwc') || parentForm.find('#bp-login-widget-form').length > 0 || parentForm.parents('.thim-login').length > 0) { |
  | 78 | 78 | parentForm.addClass('login'); |
  | 79 | 79 | } |
  | 80 |  | if(parentForm.parents('#tab-customregister').length > 0 || parentForm.parents('.xoo-el-section-register').length > 0 || parentForm.hasClass('xoo-el-form-register')) { |
  |  | 80 | if(parentForm.parents('#tab-customregister').length > 0 || parentForm.parents('.xoo-el-section-register').length > 0 || parentForm.hasClass('xoo-el-form-register') || parentForm.parents('.thim-register').length > 0) { |
  | 81 | 81 | parentForm.addClass('register'); |
  | 82 | 82 | } |
  | […](/browser/sms-alert/trunk/js/otp-sms.min.js?rev=3031689#L225) | […](/browser/sms-alert/trunk/js/otp-sms.min.js?rev=3038252#L225) |  |
  | 225 | 225 | } |
  | 226 | 226 | ); |
  | 227 |  | if(~~sa\_otp\_settings['hide\_default\_login\_form'] == 'on'~~) { |
  |  | 227 | if((sa\_otp\_settings['hide\_default\_login\_form'] == 'on' && !sa\_otp\_settings['is\_wp\_login']) || (sa\_otp\_settings['hide\_default\_admin\_login\_form'] == 'on' && sa\_otp\_settings['is\_wp\_login'])) { |
  | 228 | 228 | if($sa(".sa\_myaccount\_btn[name=sa\_myaccount\_btn\_login]").parents().find('.woocommerce-form-login-toggle').length==0) { |
  | 229 | 229 | $sa(".sa\_myaccount\_btn[name=sa\_myaccount\_btn\_login]").trigger("click"); |
* ## [sms-alert/trunk/js/phone-number-validate.js](/changeset/3039613/sms-alert/trunk/js/phone-number-validate.js?old=3028011&old_path=sms-alert%2Ftrunk%2Fjs%2Fphone-number-validate.js "Show the [3032487:3039989] differences restricted to sms-alert/trunk/js/phone-number-validate.js")

  | [r3032487](/browser/sms-alert/trunk/js/phone-number-validate.js?rev=3028011#L111 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/js/phone-number-validate.js?rev=3039613#L111 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 111 | 111 | var allow\_otp\_verification = sa\_intl\_warning['allow\_otp\_verification']; |
  | 112 | 112 | var allow\_otp\_countries = sa\_intl\_warning['allow\_otp\_countries']; |
  | 113 |  | if("on" == allow\_otp\_verification && "" !== allow\_otp\_countries) |
  |  | 113 | if("on" == allow\_otp\_verification && "" !== allow\_otp\_countries && !sa\_intl\_warning['post\_verify']) |
  | 114 | 114 | { |
  | 115 | 115 | var buyer\_checkout\_otp = sa\_intl\_warning['buyer\_checkout\_otp']; |
* ## [sms-alert/trunk/readme.txt](/changeset/3039989/sms-alert/trunk/readme.txt?old=3032487&old_path=sms-alert%2Ftrunk%2Freadme.txt "Show the [3032487:3039989] differences restricted to sms-alert/trunk/readme.txt")

  | [r3032487](/browser/sms-alert/trunk/readme.txt?rev=3032487#L5 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/readme.txt?rev=3039989#L5 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires at least: 4.6 |
  | 6 | 6 | Tested up to: 6.4 |
  | 7 |  | Stable tag: 3.~~6.9~~ |
  |  | 7 | Stable tag: 3.7.0 |
  | 8 | 8 | Requires PHP: 5.6 |
  | 9 | 9 | License: GPLv2 |
  | […](/browser/sms-alert/trunk/readme.txt?rev=3032487#L235) | […](/browser/sms-alert/trunk/readme.txt?rev=3039989#L235) |  |
  | 235 | 235 | == Changelog == |
  | 236 | 236 |  |
  |  | 237 | = 3.7.0 = |
  |  | 238 | \* New: Compatibility with Eduma theme |
  |  | 239 | \* Enhancement: Option to enable admin login with otp |
  |  | 240 | \* Enhancement: SMS Alert modal html added in footer |
  |  | 241 | \* Enhancement: Nonce verification in admin section |
  |  | 242 | \* Enhancement: Code optimisation |
  |  | 243 | \* Bugfix: When disable default login form then two login with otp from showing on checkout page |
  |  | 244 | \* Bugfix: Warning message showing in ninja form |
  |  | 245 | \* compatibility check for latest woocommerce version |
  |  | 246 |  |
  | 237 | 247 | = 3.6.9 = |
  | 238 | 248 | \* New: Integration with WS Form plugin(https://wordpress.org/plugins/ws-form/) |
* ## [sms-alert/trunk/views/otp-section-template.php](/changeset/3036521/sms-alert/trunk/views/otp-section-template.php?old=3021199&old_path=sms-alert%2Ftrunk%2Fviews%2Fotp-section-template.php "Show the [3032487:3039989] differences restricted to sms-alert/trunk/views/otp-section-template.php")

  | [r3032487](/browser/sms-alert/trunk/views/otp-section-template.php?rev=3021199#L177 "Show revision 3032487 of this file in browser") | [r3039989](/browser/sms-alert/trunk/views/otp-section-template.php?rev=3036521#L177 "Show revision 3039989 of this file in browser") |  |
  | --- | --- | --- |
  | 177 | 177 | } |
  | 178 | 178 | ?> |
  | 179 |  | <!--login with otp--> |
  | 180 |  | <div class="cvt-accordion-body-title" data-href="#accordion\_9"> <input type="checkbox" name="smsalert\_general[login\_with\_otp]" id="smsalert\_general[login\_with\_otp]" class="notify\_box" <?php echo ( ( 'on' === $login\_with\_otp ) ? "checked='checked'" : '' ); ?>> <label for="smsalert\_general[login\_with\_otp]"><?php esc\_html\_e('Login With OTP', 'sms-alert'); ?></label> |
  |  | 179 | <!--customer login with otp--> |
  |  | 180 | <div class="cvt-accordion-body-title" data-href="#accordion\_9"> <input type="checkbox" name="smsalert\_general[login\_with\_otp]" id="smsalert\_general[login\_with\_otp]" class="notify\_box" <?php echo ( ( 'on' === $login\_with\_otp ) ? "checked='checked'" : '' ); ?>> <label for="smsalert\_general[login\_with\_otp]"><?php esc\_html\_e('Login With OTP (Customer)', 'sms-alert'); ?></label> |
  | 181 | 181 | <span class="expand\_btn"></span> |
  | 182 | 182 | </div> |
  | […](/browser/sms-alert/trunk/views/otp-section-template.php?rev=3021199#L197) | […](/browser/sms-alert/trunk/views/otp-section-template.php?rev=3036521#L197) |  |
  | 197 | 197 | </table> |
  | 198 | 198 | </div> |
  | 199 |  | <!--login with otp--> |
  |  | 199 | <!--customer login with otp--> |
  |  | 200 | <!--login with Admin otp--> |
  |  | 201 | <div class="cvt-accordion-body-title" data-href="#accordion\_11"> <input type="checkbox" name="smsalert\_general[login\_with\_admin\_otp]" id="smsalert\_general[login\_with\_admin\_otp]" class="notify\_box" <?php echo ( ( 'on' === $login\_with\_admin\_otp ) ? "checked='checked'" : '' ); ?>> <label for="smsalert\_general[login\_with\_admin\_otp]"><?php esc\_html\_e('Login With OTP (Admin)', 'sms-alert'); ?></label> |
  |  | 202 | <span class="expand\_btn"></span> |
  |  | 203 | </div> |
  |  | 204 | <div id="accordion\_11" class="cvt-accordion-body-content"> |
  |  | 205 | <table class="form-table"> |
  |  | 206 | <tr valign="top"> |
  |  | 207 | <td scope="row" class="td-heading"> |
  |  | 208 | <!--Hide default Login form--> |
  |  | 209 | <?php |
  |  | 210 | if ($has\_woocommerce ) { |
  |  | 211 | ?> |
  |  | 212 | <input type="checkbox" name="smsalert\_general[hide\_default\_admin\_login\_form]" id="smsalert\_general[hide\_default\_admin\_login\_form]" class="notify\_box" data-parent\_id="smsalert\_general[login\_with\_admin\_otp]" <?php echo ( ( 'on' === $hide\_default\_admin\_login\_form ) ? "checked='checked'" : '' ); ?>/><label for="smsalert\_general[hide\_default\_admin\_login\_form]"><?php esc\_html\_e('Hide default Admin Login form', 'sms-alert'); ?></label> |
  |  | 213 | <span class="tooltip" data-title="Hide default login form on my account"><span class="dashicons dashicons-info"></span></span> |
  |  | 214 | <?php } ?> |
  |  | 215 | <!--/-Hide default Login form--> |
  |  | 216 | </td> |
  |  | 217 | </tr> |
  |  | 218 | </table> |
  |  | 219 | </div> |
  |  | 220 | <!--login with Admin otp--> |
  | 200 | 221 |  |
  | 201 | 222 | <!--signup with mobile--> |
  | 202 |  | <div class="cvt-accordion-body-title" data-href="#accordion\_1~~1~~"> |
  |  | 223 | <div class="cvt-accordion-body-title" data-href="#accordion\_12"> |
  | 203 | 224 |  |
  | 204 | 225 | <?php $signup\_with\_mobile = smsalert\_get\_option('signup\_with\_mobile', 'smsalert\_general', 'off'); ?> |
  | […](/browser/sms-alert/trunk/views/otp-section-template.php?rev=3021199#L209) | […](/browser/sms-alert/trunk/views/otp-section-template.php?rev=3036521#L230) |  |
  | 209 | 230 | <span class="expand\_btn"></span> |
  | 210 | 231 | </div> |
  | 211 |  | <div id="accordion\_1~~1~~" class="cvt-accordion-body-content"> |
  |  | 232 | <div id="accordion\_12" class="cvt-accordion-body-content"> |
  | 212 | 233 | <table class="form-table"> |
  | 213 | 234 | <tr valign="top"> |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3039989&old=3032487&new_path=%2Fsms-alert%2Ftrunk&old_path=%2Fsms-alert%2Ftrunk)
* [Zip Archive](?format=zip&new=3039989&old=3032487&new_path=%2Fsms-alert%2Ftrunk&old_path=%2Fsms-alert%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_55f89360_20250111_085335.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# SMS Alert Order Notifications – WooCommerce <= 3.6.9 - Cross-Site Request Forgery

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   SMS Alert Order Notifications – WooCommerce <= 3.6.9 - Cross-Site Request Forgery

4.3

**Cross-Site Request Forgery (CSRF)**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:L/A:N)

| CVE | [CVE-2024-1489](https://www.cve.org/CVERecord?id=CVE-2024-1489) |
| --- | --- |
| CVSS | 4.3 (Medium) |
| Publicly Published | February 26, 2024 |
| Last Updated | March 13, 2024 |
| Researcher | [Krzysztof Zając - CERT PL](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/krzysztof-zajac) |

### Description

The SMS Alert Order Notifications – WooCommerce plugin for WordPress is vulnerable to Cross-Site Request Forgery in all versions up to, and including, 3.6.9. This is due to missing or incorrect nonce validation on the processBulkAction function. This makes it possible for unauthenticated attackers to delete pages and posts via a forged request granted they can trick a site administrator into performing an action such as clicking on a link.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&new=3039989%40sms-alert%2Ftrunk&old=3032487%40sms-alert%2Ftrunk&sfp_email=&sfph_mail=#file19)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsms-alert%2Fsms-alert-order-notifications-woocommerce-369-cross-site-request-forgery&t=SMS%20Alert%20Order%20Notifications%20%E2%80%93%20WooCommerce%20%3C%3D%203.6.9%20-%20Cross-Site%20Request%20Forgery "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsms-alert%2Fsms-alert-order-notifications-woocommerce-369-cross-site-request-forgery&text=SMS%20Alert%20Order%20Notifications%20%E2%80%93%20WooCommerce%20%3C%3D%203.6.9%20-%20Cross-Site%20Request%20Forgery "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsms-alert%2Fsms-alert-order-notifications-woocommerce-369-cross-site-request-forgery "LinkedIn")
Email

## Vulnerability Details for SMS Alert Order Notifications – WooCommerce

#### [SMS Alert Order Notifications – WooCommerce](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/sms-alert)

| Software Type | Plugin |
| --- | --- |
| Software Slug | sms-alert [(view on wordpress.org)](https://wordpress.org/plugins/sms-alert) |
| Patched? | Yes |
| Remediation | Update to version 3.7.0, or a newer patched version |
| Affected Version | * <= 3.6.9 |
| Patched Version | * 3.7.0 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation


