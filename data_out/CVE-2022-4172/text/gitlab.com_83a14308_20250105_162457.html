

[Skip to content](#content-body)
GitLab

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

**Commit
defb7098**

authored
Oct 24, 2022
by
**![Christian A. Ehrhardt's avatar](https://secure.gravatar.com/avatar/83281c3318d60ea884e9c185701e4c752ba7789f75db402059a60813cbc73315?s=48&d=identicon "Christian A. Ehrhardt")
Christian A. Ehrhardt**
Committed by
[MST](/mstredhat)
Nov 07, 2022

[Browse files](/qemu-project/qemu/-/tree/defb70980f6bed36100b74e84220f1764c0dd544)

### hw/acpi/erst.c: Fix memory handling issues

```

- Fix memset argument order: The second argument is
  the value, the length goes last.
- Fix an integer overflow reported by Alexander Bulekov.

Both issues allow the guest to overrun the host buffer
allocated for the ERST memory device.

Cc: Eric DeVolder <eric.devolder@oracle.com
Cc: Alexander Bulekov <alxndr@bu.edu>
Cc: qemu-stable@nongnu.org
Fixes: [f7e26ffa](/qemu-project/qemu/-/commit/f7e26ffa590ff26b4c6a2c513ad9ba1e6156f5b8 "ACPI ERST: support for ACPI ERST feature") ("ACPI ERST: support for ACPI ERST feature")
Tested-by: ![default avatar](https://secure.gravatar.com/avatar/41ba645803ea30b5cb6d917e462f40d84e1981371ec8782a6317a407facb472e?s=32&d=identicon)Alexander Bulekov <alxndr@bu.edu>
Signed-off-by: ![default avatar](https://secure.gravatar.com/avatar/83281c3318d60ea884e9c185701e4c752ba7789f75db402059a60813cbc73315?s=32&d=identicon)Christian A. Ehrhardt <lk@c--e.de>
Message-Id: <20221024154233.1043347-1-lk@c--e.de>
Fixes: [#1268](https://gitlab.com/qemu-project/qemu/-/issues/1268 "erst: undefined-behavior in memcpy in write_erst_record")

Reviewed-by: ![default avatar](https://secure.gravatar.com/avatar/41ba645803ea30b5cb6d917e462f40d84e1981371ec8782a6317a407facb472e?s=32&d=identicon)Alexander Bulekov <alxndr@bu.edu>
Reviewed-by: ![default avatar](https://secure.gravatar.com/avatar/ced2b9a90656e238465680c159a3adadd8fcefffd2ef64dcf0ab9fe0443fd72e?s=32&d=identicon)Eric DeVolder <eric.devolder@oracle.com>
Reviewed-by: [![MST's avatar](https://secure.gravatar.com/avatar/9c8bd3b6373c44aa7d9db881fb056686b6e57ae5fce9b0acc4876583e5f7c47b?s=64&d=identicon "MST")](https://gitlab.com/mstredhat "mst@redhat.com")[Michael S. Tsirkin](https://gitlab.com/mstredhat "mst@redhat.com") <mst@redhat.com>
Signed-off-by: [![MST's avatar](https://secure.gravatar.com/avatar/9c8bd3b6373c44aa7d9db881fb056686b6e57ae5fce9b0acc4876583e5f7c47b?s=64&d=identicon "MST")](https://gitlab.com/mstredhat "mst@redhat.com")[Michael S. Tsirkin](https://gitlab.com/mstredhat "mst@redhat.com") <mst@redhat.com>
```

parent
[0193d693](/qemu-project/qemu/-/commit/0193d693a9c9323770c865f87942d8d4c0cbd8ff)

Loading

Loading

Loading

* [Changes
  1](/qemu-project/qemu/-/commit/defb70980f6bed36100b74e84220f1764c0dd544)

[Hide whitespace changes](/qemu-project/qemu/-/commit/defb70980f6bed36100b74e84220f1764c0dd544?action=show&controller=projects%2Fcommit&id=defb7098&namespace_id=qemu-project&project_id=qemu&w=1)
[Inline](/qemu-project/qemu/-/commit/defb7098?view=inline)
[Side-by-side](/qemu-project/qemu/-/commit/defb7098?view=parallel)

Loading

Preview

0%
Loading

Try again

or
attach a new file

.

Cancel

You are about to add
**0
people**
to the discussion. Proceed with caution.

Finish editing this message first!

Save comment

Cancel

Please [register](/users/sign_up?redirect_to_referer=yes) or [sign in](/users/sign_in?redirect_to_referer=yes) to comment

