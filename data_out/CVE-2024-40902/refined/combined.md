=== Content from git.kernel.org_16557184_20250111_111016.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-14 12:06:34 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-07-05 09:00:23 +0200 |
| commit | [f0dedb5c511ed82cbaff4997a8decf2351ba549f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f)) | |
| tree | [9a7d3c4803eeb72fa9d20608bbea7523e5177602](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f) | |
| parent | [83c2321411d8bb8f832dbb482ea3387ac1322542](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=83c2321411d8bb8f832dbb482ea3387ac1322542) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f&id2=83c2321411d8bb8f832dbb482ea3387ac1322542)) | |
| download | [linux-f0dedb5c511ed82cbaff4997a8decf2351ba549f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f0dedb5c511ed82cbaff4997a8decf2351ba549f.tar.gz) | |

jfs: xattr: fix buffer overflow for invalid xattrcommit 7c55b78818cfb732680c4a72ab270cc2d2ee3d0f upstream.
When an xattr size is not what is expected, it is printed out to the
kernel log in hex format as a form of debugging. But when that xattr
size is bigger than the expected size, printing it out can cause an
access off the end of the buffer.
Fix this all up by properly restricting the size of the debug hex dump
in the kernel log.
Reported-by: syzbot+9dfe490c8176301c1d06@syzkaller.appspotmail.com
Cc: Dave Kleikamp <shaggy@kernel.org>
Link: [https://lore.kernel.org/r/2024051433-slider-cloning-98f9@gregkh](https://lore.kernel.org/r/2024051433-slider-cloning-98f9%40gregkh)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f)

| -rw-r--r-- | [fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/xattr.c?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 1 deletions

| diff --git a/fs/jfs/xattr.c b/fs/jfs/xattr.cindex a6797986b625a3..e8b12e708428a9 100644--- a/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=83c2321411d8bb8f832dbb482ea3387ac1322542)+++ b/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=f0dedb5c511ed82cbaff4997a8decf2351ba549f)@@ -570,9 +570,11 @@ static int ea\_get(struct inode \*inode, struct ea\_buffer \*ea\_buf, int min\_size)  size\_check: if (EALIST\_SIZE(ea\_buf->xattr) != ea\_size) {+ int size = min\_t(int, EALIST\_SIZE(ea\_buf->xattr), ea\_size);+ printk(KERN\_ERR "ea\_get: invalid extended attribute\n"); print\_hex\_dump(KERN\_ERR, "", DUMP\_PREFIX\_ADDRESS, 16, 1,- ea\_buf->xattr, ea\_size, 1);+ ea\_buf->xattr, size, 1); ea\_release(inode, ea\_buf); rc = -EIO; goto clean\_up; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:08:53 +0000



=== Content from git.kernel.org_11633bb1_20250111_111014.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-14 12:06:34 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-04 18:09:03 +0200 |
| commit | [7c55b78818cfb732680c4a72ab270cc2d2ee3d0f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f)) | |
| tree | [62c34b4f558ab0e97f9aaba704dd17ddb192de9f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f) | |
| parent | [77427e3d5c353e3dd98c7c0af322f8d9e3131ace](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=77427e3d5c353e3dd98c7c0af322f8d9e3131ace) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f&id2=77427e3d5c353e3dd98c7c0af322f8d9e3131ace)) | |
| download | [linux-7c55b78818cfb732680c4a72ab270cc2d2ee3d0f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-7c55b78818cfb732680c4a72ab270cc2d2ee3d0f.tar.gz) | |

jfs: xattr: fix buffer overflow for invalid xattrWhen an xattr size is not what is expected, it is printed out to the
kernel log in hex format as a form of debugging. But when that xattr
size is bigger than the expected size, printing it out can cause an
access off the end of the buffer.
Fix this all up by properly restricting the size of the debug hex dump
in the kernel log.
Reported-by: syzbot+9dfe490c8176301c1d06@syzkaller.appspotmail.com
Cc: Dave Kleikamp <shaggy@kernel.org>
Link: [https://lore.kernel.org/r/2024051433-slider-cloning-98f9@gregkh](https://lore.kernel.org/r/2024051433-slider-cloning-98f9%40gregkh)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f)

| -rw-r--r-- | [fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/xattr.c?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 1 deletions

| diff --git a/fs/jfs/xattr.c b/fs/jfs/xattr.cindex 0fb7afac298e13..9987055293b359 100644--- a/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=77427e3d5c353e3dd98c7c0af322f8d9e3131ace)+++ b/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=7c55b78818cfb732680c4a72ab270cc2d2ee3d0f)@@ -557,9 +557,11 @@ static int ea\_get(struct inode \*inode, struct ea\_buffer \*ea\_buf, int min\_size)  size\_check: if (EALIST\_SIZE(ea\_buf->xattr) != ea\_size) {+ int size = min\_t(int, EALIST\_SIZE(ea\_buf->xattr), ea\_size);+ printk(KERN\_ERR "ea\_get: invalid extended attribute\n"); print\_hex\_dump(KERN\_ERR, "", DUMP\_PREFIX\_ADDRESS, 16, 1,- ea\_buf->xattr, ea\_size, 1);+ ea\_buf->xattr, size, 1); ea\_release(inode, ea\_buf); rc = -EIO; goto clean\_up; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:08:52 +0000



=== Content from git.kernel.org_afbf0f61_20250111_111014.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-14 12:06:34 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-07-05 09:14:14 +0200 |
| commit | [480e5bc21f2c42d90c2c16045d64d824dcdd5ec7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7)) | |
| tree | [94e011d366bd7d0694bb69a7234d2322aa946021](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7) | |
| parent | [3e89411cbb99ea13f49001fda0e0e8571bfdab1d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3e89411cbb99ea13f49001fda0e0e8571bfdab1d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7&id2=3e89411cbb99ea13f49001fda0e0e8571bfdab1d)) | |
| download | [linux-480e5bc21f2c42d90c2c16045d64d824dcdd5ec7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-480e5bc21f2c42d90c2c16045d64d824dcdd5ec7.tar.gz) | |

jfs: xattr: fix buffer overflow for invalid xattrcommit 7c55b78818cfb732680c4a72ab270cc2d2ee3d0f upstream.
When an xattr size is not what is expected, it is printed out to the
kernel log in hex format as a form of debugging. But when that xattr
size is bigger than the expected size, printing it out can cause an
access off the end of the buffer.
Fix this all up by properly restricting the size of the debug hex dump
in the kernel log.
Reported-by: syzbot+9dfe490c8176301c1d06@syzkaller.appspotmail.com
Cc: Dave Kleikamp <shaggy@kernel.org>
Link: [https://lore.kernel.org/r/2024051433-slider-cloning-98f9@gregkh](https://lore.kernel.org/r/2024051433-slider-cloning-98f9%40gregkh)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7)

| -rw-r--r-- | [fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/xattr.c?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 1 deletions

| diff --git a/fs/jfs/xattr.c b/fs/jfs/xattr.cindex f9273f6901c8d8..07df16ce800643 100644--- a/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=3e89411cbb99ea13f49001fda0e0e8571bfdab1d)+++ b/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=480e5bc21f2c42d90c2c16045d64d824dcdd5ec7)@@ -557,9 +557,11 @@ static int ea\_get(struct inode \*inode, struct ea\_buffer \*ea\_buf, int min\_size)  size\_check: if (EALIST\_SIZE(ea\_buf->xattr) != ea\_size) {+ int size = min\_t(int, EALIST\_SIZE(ea\_buf->xattr), ea\_size);+ printk(KERN\_ERR "ea\_get: invalid extended attribute\n"); print\_hex\_dump(KERN\_ERR, "", DUMP\_PREFIX\_ADDRESS, 16, 1,- ea\_buf->xattr, ea\_size, 1);+ ea\_buf->xattr, size, 1); ea\_release(inode, ea\_buf); rc = -EIO; goto clean\_up; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:08:51 +0000



=== Content from git.kernel.org_29ee29f2_20250111_111012.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=33aecc5799c93d3ee02f853cb94e201f9731f123)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=33aecc5799c93d3ee02f853cb94e201f9731f123)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=33aecc5799c93d3ee02f853cb94e201f9731f123)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=33aecc5799c93d3ee02f853cb94e201f9731f123)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-14 12:06:34 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-21 14:35:43 +0200 |
| commit | [33aecc5799c93d3ee02f853cb94e201f9731f123](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=33aecc5799c93d3ee02f853cb94e201f9731f123) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=33aecc5799c93d3ee02f853cb94e201f9731f123)) | |
| tree | [9ac07f143194a05bcde5f6c3dbc018766d938f42](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=33aecc5799c93d3ee02f853cb94e201f9731f123) | |
| parent | [b6e5e696435832b33e40775f060ef5c95f4fda1f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b6e5e696435832b33e40775f060ef5c95f4fda1f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=33aecc5799c93d3ee02f853cb94e201f9731f123&id2=b6e5e696435832b33e40775f060ef5c95f4fda1f)) | |
| download | [linux-33aecc5799c93d3ee02f853cb94e201f9731f123.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-33aecc5799c93d3ee02f853cb94e201f9731f123.tar.gz) | |

jfs: xattr: fix buffer overflow for invalid xattrcommit 7c55b78818cfb732680c4a72ab270cc2d2ee3d0f upstream.
When an xattr size is not what is expected, it is printed out to the
kernel log in hex format as a form of debugging. But when that xattr
size is bigger than the expected size, printing it out can cause an
access off the end of the buffer.
Fix this all up by properly restricting the size of the debug hex dump
in the kernel log.
Reported-by: syzbot+9dfe490c8176301c1d06@syzkaller.appspotmail.com
Cc: Dave Kleikamp <shaggy@kernel.org>
Link: [https://lore.kernel.org/r/2024051433-slider-cloning-98f9@gregkh](https://lore.kernel.org/r/2024051433-slider-cloning-98f9%40gregkh)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=33aecc5799c93d3ee02f853cb94e201f9731f123)

| -rw-r--r-- | [fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/xattr.c?id=33aecc5799c93d3ee02f853cb94e201f9731f123) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 1 deletions

| diff --git a/fs/jfs/xattr.c b/fs/jfs/xattr.cindex f9273f6901c8d8..07df16ce800643 100644--- a/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=b6e5e696435832b33e40775f060ef5c95f4fda1f)+++ b/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=33aecc5799c93d3ee02f853cb94e201f9731f123)@@ -557,9 +557,11 @@ static int ea\_get(struct inode \*inode, struct ea\_buffer \*ea\_buf, int min\_size)  size\_check: if (EALIST\_SIZE(ea\_buf->xattr) != ea\_size) {+ int size = min\_t(int, EALIST\_SIZE(ea\_buf->xattr), ea\_size);+ printk(KERN\_ERR "ea\_get: invalid extended attribute\n"); print\_hex\_dump(KERN\_ERR, "", DUMP\_PREFIX\_ADDRESS, 16, 1,- ea\_buf->xattr, ea\_size, 1);+ ea\_buf->xattr, size, 1); ea\_release(inode, ea\_buf); rc = -EIO; goto clean\_up; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:08:50 +0000



=== Content from git.kernel.org_079107d0_20250111_111016.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-14 12:06:34 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-07-05 09:12:25 +0200 |
| commit | [fc745f6e83cb650f9a5f2c864158e3a5ea76dad0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0)) | |
| tree | [9653e93ee0841ef6d783c3cb92e4ae4312a547cc](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0) | |
| parent | [498ff29800a6e1a6d11e49251ae122354691afff](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=498ff29800a6e1a6d11e49251ae122354691afff) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0&id2=498ff29800a6e1a6d11e49251ae122354691afff)) | |
| download | [linux-fc745f6e83cb650f9a5f2c864158e3a5ea76dad0.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-fc745f6e83cb650f9a5f2c864158e3a5ea76dad0.tar.gz) | |

jfs: xattr: fix buffer overflow for invalid xattrcommit 7c55b78818cfb732680c4a72ab270cc2d2ee3d0f upstream.
When an xattr size is not what is expected, it is printed out to the
kernel log in hex format as a form of debugging. But when that xattr
size is bigger than the expected size, printing it out can cause an
access off the end of the buffer.
Fix this all up by properly restricting the size of the debug hex dump
in the kernel log.
Reported-by: syzbot+9dfe490c8176301c1d06@syzkaller.appspotmail.com
Cc: Dave Kleikamp <shaggy@kernel.org>
Link: [https://lore.kernel.org/r/2024051433-slider-cloning-98f9@gregkh](https://lore.kernel.org/r/2024051433-slider-cloning-98f9%40gregkh)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0)

| -rw-r--r-- | [fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/xattr.c?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 1 deletions

| diff --git a/fs/jfs/xattr.c b/fs/jfs/xattr.cindex db41e7803163ec..7ae54f78a5b0b2 100644--- a/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=498ff29800a6e1a6d11e49251ae122354691afff)+++ b/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=fc745f6e83cb650f9a5f2c864158e3a5ea76dad0)@@ -557,9 +557,11 @@ static int ea\_get(struct inode \*inode, struct ea\_buffer \*ea\_buf, int min\_size)  size\_check: if (EALIST\_SIZE(ea\_buf->xattr) != ea\_size) {+ int size = min\_t(int, EALIST\_SIZE(ea\_buf->xattr), ea\_size);+ printk(KERN\_ERR "ea\_get: invalid extended attribute\n"); print\_hex\_dump(KERN\_ERR, "", DUMP\_PREFIX\_ADDRESS, 16, 1,- ea\_buf->xattr, ea\_size, 1);+ ea\_buf->xattr, size, 1); ea\_release(inode, ea\_buf); rc = -EIO; goto clean\_up; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:08:54 +0000



=== Content from git.kernel.org_8afa0ea4_20250111_111013.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4598233d9748fe4db4e13b9f473588aa25e87d69)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4598233d9748fe4db4e13b9f473588aa25e87d69)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4598233d9748fe4db4e13b9f473588aa25e87d69)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4598233d9748fe4db4e13b9f473588aa25e87d69)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-14 12:06:34 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-21 14:38:24 +0200 |
| commit | [4598233d9748fe4db4e13b9f473588aa25e87d69](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4598233d9748fe4db4e13b9f473588aa25e87d69) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4598233d9748fe4db4e13b9f473588aa25e87d69)) | |
| tree | [59ae42da3d047a26fc07dd9fac9011c2e0277a4e](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4598233d9748fe4db4e13b9f473588aa25e87d69) | |
| parent | [cc30d05b34f9a087a6928d09b131f7b491e9ab11](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cc30d05b34f9a087a6928d09b131f7b491e9ab11) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4598233d9748fe4db4e13b9f473588aa25e87d69&id2=cc30d05b34f9a087a6928d09b131f7b491e9ab11)) | |
| download | [linux-4598233d9748fe4db4e13b9f473588aa25e87d69.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4598233d9748fe4db4e13b9f473588aa25e87d69.tar.gz) | |

jfs: xattr: fix buffer overflow for invalid xattrcommit 7c55b78818cfb732680c4a72ab270cc2d2ee3d0f upstream.
When an xattr size is not what is expected, it is printed out to the
kernel log in hex format as a form of debugging. But when that xattr
size is bigger than the expected size, printing it out can cause an
access off the end of the buffer.
Fix this all up by properly restricting the size of the debug hex dump
in the kernel log.
Reported-by: syzbot+9dfe490c8176301c1d06@syzkaller.appspotmail.com
Cc: Dave Kleikamp <shaggy@kernel.org>
Link: [https://lore.kernel.org/r/2024051433-slider-cloning-98f9@gregkh](https://lore.kernel.org/r/2024051433-slider-cloning-98f9%40gregkh)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4598233d9748fe4db4e13b9f473588aa25e87d69)

| -rw-r--r-- | [fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/xattr.c?id=4598233d9748fe4db4e13b9f473588aa25e87d69) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 1 deletions

| diff --git a/fs/jfs/xattr.c b/fs/jfs/xattr.cindex 8577ad494e056b..941d30bde39fa3 100644--- a/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=cc30d05b34f9a087a6928d09b131f7b491e9ab11)+++ b/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=4598233d9748fe4db4e13b9f473588aa25e87d69)@@ -557,9 +557,11 @@ static int ea\_get(struct inode \*inode, struct ea\_buffer \*ea\_buf, int min\_size)  size\_check: if (EALIST\_SIZE(ea\_buf->xattr) != ea\_size) {+ int size = min\_t(int, EALIST\_SIZE(ea\_buf->xattr), ea\_size);+ printk(KERN\_ERR "ea\_get: invalid extended attribute\n"); print\_hex\_dump(KERN\_ERR, "", DUMP\_PREFIX\_ADDRESS, 16, 1,- ea\_buf->xattr, ea\_size, 1);+ ea\_buf->xattr, size, 1); ea\_release(inode, ea\_buf); rc = -EIO; goto clean\_up; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:08:50 +0000



=== Content from git.kernel.org_1eb926a5_20250111_111015.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b537cb2f4c4a1357479716a9c339c0bda03d873f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b537cb2f4c4a1357479716a9c339c0bda03d873f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b537cb2f4c4a1357479716a9c339c0bda03d873f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b537cb2f4c4a1357479716a9c339c0bda03d873f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-14 12:06:34 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-21 14:40:13 +0200 |
| commit | [b537cb2f4c4a1357479716a9c339c0bda03d873f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b537cb2f4c4a1357479716a9c339c0bda03d873f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b537cb2f4c4a1357479716a9c339c0bda03d873f)) | |
| tree | [7aa2ad5f0f561bfa8d1f2f03eeeaf639f8808738](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b537cb2f4c4a1357479716a9c339c0bda03d873f) | |
| parent | [c7618c7b0b8c45bcef34410cc1d1e953eb17f8f6](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c7618c7b0b8c45bcef34410cc1d1e953eb17f8f6) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b537cb2f4c4a1357479716a9c339c0bda03d873f&id2=c7618c7b0b8c45bcef34410cc1d1e953eb17f8f6)) | |
| download | [linux-b537cb2f4c4a1357479716a9c339c0bda03d873f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b537cb2f4c4a1357479716a9c339c0bda03d873f.tar.gz) | |

jfs: xattr: fix buffer overflow for invalid xattrcommit 7c55b78818cfb732680c4a72ab270cc2d2ee3d0f upstream.
When an xattr size is not what is expected, it is printed out to the
kernel log in hex format as a form of debugging. But when that xattr
size is bigger than the expected size, printing it out can cause an
access off the end of the buffer.
Fix this all up by properly restricting the size of the debug hex dump
in the kernel log.
Reported-by: syzbot+9dfe490c8176301c1d06@syzkaller.appspotmail.com
Cc: Dave Kleikamp <shaggy@kernel.org>
Link: [https://lore.kernel.org/r/2024051433-slider-cloning-98f9@gregkh](https://lore.kernel.org/r/2024051433-slider-cloning-98f9%40gregkh)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b537cb2f4c4a1357479716a9c339c0bda03d873f)

| -rw-r--r-- | [fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/xattr.c?id=b537cb2f4c4a1357479716a9c339c0bda03d873f) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 1 deletions

| diff --git a/fs/jfs/xattr.c b/fs/jfs/xattr.cindex 0fb7afac298e13..9987055293b359 100644--- a/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=c7618c7b0b8c45bcef34410cc1d1e953eb17f8f6)+++ b/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=b537cb2f4c4a1357479716a9c339c0bda03d873f)@@ -557,9 +557,11 @@ static int ea\_get(struct inode \*inode, struct ea\_buffer \*ea\_buf, int min\_size)  size\_check: if (EALIST\_SIZE(ea\_buf->xattr) != ea\_size) {+ int size = min\_t(int, EALIST\_SIZE(ea\_buf->xattr), ea\_size);+ printk(KERN\_ERR "ea\_get: invalid extended attribute\n"); print\_hex\_dump(KERN\_ERR, "", DUMP\_PREFIX\_ADDRESS, 16, 1,- ea\_buf->xattr, ea\_size, 1);+ ea\_buf->xattr, size, 1); ea\_release(inode, ea\_buf); rc = -EIO; goto clean\_up; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:08:52 +0000



=== Content from git.kernel.org_6c04200d_20250111_111012.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1e84c9b1838152a87cf453270a5fa75c5037e83a)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1e84c9b1838152a87cf453270a5fa75c5037e83a)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1e84c9b1838152a87cf453270a5fa75c5037e83a)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1e84c9b1838152a87cf453270a5fa75c5037e83a)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-14 12:06:34 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-07-05 09:08:15 +0200 |
| commit | [1e84c9b1838152a87cf453270a5fa75c5037e83a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1e84c9b1838152a87cf453270a5fa75c5037e83a) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1e84c9b1838152a87cf453270a5fa75c5037e83a)) | |
| tree | [f0f412494207aa1e49ccef6af04a8b698ff0669b](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1e84c9b1838152a87cf453270a5fa75c5037e83a) | |
| parent | [a1e6e2a221f1dfa6b1972c61c5bea7e137d6281a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a1e6e2a221f1dfa6b1972c61c5bea7e137d6281a) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1e84c9b1838152a87cf453270a5fa75c5037e83a&id2=a1e6e2a221f1dfa6b1972c61c5bea7e137d6281a)) | |
| download | [linux-1e84c9b1838152a87cf453270a5fa75c5037e83a.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1e84c9b1838152a87cf453270a5fa75c5037e83a.tar.gz) | |

jfs: xattr: fix buffer overflow for invalid xattrcommit 7c55b78818cfb732680c4a72ab270cc2d2ee3d0f upstream.
When an xattr size is not what is expected, it is printed out to the
kernel log in hex format as a form of debugging. But when that xattr
size is bigger than the expected size, printing it out can cause an
access off the end of the buffer.
Fix this all up by properly restricting the size of the debug hex dump
in the kernel log.
Reported-by: syzbot+9dfe490c8176301c1d06@syzkaller.appspotmail.com
Cc: Dave Kleikamp <shaggy@kernel.org>
Link: [https://lore.kernel.org/r/2024051433-slider-cloning-98f9@gregkh](https://lore.kernel.org/r/2024051433-slider-cloning-98f9%40gregkh)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1e84c9b1838152a87cf453270a5fa75c5037e83a)

| -rw-r--r-- | [fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/xattr.c?id=1e84c9b1838152a87cf453270a5fa75c5037e83a) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 1 deletions

| diff --git a/fs/jfs/xattr.c b/fs/jfs/xattr.cindex db41e7803163ec..7ae54f78a5b0b2 100644--- a/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=a1e6e2a221f1dfa6b1972c61c5bea7e137d6281a)+++ b/[fs/jfs/xattr.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/xattr.c?id=1e84c9b1838152a87cf453270a5fa75c5037e83a)@@ -557,9 +557,11 @@ static int ea\_get(struct inode \*inode, struct ea\_buffer \*ea\_buf, int min\_size)  size\_check: if (EALIST\_SIZE(ea\_buf->xattr) != ea\_size) {+ int size = min\_t(int, EALIST\_SIZE(ea\_buf->xattr), ea\_size);+ printk(KERN\_ERR "ea\_get: invalid extended attribute\n"); print\_hex\_dump(KERN\_ERR, "", DUMP\_PREFIX\_ADDRESS, 16, 1,- ea\_buf->xattr, ea\_size, 1);+ ea\_buf->xattr, size, 1); ea\_release(inode, ea\_buf); rc = -EIO; goto clean\_up; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:08:49 +0000


