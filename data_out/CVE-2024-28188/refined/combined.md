=== Content from github.com_70bf8938_20250110_203905.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjupyter-server%2Fjupyter_server%2Fpull%2F1392)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjupyter-server%2Fjupyter_server%2Fpull%2F1392)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=jupyter-server%2Fjupyter_server)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jupyter-server](/jupyter-server)
/
**[jupyter\_server](/jupyter-server/jupyter_server)**
Public

* [Notifications](/login?return_to=%2Fjupyter-server%2Fjupyter_server) You must be signed in to change notification settings
* [Fork
  313](/login?return_to=%2Fjupyter-server%2Fjupyter_server)
* [Star
   496](/login?return_to=%2Fjupyter-server%2Fjupyter_server)

* [Code](/jupyter-server/jupyter_server)
* [Issues
  174](/jupyter-server/jupyter_server/issues)
* [Pull requests
  31](/jupyter-server/jupyter_server/pulls)
* [Discussions](/jupyter-server/jupyter_server/discussions)
* [Actions](/jupyter-server/jupyter_server/actions)
* [Projects
  0](/jupyter-server/jupyter_server/projects)
* [Security](/jupyter-server/jupyter_server/security)
* [Insights](/jupyter-server/jupyter_server/pulse)

Additional navigation options

* [Code](/jupyter-server/jupyter_server)
* [Issues](/jupyter-server/jupyter_server/issues)
* [Pull requests](/jupyter-server/jupyter_server/pulls)
* [Discussions](/jupyter-server/jupyter_server/discussions)
* [Actions](/jupyter-server/jupyter_server/actions)
* [Projects](/jupyter-server/jupyter_server/projects)
* [Security](/jupyter-server/jupyter_server/security)
* [Insights](/jupyter-server/jupyter_server/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fjupyter-server%2Fjupyter_server%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fjupyter-server%2Fjupyter_server%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Add an option to have authentication enabled for all endpoints by default #1392

 Merged

[blink1073](/blink1073)
merged 20 commits into
[jupyter-server:main](/jupyter-server/jupyter_server/tree/main "jupyter-server/jupyter_server:main")
from
[krassowski:auth-by-default](/krassowski/jupyter_server/tree/auth-by-default "krassowski/jupyter_server:auth-by-default")

Mar 4, 2024

 Merged

# [Add an option to have authentication enabled for all endpoints by default](#top) #1392

[blink1073](/blink1073)
merged 20 commits into
[jupyter-server:main](/jupyter-server/jupyter_server/tree/main "jupyter-server/jupyter_server:main")
from
[krassowski:auth-by-default](/krassowski/jupyter_server/tree/auth-by-default "krassowski/jupyter_server:auth-by-default")

Mar 4, 2024

[Conversation
34](/jupyter-server/jupyter_server/pull/1392)
[Commits
20](/jupyter-server/jupyter_server/pull/1392/commits)
[Checks
35](/jupyter-server/jupyter_server/pull/1392/checks)
[Files changed](/jupyter-server/jupyter_server/pull/1392/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![krassowski](https://avatars.githubusercontent.com/u/5832902?s=60&v=4)](/krassowski)

Copy link

Collaborator

### @krassowski **[krassowski](/krassowski)** commented [Feb 10, 2024](#issue-2128547564) • edited Loading

Opening a draft for early feedback on naming and implementation.

### References

Closes [#389](https://github.com/jupyter-server/jupyter_server/issues/389)

Builds upon [@yuvipanda](https://github.com/yuvipanda)'s idea of using `prepare` method as described in [#1012 (comment)](https://github.com/jupyter-server/jupyter_server/issues/1012#issuecomment-1926355878).

### Code changes

* adds `ServerApp.allow_unauthenticated_access` traitlet (True by default for backwards compatibility)
* adds `@allow_unauthenticated` decorator, an opposite of Torando's `@web.authenticated`
* if `allow_unauthenticated_access` is False rejects requests to endpoints which do not have `@allow_unauthenticated` decorator for any non-authenticated user

### Punchlist

* add a test for `ServerApp.allow_unauthenticated_access` and `@allow_unauthenticated`
* add a test ensuring that all methods on all `JupyterHandler` descendants in jupyter-server have either `@web.authenticated` or `@allow_unauthenticated`
  + maybe make it a runtime warning?
  + maybe also add a runtime warning if any handlers which inherit directly from `web.RequestHandler` rather than `AuthenticatedHandler`/`JupyterHandler` get registered with the router?
  + maybe raise or warn if both `@allow_unauthenticated` and `@web.authenticated` are set?
* check if any other endpoint beside `login` and `logout` requires `@allow_unauthenticated`
* support websockets in the same way
* ~~consider moving the logic to `AuthenticatedHandler`, but this also requires setting `current_user` in `AuthenticatedHandler`; I do not understand why it is only set in `JupyterHandler`~~ I opened [Should `current_user` and `prepare` guards be set in `AuthenticatedHandler` rather than `JupyterHandler`? #1398](https://github.com/jupyter-server/jupyter_server/issues/1398) to track this as a future improvement

Sorry, something went wrong.

All reactions

 [![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)
[krassowski](/krassowski)
[force-pushed](/jupyter-server/jupyter_server/compare/0b453c67f8490171af54aa4c6da4dc7e08a4c2e3..2f66b1f63fdb30cad077b23c0e77b60fab734425)
the
auth-by-default

branch
from
[`0b453c6`](/jupyter-server/jupyter_server/commit/0b453c67f8490171af54aa4c6da4dc7e08a4c2e3) to
[`2f66b1f`](/jupyter-server/jupyter_server/commit/2f66b1f63fdb30cad077b23c0e77b60fab734425)  [Compare](/jupyter-server/jupyter_server/compare/0b453c67f8490171af54aa4c6da4dc7e08a4c2e3..2f66b1f63fdb30cad077b23c0e77b60fab734425)
[February 10, 2024 15:54](#event-11765125195)

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Add allow_unauthenticated_access traitlet and @allow_unauthenticated](/jupyter-server/jupyter_server/pull/1392/commits/3f65147607726030018b00819e037b8a80c6d4e7 "Add `allow_unauthenticated_access` traitlet and `@allow_unauthenticated`")`

`[3f65147](/jupyter-server/jupyter_server/pull/1392/commits/3f65147607726030018b00819e037b8a80c6d4e7)`

 [![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)
[krassowski](/krassowski)
[force-pushed](/jupyter-server/jupyter_server/compare/2f66b1f63fdb30cad077b23c0e77b60fab734425..3f65147607726030018b00819e037b8a80c6d4e7)
the
auth-by-default

branch
from
[`2f66b1f`](/jupyter-server/jupyter_server/commit/2f66b1f63fdb30cad077b23c0e77b60fab734425) to
[`3f65147`](/jupyter-server/jupyter_server/commit/3f65147607726030018b00819e037b8a80c6d4e7)  [Compare](/jupyter-server/jupyter_server/compare/2f66b1f63fdb30cad077b23c0e77b60fab734425..3f65147607726030018b00819e037b8a80c6d4e7)
[February 10, 2024 16:19](#event-11765161472)

[![@yuvipanda](https://avatars.githubusercontent.com/u/30430?s=80&v=4)](/yuvipanda)

Copy link

Contributor

### **[yuvipanda](/yuvipanda)** commented [Feb 10, 2024](#issuecomment-1937100851)

| Haven't looked too deep into this, but I absolutely *love* this. |
| --- |

 ❤️
1
 krassowski reacted with heart emoji

All reactions

* ❤️
  1 reaction

Sorry, something went wrong.

 [krassowski](/krassowski)
added 5 commits
[February 10, 2024 20:17](#commits-pushed-a9cff16)

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Tests, correct coroutine handling, add decorators where needed,](/jupyter-server/jupyter_server/pull/1392/commits/a9cff164c35242bb55230f21bd64161f639d60d5 "Tests, correct coroutine handling, add decorators where needed,

fix passing the setting down from the traitlet to web server")`
 …

`[a9cff16](/jupyter-server/jupyter_server/pull/1392/commits/a9cff164c35242bb55230f21bd64161f639d60d5)`

```
fix passing the setting down from the traitlet to web server
```

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Align ordering of test cases, improve wording of comments](/jupyter-server/jupyter_server/pull/1392/commits/646739ec0e95e1c94261845ec6679197e341fea4 "Align ordering of test cases, improve wording of comments")`

`[646739e](/jupyter-server/jupyter_server/pull/1392/commits/646739ec0e95e1c94261845ec6679197e341fea4)`

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Implement auth and tests for websockets](/jupyter-server/jupyter_server/pull/1392/commits/4cbb50406a06274f74c6df8b74b7cf73da0abe9d "Implement auth and tests for websockets

`WebsocketMixing` may be used with or without `JupyterHandler`;
- if used with it, we want to have custom auth implementation
  because redirecting to login page does not make sense for
  a websocket's GET request
- if these are used without `JupyterHandler `we want the auth
  rules to still apply, even though the `current_user`
  logic may differ slightly")`
 …

`[4cbb504](/jupyter-server/jupyter_server/pull/1392/commits/4cbb50406a06274f74c6df8b74b7cf73da0abe9d)`

```
`WebsocketMixing` may be used with or without `JupyterHandler`;
- if used with it, we want to have custom auth implementation
  because redirecting to login page does not make sense for
  a websocket's GET request
- if these are used without `JupyterHandler `we want the auth
  rules to still apply, even though the `current_user`
  logic may differ slightly
```

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Use allow_unauthenticated in FilesRedirectHandler for now](/jupyter-server/jupyter_server/pull/1392/commits/faee4880e868aab4660c12232f8f5429790dd93c "Use `allow_unauthenticated` in `FilesRedirectHandler` for now")`

`[faee488](/jupyter-server/jupyter_server/pull/1392/commits/faee4880e868aab4660c12232f8f5429790dd93c)`

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Do not touch coroutines](/jupyter-server/jupyter_server/pull/1392/commits/204d29f094e53e05143e061b0d92eb58119610a1 "Do not touch coroutines")`

`[204d29f](/jupyter-server/jupyter_server/pull/1392/commits/204d29f094e53e05143e061b0d92eb58119610a1)`

[![@blink1073](https://avatars.githubusercontent.com/u/2096628?s=40&u=2a4822ff8dc6b4f1162c58716d48fdfac08c8601&v=4)](/blink1073)
[blink1073](/blink1073)
added
the
[enhancement](/jupyter-server/jupyter_server/labels/enhancement)
label
[Feb 11, 2024](#event-11767142453)

[![yuvipanda](https://avatars.githubusercontent.com/u/30430?s=60&v=4)](/yuvipanda)

**[yuvipanda](/yuvipanda)**
reviewed
[Feb 12, 2024](#pullrequestreview-1874536803)

 [View reviewed changes](/jupyter-server/jupyter_server/pull/1392/files/204d29f094e53e05143e061b0d92eb58119610a1)

[jupyter\_server/serverapp.py](/jupyter-server/jupyter_server/pull/1392/files/204d29f094e53e05143e061b0d92eb58119610a1#diff-72888b4a95043904b226c1aa5addc9687a1dd09706da5e59ed28be58ae5f99c9)

|  |  | @@ -1214,6 +1215,21 @@ def \_deprecated\_password\_config(self, change: t.Any) -> None: | |
| --- | --- | --- | --- |
|  |  | """, |
|  |  | ) |
|  |  |  |
|  |  | allow\_unauthenticated\_access = Bool( |

Copy link

Contributor

### @yuvipanda **[yuvipanda](/yuvipanda)** [Feb 12, 2024](#discussion_r1485744140)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

For ease of use in JupyterHub deployments, I would also suggest making this available as an env variable. I know you can setup a \_config.json file reasonably easily, but given the possible high impact here, I think it's worth making an env var for this too. `JUPYTER_SERVER_ALLOW_UNAUTHENTICATED_ACCESS` or similar?

Sorry, something went wrong.

 👍
3
 krassowski, Wh1isper, and bollwyvl reacted with thumbs up emoji

All reactions

* 👍
  3 reactions

Copy link

Collaborator

Author

### @krassowski **[krassowski](/krassowski)** [Feb 13, 2024](#discussion_r1487725831)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Done in [cd84175](https://github.com/jupyter-server/jupyter_server/pull/1392/commits/cd84175921f2d1d3008b3184ca1caf22e18ea17d)

Sorry, something went wrong.

All reactions

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Add runtime check to ensure handlers have auth decorators](/jupyter-server/jupyter_server/pull/1392/commits/dccc42385a31f7e5847ddcad30e9620a88a3edd9 "Add runtime check to ensure handlers have auth decorators

Also adds `@ws_authenticated` to make the check simpler")`
 …

`[dccc423](/jupyter-server/jupyter_server/pull/1392/commits/dccc42385a31f7e5847ddcad30e9620a88a3edd9)`

```
Also adds `@ws_authenticated` to make the check simpler
```

 [![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)
[krassowski](/krassowski)
[force-pushed](/jupyter-server/jupyter_server/compare/900a1970a9665c3618b2aaa662be444e71d88ace..dccc42385a31f7e5847ddcad30e9620a88a3edd9)
the
auth-by-default

branch
from
[`900a197`](/jupyter-server/jupyter_server/commit/900a1970a9665c3618b2aaa662be444e71d88ace) to
[`dccc423`](/jupyter-server/jupyter_server/commit/dccc42385a31f7e5847ddcad30e9620a88a3edd9)  [Compare](/jupyter-server/jupyter_server/compare/900a1970a9665c3618b2aaa662be444e71d88ace..dccc42385a31f7e5847ddcad30e9620a88a3edd9)
[February 12, 2024 20:04](#event-11779291394)

 [krassowski](/krassowski)
added 8 commits
[February 13, 2024 09:39](#commits-pushed-8e13727)

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Do not ever raise for extension endpoints, and only](/jupyter-server/jupyter_server/pull/1392/commits/8e13727bea000fe4a7477a4e207aec5ab33be06e "Do not ever raise for extension endpoints, and only

warn if `allow_unauthenticated_access` is toggled off.
This is more reasonable default for now, we may revise
this in future releases.")`
 …

`[8e13727](/jupyter-server/jupyter_server/pull/1392/commits/8e13727bea000fe4a7477a4e207aec5ab33be06e)`

```
warn if `allow_unauthenticated_access` is toggled off.
This is more reasonable default for now, we may revise
this in future releases.
```

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Add test for extension handler warning, correct type](/jupyter-server/jupyter_server/pull/1392/commits/e6a8d9afe6dd7b83ec5070c2db07db29d89ca221 "Add test for extension handler warning, correct type")`

`[e6a8d9a](/jupyter-server/jupyter_server/pull/1392/commits/e6a8d9afe6dd7b83ec5070c2db07db29d89ca221)`

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Fix test for authentication enforcement for extensions](/jupyter-server/jupyter_server/pull/1392/commits/28825169a4600a050341942a0af541a9c0e723e7 "Fix test for authentication enforcement for extensions

This requires adding the warning to allow list as otherwise
pytest is configured raise on any warnings but this one is expected")`
 …

`[2882516](/jupyter-server/jupyter_server/pull/1392/commits/28825169a4600a050341942a0af541a9c0e723e7)`

```
This requires adding the warning to allow list as otherwise
pytest is configured raise on any warnings but this one is expected
```

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Add test for GET redirect in handler tests](/jupyter-server/jupyter_server/pull/1392/commits/4e1d664c4c5defcd1f4183913f552ab1b1ead584 "Add test for GET redirect in handler tests")`

`[4e1d664](/jupyter-server/jupyter_server/pull/1392/commits/4e1d664c4c5defcd1f4183913f552ab1b1ead584)`

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Add JUPYTER_SERVER_ALLOW_UNAUTHENTICATED_ACCESS env variable](/jupyter-server/jupyter_server/pull/1392/commits/cd84175921f2d1d3008b3184ca1caf22e18ea17d "Add `JUPYTER_SERVER_ALLOW_UNAUTHENTICATED_ACCESS` env variable")`

`[cd84175](/jupyter-server/jupyter_server/pull/1392/commits/cd84175921f2d1d3008b3184ca1caf22e18ea17d)`

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Better heuristic for @tornado.web.authenticated](/jupyter-server/jupyter_server/pull/1392/commits/5f6bc160becf701bc9be3796bb90b5930961fdf7 "Better heuristic for `@tornado.web.authenticated`")`

`[5f6bc16](/jupyter-server/jupyter_server/pull/1392/commits/5f6bc160becf701bc9be3796bb90b5930961fdf7)`

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Improve docstring/fix typo](/jupyter-server/jupyter_server/pull/1392/commits/0facfec5be8ac6e81d46bb627e40e3512bf82dba "Improve docstring/fix typo")`

`[0facfec](/jupyter-server/jupyter_server/pull/1392/commits/0facfec5be8ac6e81d46bb627e40e3512bf82dba)`

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Improve and test tornado.web.authenticated heuristic](/jupyter-server/jupyter_server/pull/1392/commits/90d7044f184043977f3c425fffe4f1d313831be7 "Improve and test tornado.web.authenticated heuristic")`

`[90d7044](/jupyter-server/jupyter_server/pull/1392/commits/90d7044f184043977f3c425fffe4f1d313831be7)`

 [![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)
[krassowski](/krassowski)
[force-pushed](/jupyter-server/jupyter_server/compare/7b9b0a88f54136493e4bc73b133ff8005c909737..90d7044f184043977f3c425fffe4f1d313831be7)
the
auth-by-default

branch
from
[`7b9b0a8`](/jupyter-server/jupyter_server/commit/7b9b0a88f54136493e4bc73b133ff8005c909737) to
[`90d7044`](/jupyter-server/jupyter_server/commit/90d7044f184043977f3c425fffe4f1d313831be7)  [Compare](/jupyter-server/jupyter_server/compare/7b9b0a88f54136493e4bc73b133ff8005c909737..90d7044f184043977f3c425fffe4f1d313831be7)
[February 13, 2024 12:46](#event-11788277519)

 [![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)
[krassowski](/krassowski)
marked this pull request as ready for review
[February 13, 2024 13:04](#event-11788473806)

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=80&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)

Copy link

Collaborator

Author

### **[krassowski](/krassowski)** commented [Feb 13, 2024](#issuecomment-1941473150)

| This is ready for review. The failing tests (`Downstream Tests / jupytext` and `Downstream Tests / downstream_check`) are also failing on the `main` branch and I believe these are unrelated. |
| --- |

All reactions

Sorry, something went wrong.

[![@Wh1isper](https://avatars.githubusercontent.com/u/43375501?s=80&u=80cdd4fb689bd8360e1401df4b5eaf7bccca70af&v=4)](/Wh1isper)

Copy link

Contributor

### **[Wh1isper](/Wh1isper)** commented [Feb 15, 2024](#issuecomment-1946221085) • edited Loading

| Maybe `allow_ws_unauthenticated` is better compared to `ws_authenticated`?  Otherwise, user seems to have to add `@ws_authenticated` to every websocket's `get` method...? |
| --- |

All reactions

Sorry, something went wrong.

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=80&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)

Copy link

Collaborator

Author

### **[krassowski](/krassowski)** commented [Feb 15, 2024](#issuecomment-1946232691) • edited Loading

| If you do not turn the flag on you do not have to add it. But all websockets should be authenticated.  Also, you can decorate websocket's get with `@allow_unauthenticated` if you wish. |
| --- |

 👍
1
 Wh1isper reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Merge branch 'main' into auth-by-default](/jupyter-server/jupyter_server/pull/1392/commits/54c2ea2f02addf8cc9096f73d688fd2698c066b9 "Merge branch 'main' into auth-by-default")`

`[54c2ea2](/jupyter-server/jupyter_server/pull/1392/commits/54c2ea2f02addf8cc9096f73d688fd2698c066b9)`

[![bollwyvl](https://avatars.githubusercontent.com/u/45380?s=60&v=4)](/bollwyvl)

**[bollwyvl](/bollwyvl)**
reviewed
[Feb 15, 2024](#pullrequestreview-1883417963)

 [View reviewed changes](/jupyter-server/jupyter_server/pull/1392/files/54c2ea2f02addf8cc9096f73d688fd2698c066b9)

[jupyter\_server/auth/decorator.py](/jupyter-server/jupyter_server/pull/1392/files/54c2ea2f02addf8cc9096f73d688fd2698c066b9#diff-663238124aa732f845af696b81b84d4a58e15a5f38399afddf1ba34d07dfdd2e)

|  |  | @@ -85,3 +85,58 @@ async def inner(self, \*args, \*\*kwargs): | |
| --- | --- | --- | --- |
|  |  | return cast(FuncT, wrapper(method)) |
|  |  |  |
|  |  | return cast(FuncT, wrapper) |
|  |  |  |
|  |  |  |
|  |  | def allow\_unauthenticated(method: FuncT) -> FuncT: |

Copy link

Contributor

### @bollwyvl **[bollwyvl](/bollwyvl)** [Feb 15, 2024](#discussion_r1491370717)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Perhaps something even *more* aggressive, e.g. `@UNAUTHENTICATED`.

Sorry, something went wrong.

All reactions

[![@bollwyvl](https://avatars.githubusercontent.com/u/45380?s=80&u=9ecf50e61a0e57f29a10b7d61fff338d8025b274&v=4)](/bollwyvl)

Copy link

Contributor

### **[bollwyvl](/bollwyvl)** commented [Feb 15, 2024](#issuecomment-1946695288)

| This seems like a really good step forward.  Not sure where it should go, but it seems like this should already start tossing out warnings, which can be hidden with e.g. `JUPYTER_SERVER_ANNOUNCE_AUTH=0`.  Perhaps related, having an `@authorized(RESOURCE_NAME)` might avoid a bunch of boilerplate. |
| --- |

All reactions

Sorry, something went wrong.

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=80&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)

Copy link

Collaborator

Author

### **[krassowski](/krassowski)** commented [Feb 18, 2024](#issuecomment-1951337417)

| Not sure where it should go, but it seems like this should already start tossing out warnings, which can be hidden with e.g. `JUPYTER_SERVER_ANNOUNCE_AUTH=0`.  Since the motion of "warnings are bad for users, we want developers to see it, not users" was brought up on the meeting before I started working on it, I kept the warnings only to core endpoints (errors when `ServerApp.allow_unauthenticated_access=True`; mostly to catch these early in PRs against `jupyter-server`) and to warnings for extensions endpoints when `ServerApp.allow_unauthenticated_access=True`.  I think that adding a warning for extension endpoints even if `allow_unauthenticated_access=False` (for now the default) is a good idea but for purpose of getting this PR merged sooner than later I wanted to avoid the potentially contentious issue of when and how to introduce the warning for extension when `allow_unauthenticated_access=False`. |
| --- |

All reactions

Sorry, something went wrong.

[![minrk](https://avatars.githubusercontent.com/u/151929?s=60&v=4)](/minrk)

**[minrk](/minrk)**
reviewed
[Feb 20, 2024](#pullrequestreview-1890329536)

 [View reviewed changes](/jupyter-server/jupyter_server/pull/1392/files/54c2ea2f02addf8cc9096f73d688fd2698c066b9)

[jupyter\_server/base/handlers.py](/jupyter-server/jupyter_server/pull/1392/files/54c2ea2f02addf8cc9096f73d688fd2698c066b9#diff-eba348e6d35015a3b39a634b12be85e08d8b27ac5677e1a684b2639e7c8aa9fb)
Outdated

Show resolved

Hide resolved

[jupyter\_server/base/websocket.py](/jupyter-server/jupyter_server/pull/1392/files/54c2ea2f02addf8cc9096f73d688fd2698c066b9#diff-135d0d20474f4685188e1bf6487cfd94e1a17b2696cfd16fa2505b97d948f9b7)
Outdated

|  |  | @no\_type\_check |
| --- | --- | --- |
|  |  | def prepare(self, \*args, \*\*kwargs): |
|  |  | """Handle a get request.""" |
|  |  | self.\_maybe\_auth() |

Copy link

Contributor

### @minrk **[minrk](/minrk)** [Feb 20, 2024](#discussion_r1495770410)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

`._maybe_auth` accesses `.current_user`, but `.prepare()` below is where it is set. The order needs to be reversed, but I assume there's a reason this is first. I think the override may need to be done a different way.

Sorry, something went wrong.

All reactions

Copy link

Collaborator

Author

### @krassowski **[krassowski](/krassowski)** [Feb 20, 2024](#discussion_r1495831737)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

> but I assume there's a reason this is first

Yes, this is because `JupyterHandler.prepare()` would raise `HTTPError` with redirect which does not make sense for websocket.

> The order needs to be reversed

So this works in test because `.current_user` is nominally [a getter implemented in `tornado.web.RequestHandler`](https://github.com/tornadoweb/tornado/blob/65a9e48f8ce645f104e3e0aa772222e70b0376d9/tornado/web.py#L1391-L1425). Unfortunately `JupyterHandler.prepare()` overrides it in a way which will cause a problem for this logic for a non-trivial identity provider (if I see it right, the default user will be used instead of the one provided by `IdentityProvider`).

It feels like we should move the implementation of setting the `current_user` from `JupyterHandler.prepare` to `JupyterHandler.get_current_user`. Thoughts?

Sorry, something went wrong.

All reactions

Copy link

Collaborator

Author

### @krassowski **[krassowski](/krassowski)** [Feb 20, 2024](#discussion_r1495842566)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Actually, why is IdentityProvider setting the current user in `JupyterHandler` and not in `AuthenticatedHandler` in the first place? I do not see rationale for it in [#671](https://github.com/jupyter-server/jupyter_server/pull/671)

Sorry, something went wrong.

All reactions

Copy link

Collaborator

Author

### @krassowski **[krassowski](/krassowski)** [Feb 20, 2024](#discussion_r1495851798)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Ah, I see the user from identity provider may require `await`ing. I guess I can just pass an argument to `JupyterHandler.prepare()` instructing it to not redirect to login page.

Sorry, something went wrong.

All reactions

Copy link

Contributor

### @minrk **[minrk](/minrk)** [Feb 20, 2024](#discussion_r1495892120)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

JupyterHandler is responsible for `.current_user` being set, since it may be async, it cannot be done in a property. It would be appropriate to override the `.current_user` getter, which should make it very clear it can never be accessed before `.prepare()` is called:

```
@property
def current_user(self):
    if not hasattr(self, "_jupyter_current_user"):
        raise RuntimeError(".current_user accessed before being populated in JupyterHandler.prepare()")
    return self. _jupyter_current_user

@current_user.setter
def current_user(self, user):
    self._jupyter_current_user = user
```

Any time that error is hit is necessarily code that is bypassing Jupyter Server authentication.

Sorry, something went wrong.

All reactions

Copy link

Collaborator

Author

### @krassowski **[krassowski](/krassowski)** [Feb 21, 2024](#discussion_r1497109840)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Done in [5e7615d](https://github.com/jupyter-server/jupyter_server/commit/5e7615d61d52210f497dd3d12ef7e8729599954a) (added test) and [4265f4e](https://github.com/jupyter-server/jupyter_server/commit/4265f4e6df6dcf60164a6bfcf158cdb03910e819) (fixed it).

Would you like me to add the `RuntimeError` on accessing `current_user` too early (from the last comment) in this PR, or would it be better to ensure that this PR does not introduce potentially breaking changes and can be adopted in existing deployments easily?

Sorry, something went wrong.

All reactions

Copy link

Contributor

### @minrk **[minrk](/minrk)** [Feb 21, 2024](#discussion_r1497329445)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Looking at the code, I guess we [already have this RuntimeError in get\_current\_user](https://github.com/jupyter-server/jupyter_server/blob/b3caa3c2f60412138f430daec1da7af235c8d26b/jupyter_server/base/handlers.py#L160-L176). So maybe it's just the message that wants clarifying?

Because it's already there, I don't think moving the RuntimeError to the `.current_user` getter can break anything. But at the same time, since folks *may* call `get_current_user()` *or* access the (correct) `.current_user`, then I guess `.get_current_user` covers both cases. So maybe it only makes sense to put it in `.current_user` if it helps to have two distinct, clear error messages.

Sorry, something went wrong.

All reactions

[jupyter\_server/serverapp.py](/jupyter-server/jupyter_server/pull/1392/files/54c2ea2f02addf8cc9096f73d688fd2698c066b9#diff-72888b4a95043904b226c1aa5addc9687a1dd09706da5e59ed28be58ae5f99c9)

|  |  | # new in 3.11 |
| --- | --- | --- |
|  |  | return code.co\_qualname.startswith("authenticated") # type:ignore[no-any-return] |
|  |  | elif hasattr(code, "co\_filename"): |
|  |  | return code.co\_filename.replace("\\", "/").endswith("tornado/web.py") |

Copy link

Contributor

### @minrk **[minrk](/minrk)** [Feb 20, 2024](#discussion_r1495777720)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

This only checks if it's anything from web.py, right?

Sorry, something went wrong.

All reactions

Copy link

Collaborator

Author

### @krassowski **[krassowski](/krassowski)** [Feb 20, 2024](#discussion_r1495833501)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Yes, it will have false positives in Python < 3.11. In the ideal world we can get a PR into tornado which would set a flag on the wrapped method, but it would still only work in a future version of tornado.

Sorry, something went wrong.

All reactions

[![krassowski](https://avatars.githubusercontent.com/u/5832902?s=60&v=4)](/krassowski)

**[krassowski](/krassowski)**
commented
[Feb 20, 2024](#pullrequestreview-1890412408)

 [View reviewed changes](/jupyter-server/jupyter_server/pull/1392/files/54c2ea2f02addf8cc9096f73d688fd2698c066b9)

Copy link

Collaborator

Author

### @krassowski **[krassowski](/krassowski)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Thank you [@minrk](https://github.com/minrk) for the review!

Sorry, something went wrong.

All reactions

[jupyter\_server/base/handlers.py](/jupyter-server/jupyter_server/pull/1392/files/54c2ea2f02addf8cc9096f73d688fd2698c066b9#diff-eba348e6d35015a3b39a634b12be85e08d8b27ac5677e1a684b2639e7c8aa9fb)
Outdated

Show resolved

Hide resolved

[jupyter\_server/base/websocket.py](/jupyter-server/jupyter_server/pull/1392/files/54c2ea2f02addf8cc9096f73d688fd2698c066b9#diff-135d0d20474f4685188e1bf6487cfd94e1a17b2696cfd16fa2505b97d948f9b7)
Outdated

|  |  | @no\_type\_check |
| --- | --- | --- |
|  |  | def prepare(self, \*args, \*\*kwargs): |
|  |  | """Handle a get request.""" |
|  |  | self.\_maybe\_auth() |

Copy link

Collaborator

Author

### @krassowski **[krassowski](/krassowski)** [Feb 20, 2024](#discussion_r1495831737)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

> but I assume there's a reason this is first

Yes, this is because `JupyterHandler.prepare()` would raise `HTTPError` with redirect which does not make sense for websocket.

> The order needs to be reversed

So this works in test because `.current_user` is nominally [a getter implemented in `tornado.web.RequestHandler`](https://github.com/tornadoweb/tornado/blob/65a9e48f8ce645f104e3e0aa772222e70b0376d9/tornado/web.py#L1391-L1425). Unfortunately `JupyterHandler.prepare()` overrides it in a way which will cause a problem for this logic for a non-trivial identity provider (if I see it right, the default user will be used instead of the one provided by `IdentityProvider`).

It feels like we should move the implementation of setting the `current_user` from `JupyterHandler.prepare` to `JupyterHandler.get_current_user`. Thoughts?

Sorry, something went wrong.

All reactions

[jupyter\_server/serverapp.py](/jupyter-server/jupyter_server/pull/1392/files/54c2ea2f02addf8cc9096f73d688fd2698c066b9#diff-72888b4a95043904b226c1aa5addc9687a1dd09706da5e59ed28be58ae5f99c9)

|  |  | # new in 3.11 |
| --- | --- | --- |
|  |  | return code.co\_qualname.startswith("authenticated") # type:ignore[no-any-return] |
|  |  | elif hasattr(code, "co\_filename"): |
|  |  | return code.co\_filename.replace("\\", "/").endswith("tornado/web.py") |

Copy link

Collaborator

Author

### @krassowski **[krassowski](/krassowski)** [Feb 20, 2024](#discussion_r1495833501)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Yes, it will have false positives in Python < 3.11. In the ideal world we can get a PR into tornado which would set a flag on the wrapped method, but it would still only work in a future version of tornado.

Sorry, something went wrong.

All reactions

 [krassowski](/krassowski)
added 3 commits
[February 20, 2024 14:41](#commits-pushed-319a4d1)

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Call super.prepare() in all code paths, test it](/jupyter-server/jupyter_server/pull/1392/commits/319a4d17221e1638394dbc964e1154b08f55c6da "Call `super.prepare()` in all code paths, test it")`

`[319a4d1](/jupyter-server/jupyter_server/pull/1392/commits/319a4d17221e1638394dbc964e1154b08f55c6da)`

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Add test for identity provider being used](/jupyter-server/jupyter_server/pull/1392/commits/5e7615d61d52210f497dd3d12ef7e8729599954a "Add test for identity provider being used

The websocket test is failing as of this commit
because as pointed out in review the `_maybe_auth`
is using the default user rather the one from `IdentityProvider`")`
 …

`[5e7615d](/jupyter-server/jupyter_server/pull/1392/commits/5e7615d61d52210f497dd3d12ef7e8729599954a)`

```
The websocket test is failing as of this commit
because as pointed out in review the `_maybe_auth`
is using the default user rather the one from `IdentityProvider`
```

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Ensure that identity provider is used for auth,](/jupyter-server/jupyter_server/pull/1392/commits/4265f4e6df6dcf60164a6bfcf158cdb03910e819 "Ensure that identity provider is used for auth,

even in websockets (but only if those inherit from JupyterHandler,
and if they do not fallback to previous implementation and warn).")`
 …

`[4265f4e](/jupyter-server/jupyter_server/pull/1392/commits/4265f4e6df6dcf60164a6bfcf158cdb03910e819)`

```
even in websockets (but only if those inherit from JupyterHandler,
and if they do not fallback to previous implementation and warn).
```

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=80&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)

Copy link

Collaborator

Author

### **[krassowski](/krassowski)** commented [Feb 20, 2024](#issuecomment-1954924715) • edited Loading

| Trying to nail down why after switching `WebSocketMixin.prepare` to re-use `JupyterHandler.prepare` the identity provider (`PasswordIdentityProvider`) returns a valid user for requests without proper auth for websocket connection in `Jupyter Server Tests / Test Minimum Versions` despite passing locally. |
| --- |

All reactions

Sorry, something went wrong.

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)

`[Update minimum pytest-jupyter; we need 0.7 as it](/jupyter-server/jupyter_server/pull/1392/commits/c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899 "Update minimum `pytest-jupyter`; we need 0.7 as it

enabled `jp_ws_fetch` header override in:
gttps://github.com/jupyter-server/pytest-jupyter/pull/51")`
 …

`[c3f5d8f](/jupyter-server/jupyter_server/pull/1392/commits/c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899)`

```
enabled `jp_ws_fetch` header override in:
gttps://github.com/[jupyter-server/pytest-jupyter/pull/51](https://github.com/jupyter-server/pytest-jupyter/pull/51)
```

 [![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)
[krassowski](/krassowski)
[force-pushed](/jupyter-server/jupyter_server/compare/fac44951fa628842b5c0dec77afd757d9efb73dc..c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899)
the
auth-by-default

branch
from
[`fac4495`](/jupyter-server/jupyter_server/commit/fac44951fa628842b5c0dec77afd757d9efb73dc) to
[`c3f5d8f`](/jupyter-server/jupyter_server/commit/c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899)  [Compare](/jupyter-server/jupyter_server/compare/fac44951fa628842b5c0dec77afd757d9efb73dc..c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899)
[February 20, 2024 21:19](#event-11867534703)

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=80&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)

Copy link

Collaborator

Author

### **[krassowski](/krassowski)** commented [Feb 20, 2024](#issuecomment-1955118818)

| Found it, it was due to minimum versions check using minimum `pytest-jupyter` version which did not yet have the ability to override headers ([jupyter-server/pytest-jupyter#51](https://github.com/jupyter-server/pytest-jupyter/pull/51)). Something to consider in `maintainer-tools` action is whether it should only use minimum versions of the runtime rather than test deps. |
| --- |

All reactions

Sorry, something went wrong.

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)
[krassowski](/krassowski)
mentioned this pull request
[Feb 21, 2024](#ref-issue-2146158431)

[Should `current_user` and `prepare` guards be set in `AuthenticatedHandler` rather than `JupyterHandler`?
#1398](/jupyter-server/jupyter_server/issues/1398)

Open

[![minrk](https://avatars.githubusercontent.com/u/151929?s=60&v=4)](/minrk)

**[minrk](/minrk)**
reviewed
[Feb 21, 2024](#pullrequestreview-1892841744)

 [View reviewed changes](/jupyter-server/jupyter_server/pull/1392/files/c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899)

Copy link

Contributor

### @minrk **[minrk](/minrk)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Nice!

I've written some other auth decorators that are *like* `@web.authenticated` (e.g. to raise 403 instead of login redirect, or only accept token auth on this handler, not cookies). How would this interact with those? i.e. how would I explicitly mark that "this handler really is authenticated, even if you can't find `@web.authenticated` on it. I see there's a check for `__allow_unauthenticated`, so maybe there should also be `__is_authenticated`?

Sorry, something went wrong.

All reactions

[jupyter\_server/base/handlers.py](/jupyter-server/jupyter_server/pull/1392/files/c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899#diff-eba348e6d35015a3b39a634b12be85e08d8b27ac5677e1a684b2639e7c8aa9fb)

|  |  | @@ -726,7 +745,7 @@ def write\_error(self, status\_code: int, \*\*kwargs: Any) -> None: | |
| --- | --- | --- | --- |
|  |  | class APIHandler(JupyterHandler): |
|  |  | """Base class for API handlers""" |
|  |  |  |
|  |  | async def prepare(self) -> None: |
|  |  | async def prepare(self) -> None: # type:ignore[override] |
|  |  | """Prepare an API response.""" |
|  |  | await super().prepare() |

Copy link

Contributor

### @minrk **[minrk](/minrk)** [Feb 21, 2024](#discussion_r1497335338)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Something for later - API handlers should probably 403, not redirect. Now that we have logic for this.

Sorry, something went wrong.

All reactions

[jupyter\_server/base/handlers.py](/jupyter-server/jupyter_server/pull/1392/files/c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899#diff-eba348e6d35015a3b39a634b12be85e08d8b27ac5677e1a684b2639e7c8aa9fb)

|  |  | @@ -589,7 +589,7 @@ def check\_host(self) -> bool: | |
| --- | --- | --- | --- |
|  |  | ) |
|  |  | return allow |
|  |  |  |
|  |  | async def prepare(self) -> Awaitable[None] | None: # type:ignore[override] |
|  |  | async def prepare(self, \*, \_redirect\_to\_login=True) -> Awaitable[None] | None: # type:ignore[override] |

Copy link

Contributor

### @minrk **[minrk](/minrk)** [Feb 21, 2024](#discussion_r1497340457)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

private keyword arg makes this hard for subclasses, e.g. extensions with websockets, but I suppose they will inherit from our own websocket classes, too?

I wonder if this should be a Handler class attribute, rather than a private argument.

Sorry, something went wrong.

 👍
1
 krassowski reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Copy link

Collaborator

Author

### @krassowski **[krassowski](/krassowski)** [Feb 21, 2024](#discussion_r1498041641)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

There is a check for inheritance from `JupyterHandler` in the weboscket mixin class:

[jupyter\_server/jupyter\_server/base/websocket.py](https://github.com/jupyter-server/jupyter_server/blob/c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899/jupyter_server/base/websocket.py#L110-L121)

Lines 110 to 121
in
[c3f5d8f](/jupyter-server/jupyter_server/commit/c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899)

|  | if not isinstance(self, JupyterHandler): |
| --- | --- |
|  | should\_authenticate = not self.settings.get("allow\_unauthenticated\_access", False) |
|  | if "identity\_provider" in self.settings and should\_authenticate: |
|  | warnings.warn( |
|  | "WebSocketMixin sub-class does not inherit from JupyterHandler" |
|  | " preventing proper authentication using custom identity provider.", |
|  | JupyterServerAuthWarning, |
|  | stacklevel=2, |
|  | ) |
|  | self.\_maybe\_auth() |
|  | return super().prepare(\*args, \*\*kwargs) |
|  | return super().prepare(\*args, \*\*kwargs, \_redirect\_to\_login=False) |

A Handler class attribute is certainly a reasonable alternative that I briefly considered. My thinking was along: if you pass `_redirect_to_login` argument but are inheriting from wrong class you will get an error. If you set a class attribute but are inheriting from a wrong class you would not get anything. The downside of passing argument is that mypy typing might complain downstream.

Sorry, something went wrong.

All reactions

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=80&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)

Copy link

Collaborator

Author

### **[krassowski](/krassowski)** commented [Feb 21, 2024](#issuecomment-1957531042)

| I see there's a check for `__allow_unauthenticated`, so maybe there should also be `__is_authenticated`?  Currently you could use `__allow_unauthenticated = False`. |
| --- |

All reactions

Sorry, something went wrong.

[![@Zsailer](https://avatars.githubusercontent.com/u/2791223?s=40&v=4)](/Zsailer)
[Zsailer](/Zsailer)
mentioned this pull request
[Feb 22, 2024](#ref-issue-2065892882)

[Meeting Notes 2024
jupyter-server/team-compass#57](/jupyter-server/team-compass/issues/57)

Closed

[![@minrk](https://avatars.githubusercontent.com/u/151929?s=80&v=4)](/minrk)

Copy link

Contributor

### **[minrk](/minrk)** commented [Feb 22, 2024](#issuecomment-1958895813)

| Currently you could use \_\_allow\_unauthenticated = False.  I see, I suppose that would have the desired behavior, even if the name is the opposite of the effect.  Perhaps one issue: it is not the case that `@web.authenticated` is the only way to authenticate a request. It is a convenient way to encode a *specific behavior* when authentication fails (specifically: redirect to login on failure). Where redirect on failure is not desired, it is quite appropriate to use other decorators to authenticate request methods (e.g. we should probably use a 403 instead of redirect on ~all of our APIHandlers, using decorators [like these in JupyterHub](https://github.com/jupyterhub/jupyterhub/blob/ed8a531b85b6d64450acfc9235878fca72f7d798/jupyterhub/utils.py#L338-L355)).  So a public API from jupyter\_server (e.g. a decorator) that serves only to 'mark' a method as authenticated might be appropriate. Right now, I guess that's `@allow_unauthenticated`, which is a bit confusing? |
| --- |

All reactions

Sorry, something went wrong.

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=80&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski)

Copy link

Collaborator

Author

### **[krassowski](/krassowski)** commented [Mar 2, 2024](#issuecomment-1974808453) • edited Loading

| So a public API from jupyter\_server (e.g. a decorator) that serves only to 'mark' a method as authenticated might be appropriate. Right now, I guess that's `@allow_unauthenticated`, which is a bit confusing?  `@do_not_check_authentication_and_do_not_warn_about_it`? At this point I would be happy to see a version of this PR land; it feels to me that the developer experience improvements could be made separately (naming things is difficult, but I would trust you or whoever may wish to push to my branch or open a follow up PR to make a right choice).  Edit: regarding naming not sure if everyone here is familiar with this classic from React codebase: [`__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED`](https://github.com/facebook/react/blob/30ae0baed1cfe670dea41d7c7abdc375c9a4859a/packages/react/index.js#L32). |
| --- |

 👍
1
 minrk reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@yuvipanda](https://avatars.githubusercontent.com/u/30430?s=80&v=4)](/yuvipanda)

Copy link

Contributor

### **[yuvipanda](/yuvipanda)** commented [Mar 2, 2024](#issuecomment-1974905874)

| +1 for getting this merged in some form and getting a release out, and tackling the devex separately :) |
| --- |

All reactions

Sorry, something went wrong.

[![@minrk](https://avatars.githubusercontent.com/u/151929?s=80&v=4)](/minrk)

Copy link

Contributor

### **[minrk](/minrk)** commented [Mar 4, 2024](#issuecomment-1976097578)

| I'm happy with this as-is. I'm not sure i understand the current state of the downstream tests enough to merge or if things need fixing.  I'll add one note from the JupyterHub perspective: I think even the `allow_unauthenticated` decorator is not necessary in JupyterHub, as there are *no* handlers in a single-user server that require unauthenticated access. So the much simpler "just always authenticate" without any checking of individual handlers would work there, I believe (unlike a regular jupyter server, which at least needs to serve static files for the login page itself). |
| --- |

All reactions

Sorry, something went wrong.

[![minrk](https://avatars.githubusercontent.com/u/151929?s=60&v=4)](/minrk)

**[minrk](/minrk)**
approved these changes
[Mar 4, 2024](#pullrequestreview-1913807467)

 [View reviewed changes](/jupyter-server/jupyter_server/pull/1392/files/c3f5d8fc4bd78aaf67b34e7f1e1aaa619d578899)

 Hide details
View details

[![@blink1073](https://avatars.githubusercontent.com/u/2096628?s=40&u=2a4822ff8dc6b4f1162c58716d48fdfac08c8601&v=4)](/blink1073)
[blink1073](/blink1073)
merged commit [`da50f2a`](/jupyter-server/jupyter_server/commit/da50f2acefcdab771aa58f3626aa17d2936cd54b)
into
jupyter-server:main

[Mar 4, 2024](https://github.com/jupyter-server/jupyter_server/pull/1392#event-11997957258)
34 of 37 checks passed

This was referenced Mar 12, 2024

[`nbdiff-web` gives error `Exception: You must define the 'login_url' setting in your application to use @tornado.web.authenticated``
jupyter/nbdime#749](/jupyter/nbdime/issues/749)

Closed

[Failure to authenticate API endpoints should raise 403 instead of redirect
jupyter/notebook#2428](/jupyter/notebook/issues/2428)

Closed

[sigmarkarl](/sigmarkarl)
added a commit
to spotinst/jupyter\_server
that referenced
this pull request
[Oct 8, 2024](#ref-commit-717ab33)
[![@sigmarkarl](https://avatars.githubusercontent.com/u/52135?s=40&v=4)](/sigmarkarl) [![@bloomsa](https://avatars.githubusercontent.com/u/20909250?s=40&u=8b24d3da4d2eeefb92a905c8afb6b0ad57b1a376&v=4)](/bloomsa)
[![@blink1073](https://avatars.githubusercontent.com/u/2096628?s=40&u=2a4822ff8dc6b4f1162c58716d48fdfac08c8601&v=4)](/blink1073) [![@IITII](https://avatars.githubusercontent.com/u/33705067?s=40&u=1e5150f7b699577068ed88f8a617ac082a3dc88b&v=4)](/IITII) [![@Wh1isper](https://avatars.githubusercontent.com/u/43375501?s=40&u=80cdd4fb689bd8360e1401df4b5eaf7bccca70af&v=4)](/Wh1isper) [![@fcollonval](https://avatars.githubusercontent.com/u/8435071?s=40&v=4)](/fcollonval) [![@minrk](https://avatars.githubusercontent.com/u/151929?s=40&v=4)](/minrk) [![@pre-commit-ci](https://avatars.githubusercontent.com/in/68672?s=40&v=4)](/marketplace/pre-commit-ci) [![@Zsailer](https://avatars.githubusercontent.com/u/2791223?s=40&u=8e0fafa18efd9aacaeef3960d18d2a007933d949&v=4)](/Zsailer) [![@bollwyvl](https://avatars.githubusercontent.com/u/45380?s=40&u=9ecf50e61a0e57f29a10b7d61fff338d8025b274&v=4)](/bollwyvl) [![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&u=6d8def5b12057f16d46fdfd885204af8565e7a5e&v=4)](/krassowski) [![@epignot](https://avatars.githubusercontent.com/u/21658174?s=40&v=4)](/epignot) [![@tornaria](https://avatars.githubusercontent.com/u/1581419?s=40&v=4)](/tornaria) [![@mwouts](https://avatars.githubusercontent.com/u/29915202?s=40&u=82068190704e2e4319b3dd356bf8bd3a4d028106&v=4)](/mwouts) [![@yuvipanda](https://avatars.githubusercontent.com/u/30430?s=40&v=4)](/yuvipanda) [![@Timeroot](https://avatars.githubusercontent.com/u/568733?s=40&v=4)](/Timeroot) [![@oliver-sanders](https://avatars.githubusercontent.com/u/16705946?s=40&u=2b7bd3dae44325607fda884c10ed2193b3824e6b&v=4)](/oliver-sanders) [![@hansepac](https://avatars.githubusercontent.com/u/131813389?s=40&u=ef3e7dcadbeb79c9867cd58535f3f6f505e2141e&v=4)](/hansepac) [![@manics](https://avatars.githubusercontent.com/u/1644105?s=40&v=4)](/manics) [![@dependabot](https://avatars.githubusercontent.com/in/29110?s=40&v=4)](/apps/dependabot) [![@holzman](https://avatars.githubusercontent.com/u/801118?s=40&u=a1e69e491097074e272b425d098eeab7df072571&v=4)](/holzman) [![@markypizz](https://avatars.githubusercontent.com/u/3615596?s=40&u=4c1ab1717aa1bd2bc1782e46844109a73b295c7b&v=4)](/markypizz) [![@lresende](https://avatars.githubusercontent.com/u/382917?s=40&u=e31a226f833bb912739c9f08757dd6433a9d6231&v=4)](/lresende) [![@kevin-bates](https://avatars.githubusercontent.com/u/22599560?s=40&u=f47845acdac9fecf5ddb282e1df84cfaab10c084&v=4)](/kevin-bates) [![@Carreau](https://avatars.githubusercontent.com/u/335567?s=40&v=4)](/Carreau) [![@willingc](https://avatars.githubusercontent.com/u/2680980?s=40&u=fac9f57d6b4c5da85cd600eddb4c7a1c0ad15b63&v=4)](/willingc) [![@gogasca](https://avatars.githubusercontent.com/u/30065079?s=40&u=4697018e2c66c600e615970b7ec75c4387f2e40d&v=4)](/gogasca)

`[Bgd 5953 workspace switching kernel causes an error (](/spotinst/jupyter_server/commit/717ab338f6715529f5df88895c81056a16a564f1 "Bgd 5953 workspace switching kernel causes an error (#18)

* ContentsHandler return 404 rather than raise exc (#1357)

* Add more typings (#1356)

* Publish 2.10.1

SHA256 hashes:

jupyter_server-2.10.1-py3-none-any.whl: 20519e355d951fc5e1b6ac5952854fe7620d0cfb56588fa4efe362a758977ed3

jupyter_server-2.10.1.tar.gz: e6da2657a954a7879eed28cc08e0817b01ffd81d7eab8634660397b55f926472

* Bump to 2.11.0.dev0

* typo: ServerApp (#1361)

* Support get file(notebook) md5 (#1363)

* Update ruff and typings (#1365)

* Update api docs with md5 param (#1364)

* Publish 2.11.0

SHA256 hashes:

jupyter_server-2.11.0-py3-none-any.whl: c9bd6e6d71dc5a2a25df167dc323422997f14682b008bfecb5d7920a55020ea7

jupyter_server-2.11.0.tar.gz: 78c97ec8049f9062f0151725bc8a1364dfed716646a66819095e0e8a24793eba

* Bump to 2.12.0.dev0

* Change md5 to hash and hash_algorithm, fix incompatibility (#1367)

Co-authored-by: Frédéric Collonval <fcollonval@gmail.com>

* avoid unhandled error on some invalid paths (#1369)

* Publish 2.11.1

SHA256 hashes:

jupyter_server-2.11.1-py3-none-any.whl: 4b3a16e3ed16fd202588890f10b8ca589bd3e29405d128beb95935f059441373

jupyter_server-2.11.1.tar.gz: fe80bab96493acf5f7d6cd9a1575af8fbd253dc2591aa4d015131a1e03b5799a

* Bump to 2.12.0.dev0

* Merge pull request from GHSA-h56g-gq9v-vc8r

Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Publish 2.11.2

SHA256 hashes:

jupyter_server-2.11.2-py3-none-any.whl: 0c548151b54bcb516ca466ec628f7f021545be137d01b5467877e87f6fff4374

jupyter_server-2.11.2.tar.gz: 0c99f9367b0f24141e527544522430176613f9249849be80504c6d2b955004bb

* Bump to 2.12.0.dev0

* chore: update pre-commit hooks (#1370)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Update for tornado 6.4 (#1372)

* Support async Authorizers (#1373)

* Publish 2.12.0

SHA256 hashes:

jupyter_server-2.12.0-py3-none-any.whl: 3482912efa4387bb1edc23ba60531796aff3b6d6a6e93a5810f5719e2bdb48b7

jupyter_server-2.12.0.tar.gz: 9fa74ed3bb931cf33f42b3d9046e2788328ec9e6dcc59d48aa3e0910a491e3e4

* Bump to 2.13.0.dev0

* log extension import time at debug level unless it's actually slow (#1375)

* Add support for async Authorizers (part 2) (#1374)

* Publish 2.12.1

SHA256 hashes:

jupyter_server-2.12.1-py3-none-any.whl: fd030dd7be1ca572e4598203f718df6630c12bd28a599d7f1791c4d7938e1010

jupyter_server-2.12.1.tar.gz: dc77b7dcc5fc0547acba2b2844f01798008667201eea27c6319ff9257d700a6d

* Bump to 2.13.0.dev0

* Use ruff docstring-code-format (#1377)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Enable htmlzip and epub on readthedocs (#1379)

* Update pre-commit deps (#1380)

* Fix a typo in error message (#1381)

* Force legacy ws subprotocol when using gateway (#1311)

Co-authored-by: Emmanuel Pignot <emmanuel.pignot@netapp.com>
Co-authored-by: Zachary Sailer <zachsailer@gmail.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Zachary Sailer <zsailer@apple.com>

* Publish 2.12.2

SHA256 hashes:

jupyter_server-2.12.2-py3-none-any.whl: abcfa33f98a959f908c8733aa2d9fa0101d26941cbd49b148f4cef4d3046fc61

jupyter_server-2.12.2.tar.gz: 5eae86be15224b5375cdec0c3542ce72ff20f7a25297a2a8166a250bb455a519

* Bump to 2.13.0.dev0

* Fix test param for pytest-xdist (#1382)

* Simplify the jupytext downstream test (#1383)

* Import User unconditionally (#1384)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Publish 2.12.3

SHA256 hashes:

jupyter_server-2.12.3-py3-none-any.whl: 6f85310ea5e6068568a521f079fba99d8d17e4884dd1d602ab0f43b3115204a8

jupyter_server-2.12.3.tar.gz: a1d2d51e497b1a6256c48b6940b0dd49b2553981baf1690077c37792f1fa23a1

* Bump to 2.13.0.dev0

* Fix log arguments for gateway client error (#1385)

* Publish 2.12.4

SHA256 hashes:

jupyter_server-2.12.4-py3-none-any.whl: a125ae18a60de568f78f55c84dd58759901a18ef279abf0418ac220653ca1320

jupyter_server-2.12.4.tar.gz: 41f4a1e6b912cc24a7c6c694851b37d3d8412b180f43d72315fe422cb2b85cc2

* Bump to 2.13.0.dev0

* Improve warning handling (#1386)

* Publish 2.12.5

SHA256 hashes:

jupyter_server-2.12.5-py3-none-any.whl: 184a0f82809a8522777cfb6b760ab6f4b1bb398664c5860a27cec696cb884923

jupyter_server-2.12.5.tar.gz: 0edb626c94baa22809be1323f9770cf1c00a952b17097592e40d03e6a3951689

* Bump to 2.13.0.dev0

* fix \"Shutdown\" -> \"Shut down\" (#1389)

* chore: update pre-commit hooks (#1390)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* websockets: add configurations for ping interval and timeout (#1391)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Add deprecation note for `ServerApp.preferred_dir` (#1396)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Fix color in windows log console with colorama (#1397)

* Replace _jupyter_server_extension_paths in apidocs (#1393)

* Add an option to have authentication enabled for all endpoints by default (#1392)

* Update release workflows (#1399)

* Publish 2.13.0

SHA256 hashes:

jupyter_server-2.13.0-py3-none-any.whl: 77b2b49c3831fbbfbdb5048cef4350d12946191f833a24e5f83e5f8f4803e97b

jupyter_server-2.13.0.tar.gz: c80bfb049ea20053c3d9641c2add4848b38073bf79f1729cea1faed32fc1c78e

* Bump to 2.14.0.dev0

* Pin to Pytest 7 (#1401)

* Update pytest requirement from <8,>=7.0 to >=7.0,<9 (#1402)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Don't crash on invalid JSON in page_config (#1403) (#1404)

* Ignore zero-length page_config.json, restore previous behavior of crashing for invalid JSON (#1405)

* don't include token in dashboard link, when available (#1406)

* chore: update pre-commit hooks (#1409)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Update simple extension README to cd into correct subdirectory (#1410)

Co-authored-by: Mark Pizzutillo <pizmark@amazon.com>

* Set all min deps (#1411)

* Fix jupytext and lint CI failures (#1413)

* docs: list server extensions (#1412)

* Link to GitHub repo from the docs (#1415)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Publish 2.14.0

SHA256 hashes:

jupyter_server-2.14.0-py3-none-any.whl: fb6be52c713e80e004fac34b35a0990d6d36ba06fd0a2b2ed82b899143a64210

jupyter_server-2.14.0.tar.gz: 659154cea512083434fd7c93b7fe0897af7a2fd0b9dd4749282b42eaac4ae677

* Bump to 2.15.0.dev0

* chore: update pre-commit hooks (#1421)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Removing excessive logging from reading local files (#1420)

Co-authored-by: Kevin Bates <kbates4@gmail.com>

* Use hatch fmt command (#1424)

* Merge pull request from GHSA-hrw6-wg82-cm62

* filefind: avoid handling absolute paths

we don't need or want absolute path support,
which we inherited from generic ipython_genutils

only supporting relative paths lets us avoid attempting to accessing files we know we won't accept

* Apply suggestions from code review

Co-authored-by: M Bussonnier <bussonniermatthias@gmail.com>

* filefind: only accept Sequence[str]

we only call it one place, might as well be simple about it

* version_info gate for is_relative_to

* clarify docstring

Co-authored-by: Carol Willing <carolcode@willingconsulting.com>

---------

Co-authored-by: M Bussonnier <bussonniermatthias@gmail.com>
Co-authored-by: Carol Willing <carolcode@willingconsulting.com>

* Publish 2.14.1

SHA256 hashes:

jupyter_server-2.14.1-py3-none-any.whl: 16f7177c3a4ea8fe37784e2d31271981a812f0b2874af17339031dc3510cc2a5

jupyter_server-2.14.1.tar.gz: 12558d158ec7a0653bf96cc272bc7ad79e0127d503b982ed144399346694f726

* Bump to 2.15.0.dev0

* Update simple extension examples: _jupyter_server_extension_points (#1426)

* chore: update pre-commit hooks (#1427)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Add Changelog for 2.14.1 (#1430)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* chore: update pre-commit hooks (#1441)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steve.silvester@mongodb.com>

* Update documentation for `cookie_secret` (#1433)

* Do not log environment variables passed to kernels (#1437)

* Pass session_id during Websocket connect (#1440)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Publish 2.14.2

SHA256 hashes:

jupyter_server-2.14.2-py3-none-any.whl: 47ff506127c2f7851a17bf4713434208fc490955d0e8632e95014a9a9afbeefd

jupyter_server-2.14.2.tar.gz: 66095021aa9638ced276c248b1d81862e4c50f292d575920bbe960de1c56b12b

---------

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: Sam Bloomquist <bloomquist.sam@gmail.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>
Co-authored-by: blink1073 <blink1073@users.noreply.github.com>
Co-authored-by: IITII <ccmejx@gmail.com>
Co-authored-by: Zhongsheng Ji <9573586@qq.com>
Co-authored-by: Frédéric Collonval <fcollonval@gmail.com>
Co-authored-by: Min RK <benjaminrk@gmail.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Zachary Sailer <zsailer@apple.com>
Co-authored-by: Zsailer <Zsailer@users.noreply.github.com>
Co-authored-by: Nicholas Bollweg <nick.bollweg@gmail.com>
Co-authored-by: Michał Krassowski <5832902+krassowski@users.noreply.github.com>
Co-authored-by: Manu <21658174+epignot@users.noreply.github.com>
Co-authored-by: Emmanuel Pignot <emmanuel.pignot@netapp.com>
Co-authored-by: Zachary Sailer <zachsailer@gmail.com>
Co-authored-by: Gonzalo Tornaría <tornaria@gmail.com>
Co-authored-by: Marc Wouts <marc.wouts@gmail.com>
Co-authored-by: Yuvi Panda <yuvipanda@gmail.com>
Co-authored-by: Alex Meiburg <timeroot.alex@gmail.com>
Co-authored-by: Oliver Sanders <oliver.sanders@metoffice.gov.uk>
Co-authored-by: hansepac <131813389+hansepac@users.noreply.github.com>
Co-authored-by: Simon Li <orpheus+devel@gmail.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Burt Holzman <burt@fnal.gov>
Co-authored-by: Mark <markypizz@gmail.com>
Co-authored-by: Mark Pizzutillo <pizmark@amazon.com>
Co-authored-by: Luciano Resende <lresende@apple.com>
Co-authored-by: Kevin Bates <kbates4@gmail.com>
Co-authored-by: M Bussonnier <bussonniermatthias@gmail.com>
Co-authored-by: Carol Willing <carolcode@willingconsulting.com>
Co-authored-by: Steven Silvester <steve.silvester@mongodb.com>
Co-authored-by: Gonzalo Gasca Meza <gogasca@google.com>")[#18](https://github.com/spotinst/jupyter_server/pull/18)[)](/spotinst/jupyter_server/commit/717ab338f6715529f5df88895c81056a16a564f1 "Bgd 5953 workspace switching kernel causes an error (#18)

* ContentsHandler return 404 rather than raise exc (#1357)

* Add more typings (#1356)

* Publish 2.10.1

SHA256 hashes:

jupyter_server-2.10.1-py3-none-any.whl: 20519e355d951fc5e1b6ac5952854fe7620d0cfb56588fa4efe362a758977ed3

jupyter_server-2.10.1.tar.gz: e6da2657a954a7879eed28cc08e0817b01ffd81d7eab8634660397b55f926472

* Bump to 2.11.0.dev0

* typo: ServerApp (#1361)

* Support get file(notebook) md5 (#1363)

* Update ruff and typings (#1365)

* Update api docs with md5 param (#1364)

* Publish 2.11.0

SHA256 hashes:

jupyter_server-2.11.0-py3-none-any.whl: c9bd6e6d71dc5a2a25df167dc323422997f14682b008bfecb5d7920a55020ea7

jupyter_server-2.11.0.tar.gz: 78c97ec8049f9062f0151725bc8a1364dfed716646a66819095e0e8a24793eba

* Bump to 2.12.0.dev0

* Change md5 to hash and hash_algorithm, fix incompatibility (#1367)

Co-authored-by: Frédéric Collonval <fcollonval@gmail.com>

* avoid unhandled error on some invalid paths (#1369)

* Publish 2.11.1

SHA256 hashes:

jupyter_server-2.11.1-py3-none-any.whl: 4b3a16e3ed16fd202588890f10b8ca589bd3e29405d128beb95935f059441373

jupyter_server-2.11.1.tar.gz: fe80bab96493acf5f7d6cd9a1575af8fbd253dc2591aa4d015131a1e03b5799a

* Bump to 2.12.0.dev0

* Merge pull request from GHSA-h56g-gq9v-vc8r

Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Publish 2.11.2

SHA256 hashes:

jupyter_server-2.11.2-py3-none-any.whl: 0c548151b54bcb516ca466ec628f7f021545be137d01b5467877e87f6fff4374

jupyter_server-2.11.2.tar.gz: 0c99f9367b0f24141e527544522430176613f9249849be80504c6d2b955004bb

* Bump to 2.12.0.dev0

* chore: update pre-commit hooks (#1370)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Update for tornado 6.4 (#1372)

* Support async Authorizers (#1373)

* Publish 2.12.0

SHA256 hashes:

jupyter_server-2.12.0-py3-none-any.whl: 3482912efa4387bb1edc23ba60531796aff3b6d6a6e93a5810f5719e2bdb48b7

jupyter_server-2.12.0.tar.gz: 9fa74ed3bb931cf33f42b3d9046e2788328ec9e6dcc59d48aa3e0910a491e3e4

* Bump to 2.13.0.dev0

* log extension import time at debug level unless it's actually slow (#1375)

* Add support for async Authorizers (part 2) (#1374)

* Publish 2.12.1

SHA256 hashes:

jupyter_server-2.12.1-py3-none-any.whl: fd030dd7be1ca572e4598203f718df6630c12bd28a599d7f1791c4d7938e1010

jupyter_server-2.12.1.tar.gz: dc77b7dcc5fc0547acba2b2844f01798008667201eea27c6319ff9257d700a6d

* Bump to 2.13.0.dev0

* Use ruff docstring-code-format (#1377)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Enable htmlzip and epub on readthedocs (#1379)

* Update pre-commit deps (#1380)

* Fix a typo in error message (#1381)

* Force legacy ws subprotocol when using gateway (#1311)

Co-authored-by: Emmanuel Pignot <emmanuel.pignot@netapp.com>
Co-authored-by: Zachary Sailer <zachsailer@gmail.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Zachary Sailer <zsailer@apple.com>

* Publish 2.12.2

SHA256 hashes:

jupyter_server-2.12.2-py3-none-any.whl: abcfa33f98a959f908c8733aa2d9fa0101d26941cbd49b148f4cef4d3046fc61

jupyter_server-2.12.2.tar.gz: 5eae86be15224b5375cdec0c3542ce72ff20f7a25297a2a8166a250bb455a519

* Bump to 2.13.0.dev0

* Fix test param for pytest-xdist (#1382)

* Simplify the jupytext downstream test (#1383)

* Import User unconditionally (#1384)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Publish 2.12.3

SHA256 hashes:

jupyter_server-2.12.3-py3-none-any.whl: 6f85310ea5e6068568a521f079fba99d8d17e4884dd1d602ab0f43b3115204a8

jupyter_server-2.12.3.tar.gz: a1d2d51e497b1a6256c48b6940b0dd49b2553981baf1690077c37792f1fa23a1

* Bump to 2.13.0.dev0

* Fix log arguments for gateway client error (#1385)

* Publish 2.12.4

SHA256 hashes:

jupyter_server-2.12.4-py3-none-any.whl: a125ae18a60de568f78f55c84dd58759901a18ef279abf0418ac220653ca1320

jupyter_server-2.12.4.tar.gz: 41f4a1e6b912cc24a7c6c694851b37d3d8412b180f43d72315fe422cb2b85cc2

* Bump to 2.13.0.dev0

* Improve warning handling (#1386)

* Publish 2.12.5

SHA256 hashes:

jupyter_server-2.12.5-py3-none-any.whl: 184a0f82809a8522777cfb6b760ab6f4b1bb398664c5860a27cec696cb884923

jupyter_server-2.12.5.tar.gz: 0edb626c94baa22809be1323f9770cf1c00a952b17097592e40d03e6a3951689

* Bump to 2.13.0.dev0

* fix \"Shutdown\" -> \"Shut down\" (#1389)

* chore: update pre-commit hooks (#1390)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* websockets: add configurations for ping interval and timeout (#1391)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Add deprecation note for `ServerApp.preferred_dir` (#1396)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Fix color in windows log console with colorama (#1397)

* Replace _jupyter_server_extension_paths in apidocs (#1393)

* Add an option to have authentication enabled for all endpoints by default (#1392)

* Update release workflows (#1399)

* Publish 2.13.0

SHA256 hashes:

jupyter_server-2.13.0-py3-none-any.whl: 77b2b49c3831fbbfbdb5048cef4350d12946191f833a24e5f83e5f8f4803e97b

jupyter_server-2.13.0.tar.gz: c80bfb049ea20053c3d9641c2add4848b38073bf79f1729cea1faed32fc1c78e

* Bump to 2.14.0.dev0

* Pin to Pytest 7 (#1401)

* Update pytest requirement from <8,>=7.0 to >=7.0,<9 (#1402)

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Don't crash on invalid JSON in page_config (#1403) (#1404)

* Ignore zero-length page_config.json, restore previous behavior of crashing for invalid JSON (#1405)

* don't include token in dashboard link, when available (#1406)

* chore: update pre-commit hooks (#1409)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Update simple extension README to cd into correct subdirectory (#1410)

Co-authored-by: Mark Pizzutillo <pizmark@amazon.com>

* Set all min deps (#1411)

* Fix jupytext and lint CI failures (#1413)

* docs: list server extensions (#1412)

* Link to GitHub repo from the docs (#1415)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Publish 2.14.0

SHA256 hashes:

jupyter_server-2.14.0-py3-none-any.whl: fb6be52c713e80e004fac34b35a0990d6d36ba06fd0a2b2ed82b899143a64210

jupyter_server-2.14.0.tar.gz: 659154cea512083434fd7c93b7fe0897af7a2fd0b9dd4749282b42eaac4ae677

* Bump to 2.15.0.dev0

* chore: update pre-commit hooks (#1421)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Removing excessive logging from reading local files (#1420)

Co-authored-by: Kevin Bates <kbates4@gmail.com>

* Use hatch fmt command (#1424)

* Merge pull request from GHSA-hrw6-wg82-cm62

* filefind: avoid handling absolute paths

we don't need or want absolute path support,
which we inherited from generic ipython_genutils

only supporting relative paths lets us avoid attempting to accessing files we know we won't accept

* Apply suggestions from code review

Co-authored-by: M Bussonnier <bussonniermatthias@gmail.com>

* filefind: only accept Sequence[str]

we only call it one place, might as well be simple about it

* version_info gate for is_relative_to

* clarify docstring

Co-authored-by: Carol Willing <carolcode@willingconsulting.com>

---------

Co-authored-by: M Bussonnier <bussonniermatthias@gmail.com>
Co-authored-by: Carol Willing <carolcode@willingconsulting.com>

* Publish 2.14.1

SHA256 hashes:

jupyter_server-2.14.1-py3-none-any.whl: 16f7177c3a4ea8fe37784e2d31271981a812f0b2874af17339031dc3510cc2a5

jupyter_server-2.14.1.tar.gz: 12558d158ec7a0653bf96cc272bc7ad79e0127d503b982ed144399346694f726

* Bump to 2.15.0.dev0

* Update simple extension examples: _jupyter_server_extension_points (#1426)

* chore: update pre-commit hooks (#1427)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Add Changelog for 2.14.1 (#1430)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* chore: update pre-commit hooks (#1441)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steve.silvester@mongodb.com>

* Update documentation for `cookie_secret` (#1433)

* Do not log environment variables passed to kernels (#1437)

* Pass session_id during Websocket connect (#1440)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Publish 2.14.2

SHA256 hashes:

jupyter_server-2.14.2-py3-none-any.whl: 47ff506127c2f7851a17bf4713434208fc490955d0e8632e95014a9a9afbeefd

jupyter_server-2.14.2.tar.gz: 66095021aa9638ced276c248b1d81862e4c50f292d575920bbe960de1c56b12b

---------

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: Sam Bloomquist <bloomquist.sam@gmail.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>
Co-authored-by: blink1073 <blink1073@users.noreply.github.com>
Co-authored-by: IITII <ccmejx@gmail.com>
Co-authored-by: Zhongsheng Ji <9573586@qq.com>
Co-authored-by: Frédéric Collonval <fcollonval@gmail.com>
Co-authored-by: Min RK <benjaminrk@gmail.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Zachary Sailer <zsailer@apple.com>
Co-authored-by: Zsailer <Zsailer@users.noreply.github.com>
Co-authored-by: Nicholas Bollweg <nick.bollweg@gmail.com>
Co-authored-by: Michał Krassowski <5832902+krassowski@users.noreply.github.com>
Co-authored-by: Manu <21658174+epignot@users.noreply.github.com>
Co-authored-by: Emmanuel Pignot <emmanuel.pignot@netapp.com>
Co-authored-by: Zachary Sailer <zachsailer@gmail.com>
Co-authored-by: Gonzalo Tornaría <tornaria@gmail.com>
Co-authored-by: Marc Wouts <marc.wouts@gmail.com>
Co-authored-by: Yuvi Panda <yuvipanda@gmail.com>
Co-authored-by: Alex Meiburg <timeroot.alex@gmail.com>
Co-authored-by: Oliver Sanders <oliver.sanders@metoffice.gov.uk>
Co-authored-by: hansepac <131813389+hansepac@users.noreply.github.com>
Co-authored-by: Simon Li <orpheus+devel@gmail.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Burt Holzman <burt@fnal.gov>
Co-authored-by: Mark <markypizz@gmail.com>
Co-authored-by: Mark Pizzutillo <pizmark@amazon.com>
Co-authored-by: Luciano Resende <lresende@apple.com>
Co-authored-by: Kevin Bates <kbates4@gmail.com>
Co-authored-by: M Bussonnier <bussonniermatthias@gmail.com>
Co-authored-by: Carol Willing <carolcode@willingconsulting.com>
Co-authored-by: Steven Silvester <steve.silvester@mongodb.com>
Co-authored-by: Gonzalo Gasca Meza <gogasca@google.com>")`
…

`[717ab33](/spotinst/jupyter_server/commit/717ab338f6715529f5df88895c81056a16a564f1)`

```
* ContentsHandler return 404 rather than raise exc ([jupyter-server#1357](https://github.com/jupyter-server/jupyter_server/pull/1357))

* Add more typings ([jupyter-server#1356](https://github.com/jupyter-server/jupyter_server/pull/1356))

* Publish 2.10.1

SHA256 hashes:

jupyter_server-2.10.1-py3-none-any.whl: 20519e355d951fc5e1b6ac5952854fe7620d0cfb56588fa4efe362a758977ed3

jupyter_server-2.10.1.tar.gz: e6da2657a954a7879eed28cc08e0817b01ffd81d7eab8634660397b55f926472

* Bump to 2.11.0.dev0

* typo: ServerApp ([jupyter-server#1361](https://github.com/jupyter-server/jupyter_server/pull/1361))

* Support get file(notebook) md5 ([jupyter-server#1363](https://github.com/jupyter-server/jupyter_server/pull/1363))

* Update ruff and typings ([jupyter-server#1365](https://github.com/jupyter-server/jupyter_server/pull/1365))

* Update api docs with md5 param ([jupyter-server#1364](https://github.com/jupyter-server/jupyter_server/pull/1364))

* Publish 2.11.0

SHA256 hashes:

jupyter_server-2.11.0-py3-none-any.whl: c9bd6e6d71dc5a2a25df167dc323422997f14682b008bfecb5d7920a55020ea7

jupyter_server-2.11.0.tar.gz: 78c97ec8049f9062f0151725bc8a1364dfed716646a66819095e0e8a24793eba

* Bump to 2.12.0.dev0

* Change md5 to hash and hash_algorithm, fix incompatibility ([jupyter-server#1367](https://github.com/jupyter-server/jupyter_server/pull/1367))

Co-authored-by: Frédéric Collonval <fcollonval@gmail.com>

* avoid unhandled error on some invalid paths ([jupyter-server#1369](https://github.com/jupyter-server/jupyter_server/pull/1369))

* Publish 2.11.1

SHA256 hashes:

jupyter_server-2.11.1-py3-none-any.whl: 4b3a16e3ed16fd202588890f10b8ca589bd3e29405d128beb95935f059441373

jupyter_server-2.11.1.tar.gz: fe80bab96493acf5f7d6cd9a1575af8fbd253dc2591aa4d015131a1e03b5799a

* Bump to 2.12.0.dev0

* Merge pull request from [GHSA-h56g-gq9v-vc8r](https://github.com/advisories/GHSA-h56g-gq9v-vc8r "GHSA-h56g-gq9v-vc8r")

Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Publish 2.11.2

SHA256 hashes:

jupyter_server-2.11.2-py3-none-any.whl: 0c548151b54bcb516ca466ec628f7f021545be137d01b5467877e87f6fff4374

jupyter_server-2.11.2.tar.gz: 0c99f9367b0f24141e527544522430176613f9249849be80504c6d2b955004bb

* Bump to 2.12.0.dev0

* chore: update pre-commit hooks ([jupyter-server#1370](https://github.com/jupyter-server/jupyter_server/pull/1370))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Update for tornado 6.4 ([jupyter-server#1372](https://github.com/jupyter-server/jupyter_server/pull/1372))

* Support async Authorizers ([jupyter-server#1373](https://github.com/jupyter-server/jupyter_server/pull/1373))

* Publish 2.12.0

SHA256 hashes:

jupyter_server-2.12.0-py3-none-any.whl: 3482912efa4387bb1edc23ba60531796aff3b6d6a6e93a5810f5719e2bdb48b7

jupyter_server-2.12.0.tar.gz: 9fa74ed3bb931cf33f42b3d9046e2788328ec9e6dcc59d48aa3e0910a491e3e4

* Bump to 2.13.0.dev0

* log extension import time at debug level unless it's actually slow ([jupyter-server#1375](https://github.com/jupyter-server/jupyter_server/pull/1375))

* Add support for async Authorizers (part 2) ([jupyter-server#1374](https://github.com/jupyter-server/jupyter_server/pull/1374))

* Publish 2.12.1

SHA256 hashes:

jupyter_server-2.12.1-py3-none-any.whl: fd030dd7be1ca572e4598203f718df6630c12bd28a599d7f1791c4d7938e1010

jupyter_server-2.12.1.tar.gz: dc77b7dcc5fc0547acba2b2844f01798008667201eea27c6319ff9257d700a6d

* Bump to 2.13.0.dev0

* Use ruff docstring-code-format ([jupyter-server#1377](https://github.com/jupyter-server/jupyter_server/pull/1377))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Enable htmlzip and epub on readthedocs ([jupyter-server#1379](https://github.com/jupyter-server/jupyter_server/pull/1379))

* Update pre-commit deps ([jupyter-server#1380](https://github.com/jupyter-server/jupyter_server/pull/1380))

* Fix a typo in error message ([jupyter-server#1381](https://github.com/jupyter-server/jupyter_server/pull/1381))

* Force legacy ws subprotocol when using gateway ([jupyter-server#1311](https://github.com/jupyter-server/jupyter_server/pull/1311))

Co-authored-by: Emmanuel Pignot <emmanuel.pignot@netapp.com>
Co-authored-by: Zachary Sailer <zachsailer@gmail.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Zachary Sailer <zsailer@apple.com>

* Publish 2.12.2

SHA256 hashes:

jupyter_server-2.12.2-py3-none-any.whl: abcfa33f98a959f908c8733aa2d9fa0101d26941cbd49b148f4cef4d3046fc61

jupyter_server-2.12.2.tar.gz: 5eae86be15224b5375cdec0c3542ce72ff20f7a25297a2a8166a250bb455a519

* Bump to 2.13.0.dev0

* Fix test param for pytest-xdist ([jupyter-server#1382](https://github.com/jupyter-server/jupyter_server/pull/1382))

* Simplify the jupytext downstream test ([jupyter-server#1383](https://github.com/jupyter-server/jupyter_server/pull/1383))

* Import User unconditionally ([jupyter-server#1384](https://github.com/jupyter-server/jupyter_server/pull/1384))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Publish 2.12.3

SHA256 hashes:

jupyter_server-2.12.3-py3-none-any.whl: 6f85310ea5e6068568a521f079fba99d8d17e4884dd1d602ab0f43b3115204a8

jupyter_server-2.12.3.tar.gz: a1d2d51e497b1a6256c48b6940b0dd49b2553981baf1690077c37792f1fa23a1

* Bump to 2.13.0.dev0

* Fix log arguments for gateway client error ([jupyter-server#1385](https://github.com/jupyter-server/jupyter_server/pull/1385))

* Publish 2.12.4

SHA256 hashes:

jupyter_server-2.12.4-py3-none-any.whl: a125ae18a60de568f78f55c84dd58759901a18ef279abf0418ac220653ca1320

jupyter_server-2.12.4.tar.gz: 41f4a1e6b912cc24a7c6c694851b37d3d8412b180f43d72315fe422cb2b85cc2

* Bump to 2.13.0.dev0

* Improve warning handling ([jupyter-server#1386](https://github.com/jupyter-server/jupyter_server/pull/1386))

* Publish 2.12.5

SHA256 hashes:

jupyter_server-2.12.5-py3-none-any.whl: 184a0f82809a8522777cfb6b760ab6f4b1bb398664c5860a27cec696cb884923

jupyter_server-2.12.5.tar.gz: 0edb626c94baa22809be1323f9770cf1c00a952b17097592e40d03e6a3951689

* Bump to 2.13.0.dev0

* fix "Shutdown" -> "Shut down" ([jupyter-server#1389](https://github.com/jupyter-server/jupyter_server/pull/1389))

* chore: update pre-commit hooks ([jupyter-server#1390](https://github.com/jupyter-server/jupyter_server/pull/1390))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* websockets: add configurations for ping interval and timeout ([jupyter-server#1391](https://github.com/jupyter-server/jupyter_server/pull/1391))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Add deprecation note for `ServerApp.preferred_dir` ([jupyter-server#1396](https://github.com/jupyter-server/jupyter_server/pull/1396))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Fix color in windows log console with colorama ([jupyter-server#1397](https://github.com/jupyter-server/jupyter_server/pull/1397))

* Replace _jupyter_server_extension_paths in apidocs ([jupyter-server#1393](https://github.com/jupyter-server/jupyter_server/pull/1393))

* Add an option to have authentication enabled for all endpoints by default ([jupyter-server#1392](https://github.com/jupyter-server/jupyter_server/pull/1392))

* Update release workflows ([jupyter-server#1399](https://github.com/jupyter-server/jupyter_server/pull/1399))

* Publish 2.13.0

SHA256 hashes:

jupyter_server-2.13.0-py3-none-any.whl: 77b2b49c3831fbbfbdb5048cef4350d12946191f833a24e5f83e5f8f4803e97b

jupyter_server-2.13.0.tar.gz: c80bfb049ea20053c3d9641c2add4848b38073bf79f1729cea1faed32fc1c78e

* Bump to 2.14.0.dev0

* Pin to Pytest 7 ([jupyter-server#1401](https://github.com/jupyter-server/jupyter_server/pull/1401))

* Update pytest requirement from <8,>=7.0 to >=7.0,<9 ([jupyter-server#1402](https://github.com/jupyter-server/jupyter_server/pull/1402))

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Don't crash on invalid JSON in page_config ([jupyter-server#1403](https://github.com/jupyter-server/jupyter_server/issues/1403)) ([jupyter-server#1404](https://github.com/jupyter-server/jupyter_server/pull/1404))

* Ignore zero-length page_config.json, restore previous behavior of crashing for invalid JSON ([jupyter-server#1405](https://github.com/jupyter-server/jupyter_server/pull/1405))

* don't include token in dashboard link, when available ([jupyter-server#1406](https://github.com/jupyter-server/jupyter_server/pull/1406))

* chore: update pre-commit hooks ([jupyter-server#1409](https://github.com/jupyter-server/jupyter_server/pull/1409))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Update simple extension README to cd into correct subdirectory ([jupyter-server#1410](https://github.com/jupyter-server/jupyter_server/pull/1410))

Co-authored-by: Mark Pizzutillo <pizmark@amazon.com>

* Set all min deps ([jupyter-server#1411](https://github.com/jupyter-server/jupyter_server/pull/1411))

* Fix jupytext and lint CI failures ([jupyter-server#1413](https://github.com/jupyter-server/jupyter_server/pull/1413))

* docs: list server extensions ([jupyter-server#1412](https://github.com/jupyter-server/jupyter_server/pull/1412))

* Link to GitHub repo from the docs ([jupyter-server#1415](https://github.com/jupyter-server/jupyter_server/pull/1415))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Publish 2.14.0

SHA256 hashes:

jupyter_server-2.14.0-py3-none-any.whl: fb6be52c713e80e004fac34b35a0990d6d36ba06fd0a2b2ed82b899143a64210

jupyter_server-2.14.0.tar.gz: 659154cea512083434fd7c93b7fe0897af7a2fd0b9dd4749282b42eaac4ae677

* Bump to 2.15.0.dev0

* chore: update pre-commit hooks ([jupyter-server#1421](https://github.com/jupyter-server/jupyter_server/pull/1421))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Removing excessive logging from reading local files ([jupyter-server#1420](https://github.com/jupyter-server/jupyter_server/pull/1420))

Co-authored-by: Kevin Bates <kbates4@gmail.com>

* Use hatch fmt command ([jupyter-server#1424](https://github.com/jupyter-server/jupyter_server/pull/1424))

* Merge pull request from [GHSA-hrw6-wg82-cm62](https://github.com/advisories/GHSA-hrw6-wg82-cm62 "GHSA-hrw6-wg82-cm62")

* filefind: avoid handling absolute paths

we don't need or want absolute path support,
which we inherited from generic ipython_genutils

only supporting relative paths lets us avoid attempting to accessing files we know we won't accept

* Apply suggestions from code review

Co-authored-by: M Bussonnier <bussonniermatthias@gmail.com>

* filefind: only accept Sequence[str]

we only call it one place, might as well be simple about it

* version_info gate for is_relative_to

* clarify docstring

Co-authored-by: Carol Willing <carolcode@willingconsulting.com>

---------

Co-authored-by: M Bussonnier <bussonniermatthias@gmail.com>
Co-authored-by: Carol Willing <carolcode@willingconsulting.com>

* Publish 2.14.1

SHA256 hashes:

jupyter_server-2.14.1-py3-none-any.whl: 16f7177c3a4ea8fe37784e2d31271981a812f0b2874af17339031dc3510cc2a5

jupyter_server-2.14.1.tar.gz: 12558d158ec7a0653bf96cc272bc7ad79e0127d503b982ed144399346694f726

* Bump to 2.15.0.dev0

* Update simple extension examples: _jupyter_server_extension_points ([jupyter-server#1426](https://github.com/jupyter-server/jupyter_server/pull/1426))

* chore: update pre-commit hooks ([jupyter-server#1427](https://github.com/jupyter-server/jupyter_server/pull/1427))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>

* Add Changelog for 2.14.1 ([jupyter-server#1430](https://github.com/jupyter-server/jupyter_server/pull/1430))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* chore: update pre-commit hooks ([jupyter-server#1441](https://github.com/jupyter-server/jupyter_server/pull/1441))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Steven Silvester <steve.silvester@mongodb.com>

* Update documentation for `cookie_secret` ([jupyter-server#1433](https://github.com/jupyter-server/jupyter_server/pull/1433))

* Do not log environment variables passed to kernels ([jupyter-server#1437](https://github.com/jupyter-server/jupyter_server/pull/1437))

* Pass session_id during Websocket connect ([jupyter-server#1440](https://github.com/jupyter-server/jupyter_server/pull/1440))

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>

* Publish 2.14.2

SHA256 hashes:

jupyter_server-2.14.2-py3-none-any.whl: 47ff506127c2f7851a17bf4713434208fc490955d0e8632e95014a9a9afbeefd

jupyter_server-2.14.2.tar.gz: 66095021aa9638ced276c248b1d81862e4c50f292d575920bbe960de1c56b12b

---------

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: Sam Bloomquist <bloomquist.sam@gmail.com>
Co-authored-by: Steven Silvester <steven.silvester@ieee.org>
Co-authored-by: blink1073 <blink1073@users.noreply.github.com>
Co-authored-by: IITII <ccmejx@gmail.com>
Co-authored-by: Zhongsheng Ji <9573586@qq.com>
Co-authored-by: Frédéric Collonval <fcollonval@gmail.com>
Co-authored-by: Min RK <benjaminrk@gmail.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Zachary Sailer <zsailer@apple.com>
Co-authored-by: Zsailer <Zsailer@users.noreply.github.com>
Co-authored-by: Nicholas Bollweg <nick.bollweg@gmail.com>
Co-authored-by: Michał Krassowski <5832902+krassowski@users.noreply.github.com>
Co-authored-by: Manu <21658174+epignot@users.noreply.github.com>
Co-authored-by: Emmanuel Pignot <emmanuel.pignot@netapp.com>
Co-authored-by: Zachary Sailer <zachsailer@gmail.com>
Co-authored-by: Gonzalo Tornaría <tornaria@gmail.com>
Co-authored-by: Marc Wouts <marc.wouts@gmail.com>
Co-authored-by: Yuvi Panda <yuvipanda@gmail.com>
Co-authored-by: Alex Meiburg <timeroot.alex@gmail.com>
Co-authored-by: Oliver Sanders <oliver.sanders@metoffice.gov.uk>
Co-authored-by: hansepac <131813389+hansepac@users.noreply.github.com>
Co-authored-by: Simon Li <orpheus+devel@gmail.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Burt Holzman <burt@fnal.gov>
Co-authored-by: Mark <markypizz@gmail.com>
Co-authored-by: Mark Pizzutillo <pizmark@amazon.com>
Co-authored-by: Luciano Resende <lresende@apple.com>
Co-authored-by: Kevin Bates <kbates4@gmail.com>
Co-authored-by: M Bussonnier <bussonniermatthias@gmail.com>
Co-authored-by: Carol Willing <carolcode@willingconsulting.com>
Co-authored-by: Steven Silvester <steve.silvester@mongodb.com>
Co-authored-by: Gonzalo Gasca Meza <gogasca@google.com>
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fjupyter-server%2Fjupyter_server%2Fpull%2F1392)

Reviewers

[![@bollwyvl](https://avatars.githubusercontent.com/u/45380?s=40&v=4)](/bollwyvl) [bollwyvl](/bollwyvl)

bollwyvl left review comments

[![@yuvipanda](https://avatars.githubusercontent.com/u/30430?s=40&v=4)](/yuvipanda) [yuvipanda](/yuvipanda)

yuvipanda left review comments

[![@minrk](https://avatars.githubusercontent.com/u/151929?s=40&v=4)](/minrk) [minrk](/minrk)

minrk approved these changes

Assignees

No one assigned

Labels

[enhancement](/jupyter-server/jupyter_server/labels/enhancement)

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

 [Have handlers be @web.authenticated by default ?](https://github.com/jupyter-server/jupyter_server/issues/389)

6 participants

[![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=52&v=4)](/krassowski) [![@yuvipanda](https://avatars.githubusercontent.com/u/30430?s=52&v=4)](/yuvipanda) [![@Wh1isper](https://avatars.githubusercontent.com/u/43375501?s=52&v=4)](/Wh1isper) [![@bollwyvl](https://avatars.githubusercontent.com/u/45380?s=52&v=4)](/bollwyvl) [![@minrk](https://avatars.githubusercontent.com/u/151929?s=52&v=4)](/minrk) [![@blink1073](https://avatars.githubusercontent.com/u/2096628?s=52&v=4)](/blink1073)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_682a14f2_20250110_203902.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjupyter-server%2Fjupyter-scheduler%2Fsecurity%2Fadvisories%2FGHSA-v9g2-g7j4-4jxc)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjupyter-server%2Fjupyter-scheduler%2Fsecurity%2Fadvisories%2FGHSA-v9g2-g7j4-4jxc)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=jupyter-server%2Fjupyter-scheduler)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jupyter-server](/jupyter-server)
/
**[jupyter-scheduler](/jupyter-server/jupyter-scheduler)**
Public

* [Notifications](/login?return_to=%2Fjupyter-server%2Fjupyter-scheduler) You must be signed in to change notification settings
* [Fork
  25](/login?return_to=%2Fjupyter-server%2Fjupyter-scheduler)
* [Star
   205](/login?return_to=%2Fjupyter-server%2Fjupyter-scheduler)

* [Code](/jupyter-server/jupyter-scheduler)
* [Issues
  84](/jupyter-server/jupyter-scheduler/issues)
* [Pull requests
  12](/jupyter-server/jupyter-scheduler/pulls)
* [Actions](/jupyter-server/jupyter-scheduler/actions)
* [Projects
  0](/jupyter-server/jupyter-scheduler/projects)
* [Security](/jupyter-server/jupyter-scheduler/security)
* [Insights](/jupyter-server/jupyter-scheduler/pulse)

Additional navigation options

* [Code](/jupyter-server/jupyter-scheduler)
* [Issues](/jupyter-server/jupyter-scheduler/issues)
* [Pull requests](/jupyter-server/jupyter-scheduler/pulls)
* [Actions](/jupyter-server/jupyter-scheduler/actions)
* [Projects](/jupyter-server/jupyter-scheduler/projects)
* [Security](/jupyter-server/jupyter-scheduler/security)
* [Insights](/jupyter-server/jupyter-scheduler/pulse)

# jupyter-scheduler's endpoint is missing authentication

Moderate

[dlqqq](/dlqqq)
published
GHSA-v9g2-g7j4-4jxc
May 22, 2024

## Package

pip

jupyter\_scheduler
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

>=1.0.0,<=1.1.5 ; ==1.2.0 ; >=1.3.0,<=1.8.1 ; >=2.0.0,<=2.5.1

## Patched versions

==1.1.6,==1.2.1,==1.8.2,==2.5.2

## Description

### Impact

`jupyter_scheduler` is missing an authentication check in Jupyter Server on an API endpoint (`GET /scheduler/runtime_environments`) which lists the names of the Conda environments on the server. In affected versions, `jupyter_scheduler` allows an unauthenticated user to obtain the list of Conda environment names on the server. This reveals any information that may be present in a Conda environment name.

This issue does **not** allow an unauthenticated third party to read, modify, or enter the Conda environments present on the server where `jupyter_scheduler` is running. This issue only reveals the list of Conda environment names.

Impacted versions: `>=1.0.0,<=1.1.5 ; ==1.2.0 ; >=1.3.0,<=1.8.1 ; >=2.0.0,<=2.5.1`

### Patches

* `jupyter-scheduler==1.1.6`
* `jupyter-scheduler==1.2.1`
* `jupyter-scheduler==1.8.2`
* `jupyter-scheduler==2.5.2`

### Workarounds

Server operators who are unable to upgrade can disable the `jupyter-scheduler` extension with:

```
jupyter server extension disable jupyter-scheduler

```
### References

If you have any questions or comments about this advisory we ask that you contact AWS/Amazon Security via our vulnerability reporting page [1] or directly via email to aws-security@amazon.com. Please do not create a public GitHub issue.

[1] Vulnerability reporting page: <https://aws.amazon.com/security/vulnerability-reporting>

### Severity

Moderate

5.3

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
Low

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N

### CVE ID

CVE-2024-28188

### Weaknesses

[CWE-200](/advisories?query=cwe%3A200) [CWE-287](/advisories?query=cwe%3A287)

### Credits

* [![@krassowski](https://avatars.githubusercontent.com/u/5832902?s=40&v=4)](/krassowski)
  [krassowski](/krassowski)
  Reporter
* [![@Carreau](https://avatars.githubusercontent.com/u/335567?s=40&v=4)](/Carreau)
  [Carreau](/Carreau)
  Coordinator
* [![@andrii-i](https://avatars.githubusercontent.com/u/26686070?s=40&v=4)](/andrii-i)
  [andrii-i](/andrii-i)
  Remediation developer
* [![@dlqqq](https://avatars.githubusercontent.com/u/44106031?s=40&v=4)](/dlqqq)
  [dlqqq](/dlqqq)
  Remediation reviewer
* [![@yuvipanda](https://avatars.githubusercontent.com/u/30430?s=40&v=4)](/yuvipanda)
  [yuvipanda](/yuvipanda)
  Coordinator

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


