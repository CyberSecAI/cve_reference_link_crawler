=== Content from mail-index.netbsd.org_d5b55130_20250111_182426.html ===


Source-Changes archive

---

[[Date Prev](/source-changes/2023/09/21/msg147668.html)][[Date Next](/source-changes/2023/09/22/msg147670.html)][[Thread Prev](/source-changes/2023/09/21/msg147668.html)][[Thread Next](/source-changes/2023/09/22/msg147670.html)][[Date Index](../../../2023/09/date2.html#147669)][[Thread Index](../../../2023/09/thread2.html#147669)][[Old Index](../oindex.html)]

# CVS commit: src/libexec/ftpd

---

* **To**: **source-changes%NetBSD.org@localhost**
* **Subject**: **CVS commit: src/libexec/ftpd**
* **From**: **"Mateusz Kocielski" <shm%netbsd.org@localhost>**
* Date: Fri, 22 Sep 2023 11:23:28 +0000

---

```
Module Name:    src
Committed By:   shm
Date:           Fri Sep 22 11:23:28 UTC 2023

Modified Files:
        src/libexec/ftpd: ftpcmd.y

Log Message:
Add missing check_login checks for MLST and MLSD

To generate a diff of this commit:
cvs rdiff -u -r1.94 -r1.95 src/libexec/ftpd/ftpcmd.y

Please note that diffs are not public domain; they are subject to the
copyright notices on the relevant files.

```

---

---

* Prev by Date:
  **[CVS commit: src/usr.bin/make](/source-changes/2023/09/21/msg147668.html)**
* Next by Date:
  **[CVS commit: src/sys/dev/pci](/source-changes/2023/09/22/msg147670.html)**
* Previous by Thread:
  **[CVS commit: src/usr.bin/make](/source-changes/2023/09/21/msg147668.html)**
* Next by Thread:
  **[CVS commit: src/sys/dev/pci](/source-changes/2023/09/22/msg147670.html)**
* Indexes:
  + [**reverse Date**](../../../2023/09/date2.html#147669)
  + [**reverse Thread**](../../../2023/09/thread2.html#147669)
  + [**Old Index**](../oindex.html)

**[Home](/index.html) |
[Main Index](../../../index.html) |
[Thread Index](../../../tindex.html) |
[Old Index](../../../oindex.html)**



=== Content from cvsweb.netbsd.org_803b4127_20250111_182425.html ===
Please note that diffs are not public domain; they are subject to the
copyright notices on the relevant files.
--- src/libexec/ftpd/ftpcmd.y 2015/08/10 07:45:50 1.94
+++ src/libexec/ftpd/ftpcmd.y 2023/09/22 11:23:28 1.95
@@ -1,4 +1,4 @@
-/\* $NetBSD: ftpcmd.y,v 1.94 2015/08/10 07:45:50 shm Exp $ \*/
+/\* $NetBSD: ftpcmd.y,v 1.95 2023/09/22 11:23:28 shm Exp $ \*/
/\*-
\* Copyright (c) 1997-2009 The NetBSD Foundation, Inc.
@@ -72,7 +72,7 @@
#if 0
static char sccsid[] = "@(#)ftpcmd.y 8.3 (Berkeley) 4/6/94";
#else
-\_\_RCSID("$NetBSD: ftpcmd.y,v 1.94 2015/08/10 07:45:50 shm Exp $");
+\_\_RCSID("$NetBSD: ftpcmd.y,v 1.95 2023/09/22 11:23:28 shm Exp $");
#endif
#endif /\* not lint \*/
@@ -855,7 +855,8 @@ cmd
| MLST check\_login CRLF
{
- mlst(NULL);
+ if ($2)
+ mlst(NULL);
}
| MLSD check\_login SP pathname CRLF
@@ -868,7 +869,8 @@ cmd
| MLSD check\_login CRLF
{
- mlsd(NULL);
+ if ($2)
+ mlsd(NULL);
}
| error CRLF

