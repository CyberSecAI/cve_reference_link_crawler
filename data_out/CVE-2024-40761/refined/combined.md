=== Content from www.openwall.com_69ce70e3_20250111_154309.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](7) [[next>]](../../../2024/09/26/1) [[<thread-prev]](7) [[thread-next>]](../../../2024/09/26/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAH8yC8kdMD1-UH87ur9jKZenc0+HLDXhebtWpB7Ffkj4J7tD3g@mail.gmail.com>
Date: Wed, 25 Sep 2024 18:07:01 -0400
From: Jeffrey Walton <noloader@...il.com>
To: oss-security@...ts.openwall.com
Subject: Re: CVE-2024-40761: Apache Answer: Avatar URL leaked
 user email addresses

On Wed, Sep 25, 2024 at 5:45 PM Goldberg, Adam <Adam.Goldberg@...y.com> wrote:
>
> > On Wed, Sep 25, 2024 at 06:28:16AM +0000, Enxin Xie wrote:
> > > Using the MD5 value of a user's email to access Gravatar is insecure and can lead to the leakage of user email. The official recommendation is to use SHA256 instead.
>
> > For practical purposes, this sounds like almost no change to me.  I've
> > just checked and [https://urldefense.com/v3/__https://docs.gravatar.com/api/avatars/hash/__;!!JmoZiZGBv3RvKRSx!6zoU_J4wgUshOcGT7WCRwWgz0hjESorDYcuCX8cOARG6zrVpuLHmeayYJmf2ZnIO1QaQVFfeopQ2u6GQ6g$](https://urldefense.com/v3/__https%3A//docs.gravatar.com/api/avatars/hash/__;!!JmoZiZGBv3RvKRSx!6zoU_J4wgUshOcGT7WCRwWgz0hjESorDYcuCX8cOARG6zrVpuLHmeayYJmf2ZnIO1QaQVFfeopQ2u6GQ6g$) does say:
>
> > > All URLs on Gravatar are based on the use of the hashed value of an
> > > email address. Images and profiles are both accessed via the hash of an
> > > email, and it is considered the primary way of identifying an identity
> > > within the system. To ensure a consistent and accurate hash, the
> > > following steps should be taken to create a hash:
> > >
> > > 1. Trim leading and trailing whitespace from an email address
> > > 2. Force all characters to lower-case
> > > 3. hash the final string with SHA256
>
> Note that this is a recommendation, "the following steps *should* ...", which doesn't require that those three steps be taken.
>
> > So Gravatar URLs by design allow for quick checking of email addresses
> > against them, and thus allow to infer not-too-cryptic addresses.  Both
> > MD5 and SHA-256 are very fast, with speeds in many billion per second
> > per GPU, with SHA-256 being only a few times slower than MD5.  MD5's
> > cryptographic weaknesses are irrelevant to this use case.
>
> > So I think this CVE should either be rejected (as the issue is with
> > Gravatar, not with implementations) or considered unfixable (within
> > spec) and thus not fixed.
>
> See above, it seems to be an implementation issue (at least in part -- an application must take specific actions in order to create the hash in a secure way).

I believe this is a use case for Aumasson and Bernstein's SipHash,
<<https://eprint.iacr.org/2012/351>>. Wikipedia has a nice description
of how SIpHash differs from a hash like SHA; see
<<https://en.wikipedia.org/wiki/SipHash>>.

Jeff

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_e36cda67_20250111_154309.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[<thread-prev]](1) [[thread-next>]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <e24f1ae1-32d5-4ed4-ba82-19f11cdf460f@rub.de>
Date: Thu, 26 Sep 2024 13:24:53 +0200
From: Fabian Bäumer <fabian.baeumer@....de>
To: oss-security@...ts.openwall.com
Subject: Re: CVE-2024-40761: Apache Answer: Avatar URL leaked
 user email addresses

> Using the MD5 value of a user's email to access Gravatar is insecure and can lead to the leakage of user email.
Yes, but only through brute-force. The one-way property of MD5 is still
unbroken.

> The official recommendation is to use SHA256 instead.
This doesn't change a thing. You may as well brute-force SHA256 thus the
information leakage remains the same.

I'd recommend to switch to using HMAC (with SHA256 for good measure) as
a keyed pseudo-random function here. When the secret ist kept - well -
secret, negligible information about the user's email address is leaked.
Performing brute-force without knowledge of the secret key is also not
tractable.

Side note: This change does take away Gravatar's global property (i.e.
across multiple sites). I can't think of a straightforward way to
achieve global avatars without leaking any information about the user.
However, if the goal here is to have a simple avatar picture this should
be fine.

M. Sc. Fabian Bäumer

Chair for Network and Data Security
Ruhr University Bochum
Universitätsstr. 150, Building MC 4/145
44780 Bochum
Germany

Am 25.09.24 um 08:28 schrieb Enxin Xie:
> Severity: low
>
> Affected versions:
>
> - Apache Answer through 1.3.5
>
> Description:
>
> Inadequate Encryption Strength vulnerability in Apache Answer.
>
> This issue affects Apache Answer: through 1.3.5.
>
> Using the MD5 value of a user's email to access Gravatar is insecure and can lead to the leakage of user email. The official recommendation is to use SHA256 instead.
> Users are recommended to upgrade to version 1.4.0, which fixes the issue.
>
> Credit:
>
> 张岳熙 (reporter)
>
> References:
>
> <https://answer.incubator.apache.org>
> <https://www.cve.org/CVERecord?id=CVE-2024-40761>
>

Download attachment "[smime.p7s](3/1)" of type "application/pkcs7-signature" (6214 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from lists.apache.org_c5f18f3e_20250111_154310.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from www.openwall.com_858e9360_20250111_154309.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2024/09/25/8) [[next>]](2) [[<thread-prev]](../../../2024/09/25/8) [[thread-next>]](3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAF=YEMyfspxZsA6BiVrD8iKJBiE=EebQB=3YC=Zk-49h3ywm7A@mail.gmail.com>
Date: Thu, 26 Sep 2024 10:10:38 +0800
From: LinkinStar <linkinstar@...che.org>
To: Solar Designer <solar@...nwall.com>
Cc: oss-security@...ts.openwall.com
Subject: Re: CVE-2024-40761: Apache Answer: Avatar URL leaked
 user email addresses

Hi Alexander,

First of all, thank you very much for your feedback.

Because *Gravatar recommends using sha-256*, we believe there must be a
reason for its modification. Since the official recommendation is to change
the encryption method, why not implement it according to the official
requirements? You must admit that sha-256 is more difficult than md5, even
if only slightly. Although this may not completely solve the problem, I
believe following the official recommendation would be marginally better,
wouldn't it? So I think this fix itself is acceptable.

Best regards,
LinkinStar

On Wed, Sep 25, 2024 at 11:21 PM Solar Designer <solar@...nwall.com> wrote:

> On Wed, Sep 25, 2024 at 06:28:16AM +0000, Enxin Xie wrote:
> > Using the MD5 value of a user's email to access Gravatar is insecure and
> can lead to the leakage of user email. The official recommendation is to
> use SHA256 instead.
>
> For practical purposes, this sounds like almost no change to me.  I've
> just checked and <https://docs.gravatar.com/api/avatars/hash/> does say:
>
> > All URLs on Gravatar are based on the use of the hashed value of an
> > email address. Images and profiles are both accessed via the hash of an
> > email, and it is considered the primary way of identifying an identity
> > within the system. To ensure a consistent and accurate hash, the
> > following steps should be taken to create a hash:
> >
> > 1. Trim leading and trailing whitespace from an email address
> > 2. Force all characters to lower-case
> > 3. hash the final string with SHA256
>
> So Gravatar URLs by design allow for quick checking of email addresses
> against them, and thus allow to infer not-too-cryptic addresses.  Both
> MD5 and SHA-256 are very fast, with speeds in many billion per second
> per GPU, with SHA-256 being only a few times slower than MD5.  MD5's
> cryptographic weaknesses are irrelevant to this use case.
>
> So I think this CVE should either be rejected (as the issue is with
> Gravatar, not with implementations) or considered unfixable (within
> spec) and thus not fixed.
>
> Alexander
>

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_b16567c5_20250111_154310.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](7) [[next>]](../../../2024/09/29/1) [[<thread-prev]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <c64de78736f4c74f1185db288e23fcf716b335a8.camel@sambull.org>
Date: Fri, 27 Sep 2024 16:48:25 +0100
From: Sam Bull <9m199i@...bull.org>
To: oss-security@...ts.openwall.com
Subject: Re: CVE-2024-40761: Apache Answer: Avatar URL leaked
 user email addresses

For WordPress websites that I host, I have code which caches the gravatar images on the
server and serves them directly.

My main goal was to disallow Gravatar tracking users across our websites (enforced with a
Content-Security-Policy in addition to rewriting the image URLs). But, it does also
rewrite the hashes used when served to the client. So, this could be used to avoid leaking
user addresses.

Not sure if that can apply to this software as well, but thought it was worth noting.

Sam

Download attachment "[signature.asc](8/1)" of type "application/pgp-signature" (196 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_8f073d0e_20250111_154308.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[thread-next>]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <16a2094c-dfa6-a448-b9c7-76ba2dc86f66@apache.org>
Date: Wed, 25 Sep 2024 06:28:16 +0000
From: Enxin Xie <linkinstar@...che.org>
To: oss-security@...ts.openwall.com
Subject: CVE-2024-40761: Apache Answer: Avatar URL leaked user email
 addresses

Severity: low

Affected versions:

- Apache Answer through 1.3.5

Description:

Inadequate Encryption Strength vulnerability in Apache Answer.

This issue affects Apache Answer: through 1.3.5.

Using the MD5 value of a user's email to access Gravatar is insecure and can lead to the leakage of user email. The official recommendation is to use SHA256 instead.
Users are recommended to upgrade to version 1.4.0, which fixes the issue.

Credit:

张岳熙 (reporter)

References:

<https://answer.incubator.apache.org>
<https://www.cve.org/CVERecord?id=CVE-2024-40761>

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_6a373d10_20250111_154309.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[<thread-prev]](../../../2024/09/26/4) [[thread-next>]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <CAN_LGv2QzuonfGdOsN88Qpe479xupfceCLYkv0yQFtRdf3CFNQ@mail.gmail.com>
Date: Fri, 27 Sep 2024 20:25:54 +0800
From: Alexander Patrakov <patrakov@...il.com>
To: oss-security@...ts.openwall.com
Subject: Re: CVE-2024-40761: Apache Answer: Avatar URL leaked
 user email addresses

On Thu, Sep 26, 2024 at 5:19 AM Demi Marie Obenour
<demi@...isiblethingslab.com> wrote:
>
> On Wed, Sep 25, 2024 at 06:28:16AM +0000, Enxin Xie wrote:
> > Severity: low
> >
> > Affected versions:
> >
> > - Apache Answer through 1.3.5
> >
> > Description:
> >
> > Inadequate Encryption Strength vulnerability in Apache Answer.
> >
> > This issue affects Apache Answer: through 1.3.5.
> >
> > Using the MD5 value of a user's email to access Gravatar is insecure and can lead to the leakage of user email. The official recommendation is to use SHA256 instead.
> > Users are recommended to upgrade to version 1.4.0, which fixes the issue.
> >
> > Credit:
> >
> > 张岳熙 (reporter)
> >
> > References:
> >
> > <https://answer.incubator.apache.org>
> > <https://www.cve.org/CVERecord?id=CVE-2024-40761>
>
> What is the specific property of SHA256 required here?  Email addresses
> have low entropy and I suspect they can be easily brute-forced, so
> leaking the SHA256 has is still bad.  Instead, I would use a seeded PRF
> with a seed only known to the server, ensuring that the resulting value
> does not leak any information about the email.
> --
> Sincerely,
> Demi Marie Obenour (she/her/hers)
> Invisible Things Lab

I don't think that a seeded PRF (with a per-server seed) would meet
the requirements here. The problem is that Gravatar would have no way
of understanding which email is in question. Indeed, that would
require storing all emails hashed with all registered server seeds.

What would work is an email hash encrypted symmetrically with a
per-server key. Then Gravatar (who also knows this key) would decrypt
the email hash and look up the avatar image.

Note that all of the above talks about a hypothetical improved version
of Gravatar, not what we have right now.

--
Alexander Patrakov

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_4e4ce48e_20250111_154308.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](6) [[<thread-prev]](2) [[thread-next>]](6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20240925152119.GA787@openwall.com>
Date: Wed, 25 Sep 2024 17:21:19 +0200
From: Solar Designer <solar@...nwall.com>
To: Enxin Xie <linkinstar@...che.org>
Cc: oss-security@...ts.openwall.com
Subject: Re: CVE-2024-40761: Apache Answer: Avatar URL leaked user email addresses

On Wed, Sep 25, 2024 at 06:28:16AM +0000, Enxin Xie wrote:
> Using the MD5 value of a user's email to access Gravatar is insecure and can lead to the leakage of user email. The official recommendation is to use SHA256 instead.

For practical purposes, this sounds like almost no change to me.  I've
just checked and <https://docs.gravatar.com/api/avatars/hash/> does say:

> All URLs on Gravatar are based on the use of the hashed value of an
> email address. Images and profiles are both accessed via the hash of an
> email, and it is considered the primary way of identifying an identity
> within the system. To ensure a consistent and accurate hash, the
> following steps should be taken to create a hash:
>
> 1. Trim leading and trailing whitespace from an email address
> 2. Force all characters to lower-case
> 3. hash the final string with SHA256

So Gravatar URLs by design allow for quick checking of email addresses
against them, and thus allow to infer not-too-cryptic addresses.  Both
MD5 and SHA-256 are very fast, with speeds in many billion per second
per GPU, with SHA-256 being only a few times slower than MD5.  MD5's
cryptographic weaknesses are irrelevant to this use case.

So I think this CVE should either be rejected (as the issue is with
Gravatar, not with implementations) or considered unfixable (within
spec) and thus not fixed.

Alexander

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_bf9c62a5_20250111_154308.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](5) [[next>]](7) [[<thread-prev]](5) [[thread-next>]](7) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID:
 <BY3PR13MB4769D5EB969804CD5B905A748B692@BY3PR13MB4769.namprd13.prod.outlook.com>
Date: Wed, 25 Sep 2024 17:38:03 +0000
From: "Goldberg, Adam" <Adam.Goldberg@...y.com>
To: "oss-security@...ts.openwall.com" <oss-security@...ts.openwall.com>
Subject: RE: CVE-2024-40761: Apache Answer: Avatar URL leaked
 user email addresses

> On Wed, Sep 25, 2024 at 06:28:16AM +0000, Enxin Xie wrote:
> > Using the MD5 value of a user's email to access Gravatar is insecure and can lead to the leakage of user email. The official recommendation is to use SHA256 instead.

> For practical purposes, this sounds like almost no change to me.  I've
> just checked and [https://urldefense.com/v3/__https://docs.gravatar.com/api/avatars/hash/__;!!JmoZiZGBv3RvKRSx!6zoU_J4wgUshOcGT7WCRwWgz0hjESorDYcuCX8cOARG6zrVpuLHmeayYJmf2ZnIO1QaQVFfeopQ2u6GQ6g$](https://urldefense.com/v3/__https%3A//docs.gravatar.com/api/avatars/hash/__;!!JmoZiZGBv3RvKRSx!6zoU_J4wgUshOcGT7WCRwWgz0hjESorDYcuCX8cOARG6zrVpuLHmeayYJmf2ZnIO1QaQVFfeopQ2u6GQ6g$) does say:

> > All URLs on Gravatar are based on the use of the hashed value of an
> > email address. Images and profiles are both accessed via the hash of an
> > email, and it is considered the primary way of identifying an identity
> > within the system. To ensure a consistent and accurate hash, the
> > following steps should be taken to create a hash:
> >
> > 1. Trim leading and trailing whitespace from an email address
> > 2. Force all characters to lower-case
> > 3. hash the final string with SHA256

Note that this is a recommendation, "the following steps *should* ...", which doesn't require that those three steps be taken.

> So Gravatar URLs by design allow for quick checking of email addresses
> against them, and thus allow to infer not-too-cryptic addresses.  Both
> MD5 and SHA-256 are very fast, with speeds in many billion per second
> per GPU, with SHA-256 being only a few times slower than MD5.  MD5's
> cryptographic weaknesses are irrelevant to this use case.

> So I think this CVE should either be rejected (as the issue is with
> Gravatar, not with implementations) or considered unfixable (within
> spec) and thus not fixed.

See above, it seems to be an implementation issue (at least in part -- an application must take specific actions in order to create the hash in a secure way).

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_44f184ad_20250111_154309.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[<thread-prev]](3) [[thread-next>]](../../../2024/09/27/4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20240926191139.GA9140@openwall.com>
Date: Thu, 26 Sep 2024 21:11:39 +0200
From: Solar Designer <solar@...nwall.com>
To: LinkinStar <linkinstar@...che.org>
Cc: oss-security@...ts.openwall.com
Subject: Re: CVE-2024-40761: Apache Answer: Avatar URL leaked user email addresses

Hi LinkinStar,

There were several more replies from others, please see in the list
archive if you're not subscribed:

<https://www.openwall.com/lists/oss-security/>

On Thu, Sep 26, 2024 at 10:10:38AM +0800, LinkinStar wrote:
> Because *Gravatar recommends using sha-256*, we believe there must be a
> reason for its modification. Since the official recommendation is to change
> the encryption method, why not implement it according to the official
> requirements? You must admit that sha-256 is more difficult than md5, even
> if only slightly. Although this may not completely solve the problem, I
> believe following the official recommendation would be marginally better,
> wouldn't it? So I think this fix itself is acceptable.

The change is fine - just don't call it a security fix.  Also, this is
hashing and not encryption.

Others pointed out that Gravatar's recommendation is just that - not a
specification - so unless you need interoperability with other servers
implementing Gravatar, you can do better than SHA-256.  Specifically,
use of a keyed hash such as HMAC-SHA256 was suggested and makes sense to
me - as long as the key is generated from a CSPRNG (such as
/dev/urandom) and is large enough (such as 32 bytes).

Alexander

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_f69ef5c3_20250111_154310.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](6) [[<thread-prev]](4) [[thread-next>]](8) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <dbf738ce-d236-4c8b-864d-900d4e7c3238@rub.de>
Date: Fri, 27 Sep 2024 14:49:00 +0200
From: Fabian Bäumer <fabian.baeumer@....de>
To: oss-security@...ts.openwall.com
Subject: Re: CVE-2024-40761: Apache Answer: Avatar URL leaked
 user email addresses

> I don't think that a seeded PRF (with a per-server seed) would meet
> the requirements here.
I think you are right. When I wrote my response yesterday I wasn't fully
aware how Gravatar is supposed to be used. I always thought of Gravatar
as a service to generate unique avatar images.

Now, this leaves me with a few observations:

 1. The 'should be taken' from Gravatar's documentation should be 'must
    be taken' to ensure consistent user hashes (therefore using MD5 in
    the first place rendered Gravatar useless if Gravatar doesn't match
    against MD5 hashes as well).
 2. The information leakage with Gravatar is in-spec. Fixing the
    information leakage would be possible but requires changes on
    Gravatar's side by implementing a symmetric cipher instead of a hash
    (as suggested; a hash wouldn't be tractable any more because
    Gravatar would need to hash every user's email address with every
    registered seed when using seeded PRF). Prior hashing wouldn't even
    be required given that both sides - Gravatar and the site itself -
    have access to the user's email address anyway.
 3. It may be advisable to not use Gravatar as the default (not sure if
    this is the case here). Instead, let user's choose it and let them
    know about the potential information leakage.
 4. The fix does not fix what it tries to fix.
 5. Assigning a CVE for an in-spec information leakage seems not useful
    to me. Otherwise, every single product using Gravatar would be
    affected by this.

M. Sc. Fabian Bäumer

Chair for Network and Data Security
Ruhr University Bochum
Universitätsstr. 150, Building MC 4/145
44780 Bochum
Germany

Am 27.09.2024 um 14:25 schrieb Alexander Patrakov:
> On Thu, Sep 26, 2024 at 5:19 AM Demi Marie Obenour
> <demi@...isiblethingslab.com> wrote:
>> On Wed, Sep 25, 2024 at 06:28:16AM +0000, Enxin Xie wrote:
>>> Severity: low
>>>
>>> Affected versions:
>>>
>>> - Apache Answer through 1.3.5
>>>
>>> Description:
>>>
>>> Inadequate Encryption Strength vulnerability in Apache Answer.
>>>
>>> This issue affects Apache Answer: through 1.3.5.
>>>
>>> Using the MD5 value of a user's email to access Gravatar is insecure and can lead to the leakage of user email. The official recommendation is to use SHA256 instead.
>>> Users are recommended to upgrade to version 1.4.0, which fixes the issue.
>>>
>>> Credit:
>>>
>>> 张岳熙 (reporter)
>>>
>>> References:
>>>
>>> <https://answer.incubator.apache.org>
>>> <https://www.cve.org/CVERecord?id=CVE-2024-40761>
>> What is the specific property of SHA256 required here?  Email addresses
>> have low entropy and I suspect they can be easily brute-forced, so
>> leaking the SHA256 has is still bad.  Instead, I would use a seeded PRF
>> with a seed only known to the server, ensuring that the resulting value
>> does not leak any information about the email.
>> --
>> Sincerely,
>> Demi Marie Obenour (she/her/hers)
>> Invisible Things Lab
> I don't think that a seeded PRF (with a per-server seed) would meet
> the requirements here. The problem is that Gravatar would have no way
> of understanding which email is in question. Indeed, that would
> require storing all emails hashed with all registered server seeds.
>
> What would work is an email hash encrypted symmetrically with a
> per-server key. Then Gravatar (who also knows this key) would decrypt
> the email hash and look up the avatar image.
>
> Note that all of the above talks about a hypothetical improved version
> of Gravatar, not what we have right now.
>

Content of type "text/html" skipped

Download attachment "[smime.p7s](5/1)" of type "application/pkcs7-signature" (6214 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_f985686e_20250111_154308.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](6) [[next>]](8) [[<thread-prev]](6) [[thread-next>]](8) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <ZvR8tR8v-6gpjLsP@itl-email>
Date: Wed, 25 Sep 2024 17:11:52 -0400
From: Demi Marie Obenour <demi@...isiblethingslab.com>
To: oss-security@...ts.openwall.com
Subject: Re: CVE-2024-40761: Apache Answer: Avatar URL leaked
 user email addresses

On Wed, Sep 25, 2024 at 06:28:16AM +0000, Enxin Xie wrote:
> Severity: low
>
> Affected versions:
>
> - Apache Answer through 1.3.5
>
> Description:
>
> Inadequate Encryption Strength vulnerability in Apache Answer.
>
> This issue affects Apache Answer: through 1.3.5.
>
> Using the MD5 value of a user's email to access Gravatar is insecure and can lead to the leakage of user email. The official recommendation is to use SHA256 instead.
> Users are recommended to upgrade to version 1.4.0, which fixes the issue.
>
> Credit:
>
> 张岳熙 (reporter)
>
> References:
>
> <https://answer.incubator.apache.org>
> <https://www.cve.org/CVERecord?id=CVE-2024-40761>

What is the specific property of SHA256 required here?  Email addresses
have low entropy and I suspect they can be easily brute-forced, so
leaking the SHA256 has is still bad.  Instead, I would use a seeded PRF
with a seed only known to the server, ensuring that the resulting value
does not leak any information about the email.
--
Sincerely,
Demi Marie Obenour (she/her/hers)
Invisible Things Lab

Download attachment "[signature.asc](7/1)" of type "application/pgp-signature" (834 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).


