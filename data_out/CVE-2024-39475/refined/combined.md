=== Content from git.kernel.org_d5b55671_20250110_162726.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=86435f39c18967cdd937d7a49ba539cdea7fb547)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=86435f39c18967cdd937d7a49ba539cdea7fb547)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=86435f39c18967cdd937d7a49ba539cdea7fb547)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=86435f39c18967cdd937d7a49ba539cdea7fb547)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Cai Xinchen <caixinchen1@huawei.com> | 2024-04-16 06:51:37 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:28:50 +0200 |
| commit | [86435f39c18967cdd937d7a49ba539cdea7fb547](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=86435f39c18967cdd937d7a49ba539cdea7fb547) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=86435f39c18967cdd937d7a49ba539cdea7fb547)) | |
| tree | [b980a2c6e3c3f2f361d6a58c8af3d91d878d876d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=86435f39c18967cdd937d7a49ba539cdea7fb547) | |
| parent | [bec5fe171ff87dd95c01e173a60b1e9f00f0725b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bec5fe171ff87dd95c01e173a60b1e9f00f0725b) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=86435f39c18967cdd937d7a49ba539cdea7fb547&id2=bec5fe171ff87dd95c01e173a60b1e9f00f0725b)) | |
| download | [linux-86435f39c18967cdd937d7a49ba539cdea7fb547.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-86435f39c18967cdd937d7a49ba539cdea7fb547.tar.gz) | |

fbdev: savage: Handle err return when savagefb\_check\_var failedcommit 6ad959b6703e2c4c5d7af03b4cfd5ff608036339 upstream.
The commit 04e5eac8f3ab("fbdev: savage: Error out if pixclock equals zero")
checks the value of pixclock to avoid divide-by-zero error. However
the function savagefb\_probe doesn't handle the error return of
savagefb\_check\_var. When pixclock is 0, it will cause divide-by-zero error.
Fixes: 04e5eac8f3ab ("fbdev: savage: Error out if pixclock equals zero")
Signed-off-by: Cai Xinchen <caixinchen1@huawei.com>
Cc: stable@vger.kernel.org
Signed-off-by: Helge Deller <deller@gmx.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=86435f39c18967cdd937d7a49ba539cdea7fb547)

| -rw-r--r-- | [drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/video/fbdev/savage/savagefb_driver.c?id=86435f39c18967cdd937d7a49ba539cdea7fb547) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 1 deletions

| diff --git a/drivers/video/fbdev/savage/savagefb\_driver.c b/drivers/video/fbdev/savage/savagefb\_driver.cindex 368500c4014024..35b9a3953413fa 100644--- a/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=bec5fe171ff87dd95c01e173a60b1e9f00f0725b)+++ b/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=86435f39c18967cdd937d7a49ba539cdea7fb547)@@ -2273,7 +2273,10 @@ static int savagefb\_probe(struct pci\_dev \*dev, const struct pci\_device\_id \*id) if (info->var.xres\_virtual > 0x1000) info->var.xres\_virtual = 0x1000; #endif- savagefb\_check\_var(&info->var, info);+ err = savagefb\_check\_var(&info->var, info);+ if (err)+ goto failed;+ savagefb\_set\_fix(info);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 16:26:04 +0000



=== Content from git.kernel.org_4a561f83_20250110_162724.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Cai Xinchen <caixinchen1@huawei.com> | 2024-04-16 06:51:37 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:32:34 +0200 |
| commit | [32f92b0078ebf79dbe4827288e0acb50d89d3d5b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b)) | |
| tree | [b1a91559d97ccc38ef7f2ab59dce466fa1f598a3](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b) | |
| parent | [68447c350fc1b1dcc6d57d12ffa61fb4d628b704](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=68447c350fc1b1dcc6d57d12ffa61fb4d628b704) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b&id2=68447c350fc1b1dcc6d57d12ffa61fb4d628b704)) | |
| download | [linux-32f92b0078ebf79dbe4827288e0acb50d89d3d5b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-32f92b0078ebf79dbe4827288e0acb50d89d3d5b.tar.gz) | |

fbdev: savage: Handle err return when savagefb\_check\_var failedcommit 6ad959b6703e2c4c5d7af03b4cfd5ff608036339 upstream.
The commit 04e5eac8f3ab("fbdev: savage: Error out if pixclock equals zero")
checks the value of pixclock to avoid divide-by-zero error. However
the function savagefb\_probe doesn't handle the error return of
savagefb\_check\_var. When pixclock is 0, it will cause divide-by-zero error.
Fixes: 04e5eac8f3ab ("fbdev: savage: Error out if pixclock equals zero")
Signed-off-by: Cai Xinchen <caixinchen1@huawei.com>
Cc: stable@vger.kernel.org
Signed-off-by: Helge Deller <deller@gmx.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b)

| -rw-r--r-- | [drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/video/fbdev/savage/savagefb_driver.c?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 1 deletions

| diff --git a/drivers/video/fbdev/savage/savagefb\_driver.c b/drivers/video/fbdev/savage/savagefb\_driver.cindex 94ebd8af50cf7b..224d7c8146a945 100644--- a/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=68447c350fc1b1dcc6d57d12ffa61fb4d628b704)+++ b/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=32f92b0078ebf79dbe4827288e0acb50d89d3d5b)@@ -2271,7 +2271,10 @@ static int savagefb\_probe(struct pci\_dev \*dev, const struct pci\_device\_id \*id) if (info->var.xres\_virtual > 0x1000) info->var.xres\_virtual = 0x1000; #endif- savagefb\_check\_var(&info->var, info);+ err = savagefb\_check\_var(&info->var, info);+ if (err)+ goto failed;+ savagefb\_set\_fix(info);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:54:58 +0000



=== Content from git.kernel.org_02f92731_20250110_162727.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=be754cbd77eaf2932408a4e18532e4945274a5c7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=be754cbd77eaf2932408a4e18532e4945274a5c7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=be754cbd77eaf2932408a4e18532e4945274a5c7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=be754cbd77eaf2932408a4e18532e4945274a5c7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Cai Xinchen <caixinchen1@huawei.com> | 2024-04-16 06:51:37 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:23:39 +0200 |
| commit | [be754cbd77eaf2932408a4e18532e4945274a5c7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=be754cbd77eaf2932408a4e18532e4945274a5c7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=be754cbd77eaf2932408a4e18532e4945274a5c7)) | |
| tree | [df51bbed889e439a3489d299865647a41135b881](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=be754cbd77eaf2932408a4e18532e4945274a5c7) | |
| parent | [1ea3de272f5cc7603610b96316f9ed07bec6c2d0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1ea3de272f5cc7603610b96316f9ed07bec6c2d0) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=be754cbd77eaf2932408a4e18532e4945274a5c7&id2=1ea3de272f5cc7603610b96316f9ed07bec6c2d0)) | |
| download | [linux-be754cbd77eaf2932408a4e18532e4945274a5c7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-be754cbd77eaf2932408a4e18532e4945274a5c7.tar.gz) | |

fbdev: savage: Handle err return when savagefb\_check\_var failedcommit 6ad959b6703e2c4c5d7af03b4cfd5ff608036339 upstream.
The commit 04e5eac8f3ab("fbdev: savage: Error out if pixclock equals zero")
checks the value of pixclock to avoid divide-by-zero error. However
the function savagefb\_probe doesn't handle the error return of
savagefb\_check\_var. When pixclock is 0, it will cause divide-by-zero error.
Fixes: 04e5eac8f3ab ("fbdev: savage: Error out if pixclock equals zero")
Signed-off-by: Cai Xinchen <caixinchen1@huawei.com>
Cc: stable@vger.kernel.org
Signed-off-by: Helge Deller <deller@gmx.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=be754cbd77eaf2932408a4e18532e4945274a5c7)

| -rw-r--r-- | [drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/video/fbdev/savage/savagefb_driver.c?id=be754cbd77eaf2932408a4e18532e4945274a5c7) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 1 deletions

| diff --git a/drivers/video/fbdev/savage/savagefb\_driver.c b/drivers/video/fbdev/savage/savagefb\_driver.cindex d9eafdb89ceaf0..68e15420d26b69 100644--- a/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=1ea3de272f5cc7603610b96316f9ed07bec6c2d0)+++ b/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=be754cbd77eaf2932408a4e18532e4945274a5c7)@@ -2271,7 +2271,10 @@ static int savagefb\_probe(struct pci\_dev \*dev, const struct pci\_device\_id \*id) if (info->var.xres\_virtual > 0x1000) info->var.xres\_virtual = 0x1000; #endif- savagefb\_check\_var(&info->var, info);+ err = savagefb\_check\_var(&info->var, info);+ if (err)+ goto failed;+ savagefb\_set\_fix(info);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:54:55 +0000



=== Content from git.kernel.org_67f1e883_20250110_162725.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Cai Xinchen <caixinchen1@huawei.com> | 2024-04-16 06:51:37 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:51:01 +0200 |
| commit | [5f446859bfa46df0ffb34149499f48a2c2d8cd95](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95)) | |
| tree | [108b0cc5a6e4d2e8ea77ba490a801ae6ee0c5e7e](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95) | |
| parent | [309f1a7ffa4e2db309af1db4c968327faf6e89f3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=309f1a7ffa4e2db309af1db4c968327faf6e89f3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95&id2=309f1a7ffa4e2db309af1db4c968327faf6e89f3)) | |
| download | [linux-5f446859bfa46df0ffb34149499f48a2c2d8cd95.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-5f446859bfa46df0ffb34149499f48a2c2d8cd95.tar.gz) | |

fbdev: savage: Handle err return when savagefb\_check\_var failedcommit 6ad959b6703e2c4c5d7af03b4cfd5ff608036339 upstream.
The commit 04e5eac8f3ab("fbdev: savage: Error out if pixclock equals zero")
checks the value of pixclock to avoid divide-by-zero error. However
the function savagefb\_probe doesn't handle the error return of
savagefb\_check\_var. When pixclock is 0, it will cause divide-by-zero error.
Fixes: 04e5eac8f3ab ("fbdev: savage: Error out if pixclock equals zero")
Signed-off-by: Cai Xinchen <caixinchen1@huawei.com>
Cc: stable@vger.kernel.org
Signed-off-by: Helge Deller <deller@gmx.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95)

| -rw-r--r-- | [drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/video/fbdev/savage/savagefb_driver.c?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 1 deletions

| diff --git a/drivers/video/fbdev/savage/savagefb\_driver.c b/drivers/video/fbdev/savage/savagefb\_driver.cindex ebc9aeffdde7c5..ac41f8f37589f4 100644--- a/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=309f1a7ffa4e2db309af1db4c968327faf6e89f3)+++ b/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=5f446859bfa46df0ffb34149499f48a2c2d8cd95)@@ -2276,7 +2276,10 @@ static int savagefb\_probe(struct pci\_dev \*dev, const struct pci\_device\_id \*id) if (info->var.xres\_virtual > 0x1000) info->var.xres\_virtual = 0x1000; #endif- savagefb\_check\_var(&info->var, info);+ err = savagefb\_check\_var(&info->var, info);+ if (err)+ goto failed;+ savagefb\_set\_fix(info);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 16:26:02 +0000



=== Content from git.kernel.org_077bc8bf_20250110_162727.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Cai Xinchen <caixinchen1@huawei.com> | 2024-04-16 06:51:37 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:47:37 +0200 |
| commit | [b8385ff814ca4cb7e63789841e6ec2a14c73e1e8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8)) | |
| tree | [565209c9500ca8924f5e67a069fe1d1e26d914f4](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8) | |
| parent | [bd2ad553f18c43acd57d1ea46c59a1ecd860cea6](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bd2ad553f18c43acd57d1ea46c59a1ecd860cea6) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8&id2=bd2ad553f18c43acd57d1ea46c59a1ecd860cea6)) | |
| download | [linux-b8385ff814ca4cb7e63789841e6ec2a14c73e1e8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b8385ff814ca4cb7e63789841e6ec2a14c73e1e8.tar.gz) | |

fbdev: savage: Handle err return when savagefb\_check\_var failedcommit 6ad959b6703e2c4c5d7af03b4cfd5ff608036339 upstream.
The commit 04e5eac8f3ab("fbdev: savage: Error out if pixclock equals zero")
checks the value of pixclock to avoid divide-by-zero error. However
the function savagefb\_probe doesn't handle the error return of
savagefb\_check\_var. When pixclock is 0, it will cause divide-by-zero error.
Fixes: 04e5eac8f3ab ("fbdev: savage: Error out if pixclock equals zero")
Signed-off-by: Cai Xinchen <caixinchen1@huawei.com>
Cc: stable@vger.kernel.org
Signed-off-by: Helge Deller <deller@gmx.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8)

| -rw-r--r-- | [drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/video/fbdev/savage/savagefb_driver.c?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 1 deletions

| diff --git a/drivers/video/fbdev/savage/savagefb\_driver.c b/drivers/video/fbdev/savage/savagefb\_driver.cindex 4ba5cd55e5a52b..205ccbe8f17207 100644--- a/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=bd2ad553f18c43acd57d1ea46c59a1ecd860cea6)+++ b/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=b8385ff814ca4cb7e63789841e6ec2a14c73e1e8)@@ -2276,7 +2276,10 @@ static int savagefb\_probe(struct pci\_dev \*dev, const struct pci\_device\_id \*id) if (info->var.xres\_virtual > 0x1000) info->var.xres\_virtual = 0x1000; #endif- savagefb\_check\_var(&info->var, info);+ err = savagefb\_check\_var(&info->var, info);+ if (err)+ goto failed;+ savagefb\_set\_fix(info);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:55:01 +0000



=== Content from git.kernel.org_eb84155d_20250110_162727.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Cai Xinchen <caixinchen1@huawei.com> | 2024-04-16 06:51:37 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:41:36 +0200 |
| commit | [edaa57480b876e8203b51df7c3d14a51ea6b09e3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3)) | |
| tree | [af96fda168286cb2c1d5feb19bc5af5d6a10ab93](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3) | |
| parent | [1a156761fc74e1d228bb0a376454e60d65d64690](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1a156761fc74e1d228bb0a376454e60d65d64690) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3&id2=1a156761fc74e1d228bb0a376454e60d65d64690)) | |
| download | [linux-edaa57480b876e8203b51df7c3d14a51ea6b09e3.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-edaa57480b876e8203b51df7c3d14a51ea6b09e3.tar.gz) | |

fbdev: savage: Handle err return when savagefb\_check\_var failedcommit 6ad959b6703e2c4c5d7af03b4cfd5ff608036339 upstream.
The commit 04e5eac8f3ab("fbdev: savage: Error out if pixclock equals zero")
checks the value of pixclock to avoid divide-by-zero error. However
the function savagefb\_probe doesn't handle the error return of
savagefb\_check\_var. When pixclock is 0, it will cause divide-by-zero error.
Fixes: 04e5eac8f3ab ("fbdev: savage: Error out if pixclock equals zero")
Signed-off-by: Cai Xinchen <caixinchen1@huawei.com>
Cc: stable@vger.kernel.org
Signed-off-by: Helge Deller <deller@gmx.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3)

| -rw-r--r-- | [drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/video/fbdev/savage/savagefb_driver.c?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 1 deletions

| diff --git a/drivers/video/fbdev/savage/savagefb\_driver.c b/drivers/video/fbdev/savage/savagefb\_driver.cindex a7b63c475f9547..78eee242fc992c 100644--- a/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=1a156761fc74e1d228bb0a376454e60d65d64690)+++ b/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=edaa57480b876e8203b51df7c3d14a51ea6b09e3)@@ -2277,7 +2277,10 @@ static int savagefb\_probe(struct pci\_dev \*dev, const struct pci\_device\_id \*id) if (info->var.xres\_virtual > 0x1000) info->var.xres\_virtual = 0x1000; #endif- savagefb\_check\_var(&info->var, info);+ err = savagefb\_check\_var(&info->var, info);+ if (err)+ goto failed;+ savagefb\_set\_fix(info);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:55:00 +0000



=== Content from git.kernel.org_2df6c634_20250110_162726.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Cai Xinchen <caixinchen1@huawei.com> | 2024-04-16 06:51:37 +0000 |
| --- | --- | --- |
| committer | Helge Deller <deller@gmx.de> | 2024-04-25 12:04:18 +0200 |
| commit | [6ad959b6703e2c4c5d7af03b4cfd5ff608036339](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339)) | |
| tree | [98e64f9b41679b4ab1682f3e19e779f1a9a80571](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339) | |
| parent | [5317797e9cd07ff48132a36d545c25c1687ee676](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5317797e9cd07ff48132a36d545c25c1687ee676) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339&id2=5317797e9cd07ff48132a36d545c25c1687ee676)) | |
| download | [linux-6ad959b6703e2c4c5d7af03b4cfd5ff608036339.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6ad959b6703e2c4c5d7af03b4cfd5ff608036339.tar.gz) | |

fbdev: savage: Handle err return when savagefb\_check\_var failedThe commit 04e5eac8f3ab("fbdev: savage: Error out if pixclock equals zero")
checks the value of pixclock to avoid divide-by-zero error. However
the function savagefb\_probe doesn't handle the error return of
savagefb\_check\_var. When pixclock is 0, it will cause divide-by-zero error.
Fixes: 04e5eac8f3ab ("fbdev: savage: Error out if pixclock equals zero")
Signed-off-by: Cai Xinchen <caixinchen1@huawei.com>
Cc: stable@vger.kernel.org
Signed-off-by: Helge Deller <deller@gmx.de>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339)

| -rw-r--r-- | [drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/video/fbdev/savage/savagefb_driver.c?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 1 deletions

| diff --git a/drivers/video/fbdev/savage/savagefb\_driver.c b/drivers/video/fbdev/savage/savagefb\_driver.cindex ebc9aeffdde7c5..ac41f8f37589f4 100644--- a/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=5317797e9cd07ff48132a36d545c25c1687ee676)+++ b/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=6ad959b6703e2c4c5d7af03b4cfd5ff608036339)@@ -2276,7 +2276,10 @@ static int savagefb\_probe(struct pci\_dev \*dev, const struct pci\_device\_id \*id) if (info->var.xres\_virtual > 0x1000) info->var.xres\_virtual = 0x1000; #endif- savagefb\_check\_var(&info->var, info);+ err = savagefb\_check\_var(&info->var, info);+ if (err)+ goto failed;+ savagefb\_set\_fix(info);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 16:26:03 +0000



=== Content from git.kernel.org_05090950_20250110_162725.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Cai Xinchen <caixinchen1@huawei.com> | 2024-04-16 06:51:37 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:39:57 +0200 |
| commit | [4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089)) | |
| tree | [04ec37ca716e6013e4ccc465cd2c0728356f40de](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089) | |
| parent | [ef34833373ed45e590eea674b17d116374024da3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ef34833373ed45e590eea674b17d116374024da3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089&id2=ef34833373ed45e590eea674b17d116374024da3)) | |
| download | [linux-4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089.tar.gz) | |

fbdev: savage: Handle err return when savagefb\_check\_var failedcommit 6ad959b6703e2c4c5d7af03b4cfd5ff608036339 upstream.
The commit 04e5eac8f3ab("fbdev: savage: Error out if pixclock equals zero")
checks the value of pixclock to avoid divide-by-zero error. However
the function savagefb\_probe doesn't handle the error return of
savagefb\_check\_var. When pixclock is 0, it will cause divide-by-zero error.
Fixes: 04e5eac8f3ab ("fbdev: savage: Error out if pixclock equals zero")
Signed-off-by: Cai Xinchen <caixinchen1@huawei.com>
Cc: stable@vger.kernel.org
Signed-off-by: Helge Deller <deller@gmx.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089)

| -rw-r--r-- | [drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/video/fbdev/savage/savagefb_driver.c?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 4 insertions, 1 deletions

| diff --git a/drivers/video/fbdev/savage/savagefb\_driver.c b/drivers/video/fbdev/savage/savagefb\_driver.cindex 94ebd8af50cf7b..224d7c8146a945 100644--- a/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=ef34833373ed45e590eea674b17d116374024da3)+++ b/[drivers/video/fbdev/savage/savagefb\_driver.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/video/fbdev/savage/savagefb_driver.c?id=4b2c67e30b4e1d2ae19dba8b8e8f3b5fd3cf8089)@@ -2271,7 +2271,10 @@ static int savagefb\_probe(struct pci\_dev \*dev, const struct pci\_device\_id \*id) if (info->var.xres\_virtual > 0x1000) info->var.xres\_virtual = 0x1000; #endif- savagefb\_check\_var(&info->var, info);+ err = savagefb\_check\_var(&info->var, info);+ if (err)+ goto failed;+ savagefb\_set\_fix(info);  /\* |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 16:26:02 +0000


