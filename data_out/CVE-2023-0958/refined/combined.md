=== Content from plugins.trac.wordpress.org_fc7dd0b6_20250111_123224.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwp-clone-by-wp-academy%2Ftags%2F2.3.8%2Fmodules%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/wp-clone-by-wp-academy/tags/2.3.8/modules/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/wp-clone-by-wp-academy/tags/2.3.8/modules/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [wp-clone-by-wp-academy](/browser/wp-clone-by-wp-academy?order=name "View wp-clone-by-wp-academy")/[tags](/browser/wp-clone-by-wp-academy/tags?order=name "View tags")/[2.3.8](/browser/wp-clone-by-wp-academy/tags/2.3.8?order=name "View 2.3.8")/[modules](/browser/wp-clone-by-wp-academy/tags/2.3.8/modules?order=name "View modules")/[banner](/browser/wp-clone-by-wp-academy/tags/2.3.8/modules/banner?order=name "View banner")/[misc.php](/browser/wp-clone-by-wp-academy/tags/2.3.8/modules/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2875159/wp-clone-by-wp-academy/tags/2.3.8/modules/banner/misc.php "View differences") on this file was [2875159](/changeset/2875159/ "View changeset 2875159"), checked in by iclyde, [23 months ago](/timeline?from=2023-03-06T07%3A47%3A32Z&precision=second "See timeline at 03/06/2023 07:47:32 AM") |
| --- |
| Version 2.3.8 |
| **File size:** 13.9 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.3.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // Check if the script requires to be in hook |
| [91](#L91) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [92](#L92) | $this->hooked = (current\_action() == '' ? false : true); |
| [93](#L93) |  |
| [94](#L94) | // Add hook if it's required |
| [95](#L95) | if (!$this->hooked) { |
| [96](#L96) |  |
| [97](#L97) | // Hook the script to init |
| [98](#L98) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [99](#L99) |  |
| [100](#L100) | } else { |
| [101](#L101) |  |
| [102](#L102) | // The child plugin is already hooked, check if correctly |
| [103](#L103) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [104](#L104) |  |
| [105](#L105) | // If the hook is correct continue |
| [106](#L106) | $this->setup(); |
| [107](#L107) |  |
| [108](#L108) | } else { |
| [109](#L109) |  |
| [110](#L110) | // Hook the script to init if it's not hooked to it already |
| [111](#L111) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [112](#L112) |  |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | /\* |
| [120](#L120) | \* Main setup of this child plugin |
| [121](#L121) | \*/ |
| [122](#L122) | public function setup() { |
| [123](#L123) |  |
| [124](#L124) | // WordPress Global Variables |
| [125](#L125) | global $menu; |
| [126](#L126) |  |
| [127](#L127) | // Make sure $menu exists |
| [128](#L128) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [129](#L129) |  |
| [130](#L130) | // Get menu slug name |
| [131](#L131) | if (!$this->menu\_name($menu)) return false; |
| [132](#L132) |  |
| [133](#L133) | if (/\*$this->page === $this->menu && \*/!defined('INISEV\_CAROUSEL')) { |
| [134](#L134) |  |
| [135](#L135) | // Initialize Carousel constant |
| [136](#L136) | define('INISEV\_CAROUSEL', true); |
| [137](#L137) |  |
| [138](#L138) | // Root URL for assets |
| [139](#L139) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [140](#L140) |  |
| [141](#L141) | // Load styles |
| [142](#L142) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [143](#L143) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [144](#L144) |  |
| [145](#L145) | // Pass nonce to JS |
| [146](#L146) | wp\_localize\_script('inisev-carousel-script', 'inisev\_carousel', [ |
| [147](#L147) | 'nonce' => wp\_create\_nonce('inisev\_carousel'), |
| [148](#L148) | ], true); |
| [149](#L149) |  |
| [150](#L150) | // Print the footer |
| [151](#L151) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [152](#L152) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [153](#L153) | } |
| [154](#L154) |  |
| [155](#L155) | } |
| [156](#L156) |  |
| [157](#L157) | } |
| [158](#L158) |  |
| [159](#L159) | /\* |
| [160](#L160) | \* This function may be used for debugging purposes |
| [161](#L161) | \*/ |
| [162](#L162) | private function fail($code = false) { |
| [163](#L163) |  |
| [164](#L164) | if ($code === false) { |
| [165](#L165) |  |
| [166](#L166) | // Return error code if specified as request ($code === false) |
| [167](#L167) | return $this->error; |
| [168](#L168) |  |
| [169](#L169) | } else { |
| [170](#L170) |  |
| [171](#L171) | // Set the error code and return |
| [172](#L172) | // error\_log($code); |
| [173](#L173) | $this->error = $code; |
| [174](#L174) | return false; |
| [175](#L175) |  |
| [176](#L176) | } |
| [177](#L177) |  |
| [178](#L178) | } |
| [179](#L179) |  |
| [180](#L180) | /\* |
| [181](#L181) | \* Helper function remove \_ -/ characters and make lowercase |
| [182](#L182) | \*/ |
| [183](#L183) | private function makelower($str) { |
| [184](#L184) |  |
| [185](#L185) | $str = str\_replace('\_', '', $str); |
| [186](#L186) | $str = str\_replace('-', '', $str); |
| [187](#L187) | $str = str\_replace('/', '', $str); |
| [188](#L188) | $str = str\_replace('\/', '', $str); |
| [189](#L189) | $str = str\_replace(' ', '', $str); |
| [190](#L190) | $str = strtolower($str); |
| [191](#L191) |  |
| [192](#L192) | return $str; |
| [193](#L193) |  |
| [194](#L194) | } |
| [195](#L195) |  |
| [196](#L196) | /\* |
| [197](#L197) | \* This function will find slug of menu page |
| [198](#L198) | \*/ |
| [199](#L199) | private function menu\_name(&$menu) { |
| [200](#L200) |  |
| [201](#L201) | // Find the menu slug |
| [202](#L202) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [203](#L203) | foreach ($menu as $priority => $details) { |
| [204](#L204) | if (is\_array($details) && sizeof($details) >= 6) { |
| [205](#L205) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [206](#L206) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [207](#L207) | $this->menu = $details[2]; |
| [208](#L208) | break; |
| [209](#L209) | } |
| [210](#L210) | } |
| [211](#L211) | if (isset($this->menu)) break; |
| [212](#L212) | } |
| [213](#L213) | } |
| [214](#L214) |  |
| [215](#L215) | // MyPopUps exception |
| [216](#L216) | if (!isset($this->menu)) { |
| [217](#L217) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [218](#L218) | if (in\_array($this->slug\_low, $mpu)) { |
| [219](#L219) | $this->menu = 'wp-mypopups'; |
| [220](#L220) | } |
| [221](#L221) | } |
| [222](#L222) |  |
| [223](#L223) | if (!isset($this->menu)) { |
| [224](#L224) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [225](#L225) | if (in\_array($this->slug\_low, $bmi)) { |
| [226](#L226) | $this->menu = 'backup-migration'; |
| [227](#L227) | } |
| [228](#L228) | } |
| [229](#L229) |  |
| [230](#L230) | if (!isset($this->menu)) { |
| [231](#L231) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [232](#L232) | if (in\_array($this->slug\_low, $hhr)) { |
| [233](#L233) | $this->menu = 'httphttpsRemoval'; |
| [234](#L234) | } |
| [235](#L235) | } |
| [236](#L236) |  |
| [237](#L237) | if (!isset($this->menu)) { |
| [238](#L238) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [239](#L239) | if (in\_array($this->slug\_low, $wpc)) { |
| [240](#L240) | $this->menu = 'wp-clone'; |
| [241](#L241) | } |
| [242](#L242) | } |
| [243](#L243) |  |
| [244](#L244) | // Make sure it found something |
| [245](#L245) | if (isset($this->menu)) return true; |
| [246](#L246) | else return true; |
| [247](#L247) | // else return $this->fail(6); |
| [248](#L248) |  |
| [249](#L249) | } |
| [250](#L250) |  |
| [251](#L251) | /\* |
| [252](#L252) | \* Helper: Include file |
| [253](#L253) | \*/ |
| [254](#L254) | private function \_include($path) { |
| [255](#L255) |  |
| [256](#L256) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [257](#L257) |  |
| [258](#L258) | } |
| [259](#L259) |  |
| [260](#L260) | /\* |
| [261](#L261) | \* Helper: Get asset URL |
| [262](#L262) | \*/ |
| [263](#L263) | private function get\_asset($file) { |
| [264](#L264) |  |
| [265](#L265) | return $this->url . $file; |
| [266](#L266) |  |
| [267](#L267) | } |
| [268](#L268) |  |
| [269](#L269) | /\* |
| [270](#L270) | \* Helper: Get asset and print URL |
| [271](#L271) | \*/ |
| [272](#L272) | private function \_asset($file) { |
| [273](#L273) |  |
| [274](#L274) | echo $this->get\_asset('views/' . $file); |
| [275](#L275) |  |
| [276](#L276) | } |
| [277](#L277) |  |
| [278](#L278) | /\* |
| [279](#L279) | \* Upgrade plugin, this function probably will never be fired |
| [280](#L280) | \*/ |
| [281](#L281) | private function upgrade\_plugin($plugin\_slug) { |
| [282](#L282) |  |
| [283](#L283) | // Include upgrader |
| [284](#L284) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [285](#L285) | wp\_cache\_flush(); |
| [286](#L286) |  |
| [287](#L287) | // Initialize & upgrade the plugin |
| [288](#L288) | $upgrader = new \Plugin\_Upgrader(); |
| [289](#L289) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [290](#L290) |  |
| [291](#L291) | // Return status or WP Error |
| [292](#L292) | return $upgraded; |
| [293](#L293) |  |
| [294](#L294) | } |
| [295](#L295) |  |
| [296](#L296) | /\* |
| [297](#L297) | \* Check if plugin is installed by slug |
| [298](#L298) | \*/ |
| [299](#L299) | private function is\_plugin\_installed($slug) { |
| [300](#L300) |  |
| [301](#L301) | // Get all plugins |
| [302](#L302) | $all\_plugins = get\_plugins(); |
| [303](#L303) |  |
| [304](#L304) | // Make sure all slugs are in lowercase. |
| [305](#L305) | foreach ($all\_plugins as $plug => $v) { |
| [306](#L306) |  |
| [307](#L307) | // Once something match return success |
| [308](#L308) | if (strtolower($plug) == strtolower($slug)) return true; |
| [309](#L309) |  |
| [310](#L310) | } |
| [311](#L311) |  |
| [312](#L312) | // If nothing just fail |
| [313](#L313) | return false; |
| [314](#L314) |  |
| [315](#L315) | // When I exactly know the letter case... |
| [316](#L316) | // if (!empty($all\_plugins[$slug])) return true; |
| [317](#L317) | // else return false; |
| [318](#L318) |  |
| [319](#L319) | } |
| [320](#L320) |  |
| [321](#L321) | /\* |
| [322](#L322) | \* Install the plugin by slug |
| [323](#L323) | \*/ |
| [324](#L324) | private function install\_plugin($plugin\_zip) { |
| [325](#L325) |  |
| [326](#L326) | // Include upgrader |
| [327](#L327) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [328](#L328) | wp\_cache\_flush(); |
| [329](#L329) |  |
| [330](#L330) | // Initialize WP upgrader & install the plugin |
| [331](#L331) | $upgrader = new \Plugin\_Upgrader(); |
| [332](#L332) | $installed = $upgrader->install($plugin\_zip); |
| [333](#L333) |  |
| [334](#L334) | // Return status or WP Error |
| [335](#L335) | return $installed; |
| [336](#L336) |  |
| [337](#L337) | } |
| [338](#L338) |  |
| [339](#L339) | /\* |
| [340](#L340) | \* Install file |
| [341](#L341) | \*/ |
| [342](#L342) | private function install($slug, $directory\_slug) { |
| [343](#L343) |  |
| [344](#L344) | // Prepare the URLs and full slug |
| [345](#L345) | $plugin\_slug = $slug; |
| [346](#L346) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [347](#L347) |  |
| [348](#L348) | // Make sure the plugin is not installed |
| [349](#L349) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [350](#L350) |  |
| [351](#L351) | // Upgrade the plugin if it's installed somehow |
| [352](#L352) | $this->upgrade\_plugin($plugin\_slug); |
| [353](#L353) | $installed = true; |
| [354](#L354) |  |
| [355](#L355) | // Install instead |
| [356](#L356) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [357](#L357) |  |
| [358](#L358) | // Check if there was any error |
| [359](#L359) | if (!is\_wp\_error($installed) && $installed) { |
| [360](#L360) | $activate = activate\_plugin($plugin\_slug); |
| [361](#L361) |  |
| [362](#L362) | if (is\_null($activate)) { |
| [363](#L363) |  |
| [364](#L364) | $url = admin\_url('', 'admin'); |
| [365](#L365) |  |
| [366](#L366) | // CDP has special alert when installed with quick-install module |
| [367](#L367) | if ($\_POST['slug'] === 'cdp') { |
| [368](#L368) | update\_option('\_cdp\_cool\_installation', true); |
| [369](#L369) | update\_option('\_cdp\_redirect', true); |
| [370](#L370) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [371](#L371) | } |
| [372](#L372) |  |
| [373](#L373) | // Redirection for MPU |
| [374](#L374) | if ($\_POST['slug'] === 'mpu') { |
| [375](#L375) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [376](#L376) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [377](#L377) | } |
| [378](#L378) |  |
| [379](#L379) | // Redirection for USM |
| [380](#L380) | if ($\_POST['slug'] === 'usm') { |
| [381](#L381) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [382](#L382) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [383](#L383) | } |
| [384](#L384) |  |
| [385](#L385) | // Redirection for BMI |
| [386](#L386) | if ($\_POST['slug'] === 'bmi') { |
| [387](#L387) | update\_option('\_bmi\_redirect', true); |
| [388](#L388) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [389](#L389) | } |
| [390](#L390) |  |
| [391](#L391) | // Redirection for RED |
| [392](#L392) | if ($\_POST['slug'] === 'redi') { |
| [393](#L393) | update\_option('irrp\_activation\_redirect', true); |
| [394](#L394) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [395](#L395) | } |
| [396](#L396) |  |
| [397](#L397) | // Send success |
| [398](#L398) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [399](#L399) |  |
| [400](#L400) | // I don't know what happened here and if it's even possible |
| [401](#L401) | } else wp\_send\_json\_error(); |
| [402](#L402) |  |
| [403](#L403) | // Send fail |
| [404](#L404) | } else wp\_send\_json\_error(); |
| [405](#L405) |  |
| [406](#L406) | } |
| [407](#L407) |  |
| [408](#L408) | /\* |
| [409](#L409) | \* Add/print the Carousel |
| [410](#L410) | \*/ |
| [411](#L411) | public function \_print() { |
| [412](#L412) |  |
| [413](#L413) | try { |
| [414](#L414) |  |
| [415](#L415) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [416](#L416) |  |
| [417](#L417) | } catch (\Exception $e) { |
| [418](#L418) |  |
| [419](#L419) | return $this->fail(7); |
| [420](#L420) |  |
| [421](#L421) | } catch (\Exception $e) { |
| [422](#L422) |  |
| [423](#L423) | return $this->fail(8); |
| [424](#L424) |  |
| [425](#L425) | } |
| [426](#L426) |  |
| [427](#L427) | } |
| [428](#L428) |  |
| [429](#L429) | /\* |
| [430](#L430) | \* Handle ajax request |
| [431](#L431) | \*/ |
| [432](#L432) | public function handle\_installation() { |
| [433](#L433) |  |
| [434](#L434) | if(check\_ajax\_referer('inisev\_carousel', 'nonce', false) === false) { |
| [435](#L435) | wp\_send\_json\_error(); |
| [436](#L436) | } |
| [437](#L437) |  |
| [438](#L438) | // Handle the slug and install the plugin |
| [439](#L439) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [440](#L440) | if ($slug === 'usm') { |
| [441](#L441) |  |
| [442](#L442) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [443](#L443) |  |
| [444](#L444) | } elseif ($slug === 'bmi') { |
| [445](#L445) |  |
| [446](#L446) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [447](#L447) |  |
| [448](#L448) | } elseif ($slug === 'cdp') { |
| [449](#L449) |  |
| [450](#L450) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [451](#L451) |  |
| [452](#L452) | } elseif ($slug === 'mpu') { |
| [453](#L453) |  |
| [454](#L454) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [455](#L455) |  |
| [456](#L456) | } elseif ($slug == 'redi') { |
| [457](#L457) |  |
| [458](#L458) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [459](#L459) |  |
| [460](#L460) | // Anything else error |
| [461](#L461) | } else wp\_send\_json\_error(); |
| [462](#L462) |  |
| [463](#L463) | } |
| [464](#L464) |  |
| [465](#L465) | } |
| [466](#L466) | } |
| [467](#L467) |  |
| [468](#L468) | // Disallow usage of multiple Carousels + allow only GET requests |
| [469](#L469) | if (!defined('INISEV\_CAROUSEL')) { |
| [470](#L470) |  |
| [471](#L471) | // Make sure settings/menu page slug exsits |
| [472](#L472) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [473](#L473) |  |
| [474](#L474) | // Initialize the Carousel |
| [475](#L475) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [476](#L476) |  |
| [477](#L477) | } |
| [478](#L478) |  |
| [479](#L479) | } |
| [480](#L480) |  |
| [481](#L481) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/wp-clone-by-wp-academy/tags/2.3.8/modules/banner/misc.php?format=txt)
* [Original Format](/export/3220685/wp-clone-by-wp-academy/tags/2.3.8/modules/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_ea8d0613_20250111_123120.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fultimate-posts-widget%2Ftags%2F2.2.5%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/ultimate-posts-widget/tags/2.2.5/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/ultimate-posts-widget/tags/2.2.5/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [ultimate-posts-widget](/browser/ultimate-posts-widget?order=name "View ultimate-posts-widget")/[tags](/browser/ultimate-posts-widget/tags?order=name "View tags")/[2.2.5](/browser/ultimate-posts-widget/tags/2.2.5?order=name "View 2.2.5")/[banner](/browser/ultimate-posts-widget/tags/2.2.5/banner?order=name "View banner")/[misc.php](/browser/ultimate-posts-widget/tags/2.2.5/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2875684/ultimate-posts-widget/tags/2.2.5/banner/misc.php "View differences") on this file was [2875684](/changeset/2875684/ "View changeset 2875684"), checked in by iclyde, [23 months ago](/timeline?from=2023-03-07T06%3A48%3A20Z&precision=second "See timeline at 03/07/2023 06:48:20 AM") |
| --- |
| Version 2.2.5 |
| **File size:** 11.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel\_Widget')) { |
| [22](#L22) | class Inisev\_Carousel\_Widget { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [35](#L35) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) | add\_action('wp\_ajax\_inisev\_installation\_widget', [&$this, 'handle\_installation']); |
| [56](#L56) |  |
| [57](#L57) | } |
| [58](#L58) |  |
| [59](#L59) | // Stop for POST |
| [60](#L60) | return; |
| [61](#L61) |  |
| [62](#L62) | } |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | // $this->page = sanitize\_text\_field(isset($\_GET['page'])); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // If the hook is correct continue |
| [91](#L91) | $this->setup(); |
| [92](#L92) |  |
| [93](#L93) | } |
| [94](#L94) |  |
| [95](#L95) | /\* |
| [96](#L96) | \* Main setup of this child plugin |
| [97](#L97) | \*/ |
| [98](#L98) | public function setup() { |
| [99](#L99) |  |
| [100](#L100) | // WordPress Global Variables |
| [101](#L101) | global $menu, $pagenow; |
| [102](#L102) | // Make sure $menu exists |
| [103](#L103) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [104](#L104) |  |
| [105](#L105) | if ($pagenow == 'widgets.php' && !defined('INISEV\_CAROUSEL\_WIDGET')) { |
| [106](#L106) |  |
| [107](#L107) | // Initialize Carousel constant |
| [108](#L108) | define('INISEV\_CAROUSEL\_WIDGET', true); |
| [109](#L109) |  |
| [110](#L110) | // Root URL for assets |
| [111](#L111) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [112](#L112) |  |
| [113](#L113) | // Load styles |
| [114](#L114) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [115](#L115) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [116](#L116) |  |
| [117](#L117) | // Pass nonce to JS |
| [118](#L118) | wp\_localize\_script('inisev-carousel-script', 'inisev\_carousel', [ |
| [119](#L119) | 'nonce' => wp\_create\_nonce('inisev\_carousel'), |
| [120](#L120) | ], true); |
| [121](#L121) |  |
| [122](#L122) | // Print the footer |
| [123](#L123) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [124](#L124) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [125](#L125) | } |
| [126](#L126) |  |
| [127](#L127) | // Print the footer |
| [128](#L128) | add\_action('admin\_footer', [&$this, '\_print'], 1); |
| [129](#L129) |  |
| [130](#L130) | } |
| [131](#L131) |  |
| [132](#L132) | } |
| [133](#L133) |  |
| [134](#L134) | /\* |
| [135](#L135) | \* This function may be used for debugging purposes |
| [136](#L136) | \*/ |
| [137](#L137) | private function fail($code = false) { |
| [138](#L138) |  |
| [139](#L139) | if ($code === false) { |
| [140](#L140) |  |
| [141](#L141) | // Return error code if specified as request ($code === false) |
| [142](#L142) | return $this->error; |
| [143](#L143) |  |
| [144](#L144) | } else { |
| [145](#L145) |  |
| [146](#L146) | // Set the error code and return |
| [147](#L147) | // error\_log($code); |
| [148](#L148) | $this->error = $code; |
| [149](#L149) | return false; |
| [150](#L150) |  |
| [151](#L151) | } |
| [152](#L152) |  |
| [153](#L153) | } |
| [154](#L154) |  |
| [155](#L155) | /\* |
| [156](#L156) | \* Helper function remove \_ -/ characters and make lowercase |
| [157](#L157) | \*/ |
| [158](#L158) | private function makelower($str) { |
| [159](#L159) |  |
| [160](#L160) | $str = str\_replace('\_', '', $str); |
| [161](#L161) | $str = str\_replace('-', '', $str); |
| [162](#L162) | $str = str\_replace('/', '', $str); |
| [163](#L163) | $str = str\_replace('\/', '', $str); |
| [164](#L164) | $str = str\_replace(' ', '', $str); |
| [165](#L165) | $str = strtolower($str); |
| [166](#L166) |  |
| [167](#L167) | return $str; |
| [168](#L168) |  |
| [169](#L169) | } |
| [170](#L170) |  |
| [171](#L171) | /\* |
| [172](#L172) | \* Helper: Include file |
| [173](#L173) | \*/ |
| [174](#L174) | private function \_include($path) { |
| [175](#L175) |  |
| [176](#L176) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [177](#L177) |  |
| [178](#L178) | } |
| [179](#L179) |  |
| [180](#L180) | /\* |
| [181](#L181) | \* Helper: Get asset URL |
| [182](#L182) | \*/ |
| [183](#L183) | private function get\_asset($file) { |
| [184](#L184) |  |
| [185](#L185) | return $this->url . $file; |
| [186](#L186) |  |
| [187](#L187) | } |
| [188](#L188) |  |
| [189](#L189) | /\* |
| [190](#L190) | \* Helper: Get asset and print URL |
| [191](#L191) | \*/ |
| [192](#L192) | private function \_asset($file) { |
| [193](#L193) |  |
| [194](#L194) | echo $this->get\_asset('views/' . $file); |
| [195](#L195) |  |
| [196](#L196) | } |
| [197](#L197) |  |
| [198](#L198) | /\* |
| [199](#L199) | \* Upgrade plugin, this function probably will never be fired |
| [200](#L200) | \*/ |
| [201](#L201) | private function upgrade\_plugin($plugin\_slug) { |
| [202](#L202) |  |
| [203](#L203) | // Include upgrader |
| [204](#L204) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [205](#L205) | wp\_cache\_flush(); |
| [206](#L206) |  |
| [207](#L207) | // Initialize & upgrade the plugin |
| [208](#L208) | $upgrader = new \Plugin\_Upgrader(); |
| [209](#L209) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [210](#L210) |  |
| [211](#L211) | // Return status or WP Error |
| [212](#L212) | return $upgraded; |
| [213](#L213) |  |
| [214](#L214) | } |
| [215](#L215) |  |
| [216](#L216) | /\* |
| [217](#L217) | \* Check if plugin is installed by slug |
| [218](#L218) | \*/ |
| [219](#L219) | private function is\_plugin\_installed($slug) { |
| [220](#L220) |  |
| [221](#L221) | // Get all plugins |
| [222](#L222) | $all\_plugins = get\_plugins(); |
| [223](#L223) |  |
| [224](#L224) | // Make sure all slugs are in lowercase. |
| [225](#L225) | foreach ($all\_plugins as $plug => $v) { |
| [226](#L226) |  |
| [227](#L227) | // Once something match return success |
| [228](#L228) | if (strtolower($plug) == strtolower($slug)) return true; |
| [229](#L229) |  |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | // If nothing just fail |
| [233](#L233) | return false; |
| [234](#L234) |  |
| [235](#L235) | // When I exactly know the letter case... |
| [236](#L236) | // if (!empty($all\_plugins[$slug])) return true; |
| [237](#L237) | // else return false; |
| [238](#L238) |  |
| [239](#L239) | } |
| [240](#L240) |  |
| [241](#L241) | /\* |
| [242](#L242) | \* Install the plugin by slug |
| [243](#L243) | \*/ |
| [244](#L244) | private function install\_plugin($plugin\_zip) { |
| [245](#L245) |  |
| [246](#L246) | // Include upgrader |
| [247](#L247) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [248](#L248) | wp\_cache\_flush(); |
| [249](#L249) |  |
| [250](#L250) | // Initialize WP upgrader & install the plugin |
| [251](#L251) | $upgrader = new \Plugin\_Upgrader(); |
| [252](#L252) | $installed = $upgrader->install($plugin\_zip); |
| [253](#L253) |  |
| [254](#L254) | // Return status or WP Error |
| [255](#L255) | return $installed; |
| [256](#L256) |  |
| [257](#L257) | } |
| [258](#L258) |  |
| [259](#L259) | /\* |
| [260](#L260) | \* Install file |
| [261](#L261) | \*/ |
| [262](#L262) | private function install($slug, $directory\_slug) { |
| [263](#L263) |  |
| [264](#L264) | // Prepare the URLs and full slug |
| [265](#L265) | $plugin\_slug = $slug; |
| [266](#L266) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [267](#L267) |  |
| [268](#L268) | // Make sure the plugin is not installed |
| [269](#L269) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [270](#L270) |  |
| [271](#L271) | // Upgrade the plugin if it's installed somehow |
| [272](#L272) | $this->upgrade\_plugin($plugin\_slug); |
| [273](#L273) | $installed = true; |
| [274](#L274) |  |
| [275](#L275) | // Install instead |
| [276](#L276) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [277](#L277) |  |
| [278](#L278) | // Check if there was any error |
| [279](#L279) | if (!is\_wp\_error($installed) && $installed) { |
| [280](#L280) | $activate = activate\_plugin($plugin\_slug); |
| [281](#L281) |  |
| [282](#L282) | if (is\_null($activate)) { |
| [283](#L283) |  |
| [284](#L284) | $url = admin\_url('', 'admin'); |
| [285](#L285) |  |
| [286](#L286) | // CDP has special alert when installed with quick-install module |
| [287](#L287) | if ($\_POST['slug'] === 'cdp') { |
| [288](#L288) | update\_option('\_cdp\_cool\_installation', true); |
| [289](#L289) | update\_option('\_cdp\_redirect', true); |
| [290](#L290) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [291](#L291) | } |
| [292](#L292) |  |
| [293](#L293) | // Redirection for MPU |
| [294](#L294) | if ($\_POST['slug'] === 'mpu') { |
| [295](#L295) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [296](#L296) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [297](#L297) | } |
| [298](#L298) |  |
| [299](#L299) | // Redirection for USM |
| [300](#L300) | if ($\_POST['slug'] === 'usm') { |
| [301](#L301) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [302](#L302) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [303](#L303) | } |
| [304](#L304) |  |
| [305](#L305) | // Redirection for BMI |
| [306](#L306) | if ($\_POST['slug'] === 'bmi') { |
| [307](#L307) | update\_option('\_bmi\_redirect', true); |
| [308](#L308) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [309](#L309) | } |
| [310](#L310) |  |
| [311](#L311) | // Redirection for RED |
| [312](#L312) | if ($\_POST['slug'] === 'redi') { |
| [313](#L313) | update\_option('irrp\_activation\_redirect', true); |
| [314](#L314) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [315](#L315) | } |
| [316](#L316) |  |
| [317](#L317) | // Send success |
| [318](#L318) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [319](#L319) |  |
| [320](#L320) | // I don't know what happened here and if it's even possible |
| [321](#L321) | } else wp\_send\_json\_error(); |
| [322](#L322) |  |
| [323](#L323) | // Send fail |
| [324](#L324) | } else wp\_send\_json\_error(); |
| [325](#L325) |  |
| [326](#L326) | } |
| [327](#L327) |  |
| [328](#L328) | /\* |
| [329](#L329) | \* Add/print the Carousel |
| [330](#L330) | \*/ |
| [331](#L331) | public function \_print() { |
| [332](#L332) | try { |
| [333](#L333) |  |
| [334](#L334) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [335](#L335) |  |
| [336](#L336) | } catch (\Exception $e) { |
| [337](#L337) |  |
| [338](#L338) | return $this->fail(7); |
| [339](#L339) |  |
| [340](#L340) | } catch (\Exception $e) { |
| [341](#L341) |  |
| [342](#L342) | return $this->fail(8); |
| [343](#L343) |  |
| [344](#L344) | } |
| [345](#L345) |  |
| [346](#L346) | } |
| [347](#L347) |  |
| [348](#L348) | /\* |
| [349](#L349) | \* Handle ajax request |
| [350](#L350) | \*/ |
| [351](#L351) | public function handle\_installation() { |
| [352](#L352) |  |
| [353](#L353) | if (check\_ajax\_referer('inisev\_carousel', 'nonce', false) === false) { |
| [354](#L354) | wp\_send\_json\_error(); |
| [355](#L355) | } |
| [356](#L356) |  |
| [357](#L357) | // Handle the slug and install the plugin |
| [358](#L358) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [359](#L359) | if ($slug === 'usm') { |
| [360](#L360) |  |
| [361](#L361) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [362](#L362) |  |
| [363](#L363) | } elseif ($slug === 'bmi') { |
| [364](#L364) |  |
| [365](#L365) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [366](#L366) |  |
| [367](#L367) | } elseif ($slug === 'cdp') { |
| [368](#L368) |  |
| [369](#L369) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [370](#L370) |  |
| [371](#L371) | } elseif ($slug === 'mpu') { |
| [372](#L372) |  |
| [373](#L373) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [374](#L374) |  |
| [375](#L375) | } elseif ($slug == 'redi') { |
| [376](#L376) |  |
| [377](#L377) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [378](#L378) |  |
| [379](#L379) | // Anything else error |
| [380](#L380) | } else wp\_send\_json\_error(); |
| [381](#L381) |  |
| [382](#L382) | } |
| [383](#L383) |  |
| [384](#L384) | } |
| [385](#L385) | } |
| [386](#L386) |  |
| [387](#L387) | if (!defined('INISEV\_CAROUSEL\_WIDGET')) { |
| [388](#L388) | $carousel = new Inisev\_Carousel\_Widget(\_\_FILE\_\_, \_\_DIR\_\_); |
| [389](#L389) |  |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/ultimate-posts-widget/tags/2.2.5/banner/misc.php?format=txt)
* [Original Format](/export/3220685/ultimate-posts-widget/tags/2.2.5/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_412407a3_20250111_123030.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fpop-up-pop-up%2Ftags%2F1.1.9%2Fmodules%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/pop-up-pop-up/tags/1.1.9/modules/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/pop-up-pop-up/tags/1.1.9/modules/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [pop-up-pop-up](/browser/pop-up-pop-up?order=name "View pop-up-pop-up")/[tags](/browser/pop-up-pop-up/tags?order=name "View tags")/[1.1.9](/browser/pop-up-pop-up/tags/1.1.9?order=name "View 1.1.9")/[modules](/browser/pop-up-pop-up/tags/1.1.9/modules?order=name "View modules")/[banner](/browser/pop-up-pop-up/tags/1.1.9/modules/banner?order=name "View banner")/[misc.php](/browser/pop-up-pop-up/tags/1.1.9/modules/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2823716/pop-up-pop-up/tags/1.1.9/modules/banner/misc.php "View differences") on this file was [2823716](/changeset/2823716/ "View changeset 2823716"), checked in by iclyde, [2 years ago](/timeline?from=2022-11-24T15%3A38%3A12Z&precision=second "See timeline at 11/24/2022 03:38:12 PM") |
| --- |
| Version 1.1.9 |
| **File size:** 13.5 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // Check if the script requires to be in hook |
| [91](#L91) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [92](#L92) | $this->hooked = (current\_action() == '' ? false : true); |
| [93](#L93) |  |
| [94](#L94) | // Add hook if it's required |
| [95](#L95) | if (!$this->hooked) { |
| [96](#L96) |  |
| [97](#L97) | // Hook the script to init |
| [98](#L98) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [99](#L99) |  |
| [100](#L100) | } else { |
| [101](#L101) |  |
| [102](#L102) | // The child plugin is already hooked, check if correctly |
| [103](#L103) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [104](#L104) |  |
| [105](#L105) | // If the hook is correct continue |
| [106](#L106) | $this->setup(); |
| [107](#L107) |  |
| [108](#L108) | } else { |
| [109](#L109) |  |
| [110](#L110) | // Hook the script to init if it's not hooked to it already |
| [111](#L111) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [112](#L112) |  |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | /\* |
| [120](#L120) | \* Main setup of this child plugin |
| [121](#L121) | \*/ |
| [122](#L122) | public function setup() { |
| [123](#L123) |  |
| [124](#L124) | // WordPress Global Variables |
| [125](#L125) | global $menu; |
| [126](#L126) |  |
| [127](#L127) | // Make sure $menu exists |
| [128](#L128) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [129](#L129) |  |
| [130](#L130) | // Get menu slug name |
| [131](#L131) | if (!$this->menu\_name($menu)) return false; |
| [132](#L132) |  |
| [133](#L133) | if (/\*$this->page === $this->menu && \*/!defined('INISEV\_CAROUSEL')) { |
| [134](#L134) |  |
| [135](#L135) | // Initialize Carousel constant |
| [136](#L136) | define('INISEV\_CAROUSEL', true); |
| [137](#L137) |  |
| [138](#L138) | // Root URL for assets |
| [139](#L139) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [140](#L140) |  |
| [141](#L141) | // Load styles |
| [142](#L142) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [143](#L143) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [144](#L144) |  |
| [145](#L145) | // Print the footer |
| [146](#L146) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [147](#L147) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [148](#L148) | } |
| [149](#L149) |  |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | } |
| [153](#L153) |  |
| [154](#L154) | /\* |
| [155](#L155) | \* This function may be used for debugging purposes |
| [156](#L156) | \*/ |
| [157](#L157) | private function fail($code = false) { |
| [158](#L158) |  |
| [159](#L159) | if ($code === false) { |
| [160](#L160) |  |
| [161](#L161) | // Return error code if specified as request ($code === false) |
| [162](#L162) | return $this->error; |
| [163](#L163) |  |
| [164](#L164) | } else { |
| [165](#L165) |  |
| [166](#L166) | // Set the error code and return |
| [167](#L167) | error\_log($code); |
| [168](#L168) | $this->error = $code; |
| [169](#L169) | return false; |
| [170](#L170) |  |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | } |
| [174](#L174) |  |
| [175](#L175) | /\* |
| [176](#L176) | \* Helper function remove \_ -/ characters and make lowercase |
| [177](#L177) | \*/ |
| [178](#L178) | private function makelower($str) { |
| [179](#L179) |  |
| [180](#L180) | $str = str\_replace('\_', '', $str); |
| [181](#L181) | $str = str\_replace('-', '', $str); |
| [182](#L182) | $str = str\_replace('/', '', $str); |
| [183](#L183) | $str = str\_replace('\/', '', $str); |
| [184](#L184) | $str = str\_replace(' ', '', $str); |
| [185](#L185) | $str = strtolower($str); |
| [186](#L186) |  |
| [187](#L187) | return $str; |
| [188](#L188) |  |
| [189](#L189) | } |
| [190](#L190) |  |
| [191](#L191) | /\* |
| [192](#L192) | \* This function will find slug of menu page |
| [193](#L193) | \*/ |
| [194](#L194) | private function menu\_name(&$menu) { |
| [195](#L195) |  |
| [196](#L196) | // Find the menu slug |
| [197](#L197) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [198](#L198) | foreach ($menu as $priority => $details) { |
| [199](#L199) | if (is\_array($details) && sizeof($details) >= 6) { |
| [200](#L200) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [201](#L201) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [202](#L202) | $this->menu = $details[2]; |
| [203](#L203) | break; |
| [204](#L204) | } |
| [205](#L205) | } |
| [206](#L206) | if (isset($this->menu)) break; |
| [207](#L207) | } |
| [208](#L208) | } |
| [209](#L209) |  |
| [210](#L210) | // MyPopUps exception |
| [211](#L211) | if (!isset($this->menu)) { |
| [212](#L212) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [213](#L213) | if (in\_array($this->slug\_low, $mpu)) { |
| [214](#L214) | $this->menu = 'wp-mypopups'; |
| [215](#L215) | } |
| [216](#L216) | } |
| [217](#L217) |  |
| [218](#L218) | if (!isset($this->menu)) { |
| [219](#L219) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [220](#L220) | if (in\_array($this->slug\_low, $bmi)) { |
| [221](#L221) | $this->menu = 'backup-migration'; |
| [222](#L222) | } |
| [223](#L223) | } |
| [224](#L224) |  |
| [225](#L225) | if (!isset($this->menu)) { |
| [226](#L226) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [227](#L227) | if (in\_array($this->slug\_low, $hhr)) { |
| [228](#L228) | $this->menu = 'httphttpsRemoval'; |
| [229](#L229) | } |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | if (!isset($this->menu)) { |
| [233](#L233) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [234](#L234) | if (in\_array($this->slug\_low, $wpc)) { |
| [235](#L235) | $this->menu = 'wp-clone'; |
| [236](#L236) | } |
| [237](#L237) | } |
| [238](#L238) |  |
| [239](#L239) | // Make sure it found something |
| [240](#L240) | if (isset($this->menu)) return true; |
| [241](#L241) | else return true; |
| [242](#L242) | // else return $this->fail(6); |
| [243](#L243) |  |
| [244](#L244) | } |
| [245](#L245) |  |
| [246](#L246) | /\* |
| [247](#L247) | \* Helper: Include file |
| [248](#L248) | \*/ |
| [249](#L249) | private function \_include($path) { |
| [250](#L250) |  |
| [251](#L251) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [252](#L252) |  |
| [253](#L253) | } |
| [254](#L254) |  |
| [255](#L255) | /\* |
| [256](#L256) | \* Helper: Get asset URL |
| [257](#L257) | \*/ |
| [258](#L258) | private function get\_asset($file) { |
| [259](#L259) |  |
| [260](#L260) | return $this->url . $file; |
| [261](#L261) |  |
| [262](#L262) | } |
| [263](#L263) |  |
| [264](#L264) | /\* |
| [265](#L265) | \* Helper: Get asset and print URL |
| [266](#L266) | \*/ |
| [267](#L267) | private function \_asset($file) { |
| [268](#L268) |  |
| [269](#L269) | echo $this->get\_asset('views/' . $file); |
| [270](#L270) |  |
| [271](#L271) | } |
| [272](#L272) |  |
| [273](#L273) | /\* |
| [274](#L274) | \* Upgrade plugin, this function probably will never be fired |
| [275](#L275) | \*/ |
| [276](#L276) | private function upgrade\_plugin($plugin\_slug) { |
| [277](#L277) |  |
| [278](#L278) | // Include upgrader |
| [279](#L279) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [280](#L280) | wp\_cache\_flush(); |
| [281](#L281) |  |
| [282](#L282) | // Initialize & upgrade the plugin |
| [283](#L283) | $upgrader = new \Plugin\_Upgrader(); |
| [284](#L284) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [285](#L285) |  |
| [286](#L286) | // Return status or WP Error |
| [287](#L287) | return $upgraded; |
| [288](#L288) |  |
| [289](#L289) | } |
| [290](#L290) |  |
| [291](#L291) | /\* |
| [292](#L292) | \* Check if plugin is installed by slug |
| [293](#L293) | \*/ |
| [294](#L294) | private function is\_plugin\_installed($slug) { |
| [295](#L295) |  |
| [296](#L296) | // Get all plugins |
| [297](#L297) | $all\_plugins = get\_plugins(); |
| [298](#L298) |  |
| [299](#L299) | // Make sure all slugs are in lowercase. |
| [300](#L300) | foreach ($all\_plugins as $plug => $v) { |
| [301](#L301) |  |
| [302](#L302) | // Once something match return success |
| [303](#L303) | if (strtolower($plug) == strtolower($slug)) return true; |
| [304](#L304) |  |
| [305](#L305) | } |
| [306](#L306) |  |
| [307](#L307) | // If nothing just fail |
| [308](#L308) | return false; |
| [309](#L309) |  |
| [310](#L310) | // When I exactly know the letter case... |
| [311](#L311) | // if (!empty($all\_plugins[$slug])) return true; |
| [312](#L312) | // else return false; |
| [313](#L313) |  |
| [314](#L314) | } |
| [315](#L315) |  |
| [316](#L316) | /\* |
| [317](#L317) | \* Install the plugin by slug |
| [318](#L318) | \*/ |
| [319](#L319) | private function install\_plugin($plugin\_zip) { |
| [320](#L320) |  |
| [321](#L321) | // Include upgrader |
| [322](#L322) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [323](#L323) | wp\_cache\_flush(); |
| [324](#L324) |  |
| [325](#L325) | // Initialize WP upgrader & install the plugin |
| [326](#L326) | $upgrader = new \Plugin\_Upgrader(); |
| [327](#L327) | $installed = $upgrader->install($plugin\_zip); |
| [328](#L328) |  |
| [329](#L329) | // Return status or WP Error |
| [330](#L330) | return $installed; |
| [331](#L331) |  |
| [332](#L332) | } |
| [333](#L333) |  |
| [334](#L334) | /\* |
| [335](#L335) | \* Install file |
| [336](#L336) | \*/ |
| [337](#L337) | private function install($slug, $directory\_slug) { |
| [338](#L338) |  |
| [339](#L339) | // Prepare the URLs and full slug |
| [340](#L340) | $plugin\_slug = $slug; |
| [341](#L341) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [342](#L342) |  |
| [343](#L343) | // Make sure the plugin is not installed |
| [344](#L344) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [345](#L345) |  |
| [346](#L346) | // Upgrade the plugin if it's installed somehow |
| [347](#L347) | $this->upgrade\_plugin($plugin\_slug); |
| [348](#L348) | $installed = true; |
| [349](#L349) |  |
| [350](#L350) | // Install instead |
| [351](#L351) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [352](#L352) |  |
| [353](#L353) | // Check if there was any error |
| [354](#L354) | if (!is\_wp\_error($installed) && $installed) { |
| [355](#L355) | $activate = activate\_plugin($plugin\_slug); |
| [356](#L356) |  |
| [357](#L357) | if (is\_null($activate)) { |
| [358](#L358) |  |
| [359](#L359) | $url = admin\_url('', 'admin'); |
| [360](#L360) |  |
| [361](#L361) | // CDP has special alert when installed with quick-install module |
| [362](#L362) | if ($\_POST['slug'] === 'cdp') { |
| [363](#L363) | update\_option('\_cdp\_cool\_installation', true); |
| [364](#L364) | update\_option('\_cdp\_redirect', true); |
| [365](#L365) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [366](#L366) | } |
| [367](#L367) |  |
| [368](#L368) | // Redirection for MPU |
| [369](#L369) | if ($\_POST['slug'] === 'mpu') { |
| [370](#L370) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [371](#L371) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [372](#L372) | } |
| [373](#L373) |  |
| [374](#L374) | // Redirection for USM |
| [375](#L375) | if ($\_POST['slug'] === 'usm') { |
| [376](#L376) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [377](#L377) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [378](#L378) | } |
| [379](#L379) |  |
| [380](#L380) | // Redirection for BMI |
| [381](#L381) | if ($\_POST['slug'] === 'bmi') { |
| [382](#L382) | update\_option('\_bmi\_redirect', true); |
| [383](#L383) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [384](#L384) | } |
| [385](#L385) |  |
| [386](#L386) | // Redirection for RED |
| [387](#L387) | if ($\_POST['slug'] === 'redi') { |
| [388](#L388) | update\_option('irrp\_activation\_redirect', true); |
| [389](#L389) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | // Send success |
| [393](#L393) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [394](#L394) |  |
| [395](#L395) | // I don't know what happened here and if it's even possible |
| [396](#L396) | } else wp\_send\_json\_error(); |
| [397](#L397) |  |
| [398](#L398) | // Send fail |
| [399](#L399) | } else wp\_send\_json\_error(); |
| [400](#L400) |  |
| [401](#L401) | } |
| [402](#L402) |  |
| [403](#L403) | /\* |
| [404](#L404) | \* Add/print the Carousel |
| [405](#L405) | \*/ |
| [406](#L406) | public function \_print() { |
| [407](#L407) |  |
| [408](#L408) | try { |
| [409](#L409) |  |
| [410](#L410) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [411](#L411) |  |
| [412](#L412) | } catch (\Exception $e) { |
| [413](#L413) |  |
| [414](#L414) | return $this->fail(7); |
| [415](#L415) |  |
| [416](#L416) | } catch (\Exception $e) { |
| [417](#L417) |  |
| [418](#L418) | return $this->fail(8); |
| [419](#L419) |  |
| [420](#L420) | } |
| [421](#L421) |  |
| [422](#L422) | } |
| [423](#L423) |  |
| [424](#L424) | /\* |
| [425](#L425) | \* Handle ajax request |
| [426](#L426) | \*/ |
| [427](#L427) | public function handle\_installation() { |
| [428](#L428) |  |
| [429](#L429) | // Handle the slug and install the plugin |
| [430](#L430) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [431](#L431) | if ($slug === 'usm') { |
| [432](#L432) |  |
| [433](#L433) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [434](#L434) |  |
| [435](#L435) | } elseif ($slug === 'bmi') { |
| [436](#L436) |  |
| [437](#L437) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [438](#L438) |  |
| [439](#L439) | } elseif ($slug === 'cdp') { |
| [440](#L440) |  |
| [441](#L441) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [442](#L442) |  |
| [443](#L443) | } elseif ($slug === 'mpu') { |
| [444](#L444) |  |
| [445](#L445) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [446](#L446) |  |
| [447](#L447) | } elseif ($slug == 'redi') { |
| [448](#L448) |  |
| [449](#L449) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [450](#L450) |  |
| [451](#L451) | // Anything else error |
| [452](#L452) | } else wp\_send\_json\_error(); |
| [453](#L453) |  |
| [454](#L454) | } |
| [455](#L455) |  |
| [456](#L456) | } |
| [457](#L457) | } |
| [458](#L458) |  |
| [459](#L459) | // Disallow usage of multiple Carousels + allow only GET requests |
| [460](#L460) | if (!defined('INISEV\_CAROUSEL')) { |
| [461](#L461) |  |
| [462](#L462) | // Make sure settings/menu page slug exsits |
| [463](#L463) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [464](#L464) |  |
| [465](#L465) | // Initialize the Carousel |
| [466](#L466) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [467](#L467) |  |
| [468](#L468) | } |
| [469](#L469) |  |
| [470](#L470) | } |
| [471](#L471) |  |
| [472](#L472) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/pop-up-pop-up/tags/1.1.9/modules/banner/misc.php?format=txt)
* [Original Format](/export/3220685/pop-up-pop-up/tags/1.1.9/modules/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_b689ac37_20250111_123157.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fultimate-social-media-plus%2Ftags%2F3.5.7%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/ultimate-social-media-plus/tags/3.5.7/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [ultimate-social-media-plus](/browser/ultimate-social-media-plus?order=name "View ultimate-social-media-plus")/[tags](/browser/ultimate-social-media-plus/tags?order=name "View tags")/[3.5.7](/browser/ultimate-social-media-plus/tags/3.5.7?order=name "View 3.5.7")/[banner](/browser/ultimate-social-media-plus/tags/3.5.7/banner?order=name "View banner")/[misc.php](/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2823720/ultimate-social-media-plus/tags/3.5.7/banner/misc.php "View differences") on this file was [2823720](/changeset/2823720/ "View changeset 2823720"), checked in by iclyde, [2 years ago](/timeline?from=2022-11-24T15%3A40%3A16Z&precision=second "See timeline at 11/24/2022 03:40:16 PM") |
| --- |
| Version 3.5.7 |
| **File size:** 13.4 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // Check if the script requires to be in hook |
| [91](#L91) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [92](#L92) | $this->hooked = (current\_action() == '' ? false : true); |
| [93](#L93) |  |
| [94](#L94) | // Add hook if it's required |
| [95](#L95) | if (!$this->hooked) { |
| [96](#L96) |  |
| [97](#L97) | // Hook the script to init |
| [98](#L98) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [99](#L99) |  |
| [100](#L100) | } else { |
| [101](#L101) |  |
| [102](#L102) | // The child plugin is already hooked, check if correctly |
| [103](#L103) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [104](#L104) |  |
| [105](#L105) | // If the hook is correct continue |
| [106](#L106) | $this->setup(); |
| [107](#L107) |  |
| [108](#L108) | } else { |
| [109](#L109) |  |
| [110](#L110) | // Hook the script to init if it's not hooked to it already |
| [111](#L111) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [112](#L112) |  |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | /\* |
| [120](#L120) | \* Main setup of this child plugin |
| [121](#L121) | \*/ |
| [122](#L122) | public function setup() { |
| [123](#L123) |  |
| [124](#L124) | // WordPress Global Variables |
| [125](#L125) | global $menu; |
| [126](#L126) |  |
| [127](#L127) | // Make sure $menu exists |
| [128](#L128) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [129](#L129) |  |
| [130](#L130) | // Get menu slug name |
| [131](#L131) | if (!$this->menu\_name($menu)) return false; |
| [132](#L132) |  |
| [133](#L133) | if ($this->page === $this->menu && !defined('INISEV\_CAROUSEL')) { |
| [134](#L134) |  |
| [135](#L135) | // Initialize Carousel constant |
| [136](#L136) | define('INISEV\_CAROUSEL', true); |
| [137](#L137) |  |
| [138](#L138) | // Root URL for assets |
| [139](#L139) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [140](#L140) |  |
| [141](#L141) | // Load styles |
| [142](#L142) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [143](#L143) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [144](#L144) |  |
| [145](#L145) | // Print the footer |
| [146](#L146) | add\_action('in\_admin\_footer', [&$this, '\_print'], 1); |
| [147](#L147) |  |
| [148](#L148) | } |
| [149](#L149) |  |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | /\* |
| [153](#L153) | \* This function may be used for debugging purposes |
| [154](#L154) | \*/ |
| [155](#L155) | private function fail($code = false) { |
| [156](#L156) |  |
| [157](#L157) | if ($code === false) { |
| [158](#L158) |  |
| [159](#L159) | // Return error code if specified as request ($code === false) |
| [160](#L160) | return $this->error; |
| [161](#L161) |  |
| [162](#L162) | } else { |
| [163](#L163) |  |
| [164](#L164) | // Set the error code and return |
| [165](#L165) | // error\_log($code); |
| [166](#L166) | $this->error = $code; |
| [167](#L167) | return false; |
| [168](#L168) |  |
| [169](#L169) | } |
| [170](#L170) |  |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | /\* |
| [174](#L174) | \* Helper function remove \_ -/ characters and make lowercase |
| [175](#L175) | \*/ |
| [176](#L176) | private function makelower($str) { |
| [177](#L177) |  |
| [178](#L178) | $str = str\_replace('\_', '', $str); |
| [179](#L179) | $str = str\_replace('-', '', $str); |
| [180](#L180) | $str = str\_replace('/', '', $str); |
| [181](#L181) | $str = str\_replace('\/', '', $str); |
| [182](#L182) | $str = str\_replace(' ', '', $str); |
| [183](#L183) | $str = strtolower($str); |
| [184](#L184) |  |
| [185](#L185) | return $str; |
| [186](#L186) |  |
| [187](#L187) | } |
| [188](#L188) |  |
| [189](#L189) | /\* |
| [190](#L190) | \* This function will find slug of menu page |
| [191](#L191) | \*/ |
| [192](#L192) | private function menu\_name(&$menu) { |
| [193](#L193) |  |
| [194](#L194) | // Find the menu slug |
| [195](#L195) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [196](#L196) | foreach ($menu as $priority => $details) { |
| [197](#L197) | if (is\_array($details) && sizeof($details) >= 6) { |
| [198](#L198) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [199](#L199) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [200](#L200) | $this->menu = $details[2]; |
| [201](#L201) | break; |
| [202](#L202) | } |
| [203](#L203) | } |
| [204](#L204) | if (isset($this->menu)) break; |
| [205](#L205) | } |
| [206](#L206) | } |
| [207](#L207) |  |
| [208](#L208) | // MyPopUps exception |
| [209](#L209) | if (!isset($this->menu)) { |
| [210](#L210) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [211](#L211) | if (in\_array($this->slug\_low, $mpu)) { |
| [212](#L212) | $this->menu = 'wp-mypopups'; |
| [213](#L213) | } |
| [214](#L214) | } |
| [215](#L215) |  |
| [216](#L216) | if (!isset($this->menu)) { |
| [217](#L217) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [218](#L218) | if (in\_array($this->slug\_low, $bmi)) { |
| [219](#L219) | $this->menu = 'backup-migration'; |
| [220](#L220) | } |
| [221](#L221) | } |
| [222](#L222) |  |
| [223](#L223) | if (!isset($this->menu)) { |
| [224](#L224) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [225](#L225) | if (in\_array($this->slug\_low, $hhr)) { |
| [226](#L226) | $this->menu = 'httphttpsRemoval'; |
| [227](#L227) | } |
| [228](#L228) | } |
| [229](#L229) |  |
| [230](#L230) | if (!isset($this->menu)) { |
| [231](#L231) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [232](#L232) | if (in\_array($this->slug\_low, $wpc)) { |
| [233](#L233) | $this->menu = 'wp-clone'; |
| [234](#L234) | } |
| [235](#L235) | } |
| [236](#L236) |  |
| [237](#L237) | // Make sure it found something |
| [238](#L238) | if (isset($this->menu)) return true; |
| [239](#L239) | else return $this->fail(6); |
| [240](#L240) |  |
| [241](#L241) | } |
| [242](#L242) |  |
| [243](#L243) | /\* |
| [244](#L244) | \* Helper: Include file |
| [245](#L245) | \*/ |
| [246](#L246) | private function \_include($path) { |
| [247](#L247) |  |
| [248](#L248) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [249](#L249) |  |
| [250](#L250) | } |
| [251](#L251) |  |
| [252](#L252) | /\* |
| [253](#L253) | \* Helper: Get asset URL |
| [254](#L254) | \*/ |
| [255](#L255) | private function get\_asset($file) { |
| [256](#L256) |  |
| [257](#L257) | return $this->url . $file; |
| [258](#L258) |  |
| [259](#L259) | } |
| [260](#L260) |  |
| [261](#L261) | /\* |
| [262](#L262) | \* Helper: Get asset and print URL |
| [263](#L263) | \*/ |
| [264](#L264) | private function \_asset($file) { |
| [265](#L265) |  |
| [266](#L266) | echo $this->get\_asset('views/' . $file); |
| [267](#L267) |  |
| [268](#L268) | } |
| [269](#L269) |  |
| [270](#L270) | /\* |
| [271](#L271) | \* Upgrade plugin, this function probably will never be fired |
| [272](#L272) | \*/ |
| [273](#L273) | private function upgrade\_plugin($plugin\_slug) { |
| [274](#L274) |  |
| [275](#L275) | // Include upgrader |
| [276](#L276) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [277](#L277) | wp\_cache\_flush(); |
| [278](#L278) |  |
| [279](#L279) | // Initialize & upgrade the plugin |
| [280](#L280) | $upgrader = new \Plugin\_Upgrader(); |
| [281](#L281) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [282](#L282) |  |
| [283](#L283) | // Return status or WP Error |
| [284](#L284) | return $upgraded; |
| [285](#L285) |  |
| [286](#L286) | } |
| [287](#L287) |  |
| [288](#L288) | /\* |
| [289](#L289) | \* Check if plugin is installed by slug |
| [290](#L290) | \*/ |
| [291](#L291) | private function is\_plugin\_installed($slug) { |
| [292](#L292) |  |
| [293](#L293) | // Get all plugins |
| [294](#L294) | $all\_plugins = get\_plugins(); |
| [295](#L295) |  |
| [296](#L296) | // Make sure all slugs are in lowercase. |
| [297](#L297) | foreach ($all\_plugins as $plug => $v) { |
| [298](#L298) |  |
| [299](#L299) | // Once something match return success |
| [300](#L300) | if (strtolower($plug) == strtolower($slug)) return true; |
| [301](#L301) |  |
| [302](#L302) | } |
| [303](#L303) |  |
| [304](#L304) | // If nothing just fail |
| [305](#L305) | return false; |
| [306](#L306) |  |
| [307](#L307) | // When I exactly know the letter case... |
| [308](#L308) | // if (!empty($all\_plugins[$slug])) return true; |
| [309](#L309) | // else return false; |
| [310](#L310) |  |
| [311](#L311) | } |
| [312](#L312) |  |
| [313](#L313) | /\* |
| [314](#L314) | \* Install the plugin by slug |
| [315](#L315) | \*/ |
| [316](#L316) | private function install\_plugin($plugin\_zip) { |
| [317](#L317) |  |
| [318](#L318) | // Include upgrader |
| [319](#L319) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [320](#L320) | wp\_cache\_flush(); |
| [321](#L321) |  |
| [322](#L322) | // Initialize WP upgrader & install the plugin |
| [323](#L323) | $upgrader = new \Plugin\_Upgrader(); |
| [324](#L324) | $installed = $upgrader->install($plugin\_zip); |
| [325](#L325) |  |
| [326](#L326) | // Return status or WP Error |
| [327](#L327) | return $installed; |
| [328](#L328) |  |
| [329](#L329) | } |
| [330](#L330) |  |
| [331](#L331) | /\* |
| [332](#L332) | \* Install file |
| [333](#L333) | \*/ |
| [334](#L334) | private function install($slug, $directory\_slug) { |
| [335](#L335) |  |
| [336](#L336) | // Prepare the URLs and full slug |
| [337](#L337) | $plugin\_slug = $slug; |
| [338](#L338) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [339](#L339) |  |
| [340](#L340) | // Make sure the plugin is not installed |
| [341](#L341) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [342](#L342) |  |
| [343](#L343) | // Upgrade the plugin if it's installed somehow |
| [344](#L344) | $this->upgrade\_plugin($plugin\_slug); |
| [345](#L345) | $installed = true; |
| [346](#L346) |  |
| [347](#L347) | // Install instead |
| [348](#L348) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [349](#L349) |  |
| [350](#L350) | // Check if there was any error |
| [351](#L351) | if (!is\_wp\_error($installed) && $installed) { |
| [352](#L352) | $activate = activate\_plugin($plugin\_slug); |
| [353](#L353) |  |
| [354](#L354) | if (is\_null($activate)) { |
| [355](#L355) |  |
| [356](#L356) | $url = admin\_url('', 'admin'); |
| [357](#L357) |  |
| [358](#L358) | // CDP has special alert when installed with quick-install module |
| [359](#L359) | if ($\_POST['slug'] === 'cdp') { |
| [360](#L360) | update\_option('\_cdp\_cool\_installation', true); |
| [361](#L361) | update\_option('\_cdp\_redirect', true); |
| [362](#L362) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [363](#L363) | } |
| [364](#L364) |  |
| [365](#L365) | // Redirection for MPU |
| [366](#L366) | if ($\_POST['slug'] === 'mpu') { |
| [367](#L367) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [368](#L368) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [369](#L369) | } |
| [370](#L370) |  |
| [371](#L371) | // Redirection for USM |
| [372](#L372) | if ($\_POST['slug'] === 'usm') { |
| [373](#L373) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [374](#L374) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [375](#L375) | } |
| [376](#L376) |  |
| [377](#L377) | // Redirection for BMI |
| [378](#L378) | if ($\_POST['slug'] === 'bmi') { |
| [379](#L379) | update\_option('\_bmi\_redirect', true); |
| [380](#L380) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [381](#L381) | } |
| [382](#L382) |  |
| [383](#L383) | // Redirection for RED |
| [384](#L384) | if ($\_POST['slug'] === 'redi') { |
| [385](#L385) | update\_option('irrp\_activation\_redirect', true); |
| [386](#L386) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [387](#L387) | } |
| [388](#L388) |  |
| [389](#L389) | // Send success |
| [390](#L390) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [391](#L391) |  |
| [392](#L392) | // I don't know what happened here and if it's even possible |
| [393](#L393) | } else wp\_send\_json\_error(); |
| [394](#L394) |  |
| [395](#L395) | // Send fail |
| [396](#L396) | } else wp\_send\_json\_error(); |
| [397](#L397) |  |
| [398](#L398) | } |
| [399](#L399) |  |
| [400](#L400) | /\* |
| [401](#L401) | \* Add/print the Carousel |
| [402](#L402) | \*/ |
| [403](#L403) | public function \_print() { |
| [404](#L404) |  |
| [405](#L405) | try { |
| [406](#L406) |  |
| [407](#L407) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [408](#L408) |  |
| [409](#L409) | } catch (\Exception $e) { |
| [410](#L410) |  |
| [411](#L411) | return $this->fail(7); |
| [412](#L412) |  |
| [413](#L413) | } catch (\Exception $e) { |
| [414](#L414) |  |
| [415](#L415) | return $this->fail(8); |
| [416](#L416) |  |
| [417](#L417) | } |
| [418](#L418) |  |
| [419](#L419) | } |
| [420](#L420) |  |
| [421](#L421) | /\* |
| [422](#L422) | \* Handle ajax request |
| [423](#L423) | \*/ |
| [424](#L424) | public function handle\_installation() { |
| [425](#L425) |  |
| [426](#L426) | // Handle the slug and install the plugin |
| [427](#L427) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [428](#L428) | if ($slug === 'usm') { |
| [429](#L429) |  |
| [430](#L430) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [431](#L431) |  |
| [432](#L432) | } elseif ($slug === 'bmi') { |
| [433](#L433) |  |
| [434](#L434) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [435](#L435) |  |
| [436](#L436) | } elseif ($slug === 'cdp') { |
| [437](#L437) |  |
| [438](#L438) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [439](#L439) |  |
| [440](#L440) | } elseif ($slug === 'mpu') { |
| [441](#L441) |  |
| [442](#L442) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [443](#L443) |  |
| [444](#L444) | } elseif ($slug == 'redi') { |
| [445](#L445) |  |
| [446](#L446) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [447](#L447) |  |
| [448](#L448) | // Anything else error |
| [449](#L449) | } else wp\_send\_json\_error(); |
| [450](#L450) |  |
| [451](#L451) | } |
| [452](#L452) |  |
| [453](#L453) | } |
| [454](#L454) | } |
| [455](#L455) |  |
| [456](#L456) | // Disallow usage of multiple Carousels + allow only GET requests |
| [457](#L457) | if (!defined('INISEV\_CAROUSEL')) { |
| [458](#L458) |  |
| [459](#L459) | // Make sure settings/menu page slug exsits |
| [460](#L460) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [461](#L461) |  |
| [462](#L462) | // Initialize the Carousel |
| [463](#L463) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [464](#L464) |  |
| [465](#L465) | } |
| [466](#L466) |  |
| [467](#L467) | } |
| [468](#L468) |  |
| [469](#L469) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?format=txt)
* [Original Format](/export/3220685/ultimate-social-media-plus/tags/3.5.7/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_10d5b226_20250111_123042.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fpop-up-pop-up%2Ftags%2F1.2.0%2Fmodules%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/pop-up-pop-up/tags/1.2.0/modules/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/pop-up-pop-up/tags/1.2.0/modules/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [pop-up-pop-up](/browser/pop-up-pop-up?order=name "View pop-up-pop-up")/[tags](/browser/pop-up-pop-up/tags?order=name "View tags")/[1.2.0](/browser/pop-up-pop-up/tags/1.2.0?order=name "View 1.2.0")/[modules](/browser/pop-up-pop-up/tags/1.2.0/modules?order=name "View modules")/[banner](/browser/pop-up-pop-up/tags/1.2.0/modules/banner?order=name "View banner")/[misc.php](/browser/pop-up-pop-up/tags/1.2.0/modules/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2875656/pop-up-pop-up/tags/1.2.0/modules/banner/misc.php "View differences") on this file was [2875656](/changeset/2875656/ "View changeset 2875656"), checked in by iclyde, [23 months ago](/timeline?from=2023-03-07T05%3A25%3A03Z&precision=second "See timeline at 03/07/2023 05:25:03 AM") |
| --- |
| Version 1.2.0 |
| **File size:** 13.9 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.3.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // Check if the script requires to be in hook |
| [91](#L91) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [92](#L92) | $this->hooked = (current\_action() == '' ? false : true); |
| [93](#L93) |  |
| [94](#L94) | // Add hook if it's required |
| [95](#L95) | if (!$this->hooked) { |
| [96](#L96) |  |
| [97](#L97) | // Hook the script to init |
| [98](#L98) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [99](#L99) |  |
| [100](#L100) | } else { |
| [101](#L101) |  |
| [102](#L102) | // The child plugin is already hooked, check if correctly |
| [103](#L103) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [104](#L104) |  |
| [105](#L105) | // If the hook is correct continue |
| [106](#L106) | $this->setup(); |
| [107](#L107) |  |
| [108](#L108) | } else { |
| [109](#L109) |  |
| [110](#L110) | // Hook the script to init if it's not hooked to it already |
| [111](#L111) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [112](#L112) |  |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | /\* |
| [120](#L120) | \* Main setup of this child plugin |
| [121](#L121) | \*/ |
| [122](#L122) | public function setup() { |
| [123](#L123) |  |
| [124](#L124) | // WordPress Global Variables |
| [125](#L125) | global $menu; |
| [126](#L126) |  |
| [127](#L127) | // Make sure $menu exists |
| [128](#L128) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [129](#L129) |  |
| [130](#L130) | // Get menu slug name |
| [131](#L131) | if (!$this->menu\_name($menu)) return false; |
| [132](#L132) |  |
| [133](#L133) | if (/\*$this->page === $this->menu && \*/!defined('INISEV\_CAROUSEL')) { |
| [134](#L134) |  |
| [135](#L135) | // Initialize Carousel constant |
| [136](#L136) | define('INISEV\_CAROUSEL', true); |
| [137](#L137) |  |
| [138](#L138) | // Root URL for assets |
| [139](#L139) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [140](#L140) |  |
| [141](#L141) | // Load styles |
| [142](#L142) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [143](#L143) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [144](#L144) |  |
| [145](#L145) | // Pass nonce to JS |
| [146](#L146) | wp\_localize\_script('inisev-carousel-script', 'inisev\_carousel', [ |
| [147](#L147) | 'nonce' => wp\_create\_nonce('inisev\_carousel'), |
| [148](#L148) | ], true); |
| [149](#L149) |  |
| [150](#L150) | // Print the footer |
| [151](#L151) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [152](#L152) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [153](#L153) | } |
| [154](#L154) |  |
| [155](#L155) | } |
| [156](#L156) |  |
| [157](#L157) | } |
| [158](#L158) |  |
| [159](#L159) | /\* |
| [160](#L160) | \* This function may be used for debugging purposes |
| [161](#L161) | \*/ |
| [162](#L162) | private function fail($code = false) { |
| [163](#L163) |  |
| [164](#L164) | if ($code === false) { |
| [165](#L165) |  |
| [166](#L166) | // Return error code if specified as request ($code === false) |
| [167](#L167) | return $this->error; |
| [168](#L168) |  |
| [169](#L169) | } else { |
| [170](#L170) |  |
| [171](#L171) | // Set the error code and return |
| [172](#L172) | // error\_log($code); |
| [173](#L173) | $this->error = $code; |
| [174](#L174) | return false; |
| [175](#L175) |  |
| [176](#L176) | } |
| [177](#L177) |  |
| [178](#L178) | } |
| [179](#L179) |  |
| [180](#L180) | /\* |
| [181](#L181) | \* Helper function remove \_ -/ characters and make lowercase |
| [182](#L182) | \*/ |
| [183](#L183) | private function makelower($str) { |
| [184](#L184) |  |
| [185](#L185) | $str = str\_replace('\_', '', $str); |
| [186](#L186) | $str = str\_replace('-', '', $str); |
| [187](#L187) | $str = str\_replace('/', '', $str); |
| [188](#L188) | $str = str\_replace('\/', '', $str); |
| [189](#L189) | $str = str\_replace(' ', '', $str); |
| [190](#L190) | $str = strtolower($str); |
| [191](#L191) |  |
| [192](#L192) | return $str; |
| [193](#L193) |  |
| [194](#L194) | } |
| [195](#L195) |  |
| [196](#L196) | /\* |
| [197](#L197) | \* This function will find slug of menu page |
| [198](#L198) | \*/ |
| [199](#L199) | private function menu\_name(&$menu) { |
| [200](#L200) |  |
| [201](#L201) | // Find the menu slug |
| [202](#L202) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [203](#L203) | foreach ($menu as $priority => $details) { |
| [204](#L204) | if (is\_array($details) && sizeof($details) >= 6) { |
| [205](#L205) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [206](#L206) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [207](#L207) | $this->menu = $details[2]; |
| [208](#L208) | break; |
| [209](#L209) | } |
| [210](#L210) | } |
| [211](#L211) | if (isset($this->menu)) break; |
| [212](#L212) | } |
| [213](#L213) | } |
| [214](#L214) |  |
| [215](#L215) | // MyPopUps exception |
| [216](#L216) | if (!isset($this->menu)) { |
| [217](#L217) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [218](#L218) | if (in\_array($this->slug\_low, $mpu)) { |
| [219](#L219) | $this->menu = 'wp-mypopups'; |
| [220](#L220) | } |
| [221](#L221) | } |
| [222](#L222) |  |
| [223](#L223) | if (!isset($this->menu)) { |
| [224](#L224) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [225](#L225) | if (in\_array($this->slug\_low, $bmi)) { |
| [226](#L226) | $this->menu = 'backup-migration'; |
| [227](#L227) | } |
| [228](#L228) | } |
| [229](#L229) |  |
| [230](#L230) | if (!isset($this->menu)) { |
| [231](#L231) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [232](#L232) | if (in\_array($this->slug\_low, $hhr)) { |
| [233](#L233) | $this->menu = 'httphttpsRemoval'; |
| [234](#L234) | } |
| [235](#L235) | } |
| [236](#L236) |  |
| [237](#L237) | if (!isset($this->menu)) { |
| [238](#L238) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [239](#L239) | if (in\_array($this->slug\_low, $wpc)) { |
| [240](#L240) | $this->menu = 'wp-clone'; |
| [241](#L241) | } |
| [242](#L242) | } |
| [243](#L243) |  |
| [244](#L244) | // Make sure it found something |
| [245](#L245) | if (isset($this->menu)) return true; |
| [246](#L246) | else return true; |
| [247](#L247) | // else return $this->fail(6); |
| [248](#L248) |  |
| [249](#L249) | } |
| [250](#L250) |  |
| [251](#L251) | /\* |
| [252](#L252) | \* Helper: Include file |
| [253](#L253) | \*/ |
| [254](#L254) | private function \_include($path) { |
| [255](#L255) |  |
| [256](#L256) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [257](#L257) |  |
| [258](#L258) | } |
| [259](#L259) |  |
| [260](#L260) | /\* |
| [261](#L261) | \* Helper: Get asset URL |
| [262](#L262) | \*/ |
| [263](#L263) | private function get\_asset($file) { |
| [264](#L264) |  |
| [265](#L265) | return $this->url . $file; |
| [266](#L266) |  |
| [267](#L267) | } |
| [268](#L268) |  |
| [269](#L269) | /\* |
| [270](#L270) | \* Helper: Get asset and print URL |
| [271](#L271) | \*/ |
| [272](#L272) | private function \_asset($file) { |
| [273](#L273) |  |
| [274](#L274) | echo $this->get\_asset('views/' . $file); |
| [275](#L275) |  |
| [276](#L276) | } |
| [277](#L277) |  |
| [278](#L278) | /\* |
| [279](#L279) | \* Upgrade plugin, this function probably will never be fired |
| [280](#L280) | \*/ |
| [281](#L281) | private function upgrade\_plugin($plugin\_slug) { |
| [282](#L282) |  |
| [283](#L283) | // Include upgrader |
| [284](#L284) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [285](#L285) | wp\_cache\_flush(); |
| [286](#L286) |  |
| [287](#L287) | // Initialize & upgrade the plugin |
| [288](#L288) | $upgrader = new \Plugin\_Upgrader(); |
| [289](#L289) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [290](#L290) |  |
| [291](#L291) | // Return status or WP Error |
| [292](#L292) | return $upgraded; |
| [293](#L293) |  |
| [294](#L294) | } |
| [295](#L295) |  |
| [296](#L296) | /\* |
| [297](#L297) | \* Check if plugin is installed by slug |
| [298](#L298) | \*/ |
| [299](#L299) | private function is\_plugin\_installed($slug) { |
| [300](#L300) |  |
| [301](#L301) | // Get all plugins |
| [302](#L302) | $all\_plugins = get\_plugins(); |
| [303](#L303) |  |
| [304](#L304) | // Make sure all slugs are in lowercase. |
| [305](#L305) | foreach ($all\_plugins as $plug => $v) { |
| [306](#L306) |  |
| [307](#L307) | // Once something match return success |
| [308](#L308) | if (strtolower($plug) == strtolower($slug)) return true; |
| [309](#L309) |  |
| [310](#L310) | } |
| [311](#L311) |  |
| [312](#L312) | // If nothing just fail |
| [313](#L313) | return false; |
| [314](#L314) |  |
| [315](#L315) | // When I exactly know the letter case... |
| [316](#L316) | // if (!empty($all\_plugins[$slug])) return true; |
| [317](#L317) | // else return false; |
| [318](#L318) |  |
| [319](#L319) | } |
| [320](#L320) |  |
| [321](#L321) | /\* |
| [322](#L322) | \* Install the plugin by slug |
| [323](#L323) | \*/ |
| [324](#L324) | private function install\_plugin($plugin\_zip) { |
| [325](#L325) |  |
| [326](#L326) | // Include upgrader |
| [327](#L327) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [328](#L328) | wp\_cache\_flush(); |
| [329](#L329) |  |
| [330](#L330) | // Initialize WP upgrader & install the plugin |
| [331](#L331) | $upgrader = new \Plugin\_Upgrader(); |
| [332](#L332) | $installed = $upgrader->install($plugin\_zip); |
| [333](#L333) |  |
| [334](#L334) | // Return status or WP Error |
| [335](#L335) | return $installed; |
| [336](#L336) |  |
| [337](#L337) | } |
| [338](#L338) |  |
| [339](#L339) | /\* |
| [340](#L340) | \* Install file |
| [341](#L341) | \*/ |
| [342](#L342) | private function install($slug, $directory\_slug) { |
| [343](#L343) |  |
| [344](#L344) | // Prepare the URLs and full slug |
| [345](#L345) | $plugin\_slug = $slug; |
| [346](#L346) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [347](#L347) |  |
| [348](#L348) | // Make sure the plugin is not installed |
| [349](#L349) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [350](#L350) |  |
| [351](#L351) | // Upgrade the plugin if it's installed somehow |
| [352](#L352) | $this->upgrade\_plugin($plugin\_slug); |
| [353](#L353) | $installed = true; |
| [354](#L354) |  |
| [355](#L355) | // Install instead |
| [356](#L356) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [357](#L357) |  |
| [358](#L358) | // Check if there was any error |
| [359](#L359) | if (!is\_wp\_error($installed) && $installed) { |
| [360](#L360) | $activate = activate\_plugin($plugin\_slug); |
| [361](#L361) |  |
| [362](#L362) | if (is\_null($activate)) { |
| [363](#L363) |  |
| [364](#L364) | $url = admin\_url('', 'admin'); |
| [365](#L365) |  |
| [366](#L366) | // CDP has special alert when installed with quick-install module |
| [367](#L367) | if ($\_POST['slug'] === 'cdp') { |
| [368](#L368) | update\_option('\_cdp\_cool\_installation', true); |
| [369](#L369) | update\_option('\_cdp\_redirect', true); |
| [370](#L370) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [371](#L371) | } |
| [372](#L372) |  |
| [373](#L373) | // Redirection for MPU |
| [374](#L374) | if ($\_POST['slug'] === 'mpu') { |
| [375](#L375) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [376](#L376) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [377](#L377) | } |
| [378](#L378) |  |
| [379](#L379) | // Redirection for USM |
| [380](#L380) | if ($\_POST['slug'] === 'usm') { |
| [381](#L381) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [382](#L382) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [383](#L383) | } |
| [384](#L384) |  |
| [385](#L385) | // Redirection for BMI |
| [386](#L386) | if ($\_POST['slug'] === 'bmi') { |
| [387](#L387) | update\_option('\_bmi\_redirect', true); |
| [388](#L388) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [389](#L389) | } |
| [390](#L390) |  |
| [391](#L391) | // Redirection for RED |
| [392](#L392) | if ($\_POST['slug'] === 'redi') { |
| [393](#L393) | update\_option('irrp\_activation\_redirect', true); |
| [394](#L394) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [395](#L395) | } |
| [396](#L396) |  |
| [397](#L397) | // Send success |
| [398](#L398) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [399](#L399) |  |
| [400](#L400) | // I don't know what happened here and if it's even possible |
| [401](#L401) | } else wp\_send\_json\_error(); |
| [402](#L402) |  |
| [403](#L403) | // Send fail |
| [404](#L404) | } else wp\_send\_json\_error(); |
| [405](#L405) |  |
| [406](#L406) | } |
| [407](#L407) |  |
| [408](#L408) | /\* |
| [409](#L409) | \* Add/print the Carousel |
| [410](#L410) | \*/ |
| [411](#L411) | public function \_print() { |
| [412](#L412) |  |
| [413](#L413) | try { |
| [414](#L414) |  |
| [415](#L415) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [416](#L416) |  |
| [417](#L417) | } catch (\Exception $e) { |
| [418](#L418) |  |
| [419](#L419) | return $this->fail(7); |
| [420](#L420) |  |
| [421](#L421) | } catch (\Exception $e) { |
| [422](#L422) |  |
| [423](#L423) | return $this->fail(8); |
| [424](#L424) |  |
| [425](#L425) | } |
| [426](#L426) |  |
| [427](#L427) | } |
| [428](#L428) |  |
| [429](#L429) | /\* |
| [430](#L430) | \* Handle ajax request |
| [431](#L431) | \*/ |
| [432](#L432) | public function handle\_installation() { |
| [433](#L433) |  |
| [434](#L434) | if(check\_ajax\_referer('inisev\_carousel', 'nonce', false) === false) { |
| [435](#L435) | wp\_send\_json\_error(); |
| [436](#L436) | } |
| [437](#L437) |  |
| [438](#L438) | // Handle the slug and install the plugin |
| [439](#L439) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [440](#L440) | if ($slug === 'usm') { |
| [441](#L441) |  |
| [442](#L442) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [443](#L443) |  |
| [444](#L444) | } elseif ($slug === 'bmi') { |
| [445](#L445) |  |
| [446](#L446) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [447](#L447) |  |
| [448](#L448) | } elseif ($slug === 'cdp') { |
| [449](#L449) |  |
| [450](#L450) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [451](#L451) |  |
| [452](#L452) | } elseif ($slug === 'mpu') { |
| [453](#L453) |  |
| [454](#L454) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [455](#L455) |  |
| [456](#L456) | } elseif ($slug == 'redi') { |
| [457](#L457) |  |
| [458](#L458) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [459](#L459) |  |
| [460](#L460) | // Anything else error |
| [461](#L461) | } else wp\_send\_json\_error(); |
| [462](#L462) |  |
| [463](#L463) | } |
| [464](#L464) |  |
| [465](#L465) | } |
| [466](#L466) | } |
| [467](#L467) |  |
| [468](#L468) | // Disallow usage of multiple Carousels + allow only GET requests |
| [469](#L469) | if (!defined('INISEV\_CAROUSEL')) { |
| [470](#L470) |  |
| [471](#L471) | // Make sure settings/menu page slug exsits |
| [472](#L472) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [473](#L473) |  |
| [474](#L474) | // Initialize the Carousel |
| [475](#L475) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [476](#L476) |  |
| [477](#L477) | } |
| [478](#L478) |  |
| [479](#L479) | } |
| [480](#L480) |  |
| [481](#L481) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/pop-up-pop-up/tags/1.2.0/modules/banner/misc.php?format=txt)
* [Original Format](/export/3220685/pop-up-pop-up/tags/1.2.0/modules/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_443a5c5d_20250111_123002.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Ffeedburner-alternative-and-rss-redirect%2Ftags%2F3.7%2Fmodules%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [feedburner-alternative-and-rss-redirect](/browser/feedburner-alternative-and-rss-redirect?order=name "View feedburner-alternative-and-rss-redirect")/[tags](/browser/feedburner-alternative-and-rss-redirect/tags?order=name "View tags")/[3.7](/browser/feedburner-alternative-and-rss-redirect/tags/3.7?order=name "View 3.7")/[modules](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules?order=name "View modules")/[banner](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner?order=name "View banner")/[misc.php](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2823770/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php "View differences") on this file was [2823770](/changeset/2823770/ "View changeset 2823770"), checked in by iclyde, [2 years ago](/timeline?from=2022-11-24T17%3A24%3A38Z&precision=second "See timeline at 11/24/2022 05:24:38 PM") |
| --- |
| Version 3.7 |
| **File size:** 13.5 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // Check if the script requires to be in hook |
| [91](#L91) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [92](#L92) | $this->hooked = (current\_action() == '' ? false : true); |
| [93](#L93) |  |
| [94](#L94) | // Add hook if it's required |
| [95](#L95) | if (!$this->hooked) { |
| [96](#L96) |  |
| [97](#L97) | // Hook the script to init |
| [98](#L98) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [99](#L99) |  |
| [100](#L100) | } else { |
| [101](#L101) |  |
| [102](#L102) | // The child plugin is already hooked, check if correctly |
| [103](#L103) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [104](#L104) |  |
| [105](#L105) | // If the hook is correct continue |
| [106](#L106) | $this->setup(); |
| [107](#L107) |  |
| [108](#L108) | } else { |
| [109](#L109) |  |
| [110](#L110) | // Hook the script to init if it's not hooked to it already |
| [111](#L111) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [112](#L112) |  |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | /\* |
| [120](#L120) | \* Main setup of this child plugin |
| [121](#L121) | \*/ |
| [122](#L122) | public function setup() { |
| [123](#L123) |  |
| [124](#L124) | // WordPress Global Variables |
| [125](#L125) | global $menu; |
| [126](#L126) |  |
| [127](#L127) | // Make sure $menu exists |
| [128](#L128) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [129](#L129) |  |
| [130](#L130) | // Get menu slug name |
| [131](#L131) | if (!$this->menu\_name($menu)) return false; |
| [132](#L132) |  |
| [133](#L133) | if (/\*$this->page === $this->menu && \*/!defined('INISEV\_CAROUSEL')) { |
| [134](#L134) |  |
| [135](#L135) | // Initialize Carousel constant |
| [136](#L136) | define('INISEV\_CAROUSEL', true); |
| [137](#L137) |  |
| [138](#L138) | // Root URL for assets |
| [139](#L139) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [140](#L140) |  |
| [141](#L141) | // Load styles |
| [142](#L142) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [143](#L143) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [144](#L144) |  |
| [145](#L145) | // Print the footer |
| [146](#L146) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [147](#L147) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [148](#L148) | } |
| [149](#L149) |  |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | } |
| [153](#L153) |  |
| [154](#L154) | /\* |
| [155](#L155) | \* This function may be used for debugging purposes |
| [156](#L156) | \*/ |
| [157](#L157) | private function fail($code = false) { |
| [158](#L158) |  |
| [159](#L159) | if ($code === false) { |
| [160](#L160) |  |
| [161](#L161) | // Return error code if specified as request ($code === false) |
| [162](#L162) | return $this->error; |
| [163](#L163) |  |
| [164](#L164) | } else { |
| [165](#L165) |  |
| [166](#L166) | // Set the error code and return |
| [167](#L167) | // error\_log($code); |
| [168](#L168) | $this->error = $code; |
| [169](#L169) | return false; |
| [170](#L170) |  |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | } |
| [174](#L174) |  |
| [175](#L175) | /\* |
| [176](#L176) | \* Helper function remove \_ -/ characters and make lowercase |
| [177](#L177) | \*/ |
| [178](#L178) | private function makelower($str) { |
| [179](#L179) |  |
| [180](#L180) | $str = str\_replace('\_', '', $str); |
| [181](#L181) | $str = str\_replace('-', '', $str); |
| [182](#L182) | $str = str\_replace('/', '', $str); |
| [183](#L183) | $str = str\_replace('\/', '', $str); |
| [184](#L184) | $str = str\_replace(' ', '', $str); |
| [185](#L185) | $str = strtolower($str); |
| [186](#L186) |  |
| [187](#L187) | return $str; |
| [188](#L188) |  |
| [189](#L189) | } |
| [190](#L190) |  |
| [191](#L191) | /\* |
| [192](#L192) | \* This function will find slug of menu page |
| [193](#L193) | \*/ |
| [194](#L194) | private function menu\_name(&$menu) { |
| [195](#L195) |  |
| [196](#L196) | // Find the menu slug |
| [197](#L197) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [198](#L198) | foreach ($menu as $priority => $details) { |
| [199](#L199) | if (is\_array($details) && sizeof($details) >= 6) { |
| [200](#L200) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [201](#L201) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [202](#L202) | $this->menu = $details[2]; |
| [203](#L203) | break; |
| [204](#L204) | } |
| [205](#L205) | } |
| [206](#L206) | if (isset($this->menu)) break; |
| [207](#L207) | } |
| [208](#L208) | } |
| [209](#L209) |  |
| [210](#L210) | // MyPopUps exception |
| [211](#L211) | if (!isset($this->menu)) { |
| [212](#L212) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [213](#L213) | if (in\_array($this->slug\_low, $mpu)) { |
| [214](#L214) | $this->menu = 'wp-mypopups'; |
| [215](#L215) | } |
| [216](#L216) | } |
| [217](#L217) |  |
| [218](#L218) | if (!isset($this->menu)) { |
| [219](#L219) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [220](#L220) | if (in\_array($this->slug\_low, $bmi)) { |
| [221](#L221) | $this->menu = 'backup-migration'; |
| [222](#L222) | } |
| [223](#L223) | } |
| [224](#L224) |  |
| [225](#L225) | if (!isset($this->menu)) { |
| [226](#L226) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [227](#L227) | if (in\_array($this->slug\_low, $hhr)) { |
| [228](#L228) | $this->menu = 'httphttpsRemoval'; |
| [229](#L229) | } |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | if (!isset($this->menu)) { |
| [233](#L233) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [234](#L234) | if (in\_array($this->slug\_low, $wpc)) { |
| [235](#L235) | $this->menu = 'wp-clone'; |
| [236](#L236) | } |
| [237](#L237) | } |
| [238](#L238) |  |
| [239](#L239) | // Make sure it found something |
| [240](#L240) | if (isset($this->menu)) return true; |
| [241](#L241) | else return true; |
| [242](#L242) | // else return $this->fail(6); |
| [243](#L243) |  |
| [244](#L244) | } |
| [245](#L245) |  |
| [246](#L246) | /\* |
| [247](#L247) | \* Helper: Include file |
| [248](#L248) | \*/ |
| [249](#L249) | private function \_include($path) { |
| [250](#L250) |  |
| [251](#L251) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [252](#L252) |  |
| [253](#L253) | } |
| [254](#L254) |  |
| [255](#L255) | /\* |
| [256](#L256) | \* Helper: Get asset URL |
| [257](#L257) | \*/ |
| [258](#L258) | private function get\_asset($file) { |
| [259](#L259) |  |
| [260](#L260) | return $this->url . $file; |
| [261](#L261) |  |
| [262](#L262) | } |
| [263](#L263) |  |
| [264](#L264) | /\* |
| [265](#L265) | \* Helper: Get asset and print URL |
| [266](#L266) | \*/ |
| [267](#L267) | private function \_asset($file) { |
| [268](#L268) |  |
| [269](#L269) | echo $this->get\_asset('views/' . $file); |
| [270](#L270) |  |
| [271](#L271) | } |
| [272](#L272) |  |
| [273](#L273) | /\* |
| [274](#L274) | \* Upgrade plugin, this function probably will never be fired |
| [275](#L275) | \*/ |
| [276](#L276) | private function upgrade\_plugin($plugin\_slug) { |
| [277](#L277) |  |
| [278](#L278) | // Include upgrader |
| [279](#L279) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [280](#L280) | wp\_cache\_flush(); |
| [281](#L281) |  |
| [282](#L282) | // Initialize & upgrade the plugin |
| [283](#L283) | $upgrader = new \Plugin\_Upgrader(); |
| [284](#L284) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [285](#L285) |  |
| [286](#L286) | // Return status or WP Error |
| [287](#L287) | return $upgraded; |
| [288](#L288) |  |
| [289](#L289) | } |
| [290](#L290) |  |
| [291](#L291) | /\* |
| [292](#L292) | \* Check if plugin is installed by slug |
| [293](#L293) | \*/ |
| [294](#L294) | private function is\_plugin\_installed($slug) { |
| [295](#L295) |  |
| [296](#L296) | // Get all plugins |
| [297](#L297) | $all\_plugins = get\_plugins(); |
| [298](#L298) |  |
| [299](#L299) | // Make sure all slugs are in lowercase. |
| [300](#L300) | foreach ($all\_plugins as $plug => $v) { |
| [301](#L301) |  |
| [302](#L302) | // Once something match return success |
| [303](#L303) | if (strtolower($plug) == strtolower($slug)) return true; |
| [304](#L304) |  |
| [305](#L305) | } |
| [306](#L306) |  |
| [307](#L307) | // If nothing just fail |
| [308](#L308) | return false; |
| [309](#L309) |  |
| [310](#L310) | // When I exactly know the letter case... |
| [311](#L311) | // if (!empty($all\_plugins[$slug])) return true; |
| [312](#L312) | // else return false; |
| [313](#L313) |  |
| [314](#L314) | } |
| [315](#L315) |  |
| [316](#L316) | /\* |
| [317](#L317) | \* Install the plugin by slug |
| [318](#L318) | \*/ |
| [319](#L319) | private function install\_plugin($plugin\_zip) { |
| [320](#L320) |  |
| [321](#L321) | // Include upgrader |
| [322](#L322) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [323](#L323) | wp\_cache\_flush(); |
| [324](#L324) |  |
| [325](#L325) | // Initialize WP upgrader & install the plugin |
| [326](#L326) | $upgrader = new \Plugin\_Upgrader(); |
| [327](#L327) | $installed = $upgrader->install($plugin\_zip); |
| [328](#L328) |  |
| [329](#L329) | // Return status or WP Error |
| [330](#L330) | return $installed; |
| [331](#L331) |  |
| [332](#L332) | } |
| [333](#L333) |  |
| [334](#L334) | /\* |
| [335](#L335) | \* Install file |
| [336](#L336) | \*/ |
| [337](#L337) | private function install($slug, $directory\_slug) { |
| [338](#L338) |  |
| [339](#L339) | // Prepare the URLs and full slug |
| [340](#L340) | $plugin\_slug = $slug; |
| [341](#L341) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [342](#L342) |  |
| [343](#L343) | // Make sure the plugin is not installed |
| [344](#L344) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [345](#L345) |  |
| [346](#L346) | // Upgrade the plugin if it's installed somehow |
| [347](#L347) | $this->upgrade\_plugin($plugin\_slug); |
| [348](#L348) | $installed = true; |
| [349](#L349) |  |
| [350](#L350) | // Install instead |
| [351](#L351) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [352](#L352) |  |
| [353](#L353) | // Check if there was any error |
| [354](#L354) | if (!is\_wp\_error($installed) && $installed) { |
| [355](#L355) | $activate = activate\_plugin($plugin\_slug); |
| [356](#L356) |  |
| [357](#L357) | if (is\_null($activate)) { |
| [358](#L358) |  |
| [359](#L359) | $url = admin\_url('', 'admin'); |
| [360](#L360) |  |
| [361](#L361) | // CDP has special alert when installed with quick-install module |
| [362](#L362) | if ($\_POST['slug'] === 'cdp') { |
| [363](#L363) | update\_option('\_cdp\_cool\_installation', true); |
| [364](#L364) | update\_option('\_cdp\_redirect', true); |
| [365](#L365) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [366](#L366) | } |
| [367](#L367) |  |
| [368](#L368) | // Redirection for MPU |
| [369](#L369) | if ($\_POST['slug'] === 'mpu') { |
| [370](#L370) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [371](#L371) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [372](#L372) | } |
| [373](#L373) |  |
| [374](#L374) | // Redirection for USM |
| [375](#L375) | if ($\_POST['slug'] === 'usm') { |
| [376](#L376) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [377](#L377) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [378](#L378) | } |
| [379](#L379) |  |
| [380](#L380) | // Redirection for BMI |
| [381](#L381) | if ($\_POST['slug'] === 'bmi') { |
| [382](#L382) | update\_option('\_bmi\_redirect', true); |
| [383](#L383) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [384](#L384) | } |
| [385](#L385) |  |
| [386](#L386) | // Redirection for RED |
| [387](#L387) | if ($\_POST['slug'] === 'redi') { |
| [388](#L388) | update\_option('irrp\_activation\_redirect', true); |
| [389](#L389) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | // Send success |
| [393](#L393) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [394](#L394) |  |
| [395](#L395) | // I don't know what happened here and if it's even possible |
| [396](#L396) | } else wp\_send\_json\_error(); |
| [397](#L397) |  |
| [398](#L398) | // Send fail |
| [399](#L399) | } else wp\_send\_json\_error(); |
| [400](#L400) |  |
| [401](#L401) | } |
| [402](#L402) |  |
| [403](#L403) | /\* |
| [404](#L404) | \* Add/print the Carousel |
| [405](#L405) | \*/ |
| [406](#L406) | public function \_print() { |
| [407](#L407) |  |
| [408](#L408) | try { |
| [409](#L409) |  |
| [410](#L410) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [411](#L411) |  |
| [412](#L412) | } catch (\Exception $e) { |
| [413](#L413) |  |
| [414](#L414) | return $this->fail(7); |
| [415](#L415) |  |
| [416](#L416) | } catch (\Exception $e) { |
| [417](#L417) |  |
| [418](#L418) | return $this->fail(8); |
| [419](#L419) |  |
| [420](#L420) | } |
| [421](#L421) |  |
| [422](#L422) | } |
| [423](#L423) |  |
| [424](#L424) | /\* |
| [425](#L425) | \* Handle ajax request |
| [426](#L426) | \*/ |
| [427](#L427) | public function handle\_installation() { |
| [428](#L428) |  |
| [429](#L429) | // Handle the slug and install the plugin |
| [430](#L430) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [431](#L431) | if ($slug === 'usm') { |
| [432](#L432) |  |
| [433](#L433) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [434](#L434) |  |
| [435](#L435) | } elseif ($slug === 'bmi') { |
| [436](#L436) |  |
| [437](#L437) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [438](#L438) |  |
| [439](#L439) | } elseif ($slug === 'cdp') { |
| [440](#L440) |  |
| [441](#L441) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [442](#L442) |  |
| [443](#L443) | } elseif ($slug === 'mpu') { |
| [444](#L444) |  |
| [445](#L445) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [446](#L446) |  |
| [447](#L447) | } elseif ($slug == 'redi') { |
| [448](#L448) |  |
| [449](#L449) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [450](#L450) |  |
| [451](#L451) | // Anything else error |
| [452](#L452) | } else wp\_send\_json\_error(); |
| [453](#L453) |  |
| [454](#L454) | } |
| [455](#L455) |  |
| [456](#L456) | } |
| [457](#L457) | } |
| [458](#L458) |  |
| [459](#L459) | // Disallow usage of multiple Carousels + allow only GET requests |
| [460](#L460) | if (!defined('INISEV\_CAROUSEL')) { |
| [461](#L461) |  |
| [462](#L462) | // Make sure settings/menu page slug exsits |
| [463](#L463) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [464](#L464) |  |
| [465](#L465) | // Initialize the Carousel |
| [466](#L466) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [467](#L467) |  |
| [468](#L468) | } |
| [469](#L469) |  |
| [470](#L470) | } |
| [471](#L471) |  |
| [472](#L472) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php?format=txt)
* [Original Format](/export/3220685/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_772abf7d_20250111_122936.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fenhanced-text-widget%2Ftags%2F1.5.6%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/enhanced-text-widget/tags/1.5.6/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/enhanced-text-widget/tags/1.5.6/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [enhanced-text-widget](/browser/enhanced-text-widget?order=name "View enhanced-text-widget")/[tags](/browser/enhanced-text-widget/tags?order=name "View tags")/[1.5.6](/browser/enhanced-text-widget/tags/1.5.6?order=name "View 1.5.6")/[banner](/browser/enhanced-text-widget/tags/1.5.6/banner?order=name "View banner")/[misc.php](/browser/enhanced-text-widget/tags/1.5.6/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2823748/enhanced-text-widget/tags/1.5.6/banner/misc.php "View differences") on this file was [2823748](/changeset/2823748/ "View changeset 2823748"), checked in by iclyde, [2 years ago](/timeline?from=2022-11-24T16%3A41%3A25Z&precision=second "See timeline at 11/24/2022 04:41:25 PM") |
| --- |
| Version 1.5.6 |
| **File size:** 10.7 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel\_Widget')) { |
| [22](#L22) | class Inisev\_Carousel\_Widget { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [35](#L35) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation\_widget', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) | // WordPress globals |
| [63](#L63) | global $menu; |
| [64](#L64) |  |
| [65](#L65) | // Make sure WP\_PLUGIN\_DIR is defined |
| [66](#L66) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [67](#L67) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [68](#L68) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [69](#L69) |  |
| [70](#L70) | // That's in case the developer moved this file somewhere else |
| [71](#L71) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [72](#L72) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [73](#L73) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [74](#L74) |  |
| [75](#L75) | // Make the "probably" slug name |
| [76](#L76) | // $this->page = sanitize\_text\_field(isset($\_GET['page'])); |
| [77](#L77) | $this->slug = $tmp\_name[0]; |
| [78](#L78) | $this->root = $tmp\_root . $this->slug; |
| [79](#L79) |  |
| [80](#L80) | // Make lowercase slug |
| [81](#L81) | $this->slug\_low = $this->makelower($this->slug); |
| [82](#L82) |  |
| [83](#L83) | // We don't need those anymore |
| [84](#L84) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [85](#L85) |  |
| [86](#L86) | // Check if the guess is correct enough |
| [87](#L87) | if (!is\_dir($this->root)) return $this->fail(3); |
| [88](#L88) |  |
| [89](#L89) | // If the hook is correct continue |
| [90](#L90) | $this->setup(); |
| [91](#L91) |  |
| [92](#L92) | } |
| [93](#L93) |  |
| [94](#L94) | /\* |
| [95](#L95) | \* Main setup of this child plugin |
| [96](#L96) | \*/ |
| [97](#L97) | public function setup() { |
| [98](#L98) |  |
| [99](#L99) | // WordPress Global Variables |
| [100](#L100) | global $menu, $pagenow; |
| [101](#L101) | // Make sure $menu exists |
| [102](#L102) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [103](#L103) |  |
| [104](#L104) | if ($pagenow == 'widgets.php' && !defined('INISEV\_CAROUSEL\_WIDGET')) { |
| [105](#L105) |  |
| [106](#L106) | // Initialize Carousel constant |
| [107](#L107) | define('INISEV\_CAROUSEL\_WIDGET', true); |
| [108](#L108) |  |
| [109](#L109) | // Root URL for assets |
| [110](#L110) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [111](#L111) |  |
| [112](#L112) | // Load styles |
| [113](#L113) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [114](#L114) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [115](#L115) |  |
| [116](#L116) | // Print the footer |
| [117](#L117) | add\_action('admin\_footer', [&$this, '\_print'], 1); |
| [118](#L118) | } |
| [119](#L119) |  |
| [120](#L120) | } |
| [121](#L121) |  |
| [122](#L122) | /\* |
| [123](#L123) | \* This function may be used for debugging purposes |
| [124](#L124) | \*/ |
| [125](#L125) | private function fail($code = false) { |
| [126](#L126) |  |
| [127](#L127) | if ($code === false) { |
| [128](#L128) |  |
| [129](#L129) | // Return error code if specified as request ($code === false) |
| [130](#L130) | return $this->error; |
| [131](#L131) |  |
| [132](#L132) | } else { |
| [133](#L133) |  |
| [134](#L134) | // Set the error code and return |
| [135](#L135) | // error\_log($code); |
| [136](#L136) | $this->error = $code; |
| [137](#L137) | return false; |
| [138](#L138) |  |
| [139](#L139) | } |
| [140](#L140) |  |
| [141](#L141) | } |
| [142](#L142) |  |
| [143](#L143) | /\* |
| [144](#L144) | \* Helper function remove \_ -/ characters and make lowercase |
| [145](#L145) | \*/ |
| [146](#L146) | private function makelower($str) { |
| [147](#L147) |  |
| [148](#L148) | $str = str\_replace('\_', '', $str); |
| [149](#L149) | $str = str\_replace('-', '', $str); |
| [150](#L150) | $str = str\_replace('/', '', $str); |
| [151](#L151) | $str = str\_replace('\/', '', $str); |
| [152](#L152) | $str = str\_replace(' ', '', $str); |
| [153](#L153) | $str = strtolower($str); |
| [154](#L154) |  |
| [155](#L155) | return $str; |
| [156](#L156) |  |
| [157](#L157) | } |
| [158](#L158) |  |
| [159](#L159) | /\* |
| [160](#L160) | \* Helper: Include file |
| [161](#L161) | \*/ |
| [162](#L162) | private function \_include($path) { |
| [163](#L163) |  |
| [164](#L164) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [165](#L165) |  |
| [166](#L166) | } |
| [167](#L167) |  |
| [168](#L168) | /\* |
| [169](#L169) | \* Helper: Get asset URL |
| [170](#L170) | \*/ |
| [171](#L171) | private function get\_asset($file) { |
| [172](#L172) |  |
| [173](#L173) | return $this->url . $file; |
| [174](#L174) |  |
| [175](#L175) | } |
| [176](#L176) |  |
| [177](#L177) | /\* |
| [178](#L178) | \* Helper: Get asset and print URL |
| [179](#L179) | \*/ |
| [180](#L180) | private function \_asset($file) { |
| [181](#L181) |  |
| [182](#L182) | echo $this->get\_asset('views/' . $file); |
| [183](#L183) |  |
| [184](#L184) | } |
| [185](#L185) |  |
| [186](#L186) | /\* |
| [187](#L187) | \* Upgrade plugin, this function probably will never be fired |
| [188](#L188) | \*/ |
| [189](#L189) | private function upgrade\_plugin($plugin\_slug) { |
| [190](#L190) |  |
| [191](#L191) | // Include upgrader |
| [192](#L192) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [193](#L193) | wp\_cache\_flush(); |
| [194](#L194) |  |
| [195](#L195) | // Initialize & upgrade the plugin |
| [196](#L196) | $upgrader = new \Plugin\_Upgrader(); |
| [197](#L197) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [198](#L198) |  |
| [199](#L199) | // Return status or WP Error |
| [200](#L200) | return $upgraded; |
| [201](#L201) |  |
| [202](#L202) | } |
| [203](#L203) |  |
| [204](#L204) | /\* |
| [205](#L205) | \* Check if plugin is installed by slug |
| [206](#L206) | \*/ |
| [207](#L207) | private function is\_plugin\_installed($slug) { |
| [208](#L208) |  |
| [209](#L209) | // Get all plugins |
| [210](#L210) | $all\_plugins = get\_plugins(); |
| [211](#L211) |  |
| [212](#L212) | // Make sure all slugs are in lowercase. |
| [213](#L213) | foreach ($all\_plugins as $plug => $v) { |
| [214](#L214) |  |
| [215](#L215) | // Once something match return success |
| [216](#L216) | if (strtolower($plug) == strtolower($slug)) return true; |
| [217](#L217) |  |
| [218](#L218) | } |
| [219](#L219) |  |
| [220](#L220) | // If nothing just fail |
| [221](#L221) | return false; |
| [222](#L222) |  |
| [223](#L223) | // When I exactly know the letter case... |
| [224](#L224) | // if (!empty($all\_plugins[$slug])) return true; |
| [225](#L225) | // else return false; |
| [226](#L226) |  |
| [227](#L227) | } |
| [228](#L228) |  |
| [229](#L229) | /\* |
| [230](#L230) | \* Install the plugin by slug |
| [231](#L231) | \*/ |
| [232](#L232) | private function install\_plugin($plugin\_zip) { |
| [233](#L233) |  |
| [234](#L234) | // Include upgrader |
| [235](#L235) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [236](#L236) | wp\_cache\_flush(); |
| [237](#L237) |  |
| [238](#L238) | // Initialize WP upgrader & install the plugin |
| [239](#L239) | $upgrader = new \Plugin\_Upgrader(); |
| [240](#L240) | $installed = $upgrader->install($plugin\_zip); |
| [241](#L241) |  |
| [242](#L242) | // Return status or WP Error |
| [243](#L243) | return $installed; |
| [244](#L244) |  |
| [245](#L245) | } |
| [246](#L246) |  |
| [247](#L247) | /\* |
| [248](#L248) | \* Install file |
| [249](#L249) | \*/ |
| [250](#L250) | private function install($slug, $directory\_slug) { |
| [251](#L251) |  |
| [252](#L252) | // Prepare the URLs and full slug |
| [253](#L253) | $plugin\_slug = $slug; |
| [254](#L254) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [255](#L255) |  |
| [256](#L256) | // Make sure the plugin is not installed |
| [257](#L257) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [258](#L258) |  |
| [259](#L259) | // Upgrade the plugin if it's installed somehow |
| [260](#L260) | $this->upgrade\_plugin($plugin\_slug); |
| [261](#L261) | $installed = true; |
| [262](#L262) |  |
| [263](#L263) | // Install instead |
| [264](#L264) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [265](#L265) |  |
| [266](#L266) | // Check if there was any error |
| [267](#L267) | if (!is\_wp\_error($installed) && $installed) { |
| [268](#L268) | $activate = activate\_plugin($plugin\_slug); |
| [269](#L269) |  |
| [270](#L270) | if (is\_null($activate)) { |
| [271](#L271) |  |
| [272](#L272) | $url = admin\_url('', 'admin'); |
| [273](#L273) |  |
| [274](#L274) | // CDP has special alert when installed with quick-install module |
| [275](#L275) | if ($\_POST['slug'] === 'cdp') { |
| [276](#L276) | update\_option('\_cdp\_cool\_installation', true); |
| [277](#L277) | update\_option('\_cdp\_redirect', true); |
| [278](#L278) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [279](#L279) | } |
| [280](#L280) |  |
| [281](#L281) | // Redirection for MPU |
| [282](#L282) | if ($\_POST['slug'] === 'mpu') { |
| [283](#L283) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [284](#L284) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [285](#L285) | } |
| [286](#L286) |  |
| [287](#L287) | // Redirection for USM |
| [288](#L288) | if ($\_POST['slug'] === 'usm') { |
| [289](#L289) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [290](#L290) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [291](#L291) | } |
| [292](#L292) |  |
| [293](#L293) | // Redirection for BMI |
| [294](#L294) | if ($\_POST['slug'] === 'bmi') { |
| [295](#L295) | update\_option('\_bmi\_redirect', true); |
| [296](#L296) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [297](#L297) | } |
| [298](#L298) |  |
| [299](#L299) | // Redirection for RED |
| [300](#L300) | if ($\_POST['slug'] === 'redi') { |
| [301](#L301) | update\_option('irrp\_activation\_redirect', true); |
| [302](#L302) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [303](#L303) | } |
| [304](#L304) |  |
| [305](#L305) | // Send success |
| [306](#L306) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [307](#L307) |  |
| [308](#L308) | // I don't know what happened here and if it's even possible |
| [309](#L309) | } else wp\_send\_json\_error(); |
| [310](#L310) |  |
| [311](#L311) | // Send fail |
| [312](#L312) | } else wp\_send\_json\_error(); |
| [313](#L313) |  |
| [314](#L314) | } |
| [315](#L315) |  |
| [316](#L316) | /\* |
| [317](#L317) | \* Add/print the Carousel |
| [318](#L318) | \*/ |
| [319](#L319) | public function \_print() { |
| [320](#L320) | try { |
| [321](#L321) |  |
| [322](#L322) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [323](#L323) |  |
| [324](#L324) | } catch (\Exception $e) { |
| [325](#L325) |  |
| [326](#L326) | return $this->fail(7); |
| [327](#L327) |  |
| [328](#L328) | } catch (\Exception $e) { |
| [329](#L329) |  |
| [330](#L330) | return $this->fail(8); |
| [331](#L331) |  |
| [332](#L332) | } |
| [333](#L333) |  |
| [334](#L334) | } |
| [335](#L335) |  |
| [336](#L336) | /\* |
| [337](#L337) | \* Handle ajax request |
| [338](#L338) | \*/ |
| [339](#L339) | public function handle\_installation() { |
| [340](#L340) |  |
| [341](#L341) | // Handle the slug and install the plugin |
| [342](#L342) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [343](#L343) | if ($slug === 'usm') { |
| [344](#L344) |  |
| [345](#L345) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [346](#L346) |  |
| [347](#L347) | } elseif ($slug === 'bmi') { |
| [348](#L348) |  |
| [349](#L349) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [350](#L350) |  |
| [351](#L351) | } elseif ($slug === 'cdp') { |
| [352](#L352) |  |
| [353](#L353) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [354](#L354) |  |
| [355](#L355) | } elseif ($slug === 'mpu') { |
| [356](#L356) |  |
| [357](#L357) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [358](#L358) |  |
| [359](#L359) | } elseif ($slug == 'redi') { |
| [360](#L360) |  |
| [361](#L361) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [362](#L362) |  |
| [363](#L363) | // Anything else error |
| [364](#L364) | } else wp\_send\_json\_error(); |
| [365](#L365) |  |
| [366](#L366) | } |
| [367](#L367) |  |
| [368](#L368) | } |
| [369](#L369) | } |
| [370](#L370) |  |
| [371](#L371) | if (!defined('INISEV\_CAROUSEL\_WIDGET')) { |
| [372](#L372) | $carousel = new Inisev\_Carousel\_Widget(\_\_FILE\_\_, \_\_DIR\_\_); |
| [373](#L373) |  |
| [374](#L374) | } |
| [375](#L375) |  |
| [376](#L376) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/enhanced-text-widget/tags/1.5.6/banner/misc.php?format=txt)
* [Original Format](/export/3220684/enhanced-text-widget/tags/1.5.6/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_ebd57805_20250111_123133.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fultimate-social-media-icons%2Ftags%2F2.8.0%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/ultimate-social-media-icons/tags/2.8.0/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/ultimate-social-media-icons/tags/2.8.0/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [ultimate-social-media-icons](/browser/ultimate-social-media-icons?order=name "View ultimate-social-media-icons")/[tags](/browser/ultimate-social-media-icons/tags?order=name "View tags")/[2.8.0](/browser/ultimate-social-media-icons/tags/2.8.0?order=name "View 2.8.0")/[banner](/browser/ultimate-social-media-icons/tags/2.8.0/banner?order=name "View banner")/[misc.php](/browser/ultimate-social-media-icons/tags/2.8.0/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2823715/ultimate-social-media-icons/tags/2.8.0/banner/misc.php "View differences") on this file was [2823715](/changeset/2823715/ "View changeset 2823715"), checked in by iclyde, [2 years ago](/timeline?from=2022-11-24T15%3A37%3A47Z&precision=second "See timeline at 11/24/2022 03:37:47 PM") |
| --- |
| Version 2.8.0 |
| **File size:** 13.4 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // Check if the script requires to be in hook |
| [91](#L91) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [92](#L92) | $this->hooked = (current\_action() == '' ? false : true); |
| [93](#L93) |  |
| [94](#L94) | // Add hook if it's required |
| [95](#L95) | if (!$this->hooked) { |
| [96](#L96) |  |
| [97](#L97) | // Hook the script to init |
| [98](#L98) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [99](#L99) |  |
| [100](#L100) | } else { |
| [101](#L101) |  |
| [102](#L102) | // The child plugin is already hooked, check if correctly |
| [103](#L103) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [104](#L104) |  |
| [105](#L105) | // If the hook is correct continue |
| [106](#L106) | $this->setup(); |
| [107](#L107) |  |
| [108](#L108) | } else { |
| [109](#L109) |  |
| [110](#L110) | // Hook the script to init if it's not hooked to it already |
| [111](#L111) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [112](#L112) |  |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | /\* |
| [120](#L120) | \* Main setup of this child plugin |
| [121](#L121) | \*/ |
| [122](#L122) | public function setup() { |
| [123](#L123) |  |
| [124](#L124) | // WordPress Global Variables |
| [125](#L125) | global $menu; |
| [126](#L126) |  |
| [127](#L127) | // Make sure $menu exists |
| [128](#L128) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [129](#L129) |  |
| [130](#L130) | // Get menu slug name |
| [131](#L131) | if (!$this->menu\_name($menu)) return false; |
| [132](#L132) |  |
| [133](#L133) | if ($this->page === $this->menu && !defined('INISEV\_CAROUSEL')) { |
| [134](#L134) |  |
| [135](#L135) | // Initialize Carousel constant |
| [136](#L136) | define('INISEV\_CAROUSEL', true); |
| [137](#L137) |  |
| [138](#L138) | // Root URL for assets |
| [139](#L139) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [140](#L140) |  |
| [141](#L141) | // Load styles |
| [142](#L142) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [143](#L143) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [144](#L144) |  |
| [145](#L145) | // Print the footer |
| [146](#L146) | add\_action('in\_admin\_footer', [&$this, '\_print'], 1); |
| [147](#L147) |  |
| [148](#L148) | } |
| [149](#L149) |  |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | /\* |
| [153](#L153) | \* This function may be used for debugging purposes |
| [154](#L154) | \*/ |
| [155](#L155) | private function fail($code = false) { |
| [156](#L156) |  |
| [157](#L157) | if ($code === false) { |
| [158](#L158) |  |
| [159](#L159) | // Return error code if specified as request ($code === false) |
| [160](#L160) | return $this->error; |
| [161](#L161) |  |
| [162](#L162) | } else { |
| [163](#L163) |  |
| [164](#L164) | // Set the error code and return |
| [165](#L165) | // error\_log($code); |
| [166](#L166) | $this->error = $code; |
| [167](#L167) | return false; |
| [168](#L168) |  |
| [169](#L169) | } |
| [170](#L170) |  |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | /\* |
| [174](#L174) | \* Helper function remove \_ -/ characters and make lowercase |
| [175](#L175) | \*/ |
| [176](#L176) | private function makelower($str) { |
| [177](#L177) |  |
| [178](#L178) | $str = str\_replace('\_', '', $str); |
| [179](#L179) | $str = str\_replace('-', '', $str); |
| [180](#L180) | $str = str\_replace('/', '', $str); |
| [181](#L181) | $str = str\_replace('\/', '', $str); |
| [182](#L182) | $str = str\_replace(' ', '', $str); |
| [183](#L183) | $str = strtolower($str); |
| [184](#L184) |  |
| [185](#L185) | return $str; |
| [186](#L186) |  |
| [187](#L187) | } |
| [188](#L188) |  |
| [189](#L189) | /\* |
| [190](#L190) | \* This function will find slug of menu page |
| [191](#L191) | \*/ |
| [192](#L192) | private function menu\_name(&$menu) { |
| [193](#L193) |  |
| [194](#L194) | // Find the menu slug |
| [195](#L195) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [196](#L196) | foreach ($menu as $priority => $details) { |
| [197](#L197) | if (is\_array($details) && sizeof($details) >= 6) { |
| [198](#L198) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [199](#L199) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [200](#L200) | $this->menu = $details[2]; |
| [201](#L201) | break; |
| [202](#L202) | } |
| [203](#L203) | } |
| [204](#L204) | if (isset($this->menu)) break; |
| [205](#L205) | } |
| [206](#L206) | } |
| [207](#L207) |  |
| [208](#L208) | // MyPopUps exception |
| [209](#L209) | if (!isset($this->menu)) { |
| [210](#L210) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [211](#L211) | if (in\_array($this->slug\_low, $mpu)) { |
| [212](#L212) | $this->menu = 'wp-mypopups'; |
| [213](#L213) | } |
| [214](#L214) | } |
| [215](#L215) |  |
| [216](#L216) | if (!isset($this->menu)) { |
| [217](#L217) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [218](#L218) | if (in\_array($this->slug\_low, $bmi)) { |
| [219](#L219) | $this->menu = 'backup-migration'; |
| [220](#L220) | } |
| [221](#L221) | } |
| [222](#L222) |  |
| [223](#L223) | if (!isset($this->menu)) { |
| [224](#L224) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [225](#L225) | if (in\_array($this->slug\_low, $hhr)) { |
| [226](#L226) | $this->menu = 'httphttpsRemoval'; |
| [227](#L227) | } |
| [228](#L228) | } |
| [229](#L229) |  |
| [230](#L230) | if (!isset($this->menu)) { |
| [231](#L231) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [232](#L232) | if (in\_array($this->slug\_low, $wpc)) { |
| [233](#L233) | $this->menu = 'wp-clone'; |
| [234](#L234) | } |
| [235](#L235) | } |
| [236](#L236) |  |
| [237](#L237) | // Make sure it found something |
| [238](#L238) | if (isset($this->menu)) return true; |
| [239](#L239) | else return $this->fail(6); |
| [240](#L240) |  |
| [241](#L241) | } |
| [242](#L242) |  |
| [243](#L243) | /\* |
| [244](#L244) | \* Helper: Include file |
| [245](#L245) | \*/ |
| [246](#L246) | private function \_include($path) { |
| [247](#L247) |  |
| [248](#L248) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [249](#L249) |  |
| [250](#L250) | } |
| [251](#L251) |  |
| [252](#L252) | /\* |
| [253](#L253) | \* Helper: Get asset URL |
| [254](#L254) | \*/ |
| [255](#L255) | private function get\_asset($file) { |
| [256](#L256) |  |
| [257](#L257) | return $this->url . $file; |
| [258](#L258) |  |
| [259](#L259) | } |
| [260](#L260) |  |
| [261](#L261) | /\* |
| [262](#L262) | \* Helper: Get asset and print URL |
| [263](#L263) | \*/ |
| [264](#L264) | private function \_asset($file) { |
| [265](#L265) |  |
| [266](#L266) | echo $this->get\_asset('views/' . $file); |
| [267](#L267) |  |
| [268](#L268) | } |
| [269](#L269) |  |
| [270](#L270) | /\* |
| [271](#L271) | \* Upgrade plugin, this function probably will never be fired |
| [272](#L272) | \*/ |
| [273](#L273) | private function upgrade\_plugin($plugin\_slug) { |
| [274](#L274) |  |
| [275](#L275) | // Include upgrader |
| [276](#L276) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [277](#L277) | wp\_cache\_flush(); |
| [278](#L278) |  |
| [279](#L279) | // Initialize & upgrade the plugin |
| [280](#L280) | $upgrader = new \Plugin\_Upgrader(); |
| [281](#L281) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [282](#L282) |  |
| [283](#L283) | // Return status or WP Error |
| [284](#L284) | return $upgraded; |
| [285](#L285) |  |
| [286](#L286) | } |
| [287](#L287) |  |
| [288](#L288) | /\* |
| [289](#L289) | \* Check if plugin is installed by slug |
| [290](#L290) | \*/ |
| [291](#L291) | private function is\_plugin\_installed($slug) { |
| [292](#L292) |  |
| [293](#L293) | // Get all plugins |
| [294](#L294) | $all\_plugins = get\_plugins(); |
| [295](#L295) |  |
| [296](#L296) | // Make sure all slugs are in lowercase. |
| [297](#L297) | foreach ($all\_plugins as $plug => $v) { |
| [298](#L298) |  |
| [299](#L299) | // Once something match return success |
| [300](#L300) | if (strtolower($plug) == strtolower($slug)) return true; |
| [301](#L301) |  |
| [302](#L302) | } |
| [303](#L303) |  |
| [304](#L304) | // If nothing just fail |
| [305](#L305) | return false; |
| [306](#L306) |  |
| [307](#L307) | // When I exactly know the letter case... |
| [308](#L308) | // if (!empty($all\_plugins[$slug])) return true; |
| [309](#L309) | // else return false; |
| [310](#L310) |  |
| [311](#L311) | } |
| [312](#L312) |  |
| [313](#L313) | /\* |
| [314](#L314) | \* Install the plugin by slug |
| [315](#L315) | \*/ |
| [316](#L316) | private function install\_plugin($plugin\_zip) { |
| [317](#L317) |  |
| [318](#L318) | // Include upgrader |
| [319](#L319) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [320](#L320) | wp\_cache\_flush(); |
| [321](#L321) |  |
| [322](#L322) | // Initialize WP upgrader & install the plugin |
| [323](#L323) | $upgrader = new \Plugin\_Upgrader(); |
| [324](#L324) | $installed = $upgrader->install($plugin\_zip); |
| [325](#L325) |  |
| [326](#L326) | // Return status or WP Error |
| [327](#L327) | return $installed; |
| [328](#L328) |  |
| [329](#L329) | } |
| [330](#L330) |  |
| [331](#L331) | /\* |
| [332](#L332) | \* Install file |
| [333](#L333) | \*/ |
| [334](#L334) | private function install($slug, $directory\_slug) { |
| [335](#L335) |  |
| [336](#L336) | // Prepare the URLs and full slug |
| [337](#L337) | $plugin\_slug = $slug; |
| [338](#L338) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [339](#L339) |  |
| [340](#L340) | // Make sure the plugin is not installed |
| [341](#L341) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [342](#L342) |  |
| [343](#L343) | // Upgrade the plugin if it's installed somehow |
| [344](#L344) | $this->upgrade\_plugin($plugin\_slug); |
| [345](#L345) | $installed = true; |
| [346](#L346) |  |
| [347](#L347) | // Install instead |
| [348](#L348) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [349](#L349) |  |
| [350](#L350) | // Check if there was any error |
| [351](#L351) | if (!is\_wp\_error($installed) && $installed) { |
| [352](#L352) | $activate = activate\_plugin($plugin\_slug); |
| [353](#L353) |  |
| [354](#L354) | if (is\_null($activate)) { |
| [355](#L355) |  |
| [356](#L356) | $url = admin\_url('', 'admin'); |
| [357](#L357) |  |
| [358](#L358) | // CDP has special alert when installed with quick-install module |
| [359](#L359) | if ($\_POST['slug'] === 'cdp') { |
| [360](#L360) | update\_option('\_cdp\_cool\_installation', true); |
| [361](#L361) | update\_option('\_cdp\_redirect', true); |
| [362](#L362) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [363](#L363) | } |
| [364](#L364) |  |
| [365](#L365) | // Redirection for MPU |
| [366](#L366) | if ($\_POST['slug'] === 'mpu') { |
| [367](#L367) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [368](#L368) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [369](#L369) | } |
| [370](#L370) |  |
| [371](#L371) | // Redirection for USM |
| [372](#L372) | if ($\_POST['slug'] === 'usm') { |
| [373](#L373) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [374](#L374) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [375](#L375) | } |
| [376](#L376) |  |
| [377](#L377) | // Redirection for BMI |
| [378](#L378) | if ($\_POST['slug'] === 'bmi') { |
| [379](#L379) | update\_option('\_bmi\_redirect', true); |
| [380](#L380) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [381](#L381) | } |
| [382](#L382) |  |
| [383](#L383) | // Redirection for RED |
| [384](#L384) | if ($\_POST['slug'] === 'redi') { |
| [385](#L385) | update\_option('irrp\_activation\_redirect', true); |
| [386](#L386) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [387](#L387) | } |
| [388](#L388) |  |
| [389](#L389) | // Send success |
| [390](#L390) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [391](#L391) |  |
| [392](#L392) | // I don't know what happened here and if it's even possible |
| [393](#L393) | } else wp\_send\_json\_error(); |
| [394](#L394) |  |
| [395](#L395) | // Send fail |
| [396](#L396) | } else wp\_send\_json\_error(); |
| [397](#L397) |  |
| [398](#L398) | } |
| [399](#L399) |  |
| [400](#L400) | /\* |
| [401](#L401) | \* Add/print the Carousel |
| [402](#L402) | \*/ |
| [403](#L403) | public function \_print() { |
| [404](#L404) |  |
| [405](#L405) | try { |
| [406](#L406) |  |
| [407](#L407) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [408](#L408) |  |
| [409](#L409) | } catch (\Exception $e) { |
| [410](#L410) |  |
| [411](#L411) | return $this->fail(7); |
| [412](#L412) |  |
| [413](#L413) | } catch (\Exception $e) { |
| [414](#L414) |  |
| [415](#L415) | return $this->fail(8); |
| [416](#L416) |  |
| [417](#L417) | } |
| [418](#L418) |  |
| [419](#L419) | } |
| [420](#L420) |  |
| [421](#L421) | /\* |
| [422](#L422) | \* Handle ajax request |
| [423](#L423) | \*/ |
| [424](#L424) | public function handle\_installation() { |
| [425](#L425) |  |
| [426](#L426) | // Handle the slug and install the plugin |
| [427](#L427) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [428](#L428) | if ($slug === 'usm') { |
| [429](#L429) |  |
| [430](#L430) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [431](#L431) |  |
| [432](#L432) | } elseif ($slug === 'bmi') { |
| [433](#L433) |  |
| [434](#L434) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [435](#L435) |  |
| [436](#L436) | } elseif ($slug === 'cdp') { |
| [437](#L437) |  |
| [438](#L438) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [439](#L439) |  |
| [440](#L440) | } elseif ($slug === 'mpu') { |
| [441](#L441) |  |
| [442](#L442) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [443](#L443) |  |
| [444](#L444) | } elseif ($slug == 'redi') { |
| [445](#L445) |  |
| [446](#L446) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [447](#L447) |  |
| [448](#L448) | // Anything else error |
| [449](#L449) | } else wp\_send\_json\_error(); |
| [450](#L450) |  |
| [451](#L451) | } |
| [452](#L452) |  |
| [453](#L453) | } |
| [454](#L454) | } |
| [455](#L455) |  |
| [456](#L456) | // Disallow usage of multiple Carousels + allow only GET requests |
| [457](#L457) | if (!defined('INISEV\_CAROUSEL')) { |
| [458](#L458) |  |
| [459](#L459) | // Make sure settings/menu page slug exsits |
| [460](#L460) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [461](#L461) |  |
| [462](#L462) | // Initialize the Carousel |
| [463](#L463) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [464](#L464) |  |
| [465](#L465) | } |
| [466](#L466) |  |
| [467](#L467) | } |
| [468](#L468) |  |
| [469](#L469) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/ultimate-social-media-icons/tags/2.8.0/banner/misc.php?format=txt)
* [Original Format](/export/3220685/ultimate-social-media-icons/tags/2.8.0/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_b84c5b67_20250111_123224.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F2944041%2Fultimate-social-media-plus%2Ftags%2F3.5.8%2Fbanner%2Fmisc.php%3Fold%3D2823720%26old_path%3Dultimate-social-media-plus%252Ftags%252F3.5.7%252Fbanner%252Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/2823720/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?old=2944041&old_path=%2Fultimate-social-media-plus%2Ftags%2F3.5.8%2Fbanner%2Fmisc.php)

---

# Changes from [ultimate-social-media-plus/tags/3.5.7/banner/misc.php](/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?rev=2823720 "Show entry in browser") at [r2823720](/changeset/2823720 "Show full changeset") to [ultimate-social-media-plus/tags/3.5.8/banner/misc.php](/browser/ultimate-social-media-plus/tags/3.5.8/banner/misc.php?rev=2944041 "Show entry in browser") at [r2944041](/changeset/2944041 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

File:

1 edited

* [ultimate-social-media-plus/tags/3.5.8/banner/misc.php](/browser/ultimate-social-media-plus/tags/3.5.8/banner/misc.php?rev=2944041 "Show entry in browser")
  (modified)
  ([6 diffs](#file0 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [ultimate-social-media-plus/tags/3.5.8/banner/misc.php](/changeset/2944041/ultimate-social-media-plus/tags/3.5.8/banner/misc.php?old=2823720&old_path=ultimate-social-media-plus%2Ftags%2F3.5.7%2Fbanner%2Fmisc.php "Show the [2823720:2944041] differences restricted to ultimate-social-media-plus/tags/3.5.8/banner/misc.php")

  | [r2823720](/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?rev=2823720#L5 "Show revision 2823720 of this file in browser") | [r2944041](/browser/ultimate-social-media-plus/tags/3.5.8/banner/misc.php?rev=2944041#L5 "Show revision 2944041 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* |
  | 6 | 6 | \* @category Child Plugin |
  | 7 |  | \* @version v0.~~2~~.0 |
  |  | 7 | \* @version v0.3.0 |
  | 8 | 8 | \* @since v0.1.0 |
  | 9 | 9 | \* @author iClyde <kontakt@iclyde.pl> |
  | […](/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?rev=2823720#L53) | […](/browser/ultimate-social-media-plus/tags/3.5.8/banner/misc.php?rev=2944041#L53) |  |
  | 53 | 53 | // Handle the request |
  | 54 | 54 | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
  |  | 55 | add\_action('wp\_ajax\_inisev\_installation\_widget', [&$this, 'handle\_installation']); |
  | 55 | 56 |  |
  | 56 | 57 | } |
  | […](/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?rev=2823720#L127) | […](/browser/ultimate-social-media-plus/tags/3.5.8/banner/misc.php?rev=2944041#L128) |  |
  | 127 | 128 | // Make sure $menu exists |
  | 128 | 129 | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
  |  | 130 | if (!current\_user\_can('install\_plugins')) return $this->fail(10); |
  | 129 | 131 |  |
  | 130 | 132 | // Get menu slug name |
  | 131 | 133 | if (!$this->menu\_name($menu)) return false; |
  | 132 | 134 |  |
  | 133 |  | if (~~$this->page === $this->menu &&~~ !defined('INISEV\_CAROUSEL')) { |
  |  | 135 | if (/\*$this->page === $this->menu && \*/!defined('INISEV\_CAROUSEL')) { |
  | 134 | 136 |  |
  | 135 | 137 | // Initialize Carousel constant |
  | […](/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?rev=2823720#L143) | […](/browser/ultimate-social-media-plus/tags/3.5.8/banner/misc.php?rev=2944041#L145) |  |
  | 143 | 145 | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
  | 144 | 146 |  |
  |  | 147 | // Pass nonce to JS |
  |  | 148 | wp\_localize\_script('inisev-carousel-script', 'inisev\_carousel', [ |
  |  | 149 | 'nonce' => wp\_create\_nonce('inisev\_carousel'), |
  |  | 150 | ], true); |
  |  | 151 |  |
  | 145 | 152 | // Print the footer |
  | 146 |  | add\_action('in\_admin\_footer', [&$this, '\_print'], 1); |
  |  | 153 | if (!has\_action('ins\_global\_print\_carrousel')) { |
  |  | 154 | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
  |  | 155 | } |
  | 147 | 156 |  |
  | 148 | 157 | } |
  | […](/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?rev=2823720#L237) | […](/browser/ultimate-social-media-plus/tags/3.5.8/banner/misc.php?rev=2944041#L246) |  |
  | 237 | 246 | // Make sure it found something |
  | 238 | 247 | if (isset($this->menu)) return true; |
  | 239 |  | else return $this->fail(6); |
  |  | 248 | else return true; |
  |  | 249 | // else return $this->fail(6); |
  | 240 | 250 |  |
  | 241 | 251 | } |
  | […](/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php?rev=2823720#L424) | […](/browser/ultimate-social-media-plus/tags/3.5.8/banner/misc.php?rev=2944041#L434) |  |
  | 424 | 434 | public function handle\_installation() { |
  | 425 | 435 |  |
  |  | 436 | if (check\_ajax\_referer('inisev\_carousel', 'nonce', false) === false) { |
  |  | 437 | return wp\_send\_json\_error(); |
  |  | 438 | } |
  |  | 439 |  |
  |  | 440 | if (!current\_user\_can('install\_plugins')) { |
  |  | 441 | return wp\_send\_json\_error(); |
  |  | 442 | } |
  |  | 443 |  |
  | 426 | 444 | // Handle the slug and install the plugin |
  | 427 | 445 | $slug = sanitize\_text\_field($\_POST['slug']); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2944041&old=2823720&new_path=%2Fultimate-social-media-plus%2Ftags%2F3.5.8%2Fbanner%2Fmisc.php&old_path=%2Fultimate-social-media-plus%2Ftags%2F3.5.7%2Fbanner%2Fmisc.php)
* [Zip Archive](?format=zip&new=2944041&old=2823720&new_path=%2Fultimate-social-media-plus%2Ftags%2F3.5.8%2Fbanner%2Fmisc.php&old_path=%2Fultimate-social-media-plus%2Ftags%2F3.5.7%2Fbanner%2Fmisc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_a5175c7a_20250111_123225.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew_path%3D%252Fcopy-delete-posts%252Ftags%252F1.3.9%26old%3D2923021%26new%3D2923021%26old_path%3D%252Fcopy-delete-posts%252Ftags%252F1.3.8)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/2923021/copy-delete-posts/tags/1.3.8?old=2923021&old_path=%2Fcopy-delete-posts%2Ftags%2F1.3.9)

---

# Changes from [copy-delete-posts/tags/1.3.8](/browser/copy-delete-posts/tags/1.3.8?rev=2923021 "Show entry in browser") at [r2923021](/changeset/2923021 "Show full changeset") to [copy-delete-posts/tags/1.3.9](/browser/copy-delete-posts/tags/1.3.9?rev=2923021 "Show entry in browser") at [r2923021](/changeset/2923021 "Show full changeset")

Location:
[copy-delete-posts/tags](/browser/copy-delete-posts/tags?rev=2923021)
Files:

2 deleted
179 edited

* [1.3.9/analyst/assets/css/customize.css](/browser/copy-delete-posts/tags/1.3.9/analyst/assets/css/customize.css?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/assets/css/customize.css?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fassets%2Fcss%2Fcustomize.css "Show differences"))
* [1.3.9/analyst/assets/img/pencil.png](/browser/copy-delete-posts/tags/1.3.9/analyst/assets/img/pencil.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/assets/img/pencil.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fassets%2Fimg%2Fpencil.png "Show differences"))
* [1.3.9/analyst/assets/img/shield\_question.png](/browser/copy-delete-posts/tags/1.3.9/analyst/assets/img/shield_question.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/assets/img/shield_question.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fassets%2Fimg%2Fshield_question.png "Show differences"))
* [1.3.9/analyst/assets/img/shield\_success.png](/browser/copy-delete-posts/tags/1.3.9/analyst/assets/img/shield_success.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/assets/img/shield_success.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fassets%2Fimg%2Fshield_success.png "Show differences"))
* [1.3.9/analyst/assets/img/smile.png](/browser/copy-delete-posts/tags/1.3.9/analyst/assets/img/smile.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/assets/img/smile.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fassets%2Fimg%2Fsmile.png "Show differences"))
* [1.3.9/analyst/assets/index.php](/browser/copy-delete-posts/tags/1.3.9/analyst/assets/index.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/assets/index.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fassets%2Findex.php "Show differences"))
* [1.3.9/analyst/assets/js/customize.js](/browser/copy-delete-posts/tags/1.3.9/analyst/assets/js/customize.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/assets/js/customize.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fassets%2Fjs%2Fcustomize.js "Show differences"))
* [1.3.9/analyst/autoload.php](/browser/copy-delete-posts/tags/1.3.9/analyst/autoload.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/autoload.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fautoload.php "Show differences"))
* [1.3.9/analyst/index.php](/browser/copy-delete-posts/tags/1.3.9/analyst/index.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/index.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Findex.php "Show differences"))
* [1.3.9/analyst/main.php](/browser/copy-delete-posts/tags/1.3.9/analyst/main.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/main.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fmain.php "Show differences"))
* [1.3.9/analyst/sdk\_resolver.php](/browser/copy-delete-posts/tags/1.3.9/analyst/sdk_resolver.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/sdk_resolver.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsdk_resolver.php "Show differences"))
* [1.3.9/analyst/src/Account/Account.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Account/Account.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Account/Account.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FAccount%2FAccount.php "Show differences"))
* [1.3.9/analyst/src/Account/AccountData.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Account/AccountData.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Account/AccountData.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FAccount%2FAccountData.php "Show differences"))
* [1.3.9/analyst/src/Account/AccountDataFactory.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Account/AccountDataFactory.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Account/AccountDataFactory.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FAccount%2FAccountDataFactory.php "Show differences"))
* [1.3.9/analyst/src/Analyst.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Analyst.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Analyst.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FAnalyst.php "Show differences"))
* [1.3.9/analyst/src/ApiRequestor.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/ApiRequestor.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/ApiRequestor.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FApiRequestor.php "Show differences"))
* [1.3.9/analyst/src/ApiResponse.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/ApiResponse.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/ApiResponse.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FApiResponse.php "Show differences"))
* [1.3.9/analyst/src/Cache/DatabaseCache.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Cache/DatabaseCache.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Cache/DatabaseCache.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FCache%2FDatabaseCache.php "Show differences"))
* [1.3.9/analyst/src/Collector.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Collector.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Collector.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FCollector.php "Show differences"))
* [1.3.9/analyst/src/Contracts/AnalystContract.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/AnalystContract.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/AnalystContract.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FContracts%2FAnalystContract.php "Show differences"))
* [1.3.9/analyst/src/Contracts/CacheContract.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/CacheContract.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/CacheContract.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FContracts%2FCacheContract.php "Show differences"))
* [1.3.9/analyst/src/Contracts/HttpClientContract.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/HttpClientContract.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/HttpClientContract.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FContracts%2FHttpClientContract.php "Show differences"))
* [1.3.9/analyst/src/Contracts/RequestContract.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/RequestContract.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/RequestContract.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FContracts%2FRequestContract.php "Show differences"))
* [1.3.9/analyst/src/Contracts/RequestorContract.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/RequestorContract.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/RequestorContract.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FContracts%2FRequestorContract.php "Show differences"))
* [1.3.9/analyst/src/Contracts/TrackerContract.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/TrackerContract.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Contracts/TrackerContract.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FContracts%2FTrackerContract.php "Show differences"))
* [1.3.9/analyst/src/Core/AbstractFactory.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Core/AbstractFactory.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Core/AbstractFactory.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FCore%2FAbstractFactory.php "Show differences"))
* [1.3.9/analyst/src/Http/CurlHttpClient.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Http/CurlHttpClient.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Http/CurlHttpClient.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FHttp%2FCurlHttpClient.php "Show differences"))
* [1.3.9/analyst/src/Http/DummyHttpClient.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Http/DummyHttpClient.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Http/DummyHttpClient.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FHttp%2FDummyHttpClient.php "Show differences"))
* [1.3.9/analyst/src/Http/Requests/AbstractLoggerRequest.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/AbstractLoggerRequest.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/AbstractLoggerRequest.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FHttp%2FRequests%2FAbstractLoggerRequest.php "Show differences"))
* [1.3.9/analyst/src/Http/Requests/ActivateRequest.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/ActivateRequest.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/ActivateRequest.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FHttp%2FRequests%2FActivateRequest.php "Show differences"))
* [1.3.9/analyst/src/Http/Requests/DeactivateRequest.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/DeactivateRequest.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/DeactivateRequest.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FHttp%2FRequests%2FDeactivateRequest.php "Show differences"))
* [1.3.9/analyst/src/Http/Requests/InstallRequest.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/InstallRequest.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/InstallRequest.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FHttp%2FRequests%2FInstallRequest.php "Show differences"))
* [1.3.9/analyst/src/Http/Requests/OptInRequest.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/OptInRequest.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/OptInRequest.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FHttp%2FRequests%2FOptInRequest.php "Show differences"))
* [1.3.9/analyst/src/Http/Requests/OptOutRequest.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/OptOutRequest.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/OptOutRequest.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FHttp%2FRequests%2FOptOutRequest.php "Show differences"))
* [1.3.9/analyst/src/Http/Requests/UninstallRequest.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/UninstallRequest.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Http/Requests/UninstallRequest.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FHttp%2FRequests%2FUninstallRequest.php "Show differences"))
* [1.3.9/analyst/src/Http/WordPressHttpClient.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Http/WordPressHttpClient.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Http/WordPressHttpClient.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FHttp%2FWordPressHttpClient.php "Show differences"))
* [1.3.9/analyst/src/Mutator.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Mutator.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Mutator.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FMutator.php "Show differences"))
* [1.3.9/analyst/src/Notices/Notice.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Notices/Notice.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Notices/Notice.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FNotices%2FNotice.php "Show differences"))
* [1.3.9/analyst/src/Notices/NoticeFactory.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/Notices/NoticeFactory.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/Notices/NoticeFactory.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2FNotices%2FNoticeFactory.php "Show differences"))
* [1.3.9/analyst/src/helpers.php](/browser/copy-delete-posts/tags/1.3.9/analyst/src/helpers.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/src/helpers.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fsrc%2Fhelpers.php "Show differences"))
* [1.3.9/analyst/templates/forms/deactivate.php](/browser/copy-delete-posts/tags/1.3.9/analyst/templates/forms/deactivate.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/templates/forms/deactivate.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Ftemplates%2Fforms%2Fdeactivate.php "Show differences"))
* [1.3.9/analyst/templates/forms/install.php](/browser/copy-delete-posts/tags/1.3.9/analyst/templates/forms/install.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/templates/forms/install.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Ftemplates%2Fforms%2Finstall.php "Show differences"))
* [1.3.9/analyst/templates/notice.php](/browser/copy-delete-posts/tags/1.3.9/analyst/templates/notice.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/templates/notice.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Ftemplates%2Fnotice.php "Show differences"))
* [1.3.9/analyst/templates/optin.php](/browser/copy-delete-posts/tags/1.3.9/analyst/templates/optin.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/templates/optin.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Ftemplates%2Foptin.php "Show differences"))
* [1.3.9/analyst/templates/optout.php](/browser/copy-delete-posts/tags/1.3.9/analyst/templates/optout.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/templates/optout.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Ftemplates%2Foptout.php "Show differences"))
* [1.3.9/analyst/version.php](/browser/copy-delete-posts/tags/1.3.9/analyst/version.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/analyst/version.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fanalyst%2Fversion.php "Show differences"))
* [1.3.9/assets/css/cdp-editor.min.css](/browser/copy-delete-posts/tags/1.3.9/assets/css/cdp-editor.min.css?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/css/cdp-editor.min.css?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fcss%2Fcdp-editor.min.css "Show differences"))
* [1.3.9/assets/css/cdp-global.min.css](/browser/copy-delete-posts/tags/1.3.9/assets/css/cdp-global.min.css?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/css/cdp-global.min.css?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fcss%2Fcdp-global.min.css "Show differences"))
* [1.3.9/assets/css/cdp-gutenberg.min.css](/browser/copy-delete-posts/tags/1.3.9/assets/css/cdp-gutenberg.min.css?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/css/cdp-gutenberg.min.css?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fcss%2Fcdp-gutenberg.min.css "Show differences"))
* [1.3.9/assets/css/cdp-select.min.css](/browser/copy-delete-posts/tags/1.3.9/assets/css/cdp-select.min.css?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/css/cdp-select.min.css?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fcss%2Fcdp-select.min.css "Show differences"))
* [1.3.9/assets/css/cdp-user.min.css](/browser/copy-delete-posts/tags/1.3.9/assets/css/cdp-user.min.css?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/css/cdp-user.min.css?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fcss%2Fcdp-user.min.css "Show differences"))
* [1.3.9/assets/css/cdp.min.css](/browser/copy-delete-posts/tags/1.3.9/assets/css/cdp.min.css?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/css/cdp.min.css?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fcss%2Fcdp.min.css "Show differences"))
* [1.3.9/assets/css/cdp.tooltip.min.css](/browser/copy-delete-posts/tags/1.3.9/assets/css/cdp.tooltip.min.css?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/css/cdp.tooltip.min.css?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fcss%2Fcdp.tooltip.min.css "Show differences"))
* [1.3.9/assets/fonts/Montserrat-Bold.woff2](/browser/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-Bold.woff2?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-Bold.woff2?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Ffonts%2FMontserrat-Bold.woff2 "Show differences"))
* [1.3.9/assets/fonts/Montserrat-ExtraBold.woff2](/browser/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-ExtraBold.woff2?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-ExtraBold.woff2?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Ffonts%2FMontserrat-ExtraBold.woff2 "Show differences"))
* [1.3.9/assets/fonts/Montserrat-ExtraLight.woff2](/browser/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-ExtraLight.woff2?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-ExtraLight.woff2?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Ffonts%2FMontserrat-ExtraLight.woff2 "Show differences"))
* [1.3.9/assets/fonts/Montserrat-Italic.woff2](/browser/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-Italic.woff2?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-Italic.woff2?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Ffonts%2FMontserrat-Italic.woff2 "Show differences"))
* [1.3.9/assets/fonts/Montserrat-Light.woff2](/browser/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-Light.woff2?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-Light.woff2?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Ffonts%2FMontserrat-Light.woff2 "Show differences"))
* [1.3.9/assets/fonts/Montserrat-Medium.woff2](/browser/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-Medium.woff2?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-Medium.woff2?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Ffonts%2FMontserrat-Medium.woff2 "Show differences"))
* [1.3.9/assets/fonts/Montserrat-Regular.woff2](/browser/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-Regular.woff2?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-Regular.woff2?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Ffonts%2FMontserrat-Regular.woff2 "Show differences"))
* [1.3.9/assets/fonts/Montserrat-SemiBold.woff2](/browser/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-SemiBold.woff2?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/fonts/Montserrat-SemiBold.woff2?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Ffonts%2FMontserrat-SemiBold.woff2 "Show differences"))
* [1.3.9/assets/imgs/alert\_error.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/alert_error.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/alert_error.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Falert_error.png "Show differences"))
* [1.3.9/assets/imgs/alert\_info.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/alert_info.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/alert_info.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Falert_info.png "Show differences"))
* [1.3.9/assets/imgs/alert\_success.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/alert_success.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/alert_success.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Falert_success.png "Show differences"))
* [1.3.9/assets/imgs/alert\_warning.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/alert_warning.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/alert_warning.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Falert_warning.png "Show differences"))
* [1.3.9/assets/imgs/arrow.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/arrow.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/arrow.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Farrow.png "Show differences"))
* [1.3.9/assets/imgs/close.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/close.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/close.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Fclose.png "Show differences"))
* [1.3.9/assets/imgs/copy.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/copy.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/copy.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Fcopy.png "Show differences"))
* [1.3.9/assets/imgs/icon.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/icon.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/icon.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Ficon.png "Show differences"))
* [1.3.9/assets/imgs/info.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/info.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/info.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Finfo.png "Show differences"))
* [1.3.9/assets/imgs/intro\_1.gif](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/intro_1.gif?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/intro_1.gif?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Fintro_1.gif "Show differences"))
* [1.3.9/assets/imgs/intro\_2.gif](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/intro_2.gif?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/intro_2.gif?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Fintro_2.gif "Show differences"))
* [1.3.9/assets/imgs/intro\_3.gif](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/intro_3.gif?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/intro_3.gif?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Fintro_3.gif "Show differences"))
* [1.3.9/assets/imgs/premium.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/premium.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/premium.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Fpremium.png "Show differences"))
* [1.3.9/assets/imgs/redirections.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/redirections.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/redirections.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Fredirections.png "Show differences"))
* [1.3.9/assets/imgs/search.png](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/search.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/search.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Fsearch.png "Show differences"))
* [1.3.9/assets/imgs/smile.svg](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/smile.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/smile.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Fsmile.svg "Show differences"))
* [1.3.9/assets/imgs/stars.gif](/browser/copy-delete-posts/tags/1.3.9/assets/imgs/stars.gif?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/imgs/stars.gif?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fimgs%2Fstars.gif "Show differences"))
* [1.3.9/assets/js/cdp-bulk.min.js](/browser/copy-delete-posts/tags/1.3.9/assets/js/cdp-bulk.min.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/js/cdp-bulk.min.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fjs%2Fcdp-bulk.min.js "Show differences"))
* [1.3.9/assets/js/cdp-global.min.js](/browser/copy-delete-posts/tags/1.3.9/assets/js/cdp-global.min.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/js/cdp-global.min.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fjs%2Fcdp-global.min.js "Show differences"))
* [1.3.9/assets/js/cdp-gutenberg.min.js](/browser/copy-delete-posts/tags/1.3.9/assets/js/cdp-gutenberg.min.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/js/cdp-gutenberg.min.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fjs%2Fcdp-gutenberg.min.js "Show differences"))
* [1.3.9/assets/js/cdp-icPagination.min.js](/browser/copy-delete-posts/tags/1.3.9/assets/js/cdp-icPagination.min.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/js/cdp-icPagination.min.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fjs%2Fcdp-icPagination.min.js "Show differences"))
* [1.3.9/assets/js/cdp-modal.min.js](/browser/copy-delete-posts/tags/1.3.9/assets/js/cdp-modal.min.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/js/cdp-modal.min.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fjs%2Fcdp-modal.min.js "Show differences"))
* [1.3.9/assets/js/cdp-select.min.js](/browser/copy-delete-posts/tags/1.3.9/assets/js/cdp-select.min.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/js/cdp-select.min.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fjs%2Fcdp-select.min.js "Show differences"))
* [1.3.9/assets/js/cdp-user.min.js](/browser/copy-delete-posts/tags/1.3.9/assets/js/cdp-user.min.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/js/cdp-user.min.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fjs%2Fcdp-user.min.js "Show differences"))
* [1.3.9/assets/js/cdp.min.js](/browser/copy-delete-posts/tags/1.3.9/assets/js/cdp.min.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/js/cdp.min.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fjs%2Fcdp.min.js "Show differences"))
* [1.3.9/assets/js/cdp.tooltip.min.js](/browser/copy-delete-posts/tags/1.3.9/assets/js/cdp.tooltip.min.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/assets/js/cdp.tooltip.min.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fassets%2Fjs%2Fcdp.tooltip.min.js "Show differences"))
* [1.3.9/banner/assets/index.min.js](/browser/copy-delete-posts/tags/1.3.9/banner/assets/index.min.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/assets/index.min.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fassets%2Findex.min.js "Show differences"))
* [1.3.9/banner/assets/style.min.css](/browser/copy-delete-posts/tags/1.3.9/banner/assets/style.min.css?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/assets/style.min.css?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fassets%2Fstyle.min.css "Show differences"))
* [1.3.9/banner/misc.php](/browser/copy-delete-posts/tags/1.3.9/banner/misc.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/misc.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fmisc.php "Show differences"))
* [1.3.9/banner/views/index.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/index.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/index.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Findex.php "Show differences"))
* [1.3.9/banner/views/projects/bmi/imgs/background-images.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/imgs/background-images.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/imgs/background-images.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fbmi%2Fimgs%2Fbackground-images.png "Show differences"))
* [1.3.9/banner/views/projects/bmi/imgs/background-texture-grey.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/imgs/background-texture-grey.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/imgs/background-texture-grey.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fbmi%2Fimgs%2Fbackground-texture-grey.png "Show differences"))
* [1.3.9/banner/views/projects/bmi/imgs/big-colored-logo.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/imgs/big-colored-logo.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/imgs/big-colored-logo.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fbmi%2Fimgs%2Fbig-colored-logo.png "Show differences"))
* [1.3.9/banner/views/projects/bmi/imgs/colored-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/imgs/colored-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/imgs/colored-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fbmi%2Fimgs%2Fcolored-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/bmi/imgs/white-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/imgs/white-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/imgs/white-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fbmi%2Fimgs%2Fwhite-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/bmi/install.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/install.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/install.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fbmi%2Finstall.php "Show differences"))
* [1.3.9/banner/views/projects/bmi/installed.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/installed.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/installed.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fbmi%2Finstalled.php "Show differences"))
* [1.3.9/banner/views/projects/bmi/upgrade.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/upgrade.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/bmi/upgrade.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fbmi%2Fupgrade.php "Show differences"))
* [1.3.9/banner/views/projects/cdp/imgs/background-texture-grey.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/background-texture-grey.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/background-texture-grey.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fcdp%2Fimgs%2Fbackground-texture-grey.png "Show differences"))
* [1.3.9/banner/views/projects/cdp/imgs/big-colored-logo.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/big-colored-logo.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/big-colored-logo.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fcdp%2Fimgs%2Fbig-colored-logo.png "Show differences"))
* [1.3.9/banner/views/projects/cdp/imgs/colored-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/colored-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/colored-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fcdp%2Fimgs%2Fcolored-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/cdp/imgs/main-background-image.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/main-background-image.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/main-background-image.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fcdp%2Fimgs%2Fmain-background-image.png "Show differences"))
* [1.3.9/banner/views/projects/cdp/imgs/secondary-background-image.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/secondary-background-image.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/secondary-background-image.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fcdp%2Fimgs%2Fsecondary-background-image.svg "Show differences"))
* [1.3.9/banner/views/projects/cdp/imgs/white-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/white-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/imgs/white-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fcdp%2Fimgs%2Fwhite-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/cdp/install.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/install.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/install.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fcdp%2Finstall.php "Show differences"))
* [1.3.9/banner/views/projects/cdp/installed.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/installed.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/installed.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fcdp%2Finstalled.php "Show differences"))
* [1.3.9/banner/views/projects/cdp/upgrade.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/upgrade.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/cdp/upgrade.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fcdp%2Fupgrade.php "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/background-bottom-left.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/background-bottom-left.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/background-bottom-left.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fbackground-bottom-left.svg "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/background-bottom-right.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/background-bottom-right.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/background-bottom-right.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fbackground-bottom-right.svg "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/background-top-left.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/background-top-left.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/background-top-left.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fbackground-top-left.svg "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/background-top-right.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/background-top-right.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/background-top-right.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fbackground-top-right.svg "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/big-colored-logo.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/big-colored-logo.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/big-colored-logo.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fbig-colored-logo.png "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/colored-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/colored-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/colored-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fcolored-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/face1.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/face1.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/face1.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fface1.png "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/face2.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/face2.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/face2.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fface2.png "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/face3.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/face3.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/face3.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fface3.png "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/face4.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/face4.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/face4.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fface4.png "Show differences"))
* [1.3.9/banner/views/projects/fit/imgs/white-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/white-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/imgs/white-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Fimgs%2Fwhite-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/fit/install.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/install.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/fit/install.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ffit%2Finstall.php "Show differences"))
* [1.3.9/banner/views/projects/mpu/imgs/background-images.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/background-images.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/background-images.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fmpu%2Fimgs%2Fbackground-images.png "Show differences"))
* [1.3.9/banner/views/projects/mpu/imgs/background-texture-green.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/background-texture-green.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/background-texture-green.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fmpu%2Fimgs%2Fbackground-texture-green.png "Show differences"))
* [1.3.9/banner/views/projects/mpu/imgs/background-texture-grey.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/background-texture-grey.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/background-texture-grey.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fmpu%2Fimgs%2Fbackground-texture-grey.png "Show differences"))
* [1.3.9/banner/views/projects/mpu/imgs/big-colored-logo.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/big-colored-logo.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/big-colored-logo.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fmpu%2Fimgs%2Fbig-colored-logo.png "Show differences"))
* [1.3.9/banner/views/projects/mpu/imgs/colored-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/colored-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/colored-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fmpu%2Fimgs%2Fcolored-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/mpu/imgs/white-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/white-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/imgs/white-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fmpu%2Fimgs%2Fwhite-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/mpu/install.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/install.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/install.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fmpu%2Finstall.php "Show differences"))
* [1.3.9/banner/views/projects/mpu/installed.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/installed.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/mpu/installed.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fmpu%2Finstalled.php "Show differences"))
* [1.3.9/banner/views/projects/red/imgs/background-top-left.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/red/imgs/background-top-left.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/red/imgs/background-top-left.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fred%2Fimgs%2Fbackground-top-left.svg "Show differences"))
* [1.3.9/banner/views/projects/red/imgs/big-colored-logo-rr.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/red/imgs/big-colored-logo-rr.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/red/imgs/big-colored-logo-rr.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fred%2Fimgs%2Fbig-colored-logo-rr.png "Show differences"))
* [1.3.9/banner/views/projects/red/imgs/colored-logo-rr.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/red/imgs/colored-logo-rr.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/red/imgs/colored-logo-rr.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fred%2Fimgs%2Fcolored-logo-rr.svg "Show differences"))
* [1.3.9/banner/views/projects/red/imgs/main-background-image.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/red/imgs/main-background-image.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/red/imgs/main-background-image.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fred%2Fimgs%2Fmain-background-image.png "Show differences"))
* [1.3.9/banner/views/projects/red/imgs/not-colored-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/red/imgs/not-colored-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/red/imgs/not-colored-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fred%2Fimgs%2Fnot-colored-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/red/install.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/red/install.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/red/install.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fred%2Finstall.php "Show differences"))
* [1.3.9/banner/views/projects/red/installed.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/red/installed.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/red/installed.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fred%2Finstalled.php "Show differences"))
* [1.3.9/banner/views/projects/twp/imgs/background-image-1.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/background-image-1.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/background-image-1.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ftwp%2Fimgs%2Fbackground-image-1.svg "Show differences"))
* [1.3.9/banner/views/projects/twp/imgs/background-image-2.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/background-image-2.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/background-image-2.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ftwp%2Fimgs%2Fbackground-image-2.svg "Show differences"))
* [1.3.9/banner/views/projects/twp/imgs/background-image-3.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/background-image-3.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/background-image-3.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ftwp%2Fimgs%2Fbackground-image-3.svg "Show differences"))
* [1.3.9/banner/views/projects/twp/imgs/big-colored-logo.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/big-colored-logo.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/big-colored-logo.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ftwp%2Fimgs%2Fbig-colored-logo.png "Show differences"))
* [1.3.9/banner/views/projects/twp/imgs/colored-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/colored-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/colored-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ftwp%2Fimgs%2Fcolored-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/twp/imgs/white-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/white-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/imgs/white-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ftwp%2Fimgs%2Fwhite-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/twp/install.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/install.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/twp/install.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Ftwp%2Finstall.php "Show differences"))
* [1.3.9/banner/views/projects/usm/imgs/background-icons.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/background-icons.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/background-icons.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fimgs%2Fbackground-icons.png "Show differences"))
* [1.3.9/banner/views/projects/usm/imgs/background-image.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/background-image.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/background-image.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fimgs%2Fbackground-image.png "Show differences"))
* [1.3.9/banner/views/projects/usm/imgs/big-colored-logo.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/big-colored-logo.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/big-colored-logo.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fimgs%2Fbig-colored-logo.png "Show differences"))
* [1.3.9/banner/views/projects/usm/imgs/colored-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/colored-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/colored-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fimgs%2Fcolored-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/usm/imgs/play-icon.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/play-icon.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/play-icon.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fimgs%2Fplay-icon.png "Show differences"))
* [1.3.9/banner/views/projects/usm/imgs/ribbon-icon.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/ribbon-icon.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/ribbon-icon.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fimgs%2Fribbon-icon.png "Show differences"))
* [1.3.9/banner/views/projects/usm/imgs/video-background.png](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/video-background.png?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/video-background.png?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fimgs%2Fvideo-background.png "Show differences"))
* [1.3.9/banner/views/projects/usm/imgs/white-logo.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/white-logo.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/imgs/white-logo.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fimgs%2Fwhite-logo.svg "Show differences"))
* [1.3.9/banner/views/projects/usm/install.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/install.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/install.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Finstall.php "Show differences"))
* [1.3.9/banner/views/projects/usm/installed.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/installed.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/installed.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Finstalled.php "Show differences"))
* [1.3.9/banner/views/projects/usm/part-install.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/part-install.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/part-install.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fpart-install.php "Show differences"))
* [1.3.9/banner/views/projects/usm/part-upgrade.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/part-upgrade.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/part-upgrade.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fpart-upgrade.php "Show differences"))
* [1.3.9/banner/views/projects/usm/upgrade.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/upgrade.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/projects/usm/upgrade.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fprojects%2Fusm%2Fupgrade.php "Show differences"))
* [1.3.9/banner/views/static/imgs/already-installed.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/static/imgs/already-installed.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/static/imgs/already-installed.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fstatic%2Fimgs%2Falready-installed.svg "Show differences"))
* [1.3.9/banner/views/static/imgs/check-icon.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/static/imgs/check-icon.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/static/imgs/check-icon.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fstatic%2Fimgs%2Fcheck-icon.svg "Show differences"))
* [1.3.9/banner/views/static/imgs/clock-icon.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/static/imgs/clock-icon.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/static/imgs/clock-icon.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fstatic%2Fimgs%2Fclock-icon.svg "Show differences"))
* [1.3.9/banner/views/static/imgs/rating.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/static/imgs/rating.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/static/imgs/rating.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fstatic%2Fimgs%2Frating.svg "Show differences"))
* [1.3.9/banner/views/static/imgs/white-arrow-right.svg](/browser/copy-delete-posts/tags/1.3.9/banner/views/static/imgs/white-arrow-right.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/static/imgs/white-arrow-right.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fstatic%2Fimgs%2Fwhite-arrow-right.svg "Show differences"))
* [1.3.9/banner/views/static/tabs.php](/browser/copy-delete-posts/tags/1.3.9/banner/views/static/tabs.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/banner/views/static/tabs.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fviews%2Fstatic%2Ftabs.php "Show differences"))
* [1.3.9/copy-delete-posts.php](/browser/copy-delete-posts/tags/1.3.9/copy-delete-posts.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/copy-delete-posts.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fcopy-delete-posts.php "Show differences"))
* [1.3.9/menu/configuration.php](/browser/copy-delete-posts/tags/1.3.9/menu/configuration.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/menu/configuration.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmenu%2Fconfiguration.php "Show differences"))
* [1.3.9/menu/modal.php](/browser/copy-delete-posts/tags/1.3.9/menu/modal.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/menu/modal.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmenu%2Fmodal.php "Show differences"))
* [1.3.9/menu/notifications.php](/browser/copy-delete-posts/tags/1.3.9/menu/notifications.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/menu/notifications.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmenu%2Fnotifications.php "Show differences"))
* [1.3.9/menu/tooltips.php](/browser/copy-delete-posts/tags/1.3.9/menu/tooltips.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/menu/tooltips.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmenu%2Ftooltips.php "Show differences"))
* [1.3.9/menu/variables.php](/browser/copy-delete-posts/tags/1.3.9/menu/variables.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/menu/variables.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmenu%2Fvariables.php "Show differences"))
* [1.3.8/modules/blackfriday2022](/browser/copy-delete-posts/tags/1.3.8/modules/blackfriday2022?rev=2861831 "Show what was removed (content at revision 2923021)")
  (deleted)
* [1.3.8/modules/deactivation](/browser/copy-delete-posts/tags/1.3.8/modules/deactivation?rev=2861831 "Show what was removed (content at revision 2923021)")
  (deleted)
* [1.3.9/modules/review/assets/css/style.css](/browser/copy-delete-posts/tags/1.3.9/modules/review/assets/css/style.css?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/modules/review/assets/css/style.css?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmodules%2Freview%2Fassets%2Fcss%2Fstyle.css "Show differences"))
* [1.3.9/modules/review/assets/imgs/BM-background.svg](/browser/copy-delete-posts/tags/1.3.9/modules/review/assets/imgs/BM-background.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/modules/review/assets/imgs/BM-background.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmodules%2Freview%2Fassets%2Fimgs%2FBM-background.svg "Show differences"))
* [1.3.9/modules/review/assets/imgs/background-pattern.svg](/browser/copy-delete-posts/tags/1.3.9/modules/review/assets/imgs/background-pattern.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/modules/review/assets/imgs/background-pattern.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmodules%2Freview%2Fassets%2Fimgs%2Fbackground-pattern.svg "Show differences"))
* [1.3.9/modules/review/assets/imgs/main-image-part-2.svg](/browser/copy-delete-posts/tags/1.3.9/modules/review/assets/imgs/main-image-part-2.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/modules/review/assets/imgs/main-image-part-2.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmodules%2Freview%2Fassets%2Fimgs%2Fmain-image-part-2.svg "Show differences"))
* [1.3.9/modules/review/assets/imgs/main-image-part-4.svg](/browser/copy-delete-posts/tags/1.3.9/modules/review/assets/imgs/main-image-part-4.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/modules/review/assets/imgs/main-image-part-4.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmodules%2Freview%2Fassets%2Fimgs%2Fmain-image-part-4.svg "Show differences"))
* [1.3.9/modules/review/assets/imgs/main-image.svg](/browser/copy-delete-posts/tags/1.3.9/modules/review/assets/imgs/main-image.svg?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/modules/review/assets/imgs/main-image.svg?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmodules%2Freview%2Fassets%2Fimgs%2Fmain-image.svg "Show differences"))
* [1.3.9/modules/review/assets/js/script.js](/browser/copy-delete-posts/tags/1.3.9/modules/review/assets/js/script.js?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/modules/review/assets/js/script.js?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmodules%2Freview%2Fassets%2Fjs%2Fscript.js "Show differences"))
* [1.3.9/modules/review/review.php](/browser/copy-delete-posts/tags/1.3.9/modules/review/review.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/modules/review/review.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmodules%2Freview%2Freview.php "Show differences"))
* [1.3.9/modules/review/views/banner.php](/browser/copy-delete-posts/tags/1.3.9/modules/review/views/banner.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/modules/review/views/banner.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmodules%2Freview%2Fviews%2Fbanner.php "Show differences"))
* [1.3.9/modules/tryOutPlugins/tryOutPlugins.php](/browser/copy-delete-posts/tags/1.3.9/modules/tryOutPlugins/tryOutPlugins.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/modules/tryOutPlugins/tryOutPlugins.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fmodules%2FtryOutPlugins%2FtryOutPlugins.php "Show differences"))
* [1.3.9/post/handler.php](/browser/copy-delete-posts/tags/1.3.9/post/handler.php?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/post/handler.php?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Fpost%2Fhandler.php "Show differences"))
* [1.3.9/readme.txt](/browser/copy-delete-posts/tags/1.3.9/readme.txt?rev=2875665 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/2875665/copy-delete-posts/tags/1.3.9/readme.txt?old=2861831&old_path=copy-delete-posts%2Ftags%2F1.3.8%2Freadme.txt "Show differences"))

**Changeset view not shown**, since the total size (10.8 MB) exceeds
[4.0 MB](/wiki/TracIni#changeset-max_diff_bytes-option)

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2923021&old=2923021&new_path=%2Fcopy-delete-posts%2Ftags%2F1.3.9&old_path=%2Fcopy-delete-posts%2Ftags%2F1.3.8)
* [Zip Archive](?format=zip&new=2923021&old=2923021&new_path=%2Fcopy-delete-posts%2Ftags%2F1.3.9&old_path=%2Fcopy-delete-posts%2Ftags%2F1.3.8)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_a89c0f32_20250111_123016.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fhttp-https-remover%2Ftags%2F3.2.3%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/http-https-remover/tags/3.2.3/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/http-https-remover/tags/3.2.3/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [http-https-remover](/browser/http-https-remover?order=name "View http-https-remover")/[tags](/browser/http-https-remover/tags?order=name "View tags")/[3.2.3](/browser/http-https-remover/tags/3.2.3?order=name "View 3.2.3")/[banner](/browser/http-https-remover/tags/3.2.3/banner?order=name "View banner")/[misc.php](/browser/http-https-remover/tags/3.2.3/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2823769/http-https-remover/tags/3.2.3/banner/misc.php "View differences") on this file was [2823769](/changeset/2823769/ "View changeset 2823769"), checked in by iclyde, [2 years ago](/timeline?from=2022-11-24T17%3A24%3A23Z&precision=second "See timeline at 11/24/2022 05:24:23 PM") |
| --- |
| Version 3.2.3 |
| **File size:** 13.5 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // Check if the script requires to be in hook |
| [91](#L91) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [92](#L92) | $this->hooked = (current\_action() == '' ? false : true); |
| [93](#L93) |  |
| [94](#L94) | // Add hook if it's required |
| [95](#L95) | if (!$this->hooked) { |
| [96](#L96) |  |
| [97](#L97) | // Hook the script to init |
| [98](#L98) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [99](#L99) |  |
| [100](#L100) | } else { |
| [101](#L101) |  |
| [102](#L102) | // The child plugin is already hooked, check if correctly |
| [103](#L103) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [104](#L104) |  |
| [105](#L105) | // If the hook is correct continue |
| [106](#L106) | $this->setup(); |
| [107](#L107) |  |
| [108](#L108) | } else { |
| [109](#L109) |  |
| [110](#L110) | // Hook the script to init if it's not hooked to it already |
| [111](#L111) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [112](#L112) |  |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | /\* |
| [120](#L120) | \* Main setup of this child plugin |
| [121](#L121) | \*/ |
| [122](#L122) | public function setup() { |
| [123](#L123) |  |
| [124](#L124) | // WordPress Global Variables |
| [125](#L125) | global $menu; |
| [126](#L126) |  |
| [127](#L127) | // Make sure $menu exists |
| [128](#L128) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [129](#L129) |  |
| [130](#L130) | // Get menu slug name |
| [131](#L131) | if (!$this->menu\_name($menu)) return false; |
| [132](#L132) |  |
| [133](#L133) | if (/\*$this->page === $this->menu && \*/!defined('INISEV\_CAROUSEL')) { |
| [134](#L134) |  |
| [135](#L135) | // Initialize Carousel constant |
| [136](#L136) | define('INISEV\_CAROUSEL', true); |
| [137](#L137) |  |
| [138](#L138) | // Root URL for assets |
| [139](#L139) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [140](#L140) |  |
| [141](#L141) | // Load styles |
| [142](#L142) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [143](#L143) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [144](#L144) |  |
| [145](#L145) | // Print the footer |
| [146](#L146) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [147](#L147) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [148](#L148) | } |
| [149](#L149) |  |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | } |
| [153](#L153) |  |
| [154](#L154) | /\* |
| [155](#L155) | \* This function may be used for debugging purposes |
| [156](#L156) | \*/ |
| [157](#L157) | private function fail($code = false) { |
| [158](#L158) |  |
| [159](#L159) | if ($code === false) { |
| [160](#L160) |  |
| [161](#L161) | // Return error code if specified as request ($code === false) |
| [162](#L162) | return $this->error; |
| [163](#L163) |  |
| [164](#L164) | } else { |
| [165](#L165) |  |
| [166](#L166) | // Set the error code and return |
| [167](#L167) | // error\_log($code); |
| [168](#L168) | $this->error = $code; |
| [169](#L169) | return false; |
| [170](#L170) |  |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | } |
| [174](#L174) |  |
| [175](#L175) | /\* |
| [176](#L176) | \* Helper function remove \_ -/ characters and make lowercase |
| [177](#L177) | \*/ |
| [178](#L178) | private function makelower($str) { |
| [179](#L179) |  |
| [180](#L180) | $str = str\_replace('\_', '', $str); |
| [181](#L181) | $str = str\_replace('-', '', $str); |
| [182](#L182) | $str = str\_replace('/', '', $str); |
| [183](#L183) | $str = str\_replace('\/', '', $str); |
| [184](#L184) | $str = str\_replace(' ', '', $str); |
| [185](#L185) | $str = strtolower($str); |
| [186](#L186) |  |
| [187](#L187) | return $str; |
| [188](#L188) |  |
| [189](#L189) | } |
| [190](#L190) |  |
| [191](#L191) | /\* |
| [192](#L192) | \* This function will find slug of menu page |
| [193](#L193) | \*/ |
| [194](#L194) | private function menu\_name(&$menu) { |
| [195](#L195) |  |
| [196](#L196) | // Find the menu slug |
| [197](#L197) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [198](#L198) | foreach ($menu as $priority => $details) { |
| [199](#L199) | if (is\_array($details) && sizeof($details) >= 6) { |
| [200](#L200) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [201](#L201) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [202](#L202) | $this->menu = $details[2]; |
| [203](#L203) | break; |
| [204](#L204) | } |
| [205](#L205) | } |
| [206](#L206) | if (isset($this->menu)) break; |
| [207](#L207) | } |
| [208](#L208) | } |
| [209](#L209) |  |
| [210](#L210) | // MyPopUps exception |
| [211](#L211) | if (!isset($this->menu)) { |
| [212](#L212) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [213](#L213) | if (in\_array($this->slug\_low, $mpu)) { |
| [214](#L214) | $this->menu = 'wp-mypopups'; |
| [215](#L215) | } |
| [216](#L216) | } |
| [217](#L217) |  |
| [218](#L218) | if (!isset($this->menu)) { |
| [219](#L219) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [220](#L220) | if (in\_array($this->slug\_low, $bmi)) { |
| [221](#L221) | $this->menu = 'backup-migration'; |
| [222](#L222) | } |
| [223](#L223) | } |
| [224](#L224) |  |
| [225](#L225) | if (!isset($this->menu)) { |
| [226](#L226) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [227](#L227) | if (in\_array($this->slug\_low, $hhr)) { |
| [228](#L228) | $this->menu = 'httphttpsRemoval'; |
| [229](#L229) | } |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | if (!isset($this->menu)) { |
| [233](#L233) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [234](#L234) | if (in\_array($this->slug\_low, $wpc)) { |
| [235](#L235) | $this->menu = 'wp-clone'; |
| [236](#L236) | } |
| [237](#L237) | } |
| [238](#L238) |  |
| [239](#L239) | // Make sure it found something |
| [240](#L240) | if (isset($this->menu)) return true; |
| [241](#L241) | else return true; |
| [242](#L242) | // else return $this->fail(6); |
| [243](#L243) |  |
| [244](#L244) | } |
| [245](#L245) |  |
| [246](#L246) | /\* |
| [247](#L247) | \* Helper: Include file |
| [248](#L248) | \*/ |
| [249](#L249) | private function \_include($path) { |
| [250](#L250) |  |
| [251](#L251) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [252](#L252) |  |
| [253](#L253) | } |
| [254](#L254) |  |
| [255](#L255) | /\* |
| [256](#L256) | \* Helper: Get asset URL |
| [257](#L257) | \*/ |
| [258](#L258) | private function get\_asset($file) { |
| [259](#L259) |  |
| [260](#L260) | return $this->url . $file; |
| [261](#L261) |  |
| [262](#L262) | } |
| [263](#L263) |  |
| [264](#L264) | /\* |
| [265](#L265) | \* Helper: Get asset and print URL |
| [266](#L266) | \*/ |
| [267](#L267) | private function \_asset($file) { |
| [268](#L268) |  |
| [269](#L269) | echo $this->get\_asset('views/' . $file); |
| [270](#L270) |  |
| [271](#L271) | } |
| [272](#L272) |  |
| [273](#L273) | /\* |
| [274](#L274) | \* Upgrade plugin, this function probably will never be fired |
| [275](#L275) | \*/ |
| [276](#L276) | private function upgrade\_plugin($plugin\_slug) { |
| [277](#L277) |  |
| [278](#L278) | // Include upgrader |
| [279](#L279) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [280](#L280) | wp\_cache\_flush(); |
| [281](#L281) |  |
| [282](#L282) | // Initialize & upgrade the plugin |
| [283](#L283) | $upgrader = new \Plugin\_Upgrader(); |
| [284](#L284) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [285](#L285) |  |
| [286](#L286) | // Return status or WP Error |
| [287](#L287) | return $upgraded; |
| [288](#L288) |  |
| [289](#L289) | } |
| [290](#L290) |  |
| [291](#L291) | /\* |
| [292](#L292) | \* Check if plugin is installed by slug |
| [293](#L293) | \*/ |
| [294](#L294) | private function is\_plugin\_installed($slug) { |
| [295](#L295) |  |
| [296](#L296) | // Get all plugins |
| [297](#L297) | $all\_plugins = get\_plugins(); |
| [298](#L298) |  |
| [299](#L299) | // Make sure all slugs are in lowercase. |
| [300](#L300) | foreach ($all\_plugins as $plug => $v) { |
| [301](#L301) |  |
| [302](#L302) | // Once something match return success |
| [303](#L303) | if (strtolower($plug) == strtolower($slug)) return true; |
| [304](#L304) |  |
| [305](#L305) | } |
| [306](#L306) |  |
| [307](#L307) | // If nothing just fail |
| [308](#L308) | return false; |
| [309](#L309) |  |
| [310](#L310) | // When I exactly know the letter case... |
| [311](#L311) | // if (!empty($all\_plugins[$slug])) return true; |
| [312](#L312) | // else return false; |
| [313](#L313) |  |
| [314](#L314) | } |
| [315](#L315) |  |
| [316](#L316) | /\* |
| [317](#L317) | \* Install the plugin by slug |
| [318](#L318) | \*/ |
| [319](#L319) | private function install\_plugin($plugin\_zip) { |
| [320](#L320) |  |
| [321](#L321) | // Include upgrader |
| [322](#L322) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [323](#L323) | wp\_cache\_flush(); |
| [324](#L324) |  |
| [325](#L325) | // Initialize WP upgrader & install the plugin |
| [326](#L326) | $upgrader = new \Plugin\_Upgrader(); |
| [327](#L327) | $installed = $upgrader->install($plugin\_zip); |
| [328](#L328) |  |
| [329](#L329) | // Return status or WP Error |
| [330](#L330) | return $installed; |
| [331](#L331) |  |
| [332](#L332) | } |
| [333](#L333) |  |
| [334](#L334) | /\* |
| [335](#L335) | \* Install file |
| [336](#L336) | \*/ |
| [337](#L337) | private function install($slug, $directory\_slug) { |
| [338](#L338) |  |
| [339](#L339) | // Prepare the URLs and full slug |
| [340](#L340) | $plugin\_slug = $slug; |
| [341](#L341) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [342](#L342) |  |
| [343](#L343) | // Make sure the plugin is not installed |
| [344](#L344) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [345](#L345) |  |
| [346](#L346) | // Upgrade the plugin if it's installed somehow |
| [347](#L347) | $this->upgrade\_plugin($plugin\_slug); |
| [348](#L348) | $installed = true; |
| [349](#L349) |  |
| [350](#L350) | // Install instead |
| [351](#L351) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [352](#L352) |  |
| [353](#L353) | // Check if there was any error |
| [354](#L354) | if (!is\_wp\_error($installed) && $installed) { |
| [355](#L355) | $activate = activate\_plugin($plugin\_slug); |
| [356](#L356) |  |
| [357](#L357) | if (is\_null($activate)) { |
| [358](#L358) |  |
| [359](#L359) | $url = admin\_url('', 'admin'); |
| [360](#L360) |  |
| [361](#L361) | // CDP has special alert when installed with quick-install module |
| [362](#L362) | if ($\_POST['slug'] === 'cdp') { |
| [363](#L363) | update\_option('\_cdp\_cool\_installation', true); |
| [364](#L364) | update\_option('\_cdp\_redirect', true); |
| [365](#L365) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [366](#L366) | } |
| [367](#L367) |  |
| [368](#L368) | // Redirection for MPU |
| [369](#L369) | if ($\_POST['slug'] === 'mpu') { |
| [370](#L370) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [371](#L371) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [372](#L372) | } |
| [373](#L373) |  |
| [374](#L374) | // Redirection for USM |
| [375](#L375) | if ($\_POST['slug'] === 'usm') { |
| [376](#L376) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [377](#L377) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [378](#L378) | } |
| [379](#L379) |  |
| [380](#L380) | // Redirection for BMI |
| [381](#L381) | if ($\_POST['slug'] === 'bmi') { |
| [382](#L382) | update\_option('\_bmi\_redirect', true); |
| [383](#L383) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [384](#L384) | } |
| [385](#L385) |  |
| [386](#L386) | // Redirection for RED |
| [387](#L387) | if ($\_POST['slug'] === 'redi') { |
| [388](#L388) | update\_option('irrp\_activation\_redirect', true); |
| [389](#L389) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | // Send success |
| [393](#L393) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [394](#L394) |  |
| [395](#L395) | // I don't know what happened here and if it's even possible |
| [396](#L396) | } else wp\_send\_json\_error(); |
| [397](#L397) |  |
| [398](#L398) | // Send fail |
| [399](#L399) | } else wp\_send\_json\_error(); |
| [400](#L400) |  |
| [401](#L401) | } |
| [402](#L402) |  |
| [403](#L403) | /\* |
| [404](#L404) | \* Add/print the Carousel |
| [405](#L405) | \*/ |
| [406](#L406) | public function \_print() { |
| [407](#L407) |  |
| [408](#L408) | try { |
| [409](#L409) |  |
| [410](#L410) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [411](#L411) |  |
| [412](#L412) | } catch (\Exception $e) { |
| [413](#L413) |  |
| [414](#L414) | return $this->fail(7); |
| [415](#L415) |  |
| [416](#L416) | } catch (\Exception $e) { |
| [417](#L417) |  |
| [418](#L418) | return $this->fail(8); |
| [419](#L419) |  |
| [420](#L420) | } |
| [421](#L421) |  |
| [422](#L422) | } |
| [423](#L423) |  |
| [424](#L424) | /\* |
| [425](#L425) | \* Handle ajax request |
| [426](#L426) | \*/ |
| [427](#L427) | public function handle\_installation() { |
| [428](#L428) |  |
| [429](#L429) | // Handle the slug and install the plugin |
| [430](#L430) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [431](#L431) | if ($slug === 'usm') { |
| [432](#L432) |  |
| [433](#L433) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [434](#L434) |  |
| [435](#L435) | } elseif ($slug === 'bmi') { |
| [436](#L436) |  |
| [437](#L437) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [438](#L438) |  |
| [439](#L439) | } elseif ($slug === 'cdp') { |
| [440](#L440) |  |
| [441](#L441) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [442](#L442) |  |
| [443](#L443) | } elseif ($slug === 'mpu') { |
| [444](#L444) |  |
| [445](#L445) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [446](#L446) |  |
| [447](#L447) | } elseif ($slug == 'redi') { |
| [448](#L448) |  |
| [449](#L449) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [450](#L450) |  |
| [451](#L451) | // Anything else error |
| [452](#L452) | } else wp\_send\_json\_error(); |
| [453](#L453) |  |
| [454](#L454) | } |
| [455](#L455) |  |
| [456](#L456) | } |
| [457](#L457) | } |
| [458](#L458) |  |
| [459](#L459) | // Disallow usage of multiple Carousels + allow only GET requests |
| [460](#L460) | if (!defined('INISEV\_CAROUSEL')) { |
| [461](#L461) |  |
| [462](#L462) | // Make sure settings/menu page slug exsits |
| [463](#L463) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [464](#L464) |  |
| [465](#L465) | // Initialize the Carousel |
| [466](#L466) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [467](#L467) |  |
| [468](#L468) | } |
| [469](#L469) |  |
| [470](#L470) | } |
| [471](#L471) |  |
| [472](#L472) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/http-https-remover/tags/3.2.3/banner/misc.php?format=txt)
* [Original Format](/export/3220685/http-https-remover/tags/3.2.3/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_120aabba_20250111_123056.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fredirect-redirection%2Ftags%2F1.1.3%2Fincludes%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/redirect-redirection/tags/1.1.3/includes/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/redirect-redirection/tags/1.1.3/includes/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [redirect-redirection](/browser/redirect-redirection?order=name "View redirect-redirection")/[tags](/browser/redirect-redirection/tags?order=name "View tags")/[1.1.3](/browser/redirect-redirection/tags/1.1.3?order=name "View 1.1.3")/[includes](/browser/redirect-redirection/tags/1.1.3/includes?order=name "View includes")/[banner](/browser/redirect-redirection/tags/1.1.3/includes/banner?order=name "View banner")/[misc.php](/browser/redirect-redirection/tags/1.1.3/includes/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2823719/redirect-redirection/tags/1.1.3/includes/banner/misc.php "View differences") on this file was [2823719](/changeset/2823719/ "View changeset 2823719"), checked in by iclyde, [2 years ago](/timeline?from=2022-11-24T15%3A39%3A22Z&precision=second "See timeline at 11/24/2022 03:39:22 PM") |
| --- |
| Version 1.1.3 |
| **File size:** 13.5 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // Check if the script requires to be in hook |
| [91](#L91) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [92](#L92) | $this->hooked = (current\_action() == '' ? false : true); |
| [93](#L93) |  |
| [94](#L94) | // Add hook if it's required |
| [95](#L95) | if (!$this->hooked) { |
| [96](#L96) |  |
| [97](#L97) | // Hook the script to init |
| [98](#L98) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [99](#L99) |  |
| [100](#L100) | } else { |
| [101](#L101) |  |
| [102](#L102) | // The child plugin is already hooked, check if correctly |
| [103](#L103) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [104](#L104) |  |
| [105](#L105) | // If the hook is correct continue |
| [106](#L106) | $this->setup(); |
| [107](#L107) |  |
| [108](#L108) | } else { |
| [109](#L109) |  |
| [110](#L110) | // Hook the script to init if it's not hooked to it already |
| [111](#L111) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [112](#L112) |  |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | /\* |
| [120](#L120) | \* Main setup of this child plugin |
| [121](#L121) | \*/ |
| [122](#L122) | public function setup() { |
| [123](#L123) |  |
| [124](#L124) | // WordPress Global Variables |
| [125](#L125) | global $menu; |
| [126](#L126) |  |
| [127](#L127) | // Make sure $menu exists |
| [128](#L128) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [129](#L129) |  |
| [130](#L130) | // Get menu slug name |
| [131](#L131) | if (!$this->menu\_name($menu)) return false; |
| [132](#L132) |  |
| [133](#L133) | if (/\*$this->page === $this->menu && \*/!defined('INISEV\_CAROUSEL')) { |
| [134](#L134) |  |
| [135](#L135) | // Initialize Carousel constant |
| [136](#L136) | define('INISEV\_CAROUSEL', true); |
| [137](#L137) |  |
| [138](#L138) | // Root URL for assets |
| [139](#L139) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [140](#L140) |  |
| [141](#L141) | // Load styles |
| [142](#L142) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [143](#L143) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [144](#L144) |  |
| [145](#L145) | // Print the footer |
| [146](#L146) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [147](#L147) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [148](#L148) | } |
| [149](#L149) |  |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | } |
| [153](#L153) |  |
| [154](#L154) | /\* |
| [155](#L155) | \* This function may be used for debugging purposes |
| [156](#L156) | \*/ |
| [157](#L157) | private function fail($code = false) { |
| [158](#L158) |  |
| [159](#L159) | if ($code === false) { |
| [160](#L160) |  |
| [161](#L161) | // Return error code if specified as request ($code === false) |
| [162](#L162) | return $this->error; |
| [163](#L163) |  |
| [164](#L164) | } else { |
| [165](#L165) |  |
| [166](#L166) | // Set the error code and return |
| [167](#L167) | // error\_log($code); |
| [168](#L168) | $this->error = $code; |
| [169](#L169) | return false; |
| [170](#L170) |  |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | } |
| [174](#L174) |  |
| [175](#L175) | /\* |
| [176](#L176) | \* Helper function remove \_ -/ characters and make lowercase |
| [177](#L177) | \*/ |
| [178](#L178) | private function makelower($str) { |
| [179](#L179) |  |
| [180](#L180) | $str = str\_replace('\_', '', $str); |
| [181](#L181) | $str = str\_replace('-', '', $str); |
| [182](#L182) | $str = str\_replace('/', '', $str); |
| [183](#L183) | $str = str\_replace('\/', '', $str); |
| [184](#L184) | $str = str\_replace(' ', '', $str); |
| [185](#L185) | $str = strtolower($str); |
| [186](#L186) |  |
| [187](#L187) | return $str; |
| [188](#L188) |  |
| [189](#L189) | } |
| [190](#L190) |  |
| [191](#L191) | /\* |
| [192](#L192) | \* This function will find slug of menu page |
| [193](#L193) | \*/ |
| [194](#L194) | private function menu\_name(&$menu) { |
| [195](#L195) |  |
| [196](#L196) | // Find the menu slug |
| [197](#L197) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [198](#L198) | foreach ($menu as $priority => $details) { |
| [199](#L199) | if (is\_array($details) && sizeof($details) >= 6) { |
| [200](#L200) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [201](#L201) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [202](#L202) | $this->menu = $details[2]; |
| [203](#L203) | break; |
| [204](#L204) | } |
| [205](#L205) | } |
| [206](#L206) | if (isset($this->menu)) break; |
| [207](#L207) | } |
| [208](#L208) | } |
| [209](#L209) |  |
| [210](#L210) | // MyPopUps exception |
| [211](#L211) | if (!isset($this->menu)) { |
| [212](#L212) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [213](#L213) | if (in\_array($this->slug\_low, $mpu)) { |
| [214](#L214) | $this->menu = 'wp-mypopups'; |
| [215](#L215) | } |
| [216](#L216) | } |
| [217](#L217) |  |
| [218](#L218) | if (!isset($this->menu)) { |
| [219](#L219) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [220](#L220) | if (in\_array($this->slug\_low, $bmi)) { |
| [221](#L221) | $this->menu = 'backup-migration'; |
| [222](#L222) | } |
| [223](#L223) | } |
| [224](#L224) |  |
| [225](#L225) | if (!isset($this->menu)) { |
| [226](#L226) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [227](#L227) | if (in\_array($this->slug\_low, $hhr)) { |
| [228](#L228) | $this->menu = 'httphttpsRemoval'; |
| [229](#L229) | } |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | if (!isset($this->menu)) { |
| [233](#L233) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [234](#L234) | if (in\_array($this->slug\_low, $wpc)) { |
| [235](#L235) | $this->menu = 'wp-clone'; |
| [236](#L236) | } |
| [237](#L237) | } |
| [238](#L238) |  |
| [239](#L239) | // Make sure it found something |
| [240](#L240) | if (isset($this->menu)) return true; |
| [241](#L241) | else return true; |
| [242](#L242) | // else return $this->fail(6); |
| [243](#L243) |  |
| [244](#L244) | } |
| [245](#L245) |  |
| [246](#L246) | /\* |
| [247](#L247) | \* Helper: Include file |
| [248](#L248) | \*/ |
| [249](#L249) | private function \_include($path) { |
| [250](#L250) |  |
| [251](#L251) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [252](#L252) |  |
| [253](#L253) | } |
| [254](#L254) |  |
| [255](#L255) | /\* |
| [256](#L256) | \* Helper: Get asset URL |
| [257](#L257) | \*/ |
| [258](#L258) | private function get\_asset($file) { |
| [259](#L259) |  |
| [260](#L260) | return $this->url . $file; |
| [261](#L261) |  |
| [262](#L262) | } |
| [263](#L263) |  |
| [264](#L264) | /\* |
| [265](#L265) | \* Helper: Get asset and print URL |
| [266](#L266) | \*/ |
| [267](#L267) | private function \_asset($file) { |
| [268](#L268) |  |
| [269](#L269) | echo $this->get\_asset('views/' . $file); |
| [270](#L270) |  |
| [271](#L271) | } |
| [272](#L272) |  |
| [273](#L273) | /\* |
| [274](#L274) | \* Upgrade plugin, this function probably will never be fired |
| [275](#L275) | \*/ |
| [276](#L276) | private function upgrade\_plugin($plugin\_slug) { |
| [277](#L277) |  |
| [278](#L278) | // Include upgrader |
| [279](#L279) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [280](#L280) | wp\_cache\_flush(); |
| [281](#L281) |  |
| [282](#L282) | // Initialize & upgrade the plugin |
| [283](#L283) | $upgrader = new \Plugin\_Upgrader(); |
| [284](#L284) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [285](#L285) |  |
| [286](#L286) | // Return status or WP Error |
| [287](#L287) | return $upgraded; |
| [288](#L288) |  |
| [289](#L289) | } |
| [290](#L290) |  |
| [291](#L291) | /\* |
| [292](#L292) | \* Check if plugin is installed by slug |
| [293](#L293) | \*/ |
| [294](#L294) | private function is\_plugin\_installed($slug) { |
| [295](#L295) |  |
| [296](#L296) | // Get all plugins |
| [297](#L297) | $all\_plugins = get\_plugins(); |
| [298](#L298) |  |
| [299](#L299) | // Make sure all slugs are in lowercase. |
| [300](#L300) | foreach ($all\_plugins as $plug => $v) { |
| [301](#L301) |  |
| [302](#L302) | // Once something match return success |
| [303](#L303) | if (strtolower($plug) == strtolower($slug)) return true; |
| [304](#L304) |  |
| [305](#L305) | } |
| [306](#L306) |  |
| [307](#L307) | // If nothing just fail |
| [308](#L308) | return false; |
| [309](#L309) |  |
| [310](#L310) | // When I exactly know the letter case... |
| [311](#L311) | // if (!empty($all\_plugins[$slug])) return true; |
| [312](#L312) | // else return false; |
| [313](#L313) |  |
| [314](#L314) | } |
| [315](#L315) |  |
| [316](#L316) | /\* |
| [317](#L317) | \* Install the plugin by slug |
| [318](#L318) | \*/ |
| [319](#L319) | private function install\_plugin($plugin\_zip) { |
| [320](#L320) |  |
| [321](#L321) | // Include upgrader |
| [322](#L322) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [323](#L323) | wp\_cache\_flush(); |
| [324](#L324) |  |
| [325](#L325) | // Initialize WP upgrader & install the plugin |
| [326](#L326) | $upgrader = new \Plugin\_Upgrader(); |
| [327](#L327) | $installed = $upgrader->install($plugin\_zip); |
| [328](#L328) |  |
| [329](#L329) | // Return status or WP Error |
| [330](#L330) | return $installed; |
| [331](#L331) |  |
| [332](#L332) | } |
| [333](#L333) |  |
| [334](#L334) | /\* |
| [335](#L335) | \* Install file |
| [336](#L336) | \*/ |
| [337](#L337) | private function install($slug, $directory\_slug) { |
| [338](#L338) |  |
| [339](#L339) | // Prepare the URLs and full slug |
| [340](#L340) | $plugin\_slug = $slug; |
| [341](#L341) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [342](#L342) |  |
| [343](#L343) | // Make sure the plugin is not installed |
| [344](#L344) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [345](#L345) |  |
| [346](#L346) | // Upgrade the plugin if it's installed somehow |
| [347](#L347) | $this->upgrade\_plugin($plugin\_slug); |
| [348](#L348) | $installed = true; |
| [349](#L349) |  |
| [350](#L350) | // Install instead |
| [351](#L351) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [352](#L352) |  |
| [353](#L353) | // Check if there was any error |
| [354](#L354) | if (!is\_wp\_error($installed) && $installed) { |
| [355](#L355) | $activate = activate\_plugin($plugin\_slug); |
| [356](#L356) |  |
| [357](#L357) | if (is\_null($activate)) { |
| [358](#L358) |  |
| [359](#L359) | $url = admin\_url('', 'admin'); |
| [360](#L360) |  |
| [361](#L361) | // CDP has special alert when installed with quick-install module |
| [362](#L362) | if ($\_POST['slug'] === 'cdp') { |
| [363](#L363) | update\_option('\_cdp\_cool\_installation', true); |
| [364](#L364) | update\_option('\_cdp\_redirect', true); |
| [365](#L365) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [366](#L366) | } |
| [367](#L367) |  |
| [368](#L368) | // Redirection for MPU |
| [369](#L369) | if ($\_POST['slug'] === 'mpu') { |
| [370](#L370) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [371](#L371) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [372](#L372) | } |
| [373](#L373) |  |
| [374](#L374) | // Redirection for USM |
| [375](#L375) | if ($\_POST['slug'] === 'usm') { |
| [376](#L376) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [377](#L377) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [378](#L378) | } |
| [379](#L379) |  |
| [380](#L380) | // Redirection for BMI |
| [381](#L381) | if ($\_POST['slug'] === 'bmi') { |
| [382](#L382) | update\_option('\_bmi\_redirect', true); |
| [383](#L383) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [384](#L384) | } |
| [385](#L385) |  |
| [386](#L386) | // Redirection for RED |
| [387](#L387) | if ($\_POST['slug'] === 'redi') { |
| [388](#L388) | update\_option('irrp\_activation\_redirect', true); |
| [389](#L389) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | // Send success |
| [393](#L393) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [394](#L394) |  |
| [395](#L395) | // I don't know what happened here and if it's even possible |
| [396](#L396) | } else wp\_send\_json\_error(); |
| [397](#L397) |  |
| [398](#L398) | // Send fail |
| [399](#L399) | } else wp\_send\_json\_error(); |
| [400](#L400) |  |
| [401](#L401) | } |
| [402](#L402) |  |
| [403](#L403) | /\* |
| [404](#L404) | \* Add/print the Carousel |
| [405](#L405) | \*/ |
| [406](#L406) | public function \_print() { |
| [407](#L407) |  |
| [408](#L408) | try { |
| [409](#L409) |  |
| [410](#L410) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [411](#L411) |  |
| [412](#L412) | } catch (\Exception $e) { |
| [413](#L413) |  |
| [414](#L414) | return $this->fail(7); |
| [415](#L415) |  |
| [416](#L416) | } catch (\Exception $e) { |
| [417](#L417) |  |
| [418](#L418) | return $this->fail(8); |
| [419](#L419) |  |
| [420](#L420) | } |
| [421](#L421) |  |
| [422](#L422) | } |
| [423](#L423) |  |
| [424](#L424) | /\* |
| [425](#L425) | \* Handle ajax request |
| [426](#L426) | \*/ |
| [427](#L427) | public function handle\_installation() { |
| [428](#L428) |  |
| [429](#L429) | // Handle the slug and install the plugin |
| [430](#L430) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [431](#L431) | if ($slug === 'usm') { |
| [432](#L432) |  |
| [433](#L433) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [434](#L434) |  |
| [435](#L435) | } elseif ($slug === 'bmi') { |
| [436](#L436) |  |
| [437](#L437) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [438](#L438) |  |
| [439](#L439) | } elseif ($slug === 'cdp') { |
| [440](#L440) |  |
| [441](#L441) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [442](#L442) |  |
| [443](#L443) | } elseif ($slug === 'mpu') { |
| [444](#L444) |  |
| [445](#L445) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [446](#L446) |  |
| [447](#L447) | } elseif ($slug == 'redi') { |
| [448](#L448) |  |
| [449](#L449) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [450](#L450) |  |
| [451](#L451) | // Anything else error |
| [452](#L452) | } else wp\_send\_json\_error(); |
| [453](#L453) |  |
| [454](#L454) | } |
| [455](#L455) |  |
| [456](#L456) | } |
| [457](#L457) | } |
| [458](#L458) |  |
| [459](#L459) | // Disallow usage of multiple Carousels + allow only GET requests |
| [460](#L460) | if (!defined('INISEV\_CAROUSEL')) { |
| [461](#L461) |  |
| [462](#L462) | // Make sure settings/menu page slug exsits |
| [463](#L463) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [464](#L464) |  |
| [465](#L465) | // Initialize the Carousel |
| [466](#L466) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [467](#L467) |  |
| [468](#L468) | } |
| [469](#L469) |  |
| [470](#L470) | } |
| [471](#L471) |  |
| [472](#L472) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/redirect-redirection/tags/1.1.3/includes/banner/misc.php?format=txt)
* [Original Format](/export/3220685/redirect-redirection/tags/1.1.3/includes/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_ba38f730_20250111_123228.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Inisev Plugins (Various Versions) - Missing Authorization on handle\_installation function

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Inisev Plugins (Various Versions) - Missing Authorization on handle\_installation function

4.3

**Missing Authorization**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

| CVE | [CVE-2023-0958](https://www.cve.org/CVERecord?id=CVE-2023-0958) |
| --- | --- |
| CVSS | 4.3 (Medium) |
| Publicly Published | July 27, 2023 |
| Last Updated | January 22, 2024 |
| Researcher | [Chloe Chamberland - Wordfence](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/chloe-chamberland) |

### Description

Several plugins for WordPress by Inisev are vulnerable to unauthorized installation of plugins due to a missing capability check on the handle\_installation function that is called via the inisev\_installation AJAX aciton in various versions. This makes it possible for authenticated attackers with minimal permissions, such as subscribers, to install select plugins from Inisev on vulnerable sites. CVE-2023-38514 appears to be a duplicate of this vulnerability.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php#L427)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/ultimate-social-media-icons/tags/2.8.0/banner/misc.php#L424)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/copy-delete-posts/tags/1.3.8/banner/misc.php#L426)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/wp-clone-by-wp-academy/tags/2.3.7/modules/banner/misc.php#L438)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/enhanced-text-widget/tags/1.5.6/banner/misc.php#L339)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/backup-backup/tags/1.2.7/includes/banner/misc.php#L427)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/redirect-redirection/tags/1.1.3/includes/banner/misc.php#L427)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/ultimate-posts-widget/tags/2.2.4/banner/misc.php#L343)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/http-https-remover/tags/3.2.3/banner/misc.php#L427)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/pop-up-pop-up/tags/1.1.9/modules/banner/misc.php#L427)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?old_path=%2Fcopy-delete-posts%2Ftags%2F1.3.8&old=2923021&new_path=%2Fcopy-delete-posts%2Ftags%2F1.3.9&new=2923021&sfp_email=&sfph_mail=)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/ultimate-social-media-icons/tags/2.8.2/banner/misc.php#L434)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/copy-delete-posts/tags/1.4.0/banner/misc.php#L434)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/wp-clone-by-wp-academy/tags/2.3.8/modules/banner/misc.php#L432)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/enhanced-text-widget/tags/1.5.7/banner/misc.php#L351)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/backup-backup/tags/1.2.8/includes/banner/misc.php#L434)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/ultimate-posts-widget/tags/2.2.5/banner/misc.php#L351)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/pop-up-pop-up/tags/1.2.0/modules/banner/misc.php#L432)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/ultimate-social-media-plus/tags/3.5.7/banner/misc.php#L424)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=2823769%40http-https-remover%2Ftags%2F3.2.3&new=2944114%40http-https-remover%2Ftags%2F3.2.4)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=2823770%40feedburner-alternative-and-rss-redirect%2Ftags%2F3.7&new=2944116%40feedburner-alternative-and-rss-redirect%2Ftags%2F3.8#file115)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/2944041/ultimate-social-media-plus/tags/3.5.8/banner/misc.php?old=2823720&old_path=ultimate-social-media-plus%2Ftags%2F3.5.7%2Fbanner%2Fmisc.php)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fdetail%2Finisev-plugins-various-versions-missing-authorization-on-handle-installation-function&t=Inisev%20Plugins%20%28Various%20Versions%29%20-%20Missing%20Authorization%20on%20handle_installation%20function "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fdetail%2Finisev-plugins-various-versions-missing-authorization-on-handle-installation-function&text=Inisev%20Plugins%20%28Various%20Versions%29%20-%20Missing%20Authorization%20on%20handle_installation%20function "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fdetail%2Finisev-plugins-various-versions-missing-authorization-on-handle-installation-function "LinkedIn")
Email

## 11 affected software packages

#### [Backup Migration](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/backup-backup)

| Software Type | Plugin |
| --- | --- |
| Software Slug | backup-backup [(view on wordpress.org)](https://wordpress.org/plugins/backup-backup) |
| Patched? | Yes |
| Remediation | Update to version 1.2.8, or a newer patched version |
| Affected Version | * <= 1.2.7 |
| Patched Version | * 1.2.8 |

#### [Clone](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/wp-clone-by-wp-academy)

| Software Type | Plugin |
| --- | --- |
| Software Slug | wp-clone-by-wp-academy [(view on wordpress.org)](https://wordpress.org/plugins/wp-clone-by-wp-academy) |
| Patched? | Yes |
| Remediation | Update to version 2.3.8, or a newer patched version |
| Affected Version | * <= 2.3.7 |
| Patched Version | * 2.3.8 |

#### [Duplicate Post](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/copy-delete-posts)

| Software Type | Plugin |
| --- | --- |
| Software Slug | copy-delete-posts [(view on wordpress.org)](https://wordpress.org/plugins/copy-delete-posts) |
| Patched? | Yes |
| Remediation | Update to version 1.4.0, or a newer patched version |
| Affected Version | * <= 1.3.9 |
| Patched Version | * 1.4.0 |

#### [Enhanced Text Widget](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/enhanced-text-widget)

| Software Type | Plugin |
| --- | --- |
| Software Slug | enhanced-text-widget [(view on wordpress.org)](https://wordpress.org/plugins/enhanced-text-widget) |
| Patched? | Yes |
| Remediation | Update to version 1.5.8, or a newer patched version |
| Affected Version | * <= 1.5.7 |
| Patched Version | * 1.5.8 |

#### [Pop-up](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/pop-up-pop-up)

| Software Type | Plugin |
| --- | --- |
| Software Slug | pop-up-pop-up [(view on wordpress.org)](https://wordpress.org/plugins/pop-up-pop-up) |
| Patched? | Yes |
| Remediation | Update to version 1.2.0, or a newer patched version |
| Affected Version | * <= 1.1.9 |
| Patched Version | * 1.2.0 |

#### [Redirection](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/redirect-redirection)

| Software Type | Plugin |
| --- | --- |
| Software Slug | redirect-redirection [(view on wordpress.org)](https://wordpress.org/plugins/redirect-redirection) |
| Patched? | Yes |
| Remediation | Update to version 1.1.4, or a newer patched version |
| Affected Version | * <= 1.1.3 |
| Patched Version | * 1.1.4 |

#### [RSS Redirect & Feedburner Alternative](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/feedburner-alternative-and-rss-redirect)

| Software Type | Plugin |
| --- | --- |
| Software Slug | feedburner-alternative-and-rss-redirect [(view on wordpress.org)](https://wordpress.org/plugins/feedburner-alternative-and-rss-redirect) |
| Patched? | Yes |
| Remediation | Update to version 3.8, or a newer patched version |
| Affected Version | * <= 3.7 |
| Patched Version | * 3.8 |

#### [Social Media Share Buttons & Social Sharing Icons](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/ultimate-social-media-icons)

| Software Type | Plugin |
| --- | --- |
| Software Slug | ultimate-social-media-icons [(view on wordpress.org)](https://wordpress.org/plugins/ultimate-social-media-icons) |
| Patched? | Yes |
| Remediation | Update to version 2.8.2, or a newer patched version |
| Affected Version | * <= 2.8.1 |
| Patched Version | * 2.8.2 |

#### [Social Share Icons & Social Share Buttons](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/ultimate-social-media-plus)

| Software Type | Plugin |
| --- | --- |
| Software Slug | ultimate-social-media-plus [(view on wordpress.org)](https://wordpress.org/plugins/ultimate-social-media-plus) |
| Patched? | Yes |
| Remediation | Update to version 3.5.8, or a newer patched version |
| Affected Version | * <= 3.5.7 |
| Patched Version | * 3.5.8 |

#### [SSL Mixed Content Fix](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/http-https-remover)

| Software Type | Plugin |
| --- | --- |
| Software Slug | http-https-remover [(view on wordpress.org)](https://wordpress.org/plugins/http-https-remover) |
| Patched? | Yes |
| Remediation | Update to version 3.2.4, or a newer patched version |
| Affected Version | * <= 3.2.3 |
| Patched Version | * 3.2.4 |

#### [Ultimate Posts Widget](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/ultimate-posts-widget)

| Software Type | Plugin |
| --- | --- |
| Software Slug | ultimate-posts-widget [(view on wordpress.org)](https://wordpress.org/plugins/ultimate-posts-widget) |
| Patched? | Yes |
| Remediation | Update to version 2.2.5, or a newer patched version |
| Affected Version | * <= 2.2.4 |
| Patched Version | * 2.2.5 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_7c0e7395_20250111_123227.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D2944116%2540feedburner-alternative-and-rss-redirect%252Ftags%252F3.8%26old%3D2823770%2540feedburner-alternative-and-rss-redirect%252Ftags%252F3.7)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/2823770/feedburner-alternative-and-rss-redirect/tags/3.7?old=2944116&old_path=%2Ffeedburner-alternative-and-rss-redirect%2Ftags%2F3.8)

---

# Changes from [feedburner-alternative-and-rss-redirect/tags/3.7](/browser/feedburner-alternative-and-rss-redirect/tags/3.7?rev=2823770 "Show entry in browser") at [r2823770](/changeset/2823770 "Show full changeset") to [feedburner-alternative-and-rss-redirect/tags/3.8](/browser/feedburner-alternative-and-rss-redirect/tags/3.8?rev=2944116 "Show entry in browser") at [r2944116](/changeset/2944116 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[feedburner-alternative-and-rss-redirect/tags/3.8](/browser/feedburner-alternative-and-rss-redirect/tags/3.8?rev=2944116)
Files:

86 edited

* [analyst/assets/img/pencil.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/analyst/assets/img/pencil.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/analyst/assets/img/pencil.png?rev=2823770 "Show previous version in browser"))
* [analyst/assets/img/shield\_question.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/analyst/assets/img/shield_question.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/analyst/assets/img/shield_question.png?rev=2823770 "Show previous version in browser"))
* [analyst/assets/img/shield\_success.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/analyst/assets/img/shield_success.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/analyst/assets/img/shield_success.png?rev=2823770 "Show previous version in browser"))
* [analyst/assets/img/smile.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/analyst/assets/img/smile.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/analyst/assets/img/smile.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/blank.gif](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/blank.gif?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/blank.gif?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_background.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_background.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_background.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_hex.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_hex.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_hex.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_hsb\_b.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_hsb_b.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_hsb_b.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_hsb\_h.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_hsb_h.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_hsb_h.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_hsb\_s.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_hsb_s.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_hsb_s.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_indic.gif](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_indic.gif?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_indic.gif?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_overlay.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_overlay.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_overlay.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_rgb\_b.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_rgb_b.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_rgb_b.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_rgb\_g.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_rgb_g.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_rgb_g.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_rgb\_r.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_rgb_r.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_rgb_r.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_select.gif](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_select.gif?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_select.gif?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/colorpicker\_submit.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/colorpicker_submit.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/colorpicker_submit.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/custom\_background.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/custom_background.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/custom_background.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/custom\_hex.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/custom_hex.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/custom_hex.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/custom\_hsb\_b.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/custom_hsb_b.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/custom_hsb_b.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/custom\_hsb\_h.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/custom_hsb_h.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/custom_hsb_h.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/custom\_hsb\_s.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/custom_hsb_s.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/custom_hsb_s.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/custom\_indic.gif](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/custom_indic.gif?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/custom_indic.gif?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/custom\_rgb\_b.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/custom_rgb_b.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/custom_rgb_b.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/custom\_rgb\_g.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/custom_rgb_g.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/custom_rgb_g.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/custom\_rgb\_r.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/custom_rgb_r.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/custom_rgb_r.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/custom\_submit.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/custom_submit.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/custom_submit.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/select.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/select.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/select.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/select2.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/select2.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/select2.png?rev=2823770 "Show previous version in browser"))
* [css/colorpicker/images/slider.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/css/colorpicker/images/slider.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/css/colorpicker/images/slider.png?rev=2823770 "Show previous version in browser"))
* [fonts/helvetica\_0-webfont.eot](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/fonts/helvetica_0-webfont.eot?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/fonts/helvetica_0-webfont.eot?rev=2823770 "Show previous version in browser"))
* [fonts/helvetica\_0-webfont.ttf](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/fonts/helvetica_0-webfont.ttf?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/fonts/helvetica_0-webfont.ttf?rev=2823770 "Show previous version in browser"))
* [fonts/helvetica\_0-webfont.woff](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/fonts/helvetica_0-webfont.woff?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/fonts/helvetica_0-webfont.woff?rev=2823770 "Show previous version in browser"))
* [fonts/helvetica\_bold\_0-webfont.eot](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/fonts/helvetica_bold_0-webfont.eot?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/fonts/helvetica_bold_0-webfont.eot?rev=2823770 "Show previous version in browser"))
* [fonts/helvetica\_bold\_0-webfont.ttf](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/fonts/helvetica_bold_0-webfont.ttf?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/fonts/helvetica_bold_0-webfont.ttf?rev=2823770 "Show previous version in browser"))
* [fonts/helvetica\_bold\_0-webfont.woff](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/fonts/helvetica_bold_0-webfont.woff?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/fonts/helvetica_bold_0-webfont.woff?rev=2823770 "Show previous version in browser"))
* [images/132logo.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/132logo.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/132logo.png?rev=2823770 "Show previous version in browser"))
* [images/2020.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/2020.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/2020.png?rev=2823770 "Show previous version in browser"))
* [images/3618.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/3618.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/3618.png?rev=2823770 "Show previous version in browser"))
* [images/3634.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/3634.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/3634.png?rev=2823770 "Show previous version in browser"))
* [images/arrow1.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/arrow1.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/arrow1.png?rev=2823770 "Show previous version in browser"))
* [images/arrow2.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/arrow2.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/arrow2.png?rev=2823770 "Show previous version in browser"))
* [images/close.jpg](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/close.jpg?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/close.jpg?rev=2823770 "Show previous version in browser"))
* [images/finallogo.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/finallogo.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/finallogo.png?rev=2823770 "Show previous version in browser"))
* [images/gear.gif](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/gear.gif?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/gear.gif?rev=2823770 "Show previous version in browser"))
* [images/gear\_small.gif](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/gear_small.gif?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/gear_small.gif?rev=2823770 "Show previous version in browser"))
* [images/images132.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/images132.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/images132.png?rev=2823770 "Show previous version in browser"))
* [images/logo.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/logo.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/logo.png?rev=2823770 "Show previous version in browser"))
* [images/logo.png---](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/logo.png---?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/logo.png---?rev=2823770 "Show previous version in browser"))
* [images/logo1.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/logo1.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/logo1.png?rev=2823770 "Show previous version in browser"))
* [images/logo2.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/logo2.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/logo2.png?rev=2823770 "Show previous version in browser"))
* [images/logo3.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/logo3.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/logo3.png?rev=2823770 "Show previous version in browser"))
* [images/logo4.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/logo4.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/logo4.png?rev=2823770 "Show previous version in browser"))
* [images/screen1.jpg](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/screen1.jpg?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/screen1.jpg?rev=2823770 "Show previous version in browser"))
* [images/screen2.jpg](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/screen2.jpg?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/screen2.jpg?rev=2823770 "Show previous version in browser"))
* [images/tick.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/tick.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/tick.png?rev=2823770 "Show previous version in browser"))
* [images/wrelogo.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/images/wrelogo.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/images/wrelogo.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/assets/index.min.js](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/assets/index.min.js?rev=2944116 "Show entry in browser")
  (modified)
  ([1 diff](#file113 "Show differences"))
* [modules/banner/assets/style.min.css](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/assets/style.min.css?rev=2944116 "Show entry in browser")
  (modified)
  ([1 diff](#file114 "Show differences"))
* [modules/banner/misc.php](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/misc.php?rev=2944116 "Show entry in browser")
  (modified)
  ([5 diffs](#file115 "Show differences"))
* [modules/banner/views/projects/bmi/imgs/background-images.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/bmi/imgs/background-images.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/bmi/imgs/background-images.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/bmi/imgs/background-texture-grey.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/bmi/imgs/background-texture-grey.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/bmi/imgs/background-texture-grey.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/bmi/imgs/big-colored-logo.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/bmi/imgs/big-colored-logo.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/bmi/imgs/big-colored-logo.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/cdp/imgs/background-texture-grey.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/cdp/imgs/background-texture-grey.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/cdp/imgs/background-texture-grey.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/cdp/imgs/big-colored-logo.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/cdp/imgs/big-colored-logo.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/cdp/imgs/big-colored-logo.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/cdp/imgs/main-background-image.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/cdp/imgs/main-background-image.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/cdp/imgs/main-background-image.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/fit/imgs/big-colored-logo.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/fit/imgs/big-colored-logo.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/fit/imgs/big-colored-logo.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/fit/imgs/face1.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/fit/imgs/face1.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/fit/imgs/face1.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/fit/imgs/face2.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/fit/imgs/face2.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/fit/imgs/face2.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/fit/imgs/face3.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/fit/imgs/face3.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/fit/imgs/face3.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/fit/imgs/face4.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/fit/imgs/face4.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/fit/imgs/face4.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/mpu/imgs/background-images.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/mpu/imgs/background-images.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/mpu/imgs/background-images.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/mpu/imgs/background-texture-green.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/mpu/imgs/background-texture-green.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/mpu/imgs/background-texture-green.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/mpu/imgs/background-texture-grey.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/mpu/imgs/background-texture-grey.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/mpu/imgs/background-texture-grey.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/mpu/imgs/big-colored-logo.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/mpu/imgs/big-colored-logo.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/mpu/imgs/big-colored-logo.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/red/imgs/big-colored-logo-rr.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/red/imgs/big-colored-logo-rr.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/red/imgs/big-colored-logo-rr.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/red/imgs/main-background-image.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/red/imgs/main-background-image.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/red/imgs/main-background-image.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/twp/imgs/big-colored-logo.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/twp/imgs/big-colored-logo.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/twp/imgs/big-colored-logo.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/usm/imgs/background-icons.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/usm/imgs/background-icons.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/usm/imgs/background-icons.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/usm/imgs/background-image.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/usm/imgs/background-image.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/usm/imgs/background-image.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/usm/imgs/big-colored-logo.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/usm/imgs/big-colored-logo.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/usm/imgs/big-colored-logo.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/usm/imgs/play-icon.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/usm/imgs/play-icon.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/usm/imgs/play-icon.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/usm/imgs/ribbon-icon.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/usm/imgs/ribbon-icon.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/usm/imgs/ribbon-icon.png?rev=2823770 "Show previous version in browser"))
* [modules/banner/views/projects/usm/imgs/video-background.png](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/views/projects/usm/imgs/video-background.png?rev=2944116 "Show entry in browser")
  (modified)
  ([previous](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/views/projects/usm/imgs/video-background.png?rev=2823770 "Show previous version in browser"))
* [readme.txt](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/readme.txt?rev=2944116 "Show entry in browser")
  (modified)
  ([4 diffs](#file187 "Show differences"))
* [rss\_redirect.php](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/rss_redirect.php?rev=2944116 "Show entry in browser")
  (modified)
  ([1 diff](#file188 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/assets/index.min.js](/changeset/2944116/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/assets/index.min.js?old=2823770&old_path=feedburner-alternative-and-rss-redirect%2Ftags%2F3.7%2Fmodules%2Fbanner%2Fassets%2Findex.min.js "Show the [2823770:2944116] differences restricted to feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/assets/index.min.js")

  | [r2823770](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/assets/index.min.js?rev=2823770#L1 "Show revision 2823770 of this file in browser") | [r2944116](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/assets/index.min.js?rev=2944116#L1 "Show revision 2944116 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | !function(){let e=[],t={name:null,trigger:null,element:null},n=null,r=null,i=!1;const s=e=>{o(),c(e),l()},c=e=>{t.name&&document.querySelector(".ci-project-content").classList.remove(`ci-${t.name}-visible`),t.name=e.id.replace("-trigger",""),document.querySelector(".ci-project-content").classList.add(`ci-${t.name}-visible`),t.trigger&&t.trigger.classList.remove("ci-selected-project"),t.trigger=e,t.trigger.classList.add("ci-selected-project"),t.element=document.querySelector(`.ci-project-${t.name}`)},l=()=>{n||(n=setInterval(()=>{const n=e.findIndex(e=>e.name===t.name),r=n===e.length-1?0:n+1;c(e[r].trigger)},1e4))},o=()=>{clearInterval(n),n=null},a=()=>{const e=(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(r);!n&&e?l():n&&!e&&o()},u=e=>{const t=e.target,r=t.dataset.slug,s=t.innerText;!0!==i&&(i=!0,t.innerText="Installing, please wait...",t.classList.add("ci-inisev-prepare"),clearInterval(n),setTimeout(()=>{t.classList.add("ci-inisev-install");let e=new XMLHttpRequest;e.open("POST",ajaxurl,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onload=(()=>{if(l(),200===e.status||e.status<400)try{let n=e.responseText;g(n)&&(n=v(n)),void 0!==n.success&&!0===n.success?(t.classList.remove("ci-inisev-install"),t.innerText="Plugin installed successfully :)",setTimeout(()=>{window.location.href=n.data.url},300)):d(t,s)}catch(e){d(t,s)}else d(t,s)}),e.send("action=inisev\_installation&slug="+r)},7e3))},d=(e,t)=>{e.innerText="Installation failed...",setTimeout(()=>{e.classList.remove("ci-inisev-install"),setTimeout(()=>{e.classList.remove("ci-inisev-prepare"),e.innerText=t,i=!1})},2e3)},m=e=>{e&&e.addEventListener("click",u)},g=e=>{try{JSON.parse(e)}catch(t){if("string"==typeof e){let t=p(e).indexOf("}");t=0==t?e.length:-t,e=e.slice(e.indexOf("{"),t);try{JSON.parse(e)}catch(e){return!1}return!0}return!1}return!0},p=e=>"string"==typeof e?""===e?"":p(e.substr(1))+e.charAt(0):e,v=e=>{try{JSON.parse(e)}catch(t){if("string"==typeof e){let t=p(e).indexOf("}");t=0==t?e.length:-t,e=e.slice(e.indexOf("{"),t);try{JSON.parse(e)}catch(e){return!1}return JSON.parse(e)}return!1}return JSON.parse(e)};document.addEventListener("DOMContentLoaded",()=>{(()=>{const t=document.querySelectorAll(".ci-project-list-element"),n=document.querySelectorAll(".ci-project");e=Array.from(t).map((e,t)=>({trigger:e,element:n[t],name:e.id.replace("-trigger","")}))})(),c(document.querySelector("#BackupMigration-trigger")),document.querySelectorAll(".ci-project-list-element").forEach(e=>{e.addEventListener("mouseover",t=>(e=>{e.classList.contains("ci-selected-project")?o():s(e)})(e)),e.addEventListener("mouseout",l)}),r=document.querySelector(".ci-carrinis .ci-carousel"),document.addEventListener("scroll",a),document.querySelectorAll(".ci-carrinis .ci-project").forEach(e=>{e.addEventListener("mouseover",o),e.addEventListener("mouseout",l)}),(()=>{const e=document.getElementsByClassName("ci-inisev-install-plugin");for(let t=0;t<e.length;++t)m(e[t])})()})}(); |
  |  | 1 | !function(){let e=[],t={name:null,trigger:null,element:null},n=null,r=null,i=!1;const s=e=>{o(),c(e),l()},c=e=>{t.name&&document.querySelector(".ci-project-content").classList.remove(`ci-${t.name}-visible`),t.name=e.id.replace("-trigger",""),document.querySelector(".ci-project-content").classList.add(`ci-${t.name}-visible`),t.trigger&&t.trigger.classList.remove("ci-selected-project"),t.trigger=e,t.trigger.classList.add("ci-selected-project"),t.element=document.querySelector(`.ci-project-${t.name}`)},l=()=>{n||(n=setInterval(()=>{const n=e.findIndex(e=>e.name===t.name),r=n===e.length-1?0:n+1;c(e[r].trigger)},1e4))},o=()=>{clearInterval(n),n=null},a=()=>{const e=(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(r);!n&&e?l():n&&!e&&o()},u=e=>{const t=e.target,r=t.dataset.slug,s=t.innerText;!0!==i&&(i=!0,t.innerText="Installing, please wait...",t.classList.add("ci-inisev-prepare"),clearInterval(n),setTimeout(()=>{t.classList.add("ci-inisev-install");let e=new XMLHttpRequest;e.open("POST",ajaxurl,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onload=(()=>{if(l(),200===e.status||e.status<400)try{let n=e.responseText;g(n)&&(n=v(n)),void 0!==n.success&&!0===n.success?(t.classList.remove("ci-inisev-install"),t.innerText="Plugin installed successfully :)",setTimeout(()=>{window.location.href=n.data.url},300)):d(t,s)}catch(e){d(t,s)}else d(t,s)}),e.send("action=inisev\_installation&slug="+r+"&nonce="+inisev\_carousel.nonce)},7e3))},d=(e,t)=>{e.innerText="Installation failed...",setTimeout(()=>{e.classList.remove("ci-inisev-install"),setTimeout(()=>{e.classList.remove("ci-inisev-prepare"),e.innerText=t,i=!1})},2e3)},m=e=>{e&&e.addEventListener("click",u)},g=e=>{try{JSON.parse(e)}catch(t){if("string"==typeof e){let t=p(e).indexOf("}");t=0==t?e.length:-t,e=e.slice(e.indexOf("{"),t);try{JSON.parse(e)}catch(e){return!1}return!0}return!1}return!0},p=e=>"string"==typeof e?""===e?"":p(e.substr(1))+e.charAt(0):e,v=e=>{try{JSON.parse(e)}catch(t){if("string"==typeof e){let t=p(e).indexOf("}");t=0==t?e.length:-t,e=e.slice(e.indexOf("{"),t);try{JSON.parse(e)}catch(e){return!1}return JSON.parse(e)}return!1}return JSON.parse(e)};document.addEventListener("DOMContentLoaded",()=>{(()=>{const t=document.querySelectorAll(".ci-project-list-element"),n=document.querySelectorAll(".ci-project");e=Array.from(t).map((e,t)=>({trigger:e,element:n[t],name:e.id.replace("-trigger","")}))})(),c(document.querySelector("#BackupMigration-trigger")),document.querySelectorAll(".ci-project-list-element").forEach(e=>{e.addEventListener("mouseover",t=>(e=>{e.classList.contains("ci-selected-project")?o():s(e)})(e)),e.addEventListener("mouseout",l)}),r=document.querySelector(".ci-carrinis .ci-carousel"),document.addEventListener("scroll",a),document.querySelectorAll(".ci-carrinis .ci-project").forEach(e=>{e.addEventListener("mouseover",o),e.addEventListener("mouseout",l)}),(()=>{const e=document.getElementsByClassName("ci-inisev-install-plugin");for(let t=0;t<e.length;++t)m(e[t])})()})}(); |
* ## [feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/assets/style.min.css](/changeset/2944116/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/assets/style.min.css?old=2823770&old_path=feedburner-alternative-and-rss-redirect%2Ftags%2F3.7%2Fmodules%2Fbanner%2Fassets%2Fstyle.min.css "Show the [2823770:2944116] differences restricted to feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/assets/style.min.css")

  | [r2823770](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/assets/style.min.css?rev=2823770#L4 "Show revision 2823770 of this file in browser") | [r2944116](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/assets/style.min.css?rev=2944116#L4 "Show revision 2944116 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | /\* @since - Version 2.0 \*/ |
  | 5 | 5 | @media (max-width:760px){.ci-carrinis .ci-project:not(.ci-project-SocialShare):not(.ci-project-redRed) .ci-left-part .ci-project-logo a img{max-height:45px}}.ci-project-content{max-height:256px}.ci-project-content.ci-redRed-visible>div:not(.ci-project-redRed){display:none!important}.ci-carrinis .ci-project-redRed .ci-install-state .ci-install-button button{background-color:#374785}.ci-carrinis .ci-project-redRed .ci-install-state .ci-install-button a{color:#374785}.ci-carrinis .ci-project-redRed .ci-right-part img{top:0;right:0}@media (max-width:900px){.ci-carrinis .ci-project-redRed .ci-right-part img{display:none}}.ci-carrinis .ci-project-list-element-redRed:not(.ci-selected-project){background:#374785}.ci-carrinis .ci-project-list-element-redRed .ci-project-list-element-logo{width:45px;height:auto;margin-left:-8px}.ci-carrinis .ci-project-list-element.ci-project-list-element-redRed span{margin-left:6px}.ci-project-redRed .ci-background-top-left{position:absolute;top:-44px;left:0;z-index:-1}.ci-project-redRed .ci-project-logo{margin-left:128px;margin-right:46px}.ci-project-redRed .ci-project-logo a{margin-bottom:8px}.ci-projects-list>.ci-project-list-element:not(.ci-selected-project){height:32px;transition:height .3s cubic-bezier(.25,.1,.25,1)}.ci-projects-list>.ci-project-list-element.ci-selected-project{height:40px;transition:height .3s cubic-bezier(.25,.1,.25,1)}.ci-project-redRed .ci-redi-logo-p{width:131px}.ci-project-redRed .ci-right-part .ci-background-top-right{width:480px;z-index:-1}.ci-project-redRed .ci-already-installed-heading-redi::after{content:'';clear:both;display:block}.ci-project-redRed .ci-already-installed-heading-redi svg{margin-left:70px;float:left}.ci-project-redRed .ci-installed-column-redi{margin-left:90px!important}.ci-project-redRed .ci-already-redi-installed{float:left;font-size:24px;font-weight:400;color:#72c694;margin-left:15px;line-height:40px;font-family:Montserrat}.ci-project-redRed .ci-check-out-others-redi{font-family:Montserrat;font-size:18px;color:#374785;font-weight:400;line-height:40px;margin-top:15px} |
  |  | 6 |  |
  |  | 7 | /\* @since - Version 2.1 \*/ |
  |  | 8 | @media (max-width:1250px) { |
  |  | 9 | .ci-projects-list>.ci-project-list-element:not(.ci-selected-project){height:35px !important;} |
  |  | 10 | .ci-projects-list>.ci-project-list-element.ci-selected-project{height:35px !important;} |
  |  | 11 | } |
  |  | 12 |  |
  |  | 13 | .usm-banner-container .ci-projects-list>.ci-project-list-element:not(.ci-selected-project){ |
  |  | 14 | height: 33px !important; |
  |  | 15 | } |
* ## [feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/misc.php](/changeset/2944116/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/misc.php?old=2823770&old_path=feedburner-alternative-and-rss-redirect%2Ftags%2F3.7%2Fmodules%2Fbanner%2Fmisc.php "Show the [2823770:2944116] differences restricted to feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/misc.php")

  | [r2823770](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php?rev=2823770#L5 "Show revision 2823770 of this file in browser") | [r2944116](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/misc.php?rev=2944116#L5 "Show revision 2944116 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* |
  | 6 | 6 | \* @category Child Plugin |
  | 7 |  | \* @version v0.~~2~~.0 |
  |  | 7 | \* @version v0.3.0 |
  | 8 | 8 | \* @since v0.1.0 |
  | 9 | 9 | \* @author iClyde <kontakt@iclyde.pl> |
  | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php?rev=2823770#L53) | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/misc.php?rev=2944116#L53) |  |
  | 53 | 53 | // Handle the request |
  | 54 | 54 | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
  |  | 55 | add\_action('wp\_ajax\_inisev\_installation\_widget', [&$this, 'handle\_installation']); |
  | 55 | 56 |  |
  | 56 | 57 | } |
  | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php?rev=2823770#L127) | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/misc.php?rev=2944116#L128) |  |
  | 127 | 128 | // Make sure $menu exists |
  | 128 | 129 | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
  |  | 130 | if (!current\_user\_can('install\_plugins')) return $this->fail(10); |
  | 129 | 131 |  |
  | 130 | 132 | // Get menu slug name |
  | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php?rev=2823770#L142) | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/misc.php?rev=2944116#L144) |  |
  | 142 | 144 | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
  | 143 | 145 | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
  |  | 146 |  |
  |  | 147 | // Pass nonce to JS |
  |  | 148 | wp\_localize\_script('inisev-carousel-script', 'inisev\_carousel', [ |
  |  | 149 | 'nonce' => wp\_create\_nonce('inisev\_carousel'), |
  |  | 150 | ], true); |
  | 144 | 151 |  |
  | 145 | 152 | // Print the footer |
  | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/modules/banner/misc.php?rev=2823770#L427) | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/modules/banner/misc.php?rev=2944116#L434) |  |
  | 427 | 434 | public function handle\_installation() { |
  | 428 | 435 |  |
  |  | 436 | if (check\_ajax\_referer('inisev\_carousel', 'nonce', false) === false) { |
  |  | 437 | return wp\_send\_json\_error(); |
  |  | 438 | } |
  |  | 439 |  |
  |  | 440 | if (!current\_user\_can('install\_plugins')) { |
  |  | 441 | return wp\_send\_json\_error(); |
  |  | 442 | } |
  |  | 443 |  |
  | 429 | 444 | // Handle the slug and install the plugin |
  | 430 | 445 | $slug = sanitize\_text\_field($\_POST['slug']); |
* ## [feedburner-alternative-and-rss-redirect/tags/3.8/readme.txt](/changeset/2944116/feedburner-alternative-and-rss-redirect/tags/3.8/readme.txt?old=2823770&old_path=feedburner-alternative-and-rss-redirect%2Ftags%2F3.7%2Freadme.txt "Show the [2823770:2944116] differences restricted to feedburner-alternative-and-rss-redirect/tags/3.8/readme.txt")

  | [r2823770](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/readme.txt?rev=2823770#L3 "Show revision 2823770 of this file in browser") | [r2944116](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/readme.txt?rev=2944116#L3 "Show revision 2944116 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Tags: Feed, Feeds, s-feeds, RSS, Feedburner, Feedburner alternative, RSS feeds, newsletter, subscription, newsletters, email newsletter, email newsletters |
  | 4 | 4 | Requires at least: 3.0 |
  | 5 |  | Tested up to: 6.~~1.1~~ |
  | 6 |  | Stable tag: 3.~~7~~ |
  |  | 5 | Tested up to: 6.3 |
  |  | 6 | Stable tag: 3.8 |
  | 7 | 7 | License: GPLv2 |
  | 8 | 8 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/readme.txt?rev=2823770#L81) | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/readme.txt?rev=2944116#L81) |  |
  | 81 | 81 | == Changelog == |
  | 82 | 82 |  |
  |  | 83 | = 3.8 = |
  |  | 84 | \* Tested with WP 6.3 RC |
  |  | 85 | \* Updated all shared modules to their latest versions |
  |  | 86 |  |
  | 83 | 87 | = 3.7 = |
  | 84 | 88 | \* Adjusted PHP compatibility |
  | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/readme.txt?rev=2823770#L102) | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/readme.txt?rev=2944116#L106) |  |
  | 102 | 106 | \* Update: Footer banner |
  | 103 | 107 | \* Fixed: Some minor fixes |
  | 104 |  |  |
  | 105 | 108 |  |
  | 106 | 109 | = 3.3 = |
  | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/readme.txt?rev=2823770#L179) | […](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/readme.txt?rev=2944116#L182) |  |
  | 179 | 182 |  |
  | 180 | 183 | == Upgrade Notice == |
  | 181 |  | = 3.~~7~~ = |
  | 182 |  | \* ~~Adjusted PHP compatibility~~ |
  | 183 |  | \* ~~Tested with WP 6.1.1~~ |
  |  | 184 | = 3.8 = |
  |  | 185 | \* Tested with WP 6.3 RC |
  |  | 186 | \* Updated all shared modules to their latest versions |
* ## [feedburner-alternative-and-rss-redirect/tags/3.8/rss\_redirect.php](/changeset/2944116/feedburner-alternative-and-rss-redirect/tags/3.8/rss_redirect.php?old=2823770&old_path=feedburner-alternative-and-rss-redirect%2Ftags%2F3.7%2Frss_redirect.php "Show the [2823770:2944116] differences restricted to feedburner-alternative-and-rss-redirect/tags/3.8/rss_redirect.php")

  | [r2823770](/browser/feedburner-alternative-and-rss-redirect/tags/3.7/rss_redirect.php?rev=2823770#L6 "Show revision 2823770 of this file in browser") | [r2944116](/browser/feedburner-alternative-and-rss-redirect/tags/3.8/rss_redirect.php?rev=2944116#L6 "Show revision 2944116 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Author: follow.it |
  | 7 | 7 | Author URI: http://follow.it |
  | 8 |  | Version: 3.~~7~~ |
  |  | 8 | Version: 3.8 |
  | 9 | 9 | License: GPLv2 |
  | 10 | 10 | \*/ |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2944116&old=2823770&new_path=%2Ffeedburner-alternative-and-rss-redirect%2Ftags%2F3.8&old_path=%2Ffeedburner-alternative-and-rss-redirect%2Ftags%2F3.7)
* [Zip Archive](?format=zip&new=2944116&old=2823770&new_path=%2Ffeedburner-alternative-and-rss-redirect%2Ftags%2F3.8&old_path=%2Ffeedburner-alternative-and-rss-redirect%2Ftags%2F3.7)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_d17547ef_20250111_123226.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D2944114%2540http-https-remover%252Ftags%252F3.2.4%26old%3D2823769%2540http-https-remover%252Ftags%252F3.2.3)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/2823769/http-https-remover/tags/3.2.3?old=2944114&old_path=%2Fhttp-https-remover%2Ftags%2F3.2.4)

---

# Changes from [http-https-remover/tags/3.2.3](/browser/http-https-remover/tags/3.2.3?rev=2823769 "Show entry in browser") at [r2823769](/changeset/2823769 "Show full changeset") to [http-https-remover/tags/3.2.4](/browser/http-https-remover/tags/3.2.4?rev=2944114 "Show entry in browser") at [r2944114](/changeset/2944114 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[http-https-remover/tags](/browser/http-https-remover/tags?rev=2944114)
Files:

1 deleted
34 edited

* [3.2.4/analyst/assets/img/pencil.png](/browser/http-https-remover/tags/3.2.4/analyst/assets/img/pencil.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/analyst/assets/img/pencil.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/analyst/assets/img/shield\_question.png](/browser/http-https-remover/tags/3.2.4/analyst/assets/img/shield_question.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/analyst/assets/img/shield_question.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/analyst/assets/img/shield\_success.png](/browser/http-https-remover/tags/3.2.4/analyst/assets/img/shield_success.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/analyst/assets/img/shield_success.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/analyst/assets/img/smile.png](/browser/http-https-remover/tags/3.2.4/analyst/assets/img/smile.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/analyst/assets/img/smile.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/assets/index.min.js](/browser/http-https-remover/tags/3.2.4/banner/assets/index.min.js?rev=2944114 "Show entry in browser")
  (modified)
  ([1 diff](#file46 "Show differences"))
* [3.2.4/banner/assets/style.min.css](/browser/http-https-remover/tags/3.2.4/banner/assets/style.min.css?rev=2944114 "Show entry in browser")
  (modified)
  ([1 diff](#file47 "Show differences"))
* [3.2.4/banner/misc.php](/browser/http-https-remover/tags/3.2.4/banner/misc.php?rev=2944114 "Show entry in browser")
  (modified)
  ([5 diffs](#file48 "Show differences"))
* [3.2.4/banner/views/projects/bmi/imgs/background-images.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/bmi/imgs/background-images.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/bmi/imgs/background-images.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/bmi/imgs/background-texture-grey.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/bmi/imgs/background-texture-grey.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/bmi/imgs/background-texture-grey.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/bmi/imgs/big-colored-logo.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/bmi/imgs/big-colored-logo.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/bmi/imgs/big-colored-logo.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/cdp/imgs/background-texture-grey.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/cdp/imgs/background-texture-grey.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/cdp/imgs/background-texture-grey.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/cdp/imgs/big-colored-logo.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/cdp/imgs/big-colored-logo.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/cdp/imgs/big-colored-logo.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/cdp/imgs/main-background-image.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/cdp/imgs/main-background-image.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/cdp/imgs/main-background-image.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/fit/imgs/big-colored-logo.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/fit/imgs/big-colored-logo.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/fit/imgs/big-colored-logo.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/fit/imgs/face1.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/fit/imgs/face1.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/fit/imgs/face1.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/fit/imgs/face2.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/fit/imgs/face2.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/fit/imgs/face2.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/fit/imgs/face3.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/fit/imgs/face3.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/fit/imgs/face3.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/fit/imgs/face4.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/fit/imgs/face4.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/fit/imgs/face4.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/mpu/imgs/background-images.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/mpu/imgs/background-images.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/mpu/imgs/background-images.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/mpu/imgs/background-texture-green.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/mpu/imgs/background-texture-green.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/mpu/imgs/background-texture-green.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/mpu/imgs/background-texture-grey.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/mpu/imgs/background-texture-grey.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/mpu/imgs/background-texture-grey.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/mpu/imgs/big-colored-logo.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/mpu/imgs/big-colored-logo.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/mpu/imgs/big-colored-logo.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/red/imgs/big-colored-logo-rr.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/red/imgs/big-colored-logo-rr.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/red/imgs/big-colored-logo-rr.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/red/imgs/main-background-image.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/red/imgs/main-background-image.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/red/imgs/main-background-image.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/twp/imgs/big-colored-logo.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/twp/imgs/big-colored-logo.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/twp/imgs/big-colored-logo.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/usm/imgs/background-icons.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/usm/imgs/background-icons.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/usm/imgs/background-icons.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/usm/imgs/background-image.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/usm/imgs/background-image.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/usm/imgs/background-image.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/usm/imgs/big-colored-logo.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/usm/imgs/big-colored-logo.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/usm/imgs/big-colored-logo.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/usm/imgs/play-icon.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/usm/imgs/play-icon.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/usm/imgs/play-icon.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/usm/imgs/ribbon-icon.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/usm/imgs/ribbon-icon.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/usm/imgs/ribbon-icon.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/banner/views/projects/usm/imgs/video-background.png](/browser/http-https-remover/tags/3.2.4/banner/views/projects/usm/imgs/video-background.png?rev=2944114 "Show entry in browser")
  (modified)
  ([previous](/browser/http-https-remover/tags/3.2.3/banner/views/projects/usm/imgs/video-background.png?rev=2823769 "Show previous version in browser"))
* [3.2.4/http-https-remover.php](/browser/http-https-remover/tags/3.2.4/http-https-remover.php?rev=2944114 "Show entry in browser")
  (modified)
  ([1 diff](#file121 "Show differences"))
* [3.2.3/modules/promotion](/browser/http-https-remover/tags/3.2.3/modules/promotion?rev=2823769 "Show what was removed (content at revision 2823769)")
  (deleted)
* [3.2.4/modules/tryOutPlugins/tryOutPlugins.php](/browser/http-https-remover/tags/3.2.4/modules/tryOutPlugins/tryOutPlugins.php?rev=2944114 "Show entry in browser")
  (modified)
  ([3 diffs](#file125 "Show differences"))
* [3.2.4/readme.txt](/browser/http-https-remover/tags/3.2.4/readme.txt?rev=2944114 "Show entry in browser")
  (modified)
  ([3 diffs](#file126 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [http-https-remover/tags/3.2.4/banner/assets/index.min.js](/changeset/2944114/http-https-remover/tags/3.2.4/banner/assets/index.min.js?old=2823769&old_path=http-https-remover%2Ftags%2F3.2.3%2Fbanner%2Fassets%2Findex.min.js "Show the [2823769:2944114] differences restricted to http-https-remover/tags/3.2.4/banner/assets/index.min.js")

  | [r2823769](/browser/http-https-remover/tags/3.2.3/banner/assets/index.min.js?rev=2823769#L1 "Show revision 2823769 of this file in browser") | [r2944114](/browser/http-https-remover/tags/3.2.4/banner/assets/index.min.js?rev=2944114#L1 "Show revision 2944114 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | !function(){let e=[],t={name:null,trigger:null,element:null},n=null,r=null,i=!1;const s=e=>{o(),c(e),l()},c=e=>{t.name&&document.querySelector(".ci-project-content").classList.remove(`ci-${t.name}-visible`),t.name=e.id.replace("-trigger",""),document.querySelector(".ci-project-content").classList.add(`ci-${t.name}-visible`),t.trigger&&t.trigger.classList.remove("ci-selected-project"),t.trigger=e,t.trigger.classList.add("ci-selected-project"),t.element=document.querySelector(`.ci-project-${t.name}`)},l=()=>{n||(n=setInterval(()=>{const n=e.findIndex(e=>e.name===t.name),r=n===e.length-1?0:n+1;c(e[r].trigger)},1e4))},o=()=>{clearInterval(n),n=null},a=()=>{const e=(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(r);!n&&e?l():n&&!e&&o()},u=e=>{const t=e.target,r=t.dataset.slug,s=t.innerText;!0!==i&&(i=!0,t.innerText="Installing, please wait...",t.classList.add("ci-inisev-prepare"),clearInterval(n),setTimeout(()=>{t.classList.add("ci-inisev-install");let e=new XMLHttpRequest;e.open("POST",ajaxurl,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onload=(()=>{if(l(),200===e.status||e.status<400)try{let n=e.responseText;g(n)&&(n=v(n)),void 0!==n.success&&!0===n.success?(t.classList.remove("ci-inisev-install"),t.innerText="Plugin installed successfully :)",setTimeout(()=>{window.location.href=n.data.url},300)):d(t,s)}catch(e){d(t,s)}else d(t,s)}),e.send("action=inisev\_installation&slug="+r)},7e3))},d=(e,t)=>{e.innerText="Installation failed...",setTimeout(()=>{e.classList.remove("ci-inisev-install"),setTimeout(()=>{e.classList.remove("ci-inisev-prepare"),e.innerText=t,i=!1})},2e3)},m=e=>{e&&e.addEventListener("click",u)},g=e=>{try{JSON.parse(e)}catch(t){if("string"==typeof e){let t=p(e).indexOf("}");t=0==t?e.length:-t,e=e.slice(e.indexOf("{"),t);try{JSON.parse(e)}catch(e){return!1}return!0}return!1}return!0},p=e=>"string"==typeof e?""===e?"":p(e.substr(1))+e.charAt(0):e,v=e=>{try{JSON.parse(e)}catch(t){if("string"==typeof e){let t=p(e).indexOf("}");t=0==t?e.length:-t,e=e.slice(e.indexOf("{"),t);try{JSON.parse(e)}catch(e){return!1}return JSON.parse(e)}return!1}return JSON.parse(e)};document.addEventListener("DOMContentLoaded",()=>{(()=>{const t=document.querySelectorAll(".ci-project-list-element"),n=document.querySelectorAll(".ci-project");e=Array.from(t).map((e,t)=>({trigger:e,element:n[t],name:e.id.replace("-trigger","")}))})(),c(document.querySelector("#BackupMigration-trigger")),document.querySelectorAll(".ci-project-list-element").forEach(e=>{e.addEventListener("mouseover",t=>(e=>{e.classList.contains("ci-selected-project")?o():s(e)})(e)),e.addEventListener("mouseout",l)}),r=document.querySelector(".ci-carrinis .ci-carousel"),document.addEventListener("scroll",a),document.querySelectorAll(".ci-carrinis .ci-project").forEach(e=>{e.addEventListener("mouseover",o),e.addEventListener("mouseout",l)}),(()=>{const e=document.getElementsByClassName("ci-inisev-install-plugin");for(let t=0;t<e.length;++t)m(e[t])})()})}(); |
  |  | 1 | !function(){let e=[],t={name:null,trigger:null,element:null},n=null,r=null,i=!1;const s=e=>{o(),c(e),l()},c=e=>{t.name&&document.querySelector(".ci-project-content").classList.remove(`ci-${t.name}-visible`),t.name=e.id.replace("-trigger",""),document.querySelector(".ci-project-content").classList.add(`ci-${t.name}-visible`),t.trigger&&t.trigger.classList.remove("ci-selected-project"),t.trigger=e,t.trigger.classList.add("ci-selected-project"),t.element=document.querySelector(`.ci-project-${t.name}`)},l=()=>{n||(n=setInterval(()=>{const n=e.findIndex(e=>e.name===t.name),r=n===e.length-1?0:n+1;c(e[r].trigger)},1e4))},o=()=>{clearInterval(n),n=null},a=()=>{const e=(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(r);!n&&e?l():n&&!e&&o()},u=e=>{const t=e.target,r=t.dataset.slug,s=t.innerText;!0!==i&&(i=!0,t.innerText="Installing, please wait...",t.classList.add("ci-inisev-prepare"),clearInterval(n),setTimeout(()=>{t.classList.add("ci-inisev-install");let e=new XMLHttpRequest;e.open("POST",ajaxurl,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onload=(()=>{if(l(),200===e.status||e.status<400)try{let n=e.responseText;g(n)&&(n=v(n)),void 0!==n.success&&!0===n.success?(t.classList.remove("ci-inisev-install"),t.innerText="Plugin installed successfully :)",setTimeout(()=>{window.location.href=n.data.url},300)):d(t,s)}catch(e){d(t,s)}else d(t,s)}),e.send("action=inisev\_installation&slug="+r+"&nonce="+inisev\_carousel.nonce)},7e3))},d=(e,t)=>{e.innerText="Installation failed...",setTimeout(()=>{e.classList.remove("ci-inisev-install"),setTimeout(()=>{e.classList.remove("ci-inisev-prepare"),e.innerText=t,i=!1})},2e3)},m=e=>{e&&e.addEventListener("click",u)},g=e=>{try{JSON.parse(e)}catch(t){if("string"==typeof e){let t=p(e).indexOf("}");t=0==t?e.length:-t,e=e.slice(e.indexOf("{"),t);try{JSON.parse(e)}catch(e){return!1}return!0}return!1}return!0},p=e=>"string"==typeof e?""===e?"":p(e.substr(1))+e.charAt(0):e,v=e=>{try{JSON.parse(e)}catch(t){if("string"==typeof e){let t=p(e).indexOf("}");t=0==t?e.length:-t,e=e.slice(e.indexOf("{"),t);try{JSON.parse(e)}catch(e){return!1}return JSON.parse(e)}return!1}return JSON.parse(e)};document.addEventListener("DOMContentLoaded",()=>{(()=>{const t=document.querySelectorAll(".ci-project-list-element"),n=document.querySelectorAll(".ci-project");e=Array.from(t).map((e,t)=>({trigger:e,element:n[t],name:e.id.replace("-trigger","")}))})(),c(document.querySelector("#BackupMigration-trigger")),document.querySelectorAll(".ci-project-list-element").forEach(e=>{e.addEventListener("mouseover",t=>(e=>{e.classList.contains("ci-selected-project")?o():s(e)})(e)),e.addEventListener("mouseout",l)}),r=document.querySelector(".ci-carrinis .ci-carousel"),document.addEventListener("scroll",a),document.querySelectorAll(".ci-carrinis .ci-project").forEach(e=>{e.addEventListener("mouseover",o),e.addEventListener("mouseout",l)}),(()=>{const e=document.getElementsByClassName("ci-inisev-install-plugin");for(let t=0;t<e.length;++t)m(e[t])})()})}(); |
* ## [http-https-remover/tags/3.2.4/banner/assets/style.min.css](/changeset/2944114/http-https-remover/tags/3.2.4/banner/assets/style.min.css?old=2823769&old_path=http-https-remover%2Ftags%2F3.2.3%2Fbanner%2Fassets%2Fstyle.min.css "Show the [2823769:2944114] differences restricted to http-https-remover/tags/3.2.4/banner/assets/style.min.css")

  | [r2823769](/browser/http-https-remover/tags/3.2.3/banner/assets/style.min.css?rev=2823769#L4 "Show revision 2823769 of this file in browser") | [r2944114](/browser/http-https-remover/tags/3.2.4/banner/assets/style.min.css?rev=2944114#L4 "Show revision 2944114 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | /\* @since - Version 2.0 \*/ |
  | 5 | 5 | @media (max-width:760px){.ci-carrinis .ci-project:not(.ci-project-SocialShare):not(.ci-project-redRed) .ci-left-part .ci-project-logo a img{max-height:45px}}.ci-project-content{max-height:256px}.ci-project-content.ci-redRed-visible>div:not(.ci-project-redRed){display:none!important}.ci-carrinis .ci-project-redRed .ci-install-state .ci-install-button button{background-color:#374785}.ci-carrinis .ci-project-redRed .ci-install-state .ci-install-button a{color:#374785}.ci-carrinis .ci-project-redRed .ci-right-part img{top:0;right:0}@media (max-width:900px){.ci-carrinis .ci-project-redRed .ci-right-part img{display:none}}.ci-carrinis .ci-project-list-element-redRed:not(.ci-selected-project){background:#374785}.ci-carrinis .ci-project-list-element-redRed .ci-project-list-element-logo{width:45px;height:auto;margin-left:-8px}.ci-carrinis .ci-project-list-element.ci-project-list-element-redRed span{margin-left:6px}.ci-project-redRed .ci-background-top-left{position:absolute;top:-44px;left:0;z-index:-1}.ci-project-redRed .ci-project-logo{margin-left:128px;margin-right:46px}.ci-project-redRed .ci-project-logo a{margin-bottom:8px}.ci-projects-list>.ci-project-list-element:not(.ci-selected-project){height:32px;transition:height .3s cubic-bezier(.25,.1,.25,1)}.ci-projects-list>.ci-project-list-element.ci-selected-project{height:40px;transition:height .3s cubic-bezier(.25,.1,.25,1)}.ci-project-redRed .ci-redi-logo-p{width:131px}.ci-project-redRed .ci-right-part .ci-background-top-right{width:480px;z-index:-1}.ci-project-redRed .ci-already-installed-heading-redi::after{content:'';clear:both;display:block}.ci-project-redRed .ci-already-installed-heading-redi svg{margin-left:70px;float:left}.ci-project-redRed .ci-installed-column-redi{margin-left:90px!important}.ci-project-redRed .ci-already-redi-installed{float:left;font-size:24px;font-weight:400;color:#72c694;margin-left:15px;line-height:40px;font-family:Montserrat}.ci-project-redRed .ci-check-out-others-redi{font-family:Montserrat;font-size:18px;color:#374785;font-weight:400;line-height:40px;margin-top:15px} |
  |  | 6 |  |
  |  | 7 | /\* @since - Version 2.1 \*/ |
  |  | 8 | @media (max-width:1250px) { |
  |  | 9 | .ci-projects-list>.ci-project-list-element:not(.ci-selected-project){height:35px !important;} |
  |  | 10 | .ci-projects-list>.ci-project-list-element.ci-selected-project{height:35px !important;} |
  |  | 11 | } |
  |  | 12 |  |
  |  | 13 | .usm-banner-container .ci-projects-list>.ci-project-list-element:not(.ci-selected-project){ |
  |  | 14 | height: 33px !important; |
  |  | 15 | } |
* ## [http-https-remover/tags/3.2.4/banner/misc.php](/changeset/2944114/http-https-remover/tags/3.2.4/banner/misc.php?old=2823769&old_path=http-https-remover%2Ftags%2F3.2.3%2Fbanner%2Fmisc.php "Show the [2823769:2944114] differences restricted to http-https-remover/tags/3.2.4/banner/misc.php")

  | [r2823769](/browser/http-https-remover/tags/3.2.3/banner/misc.php?rev=2823769#L5 "Show revision 2823769 of this file in browser") | [r2944114](/browser/http-https-remover/tags/3.2.4/banner/misc.php?rev=2944114#L5 "Show revision 2944114 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* |
  | 6 | 6 | \* @category Child Plugin |
  | 7 |  | \* @version v0.~~2~~.0 |
  |  | 7 | \* @version v0.3.0 |
  | 8 | 8 | \* @since v0.1.0 |
  | 9 | 9 | \* @author iClyde <kontakt@iclyde.pl> |
  | […](/browser/http-https-remover/tags/3.2.3/banner/misc.php?rev=2823769#L53) | […](/browser/http-https-remover/tags/3.2.4/banner/misc.php?rev=2944114#L53) |  |
  | 53 | 53 | // Handle the request |
  | 54 | 54 | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
  |  | 55 | add\_action('wp\_ajax\_inisev\_installation\_widget', [&$this, 'handle\_installation']); |
  | 55 | 56 |  |
  | 56 | 57 | } |
  | […](/browser/http-https-remover/tags/3.2.3/banner/misc.php?rev=2823769#L127) | […](/browser/http-https-remover/tags/3.2.4/banner/misc.php?rev=2944114#L128) |  |
  | 127 | 128 | // Make sure $menu exists |
  | 128 | 129 | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
  |  | 130 | if (!current\_user\_can('install\_plugins')) return $this->fail(10); |
  | 129 | 131 |  |
  | 130 | 132 | // Get menu slug name |
  | […](/browser/http-https-remover/tags/3.2.3/banner/misc.php?rev=2823769#L142) | […](/browser/http-https-remover/tags/3.2.4/banner/misc.php?rev=2944114#L144) |  |
  | 142 | 144 | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
  | 143 | 145 | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
  |  | 146 |  |
  |  | 147 | // Pass nonce to JS |
  |  | 148 | wp\_localize\_script('inisev-carousel-script', 'inisev\_carousel', [ |
  |  | 149 | 'nonce' => wp\_create\_nonce('inisev\_carousel'), |
  |  | 150 | ], true); |
  | 144 | 151 |  |
  | 145 | 152 | // Print the footer |
  | […](/browser/http-https-remover/tags/3.2.3/banner/misc.php?rev=2823769#L427) | […](/browser/http-https-remover/tags/3.2.4/banner/misc.php?rev=2944114#L434) |  |
  | 427 | 434 | public function handle\_installation() { |
  | 428 | 435 |  |
  |  | 436 | if (check\_ajax\_referer('inisev\_carousel', 'nonce', false) === false) { |
  |  | 437 | return wp\_send\_json\_error(); |
  |  | 438 | } |
  |  | 439 |  |
  |  | 440 | if (!current\_user\_can('install\_plugins')) { |
  |  | 441 | return wp\_send\_json\_error(); |
  |  | 442 | } |
  |  | 443 |  |
  | 429 | 444 | // Handle the slug and install the plugin |
  | 430 | 445 | $slug = sanitize\_text\_field($\_POST['slug']); |
* ## [http-https-remover/tags/3.2.4/http-https-remover.php](/changeset/2944114/http-https-remover/tags/3.2.4/http-https-remover.php?old=2823769&old_path=http-https-remover%2Ftags%2F3.2.3%2Fhttp-https-remover.php "Show the [2823769:2944114] differences restricted to http-https-remover/tags/3.2.4/http-https-remover.php")

  | [r2823769](/browser/http-https-remover/tags/3.2.3/http-https-remover.php?rev=2823769#L4 "Show revision 2823769 of this file in browser") | [r2944114](/browser/http-https-remover/tags/3.2.4/http-https-remover.php?rev=2944114#L4 "Show revision 2944114 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: https://wordpress.org/plugins/http-https-Removal/ |
  | 5 | 5 | \* Description: This Plugin creates protocol relative urls by removing http + https from links. |
  | 6 |  | \* Version: 3.2.~~3~~ |
  |  | 6 | \* Version: 3.2.4 |
  | 7 | 7 | \* Author: Steve85b |
  | 8 | 8 | \* Author URI: https://inisev.com |
* ## [http-https-remover/tags/3.2.4/modules/tryOutPlugins/tryOutPlugins.php](/changeset/2944114/http-https-remover/tags/3.2.4/modules/tryOutPlugins/tryOutPlugins.php?old=2823769&old_path=http-https-remover%2Ftags%2F3.2.3%2Fmodules%2FtryOutPlugins%2FtryOutPlugins.php "Show the [2823769:2944114] differences restricted to http-https-remover/tags/3.2.4/modules/tryOutPlugins/tryOutPlugins.php")

  | [r2823769](/browser/http-https-remover/tags/3.2.3/modules/tryOutPlugins/tryOutPlugins.php?rev=2823769#L5 "Show revision 2823769 of this file in browser") | [r2944114](/browser/http-https-remover/tags/3.2.4/modules/tryOutPlugins/tryOutPlugins.php?rev=2944114#L5 "Show revision 2944114 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* |
  | 6 | 6 | \* @category Child Plugin |
  | 7 |  | \* @version v0.1.~~0~~ |
  |  | 7 | \* @version v0.1.2 |
  | 8 | 8 | \* @since v0.1.0 |
  | 9 | 9 | \* @author iClyde <kontakt@iclyde.pl> |
  | […](/browser/http-https-remover/tags/3.2.3/modules/tryOutPlugins/tryOutPlugins.php?rev=2823769#L24) | […](/browser/http-https-remover/tags/3.2.4/modules/tryOutPlugins/tryOutPlugins.php?rev=2944114#L24) |  |
  | 24 | 24 | function \_\_construct($plugin\_file, $plugin\_dir, $plugin\_name, $plugin\_menu\_page) { |
  | 25 | 25 |  |
  | 26 |  | if ($\_SERVER['REQUEST\_METHOD'] === 'POST') { |
  |  | 26 | if (!is\_admin() || !current\_user\_can('install\_plugins')) return; |
  |  | 27 | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST') { |
  | 27 | 28 | add\_action('wp\_ajax\_tifm\_notice\_actions', [&$this, 'noticeAjax']); |
  | 28 | 29 | } |
  | […](/browser/http-https-remover/tags/3.2.3/modules/tryOutPlugins/tryOutPlugins.php?rev=2823769#L30) | […](/browser/http-https-remover/tags/3.2.4/modules/tryOutPlugins/tryOutPlugins.php?rev=2944114#L31) |  |
  | 30 | 31 | global $pagenow; |
  | 31 | 32 | if (!($pagenow == 'plugin-install.php' || $pagenow == 'admin-ajax.php')) return; |
  | 32 |  | ~~if (!is\_admin() || !current\_user\_can('install\_plugins')) return;~~ |
  | 33 | 33 | if (get\_option('\_tifm\_disable\_feature\_forever', false) != false) return; |
  | 34 | 34 |  |
* ## [http-https-remover/tags/3.2.4/readme.txt](/changeset/2944114/http-https-remover/tags/3.2.4/readme.txt?old=2823769&old_path=http-https-remover%2Ftags%2F3.2.3%2Freadme.txt "Show the [2823769:2944114] differences restricted to http-https-remover/tags/3.2.4/readme.txt")

  | [r2823769](/browser/http-https-remover/tags/3.2.3/readme.txt?rev=2823769#L3 "Show revision 2823769 of this file in browser") | [r2944114](/browser/http-https-remover/tags/3.2.4/readme.txt?rev=2944114#L3 "Show revision 2944114 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Tags: SSL, https, force SSL, mixed content, insecure content, secure website, website security, TLS, security, secure socket layers, HSTS |
  | 4 | 4 | Requires at least: 4.6 |
  | 5 |  | Tested up to: 6.~~1.1~~ |
  | 6 |  | Stable tag: 3.2.~~3~~ |
  |  | 5 | Tested up to: 6.3 |
  |  | 6 | Stable tag: 3.2.4 |
  | 7 | 7 | License: GPLv3 |
  | 8 | 8 | License URI: http://www.gnu.org/licenses/gpl-3.0.html |
  | […](/browser/http-https-remover/tags/3.2.3/readme.txt?rev=2823769#L98) | […](/browser/http-https-remover/tags/3.2.4/readme.txt?rev=2944114#L98) |  |
  | 98 | 98 |  |
  | 99 | 99 | == Changelog == |
  |  | 100 |  |
  |  | 101 | = 3.2.4 = |
  |  | 102 | \* Tested with WP 6.3 RC |
  |  | 103 | \* Updated all shared modules to their latest versions |
  | 100 | 104 |  |
  | 101 | 105 | = 3.2.3 = |
  | […](/browser/http-https-remover/tags/3.2.3/readme.txt?rev=2823769#L275) | […](/browser/http-https-remover/tags/3.2.4/readme.txt?rev=2944114#L279) |  |
  | 275 | 279 |  |
  | 276 | 280 | == Upgrade Notice == |
  | 277 |  | = 3.2.~~3~~ = |
  | 278 |  | \* ~~Adjusted PHP compatibility~~ |
  | 279 |  | \* ~~Tested with WP 6.1.1~~ |
  |  | 281 | = 3.2.4 = |
  |  | 282 | \* Tested with WP 6.3 RC |
  |  | 283 | \* Updated all shared modules to their latest versions |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2944114&old=2823769&new_path=%2Fhttp-https-remover%2Ftags%2F3.2.4&old_path=%2Fhttp-https-remover%2Ftags%2F3.2.3)
* [Zip Archive](?format=zip&new=2944114&old=2823769&new_path=%2Fhttp-https-remover%2Ftags%2F3.2.4&old_path=%2Fhttp-https-remover%2Ftags%2F3.2.3)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_1ad66c5d_20250111_123109.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fultimate-posts-widget%2Ftags%2F2.2.4%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/ultimate-posts-widget/tags/2.2.4/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/ultimate-posts-widget/tags/2.2.4/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [ultimate-posts-widget](/browser/ultimate-posts-widget?order=name "View ultimate-posts-widget")/[tags](/browser/ultimate-posts-widget/tags?order=name "View tags")/[2.2.4](/browser/ultimate-posts-widget/tags/2.2.4?order=name "View 2.2.4")/[banner](/browser/ultimate-posts-widget/tags/2.2.4/banner?order=name "View banner")/[misc.php](/browser/ultimate-posts-widget/tags/2.2.4/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2823753/ultimate-posts-widget/tags/2.2.4/banner/misc.php "View differences") on this file was [2823753](/changeset/2823753/ "View changeset 2823753"), checked in by iclyde, [2 years ago](/timeline?from=2022-11-24T16%3A51%3A21Z&precision=second "See timeline at 11/24/2022 04:51:21 PM") |
| --- |
| Version 2.2.4 |
| **File size:** 10.7 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel\_Widget')) { |
| [22](#L22) | class Inisev\_Carousel\_Widget { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [35](#L35) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation\_widget', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | // $this->page = sanitize\_text\_field(isset($\_GET['page'])); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // If the hook is correct continue |
| [91](#L91) | $this->setup(); |
| [92](#L92) |  |
| [93](#L93) | } |
| [94](#L94) |  |
| [95](#L95) | /\* |
| [96](#L96) | \* Main setup of this child plugin |
| [97](#L97) | \*/ |
| [98](#L98) | public function setup() { |
| [99](#L99) |  |
| [100](#L100) | // WordPress Global Variables |
| [101](#L101) | global $menu, $pagenow; |
| [102](#L102) |  |
| [103](#L103) | // Make sure $menu exists |
| [104](#L104) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [105](#L105) |  |
| [106](#L106) | if ($pagenow == 'widgets.php' && !defined('INISEV\_CAROUSEL\_WIDGET')) { |
| [107](#L107) |  |
| [108](#L108) | // Initialize Carousel constant |
| [109](#L109) | define('INISEV\_CAROUSEL\_WIDGET', true); |
| [110](#L110) |  |
| [111](#L111) | // Root URL for assets |
| [112](#L112) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [113](#L113) |  |
| [114](#L114) | // Load styles |
| [115](#L115) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [116](#L116) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [117](#L117) |  |
| [118](#L118) | // Print the footer |
| [119](#L119) | add\_action('admin\_footer', [&$this, '\_print'], 1); |
| [120](#L120) |  |
| [121](#L121) | } |
| [122](#L122) |  |
| [123](#L123) | } |
| [124](#L124) |  |
| [125](#L125) | /\* |
| [126](#L126) | \* This function may be used for debugging purposes |
| [127](#L127) | \*/ |
| [128](#L128) | private function fail($code = false) { |
| [129](#L129) |  |
| [130](#L130) | if ($code === false) { |
| [131](#L131) |  |
| [132](#L132) | // Return error code if specified as request ($code === false) |
| [133](#L133) | return $this->error; |
| [134](#L134) |  |
| [135](#L135) | } else { |
| [136](#L136) |  |
| [137](#L137) | // Set the error code and return |
| [138](#L138) | // error\_log($code); |
| [139](#L139) | $this->error = $code; |
| [140](#L140) | return false; |
| [141](#L141) |  |
| [142](#L142) | } |
| [143](#L143) |  |
| [144](#L144) | } |
| [145](#L145) |  |
| [146](#L146) | /\* |
| [147](#L147) | \* Helper function remove \_ -/ characters and make lowercase |
| [148](#L148) | \*/ |
| [149](#L149) | private function makelower($str) { |
| [150](#L150) |  |
| [151](#L151) | $str = str\_replace('\_', '', $str); |
| [152](#L152) | $str = str\_replace('-', '', $str); |
| [153](#L153) | $str = str\_replace('/', '', $str); |
| [154](#L154) | $str = str\_replace('\/', '', $str); |
| [155](#L155) | $str = str\_replace(' ', '', $str); |
| [156](#L156) | $str = strtolower($str); |
| [157](#L157) |  |
| [158](#L158) | return $str; |
| [159](#L159) |  |
| [160](#L160) | } |
| [161](#L161) |  |
| [162](#L162) | /\* |
| [163](#L163) | \* Helper: Include file |
| [164](#L164) | \*/ |
| [165](#L165) | private function \_include($path) { |
| [166](#L166) |  |
| [167](#L167) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [168](#L168) |  |
| [169](#L169) | } |
| [170](#L170) |  |
| [171](#L171) | /\* |
| [172](#L172) | \* Helper: Get asset URL |
| [173](#L173) | \*/ |
| [174](#L174) | private function get\_asset($file) { |
| [175](#L175) |  |
| [176](#L176) | return $this->url . $file; |
| [177](#L177) |  |
| [178](#L178) | } |
| [179](#L179) |  |
| [180](#L180) | /\* |
| [181](#L181) | \* Helper: Get asset and print URL |
| [182](#L182) | \*/ |
| [183](#L183) | private function \_asset($file) { |
| [184](#L184) |  |
| [185](#L185) | echo $this->get\_asset('views/' . $file); |
| [186](#L186) |  |
| [187](#L187) | } |
| [188](#L188) |  |
| [189](#L189) | /\* |
| [190](#L190) | \* Upgrade plugin, this function probably will never be fired |
| [191](#L191) | \*/ |
| [192](#L192) | private function upgrade\_plugin($plugin\_slug) { |
| [193](#L193) |  |
| [194](#L194) | // Include upgrader |
| [195](#L195) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [196](#L196) | wp\_cache\_flush(); |
| [197](#L197) |  |
| [198](#L198) | // Initialize & upgrade the plugin |
| [199](#L199) | $upgrader = new \Plugin\_Upgrader(); |
| [200](#L200) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [201](#L201) |  |
| [202](#L202) | // Return status or WP Error |
| [203](#L203) | return $upgraded; |
| [204](#L204) |  |
| [205](#L205) | } |
| [206](#L206) |  |
| [207](#L207) | /\* |
| [208](#L208) | \* Check if plugin is installed by slug |
| [209](#L209) | \*/ |
| [210](#L210) | private function is\_plugin\_installed($slug) { |
| [211](#L211) |  |
| [212](#L212) | // Get all plugins |
| [213](#L213) | $all\_plugins = get\_plugins(); |
| [214](#L214) |  |
| [215](#L215) | // Make sure all slugs are in lowercase. |
| [216](#L216) | foreach ($all\_plugins as $plug => $v) { |
| [217](#L217) |  |
| [218](#L218) | // Once something match return success |
| [219](#L219) | if (strtolower($plug) == strtolower($slug)) return true; |
| [220](#L220) |  |
| [221](#L221) | } |
| [222](#L222) |  |
| [223](#L223) | // If nothing just fail |
| [224](#L224) | return false; |
| [225](#L225) |  |
| [226](#L226) | // When I exactly know the letter case... |
| [227](#L227) | // if (!empty($all\_plugins[$slug])) return true; |
| [228](#L228) | // else return false; |
| [229](#L229) |  |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | /\* |
| [233](#L233) | \* Install the plugin by slug |
| [234](#L234) | \*/ |
| [235](#L235) | private function install\_plugin($plugin\_zip) { |
| [236](#L236) |  |
| [237](#L237) | // Include upgrader |
| [238](#L238) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [239](#L239) | wp\_cache\_flush(); |
| [240](#L240) |  |
| [241](#L241) | // Initialize WP upgrader & install the plugin |
| [242](#L242) | $upgrader = new \Plugin\_Upgrader(); |
| [243](#L243) | $installed = $upgrader->install($plugin\_zip); |
| [244](#L244) |  |
| [245](#L245) | // Return status or WP Error |
| [246](#L246) | return $installed; |
| [247](#L247) |  |
| [248](#L248) | } |
| [249](#L249) |  |
| [250](#L250) | /\* |
| [251](#L251) | \* Install file |
| [252](#L252) | \*/ |
| [253](#L253) | private function install($slug, $directory\_slug) { |
| [254](#L254) |  |
| [255](#L255) | // Prepare the URLs and full slug |
| [256](#L256) | $plugin\_slug = $slug; |
| [257](#L257) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [258](#L258) |  |
| [259](#L259) | // Make sure the plugin is not installed |
| [260](#L260) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [261](#L261) |  |
| [262](#L262) | // Upgrade the plugin if it's installed somehow |
| [263](#L263) | $this->upgrade\_plugin($plugin\_slug); |
| [264](#L264) | $installed = true; |
| [265](#L265) |  |
| [266](#L266) | // Install instead |
| [267](#L267) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [268](#L268) |  |
| [269](#L269) | // Check if there was any error |
| [270](#L270) | if (!is\_wp\_error($installed) && $installed) { |
| [271](#L271) | $activate = activate\_plugin($plugin\_slug); |
| [272](#L272) |  |
| [273](#L273) | if (is\_null($activate)) { |
| [274](#L274) |  |
| [275](#L275) | $url = admin\_url('', 'admin'); |
| [276](#L276) |  |
| [277](#L277) | // CDP has special alert when installed with quick-install module |
| [278](#L278) | if ($\_POST['slug'] === 'cdp') { |
| [279](#L279) | update\_option('\_cdp\_cool\_installation', true); |
| [280](#L280) | update\_option('\_cdp\_redirect', true); |
| [281](#L281) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [282](#L282) | } |
| [283](#L283) |  |
| [284](#L284) | // Redirection for MPU |
| [285](#L285) | if ($\_POST['slug'] === 'mpu') { |
| [286](#L286) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [287](#L287) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [288](#L288) | } |
| [289](#L289) |  |
| [290](#L290) | // Redirection for USM |
| [291](#L291) | if ($\_POST['slug'] === 'usm') { |
| [292](#L292) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [293](#L293) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [294](#L294) | } |
| [295](#L295) |  |
| [296](#L296) | // Redirection for BMI |
| [297](#L297) | if ($\_POST['slug'] === 'bmi') { |
| [298](#L298) | update\_option('\_bmi\_redirect', true); |
| [299](#L299) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [300](#L300) | } |
| [301](#L301) |  |
| [302](#L302) | // Redirection for RED |
| [303](#L303) | if ($\_POST['slug'] === 'redi') { |
| [304](#L304) | update\_option('irrp\_activation\_redirect', true); |
| [305](#L305) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [306](#L306) | } |
| [307](#L307) |  |
| [308](#L308) | // Send success |
| [309](#L309) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [310](#L310) |  |
| [311](#L311) | // I don't know what happened here and if it's even possible |
| [312](#L312) | } else wp\_send\_json\_error(); |
| [313](#L313) |  |
| [314](#L314) | // Send fail |
| [315](#L315) | } else wp\_send\_json\_error(); |
| [316](#L316) |  |
| [317](#L317) | } |
| [318](#L318) |  |
| [319](#L319) | /\* |
| [320](#L320) | \* Add/print the Carousel |
| [321](#L321) | \*/ |
| [322](#L322) | public function \_print() { |
| [323](#L323) |  |
| [324](#L324) | try { |
| [325](#L325) |  |
| [326](#L326) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [327](#L327) |  |
| [328](#L328) | } catch (\Exception $e) { |
| [329](#L329) |  |
| [330](#L330) | return $this->fail(7); |
| [331](#L331) |  |
| [332](#L332) | } catch (\Exception $e) { |
| [333](#L333) |  |
| [334](#L334) | return $this->fail(8); |
| [335](#L335) |  |
| [336](#L336) | } |
| [337](#L337) |  |
| [338](#L338) | } |
| [339](#L339) |  |
| [340](#L340) | /\* |
| [341](#L341) | \* Handle ajax request |
| [342](#L342) | \*/ |
| [343](#L343) | public function handle\_installation() { |
| [344](#L344) |  |
| [345](#L345) | // Handle the slug and install the plugin |
| [346](#L346) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [347](#L347) | if ($slug === 'usm') { |
| [348](#L348) |  |
| [349](#L349) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [350](#L350) |  |
| [351](#L351) | } elseif ($slug === 'bmi') { |
| [352](#L352) |  |
| [353](#L353) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [354](#L354) |  |
| [355](#L355) | } elseif ($slug === 'cdp') { |
| [356](#L356) |  |
| [357](#L357) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [358](#L358) |  |
| [359](#L359) | } elseif ($slug === 'mpu') { |
| [360](#L360) |  |
| [361](#L361) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [362](#L362) |  |
| [363](#L363) | } elseif ($slug == 'redi') { |
| [364](#L364) |  |
| [365](#L365) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [366](#L366) |  |
| [367](#L367) | // Anything else error |
| [368](#L368) | } else wp\_send\_json\_error(); |
| [369](#L369) |  |
| [370](#L370) | } |
| [371](#L371) |  |
| [372](#L372) | } |
| [373](#L373) | } |
| [374](#L374) |  |
| [375](#L375) | if (!defined('INISEV\_CAROUSEL\_WIDGET')) { |
| [376](#L376) |  |
| [377](#L377) | $carousel = new Inisev\_Carousel\_Widget(\_\_FILE\_\_, \_\_DIR\_\_); |
| [378](#L378) |  |
| [379](#L379) | } |
| [380](#L380) |  |
| [381](#L381) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/ultimate-posts-widget/tags/2.2.4/banner/misc.php?format=txt)
* [Original Format](/export/3220685/ultimate-posts-widget/tags/2.2.4/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_5404d980_20250111_122912.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fcopy-delete-posts%2Ftags%2F1.3.8%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/copy-delete-posts/tags/1.3.8/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/copy-delete-posts/tags/1.3.8/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [copy-delete-posts](/browser/copy-delete-posts?order=name "View copy-delete-posts")/[tags](/browser/copy-delete-posts/tags?order=name "View tags")/[1.3.8](/browser/copy-delete-posts/tags/1.3.8?order=name "View 1.3.8")/[banner](/browser/copy-delete-posts/tags/1.3.8/banner?order=name "View banner")/[misc.php](/browser/copy-delete-posts/tags/1.3.8/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2861831/copy-delete-posts/tags/1.3.8/banner/misc.php "View differences") on this file was [2861831](/changeset/2861831/ "View changeset 2861831"), checked in by iclyde, [2 years ago](/timeline?from=2023-02-08T05%3A08%3A06Z&precision=second "See timeline at 02/08/2023 05:08:06 AM") |
| --- |
| Version 1.3.8 |
| **File size:** 13.5 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) |  |
| [56](#L56) | } |
| [57](#L57) |  |
| [58](#L58) | // Stop for POST |
| [59](#L59) | return; |
| [60](#L60) |  |
| [61](#L61) | } |
| [62](#L62) |  |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // Check if the script requires to be in hook |
| [91](#L91) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [92](#L92) | $this->hooked = (current\_action() == '' ? false : true); |
| [93](#L93) |  |
| [94](#L94) | // Add hook if it's required |
| [95](#L95) | if (!$this->hooked) { |
| [96](#L96) |  |
| [97](#L97) | // Hook the script to init |
| [98](#L98) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [99](#L99) |  |
| [100](#L100) | } else { |
| [101](#L101) |  |
| [102](#L102) | // The child plugin is already hooked, check if correctly |
| [103](#L103) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [104](#L104) |  |
| [105](#L105) | // If the hook is correct continue |
| [106](#L106) | $this->setup(); |
| [107](#L107) |  |
| [108](#L108) | } else { |
| [109](#L109) |  |
| [110](#L110) | // Hook the script to init if it's not hooked to it already |
| [111](#L111) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [112](#L112) |  |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | } |
| [118](#L118) |  |
| [119](#L119) | /\* |
| [120](#L120) | \* Main setup of this child plugin |
| [121](#L121) | \*/ |
| [122](#L122) | public function setup() { |
| [123](#L123) |  |
| [124](#L124) | // WordPress Global Variables |
| [125](#L125) | global $menu; |
| [126](#L126) |  |
| [127](#L127) | // Make sure $menu exists |
| [128](#L128) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [129](#L129) |  |
| [130](#L130) | // Get menu slug name |
| [131](#L131) | if (!$this->menu\_name($menu)) return false; |
| [132](#L132) |  |
| [133](#L133) | if ($this->page === $this->menu && !defined('INISEV\_CAROUSEL')) { |
| [134](#L134) |  |
| [135](#L135) | // Initialize Carousel constant |
| [136](#L136) | define('INISEV\_CAROUSEL', true); |
| [137](#L137) |  |
| [138](#L138) | // Root URL for assets |
| [139](#L139) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [140](#L140) |  |
| [141](#L141) | // Load styles |
| [142](#L142) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [143](#L143) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [144](#L144) |  |
| [145](#L145) | // Print the footer |
| [146](#L146) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [147](#L147) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [148](#L148) | } |
| [149](#L149) |  |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | } |
| [153](#L153) |  |
| [154](#L154) | /\* |
| [155](#L155) | \* This function may be used for debugging purposes |
| [156](#L156) | \*/ |
| [157](#L157) | private function fail($code = false) { |
| [158](#L158) |  |
| [159](#L159) | if ($code === false) { |
| [160](#L160) |  |
| [161](#L161) | // Return error code if specified as request ($code === false) |
| [162](#L162) | return $this->error; |
| [163](#L163) |  |
| [164](#L164) | } else { |
| [165](#L165) |  |
| [166](#L166) | // Set the error code and return |
| [167](#L167) | // error\_log($code); |
| [168](#L168) | $this->error = $code; |
| [169](#L169) | return false; |
| [170](#L170) |  |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | } |
| [174](#L174) |  |
| [175](#L175) | /\* |
| [176](#L176) | \* Helper function remove \_ -/ characters and make lowercase |
| [177](#L177) | \*/ |
| [178](#L178) | private function makelower($str) { |
| [179](#L179) |  |
| [180](#L180) | $str = str\_replace('\_', '', $str); |
| [181](#L181) | $str = str\_replace('-', '', $str); |
| [182](#L182) | $str = str\_replace('/', '', $str); |
| [183](#L183) | $str = str\_replace('\/', '', $str); |
| [184](#L184) | $str = str\_replace(' ', '', $str); |
| [185](#L185) | $str = strtolower($str); |
| [186](#L186) |  |
| [187](#L187) | return $str; |
| [188](#L188) |  |
| [189](#L189) | } |
| [190](#L190) |  |
| [191](#L191) | /\* |
| [192](#L192) | \* This function will find slug of menu page |
| [193](#L193) | \*/ |
| [194](#L194) | private function menu\_name(&$menu) { |
| [195](#L195) |  |
| [196](#L196) | // Find the menu slug |
| [197](#L197) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [198](#L198) | foreach ($menu as $priority => $details) { |
| [199](#L199) | if (is\_array($details) && sizeof($details) >= 6) { |
| [200](#L200) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [201](#L201) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [202](#L202) | $this->menu = $details[2]; |
| [203](#L203) | break; |
| [204](#L204) | } |
| [205](#L205) | } |
| [206](#L206) | if (isset($this->menu)) break; |
| [207](#L207) | } |
| [208](#L208) | } |
| [209](#L209) |  |
| [210](#L210) | // MyPopUps exception |
| [211](#L211) | if (!isset($this->menu)) { |
| [212](#L212) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [213](#L213) | if (in\_array($this->slug\_low, $mpu)) { |
| [214](#L214) | $this->menu = 'wp-mypopups'; |
| [215](#L215) | } |
| [216](#L216) | } |
| [217](#L217) |  |
| [218](#L218) | if (!isset($this->menu)) { |
| [219](#L219) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [220](#L220) | if (in\_array($this->slug\_low, $bmi)) { |
| [221](#L221) | $this->menu = 'backup-migration'; |
| [222](#L222) | } |
| [223](#L223) | } |
| [224](#L224) |  |
| [225](#L225) | if (!isset($this->menu)) { |
| [226](#L226) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [227](#L227) | if (in\_array($this->slug\_low, $hhr)) { |
| [228](#L228) | $this->menu = 'httphttpsRemoval'; |
| [229](#L229) | } |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | if (!isset($this->menu)) { |
| [233](#L233) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [234](#L234) | if (in\_array($this->slug\_low, $wpc)) { |
| [235](#L235) | $this->menu = 'wp-clone'; |
| [236](#L236) | } |
| [237](#L237) | } |
| [238](#L238) |  |
| [239](#L239) | // Make sure it found something |
| [240](#L240) | if (isset($this->menu)) return true; |
| [241](#L241) | else return $this->fail(6); |
| [242](#L242) |  |
| [243](#L243) | } |
| [244](#L244) |  |
| [245](#L245) | /\* |
| [246](#L246) | \* Helper: Include file |
| [247](#L247) | \*/ |
| [248](#L248) | private function \_include($path) { |
| [249](#L249) |  |
| [250](#L250) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [251](#L251) |  |
| [252](#L252) | } |
| [253](#L253) |  |
| [254](#L254) | /\* |
| [255](#L255) | \* Helper: Get asset URL |
| [256](#L256) | \*/ |
| [257](#L257) | private function get\_asset($file) { |
| [258](#L258) |  |
| [259](#L259) | return $this->url . $file; |
| [260](#L260) |  |
| [261](#L261) | } |
| [262](#L262) |  |
| [263](#L263) | /\* |
| [264](#L264) | \* Helper: Get asset and print URL |
| [265](#L265) | \*/ |
| [266](#L266) | private function \_asset($file) { |
| [267](#L267) |  |
| [268](#L268) | echo $this->get\_asset('views/' . $file); |
| [269](#L269) |  |
| [270](#L270) | } |
| [271](#L271) |  |
| [272](#L272) | /\* |
| [273](#L273) | \* Upgrade plugin, this function probably will never be fired |
| [274](#L274) | \*/ |
| [275](#L275) | private function upgrade\_plugin($plugin\_slug) { |
| [276](#L276) |  |
| [277](#L277) | // Include upgrader |
| [278](#L278) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [279](#L279) | wp\_cache\_flush(); |
| [280](#L280) |  |
| [281](#L281) | // Initialize & upgrade the plugin |
| [282](#L282) | $upgrader = new \Plugin\_Upgrader(); |
| [283](#L283) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [284](#L284) |  |
| [285](#L285) | // Return status or WP Error |
| [286](#L286) | return $upgraded; |
| [287](#L287) |  |
| [288](#L288) | } |
| [289](#L289) |  |
| [290](#L290) | /\* |
| [291](#L291) | \* Check if plugin is installed by slug |
| [292](#L292) | \*/ |
| [293](#L293) | private function is\_plugin\_installed($slug) { |
| [294](#L294) |  |
| [295](#L295) | // Get all plugins |
| [296](#L296) | $all\_plugins = get\_plugins(); |
| [297](#L297) |  |
| [298](#L298) | // Make sure all slugs are in lowercase. |
| [299](#L299) | foreach ($all\_plugins as $plug => $v) { |
| [300](#L300) |  |
| [301](#L301) | // Once something match return success |
| [302](#L302) | if (strtolower($plug) == strtolower($slug)) return true; |
| [303](#L303) |  |
| [304](#L304) | } |
| [305](#L305) |  |
| [306](#L306) | // If nothing just fail |
| [307](#L307) | return false; |
| [308](#L308) |  |
| [309](#L309) | // When I exactly know the letter case... |
| [310](#L310) | // if (!empty($all\_plugins[$slug])) return true; |
| [311](#L311) | // else return false; |
| [312](#L312) |  |
| [313](#L313) | } |
| [314](#L314) |  |
| [315](#L315) | /\* |
| [316](#L316) | \* Install the plugin by slug |
| [317](#L317) | \*/ |
| [318](#L318) | private function install\_plugin($plugin\_zip) { |
| [319](#L319) |  |
| [320](#L320) | // Include upgrader |
| [321](#L321) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [322](#L322) | wp\_cache\_flush(); |
| [323](#L323) |  |
| [324](#L324) | // Initialize WP upgrader & install the plugin |
| [325](#L325) | $upgrader = new \Plugin\_Upgrader(); |
| [326](#L326) | $installed = $upgrader->install($plugin\_zip); |
| [327](#L327) |  |
| [328](#L328) | // Return status or WP Error |
| [329](#L329) | return $installed; |
| [330](#L330) |  |
| [331](#L331) | } |
| [332](#L332) |  |
| [333](#L333) | /\* |
| [334](#L334) | \* Install file |
| [335](#L335) | \*/ |
| [336](#L336) | private function install($slug, $directory\_slug) { |
| [337](#L337) |  |
| [338](#L338) | // Prepare the URLs and full slug |
| [339](#L339) | $plugin\_slug = $slug; |
| [340](#L340) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [341](#L341) |  |
| [342](#L342) | // Make sure the plugin is not installed |
| [343](#L343) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [344](#L344) |  |
| [345](#L345) | // Upgrade the plugin if it's installed somehow |
| [346](#L346) | $this->upgrade\_plugin($plugin\_slug); |
| [347](#L347) | $installed = true; |
| [348](#L348) |  |
| [349](#L349) | // Install instead |
| [350](#L350) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [351](#L351) |  |
| [352](#L352) | // Check if there was any error |
| [353](#L353) | if (!is\_wp\_error($installed) && $installed) { |
| [354](#L354) | $activate = activate\_plugin($plugin\_slug); |
| [355](#L355) |  |
| [356](#L356) | if (is\_null($activate)) { |
| [357](#L357) |  |
| [358](#L358) | $url = admin\_url('', 'admin'); |
| [359](#L359) |  |
| [360](#L360) | // CDP has special alert when installed with quick-install module |
| [361](#L361) | if ($\_POST['slug'] === 'cdp') { |
| [362](#L362) | update\_option('\_cdp\_cool\_installation', true); |
| [363](#L363) | update\_option('\_cdp\_redirect', true); |
| [364](#L364) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [365](#L365) | } |
| [366](#L366) |  |
| [367](#L367) | // Redirection for MPU |
| [368](#L368) | if ($\_POST['slug'] === 'mpu') { |
| [369](#L369) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [370](#L370) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [371](#L371) | } |
| [372](#L372) |  |
| [373](#L373) | // Redirection for USM |
| [374](#L374) | if ($\_POST['slug'] === 'usm') { |
| [375](#L375) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [376](#L376) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [377](#L377) | } |
| [378](#L378) |  |
| [379](#L379) | // Redirection for BMI |
| [380](#L380) | if ($\_POST['slug'] === 'bmi') { |
| [381](#L381) | update\_option('\_bmi\_redirect', true); |
| [382](#L382) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [383](#L383) | } |
| [384](#L384) |  |
| [385](#L385) | // Redirection for RED |
| [386](#L386) | if ($\_POST['slug'] === 'redi') { |
| [387](#L387) | update\_option('irrp\_activation\_redirect', true); |
| [388](#L388) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [389](#L389) | } |
| [390](#L390) |  |
| [391](#L391) | // Send success |
| [392](#L392) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [393](#L393) |  |
| [394](#L394) | // I don't know what happened here and if it's even possible |
| [395](#L395) | } else wp\_send\_json\_error(); |
| [396](#L396) |  |
| [397](#L397) | // Send fail |
| [398](#L398) | } else wp\_send\_json\_error(); |
| [399](#L399) |  |
| [400](#L400) | } |
| [401](#L401) |  |
| [402](#L402) | /\* |
| [403](#L403) | \* Add/print the Carousel |
| [404](#L404) | \*/ |
| [405](#L405) | public function \_print() { |
| [406](#L406) |  |
| [407](#L407) | try { |
| [408](#L408) |  |
| [409](#L409) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [410](#L410) |  |
| [411](#L411) | } catch (\Exception $e) { |
| [412](#L412) |  |
| [413](#L413) | return $this->fail(7); |
| [414](#L414) |  |
| [415](#L415) | } catch (\Exception $e) { |
| [416](#L416) |  |
| [417](#L417) | return $this->fail(8); |
| [418](#L418) |  |
| [419](#L419) | } |
| [420](#L420) |  |
| [421](#L421) | } |
| [422](#L422) |  |
| [423](#L423) | /\* |
| [424](#L424) | \* Handle ajax request |
| [425](#L425) | \*/ |
| [426](#L426) | public function handle\_installation() { |
| [427](#L427) |  |
| [428](#L428) | // Handle the slug and install the plugin |
| [429](#L429) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [430](#L430) | if ($slug === 'usm') { |
| [431](#L431) |  |
| [432](#L432) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [433](#L433) |  |
| [434](#L434) | } elseif ($slug === 'bmi') { |
| [435](#L435) |  |
| [436](#L436) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [437](#L437) |  |
| [438](#L438) | } elseif ($slug === 'cdp') { |
| [439](#L439) |  |
| [440](#L440) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [441](#L441) |  |
| [442](#L442) | } elseif ($slug === 'mpu') { |
| [443](#L443) |  |
| [444](#L444) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [445](#L445) |  |
| [446](#L446) | } elseif ($slug == 'redi') { |
| [447](#L447) |  |
| [448](#L448) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [449](#L449) |  |
| [450](#L450) | // Anything else error |
| [451](#L451) | } else wp\_send\_json\_error(); |
| [452](#L452) |  |
| [453](#L453) | } |
| [454](#L454) |  |
| [455](#L455) | } |
| [456](#L456) | } |
| [457](#L457) |  |
| [458](#L458) | // Disallow usage of multiple Carousels + allow only GET requests |
| [459](#L459) | if (!defined('INISEV\_CAROUSEL')) { |
| [460](#L460) |  |
| [461](#L461) | // Make sure settings/menu page slug exsits |
| [462](#L462) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [463](#L463) |  |
| [464](#L464) | // Initialize the Carousel |
| [465](#L465) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [466](#L466) |  |
| [467](#L467) | } |
| [468](#L468) |  |
| [469](#L469) | } |
| [470](#L470) |  |
| [471](#L471) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/copy-delete-posts/tags/1.3.8/banner/misc.php?format=txt)
* [Original Format](/export/3220684/copy-delete-posts/tags/1.3.8/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_7d6f497b_20250111_122948.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fenhanced-text-widget%2Ftags%2F1.5.7%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/enhanced-text-widget/tags/1.5.7/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/enhanced-text-widget/tags/1.5.7/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [enhanced-text-widget](/browser/enhanced-text-widget?order=name "View enhanced-text-widget")/[tags](/browser/enhanced-text-widget/tags?order=name "View tags")/[1.5.7](/browser/enhanced-text-widget/tags/1.5.7?order=name "View 1.5.7")/[banner](/browser/enhanced-text-widget/tags/1.5.7/banner?order=name "View banner")/[misc.php](/browser/enhanced-text-widget/tags/1.5.7/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2875686/enhanced-text-widget/tags/1.5.7/banner/misc.php "View differences") on this file was [2875686](/changeset/2875686/ "View changeset 2875686"), checked in by iclyde, [23 months ago](/timeline?from=2023-03-07T06%3A50%3A27Z&precision=second "See timeline at 03/07/2023 06:50:27 AM") |
| --- |
| Version 1.5.7 |
| **File size:** 11.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.2.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel\_Widget')) { |
| [22](#L22) | class Inisev\_Carousel\_Widget { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [35](#L35) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) | add\_action('wp\_ajax\_inisev\_installation\_widget', [&$this, 'handle\_installation']); |
| [56](#L56) |  |
| [57](#L57) | } |
| [58](#L58) |  |
| [59](#L59) | // Stop for POST |
| [60](#L60) | return; |
| [61](#L61) |  |
| [62](#L62) | } |
| [63](#L63) | // WordPress globals |
| [64](#L64) | global $menu; |
| [65](#L65) |  |
| [66](#L66) | // Make sure WP\_PLUGIN\_DIR is defined |
| [67](#L67) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [68](#L68) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [69](#L69) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [70](#L70) |  |
| [71](#L71) | // That's in case the developer moved this file somewhere else |
| [72](#L72) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [73](#L73) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [74](#L74) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [75](#L75) |  |
| [76](#L76) | // Make the "probably" slug name |
| [77](#L77) | // $this->page = sanitize\_text\_field(isset($\_GET['page'])); |
| [78](#L78) | $this->slug = $tmp\_name[0]; |
| [79](#L79) | $this->root = $tmp\_root . $this->slug; |
| [80](#L80) |  |
| [81](#L81) | // Make lowercase slug |
| [82](#L82) | $this->slug\_low = $this->makelower($this->slug); |
| [83](#L83) |  |
| [84](#L84) | // We don't need those anymore |
| [85](#L85) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [86](#L86) |  |
| [87](#L87) | // Check if the guess is correct enough |
| [88](#L88) | if (!is\_dir($this->root)) return $this->fail(3); |
| [89](#L89) |  |
| [90](#L90) | // If the hook is correct continue |
| [91](#L91) | $this->setup(); |
| [92](#L92) |  |
| [93](#L93) | } |
| [94](#L94) |  |
| [95](#L95) | /\* |
| [96](#L96) | \* Main setup of this child plugin |
| [97](#L97) | \*/ |
| [98](#L98) | public function setup() { |
| [99](#L99) |  |
| [100](#L100) | // WordPress Global Variables |
| [101](#L101) | global $menu, $pagenow; |
| [102](#L102) | // Make sure $menu exists |
| [103](#L103) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [104](#L104) |  |
| [105](#L105) | if ($pagenow == 'widgets.php' && !defined('INISEV\_CAROUSEL\_WIDGET')) { |
| [106](#L106) |  |
| [107](#L107) | // Initialize Carousel constant |
| [108](#L108) | define('INISEV\_CAROUSEL\_WIDGET', true); |
| [109](#L109) |  |
| [110](#L110) | // Root URL for assets |
| [111](#L111) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [112](#L112) |  |
| [113](#L113) | // Load styles |
| [114](#L114) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [115](#L115) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [116](#L116) |  |
| [117](#L117) | // Pass nonce to JS |
| [118](#L118) | wp\_localize\_script('inisev-carousel-script', 'inisev\_carousel', [ |
| [119](#L119) | 'nonce' => wp\_create\_nonce('inisev\_carousel'), |
| [120](#L120) | ], true); |
| [121](#L121) |  |
| [122](#L122) | // Print the footer |
| [123](#L123) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [124](#L124) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [125](#L125) | } |
| [126](#L126) |  |
| [127](#L127) | // Print the footer |
| [128](#L128) | add\_action('admin\_footer', [&$this, '\_print'], 1); |
| [129](#L129) |  |
| [130](#L130) | } |
| [131](#L131) |  |
| [132](#L132) | } |
| [133](#L133) |  |
| [134](#L134) | /\* |
| [135](#L135) | \* This function may be used for debugging purposes |
| [136](#L136) | \*/ |
| [137](#L137) | private function fail($code = false) { |
| [138](#L138) |  |
| [139](#L139) | if ($code === false) { |
| [140](#L140) |  |
| [141](#L141) | // Return error code if specified as request ($code === false) |
| [142](#L142) | return $this->error; |
| [143](#L143) |  |
| [144](#L144) | } else { |
| [145](#L145) |  |
| [146](#L146) | // Set the error code and return |
| [147](#L147) | // error\_log($code); |
| [148](#L148) | $this->error = $code; |
| [149](#L149) | return false; |
| [150](#L150) |  |
| [151](#L151) | } |
| [152](#L152) |  |
| [153](#L153) | } |
| [154](#L154) |  |
| [155](#L155) | /\* |
| [156](#L156) | \* Helper function remove \_ -/ characters and make lowercase |
| [157](#L157) | \*/ |
| [158](#L158) | private function makelower($str) { |
| [159](#L159) |  |
| [160](#L160) | $str = str\_replace('\_', '', $str); |
| [161](#L161) | $str = str\_replace('-', '', $str); |
| [162](#L162) | $str = str\_replace('/', '', $str); |
| [163](#L163) | $str = str\_replace('\/', '', $str); |
| [164](#L164) | $str = str\_replace(' ', '', $str); |
| [165](#L165) | $str = strtolower($str); |
| [166](#L166) |  |
| [167](#L167) | return $str; |
| [168](#L168) |  |
| [169](#L169) | } |
| [170](#L170) |  |
| [171](#L171) | /\* |
| [172](#L172) | \* Helper: Include file |
| [173](#L173) | \*/ |
| [174](#L174) | private function \_include($path) { |
| [175](#L175) |  |
| [176](#L176) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [177](#L177) |  |
| [178](#L178) | } |
| [179](#L179) |  |
| [180](#L180) | /\* |
| [181](#L181) | \* Helper: Get asset URL |
| [182](#L182) | \*/ |
| [183](#L183) | private function get\_asset($file) { |
| [184](#L184) |  |
| [185](#L185) | return $this->url . $file; |
| [186](#L186) |  |
| [187](#L187) | } |
| [188](#L188) |  |
| [189](#L189) | /\* |
| [190](#L190) | \* Helper: Get asset and print URL |
| [191](#L191) | \*/ |
| [192](#L192) | private function \_asset($file) { |
| [193](#L193) |  |
| [194](#L194) | echo $this->get\_asset('views/' . $file); |
| [195](#L195) |  |
| [196](#L196) | } |
| [197](#L197) |  |
| [198](#L198) | /\* |
| [199](#L199) | \* Upgrade plugin, this function probably will never be fired |
| [200](#L200) | \*/ |
| [201](#L201) | private function upgrade\_plugin($plugin\_slug) { |
| [202](#L202) |  |
| [203](#L203) | // Include upgrader |
| [204](#L204) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [205](#L205) | wp\_cache\_flush(); |
| [206](#L206) |  |
| [207](#L207) | // Initialize & upgrade the plugin |
| [208](#L208) | $upgrader = new \Plugin\_Upgrader(); |
| [209](#L209) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [210](#L210) |  |
| [211](#L211) | // Return status or WP Error |
| [212](#L212) | return $upgraded; |
| [213](#L213) |  |
| [214](#L214) | } |
| [215](#L215) |  |
| [216](#L216) | /\* |
| [217](#L217) | \* Check if plugin is installed by slug |
| [218](#L218) | \*/ |
| [219](#L219) | private function is\_plugin\_installed($slug) { |
| [220](#L220) |  |
| [221](#L221) | // Get all plugins |
| [222](#L222) | $all\_plugins = get\_plugins(); |
| [223](#L223) |  |
| [224](#L224) | // Make sure all slugs are in lowercase. |
| [225](#L225) | foreach ($all\_plugins as $plug => $v) { |
| [226](#L226) |  |
| [227](#L227) | // Once something match return success |
| [228](#L228) | if (strtolower($plug) == strtolower($slug)) return true; |
| [229](#L229) |  |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | // If nothing just fail |
| [233](#L233) | return false; |
| [234](#L234) |  |
| [235](#L235) | // When I exactly know the letter case... |
| [236](#L236) | // if (!empty($all\_plugins[$slug])) return true; |
| [237](#L237) | // else return false; |
| [238](#L238) |  |
| [239](#L239) | } |
| [240](#L240) |  |
| [241](#L241) | /\* |
| [242](#L242) | \* Install the plugin by slug |
| [243](#L243) | \*/ |
| [244](#L244) | private function install\_plugin($plugin\_zip) { |
| [245](#L245) |  |
| [246](#L246) | // Include upgrader |
| [247](#L247) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [248](#L248) | wp\_cache\_flush(); |
| [249](#L249) |  |
| [250](#L250) | // Initialize WP upgrader & install the plugin |
| [251](#L251) | $upgrader = new \Plugin\_Upgrader(); |
| [252](#L252) | $installed = $upgrader->install($plugin\_zip); |
| [253](#L253) |  |
| [254](#L254) | // Return status or WP Error |
| [255](#L255) | return $installed; |
| [256](#L256) |  |
| [257](#L257) | } |
| [258](#L258) |  |
| [259](#L259) | /\* |
| [260](#L260) | \* Install file |
| [261](#L261) | \*/ |
| [262](#L262) | private function install($slug, $directory\_slug) { |
| [263](#L263) |  |
| [264](#L264) | // Prepare the URLs and full slug |
| [265](#L265) | $plugin\_slug = $slug; |
| [266](#L266) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [267](#L267) |  |
| [268](#L268) | // Make sure the plugin is not installed |
| [269](#L269) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [270](#L270) |  |
| [271](#L271) | // Upgrade the plugin if it's installed somehow |
| [272](#L272) | $this->upgrade\_plugin($plugin\_slug); |
| [273](#L273) | $installed = true; |
| [274](#L274) |  |
| [275](#L275) | // Install instead |
| [276](#L276) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [277](#L277) |  |
| [278](#L278) | // Check if there was any error |
| [279](#L279) | if (!is\_wp\_error($installed) && $installed) { |
| [280](#L280) | $activate = activate\_plugin($plugin\_slug); |
| [281](#L281) |  |
| [282](#L282) | if (is\_null($activate)) { |
| [283](#L283) |  |
| [284](#L284) | $url = admin\_url('', 'admin'); |
| [285](#L285) |  |
| [286](#L286) | // CDP has special alert when installed with quick-install module |
| [287](#L287) | if ($\_POST['slug'] === 'cdp') { |
| [288](#L288) | update\_option('\_cdp\_cool\_installation', true); |
| [289](#L289) | update\_option('\_cdp\_redirect', true); |
| [290](#L290) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [291](#L291) | } |
| [292](#L292) |  |
| [293](#L293) | // Redirection for MPU |
| [294](#L294) | if ($\_POST['slug'] === 'mpu') { |
| [295](#L295) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [296](#L296) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [297](#L297) | } |
| [298](#L298) |  |
| [299](#L299) | // Redirection for USM |
| [300](#L300) | if ($\_POST['slug'] === 'usm') { |
| [301](#L301) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [302](#L302) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [303](#L303) | } |
| [304](#L304) |  |
| [305](#L305) | // Redirection for BMI |
| [306](#L306) | if ($\_POST['slug'] === 'bmi') { |
| [307](#L307) | update\_option('\_bmi\_redirect', true); |
| [308](#L308) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [309](#L309) | } |
| [310](#L310) |  |
| [311](#L311) | // Redirection for RED |
| [312](#L312) | if ($\_POST['slug'] === 'redi') { |
| [313](#L313) | update\_option('irrp\_activation\_redirect', true); |
| [314](#L314) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [315](#L315) | } |
| [316](#L316) |  |
| [317](#L317) | // Send success |
| [318](#L318) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [319](#L319) |  |
| [320](#L320) | // I don't know what happened here and if it's even possible |
| [321](#L321) | } else wp\_send\_json\_error(); |
| [322](#L322) |  |
| [323](#L323) | // Send fail |
| [324](#L324) | } else wp\_send\_json\_error(); |
| [325](#L325) |  |
| [326](#L326) | } |
| [327](#L327) |  |
| [328](#L328) | /\* |
| [329](#L329) | \* Add/print the Carousel |
| [330](#L330) | \*/ |
| [331](#L331) | public function \_print() { |
| [332](#L332) | try { |
| [333](#L333) |  |
| [334](#L334) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [335](#L335) |  |
| [336](#L336) | } catch (\Exception $e) { |
| [337](#L337) |  |
| [338](#L338) | return $this->fail(7); |
| [339](#L339) |  |
| [340](#L340) | } catch (\Exception $e) { |
| [341](#L341) |  |
| [342](#L342) | return $this->fail(8); |
| [343](#L343) |  |
| [344](#L344) | } |
| [345](#L345) |  |
| [346](#L346) | } |
| [347](#L347) |  |
| [348](#L348) | /\* |
| [349](#L349) | \* Handle ajax request |
| [350](#L350) | \*/ |
| [351](#L351) | public function handle\_installation() { |
| [352](#L352) |  |
| [353](#L353) | if (check\_ajax\_referer('inisev\_carousel', 'nonce', false) === false) { |
| [354](#L354) | wp\_send\_json\_error(); |
| [355](#L355) | } |
| [356](#L356) |  |
| [357](#L357) | // Handle the slug and install the plugin |
| [358](#L358) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [359](#L359) | if ($slug === 'usm') { |
| [360](#L360) |  |
| [361](#L361) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [362](#L362) |  |
| [363](#L363) | } elseif ($slug === 'bmi') { |
| [364](#L364) |  |
| [365](#L365) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [366](#L366) |  |
| [367](#L367) | } elseif ($slug === 'cdp') { |
| [368](#L368) |  |
| [369](#L369) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [370](#L370) |  |
| [371](#L371) | } elseif ($slug === 'mpu') { |
| [372](#L372) |  |
| [373](#L373) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [374](#L374) |  |
| [375](#L375) | } elseif ($slug == 'redi') { |
| [376](#L376) |  |
| [377](#L377) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [378](#L378) |  |
| [379](#L379) | // Anything else error |
| [380](#L380) | } else wp\_send\_json\_error(); |
| [381](#L381) |  |
| [382](#L382) | } |
| [383](#L383) |  |
| [384](#L384) | } |
| [385](#L385) | } |
| [386](#L386) |  |
| [387](#L387) | if (!defined('INISEV\_CAROUSEL\_WIDGET')) { |
| [388](#L388) | $carousel = new Inisev\_Carousel\_Widget(\_\_FILE\_\_, \_\_DIR\_\_); |
| [389](#L389) |  |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/enhanced-text-widget/tags/1.5.7/banner/misc.php?format=txt)
* [Original Format](/export/3220685/enhanced-text-widget/tags/1.5.7/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_14c4fd93_20250111_122922.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fcopy-delete-posts%2Ftags%2F1.4.0%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/copy-delete-posts/tags/1.4.0/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/copy-delete-posts/tags/1.4.0/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [copy-delete-posts](/browser/copy-delete-posts?order=name "View copy-delete-posts")/[tags](/browser/copy-delete-posts/tags?order=name "View tags")/[1.4.0](/browser/copy-delete-posts/tags/1.4.0?order=name "View 1.4.0")/[banner](/browser/copy-delete-posts/tags/1.4.0/banner?order=name "View banner")/[misc.php](/browser/copy-delete-posts/tags/1.4.0/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2922872/copy-delete-posts/tags/1.4.0/banner/misc.php "View differences") on this file was [2922872](/changeset/2922872/ "View changeset 2922872"), checked in by iclyde, [19 months ago](/timeline?from=2023-06-07T12%3A08%3A40Z&precision=second "See timeline at 06/07/2023 12:08:40 PM") |
| --- |
| Version 1.4.0 |
| **File size:** 14.1 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.3.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) | add\_action('wp\_ajax\_inisev\_installation\_widget', [&$this, 'handle\_installation']); |
| [56](#L56) |  |
| [57](#L57) | } |
| [58](#L58) |  |
| [59](#L59) | // Stop for POST |
| [60](#L60) | return; |
| [61](#L61) |  |
| [62](#L62) | } |
| [63](#L63) |  |
| [64](#L64) | // WordPress globals |
| [65](#L65) | global $menu; |
| [66](#L66) |  |
| [67](#L67) | // Make sure WP\_PLUGIN\_DIR is defined |
| [68](#L68) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [69](#L69) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [70](#L70) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [71](#L71) |  |
| [72](#L72) | // That's in case the developer moved this file somewhere else |
| [73](#L73) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [74](#L74) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [75](#L75) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [76](#L76) |  |
| [77](#L77) | // Make the "probably" slug name |
| [78](#L78) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [79](#L79) | $this->slug = $tmp\_name[0]; |
| [80](#L80) | $this->root = $tmp\_root . $this->slug; |
| [81](#L81) |  |
| [82](#L82) | // Make lowercase slug |
| [83](#L83) | $this->slug\_low = $this->makelower($this->slug); |
| [84](#L84) |  |
| [85](#L85) | // We don't need those anymore |
| [86](#L86) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [87](#L87) |  |
| [88](#L88) | // Check if the guess is correct enough |
| [89](#L89) | if (!is\_dir($this->root)) return $this->fail(3); |
| [90](#L90) |  |
| [91](#L91) | // Check if the script requires to be in hook |
| [92](#L92) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [93](#L93) | $this->hooked = (current\_action() == '' ? false : true); |
| [94](#L94) |  |
| [95](#L95) | // Add hook if it's required |
| [96](#L96) | if (!$this->hooked) { |
| [97](#L97) |  |
| [98](#L98) | // Hook the script to init |
| [99](#L99) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [100](#L100) |  |
| [101](#L101) | } else { |
| [102](#L102) |  |
| [103](#L103) | // The child plugin is already hooked, check if correctly |
| [104](#L104) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [105](#L105) |  |
| [106](#L106) | // If the hook is correct continue |
| [107](#L107) | $this->setup(); |
| [108](#L108) |  |
| [109](#L109) | } else { |
| [110](#L110) |  |
| [111](#L111) | // Hook the script to init if it's not hooked to it already |
| [112](#L112) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [113](#L113) |  |
| [114](#L114) | } |
| [115](#L115) |  |
| [116](#L116) | } |
| [117](#L117) |  |
| [118](#L118) | } |
| [119](#L119) |  |
| [120](#L120) | /\* |
| [121](#L121) | \* Main setup of this child plugin |
| [122](#L122) | \*/ |
| [123](#L123) | public function setup() { |
| [124](#L124) |  |
| [125](#L125) | // WordPress Global Variables |
| [126](#L126) | global $menu; |
| [127](#L127) |  |
| [128](#L128) | // Make sure $menu exists |
| [129](#L129) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [130](#L130) | if (!current\_user\_can('install\_plugins')) return $this->fail(10); |
| [131](#L131) |  |
| [132](#L132) | // Get menu slug name |
| [133](#L133) | if (!$this->menu\_name($menu)) return false; |
| [134](#L134) |  |
| [135](#L135) | if (/\*$this->page === $this->menu && \*/!defined('INISEV\_CAROUSEL')) { |
| [136](#L136) |  |
| [137](#L137) | // Initialize Carousel constant |
| [138](#L138) | define('INISEV\_CAROUSEL', true); |
| [139](#L139) |  |
| [140](#L140) | // Root URL for assets |
| [141](#L141) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [142](#L142) |  |
| [143](#L143) | // Load styles |
| [144](#L144) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [145](#L145) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [146](#L146) |  |
| [147](#L147) | // Pass nonce to JS |
| [148](#L148) | wp\_localize\_script('inisev-carousel-script', 'inisev\_carousel', [ |
| [149](#L149) | 'nonce' => wp\_create\_nonce('inisev\_carousel'), |
| [150](#L150) | ], true); |
| [151](#L151) |  |
| [152](#L152) | // Print the footer |
| [153](#L153) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [154](#L154) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [155](#L155) | } |
| [156](#L156) |  |
| [157](#L157) | } |
| [158](#L158) |  |
| [159](#L159) | } |
| [160](#L160) |  |
| [161](#L161) | /\* |
| [162](#L162) | \* This function may be used for debugging purposes |
| [163](#L163) | \*/ |
| [164](#L164) | private function fail($code = false) { |
| [165](#L165) |  |
| [166](#L166) | if ($code === false) { |
| [167](#L167) |  |
| [168](#L168) | // Return error code if specified as request ($code === false) |
| [169](#L169) | return $this->error; |
| [170](#L170) |  |
| [171](#L171) | } else { |
| [172](#L172) |  |
| [173](#L173) | // Set the error code and return |
| [174](#L174) | // error\_log($code); |
| [175](#L175) | $this->error = $code; |
| [176](#L176) | return false; |
| [177](#L177) |  |
| [178](#L178) | } |
| [179](#L179) |  |
| [180](#L180) | } |
| [181](#L181) |  |
| [182](#L182) | /\* |
| [183](#L183) | \* Helper function remove \_ -/ characters and make lowercase |
| [184](#L184) | \*/ |
| [185](#L185) | private function makelower($str) { |
| [186](#L186) |  |
| [187](#L187) | $str = str\_replace('\_', '', $str); |
| [188](#L188) | $str = str\_replace('-', '', $str); |
| [189](#L189) | $str = str\_replace('/', '', $str); |
| [190](#L190) | $str = str\_replace('\/', '', $str); |
| [191](#L191) | $str = str\_replace(' ', '', $str); |
| [192](#L192) | $str = strtolower($str); |
| [193](#L193) |  |
| [194](#L194) | return $str; |
| [195](#L195) |  |
| [196](#L196) | } |
| [197](#L197) |  |
| [198](#L198) | /\* |
| [199](#L199) | \* This function will find slug of menu page |
| [200](#L200) | \*/ |
| [201](#L201) | private function menu\_name(&$menu) { |
| [202](#L202) |  |
| [203](#L203) | // Find the menu slug |
| [204](#L204) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [205](#L205) | foreach ($menu as $priority => $details) { |
| [206](#L206) | if (is\_array($details) && sizeof($details) >= 6) { |
| [207](#L207) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [208](#L208) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [209](#L209) | $this->menu = $details[2]; |
| [210](#L210) | break; |
| [211](#L211) | } |
| [212](#L212) | } |
| [213](#L213) | if (isset($this->menu)) break; |
| [214](#L214) | } |
| [215](#L215) | } |
| [216](#L216) |  |
| [217](#L217) | // MyPopUps exception |
| [218](#L218) | if (!isset($this->menu)) { |
| [219](#L219) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [220](#L220) | if (in\_array($this->slug\_low, $mpu)) { |
| [221](#L221) | $this->menu = 'wp-mypopups'; |
| [222](#L222) | } |
| [223](#L223) | } |
| [224](#L224) |  |
| [225](#L225) | if (!isset($this->menu)) { |
| [226](#L226) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [227](#L227) | if (in\_array($this->slug\_low, $bmi)) { |
| [228](#L228) | $this->menu = 'backup-migration'; |
| [229](#L229) | } |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | if (!isset($this->menu)) { |
| [233](#L233) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [234](#L234) | if (in\_array($this->slug\_low, $hhr)) { |
| [235](#L235) | $this->menu = 'httphttpsRemoval'; |
| [236](#L236) | } |
| [237](#L237) | } |
| [238](#L238) |  |
| [239](#L239) | if (!isset($this->menu)) { |
| [240](#L240) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [241](#L241) | if (in\_array($this->slug\_low, $wpc)) { |
| [242](#L242) | $this->menu = 'wp-clone'; |
| [243](#L243) | } |
| [244](#L244) | } |
| [245](#L245) |  |
| [246](#L246) | // Make sure it found something |
| [247](#L247) | if (isset($this->menu)) return true; |
| [248](#L248) | else return true; |
| [249](#L249) | // else return $this->fail(6); |
| [250](#L250) |  |
| [251](#L251) | } |
| [252](#L252) |  |
| [253](#L253) | /\* |
| [254](#L254) | \* Helper: Include file |
| [255](#L255) | \*/ |
| [256](#L256) | private function \_include($path) { |
| [257](#L257) |  |
| [258](#L258) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [259](#L259) |  |
| [260](#L260) | } |
| [261](#L261) |  |
| [262](#L262) | /\* |
| [263](#L263) | \* Helper: Get asset URL |
| [264](#L264) | \*/ |
| [265](#L265) | private function get\_asset($file) { |
| [266](#L266) |  |
| [267](#L267) | return $this->url . $file; |
| [268](#L268) |  |
| [269](#L269) | } |
| [270](#L270) |  |
| [271](#L271) | /\* |
| [272](#L272) | \* Helper: Get asset and print URL |
| [273](#L273) | \*/ |
| [274](#L274) | private function \_asset($file) { |
| [275](#L275) |  |
| [276](#L276) | echo $this->get\_asset('views/' . $file); |
| [277](#L277) |  |
| [278](#L278) | } |
| [279](#L279) |  |
| [280](#L280) | /\* |
| [281](#L281) | \* Upgrade plugin, this function probably will never be fired |
| [282](#L282) | \*/ |
| [283](#L283) | private function upgrade\_plugin($plugin\_slug) { |
| [284](#L284) |  |
| [285](#L285) | // Include upgrader |
| [286](#L286) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [287](#L287) | wp\_cache\_flush(); |
| [288](#L288) |  |
| [289](#L289) | // Initialize & upgrade the plugin |
| [290](#L290) | $upgrader = new \Plugin\_Upgrader(); |
| [291](#L291) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [292](#L292) |  |
| [293](#L293) | // Return status or WP Error |
| [294](#L294) | return $upgraded; |
| [295](#L295) |  |
| [296](#L296) | } |
| [297](#L297) |  |
| [298](#L298) | /\* |
| [299](#L299) | \* Check if plugin is installed by slug |
| [300](#L300) | \*/ |
| [301](#L301) | private function is\_plugin\_installed($slug) { |
| [302](#L302) |  |
| [303](#L303) | // Get all plugins |
| [304](#L304) | $all\_plugins = get\_plugins(); |
| [305](#L305) |  |
| [306](#L306) | // Make sure all slugs are in lowercase. |
| [307](#L307) | foreach ($all\_plugins as $plug => $v) { |
| [308](#L308) |  |
| [309](#L309) | // Once something match return success |
| [310](#L310) | if (strtolower($plug) == strtolower($slug)) return true; |
| [311](#L311) |  |
| [312](#L312) | } |
| [313](#L313) |  |
| [314](#L314) | // If nothing just fail |
| [315](#L315) | return false; |
| [316](#L316) |  |
| [317](#L317) | // When I exactly know the letter case... |
| [318](#L318) | // if (!empty($all\_plugins[$slug])) return true; |
| [319](#L319) | // else return false; |
| [320](#L320) |  |
| [321](#L321) | } |
| [322](#L322) |  |
| [323](#L323) | /\* |
| [324](#L324) | \* Install the plugin by slug |
| [325](#L325) | \*/ |
| [326](#L326) | private function install\_plugin($plugin\_zip) { |
| [327](#L327) |  |
| [328](#L328) | // Include upgrader |
| [329](#L329) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [330](#L330) | wp\_cache\_flush(); |
| [331](#L331) |  |
| [332](#L332) | // Initialize WP upgrader & install the plugin |
| [333](#L333) | $upgrader = new \Plugin\_Upgrader(); |
| [334](#L334) | $installed = $upgrader->install($plugin\_zip); |
| [335](#L335) |  |
| [336](#L336) | // Return status or WP Error |
| [337](#L337) | return $installed; |
| [338](#L338) |  |
| [339](#L339) | } |
| [340](#L340) |  |
| [341](#L341) | /\* |
| [342](#L342) | \* Install file |
| [343](#L343) | \*/ |
| [344](#L344) | private function install($slug, $directory\_slug) { |
| [345](#L345) |  |
| [346](#L346) | // Prepare the URLs and full slug |
| [347](#L347) | $plugin\_slug = $slug; |
| [348](#L348) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [349](#L349) |  |
| [350](#L350) | // Make sure the plugin is not installed |
| [351](#L351) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [352](#L352) |  |
| [353](#L353) | // Upgrade the plugin if it's installed somehow |
| [354](#L354) | $this->upgrade\_plugin($plugin\_slug); |
| [355](#L355) | $installed = true; |
| [356](#L356) |  |
| [357](#L357) | // Install instead |
| [358](#L358) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [359](#L359) |  |
| [360](#L360) | // Check if there was any error |
| [361](#L361) | if (!is\_wp\_error($installed) && $installed) { |
| [362](#L362) | $activate = activate\_plugin($plugin\_slug); |
| [363](#L363) |  |
| [364](#L364) | if (is\_null($activate)) { |
| [365](#L365) |  |
| [366](#L366) | $url = admin\_url('', 'admin'); |
| [367](#L367) |  |
| [368](#L368) | // CDP has special alert when installed with quick-install module |
| [369](#L369) | if ($\_POST['slug'] === 'cdp') { |
| [370](#L370) | update\_option('\_cdp\_cool\_installation', true); |
| [371](#L371) | update\_option('\_cdp\_redirect', true); |
| [372](#L372) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [373](#L373) | } |
| [374](#L374) |  |
| [375](#L375) | // Redirection for MPU |
| [376](#L376) | if ($\_POST['slug'] === 'mpu') { |
| [377](#L377) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [378](#L378) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [379](#L379) | } |
| [380](#L380) |  |
| [381](#L381) | // Redirection for USM |
| [382](#L382) | if ($\_POST['slug'] === 'usm') { |
| [383](#L383) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [384](#L384) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [385](#L385) | } |
| [386](#L386) |  |
| [387](#L387) | // Redirection for BMI |
| [388](#L388) | if ($\_POST['slug'] === 'bmi') { |
| [389](#L389) | update\_option('\_bmi\_redirect', true); |
| [390](#L390) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [391](#L391) | } |
| [392](#L392) |  |
| [393](#L393) | // Redirection for RED |
| [394](#L394) | if ($\_POST['slug'] === 'redi') { |
| [395](#L395) | update\_option('irrp\_activation\_redirect', true); |
| [396](#L396) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [397](#L397) | } |
| [398](#L398) |  |
| [399](#L399) | // Send success |
| [400](#L400) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [401](#L401) |  |
| [402](#L402) | // I don't know what happened here and if it's even possible |
| [403](#L403) | } else wp\_send\_json\_error(); |
| [404](#L404) |  |
| [405](#L405) | // Send fail |
| [406](#L406) | } else wp\_send\_json\_error(); |
| [407](#L407) |  |
| [408](#L408) | } |
| [409](#L409) |  |
| [410](#L410) | /\* |
| [411](#L411) | \* Add/print the Carousel |
| [412](#L412) | \*/ |
| [413](#L413) | public function \_print() { |
| [414](#L414) |  |
| [415](#L415) | try { |
| [416](#L416) |  |
| [417](#L417) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [418](#L418) |  |
| [419](#L419) | } catch (\Exception $e) { |
| [420](#L420) |  |
| [421](#L421) | return $this->fail(7); |
| [422](#L422) |  |
| [423](#L423) | } catch (\Exception $e) { |
| [424](#L424) |  |
| [425](#L425) | return $this->fail(8); |
| [426](#L426) |  |
| [427](#L427) | } |
| [428](#L428) |  |
| [429](#L429) | } |
| [430](#L430) |  |
| [431](#L431) | /\* |
| [432](#L432) | \* Handle ajax request |
| [433](#L433) | \*/ |
| [434](#L434) | public function handle\_installation() { |
| [435](#L435) |  |
| [436](#L436) | if (check\_ajax\_referer('inisev\_carousel', 'nonce', false) === false) { |
| [437](#L437) | return wp\_send\_json\_error(); |
| [438](#L438) | } |
| [439](#L439) |  |
| [440](#L440) | if (!current\_user\_can('install\_plugins')) { |
| [441](#L441) | return wp\_send\_json\_error(); |
| [442](#L442) | } |
| [443](#L443) |  |
| [444](#L444) | // Handle the slug and install the plugin |
| [445](#L445) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [446](#L446) | if ($slug === 'usm') { |
| [447](#L447) |  |
| [448](#L448) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [449](#L449) |  |
| [450](#L450) | } elseif ($slug === 'bmi') { |
| [451](#L451) |  |
| [452](#L452) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [453](#L453) |  |
| [454](#L454) | } elseif ($slug === 'cdp') { |
| [455](#L455) |  |
| [456](#L456) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [457](#L457) |  |
| [458](#L458) | } elseif ($slug === 'mpu') { |
| [459](#L459) |  |
| [460](#L460) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [461](#L461) |  |
| [462](#L462) | } elseif ($slug == 'redi') { |
| [463](#L463) |  |
| [464](#L464) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [465](#L465) |  |
| [466](#L466) | // Anything else error |
| [467](#L467) | } else wp\_send\_json\_error(); |
| [468](#L468) |  |
| [469](#L469) | } |
| [470](#L470) |  |
| [471](#L471) | } |
| [472](#L472) | } |
| [473](#L473) |  |
| [474](#L474) | // Disallow usage of multiple Carousels + allow only GET requests |
| [475](#L475) | if (!defined('INISEV\_CAROUSEL')) { |
| [476](#L476) |  |
| [477](#L477) | // Make sure settings/menu page slug exsits |
| [478](#L478) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [479](#L479) |  |
| [480](#L480) | // Initialize the Carousel |
| [481](#L481) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [482](#L482) |  |
| [483](#L483) | } |
| [484](#L484) |  |
| [485](#L485) | } |
| [486](#L486) |  |
| [487](#L487) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/copy-delete-posts/tags/1.4.0/banner/misc.php?format=txt)
* [Original Format](/export/3220684/copy-delete-posts/tags/1.4.0/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_739251d8_20250111_123211.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwp-clone-by-wp-academy%2Ftags%2F2.3.7%2Fmodules%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/wp-clone-by-wp-academy/tags/2.3.7/modules/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/wp-clone-by-wp-academy/tags/2.3.7/modules/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [wp-clone-by-wp-academy](/browser/wp-clone-by-wp-academy?order=name "View wp-clone-by-wp-academy")/[tags](/browser/wp-clone-by-wp-academy/tags?order=name "View tags")/[2.3.7](/browser/wp-clone-by-wp-academy/tags/2.3.7?order=name "View 2.3.7")/[modules](/browser/wp-clone-by-wp-academy/tags/2.3.7/modules?order=name "View modules")/[banner](/browser/wp-clone-by-wp-academy/tags/2.3.7/modules/banner?order=name "View banner")/[misc.php](/browser/wp-clone-by-wp-academy/tags/2.3.7/modules/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2823718/wp-clone-by-wp-academy/tags/2.3.7/modules/banner/misc.php "View differences") on this file was [2823718](/changeset/2823718/ "View changeset 2823718"), checked in by iclyde, [2 years ago](/timeline?from=2022-11-24T15%3A38%3A32Z&precision=second "See timeline at 11/24/2022 03:38:32 PM") |
| --- |
| Version 2.3.7 |
| **File size:** 13.7 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.1.1 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) |  |
| [36](#L36) | /\* |
| [37](#L37) | \* Compile some variables for "future us" |
| [38](#L38) | \* Such as slug of current plugin, root dir of plugin |
| [39](#L39) | \*/ |
| [40](#L40) | function \_\_construct($root\_file, $root\_dir) { |
| [41](#L41) |  |
| [42](#L42) | // This roots |
| [43](#L43) | $this->\_root\_file = $root\_file; |
| [44](#L44) | $this->\_root\_dir = $root\_dir; |
| [45](#L45) |  |
| [46](#L46) | // Add handler for Ajax request |
| [47](#L47) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [48](#L48) |  |
| [49](#L49) | // Check if slug is defined |
| [50](#L50) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [51](#L51) |  |
| [52](#L52) | // Handle the request |
| [53](#L53) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [54](#L54) |  |
| [55](#L55) | } |
| [56](#L56) |  |
| [57](#L57) | // Stop for POST |
| [58](#L58) | return; |
| [59](#L59) |  |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | // WordPress globals |
| [63](#L63) | global $menu; |
| [64](#L64) |  |
| [65](#L65) | // Make sure WP\_PLUGIN\_DIR is defined |
| [66](#L66) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [67](#L67) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [68](#L68) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [69](#L69) |  |
| [70](#L70) | // That's in case the developer moved this file somewhere else |
| [71](#L71) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [72](#L72) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [73](#L73) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [74](#L74) |  |
| [75](#L75) | // Make the "probably" slug name |
| [76](#L76) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [77](#L77) | $this->slug = $tmp\_name[0]; |
| [78](#L78) | $this->root = $tmp\_root . $this->slug; |
| [79](#L79) |  |
| [80](#L80) | // Make lowercase slug |
| [81](#L81) | $this->slug\_low = $this->makelower($this->slug); |
| [82](#L82) |  |
| [83](#L83) | // We don't need those anymore |
| [84](#L84) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [85](#L85) |  |
| [86](#L86) | // Check if the guess is correct enough |
| [87](#L87) | if (!is\_dir($this->root)) return $this->fail(3); |
| [88](#L88) |  |
| [89](#L89) | // Check if the script requires to be in hook |
| [90](#L90) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [91](#L91) | $this->hooked = (current\_action() == '' ? false : true); |
| [92](#L92) |  |
| [93](#L93) | // Add hook if it's required |
| [94](#L94) | if (!$this->hooked) { |
| [95](#L95) |  |
| [96](#L96) | // Hook the script to init |
| [97](#L97) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [98](#L98) |  |
| [99](#L99) | } else { |
| [100](#L100) |  |
| [101](#L101) | // The child plugin is already hooked, check if correctly |
| [102](#L102) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [103](#L103) |  |
| [104](#L104) | // If the hook is correct continue |
| [105](#L105) | $this->setup(); |
| [106](#L106) |  |
| [107](#L107) | } else { |
| [108](#L108) |  |
| [109](#L109) | // Hook the script to init if it's not hooked to it already |
| [110](#L110) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [111](#L111) |  |
| [112](#L112) | } |
| [113](#L113) |  |
| [114](#L114) | } |
| [115](#L115) |  |
| [116](#L116) | } |
| [117](#L117) |  |
| [118](#L118) | /\* |
| [119](#L119) | \* Main setup of this child plugin |
| [120](#L120) | \*/ |
| [121](#L121) | public function setup() { |
| [122](#L122) |  |
| [123](#L123) | // WordPress Global Variables |
| [124](#L124) | global $menu; |
| [125](#L125) |  |
| [126](#L126) | // Make sure $menu exists |
| [127](#L127) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [128](#L128) |  |
| [129](#L129) | // Get menu slug name |
| [130](#L130) | if (!$this->menu\_name($menu)) return false; |
| [131](#L131) |  |
| [132](#L132) | if ($this->page === $this->menu && !defined('INISEV\_CAROUSEL')) { |
| [133](#L133) |  |
| [134](#L134) | // Initialize Carousel constant |
| [135](#L135) | define('INISEV\_CAROUSEL', true); |
| [136](#L136) |  |
| [137](#L137) | // Root URL for assets |
| [138](#L138) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [139](#L139) |  |
| [140](#L140) | // Load styles |
| [141](#L141) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [142](#L142) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [143](#L143) |  |
| [144](#L144) | // Print the footer |
| [145](#L145) | add\_action('in\_admin\_footer', [&$this, '\_print'], 1); |
| [146](#L146) |  |
| [147](#L147) | } |
| [148](#L148) |  |
| [149](#L149) | } |
| [150](#L150) |  |
| [151](#L151) | /\* |
| [152](#L152) | \* This function may be used for debugging purposes |
| [153](#L153) | \*/ |
| [154](#L154) | private function fail($code = false) { |
| [155](#L155) |  |
| [156](#L156) | if ($code === false) { |
| [157](#L157) |  |
| [158](#L158) | // Return error code if specified as request ($code === false) |
| [159](#L159) | return $this->error; |
| [160](#L160) |  |
| [161](#L161) | } else { |
| [162](#L162) |  |
| [163](#L163) | // Set the error code and return |
| [164](#L164) | // error\_log($code); |
| [165](#L165) | $this->error = $code; |
| [166](#L166) | return false; |
| [167](#L167) |  |
| [168](#L168) | } |
| [169](#L169) |  |
| [170](#L170) | } |
| [171](#L171) |  |
| [172](#L172) | /\* |
| [173](#L173) | \* Helper function remove \_ -/ characters and make lowercase |
| [174](#L174) | \*/ |
| [175](#L175) | private function makelower($str) { |
| [176](#L176) |  |
| [177](#L177) | $str = str\_replace('\_', '', $str); |
| [178](#L178) | $str = str\_replace('-', '', $str); |
| [179](#L179) | $str = str\_replace('/', '', $str); |
| [180](#L180) | $str = str\_replace('\/', '', $str); |
| [181](#L181) | $str = str\_replace(' ', '', $str); |
| [182](#L182) | $str = strtolower($str); |
| [183](#L183) |  |
| [184](#L184) | return $str; |
| [185](#L185) |  |
| [186](#L186) | } |
| [187](#L187) |  |
| [188](#L188) | /\* |
| [189](#L189) | \* This function will find slug of menu page |
| [190](#L190) | \*/ |
| [191](#L191) | private function menu\_name(&$menu) { |
| [192](#L192) |  |
| [193](#L193) | // Find the menu slug |
| [194](#L194) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [195](#L195) | foreach ($menu as $priority => $details) { |
| [196](#L196) | if (is\_array($details) && sizeof($details) >= 6) { |
| [197](#L197) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [198](#L198) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [199](#L199) | $this->menu = $details[2]; |
| [200](#L200) | break; |
| [201](#L201) | } |
| [202](#L202) | } |
| [203](#L203) | if (isset($this->menu)) break; |
| [204](#L204) | } |
| [205](#L205) | } |
| [206](#L206) |  |
| [207](#L207) | // MyPopUps exception |
| [208](#L208) | if (!isset($this->menu)) { |
| [209](#L209) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [210](#L210) | if (in\_array($this->slug\_low, $mpu)) { |
| [211](#L211) | $this->menu = 'wp-mypopups'; |
| [212](#L212) | } |
| [213](#L213) | } |
| [214](#L214) |  |
| [215](#L215) | if (!isset($this->menu)) { |
| [216](#L216) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [217](#L217) | if (in\_array($this->slug\_low, $bmi)) { |
| [218](#L218) | $this->menu = 'backup-migration'; |
| [219](#L219) | } |
| [220](#L220) | } |
| [221](#L221) |  |
| [222](#L222) | if (!isset($this->menu)) { |
| [223](#L223) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [224](#L224) | if (in\_array($this->slug\_low, $hhr)) { |
| [225](#L225) | $this->menu = 'httphttpsRemoval'; |
| [226](#L226) | } |
| [227](#L227) | } |
| [228](#L228) |  |
| [229](#L229) | if (!isset($this->menu)) { |
| [230](#L230) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [231](#L231) | if (in\_array($this->slug\_low, $wpc)) { |
| [232](#L232) | $this->menu = 'wp-clone'; |
| [233](#L233) | } |
| [234](#L234) | } |
| [235](#L235) |  |
| [236](#L236) | if (!isset($this->menu)) { |
| [237](#L237) | $wpc = ['ultimate-social-media-plus', 'ultimatesocialmediaplus']; |
| [238](#L238) | if (in\_array($this->slug\_low, $wpc)) { |
| [239](#L239) | $this->menu = 'sfsi-plus-options'; |
| [240](#L240) | } |
| [241](#L241) | } |
| [242](#L242) |  |
| [243](#L243) | if (!isset($this->menu)) { |
| [244](#L244) | $wpc = ['usm-premium', 'usmpremium']; |
| [245](#L245) | if (in\_array($this->slug\_low, $wpc)) { |
| [246](#L246) | $this->menu = 'sfsi-plus-options'; |
| [247](#L247) | } |
| [248](#L248) | } |
| [249](#L249) |  |
| [250](#L250) | if (!isset($this->menu)) { |
| [251](#L251) | $wpc = ['sfm-options-page', 'sfmoptionspage', 'rssredirectwpplugin']; |
| [252](#L252) | if (in\_array($this->slug\_low, $wpc)) { |
| [253](#L253) | $this->menu = 'sfm-options-page'; |
| [254](#L254) | } |
| [255](#L255) | } |
| [256](#L256) |  |
| [257](#L257) | // Make sure it found something |
| [258](#L258) | if (isset($this->menu)) return true; |
| [259](#L259) | else return $this->fail(6); |
| [260](#L260) |  |
| [261](#L261) | } |
| [262](#L262) |  |
| [263](#L263) | /\* |
| [264](#L264) | \* Helper: Include file |
| [265](#L265) | \*/ |
| [266](#L266) | private function \_include($path) { |
| [267](#L267) |  |
| [268](#L268) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [269](#L269) |  |
| [270](#L270) | } |
| [271](#L271) |  |
| [272](#L272) | /\* |
| [273](#L273) | \* Helper: Get asset URL |
| [274](#L274) | \*/ |
| [275](#L275) | private function get\_asset($file) { |
| [276](#L276) |  |
| [277](#L277) | return $this->url . $file; |
| [278](#L278) |  |
| [279](#L279) | } |
| [280](#L280) |  |
| [281](#L281) | /\* |
| [282](#L282) | \* Helper: Get asset and print URL |
| [283](#L283) | \*/ |
| [284](#L284) | private function \_asset($file) { |
| [285](#L285) |  |
| [286](#L286) | echo $this->get\_asset('views/' . $file); |
| [287](#L287) |  |
| [288](#L288) | } |
| [289](#L289) |  |
| [290](#L290) | /\* |
| [291](#L291) | \* Upgrade plugin, this function probably will never be fired |
| [292](#L292) | \*/ |
| [293](#L293) | private function upgrade\_plugin($plugin\_slug) { |
| [294](#L294) |  |
| [295](#L295) | // Include upgrader |
| [296](#L296) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [297](#L297) | wp\_cache\_flush(); |
| [298](#L298) |  |
| [299](#L299) | // Initialize & upgrade the plugin |
| [300](#L300) | $upgrader = new \Plugin\_Upgrader(); |
| [301](#L301) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [302](#L302) |  |
| [303](#L303) | // Return status or WP Error |
| [304](#L304) | return $upgraded; |
| [305](#L305) |  |
| [306](#L306) | } |
| [307](#L307) |  |
| [308](#L308) | /\* |
| [309](#L309) | \* Check if plugin is installed by slug |
| [310](#L310) | \*/ |
| [311](#L311) | private function is\_plugin\_installed($slug) { |
| [312](#L312) |  |
| [313](#L313) | // Get all plugins |
| [314](#L314) | $all\_plugins = get\_plugins(); |
| [315](#L315) |  |
| [316](#L316) | // Make sure all slugs are in lowercase. |
| [317](#L317) | foreach ($all\_plugins as $plug => $v) { |
| [318](#L318) |  |
| [319](#L319) | // Once something match return success |
| [320](#L320) | if (strtolower($plug) == strtolower($slug)) return true; |
| [321](#L321) |  |
| [322](#L322) | } |
| [323](#L323) |  |
| [324](#L324) | // If nothing just fail |
| [325](#L325) | return false; |
| [326](#L326) |  |
| [327](#L327) | // When I exactly know the letter case... |
| [328](#L328) | // if (!empty($all\_plugins[$slug])) return true; |
| [329](#L329) | // else return false; |
| [330](#L330) |  |
| [331](#L331) | } |
| [332](#L332) |  |
| [333](#L333) | /\* |
| [334](#L334) | \* Install the plugin by slug |
| [335](#L335) | \*/ |
| [336](#L336) | private function install\_plugin($plugin\_zip) { |
| [337](#L337) |  |
| [338](#L338) | // Include upgrader |
| [339](#L339) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [340](#L340) | wp\_cache\_flush(); |
| [341](#L341) |  |
| [342](#L342) | // Initialize WP upgrader & install the plugin |
| [343](#L343) | $upgrader = new \Plugin\_Upgrader(); |
| [344](#L344) | $installed = $upgrader->install($plugin\_zip); |
| [345](#L345) |  |
| [346](#L346) | // Return status or WP Error |
| [347](#L347) | return $installed; |
| [348](#L348) |  |
| [349](#L349) | } |
| [350](#L350) |  |
| [351](#L351) | /\* |
| [352](#L352) | \* Install file |
| [353](#L353) | \*/ |
| [354](#L354) | private function install($slug, $directory\_slug) { |
| [355](#L355) |  |
| [356](#L356) | // Prepare the URLs and full slug |
| [357](#L357) | $plugin\_slug = $slug; |
| [358](#L358) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [359](#L359) |  |
| [360](#L360) | // Make sure the plugin is not installed |
| [361](#L361) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [362](#L362) |  |
| [363](#L363) | // Upgrade the plugin if it's installed somehow |
| [364](#L364) | $this->upgrade\_plugin($plugin\_slug); |
| [365](#L365) | $installed = true; |
| [366](#L366) |  |
| [367](#L367) | // Install instead |
| [368](#L368) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [369](#L369) |  |
| [370](#L370) | // Check if there was any error |
| [371](#L371) | if (!is\_wp\_error($installed) && $installed) { |
| [372](#L372) | $activate = activate\_plugin($plugin\_slug); |
| [373](#L373) |  |
| [374](#L374) | if (is\_null($activate)) { |
| [375](#L375) |  |
| [376](#L376) | $url = admin\_url('', 'admin'); |
| [377](#L377) |  |
| [378](#L378) | // CDP has special alert when installed with quick-install module |
| [379](#L379) | if ($\_POST['slug'] === 'cdp') { |
| [380](#L380) | update\_option('\_cdp\_cool\_installation', true); |
| [381](#L381) | update\_option('\_cdp\_redirect', true); |
| [382](#L382) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [383](#L383) | } |
| [384](#L384) |  |
| [385](#L385) | // Redirection for MPU |
| [386](#L386) | if ($\_POST['slug'] === 'mpu') { |
| [387](#L387) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [388](#L388) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [389](#L389) | } |
| [390](#L390) |  |
| [391](#L391) | // Redirection for USM |
| [392](#L392) | if ($\_POST['slug'] === 'usm') { |
| [393](#L393) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [394](#L394) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [395](#L395) | } |
| [396](#L396) |  |
| [397](#L397) | // Redirection for BMI |
| [398](#L398) | if ($\_POST['slug'] === 'bmi') { |
| [399](#L399) | update\_option('\_bmi\_redirect', true); |
| [400](#L400) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [401](#L401) | } |
| [402](#L402) |  |
| [403](#L403) | // Send success |
| [404](#L404) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [405](#L405) |  |
| [406](#L406) | // I don't know what happened here and if it's even possible |
| [407](#L407) | } else wp\_send\_json\_error(); |
| [408](#L408) |  |
| [409](#L409) | // Send fail |
| [410](#L410) | } else wp\_send\_json\_error(); |
| [411](#L411) |  |
| [412](#L412) | } |
| [413](#L413) |  |
| [414](#L414) | /\* |
| [415](#L415) | \* Add/print the Carousel |
| [416](#L416) | \*/ |
| [417](#L417) | public function \_print() { |
| [418](#L418) |  |
| [419](#L419) | try { |
| [420](#L420) |  |
| [421](#L421) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [422](#L422) |  |
| [423](#L423) | } catch (\Exception $e) { |
| [424](#L424) |  |
| [425](#L425) | return $this->fail(7); |
| [426](#L426) |  |
| [427](#L427) | } catch (\Exception $e) { |
| [428](#L428) |  |
| [429](#L429) | return $this->fail(8); |
| [430](#L430) |  |
| [431](#L431) | } |
| [432](#L432) |  |
| [433](#L433) | } |
| [434](#L434) |  |
| [435](#L435) | /\* |
| [436](#L436) | \* Handle ajax request |
| [437](#L437) | \*/ |
| [438](#L438) | public function handle\_installation() { |
| [439](#L439) |  |
| [440](#L440) | // Handle the slug and install the plugin |
| [441](#L441) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [442](#L442) | if ($slug === 'usm') { |
| [443](#L443) |  |
| [444](#L444) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [445](#L445) |  |
| [446](#L446) | } elseif ($slug === 'bmi') { |
| [447](#L447) |  |
| [448](#L448) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [449](#L449) |  |
| [450](#L450) | } elseif ($slug === 'cdp') { |
| [451](#L451) |  |
| [452](#L452) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [453](#L453) |  |
| [454](#L454) | } elseif ($slug === 'mpu') { |
| [455](#L455) |  |
| [456](#L456) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [457](#L457) |  |
| [458](#L458) | // Anything else error |
| [459](#L459) | } else wp\_send\_json\_error(); |
| [460](#L460) |  |
| [461](#L461) | } |
| [462](#L462) |  |
| [463](#L463) | } |
| [464](#L464) | } |
| [465](#L465) |  |
| [466](#L466) | // Disallow usage of multiple Carousels + allow only GET requests |
| [467](#L467) | if (!defined('INISEV\_CAROUSEL')) { |
| [468](#L468) |  |
| [469](#L469) | // Make sure settings/menu page slug exsits |
| [470](#L470) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [471](#L471) |  |
| [472](#L472) | // Initialize the Carousel |
| [473](#L473) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [474](#L474) |  |
| [475](#L475) | } |
| [476](#L476) |  |
| [477](#L477) | } |
| [478](#L478) |  |
| [479](#L479) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/wp-clone-by-wp-academy/tags/2.3.7/modules/banner/misc.php?format=txt)
* [Original Format](/export/3220685/wp-clone-by-wp-academy/tags/2.3.7/modules/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_3e38550e_20250111_123143.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fultimate-social-media-icons%2Ftags%2F2.8.2%2Fbanner%2Fmisc.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/ultimate-social-media-icons/tags/2.8.2/banner/misc.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/ultimate-social-media-icons/tags/2.8.2/banner/misc.php)

---

# [source:](/browser?order=name "Go to repository root") [ultimate-social-media-icons](/browser/ultimate-social-media-icons?order=name "View ultimate-social-media-icons")/[tags](/browser/ultimate-social-media-icons/tags?order=name "View tags")/[2.8.2](/browser/ultimate-social-media-icons/tags/2.8.2?order=name "View 2.8.2")/[banner](/browser/ultimate-social-media-icons/tags/2.8.2/banner?order=name "View banner")/[misc.php](/browser/ultimate-social-media-icons/tags/2.8.2/banner/misc.php?order=name "View misc.php")

View diff against:

View revision:

| [Last change](/changeset/2916629/ultimate-social-media-icons/tags/2.8.2/banner/misc.php "View differences") on this file was [2916629](/changeset/2916629/ "View changeset 2916629"), checked in by iclyde, [20 months ago](/timeline?from=2023-05-24T05%3A17%3A05Z&precision=second "See timeline at 05/24/2023 05:17:05 AM") |
| --- |
| Version 2.8.2 |
| **File size:** 14.1 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* File for our cool Carousel in the footer |
| [5](#L5) | \* |
| [6](#L6) | \* @category Child Plugin |
| [7](#L7) | \* @version v0.3.0 |
| [8](#L8) | \* @since v0.1.0 |
| [9](#L9) | \* @author iClyde <kontakt@iclyde.pl> |
| [10](#L10) | \*/ |
| [11](#L11) |  |
| [12](#L12) | // Namespace |
| [13](#L13) | namespace Inisev\Subs; |
| [14](#L14) |  |
| [15](#L15) | // Disallow direct access |
| [16](#L16) | if (defined('ABSPATH')) { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Main class for handling the Carousel |
| [20](#L20) | \*/ |
| [21](#L21) | if (!class\_exists('Inisev\Subs\Inisev\_Carousel')) { |
| [22](#L22) | class Inisev\_Carousel { |
| [23](#L23) |  |
| [24](#L24) | // Should hide it for good i.e. styles may be broken? |
| [25](#L25) | private $error = 0; |
| [26](#L26) |  |
| [27](#L27) | // Slugs of plugins |
| [28](#L28) | private $usm\_premium = 'usm-premium/usm\_premium\_icons.php'; |
| [29](#L29) | private $usm\_slug = 'ultimate-social-media-icons/ultimate\_social\_media\_icons.php'; |
| [30](#L30) | private $bmi\_premium = 'backup-backup-pro/backup-backup-pro.php'; |
| [31](#L31) | private $bmi\_slug = 'backup-backup/backup-backup.php'; |
| [32](#L32) | private $cdp\_premium = 'copy-delete-posts-premium/copy-delete-posts-premium.php'; |
| [33](#L33) | private $cdp\_slug = 'copy-delete-posts/copy-delete-posts.php'; |
| [34](#L34) | private $mpu\_slug = 'pop-up-pop-up/pop-up-pop-up.php'; |
| [35](#L35) | private $redi\_slug = 'redirect-redirection/redirect-redirection.php'; |
| [36](#L36) |  |
| [37](#L37) | /\* |
| [38](#L38) | \* Compile some variables for "future us" |
| [39](#L39) | \* Such as slug of current plugin, root dir of plugin |
| [40](#L40) | \*/ |
| [41](#L41) | function \_\_construct($root\_file, $root\_dir) { |
| [42](#L42) |  |
| [43](#L43) | // This roots |
| [44](#L44) | $this->\_root\_file = $root\_file; |
| [45](#L45) | $this->\_root\_dir = $root\_dir; |
| [46](#L46) |  |
| [47](#L47) | // Add handler for Ajax request |
| [48](#L48) | if (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] == 'POST') { |
| [49](#L49) |  |
| [50](#L50) | // Check if slug is defined |
| [51](#L51) | if (isset($\_POST['slug']) && !empty($\_POST['slug'])) { |
| [52](#L52) |  |
| [53](#L53) | // Handle the request |
| [54](#L54) | add\_action('wp\_ajax\_inisev\_installation', [&$this, 'handle\_installation']); |
| [55](#L55) | add\_action('wp\_ajax\_inisev\_installation\_widget', [&$this, 'handle\_installation']); |
| [56](#L56) |  |
| [57](#L57) | } |
| [58](#L58) |  |
| [59](#L59) | // Stop for POST |
| [60](#L60) | return; |
| [61](#L61) |  |
| [62](#L62) | } |
| [63](#L63) |  |
| [64](#L64) | // WordPress globals |
| [65](#L65) | global $menu; |
| [66](#L66) |  |
| [67](#L67) | // Make sure WP\_PLUGIN\_DIR is defined |
| [68](#L68) | if (!defined('WP\_PLUGIN\_DIR')) return $this->fail(1); |
| [69](#L69) | if (!function\_exists('trailingslashit')) return $this->fail(2); |
| [70](#L70) | if (!defined('DIRECTORY\_SEPARATOR')) define('DIRECTORY\_SEPARATOR', '/'); |
| [71](#L71) |  |
| [72](#L72) | // That's in case the developer moved this file somewhere else |
| [73](#L73) | $tmp\_slug = trailingslashit($this->\_root\_dir); |
| [74](#L74) | $tmp\_root = trailingslashit(WP\_PLUGIN\_DIR); |
| [75](#L75) | $tmp\_name = explode(DIRECTORY\_SEPARATOR, substr($tmp\_slug, strlen($tmp\_root))); |
| [76](#L76) |  |
| [77](#L77) | // Make the "probably" slug name |
| [78](#L78) | $this->page = sanitize\_text\_field($\_GET['page']); |
| [79](#L79) | $this->slug = $tmp\_name[0]; |
| [80](#L80) | $this->root = $tmp\_root . $this->slug; |
| [81](#L81) |  |
| [82](#L82) | // Make lowercase slug |
| [83](#L83) | $this->slug\_low = $this->makelower($this->slug); |
| [84](#L84) |  |
| [85](#L85) | // We don't need those anymore |
| [86](#L86) | unset($tmp\_slug, $tmp\_root, $tmp\_name); |
| [87](#L87) |  |
| [88](#L88) | // Check if the guess is correct enough |
| [89](#L89) | if (!is\_dir($this->root)) return $this->fail(3); |
| [90](#L90) |  |
| [91](#L91) | // Check if the script requires to be in hook |
| [92](#L92) | if (!function\_exists('current\_action')) return $this->fail(4); |
| [93](#L93) | $this->hooked = (current\_action() == '' ? false : true); |
| [94](#L94) |  |
| [95](#L95) | // Add hook if it's required |
| [96](#L96) | if (!$this->hooked) { |
| [97](#L97) |  |
| [98](#L98) | // Hook the script to init |
| [99](#L99) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [100](#L100) |  |
| [101](#L101) | } else { |
| [102](#L102) |  |
| [103](#L103) | // The child plugin is already hooked, check if correctly |
| [104](#L104) | if (current\_action() == 'admin\_menu' || isset($menu)) { |
| [105](#L105) |  |
| [106](#L106) | // If the hook is correct continue |
| [107](#L107) | $this->setup(); |
| [108](#L108) |  |
| [109](#L109) | } else { |
| [110](#L110) |  |
| [111](#L111) | // Hook the script to init if it's not hooked to it already |
| [112](#L112) | add\_action('admin\_menu', [&$this, 'setup'], PHP\_INT\_MAX); |
| [113](#L113) |  |
| [114](#L114) | } |
| [115](#L115) |  |
| [116](#L116) | } |
| [117](#L117) |  |
| [118](#L118) | } |
| [119](#L119) |  |
| [120](#L120) | /\* |
| [121](#L121) | \* Main setup of this child plugin |
| [122](#L122) | \*/ |
| [123](#L123) | public function setup() { |
| [124](#L124) |  |
| [125](#L125) | // WordPress Global Variables |
| [126](#L126) | global $menu; |
| [127](#L127) |  |
| [128](#L128) | // Make sure $menu exists |
| [129](#L129) | if (!isset($menu) || !is\_array($menu)) return $this->fail(5); |
| [130](#L130) | if (!current\_user\_can('install\_plugins')) return $this->fail(10); |
| [131](#L131) |  |
| [132](#L132) | // Get menu slug name |
| [133](#L133) | if (!$this->menu\_name($menu)) return false; |
| [134](#L134) |  |
| [135](#L135) | if (/\*$this->page === $this->menu && \*/!defined('INISEV\_CAROUSEL')) { |
| [136](#L136) |  |
| [137](#L137) | // Initialize Carousel constant |
| [138](#L138) | define('INISEV\_CAROUSEL', true); |
| [139](#L139) |  |
| [140](#L140) | // Root URL for assets |
| [141](#L141) | $this->url = trailingslashit(plugins\_url(null, $this->\_root\_file)); |
| [142](#L142) |  |
| [143](#L143) | // Load styles |
| [144](#L144) | wp\_enqueue\_script('inisev-carousel-script', ($this->url . 'assets/index.min.js'), [], filemtime($this->\_root\_dir . '/assets/index.min.js'), true); |
| [145](#L145) | wp\_enqueue\_style('inisev-carousel-style', ($this->url . 'assets/style.min.css'), [], filemtime($this->\_root\_dir . '/assets/style.min.css')); |
| [146](#L146) |  |
| [147](#L147) | // Pass nonce to JS |
| [148](#L148) | wp\_localize\_script('inisev-carousel-script', 'inisev\_carousel', [ |
| [149](#L149) | 'nonce' => wp\_create\_nonce('inisev\_carousel'), |
| [150](#L150) | ], true); |
| [151](#L151) |  |
| [152](#L152) | // Print the footer |
| [153](#L153) | if (!has\_action('ins\_global\_print\_carrousel')) { |
| [154](#L154) | add\_action('ins\_global\_print\_carrousel', [&$this, '\_print'], 1); |
| [155](#L155) | } |
| [156](#L156) |  |
| [157](#L157) | } |
| [158](#L158) |  |
| [159](#L159) | } |
| [160](#L160) |  |
| [161](#L161) | /\* |
| [162](#L162) | \* This function may be used for debugging purposes |
| [163](#L163) | \*/ |
| [164](#L164) | private function fail($code = false) { |
| [165](#L165) |  |
| [166](#L166) | if ($code === false) { |
| [167](#L167) |  |
| [168](#L168) | // Return error code if specified as request ($code === false) |
| [169](#L169) | return $this->error; |
| [170](#L170) |  |
| [171](#L171) | } else { |
| [172](#L172) |  |
| [173](#L173) | // Set the error code and return |
| [174](#L174) | // error\_log($code); |
| [175](#L175) | $this->error = $code; |
| [176](#L176) | return false; |
| [177](#L177) |  |
| [178](#L178) | } |
| [179](#L179) |  |
| [180](#L180) | } |
| [181](#L181) |  |
| [182](#L182) | /\* |
| [183](#L183) | \* Helper function remove \_ -/ characters and make lowercase |
| [184](#L184) | \*/ |
| [185](#L185) | private function makelower($str) { |
| [186](#L186) |  |
| [187](#L187) | $str = str\_replace('\_', '', $str); |
| [188](#L188) | $str = str\_replace('-', '', $str); |
| [189](#L189) | $str = str\_replace('/', '', $str); |
| [190](#L190) | $str = str\_replace('\/', '', $str); |
| [191](#L191) | $str = str\_replace(' ', '', $str); |
| [192](#L192) | $str = strtolower($str); |
| [193](#L193) |  |
| [194](#L194) | return $str; |
| [195](#L195) |  |
| [196](#L196) | } |
| [197](#L197) |  |
| [198](#L198) | /\* |
| [199](#L199) | \* This function will find slug of menu page |
| [200](#L200) | \*/ |
| [201](#L201) | private function menu\_name(&$menu) { |
| [202](#L202) |  |
| [203](#L203) | // Find the menu slug |
| [204](#L204) | // IMPORTANT: It requires the plugin to use own icon (own assets) |
| [205](#L205) | foreach ($menu as $priority => $details) { |
| [206](#L206) | if (is\_array($details) && sizeof($details) >= 6) { |
| [207](#L207) | for ($i = 0; $i < sizeof($details); ++$i) { |
| [208](#L208) | if ($this->makelower($details[$i]) == $this->slug\_low) { |
| [209](#L209) | $this->menu = $details[2]; |
| [210](#L210) | break; |
| [211](#L211) | } |
| [212](#L212) | } |
| [213](#L213) | if (isset($this->menu)) break; |
| [214](#L214) | } |
| [215](#L215) | } |
| [216](#L216) |  |
| [217](#L217) | // MyPopUps exception |
| [218](#L218) | if (!isset($this->menu)) { |
| [219](#L219) | $mpu = ['wpmypopups', 'mypopups', 'popuppopup']; |
| [220](#L220) | if (in\_array($this->slug\_low, $mpu)) { |
| [221](#L221) | $this->menu = 'wp-mypopups'; |
| [222](#L222) | } |
| [223](#L223) | } |
| [224](#L224) |  |
| [225](#L225) | if (!isset($this->menu)) { |
| [226](#L226) | $bmi = ['backupbackup', 'backup-backup', 'backup-migration', 'backupmigration']; |
| [227](#L227) | if (in\_array($this->slug\_low, $bmi)) { |
| [228](#L228) | $this->menu = 'backup-migration'; |
| [229](#L229) | } |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | if (!isset($this->menu)) { |
| [233](#L233) | $hhr = ['httpsremover', 'httphttpsremover']; |
| [234](#L234) | if (in\_array($this->slug\_low, $hhr)) { |
| [235](#L235) | $this->menu = 'httphttpsRemoval'; |
| [236](#L236) | } |
| [237](#L237) | } |
| [238](#L238) |  |
| [239](#L239) | if (!isset($this->menu)) { |
| [240](#L240) | $wpc = ['wp-clone', 'wp-clone', 'wpclonebywpacademy']; |
| [241](#L241) | if (in\_array($this->slug\_low, $wpc)) { |
| [242](#L242) | $this->menu = 'wp-clone'; |
| [243](#L243) | } |
| [244](#L244) | } |
| [245](#L245) |  |
| [246](#L246) | // Make sure it found something |
| [247](#L247) | if (isset($this->menu)) return true; |
| [248](#L248) | else return true; |
| [249](#L249) | // else return $this->fail(6); |
| [250](#L250) |  |
| [251](#L251) | } |
| [252](#L252) |  |
| [253](#L253) | /\* |
| [254](#L254) | \* Helper: Include file |
| [255](#L255) | \*/ |
| [256](#L256) | private function \_include($path) { |
| [257](#L257) |  |
| [258](#L258) | include\_once trailingslashit($this->\_root\_dir) . 'views/' . $path . '.php'; |
| [259](#L259) |  |
| [260](#L260) | } |
| [261](#L261) |  |
| [262](#L262) | /\* |
| [263](#L263) | \* Helper: Get asset URL |
| [264](#L264) | \*/ |
| [265](#L265) | private function get\_asset($file) { |
| [266](#L266) |  |
| [267](#L267) | return $this->url . $file; |
| [268](#L268) |  |
| [269](#L269) | } |
| [270](#L270) |  |
| [271](#L271) | /\* |
| [272](#L272) | \* Helper: Get asset and print URL |
| [273](#L273) | \*/ |
| [274](#L274) | private function \_asset($file) { |
| [275](#L275) |  |
| [276](#L276) | echo $this->get\_asset('views/' . $file); |
| [277](#L277) |  |
| [278](#L278) | } |
| [279](#L279) |  |
| [280](#L280) | /\* |
| [281](#L281) | \* Upgrade plugin, this function probably will never be fired |
| [282](#L282) | \*/ |
| [283](#L283) | private function upgrade\_plugin($plugin\_slug) { |
| [284](#L284) |  |
| [285](#L285) | // Include upgrader |
| [286](#L286) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [287](#L287) | wp\_cache\_flush(); |
| [288](#L288) |  |
| [289](#L289) | // Initialize & upgrade the plugin |
| [290](#L290) | $upgrader = new \Plugin\_Upgrader(); |
| [291](#L291) | $upgraded = $upgrader->upgrade($plugin\_slug); |
| [292](#L292) |  |
| [293](#L293) | // Return status or WP Error |
| [294](#L294) | return $upgraded; |
| [295](#L295) |  |
| [296](#L296) | } |
| [297](#L297) |  |
| [298](#L298) | /\* |
| [299](#L299) | \* Check if plugin is installed by slug |
| [300](#L300) | \*/ |
| [301](#L301) | private function is\_plugin\_installed($slug) { |
| [302](#L302) |  |
| [303](#L303) | // Get all plugins |
| [304](#L304) | $all\_plugins = get\_plugins(); |
| [305](#L305) |  |
| [306](#L306) | // Make sure all slugs are in lowercase. |
| [307](#L307) | foreach ($all\_plugins as $plug => $v) { |
| [308](#L308) |  |
| [309](#L309) | // Once something match return success |
| [310](#L310) | if (strtolower($plug) == strtolower($slug)) return true; |
| [311](#L311) |  |
| [312](#L312) | } |
| [313](#L313) |  |
| [314](#L314) | // If nothing just fail |
| [315](#L315) | return false; |
| [316](#L316) |  |
| [317](#L317) | // When I exactly know the letter case... |
| [318](#L318) | // if (!empty($all\_plugins[$slug])) return true; |
| [319](#L319) | // else return false; |
| [320](#L320) |  |
| [321](#L321) | } |
| [322](#L322) |  |
| [323](#L323) | /\* |
| [324](#L324) | \* Install the plugin by slug |
| [325](#L325) | \*/ |
| [326](#L326) | private function install\_plugin($plugin\_zip) { |
| [327](#L327) |  |
| [328](#L328) | // Include upgrader |
| [329](#L329) | include\_once ABSPATH . 'wp-admin/includes/class-wp-upgrader.php'; |
| [330](#L330) | wp\_cache\_flush(); |
| [331](#L331) |  |
| [332](#L332) | // Initialize WP upgrader & install the plugin |
| [333](#L333) | $upgrader = new \Plugin\_Upgrader(); |
| [334](#L334) | $installed = $upgrader->install($plugin\_zip); |
| [335](#L335) |  |
| [336](#L336) | // Return status or WP Error |
| [337](#L337) | return $installed; |
| [338](#L338) |  |
| [339](#L339) | } |
| [340](#L340) |  |
| [341](#L341) | /\* |
| [342](#L342) | \* Install file |
| [343](#L343) | \*/ |
| [344](#L344) | private function install($slug, $directory\_slug) { |
| [345](#L345) |  |
| [346](#L346) | // Prepare the URLs and full slug |
| [347](#L347) | $plugin\_slug = $slug; |
| [348](#L348) | $plugin\_zip = 'https://downloads.wordpress.org/plugin/' . $directory\_slug . '.latest-stable.zip'; |
| [349](#L349) |  |
| [350](#L350) | // Make sure the plugin is not installed |
| [351](#L351) | if ($this->is\_plugin\_installed($plugin\_slug)) { |
| [352](#L352) |  |
| [353](#L353) | // Upgrade the plugin if it's installed somehow |
| [354](#L354) | $this->upgrade\_plugin($plugin\_slug); |
| [355](#L355) | $installed = true; |
| [356](#L356) |  |
| [357](#L357) | // Install instead |
| [358](#L358) | } else $installed = $this->install\_plugin($plugin\_zip); |
| [359](#L359) |  |
| [360](#L360) | // Check if there was any error |
| [361](#L361) | if (!is\_wp\_error($installed) && $installed) { |
| [362](#L362) | $activate = activate\_plugin($plugin\_slug); |
| [363](#L363) |  |
| [364](#L364) | if (is\_null($activate)) { |
| [365](#L365) |  |
| [366](#L366) | $url = admin\_url('', 'admin'); |
| [367](#L367) |  |
| [368](#L368) | // CDP has special alert when installed with quick-install module |
| [369](#L369) | if ($\_POST['slug'] === 'cdp') { |
| [370](#L370) | update\_option('\_cdp\_cool\_installation', true); |
| [371](#L371) | update\_option('\_cdp\_redirect', true); |
| [372](#L372) | $url = admin\_url() . 'admin.php?page=copy-delete-posts'; |
| [373](#L373) | } |
| [374](#L374) |  |
| [375](#L375) | // Redirection for MPU |
| [376](#L376) | if ($\_POST['slug'] === 'mpu') { |
| [377](#L377) | update\_option('wp\_mypopups\_do\_activation\_redirect', true); |
| [378](#L378) | $url = admin\_url() . 'admin.php?page=wp-mypopups'; |
| [379](#L379) | } |
| [380](#L380) |  |
| [381](#L381) | // Redirection for USM |
| [382](#L382) | if ($\_POST['slug'] === 'usm') { |
| [383](#L383) | update\_option('sfsi\_plugin\_do\_activation\_redirect', true); |
| [384](#L384) | $url = admin\_url() . 'admin.php?page=sfsi-options'; |
| [385](#L385) | } |
| [386](#L386) |  |
| [387](#L387) | // Redirection for BMI |
| [388](#L388) | if ($\_POST['slug'] === 'bmi') { |
| [389](#L389) | update\_option('\_bmi\_redirect', true); |
| [390](#L390) | $url = admin\_url() . 'admin.php?page=backup-migration'; |
| [391](#L391) | } |
| [392](#L392) |  |
| [393](#L393) | // Redirection for RED |
| [394](#L394) | if ($\_POST['slug'] === 'redi') { |
| [395](#L395) | update\_option('irrp\_activation\_redirect', true); |
| [396](#L396) | $url = admin\_url() . 'admin.php?page=irrp-redirection'; |
| [397](#L397) | } |
| [398](#L398) |  |
| [399](#L399) | // Send success |
| [400](#L400) | wp\_send\_json\_success([ 'installed' => true, 'url' => $url ]); |
| [401](#L401) |  |
| [402](#L402) | // I don't know what happened here and if it's even possible |
| [403](#L403) | } else wp\_send\_json\_error(); |
| [404](#L404) |  |
| [405](#L405) | // Send fail |
| [406](#L406) | } else wp\_send\_json\_error(); |
| [407](#L407) |  |
| [408](#L408) | } |
| [409](#L409) |  |
| [410](#L410) | /\* |
| [411](#L411) | \* Add/print the Carousel |
| [412](#L412) | \*/ |
| [413](#L413) | public function \_print() { |
| [414](#L414) |  |
| [415](#L415) | try { |
| [416](#L416) |  |
| [417](#L417) | include\_once trailingslashit($this->\_root\_dir) . 'views/index.php'; |
| [418](#L418) |  |
| [419](#L419) | } catch (\Exception $e) { |
| [420](#L420) |  |
| [421](#L421) | return $this->fail(7); |
| [422](#L422) |  |
| [423](#L423) | } catch (\Exception $e) { |
| [424](#L424) |  |
| [425](#L425) | return $this->fail(8); |
| [426](#L426) |  |
| [427](#L427) | } |
| [428](#L428) |  |
| [429](#L429) | } |
| [430](#L430) |  |
| [431](#L431) | /\* |
| [432](#L432) | \* Handle ajax request |
| [433](#L433) | \*/ |
| [434](#L434) | public function handle\_installation() { |
| [435](#L435) |  |
| [436](#L436) | if (check\_ajax\_referer('inisev\_carousel', 'nonce', false) === false) { |
| [437](#L437) | return wp\_send\_json\_error(); |
| [438](#L438) | } |
| [439](#L439) |  |
| [440](#L440) | if (!current\_user\_can('install\_plugins')) { |
| [441](#L441) | return wp\_send\_json\_error(); |
| [442](#L442) | } |
| [443](#L443) |  |
| [444](#L444) | // Handle the slug and install the plugin |
| [445](#L445) | $slug = sanitize\_text\_field($\_POST['slug']); |
| [446](#L446) | if ($slug === 'usm') { |
| [447](#L447) |  |
| [448](#L448) | $this->install($this->usm\_slug, 'ultimate-social-media-icons'); |
| [449](#L449) |  |
| [450](#L450) | } elseif ($slug === 'bmi') { |
| [451](#L451) |  |
| [452](#L452) | $this->install($this->bmi\_slug, 'backup-backup'); |
| [453](#L453) |  |
| [454](#L454) | } elseif ($slug === 'cdp') { |
| [455](#L455) |  |
| [456](#L456) | $this->install($this->cdp\_slug, 'copy-delete-posts'); |
| [457](#L457) |  |
| [458](#L458) | } elseif ($slug === 'mpu') { |
| [459](#L459) |  |
| [460](#L460) | $this->install($this->mpu\_slug, 'pop-up-pop-up'); |
| [461](#L461) |  |
| [462](#L462) | } elseif ($slug == 'redi') { |
| [463](#L463) |  |
| [464](#L464) | $this->install($this->redi\_slug, 'redirect-redirection'); |
| [465](#L465) |  |
| [466](#L466) | // Anything else error |
| [467](#L467) | } else wp\_send\_json\_error(); |
| [468](#L468) |  |
| [469](#L469) | } |
| [470](#L470) |  |
| [471](#L471) | } |
| [472](#L472) | } |
| [473](#L473) |  |
| [474](#L474) | // Disallow usage of multiple Carousels + allow only GET requests |
| [475](#L475) | if (!defined('INISEV\_CAROUSEL')) { |
| [476](#L476) |  |
| [477](#L477) | // Make sure settings/menu page slug exsits |
| [478](#L478) | if (!empty($\_GET['page']) || (isset($\_SERVER['REQUEST\_METHOD']) && $\_SERVER['REQUEST\_METHOD'] === 'POST')) { |
| [479](#L479) |  |
| [480](#L480) | // Initialize the Carousel |
| [481](#L481) | $carousel = new Inisev\_Carousel(\_\_FILE\_\_, \_\_DIR\_\_); |
| [482](#L482) |  |
| [483](#L483) | } |
| [484](#L484) |  |
| [485](#L485) | } |
| [486](#L486) |  |
| [487](#L487) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/ultimate-social-media-icons/tags/2.8.2/banner/misc.php?format=txt)
* [Original Format](/export/3220685/ultimate-social-media-icons/tags/2.8.2/banner/misc.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


