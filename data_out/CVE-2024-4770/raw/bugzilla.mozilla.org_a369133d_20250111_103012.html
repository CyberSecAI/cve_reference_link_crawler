<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
<meta property="og:type" content="website">
<meta property="og:title" content="1893270 - (CVE-2024-4770) AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=1893270">
<meta property="og:description"
      content="VERIFIED (dholbert) in Core - Printing: Output. Last updated 2024-09-18.">
<meta name="twitter:label1" value="Type">
<meta name="twitter:data1" value="defect">
<meta name="twitter:label2" value="Priority">
<meta name="twitter:data2" value="--">

    

    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="color-scheme" content="dark light">
    <meta name="generator" content="Bugzilla 20250108.1">
    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;config&quot;:{&quot;basepath&quot;:&quot;\/&quot;,&quot;cookie_consent_enabled&quot;:&quot;&quot;,&quot;cookie_consent_required&quot;:1,&quot;essential_cookies&quot;:[&quot;bugzilla&quot;,&quot;Bugzilla_login&quot;,&quot;Bugzilla_logincookie&quot;,&quot;Bugzilla_login_request_cookie&quot;,&quot;github_state&quot;,&quot;github_token&quot;,&quot;mfa_verification_token&quot;,&quot;moz-consent-pref&quot;,&quot;sudo&quot;],&quot;urlbase&quot;:&quot;https:\/\/bugzilla.mozilla.org\/&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxattachmentsize&quot;:&quot;10240&quot;,&quot;maxusermatches&quot;:&quot;50&quot;,&quot;splinter_base&quot;:&quot;\/page.cgi?id=splinter.html&amp;ignore=\/&quot;,&quot;use_markdown&quot;:&quot;1&quot;},&quot;string&quot;:{&quot;TextEditor&quot;:{&quot;command_bold&quot;:&quot;Bold&quot;,&quot;command_bulleted_list&quot;:&quot;Bulleted list&quot;,&quot;command_code&quot;:&quot;Code&quot;,&quot;command_heading&quot;:&quot;Heading&quot;,&quot;command_italic&quot;:&quot;Italic&quot;,&quot;command_link&quot;:&quot;Link&quot;,&quot;command_numbered_list&quot;:&quot;Numbered list&quot;,&quot;command_quote&quot;:&quot;Quote&quot;,&quot;comment_editor&quot;:&quot;Comment Editor&quot;,&quot;edit&quot;:&quot;Edit&quot;,&quot;etiquette_link&quot;:{&quot;href&quot;:&quot;page.cgi?id=etiquette.html&quot;,&quot;text&quot;:&quot;Etiquette&quot;},&quot;guidelines_link&quot;:{&quot;href&quot;:&quot;page.cgi?id=bug-writing.html&quot;,&quot;text&quot;:&quot;Bug Writing Guidelines&quot;},&quot;loading&quot;:&quot;Loading…&quot;,&quot;markdown_link&quot;:{&quot;href&quot;:&quot;https:\/\/guides.github.com\/features\/mastering-markdown\/&quot;,&quot;text&quot;:&quot;Markdown supported&quot;},&quot;preview&quot;:&quot;Preview&quot;,&quot;preview_error&quot;:&quot;Preview could not be loaded. Please try again later.&quot;,&quot;text_editor&quot;:&quot;Text Editor&quot;,&quot;toolbar_label&quot;:&quot;Markdown text-formatting toolbar&quot;},&quot;bug&quot;:&quot;bug&quot;,&quot;bug_type_required&quot;:&quot;You must select a Type for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;},&quot;user&quot;:{&quot;cookie_consent&quot;:&quot;&quot;,&quot;is_new&quot;:true,&quot;login&quot;:&quot;&quot;}}">
    <meta name="google-site-verification" content="JYXIuR9cAlV7fLmglSrc_4UaJS6Wzh5Mdxiorqu5AQc" />
    <title>1893270 - (CVE-2024-4770) AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free</title>

<link rel="Top" href="/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="/showdependencytree.cgi?id=1893270&amp;hide_resolved=1">
    <link rel="Show" title="Dependency Graph"
          href="/showdependencygraph.cgi?id=1893270">
    <link rel="Show" title="Bug Activity"
          href="/show_activity.cgi?id=1893270">

<link href="/static/v20250108.1/skins/standard/global.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/extensions/BugModal/web/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/js/jquery/plugins/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/extensions/BMO/web/styles/bug_modal.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/extensions/EditComments/web/styles/inline-comment-editor.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/js/jquery/ui/jquery-ui-min.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/js/jquery/ui/jquery-ui-structure-min.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/js/jquery/ui/jquery-ui-theme-min.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/skins/lib/prism.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/skins/standard/consent.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/extensions/Needinfo/web/styles/needinfo.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/extensions/Review/web/styles/badge.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/extensions/Review/web/styles/review.css" rel="stylesheet" type="text/css"><link href="/static/v20250108.1/skins/standard/text-editor.css" rel="stylesheet" type="text/css">



    
<script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/jquery/jquery-min.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/jquery/ui/jquery-ui-min.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/jquery/plugins/contextMenu/contextMenu-min.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/jquery/plugins/devbridgeAutocomplete/devbridgeAutocomplete-min.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/global.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/util.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/widgets.js"></script>

      <script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu">BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"types\":[\"tracking\"],\"comments\":{\"cf_tracking_firefox126\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_relnote\":{\"?\":\"Release Note Request (optional, but appreciated)\\n[Why is this notable]:\\n[Affects Firefox for Android]:\\n[Suggested wording]:\\n[Links (documentation, blog post, etc)]:\"},\"cf_tracking_firefox136\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox_esr128\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox134\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox127\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_tracking_firefox135\":{\"?\":\"[Tracking Requested - why for this release]:\"},\"cf_a11y_review_project_flag\":{\"requested\":\"Description:\\nPlease provide an explanation of the feature or change. Include a description of the user scenario in which it would be used and how the user would complete the task(s).\\nScreenshots and visual UI specs are welcome, but please include sufficient accompanying explanation so that blind members of the accessibility team are able to understand the feature\/change.\\n\\nHow do we test this?\\nIf there is an implementation to test, please provide instructions for testing it; e.g. setting preferences, other preparation, how to trigger the UI, etc.\\n\\nWhen will this ship?\\nTracking bug\/issue:\\nDesign documents (e.g. Product Requirements Document, UI spec):\\nEngineering lead:\\nProduct manager:\\n\\nThe accessibility team has developed the Mozilla Accessibility Release Guidelines which outline what is needed to make user interfaces accessible:\\nhttps:\/\/wiki.mozilla.org\/Accessibility\/Guidelines\\nPlease describe the accessibility guidelines you considered and what steps you\'ve taken to address them:\\n\\nDescribe any areas of concern to which you want the accessibility team to give special attention:\"},\"cf_tracking_firefox_esr115\":{\"?\":\"[Tracking Requested - why for this release]:\"}},\"flags\":{\"project\":{\"cf_accessibility_severity\":\"---\",\"cf_a11y_review_project_flag\":\"---\",\"cf_webcompat_priority\":\"---\",\"cf_webcompat_score\":\"---\",\"cf_performance_impact\":\"---\"},\"tracking\":{\"cf_status_thunderbird_esr128\":\"---\",\"cf_tracking_firefox_relnote\":\"---\",\"cf_status_firefox125\":\"wontfix\",\"cf_tracking_firefox135\":\"---\",\"cf_tracking_thunderbird_esr128\":\"---\",\"cf_status_firefox_esr115\":\"verified\",\"cf_status_firefox_esr128\":\"---\",\"cf_tracking_firefox_esr115\":\"126+\",\"cf_status_thunderbird_esr115\":\"---\",\"cf_status_firefox135\":\"---\",\"cf_tracking_firefox126\":\"+\",\"cf_status_firefox127\":\"verified\",\"cf_tracking_firefox136\":\"---\",\"cf_status_firefox126\":\"verified\",\"cf_tracking_firefox134\":\"---\",\"cf_tracking_firefox_esr128\":\"---\",\"cf_tracking_firefox127\":\"+\",\"cf_status_firefox134\":\"---\",\"cf_tracking_thunderbird_esr115\":\"---\",\"cf_status_firefox136\":\"---\"}}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  
    BUGZILLA.bug_id = 1893270;
    BUGZILLA.bug_title = '1893270 - (CVE-2024-4770) AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -\x3e free';
    BUGZILLA.bug_summary = 'AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -\x3e free';
    BUGZILLA.bug_url = 'https:\/\/bugzilla.mozilla.org\/show_bug.cgi?id=1893270';
    BUGZILLA.bug_keywords = 'csectype-uninitialized, pernosco, reporter-external, sec-moderate, testcase',
    BUGZILLA.bug_secure = false;
    

  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    can_triage: false,
    timezone: 'America\/Los_Angeles',
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      inline_attachments: true,
      autosize_comments: false
    },
    cookie_consent: false
  };
  review_suggestions = {
    _mentors: [
    ],


      
      'Printing: Output': [
      ],

    
    _end: 1
  };

    static_component = 'Printing: Output';
      </script>
<script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/text-editor.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/BugModal/web/autosize.min.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/ProdCompSearch/web/js/prod_comp_search.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/BugModal/web/attachments_overlay.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/BugModal/web/bug_modal.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/BugModal/web/comments.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/ComponentWatching/web/js/overlay.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/bugzilla-readable-status-min.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/field.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/comments.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/util.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/TrackingFlags/web/js/flags.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/BMO/web/js/firefox-crash-table.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/MozChangeField/web/js/severity-s1-priority-p1.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/MozChangeField/web/js/clear-tracking-priority-s1.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/MozChangeField/web/js/set-tracking-severity-s1.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/lib/prism.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/consent.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/cookie-helper.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/js/lib/md5.min.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/Review/web/js/badge.js"></script><script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/Review/web/js/review.js"></script>

    

    
    <link href="/static/v20250108.1/skins/lib/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="/static/v20250108.1/skins/lib/fontawesome-brands.min.css" rel="stylesheet" type="text/css">
    <link href="/static/v20250108.1/skins/lib/fontawesome-solid.min.css" rel="stylesheet" type="text/css">

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="/search_plugin.cgi"><link rel="shortcut icon" href="/extensions/BMO/web/images/favicon.ico">
<link rel="canonical" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1893270">
<link rel="shorturl" href="https://bugzilla.mozilla.org/1893270"><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal">



<div id="wrapper">

<header id="header" role="banner" aria-label="Global Header">
  <div class="inner" role="none">
    <button type="button" class="iconic ghost" id="open-menu-drawer" aria-label="Open Site Menu">
      <span class="icon" aria-hidden="true" data-icon="menu"></span>
    </button><div id="header-external-links" class="dropdown" role="none">
  <button type="button" id="header-external-menu-button" class="dropdown-button minor"
          aria-label="Show Mozilla Menu" aria-expanded="false" aria-haspopup="true"
          aria-controls="header-external-menu">
    <img src="/static/v20250108.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg"
         width="32" height="32" alt="">
  </button>
  <ul class="dropdown-content right" id="header-external-menu" role="menu" aria-label="Mozilla Menu"
      style="display:none;">
    <li role="none">
      <a href="https://www.mozilla.org/" role="menuitem">
        <span class="label" role="none">Mozilla Home</span>
      </a>
    </li>
    <li role="separator"></li>
    <li role="none">
      <a href="https://www.mozilla.org/privacy/websites/" role="menuitem">
        <span class="label" role="none">Privacy</span>
      </a>
    </li>
    <li role="none">
      <a href="https://www.mozilla.org/privacy/websites/#cookies" role="menuitem">
        <span class="label" role="none">Cookies</span>
      </a>
    </li>
    <li role="none">
      <a href="https://www.mozilla.org/about/legal/" role="menuitem">
        <span class="label" role="none">Legal</span>
      </a>
    </li>
  </ul>
</div>
    <h1 id="header-title" class="title" role="none">
      <a class="header-button" href="https://bugzilla.mozilla.org/home" title="Go to home page">
        <span aria-label="Go to Bugzilla Home Page">Bugzilla</span>
      </a>
    </h1>
    <form id="header-search" class="quicksearch" action="/buglist.cgi"
          data-no-csrf role="search" aria-label="Search Bugs">
      <button type="button" class="iconic ghost" id="show-searchbox"
              aria-label="Search Bugs">
        <span class="icon" aria-hidden="true" data-icon="search"></span>
      </button>
      <div class="searchbox-outer dropdown" role="combobox" aria-label="Quick Search"
           aria-haspopup="listbox" aria-owns="header-search-dropdown" aria-expanded="false">
        <span class="icon" aria-hidden="true" data-icon="search"></span>
        <input id="quicksearch_top" class="dropdown-button" name="quicksearch" autocomplete="off"
               value="" accesskey="s"
               placeholder="Search Bugs"
               title="Enter a bug number or some search terms"
               role="searchbox" aria-controls="header-search-dropdown" aria-label="Search Terms"><div id="header-search-dropdown" class="dropdown-content dropdown-panel right" role="listbox"
     style="display: none;">
  <div id="header-search-dropdown-wrapper" role="none">
    <section id="header-search-dropdown-help" role="group" aria-label="Help">
      <footer role="none">
        <a href="/page.cgi?id=quicksearch.html">Quick Search Tips</a>
        <a href="/query.cgi?format=advanced">Advanced Search</a>
      </footer>
    </section>
  </div>
</div>
      </div>
    </form>
    <nav id="header-nav" role="menubar" aria-label="Site Links">
      <ul class="links" role="none"><li role="none">
    <a class="header-button" href="/describecomponents.cgi"
       title="Browse bugs by component" role="menuitem">
      <span class="icon" aria-hidden="true" data-icon="category"></span>
      <span class="label" role="none">Browse</span>
    </a>
  </li>
  <li role="none">
    <a class="header-button" href="/query.cgi?format=advanced"
       title="Search bugs using various criteria" role="menuitem">
      <span class="icon" aria-hidden="true" data-icon="pageview"></span>
      <span class="label" role="none">Advanced Search</span>
    </a>
  </li>
  <li role="none">
    <a class="header-button" href="/enter_bug.cgi"
       title="File a new bug" role="menuitem">
      <span class="icon" aria-hidden="true" data-icon="add_box"></span>
      <span class="label" role="none">New Bug</span>
    </a>
  </li>
      </ul>
      <div class="dropdown" role="none">
        <button type="button" id="header-tools-menu-button"
                class="header-button dropdown-button minor" title="More tools…"
                role="menuitem" aria-label="Show More Tools Menu" aria-expanded="false"
                aria-haspopup="true" aria-controls="header-tools-menu">
          <span class="icon" aria-hidden="true" data-icon="more_horiz"></span>
        </button>
        <ul class="dropdown-content left" id="header-tools-menu" role="menu"
            aria-label="More Tools Menu" style="display:none;"><li role="none">
    <a href="/report.cgi" role="menuitem">
      <span class="icon" aria-hidden="true" data-icon="analytics"></span>
      <span class="label" role="none">Reports</span>
    </a>
  </li>
    <li role="separator"></li>
    <li role="none">
      <a href="https://bmo.readthedocs.io/en/latest/" target="_blank" role="menuitem">
        <span class="icon" aria-hidden="true" data-icon="help"></span>
        <span class="label" role="none">Documentation</span>
      </a>
    </li>
        </ul>
      </div>
    </nav>
      <ul id="header-login" class="links" role="none"><li id="mini_login_container_top" role="none">
  <a id="login_link_top" href="/index.cgi?GoAheadAndLogIn=1"
     class='show_mini_login_form header-button' data-qs-suffix="_top"
     role="button">
    <span class="icon" aria-hidden="true" data-icon="login"></span>
    <span class="label" role="none">Log In</span>
  </a>

  <div id="mini_login_top" class="mini-popup mini_login bz_default_hidden">

<form method="post" action="/github.cgi">
    <input type="hidden" name="github_token" value="cQ3TjdjBIan5kvGcGcs48pJbxTzcFtDF6veFUJaH4P2TomKnEUuRegvIvHn8oEOs1wst1EIU8bH6bnpfOotBdbRqnCty4VB7srAcLKTyy2eBZ6Kh32oAIewopGyiXnXb1x9XH7SZlotByNfD08CUErdfeVvl9nDzUzBVwJjjPjqbMShk3Vkj1a6eONy3xzVxSRrAPuegozGdigXDT2nhXqqnQgLAqxYlIrnWXAoRvG57XJ3yQ3JYpaJaYQy3CiTz">
    <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi">
    <button type="submit">
      <i class="fab fa-github"></i> Log In with GitHub
    </button>
  </form>

    <div class="method-separator">or</div>

  <form action="/show_bug.cgi?id=1893270" method="POST"
        data-qs-suffix="_top">

    <input id="Bugzilla_login_top"
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="Email"
           aria-label="Email"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top"
           name="Bugzilla_password"
           type="password"
           title="Password"
           placeholder="Password"
           aria-label="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text"
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <span class="remember-outer">
        <input type="checkbox" id="Bugzilla_remember_top"
               name="Bugzilla_remember" value="on" class="bz_remember"
               checked>
        <label for="Bugzilla_remember_top">Remember me</label>
      </span>
    <input type="hidden" name="Bugzilla_login_token"
           value="1736591411-yyW_TBT8sBz3nZ9bjxaDqdMa0WqjR4UgOexuGvxexw8">
    <input type="submit" name="GoAheadAndLogIn" value="Log In" id="log_in_top"
           class="check_mini_login_fields" data-qs-suffix="_top">
    <a href="#" id="hide_mini_login_top" aria-label="Close"
       class="close-button hide_mini_login_form" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  <div class="footer">
      <a href="/createaccount.cgi">Create an Account</a>
    &middot;
    <a id="forgot_link_top" href="/index.cgi?GoAheadAndLogIn=1#forgot"
       class='show_forgot_form'
       data-qs-suffix="_top">Forgot Password</a>
  </div>
  </div>

  <div id="forgot_form_top" class="mini-popup mini_forgot bz_default_hidden">
  <form action="/token.cgi" method="post">
    <input type="email" name="loginname" size="20" placeholder="Email" aria-label="Email" required>
    <input id="forgot_button_top" value="Reset Password"
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1736591411-_VAf3CBPCdUjoOxIc2BVmVuokQ9URwkSy8fNsOvEn0Q">
    <a href="#" class="close-button hide_forgot_form" aria-label="Close" data-qs-suffix="_top">
      <span class="icon" aria-hidden="true"></span>
    </a>
  </form>
  </div>
</li>
      </ul>
  </div>
  <dialog id="menu-drawer" inert aria-label="Site Menu">
    <div class="drawer-inner" role="none">
      <div class="header" role="none">
        <button type="button" class="iconic ghost" id="close-menu-drawer"
                aria-label="Close Site Menu">
          <span class="icon" aria-hidden="true" data-icon="close"></span>
        </button>
      </div>
      <ul role="menu" aria-label="Site Links"><li role="none">
    <a class="header-button" href="/describecomponents.cgi"
       title="Browse bugs by component" role="menuitem">
      <span class="icon" aria-hidden="true" data-icon="category"></span>
      <span class="label" role="none">Browse</span>
    </a>
  </li>
  <li role="none">
    <a class="header-button" href="/query.cgi?format=advanced"
       title="Search bugs using various criteria" role="menuitem">
      <span class="icon" aria-hidden="true" data-icon="pageview"></span>
      <span class="label" role="none">Advanced Search</span>
    </a>
  </li>
  <li role="none">
    <a class="header-button" href="/enter_bug.cgi"
       title="File a new bug" role="menuitem">
      <span class="icon" aria-hidden="true" data-icon="add_box"></span>
      <span class="label" role="none">New Bug</span>
    </a>
  </li><li role="none">
    <a href="/report.cgi" role="menuitem">
      <span class="icon" aria-hidden="true" data-icon="analytics"></span>
      <span class="label" role="none">Reports</span>
    </a>
  </li>
    <li role="separator"></li>
    <li role="none">
      <a href="https://bmo.readthedocs.io/en/latest/" target="_blank" role="menuitem">
        <span class="icon" aria-hidden="true" data-icon="help"></span>
        <span class="label" role="none">Documentation</span>
      </a>
    </li>
      </ul>
    </div>
  </dialog>
</header> 


<main id="bugzilla-body" tabindex="-1">

<aside id="message-container" role="complementary">
  <noscript>
    <div class="noscript">
      <div class="inner">
        <p>Please enable JavaScript in your browser to use all the features on this site.</p>
      </div>
    </div>
  </noscript>
</aside>

<div id="main-inner">




<div role="toolbar" id="page-toolbar">
  <div role="group" class="buttons">
    <button type="button" id="copy-summary" class="secondary separate-dropdown-button-main"
      title="Copy bug number and summary to your clipboard">Copy Summary</button
    ><div id="copy-menu-dropdown" class="dropdown"><button type="button" id="copy-menu-btn" aria-haspopup="true" aria-label="View"
      aria-expanded="false" aria-controls="copy-menu" class="dropdown-button secondary separate-dropdown-button-arrow"
      title="More options for copy">&#9662;</button>
      <ul class="dropdown-content left" id="copy-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="copy-markdown-summary" role="menuitem" tabindex="-1">Markdown</a>
        </li>
        <li role="presentation">
          <a id="copy-markdown-bug-number" role="menuitem" tabindex="-1">Markdown (bug number)</a>
        </li>
        <li role="presentation">
          <a id="copy-text-summary" role="menuitem" tabindex="-1">Plain Text</a>
        </li>
        <li role="presentation">
          <a id="copy-html-summary" role="menuitem" tabindex="-1">HTML</a>
        </li>
      </ul>
    </div>
    <div id="clip-container" style="display:none"><input type="text" id="clip"></div>
    <div class="dropdown">
      <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="View"
        aria-expanded="false" aria-controls="action-menu" class="dropdown-button secondary">View &#9662;</button>
      <ul class="dropdown-content left" id="action-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
        </li>
        <li role="presentation">
          <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
        </li>
        <li role="presentation">
          <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a id="action-history" role="menuitem" tabindex="-1">History</a>
        </li>
        <li role="separator"></li>
        <li role="presentation">
          <a href="/rest/bug/1893270" role="menuitem" tabindex="-1">JSON</a>
        </li>
        <li role="presentation">
          <a href="/show_bug.cgi?ctype=xml&amp;id=1893270" role="menuitem" tabindex="-1">XML</a>
        </li>
      </ul>
    </div>
  </div>
</div>



<div role="status" id="io-error" style="display:none"></div>
<div role="status" id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field bug_modal indent"
    id="field-status_summary"
>



  
    <div class=" container">
        <span id="field-value-status_summary">
      <span class="bug-status-label text" data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="/show_bug.cgi?id=1893270">Bug 1893270</a>
          <span class="edit-hide">(CVE-2024-4770)</span>
      </span>
      <span class="bug-time-labels">
        <span class="bug-time-label">Opened <span class="rel-time" title="2024-04-24 12:04 PDT" data-time="1713985473">9 months ago</span></span>
          <span class="bug-time-label">Closed <span class="rel-time" title="2024-04-28 07:23 PDT" data-time="1714314201">9 months ago</span></span>
      </span>
        </span>
    </div>

  
</div>
<div class="field bug_modal indent edit-hide"
>



  
    <div class=" container">
      

      <h1 id="field-value-short_desc">Address<wbr>Sanitizer: attempting free on address which was not malloc()-ed on cairo<wbr>_cff<wbr>_font<wbr>_destroy -&gt; free</h1>
    </div>

  
</div>

    <div class="field bug_modal edit-show"
    id="field-short_desc" style="display:none"
>
    <div class="name">
      
        <span class="required_star edit-show" style="display:none" aria-label="Required Field">*</span> 
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-short_desc">
            AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free

        </span>
    </div>

  
</div>
  </div>
  </div>
</section>


<section class="module" id="module-categories"
>
    <header id="module-categories-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Categories section"
           data-label-collapsed="Expand Categories section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-categories-content"
             aria-expanded="true"
             aria-labeledby="module-categories-title"
             aria-describedby="module-categories-subtitle"></div>
        <h2 class="module-title" id="module-categories-title">Categories</h2>
          <h3 class="module-subtitle" id="module-categories-subtitle">
            (Core :: Printing: Output, defect)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-categories-content"
  ><div class="fields-lhs">

    <div class="field bug_modal"
    id="field-product"
>
    <div class="name">
      
        <a href="/describecomponents.cgi?product=Core" id="product-help-link" class="help">Product:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-product">
      <div class="name-info-outer dropdown">
        <span id="product-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="product-info">Core
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="product-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Product description and actions">
          <header>
            <div class="title">Core</div>
            <div class="description">Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the <a href="https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox">Firefox</a> product. (<a href="https://wiki.mozilla.org/Modules/All#Core">More info</a>)</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Product</a></div>
            <div><a href="/enter_bug.cgi?product=Core"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Product</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core"
                         data-label-watch="Watch This Product" data-label-unwatch="Unwatch This Product"
                         data-source="BugModal">Watch This Product</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field bug_modal"
    id="field-component"
>
    <div class="name">
      
        <a href="/describecomponents.cgi?product=Core&component=Printing%3A%20Output#Printing%3A%20Output" id="component-help-link" class="help">Component:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-component">
      <div class="name-info-outer dropdown">
        <span id="component-name" class="dropdown-button" tabindex="0" role="button"
             aria-haspopup="menu" aria-controls="component-info">Printing: Output
          <span class="icon" aria-hidden="true">&#x25BE;</span>
        </span>
        <aside id="component-info" class="name-info-popup dropdown-content right hover-display" hidden role="menu"
               aria-label="Component description and actions">
          <header>
            <div class="title">Core :: Printing: Output</div>
            <div class="description">Problems printing from this product should be submitted under this component.</div>
          </header>
          <li role="separator"></li>
          <div class="actions">
            <div><a href="/buglist.cgi?product=Core&amp;component=Printing%3A%20Output&amp;bug_status=__open__"
                    target="_blank" role="menuitem" tabindex="-1">See Open Bugs in This Component</a></div>
            <div><a href="/buglist.cgi?product=Core&amp;component=Printing%3A%20Output&amp;chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__"
                    target="_blank" role="menuitem" tabindex="-1">Recently Fixed Bugs in This Component</a></div>
            <div><a href="/enter_bug.cgi?product=Core&amp;component=Printing%3A%20Output"
                    target="_blank" role="menuitem" tabindex="-1">File New Bug in This Component</a></div>
            <div><button disabled type="button" class="secondary component-watching" role="menuitem" tabindex="-1"
                         data-product="Core" data-component="Printing: Output"
                         data-label-watch="Watch This Component" data-label-unwatch="Unwatch This Component"
                         data-source="BugModal">Watch This Component</button></div>
          </div>
        </aside>
      </div>
        </span>
    </div>

  
</div>

    <div class="field bug_modal edit-show"
    id="field-version" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-version">
            unspecified

        </span>
    </div>

  
</div>

    <div class="field bug_modal edit-show" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">Platform:
        </a>
    </div>



  
    <div class=" container"><div class="field bug_modal inline"
    id="field-rep_platform"
>



  
    <div class="value">
        <span id="field-value-rep_platform">
            Unspecified

        </span>
    </div>

  
</div><div class="field bug_modal indent inline"
    id="field-op_sys"
>



  
    <div class="value">
        <span id="field-value-op_sys">
            Unspecified

        </span>
    </div>

  
</div><div class="field bug_modal"
>



  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field bug_modal contains-buttons"
    id="field-bug_type"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type" id="bug_type-help-link" class="help">Type:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-bug_type">
      <span class="bug-type-label iconic-text" data-type="defect">
        <span class="icon" aria-hidden="true"></span>defect</span>
        </span>
    </div>

  
</div>

    <div class="field bug_modal"
    id="field-importance"
>



  
    <div class=" container">
        <span id="field-value-importance"><div class="field bug_modal inline"
    id="field-priority"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="priority-help-link" class="help">Priority:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-priority">
          <em>Not set</em>
        </span>
    </div>

  
</div><div class="field bug_modal inline"
    id="field-bug_severity"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity" id="bug_severity-help-link" class="help">Severity:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-bug_severity">
            S2

        </span>
    </div>

  
</div>
        </span>
    </div>

  
</div>


    <div class="field bug_modal edit-show"
    id="field-cf_fx_points" style="display:none"
>
    <div class="name">
      Points:
    </div>



  
    <div class="value">
        <span id="field-value-cf_fx_points">
            ---

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
          <h3 class="module-subtitle" id="module-tracking-subtitle">
            (<span id="readable-bug-status" data-readable-bug-status="{&quot;cf_status_firefox_esr128&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr115&quot;:&quot;126+&quot;,&quot;cf_status_firefox_esr115&quot;:&quot;verified&quot;,&quot;cf_status_thunderbird_esr115&quot;:&quot;---&quot;,&quot;cf_a11y_review_project_flag&quot;:&quot;---&quot;,&quot;cf_tracking_firefox135&quot;:&quot;---&quot;,&quot;cf_accessibility_severity&quot;:&quot;---&quot;,&quot;priority&quot;:&quot;--&quot;,&quot;cf_tracking_thunderbird_esr128&quot;:&quot;---&quot;,&quot;dupe_of&quot;:null,&quot;cf_tracking_firefox_relnote&quot;:&quot;---&quot;,&quot;cf_status_thunderbird_esr128&quot;:&quot;---&quot;,&quot;cf_performance_impact&quot;:&quot;---&quot;,&quot;cf_status_firefox136&quot;:&quot;---&quot;,&quot;cf_tracking_thunderbird_esr115&quot;:&quot;---&quot;,&quot;flags&quot;:[{&quot;name&quot;:&quot;sec-bounty&quot;,&quot;status&quot;:&quot;+&quot;}],&quot;cf_status_firefox134&quot;:&quot;---&quot;,&quot;cf_tracking_firefox127&quot;:&quot;+&quot;,&quot;cf_status_firefox126&quot;:&quot;verified&quot;,&quot;cf_tracking_firefox134&quot;:&quot;---&quot;,&quot;cf_tracking_firefox136&quot;:&quot;---&quot;,&quot;resolution&quot;:&quot;FIXED&quot;,&quot;id&quot;:1893270,&quot;target_milestone&quot;:&quot;127 Branch&quot;,&quot;cf_status_firefox135&quot;:&quot;---&quot;,&quot;cf_status_firefox125&quot;:&quot;wontfix&quot;,&quot;keywords&quot;:[&quot;csectype-uninitialized&quot;,&quot;pernosco&quot;,&quot;reporter-external&quot;,&quot;sec-moderate&quot;,&quot;testcase&quot;],&quot;cf_webcompat_score&quot;:&quot;---&quot;,&quot;status&quot;:&quot;VERIFIED&quot;,&quot;cf_webcompat_priority&quot;:&quot;---&quot;,&quot;cf_tracking_firefox_esr128&quot;:&quot;---&quot;,&quot;cf_status_firefox127&quot;:&quot;verified&quot;,&quot;cf_tracking_firefox126&quot;:&quot;+&quot;}"></span>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field bug_modal edit-hide"
    id="field-status-view"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">Status:
        </a>
    </div>



  
    <div class=" container">
        <span id="field-value-status-view">VERIFIED
        FIXED
        </span>
    </div>

  
</div>

    <div class="field bug_modal edit-show"
    id="field-status-edit" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>



  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field bug_modal inline"
    id="field-bug_status"
>



  
    <div class="value">
        <span id="field-value-bug_status">
            VERIFIED

        </span>
    </div>

  
</div><div class="field bug_modal indent inline"
    id="field-resolution"
>



  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
  <div id="status-action-buttons">
      <div id="assigned-container" style="display:none">
        <button type="button" class="secondary" id="mark-as-assigned-btn">
          Mark as Assigned
        </button>
      </div>
  </div>
        </span>
    </div>

  
</div>

    <div class="field bug_modal"
    id="field-target_milestone"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Milestone:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-target_milestone">
            127 Branch

        </span>
    </div>

  
</div>

    <div class="field bug_modal edit-show"
    id="field-cf_fx_iteration" style="display:none"
>
    <div class="name">
      Iteration:
    </div>



  
    <div class="value">
        <span id="field-value-cf_fx_iteration">
            ---

        </span>
    </div>

  
</div>


      <div class="field bug_modal edit-show" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Project_Flags" id="-help-link" class="help">Project Flags:
        </a>
    </div>



  
    <div class=" container"><div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <td class="tracking-flag-name">Accessibility Severity</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_accessibility_severity-dirty">
  <select id="cf_accessibility_severity" name="cf_accessibility_severity">
        <option value="---"
          id="v6045_cf_accessibility_severity" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">a11y-review</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_a11y_review_project_flag-dirty">
  <select id="cf_a11y_review_project_flag" name="cf_a11y_review_project_flag">
        <option value="---"
          id="v4876_cf_a11y_review_project_flag" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Performance Impact</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_performance_impact-dirty">
  <select id="cf_performance_impact" name="cf_performance_impact">
        <option value="---"
          id="v5427_cf_performance_impact" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Webcompat Priority</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_webcompat_priority-dirty">
  <select id="cf_webcompat_priority" name="cf_webcompat_priority">
        <option value="---"
          id="v4274_cf_webcompat_priority" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">Webcompat Score</td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_webcompat_score-dirty">
  <select id="cf_webcompat_score" name="cf_webcompat_score">
        <option value="---"
          id="v6757_cf_webcompat_score" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>
</div><div class="fields-rhs">

      <div class="field tracking-flags-wrapper"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags" id="-help-link" class="help">Tracking Flags:
        </a>
    </div>



  
    <div class=" container"><div class="flags edit-hide">
    <table class="layout-table tracking-flags">
        <tr>
          <th></th>
          <th>Tracking</th>
          <th>Status</th>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox-esr115</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox_esr115&amp;o1=equals&amp;v1=126%2B">126+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox125</td>
            <td class="tracking-flag-tracking">---
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox125&amp;o1=equals&amp;v1=wontfix">wontfix</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox126</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox126&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox126&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
        <tr>
          <td class="tracking-flag-name">firefox127</td>
            <td class="tracking-flag-tracking">
                <a href="/buglist.cgi?f1=cf_tracking_firefox127&amp;o1=equals&amp;v1=%2B">+</a>
            </td>
          <td class="tracking-flag-status">
              <a href="/buglist.cgi?f1=cf_status_firefox127&amp;o1=equals&amp;v1=verified">verified</a>
          </td>
        </tr>
    </table>
  </div>


<div class="flags edit-show" style="display:none">
  <table class="layout-table tracking-flags">
      <tr>
        <th></th>
        <th>Tracking</th>
        <th>Status</th>
      </tr>
      <tr>
        <td class="tracking-flag-name">relnote-firefox</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_tracking_firefox_relnote-dirty">
  <select id="cf_tracking_firefox_relnote" name="cf_tracking_firefox_relnote">
        <option value="---"
          id="v539_cf_tracking_firefox_relnote" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr115</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr115-dirty">
  <select id="cf_tracking_thunderbird_esr115" name="cf_tracking_thunderbird_esr115">
        <option value="---"
          id="v6094_cf_tracking_thunderbird_esr115" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr115-dirty">
  <select id="cf_status_thunderbird_esr115" name="cf_status_thunderbird_esr115">
        <option value="---"
          id="v6100_cf_status_thunderbird_esr115" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">thunderbird_esr128</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_thunderbird_esr128-dirty">
  <select id="cf_tracking_thunderbird_esr128" name="cf_tracking_thunderbird_esr128">
        <option value="---"
          id="v6557_cf_tracking_thunderbird_esr128" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_thunderbird_esr128-dirty">
  <select id="cf_status_thunderbird_esr128" name="cf_status_thunderbird_esr128">
        <option value="---"
          id="v6576_cf_status_thunderbird_esr128" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr115</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr115-dirty">
  <select id="cf_tracking_firefox_esr115" name="cf_tracking_firefox_esr115">
        <option value="126+"
          id="v6421_cf_tracking_firefox_esr115" selected
        >126+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr115-dirty">
  <select id="cf_status_firefox_esr115" name="cf_status_firefox_esr115">
        <option value="verified"
          id="v6090_cf_status_firefox_esr115" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox-esr128</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox_esr128-dirty">
  <select id="cf_tracking_firefox_esr128" name="cf_tracking_firefox_esr128">
        <option value="---"
          id="v6501_cf_tracking_firefox_esr128" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox_esr128-dirty">
  <select id="cf_status_firefox_esr128" name="cf_status_firefox_esr128">
        <option value="---"
          id="v6505_cf_status_firefox_esr128" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox125</td>
          <td class="tracking-flag-tracking"></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox125-dirty">
  <select id="cf_status_firefox125" name="cf_status_firefox125">
        <option value="wontfix"
          id="v6394_cf_status_firefox125" selected
        >wontfix
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox126</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox126-dirty">
  <select id="cf_tracking_firefox126" name="cf_tracking_firefox126">
        <option value="+"
          id="v6430_cf_tracking_firefox126" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox126-dirty">
  <select id="cf_status_firefox126" name="cf_status_firefox126">
        <option value="verified"
          id="v6440_cf_status_firefox126" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox127</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox127-dirty">
  <select id="cf_tracking_firefox127" name="cf_tracking_firefox127">
        <option value="+"
          id="v6448_cf_tracking_firefox127" selected
        >+
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox127-dirty">
  <select id="cf_status_firefox127" name="cf_status_firefox127">
        <option value="verified"
          id="v6458_cf_status_firefox127" selected
        >verified
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox134</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox134-dirty">
  <select id="cf_tracking_firefox134" name="cf_tracking_firefox134">
        <option value="---"
          id="v6773_cf_tracking_firefox134" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox134-dirty">
  <select id="cf_status_firefox134" name="cf_status_firefox134">
        <option value="---"
          id="v6778_cf_status_firefox134" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox135</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox135-dirty">
  <select id="cf_tracking_firefox135" name="cf_tracking_firefox135">
        <option value="---"
          id="v6816_cf_tracking_firefox135" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox135-dirty">
  <select id="cf_status_firefox135" name="cf_status_firefox135">
        <option value="---"
          id="v6821_cf_status_firefox135" selected
        >---
        </option>
  </select></td>
      </tr>
      <tr>
        <td class="tracking-flag-name">firefox136</td>
          <td class="tracking-flag-tracking"><input type="hidden" id="cf_tracking_firefox136-dirty">
  <select id="cf_tracking_firefox136" name="cf_tracking_firefox136">
        <option value="---"
          id="v6838_cf_tracking_firefox136" selected
        >---
        </option>
  </select></td>
        <td class="tracking-flag-status"><input type="hidden" id="cf_status_firefox136-dirty">
  <select id="cf_status_firefox136" name="cf_status_firefox136">
        <option value="---"
          id="v6843_cf_status_firefox136" selected
        >---
        </option>
  </select></td>
      </tr>
  </table>
</div>
    </div>

  
</div>

</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: sourc7, Assigned: dholbert)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug_modal edit-hide"
    id="field-assigned_to"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_278074" ><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=278074" > <span class="fna">dholbert</span></a>
</div>
        </span>
    </div>

  
</div><div class="field bug_modal edit-show"
    id="field-assigned_to" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field bug_modal edit-show"
    id="field-bug_mentors" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field bug_modal edit-show"
    id="field-qa_contact" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-qa_contact">
        <div class="set-default-container" style="display:none">
          <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
            value="1" data-for="qa_contact">
          <label for="set-default-qa-contact">Reset QA Contact to default</label>
        </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field bug_modal"
    id="field-reporter"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_537720" ><img src="https://secure.gravatar.com/avatar/1f6e740893c5a41879a277dd0b0a0c4a?d=mm&size=40" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=537720" > <span class="fna">sourc7</span></a>
</div>

        </span>
    </div>

  
</div>


    <div class="field bug_modal"
    id="field-triage_owner"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-triage_owner">
            <div class="vcard vcard_32767" ><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="20" height="20"> <a class="email " href="/user_profile?user_id=32767" > <span class="fna">jwatt</span></a>
</div>

        </span>
    </div>

  
</div>

    

    <div class="field bug_modal"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>



  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="12">12 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-references"
>
    <header id="module-references-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse References section"
           data-label-collapsed="Expand References section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-references-content"
             aria-expanded="false"
             aria-labeledby="module-references-title"
             aria-describedby="module-references-subtitle"></div>
        <h2 class="module-title" id="module-references-title">References</h2>
      </div>
    </header>
  <div class="module-content" id="module-references-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug_modal bug-list edit-show"
    id="field-dependson" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-dependson">
        ---
        </span>
    </div>

  
</div><div class="field bug_modal bug-list edit-show"
    id="field-blocked" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-blocked">
        ---
        </span>
    </div>

  
</div>

    <div class="field bug_modal bug-list edit-show"
    id="field-regresses" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses" id="regresses-help-link" class="help">Regressions:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-regresses">
        ---
        </span>
    </div>

  
</div><div class="field bug_modal bug-list edit-show"
    id="field-regressed_by" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by" id="regressed_by-help-link" class="help">Regressed by:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-regressed_by">
        ---
        </span>
    </div>

  
</div>

    
</div><div class="fields-rhs">

    <div class="field bug_modal edit-show"
    id="field-bug_file_loc" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-bug_file_loc"><div class="link">
    <a href="" target="_blank"
      rel="noreferrer" title=""
      class="bug-url" data-safe="0"></a>
  </div>
        </span>
    </div>

  
</div>

    <div class="field bug_modal"
    id="field-see_also"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-see_also">
            <div class="link">
      <a href="https://gitlab.freedesktop.org/cairo/cairo/-/issues/838" title="https://gitlab.freedesktop.org/cairo/cairo/-/issues/838">gitlab.freedesktop.org/cairo/cairo/-/...</a>
    </div>

        </span>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (5 keywords, Whiteboard: [reporter-external] [client-bounty-form] [verif?] [adv-main126+] [adv-ESR115.11+] )
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field bug_modal edit-show"
    id="field-alias" style="display:none"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-alias">
            CVE-2024-4770

        </span>
    </div>

  
</div>

    <div class="field bug_modal"
    id="field-keywords"
>
    <div class="name">
      
        <a href="/describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-keywords">
          <a href="/buglist.cgi?keywords=csectype-uninitialized&amp;resolution=---">csectype-uninitialized</a>, 
          <a href="/buglist.cgi?keywords=pernosco&amp;resolution=---">pernosco</a>, 
          <a href="/buglist.cgi?keywords=reporter-external&amp;resolution=---">reporter-external</a>, 
          <a href="/buglist.cgi?keywords=sec-moderate&amp;resolution=---">sec-moderate</a>, 
          <a href="/buglist.cgi?keywords=testcase&amp;resolution=---">testcase</a>
        </span>
    </div>

  
</div>

    <div class="field bug_modal"
    id="field-status_whiteboard"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>



  
    <div class="value">
        <span id="field-value-status_whiteboard">[reporter-external] [client-bounty-form] [verif?] [adv-main126+] [adv-ESR115.11+] 
        </span>
    </div>

  
</div><div class="field bug_modal edit-show"
    id="field-cf_qa_whiteboard" style="display:none"
>
    <div class="name">
      QA Whiteboard:
    </div>



  
    <div class="value">
        <span id="field-value-cf_qa_whiteboard">
        ---
        </span>
    </div>

  
</div>

    <div class="field bug_modal"
    id="field-cf_has_str"
>
    <div class="name">
      Has STR:
    </div>



  
    <div class="value">
        <span id="field-value-cf_has_str">
            yes

        </span>
    </div>

  
</div><div class="field bug_modal edit-show"
    id="field-cf_cab_review" style="display:none"
>
    <div class="name">
      Change Request:
    </div>



  
    <div class="value">
        <span id="field-value-cf_cab_review">
            ---

        </span>
    </div>

  
</div>

    <div class="field bug_modal"
    id="field-votes"
>
    <div class="name">
      
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="votes-help-link" class="help">Votes:
        </a>
    </div>



  
    <div class=" container">
        <span id="field-value-votes">0
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field bug_modal"
    id="field-bug_flags"
>
    <div class="name">
      Bug Flags:
    </div>



  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_1689" ><a class="email " href="/user_profile?user_id=1689" > <span class="fna">dveditz</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#a516204_1689"
            class="rel-time-title activity-ref"
            title="9 months ago"
        data-time="1713985473"
      >sec-bounty</a>
    </td>

    <td class="flag-value">+
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_1689" ><a class="email " href="/user_profile?user_id=1689" > <span class="fna">dveditz</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag-2221489">sec-bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-2221489-dirty">
      <select id="flag-2221489" name="flag-2221489"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
            <option value="+" selected>+</option>
      </select>
    </td>


  </tr>
          </tbody>
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Is this bug/feature enabled in a release by a pref flag?" for="flag_type-930">behind-pref</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-930-dirty">
      <select id="flag_type-930" name="flag_type-930"
        title="Is this bug/feature enabled in a release by a pref flag?"
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag tracking inclusion in the desktop Firefox product backlog." for="flag_type-846">firefox-backlog</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-846-dirty">
      <select id="flag_type-846" name="flag_type-846"
        title="Flag tracking inclusion in the desktop Firefox product backlog."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec-bounty-hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-787">in-qa-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-787-dirty">
      <select id="flag_type-787" name="flag_type-787"
        title="Whether the bug has a testcase in the qa test suite or not. Set it to &quot;in-qa-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-qa-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-qa-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-787-container" style="display:none"><input
    name="requestee_type-787"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-787" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword." for="flag_type-37">in-testsuite</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-37-dirty">
      <select id="flag_type-37" name="flag_type-37"
        title="Whether the bug has a testcase in the test suite or not. Set it to &quot;in-testsuite?&quot; if the bug needs a testcase (only set this if the bug actually *needs* a testcase - not all bugs do, even layout bugs!), set it to &quot;in-testsuite+&quot; if the bug has an appropriate testcase, and set it to &quot;in-testsuite-&quot; if the bug doesn't need an explicit testcase (e.g. for code cleanup bugs). Only QA actively working on test cases in the component should use this keyword."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually" for="flag_type-864">qe-verify</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-864-dirty">
      <select id="flag_type-864" name="flag_type-864"
        title="qe-verify: + ➜ request to verify the bug manually
qe-verify: – ➜ the bug will not/can not be verified manually"
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module" id="module-crash-data"
>
    <header id="module-crash-data-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Crash Data section"
           data-label-collapsed="Expand Crash Data section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-crash-data-content"
             aria-expanded="false"
             aria-labeledby="module-crash-data-title"
             aria-describedby="module-crash-data-subtitle"></div>
        <h2 class="module-title" id="module-crash-data-title">Crash Data</h2>
      </div>
    </header>
  <div class="module-content" id="module-crash-data-content" style="display:none"
  ><div class="field bug_modal"
    id="field-cf_crash_signature"
>
    <div class="name">
      Signature:
    </div>



  
    <div class="value">
        <span id="field-value-cf_crash_signature">
      <div>
          <a href="https://crash-stats.mozilla.org/signature/?signature=arena_dalloc%20%7C%20BaseAllocator%3A%3Afree%20%7C%20MozJemalloc%3A%3Afree%20%7C%20PageFree" target="_blank" rel="noopener noreferrer">
            [@ arena_dalloc | BaseAllocator::free | MozJemalloc::free | PageFree ]
          </a>
      </div>
      <div>
          <a href="https://crash-stats.mozilla.org/signature/?signature=arena_dalloc%20%7C%20cairo_cff_font_destroy" target="_blank" rel="noopener noreferrer">
            [@ arena_dalloc | cairo_cff_font_destroy ]
          </a>
      </div>
    
      <iframe src="https://bugzilla.mozilla.org/page.cgi?id=socorro-lens.html&amp;s=arena_dalloc+%7C+BaseAllocator%3A%3Afree+%7C+MozJemalloc%3A%3Afree+%7C+PageFree%5Carena_dalloc+%7C+cairo_cff_font_destroy" style="border:0; width:300px; height:200px; max-width:600px; max-height:300px; float:left;" id="chart" scrolling="no"></iframe>
        </span>
    </div>

  
</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="true"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (9 files)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content"
  ><table role="table" class="responsive" id="attachments">
    <tr data-attachment-id="9398465" class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
          <a href="/attachment.cgi?id=9398465" > asan.attemptfree1.txt
            </a>
        </div>
        <div>
            <a href="#c0" class="attach-time activity-ref"><span class="rel-time" title="2024-04-24 12:04 PDT" data-time="1713985473">9 months ago</span></a>
          <span class="attach-author"><div class="vcard vcard_537720" ><a class="email " href="/user_profile?user_id=537720" > <span class="fna">Irvan Kurniawan (:sourc7)</span></a>
</div></span>
        </div>
        <div class="attach-info">8.11 KB,
          text/plain        </div>
      </td>
      <td></td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9398465&amp;action=edit" data-details="1">Details</a>
    </tr>
    <tr data-attachment-id="9398471" class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
          <a href="/attachment.cgi?id=9398471" > testcase.html
            </a>
        </div>
        <div>
            <a href="#c3" class="attach-time activity-ref"><span class="rel-time" title="2024-04-24 12:15 PDT" data-time="1713986158">9 months ago</span></a>
          <span class="attach-author"><div class="vcard vcard_537720" ><a class="email " href="/user_profile?user_id=537720" > <span class="fna">Irvan Kurniawan (:sourc7)</span></a>
</div></span>
        </div>
        <div class="attach-info">1.43 MB,
          text/html        </div>
      </td>
      <td></td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9398471&amp;action=edit" data-details="1">Details</a>
    </tr>
    <tr data-attachment-id="9398501" class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
          <a href="/attachment.cgi?id=9398501" > Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame
            </a>
        </div>
        <div>
            <a href="#c12" class="attach-time activity-ref"><span class="rel-time" title="2024-04-24 15:11 PDT" data-time="1713996693">9 months ago</span></a>
          <span class="attach-author"><div class="vcard vcard_278074" ><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div></span>
        </div>
        <div class="attach-info">48 bytes,
          text/x-phabricator-request        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_1689" ><span class="fn">dveditz</span>
</div>:
              <a href="#c27"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 months ago"
              data-time="1714243468"
            >
              approval-mozilla-beta+</a>
          </div>
          <div class="attach-flag"><div class="vcard vcard_1689" ><span class="fn">dveditz</span>
</div>:
              <a href="#c27"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 months ago"
              data-time="1714073240"
            >
              sec-approval+</a>
          </div></td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9398501&amp;action=edit" data-details="1">Details</a>&#x0020; |
  <a href="/attachment.cgi?id=9398501">Review</a>
    </tr>
    <tr data-attachment-id="9398516" class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
          <a href="/attachment.cgi?id=9398516" > testcase 2 (modified to close CSS rules, so as not to inadvertently be dependent on CSS nesting)
            </a>
        </div>
        <div>
            <a href="#c18" class="attach-time activity-ref"><span class="rel-time" title="2024-04-24 16:48 PDT" data-time="1714002512">9 months ago</span></a>
          <span class="attach-author"><div class="vcard vcard_278074" ><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div></span>
        </div>
        <div class="attach-info">1.43 MB,
          text/html        </div>
      </td>
      <td></td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9398516&amp;action=edit" data-details="1">Details</a>
    </tr>
    <tr data-attachment-id="9398696" class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
          <a href="/attachment.cgi?id=9398696" > Bug 1893270 followup: save a copy of the cairo patch in-tree. r?jfkthame
            </a>
        </div>
        <div>
            <a href="#c21" class="attach-time activity-ref"><span class="rel-time" title="2024-04-25 11:13 PDT" data-time="1714068828">9 months ago</span></a>
          <span class="attach-author"><div class="vcard vcard_278074" ><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div></span>
        </div>
        <div class="attach-info">48 bytes,
          text/x-phabricator-request        </div>
      </td>
      <td></td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9398696&amp;action=edit" data-details="1">Details</a>&#x0020; |
  <a href="/attachment.cgi?id=9398696">Review</a>
    </tr>
    <tr data-attachment-id="9398776" class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
          <a href="/attachment.cgi?id=9398776" > testcase 3 (reduced)
            </a>
        </div>
        <div>
            <a href="#c24" class="attach-time activity-ref"><span class="rel-time" title="2024-04-25 22:54 PDT" data-time="1714110880">9 months ago</span></a>
          <span class="attach-author"><div class="vcard vcard_278074" ><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div></span>
        </div>
        <div class="attach-info">454 bytes,
          text/html        </div>
      </td>
      <td></td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9398776&amp;action=edit" data-details="1">Details</a>
    </tr>
    <tr data-attachment-id="9399004" class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
          <a href="/attachment.cgi?id=9399004" > Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame
            </a>
        </div>
        <div>
            <a href="#c30" class="attach-time activity-ref"><span class="rel-time" title="2024-04-27 11:53 PDT" data-time="1714244027">9 months ago</span></a>
          <span class="attach-author"><div class="vcard vcard_278074" ><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div></span>
        </div>
        <div class="attach-info">48 bytes,
          text/x-phabricator-request        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_600971" ><span class="fn">phab-bot</span>
</div>:
              <a href="#a493310_600971"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 months ago"
              data-time="1714244027"
            >
              approval-mozilla-esr115+</a>
          </div></td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9399004&amp;action=edit" data-details="1">Details</a>&#x0020; |
  <a href="/attachment.cgi?id=9399004">Review</a>
    </tr>
    <tr data-attachment-id="9399005" class=" attach-patch
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
          <a href="/attachment.cgi?id=9399005" > Bug 1893270 followup: save a copy of the cairo patch in-tree. r?jfkthame
            </a>
        </div>
        <div>
            <a href="#c31" class="attach-time activity-ref"><span class="rel-time" title="2024-04-27 11:55 PDT" data-time="1714244101">9 months ago</span></a>
          <span class="attach-author"><div class="vcard vcard_278074" ><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div></span>
        </div>
        <div class="attach-info">48 bytes,
          text/x-phabricator-request        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_600971" ><span class="fn">phab-bot</span>
</div>:
              <a href="#a493329_600971"
                  class="flag-name-status rel-time-title activity-ref"
                  title="9 months ago"
              data-time="1714244101"
            >
              approval-mozilla-esr115+</a>
          </div></td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9399005&amp;action=edit" data-details="1">Details</a>&#x0020; |
  <a href="/attachment.cgi?id=9399005">Review</a>
    </tr>
    <tr data-attachment-id="9401137" class="
    " >
      <td class="attach-desc-td">
        <div class="attach-desc">
          <a href="/attachment.cgi?id=9401137" > advisory.txt
            </a>
        </div>
        <div>
            <a href="#c40" class="attach-time activity-ref"><span class="rel-time" title="2024-05-10 09:37 PDT" data-time="1715359043">8 months ago</span></a>
          <span class="attach-author"><div class="vcard vcard_486733" ><a class="email " href="/user_profile?user_id=486733" > <span class="fna">Jesse Schwartzentruber (:truber)</span></a>
</div></span>
        </div>
        <div class="attach-info">166 bytes,
          text/plain        </div>
      </td>
      <td></td>
      <td class="attach-actions">
        <a href="/attachment.cgi?id=9401137&amp;action=edit" data-details="1">Details</a>
    </tr>
</table>

<footer id="attachments-footer">
  <div id="attachments-actions">
  </div>
  
</footer>
  </div>
</section>



<script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu">
  init_module_visibility();
</script>




<meta name="firefox-versions" content="{&quot;FIREFOX_AURORA&quot;:&quot;&quot;,&quot;FIREFOX_DEVEDITION&quot;:&quot;135.0b3&quot;,&quot;FIREFOX_ESR&quot;:&quot;128.6.0esr&quot;,&quot;FIREFOX_ESR115&quot;:&quot;115.19.0esr&quot;,&quot;FIREFOX_ESR_NEXT&quot;:&quot;&quot;,&quot;FIREFOX_NIGHTLY&quot;:&quot;136.0a1&quot;,&quot;LAST_MERGE_DATE&quot;:&quot;2025-01-06&quot;,&quot;LAST_RELEASE_DATE&quot;:&quot;2025-01-07&quot;,&quot;LAST_SOFTFREEZE_DATE&quot;:&quot;2025-01-02&quot;,&quot;LAST_STRINGFREEZE_DATE&quot;:&quot;2025-01-03&quot;,&quot;LATEST_FIREFOX_DEVEL_VERSION&quot;:&quot;135.0b3&quot;,&quot;LATEST_FIREFOX_OLDER_VERSION&quot;:&quot;3.6.28&quot;,&quot;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&quot;:&quot;135.0b3&quot;,&quot;LATEST_FIREFOX_VERSION&quot;:&quot;134.0&quot;,&quot;NEXT_MERGE_DATE&quot;:&quot;2025-02-03&quot;,&quot;NEXT_RELEASE_DATE&quot;:&quot;2025-02-04&quot;,&quot;NEXT_SOFTFREEZE_DATE&quot;:&quot;2025-01-30&quot;,&quot;NEXT_STRINGFREEZE_DATE&quot;:&quot;2025-01-31&quot;}">


<div id="comment-actions">
    <button type="button" id="bottom-btn" class="secondary" aria-label="Go to Page Bottom">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" aria-haspopup="true" aria-label="Tags"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" aria-haspopup="true" aria-label="Timeline"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">Timeline &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content left" style="display:none">
      <li role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="separator"></li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="16906684" data-no="0"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-0" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_537720" ><img src="https://secure.gravatar.com/avatar/1f6e740893c5a41879a277dd0b0a0c4a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_537720" ><a class="email " href="/user_profile?user_id=537720" > <span class="fna">Irvan Kurniawan (:sourc7)</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-0"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-0" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 12:04 PDT" data-time="1713985473">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9398465"
         class="attachment"
         data-id="9398465" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="asan.attemptfree1.txt">
      <meta itemprop="contentSize" content="8304">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9398465" itemprop="contentUrl" >
        <span id="att-9398465-description" itemprop="description">asan.attemptfree1.txt</span></a>
        — <a href="attachment.cgi?id=9398465&amp;action=edit" itemprop="url" data-details="1">Details</a>
      </div>
    </div>

  <div
      class="comment-text markdown-body "
      id="ct-0" data-comment-id="16906684"><p>After Save to PDF from print dialog, the entire browser crashed, gladly I able to get detailed analysis from AddressSanitizer, the crash is attempting free on address which was not malloc()-ed which points to gfx/cairo.</p>
<h2>Tested on:</h2>
<ul>
<li>Firefox Nightly 127.0a1 (2024-04-24) (64-bit) on Arch Linux (X11)</li>
<li>Firefox Beta 126.0b5 (64-bit) on Arch Linux (X11)</li>
</ul>
<h2>Steps to reproduce:</h2>
<ol>
<li>Visit attached testcase.html</li>
<li>When Print dialog is appear</li>
<li>Click Save</li>
<li>Save the PDF file to destination path</li>
<li>After a seconds the entire browser crashed</li>
</ol>
</div><div class="activity"><div class="change">Flags: sec-bounty?</div></div></div><div class="change-set" id="a241_406194"><div class="change" id="aa241_406194">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a241_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_406194" id="a241_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a241_406194"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a241_406194">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a241_406194">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 12:08 PDT" data-time="1713985714">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: firefox-core-security &rarr; gfx-core-security</div><div class="change">Component: Security &rarr; Printing: Output</div><div class="change">Keywords: <a href="/buglist.cgi?keywords=csectype-uaf&amp;resolution=---">csectype-uaf</a></div><div class="change">Product: Firefox &rarr; Core</div></div></div><div class="change-set" id="c1"><div class="comment" data-id="16906689" data-no="1"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-1" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a241_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a241_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-1"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-1" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 12:09 PDT" data-time="1713985748">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-1" data-comment-id="16906689"><p>The test case is missing.</p>
</div><div class="activity"><div class="change">Flags: needinfo?(susah.yak)</div></div></div><div class="change-set" id="c2"><div class="comment" data-id="16906693" data-no="2"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-2" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_537720" id="a241_406194"><img src="https://secure.gravatar.com/avatar/1f6e740893c5a41879a277dd0b0a0c4a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_537720" id="a241_406194"><a class="email " href="/user_profile?user_id=537720" > <span class="fna">Irvan Kurniawan (:sourc7)</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-2"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-2" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 12:10 PDT" data-time="1713985857">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-2" data-comment-id="16906693"><p>(In reply to Andrew McCreight [:mccr8] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c1" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">comment #1</a>)</p>
<blockquote>
<p>The test case is missing.</p>
</blockquote>
<p>Yes, please wait, I&#39;m attaching in a moment.</p>
</div></div><div class="change-set" id="c3"><div class="comment" data-id="16906703" data-no="3"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-3" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_537720" id="a241_406194"><img src="https://secure.gravatar.com/avatar/1f6e740893c5a41879a277dd0b0a0c4a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_537720" id="a241_406194"><a class="email " href="/user_profile?user_id=537720" > <span class="fna">Irvan Kurniawan (:sourc7)</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-3"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-3" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 12:15 PDT" data-time="1713986158">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9398471"
         class="attachment"
         data-id="9398471" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="testcase.html">
      <meta itemprop="contentSize" content="1501984">
      <meta itemprop="encodingFormat" content="text/html">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9398471" itemprop="contentUrl" >
        <span id="att-9398471-description" itemprop="description">testcase.html</span></a>
        — <a href="attachment.cgi?id=9398471&amp;action=edit" itemprop="url" data-details="1">Details</a>
      </div>
    </div>

  <div
      class="comment-text markdown-body empty"
      id="ct-3" data-comment-id="16906703"></div><div class="activity"><div class="change">Flags: <span class="activity-deleted">needinfo?(susah.yak)</span></div></div></div><div class="change-set" id="c4"><div class="comment" data-id="16906714" data-no="4"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-4" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_537720" id="a241_406194"><img src="https://secure.gravatar.com/avatar/1f6e740893c5a41879a277dd0b0a0c4a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_537720" id="a241_406194"><a class="email " href="/user_profile?user_id=537720" > <span class="fna">Irvan Kurniawan (:sourc7)</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-4"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-4" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 12:20 PDT" data-time="1713986426">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-4" data-comment-id="16906714"><p>(In reply to Andrew McCreight [:mccr8] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c1" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">comment #1</a>)</p>
<blockquote>
<p>The test case is missing.</p>
</blockquote>
<p>Ok, I&#39;ve tested it works on Arch Linux  on my 2 PC with CPU Intel and AMD.</p>
</div></div><div class="change-set" id="c5"><div class="comment" data-id="16906723" data-no="5"
       data-tags="">
    
    <table class="layout-table change-head reporter" id="ch-5" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_537720" id="a241_406194"><img src="https://secure.gravatar.com/avatar/1f6e740893c5a41879a277dd0b0a0c4a?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_537720" id="a241_406194"><a class="email " href="/user_profile?user_id=537720" > <span class="fna">Irvan Kurniawan (:sourc7)</span></a>
</div>
              <span class="user-role">Reporter</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-5"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-5" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 12:27 PDT" data-time="1713986853">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-5" data-comment-id="16906723"><p>I&#39;m still investigating further, this probably a regression since the release channel version is not crashed. I&#39;ll post more update.</p>
</div></div><div class="change-set" id="c6"><div class="comment" data-id="16906771" data-no="6"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-6" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a241_406194"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a241_406194"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-6"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-6" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 12:56 PDT" data-time="1713988595">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-6" data-comment-id="16906771"><p>I can reproduce a crash locally. I started by testing an ASAN build (127.0a1 (2024-04-24) downloaded from this push: <a href="https://treeherder.mozilla.org/jobs?repo=autoland&amp;revision=6457c29f67bb798a7ef5c9de1e2de3829814d6a9" rel="nofollow">https://treeherder.mozilla.org/jobs?repo=autoland&amp;revision=6457c29f67bb798a7ef5c9de1e2de3829814d6a9</a> ).  It seems to reliably crash with a null-deref, for what it&#39;s worth, like so:</p>
<pre><code>AddressSanitizer:DEADLYSIGNAL
=================================================================
==160759==ERROR: AddressSanitizer: SEGV on unknown address (pc 0x61365cfabe12 bp 0x000000000000 sp 0x7ffcb1e320d0 T0)
==160759==The signal is caused by a READ memory access.
==160759==Hint: this fault was caused by a dereference of a high value address (see register values below).  Disassemble the provided pc to learn which register was used.
    #0 0x61365cfabe12 in atomic_compare_exchange_strong&lt;__sanitizer::atomic_uint8_t&gt; /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/../sanitizer_common/sanitizer_atomic_clang.h:81:10
    #1 0x61365cfabe12 in AtomicallySetQuarantineFlagIfAllocated /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan_allocator.cpp:668:10
    #2 0x61365cfabe12 in __asan::Allocator::Deallocate(void*, unsigned long, unsigned long, __sanitizer::BufferedStackTrace*, __asan::AllocType) /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan_allocator.cpp:724:10
    #3 0x61365d04430b in free /builds/worker/fetches/llvm-project/compiler-rt/lib/asan/asan_malloc_linux.cpp:53:3
    #4 0x737f78d83611 in cairo_cff_font_destroy /builds/worker/checkouts/gecko/gfx/cairo/cairo/src/cairo-cff-subset.c:2942:2
    #5 0x737f78d85cd4 in _cairo_cff_fallback_init /builds/worker/checkouts/gecko/gfx/cairo/cairo/src/cairo-cff-subset.c:3441:5
    #6 0x737f78df12e3 in _cairo_pdf_surface_emit_cff_fallback_font /builds/worker/checkouts/gecko/gfx/cairo/cairo/src/cairo-pdf-surface.c:5955:14
    #7 0x737f78df12e3 in _cairo_pdf_surface_emit_unscaled_font_subset /builds/worker/checkouts/gecko/gfx/cairo/cairo/src/cairo-pdf-surface.c:6656:14
    #8 0x737f78f196e5 in _cairo_sub_font_collect /builds/worker/checkouts/gecko/gfx/cairo/cairo/src/cairo-scaled-font-subsets.c:741:30
    #9 0x737f78f196e5 in _cairo_scaled_font_subsets_foreach_internal /builds/worker/checkouts/gecko/gfx/cairo/cairo/src/cairo-scaled-font-subsets.c:1062:6
    #10 0x737f78dd3182 in _cairo_pdf_surface_emit_font_subsets /builds/worker/checkouts/gecko/gfx/cairo/cairo/src/cairo-pdf-surface.c:6694:14
</code></pre>
<p>Also: side note: before the crash, my debug build spams out a bunch of copies of this assertion:</p>
<pre><code>###!!! ASSERTION: If it&#39;s incomplete and has no nif yet, it must flag a nif reflow.: &#39;nextFrame || kidStatus.NextInFlowNeedsReflow()&#39;, file /scratch/work/builds/mozilla-central/mozilla/layout/generic/nsCanvasFrame.cpp:731
</code></pre>
<p>...and then the following which might be more closely related (particularly the libfreetype/fillglyphs ones):</p>
<pre><code>[GFX3-]: Surface size too large (exceeds extent limit)!
[GFX2-]: Allowing surface with invalid size (Cairo) Size(48960,63360)
[GFX3-]: Ending FillGlyphs with a bad surface 1
[GFX2-]: DrawTargetCairo context in error state: error occurred in libfreetype(40)
[GFX3-]: FillGlyphs bad surface 1
[GFX3-]: FillGlyphs bad surface 1
[GFX3-]: FillGlyphs bad surface 1
[GFX3-]: FillGlyphs bad surface 1
</code></pre>
</div></div><div class="change-set" id="c7"><div class="comment" data-id="16906773" data-no="7"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-7" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a241_406194"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a241_406194"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-7"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-7" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 12:57 PDT" data-time="1713988623">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-7" data-comment-id="16906773"><p>I captured a crash in a debug build in rr and submitted it to pernosco for further investigation.</p>
</div></div><div class="change-set" id="c8"><div class="comment" data-id="16906800" data-no="8"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-8" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a241_406194"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a241_406194"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-8"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-8" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 13:27 PDT" data-time="1713990434">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-8" data-comment-id="16906800"><p>(In reply to Daniel Holbert [:dholbert] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c6" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">comment #6</a>)</p>
<blockquote>
<p>It seems to reliably crash with a null-deref, for what it&#39;s worth, like so:</p>
</blockquote>
<p>That&#39;s not to say this is necessarily a null-deref for me (in fact I caught it as a UAF/double-free in pernosco, see below).    Looking closer at my backtrace in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c6" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">comment 6</a>, it looks like I&#39;m a few levels deep <strong>inside of</strong> <code>free</code>, with <code>atomic_compare_exchange_strong</code>  being the thing that actually triggers a null deref.  So it&#39;s possible we&#39;re actually calling <code>free</code> with some bogus non-null address, and in this particular build, that triggers a null-deref in that helper function for whatever reason.</p>
<p>Here&#39;s my pernosco trace:<br>
<a href="https://pernos.co/debug/DwQdO1tRGNBBo3fLUoecdQ/index.html" rel="nofollow">https://pernos.co/debug/DwQdO1tRGNBBo3fLUoecdQ/index.html</a></p>
<p>In the backtrace there, we&#39;ve got <code>free</code> calling <code>ReplaceMalloc::free (arg1=0xe5e5e5e5e5e5e5e5)</code></p>
</div></div><div class="change-set" id="c9"><div class="comment" data-id="16906824" data-no="9"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-9" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a241_406194"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a241_406194"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-9"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-9" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 13:49 PDT" data-time="1713991758">9 months ago</span>
          </div>&bull;
<div class="change-revisions">
  <a href="/page.cgi?id=comment-revisions.html&amp;bug_id=1893270&amp;comment_id=16906824"
     title="1 revision">Edited</a>
</div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-9" data-comment-id="16906824"><p>So it looks like this is cairo being a bit clumsy with failing to initialize members, in one of its code paths.</p>
<p>Here&#39;s what happens that triggers the crash:</p>
<ul>
<li>we hit <code>_cairo_cff_fallback_init</code> which declares variable <code>font</code> which is initially null:</li>
<li>that calls <code>status = _cairo_cff_font_fallback_create (font_subset, &amp;font, subset_name);</code></li>
<li>...and that function <code>_cairo_cff_font_fallback_create</code> <strong>fails to initialize a handful of member variables</strong>, including <code>fd_local_sub_bias</code>.</li>
<li>So when we go to clean up the font later in <code>cairo_cff_font_destroy</code>, we call <code>free</code> on those never-initialized member variables (<code>font-&gt;fd_local_sub_bias</code> in particular in the crash here), so we&#39;re calling <code>free</code> on something uninitialized and we crash.</li>
</ul>
<p>In particular, compare this chunk of (better, I think?) <code>_cairo_cff_font_create</code>:<br>
<a href="https://searchfox.org/mozilla-central/rev/6121b33709dd80979a6806ff59096a561e348ae8/gfx/cairo/cairo/src/cairo-cff-subset.c#2861-2875" rel="nofollow">https://searchfox.org/mozilla-central/rev/6121b33709dd80979a6806ff59096a561e348ae8/gfx/cairo/cairo/src/cairo-cff-subset.c#2861-2875</a></p>
<pre><code class="language-cpp">font-&gt;fdselect = NULL;
font-&gt;fd_dict = NULL;
font-&gt;fd_private_dict = NULL;
font-&gt;fd_local_sub_index = NULL;
font-&gt;fd_local_sub_bias = NULL;
font-&gt;fdselect_subset = NULL;
font-&gt;fd_subset_map = NULL;
font-&gt;private_dict_offset = NULL;
font-&gt;global_subs_used = NULL;
font-&gt;local_subs_used = NULL;
font-&gt;fd_local_subs_used = NULL;

*font_return = font;

return CAIRO_STATUS_SUCCESS;
</code></pre>
<p>...vs. this buggy-I-think analogous code in <code>_cairo_cff_font_fallback_create</code>:<br>
<a href="https://searchfox.org/mozilla-central/rev/6121b33709dd80979a6806ff59096a561e348ae8/gfx/cairo/cairo/src/cairo-cff-subset.c#3213-3226" rel="nofollow">https://searchfox.org/mozilla-central/rev/6121b33709dd80979a6806ff59096a561e348ae8/gfx/cairo/cairo/src/cairo-cff-subset.c#3213-3226</a></p>
<pre><code class="language-cpp">font-&gt;global_subs_used = NULL;
font-&gt;local_subs_used = NULL;
font-&gt;subset_subroutines = FALSE;
font-&gt;fdselect = NULL;
font-&gt;fd_dict = NULL;
font-&gt;fd_private_dict = NULL;
font-&gt;fd_local_sub_index = NULL;
font-&gt;fdselect_subset = NULL;
font-&gt;fd_subset_map = NULL;
font-&gt;private_dict_offset = NULL;

*font_return = font;

return CAIRO_STATUS_SUCCESS;
</code></pre>
<p>Both of these are working with a freshly-allocated <code>cairo_cff_font_t</code> object, but the latter snippet (in <code>_cairo_cff_font_fallback_create</code>) leaves some fields uninitialized, like e.g. <code>fd_local_subs_used</code>, <code>fd_local_sub_bias</code>, and others.</p>
</div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a></div></div></div><div class="change-set" id="c10"><div class="comment" data-id="16906846" data-no="10"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-10" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a241_406194"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a241_406194"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-10"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-10" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 14:12 PDT" data-time="1713993171">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-10" data-comment-id="16906846"><p>It looks like these uninitialized variables might&#39;ve been introduced in a cairo update at some point (which set them in one initializer function but not the other, I think?)</p>
<p><a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=739096" title="RESOLVED FIXED - Update cairo to version 1.17.4">Bug 739096</a> (specifically <a href="https://hg.mozilla.org/mozilla-central/rev/d41a2bcb4ff2a9b5ae76160037d06671d103adba" rel="nofollow">this commit</a>) introduced  <code>fd_local_sub_bias</code>, and the code to free it, and the code to null-initialize it in <code>_cairo_cff_font_create</code>, but <strong>not</strong> any code to initialize it in <code>_cairo_cff_font_fallback_create</code>.  So this might be theoretically reproducible as far back as that bug, for cases where content can cause <code>_cairo_cff_font_fallback_create</code> to be invoked...</p>
</div></div><div class="change-set" id="c11"><div class="comment" data-id="16906853" data-no="11"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-11" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a241_406194"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a241_406194"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-11"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-11" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 14:20 PDT" data-time="1713993633">9 months ago</span>
          </div>&bull;
<div class="change-revisions">
  <a href="/page.cgi?id=comment-revisions.html&amp;bug_id=1893270&amp;comment_id=16906853"
     title="1 revision">Edited</a>
</div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-11" data-comment-id="16906853"><p>Also notable: in <code>cairo_cff_font_destroy</code>, the doomed <code>free (font-&gt;fd_local_sub_bias);</code> call is guarded by a call to <code>if (font-&gt;is_cid) {</code>:<br>
<a href="https://searchfox.org/mozilla-central/rev/6121b33709dd80979a6806ff59096a561e348ae8/gfx/cairo/cairo/src/cairo-cff-subset.c#2894-2895,2927,2942" rel="nofollow">https://searchfox.org/mozilla-central/rev/6121b33709dd80979a6806ff59096a561e348ae8/gfx/cairo/cairo/src/cairo-cff-subset.c#2894-2895,2927,2942</a></p>
<pre><code class="language-cpp">static void
cairo_cff_font_destroy (cairo_cff_font_t *font)
...
    if (font-&gt;is_cid) {
...
	free (font-&gt;fd_local_sub_bias);
</code></pre>
<p>But that <code>is_cid</code> member is still uninitialized when we read it here in the fatal run-through, though. (It&#39;s <code>0xe5e5e5e5</code> which is truthy, so we enter that clause).</p>
<p>If we were to somehow reach <code>cairo_cff_font_fallback_generate</code> (which seems like a reasonable thing to reach for the product of <code>_cairo_cff_font_fallback_create</code>), then we would be OK because we&#39;d hit this assignment:<br>
<a href="https://searchfox.org/mozilla-central/rev/6121b33709dd80979a6806ff59096a561e348ae8/gfx/cairo/cairo/src/cairo-cff-subset.c#3264-3265" rel="nofollow">https://searchfox.org/mozilla-central/rev/6121b33709dd80979a6806ff59096a561e348ae8/gfx/cairo/cairo/src/cairo-cff-subset.c#3264-3265</a></p>
<pre><code class="language-cpp">/* Create Top Dict */
font-&gt;is_cid = FALSE;
</code></pre>
<p>Maybe that&#39;s what cairo is expecting to happen, and why it doesn&#39;t bother to initialize those members like <code>fd_local_sub_bias</code>?  Not sure. But anyway, in this case we never make it that far, so <code>is_cid</code> is uninitialized and truthy, so <code>cairo_cff_font_destroy</code> does enter the fatal chunk of code and attempts to free the uninitialized <code>fd_local_sub_bias</code> pointer.</p>
</div></div><div class="change-set" id="c12"><div class="comment" data-id="16906892" data-no="12"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-12" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a241_406194"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a241_406194"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-12"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-12" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 15:11 PDT" data-time="1713996693">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9398501"
         class="attachment"
         data-id="9398501" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="phabricator-D208556-url.txt">
      <meta itemprop="contentSize" content="48">
      <meta itemprop="encodingFormat" content="text/x-phabricator-request">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9398501" itemprop="contentUrl" >
        <span id="att-9398501-description" itemprop="description">Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame</span></a>
        — <a href="attachment.cgi?id=9398501&amp;action=edit" itemprop="url" data-details="1">Details</a>
      </div>
    </div>

  <div
      class="comment-text markdown-body empty"
      id="ct-12" data-comment-id="16906892"></div></div><div class="change-set" id="a11220_600971"><div class="change" id="aa11220_600971">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_600971" id="a11220_600971"><img src="https://secure.gravatar.com/avatar/a088418052679d9583556d277e6774ee?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_600971" id="a11220_600971"><a class="email " href="/user_profile?user_id=600971" > <span class="fna">Phabricator Automation</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a11220_600971"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a11220_600971">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a11220_600971">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 15:11 PDT" data-time="1713996693">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Assignee: nobody &rarr; dholbert</div><div class="change">Status: NEW &rarr; ASSIGNED</div></div></div><div class="change-set" id="c13"><div class="comment" data-id="16906902" data-no="13"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-13" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a11220_600971"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a11220_600971"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-13"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-13" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 15:19 PDT" data-time="1713997195">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-13" data-comment-id="16906902"><p>It looks like this issue affects upstream, too (upstream cairo hasn&#39;t found/fixed this yet). Here&#39;s today&#39;s cairo for <code>_cairo_cff_font_fallback_create</code> which is identical to the code that I quoted in the bottom half of <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c9" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">comment 9</a>:<br>
<a href="https://gitlab.freedesktop.org/cairo/cairo/-/blob/b3d578ec2ff97450cccdf9275c503fc0afa7cc80/src/cairo-cff-subset.c#L3219-3228" rel="nofollow">https://gitlab.freedesktop.org/cairo/cairo/-/blob/b3d578ec2ff97450cccdf9275c503fc0afa7cc80/src/cairo-cff-subset.c#L3219-3228</a></p>
</div></div><div class="change-set" id="a15297_278074"><div class="change" id="aa15297_278074">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a15297_278074"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_278074" id="a15297_278074"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a15297_278074"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a15297_278074">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a15297_278074">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 16:19 PDT" data-time="1714000770">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Severity: -- &rarr; S2</div><div class="change">Crash Signature: [&#64; arena_dalloc | BaseAllocator::free | MozJemalloc::free | PageFree]</div></div></div><div class="change-set" id="c14"><div class="comment" data-id="16906954" data-no="14"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-14" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a15297_278074"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a15297_278074"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-14"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-14" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 16:22 PDT" data-time="1714000948">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-14" data-comment-id="16906954"><p>I see PContentParent::OnMessageReceived() in the stack, so it looks like this could act as a sandbox escape.</p>
</div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=csectype-sandbox-escape&amp;resolution=---">csectype-sandbox-escape</a></div></div></div><div class="change-set" id="c15"><div class="comment" data-id="16906958" data-no="15"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-15" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a15297_278074"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a15297_278074"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-15"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-15" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 16:26 PDT" data-time="1714001210">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-15" data-comment-id="16906958"><p>Looking on crash stats for crashes with RemotePrintJobParent::RecvFinalizePrint() in the proto signature on poison values, I found this crash which looks similar, from earlier this month on version 124: <a href="https://crash-stats.mozilla.org/report/index/2e38df06-05ad-4ae6-91ba-b3a870240410">bp-2e38df06-05ad-4ae6-91ba-b3a870240410</a> (There was also one from today on Nightly, but I assume that is somebody testing this out.)</p>
</div></div><div class="change-set" id="c16"><div class="comment" data-id="16906969" data-no="16"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-16" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a15297_278074"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a15297_278074"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-16"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-16" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 16:42 PDT" data-time="1714002121">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-16" data-comment-id="16906969"><p>(In reply to Andrew McCreight [:mccr8] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c15" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">comment #15</a>)</p>
<blockquote>
<p>(There was also one from today on Nightly, but I assume that is somebody testing this out.)</p>
</blockquote>
<p>I did submit one crash report for this, yeah -- <a href="https://crash-stats.mozilla.org/report/index/60f096f2-1415-4c1f-92ed-e70e90240424">bp-60f096f2-1415-4c1f-92ed-e70e90240424</a> is me.  My crash report&#39;s backtrace isn&#39;t quite the same as in the crash from 124 that mccr8 found, but it still might be related.</p>
<p>Using mozregression with the testcase here, I can reproduce this quite a ways back -- the regression range is:<br>
<a href="https://hg.mozilla.org/integration/autoland/pushloghtml?fromchange=7c8f755bb185b66dbaf3d2f61f4702ea28a300fd&amp;tochange=96604e3a217e9a5b59a6f31a4c426ee7f5df03d1" rel="nofollow">https://hg.mozilla.org/integration/autoland/pushloghtml?fromchange=7c8f755bb185b66dbaf3d2f61f4702ea28a300fd&amp;tochange=96604e3a217e9a5b59a6f31a4c426ee7f5df03d1</a></p>
<p>...but that&#39;s just when we enabled CSS nesting, which the testcase does use (but not in a particularly important way; nesting is just syntactic sugar).  So this presumably goes back further if we adjust the testcase to not use CSS nesting.</p>
</div></div><div class="change-set" id="c17"><div class="comment" data-id="16906972" data-no="17"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-17" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a15297_278074"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a15297_278074"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-17"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-17" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 16:45 PDT" data-time="1714002314">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-17" data-comment-id="16906972"><p>(I added my crash signature to this bug, too, but I&#39;m not sure whether that&#39;s especially useful, since this crash signature is <code>[@ arena_dalloc | BaseAllocator::free | MozJemalloc::free | PageFree ]</code> which seems to cover all crashes in <code>free</code>, basically. Perhaps we should add a rule to make crash-stats drill up to whatever called <code>free</code> and include that in the signature, so that we&#39;d have a signature that looks like <code>cairo_cff_font_destroy | free</code> or whatever (I forget the exact syntax/ordering.)</p>
</div></div><div class="change-set" id="c18"><div class="comment" data-id="16906975" data-no="18"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-18" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a15297_278074"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a15297_278074"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-18"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-18" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 16:48 PDT" data-time="1714002512">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9398516"
         class="attachment"
         data-id="9398516" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="testcase2.html">
      <meta itemprop="contentSize" content="1502016">
      <meta itemprop="encodingFormat" content="text/html">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9398516" itemprop="contentUrl" >
        <span id="att-9398516-description" itemprop="description">testcase 2 (modified to close CSS rules, so as not to inadvertently be dependent on CSS nesting)</span></a>
        — <a href="attachment.cgi?id=9398516&amp;action=edit" itemprop="url" data-details="1">Details</a>
      </div>
    </div>

  <div
      class="comment-text markdown-body empty"
      id="ct-18" data-comment-id="16906975"></div></div><div class="change-set" id="a17236_406194"><div class="change" id="aa17236_406194">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a17236_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_406194" id="a17236_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a17236_406194"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a17236_406194">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a17236_406194">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 16:51 PDT" data-time="1714002709">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox125&amp;o1=isnotempty">status-firefox125</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox125&amp;o1=equals&amp;v1=wontfix">wontfix</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox126&amp;o1=isnotempty">status-firefox126</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox126&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox127&amp;o1=isnotempty">status-firefox127</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox127&amp;o1=equals&amp;v1=affected">affected</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=isnotempty">status-firefox-esr115</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=equals&amp;v1=unaffected">unaffected</a></div></div></div><div class="change-set" id="c19"><div class="comment" data-id="16906984" data-no="19"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-19" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a17236_406194"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a17236_406194"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-19"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-19" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 17:03 PDT" data-time="1714003410">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-19" data-comment-id="16906984"><p>With testcase 2, I get this regression range which might be the &quot;true&quot; regression range here:<br>
Last good revision: bd494168b95a83344e778b5b4679b67101482118 (2021-12-23)<br>
First bad revision: 818c851d0aeb08a5596fdf72410a7033e69ab700 (2021-12-24)</p>
<p>Pushlog:<br>
<a href="https://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=bd494168b95a83344e778b5b4679b67101482118&amp;tochange=818c851d0aeb08a5596fdf72410a7033e69ab700" rel="nofollow">https://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=bd494168b95a83344e778b5b4679b67101482118&amp;tochange=818c851d0aeb08a5596fdf72410a7033e69ab700</a></p>
<p>Not sure what in there would have made this go from not-crashing to crashing; maybe <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1747114" title="VERIFIED FIXED - Assertion failure: idx &lt; storage_.size(), at /builds/worker/workspace/obj-build/dist/include/mozilla/Span.h:713">Bug 1747114</a>?  In any case, that range is probably not directly responsible; per <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c9" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">comment 9</a>, I think this is a bug in the upstream cairo code that we pulled in as part of <a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=739096" title="RESOLVED FIXED - Update cairo to version 1.17.4">Bug 739096</a> a few months earlier, and the December regression range is probably something that just enabled us to start tripping over that bug with this particular testcase.</p>
<p>(and that means 115 is &quot;affected&quot;, I think, with testcase 2 at least.)</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=isnotempty">status-firefox-esr115</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=equals&amp;v1=unaffected">unaffected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=equals&amp;v1=affected">affected</a></div></div></div><div class="change-set" id="c20"><div class="comment" data-id="16906992" data-no="20"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-20" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_406194" id="a17236_406194"><img src="https://secure.gravatar.com/avatar/0a70c84cd33dba0151fe15f2f8773137?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_406194" id="a17236_406194"><a class="email " href="/user_profile?user_id=406194" > <span class="fna">Andrew McCreight [:mccr8]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-20"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-20" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-24 17:14 PDT" data-time="1714004065">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-20" data-comment-id="16906992"><p>Oops, I meant to mark 115 as affected. I&#39;m not sure how I managed that.</p>
</div></div><div class="change-set" id="c21"><div class="comment" data-id="16908244" data-no="21"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-21" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a17236_406194"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a17236_406194"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-21"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-21" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-25 11:13 PDT" data-time="1714068828">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9398696"
         class="attachment"
         data-id="9398696" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="phabricator-D208657-url.txt">
      <meta itemprop="contentSize" content="48">
      <meta itemprop="encodingFormat" content="text/x-phabricator-request">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9398696" itemprop="contentUrl" >
        <span id="att-9398696-description" itemprop="description">Bug 1893270 followup: save a copy of the cairo patch in-tree. r?jfkthame</span></a>
        — <a href="attachment.cgi?id=9398696&amp;action=edit" itemprop="url" data-details="1">Details</a>
      </div>
    </div>

  <div
      class="comment-text markdown-body empty"
      id="ct-21" data-comment-id="16908244"></div></div><div class="change-set" id="a85658_278074"><div class="change" id="aa85658_278074">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a85658_278074"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_278074" id="a85658_278074"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a85658_278074"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a85658_278074">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a85658_278074">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-25 11:52 PDT" data-time="1714071131">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">See Also:  &rarr; <a href="https://gitlab.freedesktop.org/cairo/cairo/-/issues/838" target="_blank" rel="noreferrer">https://gitlab.freedesktop.org/cairo/cairo/-/issues/838</a></div></div></div><div class="change-set" id="c22"><div class="comment" data-id="16908312" data-no="22"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-22" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a85658_278074"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a85658_278074"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-22"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-22" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-25 12:27 PDT" data-time="1714073240">9 months ago</span>
          </div>&bull;
<div class="change-revisions">
  <a href="/page.cgi?id=comment-revisions.html&amp;bug_id=1893270&amp;comment_id=16908312"
     title="2 revisions">Edited</a>
</div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-22" data-comment-id="16908312"><p>Comment on <span class=""><a href="/attachment.cgi?id=9398501" name="attach_9398501" title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame">attachment 9398501</a> <a href="/attachment.cgi?id=9398501&amp;action=edit" title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame">[details]</a></span><br>
<a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">Bug 1893270</a>: Make cairo font-creation functions consistently use calloc. r?jfkthame</p>
<h3>Security Approval Request</h3>
<ul>
<li><strong>How easily could an exploit be constructed based on the patch?</strong>: I&#39;d call it &quot;moderate&quot; in terms of easiness. (Though an exploit would require completing a print job -- this code is only used when we actually proceed with a print operation <del>and I think in particular a print to the Save to PDF backend</del> [UPDATE: This crash affects printing to &quot;real&quot; printers, too, I guess because we use cairo to generate the rendering that we send to the printer]</li>
<li><strong>Do comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?</strong>: No</li>
<li><strong>Which branches (beta, release, and/or ESR) are affected by this flaw, and do the release status flags reflect this affected/unaffected state correctly?</strong>: all supported branches (beta, release, ESR115) are affected</li>
<li><strong>If not all supported branches, which bug introduced the flaw?</strong>: None</li>
<li><strong>Do you have backports for the affected branches?</strong>: No</li>
<li><strong>If not, how different, hard to create, and risky will they be?</strong>: I&#39;m pretty sure the patch applies cleanly to all affected branches; this is a snapshot of upstream cairo code, which changes very rarely (and this piece in particular seems to not have changed in a while).</li>
<li><strong>How likely is this patch to cause regressions; how much testing does it need?</strong>: Unlikely to cause regressions; just initializing some fields that were otherwise left uninitialized.</li>
<li><strong>Is the patch ready to land after security approval is given?</strong>: Yes</li>
<li><strong>Is Android affected?</strong>: Yes</li>
</ul>
</div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9398501&amp;action=edit"
           title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame"
           class=""
        >Attachment #9398501</a> -
        Flags: sec-approval?</div></div></div><div class="change-set" id="a101877_600971"><div class="change" id="aa101877_600971">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_600971" id="a101877_600971"><img src="https://secure.gravatar.com/avatar/a088418052679d9583556d277e6774ee?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_600971" id="a101877_600971"><a class="email " href="/user_profile?user_id=600971" > <span class="fna">Phabricator Automation</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a101877_600971"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a101877_600971">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a101877_600971">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-25 16:22 PDT" data-time="1714087350">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9398501&amp;action=edit"
           title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame"
           class=""
        >Attachment #9398501</a> -
        Attachment description: Bug 1893270: Make cairo font initialization functions more consistent. r?jfkthame &rarr; Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame</div></div></div><div class="change-set" id="c23"><div class="comment" data-id="16908618" data-no="23"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-23" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a101877_600971"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a101877_600971"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-23"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-23" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-25 16:37 PDT" data-time="1714088252">9 months ago</span>
          </div>&bull;
<div class="change-revisions">
  <a href="/page.cgi?id=comment-revisions.html&amp;bug_id=1893270&amp;comment_id=16908618"
     title="1 revision">Edited</a>
</div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-23" data-comment-id="16908618"><p>(In reply to Daniel Holbert [:dholbert] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c22" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">comment #22</a>)</p>
<blockquote>
<h3>Security Approval Request</h3>
</blockquote>
<p>Note: I updated the patch and re-requested review, but the patch is essentially the same (just using a blanket approach to zero-initialize the whole struct instead of initializing specific members).</p>
<p>Answers in <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c22" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">comment 22</a> are still accurate, except that &quot;<strong>How easily could an exploit be constructed based on the patch?:</strong>&quot; is now slightly harder (hooray!) since it&#39;s less obvious to an attacker which of the previously-uninitialized-members are the ones that we&#39;re actually caring about zero-initializing.</p>
</div></div><div class="change-set" id="c24"><div class="comment" data-id="16908789" data-no="24"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-24" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a101877_600971"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a101877_600971"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-24"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-24" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-25 22:54 PDT" data-time="1714110880">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9398776"
         class="attachment"
         data-id="9398776" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="testcase3.html">
      <meta itemprop="contentSize" content="454">
      <meta itemprop="encodingFormat" content="text/html">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9398776" itemprop="contentUrl" >
        <span id="att-9398776-description" itemprop="description">testcase 3 (reduced)</span></a>
        — <a href="attachment.cgi?id=9398776&amp;action=edit" itemprop="url" data-details="1">Details</a>
      </div>
    </div>

  <div
      class="comment-text markdown-body empty"
      id="ct-24" data-comment-id="16908789"></div></div><div class="change-set" id="c25"><div class="comment" data-id="16910236" data-no="25"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-25" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a101877_600971"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a101877_600971"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-25"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-25" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-27 10:45 PDT" data-time="1714239936">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-25" data-comment-id="16910236"><p>lowering severity to sec-moderate because this requires a potential victim to actually &quot;print&quot; (or save to pdf); it&#39;s not triggered by the &quot;print preview&quot; which can be forced on a victim by calling window.print().</p>
</div><div class="activity"><div class="change">Has STR: --- &rarr; yes</div><div class="change">Keywords: <a href="/buglist.cgi?keywords=csectype-sandbox-escape&amp;resolution=---">csectype-sandbox-escape</a>, 
          
            <a href="/buglist.cgi?keywords=csectype-uaf&amp;resolution=---">csectype-uaf</a>, 
          
            <a href="/buglist.cgi?keywords=sec-high&amp;resolution=---">sec-high</a> &rarr; <a href="/buglist.cgi?keywords=csectype-uninitialized&amp;resolution=---">csectype-uninitialized</a>, 
          
            <a href="/buglist.cgi?keywords=pernosco&amp;resolution=---">pernosco</a>, 
          
            <a href="/buglist.cgi?keywords=sec-moderate&amp;resolution=---">sec-moderate</a>, 
          
            <a href="/buglist.cgi?keywords=testcase&amp;resolution=---">testcase</a></div></div></div><div class="change-set" id="c26"><div class="comment" data-id="16910242" data-no="26"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-26" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a101877_600971"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a101877_600971"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-26"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-26" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-27 11:41 PDT" data-time="1714243290">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-26" data-comment-id="16910242"><blockquote>
<p>With testcase 2, I get this regression range which might be the &quot;true&quot; regression range here:</p>
</blockquote>
<p>are these tests being run with the pref <code>print.always_print_silent</code> enabled? If so that could explain that regression range, but also point that this likely isn&#39;t the true source of the regression. Doesn&#39;t matter too much when it&#39;s that far back.</p>
<p>The signature associated with this crash appears to be a regression in 120. You may have triggered it using this testcase once, but it&#39;s not happening in the wild enough to get captured. If I search on &quot;cff_font&quot; in the proto-signature I see a bunch of crashes involving Firefox ESR and Thunderbird that might be related (though some might not -- that&#39;s really overbroad).</p>
</div><div class="activity"><div class="change">Crash Signature: [&#64; arena_dalloc | BaseAllocator::free | MozJemalloc::free | PageFree] &rarr; [&#64; arena_dalloc | BaseAllocator::free | MozJemalloc::free | PageFree]
[&#64; arena_dalloc | cairo_cff_font_destroy ]</div></div></div><div class="change-set" id="c27"><div class="comment" data-id="16910244" data-no="27"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-27" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a101877_600971"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a101877_600971"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-27"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-27" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-27 11:44 PDT" data-time="1714243468">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-27" data-comment-id="16910244"><p>Comment on <span class=""><a href="/attachment.cgi?id=9398501" name="attach_9398501" title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame">attachment 9398501</a> <a href="/attachment.cgi?id=9398501&amp;action=edit" title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame">[details]</a></span><br>
<a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">Bug 1893270</a>: Make cairo font-creation functions consistently use calloc. r?jfkthame</p>
<p>sec-approval = dveditz<br>
also approved for beta uplift</p>
</div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9398501&amp;action=edit"
           title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame"
           class=""
        >Attachment #9398501</a> -
        Flags: <span class="activity-deleted">sec-approval?</span></div><div class="change">
        <a href="/attachment.cgi?id=9398501&amp;action=edit"
           title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame"
           class=""
        >Attachment #9398501</a> -
        Flags: sec-approval+</div><div class="change">
        <a href="/attachment.cgi?id=9398501&amp;action=edit"
           title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame"
           class=""
        >Attachment #9398501</a> -
        Flags: approval-mozilla-beta+</div></div></div><div class="change-set" id="c28"><div class="comment" data-id="16910245" data-no="28"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-28" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a101877_600971"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_1689" id="a101877_600971"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-28"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-28" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-27 11:45 PDT" data-time="1714243557">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-28" data-comment-id="16910245"><p>Although re-rated as sec-moderate, we should still land in the upcoming ESR because this fix will be released as part of the upstream package.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox126&amp;o1=isnotempty">tracking-firefox126</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox126&amp;o1=equals&amp;v1=%2B">+</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox127&amp;o1=isnotempty">tracking-firefox127</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox127&amp;o1=equals&amp;v1=%2B">+</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_tracking_firefox_esr115&amp;o1=isnotempty">tracking-firefox-esr115</a>:
          --- &rarr; <a href="/buglist.cgi?f1=cf_tracking_firefox_esr115&amp;o1=equals&amp;v1=126%2B">126+</a></div></div></div><div class="change-set" id="c29"><div class="comment" data-id="16910246" data-no="29"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-29" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a101877_600971"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a101877_600971"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-29"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-29" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-27 11:50 PDT" data-time="1714243816">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-29" data-comment-id="16910246"><p>(In reply to Daniel Veditz [:dveditz] from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c26" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">comment #26</a>)</p>
<blockquote>
<blockquote>
<p>With testcase 2, I get this regression range which might be the &quot;true&quot; regression range here:</p>
</blockquote>
<p>are these tests being run with the pref <code>print.always_print_silent</code> enabled?</p>
</blockquote>
<p>I think I was using that pref to speed up mozregression there, yeah. You&#39;re right, that&#39;s likely why I got the regression range I did - there is a commit about silent printing being broken in there. So probably this does go back as far as our cairo update (<a class="bz_bug_link
          bz_status_RESOLVED bz_closed" href="/show_bug.cgi?id=739096" title="RESOLVED FIXED - Update cairo to version 1.17.4">Bug 739096</a>) that pulled in this code (only a few months earlier in 2021).  I don&#39;t have my mozregression env available to test that right now, but it doesn&#39;t much matter for regressions that far back, as you note.</p>
</div></div><div class="change-set" id="c30"><div class="comment" data-id="16910251" data-no="30"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-30" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a101877_600971"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a101877_600971"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-30"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-30" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-27 11:53 PDT" data-time="1714244027">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9399004"
         class="attachment"
         data-id="9399004" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="phabricator-D208836-url.txt">
      <meta itemprop="contentSize" content="48">
      <meta itemprop="encodingFormat" content="text/x-phabricator-request">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9399004" itemprop="contentUrl" >
        <span id="att-9399004-description" itemprop="description">Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame</span></a>
        — <a href="attachment.cgi?id=9399004&amp;action=edit" itemprop="url" data-details="1">Details</a>
      </div>
    </div>

  <div
      class="comment-text markdown-body "
      id="ct-30" data-comment-id="16910251"><p>Original Revision: <a href="https://phabricator.services.mozilla.com/D208556" rel="nofollow">https://phabricator.services.mozilla.com/D208556</a></p>
</div></div><div class="change-set" id="a258554_600971"><div class="change" id="aa258554_600971">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_600971" id="a258554_600971"><img src="https://secure.gravatar.com/avatar/a088418052679d9583556d277e6774ee?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_600971" id="a258554_600971"><a class="email " href="/user_profile?user_id=600971" > <span class="fna">Phabricator Automation</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a258554_600971"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a258554_600971">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a258554_600971">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-27 11:53 PDT" data-time="1714244027">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9399004&amp;action=edit"
           title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame"
           class=""
        >Attachment #9399004</a> -
        Flags: approval-mozilla-esr115?</div></div></div><div class="change-set" id="c31"><div class="comment" data-id="16910252" data-no="31"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-31" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a258554_600971"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a258554_600971"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-31"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-31" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-27 11:55 PDT" data-time="1714244101">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9399005"
         class="attachment"
         data-id="9399005" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="phabricator-D208837-url.txt">
      <meta itemprop="contentSize" content="48">
      <meta itemprop="encodingFormat" content="text/x-phabricator-request">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9399005" itemprop="contentUrl" >
        <span id="att-9399005-description" itemprop="description">Bug 1893270 followup: save a copy of the cairo patch in-tree. r?jfkthame</span></a>
        — <a href="attachment.cgi?id=9399005&amp;action=edit" itemprop="url" data-details="1">Details</a>
      </div>
    </div>

  <div
      class="comment-text markdown-body "
      id="ct-31" data-comment-id="16910252"><p>Original Revision: <a href="https://phabricator.services.mozilla.com/D208657" rel="nofollow">https://phabricator.services.mozilla.com/D208657</a></p>
</div></div><div class="change-set" id="a258628_600971"><div class="change" id="aa258628_600971">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_600971" id="a258628_600971"><img src="https://secure.gravatar.com/avatar/a088418052679d9583556d277e6774ee?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_600971" id="a258628_600971"><a class="email " href="/user_profile?user_id=600971" > <span class="fna">Phabricator Automation</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a258628_600971"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a258628_600971">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a258628_600971">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-27 11:55 PDT" data-time="1714244101">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9399005&amp;action=edit"
           title="Bug 1893270 followup: save a copy of the cairo patch in-tree. r?jfkthame"
           class=""
        >Attachment #9399005</a> -
        Flags: approval-mozilla-esr115?</div></div></div><div class="change-set" id="c32"><div class="comment" data-id="16910253" data-no="32"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-32" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_510726" id="a258628_600971"><img src="https://secure.gravatar.com/avatar/a9d6ca739b340c670a0fecbd2c36f516?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_510726" id="a258628_600971"><a class="email " href="/user_profile?user_id=510726" > <span class="fna">Pulsebot</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-32"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-32" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-27 11:56 PDT" data-time="1714244193">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text  "
      id="ct-32" data-comment-id="16910253">Pushed by <a href="mailto:dholbert&#64;mozilla.com">dholbert&#64;mozilla.com</a>:
<a rel="nofollow" href="https://hg.mozilla.org/integration/autoland/rev/ebaf603aaadb">https://hg.mozilla.org/integration/autoland/rev/ebaf603aaadb</a>
Make cairo font-creation functions consistently use calloc. r=jfkthame
<a rel="nofollow" href="https://hg.mozilla.org/integration/autoland/rev/8cce05f88b61">https://hg.mozilla.org/integration/autoland/rev/8cce05f88b61</a>
followup: save a copy of the cairo patch in-tree. r=jfkthame</div></div><div class="change-set" id="c33"><div class="comment" data-id="16910482" data-no="33"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-33" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_695136" id="a258628_600971"><img src="https://secure.gravatar.com/avatar/51eb5989eec32902a5b0eb11eee2662e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_695136" id="a258628_600971"><a class="email " href="/user_profile?user_id=695136" > <span class="fna">Donal Meehan [:dmeehan]</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-33"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-33" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-28 07:23 PDT" data-time="1714314201">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-33" data-comment-id="16910482"><p><a href="https://hg.mozilla.org/mozilla-central/rev/ebaf603aaadb" rel="nofollow">https://hg.mozilla.org/mozilla-central/rev/ebaf603aaadb</a><br>
<a href="https://hg.mozilla.org/mozilla-central/rev/8cce05f88b61" rel="nofollow">https://hg.mozilla.org/mozilla-central/rev/8cce05f88b61</a></p>
</div><div class="activity"><div class="change">Group: gfx-core-security &rarr; core-security-release</div><div class="change">Status: ASSIGNED &rarr; RESOLVED</div><div class="change">Closed: <span class="rel-time" title="2024-04-28 07:23 PDT" data-time="1714314201">9 months ago</span></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox127&amp;o1=isnotempty">status-firefox127</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox127&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox127&amp;o1=equals&amp;v1=fixed">fixed</a></div><div class="change">Resolution: --- &rarr; FIXED</div><div class="change">Target Milestone: --- &rarr; 127 Branch</div></div></div><div class="change-set" id="c34"><div class="comment" data-id="16913921" data-no="34"
       data-tags="uplift">
    
    <table class="layout-table change-head " id="ch-34" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_510726" id="a258628_600971"><img src="https://secure.gravatar.com/avatar/a9d6ca739b340c670a0fecbd2c36f516?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_510726" id="a258628_600971"><a class="email " href="/user_profile?user_id=510726" > <span class="fna">Pulsebot</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-34"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-34" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-29 10:14 PDT" data-time="1714410864">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags"><span class="comment-tag" data-tag="uplift">uplift
  </span>
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text  "
      id="ct-34" data-comment-id="16913921"><a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-beta/rev/817f5b86b6e3">https://hg.mozilla.org/releases/mozilla-beta/rev/817f5b86b6e3</a>
<a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-beta/rev/612783e0665f">https://hg.mozilla.org/releases/mozilla-beta/rev/612783e0665f</a></div></div><div class="change-set" id="a425425_695136"><div class="change" id="aa425425_695136">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_695136" id="a425425_695136"><img src="https://secure.gravatar.com/avatar/51eb5989eec32902a5b0eb11eee2662e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_695136" id="a425425_695136"><a class="email " href="/user_profile?user_id=695136" > <span class="fna">Donal Meehan [:dmeehan]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a425425_695136"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a425425_695136">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a425425_695136">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-29 10:14 PDT" data-time="1714410898">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox126&amp;o1=isnotempty">status-firefox126</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox126&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox126&amp;o1=equals&amp;v1=fixed">fixed</a></div></div></div><div class="change-set" id="a426568_278074"><div class="change" id="aa426568_278074">
    <table class="layout-table change-head assignee" role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a426568_278074"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_278074" id="a426568_278074"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
            <span class="user-role">Assignee</span>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a426568_278074"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a426568_278074">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a426568_278074">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-29 10:34 PDT" data-time="1714412041">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9398516&amp;action=edit"
           title="testcase 2 (modified to close CSS rules, so as not to inadvertently be dependent on CSS nesting)"
           class=""
        >Attachment #9398516</a> -
        Attachment filename: testcase.html &rarr; testcase2.html</div></div></div><div class="change-set" id="c35"><div class="comment" data-id="16914275" data-no="35"
       data-tags="">
    
    <table class="layout-table change-head assignee" id="ch-35" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_278074" id="a426568_278074"><img src="https://secure.gravatar.com/avatar/cd9b85b2e112bd7941b21ad03f42604e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_278074" id="a426568_278074"><a class="email " href="/user_profile?user_id=278074" > <span class="fna">Daniel Holbert [:dholbert]</span></a>
</div>
              <span class="user-role">Assignee</span>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-35"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-35" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-29 14:56 PDT" data-time="1714427769">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-35" data-comment-id="16914275"><p>FWIW I&#39;ve verified the fix in NIghtlies -- i.e. I&#39;ve confirmed that Nightly before the fix does crash, and that current Nightly 127.0a1 (2024-04-29) (64-bit) does not crash, when I click through to perform a print operation to Firefox&#39;s save-to-PDF print backend with the attached testcases.</p>
<p>I haven&#39;t yet been able to reproduce the crash in release or beta for some reason, though (testing 125.0.1 and 126.0b7).  But I can reproduce the crash in Nightly versions going back quite a while (before the fix that just landed a few days ago).</p>
<p>So: it&#39;s possible this bug is somehow mitigated in release versions, but I&#39;m not sure how.  I suspect it&#39;s not reliably mitigated in any case.</p>
<p>(Unfortunately my main internet connection happens to be down today, so my ability to bisect / test different releases is limited at the moment.)</p>
</div></div><div class="change-set" id="c36"><div class="comment" data-id="16914291" data-no="36"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-36" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_600971" id="a426568_278074"><img src="https://secure.gravatar.com/avatar/a088418052679d9583556d277e6774ee?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_600971" id="a426568_278074"><a class="email " href="/user_profile?user_id=600971" > <span class="fna">Phabricator Automation</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-36"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-36" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-29 15:11 PDT" data-time="1714428685">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-36" data-comment-id="16914291"><h3>esr115 Uplift Approval Request</h3>
<ul>
<li><strong>User impact if declined</strong>: Potentially-exploitable crashes when printing specially crafted documents</li>
<li><strong>Code covered by automated testing</strong>: no</li>
<li><strong>Fix verified in Nightly</strong>: yes</li>
<li><strong>Needs manual QE test</strong>: yes</li>
<li><strong>Steps to reproduce for manual QE testing</strong>: Load a saved copy of one of the testcases. Proceed with the print operation, using Save-to-PDF print target. See if you crash (hopefully not).</li>
<li><strong>Risk associated with taking this patch</strong>: Very low risk.</li>
<li><strong>Explanation of risk level</strong>: This just zero-initializes a freshly allocated struct to zero, making this codepath consistent with another one that initializes the same type of struct. This turns any potential uninitialized-value reads into reads of zero-filled buffers (which means we end up with null pointers that get gracefully handled, rather than bogus uninitialized pointers).</li>
<li><strong>String changes made/needed</strong>: None</li>
<li><strong>Is Android affected?</strong>: yes</li>
</ul>
</div><div class="activity"><div class="change">Flags: qe-verify+</div></div></div><div class="change-set" id="a466895_488993"><div class="change" id="aa466895_488993">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_488993" id="a466895_488993"><img src="https://secure.gravatar.com/avatar/cbdd015c31ac3b59d7b54121cb25c744?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_488993" id="a466895_488993"><a class="email " href="/user_profile?user_id=488993" > <span class="fna">Andrei Vaida [:avaida]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a466895_488993"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a466895_488993">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a466895_488993">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-29 21:46 PDT" data-time="1714452368">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">QA Whiteboard: [post-critsmash-triage]</div></div></div><div class="change-set" id="a474056_553429"><div class="change" id="aa474056_553429">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_553429" id="a474056_553429"><img src="https://secure.gravatar.com/avatar/ebc9f3640aa5239958050569ceb481b4?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_553429" id="a474056_553429"><a class="email " href="/user_profile?user_id=553429" > <span class="fna">Brindusa Tot, Desktop QA</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a474056_553429"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a474056_553429">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a474056_553429">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-29 23:45 PDT" data-time="1714459529">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">QA Whiteboard: [post-critsmash-triage] &rarr; [post-critsmash-triage][qa-triaged]</div></div></div><div class="change-set" id="a493310_600971"><div class="change" id="aa493310_600971">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_600971" id="a493310_600971"><img src="https://secure.gravatar.com/avatar/a088418052679d9583556d277e6774ee?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_600971" id="a493310_600971"><a class="email " href="/user_profile?user_id=600971" > <span class="fna">Phabricator Automation</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a493310_600971"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a493310_600971">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a493310_600971">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-30 05:06 PDT" data-time="1714478783">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9399004&amp;action=edit"
           title="Bug 1893270: Make cairo font-creation functions consistently use calloc. r?jfkthame"
           class=""
        >Attachment #9399004</a> -
        Flags: approval-mozilla-esr115? &rarr; approval-mozilla-esr115+</div></div></div><div class="change-set" id="a493329_600971"><div class="change" id="aa493329_600971">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_600971" id="a493329_600971"><img src="https://secure.gravatar.com/avatar/a088418052679d9583556d277e6774ee?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_600971" id="a493329_600971"><a class="email " href="/user_profile?user_id=600971" > <span class="fna">Phabricator Automation</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a493329_600971"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a493329_600971">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a493329_600971">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-30 05:06 PDT" data-time="1714478802">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="/attachment.cgi?id=9399005&amp;action=edit"
           title="Bug 1893270 followup: save a copy of the cairo patch in-tree. r?jfkthame"
           class=""
        >Attachment #9399005</a> -
        Flags: approval-mozilla-esr115? &rarr; approval-mozilla-esr115+</div></div></div><div class="change-set" id="c37"><div class="comment" data-id="16914876" data-no="37"
       data-tags="uplift">
    
    <table class="layout-table change-head " id="ch-37" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_510726" id="a493329_600971"><img src="https://secure.gravatar.com/avatar/a9d6ca739b340c670a0fecbd2c36f516?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_510726" id="a493329_600971"><a class="email " href="/user_profile?user_id=510726" > <span class="fna">Pulsebot</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-37"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-37" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-30 05:09 PDT" data-time="1714478983">9 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags"><span class="comment-tag" data-tag="uplift">uplift
  </span>
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text  "
      id="ct-37" data-comment-id="16914876"><a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-esr115/rev/4518585d91c9">https://hg.mozilla.org/releases/mozilla-esr115/rev/4518585d91c9</a>
<a rel="nofollow" href="https://hg.mozilla.org/releases/mozilla-esr115/rev/e215485f8c74">https://hg.mozilla.org/releases/mozilla-esr115/rev/e215485f8c74</a></div></div><div class="change-set" id="a493511_640478"><div class="change" id="aa493511_640478">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_640478" id="a493511_640478"><img src="https://secure.gravatar.com/avatar/c3160865fc391f2a4c2acd24804987db?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_640478" id="a493511_640478"><a class="email " href="/user_profile?user_id=640478" > <span class="fna">Lando Automation</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a493511_640478"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a493511_640478">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a493511_640478">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-30 05:09 PDT" data-time="1714478984">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=isnotempty">status-firefox-esr115</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=equals&amp;v1=affected">affected</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=equals&amp;v1=fixed">fixed</a></div></div></div><div class="change-set" id="a516204_1689"><div class="change" id="aa516204_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a516204_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a516204_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a516204_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a516204_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a516204_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-04-30 11:27 PDT" data-time="1714501677">9 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: sec-bounty? &rarr; sec-bounty+</div></div></div><div class="change-set" id="c38"><div class="comment" data-id="16917363" data-no="38"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-38" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_704256" id="a516204_1689"><img src="https://secure.gravatar.com/avatar/cb81d8ea6f784ccfe54f11b1cdf71d32?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_704256" id="a516204_1689"><a class="email " href="/user_profile?user_id=704256" > <span class="fna">Ina Popescu, Desktop QA</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-38"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-38" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-05-02 00:23 PDT" data-time="1714634581">8 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-38" data-comment-id="16917363"><p>I&#39;ve replicated this issue with Nightly 127.0a1 (2024-04-24) on Ubuntu 22.04 following the STR from <a class="bz_bug_link
          bz_status_VERIFIED bz_closed" href="/show_bug.cgi?id=1893270#c0" title="VERIFIED FIXED - AddressSanitizer: attempting free on address which was not malloc()-ed on cairo_cff_font_destroy -&gt; free">Comment 0</a> using the testcase 3 (reduced).<br>
Verified as fixed in the latest Nightly 127.0a1 (2024-05-01) and Firefox 126.0b8 versions under same configuration, as the issue no longer occurs.</p>
</div><div class="activity"><div class="change">Status: RESOLVED &rarr; VERIFIED</div><div class="change">QA Whiteboard: <span class="activity-deleted">[post-critsmash-triage][qa-triaged]</span></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox126&amp;o1=isnotempty">status-firefox126</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox126&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox126&amp;o1=equals&amp;v1=verified">verified</a></div><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox127&amp;o1=isnotempty">status-firefox127</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox127&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox127&amp;o1=equals&amp;v1=verified">verified</a></div><div class="change">Flags: <span class="activity-deleted">qe-verify+</span></div></div></div><div class="change-set" id="c39"><div class="comment" data-id="16925085" data-no="39"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-39" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_704256" id="a516204_1689"><img src="https://secure.gravatar.com/avatar/cb81d8ea6f784ccfe54f11b1cdf71d32?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_704256" id="a516204_1689"><a class="email " href="/user_profile?user_id=704256" > <span class="fna">Ina Popescu, Desktop QA</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-39"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-39" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-05-07 07:51 PDT" data-time="1715093501">8 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div
      class="comment-text markdown-body "
      id="ct-39" data-comment-id="16925085"><p>The issue can no longer be reproduced in Firefox 115.11.0esr on Ubuntu 22.04. Consequently, I&#39;ve updated the flag to reflect this.</p>
</div><div class="activity"><div class="change">
          <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=isnotempty">status-firefox-esr115</a>:
          <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=equals&amp;v1=fixed">fixed</a> &rarr; <a href="/buglist.cgi?f1=cf_status_firefox_esr115&amp;o1=equals&amp;v1=verified">verified</a></div></div></div><div class="change-set" id="a1303429_486733"><div class="change" id="aa1303429_486733">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_486733" id="a1303429_486733"><img src="https://secure.gravatar.com/avatar/c313173c203fe2c095155f1bc89806eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_486733" id="a1303429_486733"><a class="email " href="/user_profile?user_id=486733" > <span class="fna">Jesse Schwartzentruber (:truber)</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a1303429_486733"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1303429_486733">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a1303429_486733">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-05-09 14:08 PDT" data-time="1715288902">8 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Whiteboard: [reporter-external] [client-bounty-form] [verif?] &rarr; [reporter-external] [client-bounty-form] [verif?] [adv-main126+] [adv-ESR115.11+]</div></div></div><div class="change-set" id="c40"><div class="comment" data-id="16929660" data-no="40"
       data-tags="">
    
    <table class="layout-table change-head " id="ch-40" role="presentation">
      <tr>
          <td rowspan="2" class="change-gravatar"><div class="vcard vcard_486733" id="a1303429_486733"><img src="https://secure.gravatar.com/avatar/c313173c203fe2c095155f1bc89806eb?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
          </td>

          <td class="change-author"><div class="vcard vcard_486733" id="a1303429_486733"><a class="email " href="/user_profile?user_id=486733" > <span class="fna">Jesse Schwartzentruber (:truber)</span></a>
</div>
          </td>

        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="cs-40"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>

      <tr id="cr-40" >
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-05-10 09:37 PDT" data-time="1715359043">8 months ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><div id="att-9401137"
         class="attachment"
         data-id="9401137" itemscope itemtype="http://schema.org/MediaObject">
      <meta itemprop="name" content="file_1893270.txt">
      <meta itemprop="contentSize" content="166">
      <meta itemprop="encodingFormat" content="text/plain">
      <div class="label">
        Attached file
          <a class="link" href="attachment.cgi?id=9401137" itemprop="contentUrl" >
        <span id="att-9401137-description" itemprop="description">advisory.txt</span></a>
        — <a href="attachment.cgi?id=9401137&amp;action=edit" itemprop="url" data-details="1">Details</a>
      </div>
    </div>

  <div
      class="comment-text markdown-body empty"
      id="ct-40" data-comment-id="16929660"></div></div><div class="change-set" id="a1377156_578488"><div class="change" id="aa1377156_578488">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_578488" id="a1377156_578488"><img src="https://secure.gravatar.com/avatar/6822db445808be789b12cfae22d118dc?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_578488" id="a1377156_578488"><a class="email " href="/user_profile?user_id=578488" > <span class="fna">Tom Ritter [:tjr]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a1377156_578488"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a1377156_578488">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a1377156_578488">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-05-10 10:37 PDT" data-time="1715362629">8 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Alias: CVE-2024-4770</div></div></div><div class="change-set" id="a3108155_5898"><div class="change" id="aa3108155_5898">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a3108155_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a3108155_5898"><a class="email " href="/user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a3108155_5898"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a3108155_5898">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a3108155_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-05-30 11:27 PDT" data-time="1717093628">8 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Keywords: <a href="/buglist.cgi?keywords=reporter-external&amp;resolution=---">reporter-external</a></div></div></div><div class="change-set" id="a12728203_1689"><div class="change" id="aa12728203_1689">
    <table class="layout-table change-head " role="presentation">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1689" id="a12728203_1689"><img src="https://secure.gravatar.com/avatar/da6b54ad3fdb36ba7656df9adfe65d12?d=mm&size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1689" id="a12728203_1689"><a class="email " href="/user_profile?user_id=1689" > <span class="fna">Daniel Veditz [:dveditz]</span></a>
</div>
        </td>
        <td rowspan="2" class="comment-actions"><div role="group">
          <button type="button" class="change-spinner ghost iconic" id="as-a12728203_1689"
                  aria-label="Collapse" aria-expanded="true"
                  data-strings='{ "collapse_label": "Collapse", "expand_label": "Expanded" }'>
            <span class="icon" aria-hidden="true"></span>
          </button>
        </div></td>
      </tr>
      <tr id="ar-a12728203_1689">
        <td>
          <h3 class="change-name">
            <a href="/show_bug.cgi?id=1893270#a12728203_1689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2024-09-18 19:41 PDT" data-time="1726713676">4 months ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Group: <span class="activity-deleted">core-security-release</span></div></div></div><div id="new-comment-notice">
          You need to <a href="/show_bug.cgi?id=1893270&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="secondary" aria-label="Go to Page Top">Top &uarr;</button>
  </div>
</div>



<dialog id="att-overlay" class="readonly"
        aria-labelledby="att-overlay-title" data-attachment-count="9">
  <form method="dialog">
    <div class="header">
      <h2 id="att-overlay-title" class="title">Attachment</h2>
      <div class="spacer"></div>
      <button type="button" class="secondary iconic" hidden disabled data-action="prev"
              title="Previous Attachment" aria-keyshortcuts="ArrowLeft">
        <span class="icon" aria-hidden="true"></span>
      </button>
      <button type="button" class="secondary iconic" hidden disabled data-action="next"
              title="Next Attachment" aria-keyshortcuts="ArrowRight">
        <span class="icon" aria-hidden="true"></span>
      </button>
      <button type="button" class="secondary" data-action="toggle-details">Hide Details</button>
      <button type="button" class="secondary iconic" data-action="close" aria-label="Close">
        <span class="icon" aria-hidden="true"></span>
      </button>
    </div>
    <div class="body">
      <div class="sub-column">
        <div class="detail-pane">
          <section class="cols">
            <h3>General</h3>
            <div class="creator">
              Creator: <div class="vcard vcard_537720" ><a class="email " href="/user_profile?user_id=537720" > <span class="fna">Irvan Kurniawan (:sourc7)</span></a>
</div>
            </div>
            <div>Created: <span class="created-date rel-time"></span></div>
            <div>Updated: <span class="updated-date rel-time"></span></div>
            <div>Size: <span class="file-size"></span></div>
          </section>
          <section class="cols">
            <h3>
              <label for="att-overlay-description">Description</label>
            </h3>
            <div>
              <input type="text" name="description" disabled
                     id="att-overlay-description" class="flex">
            </div>
          </section>
          <section class="cols">
            <h3>
              <label for="att-overlay-file-name">File Name</label>
            </h3>
            <div>
              <input type="text" name="filename" disabled
                     id="att-overlay-file-name" class="flex">
            </div>
          </section>
          <section class="cols">
            <h3>
              <label for="att-overlay-content-type">Content Type</label>
            </h3>
              <div>
                <input type="text" name="contenttypeentry" disabled id="att-overlay-content-type"
                       class="flex">
              </div>
          </section>
          
        </div>
      </div>
      <div class="main-column">
        <div class="preview-pane">
          <div class="preview ">
          </div>
        </div>
      </div>
    </div>
    <div class="footer">
      <button type="button" class="secondary" data-action="raw">Raw</button>
        <button type="button" class="secondary" disabled data-action="diff">Diff</button>
        <button type="button" class="secondary" disabled data-action="review"
                data-base="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;ignore=">Splinter Review</button>
      <div class="spacer"></div>
    </div>
  </form>
</dialog>
<link rel="stylesheet" href="/static/v20250108.1/extensions/FlagTypeComment/web/styles/ftc.css">
<script nonce="wOFlo7vdqIPNWlXl4su5NJSuOnL25VwuT4P978MaQdBDJuBu" src="/static/v20250108.1/extensions/FlagTypeComment/web/js/ftc.js"></script></div> 
</main> 
</div> 


</body>
</html>