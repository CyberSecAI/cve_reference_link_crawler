Based on the provided content, here's an analysis of the vulnerability:

**Root cause of vulnerability:**

*   The application is vulnerable to a second-order SQL Injection vulnerability. The `userid` is taken from user input at login and stored in a session variable `$_SESSION["userid"]`. This value is then used in SQL queries in `doctors/myDetails.php` without proper sanitization.

**Weaknesses/vulnerabilities present:**

*   **Second-Order SQL Injection:** The `$_SESSION["userid"]` which originates from `$_POST["userid"]` is not validated or sanitized before being used in SQL queries. The vulnerability manifests when the application uses this session variable to build a SQL query, thus leading to a second order injection.
*   **Lack of Input Sanitization:** The code fails to sanitize or validate user-controlled input (`$_POST["userid"]`, `$_POST["name"]`, `$_POST["address"]`, `$_POST["contact"]`, `$_POST["email"]`, `$_POST["pic"]`) before using it in SQL queries.

**Impact of exploitation:**

*   **Data Exposure:** An attacker can inject malicious SQL code into the `userid` field during login. This can lead to unauthorized access and exposure of the entire booking dataset because the attacker can manipulate the `WHERE` clause to return all rows.
*   **Database Manipulation:** By injecting specific SQL commands, the attacker could potentially modify or delete data.
*   **Database Shutdown:** The attacker can inject SQL commands that result in database shutdown.

**Attack vectors:**

*   The attacker manipulates the `$_POST["userid"]` parameter during the login process in `doctors\doctorlogin.php`. This modified value is stored in the session variable `$_SESSION["userid"]`.
*   The stored, malicious `$_SESSION["userid"]` is then used in `doctors\myDetails.php` at lines 11 and 87 within SQL queries.
*   The attacker can also inject malicious SQL into `$_POST["name"]`, `$_POST["address"]`, `$_POST["contact"]`, `$_POST["email"]`, `$_POST["pic"]` at line 87 within SQL queries.

**Required attacker capabilities/position:**

*   The attacker needs the ability to interact with the login page (`doctors\doctorlogin.php`).
*   The attacker needs to be able to send POST requests with malicious SQL code in the `userid` field, as well as in the `name`, `address`, `contact`, `email`, and `pic` fields.
*   The attacker does not need to be authenticated initially, as the exploit happens during the login process and any successful login is enough to trigger the second-order injection.