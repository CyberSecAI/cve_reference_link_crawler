

[Log in](/jira/login.jsp?os_destination=%2Fbrowse%2FSLING-6536)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoadingâ€¦[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/SLING "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FSLING-6536)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

![Uploaded image for project: 'Sling'](https://issues.apache.org/jira/secure/projectavatar?pid=12310710&avatarId=31920)

1. [Sling](/jira/browse/SLING)
2. [SLING-6536](/jira/browse/SLING-6536)

# Deprecate JSON implementation derived from org.json code

[Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FSLING-6536 "Log In")Export

XMLWordPrintableJSON
#### Details

* **Type:**
  ![](/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype "Improvement - An improvement or enhancement to an existing feature or task.") Improvement
* **Status:**
  Resolved
* **Priority:**
  ![](/jira/images/icons/priorities/critical.svg "Critical - Crashes, loss of data, severe memory leak.") Critical
* **Resolution:**
  Fixed
* **Affects Version/s:**
  Commons JSON 2.0.18
* **Fix Version/s:**
  [Commons JSON 2.0.20](/jira/issues/?jql=project+%3D+SLING+AND+fixVersion+%3D+%22Commons+JSON+2.0.20%22 "Commons JSON 2.0.20 Deprecation Release")
* **Component/s:**
  [Commons](/jira/issues/?jql=project+%3D+SLING+AND+component+%3D+Commons "Commons All issues for modules in commons which don't have an own category and general commons issues.")
* **Labels:**
  None
#### Description

following the discussion in

[https://lists.apache.org/thread.html/ee51bace078681765d5dcfeda1939628ccefb9b4261b1d7f6a56d420@%3Cdev.sling.apache.org%3E](https://lists.apache.org/thread.html/ee51bace078681765d5dcfeda1939628ccefb9b4261b1d7f6a56d420%40%3Cdev.sling.apache.org%3E)

we have to replace the implementation of all classes in Commons JSON that were derived from the original org.json code.

the affected packages are

* [org.apache.sling.commons.json](https://github.com/apache/sling/tree/trunk/bundles/commons/json/src/main/java/org/apache/sling/commons/json)
* [org.apache.sling.commons.json.http](https://github.com/apache/sling/tree/trunk/bundles/commons/json/src/main/java/org/apache/sling/commons/json/http)
* [org.apache.sling.commons.json.io](https://github.com/apache/sling/tree/trunk/bundles/commons/json/src/main/java/org/apache/sling/commons/json/io)
* [org.apache.sling.commons.json.util](https://github.com/apache/sling/tree/trunk/bundles/commons/json/src/main/java/org/apache/sling/commons/json/util)
* [org.apache.sling.commons.json.xml](https://github.com/apache/sling/tree/trunk/bundles/commons/json/src/main/java/org/apache/sling/commons/json/xml)

unfortunately the unit test coverage for those packages is not very high. the main package has a line coverage of 42%, the other packages less than that or no at all.

although we might encourage modules to switch to a standard JSON implementation a lot of modules inside sling and perhaps much more outside sling depend on this json implementation, so we should try to keep the exported API and functionality.

#### Attachments

#### Issue Links

is related to

![Improvement - An improvement or enhancement to an existing feature or task.](/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype "Improvement - An improvement or enhancement to an existing feature or task.")
[SLING-6679](/jira/browse/SLING-6679)
Replace usage of org.apache.sling.commons.json.\* and org.json in launchpad relevant bundles

* ![Major - Major loss of function.](/jira/images/icons/priorities/major.svg "Major - Major loss of function.")
* Closed

#### Activity

#### People

Assignee:

![karlpauls](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Karl Pauls

Reporter:

![sseifert](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Stefan Seifert

Votes:
0
Vote for this issue

Watchers:
4
Start watching this issue

#### Dates

Created:

21/Feb/17 08:34

Updated:

22/Mar/17 08:58

Resolved:

17/Mar/17 16:32

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)

