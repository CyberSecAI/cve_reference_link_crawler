
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fissues%2F55263)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fissues%2F55263)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=tensorflow%2Ftensorflow)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[tensorflow](/tensorflow)
/
**[tensorflow](/tensorflow/tensorflow)**
Public

* [Notifications](/login?return_to=%2Ftensorflow%2Ftensorflow) You must be signed in to change notification settings
* [Fork
  74.4k](/login?return_to=%2Ftensorflow%2Ftensorflow)
* [Star
   187k](/login?return_to=%2Ftensorflow%2Ftensorflow)

* [Code](/tensorflow/tensorflow)
* [Issues
  834](/tensorflow/tensorflow/issues)
* [Pull requests
  5k+](/tensorflow/tensorflow/pulls)
* [Actions](/tensorflow/tensorflow/actions)
* [Projects
  2](/tensorflow/tensorflow/projects)
* [Security](/tensorflow/tensorflow/security)
* [Insights](/tensorflow/tensorflow/pulse)

Additional navigation options

* [Code](/tensorflow/tensorflow)
* [Issues](/tensorflow/tensorflow/issues)
* [Pull requests](/tensorflow/tensorflow/pulls)
* [Actions](/tensorflow/tensorflow/actions)
* [Projects](/tensorflow/tensorflow/projects)
* [Security](/tensorflow/tensorflow/security)
* [Insights](/tensorflow/tensorflow/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Ftensorflow%2Ftensorflow%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Ftensorflow%2Ftensorflow%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# `tf.compat.v1.signal.rfft2d` and `rfft3d` lacks input validation leading to crashes #55263

Closed

[kanghj](/kanghj) opened this issue
Mar 17, 2022
· 2 comments
 · Fixed by [#55274](https://github.com/tensorflow/tensorflow/pull/55274)

Closed

# [`tf.compat.v1.signal.rfft2d` and `rfft3d` lacks input validation leading to crashes](#top) #55263

[kanghj](/kanghj) opened this issue
Mar 17, 2022
· 2 comments
 · Fixed by [#55274](https://github.com/tensorflow/tensorflow/pull/55274)

Assignees
[![@sushreebarsa](https://avatars.githubusercontent.com/u/84765720?s=40&v=4)](/sushreebarsa)

Labels
[comp:ops](/tensorflow/tensorflow/labels/comp%3Aops)
OPs related issues
[TF 2.8](/tensorflow/tensorflow/labels/TF%202.8)
[type:bug](/tensorflow/tensorflow/labels/type%3Abug)
Bug

## Comments

[![@kanghj](https://avatars.githubusercontent.com/u/2216119?s=80&v=4)](/kanghj)

Copy link

### **[kanghj](/kanghj)** commented [Mar 17, 2022](#issue-1171956537) • edited Loading

| **System information**   * Have I written custom code (as opposed to using a stock example script provided in TensorFlow): Yes * OS Platform and Distribution (e.g., Linux Ubuntu 16.04): N/A * Mobile device (e.g. iPhone 8, Pixel 2, Samsung Galaxy) if the issue happens on mobile device: * TensorFlow installed from (source or binary): binary * TensorFlow version (use command below): 2.8.0 * Python version:3.7.12 * Bazel version (if compiling from source): * GCC/Compiler version (if compiling from source): * CUDA/cuDNN version: 11.2 (based on a colab notebook) * GPU model and memory: Tesla T4, 15109MiB (based on a colab notebook)   **Describe the current behavior**  The following code snippets lead to crashes when executed:  ``` import numpy as np import tensorflow as tf  a = np.empty([6, 0]) b = np.array([1, -1]) try:   tf.compat.v1.signal.rfft2d(input_tensor=a,fft_length=b)   # on a different machine: Check failed: size >= 0 (-9223372036854775808 vs. 0)   # Aborted (core dumped) except:   pass  print('execution does not reach this line')  ```  and  ``` import numpy as np import tensorflow as tf  a = np.empty([6, 1, 1]) b = np.array([1, 2, 0])  try:   tf.compat.v1.signal.irfft3d(input_tensor=a,fft_length=b)   # on a different machine: failed to initialize batched cufft plan with customized allocator: Failed to make cuFFT batched plan.   # Aborted (core dumped) except:   pass print('execution does not reach this line')  ```  In either case, the inputs do not quite make sense, and tensorflow should throw.  **Describe the expected behavior**  Tensorflow should throw exceptions instead of crashing.  **[Contributing](https://www.tensorflow.org/community/contribute)**   * Do you want to contribute a PR? (yes/no): * Briefly describe your candidate solution(if contributing):   **Standalone code to reproduce the issue**  Here is a colab notebook: <https://colab.research.google.com/drive/168jYG6MqnW4jpJdIXFMUBkyiaweA43aP?usp=sharing> Edit: the notebook has to be run with GPU  The code snippets above should also reproduce the issue. |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@kanghj](https://avatars.githubusercontent.com/u/2216119?s=40&v=4)](/kanghj)
[kanghj](/kanghj)
added
the
[type:bug](/tensorflow/tensorflow/labels/type%3Abug)
Bug
label
[Mar 17, 2022](#event-6255972042)

[![@google-ml-butler](https://avatars.githubusercontent.com/in/43729?s=40&v=4)](/apps/google-ml-butler)
[google-ml-butler](/apps/google-ml-butler)
bot
assigned [sushreebarsa](/sushreebarsa)
[Mar 17, 2022](#event-6255972305)

[![@sushreebarsa](https://avatars.githubusercontent.com/u/84765720?s=40&v=4)](/sushreebarsa)
[sushreebarsa](/sushreebarsa)
added
[comp:ops](/tensorflow/tensorflow/labels/comp%3Aops)
OPs related issues
[TF 2.8](/tensorflow/tensorflow/labels/TF%202.8)
labels
[Mar 17, 2022](#event-6256057026)

[![@yongtang](https://avatars.githubusercontent.com/u/6932348?s=40&v=4)](/yongtang)
[yongtang](/yongtang)
mentioned this issue
[Mar 17, 2022](#ref-pullrequest-1172660354)

[Add necessary check in fft ops to fix crash
#55274](/tensorflow/tensorflow/pull/55274)
 Merged

[![@yongtang](https://avatars.githubusercontent.com/u/6932348?s=80&v=4)](/yongtang)

Copy link

Member

### **[yongtang](/yongtang)** commented [Mar 17, 2022](#issuecomment-1071236514)

| Added PR [#55274](https://github.com/tensorflow/tensorflow/pull/55274) for the fix. |
| --- |

 ❤️
1
 kanghj reacted with heart emoji

All reactions

* ❤️
  1 reaction

Sorry, something went wrong.

[![@copybara-service](https://avatars.githubusercontent.com/in/44061?s=40&v=4)](/apps/copybara-service)
[copybara-service](/apps/copybara-service)
bot
closed this as [completed](/tensorflow/tensorflow/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#55274](/tensorflow/tensorflow/pull/55274)
[Mar 23, 2022](#event-6292384369)

[![@google-ml-butler](https://avatars.githubusercontent.com/in/43729?s=80&v=4)](/apps/google-ml-butler)

Copy link

### **[google-ml-butler](/apps/google-ml-butler) bot** commented [Mar 23, 2022](#issuecomment-1076515771)

| Are you satisfied with the resolution of your issue? [Yes](https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=Yes&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/55263) [No](https://docs.google.com/forms/d/e/1FAIpQLSfaP12TRhd9xSxjXZjcZFNXPGk4kc1-qMdv3gc6bEP90vY1ew/viewform?entry.85265664=No&entry.2137816233=https://github.com/tensorflow/tensorflow/issues/55263) |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fissues%2F55263)

Assignees

[![@sushreebarsa](https://avatars.githubusercontent.com/u/84765720?s=40&v=4)](/sushreebarsa) [sushreebarsa](/sushreebarsa)

Labels

[comp:ops](/tensorflow/tensorflow/labels/comp%3Aops)
OPs related issues
[TF 2.8](/tensorflow/tensorflow/labels/TF%202.8)
[type:bug](/tensorflow/tensorflow/labels/type%3Abug)
Bug

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [Add necessary check in fft ops to fix crash](/tensorflow/tensorflow/pull/55274)
 [yongtang/tensorflow](/yongtang/tensorflow)

3 participants

[![@kanghj](https://avatars.githubusercontent.com/u/2216119?s=52&v=4)](/kanghj) [![@yongtang](https://avatars.githubusercontent.com/u/6932348?s=52&v=4)](/yongtang) [![@sushreebarsa](https://avatars.githubusercontent.com/u/84765720?s=52&v=4)](/sushreebarsa)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

