<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
<base href="https://bugs.launchpad.net/murano/+bug/2048114/+index" />

    <meta charset="UTF-8" />
    <title>Bug #2048114 “Unsafe Environment Handling in MuranoPL” : Bugs : Murano</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/@@/apple-touch-icon.png?v=2022" />
    <link rel="icon" type="image/png" sizes="32x32" href="/@@/favicon-32x32.png?v=2022" />
    <link rel="icon" type="image/png" sizes="16x16" href="/@@/favicon-16x16.png?v=2022" />
    <link rel="manifest" href="/@@/site.webmanifest?v=2022" />
    <link rel="mask-icon" href="/@@/safari-pinned-tab.svg?v=2022" color="#e9531f" />
    <link rel="shortcut icon" href="/@@/favicon.ico?v=2022" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="msapplication-config" content="/@@/browserconfig.xml?v=2022" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="canonical" href="https://bugs.launchpad.net/bugs/2048114" />
    
      <link rel="alternate" type="application/atom+xml" href="http://feeds.launchpad.net/bugs/2048114/bug.atom" title="Bug 2048114 Feed" />
    

    
  
  <link type="text/css" rel="stylesheet" media="screen, print" href="/+icing/rev6394e03793719e8d73f5a60b5439440e693c92f1/combo.css" />


    

    
      <meta name="description" content="Members of the VMT received the following report by E-mail from &quot;kirualawliet l&quot;:

Title: OpenStack Murano Component Information Leakage

Reporter: lawliet and Zhiniang Peng (@edwardzpeng) from Sangfor Security Research Team

Products: OpenStack Murano Component

Affects: All versions of Murano Component

Description:

The Sangfor Security Research Team has identified a critical security vulnerability in the Murano component of OpenStack. This vulnerability allows ordinary users capable of im..." />
      <meta property="og:description" content="Members of the VMT received the following report by E-mail from &quot;kirualawliet l&quot;:

Title: OpenStack Murano Component Information Leakage

Reporter: lawliet and Zhiniang Peng (@edwardzpeng) from Sangfor Security Research Team

Products: OpenStack Murano Component

Affects: All versions of Murano Component

Description:

The Sangfor Security Research Team has identified a critical security vulnerability in the Murano component of OpenStack. This vulnerability allows ordinary users capable of im..." />
    

    
    
      <meta property="og:title" content="Bug #2048114 “Unsafe Environment Handling in MuranoPL” : Bugs : Murano" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="/@@/launchpad-og-image.png" />
      <meta property="og:url" content="https://bugs.launchpad.net/bugs/2048114" />
      <meta property="og:site_name" content="Launchpad" />
    

    

    
  

  
  
  <script type="text/javascript">
    var LP = {
        cache: {},
        links: {}
    };
  </script>

  

  <script type="text/javascript">var cookie_scope = '; Path=/; Secure; Domain=.launchpad.net';</script>

   <script type="text/javascript" src="/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?yui/yui/yui-min.js&amp;lp/meta.js&amp;yui/loader/loader-min.js"></script>
   <script type="text/javascript">
        var raw = null;
        if (LP.devmode) {
           raw = 'raw';
        }
        YUI.GlobalConfig = {
            combine: true,
            comboBase: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?',
            root: 'yui/',
            filter: raw,
            debug: false,
            fetchCSS: false,
            maxURLLength: 2000,
            groups: {
                lp: {
                    combine: true,
                    base: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?lp/',
                    comboBase: '/+combo/rev6394e03793719e8d73f5a60b5439440e693c92f1/?',
                    root: 'lp/',
                    // comes from including lp/meta.js
                    modules: LP_MODULES,
                    fetchCSS: false
                }
            }
        }</script>

  <script type="text/javascript">
      // we need this to create a single YUI instance all events and code
      // talks across. All instances of YUI().use should be based off of
      // LPJS instead.
      var LPJS = new YUI();
  </script>



    <script id="base-layout-load-scripts" type="text/javascript">
        //<![CDATA[
        LPJS.use('base', 'node', 'console', 'event',
            'oop', 'lp', 'lp.app.foldables','lp.app.sorttable',
            'lp.app.inlinehelp', 'lp.app.links',
            'lp.bugs.bugtask_index', 'lp.bugs.subscribers',
            'lp.app.ellipsis', 'lp.code.branchmergeproposal.diff',
            'lp.views.global',
             function(Y) {

            Y.on("domready", function () {
                var global_view = new Y.lp.views.Global();
                global_view.render();

                Y.lp.app.sorttable.SortTable.init();
                Y.lp.app.inlinehelp.init_help();
                Y.lp.activate_collapsibles();
                Y.lp.app.foldables.activate();
                Y.lp.app.links.check_valid_lp_links();
            });

            Y.on('lp:context:web_link:changed', function(e) {
                  window.location = e.new_value;
            });
        });
        //]]>
    </script>
    <script id="base-helper-functions" type="text/javascript">
         //<![CDATA[
        // This code is pulled from lp.js that needs to be available on every
        // request. Pulling here to get it outside the scope of the YUI block.
        function setFocusByName(name) {
            // Focus the first element matching the given name which can be focused.
            var nodes = document.getElementsByName(name);
            var i, node;
            for (i = 0; i < nodes.length; i++) {
                node = nodes[i];
                if (node.focus) {
                    try {
                        // Trying to focus a hidden element throws an error in IE8.
                        if (node.offsetHeight !== 0) {
                            node.focus();
                        }
                    } catch (e) {
                        LPJS.use('console', function(Y) {
                            Y.log('In setFocusByName(<' +
                                node.tagName + ' type=' + node.type + '>): ' + e);
                        });
                    }
                    break;
                }
            }
        }

        function selectWidget(widget_name, event) {
          if (event && (event.keyCode === 9 || event.keyCode === 13)) {
              // Avoid firing if user is tabbing through or simply pressing
              // enter to submit the form.
              return;
          }
          document.getElementById(widget_name).checked = true;
        }
        //]]>
    </script>

    
      
      <script type="text/javascript" id="available-official-tags-js">var available_official_tags = ["agent", "api", "core-library", "dashboard", "db", "documentation", "engine", "gate", "glare", "javascript", "kilo-backport-potential", "liberty-backport-potential", "low-hanging-fruit", "mitaka-backport-potential", "muranopl", "security", "tests", "ux"];</script>
      <script type="text/javascript">
        LPJS.use('base', 'node', 'oop', 'event', 'lp.bugs.bugtask_index',
                  'lp.bugs.subscribers', 'lp.code.branchmergeproposal.diff',
                  'lp.app.comment', 'lp.services.messages.edit', function(Y) {
            Y.on('domready', function() {
                Y.lp.code.branchmergeproposal.diff.connect_diff_links();
                Y.lp.bugs.bugtask_index.setup_bugtask_index();
                Y.lp.bugs.bugtask_index.setup_bugtask_table();
                LP.cache.comment_context = LP.cache.bug;
                var cl = new Y.lp.app.comment.CommentList();
                cl.render();
                var sl = new Y.lp.bugs.subscribers.createBugSubscribersLoader({
                    container_box: '#other-bug-subscribers',
                    subscribers_details_view:
                        '/+bug-portlet-subscribers-details',
                    subscribe_someone_else_link: '.menu-link-addsubscriber'
                }, window);

                Y.lp.services.messages.edit.setup();
            });
         });
      </script>
      <style type="text/css">
        /* Align the 'add comment' link to the right of the comment box. */
        #add-comment-form textarea { width: 100%; }
        #add-comment-form { max-width: 60em; padding-bottom: 4em; }
        #add-comment-form .actions {float: right;}
        .buglink-summary dd { font-size: 10px; }
        a#privacy-link:link:hover, a#privacy-link:visited:hover {text-decoration:none;}
      </style>
      <style type="text/css">
        .yui3-overlay .value label  {
          /* It normally makes sense for form labels to be bold, but since
          this form consists only of radio buttons, there's nothing but labels
          so we just get wall-to-wall bold. */
          font-weight: normal !important;
        }
      </style>
    
    
  </head>

  <body id="document" itemscope="" itemtype="http://schema.org/WebPage" class="tab-bugs
      main_side
      public
      yui3-skin-sam">
          
          
    <div class="yui-d0">
      <div id="locationbar" class="login-logout">
        

<div id="logincontrol"><a href="https://bugs.launchpad.net/murano/+bug/2048114/+login">Log in / Register</a></div>



      </div><!--id="locationbar"-->

      <div id="watermark" class="watermark-apps-portlet">
        <div>
          <a href="https://launchpad.net/murano"><img alt="" width="64" height="64" src="/@@/product-logo" /></a>
        </div>
        <div class="wide">
          <h2 id="watermark-heading"><a href="https://launchpad.net/murano">Murano</a></h2>
        </div>
        
  <!-- Application Menu -->
  <ul class="facetmenu">
    
      
      <li class="overview"><a href="https://launchpad.net/murano">Overview</a></li>
      
    
    
      
      <li class="branches"><a href="https://code.launchpad.net/murano">Code</a></li>
      
    
    
      <li class="bugs active"><a href="https://bugs.launchpad.net/murano">Bugs</a></li>
      
      
    
    
      
      <li class="specifications"><a href="https://blueprints.launchpad.net/murano">Blueprints</a></li>
      
    
    
      
      <li class="translations"><a href="https://translations.launchpad.net/murano">Translations</a></li>
      
    
    
      
      <li class="answers"><a href="https://answers.launchpad.net/murano">Answers</a></li>
      
    
  </ul>

      </div>

      <div class="yui-t4">
        <div id="maincontent" class="yui-main">
          <div class="yui-b" dir="ltr">
            <div class="context-publication">
              
      <h1 id="edit-title">
<span class="yui3-editable_text-text ellipsis" style="max-width: 95%;">
    Unsafe Environment Handling in MuranoPL
</span>
  
</h1>



    
              

              <div id="registration" class="registering">
                
      Bug #2048114 reported by
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley</a>
      <time title="2024-01-04 19:37:53 UTC" datetime="2024-01-04T19:37:53.593361+00:00">on 2024-01-04</time>
      
    
              </div>
            </div>

            
            <div id="request-notifications">
              
            </div>

            
              <div>

      

      <div id="bug-is-duplicate">
          
      </div>
      

      <div style="float: right;">
        <span><a href="/+help-bugs/bug-heat.html" target="help" class="sprite flame">276</a></span>
      </div>

      


  
  
    <div class="actions">
      <span id="affectsmetoo" style="display: inline">This bug affects 1 person</span>
    </div>
  



    <table id="affected-software" class="listing">
      <thead>
        <tr>
          <th colspan="2">Affects</th>
          <th>Status</th>
          <th>Importance</th>
          <th>Assigned to</th>
          <th>Milestone</th>
        </tr>
      </thead>

      <tbody>
        
          
  <tr class="highlight" id="tasksummary3124873">
    <td>
      
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary3124873">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/murano">Murano</a>
        </span>
        
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusNEW">New</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3124873">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3124880">
    <td>
      
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary3124880">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/ossa">OpenStack Security Advisory</a>
        </span>
        
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusWONTFIX">Won't Fix</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceUNDECIDED">Undecided</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3124880">
          <span class="yui3-activator-data-box">
            
            
              Unassigned
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3161192">
    <td>
      
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary3161192">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/ossn">OpenStack Security Notes</a>
        </span>
        
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusFIXRELEASED">Fix Released</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceHIGH">High</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3161192">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~fungi">Jeremy Stanley</a>
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      
    </td>

    
  </tr>

  


        
        
          
  <tr id="tasksummary3161191">
    <td>
      
    </td>
    
    <td>
      <span id="bugtarget-picker-tasksummary3161191">
        <span class="yui3-activator-data-box">
            <a class="sprite product" href="https://bugs.launchpad.net/yaql">YAQL</a>
        </span>
        
        <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        
      </span>
    </td>

    

    
    <td style="width: 20%; vertical-align: middle">
      <div class="status-content" style="width: 100%; float: left">
        <span style="float: left" class="value statusFIXRELEASED">Fix Released</span>
        
      </div>
    </td>

    
    <td style="width: 15em; vertical-align: middle">
      <div class="importance-content" style="width: 100%; float: left">
        <span style="float: left" class="value importanceCRITICAL">Critical</span>
      </div>
    </td>

    <td style="width:20%; margin: 0; padding: 0;
               vertical-align: middle; padding-left: 0.5em">
      

      
        <span id="assignee-picker-tasksummary3161191">
          <span class="yui3-activator-data-box">
            <a class="sprite person" href="https://launchpad.net/~kajinamit">Takashi Kajinami</a>
            
          </span>
          
          
          <div class="yui3-activator-message-box yui3-activator-hidden"></div>
        </span>
      
    </td>

    <td style="width: 20%; vertical-align: middle">
      <div class="milestone-content" style="width: 100%; float: left">
        
        <a class="value" href=""></a>
        
      </div>
    </td>

    
  </tr>

  


        
      </tbody>

    </table>








      <div id="maincontentsub">
        <div class="top-portlet">

      <div itemprop="mainContentOfPage" class="report">
        

        <div>
  <div class="lazr-multiline-edit" id="edit-description">
  <div class="clearfix">
    

    <h3>Bug Description</h3>
  </div>

  <div class="yui3-editable_text-text"><p>Members of the VMT received the following report by E-mail from &quot;kirualawliet l&quot;:</p>
<p>Title: OpenStack Murano Component Information Leakage</p>
<p>Reporter: lawliet and Zhiniang Peng (@edwardzpeng) from Sangfor Security Research Team</p>
<p>Products: OpenStack Murano Component</p>
<p>Affects: All versions of Murano Component</p>
<p>Description:</p>
<p>The Sangfor Security Research Team has identified a critical security vulnerability in the Murano component of OpenStack. This vulnerability allows ordinary users capable of importing and deploying app packages to access sensitive information within OpenStack services. Specifically, through this exploit, unauthorized users can obtain Murano service account credentials, potentially escalating their privileges to an administrator level. Subsequently, unauthorized users can gain complete control over various resources, including user roles, hosts, and networks.</p>
<p>The vulnerability stems from the Murano service&#x27;s reliance on MuranoPL, an extension of the YAQL language. The YAQL library includes a &#x27;format&#x27; function that mirrors Python&#x27;s &#x27;str.format&#x27; method, enabling attribute access.</p>
<p>```python<br />
# code snippet from yaql-2.<wbr />0.0\standard_<wbr />library\<wbr />strings.<wbr />py:569<br />
@specs.<wbr />parameter(<wbr />&#x27;__format_<wbr />string&#x27;<wbr />, yaqltypes.String())<br />
@specs.<wbr />extension_<wbr />method<br />
def format_<wbr />(__format_<wbr />string, *args, **kwargs):<br />
&nbsp;&nbsp;&nbsp;&nbsp;...<br />
&nbsp;&nbsp;&nbsp;&nbsp;return __format_<wbr />string.<wbr />format(<wbr />*args, **kwargs)<br />
```</p>
<p>An example of this vulnerability includes:</p>
<p>```<br />
&gt;&gt;&gt; secret_key = &quot;abcd1234&quot;<br />
&gt;&gt;&gt; class Test:<br />
...     def __init__(self):<br />
...             pass<br />
...<br />
&gt;&gt;&gt; t = Test()<br />
&gt;&gt;&gt; # Exploiting the vulnerability to expose sensitive data:<br />
&gt;&gt;&gt; malicious_<wbr />format_<wbr />string = &#x27;{0.__class_<wbr />_.__init_<wbr />_.__globals_<wbr />_[secret_<wbr />key]}&#x27;<br />
&gt;&gt;&gt; formatted_output = malicious_<wbr />format_<wbr />string.<wbr />format(<wbr />t)<br />
&gt;&gt;&gt; print(formatted<wbr />_output)  # This line reveals the value of secret_key<br />
&#x27;abcd1234&#x27;<br />
```</p>
<p>This exploit allows access to Murano service&#x27;s oslo configuration storage, thereby exposing critical Murano service account credentials, granting unauthorized users administrative privileges.</p>
<p>We believe no deployment mode is immune to this vulnerability. To ensure system security, we recommend immediate attention and remediation of this vulnerability within the OpenStack Murano component. Our team stands ready to offer assistance and collaboration in addressing and resolving this issue promptly.</p>
<p>Thank you for your prompt attention to this matter.</p>
<p>Sincerely,<br />
kirualawliet<br />
Sangfor Security Research Team</p></div>
  </div>

  
</div>


        <div style="margin:-10px 0 20px 5px" class="clearfix">
          <span>See <a href="comments/0">original description</a></span>
        </div>

        <div id="bug-tags">
          <span id="tags-heading">
            
          </span>
          <span id="tag-list">
          </span>
          
        </div>

        <script type="text/javascript">
          LPJS.use('event', 'node', 'lp.bugs.tags_entry', function(Y) {
              Y.on('domready',
                   function(e) {
                       Y.lp.bugs.tags_entry.setup_tag_entry(
                           available_official_tags);
                   },
                   window);
          });
        </script>

        <div class="clearfix"></div>
      </div>

      <div id="branches-and-cves">
        <div id="bug-branches-container" style="float: left">
          
        </div><!-- bug-branch-container -->

        <div class="cves">
          <h2>CVE References</h2>
          <ul>
            <li class="sprite cve">
              <a href="/bugs/cve/2024-29156" title="In OpenStack Murano through 16.0.0, w...">2024-29156</a>
            </li>
          </ul>
        </div>

        <div class="clearfix"></div>
      </div> <!-- branches and CVEs -->

      </div>

      <div>
      
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/1" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-04T19:37:53.593361+00:00" title="2024-01-04 19:37:53 UTC">on 2024-01-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/1"> #1</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5736495/+files/image.png" class="sprite download-icon">leaking murano account and password</a>
        <a class="sprite edit action-icon" href="/murano/+bug/2048114/+attachment/5736495">Edit</a>
        
        (90.9 KiB,
        image/png)
        
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/2" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-04T19:38:47.335802+00:00" title="2024-01-04 19:38:47 UTC">on 2024-01-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/2"> #2</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5736496/+files/image.png" class="sprite download-icon">logining with leakd murano credentials</a>
        <a class="sprite edit action-icon" href="/murano/+bug/2048114/+attachment/5736496">Edit</a>
        
        (90.9 KiB,
        image/png)
        
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossa: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Won&#x27;t Fix
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/3" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-04T19:48:10.587832+00:00" title="2024-01-04 19:48:10 UTC">on 2024-01-04</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/3"> #3</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Please be aware that reports of suspected vulnerabilities in Murano&#x27;s deliverables aren&#x27;t officially overseen by the OpenStack VMT, and so won&#x27;t be producing any public advisory, but we remain available to assist with coordination on a best effort basis at the Murano team&#x27;s request. <a rel="nofollow" href="https://security.openstack.org/repos-overseen.html#repositories-overseen">https:/<wbr />/security.<wbr />openstack.<wbr />org/repos-<wbr />overseen.<wbr />html#repositori<wbr />es-overseen</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Please be aware that reports of suspected vulnerabilities in Murano's deliverables aren't officially overseen by the OpenStack VMT, and so won't be producing any public advisory, but we remain available to assist with coordination on a best effort basis at the Murano team's request. https://security.openstack.org/repos-overseen.html#repositories-overseen</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/4" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-01-05T16:01:06.322776+00:00" title="2024-01-05 16:01:06 UTC">on 2024-01-05</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/4"> #4</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve also subscribed kirualawliet, the original reporter.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've also subscribed kirualawliet, the original reporter.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/5" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirualawliet" class="sprite person">kirualawliet (kirualawliet)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-12T10:21:32+00:00" title="2024-02-12 10:21:32 UTC">on 2024-02-12</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/murano/+bug/2048114/comments/5">
                <strong>Re: [Bug 2048114] Re: OpenStack Murano Component Information Leakage</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/5"> #5</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/murano/+bug/2048114/comments/5/+download">Download full text</a> (3.5 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Hello Jeremy Stanley,<br />
&nbsp;&nbsp;&nbsp;&nbsp;I wanted to know whether the Murano team has received information<br />
regarding the vulnerability. I haven&#x27;t seen any progress on the<br />
vulnerability fix on Launchpad and would like to understand the current<br />
situation. Our plan is to disclose the technical details of the<br />
vulnerability publicly one month from now if there are no intentions to<br />
address it.<br />
Best regards,<br />
lawliet</p>
<p>On Sat, 6 Jan 2024 at 00:10, Jeremy Stanley &lt;email address hidden&gt;<br />
wrote:</p>
<p><span class="foldable-quoted">&gt; I&#x27;ve also subscribed kirualawliet, the original reporter.<br />
&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are subscribed to the bug<br />
&gt; report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/2048114">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />2048114</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   OpenStack Murano Component Information Leakage<br />
&gt;<br />
&gt; Status in Murano:<br />
&gt;   New<br />
&gt; Status in OpenStack Security Advisory:<br />
&gt;   Won&#x27;t Fix<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   Members of the VMT received the following report by E-mail from<br />
&gt;   &quot;kirualawliet l&quot;:<br />
&gt;<br />
&gt;   Title: OpenStack Murano Component Information Leakage<br />
&gt;<br />
&gt;   Reporter: lawliet and edwardpeng(<wbr />@edwardzpeng) from Sangfor Security<br />
&gt;   Research Team<br />
&gt;<br />
&gt;   Products: OpenStack Murano Component<br />
&gt;<br />
&gt;   Affects: All versions of Murano Component<br />
&gt;<br />
&gt;   Description:<br />
&gt;<br />
&gt;   The Sangfor Security Research Team has identified a critical security<br />
&gt;   vulnerability in the Murano component of OpenStack. This vulnerability<br />
&gt;   allows ordinary users capable of importing and deploying app packages<br />
&gt;   to access sensitive information within OpenStack services.<br />
&gt;   Specifically, through this exploit, unauthorized users can obtain<br />
&gt;   Murano service account credentials, potentially escalating their<br />
&gt;   privileges to an administrator level. Subsequently, unauthorized users<br />
&gt;   can gain complete control over various resources, including user<br />
&gt;   roles, hosts, and networks.<br />
&gt;<br />
&gt;   The vulnerability stems from the Murano service&#x27;s reliance on<br />
&gt;   MuranoPL, an extension of the YAQL language. The YAQL library includes<br />
&gt;   a &#x27;format&#x27; function that mirrors Python&#x27;s &#x27;str.format&#x27; method,<br />
&gt;   enabling attribute access.<br />
&gt;<br />
&gt;   ```python<br />
&gt;   # code snippet from yaql-2.<wbr />0.0\standard_<wbr />library\<wbr />strings.<wbr />py:569<br />
&gt;   @specs.<wbr />parameter(<wbr />&#x27;__format_<wbr />string&#x27;<wbr />, yaqltypes.String())<br />
&gt;   @specs.<wbr />extension_<wbr />method<br />
&gt;   def format_<wbr />(__format_<wbr />string, *args, **kwargs):<br />
&gt;       ...<br />
&gt;       return __format_<wbr />string.<wbr />format(<wbr />*args, **kwargs)<br />
&gt;   ```<br />
&gt;<br />
&gt;   An example of this vulnerability includes:<br />
&gt;<br />
&gt;   ```<br />
&gt;   &gt;&gt;&gt; secret_key = &quot;abcd1234&quot;<br />
&gt;   &gt;&gt;&gt; class Test:<br />
&gt;   ...     def __init__(self):<br />
&gt;   ...             pass<br />
&gt;   ...<br />
&gt;   &gt;&gt;&gt; t = Test()<br />
&gt;   &gt;&gt;&gt; # Exploiting the vulnerability to expose sensitive data:<br />
&gt;   &gt;&gt;&gt; malicious_<wbr />format_<wbr />string =<br />
&gt; &#x27;{0.__class_<wbr />_.__init_<wbr />_.__globals_<wbr />_[secret_<wbr />key]}&#x27;<br />
&gt;   &gt;&gt;&gt; formatted_output = malicious_<wbr />format_<wbr />string.<wbr />format(<wbr />t)<br />
&gt;   &gt;&gt;&gt; print(formatted<wbr />_output)  # This line reveals the value of secret_key<br />
&gt;   &#x27;abcd1234&#x27;<br />
&gt;   ```<br />
&gt;<br />
&gt;   This exploit allows access to Murano service&#x27;s oslo configuration<br />
&gt;   storage, thereby exposing critical Murano service account credentials,<br />
&gt;   granting unauthorized users administrative privileges.<br />
&gt;<br />
&gt;   We believe no deployment mode is immune to this vulnerability. To<br />
&gt;   ensure system security, we recommend immediate attention and<br />
&gt;   remediation...
</span></p></div>
    
    <p>
      <a href="/murano/+bug/2048114/comments/5">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Hello Jeremy Stanley,
    I wanted to know whether the Murano team has received information
regarding the vulnerability. I haven't seen any progress on the
vulnerability fix on Launchpad and would like to understand the current
situation. Our plan is to disclose the technical details of the
vulnerability publicly one month from now if there are no intentions to
address it.
Best regards,
lawliet

On Sat, 6 Jan 2024 at 00:10, Jeremy Stanley &lt;2048114@bugs.launchpad.net&gt;
wrote:

&gt; I've also subscribed kirualawliet, the original reporter.
&gt;
&gt; --
&gt; You received this bug notification because you are subscribed to the bug
&gt; report.
&gt; https://bugs.launchpad.net/bugs/2048114
&gt;
&gt; Title:
&gt;   OpenStack Murano Component Information Leakage
&gt;
&gt; Status in Murano:
&gt;   New
&gt; Status in OpenStack Security Advisory:
&gt;   Won't Fix
&gt;
&gt; Bug description:
&gt;   Members of the VMT received the following report by E-mail from
&gt;   "kirualawliet l":
&gt;
&gt;   Title: OpenStack Murano Component Information Leakage
&gt;
&gt;   Reporter: lawliet and edwardpeng(@edwardzpeng) from Sangfor Security
&gt;   Research Team
&gt;
&gt;   Products: OpenStack Murano Component
&gt;
&gt;   Affects: All versions of Murano Component
&gt;
&gt;   Description:
&gt;
&gt;   The Sangfor Security Research Team has identified a critical security
&gt;   vulnerability in the Murano component of OpenStack. This vulnerability
&gt;   allows ordinary users capable of importing and deploying app packages
&gt;   to access sensitive information within OpenStack services.
&gt;   Specifically, through this exploit, unauthorized users can obtain
&gt;   Murano service account credentials, potentially escalating their
&gt;   privileges to an administrator level. Subsequently, unauthorized users
&gt;   can gain complete control over various resources, including user
&gt;   roles, hosts, and networks.
&gt;
&gt;   The vulnerability stems from the Murano service's reliance on
&gt;   MuranoPL, an extension of the YAQL language. The YAQL library includes
&gt;   a 'format' function that mirrors Python's 'str.format' method,
&gt;   enabling attribute access.
&gt;
&gt;   ```python
&gt;   # code snippet from yaql-2.0.0\standard_library\strings.py:569
&gt;   @specs.parameter('__format_string', yaqltypes.String())
&gt;   @specs.extension_method
&gt;   def format_(__format_string, *args, **kwargs):
&gt;       ...
&gt;       return __format_string.format(*args, **kwargs)
&gt;   ```
&gt;
&gt;   An example of this vulnerability includes:
&gt;
&gt;   ```
&gt;   &gt;&gt;&gt; secret_key = "abcd1234"
&gt;   &gt;&gt;&gt; class Test:
&gt;   ...     def __init__(self):
&gt;   ...             pass
&gt;   ...
&gt;   &gt;&gt;&gt; t = Test()
&gt;   &gt;&gt;&gt; # Exploiting the vulnerability to expose sensitive data:
&gt;   &gt;&gt;&gt; malicious_format_string =
&gt; '{0.__class__.__init__.__globals__[secret_key]}'
&gt;   &gt;&gt;&gt; formatted_output = malicious_format_string.format(t)
&gt;   &gt;&gt;&gt; print(formatted_output)  # This line reveals the value of secret_key
&gt;   'abcd1234'
&gt;   ```
&gt;
&gt;   This exploit allows access to Murano service's oslo configuration
&gt;   storage, thereby exposing critical Murano service account credentials,
&gt;   granting unauthorized users administrative privileges.
&gt;
&gt;   We believe no deployment mode is immune to this vulnerability. To
&gt;   ensure system security, we recommend immediate attention and
&gt;   remediation of this vulnerability within the OpenStack Murano
&gt;   component. Our team stands ready to offer assistance and collaboration
&gt;   in addressing and resolving this issue promptly.
&gt;
&gt;   Thank you for your prompt attention to this matter.
&gt;
&gt;   Sincerely,
&gt;   kirualawliet
&gt;   Sangfor Security Research Team
&gt;
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/murano/+bug/2048114/+subscriptions
&gt;
&gt;
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/6" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-20T19:31:30.443842+00:00" title="2024-02-20 19:31:30 UTC">on 2024-02-20</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/murano/+bug/2048114/comments/6">
                <strong>Re: OpenStack Murano Component Information Leakage</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/6"> #6</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Sorry for the delay in responding. There was a bit of a leadership crisis for Murano, and nobody in the existing group authorized to see this report was around to look into the issue you reported. In the past 24 hours, some headway was made in adding an active contributor to that group, so hopefully they&#x27;ll be able to weigh in on the associated scope and risk for this soon.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Sorry for the delay in responding. There was a bit of a leadership crisis for Murano, and nobody in the existing group authorized to see this report was around to look into the issue you reported. In the past 24 hours, some headway was made in adding an active contributor to that group, so hopefully they'll be able to weigh in on the associated scope and risk for this soon.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/7" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andybotting" class="sprite person">Andy Botting (andybotting)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-20T22:02:11.307492+00:00" title="2024-02-20 22:02:11 UTC">on 2024-02-20</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/7"> #7</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks @kirualawliet for reporting this issue.</p>
<p>It does look quite serious if the oslo configuration context is able to be accessed from users own packages.</p>
<p>Your original post shows accessing the YAQL format method via a python shell, but can you demonstrate that the oslo configuration is able to be accessed from a Murano package?</p>
<p>Have you actually developed an app I can run against a running Murano service as a proof of concept?</p>
<p>Thanks,<br />
Andy</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks @kirualawliet for reporting this issue.

It does look quite serious if the oslo configuration context is able to be accessed from users own packages.

Your original post shows accessing the YAQL format method via a python shell, but can you demonstrate that the oslo configuration is able to be accessed from a Murano package?

Have you actually developed an app I can run against a running Murano service as a proof of concept?

Thanks,
Andy </textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/8" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirualawliet" class="sprite person">kirualawliet (kirualawliet)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-22T02:35:48.774082+00:00" title="2024-02-22 02:35:48 UTC">on 2024-02-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/8"> #8</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5748292/+files/app_mysql_murano_leak_info_credit.zip" class="sprite download-icon">app_mysql_murano_leak_info_credit.zip</a>
        <a class="sprite edit action-icon" href="/murano/+bug/2048114/+attachment/5748292">Edit</a>
        
        (11.8 KiB,
        application/zip)
        
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Okay, please upload and deploy the zip file in the attachment to Murano. The deployment process will encounter errors. Please check the deployment logs. If everything goes smoothly, you should be able to see the leaked Oslo configuration in the deployment logs.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Okay, please upload and deploy the zip file in the attachment to Murano. The deployment process will encounter errors. Please check the deployment logs. If everything goes smoothly, you should be able to see the leaked Oslo configuration in the deployment logs.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/9" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andybotting" class="sprite person">Andy Botting (andybotting)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-22T04:02:49.414636+00:00" title="2024-02-22 04:02:49 UTC">on 2024-02-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/9"> #9</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Thanks @kirualawliet. I can confirm it does leak the server&#x27;s oslo config.</p>
<p>I can see my Keystone auth, database and RabbitMQ passwords in there.</p>
<p>Looks like this is a serious one then.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Thanks @kirualawliet. I can confirm it does leak the server's oslo config.

I can see my Keystone auth, database and RabbitMQ passwords in there. 

Looks like this is a serious one then.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~andybotting" class="sprite person">Andy Botting (andybotting)</a>
    
    <time title="2024-02-22 04:15:26 UTC" datetime="2024-02-22T04:15:26.419123+00:00">on 2024-02-22</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Private
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private &#8594; Private Security
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/10" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andybotting" class="sprite person">Andy Botting (andybotting)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-22T05:21:57.654307+00:00" title="2024-02-22 05:21:57 UTC">on 2024-02-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/10"> #10</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@jeremy Can you please add launchpad id: waipengyip to this bug?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@jeremy Can you please add launchpad id: waipengyip to this bug?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/11" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-22T14:34:08.457871+00:00" title="2024-02-22 14:34:08 UTC">on 2024-02-22</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/11"> #11</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Added, but in future you should feel free to subscribe subject matter experts yourself when their input is needed on such bug reports.</p>
<p>Also, just to reiterate what I stated in comment #3, the VMT doesn&#x27;t officially oversee or coordinate vulnerability reports for Murano, though we&#x27;re happy to assist on a best-effort basis when requested.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Added, but in future you should feel free to subscribe subject matter experts yourself when their input is needed on such bug reports.

Also, just to reiterate what I stated in comment #3, the VMT doesn't officially oversee or coordinate vulnerability reports for Murano, though we're happy to assist on a best-effort basis when requested.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/12" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirualawliet" class="sprite person">kirualawliet (kirualawliet)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-23T07:43:33+00:00" title="2024-02-23 07:43:33 UTC">on 2024-02-23</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/murano/+bug/2048114/comments/12">
                <strong>Re: [Bug 2048114] Re: OpenStack Murano Component Information Leakage</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/12"> #12</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/murano/+bug/2048114/comments/12/+download">Download full text</a> (3.9 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Yes, I have reviewed the announcement and understand that Murano is<br />
currently not overseen by VMT. However, I recently learned that a cloud<br />
platform developed by a certain cloud provider based on OpenStack Murano is<br />
also affected by this vulnerability, we had identified a few case in China.<br />
The vulnerability poses a significant risk, in order to prevent users from<br />
suffering losses, if possible, please apply for a CVE and try to issue a<br />
security advisory to remind users to update security patches promptly.</p>
<p>On Thu, 22 Feb 2024 at 22:40, Jeremy Stanley &lt;email address hidden&gt;<br />
wrote:</p>
<p><span class="foldable-quoted">&gt; Added, but in future you should feel free to subscribe subject matter<br />
&gt; experts yourself when their input is needed on such bug reports.<br />
&gt;<br />
&gt; Also, just to reiterate what I stated in comment #3, the VMT doesn&#x27;t<br />
&gt; officially oversee or coordinate vulnerability reports for Murano,<br />
&gt; though we&#x27;re happy to assist on a best-effort basis when requested.<br />
&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are subscribed to the bug<br />
&gt; report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/2048114">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />2048114</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   OpenStack Murano Component Information Leakage<br />
&gt;<br />
&gt; Status in Murano:<br />
&gt;   New<br />
&gt; Status in OpenStack Security Advisory:<br />
&gt;   Won&#x27;t Fix<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   Members of the VMT received the following report by E-mail from<br />
&gt;   &quot;kirualawliet l&quot;:<br />
&gt;<br />
&gt;   Title: OpenStack Murano Component Information Leakage<br />
&gt;<br />
&gt;   Reporter: lawliet and edwardpeng(<wbr />@edwardzpeng) from Sangfor Security<br />
&gt;   Research Team<br />
&gt;<br />
&gt;   Products: OpenStack Murano Component<br />
&gt;<br />
&gt;   Affects: All versions of Murano Component<br />
&gt;<br />
&gt;   Description:<br />
&gt;<br />
&gt;   The Sangfor Security Research Team has identified a critical security<br />
&gt;   vulnerability in the Murano component of OpenStack. This vulnerability<br />
&gt;   allows ordinary users capable of importing and deploying app packages<br />
&gt;   to access sensitive information within OpenStack services.<br />
&gt;   Specifically, through this exploit, unauthorized users can obtain<br />
&gt;   Murano service account credentials, potentially escalating their<br />
&gt;   privileges to an administrator level. Subsequently, unauthorized users<br />
&gt;   can gain complete control over various resources, including user<br />
&gt;   roles, hosts, and networks.<br />
&gt;<br />
&gt;   The vulnerability stems from the Murano service&#x27;s reliance on<br />
&gt;   MuranoPL, an extension of the YAQL language. The YAQL library includes<br />
&gt;   a &#x27;format&#x27; function that mirrors Python&#x27;s &#x27;str.format&#x27; method,<br />
&gt;   enabling attribute access.<br />
&gt;<br />
&gt;   ```python<br />
&gt;   # code snippet from yaql-2.<wbr />0.0\standard_<wbr />library\<wbr />strings.<wbr />py:569<br />
&gt;   @specs.<wbr />parameter(<wbr />&#x27;__format_<wbr />string&#x27;<wbr />, yaqltypes.String())<br />
&gt;   @specs.<wbr />extension_<wbr />method<br />
&gt;   def format_<wbr />(__format_<wbr />string, *args, **kwargs):<br />
&gt;       ...<br />
&gt;       return __format_<wbr />string.<wbr />format(<wbr />*args, **kwargs)<br />
&gt;   ```<br />
&gt;<br />
&gt;   An example of this vulnerability includes:<br />
&gt;<br />
&gt;   ```<br />
&gt;   &gt;&gt;&gt; secret_key = &quot;abcd1234&quot;<br />
&gt;   &gt;&gt;&gt; class Test:<br />
&gt;   ...     def __init__(self):<br />
&gt;   ...             pass<br />
&gt;   ...<br />
&gt;   &gt;&gt;&gt; t = Test()<br />
&gt;   &gt;&gt;&gt; # Exploiting the vulnerability to expose sensitive data:<br />
&gt;   &gt;&gt;&gt; malicious_<wbr />format_<wbr />string =<br />
&gt; &#x27;{0.__class_<wbr />_.__init_<wbr />_.__globals_<wbr />_[secret_<wbr />key]}&#x27;<br />
&gt;   &gt;&gt;&gt; formatted_output = malicious_<wbr />format_<wbr />string.<wbr />format(<wbr />t)<br />
&gt;   &gt;&gt;&gt; print(formatted<wbr />_output)  # This line reveals ...
</span></p></div>
    
    <p>
      <a href="/murano/+bug/2048114/comments/12">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Yes, I have reviewed the announcement and understand that Murano is
currently not overseen by VMT. However, I recently learned that a cloud
platform developed by a certain cloud provider based on OpenStack Murano is
also affected by this vulnerability, we had identified a few case in China.
The vulnerability poses a significant risk, in order to prevent users from
suffering losses, if possible, please apply for a CVE and try to issue a
security advisory to remind users to update security patches promptly.

On Thu, 22 Feb 2024 at 22:40, Jeremy Stanley &lt;2048114@bugs.launchpad.net&gt;
wrote:

&gt; Added, but in future you should feel free to subscribe subject matter
&gt; experts yourself when their input is needed on such bug reports.
&gt;
&gt; Also, just to reiterate what I stated in comment #3, the VMT doesn't
&gt; officially oversee or coordinate vulnerability reports for Murano,
&gt; though we're happy to assist on a best-effort basis when requested.
&gt;
&gt; --
&gt; You received this bug notification because you are subscribed to the bug
&gt; report.
&gt; https://bugs.launchpad.net/bugs/2048114
&gt;
&gt; Title:
&gt;   OpenStack Murano Component Information Leakage
&gt;
&gt; Status in Murano:
&gt;   New
&gt; Status in OpenStack Security Advisory:
&gt;   Won't Fix
&gt;
&gt; Bug description:
&gt;   Members of the VMT received the following report by E-mail from
&gt;   "kirualawliet l":
&gt;
&gt;   Title: OpenStack Murano Component Information Leakage
&gt;
&gt;   Reporter: lawliet and edwardpeng(@edwardzpeng) from Sangfor Security
&gt;   Research Team
&gt;
&gt;   Products: OpenStack Murano Component
&gt;
&gt;   Affects: All versions of Murano Component
&gt;
&gt;   Description:
&gt;
&gt;   The Sangfor Security Research Team has identified a critical security
&gt;   vulnerability in the Murano component of OpenStack. This vulnerability
&gt;   allows ordinary users capable of importing and deploying app packages
&gt;   to access sensitive information within OpenStack services.
&gt;   Specifically, through this exploit, unauthorized users can obtain
&gt;   Murano service account credentials, potentially escalating their
&gt;   privileges to an administrator level. Subsequently, unauthorized users
&gt;   can gain complete control over various resources, including user
&gt;   roles, hosts, and networks.
&gt;
&gt;   The vulnerability stems from the Murano service's reliance on
&gt;   MuranoPL, an extension of the YAQL language. The YAQL library includes
&gt;   a 'format' function that mirrors Python's 'str.format' method,
&gt;   enabling attribute access.
&gt;
&gt;   ```python
&gt;   # code snippet from yaql-2.0.0\standard_library\strings.py:569
&gt;   @specs.parameter('__format_string', yaqltypes.String())
&gt;   @specs.extension_method
&gt;   def format_(__format_string, *args, **kwargs):
&gt;       ...
&gt;       return __format_string.format(*args, **kwargs)
&gt;   ```
&gt;
&gt;   An example of this vulnerability includes:
&gt;
&gt;   ```
&gt;   &gt;&gt;&gt; secret_key = "abcd1234"
&gt;   &gt;&gt;&gt; class Test:
&gt;   ...     def __init__(self):
&gt;   ...             pass
&gt;   ...
&gt;   &gt;&gt;&gt; t = Test()
&gt;   &gt;&gt;&gt; # Exploiting the vulnerability to expose sensitive data:
&gt;   &gt;&gt;&gt; malicious_format_string =
&gt; '{0.__class__.__init__.__globals__[secret_key]}'
&gt;   &gt;&gt;&gt; formatted_output = malicious_format_string.format(t)
&gt;   &gt;&gt;&gt; print(formatted_output)  # This line reveals the value of secret_key
&gt;   'abcd1234'
&gt;   ```
&gt;
&gt;   This exploit allows access to Murano service's oslo configuration
&gt;   storage, thereby exposing critical Murano service account credentials,
&gt;   granting unauthorized users administrative privileges.
&gt;
&gt;   We believe no deployment mode is immune to this vulnerability. To
&gt;   ensure system security, we recommend immediate attention and
&gt;   remediation of this vulnerability within the OpenStack Murano
&gt;   component. Our team stands ready to offer assistance and collaboration
&gt;   in addressing and resolving this issue promptly.
&gt;
&gt;   Thank you for your prompt attention to this matter.
&gt;
&gt;   Sincerely,
&gt;   kirualawliet
&gt;   Sangfor Security Research Team
&gt;
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/murano/+bug/2048114/+subscriptions
&gt;
&gt;
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/13" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andybotting" class="sprite person">Andy Botting (andybotting)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-23T08:02:45.474935+00:00" title="2024-02-23 08:02:45 UTC">on 2024-02-23</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/murano/+bug/2048114/comments/13">
                <strong>Re: OpenStack Murano Component Information Leakage</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/13"> #13</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>With the lack of community participation in Murano, this may not get fixed. I hope to look into the code when I get time, but I&#x27;m not sure when that might be.</p>
<p>For our cloud, we&#x27;re simply going to change the policy to prevent all users from uploading packages and that process will be performed by admins who can check the code first.<br />
L</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">With the lack of community participation in Murano, this may not get fixed. I hope to look into the code when I get time, but I'm not sure when that might be.

For our cloud, we're simply going to change the policy to prevent all users from uploading packages and that process will be performed by admins who can check the code first.
L</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/14" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~waipengyip" class="sprite person">Jake Yip (waipengyip)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-23T09:10:24.041504+00:00" title="2024-02-23 09:10:24 UTC">on 2024-02-23</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/14"> #14</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Sorry Jeremy, I had mistakenly thought that only you can add people to security bugs, as my previous access to security bugs were all added by you. Now I know anyone already watching can add.<br />
- Jake</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Sorry Jeremy, I had mistakenly thought that only you can add people to security bugs, as my previous access to security bugs were all added by you. Now I know anyone already watching can add.
- Jake</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/15" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-02-26T22:35:19.417539+00:00" title="2024-02-26 22:35:19 UTC">on 2024-02-26</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/15"> #15</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Given this seems to be a serious confirmed vulnerability for any deployment which allows users to upload apps, and it has been spotted by one independent researcher already, it could easily be known to others with more nefarious intentions as well.</p>
<p>The responsible course of action, if there is currently nobody with time to prioritize immediate development and backporting of a fix, is to switch this report to public and that way at least operators of the service can be informed so that they have the opportunity to disable app uploads or or remove Murano from their networks entirely. Leaving this private in hopes one of the few people who are aware of it will find time to eventually work on a patch is, unfortunately, not a viable strategy. Bringing it to the wider community might also help avoid releasing OpenStack 2024.1 with this known vulnerability.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Given this seems to be a serious confirmed vulnerability for any deployment which allows users to upload apps, and it has been spotted by one independent researcher already, it could easily be known to others with more nefarious intentions as well.

The responsible course of action, if there is currently nobody with time to prioritize immediate development and backporting of a fix, is to switch this report to public and that way at least operators of the service can be informed so that they have the opportunity to disable app uploads or or remove Murano from their networks entirely. Leaving this private in hopes one of the few people who are aware of it will find time to eventually work on a patch is, unfortunately, not a viable strategy. Bringing it to the wider community might also help avoid releasing OpenStack 2024.1 with this known vulnerability.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/16" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirualawliet" class="sprite person">kirualawliet (kirualawliet)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-01T03:04:10.618047+00:00" title="2024-03-01 03:04:10 UTC">on 2024-03-01</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/16"> #16</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Agreeing with @Jeremy, therefore, if the vulnerability remains unresolved, according to openstack vulnerability management process and our plans, the vulnerability information will be disclosed 90 days after it was submitted, starting from January 4, 2024, namely, after April 4, 2024, to alert users of the Murano project to take preventive actions to avoid potential exploitation by malicious attackers resulting in losses.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Agreeing with @Jeremy, therefore, if the vulnerability remains unresolved, according to openstack vulnerability management process and our plans, the vulnerability information will be disclosed 90 days after it was submitted, starting from January 4, 2024, namely, after April 4, 2024, to alert users of the Murano project to take preventive actions to avoid potential exploitation by malicious attackers resulting in losses.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/17" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-06T21:22:30.558271+00:00" title="2024-03-06 21:22:30 UTC">on 2024-03-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/17"> #17</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve subscribed Jay Faulkner and Dan Smith from the OpenStack Technical Committee, at their request.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've subscribed Jay Faulkner and Dan Smith from the OpenStack Technical Committee, at their request.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/18" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jason-oldos" class="sprite person">Jay Faulkner (jason-oldos)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-06T21:51:15.092918+00:00" title="2024-03-06 21:51:15 UTC">on 2024-03-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/18"> #18</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>We are planning to take the following actions:<br />
- Coordinate an OSSN, notifying users of a major Murano vulnerability with no immediate intention to fix, and that we recommend uninstalling Murano from the cloud. It will include a date when the bug will be opened and details provided.<br />
- At that date, file an unredacted OSSN, detailing the vulnerability, and open this bug.<br />
- Hope that users took us seriously and uninstalled Murano :(</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">We are planning to take the following actions:
- Coordinate an OSSN, notifying users of a major Murano vulnerability with no immediate intention to fix, and that we recommend uninstalling Murano from the cloud. It will include a date when the bug will be opened and details provided.
- At that date, file an unredacted OSSN, detailing the vulnerability, and open this bug.
- Hope that users took us seriously and uninstalled Murano :(</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/19" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-06T23:44:35.998614+00:00" title="2024-03-06 23:44:35 UTC">on 2024-03-06</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/19"> #19</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Clark (now subscribed) pointed out to me that Heat and Mistral also appear to allow users to submit custom YAQL. It would be good to loop in representatives from those projects to perform a cursory check for whether they&#x27;re also affected by similar issues that need addressing before we disclose this.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Clark (now subscribed) pointed out to me that Heat and Mistral also appear to allow users to submit custom YAQL. It would be good to loop in representatives from those projects to perform a cursory check for whether they're also affected by similar issues that need addressing before we disclose this.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/20" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-07T00:00:15.238033+00:00" title="2024-03-07 00:00:15 UTC">on 2024-03-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/20"> #20</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve subscribed Takashi Kajinami (Heat PTL) and Axel Vanzaghi (Mistral PTL) in hopes they have time to take a look and determine whether those services may have similar unsafe handling of user-supplied YAQL. Please feel free to subscribe other subject matter experts as needed in order to make the determination.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've subscribed Takashi Kajinami (Heat PTL) and Axel Vanzaghi (Mistral PTL) in hopes they have time to take a look and determine whether those services may have similar unsafe handling of user-supplied YAQL. Please feel free to subscribe other subject matter experts as needed in order to make the determination.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/21" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-07T13:10:10.206006+00:00" title="2024-03-07 13:10:10 UTC">on 2024-03-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/21"> #21</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>So I checked the example murano resources and it seems we can reproduce a similar behavior in heat. (example template and the resource show result are being attached).</p>
<p>One key difference is that in heat we explicitly pass a dictionary value[1], which makes yaql create a new frozendict instance[2]. So __globals__ does not get access to code in heat, but only instances available in [2] which do not contain severely sensitive information such as CONF.</p>
<p>[1] <a rel="nofollow" href="https://github.com/openstack/heat/blob/9da45ab44bb985c633d246ba9132f1ccc5831cfd/heat/engine/hot/functions.py#L1238">https:/<wbr />/github.<wbr />com/openstack/<wbr />heat/blob/<wbr />9da45ab44bb985c<wbr />633d246ba9132f1<wbr />ccc5831cfd/<wbr />heat/engine/<wbr />hot/functions.<wbr />py#L1238</a><br />
[2] <a rel="nofollow" href="https://github.com/openstack/yaql/blob/0d63eb1346c829c0ce818dd2e00590af6330a0f3/yaql/language/utils.py#L75-L76">https:/<wbr />/github.<wbr />com/openstack/<wbr />yaql/blob/<wbr />0d63eb1346c829c<wbr />0ce818dd2e00590<wbr />af6330a0f3/<wbr />yaql/language/<wbr />utils.py#<wbr />L75-L76</a></p>
<p>However it still leaks a few system information like python versions or python path. What we can probably attempt here is to update yaql to reject a specific pattern like &#x27;{\s+.__\s+__\s+}&#x27; to avoid access to built-in functions. It should not break any existing valid usage in heat, at least.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">So I checked the example murano resources and it seems we can reproduce a similar behavior in heat. (example template and the resource show result are being attached).

One key difference is that in heat we explicitly pass a dictionary value[1], which makes yaql create a new frozendict instance[2]. So __globals__ does not get access to code in heat, but only instances available in [2] which do not contain severely sensitive information such as CONF.

[1] https://github.com/openstack/heat/blob/9da45ab44bb985c633d246ba9132f1ccc5831cfd/heat/engine/hot/functions.py#L1238
[2] https://github.com/openstack/yaql/blob/0d63eb1346c829c0ce818dd2e00590af6330a0f3/yaql/language/utils.py#L75-L76

However it still leaks a few system information like python versions or python path. What we can probably attempt here is to update yaql to reject a specific pattern like '{\s+.__\s+__\s+}' to avoid access to built-in functions. It should not break any existing valid usage in heat, at least.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/22" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-07T13:10:40.094075+00:00" title="2024-03-07 13:10:40 UTC">on 2024-03-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/22"> #22</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5753786/+files/yaqltest.yaml" class="sprite download-icon">Example heat template with yaql format function</a>
        <a class="sprite edit action-icon" href="/murano/+bug/2048114/+attachment/5753786">Edit</a>
        
        (241 bytes,
        text/plain)
        
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/23" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-07T13:11:36.586673+00:00" title="2024-03-07 13:11:36 UTC">on 2024-03-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/23"> #23</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5753787/+files/yaqltest.yaml" class="sprite download-icon">Example heat template with yaql format function</a>
        <a class="sprite edit action-icon" href="/murano/+bug/2048114/+attachment/5753787">Edit</a>
        
        (241 bytes,
        text/plain)
        
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/24" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-07T13:12:04.353680+00:00" title="2024-03-07 13:12:04 UTC">on 2024-03-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/24"> #24</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5753788/+files/console.log" class="sprite download-icon">Result of openstack resource show which contains format function result</a>
        <a class="sprite edit action-icon" href="/murano/+bug/2048114/+attachment/5753788">Edit</a>
        
        (10.5 KiB,
        text/plain)
        
      </li>
    </ul>

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10"></textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/25" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-07T15:11:55.203897+00:00" title="2024-03-07 15:11:55 UTC">on 2024-03-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/25"> #25</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ll readily admit I got a bit lost trying to trace through YAQL&#x27;s overloaded eval() replacement, but my concern is that making it safe to pass user-supplied strings through eval() is like trying to plug holes in a leaky boat at sea. This article gives some great examples: <a rel="nofollow" href="https://nedbatchelder.com/blog/201206/eval_really_is_dangerous.html">https:/<wbr />/nedbatchelder.<wbr />com/blog/<wbr />201206/<wbr />eval_really_<wbr />is_dangerous.<wbr />html</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I'll readily admit I got a bit lost trying to trace through YAQL's overloaded eval() replacement, but my concern is that making it safe to pass user-supplied strings through eval() is like trying to plug holes in a leaky boat at sea. This article gives some great examples: https://nedbatchelder.com/blog/201206/eval_really_is_dangerous.html</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossn: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; Confirmed
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Jeremy Stanley (fungi)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/26" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~danms" class="sprite person">Dan Smith (danms)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-07T17:45:22.512798+00:00" title="2024-03-07 17:45:22 UTC">on 2024-03-07</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/26"> #26</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Yeah, agree. I think you might be able to prevent certain behaviors, but I think it would be hard to call this fixed if you&#x27;re still using eval in any way in code that processes user-supplied input.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Yeah, agree. I think you might be able to prevent certain behaviors, but I think it would be hard to call this fixed if you're still using eval in any way in code that processes user-supplied input.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/27" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-08T02:20:47.587002+00:00" title="2024-03-08 02:20:47 UTC">on 2024-03-08</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2024-03-08T02:22:09.053449+00:00" title="2024-03-08 02:22:09 UTC">on 2024-03-08</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/27"> #27</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>The overall problem is caused by the format method which internally does eval... I&#x27;m unsure if we can restrict the behavior in format or replace it without breaking the existing usage such as &quot;{0}_{1}&quot; or &quot;{foo}_{bar}&quot;.</p>
<p>As a safe guard we can introduce an option to disable the format function completely. However it may affect any deployment, where a user is using the format yaql function with valid &quot;safe&quot; usage.</p>
<p><a rel="nofollow" href="https://github.com/openstack/yaql/blob/0d63eb1346c829c0ce818dd2e00590af6330a0f3/yaql/standard_library/strings.py#L567-L596">https:/<wbr />/github.<wbr />com/openstack/<wbr />yaql/blob/<wbr />0d63eb1346c829c<wbr />0ce818dd2e00590<wbr />af6330a0f3/<wbr />yaql/standard_<wbr />library/<wbr />strings.<wbr />py#L567-<wbr />L596</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">The overall problem is caused by the format method which internally does eval... I'm unsure if we can restrict the behavior in format or replace it without breaking the existing usage such as "{0}_{1}" or "{foo}_{bar}".

As a safe guard we can introduce an option to disable the format function completely. However it may affect any deployment, where a user is using the format yaql function with valid "safe" usage.

https://github.com/openstack/yaql/blob/0d63eb1346c829c0ce818dd2e00590af6330a0f3/yaql/standard_library/strings.py#L567-L596</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/28" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-08T02:29:18.232415+00:00" title="2024-03-08 02:29:18 UTC">on 2024-03-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/28"> #28</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>So there a few options I can think of</p>
<p>1. Drop format function<br />
&nbsp;- This breaks existing usage with format function and thus causes user impact<br />
&nbsp;&nbsp;- If you run public cloud with heat enable, you have to tell all of your users to modify their template when you update yaql</p>
<p>2. Make format function optional and let components enable it with understanding its risk<br />
&nbsp;- This but enabling the feature is not feasibly possible with the certain vulnerability exist</p>
<p>3. Add validation in format function to prohibit unsafe usage<br />
&nbsp;- Limiting characters within {} to 0-9a-zA-Z would be the most strict validation I can think of<br />
&nbsp;- Loosing limitation may still leave certain patterns</p>
<p>4. Any other smart way to replace format with keeping the existing base usage</p>
<p>I&#x27;m leaning towards 3, with validation which is as much strict as possible (ex. reject &quot;{[0-9a-<wbr />zA-Z]*[<wbr />^0-9a-zA-<wbr />Z}]&quot; )</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">So there a few options I can think of

1. Drop format function
 - This breaks existing usage with format function and thus causes user impact
  - If you run public cloud with heat enable, you have to tell all of your users to modify their template when you update yaql

2. Make format function optional and let components enable it with understanding its risk
 - This but enabling the feature is not feasibly possible with the certain vulnerability exist

3. Add validation in format function to prohibit unsafe usage 
 - Limiting characters within {} to 0-9a-zA-Z would be the most strict validation I can think of
 - Loosing limitation may still leave certain patterns

4. Any other smart way to replace format with keeping the existing base usage

I'm leaning towards 3, with validation which is as much strict as possible (ex. reject "{[0-9a-zA-Z]*[^0-9a-zA-Z}]" )</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/29" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~danms" class="sprite person">Dan Smith (danms)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-08T14:51:56.701343+00:00" title="2024-03-08 14:51:56 UTC">on 2024-03-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/29"> #29</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Yep, I think we&#x27;re clear on the &quot;no suitable replacement&quot; for eval. It&#x27;s why I think ever using eval for something should be avoided and I&#x27;m surprised to see it here.</p>
<p>To me, this is not solved without removing that functionality. Hampering it is mere mitigation. I agree that #3 seems like it should be un-bypassable, but the thing you&#x27;re trying to gate off is pretty dangerous and once this gets disclosed, anyone who didn&#x27;t think to try leveraging that vulnerability will surely be on the case.</p>
<p>To me #2 is the minimum mitigation to even proceed, with default to off. Perhaps #2 where enabled gets you #3 would be better. Honestly, #1 is the approach I&#x27;d take. Any of the three will require users to modify their templates I think, so you might as well go for the gold.</p>
<p>Just MHO.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Yep, I think we're clear on the "no suitable replacement" for eval. It's why I think ever using eval for something should be avoided and I'm surprised to see it here.

To me, this is not solved without removing that functionality. Hampering it is mere mitigation. I agree that #3 seems like it should be un-bypassable, but the thing you're trying to gate off is pretty dangerous and once this gets disclosed, anyone who didn't think to try leveraging that vulnerability will surely be on the case.

To me #2 is the minimum mitigation to even proceed, with default to off. Perhaps #2 where enabled gets you #3 would be better. Honestly, #1 is the approach I'd take. Any of the three will require users to modify their templates I think, so you might as well go for the gold.

Just MHO.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/30" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~jason-oldos" class="sprite person">Jay Faulkner (jason-oldos)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-08T17:57:19.276029+00:00" title="2024-03-08 17:57:19 UTC">on 2024-03-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/30"> #30</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I agree with Dan that #2+#3 is the reasonable route forward if we want to leave this functionality enabled or leave a &quot;soft landing&quot; for people while they work on different results.</p>
<p>I do not thing #3 by itself would be enough to mitigate the concern entirely for all threat models (e.g.; a public cloud).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I agree with Dan that #2+#3 is the reasonable route forward if we want to leave this functionality enabled or leave a "soft landing" for people while they work on different results.

I do not thing #3 by itself would be enough to mitigate the concern entirely for all threat models (e.g.; a public cloud).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/31" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-08T19:33:28.184605+00:00" title="2024-03-08 19:33:28 UTC">on 2024-03-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/31"> #31</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Since Axel hasn&#x27;t been available, I&#x27;ve also subscribed James Slagle, who&#x27;s been recommended for looking into the impact of this on Mistral&#x27;s use of YAQL.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Since Axel hasn't been available, I've also subscribed James Slagle, who's been recommended for looking into the impact of this on Mistral's use of YAQL.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/32" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-08T20:09:05.975471+00:00" title="2024-03-08 20:09:05 UTC">on 2024-03-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/32"> #32</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>If we&#x27;re going with a backward-<wbr />incompatible breaking behavior change to YAQL, we should ideally do that in a 3.0.0 release before OpenStack 2024.1 happens. At this point we&#x27;re already a week into the requirements freeze, and will need a freeze exception, which means merging and tagging the &quot;fix&quot; as soon as possible.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">If we're going with a backward-incompatible breaking behavior change to YAQL, we should ideally do that in a 3.0.0 release before OpenStack 2024.1 happens. At this point we're already a week into the requirements freeze, and will need a freeze exception, which means merging and tagging the "fix" as soon as possible.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/33" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~james-slagle" class="sprite person">James Slagle (james-slagle)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-08T20:29:23.041072+00:00" title="2024-03-08 20:29:23 UTC">on 2024-03-08</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/33"> #33</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>My exposure to Mistral is from a user/deployer perspective given that TripleO used Mistral on the undercloud up through train. TripleO itself does not have any usage of yaql&#x27;s format function, with either Mistral or Heat templates.</p>
<p>That being said, Mistral does allow users to upload any YAML that may contain yaql, including usage of format. Given that, it will need a similar fix as Heat/Murano, and other services that may allow a similar behavior.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">My exposure to Mistral is from a user/deployer perspective given that TripleO used Mistral on the undercloud up through train. TripleO itself does not have any usage of yaql's format function, with either Mistral or Heat templates.

That being said, Mistral does allow users to upload any YAML that may contain yaql, including usage of format. Given that, it will need a similar fix as Heat/Murano, and other services that may allow a similar behavior.


</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/34" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-09T05:53:28.050687+00:00" title="2024-03-09 05:53:28 UTC">on 2024-03-09</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/34"> #34</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5754210/+files/bug-2048114.patch" class="sprite haspatch-icon">bug-2048114.patch</a>
        <a class="sprite edit action-icon" href="/murano/+bug/2048114/+attachment/5754210">Edit</a>
        
        (5.1 KiB,
        text/plain)
        
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>OK so I created a patch based on #2 and #3. Can anyone here review this or I may need to invite a few heat cores to ask them to review the change.</p>
<p>I&#x27;ll add a config option to heat to restore the format function, once this is merged and we get this version in u-c.</p>
<p>Note that the latest yaql requires python &gt;= 3.8, so the fix can&#x27;t be backported to older versions which still support 3.6/3.7 (stable/zed requires python &gt;= 3.8 so this may not be a problem).</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">OK so I created a patch based on #2 and #3. Can anyone here review this or I may need to invite a few heat cores to ask them to review the change.

I'll add a config option to heat to restore the format function, once this is merged and we get this version in u-c.

Note that the latest yaql requires python &gt;= 3.8, so the fix can't be backported to older versions which still support 3.6/3.7 (stable/zed requires python &gt;= 3.8 so this may not be a problem).</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/35" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~james-slagle" class="sprite person">James Slagle (james-slagle)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-11T14:25:52.576322+00:00" title="2024-03-11 14:25:52 UTC">on 2024-03-11</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/35"> #35</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve added Rabi Mishra who can also review from the Heat side</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've added Rabi Mishra who can also review from the Heat side</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
    
    <time title="2024-03-12 09:43:23 UTC" datetime="2024-03-12T09:43:23.881330+00:00">on 2024-03-12</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in yaql: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        Undecided &#8594; High
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/36" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-12T14:47:53.671006+00:00" title="2024-03-12 14:47:53 UTC">on 2024-03-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/36"> #36</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    <ul style="margin-bottom: 1em">
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5755306/+files/bug-2048114-v2.patch" class="sprite haspatch-icon">bug-2048114-v2.patch</a>
        <a class="sprite edit action-icon" href="/murano/+bug/2048114/+attachment/5755306">Edit</a>
        
        (4.1 KiB,
        text/plain)
        
      </li>
    </ul>

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I discussed this problem with Rabi and we agreed with removing the function now because it&#x27;s a huge risk to maintain the function, and if we aim to remove it in the future then removing it now does not make much difference.</p>
<p>We also learned that we can replace the format function relatively easily. For example, if you have</p>
<p>&nbsp;format(&quot;{0}-{1}&quot;, a b)</p>
<p>then you can replace it by</p>
<p>&nbsp;str(a) + &#x27;-&#x27; + str(b)</p>
<p>using + and str function in YAQL.</p>
<p>I&#x27;ve updated the patch to remove the function directly. I&#x27;m hoping to hear any feedback from Mistral (or Murano) but if I hear nothing in a few days then I&#x27;ll push this change and merge it (then request a new release of YAQL)</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I discussed this problem with Rabi and we agreed with removing the function now because it's a huge risk to maintain the function, and if we aim to remove it in the future then removing it now does not make much difference.

We also learned that we can replace the format function relatively easily. For example, if you have

 format("{0}-{1}", a b)

then you can replace it by

 str(a) + '-' + str(b)

using + and str function in YAQL.

I've updated the patch to remove the function directly. I'm hoping to hear any feedback from Mistral (or Murano) but if I hear nothing in a few days then I'll push this change and merge it (then request a new release of YAQL)</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/37" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~andybotting" class="sprite person">Andy Botting (andybotting)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-12T23:29:53.645780+00:00" title="2024-03-12 23:29:53 UTC">on 2024-03-12</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/37"> #37</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I like this approach.</p>
<p>With an easy replacement for the format() function, I&#x27;ll look to update my Murano apps and see how that goes in our environment and I&#x27;ll post my feedback shortly.</p>
<p>Thanks Takashi and Rabi!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I like this approach.

With an easy replacement for the format() function, I'll look to update my Murano apps and see how that goes in our environment and I'll post my feedback shortly.

Thanks Takashi and Rabi!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/38" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~rabi" class="sprite person">Rabi Mishra (rabi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-13T04:01:21.821018+00:00" title="2024-03-13 04:01:21 UTC">on 2024-03-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/38"> #38</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Takashi,</p>
<p>Thanks for the yaql patch attachment. It looks good to me. I&#x27;ve also proposed patches downstream to replace/fix the usage of it in TripleO.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Takashi,

Thanks for the yaql patch attachment. It looks good to me. I've also proposed patches downstream to replace/fix the usage of it in TripleO. </textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/39" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-13T06:03:55.076416+00:00" title="2024-03-13 06:03:55 UTC">on 2024-03-13</time><span class="editable-message-last-edit-date">
                <a href="#" class="editable-message-last-edit-link">(last edit <time itemprop="editTime" datetime="2024-03-13T12:57:44.678831+00:00" title="2024-03-13 12:57:44 UTC">on 2024-03-13</time>)</a>:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/39"> #39</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Based on the review done by Rabi I&#x27;ll move ahead to submit and merge the patch later today. Please leave any concerns before that.</p>
<p>One note is that we have an unrelease change which removed Python 3.6/7 support and it will be part of the security fix release we may have. In case someone has opinion about it (especially if anyone think we should remove the change so that users using older releases (&lt;zed) can upgrade yaql) then let me know.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Based on the review done by Rabi I'll move ahead to submit and merge the patch later today. Please leave any concerns before that.

One note is that we have an unrelease change which removed Python 3.6/7 support and it will be part of the security fix release we may have. In case someone has opinion about it (especially if anyone think we should remove the change so that users using older releases (&lt;zed) can upgrade yaql) then let me know.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in yaql: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>assignee</b>:
      </td>
      <td>
        nobody &#8594; Takashi Kajinami (kajinamit)
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/40" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-13T13:39:09.349641+00:00" title="2024-03-13 13:39:09 UTC">on 2024-03-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/40"> #40</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Avoiding dropping earlier Python interpreter support in order to be able to use the new YAQL with OpenStack Zed (which does still have an officially maintained stable branch at the moment) would be preferable. For unbranched libraries, it&#x27;s usually best to avoid dropping support for maintained stable branches of consumers, as without stable branches in the library and care taken with leaving gaps in version numbering we have no way to backport such fixes.</p>
<p>I have no objection to opening this bug immediately if the fix is ready to be pushed, but if anyone else participating in this discussion objects please speak up now.</p>
<p>As soon as the change (and associated reverts to restore Python 3.6/3.7 support assuming you agree to those) merges, we need to request an expedited release and then immediately post a requirements freeze exception request. Since the only services participating in the upcoming 2024.1/Caracal coordinated release with YAQL dependencies are Heat and Mistral, the impact on release efforts will hopefully be minimized.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Avoiding dropping earlier Python interpreter support in order to be able to use the new YAQL with OpenStack Zed (which does still have an officially maintained stable branch at the moment) would be preferable. For unbranched libraries, it's usually best to avoid dropping support for maintained stable branches of consumers, as without stable branches in the library and care taken with leaving gaps in version numbering we have no way to backport such fixes.

I have no objection to opening this bug immediately if the fix is ready to be pushed, but if anyone else participating in this discussion objects please speak up now.

As soon as the change (and associated reverts to restore Python 3.6/3.7 support assuming you agree to those) merges, we need to request an expedited release and then immediately post a requirements freeze exception request. Since the only services participating in the upcoming 2024.1/Caracal coordinated release with YAQL dependencies are Heat and Mistral, the impact on release efforts will hopefully be minimized.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/41" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-13T13:55:50.391846+00:00" title="2024-03-13 13:55:50 UTC">on 2024-03-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/41"> #41</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Zed no longer supports Python 3.6/7 so the point is whether we want to care yoga and older.</p>
<p><a rel="nofollow" href="https://governance.openstack.org/tc/reference/runtimes/zed.html">https:/<wbr />/governance.<wbr />openstack.<wbr />org/tc/<wbr />reference/<wbr />runtimes/<wbr />zed.html</a></p>
<p>However, I think lowering the minimum bound in setup.cfg does not much harm, so  I&#x27;ll restore Python 3.6/3.7 support temporally when I submit/merge the fix for this bug and then revert it once release is done.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Zed no longer supports Python 3.6/7 so the point is whether we want to care yoga and older.

https://governance.openstack.org/tc/reference/runtimes/zed.html

However, I think lowering the minimum bound in setup.cfg does not much harm, so  I'll restore Python 3.6/3.7 support temporally when I submit/merge the fix for this bug and then revert it once release is done.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/42" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-13T14:18:52.773448+00:00" title="2024-03-13 14:18:52 UTC">on 2024-03-13</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/42"> #42</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Oh, thanks, I missed that it was okay as far back as Zed. While we don&#x27;t (from an upstream testing perspective) need new YAQL versions to work in the unmaintained/yoga branch (its test constraints are permanently frozen), it&#x27;s still nice for downstream consumers of that unmaintained release in cases where they don&#x27;t have someone like a curated distribution to backport the patch to a contemporary YAQL version.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Oh, thanks, I missed that it was okay as far back as Zed. While we don't (from an upstream testing perspective) need new YAQL versions to work in the unmaintained/yoga branch (its test constraints are permanently frozen), it's still nice for downstream consumers of that unmaintained release in cases where they don't have someone like a curated distribution to backport the patch to a contemporary YAQL version.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/43" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-14T15:23:48.198564+00:00" title="2024-03-14 15:23:48 UTC">on 2024-03-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/43"> #43</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>As there were no objections raised, I&#x27;ve switched this to Public Security now in preparation for Takashi&#x27;s YAQL patch upload to Gerrit.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">As there were no objections raised, I've switched this to Public Security now in preparation for Takashi's YAQL patch upload to Gerrit.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>information type</b>:
      </td>
      <td>
        Private Security &#8594; Public Security
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~kajinamit" class="sprite person">Takashi Kajinami (kajinamit)</a>
    
    <time title="2024-03-14 15:24:09 UTC" datetime="2024-03-14T15:24:09.502122+00:00">on 2024-03-14</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in yaql: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>importance</b>:
      </td>
      <td>
        High &#8594; Critical
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/44" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-14T15:24:37.278554+00:00" title="2024-03-14 15:24:37 UTC">on 2024-03-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/murano/+bug/2048114/comments/44">
                <strong>Fix proposed to yaql (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/44"> #44</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Fix proposed to branch: master<br />
Review: <a rel="nofollow" href="https://review.opendev.org/c/openstack/yaql/+/913228">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/yaql/+<wbr />/913228</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Fix proposed to branch: master
Review: https://review.opendev.org/c/openstack/yaql/+/913228</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in yaql: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        New &#8594; In Progress
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/45" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-14T15:55:29.888865+00:00" title="2024-03-14 15:55:29 UTC">on 2024-03-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/murano/+bug/2048114/comments/45">
                <strong>Fix merged to yaql (master)</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/45"> #45</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Reviewed:  <a rel="nofollow" href="https://review.opendev.org/c/openstack/yaql/+/913228">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/yaql/+<wbr />/913228</a><br />
Committed: <a rel="nofollow" href="https://opendev.org/openstack/yaql/commit/83e28324e1a0ce3970dd854393d2431123a909d3">https:/<wbr />/opendev.<wbr />org/openstack/<wbr />yaql/commit/<wbr />83e28324e1a0ce3<wbr />970dd854393d243<wbr />1123a909d3</a><br />
Submitter: &quot;Zuul (22348)&quot;<br />
Branch:    master</p>
<p>commit 83e28324e1a0ce3<wbr />970dd854393d243<wbr />1123a909d3<br />
Author: Takashi Kajinami &lt;email address hidden&gt;<br />
Date:   Tue Mar 12 23:38:54 2024 +0900</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Remove format function</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;The format function allowed too arbitrary access to the values being<br />
&nbsp;&nbsp;&nbsp;&nbsp;formatted, and this behavior caused information leakage in some cases.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Closes-Bug: #2048114<br />
&nbsp;&nbsp;&nbsp;&nbsp;Change-Id: Id7ec5f267314bb<wbr />7166ca64802ab47<wbr />d768bb5eb89</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Reviewed:  https://review.opendev.org/c/openstack/yaql/+/913228
Committed: https://opendev.org/openstack/yaql/commit/83e28324e1a0ce3970dd854393d2431123a909d3
Submitter: "Zuul (22348)"
Branch:    master

commit 83e28324e1a0ce3970dd854393d2431123a909d3
Author: Takashi Kajinami &lt;kajinamit@oss.nttdata.com&gt;
Date:   Tue Mar 12 23:38:54 2024 +0900

    Remove format function
    
    The format function allowed too arbitrary access to the values being
    formatted, and this behavior caused information leakage in some cases.
    
    Closes-Bug: #2048114
    Change-Id: Id7ec5f267314bb7166ca64802ab47d768bb5eb89
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in yaql: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        In Progress &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/46" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-14T16:48:01.989298+00:00" title="2024-03-14 16:48:01 UTC">on 2024-03-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/46"> #46</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>I&#x27;ve proposed a WIP update for OSSN-0093 with details about this bug now that it&#x27;s public. Please review at your earliest opportunity as I&#x27;m hoping to update the canonical copy on the wiki and send it to mailing lists later today: <a rel="nofollow" href="https://review.opendev.org/c/openstack/security-doc/+/913239">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/security-<wbr />doc/+/913239</a></p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">I've proposed a WIP update for OSSN-0093 with details about this bug now that it's public. Please review at your earliest opportunity as I'm hoping to update the canonical copy on the wiki and send it to mailing lists later today: https://review.opendev.org/c/openstack/security-doc/+/913239</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>summary</b>:
      </td>
      <td>
        - OpenStack Murano Component Information Leakage<br />+ Unsafe Environment Handling in MuranoPL
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/47" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~hudson-openstack" class="sprite person">OpenStack Infra (hudson-openstack)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-14T17:16:50.609437+00:00" title="2024-03-14 17:16:50 UTC">on 2024-03-14</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/murano/+bug/2048114/comments/47">
                <strong>Fix included in openstack/yaql 3.0.0</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/47"> #47</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>This issue was fixed in the openstack/yaql 3.0.0  release.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">This issue was fixed in the openstack/yaql 3.0.0  release.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/48" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-14T21:00:57.189516+00:00" title="2024-03-14 21:00:57 UTC">on 2024-03-14</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/48"> #48</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p><a rel="nofollow" href="https://wiki.openstack.org/wiki/OSSN/OSSN-0093">https:/<wbr />/wiki.openstack<wbr />.org/wiki/<wbr />OSSN/OSSN-<wbr />0093</a> has now been announced to the usual mailing lists.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">https://wiki.openstack.org/wiki/OSSN/OSSN-0093 has now been announced to the usual mailing lists.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  <div class="boardCommentActivity">
    
      <table class="bug-activity">
  
    
      <tr>
        <td colspan="2">Changed in ossn: </td>
      </tr>
    
    <tr>
      <td style="text-align: right;">
        <b>status</b>:
      </td>
      <td>
        Confirmed &#8594; Fix Released
      </td>
    </tr>
  
</table>
    
    
  </div>
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/49" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ahanwate" class="sprite person">Avinash Hanwate (ahanwate)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-15T05:28:52.073280+00:00" title="2024-03-15 05:28:52 UTC">on 2024-03-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/49"> #49</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Anyone requested a CVE for this issue yet?</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Anyone requested a CVE for this issue yet?</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/50" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-15T13:46:44.214081+00:00" title="2024-03-15 13:46:44 UTC">on 2024-03-15</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/50"> #50</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Normally the OpenStack VMT only reaches out to MITRE for CVE assignments on flaws in repositories we oversee, but as this is a somewhat exceptional case I&#x27;m happy to go ahead and begin the CVE request process for it with the details from the OSSN.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Normally the OpenStack VMT only reaches out to MITRE for CVE assignments on flaws in repositories we oversee, but as this is a somewhat exceptional case I'm happy to go ahead and begin the CVE request process for it with the details from the OSSN.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/51" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~kirualawliet" class="sprite person">kirualawliet (kirualawliet)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-16T04:06:13+00:00" title="2024-03-16 04:06:13 UTC">on 2024-03-16</time><span class="editable-message-last-edit-date">:
              </span>
              <a href="/murano/+bug/2048114/comments/51">
                <strong>Re: [Bug 2048114] Re: Unsafe Environment Handling in MuranoPL</strong>
              </a>
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/51"> #51</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  <a href="https://bugs.launchpad.net/murano/+bug/2048114/comments/51/+download">Download full text</a> (3.9 KiB)
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>Sorry for being so late to notice this review request. My bad, I made a<br />
mistake earlier in the bug report mail by mi<br />
sspelling my teammate&#x27;s name. Can you please change &#x27;edwardpeng&#x27; to<br />
&#x27;Zhiniang Peng (@edwardzpeng) in OSSN-0093 and any other references&#x27;?</p>
<p>On Fri, 15 Mar 2024 at 01:49, Jeremy Stanley &lt;email address hidden&gt;<br />
wrote:</p>
<p><span class="foldable-quoted">&gt; I&#x27;ve proposed a WIP update for OSSN-0093 with details about this bug now<br />
&gt; that it&#x27;s public. Please review at your earliest opportunity as I&#x27;m<br />
&gt; hoping to update the canonical copy on the wiki and send it to mailing<br />
&gt; lists later today: <a rel="nofollow" href="https://review.opendev.org/c/openstack/security-">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/security-</a><br />
&gt; doc/+/913239<br />
&gt; &lt;<a rel="nofollow" href="https://review.opendev.org/c/openstack/security-doc/+/913239">https:/<wbr />/review.<wbr />opendev.<wbr />org/c/openstack<wbr />/security-<wbr />doc/+/913239</a>&gt;<br />
&gt;<br />
&gt; ** Summary changed:<br />
&gt;<br />
&gt; - OpenStack Murano Component Information Leakage<br />
&gt; + Unsafe Environment Handling in MuranoPL<br />
&gt;<br />
&gt; --<br />
&gt; You received this bug notification because you are subscribed to the bug<br />
&gt; report.<br />
&gt; <a rel="nofollow" href="https://bugs.launchpad.net/bugs/2048114">https:/<wbr />/bugs.launchpad<wbr />.net/bugs/<wbr />2048114</a><br />
&gt;<br />
&gt; Title:<br />
&gt;   Unsafe Environment Handling in MuranoPL<br />
&gt;<br />
&gt; Status in Murano:<br />
&gt;   New<br />
&gt; Status in OpenStack Security Advisory:<br />
&gt;   Won&#x27;t Fix<br />
&gt; Status in OpenStack Security Notes:<br />
&gt;   Confirmed<br />
&gt; Status in YAQL:<br />
&gt;   Fix Released<br />
&gt;<br />
&gt; Bug description:<br />
&gt;   Members of the VMT received the following report by E-mail from<br />
&gt;   &quot;kirualawliet l&quot;:<br />
&gt;<br />
&gt;   Title: OpenStack Murano Component Information Leakage<br />
&gt;<br />
&gt;   Reporter: lawliet and edwardpeng(<wbr />@edwardzpeng) from Sangfor Security<br />
&gt;   Research Team<br />
&gt;<br />
&gt;   Products: OpenStack Murano Component<br />
&gt;<br />
&gt;   Affects: All versions of Murano Component<br />
&gt;<br />
&gt;   Description:<br />
&gt;<br />
&gt;   The Sangfor Security Research Team has identified a critical security<br />
&gt;   vulnerability in the Murano component of OpenStack. This vulnerability<br />
&gt;   allows ordinary users capable of importing and deploying app packages<br />
&gt;   to access sensitive information within OpenStack services.<br />
&gt;   Specifically, through this exploit, unauthorized users can obtain<br />
&gt;   Murano service account credentials, potentially escalating their<br />
&gt;   privileges to an administrator level. Subsequently, unauthorized users<br />
&gt;   can gain complete control over various resources, including user<br />
&gt;   roles, hosts, and networks.<br />
&gt;<br />
&gt;   The vulnerability stems from the Murano service&#x27;s reliance on<br />
&gt;   MuranoPL, an extension of the YAQL language. The YAQL library includes<br />
&gt;   a &#x27;format&#x27; function that mirrors Python&#x27;s &#x27;str.format&#x27; method,<br />
&gt;   enabling attribute access.<br />
&gt;<br />
&gt;   ```python<br />
&gt;   # code snippet from yaql-2.<wbr />0.0\standard_<wbr />library\<wbr />strings.<wbr />py:569<br />
&gt;   @specs.<wbr />parameter(<wbr />&#x27;__format_<wbr />string&#x27;<wbr />, yaqltypes.String())<br />
&gt;   @specs.<wbr />extension_<wbr />method<br />
&gt;   def format_<wbr />(__format_<wbr />string, *args, **kwargs):<br />
&gt;       ...<br />
&gt;       return __format_<wbr />string.<wbr />format(<wbr />*args, **kwargs)<br />
&gt;   ```<br />
&gt;<br />
&gt;   An example of this vulnerability includes:<br />
&gt;<br />
&gt;   ```<br />
&gt;   &gt;&gt;&gt; secret_key = &quot;abcd1234&quot;<br />
&gt;   &gt;&gt;&gt; class Test:<br />
&gt;   ...     def __init__(self):<br />
&gt;   ...             pass<br />
&gt;   ...<br />
&gt;   &gt;&gt;&gt; t = Test()<br />
&gt;   &gt;&gt;&gt; # Exploiting the vulnerability to expose sensitive data:<br />
&gt;   &gt;&gt;&gt; malicious_<wbr />format_<wbr />string =<br />
&gt; &#x27;{0.__class_<wbr />_.__init_<wbr />_.__globals_<wbr />_[secret_<wbr />key]}&#x27;<br />
&gt;   &gt;&gt;&gt; formatted_output = malicious_<wbr />format_<wbr />string.<wbr />format(<wbr />t)<br />
&gt;   &gt;&gt;&gt; print(formatted<wbr />_output)  # This line reveals the value of secret_key<br />
&gt;   &#x27;abcd1234&#x27;...
</span></p></div>
    
    <p>
      <a href="/murano/+bug/2048114/comments/51">Read more...</a>
    </p>
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">Sorry for being so late to notice this review request. My bad, I made a
mistake earlier in the bug report mail by mi
sspelling my teammate's name. Can you please change 'edwardpeng' to
'Zhiniang Peng (@edwardzpeng) in OSSN-0093 and any other references'?

On Fri, 15 Mar 2024 at 01:49, Jeremy Stanley &lt;2048114@bugs.launchpad.net&gt;
wrote:

&gt; I've proposed a WIP update for OSSN-0093 with details about this bug now
&gt; that it's public. Please review at your earliest opportunity as I'm
&gt; hoping to update the canonical copy on the wiki and send it to mailing
&gt; lists later today: https://review.opendev.org/c/openstack/security-
&gt; doc/+/913239
&gt; &lt;https://review.opendev.org/c/openstack/security-doc/+/913239&gt;
&gt;
&gt; ** Summary changed:
&gt;
&gt; - OpenStack Murano Component Information Leakage
&gt; + Unsafe Environment Handling in MuranoPL
&gt;
&gt; --
&gt; You received this bug notification because you are subscribed to the bug
&gt; report.
&gt; https://bugs.launchpad.net/bugs/2048114
&gt;
&gt; Title:
&gt;   Unsafe Environment Handling in MuranoPL
&gt;
&gt; Status in Murano:
&gt;   New
&gt; Status in OpenStack Security Advisory:
&gt;   Won't Fix
&gt; Status in OpenStack Security Notes:
&gt;   Confirmed
&gt; Status in YAQL:
&gt;   Fix Released
&gt;
&gt; Bug description:
&gt;   Members of the VMT received the following report by E-mail from
&gt;   "kirualawliet l":
&gt;
&gt;   Title: OpenStack Murano Component Information Leakage
&gt;
&gt;   Reporter: lawliet and edwardpeng(@edwardzpeng) from Sangfor Security
&gt;   Research Team
&gt;
&gt;   Products: OpenStack Murano Component
&gt;
&gt;   Affects: All versions of Murano Component
&gt;
&gt;   Description:
&gt;
&gt;   The Sangfor Security Research Team has identified a critical security
&gt;   vulnerability in the Murano component of OpenStack. This vulnerability
&gt;   allows ordinary users capable of importing and deploying app packages
&gt;   to access sensitive information within OpenStack services.
&gt;   Specifically, through this exploit, unauthorized users can obtain
&gt;   Murano service account credentials, potentially escalating their
&gt;   privileges to an administrator level. Subsequently, unauthorized users
&gt;   can gain complete control over various resources, including user
&gt;   roles, hosts, and networks.
&gt;
&gt;   The vulnerability stems from the Murano service's reliance on
&gt;   MuranoPL, an extension of the YAQL language. The YAQL library includes
&gt;   a 'format' function that mirrors Python's 'str.format' method,
&gt;   enabling attribute access.
&gt;
&gt;   ```python
&gt;   # code snippet from yaql-2.0.0\standard_library\strings.py:569
&gt;   @specs.parameter('__format_string', yaqltypes.String())
&gt;   @specs.extension_method
&gt;   def format_(__format_string, *args, **kwargs):
&gt;       ...
&gt;       return __format_string.format(*args, **kwargs)
&gt;   ```
&gt;
&gt;   An example of this vulnerability includes:
&gt;
&gt;   ```
&gt;   &gt;&gt;&gt; secret_key = "abcd1234"
&gt;   &gt;&gt;&gt; class Test:
&gt;   ...     def __init__(self):
&gt;   ...             pass
&gt;   ...
&gt;   &gt;&gt;&gt; t = Test()
&gt;   &gt;&gt;&gt; # Exploiting the vulnerability to expose sensitive data:
&gt;   &gt;&gt;&gt; malicious_format_string =
&gt; '{0.__class__.__init__.__globals__[secret_key]}'
&gt;   &gt;&gt;&gt; formatted_output = malicious_format_string.format(t)
&gt;   &gt;&gt;&gt; print(formatted_output)  # This line reveals the value of secret_key
&gt;   'abcd1234'
&gt;   ```
&gt;
&gt;   This exploit allows access to Murano service's oslo configuration
&gt;   storage, thereby exposing critical Murano service account credentials,
&gt;   granting unauthorized users administrative privileges.
&gt;
&gt;   We believe no deployment mode is immune to this vulnerability. To
&gt;   ensure system security, we recommend immediate attention and
&gt;   remediation of this vulnerability within the OpenStack Murano
&gt;   component. Our team stands ready to offer assistance and collaboration
&gt;   in addressing and resolving this issue promptly.
&gt;
&gt;   Thank you for your prompt attention to this matter.
&gt;
&gt;   Sincerely,
&gt;   kirualawliet
&gt;   Sangfor Security Research Team
&gt;
&gt; To manage notifications about this bug go to:
&gt; https://bugs.launchpad.net/murano/+bug/2048114/+subscriptions
&gt;
&gt;
</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/52" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~ahanwate" class="sprite person">Avinash Hanwate (ahanwate)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-18T11:37:39.229356+00:00" title="2024-03-18 11:37:39 UTC">on 2024-03-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/52"> #52</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>@jeremy, Thanks! If you would like, you can be your own CNA to assign CVEs for Openstack related vulnerabilities under Red Hat as a Root CNA instead of reaching out to MITRE every time. Do let me know your thoughts.</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">@jeremy, Thanks! If you would like, you can be your own CNA to assign CVEs for Openstack related vulnerabilities under Red Hat as a Root CNA instead of reaching out to MITRE every time. Do let me know your thoughts.</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        
          

          
              <div class="boardComment">
  <div class="boardCommentDetails">
    
      <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
    
    <time title="2024-03-18 13:54:47 UTC" datetime="2024-03-18T13:54:47.194884+00:00">on 2024-03-18</time>
  </div>
  <div class="boardCommentActivity">
    <table class="bug-activity">
  
    
      
    
    <tr>
      <td style="text-align: right;">
        <b>description</b>:
      </td>
      <td>
        updated
      </td>
    </tr>
  
</table>
  </div>
</div>
          

          

        
        
          
            <div xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/UserComments" class="boardComment editable-message
                  " data-baseurl="/murano/+bug/2048114/comments/53" data-i-can-edit="False">
  <div class="boardCommentDetails">
    <div class="message-revision-container">
      <div class="message-revision-container-header">
        <span>Revision history for this message</span>
        <img src="/+icing/build/overlay/assets/skins/sam/images/close.gif" class="message-revision-close" />
      </div>
      <script type="text/template">
        <div class='message-revision-item'>
          <div class='message-revision-title'>
              <a class="sprite remove action-icon message-revision-del-btn">
                  Remove
              </a>
              <a class="js-action">
                  Revision #{revision}, created at {date_created_display}
              </a>
          </div>
          <div class='message-revision-body'>{content}</div>
        </div>
      </script>
      <div class="message-revision-list"></div>
    </div>

    <table>
      <tbody>
        <tr>
          <td>
            <a href="https://launchpad.net/~fungi" class="sprite person">Jeremy Stanley (fungi)</a>
            wrote
            <time itemprop="commentTime" datetime="2024-03-18T14:09:50.931235+00:00" title="2024-03-18 14:09:50 UTC">on 2024-03-18</time><span class="editable-message-last-edit-date">:
              </span>
              
          </td>
          

          <td>
            
          </td>
          <td>
            
          </td>
          <td class="bug-comment-index">
          <a itemprop="url" href="/murano/+bug/2048114/comments/53"> #53</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="boardCommentBody">
    

    

    

  
  <div class="editable-message-body">
    <div class="comment-text editable-message-text" itemprop="commentText"><p>MITRE has assigned CVE-2024-29156 for this bug in Murano.</p>
<p>kirualawliet: I have adjusted the reference to your colleague&#x27;s name as requested in the bug description, OSSN publication, and submitted an update request to MITRE to adjust it in the CVE metadata they have. Note that I can&#x27;t correct it in mailing list posts which have already been sent, but hopefully this is sufficient.</p>
<p>Avinash Hanwate: The OpenStack VMT prefers to avoid notifying downstream distribution security teams early in the discussion of suspected vulnerabilities under embargo, which is why we follow a process to request CVE assignments for our advisories directly from MITRE when we&#x27;re drafting them rather than Red Hat or similar CNAs. We&#x27;ve also got consensus among the VMT that we don&#x27;t issue advisories often enough to warrant becoming our own CNA, though we do revisit that decision from time to time. As mentioned, this isn&#x27;t an official security advisory issued by the OpenStack VMT anyway, but I followed a similar CVE request process to what we normally use for the sake of consistency. Thanks for the offer of assistance though!</p></div>
    
    
    
  </div>

  <div class="editable-message-form" style="display: none">
     <textarea style="width: 100%" rows="10">MITRE has assigned CVE-2024-29156 for this bug in Murano.

kirualawliet: I have adjusted the reference to your colleague's name as requested in the bug description, OSSN publication, and submitted an update request to MITRE to adjust it in the CVE metadata they have. Note that I can't correct it in mailing list posts which have already been sent, but hopefully this is sufficient.

Avinash Hanwate: The OpenStack VMT prefers to avoid notifying downstream distribution security teams early in the discussion of suspected vulnerabilities under embargo, which is why we follow a process to request CVE assignments for our advisories directly from MITRE when we're drafting them rather than Red Hat or similar CNAs. We've also got consensus among the VMT that we don't issue advisories often enough to warrant becoming our own CNA, though we do revisit that decision from time to time. As mentioned, this isn't an official security advisory issued by the OpenStack VMT anyway, but I followed a similar CVE request process to what we normally use for the sake of consistency. Thanks for the offer of assistance though!</textarea>
     <input type="button" value="Update" class="editable-message-update-btn" />
     <input type="button" value="Cancel" class="editable-message-cancel-btn" />
  </div>


  </div>

  
  
</div>

          

          

          

        
        <div style="float: right;">
          <a class="menu-link-activitylog" href="https://bugs.launchpad.net/murano/+bug/2048114/+activity">See full activity log</a>
        </div>
        <div class="clearfix"></div>

        
          

          
            <div align="center" id="add-comment-login-first">
              To post a comment you must <a href="+login?comments=all">log in</a>.
            </div>
          
        
        
      

      </div><!-- class="top-portlet" -->
      </div><!--- id="maincontentsub"-->
      <div>
        <div id="duplicate-form-container"></div>
        <div id="privacy-form-container"></div>
      </div>
    </div>
            
            
          </div><!-- yui-b -->
        </div><!-- yui-main -->

        
          <div id="side-portlets" class="yui-b side">
            
      <div id="involvement" class="portlet">
        <ul class="involvement">
          <li class="single">
            <a class="sprite bugs" href="/murano/+filebug">
              Report a bug
            </a>
          </li>
        </ul>
      </div>
      <div id="privacy" class="first portlet public">
  <div id="privacy-text">
     <span id="information-type-summary" class="sprite public">This report contains
         <strong id="information-type">Public Security</strong>
         information
     </span>&nbsp;

     <div id="information-type-description" style="padding-top: 5px">Everyone can see this security related information.
</div>
  </div>
</div>

      <div id="portlet-actions" class="portlet vertical">
  <ul id="duplicate-actions">
    
    
    
    
    
    
    
  </ul>
  <ul id="lock-status-actions">
    
  </ul>
</div>

      

      <div class="portlet vertical" id="portlet-subscription">
  <div class="section">
    <div id="current_user_subscription" class="False">
      
        <span>You are</span>
        
        <a class="menu-link-subscription sprite modify edit" href="/murano/+bug/2048114/+subscribe">
           
           
           
           not directly subscribed to this bug's notifications.
        </a>
      
      
    </div>
    <div id="sub-unsub-spinner">Subscribing...</div>
    <ul>
      
      <li><a class="menu-link-editsubscriptions sprite modify edit" href="https://bugs.launchpad.net/murano/+bug/2048114/+subscriptions" title="View and change your subscriptions to this bug">Edit bug mail</a></li>
    </ul>
  </div>
  <script type="text/javascript">
    LPJS.use('io-base', 'node',
            'lp.bugs.bugtask_index.portlets.subscription', function(Y) {
        Y.on('domready', function() {
            Y.lp.bugs.bugtask_index.portlets.subscription.initialize();
        });
    });
  </script>
</div>

      <div class="portlet vertical" id="portlet-subscribers">
  <h2>Other bug subscribers</h2>
  <div>
    <div><a class="menu-link-addsubscriber sprite add" href="https://bugs.launchpad.net/murano/+bug/2048114/+addsubscriber" title="Launchpad will email that person whenever this bugs changes">Subscribe someone else</a></div>
  </div>
  <div id="other-bug-subscribers"></div>
</div>

      

      

      
  <div class="portlet" id="portlet-patches">
    <h2>Patches</h2>
    <ul>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5754210/+files/bug-2048114.patch" class="sprite haspatch-icon">bug-2048114.patch</a>
        <a class="sprite edit action-icon" title="Change patch details" href="/murano/+bug/2048114/+attachment/5754210">Edit</a>
      </li>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5755306/+files/bug-2048114-v2.patch" class="sprite haspatch-icon">bug-2048114-v2.patch</a>
        <a class="sprite edit action-icon" title="Change patch details" href="/murano/+bug/2048114/+attachment/5755306">Edit</a>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/murano/+bug/2048114/+addcomment?field.patch=on">Add patch</a>
      </li>
    </ul>
  </div>
  <div class="portlet" id="portlet-attachments">
    <h2>Bug attachments</h2>
    <ul>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5736495/+files/image.png" class="sprite download-icon">leaking murano account and password</a>
        <a class="sprite edit action-icon" title="Change attachment details" href="/murano/+bug/2048114/+attachment/5736495">Edit</a>
      </li>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5736496/+files/image.png" class="sprite download-icon">logining with leakd murano credentials</a>
        <a class="sprite edit action-icon" title="Change attachment details" href="/murano/+bug/2048114/+attachment/5736496">Edit</a>
      </li>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5748292/+files/app_mysql_murano_leak_info_credit.zip" class="sprite download-icon">app_mysql_murano_leak_info_credit.zip</a>
        <a class="sprite edit action-icon" title="Change attachment details" href="/murano/+bug/2048114/+attachment/5748292">Edit</a>
      </li>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5753786/+files/yaqltest.yaml" class="sprite download-icon">Example heat template with yaql format function</a>
        <a class="sprite edit action-icon" title="Change attachment details" href="/murano/+bug/2048114/+attachment/5753786">Edit</a>
      </li>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5753787/+files/yaqltest.yaml" class="sprite download-icon">Example heat template with yaql format function</a>
        <a class="sprite edit action-icon" title="Change attachment details" href="/murano/+bug/2048114/+attachment/5753787">Edit</a>
      </li>
      <li class="download-attachment">
        <a href="https://bugs.launchpad.net/murano/+bug/2048114/+attachment/5753788/+files/console.log" class="sprite download-icon">Result of openstack resource show which contains format function result</a>
        <a class="sprite edit action-icon" title="Change attachment details" href="/murano/+bug/2048114/+attachment/5753788">Edit</a>
      </li>
    </ul>
    <ul>
      <li>
        <a class="sprite add" href="/murano/+bug/2048114/+addcomment">Add attachment</a>
      </li>
    </ul>
  </div>


      <div class="portlet" id="portlet-watches">
  <h2>Remote bug watches</h2>
  <ul>
  </ul>
  <p>Bug watches keep track of this bug in other bug trackers.</p>
</div>

    
          </div><!-- yui-b side -->
        
      </div><!-- yui-t4 -->

      
  <div id="footer" class="footer">
    <div class="lp-arcana">
        <div class="lp-branding">
          <a href="https://launchpad.net/"><img src="/@@/launchpad-footer-logo.svg" alt="Launchpad" width="65" height="18" /></a>
          &nbsp;&bull;&nbsp;
          <a href="https://launchpad.net/+tour">Take the tour</a>
          &nbsp;&bull;&nbsp;
          <a href="https://help.launchpad.net/">Read the guide</a>
          &nbsp;
          <form id="globalsearch" method="get" accept-charset="UTF-8" action="https://launchpad.net/+search">
            <input type="search" id="search-text" name="field.text" />
            <input type="image" src="/@@/search" style="vertical-align:5%" alt="Search Launchpad" />
          </form>
        </div>
        
  

    </div>

    <div class="colophon">
      &copy; 2004
      <a href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
      &nbsp;&bull;&nbsp;
      <a href="https://launchpad.net/legal">Terms of use</a>
      &nbsp;&bull;&nbsp;
      <a href="https://www.ubuntu.com/legal/dataprivacy">Data privacy</a>
      &nbsp;&bull;&nbsp;
      <a href="/feedback">Contact Launchpad Support</a>
      
      &nbsp;&bull;&nbsp;
      <a href="http://blog.launchpad.net/">Blog</a>
      
	&nbsp;&bull;&nbsp;
	<a href="https://canonical.com/careers">Careers</a>
      
      &nbsp;&bull;&nbsp;
      <a href="https://ubuntu.social/@launchpadstatus">System status</a>
      <span id="lp-version">
      &nbsp;&bull;&nbsp;
        6394e03
        
        
        (<a href="https://dev.launchpad.net/">Get the code!</a>)
      </span>
    </div>
  </div>

    </div><!-- yui-d0-->

    
  
  
  <script id="json-cache-script">LP.cache = {"related_features": {}, "bug": {"self_link": "https://bugs.launchpad.net/api/devel/bugs/2048114", "web_link": "https://bugs.launchpad.net/bugs/2048114", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug", "id": 2048114, "private": false, "information_type": "Public Security", "name": null, "title": "Unsafe Environment Handling in MuranoPL", "description": "Members of the VMT received the following report by E-mail from \"kirualawliet l\":\n\nTitle: OpenStack Murano Component Information Leakage\n\nReporter: lawliet and Zhiniang Peng (@edwardzpeng) from Sangfor Security Research Team\n\nProducts: OpenStack Murano Component\n\nAffects: All versions of Murano Component\n\nDescription:\n\nThe Sangfor Security Research Team has identified a critical security vulnerability in the Murano component of OpenStack. This vulnerability allows ordinary users capable of importing and deploying app packages to access sensitive information within OpenStack services. Specifically, through this exploit, unauthorized users can obtain Murano service account credentials, potentially escalating their privileges to an administrator level. Subsequently, unauthorized users can gain complete control over various resources, including user roles, hosts, and networks.\n\nThe vulnerability stems from the Murano service's reliance on MuranoPL, an extension of the YAQL language. The YAQL library includes a 'format' function that mirrors Python's 'str.format' method, enabling attribute access.\n\n```python\n# code snippet from yaql-2.0.0\\standard_library\\strings.py:569\n@specs.parameter('__format_string', yaqltypes.String())\n@specs.extension_method\ndef format_(__format_string, *args, **kwargs):\n\u00a0\u00a0\u00a0\u00a0...\n\u00a0\u00a0\u00a0\u00a0return __format_string.format(*args, **kwargs)\n```\n\nAn example of this vulnerability includes:\n\n```\n\u003e\u003e\u003e secret_key = \"abcd1234\"\n\u003e\u003e\u003e class Test:\n...     def __init__(self):\n...             pass\n...\n\u003e\u003e\u003e t = Test()\n\u003e\u003e\u003e # Exploiting the vulnerability to expose sensitive data:\n\u003e\u003e\u003e malicious_format_string = '{0.__class__.__init__.__globals__[secret_key]}'\n\u003e\u003e\u003e formatted_output = malicious_format_string.format(t)\n\u003e\u003e\u003e print(formatted_output)  # This line reveals the value of secret_key\n'abcd1234'\n```\n\nThis exploit allows access to Murano service's oslo configuration storage, thereby exposing critical Murano service account credentials, granting unauthorized users administrative privileges.\n\nWe believe no deployment mode is immune to this vulnerability. To ensure system security, we recommend immediate attention and remediation of this vulnerability within the OpenStack Murano component. Our team stands ready to offer assistance and collaboration in addressing and resolving this issue promptly.\n\nThank you for your prompt attention to this matter.\n\nSincerely,\nkirualawliet\nSangfor Security Research Team", "owner_link": "https://bugs.launchpad.net/api/devel/~fungi", "bug_tasks_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/bug_tasks", "duplicate_of_link": null, "date_created": "2024-01-04T19:37:53.593361+00:00", "activity_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/activity", "subscriptions_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/subscriptions", "date_last_updated": "2024-03-18T14:09:51.972636+00:00", "who_made_private_link": null, "date_made_private": null, "heat": 276, "bug_watches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/bug_watches", "cves_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/cves", "vulnerabilities_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/vulnerabilities", "duplicates_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/duplicates", "attachments_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/attachments", "security_related": true, "latest_patch_uploaded": "2024-03-12T14:47:53.671006+00:00", "tags": [], "date_last_message": "2024-03-18T14:09:50.931235+00:00", "number_of_duplicates": 0, "message_count": 54, "users_affected_count": 1, "users_unaffected_count": 0, "users_affected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/users_affected", "users_unaffected_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/users_unaffected", "users_affected_count_with_dupes": 1, "other_users_affected_count_with_dupes": 1, "users_affected_with_dupes_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/users_affected_with_dupes", "messages_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/messages", "lock_status": "Unlocked", "lock_reason": null, "linked_branches_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/linked_branches", "linked_merge_proposals_collection_link": "https://bugs.launchpad.net/api/devel/bugs/2048114/linked_merge_proposals", "http_etag": "\"8e2318b64ea2acc80496cfa9b87e7d5e60a958f3-df75ac583996ee069f3652748034d69cae7d544c\""}, "subscribers_portlet_url_data": {"web_link": "https://bugs.launchpad.net/bugs/2048114", "self_link": "https://bugs.launchpad.net/api/devel/bugs/2048114"}, "total_comments_and_activity": 90, "initial_comment_batch_offset": 41, "first visible_recent_comment": 13, "bugtask_data": {"3124873": {"id": 3124873, "row_id": "tasksummary3124873", "form_row_id": "task3124873", "bugtask_path": "/murano/+bug/2048114", "prefix": "murano", "targetname": "Murano", "bug_title": "Unsafe Environment Handling in MuranoPL", "assignee_value": null, "assignee_is_team": null, "assignee_vocabulary": "AllUserTeamsParticipation", "assignee_vocabulary_filters": [], "hide_assignee_team_selection": true, "user_can_unassign": false, "user_can_delete": false, "delete_link": "https://bugs.launchpad.net/murano/+bug/2048114/+delete", "target_is_product": true, "status_widget_items": [{"name": "New", "value": "New", "description": "Not looked at yet.\n", "description_css_class": "choice-description", "style": "", "help": "", "disabled": false, "css_class": "statusNEW"}], "status_value": "New", "importance_widget_items": "[]", "importance_value": "Undecided", "milestone_widget_items": "[]", "milestone_value": null, "user_can_edit_assignee": false, "user_can_edit_milestone": false, "user_can_edit_status": false, "user_can_edit_importance": false}, "3124880": {"id": 3124880, "row_id": "tasksummary3124880", "form_row_id": "task3124880", "bugtask_path": "/ossa/+bug/2048114", "prefix": "ossa", "targetname": "OpenStack Security Advisory", "bug_title": "Unsafe Environment Handling in MuranoPL", "assignee_value": null, "assignee_is_team": null, "assignee_vocabulary": "AllUserTeamsParticipation", "assignee_vocabulary_filters": [], "hide_assignee_team_selection": true, "user_can_unassign": false, "user_can_delete": false, "delete_link": "https://bugs.launchpad.net/ossa/+bug/2048114/+delete", "target_is_product": true, "status_widget_items": [{"name": "Won't Fix", "value": "Won't Fix", "description": "Doesn't fit with the project plans, sorry.\n", "description_css_class": "choice-description", "style": "", "help": "", "disabled": false, "css_class": "statusWONTFIX"}], "status_value": "Won't Fix", "importance_widget_items": "[]", "importance_value": "Undecided", "milestone_widget_items": "[]", "milestone_value": null, "user_can_edit_assignee": false, "user_can_edit_milestone": false, "user_can_edit_status": false, "user_can_edit_importance": false}, "3161192": {"id": 3161192, "row_id": "tasksummary3161192", "form_row_id": "task3161192", "bugtask_path": "/ossn/+bug/2048114", "prefix": "ossn", "targetname": "OpenStack Security Notes", "bug_title": "Unsafe Environment Handling in MuranoPL", "assignee_value": "fungi", "assignee_is_team": false, "assignee_vocabulary": "AllUserTeamsParticipation", "assignee_vocabulary_filters": [], "hide_assignee_team_selection": true, "user_can_unassign": false, "user_can_delete": false, "delete_link": "https://bugs.launchpad.net/ossn/+bug/2048114/+delete", "target_is_product": true, "status_widget_items": [{"name": "Fix Released", "value": "Fix Released", "description": "The fix was released.\n", "description_css_class": "choice-description", "style": "", "help": "", "disabled": false, "css_class": "statusFIXRELEASED"}], "status_value": "Fix Released", "importance_widget_items": "[]", "importance_value": "High", "milestone_widget_items": "[]", "milestone_value": null, "user_can_edit_assignee": false, "user_can_edit_milestone": false, "user_can_edit_status": false, "user_can_edit_importance": false}, "3161191": {"id": 3161191, "row_id": "tasksummary3161191", "form_row_id": "task3161191", "bugtask_path": "/yaql/+bug/2048114", "prefix": "yaql", "targetname": "YAQL", "bug_title": "Unsafe Environment Handling in MuranoPL", "assignee_value": "kajinamit", "assignee_is_team": false, "assignee_vocabulary": "AllUserTeamsParticipation", "assignee_vocabulary_filters": [], "hide_assignee_team_selection": true, "user_can_unassign": false, "user_can_delete": false, "delete_link": "https://bugs.launchpad.net/yaql/+bug/2048114/+delete", "target_is_product": true, "status_widget_items": [{"name": "Fix Released", "value": "Fix Released", "description": "The fix was released.\n", "description_css_class": "choice-description", "style": "", "help": "", "disabled": false, "css_class": "statusFIXRELEASED"}], "status_value": "Fix Released", "importance_widget_items": "[]", "importance_value": "Critical", "milestone_widget_items": "[]", "milestone_value": null, "user_can_edit_assignee": false, "user_can_edit_milestone": false, "user_can_edit_status": false, "user_can_edit_importance": false}}, "information_type_data": {"PUBLIC": {"value": "PUBLIC", "description": "Everyone can see this information.\n", "name": "Public", "order": 0, "is_private": false, "description_css_class": "choice-description"}, "PUBLICSECURITY": {"value": "PUBLICSECURITY", "description": "Everyone can see this security related information.\n", "name": "Public Security", "order": 1, "is_private": false, "description_css_class": "choice-description"}, "PRIVATESECURITY": {"value": "PRIVATESECURITY", "description": "Only the security group can see this information.\n ", "name": "Private Security", "order": 2, "is_private": true, "description_css_class": "choice-description"}, "USERDATA": {"value": "USERDATA", "description": "Only shared with users permitted to see private user information.\n", "name": "Private", "order": 3, "is_private": true, "description_css_class": "choice-description"}}, "bug_is_private": false, "context": {"self_link": "https://bugs.launchpad.net/api/devel/murano/+bug/2048114", "web_link": "https://bugs.launchpad.net/murano/+bug/2048114", "resource_type_link": "https://bugs.launchpad.net/api/devel/#bug_task", "bug_link": "https://bugs.launchpad.net/api/devel/bugs/2048114", "milestone_link": null, "status": "New", "status_explanation": null, "importance": "Undecided", "importance_explanation": null, "assignee_link": null, "bug_target_display_name": "Murano", "bug_target_name": "murano", "bug_watch_link": null, "date_assigned": null, "date_created": "2024-01-04T19:37:53.593361+00:00", "date_confirmed": null, "date_incomplete": null, "date_in_progress": null, "date_closed": null, "date_left_new": null, "date_triaged": null, "date_fix_committed": null, "date_fix_released": null, "date_left_closed": null, "owner_link": "https://bugs.launchpad.net/api/devel/~fungi", "target_link": "https://bugs.launchpad.net/api/devel/murano", "title": "Bug #2048114 in Murano: \"Unsafe Environment Handling in MuranoPL\"", "related_tasks_collection_link": "https://bugs.launchpad.net/api/devel/murano/+bug/2048114/related_tasks", "is_complete": false, "http_etag": "\"c9dab96fd772d952c2cae00633175165600a6aa2-1b44891754014c1e1591fb1fdbcb975cd28bb418\""}};</script>

    
  

    
  </body>


  <!--
    Facet name: bugs
    Page type: main_side
    Has global search: True
    Has application tabs: True
    Has side portlets: True

    At least 48 queries/external actions issued in 0.73 seconds

    Features: {'profiling.enabled': None, 'hard_timeout': '9000', 'app.mainsite_only.canonical_url': None, 'js.yui_version': None, 'app.maintenance_message': None, 'bugs.affected_count_includes_dupes.disabled': None, 'baselayout.careers_link.disabled': None, 'visible_render_time': None}

    r6394e03

    -->

</html>

