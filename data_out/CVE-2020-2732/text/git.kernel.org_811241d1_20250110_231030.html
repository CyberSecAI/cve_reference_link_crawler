

| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=07721feee46b4b248402133228235318199b05ec)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=07721feee46b4b248402133228235318199b05ec)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=07721feee46b4b248402133228235318199b05ec)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=07721feee46b4b248402133228235318199b05ec)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Paolo Bonzini <pbonzini@redhat.com> | 2020-02-04 15:26:29 -0800 |
| --- | --- | --- |
| committer | Paolo Bonzini <pbonzini@redhat.com> | 2020-02-23 10:11:55 +0100 |
| commit | [07721feee46b4b248402133228235318199b05ec](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=07721feee46b4b248402133228235318199b05ec) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=07721feee46b4b248402133228235318199b05ec)) | |
| tree | [ff3c54f27b868ad188b952cef4b44a371918d166](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=07721feee46b4b248402133228235318199b05ec) | |
| parent | [5ef8acbdd687c9d72582e2c05c0b9756efb37863](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5ef8acbdd687c9d72582e2c05c0b9756efb37863) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=07721feee46b4b248402133228235318199b05ec&id2=5ef8acbdd687c9d72582e2c05c0b9756efb37863)) | |
| download | [linux-07721feee46b4b248402133228235318199b05ec.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-07721feee46b4b248402133228235318199b05ec.tar.gz) | |

KVM: nVMX: Don't emulate instructions in guest modevmx\_check\_intercept is not yet fully implemented. To avoid emulating
instructions disallowed by the L1 hypervisor, refuse to emulate
instructions by default.
Cc: stable@vger.kernel.org
[Made commit, added commit msg - Oliver]
Signed-off-by: Oliver Upton <oupton@google.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=07721feee46b4b248402133228235318199b05ec)

| -rw-r--r-- | [arch/x86/kvm/vmx/vmx.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/arch/x86/kvm/vmx/vmx.c?id=07721feee46b4b248402133228235318199b05ec) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/arch/x86/kvm/vmx/vmx.c b/arch/x86/kvm/vmx/vmx.cindex dcca514ffd42cc..5801a86f9c2439 100644--- a/[arch/x86/kvm/vmx/vmx.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/vmx.c?id=5ef8acbdd687c9d72582e2c05c0b9756efb37863)+++ b/[arch/x86/kvm/vmx/vmx.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/vmx.c?id=07721feee46b4b248402133228235318199b05ec)@@ -7164,7 +7164,7 @@ static int vmx\_check\_intercept(struct kvm\_vcpu \*vcpu, }  /\* TODO: check more intercepts... \*/- return X86EMUL\_CONTINUE;+ return X86EMUL\_UNHANDLEABLE; }  #ifdef CONFIG\_X86\_64 |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 23:09:07 +0000

