=== Content from www.debian.org_49ab6071_20250110_231032.html ===


---

[[Date Prev](msg00070.html)][[Date Next](msg00072.html)]
[[Thread Prev](msg00070.html)][[Thread Next](msg00072.html)]
[[Date Index](maillist.html#00071)]
[[Thread Index](threads.html#00071)]

# [SECURITY] [DSA 4667-1] linux security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4667-1] linux security update
* *From*: Salvatore Bonaccorso <carnil@debian.org>
* *Date*: Tue, 28 Apr 2020 20:33:13 +0000
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/E1jTWun-0002Td-Nc%40seger.debian.org)Â [E1jTWun-0002Td-Nc@seger.debian.org](msg00071.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4667-1                   security@debian.org
<https://www.debian.org/security/>                     Salvatore Bonaccorso
April 28, 2020                        <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : linux
CVE ID         : CVE-2020-2732 CVE-2020-8428 CVE-2020-10942 CVE-2020-11565
                 CVE-2020-11884

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service, or information
leak.

CVE-2020-2732

    Paulo Bonzini discovered that the KVM implementation for Intel
    processors did not properly handle instruction emulation for L2
    guests when nested virtualization is enabled.  This could allow
    an L2 guest to cause privilege escalation, denial of service,
    or information leaks in the L1 guest.

CVE-2020-8428

    Al Viro discovered a use-after-free vulnerability in the VFS
    layer.  This allowed local users to cause a denial-of-service
    (crash) or obtain sensitive information from kernel memory.

CVE-2020-10942

    It was discovered that the vhost_net driver did not properly
    validate the type of sockets set as back-ends.  A local user
    permitted to access /dev/vhost-net could use this to cause a stack
    corruption via crafted system calls, resulting in denial of
    service (crash) or possibly privilege escalation.

CVE-2020-11565

    Entropy Moe reported that the shared memory filesystem (tmpfs) did
    not correctly handle an "mpol" mount option specifying an empty
    node list, leading to a stack-based out-of-bounds write.  If user
    namespaces are enabled, a local user could use this to cause a
    denial of service (crash) or possibly for privilege escalation.

CVE-2020-11884

    Al Viro reported a race condition in memory management code for
    IBM Z (s390x architecture), that can result in the kernel
    executing code from the user address space.  A local user could
    use this for privilege escalation.

For the stable distribution (buster), these problems have been fixed in
version 4.19.98-1+deb10u1.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to its security
tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEERkRAmAjBceBVMd3uBUy48xNDz0QFAl6ojdFfFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQACgkQBUy48xND
z0RN/g/9GJMlB34uCqifA8d3zJyG43czD3HSJCQlmAHyz9VsjJvUSfRWTNo2wJJk
4tgp+/GVcztCeRedw7u0cpWzvVPJR4MflIyHuB/X30tBzp4t4POxHH9kth3JLOQZ
D3v2LUmcU4y+E1YjQTSnzXBRvCPXavovYAup8b8YlMZmQ6tvdqDTOhEodxfGVzJm
Z+LMacOCw9HVR51Q1xQM5SEmWRu3UotPQ/WEh+VwABF3WdSvExcuJtu/wVif+GiK
r6dzEB4341W7C7/Bq3ElebMxP2O/DcOAxbaN93C099Fl0cxS3Se0S+UifB/gSUjt
EfI0jjbw57qXCGEKn6n0qp4ljZbnDAsPTlI2qitBzlYCOIh09VjtyCYmJ9jue2tc
4L1v5fx21La/yUMvz9+CCX3mcoAmyA9pyhZmmf/u6wfk6faVenLjDD3nYBPcId2x
0EcHdG+sckQ2zYuAoLrE3leP+0OwW/X45h9UldYtLz0gUPcgFL5yzEPACFtqjmtj
tdLmVOXoq9Ybmmqk12HhAhaw5CUCd1vU7qDcd7W14pUuso9IFqi0inhkT+pVl1N1
G3HCqn9giczd/mchxYBOSVvwxMxkSbXxg52MYd1CEv7HSZmBT8WsG4mg9bjAcZW3
c4Nm57QoiH7Rxb0iLFO8OSBHsU1SbO9DT7mTROAowkcxSC0qvgQ=
=XulH
-----END PGP SIGNATURE-----

```

---



=== Content from lists.debian.org_e8a44d58_20250110_231032.html ===


---

[[Date Prev](msg00010.html)][[Date Next](msg00012.html)]
[[Thread Prev](msg00010.html)][[Thread Next](msg00012.html)]
[[Date Index](maillist.html#00011)]
[[Thread Index](threads.html#00011)]

# [SECURITY] [DLA 2241-1] linux security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2241-1] linux security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Tue, 09 Jun 2020 22:29:32 +0100
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/1747f9196b0ccb9346b57f15681d74c04217c837.camel%40debian.org)Â [1747f9196b0ccb9346b57f15681d74c04217c837.camel@debian.org](msg00011.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
Package        : linux
Version        : 3.16.84-1
CVE ID         : CVE-2015-8839 CVE-2018-14610 CVE-2018-14611 CVE-2018-14612
                 CVE-2018-14613 CVE-2019-5108 CVE-2019-19319 CVE-2019-19447
                 CVE-2019-19768 CVE-2019-20636 CVE-2020-0009 CVE-2020-0543
                 CVE-2020-1749 CVE-2020-2732 CVE-2020-8647 CVE-2020-8648
                 CVE-2020-8649 CVE-2020-9383 CVE-2020-10690 CVE-2020-10751
                 CVE-2020-10942 CVE-2020-11494 CVE-2020-11565 CVE-2020-11608
                 CVE-2020-11609 CVE-2020-11668 CVE-2020-12114 CVE-2020-12464
                 CVE-2020-12652 CVE-2020-12653 CVE-2020-12654 CVE-2020-12769
                 CVE-2020-12770 CVE-2020-12826 CVE-2020-13143

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2015-8839

    A race condition was found in the ext4 filesystem implementation.
    A local user could exploit this to cause a denial of service
    (filesystem corruption).

CVE-2018-14610, CVE-2018-14611, CVE-2018-14612, CVE-2018-14613

    Wen Xu from SSLab at Gatech reported that crafted Btrfs volumes
    could trigger a crash (Oops) and/or out-of-bounds memory access.
    An attacker able to mount such a volume could use this to cause a
    denial of service or possibly for privilege escalation.

CVE-2019-5108

    Mitchell Frank of Cisco discovered that when the IEEE 802.11
    (WiFi) stack was used in AP mode with roaming, it would trigger
    roaming for a newly associated station before the station was
    authenticated.  An attacker within range of the AP could use this
    to cause a denial of service, either by filling up a switching
    table or by redirecting traffic away from other stations.

CVE-2019-19319

    Jungyeon discovered that a crafted filesystem can cause the ext4
    implementation to deallocate or reallocate journal blocks.  A user
    permitted to mount filesystems could use this to cause a denial of
    service (crash), or possibly for privilege escalation.

CVE-2019-19447

    It was discovered that the ext4 filesystem driver did not safely
    handle unlinking of an inode that, due to filesystem corruption,
    already has a link count of 0.  An attacker able to mount
    arbitrary ext4 volumes could use this to cause a denial of service
    (memory corruption or crash) or possibly for privilege escalation.

CVE-2019-19768

    Tristan Madani reported a race condition in the blktrace debug
    facility that could result in a use-after-free.  A local user able
    to trigger removal of block devices could possibly use this to
    cause a denial of service (crash) or for privilege escalation.

CVE-2019-20636

    The syzbot tool found that the input subsystem did not fully
    validate keycode changes, which could result in a heap
    out-of-bounds write.  A local user permitted to access the device
    node for an input or VT device could possibly use this to cause a
    denial of service (crash or memory corruption) or for privilege
    escalation.

CVE-2020-0009

    Jann Horn reported that the Android ashmem driver did not prevent
    read-only files from being memory-mapped and then remapped as
    read-write.  However, Android drivers are not enabled in Debian
    kernel configurations.

CVE-2020-0543

    Researchers at VU Amsterdam discovered that on some Intel CPUs
    supporting the RDRAND and RDSEED instructions, part of a random
    value generated by these instructions may be used in a later
    speculative execution on any core of the same physical CPU.
    Depending on how these instructions are used by applications, a
    local user or VM guest could use this to obtain sensitive
    information such as cryptographic keys from other users or VMs.

    This vulnerability can be mitigated by a microcode update, either
    as part of system firmware (BIOS) or through the intel-microcode
    package in Debian's non-free archive section.  This kernel update
    only provides reporting of the vulnerability and the option to
    disable the mitigation if it is not needed.

CVE-2020-1749

    Xiumei Mu reported that some network protocols that can run on top
    of IPv6 would bypass the Transformation (XFRM) layer used by
    IPsec, IPcomp/IPcomp6, IPIP, and IPv6 Mobility.  This could result
    in disclosure of information over the network, since it would not
    be encrypted or routed according to the system policy.

CVE-2020-2732

    Paulo Bonzini discovered that the KVM implementation for Intel
    processors did not properly handle instruction emulation for L2
    guests when nested virtualization is enabled. This could allow an
    L2 guest to cause privilege escalation, denial of service, or
    information leaks in the L1 guest.

CVE-2020-8647, CVE-2020-8649

    The Hulk Robot tool found a potential MMIO out-of-bounds access in
    the vgacon driver.  A local user permitted to access a virtual
    terminal (/dev/tty1 etc.) on a system using the vgacon driver
    could use this to cause a denial of service (crash or memory
    corruption) or possibly for privilege escalation.

CVE-2020-8648

    The syzbot tool found a race condition in the the virtual terminal
    driver, which could result in a use-after-free.  A local user
    permitted to access a virtual terminal could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

CVE-2020-9383

    Jordy Zomer reported an incorrect range check in the floppy driver
    which could lead to a static out-of-bounds access.  A local user
    permitted to access a floppy drive could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

CVE-2020-10690

    It was discovered that the PTP hardware clock subsystem did not
    properly manage device lifetimes.  Removing a PTP hardware clock
    from the system while a user process was using it could lead to a
    use-after-free.  The security impact of this is unclear.

CVE-2020-10751

    Dmitry Vyukov reported that the SELinux subsystem did not properly
    handle validating multiple messages, which could allow a privileged
    attacker to bypass SELinux netlink restrictions.

CVE-2020-10942

    It was discovered that the vhost_net driver did not properly
    validate the type of sockets set as back-ends. A local user
    permitted to access /dev/vhost-net could use this to cause a stack
    corruption via crafted system calls, resulting in denial of
    service (crash) or possibly privilege escalation.

CVE-2020-11494

    It was discovered that the slcan (serial line CAN) network driver
    did not fully initialise CAN headers for received packets,
    resulting in an information leak from the kernel to user-space or
    over the CAN network.

CVE-2020-11565

    Entropy Moe reported that the shared memory filesystem (tmpfs) did
    not correctly handle an "mpol" mount option specifying an empty
    node list, leading to a stack-based out-of-bounds write. If user
    namespaces are enabled, a local user could use this to cause a
    denial of service (crash) or possibly for privilege escalation.

CVE-2020-11608, CVE-2020-11609, CVE-2020-11668

    It was discovered that the ov519, stv06xx, and xirlink_cit media
    drivers did not properly validate USB device descriptors.  A
    physically present user with a specially constructed USB device
    could use this to cause a denial-of-service (crash) or possibly
    for privilege escalation.

CVE-2020-12114

    Piotr Krysiuk discovered a race condition between the umount and
    pivot_root operations in the filesystem core (vfs).  A local user
    with the CAP_SYS_ADMIN capability in any user namespace could use
    this to cause a denial of service (crash).

CVE-2020-12464

    Kyungtae Kim reported a race condition in the USB core that can
    result in a use-after-free.  It is not clear how this can be
    exploited, but it could result in a denial of service (crash or
    memory corruption) or privilege escalation.

CVE-2020-12652

    Tom Hatskevich reported a bug in the mptfusion storage drivers.
    An ioctl handler fetched a parameter from user memory twice,
    creating a race condition which could result in incorrect locking
    of internal data structures.  A local user permitted to access
    /dev/mptctl could use this to cause a denial of service (crash or
    memory corruption) or for privilege escalation.

CVE-2020-12653

    It was discovered that the mwifiex WiFi driver did not
    sufficiently validate scan requests, resulting a potential heap
    buffer overflow.  A local user with CAP_NET_ADMIN capability could
    use this to cause a denial of service (crash or memory corruption)
    or possibly for privilege escalation.

CVE-2020-12654

    It was discovered that the mwifiex WiFi driver did not
    sufficiently validate WMM parameters received from an access point
    (AP), resulting a potential heap buffer overflow.  A malicious AP
    could use this to cause a denial of service (crash or memory
    corruption) or possibly to execute code on a vulnerable system.

CVE-2020-12769

    It was discovered that the spi-dw SPI host driver did not properly
    serialise access to its internal state.  The security impact of
    this is unclear, and this driver is not included in Debian's
    binary packages.

CVE-2020-12770

    It was discovered that the sg (SCSI generic) driver did not
    correctly release internal resources in a particular error case.
    A local user permitted to access an sg device could possibly use
    this to cause a denial of service (resource exhaustion).

CVE-2020-12826

    Adam Zabrocki reported a weakness in the signal subsystem's
    permission checks.  A parent process can choose an arbitary signal
    for a child process to send when it exits, but if the parent has
    executed a new program then the default SIGCHLD signal is sent.  A
    local user permitted to run a program for several days could
    bypass this check, execute a setuid program, and then send an
    arbitrary signal to it.  Depending on the setuid programs
    installed, this could have some security impact.

CVE-2020-13143

    Kyungtae Kim reported a potential heap out-of-bounds write in
    the USB gadget subsystem.  A local user permitted to write to
    the gadget configuration filesystem could use this to cause a
    denial of service (crash or memory corruption) or potentially
    for privilege escalation.

For Debian 8 "Jessie", these problems have been fixed in version
3.16.84-1.

We recommend that you upgrade your linux packages.  Binary packages for
the EABI ARM (armel) architecture are not yet available, and a separate
announcement will be made when they are.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgpvpMY1PuWto.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from git.kernel.org_dae5c573_20250110_231031.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=e71237d3ff1abf9f3388337cfebf53b96df2020d)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=e71237d3ff1abf9f3388337cfebf53b96df2020d)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e71237d3ff1abf9f3388337cfebf53b96df2020d)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=e71237d3ff1abf9f3388337cfebf53b96df2020d)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Oliver Upton <oupton@google.com> | 2020-02-04 15:26:30 -0800 |
| --- | --- | --- |
| committer | Paolo Bonzini <pbonzini@redhat.com> | 2020-02-23 10:14:40 +0100 |
| commit | [e71237d3ff1abf9f3388337cfebf53b96df2020d](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e71237d3ff1abf9f3388337cfebf53b96df2020d) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=e71237d3ff1abf9f3388337cfebf53b96df2020d)) | |
| tree | [7b2d0cc07cb67c84412525dfa512ddd4812bc2a2](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=e71237d3ff1abf9f3388337cfebf53b96df2020d) | |
| parent | [07721feee46b4b248402133228235318199b05ec](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=07721feee46b4b248402133228235318199b05ec) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=e71237d3ff1abf9f3388337cfebf53b96df2020d&id2=07721feee46b4b248402133228235318199b05ec)) | |
| download | [linux-e71237d3ff1abf9f3388337cfebf53b96df2020d.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-e71237d3ff1abf9f3388337cfebf53b96df2020d.tar.gz) | |

KVM: nVMX: Refactor IO bitmap checks into helper functionChecks against the IO bitmap are useful for both instruction emulation
and VM-exit reflection. Refactor the IO bitmap checks into a helper
function.
Signed-off-by: Oliver Upton <oupton@google.com>
Reviewed-by: Vitaly Kuznetsov <vkuznets@redhat.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=e71237d3ff1abf9f3388337cfebf53b96df2020d)

| -rw-r--r-- | [arch/x86/kvm/vmx/nested.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/arch/x86/kvm/vmx/nested.c?id=e71237d3ff1abf9f3388337cfebf53b96df2020d) | 39 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [arch/x86/kvm/vmx/nested.h](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/arch/x86/kvm/vmx/nested.h?id=e71237d3ff1abf9f3388337cfebf53b96df2020d) | 2 | |  |  |  | | --- | --- | --- | |

2 files changed, 27 insertions, 14 deletions

| diff --git a/arch/x86/kvm/vmx/nested.c b/arch/x86/kvm/vmx/nested.cindex 50d8dbb3616d66..f979832c394d7c 100644--- a/[arch/x86/kvm/vmx/nested.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/nested.c?id=07721feee46b4b248402133228235318199b05ec)+++ b/[arch/x86/kvm/vmx/nested.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/nested.c?id=e71237d3ff1abf9f3388337cfebf53b96df2020d)@@ -5312,24 +5312,17 @@ fail: return 1; } --static bool nested\_vmx\_exit\_handled\_io(struct kvm\_vcpu \*vcpu,- struct vmcs12 \*vmcs12)+/\*+ \* Return true if an IO instruction with the specified port and size should cause+ \* a VM-exit into L1.+ \*/+bool nested\_vmx\_check\_io\_bitmaps(struct kvm\_vcpu \*vcpu, unsigned int port,+ int size) {- unsigned long exit\_qualification;+ struct vmcs12 \*vmcs12 = get\_vmcs12(vcpu); gpa\_t bitmap, last\_bitmap;- unsigned int port;- int size; u8 b; - if (!nested\_cpu\_has(vmcs12, CPU\_BASED\_USE\_IO\_BITMAPS))- return nested\_cpu\_has(vmcs12, CPU\_BASED\_UNCOND\_IO\_EXITING);-- exit\_qualification = vmcs\_readl(EXIT\_QUALIFICATION);-- port = exit\_qualification >> 16;- size = (exit\_qualification & 7) + 1;- last\_bitmap = (gpa\_t)-1; b = -1; @@ -5356,6 +5349,24 @@ static bool nested\_vmx\_exit\_handled\_io(struct kvm\_vcpu \*vcpu, return false; } +static bool nested\_vmx\_exit\_handled\_io(struct kvm\_vcpu \*vcpu,+ struct vmcs12 \*vmcs12)+{+ unsigned long exit\_qualification;+ unsigned int port;+ int size;++ if (!nested\_cpu\_has(vmcs12, CPU\_BASED\_USE\_IO\_BITMAPS))+ return nested\_cpu\_has(vmcs12, CPU\_BASED\_UNCOND\_IO\_EXITING);++ exit\_qualification = vmcs\_readl(EXIT\_QUALIFICATION);++ port = exit\_qualification >> 16;+ size = (exit\_qualification & 7) + 1;++ return nested\_vmx\_check\_io\_bitmaps(vcpu, port, size);+}+ /\* \* Return 1 if we should exit from L2 to L1 to handle an MSR access, \* rather than handle it ourselves in L0. I.e., check whether L1 expresseddiff --git a/arch/x86/kvm/vmx/nested.h b/arch/x86/kvm/vmx/nested.hindex 1db388f2a444a4..9aeda46f473ee3 100644--- a/[arch/x86/kvm/vmx/nested.h](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/nested.h?id=07721feee46b4b248402133228235318199b05ec)+++ b/[arch/x86/kvm/vmx/nested.h](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/nested.h?id=e71237d3ff1abf9f3388337cfebf53b96df2020d)@@ -33,6 +33,8 @@ int vmx\_get\_vmx\_msr(struct nested\_vmx\_msrs \*msrs, u32 msr\_index, u64 \*pdata); int get\_vmx\_mem\_address(struct kvm\_vcpu \*vcpu, unsigned long exit\_qualification, u32 vmx\_instruction\_info, bool wr, int len, gva\_t \*ret); void nested\_vmx\_pmu\_entry\_exit\_ctls\_update(struct kvm\_vcpu \*vcpu);+bool nested\_vmx\_check\_io\_bitmaps(struct kvm\_vcpu \*vcpu, unsigned int port,+ int size);  static inline struct vmcs12 \*get\_vmcs12(struct kvm\_vcpu \*vcpu) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 23:09:08 +0000



=== Content from linux.oracle.com_d747c558_20250110_231031.html ===

[Oracle](https://oracle.com "Oracle")

* [ULN](https://linux.oracle.com)
* [Support](https://www.oracle.com/us/technologies/linux/support/overview/)
* [Documentation](https://www.oracle.com/technetwork/server-storage/linux/documentation/)
* [Downloads](https://www.oracle.com/technetwork/server-storage/linux/downloads/index.html)

#### Stay Connected:

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

![](https://yum-qa.oracle.com/layout/i/mc07v4-banner-grey.jpg)
# ELSA-2020-5542

* [ULN](https://linux.oracle.com)Â >
* [Oracle Linux Errata repository](https://linux.oracle.com/errata) Â >
* ELSA-2020-5542

## ELSA-2020-5542 - Unbreakable Enterprise kernel security update

| **Type:** | SECURITY |
| --- | --- |
| **Severity:** | IMPORTANT |
| **Release Date:** | 2020-02-24 |

## Description

[4.1.12-124.36.1.1]
- KVM: nVMX: Check IO instruction VM-exit conditions (Oliver Upton) [Orabug: 30847137] {CVE-2020-2732}
- KVM: nVMX: Refactor IO bitmap checks into helper function (Oliver Upton) [Orabug: 30847137] {CVE-2020-2732}
- KVM: nVMX: Dont emulate instructions in guest mode (Paolo Bonzini) [Orabug: 30847137] {CVE-2020-2732}

## Related CVEs

| [CVE-2020-2732](https://linux.oracle.com/cve/CVE-2020-2732.html) |
| --- |

## Updated Packages

| **Release/Architecture** **Filename** | **MD5sum** | **Superseded By Advisory** | |
| --- | --- | --- | --- |
|  | | | |
| Oracle Linux 6 (x86\_64) | kernel-uek-4.1.12-124.36.1.1.el6uek.src.rpm | 6ad5c23c84a587b04d79f61d7e311f46 | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-4.1.12-124.36.1.1.el6uek.x86\_64.rpm | 8b586b591d5e1021383f87c0069ecab9 | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-debug-4.1.12-124.36.1.1.el6uek.x86\_64.rpm | 32b488fc34d118661a6948a9e0be944c | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-debug-devel-4.1.12-124.36.1.1.el6uek.x86\_64.rpm | fa8e4df43b667a0ceca5a9d933fb2ceb | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-devel-4.1.12-124.36.1.1.el6uek.x86\_64.rpm | 656cdd7d299e66a90fdd5ac5bdb5b18f | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-doc-4.1.12-124.36.1.1.el6uek.noarch.rpm | 8e971ee645d5cf035eebf69189e9c85e | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-firmware-4.1.12-124.36.1.1.el6uek.noarch.rpm | d39365d6903c20efbb9800cb4fc5ad93 | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | | | |
| Oracle Linux 7 (x86\_64) | kernel-uek-4.1.12-124.36.1.1.el7uek.src.rpm | c4a93c059617892507a86feda3336164 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-4.1.12-124.36.1.1.el7uek.x86\_64.rpm | 9cbb954489f6acc99e0ef79f36c60f1c | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-debug-4.1.12-124.36.1.1.el7uek.x86\_64.rpm | 921e7f3aa634f044ca92428d67f0ef7c | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-debug-devel-4.1.12-124.36.1.1.el7uek.x86\_64.rpm | 7e6a442c8491e5f3a1b23b6b6402bc07 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-devel-4.1.12-124.36.1.1.el7uek.x86\_64.rpm | 262b77d10cb8c714b6378c0ae57a4f45 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-doc-4.1.12-124.36.1.1.el7uek.noarch.rpm | c2c5783c6bb7158c37ab5c0f2fe4cb94 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-firmware-4.1.12-124.36.1.1.el7uek.noarch.rpm | 39b61f6513a6beaa29bf82950c6304e8 | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |

This page is generated automatically and has not been checked for errors or omissions. For clarification
or corrections please contact the [Oracle Linux ULN team](https://linux.oracle.com/)

## Technical information

* [Oracle Linux Certified Hardware](https://linux.oracle.com/hardware-certifications)
* [Oracle Linux Supported Releases](https://www.oracle.com/us/support/library/elsp-lifetime-069338.pdf)

## Oracle Linux Support

* [Oracle Linux Support](https://www.oracle.com/us/technologies/linux/OracleLinuxSupport/index.html)
* [Oracle Premier Support for Systems](https://www.oracle.com/us/support/premier/servers-storage/overview/index.html)
* [Advanced Customer Services](https://www.oracle.com/us/support/advanced-customer-services/overview/)

## Connect

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

## Contact Us

* [Global contacts](https://www.oracle.com/us/corporate/contact/global-070511.html)
* Oracle 1-800-633-0691

[![software.hardware.complete](//www.oracleimg.com/assets/mc04-footer-logo.png)](https://oracle.com)

[Subscribe](https://www.oracle.com/subscribe/index.html) | [Careers](https://www.oracle.com/corporate/employment/index.html) | [Contact Us](https://www.oracle.com/corporate/contact/index.html) | [Legal Notices](https://www.oracle.com/html/copyright.html) | [Terms of Use](https://www.oracle.com/html/terms.html) | [Your Privacy Rights](https://www.oracle.com/html/privacy.html)



=== Content from lists.debian.org_6dc6af3c_20250110_231032.html ===


---

[[Date Prev](msg00011.html)][[Date Next](msg00013.html)]
[[Thread Prev](msg00011.html)][[Thread Next](msg00013.html)]
[[Date Index](maillist.html#00012)]
[[Thread Index](threads.html#00012)]

# [SECURITY] [DLA 2242-1] linux-4.9 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2242-1] linux-4.9 security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Wed, 10 Jun 2020 11:48:38 +0100
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/789691b3720bbdbc7eaedacb5385bc248bffac7a.camel%40debian.org)Â [789691b3720bbdbc7eaedacb5385bc248bffac7a.camel@debian.org](msg00012.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
Package        : linux-4.9
Version        : 4.9.210-1+deb9u1~deb8u1
CVE ID         : CVE-2019-2182 CVE-2019-5108 CVE-2019-19319 CVE-2019-19462
                 CVE-2019-19768 CVE-2019-20806 CVE-2019-20811 CVE-2020-0543
                 CVE-2020-2732 CVE-2020-8428 CVE-2020-8647 CVE-2020-8648
                 CVE-2020-8649 CVE-2020-9383 CVE-2020-10711 CVE-2020-10732
                 CVE-2020-10751 CVE-2020-10757 CVE-2020-10942 CVE-2020-11494
                 CVE-2020-11565 CVE-2020-11608 CVE-2020-11609 CVE-2020-11668
                 CVE-2020-12114 CVE-2020-12464 CVE-2020-12652 CVE-2020-12653
                 CVE-2020-12654 CVE-2020-12770 CVE-2020-13143
Debian Bug     : 952660

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2019-2182

    Hanjun Guo and Lei Li reported a race condition in the arm64
    virtual memory management code, which could lead to an information
    disclosure, denial of service (crash), or possibly privilege
    escalation.

CVE-2019-5108

    Mitchell Frank of Cisco discovered that when the IEEE 802.11
    (WiFi) stack was used in AP mode with roaming, it would trigger
    roaming for a newly associated station before the station was
    authenticated.  An attacker within range of the AP could use this
    to cause a denial of service, either by filling up a switching
    table or by redirecting traffic away from other stations.

CVE-2019-19319

    Jungyeon discovered that a crafted filesystem can cause the ext4
    implementation to deallocate or reallocate journal blocks.  A user
    permitted to mount filesystems could use this to cause a denial of
    service (crash), or possibly for privilege escalation.

CVE-2019-19462

    The syzbot tool found a missing error check in the 'relay'
    library used to implement various files under debugfs.  A local
    user permitted to access debugfs could use this to cause a denial
    of service (crash) or possibly for privilege escalation.

CVE-2019-19768

    Tristan Madani reported a race condition in the blktrace debug
    facility that could result in a use-after-free.  A local user able
    to trigger removal of block devices could possibly use this to
    cause a denial of service (crash) or for privilege escalation.

CVE-2019-20806

    A potential null pointer dereference was discovered in the tw5864
    media driver.  The security impact of this is unclear.

CVE-2019-20811

    The Hulk Robot tool found a reference-counting bug in an error
    path in the network subsystem.  The security impact of this is
    unclear.

CVE-2020-0543

    Researchers at VU Amsterdam discovered that on some Intel CPUs
    supporting the RDRAND and RDSEED instructions, part of a random
    value generated by these instructions may be used in a later
    speculative execution on any core of the same physical CPU.
    Depending on how these instructions are used by applications, a
    local user or VM guest could use this to obtain sensitive
    information such as cryptographic keys from other users or VMs.

    This vulnerability can be mitigated by a microcode update, either
    as part of system firmware (BIOS) or through the intel-microcode
    package in Debian's non-free archive section.  This kernel update
    only provides reporting of the vulnerability and the option to
    disable the mitigation if it is not needed.

CVE-2020-2732

    Paulo Bonzini discovered that the KVM implementation for Intel
    processors did not properly handle instruction emulation for L2
    guests when nested virtualization is enabled. This could allow an
    L2 guest to cause privilege escalation, denial of service, or
    information leaks in the L1 guest.

CVE-2020-8428

    Al Viro discovered a potential use-after-free in the filesystem
    core (vfs).  A local user could exploit this to cause a denial of
    service (crash) or possibly to obtain sensitive information from
    the kernel.

CVE-2020-8647, CVE-2020-8649

    The Hulk Robot tool found a potential MMIO out-of-bounds access in
    the vgacon driver.  A local user permitted to access a virtual
    terminal (/dev/tty1 etc.) on a system using the vgacon driver
    could use this to cause a denial of service (crash or memory
    corruption) or possibly for privilege escalation.

CVE-2020-8648

    The syzbot tool found a race condition in the the virtual terminal
    driver, which could result in a use-after-free.  A local user
    permitted to access a virtual terminal could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

CVE-2020-9383

    Jordy Zomer reported an incorrect range check in the floppy driver
    which could lead to a static out-of-bounds access.  A local user
    permitted to access a floppy drive could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

CVE-2020-10711

    Matthew Sheets reported NULL pointer dereference issues in the
    SELinux subsystem while receiving CIPSO packet with null category. A
    remote attacker can take advantage of this flaw to cause a denial of
    service (crash). Note that this issue does not affect the binary
    packages distributed in Debian as CONFIG_NETLABEL is not enabled.

CVE-2020-10732

    An information leak of kernel private memory to userspace was found
    in the kernel's implementation of core dumping userspace processes.

CVE-2020-10751

    Dmitry Vyukov reported that the SELinux subsystem did not properly
    handle validating multiple messages, which could allow a privileged
    attacker to bypass SELinux netlink restrictions.

CVE-2020-10757

    Fan Yang reported a flaw in the way mremap handled DAX hugepages,
    allowing a local user to escalate their privileges

CVE-2020-10942

    It was discovered that the vhost_net driver did not properly
    validate the type of sockets set as back-ends. A local user
    permitted to access /dev/vhost-net could use this to cause a stack
    corruption via crafted system calls, resulting in denial of
    service (crash) or possibly privilege escalation.

CVE-2020-11494

    It was discovered that the slcan (serial line CAN) network driver
    did not fully initialise CAN headers for received packets,
    resulting in an information leak from the kernel to user-space or
    over the CAN network.

CVE-2020-11565

    Entropy Moe reported that the shared memory filesystem (tmpfs) did
    not correctly handle an "mpol" mount option specifying an empty
    node list, leading to a stack-based out-of-bounds write. If user
    namespaces are enabled, a local user could use this to cause a
    denial of service (crash) or possibly for privilege escalation.

CVE-2020-11608, CVE-2020-11609, CVE-2020-11668

    It was discovered that the ov519, stv06xx, and xirlink_cit media
    drivers did not properly validate USB device descriptors.  A
    physically present user with a specially constructed USB device
    could use this to cause a denial-of-service (crash) or possibly
    for privilege escalation.

CVE-2020-12114

    Piotr Krysiuk discovered a race condition between the umount and
    pivot_root operations in the filesystem core (vfs).  A local user
    with the CAP_SYS_ADMIN capability in any user namespace could use
    this to cause a denial of service (crash).

CVE-2020-12464

    Kyungtae Kim reported a race condition in the USB core that can
    result in a use-after-free.  It is not clear how this can be
    exploited, but it could result in a denial of service (crash or
    memory corruption) or privilege escalation.

CVE-2020-12652

    Tom Hatskevich reported a bug in the mptfusion storage drivers.
    An ioctl handler fetched a parameter from user memory twice,
    creating a race condition which could result in incorrect locking
    of internal data structures.  A local user permitted to access
    /dev/mptctl could use this to cause a denial of service (crash or
    memory corruption) or for privilege escalation.

CVE-2020-12653

    It was discovered that the mwifiex WiFi driver did not
    sufficiently validate scan requests, resulting a potential heap
    buffer overflow.  A local user with CAP_NET_ADMIN capability could
    use this to cause a denial of service (crash or memory corruption)
    or possibly for privilege escalation.

CVE-2020-12654

    It was discovered that the mwifiex WiFi driver did not
    sufficiently validate WMM parameters received from an access point
    (AP), resulting a potential heap buffer overflow.  A malicious AP
    could use this to cause a denial of service (crash or memory
    corruption) or possibly to execute code on a vulnerable system.

CVE-2020-12770

    It was discovered that the sg (SCSI generic) driver did not
    correctly release internal resources in a particular error case.
    A local user permitted to access an sg device could possibly use
    this to cause a denial of service (resource exhaustion).

CVE-2020-13143

    Kyungtae Kim reported a potential heap out-of-bounds write in
    the USB gadget subsystem.  A local user permitted to write to
    the gadget configuration filesystem could use this to cause a
    denial of service (crash or memory corruption) or potentially
    for privilege escalation.

For Debian 8 "Jessie", these problems have been fixed in version
4.9.210-1+deb9u1~deb8u1.  This version also fixes some related bugs
that do not have their own CVE IDs, and a regression in the macvlan
driver introduced in the previous security update (bug #952660).

We recommend that you upgrade your linux-4.9 packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgpeI_h2IKIqu.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from www.openwall.com_adf40bdf_20250110_231033.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux Â  *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper Â  *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists Â  *for password cracking*](/wordlists/)+ [passwdqc Â  *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt Â  *KDF & password hashing*](/yescrypt/)+ [yespower Â  *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish Â  *password hashing*](/crypt/)+ [phpass Â  *ditto in PHP*](/phpass/)+ [tcb Â  *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd Â  *port scan detector*](/scanlogd/)+ [popa3d Â  *tiny POP3 daemon*](/popa3d/)+ [blists Â  *web interface to mailing lists*](/blists/)+ [msulogin Â  *single user mode login*](/msulogin/)+ [php\_mt\_seed Â  *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[thread-next>]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <d22f908e-2c27-4067-cdef-a009ddebf344@oracle.com>
Date: Mon, 24 Feb 2020 14:41:35 -0500
From: Boris Ostrovsky <boris.ostrovsky@...cle.com>
To: oss-security@...ts.openwall.com
Subject: CVE-2020-2732: Nested VMX vulnerability

Under certain circumstances, an L2 guest may trick the L0 hypervisor into accessing sensitive L1 resources that are supposed to be inaccessible to the L2 guest
according to L1 hypervisor configuration.

Only Intel processors are affected.

Patches are attached. From cover letter:

  vmx_check_intercept is not yet fully implemented by KVM on Intel processors,
  causing e.g. the I/O or MSR interception bitmaps not to be checked.
  In general we can just disallow instruction emulation on behalf of L1,
  but this series also implements I/O port checks.

Thanks.
-boris

Download attachment "[CVE-2020-2732.tgz](3/1)" of type "application/x-compressed-tar" (2744 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.debian.org_1990dfb1_20250110_231032.html ===


---

[[Date Prev](msg00101.html)][[Date Next](msg00103.html)]
[[Thread Prev](msg00101.html)][[Thread Next](msg00103.html)]
[[Date Index](maillist.html#00102)]
[[Thread Index](threads.html#00102)]

# [SECURITY] [DSA 4698-1] linux security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4698-1] linux security update
* *From*: Salvatore Bonaccorso <carnil@debian.org>
* *Date*: Tue, 09 Jun 2020 19:44:16 +0000
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/E1jikAS-0001HJ-13%40seger.debian.org)Â [E1jikAS-0001HJ-13@seger.debian.org](msg00102.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4698-1                   security@debian.org
<https://www.debian.org/security/>                            Ben Hutchings
June 09, 2020                         <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : linux
CVE ID         : CVE-2019-2182 CVE-2019-5108 CVE-2019-19319 CVE-2019-19462
                 CVE-2019-19768 CVE-2019-20806 CVE-2019-20811 CVE-2020-0543
                 CVE-2020-2732 CVE-2020-8428 CVE-2020-8647 CVE-2020-8648
                 CVE-2020-8649 CVE-2020-9383 CVE-2020-10711 CVE-2020-10732
                 CVE-2020-10751 CVE-2020-10757 CVE-2020-10942 CVE-2020-11494
                 CVE-2020-11565 CVE-2020-11608 CVE-2020-11609 CVE-2020-11668
                 CVE-2020-12114 CVE-2020-12464 CVE-2020-12652 CVE-2020-12653
                 CVE-2020-12654 CVE-2020-12770 CVE-2020-13143
Debian Bug     : 952660

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2019-2182

    Hanjun Guo and Lei Li reported a race condition in the arm64
    virtual memory management code, which could lead to an information
    disclosure, denial of service (crash), or possibly privilege
    escalation.

CVE-2019-5108

    Mitchell Frank of Cisco discovered that when the IEEE 802.11
    (WiFi) stack was used in AP mode with roaming, it would trigger
    roaming for a newly associated station before the station was
    authenticated.  An attacker within range of the AP could use this
    to cause a denial of service, either by filling up a switching
    table or by redirecting traffic away from other stations.

CVE-2019-19319

    Jungyeon discovered that a crafted filesystem can cause the ext4
    implementation to deallocate or reallocate journal blocks.  A user
    permitted to mount filesystems could use this to cause a denial of
    service (crash), or possibly for privilege escalation.

CVE-2019-19462

    The syzbot tool found a missing error check in the 'relay'
    library used to implement various files under debugfs.  A local
    user permitted to access debugfs could use this to cause a denial
    of service (crash) or possibly for privilege escalation.

CVE-2019-19768

    Tristan Madani reported a race condition in the blktrace debug
    facility that could result in a use-after-free.  A local user able
    to trigger removal of block devices could possibly use this to
    cause a denial of service (crash) or for privilege escalation.

CVE-2019-20806

    A potential null pointer dereference was discovered in the tw5864
    media driver.  The security impact of this is unclear.

CVE-2019-20811

    The Hulk Robot tool found a reference-counting bug in an error
    path in the network subsystem.  The security impact of this is
    unclear.

CVE-2020-0543

    Researchers at VU Amsterdam discovered that on some Intel CPUs
    supporting the RDRAND and RDSEED instructions, part of a random
    value generated by these instructions may be used in a later
    speculative execution on any core of the same physical CPU.
    Depending on how these instructions are used by applications, a
    local user or VM guest could use this to obtain sensitive
    information such as cryptographic keys from other users or VMs.

    This vulnerability can be mitigated by a microcode update, either
    as part of system firmware (BIOS) or through the intel-microcode
    package in Debian's non-free archive section.  This kernel update
    only provides reporting of the vulnerability and the option to
    disable the mitigation if it is not needed.

CVE-2020-2732

    Paulo Bonzini discovered that the KVM implementation for Intel
    processors did not properly handle instruction emulation for L2
    guests when nested virtualization is enabled. This could allow an
    L2 guest to cause privilege escalation, denial of service, or
    information leaks in the L1 guest.

CVE-2020-8428

    Al Viro discovered a potential use-after-free in the filesystem
    core (vfs).  A local user could exploit this to cause a denial of
    service (crash) or possibly to obtain sensitive information from
    the kernel.

CVE-2020-8647, CVE-2020-8649

    The Hulk Robot tool found a potential MMIO out-of-bounds access in
    the vgacon driver.  A local user permitted to access a virtual
    terminal (/dev/tty1 etc.) on a system using the vgacon driver
    could use this to cause a denial of service (crash or memory
    corruption) or possibly for privilege escalation.

CVE-2020-8648

    The syzbot tool found a race condition in the the virtual terminal
    driver, which could result in a use-after-free.  A local user
    permitted to access a virtual terminal could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

CVE-2020-9383

    Jordy Zomer reported an incorrect range check in the floppy driver
    which could lead to a static out-of-bounds access.  A local user
    permitted to access a floppy drive could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

CVE-2020-10711

    Matthew Sheets reported NULL pointer dereference issues in the
    SELinux subsystem while receiving CIPSO packet with null category. A
    remote attacker can take advantage of this flaw to cause a denial of
    service (crash). Note that this issue does not affect the binary
    packages distributed in Debian as CONFIG_NETLABEL is not enabled.

CVE-2020-10732

    An information leak of kernel private memory to userspace was found
    in the kernel's implementation of core dumping userspace processes.

CVE-2020-10751

    Dmitry Vyukov reported that the SELinux subsystem did not properly
    handle validating multiple messages, which could allow a privileged
    attacker to bypass SELinux netlink restrictions.

CVE-2020-10757

    Fan Yang reported a flaw in the way mremap handled DAX hugepages,
    allowing a local user to escalate their privileges

CVE-2020-10942

    It was discovered that the vhost_net driver did not properly
    validate the type of sockets set as back-ends. A local user
    permitted to access /dev/vhost-net could use this to cause a stack
    corruption via crafted system calls, resulting in denial of
    service (crash) or possibly privilege escalation.

CVE-2020-11494

    It was discovered that the slcan (serial line CAN) network driver
    did not fully initialise CAN headers for received packets,
    resulting in an information leak from the kernel to user-space or
    over the CAN network.

CVE-2020-11565

    Entropy Moe reported that the shared memory filesystem (tmpfs) did
    not correctly handle an "mpol" mount option specifying an empty
    node list, leading to a stack-based out-of-bounds write. If user
    namespaces are enabled, a local user could use this to cause a
    denial of service (crash) or possibly for privilege escalation.

CVE-2020-11608, CVE-2020-11609, CVE-2020-11668

    It was discovered that the ov519, stv06xx, and xirlink_cit media
    drivers did not properly validate USB device descriptors.  A
    physically present user with a specially constructed USB device
    could use this to cause a denial-of-service (crash) or possibly
    for privilege escalation.

CVE-2020-12114

    Piotr Krysiuk discovered a race condition between the umount and
    pivot_root operations in the filesystem core (vfs).  A local user
    with the CAP_SYS_ADMIN capability in any user namespace could use
    this to cause a denial of service (crash).

CVE-2020-12464

    Kyungtae Kim reported a race condition in the USB core that can
    result in a use-after-free.  It is not clear how this can be
    exploited, but it could result in a denial of service (crash or
    memory corruption) or privilege escalation.

CVE-2020-12652

    Tom Hatskevich reported a bug in the mptfusion storage drivers.
    An ioctl handler fetched a parameter from user memory twice,
    creating a race condition which could result in incorrect locking
    of internal data structures.  A local user permitted to access
    /dev/mptctl could use this to cause a denial of service (crash or
    memory corruption) or for privilege escalation.

CVE-2020-12653

    It was discovered that the mwifiex WiFi driver did not
    sufficiently validate scan requests, resulting a potential heap
    buffer overflow.  A local user with CAP_NET_ADMIN capability could
    use this to cause a denial of service (crash or memory corruption)
    or possibly for privilege escalation.

CVE-2020-12654

    It was discovered that the mwifiex WiFi driver did not
    sufficiently validate WMM parameters received from an access point
    (AP), resulting a potential heap buffer overflow.  A malicious AP
    could use this to cause a denial of service (crash or memory
    corruption) or possibly to execute code on a vulnerable system.

CVE-2020-12770

    It was discovered that the sg (SCSI generic) driver did not
    correctly release internal resources in a particular error case.
    A local user permitted to access an sg device could possibly use
    this to cause a denial of service (resource exhaustion).

CVE-2020-13143

    Kyungtae Kim reported a potential heap out-of-bounds write in
    the USB gadget subsystem.  A local user permitted to write to
    the gadget configuration filesystem could use this to cause a
    denial of service (crash or memory corruption) or potentially
    for privilege escalation.

For the oldstable distribution (stretch), these problems have been
fixed in version 4.9.210-1+deb9u1.  This version also fixes some
related bugs that do not have their own CVE IDs, and a regression in
the macvlan driver introduced in the previous point release (bug
#952660).

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to its security
tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEERkRAmAjBceBVMd3uBUy48xNDz0QFAl7f5blfFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQACgkQBUy48xND
z0Sh5RAAmfLUcD69AFSfY6hVPLCvTHS0gVYHUk57NSP7vHaUqQPWXMv4lV6pJ1sp
I6sB7tuDW8MWERVy9lBuZrLhnhlhAfqhzkJ+F/yh6ze703QCf1mMoHBAI44yXGtB
fZDV2vxreXpJ4LfoBfGP2+yFiJXBBCRASgyNEtiBoHYG0yt1gfqXP5OjlaRJ5p1I
yElJ5Uj0MkclVj3nbupUmPs7V/2o4tPavOgTyLplTHTDfOMkK1Z86M0fUfh7fS97
ffwJutFObQuxrkO/2vtzTvaXPnqHh5DUIEQzq5xKhK10+GUlkppqHvId1c//0krF
Wd1gZc2RXLkREQShh21BUaI2XxRTcOw7f6Nmz2QnwN/Q/dXGeWeCjPUGslna3BQs
d/pToA0OpbFNxkNKsbg+ovzMrB9C9aP03aDpSztbf/ZLReR+yOf74s9ypdeadGLC
qKmHcFRWP25ct/ZOxNnTquEwd2NT6qDc9Iu6VNdXb2ndRz1zFU/OZlZ3oEPkrCIp
FxJ+j8jpMFJsluE09UjAxH4AhyNAPjPcCr3M+fkgG+WPgzxSHdKComDN06O53iVi
kWbN/AQPXiLlWHuKpCWbS87dZUyT1K1Wf+7mJbsAUfrrd+1mgWSHTRw1QNii74CR
bD91B+70LVu2UCKKxtnOIJ3+iUiUwBNPYw70B0cc3vZTv9O7q7k=
=WzfN
-----END PGP SIGNATURE-----

```

---



=== Content from linux.oracle.com_4ff5f08b_20250110_231031.html ===

[Oracle](https://oracle.com "Oracle")

* [ULN](https://linux.oracle.com)
* [Support](https://www.oracle.com/us/technologies/linux/support/overview/)
* [Documentation](https://www.oracle.com/technetwork/server-storage/linux/documentation/)
* [Downloads](https://www.oracle.com/technetwork/server-storage/linux/downloads/index.html)

#### Stay Connected:

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

![](https://yum-qa.oracle.com/layout/i/mc07v4-banner-grey.jpg)
# ELSA-2020-5540

* [ULN](https://linux.oracle.com)Â >
* [Oracle Linux Errata repository](https://linux.oracle.com/errata) Â >
* ELSA-2020-5540

## ELSA-2020-5540 - Unbreakable Enterprise kernel security update

| **Type:** | SECURITY |
| --- | --- |
| **Severity:** | IMPORTANT |
| **Release Date:** | 2020-02-24 |

## Description

[4.14.35-1902.10.8]
- KVM: nVMX: Check IO instruction VM-exit conditions (Oliver Upton) [Orabug: 30847136] {CVE-2020-2732}
- KVM: nVMX: Refactor IO bitmap checks into helper function (Oliver Upton) [Orabug: 30847136] {CVE-2020-2732}
- KVM: nVMX: Dont emulate instructions in guest mode (Paolo Bonzini) [Orabug: 30847136] {CVE-2020-2732}

## Related CVEs

| [CVE-2020-2732](https://linux.oracle.com/cve/CVE-2020-2732.html) |
| --- |

## Updated Packages

| **Release/Architecture** **Filename** | **MD5sum** | **Superseded By Advisory** | |
| --- | --- | --- | --- |
|  | | | |
| Oracle Linux 7 (aarch64) | kernel-uek-4.14.35-1902.10.8.el7uek.src.rpm | 65cf85f49c6ee5a3100bf4f8095933d0 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-4.14.35-1902.10.8.el7uek.aarch64.rpm | a93b25bd0b339c9145bbeb3bc5cc9704 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-debug-4.14.35-1902.10.8.el7uek.aarch64.rpm | a2c9a7c79f93e58a46dd74fef3032fbb | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-debug-devel-4.14.35-1902.10.8.el7uek.aarch64.rpm | f34b00bdc48d7b25dd6408b95c895416 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-devel-4.14.35-1902.10.8.el7uek.aarch64.rpm | 1e6aa745c12bfe5af159f26eb4aef0db | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-headers-4.14.35-1902.10.8.el7uek.aarch64.rpm | 7d6b7310a106d4a661b04f352c339e50 | [ELSA-2021-9222](https://linux.oracle.com/errata/ELSA-2021-9222.html) |
|  | kernel-uek-tools-4.14.35-1902.10.8.el7uek.aarch64.rpm | 6e4853f053a5765b66f5d3ef28c5ea41 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-tools-libs-4.14.35-1902.10.8.el7uek.aarch64.rpm | cafd5158d94dbbaf62f126d1b5e4842a | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-tools-libs-devel-4.14.35-1902.10.8.el7uek.aarch64.rpm | 8184bd9b7ca988c4c64a72f596a2467e | [ELSA-2021-9222](https://linux.oracle.com/errata/ELSA-2021-9222.html) |
|  | perf-4.14.35-1902.10.8.el7uek.aarch64.rpm | 17c3af4605a657bc2cd26e1c6212aad4 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | python-perf-4.14.35-1902.10.8.el7uek.aarch64.rpm | 9bca79755acd196315e4de7a84239b7a | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | | | |
| Oracle Linux 7 (x86\_64) | kernel-uek-4.14.35-1902.10.8.el7uek.src.rpm | 65cf85f49c6ee5a3100bf4f8095933d0 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-4.14.35-1902.10.8.el7uek.x86\_64.rpm | b5c0307b39489f3aadab8d4892a5185b | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-debug-4.14.35-1902.10.8.el7uek.x86\_64.rpm | 67d8f1c9a361d572666da56a5076eac2 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-debug-devel-4.14.35-1902.10.8.el7uek.x86\_64.rpm | c5228690b06c88786cd41f69e945a351 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-devel-4.14.35-1902.10.8.el7uek.x86\_64.rpm | beb34c18eacbe4ee3795bfd50ff94941 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-doc-4.14.35-1902.10.8.el7uek.noarch.rpm | feff288dcb1a62036ff585ff4ba2f6ad | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-tools-4.14.35-1902.10.8.el7uek.x86\_64.rpm | 42126c187a0858ddf8b86a284d1b8343 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |

This page is generated automatically and has not been checked for errors or omissions. For clarification
or corrections please contact the [Oracle Linux ULN team](https://linux.oracle.com/)

## Technical information

* [Oracle Linux Certified Hardware](https://linux.oracle.com/hardware-certifications)
* [Oracle Linux Supported Releases](https://www.oracle.com/us/support/library/elsp-lifetime-069338.pdf)

## Oracle Linux Support

* [Oracle Linux Support](https://www.oracle.com/us/technologies/linux/OracleLinuxSupport/index.html)
* [Oracle Premier Support for Systems](https://www.oracle.com/us/support/premier/servers-storage/overview/index.html)
* [Advanced Customer Services](https://www.oracle.com/us/support/advanced-customer-services/overview/)

## Connect

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

## Contact Us

* [Global contacts](https://www.oracle.com/us/corporate/contact/global-070511.html)
* Oracle 1-800-633-0691

[![software.hardware.complete](//www.oracleimg.com/assets/mc04-footer-logo.png)](https://oracle.com)

[Subscribe](https://www.oracle.com/subscribe/index.html) | [Careers](https://www.oracle.com/corporate/employment/index.html) | [Contact Us](https://www.oracle.com/corporate/contact/index.html) | [Legal Notices](https://www.oracle.com/html/copyright.html) | [Terms of Use](https://www.oracle.com/html/terms.html) | [Your Privacy Rights](https://www.oracle.com/html/privacy.html)



=== Content from www.spinics.net_df353da6_20250110_231034.html ===


# [FYI PATCH 0/3] CVE-2020-2732

[[Date Prev](msg208258.html)][[Date Next](msg208260.html)][[Thread Prev](msg208239.html)][[Thread Next](msg208256.html)][[Date Index](mail2.html#208259)][[Thread Index](index.html#208259)]

---

* *Subject*: [FYI PATCH 0/3] CVE-2020-2732
* *From*: Paolo Bonzini <pbonzini@xxxxxxxxxx>
* *Date*: Mon, 24 Feb 2020 19:56:33 +0100
* *Cc*: oupton@xxxxxxxxxx

---

```
vmx_check_intercept is not yet fully implemented by KVM on Intel processors,
causing e.g. the I/O or MSR interception bitmaps not to be checked.
In general we can just disallow instruction emulation on behalf of L1,
but this series also implements I/O port checks.

Paolo

Oliver Upton (2):
  KVM: nVMX: Refactor IO bitmap checks into helper function
  KVM: nVMX: Check IO instruction VM-exit conditions

Paolo Bonzini (1):
  KVM: nVMX: Don't emulate instructions in guest mode

 arch/x86/kvm/vmx/nested.c | 39 ++++++++++++++++++++-----------
 arch/x86/kvm/vmx/nested.h |  2 ++
 arch/x86/kvm/vmx/vmx.c    | 59 +++++++++++++++++++++++++++++++++++++++++------
 3 files changed, 79 insertions(+), 21 deletions(-)

--
1.8.3.1

```

---

* **Follow-Ups**:
  + **[[FYI PATCH 1/3] KVM: nVMX: Don't emulate instructions in guest mode](msg208258.html)**
    - *From:* Paolo Bonzini
  + **[[FYI PATCH 2/3] KVM: nVMX: Refactor IO bitmap checks into helper function](msg208257.html)**
    - *From:* Paolo Bonzini
  + **[[FYI PATCH 3/3] KVM: nVMX: Check IO instruction VM-exit conditions](msg208256.html)**
    - *From:* Paolo Bonzini

* Prev by Date:
  **[[FYI PATCH 1/3] KVM: nVMX: Don't emulate instructions in guest mode](msg208258.html)**
* Next by Date:
  **[[GIT PULL] KVM changes for Linux 5.6-rc4](msg208260.html)**
* Previous by thread:
  **[[PATCH] KVM: selftests: Fix unknown ucall command asserts](msg208239.html)**
* Next by thread:
  **[[FYI PATCH 3/3] KVM: nVMX: Check IO instruction VM-exit conditions](msg208256.html)**
* Index(es):
  + [**Date**](mail2.html#208259)
  + [**Thread**](index.html#208259)

[[IndexÂ ofÂ Archives]](/lists/)

[[KVMÂ ARM]](/lists/kvm-arm/)

[[KVMÂ ia64]](/lists/kvm-ia64/)

[[KVMÂ ppc]](/lists/kvm-ppc/)

[[VirtualizationÂ Tools]](/lists/virt-tools/)

[[SpiceÂ Development]](/lists/spice-devel/)

[[Libvirt]](/linux/fedora/libvir/)

[[LibvirtÂ Users]](/linux/fedora/libvirt-users/)

[[LinuxÂ USBÂ Devel]](/lists/linux-usb/)

[[LinuxÂ AudioÂ Users]](/lists/linux-audio-users/)

[[YosemiteÂ Questions]](https://yosemitenews.info/)

[[LinuxÂ Kernel]](/lists/kernel/)

[[LinuxÂ SCSI]](/lists/linux-scsi/)

[[XFree86]](/lists/xfree86/)

---

|  | [Powered by Linux](/linux) |
| --- | --- |



=== Content from bugzilla.redhat.com_1969d2c6_20250110_231030.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1805135)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1805135)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1805135)+ Login using a Red Hat Bugzilla account
  + ForgotÂ Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla â€“ BugÂ 1805135

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**BugÂ 1805135**](show_bug.cgi?id=1805135)
(CVE-2020-2732)
- [CVE-2020-2732](https://access.redhat.com/security/cve/CVE-2020-2732) Kernel: kvm: nVMX: L2 guest may trick the L0 hypervisor to access sensitive L1 resources

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2020-2732 Kernel: kvm: nVMX: L2 guest may trick the L0 hypervisor to acce...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2020-2732 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1806816](show_bug.cgi?id=1806816 "CLOSED ERRATA - CVE-2020-2732 kernel: kvm: nVMX: L2 guest may trick the L0 hypervisor to access sensitive L1 resources [fedora-all]") [1806817](show_bug.cgi?id=1806817) [1806818](show_bug.cgi?id=1806818) [1806819](show_bug.cgi?id=1806819) [1806820](show_bug.cgi?id=1806820) [1824398](show_bug.cgi?id=1824398) [1824399](show_bug.cgi?id=1824399) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1805137](show_bug.cgi?id=1805137) | | TreeView+ | [depends on](buglist.cgi?bug_id=1805135&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1805135&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2020-02-20 10:49 UTC by Marian Rehak | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-10-06 19:15 UTC ([History](show_activity.cgi?id=1805135)) | | [CC List:](page.cgi?id=fields.html#cclist) | 48 users (show)  acaringi airlied bhu blc brdeoliv bskeggs dhoward dvlasenk esammons fhrbata hdegoede hkrzesin iboverma ichavero itamar jarodwilson jeremy jforbes jglisse jlelli john.j5live jonathan josef jross jshortt jstancek jwboyer kernel-maint kernel-mgr klaas labbott lgoncalv linville masami256 matt mchehab mcressma mjg59 mlangsdo nmurray pbonzini ppandit qzhao rt-maint rvrbovsk security-response-team steved williams | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: | A flaw was found in the way KVM hypervisor handled instruction emulation for the L2 guest when nested(=1) virtualization is enabled. In the instruction emulation, the L2 guest could trick the L0 hypervisor into accessing sensitive bits of the L1 hypervisor. An L2 guest could use this flaw to potentially access information of the L1 hypervisor. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2020-05-12 16:32:14 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Preliminary patch**](attachment.cgi?id=1664312 "View the content of the attachment") (2.52 KB, patch)  [2020-02-20 10:52 UTC](#attach_1664312 "Go to the comment associated with the attachment"), Marian Rehak | *no flags* | [Details](attachment.cgi?id=1664312&action=edit) | [Diff](attachment.cgi?id=1664312&action=diff) | | [View All](attachment.cgi?bugid=1805135&action=viewall) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHBA-2020:2172](https://access.redhat.com/errata/RHBA-2020%3A2172) | 0 | None | None | None | 2020-05-18 01:01:28 UTC | | Red Hat Product Errata | [RHBA-2020:2173](https://access.redhat.com/errata/RHBA-2020%3A2173) | 0 | None | None | None | 2020-05-18 02:22:18 UTC | | Red Hat Product Errata | [RHBA-2020:2578](https://access.redhat.com/errata/RHBA-2020%3A2578) | 0 | None | None | None | 2020-06-16 11:55:42 UTC | | Red Hat Product Errata | [RHBA-2020:4416](https://access.redhat.com/errata/RHBA-2020%3A4416) | 0 | None | None | None | 2020-10-29 15:10:13 UTC | | Red Hat Product Errata | [RHBA-2020:4417](https://access.redhat.com/errata/RHBA-2020%3A4417) | 0 | None | None | None | 2020-10-29 15:08:44 UTC | | Red Hat Product Errata | [RHBA-2020:4418](https://access.redhat.com/errata/RHBA-2020%3A4418) | 0 | None | None | None | 2020-10-29 15:14:06 UTC | | Red Hat Product Errata | [RHBA-2020:4419](https://access.redhat.com/errata/RHBA-2020%3A4419) | 0 | None | None | None | 2020-10-29 15:12:33 UTC | | Red Hat Product Errata | [RHBA-2020:4420](https://access.redhat.com/errata/RHBA-2020%3A4420) | 0 | None | None | None | 2020-10-29 15:51:28 UTC | | Red Hat Product Errata | [RHSA-2020:2102](https://access.redhat.com/errata/RHSA-2020%3A2102) | 0 | None | None | None | 2020-05-12 15:27:11 UTC | | Red Hat Product Errata | [RHSA-2020:2171](https://access.redhat.com/errata/RHSA-2020%3A2171) | 0 | None | None | None | 2020-05-14 19:07:01 UTC | | Red Hat Product Errata | [RHSA-2020:4060](https://access.redhat.com/errata/RHSA-2020%3A4060) | 0 | None | None | None | 2020-09-29 20:53:25 UTC | | Red Hat Product Errata | [RHSA-2020:4062](https://access.redhat.com/errata/RHSA-2020%3A4062) | 0 | None | None | None | 2020-09-29 18:59:21 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1805135#c0)  Marian Rehak    2020-02-20 10:49:58 UTC  ``` Under certain circumstances, an L2 guest may trick the L0 hypervisor into accessing sensitive L1 resources that are supposed to be inaccessible to the L2 guest according to L1 hypervisor configuration.  Only Intel processors are affected. It requires netsted virtualization to be enabled, ie. kvm-intel.nested=1.  Upstream patch(es): -------------------   -> <https://www.spinics.net/lists/kvm/msg208259.html>   -> <https://git.kernel.org/linus/07721feee46b4b248402133228235318199b05ec>   -> <https://git.kernel.org/linus/35a571346a94fb93b5b3b6a599675ef3384bc75c>   -> <https://git.kernel.org/linus/e71237d3ff1abf9f3388337cfebf53b96df2020d>  Reference: ----------   -> <https://www.openwall.com/lists/oss-security/2020/02/25/3>   ```  [Comment 1](show_bug.cgi?id=1805135#c1)  Marian Rehak    2020-02-20 10:50:06 UTC  ``` Acknowledgments:  Name: Paolo Bonzini (Red Hat)   ```  [Comment 2](show_bug.cgi?id=1805135#c2)  Marian Rehak    2020-02-20 10:52:19 UTC  ``` Created [attachment 1664312](attachment.cgi?id=1664312&action=diff "Preliminary patch") [[details]](attachment.cgi?id=1664312&action=edit "Preliminary patch") Preliminary patch   ```  [Comment 3](show_bug.cgi?id=1805135#c3)  Prasad Pandit    2020-02-25 05:18:17 UTC  ``` Created kernel tracking bugs for this issue:  Affects: fedora-all [[bug 1806816](show_bug.cgi?id=1806816 "CLOSED ERRATA - CVE-2020-2732 kernel: kvm: nVMX: L2 guest may trick the L0 hypervisor to access sensitive L1 resources [fedora-all]")]   ```  [Comment 5](show_bug.cgi?id=1805135#c5)  Paolo Bonzini    2020-03-04 15:18:28 UTC  ``` Also: <https://git.kernel.org/linus/86f7e90ce840aa1db407d3ea6e9b3a52b2ce923c>   ```  [Comment 8](show_bug.cgi?id=1805135#c8)  errata-xmlrpc    2020-05-12 15:27:08 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 8  Via RHSA-2020:2102 [https://access.redhat.com/errata/RHSA-2020:2102](https://access.redhat.com/errata/RHSA-2020%3A2102)   ```  [Comment 9](show_bug.cgi?id=1805135#c9)  Product Security DevOps Team    2020-05-12 16:32:14 UTC  ``` This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):  <https://access.redhat.com/security/cve/cve-2020-2732>   ```  [Comment 10](show_bug.cgi?id=1805135#c10)  errata-xmlrpc    2020-05-14 19:06:59 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 8  Via RHSA-2020:2171 [https://access.redhat.com/errata/RHSA-2020:2171](https://access.redhat.com/errata/RHSA-2020%3A2171)   ```  [Comment 11](show_bug.cgi?id=1805135#c11)  errata-xmlrpc    2020-09-29 18:59:21 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2020:4062 [https://access.redhat.com/errata/RHSA-2020:4062](https://access.redhat.com/errata/RHSA-2020%3A4062)   ```  [Comment 12](show_bug.cgi?id=1805135#c12)  errata-xmlrpc    2020-09-29 20:53:21 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2020:4060 [https://access.redhat.com/errata/RHSA-2020:4060](https://access.redhat.com/errata/RHSA-2020%3A4060)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1805135&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from git.kernel.org_811241d1_20250110_231030.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=07721feee46b4b248402133228235318199b05ec)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=07721feee46b4b248402133228235318199b05ec)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=07721feee46b4b248402133228235318199b05ec)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=07721feee46b4b248402133228235318199b05ec)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Paolo Bonzini <pbonzini@redhat.com> | 2020-02-04 15:26:29 -0800 |
| --- | --- | --- |
| committer | Paolo Bonzini <pbonzini@redhat.com> | 2020-02-23 10:11:55 +0100 |
| commit | [07721feee46b4b248402133228235318199b05ec](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=07721feee46b4b248402133228235318199b05ec) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=07721feee46b4b248402133228235318199b05ec)) | |
| tree | [ff3c54f27b868ad188b952cef4b44a371918d166](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=07721feee46b4b248402133228235318199b05ec) | |
| parent | [5ef8acbdd687c9d72582e2c05c0b9756efb37863](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5ef8acbdd687c9d72582e2c05c0b9756efb37863) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=07721feee46b4b248402133228235318199b05ec&id2=5ef8acbdd687c9d72582e2c05c0b9756efb37863)) | |
| download | [linux-07721feee46b4b248402133228235318199b05ec.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-07721feee46b4b248402133228235318199b05ec.tar.gz) | |

KVM: nVMX: Don't emulate instructions in guest modevmx\_check\_intercept is not yet fully implemented. To avoid emulating
instructions disallowed by the L1 hypervisor, refuse to emulate
instructions by default.
Cc: stable@vger.kernel.org
[Made commit, added commit msg - Oliver]
Signed-off-by: Oliver Upton <oupton@google.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=07721feee46b4b248402133228235318199b05ec)

| -rw-r--r-- | [arch/x86/kvm/vmx/vmx.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/arch/x86/kvm/vmx/vmx.c?id=07721feee46b4b248402133228235318199b05ec) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/arch/x86/kvm/vmx/vmx.c b/arch/x86/kvm/vmx/vmx.cindex dcca514ffd42cc..5801a86f9c2439 100644--- a/[arch/x86/kvm/vmx/vmx.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/vmx.c?id=5ef8acbdd687c9d72582e2c05c0b9756efb37863)+++ b/[arch/x86/kvm/vmx/vmx.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/vmx.c?id=07721feee46b4b248402133228235318199b05ec)@@ -7164,7 +7164,7 @@ static int vmx\_check\_intercept(struct kvm\_vcpu \*vcpu, }  /\* TODO: check more intercepts... \*/- return X86EMUL\_CONTINUE;+ return X86EMUL\_UNHANDLEABLE; }  #ifdef CONFIG\_X86\_64 |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 23:09:07 +0000



=== Content from linux.oracle.com_7a6d1a51_20250110_231031.html ===

[Oracle](https://oracle.com "Oracle")

* [ULN](https://linux.oracle.com)
* [Support](https://www.oracle.com/us/technologies/linux/support/overview/)
* [Documentation](https://www.oracle.com/technetwork/server-storage/linux/documentation/)
* [Downloads](https://www.oracle.com/technetwork/server-storage/linux/downloads/index.html)

#### Stay Connected:

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

![](https://yum-qa.oracle.com/layout/i/mc07v4-banner-grey.jpg)
# ELSA-2020-5543

* [ULN](https://linux.oracle.com)Â >
* [Oracle Linux Errata repository](https://linux.oracle.com/errata) Â >
* ELSA-2020-5543

## ELSA-2020-5543 - Unbreakable Enterprise kernel security update

| **Type:** | SECURITY |
| --- | --- |
| **Severity:** | IMPORTANT |
| **Release Date:** | 2020-02-24 |

## Description

[4.1.12-124.36.4]
- KVM: nVMX: Check IO instruction VM-exit conditions (Oliver Upton) [Orabug: 30944739] {CVE-2020-2732}
- KVM: nVMX: Refactor IO bitmap checks into helper function (Oliver Upton) [Orabug: 30944739] {CVE-2020-2732}
- KVM: nVMX: Don't emulate instructions in guest mode (Paolo Bonzini) [Orabug: 30944739] {CVE-2020-2732}

## Related CVEs

| [CVE-2020-2732](https://linux.oracle.com/cve/CVE-2020-2732.html) |
| --- |

## Updated Packages

| **Release/Architecture** **Filename** | **MD5sum** | **Superseded By Advisory** | |
| --- | --- | --- | --- |
|  | | | |
| Oracle Linux 6 (x86\_64) | kernel-uek-4.1.12-124.36.4.el6uek.src.rpm | b295a5ea681801fa3437ceae26075739 | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-4.1.12-124.36.4.el6uek.x86\_64.rpm | 2fe24a11abca8b35ddbf22299d022a5d | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-debug-4.1.12-124.36.4.el6uek.x86\_64.rpm | 75e2ad6f8077edee0c9497d27039454a | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-debug-devel-4.1.12-124.36.4.el6uek.x86\_64.rpm | 4d4ef7aed49f1ab69cc2045e4e1a125e | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-devel-4.1.12-124.36.4.el6uek.x86\_64.rpm | f118b481758aae70a63b0e5aba09a382 | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-doc-4.1.12-124.36.4.el6uek.noarch.rpm | 4dee682773a943025914bddac1b494c5 | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | kernel-uek-firmware-4.1.12-124.36.4.el6uek.noarch.rpm | 5c2e10563b5958e780f3fa8300c95cf9 | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |
|  | | | |
| Oracle Linux 7 (x86\_64) | kernel-uek-4.1.12-124.36.4.el7uek.src.rpm | 92dd5868f725cf60729e07eaddb2365c | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-4.1.12-124.36.4.el7uek.x86\_64.rpm | 67b7789b7a63ed671a10c015952490ad | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-debug-4.1.12-124.36.4.el7uek.x86\_64.rpm | 2c3b0330b3574d8069ebd893fac11539 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-debug-devel-4.1.12-124.36.4.el7uek.x86\_64.rpm | dc3baf38a8f501bb245dc47edc282089 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-devel-4.1.12-124.36.4.el7uek.x86\_64.rpm | ad295a8ced31832ba2db48cd54420fb0 | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-doc-4.1.12-124.36.4.el7uek.noarch.rpm | 89a45360828c4b6f407d48a06ee2786c | [ELSA-2021-9220](https://linux.oracle.com/errata/ELSA-2021-9220.html) |
|  | kernel-uek-firmware-4.1.12-124.36.4.el7uek.noarch.rpm | 4fb48af49cabbab65afb388d734d9008 | [ELSA-2021-9215](https://linux.oracle.com/errata/ELSA-2021-9215.html) |

This page is generated automatically and has not been checked for errors or omissions. For clarification
or corrections please contact the [Oracle Linux ULN team](https://linux.oracle.com/)

## Technical information

* [Oracle Linux Certified Hardware](https://linux.oracle.com/hardware-certifications)
* [Oracle Linux Supported Releases](https://www.oracle.com/us/support/library/elsp-lifetime-069338.pdf)

## Oracle Linux Support

* [Oracle Linux Support](https://www.oracle.com/us/technologies/linux/OracleLinuxSupport/index.html)
* [Oracle Premier Support for Systems](https://www.oracle.com/us/support/premier/servers-storage/overview/index.html)
* [Advanced Customer Services](https://www.oracle.com/us/support/advanced-customer-services/overview/)

## Connect

* [Facebook](https://www.facebook.com/oraclelinux "Facebook")
* [Twitter](https://www.twitter.com/OracleLinux "Twitter")
* [LinkedIn](https://www.linkedin.com/groups?gid=120238 "LinkedIn")
* [YouTube](https://www.youtube.com/oraclelinuxchannel "YouTube")
* [Blog](https://blogs.oracle.com/linux "Blog")

## Contact Us

* [Global contacts](https://www.oracle.com/us/corporate/contact/global-070511.html)
* Oracle 1-800-633-0691

[![software.hardware.complete](//www.oracleimg.com/assets/mc04-footer-logo.png)](https://oracle.com)

[Subscribe](https://www.oracle.com/subscribe/index.html) | [Careers](https://www.oracle.com/corporate/employment/index.html) | [Contact Us](https://www.oracle.com/corporate/contact/index.html) | [Legal Notices](https://www.oracle.com/html/copyright.html) | [Terms of Use](https://www.oracle.com/html/terms.html) | [Your Privacy Rights](https://www.oracle.com/html/privacy.html)



=== Content from git.kernel.org_3b5afed7_20250110_231030.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=35a571346a94fb93b5b3b6a599675ef3384bc75c)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=35a571346a94fb93b5b3b6a599675ef3384bc75c)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=35a571346a94fb93b5b3b6a599675ef3384bc75c)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=35a571346a94fb93b5b3b6a599675ef3384bc75c)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Oliver Upton <oupton@google.com> | 2020-02-04 15:26:31 -0800 |
| --- | --- | --- |
| committer | Paolo Bonzini <pbonzini@redhat.com> | 2020-02-23 10:16:32 +0100 |
| commit | [35a571346a94fb93b5b3b6a599675ef3384bc75c](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=35a571346a94fb93b5b3b6a599675ef3384bc75c) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=35a571346a94fb93b5b3b6a599675ef3384bc75c)) | |
| tree | [256cca4e944f6ac6b41a9092aff456c2a88caf28](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=35a571346a94fb93b5b3b6a599675ef3384bc75c) | |
| parent | [e71237d3ff1abf9f3388337cfebf53b96df2020d](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e71237d3ff1abf9f3388337cfebf53b96df2020d) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=35a571346a94fb93b5b3b6a599675ef3384bc75c&id2=e71237d3ff1abf9f3388337cfebf53b96df2020d)) | |
| download | [linux-35a571346a94fb93b5b3b6a599675ef3384bc75c.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-35a571346a94fb93b5b3b6a599675ef3384bc75c.tar.gz) | |

KVM: nVMX: Check IO instruction VM-exit conditionsConsult the 'unconditional IO exiting' and 'use IO bitmaps' VM-execution
controls when checking instruction interception. If the 'use IO bitmaps'
VM-execution control is 1, check the instruction access against the IO
bitmaps to determine if the instruction causes a VM-exit.
Signed-off-by: Oliver Upton <oupton@google.com>
Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=35a571346a94fb93b5b3b6a599675ef3384bc75c)

| -rw-r--r-- | [arch/x86/kvm/vmx/nested.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/arch/x86/kvm/vmx/nested.c?id=35a571346a94fb93b5b3b6a599675ef3384bc75c) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [arch/x86/kvm/vmx/vmx.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/arch/x86/kvm/vmx/vmx.c?id=35a571346a94fb93b5b3b6a599675ef3384bc75c) | 57 | |  |  |  | | --- | --- | --- | |

2 files changed, 52 insertions, 7 deletions

| diff --git a/arch/x86/kvm/vmx/nested.c b/arch/x86/kvm/vmx/nested.cindex f979832c394d7c..e920d7834d736e 100644--- a/[arch/x86/kvm/vmx/nested.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/nested.c?id=e71237d3ff1abf9f3388337cfebf53b96df2020d)+++ b/[arch/x86/kvm/vmx/nested.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/nested.c?id=35a571346a94fb93b5b3b6a599675ef3384bc75c)@@ -5353,7 +5353,7 @@ static bool nested\_vmx\_exit\_handled\_io(struct kvm\_vcpu \*vcpu, struct vmcs12 \*vmcs12) { unsigned long exit\_qualification;- unsigned int port;+ unsigned short port; int size;  if (!nested\_cpu\_has(vmcs12, CPU\_BASED\_USE\_IO\_BITMAPS))diff --git a/arch/x86/kvm/vmx/vmx.c b/arch/x86/kvm/vmx/vmx.cindex 5801a86f9c2439..63aaf44edd1ff6 100644--- a/[arch/x86/kvm/vmx/vmx.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/vmx.c?id=e71237d3ff1abf9f3388337cfebf53b96df2020d)+++ b/[arch/x86/kvm/vmx/vmx.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/vmx/vmx.c?id=35a571346a94fb93b5b3b6a599675ef3384bc75c)@@ -7145,6 +7145,39 @@ static void vmx\_request\_immediate\_exit(struct kvm\_vcpu \*vcpu) to\_vmx(vcpu)->req\_immediate\_exit = true; } +static int vmx\_check\_intercept\_io(struct kvm\_vcpu \*vcpu,+ struct x86\_instruction\_info \*info)+{+ struct vmcs12 \*vmcs12 = get\_vmcs12(vcpu);+ unsigned short port;+ bool intercept;+ int size;++ if (info->intercept == x86\_intercept\_in ||+ info->intercept == x86\_intercept\_ins) {+ port = info->src\_val;+ size = info->dst\_bytes;+ } else {+ port = info->dst\_val;+ size = info->src\_bytes;+ }++ /\*+ \* If the 'use IO bitmaps' VM-execution control is 0, IO instruction+ \* VM-exits depend on the 'unconditional IO exiting' VM-execution+ \* control.+ \*+ \* Otherwise, IO instruction VM-exits are controlled by the IO bitmaps.+ \*/+ if (!nested\_cpu\_has(vmcs12, CPU\_BASED\_USE\_IO\_BITMAPS))+ intercept = nested\_cpu\_has(vmcs12,+ CPU\_BASED\_UNCOND\_IO\_EXITING);+ else+ intercept = nested\_vmx\_check\_io\_bitmaps(vcpu, port, size);++ return intercept ? X86EMUL\_UNHANDLEABLE : X86EMUL\_CONTINUE;+}+ static int vmx\_check\_intercept(struct kvm\_vcpu \*vcpu, struct x86\_instruction\_info \*info, enum x86\_intercept\_stage stage)@@ -7152,18 +7185,30 @@ static int vmx\_check\_intercept(struct kvm\_vcpu \*vcpu, struct vmcs12 \*vmcs12 = get\_vmcs12(vcpu); struct x86\_emulate\_ctxt \*ctxt = &vcpu->arch.emulate\_ctxt; + switch (info->intercept) { /\* \* RDPID causes #UD if disabled through secondary execution controls. \* Because it is marked as EmulateOnUD, we need to intercept it here. \*/- if (info->intercept == x86\_intercept\_rdtscp &&- !nested\_cpu\_has2(vmcs12, SECONDARY\_EXEC\_RDTSCP)) {- ctxt->exception.vector = UD\_VECTOR;- ctxt->exception.error\_code\_valid = false;- return X86EMUL\_PROPAGATE\_FAULT;- }+ case x86\_intercept\_rdtscp:+ if (!nested\_cpu\_has2(vmcs12, SECONDARY\_EXEC\_RDTSCP)) {+ ctxt->exception.vector = UD\_VECTOR;+ ctxt->exception.error\_code\_valid = false;+ return X86EMUL\_PROPAGATE\_FAULT;+ }+ break;++ case x86\_intercept\_in:+ case x86\_intercept\_ins:+ case x86\_intercept\_out:+ case x86\_intercept\_outs:+ return vmx\_check\_intercept\_io(vcpu, info);  /\* TODO: check more intercepts... \*/+ default:+ break;+ }+ return X86EMUL\_UNHANDLEABLE; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 23:09:08 +0000



=== Content from lists.debian.org_4f0c4dca_20250110_231032.html ===


---

[[Date Prev](msg00012.html)][[Date Next](msg00014.html)]
[[Thread Prev](msg00012.html)][[Thread Next](msg00014.html)]
[[Date Index](maillist.html#00013)]
[[Thread Index](threads.html#00013)]

# [SECURITY] [DLA 2241-2] linux security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2241-2] linux security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Wed, 10 Jun 2020 11:55:23 +0100
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/fa69a9353152b3507fa4914c112f33c44983ef5e.camel%40debian.org)Â [fa69a9353152b3507fa4914c112f33c44983ef5e.camel@debian.org](msg00013.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
Package        : linux
Version        : 3.16.84-1
CVE ID         : CVE-2015-8839 CVE-2018-14610 CVE-2018-14611 CVE-2018-14612
                 CVE-2018-14613 CVE-2019-5108 CVE-2019-19319 CVE-2019-19447
                 CVE-2019-19768 CVE-2019-20636 CVE-2020-0009 CVE-2020-0543
                 CVE-2020-1749 CVE-2020-2732 CVE-2020-8647 CVE-2020-8648
                 CVE-2020-8649 CVE-2020-9383 CVE-2020-10690 CVE-2020-10751
                 CVE-2020-10942 CVE-2020-11494 CVE-2020-11565 CVE-2020-11608
                 CVE-2020-11609 CVE-2020-11668 CVE-2020-12114 CVE-2020-12464
                 CVE-2020-12652 CVE-2020-12653 CVE-2020-12654 CVE-2020-12769
                 CVE-2020-12770 CVE-2020-12826 CVE-2020-13143

This update is now available for all supported architectures.  For
reference the original advisory text follows.

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2015-8839

    A race condition was found in the ext4 filesystem implementation.
    A local user could exploit this to cause a denial of service
    (filesystem corruption).

CVE-2018-14610, CVE-2018-14611, CVE-2018-14612, CVE-2018-14613

    Wen Xu from SSLab at Gatech reported that crafted Btrfs volumes
    could trigger a crash (Oops) and/or out-of-bounds memory access.
    An attacker able to mount such a volume could use this to cause a
    denial of service or possibly for privilege escalation.

CVE-2019-5108

    Mitchell Frank of Cisco discovered that when the IEEE 802.11
    (WiFi) stack was used in AP mode with roaming, it would trigger
    roaming for a newly associated station before the station was
    authenticated.  An attacker within range of the AP could use this
    to cause a denial of service, either by filling up a switching
    table or by redirecting traffic away from other stations.

CVE-2019-19319

    Jungyeon discovered that a crafted filesystem can cause the ext4
    implementation to deallocate or reallocate journal blocks.  A user
    permitted to mount filesystems could use this to cause a denial of
    service (crash), or possibly for privilege escalation.

CVE-2019-19447

    It was discovered that the ext4 filesystem driver did not safely
    handle unlinking of an inode that, due to filesystem corruption,
    already has a link count of 0.  An attacker able to mount
    arbitrary ext4 volumes could use this to cause a denial of service
    (memory corruption or crash) or possibly for privilege escalation.

CVE-2019-19768

    Tristan Madani reported a race condition in the blktrace debug
    facility that could result in a use-after-free.  A local user able
    to trigger removal of block devices could possibly use this to
    cause a denial of service (crash) or for privilege escalation.

CVE-2019-20636

    The syzbot tool found that the input subsystem did not fully
    validate keycode changes, which could result in a heap
    out-of-bounds write.  A local user permitted to access the device
    node for an input or VT device could possibly use this to cause a
    denial of service (crash or memory corruption) or for privilege
    escalation.

CVE-2020-0009

    Jann Horn reported that the Android ashmem driver did not prevent
    read-only files from being memory-mapped and then remapped as
    read-write.  However, Android drivers are not enabled in Debian
    kernel configurations.

CVE-2020-0543

    Researchers at VU Amsterdam discovered that on some Intel CPUs
    supporting the RDRAND and RDSEED instructions, part of a random
    value generated by these instructions may be used in a later
    speculative execution on any core of the same physical CPU.
    Depending on how these instructions are used by applications, a
    local user or VM guest could use this to obtain sensitive
    information such as cryptographic keys from other users or VMs.

    This vulnerability can be mitigated by a microcode update, either
    as part of system firmware (BIOS) or through the intel-microcode
    package in Debian's non-free archive section.  This kernel update
    only provides reporting of the vulnerability and the option to
    disable the mitigation if it is not needed.

CVE-2020-1749

    Xiumei Mu reported that some network protocols that can run on top
    of IPv6 would bypass the Transformation (XFRM) layer used by
    IPsec, IPcomp/IPcomp6, IPIP, and IPv6 Mobility.  This could result
    in disclosure of information over the network, since it would not
    be encrypted or routed according to the system policy.

CVE-2020-2732

    Paulo Bonzini discovered that the KVM implementation for Intel
    processors did not properly handle instruction emulation for L2
    guests when nested virtualization is enabled. This could allow an
    L2 guest to cause privilege escalation, denial of service, or
    information leaks in the L1 guest.

CVE-2020-8647, CVE-2020-8649

    The Hulk Robot tool found a potential MMIO out-of-bounds access in
    the vgacon driver.  A local user permitted to access a virtual
    terminal (/dev/tty1 etc.) on a system using the vgacon driver
    could use this to cause a denial of service (crash or memory
    corruption) or possibly for privilege escalation.

CVE-2020-8648

    The syzbot tool found a race condition in the the virtual terminal
    driver, which could result in a use-after-free.  A local user
    permitted to access a virtual terminal could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

CVE-2020-9383

    Jordy Zomer reported an incorrect range check in the floppy driver
    which could lead to a static out-of-bounds access.  A local user
    permitted to access a floppy drive could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

CVE-2020-10690

    It was discovered that the PTP hardware clock subsystem did not
    properly manage device lifetimes.  Removing a PTP hardware clock
    from the system while a user process was using it could lead to a
    use-after-free.  The security impact of this is unclear.

CVE-2020-10751

    Dmitry Vyukov reported that the SELinux subsystem did not properly
    handle validating multiple messages, which could allow a privileged
    attacker to bypass SELinux netlink restrictions.

CVE-2020-10942

    It was discovered that the vhost_net driver did not properly
    validate the type of sockets set as back-ends. A local user
    permitted to access /dev/vhost-net could use this to cause a stack
    corruption via crafted system calls, resulting in denial of
    service (crash) or possibly privilege escalation.

CVE-2020-11494

    It was discovered that the slcan (serial line CAN) network driver
    did not fully initialise CAN headers for received packets,
    resulting in an information leak from the kernel to user-space or
    over the CAN network.

CVE-2020-11565

    Entropy Moe reported that the shared memory filesystem (tmpfs) did
    not correctly handle an "mpol" mount option specifying an empty
    node list, leading to a stack-based out-of-bounds write. If user
    namespaces are enabled, a local user could use this to cause a
    denial of service (crash) or possibly for privilege escalation.

CVE-2020-11608, CVE-2020-11609, CVE-2020-11668

    It was discovered that the ov519, stv06xx, and xirlink_cit media
    drivers did not properly validate USB device descriptors.  A
    physically present user with a specially constructed USB device
    could use this to cause a denial-of-service (crash) or possibly
    for privilege escalation.

CVE-2020-12114

    Piotr Krysiuk discovered a race condition between the umount and
    pivot_root operations in the filesystem core (vfs).  A local user
    with the CAP_SYS_ADMIN capability in any user namespace could use
    this to cause a denial of service (crash).

CVE-2020-12464

    Kyungtae Kim reported a race condition in the USB core that can
    result in a use-after-free.  It is not clear how this can be
    exploited, but it could result in a denial of service (crash or
    memory corruption) or privilege escalation.

CVE-2020-12652

    Tom Hatskevich reported a bug in the mptfusion storage drivers.
    An ioctl handler fetched a parameter from user memory twice,
    creating a race condition which could result in incorrect locking
    of internal data structures.  A local user permitted to access
    /dev/mptctl could use this to cause a denial of service (crash or
    memory corruption) or for privilege escalation.

CVE-2020-12653

    It was discovered that the mwifiex WiFi driver did not
    sufficiently validate scan requests, resulting a potential heap
    buffer overflow.  A local user with CAP_NET_ADMIN capability could
    use this to cause a denial of service (crash or memory corruption)
    or possibly for privilege escalation.

CVE-2020-12654

    It was discovered that the mwifiex WiFi driver did not
    sufficiently validate WMM parameters received from an access point
    (AP), resulting a potential heap buffer overflow.  A malicious AP
    could use this to cause a denial of service (crash or memory
    corruption) or possibly to execute code on a vulnerable system.

CVE-2020-12769

    It was discovered that the spi-dw SPI host driver did not properly
    serialise access to its internal state.  The security impact of
    this is unclear, and this driver is not included in Debian's
    binary packages.

CVE-2020-12770

    It was discovered that the sg (SCSI generic) driver did not
    correctly release internal resources in a particular error case.
    A local user permitted to access an sg device could possibly use
    this to cause a denial of service (resource exhaustion).

CVE-2020-12826

    Adam Zabrocki reported a weakness in the signal subsystem's
    permission checks.  A parent process can choose an arbitary signal
    for a child process to send when it exits, but if the parent has
    executed a new program then the default SIGCHLD signal is sent.  A
    local user permitted to run a program for several days could
    bypass this check, execute a setuid program, and then send an
    arbitrary signal to it.  Depending on the setuid programs
    installed, this could have some security impact.

CVE-2020-13143

    Kyungtae Kim reported a potential heap out-of-bounds write in
    the USB gadget subsystem.  A local user permitted to write to
    the gadget configuration filesystem could use this to cause a
    denial of service (crash or memory corruption) or potentially
    for privilege escalation.

For Debian 8 "Jessie", these problems have been fixed in version
3.16.84-1.

We recommend that you upgrade your linux packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgprA4TYV0cOI.pgp)**

*Description:* This is a digitally signed message part

---


