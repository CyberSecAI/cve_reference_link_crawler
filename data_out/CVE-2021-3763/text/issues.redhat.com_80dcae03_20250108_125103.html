

[Log in](/login.jsp?os_destination=%2Fbrowse%2FENTMQBR-5372)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoadingâ€¦[![Red Hat Issue Tracker](/s/ohohy8/9120015/10le950/_/jira-logo-scaled.png)](https://issues.redhat.com/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0912/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0912/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FENTMQBR-5372)
* [Sign Up](https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/registrations?client_id=redhat-jira-confluence-registration&redirect_uri=https%3A%2F%2Fissues.redhat.com&response_type=code&scope=openid/register?service=https%3A%2F%2Fissues.redhat.com)

![Uploaded image for project: 'AMQ Broker'](https://issues.redhat.com/secure/projectavatar?pid=12318422&avatarId=30771)

1. [AMQ Broker](/browse/ENTMQBR)
2. [ENTMQBR-5372](/browse/ENTMQBR-5372)

## User with a role not declared on RBAC, can access the console

[Log In](/login.jsp?os_destination=%2Fbrowse%2FENTMQBR-5372 "Log In")ClosedExportnullXMLWordPrintable
### Details

* **Type:**
  ![Icon: Bug](/secure/viewavatar?size=xsmall&avatarId=13263&avatarType=issuetype "Bug - A problem that impairs or prevents the functions of the product.") Bug
* **Resolution:**
  Done
* **Priority:**
  ![Icon: Major](/images/icons/priorities/major.svg "Major - To be worked after higher priority work items are addressed. When the severity is high and the effort to change it is low to moderate, this term is chosen. Issues in this category likely have an existing workaround but implementation or execution may be non-trivial.") Major
* **Fix Version/s:**
  [AMQ 7.9.0.CR2](/issues/?jql=project+%3D+ENTMQBR+AND+fixVersion+%3D+%22AMQ+7.9.0.CR2%22 "AMQ 7.9.0.CR2 ")
* **Affects Version/s:**
  AMQ 7.8.2.GA
* **Component/s:**
  [security](/issues/?jql=project+%3D+ENTMQBR+AND+component+%3D+security "security All security issues including JAAS and Kerberos")
* **Labels:**
  + [manual-testing-needed](/issues/?jql=labels+%3D+manual-testing-needed "manual-testing-needed")

* [**Field Tab**](#customfield-panel-1)
* [**SFDC**](#customfield-panel-2)

* **Blocked:**
  False
* **Ready:**
  False
* **Affects:**
  User Experience
* **GSS Priority:**
* **Release Note Text:**
  undefined
* **Target Release:**
  [AMQ 7.9.0.GA](/issues/?jql=project%3D%22ENTMQBR%22%20AND%20%22Target+Release%22%3D%22AMQ+7.9.0.GA%22%20ORDER%20BY%20priority%20ASC "AMQ 7.9.0.GA - Standalone broker distribution and supporting container images")
* **Steps to Reproduce:**
  Hide

  1. Create a broker with default values

  $ /path/to/amq782/bin/artemis create /tmp/broker782 --user admin --password admin --allow-anonymous

  2. Add an additional user and role to broker

  $ printf "\nreadonly=reader" >> /tmp/broker782/etc/artemis-roles.properties

  $ printf "\nreader=reader" >> /tmp/broker782/etc/artemis-users.properties

  3. Start broker

  $ /tmp/broker782/bin/artemis run

  4. Try to access Management Console on <http://localhost:8161> with these credentials:

  Username: reader

  Password: reader

  5. User "reader" can read information on the left side on the screen

  Show
  1. Create a broker with default values
  $ /path/to/amq782/bin/artemis create /tmp/broker782 --user admin --password admin --allow-anonymous
  2. Add an additional user and role to broker
  $ printf "\nreadonly=reader" >> /tmp/broker782/etc/artemis-roles.properties
  $ printf "\nreader=reader" >> /tmp/broker782/etc/artemis-users.properties
  3. Start broker
  $ /tmp/broker782/bin/artemis run
  4. Try to access Management Console on http://localhost:8161 with these credentials:
  Username: reader
  Password: reader
  5. User "reader" can read information on the left side on the screen
* **Market:**

* **SFDC Cases Counter:**
* **SFDC Cases Open:**
* **SFDC Cases Links:**

### Description

If I add an additional user and role to the broker, and without adding this role to RBAC settings or Hawtio enabled roles, any user having this role is able to enter into the Management Console, and can read some information from queues at the left side of the screen (queues names, queue types, acceptors, etc.)

He should not be able to ever access the Management console

### Attachments

### Issue Links

mentioned on

![GitLab](https://gitlab.cee.redhat.com/assets/favicon-7901bd695fb93edb07975966062049829afb56cf11511236e61bcf425070e36e.png "GitLab")
[Merge request - Fixed broker config due to ENTMQBR-5372](https://gitlab.cee.redhat.com/msgqe/dtests/dtests/-/merge_requests/376)

### Easy Agile Planning Poker

### Activity

### People

Assignee:

![rh-ee-ataylor](https://www.gravatar.com/avatar/441c735771395de8bd11d1306b5c7082?d=mm&s=24)
Andy Taylor

Reporter:

![rhn-support-anarvaez](https://www.gravatar.com/avatar/0727e4407a876098cb187bd03a9081b3?d=mm&s=24)
Alfredo Narvaez

Tester:

![Oleg Sushchenko](https://issues.redhat.com/secure/useravatar?avatarId=10282)
 Oleg Sushchenko

Involved:

 Mudassar Iqbal (Inactive)

Votes:
1
Vote for this issue

Watchers:
6
Start watching this issue

### Dates

Created:

2021/08/24 7:38 PM

Updated:

2024/12/20 11:16 PM

Resolved:

2021/09/29 7:41 AM

* In case of any question or problem, please **email Red Hat Jira administrators** |
  **[Privacy statement](https://www.redhat.com/en/about/privacy-policy)**

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)

[Atlassian](http://www.atlassian.com/)

