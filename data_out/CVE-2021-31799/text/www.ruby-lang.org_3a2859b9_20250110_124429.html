
[# Ruby

## A Programmer's Best Friend](/en/)
[Home](/en/)
[Downloads](/en/downloads/)
[Documentation](/en/documentation/)
[Libraries](/en/libraries/)
[Community](/en/community/)
[News](/en/news/)
[Security](/en/security/)
[About Ruby](/en/about/)
Menu

|  |  |
| --- | --- |

# CVE-2021-31799: A command injection vulnerability in RDoc

Posted by aycabta on 2 May 2021

There is a vulnerability about Command Injection in RDoc which is bundled in Ruby.
It is recommended that all Ruby users update RDoc to the latest version that fixes this issue.

## Details

The following vulnerability has been reported.

* [CVE-2021-31799](https://www.cve.org/CVERecord?id=CVE-2021-31799)

RDoc used to call `Kernel#open` to open a local file. If a Ruby project has a file whose name starts with `|` and ends with `tags`, the command following the pipe character is executed. A malicious Ruby project could exploit it to run an arbitrary command execution against a user who attempts to run `rdoc` command.

Ruby users whose version of RDoc is affected by this issue should update to the latest version of RDoc.

## Affected Versions

* All releases of RDoc from 3.11 to 6.3.0
* Ruby 3.0.2 (bundles RDoc 6.3.1), Ruby 2.7.4 (bundles RDoc 6.2.1.1) and Ruby 2.6.8 (bundles RDoc 6.1.2.1) include fixes and not affected

## How to Update

Run the following command to update RDoc to the latest version (6.3.1 or later) to fix the vulnerability.

```
gem install rdoc

```

If you are using bundler, please add `gem "rdoc", ">= 6.3.1"` to your `Gemfile`.

## Credits

Thanks to [Alexandr Savca](https://hackerone.com/chinarulezzz) for reporting the issue.

## History

* Originally published at 2021-05-02 09:00:00 UTC
* Mention about Ruby 3.0.2, Ruby 2.7.4 and Ruby 2.6.8 at 2021-07-16 00:02:00 UTC

---

### **Recent News**

* [Ruby 3.4.1 Released](/en/news/2024/12/25/ruby-3-4-1-released/)
* [Ruby 3.4.0 Released](/en/news/2024/12/25/ruby-3-4-0-released/)
* [Ruby 3.4.0 rc1 Released](/en/news/2024/12/12/ruby-3-4-0-rc1-released/)
* [Ruby 3.3.6 Released](/en/news/2024/11/05/ruby-3-3-6-released/)
* [Ruby 3.2.6 Released](/en/news/2024/10/30/ruby-3-2-6-released/)
### Syndicate

[Recent News (RSS)](/en/feeds/news.rss)

---

[Home](/en/)
[Downloads](/en/downloads/)
[Documentation](/en/documentation/)
[Libraries](/en/libraries/)
[Community](/en/community/)
[News](/en/news/)
[Security](/en/security/)
[About Ruby](/en/about/)

This site in other languages:
[Български](/bg/),
[Deutsch](/de/),
[English](/en/),
[Español](/es/),
[Français](/fr/),
[Bahasa Indonesia](/id/),
[Italiano](/it/),
[日本語](/ja/),
[한국어](/ko/),
[polski](/pl/),
[Português](/pt/),
[Русский](/ru/),
[Türkçe](/tr/),
[Tiếng Việt](/vi/),
[简体中文](/zh_cn/),
[繁體中文](/zh_tw/).

[This website](/en/about/website/) is proudly maintained by members of the Ruby community.

