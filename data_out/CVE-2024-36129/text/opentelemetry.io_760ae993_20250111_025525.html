[The OpenTelemetry LogoOpenTelemetry](/)

* [Docs](/docs/)
* [Ecosystem](/ecosystem/)
* [Status](/status/)
* [Community](/community/)
* [Blog](/blog/)
* English
  + [Español](/es/)
  + [Français](/fr/)
  + [日本語 (Japanese)](/ja/)
  + [Português](/pt/)
  + [中文 (Chinese)](/zh/)
* + Light
  + Dark
  + Auto
English

* [Español](/es/)
* [Français](/fr/)
* [日本語 (Japanese)](/ja/)
* [Português](/pt/)
* [中文 (Chinese)](/zh/)

* [Blog](/blog/)
  + [2025](/blog/2025/)
  + [2024](/blog/2024/)
    - [Fuzzing Audit Results](/blog/2024/fuzzing-audit-results/ "OpenTelemetry Collector Completes Fuzzing Audit")
    - [Humans of OTel NA 2024](/blog/2024/humans-of-otel-na-2024/ "The Humans of OpenTelemetry - KubeCon NA 2024")
    - [OTel-docs Survey](/blog/2024/otel-docs-survey/ "Insights from the OpenTelemetry Docs Usability Survey")
    - [Year in review](/blog/2024/year-in-review/ "OpenTelemetry.io 2024 review")
    - [OTel-compliant Java logs from files](/blog/2024/collecting-otel-compliant-java-logs-from-files/ "Collecting OpenTelemetry-compliant Java logs from files")
    - [OTel for GenAI](/blog/2024/otel-generative-ai/ "OpenTelemetry for Generative AI")
    - [OpenTelemetry Community Awards Winners](/blog/2024/community-awards-winners/ "Announcing 2024 OpenTelemetry Community Awards Winners")
    - [KubeCon NA '24](/blog/2024/kubecon-na/ "Join us for OpenTelemetry Talks and Activities at KubeCon NA 2024")
    - [OpenTelemetry Community Awards](/blog/2024/community-awards/ "2024 OpenTelemetry Community Awards")
    - [Profiling state](/blog/2024/state-profiling/ "The State of Profiling")
    - [2024 GC Election Results](/blog/2024/gc-election-results/ "Announcing the 2024 Governance Committee Election Results")
    - [2024 GC Candidates](/blog/2024/gc-candidates/ "Announcing the 2024 OpenTelemetry Governance Committee Election Candidates")
    - [Spring Starter stable](/blog/2024/spring-starter-stable/ "The OpenTelemetry Spring Boot starter is now stable")
    - [OpenTelemetry Arrow in Production](/blog/2024/otel-arrow-production/ "OpenTelemetry Protocol with Apache Arrow in Production")
    - [Prometheus and OpenTelemetry](/blog/2024/prom-and-otel/ "Prometheus and OpenTelemetry - Better Together")
    - [2024 GC Election](/blog/2024/gc-elections/ "Announcing the 2024 OpenTelemetry Governance Committee Election")
    - [Planned Migration for go.opentelemetry.io](/blog/2024/go-opentelemetry-io/)
    - [Multilingual website](/blog/2024/docs-localized/ "OpenTelemetry website goes multilingual!")
    - [Behind the scenes of the OpenTelemetry Governance Committee](/blog/2024/otel-governance/)
    - [Prometheus Compatibility Survey](/blog/2024/prometheus-compatibility-survey/ "Insights from the Prometheus Compatibility Survey")
    - [Security Audit Results](/blog/2024/security-audit-results/ "OpenTelemetry Security Audit Published")
    - [KubeCon China 2024](/blog/2024/kubecon-china/ "OpenTelemetry Talks at KubeCon China 2024")
    - [A new default bind address for the Collector](/blog/2024/hardening-the-collector-one/ "Hardening the Collector Episode 1: A new default bind address")
    - [OpenTelemetry Getting Started Survey](/blog/2024/otel-get-started-survey/ "Insights from the OpenTelemetry Getting Started Survey")
    - [Humans of OTel EU 2024](/blog/2024/humans-of-otel-eu-2024/ "The Humans OpenTelemetry - KubeCon EU 2024")
    - [Elastic Contributes Profiling Agent](/blog/2024/elastic-contributes-continuous-profiling-agent/ "Elastic Contributes its Continuous Profiling Agent to OpenTelemetry")
    - [New OTel features in Envoy and Istio](/blog/2024/new-otel-features-envoy-istio/ "Observability at the Edge: New OTel features in Envoy and Istio")
    - [Collector vulnerability CVE-2024-36129](/blog/2024/cve-2024-36129/ "Security vulnerability in OTel Collector confighttp and configgrpc (CVE-2024-36129)")
    - [LLM Observability](/blog/2024/llm-observability/ "An Introduction to Observability for LLM-based applications using OpenTelemetry")
    - [Go Contrib modules ownership](/blog/2024/go-contrib-removal/ "Abandoned Go Contrib modules need code owners or will be removed")
    - [Java Metric Systems Compared](/blog/2024/java-metric-systems-compared/ "OpenTelemetry Java Metrics Performance Comparison")
    - [Collector container log parser](/blog/2024/otel-collector-container-log-parser/ "Introducing the new container log parser for OpenTelemetry Collector")
    - [OTel Operator Q&A](/blog/2024/otel-operator-q-and-a/ "Things You Might Not Have Known About the OpenTelemetry Operator - An OTel Operator Q&A")
    - [OpenTelemetry Collector Survey](/blog/2024/otel-collector-survey/ "Insights from the OpenTelemetry Collector Survey")
    - [Collector Roadmap](/blog/2024/collector-roadmap/ "The roadmap to v1 for the OpenTelemetry Collector")
    - [Understanding OTel Errors](/blog/2024/otel-errors/ "Dude, where's my error? How OpenTelemetry records errors")
    - [Collectors at scale with Ansible](/blog/2024/scaling-collectors/ "Manage OpenTelemetry Collectors at scale with Ansible")
    - [Profiling support](/blog/2024/profiling/ "OpenTelemetry announces support for profiling")
    - [Getting started with otelsql](/blog/2024/getting-started-with-otelsql/ "Getting started with otelsql, the OpenTelemetry instrumentation for Go SQL")
    - [OTel Collector Antipatterns](/blog/2024/otel-collector-anti-patterns/ "OpenTelemetry Collector Antipatterns")
    - [KubeCon EU '24](/blog/2024/kubecon-eu/ "Join us for OpenTelemetry Talks and Activities at KubeCon + CloudNativeCon Europe 2024")
    - [Skyscanner using OTel Demo](/blog/2024/demo-skyscanner/ "Making observability fun: How we increased engineers' confidence in incident management using a game")
    - [Outreachy Internship](/blog/2024/outreachy-how-why-sakshi/ "Outreachy - How, When & Why?")
  + [2023](/blog/2023/)
    - [Humans of OTel](/blog/2023/humans-of-otel/ "The Humans of OpenTelemetry")
    - [Observe Spring Native](/blog/2023/spring-native/ "Observe your Spring Native Image application with OpenTelemetry")
    - [OTel in Focus Wrap-Up](/blog/2023/otel-in-focus-break/ "OpenTelemetry in Focus: Wrapping Up a Successful 2023")
    - [Any Metric Receiver](/blog/2023/any-metric-receiver/ "Receive any custom metric with the OpenTelemetry Collector")
    - [Performance benchmarks](/blog/2023/perf-testing/ "OTel component performance benchmarks")
    - [Python Logs Collection](/blog/2023/logs-collection/ "Collecting Logs with OpenTelemetry Python")
    - [OTel integration for Otterize network mapper](/blog/2023/otterize-otel/ "Adding OpenTelemetry support to the Otterize network mapper")
    - [OpenTelemetry Protocol with Apache Arrow](/blog/2023/otel-arrow/ "Achieve a 10x Reduction in Telemetry Traffic Using OpenTelemetry Protocol with Apache Arrow")
    - [Contribfest at KubeCon NA](/blog/2023/contribfest-na/ "OpenTelemetry Contribfest at KubeCon North America 2023")
    - [OpenTelemetry in Cloud Foundry](/blog/2023/cloud-foundry/ "Experience Report: Adopting OpenTelemetry for Metrics in Cloud Foundry")
    - [Demo 1.6 Released](/blog/2023/otel-demo-16/ "OpenTelemetry Demo 1.6 released")
    - [Tyk API Gateway's Native OpenTelemetry Integration](/blog/2023/tyk-api-gateway/)
    - [HTTP semconv are stable](/blog/2023/http-conventions-declared-stable/ "HTTP semantic conventions declared stable")
    - [Integrations Welcome!](/blog/2023/integrations/ "OpenTelemetry Integrations Welcome!")
    - [OTel in Focus 2023/10](/blog/2023/otel-in-focus-10/ "OpenTelemetry in Focus, October 2023")
    - [2023 GC Election Results](/blog/2023/gc-election-results/ "Announcing the 2023 Governance Committee Election Results")
    - [OpAMP Status](/blog/2023/opamp-status/ "Open Agent Management Protocol (OpAMP) State of the Nation 2023")
    - [The Future of Observability Panel](/blog/2023/euwg-future-of-observability-panel/ "OTel End User Working Group Presents: The Future of Observability Panel Discussion")
    - [2023 GC Candidates](/blog/2023/gc-candidates/ "Final list of candidates for the 2023 OpenTelemetry Governance Committee")
    - [Synthetic HTTP testing](/blog/2023/synthetic-testing/ "Portable Synthetic HTTP Testing with OpenTelemetry")
    - [Go Metric SDK is Stable](/blog/2023/otel-go-metrics-sdk-stable/ "First stable release of OTel Go metric SDK")
    - [KubeCon NA '23](/blog/2023/kubecon-na/ "Join us for OpenTelemetry Talks and Activities at KubeCon NA 2023")
    - [OTel in Focus 2023/09](/blog/2023/otel-in-focus-09/ "OpenTelemetry in Focus, September 2023")
    - [2023 GC Election](/blog/2023/gc-elections/ "Announcing the 2023 OpenTelemetry Governance Committee Election")
    - [Contributing to OTel](/blog/2023/contributing-to-otel/ "Thinking about contributing to OpenTelemetry? Here's how I did it.")
    - [.NET Automatic Instrumentation v1.0.0](/blog/2023/otel-dotnet-auto-instrumentation/ "OpenTelemetry .NET Automatic Instrumentation reaches version 1.0.0")
    - [Jaeger Collector Exporter Migration](/blog/2023/jaeger-exporter-collector-migration/ "Migrating away from the Jaeger exporter in the Collector")
    - [PHP Release Candidate](/blog/2023/php-rc-release/ "Opentelemetry PHP Release Candidate")
    - [OTel in Focus 2023/08](/blog/2023/otel-in-focus-08/ "OpenTelemetry in Focus, August 2023")
    - [OTel in Focus 2023/07](/blog/2023/otel-in-focus-07/ "OpenTelemetry in Focus, July 2023")
    - [Testing the OTel Demo](/blog/2023/testing-otel-demo/ "Trace-based Testing the OpenTelemetry Demo")
    - [End-User Q&A: Migrating to OTel at Lightstep](/blog/2023/end-user-q-and-a-04/ "End-User Q&A Series: Migrating to OTel at Lightstep")
    - [OTel in Focus 2023/06](/blog/2023/otel-in-focus-06/ "OpenTelemetry in Focus, June 2023")
    - [End-User Q&A: OTel at Farfetch](/blog/2023/end-user-q-and-a-03/ "End-User Q&A Series: Using OTel at Farfetch")
    - [K8s Runtime Observability](/blog/2023/k8s-runtime-observability/ "Creating a Kubernetes Cluster with Runtime Observability")
    - [OTel in Focus 2023/05](/blog/2023/otel-in-focus-05/ "OpenTelemetry in Focus, May 2023")
    - [OTel Lambda Updates](/blog/2023/lambda-release/ "OpenTelemetry Updates Lambda Support")
    - [Exponential Histograms](/blog/2023/exponential-histograms/)
    - [Histograms vs Summaries](/blog/2023/histograms-vs-summaries/)
    - [End-User Discussions April 2023](/blog/2023/end-user-discussions-04/ "OpenTelemetry End-User Discussions Summary for April 2023")
    - [Why Histograms?](/blog/2023/why-histograms/)
    - [OTel in Focus 2023/04](/blog/2023/otel-in-focus-04/ "OpenTelemetry in Focus, April 2023")
    - [Sunsetting OpenCensus](/blog/2023/sunsetting-opencensus/)
    - [OTel Demo Updates](/blog/2023/demo-birthday/ "The OpenTelemetry Demo Turns 1(.4)")
    - [ECS and OTel SemConv Convergence](/blog/2023/ecs-otel-semconv-convergence/ "Announcing the Elastic Common Schema (ECS) and OpenTelemetry Semantic Convention Convergence")
    - [KubeCon EU '23](/blog/2023/kubecon-eu/ "Join us for OpenTelemetry Talks and Activities at KubeCon EU 2023")
    - [OTel in Focus 2023/03](/blog/2023/otel-in-focus-03/ "OpenTelemetry in Focus, March 2023")
    - [End-User Discussions Mar 2023](/blog/2023/end-user-discussions-03/ "OpenTelemetry End-User Discussions Summary for March 2023")
    - [PHP Auto-Instrumentation](/blog/2023/php-auto-instrumentation/ "OpenTelemetry PHP Auto-Instrumentation")
    - [End-User Q&A: OTel at Uplight](/blog/2023/end-user-q-and-a-02/ "End-User Q&A Series: Using OTel at Uplight")
    - [End-User Discussions Feb 2023](/blog/2023/end-user-discussions-02/ "OpenTelemetry End-User Discussions Summary for February 2023")
    - [OTel in Focus 2023/02](/blog/2023/otel-in-focus-02/ "OpenTelemetry in Focus, February 2023")
    - [New APAC Collector-SIG meetings](/blog/2023/new-apac-meetings/)
    - [End-User Q&A: OTel with GraphQL](/blog/2023/end-user-q-and-a-01/ "End-User Q&A Series: Using OTel with GraphQL")
    - [Submitting a CFP](/blog/2023/submitting-your-first-conference-talk/ "Submitting Your First Conference Talk")
    - [Outreachy Call for participation '23](/blog/2023/outreachy-may-cohort/ "Call for participation - Outreachy May 2023")
    - [OTel in Focus 2023/01](/blog/2023/otel-in-focus-01/ "OpenTelemetry in Focus, January 2023")
    - [HTTP semantic conventions](/blog/2023/http-conventions-stability/ "Final push to HTTP semantic convention stability")
    - [PHP Beta Release](/blog/2023/php-beta-release/ "Opentelemetry PHP Beta Release")
    - [End-User Discussions Jan 2023](/blog/2023/end-user-discussions-01/ "OpenTelemetry End-User Discussions Summary for January 2023")
    - [JMX Metric Insight](/blog/2023/jmx-metric-insight/ "Gaining JMX Metric Insights with the OpenTelemetry Java Agent")
  + [2022](/blog/2022/)
    - [eBay OpenTelemetry](/blog/2022/why-and-how-ebay-pivoted-to-opentelemetry/ "Why and How eBay Pivoted to OpenTelemetry")
    - [OTel Demo App on Nomad](/blog/2022/otel-demo-app-nomad/ "Running the OpenTelemetry Demo App on HashiCorp Nomad")
    - [APAC End User Discussion Group](/blog/2022/end-user-discussion-group-apac/ "End User Discussion Group: New APAC Sessions Announcement!")
    - [Front-end Overhaul Demo](/blog/2022/frontend-overhaul/ "Front-end Overhaul of the OpenTelemetry Demo (Go to Next.js)")
    - [Jaeger OTLP support](/blog/2022/jaeger-native-otlp/ "Supporting Jaeger with native OTLP")
    - [Project Update](/blog/2022/kubecon-na-project-update/ "OpenTelemetry Project and Roadmap Update from Kubecon")
    - [Demo GA Release](/blog/2022/announcing-opentelemetry-demo-release/ "OpenTelemetry Demo now Generally Available!")
    - [22 GC Election Results](/blog/2022/gc-election-results/ "Announcing the 2022 Governance Committee Election Results")
    - [OpAMP service usage](/blog/2022/opamp/ "Using OpenTelemetry OpAMP to modify service telemetry on the go")
    - [Collector builder with GCP](/blog/2022/collector-builder-sample/ "Using the Collector Builder with Sample Configs on GCP")
    - [2022 GC Candidates](/blog/2022/gc-candidates/ "Final list of candidates for the 2022 OpenTelemetry Governance Committee")
    - [Kubecon NA '22](/blog/2022/kubecon-na/ "Join us for OpenTelemetry Talks and Activities at Kubecon NA 2022")
    - [OTel Unplugged '22](/blog/2022/otel-unplugged-kubecon-na/ "OTel Unplugged at KubeCon NA 2022!")
    - [Community Manager](/blog/2022/announcing-community-manager/ "Announcing the OpenTelemetry Community Manager")
    - [Tail Sampling](/blog/2022/tail-sampling/ "Tail Sampling with OpenTelemetry: Why it’s useful, how to do it, and what to consider")
    - [Debug OTel with OTel](/blog/2022/debug-otel-with-otel/ "How we used OpenTelemetry to fix a bug in OpenTelemetry")
    - [2022 GC Election](/blog/2022/gc-elections/ "Announcing the 2022 OpenTelemetry Governance Committee Election")
    - [Exposing a Collector](/blog/2022/k8s-otel-expose/ "Exposing a Collector for cross cluster communication")
    - [Instrumenting Apache Kafka clients](/blog/2022/instrument-kafka-clients/ "Instrumenting Apache Kafka clients with OpenTelemetry")
    - [Exponential Histograms](/blog/2022/exponential-histograms/ "Exponential Histograms: Better Data, Zero Configuration")
    - [Go App Instrumentation](/blog/2022/go-web-app-instrumentation/ "Go Web-app Instrumentation")
    - [Instrument Nginx](/blog/2022/instrument-nginx/ "Learn how to instrument NGINX with OpenTelemetry")
    - [OTel in Practice](/blog/2022/otel-in-practice/ "OpenTelemetry in Practice: Kubernetes & the Collector")
    - [.NET Auto-instrumentation Metrics](/blog/2022/dotnet-instrumentation-metrics/ "OpenTelemetry .NET Automatic Instrumentation metric signal support")
    - [End User Resources](/blog/2022/new-end-user-resources/ "Introducing new resources for OpenTelemetry end users to connect and discover best practices")
    - [Kubernetes metadata](/blog/2022/k8s-metadata/ "Improved troubleshooting using k8s metadata")
    - [OpenTelemetry Community Demo](/blog/2022/demo-announcement/ "Announcing a Community Demo for OpenTelemetry")
    - [Instrument Apache Http Server](/blog/2022/instrument-apache-httpd-server/ "Learn how to instrument Apache Http Server with OpenTelemetry")
    - [Metrics RCs](/blog/2022/metrics-announcement/ "OpenTelemetry Metrics Release Candidates")
    - [.NET Auto-instrumentation Beta](/blog/2022/dotnet-instrumentation-first-beta/ "OpenTelemetry .NET Automatic Instrumentation Releases its first Beta")
    - [Tracing in Knative](/blog/2022/knative/ "Distributed tracing in Knative")
    - [Apache APISIX-Opentelemetry Integration](/blog/2022/apisix/ "Apache APISIX Integrates with OpenTelemetry to Collect Tracing Data")
    - [OpenTelemetry Tuesdays, Signing Off!](/blog/2022/otel-tuesday-v1-sunset/)
    - [TroublesShooting Node.js Tracing Issues](/blog/2022/troubleshooting-nodejs/ "Checklist for TroublesShooting OpenTelemetry Node.js Tracing Issues")
    - [Welcome](/blog/2022/welcome/ "Welcome to the OpenTelemetry blog")
    - [Erlang/Elixir, JS, and Ruby 1.0](/blog/2022/v1.0-trio/ "OpenTelemetry Erlang/Elixir, Javascript, and Ruby v1.0 (Medium)")
  + [2021](/blog/2021/)
    - [Auto-instrumentation in Kubernetes](/blog/2021/auto-instrumentation-k8s/ "Using OpenTelemetry auto-instrumentation/agents in Kubernetes (Medium)")
    - [2021 Governance Committee](/blog/2021/otel-gc/ "Welcome to the incoming 2021 OpenTelemetry Governance Committee (Medium)")
    - [C++ 1.0](/blog/2021/cpp/ "OpenTelemetry C++ v1.0 — what’s there, and what next (Medium)")
    - [Trace-Based Testing with Malabi](/blog/2021/malabi/ "Trace-Based Testing with OpenTelemetry: Meet Open Source Malabi (Medium)
      ")
    - [2021 GC election](/blog/2021/gc-election/ "Announcing the 2021 OpenTelemetry Governance Committee Election (Medium)")
    - [Collector GA release](/blog/2021/collector/ "OpenTelemetry Collector achieves Tracing stability milestone (Medium)")
    - [Swift 1.0 Beta](/blog/2021/swift/ "OpenTelemetry Swift 1.0 Beta (Medium)")
    - [Python 1.0](/blog/2021/python/ "Announcing OpenTelemetry Python 1.0 (Medium)")
    - [Women's day 2021](/blog/2021/womens-day/ "OpenTelemetry Observes International Women's Day 2021 (Medium)")
  + [2019](/blog/2019/)
    - [Governance Committee Explained](/blog/2019/opentelemetry-governance-committee-explained/ "OpenTelemetry Governance Committee Explained")
 [View page source](https://github.com/open-telemetry/opentelemetry.io/tree/main/content/en/blog/2024/cve-2024-36129.md)
 [Edit this page](https://github.com/open-telemetry/opentelemetry.io/edit/main/content/en/blog/2024/cve-2024-36129.md)
 [Create child page](https://github.com/open-telemetry/opentelemetry.io/new/main/content/en/blog/2024?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A)
 [Create documentation issue](https://github.com/open-telemetry/opentelemetry.io/issues/new?title=Security%20vulnerability%20in%20OTel%20Collector%20confighttp%20and%20configgrpc%20%28CVE-2024-36129%29)

* [Am I affected?](#am-i-affected)
* [What does it mean to me?](#what-does-it-mean-to-me)
* [Lessons learned](#lessons-learned)
* [Acknowledgements](#acknowledgements)

1. [Blog](/blog/)
2. [2024](/blog/2024/)
3. Collector vulnerability CVE-2024-36129
# Security vulnerability in OTel Collector confighttp and configgrpc (CVE-2024-36129)

By **[Juraci Paixão Kröhling](https://github.com/jpkrohling) (OpenTelemetry, Grafana Labs), [Pablo Baeyens](https://github.com/mx-psi) (OpenTelemetry, Datadog)** |
Wednesday, June 05, 2024

On our path toward graduation, the OpenTelemetry project is currently undergoing
a security audit sponsored by the [CNCF](https://www.cncf.io/), facilitated by
[OSTIF](https://ostif.org/), and performed by
[7ASecurity](https://7asecurity.com/). During this process, we have received a
few ideas about things that we could do better, like using specific compiler
flags when preparing our
[OpenTelemetry Collector binaries](https://github.com/open-telemetry/opentelemetry-collector-releases/releases).
On 31 May 2024, we received
[a more serious report](https://github.com/open-telemetry/opentelemetry-collector/security/advisories/GHSA-c74f-6mfw-mm4v):
a malicious user could cause a denial of service (DoS) when using a specially
crafted HTTP or gRPC request. The advisory was assigned the following CVE
identifier: CVE-2024-36129.

When sending an HTTP request with a compressed payload, the Collector would
verify only whether the compressed payload is beyond a certain limit, but not
its uncompressed version. A malicious payload could then send a
“[compressed bomb](https://en.wikipedia.org/wiki/Zip_bomb)”, causing the
Collector to crash.

Similarly, when sending a gRPC request using zstd compression, the decompression
mechanism would not respect the limits imposed by gRPC, also causing the
Collector to crash while decompressing the malicious payload.

A few business hours after the report, on 03 June 2024, Collector developers
were able to reproduce the report related to HTTP and worked together on a fix
that
[got merged the same day](https://github.com/open-telemetry/opentelemetry-collector/pull/10289).
Given the high score of this issue, we’ve decided to hold the release that would
have happened on the same day,
[completing it](https://github.com/open-telemetry/opentelemetry-collector-releases/releases/tag/v0.102.0)
on 04 June 2024 instead.

After the release, we got a confirmation that gRPC with zstd was also affected.
Within a few business hours of the confirmation, we worked on a fix that also
[got merged the same day](https://github.com/open-telemetry/opentelemetry-collector/pull/10323).
[We released v0.102.1](https://github.com/open-telemetry/opentelemetry-collector-releases/releases/tag/v0.102.1)
right after that.

## Am I affected?

You are affected by this vulnerability if you have an OpenTelemetry Collector
with one or more HTTP or gRPC receivers on a public port, such as the OTLP
Receiver with the “HTTP” or “gRPC” protocol enabled (typically on ports 4318 and
4317, respectively) AND the receiver has version 0.102.0 or below. The
vulnerability is exploitable only by attackers who can send payloads to your
HTTP/gRPC endpoint(s). This usually means that the port needs to be exposed to
the public internet or another network segment that’s available to the attacker.

Note that if you require authentication, an attacker would need to have valid
credentials in order to exploit the vulnerability using the HTTP protocol. For
gRPC, the exploitable code is executed before authentication.

## What does it mean to me?

If you manage a Collector that has an interface to the public internet, you
should upgrade it as soon as feasible, and consider setting the parameter
`max_request_body_size` on HTTP receivers, such as the OTLP receiver, to a value
that makes sense to your workload. Up to v0.101.0, this setting applied only to
the payload size sent by the client, which could often be compressed.

Starting from v0.102.0, this setting applies to uncompressed, compressed, and
decompressed payload sizes and we are establishing a default value of 20 MiB for
this. This new default characterizes a breaking change, as clients sending
payloads bigger than 20 MiB will start seeing an error. While we believe most
authentic requests will be way within this limit, it’s still wise to monitor
your Collector for increased error rates after this update. Here’s an example of
a configuration setting a different limit to this field:

```
receivers:
  otlp:
    protocols:
      http:
        endpoint: localhost:4318
        max_request_body_size: 10485760 # 10 MiB

```

For gRPC receivers, it’s sufficient to upgrade to v0.102.1, as there’s a default
value being applied to the message size already: 4 MiB.

If your Collector instances are receiving data only from trusted clients, like
your own applications, you are still encouraged to upgrade to the latest
Collector version but you can do it at your regular pace.

If you are using a custom distribution and building it with the
[OpenTelemetry Collector Builder (ocb)](/docs/collector/custom-collector/), you
can add a
[“replaces”](https://github.com/open-telemetry/opentelemetry-collector/tree/main/cmd/builder#configuration)
entry pointing to the latest version of the
[confighttp](http://go.opentelemetry.io/collector/config/confighttp) and
[configgrpc](http://go.opentelemetry.io/collector/config/configgrpc) Go module.
If your base Collector version is at v0.96.0 or higher, we do not expect any
compatibility issues by just bumping to the latest version.

## Lessons learned

During this process, we found a couple of gaps in the telemetry for the
Collector, as well as to the options we provide to Collector admins. Concretely,
we noticed that we do not have a good way to verify what’s the distribution of
request sizes received by the Collector, which would have been useful to
determine whether the change would break clients for a given Collector. We also
noticed that we don’t provide a way for admins to completely disable
compression, which would be a good way to mitigate an attack without having to
upgrade the Collector. We are working to fill those gaps over the next releases.

We are also working on stabilizing the `component.UseLocalHostAsDefaultHost`
feature gate to reduce exposure of all Collector endpoints by default. This
feature gate was motivated by a previous,
[similar vulnerability on Go’s standard library](https://github.com/advisories/GHSA-4374-p667-p6c8)
and has been in alpha for several months. You can follow the discussion
surrounding stabilization at
[issue 8510](https://github.com/open-telemetry/opentelemetry-collector/issues/8510).

## Acknowledgements

This issue was identified by [Miroslav Stampar](https://github.com/stamparm/),
from 7ASecurity. We’d like to thank 7ASecurity for the responsible reporting of
this vulnerability.

* [←Previous](/blog/2024/llm-observability/)
* [Next→](/blog/2024/new-otel-features-envoy-istio/)

Last modified July 24, 2024: [Fix spelling issues, update page-local dictionaries (#4877) (78f1d31f)](https://github.com/open-telemetry/opentelemetry.io/commit/78f1d31f5612ae75df7ffb06702babaf0cbddb7a)

©
2019–2025
OpenTelemetry Authors | Docs [CC BY 4.0](https://creativecommons.org/licenses/by/4.0)All Rights Reserved