=== Content from www.hikashop.com_015c4241_20250111_093627.html ===


[![hikashop](/images/logo.png)](/index.php)[![e-commerce](/images/logo_hikashop.png)](/index.php)

Username

Password

Remember Me

- Home-- Blog-- Brand-- Partners- Extensions-- Hikashop essential 60€-- Hikamarket-- Hikaserial-- Marketplace-- Hikashop business 120€-- Hikaauction 40€-- Hikashop multi-sites 420€-- Access the checkout-- Hikashop starter-- Compare versions-- Essential to business- Download-- Languages-- Styles for hikashop 40€-- Templates for hikashop- Support-- Documentation-- Forum-- Faq-- Contact us- Demo-- Live demo-- They use hikashop !- My account-- My orders-- My subscriptions-- Affiliate program- The hikashop team can work for you !

* [Home](/)
  + [![BLOG](/images/menu/book_icon.png)BLOGNews from the front](/home/blog.html)
  + [![BRAND](/images/menu/brand_icon.png)BRANDAbout Hikari Software](/home/brand.html)
  + [![PARTNERS](/images/menu/partner_icon.png)PARTNERSHikaShop Partners](/home/our-partners.html)
* [Extensions](/extensions.html)
  + [![HIKASHOP ESSENTIAL 60€](/images/menu/logo_hikashop.png)HIKASHOP ESSENTIAL 60€The basic version. With the main features for a little shop.](/extensions/hika-essential.html)
  + [![HIKAMARKET](/images/menu/logo_hikamarket.png)HIKAMARKETAdd-on Create a multivendor platform. Enable many vendors on your website.](/extensions/hikamarket.html)
  + [![HIKASERIAL](/images/menu/logo_hikaserial.png)HIKASERIALAdd-on Sale e-tickets, vouchers, gift certificates, serial numbers and more!](/extensions/hikaserial.html)
  + [![MARKETPLACE](/images/menu/plugin.png)MARKETPLACEPlugins, modules and other kinds of integrations for HikaShop](/marketplace.html)
  + [![HIKASHOP BUSINESS 120€](/images/menu/logo_hikashop.png)HIKASHOP BUSINESS 120€The best version for a big shop online. With all the best features.](/extensions/hika-business.html)
  + [![HIKAAUCTION 40€](/images/menu/logo_hikaauction.png)HIKAAUCTION 40€Add-on Create auctions and let your customers bid for products.](/extensions/hikaauction.html)
  + [![HIKASHOP MULTI-SITES 420€](/images/menu/logo_hikashop.png)HIKASHOP MULTI-SITES 420€Hikashop Business edition for multiple sites.](/extensions/hika-multisites.html)
  + [![ACCESS THE CHECKOUT](/images/menu/checkout.png)ACCESS THE CHECKOUTClick here to access the payment area](/extensions/checkout.html)
  + [HIKASHOP STARTERDownload now !](/extensions/hikashop-starter.html)
  + [COMPARE VERSIONSSee all features](/extensions/compare-versions.html)
  + [ESSENTIAL TO BUSINESSUpgrade now](/extensions/upgrade-my-version.html)
* [Download](/download.html)
  + [![LANGUAGES](/images/menu/langue.png)LANGUAGESHikaShop is translated in more than 40 languages](/download/languages.html)
  + [![STYLES FOR HIKASHOP 40€](/images/menu/styles.png)STYLES FOR HIKASHOP 40€Change the layout of HikaShop to fit your website design](/download/styles-for-hikashop.html)
  + [![TEMPLATES FOR HIKASHOP](/images/menu/icon_templates.png)TEMPLATES FOR HIKASHOPJoomla templates optimized for HikaShop](/download/templates-for-hikashop.html)
* [Support](/support.html)
  + [![DOCUMENTATION](/images/menu/documentation.png)DOCUMENTATIONWhere everything is explained !](/support/documentation.html)
  + [![FORUM](/images/menu/forum.png)FORUMIf our doc didn't answer your question](/support/forum.html)
  + [![FAQ](/images/menu/faq.png)FAQFrequently Asked Questions](/support/faq.html)
  + [![CONTACT US](/images/menu/contact.png)CONTACT USFor specific requests only](/support/contact-us.html)
* [Demo](http://demo.hikashop.com)
  + [![LIVE DEMO](/images/menu/demo.png)LIVE DEMOTest HikaShop by yourself. Front-end and Back-end.](http://demo.hikashop.com)
  + [![THEY USE HIKASHOP !](/images/menu/showcase.png)THEY USE HIKASHOP !Gallery of the best websites realized with HikaShop.](/showcase.html)
  + [![MY SUBSCRIPTIONS](/images/menu/subscription.png)MY SUBSCRIPTIONSAll your HikaShop products](/my-account/your-subscriptions.html)

## Change Log

![change log](/images/icon_doc/changelog_180.png)
All the HikaShop team puts a lot of energy in this project and works every day to improve the component and your user experience, by adding new features and fixing bugs.

 We advise you to update HikaShop each month to enjoy the latest version.
 (You can download the package in your member area or click on the automatic update button directly on your back-end.)

 Here is the list of each release since we started the HikaShop adventure...

### HikaShop 5.1.2

**Release date : November, 28 2024**

[List of all the files changed between the 5.1.1 and the 5.1.2](https://pastebin.com/mqfxzHKA)

#### Bug fixes (24)

* In the cart / wishlist product edit popup, the values of characteristics in dropdown / radio mode were not translated.
* Fedex doesn't support the oz weight unit, the plugin now convert oz weight to lb.
* When a product had variants and tags setup to itself but not to its variants, the tags would appear on the product page, but as soon as you would change the selected variant, the tags would disappear.
* When a product had a price and variants without a price set in them, the custom item field system would think the product is free and would not display the custom item fields on the product page with the "Display add to cart button for free products" setting deactivated.
* We fixed an issue with the OpenCart import tool on PHP 8.2.
* We fixed a warning with the checkout system on PHP 8.2.
* The PayPal Express payment plugin now takes into account the payment fee even when the "send cart details" setting is turned off in the payment method settings.
* With the "send order details" setting deactivated in the PayPal Checkout plugin, the total amount of the order would be sent to PayPal as tax instead of total amount.
* We better escape the texts used by the javascript of the PayPal Checkout payment plugin so that it won't break with complex translation overrides.
* An improvement we made recently to the Google Products plugin had the side effect of using relative image URLs instead of absolute URLs in the XML feed.
* Products listings would display an error on PHP 7 due to the changes made for the advance display of prices.
* The "equal" / "not equal" on the "display limited to" setting of custom fields wouldn't work properly when different fields would be limited to the same parent with different selection of the "equal" / "not equal" dropdown.
* HikaShop now skips the microdata if the product has no prices as Google doesn't accept products without prices.
* We fixed PHP warnings on PHP 8 on the product details page when the product doesn't have any prices.
* We fixed deprecated messages relative to thumbnails generation on PHP 8.2.
* We fixed an error which could happen when Smart Search indexing is done via a cron task.
* The geolocation plugin didn't work properly following the improvements made to it in the previous release.
* We fixed an issue linked to the improvements we made to the geolocation plugin in the 5.1.1, which could result in the default country to be wrong on the registration form.
* When not creating a menu item for the checkout, and without using the "force menu on checkout" setting, and with the Checkout SEF name customized, the URL generated to access the checkout would not work properly.
* The tags display would display multiple times on the product details page when the product would have variants.
* We've fixed an issue with support of the javascript of Joomla 3.x following changes we made to improve the support of the CSRF token for Joomla 4 and 5.
* The taxes on the shipping fee is now based on the billing address and not the shipping address with the "Type of address used for tax" setting configured to "Billing address".
* The column header was missing for the characteristics columns on the frontend products listing displayed with the "table" layout.
* When a product was purchased in quantities of more than 1, only 1 was counted for calculating the shipping costs of the new FedEx shipping plugin.

#### Improvements (38)

* The Social Networks plugin now adds the Open Graph meta tags retailer\_item\_id, availability and condition in order to provide more information on the products.
* We changed the order\_shipping\_params column of the hikashop\_order table from TEXT to LONGTEXT for new installations of HikaShop in order to allow for more information to be stored in there.
* We've added strlen, mb\_strlen, substr, mb\_substr, trim, str\_\_word\_count and decimal functions to formula fields (like the formula field of shipping methods). That way, you can write complex formulas using these functions.
* We've added support for Northen Ireland VAT numbers for Regex and online check.
* We've increased the maximum number of filters possible in the filter selector of the HikaShop filter module from 50 to 100.
* HikaShop now deletes the webp thumbnail when the main image file is being deleted for a product and the "add webp image" setting is turned on.
* We improved the report system when counting sales of products.
* Overriding frontend controllers is now possible.
* We've improved the saving of custom fields with their "display limited to" setting configured. When the field doesn't appear on the form, the save process will clear the value already in the database for that field, if any.
* We've improved the "shipping methods" restriction processing for custom order fields after the order is already created.
* The debug mode of the new FedEx shipping plugin now includes more debug information.
* We've added a distinct class to the contact button and the show details button on listings so that they are easier to target individually when adding custom CSS.
* We've improved a bit the handling of custom item fields to avoid conflicts with deleted custom product fields with the same name.
* We've improved the checkout in order to skip empty steps automatically.
* We've added some extra checks to the user synchronisation plugin to avoid issues in some cases with the use of the cli.
* We have optimized the management of webp images to have a more consistent rendering based on more cases.
* The translation popup for custom fields has been improved to better handle special characters and HTML.
* Developers can now override custom field type classes using the normal class override mechanism described in the developer documentation.
* The trashed products are not counted anymore in the number of products of categories on the frontend.
* We've added a cancel button to the PayPal Checkout end page so that the user can easily go back to the checkout if necessary.
* The PayPal Checkout plugin now prefills the credit card billing address fields of the credit card form as much as possible even if some of the fields of the billing address are missing.
* We changed the display of the error messages coming from Joomla during the login and registration on the checkout so that they always display with the "error" type (red) and not as warning or others so that the auto scroll system of the checkout can properly catch them to display them to the user. This will improve usability.
* HikaShop now adds the additional fee key name to the params of the product in the order so that it is not lost when the order is created.
* We made modifications to the loading of the parent categories in some areas of HikaShop to drastically speed up the processing with a lot of categories in the shop.
* We've optimized the loading of categories for custom fields. It will take a lot less resources which will make a real difference if you have thousands of categories.
* We improved the loading of auto loaded coupons to better select the most interesting one for the customer.
* We improved the PayPal Checkout credit card form so that it can now display error messages if the payment has a problem on PayPal's end.
* We've improved the error message of the PayPal Checkout payment plugin in order to support Joomla 3.
* With the force redirect setting turned on, the filter module now doesn't take into account the current category of the menu item so that it always uses the main page of the menu item so that it can actually search on all the products.
* The PayPal Checkout plugin will now update the pay later message on the product page based on the selected variant. That way, the message will stay relevant to the variant selected.
* We've improved the handling of custom fields custom options saving (for plugins).
* We improved the javascript of the image switching on the product page in order to make it more resilient.
* We made some modifications so that the background color on the rows of the order listing based on the order status of the orders work with the muta backend template.
* We added a small delay to the height consistency check in case some things still need to be rendered on the page. This will allow for a more consistent result.
* We added a span element around the product / category name on product / category listings displayed with the "list" mode so that they can be better targeted with CSS.
* We made the necessary changes to the Paybox plugin in order to be compatible with v3.0 of the PayBox integration guide.
* The address company and VAT number fields are now enabled by default on new installations of HikaShop. The VAT number will now be hidden by default and display automatically once the company field has been filled by the user (for new installations).
* The columns mechanism on backend listing has been moved to local storage instead of cookies.

#### New features (5)

* We've added a new setting to the geolocation plugin so that you can tweak the caching period of the geolocation information in the database (1 year by default).
* We've added several settings to the Google Products plugin in order to support more advanced capabilities:
  - Is bundle
  - Multipack
  - Energy efficiency class
  - Minimum energy efficiency class
  - Maximum energy efficiency class
  - Unit pricing measure
  - Unit pricing base measure
  - Availability date
* HikaShop's checkout login now supports Multi-Factor Authentication (MFA).
* We've added a new option "take into account extra fees" to the user points earning plugin settings. This way, extra fees, added by plugins can be taken into account when calculating the gained user points.
* You can now restrict prices based on zones.

### HikaShop 5.1.1

**Release date : September, 09 2024**

[List of all the files changed between the 5.1.0 and the 5.1.1](https://pastebin.com/AC4VyJeQ)

#### Bug fixes (43)

* We added a check to not display the back button on the page when displaying a menu item of the type "cart display" as it makes no sense to allow access to the control panel from there.
* The address type could be lost on an address when editing from the frontend an address already used for a previous order.
* We fixed a deprecated message on PHP 8.3 in some rare cases when displaying a product with variants on the frontend.
* When the "Display add to cart button for free products" setting was turned on, and with a product with no price but with variants with prices, but no price on the default variant, the custom item fields would not display on the product page even if they should have. We've improved the check there so that it works properly.
* We've fixed an error which could happen on non HikaShop pages when the cart notification plugin would hae been uninstalled by the shop owner.
* We fixed a fatal error with the IP2Location.io integration in the geolocation plugin.
* We fixed some warning messages which could happen when configuring the PayPal Checkout payment method based on what PayPal returned for the status of the merchant account.
* When the "bought" attribute of a hkshow or hkhide tag would be used, the plugin would only take into account products with 2 sales and more, instead of 1 sale and more.
* We fixed an error message display issue with the FedEx plugin.
* The like button of the like plugin wouldn't be clickable with the zoom option activated on products listings.
* We've added numerous fixes for the FedEx 2 shipping plugin.
* We fixed some warnings with the new FedEx plugin.
* We deactivated the auto submit of steps system on the checkout as it had too many side effects.
* We fixed an issue with the new FedEx plugin which would create an error on PHP 8.2 when trying to create a new shipping method for it.
* We fixed an error of packaging with the new Fedex shipping plugin.
* On Joomla 5, adding to the cart the variant of a product with an access level not set to all the user groups while not being logged would lead to the variant not being added to the cart.
* The add to cart process could generate an error message in some rare cases on PHP 8.2.
* The checkout could auto submit the step when deleting or creating a new address in some rare cases.
* The pagination of the carts listing in the backend didn't work properly when the search was used.
* We fixed a deprecated message with the URL generation in some rare cases on recent versions of PHP.
* The "Provide points instead of fees" setting, when activated, could generate an error when an order was created at the end of the checkout.
* With the "thumbnails" setting turned off, the system would still use thumbnails on the product page when the product would have several images.
* When "all" would be selected for the order status setting of limits, the past orders wouldn't be taken into account.
* The billing address could be used in some cases even if the shipping address was selected as the type of address to be used for taxes.
* The terms and conditions popup didn't display the article selected properly on Joomla 5.
* We fixed a warning which could happen with order mass actions with an action "add product" where the product being added wouldn't have any price.
* We fixed a warning which could happen on the products listing of the order details page in the backend with custom product fields displayed on it. The warning would display once the main product of a variant purchased in the order would be deleted.
* We fixed a problem with the sorting of categories of filters when the categories don't have any ordering and the filter is configured to display several levels of categories.
* For the support of variants for discounts to be possible, we had to have to add the discount on the price of the variant. However, at the point where this is done, the price of the variant can potentially be a copy of the price from the main product (if the variant doesn't have a price itself). And that price from the main product can already have a discount applied on it if the discount targets the main product. In such case, several discounts could be applied several times on the price of the variant while only one should apply. We made a modification so that when the system tries to add a discount to a price, it first checks if the price doesn't already have a discount applied. If so, it skips the process.
* When using the "last week" period in a report, it would generate an error on PHP 8.2 and above when display the report, and the same error would also appear on the dashboard if the report would be published as a widget.
* Following the addition of the new "equal to" / "not equal to" dropdown to the "display limited to" setting of custom fields, when several custom fields would be restricted to the same parent field, only the first one would be displayed / hidden properly.
* Translation overrides for HIKASHOP\_COUPON or HIKASHOP\_PAYMENT with HTML in them would break the transaction request with Authorize.net.
* We fixed an error which could happen on the orders listing in the backend after disabling a shipping plugin which was used by previous orders on PHP 8 and up.
* The smart search plugin now properly handle deleted products when the "activate product recovery" setting is activated and the products end up in the trash instead of being really completely deleted.
* When a filter on categories was restricted to a particular category, the filter wouldn't load the categories properly.
* We modified the built-in plugins of the system group to make sure they only execute on the frontend and don't do anything on other requests like when the CLI is used.
* We fixed some warnings with the structured data for products or variants without prices.
* We fixed an issue with the old FedEx shipping plugin.
* The filters on columns with the = and != operators on an empty value would be ignored in massactions.
* The payment via PayPal account might not work in some cases with the ACDC option enabled.
* The translation of the custom field label in the emails didn't work properly.
* We fixed a MySQL query error which could happen in some rare cases with the Smart search plugin when saving a product from the backend interface.
* An error message would popup on the HikaShop configuration for new installations of HikaShop regarding plugins not being installed even though there was no problem.
* We fixed an error which could happen with the "instant capture" setting turned off in some rare cases with the PayPal Checkout plugin.

#### Improvements (18)

* We improved the update of the price without taxes when the user inputs his products price with taxes.
* HikaShop now includes the HTTP header token of Joomla taken from the JS of Joomla if available during AJAX requests to avoid potential issues with the token being missing / outdated for one reason or another. It will improve resiliance in cases where caching is too agressive and such.
* There is now a notice box poping up when you click on an email tag so that the user knows he can now paste the tag in the HTML editor.
* We've improved the address saving in the user edit form of the HikaShop backend so that it properly display error messages when necessary.
* The HikaShop Geolocation plugin now stores the IP address and its corresponding country code in the database after a successful request to a geolocation service. This way, before making a new query it will try to get the information from the database, saving resources and useless API requests.
* It is now possible to use the ID of the product in the "bought" attribute of the hkshow and hkhide content tags.
* We've added logging of failed VAT number online checks in the "payment log file" of HikaShop.
* We added a label for the quantity dropdown of the pagination to help users with screen readers.
* We made some improvements to the javascript handling the add to cart processing in order to better support template preview systems.
* The CSV export action of mass actions now properly handle the order\_product\_price and order\_product\_tax columns as price columns. This means that the export takes into account the "CSV decimal separator" setting for them, similar to what it already does for columns like the order\_full\_price.
* When a main product is published or unpublished, now all the variants of the product are also processed by the Smart Search in order for the status of their main product to be taken into account.
* We added a "X-Robots-Tag: noindex" header to the AJAX requests refreshing the cart module. This should prevent search engines from trying to index these URLs.
* We've optimized the category filter system on frontend products listings. In some cases, the gains can be a page load 5 times faster.
* The content map type for indexed products on multilingual websites now contains the product type.
* When the instant capture setting is turned off in the PayPal Checkout plugin, you had 3 days to capture the payment. We've made improvements in the payment plugin so that you now have up to 1 month to capture the funds.
* By default, the HikaShop Cart module had all options by default set to No, that wasn't relevant, it's now adjusted.
* We improved the look of multiple dropdown filters in order to use the fancy choicejs library included in Joomla 4 and 5, while still keeping the old chosen library on Joomla 3.
* HikaShop will now automatically modify the current product's alias when saving a product and its alias is already used by another product.

#### New features (10)

* You can now configure different Joomla tags for different variants of a product, and the tags will update on the product page when the user changes the selected variant.
* We've added a new option to choose whether you want to filter the HTML of the product description in the backend. It is activated by default and thus, if you want to be able to add iframe tags or script tags in your products description, you'll have to turn off this setting.
* We've added a new setting "Checkout link template" to the Google Products plugin. This will allow the plugin to directly provide the add to cart URL in the XML feed ( https://support.google.com/merchants/answer/13580733?sjid=2381062689629391492-NC ).
* We've added a sorting option to the UPS OAuth shipping plugin so that you can have the shipping services sorted with the cheapest one first on the checkout.
* We've added a new option to define which price input to display (with or without taxes) when adding a new price, this option is directly in the price product form.
* The consistency height option in your menu items sees the arrival of a new option which allows, in addition to using the consistency height, to have the buttons always aligned to the bottom.
* We've added a new option to the TaxCloud plugin so that you can Exempt some user accounts from taxes if they have their taxes waved (for government entities for example).
* We've added a new event when additionals (fees) are removed from the cart. This event is called onAfterCartRemoveAdditional
* Since Joomla 5.1, the backend can be change between dark or light theme with a switcher module. HikaShop integrates with it so that the page refreshes in order to take this into account properly.
* We've added advanced price display customization settings to the HikaShop products and categories listing menu items and the HikaShop content module. That way, you can potentially customize the prices display in much more details with an interface and potentially some translation overrides, without having to modify PHP code in view overrides.

### HikaShop 5.1.0

**Release date : June, 14 2024**

[List of all the files changed between the 5.0.4 and the 5.1.0](https://pastebin.com/28S3ET6W)

#### Bug fixes (51)

* We fixed a deprecated message with the deletion of a user or address on PHP 8.2
* We've fixed some warning messages on PHP 8 with some times of widgets.
* We've added an extra check so that when plugins for HikaShop try to load JS or CSS files through HikaShop and that it is too early or too late on the page processing, no error is displayed. HikaShop will just log the error in the HikaShop log file.
* We've fixed the display of the file / image uploaded for custom fields of the type "AJAX file" or "AJAX image" with their "multiple" setting turned off.
* When using the search input on the views listing in the backend, the pagination would not work properly in some cases.
* In some cases the proper menu item would not get retrieved by the smart search plugin even though the product was properly linked to the category of a menu item.
* We've fixed some warnings with calculations during the loading of the cart in some rare cases on PHP 8.2.
* The publish / unpublish toggle of the variants listing displayed when editing a product in the backend didn't trigger the onBeforeProductUpdate and onAfterProductUpdate events. This lead to the variants not being added / removed from the index of the Smart search.
* We've fixed a warning during the checkout.
* We fixed a warning which could happen with the action log plugin when a product would be updated without providing its name.
* We fixed a warning which could happen with the action log plugin when an order would be updated without providing its type.
* We fixed a warning which could happen with the action log plugin when an order would be updated without providing its order number.
* We fixed a warning which could happen with the action log plugin when HikaShop would be sending emails in some rare cases.
* Creating a widget/report to display the total number of customers over a period would lead to a MySQL query error.
* When uploading several files at the same time in a custom field of the type "AJAX File" or "AJAX Image" on the frontend, only one of the download links or thumbnails would work due to PHP not sharing the user session across concurrent requests. We bypassed that limitation by checking the file access in a different manner in such special cases.
* The pagination on the backend orders listing wouldn't display on small screens.
* We've fixed a Javascript error which could happen on the product details page when using a custom field of the table "item" and of the type "ajax file" or "ajax image" on Joomla 3 and which would prevent the use of the custom field.
* In some cases, with many values selected in a multiple select, you could see all of the selected values.
* We fixed a deprecated message with the geolocation plugin on PHP 8.2
* We fixed an error which could happen when having a custom field with a MySQL query using user fields while the current user wouldn't be logged in.
* We fixed a warning which could appear in some cases when creating a new category.
* The language switcher module of Joomla wouldn't properly take into account the translation overrides of the product SEF name and category SEF name.
* We've added an extra check in HikaShop when loading JS/CSS files so that DPCalendar's cron via the Joomla CLI doesn't generate an error.
* Underscores in the Product SEF name and Category SEF name would prevent the system from properly using the corresponding translation override.
* We have made a patch to follow MicroData structure via json-ld script.
* We've added a new patch to better manage publish/unpublish icons in the variants backend listing.
* We've added some extra fixes for conditions on product tags.
* The yes / no selector in the user points checkout view might not work in some cases due to a PHP glitch.
* We improved the user points plugin integration with AlphaUserPoints so that you can now change the rule name automatically created by the user points plugin for the integration. Before it would then generate an error.
* Due to compatibility with Joomla 5.1.0 and publish/unpublish icon fontawesome, we had to dynamically add a "badge" class so that these icons can display properly.
* The image gallery popup selector wouldn't work properly in some cases and it would loop the refresh of the popup.
* We've removed a depecrated message with products with characteristics in some rare cases.
* We've fixed an error with the legacy FedEx shipping plugin which could happen in some rare cases.
* We've made some extra patches to better support structured data on product pages, especially for products with variants.
* The user points plugin could generate a warning for guest users in some cases with AlphaUserPoints.
* We fixed an issue whereby the product would be duplicated in the cart when editing it from the cart view and changing its custom item fields instead of being updated.
* We fixed an error to better generate the url image for Json MicroData.
* We fixed an error which could happen in some rare cases with the generation of thumbnails when the images can't be processed.
* On Joomla 4 and above the version of the plugins were not updated in the Joomla extensions manager.
* We fixed a potential fatal error with the PayPal Checkout plugin.
* The alias of the product was not properly used in the URL of the product on the search results of the smart search for translations of the product.
* The translated description was not properly displayed on the results page of the smart search.
* We've improved the gallery selector popup so that it doesn't break when its javascript code is moved by page optmization extensions.
* We've fixed the use of user tags in the MySQL query of data of selector custom fields.
* We fixed some warnings on the login form of the checkout in a rare case.
* We removed some deprecated messages in rare cases with the access level settings.
* Deleting the index of the Smart Search component could result in an error in some cases.
* When enabling some plugins like the HikasHop rates auto update plugin without saving its settings once, it could lead to a PHP fatal error on recent versions of PHP.
* The prices where not editable anymore on the results table of massactions with an action "display the results" due to changes in a previous version of HikaShop to better export them in CSV files.
* The PayPal Checkout payment plugin would not send the shipping and billing address to PayPal in some rare cases.
* The PayPal Checkout payment plugin now properly support the mode with the Instant capture setting turned off. HikaShop will authorize the payment at the end of the checkout, leave the order "pending", and when the status is changed to "confirmed" in the backend, the payment will be captured.

#### Improvements (22)

* When creating a new coupon, HikaShop will now initialize the currency selector with the main currency of the shop.
* We've improved the error messages display of the legacy FedEx plugin.
* You can now have other types of modules in the "Modules under the product page" setting of the HikaShop configuration.
* The old FedEx plugin name has been changed to add "(legacy)" to it so that users will rather use the new FedEx plugin since the old plugin's API is getting deprecated by FedEx.
* You can now select webp images in the image gallery selector.
* The export file of reports will now use the name of the report and the current date and time in the filename. We've also added a hidden setting report\_csv\_filename\_format if you want to customize the filename. You'll be able to use the tags {widget\_name} {date} and {time} to set the filename format you want.
* We removed the HikaShop history plugin from the HikaShop install package as it wasn't used anymore.
* The payment log file will now be rotated automatically in order to avoid it becoming too big.
* We've improved the category\_pathway generation when the products listing is configured to be "grouped by category" and the "simplified breadcrumbs" setting is turned off.
* There is now a "Hits" column on the products listing in the backend displaying the number of times the detail page of a product has been displayed.
* It is now possible to provide different images for each language for the products and categories using translation overrides. For example, if the file is called "my file.jpg", you can have an override like MYFILEJPG="mon fichier.jpg" and upload the file to the upload folder of HikaShop in images/com\_hikashop/upload/ via FTP to swap the image based on the language being used.
* We've added trimming on the values of custom fields when saving them to reduce typing mistakes.
* The affiliate terms article will now open in a popup. It will be nicer for the user and this also fixes a 404 error which could happen when opening the affiliate terms article link in some cases on recent versions of Joomla.
* The product name and description, when displayed by a content tag is now translated with translation overrides.
* We've improved the Canada Post shipping plugin so that it can default to Canada if the shipping addresses don't have a country field enabled.
* When adding to the cart and the product can't be added for some "normal" reason (like if there is no stock anymore, or if a limit prevented the add to cart to happen), we now display the message to the user as a warning (orange) instead of an error (red) since it is not critical.
* We've improved the activation link display in the user account email sent to the customer after the registration when the self activation is actived in the options of the Joomla user manager.
* We've made it possible to directly use translation keys in the original fields, even with the "non-latin translation keys" setting activated in the HikaShop configuration.
* We've improved the smart search plugin so that it doesn't index the products in the "all" language taxonomy and properly index them once per each language of the website when the website is multilingual.
* When the user clicks on a button (like "login" or "register") on the checkout and no other view on the current step does anything, the checkout system will now automatically try to go to the next step.
* When an affiliation partner uses the share buttons on the product details pages, the URL now contains automatically the affiliate parameter so that users clicking on the link will be counted for his affiliate account.
* The shipping cost which can be added for the products in the Google Products plugin can now support transit and handling times.

#### New features (12)

* The HikaShop Affiliate plugin now has an option to display the affliate program area on the user control panel only if the current user is a partner.
* We've added a new "equal to" / "not equal to" dropdown to the "display limited to" setting of custom fields. This way you can remove the display of custom fields for one particular value of another custom field.
* We've added a new choice to the price display setting of listings which allows you to use the price of the default variant of a product when the product itself doesn't have a price.
* We've added an option "With an extra parameter in the URL" to the "Display view files" setting. This way you can add a tp=1 parameter in the URL of a page of your website to get the view files information without having to disturb other users of your website.
* The API used historically by the FedEx plugin included in HikaShop has been deprecated by Fedex and will be terminated in a few months. Fedex have released a new API and we have developed a new FedEx plugin which is now included in HikaShop.
* The PayPal Checkout payment plugin now supports PayPal credit and debit card payments, with 3D Secure support too.
* We've added support for IP2LOCATION.IO to the geolocation plugin.
* Custom fields of the type "AJAX File" and "AJAX Image" now have extra format options so that you can customize the look of the display for the files uploaded with them.
* You can now add translation overrides for AJAX File and AJAX Image custom fields to customize the name and description displayed for each uploaded file. For example, if you upload a file my\_file.pdf, you can use the translation keys MY\_FILEPDF\_NAME and MY\_FILEPDF\_DESCRIPTION in a your translation overrides file.
* The user points plugin now supports the Rewardify points extension.
* There is now a setting "Skip field" in the Google Products plugin to be able to skip some products.
* We've added an option "Send order details" setting to the PayPal Checkout plugin.

### HikaShop 5.0.4

**Release date : April, 2 2024**

[List of all the files changed between the 5.0.3 and the 5.0.4](https://pastebin.com/NVE1TtG2)

#### Bug fixes (45)

* When changing the selected variant of a product from the cart product edit popup in the frontend, if the newly selected variant didn't had stock, the previously selected variant would still be deleted from the cart instead of just displaying an error message.
* We fixed an error which could happen when editing the value of a custom order field restricted to only some categories from the order backend edit interface.
* We fixed a MySQL query error which could happen when cancelling an order with a coupon in some rare cases.
* We fixed warning messages which could happen with the smart search plugin when deleting products.
* We removed a deprecated message when using category mass actions when deleting a category on PHP 8.2.
* We fixed a potential warning in some cases with massactions with a display or export product action on characteristics.
* We fixed a javascript error which could potentially happen with the social buttons on the login form of the HikaShop checkout.
* We fixed a notice which could happen in some cases on Joomla 5 with the smart search indexing of products with images.
* We made a patch in the waitlist notify plugin to avoid an error on recent versions of PHP when running the cron task and the plugin's settings have not yet been configured and the plugin is enabled.
* We fixed an error which could happen in some rare cases when trying to generate a thumbnail and it is not possible.
* We've fixed a warning which could happen when trying to access the checkout without a current menu item while the "force a menu on checkout" setting of HikaShop is configured.
* We've made a patch to avoid a fatal error on newer versions of PHP, on the product details page on the frontend, when a product has variants with a discrepancy between the linked characteristics of the main product and the linked characteristics of the variants.
* We fixed a warning on the vendor page when votes would be displayed.
* Single / Multiple dropdown filters applied on a text custom field (so without configured values in the custom field but with numbers in that custom field in each product) with values on the filter would not display on the frontend following improvements we made to the filters system to auto hide filters when they are nothing to display. This was due to the filter system not properly taking into account the values of the filter in this particular case.
* The product\_code and custom fields were not properly indexed by the smart search plugin.
* A view file went missing, which led to the "display the results" action of mass actions not working in some cases for new installations of HikaShop.
* We fixed a warning with the payment notification and order admin notification emails generation when custom item fields of the type "custom text" would be created and configured to be displayed on these emails.
* We fixed a deprecated message with the TaxCloud plugin on PHP 8.2.
* The product\_total\_volume\_orig of products in the cart could be incorrect in some cases.
* The product\_weight\_orig of products in the cart could be incorrect in some cases.
* We've fixed some deprecated messages which could happen during the copy of products.
* When Code Mirror was selected as the HTML editor, it would be displayed 3 times on the product edit form on Joomla 5.1 due to the update of the Code Mirror included in Joomla.
* We added some check to make sure that carts are linked to actual users before trying to generate the notification email, in order to avoid needless warnings on PHP 8.
* The description of variants couldn't be saved properly on Joomla 5 in some cases.
* We fixed an error which could happen on PHP 8.2 when the selected currency in the HikaShop configuration would be deleted from the currencies listing.
* In the backend, adding a product to an order with no tax rate selected would result in a "-1" tax rate showing up between the subtotal and total of the order.
* There was a potential error in some really rare cases on PHP 8.2 when loading products half deleted from the database.
* We fixed a potential error when calculating the untaxed shipping fee of an order in the backend in some rare cases on PHP 8.2.
* Translatable custom category fields could create an error in some cases in the translation popup of categories in the backend.
* The view builder was not working anymore on Joomla 5 dues to the update to CodeMirror 6 by Joomla.
* When an address wasn't provided with an address\_type to HikaShop (during imports, or when the address came from a really old HikaShop), the system would not verify that required custom fields would be filled in the selected address during the checkout.
* We fixed an error which could happen with category filters when no categories was found for the filter on PHP 8.2.
* We've made a patch to fix a warning with the order notification email in some rare cases.
* We fixed a warning which could happen on PHP 8.2 in some rare case with product selector fields.
* We fixed warning messages when publishing / unpublishing payment methods from the payment methods listing in the HikaShop backend on PHP 8.2.
* With the "include price" setting activated, the UPS OAuth shipping plugin could sometimes use the full total of the order instead of only the total amount of the products for the group of products (products of the same vendor, or products of the same warehouse).
* Custom AJAX file/image fields would not save successfully if the field was not required in some cases.
* The "Other clients also bought" introduced in the previous version could lead to a MySQL error in some cases.
* We fixed a warning which could happen on the product details page when trying to access a product which is not accessible to the current user.
* CSV files with only one columns wouldn't import properly in HikaShop.
* We fixed a PHP warning on the wishlist page in some rare cases.
* We fixed some warnings on PHP 8 with the email domain rules during the registration of users.
* We fixed the download links for custom address fields of the type "AJAX File" and "AJAX Image" in the order admin notification and the payment notification emails.
* Required custom address fields of the type AJAX File or AJAX Image with their "Multiple files" setting turned off would block the checkout even with a file provided.
* We adjusted the backend CSS to fix a display issue with the label of custom fields when they were long.

#### Improvements (30)

* We now better support SVG images for badges.
* When displaying free download links on the product details page of a product on the frontend, we now add a nofollow attribute to the link when the current URL diverge from the canonical URL configured in the product, if any. This will avoid the alternative URLs generated for these links on the other URLs of the product page to be listed as "duplicate without user selected canonical" entries in the Google Search console.
* The bundle system will now work when bundled products are added to a product with variants.
* The Smart Search plugin now support images better when indexing variants.
* We improved the look of the buttons in the backend on Joomla 5.1.x.
* We've removed Sofort from the list of funding methods and added Multibanco for the PayPal Checkout plugin due to recent changes on PayPal's side.
* We've made some adjustements to better support Joomla 5.1's backend template.
* HikaShop frontend modules now return false when their display settings lead them to not display anything. This should help templates no display the position when the module has nothing to display.
* We've added the brand name to the comparison page.
* We now only display the information text for the access levels on the form customization block of the product edit page if you have the Business edition, since it's not possible to do it with the Starter and the Essential edition.
* We've added an extra decimal to the currency rate for new installations of HikaShop. This will allow the configuration of conversion rates for some currencies with a lot of decimals needed for the rate.
* We've added an extra check on the image path in the Google Products plugin to have nicer URLs for the images when they have extra slashes at the beginning.
* We removed the Google Analytics plugin from HikaShop Business. The API it uses is not supported anymore by Google Analytics. Users should use instead the Google Analytics plugin available for free on our marketplace.
* We modified the codes for the USA minor outlying islands so that Fedex and USPS can properly take into account the address from there. That way, you don't have to modify them yourself if you need to support shipping there with Fedex or USPS.
* The Google Products plugin can now provide the weight of the products in the XML even for the oz weight unit.
* When deleting products with options from an order in the backend interface, we now move its options as normal products of the order. That way the options are not "lost".
* The Smart Search plugin will now auto select the menu item to use for the URL of the products being indexed based on the main category of the product. This will help in providing results with a nicer looking URL.
* The decimal separator setting of the HikaShop configuration is now better taken into account for CSV exports make via mass actions.
* The products listings configured to display the products of not only the current category but also the products from the sub categories now also check the access level of these sub categories.
* The finder plugin integrating with the smart search of Joomla now doesn't provide the sale dates so that the products can be searched outside the sale date range, since they are available in listings too.
* The Quickicons module is now compatible with Joomla 4 and 5.
* We've improved the bundle display on the product edit form to display the id of the product / variant when the product / variant name is empty.
* Custom options coming from HikaShop and displayed by Joomla when editing the settings of modules and plugins now better handle the dark mode of Joomla 5.
* We've improved the CSS for the filters area of the order listing in the backend.
* When using a credit card form embedded in the checkout by HikaShop (like with the offline credit card payment plugin, or the Authorize.net payment plugin in AIM mode), we now check the expiration date is provided and valid before even trying to submit the credit card information.
* We've improved the CSV import to better handle CSV files with only one column.
* We have updated the twitter icon for the new X version (and follow the new color code as well).
* We have made some adjustments in order to better display the joomla 5 fancy select.
* We added some css adjustments to better handle the white mode and dark mode for joomla 5 fancy select.
* We improved the display of the country address field so that if the english name of the zone is empty, no brackets are added after the name of the zone.

#### New features (9)

* We take into account Joomla 5.1's color scheme option in the Atum backend template.
* We've added Google structured data as json-ld to the product details page. This will allow us to provide more complete and complex data to search engines regardless of the HTML of the product details page. Thanks to this, the structured data as json-ld on the details page can now contain variants data when the product has variants. That structured data also complies with the settings of the Google Products plugin so that what is provided in the product XML feed and what search engines see on the product details page when crawling it matches.
* We've added an event onBeforeOptionDisplay(&$element, &$optionElement, &$option\_values, &$value) which allows plugins to interface with the options display on the product page. It can, for example, be used to add or remove choices in the options on the fly.
* The "Product SEF name" and "Category SEF name" settings can now accept a translation key so that the translation for the current language will be used for the URLs generated for the products / categories.
* The smart search plugin now takes into account variants of products.
* In the MySQL query of the data of custom fields, it's now possible to use the tags {user\_id} or {id} or {username} or {user\_email} in order for them to be replaced automatically based on the data of the current user.
* We've added a new option "Backend color scheme" to the HikaShop configuration so that you can potentially force the Light mode or the Dark mode in case the backend template you're using is not Atum.
* The Smart Search integration now supports Falang.
* The registration override content now supports content tags.

### HikaShop 5.0.3

**Release date : January, 19 2024**

[List of all the files changed between the 5.0.2 and the 5.0.3](https://pastebin.com/nb0z1Qn7)

#### Bug fixes (26)

* We fix a warning for php 8.2 during the checkout.
* We fixed a warning on PHP 8.2 with the eway rapid payment plugin.
* The pagination didn't work properly in some cases on the categories listing of the backend.
* The modifications we added to the smart search integration on multilingual websites for Joomla 5 led to an error on multilingual websites on Joomla 3.
* We fixed a MySQL query error which could happen when manually triggering address mass actions with a filter on the address\_country or address\_state columns.
* We made a patch to avoid a fatal error in some cases on Joomla 4 / 5 with the dashboard backend module.
* We fixed deprecated messages which could happen with PHP 8.2 when deleting an address or an order with the mass action plugins enabled.
* We add a fix to manage tax name with "%" in columns features that leads to a Javascript error (Uncaught URIError: URI malformed)
* The date selection would not be taken into account for coupon reports in listing mode in some cases.
* The taxes on the coupons would not be properly calculated with the detailed taxes display activated and the use of the multicoupon plugin.
* We fixed a javascript error which could happen in some cases with the posting of new comments on the frontend product details page.
* We fixed an issue with the checkout not advancing when the multicoupon plugin would be used in some cases with taxes being involved.
* Anonymous users would be able to publish several votes for the same product while that should not be possible.
* A previous fix on the translation of canonical URLs of categories had a side effect of discarding the #notrans# tag for categories listings.
* The search on variants on the product edit form had a side effect of loosing the search on the listing after saving a product settings.
* The import of variants with the "keep other variants" setting activated while redefining the default variant would not work properly leading to the loss of the default variant in the product.
* The height consistency would be triggered all the time after a filtering even when the corresponding setting of the menu item would be turned off.
* The Google Products plugin would not output a XML if the categories setting was not filled in, even thought it should not be necessary, due to a faulty check.
* The Google Products could in some cases generate a fatal error when the XML feed file could not be generated.
* We fjxed a deprecated message with the cart module in some rare cases on PHP 8.
* We fixed an error which could happen with the UPS OAuth shipping plugin when the country of the customer would be different from the country of the merchant in some cases.
* Following the improvements to the pagination of carousels, the carousel modules could display warnings, in some cases.
* We fixed a deprecated message on PHP 8.2 which could appear in some cases when editing reports.
* The custom order fields were missing from the orders listing in the backend following an improvement of the search system to support custom user fields in the 5.0.2.
* We fixed deprecated messages on PHP 8.2 with custom fields of the type "avanced date picker".
* An error could happen with the Quickicon plugin on Joomla 4.

#### Improvements (19)

* We updated the wizard view, some setting class were missing.
* We improved the error messages for the eway payment plugin.
* We've made some modifications to prepare for future changes in Joomla 6
* We've made some modifications to prepare for future changes in PHP 9
* We improved the compatibility with the custom layout capabilities of menu items.
* When a product filter on the frontend is displaying categories from several levels, the system will now automatically sort them based on the ordering of the categories made in the backend.
* We have improved the swiper (carousel) view code to better manage the different possible configurations and have a display that better corresponds to cases.
* We have add another "insert" button in the product content tag popup, for ergonomic purposes.
* We've added back the icon for the product content tag plugin.
* We've improved the display of the quantity input in table mode.
* We now automatically deactivate the "synchronized add to cart" mode on products listings with the "global on listing" mode as it doesn't make sense.
* We improved the resilience of the SEF routing so as to keep the view and layout parameters in the SEFed URLs if the Itemid parameter is missing from the list of paramaters provided by Joomla (it should not normally happen).
* You can now change the name of an empty wishlist if the access to empty wishlists is allowed with the cart\_show\_page\_redirect\_on\_empty hidden setting.
* We improved the download links generation for orders when several download links need to be generated and different elements need to load the order on the same page.
* We improved the users synchronization process in HikaShop so that even if Joomla users are deleted without going through the Joomla interface, and the id of the user is reattributed by Joomla to another user account, HikaShop will still properly keep the synchronization.
* We improved the menu item check on the URLs generated from the backend so that it doesn't take into account the user groups of the current user.
* The Google Products plugin now also supports weight provided in your products in kilos.
* The installation/update process now automatically adds the update site to HikaShop's XML on the fly so that the "rebuild" button of the Joomla update sites manager doesn't delete HikaShop's update site.
* We improved the order status filtering on Joomla 4 and Joomla 5.

#### New features (6)

* We've added the event onAfterConfigLoad(&$values) to the loading of settings. This can allow plugins to dynamically modify settings of HikaShop.
* We've added a hidden setting with the namekey threshold\_stock\_message to be able to change the threshold (defaults to 1) between displaying the "1 item in stock" and the "X items in stock message". This can allow you to have stock messages which can change between 0, X and above X instead of between 0, 1 and above 1.
* We improved the filters on the views listing in the backend.
* We've added an option "Other clients also bought" to the "relation" setting of products listing modules so that you can now easily display a listing of products bought by previous customers who purchased the current product on its product details page.
* We've added a new setting "include variants" in the Google Products plugin so that the XML feed generated by the plugin can properly support product variants.
* We added an alias field to shipping methods and payment methods so that you can define specific text for your own reference on listings in the backend.

### HikaShop 5.0.2

**Release date : November, 29 2023**

[List of all the files changed between the 5.0.1 and the 5.0.2](https://pastebin.com/YSCk43Af)

#### Bug fixes (1)

* We fixed a stored XSS trough SVG file upload security issue. [You can read more about it here](https://github.com/SonNguyen3496/Mitre_opensource_report/blob/main/hika-xss.md).

  Note that it only affects HikaShop versions above the 4.6.2 up to the 5.0.1 and not if you updated HikaShop from previous versions as default support of SVG images for the upload of images was only added in the 4.7.0 for new installations of HikaShop. Also, it requires access to the backend of the website to perform, and can be avoided easily by removing the possibility of uploading svg files in the HikaShop configuration's "allowed images" setting or updating your HikaShop to the 5.0.2.

### HikaShop 5.0.1

**Release date : November, 24 2023**

[List of all the files changed between the 5.0.0 and the 5.0.1](https://pastebin.com/Jg6aQpdt)

#### Bug fixes (66)

* We fixed a fatal error when deleting products from the backend products listing on Joomla 5.
* We fixed a deprecated message on PHP 8.2 when deleting products.
* The cancel button didn't work properly on the Customer edit form in the backend on PHP 8.2.
* We fixed some warnings when creating new votes from the backend on PHP 8.2.
* We fixed some deprecated messages on PHP 8.2 when creating a new badge.
* The file and image uploader of variants on Joomla 5 didn't work properly in some cases.
* We fixed a deprecated message with the image upload system on PHP 8.2.
* HikaShop would output an unnecessary message when the "Generate WebP images" setting of the HikaShop configuration would be activated and you would be uploding/using SVG images.
* After the revamp of the Social Networks plugin, the OpenGraph meta tags were not added properly to the product pages in some cases.
* We fixed some deprecated messages on PHP 8.1 when saving the settings of custom fields of the type "custom text".
* We've fixed an issue in some rare cases on PHP 8 with the cart loading.
* We fixed a warning which could happen on PHP 8 with the PayPal Pro payment plugin during the end of the checkout in some cases.
* We improved the support of cli so that even when the main helper file of HikaShop is being called from the cli, it doesn't crash.
* We modified the XML of HikaShop to avoid an error during the installation with Joomla 5 on PHP 8.2.
* We fixed a deprecated message with coupons on the checkout in some rare cases on PHP8.
* We fixed an error with order mass actions with an action "send email" in some cases.
* We've added missing translation keys for the new UPS plugin.
* The "Display limited to" didn't work properly on checkboxes in some cases.
* The saving of popups with PHP/CSS/HTML code didn't work properly.
* The default value of custom fields of the type "wysiwyg" was not properly taken into account.
* The translation of the canonical URL of categories was not properly used on the frontend of products and categories listing resulting in the canonical URL of the main language being used instead.
* When the "Add to cart on listings" setting would be set to "global", the add to cart button wouldn't work if the layout of the listing would be "table" or "list" (it would work for "div").
* The sending of emails with attachments not embedded could generate errors in some cases.
* When a customer was adding to the cart the variant of a product while not being logged in and if that main product had its access limited by user group, HikaShop would refuse without checking if the main product was accessible for guests.
* The Quickicon plugin didn't work properly anymore on Joomla 4 and Joomla 5.
* We fixed an error with the Quickicon plugin on Joomla 5.
* In some rare cases the "display limited to" option of custom fields didn't work properly.
* We removed some legacy code which could result in an error when the onContentPrepare event of Joomla would be called by third party extensions with invalid parameters.
* When a characteristic would have a name with a dot, if you run a massaction with a filter on that characteristic, it would generate a MySQL query error.
* We fixed an error on the product page on the frontend in some cases.
* The improvment we made to auto select variants in characteristic dynamic mode when only one variant is available had a side effect of always selecting a value.
* We made some modifications to the HikaShop main helper to properly support multilingual websites on Joomla 5.
* We fixed a warning on the Joomla backend with PHP 8.1.
* When the Auto slide setting is deactivated for a carousel, hovering on the carousel would start auto sliding the carousel.
* We fixed an error of compatibility in some cases with other extensions on Joomla 5.
* When the payment or shipping blocks of the checkout are in read only mode, we still make sure that the payment/shipping method is selected at the end of the checkout before validating the order creation.
* The arrows of the swiper carousels could not display properly in some cases based on how the Joomla template was done.
* We fixed an issue with the advanced date picker fields following the modifications we made in HikaShop 5.0.0 for the support of Joomla 5.
* The attachments added via the email edit interface of the HikaShop backend weren't properly attached to emails.
* We fixed a fatal error with the processing of the "IP" setting of some payment methods on PHP 8.1 and newer.
* The next/previous buttons didn't work properly for categories with the new carousel system.
* We fixed the rows and columns selector so that it would display the proper number of rows and columns even when big numbers were provided.
* We fixed the look of the HikaShop content module's HikaShop option tab, and the product/category listing menu items' "product options" and "categories options" tabs on Joomla 5.
* The label of options could potentially mess with the layout.
* We fixed a warning when generating an order email in the backend of HikaShop on PHP 8.1.
* The badge might prevent the user from clicking on the product image in some cases.
* We've fixed potential deprecated messages with the Authorize.net payment plugin on PHP 8.1.
* The CSS of the order details page on the frontend was not generic enough, which led to the additional fees added by plugins like the cart fee plugin or the user points plugin to not be displayed like the subtotal, coupon, shipping fee, etc.
* In some rare cases, the shipping methods selection block of the checkout could end up displaying an error message when the cart was being emptied.
* We fixed a PHP error with the helpful comment function on PHP 8.1 and above.
* On the product details page, when you selected a variant on the product details page and then went to another page and then back to the product details page with the back button of the browser, the characteristic dropdowns would be preselected with the previously selected value even though the variant data was not shown on the page.
* We've improved the compatibility of PayPal Checkout payment plugin with HikaMarket.
* The Attached files area of the emails edit form didn't work properly.
* We removed the loading of the JS SDK of Facebook from the HikaShop social plugin for the new share buttons as this is not necessary and created a javascript error.
* The MijoShop import would import incorrect dates for the orders from MijoShop.
* The new slider system's HTML was missing a CSS class to properly support the background color setting of the module.
* The switch buttons of the slider were overlapping on the slider itself. We've made some modifications to avoid that.
* The support of the onAfterOrderProductsListingDisplay event in the last release would generate an error during the PDF generation on the frontend when products with serials/subscriptions (with HikaSerial) would be included in the order.
* The support of Joomla 5 led to a issue with the support of PHP 5.x on Joomla 3. We've added a patch to be able to support both in the same install package.
* The edition of HikaShop modules on Joomla 3 would result in an error because we added an attribute not available on Joomla 3.
* The JPAGETITLE translation key is not loaded by Joomla anymore so we now use our own translation key if it's missing.
* We made the tmpl parameter not SEFed in URLs using it to avoid an issue with the 4SEF and potential issues with other extensions in the future.
* We skip the x-wblr parameters during the SEF URLs build process to avoid issues in some cases with 4SEF.
* We fixed an error with the Joomla registration redirect plugin following modifications for the Joomla 5 support.
* We fixed some deprecated messages on PHP 8.2 during the installation process.
* The smart search plugin would generate errors on Joomla 3 following changes to it for the compatibility with Joomla 5.

#### Improvements (30)

* The Malta zone name was not set properly. The Uttar Pradesh zone had extra spaces at the beginning of the name. We updated the name of one Panama state, and the codes of 2 states.
* We've added the triggers "After a user votes" and "After a user comments" to mass actions of the type "user" so that you can for example add points to the user after he votes for a product.
* Custom user fields will now be taken into account in the search input field of the orders listing in the backend.
* We've added a failsafe to the HikaShop system plugins to avoid a fatal error if the update process doesn't work properly.
* We've added extra checks on the client id and client secret fields of the PayPal Checkout plugin to make sure the merchant understands that he needs to fill them.
* We've added a hidden option with the namekey cart\_batch\_removal\_quantity so that more than 50 carts can be removed per check of the carts.
* We improved the pagination of the new carousel system.
* We've improved the title of the brand listing and edit form on the backend.
* The XML feed generated by the Google Products plugin now also take into account products only linked to the main category of the shop.
* We improved the checks on the user group when the user is not logged in in order to use the user group selected for guest in the joomla users options page.
* We've improved the performances of the massaction interface when there are a lot of related products / options in the shop.
* We've updates the version of jquery-ui included in HikaShop.
* We now better handle errors in the UPS OAuth plugin when trying to connect to UPS servers.
* The list of CC and BCC emails in the email history can now handle more email addresses.
* We've added a small improvement to the thumbnails generation in order to handle some kind of images with rare orientation parameters.
* The Google Products plugin now better handle errors when uploading the XML feed file to Google via SFTP.
* We've added an extra check to the Google Products plugin to make sure it is properly configured before generating an XML feed file.
* Ordering the products listings on a column where most products had the same value would previously result in random output due to the way MySQL works. We now fallback to the product\_id in order to avoid the randomness.
* We made some modifications to the finder (smart search) integration plugin to support changes from the Joomla 5 Alpha to the Joomla 5 RC so that it now works properly on Joomla 5.
* We made some modifications to the HikaShop main helper due to changes from the Joomla 5 Alpha to the Joomla 5 RC so that it now works properly on Joomla 5.
* We made some modifications to the finder (smart search) integration plugin to support changes from the Joomla 5 Alpha to the Joomla 5 RC so that it now works properly on Joomla 5.
* We improved the rendering of the products listing of invoices with a lot of products when printing them.
* We improved the look of the advanced date picker fields on Joomla 4 and 5.
* We've adjusted the CSS for the left and right quantity buttons.
* We improved the behavior of the Authorize.net payment plugin in AIM mode so that it directly redirect to the thank you page, without first displaying its own thank you page with the redirect being done in javascript once the page is loaded.
* We added some extra checks to the pagination URLs to make them cleaner.
* We added the current element to the field object. That way, plugins can look into the data of the current element if necessary, not just at the value when displaying a custom field (show function).
* An error message is now displayed on the HikaShop configuration if the deprecated HikaShop Microdata on Product Page plugin is activated in order to invite user to disable it.
* We improved the resilience of the product edit form customization saving to better handle custom interfaces added by third party developers.
* We've improved the dynamic characteristic display mode so that it will preselect the first available value when possible and retain previously selected characteristic values when available.
* We've improved the javascript of the products / categories listings menu items and modules so that when you change the type of layout (div/table) it updates the total number of elements per page so that it is consistant with what you see in the "Items" section.

#### New features (9)

* HikaShop now supports Joomla 5's dark mode.
* We've added the support of Fancybox by default for the image popup display on the product page, which is also activated by default on new installations of HikaShop.
* It is now possible to have a column with the total number of purchases for each user on the users manager listing in the backend.
* We've added a search and filter system to the variants listing in the backend of the product edit form in order to make it easier to find variants when you have many of them.
* On Joomla 4 and 5, we now use Joomla's version of font-awesome.
* The FedEx shipping plugin now supports Regional Economy (Europe), International Priority Express and International Connect Plus shipping services.
* We now support the choicesjs library of Joomla 4 and 5. That way, the multiple select dropdowns will now be more user friendly.
* We've added the "Ground Advantage" shipping service to the USPS shipping plugin.
* We added a new event onBeforeHikashopBuildRoute(&$query, $separator, &$params) so that plugins can do things before the HikaShop router.

### HikaShop 5.0.0

**Release date : September, 15 2023**

[List of all the files changed between the 4.7.5 and the 5.0.0](https://pastebin.com/jaf60G22)

#### Bug fixes (23)

* We fixed a deprecated message on PHP 8.2 when using an advanced date picker custom field in some cases.
* An error could happen in some rare cases on PHP 8 in the popup opening when you clicked on the "email" button of an order in the backend.
* The "download time limit" setting of files could not be set properly via the interface.
* We've fixed a warning which could popup when third party plugins would push products to the cart without providing all the necessary data.
* A HikaShop content module configured to display a listing of categories while on a category listing page with pagination would pick up on that pagination and apply it to itself while it shouldn't.
* We've fixed a calculation issue on the product page in some cases.
* We fixed deprecated messages when saving custom fields on PHP 8.2
* Following improvements we've made to the dynamic filters in the 4.7.4, the cursor filters in dynamic mode had wrong behaviors in some cases.
* In some cases the pagination URLs could end up with extra limit parameters causing issues with some SEO crawlers.
* We've fixed some deprecated messages on PHP 8.1 in some cases with the display of the addresses.
* We've made additional modifications in the PayBox plugin to support Sofinco.
* We fixed a deprecated message which could appear in some cases in the payment notification email with custom item fields on PHP 8.1.
* We've fixed a warning and a deprecated message on the checkout when changing the address in some rare cases.
* We've removed MANY deprecation messages on PHP 8.2
* We fixed an error with the export action of user mass actions when the user group name was selected for export.
* We've fixed a notice message with the widget/report edition on the Essential edition.
* The order saving on listings in the backend wouldn't work in some cases.
* Creating a custom field with its required setting activated directly with the default value not filled would generate a warning in some cases.
* When the "override shipping address" setting of a shipping method would be set to "hide" or to "text" but without any override text, the system would still display the shipping address form on the checkout if the user didn't have entered a shipping address yet.
* There was a mistake in the handling of the CSRF token in the javascript of the uploader which led to the upload not working with JCHOptimize with the javascript compressed.
* The share popup of wishlists was not displaying properly due to a typo introduced in the previous release to better handle the menu item being used.
* We fixed a deprecated message with mass actions with an action "run a mysql query" in some cases on PHP 8.
* We improved the number of rows and columns selector for menu items so that it wouldn't generated an error when the user would try to set 0 columns and 0 rows.

#### Improvements (31)

* We've added extra error handling on email sending.
* The structure and tags of the "reverse" layout of the product page has been updated.
* With the characteristics displayed as radios and with 2 values in the characteristic, and in dynamic display mode, a value might be preselected even though it should not.
* We've added a specific class for the out of stock message on the listing to be consistent with the product details page and to make it easier to customize with CSS.
* We've added the events onPrepareDatePickerFieldOptions and onCheckDatePickerField so that third party plugins can modify the options of the date picker on the fly.
* We now set the product name / product code as title of the page when editing a product in the backend.
* We added support for Joomla 4 in the Europe Tax plugin.
* The system will now go through the getBody/setBody of Joomla when triggering onAfterRender when a view of the checkout is being refreshed in AJAX. That way, plugins will be able to process the HTML from the body as if it was coming from Joomla.
* The Smart Search plugin now takes into account the "show out of stock products" setting of the Hikashop configuration so that if it is turned off, the products without stock won't appear in the search results.
* When a payment is cancelled in the popup of the PayPal payment button of the PayPal Checkout plugin, the plugin will now take into account the "cancel URL" setting of the payment method.
* When content tags would be used to add "add to cart" buttons on pages where HikaShop is not loaded, the cart notification plugin wouldn't be able to display the notification box after the add to cart process.
* The VirtueMart import now use the order creation date as the invoice date in HikaShop so that orders imported from VM can be used by the statistics system.
* When deleting the last product of a cart from the cart display page while not being logged in, the system would redirect you to the login page after removing the last product from the cart instead of redirecting you to the "URL where to redirect when the cart is empty" configured in the HikaShop configuration.
* The Smart Search integration will now index translations of products, provided the translations were added without Falang being installed.
* We've added an event onCheckoutEmptyContentCheck so that plugins adding their own checkout view to the checkout can now provide the checkout system information on whether they are empty or not. Before, the checkout system would assume they were never empty. This will allow the system to automatically skip the current step if it finds that all the views on the current step are empty.
* The checkout system will now move to the next step after a guest form is filled in the login block if it is the only block on the step.
* We've added a confirmation to the "process" button of the actions popup on backend listings.
* We've made sure that pressing enter or any other way to manually trigger the form submission won't process any action in the actions popup on backend listings, so that only the "process" button can be used, in order to avoid mistakes.
* We changed the "OK" button in the popup of the "email" button of orders in the backend so that it is clearer that the button can be clicked.
* We've added a new column "products" to the listing of carts and the listing of wishlists in the HikaShop backend.
* We've improved the error handling of the PayPal Checkout payment plugin.
* We've improved the compatibility with Route66.
* The PayPal Checkout payment plugin now better handles the process when the "instant capture" setting is turned off and you want to manually validate the transactions on your PayPal merchant account.
* We've improved the JSON parsing on the javascript side of HikaShop so that even if the server output error messages before or after the JSON response, it will still be possible to process it, making it more resilient.
* The checkout now allows a user to finish his checkout with shipping required even if he never configured a shipping address in his account if he selected a shipping method which overrides the shipping address.
* TincyMCE would end up too small for the product description on Joomla 4 and 5. The system now auto correct the height in javascript.
* The order information is now available on the end page when using the credit card payment method, for easier customization.
* In a massaction, When a "send an email" action is used with a trigger when an order is created/changed, the email can now use tags on the order data like {order\_id} or {order\_number}
* We've added a hidden setting switcher\_default\_mode to the products listings so that the table / grid switcher's default mode can be changed without a view override.
* Filter type classes can now be overridden more easily.
* We've improved the dynamic characteristic display mode so that it will preselect the first available value when possible and retain previously selected characteristic values when available.

#### New features (11)

* There is now a setting "minimum length" for text filters so that HikaShop will skip words shorter than the number configured in that setting.
* There is now a setting "Words to ignore" for text filters so that HikaShop will skip words in that list when the filter is being used.
* We've added the "Alternate layout" setting to the modules included in HikaShop.
* We've added a new display option for the checkout progress bar to be displayed as an accordion.
* We've added a new option to the HikaShop User Synchronization plugin to choose if you want HikaShop's javascript and CSS files to be loaded on all the pages of your frontend. This option needs to be turned on if you want to display add to cart buttons with content tags on pages where HikaShop is not normally loaded so that the add to cart notifications can be displayed to the user. When turned off, the add to cart will redirect to the checkout if successful, or refresh the whole page if there is an error to display.
* We've added a new UPS plugin for the new UPS OAuth 2.0 API. The previous UPS plugin is deprecated and won't work anymore after the 3rd of June 2024. So we invite you to switch to this new shipping plugin. It is included, for free, in all the editions of HikaShop.
* There is now an option "without link" in the "Image popup mode" setting.
* In the backend, the order of the elements can now be made using drag & drop.
* The carousel system now uses the Swiper javascript library instead of Owl carousel which isn't maintained anymore. It's still possible to fallback to Owl carousel with a hidden setting if necessary.
* We've completely updated the Social Networks plugin to make it nicer, add Linkedin and remove Google Plus.
* HikaShop now supports Joomla 5.

### HikaShop 4.7.5

**Release date : July, 27 2023**

[List of all the files changed between the 4.7.4 and the 4.7.5](https://pastebin.com/KfL38JCP)

#### Bug fixes (26)

* The points display on the backend order listing would only display the points gained if there were points being used in the order too.
* The PayPal Checkout payment plugin didn't handle properly orders without a billing address, or with a billing address with some missing fields.
* We've improved the PayPal Checkout payment plugin so that when not all the required address fields are provided, the plugin doesn't send the address in order to avoid unnecessary errors.
* We've added the NO\_SHIPPING flag when no shipping address is provided in the PayPal Checkout plugin.
* We've fixed a warning with the user points plugin which could happen at the end of the checkout on PHP 8 in some cases.
* We fixed a medium severity [RXSS attack](https://packetstormsecurity.com/files/173719/Joomla-HikaShop-4.7.4-Cross-Site-Scripting.html) with the filter system in HikaShop Business. Affected versions of the Business edition are from the 4.2.0 to the 4.7.4
* We fixed a deprecated message when displaying a radio filter on the frontend in some cases with PHP 8.1.
* The PayPal Checkout payment plugin now properly supports additional fees.
* The Itemid parameter was missing when using the reorder button of an order on the frontend and when changing the filtering of the orders listing on the frontend.
* Fix to always have Item id in redirect url tpo reorder
* Due to a change in HikaShop 4.7.4, the stock of products would not be updated when an order would be confirmed or cancelled in some cases.
* The new "next" and "previous" buttons on the order edit form in the backend could, in some cases, generate an error when accessing an order or creating one.
* There was an error at the end of the checkout with the PayPal Checkout plugin when additional fees would be added to the cart by plugins.
* A HikaShop content module configured to display a listing of categories while on a category listing page with pagination would pick up on that pagination and apply it to itself while it shouldn't
* The delete action for carts / wishlists in the frontend now keeps the current menu item.
* We've made some improvments to the formula calculation system in HikaShop to avoid issues on newer versions of PHP.
* The move actions of carts / wishlists in the frontend now keep the current menu item.
* The "total\_number\_of\_products" new information in orders could generate an error on the checkout in some rare cases.
* The support of domain names rules for the email address had an issue which could prevent registration of new users in some cases.
* We've fixed a notice on products listings in some cases.
* The Connect button on the PayPal Checkout payment plugin settings page didn't work in some cases.
* The link to the product from the cart / wishlist page didn't take into account the current menu item.
* The default star on the carts / wishlists listing page didn't take into account the current menu item.
* We fixed an error which could happen during the checkout in some rare cases.
* We've made a fix for an error which could happen with filters with the "dynamic display" setting turned on.
* We've added a fix for the width of the PayPal Checkout buttons at the end of the checkout.

### HikaShop 4.7.4

**Release date : June, 26 2023**

[List of all the files changed between the 4.7.3 and the 4.7.4](https://pastebin.com/d37sZF0J)

#### Bug fixes (21)

* The order link in the order notification sent to the customer with the "email" button of the order details page in the backend was not working properly for guest users.
* We fixed a warning message which could appear in some cases when saving the settings of the wishlist module.
* We fixed a deprecated message on PHP 8.1 on the dashboard in some cases.
* We've fixed a deprecated message on PHP 8.2 with the geolocation plugin enabled.
* We've fixed an issue with the "optimize" function of the smart search system for Joomla 4.2+ which would lead to an error with the HikaShop Smart Search plugin enabled.
* We fixed a deprecated message on PHP 8.2 with the geolocation plugin.
* The order statuses filter on the listing of tax rates didn't display properly on Joomla 4.
* We fixed a deprecation message on PHP 8.1 with the translation system when editing products in the backend in some cases.
* We added a fix for the Hikashop Paypal Website Payments Pro Hosted Payment plugin on Joomla 4.
* We fixed an error in some cases when validating the contact form in some cases on PHP 8.1.
* We added some extra checks on the VirtueMart import so that even if categories in VirtueMart have incorrect data, it doesn't break the import.
* We fixed an error in the user synchronisation plugin on Joomla 2.5.
* There was an error in some cases with the use of custom fields of the table "order".
* The return URL to the product page, from the contact form was missing the Itemid parameter leading to the current menu item being lost.
* In strange quantity restrictions, with the "show select" quantity input display, and on PHP 8.1, it was possible to get an error on the product page and checkout.
* We've fixed a warning on PHP 8.1 for "run PHP code" actions.
* We've fixed the view builder for the frontend invoice/order details page view.
* We've added a patch to the cart system for the multicoupon plugin to work properly in some cases.
* If you first selected an order in the preview popup of an email in System>Emails and then deleted that order, the preview popup would then display an error until you would logout / login from your backend.
* We fixed a warning when using the "update rates" button before configuring the HikaShop rates plugin.
* We added a patch to the Google Products plugin to properly handle the situation when the user tries to generate the XML without having saved the settings of the plugins at least once.

#### Improvements (31)

* Following changes to microdata, we now provide a price of 0 instead of no price microdata tag when the product has no prices.
* We added some CSS to better display the quantity input in regrouped and left/right modes on Joomla 4.
* The cart module in dropdown mode will now keep its dropdown open if it was already open before the cart module is refreshed.
* It's now possible to have alternative layouts with an XML override for the HikaShop views.
* You can now select variants in the "product" option of reports so that you can filter the report for a specific variant if necessary.
* We improved the look of the columns selector on listings with a lot of columns on Firefox
* There is now a hidden setting to be able to choose between redirection to the product page, or staying on the contact form after sending the contact request.
* We now take into account the ordering of the characteristics on the main product for the display of the characteristic values on the products listing.
* When using the HikaShop cart notification plugin in "popup" mode, the plugin would load the notify-metro.css file on the pages even though it is not necessary.
* We improved the payment methods loading when doing it for existing orders so that it can better take into account the min/max weight/quantity/volume settings of the payment methods.
* Filters with their "dynamic display" setting turned on will now keep their values once they are used until the filters are reset.
* We improved the prices section of the product edit form to make it more obvious that you need to enter the price of the product in the prices listing and not in the retail price setting.
* Shipping plugins can add their own tags to the formula setting by implementing the onCalculateShippingFormula(&$order, &$rate, &$tags, &$values, &$formula) method in their class.
* The content tag button now also appears in the Advanced Modules Manager extension.
* We've improved the description of the Google Products plugin.
* We've improved the description for the "Local XML file path" setting of the Google Products plugin.
* We've improved the integration between the custom fields on the checkout and the input validation mechanism of Joomla so that it can display error messages during for regex checks.
* We've added category specific classes on each product on listing pages for easier CSS customization.
* We added extra data areas for the products listing view so that plugins can dynamically add their HTML to the view.
* We added extra data areas for the cart view in the checkout workflow so that plugins can dynamically add their HTML to the view.
* The total tax amount is now displayed in the additional area of the order details page in the backend when the "detailed tax display" setting is turned off in the HikaShop configuration.
* We improved the RTL CSS for the retail price display on the product page.
* We made the PayPal Checkout plugin settings translatable.
* We improved the JS code of the filter system and of the infinite scroll system so that they will work fine together even when JCH Optimize is activated, and even if there are javascript errors.
* We now reset the task of the form on listings before starting a filtering. That way, if another action had be done which didn't require a page refresh (like a CSV export) it will work properly instead of running the previous task.
* The AJAX upload system can now work even on pages where JCH Optimize is configured to cache the javascript.
* We improved the compatibility between the infinite scroll and the filters system.
* The user registration in HikaShop now also checks the email address against the domain names restrictions configured in the Joomla user manager options.
* You can now select Venmo as a funding in the PayPal Checkout payment plugin settings.
* We've modified the HikaShop wizard page, which is displayed at the end of the installation process to be able to easily create a PayPal Checkout payment method. Before, there was a email address input field to create a payment method with the old PayPal payment plugin.
* We've added a check on the HikaShop configuration page so that if the PayPal payment plugin is configured as a payment method and activated, it will display an error message to notify the user he should configure instead the PayPal Checkout payment plugin.

#### New features (8)

* We've added a next and a previous button on the order edit screen so that it is easier to navigate the orders.
* There is now a column "products" on the orders listing so that you can directly have the list of products of the orders on the listing.
* We added support for the UserPoints extension ( a fork of AlphaUserPoints made to work on Joomla 4 ) to the points plugins in hikashop.
* It is now possible to use a tag {min} or {max} in the text to be displayed, when using the attributes mincart/maxcart/minproducts/maxproducts attributes in the hkshow and hkhide tags.
* The Google Products plugin has a new option to be able to restrict the feed to only some categories.
* We've added a Connect button to the PayPal Checkout payment plugin. That way, you just need to login to your PayPal merchant account for the plugin to automatically retreive your credentials for you.
* We've added several options to the PayPal Checkout payment plugin to configure how the payment buttons should display at the end of the checkout.
* We've added Pay Later Messaging options to the PayPal Checkout payment plugin.

### HikaShop 4.7.3

**Release date : May, 30 2023**

[List of all the files changed between the 4.7.2 and the 4.7.3](https://pastebin.com/tGqivymT)

#### Bug fixes (20)

* **We fixed a SQL injection vulnerability which could allow access to data from the database from the backend order edition area. Please update your HikaShop if you're using an older version of HikaShop.**
* When two discounts had the same percentage / flat amount, and were configured the same way, and a third party plugin would filter out the discounts based on extra settings not known to HikaShop, it could lead to HikaShop not seeing discounts it was supposed to see. This could happen for example with the vendor restriction on discounts when HikaShop would be integrated with HikaMarket Multivendor.
* Changing the quantity of a product in the cart in really rare cases could lead to an "access forbidden" error.
* We fixed a warning on PHP 8.1 with the add to cart button display on the variants listing on the product page in the frontend.
* When products would use an external image as their main image, the thumbnail for them on the email notifications wouldn't display properly.
* The maxproducts / minproducts attributes of the hkshow / hkhide tags were not working properly in some cases.
* Joomla 4.3 changed the form validator javascript and we now have to provide the ID of a form element and not anymore the ID of a container which can be a form or not. Previous versions of HikaShop were providing the ID of the div around the registration form on the checkout. We now provide the ID of the checkout form element to prevent a javascript error in the validator code.
* We now properly retreive the alias from the main product when indexing variants with the smart search.
* The special characters might be lost in some cases when using custom fields of the type "radio" or "checkbox".
* We fixed an error when editing a menu item / module in some cases on PHP 8.1.
* The selected characteristic values could be missing on the waitlist form in some cases.
* When all the prices of a product would be restricted to user groups not linked to the current user, and the user would use a sort filter with, among the choices, price sorting, if the user selected another sorting than price, the product would not appear in the sorted products listing evne though it should.
* We fixed some deprecated messages on PHP 8.1 when creating new filters in the backend.
* The ratio calculations in "proportion" mode could result in wrong ratios when products had variants, leading to a wrong tax calculated in some rare cases with several tax rates in the same order.
* The cart notify plugin would redirect to the checkout even when the add to cart was failed when the popup mode was used with the redirect on success option activated.
* We improved the compatibility between the infinite scroll and the filters system.
* We've fixed several deprecated issues with PHP 8.1 on the new payment method form.
* When filtering on the orders listing would result in no orders being found, it could result in some cases in a MySQL error.
* We've made a fix for the PayPal Checkout plugin following changes in the 4.7.2
* We fixed an error which would happen when copying orders with the 4.7.2 due to changes made in that version for the order management.

#### Improvements (3)

* We improved the filter system dynamic refresh mechanism to avoid failing when there is a javascript error in the HTML returned by the server.
* If the last step of the checkout is empty, and the user arrives on it, the system will now automatically move to the order creation process.
* The non-selected values of "dynamic display" filters will now be still available for selection.

### HikaShop 4.7.2

**Release date : March, 21 2023**

[List of all the files changed between the 4.7.1 and the 4.7.2](https://pastebin.com/zSSAV4RE)

#### Bug fixes (36)

* We fixed a compatibility issue with the Multi coupon plugin when using auto loaded coupons.
* We fixed some warning in rare cases at the end of the checkout with discounted products on PHP 8.
* In some rare cases, the smart search plugin integration could generate an error when saving a product in the backend.
* When a coupon was in "override discounted products" mode and with a percentage value, and it was applied to a discounted product, it would calculate a lower coupon value than what it should be.
* We fixed deprecated messages on the discount edit form on PHP 8.1.
* We fixed an error on the user control panel on PHP 8.2.
* If custom address fields have all be disabled for shipping or billing, then the address block in the checkout won't stop the customer from finishing the checkout because of a missing shipping/billing address.
* We fixed an error with the WorldPay Global Gateway plugin on Joomla 4.
* There was an error on the product page on the frontend on PHP 8.1 when a product had a characteristic added to it without any variants.
* When custom order fields would be restricted based on the shipping or payment method, they wouldn't display properly on the frontend order details page.
* We've fixed an issue in some rare cases with filters.
* When not using the "force menu on checkout" setting the HikaShop configuration, the "proceed to checkout" button of the cart module could, upon refresh after an "add to cart", sometimes use another menu item than the current menu item, even if the current menu item would be a HikaShop menu item.
* In some cases when two columns would have the same name in the exported XLSX of a mass action, it would be possible to get the data in the wrong column.
* We fixed an issue with the mass action export in the XLSX format on PHP 8.1.
* There was an error on the frontend in some rare cases with PHP 8.
* We fixed warnings when editing menu items in the Joomla menu manager on on PHP 8.1 and above.
* We corrected a class name for the image of the products in the cart module.
* We fixed a problem with the column hide/display mechanism in French.
* Options displayed as radio or checkbox might not work properly in some cases.
* We've added a patch to support several email addresses in the user profile for Joomla 4.
* We fixed some deprecated messages on PHP 8.1.
* We fixed deprecated messages on PHP 8.2.
* We added some extra checks to the weight / volume conversion mechanism to avoid warnings on PHP 8 with invalid units.
* The translation popup of categories was losing the name and description in some cases.
* We fixed some deprecated messages on the order details page and invoice with the address display.
* We fixed some deprecated messages with the Smart Search integration on PHP 8.1.
* The URL in the "Add to cart HTML link" popup was missing the product ID due to a previous modification.
* The URL for the activation message to be displayed on after the registration was not properly using the current menu item.
* When updating from really old versions of HikaShop, and you had never changed the "popup mode" setting (which has been removed since then) to "vex" in the HikaShop configuration, the popup in the backend wouldn't display properly on Joomla 4. We've made a patch to force popups to vex on Joomla 4, no matter what to avoid the problem, since we want to always use vex now for popups.
* We made some modifications so that HikaShop doesn't add JS/CSS files in the Document when Joomla is loaded through the "cli" Application.
* We've fixed a warning on PHP 8.1 with the Checkout workflow.
* We fixed a warning with the new price form on PHP 8.1.
* We fixed a warning message on PHP 8.1 with the file and image uploader in some cases.
* Even with the "coupon percentage applied to products only" setting activated, the coupons restricted to products, could take into account other products in the cart instead of ignoring them.
* The cells of the action "Display the results" were not editable in some cases.
* The mincart/maxcart attributes of the hkshow and hkhide content tags didn't work properly in some cases.

#### Improvements (14)

* The order\_id column would be added to the export of mass actions even when the column was not selected. We've made a patch to avoid this.
* When displaying the product edit form page on the backend, we now first check that the product exists. If not we redirect back to the products listing with an error message.
* The out of stock filter now take into account the stock of the bundled products.
* We modified the behavior of the contact form so that after the email has been sent, the user is redirected to the product page.
* We've added the Itemid parameter in many places not used much on the frontend where they were missing in order to avoid issues in some cases on Joomla 4.
* We now better handle the "override registration" setting when guest checkout is activated so that it's still possible to guest checkout with the registration override activated.
* We've improved the hover X layout as it could sometimes reduce the images of the products on the listing if the images were not yet loaded when processing them.
* We now better handle the rounding of prices during calculations when recalculating the total amount of an order in the backend order edit page.
* We've updated the list of states (provinces) for Panama.
* We've improved the update XML so that it works better with Joomla's update system.
* We have made some adjustement for backend display around label and title options.
* We added bootstrap 5 compatibility to the accordion capability of the HikaShop content module so that it can work fine on Joomla 4.
* We added some extra debug capabilities to the USPS shipping plugin.
* The USPS shipping plugin now takes into account commercial and commercial plus rates.

#### New features (10)

* The PayPal Checkout plugin now has a new setting to be able to disable funding sources.
* We've added the attributes maxproducts and minproducts to the hkshow / hkhide tags so that you can use a condition on the subtotal instead of the full total of the cart.
* We've added a new button "new guest" in the customer area of the order details page so that merchants can enter the email address of a new guest to simultaneously create a guest user and assign it to the current order.
* We've added a new setting to the USPS shipping plugin to be able to choose between the production and test environment.
* We added the number of products in the order's additional information area.
* We added a new column for the number of products on the orders listing.
* We've added extra columns for the tax rates on the orders listing in the backend.
* We've added the columns "coupon" and "coupon value" on the orders listing in the backend.
* We've added a column for the shipping method in the orders listing in the backend.
* We added shipping address and billing address columns to the order listing in the backend.

### HikaShop 4.7.1

**Release date : January, 20 2023**

[List of all the files changed between the 4.7.0 and the 4.7.1](https://pastebin.com/ranCB1GJ)

#### Bug fixes (43)

* We improved the compatibility between the translation system, the canonical URLs and the language switcher of Joomla by clearing the translation of the current language before loading the translations of another language. That way, even if a translation is available in one language and not in another, it will still work fine.
* When running a mass action with an export action, if some of the elements wouldn't have all the information available, it could generate warning messages. For example, if you were exporting orders and exporting columns from the Joomla user account, and some of the orders had the user account of the customer deleted from the website, it would generate a warning for these users columns during the export.
* The "format" setting of custom fields of the type "text" didn't work properly when used for custom fields of the tables "address", "item" or "order".
* The restrictions on products / categories for custom contact fields didn't work properly when the custom fields were required.
* When the "force redirect" setting was activated in the Filters module, the current category would be ignored to display the filters on the page even when the page was a product listing where it should be taken into account.
* On a frontend products listing, when selecting "none" for brand filter it could, in some cases, not display any products instead of displaying the products regardless of the brand.
* The price with options might not refresh when an option would be selected with radios in some cases following recent improvements to support multiple prices in options based on the quantity purchased.
* If someone wrote some text for the stripes color, it could generate deprecated messages. We now properly handle that as transparent.
* We've added a fix for PHP 8 during the export action of mass actions.
* The support of the login social button for Joomla 4 would previously create an error on PHP 5.
* We've fixed a warning on PHP 8 when accessing a products listing page without going through a menu item (so without the menu item alias in the URL).
* When using HTML tags in the product name translations and then editing the translations of the products via the translation popup of the product edit form, the text wouldn't be escaped properly leading to the loss of the translation text with the HTML in it.
* In some special conditions, using some payment plugins and HikaMarket, it would be possible to generate an error during the confirmation of the order on PHP 8.
* The notification boxes could sometimes appear below elements of the interface.
* We fixed a warning which could happen when editing a variant while having custom fields of the table "product" and of the type "custom text".
* When coupons with the "quota per user" setting set were used together with the Multi Coupon plugin, it would generate an error in the checkout.
* The new tax mechanism when editing orders in the 4.7.0 didn't work properly when no taxes was applied on the amounts being changed.
* We fixed warnings which could come up on PHP 8 on the product edit form in the backend with products with variants with missing sorting data.
* When using setting the "sub element filter" setting of a menu/module to "group by categories" for a listing of product with the "main category" set to the main vendor category, the products wouldn't be found unless they were both linked to the sub category and the main vendor category. We fixed this so that it is not necessary, as it was already the case for normal categories.
* Once a cart was emptied, and if you added to the cart a product with variants where the main product was restricted by user group and you were logged in, it was possible the add to cart would be refused due to the system not properly retrieving the current user id.
* The delete icon of coupons with the multicoupon plugin didn't work properly in some cases.
* We fixed an error which could happen with PHP 8 when the tax rate of a coupon would be different than the tax rate of the products in the cart (a situation which should normally not happen).
* We fixed a deprecated message when sending an email in some rare cases on PHP 8.1
* We've added a little adjustement to avoid broken image icon for when the Shop address image setting is left empty.
* We removed the trigger of the events onPrepareModuleList, onAfterModuleList and onAfterCleanModuleList when loading the modules under the product page as it was causing more problems than anything with some templates.
* The check to hide empty filters on the frontend didn't work in some cases.
* We've added a little javascript fix for the open/close category explorer in the backend.
* The minimum quantity and maximum quantity settings of coupons were not working properly in some cases.
* When unpublishing several products or categories at the same time from the backend listings, the onAfterProductUpdate event would be triggered for each product but the $element passed would each time be the first product/category.
* When having only custom order fields of the types radio/checkbox without any default value selected, even if the fields were required the system would skip the check if nothing was selected in any of them.
* Following recent improvements to the options system, product options displayed as checkbox or radio wouldn't work properly in some cases.
* We've added a patch to avoid the current menu item's main category from being lost when loading the filters when the menu item would be translated with Falang. This could lead to filters restricted to categories to not appear on the page.
* The shipping and payment taxes were not taken into account properly when saving the changes with the new interface of the order management.
* Some templates would customize wrongly the radio and checkbox custom fields due to the classes changes we made in the 4.7.0. So we've made a change to avoid the issue.
* There was a problem with a translation key of the nl-NL translation file which would lead to an error on PHP8.
* When the product name would be too long it would generate an error with the PayPal Checkout payment plugin.
* We've fixed some issues with price comparisons on the checkout with shipping / payment methods on PHP8.
* We've added a patch to postpone the user synchronization during the HikaShop registration so that it is done by the registration process, and not the user synchronization plugin, and thus includes the custom user field data when triggering the onAfterUserCreate event.
* We've improved the robustness of the translation mechanism, especially when the original text strarts with a number.
* The generation of thumbnails could, in some cases generate a deprecated message on PHP 8.1
* In some rare cases, after products from a warehouse would be removed from the cart, the checkout would require a new validation of the shipping method selection before allowing the finishing of the checkout process.
* We've fixed a warning with the language switcher on PHP 8 which could happen in some cases.
* The geolocation plugin could generate a warning when the country of someone would be disabled in HikaShop or if the country code returned by the geolocation service would not be found in hikashop.

#### Improvements (21)

* We improved the error handling when saving a user to the database to display a proper message when trying to change the email address for one which is already used by another user entry.
* When the user clicks on the "new" button of the wishlist listing, we now stay on the same page instead of directing to the "URL where to redirect when the cart is empty", as it makes more sense.
* We've added some extra checks during the checkout to make sure the addresses being selected have all their required fields properly filled, even if they were filled before new required custom fields were added.
* We improved the error handling on the contact form when a custom field is not properly filled. Before, the user would have to re-enter everything and he would get an error on the email address even if he had filled it. Now, he won't have to re-enter everything and he won't have an error on the email address if filled.
* We made the limit periods translatable and translated them in French and Japanese. We translated the weight units in Japanese.
* The options of modules included in HikaShop are now translatable and translated in French and Japanese.
* The content of the add to cart HTML button popup is now displayed as a view so that you can create an override for it if you need to customize it.
* We changed the alignment of the quantity input incorrect warnings so that they display better on mobile devices.
* We've updated the header for the "Orders this month" to "Sales past 30 days" in the dashboard in order to better reflect what is being displayed.
* We've improved the display of the status of downloads on the downloads listing on the frontend so that represents better the situation of the download, especially for some cases.
* We've added the support of the Robots setting of menu items of the type cart listing, cart page, registration page, contact page, order listing, user control panel, and address manager.
* New shipping method image added for Posteitaliane.
* We've improved the payment and shipping views of the checkout so that if they are alone in their own step and that no shipping or no payment is required (because the order has only virtual goods, or the total amount is 0), the step will be skipped automatically to lead the customer to the next step of the checkout workflow.
* We improved the saving mechanism for the product form customization so that it can handle fields being displayed or not based on the user group and other criteria.
* We've added an horizontal scrolling capability to the backend screens so that if the content needs a bigger width (like the order status listing page on small screens) it will allow you to scroll to see everything instead of going outside of the area.
* You can now use drag & drop to reorder the characteristic values easily in the HikaShop backend.
* It is now possible to add HTML in the "Format" setting of currencies. This can potentially allow you to separate the price and the currency inside different spans with a format like this for example: <span class="symbol">€</span><span class="price">%!n</span>
* Publish & unpublish button listing have now css dress up in order to have colors (UX).
* We've added a new order status "returned" by default.
* We've removed the swf extension as default file extensions allowed for new installations of HikaShop as it has become obsolete.
* We now automatically delete the administrator/components/com\_hikashop/extensions folder at the end of the installation process as we don't need it anymore. This also avoid reinstalling old plugins which are not included in HikaShop anymore.
* We've improved the default look of the buttons in the popup notification after an add to cart.

#### New features (8)

* We've added an extra option "provide points instead of fees" to the affiliate system so that partners will get points through the user points system instead of fees for their affiliation efforts.
* We've added new columns hidden by default to the products listing in the backend.
* We've added a new option "check on add to cart" to the shop closed hours plugin. It allows you to directly cancel the add to cart of products if the shop is currently closed.
* We've added triggers onBeforeMassactionFilter and onBeforeMassactionProcess in the mass action system so that plugins can cancel actions, remove filters, add extra filters while a mass action is being run.
* You can now select the fields you want to be indexed in the Smart Search plugin settings, allowing you to index custom fields and other data of the products which were ignored by the Smart Search so far.
* We added a new feature that allow you to hide or display columns in your backend listings. This will also allow us to add extra hidden columns which can be displayed with the tick of a checkbox for merchants who need them without having too many columns displayed by default.
* We've added a new option to the login block of the checkout workflow to be able to override the registration form with custom text/html.
* We've added a button to the product form customization mechanism to be able to easily activate/deactivate it.

### HikaShop 4.7.0

**Release date : November, 18 2022**

[List of all the files changed between the 4.6.2 and the 4.7.0](https://pastebin.com/GT9zr3dx)

#### Bug fixes (42)

* The generation of thumbnails could, in some cases generate a deprecated message on PHP 8.1
* In some rare cases, after products from a warehouse would be removed from the cart, the checkout would require a new validation of the shipping method selection before allowing the finishing of the checkout process.
* We fixed the compatibility between the Shipping Estimation plugin and the Australia Post v2 shipping plugin.
* We fixed an error on the frontend which could happen when the minimum quantity per order configured in the product would be higher than the maximum quantity per order and the product's quantity input would be configured as "show select" (a dropdown).
* HTML tags could potentially appear in the option dropdown on the product details page in some rare situations.
* In some rare cases, displaying a cart in the backend where the user had already selected the UPS shipping method but had, for some reason no country selected in his shipping address could result in an error.
* We've added some extra check to make sure a payment plugin won't process a payment in the onBeforeOrderCreate event if a previous plugin has asked to cancel the creation of the order.
* The hreflang tags generated in the headers of the pages by the system languagefilter plugin of Joomla could be incorrect on listings and product details pages if different canonical URLs would be provided for each language for the category/product. Our fix prevents that from happening.
* The imported orders could have empty addresses with VirtueMart in some cases.
* After importing orders with shipping methods not available in HikaShop, an error would happen on PHP8 when displaying the order details in the backend.
* When creating a new cart/wishlist in the backend, it was possible on PHP 8 and in some special cases, to generate a fatal error.
* We fixed warnings messages on PHP8 with Joomla 3 on the frontend when products / categories wouldn't have an image defined for them.
* The coupon value could be incorrect in some rare cases for coupons with the handling mode set to "override discounted products" and with several products taken into account by the coupon.
* We fixed a warning when creating a new payment method following an improvement we've added in the 4.6.2.
* We improved the installation of embedded plugins so that no warning would appear later on on PHP8 when sorting the Joomla extensions listing.
* The import of product translations now handles properly the texts with line returns or double quotes.
* In some cases the "display errors" setting of the shipping view of the checkout workflow wouldn't be taken into account properly.
* The "Product quantity from" setting of the coupons would not work properly in some cases.
* The extra blocks of the product edit page were not added to the variants form.
* The reset button for the product edit page customization was not reseting the variant form customization.
* The label of the image width in the menu item options had been wrongly changed to the block layout label of the option above it.
* The fix added in HikaShop 4.6.2 to properly load the overrides for controllers and classses could result, in some rare cases in the wrong template being loaded on some pages of the frontend when the geolocation plugn would be used with its "after initialize" setting being activated.
* We've added a fix to properly support the "invoice shop image address" setting being empty.
* In some cases with several shipping/payment methods the taxes might be not properly taken into account during the calculations in the cart / checkout.
* The language switcher integration now takes into account the custom sef name of the languages when set.
* When using the VM2 import with a table prefix for the VM tables, it would result in an error during the import of the addresses.
* Deleting the selected date in some options of the backend was not working on recent versions of Joomla 3 on some websites.
* There was a conflict between the library included in the PayPal Checkout plugin and the header automatically added to the PHP files during the packaging process of HikaShop which resulted sometimes in a fatal error when using the PayPal checkout plugin.
* The XML of the HikaShop dashboard module could cause issues with the error reporting activated when installing other extensions on Joomla 4 following a change in HikaShop 4.6.2
* Removing all the selected category from a limit wouldn't be taken into account when saving the limit.
* We fixed a warning on the publish/unpublish toggle of the shipping/payment methods on PHP8.
* The uninstallation of HikaShop modules could generate a Fatal error on Joomla 4.2 with PHP 8 as the client attribute was not present in the manifest file.
* The title of the wishlist page could be incorrect in some cases.
* When indexing products in the Smart Search component on PHP8, if a variant was pointing to a non existing product, it would generate a fatal error, stopping the process.
* The RSS and Atom fees would generate an error on Joomla 4.
* The back button on the cart page will now correctly use the current menu Item.
* The error messages on the password rules now display with the proper translation on Joomla 4.
* The cookie modification in 4.6.2 to improve FireFox compatibility could lead to a fatal error on some versions of PHP.
* The best customer reports could generate an error on PHP8 when no orders would be found.
* The "move to new wishlist" action on the frontend cart/wishlist page didn't work properly.
* In some rare circumstances, the use of the coupon free product plugin could lead to a MySQL query error when adding a product to the cart.
* We fixed an error which could happen if you had configured the "user group after purchase" setting in at least one product of the order being confirmed and the HikaShop group plugin would be enabled without its settings having being saved once in the past on PHP8.

#### Improvements (35)

* We've improved the robustness of the translation mechanism, especially when the original text strarts with a number.
* It is now possible to add HTML in the "Format" setting of currencies. This can potentially allow you to separate the price and the currency inside different spans with a format like this for example: <span class="symbol">€</span><span class="price">%!n</span>
* We've added an horizontal scrolling capability to the backend screens so that if the content needs a bigger width (like the order status listing page on small screens) it will allow you to scroll to see everything instead of going outside of the area.
* We've added a new order status "returned" by default.
* The publish & unpublish buttons on backend listings now have colors.
* The Google Products plugin's menu item setting now uses a menu item selector instead of an input field in order to make it easier for the user to choose a menu item for the plugin.
* The "Redirect Joomla registration to HikaShop plugin"'s setting is now a menu item selector instead of an input field so that you can more easily choose a menu item for it instead of having to search for the id of the menu item in the Joomla menu manager. We've also improved the tooltip for that setting to properly explain what the setting does.
* We've changed the order of loading so that shipping plugins are loaded before payment plugins so that shipping plugins can cancel an order creation before a payment plugin could potentially process a payment.
* We've added a new event onBeforeUserListing for the user listing in the backend. This will allow plugins to be able to modify the MySQL query loading the users there and add extra filters on the listing page, similarly to what's already possible on the orders listing.
* The cart view of the Checkout workflow editor is now on two columns as it now has a lot of options. Incidentally, plugins adding extra blocks can now have their options in two columns with the "separator" type.
* We improved the check database mechanism so that it works fine when plugins add new columns to the database during an update.
* We've modified the class of the area for the additionals in the notification emails so that it's now possible to add CSS for only one additional without affecting the others.
* The Google Products plugin now automatically provide the sale\_price in the XML if a discount is applied on the price of the product. That way, Google will get both the price without discount and the price with discount and will be able advertise the products as being on sale.
* We now force the capture of the money in "test mode" with the WorldPay Business gateway to make it easier to test payments with it.
* It's now possible to use hikashop\_getLayout for the layout of a hikashop plugin.
* The close button for error messages on the frontend now also support Bootstrap 5.
* We improved the error handling in the PayPal Checkout payment plugin.
* We added extra data to the cart.empty javascript event so that developers can know what has been changed in the cart when it is emptied.
* We've added a hidden option "form\_custom" to be able to disable the form custom mechanism on the product edit page in case you don't need it and it create some problems.
* The geolocation plugin is now deactivated by default to avoid doing useless processing on the pages when not necessary.
* When the cart is being modified on the checkout, we now provide the data of the modified products to the javascript event so that third party javascript can use it.
* We changed the "none" text of the tax category setting of variants to "as parent product" to better reflect the behavior of the system.
* We now always display the thumbnails for the listing block layouts with "image" in their name, even if the "thumbnails" setting of the HikaShop configuration is turned off.
* We've added the Central Bank of Russia in the list of available exchange rates feeds of the HikaShop rates auto update plugin.
* We now force the creation of the address format override if missing in the template as long as it is different from the default in HikaShop. That way, when you change the template, as long as you save the HikaShop configuration once, it will add the address format override for it, instead of letting you believe it did while it didn't do it.
* We've added a failsafe for the loading of the JavaScript libraries on Joomla 4 so that if something tries to load them before the web asset manager is loaded, it will wait to load them later on.
* We've added the support for brands restriction for discounts.
* Payment and shipping plugins can now have tooltips added to their options.
* We've added a new event onGetCartProductsInfo(&$cart, &$ret) so that plugins can pass custom information to the javascript when responding to an add to cart AJAX request or a cart update AJAX request.
* We changed the type of the field\_default column in the hikashop\_field table so that you can now write a text bigger than 255 characters in the default setting of custom fields.
* We've improved the look of the PayPal Checkout buttons at the end of the checkout.
* The RedShop import is not compatible with RedShop 3 (it would require writing a whole new import) so we've updated the text of the interface in HikaShop to reflect that.
* We've added a "position" and an "icon" attributes to the additional deletable parameter so that plugins adding additionals to the cart can choose the placing of the delete icon and the icon to use.
* We added the taxation\_id of the created tax rule for the onAfterTaxationCreate event so that plugins can more easily act upon a tax rule creation.
* The password checks now also support the "minimum lowercase" setting and also checks for spaces at the beginning or end and check the max length to replicate all of Joomla's new checks.
* We've added jpeg, svg and webp as default file extensions allowed for new installations of HikaShop.
* We've removed the swf extension as default file extensions allowed for new installations of HikaShop as it has become obsolete.

#### New features (9)

* We've added a new "format" option for custom fields of the type "text", "textarea" and "WYSIWYG" so that you can prepend/append text around the value provided in the field when displaying the value of the field. This can be quite useful. For example, if you want to display a tracking URL in your emails, you can use a custom order field where you just provide the tracking number and use that format setting to add the HTML of the link around the tracking number.
* We've reworked the order additional information edit popup so that it is clear what each input field is for and also improved the price / tax fields so that it is easier to use, without the need to manually calculate taxes.
* We've updated the order product create/edit form popup on the order details page of the backend. We removed the tax input field and added instead a "price with tax" setting. That way, you don't have to manually calculate the tax when you want another price than the price by default. We also automatically calculate the price with tax based on the price without tax and the tax rate selected and vice-versa.
* When options have several prices for different minimum quantities, the system will dynamically refresh the price displayed in the option dropdown/radio and will now also take it into account for the "price with options" display based on the quantity entered by the user in the quantity input field.
* We've added a new option "Funding" to the PayPal checkout plugin so that you can select the payment methods you would like to be available to your customers if eligible (like Pay Later, bancontact, etc).
* The input and select elements on the frontend now use the classes of Joomla 4 when using Joomla 4 instead of HikaShop's custom classes. We've made a system using constants which can be overridden either with options from the HikaShop configuration or plugins with the new event onHikashopDefineConstants.
* The password fields on the different registration forms of HikaShop now display similarly to Joomla 4, with the requirement meter.
* We have added new templates to allow you to change colors of your HikaShop emails, and select a new design to match your website style without having to modify the CSS of the emails default template.
* We have add a new options to allow to add icon in the cart module view.

### HikaShop 4.6.2

**Release date : September, 16 2022**

[List of all the files changed between the 4.6.1 and the 4.6.2](https://pastebin.com/aLUCR6YW)

#### Bug fixes (40)

* The best customer reports could generate an error on PHP8 when no orders would be found.
* The "move to new wishlist" action on the frontend cart/wishlist page didn't work properly.
* In some rare circumstances, the use of the coupon free product plugin could lead to a MySQL query error when adding a product to the cart.
* We fixed an error which could happen if you had configured the "user group after purchase" setting in at least one product of the order being confirmed and the HikaShop group plugin would be enabled without its settings having being saved once in the past on PHP8.
* There was an error with the CardSave payment plugin on PHP 8.
* In some rare cases, the delete button of the cart module would not work properly.
* When following the "Display by color" tutorial, the colors wouldn't hide/display with the "Characteristics dynamic display" setting activated in the HikaShop configuration.
* We fixed an error with the add to cart when using AJAX file custom fields in some cases with PHP 8.
* The search feature could potentially break the HTML of the download button on the downloads listing of the frontend.
* We fixed some warning message which could appear if the data stored in the database for the values of a custom field is invalid.
* Accessing a menu item of the type HikaShop product comparison would generate an error on Joomla 4.
* PHP 8 could generate errors during calculations if there were too many decimals on the numbers.
* The custom user fields are now displayed properly on the Joomla profile edit page on the frontend for Joomla 4.
* We fixed some warnings with the order detail page in the backend when the address custom fields would be all disabled.
* We fixed a deprecated message on PHP 8 with the cart module when its settings were not saved once before being displays on the frontend.
* helpers / controllers / classes overrides (for custom development) are now working properly on Joomla 4.
* The Joomla language switcher module could output invalid URLs if the menu item used wouldn't have associated menu items for each languages on some pages.
* We fixed an error which could happen on PHP 8 when a currency rate was set to 0 and the system was trying to convert a price from that currency to another currency.
* When using the pagination number of elements per page dropdown on the entries listing in the backend, the entries wouldn't display anymore on the listing.
* The "update the values" action could generate a "wrong type for this column" error in some cases with the "string" mode selected.
* With many options it would be possible to have a conflict between two of them on the same product page leading to an option not refreshing the price of the product properly.
* We fixed the country name for Bosnia and Herzegovina.
* We fixed a deprecated message with filters on PHP 8.1.
* We remove special characters when looking for product names from the alias in the URL in the router to avoid regex MySQL errors.
* The filter selection on the filter module settings page can now handle more than 50 filters.
* We fixed a deprecated message on PHP 8 with custom text fields when the value is null in the database.
* The variants display on the products listing would aggregate all the values of all the products on the page instead of only the values of each product individually.
* We've fixed a warning in some rare cases with the thumbnails display on the product details page.
* We fixed a warning relative to the translation files loading.
* We fixed an issue with the product edit interface and Joomla 4.2 related to tags.
* The modification of the description of variants didn't work properly on Joomla 4 in some cases.
* The first parameter of the onBeforeConfigSave event was not set properly by HikaShop.
* When the "synchronized add to cart with cart" setting was activated while using the "tabular" layout, the add to cart wouldn't work properly.
* The cart synchronization didn't work well with multiple dropdown, radio and checkbox custom item fields.
* The characteristic values were not translated properly when using the "radio" display mode.
* The translation popup of variants would display an error with the "Alias automatic filling" setting turned on even though it was working.
* We've fixed a warning when deleting orders in the backend in some rare cases.
* The limits didn't save properly in the backend interface since HikaShop 4.6.0
* The toggle icons would display for the category translation popup even when Falang was not used to handle the translations while they should not appear.
* The French and Russian translation files had a wrong translation key which would override the email sent by Joomla to the admin after a registration, which would create a problem on Joomla 4.
* The actions "Change status", "Add an existing product" and "Change user group" didn't display properly their options until you saved the settings of the mass action.
* We added a fix to properly take into account the custom data of shipping methods in some cases.

#### Improvements (43)

* It is now possible to use the lowest tax rate for shipping fees.
* The brand selector on the product edit page now displays as a tree as brands can be in several levels.
* There is a new option to the FedEx shipping method to select the environment.
* You can now use a comma as a decimal separator when entering the "Retail price" or when importing the "product\_msrp" column.
* The privacy consent integration now supports the "menu item" mode.
* We changed the default "Frequency of the check for the carts" for new installations from 1 days to 20 minutes so that even on websites with many carts created by users, the system can still keep up with deleting the old carts.
* Seletable filters will now be automatically hidden from display when there is no value to select in them.
* We now display boolean custom fields following Joomla 4's style on Joomla 4.
* We've added the support of the privacy consent plugin to the registration form displayed when you click on the link to register in the order notification emails after you placed an order as a guest if the corresponding option is activated.
* We've added an "empty the cart" button to the cart detail page.
* We've added "product\_files" and "product\_images" as reserved field column names as they are used internally and would create problems if used for a custom field.
* Plugins can now add extra fields on the characteristic edit form in the backend.
* The checkout login view will now display Joomla 4's social buttons (login with Google, Facebook, WebAuth, etc) mechanism. That way, users don't have to go through the registration procedure if social buttons are available (for example if they are added by Akeeba SocialLogin extension: https://extensions.joomla.org/extension/akeeba-sociallogin/ )
* Payment plugin developers can now add an attribute "needCallbackFile" to their plugin class to have a callback file automatically created for them at the root of the website and they can use $this->getCallbackFilename() to get the filename. This can be used when the payment gateway restricts the number of characters or some special characters like ?, & or = for the callback URL for the payment notification. That way, when that callback file is called, it will automatically trigger their plugin's onPaymentNotification function.
* We added a canonical URL header to the contact form page to make sure it's not flagged as duplicate content.
* The orders created with taxes calculated by the TaxCloud plugin can now be modified in the HikaShop backend without loosing the tax information calculated by TaxCloud.
* When the "synchronized add to cart" setting is activated in the HikaShop configuration is activated, you can directly update the quantity of the product from the "add to cart" button area on products listings and product details pages. So far even when reducing the quantity of the product in the cart, the notification box message would be "Product successfully added to the cart". We improved the system so that when the quantity is reduced it says instead "Product successfully removed from the cart" in order to improve user experience.
* There is now a link back to the product details page on the product name of the product contact form.
* If the stock of one of the selected options is not enough (or another limitation is hit for it), if the "group options with product" setting is activated in the HikaShop configuration, the add to cart of the whole product will be cancelled.
* We've added the SameSite attribute to the cart and session cookies to avoid a warning to be displayed in the console of FireFox.
* We now separate the "save" and the "save and close" buttons in the backend on Joomla 4 instead of having them stacked.
* We've added logging capabilities to the "AIM" mode of the Authorize.net payment plugin.
* We now allow HTML tags in the footer of the PDF generated by the PDF invoice plugin.
* We've improved the code loading the custom fields on products listing to avoid errors with custom code in some rare cases.
* We added a decimal to the exchange rate for new installations of HikaShop to be able to handle 6 decimals instead of 5.
* We've added a hidden setting called redirect\_url\_when\_registration\_form\_access\_while\_already\_logged so that you can override the URL where the user will be redirected if he tries to access the HikaShop registration form while already logged in.
* When the multilanguage edit mechanism is activated, for languages other than English, when HikaShop is being initialized, we now reload all the already loaded translation files without the English overrides so that English translation overrides don't interfer with the original texts of the HikaShop content when the base language of the content is another language than English.
* The PayFast payment plugin included in HikaShop has been removed from HikaShop's install package. PayFast offers their own version of the plugin and it conflicts with it. People already using our version will still be able to continue using it even after updating their HikaShop. But new installations of HikaShop won't have the plugin added anymore and they'll be able to get it from PayFast.
* We've added a new javascript event hkCustomFieldChanged which will be triggered when a custom field is modified.
* Changing custom item fields on the product details page now triggers the hkContentChanged javascript event.
* Plugins can now inject headers into emails in the onBeforeMailPrepare event by adding their headers to $mail->extraHeaders.
* We've removed the SEO fields from the translation popup of variants as they don't make sense there.
* We've added extra data display to the user edit form on the backend so that plugins can add extra elements to that interface.
* We've improved the javascript loading mechanism so that on Joomla 4, it will skip it if the web asset manager has not yet been initialized by Joomla.
* We've improved the categories filters so that if no category is selected, we still only display product categories in the filter as it doesn't make sense to display other category types.
* It is now possible to configure transparent stripes for image thumbnails.
* We improved the email history rendering of the emails to properly display images when added to the email as background-image.
* We removed the "add new value" button for the "default" setting of custom fields as it doesn't work properly and is not necessary there.
* We added an error message if the admin tries to use the "allow new value" setting while using his own MySQL query to load the values of a custom field as that's not possible.
* We improved the reminder plugin so that for cart reminders the plugin takes into account the last modification date of orders (and not only the creation date) and to also use the "cart waiting period" as a buffer so that if an order was created/modified for that user less than that period of time (1 day by default) before the last cart modification we also don't send a reminder.
* We've added a "make this address default" checkbox to the address form on the checkout when necessary to make it easier for the user and avoid having to go to the address manager to change the default address.
* We've added some failsafe for reports not properly initialized in order to not get an error when editing the report.
* We added a patch for the compatibility with 4SEF (successor of SH404SEF).
* HikaShop will now trigger the events onPrepareModuleList, onAfterModuleList and onAfterCleanModuleList for the modules loaded under the product page so that other extensions, like Advanced Modules Manager can process them.

#### New features (7)

* The translation mechanism now supports non latin languages for the original language with a new setting for it under the Languages tab of the HikaShop configuration.
* The UPS plugin has a new option to be able to select between the production environment and the test environment.
* We've added the "Sofinco" bank to the PayBox payment plugin.
* The variants can now have their own tax category, overriding the main product's.
* We added two settings in the HikaShop configuration to be able to enter your logo URL so that it will be added to the invoices generated by HikaShop.
* We've added a new PayPal Checkout payment plugin to HikaShop. With it, you'll be able to use the latest "PayPal Checkout" offered by PayPal.
* We've added a new option "Email favicon" under the Emails section of the HikaShop configuration so that you can configure a favicon to customize further the emails to your branding.

### HikaShop 4.6.1

**Release date : July, 1 2022**

[List of all the files changed between the 4.6.0 and the 4.6.1](https://pastebin.com/DWHaQTRb)

#### Bug fixes (29)

* We improved the product selector to avoid display issues with special characters on variants.
* The waitlist now properly take into account bundled products.
* We fixed an error with the Google Products plugin following the addition of tags support in the file name.
* The address edit/creation form of the address manager on the frontend didn't display the required fields properly.
* The address edit/creation form of the address manager on the frontend didn't display the error messages properly in some cases.
* We fixed the $this->filter\_set parameter's value in the product / listing view file.
* We fixed a warning message during the import of products when using the price\_value\_with\_tax column to insert prices.
* The products data was missing in the CSV export of orders due to a change in HikaShop 4.5.1.
* We fixed a notice with the saving of filters in the backend.
* The ORDER\_END\_MESSAGE text would appear at the end of the order admin notification email in some cases.
* We modified the language files to avoid issues with PHP8 in some rare cases.
* There was a problem in the Russian and Malaysian translation files which would result in a fatal error on PHP 8 at the end of the checkout for these languages.
* The import of products didn't work properly in some cases.
* We fixed an issue with pagination.
* We fixed a warning with the import / copy in some cases.
* Product listing carousel modules inserted inside the main area of a HikaShop page on the frontend (like with the "modules under the product page" setting or with a loadmodule tag inside a category description) would get a normal pagination even though they shouldn't and the carousel wouldn't work properly.
* We fixed some deprecated messages for PHP8 during the email generation process in some rare cases.
* The configuration of several triggers / filters / actions in a massaction on PHP8 could result in problematic refresh issues for one of them.
* An error would happen when deleting addresses or orders due to a change we made in the 4.6.0 to support deleting the images/files of custom fields when an address / order is deleted.
* We fixed a notice when exporting all products data and there are variants pointing to a non existant product. This should normally never happen unless you delete the product manually from the database without deleting the corresponding variants or if an unforseen event stop the deletion process of a product before it can delete all the variants.
* We made a fix to the HikaShop user synchronisation plugin to avoid a conflict with easyblog in the backend.
* The "display limited to" setting of custom product fields wouldn't work properly on the product edit page due to the field customization interface we've added recently.
* We fixed a bug with the export action of mass actions which could happen in some cases.
* We've fixed an issue which could happen in some cases with the creation of new variants and their edition.
* We fixed a notice on the payment notification email when products would have downloadable files attached to them.
* The tags {year}, {month} and {day} didn't work properly for mass actions.
* Custom fields of the table "category" wouldn't display properly on the category edit form due to an issue with the modifications we made in the 4.6.0 for the support of the "hidden" custom field type.
* We fixed an error with the creation of new categories on PHP8.
* The custom order field selector of the "Fields" view in the Checkout workflow setting of the HikaShop configuration page could potentially generate a javascript error leading to the Checkout workflow editor not working properly.

#### Improvements (18)

* We modified the Google Analytics 4 plugin to load the google analytics javascript asynchronously to help with page display performances.
* The PayPal plugin now changes the rounding of the prices sent to PayPal based on the currency as PayPal changed the system on their end to enforce it.
* The PayPal Express plugin now changes the rounding of the prices sent to PayPal based on the currency as PayPal changed the system on their end to enforce it.
* The HikaShop password plugin now also changes the "add to cart" button to a "choose options" button on the products listing if there is a password on a product and it hasn't been provided yet by the user.
* We improved the product selector so that if several variants of a product match with the text entered in the selector, the product is only once in the results, and not once per matching variant.
* We now cancel the enter key action on the product selector popup when using the "select" button of the order edit area.
* We changed the USPS shipping plugin's message when no shipping rates are available so that it can be modified with a translation override.
* We've added the meta tag datePublished for each comment to provide the date when the comment was posted.
* The smart search index will now refresh when a category is published/unpublished so that products only linked to unpublished products will be removed from the index and vice-versa.
* The "categories" setting of coupons can now handle brands as well.
* We now take into account the published categories during the indexation process of the smart search so that if all the categories of a product are unpublished, the product state in the index is 0 and it won't appear in the search results on the frontend.
* We now automatically create the custom user field "user\_points" when a user points gain plugin instance is configured or when a user points payment method is configured.
* The "Force a menu on checkout" option of the HikaShop configuration now take into account associated menu items for the different languages.
* We changed the text for the minimum quantity field of prices when editing a price of a product in the backend to avoid confusion between stock and minimum quantity.
* We've added a new font to the PDF invoice plugin to properly support Chinese.
* Canonical URLs now support # in them.
* We removed a useless / in the URL of some images of some of the images sent by hikashop.
* The email history now provides the link to the order for contact emails sent for an order.

#### New features (4)

* We added a new event onAfterFieldInit so that plugins can modify the initialization of custom fields.
* We added a hidden option default\_order\_status\_on\_order\_listing for the orders listing.
* The like plugin has an extra choice so that you can remove the like icon from the products listings to only have it on the product details pages.
* We've added the possibility to add the variant images before the main product image instead of after with the "Variant images behavior" we've added in the 4.6.0

### HikaShop 4.6.0

**Release date : May, 27 2022**

[List of all the files changed between the 4.5.1 and the 4.6.0](https://pastebin.com/7rsEF4i5)

#### Bug fixes (23)

* The cart module wouldn't refresh upon being emptied in some rare cases.
* We fixed an issue with custom fields in some rare cases on PHP8.
* We fixed a compatibility issue with Joomla 4 on some rare backward compatibility with old view overrides when looking a the cart view on the frontend.
* The shipping view would prevent the checkout from finishing if a warehouse of products had no shipping methods available even though no shipping was necessary for it (for weightless products for example).
* We reverted the modifications in the Oby library and migrated the xRequest and updateElem functions in window.hikashop so that we can have them work the way we need them in hikashop while not changing anything for other extensions using Oby.
* We fixed some issues between the TaxCloud plugin and Joomla 4.
* The waitlist return screen would display without the template in some cases.
* The PDF invoice plugin now properly take into account the shipping address override of the Mondial relay and Colissimo shipping plugins.
* The Google Analytics 4 and Matomo plugin could generate an error on Joomla 4 in some rare cases.
* When clicking on the "notify me when available" button of products without stock from inside a popup, it wouldn't display properly the waitlist form inside the popup.
* We fixed some deprecated messages on PHP 8.1.
* We fixed an error with the export system.
* On joomla 4, a fatal error would happen on the frontend pages with an add to cart button being added through a content tag if the "use chosen library" setting would be activated in the HikaShop configuration.
* The quantity input field of the cart details page on the frontend would not allow you to change the quantity of the product in some cases.
* We fixed a fatal error on Joomla 4 with the Recaptcha plugin on some pages of the frontend in some rare cases.
* The quantity input field was not always taken into account when adding a product to the cart from inside a popup.
* We fixed a compatibility issue with Joomla 4 when displaying a categories listing module with a specific set of settings.
* The instalments options in the ATOS SIPS v2 plugin didn't work properly.
* We fixed the USPS shipping plugin as it was not providing a correct girth to USPS in some cases, which could result in higher rates than expected in some cases.
* We've added a fix for the loading of the categories of a product in the Matomo plugin.
* We've added a fix for Joomla 4 compatibility in some rare cases for the Recaptcha plugin.
* In some rare cases, it was possible for a user to post a comment without entering a username/email with his comment.
* When public voting would be activated, it would be possible to publish a comment on a product without entering a username if the user had already filled the guest checkout form.

#### Improvements (27)

* We now have a new hikashop\_human\_readable\_bytes function in our main helper to easily display file sizes in a human readable form.
* We improved the support of Joomla 2.5.
* We now take into account the value configured in the Joomla configuration's robots setting when the robots setting of the menu item is set to "use global".
* We've changed the order of the Iranian provinces so that they are in the correct order for an Iranian searching among them.
* We've added Iran province names in English.
* Tags {language} {date} and {time} can now be used in the XML file name of the Google Products plugin.
* We now generate the breadcrumb links before generating the variant data to avoid variant data being used in the last entry of the breadcrumb on the product details page.
* We now catch the exception when the view creation queries fail on the partners listing due to missing permissions of the MySQL user. That way the listing can still be used, it's just the total fees that are missing from the listing.
* We now hide the "last modified" column instead of the checkbox column on small width devices on the orders listing so that the user can still select the orders to use actions, delete them, copy them, etc.
* We've changed the delay setting in the ATOS SIPS v2 plugin to use days instead of months as the maximum delay allowed by ATOS SIPS is 30 days and if you entered 1 month, it would work properly for months with 31 days.
* We've improved the deletion of custom fields. You'll now be presented with a link you can click on to also delete the data in the database after deleting the custom field.
* It is now possible to create new custom fields with the same column name as previously deleted custom fields. In such a case, the data of the previous field will be automatically used for the new custom field.
* We changed the type of some of the columns in the database, like the product\_description, from text to longtext for new installs of HikaShop so that it can hold longer text.
* We improved different quantity input displays for J3 & J4 (and added a hika\_j3 / hika\_j4 class).
* We added a class in order to specify whether a filter has been applied to the listing or not, and authorize specific css styles.
* We added a class to the waitlist button to allow easier styling of the button.
* We now include more information on the issue when sending a payment notification email to the admin and there was an issue.
* We now display a nicer error message when you create a filter for a mass action and there is a problem (a MySQL query error because of a wrong regex for example).
* The "main attributes" area now hides automatically when empty on the custom fields edit interface.
* The smart search integration plugin now supports images.
* The XLSX format now also takes into account the "CSV decimal separator" setting of the HikaShop configuration.
* The "OK" button in the actions popup has been renamed to "process" to better fit with what it does.
* The order export now includes a column for each tax rate for easier accounting, similar to what is provided with the mass action's export capabilities.
* The order\_tax\_amount columns for the "Display the results" action of mass actions now display as prices instead of floats taking into account the currency of the order.
* You can now select the order\_tax\_amount column for the "Export a CSV file" action of mass actions.
* The system will now generate the alias automatically for the translation of products / categories when providing a translated name without providing a translated alias if the "alias auto fill" setting of the HikaShop configuration is activated.
* We improved the messages display for the vote & comment system.

#### New features (10)

* We've added a new type "hidden" to the available custom field types. That way, you can create hidden fields to inject data into on forms without having to add custom CSS to hide the custom field from the view.
* We've added a new option "Variant images behavior" so that both the main product images and the variant images can be displayed when a variant is selected.
* We've added an extra setting "Support translated aliases in URLs" to the Languages tab of the HikaShop configuration so that you can manually activate the translation of aliases as it could cause heavy load on servers due to the way it works.
* The custom fields of the type "ajax file" and "ajax image" now have a "delete files" setting so that they can remove the files attached to an element when that element is deleted (for example if you delete a product and you had uploaded files to a custom ajax file field for that product, the files will be removed along with the product).
* The custom fields of the type "ajax image" now have a "thumbnails dimensions" setting so that you can define the size of the thumbnails when displaying the uploaded images while beofre it was automatically 100\*100px.
* We've added a new option to characteristics so that you can display the available values for each product on products listings.
* We've added a new option to the mass actions so that you can use the actions of a massaction as an extra button on listings.
* We added the events onBeforeProductExport, onBeforeZoneDelete, onAfterZoneDelete, onBeforeZoneCreate, onBeforeZoneUpdate, onAfterZoneCreate, onAfterZoneUpdate, onBeforeWarehouseDelete, onAfterWarehouseDelete, onBeforeWarehouseCreate, onBeforeWarehouseUpdate, onAfterWarehouseCreate, onAfterWarehouseUpdate, onBeforeWaitlistCreate, onBeforeWaitlistUpdate, onAfterWaitlistCreate, onAfterWaitlistUpdate, onBeforeWaitlistDelete, onAfterWaitlistDelete, onBeforeViewUpdate, onAfterViewUpdate, onBeforeViewDelete, onAfterViewDelete, onBeforeHikaPluginDelete, onAfterHikaPluginDelete, onAfterHikaPluginCreate, onAfterHikaPluginUpdate, onBeforeOrderstatusDelete, onAfterOrderstatusDelete, onAfterMassactionProcess, onBeforeLimitCreate, onBeforeLimitUpdate, onAfterLimitCreate, onAfterLimitUpdate, onBeforeLimitDelete, onAfterLimitDelete, onBeforeFilterDelete, onAfterFilterDelete, onBeforeFilterCreate, onBeforeFilterUpdate, onAfterFilterCreate, onAfterFilterUpdate, onBeforeBannerCreate, onBeforeBannerUpdate, onAfterBannerCreate, onAfterBannerUpdate, onBeforeBannerDelete, onAfterBannerDelete, onBeforeCurrencyDelete, onAfterCurrencyDelete, onBeforeCurrencyCreate, onBeforeCurrencyUpdate, onAfterCurrencyCreate, onAfterCurrencyUpdate, onBeforeCharacteristicDelete, onAfterCharacteristicDelete, onBeforeCharacteristicCreate, onBeforeCharacteristicUpdate, onAfterCharacteristicCreate, onAfterCharacteristicUpdate, onBeforeBadgeDelete, onAfterBadgeDelete, onBeforeBadgeCreate, onBeforeBadgeUpdate, onAfterBadgeCreate, onAfterBadgeUpdate so developers can interface with that data.
* We developed an Action log plugin for HikaShop and Joomla 4 which needed all the events above to be added in HikaShop. It is now available on our marketplace.

### HikaShop 4.5.1

**Release date : April, 12 2022**

[List of all the files changed between the 4.5.0 and the 4.5.1](https://pastebin.com/TQrzRm30)

#### Bug fixes (35)

* We fixed a fatal error with the UPS and CanadaPost configuration page on PHP 8 when creating a new shipping method.
* We fixed an issue with the sitemap plugin whereby the correct category would not be used based on what was selected in the menu item when Falang would be used to translate the menu item.
* The sitemap plugin didn't handle properly the product URLs when handling menu items with a brand selected as "main category".
* The thank you page display for guest orders didn't work properly in some cases.
* The auto detection of the type of the columns in exported CSV files would lead to columns missing data in cases where the data of the column would be a merge of several rows while the column in the database would be a number.
* The VirtueMart import didn't properly import the prices and categories of products without a SKU in VirtueMart.
* We fixed an issue with the replacing of tags in the return URL of payment methods which didn't properly take into account integers.
* Display the details of a cart with a coupon attached to it in the backend on PHP8 would result in a fatal error.
* The CM-CIC (Monetico) plugin was loosing the current menu item when the user was returning from the payment gateway.
* We fixed warnings which could happen when running a mass action to remove categories from products while having products without any category.
* The product content tags on Joomla 4 could lead to a Fatal error in some rare cases where the plugin would request the loading of jquery and it hadn't yet be done by some other parts of HikaShop on the page (basically a page where nothing else of HikaShop was loaded). We now catch this behavior and instead of the error, we fallback to loading HikaShop's jquery.
* The menu item would be lost when returning from Monetico after a payment.
* The add to cart on listings might not work properly when adding several times the product to the cart, as long as you didn't save once the HikaShop configuration after the update to the 4.5.0.
* We fixed an issue with the export action of mass actions which would lead to some number columns being empty with some versions of PHP.
* We fixed the events in the email history plugin as they wouldn't trigger properly in some cases.
* We fixed a rare issue with the integration with the Joomla language switcher which could lead to a fatal error.
* We've fixed an issue on PHP7 and PHP8 with the Google auto fill plugin.
* We've fixed the id of the edit icon link for products in the cart on the checkout so that they are still unique on the page even when several products are in the cart.
* We added a fix in order to better handle the details buttons & choose options buttons on listings when the link to the product page is turned off and the popup mode is also turned off.
* We made some modifications for hover\_x\_img in order to manage the default image case (product with no image).
* The custom item fields and options didn't work properly in the popup of the product details on listings.
* The hover X image title layout could sometimes cause the images to not display on the listing due to the asynchronicity of the download of the images by the browser.
* The "show details" button didn't display properly when using the new popup mode.
* We have add a little fix to prevent notice error when popup\_mode & zoom\_on\_hover options aren't define.
* The current menu item could be lost in some cases during the payment notification process.
* The Recatptcha plugin didn't display the invisible captcha properly for the guest form when going back to it from the "change guest information" button of the checkout.
* There was a bug introduced in the 4.5.0 for backend listings on PHP versions older than 7.3.
* We fixed an error with the Canpar shipping plugin on PHP8.
* The frontend popups didn't display properly in some cases on mobile devices for Joomla 4 websites.
* We fixed a notice message which happened in some rare cases on PHP8.
* We fixed a warning in some rare cases when generating SEF URLs for products without an alias.
* We've improved the integration with the Joomla language switcher as it would create wrong URLs for category listings in some rare cases.
* We modified the drag & drop of the blocks on the product edit page so that it's possible only on the title of each block. That way, it doesn't prevent you from selecting things in the input fields.
* The drag & drop product backend edit form new feature caused the variant edition to not work properly anymore in some cases.
* We fixed some javascript issues on Joomla 4.1.

#### Improvements (14)

* We've removed the "bank" and "test mode" settings of the Atos SIPS v2 (WorldLine SIPS) plugin to have instead a "Url" setting for more flexibility as the URL tends to change a lot.
* We now support canonical URLs translations in the sitemap integration plugin.
* We made the add to cart notification box more resilient to jQuery conflicts.
* Modules linked to a category that had been deleted would lead to a "category not found" exception. They will now disply an empty content without any exception.
* It is now possible to auto close the popup after the add to cart when the "Display location" setting of the cart notification plugin is set to "popup".
* It is now possible to configure an automatic redirection to the checkout after some delay when the "Display location" setting of the cart notification plugin is set to "popup".
* The discount information is now stored along with the product entry in the order when created at the end of the checkout.
* It is now possible to add the tag {LINEVAR:PRODUCT\_PRICE\_BEFORE\_DISCOUNT} in your emails in the menu System>Emails to add the price of the product before discount in the emails.
* We've added a class to the edit icon link for products in the cart on the checkout to make it easier to style with CSS.
* We've improved the routing resources consumption when ids are not in the URLs and the router needs to match aliases.
* The mass action CSV import filter now supports CSV files with carriage returns.
* When the add to cart process is triggered from within an iframe and that HikaShop's javascript elements are available in the parent window, the add to cart is done on the parent window so that if there is a redirect to the checkout it is done on the whole page, and if there is a cart module on the parent window, it is also refreshed appropriately.
* When an add to cart is triggered from the popup feature we've added to listings in the last release, the "continue shopping" button of the notification popup will not only close the notification popup but also the product details popup.

#### New features (10)

* We've added a hidden setting translated\_aliases so that you can disable the alias translation support which can help for performances in some rare cases.
* We've added the trigger onAfterMailSend so that you can now do things in a plugin after an email has been sent.
* We've added a hidden setting with the namekey shipping\_methods\_zone\_address\_type so that you can override the behavior of the "zone" setting of shipping methods to use the billing address instead of the shipping address by adding an entry with that namekey and the value "billing\_address" in the hikashop\_config table via your PHPMyAdmin.
* We've added an option to custom fields of the type AJAX File and AJAX Image to restrict the allowed upload size.
* We've added an option to custom fields of the type AJAX Image to restrict the dimensions of the file the user can upload.
* It is now possible to enter a different upload folder for custom fields of the type "AJAX file" and "AJAX image".
* We've added a onHikashopConfigTabsList event so that a plugin can add its own tabs to the HikaShop configuration, or even modify the content of the existing tabs.
* It is now possible to allow or not the customization of the product edit page based on the access levels in the HikaShop configuration (Business edition only).
* It is now possible to easily reorder (using drag & drop) the fields of the product edit form in the backend, add new blocks, move them between blocks, etc so that you can customize that form to your needs.
* We have added an new product listing feature, the Zoom on Hover.

### HikaShop 4.5.0

**Release date : February, 17 2022**

[List of all the files changed between the 4.4.5 and the 4.5.0](https://pastebin.com/CVtBgwUE)

#### Bug fixes (23)

* The PayPal Express Checkout plugin could in some rare case create empty orders.
* We fixed warnings in some rare cases when the setting of the cart cookies.
* The translation overrides of the product/category name/alias were not taken into account properly by the routing system when using HikaShop Starter.
* We fixed a fatal error which could happen in some rare cases during the sending of the order email notification when the order was created on the checkout on PHP8.
* The "per status override" mechanism of the "order status notification" email now better handle special characters in the order status namekey (can be done when creating custom order statuses in the System>Order statuses menu).
* In some cases on joomla 3, the order statuses filter would be with chosen while it shouldn't and thus wouldn't work properly.
* We fixed a warning which could happen when calculating taxes on shipping fees while the subtotal would be 0 with a tax rate applied.
* The display of the activation page after registration on the checkout didn't work properly in some cases.
* We fixed some issues with Joomla 4 in some rare cases.
* An error could happen on PHP8 when changing a product of an order without taxes which would result in a fatal error.
* We fixed some issues with PHP8 and user export mass actions.
* The shipping prices area would not appear on the product page even when properly configured in some rare cases.
* A fatal error would be generated on Joomla 4 when using a custom field of the type "date (obsolete)" which could be used in the past but isn't selectable anymore since there is now the "advanced date picker" type.
* The "orders" menu was not active when looking at the discounts / coupons in the backend.
* The value of custom order fields couldn't be removed from the backend order edit interface due to a side-effect of another fix.
* When you edited a category, the name and description displayed in the input fields would be the translated ones instead of the original ones.
* We fixed a PHP warning in the user address retrieval.
* The name of products with variants on the WorldPay payment page would display the HTML tags instead of having them stripped.
* We've fixed a rare MySQL query error with the product import.
* We now forces the display of accordions with bootstrap on Joomla 4 regardless of whether the "use bootstrap design" is activated or not since the alternative with mootools is not available on Joomla 4.
* We fixed an error on Joomla 4 during the registration form display when the consent plugin of Joomla would be activated.
* We fixed an issue we had with the Google Auto fill plugin with slovenian addresses.
* We fixed an error on PHP8 with the saving of additional information of an order in the backend with some types of custom order fields.
* We fixed an issue on PHP8 with product mass actions with an "update categories" action.
* We fixed an error in some rare cases with modules settings being missing on PHP8.
* We've added a bit of css to fix the look of the next/previous product shortcut buttons.
* The color system by order status now works for the Joomla 4 backend.
* We fixed an issue we had with the way shipping prices were calculated.
* We now properly display the error message when you save a variant and an error happens.

#### Improvements (19)

* We have add some css adjustement for backend Massaction (export options CSV, XLS, XLSX).
* Taxes on the payment fees are now taken into account when the customer is changing the payment method of the order from the frontend.
* We've improved the return from SIPS when the customer cancels the payment.
* The currency selector of payment methods and shipping methods and the shipping methods selector of payment methods have been redone using our own selector mechanism so that they work better on Joomla 4.
* We've improved the accessibility of the shipping method and payment method forms.
* We've improved the ATOS / WorldLine SIPS v2 plugin to better handle some errors during the payment notification.
* We've added an extra check so that you cannot configure the same path for the "upload folder" and the "upload secure folder" settings of the HikaShop configuration. This will prevent accidentally loosing access to all your images on the website.
* We now display a nicer message when you access your order listing on the frontend and there are no orders found.
* The "only with products" setting of category listings now also take into account the "access level" setting of the products.
* We have slightly modified the product order listing plugin available for free on our Marketplace in order to work with the new drag & drop BE product feature.
* Brands won't be listed anymore in the "categories" setting of the product edit form since only categories should be selectable in that setting.
* The brands do not display anymore in the explorer of the products and categories listing and the categories do not display anymore in the explorer of the brands listing. That's more logical and will avoid confusion for the users of the backend.
* The eSelect / Moneris plugin is now compatible with PHP 8.
* The frontend URL of the product page is now also included in the contact request email sent to the admin.
* The "access level" settings under the "access level" tab of the HikaShop configuration are now sorted alphabetically based on the translated text of the label and not based on their key, which makes more sense for languages other than English.
* The address data would be lost in the input fields of the address form when editing an address of an order in the backend and an error would happen. The user would have to cancel to be able to edit it again with the previous data entered. We improved this so that the data entered by the user could be provided to the form so that he would just have to change the field with the issue.
* The display of messages in the backend on Joomla 4 could sometimes produce a message box with a non-functioning (and useless) close button as it was relying on a Joomla 3 capability. We now use HikaShop's message display system in these cases and it makes more sense and works better.
* We added some adjustement in Product design clothes plugin in order to better fit with the Joomla 4 frontend templates.
* We improved the way the address field of the auto fill plugin was displayed and used.

#### New features (9)

* We've added an option "Group options with product for the shipping price calculation" to control if product options should be grouped to their products during the shipping price calculation.
* It is now possible to synchronize the quantity input field and the add to cart button display with the product information in the cart thanks to the new setting "Synchronized add to cart" in the HikaShop configuration.
* We have added a new "popup mode" settings to products listing so that you can display the product details page in a popup on the listing page instead of being redirected to the full product details page.
* HikaShop now supports the use/upload of webp images.
* We've added a translation interface for the custom fields.
* It is now possible to reorder the different sections of the product edit form by drag & drop. And when you save a product with a new order of the interface elements, this will be remembered for when you edit/create products in the future.
* We've added a "return URL" setting to the "user points" payment plugin.
* There is now a format setting for the cursor labels of cursor filters not based on the price so that you can fine tune the format of the numbers (decimals, grouping, prefix, suffix, etc).
* The category explorer on the products / categories / brands listings can now be closed /opened with a button on it. And this will be remembered next time you access the same listing. It will be closed by default for the categories/brands listings as in most cases it is not needed there.

### HikaShop 4.4.5

**Release date : December, 17 2021**

[List of all the files changed between the 4.4.4 and the 4.4.5](https://pastebin.com/B1sHEndr)

#### Bug fixes (42)

* We fixed a warning with the coupon mechanism in some rare cases.
* The notification for vendors didn't work properly in some cases with the order notify plugin.
* We fixed an error with the translation saving on PHP8 for custom fields in some cases.
* The translation would not work properly in some cases for WYSIWYG custom fields because the editor would add extra characters.
* In some rare cases the user group after purchase plugin could complain that the "user group after purchase" setting was activated in a product even though it wasn't.
* The alias of the product in the URLs of the language switcher on the product details page could in some cases not be properly taken into account.
* The filter system could generate warnings with some types of filters.
* The edit cron report email button would appear on the HikaShop configuration of HikaShop Essential even though that feature is only for the Business edition.
* We've fixed a notice message in the history of guest orders which could appear in some cases.
* The contact button on the order details page would open without the template and modules around it in some cases.
* We fixed some warnings on the orders listing.
* We fixed an issue we had with the Auto fill which wasn't displaying in some cases.
* We've fixed an issue with the user group setting of the Google Products plugin.
* We fixed a problem with the settings page of the Google Products plugin on Joomla 4.
* On Joomla 4, the content tag plugin could sometimes result in an error.
* The "please select" option was not properly taken into account for the address\_state custom field which could lead to an error message stating that the field is required even if it's not in some cases.
* The refresh button on the cart product quantity input had an issue in some cases.
* We fixed an error with the product orders listing plugin which would lead to the variants tab not displaying properly for products with characteristics/variants.
* The min / max quantity and amount of coupons had some glitch in some cases following the rewrite of this mechanism.
* We've fixed a potential rare issue with special characters on the Authorize.net plugin hash generation.
* The "add to waitlist" button could potentially lead to the waitlist form to appear on the homepage of the website in some rare cases.
* We fixed an issue we had with the way tax amount was calculated for shippings via "Hikashop -> Taxes -> Rates"
* The end and start date of prices of variants wasn't properly taken into account when displayed as the main product price on the listings.
* The XML file generated by the Google Products plugin could potentially have invalid characters if the name/description of the products was too long and the language of these would be in multibytes and the cut off would happen in the middle of a character.
* The link to the order sent to the customer in the order status notification might lead to the website being in another language in some cases on multilingual websites.
* The creation of a new instance of HikaShop content module on Joomla 4 and PHP8 would result in an error.
* We've fixed an issue with PHP8 support when adding products to an existing order from the backend.
* The shipping prices might not appear on the product page even when properly configured in some rare cases.
* The pagination didn't work properly on product listings of menu items of the type "category listing" once the number of elements per page was changed by the user.
* The registration redirect plugin didn't work properly on Joomla 4.
* The payment and shipping information was not always exported properly with mass actions.
* We've fixed some errors on Joomla 4 with some redirects here and there.
* We've fixed an error which could happen with the payment notifications on Joomla 4 when generating the address display for email notifications.
* We fixed a bug with the filters on custom fields with values dynamically loaded.
* We fixed a bug with the replacement of product content tags.
* We fixed an issue with not being able to access the cart page in some cases.
* When a thumbnail could not be generated on PHP8, it would create an error and stop the processing of the page instead of a soft fail due to the strictness of PHP8.
* The HikaShop user synchronization plugin would create an error on Joomla 4 for console applications.
* The saving of "additional information" of an order in the backend could fail when a custom order field would be restricted on categories or products and required.
* We've fixed an issue with PHP8 for custom fields of the type "custom text" in some rare cases.
* We fixed an issue we had with the way shipping prices were calculated for carts with products not available anymore.
* The "attribute" setting of dropdown filters was not taken into account.

#### Improvements (20)

* The calculation of taxes now doesn't take into account the shipping address selected in the cart if shipping is not needed, even if the 'Type of address used for tax' setting is set to "Shipping".
* You can now select products with an access level different from "all" in the "product" content tag popup in the Joomla editor. It will respect the access levels of the current user on the frontend.
* We've added a hidden parameter so that you can override the order of the categories in filters on categories.
* The waitlist form submission now leave you on the same menu item instead of switching to the default one for a better workflow for the customers and a better setup for the admin.
* We've added support of Joomla 4 to the XMap plugin.
* We've improved the debug data in the authorize.net plugin.
* The waitlist button will now appear for out of stock variants with the "list" mode too.
* We improved the cart page so that the menu item is retained regardless of the Joomla template when the quantity of a product in the cart is changed.
* We now redirect to the user activation page after the registration on the checkout when done through AJAX so that the user doesn't see anymore the "next" button since it won't work anyways until he uses the activation link sent to him by email.
* We updated the URLs for the ATOS SIPS payment plugin. If you're using that payment plugin, you need to update your HikaShop.
* The {quantity} tag of the "formula" setting will now only take into account products with a weight if the "include virtual products price" setting is activated in the shipping method.
* The "points earning on categories" interface of the user points plugin didn't work anymore after the modifications necessary for Joomla 4. We've changed that interface so that it's nicer to use than before and work again on all Joomla versions.
* We now deactivate the refresh icon next to the quantity input field of the checkout cart view as long as the quantity entered hasn't been changed.
* Action buttons now use the button HTML tag instead of a tags for better SEO
* The displayFormat option of nameboxes can now be overridden when calling the display function of the namebox system for third party developers.
* We've added the events onUserAddressesLoad(&$addresses, $user\_id, $type) and onUserAddressLoad( &$address, $address\_id) so that you can modify/add/remove addresses for the current user on the fly while they are being loaded on the frontend.
* We updated the HTML2PDF library in the PDF invoice plugin to support PHP8
* We improved the javascript error handling when running AJAX requests to refresh some content.
* The tax on prices of bundled products is now also stored with the order so that it can potentially be used in the future.
* We've added a hidden wishlist mechanism to the TaxCloud plugin so that it's possible to reduce the amount of calls to the TaxCloud API, if necessary.
* We have made some adjustement in order to better manage alert popups on HikaShop pages for Joomla 4

#### New features (5)

* The Servired payment plugin now has an option to select a pay method. This allows the support of the Bizum payment gateway.
* We've made modifications to the PayBox plugin to properly support e-transactions (Crédit Agricole) as it varies slightly from the general PayBox API. This lead to the addition of an extra parameter for that payment method so that you can select the bank.
* We've added a "store images locally" setting to the product cron update plugin.
* We've added an image width and image height setting to the "table" layout menu items.
* We've added a debug option to the PayBox plugin in order to be able to get debug data from the plugin when needed for easier debugging.

### HikaShop 4.4.4

**Release date : October, 8 2021**

[List of all the files changed between the 4.4.3 and the 4.4.4](https://pastebin.com/pYmEv84K)

#### Bug fixes (48)

* The stock of the bundled products on products listing with several products with bundled products was not always properly taken into account.
* We fixed several javascript errors with the mass action "display the results" system whereby modifying the cells wouldn't work properly on Joomla 4.
* The checkout could be stuck in some rare cases, the system not selecting the zone on the billing/shipping address properly on one cart load from the database and then thinking that the cart total with taxes had been changed.
* The {VAR:customer.name} tag didn't work properly in the order admin notification email.
* The product selector could result in 500 MySQL query errors when searching for something that actually doesn't match with any product / variant / category in the shop.
* We fixed an error which could happen with some images when uploading them via the backend interface on PHP8.
* We fixed some errors on Joomla 4 with the event registration mechanism.
* We fixed an error on Joomla 4 on the affiliate program page.
* We fixed some fatal errors on Joomla 4.
* We fixed a warning which could happen when you configured a mass action to change the category of variants (which don't have categories).
* We fixed a MySQL query error with the mass action export on files, images, options and related products since the modifications we made to better handle data types auto detection.
* Categories listing menu items on the frontend could create errors on Joomla 4 when having sub menu items configured as categories listings.
* There was a wrong translation for the variants separator with the nl-NL translation file.
* We've added a fix for an error which could occur in some cases when deleting votes in the backend.
* We fixed a fatal error on PHP 8 with the CSV import filter of mass actions which could happen in some cases with CSV files with only a handful of columns.
* The random option didn't work properly on listings with pagination in the last pages of the pagination.
* The alias was not translated properly in some cases on the frontend for products and categories URLs.
* We've added a patch for cursor filters for the display of the title when values are selected in some cases.
* We've added a patch for a MySQL query error for filters with several values selectable and done on custom fields with value ranges provided in the filter.
* We fixed a warning on the waitlist page when no product is selected and the page is accessed.
* There could be a structured data error on listings with votes in some cases.
* We fixed an error on the product page on the frontend on Joomla 4 with recent versions of PHP.
* We've added a little fix for the management of collapsable filter options.
* We fixed an issue with the upload of several files in custom ajax file fields.
* The "export" button didn't work properly anymore when "all" was selected in the status filter of the orders listing.
* The search in the shipping methods and payment methods listing could lead to the zone restrictions displaying "invalid" instead of displaying the real zone name on the listing itself.
* In some cases, the language switcher module could generate an invalid URL on menu items of the type "category listing".
* We added some little css fixes to correctly handle badges with the hover\_x\_img layout.
* The smart search plugin could create a bug on Joomla 2.5 when saving a product in the backend with the smart search system activated.
* When editing several prices at the same time in the product edit page, it was be possible to loose some of them after saving as the javascript could generate identical names for the inputs.
* The name of the recipient in the payment notification email would be the customer name instead of being empty.
* The auto fill of the latitude and longitude when entering the address in the geocoding shipping method was not working in some cases.
* There could be an error with the MIGS VPC payment method in "hosted" mode with the AZN payment gateway.
* The "backend form" setting of custom order fields was always forced to "yes".
* The read-only mode of the custom fields view on the checkout would not display the values in some cases.
* The support of Joomla 4 in the ReCaptCha plugin lead to an issue with the javascript refresh of the registration form on the checkout which would prevent the captcha to display when the registration area was refreshed in AJAX. We've added a patch to fix that.
* The "copy" button didn't process the massactions properly.
* The wishlist sharing email notification didn't have a properly translated email subject by default.
* We've fixed some errors with the hkshow content tags on PHP 8.
* The cart module would not empty itself when deleting the last product from it via the delete icon of the cart module itself.
* Custom item fields of the type "checkbox" or "multiple dropdown" didn't save properly in the backend order edit page.
* The start date for prices of variants would not be saved properly in the backend interface when no end date was selected.
* Data in custom item fields displayed on the frontend but not in the backend order edition interface could sometimes be lost when modifying the products of orders in the backend.
* We've added a patch so that after you use the "invoice" and "shipping invoice" buttons of the PDF invoice plugin on the orders listing, you can still use the pagination and filters on the page, without having to manually refresh it.
* The onBeforeOrderListing event on the frontend orders listing has been renamed to onBeforeFrontendOrderListing in order to avoid a conflit of parameters with the event onBeforeOrderListing on the backend orders listing.
* Empty custom fields of the type "link" would still appear on the frontend product details page.
* The action "update related products" would fail and generate a MySQL query error when handling more than 500 products at once.
* There was a bug with the address zone processing in some rare cases in the checkout.

#### Improvements (41)

* We've added two new events onBeforeProductStockUpdate and onAfterProductStockUpdate when product is added / modified in an order.
* We've made some modifications to support custom item fields for content tags.
* We've added some minor improvements to the CSS of the cell edition of results displayed by mass actions.
* We now better handle the return of the customer from the WL SIPS v2 payment page when the customer cancelled the payment.
* The tracking URL generated by MyParcel is now included in the email notifications when available if you're using the MyParcel plugin.
* The legacy carousel setting has been removed for Joomla 4 as it didn't work on Joomla 4 and it doesn't make sense to keep supporting it. On Joomla 4, the new carousel system (available since HikaShop 3) is now used all the time.
* The content tag plugin now replaces the product tag by the products in the same order as the ids in the tag.
* We improved the URL of the page after the contact form is submitted so that we don't loose the current menu item.
* The system will now generate the alias automatically for the translation of products / categories when providing a translated name without providing a translated alias if the "alias auto fill" setting of the HikaShop configuration is activated.
* You can now search the orders with the coupon code that was used on the orders listing in the backend.
* The system now properly redirects to the empty cart URL even after a product has been added and then removed.
* We've added a hidden setting cart\_show\_page\_redirect\_on\_empty that you can set to 0 in the hikashop\_config table of the database to stay on the cart details page instead of redirecting when the cart is empty.
* We now skip the tax calculations of the taxcloud plugin before the user is logged in or filled the guest form since the address of the user is not known and thus there is no point in doing an API call.
* The controllers and backend classes can now also be overridden with the override system in place.
* When two menu separators are one after the other in a dropdown menu of the backend interface (usually due to ACLs), we now only display one separator.
* We removed a message we had displayed for legacy parameters of modules associated with menu items which doesn't exist anymore since HikaShop 2.x
* The URL generated for the Joomla language switcher module on the category listing now better take into account menu item parameters in some cases.
* We've added the support of translated aliases when done with translation overrides to the routing system so that the alias of products / categories changes in the URL based on the current language.
* The cart reminder plugin now checks that the cart has products added to it before sending the notification.
* The collapsable button of filters has been improved.
* We now avoid updating the cart in the database when the shipping/billing address set in it in already the one we want. This can avoid checkout progression issues in some rare cases and it also avoids unecessary processing.
* We now support the canonical URLs for the language switcher module on the product details page and the categories/products listings.
* We changed the parameters of the onAfterFileDelete event so that it can be useful.
* We added a onBeforeFileDelete event so that plugins can do things before the files are removed.
* The products selector in the backend forms now allow you to search not only on the information of the products but also on the information of the variants when variants can be selected in the selector.
* We've improved the state field refresh mechanism to make sure that the state selected for the address is one possible for the country selected.
* We've improved the CSS in some places to follow Joomla 4 changes.
* We've improved the CSS for the swipe mechanism on products with multiple images for RTL (Right To Left) display.
* The collapsable filter button will now use fontawesome like the rest of the interface.
* We now properly throw a 404 error when the page controller cannot be found. That will allow for proper logging of the 404 error by Joomla.
* The products selector in the backend now allow you to search for products taking into account custom product fields.
* We now include the email address of the customer in the order contact request email.
* In emails, the Pay Now link is now styled so that it looks like a button and is easier to see for the customer.
* We now add the email of the customer to the "reply to" of the "payment notification" email so that the administrator can easily contact the customer when receiving that email notification.
* We now display password rules error messages and custom address fields error messages on the registration form as proper errors instead of warnings or success messages.
* The automatic taxes mode of shipping methods now take into account the "include virtual products price" setting of the shipping methods so that taxes can be calculated only based on the non virtual products in the cart instead of all of them.
* We now automatically sort the products taking into account first the categories and then the normal ordering of the products in their respective categories when the "sub element filter" is set to "group by category".
* We improved the canonical URL tag for the listings so that the pagination is taken into account.
* The popup of images of variants displayed in "list" mode on the product details page is now using Vex.
* We've improved the badge system so that the badge size is consistent on products listings even with the "keep size" setting turned off in the badge.
* We've added French and Dutch translations to the reminder plugin.
* We've added a variant tag to the install package manifest for Watchful integration.

#### New features (10)

* So far you could set a minimum order value and a minimum number of products for your coupons. You can now also set a maximum order value and a maximum number of products.
* The minus and plus buttons on the quantity input field in the cart module and cart view of the checkout now auto submit the new quantity, similarily to when you change the quantity in the input field.
* You can now enter shipping labels for your products for the Google Products XML.
* We've added ACLs in the HikaShop configuration for the "Order statuses" manager.
* **The PayBox payment plugin has been updated for DSP2. Users using this plugin have to update to this version as older versions won't be supported by PayBox anymore soon**
* We added instalments support to the ATOS SIPS v2 payment plugin.
* The ATOS SIPS v2 payment plugin has now an extra "mode" option so that you can choose to use either the normal V2 mode, or the v2 simplified mode, or the V2 mode without transaction reference so that you can support the different modes possible based on the contract you have with your bank. If you're updating, you might need to review that setting to adapt it to your situation.
* There is now a new option in custom fields to be able to load the values with a MySQL query instead of entering the values through the interface.
* There is now a "add new value" setting in custom fields of the type "radio", "checkbox", "single dropdown" and "multiple dropdown" to allow the user to directly add new selectable values from the form where the custom field is being displayed.
* We've added an extra option to the google products plugin to be able to list products with access levels not set to "public". You'll now be able to select in the options of the plugin the user groups which you want to include in the XML.

### HikaShop 4.4.3

**Release date : June, 4 2021**

[List of all the files changed between the 4.4.2 and the 4.4.3](https://pastebin.com/Q7WyhNbT)

#### Bug fixes (27)

* The saving of custom fields of the table "entry" and of the type "checkbox" could create an error in some cases.
* You had to save the menu item once when its type was Hikashop products listing or HikaShop categories listing on PHP8 to be able to see the "products options" and "categories options" tab.
* There were some display issue with custom fields of the type "ajax file" / "ajax image" with the "multiple" setting activated.
* The image upload system didn't work properly for variants and duplicated the images.
* The export button of the orders listing didn't work properly when "all statuses" was selected in the order status dropdown selector.
* The "last update" setting of the HikaShop products cron update plugin wasn't properly updated each time the plugin process was triggered.
* The shipping untaxed amount was not properly taken into account when creating the order at the end of the checkout which could result in that amount not added to the total amount calculated in the tax rates listing.
* The order status notification's "per status override" could generate an error in some cases.
* The edition of products with both characteristics and options from the edit popup of the checkout cart view would lead to the options not displaying in the popup and being deleted from the cart after saving.
* We've fixed a warning in the edition popup of products in the checkout cart view when the products have options or characteristics but no custom item fields.
* The order status filter didn't work properly since Hikashop 4.4.2 on the tax rates listing.
* We've fixed a MySQL error which could happen in some rare cases on the checkout.
* The dropdowns of actions in the popup of the new "Actions" button didn't work properly on Joomla 3 in some cases.
* VAT number and phone number could happen to be displayed on the same line in some cases for addresses.
* We fixed an issue we had when saving the override tax zone field through shipping methods configuration page.
* Saving elements without translations could cause issues in some rare cases.
* The creation of custom fields on PHP8 now works properly.
* With the Chozen library loaded on the frontend, the dropdowns could end up being transformed several times when AJAX processes were occuring following a modification in HikaShop 4.4.2.
* We've fixed some errors which could happen in some cases during the registration process on Joomla 4.
* There could be an issue with the display of the configuration page on recent versions of PHP with the affiliate plugin not installed / configured properly.
* We've fixed a small warning with the loading of the affiliate plugin parameters in the HikaShop configuration page.
* The "order status" filter on reports and widgets didn't work properly because of changes made in the 4.4.2 for the order status selector.
* The filters on the frontend orders listing didn't work properly in some cases which could lead to no order being found when some should be.
* We've fixed an issue with the HikaShop rates auto plugin on PHP 8 when the plugin settings are not configured yet.
* The installation of the EU tax rates plugin would generate an error on PHP8.
* We've added a few fixes for Joomla 4 RC.
* We've fixed a deprecated message on the report edit form for PHP8.

#### Improvements (19)

* The category restriction of custom category fields is now taken into account when creating new categories/brands.
* We've added a checkbox to the "new" address form in the backend so that you can add the address as both a billing and a shipping address at the same time instead of having to do it twice if it's the same for both types.
* We've improved the product selection for the "add option" and "select" buttons of the order details page. You can now more easily select variants and products to add as extra products or extra options to your orders.
* The reports and widgets on "customers" and "partners" now base their time limitations on the order creation / order invoice creation dates and not on the user account creation date, which is much more logical and useful.
* We now properly handle view overrides with file names changed when displaying the modifications and we ask the user to select the source file if it is not known.
* We've added some extra messages to the products cron update plugin so that you can more easily see that it's working fine in the reports from the cron system.
* We've improved the way the untaxed total amount is calculated on the tax rates listing for orders with 0% taxes.
* When you add a product to a cart in the backend and the product can't be added (no stock, limit, and other restrictions...), you now get an error message explaining why it couldn't be added instead of just not seeing the product added to the cart.
* We now display the edit icon for products with options in the cart even when no option has been selected for it by the user if the "group options with product" setting is activated.
* UK has been removed from the EU for the total of "orders without tax inside EU" on the tax rates listing and moved to the "orders without tax outside EU" row instead.
* The "specifications" title would display unnecessarily inside the specifications tab when using the "tabular" layout for products with variants and custom product fields and only after the variant selection would be changed.
* The ReCaptcha plugin now supports Joomla 4.
* We've added onBeforeProductsImport(&$importHelper, &$importProducts, & $do) and onAfterProductsImport(&$importHelper, &$importProducts) triggers to the import system so that third party plugins can dynamically process the products before the import or do additional process after it.
* We've added hidden options to the contact request form to be able to disable some of the required fields that are there by default.
* We've added an error message to explain to the user that variants cannot be copied when he tries to copy a variant from the products listing.
* We've added a hidden option default\_file\_free\_download\_on\_upload to activate the "free download" option automatically when uploading new files.
* We've improved the handling of the language switcher module on category and product listings.
* The HTML editor's iframe is now displaying with the full height available on Joomla 4.
* We've added a hidden setting user\_account\_admin\_email to override the recipient of the user account admin notification.

#### New features (6)

* It is now possible to have a contact button on orders so that the customer can contact the shop owner for his order. You can configure that in the System>Order Statuses menu thans to the "Contact button" column.
* We've added the possibility to use mincart=XXX and maxcart=YYY attributes to the hkshow and hkhide tags so that you can display texts based on the current cart total amount.
* We've added a Drag & Drop system to views so that you can easily do simple customization without the need for HTML / PHP / CSS knowledge.
* We've added the support of XLSX files to the mass action export action.
* We've added a new action "Run PHP code" for mass actions so that you can run custom PHP code using the data from the elements being processed (you can access the data of the elements with tags like {product\_id} or {order\_id} in your code.
* HikaShop is now compatible with PHP8.

### HikaShop 4.4.2

**Release date : April, 13 2021**

[List of all the files changed between the 4.4.1 and the 4.4.2](https://pastebin.com/MUVrHEnM)

#### Bug fixes (28)

* The product content tags resulted in a fatal error on Joomla 4.
* The email and view edition on Joomla 4 didn't work properly in some cases.
* In some cases the "block" checkbox of products could potentially not be taken into account when displaying the available shipping methods on the checkout shipping view.
* The display of custom product fields in the backend products listing could sometimes lead to an error there.
* We've added a fix to the integration with Falang to avoid saving empty translations in some cases.
* The "reset" button of the image gallery system popup on the frontend didn't work properly.
* Custom product fields would not display properly on the frontend products listings in "table" mode in HikaShop Essential.
* A warning could happen when exporting products with a mass action in some cases which could lead to the export not working properly.
* We've fixed an issue with the calculation of the associated menu items for multilingual websites which would lead to 404 errors in some cases.
* There was a problem with the vote & comment system in some cases with guest votes.
* We fixed some errors with the bottom pagination on products listings.
* The error messages from custom fields of the type "advanced date picker" didn't appear correctly in some cases.
* We've fixed a deprecated message with categories in some rare cases.
* An image meta tag for products on listings could generate a 403 for Googlebot-image.
* We've fixed a notice with in stock filters when their "submit on click" setting is deactivated.
* There was a fatal error in some cases with the product content tag plugin after the modifications to support the new hkshow and hkhide tags in HikaShop 4.4.1.
* The refresh icon on the cart module didn't work properly when using the minus and plus icons to change the quantity.
* The hkhide and hkshow tags didn't display properly when using the product\_id.
* The refresh icon would display twice on the cart details page in some cases.
* We fixed the ordering saving on listings in the backend for Joomla 4.
* Custom fields of the table "address" and of the type "boolean" didn't work properly on the frontend.
* We fixed a fatal error which could happen in some rare case when editing an order without products while the smart search (finder) plugin would be enabled.
* We've fixed a notice message that could sometimes appear with the finder plugin when deleting a product from the backend.
* We've added a fix to avoid issues with Falang when saving votes on the frontend in some cases which could lead to the main product name/description receiving the current language translation.
* The "ajax file" downloads were not downloading properly in some cases following a modification made in the 4.4.1 to make the "ajax image" images clickable.
* Cursor filters didn't translate the dimension/weight unit when displaying it.
* Cursor filters now support the auto submit when entering the values in their input fields instead of using the cursors.
* Following an update to the Google visualization API, the dashboard and reports didn't display properly anymore.

#### Improvements (22)

* We now display the product content tag button on the WYSIWYG editor when displayed for a module settings page (like the custom content module).
* We've improved the image display on the product page to properly support mixing external images and internal images while the webP images are generated for the internal images.
* We've added extra spans with classes around the discount amount so that it is easier to style the different parts of the price display.
* We've improved the order status filter on the orders listing in the backend.
* The custom order fields error messages were displayed in green instead of red on the checkout.
* We now display the VAT number in the address if filled in when before it was not displayed by default and it had to be added in the "address format" option.
* We have updated the URL endpoint of the USPS shipping plugin to force SSL communication.
* We removed the UK from the checks on the VAT number following the brexit.
* When some products cannot be added to the cart while reordering an order with now still allow the other products to be added and redirecting to the checkout and only displaying error messages to indicate what could not be added.
* We now prevent disabled values from being selected in custom field dropdowns.
* The characteristic dynamic display system can now work for one characteristic only based on how you configured the "Characteristics dynamic display" setting in the HikaShop configuration.
* The trigger onBeforeOrderListing has been added to the frontend orders listing so that plugins can add filters to the orders listing if necessary.
* Filters will now be empty when they have the dynamic display option activated and that other filters result in no products found on the current listing instead of displaying all the values.
* There is now a hidden setting fields\_multiple\_values\_separator to be able to change the comma separator for custom fields with multiple values selectable.
* There is now a hidden setting translate\_HTML\_value\_in\_backend\_for\_fields so that you can activate the translation of values of custom fields in the backend.
* We've added triggers for tax rules and tax rates deletion as well as fixed the name of the triggers for the tax rates saving.
* The size of the main image on a product page for images once you hover on the thumbnails and when they come from an external source (because you entered the URL of the image in the product) now takes into account the setting "product page image" of the HikaShop configuration.
* The PDF invoice would display an empty popup in the backend when download the PDF invoice file. This is no longer the case with the latest version of the plugin.
* The AJAX processes of HikaShop now support loading extra javascript files on the page to cope with several situations where this is needed throughout HikaShop's interface (for example, for the support of tabs anywhere or modal anywhere content tags).
* Cursor filters now support commas as decimal separators in their input fields.
* The download links are now displayed as buttons for the frontend, backend views and email notifications.
* We've improved the display of the next and previous buttons on the product details page.

#### New features (15)

* You can now easily see the modifications on the email and view overrides.
* We've added a new icon on the description area of the product edit page so that you can expend it in order to have more space to write your product descriptions.
* We've added a new option "Thumbnails slider for product page" so that you can you can use arrows to switch between the multiple images of a product on the product details page.
* There is now an "Access level" setting for files with the "Free download" setting activated so that you can restrict the availability of the file based on the user group of the user.
* There is now a new option "download time limit" for paid download files so that you can setup a different available period for each file separately instead of only having the global setting in the HikaShop configuration.
* On mobile devices, it's now possible to "swipe" horizontally to switch between the muliple images of a product.
* We've added an "actions" button on the products, categories, orders and users listings so that you can directly select the elements on the listing and apply actions on them without having to go through the mass action system and having to create filters to choose the ones on which you want the actions to apply.
* The geocoding plugin now has an additional setting to enter a minimum distance for the shipping method to appear on the checkout.
* There is now an option for the smart search plugin (finder) to index products only once and not once by category as it was always the case before.
* We've added a display option to the user points plugin to display the used and earned points on the orders listing in the backend.
* We've added an extra option to be able to change the width and height of the translation popups in the HikaShop backend.
* We created a "Check dates" option for Advanced date picker custom fields which will define where HikaShop have to check the dates.
* We have added a new payment method option "Post code RegEx" which will enable you to restrict payment method based on addresses post code.
* We've added a "house number field" setting to both the MyParcel and the MyParcel Pickup plugins so that you can specify the column name of a custom address field for the house number if you don't want the customers to enter the house number and the street name in the "street" field that is available by default.
* We've added a new option to the "shipping" view of the "checkout workflow" to be able to hide errors (useful when you don't want to display them before the user enters his address, necessary for the shipping methods to display).

### HikaShop 4.4.1

**Release date : February, 12 2021**

[List of all the files changed between the 4.4.0 and the 4.4.1](https://pastebin.com/wxrRGqqy)

#### Bug fixes (83)

* Custom fields of the table "address" and of the type "boolean" didn't work properly on the frontend.
* A mass action on the user data with an action "update the values" on a column from a custom field not starting with "user\_" would generate a fatal error.
* We've fixed some notice message on the cart display page on the frontend in some rare case.
* The "users with ACL" filter on the "user" data was not working properly when executed through a trigger.
* The custom field title wasn't properly used for sort filters in some cases.
* The mass action import filter now porperly handle files encoded in UTF8 with BOM.
* Synchronized modules would use the main category of the module itself instead of the main category of the current menu item when the current menu item would be a category / product listing menu item and the page would be the default page of the menu item (not a sub category products listing, or a product page).
* The saving of values containing some special HTML characters could sometimes be problematic in custom fields.
* When having more than 50 custom order fields, the field selector in the fields view of the checkout workflow wouldn't work properly for the fields after the 50 first ones.
* The table switcher would display once per page of the infinite scroll, instead of just once at the top.
* We've fixed the mass action creation process which lead to errors on Joomla 4.
* The date format wasn't properly taken into account in exports from the mass action system.
* There was a MySQL query error generated by mass actions when selecting columns of the joomla user table for an export mass action.
* When using operations in mass actions, with strings with dots in them, it could generate errors and prevent the mass action from running.
* Orders placed after a specific hour with the ATOS plugin could in some rare cases stay created instead of being confirmed based on how the "pending" setting would be configured and how the bank would handle the payment (delayed or not).
* The tax information would not appear on the checkout cart view when only the payment fee would be taxed or when only the payment feee would be taxed at a specific tax rate.
* The exported floating numbers with mass actions could have the wrong decimal separator in some cases not properly taking into account the "decimal separator" setting of the HikaShop configuration.
* The unit price of products with options without a main product price would actually display the total price (taking into account the quantity) on the cart view of the checkout.
* We've fixed some notice and deprecated messages for PHP 7.4.
* The products of orders on the orders listing were not displayable properly on Joomla 4.
* The sort filters on custom fields limited to products or categories would not display the field name properly in the filter.
* The brand name was not properly filled in the product\_manufacturer\_id column of the product export due to another patch we had added in the 4.3.0.
* We've added a fix to avoid the quantity dropdown of a product with variants to have the same id in the cart than on the product page.
* The preview of images uploaded with custom fields of the type "ajax image" and the table "user" didn't work properly on the frontend.
* It wasn't possible to display the shipping address differently from the billing address on the address manager.
* For custom fields of the type "zone", with the zone type "state" and the table "item" didn't work properly in some cases.
* The img\_pane product layout didn't work properly.
* The Smart Search now takes into account the published/unpublished state of the products properly.
* The custom address field "address type" wouldn't be taken into account properly when editing an address from the address manager.
* We've fixes a few warning messages with the display of taxes for orders in some rare cases.
* We've added a patch to avoid the PDF generation failing when a warning or notice is displayed before itself.
* There could sometimes be an error on the downloads area for the customer when the downloads would be attached to products with variants.
* The mass action email's HTML content wasn't displayed properly by default.
* We've fixed a warning which could happen when generating the link to a product which has been deleted from an order in the backend.
* We've removed a warning which can appear in some rare cases with the add to cart system when the first product is added to the cart.
* We fix an issue with the advanced date picker custom field which wasn't properly supporting the "Custom error message" option.
* We've fixed a warning with the calculations of taxes with payment method fees in some cases.
* The orders paid with PayPal Express could be missing some information in some cases.
* The user and addresses areas of the order are now correctly refreshed when you change the user of an order in the backend.
* We fixed an issue we had with Payment methods minimum/maximum weight/volume options.
* The preview of order notification emails didn't work properly on Joomla 4.
* We now properly reload the checkout field step when a shipping method is selected on a warehouse.
* The cursor filter would not display anymore in some cases after another filter would be used when the filters would be displayed on top of the products listing.
* The errors from the shipping methods loading system for products with warehouses didn't work properly in some cases.
* We've fixed a warning with the calculations on the shipping fees in the cart in some rare cases.
* The categories listing carousel didn't take into account properly the setting "only if products".
* We fixed an issue with required order custom fields restricted to shipping / payment methods which were preventing the save of orders on the back-end.
* We've fixed some issues with the translation override system.
* Non-existing variants might be displayed by the dynamic characteristics selection mode in some cases due to a side effect of another fix we added in the 4.4.0. We've added another fix to take into account properly all the cases.
* The "Limit by type" option in the user points plugin didn't work properly.
* We fixed an issue we had with the shipping method restriction on order custom fields which wasn't supporting the "required" option correctly.
* We fixed an issue we had with the shipping method restriction on order custom fields.
* We've fixed a deprecated issue with PHP 7.4 and the meta description auto complete feature.
* The checkout wouldn't pass the address step if the user account didn't had any shipping address evne though there was a shipping address override configured in the shipping method selected.
* The link to the product page on the downloads listing on the frontend didn't take into account the canonical URL of the product.
* We fixed the user registration form page when the switcher mode is activated as it could lead to a non working registration form.
* The access level and user settings of the price area in the product edit interface didn't work properly on Joomla 4.
* We've improved the AJAX mechanism so that the HTML editors are properly loaded when editing a variant in the backend product edit screen.
* We fixed several issues with the edition of variants in the backend on Joomla 4.
* The characteristic selector when adding new variants to a product didn't work properly on Joomla 4.
* The default characteristic value selector of the product edit interface wouldn't work properly on Joomla 4.
* We fixed a warning with the wishlist/cart edition interface in the backend when a product doesn't have any price.
* We fixed a deprecated message on the badge edition screen with PHP 7.3.
* We fix an issue we had with reports to fully support timezones.
* The category explorer on the products selection popup in the backend didn't work properly anymore.
* The \* and + characters are now allowed in the "attribute" setting of custom fields.
* The "Characteristics dynamic display" setting, when activated could generate an error in some cases on the product page when the first characteristic would be displayed as radio.
* The comment form and the authorize.net and PayPal Pro plugins didn't work properly on Joomla 4.
* The Joomla search could lead to a MySQL error after configuring the HikaShop products search plugin.
* We've added a patch to avoid some notice at the end of the order creation process in some cases, with the calculations on the total order weight and total order volume.
* The weight and dimensions of the product were not properly retreived when adding a product to an order in the backend.
* We've added a fix to avoid a notice in some rare cases with the cart loading process when no shipping methods are available and products in the cart are in warehouses.
* The guest form would be removed from the login view of the checkout in some cases with the user group after purchase plugin enabled due to a modification introduced in the 4.4.0 to improve the way it works.
* We now force the add to cart legacy and checkout legacy settings to be turned off even if they were activated before updating to the 4.4.0.
* The "URL where you will be redirected when the cart is empty" option of the HikaShop configuration would be ignored when emptying the cart from the cart details page a second time.
* The "URL where you will be redirected when the cart is empty" option of the HikaShop configuration would be ignored when emptying the cart from the checkout page a second time.
* The amounts sent to Google analytics when converted by the GA plugin were actually not taking into account the conversion rate of the currencies involved.
* The tax rates listing could display a notice message if the tax rate of an order had been deleted.
* We removed legacy CSS code which could cause some display problem with some templates.
* The product\_parent\_id column wasn't exported properly since the 4.4.0.
* The "show proceed to checkout button" option of the Wishlist module should not appear in the settings of the module.
* The URL of the products on the comparison page didn't use the current menu item id as supposed.
* We fixed the ordering saving on listings in the backend for Joomla 4.

#### Improvements (41)

* The trigger onBeforeOrderListing has been added to the frontend orders listing so that plugins can add filters to the orders listing if necessary.
* We've added the support of the ceil, intval, floor, round and exp functions to the formula field of shipping and payment methods.
* You can now configure a translation key in the "cancel URL" of payment methods with that option in order to have a different URL for each language of your shop.
* The "random" option can now be used together with pagination on products listings.
* The "random" and "infinite scroll" options can now be used together on products listings.
* We now allow more easily the override of the hikashopCheckoutHelper class.
* We now automatically remove the "same address" checkbox on the registration form even if activated in the login view if the selected shipping method overrides the shipping address or if the current cart doesn't need shipping.
* It is now possible to add date tags to the payment log file so that different files will be used automatically. For example, the tag {date format="y\_m"} would result in 21\_02 if the log will be generated in February of 2021.
* The quantity input mode is now taken into account on the cart module and the checkout cart display.
* We've improved a bit the way the input fields of the waitlist form work.
* We now allow for relative URLs without the need for double quotes around the text for custom fields of the type "Link".
* The PDF invoice plugin now also split the options name to avoid breaking the style of the products table on the invoice when the option name is too big.
* The comments tab on the product page with the "tabular" layout will now only display if at least one comment has been posted.
* The comments tab on the product page with the "tabular" layout will now contain the number of comments on the tab title.
* We've added an improvement to the Google Analytics plugin so that when the campaign data is missing in the order, it doesn't overwrite what GA might already have calculated on its end.
* You can now add #notrans# to the beginning of a text in a translatable field so that it won't be translated.
* We've added an extra filter to the products listing so that you can filter the products based on whether they have a weight or not.
* Limits can now be restricted to several categories instead of only one.
* We now only replace the body of the mass action email when something has been entered in the "body" setting of the "send email" action so that email overrides can still be taken into account if necessary.
* We've added a specific class to each element of the left menu on the control panel so that it can be easily styled with CSS.
* We've added a check so that a mass action cannot add a product to an order which is not yet created and that way avoid the order creation process from crashing when such mass action is configured.
* Some actions and filters of mass actions would require first a save of the mass action to be able to use the selector (of categories, products, etc). They can now work directly right after selecting them.
* We now remove the "add to cart" and "checkout" buttons from the wishlist details page and the cart details page when the catalogue mode is activated.
* We now better handle the language switching mechanism so that you can stay on the page you are when you change your language.
* We've improved the MySQL query loading the products on listings on the frontend so that it loads faster when a lot of products are in the database.
* We've improved the upload error handling in the import tool.
* The google Wallet and Google Checkout plugins have been removed as the APIs have been discontinued by Google.
* We improved the image link of AJAX image custom fields so that it directly opens the image in a new tab of the browser instead of saving it as a download.
* We now synchronize the email address of the user when it is changed from the CB interface.
* We've updated the code for the reports map display to migrate to the new API of Google visualization so that the map can display again.
* There is now a hidden option to change the algorithm to select the sort price.
* The variants listing on the frontend product page might display a column when not needed. We've improved the algorithm to properly handle edge cases.
* We removed the "simple date picker" type for custom fields as it doesn't work anymore in some cases with recent versions of Joomla and the advanced date picker is better anyways.
* When the user doesn't have any shipping addresses, we normally display the new shipping address form. However, if the shipping address is being overridden by the shipping method and we don't want that as we only want to display the shipping address override. So we've modified the address view of the checkout to take that into account.
* We've added the currency symbol next to the input fields where you need to enter an amount for the affiliate settings of the HikaShop configuration.
* The image switcher on the images on the product page now works even with the "image popup mode" setting deactivated.
* There are now hidden settings to change the default ordering of the products and orders listings in the backend.
* We've removed the "Mootools" choice in the "image popup mode" setting as it cannot work anymore on Joomla 4 and it was the old image popup mechanism, while the recommended and default one has been "shadowbox".
* We now allow providing a cart object to the createFromCart function of class.order instead of just the cart\_id.
* You can now click on the thumbnail of an image uploaded via a custom field of the type "ajax image" in order to get the full size image.
* The default images of shipping and payment methods have been cleaned up, updated and normalized.

#### New features (10)

* There is now an option "one product per row" in the action "Export a CSV file" for mass actions of the type "order" so that you can more easily extra product sales data.
* We added the support of the privacy consent system of Joomla to the waitlist form.
* We've added a new option to the MyParcel shipping plugin to automatically export orders to MyParcel.
* We have added an UPS Saturday shipping option which will enable saturday deliveries.
* We have added the support of "Regional boxes A & B" containers in our USPS shipping method.
* We've added a new option to the cart notification plugin so that the click on the notification box can redirect to the checkout automatically.
* There is now an extra option "Same address checkbox pre-checked" for the "Address" view in the checkout workflow so that the "same address" checkbox can be unchecked by default.
* You can now use tags like {hkshow bought="xx"}content{/hkshow} or {hkhide notbought}content{/hkhide} on your website to display content based on whether someone purchased the product xx or didn't purchase anything.
* There is now a "store files locally" setting in the HikaShop - Product Cron Update plugin, similar to the option that was already in the import screen from the Products>Import menu.
* You can now restrict custom fields of the table "order" based on the selected shipping and payment methods.
* The characteristic dynamic display system can now work for one characteristic only based on how you configured the "Characteristics dynamic display" setting in the HikaShop configuration.

### HikaShop 4.4.0

**Release date : September, 29 2020**

[List of all the files changed between the 4.3.0 and the 4.4.0](https://pastebin.com/GqYRi1W6)

#### Bug fixes (74)

* The page heading was not properly taken into account for the wishlist page when accessed directly from a menu item of the HikaShop cart page type.
* When the product details page was accessed with a non-SEF URL while the SEF is activated, the filter module wouldn't work porperly on the page.
* The shipping and payment views on the checkout were not refreshed when the cart was updated from the cart view in some cases.
* The custom fields of the table "product" didn't take into account the "invoice" display setting properly on the invoice and order details page on the frontend.
* We fixed a notice message with the use of the user points plugin with points given basd on the user group of the user.
* There was an issue with the "user group after purchase" feature which would display in some cases an error message on the checkout before registering if a product with a "user group after purchase" configured would be in the cart.
* We've fixed a notice with the message display system in some rare case on the checkout.
* We fixed a notice message with the filtering of orders for the CSV export on the orders listing.
* We fixed two notice messages when displaying the information of an order with a shipping method that has been deleted.
* We've fixed a notice message which could happen during the orders export process if an order didn't had any product.
* The thumbnail size parameters in the URL of custom ajax image fields where not properly taken into account.
* The default values of custom fields of the type "link" where not properly taken into account.
* The shipping methods might not appear in some cases when displaying the available shipping methods on the product page thanks to the shipping price per product plugin.
* We've fixed a notice which could happen in some rare cases after categories were deleted.
* The vote count could be incorrect when deleting votes from the backend.
* The order address edition in HikaMarket frontend interface couldn't work due to some changes in the way the address API work.
* We've fixed a conflict with the height of the divs when both the list/div switcher and the check consistency settings are used together.
* We removed a deprecated message on recent versions of PHP with the saving of the HikaShop configuration.
* The modules added in the description of the category with a content plugin tag could potentially not display properly in some cases.
* The shipping prices per products would not display properly on the product page in some cases.
* The login/registration/guest switcher on the login view of the checkout wouldn't work properly in some cases after clicking on the "change guest information" button with the "user bootstrap v2 design" setting activated.
* The system would display a "product successfully added to the cart" when adding a product to the cart when the total quantity of the products in the cart had already reached the limit configured in the setting "Maximum number of items in the cart" of the HikaShop configuration. It now displays a proper error message.
* The "module class suffix setting wasn't taken into account properly for the cart module.
* The custom contact fields were not added to the notification email when sent from a contact page not linked to a product.
* The onAfterProductCreate and onAfterProductUpdate triggers did not trigger properly when saving variants from the backend.
* The user group after purchase plugin would display an unecessary error message when logged in on the checkout with products using the "user group after purchase" option.
* The title of the address was not properly translated on the address manager on the frontend.
* The shipping prices area where not always displayed when creating a new product from the HikaMarket frontend if the shipping method was restricted to the vendor.
* We fixed an issue regarding shipping maximum / minimum weight and volume, now every decimals are taken into account.
* We fixed an issue we had when paying for an auction and getting a "forbidden access" error message through the checkout final step.
* We fixed an issue we had with the displaying of shipping restrictions through the back-end shipping method listing.
* Printing the invoice in the backend with Safari would result in empty pages.
* The characteristic selector with the "dynamic display" setting activated and the wishlist system activated could lead to the add to cart of the default variant appearing when selecting a value in a characteristic for which no variant had stock.
* Prices entered with a comma on the product edition interface would have their decimals cut off.
* The shipping cost's tax was counted twice on the tax rates listing reporting tool in some cases.
* We've added a patch to display a proper error message when the payment method is not available for the order the customer is trying to pay from his control panel / orders history.
* The end date restriction was not properly showing on the tax rules listing.
* An error message with the text "error" was displayed when the address had an error.
* We fixed an issue we had through the checkout when using multiple warehouses with products which didn't had any shipping method available.
* We now properly take into account the tax rate for the tax rates listing statistics even if the tax rate is 0%.
* The vote edition interface in the backend didn't work properly.
* In some rare cases where a product has variants but it doesn't have a name, the add to cart would not display the popup notification after the click on the add to cart button.
* If you had the "address\_state" custom field required and you had some countries without state (which is the case by default for some countries), the system would prevent you from finishing the checkout due to an improvement we made in a recent version of HikaShop to check the address integrity when the order is created.
* The selected values of a multiple dropdown filter with the "deletable" setting activated didn't display properly.
* The VirtualMerchant ( Elavon ) plugin didn't sent the address of the customer in the correct format, resulting in special characters, like accents to be HTML entities.
* The quantity input and page layout settings of the product where not taken into account when copying the product.
* If a translation override file is invalid, and you would save translation overrides, the system would empty the translation override file.
* When saving a translation override without having first filled in the main field, it would add a translation override with an empty namekey, breaking the translation override file. We've added a check to avoid that and instead display an error message to explain the situation to the user.
* We improved the dynamic characteristic display mode to avoid a javascript error when no variant is available.
* The date format translation overrides were not taken into account for the orders listing on the frontend.
* The cancellation from the payment gateway was not doing a redirect back to the "cancel URL" specified in the payment method if the checkout was done in "guest mode".
* The HikaShop group plugin could potentially allow the creation of an order even if another plugin would have denied it based on the order of execution of the plugins.
* The "shipping prices" area wouldn't display in some cases on the HikaMarket frontend product edition interface for new products when it should have.
* The display of the number of results for a characteristics filter on a product mass action could create a MySQL error in some cases.
* The taxes were not calculated automatically for variants in some cases when selecting one via the selection popup in the backend order edition area.
* We fixed an error with the legacy checkout and PHP 7.3 which would lead to the checkout crashing.
* The translation override system now properly handle escaped double quotes in the translations.
* We've added a bit of CSS by default to fix the display of the social networks buttons on the product page in some cases.
* The min/max weight, price, volume restrictions of shipping methods and payment methods could have issues due to floating point comparisons.
* The category name did not support the translation override system on the "grouped by category" products listing.
* The saving of translation overrides for the product / category name would be lost if the original alias of the product / category would be the same as the original name of the product / category.
* We fixed an issue with the name of the product code field on the filters of the type "sort".
* There was a javascript issue on tablets with really old android versions and the default android browser whereby the checkout "next" button wouldn't be clickable due to a javascript error.
* The redirect back URL was not taken properly into account when saving the user account profile settings on the frontend. You now get redirected back to the HikaShop user control panel.
* The counting of results on filters of mass actions could generate an error in some cases.
* In some really rare cases, a notice could appear on the products listing in the backend if the currently selected category in the category explorer on the left would not be found anymore in the database.
* The cart view was not refreshing in some cases after the modification of a product's attributes with the edition popup.
* The removal of a translation override from the translation popup didn't work properly.
* The zone restriction setting of payment methods didn't allow the selection of payment zones.
* We fixed an error with the legacy checkout.
* We've fixed the translation interface saving for shipping and payment methods.
* We've fixes some warnings which could happen rarely with bad price data in the database.
* The "shipping per price" area on the HikaMarket frontend product edition interface could sometimes duplicate the "shipping per price" entries when saving the product.
* The improved SEF URL generation based on the category of the product didn't always use the main category of the product.

#### Improvements (66)

* We've added a hidden option check\_regex\_if\_not\_required to process the regex of custom text fields even if the field is not required.
* We've added a new trigger onAfterLoadFullOrder when the order is being loaded so that plugins can easily modify the data of the order on the fly.
* We've added the possibility to dynamically convert the amounts of the orders from one currency to another before sending them to Google Analytics. This will be useful if some of the currencies used in the shop are not supported by Google Analytics or if you want to have all the order amounts in the same currency.
* We do not display anymore a message in the cart/wishlist module when a product has been unpublished as the customer has no way or removing the message and he can't see the product information in his cart/wishlist anyways when the product is unpublished.
* We've improved the loading of search results with the Joomla search when translations are made with Falang.
* We improve the checkout to better skip empty steps.
* The South Sudan has been added to the list of countries and Zaire has been removed.
* You can now use a translation override for the "return URL" parameter of payment plugins.
* We've improved the address handling in the Monetico payment plugin.
* The "enable validation mode" is now turned off by default for the PayPal payment plugin.
* The prices from the "product sort price" on the filters now display with the currency format settings taken into account like it was already the case for the "price".
* The Recaptcha plugin now skips the guest registration form as it is not needed there.
* We can now display the shipping address override when multiple shipping methods are selected if all of them have the override.
* We switched the backend tabs system to our own so that it works fine on Joomla 4.
* We improved the way shipping minimum / maximum weight and dimension were compared to the cart dimension and weight.
* It is now possible to use an override on the area displaying the shipping prices on the product page in the frontend.
* The AustraliaPost shipping plugin V1 has been removed from the HikaShop install package as the AustraliaPost API has been deprecated by AustraliaPost and the plugin can't be used anymore. Please use the V2 plugin.
* The CanadaPost shipping plugin has been removed from the HikaShop install package as the CanadaPost API has been deprecated by CanadaPost and the plugin can't be used anymore.
* The IP of the user when he registered is now displayed on the user edition interface if the "log IP" of the "registration and login" section of the Hikashop configuration is activated.
* The address IP of the customer is now displayed on the order details page in the backend when the "Log order IP" option is activated and an IP address has been detected and stored for the order.
* We now force the display of a quantity field on the wishlist/cart details page when the product is configured to not display a quantity field.
* There are now classes on the subtotal/total/tax/shipping/payment rows of the order email notifications to be able to easily style them independently from one another.
* The publish/unpublish toggle of the products listing in the backend now supports the tags system properly so the product will be removed from the tags' items list if it is unpbulished and will be added back if it is published while before it only worked from the product edition page.
* We now remove HTML tags from the product name when added to the breadcrumb system of Joomla to avoid having them displayed as HTML entities by the breadcrumb module.
* There is now a hidden option to unpbulish the copy of products after their copy.
* When a backend menu doesn't have any menu element but only has dividers, we now skip its display.
* The user group after purchase feature is now removing the guest choice on the checkout if there is at least one product in the cart with a group added to the user after the purchase.
* There is now a hidden option discounted\_only\_with\_variants to support discounts on variants with the "discounted only" setting of products listing so that products with discounts on some of their variants will also appear on the listing.
* We now let the variant selectable with the "characteristic dynamic display" setting turned on even if it doesn't have stock if the waitlist is activated for all the products or for the current product.
* We now display a message saying that the comment will be reviewed when the user submit a comment and the "Auto publish new comments" setting is deactivated.
* Kosovo has been added to the list of countries.
* Custom product fields filled in the main product but not in the variants will now display on the products listing of the order details page if the corresponding display option is activated in the custom field.
* We have added another Australia post shipping service and fixed an issue we were facing when they returned only 1 service.
* You can now redirect the customer to the login form if he tries to add a product to the wishlist while he is not logged in (Possible only if the wishlist feature is active and if the 'Hide wishlist button for guest users' setting is turned off in the HikaShop configuration).
* We've improved the product CSV export to be based on the type of the columns in the database in order to better handle convertion of types when generating the CSV file.
* We've added the events onBeforeHikashopLoad and onAfterHikashopLoad so that system plugins can now act on HikaShop being loaded.
* The filter "text" type now supports translation overrides.
* We now disable the infinite scroll automatically on products listings when the pages are displayed with WbAmp so that the normal pagination can be used.
* We've added an error message to the contact form field when some of the fields are not filled to better guide the user.
* The product details page now take into account the "robots" setting of the current menu item.
* We added a class for the buttons of the user control panel so that they can be styled / hidden easily with just simple CSS.
* The telephone text in the address format will now only appear if a phone number has been entered by the user.
* The shortcut (next and previous) buttons on the product page now take into account the ordering column and ordering direction of the current menu item in order to get the next and previous products.
* The payment methods with a big textarea for the merchant to enter some information to be displayed to the customer at the end of the checkout now have an HTML editor instead of a text area to make it easier to style the text.
* We have added a tooltip for the category option through filters configuration page.
* In characteristic dynamic display mode, the characteristics are now checked during the page loading so that if only one value is available in the characteristic, it is automatically selected.
* You can now enter either 0.X or 0,X for the rate of the user points payment method.
* We improved the display of weeks statistics.
* We've added an attribute on the contact button on the product page so that the contact form for each product is not indexed by search engines as it's normally not needed.
* The characteristics name and values display in the backend now take into account the translation overrides in the backend.
* We now use addHeadLink instead of addCustomTag to add the canonical URLs in the headers.
* The "Name" and "Description" settings of the RSS feeds section now also support translation overrides.
* We've added the support of translation overrides for the product CSV import tool.
* We've added a mechanism to update the key of the translations when the main text of a translatable field is changed.
* We've improved the handling of translations for characteristics as to remove old translation overrides.
* We now automatically cut the product name to 200 characters when sending it to ShipStation as it doesn't allow for longer product names.
* We now accept more characters in the attributes setting of custom fields.
* We improved the error handling of the PayPlug 2 payment plugin.
* We have added the Retail ground service through the USPS shipping method.
* We've updated the nam of the Ho Chi Min City state.
* We've added a plugin to synchronize the main product quantity with the quantity of the variants.
* There are now the triggers onBeforeDiscountOnlyCheckQuery( & $selects, & $joins, & $discount\_filter) and onAfterDiscountOnlyCheckQuery( & $discounts, & $join\_discount\_links, & $filters) to be able to add additional checks to the "discount only" product listing.
* We now hide the price area on the product page when the "Characteristics dynamic display" setting is activated and that the product has different prices for the variants so that it appears only after the variant has been selected, which makes more sense in this case.
* When the merchant entered a URL which would make the browser loop in redirects in the "URL where you will be redirected when the cart is empty" setting of the HikaShop configuration, we now override the URL to the default one if such infinite loop is detected.
* The post code prefix and suffix restrictions on the shipping methods are now case insensitive.
* We removed the "shared URL" option of the "force SSL on checkout" setting as this is not used anymore.

#### New features (17)

* **HikaShop now supports Joomla 4.**
* We've added a new "filter options" button on the listings in the backend in order to display/hide the filters. That will allow us to add more filters in the future without fear of running out of space at the top of the listing because of too many of them. That's also to adhere to Joomla 4 aesthetics.
* We have created options to hide and display shipping, payment, and coupon prices from the checkout cart.
* We've added a new option to the HikaShop configuration in order to configure the email address for the contact request form recipient. Before, it would use the "from" email address.
* We have added a new shipping "Post code RegEx" option which will enable you to restrict shipping method based on the shipping address post code using regular expressions.
* The weight and dimensions of each products are now stored in the order when the order is created and can be changed when you edit the product in the order in the backend.
* The weight of the products and of the order are now displayed on the backend order edition interface.
* The total weight and total volume is now calculated and stored in the order.
* There are now hidden settings to display the weight of the products and the total weight of the order in the invoice and shipping invoice.
* We've added an option to be able to handle several images / files with only one custom field for the "ajax file" and "ajax image" custom field types.
* You can now add options to products of orders already created in the backend interface.
* There is now a "formula" input field for shipping methods so that you can calculate the cost of the shipping using operations and variables available {weight}, {volume}, {quantity} and {price}.
* There is now a new, easier to use, selector for the columns to search on in the HikaShop search plugin settings page.
* There is a new option for both the shipping and the payment views on the checkout workflow to display the shipping/payment fee with or without taxes.
* We've added an option to pre-check the Terms and Conditions checkbox on the checkout.
* We have created options to hide and display shipping/payment prices from the checkout cart.
* We added an option in the user edition interface so that you can now change the partner affected to a user when using the affiliate system.

### HikaShop 4.3.0

**Release date : April, 24 2020**

[List of all the files changed between the 4.2.3 and the 4.3.0](https://pastebin.com/T8rBhKQU)

#### Bug fixes (35)

* We've fixed an issue with the google structured data and the legacy carousel of products.
* The variants' characteristic value couldn't be changed when editing the variants in the backend anymore due to another fix done in the 4.2.3 for the mass action system.
* There could be a notice message on the Joomla search result page with HikaShop products in some cases.
* The first value of a characteristic was not properly hidden when not available in some cases with the "dynamic characteristic display" setting activated when the characteristic was displayed as a radio.
* We fixed a small warning with the dashboard in the backend with recent versions of PHP.
* We fixed some issues with the shipping per price edition on the variants.
* The warehouse selector in shipping methods and products didn't support more than 30 warehouses.
* The {VAR:customer.XXX} tags didn't work properly in some emails.
* With the AJAX turned off, and with the submit on click option activated in the filter, text filters wouldn't submit after entering some text.
* The date selectors in the orders listing and the tax rates listing in the backend would take into account the current hour instead of the whole day selected.
* The hover effect on small thumbnails on the product details page (when several images are present) wouldn't work properly when the product name would have double quotes.
* We fixed a bug in the cart reminder plugin whereby someone might get a copy of the cart notification email for someone else's cart if his cart notification and the others were processed in the same cron task tic.
* When the multicart was deactivated, the current cart could be lost when opening the user account validation link after a registration.
* There was an error in the loading of the zones preventing a few zones from being added properly during the install/update process.
* The registration after a guest checkout was refused with an error message that the email address was invalid.
* We fixed an issue we had with pagination when both filter module and the product listing pagination are used.
* The cart could be lost in some cases after the registration.
* We fixed an issue we had with the product listing pagination.
* There was an issue with greek characters being used in the "value" of custom fields of the types single/multiple dropdown.
* The filter module didn't work properly if first directing to the search result page with no results found.
* There was an issue with the infinite scroll system in some cases.
* The best customer, best product and best category of the dashboard could be incorrect in some cases.
* The meta description of categories wasn't taken into account properly on category listings.
* When using menu items created for HikaShop for the backend Joomla menu system, some of them didn't work properly.
* We fixed an issue we had with the monetico payment return in sandbox.
* The "Run SQL query" action didn't work properly for some data types.
* The dynamic characteristic selector had issues in some cases leading to still displaying unavailable values.
* The translations made via Falang for custom order/product/item/user fields were not in the correct language in some rare cases when sending order notification emails through the backend.
* The category restriction on limits didn't take into acccount properly already placed orders when the product had characteristics/variants.
* The "display limited to" setting didn't work properly in some cases with radio buttons.
* When deleting a product from an order, the loading icon was not displaying properly.
* The characteristic switching mechanism could not work properly in some rare cases with the characteristics displayed as radio.
* The "yes" default value for custom fields of the type "boolean" was not taken into account properly.
* We've added a few fixes for the Monetico payment plugin.
* The additional fees (points for example) were not properly sent anymore by PayPal when the "send order details" option of the payment method was activated.

#### Improvements (26)

* We removed a useless MySQL query done on category/product listing menu items on the frontend.
* The filters listing in the backend is now ordered by default based on the ordering of the filters so that the "order" column can be modified.
* We've improved the support of the privacy consent system for the guest form.
* We've improved the Reminder plugin so that it doesn't notify the user of a cart reminder if nother cart reminder was already sent recently.
* We now only add the shipping address to the order when the shipping is required on the checkout.
* You can now add the style attribute in the "attributes" field of custom fields.
* The plugins selector in the backend now supports the translation of the plugin name.
* hikashop\_ functions of the main helper file are now overridable by system plugins.
* We've improved the generation of the SEF link for variants.
* We optimized the way pagination link where built.
* The category names and product names are now translated on the dashboard.
* We've reordered the columns on the order statuses listing to make it more logical.
* We've added an option to the xmap plugin to support images.
* We've updated the Panama states list.
* You can now select the billing address and the shipping address when changing the user of an order in the backend.
* We've added the support of product/category name/description translation override to the RSS feed.
* The warehouse restriction is now displayed on the shipping methods listing in the backend.
* The product and category names in the breadcrumbs now support translation overrides.
* The products name translation overrides are now supported in the cart and add to cart notification.
* Translation overrides can now also be used for the meta description, the keywords, the page title etc.
* It is now possible to use translation overrides for the description of shipping methods and payment methods.
* The dynamic characteristic display system has been improved to auto select the value if there is only one value available.
* The system now tries to use in priority the menu item linked to the main category of the product for the generation of the SEF link to the product page in order to reduce the need of forcing canonical URLs on listings, thus, simplifying the managing of the shop.
* There is now a check to prevent someone from validating a checkout with an old address missing information in required custom fields that were not required when the user first entered his address.
* When displaying the characteristics as a "list" with options on the product page and the variants have different prices, we set the "price with options" to zero by default so that it makes more sense since the variants price is then displayed below.
* You can now use a translation key for the "URL where you will be redirected when the cart is empty" and the "Continue shopping button's URL" settings of the HikaShop configuration.

#### New features (4)

* You can now specify a color for each order status and that color will be used on the orders listing for each order's row as a background color so that you can more easily identify which order you need to focus on.
* The multilingual translation interface is now available even without Falang installed and you can translate your HikaShop content without Falang.
* There is now an option in the HikaShop cart notification plugin to enter a URL where the customer will be redirected to when clicking on the "continue shopping" button of the notification popup after the add to cart process.
* On the checkout cart view, there is now an edit icon for products with characteristics, options and/or custom item fields in order to be able to change the information of the product already in the cart.

### HikaShop 4.2.3

**Release date : February, 24 2020**

[List of all the files changed between the 4.2.2 and the 4.2.3](https://pastebin.com/V6mdATSZ)

#### Bug fixes (75)

* The structured data tags was creating an error for carousels.
* The installation wizard layout was messed up.
* We fixed an issue we had with the displaying of widgets starting date which wasn't in the defined time limit.
* The invisible captcha would trigger even when clicking anywhere on the page instead of just the buttons.
* We fixed a small issue with the currency code on the Google Analytics plugin.
* We fixed an issue we had with the front-end pagination on listings.
* There could rarely be a rounding issue with the votes leading to an error with the structured data of the product page.
* There was a problem with the PayPlug v2 payment plugin.
* The title of dropdown filters placed inside the dropdown were not translated properly.
* We fixed an issue we had when copying products with variants which had multi languages translations.
* HTML special characters in the value of custom fields could generate issues.
* We fixed an issue we had with the affiliate plugin and the "affiliation exclude domains" option.
* There was an error with the login form of the legacy checkout on PHP 7.3.
* The "display limited to" setting of custom fields of the table "user" didn't work properly on the backend user edition page.
* There could be a strange character at the end of the mini description in the "tabular" layout ont he product page for non-latin languages.
* There could be an error with mass actions with a column filter on a column with a space (which is actually not allowed to be created in the backend of HikaShop but could be added manually via PHPMyAdmin).
* We fixed an issue we had with the displaying of category listings columns when using multi columns.
* Values with double quotes for custom field dropdowns were not saving properly.
* We fixed an issue we had with reports grouped by months with the date displaying.
* We fixed an issue we had with the displaying of sales prices with discounts on the dashboard.
* For dropdown filters on custom fields, the empty values were displaying in the dropdown while they shouldn't.
* The "synchronize" option of module was ignored on cateogries and products listing pages.
* The product information was missing in Google Analytics in some cases.
* The json script from Joomla could potentially create issues during the AJAX calls.
* We fixed an issue we had with the displaying of the download buton through the control panel.
* There was a MySQL error with the legacy dashboard and report system in some rare cases.
* The actions "update options" and "update related products" didn't work properly for products when using triggers After / Before a product is created / updated.
* We fixed an issue we had with the First class mail international service from USPS.
* We fixed some deprecated messages with PHP 7.4.
* We've removed a warning message which can be logged on the server in some rare cases with the add to cart process.
* The file download links could be wrong in some cases with several times the same product being purchased in the same order.
* We've removed a notice in the PayPal Express plugin which could happen in some cases.
* The pagination parameters were not always replaced properly in the URL for category listings in some cases.
* The cart was not properly cleared after the checkout when the order total amount was 0 and the "validate free order" plugin was used to automatically confirm the order.
* We've fixed some issues with Joomla 2.5.
* The addresses without a type were not exported properly by the mass action system.
* The publish/unpublish toggle on the order statuses listing in the backend was not working properly.
* There was a CSS display issue on mobile devices for the registration form due to the new flex grid CSS.
* The image files with upper case in their extension name were not properly converted to webp.
* The entered address data was lost on the HikaShop registration form page when there was an error with the user data saving.
* The entered shipping address data was lost when creating a new shipping address via the HikaShop address manager for the customers on the frontend control panel.
* The Recaptcha plugin didn't display properly on the Joomla contact form.
* The address data already entered was lost if there was a problem with some field of the address on the checkout address creation form or the address manager creation form.
* We've fixed the calculation of the weight and price for the parcel label in the MyParcel plugin.
* The characteristic value could be double translated with translation overrides in some really rare case.
* There was a deprecated message on some browsers with PHP 7.3.
* There could be a fatal error in some rare case at the end of the checkout with discounts.
* It was not possible to add several choices of the same option (in checkbox mode).
* The address fields were not properly taken into account for mass actions on the "user" data with an action to export a CSV if the "address\_type" column was not included.
* There was sometimes a fatal error when editing an address.
* The entries were not saved properly in some cases when the order was created at the end of the checkout.
* There was a warning on the backend products listing in some cases.
* The "move to new wishlist" button would be displayed on the wishlist details page even with the "enable multiple wishlist" setting turned off.
* The products listing layout was not displaying properly in some cases with Safari.
* The links with only an anchor in the description of payment methods or shipping methods were broken when displayed on the checkout.
* There was a bug with the "ordering direction" filter of the "product" data mass actions.
* When used both at the same time, the date filters of the orders listing in the backend didn't actually filter the orders.
* The checkbox filters didn't select the value properly when only one checkbox was selected.
* The dropdown for the selection of the number of elements per page for menu items of the type "products listing" didn't work properly.
* There was a fatal error when using the T3 Framework with the Quix page builder for HikaShop modules.
* There were some issues with the Danish language file.
* The product name with variants could display without the main product name prefixed to it for options on the order details page since the 4.2.2
* The filter module with the "force redirect" option turned on could lead to a 404 error in some cases.
* We've fixed an issue in some cases with the products not loaded properly with menu items translated with Falang.
* There could be a notice message with the table switcher in some cases.
* There was an issue with the display of the products of a category.
* We fixed an issue we had with the html code of the filter module.
* There was sometimes an error when creating a new payment method of the user points payment plugin.
* The "print" cart button didn't work properly with HikaShop Starter.
* The "Display limited to" function of custom fields didn't work properly for multiple dropdowns with several custom fields attached to them as children.
* The check on the "Display limited to" setting of custom fields didn't work properly when parent custom fields could have several values selected at the same time (checkbox, multiple dropdown).
* The orders coupon taxes were not counted properly in the tax rates listing and export.
* We fixed an issue with a fatal error in some rare cases on product listings.
* The additional fees (points for example) were not properly sent anymore by PayPal when the "send order details" option of the payment method was activated.
* The "display limited to" setting didn't work properly in some cases with radio buttons.

#### Improvements (34)

* The Google Analytics plugin can now track customers using the \_\_utmz cookie data on top of the UTM parameters in the URL for a more complete tracking.
* The cursor filter now also display the prices rounded based on the currency setting when you have the "input fields" setting turned on in the filter settings.
* The PayPal Pro plugin now has a check to display a message when you have the "send order details" option of the payment method activated while you have the "round prices during calculations" setting deactivated in the HikaShop configuration as it can generate errors of rounding in some cases.
* We've added a hidden option to be able to add font-awesome only in the backend.
* We added a class on the price area of the listing for products with options/variants so that you can more easily style the prices.
* We now add prev/next meta links to the listing pages to improve SEO.
* The pagination on category listings now takes into account the "redirect POST mode" setting of the HikaShop configuration to store the pagination in the session or not.
* The "token" parameter of the PayPlug 2 payment plugin has been renamed to "secret key" to use the same label used on the PayPlug merchant account.
* The "Server current URL mode" option was moved to "Legacy settings".
* We now prevent the orders to get a negative amount when you modify the products / shipping fee / payment fee / coupon fee of the order in the backend and that the total is below zero.
* The available quantity used on the wishlist details page now takes into account bundles.
* We improved the title of the page for the customers listing and the partners listing in the backend.
* There is now a link on the file name in the uploader system so that the user can download the file easily.
* There is now a hidden option addtocart\_popup\_image\_size for the size of the product image in the notification boxes.
* We've added some improvment to autofill the alt/title of product images with the product name if the file name/description are not filled.
* Joomla's menu manager metadata settings are now taken into account for the affiliate page and the product & category listing page (Meta Description, Keywords, and robot dropdown).
* We now attach the cart to the user account directly after the creation of the user account so that if there is a user activation via email done via another browser, the cart is not lost.
* The address created during the registration through the HikaShop registration page is now split automatically into a billing and a shipping address.
* We imrpoved the date formatting system to support AM/PM.
* We improved the category explorer on the backend products listing to better preload brother categories when browsing through it.
* We improved the timezone handling with date settings in the backend.
* We now add a "(copy)" after the name of the duplicated payment/shipping method when using the "copy" button on shipping/payment methods.
* We improved the checkout to display the "same address for shipping" checkbox only when the current cart needs shipping.
* The user is now redirected to the Joomla login page when trying to access a cart page wihle not logged in with the user account attached to the cart instead of just directing to the "cart is empty" page.
* You can now use translation overrides for the canonical URL of products/categories/brands.
* We've added the trigger onBeforeCartLoad so that you can modify the cart just after the cart main data is loaded from the database and before all the cart elements are processed.
* The email address check was improved to take into account the check done by the PHPMailer library.
* We now always delete the user addresses when the user entry is deleted even if the user has orders placed on the shop.
* We improved the way the carousel display the products/categories when there are less elements to display than the carousel need to function. We now deactivate the list/grid switcher when the carousel is activated.
* We now deactivate the list/grid switcher when the carousel is activated.
* We've improved the list/grid switcher to work properly with several of them in the same page.
* The products name translation overrides are now supported in the cart and add to cart notification.
* The product and category names in the breadcrumbs now support translation overrides.
* Translation overrides can now also be used for the meta description, the keywords, the page title etc.
* We've updated the Panama states list.

#### New features (4)

* There is now a new "Run MySQL query" action in mass action so that you can do more complex things with mass actions. In the MySQL query of that action, you'll be able to add tags for any column of the data of the mass action, like for example {order\_id} or {product\_id} so that you can target the elements of the mass action in your MySQL query.
* The shop closed hours plugin now has an option to restrict an openned hours range to one or several categories of your shop.
* We've added a new option called "characteristics dynamic display". When activated, only the values available for the value already selected in the other characteristics will be displayed.
* There is a new setting "link to product page" in the cart module to enable/disable the link to the product page for each product displayed by the cart module.

### HikaShop 4.2.2

**Release date : October, 7 2019**

[List of all the files changed between the 4.2.1 and the 4.2.2](https://pastebin.com/Wuk0r6t5)

#### Bug fixes (51)

* HTML in the product name would break the meta tags for structured data on the products listings.
* When you had a HikaShop content module configured to display a category with an access level restricted to some user groups, you would get a 404 error on the pages with that module if logged in with a user outside that user group instead of an empty module.
* The products with variants without prices in the main product didn't appear in the XML of the Google Products plugin with the "Price Displayed" setting set to "Most expensive".
* We fixed an issue we had with pagination through products, orders,etc listings on the frontend when changing the number of elements per page.
* We fixed the displaying of the shipping and payment prices through the cart when taxes details are also enabled.
* The mini cart module with dropdown mode activated on hover was redirecting to the checkout instead of displaying the cart popup when touching the link on mobile devices.
* The export of address columns for the "user" data in mass actions didn't work properly.
* The text filter with the "auto submit" option activated and displayed from above the products listing didn't work properly in some cases.
* We fix an issue we had with reports regarding the displaying taxes and sales data.
* We fixed a report issue where the display of Sales with products in multiple categories would display multiple times.
* Price columns didn't display properly in mass action CSV export files if there was a "display the results" action before the export action in the same mass action.
* The wishlist manager in some areas was taking into account the "enable mulit-cart" setting instead of only taking into account the "enable multi-wishlist" setting.
* There was a javascript error in some rare cases with the filters system.
* The date filters in the backend could not work properly if the date format was modified in a way PHP couldn't interpret it correctly. We've improved the conversion mechanism to fee it the date format so that it works even with custom/strange date formats.
* The comparison mode of report charts didn't display properly anymore as the lines would be next to one another instead of being on top.
* The infinite scroll was not working with category menu items in some rare cases.
* The date restriction selection on discounts/coupons might not work properly in some cases.
* The date filters on the orders listing didn't work properly following modifications of the Joomla API in recent versions of Joomla 3.9.
* When two fields view in the same step had different custom fields selected in the checkout workflow, the fields not selected in the first fields view would not display in the second one.
* In checkbox display mode with several options on the product page, the selected options were not always properly taken into account.
* We've added a fix to the MyParcel plugin to avoid an error for orders outside the EU with more than 5 products.
* The price radio/checkbox filters could not display properly once selected in some cases. The id of the last element of price sorting filters could overlap with the id of the previous element in some cases.
* We now properly display the user addresses listing after using the edit or create address buttons.
* We now add the GTIN of the product only if the identifier\_exists parameter is set to "TRUE" for the product in the XML of the Google Products plugin.
* The number of elements dropdown of the pagination didn't work properly for product listings in some cases.
* The pagination of categories listings was not working properly following the changes necessary for the AJAX filter system.
* The filter module could not work on a product details page in some cases.
* Discounts restricted to categories with products linked to sub categories of the category could not work in some rare cases.
* The list type filters could display wrongly in some cases.
* The images inserted through the Joomla tinyMCE editor in the description of payment/shipping methods wouldn't display properly when the view would be refresh through AJAX on the checkout.
* The mass actions with two filters on the category columns could generate a MySQL error in some cases.
* We've fixed a warning which could happen in rare cases on the backend products listing.
* We've modified a bit the way the characteristic data is udpated so that the microdata of prices are added to the current price regardless of it is before or after a variant is selected. That will prevent mircordata test tools running javascript from displaying an error with the price when the default variant has no stock.
* The pagination could have display issues in table or list mode when filters were used with the new AJAX mode.
* The user points payment plugin would generate an error when a vendor would configure a payment method on the frontend of HikaMarket for it.
* Unpublished products or products without stock would display in search results if translated with Falang and that the translation would match with the search.
* We now properly display the checkout address form after using the edit or create address button.
* The custom fields AJAX file/image upload didn't work properly in the backend for the variants edition form.
* The cursor filters would not apply properly when already set and another filter would be reset while the cursor filter still set.
* The cart notification plugin could not be initialized in some cases when having only product add to cart content tags on the page (no HikaShop modules, no HikaShop page, etc).
* We fixed an issue we had with pre-selection of billing/shipping address when creating a new address.
* There could be an error in some rare case with the loading of the menu params for modules on the product page.
* The login form would display after registration if there was an activation via email instead of just displaying the message.
* In some cases, deleting a product entry from the smart search index could generate an error.
* In some rare case, it was possible that the products would be missing on listings with the 4.2.1.
* We've fixed a notice with the filters.
* We've fixed a warning on the Starter edition with the products listing in some cases.
* The collapse system didn't work properly with the new ajax filter system in some cases.
* The infinite scroll didn't paginate properly in some cases due to changes in the filter system.
* We've fixed a MySQL error which could happen on listings in some rare cases when a category selected in a discount was invalid.
* The delete icon of checkbox filters didn't work properly in some cases.
* The double quote character wasn't properly escaped on some of the mass action input fields.

#### Improvements (23)

* The different modules included in HikaShop now support the "module class suffix" setting of Joomla.
* Override translations of payment and shipping methods now also reflect in the email notifications and the order edition page in the backend.
* The "dot" pagination of the carousel system is now consistent with the number of displayed elements on each page for mobile devices.
* There is now a hidden setting to change the cart cookie retaining period.
* We now also automatically fill the URL as canonical URL if the "force canonical URLs on listings" setting is set to "Use canonical URL and generate it if missing" and the canonical URL is not filled in and the URL is taken from a sub menu item of the current menu item with its main category set to the category for which we're generating the URL.
* You can now use translation overrides on the products name and description.
* We now modify the URL of the page dynamically after a filter is being used in AJAX so that the user can easily go back.
* We moved the hidden input fields at the top of the form for the language edition interface so that the parameters are not removed when security components find that the parameters are too long (because of the translation file content).
* You can now order the sorting fields of sorting filters.
* We've added new reserved column names to custom fields to avoid conflicts with the mass action system in some rare cases.
* We improved the text sent to the Sofort payment plugin for the "reason" of the payment.
* There is now a "filter\_active" class on the main div of filters when they have been selected by the customer so that you can more easily style them.
* The characteristic values can being translated with translation overrides also on the checkout, cart, order and email notifications, not just on the product page.
* The WebP image support is now turned off by default to avoid issues with updates of HikaShop with some hosting environments.
* We now add the file\_id to the $file object passed to the trigger onAfterFileCreate so that plugins can easily know the file\_id of a newly created file.
* We'll now display an error message if the "Authorize signature key" option isn't set when saving the Authorize.net payment configuration page.
* Custom text custom fields can now be displayed on the product details page on the frontend.
* The link to access the payment gateway when some information is missing in payment methods now opens in a new tab.
* The checkout now auto scrolls back to the top of the login view after the registration when the activation of the user account is necessary so that the message can be seen by the user in ajax mode without having to scroll up.
* We improved the handling of the wishlist display page when no wishlist is yet available and the customer is not yet logged in.
* We have added a note regarding website/server timezone configuration !
* We've added the trigger onAfterFileDelete.
* We've improved the way the quantity input field works on the cart details page on the frontend.
* We clear the buffers before outputting the add to cart answer from the server to avoid add to cart notification failure due to third party extensions.

#### New features (7)

* There is now an option in the filter module to scroll back to the top when the filters are used.
* There is now a several columns / one column switcher at the top of products listings in "DIV" mode.
* There is now an option to activate / deactivate the WebP image support in the Images section of the main tab of the HikaShop configuration.
* We've added a copy button to the product edition page in the backend.
* The grid system in HikaShop now uses flex which displays fine even with elements with different height without the need for javascript height adjustment. So it's a nice improvement for some cases on products/categories listings.
* We've added an option to the HikaShop product insert plugin to force the loading of HikaShop on the pages of the frontend so that cart notifications can work for product content tags on any pages, even if no HikaShop element is displayed on the page besides these buttons.
* We've created a new Monetico payment plugin to support the modifications made by Monetico to be compliant with new laws and support 3DSecure v2.
* We've created a new PayPlug 2 payment plugin to support the modifications made by PayPlug to be compliant with new laws and support 3DSecure v2.

### HikaShop 4.2.1

**Release date : July, 29 2019**

[List of all the files changed between the 4.2.0 and the 4.2.1](https://pastebin.com/Q0fpmyeS)

#### Bug fixes (27)

* The dynamic display didn't work properly for modules with the new ajax mode in some cases.
* The descending sorting of filters with the type "list" was actually sorting ascendingly.
* The tinyMCE editor didn't display properly for the variant description when editing a variant from the product edition page.
* Custom product fields could potentially appear on the backend products listing for the starter edition with the sample data installed.
* We've added many fixes to the cursor filter type.
* We've added several fixes for the AJAX filtering that was added in the 4.2.0.
* We've added the support of IE for the AJAX filtering.
* The gallery images could be not displaying in the backend when selecting an image from the upload folder in some rare cases.
* The smart search plugin was missing after install in some cases.
* If the order was created confirmed, and you were using the "{order\_id}" tag in the "order invoice format" setting of the HikaShop configuration, the invoice number would use 0 instead of the id of the order as the invoice number would be generated just before the creation of the order in the database instead of just after.
* The reset and filter buttons didn't work properly with the new AJAX filter system when the button position was set to "inside".
* The dates didn't had the correct format in the download manager on the frontend.
* The "meta description" choice of the preview setting wasn't properly taken into account in the google products plugin.
* In mass actions with the "Display the results" action, the "order\_tax\_amount" column didn't display properly when multiple tax rates would be in the same orders in some cases.
* The display of external images on the product page didn't work properly with the modifications done to add the webp image support.
* There was a small glitch in the HTML of the default pagination.
* The delete button on cursor filters in dynamic mode and directly at the top of the listings could sometimes not clear out the selection properly.

#### Improvements (11)

* We've added extraData for all the address edition views on the frontend for plugin developers.
* The Beanstream payment plugin has been renamed to Bambora.
* We've updated the CSS for the collapsable setting of filters to better support mobile devices with a big width like iPads.
* We added the support of the enter key in ajax mode for filters.
* The shipping plugins CanadaPost, Fedex and UPS now support shipping estimation (with the corresponding plugin from the marketplace).
* We've optimized the HikaShop dashboard as it could be really slow when having a lot of images attached to products and lot of orders.
* We removed unnecessary loading tags on filters/listings.
* We've added the javascript triggers filters.update and filters.updated for developers to run javascript code after or before the filters are being updated.
* You now have an edit icon for each sub zone so that you can easily access the zone edition page of the sub zone when editing a zone.
* The list of provinces for Iran has been updated.
* We've added new triggers for file saving for plugin developers: onBeforeFileCreate onBeforeFileUpdate onAfterFileCreate and onAfterFileUpdate.

#### New features (3)

* The tax rates listing now displays additional rows for the tax exempt sales in the EU and outside the EU.
* There is now an "export" button on the tax rates listing to get a CSV of the tax rates listing.
* You can now choose to display the payment and shipping methods selection on the checkout either as a table of radios (as it was previously) or as a dropdown thanks to a new setting in the payment and shipping checkout workflow views.

### HikaShop 4.2.0

**Release date : July, 12 2019**

[List of all the files changed between the 4.1.0 and the 4.2.0](https://pastebin.com/g1YRV0aG)

#### Bug fixes (40)

* The category of the menu item could potentially not be loaded properly by the infinite scroll system.
* The text filters with a title inside wouldn't display the title after deleting the selection via the delete icon of the filter.
* The date filters didn't work properly in some cases in the tax rate listing in the backend.
* We've improved some plugins code to avoid errors on old versions of Joomla 3.
* The massaction system could generate a MySQL query error when trying to import a CSV where all the products where not already in the database and the "Create products if not existing" would not be checked.
* The options were lost when adding a product with options to the cart from the wishlist shared by someone else.
* The latest version of JCE was removing the width of the html elements when emails were previewed. We've added a patch to fix that.
* The infinite scroll system didn't work properly for menu items where the main category selected in the menu item settings was unpublished.
* The Recaptcha plugin didn't work properly in some cases due to the modifications added for the support of the invisible mode.
* The "new entry" link didn't work properly on the entry form.
* The tax category of the main product was not taken into account properly for the display of the price of variants displayed with the content product tag system.
* PNG images with a color palette would create an error as GD's webp image creation doesn't support palette. We've added a patch to convert the images to true colors before saving them as webp images, which fixes the problem.
* Even when turning off the "checkout" display setting of custom item fields, the custom fields would still display on the checkout cart view if there was a value in them.
* Reports on best shipping/payment/currency method could generate a MySQL query error when no filters were configured in the report.
* The pagination wasn't reset when accessing a sub category from another page than the first one in the backend categories listing.
* The "Users with ACL" filter of order mass actions didn't work properly when triggered via a trigger and not through the "process" button of the mass action.
* The "display limited to" option didn't work properly when the master field was a checkbox custom field with several fields limited to it.
* There was a notice on the cart page in some rare cases.
* The link to the order was missing from the thank you page when checking out as a guest with PayPal express.
* If you had a category listing menu with its main category unpublished, it would create a 404 error.
* The "inherit" value of the "original currency" setting of products listings wasn't using the main value from the HikaShop configuration as it should have.
* The user message was not properly included in the email notification when modifying an order in the backend.
* In some circumstances, the validate free orders plugin would redirect to the thank you page after the order and the payment before the email notification would be sent to the customer.
* The "Display limited to" setting of custom fields of the table "order" didn't work properly with radios/checkboxes in some cases.
* The product\_manufacturer\_id column was not filled properly in the CSV export of the products listing in the backend.
* The new cursor filter system was throwing a JS error in the console when the min and max from the range selector were similar due to the way the noUISlider handles that case. We've changed it to skip the display of noUISlider all together in such case.
* The contact form didn't work properly with firefox since last release.
* In some rare cases with products with variants, it could happen that the TIC was not send properly to taxcloud. We've added a fallback patch to avoid such case.
* The "print invoice" button in the "actions" dropdown of orders might not work in some cases because of a side effect of the move from the "allow users to print their invoice" option of the configuration to the "print invoice" column of the System>Order statuses menu.
* HikaShop 4.1.0 could have an error with old versions of Joomla 3 (until the 3.7). We've made a patch to avoid that.
* The download links were not included anymore in the order status notification emails in some cases.
* There was an error with microdata on the product page when the product didn't have any price.
* There was an issue with the main image update with webp support on the product page with products with several images.
* We fixed a warning with the paypal express payment plugin notification handling.
* The start/end date of prices where not saved properly when saving products in the backend.
* The "add to wishlist" buttons could be seen by guests even with the option turned on to hide them for guests once the customers would have filled in the guest form on the checkout and before the end of the checkout.
* We've fixed a notice message with the privacy consent plugin integration.
* The new "input fields" setting for the cursor filter didn't save properly.
* There was an issue with webp images when the thumbnails size was not provided (removed from the configuration).
* The payment method selection on the order pay page (not in the checkout) didn't take into account the payment method fees and the payment methods' shipping methods restriction setting.

#### Improvements (37)

* We've added triggers on the loading of the product prices.
* We now automatically prepend the alias with a letter if the IDs are removed from the URLs and the alias of the product/category starts with a number in order to avoid 404 errors.
* We've added a warning message when the canonical URL of a product doesn't originate from the current website.
* The dates displayed on the graphs of the widgets/report system now support the joomla date formats for other calendars.
* The backend order details page, the frontend order details page and the invoice pages on the backend and the frontend now display the products image.
* The "check database" function can now clean user entries when their user account doesn't exist while the user\_cms\_id still points to it.
* We've added a warning when you're editing a custom order field with its frontend display setting turned on and the "fields" view is missing from the checkout workflow.
* There are now two new triggers for the configuration saving: onBeforeConfigSave and onAfterConfigSave.
* The page title setting of the menu item is now taken into account when it makes sense in the user control panel, orders listing, carts listing, etc on the frontend.
* The cart print URL is now generated only when the cart module's print option is activated.
* We now check that the cart is not empty before validating the different views of the checkout at the end of the checkout. That way, if the customer plays with the history of his browser after the checkout and his cart is already empty, he doesn't get errors from the validation of the views, and is only redirected to the cart empty URL.
* You can now translate shipping methods and payment methods name with translation overrides.
* We've added a check on the configuration page to make sure that the selected menu item in the "force a menu on checkout" setting is a HikaShop menu item type and we also removed other menu items from the dropdown.
* There is now a hidden setting to change the webp image compression quality (80 by default).
* We now remove the checkbox on the cart/wishlist products listing on the frontend for products you don't want to be able to add/move if they don't have any stock or are not available anymore since it would be refused anyways.
* We've improved the display of the "back" button on the order details page to only appear when coming from the orders listing or the user control panel.
* You can now have a "channel description" for your google products XML feed.
* The system now already adds a space before the class you can enter in the "UL class name" setting of listings.
* You can now use the meta description of products as the "description" of the google products XML feed.
* You can now use a custom product field for the mpn of products in the google products XML feed.
* We've updated the google products plugin to adapt to changes made by google to the product\_type parameter of the products in the XML feed.
* We've improved the calculations of the reports on products sold.
* We've made some improvements to the Google products (merchant) plugin. You can now use core columns on top of custom product fields, and it avoids errors with too long product name, description, etc.
* The shipping/payment methods listing now also display the restrictions on currencies of the shipping/payment methods.
* We've added integration possibilities for plugins in the login form of the checkout.
* We do not display anymore the specification table title of the product page in "tabular" mode as the tab title already has it.
* We avoid an issue with security systems and the address format field of the HikaShop configuration so that the address format is not sent to the server if no modification is made on it.
* We've increased the left explorer area width in the image gallery popup.
* The nWumb javascript was loaded even when a cursor filter was not on prices.
* We've added a preview button for the waitlist notification email.
* We've improved the SEF URLs on the checkout.
* We avoid displaying the webp image tags when the webp image couldn't be generated.
* The currency symbol is now added to the input fields for cursor filters on prices.
* The input fields of cursor filters now update while the cursors are being dragging instead of just when you release the drag.
* We've added a load\_js and a load\_css hidden settings. If turned off, no JS or CSS file will be loaded by HikaShop. It will be up to the template to handle everything (for highly customized websites).
* We removed custom fields of the type "customtext" from the "Display limited to" dropdown option as these custom fields cannot be used with that option as there is nothing to select/fill with them.
* The backend date settings now supports the date format translations so that they will display similarly to what you can find in the areas where dates are displayed (emails, invoices, orders, etc).

#### New features (9)

* We now disable the whole step interface with a spinner when the customer click on the next / finish button at the bottom of the step, as we already did for individual views.
* There is now a smart search plugin for HikaShop products.
* The cart and wishlist systems now use cookies for guest users so that if the session of the user expires (close his browser, or doesn't access the website for a few hours/days), he won't loose his cart / wishlist.
* Filters will now process product listings dynamically (AJAX).
* The checkout workflow editor now has a "separator" view you can use to configure several columns and easily separate your checkout views.
* There is now an option in custom address fields to restrict the field to only shipping addresses or only billing addresses.
* We've added webp images support for category listings.
* The payment page (when you click on the "pay" button of an order, not during the checkout) has been redone to include the total of the order and the fees of the payment methods if the payment method can be changed by the customer and there are fees configured on the payment methods.
* We've improved the RTL display of hikashop.

### HikaShop 4.1.0

**Release date : May, 8 2019**

[List of all the files changed between the 4.0.3 and the 4.1.0](https://pastebin.com/T1RMY0hL)

#### Bug fixes (29)

* The affiliate program page save didn't work properly when custom fields of the table "user" were created and set as "required".
* The shipping method name was not always displayed properly on the control panel latest orders listing.
* The display of the taxes in the invoice generated by the PDF invoice plugin didn't work properly when an increment was set in the currency.
* The coupons with percentage value didn't calculate properly when taxes were used and the "floating tax prices" setting was activated.
* The product export could potentially result in errors in some rare cases.
* We fixed an issue we had with the "X\_PRODUCTS\_ARE\_NOT\_SHIPPABLE\_TO\_YOU" shipping error message.
* We've fixed a notice when the geolocation system doesn't get an answer from the geolocation service.
* When you were selecting "all" in the pagination dropdown of the emails listing in the backend, it would display no email instead of displaying all of them.
* We fixed an error in some cases with the limit system on PHP 7.3
* The type selection on limits wasn't working properly and would redirect to the listing of limits instead of saving and staying on the page.
* We fixed an error message when calling the cron task URL in HikaShop Starter (where there is no cron).
* The search on coupons/discounts would have the coupon code display strangely on the backend listing in some cases.
* The ReCaptcha plugin didn't work properly when you were in guest mode on the checkout and you clicked on the "change information" button.
* The group plugin could create an error at the end of the checkout in some cases.
* The products listings could not display anymore when the menu item was of the categories listing type and wasn't saved once since Joomla 2.5 as the language parameter of the module would be empty instead of the default \* for Joomla 3. We've added a patch to avoid that.
* When displaying carts in the backend, if you had low prices attached to specific users and the carts were not assigned to any user (guest carts), these low prices would be used. Now, the prices attached to users are discarded.
* There were warnings in the backend when changing the status of an order made in a different language than the current language.
* The checkbox options could malfunction in some cases when used together with dropdown options.
* The filters on "volume" could create a MySQL query error in some cases.
* The subscription URL could wrongly redirect to the checkout because of an improvement done to the SEF URLs of the checkout.
* We now limit the description to 500 characters when sending it to pinterest with the HikaShop Social Networks plugin to avoid errors when the description is longer.
* We've fixed some warnings on PHP 7.3
* Report graphs could display wrong in some cases when your website would be configured with a timezone and the sales would be grouped by month.
* The link on the update language message from the HikaShop configuration didn't work properly anymore following the improvements to the language override edition of HkaShop 4.0.3
* The improvement to filter the "modules under the product page" by language from HikaShop 4.0.3 was actually creating products listing display issues in some cases on the frontend with Joomla 2.5.
* There was a bug in the conversion rate displayed on the backend dashboard which lead to wacky percentages being displayed.
* Custom fields of the type "link" didn't display properly if only the link was entered without any text.
* The radio/checkbox custom fields didn't handle properly selection for values with special characters in their "value" field.
* The unpublished sub categories were not taken into account for discounts (like it is for coupons).

#### Improvements (25)

* We've updated the Google Analytics plugins to improve the support website which have javascript errors.
* We improved the error messages for the upload system when there is an issue with the upload because of PHP.
* The checkout will now scroll down to the error message when a problem occurred on a checkout step submit.
* The HikaShop contact form can now work properly with javascript disabled.
* When the browser javascript was disabled and the email address was not entered in the contact form, the entered data in the contact form would be lost and the user would have to reenter the data before submitting his request again.
* The entered data would be lost if the user didn't validate the captcha before submitting the contact form and he would have to reenter his data again in the form.
* The order\_invoice\_created column's dates are now converted to human readable format during the export of orders.
* We now throw a 404 error when a customer tries to access an unpublished category with the category alias in the URL, or when he tries to access a category while the ACLs of the category don't allow for it.
* There is now a hidden parameter to be able to set the max value of the quantity select dropdown when the quantity input method is set to "show select" or "show select price".
* There is now both a frontend and a backend link for the product details in the contact request email.
* The Recaptcha plugin now better supports HikaMarket's vendor registration page.
* We removed the tax calculation override plugin from the install package as it's no longer relevant.
* We updated the FedEx International ground service code according to the last version of the FedEx developer documentation.
* The privacy consent radio on the registration form is now marked as required.
* The legacy checkout now supports the privacy consent plugin.
* The previous and next buttons of the carousel system can now be translated.
* You can now set the hidden setting orders\_listing\_default\_range to change the default period on the orders listing.
* It is now possible to translate the json encoded options of the fields via Falang.
* The email notification (when clicking on the email button of an order in the backend) was in the current language of your backend instead of the language of the customer.
* In the System>Order statuses, you can now select the order statuses for which you want the "print invoice" button to be displayed to the customer on the frontend.
* We've added messages to the cron system when the google products plugin is not able to connect to the google FTP due to wrong credentials.
* We now prevent search engine indexing on the order details pages on the frontend so that even if the link to a guest order is leaked along with the access token, it won't be indexed.
* We've added extraData support to the orders listing and the control panel's latest orders listing on the frontend so that plugins can add their information there.
* The user points payment plugin now has its own "end" view.
* We migrated from isAdmin() to isClient() for the support of Joomla 4.

#### New features (13)

* There is now an option to display or not the "contact us" button on products listings. There is now an option to display or not a "product details" button on products listings.
* There is now a "Activate product recovery" setting in the HikaShop configuration to have a trash for deleted products so that you can recover them from the trash if you deleted them by mistake.
* You can now select a color for the image stripes added to resized images when the ratio is different from the original image thanks to a new setting in the HikaShop configuration.
* The HikaShop currency rates update plugin has dropped support for Yahoo Finance as the yql API from them stopped its service and now supports instead the openexchangerates.org currency rates feed.
* You can now have a "new product" period restriction in your badges to be able to display a "new product" badge automatically to products created less than a specific period of time ago.
* There is now an option to activate the download of purchased files on their product page.
* The HikaShop contact form is now integrated with the Privacy Policy content plugin of Joomla.
* The cursor filter system has been redone with the noUiSlider library. It allows for more flexibility an doesn't require jQuery.
* The cursor filters now have an option "input fields" to be able to have the selected values displayed in input fields so that you can change the value in the input fields to update the cursors position. It's a good UI improvement for mobile browsing.
* There is now a "validity period" setting for coupons you can generate through the AcyMailing integration so that you can specify a number of days the coupon will be valid from the time the email is sent to the user.
* The ShipStation plugin can now display the tracking number on the order details page and the orders listing on the frontend.
* The Recaptcha plugin now supports the "invisible" mode with a new setting.
* The images on the frontend now include the webp format for better performances.

### HikaShop 4.0.3

**Release date : March, 7 2019**

[List of all the files changed between the 4.0.2 and the 4.0.3](https://pastebin.com/MWRxMk26)

#### Bug fixes (27)

* We've added a patch to the orders export button function to avoid a warning message when used together with the Quickbooks export plugin.
* When modifying addresses in orders, the modified address would also appear in the user account and it would even be duplicated.
* The saving of the "product selection method" setting on the product edition page didn't work properly.
* The preload of the order status email wouldn't load properly if you had configured different HTML versions per status in the email but not different preload versions per status in the order stauts notification.
* When the vote and comment were connected, selecting the vote would submit it with an error returned if the text of the vote wasn't yet entered.
* The vertical slider effect on products listings didn't work properly on safari mobile.
* The improvements to the SEF URL of the checkout lead to old product page URLs (which aren't generated anymore by HikaShop but could still be used with canonical URLs not updated, or URLs in Joomla articles etc) redirecting to the home of the website instead of the product page.
* The checkout would display an "access forbidden" error when pressing the next button of the checkout with the SEF turned off since HikaShop 4.0.2 due to improvements with the SEF URLs of the checkout.
* The "display limit to" setting on radio/checkbox custom fields wasn't always initialized properly.
* We fixed an issue we had with the display of shipping methods through the "Shipping prices" tab of product pages.
* We've fixed an error in some cases with the Google Analytics plugin.
* The quantity parameter didn't had the correct name in the HTML add to cart button popup of the product edition backend interface.
* There was a fatal error in some cases with the products export.
* We fixed an issue with the import of MijoShop for some versions of it where there is no "remaining" column in the mijoshop\_download table.
* The test URL for the BNP bank in the ATOS SIPS v2 payment plugin had a typo which prevented the payment tests to work properly.
* We removed CSS from the default style which could potentially slightly affect other extensions with forms on the frontend.
* The enter key press wasn't handle properly on dropdowns during the checkout when the "use chosen library" setting was activated.
* The order\_full\_tax column of CSV files exported by the mass action system could be incorrect in some cases with the shipping tax counted twice.
* The product\_manufacturer\_id column was not properly replaced when exporting the products in the hikashop products listing in the backend.
* The billing\_address and shipping\_address tag elements were missing in the payment notification email.
* We've fixed some notice messages in some cases on the checkout.
* We've fixed a fatal error related to the getMenu call in some cases with the current menu not being available when needed. This was caused by the improvements we made previously to properly support menu items "show page heading" and "page heading" settings for all the frontend menu item types of HikaShop.
* There was a warning on the product page when you set a retail price and no price for a product.
* We now display properly all types of custom fields on mass actions result pages.
* The export of reports didn't handle properly the product name in some cases.
* A translation was not correct in the order cancel notification email that the administrator receives when an order is cancelled.
* The images of the products where not copied properly during the import from MijoShop in some cases.

#### Improvements (20)

* We removed the display of the total amount and only left the total quantity for reports on products orders (the sum of the quantity of each product sold over a period).
* The variants listing displayed on the "variants" tab of the product edition screen in the backend now includes the code of the variants.
* The search function on the orders listing on the frontend user control panel can now search for product names and codes.
* You can now translate your terms and conditions article with the language association system of Joomla and it will be taken into account by the terms and conditions view of the HikaShop checkout so that it will display the associated article based on the current language of the customer.
* We improved the filtering of the custom fields values on the frontend even with the "input filtering" setting deactivated.
* We've added the Metro Manila zone to the list of states of the Philippines country.
* You can now use view display triggers in your custom plugins for the address, affiliate and cart views on the frontend.
* We've removed duplicated CSS from the default frontend style.
* We now also the shipping methods data cache in the session when cleaning the cart from the session.
* The order number format and invoice number format now support having the date tag several times in the format.
* We've added a no-index header for the infinite loop system so that search engines don't index pages that shouldn't be indexed with the infinite loop system.
* The disabled values of custom product fields are now skipped for the display of filters on the frontend.
* We now filter the modules under the product page based on the language. That way, you can have several related products modules, one per language and only display the relevant one on the product page.
* The price before discount will now be striken through with CSS even with the style setting set to "none" in the HikaShop configuration.
* It is now possible to translate characteristics names and values using Joomla language keys.
* We now use the utf8mb4\_unicode\_ci collation for MySQL in order to support 4 bytes UTF8 characters like some emojis.
* We updated the Belgium zone names to include both French and Dutch.
* We added a check to abort the installation when the PHP version is too old to avoid breaking the website when people update on a really old PHP version (< 5.4.0).
* Brands are not displayed anymore on the left explorer of the products listing in the backend.
* The payment of orders via the payment link or the orders listing of the customer didn't work properly for the PostFinance payment plugin as the payment gateway doesn't allow several transactions attempt with the same order ID. We made a patch to circumvent that limitation.

#### New features (5)

* There is now an option to display or not the waitlist button on the product listings.
* We've redone the filters on the frontend order listing in order to have more useful filters for the customer.
* We display a list of available tags for the HTML version of emails when editing emails.
* We updated the Authorize.net payment plugin to support the SHA2 hash encoding upgrade of Authorize.net
* The language override screens have been redone and don't use a popup anymore in order to provide more area for the textareas so that it is easier to modify the translations.

### HikaShop 4.0.2

**Release date : January, 16 2019**

[List of all the files changed between the 4.0.1 and the 4.0.2](https://pastebin.com/1mQZ2Kp5)

#### Bug fixes (22)

* The payment notifications were not sending properly for Authorize.net in AIM mode.
* The checkout could block after an address step when there was a coupon in the cart and that the coupon was reducing the amount of the shipping fee in some cases.
* The HikaShop search plugins translations for the search types were not always loaded on the joomla search.
* The address validation didn't work properly when editing addresses in the backend for orders.
* The debug data and transaction ID wasn't stored anymore in the history of the order due to the improvement we made in HikaShop 4.0.1 to better log the debug data.
* The alert displayed in some cases when the quantity field value is changed to an invalid value could is some cases contain HTML tags.
* The quantity of the product wasn't check properly on the cart details page when the product had variants with the quantity set directly in each variant and you were changing the input. The error message only happened after the save of the change.
* The google products cron could have issues with some versions of PHP and the loading of its params leading to the xml not being generated.
* The rounding on the points could sometimes lead to issues while paying with points.
* The prices rounding for the PayPal plugin was not handled properly and it could lead to issues with coupons for currencies without any decimals.
* The products without a price were wrongly removed when sorting with a filter on the price.
* There was a MySQL query error for mass actions with two filters of the type order product column.
* The tax category was lost in the new product when copying products with several tax categories setup in the shop.
* The order status was not properly translated in previews of notification emails.
* We've added a patch for PHP 7.2 in some rare cases with the loading of variants on the frontend.
* There was a duplicate span ID for the product code on the product page for the reversed and tabular layouts with the "show product code" setting activated in the Hikashop configuration.
* We fixed a MySQL query error in some cases with mass actions on order with order product filters.
* The email type filter on the email log listing was missing since HikaShop 4.0.0
* There was a problem with the registration form not taking into account the affiliate checkbox when used in some cases.
* The error messages for the shipping address on the registration form of the checkout were displaying for the billing address fields instead.
* The "same address for shipping" checkbox status set by the customer on the registration form was lost if an error occurred with the data entered by the customer.
* When the "Same address for shipping" checkbox was checked on the registration form of the checkout, it would create an error with the shipping address fields not being filled.
* The order status filter on the order listing of the backend didn't work properly on IE11.
* The product image and file upload and the variant edition didn't work properly on IE11.

#### Improvements (15)

* We improved the resilience of the file download system for when the files are not properly uploaded to avoid creating an error in some edge case.
* We improved the validation and cancellation buttons of the cell edition on mass action results.
* The unit price is now dynamic based on the quantity when you select a product on the order edition page of the backend and you change the quantity.
* We've made the javascript of the checkout more resilient so that it doesn't break when the id of the next button is changed via a view override.
* New javascript trigger to allow checkout blocks to interact with the checkout form submission.
* We've improved the SEF URLs for the checkout.
* We're now using https for the currency rates update system.
* We changed the trash icon fa class to fas for better compatibility with fontawesome 5.
* The cart reminder plugin now provides a link to the cart instead of a link to the checkout so that the system displays the login form if the user isn't logged in anymore when clicking on the link in the email notification.
* We've improved the display of the page when no products are found after a search using filters.
* We now default to the "shadowbox" image popup mode instead of "mootools" when you install a new HikaShop as it works much better.
* The registration page's title and page title are now dynamically taken from the current menu item if it is a menu item of the type "HikaShop user registration".
* We've improved the initialization of custom fields' javascript for the "display limited to" option of custom fields.
* We now display the email history in descending order by default.
* When a product is not found, we now throw an Exception so that the redirect plugin of Joomla can catch it.
* The Iran states have been updated.

#### New features (4)

* HikaShop's registration now integrates with Joomla's privacy consent plugin.
* We've added the support of KBC/CBC-Paypage DirectLink in the Ogone payment plugin.
* Shipping methods in HikaShop can now use the highest tax rate instead of proportionated tax rates as some countries require tax rates for shipping to be handled that way.
* We've added the support of campaigns for Google Analytics so that the source of the transactions is correctly retrieved.

### HikaShop 4.0.1

**Release date : November, 14 2018**

[List of all the files changed between the 4.0.0 and the 4.0.1](https://pastebin.com/dirZUrGr)

#### Bug fixes (42)

* The order status notification and order status settings of the purchase order payment plugin were not properly taken into account.
* The price with options wasn't refreshed anymore when the characteristics selection was changed due to a change in HikaShop 4 with the options price refreshing system.
* The filters might display twice in some cases at the top of the products listings.
* We've fixed a MySQL query error with product massactions with filters on ordering.
* We've fixed some errors with the user control panel on Joomla 2.5
* We fixed an issue we had with the default configuration of carousel modules.
* The timezone handling was not correct with the statistics on the dashboard.
* we've fixed some issues with the MijoShop import.
* We fixed an error we found when using a link to the user control panel page without any Itemid.
* The URL of the pay button on the order details page was not correct in some cases.
* The reports, when limited to categories, would count the product sales once for each category fo the product matching with the categories used as filter.
* The add to cart display option on the menu items wasn't working properly.
* The list filter didn't display properly in some cases after removing the selection of the filter.
* The privacy capabilities translations were not loaded properly.
* The shipping fee might not display with taxes when the total taxes would be zero, which can be problematic when a coupon is discounting 100% of the products and the shipping fee.
* The cart was not cleaned in some cases for free orders.
* The calculated date column of CSV exports for reports was sometimes empty.
* When chart reports where limited by category, the amounts calculated would use the order grand total instead of only the amounts of the products.
* The zero value wouldn't be handled properly during CSV exports regarding the decimal separator setting.
* The mass action export would generate a warning when both the order\_full\_tax column and at least one order product column would be selected.
* The orders listing would display some warnings when no order was done yet.
* The "display limited to" setting didn't work properly for address custom fields in the addresses manager since its redesign in HikaShop 3.5.
* We now check that the product quantity being added into the cart against not only its stock and the quantity of itself already in the cart, but also against the quantity of the bundles including it already in the cart.
* It was impossible to set 0 in the quantity input fields of the cart module.
* The error message for when the minimum quantity was reached for the minus button of the quantity input was using the maximum quantity instead of the minimum quantity.
* We've added a missing translation key to the import from other extensions.
* We've fixed some notice messages that were displaying when looking at a cart or wishlist in the backend and the user of that cart or wishlist has been deleted.
* The order statuses were not translated on the control panel's last orders preview area.
* The selection of zones of the type "shipping" was not possible anymore in the shipping methods "zone" restriction since HikaShop 4.0.0
* The thank you page might not display properly for guest users for some payment plugins.
* We have fixed an issue we had with the "Email" button through the back-end user detail page.
* The default text could run under the buttons of the uploader for variants when editing them in the backend of hikashop.
* There could be a CSS issue with the category explorer.
* The default thank you page would not display properly for guest users with the legacy checkout of HikaShop 2.
* We've fixed a small warning in the TaxCloud plugin.
* We now allow non latin languages in the attributes of the filters.
* We fixed some translations for the wishlist reminder.
* We now redirect the customer to the wishlist for the wishlist reminder of the reminder plugin.
* The TaxCloud plugin didn't handle properly products without a price.
* The HikaShop translations were not loaded on the plugins settings in Joomla 4.
* The order status filter on the order listing of the backend didn't work properly on IE11.
* The product image and file upload and the variant edition didn't work properly on IE11.

#### Improvements (21)

* We improved the displaying of the product description's editor through the back-end product configuration page for Joomla! 3.X versions.
* We've removed the user points plugin option to add the "user points" view to the checkout workflow and now always add the view to the interface. So it's a bit easier to configure.
* We added an error message to the BPost shipping plugin when the popup cannot be displayed because of a javascript error on the page.
* We now force the user\_id in the session when you login while you were already connected as a "guest checkout" so that the data displayed is consistent.
* We've changed the ACTIONS translation key to only use HIKASHOP\_ACTIONS through all of HikaShop in order to avoid conflicts with other extensions using the same key.
* The Google Products plugin now adds the dimensions of the products to the XML.
* The weight of the products is now better handled by the Google Products plugin.
* The collect on delivery payment plugin end page now contains a link to the order page.
* The title on the login view is now removed when there is only the guest or only the registration forms displayed as it doesn't make sense having it in such case.
* The cancel button of the address form on the checkout is now removed when there are no address available for the type of address of the address form since it wouldn't do anything anyways and would just display the form again.
* The error message when the address is missing and the whole step is submitted has been improved to be more accurate.
* We now add the total column when exporting a CSV from a report of product orders.
* We've added a checkoutBlockSubmit trigger to the checkout so that you can intercept the block submits before they are sent. Added bonus, you can cancel them if necessary.
* We improved the displaying of tiles through the back-end product configuration page.
* We now scroll up to error messages during the refreshing of the blocks on checkout pages so that you don't miss error messages because you're too down the page to see them.
* We've improved the error message when no payment methods are found when the recurring payment mode is activated in the checkout (for HikaSubscriptions recurring payment subscriptions for example).
* The eway plugin now stored the transaction reference in the order in order to more easily match transactions with orders.
* We've added a noindex HTTP header for the ajax dynamic translation system so that search engines don't try to index it.
* We now refresh the whole page when an ajax submission request fails with a 303 or 301 response from the server during the checkout in order to improve resiliency.
* We now turn off the legacy settings when you update your HikaShop so that you directly get the new interfaces.
* We migrated servired from mcrypt to openssl for the signature generation in order to support PHP 7.2 with that payment plugin.

#### New features (5)

* Price per products will now also support negative prices.
* The registration form of the checkout now supports entering both a billing and a different shipping address.
* We've added a "allow multiple addresses" setting to the address blocks in your checkout workflow so that you can disable the support of several addresses for each shipping address type. That way it feels simpler and more logical when your checkout is setup as a guest only checkout where you don't need multiple addresses of for shops where you don't have a lot of purchases per customer.
* We've added several patches for the support of Joomla 4 Alpha 5.
* We have added a "show discounted prices" option for cart modules.

### HikaShop 4.0.0

**Release date : October, 1 2018**

[List of all the files changed between the 3.5.1 and the 4.0.0](https://pastebin.com/QUGuhetf)

#### Bug fixes (60)

* We've fixed a notice with the TaxCloud plugin. We better sanitize error messages to avoid potential errors.
* The auto linking of sub menu items for sub categories didn't take into account the product listing menu items in some cases. This could lead to 404 errors in some really rare cases.
* The display of the reset button for filters didn't handle properly the sorting filters.
* The recipient was missing in the fallback payment notification email.
* The tags other than the product name and description ( like custom fields) were not translated properly when sending a newsletter with AcyMailing using HikaShop product tags.
* The reset button for filters would show when not needed after using a filter of the checkbox type.
* We fixed an issue we have with the configuration of the cart module when using the "mini cart" mode.
* The add to wishlist buttons on the product page might do an add to cart when the characteristics selection method mode was set to "list".
* The address created through the registration form with the "same for shipping" checkbox checked didn't get duplicated as a billing/shipping address and thus it could lead to some strange behavior with that address afterwards.
* We've fixed some notice messages when products didn't have prices in some cases.
* The warehouse key is now always available for shipping plugins during the trigger "onShippingDisplay".
* We've fixed taxes calculations with coupons using the "Floating tax prices" option.
* We've fixed a few issues with the affiliation pay interface in the backend user manager.
* The finish button wouldn't directly finish the checkout if the customer was not logged in before clicking on finish in some rare cases.
* A text was not translatable in the Languages tab of the Hikashop configuration.
* If you accessed the email history before any email was sent, you would get a database error.
* The link to the order for guest users at the end of the checkout was not valid in some cases.
* The quantity input didn't include the current value on the cart view of the checkout when using the quantity input method "show select", which lead to the product being removed from the cart when validating the step of the cart view when the customer was ordering more than was is displayed in the dropdown of the product page.
* The reports export didn't take into account the "decimal separator for CSV" setting of the HikaShop configuration and let PHP use its own separator which could lead to issues with some CSV readers.
* The shipping tax was not calculated properly when the "automatic taxes" setting was activated in the shipping method while no tax amount had been configured in the shipping method before activating it.
* The coupon percentage amount was based on the untaxed products prices with the "floating tax prices" setting activated in some cases.
* We fixed an issue we had when saving shipping prices directly through product configuration pages.
* The TaxCloud plugin wasn't always sending the correct TIC since HikaShop 3 in some cases.
* We've updated the contact button for variants to the new display mode.
* The error messages could sometimes not display when trying to guest checkout in ajax with the new checkout.
* The use of a custom order field with a "display limited to" could block the checkout from proceeding.
* The shipping method name didn't display properly in the order and notification emails when using dynamic price plugins (ups, usps, etc) and warehouses or vendors.
* We fixed a warning with emails due to a change in a translation key.
* Validation error messages for the cart view could be displayed twice in some cases with the new checkout.
* We now only take into account main orders when users are being deleted in the backend for the check on the "remaining orders".
* We've fixed the display of the "user points" checkout block within the same step of the "login" block.
* The user points view was not refreshed dynamically when the user was being logged in with the login view being in the same step of the checkout.
* The custom order fields were not properly added to the "order notification" email even with the display setting activated for that email.
* The mass actions filter/action on the order status wouldn't work properly when the namekey of the order status was different from the name of the order status.
* The receiver of the order creation notification could in some cases be wrong with payment plugins asking the credit card during the checkout due to the changes to the payment notification email done in the 3.5.0.
* We fixed an issue we had with the displaying of order custom fields through front-end order detail page.
* We fixed an issue we had with the displaying of error messages of the recaptcha plugin.
* The TaxCloud plugin would not be able to send orders information to TaxCloud after more than 32767 products were purchased on the website.
* For payment methods calling the modifyOrder function before the order was created the new payment notification email didn't contain the order information.
* We've added a fix for coupons with minimum price while not having category or product restriction.
* The unpublished variants were taken into account for dynamic filters on a characteristic evne though they shouldn't.
* The pagination wasn't reset properly anymore with the "redirect POST mode" setting activated when filters were being used/changed.
* There was a fatal error with the new payment notification email in some cases.
* The dropdowns of the comments area lost their "chosen" state after a comment.
* The userful/useless buttons didn't appear if the "styles for the frontend" setting wasn't set to "default".
* The dropdowns are now refreshed with chosen on the comments area when a vote is submitted.
* The variants name would be filled in wrongfully by the import when the variants didn't had a name but had an image or a file in the CSV being imported.
* An error could happen during the creation of the order due to the order\_url parameter.
* The translation for the "description" on the product edition page wasn't correct.
* The ajax file / image custom fields didn't work properly because of some improvements we had added to the uploader javascript system in the 3.5.0.
* We fixed an issue we had when editing an existing address through the checkout workflow.
* We fixed a USPS issue we had with shipping to Canadian addresses.
* The "show select prices" quantity input method didn't take into account the prices of the main product for variants in some cases.
* The quantity used for flat amount discounts could be wrong when a discount was applying to several products with different quantities being purchased in the same cart.
* The IDs of the URLs were not removed in some cases even though the option "Remove products and categories id in URLs" was activated due to another patch introduced in the 3.5.0.
* We've fixed a warning for when the filters are configured to not be collaspable.
* The addresses linked to orders could sometimes be wrongly imported from VM.
* We fixed an issue with the loading of products information through the preload file of the payment\_notfication email.
* The pagination limit of the Joomla configuration wasn't taken into account properly.
* A new default address will now be set after deleting a default shipping/billing address.
* We removed a warning for the prices loading in some rare case.

#### Improvements (56)

* When you try to access a menu item displaying the current wishlist and you don't have any wishlist, HikaShop will now leave you on the wishlist page with the message that your wishlist is empty instead of redirecting you to the user control panel.
* We've added a message when you create a new custom address field to remind you to add the corresponding tag to the address format field if you want to display it with the addresses.
* We now store the price of the products in the cart. That will allow us to be able to send notifications to customers for price changes in the future.
* HikaShop now integrates with the privacy policy system of Joomla 3.9 to inform the amdinistrator of what private information it stores from the users.
* There is a new trigger for onPaymentCustomSave so that payment plugins can catch the data from their custom HTML during the checkout.
* HikaShop configuration use now a module selector for the selection of the modules under the product page so that it is easier for the merchant.
* We've led the ground work to be able to support a quantity for the options of products in the cart (right now, it's automatically the quantity of the product).
* We improved the User Points plugin to create the order with the "confirmed" status when being entirely paid with points.
* We've removed a lot of legacy code we had for Joomla 1.5 which wasn't used anymore.
* You can now translate the footer of the PDF invoice with a translation override.
* You can now use translation overrides on the tax rate namekey so that you can have a different text for different languages.
* We have optimized the calculation of taxes and total prices displayed on the cart module.
* The CSV exports of HikaShop now include the BOM so that it is easier to open them in Excel.
* The listing of categories has been rearranged a bit so that it is easier to understand how to access the category edition page and the listing of the sub categories.
* The page heading didn't display properly when using a menu item of the type Hikashop contact form.
* We've added the possibility to export the column "order\_full\_tax" for orders when using the action "export CSV file" of mass actions so that you can easily get the total of the taxes for each order.
* We've added a type and a published status filter on the shipping and payment methods listings so that you can more easily manage them when you have a lot of them.
* The reports start/end date selectors now use midnight as default hour.
* We do not display anymore the retail price if the value (and currency) is the same than the first available price.
* We avoid the shipping and payment blocks to refresh themselves when the selection is updated.
* We improved the alias generation to replace quotes and double quotes.
* We now display a warning message when you save a product with a "user group after purchase" if you have the "guest" mode activated in the "Registration" setting of the HikaShop configuration.
* The HikaShop group plugin now also checks that a returning guest users doesn't purchase a product with a "user group after purchase" setting activated.
* The user group after purchase plugin now doesn't do the check if the user doing the guest creation/update is already logged in as it would mean that a vendor is creating a user through HikaMarket or something like that which you don't want to block.
* We now properly disable the ordering column when displaying variants in the backend products listing.
* We now check the columns names of the hikashop\_product table when creating custom item fields as it can cause issues if a custom item field has the same column name as a column of that table and prevent the checkout from saving the data of the field during the order creation.
* The backend access levels of HikaShop Business will now also remove dynamically the menu items in the Joomla menu module (only with Joomla 3.7 and above).
* We now use the billing address for the "zone" restriction of payment methods.
* We've improved the refresh of the user points blocks in checkout.
* The Mondial Relay custom fields can now be restricted by shipping method.
* We'll now keep guest addresses after clicking on the "change information" button if not in "Ask address on registration" mode.
* We now disable the "next" / "finish" button of the checkout page when views are being updated so that the customer doesn't validate the step with outdated data if he clicks on the button without waiting (can happen on slow internet connections).
* The plugins edition interface has been improved on the backend.
* The address views on the checkout are now refreshed when new addresses are added or other addresses are modified. So it is now possible to have several address views on the same step.
* We have added a check of products weight unit validity. If it's not valid, we'll display an error message.
* The dropdown cart hover mode of the cart module has been improved.
* The backend menu has been slightly redesigned.
* The listing of variants of a product in the backend will now display the prices with taxes if the "show taxed prices" setting is activated in the HikaShop configuration, as it is the case for the products on the listing.
* We now avoid generating an error when force size is activated and either the width or the height is not provided.
* The order status filtering on the orders listing now works better.
* We've further removed the use of mootools for the popups, even in the backend of Joomla.
* The quantity minimum and maximum on the quantity field now display a notification so that the customer better understands why he can't order more than the max.
* We've improved the debug log in the PayPal payment plugin to be able to better debug issues with payment notifications.
* For products listings, the javascript of the custom item fields is now only added to the page if the custom item field display option is activated for the product listing.
* It is now possible to use com\_ajax with plugins of the groups "hikashop", "hikashoppayment" and "hikashopshipping".
* When two order history events happens at the same second, the events are now ordered properly.
* We've added 2 new triggers "onBeforeLoadProductPriceDiscount" and "onAfterLoadProductPriceDiscount" so that plugins can dynamically change the discounts being loaded and add conditions to the loading MySQL query or discard/modify the discounts.
* We've improved the "show select prices" display to better handle the minimum value.
* We improved the default names of the payment express payment plugins.
* We improved the display of HikaShop "radio" type elements in the front-end.
* We've improved the error message when a customer tries to guest checkout with an email address already used for a user account.
* We improved compatibility of the Recaptcha v2 plugin we propose with Joomla's captcha.
* You can now enter prices for currencies which are unpublished but with the "displayed" setting activated (for when the prices can be displayed in that currency on the listings and product page, but will revert to the main currency prices on the checkout).
* We've added some improvment to the import system in order to skip the variants when their product\_parent\_id is missing.
* We've greatly improved the breadcrumbs, Itemid and page heading handling on the different areas of the control panel.
* We improved the way shipping error messages are displayed during the checkout workflow
* The "price with options" display on the product page now better handle the calculations when there is no price without a minimum quantity set (for the main product and the variants)

#### New features (15)

* **HikaShop is now compatible with Joomla 4 Alpha 4. We do not advise to use Joomla 4 for a production website yet.**
* **We've replaced the icons in HikaShop in order to use font-awesome icons. That way, it fits better with Joomla, which also uses it, pages will load faster as there will be less resources to load from the server, it will be easier to create the styles pack, and add new icons / button for us in the future, and it's easier for you to style the icons if you want to.**
* We've added a new option "multi wishlist" so that you can now choose to only have one wishlist instead of several for your customers.
* We've added a new type for custom fields: boolean. That way, you can more easily create yes/no radios.
* **The user control panel interface on the frontend has been completely redesigned. It now includes a card view of the last orders.**
* **The orders listing on the frontend has been completely redesigned in accordance with the control panel.**
* Shipping plugins can now add their custom HTML on the checkout, like payment methods (see purchase order plugin for example). That will allow for easier integration of shipping plugins with pickup point selection capabilities.
* **We've added a redirect setting to the HikaShop cart notification plugin so that you can now easily configure if the customer should be redirected to the checkout or not after a successful add to cart while still get the add to cart notification displayed before the redirect is done.**
* We've modified the addresses edition in the backend user manager of HikaShop to be able to handle billing/shipping addresses like we did in the 3.5.0 for the frontend address manager for the customer.
* **You can now edit SEO data for the images of categories when you edit a category and click on the image.**
* There is now an additional option to the "validate free order" plugin in order to send the "payment notification" email to the merchant when a free order is confirmed.
* We've added a setting to not log the IP address for votes and comments.
* **It is now possible to configure different emails for different order statuses for the "order status notification" email via the System>Emails menu.**
* We've added a parameter to display or not the same address checkbox on the address view of the checkout when creating an address.
* You can now create new carts and wishlists from the carts and wishlists listing of the frontend with the corresponding "multi" option is activated.
* You can now display the user points on the user control panel.

### HikaShop 3.5.1

**Release date : July, 20 2018**

[List of all the files changed between the 3.5.0 and the 3.5.1](https://pastebin.com/G5jLC73i)

#### Bug fixes (15)

* For payment methods calling the modifyOrder function before the order was created the new payment notification email didn't contain the order information.
* We've added a fix for coupons with a minimum price while not having category or product restriction.
* We've added several fixes for the user points plugins to better support the new checkout / cart systems.
* We've fixed an issue with the creation of the order for payments made with a payment plugin were the payment happens directly on the checkout due to the new payment notification email changes of the 3.5.0.
* The pagination wasn't reset properly anymore with the "redirect POST mode" setting activated when filters were being used/changed.
* There was a fatal error with the new payment notification email in some cases.
* The dropdowns of the comments area lost their "chosen" state after a comment.
* The userful/useless buttons didn't appear if the "styles for the frontend" setting wasn't set to "default".
* An error could happen during the creation of the order due to the order\_url parameter.
* The translation for the "description" title on the product edition page wasn't correct.
* The ajax file / image custom fields didn't work properly because of some improvements we had added to the uploader javascript system.
* We fixed an issue we had when editing an existing address through the checkout workflow with the new address edition interface.
* We fixed an USPS issue we had when shipping to Canadian addresses.
* The processing text mails didn't work properly.
* The quantity used for flat amount discounts could be wrong when a discount was applying to several products with different quantities being purchased in the same cart.
* the IDs of the URLs were not removed in some cases even though the option "Remove products and categories id in URLs" was activated due to another patch introduced in the 3.5.0.
* An error could potentially happen when saving custom field settings.
* We've fixed some notice messages with the filter system in some rare cases.

#### Improvements (2)

* We've improved the handling of the hover effect on the collaspable cart module.
* You can now enter prices for currencies which are unpublished but with the "displayed" setting activated (for when the prices can be displayed in that currency on the listings and product page, but will revert to the main currency prices on the checkout).

### HikaShop 3.5.0

**Release date : July, 2 2018**

[List of all the files changed between the 3.4.1 and the 3.5.0](https://pastebin.com/e1N2xaUN)

#### Bug fixes (3)

* The pagination limit of the Joomla configuration wasn't taken into account properly.
* We've fixed a warning for when the filters are configured to not be collapsable.
* The addresses linked to orders could sometimes be wrongly imported from VM.

#### Improvements (33)

* We now duplicate the addresses into billing / shipping counterparts when creating a new address to be used both for shipping and billing instead of using only one entity. (only with new checkout)
* We now use HTTPS instead of HTTP for the microdata itemtype URLs.
* The labels of the elements on the products listing of invoices could cause display issues when they were too long.
* The open graph description from the HikaShop social networks plugin now removes the snippet plugin of regular labs.
* We now display the filters on the "no results found" page of filters so that you can reset / change the filters in order to adapt your search even when you don't use the HikaShop filters module to display the filters.
* The mass action filter and action "order status" where looking into the category table instead of the orderstatus table. We've now changed that to use the new table we've added in HikaShop 3.0.0.
* The cart module didn't take into account the "display detailed taxes" setting like the other cart / checkout / order views did.
* We now display a proper error message when cookies are not available when you try to add something to the cart. (for cookies modules/plugins)
* Some third party system plugin could break the new checkout editor in some rare cases so we've made some modifications to circumvent these.
* We have removed the support of UPS "Freight" services as they are supported by a separate XML API and not the API used by the UPS shipping plugin.
* We have improved the displaying of product code through the checkout cart.
* The error message with the alias already existing won't block the saving of the product anymore.
* The address\_id has been added in the onAfterAddressCreate trigger.
* The trigger "onAfterCheckCartQuantities" is now also called for wishlists.
* The filter reset button is now removed if no filter is selected.
* We improved the shipping debug mode so that it will only be triggered during checkout workfow.
* We avoid confirming orders several times when paybox sends the same payment notification several times.
* We now skip the display of options without variants if they don't have stock even if the "Display out of stock products" setting is activated in the HikaShop configuration since their purchase is not possible anyways.
* We improved the way information was sent to the USPS platform for international shippings.
* We improved the partner statistics interface in the backend.
* An error message is now properly displayed when you click on an "add to cart" button displayed by a module while the "put the store offline" setting is activated.
* We've improved the CSV parsing.
* The order status notification and order notification emails now will have the "pay now" link if the "payment of orders not paid immediately" setting is activated and the status of the order is in the list of statuses under the column "unpaid" of the System>Order statuses menu.
* It's now possible to search on the date in the order listing for the customers.
* We now do not display the options for the "fields" view on the checkout workflow interface if you don't have the Business edition since the custom order fields are not usable with the Business edition.
* Generic cart messages are now display within the cart view during the checkout.
* We swapped the display of the custom product fields and the dimensions on the tabular layout.
* We've improved the display of the votes area on listings when no votes have yet been submitted for a product. You can now easily switch between a "no votes" label and stars with a bit of CSS.
* We have updated available FedEx packaging types.
* We adapted options controlling the display of custom fields which have a "custom text" type and which are from the "Item" table.
* We've added a "pay now" button on the order details page.
* The default quantity input method is now "default in DIV" instead of "default" which is much nicer and display better.
* The return\_url parameter has been removed from SEF urls to avoid the database of URLs of extensions like sh404SEF from growing too big.
* You can now enter prices for currencies which are unpublished but with the "displayed" setting activated (for when the prices can be displayed in that currency on the listings and product page, but will revert to the main currency prices on the checkout).

#### New features (6)

* We made several improvements to the address creation / edition system on the checkout to separate billing and shipping addresses.
* We've added a new "Show 'same address' checkbox" setting for the login view of the checkout workflow.
* We've added several options to turn off the IP logging for the different areas where HikaShop can log them (user registration, order creation, history of order) so that you have a greater control of the data you request from the user.
* The payment notification email now uses the email system of HikaShop and has its own editable email instead of a text version through Joomla email system. That way, it can contain all the order information instead of just the notification message.
* There is now an "apply coupons" setting distinct from the "apply discounts" setting in order to be able to configure them independently from one another.
* We added a "allowed extensions" setting for Ajax File and Ajax Image custom fields so that different fields can have different restrictions on the extension of the files.

### HikaShop 3.4.1

**Release date : June, 27 2018**

[List of all the files changed between the 3.4.0 and the 3.4.1](https://pastebin.com/PWMnsid7)

#### Bug fixes (41)

* We have fixed an issue we were having with the "Display on product page" option of the "Shipping Manual - Price per product" plugin.
* The reply-to email address wasn't taken into account for the order status notification when the order status was manually changed through the dropdown on the orders listing of the backend.
* There was an error when creating new custom fields of the table "contact".
* We've fixed some warnings with the user of the "percentage of main product price" setting of variants.
* The product search plugin was searching through all the translated fields regardless of the selection made in the plugin settings.
* The gallery directory tree didn't display properly in some cases with lots of folders.
* The order status wasn't set properly by the Skrill payment plugin when the payment notification was received.
* The Customers->Emails history area was missing with the Essential and Starter editions.
* We've fixed a MySQL query in some cases when currencies data had been corrupted.
* We've fixed a warning on the product form of the order page in the backend when the product doesn't have any tax yet.
* We fixed an issue we had in the Stripe plugin with the JPY currency which doesn't need any rounding.
* The link to access the order page on the thank you page didn't work properly anymore for guest checkout.
* The custom fields of the type "link" didn't save properly when the field was left empty.
* The order status notification didn't work properly with the check payment method.
* We fixed an issue we had with the displaying of free download files through order detail page.
* The prices of products with variants on the products listing could be sometimes zero when the listing was configured to display all the prices of the products and when several variants of the same product had the same prices.
* The custom product field columns were not correct in some cases with the table layout on products listing pages.
* In some cases the points in the cart didn't refresh properly when the products in the cart were being changed during the checkout.
* When the max et min are equal or if the max is 1 (because the min empty is actually used as min=1) for a product and you went through a wishlist, it was actually possible to circumvent the max restriction to add the product to the cart.
* Modification in the router : We only remove the ID for products and categories.
* We've fixed the display of the Joomla article selector when there are a lot of articles.
* The user group after purchase plugin could refuse the registration when the cart was empty in some cases.
* The waitlist button was not displayed when the product "available from" fields were filled in even though it should.
* The export of products didn't work properly with HikaShop 3.4.0 due to a previous fix missing something.
* The result from the onPaymentSave trigger wasn't handled properly with the new checkout and would let the customer continue even though the plugin would return false indicating that there was a problem. Also, the error messages from the plugin were not handled properly when the data was submitted dynamically through AJAX.
* The free downloads area on the product page didn't disappear when the selected variant had no free files.
* Error messages displayed through Joomla by third party plugins were not displayed when the address was created/updated on the new checkout of hikashop.
* The coupon value wasn't properly added to the order when the content of the cart was 0.
* The tooltip didn't display properly for the votes on listings.
* When you had two terms and conditions views on the same step the validation process didn't differentiate them properly.
* The activation page didn't display properly in some cases with the new checkout.
* In some cases, it was possible for the add to cart button to be displayed instead of the choose options button on the listings even though custom item fields were required for the products and the custom item fields were not displayed on the listing.
* It was possible for the images to be missing in the email notifications for products with variants and files.
* The error messages were not displayed properly on the checkout when editing/creating an address without custom fields for which the regular expression check didn't match.
* In some rare cases, the selector of the login view might not work properly with the "show submit" button setting of that view being turned off.
* The "quantity per order" of products with variants/characteristics was not taken into account on the checkout and in the cart module.
* We fixed an issue with the backend product listing pagination.
* The "display limited to" setting didn't work properly for checkbox custom fields.
* The fields view was not updated when products were removed from the cart in the checkout in some cases.
* The Terms and Conditions popup didn't properly use the article setting from the new checkout workflow editor.
* The ordering of the characteristics on the product name on the cart could potentially be random.
* The message saying that the comment was posted by someone who bought the product was not working properly in some cases.

#### Improvements (1)

* We've added several patches to support changes in Joomla 3.8.9 and 3.8.10

### HikaShop 3.4.0

**Release date : March, 21 2018**

[List of all the files changed between the 3.3.0 and the 3.4.0](https://pastebin.com/Krc8AzK9)

#### Bug fixes (26)

* The price value on the products listing in the backend was not correct when the "floating tax prices" setting was activated.
* The product tax category setting might not display in some cases for discounts due to the changes implemented for the automatic tax setting of coupons.
* We fixed an issue we had when saving the checkout configuration.
* The category tags for smart newsletters for AcyMailing didn't handle properly the "price" setting.
* The new toolbar system of the frontend could create an error in some cases.
* Transparent backgrounds were not handled properly for watermark images since HikaShop 3.2.
* The item not yet on sale and item not sold anymore messages were not displaying with the new add to cart system on listings when the add to cart button display was activated but not possible due to the available dates of the product.
* We've added a fix for the display of filters in product listings.
* The markdown library was packaged wrongly due to a special regex in it leading to a fatal error when saving a product with the markdown mode activated in the HikaShop configuration.
* There was is some rare cases a javascript error on the module edition interface when editing HikaShop content modules.
* The enter key press wasn't taken into account for the input fields filters since HikaShop 3.2.
* The upload of images didn't work properly when a watermark was set since HikaShop 3.2.3.
* There was a MySQL error with the filters in some rare cases.
* The affiliate fees were not taken into account properly since HikaShop 3.2.0.
* The cursor filter selected values were still displayed even after the delete icon of the filter had been pressed.
* We've added a patch to avoid a MySQL query with the VirtueMart import when launched several times.
* There was an issue with the conversion of the shipping fees on the checkout when the selected currency was "displayed" but not "published".
* The default value for the custom state field wasn't taken into account in some cases.
* We fixed the height consistency for the new carousel view.
* The sorting by price of characteristic values could create a problem on the frontend.
* The coupon namebox didn't work properly with more than 200 coupons on the report edition form.
* The system sometimes tried to add the custom field twice in the database resulting in an error.
* An error message wasn't displayed properly when saving the additional details of an order with a required custom field that wasn't filled in.
* It was possible that the new checkout would go to the next step instead of staying on the current step after submitting the registration form.
* Based on how discounts were configured it was possible for a products listing with the "discount only" to display a MySQL error.
* We fixed an error with add to wishlist function while the catalog mode is activated.
* The characteristics values could potentially be in the wrong order on the cart/order in some cases.
* When products have canonical URLs and that the website was in several languages, it was possible that the generated product links in the newsletters of AcyMailing could be incorrect.
* In some rare cases, the user points used by the customer would display as 0 points even though the amount was properly deducted from the cart.

#### Improvements (18)

* We improved the error messages of the check database button.
* We have updated the URL used by the UPS shipping plugin.
* When you click on the "check database" button of the HikaShop configuration, we now fix the product\_parent\_id for main products with a value in it since it should be empty.
* We've improved the Redshop import.
* We don't display the stars anymore on products without votes when customers can't vote.
* We now display the user name on the "Order" tab of the legacy dashboard.
* "Custom text" custom fields are now displayed in the emails if their email display settings are activated.
* The Purchase Order plugin now store the data in the order payment params (which is nicer and easier to retrieve).
* We've added classes to the labels of the radios for filters of the type "radio".
* We now remove the "back" button when accessing an order as a guest since the orders listing is not available as a guest anyway.
* The purchase order plugin now adds the purchase order number to the email notifications.
* We now trim the product description so that it won't mess the display of the description with the characteristics when empty characters are added to it.
* It is now possible to specify several user groups in the values of the custom field for the "User group on registration" setting.
* You can now use a custom product field to enter the stock under which the notification of "out of stock" will be sent by the out of stock plugin instead of fixing a value for all the products in the settings of the plugin.
* The Russian states have been updated.
* We now display the user restriction on the coupons listing in the backend when the restriction is used.
* We now do not display out of stock variants in the option dropdowns since they can't be bought anyways even if the "display out of stock" setting is activated in the configuration page.
* We improved package limitations used to created packages which will be sent to the UPS platform.
* We improved the shipping algorithm responsible for the calculation of the maximum number of products that can be added into a package according to the shipping platform package limits.

#### New features (12)

* We've developed a new Checkout workflow editor interface. It allows for a greater flexibility as options are now directly attached to the views instead of being global to all the views of the checkout.
* We've added a new "text" view to the checkout workflow so that you can easily add your custom text or HTML around the default views of HikaShop.
* We've added many display options to the different views of the checkout. That will allow for a greater flexibility without having to edit the view files or add custom CSS.
* There is now an option to coupons so that the coupon value can include a percentage of the shipping fee. That will allow the creation of free shipping coupons.
* You can now select the product code for the sort filters.
* We now support the quantity regarding the composition of a bundle of products. For that you need to have an unlimited quantity for the bundle product and HikaShop will automatically use the smallest quantity amongst all the products in the bundle.
* We added a "sandbox" parameter into the PayPlug plugin.
* We've added the possibility to display both the discount amount and the price before discount crossed on top of being able to display either one.
* We've added an option to remove the logging of the IP address of the customer in the cart (for the RGPD).
* You can now disable the auto publication of new products without the product\_published column for the Product cron update plugin.
* We improved the way shipping packages were grouped when using the "Group packages" option.
* It's now possible to choose if the files should be removed from the upload folder or not, when you delete images from products and categories.
* We created an option to display Payment fees on the Cart module.

### HikaShop 3.3.0

**Release date : February, 06 2018**

[List of all the files changed between the 3.2.2 and the 3.3.0](https://pastebin.com/vFUEnWX8)

#### Bug fixes (21)

* The URLs of some of the buttons on the control panel could potentially lead to a wrong menu item in some cases.
* The filtering didn't work properly with the redirect POST mode when the value being filtering had a "&" sign.
* The error messages didn't display properly when using the "reorder" button on the orders listing.
* The max value of the cursor filters could be off in some cases when the step was bigger than 1. We've added a patch to make sure that the max is always valid.
* The export function of reports / widgets didn't handle properly JSON data which could lead to an invalid export.
* The dynamic display of filters on custom fields might not work properly in some cases based on how the custom fields were filled in.
* The synchronized content modules only took into account the sub categories of the current menu item and not the main category selected in the settings of the menu item.
* The dropdown filter for the templates on the Display>Views menu wasn't displaying all the templates when one was selected.
* The negative values for shipping/payment fess were not being displayed on the notification emails.
* We fixed a regression with the dashboard total sales amount. We've also added the support of multiple currencies.
* We fixed a warning with the RSS feed when products had no prices.
* The cart module could end up not being refreshed when removing the last product from the cart while not on the checkout.
* We've added a fix for the new checkout with Internet Explorer.
* Coupon usage number wasn't decremented properly when orders were canceled/refunded.
* We fixed a small warning with the RSS feed.
* The custom item fields were missing for orders made with PayPal Express Checkout.
* The title of columns was missing for custom product fields displayed on the checkout cart view of the new checkout system.
* The contact form menu item couldn't be used if the "display a contact button on product page" setting was turned off in the HikaShop configuration.
* The folder tree was not being displayed properly on chrome for the gallery system.
* The translation of the title was missing for the cart manager cart page on the frontend.
* The statistics on the dashboard could be off because of a timezone calculation issue.
* The province Panama Oeste was missing from the list of Panama provinces.
* We fixed an issue we were having with product dimensions gathering of the FedEx plugin.
* We fixed some warnings with the creation of new HikaShop content modules.
* It was possible that a search would result in a MySQL error when Falang was used to translates product names but that the results of the search contained some products without translations.
* The carousel javascript library was not loaded properly for categories/brands carousels.
* It was possible in some cases for the options to be added to the cart when the main product couldn't due to custom item fields not filled properly.
* We've fixed some notices on orders created in the backend when having custom item fields configured.
* The carousel settings of modules were not displayed when "inherit (div)" was selected even though they should have been.
* We've fixed a fatal error with Joomla 1.5/2.5.
* We fixed a few notices on the new order/new cart interfaces.
* The "add to wishlist" button could potentially be displayed in some rare cases on the listings of products/variants even when the "Enable the wishlists" setting was deactivated in the HikaShop configuration.

#### Improvements (20)

* Plugins can now add actions to order products.
* We've improved the legacy add to cart system to trigger the new javascript triggers of the new add to cart system in order to improve the support of the new cart module.
* We've improved the location of the radio input for addresses selection in list mode on the checkout.
* We've added an error message when the PayPlug payment method can write the parameter file when saving the configuration of the payment method.
* We've migrated some code to PHP7 standards.
* We've removed the restriction of 255 characters in the meta description. We now recommend an average of 300 characters.
* The sort price was not selectable for cursor filters.
* We will now display product prices without tax on the cart module if details of applied taxes are shown in the cart module.
* We've added triggers to the field API so that you can now do processing when custom fields are created/modified/deleted.
* We've added a specific class to the proceed to checkout button on the cart module.
* We improved the display of the address list selectors on the checkout.
* The ReCaptcha plugin now supports the new registration form.
* When the characteristics display method is "list", it's now possible to order the variants by price in the "characteristics values ordering" setting.
* You can now configure the display method per option and not only globally.
* When the javascript initializing the checkout can't be run because of a javascript error on the page, we don't try to submit blocks but instead submit the whole page.
* We now auto rotate the images during the upload when the EXIF data of the image specifies an orientation.
* Product options can now have their own quantity when added to the cart.
* There is now a message on the product edition page when the product has characteristics but no variants.
* We improved the display of the carousel system when not enough products are available on the listing.
* We now disable the add to cart system when the "catalogue mode" setting is activated.
* By creating custom product fields named "product\_addtowishlist\_message", "product\_chooseoptions\_message", "product\_addtocart\_message" and "product\_stock\_message", it is now possible to personalize for each product the text used in these buttons/messages.

#### New features (10)

* The image selector/uploader setting for categories has been migrated to the new system which now supports the gallery selector.
* We've redesigned the share function of wishlists so that you can now send email notifications for your wishlist.
* We've added an extra display option to be able to display or not the HikaShop modules on the waitlist page.
* We've added a new "Condition" option for microdata in products.
* It is now possible to enter a start and an end date to prices of products.
* You now have the possibility to use markdown instead of HTML for the description of your products.
* It is also possible to create custom content handler plugins to use other formats like bbcode, etc.
* It is now possible to restrict coupons and discounts per user.
* There is now an option in shipping methods to be able to calculate their taxes based on the taxes of the products on which they apply and with the ratio of the taxes for each product.
* There is now an option in coupons to be able to calculate their taxes based on the taxes of the products on which they apply and with the ratio of the taxes for each product.
* You can now specify attributes for filters of the type "text" when you edit them.

### HikaShop 3.2.2

**Release date : December, 20 2017**

[List of all the files changed between the 3.2.1 and the 3.2.2](https://pastebin.com/UsydbWh5)

#### Bug fixes (32)

* We fixed a warning with payment methods in some rare cases.
* The reset button of filters didn't work properly with the infinite scroll on products listings.
* We've fixed a conflict between the PDF invoice plugin and the serial PDF plugin.
* There was a conflict between AdminTools and the infinite scroll system.
* The reports could potentially count the products once per category.
* The contact form was missing a required star for the additional information field.
* There could be in some rares cases a double slash in some of the images URLs.
* We've fixed some warnings with the rebuild of the category tree when using the "check database" button of the HikaShop configuration.
* The restrictions checkbox would not be checked after a save of a shipping / payment method in some cases.
* We've fixed a small warning on the news feed page for products without images.
* We've fixed a MySQL error on the dashboard of the backend which could happen in some cases based on how the MySQL server was configured.
* The "Ask a please select value" setting of custom zone fields didn't work properly with the "required" setting of the custom fields which could lead in the form submitting being validated even though no value would be selected in the custom field.
* There was a side effect of the handling of the pagination by the redirect post mode system on the listings. Because of that, when two modules were loaded in the main area of the template in a HikaShop view (for customization for example), it lead to the number of items of the first module being used by both.
* There was a rounding issue in the PayBox payment plugin which could lead, in some rare cases to an error of 1 cent in the value of the payment.
* The title of the free files download area on the product page was missing for variants.
* The use of the cancel button on the payment gateway could potentially lead to an error when the cart was already cleared and that the "URL where to redirect when the cart is empty" wasn't set.
* In form mode, the currency switcher module might not work in some cases due to a javascript error that we fixed.
* The creation of vendor variants in HikaMarket don't generate any data in hikashop\_variant and the default variant selection need to be skipped to avoid problems in such cases.
* When a discount was applied to a variant of a product and that the price of the variant was used for the main product price on the listing of products, the discount was not applied to the price on the listing.
* There was an issue with the addition of the dropdown hover effect on the cart module settings page preventing you from selecting the standard click dropdown with the 3.2.1.
* The add to cart button on the wishlist page of the frontend didn't take into account the options properly.
* The parent product tax id was not loaded properly when editing the price of a variant.
* The main product shipping prices were not taken into account for variants on the frontend because of some changes we'd made in the cart system with HikaShop 3.
* The add to cart buttons on modules below the product page would not add the correct product in the cart in some cases with the new add to cart system.
* The rounding of prices on the listings didn't take into account the increment configured in the currency for taxes when the "round prices during calculation" setting was activated.
* There could be some checking issues with custom fields using the "display limited to" setting and being required in some rare cases.
* The rounding wasn't done properly in some odd cases with the "rounding prices during calculations" setting activated.
* The "address" position choice wasn't properly taken into account on the legacy checkout and on the registration form for the recaptcha plugin.
* Rounding by increments for price calculations could potentially create errors on PHP 7.1.
* The limits were taking into account only orders in the currency selected in them even when the "type" of the limits wasn't set to "price".
* The translation of zones didn't work properly on Falang.
* The "add to wishlist" button could potentially be displayed in some rare cases on the listings of products/variants even when the "Enable the wishlists" setting was deactivated in the HikaShop configuration.

#### Improvements (25)

* We've updated the Zambia kwacha currency code.
* The new checkout sytem now supports custom entry fields.
* We've added PHP 7.2 support.
* We've updated the HTML2PDf and TCPDF libraries of the PDF invoice plugin to the latest versions.
* The filter buttons now use the new button system like other buttons in the frontend of HikaShop.
* We now do not display the options image in the shipping methods selection interface with several groups when the "group options with product" setting is activated.
* The PayPal plugin code has been a bit "refreshed".
* The paygate plugin now add more debug data in the HikaShop payment log file.
* We improved the URL of the clean cart button on the cart module.
* We improved the responsiveness of the product page image.
* We've added an extra check on the adwords ID field of the HikaShop remarketing plugin as people were often entering a wrong ID there.
* The email history plugin now also store information about attachments for each email.
* It's now possible to use commas in operations of mass actions.
* The action button will now display directly a normal button when there is only one action on the orders listing page on the frontend.
* We've added a check to forbid the creation of custom fields with column names starting with numbers as it can't work properly due to the way the system works and the limitations of PHP.
* We've improved the responsiveness of the filters display area.
* We've modified the way toolbars are displayed on the frontend views to use a single view file. That way, you can more easily customize all the toolbar buttons look in one view override.
* We've added an error message when the NETS payment plugin is enabled but SOAP not available since that's a requirement.
* We've added a debug option to the USPS shipping plugin to be able to more easily debug issues with it.
* We now only display the back button on the cart details page when you're already logged in.
* The filters are now responsive even when the "default" style is not used.
* Plugins can now interact with the dropdown "more" in the front-end HikaShop order listing.
* We've updated the gateway URLs in the SVEA payment plugin.
* We've implemented the new version of PayGate as the previous version implemented in the payment gateway has been deprecated.
* We've added a check on the translation sharing function so that if the translation file is not a valid ini file, the sending is refused.
* We've updated the plugin "shipping prices" to handle HikaMarket 2.0's new product edition interface.

#### New features (9)

* You can now choose to display options as radios or checkboxes on the product page.
* There is now a button to preview your emails when you edit them in the backend.
* A new implementation has been added for the recurring system so that it will be easier to implement recurring payment plugins for 3rd party developers.
* We've added a new display option to custom product fields to be able to display them on the checkout cart view.
* We've added the possibility to resend the emails from the Customers->Email history manager.
* There is now a new option for filters to be able to collapse their display area by default all the time, or only on mobile devices.
* We have added a "Taxes" option through the Cart module configuration page which will enable merchants to display taxes through Hikashop's cart module.
* We've added the possibility to only add the open graph meta tags without adding the facebook like button on the product page in the HikaShop social networks plugin.
* You can now specify attributes for filters of the type "text" when you edit them.

### HikaShop 3.2.1

**Release date : October, 20 2017**

[List of all the files changed between the 3.2.0 and the 3.2.1](https://pastebin.com/BANDiANZ)

#### Bug fixes (35)

* The client id wasn't passed properly in the checkout for Google Analytics resulting in the match missing even though we've added some code for that in the 3.2.0
* The "display limited to" system didn't work properly after validating an address with an error in the data filled in.
* The BPost shipping plugin wasn't working properly since HikaShop 3. We've made it compatible with the legacy checkout. The new checkout will require a complete rewrite of the plugin code.
* The prices were not editable in the backend interface on mobile devices.
* The dates saving in HikaShop could potentially add an hour when the current date and the date saved would be in a different winter/summer time if your timezone uses the winter/summer time hour change.
* The next button would not always go to the next step on the first try in some rare cases with the legacy checkout and had to be cliked twice.
* The tax rates listing was counting the shipping/payment/coupon taxes twice in the totals for each order in the total tax amount of each rate.
* The 3D secure page didn't work properly with the new checkout for the few payment plugins using it.
* The "Have / Don't have" filter of user mass actions didn't handle the new table that was introduced in HikaShop 3.0.0 for the new order statuses system and could lead to odd results in some cases.
* The coupon value could be wrong in the order notification email in some cases.
* The stock message was not displayed properly on the product page for products with variants when the stock was set on the main product and not in the variants.
* The saving of shipping information in the backend order edition could lead to a fatal error on PHP 7.1
* We've added a fix for the payment block on the new checkout to support the credit cart JS messages.
* There was a fatal error on the mass action system in some cases.
* We fixed an issue for the "Notify customers" option of the "order auto cancel" plugin which wasn't correctly taken into account.
* Link correction for the "Install / Update HikaShop" documentation page.
* The configuration of custom order statuses with spaces and/or special characters didn't work properly with the new order status management interface.
* The add to wishlist button could potentially be displayed on the comparison page even though the wishlist system was deactivated.
* We've fixed a minor warning on the affiliate program page when the plugin is disabled.
* We fixed a compatiblity issue we had between the infinite scrolling and votes.
* The filters could potentially mess the display of the products listing when displayed on top of the listing.
* The filter module might not redirect to the correct URL in some cases (PHP 7 , Joomla 3.7)
* The options were not transferred with products when moved from one cart to another.
* The new order status was not translated on some payment notification emails to the admin based on which payment method was used.
* The order status was not translated on the order listings of reports.
* When the checkout was a guest without address, in some cases it would require two clicks on the "finish" button instead of only one with the new checkout system.
* The options were lost when moving items between a cart and a wishlist on the frontend cart/wishlist maanagement interfaces.
* We had an issue with radio buttons in the backend of HikaShop on Joomla 2.5
* Fix for Joomla 2.5 where JInput do not support getRaw.
* We've fixed some typo on the USPS configuration screen.
* We fixed the "clean report" button in the configuration.
* We fixed the "see cron report" button in the configuration.
* We optimized the USPS shipping plugin to properly take into account the First class mail "parcel" weight limit.
* We fixed the category image upload system which was broken with HikaShop 3.2.0 initial build.
* We fixed issues with JRequest when JInput is not available (before Joomla 2.5).
* The rounding of taxes could be wrong in some rare cases with products with a discount applied.

#### Improvements (12)

* We've improved the tag system in email subjects so that it is more versatile.
* We added the stock in the input radios of the variants on the "table" selection mode as a data- attribute so that you can easily style them with CSS.
* You can now modify the quantity while adding products from a wishlist into the cart.
* We've improved a bit the Geolocation plugin so that the country is preselected when possible on the registration form.
* We added the support of variants for the TaxCloud plugin.
* We now support custom item fields on the variants listing on the product.
* We made some changes so that the votes column on listings is not displayed when the vote feature is turned off in the HikaShop configuration regardless of the vote display setting of the module/menu item.
* The notification system of the new add to cart system has been made more resilient to jQuery conflicts.
* We now take into account the setting for the display of the price before it was converted to the current currency for the display of the retail price on the product page.
* We've dissotiated the search groups translations from the backend translations so that you can customize them without impacting the backend interface.
* We now take into account the quantity available on the product for the maximum quantity a user can select/enter in the quantity field of a product.
* We're improved the display of error messages for the PayPlug plugin.
* We improved the creation of the order statuses to prevent bad namekeys and properly display back the order status data in the form when an error happens during the save.

#### New features (6)

* You can now create an order from a cart in the backend cart manager with a one click button.
* We've updated all the icons of the user control panel so that they are more homogeneous and that the styles pack can override them in a proper manner.
* The user control panel is now fully responsive.
* We've added new options to the import page so that you can choose whether you want to store the images and files locally or not when running an import.
* We've added an add to cart button on the wishlist display.
* You can now choose whether you want to sort by ascending or descending order or both for each sorting field of a sort filter when you configure it.
* You can now configure the cart module as a dropdown with a hover effect instead of a click effect to display/hide the details.

### HikaShop 3.2.0

**Release date : September, 01 2017**

[List of all the files changed between the 3.1.1 and the 3.2.0](https://pastebin.com/DyCdwtfj)

#### Bug fixes (101)

* We added a fix to allow the saving of the user default address in the backend.
* The link to the order at the end of the checkout for guest checkout had either a wrong URL or was missing.
* The deletable chekcbox filters' delete button would only remove the first selected value.
* We now properly calculate the USPS shipping price returned from the USPS platform.
* The quantity modification of products in the cart with a dropdown selector for the quantity didn't work properly with the new checkout.
* We added a patch to properly handle the 0 value for the text filters.
* We've fixed some notice messages in the cart module for some rare case.
* The double quotes were sometimes too much converted to HTML in custom fields of the type "text".
* The text area custom fields didn't handle properly the regular expression option.
* We fixed some tooltips display issue in the edition of menu items.
* We fixed some warnings with PHP 7.1 in some rare cases.
* JException now has $message as protected value so we've modified our code use it to take that into account and avoid potential errors.
* The discounts listing didn't display the name of the variants properly when the discounts were restricted to variants.
* The discounts were not applied properly to the prices of the variants when the variants didn't had prices directly attached to them.
* We fixed the users/customers selector for carts/wishlists/orders which didn't work properly when having a lot of users.
* The redirect to the URL when cart empty system wasn't working properly with the new checkout when the "empty cart" message was modified to be an empty text.
* The infinite scroll system didn't work properly together with filters in some cases.
* The ctrl parameter wasn't removed when not necessary in the checkout URL of the new checkout for SEF URLs leading to an additional "checkout" text present there.
* We have added the missing translation key PRODUCT\_SAVE\_UNKNOWN\_ERROR.
* We added a little fix in the Netgiro payment plugin.
* A userClass definition might be missing previously in some cases on the price edition of products in the backend.
* The activate class on image thumbnails on the product page wasn't set properly.
* When a coupon was limited to several categories with a minimum number of products, a product in the cart would be counted for each category it had linked to these categories. So it would be possible for products to be counted several times to reach the number of products limit in such rare cases.
* We fixed an issue with the importation of product prices via MassActions CSV.
* We fixed a fatal error which could happen with limits configured with a category restriction upon add to cart.
* The force menu on checkout setting wasn't taken into account in some cases.
* The "proceed to checkout" button could be missing in some cases on the cart display page.
* The guest checkout in legacy mode wasn't clearing the user session at the end.
* We now correctly handle the displaying of error messages for the Fedex shipping plugin.
* We now properly support the "Use dimension" option in the Fedex shipping plugin.
* The ReCaptcha plugin didn't handle properly the "user in registration forms" setting with the new checkout of HikaShop 3
* We've added some fixes and cleaned some of the code of the address block of the new checkout.
* We've added a small fix for the category listing in list mode where the UL class setting value wasn't separated from the hikashop class in the resulting HTML.
* We've fixed the Joomla 3.7 calendar in the variant edition interface.
* The later payment of guest orders wasn't working porperly.
* The custom item fields were not displaying properly when restricted to products/categories when they had variants on the order product edition popup in the backend.
* The display of the page was messed up when using the "pay" button with HikaShop 3 in some cases.
* We've added a fix for UPS plugin in order to handle the "exclude dimension" correctly in the order packages.
* The "simplified registration without password" mode wasn't taken into account properly in selector mode on the login view of the checkout when set as the default mode.
* Coupons restricted to categories with products with characteristics, with their amount calculated as a percentage of these products would calculate on all the products that matched plus the products with characteristics also in the cart.
* The button of the registration form could, in some cases, be displayed as "register" instead of "next" even though the registration was configured in "guest" mode.
* The Pay later button of orders listing didn't trigger hikashop plugins and thus HikaMarket wouldn't be triggered when using it.
* The prices restricted by users were not loaded properly in some cases.
* The download link of custom contact fields (ajax file, ajax image, etc) didn't work properly.
* The address modifications on the checkout didn't properly refresh the cart on the new checkout when it impacted the taxes on the prices.
* There were some issues with the EU taxes plugin.
* We restored the "group package" setting as it should be in the UPS plugin and fixed some notice messages in it.
* The "display limited to" system of custom fields didn't work properly at the page initialization in some cases based on how the custom fields were configured when you had several levels of them.
* We changed the default format of the simple date picker as it wasn't compatible with the new Joomla date picker in Joomla 3.7
* The filter module didn't take into account the category restriction setting of filters in some cases.
* The products listings ordered by product\_name with Falang didn't list the products in the correct order for products without translations for the current language.
* We've added a fix for item custom fields with a restriction on categories.
* The terms and conditions article translation with Falang didn't work properly.
* The orders were not being captured by TaxCloud in some cases.
* The popup was not closing properly with the PDF invoice plugin on the frontend.
* We've fixed the display of product custom fields in the backend listing when the fields have a category restriction.
* The bought products were not displaying properly on wishlists since HikaShop 3.
* The discounts might not apply to prices properly on listings in some cases.
* The variants didn't had all the main product data and this resulted in the badges missing after changing the characteristic selection on the product page.
* The registration after guest checkout was proposed even when the Joomla registration was deactivated.
* The quantity layout wasn't taken into account properly for products with characteristics.
* On listings of variant with one add to cart button per product the quantity of the main product wasn't properly taken into account.
* On listings of variant with one add to cart button per product, the sart/end sale dates of the main product wasn't properly taken into account.
* It wasn't possible to remove a sale start/end date in a product once setup with Joomla 3.7.
* The email history menu was still displaying in the backend even when the access level for it was deactivated in the HikaShop configuration.
* The buttons on the cart manager were not correct when not logged in with the mutlicart enabled or the wishlist enabled.
* Variants listings on the product page were not displaying properly with HikaShop 3.1.0.
* We've fixed some warnings when displaying the characteristics selection in list in some cases.
* The canonical URLs were not handled properly when used in the backend (the links to the product page on the order details page for example).
* The checkout cart now display a message when it is updated via the submit of the full page (and not in ajax).
* We added a success message when the coupon is updated via a whole step submit instead of an ajax refresh.
* We added some fixes for the checkout coupon block in the new checkout.
* The shipping fee passed to TaxCloud was rounded which would be incorrect if your shipping fees were not round numbers.
* The variant edition was broken when the variant was configured with a price restricted to one or several specific users.
* Popups were displaying when pressing enter on the input text fields of the HikaShop configuration page.
* We've added various fixes to handle the loading of the "item fields values".
* The legacy settings default value was not consistent just after the installation.
* We restored the support of the setting which allow to display the checkout bar without the "end" for the new checkout.
* The price of products without price but with variants with price was not displaying on the products listing due to a side-effect of the code changes to support variants on discounts in HikaShop 3.1.0.
* The add=0 parameter in order to replace the quantity of a product in the cart instead of adding it wasn't taken into account.
* We've improved the loading of item custom fields in the checkout cart and the cart module.
* We now display a correct error message when the login/registration form is submitted on the checkout without filling anything or clicking on any button.
* We've fixed some warnings with the user points plugin.
* The invoices and shipping invoices were not displaing the custom item fields in some cases.
* The "Unkown" charset on the import interface wasn't working properly.
* We've fixed a warning on listings in some rare cases.
* We fixed a PHP compatibility issue we were having with the "shopclosehours" plugin.
* The "default" style, if used, could mess with the responsiveness of the listings.
* The users activating their user account weren't redirected to the correct page when registering through the standalone registration form.
* The add to wishlist button might not work in some rare cases with the add to cart legacy setting activated and old view overrides.
* We fixed an issue we were having with warehouses and product variants, now variants are properly retrieving the warehouse of the main product.
* The cart and wishlist print button didn't work properly since HikaShop 3.0.0.
* In some rare case with a lot of categories, the product listing of the backend could crash because of a missing check in the custom product fields loading mechanism.
* When the auto loaded setting of a coupon already used in carts was changed in the backend, it would create indesirable effects. We now remove the coupon in the cart in such case so that the cart is loaded properly and it will avoid any indesirable effects.
* In some rare case, it would be possible for the coupon taxes to be calculated wrongly.
* The total without tax would be displayed with a wrong value in emails for orders with a total of 0 and a coupon applied to them.
* The coupon value could be displayed incorrectly in the checkout when the total amount of the taxes would be 0 (after the coupon would apply).
* It was still possible in some cases for the language of the email notifications to not be in the correct language.
* We fixed some issue with the wishlist updates after the purchase from someone else (so that two people don't buy the same thing on a wishlist).
* The ip/geolocation data was missing on the new order edition view of the backend.
* We fixed an issue with the displaying of the back-end "Dashboard" button that was displayed via "Hikashop->Documentation"

#### Improvements (58)

* We do not include anymore custom text fields into the sample data SQL file.
* If a wishlist was shared publicly or by email and that the menu item to access the management of that wishlist was not public or guest, the Joomla ACL system would still require the user to login to access the wishlist if using the share link. We now automatically detect that and replace the Itemid in the share link so that the link would still work.
* The "description" tab on the tabular layout will now be removed if the description of the product is empty.
* The custom order fields now keep the faulty text in the inputs on error in the new checkout.
* We've added a new IPN system for the Paypal Website Payments Pro Hosted Payment plugin which will help with "invalid" IPN issues.
* We've added a new IPN system for the Paypal Payment plugin which will help with "invalid" IPN issues.
* The custom fields of the type link didn't work properly if you didn't enter a URL in the URL input.
* We've improved the javascript for the height consistency of products and categories listings.
* We've improved the "Check Database" feature to handle missing categories.
* The notification emails of the waitlist system will now be served in the language of the user instead of the main language of the website.
* The products/categories boxes with the "image and description" layout are now responsive.
* We improved the add to cart process to avoid an error with PHP 5.2
* The EU tax rules plugin has been updated as Romania tax rates have changed.
* We've improved the handling of jQuery for some rare cases with the chosen library.
* We've improved the Google Analytics plugin to better handle the sending of the orders data so that the source is taken into account.
* We improved the name of the display section on the cart module settings page
* The address edition interface on the new checkout is now more responsive.
* We have fixed some issue but also improved our Virtuemart to Hikashop import system.
* The cursor filters now better display the prices.
* You can now sort the products by price on the listing of the products in the backend.
* We now display a message on the vote form when it is not available because you're not logged in or you didn't purchase yet the product.
* Belarus states have been modified to Russian as it is more spoken than Belarusian and thus it should be easier to understand for people from Belarus.
* We improved the loading of the id based on the alias for the router when using Falang
* We now prevent bots and crawlers from adding products to the cart as it generates carts for no reasons.
* We now remove the product/listing or category/listing part of the URL when using filters from the filter module if the destination menu item is a category or product listing menu item as it is not necessary.
* Some search engines would index the AJAX URLs which should not be indexed so we now prevent that.
* We've updated the URL endpoints for VirtualMerchant/Elavon payment gateway.
* We extracted the "cid" and "blockpos" parameters from the checkout payment & shipping AJAX URLs in order to get a better support of third party SEF extensions.
* The refresh and delete icons were not inlined with the quantity field on the checkout.
* We now force TLS 1.2 for virtualmerchant / Elavon.
* The VirtueMart 2 import now supports the order statuses import for the new order statuses system of HikaShop 3.
* We now prevent templates from breaking the display of the responsive cart on the checkout.
* We Updated the jQuery libraries and added support for the latest versions of Joomla 3.7.
* The system now checks that the custom fields column name to forbid "tags" as it is used internally and the custom field won't work properly in that case.
* We move the jquery and jquery-ui at the beginning of the head if there to avoid having them loaded after HikaShop and breaking the javascript of HikaShop.
* Plugins can now create their own cart markers to support dynamic refresh and checkout submit step.
* Invalid quantities are skipped during the cart products update.
* The HikaShop checkQuantity javascript function can now restore the previous quantity value in the field if the entered value is not a number.
* The order product "save" function now returns an array with the links between the "cart\_product\_id" and the "order\_product\_id" ; that data is available in the order object afterwards.
* We've replaced tmpl=ajax by tmpl=raw in the URL parameters of AJAX requests to avoid issues with some security extensions.
* We've improved the CSS of the forms on the frontend of HikaShop to fix their display with the latest changes of Joomla 3.7.
* We updated the fontawesome library to the latest version.
* We've improved the backend statistics to better handle long product names.
* We now force TLS v1.2 to be used for PaymentExpress as the other versions will be deprecated in October.
* We added the BYN currency.
* The sample data now use the configured Joomla temp folder.
* We avoid the creation of an order token for orders which are not "sale".
* The invoice number format setting now supports the {user } tags like the order number format setting.
* The checkout now verifies that the customer entered a CCV in the credit card form if the "ask CCV" setting of the payment method is activated, or if the plugin requests it to be asked to the customer.
* We improved the CSS for the handling of out of stock variants on the product page.
* HikaShop will now be able to properly resize the images even if the extension in the filename doesn't correspond to the real format of the image (png instead of jpg for example).
* The prices are now ordered from the cheapest to the most expensive in the prices listing of products in the backend.
* The partner will now be linked to the customer user account when the "Add partner to user account" setting is activated and that the customer.
* We do not display anymore the remove icon for the coupons on the checkout if the coupon was auto loaded since it can't be deleted anyway.
* The Canada Post shipping method now properly support shop with multi-currencies.
* The Fedex shipping method now properly support shop with multi-currencies.
* The old carts are now removed from the user account when logging in with a new cart and the "multi cart" setting is turned off since we only want one cart maximum for the user.
* The search on the product selector now also support variants, like the browsing through the category tree.

#### New features (12)

* We migrated from JRequest to JInput for the filtering of data in order to prepare for Joomla 4 and improve the compatibility with the latest versions of PHP 7.
* We now support JSession::checkToken for Joomla 3 (and 2.5) as JRequest is now in legacy.
* You can now reset the invoice id every day in the HikaShop configuration page.
* You can now use the "coupon" parameter in the add to cart URL to automatically add a coupon while adding a product to the cart.
* The guest checkout system now displays the email address the user has entered and has a new button in order to allow the customer to change his information.
* You can now select a tax category for the coupons generated for the newsletters through the AcyMailing integration.
* You can now create menu items of HikaShop for the backend menu of your website.
* We now handle the enter key press on the new checkout to use the AJAX system.
* We've rewritten the carousel system from the ground up to not use mootools.
* The carousel system is now responsive, and more easily customizable.
* The IP address of the user is now stored when creating a new cart/wishlist. It is displayed on the carts/wishlists listing in the backend.
* It is now possible to deactivate the popup image display on the product page with the "image popup mode" setting of the HikaShop configuration.

### HikaShop 3.1.1

**Release date : June, 01 2017**

[List of all the files changed between the 3.1.0 and the 3.1.1](https://pastebin.com/WP2wMeau)

#### Bug fixes (10)

* **Security fix on sort filters for HikaShop Business.**
* Various fixes to handle the loading of the "item fields values".
* The shipping fee passed to TaxCloud was rounded which would be incorrect if your shipping fees were not round numbers.
* The variant edition was broken when the variant was configured with a price restricted to one or several specific users.
* The legacy settings default value was not consistent just after the installation.
* Restore the support of the setting which allow to display the checkout bar without the "end".
* The price of products without price but with variants with price was not displaying on the products listing due to a side-effect of the code changes to support variants on discounts in HikaShop 3.1.0.
* The add=0 parameter in order to replace the quantity of a product in the cart instead of adding it wasn't taken into account.
* We now display a correct error message when the login/registration form is submitted on the checkout without filling anything or clicking on any button.
* The invoices and shipping invoices were not displaing the custom item fields in some cases.
* The "Unkown" charset on the import interface wasn't working properly.

### HikaShop 3.1.0

**Release date : May, 26 2017**

[List of all the files changed between the 3.0.1 and the 3.1.0](https://pastebin.com/0kgyG7t2)

#### Bug fixes (92)

* The pay now function didn't work properly with the new checkout and payment plugins where the credit card information has to be entered on the website.
* The SVEA webpay plugin didn't work properly with the new checkout system.
* In some cases the "registration not allowed" message might be missing from the checkout when the registration was deactivated in the Joomla user manager even though the users couldn't register.
* The products listings on the frontend would crash when selecting a custom product field with a number as column name in the ordering column setting (that should not be done normally...).
* The type parameter of cart display menu items was not taken into account properly when the user was not logged in.
* The type parameter of carts listing menu items was not taken into account properly.
* Using the checkout legacy, the user points plugin could potentially generate a warning.
* The cart could be potentially display a successfully saved message when saving the cart on the cart display page after changing the quantity of a product without first clicking somewhere else on the page.
* The products options' order could be lost in some cases when saving the product.
* The menu items of HikaShop in the backend were lost if you installed/updated your HikaShop after updating your Joomla to the 3.7.
* We fixed a warning on the display of the quantity input when "show select price" is selected while no prices are filled.
* We fixed a fatal error with the new checkout and the ReCaptcha plugin.
* The Recaptcha plugin now supports properly the new checkout system.
* The custom fields of the type "text" didn't handle the default value properly for some tables.
* The address format setting wasn't taken into account in the backend as it should have.
* Error messages were not displaying properly by the notification system when a product couldn't be added to the cart and no cart existed yet.
* We fixed an issue with the way useful/useless buttons for votes and comments were handled.
* We fixed some warning with product mass actions in some special cases.
* We fixed an issue with the way shipping methods were displayed through the back-end order detail page.
* The successful message was wrong when moving a product from a cart/wishlist to a new wishlist.
* Cyrillic characters were not handled properly for the automatic generation of the keywords.
* The error messages of custom item fields were not being displayed in the notification system when an add to cart was refused because of a custom item field.
* The PayPal Advanced plugin didn't work properly with HikaShop 3.
* The "choose options" buttons to the product page could in some cases end up with a different link than the name/image on the listings.
* A product added several times to the cart would display on several lines since HikaShop 3 when it had a custom item field of the type "custom text" configured for it.
* The mail attachment files were not stored in the correct folder since HikaShop 3.
* The new checkout system didn't take into account the tax zone override setting of the selected shipping method.
* The cart block wasn't refreshed in ajax when the shipping method was changed that the taxes were modified because of it.
* The invoice didn't display custom order fields properly since Hikashop 3.
* The user points payment plugin was creating an error when configured for the points to be used as real coupons on the checkout.
* The custom order fields edition interface in the backend didn't work properly in some cases since HikaShop 3.
* The shipping methods were not refreshed properly when the shipping address was modified with the new checkout system.
* The "display add to cart button for free products" setting didn't work porperly with the "add to cart legacy" turned off on the listings of products.
* We fixed an error with the "check database" function when it is used with the HikaShop AcyMailing plugin enabled while AcyMailing is not installed on the website.
* The products with options weren't taken into account properly by payment plugins with the "send order details" option activated when using the "pay now" button of the orders listing on the frontend.
* The default value for custom fields of the type radio and checkbox wasn't taken into account.
* The shipping methods would not refresh when the shipping address information was updated with the new checkout, only after a full page refresh.
* The flat amount discounts could affect prices in other currencies.
* We fixed a MySQL query error on some rare cases when a custom zone field is being created in the backend.
* When the login was deactivated on the checkout and that the customer wouldn't fill in the registration/guest form and use the main "finish"/"next" button to validate the whole step, the system would display an error message regarding the password being empty instead of checking the registration/guest form fields.
* Custom item fields could be not displayed on the new checkout in some cases.
* The compare button didn't work properly on products listings when the listing sub element filter setting was set to "group by category".
* When an address was deleted on the checkout while already used by another order, the new checkout would refresh the address view with the address still selected.
* In some rare cases, the checkout would be blocked because the cart product entry would be updated in the middle of the checks without actually changing any data besides the modified timestamp. We now properly ignore that timestamp for the cart markers so that the order can be finished successfully in such cases.
* The required custom order fields without any product or category restriction wouldn't be enforced prorperly during the checkout.
* The "back" button on the cart edition page now correctly brings you back on the user control panel when the "enable multicart" setting is turned off in the HikaShop configuration.
* The in stock and text filters could potentially not work when the filter had been previously configured as another type of filter.
* The system would generate a MySQL error during the add to cart process when the column name of a custom item field was an integer.
* The paypal payment redirect could be refused by PayPal in some rare cases since the PayPal update of April.
* The limits on quantities didn't take into account the quantity of the products already in the cart properly.
* The address block was not refreshed when the shipping method was changed and that the shipping address override setting of the shipping methods was being used.
* The currency selection when adding a new product price might not have the correct value in some cases.
* The PayPal Express Checkout plugin didn't display an error message when the server was not able to connect to PayPal and that the debug mode of the plugin was turned off.
* The notifications of add to cart could potentially go behind the header of Helix based templates.
* The VAT number check result wasn't handled properply when editing/creating an address with the new checkout.
* The custom item fields didn't display properly on the listings of products with the "add to cart legacy" turned on.
* The shipping address override setting of shipping plugins didn't work properly with the new checkout.
* The price override plugins couldn't modify the display of the custom item field values anymore.
* We fixed the report display in check database so tables with just "auto increment" and "primary key" are still displayed as "checked".
* TinyMCE was breaking the variant save process with the Edge browser. We now deactivate TinyMCE for the variants editing when we detect that Edge is being used to circumvent the problem as we couldn't find any better alternative. It still works fine for all other browsers or other editors.
* We now correctly hide unpublished variants through front-end product pages.
* The card type selection didn't work properly on the new checkout when used.
* Using different currencies could, in some rare cases, block the new checkout on some steps.
* The out of stock plugin didn't handle the value 0 properly for the stock limit.
* The group by category option didn't work properly on products listings of menu items of the type "HikaShop category listing" with the "brand" category selected.
* The infinite scroll didn't work properly with cursor filters.
* The currency switcher could potentially lock the checkout in some cases.
* The mini description was not hidden anymore by default on the tabular product page layout.
* The error message when the last product of a cart becomes out of stock while on the checkout wasn't displayed.
* When the variants of a product had a limited stock each, and that you were adding several different variants of the product to the cart, the total quantity of the variants in the cart was taken into account to check the available stock of each variant instead of the total quantity of the corresponding variant only.
* It wasn't possible to save the share/name of a cart/wishlist on the frontend unless you also change a quantity of a product as well.
* The payment methods list might not refresh in some cases on the new checkout even though it should have because of too strong caching.
* The language parameter wasn't always in a valid format with the CM-CIC plugin.
* When the login view wasn't in the checkout workflow the cancel link on the payment gateway would redirect back to a login page instead of cancelling the order and redirecting to the checkout.
* When products with variants had their variants with a quantity set, the check wasn't done properly when the variant was added to the cart and the items of the same variant already in the cart would also be removed with the variant not added.
* The customer email wasn't displayed properly on the order admin notification.
* The "convert" button of the legacy checkout didn't work properly.
* The meta description auto fill didn't work anymore.
* The user points were not displayed properly with HikaShop 3.
* We've fixed some notices on the cart view of the new checkout in some cases.
* The access level setting on the "update / about" wasn't checked properly on the display of the view.
* The cancel URL didn't work properly in guest mode with the new checkout.
* The login errors could be remanant on the next view with the new checkout in some cases.
* The cancel URL on the payment gateways didn't work properly with the guest mode on the new checkout system.
* The filter checkboxes on custom fields with values didn't work properly in redirect POST mode.
* Advanced date picker custom fields were not working anymore in some cases.
* When the "Related products from cart only" setting was turned on in a module or menu item, it would generate a MySQL error.
* Dashes in filters name could sometimes create a MySQL error on frontend listings when using the filter.
* We fixed a potential double call in google analytics when forcing the "direct call".
* The new checkout didn't redirect to the URL when the cart was empty and the last product of the cart was removed.
* The new price edition interface didn't work properly with the Essential and Starter editions in some rare cases.
* The mass action CSV import filter imported prices with a default minimum price quantity of 1 instead of 0 and the Google Products plugin didn't handle that properly. We've fixed both the Google Products plugin so that it can support either value, and the mass action import so that it set the correct value.

#### Improvements (49)

* We improved the error handling for PayPal Advanced.
* The options system now use our own library to avoid issues with jQuery/Mootools.
* We updated the datepickerfield plugin to support the new field display system and better display on Joomla 3.7 on the frontend.
* We now allow up to 3 digits after the last dash on the Google Analytics plugin account number.
* The FedEx shipping plugin can now be used with dimensionless products.
* We've added the required stars to the email and name fields of the HikaShop contact form.
* The delete setting of the HikaShop product cron update plugin is now taken into accoun by the import system in order to not delete the variants of the products being imported automatically if that option is turned off.
* The global on listing system now supports AJAX with the new add to cart system of HikaShop 3.
* We modified a bit the Recaptcha plugin to make it fully compatible with JCBConnect.
* The pagination now has a proper href attribute on the frontend which should help for SEO.
* We've removed the itemprop="Product" microdata attribute on the product page as it's not valid per the W3C validator (even though it's not a problem for Google's testing tool.
* We now remove the "for" attribute on custom field labels when it is not necessary to have better HTML output.
* We added the support of the creation and modification dates for products and categories for the integration with site map extensions.
* Plugin controllers can now be used in the front-end too.
* The layout of the registration form, the login form and the custom order fields form on the new checkout have been standardized and made better template-proof.
* We optimized the group package algorithm to properly respect package size/weight limitations.
* We've added a "proceed to checkout" button on the cart display page of the user control panel. So that you can easily checkout with a cart from there.
* We now have a URL and a Text input for custom fields of the type "link" so that you can enter both easily in your custom field.
* We better order the tax rates on the checkout (used for cumulative tax rules).
* Chozen is now supported on the new checkout when views are refreshed.
* The RedShop import now supports the new column names for the RedShop tax table.
* The category\_id was not available in the trigger "onAfterCategoryCreate".
* We do not display anymore the main product price on the product page when the variants listing below has different prices for the different variants.
* We do not include "mootools" when using "chosen" on Joomla 3.3 or newer as it is not necessary anymore.
* We updated the credit card numbers for the new checkout of HikaShop 3.
* The checkout now make sure that regardless of how you configure your checkout, as long as you have the address view in the checkout workflow, you need to have an address selected/entered by the customer.
* The product copy, product export and product import systems now support bundles.
* We now display the user email instead of the name for the user restriction on a price when the user is a guest (and thus doesn't have a name in a Joomla user account).
* The VAT number check system behaves better now when the address country field has been disabled on the addreses.
* We've added a small message for required fields on the address edition page, like there is on the registration form.
* We now limit the size of the descriptions in the Google Products XML to 5000 characters as Google doesn't accept more.
* The search results could have a strange title when the product name and another translatable field matched with the search result. We now take the product name in priority if it matches.
* The access level restrictions are now displayed for shipping methods on the shipping methods listing.
* We added 2 missing states for Nigeria.
* We added a patch to allow filter modules to work on the products listing of vendor pages.
* We now remove the popup address selector choice when the checkout legacy mode is turned off since the new checkout doesn't support it (not good for responsive and prone to bugs).
* The OK button in the Vex notify popups was not modifiable.
* We now deactivate the next / finish button on the checkout when the customer clicks on it.
* The Stripe payment plugin was improved.
* We now set the category ordering automatically during the import when new categories are created.
* We now check the cart id for which the confirm is requested at the end of the checkout, that way even if you refresh the confirm page, you won't get an order created again for payment plugins without redirection to the payment gateway page.
* The order page link sent in the email notifications now uses your user control panel menu item or your order listing menu item in the link if you configured one.
* We now use the cart's user prices and discounts when displaying the cart on the backend cart edition interface instead of the current user's.
* We have added the new "group package" algorithm into the code of the UPS shipping plugin.
* The "add to cart" HTML link of the product edition interface now has an Itemid parameter so that the link will always work.
* The product link on the order edition in the backend now has an Itemid so that the link will always work.
* The "add to cart" HTML link of the product edition interface supports the canonical URL of the products.
* The product link on the order edition in the backend supports the canonical URL of the products.
* The MondialRelay plugin is now compatible with all the versions of HikaShop.
* It is now possible to add custom access level controls on the HikaShop configuration through plugins

#### New features (11)

* We've added a "Return URL" parameter to the credit card plugin.
* The HikaShop modules now have an extra "Display on contact page" setting in order to display/hide them on the contact page regardless of the current menu item.
* The mini cart module now supports the display settings for the price so that you can more easily tweak it without the need for translation overrides or view modification.
* The support for Komento has been added so that you can have comments on products through that extension.
* We've added an "inline" setting to the radio and checkbox custom fields so that you can better configure how they should display without needing CSS.
* You can now select variants for coupons and discounts and not only products.
* You can now select variants in bundles and not only products.
* There is now a new setting in the HikaShop Geolocation plugin in order to allow it to work after the initilisation of Joomla or after the routing of Joomla. This can potentially avoid issues in some rare cases.
* You can now use external images for your products.
* It is now possible to rapidely see what element is displayed by which view file thanks to the new "Display view files" setting in the HikaShop configuration.
* It is now possible to allow customers purchasing with the guest checkout to create their account after their order.
* The cart and Email history sections of the backend now have their access level settings in the HikaShop configuration

### HikaShop 3.0.1

**Release date : March, 3 2017**

[List of all the files changed between the 3.0.0 and the 3.0.1](http://pastebin.com/RtKqSpCR)

#### Bug fixes (116)

* The product\_related\_quantity column could sometimes not be added to the database and result in query errors after an update to HikaShop 3, requiring a "check database" to fix the issue.
* When a category filter is dynamic but doesn't have a category selected for it, it will display categories of different levels together so instead of basing the ordering on the ordering of the categories, we now sort them in alphabetical order.
* The "show taxed prices" setting of the HikaShop configuration wasn't taken into account properly on the cart view of the new checkout The use of the HikaShop Google Analytics plugin on PHP7 could sometimes lead to blank pages in some cases. Fix a warning when saving a cart in the front-end interface.
* Wishlist menu items would wrongly display the carts.
* We fixed a SQL fatal error in the category listing with the out of stock setting being turned on.
* We fixed several issues with the error messages display when products are added/removed from the cart and that the action is not possible due to restrictions.
* We've fixed several checks on the restrictions when the products are added/removed.
* We fixed an issue that was happening when saving email customizations via "Hikashop->System->Emails".
* The custom product fields didn't display properly on the cart/wishlist details page on the frontend.
* We fixed a imageHelper issue in the new checkout cart when there is no thumbnail generation.
* The maximum quantity per order of products didn't work properly when it was set to 1.
* We now properly display the stock on the variants listing when the add to cart button is global.
* The percentage coupons without tax category were not calculated without tax with the "after tax" mode selected.
* The prices were always displayed without taxes on the checkout cart.
* We now take into account the quantity of other variants of the same product being added at the same time to the cart if the min/max restrictions come from the main product so that the restriction can be checked to the global quantity.
* The brands listings with the "Only with products" setting activated didn't display the brands properly.
* We fixed a MySQL issue when the product\_sales is 0 and the operation can result a negative value.
* When the user session times out and the token is invalid after an action of the customer on the AJAX checkout, we now redirect the customer to the "URL where to redirect when the cart is empty" instead of displaying an ugly error.
* The quantity inputs weren't taken into account properly on the variants listing of the product page in "one per product" mode for the add to cart buttons.
* Coupons with zone restrictions could generate a fatal error on the checkout in some cases.
* We now avoid warnings on the backend edition interface for products with variants without sorting.
* We fixed a rounding issue with the WorldPay plugin.
* We fixed a MySQL query error with the filtering system when a cursor filter is used on the weight/dimension fields with invalid units.
* The required star wasn't placed correctly with the new checkout on the address edition and the control panel address edition.
* We fixed some notices with the cursor filters on other things than prices.
* The add to cart notifications now handle content tags and modules.
* The popup notifications for the new add to cart now also have a proceed to checkout button.
* The custom fields of the table "user", "address" and "order" now properly support the "display limited to" setting on the new checkout interface.
* We fixed a MySQL query error in some rare cases when cancelling an order: The product price would display on a second row instead of next to the product name for products with options on the order details page and invoice of the frontend with the options grouped with the product.
* The unit price of products with options when the options are grouped with products was wrong on the cart view of the new checkout.
* We added some missing closing DIV
* The votes that had to be approved by the administrator were counted twice by the vote system.
* The use of some plugins using the additional system could result in some cases in an error.
* The "hide" setting of the cart module didn't work properly anymore.
* The payment payments using the credit card form of the HikaShop checkout now work properly with the new checkout system.
* We fixed some user session issue with the cart being lost after login in some cases.
* The availability checks on product add to cart were not done properly for products with variants.
* When we save an email template, we now correctly check if it's a core email template file and if we can save/edit it.
* The bottom part of the show\_default view file has been extracted from the row-fluid system.
* We fixed the hk-row div on the default layout of the product page which could cause some backward compatibility issue.
* The breadcrumb could contain the product page title instead of the product name in some cases.
* When you create a new address in the new checkout, it is now properly set as the current address and it takes into account if you've clicked on the new button for the billing or for the shipping address.
* The "new" choice of the address dropdown selector didn't work with the new checkout.
* The "new" button was displayed with the dropdown selector when it shouldn't.
* The cursor filter now properly display by default in HikaShop 3.0.0.
* We've fixed some invalid HTML in the "pane" and "fade" product listings layouts.
* The order listing view of the frontend is now backward compatible.
* The variant saving was failing in some case due to a MySQL query in some cases.
* We've updated the invoice display in order to use the new custom fields display settings.
* The infinite scroll was not working in some cases.
* We added back the CSS for the legacy checkout progress bar in the frontend default CSS.
* We properly handle the update of product options when "group options" is not set.
* We added a fix regarding shipping methods selection through checkout workflow.
* The variants didn't get their tax calculated properly in some cases on the checkout/cart.
* We fixed a fatal error in the remarketing plugin.
* The VAT amount sent to Google Analytics could be wrong in some cases.
* The best customer link didn't work on the new dashboard.
* We force the domain name in the infinite scroll URL so the URL will be fully compatible with SEF and bad templates.
* The quantity fields of products listings and cart modules could collide in legacy mode in some cases.
* Custom order statuses were not displayed properly everywhere.
* The waitlist manager now properly handles variants.
* The Ajax file/image custom fields of the table "product" didn't work anymore.
* We now correctly display values which were set for "Back-end Form" and "Back-end Listing" custom field options.
* We've fixed many warnings here and there.
* The Ajax type custom fields didn't work properly.
* Handle the "cart/show/cart\_type-wishlist" URL to display the current user wishlist.
* We force the clean of the Joomla cache when the cart is updated with the new cart system.
* We fixed an issue with the address cache during the checkout.
* The onHikashopAfterDisplayView trigger wasn't called properly in the new checkout when the views were refresh in AJAX.
* The height of images could sometimes be forces to 0 because of wrong CSS.
* The saving of the zone restriction for discounts didn't work anymore.
* We added some fixes regarding the selection of the shipping methods with the use of warehouses.
* The ordering of the files attached to products could be incorrect in the order notifications, invoices and order details page with a lot of files.
* We removed the quantity restrictions while editing a wishlist in the front-end as they shouldn't apply.
* We've fixed the menu item edition with Joomla 3.7
* We've fixed the HikaShop menu icons with Joomla 3.7
* The next/previous buttons on the product page were not displaying unless the default style was selected.
* The menu items checkout and checkout legacy now both work properly regardless of wether the checkout is in legacy mode or not.
* We fixed an issue with a saving error when the cart do not have shipping.
* We fixed the delete address in checkout legacy and "popup" address edition.
* Some settings of coupons and discounts didn't work anymore.
* We added a fix to correctly support the add to cart button in legacy mode.
* The product insert in Joomla article plugin is now fully compatible with Hikashop 3.
* We now properly handle required custom fields on listings.
* We fixed some warnings in the cart when a coupon is applied.
* The icon of the Product content tag button wasn't displaying anymore it in the editor of Joomla articles with recent versions of Joomla.
* A variable was missing when processing coupons resulting in warnings and miscalculations of currency conversion for coupons on the cart.
* The publish/unpublish button of the emails in HikaShop Starter didn't work.
* The bottom area on the product page was not displaying properly by default with HikaShop 3.
* We added many fixed to the login/registration of the new checkout system.
* We fixed an issue which was preventing shipping plugins from correctly reading customers selected shipping address during the checkout workflow.
* We improved the filters checks to avoid MySQL query errors.
* We now properly handle the login error messages with the new checkout.
* We put back the div class name for the current step on the new checkout.
* We fixed an issue with the facebook like button in HikaShop 3.
* We now properly escape the search results on the user listing in the backend.
* We added a fix for the backend cart listing search.
* The continue button was not displaying with the new checkout.
* We added a fix for the T&C view in checkout legacy.
* The buttons classes are now consistent on the new checkout system.
* The convert cart to wishlist button of the legacy checkout didn't work anymore since HikaShop 3.0.0
* The checkout cart quantity refresh didn't work with the dropdown quantity input layout.
* The cart was not responsive on the checkout of HikaShop 3.0.0 with the style set to none in the HikaShop configuration.
* The discount/coupon edit view was broken on the Starter edition with HikaShop 3.0.0
* We now properly hide the specification tab if no content is to be displayed in it.
* The Shop Closed Hours plugin was not installed by default.
* The comparison page now supports properly the products with variants/options/custom item fields when the add to cart button display is turned on on the comparison page.
* The finalization of orders in the checkout could rarely result in blank pages with the new checkout.
* AcyMailing filters on product categories could result in a MySQL query error.
* We've fixed a MySQL query error with category deletion mass actions.
* The "print" buttons of carts were not working properly anymore.
* The state address field didn't work properly in the backend anymore when the country address field was deactivated.
* We added a fix for the creation of mass actions on PHP7 which would break in some cases.
* The quantity inputs would have a value of zero on the product page when the "Add to cart on listings" setting would be activated.
* We added a fix for the added quantity of product options.
* The tax calculations on the payment fees were not working properly with HikaShop 3.0.0
* We added a fix for displaying error when there is no payment method in checkout legacy mode.

#### Improvements (37)

* We externalized the "vex" support for the cart notify plugin in a separate JS file.
* The overrides of the buttons are now only for the 'successfully add to cart', not for wishlist or errors.
* We added a "check all" checkbox in the cart display on the frontend for ease of use.
* You can now configure the order statuses used for the statistics on the new HikaShop dashboard.
* We removed "php" extension while editing views in the backend to avoid some security extensions blocking the edition of views.
* We moved "hikabtn" from frontend.css to hikashop.css for better update backward compatibility
* we cleaned the CSS and implementation of some colors for the buttons (primary / success / danger)
* We added the "radio" type (booleanlist / radiolist) to display radio with "Hika bootstrap3 style" on the frontend in the future.
* We optimized the way email template files path were built.
* The out of stock plugin now orders the products alphabetically on the notification email sent to the merchant.
* We improved the AJAX upload system in order to better handle the upload of big files on servers with a small max post size PHP setting.
* The "same address" option has been moved to the legacy area as it is not useful enough and thus has not been implemented in the new checkout, at least for now.
* We added a warning to the PayPal payment plugin when the OpenSSL version on the server is too old.
* We changed the passwd parameter used in the activation link to avoid the mod\_security module of Apache of blocking activation links.
* We added the support of the customer for the Stripe payment method.
* We now allow the advanced datepicker fields to work even with a date format without the display of the day.
* We improved the display of the "contact" button in product pages.
* The check on the uniqueness of the product code was done after the save and Joomla could halt the process if the UPDATE query failed because of the unique key on the product code. We've added a manually check in PHP before the save to prevent that and display a nice message instead.
* The checkout/end view can now link to the order even in guest checkout (thanks to the order token).
* We added the support of cURL for PayPal IPN.
* The check database button now also synchronize Joomla user accounts with HikaShop.
* We improved the error handling on the "check address" trigger of the TaxCloud plugin.
* We set the ordering to descending by default for the carts and users listing in the backend.
* We removed the textarea checkout workflow edition in the HikaShop configuration.
* The refresh button is not needed on the cart view of the checkout with dropdown quantity inputs.
* We improved the handling of the cancellation of the creation of an order at the end of the checkout when something goes wrong.
* The comparison system has been rewritten to be more flexible in the future and properly handle the button settings of HikaShop 3.
* We've removed the need for mootools for the comparison system.
* The template system of emails introduced in HikaShop 3.0.0 now has new triggers so that other extensions can add their own email templates.
* The "Check database" button available through the page "Hikashop->System->Configuration" will now also check tables primary keys and auto-increments attributes but also duplicated elements.
* We now force the error notification email to be send even if the order is already "invalid" in the PostFinance payment plugin.
* We've modified the style of Admin / Default email templates to align content to the left instead of center.
* We now synchornize the user emails with AcyMailing when you use the "check database" button.
* The new dashboard statistics now check the "invoice order statuses" setting to know how to filter the orders.
* Order unpaid statuses has now "created" as default value.
* We optimized the email template edition and selection.
* Files without names can now be edited on the product edition page.
* We added a rel=nofollow attribute to the add to cart and add to wishlist buttons of the new add to cart system so that they don't get indexed or crawled by search engines.
* The plugin "SagePay" has been removed. For more details please contact the HikaShop support team.

#### Features (3)

* Product prices can now be restricted per user.
* The export, import, mass actions also support prices per user.
* We created a new price edition interface in order to be more flexible in the future and easily add more restriction options to prices.

### HikaShop 3.0.0

**Release date : January, 17 2017**

[List of all the files changed between the 2.6.4 and the 3.0.0](http://pastebin.com/PqVrQcjg)

#### Bug fixes (72)

* The taxes might not be displayed in some cases in the invoice of the backend.
* We fixed an issue with the availability structured data element.
* The price microdata might be invalid in some cases.
* The price\_value\_with\_tax column wasn't handled properly in the mass action CSV export action.
* The related products module wasn't enabled in the "Modules under the product page" when HikaShop was being installed since HikaShop 2.0.
* We added a fix for the email process for the integration with JMS Multisites.
* We fixed an issue related to "display limited fields" and checkbox fields.
* Custom item fields might not display on the invoices in some rare cases when the custom fields were restricted to products and that these products had variants.
* We fixed the displaying of the "title number" / "index" columns on the views listing
* The order status was not translated properly in the notification emails when sent from the backend of the website when logged in with a language different from the customer and different from your own Joomla user settings.
* We fixed some warnings here and there.
* A product massaction adding a category to products already with that category would generate an error.
* A product massaction with two filters on the price would generate an error.
* The system was adding an extra br tag for paid files in the show\_block\_product\_files view file of the product page for no reason.
* Wishlist modules might not display properly in some cases.
* We added a fix for the categories restriction of custom item fields.
* We avoid a fatal error in some rare cases with the cart module.
* There were some notice messages for cursor filters based on something else than prices.
* The custom messages were not taken into account properly in some cases for required custom fields.
* The shipping and payment methods price was not displaying with the correct currency in some cases on the backend listing.
* The users could potentially access carts of other users if they had their cart URL and there is now a check to prevent that.
* We fixed an issue with the quote character in the custom fields regex.
* The wishlist access checks were not done properly in some cases.
* The debug data of the paypal plugin notification could be lost in some cases.
* The custom product field and product code values of products were swapped in the invoice of the backend.
* The special characters in HTML entities in product descriptions used as options would not display properly in the option tooltip.
* The view edition documentation help button wasn't working properly.
* The untaxed price didn't use the rounded tax amount with the floating tax mode activated and the "round prices during calculations" setting activated. This could result in the total of the order being off by a few cents in rare cases.
* The search results page could sometimes display an error when no results were found after using the filter module.
* We now correctly check shipping and payment methods after we update the cart.
* The out of stock notifications now display the name of the variants properly in the notification emails.
* We fixed a javascript error with the votes system.
* We avoid potential issues with the category explorer on some servers with the error reporting of Joomla activated.
* We fixed an issue with the display of the products on the products listing in the backend which could be twice on the results in some cases.
* The category filters displayed in "list" were not displaying properly.
* The discounts were not applied on the products listings anymore in some cases.
* We fixed the display of the tags in the email subjects.
* The default value of custom item fields wasn't properly taken into account for the "display limited to" setting.
* The categories filter didn't work properly when no category was selected in the "category" setting of the filter.
* The ordering of the wailists done by product name wasn't working properly for products with variants without name in them.
* The "most expensive" setting of the Google products plugin was not handled properly in some cases.
* There could be a warning with the ordering on the products listing.
* We fixed the display of the votes on some cases.
* The activate categories where not selected properly in some cases with the HikaShop content module.
* We fix an issue we had with the displaying of the "No shipping method was found" message.
* The tooltips didn't work properly in the backend in some cases.
* The active category was not auto selected anymore on categories listings.
* We fixed a few notices with the category feed in some cases.
* The add to cart button of the wishlist system didn't work properly anymore.
* The cart system didn't handle properly the min/max settings of variants.
* We make sure that the price advertized with the microdata uses a dot as a decimal separator.
* The user email was not properly added to the waitlist admin notification email.
* The default value of custom item fields was not handled properly.
* The default value of custom dropdown fields were not taken into account in some cases.
* When exporting the products via the mass action the category data was missing.
* The add to wishlist button might not be working in some cases.
* The quantity input didn't work properly on the cart page on the frontend when the products had options or characteristics or custom item fields.
* The "current cart" selection and display on the carts listing of the frontend was not functioning properly.
* The quantity amount of the carts on the carts listing of the frontend was not correct if options were added to the products.
* The custom item fields were not displaying properly on the cart manager when having restrictions on products/categories.
* The backend order edition interface could sometimes have a browser caching issue.
* The required setting of Ajax file and Ajax image custom fields were not taken into account properly.
* We added a patch for the display of the shipping method name for orders with a shipping method that isn't prelisted like with the BPost shipping plugin.
* The format of the date on some data of the reports export could sometimes create an error during the export.
* In some rare case, the frontend buttons of the HikaShop interface were not working.
* We fixed a FedEx issue that we had with product variants.
* The radio button characteristic display mode didn't auto select the variant when the default variant wasn't available.
* The footer of the products listing on invoices and email notifications was not aligned when custom fields of the table "product" would be displayed on them.
* We added a fix to the registration redirect plugin which made it not functional in some rare cases.
* The PDF invoice plugin didn't handle properly AJAX image and image custom fields in the invoice generation process.
* The export of products wouldn't work when you would try to export entries of the type "variant" without a main product (this should normally not happen...).
* On the product edition page, the variants listing was not ordered properly after a population, duplication or deletion of variants.
* The dropdown to filter emails in the email log listing didn't work in some cases.

#### Improvements (67)

* It is now impossible to delete the parent of a category, to avoid messing up the category tree.
* The comparison system now supports the quantity layout setting of products.
* We improved the way USPS rates are calculated.
* We now better handle the quantity field values when invalid data is entered by the customer.
* We added an error message when the "send details of orders" setting of the PayPal payment plugin is activated while the "round prices during calculations" setting is turned off in the HikaShop configuration.
* We have improved the group package algorithm of the FedEx shipping method.
* We have updated FedEx shipping package limit size.
* We have added the possibility to translate Canada Post services Name/Description using Hikashop translation files.
* We have added the possibility to translate UPS services Name/Description using Hikashop translation files.
* We have added the possibility to translate USPS services Name/Description using Hikashop translation files.
* We have added the possibility to translate FedEx services Name/Description using Hikashop translation files.
* We improved the display of the products listing on the PDF shipping invoice.
* We don't check anymore the category of the fields of filters based on fields if they don't have a category set.
* We now calculate the security string based on new parameters sent from the PostFinance platform.
* We improved the filter checks for mass actions as they might not be working properly in some cases.
* We removed the deprecated "currency" option in the MIGS payment plugin.
* The height aligment on the listings now uses the min-height instead of the height CSS parameter to define the height of the DIVs in order to reduce loading display issues.
* The authorize thank you page now redirects back to the shop automatically by default.
* The coupon value calculated out of the percentage value and the product prices now always take into account the taxes regardless of the "apply discount" setting of the HikaShop configuration.
* We now avoid saving the settings of the emails if they are the same as the main configuration settings.
* The users points gains are now also taken into account for variants when the points gain is restricted to categories.
* The donation plugin better handle the prices entered by the customer.
* The filters based on the prices now take into account the floating taxes price setting.
* The ACL setting of the prices in the products now have a select/none checkbox in order to make it easier to configure that setting.
* We improved the microdata for products without votes for the mini vote display.
* We now force TLS 1.2 for PayPal Advanced, Pro and PayPal Express Checkout payment plugins in case your hosting doesn't set TLS 1.2 by default (which it should)
* We improved the safeguards on the buffer cleaning for AJAX requests / exports to avoid endless loops on same strangely configured servers.
* The VAT number format check for Ireland was old and didn't take into account new VAT numbers.
* The "same address as billing" checkbox now auto submit the checkout form when clicked if the auto submit setting of the HikaShop configuration is activated for the legacy checkout.
* We improved the checkout to prevent browser caching.
* We now only display the regular expression check option for custom field types where it is necessary.
* We now allow the merchant to set a limit higher than 50 in the reports but we keep the warning.
* We now strip HTML tags in the characteristics dropdowns.
* The email address entered on the registration form is now checked for validation on the server-side too.
* We don't filter variant description in the backend by default.
* The file download system now uses the order token so that guests can download files attached to products in a more consistent way.
* We now display the helpful text on comments only if the helpful option is activated in the HikaShop configuration.
* The PayPal Express checkout plugin now supports the new checkout system in order to add properly the "Express checkout" button there.
* The user points system has been made compatible with the new checkout system.
* The limitation system supports the new cart and checkout systems.
* The global on listing system (one add to cart button for all the products of the listing) now supports the quantity input setting of the products.
* The CC and BCC fields can now be used and modified when sending order notifications from the backend.
* We added several improvements to the ShipStation plugin so that the shipping method, payment method user email and user telephone are sent to it for each order.
* The "Display add to cart button on product page" setting has been removed. Instead, a "Add to cart on listings" setting has been added.
* We removed the align attribute which is deprecated in HTML5.
* The main CSS of the frontend and the styling CSS have been separated in two CSS files for greater flexibility.
* You can now select a custom field in the "user group on registration" setting so that the user group of the customer upon registration can be based on what the customer selected in that custom field on the registration form.
* We now display an error message when displaying the entry form and that no custom entry fields have been created.
* The geolocation system now supports CloudFlare geolocation system.
* We moved the "include virtual products price" setting from the "restrictions" area to the generic configuration of shipping methods since that option also apply to the calculation of the shipping fee based on a percentage or with the "Use price per product" setting.
* Adding support of some special webserver configuration for the reading of the user address IP.
* We added a backup plan to automatically use cURL in the Recaptcha plugin if the file\_get\_contents connection mode doesn't work (probably blocked by the hosting).
* The product\_taxability\_code column of the TaxCloud plugin is now checked when you click on the "check database" button of the HikaShop configuration when the TaxCloud plugin is activated.
* The Amazon Pay payment plugin has been removed from the install package of HikaShop since Amazon Pay isn't supported anymore by Amazon.
* We added a tooltip on the filter remove icon link.
* We now have variables containing the HTML class corresponding to the number of column for labels and inputs on the registration form.
* We now store the current language in the order when it is created so that the email notifications can always be sent in the language of the customer.
* We improved the user edition interface.
* We introduced a new discount/coupon edition interface in the backend.
* Email overrides are now only saved if the code was modified.
* We added an error message on the view files edition when both CodeMirror and the normal text editor plugins are deactivated.
* We improved the display of the prices on the products listing in the backend so that it displays all the prices when no unit price has been set in the product.
* We've updated the AcyMailing integration for the API changes of AcyMailing
* We added a javascript trigger for the refresh of the price when options are selected on the product page.
* The product content tag system now supports variants to be selected and added inside Joomla content.
* We added the price of the products in the remarketing plugin.
* We updated the supported languages of ReCaptcha in the integration plugin.
* The custom fields edition interface has been improved.

#### Features (32)

* We've added a new checkout system which supports AJAX and is completely rewritten to be more flexible and easier to use.
* We've completely change the cart/wishlist system. It is now fully AJAX, provides a proper messaging system, and can auto update the cart modules on the page (several if necessary) and the checkout views on the page if necessary.
* There is now an option on menus and modules to activate/deactivate the "height consistency" system.
* We added a return URL option to the ATO SIPS v2 payment plugin
* We added an "include coupon" setting in the table reports so that you have more flexibility for the calculations.
* We added a group package option through the USPS shipping methods.
* Shipping prices per product are now correctly handled through the front-end vendor's product configuration page.
* We added a new option to the google products plugin in order to discard discounts when calculating the prices of the products.
* The content product tag plugin now also supports JEvents.
* The HikaShop User Account plugin has now a new option to have the Joomla profile save redirect back to the HikaShop user control panel.
* We optimized the size of the images used in the interface of HikaShop.
* The email system now has a template system so that you can easily change the header/footer used for all the emails at once.
* Most of the emails now also have the nice header/footer of order notifications ones.
* There is now a bundle feature in HikaShop. With it, you can include different products into one product with different quantities and the quantity of all the bundled products will be updated automatically when the bundle is purchased.
* Customers placing an order as guest can now access their order and invoice and pay their order from the order creation notification email.
* We added the support of PHP 7.1.
* The error messages have been improved on the checkout.
* A new plugin called "Hikashop Add to Cart notification Plugin" which works with the new cart system and allow for better "add to cart" success/failure messages.
* We've added an "infinite scroll" setting on products listings menu items so that it auto load more products on a page without the need for a pagination.
* The HikaShop configuration page has been reworked. It has less options, they are sorted in a more intuitive way, and the options now have tooltips.
* The address format can now be edited directly in the HikaShop configuration.
* The cart manager and wishlist manager in the user control panel on the frontend and the ones in the backend have been completely rewritten.
* The "Business hours" setting of the HikaShop configuration has been deprecated and you can now configure instead the Hikashop Shop Close Hours Plugin via the menu System>Plugins. It allows for more flexibility as you can have different open hours for different days and even several open hours ranges for the same day.
* The addresses manager on the user control panel has been redone in order to not use popups (and thus avoid conflicts with 3rd parties)
* A new dashboard display has been integrated in the backend of HikaShop
* We added the "CSS for butons" and "CSS for add to cart/wishlist buttons" options so that you can easily customize the buttons display by using the classes of your template.
* The order status configuration system in System>Order statuses has been completely rewritten. It is more robust and doesn't need any option in the HikaShop configuration page.
* The frontend of HikaShop has been almost completely rewritten to not need boostrap or mootools. We still have the carousel setting to work on for that.
* The System->Emails menu is now available in starter and essential so that you can enable/disable emails if necessary.
* The can now use the product\_sort\_price column in order to sort products listings by price easily.
* We've added a new display mode option for the XFBML display of facebook buttons with the HikaShop Social Networks plugin.
* You can now have products listings of related products of the products in the cart thanks to a new option in the products listings modules and menu items.
* The HikaShop User Account plugin has now a new option to have the Joomla profile save redirect back to the HikaShop user control panel.

### HikaShop 2.6.4

**Release date : September, 01 2016**

[List of all the files changed between the 2.6.3 and the 2.6.4](http://pastebin.com/EZZprXhH)

#### Bug fixes (54)

* The address information entered was being lost on the checkout when the customer would validate a new address but the server side check would detect an error.
* We fixed the add to wishlist button behavior.
* The checkbox selected filters on custom product fields were not always displaying properly.
* The username, name and email are not lost anymore when the password is refused because it doesn't meet the criteria on the registration form.
* If the category alias or the menu alias started with "limit" and that you had the "redirect POST mode" setting activated, the pagination would not be working properly.
* We fixed an issue with the import system from other ecommerce solutions which was importing the billing address as shipping address and ignoring the shipping addresses.
* We fixed a problem with the reports/widgets limited by categories with lots of sub categories where the report/widget would only take into account the product sales from 20 subcategories of the categories in the list.
* We adapted the UPS plugin so that it properly display "Negotiated rates" returned for the UPS platform.
* The error messages of the upload system were not displayed anymore to the user.
* The data sent to Google Analytics could be missing the currency and had a wrong tax amount when not using the direct call mode.
* We fixed an issue on the "show\_select\_price" quantity input value, the max value was limited by default.
* The "HikaShop Customers who bought..." filter (integration with AcyMailing) wasn't picking up any customers who bought product variants.
* We added a fix for the picHTML tag in the AcyMailing integration plugin.
* The "send email for new comments" setting was not working properly.
* The canonical URL field of categories was missing from the content element file for Falang/JoomFish.
* The default weight and dimension units were not used when generating variants.
* The delete button wasn't displayed for wishlists in some cases
* We fixed a MySQL query error with sorting filters in some rare cases.
* The default value of custom fields could be set when loading products data even though the fields where not loaded for these products.
* The access level filter of order mass actions was creating an error in some cases.
* We fixed an issue when using the csv import filter in the mass actions.
* The product import system better handles images meta data import and files name/description import.
* We added a fix to the VirtueMart 2/3 import to handle guest orders.
* Checkbox filters on brands didn't handle multiple brands being selected properly
* The number of products to be displayed on the listings of the frontend didn't work properly in some rare case with the redirect post mode setting activated and the use of filters on the same page.
* The variant names in search results could have HTML tags displayed as titles of the results.
* The import for Mijoshop, Redshop and OpenCart could potentially stop working after entering an unexisting step.
* Empty custom field values were not taken into account properly by the Google products plugin when generating the XML with custom fields column names being used.
* The comparison system wasn't handling properly the single quotes in product names.
* The coupons couldn't be selected properly in reports in the backend.
* The restrictions on categories and products were not properly taken into account for the server-side required check of custom order fields.
* We fixed an issue with the customer reports with categories restrictions which were not handled properly.
* We fixed a fatal error on Joomla 2.5 in some rare cases with the HikaShop product tag translation plugin.
* We now properly handle the product name added to the order when you add a variant with a name to an order from the backend interface.
* The copy system didn't copy the warehouse of the products.
* We fixed the display of category images on the backend listing when the text searched is included in the image filename.
* The carriage return were no more present in the comments.
* We fixed the text on the custom fields of type AJAX file.
* The conversion rate of the user points payment plugin didn't work properly when partial payments were disabled for other currencies than the main currency.
* We fixed an issue we had with the UPS calculation of number of package.
* The administrator notification email was not sent when there was no user for a new order.
* The advanced date picker fields had an issue with the language texts with special characters.
* The system wasn't displaying an error message when no credit card was entered on the credit card form of the checkout.
* We've added a fix for the advanced datepicker field type custom fields.
* We update the Australia Post V2 shipping plugin according to the "pac api update 2016", which means that we have added new weight/dimensions limits and services but that we also cleared and optimized the code.
* The mass actions with a CSV import of product didn't handle properly prices with a comma as decimal separator.
* We fixed several displaying issues we had while using User Points.
* We fixed the product custom field display in the view "listing table".
* We fixed the saving of custom item fields at the end of the checkout.
* We fixed a warning after the creation of custom item fields.
* We fixed an issue with the Sofort payment plugin.
* We fixed a problem with the display of orders without products needing too much resources.
* The microdata didn't handle properly the prices of variants.
* We fixed the microdata attributes that were added to related products prices on the product page for no reason.

#### Improvements (31)

* We removed Stripe and Sofort from the HikaShop packages. The plugins have been moved to GitHub (https://github.com/hikashop/)
* On the product edition page, the variants listing are now ordered properly after a population, duplication or deletion of variants.
* We now send the currency rate in the KashFlow plugin.
* We now properly escape the empty message setting of the cart module in the backend interface.
* We replaced the default horrible amex picture by a better one.
* The "show shipping" and "show coupon" settings of the cart module are now displayed even in mini-cart mode as they allow you to configure what price should be used in the mini cart.
* We adapted the billing information sent to the PayPal Integral platform
* We clarified FedEx "Dimension approximation" and "Use dimension" options.
* We now automatically add a target="\_blank" to the paypal form if we are within an iframe as paypal does not allow that.
* We now throw a 404 error when products are not found in order to improve SEO.
* Allow merchants to enter external URLs for downloads without having to store them locally (allows for cloud storage).
* We now check if the email address entered by the customer is valid on the waitlist form.
* We improved the display of error messages when shipping methods are blocked by product.
* The interface language of the PayBox payment gateway is now set by HikaShop when redirecting the customer there.
* HikaShop now stores the PayPal transaction ID in the orders even for invalid transactions.
* The waitlist notification plugin now returns the number of sent emails.
* The user points were not given for variants of products when the "product categories" setting of the user points plugin was being set to restrict the points given to only some categories of products.
* The previous/next buttons on the product page now circle around for better SEO.
* We improved the plugin trigger system for the View API.
* Wysiwyg custom field can now use Joomla content tags.
* You can now search carts with usernames or names in the carts listing of the backend.
* We added the refresh of the badges on the product page based on the variant selected.
* We now remove the keywords microdata added by Joomla on the tags that you can add to products in HikaShop as it is only valid for articles, not products.
* We improved the registration integration with Community Builder.
* The user id was missing from the address data when the address of an order was modified through the backend interface.
* We've updated the credit card numbers format check algorithms to support all credit card numbers currently available worldwide.
* We added a link to the order in the history of EasySocial points.
* We now load shipping and payment plugins on the after\_end view file so that the plugins can display their own stuff on the thank you page of HikaShop.
* The PDF invoice plugin now handles the new custom fields display options.
* We now allow the reordering of the products on leaf categories even in "all sub elements" mode.
* The product code column wasn't in the good position on the table layout of products listings when custom product fields were displayed on it.
* We now force the POST in AIM mode with the Authorize.net payment plugin.

#### Features (16)

* We added support for abandonned carts in the integration between AcyMailing and HikaShop.
* The Stripe payment plugin now supports the new API of Stripe.
* We added an option to delete the imported CSV file after the import in the HikaShop Product cron update plugin.
* We added an option to change the logic of the custom fields multiple select and checkbox filters.
* The products listings now have an option to display only discounted products.
* We added the "Duplicate window" setting to the Authorize.net payment plugin so that you can now configure a duplicate transaction window different than the default 2 minutes of Authorize.net
* There is now an option in the affiliate plugin to remove the affiliate button from the user control panel of the frontend.
* We now give the possibility to modify the porter email address on paybox so that the user will not receive the payment ticket from paybox.
* It's now possible to force the payment method for the PayBox payment plugin.
* The PayBox payment plugin now supports the iframe mode in order to display the payment form inside the checkout interface.
* The reminder feature of the integration between HikaShop and AcyMailing allows for a wider range of periods.
* You can now enter the column name of a custom product field in the remarketing plugin so that you can more easily enter the ecomm\_prodid for each product.
* We added support of new HMAC signature for the payment gateway Borgun
* The Mondial Relay plugin now supports the API Key parameter of Google Maps
* You can now use data tags in the email subjects to get information from the order/user.
* The PDF invoice plugin can now also generate shipping invoices from a bunch of orders thanks to a new "shipping invoice" button on the orders listing.
* The PDF invoice plugin now can also handle shipping invoices.

### HikaShop 2.6.3

**Release date : May, 03 2016**

[List of all the files changed between the 2.6.2 and the 2.6.3](http://pastebin.com/PYEnc6UA)

#### Bug fixes (36)

* When updating a custom order field via mass action it could cause a MySQL error.
* The shipping images couldn't be saved and the shipping and payment images couldn't all be removed from shipping/payment methods.
* The massa actions could potentially generate MySQL errors with too much products being processed
* We fixed an extra invalid column in the QuickBooks export
* The selection of order statuses couldn't handle more than 10 elements properly
* We make sure to not trigger the captcha verification when the user confirms his account via the link in the verification email
* The products without a price configured in their main product were not taken into account for loading the list of brands, custom field values, etc of filters with the "dynamic display" option turned on
* The user points discount was sometimes taken into account in the calculation of the possible maximum discount while it shouldn't
* The custom order fields couldn't be saved anymore in the order edition page of the backend when the order contained user points
* Menus items of the type "HikaShop categories listing" restricted to something esle than public or guest could potentially generate invalid category links on the listing
* We fixed the return of the CECA payment plugin
* The ACLs of brands weren't taken into account for brand filters
* We fixed a fatal error on the new product and category views with effects
* We fixed the reCaptcha issue on comment form
* The inherit value of the display setting "custom item fields" of listings on the frontent wasn't handled properly
* We fixed a HTML validation issue with the display of images on the product page when several images are present
* We fixed an issue to allow the refresh of the star blocks after a vote
* We fixed an issue for the comment submission after a rating on a product page
* The category image file was deleted for each categories using the same image when editing one of these categories
* We fixed the display of product pages with the ids removed and the SEF product name empty in the URLs
* The "redirection status" parameter of the No SSL outside checkout plugin wasn't added properly to the plugin settings interface
* We fixed an issue regarding the max quantity per order limitation
* We fixed warnings on the product page when no prices were added to the product
* We fixed the calculations of the shipping fees on the product page
* We've fixed a fatal error with the display in list of categories in some rare cases
* The thumnails attributes had an HTML issue with the previous version of HikaShop
* The regex of custom fields didn't escape slashes properly with the javascript check
* We fixed a compatibility issue with "Hikamarket front-end editor" that was happening during the creation of shipping methods
* We fixed an issue for the customer save in cart in backend, the hikashop user id was used instead of the user cms id
* We fixed a fatal error with the PayPAl Pro payment plugin
* We fixed an issue about custom field "display limited to" option in contact form
* We've added a fix for the support of Joomla 3.5.1
* We fixed the handling of the spaces in the descriptions of products for pinterest
* We fixed a warning with the characteristics display with img tags in the values
* We fixed several issues with the handling of the addresses edition on the checkout
* We fixed a small warning with the PayPal integral evolution payment plugin
* We fixed a browser caching issue which could happen on some servers with PayPal Express Checkout

#### Improvements (12)

* We've added classes for the name of the characteristics in "table" mode in order to be able to easily style them.
* We removed the use of mootools for the credit card form of the checkout
* We've added small improvements to the display of the invoice number in the PDF invoice plugin
* We improved checks on product listings when the synchronize option is enabled
* We now only load the modal system when the popup selector is selected for the address view of the checkout
* We now handle translations of the advanced datepicker field ourselves to avoid conflicts with other extensions using jQuery improperly
* The "Use Global" choice of the "show page heading" setting of menu items of the type "HikaShop products/categories listing" is now supported
* We improved the transliteration of names to aliases with some languages
* We improved the the variants edition system to better handle javascript code
* The HikaShop advanced date picker is now compatible with Ajax loading
* We moveed the inline styles into style tags on the listing pages
* The product alias uniqueness check was missing from the new product edition interface save process
* The PayPal Express Checkout payment method now also send the order details to PayPal after the order is confirmed so that the PayPal notification email contains the data when the "send order details" option of the method is activated

#### Features (5)

* We added new display option for custom fields of the table "product" for the product listing and email notifications
* We've added an option to the CM-CIC payment plugin to be able to select the default language for the payment page
* We added an option to turn off the display of the shipping fee on the product page in the HikaShop shipping price per product plugin settings
* We replaced the effects (fade, slider, etc) on category listings from javascript to css3 code
* We've added an option to the cart and wishlist modules to hide them when nothing is in the cart/wishlist

### HikaShop 2.6.2

**Release date : April, 04 2016**

[List of all the files changed between the 2.6.1 and the 2.6.2](http://pastebin.com/mdVietXC)

[More about that release](/support/documentation/338-about-hikashop-2-6-2.html)

#### Bug fixes (60)

* We fixed issues in wishlist creation and management from backend.
* The "Display custom user fields on user profile edition page" setting of the user synchronization wasn't taken into account properly for the saving of the Joomla user profile and could sometimes result in errors with required custom fields
* The 0 value was not properly set in exported CSV files
* We fixed an issue where the "Quota per user" option wasn't taken into account in some cases.
* The "in stock" filter wasn't working properly with the "redirect POST mode" setting activated.
* The title of columns report carts were not translated.
* The regex option wasn't working for custom address fields on some screens.
* The calculations for the table widgets on sales with the shipping included and the tax excluded were wrong.
* We fixed the fade effect on product listings.
* We added a fix for an issue regarding the "Product" insert button that happened through the front-end article edition page.
* The currency code wasn't handled properly in KashFlow's invoices.
* We fixed a collation issue with Joomla 3.5
* The Estimated delivery time wasn't translated with canadapost.
* The filters were not responsive anymore.
* The cart session is now cleaned in AIM mode with the Authorize.net payment plugin after the checkout.
* The menu item id entered in the settings of the filter module wasn't taken into account anymore on Joomla 3.
* We fixed a popup issue with the HikaShop discount selector in the backend.
* The "Monday first" option wasn't properly taken into account in the settings of the custom fields of the type "advanced date picker".
* We fixed a query issue with the OpenCart import process.
* We fixed several issues with the xmap plugin integration so that it works properly with the new menu system of HikaShop.
* The "email history" button of the user edition page wasn't working properly.
* We fixed an issue when updating a product column value from a price column with the mass action system.
* The coupon value could cause a problem with PayPal Pro when the "send order details" setting of the PayPal Pro plugin was activated.
* The products files ordering wasn't saved properly when editing the products in the backend.
* The buttons of the Additional order information edition popup were not translated.
* The default value for the quantity input method was not correctly set.
* We initialize the votes before forcing the height of the divs to avoid display issues in some case.
* We fixed the issue regarding the "+" action button of the "shipping prices" tab of variants configuration page which wasn't properly working.
* We fixed an issue related to the brands listing menus. The parent category setting was not read properly.
* We now deactivate the browser cache for the category explorer to avoid caching issues with it.
* We fixed an issue for the elements using the "selectparentlisting" parameter from the menu settings.
* We fixed a text issue in the PDF invoice plugin.
* The custom item fields without any product or category restriction could sometimes not be displayed on the listings.
* The "display limited to" system didn't work properly for custom product fields in variants.
* We fixed a FedEx issue which was preventing us from sending every products to the FedEx platform.
* We returned an error instead of a success when setting only a comment with no rate.
* The "send notification" setting of the PayPal Pro payment plugin wasn't working properly.
* The pagination for the comment listing had issues.
* The date format could cause a problem with the badge edition form.
* We fixed a notice message with the loading of the parameters of modules.
* We removed a notice on the translation popups with custom product fields.
* The brand url on the product page is now getting the correct menu item id for Joomla 3.
* We fixed an issue with the calculations of the shipping fee with multiple currencies.
* We fixed an issue for the votes when only the comments are enabled.
* In some rare cases, the shipping address of the order wasn't taken into account when sending the notification emails.
* We removed potential notice messages with the VAT number check system.
* The tab system used in the backend of HikaShop had a conflict in some rare cases with another extension. We've added a patch to avoid the issue.
* The conditional display of custom address fields on the registration page of HikaShop wasn't working anymore.
* The reset of the pagination when using a filter was not able working properly since the new menu and module settings were put in place.
* We added a fix regarding the Alipay sign calculation.
* The "Server current URL mode" option wasn't taken into account properly in some cases.
* The cursor limits for filters based on price didn't take into account the ACLs on the prices.
* The number of products in a category could in some cases be displayed twice next to the category name.
* We avoid a conflict on the order status translations with AcyMailing.
* We fixed an issue on review submission when vote and comment are connected.
* We added a missing classname in the user registration view (in bootstrap mode).
* We fixed an issue when submitting a comment when not registered, the username and email were encoded.
* The default value of custom fields of the type advanced datepicker would automatically take the value of today if the "default today" setting was turned on.
* We fixed an issue on the Correios shipping method regarding the method id on save.
* Fix regarding the calculation of the maximum number of product that can be added in a package regarding the length + girth limit for the CanadaPost plugin.

#### Improvements (34)

* We removed the default IP addresses in the PayBox payment plugin.
* Vex is now the default popup mode when you install a fresh HikaShop.
* The popup links could potentially be indexed by search engines.
* We now send the IP address of the customer to Virtual Merchant when that payment method is used.
* The "allow notification from Authorize.net" option label is now properly displayed.
* The user message textarea is now formatted similarily to the history message textarea when modifying an order in the backend.
* We now only load the mootools modal when the wishlist system is enabled and the user not logged in.
* The form submissions could potentially lead to 404 error pages when coming from non Hikashop pages with menu items configured with language restrictions.
* The VM2 import now supports the import of addresses without a country or without a state.
* If a shipping price per product is set for both main product and variant we only use the variant shipping price per product.
* We now send the Customer IP with the direct call mode of Google Analytics so that the IP address logged by Google Analytics is always the correct one.
* We added plus and minus buttons on columns and rows selectors in menus and modules configuration page.
* We now do not display unpublished variants on the product pages.
* The custom item fields now have their javascript added for product content tags so it allows you to use a wider variety of custom field types with content tags.
* The custom user fields now support the "display limited to" system in the backend user edition interface too.
* The canonical URLs were not used for the product links on the order details page of the frontend.
* We improved the mass actions to handle users with many groups on User Access Level filters.
* The filter selection popup of the filter module wasn't displaying the filter name and it could lead to some misunderstanding.
* The users are now auto-logged in if possible after the registration through the registration form of HikaShop, like on the checkout.
* We improved the import csv file feature in the mass actions, it now handles the exported csv files from mass actions and full images data.
* The social networks plugin now supports nonumber tabs in the products description.
* The ReCaptcha plugin now only check registrations for the extensions it integrate with.
* It is now possible to configure a HTTP status for the HTTP redirects of the no SSL outside checkout plugin.
* The waitlist edition screen didn't display the selected variant.
* We now properly handle the required option for custom order fields restricted to products/categories.
* We improved the invoice id generation to check if there is already an invoice number (and invoice creation date) in the order as to not regenerate it.
* We improved the saving of the canonical URL in the backend so that it accepts URLs of the current website and remove the website URL as only relative URL paths should be added there.
* We avoid to have two csv export files with the same name with mass action exports.
* We display the current payment method in the dropdown of the payment methods of the orders listing if it is not in the list of valid payment methods so that the customer can keep the payment method he already have in his order.
* We now hide the Carousel options for menus.
* We now sort the variants on the product edition page in the correct order based on the characteristic values.
* We replaced the "length" itemprop in the microdata by "depth" as "length" is not valid.
* The Authorize.net payment plugin now skips the payment notification processing if the order is already confirmed.
* The restrictions on payment methods now properly apply for the display of the payment methods selection dropdown on the orders listing of the frontend.

#### Features (10)

* HikaShop is fully compatible with PHP7
* The user points system now supports the AltaUserPoints extension.
* We added new restrictions to display item, order and product custom fields so that you have a better control on where the fields are displayed on your website.
* You can now edit "additionals" (points, etc) when you edit orders in the backend.
* We developped a new shipping plugin for BPost
* We added the possibility to translate custom category fields.
* The microdata attributes and tags are now directly in the views of the product page so that it is less resources hungry and will work with any template in the future while the previous method, through a system plugin could only work if the views were not too much modified by the Joomla template.
* You can now specify a return URL for the Worldpay Business payment methods.
* We added a new quantity input dropdown type to let the customer select the quantity based on the min quantities of the prices of the product.
* We added new options on hikashop modules so that you can now restrict the display of the modules on front end pages without the need for a third party extension like Advanced Modules Manager.

### HikaShop 2.6.1

**Release date : January, 11 2016**

[List of all the files changed between the 2.6.0 and the 2.6.1](http://pastebin.com/jqPER3jn)

[More about that release](/support/documentation/333-about-hikashop-2-6-1.html)

#### Bug fixes (65)

* We fixed the display of the progress bar with Ajax uploads.
* We fixed an issue related to the vote limitations which allowed anonymous users to vote when they didn't had the right to.
* We fixed the display of the "default variant" column in the product edition when using Joomla 1.5/2.5.
* We fixed an issue when exporting variants prices with tax in the mass actions.
* We fixed a Canada post issue that we had with the calculation of the number of packages when the "group package" option was enabled.
* The TaxCloud plugin was not triggering TaxCloud for orders already confirmed at their creation (it can happen for a few payment methods).
* We fixed the ACL system in the backend which wasn't working properly in some cases.
* We fixed an issue for the custom fields default value.
* Leading zeros were sometimes removed when exporting CSV files.
* The quantity of products already bought was counted once per category for each order for the limitations system.
* The quantity of products already bought was counted twice for each order for the limitations system.
* We added a fix for mass actions using a trigger and with filters on characteristics were not all the products have a characteristic defined.
* The order auto cancel plugin couldn't have a frequency lower than 1 hour.
* We fixed the display of the warehouse selector for some rare cases.
* The variant name wasn't taken into account properly in some cases.
* We fixed a problem with the AcyMailing integration regarding the filtering on the order status.
* We fixed an issue when filtering product mass actions on characteristics.
* We fixed an issue for category mass actions when changing values on custom fields with not standard names.
* We fixed a parameter in the XML content sent by the VirtualMerchant plugin.
* We fixed an issue on the filter module and the generated url when force redirect option enabled.
* We fixed an issue on the canonical urls, they were still saved in the product settings even if the option was set on "Use canonical URL if specified".
* Two minor fixes were added for the HikaShop user point plugin.
* We fixed an issue for the price in the microdata when many prices are displayed (many currencies, or price displayed with and without tax).
* We fixed an issue on the wishlist management in backend.
* The credit card infos would not be erased by the VirtualMerchant payment plugin when the credit card was refused.
* We added a fix regarding the fact that USPS always only sent ONE package so the price would raise to a fixed limit.
* We Restored the "ul simple display" in the category listing menu configuration for Joomla 3.
* We fixed an issue when exporting the products in a CSV via the mass actions.
* The redirection setting was not correctly interpreted when adding a product to the wishlist from the compare page.
* We fixed an issue when deleting a product in the cart display page.
* The PayPal Express plugin now handle properly free orders.
* We fixed an issue that we had with the Correios shipping display on the shipping details of the back-end order edition page.
* We fixed an issue for the brand listing module when editing module settings.
* We fixed a small issue which was caused by the fact that the Canada Post shipping platform is throwing a "5000 : XML parsing error." error message when the description of the package sent is NULL
* We fixed a query error with the use of the search on orders, users and products listings in the backend when you had custom fields of the type "custom text" configured
* We solved an issue when updating product prices on CSV import via the mass actions.
* We fixed the "contact request" email when there is no product (HikaShop contact menu, Vendor contact with HikaMarket).
* We fixed an issue that we have with the Australia Post v2 displaying during the checkout workflow (description) and on the Order detail/invoice (name).
* We avoid the creation of associated modules with the new menu / module options on Joomla 3.
* We fixed an issue in the mass action when updating a value via an operation with a decimal number.
* We fixed the saving of the TinyMCE editor for variants with Joomla 3.4.5.
* We fixed some runaway HTML tags on the checkout.
* We fixed an issue where the UPS delivery time was sometimes invalid but still displayed.
* We fixed the option "ordering field" in the new menus / modules settings for the categories.
* When adding a product to the cart, the cart module settings were not loaded correctly in some cases.
* We fixed the display of the title on the widgets/reports so that it matches with the type of content displayed.
* We fixed a warehouse issue which resulted sometimes in orders not finalized without paying shipping method of some products.
* We fixed the support of numeric values default selection for custom fields.
* We fixed an issue regarding the image displayed in the cart display page.
* The HikasHop associated modules on Joomla 1.5 and 2.5 are using the "synchronize" value again.
* We fixed an issue with the images in the options tabs of modules.
* The HTML of the cart display page could be off in some cases.
* Fix a display issue with namebox when using some drag'n'drop to sort the elements.
* We fixed an issue with the page title.
* We fixed an issue with the new menus / modules configuration when using FaLang or JoomFish for the translations.
* The Pagseguro payment plugin didn't handle items with big prices properly and it could create an error.
* The Servired payment plugin wasn't sending order status notification emails to customers.
* The "display limited to" system wasn't initialized properly for custom address fields on the registration form since the 2.6.0.
* The Pagseguro payment plugin didn't handle items with big prices properly and it could create an error.
* The new menu edition interface get now the correct category from the current parameters.
* The link to the user from the carts listing on the backend wasn't generated correctly.
* The coupon code in the cart would be removed when the customer would login.
* The status notification email wasn't sent even when the corresponding option was turned on with the bank transfer and collect on delivery payment plugins.
* We fixed a bug whereby the limits with a quantity above 1 weren't working.
* We fixed a bug with the custom field translation integration with JoomFish.
* We fixed the input field for the start and end dates for the table report row edition popup which weren't working properly and didn't allow you to change the hour of the selection.

#### Improvements (33)

* We removed payment plugins made by external developers. These plugins will be available for download but won't be include in HikaShop install packages anymore.
* We removed the EnvoiMoinsCher shipping plugin from the HikaShop installation package. It is available for download but won't be include in HikaShop packages anymore.
* We now allow to set a retail price on the variants too.
* We improved the support of UTF8 for URLs aliases.
* The PDF invoice plugin now handles the "display product code" setting of the HikaShop configuration.
* The order creation email now handles the purchase order payment method information box.
* We now display the download counter in the order details even if the download limit is unlimited.
* The display of the brand on the product page now takes into account the published setting of the brand.
* The Authorize.net payment plugin now has an option to select whether the coupon amount should be sent with a negative value or not (different payment gateways work differently) We fixed an issue on the cart and wishlist display page, the user were not correctly recognized.
* We now have the same ordering for the total elements in the cart of the checkout than in the emails.
* We added limits in the USPS shipping plugin to efficiently gather products into package(s).
* We added a tooltip on the images with a long file name in the HikaShop gallery system.
* We added translation keys into the language file to translate the options of the different plugins.
* We removed the value "On a per product basis" of the option "Display the quantity field on the product page" if not used as it has been replaced by the "Quantity input method" option.
* We added the value "None" for the "Quantity input method" option in order to be able to not have quantity input.
* The "Change user group" user mass action will now disconnect the customer in order to apply the new ACLs.
* The payment methods dropdown filter on the orders listing now handle the different instances of payment methods for better consistency.
* We now strip the loadposition and module tags in the product description when using it for meta data for the social networks buttons in order not to break them.
* There is now a hidden configuration parameter code\_editor that you can set in the hikashop\_config table of your database in order to change the code editor to something else than Codemirror.
* We added a new trigger for the cart : onAfterFullCartLoad.
* It's now possible to override the name of the shipping service for the Australia post v2 plugin.
* We improved the design of "user points" plugin settings in the joomla plugins manager.
* We remove the contact page from the indexable content of the website in order to avoid duplicate content (when you have one contact page for each product).
* One of the error messages on the VAT number verification system wasn't translatable. It is now.
* The "add to cart" button is not displayed by default when products are free.
* We now delete the old carts when you login with a cart and that the "multicart" mode is disabled.
* The options interface of the menus and modules was displayed when editing a menu/module translation via Falang/JoomFish even though it was not needed and was creating problems.
* The associated modules are no more displayed when changing a menu from "categories listing" to "products listing" with the new interface.
* The link of the option "Styles for the front-end" of the HikaShop configuration now opens on a new window.
* We improved the retrieval of the country from the shipping address sent back by PayPal Express.
* We now handle the state / country names and codes in the mass action exports.
* The QuickBooks export plugin now supports guest orders.
* The prices rounding now takes into account the rounding increment even when the "round prices during calculations" setting of the HikaShop configuration is deactivated.
* We improved the pagination system in order to handle template overrides but still use the HikaShop content.

#### Features (16)

* You can now insert several products at a time in the HikaShop AcyMailing tag plugin.
* We added Access Levels on badges so that you can now restrict badges to different user groups.
* We added a new option on the Email History plugin to keep emails in the database only during a period defined by the user.
* A new payment plugin was developed for eWay Rapid (by Obsidev).
* A new payment plugin was developed for Amazon Checkout.
* We added a "Use dimension" option to the USPS shipping plugin.
* We added the possibility to remove a user group in the order mass action.
* We added the possibility to remove some groups for selected users in mass actions.
* We can now set a canonical url via the product mass actions.
* The current category image on the products and categories listing now has a title and an alt tag for better SEO.
* We added a new option "attribute" for custom fields which allows the merchant to add attributes according to the selected field type.
* There is now an option in the PayPal Advanced payment plugin to support authorization without automatic capture of the funds.
* We added the "vex" popup system into HikaShop. It will allow to better compatibility with Joomla templates.
* The plugins "user points" now handle EasySocial points.
* The SagePay plugin now has settings to let SagePay send an email to the customer and to the vendor.
* We added a new option to the Virtual Merchant plugin in order to support the multi currency mode of Virtual Merchant.
* We added a new option to the PayPal Express payment plugin so that you can allow the customers to change their order address during the PayPal Express Checkout.

### HikaShop 2.6.0

**Release date : September, 23 2015**

[List of all the files changed between the 2.5.0 and the 2.6.0](http://pastebin.com/sAH4rRb3)

#### Bug fixes (93)

* Minor security issue allowing reflected XSS in the backend has been fixed. Reported by Vitor Oliveira, Filipe Reis and Fábio Pires from Integrity (https://labs.integrity.pt/)
* We fixed the display of the payment notifciation URL in the PayZa payment plugin
* We improved the handling of the checkboxes filters for custom fields
* The option name now correctly display in the cart/order when the variant names are provided.
* We fixed the "update/about" button ACL on the dashboard of HikaShop
* We fixed an issue that we had regarding the price returned by the Australia Post platform and which sometime wasn't correctly converted
* The currency rounding increment wasn't taken into account for discounts
* We fixed the router for the access to a sub element of a user control panel menu item
* The sub categories displayed below the categories on the categories listing were not using the canonical URLs
* We fixed the configuration of the datepicker plugin with Joomla 3
* We fixed some warnings for the displaying of payment method prices with a different origin currency
* The BCC and CC emails were not taken into account for the order status notification email when sent from the orders listing
* We fixed the handling of the server port in the canonical URL generation system when different from 80
* After you had exported products or orders, you couldn't use the pagination or filters of the current listing and you had to go somewhere else in HikaShop/Joomla before going back to the listing in order to use them again
* We fixed a warning during the installation process with new versions of Joomla
* We fixed an issue regarding the minimum / maximum price options of the shipping method configuration page. In fact, a wrong total price was used for these options through the checkout when we also had a percentage coupon on our cart
* The drag'n'drop ordering of the categories of a product with the new product edition interface wasn't working properly
* The coupon value wasn't sent properly to PayPal Pro with the option "send order details" was activated
* Related products and options where not exported in the correct order when exporting a CSV of the products from the products listing
* We fixed the display category explorer when listing the order statuses
* We fixed a javascript error on custom fields when the data contained a quote
* The tax category couldn't be changed properly for an order shipping method
* We fixed an issue when adding a product which was already in the cart as an option
* The tax rate wasn't properly set in the selector dropdown of the additionals edition popup in the backend
* The ordering of the related products and options on the new product edition interface wasn't working properly
* We fixed an issue when installing HikaShop data sample on Joomla 2.5
* We fixed the Gallery Image uploader (compatibility with HikaMarket)
* The "Display limited to" setting wasn't taken into account for the display of the custom user fields on the Joomla user profile page
* Custom image fields now use the "allowed images" setting instead of the "allowed files" setting for the restriction on the uploading of the images
* The pinterest icon of the HikaShop social networks plugin didn't support HTTPS
* The product tabs could be collapsed on the tabular layout by clicking on their content in some cases
* The add to cart could potentially be triggered even though the add to cart button was not being displayed on the product page
* The notice popup after add to cart could sometimes not display properly
* The product page contact/waitlist form messages with links to the product page could have a wrong link generated if the product had characteristics
* The links going back to the product page on the thank you message of the contact form/waitlist form now take into account the canonical URL
* We fixed some styling issues with the social network buttons when aligned to the right of the page
* We fixed an issue with radio filters for categories
* We added a fix for the AcyMailing integration which could potentially generate an error in AcyMailing during the registration process
* We fixed an issue which was preventing customers to finalize there checkout workflow when the Canada post shipping method was selected
* The new category explorer of the backend could overlap with the main area in some cases
* The JMS site selection on prices was missing from the new product edition interface
* We fixed an issue that we had by using the "Pay now" button when the "Reorder" one was displayed through the customer order listing
* The minimum coupon value check was done inversely from what was configured in the "apply discount" setting of the HikaShop configuration
* We fixed an issue with the brand filters which could filter too much when other filters would be used in some rare cases
* In some cases, it was be possible that the javascript of the custom user fields would be missing on the user profile edition page based on how your menu items were configured
* The new product selector dropdown didn't support UTF8 for PHP versions before 5.4 for the selection of products
* The product code of the variants were not updated when the main product code was updated with the new product edition interface
* The files of variants couldn't be added with the edition popup with the new product edition interface
* The alias and canonical URL fields were missing from the translation popup with the new product edition interface
* When displaying the characteristics with different display methods, it could happen that the selection wouldn't work on characteristic dropdowns
* The files of variants couldn't be added with the edition popup with the new product edition interface
* The files of variants couldn't be deleted with the new product edition interface
* The product images on the RSS feed could have an extra / in their path in some cases
* We fixed a warning with the HikaShop user synchronization plugin which could be displayed in some cases
* The PayPal Advanced payment plugin didn't handle properly the return of the user after the payment or its cancellation
* The URL calculated by Joomla for the search results links could be wrong in some cases
* We fixed an issue when multi cart option is disabled and the customer go through the cart display menu when not having any cart
* We fixed an issue related on the minimum quantity per order value for the variants in the cart
* We fixed an issue for badges not based on a discount
* We fixed an issue with custom fields types using javascript for the product table for the variant edition with the new product edition interface
* In some cases the path of the CSV of the product auto update plugin would have an extra / added at the end of the path
* The explorer could potentially not display the categories based on the order of their creation
* We fixed an issue with the return\_url parameter adding itself over and over after each filtering when using filters with the "redirect POST mode" setting activated
* The category images couldn't be uploaded anymore when the upload folder path was not absolute
* The price ACL edition on variants prices was not working properly in the new product edition interface
* We fixed the use of the double quote as values of custom fields
* We fixed the missing body in the mass action emails
* The blocks on the variant edition area were not aligned properly with the new product edition system
* We fixed an issue with the auto loaded coupons whereby the calculations for the "minimum order amount" would be incorrect with products with characteristics
* Tax calculations were not correct for the same product with different custom fields and several items of each in the cart on some versions of PHP
* The multiple selection dropdown filters now properly handle the title added inside the filter when the Chosen library is activated
* We fixed an issue that we had when we used at least two PayPal payment methods with one which wasn't well configured (the order wasn't created even if we selected the configured payment method)
* We fixed an issue on the USPS shipping method regarding the "failed to obtain a shipping quotes." error message which was displayed even if we had some USPS services available
* The characteristics selection didn't refresh the information on the product page when there were several characteristics with different display methods on the page
* We now properly handle the "save and new" button of the new product edition interface
* We fixed the saving of the weight for variants with the new product edition interface
* We fixed the watermarking with upload of images using drag&drop
* We fixed a javascript issue with the switch between the multiple thumbnails of a product on the product page
* The google remarketing plugin was not working if the products had product codes with letters in them
* When the shop owner was changing the default address of a customer from the backend to an address which was previously selected as either billing or shipping address of an order of the customer, the address would not be set as default
* The generated variants now take into account again the "variants published by default" of the configuration
* We added the version to the Stripe payment plugin so that it can work properly again
* We fixed the ordering issue of the images when exporting from mass actions
* The custom fields of the table "user" could be displayed on the user login form in the main area of the website
* We fixed the issue that we were having regarding the auto-selection of shipping services through the checkout workflow (the first shipping method wasn't the one selected)
* The variants were not translatable with the new product edition interface
* We've fixed the price with/without tax conversion on the product page for the edition of variants
* We corrected an issue when adding a brand in the product edition page
* The images are sometimes in the image column of the product table, sometimes in the product\_image table of MijoShop so the import now looks into both
* The guest group restriction on coupons was not working properly
* Some of the HikaShop menu item links generated by Joomla could sometimes have extra view and layout parameters in the SEFed URL. We've modified the HikaShop router to avoid that
* We fixed the issue that we were having regarding the USPS "Priority Mail International" service which was returning free rates for Canadian shipping addresses
* We fixed an issue with product creation and required custom fields based on categories.

#### Improvements (74)

* We now display error messages for WebService calls while saving the EnvoiMoinsCher plugin configuration
* We now have microdata for product ratings even if the vote type is "both"
* We now set a worstRating property in the meta data for the ratings and solved an issue related on the reviewCount data
* We updated the currencies that the VirtualMerchant plugin handles
* The cart reset function now clear the cache of Joomla for better support of the caching system.
* The default type of client setting has been removed from the HikaShop configuration. In the big majority of cases, that option shouldn't be changed by the merchant and should be left to "individual"
* We now display a notice message when you save a product without a weight if you have shipping methods enabled in order to warn the merchant that the shipping methods selection won't appear on the checkout in such case
* It is now possible to have per status email HTML/preload versions for the order status notification
* We improved the switch of the main image in the product page
* We now detect when the edited product is using an unpublished currency and display a warning message to the merchant
* We added a lot of optimization for the loading of the custom fields/badges/discounts in the products listing
* We do not add anymore the "form" element when there is no item field for the product in a products listing
* We updated the oPload library used for the "AJAX file" upload system so that it will be able to support chunk uploads and parallel upload limitations in the future
* We updated the oTree library so that it now supports keyboard strokes for the selection of elements
* The userpoints plugins can now recreate the AlphaUserPoint rule if missing
* We restored the "quickicon" plugin (for Joomla 2.5/3.X)
* We added checks on the username similar to Joomla's during the registration process of HikaShop
* We updated HikaShop payment plugins to not use anymore Mootools
* The margin of the carousels could sometimes be changed by the Joomla template which would mess up the carousel display. We now force the margin to avoid that
* We added the support of advanced item custom fields for the order edition in the backend
* The remarketing plugin now handles products with characteristics
* We improved the support of VM3 for the import of products without SKU, product images and product files
* We now display the default value of an option if its current value is "inherit"
* The filter and content modules now have a layout directly in the module so that you can override the main DIV of the module if necessary with a template override
* We do not display unpublished tax categories in the dropdowns of the backend
* The VirtueMart 2 import now properly handle the dates when importing the data
* We improved the path check for the export CSV file mass actions, now the path can be relative
* We now display the wishlist name and owner name when viewing the wishlist of another customer
* The import now supports images and files links with urlencoded characters
* The table reports on sales/taxes can now handle multiple currencies
* The columns are now sorted alphabetically in the mass actions
* We added support for "plugin controllers" in the HikaShop backend so that plugins can have their own controllers
* We updated the trigger "onBeforeDownloadFile" with a new parameter for the options
* The PostFinance payment method will now handle the status equals to 5 (authorized) returned from the PostFinance platform. We also cleaned and optimized the PostFinance payment method
* The "Force canonical URLs on listings" setting is now deactivated by default when you install HikaShop
* The CSV import now supports ordering for related products and options
* The microdata plugin has been updated to handle correctly the product's reviews
* It is now possible to select a user group after purchase for individual variants with the new product edition interface
* We now make sure that the version of HikaShop is correct when the "check database" function of the HikaShop configuration is used
* You can now unpublish the variants from the variant listing
* We now force the currency to be published when it is selected as main currency in the configuration
* It is now possible to create filters without category selected
* You can now use the "checkout SEF name" setting even when you don't select a menu item of the type "hikashop checkout" in the "force a menu on checkout" setting of the HikaShop configuration
* The sub brands were not loaded in the explorer in the backend
* The "check database" button now also reattaches orphan categories to the root category
* We added support for MySQL 5.7
* We now hide the "NEW" button and display en error message through the "Hikashop->Orders->Entry" page when no "Entry" custom field are configured and published
* The TaxCloud plugin don't try anymore to process TaxCloud taxes when creating an order from the backend
* We now display the selected variant in the product edition page
* We added a new layout for the facebook display of the HikaShop social plugin
* We now supports multiple values selected with checkbox filters when the "redirect POST mode" setting is activated
* We now display an error message when the shop owner didn't select at least a value for each characteristic of a product when trying to generate variants
* The "send order details" setting of the PayPal payment method now supports additional rows like point discounts, global cart fees, etc
* We added a check in the HikaShop configuration to make sure that the merchant didn't disable the HikaShop user synchronization plugin
* The new products are now published by default and the "default tax category" is selected as their tax category
* We now send the order\_id to the Sofort payment gateway so that it can be displayed during the payment process
* We changed the color selector for Joomla 3 in order to be much more user friendly
* Mass actions now handle operations with many columns (e.g: price.price\_value\*product.customfield)
* We no more display negative quantity values in the wishlists
* The check database button now also remove variant links pointing to characteristics already deleted as that should not happen
* The FedEx shipping plugin now uses the new zone selection system instead of the old popup system
* The import system now handle extra parameters in image URLs in the CSVs that are imported
* We now allow HTML values in custom fields
* We don't try to translate custom item fields and custom order fields anymore when they are from the type "text" or "text area" as these directly come from the users and shouldn't be translated
* You can now select/unselect variants several at once on the variants listing of the product edition page
* The "generate variants automatically" option is not useful anymore with the new product edition interface and has thus been removed
* We improved the retrieval of the id during the URL parsing of the router to be faster and more accurate in some cases
* You can now select custom fields in the "display limited to" setting even if they are restricted to groups for which you don't have access to
* We updated the "group after purchase" and "shipping price per product" plugins for the integration with the new product edition page
* The characteristics can now be reordered on the product edition page with drag n drop
* The characteristics selector now displays the characteristic alias if filled in and different from the characteristic name
* We improved the display of the "add to wishlist" button based on the values of the option "display\_add\_to\_wishlist\_for\_free\_products"
* We added the Pipe "|" value as separation symbol for csv files
* We renamed the "Express International" USPS shipping services to "Priority Mail Express International" which was more logical

#### Features (21)

* The HikaShop options for the menus are now editable in the Joomla interface. The HikaShop options for the modules are now editable in the Joomla interface
* HikaShop now handles taxes on payment fees
* We added the support of the taxes in the order additionals system
* We added a functionality to translate product custom fields directly when you're editing a product (using Falang/Joomfish)
* We added a functionality to drag and drop custom field values
* We added a notification email for the administrator when a product is added in an user waitlist
* We now resize all the divs in a categories or products listing to the same height for a more homogeneous interface
* The filters can now be assigned to many categories
* We added the possibility to filter on users having an order, an order with a specific status, or users having an address in the mass user actions
* The settings of the HikaShop modules can now be edited in the frontend
* We added a new option in the advanced section of the HikaShop configuration in order to control how the current URL should be retrieved from $\_SERVER in order to cope with any kind of server configuration
* New filters are now available for the AcyMailing integration
* We added the selection of a category of products to the AcyMailing tag generator plugin for newsletters
* The user points system now support taxes (thanks to the additionals system supporting it)
* We added a return URL setting to the ePay payment method
* We added a test mode setting to the VirtualMerchant payment plugin
* We added the support of PayUMoney to the PayU India payment plugin
* Discounts can now be restricted to JMS slaves/master sites
* We have created an improved version of the Australia Post shipping method so that it can use the last Australia Post API. So Australia Post services has been updated, and it will now need an "API Key" to work
* We developed a new hikashop plugin named Email History which allows you to log all the emails sent by HikaShop and easily access them.
* We developed a plugin for the ShipStation service

### HikaShop 2.5.0

**Release date : June, 09 2015**

[List of all the files changed between the 2.4.0 and the 2.5.0](http://pastebin.com/J7512Qva)

#### Bug fixes (76)

* We fixed an issue with the loading of the correct current URL in some servers not configured properly
* We fixed an issue regarding the "Priority Mail International (International)" USPS service which was showing as a free shipping service. To fixed that, we had to update USPS services
* We fixed a MySQL query error in some rare cases with widgets calculating the total amount of products in order to extract the best sellers
* We do not take into account any more cookies named popup for the display of the add to cart popup
* The Authorize.net payment plugin auto redirect back to the shop was not working with the HikaShop payment notification plugin activated
* We fixed a rounding display issue of the taxes on the invoices in some rare cases
* The Ghana states were linked to the Gambia country. We've corrected that and added the states for Gambia (new installs of HikaShop)
* The unpublished variants were displayed on the product page in "list" characteristic display mode
* Tax zones were not listed in the zones selection of tax rules with the new selection system added in HikaShop 2.4.0
* We added a fix so that if you have set the "Auto select default shipping and payment methods" option to YES via "Hikashop->System->Configuration->Checkout", the shipping method which will be auto selected will be the first one of your shipping methods selection
* We added the support of the system plugin "hikashop payment notification" for the payment plugin "paypal advanced"
* The variants list display would not display any price if the main product didn't had a price even if the variants had prices
* We fixed an issue with the address edition in the checkout and Internet Explorer
* We now properly take into account the currency increment for the payment fees calculations
* We now properly take into account the currency increment for the coupon value calculations
* We fixed an issue with the selection of products with UTF8 special characters on some PHP versions for badges and discounts
* We fixed a 404 issue with the HikaShop router for the popup notice after add to cart when there is a products listing as the front page and that there is a menu item on the website named "checkout"
* We fixed the link on the affiliate button of the dashboard in the Business edition
* The plugin "attach invoice" will only add the PDF for HikaShop sales orders (so it will exclude the HikaMarket sub sales)
* We fixed the plugin "hikashop social networks" for the display of pinterest
* We changed the ETA format FedEx option to a dropdown, and correced some issue that we had with the 12H format
* The 'no payment methods found' error message could potentially be displayed on the checkout even on steps where there was no payment method selection view to be displayed
* We fixed the display of the user points in the checkout when the user does not have points yet
* We fixed an issue on the FedEx shipping plugin regarding the fact that if you use a different price currency than the main shop currency on your shipping configuration page, the price wasn't correctly converted
* We fixed the display of the notice popup after add to cart when the current menu is a HikaShop menu item and is the home page
* The waiting days/hour extra day settings of the advanced date picker field were not taken into account by the server-side check
* We added a check regarding the "StateOrProvinceCode" which was sent for the rate request to the FedEx platform
* We added a fix regarding the display of the HIKASHOP\_NO\_RESULT error message when no products are found for a search with HikaShop filters
* We fixed an issue regarding publish/un-publish button which wasn't showing on the translation popup for the "product\_page\_title" field
* The icons of the dashboard of the backend didn't support non ASCII characters for their tooltips
* The exported CSVs of the mass actions would contain extra spaces around the separator of the price fields when the products would have several prices
* We fixed a potential fatal error when you would save a filter on a custom product field without selecting any custom field
* The reorder system was only taking into account custom item fields available for all the categories and not the ones available for some categories
* We fixed a javascript error on the product page when all the variants of a product were out of stock
* Custom item fields would not be displayed when the "add to cart" button was not displayed even if the "add to wishlist" button was displayed on the product page.
* The country address field wouldn't update the state field if another field had been setup with the "zone" setting set to "state" even if its type had been set back to something else than "zone"
* The coupon amount was not calculated properly when the coupon had a percentage set and a list of products and that there were more than one of them in the cart
* When the user had deleted his own address and was saving his new billing address, the address wouldn't be selected automatically
* We fixed an issue regarding the grouped packages counter in the Fedex plugin which might give a higher shipping fee than supposed in some cases
* The payment notification plugin could sometimes create a fatal error during the notification process because of a missing constant
* When the user of an order is changed with the "set user address" flag turned on, both the billing and the shipping addresses are now changed
* We fixed the auto selection of the default registration method in "switcher mode" for some cases
* We fixed a bug with the saving of the view overrides on Joomla 1.5
* We fixed the category selection system for badges
* We fixed an issue with the "main tax zone" setting saving in the configuration
* We fixed the ordering of the shipping in the checkout when having more than 10 shipping methods.
* We fixed the quantity of the wishlist items when bought from the wishlist by a third customer.
* When the invoice order statuses option is empty, the update of the stock after the confirmation of the orders wasn't done
* We fixed an issue with the csv file filter in the mass product action
* We fixed a warning during the export for when an order doesn't have any products
* We fixed the selection of several shipping methods for different warehouses without the use of HikaMarket
* We fixed the selection of discounts with restrictions on categories and with the 'including sub categories' activated in the discount
* The Sveawebpay payment plugin has been updated and corrected
* A fix has been added regarding the DPM method for the Authorize.net payment plugin
* We fixed an issue with the HTML address override in the shipping method settings
* We fixed the cursor filter re-submission
* We fixed an issue whereby relative file paths would be refused by the product file selection interface
* We now handle the variants when filtering on the category columns in mass product action
* We fixed the save of the "products" setting for the custom fields
* The "user group after purchase" skip its check of the guest registration if the creation of the user has already been disabled by another plugin before itself
* We added a fix regarding the weight unit sent to the FedEx platform
* We fixed an issue for the cursor filters when filtering on a 0 price
* We removed potential warnings with custom order fields of the type "custom text" on the orders listing of the backend
* The product limit now handle "all statuses" for his configuration
* We fixed the management of multiple categories for the discounts
* We added a fix regarding the display of the error message if we have a CURL error for Canada Post shipping methods
* We fixed the display of the categories selection on the field edition interface
* We fixed a MySQL query error with the characteristics system in some rare case
* The commas are now handled properly in the category explorer of the backend
* We fixed the fade effect on category listings which was generating a javascript error on the page in some cases
* We fixed a fatal error with the creation of new variants of products
* We fixed the main product page image size not being taken into account
* We fixed the total calculation for products with variants with the floating tax prices option turned on
* We added a fix for the unpaid order statuses field
* The link to the product page on the order's produts listing was not correct
* We fixed an error with the "Check database" function

#### Improvements (72)

* The servired payment plugin now send the customer to the payment gateway with his language if available
* We improved the RTL display on the product page
* We added additional CSS for RTL support
* The prices displayed by the product content tag system now take into account the "price display method" setting of the HikaShop configuration
* We reset the cache of the frontend when a menu or module settings are saved in the backend
* We added a menu to separate the coupons and the discounts
* The compare page now only display custom product field lines when necessary
* The system will now create an override when you edit the old frontend CSS file to avoid issues during updates
* The cursor filters on prices now display the currency next to the price values selected
* We no more translate the custom field value in backend if the translation contain html tags
* The ReCaptcha plugin now supports guest checkout
* We removed the category filter when displaying the explorer on product listing in backend
* As the "category explorer" option is no longer necessary, it has been removed from the HikaShop configuration page
* The ATOS SIPS payment plugin now supports auto submit even when the installments option is activated
* We added new microdata values in our HikaShop product microdata plugin
* The category explorer is now dynamic and can support thousands of categories which was not possible up until now
* The code and name columns on the products listing of the backend have been merged
* The ReCaptcha plugin now displays better the captcha on the Joomla registration form on Joomla 3.x
* The user control panel buttons now switch to one column automatically on small screen devices
* The "no SSL outside checkout" payment plugin supports the ccIdeal payment plugin custom notification URL
* We removed the "Append characteristics value to the product name" setting of the HikaShop configuration as it should always be turned on
* The category explorer now supports RTL display
* We added a "Debug" option on the UPS/FedEx shipping method. If enabled, that option will display the request that is sent to the UPS/FedEx platform and also the response through the shipping step of the checkout workflow
* The ReCaptcha plugin now displays better the captcha on the contact form on Joomla 3.x
* The canonical URLs are now used on the cart even for products with characteristics
* The currency module now works properly even if the Joomla cache is activated
* HikaShop's registration now supports the settings "Minimum password length", "Password minimum Integers", "Password minimum symbols" and "Password upper case minimum" of the Joomla user manager
* We added a new trigger for the upload of a file/image in the backend
* We now trim the files and images paths to avoid failed uploads when the CSV wrongly contains extra spaces at the beginning or end of the fields
* We increased the default size of the keywords field of the products and categories, and increased the size of the products and categories fields of custom fields so that you can enter more of them (only for new installs of HikaShop)
* We updated every views in the backend to have bootstrap search display when using Joomla 3
* We added the possibility to enter a URL when adding an image or a file to a product
* We added a delete icon on the lines of values of the backend edition form for custom fields with values
* The google analytics plugin has an option to not make multiple submission for the same order.
* We now add a class to the currently selected thumbnail on the product page for easier styling
* The "proceed to checkout" button of the cart module is now disabled once you click on it to avoid mass click on it, which can potentially lead the checkout to not enforce the "force a menu on checkout" option fearing of a looping redirect
* We improved the RTL support for cursor filters
* We now force the response code for the display of the price with options on the product page to circumvent server configuration issues
* The Joomla tags integration now handles canonical URLs for the products listed there
* We added a grid12 responsive CSS system in the HikaShop front-end CSS file
* We added several improvements to the AcyMailing integration plugin for the interface of the popup tag
* We added triggers to allow new popup systems using plugins
* We don't show 0% taxed shipping for orders (it can happen with taxcloud)
* We improved the tax rate report calculations in order to be more accurate.
* We now only replace product tags in the body of the pages to avoid potential issues with meta data for the microdata plugin
* We now add the category\_pathway parameter to the product page link on the products listings when the simplified breadcrumb option is turned off in order to allow for the "next/previous" buttons to handle the correct origin category.
* The canonical URL is now generated if necessary on the product if it hasn't been generated yet
* The XMap/MapX plugin now supports images
* You can now configure the characteristic display method per characteristic
* We now allow the selection of a product listing menu item as "menu" of a category listing module
* We now display an error message when dimensions are missing from products in the cart for shipping methods requiring them
* You can now specify products and categories at the same time in custom fields
* We now trim by default the search made in the backend listings
* We rewrote the management of the points per categories in the user points plugin
* The currency switcher module can now be displayed by modules anywhere even with the "do not use a form" option turned off
* We now trim spaces from the words of the keyword exclusion list option of the HikaShop configuration
* We improved the display of the tabs of the view "product / show\_tabular" for mobile devices
* We now cancel the creation of a new wishlist if the customer doesn't already have at least one created
* We now support the complex custom field types on the Joomla profile edition page
* We've improved the "no SSL outside checkout" plugin to better support cases where the "force a menu on checkout" option of the HikaShop configuration is set to a checkout menu item
* We added some extra classes for category listings in "div" display in order to easily style the current category with CSS
* We store the currency rate of the currency when the order is created if the currency is not the main one
* We now deactivate the autocomplete of the browser on the email fields to avoid errors when the email confirmation field is enabled
* The group by categories listings better handle several levels of categories (thanks to GunnarB for sharing his improvements)
* There is now a check on the category/product alias so that it is always unique
* We improved the handling of the tax types selection
* We now notify the customer if the registration link has not been sent due to an email issue. (when joomla registration is set on "Self")
* We now allow a third email component to send emails and set the status "mail\_success" to "true"
* We now export the brand name instead of the brand id during the product export process
* Plugins are now triggered on the plugins listing view in the backend
* We now correctly force the menu position in the backend on Joomla 3.x
* You can now enter a table prefix for the import from OpenCart

#### Features (9)

* You can now define the margins of the generated PDFs for the PDF invoice plugin
* You can now configure a regular expression check on the custom fields
* We developed a new payment plugin for the payment gateway PayU India
* We added a new payment plugin for the PayPal Website Payments Pro Hosted ( also known as Intregral, or Integral Evolution, or Websites Payments Plus ) payment gateway
* We introduced the product edition system from HikaMarket into the HikaShop backend
* We added a new payment plugin for the Atos Sips v2 payment gateway
* The SagePay plugin now have an option for the transaction type (for authenticate or deferred transactions)
* We added an option in order to be able to specify the decimal separator in the CSV exported by HikaShop
* We added an option in the plugin "datepicker field" to manage servers with special time zone configuration

### HikaShop 2.4.0

**Release date : March, 03 2015**

[List of all the files changed between the 2.3.5 and the 2.4.0](http://pastebin.com/SShrRE4c)

#### Bug fixes (65)

* We fixed the display of the popups with Joomla 3.4
* We now skip the "lang" parameter in the SEF router in order to avoid a new behaviour of Joomla 3.4 which was adding an extra unnecessary parameter to the URLs when the system language filter is activated.
* We fixed a warning message about com\_users with the HikaShop registration page on Joomla 3.4
* We fixed the product page link on the order details page of the backend.
* In some cases, the order number wasn't rightly retrieved from the order while notifying the customer after an order modification.
* We now handle the display of the tags properly on the product page when the products have characteristics
* The title of the filters were not translated when they were displayed "inside" a text box
* The "save & notify" button of the Additional information edition popup of orders wasn't notifying the customer
* We fixed a fatal error in the Google Analytics plugin when you don't use the universal mode
* The restrictions on the date were not working properly for the limits
* Prices are now calculated properly on listings where the price display method is "range" when the "floating tax prices" option is activated
* We now avoid a warning on the custom fields listing page when the plugin of a type of an existing custom field is unpublished/removed
* The MijoShop import could generate a MySQL query error when inserting the categories from MijoShop to HikaShop in some cases.
* We fixed an error message displayed with the copy of the files of the sample data
* We fixed an issue with the pagination system on products listings with the "Redirect POST mode" option activated
* We fixed a duplicate id in the HTMl of the product page when a product had characteristics added to it and several images for each variant of the product.
* The checkbox filters on custom fields didn't handle well the values when they had spaces in them.
* The Authorize.net DPM mode wasn't displaying the payment page through an iframe
* We fixed some duplication of attributes in radio elements in bootstrap mode.
* We fixed a warning with the TaxCloud plugin on the order creation notification email.
* We fixed the insert of the default zones for the Ilse of Man, Telangana and removed the duplicate country Moldova.
* We fixed the "proceed to checkout" button on the cart details page.
* The validation on the finish button of the checkout wasn't correct and could lead to orders created before clicking on the "finish" button in some rare cases.
* The "number of items" option of the related module wasn't taken into account anymore if you turned on the "redirect POST mode" option of the HikaShop configuration.
* We fixed a fatal error with the handling of related products during the import in some cases
* We fixed some rendering HTML for the popups.
* When user enter a wrong captcha with the ReCaptcha plugin we didn't keep the user data.
* We fixed translation errors in the da-DK language file
* There was an issue with the tax calculations for shipping fees if the floating tax prices option was activated.
* The Google Remarketing plugin didn't output valid HTML
* Custom contact fields with uppercases didn't work. We now forbid the use of uppercase for the contact fields' column name, like for other fields.
* We fixed an issue with the payment notification from ATOS payment gateway
* We fixed a SQL error in some rare cases with the characteristics addition on the product edition page
* We removed some unwanted characters in the product show page
* We fixed the coupon processing while using floating taxes
* We fixed the price processing for discounts in "discount after tax" with "floating taxes".
* The advanced date picker does not display an incorrect date anymore if the custom field value is empty.
* We fixed a bug regarding the "Product tax category" option which was displayed 2 times in the FedEx shipping plugin
* We fixed the User Points checkout step submission when not using the points by default.
* We fix the re-ordering of characteristics in the product edition.
* We fixed the calculations of the prices with discounts when the "floating tax prices" option of the configuration is activated
* We fixed the plugin "user points" for the application of restrictions when displaying the checkout block.
* We avoid a MySQL error during the copy of an order when the original order doesn't have a shipping/billing address
* We fixed a small warning which could potentially happen on the cart view of the checkout when product options don't have prices
* We fixed a filtering problem with the saving of the currencies for price filters preventing the shop owner from selecting several currencies for it
* We fixed the pagination of the products selection listing in the HikaShop product insert button plugin
* In redirect mode, the cursor filters were not handled properly
* We fixed a filtering problem with the saving of the text filters preventing the shop owner from selecting several values in filters
* We fixed a fatal error for the files download in some cases
* We fixed an issue with the Eway payment plugin when having products with characteristics in the order
* When the country selected in the configuration of the envoimoinscher plugin was "France metropolitan", there was an error "wrong iso code"
* Following the modifications for the checkout cart to be responsive, the PayPal Express Checkout wasn't displaying its button on the checkout cart anymore
* We fixed a warning with the loading of non existent addresses in some cases
* We fixed a problem with the floating tax calculations whereby the prices could be double taxed for variants on the checkout
* The system wasn't using the prices from other currencies and converting them automatically on products listings
* The product CSV export would sometimes double escape the double quotes and the separators in the columns data
* The "ordering" column of the ordering column option of product listings wasn't taken into account anymore
* We fixed a MySQL query error in some cases with the display of the shipping methods selection on the checkout
* The Ordering and Inherit value in the "ordering column" dropdown option could be displayed twice in the dropdown if they were selected
* The provinces Bolzano and Aosta have been fixed for the Italy country
* The Envoimoinscher plugin now doesn't display an error message when there is no value for the "package weight percentage" option when we save configuration
* We fixed a bug (SQL syntax) on the "delete image" button of the 'Images' tab of the product configuration page.
* We now use the correct quantity display for the variants.
* The Indian states have being corrected

#### Improvements (57)

* The deprecated AlphaUserPoints payment plugin has been removed from the install package (the user points plugins should be used instead)
* The JomSocial plugin is more flexible and the customers themselves can select whether to display it or not.
* The onBeforeCheckoutStep/onAfterCheckoutStep triggers are now available for payment and shipping plugins
* The filters edition screen now allow you to select a custom field even before you save the filter once
* We improved the display of the votes when the option "vote & comments connected" is activated.
* We display an error message when the URL entered in the PayPal payment plugin doesn't start with https://
* We now clean the Joomla cache when the cart is modified in order to avoid issues with it. Thanks to that, you should now be able to use the Joomla cache with HikaShop without needing specific caching rules
* The total lines of the invoices were reordered in order to match the order in the emails which is more logical
* You can now add tags of the order data in the return url parameter of the payment methods. That way, you can easily setup a redirect to the order details page after the checkout
* The product\_code of the variants is now generated automatically when you create a new variant without any name based on the main product product\_code and the characteristics values selected for the variant
* We added the "user" tag variable for the HikaShop emails.
* The default image was not displayed for products without an image on the checkout cart
* We avoid the "No shipping method" message when the checkout is in one step mode and the user is not logged.
* The discounts percent field now has a three decimal precision instead of 2 for new installations of HikaShop.
* The products limits can now be accessed from their own menu
* We now delete the affiliate views from the database after using them in order to avoid issues with backup extensions
* The installation process of HikaShop can now recover from the HikaShop tables missing in the database
* A trigger on every minutes has been added in the mass actions (mainly for testing purposes)
* A message is now returned when using the import csv file in a mass actions filter
* The product page now has category specific classes in its main div so that you can add custom CSS on the product page for all the products of a category.
* We removed the "activate smaller URLs" option in the configuration as this option should always be activated
* We now authorize to save in the backend an empty default value for a custom field even if the field is required.
* We now force the menu position in Joomla 3.x
* The text filters now have an new "exact" search processing choice so that the filter will only display results perfectly matching the search of the user.
* The Community Builder plugin now displays itself as supporting CB2 (it worked well before but was listed as incompatible)
* The Purchase Order payment plugin now displays the entered Order Number in the field of the plugin after entering it.
* The product\_taxability\_code column of the TaxCloud plugin will now be checked when you click on the "check database" button of the HikaShop configuration
* We now display the radios and checkboxes custom fields in the bootstrap way when bootstrap design is activated.
* The product\_code of variants of a copied product are now consistent with the new product code of the main product
* The product data is now loaded for each download of the downloads listing of the customer area so that it is easier to customize the listing.
* We added a missing confirmation on the deletion of addresses by the customer for some cases were it was missing.
* We now remove by default the "Articles" header of the Terms and Conditions popup
* We added a new trigger "onBeforeOrderExportQuery"
* We added tooltips for the buttons in the backend dashboard
* The thumbnails generator can now handle special GIF files.
* We improved the CSS for the accordion display.
* We added a javascript even when a variant is selected in the product page.
* We added the Armed Forces states in the United States country zone for new installations of HikaShop
* We now take into account the ordering of processing of the shipping methods for the ordering when several shipping methods have the same ordering
* We improved the error handling with the UPS shipping method
* The KashFlow errors are now prefixed by the text "KashFlow error" so that the merchant can easily identify where the error is coming from.
* The price cursor filters now handle the rounding of the prices correctly based on the number of decimals configured in the currencies
* You can now see the tax amount collected for each tax rate in the tax rates listing of the backend.
* The Authorize.net payment plugin now also supports the CAD, EUR, GBP and NZD currencies
* We improved the "image check memory" algorithm in order to handle some unusual PHP memory limitations when generating thumbnails
* We now only change the status of the orders at their creation if the status selected is different than the default status in the collect on delivery/bank transfer/credit card payment plugins
* We now handle the order tax namekey and order tax amount for the order mass display and result actions.
* The categories of the "group by category" product listings are now better sorted
* The WorldNet TPS payment plugin now displays a proper error message when the secret key entered in its settings is wrong
* The categories/brands filters now only use the published and accessible categories/brands
* The images and files now have their spaces replaces with - instead of \_ when you upload them for better SEO
* We added translations for vote options in backend.
* We now handle the drop down quantity selector when using the "Global on listings" quantity field display option.
* We added some span tags around filters to be able to better style them.
* When saving products, the edition interface was not displaying the changes until the page would be refreshed
* The Envoimoinscher plugin now displays an error message when it cannot retrieve the product categories from the Envoimoinscher website.
* The order auto cancel plugin now regularly checks the orders regardless of the period entered in the options and only use the period option for the wait time before canceling the orders.

#### New features (28)

* We added a Dimension/Weight approximation option for the USPS plugin.
* There is now an option in the donation plugin in order to specify the column name of the custom field for the donation amount.
* We added the possibility to add a placeholder value on text input and textarea custom fields.
* Custom order fields can now be displayed only if a product, or at least one product of a category, is in the cart Custom item/product/contact fields can now be restricted by product.
* You can now select one or several products for badges
* You can now select several categories or/and several discounts for the badges
* The cursor filters can now work on custom product fields
* The badge creation/edition form now has a new selection interface for categories and discounts
* You can now select several zones in a discount/coupon
* You can now select several categories in a discount/coupon
* You can now select several products in a discount/coupon
* The limit edition/creation form now has a new selection interface for products and categories
* We added a "send order details" option to the PayPal Pro payment method.
* The tax rules can now have several customer types configured in them.
* The tax rules can now have several zones configured in them.
* We added a new payment plugin for the westpac API payment gateway
* The shipping plugins had a whole revamp of their products grouping in order to better calculate the shipping fees
* You can now enter BCC and/or CC email addresses for each email when you edit them via the interface of the Business edition
* The ReCaptcha plugin now supports the version 2 of the Google ReCaptcha API including the "No CAPTCHA reCAPTCHA"
* We now load the languages properly for the ReCaptcha plugin.
* The contact form was not supported properly by the ReCaptcha plugin
* We added a show ETA option for the UPS plugin
* We added an option to currencies in order to be able to specify a rounding increment which will be used by the system when the "Round prices during calculations" option of the HikaShop configuration is turned on. Thsi can allow you to set rounding of prices by 0.25 steps or 0.05 steps, etc
* Shipping plugins can now override the tax zone thanks to a new option
* We added an "order unpaid statuses" option to the HikaShop configuration so that you can select the statuses for which orders can be paid (before, only orders in the default order status could be paid)
* You can now select the default view of the registration area of the checkout when you're using the "switcher" mode.
* You can now specify a return URL for the bank transfer payment plugin

### HikaShop 2.3.5

**Release date : December, 24 2014**

[List of all the files changed between the 2.3.4 and the 2.3.5](http://pastebin.com/2PapgNnN)

#### Bug fixes

* We added a check to avoid a potential loop error on the checkout with some specific configuration of the checkout workflow
* We fixed a potential fatal error with mass actions during the process of creation of the order.
* We fixed the parameter for the item id in the HikaShop product tag insertion plugin
* The cart sent to PayPal was not correct with the "send cart details" option activated in the PayPal Express Checkout payment plugin.
* We fixed the date format on some views of the backend
* We fixed the calculation of the amount of coupons when they apply on several variants of a same product at the same time in a cart so that it doesn't take into account the main product
* We fixed a redirection problem on the checkout when the "force redirect on checkout" option is set to something else than the default value resulting in the forms being dismissed
* The uploaded files of custom order fields could be reset when editing the additional information of orders in the backend if the custom fields were of the type "file"
* We now remove the linevar tags from the email templates if the corresponding data doesn't exist
* We do not allow the checkout to proceed if the address entered is not valid in ajax mode input
* The commas were stripped out of the page title on the product pages
* The size calculations in the USPS/UPS plugin has been improved
* The vote edition interface in the backend has been fxied
* The delete function on mass actions has been fixed
* We added a fix to not display a paypal recurring payment method if not enabled
* The "Negotiated rate" option of the UPS plugin has been fixed and a new "State or province" field has been added to the plugin
* We fixed some code to display the "Notify me when available" button on product listings too when products do not have any stock
* The advanced date picker now read the server timezone to handle more precisely the date restrictions
* The credit card form didn't let the customers continue the checkout after entering the credit card data on the checkout
* We fixed the export csv feature for the categories in the mass actions
* We fixed some code for the support of third party comment systems on product pages
* We fixed warnings on 2 level category listings
* We improved the characteristic check to better handle translation files and not break the characteristic add javascript when the translation is not valid
* We fixed a typo in the HTML output of the characteristic area display
* The OkPay payment redirection screen was missing the button name
* We fixed the loading of language override for some email or modules
* We fixed a display error with the addresses on Joomla 1.5
* The products URLs from the XML generated by the Google Products plugin with the backend trigger would contain /administrator/ in them if they were generated out of the canonical URL of the products
* We now avoid deleting the image on disk if the user delete an image entry from a product and that the image on disk is used by another image of the same product
* We added a fix to the USPS shipping plugin regarding International services
* We fix the display of discounts in the emails
* We fixed the calculations on the table widgets for sales totals
* We fixed a characteristic update query error
* The image of the main product was not retrieved properly when variants were loaded in AcyMailing newsletters
* The error messages for invalid credit card numbers contained an unnecessary semi colon at the end
* We now avoid the shipping address fields to be taken into account when the "same address" checkbox is checked and the customer click on "next" on the checkout
* The user synchronization plugin could wipe out the user's custom user field data on the checkout if you had custom order fields on the last page of the checkout and were using the "user group after purchase" feature of the HikaShop Business
* The error message for categories listing menus missing associated products listing modules could in some rare cases be displayed even though the menu was a products listing menu for which associated modules are not necessary
* We fixed a query issue with the automatic export of CSV files before products update with the mass actions system when products have variants
* We fixed a fatal error when there was a connection problem between the website and the PayPlug payment gateway when saving the PayPal payment method settings
* We fixed a bug with filters of the type "cursor" on the average score product information

#### Improvements

* The tax categories can now be configured on several levels and inherit the tax rules of their parents
* We now forbid the modification of the currency code of existing currencies when you edit them as it should never be changed for currencies already in HikaShop by default
* We now add the link on the main categories of listing lists even if the "link on main categories" option is turned off if there is no child for the category
* We improved the filtering of custom fields to better handle multiple choice custom fields
* We now display the "carts" menu in backend even if the multi cart option is not enabled
* The Sagepay payment plugin has been updated to version 3.00 of the Sagepay API
* We now display the Joomla tags in the product page
* We now avoid duplicate title SEO errors on deleted product pages
* We improved the default redirect URL when the cart is empty
* We added the itemid to the notification URL of the webmoney payment plugin as it can help in some cases with the SEF of Joomla
* The PayPal Express Checkout now stores the transaction id in the order history
* The yes/no buttons in the front-end have now colors when using Joomla3 with bootstrap
* We added the currency RUB into the paypal plugin
* We do not send anymore the "Content-Ranger" header when sending completed files
* We improved the plugin "advanced date picker" for the option "default today"
* It is now possible to use a dropdown filter on a zone custom field
* The eWay payment plugin now also sends the last name of the customer for the transaction
* The default upload folder is now images/com\_hikashop/upload instead of media/com\_hikashop/upload so that the images are indexable by search engines and that you can manage them with the media manager of Joomla
* The Payment Express and PayPlug payment plugin now uses TLSv1 instead of SSLv3 in order to connect to the payment gateway
* The PayBox payment plugin now verifies the signature of the payment gateway during payment notifications
* We now make sure that the customer cannot click several times on the validation button for the sending of the contact request form in order to avoid duplicate emails
* The PDF invoice plugin now handle multiple shipping methods selected per order and shipping address overrides
* We added a translation for the cursor filter title separator
* We added the compatibility with the Joomla 3.4 frontend module edition
* Cursor filters now supports decimal steps
* We now skip the VAT number check for las palmas as las palmas is not in the european VAT zone
* It is now possible to have a item custom field where the fields values are stored in a linked product custom field.
* The product insert tag feature now uses products canonical URL if specified in the products
* Before creating an order, we added an additinoal check to make sure that there are still products in the cart (it could be a problem with a product with only 1 stock left was bought by 2 person at the same time)
* We added multilingual support to ReCaptcha's error messages
* HikaShop now refuses the registration if the password is required for the registration but not provided (by tempering with the form HTML or any other mean of submitting the registration data)
* We trim spaces on the Stripe payment method keys as people sometimes add spaces in there and the error message returned by Stripe in that case isn't clear
* We added the error codes to invalid notification emails from the PayPal Advanced payment plugin in order to better understand problems with transactions
* The email notifications do not include anymore the header message to access the order page if the customer did a guest checkout since the order page requires logging in, for security reasons
* We added the support of mod\_xsendfile so that HikaShop can send its files via mod\_xsendfile and avoid issues with big files and serve files faster
* We added some CSS for the HikaShop navigation bar so that its styling is consistent regardless of whether the Isis template configuration is saved or not
* We improved the shipping cache system in order to have something local in each shipping plugin for greater flexibility
* We added some limitation of the number of characters in the bitcoin plugin
* We changed the date format in the report export
* We added a proceed to checkout button in the cart show page
* The product options information popup now uses the new popup system instead of the mootools popups for greater compatibility with templates
* We added a new trigger : onAfterProductCharacteristicsLoad
* We improved the speed of the checkout display processing by removing 20% of the queries on checkout pages
* The tax rates and tax rules management interfaces can now be extended by third party plugins
* We added classes in the "user / download" view to allow alternating colors

#### New features

* We added a "no self affiliation" option for the affiliate plugin
* We added an option in the HikaShop UserPoints plugin to not use the points by default
* We added an option to the HikaShop product update cron plugin to be able to add a percentage fee to the prices imported
* There is now an option in the Order auto cancel plugin in order to notify the customer for the cancellation of the orders
* We added a new option in order to be able to set the user group of newly registered users via the HikaShop registration form to something else than the user group of users registering via the Joomla registration form
* We added a new option for the category listing modules
* We added a new option in the plugin WebMoney to select the signature mode
* We added new settings in the google analytics plugins to load extra modules
* We added a new option to the Authorize.net and SagePay plugin in order to choose to send or not the cart details to authorize.net / SagePay
* We developed a [shipping plugin for EnvoiMoinsCher.com](http://www.hikashop.com/support/support/documentation/278) which can handle LaPoste, Colissimo, ChronoPost, Relais Colis, Mondial Relay, TNT , FedEx, UPS, DHL, etc shipping from France
* A [correios shipping plugin](http://www.hikashop.com/support/support/documentation/281-hikashop-shipping-correios-form.html) has been developed
* A [Cielo payment plugin](http://www.hikashop.com/support/support/support/documentation/279-hikashop-payment-cielo-form.html) has been developed
* A [PagSeguro payment plugin](http://www.hikashop.com/support/support/documentation/280-hikashop-payment-pagseguro-form.html) has been developed
* We now have an option of the configuration to redirect the pagination change requests and filter change requests on the products listings to avoid browser back button alert messages
* We added a new option to be able to have floating tax prices (the prices that you defined in your products/shipping methods prices etc are considered to already include the taxes and the tax compounds and untaxed prices are calculated out of the price you enter)
* We added a new option to set the default product type (shippable/virtual) of new products in the HikaShop configuration
* SVG support has been added for images in HikaShop
* We added a return URL parameter to the PayPal Express Checkout payment method
* The checkout cart is now fully responsive
* We added the files and images management in the mass action csv export
* It is now possible to send csv export file via email in the mass actions
* The mass actions allow to send notification emails
* We developed a new package that you can install on your website to automatically insert all the tax rules for electronic goods sold in the European Union as a merchant from that zone. [Read more about HikaShop and the new EU VAT rules here.](/support/support/documentation/287)
* We developed an integration plugin with the accounting online system [Kash Flow](http://www.hikashop.com/support/support/documentation/286)

### HikaShop 2.3.4

**Release date : October, 21 2014**

[List of all the files changed between the 2.3.3 and the 2.3.4](http://pastebin.com/BP7YVY59)

#### Bug fixes

* We removed a potential notice in backend manager of variants
* The credit card input fields were not sliding back when selecting another payment method in some cases on the checkout
* We fixed several issues with the virtuemart 2 import
* We fixed the attachment deletion in notification emails
* We removed the product listing module associated to the product listing menu added by default in HikaShop
* We now avoid errors with really old versions of AcyMailing
* We fixed a bug with the wizard on Joomla 2.5 when installing the default data which prevented the installation of the default data
* We fixed a warning with the entries validation process
* We fixed the listing of entries and the export button on entries which was not working properly in some cases
* Only the first category of the products was taken into account for the display of the custom item fields on the products listings
* We corrected a text mistake for "product\_quantity" in the emails
* We corrected the function to convert the cart into wish list from the checkout page
* The collation of the user table of Joomla could be different than the one of HikaShop in some really rare case which could create a problem on the orders listing of HikaShop
* The mass actions "update the values" input box didn't handle properly complex HTML and that would then mess up the display of the edition of the mass action
* We fixed a warning in the virtualmerchant plugin
* The URL of the product page in the contact request notification email has been fixed
* We now set properly the default value of the Order status settings of the BitCoin plugin
* The cumulative option of tax rules was not handled properly when tax rules where configured on different levels of zones (country/states for example)
* We fixed the "simple date picker" issue with Joomla 2.5.24 (and Joomla 3)
* The add to cart of several variants of a product at the same time from the product page was not adding the quantities to the existing variants of the product in the cart if possible but would always create new product lines
* Translation overrides of some strings could potentially break the javascript of the registration form rendering the registration form inoperable
* The category links might not have been generated properly on categories listings if the current menu item had sub menus of the type HikaShop but something else than "product" or "category"
* We fixed the management of "ajax file/image" for order custom fields
* On products listings, the add to cart button didn't handle the products with options properly and would display the add to cart button instead of the choose options button even though the product had options
* The categories listing in list was not handling the "link on main category" option in a particular case
* The cart printing was not working properly on IE
* HikaShop now makes sure to always refuse the checkout to finish if the credit card details are necessary but not filled by the user. It would not do the check in some rare cases
* We fixed the CSV import of files/images name/description
* We fixed a problem with several filters on custom fields with their dynamic display option activated
* The "brand" option of the HikaShop category search plugin wasn't working properly
* We now avoid some errors with the text search filters on custom fields in a rare case
* We fixed the redirect when clicking on the subscription button in the user control panel for the HikaShop starter version
* The rounding on the total taxes (and then the total) could happen to not be correct with several different products in the cart with the rounding calculation option turned on
* We fixed the plugin "shipping price" per product when a shipping name have special character into it
* We fix the "cart retaining period" option to not clear the wishlist too
* The export of products with characteristics with names with special characters via the mass actions system has been fixed
* We now avoid fatal errors when a custom field has been created with a type from a plugin which is then removed/unpublished
* The "choose options" button on listings didn't always had the current URL to the product page
* The error messages of the Bitcoin plugin has been improved
* The error messages of the PayPal Express Checkout plugin have been improved
* The Akeeba subscriptions plugin would create a second subscription when changing the status from confirmed to shipped and it is now fixed
* We fixed the export of address fields for orders via the mass actions system
* The cart price and the prices of the products of the cart were not calculated properly in the backend cart manager
* We fixed a problem with the file name import of CSV files
* The options were not always displayed in the cart/order in the same order than on the product page
* We fixed a javascript error with widget/report when one of the countries with sales displayed on a map has a quote in its name
* The delete icon of the items in the HikaShop cart module was not working properly in some very specific cases related to SEF
* The print popup wasn't closing with the PDF invoice plugin when retrieving the PDF from the order details page of the frontend
* The creation of links on Joomla 1.5 might crash due to a modification for better SEF support in the previous version of HikaShop. It is now fixed
* We fixed the handling of the add to cart buttons for content product tags so that they work in any case
* The tooltip on the edit button of the addresses listing of the customer on the frontend was missing
* We fixed some query errors with filters in some particular cases
* We fixed the return of the product selection while modifying an order in the backend
* The dates in the akeebasubs plugin are now managed by hikasop\_getDate() function to handle the server time differences properly
* The checkout page now displayed correctly if "Display Express Checkout button on checkout view" option is disabled in the PayPal Express Checkout payment method
* We fixed an issue regarding the mass action csv export with characteristics
* We fixed the add to cart button system which didn't work in some cases when it was global on product listings
* The "module style" parameter of modules was not taken into account by Joomla for the modules included with HikaShop
* We fixed the dynamic price range of cursor filters
* We fixed the current URL retrieval for servers with a strange configuration in some rare cases
* We now force the loading of the "lib\_joomla" language file for the pagination translations which can not be loaded in some rare cases
* The reports/widgets in table were not applying the "last 30 days" and "this year" filters properly
* The reports/widgets filtered on products were not taking product variants into account
* We fixed the user group update when the trigger "on after an order is updated" is used in a mass action

#### Improvements

* The user group after purchase system now removes the guest checkout capability on the checkout when at least one of the products in the cart has a user group after purchase configured
* We changed a translation in the backend configuration about votes to make it more understandable
* We now make sure to only display the main price of the options in the options dropdowns
* We now remove the "Pay now" button in the Paypal plugin for IE if the form is automatically submitted
* The shipping address override wasn't taken into account for the display of the shipping address of the order details page of the backend
* We reversed the default order of the state and country address fields since the country should be selected before the state
* The Google Products plugin doesn't include anymore the products which are only linked to unpublished categories
* We now try to auto select the shipping if the shipping view is not on the same step or if the address has been auto selected
* We added a rel="nofollow" attribute to add to cart buttons made with an A tag so that search engines do not index them since there is no point to it
* We improved the user selection popup in the cart / wishlist backend management
* The Authorize.net payment plugin now supports more than 30 lines of product entries
* We avoid loading HikaShop helper in the AcyMailing plugin when the plugin is initialized, and do it only when needed in order to reduce potential translations conflicts
* We changed some HikaShop translations in order to reduce potential translations conflicts with AcyMailing
* We improved the Joomla registration form redirect plugin to automatically find a valid HikaShop menu item if none specified in its options of if invalid
* We added many additional supported currencies in the PayPal recurring plugin
* The categories of the product on the product page are now loaded in the correct order
* The default grouping of zeros for the Yen is now 3 digits
* We now properly handle translations for sorting elements in filters
* The tax rates are now ordered based on their tax rule ID when displayed on the cart/checkout/order/emails
* We disable the next button on the checkout after the user clicked on it in order to avoid the orders from being submitted twice
* We better handle the display of the custom category fields on the listings on the frontend so that the "additional information" title only displays if necessary
* We now allow the display of the required symbol next to the label instead of next to the field via view edition
* When deleting an item from the cart / wishlist view, we now stay on the same page
* We add some checks in the image helper in order to estimate the memory usage before creating a thumbnail in order to avoid memory limit errors
* We now make sure that products in categories that are unpublished or not for our user group are not taken into account for the Joomla search results
* A new translation has been added for "wishlist name" in the wishlist view
* We added more checks on the multi cart option when redirecting to the user control panel in frontend
* We improved the SEF handling system to avoid using invalid menu items for links when the user didn't configure the menu properly in modules etc
* The filters layout is now responsive
* We now download the language files with HTTP instead of HTTPS on the wizard in order to avoid issues when openSSL is not activated on the web server
* Users not logged in are now redirected to a login page when trying to see the wish lists
* The "same as billing address" option now also works for "list" and "dropdown" address selectors
* We unified the format of the dates in HikaShop
* The tax rules can now have a tax note, a tax code (these do not display anywhere for now) and be assigned to a JMS multisites slave site in order to have different tax rules for different slave websites
* We improved the display of variants custom field in the product page when the value is "0"
* The AcyMailing integration now handle the language selection of the newsletters
* We improved the download the default image for the "ajax image" and "image" custom fields
* We re-factored the characteristic/variant algorithms so that they perform better and faster
* The errors of login coming from the Joomla library were not translated because the the Joomla library doesn't load its own translations. We now load them for it before calling it for the login of the user on the checkout
* The PDF invoice plugin now always displays the shipping/payment method selected
* We now do not display the "become a partner" checkbox on the registration form if the affiliate plugin is deactivated, even if the option to display it is activated in the configuration of HikaShop
* We improved the display of the order status translations in the front-end
* We now support the "{time}" value for every kind of mass action
* We added the support of "tons" for the weight of the products ( yes, someone is selling really heavy stuff with HikaShop ! )
* We improved the integration with multi-language systems
* The My downloads listing of the user control panel now handle files of the main product of variants
* The "check database" button of the configuration can now also automatically add back custom fields if they are missing in the database structure
* We improved the name of the PDF file generated by the PDF invoice plugin
* The PDF invoices generated by the PDF invoice plugin are now always in the user language
* We add the support of manufacturers for the badges
* The full Latvian translation for HikaShop is now available (thanks e-cilveks!)
* The products search results now take into account the canonical URL of the products
* You can now easily display a "no results found" message on the filters result page with just a translation override
* We improved a bit the rendering of the address display so that it avoids empty lines. Also, you can now add conditions on the address fields data in the address template code
* The PDF invoice plugin now handles better product names with a lot of characters
* We improved the GD library checks for thumbnails generation in order to display better error messages
* We modified a bit the layout of the description zone for the product edition page in the backend in order to avoid confusion for the users
* The Google Product plugin could be producing a XML with a too long product type if you had several categories attached to your products and/or a deep category tree. The system now stops before reaching the limit imposed by Google
* We now clear the plugin cache upon the HikaShop installation and the enabling/disabling of plugins in the configuration of HikaShop in order to avoid issues with Joomla not finding them when the cache is turned on
* The Social Networks plugin has been moved from the content group to the system group in order to avoid caching display issues where the {hikashop\_social} tag was not being replaced
* We added a review import system to the Virtuemart import
* The TaxCloud plugin now displays an error message if the SOAP extension is missing on the web server as it is a requirement in order to connect to TaxCloud servers
* A warning message is now displayed if the shipping / payment plugin Joomla access option is set to "restricted" as the plugins need to be kept public in order to receive shipping / payment notifications
* The URL of the brand of the product on the product page has been improved to try to use automatically a brand listing menu item
* The URL for the "proceed to checkout" button of the popup notice has been improved so that it will use the best URL possible
* The taxes on the price of the products added to an order in the backend now takes into account the address of the order if specified
* We added a trigger onBeforeVATOnlineCheck in order for HikaShop plugins to be able to change the behavior of the VAT number online check
* We now use the "invoice order statuses" of the configuration instead of just "confirmed" and "shipped" in order to know when to give back the stock of products of an order which is being cancelled/refunded. That ways, you get a greater flexibility
* We now first test that cURL is installed before trying to import sample data on the wizard screen
* The PayPal Express Checkout payment plugin now supports the selection of the landing page of PayPal
* The PayPal Express Checkout payment plugin now strips the products description to avoid errors on PayPal's end
* We improved the display of the multiple shipping methods selected for the order in the invoice
* We added a Authorize/Capture/Refund system in the payment plugin system so that we'll be able to provide more advanced functions in the future
* The limitation part of the mass actions has been moved in another fieldset so that the interface is easier to understand
* We now allow the simple quote for the product image alt and title
* The product objects in the backend listing now have the price with tax set so that you can change the price displayed on the listing to include taxes with a simple code modification
* The Akeeba subscription plugins have been updated in order to handle the FOF or F0F library depending on the Akeeba subscription version
* The PayPal Express Checkout payment plugin now supports the payment fees when the "send cart details" option is turned on
* We modified the view "cart / showcart" in order to have a content similar to the view "checkout / cart"
* Refresh and delete buttons are now present next to the input fields of the "cart / showcart" view file
* The product options are now taking the shipping warehouse of their parent if the HikaShop setting "group options" is enable in order to improve consistency on the checkout product grouping system
* The guest checkout is now deactivated dynamically by the user group after purchase plugin when products with a user group after purchase configured are present in the cart
* We add a letter at the beginning of the alias of products and categories in order to avoid issues when the alias starts with a number

#### New features

* We developed a new payment plugin for the Google Wallet payment gateway
* We added a new payment plugin for the Russian payment gateway Platron (thank you to them for developing it!)
* Shipping methods can now be restricted by currency
* The massaction export csv function of the product data now handles the product price with tax
* You can now select the statuses for which the PDF invoice will be attached to the email notifications of HikaShop
* We improved the "user points" plugin with a new mode for the "give points when using some" option
* We now can add many BCC in the PDF invoice plugin
* We developed a Purchase Order payment plugin so that customers can purchase with only a PO number they can enter on the checkout
* We added an advanced option in the configuration in order to allow you to deactivate the buffering and the compression during the download of files as it can break the downloads with some rare server configurations
* We added a "Sort by price" option to the USPS shipping plugin
* We added the shipping service "container" to the USPS shipping plugin
* We developed an payment plugin for the payment gateway PayFast.co.za
* We developed a "Purchase Order" payment plugin
* We added an option "Destination type" to the FedEx shipping plugin
* We created a custom field Mondial Relay type plugin so that you can ask for the selection of a place where the customer can get his delivered goods near him
* We added a new payment plugin for the payment gateway Adyen
* The Servired payment plugin now has a new option in order to select what kind of payment methods should be displayed on the Servired payment page after the checkout
* An option has been added on the "link" custom fields to open the link on a new window
* We developped a payment plugin for the Paygate payment gateway
* The HikaShop analytics plugins now supports "Universal Analytics" with also the "Measurement Protocol" to track the sales even if the order is confirmed in a payment notification
* We added an integration plugin for Google Adword conversion tracking

### HikaShop 2.3.3

**Release date : September, 24 2014**

A security issue relative to the activation process of the HikaShop registration has been reported and fixed. [Read more about it here](http://www.hikashop.com/index.php?option=com_content&view=article&id=269)

This release also have fixes for Joomla 3.3.4 compatibility.

### HikaShop 2.3.2

**Release date : July, 7 2014**

[List of all the files changed between the 2.3.1 and the 2.3.2](http://pastebin.com/f1U8AXZA)

#### Bug fixes

* The payment notifications for the BitPay (bitcoin) payment plugin was not handled properly
* We fixed several issue with the PayPal Express Checkout plugin and improved the SEF URLs handling to avoid errors on some websites based on how the SEF is configured
* The product page's page title was not taking into account the Joomla page title settings properly
* The user group after purchase system was adding parent groups of the groups of the user to the user on top of just adding the new groups attached to the products being purchased. Based on how your group structure was made, it could lead to issues
* We fixed some problems with the edition of the rows of table reports so that it works properly
* The Australia Post product grouping algorithm for packages has been improved to include recent changes of Australia Post
* We fixed some bugs with the export of orders whereby the filters of the orders listing where not taken into account properly
* The SEF URLs were not always handling the port of the URLs ( like localhost:8080 )
* The page header was not displayed when using the "Group by category" sub element filter of products listings
* Payment notification emails were not sent anymore due to a typo in the code
* The delete button had been inadvertently removed on the customers listing on the backend in the last version of HikaShop and has thus been added back
* We fixed the saving of attachments to emails which was loosing the old attachments on each save of an email via the menu System>Emails
* The product deletion on automatic CSV import with the cron product update plugin has been fixed to work properly
* We fixed the popup notice display for add to cart buttons insertion tags for some cases on Joomla 3.x
* The orders could sometimes be listed several times in the order listings of reports/widgets
* We fixed the product deletion on the cart display page in both the backend and the frontend
* We fixed rounding issues with prices with more than 2 decimals for the PayPal Express Checkout plugin
* For badges restricted on a discount, it was possible for the badge to not be displayed in some cases with products with characteristics
* The massactions system wasn't working properly anymore in Joomla 3.3 because of Chosen changes. We've now deactivated Chosen on the massaction system. That will avoid the problem and allow the mass action interface to display faster on Joomla 3.x
* We fixed a problem with the variants being messed up on product save when the "auto generate variants" option is turned off in some cases
* We fixed a cloning fatal error on PHP 5.4 with shipping prices calculations in some rare cases
* The auto loaded coupons system was not switching properly from one coupon to the other when changing products in the cart
* We fixed some warnings which could appear when saving products with characteristics in some rare cases
* We now properly handle coupons for the PayPal Pro payment method
* The coupon tax wasn't taken into account properly in the recalculations of the total of the orders
* The options were not taken into account for some of the calculations of the coupons restrictions
* The auto loaded coupons system was not switching properly from one coupon to the other when changing products in the cart
* We fixed several problems with the TaxCloud plugin
* The PayPal Express Checkout payment plugin can now handle the payment restrictions and multiple instances of payment methods for itself
* We now avoid a query error when loading category filters and that the category root has been removed by the user (it should NEVER be done !)
* We fixed some strict standard messages in the Business Gateway and Global Gateway payment plugins
* We fixed some errors with the VirtueMart categories import
* We fixed a javascript error with the simplified registration mode
* The "Exact Phrase" search in Joomla search for products and categories has been fixed. We know look for the exact phrase in the name OR the description instead of the name AND the description
* The PDF invoice plugin was not overriding the print button on the frontend for the orders invoice
* We fixed a warning with the product page link on the products listing of the order details page of the frontend
* We fixed potential loop problems with the categories counting on the frontend categories listings
* We fixed a notice message in some cases on the add to cart process
* We fixed an issue with the categories listings when displaying child categories
* We fixed the carts ordering on the backend cart manager
* The add to cart button could not be clicked with a fade item box layout in some cases

#### Improvements

* We now hide by default the "mini description" in tabular display with CSS
* We force the width of icons on the user control panel to avoid the templates messing with them
* The Recaptcha plugin now better supports the HikaShop contact form
* The date filtering on the orders listing of the backend now takes into account the timezone of the website
* The ReCaptcha plugin now has an option to not display on the registration forms
* The reorder function now supports custom item fields of products
* The variants listing (characteristics in list display mode) on the product page now supports the "global on listing" value of add to cart buttons display so that you can have one quantity field for each variant with a main add to cart button at the bottom of the list
* We display the specification tab in the show\_tabular layout if the product has a brand
* You can now select the quantity layout for the products from the category edition page so that it applies to all the products of the category
* You can now set a specific menu id for the Wishlist page when coming from the wishlist module
* New filters are available for AcyMailing, based on the order invoice date/modification or creation
* The PayPal Advanced payment plugin now sends the shipping address to PayPal
* The invoices now display the date of creation of the invoice and not the date of creation of the order
* The system makes sure that the frontend links of products in orders and files in emails have a correct menu item id
* The URLs leading to the checkout have their menu id checked and inserted automatically to avoid 403 errors for some SEF configurations
* The menu id of products/categories links is now automatically fixed when possible. That will avoid a lot of 404/403 errors with the Joomla SEF system
* The variants listing on the backend now displays the custom product fields values in additional columns when the backend listing display option of the fields is activated
* The advanced date picker custom field now supports translations
* The Google Products plugin now supports the "identifier exists" attribute of products
* The Google Products (Merchant) plugin now supports shipping rules for products in the XML feed
* The orders listing of the customer edition page now supports the translations of the payment methods and order statuses
* The mass actions system now supports the import of the price with taxes via the column price\_value\_with\_tax
* We improved the trigger "onBeforeCategoryListingLoad" so that you can have access to more variables
* You can now select the range of the year selector of the advanced date picker custom fields
* We improved the plugin eSelect/Moneris to display more error details
* The microdata plugin has been improved for the support of votes and comments
* The VirtueMart redirect plugin can now redirect SEFed VirtueMart URLs to HikaShop (after an import of the data from VirtueMart) even if the VirtueMart router file is not present on the website to convert the SEFed URLs into non SEFed URLs
* The CSV import system now supports the import of images name, alt, order, and of the files order, free download option, name and download limit
* The checkout now handles the enter key submission for the login form
* The BitPay/BitCoin payment plugin now has a Return URL option in order to redirect the customer where you want after the purchase
* We added the possibility to add custom HTML on the receipt page of the SIPS ATOs payment gateway via a new option of the SIPS ATOS plugin
* We now display the p hikashop\_cart\_product\_custom\_item\_fields element in the cart only if necessary (only if the product really has fields/options attached to it)
* We added a new CSS class to the listings which changes on a per category basis, allowing you to customize the CSS of listings on a per category basis
* We now add a letter to the aliases when we see that they start with a number in order to avoid that the SEF system think that the number is the id of the product. That way, it will display the correct product when clicking on the SEFed link
* We added a try/catch on the queries of the update process to reduce potential errors
* You can now add the no\_zone\_import namekey with the value 1 in the hikashop\_config table via our PHPMyAdmin if you want to prevent HikaShop to add back all the countries/states on each update
* The date format throughout HikaShop can now be set differently for different languages thanks to new translation keys
* We now allow HTML tags in the "Information" field of payment methods
* The warehouse selection of the main product is not passed automatically to the variants if the no warehouse is selected in the variants
* The Falang/Joomfish translations of the product name, product code and category name are now taken into account when selecting these columns in the "ordering column" option of your categories/products listings menus/modules
* The Stripe payment plugin now has a Return URL option in order to redirect the customer where you want after the purchase
* We now always display the order column on products and categories listings in the backend and if the ordering is not possible we warn the user about the sub element filter
* We added additional checks to the price display system to avoid warnings when the function is called with invalid parameters
* We allow the removal of an image/file when the "ajax" custom field is not required
* We display some information when a thumbnail can't be generated correctly
* The HikaShop router now supports Falang translations for URL aliases
* We improved the CSS of the tabs system on the product page for the "tabular" layout
* We now catch the Stripe error messages when the server is not setup properly so that it displays better
* We added a product type selection to make it easier to understand the implications of having weight or not in the products
* You can now provide a file URL with HTTPS for your product files
* We now allow pagination item override on the frontend
* The stock display on the product page now handle the singular/plural translation for the quantity of the product
* The mini cart now handles the singular/plural translation for the quantity of items in the cart
* We improved the responsive display of the registration and address forms
* We added consistency between the different subtotal/total/final total translations for HikaShop carts/orders products listings
* The USPS shipping method can now work even if the country address field has been disabled
* We now allow the pagination override pagination\_list\_footer of the template on the frontend
* We added two options to the PDF invoice plugin to select whether or not to override the invoice on the backend and on the frontend
* We make sure that the user entered an ID/Key in the TaxCloud plugin options before processing the taxes with TaxCloud
* The states of Denmark have been updated to only the 5 regions of the 2007 Danish Municipal Reform
* We added the format for Croatia VAT numbers check
* We now swap the "continue shopping" and "next" buttons on the checkout for RTL languages

#### New features

* We added an export button to the discounts listing in the backend
* We added a "check database" button on the configuration page to make sure that the structure of the database of HikaShop is valid and fix it if not
* A payment plugin for the PayPlug payment gateway has been added
* We added new options to generate automatically the keywords and the meta description on products and categories
* It is now possible to configure different prices for different virtual sites and the current virtual site is now stored with the order data when the order is created (this is for our JMS Multi Sites integration)
* The currency rates auto update plugin now also supports Yahoo Finance on top of the European Central Bank currency rates feed. That way, it can work for almost any existing currency

### HikaShop 2.3.1

**Release date : May, 14 2014**

[List of all the files changed between the 2.3.0 and the 2.3.1](http://pastebin.com/bbYb0umM)

#### Bug fixes

* We fixed a warning message with the display of the custom item fields on the products listing of the order details page of the backend
* The associated category couldn't be updated for associated modules when editing a menu
* We fixed an issue with the helpful link of the comments listing
* The search fields on backend listings now properly handle special characters
* We removed a potential notice with the SEF system on the checkout
* We restored the admin admin notification link to the order details page on the backend
* A patch was done to the filter system in order to properly handle the "ALL" value of dropdown filters (in order to reset them)
* We fixed the check on the quantity for products with characteristics where the quantity is only configured on the main product
* We fixed a coupon rounding calculation issue
* We fixed the category selection for modules and menus when browsing into deeper categories
* We fixed the cron update product's "delete products not in CSV" option which wasn't deleting any product when the option to do that was turned on
* We fixed the shipping warehouse system algorithm for the HikaMarket integration
* The PayPal express checkout plugin could potentially break the checkout based on how the checkout workflow was setup
* The locale language is now properly used by the bluepaid plugin
* We added a patch to avoid query errors with cursor filters on rating values
* We made a fix regarding the traduction of the download content menu title
* We fixed the pagination persistence across categories listings
* The checked steps image of the checkout progress bar were not aligned with the other step. The CSS has been modified to properly handle that
* We fixed the popup display on small screens on the frontend with the bootstrap popup mode
* The system didn't load the categories from VM2 properly when they had been imported from a VM1
* We fixed an issue with multiple warehouse and shipping auto select/submit
* We fixed a few warnings with the VAT number checking system
* We fixed a warning with the SIPS ATOS payment plugin
* We fixed a warning for when the "put the store offline" option is turned on in the configuration
* We fixed the save of groups/categories data for the plugin HikaShop User Points
* We fixed the update of the product\_sales for variant products
* The PostFinance plugin now properly handle languages
* There was an issue with the "product" button not being displayed on Joomla 3 with TinyMCE
* We fixed the VM import so that it can handle more than 100 categories
* We fixed a bug with the shipping selection which could refuse the shipping selection in some cases
* We fixed the address handling to the eway payment gateway with the "eway" payment plugin
* We fixed the check of the password confirmation field when the guest mode is selected by the user via the registration selector
* We fixed the display of the selected values for cursor filters in dynamic mode
* The table orders reports restricted to a product now display the total amount taking into account the quantity of the product in each order while it was only calculating the number of orders previously
* The contact page was not working when directly linking from a menu item. It's now fixed
* We fixed a few notices with the attachments handling of emails in the emails management interface of the Business edition
* We fixed several issues with custom user fields of the type "zone" for the table "user"
* We fixed the non-sandbox mode of the WorldNetTPS payment plugin which was always using the sandbox URL instead of the live URL
* We improved the handling of the session for the cart system for unexpected events (like the deletion of all the carts in the backend)
* We fixed the ID of the filters of the type text input which could sometimes be invalid
* We fixed a fatal error on the contact email sending on Joomla 1.5
* The path was sometimes missing from the menu items created by HikaShop, making the SEF links not correct in some cases
* The widgets of the dashboard now display the statistics based on the last 30 days of data instead of the current month's data
* The "print invoice" button on the frontend order details page has been set with the correct translation key
* We fixed a problem with the AliPay payment plugin with prices which were not rounded properly in some cases
* We fixed several issues with the import from RedShop in order to be compatible with old versions of RedShop
* We now display the error messages on the address AJAX edit forms in List/Dropdown mode
* if we just edited a billing address and that there is no shipping address selection and that either the shipping, payment or cart views are present, we do a full reload of the checkout page in List/Dropdown mode so that the user see the shipping/payment methods updated
* We fixed a javascript error with the address edition on the checkout which prevented the system to update the billing address display after a billing address was modified/added if the shipping address selection was not present
* We fixed the "Force 3D secure" parameter of the NETS payment plugin
* We fixed a fatal error in some cases with the PayPal Express Checkout payment plugin
* The default pagination line height has been fixed so that it displays properly on several lines on small devices
* We fixed an javascript when changing the country selection if there is no state field displayed on the form

#### Improvements

* The product export now fills the "parent\_category" column when possible
* We now deactivate by default the filters of HikaShop on the newsletter edition interface of AcyMailing in order to avoid problems when you have a lot of products
* We updated the payment gateway URLs for the NETS payment gateway
* The cart module directly displays the correct URL to the checkout if the "force menu on checkout" option is set
* We make sure to take into account the guest user group configured in the options of the Joomla user manager in the list of selectable user groups in the "access level" options of HikaShop Business
* We removed the hour display for the date filters in the orders listing
* We now make sure to take into account the page title setting of the Joomla configuration for all the pages of HikaShop on the frontend
* The links are not longer displayed on the print out version of the cart/wishlist on Joomla 3.x.
* We now display the main product image on the products listing on the backend
* We added new "increase performances" choices in the Google Products plugin so that you can generate bigger XML exports with it.
* The rich text/snippet plugin now adds the currency of the prices as a meta data on the page.
* The stripe plugin now supports all the currencies supported by the stripe payment gateway
* We added a check when filling the contact us form from a product page in order to get the fields filled.
* The servired plugin now supports the USD currency
* We now avoid multiple notifications for the Ogone payment plugin
* The vote saving URLs are now rendered non indexable by google
* We fixed the add to cart button for the variants displayed in list on the product page with the button style set to CSS.
* The PayPal Express Checkout button language is now dynamic
* The integration with AcyMailing now supports the dynamic retrieval of the main product data for the display of variants with the product tag
* We introduced some database checks in the installer in order to re-create HikaShop tables if required
* We added the support of SVG images for shipping and payment methods
* We now have a special parameter for the CSS files so that you don't have to refresh your browser's cache when you edit a HikaShop CSS file
* We now properly handle detailed taxes for orders created from the backend
* We now allow to add many user groups to a customer after purchase
* We now support extra parameters for HikaShop modules/menus which can be introduced by HikaShop plugins
* The time limit on file downloads is now based on the date of the confirmation of the order, not on the date of the creation of the order
* The Moneris eSelect payment plugin can now handle the USD currency. It requires to configure two instances of the plugin, one per currency/merchant account with a restriction on the desired currency for each one
* The accordion system now takes into account the "use bootstrap design" option of the configuration so that it can use either the bootstrap accordion or the joomla accordion system on Joomla 3.x
* We added new Thai fonts to the PDF invoice plugin
* We improved the conditions for the display of the shipping address, the shipping method and the payment method on the PDF invoice plugin
* The invoice PDF plugin now support the splitting of long product names onto several lines in the PDF invoice
* We added an option to be able to sort the comments by descending date
* The listings now display better with the use bootstrap design option turned on in RTL mode
* We added a failsafe so that the prices are still retrieved on the frontend even if the main currency isn't setup properly in the configuration
* The ILS currency is now setup by default to be displayed like expected in Israel
* The PayPal Pro plugin now stores the transaction id in the order history data
* We now display only the shipping and payment methods on the invoice of the frontend if a shipping/payment method has been set in the order, like it's already the case in the invoice that you can get from the backend
* We now display a warning in the backend if the anticopy or the JTS content protect plugin's framing disallow option is turned on as it messes up the popups
* The filters now won't reset the pagination if no modification was passed by filters parameters added via the URL (which normally doesn't happen unless you have some custom code doing that)
* We improved the configuration of the CanadaPost and UPS shipping plugins in order to avoid basic errors
* We improved the checks on the carts and wish lists management
* We added a "Menu ID" option to the product insert plugins so that users can manually "force" a menu id for their product link
* The payment plugins do not try to send an email if the recipient is empty in the configuration
* The orders listing now supports the selection of multiple order statuses for filtering
* We now display only the current cart/wishlist from the user control panel if the multi cart option is disabled
* The transaction ID is now stored in the order history for the Authorize.net payments
* The stock is now displayed and handled on the products listings for products with variants/options so that it doesn't show the "choose the options" button if no stock is available
* There is now the possibility to order the mass action results
* The show cart view now group the options with the products if the corresponding setting is enabled
* The Australia Post shipping method can now work even if the country address field has been disabled
* We added the support of HikaMarket for the plugin "shipping price per product" so that you and your vendors can configure the shipping prices of the products from the frontend product edition interface
* We dissociated the affiliate ACL from the user ACL in the configuration
* The currency switcher module can now support several instances of itself on the same page
* We now resynchronize the user ids from Joomla during the install/updates (useful for migrations where the joomla user ids are changed)
* The address forms are now taken into account on the checkout even if you don't validate them and directly click on the "next" button
* We added a custom Itemid option field to the hikashop registration redirect plugin
* Users now have a delete icon on the prices to easily remove the prices from the products
* The destination email address of the user account administrator notification can now be overridden from the user account administrator notification template
* We now display the products of all the sub categories by default on the products listing
* We now handle the display of the name of the user on the orders listing even for guest mode
* We improved the votes display in order to reduce the issues with the javascript errors of other extensions

#### New features

* We added a new option to be able to use the canonical URL of the products/categories on listings generated by HikaShop and even generate the canonical URLs automatically if missing so that you won't get duplicate issues anymore
* We added a new option in order to automatically generate the related product links between the products on both ways (you add a product as a related product of another product and that other product also become a related product of that first product)
* The Google Products/Merchant plugin can now handle product brands
* We added more options for the add to cart display in the product page
* We added the possibility to edit the add to cart display via a simple view override
* We added a drop down option to restrict the product quantity by steps automatically when the "Quantity layout on product page" option is set to "Show select"
* It is now possible to change a user group depending on the order number or amount of the users in the mass actions
* The geolocation system in HikaShop Business now supports both the GeoPlugin and IPInfoDB geolocation service so that you can have a better redundancy for your geolocation. The GeoPlugin service also supports currency geolocation so you don't even have to fill the currency setting of each zone, unless you want another currency than the normal one
* We improved the "user points" plugin to have a filter on the product categories
* We developed a payment plugin for PayPal Advanced
* We added the plugin "Custom field Date picker" to replace the "simple date" type custom field (thanks to that we avoid issues with the calendar system of the Joomla library and we can also propose more options for the date picker)
* We add a new option for the HikaShop currency switcher module in order to not use a form in the module
* The Google Products plugin now supports the use of a custom product field for the condition of the products like the other options (age, gender, etc)
* We added an option in order to support product/category alias automatic filling (activated by default)
* We added a "Quantity field on 'Add to cart' button" option for product listing content menus and modules
* We added two new options to the cart module in order to display the coupon amount and shipping fess directly on the cart module
* We added a new option to not ask the address on the registration form
* There is now a bitcoin (BitPay) plugin for HikaShop
* You can now create custom fields for the contact form page and the values entered by the user for these fields will then be added in the contact request email notification that you will receive
* The TaxCloud plugin now supports the full API of TaxCloud and should be certified soon

### HikaShop 2.3.0

**Release date : February, 11 2014**

#### Bug fixes

* We fixed a fatal error with the Affiliate plugin when using lead fees
* The taxed price is now calculated correctly in the PDF invoice plugin
* We fixed a charset encoding issue with the name of the customer in the contact request email notification
* We added a small fix regarding the displaying of product option/variant prices
* We added some fixes regarding UPS and CANADA POST shipping methods
* The zone couldn't be deleted from tax rules
* We added a fix for the tax calculation when coupons were used in email notifications
* An error could happen preventing the creation of a user account on the checkout with the registration switcher displayed without the login form
* We fixed the "Please select" option for state custom fields
* We fixed a product type image missing on the installation wizard page
* We fixed some issues with the ajax upload image and the item custom fields.
* Some checks were skipped on the registration form with the bootstrap design turned on
* We fixed the javascript removal of the warning message for the not up to date language files.
* We patched the filters query system to avoid errors in some rare configuration cases
* We added several fixes for the google products plugin
* We added some fixes regarding the download period availability on the downloads manager on the frontend
* The "show product code" option of the configuration wasn't taken into account properly for the display of the product code in notification emails
* "No SSL outside checkout" plugin fixed in order to work with the plugin "Payment of orders not paid immediately"
* We fixed the image display in product listing feed.
* We fixed some HTML formatting issue on the user profile page with custom user fields displayed.
* The selection of the T&C popup size wasn't working on all the versions of Joomla
* We added a fix on Be2bill and Stripe so that the total price is now rounded correctly
* We removed a warning on the listing of payment methods when no payment methods were found.
* We fixed a problem with variants and image gallery (using shadowbox)
* We added some fixes to the instalments handling of the PayPal recurring plugin
* The invoice on the frontend now properly handle the display of the taxes
* We removed the common payment method in the payment methods listing as it should not appear there
* We fixed the order export in the mass actions
* We fixed the category sorting with the product listing in "group by category" mode.
* We fixed several issues with the import from other shopping carts
* We fixed some "limit reached" error messages with the min/max quantity per order options of the products
* We fixed a smalle issue with the canadapost warehouse edition.
* We fixed the shipping group system when some shipping groups have digital goods.
* Sometimes the coupon number of uses was not incremented when it should have
* Coupons without a category/product selected couldn't enforce properly the "minimum quantity of products" option.
* We fixed the display of the user message textarea when editing the additional information of an order in the backend
* We fixed the badge image resizing function on the product page which was not always working properly since the new thumbnail generation system was introduced
* We fixed the display of the custom item fields on the cart module and the order details page on the frontend
* We fixed the "required" option on state zone custom fields when the country does not have states.
* We removed duplicate buttons in liqpay/privat24/webmoney payment plugins options page
* We added a check to handle multiple notification and to only send one email in the PostFinance plugin
* We now properly handle custom fields of the type image or file (or ajax image/file) in user emails for guest checkout
* We fixed an issue with the ACL integration on Joomla 3 for backend controllers access which was not triggered by Joomla 3 like it was on previous versions.
* The invoice ids were starting at 0 instead of starting at 1.
* We fixed an initialization problem with TinyMCE 4
* The shipping price could be displayed, in some rare cases, in the wrong currency during the checkout

#### Improvements

* You can now use dashes in the SEF product name and SEF category name options of the configuration while it was not working properly before
* SagePay was displaying an error message for users without a post code while this is totally possible in some countries like Ireland.
* We now can filter on several characteristics at the same time for the mass actions on the data product.
* We now keep the config of the wishlist module when adding an item in the wishlist
* The shipping method / payment method are now displayed on the frontend order details page and the invoice.
* In the back-end order edition, we now display the product options below his parent
* We added some CSS rules in the front-end order listing
* The display of the shipping methods price on the shipping methods selection listing now handles the "display taxed price" option of the configuration
* The installation wizard now also set the main tax zone parameter to your state (if in the USA) or to your country (everywhere else) so that you don't have to set it yourself
* We do not display anymore the product images in the email if the thumbnails are not authorized in the configuration.
* We improved the selection of the next/previous product links on the product page
* We now hide the default variant if it doesn't have any quantity and that the option to display out of stock products is turned off, and then, we select another variant automatically.
* We now force the icons on the frontend control panel in order to avoid that templates override them with their CSS
* The invoice number is now added to the printable view header for the invoice in the frontend
* The user is now redirected to the user login form if he tries to access the downloads area of HikaShop
* We now properly display the add to cart button on listings for the "global on listing" feature even when the "display add to cart button for free products" option is turned off.
* We now flip the checkout progress bar display when the website is displayed in a RTL language.
* We now update the download number only if we are sending the first chunck of the file or that we don't have the file flag in the session as being downloaded (without that, the downloads would be counted one per chunck of file)
* We display the shipping/billing addresses only if necessary in the notification emails.
* We now have an ordering on the variants listing of the backend
* The PayPal recurring plugin now supports ILS
* We now allow all shipping methods to be listed through the "shipping price" tab of the product configuration pageand not just manual shipping methods
* You can now sell downloadable files even with the guest checkout mode as the system can now handle these downloads securely
* We do not display anymore the empty values of custom fields in filters when the custom fields are required since the empty value is not possible.
* Now, when you update the product\_code of the main product, it updates the product\_code of all the variants of the product based on that change.
* We now use the upload folder option of the configuration for the gallery system
* We added the possibility to change the separator between the variants in the product name via a translation override
* We improved the contact page and the contact email
* The order export now use the order date filters during the exports
* We display an error message if the action "update the characteristics" is selected in the mass actions and there is no characteristics in the shop.
* We added the support of CHF, GBP and PLN to the Sofort payment plugin
* We display a warning message when the number of variants for a product is too high.
* We added access levels on the documentation menu for the backend
* We manage the option "Force shipping regardless of weight" in the installation wizard
* The "add to compare list" buttons now support the "button style" option of the configuration
* You now have the possibility to choose a table prefix for the VirtueMart import
* You can now enter category ids in the "parent\_category" column of the CSVs for the import tool of HikaShop

#### New features

* There is now an option to remove the categories and product ids from the SEF URLs
* We added an option to calculate sales including shipping ( for reports using the table display)
* We added an option to the cart module in order to not display the products name in it
* We added new periods for reports (real "this week" and "last x days")
* We added a PayPal Express Checkout payment plugin which allows you to bypass the HikaShop checkout completely and go directly to PayPal for the checkout
* We added a TaxCloud plugin so that the taxes get calculated automatically via a TaxCloud account (no need to configure complex US tax rules anymore, and it's free to use !)
* We added a CANPAR shipping plugin (provided by raviry, thanks to him !) so that you can get the CANPAR shipping rates automatically based on the user address and the products weight/dimensions
* You can now force the affiliation to user accounts so that they are linked to the partner during the registration instead of having to rely on the browser cookies thanks to a new option of the affiliate section of the configuration
* We added two new options for images display: "Force size" which allows you to force the size of the images to what you specify in the configuration, and "Scale mode" which allows you to select whether you want the images to be cropped or with blanks around in order to force the size of the images.
* We added a warehouse management system in HikaShop so that you can assign each product to a warehouse and then restrict your shipping methods to different methods
* The address section of the checkout has been completly redesigned with new options for its configuration
* We added an option to the Google Products plugin so that you can now regularly generate a XML of your products on your website.
* We added an option in the user synchronization plugin in order to remove the display of the user custom fields on the user profile edition page.
* We added date restriction fields on tax rules (useful for when the law is going to change and that you want to set that up ahead of time)
* We developped a payment plugin for Stripe and WorldNetTPS payment gateways
* We added the possibility for customers to reorder their previous orders
* The frontend default style and icones has been reworked

### HikaShop 2.2.3

**Release date : December, 7 2013**

#### Bug fixes

* We fixed a fatal error with the hikashop product button on the article edition page of joomla.
* The switcher system of the registration could cause some issues in some specific cases and they have been corrected
* The new emails templates and preloads have received several fixes
* We corrected the inherit parameter for the show\_discount option in the menus/modules
* There was an issue with the "Check / Radio" custom fields for some specific values
* The contact button on the product page was not directing to the contact form for the product when the product had characteristics.
* We now add a prefix to the custom item fields on the product listings in order to avoid ID conflicts
* USPS changed their API and the USPS plugin was updated in order to support the new API mode
* We fixed the mass publish/unpublish plugins in the backend
* We fixed a warning in the CardSave plugin
* We fixed the order number in the order admin notification
* We fixed the transliteration support for some languages
* A check was missing for the display of the "choose options" button in some rare cases on listings.
* A check was missing for the payment link of orders in the order creation email.
* We had a warning when the paypal payment method was configured via the wizard.
* We added a fix to remove a warning coming from the calendar system of Joomla 3.2
* The URL for the download of custom upload item fields didn't work anymore in the admin email
* We fixed a problem related to the deletion of some particular states (with dash in the namekey) from a zone.
* We added some fix for the tax calculations for widget/reports in some specific cases
* We fixed the characteristics/options ordering of values for some cases
* We fixed several issues with filters on brands and categories

#### Improvements

* We added additional allowed currencies in the Sage Pay payment method.
* We improved the HikaShop configuration for file uploads.
* Several payment Plugins ^have been updated in order to separate the sandbox environment from the debug environment
* We updated the menu options edition view : it now shows the associated modules options on the same page
* we now support both alt (for SEO) and title (for accessibility) attributes on product images
* We improved / updated fallback links plugin redirect for Virtuemart
* The RTL support has been improved for the user control panel and emails are now supported too
* The display or not of the link to the order details page has been improved in the notification emails
* We edited the cart / wishlist listing view to make it responsive
* We added the display of the images in the cart / wishlist view
* We now force the use and the display of the Limit filter in the mass actions.
* If we are on a product page, we don't display anymore the current product in the recently viewed module
* The prices and the cart display of the checkout are now better handled in RTL mode
* You can now specify a return URL for the check and the collect on delivery payment methods.
* We improved several payment plugins for the email notifications.
* We improved the responsive design for the checkout
* We improved the export of products in order to handle better characteristics with identical names
* We added the possibility to remove one or many categories for products in the mass actions.
* We now properly check that the user is logged in for the "pay now" link which is added in the order creation email before displaying the payment form.
* We improved the anti-hack checking system on redirection URLs to better handle HTTPS
* The "please login" link of the affiliate program page is now clickable so that the users can more easily login.
* We added a check to make sure that the user only enters numbers in the credit card expiration fields
* We improved the VAT checks for greek vat numbers so that it handle both GR and EL codes properly.
* The specification title is now only displayed when a custom product field is found for the current product
* The import system now handle HTTPS links for files and images
* We now remove the associated modules title when no products are found.
* Improvements and fixes regarding the wishlists and add to cart actions :
* - option added to display or not 'add to wishlist' button for free products
* - add some checks to display or not the 'add to wishlist' button depending on the configuration
* - corrections to display the correct popup content when clicking on 'add to cart' or 'add to wishlist' button
* - if guest user add to wishlist, display a message to prevent that he must been logged in to use the wishlists
* - bug fix for quantity display in wishlist, if free or out of stock product, let the desired quantity in the wishlist instead of zero
* - bug fix for the AJAX wishlist module content update
* - bug fix for the redirection if option "Always redirect to checkout" option selected, for cart and wishlist.

#### New features

* You can now copy orders
* We added the support for google products age group, gender, color and size attributes in the google product plugin
* We added options to manage the size of the add to cart popup and the terms and conditions one.
* We now support negative prices in product/options/variants prices
* We added an option to choose the image popup system (mootools / shadowbox)
* We added a new uploader system (opload) in HikaShop in order to circumvent some rare issues on some servers and improve the usuability
* We added two new custom field type : Ajax File and Ajax Image
* New payment plugins Liqpay, Privat24 and Webmoney provided by CM-S.ru have been added to HikaShop. Thanks !
* We developed four new payment methods: Be2Bill, beanstream, Borgun and PayBox
* A Sofort payment plugin has been developed by LG SOLUTION and included in Hikashop. Thanks !
* A NetGiro paymnt plugin has been developed by Stefan Novakovic and included in Hikashop. Thanks !
* We added the support for the common payment plugin api (https://github.com/techjoomla/joomla-payments/tree/master/code/plugins) which gives you access to 20 additional payment plugins included 2Checkout, CCAvenue, eWallet, JomSocialPoints, LinkPoint, PagSeguro, PayFast and TransFirst (simply zip them and install the zip via the joomla installer and they will appear in HikaShop.
* We developed an import function for OpenCart (with import of the users to Joomla), MijoShop and RedShop so that you can migrate your products, categories, users, addresses, orders, coupons, discounts easily to HikaShop.
* We included new options in the UserPoints plugins. You can now display the number of points during the checkout and let the user decide if he want to use his points or not.
* Emails preload can now be overridden via the System>Emails interface and the email templates now support generic tags like {VAR:order.order\_number}

### HikaShop 2.2.2

**Release date : September, 28 2013**

#### Bug fixes

* The saving of the "published" and "show title" options of menus/modules didn't work properly. It's now fixed
* The pagination on the selection of users popup for the orders didn't work properly
* The CSV export was always adding an empty column at the end of the CSV
* We fixed a warning message with the sorting filters in some cases
* We fixed the label of the "percentage fee excluding shipping" option of the Affiliate system
* We fixed some errors in the mass action system
* We now properly hide main products of variants in the display of carts/wishlists
* We fixed a bug which would remove the related products of products with options during the import of products with both related products and options specified in the CSV
* The North West province of South Africa was missing
* We fixed the SEF handling on the checkout URLs when the "checkout SEF name" option of the configuration is empty
* The return URL redirect was ignored for the authorize.net plugin in SIM mode
* Mootools is now loaded in the thank you page of the Authorize.net plugin in case it's not already done so that the automatic redirect can work
* The login view of the checkout was not always behaving properly with exotic checkout workflows
* The payment notification of the Ogone plugin was not working properly in some cases
* Several fixes have been added to the vote and comment system
* We fixed an issue regarding the "Minimum number of products" option of coupons
* We added a fix regarding the default download space table ordering
* The shipping address override wasn't working properly when the shipping and the address views weren't on the same step of the checkout
* We fixed the installation wizard for Joomla 1.5
* We fixed the selection of users without a joomla user account in orders
* We added several missing translation strings in the language files
* There was an issue in some cases with the default value of state/country fields which was not correct
* The popup notice for add to cart/wishlist was sometimes not displaying the message for the correct type (cart or wishlist) when both where enabled
* We fixed the publish/unpublish of payment and shipping methods
* We fixed the management of shipping prices per product on the product edition page
* The SagePay plugin had not been ported properly to the new payment API and it had a few issues with it which are now fixed
* There was a successful message when deleting a user even when the deletion was unsuccessful
* On created triggers the mass actions were processing all the elements in the database instead of only processing the current element
* We fixed several issues with the products mass actions triggers and the product category update action
* We removed a warning message in the UPS plugin which could happen in some rare cases when products didn't had any prices
* We fixed the SIPS ATOS notification handling
* The backend popups were sometimes stacked to the bottom of the screen instead of being centered
* We fixed a few issues with the new user point plugin of HikaShop
* We fixed the display of custom item fields on the invoice
* We fixed the display of the facebook like button for some fonts in xfbml display mode
* The sorting filter was not working properly when its type was "list"
* The FedEx plugin now handle properly the discounted rates
* We fixed two issues with the characteristics handling when the variants are not generated
* We fixed several warning messages with the shipping system when the cart was been emptied in some cases
* We now handle properly the update values operations on the price table for product mass actions
* We fixed the display of States for Japan
* We fixed a fatal error in some cases for the product selection on the options page of menu items via the joomla menu manager
* We now avoid a potential fatal error with discounts loading for prices with an additional sanity check before loading the discounts so that it doesn't load the discounts when no prices are set
* There was a wrongly placed check in the mass action system which prevented users of HikaShop Starter/Essential to run mass actions

#### Improvements

* The tabular display of products now only display the "read more" option only if there is enough text in the description
* You can now select the view "Cart status" on your checkout workflow in order to display a non modifiable cart during the checkout
* The recently viewed module now doesn't display any product when no product pages have been seen by the user yet
* The store address can now be translated with a translation override
* We added a hidden option to be able to completely remove the display of the commented footer
* The registration form has been improved with support of HTML5 aria attributes
* The "next" checkout button is now named 'Finish' on the last step of the checkout automatically
* The popup for "terms & conditions" in the checkout can now use the Joomla 3 bootstrap popup
* We updated the jQuery-ui library so that the drag&drop on the checkout workflow setting works better
* We added new triggers for the checkout integration so that you can add custom steps to the checkout via a HikaShop plugin
* The variants listing now order the variants based on the ordering of the characteristics and their values automatically
* We improved the user notification system when modifying order details in the backend with additional options
* The user control panel has been redesigned to use a UL/LI list instead of a table
* The product page images display has been improved to use a new display method
* It is now possible to have a "Please select" choice for custom fields of the type "zone"
* The out of stock notifications now handle the sales start/end dates of products so that you don't get notified when it's not needed anymore
* The pc file generated by the ATOS plugin didn't contain the merchant id in its name
* We added the support of product images for the microdata plugin
* The language of the user is now saved at registration for all the versions of Joomla
* We now handle falang for product translations on acymailing newsletters with product tags
* We now handle correctly the display of the payment method name for orders when there are several times the same payment plugin being used with different names on the website
* We added the notification URL in the configuration of the Google Checkout plugin
* The USPS plugin now supports several new shipping service offered by USPS
* The downloads area of the user control panel has been improved to display the downloads in a more logical way
* The download area now handle properly HikaMarket and HikaSerial downloads
* We removed the "add" button in the HikaShop menu listing since menus should be created via the joomla menu manager
* We now display only the data of the published massaction plugins
* We improved the delete actions in the mass actions
* We restored the link to the user in the order display
* The tabs of the tabular display of the product page are now home-made as we had compatibility issues with some templates
* We improved the display or shipping methods error messages to avoid duplicates
* The import process now supports dimensions and weight values with a comma instead of a point for decimals

#### New features

* There is now an option to round prices during calculations or not as it can be different based on where your location is as a shop owner
* We added an option to display the add to wishlist button for the free products
* We added an option to configure the address name format for the WorldPay Business gateway plugin
* The emails in HikaShop have been completely redesigned to be easily editable (with tags) without knowing PHP
* We added the support of post code restrictions for tax rules allowing you to easily setup taxes on a per post code range basis
* We added the support of RTL languages for HikaShop frontend
* A new identification page is available. You can know chose the way you want to order (Login, Guest, Register...) thanks to a nice switcher on the front end.
* We added a new option so that you can now decide how the quantity field should display for each product
* We added two payment plugins for the payment gateways Borgun and PxPay
* We added an instalments feature in the PayPal recurring payment method so that you can now propose payments in several installments for the orders
* We've update the Virtuemart import feature. It now works for Virtuemart 2.0
* We added a new product listing option which allow you to display all sub elements grouped by category
* You can now disable the generation of variants when a characteristic is added to a product with a new option of the configuration
* We now integrate a new quickicon system for Joomla 2.5 and 3.0 which is activated by default when you install HikaShop

### HikaShop 2.2.1

**Release date : August, 24 2013**

#### Bug fixes

* The display of the order statuses dropdown for massaction filters wasn't done properly on Joomla 2.5 and above
* We fixed a warning with the address display when using custom text fields
* We added a small fix regarding the shipping auto selection through the checkout when set to "if only one method is available"
* We added a correction for an error on update values of products with the mass action system
* A bug was fixed with the deposit plugin to avoid product cost at 0 in some cases
* We fixed a shipping method selection issue which happened with only some rare checkout workflows
* The FedEx Ground service has been fixed
* We added some corrections to the vote system regarding duplicate HTMl ids
* Several notice messages displayed in some rare cases throughout the backend interface have been fixed
* The Google products plugin now handles properly multiple images
* The currency of the shipping method was not sent properly to Google Checkout in the previous version
* The currency restriction was not in place anymore with the Authorize.net plugin
* UTF8 characters were not handled properly for text filters if the version of PHP was older than PHP 5.4
* The label of shipping methods on the selection interface of the checkout has been fixed
* We fixed the sorting of discounts for the selection of discounts to apply when several discounts can be used for one product
* The text filters now properly handle translations
* Shipping methods name now display properly on orders
* The Amazon payment plugin had been broken with the migration to the new payment system and is now fixed
* The PostFinance plugin return URL has been fixed
* The First class service of USPS has been fixed and several other services added
* We added a small product insert fix regarding the page where the "product" button is showing
* We now avoid a warning when safe mode is activated for the set\_limit\_limit function used before the downloading of product files
* An error message about duplicate columns was showing during the import process for no reason
* We fixed a HTML closing tag missing for the FB button on the product page in some cases
* We now avoid duplicate shipping methods error messages
* We now display something in the shipping/payment listing even if the method does not have a name
* Shipping price per product did not include virtual products if the option is was not set
* We fix the group option in the AlphaUserPoints plugin
* We fixed a potential fatal error on the product page with the taxes being calculated in detailed mode from a different currency than the current currency
* We fixed an error with the product edition of orders in some cases
* We fixed the akeeba subscriptions plugin for the start date when renewing a subscription
* The “delete products not in csv” option of the cron products update plugin didn't work properly
* The Google products feed was invalid if the images filename of your products contained invalid characters
* The email listing pagination has been fixed
* When a product with no option selected was already in the cart and the same product was added with some options selected, and if the group options with product option was turned on, the product wouldn't be added properly to the cart
* We had an error when clicking reset button with sort filters
* The shipping address was not used properly in some cases during the order creation process which could result in the billing address being used instead
* We fixed a problem with the plugin AlphaUserPoints and special order cases (integration with HikaMarket for example)
* We fixed a few issues with the translation popups on the backend
* We fixed a small bug with the status popup on the order listing which happened on weird cases on Joomla 3.1
* We corrected a bug with empty votes being created for no reason
* We added a small check to avoid a warning being displayed on grid product listings without products in some cases
* A message for the shop owner could potentially be displayed to users on the frontend when deleting an address already used in a previous order
* We fixed a popup bug introduced in Joomla 3.1.4
* The payment method was not always reselected when a shipping method selection was changed on a checkout with payment methods restricted to different shipping methods
* The import from folder of both images and files didn't handle properly the import of products after the first one
* The settings could potentially be lost after the registration of the checkout resulting in some strange behaviors
* We fixed the end screen of the "okpay" payment plugin
* We fixed ascending/descending translations for the sort filters
* The reordering of products linked to several categories was not working properly
* We fixed the checkout next button checks when the button is displaying in CSS mode
* We fixed the add to cart button on horizontal and vertical sliders
* We fixed the fading effect for carousel of categories which overlapping the categories improperly

#### Improvements

* We added an anti infinite loops check in the zones retrieval process so that even if you configure your zones in a way that their relations loop on themselves, the system doesn't loop and crash the page processing
* We now display the edition/version/build number of HikaShop in the configuration
* We now handle the ordering of the zones in zone dropdowns as it is necessary for some countries like Japan
* We added class names to listings pagination in order to be able to style the elements more easily
* We improved the deletion of the product and category images
* HikaShop now redirects to the next step of the checkout after a successful login/register when the login view is on its own step of the checkout workflow
* Filters of type sort can now sort on most recent, best sales, most viewed products
* We now force the confirm step if the user removed it from the checkout workflow (which shouldn't be done) in order to avoid the checkout stalling at the end
* We improved the shipping and payment plugin listings (Displaying prices and restrictions)
* We now handle the price tax display on additional information of orders in the backend based on the price tax display setting of the configuration
* The product selection for the "HikaShop product page" menu is now more logical
* Modules can now be ordered by name or ID on the Content modules listing of the backend
* The auto selection of the default value of the country/state fields has been improved
* We changed the type of the "new address" and "add coupon" buttons of the checkout so that they don't trigger when the user press on "enter" on a field of the checkout but that it submit the checkout form instead
* We added the default selection of country and state when the geolocation plugin is enabled
* Variants can now also be selected when adding a product to an order in the backend
* We now fix the width of the uploaded images in custom fields in the default CSS to 100 in width
* The partner currency can now only be changed in the backend if you allow it in the configuration
* We improved quality rendering for image thumbnails
* We add new icons for the front-end user control panel
* The compare feature can now display the price of the variant if the main product has no price
* An option has been added for listing reports to display the price with or without shipping included
* We changed the way the ">" is displayed in filters of type list (now using a translation)
* We added a sub total display for order admin/creation/status email notifications
* We now display the customer email in the order admin notification
* The options dropdown display now takes into account the "show out of stock products" option of the configuration to display or not the options variants
* The recurring orders are now labelled as such on the frontend order listing
* We added an option to display a notes field on the PayPal platform
* You can now create menu items of the type "downloads" in the joomla menu manager to create a menu item going to the purchased downloads listing of the customer
* We improved the "display limited to" option of custom fields so that it is easier to setup
* In the product image gallery, the tree browser is now correctly displayed even if there is no image in the current browsed folder
* We changed the filters height css property from "height" to "min-height" to get a better display
* The "Allow customers to change their payment method after checkout" option now only appears when the "Payment of orders not paid immediately" option is turned on in the configuration
* The "no registration" mode of the checkout now fully supports the subscription of customers to AcyMailing lists and AcyMailing custom fields

#### New features

* We added two "user points" plugins to HikaShop Essential and Business . One to gain points and another for payments with points. That allows you to create several instances of each plugin with different configurations and thus go much further in what you can do with our integration with AlphaUserPoints. These plugins are compatible with AlphaUserPoints but can also be used on their own so that will allow you to have points handling with HikaShop even if you don't use AlphaUserPoints on your website. The previous AlphaUserPoints plugin is still in HikaShop but we recommend you to use the new "user points" from now one as the AlphaUserPoints plugin won't be updated further
* The Innovative gateway and the iPayDNA payment plugins now handle the selection of supported credit card types by the website owner
* There is a new option for table reports, you can now have your total sales with or without taxes
* We added the support of HikaShop comment forms in the ReCaptcha plugin
* We added the possibility to use a WYSIWYG editor as a type of custom field
* The product tag insert system now handles badges display with a new option to activate/deactivate it
* We introduced a new checkout bar for Joomla 3 (with bootstrap design on)
* The donation plugin now handle taxes calculations
* We added the ability to add characteristics to products in the mass actions
* We added the possibility to add/change the user group of users in the mass actions
* We added a new payment plugin for the NETS payment gateway
* We added an option to remove out of stock products from the google products export
* We added a "Display out of stock products" option for menus and modules so that you can display or not the out of stock products on a per listing basis
* We added a setup wizard which appears after a fresh install of HikaShop in order to simplify the setup

### HikaShop 2.2.0

**Release date : June, 29 2013**

#### Bug fixes

* The shared SSL URL field was not displaying properly on Joomla 1.5 and 2.5
* The table reordering in selection popups were not properly affected to the popup listings and thus could cause bugs on main listings
* The product code display on listings didn't take into account the "link to the product page" option and was always displaying with the link to the product regardless of the value of the option
* We fixed the edition of views for some specific server configuration which produced a 404 error
* We fixed a display issue with the chosen library on warehouse dropdowns in shipping methods on Joomla 3.x
* A few display issues have been fixed with the cart display page
* We now always load mootools when the chosen library is loaded as it needs it and that joomla is not including it automatically as it should
* We fixed a typo with the shipping address in the PDF invoice plugin
* In some rare cases, the MSRP could be displayed in the cart module where that should be the case
* A inherit value handling has been fixed for column selection of sorting filters
* The submit on click of cursor filters didn't work properly
* The export of products was not exporting the category structure anymore due to a regression bug
* We fixed the limits on prices which were not calculated properly in all cases and we also fixed the limits which don't have a restriction on a product or a category
* We now handle properly the radio buttons display on Joomla 3.x on the frontend when the "use bootstrap design" option is deactivated
* We removed the inputbox class on the checkbox of the login form of the checkout as it shouldn't be there
* We now handle properly products with characteristics for the canonical URL parameter
* We now handle properly the display of options based on the grouping of options and products selection of the configuration for payment plugins
* We corrected the display of the wishlists with product options
* We fixed a bug for the pinterest button in SSL with the social networks plugin
* The copy button didn't work properly on the Starter and Essential edition
* The main currency of the store was used by the product tag plugin instead of using the current currency which would render dysfunctional the currency switcher module for these product tags
* The thumbnail used for the products tags in AcyMailing newsletters is now always the same one as the main image of the product in HikaShop regardless of how the images of the product were uploaded
* Prices with minimum quantities different than 1 on the main product were not calculated properly for the variants with a percentage of the main product price set for them
* The price calculations for filter now still works even if the tax category enteredfor the products do not exist anymore (before, the prices of such products would have been ignored)
* We added a check to the discounts selection process so that even if a main product has the product\_parent\_id column filled with something different than 0 (it should not happen unless the database was tempered with), that the product is still taken into account as a main product and not a variant
* We fixed a few bugs in the Amazon FPS payment plugin
* We improved the security of the AliPay plugin
* The quantity field was not hidden when not activated for the product tags insertion plugin
* The Google product plugin and the XMAP plugins now handle canonical urls properly
* There could be an issue with the search plugins itemid not being used in all cases for all the search results
* We corrected an error with the previous/next button link on products page with the simplified breadcrumb option deactivated
* The AlphaUserPoints plugin now handles properly the user group restriction in all cases
* We corrected the pagination of the wishlist in the backend
* We change the discount calculation system which was not correct in some cases
* We fixed the calculations for filters on prices when the currencies have an additional fee configured
* We fixed the saving of user custom fields via the profile edition page of the frontend
* We added a fix for Joomla 3.1 SEF/Token bug which could break in some cases
* We fixed a potential fatal error with the affiliate plugin when users would register via joomla
* We fixed the options price display which were displaying the MSRP of the main product in some cases
* We fixed a problem with the calendar and month written in text for custom date fields
* We are now displaying shipping taxes in the invoice even if the shipping price is 0
* We fixed the Google Checkout plugin which now sends shipping price without tax as it should be
* We fixed the discount listing restrictions display on the backend
* We improved the popup system
* We fixed the display of variant images when the width was not specified in the options
* We added a fix to the limit calculations for some specific cases

#### Improvements

* The filter\_namekey field is now unique in the database in order to avoid the possibility of having two filters with the same namekey which would create a conflict on the frontend
* We added Croatia as a country of the European Tax zone since Croatia is now officially part of the European Union
* The vote system AJAX has been rewritten to better handle comments saving
* We added some query optimizations for products listings regarding badges
* We improved the order "additional" system to support payment and shipping
* We don't activate "chosen" by default anymore on Joomla 3
* The "use bootstrap design" option is now always turned off by default, even on Joomla 3.x
* the bank transfer, check information is now added to the order creation notification email
* We now save the id of the hikashop user in the cart all the time as it is not does by the user synchro plugin when the registration mode was set to "no registration" since the synchro plugin isn't being called as no user is created in that mode
* We improved the SEF URL for the checkout page when the current menu item is of the type HikaShop checkout
* We added select all/select none links for shipping methods and some restriction options
* We improved the display of variants of products on joomla search result pages
* We improved the security checks on the redirections to allow to redirect from www. to non www. URLs and vie-versa as long as we are on the same domain as sometimes the people didn't configure that properly
* Text filters now handle product information translations
* The cart page display on the frontend has been improved
* The registration process now sets the user language automatically with the current language so that it can be used on the backend when sending email notifications.
* The selection of products for menu items of the type hikashop product comparison and hikashop product page has been improved
* We don't display anymore the readmore link in the tabular layout of the product page when the product doesn't have any description
* You can now specify a category for the google product plugin (not necessary)
* We added a check to the AlphaUserPoints plugin to notify the shop owner that the virtual coupon mode and partial payments cannot be activated together
* The pagination now displays on the products listing with the table layout when all the products display on the same page like it was already the case for the div and list layouts
* We added a check to the import so that the user sees a warning message if he has twice the same column name in his CSV
* The BRL currency was added to the list of supported currencies of the PayPal plugin
* The feature restriction text isn't red anymore and can now be clicked so that you can easily access the product page on our website
* The HikaShop product cron plugin now better handle lower/upper case in the "column names" option of the plugin so that it is easier to setup for users
* We added several missing currencies to the PostFinance payment plugin
* We added a soft fallback for the VAT number online check so that if the VIES servers are unavailable (which happens quite often...) the VAT check works only in regex mode
* We removed the "stay or go to the checkout based on the cart module" option of the "when a product is added to the cart" option of the configuration as it is not much used and creates more problems than anything else
* The "sort by" feature has been extended to radio button filters
* The sorting can now be done on for several fields with only one filter
* We added the translation management for both categories and products canonical urls
* We removed the inherit option in the main config of HikaShop
* We added the possibility to translate the value of custom fields of the type "custom text"
* We added a new trigger to be able to check the quantity of the products in the cart via a HikaShop plugin
* We added a lot of new triggers for the new mass action feature

#### New features

* Badges can now redirect to a specific url thanks to a new URL field for them
* You can now filter views in the backend listing according to the type
* We added a new filter allowing you to display only available (in stock) products
* There is now a new option to display a reset button which can reset all the filters selection at once
* There is a new option for text filters to decide whether you want to search for the exact expression entered by the user or at least one of the words
* The CSS editor now uses the codemirror editor instead of a textarea so you get text coloration and line numbers when editing your CSS via the configuration interface.
* We greatly improved shipping and payment methods restrictions so that they all benefit from the same options
* The shipping and payment plugins now use a new API which reduces the code necessary by up to 80% (average of 30% gain) while allowing them to be compatible with the multi shipping/payment system which allows you to create instances of all the shipping and payment plugins easily
* There is now a download area in the user control panel of the frontend
* We added a "search processing" option to the text filters including search operators (+, "" or spaces)
* The social networks plugin now supports addThis buttons
* The order details page has been completely rebuilt based on HikaMarket frontend order edition interface. It is now much more easy to use and better looking
* We added a Mass action system in HikaShop. It will allow you to manage your products/categories/orders/users more efficiently. It is also completely extensible via hikashop plugins
* We added a payment plugin for the eWAY Rapid 3.0 payment gateway which was provided by Nick Texidor. Thanks !
* There is now a new characteristic display method called "list" which will generate a table listing of the variants of the product on its product page

### HikaShop 2.1.3

**Release date : May, 3 2013**

#### Bug fixes

* There was a query issue in the filtering system for the filter module on the product page with the related products module activated
* The system was not always staying on the checkout when a product was removed from the cart on the checkout even though other products were still in the cart
* We removed the warning PHP message when using the custom fields 'customtext'
* We fixed a query error with category listing modules synchronized with the content based on the product categories on the product page with variants
* We fixed the selection of the product on "product page" and "comparison page" type menu items
* We fixed some potential issues on the bootstrap popups.
* We fixed the "inherit" value handling for the "ordering direction" option of category listing modules which was producing a query error.
* We removed the "cart to wishlist convert button display" option which was present twice in the configuration
* We fixed an issue with the tax category during the import
* We fixed an issue with chosen on Joomla 3.0 whereby the preview of the custom field was not working for dropdowns
* We fixed an issue with the product prices calculations for the cart module
* We fixed a display issue with filters on custom fields in some rare cases
* We fixed an issue with the delete icon from the cart module which could potentially display the add to cart popup notice
* The PayPal Pro plugin now handles coupons properly
* We now hide the button to display multiple carts if the option multiple cart is disabled
* We corrected an issue to set the default currency for the MSRP price
* The frequency option of the "out of stock", "order auto cancel" and "waitlist notify" was not taken into account and the plugins were triggered for each cron beat.
* We fixed the DS constant being undefined on Joomla 3.1 for some plugins
* We added a fix for the options display related to the sale end setup of the variants
* We corrected the suppression of the votes for the product type
* We solved a problem with the created date on the akeeba subscriptions plugin
* We added additional checks to avoid issues with ordering direction's inherit value on listings
* We fixed a filtering conflict between the product gallery and the product listing
* We corrected some problems related on the cart/wishlist popup, and module
* We corrected the title tag in backend which had html tags because of some code change in latest versions of Joomla 2.5

#### Improvements

* The MIGS payment plugin has been updated to handle ticket information display in pay mode
* You can now create custom fields of the type "link"
* The canonical product URLs can now be different per language
* We don't display the "the order will be process when the payment is received" anymore in the order creation notification for the orders with the collect on delivery payment selected
* We added a check to make sure that the users are logged in order to use the wishlists
* We improved the javascript calls for custom fields to use the same domain and protocol than the current url
* The "No SSL outside checkout" plugin now handles better the popups during the checkout
* We added the possibility to filter the products by category on the falang translations listing thanks to james
* We improved some css properties for the comments part to be adapted for small resolutions
* The products copy button is now available for all the editions

#### New features

* We added an option to display or not the badges in the modules/menus displaying product listings
* There is now an option to deactivate the chosen library on the frontend
* We added the CECA payment plugin which was donated for integration in HikaShop by dyvymtvar (Thanks !)
* We added a payment plugin for the Amazon FPS payment gateway
* We added a payment plugin for the eSelect/Moneris payment gateway

### HikaShop 2.1.2

**Release date : April, 9 2013**

#### Bug fixes

* The custom user fields were not displaying on the joomla profile edition page on Joomla 3.0
* We fixed a detailed tax calculation issue with coupons with fixed amounts
* We also fixed a rounding issue in some cases with the detailed tax calculation system
* We fixed the products listing bottom pagination in "table" display when the "number of items" is different from the default 20 elements
* The quarterly period of limits was not working properly
* We changed the classes name "hiakshop\_slider\_button" to "hikashop\_slider\_button"
* We removed an error with the vote for products without a name in the listings
* A translation was missing for the waitlist feature
* We added a fix in the xmap plugin to avoid query issues when menus having non valid categories
* We now properly handle the current language for the facebook buttons in xfbml mode
* We removed the option "Canonical URL" for the variants as it is not needed
* The retail price is now taken from the main product if not set in the variant
* We fixed bug with "no registration" mode leading to users not able to register several times with the same email address since 2.1.1
* We fixed some warnings with the acymailing integration plugin
* We fixed the sorting of comments on the frontend
* We fixed the quantity update calculations for the ordering of several variants of the same product in some cases
* We removed some warning messages with the HikaShop product tag insertion plugin
* The retail price could potentially be displayed in some rare cases in the cart and wishlist modules
* We've modified the HikaShop menu because the JSN PowerAdmin component was removing the HikaShop menu bar on Joomla 3.0
* We added a condition to hide the wishlist button to unregistered users, if the option is enabled
* We fixed a problem with the user account creation admin notification whereby both the user and the admin got the email instead of only the admin
* Carousel bug corrected for IE 7, images were not hidden outside the carousel div
* We updated the waitlist notifier to handle variants
* The path was not correct in some cases for the pc.x and pathfile files generated by the ATOS plugin
* We added the state of Mexico for the Mexico country
* We fixed a redirect link to the dashboard after a widget options saving
* We fixed an error with the carts listing display which was happening only in some rare cases
* We fixed the shipping methods auto-selection through the checkout in some rare cases
* The products code could potentially be displayed twice on the invoice
* The "show faces" option of the social network plugin was not taken into account properly when using the xfbml mode
* When a product was added the first time in the cart it was displaying the wishlist popup in some cases
* We removed notive when saving a custom field with the type customtext
* The Akeeba Subscriptions pluginnow properly handle the timezone based on the joomla options for the dates of the subscriptions
* We fixed a bug with the delete button of price cursor filters
* We fixed an issue with the selection of the products with menu items of the type "product comparison"
* We fixed an error in some rare cases with custom order fields display on the admin notification email
* We now get the thumbnail size from the config to display a product in a joomla content
* We removed a fatal error when a class hikashopBridgeView was declared somewhere else than in the helper
* We fixed the fedex plugin language override strings which were not added properly

#### Improvements

* We now handle multiple selection of values of custom fields for dynamic filters
* The product listings now display "choose options" when the products have custom item fields and that the "Display custom item fields" option is turned off on the listing
* We added the price display with or without tax depending on the option for the cart display page's total price display
* We renamed the alertpay plugin to payza
* We updated the jQuery library to the latest version
* We added a new trigger for emails: onMailListing
* The ReCaptcha plugin now supports Akeeba Subscriptions' form
* You can now enter negative decimal values for rounding in the currencies
* The vote system in HikaShop was improved to be able to handle votes from other extensions (for HikaMarket vendors rating for example)
* We now deactivate the "after initialization" option of the affiliate plugin by default to avoid issues with template selection per menu
* We now display the cubic character for volume units on the shipping methods volume restrictions unit selection dropdown
* The dynamic display of filters now also works for filters in the filter module
* The URL used by the MIGS plugin can not be modified by the user
* We improved the content elements files for JoomFish and Falang regarding the translation of images, files and badges
* We now handle the site name display in the page title when the page title is entered for products and categories

#### New features

* We added a new option to badges in order to be able to display badges based on the quantity of the products
* We added the support of Joomla Multi Sites in order to have different categories of products for different virtual websites (require the latest version of Joomla Multi Sites)
* We added an option to display the product images in the cart module
* We added a canonical URL option for categories & brands
* You can now disallow some shipping methods for some products when using the option "Use price per product"
* The AcyMailing integration can now be used to send emails automatically to users after X days with an order not confirmed ( that way you can discuss with the user on why he couldn't pay and potentially increase conversion)
* The MIGS payment plugin now handles both the VPC DPS method and the VPC Pay method

### HikaShop 2.1.1

**Release date : March, 12 2013**

#### Bug fixes

* We fixed the user address deletion when user is deleted from the Joomla user manager
* There was a warning in a special case with discounts
* We fixed HTML tags on user edition form in some cases on Joomla 3.0
* There was a caching issue on the backend when creating new orders
* The vote form on the backend had some minor HTML issues
* If the UPS plugin couldn't establish a connection to the UPS server to calculate the shipping rates, the error message code was actually producing an error
* Some things have been fixed in the AliPay plugin
* Several fixes have been added to the add to cart process
* We fixed an issue which would change the active menu on the category listing page when not needed
* We added a fix to force the prices used for calculations to be the ones for which the price\_min\_quantity match with the quantity of the product in the cart
* We now use the alias instead of product name in URLs for the xmap integration and in the cart of the checkout when the alias is provided
* The USPS/UPS plugins weight calculations have been improved
* We fixed detailed tax calculations with coupons in some cases
* We removed some notices ont he cart display page in some cases
* The proceed to checkout link in mini cart mode for the wishlist module is not displayed anymore as it doesn't make sense
* We added some code to avoid loops on auto load coupons when loading the cart in some rare case
* We fixed the credit card slider in some special case where there was a javascript error
* We fixed the main product price update after a copy of a product with variants as it was not working properly
* We don't check the limits if the product is added to a wishlist, we do it only for when it's added to a cart
* We fixed the category selection in the module category listings in some specific case
* Several fixes have been done to the table type widgets/reports
* We added a fix to the add to cart for products included in joomla articles when the hikashop cart module is not displayed on the page
* We now refresh shipping/payment methods when a product is added to the cart where before it could potentially create shipping/payment mehtods display issues on the checkout
* We fixed the current URL retrieval on some specific sever configurations
* We fixed options ordering issues in some edge cases
* The comments were quoted twice on the frontend in some cases
* We fixed the pay link in the order creation email
* The onAfterCartUpdate trigger was not triggered in all cases after a cart modification
* The minimum number of products option of coupons now use the quantity of the products in the cart and not the main quantity of the products
* We changed the state field ajax URL to not use SEF as it can sometimes lead to issues with SEF
* We fixed the generation of thumbnails in some specific cases
* There was a bug when editing a waitlist on the backend and that the waitlist was for a variant of a product
* The badges image thumbnail was not displaying properly on the badge edition form
* There was a bug where the cart was not cleared at the end of the checkout when products in the cart were free and the confirmation email sent
* We fixed the option button on the dashboard on Joomla 2.5
* We fixed the "with tax" option of the manual shipping plugin

#### Improvements

* Do not display the product option anymore if all the variants of the option are not available (not stock/unpublished) anymore.
* The ePay.dk plugin has been updated (for people using that plugin who are updating, please configure again the plugin after the update as some options changed)
* The WorldPay Business gateway URL has been updated with the new one recommended by WorldPay
* The pagination system has been reworked to be able to display the number of items per page dropdown even when the template's pagination doesn't support it
* We now display a wishlist popup when adding a product in the wishlist, instead of the cart popup
* There is now a rebuild button on the categories listing of the backend to rebuild the whole category tree (useful when the data in the database is screwed or after an import via SQL)
* The votes&comments options of the configuration have been modified a bit
* We moved around some options in the configuration so that it makes more sense when you're searching for them
* When you set prices with minimum quantities in main products and not in variants the price calculated in the cart is now based on the total quantity of all the variants in the cart where before it was only based on the total quantity of each variants
* Accepted currencies for the PostFinance plugin have been updated
* The badge translations have been added
* You can now create reports/widgets of the most clicked products
* We now handle custom order statuses in the acymailing integration plugin
* The product export has been updated in order to be able to add the XLS support in the future
* We removed the unecessary JS call to hide the price option in mini cart mode for the cart module
* Lot of new triggers have been added in HikaShop and we also updated the developer documentation so that you can easily find them
* We added an additional check on the plugins, menus and modules fields to not load the HikaShop helper when not necessary
* We added several indexes in the database to improve performances for shops with more than a few hundred of thousands of products
* We add a default subject to the order cancel notification email
* We now display the custom item and order fields on the PDF invoices of the PDF invoice plugin
* We now display the "Choose options" button instead of the "add to cart" button on listings for products with options
* We add spaces between values when displaying the values of custom fields of the multiple dropdown
* We now keep the product data when there is some missing data in required custom fields on the product edition page for a new product
* The jomsocial plugin integration is now compatible with Joomla 3.0
* The CanadaPost plugin now handle the International expedited shipping method
* The custom fields on the product edition page for new products are now displayed based on the category where the user was when he clicked on the "new" button
* We removed the default - in the UPS warehouse options
* We added hidden config options to be able to rename the category\_pathway and the related\_product parameters of URLs
* We added the possibility to filter customers listings by product bought, order statuses, etc in reports
* We added a new price display option for the acymailing integration
* We now logout users if their user groups have been changed after the purchase so that they have to login after and get the new user groups permissions
* We now handle the view override for the registration\_bootstrap view file
* The import now supports the import of images/files with similar names albeit different

#### New features

* You can now enter a MSRP for each product which will be displayed on the product page
* We added a field to enter the canonical URL of each product so that you can avoid SEO penalty because of URL duplication for the same content
* We added a new option in the configuration on Joomla 3.0 to be able to choose the popup display mode on the frontend and either use the bootstrap responsive popups (the default on 3.0) or mootools popups (which is the default on 1.5/2.5)
* The "no SSL outside checkout" plugin is now included by default in HikaShop
* There is now a Ogone payment plugin in HikaShop
* There is now a new option for badges in order to keep the original size of the badge everywhere it is displayed.
* HikaShop now handle the user account creation notification option of the joomla user manager options and you can even edit that email via the System>Emails menu in the Business edition). We also handle the "send password" option of the joomla user manager for the user account email notification to the user
* We added two options: one to save a comparison as a wishlist and another one to compare the products of a wishlist. They can be activated via corresponding options in the configuration of HikaShop
* We also added an option to hide the "add to wishlist" button for guest users and to hide the "convert cart to wishlist" button on the checkout cart.
* We added the support of the facebook send button and XFBML handling in the social networks plugin

### HikaShop 2.1.0

**Release date : February, 5 2013**

#### Bug fixes

* AlphaUserPoints points caclulations corrected in some cases
* The links to the plugins edition page from the configuration page on Joomla 2.5 and 3.0 are fixed
* Several warnings and Strict Standard messages have been fixed in HikaShop
* There could be some issues with the checkout workflow in some rare edge cases
* The options variants were not ordered correctly in some cases on the product page
* Table widget translations are now displaying fine instead of keeping the English
* The import of the column price\_value\_with\_tax has been fixed
* The "read more" link on the tabular product page layout has been fixed
* The microdata plugin was not setting the price tag on the product page main price in some rare cases
* The "email confirmation" field of the registration form was not checked properly
* We fixed some rare cases of duplicate product results when searching for products in the backend listing
* Several widget calculations/display issues have been fixed
* An image URL issue has been fixed for facebook like buttons which was happening only in some cases
* The comment form hidden HTML elements are not displayed anymore when not needed on the product page
* The add to cart of options could be problematic in some cases
* The limits restricted to categories were not working properly when the products had variants
* The export of products/orders has been fixed for Joomla 3.0
* The upload for custom item fields on products with variants was not working properly in some cases
* The shipping/coupon value was displayed with taxes on the invoice even though the display prices with tax option was turned off
* In some strange case, the coupons could not be added to the cart
* A bug has been fixed in the Servired plugin
* The publish/unpublish toggles for translations were not working properly on some screens
* Several bugs have been fixed with the wishlist system
* The recently viewed products listings were sometimes not correct
* It is now impossible to add free products to the cart via direct call if the "display add to cart button for free products" option is turned off
* The column selection for the products search plugin has been fixed on Joomla 3.0
* The active category is now properly selected on the page weven if more than one category listing module are on the page
* Cursor filters can now handle the submit on change
* The export of CSV for reports has been fixed
* For 'same brands' and 'same categories' products listings on the product page, we do not display the current product anymore
* The weight and dimensions of the main product was not passed to the variants for the shipping calculations
* The order download links have bee fixed in the backend
* Some bugs have been fixed with the CanadaPost plugin

#### Improvements

* View files in the menu Display->Views are now only shown for their respective template (frontend templates for the frontend view files, backend templates for the backend view files) which should reduce errors of edition for the wrong template
* You can now have the "proceed to checkout" button in the cart module in mini-cart mode
* Falang/JoomFish integration files are now installed automatically on the configuration (you don't need to install HikaShop after Falang/JoomFish anymore)
* Check and bank transfer payment plugins now have an option to send or not the order status notification email after the checkout
* Instead of enter prices for your product variants, you can instead enter the percentage of the main product price that you want for each variant's price
* The Community Build integration now set the name of the user in Community Builder during the registration
* The cart module and the cart view of the checkout now take into account the main "link to the product page" option of the configuration so that you can remove the link to the products from the cart displays
* The size of several input fields have been increased for ease of use
* The Dynamic calandar now handle date ranges
* You can now specify to not have any products in the xmap plugins by setting the products level depth option to 0
* Error messages are no displayed for the UPS and CanadaPost plugins when the connection to the server cannot be established
* The Recaptcha plugin is now compatible with Joomla 3.0
* A proper error message is now displayed when the code already exists on discount/product edit
* The state custom field has been improved to be nicer and still display even if the country field is unpublished
* We now allow UTF8 credit card owner names
* There is now a list of reserved words for custom fields so that you cannot create custom fields which are forbidden by MySQL
* There is now a rate types selection for the FedEx plugin
* The ordering of files/images is now handled in the import and copy functions
* The prices of products when added to an order in the backend is now the current order user's price and not the currently connected administrator price (it's useful when you have different prices for different user groups for example)
* The display of the user control panel on mobile phones has been improved

#### New features

* We added a PostFinance payment plugin (Switzerland)
* A new and easy (we hope) to use configuration page
* An option to reset invoice ids periodically has been added to the configuration (useful when you want to restart your invoice numbering to 0 each year, each month, etc)
* A new checkout workflow editor has replaced the previous one
* An image selector has been added in the backend when editing your products
* There is now a backend interface to manage waitlists
* There is now an option to choose to update stocks only when the orders are confirmed and not when they are created
* Auto linkage of subcategories to submenu items (to avoid duplicate content with two categories listing URLs going to the same page)
* You can now have an alias for categories and products
* You can now allow/disallow the access to the entire HikaShop (all editions) component based on the user group directly from Joomla without having to use ACL manager
* You can now activate the bootstrap layouts on Joomla 2.5 and deactivate the bootstrap layout on Joomla 3.0 in order to adapt HikaShop to any template thanks to a new option of the configuration
* You can now filter the orders listing by dates

### HikaShop 2.0.0

**Release date : November, 5 2012**

#### Bug fixes

* Images for the Facebook like button were not always displaying properly
* The order cancellation notification email to the administrator was not working
* The product minimum quantity field value was not copied when duplicating products
* When using filters on price with a minimum of 0, free products are now displaying
* The font selection for Facebook button could lead to the like button not working in some cases
* With a joomla plugin using the "config" cookie, the save of the configuration wasn't working as the cookie was overriding the data of the configuration
* RSS/Atom feeds on brands listings were not working properly
* Product sales and quantity update on order status modification were not calculated porperly in some cases
* Several issues and bugs have been fixed with the reports/widgets calculations
* Some variant data was not displaying properly on the product page and the main product data was displayed instead
* Thumbnails on the comparison table were not displaying porperly due to a regression from HikaShop 1.5.8
* The values sent by the paypal pro plugin could sometimes not be rounded properly leading to the payment not being possible
* Several tax and discount calculation issues only hapenning in some rare cases have been fixed

#### Improvements

* We now clear the buffer before outputing download files so that in case something else displays garbage before, the downloaded file is not corrupted
* The export of products now also export the ordering of the product
* Translation overrides now also work in the backend and for emails sent from the back end
* The 'validate free order' plugin has now an option to send or not the confirmation email
* When the price of shipping methods change because of a modification in an address the shipping data is now updated in the cart
* VAT numbers checks have been improved
* The filter button has been improved so that the enter key works all the time
* Additional classes have been added in order to fine tune CSS styling
* The product page tabular display has been improved
* Downloads restrictions have been improved in order to handle product quantities
* The system now uses the main zone when a shipping method overrides the shipping address selection with the shop address (for pickup delivery)
* The payment id is not displayed anymore in the payment selection dropdown of the listing of orders on the frontend
* The default state dropdown is now displayed in PHP so that it will still display even if you have javascript errors on your pages
* The popups now use a new popup system so that they will always open, even if you have javascript errors on your pages
* You can now import product prices with tax using the column name price\_value\_with\_tax in your CSV
* Lot of triggers have been added so that third party developers will be able to override HikaShop behaviour easily and to prepare for our multi vendor solution which will be a separate extension and available shortly
* HikaShop 1.6.0 has been audited by Compass Security AG and two minor issues have been reported and fixed for 2.0.0

#### New features

* HikaShop is now compatible with PHP 5.4 and support for PHP 4 is now over.
* HikaShop is now compatible with Joomla 3.0.x
* The interfaces on Joomla 3.0.x use bootstrap so that the layouts adapt to the size of your device
* The social network plugin now handles pinterest
* New options have been added for the votes display
* You can now create menu items of the carts listing, the current cart, the wishlists listing and the current wishlist
* There is now a separate invoice number from the order number and both format can be configured independently
* A new option has been added to the manual shipping method to select whether or not to use taxes for fee calculations
* You can now select in the configuration whether to display the weight on the product page or not
* A related products module is now created automatically during fresh installs so that when you add related products, you can see them on the product page without doing anything
* The Akeeba Subscriptions integration plugin now supports recurring payments

### HikaShop 1.6.0

**Release date : August, 29 2012**

#### Bug fixes

* The HikaShop {product} tag replacement plugin could in some cases create a fatal error.
* We fixed handling fees calculation rounding for UPS and FedEx plugins
* Filters do not display anymore when the product listing is empty (excepted if they are used)
* We fixed a rate calculation issue in the FedEx plugin
* When the "include sub categories" option of the coupons was checked, only the published categories were taken into account
* There was a problem produced by the HTML of the HikaShop {product} tag replacement plugin
* We fixed some warning messages with the initialization of some display configuration options
* We fixed a problem which was happening in some cases with the add to cart buttons in the previous release
* We fixed a notice message with the add to wishlist buttons
* total price on cart module was not aligned with product prices because of a missing td tag in the previous release
* We fixed the price tag of schema.org plugin which wasn't being added at the correct place
* The dashboard could be corrupted in some cases with the previous release
* We fixed some issues which were happening in some cases with the AJAX processes related to the cart introduced in the previous release
* The images of variants were not using the main product image in some cases on the product page since the previous release
* The handling fees are now rounded properly for UPS and FedEx plugins
* We fixed a display issue on invoices with custom order fields
* The publish/unpublish button for shipping methods did not work anymore
* The US state of the address of the user was not transfered to PayPal properly

#### Improvements

* The HikaShop menu is now automatically above the content instead of under the title in the backend when the RocketTheme MissionControl or the APLite template are used to avoid the menu being broken by the templates
* You can now have a minimum value of 0 for cursor filters
* When address's VAT number is wrong, the information on the registration form is not lost anymore
* We added a warning for the "Put the store offline" option of the configuration
* We added new options in the configuration to display or not the wishlist and cart management features
* There is now an option to select whether or not to capture immediatly the transaction in the authorize.net plugin
* You now have checkboxes and a unique add to cart button to add the products from a wishlist to the cart where before you had to add them one by one

### HikaShop 1.5.9

**Release date : August, 15 2012**

#### Bug fixes

* The counting of products on listings now also works for brands
* Quantity handling on add to cart has been corrected for some specific cases
* We fixed some regression bugs of 1.5.8 related to some tasks not properly registered for the products and zones publishing/unpublishing and the default address selection
* We fixed a problem with the address\_street2 field
* In some rare cases having options and characteristics on the same product could produce a javascript error
* Coupon calculations could be off in some cases when the "show detailed tax" option was activated
* In some cases, the billing and shipping addresses of an order were coupled together resulting in the modification of both when editing one
* Weight and volume calculations for shipping plugins were wrong in some cases
* Characteristic filters values were not ordered properly
* The min/max quantity options of variants were sometimes not taken into account properly
* The order\_discount\_tax value was not calculated properly in some cases
* The Akeeba subscription plugin and the group plugin were not working properly with some payment plugins in some cases

#### Improvements

* You can now import products with characteristics using the characteristics alias
* When adding characteristics to products which already have characteristics, the variants are now regenerated automatically, no more "no values found"
* The weight/dimension units handling has been improved to avoid issues when the products had already a unit configured which was removed from the list of possible units
* The address/zone of the user is automatically selected when logging in, even when not logging in via the checkout
* The menus/modules/plugins are now unlocked when you go to their hikashop options
* New backend menu for HikaShop

#### New features

* New iPayDNA payment plugin
* New MIGS payment plugin
* New OKPay payment plugin
* New VirtualMerchant payment plugin
* New Canada Post shipping plugin
* New FeDex shipping plugin
* New custom tax caclulation plugin which allows you to calculate taxes based on the total and not for each product
* There is now an ordering column for characterstic values
* You can now have product information/add to cart buttons inside joomla articles with a new HTML editor button
* We added a page title override field for products, categories and brands
* We added a badges system so that you can automatically tag the images of your products (the images are overlayed so it's different from watermarking
* The carts can now be managed on the back end and on the front end.
* Users can select their current cart from all their active carts
* There is also a wishlist system so that your users can potentially share their products selections with others
* Together with it, there is a wishlist module which displays similarily to the cart module
* We added a reporting system along with improved widgets so that you can produce much more advanced statistics
* The default address of the user can be used automatically when you select a user for an order in the back end
* All new menus and modules now inherit the default options of the configuration so that you can configure their display from one single place while still being able to configure each one separately
* Thare are now default preconfigured menus and modules in HikaShop so that it's easier to start a shop for beginners.

### HikaShop 1.5.8

**Release date : May, 29 2012**

#### Bug fixes

* Ratings were not working properly with Mootools 1.12 on Joomla 1.5
* We fixed some bugs related to filters of the type "text"
* The categories search plugin was not building all the conditions of the search query properly and could lead to wrongly displayed results
* Coupons now handle variants properly for category/product based restrictions
* When the "include sub elements" option was turned on for discounts, the discounts were applied to all the products, regardless of the category
* For addresses in the USA, the SagePay plateform was sometimes returning an error stating that the state field was missing
* The CSV export of products with variants was adding an extra empty column in the CSV
* Several display fixes on the comment/vote system
* The product search plugin had an error with Joomfish and and ACL support in the Business edition
* The import of translations was not working properly
* We fixed the number of products count which could be wrong on categories listings in some cases
* We fixed calculation issues with the Australia Post shipping plugin
* The recently viewed products option was not working properly
* Entering a coupon code during the checkout was reseting the shipping method selection when in fact it was not necessary
* The system was messing up the order number format option of the configuration in some cases

#### Improvements

* You can now handle the translation of filters via Falang/Joomfish
* The Google Analytics plugin now handle payment methods where the order is validated while being created
* The watermark feature now handles non standard transparent color properly
* New icons in order to match Joomla 2.5's look
* Search plugins are now compatible with Falang
* We improved the votes and comments feature
* The documentation can now be translated automatically via Google translate
* The Spanish states have been fixed
* The min and max fields of a product when the product has characteristics now rules on the quantity of all the variants of the product in the cart and not each variant like before
* The Sales menu is now called Orders for better consistency
* The Discounts menu is now under the Orders menu
* The manufacturer term has been renamed into "brand"
* The checkout won't validate the order anymore if the user tries to refresh the latest step of checkout
* We added UK postal counties to the list of UK "states"
* The styles of the user control panel are now handled with CSS classes

#### New features

* Shipping methods can now be configured on a per product basis
* HikaShop is now compatible with the update system of Joomla 2.5
* We added new options to the AlphaUserPoints plugin in order to handle points grouping, virtual points, and minimum not yet reached messages...
* Custom fields of the table user are now displayed on the joomla user profile edition page
* You now have the possibility to display the details of the order in google checkout
* The authorize.net plugin can now handle DPM
* We added a new shema.org plugin which adds HTML5 microdata to the HTML of the product pages for better SEO
* We simplified the taxed prices display setup with only one central option
* We added a global product code display/hide option for the whole front end/invoices/emails
* You can now configure payment fees for each of your payment methods
* We added a new AliPay Direct payment plugin for the Chinese market
* We added a custom price plugin for donation products (business edition)
* A separate PDF invoicing plugin as been released allowing you to automatically attach the invoices to the orer confirmation email (coming in a few days)

### HikaShop 1.5.7

**Release date : March, 14 2012**

#### Bug fixes

* When using the comparison feature, if you products had several categories you would see your products several times in the comparison table
* When deleting several elements on the back end, the count in the success message is now correct
* In some cases the variant name was not added to the contact email subject
* We fixed the "back" button on the order details page of the front end when users were coming from their CB profile
* We fixed a problem with the thumbnails on the product page with characteristics
* We fixed some problems with custom field filters
* We fixed some problems with filters on manufacturers listing pages
* We removed a warning when Joomfish was installed but that no languages were configured
* The contact us button was not displaying properly for products with characteristics when the contact us button display was on a per product basis
* The wait list was not working properly for products with characteristics
* The name of languages was not always displayed on the languages listing of the configuration
* The transparency was lost when resizing images for some png formats
* We fixed a problem with the date filter in the AcyMailing integration
* The coupon value with the option "Coupon percentage applies to product only" was not calculated properly when products had characteristics
* The subject of payment notifications in the eway payment plugin was not set properly
* The carousel sliding effect was not working properly in IE7

#### Improvements

* The Russian and Ukrakian states don't have stress marks anymore (thanks to progreccor)
* You can now sort products by name via the filters
* We changed the size of decimal fields in the database for new installs so that HikaShop can handle prices over 10 million (useful for some currencies or if you're selling really expensive stuff)
* We corrected some spellings in the UPS plugin
* We added a tooltip on the remove coupon icon of the checkout
* We added a subject to the order admin notification
* The filters module can now display the results directly via a products listing menu so it's simpler to setup
* The sub categories on categories listings are now ordered the same way as the main categories
* The HikaShop options link is not displayed anymore in menus/modules/plugins joomla options when the access to the HikaShop options of them are not allowed for the user's user groups
* RSS feed now uses the main image of the products instead of the last uploaded one
* We changed the states of Malta so that it better reflects the reality
* The user was able to click on the + while ordering more that the stock. We now block that
* The HikaShop menu items type on the menu items listings of the menu manager are now translated
* Custom order fields are now displayed in the invoice on the back end
* The contact email can now be edited via the System->Emails menu

#### New features

* We added an alias option to characteristics, in order to manage them more easily
* We created a new plugin to redirect the Joomla user registration to HikaShop's registration
* We added a new option to the hikashop manual shipping plugin so that it will handle the shipping address interface better based on whether the customer is collecting the goods from your own store or have them delivered to them (update SVn from jerome)
* We added a new option in order to display a confirmation email field on the registration form
* HikaShop is now compatible with the Falang extension for multi lingual support on Joomla 2.5
* Validate free orders plugin
* We added a new option to custom fields of the type text and textarea so that you have have them in readonly mode
* Vote and rating system for HikaShop
* You can now reorder product images
* We added the possibility to specify a URL for the files of products
* Users can now select their default address
* We added a new CSS file option in order to handle additional styles for HikaShop (to be coming soon !)

### HikaShop 1.5.6

**Release date : January, 26 2012**

#### Bug fixes

* When the products didn't had any options or custom fields and that the "Use AJAX when possible for add to cart buttons" was turned off the notice popup on add to cart was not displaying
* When the coupon view was not on the same page as the cart view in the checkout workflow, it could happen that the coupon wouldn't be handled properly
* The category/product name in URLs from the search of Joomla were not correct if non ascii characters were used
* The checkout workflow edition tool could mess up the checkout workflow in some cases
* When the option "Use AJAX when possible for add to cart buttons" was turned off, the option "After a product is added to the cart" was not taken into account on products listings for add to cart buttons
* Pagination was not working for modules under the product page
* The geolocation plugin uses now the new API v3 of IPInfoDB
* We fixed a bug in the HikaShop orders filter of the AcyMailing integration plugin
* The contact form was not working properly in some cases when there was no add to cart button on the product page
* We fixed some warnings which could appear in some cases for filters
* The cursor filters were not displaying properly in some cases
* For some dimensions and weights, the fees calculated by the Australia Post plugin were not correct
* The graph widget was not displaying correctly for days at the beginning of the year
* You could get a "passwords do not match" error message on the checkout when changing the products in the cart in some cases
* The tooltip text was not correct for the out of stock notification plugin
* When deleting a product with options from the cart, in some cases in didn't work properly
* Images for the cursor filter didn't had the correct path in the CSS
* We fixed quite a few problems with the AlphaUserPoints payment plugin so that it handles the calculations correctly
* We fixed a compatibility problem between jquery easy and the filters of the type cursor
* The "price with options" of products on the product page is now displayed even if the price of the product is 0
* With the ATOS payment plugin, when the user makes a mistake three times for the credit card and click on the button to go back to the store, he was displayed a blank page instead of a redirect to the checkout
* The redirect link for a successful order was not correct in the ATOS plugin
* When you select an existing product to be added to an order, if you naviguate through the categories, it will now work properly

#### Improvements

* We changed a bit the xml of the HikaShop Community Builder plugin so that the plugin can be reordered in CB
* We improved a bit the SEF URLs with sh404SEF
* The credit card collect plugin can now also be used for payments made from the orders listing
* The UPS plugin is now compatible with the shipping methods restrictions of payment methods
* The products search plugin now handles better the category\_pathway parameter of products URLs
* The "menu" option of products listing modules under the product page is now used for links in the module instead using the current itemid if that option is set
* The ReCaptcha plugin now handles the contact form on Joomla 1.7 and is not displayed when the user is logged in
* We added the order number to the administrator payment notification emails
* We added ranslations for address titles
* We updated the worldPay plugins with the new URLs and new naming convention in place
* The Cancel button on the order details page (which can be used to go back to the previous page) is now called Back to avoid any misunderstanding
* Category listings displayed in list with the "Show sub categories" option set to "all sub elements" now handle the current and active class names so that you can style easily the currently selected element
* The error message for conection error has been improved for the PayPal Pro and Authorize.net payment plugins
* HikaShop now also counts the number of downloads for free product files and not just paid files
* The out of stock notification plugin can now notify you when a quantity is reached before the product goes completely out of stock
* Now you cannot set a core custom field type to 'custom text'
* Custom fields of the type products and categories are now displayed on products and categories listings of the backend according to the category restrictions you configure in them
* AUD and GBP have the proper decimal and thousands separator by default when installing HikaShop
* The date restrictions for cusotm fields of the type date now works with any format of date
* When there is a problem with the registration of the user on the registration page of HikaShop, the user will now see again the registration form with the information he had previously entered
* The checkout does not submit the page anymore when the user clicks on an address which is already selected
* The watermarking now only applies to products images and not categories/manufacturers images

#### New features

* We changed some stuff in order to be compatible with Joomla 2.5
* On Joomla 1.6 1.7 and 2.5, we added "save & new" buttons on edition screens on the backend to improving usability
* We added a copy button on the discounts and zones listings
* Manufacturers filtering on products listing when manufacturers are created (CCC contribution)
* simplified registration with password (CCC contribution)
* Custom item fields can now be displayed for each product on products listings
* There is no an integration with Shadowbox Media Player as an alternative to the Joomla lightbox system in order to display the images gallery on the product page
* You can now display listings of last viewed products
* We added an option to display the number of products inside a category in category listings
* We added another option to not display categories without products in category listings
* The AlphaUserPoints plugin can now handle points in increments and we also added a maximum number of points possible option
* We added new events to handle custom price calculations based on custom fields and/or other information in hikashop plugins
* We added several layouts for the product page so you can select the one you want to use
* You can also now choose different product page layouts for different products/categories
* You can now have URLs without the category\_pathway and related\_product parameters thanks to a new option of the configuration for SEF. It is activated by default only for new installations
* You can now disable the search for manufacturers in the HikaShop categories search plugin
* You now have different options for products page image size and the listings in the configuration of HikaShop so that it's simpler to setup

### HikaShop 1.5.5

**Release date : December, 7 2011**

#### Bug fixes

* The print functions were not working properly on the front end with internet explorer and were displaying the whole website chrome around the invoice/cart which should not be the case
* There were some display problems of products with options in the cart
* In a specific case, the ATOS payment plugin would validate the plugin even though the payment was invalid (we recommend that you update if you use that payment plugin)
* The cookie for the affiliate system was not working properly when the banner URLs were SEFed
* The commissions of affiliate sales with flat fees were not calculated properly
* The URL of download files in the order status notifications where not correct when the order was confirmed from the back end
* The URL of images in RSS/atom feeds were broken
* The reset download button was not working properly
* The URLs of breadcrumbs didn't support Joomla 1.6+ UTF8 URLs
* We fixed a problem with UPS for packages below 1 lb
* We fixed a translation problem in the ePay plugin
* We fixed some HTML typos in the social plugin
* The pagination was not displaying properly when filters were used
* There was a javascript error with custom fields when using the display limitations
* We fixed a potential warning on the address selection of the checkout which happened in some rare cases
* We fixed the pagination on the orders listing on the front end
* We fixed the filters selection in the filter module on joomla 1.7
* We fixed some warnings when creating filters or displaying them in some rare cases
* We fixed some issues with the creation of custom fields of the type "custom text"

#### Improvements

* We added the display of the selected modules for the option "Modules under the product page" of the configuration
* The title on hikashop content pages now takes into account the option "show site name" of the configuration of Joomla 1.7
* You can now use cl for dimensions
* We improved the error messages of the UPS plugin
* Now, we do not display the HTML tags surrounding listings when there is nothing to display in the listing
* The stock of the main product is now updated, when customers buy variants of that product
* The import now handle translations of products information

#### New features

* New option for custom fields of the type date to allow only dates in the past or in the future
* New options for limits in order to create daily limits, or limits per cart
* New option to give the possibility to customers to cancel their orders
* New option for coupons (thanks to brainforge for sharing his modifications)
* We added a CM-CIC payment method plugin
* We added a iPayDNA payment method plugin
* You can now configure a waitlist so that customers can subscribe to out of stock products they would like to buy and be reminded by email with the product is available (commercial editions)
* You can now activate a product comparison feature for your products (Business edition)

### HikaShop 1.5.4

**Release date : September, 27 2011**

#### Bug fixes

* We fixed the options names when several characteristics where selected for the option
* There was an error when deleting a custom field
* When ordering manual shipping methods, the system was duplicating them
* The payment method restriction by shipping methods was only effective after the refresh of the page on the checkout
* The currency switcher module with SEF activated was broken by last release
* Cusotm fields restrictions on categories were not working when the products had characteristics
* The amount could be wrong in the moneybookers plugin in some specific cases
* The access level restrictions weren't working properly for discounts and coupons on Joomla 1.6 and 1.7
* The "include sub categories" option of the discounts and coupons were working in the opposite manner as intended
* The start date and end date restrictions where not working properly on products limits
* The search plugin was not filtering products properly in some cases
* We fixed several issues with mutliple currency support for affiliates
* We fixed several issues with options display when options had several characteristics

#### Languages

* The traditional Chinese translation has been completed
* The Finnish translation is now complete

#### Improvements

* We improved the menu listing title display
* You can now have products without a price with a minimum quantity of 0
* The automatic itemid retrieval for products and categories links on the joomla search page has been improved
* We improved the address creation handling on the checkout
* We improved the handling of options with multiple characteristics on the product pages
* The search plugins now handle dynamically the itemid if not specified in the options of the plugins

#### New features

* We added a new option to the credit card payment plugin so that you can ask their card type to your customers
* We added an option so that you can select whether or not the options should be grouped together with the main product on the cart and the checkout
* The payment log file can now be seen in the config
* New checkout workflow configuration tool in the configuration page
* Payment methods can now be filtered by currency
* The downloadable files are now directly linked to in the confirmation email
* We added a new option to display products image on the checkout
* We added a VM redirect fallback plugin so that once you migrated from VM to HikaShop, your old links will redirect to the new product pages on HikaShop
* We added a payment plugin for servired payment method ( made by Webemus )
* We added a payment plugin for payment express
* Customizable filters on products listings so that users can easily search throughout your products (Business edition)
* Out of stock notifications plugin (Business edition)
* You can now create new orders from the back end
* You can also now easily add products to orders by selecting them from existing products

HikaShop Essential and Business' license is now the GPL.
### HikaShop 1.5.3

**Release date : July, 29 2011**

#### Bug fixes

* We fixed the quota on users for coupons
* The payment methods would be missing on the payment methods selection dropdown of the orders listing of the user if the ordering was not defined for each payment plugin
* The category search plugin wouldn't display properly the category page for manufacturers because of the itemid. We added a new item id option for it
* The autralia post shipping plugin was displaying an error message when the package could not be delivered by sea where it should just have skipped the sea method
* The hikashop social networks plugin now handles HTTPS properly
* The onBeforeProductUpdate and onAfterProductUpdate evetns are now triggered when publishing/unpublishing the products via the main buttons on the listings
* The feeds are now displayed properly when you have tags in the descriptions
* Menus names with quotes were cut on the hikashop options page
* The price\_min\_quantity column name was not correct on the export of products
* We fixed a notice on the checkout when entering an invalid coupon code when the errors display was activated
* The download area on the product page is now only displayed if there are free files attached to the product where before it was displayed even if there were only non free files attached to the product
* The alphaUserPoints plugin was not attributing the points correctly when the orders were confirmed from an external payment gateway
* The total unpaid amount of partners was not always displayed properly on the users listing of the back end
* We fixed an error on the user panel page for joomla 1.7
* We now remove the HTML tags in the products name for the title of the browser and the aliases of the URLs
* The auto loaded coupons with minimum number of products were not switched automatically properly in some cases
* We corrected some issues with the affiliates processing of fees with multiple currencies

#### Languages

* Front end Slovenian translation now available
* Persian translation now available

#### Improvements

* We improved the payment and shipping methods selection views in order to display a message when no method is selected
* h2 tags changed into h1 tags on the product page in order to improve SEO
* We improved the error messages on the paypal pro plugin
* We improved the randomized process on products listings
* Dimensions and weight's display on the product page has been improved
* We removed the : on the registration form for consistency with the other fields
* We improved the initialization of payment plugins
* We removed the meta description and keywords fields for order statuses and tax categories as they don't need it
* We added the custom item fields on the cart module and the order invoice
* The price minimum quantity is now 1 by default not 0. It's more logical
* The price of the product with the options on the product page now handle the tax option in order to not display the taxes if that's how the option is setup in the configuration
* We added a new option in order to deactivate the AJAX processing when adding a product to cart and to use instead a normal POST of the page
* We added a check on the OK button on selection popups on the back end so that there are less mistakes
* The import now handle manufacturers and several parents categories
* There is a default tax category which is now preselected in order to simplify the tax rules setup
* The options are now linked to their main product in the cart\_product table of the database. That will allow us to display them together with the main product in the cart in the future
* HikaShop is now compatible with XMAP 2.x

#### New features

* We added new options in the configuration to simplify again SEF URLs
* We added a new option to payment methods so that you can restrict them to some shipping methods only
* We added the possibility to display the google +1 button for the social networks plugin
* We added a new option to be able to deactivate the input filtering for specific custom fields
* We added a new option to be able to set a maximum length for custom fields of the type text
* We added a new google analytics plugin in order to track your sales with it (Business edition)
* You can now restrict the number of products, the weight of products, the prices of products that users can buy over a certain period on your shop and limit the restrictions to a product or a category of products (essential edition)
* We added the possibility to publish/unpublish the emails sent by HikaShop (Business edition)
* We added a payment plugin for RBS WorldPay Business Gateway made by BrainForge (Thank you for contributing!)
* We added a payment plugin for RBS WorldPay Global Gateway made by BrainForge (Thank you for contributing!)
* We added a payment plugin for SagePay
* We added a payment plugin for Google Checkout
* We added a payment plugin for FirstData
* We added a payment plugin for Intuit Innovative Gateway
* We added an VirtueMart import plugin in order to retrieve in HikaShop the users, addresses, orders, categories and products data from VirtueMart
* We added the possibility to export orders information as a CSV
* We added a new pane layout for categories and products listings
* We added three new layouts for categories and products listings with sliding/fading effects (Business edition)
* We added a new carroussel mode with plenty of effects for categories and products listings modules (Business edition)
* You can now select a size for thumbnails for each menu/module you have
* You can display/hide dynamically fields based on other fields (Business edition)
* You can restrict custom fields of the tables "item", "product" and "category" to only one or several categories
* We added the possibility to restrict tax rules to user groups (Business edition)

### HikaShop 1.5.2

**Release date : June, 23 2011**

#### Bug fixes

* The parent frequence wasn't used properly in the XMAP plugin
* Add titles to thumbnail images
* We fixed the CSV generated when exporting the products information
* The quantity calculation override wasn't taken into account for the emails
* The update events were not fired when the user was using the listing toggles (for publishing/unpublishing for example)
* We fixed the display of the first payment method when the auto select option would be deactivated
* The default value was not set properly for options dropdowns
* We fixed the order auto cancel plugin
* Notices fixed for menus ACLs on the back end with PHP notices activated
* ACL handling on the toolbar display for zone management was missing
* We fixed some issues with payments with the PayJunction plugin
* We fixed the CSV import of the price\_min\_quantity column
* The title of category listing menus was not displaying on joomla 1.6
* The donwload link for the google merchant feed was not working on joomla 1.6
* The points rule was not automatically added to AlphaUserPoints when using the corresponding payment plugin
* Special caracters were not escaped on Google Merchant feed for the categories name
* In some cases, with several variants in the cart, variant names could have the product name duplicated in their name
* The name of the states of Jamaica have been corrected
* The display of checkboxes and multiple dropdowns' custom fields values was not using the names but the values

#### Improvements

* We added the registration title on the registration page
* The product page of an unpublished product is not displayed anymore even if the user tries to fiddle with the URL and access it directly
* You can now create custom fields of the type "Custom text" in order to separate your custom fields in several groups
* Listings of products with the list layout can now be displayed in multiple columns
* The Social network plugin can now be displayed anywhere on the product page
* We removed the full width/height of the image popup options from the configuration and we now use the "image" handler of the modal library in order to handle the image popups on the product pages. It's nicer and easier to use
* Empty item fields are not displayed anymore in the emails sent by HikaShop or on the order details page
* We improved the SEF URLs (SEF URLs are different now, so you have to keep that in mind when updating)
* The "Display both" string has been splitted into two translation string for better translation of that term
* The continue URL and the URL where to redirect whent he cart is empty are now smarter and don't need the full URL
* We improved the addresses selection interface on the checkout as to be less confusing for customers
* We improved the country and state custom fields checks to guide users who have problems with their configuration
* You can now create new item box layouts in your template's hikashop views override folder and use them in your menus/modules
* The coupons price was deduced of the whole order and not only from the products total price. Now the shipping fee cannot be discounted
* The "Sales over the last 30 days" widget now display only the confirmed and shipped sales by default (on new installs)
* We improved the HTML on the front end views for HTML validity
* We improved the date handling on joomla 1.6 with timezones
* Strict standard errors display level of PHP 5.3 now supported
* We added a refresh image on the cart on the checkout

#### New features

* We added a payment plugin for PayPal Pro
* We added a payment plugin for CardSave
* We added new SEO options for categories
* We added an option to the Collect On Delivery plugin so that you can choose to send the order status notification email
* We added new events for users creation, update and deletion
* We added a new option to take offline the shop on the front end
* You can now also set an openning and closing hour for your store
* We added manufacturers support
* You can now filter the products listing modules by last seen date and most seen products
* You can now duplicate manual shipping methods
* We added an option to product files so that you can have them available on the product page in free access.
* We added the possibility to order options and related products on the product pages
* We added a new option to choose when to empty the cart (when the order is created, or only when it is cancelled)
* We added a new option to the Google products plugin to select whether to send the full description or the short description

### HikaShop 1.5.1

**Release date : May, 30 2011**

#### Bug fixes

* When no image is selected for a payment/shipping method, an empty image was displayed, now we don't display the image at all
* The status of the order was missing in the order admin notification email of the authorize.net plugin
* A translation was missing for the selection of the country once the "state" filter was chosen on the zones listing of the backend
* The search filter was messing up the links on the views listing page of the back end
* The links were missing the Itemid in the XMAP plugin on Joomla 1.6
* The contact us button translation was not working properly on variants
* The import of products using a template with variants was not creating the variants properly
* The orders products listing columns could be misaligned in some cases
* There was a problem with the insertion of states from UK during the install
* We fixed the display of the downloads count for each file of a product
* The link to the order details page wasn't working in 1.5.0 on order status notification emails
* We fixed a problem with the import of USA states

#### Improvements

* We added the possibility to trigger the popup notification on the checkout page
* We made the order link clickable on the admin notification email
* It's now possible to display the pagination on the top of a listing AND at the bottom
* On categories listing modules displayed as list with childs displayed, the correct main category span is now expanded by default when one of its sub categories is selected
* The quantity field is no emptied anymore when you already have an integer in it and that you click on it
* We improved the import in order to handle characteristics names with similar values
* We improved the way options names are displayed in the cart and in orders
* Custom fields of the type order are now displayed on the order details page

#### New features

* We added a new "address override" option to the paypal payment plugin as sometimes that option needs to be on and sometimes it needs to be off
* We added a new ACL screen in the configuration so that you can manage all the accesses in the management of your store and restrict some areas to some groups of users (business edition)
* We added a new option so that you can choose to hide products which don't have any stock left
* We added a payment plugin for iVeri, a payment solution in South Africa
* We added a payment plugin for PayJunction, a payment solution in the USA
* We added the support of RSS and Atom feeds for products
* We added the support of Twitter and Facebook on the products page
* We added an option to select an article for the terms and conditions
* We added a Google products plugin which enables you to reference your products on the google store (commercial editions)
* We added an export button on the products listing page so that you can export the product information as a CSV (beta)

### HikaShop 1.5.0

**Release date : May, 11 2011**

#### Bug fixes

* Custom fields of the type dropdown for the table order were not working properly on the back end order modification screen
* Custom fields of the type file for the table order were not working properly on the back end order modification screen
* The VAT number online checking service provided by Europe has changed its location. We've changed the location on HikaShop so that it works again
* We corrected a timezone issue on Joomla 1.6
* We corrected an error with the address saving during registration introduced with 1.4.9
* The USA and UK states were not imported correctly due to an issue introduced with 1.4.9
* We've reflected authorize.net API modification to use TRUE and FALSE instead of Y and N in the variables
* The characteristics name were inverted in the table display of characteristics
* The minimum product quantity in an order for a product wasn't checked on the checkout and cart module
* Custom product fields were not refreshed when changing the variant selection on the product page
* When products had a start date with variants, the sale date wasn't displayed properly
* The categories breadcrumb of the products listing on the back end wasn't working properly on safari
* The AlphaUserPoints plugin was not converting the prices correctly if the current currency was different from the main currency

#### Improvements

* We improved the image/thumbnails size calculations
* The currency selected is now kept when the user logs in
* Custom fields are now created as TEXT columns and not VARCHAR removing the 255 characters limitation
* The default value of the custom fields of the table product are now set in the products when the field is not displayed on the back end
* We added some CSS classes in the pagination
* The codeMirror editor is now used instead of the textarea when it is available on the views and emails edition screens
* There is now a link to the product page from the order details page and the FE and BE
* We added the possibility to specify images for categories when importing them
* We improves the CSV export of sales and customers by converting the dates taking into account the timezone of the website
* The associated modules random option is now turned off by default when creating a new menu of the type category listing
* The xmap plugin now has the name of the products in the URLs
* The menu now goes over the widget graph on the dashboard
* The pagination is now at the bottom of listings of products and categories
* We added some CSS for the pagination on HikaShop's front end so that it looks good by default
* Auto loaded coupons will now be swapped if a more interesting one is found when the cart information changes
* The characteristics table display now removes the input radio when there is no stock for the corresponding variant
* We added the jQuery noConflict code in HikaShop

#### Languages

* Catalan translation now available
* Thai translation now available

#### New features

* The xmap plugin now handle the priority and frequency change with two new options
* You can now restrict shipping methods by post code ranges
* There is also now an option to select whether the price restrictions are only on the price of products with a weight or on the price of all the products in the cart
* We added a new quota per user restriction for coupons in the commercial editions
* We added custom fields on categories
* We added the payment plugin SIPS ATOS for European banks and mainly French banks
* We added a payment plugin HSBC which supports the CPI API
* We added in the commercial editions a CSV file auto import plugin so that you can automatically update prices and quantities of your products from your suppliers feeds
* We added the possibility to have options for products
* We added new events for products, categories and address creation, update and deletion
* We now display the downloads count for each file of a product and we also added the possiblity to reset download counts
* We added the ACL support on custom fields in the Business edition
* We added an option to limit coupons to be not be usable under a minimum number of products in the cart (commercial editions)
* We added an option to remove the links on the main categories of listings of categories in accordion
* We added the possibility to restrict coupons based on the number of items in the cart and a quota per user

### HikaShop 1.4.9

**Release date : April, 12 2011**

#### Bug fixes

* Properly filter out unpublished or restricted child categories on listing of categories with sub categories displayed
* If the option "number of columns" is not filled, the system now defaults to 1 column instead of crashing
* The payment name was not the good one on admin payment notifications when using the eWAY plugin
* We added some code in the uninstall of hikashop on joomla 1.6 in order to avoid a bug of joomla 1.6 during the reinstall of hikashop
* When a user was logged out and tried to click on the order link in his order creation email on joomla 1.6, he would be redirected to a non-working URL
* We fixed a bug with the product\_contact column on commercial versions
* The creation date of users was not saved in hikashop\_user
* The VAT on coupon was calculated correctly and the final price reflected it but not the price without VAT leading to a wrong VAT display
* The delete icon in the cart module didn't work when the quantity field was deactivated

#### Improvements

* The default ordering of the discounts listing is now descending so that it displays the newest discounts first
* The minimum quantity order option now also checks that the user can't lower the quantity in the cart during the checkout
* We improved the custom fields handling so that you can now have a custom field of the type checkbox required where before the required option would be ignored
* We added the 2 letter codes for canadian states so that paypal can get them automatically
* Payment plugins options are now accessible directly from the joomla plugin options
* We added the menu and documentation button to the epay payment plugin
* We corrected the list of counties for UK
* We improved the categories selection popups so that it's easier to understand
* The "continue shopping" button is now out of the checkout form to avoid a problem with the enter key on IE8
* The random option is now turned off by default so that pagination will work without having to turn off that option
* The dates are now converted to a readable format during the export of users and orders CSVs in the widgets of the Business edition
* You now have to possibility to specify any order field in the order number format
* You can enter HTML in custom fields on the back end
* We added links on the category listing menu's hikashop options to the associated module's options

#### New features

* The order admin notification email and the order status update email now contain the full order summary
* We added a plugin to automatically cancel orders after some time (commercial editions)
* We added a plugin to support xmap
* We added a new option to activate the display of the dimensions of the products on the product page
* It is now possible to override the image HTML generation code via an override file in the template
* We added a plugin for AlphaUserPoints enabling you to give points to the users on your store and have them use these points for payment (commercial editions)

### HikaShop 1.4.8

**Release date : March, 19 2011**

#### Bug fixes

* We fixed several issues with the payment to affiliates
* When you had entered information in both the registration form and the login form and that you clicked on the login button, the system was registering you. Now it will log you in as expected
* Users who didn't click the activation link would still be accepted by hikashop (they weren't logged into joomla though) even though an error was displayed on the checkout
* We fixed a conflict between the geolocation default currency selector and the currency switcher module whereby the module wasn't working anymore
* We fixed a problem of display of the payment methods on PHP4
* When changing the shipping address of an order in the back end, the billing address would be changed too
* The start and end date weren't taken into account for variants when set on the main products
* Discounted prices might be displayed twice in a row in some cases on the checkout
* We fixed the product thumbnail display on the hikashop acymailing tag plugin
* We fixed a problem of display of the checkout page on joomla 1.6 with the language filter plugin published
* There was a bug which filtered too strongly the shipping methods when using zone restrictions in some cases
* The thumbnail of products were not displayed properly in the newsletters sent with AcyMailing

#### Improvements

* We added Serbia in the default list of countries
* The product/category name is now displayed as a tooltip when hovering on its image on the front end listings
* Shipping taxes and coupon taxes are now stored in the order table

#### Languages

* Fixing some translations which were not working properly in joomla 1.6
* Partial Portugal Portuguese translation available

#### New features

* We added the possibility to set a tax category for the price of coupons
* We added a new option in the config so that you can remove the login box from the checkout
* We added a new option in the config so that you can choose whether to display the pagination on top of the listings on the front end or at the bottom
* You can now import multiple prices for your products and variants via the hikashop products importer
* You can now import the access level of prices for your products and variants via the hikashop products importer
* We added the eWAY payment method (for australia only)
* We added the ePay payment method
* We added the AlertPay payment method
* We added the Western Union payment method
* We added a new filter in the acymailing hikashop plugin allowing you to send reminder emails for the orders. That way, you can for example send a reminder to your customers who created an order without confirming it 2 days after creating it only if they didn't confirm another order in that time (only in the commercial editions)

### HikaShop 1.4.7

**Release date : February, 28 2011**

#### Bug fixes

* The payment method dropdown which enables you to switch to another payment method on the listing of orders of the front end has been changed so that it displays only the payment methods which are published and relevant to each order
* We fixed the orders URL on the dashboard
* In some rare cases, the price of items in the cart might not be the correct one if several prices are set for different minimum quantities

#### Improvements

* You can now use the Turkish Lira for PayPal transactions
* We removed the token checks on the checkout as they are not useful and can lead to problems with cache enabled websites
* We added some CSS classes on the headers of some screens on the front end to ease RTL website's switch

#### New features

* We added "read more" capability to the category description
* We added ACL support on shipping and payment methods so that you can now restrict them to groups of users (business version only)

### HikaShop 1.4.6

**Release date : February, 26 2011**

#### Bug fixes

* Characteristics values are now displayed in the good ordering when appended to the product name
* The products search plugin was throwing a fatal error in some rare cases on joomla 1.5 with joomfish
* Automatically generated product codes now handle products name outside the ASCII table
* The title of the credit card information tooltip was not translated properly
* The admin notification email wasn't sent properly on PHP4 when it was active
* When an order total is negative (with a coupon for example), the system now assimilate it as a free order
* Currency conversion of discounts flat amount wasn't working properly
* The "add to cart" button could not be working in some cases on joomla 1.6 when the language filter plugin was published
* Remove notice on the search which could be displayed in some cases
* The corresponding addresses were not deleted when the user was deleted
* We fixed a display problem on the registration view when the contact option is turned on in the recaptcha plugin
* When the activation was deactivated in joomla and that CB was installed, the CB user wasn't confirmed/activated automatically after registration on hikashop's end
* When a watermark was specified but that no image height/width was specified, the images weren't changed properly
* In some cases the pagination on listings didn't work on the first try
* In same odd cases a price retrieving query could fail on the front end

#### Improvements

* The banners ordering can now be changed without clicking on the ordering column first
* The watermark image can now be deleted
* The files attached to products and custom fields do not have anymore any download limit where before it was limited by the memory limit setting

#### Languages

* Fixing some translations which were not working properly in joomla 1.6
* Partial Latvian translation available
* Partial Lithuanian translation available

#### New features

* We added a new option so that you can force shipping on orders even if the weight of the products is 0
* You can now display all the prices of a product on the products listings
* CSS classes added to the addresses listing on the front end
* Search fields on the products search plugin can now be configured in the options of the plugin
* The authorize.net payment plugin now handles both AIM and SIM APIs
* We added a new plugin which will display a link to the user profile edition screen from the user control panel

### HikaShop 1.4.5

**Release date : February, 9 2011**

#### Bug fixes

* The variants weren't copied properly when copying a product
* The pagination could become screwed when changing the nubmer of items per page dropdown
* When you had the login and address views of the checkout on two different steps and that you were already logged in become coming on the checkout page, you had to click twice the next button in order to go to the next step on the address step and on the shipping step
* There was a fatal error introduced in 1.4.4 when creating a new menu from hikashop's content menus screen
* The new address popup during the checkout on joomla 1.6 was displaying twice
* A shipping address might be displayed previously on the order/invoice page even though the products in the cart were not shippable and that not shipping address was asked to the user
* When adding a coupon on the checkout, and depending on your checkout workflow, the shipping fees were not added to the total unless you refreshed the page
* The "file" type of custom fields was only working when the field was required
* There was a faulty french translation on the manual shipping methods options
* The modification of payments and shippings names in different languages didn't work properly
* The payment methods translations weren't taken in account in joomfish
* The restrictions on coupons weren't working due to a change on the 1.4.4 version
* In some cases the total of the cart wasn't calculated correctly on the checkout without a refresh of the page

#### Improvements

* We added CSS classes on custom fields in order to style them more easily
* The access levels of prices are now copied when copying a product
* Category descriptions are now processed by content plugins
* The ReCaptcha plugin now also works on contact forms
* We added new weight units in HikaShop: mg, ml, l and ozt
* The price per weight unit is now calculated based on the taxed price or untaxed price (or both) using the same option as the main price
* You can now hide the cart module when empty using the advanced module manager extension of joomla by overriding the empty cart translation and emptying it
* Files attached to free products can now be downloaded on the order page without having the order confirmed

#### New features

* We added an option in the config so that you can set the notice popup display time without editing the view
* We created an admin module so that you can access hikashop's functions directly from the joomla dashboard
* We added an option so that you can choose whether or not to auto select shipping and payment methods on the checkout
* We changed the options of the configuration and regrouped the options related to the checkout under their own tab
* We added an option to display a "contact us" button on the product page (commercial versions only)
* With the new hikashop group plugin, you can now change the group of customers once they bought your products. Handy when you have a first product line which then allow users to access other resources on your website once bought (business version only)

### HikaShop 1.4.4

**Release date : January, 25 2011**

#### Bug fixes

* The related listing module wasn't working properly when the product page was directly linked from a joomla menu
* The checkout was blocking when the owner option was activated in the credit card collection plugin
* We fixed a notice on the banners listing of the back end which appeared when no banners were yet created
* The custom fields of the types dropdown were not displaying properly on the user edition screen
* The SSL on checkout option wasn't working on joomla 1.6
* We fixed some translation strings name with a typo in all translation files and in the code
* The order number format was taken into account in the admin order notification email
* We fixed the tax calculation in the Australia Post plugin which wasn't working properly
* Adding additional prices for products with IE7 wasn't working properly
* We fixed some HTML in the product edition screen on the back end
* Saving the ordering of products/categories could result in a loop in some cases
* Prices are now ordered properly on the front end on the product page
* The currency wasn't set for coupons generated with the acymailing plugin
* The upload of a could could result in the file having the wrong access rights in some cases
* When the prices were converted automatically from another currency, and that you had several of that products in the cart, it coul happen that the price was off of 1 cent due to a rounding issue
* The search plugins weren't working properly on joomla 1.6
* We fixed a notice in some cases in the search plugins

#### Improvements

* We improved the save of the product information so that prices id aren't incremented all the time
* We added a whole bunch of CSS classes on listing of products/orders on the back end and front end so that you can more easily customize them
* We added a warning on the "catalogue mode" option as some users were activating it without realizing that it would remove all the "add to cart" buttons
* The listing of categories mneus and modules now get their options initialized properly so that you don't need a complex procedure to create them, and you can just create them easily via joomla's interface without extra steps
* The CSS edition now saves as well the CSS file selected when saving the CSS code modification
* We improved the "add to cart" handling on the listing of products so that it displays a "choose options" button instead if the product has characteristics which need to be selected before adding the product to the cart

#### Languages

* Complete Ukranian translation available
* Complete Russian translation available
* Partial Hebrew translation available

#### New features

* We added a new option in the Australia Post plugin to be able to have one parcel per product instead of grouping them
* We added a new option in the configuration so that you can now display an "add to cart" button even for free products
* You can now have custom item fields on the product page (business version only)
* We added new chart statistics on the custom fields (business version only)

### HikaShop 1.4.3

**Release date : January, 12 2011**

#### Bug fixes

* The pagination numbers could be off on the front end when products displayed would be in several of the categories displayed
* The change of number of elements on the pagination for the categories listing wasn't working properly
* The title of the categories listing page could be wrong in some instances depending on the options
* We fixed a registration error on the checkout with joomla 1.6
* When "none" was selected for the CSS, a broken CSS link was added to the html head instead of not adding anything
* A fatal error happened on the orders page on joomla 1.6
* We fixed a problem with the characteristics switch of the product page on internet explorer when they are displayed as radio buttons
* The "price before discount" was displayed taxed and untaxed regardless of the "tax prices" option
* The add to cart button was not working in some cases with some SEF components
* We fixed a problem with the new button which was not working when the buttons display option in the configuration was CSS
* We fixed the return URL handling in the Authorize.net payment plugin
* When a currency was displayed but not published and that the customer selected that currency and then went on the checkout and that there were shipping fees, they would be displayed in that currency instead of being displayed in the main currency
* We fixed a rounding issue on prices when they were dynamically converted with a currency fee applied to them

#### Improvements

* The size of the input boxes for categories name and products main information have been improved
* HikaShop now displays the order creation date instead of the current date in the order invoices
* When using HikaShop along with Community Builder, the usrs registered via HikaShop would still be blocked on CB after activation. HikaShop now unblocks the users in CB if CB is installed
* The login and register buttons of the login view of the checkout now use the same library as the other buttons so that all the buttons on the front end have the same design

#### New features

* You can now enter your translations modifications as a translation override which you won't loose when updating HikaShop and its core translation files
* You now have the possibility to use HikaShop's registration view of the checkout on its own
* The reCaptcha plugin has been updated to work with the new registration view
* We added an option to automatically update the view when another payment/shipping method is selected
* We added two options to add a "become an affiliate" checkbox on the registration form (business version only)

### HikaShop 1.4.2

**Release date : January, 5 2011**

#### Bug fixes

* We fixed some popups issues with joomla 1.6
* We fixed a notice which happened on the listing of content menus after deleting hikashop content menus but without cleaning the menus trash
* The state field, when empty, was bloquing the submission of the form. It is now fixed
* We fixed a php notice on the category creation form on the back end
* We fixed the "joomla options" links on the modules and menus edition screen
* We fixed the "hikashop options" link on the edition screen for the cart module and content modules
* The import now handles correctly categories with the same name in different parent categories
* We fixed modules and menus links to joomla options on the back end on joomla 1.6
* We fixed the display of the redirection views of payment plugins on joomla 1.6
* We fixed the notice popup when adding a product to the cart on joomla 1.6 as it was working only once per page due to a change in the way mootools 1.2 handles popups
* The notice popup wasn't working correctly with IE8 on joomla 1.6
* The URL of products was not displayed on the front end
* The import didn't work properly if the last column contained a text on several lines
* We fixed a fatal error when rebuilding categories tree in the back end
* Custom order fields, when required, were not checked in javascript
* HTML tags were stripped out when importing product information with the text area option
* Cart module's options were not loaded on joomla 1.6 when refreshed via ajax and would thus use the default options instead of the options setted in the cart module for display
* Remove some notices on the import of CSV when the CSV file isn't properly formatted
* Currency conversion wasn't working properly on listings of products on the front end when the option "Price display method" of the menu/module displaying it was set to cheapest
* Tax rules listing could display another category than the one selected in some special cases
* When editing an already existing address on the checkout the shipping and payment selection wasn't properly reseted and it could create some display problems where the old shipping method would be applied to the order although the address would be outside the zone restriction of the shipping method
* User synchronization, products search, categories search and affiliate plugins are now compatible with joomla 1.6
* We fixed a rounding issue on prices' tax calculation
* Affiliate earnings were not calculated correctly when the currency of the order and the currency of the affiliate was different
* The option "Payment of orders not paid immediately" wasn't working in the essential edition and only in the business edition
* Translation files' comments now start with a ; instead of a # to work properly on joomla 1.6 with php 5.3
* The import can now handle related products all inserted together

#### Improvements

* We changed the way we load the admin notification email so that you can change the email address dynamically in the email's generation code
* We added an option to display a simplified cart module without a listing of the products in the cart
* The notice popup displayed aftering adding a product to the cart now uses its own view so you will be able to easily modify it via the view interface
* You can now add HTML in custom fields on the back end

#### Languages

* Complete Czech translation available

#### New features

* We added ACL support on discounts and coupons so that you can now restrict them to groups of users (business version only)
* We added ACL support on categories so that you can now restrict them to groups of users (business version only)
* We added ACL support on products and variants so that you can now restrict them to groups of users (business version only)
* We added ACL support on prices of products and variants so that you can now restrict them to groups of users (business version only)
* You also have now the possible to import product access via the import (business version only)
* We changed the geolocation plugin from the hikashop group to the system group (business version only)
* The geolocation plugin can now handle zone restrictions, i.e. limit components access to a whitelist of zones or blacklist zones which should not access components (business version only)
* The geolocation plugin can now set automatically the currency based on the zone of the user (business version only)
* We added a new type of custom fields which will allow you to add an upload input box so that your customers can upload a file in their order for example or enabling you to add a PDF to a product so that it can be accessible on the product page (business version only)

### HikaShop 1.4.1

**Release date : December, 18 2010**

#### Bug fixes

* Fixing weight unit use with variants
* Fixing the main category image display of menus and modules
* Fixing a mysql error on the front end when no payment methods where configured and you tried to go to the checkout and that you had the joomla debug mode activated
* Fixing the edition of the order creation admin notification email and the user account email
* Fixing the display of modules name twice
* We added ILS in the list of supported currencies in the paypal plugin
* We improved the zone loading function to avoid loops when zone relations are looping because of a misconfiguration
* The user information wasn't reloaded when it was updated in the back end. That means that the interface was still displaying the old information in the interface
* We added a check to avoid warnings on the order details page when all the custom address fields are unpublished
* When clearing the "parent category" option of modules and menus, the main product category is now inserted automatically
* When using coupon tags in AcyMailing newsletters, a fatal error could happen on some joomla websites when sending the newsletter
* For product names written is some languages it could happen that some characters were not recognized by PayPal's website. We now forces the charset to UTF-8 to avoid the problem
* Admin notification emails did not contain the link to the order if the translation file had been edited through the interface because of the return characters in the translation strings being interpreted directly in the translation file
* We fixed the custom fields zone for state field used for other purposes so that it works properly
* The toggle of the shipping address selection area on the checkout on IE8 didn't work as IE8 doesn't like onchange and prefer onclick for input checkboxes
* We fixed a problem with the translations of characteristics in JoomFish
* The product weight and volume units used in products were not saved properly when there was only one unit defined in the configuration

#### Improvements

* The credit card number and expiration date are now checked so that users cannot submit an invalid number or an expired date
* A message is now displayed on the listing of variants when no characteristics have been entered for a product in order to explain to the user that he must first assign a characteristic to his product before managing the variants of his product
* We are now setting the page titles automatically on categories listing, products listing and product page on the front end
* The custom order fields entered by the user are now added to the order creation email notification (business version only)
* We added the possibility to add your affiliate id on the link of the footer
* When you don't enter a category for a new product, the current category of the listing of products is now used automatically
* We changed the way we load the admin notification email so that you can change the email address dynamically in the email's generation code
* We improved performances on the categories listings when images are displayed (back end and front end)
* We added the possibility to specify tax categories more easily within CSV files
* We moved the CSS, JS, email and upload folder to the media folder to avoid overwrite problems when doing an update on Joomla 1.6

#### Languages

* Complete Danish translation available
* Complete Bulgarian translation available

#### New features

* We added an option in the product search plugin to choose whether to display the full category path on the breadcrumb when the itemid option has a products listing menu id set
* We added an option in the configuration to select whether to sort characteristics by id or by alphabetical order
* You now have the possiblity to override the display of buttons and the "add to cart" popup in HikaShop with a template file override
* We added an option to choose whether or not to capture the credit card owner name in the credit card collection plugin
* We added an option to choose whether or not to append characteristic values to products name
* We added an option to set what kind of separator will be used in CSV exports
* We added an option to overwrite product information when importing product information if the product code is already in the database
* We added an option to create categories when importing product information if the category doesn't exists
* We added an option to force the product\_published field of products to 1 if the column is not specified or if no information is given
* We added the possibility to import categories via the CSV import

### HikaShop 1.4.0

**Release date : December, 6 2010**

#### Bug fixes

* When you removed the state custom field from the address form, the shipping and payment method filtered by zone wouldn't display if the address was already entered by the user before the change
* The stocks of products were not updated when an order was cancelled or refunded
* The import function did add related products, categories links, prices and images to products when the product\_code key was numeric
* Fixing the selection of the shipping address during the checkout
* Fixing the ordering modification on the product listing on the back end which didn't work in some cases
* In some rare cases warnings would be displayed when processing images
* The shipping order maximum and minimum price restrictions were checked against the total of the order without taxes. They are now checked against the total with taxes
* Improving a bit the breadcrumbs in some cases on the product page
* Fixing an import problem when trying to import products with characteristics and variants
* Hide the "add to cart html link" button when the product is a new product
* The number of elements was discarded and the global joomla limit was used instead for the default limit on listing of categories on the front end

#### Improvements

* Better default CSS for "add to cart" buttons when the option button style is set to CSS.
* We added a content elements file for widget names so that they can be translated with joomfish
* We added some classes in the pagination of the front end to be able to more easily hide some of the pieces
* The system now cancel the order when the user clicks on cancel on paypal
* We improved the import function to automatically add the product to the main product category if the category in the CSV is not found in the database
* We also added the name of the caracteristics in the error messages as they can be possible columns in the CSV files

#### Languages

* Complete Norwegian translation available

#### New features

* We added an option to force a menu on the checkout process. That will enable you to use different modules and templates on the checkout page than on the rest of the shop
* We added an option to set a class for lists in menus and modules
* We added a new payment plugin to collect credit cards information for offline processing
* You can now also customize the admin order creation notification email (business version only)

### HikaShop 1.3.9

**Release date : December, 2 2010**

#### Bug fixes

* The limitation on categories for coupons was not checked
* Discounts weren't applied to products when the currency of the discounts were the same as the current currency
* Discounts weren't applied when a start or an end date was applied
* We fixed the creation of subzones to properly link the subzones to the main zone
* We fixed the link to the related products on the product edition page
* We fixed the display of the custom fields type column in the cusotm fields listing on the back end
* We fixed the display of the order status on the popup which appear when changing the status of an order in the backend
* We fixed the javascript check of the address edition/creation popup on the checkout
* We added a check on the acymailing filters triggering plugin to avoid a crash on checkout when the acymailing version used was before 1.5.0

#### Improvements

* We improved the error messages during the install on access right issues
* We improved the checkout to display the shipping methods even when the user didn't enter his address
* Whe registration screen is now displayed even when the registration is disabled if the registration option is set to "no registration" in the configuration
* We improved a bit the CSS on the products listings

#### Languages

* Complete Italian translation available (thanks Nicola Del Biaggio)

#### New features

* We added the possibily to disable options of dropdowns and checkboxes for custom fields
* We changed the "display discount" option of modules and menus so that you can choose how to display it
* The description of products is now processed by content plugins so you can use content tags in it
* We added the amount of the order on the order creation notification email sent to the shop owner
* It is now possible to charge a percentage of the order total for shipping methods
* We added an option to have a payment button on the listing of orders on the front end for orders created and not yet paid (in commercial versions)
* We added a listing of entries in the back end in order to manage your entries easily (in the business version)
* We also added the possibility to export the entries in CSV (in the business version)

### HikaShop 1.3.8

**Release date : November, 25 2010**

#### Bug fixes

* When SEF was used and for some settings of HikaShop it could happens that the coupon box would not be working
* The limitation on a product for coupons was not checked

#### Improvements

* We removed 2 br tags in the footer HTML so that it is easier to tweak the CSS of the footer
* The new order status is now translated when changing it via the back end interface and also on the front end orders listing
* We added a CSS class for each entry field
* We added the possibility to select whether or not to open a new page when users click on the search results

### HikaShop 1.3.7

**Release date : November, 23 2010**

#### Bug fixes

* Fix contentelements files for joomfish so that the rows have a valid title on the joomfish listings
* Fix the reset of discount restrictions
* Fix a bug on the zone selection of plugins
* Removing an unecessary link on the listing of products on the selection popup of products
* Fix a display issue when a characteristic value was 0
* Fix a bug where the custom template was not used when the layout was loaded from a module
* In some cases it could happen that the user was automatically redirected to the payment method without seeing again the cart
* Fix a fatal error on the edition of views on some back end templates
* After deleting an address in the user edition on the backend you were not redirected properly to the user page
* Fix "page break" removal on product listing
* Fix a notice on the checkout in some cases when payment methods or shipping methods are not found
* Fix partner fee calculation when using the percentage fee option of the affiliate program
* Fix the selection of product and zone on coupon and discount restrictions on internet explorer
* Fix the selection of template product on the import screen on internet explorer
* When user was logged in and trying to go to the checkout it could happen that the order was automatically validated with the default checkout workflow
* Fix the SSL redirection to avoid having & instead of & in the URLs
* Fix the check on zone restrictions for coupons
* Fix the display of the zone name on the discount edition screen
* Fix the taxation algorithm in order to take into account taxation rules without any zone limitation
* When the australia post shipping plugin was used and that the user didn't enter a post code an "invalid" message would be displayed. We added a message warning the webmaster that he should put the post code field to require when using that plugin

#### Improvements

* The weight of the main product is now used for the variants if no weight is set in the variants (same for dimensions)
* Shipping and payment plugins can now have images with other extensions than jpg
* The product name automatically contains the characteristics values on the cart module like on the product page and the checkout
* We added some indexes in the hikashop tables after stress tests in order to improve the speed of queries when you have a lot of data
* The "cancel" button on the order details was changed to "back" in order to avoid confusion for customers

#### New features

* We added a new option to display the cost per unit weight on the product page
* An new entity, the entry can allow you to create a custom form page on the front end. It handles several entries to be We added at a time for one order. The system will then process the result of the form and add products to the cart automatically so that the user can pay for his entries (Business version of HikaShop only)
* We added the possibility to place an order without registration (commercial versions of HikaShop only)
* We added a watermark option on images (Business version of HikaShop only)

### HikaShop 1.3.6

**Release date : November, 13 2010**

#### Bug fixes

* The HikaShop menu was displayed in popups on the back end when the option "Menu position" was set to "Above the main area"
* The URL of redirection to the checkout after clicking on the add to cart button had & replaced with & when it shouldn't have been
* Added some code to work around an issue which happened on some websites where the cart info would be lost upon login
* Fixed the insertion of modules data at install
* Previously, the zone selection option of the payment plugins didn't work
* Added some code to avoid having IE caching the cart module

#### Improvements

* When cart is updated and that the shipping method previously selected do not meet the new requirements the shipping method choice is now reseted
* Shipping selection is now improved for a faster checkout
* Added some check to select a default variant if the default characteristics values of the product point to a variant which doesn't exists
* Added the itemid to some redirection urls so that the modules aren't "lost" after the redirect occurs on the front end
* Added some code to check on the weight and volume units in the configuration

### HikaShop 1.3.5

**Release date : November, 10 2010**

#### Bug fixes

* The javascript of the "add to cart" button was improved to avoid the browser aborting the update request on some servers
* HTML and CSS of the "add to cart" button on products listing improved when the CSS type of button is chosen in the configuration
* Server side check of the quantity to avoid adding a negative quantity of a product to the cart
* The "add to cart" button wasn't redirecting to the checkout page when selecting "always go to checkout" in the option "after a product is added to the cart"
* Improved the javascript of the minus and plus links of the quantity field to disallow adding less than 1 item to the cart
* When you had several prices for a product with variants and that the user was displaying a module with the option "price display" to "unit price" and that the current currency wasn't the main currency, the prices weren't displayed on the listing of products of the module
* Error messages checking for data input on the checkout are now skipped when the customer changes the product quantities as they were not relevant

#### Languages

* Spanish translation available (thanks avaray)

### HikaShop 1.3.4

**Release date : November, 9 2010**

#### Bug fixes

* Fixing display of modules under the product page
* Fixing the "cheapest price" option of modules and menus displaying products when the products have several prices in the same currency
* Fixing modification of the discount table in the database for updates between 1.3.2 and 1.3.3
* Fixing query error when displaying related products and that the random option is turned off and that the ordering column is selected in the options of a content module

#### Improvements

* A shipping method is now automatically selected so that there is one less step to the checkout when shipping is required
* When you add a sub zone while editing a zone, the subzone is now automatically added to the zone's sub zone listing
* You can now unpublish/publish several hundreds of zones in few clicks
* The install now handles the plugins installation itself instead of letting joomla do it: less memory, less processing and clearer error messages
* Now adds the characteristic values to the name of the product if the name of the variant is not filled on the product page, during the checkout and then on the order information
* Languages other than english were removed from the package in order to reduce its size. They will be retrievable in two clicks on the configuration page
* Better names for the menu types when creating joomla menus via the joomla interface
* Compatiblity with Joomla 1.6 (beta)

#### Languages

* Swedish translation available (thanks seociable)

#### Features

* Personalization of the order number format via an option in the configuration (commercial versions of HikaShop only)

### HikaShop 1.3.3

**Release date : November, 5 2010**

#### Bug fixes

* Fixing "add to cart" button display on listing of products
* Properly remove related products links when deleting a product
* Fixed "force ssl" option
* The value "above the content" of the option "menu position" which can be used to display the backend HikaShop menu above the content and not below the title was generating a fatal error on the front end
* When displaying a product with variants but without any image to display, there was an end tag missing to a div
* Fixed javascript check on custom fields when both user/address custom fields and order custom fields where used on the same screen.
* Fixing the sending of confirmation email to customers which didn't work in some cases
* Fixed links in the categories and products search plugins
* In some cases emails could not be sent to the customers as the system wasn't able to retrieve properly the email address
* In some cases the image popup on the product page wasn't displaying properly.
* Replace the ° character in email subjects as some email servers do not accept emails with that
* Added some checks to avoid that the checkout breaks when the user adds spaces in the checkout workflow option
* Fixed product ordering by ID on the back end
* Now the generation of products with a template product with variants also generates the variants

#### Improvements

* Improve files handling so that if several products are linked to the same file and that one product is deleted, the file is not deleted.
* Added a javascript check for the email on the registration screen
* Added a javascript check for the password on the registration screen
* Generate the translations for the Joomla menu in the back end
* Changed user control panel check so that if user is not logged in, he is redirected to the login page
* Added a taxes row on the checkout cart which is displayed only if there are taxes
* New version of the ReCaptcha plugin compatible with joomla 1.6

#### Languages

* German fully translated ( thanks iamfree )

#### Features

* Manual shipping methods can now have a maximum order amount restriction
* Added a copy button on the listing of product in order to easily copy a product. (business version only)
* Added an option for coupons to automatically load it in the cart if it is applicable based on its restrictions. (commercial versions only)
* Added an option to limit the number of possible items in a cart (commercial versions only)

### HikaShop 1.3.2

**Release date : November, 1 2010**

#### Bug fixes

* New order status notification email could not be sent to the customers in some cases
* Images on variants where not updated on product page

### HikaShop 1.3.1

**Release date : October, 31 2010**

#### Bug fixes

* Fixed notices when deleting a category
* Fixed fatal error when sending emails with charset different that utf8 and with a text version included as multiple part
* When adding a new product to the cart the quantity was not checked against the product quantity and the maximum product quantity per order options of the product
* Correctly used the main product quantity for cart quantity checks when adding a variant of a product to the cart if the quantity of the variant was not filled
* Fixing some notices on the front end on some PHP versions when conversion of prices occured in some places
* Remove additional information screen when not used on checkout

#### Improvements

* Improved discounts and coupons quota checks and usage increments
* Now the + link of the quantity field on product details cannot add more than the max quantity per order

#### Languages

* Fixed french translation
* Bulgarian language translated
* Czech language partially translated
* Russian language partially translated

#### Features

* Added an email notification on order creation
* Added an option to display a message when adding a product to the cart
* Added an option in content modules and menus to display an "add to cart" button on each item listed
* Added an option in content modules and menus to remove the link to the product details on each item listed

### HikaShop 1.3.0

**Release date : October, 28 2010**

#### Bug fixes

* Use partner currency instead of order currency to display affiliate amount on an order on the orders listings
* Fixed some notices on front end moduels when no entries are found.
* Fixed an incompatiblity with advanced modules manager extension which resulted on fatal errors on the front end
* Remove user\_params column from exported data when exporting customer infos
* Adding bccomp implementation to avoid crashes when the bcmath extension is not compiled within PHP
* Fixed incompatiblity on some browsers with wysiwygpro editor
* Fixed Custom error message on custom fields
* Trim weight and dimension unit options to avoid conversion issues if users add spaces to them
* Fixed default value on weight of variants causing a weight calculation error
* Correctly filter out unpublished products on front end
* Fixed URL of images when the website is in a subfolder of a domain and when SEF is activated

#### Improvements

* Automatically select address after registration so that the system can display the shipping methods directly
* Keep Itemid when redirecting to checkout
* "Continue shopping" button option added
* Now displays the download link even if no file name was entered for a product file
* You can now specify the max width and height for images. Upon upload or import, they will be resized if too big
* The height parameter on modules and menus listing products and categories has been removed. It was previously added as inline CSS to the DIVs. Now, the fields automatically align without it but you can still specify a height in the CSS

#### Features

* ReCaptcha integration plugin on registration screens compatible with Joomla, HikaShop, AlphaRegistration, ccUsers and JomSocial
* Import of products data in CSV
* Generation of products data based on files / images and template products (business version only)
* Custom fields on order to ask order-related questions to your customers (business version only)

### HikaShop 1.2.1

**Release date : October, 23 2010**

#### Bug fixes

* Fixing navigation on product listings after navigation into a sub category
* When you deleted all the orders linked to an address, the address was deleted even though the user didn't delete it on his address book. Now, it will only be deleted if the user deleted it on his address book beforehand.
* Fixing PHP notice on registration when all errors display options are turned on in PHP
* Fixing the delete button link of the cart in the checkout
* Fixing some english translation strings
* Fixed paypal payment plugin tax calculation when a product quantity is different than 1 and that the store is using taxes
* When a user was deleted via Joomla and that he had made an order in HikaShop an error message is now displayed and the Joomla user id is removed from the hikashop user information so that if he tries to register again, he will be re attached automatically to his entry in HikaShop
* Fixed a query error when trying to filter orders on the orders listing of the backend
* The Itemid was not properly set in modules which were used in a template position and which weren't synchronized
* Fixed affiliate amount calculation on orders when "percentage fee on sales" is used
* Fixed rounding issue on order total amount after payment notification
* The itemid is now added to the "proceed to checkout" button so that users keep the same modules displayed after clicking on it

### HikaShop 1.2.0

**Release date : October, 21 2010**

#### Bug fixes

* Fixing PHP notice on product page in some circumstances
* When a customer was entering his address and that the state custom field was published and required and that he selected a country without state, the system wouldn't allow it. Now, it will still work
* Fixed some javascript for "add to cart" button on PHP4
* Fixed Help link on dashboard
* Fixed registration and login screen which was not working when a non latin language was used
* Fixed collect on delivery checkout end message which wasn't replacing order number
* Fixed comment extension selection on config page
* Fixing shipping issue when ordering a virtual product after ordering a real product in the same user session
* Fixed fatal error on config page when plugins could not be installed
* Fixed a blank page which could happen on some hostings because of some strange apache configuration

#### Improvements

* Added option to auto publish variants by default (yes by default now)
* Added an option to hide/display the delete button of products during the checkout
* USD is now published by default
* Added check on currency status to fallback on default currency when current currency gets unpublished during the session on the front end

#### Languages

* Spanish language partially translated
* Dutch language partially translated

#### Features

* Added terms and condition checkbox view on checkout workflow
* Added product maximum quantity per order
* Added minimum quantity and minimum shipping on manual shipping plugin
* Bluepaid payment plugin

### HikaShop 1.1.1

**Release date : October, 17 2010**

#### Bug fixes

* Fixed javascript for characteristics switch on front end
* Fixed breadcrumb some more
* Fixed prices displayed twice on variantes display on front end
* Correctly filter out unpublished categories on front end
* Fixed mail sned function not working on user edit and order edit

#### Improvements

* Keep category position on category selection listing on the product edition page
* Added item id support on category and product search plugins

### HikaShop 1.1.0

**Release date : October, 15 2010**

#### Bug fixes

* Fixed error message on some pages when no file is uploaded on the back end
* Fixed translation issue on modules on some configurations where the languages would be lost between the component and the modules
* Products were not displaying on listings on the front end when "unit price" was selected
* Fixed bug with PHP4 on the registration page which prevented states dropdown to be displayed
* Products search plugin name corrected
* Fixed breadcrumb for categories navigation which was not displaying the good categories in some cases
* Pagination navigation fixed on front end
* Fixed views disapearing randomly on the front end when using several modules/menus with different options because they were using the same session variables
* Fixed SEF issue when a content menu was created from HikaShop and not with Joomla

#### Improvements

* Assist the user when configuring the display of his content

#### New features

* Integration with JomSocial
* Integration with Community Builder

### HikaShop 1.0.7

**Release date : October, 13 2010**

#### Bug fixes

* Fixed display of price sorting dropdown
* Fixed currency rate percentage fee field
* When you had a menu category listing with an associated module displaying products synchronized, it could happen in some cases that the main category of the product module was used instead of the currently displayed category
* On PHP4, when saving a module options by clicking on apply, the information on the screen was not updated properly
* Fixed a regression appeared on 1.0.6 on categories and products ordering which broke the ordering when you didn't click on a category first before reordering items
* Force the price minimum quantity to 0 when the user enters 1, as 1 can cause some display issues and both values means the same

#### Improvements

* Improved address, shipping and payment selection on the checkout

### HikaShop 1.0.6

**Release date : October, 11 2010**

#### Bug fixes

* Fixed category saving which could make it invisible on the product listing
* On some websites the modules translation strings were not loaded properly
* Fixed ordering modifications on custom fields and banners
* Fixed fatal error when creating a new content menu with hikashop instead of doing it with joomla
* Fixed thank you page for authorize.net payment plugin

#### Improvements

* Improved the behavior of the checkout when another payment or shipping option is selected and that the cart is displayed on the same step
* Shipping method modification of orders in the back end has been improved for shipping methods other than the manual shipping method
* Added a simplified registration option which removes the need for a password and username during the checkout on the commercial versions of HikaShop
* Description field of images and files put under the image/file field to avoid people mistakenly trying to upload image in the description without filling the image field
* Added an error message when people save an image/file without adding a file with the browse button
* Changed table structure creation on install to be compatible with mysql >= 5.5
* On the zones, orders, users, discounts listing, if you selected "display all" the system would load all the elements and might result in a crash when you have too much elements, like on the zone listing. We Added a check to set the display to 500 elements in that case so that it doesn't crash.
* Added an error message when trying to delete a core custom field

#### New features

* Possibility to force ssl use for checkout in the config (you need to have HTTPS activated on your server with a SSL certificate)
* Australia Post shipping plugin added

### HikaShop 1.0.5

**Release date : October, 7 2010**

#### Bug fixes

* Fixed content menus listing bug which prevented the rows information to be displayed properly in some cases

#### Other

* Files header changed on starter version to reflect GPL file header policy

### HikaShop 1.0.4

**Release date : October, 6 2010**

#### Bug fixes

* Fixed javascript bugs in the back end which prevented to manage product categories/related products/images/files/prices, zone childs and characteristic values on internet explorer

### HikaShop 1.0.3

**Release date : October, 5 2010**

#### Bug fixes

* Fixed bank transfer and check payment plugins default values and information display
* Fixed category navigation on product listing on the back end
* Fixed translation issue on hikashop type joomla menu item edit page
* Removed product show page menus from the listing of content menu where it should not appear
* Fixed saving of content modules options
* Fixed translation on checkout end page when using bank transfer payment plugin
* Fixed AcyMailing trigger integration plugin notices when published without AcyMailing installed
* Fixed translation string on map widget

#### Improvements

* Shorter price text on cart module
* Improved breadcrumb handling
* Multiple image display on product show page improved
* Added pagination of product and category listings on front end
* Added content module and content menu interaction
* Message on back end plugins listing to explain that plugins need first to be edited before they appear on the front end
* Ordering of payment plugins on front end improved and now uses the plugins joomla ordering

#### New features

* Moneybookers payment plugin

### HikaShop 1.0.2

**Release date : October, 1 2010**

#### Bug fixes

* Fix for PHP 5.1.6 which prevented HikaShop to run or to be installed on a server with this version of PHP
* Shipping prices before currency conversion on checkout page now displays properly
* Fixed affiliate activation status on user profile on backend
* Fixed save redirect error on affiliate program save on front end
* Fixed fatal error when main currency changed in configuration
* Payment log file path generation corrected
* Fixed fatal error when displaying error message on folder not writable due to access right issues

#### Improvements

* French language file mistakes fixed
* Automatically fills the product code with the product name if code not provided
* Add all joomla users to HikaShop on install ( it's a bit less confusing for users of HikaShop )
* HikaShop menus added into the Joomla menu
* Paypal payment plugin does not show up in the list of available payment options if the currency of the order is not in the list of paypal supported currencies
* Now the explorer only shows the proper type of categories, so that it's less confusing.
* Payment notification emails to admin now using a central address in the config
* Payment notification emails to admin now have translated status

#### New features

* Authorize.net payment plugin
* Payment notification emails to customers
* Comments on products are now possible for users on the front end via an integration with both jomComment and jComments
* Catalogue mode option added to the configuration so that you can disable the "add to cart" button on the product page

### HikaShop 1.0.1

**Release date : September, 23 2010**

* Registration now handle the confirmation email which makes the checkout process smoother for the user as he is automatically logged in and redirected to the checkout when he clicks on the activation link of the email.
* Behavior fixed when entering a non existant coupon
* Reply-to email and name were not properly set in emails sent by HikaShop
* The user password is now correctly added to the "account details" email which is sent when a user registers through HikaShop

### HikaShop 1.0.0

**Release date : September, 20 2010**

.

* [Privacy Policy](/privacy-policy.html)
* |
* [License Agreement](/license-agreement.html)
* [Terms of Use](/terms-of-use.html)
* |
* [Money-back Policy](/money-back-policy.html)
* |
* [Affiliate](/affiliate.html)
* |
* [Contact us](/support/contact-us.html)
* |
* [![Follow us on Twitter](/images/menu/twitter.png)](https://twitter.com/hikashop)
* [![Follow us on Youtube](/images/menu/youtube.png)](https://www.youtube.com/channel/UCbVQsVlP6mkuyT4IsItWcpA)

HikaShop.com is not affiliated with or endorsed by the Joomla! Project or Open Source Matters. The Joomla!® name and logo are trademarks of Open Source Matters, Inc., in the United States and other countries.



=== Content from extensions.joomla.org_ef15b920_20250111_093626.html ===


* Joomla!®
  + About us
  + [Joomla Home](https://www.joomla.org)
  + [What is Joomla?](https://www.joomla.org/about-joomla.html)
  + [Benefits & Features](https://www.joomla.org/core-features.html)
  + [Project & Leadership](https://www.joomla.org/about-joomla/the-project.html)
  + [Trademark & Licensing](https://tm.joomla.org)
  + [The Joomla Foundation](https://joomlafoundation.org)
  + Support us
  + [Contribute](https://www.joomla.org/contribute-to-joomla.html)
  + [Sponsor](https://www.joomla.org/sponsor.html)
  + [Partner](https://www.joomla.org/about-joomla/partners.html)
  + [Shop](https://shop.joomla.org)
* Download & Extend
  + [Downloads](https://downloads.joomla.org)
  + [Extensions](https://extensions.joomla.org)
  + [Languages](https://downloads.joomla.org/language-packs)
  + [Get a free site](https://launch.joomla.org)
  + [Get a domain](https://domains.joomla.org)
* Discover & Learn
  + [Documentation](https://docs.joomla.org)
  + [Training](https://community.joomla.org/joomla-training.html)
  + [Certification](https://certification.joomla.org)
  + [Site Showcase](https://showcase.joomla.org)
  + [Announcements](https://www.joomla.org/announcements.html)
  + [Blogs](https://community.joomla.org/blogs.html)
  + [Magazine](https://magazine.joomla.org)
* Community & Support
  + [Community Portal](https://community.joomla.org)
  + [Events](https://community.joomla.org/events.html)
  + [User Groups](https://community.joomla.org/user-groups.html)
  + [Forum](https://forum.joomla.org)
  + [Service Providers Directory](https://community.joomla.org/service-providers-directory.html)
  + [Volunteers Portal](https://volunteers.joomla.org)
  + [Vulnerable Extensions List](https://extensions.joomla.org/vulnerable-extensions/vulnerable/)
* Developer Resources
  + [Developer Network](https://developer.joomla.org)
  + [Security Centre](https://developer.joomla.org/security.html)
  + [Issue Tracker](https://issues.joomla.org)
  + [GitHub](https://github.com/joomla)
  + [API Documentation](https://api.joomla.org)
  + [Joomla! Framework](https://framework.joomla.org)

# [Joomla! Extensions Directory™](/)

[Download](https://downloads.joomla.org/)

[Launch](https://launch.joomla.org)

* [Home](/)
* Browse Extensions
  + [Top Rated](/browse/top-rated)
  + [Most Reviewed](/browse/most-reviewed)
  + [New](/browse/new)
  + [Recently Updated](/browse/recently-updated)
  + [Compatible with J4](https://extensions.joomla.org/instant-search/?jed_live%5BrefinementList%5D%5Bversions%5D%5B0%5D=40)
  + [Compatible with J5](https://extensions.joomla.org/instant-search/?jed_live%5BrefinementList%5D%5Bversions%5D%5B0%5D=50)
  + [Compatible with J5 (with b/c plugin)](https://extensions.joomla.org/instant-search/?jed_live%5BrefinementList%5D%5Bversions%5D%5B0%5D=51)
* [Search](/instant-search)
* Community
  + [Meet the JED Team](https://volunteers.joomla.org/teams/extensions-directory-team)
  + [Blog](https://volunteers.joomla.org/teams/extensions-directory-team#reports)
  + [JED Newsletter](https://community.joomla.org/joomla-extensions-directory-newsletter.html)
  + [Terms of Service](/community/terms-of-service)
  + [Help Joomla!](https://volunteers.joomla.org/help-wanted)
* Support
  + [Knowledgebase](/support/knowledgebase)
  + [Sponsor Joomla!](https://community.joomla.org/sponsorship-campaigns.html?utm_source=jed)
* Vulnerable Extensions
  + [About](/vulnerable-extensions/about)
  + [Vulnerable Extensions](/vulnerable-extensions/vulnerable)
  + [Resolved Extensions](/vulnerable-extensions/resolved)
  + [Abandoned Extensions](/vulnerable-extensions/abandoned)
  + [Submit a Report](/vulnerable-extensions/submit-a-report)
  + [Submit an Update](/vulnerable-extensions/submit-an-update)
  + [Submit AbandonWare](/vulnerable-extensions/submit-abandonware)
  + [JSON Feed](/vulnerable-extensions/json-feed)
* [Log in](/users-login-form)
* [Register](/users-registration-form)

* [Home](/)
  ![](/media/system/images/arrow.png)
* Vulnerable Extensions
  ![](/media/system/images/arrow.png)
* [Resolved Extensions](/vulnerable-extensions/resolved)
  ![](/media/system/images/arrow.png)
* HikaShop, Versions from 4.4.1 to 4.7.2 are affected, SQL Injection

## HikaShop, Versions from 4.4.1 to 4.7.2 are affected, SQL Injection

Details
Category: [Resolved Extensions](/vulnerable-extensions/resolved)

Published: 23 June 2023

HikaShop, Versions from 4.4.1 to 4.7.2 are affected, 3rd party extension, SQL Injection

Dev Notice
<https://www.hikashop.com/home/blog/501-hikashop-important-2023.html>

**Vulnerable Extensions**

* [osTicky2, , Other](/vulnerable-extensions/vulnerable/osticky2-other)
* [EasyShop, 1.4.1, XSS (Cross Site Scripting)](/vulnerable-extensions/vulnerable/easyshop-1-4-1-xss-cross-site-scripting)
* [LivingWord, , XSS (Cross Site Scripting)](/vulnerable-extensions/vulnerable/livingword-xss-cross-site-scripting)
* [Plugin Creative Gallery , , SQL Injection](/vulnerable-extensions/vulnerable/plugin-creative-gallery-sql-injection)
* [Proforms Basic via sort\_order parameter, , SQL Injection](/vulnerable-extensions/vulnerable/proforms-basic-via-sort-order-parameter-sql-injection)
* [EXTPLORER, 2.1.15, XSS (Cross Site Scripting)](/vulnerable-extensions/vulnerable/extplorer-2-1-15-xss-cross-site-scripting)
* [LM-CUSTOM-ADMIN, , Other](/vulnerable-extensions/vulnerable/lm-custom-admin-other)
* [admirror gallery, , XSS (Cross Site Scripting)](/vulnerable-extensions/vulnerable/admirror-gallery-xss-cross-site-scripting)
* [Proforms Basic Joomla Module, , Other](/vulnerable-extensions/vulnerable/proforms-basic-joomla-module-other)
* [acymailing, pre 8.7.0 , Other](/vulnerable-extensions/vulnerable/acymailing-other)
**Resolved Extensions**

* [HikaShop, 5.1.1, XSS (Cross Site Scripting)](/vulnerable-extensions/resolved/hikashop-5-1-1-xss-cross-site-scripting)
* [Advanced custom fields, 2.7.7, SQL Injection](/vulnerable-extensions/resolved/advanced-custom-fields-2-7-7-sql-injection)
* [Phoca Gallery, 5.0.0, XSS (Cross Site Scripting)](/vulnerable-extensions/resolved/phoca-gallery-5-0-0-xss-cross-site-scripting)
* [HikaShop Starter 4.7.5 [2308101603], HikaShop Starter 4.7.5 [2308101603], XSS (Cross Site Scripting)](/vulnerable-extensions/resolved/hikashop-starter-4-7-5-2308101603-hikashop-starter-4-7-5-2308101603-xss-cross-site-scripting-2)
* [LazyDbBackup, 3.9.0, Other](/vulnerable-extensions/resolved/lazydbbackup-3-9-0-other)
* [Virtual Classroom, , SQL Injection](/vulnerable-extensions/resolved/virtual-classroom-sql-injection)
* [bagallery , , Other](/vulnerable-extensions/resolved/bagallery-other)
* [Solidres, 2.13.3, XSS (Cross Site Scripting)](/vulnerable-extensions/resolved/solidres-2-13-3-xss-cross-site-scripting)
* [Edocman 1.24.7 - XSS issue fixed](/vulnerable-extensions/resolved/edocman-1-24-7-xss-issue-fixed)
* [quickform, , Other](/vulnerable-extensions/resolved/quickform-other)

---

* [Joomla! on Twitter](https://twitter.com/joomla "Joomla! on Twitter")
* [Joomla! on Facebook](https://www.facebook.com/joomla "Joomla! on Facebook")
* [Joomla! on YouTube](https://www.youtube.com/user/joomla "Joomla! on YouTube")
* [Joomla! on LinkedIn](https://www.linkedin.com/company/joomla "Joomla! on LinkedIn")
* [Joomla! on Pinterest](https://www.pinterest.com/joomla "Joomla! on Pinterest")
* [Joomla! on Instagram](https://www.instagram.com/joomlaofficial/ "Joomla! on Instagram")
* [Joomla! on GitHub](https://github.com/joomla "Joomla! on GitHub")

* [Home](https://www.joomla.org)
* [About](https://www.joomla.org/about-joomla.html)
* [Community](https://community.joomla.org)
* [Forum](https://forum.joomla.org)
* [Extensions](https://extensions.joomla.org)
* [Services](https://community.joomla.org/service-providers-directory.html)
* [Docs](https://docs.joomla.org)
* [Developer](https://developer.joomla.org)
* [Shop](https://community.joomla.org/the-joomla-shop.html)

* [Accessibility Statement](https://www.joomla.org/accessibility-statement.html)
* [Privacy Policy](https://www.joomla.org/privacy-policy.html)
* [Cookie Policy](https://www.joomla.org/cookie-policy.html)
* [Sponsor Joomla! with $5](https://community.joomla.org/sponsorship-campaigns.html)
* [Help Translate](https://joomla.crowdin.com)
* [Report an Issue](https://github.com/joomla/jed-issues/issues/new?body=Please%20describe%20the%20problem%20or%20your%20issue)
* [Log in](/users-login-form)

© 2005 - 2025 [Open Source Matters, Inc.](https://opensourcematters.org) All Rights Reserved.

[![Rochen](https://cdn.joomla.org/rochen/rochen_footer_logo_white.png)](https://www.rochen.com/joomla-hosting)
[Joomla! Hosting by Rochen](https://www.rochen.com/joomla-hosting)

×

We have detected that you are using an ad blocker. The Joomla! Project relies on revenue from these advertisements so please consider disabling the ad blocker for this domain.


