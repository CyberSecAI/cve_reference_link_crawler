![](/images/menu-tab.svg)API

[Getting Started](getting-started.html)[Express Integration](express.html)[Reference](reference.html)[Migrating to Pug 2](migration-v2.html)[Migrating to Pug 3](migration-v3.html)[React Integration](https://github.com/pugjs/babel-plugin-transform-react-pug)
Language Reference

[Attributes](../language/attributes.html)[Case](../language/case.html)[Code](../language/code.html)[Comments](../language/comments.html)[Conditionals](../language/conditionals.html)[Doctype](../language/doctype.html)[Filters](../language/filters.html)[Includes](../language/includes.html)[Inheritance: Extends and Block](../language/inheritance.html)[Interpolation](../language/interpolation.html)[Iteration](../language/iteration.html)[Mixins](../language/mixins.html)[Plain Text](../language/plain-text.html)[Tags](../language/tags.html)
Support

[Community Support](../support/community.html)[Enterprise Support](../support/enterprise.html)
Sponsors[coin news](https://www.coinnewsspan.com/)[![](https://opencollective.com/pug/sponsor/0/avatar.svg)](https://opencollective.com/pug/sponsor/0/website)[![](https://opencollective.com/pug/sponsor/1/avatar.svg)](https://opencollective.com/pug/sponsor/1/website)[![](https://opencollective.com/pug/sponsor/2/avatar.svg)](https://opencollective.com/pug/sponsor/2/website)[![](https://opencollective.com/pug/sponsor/3/avatar.svg)](https://opencollective.com/pug/sponsor/3/website)[![](https://opencollective.com/pug/sponsor/4/avatar.svg)](https://opencollective.com/pug/sponsor/4/website)[pug](/)

* [Docs](getting-started.html)
* [GitHub](https://github.com/pugjs/pug)
API

[Getting Started](getting-started.html)[Express Integration](express.html)[Reference](reference.html)[Migrating to Pug 2](migration-v2.html)[Migrating to Pug 3](migration-v3.html)[React Integration](https://github.com/pugjs/babel-plugin-transform-react-pug)
Language Reference

[Attributes](../language/attributes.html)[Case](../language/case.html)[Code](../language/code.html)[Comments](../language/comments.html)[Conditionals](../language/conditionals.html)[Doctype](../language/doctype.html)[Filters](../language/filters.html)[Includes](../language/includes.html)[Inheritance: Extends and Block](../language/inheritance.html)[Interpolation](../language/interpolation.html)[Iteration](../language/iteration.html)[Mixins](../language/mixins.html)[Plain Text](../language/plain-text.html)[Tags](../language/tags.html)
Support

[Community Support](../support/community.html)[Enterprise Support](../support/enterprise.html)
Sponsors[coin news](https://www.coinnewsspan.com/)[![](https://opencollective.com/pug/sponsor/0/avatar.svg)](https://opencollective.com/pug/sponsor/0/website)[![](https://opencollective.com/pug/sponsor/1/avatar.svg)](https://opencollective.com/pug/sponsor/1/website)[![](https://opencollective.com/pug/sponsor/2/avatar.svg)](https://opencollective.com/pug/sponsor/2/website)[![](https://opencollective.com/pug/sponsor/3/avatar.svg)](https://opencollective.com/pug/sponsor/3/website)[![](https://opencollective.com/pug/sponsor/4/avatar.svg)](https://opencollective.com/pug/sponsor/4/website)
# API Reference

This page details how to render Pug using the JavaScript API.

###### Tip

**Pug is available in your Web browserâs console!** To test drive Pugâs API, as documented on this page, try entering:

```
pug.render('p Hello world!');

```
## Options [Â¶](#options)

All API methods accept the following set of options:

filename: stringThe name of the file being compiled. Used in exceptions, and required for relative `include`\s and `extend`\s. Defaults to `'Pug'`.basedir: stringThe root directory of all absolute inclusion.doctype: stringIf the `doctype` is not specified as part of the template, you can specify it here. It is sometimes useful to get self-closing tags and remove mirroring of boolean attributes. See [doctype documentation](../language/doctype.html#doctype-option) for more information.pretty: boolean | string[Deprecated.] Adds whitespace to the resulting HTML to make it easier for a human to read using `'Â Â '` as indentation. If a string is specified, that will be used as indentation instead (e.g. `'\t'`). We strongly recommend against using this option. Too often, it creates subtle bugs in your templates because of the way it alters the interpretation and rendering of whitespace, and so this feature is going to be removed. Defaults to `false`.filters: objectHash table of [custom filters](../language/filters.html#custom-filters). Defaults to `undefined`.self: booleanUse a `self` namespace to hold the locals. It will speed up the compilation, but instead of writing `variable` you will have to write `self.variable` to access a property of the locals object. Defaults to `false`.debug: booleanIf set to `true`, the tokens and function body are logged to stdout.compileDebug: booleanIf set to `true`, the function source will be included in the compiled template for better error messages (sometimes useful in development). It is enabled by default, unless used with [Express](https://expressjs.com/) in production mode.globals: Array<string>Add a list of global names to make accessible in templates.cache: booleanIf set to `true`, compiled functions are cached. `filename` must be set as the cache key. Only applies to `render` functions. Defaults to `false`.inlineRuntimeFunctions: booleanInline runtime functions instead of `require`-ing them from a shared version. For `compileClient` functions, the default is `true` (so that one does not have to include the runtime). For all other compilation or rendering types, the default is `false`.name: stringThe name of the template function. Only applies to `compileClient` functions. Defaults to `'template'`.
## Methods [Â¶](#methods)

### pug.compile(source, ?options) [Â¶](#pugcompilesource-options)

Compile a Pug template to a function, which can be rendered multiple times with different locals.

source: stringThe source Pug template to compileoptions: ?optionsAn options object
returns: functionA function to generate the HTML from an object containing locals
```
var pug = require('pug');

// Compile a function
var fn = pug.compile('string of pug', options);

// Render the function
var html = fn(locals);
// => '<string>of pug</string>'

```
### pug.compileFile(path, ?options) [Â¶](#pugcompilefilepath-options)

Compile a Pug template from a file to a function, which can be rendered multiple times with different locals.

path: stringThe path to a Pug fileoptions: ?optionsAn options object
returns: functionA function to generate the HTML from an object containing locals
```
var pug = require('pug');

// Compile a function
var fn = pug.compileFile('path to pug file', options);

// Render the function
var html = fn(locals);
// => '<string>of pug</string>'

```
### pug.compileClient(source, ?options) [Â¶](#pugcompileclientsource-options)

Compile a Pug template to a string of JavaScript, which can be used client side.

source: stringThe Pug template to compileoptions: ?optionsAn options object
returns: stringA string of JavaScript representing a function
```
var pug = require('pug');

// Compile a function
var fn = pug.compileClient('string of pug', options);

// Render the function
var html = fn(locals);
// => 'function template(locals) { return "<string>of pug</string>"; }'

```
### pug.compileClientWithDependenciesTracked(source, ?options) [Â¶](#pugcompileclientwithdependenciestrackedsource-options)

Same as `[compileClient](#pugcompilesource-options)`, except that this method returns an object of the form:

```
{
  'body': 'function (locals) {...}',
  'dependencies': ['filename.pug']
}

```

You should only use this method if you need `dependencies` to implement something like watching for changes to the Pug files.

### pug.compileFileClient(path, ?options) [Â¶](#pugcompilefileclientpath-options)

Compile a Pug template file to a string of JavaScript that can be used client side.

path: stringThe path to a Pug fileoptions: ?optionsAn options objectoptions.name: stringIf you pass a `.name` property on the options object, it will be used as the name of your client side template function.
returns: stringA JavaScript function body.

First, our template file.

```
h1 This is a Pug template
h2 By #{author}

```

Then, we compile the Pug file into a function string.

```
var fs = require('fs');
var pug = require('pug');

// Compile the template to a function string
var jsFunctionString = pug.compileFileClient('/path/to/pugFile.pug', {name: "fancyTemplateFun"});

// Maybe you want to compile all of your templates to a templates.js file and serve it to the client
fs.writeFileSync("templates.js", jsFunctionString);

```

Hereâs what the output function string looks like (written to `templates.js`).

```
function fancyTemplateFun(locals) {
  var buf = [];
  var pug_mixins = {};
  var pug_interp;

  var locals_for_with = (locals || {});

  (function (author) {
    buf.push("<h1>This is a Pug template</h1><h2>By "
      + (pug.escape((pug_interp = author) == null ? '' : pug_interp))
      + "</h2>");
  }.call(this, "author" in locals_for_with ?
    locals_for_with.author : typeof author !== "undefined" ?
      author : undefined)
  );

  return buf.join("");
}

```
```
<!DOCTYPE html>
<html>
  <head>
    <script src="/templates.js"></script>
  </head>

  <body>
    <h1>This is one fancy template.</h1>

    <script type="text/javascript">
      var html = window.fancyTemplateFun({author: "enlore"});
      var div = document.createElement("div");
      div.innerHTML = html;
      document.body.appendChild(div);
    </script>
  </body>
</html>

```
### pug.render(source, ?options, ?callback) [Â¶](#pugrendersource-options-callback)

source: stringThe source Pug template to renderoptions: ?optionsAn options object, also used as the locals objectcallback: ?functionNode.js-style callback receiving the rendered results. **This callback is called synchronously.**
returns: stringThe resulting HTML string
```
var pug = require('pug');

var html = pug.render('string of pug', options);
// => '<string>of pug</string>'

```
### pug.renderFile(path, ?options, ?callback) [Â¶](#pugrenderfilepath-options-callback)

path: stringThe path to the Pug file to renderoptions: ?optionsAn options object, also used as the locals objectcallback: ?functionNode.js-style callback receiving the rendered results. **This callback is called synchronously.**
returns: stringThe resulting HTML string
```
var pug = require('pug');

var html = pug.renderFile('path/to/file.pug', options);
// ...

```
## Properties [Â¶](#properties)

### pug.filters [Â¶](#pugfilters)

A hash table of [custom filters](../language/filters.html#custom-filters).

This object has the same semantics as the [`filters` option](#options), but applies globally to all Pug compilation. When a filter is present in both `pug.filters` and `options.filters`, the `filters` option takes precedence.

###### Deprecated

This property has been deprecated in favor of the [`filters` option](#options).

