The provided content is related to a fix for a hard lockup caused by a vmap stack overflow on powerpc/32 architecture.

**Root cause of vulnerability:**

- A vmap stack overflow leads to a hard lockup because the `emergency_ctx` is accessed using its virtual address even when the data MMU is no longer active. This is due to a previous commit (`c118c7303ad5`) that changed the MMU activation sequence.

**Weaknesses/vulnerabilities present:**

- The code was accessing `emergency_ctx` using a virtual address in a context where the MMU was not active, resulting in invalid memory access.

**Impact of exploitation:**

- The system experiences a hard lockup, requiring a reboot to recover.

**Attack vectors:**

- The vulnerability occurs due to a stack overflow within the vmap area, which is not a direct attacker-controlled event. The attacker needs to induce the stack overflow on the vmap stack to trigger the vulnerability.

**Required attacker capabilities/position:**

- The attacker would need to cause a vmap stack overflow. The specific method would depend on the system configuration and the vulnerabilities that could trigger such a condition on the specific system, but would likely require local access to run code on the system.

**Additional notes:**
- The fix replaces the virtual address access to `emergency_ctx` with a physical address access, ensuring it is accessed correctly even when the MMU is inactive.
- This vulnerability affects the powerpc/32 architecture specifically, after commit `c118c7303ad5` was introduced.
- The fix is applicable to Linux kernel versions 5.10 and later.