

⚲

### Project

### General

### Profile

* [Sign in](/redmine/login)

* [Home](/redmine)
* [Projects](/redmine/projects)
* [Help](https://www.redmine.org/guide)

[Search](/redmine/projects/dcmtk/search?scope=subprojects):

 DCMTK[All Projects](/redmine/projects?jump=issues)
# DCMTK

* [Overview](/redmine/projects/dcmtk)
* [Activity](/redmine/projects/dcmtk/activity)
* [Roadmap](/redmine/projects/dcmtk/roadmap)
* [Issues](/redmine/projects/dcmtk/issues)
* [News](/redmine/projects/dcmtk/news)
* [Documents](/redmine/projects/dcmtk/documents)
* [Wiki](/redmine/projects/dcmtk/wiki)
* [Files](/redmine/projects/dcmtk/files)

Actions
Copy link
## Bug #1114

closed
![](https://www.gravatar.com/avatar/5585086e46b1861c3b3f69920443ba8b?rating=PG&size=50&default= "Author: Marco Eichelberg")
![](https://www.gravatar.com/avatar/5585086e46b1861c3b3f69920443ba8b?rating=PG&size=22&default= "Assignee: Marco Eichelberg")

### Segmentation fault while receiving invalid message

Added by [Marco Eichelberg](/redmine/users/8) [10 months](/redmine/projects/dcmtk/activity?from=2024-03-13 "2024-03-13 17:14") ago.
Updated [9 months](/redmine/projects/dcmtk/activity?from=2024-04-12 "2024-04-12 14:36") ago.

Status:ClosedPriority:NormalAssignee:[Marco Eichelberg](/redmine/users/8)Category:Library and AppsTarget version:[3.6.9](/redmine/versions/26 "2024-12-31")Start date:2024-03-13Due date:% Done:

|  |
| --- |

100%

Estimated time:
Module:dcmnet, dcmdataOperating System:Compiler:

---

**Description**

The dcmnet module may produce a segmentation fault due to a de-referenced NULL pointer while processing an invalid incoming DIMSE message.
Two places in the code are affected. The bugs can be reproduced as follows:
```

# Start the server
DCMDICTPATH=dicom.dic dcmrecv --config-file storescp.cfg Default -d 6789

# Trigger the bug
cat <input-hash> | nc 127.0.0.1 -p 6789

```

All required files are attached below.

Reported 2024-03-14 by Nils Bars <nils.bars@rub.de>.

---

**Files**

[Download all files](/redmine/attachments/issues/1114/download "Download all files")

| [dicom.dic](/redmine/attachments/200) (253 KB) [dicom.dic](/redmine/attachments/download/200/dicom.dic "Download") |  | Marco Eichelberg, 2024-03-13 17:13 |  |
| --- | --- | --- | --- |
| [storescp.cfg](/redmine/attachments/201) (33.1 KB) [storescp.cfg](/redmine/attachments/download/201/storescp.cfg "Download") |  | Marco Eichelberg, 2024-03-13 17:13 |  |
| [063c0affa01105480bb591eaa099c6536271bde4](/redmine/attachments/202) (16.8 KB) [063c0affa01105480bb591eaa099c6536271bde4](/redmine/attachments/download/202/063c0affa01105480bb591eaa099c6536271bde4 "Download") | Input hash 1 | Marco Eichelberg, 2024-03-13 17:13 |  |
| [e46e52126c03c2e5fc518b166c3adecb1d01de41](/redmine/attachments/203) (16.5 KB) [e46e52126c03c2e5fc518b166c3adecb1d01de41](/redmine/attachments/download/203/e46e52126c03c2e5fc518b166c3adecb1d01de41 "Download") | Input hash 2 | Marco Eichelberg, 2024-03-13 17:13 |  |

* [History](/redmine/issues/1114?tab=history)
* [Notes](/redmine/issues/1114?tab=notes)

ActionsCopy link
[#1](#note-1)
#### Updated by [Marco Eichelberg](/redmine/users/8) [10 months](/redmine/projects/dcmtk/activity?from=2024-03-18 "2024-03-18 17:00") ago

* **% Done** changed from *0* to *100*
* **Private** changed from *Yes* to *No*

Closed by commit #c78e434c0.

ActionsCopy link
[#2](#note-2)
#### Updated by [Marco Eichelberg](/redmine/users/8) [9 months](/redmine/projects/dcmtk/activity?from=2024-04-12 "2024-04-12 14:36") ago

* **Status** changed from *New* to *Closed*

Closed by commit #c78e434c0.

Actions
Copy link

Also available in: [Atom](/redmine/issues/1114.atom)
[PDF](/redmine/issues/1114.pdf)

Powered by [Redmine](https://www.redmine.org/) © 2006-2022 Jean-Philippe Lang

Loading...

