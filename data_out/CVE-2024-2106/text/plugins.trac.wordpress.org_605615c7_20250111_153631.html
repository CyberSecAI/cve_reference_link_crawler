

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3045511%2Fmasterstudy-lms-learning-management-system%2Ftags%2F3.2.11%2F_core%2Flms%2Froute.php%3Fold%3D3036794%26old_path%3Dmasterstudy-lms-learning-management-system%252Ftrunk%252F_core%252Flms%252Froute.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3036794/masterstudy-lms-learning-management-system/trunk/_core/lms/route.php?old=3045511&old_path=%2Fmasterstudy-lms-learning-management-system%2Ftags%2F3.2.11%2F_core%2Flms%2Froute.php)

---

# Changes from [masterstudy-lms-learning-management-system/trunk/\_core/lms/route.php](/browser/masterstudy-lms-learning-management-system/trunk/_core/lms/route.php?rev=3036794 "Show entry in browser") at [r3036794](/changeset/3036794 "Show full changeset") to [masterstudy-lms-learning-management-system/tags/3.2.11/\_core/lms/route.php](/browser/masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php?rev=3045511 "Show entry in browser") at [r3045511](/changeset/3045511 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

File:

1 edited

* [masterstudy-lms-learning-management-system/tags/3.2.11/\_core/lms/route.php](/browser/masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php?rev=3045511 "Show entry in browser")
  (modified)
  ([7 diffs](#file0 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [masterstudy-lms-learning-management-system/tags/3.2.11/\_core/lms/route.php](/changeset/3045511/masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php?old=3036794&old_path=masterstudy-lms-learning-management-system%2Ftrunk%2F_core%2Flms%2Froute.php "Show the [3036794:3045511] differences restricted to masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php")

  | [r3036794](/browser/masterstudy-lms-learning-management-system/trunk/_core/lms/route.php?rev=3036794#L27 "Show revision 3036794 of this file in browser") | [r3045511](/browser/masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php?rev=3045511#L27 "Show revision 3045511 of this file in browser") |  |
  | --- | --- | --- |
  | 27 | 27 | '/stm-lms-user/search', |
  | 28 | 28 | array( |
  | 29 |  | 'permission\_callback' => '\_\_return\_true', |
  | 30 |  | 'methods'             => 'GET', |
  |  | 29 | 'permission\_callback' => function () { |
  |  | 30 | return current\_user\_can( 'manage\_options' ); |
  |  | 31 | }, |
  |  | 32 | 'methods'             => 'POST', |
  | 31 | 33 | 'callback'            => function () { |
  | 32 |  | // phpcs:ignore WordPress.Security.NonceVerification.~~Recommended~~ |
  | 33 |  | if ( isset( $\_~~GE~~T['search'] ) ) { |
  | 34 |  | // phpcs:ignore WordPress.Security.NonceVerification.~~Recommended~~ |
  | 35 |  | return \stmLms\Classes\Models\StmUser::search( $\_~~GE~~T['search'] ); |
  |  | 34 | // phpcs:ignore WordPress.Security.NonceVerification.Missing |
  |  | 35 | if ( isset( $\_POST['search'] ) ) { |
  |  | 36 | // phpcs:ignore WordPress.Security.NonceVerification.Missing |
  |  | 37 | return \stmLms\Classes\Models\StmUser::search( $\_POST['search'] ); |
  | 36 | 38 | } |
  | 37 | 39 |  |
  | […](/browser/masterstudy-lms-learning-management-system/trunk/_core/lms/route.php?rev=3036794#L57) | […](/browser/masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php?rev=3045511#L59) |  |
  | 57 | 59 | if ( isset( $\_GET['author\_id'] ) ) { |
  | 58 | 60 | // phpcs:ignore WordPress.Security.NonceVerification.Recommended |
  | 59 |  | $user        = new \stmLms\Classes\Models\StmUser( ~~$\_GET['author\_id']~~ ); |
  |  | 61 | $user        = new \stmLms\Classes\Models\StmUser( sanitize\_text\_field( $\_GET['author\_id'] ) ); |
  | 60 | 62 | $course\_list = array(); |
  | 61 | 63 | $courses     = $user->get\_courses(); |
  | […](/browser/masterstudy-lms-learning-management-system/trunk/_core/lms/route.php?rev=3036794#L85) | […](/browser/masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php?rev=3045511#L87) |  |
  | 85 | 87 | register\_rest\_route( |
  | 86 | 88 | 'lms', |
  | 87 |  | '/stm-lms-pa~~u~~out/settings', |
  |  | 89 | '/stm-lms-payout/settings', |
  | 88 | 90 | array( |
  | 89 |  | 'permission\_callback' => '\_\_return\_true', |
  |  | 91 | 'permission\_callback' => function () { |
  |  | 92 | return current\_user\_can( 'manage\_options' ); |
  |  | 93 | }, |
  | 90 | 94 | 'methods'             => 'POST', |
  | 91 | 95 | 'callback'            => function () { |
  | […](/browser/masterstudy-lms-learning-management-system/trunk/_core/lms/route.php?rev=3036794#L102) | […](/browser/masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php?rev=3045511#L106) |  |
  | 102 | 106 | register\_rest\_route( |
  | 103 | 107 | 'lms', |
  | 104 |  | '/stm-lms-pa~~u~~out/payment/set\_default', |
  |  | 108 | '/stm-lms-payout/payment/set\_default', |
  | 105 | 109 | array( |
  | 106 |  | 'permission\_callback' => '\_\_return\_true', |
  |  | 110 | 'permission\_callback' => function () { |
  |  | 111 | return current\_user\_can( 'manage\_options' ); |
  |  | 112 | }, |
  | 107 | 113 | 'methods'             => 'POST', |
  | 108 | 114 | 'callback'            => function () { |
  | […](/browser/masterstudy-lms-learning-management-system/trunk/_core/lms/route.php?rev=3036794#L119) | […](/browser/masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php?rev=3045511#L125) |  |
  | 119 | 125 | register\_rest\_route( |
  | 120 | 126 | 'lms', |
  | 121 |  | '/stm-lms-pa~~u~~out/pay-now', |
  |  | 127 | '/stm-lms-payout/pay-now', |
  | 122 | 128 | array( |
  | 123 |  | 'permission\_callback' => '\_\_return\_true', |
  | 124 |  | 'methods'             => 'GET', |
  |  | 129 | 'permission\_callback' => function () { |
  |  | 130 | return current\_user\_can( 'manage\_options' ); |
  |  | 131 | }, |
  |  | 132 | 'methods'             => 'POST', |
  | 125 | 133 | 'callback'            => function () { |
  | 126 | 134 | return \stmLms\Classes\Models\StmLmsPayout::pay\_now(); |
  | […](/browser/masterstudy-lms-learning-management-system/trunk/_core/lms/route.php?rev=3036794#L136) | […](/browser/masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php?rev=3045511#L144) |  |
  | 136 | 144 | register\_rest\_route( |
  | 137 | 145 | 'lms', |
  | 138 |  | '/stm-lms-pa~~u~~out/pay-now/(?P<id>\d+)', |
  |  | 146 | '/stm-lms-payout/pay-now/(?P<id>\d+)', |
  | 139 | 147 | array( |
  | 140 |  | 'permission\_callback' => '\_\_return\_true', |
  | 141 |  | 'methods'             => 'GET', |
  |  | 148 | 'permission\_callback' => function () { |
  |  | 149 | return current\_user\_can( 'manage\_options' ); |
  |  | 150 | }, |
  |  | 151 | 'methods'             => 'POST', |
  | 142 | 152 | 'callback'            => function ( $request ) { |
  | 143 | 153 | return \stmLms\Classes\Models\StmLmsPayout::pay\_now\_by\_payout\_id( intval( $request->get\_param( 'id' ) ) ); |
  | […](/browser/masterstudy-lms-learning-management-system/trunk/_core/lms/route.php?rev=3036794#L153) | […](/browser/masterstudy-lms-learning-management-system/tags/3.2.11/_core/lms/route.php?rev=3045511#L163) |  |
  | 153 | 163 | register\_rest\_route( |
  | 154 | 164 | 'lms', |
  | 155 |  | '/stm-lms-pa~~u~~out/payed/(?P<id>\d+)', |
  |  | 165 | '/stm-lms-payout/payed/(?P<id>\d+)', |
  | 156 | 166 | array( |
  | 157 |  | 'permission\_callback' => '\_\_return\_true', |
  | 158 |  | 'methods'             => 'GET', |
  |  | 167 | 'permission\_callback' => function () { |
  |  | 168 | return current\_user\_can( 'manage\_options' ); |
  |  | 169 | }, |
  |  | 170 | 'methods'             => 'POST', |
  | 159 | 171 | 'callback'            => function ( $request ) { |
  | 160 | 172 | return \stmLms\Classes\Models\StmLmsPayout::payed( intval( $request->get\_param( 'id' ) ) ); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3045511&old=3036794&new_path=%2Fmasterstudy-lms-learning-management-system%2Ftags%2F3.2.11%2F_core%2Flms%2Froute.php&old_path=%2Fmasterstudy-lms-learning-management-system%2Ftrunk%2F_core%2Flms%2Froute.php)
* [Zip Archive](?format=zip&new=3045511&old=3036794&new_path=%2Fmasterstudy-lms-learning-management-system%2Ftags%2F3.2.11%2F_core%2Flms%2Froute.php&old_path=%2Fmasterstudy-lms-learning-management-system%2Ftrunk%2F_core%2Flms%2Froute.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

