=== Content from plugins.trac.wordpress.org_15423fbb_20250110_123007.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Feasy-pricing-tables%2Ftrunk%2Fincludes%2Fept-block.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/easy-pricing-tables/trunk/includes/ept-block.php?rev=3175380 "Revision 3175380")
* Next Revision →
* [Blame](/browser/easy-pricing-tables/trunk/includes/ept-block.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/easy-pricing-tables/trunk/includes/ept-block.php)

---

# [source:](/browser?order=name "Go to repository root") [easy-pricing-tables](/browser/easy-pricing-tables?order=name "View easy-pricing-tables")/[trunk](/browser/easy-pricing-tables/trunk?order=name "View trunk")/[includes](/browser/easy-pricing-tables/trunk/includes?order=name "View includes")/[ept-block.php](/browser/easy-pricing-tables/trunk/includes/ept-block.php?order=name "View ept-block.php")

View diff against:

View revision:

| [Last change](/changeset/3188461/easy-pricing-tables/trunk/includes/ept-block.php "View differences") on this file was [3188461](/changeset/3188461/ "View changeset 3188461"), checked in by RyanNovotny, [2 months ago](/timeline?from=2024-11-14T09%3A07%3A10Z&precision=second "See timeline at 11/14/2024 09:07:10 AM") |
| --- |
| v4.0.0 |
| * Property **svn:eol-style** set to   *`native`* | |
| **File size:** 25.2 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [4](#L4) | /\* EPT FOR GUTENBERG \*/ |
| [5](#L5) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [6](#L6) | function fca\_ept\_render( $attributes ) { |
| [7](#L7) |  |
| [8](#L8) | $selectedLayout = empty( $attributes['selectedLayout'] ) ? '' : $attributes['selectedLayout']; |
| [9](#L9) | if( $selectedLayout ) { |
| [10](#L10) | include\_once( PTP\_PLUGIN\_PATH . "assets/blocks/$selectedLayout/fca-ept-$selectedLayout-block.php" ); |
| [11](#L11) | $renderLayout = 'fca\_ept\_render\_' . $selectedLayout; |
| [12](#L12) |  |
| [13](#L13) | if ( function\_exists( $renderLayout ) ) { |
| [14](#L14) |  |
| [15](#L15) | if( DH\_PTP\_LICENSE\_PACKAGE !== 'Free' ) { |
| [16](#L16) | wp\_enqueue\_style( 'fca-ept-font-awesome' ); |
| [17](#L17) |  |
| [18](#L18) | $fontFamily = empty( $attributes['fontFamily'] ) ? false : trim( $attributes['fontFamily'] ); |
| [19](#L19) |  |
| [20](#L20) | if( $fontFamily && $fontFamily !== 'sans-serif' ) { |
| [21](#L21) | $font\_url = add\_query\_arg( array( |
| [22](#L22) | "family" => $fontFamily, |
| [23](#L23) | "subset" => "latin" |
| [24](#L24) | ), 'https://fonts.googleapis.com/css' ); |
| [25](#L25) | $fontFamily = sanitize\_text\_field( $fontFamily ); |
| [26](#L26) | wp\_enqueue\_style( "fca-ept-google-font-$fontFamily", $font\_url ); |
| [27](#L27) |  |
| [28](#L28) | } |
| [29](#L29) | } |
| [30](#L30) |  |
| [31](#L31) | return call\_user\_func( $renderLayout, $attributes ); |
| [32](#L32) | } |
| [33](#L33) |  |
| [34](#L34) | } |
| [35](#L35) |  |
| [36](#L36) | return; |
| [37](#L37) | } |
| [38](#L38) |  |
| [39](#L39) | function fca\_ept\_gutenberg\_post\_filter( $bool, $post ) { |
| [40](#L40) |  |
| [41](#L41) | if( !empty( $post ) ) { |
| [42](#L42) | $post\_type = get\_post\_type( $post ); |
| [43](#L43) | if( $post\_type === 'wp\_block' ) { |
| [44](#L44) | $meta = get\_post\_meta( $post->ID, '1\_dh\_ptp\_settings', true  ); |
| [45](#L45) | if( isSet( $meta['ept3'] ) ) { |
| [46](#L46) | return true; |
| [47](#L47) | } |
| [48](#L48) | } |
| [49](#L49) | } |
| [50](#L50) | return $bool; |
| [51](#L51) | } |
| [52](#L52) | add\_filter( 'use\_block\_editor\_for\_post', 'fca\_ept\_gutenberg\_post\_filter', 9999, 2 ); |
| [53](#L53) |  |
| [54](#L54) | function fca\_ept\_register\_block() { |
| [55](#L55) |  |
| [56](#L56) | // MAIN |
| [57](#L57) | wp\_register\_script( 'fca\_ept\_editor\_common\_script', PTP\_PLUGIN\_URL . '/assets/blocks/editor/fca-ept-editor-common.min.js', array( 'jquery', 'wp-blocks', 'wp-element' ), PTP\_PLUGIN\_VER, true ); |
| [58](#L58) | wp\_register\_script( 'fca\_ept\_sidebar\_script', PTP\_PLUGIN\_URL . '/assets/blocks/editor/fca-ept-sidebar.min.js', array( 'fca\_ept\_editor\_common\_script' ), PTP\_PLUGIN\_VER, true ); |
| [59](#L59) | wp\_register\_script( 'fca\_ept\_toolbar\_script', PTP\_PLUGIN\_URL . '/assets/blocks/editor/fca-ept-toolbar.min.js', array( 'fca\_ept\_editor\_common\_script' ), PTP\_PLUGIN\_VER, true ); |
| [60](#L60) | wp\_register\_style( 'fca-ept-editor-style', PTP\_PLUGIN\_URL . '/assets/blocks/editor/fca-ept-editor.min.css', array(), PTP\_PLUGIN\_VER ); |
| [61](#L61) | wp\_register\_script( 'fca\_ept\_editor\_script', PTP\_PLUGIN\_URL . '/assets/blocks/editor/fca-ept-editor.min.js', array( 'fca\_ept\_sidebar\_script', 'fca\_ept\_toolbar\_script' ), PTP\_PLUGIN\_VER, true ); |
| [62](#L62) |  |
| [63](#L63) | wp\_register\_script( 'fca\_ept\_layout1\_script', PTP\_PLUGIN\_URL . '/assets/blocks/layout1/fca-ept-layout1.min.js', array( 'fca\_ept\_editor\_script' ), PTP\_PLUGIN\_VER, true ); |
| [64](#L64) | wp\_register\_style( 'fca-ept-layout1-style', PTP\_PLUGIN\_URL . '/assets/blocks/layout1/fca-ept-layout1.min.css', array(), PTP\_PLUGIN\_VER ); |
| [65](#L65) |  |
| [66](#L66) | wp\_register\_script( 'fca\_ept\_layout2\_script', PTP\_PLUGIN\_URL . '/assets/blocks/layout2/fca-ept-layout2.min.js', array( 'fca\_ept\_editor\_script' ), PTP\_PLUGIN\_VER, true ); |
| [67](#L67) | wp\_register\_style( 'fca-ept-layout2-style', PTP\_PLUGIN\_URL . '/assets/blocks/layout2/fca-ept-layout2.min.css', array(), PTP\_PLUGIN\_VER ); |
| [68](#L68) |  |
| [69](#L69) | if ( DH\_PTP\_LICENSE\_PACKAGE !== 'Free' ) { |
| [70](#L70) |  |
| [71](#L71) | wp\_register\_script( 'fca\_ept\_layout3\_script', PTP\_PLUGIN\_URL . '/assets/blocks/layout3/fca-ept-layout3.min.js', array( 'fca\_ept\_editor\_script' ), PTP\_PLUGIN\_VER, true ); |
| [72](#L72) | wp\_register\_style( 'fca-ept-layout3-style', PTP\_PLUGIN\_URL . '/assets/blocks/layout3/fca-ept-layout3.min.css', array(), PTP\_PLUGIN\_VER ); |
| [73](#L73) |  |
| [74](#L74) | wp\_register\_script( 'fca\_ept\_layout4\_script', PTP\_PLUGIN\_URL . '/assets/blocks/layout4/fca-ept-layout4.min.js', array( 'fca\_ept\_editor\_script' ), PTP\_PLUGIN\_VER, true ); |
| [75](#L75) | wp\_register\_style( 'fca-ept-layout4-style', PTP\_PLUGIN\_URL . '/assets/blocks/layout4/fca-ept-layout4.min.css', array(), PTP\_PLUGIN\_VER ); |
| [76](#L76) |  |
| [77](#L77) | wp\_register\_script( 'fca\_ept\_layout5\_script', PTP\_PLUGIN\_URL . '/assets/blocks/layout5/fca-ept-layout5.min.js', array( 'fca\_ept\_editor\_script' ), PTP\_PLUGIN\_VER, true ); |
| [78](#L78) | wp\_register\_style( 'fca-ept-layout5-style', PTP\_PLUGIN\_URL . '/assets/blocks/layout5/fca-ept-layout5.min.css', array(), PTP\_PLUGIN\_VER ); |
| [79](#L79) |  |
| [80](#L80) | wp\_register\_script( 'fca\_ept\_layout6\_script', PTP\_PLUGIN\_URL . '/assets/blocks/layout6/fca-ept-layout6.min.js', array( 'fca\_ept\_editor\_script' ), PTP\_PLUGIN\_VER, true ); |
| [81](#L81) | wp\_register\_style( 'fca-ept-layout6-style', PTP\_PLUGIN\_URL . '/assets/blocks/layout6/fca-ept-layout6.min.css', array(), PTP\_PLUGIN\_VER ); |
| [82](#L82) |  |
| [83](#L83) | wp\_register\_script( 'fca\_ept\_layout7\_script', PTP\_PLUGIN\_URL . '/assets/blocks/layout7/fca-ept-layout7.min.js', array( 'fca\_ept\_editor\_script' ), PTP\_PLUGIN\_VER, true ); |
| [84](#L84) | wp\_register\_style( 'fca-ept-layout7-style', PTP\_PLUGIN\_URL . '/assets/blocks/layout7/fca-ept-layout7.min.css', array(), PTP\_PLUGIN\_VER ); |
| [85](#L85) |  |
| [86](#L86) | wp\_register\_script( 'fca\_ept\_layout8\_script', PTP\_PLUGIN\_URL . '/assets/blocks/layout8/fca-ept-layout8.min.js', array( 'fca\_ept\_editor\_script' ), PTP\_PLUGIN\_VER, true ); |
| [87](#L87) | wp\_register\_style( 'fca-ept-layout8-style', PTP\_PLUGIN\_URL . '/assets/blocks/layout8/fca-ept-layout8.min.css', array(), PTP\_PLUGIN\_VER ); |
| [88](#L88) |  |
| [89](#L89) | wp\_register\_script( 'fca\_ept\_layout9\_script', PTP\_PLUGIN\_URL . '/assets/blocks/layout9/fca-ept-layout9.min.js', array( 'fca\_ept\_editor\_script' ), PTP\_PLUGIN\_VER, true ); |
| [90](#L90) | wp\_register\_style( 'fca-ept-layout9-style', PTP\_PLUGIN\_URL . '/assets/blocks/layout9/fca-ept-layout9.min.css', array(), PTP\_PLUGIN\_VER ); |
| [91](#L91) |  |
| [92](#L92) | // FONTS |
| [93](#L93) | $fonts = array( |
| [94](#L94) | "Roboto:400", |
| [95](#L95) | "Open Sans:400", |
| [96](#L96) | "Lato:400", |
| [97](#L97) | "Oswald:400", |
| [98](#L98) | "Source Sans Pro:400", |
| [99](#L99) | "Montserrat:400", |
| [100](#L100) | "Merriweather:400", |
| [101](#L101) | "Raleway:400", |
| [102](#L102) | "PT Sans:400", |
| [103](#L103) | "Lora:400", |
| [104](#L104) | "Noto Sans:400", |
| [105](#L105) | "Nunito Sans:400", |
| [106](#L106) | "Concert One:400", |
| [107](#L107) | "Prompt:400", |
| [108](#L108) | "Work Sans:400", |
| [109](#L109) | ); |
| [110](#L110) |  |
| [111](#L111) | $fonts\_collection\_url = add\_query\_arg( array( |
| [112](#L112) | "family" => urlencode( implode( "|", $fonts ) ), |
| [113](#L113) | "subset" => "latin" |
| [114](#L114) | ), 'https://fonts.googleapis.com/css' ); |
| [115](#L115) |  |
| [116](#L116) | wp\_register\_style( 'fca-ept-google-fonts', $fonts\_collection\_url ); |
| [117](#L117) |  |
| [118](#L118) |  |
| [119](#L119) | // FONTAWESOME |
| [120](#L120) | wp\_register\_style( 'fca-ept-font-awesome', PTP\_PLUGIN\_URL . '/assets/pricing-tables/font-awesome/css/font-awesome.min.css', array(), PTP\_PLUGIN\_VER ); |
| [121](#L121) | } |
| [122](#L122) |  |
| [123](#L123) | if( !in\_array( DH\_PTP\_LICENSE\_PACKAGE, array( 'Free', 'Personal' ) ) ) { |
| [124](#L124) | wp\_register\_script(     'fca\_ept\_premium\_script', PTP\_PLUGIN\_URL . '/assets/blocks/editor/fca-ept-premium.min.js', array( 'jquery', 'fca\_ept\_editor\_script' ), PTP\_PLUGIN\_VER, true ); |
| [125](#L125) | wp\_register\_script(     'fca\_ept\_toggle', PTP\_PLUGIN\_URL . '/assets/blocks/toggle/fca-ept-toggle.min.js', array( 'jquery' ), PTP\_PLUGIN\_VER, true ); |
| [126](#L126) | wp\_register\_style( 'fca-ept-toggle-style', PTP\_PLUGIN\_URL . '/assets/blocks/toggle/fca-ept-toggle.min.css', array(), PTP\_PLUGIN\_VER ); |
| [127](#L127) | } |
| [128](#L128) |  |
| [129](#L129) | if ( function\_exists( 'register\_block\_type' ) ) { |
| [130](#L130) | register\_block\_type( 'fatcatapps/easy-pricing-tables', array( 'render\_callback' => 'fca\_ept\_render' ) ); |
| [131](#L131) | } |
| [132](#L132) |  |
| [133](#L133) | } |
| [134](#L134) | add\_action( 'init', 'fca\_ept\_register\_block' ); |
| [135](#L135) |  |
| [136](#L136) | //LISTEN FOR OUR URL PARAMS FOR CUSTOM ACTIONS |
| [137](#L137) | function fca\_ept\_add\_block\_listener(){ |
| [138](#L138) |  |
| [139](#L139) | if ( isSet( $\_GET['fca\_ept\_new\_block'] ) ){ |
| [140](#L140) | $nonce = empty( $\_GET['ept\_nonce'] ) ? '' : sanitize\_text\_field( wp\_unslash( $\_GET['ept\_nonce'] ) ); |
| [141](#L141) |  |
| [142](#L142) | if( wp\_verify\_nonce( $nonce, 'ept\_new' ) == false ){ |
| [143](#L143) | wp\_die( 'Authorization failed, please try logging in again' ); |
| [144](#L144) | } |
| [145](#L145) | $args = array( |
| [146](#L146) | 'post\_type'      => 'wp\_block', |
| [147](#L147) | 'meta\_key'               => '1\_dh\_ptp\_settings', |
| [148](#L148) | 'posts\_per\_page' => '-1' |
| [149](#L149) | ); |
| [150](#L150) |  |
| [151](#L151) | $count = count( get\_posts ( $args ) ) + 1; |
| [152](#L152) |  |
| [153](#L153) | $args = array( |
| [154](#L154) | 'post\_title'     => 'Pricing Table ' . $count, |
| [155](#L155) | 'post\_type'      => 'wp\_block', |
| [156](#L156) | 'post\_author'    => get\_current\_user\_id(), |
| [157](#L157) | 'post\_status'    => 'publish', |
| [158](#L158) | 'post\_content'   => fca\_ept\_default\_block\_content(), |
| [159](#L159) | 'meta\_input'     => array( '1\_dh\_ptp\_settings' => [ 'ept3' => '' ] ) |
| [160](#L160) | ); |
| [161](#L161) |  |
| [162](#L162) | $post\_ID = wp\_insert\_post( $args ); |
| [163](#L163) | wp\_redirect( admin\_url( "post.php?post={$post\_ID}&action=edit" ) ); |
| [164](#L164) | exit; |
| [165](#L165) | } |
| [166](#L166) |  |
| [167](#L167) | if ( isSet( $\_GET['fca\_ept\_new\_toggle'] ) ){ |
| [168](#L168) | $nonce = empty( $\_GET['ept\_nonce'] ) ? '' : sanitize\_text\_field( wp\_unslash( $\_GET['ept\_nonce'] ) ); |
| [169](#L169) |  |
| [170](#L170) | if( wp\_verify\_nonce( $nonce, 'ept\_new' ) == false ){ |
| [171](#L171) | wp\_die( 'Authorization failed, please try logging in again' ); |
| [172](#L172) | } |
| [173](#L173) | $args = array( |
| [174](#L174) | 'post\_type'      => 'wp\_block', |
| [175](#L175) | 'meta\_key'               => '1\_dh\_ptp\_settings', |
| [176](#L176) | 'posts\_per\_page' => '-1' |
| [177](#L177) | ); |
| [178](#L178) |  |
| [179](#L179) | $count = count( get\_posts ( $args ) ) + 1; |
| [180](#L180) |  |
| [181](#L181) | $args = array( |
| [182](#L182) | 'post\_title'     => 'Pricing Table ' . $count, |
| [183](#L183) | 'post\_type'      => 'wp\_block', |
| [184](#L184) | 'post\_author'    => get\_current\_user\_id(), |
| [185](#L185) | 'post\_status'    => 'publish', |
| [186](#L186) | 'post\_content'   => fca\_ept\_default\_toggle\_content(), |
| [187](#L187) | 'meta\_input'     => array( '1\_dh\_ptp\_settings' => [ 'ept3' => '' ] ) |
| [188](#L188) | ); |
| [189](#L189) |  |
| [190](#L190) | $post\_ID = wp\_insert\_post( $args ); |
| [191](#L191) | wp\_redirect( admin\_url( "post.php?post={$post\_ID}&action=edit" ) ); |
| [192](#L192) | exit; |
| [193](#L193) | } |
| [194](#L194) |  |
| [195](#L195) | if ( isSet( $\_GET['fca\_ept\_new\_page'] ) ){ |
| [196](#L196) | $nonce = empty( $\_GET['ept\_nonce'] ) ? '' : sanitize\_text\_field( wp\_unslash( $\_GET['ept\_nonce'] ) ); |
| [197](#L197) |  |
| [198](#L198) | if( wp\_verify\_nonce( $nonce, 'ept\_new' ) == false ){ |
| [199](#L199) | wp\_die( 'Authorization failed, please try logging in again' ); |
| [200](#L200) | } |
| [201](#L201) | $args = array( |
| [202](#L202) | 'post\_type'      => 'page', |
| [203](#L203) | 'meta\_key'               => '1\_dh\_ptp\_settings', |
| [204](#L204) | 'posts\_per\_page' => '-1' |
| [205](#L205) | ); |
| [206](#L206) |  |
| [207](#L207) | $count = count( get\_posts ( $args ) ) + 1; |
| [208](#L208) |  |
| [209](#L209) | $args = array( |
| [210](#L210) | 'post\_title'     => 'Pricing', |
| [211](#L211) | 'post\_type'      => 'page', |
| [212](#L212) | 'post\_author'    => get\_current\_user\_id(), |
| [213](#L213) | 'post\_status'    => 'publish', |
| [214](#L214) | 'post\_content'   => fca\_ept\_default\_block\_content(), |
| [215](#L215) | ); |
| [216](#L216) |  |
| [217](#L217) | $post\_ID = wp\_insert\_post( $args ); |
| [218](#L218) | wp\_redirect( admin\_url( "post.php?post={$post\_ID}&action=edit" ) ); |
| [219](#L219) | exit; |
| [220](#L220) | } |
| [221](#L221) |  |
| [222](#L222) | //USED FOR LEGACY TABLE CLONING |
| [223](#L223) | if ( isSet( $\_GET['fca\_ept\_clone\_table'] ) ){ |
| [224](#L224) | $postID = empty( $\_GET['fca\_ept\_clone\_table'] ) ? '' : intval( $\_GET['fca\_ept\_clone\_table'] ); |
| [225](#L225) | $nonce = empty( $\_GET['ept\_nonce'] ) ? '' : sanitize\_text\_field( wp\_unslash( $\_GET['ept\_nonce'] ) ); |
| [226](#L226) |  |
| [227](#L227) | if( wp\_verify\_nonce( $nonce, 'ept\_clone' ) && $postID ){ |
| [228](#L228) | fca\_ept\_clone\_table( $postID ); |
| [229](#L229) | } else { |
| [230](#L230) | wp\_die( 'Authorization failed, please try logging in again' ); |
| [231](#L231) | } |
| [232](#L232) | } |
| [233](#L233) |  |
| [234](#L234) | } |
| [235](#L235) | add\_action( 'init', 'fca\_ept\_add\_block\_listener' ); |
| [236](#L236) |  |
| [237](#L237) | function fca\_ept\_default\_block\_content() { |
| [238](#L238) | return '<!-- wp:easy-pricing-tables/table  --> |
| [239](#L239) | <div style="padding-top:64px;padding-right:16px;padding-bottom:64px;padding-left:16px;gap:9px" class="wp-block-easy-pricing-tables-table ept4-table- layout-0 matchRowHeight"><style></style><style>div.ept4-table- p, div.ept4-table- a, div.ept4-table- li { font-family: sans-serif !important};</style></div> |
| [240](#L240) | <!-- /wp:easy-pricing-tables/table -->'; |
| [241](#L241) | } |
| [242](#L242) |  |
| [243](#L243) | function fca\_ept\_default\_toggle\_content() { |
| [244](#L244) | return '<!-- wp:easy-pricing-tables/toggle-table --> |
| [245](#L245) | <div class="wp-block-easy-pricing-tables-toggle-table"><!-- wp:easy-pricing-tables/toggle --> |
| [246](#L246) | <div class="wp-block-easy-pricing-tables-toggle fca-ept-toggle-period-container" style="padding:10px;font-size:18px"><span style="color:#000000">Monthly</span><label class="fca-ept-switch"><input type="checkbox" class="fca-ept-period-toggle"/><span style="background-color:#8ED1FC" class="fca-ept-slider fca-ept-round"></span></label><span style="color:#000000">Yearly</span></div> |
| [247](#L247) | <!-- /wp:easy-pricing-tables/toggle --> |
| [248](#L248) |  |
| [249](#L249) | <!-- wp:easy-pricing-tables/table {"tableID":"d5c4b268b22f5"} --> |
| [250](#L250) | <div style="padding-top:64px;padding-right:16px;padding-bottom:64px;padding-left:16px;gap:9px" class="wp-block-easy-pricing-tables-table ept4-table-d5c4b268b22f5 layout-0 matchRowHeight"><style></style><style>div.ept4-table-d5c4b268b22f5 p, div.ept4-table-d5c4b268b22f5 a, div.ept4-table-d5c4b268b22f5 li { font-family: sans-serif !important};</style></div> |
| [251](#L251) | <!-- /wp:easy-pricing-tables/table --> |
| [252](#L252) |  |
| [253](#L253) | <!-- wp:easy-pricing-tables/table {"templateID":-1,"tableID":"d0a5395dc7c45"} --> |
| [254](#L254) | <div style="padding-top:64px;padding-right:16px;padding-bottom:64px;padding-left:16px;gap:9px" class="wp-block-easy-pricing-tables-table ept4-table-d0a5395dc7c45 layout--1 matchRowHeight"><style></style><style>div.ept4-table-d0a5395dc7c45 p, div.ept4-table-d0a5395dc7c45 a, div.ept4-table-d0a5395dc7c45 li { font-family: sans-serif !important};</style></div> |
| [255](#L255) | <!-- /wp:easy-pricing-tables/table --></div> |
| [256](#L256) | <!-- /wp:easy-pricing-tables/toggle-table -->'; |
| [257](#L257) | } |
| [258](#L258) |  |
| [259](#L259) | function fca\_ept\_block\_enqueue() { |
| [260](#L260) | // enqueue editor styles |
| [261](#L261) | wp\_enqueue\_style( 'fca-ept-editor-style' ); |
| [262](#L262) | wp\_enqueue\_style( 'fca-ept-layout1-style' ); |
| [263](#L263) | wp\_enqueue\_style( 'fca-ept-layout2-style' ); |
| [264](#L264) |  |
| [265](#L265) | if ( DH\_PTP\_LICENSE\_PACKAGE !== 'Free' ) { |
| [266](#L266) |  |
| [267](#L267) | wp\_enqueue\_style( 'fca-ept-font-awesome' ); |
| [268](#L268) | wp\_enqueue\_style( 'fca-ept-google-fonts' ); |
| [269](#L269) |  |
| [270](#L270) | wp\_enqueue\_style( 'fca-ept-layout3-style' ); |
| [271](#L271) | wp\_enqueue\_style( 'fca-ept-layout4-style' ); |
| [272](#L272) | wp\_enqueue\_style( 'fca-ept-layout5-style' ); |
| [273](#L273) | wp\_enqueue\_style( 'fca-ept-layout6-style' ); |
| [274](#L274) | wp\_enqueue\_style( 'fca-ept-layout7-style' ); |
| [275](#L275) | wp\_enqueue\_style( 'fca-ept-layout8-style' ); |
| [276](#L276) | wp\_enqueue\_style( 'fca-ept-layout9-style' ); |
| [277](#L277) | wp\_enqueue\_script( 'fca\_ept\_layout3\_script' ); |
| [278](#L278) | wp\_enqueue\_script( 'fca\_ept\_layout4\_script' ); |
| [279](#L279) | wp\_enqueue\_script( 'fca\_ept\_layout5\_script' ); |
| [280](#L280) | wp\_enqueue\_script( 'fca\_ept\_layout6\_script' ); |
| [281](#L281) | wp\_enqueue\_script( 'fca\_ept\_layout7\_script' ); |
| [282](#L282) | wp\_enqueue\_script( 'fca\_ept\_layout8\_script' ); |
| [283](#L283) | wp\_enqueue\_script( 'fca\_ept\_layout9\_script' ); |
| [284](#L284) | } |
| [285](#L285) |  |
| [286](#L286) | // enqueue layout scripts for editor |
| [287](#L287) | wp\_enqueue\_script( 'fca\_ept\_layout1\_script' ); |
| [288](#L288) | wp\_enqueue\_script( 'fca\_ept\_layout2\_script' ); |
| [289](#L289) |  |
| [290](#L290) | if( !in\_array( DH\_PTP\_LICENSE\_PACKAGE, array( 'Free', 'Personal' ) ) ) { |
| [291](#L291) | wp\_enqueue\_script( 'fca\_ept\_premium\_script' ); |
| [292](#L292) | wp\_enqueue\_style( 'fca-ept-toggle-style' ); |
| [293](#L293) | } |
| [294](#L294) |  |
| [295](#L295) | if(  get\_post\_type() === 'wp\_block' ) { |
| [296](#L296) | wp\_enqueue\_style( 'fca-ept-reusable-block-style' ); |
| [297](#L297) | } |
| [298](#L298) |  |
| [299](#L299) | wp\_localize\_script( 'fca\_ept\_editor\_script', 'fcaEptEditorData', array( |
| [300](#L300) | 'edition' => DH\_PTP\_LICENSE\_PACKAGE, |
| [301](#L301) | 'directory' => PTP\_PLUGIN\_URL, |
| [302](#L302) | 'woo\_integration' => function\_exists( 'fca\_ept\_get\_woo\_products' ), |
| [303](#L303) | 'toggle\_integration' => function\_exists( 'fca\_ept\_render\_toggle' ), |
| [304](#L304) | 'ajax\_url' => admin\_url( 'admin-ajax.php' ), |
| [305](#L305) | 'edit\_url' => admin\_url( 'edit.php' ), |
| [306](#L306) | 'fa\_classes' => function\_exists( 'fca\_ept\_get\_fa\_classes' ) ? fca\_ept\_get\_fa\_classes() : false, |
| [307](#L307) | 'debug' => PTP\_DEBUG, |
| [308](#L308) | 'theme\_support' => array( |
| [309](#L309) | 'wide' => get\_theme\_support( 'align-wide' ), |
| [310](#L310) | 'block\_styles' => get\_theme\_support( 'wp-block-styles' ), |
| [311](#L311) | ), |
| [312](#L312) | 'post\_type' => get\_post\_type(), |
| [313](#L313) | )); |
| [314](#L314) |  |
| [315](#L315) | } |
| [316](#L316) | add\_action( 'enqueue\_block\_editor\_assets', 'fca\_ept\_block\_enqueue' ); |
| [317](#L317) |  |
| [318](#L318) | // ADD OUR MENU, MAYBE REMOVE LEGACY WP ADMIN MENU ITEMS |
| [319](#L319) | function fca\_ept\_admin\_menu() { |
| [320](#L320) | global $submenu; |
| [321](#L321) |  |
| [322](#L322) | add\_submenu\_page( 'edit.php?post\_type=easy-pricing-table', \_\_('All Pricing Tables', 'easy-pricing-tables'), \_\_('All Pricing Tables', 'easy-pricing-tables'), 'manage\_options', 'ept3-list', 'fca\_ept\_render\_post\_list', 0 ); |
| [323](#L323) |  |
| [324](#L324) | add\_submenu\_page( 'edit.php?post\_type=easy-pricing-table', \_\_('Add New', 'easy-pricing-tables'), \_\_('Add New', 'easy-pricing-tables'), 'manage\_options', 'ept3-list-new', 'fca\_ept\_render\_add\_new', 1 ); |
| [325](#L325) | // hide legacy tables submenu if this is a fresh install OR if it's disabled through settings menu |
| [326](#L326) | $show\_legacy\_tables = get\_option( 'dh\_ptp\_show\_legacy\_tables' ); |
| [327](#L327) |  |
| [328](#L328) | if( !$show\_legacy\_tables ){ |
| [329](#L329) | unset($submenu['edit.php?post\_type=easy-pricing-table'][2]); |
| [330](#L330) |  |
| [331](#L331) |  |
| [332](#L332) | } |
| [333](#L333) | //REMOVE ADD NEW - USE THE LEGACY OR NEW POST LIST PAGE TO ADD NEW |
| [334](#L334) | unset($submenu['edit.php?post\_type=easy-pricing-table'][3]); |
| [335](#L335) |  |
| [336](#L336) | } |
| [337](#L337) | add\_action( 'admin\_menu', 'fca\_ept\_admin\_menu' ); |
| [338](#L338) |  |
| [339](#L339) | function fca\_ept\_render\_add\_new() { |
| [340](#L340) | echo "<script>window.location='" . esc\_url( admin\_url( 'edit.php' ) ) . "?post\_type=easy-pricing-table&page=ept3-list&add\_new=1" . "'</script>"; |
| [341](#L341) | } |
| [342](#L342) |  |
| [343](#L343) | function fca\_ept\_render\_post\_list(){ |
| [344](#L344) |  |
| [345](#L345) | $add\_new = !empty( $\_GET['add\_new'] ); |
| [346](#L346) | if ( ! class\_exists( 'WP\_List\_Table' ) ) { |
| [347](#L347) | require\_once( ABSPATH . 'wp-admin/includes/class-wp-list-table.php' ); |
| [348](#L348) | } |
| [349](#L349) |  |
| [350](#L350) | include ( PTP\_PLUGIN\_PATH . 'includes/post-list-table.php' ); |
| [351](#L351) | wp\_enqueue\_style( 'fca\_ept\_post\_list\_css', PTP\_PLUGIN\_URL . '/assets/blocks/post-list.min.css', array(), PTP\_PLUGIN\_VER ); |
| [352](#L352) | wp\_enqueue\_script( 'fca\_ept\_post\_list\_js', PTP\_PLUGIN\_URL . '/assets/blocks/post-list.min.js', array(), PTP\_PLUGIN\_VER, true ); |
| [353](#L353) |  |
| [354](#L354) | $new\_block\_link = add\_query\_arg( array( |
| [355](#L355) | 'fca\_ept\_new\_block' => 1, |
| [356](#L356) | 'ept\_nonce' => wp\_create\_nonce( 'ept\_new' ), |
| [357](#L357) | )); |
| [358](#L358) |  |
| [359](#L359) | $new\_toggle\_link = add\_query\_arg( array( |
| [360](#L360) | 'fca\_ept\_new\_toggle' => 1, |
| [361](#L361) | 'ept\_nonce' => wp\_create\_nonce( 'ept\_new' ), |
| [362](#L362) | )); |
| [363](#L363) |  |
| [364](#L364) | $new\_page\_link = add\_query\_arg( array( |
| [365](#L365) | 'fca\_ept\_new\_page' => 1, |
| [366](#L366) | 'ept\_nonce' => wp\_create\_nonce( 'ept\_new' ), |
| [367](#L367) | )); |
| [368](#L368) |  |
| [369](#L369) | ?> |
| [370](#L370) | <div class="fca-ept-modal" <?php echo $add\_new ? 'style="display:block;"' : '' ?> > |
| [371](#L371) | <div class="fca-ept-modal-inner"> |
| [372](#L372) | <a href="#" id="fca-ept-modal-close"><?php esc\_html\_e( 'Close', 'easy-pricing-tables' )?></a> |
| [373](#L373) | <h2><?php esc\_html\_e( 'Choose an Option', 'easy-pricing-tables' ) ?></h2> |
| [374](#L374) | <table class="fca-ept-modal-list"> |
| [375](#L375) | <tr> |
| [376](#L376) | <td> |
| [377](#L377) | <a href="<?php echo esc\_url( $new\_block\_link ) ?>" class="fca-ept-modal-list-group" > |
| [378](#L378) | <span class="dashicons dashicons-shortcode"></span> |
| [379](#L379) | <h3><?php esc\_html\_e( 'New Shortcode', 'easy-pricing-tables' ) ?></h3> |
| [380](#L380) | <p><?php esc\_html\_e( 'Create shortcode for use with page editors like Divi or WP Bakery.', 'easy-pricing-tables' ) ?></p> |
| [381](#L381) | <h4><?php esc\_html\_e( 'Recommended for Divi/WP Bakery/Visual Composer', 'easy-pricing-tables' ) ?></h4> |
| [382](#L382) | </a> |
| [383](#L383) | </td> |
| [384](#L384) | <td> |
| [385](#L385) | <a href="<?php echo esc\_url( $new\_page\_link ) ?>" class="fca-ept-modal-list-group" > |
| [386](#L386) | <span class="dashicons dashicons-welcome-add-page"></span> |
| [387](#L387) | <h3><?php esc\_html\_e( 'New Page with Pricing Table', 'easy-pricing-tables' ) ?></h3> |
| [388](#L388) | <p><?php esc\_html\_e( 'Create a new blank page containing a pricing table block.', 'easy-pricing-tables' ) ?></p> |
| [389](#L389) | <h4><?php esc\_html\_e( 'Recommended for Gutenberg', 'easy-pricing-tables' ) ?></h4> |
| [390](#L390) | </a> |
| [391](#L391) | </td> |
| [392](#L392) | </tr> |
| [393](#L393) | </table> |
| [394](#L394) | <p class="help" > |
| [395](#L395) | <?php if ( !in\_array( DH\_PTP\_LICENSE\_PACKAGE, ['Free', 'Personal' ] ) ) { ?> |
| [396](#L396) | <a href="<?php echo esc\_url( $new\_toggle\_link ) ?>" ><?php esc\_html\_e( 'New Pricing Table w/ Toggle Shortcode', 'easy-pricing-tables' ) ?></a><br> |
| [397](#L397) | <?php } ?> |
| [398](#L398) | <span class="dashicons dashicons-welcome-learn-more"></span> |
| [399](#L399) | <?php esc\_html\_e( 'Did you know you can add an Easy Pricing Table block to any post or page?', 'easy-pricing-tables' ) ?> |
| [400](#L400) | <a href="https://fatcatapps.com/knowledge-base/how-to-add-a-table-to-a-post-shortcode-reusable-block-block/" target="\_blank"><?php esc\_html\_e( 'Learn more', 'easy-pricing-tables' ) ?></a>. |
| [401](#L401) | </p> |
| [402](#L402) | </div> |
| [403](#L403) | </div> |
| [404](#L404) | <form method="post"> |
| [405](#L405) | <div class="wrap"> |
| [406](#L406) | <h2>Easy Pricing Tables <a href="#" id="fca-ept-add-new-button" class="page-title-action">Add New</a></h2> |
| [407](#L407) |  |
| [408](#L408) | <?php if ( DH\_PTP\_LICENSE\_PACKAGE === 'Free' ) { ?> |
| [409](#L409) | <p><?php esc\_html\_e( 'Problems, Suggestions?', 'easy-pricing-tables' ) ?> |
| [410](#L410) | <a href="https://wordpress.org/support/plugin/easy-pricing-tables" target="\_blank"><?php esc\_html\_e( 'Visit the support forum', 'easy-pricing-tables' ) ?></a> | |
| [411](#L411) | <a href="https://fatcatapps.com/article-categories/easy-pricing-tables/" target="\_blank"><?php esc\_html\_e( 'Knowledge Base', 'easy-pricing-tables' ) ?></a> | |
| [412](#L412) | <a href="https://youtu.be/iU3mC8vXKt8" target="\_blank"><?php esc\_html\_e( 'Watch Demo', 'easy-pricing-tables' ) ?></a> | |
| [413](#L413) | <a href="http://fatcatapps.com/easypricingtables/?utm\_campaign=ept-ui-sidebar&utm\_source=free-plugin&utm\_medium=link&utm\_content=v3" target="\_blank"><?php esc\_html\_e( 'Get Easy Pricing Tables Premium', 'easy-pricing-tables' ) ?></a> |
| [414](#L414) | </p> |
| [415](#L415) | <div class='fca-ept-twoup'> |
| [416](#L416) | <div> |
| [417](#L417) | <?php |
| [418](#L418) | $listTable = new EPT3\_List\_Table(); |
| [419](#L419) | $listTable->prepare\_items(); |
| [420](#L420) | $listTable->display(); |
| [421](#L421) | ?> |
| [422](#L422) | </div> |
| [423](#L423) | <div id='fca-ept-upgrade' > |
| [424](#L424) | <h2><?php esc\_html\_e( "Wanna get more sales?", 'easy-pricing-tables' ) ?></h2> |
| [425](#L425) | <p><?php esc\_html\_e( "Upgrade to Premium and Build Better Pricing Tables. You'll Get:", 'easy-pricing-tables' ) ?></p> |
| [426](#L426) | <p><span class='dashicons dashicons-yes'></span>Nine Gorgeous Designs</p> |
| [427](#L427) | <p><span class='dashicons dashicons-yes'></span>Fully Customizable (Colors, Fonts, CSS etc.)</p> |
| [428](#L428) | <p><span class='dashicons dashicons-yes'></span>700+ Icons to Add to Your Tables</p> |
| [429](#L429) | <p><span class='dashicons dashicons-yes'></span>Priority Email Support</p> |
| [430](#L430) | <p><span class='dashicons dashicons-yes'></span>Tooltips</p> |
| [431](#L431) | <p><span class='dashicons dashicons-yes'></span>Font Picker with 12+ fonts</p> |
| [432](#L432) | <p><span class='dashicons dashicons-yes'></span>Pricing Toggles - switch between currencies or monthly/yearly pricing</p> |
| [433](#L433) | <p style='text-align:center;'><a class='button button-primary' href='https://fatcatapps.com/easypricingtables/' target='\_blank'>Upgrade Now</a></p> |
| [434](#L434) |  |
| [435](#L435) | </div> |
| [436](#L436) | </div> |
| [437](#L437) | <?php } else { ?> |
| [438](#L438) | <p><?php esc\_html\_e( 'Problems, Suggestions?', 'easy-pricing-tables' ) ?> |
| [439](#L439) | <a href="https://fatcatapps.com/support/" target="\_blank"><?php esc\_html\_e( 'Get support', 'easy-pricing-tables' ) ?></a> | |
| [440](#L440) | <a href="https://fatcatapps.com/article-categories/easy-pricing-tables/" target="\_blank"><?php esc\_html\_e( 'Knowledge Base', 'easy-pricing-tables' ) ?></a> | |
| [441](#L441) | <a href="https://youtu.be/iU3mC8vXKt8" target="\_blank"><?php esc\_html\_e( 'Watch Demo', 'easy-pricing-tables' ) ?></a> |
| [442](#L442) | <?php |
| [443](#L443) | $listTable = new EPT3\_List\_Table(); |
| [444](#L444) | $listTable->prepare\_items(); |
| [445](#L445) | $listTable->display(); |
| [446](#L446) | ?> |
| [447](#L447) | </p> |
| [448](#L448) | <?php } ?> |
| [449](#L449) | </div> |
| [450](#L450) | </form> |
| [451](#L451) | <?php |
| [452](#L452) | } |
| [453](#L453) |  |
| [454](#L454) | function fca\_ept\_get\_woo\_products\_ajax(){ |
| [455](#L455) |  |
| [456](#L456) | if( function\_exists( 'fca\_ept\_get\_woo\_products' ) ){ |
| [457](#L457) | wp\_send\_json\_success( fca\_ept\_get\_woo\_products() ); |
| [458](#L458) | } |
| [459](#L459) | } |
| [460](#L460) | add\_action( 'wp\_ajax\_fca\_ept\_get\_woo\_products\_ajax', 'fca\_ept\_get\_woo\_products\_ajax' ); |
| [461](#L461) |  |
| [462](#L462) | //USED TO HELP RENDER FINAL TABLES |
| [463](#L463) | function fca\_ept\_get\_product\_data( $column, $toggle, $prop ){ |
| [464](#L464) |  |
| [465](#L465) | // if we have woo integration and the current column is linked to a product |
| [466](#L466) | $wooproduct = function\_exists( 'fca\_ept\_get\_woo\_products' ) && !empty( $column['wooProductID' . $toggle] ) ? $column['wooProductID' . $toggle] : ''; |
| [467](#L467) |  |
| [468](#L468) | switch ( $prop ){ |
| [469](#L469) |  |
| [470](#L470) | case 'plan': |
| [471](#L471) | if ( $wooproduct ){ |
| [472](#L472) | return $column['useCustomWooTitle' . $toggle] ? $column['useCustomWooTitle' . $toggle] : fca\_ept\_get\_woo\_products( $wooproduct )['title']; |
| [473](#L473) | } |
| [474](#L474) | return empty( $column['planText' . $toggle] ) ? '' : $column['planText' . $toggle]; |
| [475](#L475) | case 'image': |
| [476](#L476) | if ( $wooproduct ){ |
| [477](#L477) | return empty( fca\_ept\_get\_woo\_products( $wooproduct )['image'] ) ? '' : fca\_ept\_get\_woo\_products( $wooproduct )['image']; |
| [478](#L478) | } |
| [479](#L479) | if ( !empty( $column['planImage'] ) ){ |
| [480](#L480) | return $column['planImage']; |
| [481](#L481) | } |
| [482](#L482) | return null; |
| [483](#L483) | case 'price': |
| [484](#L484) | if ( $wooproduct ){ |
| [485](#L485) | return fca\_ept\_get\_woo\_products( $wooproduct )['price']; |
| [486](#L486) | } |
| [487](#L487) | return empty( $column['priceText' . $toggle] ) ? '' : $column['priceText' . $toggle]; |
| [488](#L488) | case 'url': |
| [489](#L489) | if ( $wooproduct ){ |
| [490](#L490) | return fca\_ept\_get\_woo\_products( $wooproduct )['url']; |
| [491](#L491) | } |
| [492](#L492) | return empty( $column['buttonURL' . $toggle] ) ? '' : do\_shortcode( $column['buttonURL' . $toggle] ); |
| [493](#L493) |  |
| [494](#L494) | default: |
| [495](#L495) | return ''; |
| [496](#L496) | } |
| [497](#L497) |  |
| [498](#L498) | } |
| [499](#L499) |  |
| [500](#L500) | function fca\_ept\_clone\_table( $to\_duplicate ) { |
| [501](#L501) |  |
| [502](#L502) | $post = get\_post( $to\_duplicate ); |
| [503](#L503) |  |
| [504](#L504) | if (isset( $post ) && $post != null ) { |
| [505](#L505) |  |
| [506](#L506) | global $wpdb; |
| [507](#L507) |  |
| [508](#L508) | $args = array( |
| [509](#L509) | 'post\_content'   => $post->post\_type === 'wp\_block' ? wp\_slash( $post->post\_content ) : $post->post\_content, |
| [510](#L510) | 'post\_name'      => '', |
| [511](#L511) | 'post\_status'    => 'publish', |
| [512](#L512) | 'post\_title'     => $post->post\_title . ' copy', |
| [513](#L513) | 'post\_type'      => $post->post\_type, |
| [514](#L514) | ); |
| [515](#L515) | $new\_post\_id = wp\_insert\_post( $args ); |
| [516](#L516) |  |
| [517](#L517) | $post\_meta\_infos = $wpdb->get\_results( $wpdb->prepare("SELECT meta\_key, meta\_value FROM %i WHERE post\_id = %d", $wpdb->postmeta, $to\_duplicate ) ); |
| [518](#L518) |  |
| [519](#L519) | if ( count( $post\_meta\_infos ) ) { |
| [520](#L520) |  |
| [521](#L521) | $sql\_query = "INSERT INTO $wpdb->postmeta (post\_id, meta\_key, meta\_value) "; |
| [522](#L522) |  |
| [523](#L523) | foreach ($post\_meta\_infos as $meta\_info) { |
| [524](#L524) |  |
| [525](#L525) | $meta\_key = $meta\_info->meta\_key; |
| [526](#L526) | if ( $meta\_key == '\_wp\_old\_slug' ) continue; |
| [527](#L527) | $meta\_value = addslashes($meta\_info->meta\_value); |
| [528](#L528) | $sql\_query\_sel[]= "SELECT $new\_post\_id, '$meta\_key', '$meta\_value'"; |
| [529](#L529) | } |
| [530](#L530) |  |
| [531](#L531) | $sql\_query.= implode(" UNION ALL ", $sql\_query\_sel); |
| [532](#L532) |  |
| [533](#L533) | $wpdb->query( $sql\_query ); |
| [534](#L534) | } |
| [535](#L535) |  |
| [536](#L536) | echo "<script>window.location='" . esc\_url( admin\_url( 'post.php' ) ) . "?post=" . esc\_attr( $new\_post\_id ) . "&action=edit" . "'</script>"; |
| [537](#L537) | exit; |
| [538](#L538) | } |
| [539](#L539) |  |
| [540](#L540) | } |
| [541](#L541) |  |
| [542](#L542) | function fca\_ept\_block\_admin\_notice() { |
| [543](#L543) | $current\_page = empty( $\_GET['page'] ) ? '' : sanitize\_text\_field( wp\_unslash( $\_GET['page'] ) ); |
| [544](#L544) | $action = empty( $\_GET['action'] ) ? false : sanitize\_text\_field( wp\_unslash( $\_GET['action'] ) ); |
| [545](#L545) |  |
| [546](#L546) | if ( $current\_page === 'ept3-list' && $action === 'trash'  ){ |
| [547](#L547) | echo '<div id="fca-ept-setup-notice" class="notice notice-success is-dismissible">'; |
| [548](#L548) | echo '<p>' . esc\_attr\_\_( "Pricing table deleted successfully.", 'easy-pricing-tables' ) . "</p>" ; |
| [549](#L549) | echo '</div>'; |
| [550](#L550) | } |
| [551](#L551) |  |
| [552](#L552) | } |
| [553](#L553) | add\_action( 'admin\_notices', 'fca\_ept\_block\_admin\_notice' ); |
| [554](#L554) |  |
| [555](#L555) | function fca\_ept\_match\_heights\_js( $attributes ) { |
| [556](#L556) | $matchHeights = empty( $attributes['matchHeightsToggle'] ) ? false : true; |
| [557](#L557) | $table\_id = empty( $attributes['tableID'] ) ? false : $attributes['tableID']; |
| [558](#L558) |  |
| [559](#L559) | if ( $matchHeights && $table\_id ) { |
| [560](#L560) |  |
| [561](#L561) | $thisTableID = "#fca-ept-table-$table\_id"; |
| [562](#L562) |  |
| [563](#L563) | return "<script id='ept-$table\_id-matchheight'> |
| [564](#L564) | var thisTableID = '$thisTableID'; |
| [565](#L565) | var imageDivs = document.querySelectorAll( thisTableID + ' .fca-ept-plan-image img' ) |
| [566](#L566) | for( var i = 0; i < imageDivs.length; i++ ) { |
| [567](#L567) | imageDivs[i].addEventListener('load', function(){ |
| [568](#L568) | var imageDivs = document.querySelectorAll( thisTableID + ' .fca-ept-plan-image img' ) |
| [569](#L569) | var shortestImageHeight = 2147483647 |
| [570](#L570) | for( var i = 0; i < imageDivs.length; i++ ) { |
| [571](#L571) | imageDivs[i].style.maxHeight = 'none' |
| [572](#L572) | if ( imageDivs[i].offsetHeight > 0 && imageDivs[i].offsetHeight < shortestImageHeight ) { |
| [573](#L573) | shortestImageHeight = imageDivs[i].offsetHeight |
| [574](#L574) | } |
| [575](#L575) | } |
| [576](#L576) | //SET IMAGE DIV CSS |
| [577](#L577) | for( var i = 0; i < imageDivs.length; i++ ) { |
| [578](#L578) | imageDivs[i].style.maxHeight = shortestImageHeight + 'px' |
| [579](#L579) | } |
| [580](#L580) |  |
| [581](#L581) | }); |
| [582](#L582) | } |
| [583](#L583) |  |
| [584](#L584) | </script>"; |
| [585](#L585) | } |
| [586](#L586) |  |
| [587](#L587) | return; |
| [588](#L588) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/easy-pricing-tables/trunk/includes/ept-block.php?format=txt)
* [Original Format](/export/3220192/easy-pricing-tables/trunk/includes/ept-block.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_7fa34403_20250110_123009.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Feasy-pricing-tables%2Ftrunk%2Fincludes%2Fnotices%2Fnotices.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/easy-pricing-tables/trunk/includes/notices/notices.php?rev=3175380 "Revision 3175380")
* Next Revision →
* [Blame](/browser/easy-pricing-tables/trunk/includes/notices/notices.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/easy-pricing-tables/trunk/includes/notices/notices.php)

---

# [source:](/browser?order=name "Go to repository root") [easy-pricing-tables](/browser/easy-pricing-tables?order=name "View easy-pricing-tables")/[trunk](/browser/easy-pricing-tables/trunk?order=name "View trunk")/[includes](/browser/easy-pricing-tables/trunk/includes?order=name "View includes")/[notices](/browser/easy-pricing-tables/trunk/includes/notices?order=name "View notices")/[notices.php](/browser/easy-pricing-tables/trunk/includes/notices/notices.php?order=name "View notices.php")

View diff against:

View revision:

| [Last change](/changeset/3188461/easy-pricing-tables/trunk/includes/notices/notices.php "View differences") on this file was [3188461](/changeset/3188461/ "View changeset 3188461"), checked in by RyanNovotny, [2 months ago](/timeline?from=2024-11-14T09%3A07%3A10Z&precision=second "See timeline at 11/14/2024 09:07:10 AM") |
| --- |
| v4.0.0 |
| **File size:** 7.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | function fca\_ept\_admin\_review\_notice() { |
| [4](#L4) |  |
| [5](#L5) | $action = empty( $\_GET['fca\_ept\_review\_notice'] ) ? false : sanitize\_text\_field( wp\_unslash( $\_GET['fca\_ept\_review\_notice'] ) ); |
| [6](#L6) |  |
| [7](#L7) | if( $action ) { |
| [8](#L8) |  |
| [9](#L9) | $nonce = empty( $\_GET['fca\_ept\_nonce'] ) ? false : sanitize\_text\_field( wp\_unslash( $\_GET['fca\_ept\_nonce'] ) ); |
| [10](#L10) | $nonceVerified = wp\_verify\_nonce( $nonce, 'fca\_ept\_leave\_review' ); |
| [11](#L11) | if( $nonceVerified == false ) { |
| [12](#L12) | wp\_die( "Unauthorized. Please try logging in again." ); |
| [13](#L13) | } |
| [14](#L14) |  |
| [15](#L15) | update\_option( 'dh\_ptp\_show\_review\_notice', false ); |
| [16](#L16) | if( $action == 'review' ) { |
| [17](#L17) | echo "<script>document.location='https://wordpress.org/support/plugin/easy-pricing-tables/reviews/'</script>"; |
| [18](#L18) | } |
| [19](#L19) |  |
| [20](#L20) | if( $action == 'later' ) { |
| [21](#L21) | //MAYBE MAKE SURE ITS NOT ALREADY SET |
| [22](#L22) | if( wp\_next\_scheduled( 'fca\_ept\_schedule\_review\_notice' ) == false ) { |
| [23](#L23) | wp\_schedule\_single\_event( time() + 30 \* DAY\_IN\_SECONDS, 'fca\_ept\_schedule\_review\_notice' ); |
| [24](#L24) | } |
| [25](#L25) | } |
| [26](#L26) |  |
| [27](#L27) | if( $action == 'dismiss' ) { |
| [28](#L28) | //DO NOTHING |
| [29](#L29) | } |
| [30](#L30) | } |
| [31](#L31) |  |
| [32](#L32) | $show\_review\_option = get\_option( 'dh\_ptp\_show\_review\_notice', null ); |
| [33](#L33) | if ( $show\_review\_option === null ) { |
| [34](#L34) |  |
| [35](#L35) | //MAYBE MAKE SURE ITS NOT ALREADY SET |
| [36](#L36) | if( wp\_next\_scheduled( 'fca\_ept\_schedule\_review\_notice' ) == false ) { |
| [37](#L37) | wp\_schedule\_single\_event( time() + 30 \* DAY\_IN\_SECONDS, 'fca\_ept\_schedule\_review\_notice' ); |
| [38](#L38) | } |
| [39](#L39) | add\_option( 'dh\_ptp\_show\_review\_notice', false ); |
| [40](#L40) | } |
| [41](#L41) |  |
| [42](#L42) | if( $show\_review\_option ) { |
| [43](#L43) |  |
| [44](#L44) | $nonce = wp\_create\_nonce( 'fca\_ept\_leave\_review' ); |
| [45](#L45) | $review\_url = add\_query\_arg( array( 'fca\_ept\_review\_notice' => 'review', 'fca\_ept\_nonce' => $nonce ) ); |
| [46](#L46) | $postpone\_url = add\_query\_arg( array( 'fca\_ept\_review\_notice' => 'later', 'fca\_ept\_nonce' => $nonce ) ); |
| [47](#L47) | $forever\_dismiss\_url = add\_query\_arg( array( 'fca\_ept\_review\_notice' => 'dismiss', 'fca\_ept\_nonce' => $nonce ) ); |
| [48](#L48) |  |
| [49](#L49) | echo '<div id="fca-ept-review-notice" class="notice notice-success is-dismissible" style="padding-bottom: 8px; padding-top: 8px;">'; |
| [50](#L50) |  |
| [51](#L51) | echo '<p>' . esc\_html\_\_( "Hi! You've been using Easy Pricing Tables Free for a while now, so who better to ask for a review than you? Would you please mind leaving us one? It really helps us a lot!", 'easy-pricing-tables' ) . '</p>'; |
| [52](#L52) |  |
| [53](#L53) | echo "<a href='" . esc\_url( $review\_url ) . "' class='button button-primary' style='margin-top: 2px;'>" . esc\_html\_\_( 'Leave review', 'easy-pricing-tables' ) . "</a> "; |
| [54](#L54) | echo "<a style='position: relative; top: 10px; left: 7px;' href='" . esc\_url( $postpone\_url ) . "' >" . esc\_html\_\_( 'Maybe later', 'easy-pricing-tables' ) . "</a> "; |
| [55](#L55) | echo "<a style='position: relative; top: 10px; left: 16px;' href='" . esc\_url( $forever\_dismiss\_url ) . "' >" . esc\_html\_\_( 'No thank you', 'easy-pricing-tables' ) . "</a> "; |
| [56](#L56) | echo '<br style="clear:both">'; |
| [57](#L57) |  |
| [58](#L58) | echo '</div>'; |
| [59](#L59) |  |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | } |
| [63](#L63) | add\_action( 'admin\_notices', 'fca\_ept\_admin\_review\_notice' ); |
| [64](#L64) |  |
| [65](#L65) | function fca\_ept\_enable\_review\_notice(){ |
| [66](#L66) | update\_option( 'dh\_ptp\_show\_review\_notice', true ); |
| [67](#L67) | wp\_clear\_scheduled\_hook( 'fca\_ept\_schedule\_review\_notice' ); |
| [68](#L68) | } |
| [69](#L69) | add\_action ( 'fca\_ept\_schedule\_review\_notice', 'fca\_ept\_enable\_review\_notice' ); |
| [70](#L70) |  |
| [71](#L71) | //DEACTIVATION SURVEY |
| [72](#L72) | function fca\_ept\_admin\_deactivation\_survey( $hook ) { |
| [73](#L73) | if ( $hook === 'plugins.php' ) { |
| [74](#L74) |  |
| [75](#L75) | ob\_start(); ?> |
| [76](#L76) | <div id="fca-deactivate" style="position: fixed; left: 232px; top: 191px; border: 1px solid #979797; background-color: white; z-index: 9999; padding: 12px; max-width: 669px;"> |
| [77](#L77) | <h3 style="font-size: 14px; border-bottom: 1px solid #979797; padding-bottom: 8px; margin-top: 0;"><?php esc\_html\_e( 'Sorry to see you go', 'easy-pricing-tables' ) ?></h3> |
| [78](#L78) | <p><?php esc\_html\_e( 'Hi, this is David, the creator of Easy Pricing Tables. Thanks so much for giving my plugin a try. I’m sorry that you didn’t love it.', 'easy-pricing-tables' ) ?> |
| [79](#L79) | </p> |
| [80](#L80) | <p><?php esc\_html\_e( 'I have a quick question that I hope you’ll answer to help us make Easy Pricing Tables better: what made you deactivate?', 'easy-pricing-tables' ) ?> |
| [81](#L81) | </p> |
| [82](#L82) | <p><?php esc\_html\_e( 'You can leave me a message below. I’d really appreciate it.', 'easy-pricing-tables' ) ?> |
| [83](#L83) | </p> |
| [84](#L84) |  |
| [85](#L85) | <p><textarea style='width: 100%;' id='fca-ept-deactivate-textarea' placeholder='<?php esc\_attr\_e( 'What made you deactivate?', 'easy-pricing-tables' ) ?>'></textarea></p> |
| [86](#L86) |  |
| [87](#L87) | <div style='float: right;' id='fca-deactivate-nav'> |
| [88](#L88) | <button style='margin-right: 5px;' type='button' class='button button-secondary' id='fca-ept-deactivate-skip'><?php esc\_html\_e( 'Skip', 'easy-pricing-tables' ) ?></button> |
| [89](#L89) | <button type='button' class='button button-primary' id='fca-ept-deactivate-send'><?php esc\_html\_e( 'Send Feedback', 'easy-pricing-tables' ) ?></button> |
| [90](#L90) | </div> |
| [91](#L91) | </div> |
| [92](#L92) | <?php |
| [93](#L93) |  |
| [94](#L94) | $html = ob\_get\_clean(); |
| [95](#L95) |  |
| [96](#L96) | $data = array( |
| [97](#L97) | 'html' => $html, |
| [98](#L98) | 'nonce' => wp\_create\_nonce( 'fca\_ept\_uninstall\_nonce' ), |
| [99](#L99) | 'ajaxurl' => admin\_url( 'admin-ajax.php' ), |
| [100](#L100) | ); |
| [101](#L101) |  |
| [102](#L102) | wp\_enqueue\_script( 'fca\_ept\_deactivation\_js', PTP\_PLUGIN\_URL . '/includes/notices/deactivation.js', false, PTP\_PLUGIN\_VER, true ); |
| [103](#L103) | wp\_localize\_script( 'fca\_ept\_deactivation\_js', "fca\_ptp", $data ); |
| [104](#L104) | } |
| [105](#L105) |  |
| [106](#L106) |  |
| [107](#L107) | } |
| [108](#L108) | add\_action( 'admin\_enqueue\_scripts', 'fca\_ept\_admin\_deactivation\_survey' ); |
| [109](#L109) |  |
| [110](#L110) | //UNINSTALL ENDPOINT |
| [111](#L111) | function fca\_ptp\_uninstall\_ajax() { |
| [112](#L112) |  |
| [113](#L113) | $msg = empty( $\_REQUEST['msg'] ) ? '' : sanitize\_text\_field( wp\_unslash( $\_REQUEST['msg'] ) ); |
| [114](#L114) | $nonce = empty( $\_REQUEST['nonce'] ) ? '' : sanitize\_text\_field( wp\_unslash( $\_REQUEST['nonce'] ) ); |
| [115](#L115) | $nonceVerified = wp\_verify\_nonce( $nonce, 'fca\_ept\_uninstall\_nonce') == 1; |
| [116](#L116) |  |
| [117](#L117) | if ( $nonceVerified && !empty( $msg ) ) { |
| [118](#L118) |  |
| [119](#L119) | $url =  "https://api.fatcatapps.com/api/feedback.php"; |
| [120](#L120) |  |
| [121](#L121) | $body = array( |
| [122](#L122) | 'product' => 'pricingtables', |
| [123](#L123) | 'msg' => $msg, |
| [124](#L124) | ); |
| [125](#L125) |  |
| [126](#L126) | $args = array( |
| [127](#L127) | 'timeout'     => 15, |
| [128](#L128) | 'redirection' => 15, |
| [129](#L129) | 'body' => wp\_json\_encode( $body ), |
| [130](#L130) | 'blocking'    => true, |
| [131](#L131) | 'sslverify'   => false |
| [132](#L132) | ); |
| [133](#L133) |  |
| [134](#L134) | $return = wp\_remote\_post( $url, $args ); |
| [135](#L135) |  |
| [136](#L136) | wp\_send\_json\_success( $msg ); |
| [137](#L137) |  |
| [138](#L138) | } |
| [139](#L139) | wp\_send\_json\_error( $msg ); |
| [140](#L140) |  |
| [141](#L141) | } |
| [142](#L142) |  |
| [143](#L143) | add\_action( 'wp\_ajax\_fca\_ptp\_uninstall', 'fca\_ptp\_uninstall\_ajax' ); |
| [144](#L144) |  |
| [145](#L145) | function dh\_ptp\_upgrade\_to\_premium\_menu() |
| [146](#L146) | { |
| [147](#L147) | $page\_hook = add\_submenu\_page('edit.php?post\_type=easy-pricing-table', \_\_('Upgrade to Premium', 'easy-pricing-tables'), \_\_('Upgrade to Premium', 'easy-pricing-tables'), 'manage\_options', 'easy-pricing-tables-upgrade', 'dh\_ptp\_upgrade\_to\_premium'); |
| [148](#L148) | add\_action('load-' . $page\_hook , 'dh\_ptp\_upgrade\_ob\_start'); |
| [149](#L149) | } |
| [150](#L150) | add\_action('admin\_menu', 'dh\_ptp\_upgrade\_to\_premium\_menu'); |
| [151](#L151) |  |
| [152](#L152) | function dh\_ptp\_upgrade\_ob\_start() { |
| [153](#L153) | ob\_start(); |
| [154](#L154) | } |
| [155](#L155) |  |
| [156](#L156) | function dh\_ptp\_upgrade\_to\_premium() |
| [157](#L157) | { |
| [158](#L158) | wp\_redirect('https://fatcatapps.com/easypricingtables/?utm\_campaign=wp%2Bsubmenu&utm\_source=Easy%2BPricing%2BTables%2BFree&utm\_medium=plugin&utm\_content=v1', 301); |
| [159](#L159) | exit(); |
| [160](#L160) | } |
| [161](#L161) |  |
| [162](#L162) | function dh\_ptp\_upgrade\_to\_premium\_menu\_js() |
| [163](#L163) | { |
| [164](#L164) | ?> |
| [165](#L165) | <script type="text/javascript"> |
| [166](#L166) | jQuery(document).ready(function ($) { |
| [167](#L167) | $('a[href="edit.php?post\_type=easy-pricing-table&page=easy-pricing-tables-upgrade"]').on( 'click', function () { |
| [168](#L168) | $(this).attr('target', '\_blank') |
| [169](#L169) | }) |
| [170](#L170) | }) |
| [171](#L171) | </script> |
| [172](#L172) | <style> |
| [173](#L173) | a[href="edit.php?post\_type=easy-pricing-table&page=easy-pricing-tables-upgrade"] { |
| [174](#L174) | color: #6bbc5b !important; |
| [175](#L175) | } |
| [176](#L176) | a[href="edit.php?post\_type=easy-pricing-table&page=easy-pricing-tables-upgrade"]:hover { |
| [177](#L177) | color: #7ad368 !important; |
| [178](#L178) | } |
| [179](#L179) | </style> |
| [180](#L180) | <?php |
| [181](#L181) | } |
| [182](#L182) | add\_action( 'admin\_footer', 'dh\_ptp\_upgrade\_to\_premium\_menu\_js'); |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/easy-pricing-tables/trunk/includes/notices/notices.php?format=txt)
* [Original Format](/export/3220192/easy-pricing-tables/trunk/includes/notices/notices.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_69756efd_20250110_123010.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Pricing Tables WordPress Plugin – Easy Pricing Tables <= 3.2.5 - Reflected Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Pricing Tables WordPress Plugin – Easy Pricing Tables <= 3.2.5 - Reflected Cross-Site Scripting

6.1

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-8871](https://www.cve.org/CVERecord?id=CVE-2024-8871) |
| --- | --- |
| CVSS | 6.1 (Medium) |
| Publicly Published | October 29, 2024 |
| Last Updated | October 30, 2024 |
| Researcher | [vgo0](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/dale-mavers) |

### Description

The Pricing Tables WordPress Plugin – Easy Pricing Tables plugin for WordPress is vulnerable to Reflected Cross-Site Scripting due to the use of add\_query\_arg without appropriate escaping on the URL in all versions up to, and including, 3.2.5. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that execute if they can successfully trick a user into performing an action such as clicking on a link.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/easy-pricing-tables/trunk/includes/ept-block.php#L304)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/easy-pricing-tables/trunk/includes/notices/notices.php#L91)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Feasy-pricing-tables%2Fpricing-tables-wordpress-plugin-easy-pricing-tables-325-reflected-cross-site-scripting&t=Pricing%20Tables%20WordPress%20Plugin%20%E2%80%93%20Easy%20Pricing%20Tables%20%3C%3D%203.2.5%20-%20Reflected%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Feasy-pricing-tables%2Fpricing-tables-wordpress-plugin-easy-pricing-tables-325-reflected-cross-site-scripting&text=Pricing%20Tables%20WordPress%20Plugin%20%E2%80%93%20Easy%20Pricing%20Tables%20%3C%3D%203.2.5%20-%20Reflected%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Feasy-pricing-tables%2Fpricing-tables-wordpress-plugin-easy-pricing-tables-325-reflected-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for Pricing Tables WordPress Plugin – Easy Pricing Tables

#### [Pricing Tables WordPress Plugin – Easy Pricing Tables](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/easy-pricing-tables)

| Software Type | Plugin |
| --- | --- |
| Software Slug | easy-pricing-tables [(view on wordpress.org)](https://wordpress.org/plugins/easy-pricing-tables) |
| Patched? | Yes |
| Remediation | Update to version 3.2.6, or a newer patched version |
| Affected Version | * <= 3.2.5 |
| Patched Version | * 3.2.6 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation


